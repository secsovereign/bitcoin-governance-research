<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2016-07-10
 â€” 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2016-07-10' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:26 UTC</pre>
<pre><a href="/bitcoin-core-dev/2016-06-10">&lt;</a><span class='header'>    July 2016     </span><a href="/bitcoin-core-dev/2016-08-10">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;                <a class="" href="/bitcoin-core-dev/2016-07-01">1</a>  <a class="" href="/bitcoin-core-dev/2016-07-02">2</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2016-07-03">3</a>  <a class="" href="/bitcoin-core-dev/2016-07-04">4</a>  <a class="" href="/bitcoin-core-dev/2016-07-05">5</a>  <a class="" href="/bitcoin-core-dev/2016-07-06">6</a>  <a class="" href="/bitcoin-core-dev/2016-07-07">7</a>  <a class="" href="/bitcoin-core-dev/2016-07-08">8</a>  <a class="" href="/bitcoin-core-dev/2016-07-09">9</a>  &#x000A;<a class="current" href="/bitcoin-core-dev/2016-07-10">10</a> <a class="" href="/bitcoin-core-dev/2016-07-11">11</a> <a class="" href="/bitcoin-core-dev/2016-07-12">12</a> <a class="" href="/bitcoin-core-dev/2016-07-13">13</a> <a class="" href="/bitcoin-core-dev/2016-07-14">14</a> <a class="" href="/bitcoin-core-dev/2016-07-15">15</a> <a class="" href="/bitcoin-core-dev/2016-07-16">16</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2016-07-17">17</a> <a class="" href="/bitcoin-core-dev/2016-07-18">18</a> <a class="" href="/bitcoin-core-dev/2016-07-19">19</a> <a class="" href="/bitcoin-core-dev/2016-07-20">20</a> <a class="" href="/bitcoin-core-dev/2016-07-21">21</a> <a class="" href="/bitcoin-core-dev/2016-07-22">22</a> <a class="" href="/bitcoin-core-dev/2016-07-23">23</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2016-07-24">24</a> <a class="" href="/bitcoin-core-dev/2016-07-25">25</a> <a class="" href="/bitcoin-core-dev/2016-07-26">26</a> <a class="" href="/bitcoin-core-dev/2016-07-27">27</a> <a class="" href="/bitcoin-core-dev/2016-07-28">28</a> <a class="" href="/bitcoin-core-dev/2016-07-29">29</a> <a class="" href="/bitcoin-core-dev/2016-07-30">30</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2016-07-31">31</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1468108800' id='478387'>
<a class='timestamp' href='#478387'><time timestamp='2016-07-10T00:00:00Z'>00:00</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
I could make use of a breakdown by age fwiw
<br>
</div>

<div class='talk op-msg' data-timestamp='1468108860' id='478388'>
<a class='timestamp' href='#478388'><time timestamp='2016-07-10T00:01:00Z'>00:01</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yeah, i&#x27;ll create such a graph too
<br>
</div>

<div class='talk op-msg' data-timestamp='1468108860' id='478389'>
<a class='timestamp' href='#478389'><time timestamp='2016-07-10T00:01:00Z'>00:01</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
should be easier as it doesn&#x27;t require reindexing
<br>
</div>

<div class='talk op-msg' data-timestamp='1468108860' id='478390'>
<a class='timestamp' href='#478390'><time timestamp='2016-07-10T00:01:00Z'>00:01</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I&#x27;m thinking it would be interesting to solve the following optimization problem:  given a set of utxo size, birth/death times, value.  Find the coefficients of multinomial a f(value,size,age_in_blocks) such that a fixed cache of size N with retention sorted by f() has the highest hitrate (item still in cache at utxo death).
<br>
</div>

<div class='talk op-msg' data-timestamp='1468108920' id='478391'>
<a class='timestamp' href='#478391'><time timestamp='2016-07-10T00:02:00Z'>00:02</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: thanks!
<br>
</div>

<div class='talk op-msg' data-timestamp='1468108980' id='478392'>
<a class='timestamp' href='#478392'><time timestamp='2016-07-10T00:03:00Z'>00:03</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
gmaxwell: though note that you probably can&#x27;t bake something like that into a consensus thing like txo commitments w/ utxo cache, as it changes peoples&#x27; behavior...
<br>
</div>

<div class='talk op-msg' data-timestamp='1468108980' id='478393'>
<a class='timestamp' href='#478393'><time timestamp='2016-07-10T00:03:00Z'>00:03</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
gmaxwell: potentially still useful for local optimisation though
<br>
</div>

<div class='talk op-msg' data-timestamp='1468109280' id='478394'>
<a class='timestamp' href='#478394'><time timestamp='2016-07-10T00:08:00Z'>00:08</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
petertodd: well you can to some extent, for example, having a different cache policy at some threshold, like 1BTC... 21 million txo is the absolute maximum number of outputs at 1BTC+ so there is a pretty strong upper bound on whatever impact you could have on encouraging people to make utxo at or over 1 BTC. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1468109400' id='478395'>
<a class='timestamp' href='#478395'><time timestamp='2016-07-10T00:10:00Z'>00:10</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
gmaxwell: I mean, if you take the coefficients from prior data, they&#x27;re likely to be wrong after people change their behavior - if you use coefficients, you need to have a different rational is all I&#x27;m saying
<br>
</div>

<div class='talk op-msg' data-timestamp='1468109400' id='478396'>
<a class='timestamp' href='#478396'><time timestamp='2016-07-10T00:10:00Z'>00:10</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
gmaxwell: keeping higher value UTXO&#x27;s in cache longer probably does make sense
<br>
</div>

<div class='talk op-msg' data-timestamp='1468109460' id='478397'>
<a class='timestamp' href='#478397'><time timestamp='2016-07-10T00:11:00Z'>00:11</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
yea sure.. the full answer isn&#x27;t probably that useful as a consensus rule
<br>
</div>

<div class='talk op-msg' data-timestamp='1468109460' id='478398'>
<a class='timestamp' href='#478398'><time timestamp='2016-07-10T00:11:00Z'>00:11</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
The part of the answer that tells you some value breakpoint(s) may be.
<br>
</div>

<div class='talk op-msg' data-timestamp='1468109520' id='478399'>
<a class='timestamp' href='#478399'><time timestamp='2016-07-10T00:12:00Z'>00:12</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
because even if they&#x27;re slightly wrong due to changing usage which they themselves incentivize, the whole prospect of having value relative retention is reasonable. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1468109580' id='478400'>
<a class='timestamp' href='#478400'><time timestamp='2016-07-10T00:13:00Z'>00:13</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
e.g. if age * value is a good scoring function on the past data, it probably is a robust one, which could be prudently used in consensus.
<br>
</div>

<div class='talk op-msg' data-timestamp='1468109640' id='478401'>
<a class='timestamp' href='#478401'><time timestamp='2016-07-10T00:14:00Z'>00:14</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
yup
<br>
</div>

<div class='talk op-msg' data-timestamp='1468109700' id='478402'>
<a class='timestamp' href='#478402'><time timestamp='2016-07-10T00:15:00Z'>00:15</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
or some polynomial on age * value.  Or really I think any degree multinomial on age and value is probably also okay.  Only size is one that is probably busted. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1468109700' id='478403'>
<a class='timestamp' href='#478403'><time timestamp='2016-07-10T00:15:00Z'>00:15</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
gmaxwell: speaking of, what approaches are good for writing polynomials in consensus critical code? (I wonder if someone has a writeup on that)
<br>
</div>

<div class='talk op-msg' data-timestamp='1468110300' id='478404'>
<a class='timestamp' href='#478404'><time timestamp='2016-07-10T00:25:00Z'>00:25</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
So-- if possible, probably best by converting it to a simple segmented linear approximation. But failing that, I would assume fixed point with horner&#x27;s method (see wikipedia) which is more computationally efficient and has better numerical properties than the naieve way you&#x27;d compute it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1468110420' id='478405'>
<a class='timestamp' href='#478405'><time timestamp='2016-07-10T00:27:00Z'>00:27</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
this is where you write is as a c0 + x * (c1 + x * (c2 + x *....
<br>
</div>

<div class='talk op-msg' data-timestamp='1468110480' id='478406'>
<a class='timestamp' href='#478406'><time timestamp='2016-07-10T00:28:00Z'>00:28</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
petertodd: there are all sorts of &#x27;consensus critical&#x27; polynomials in opus (ones where a discrepency in the integer value returned causes a total entropy decoding failure)-- they never were a big issue, they&#x27;re written like that, and we tested them exhaustively. no biggie.
<br>
</div>

<div class='talk op-msg' data-timestamp='1468110660' id='478407'>
<a class='timestamp' href='#478407'><time timestamp='2016-07-10T00:31:00Z'>00:31</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
gmaxwell: cool, thanks. re: exhaustively, I assume that&#x27;s 16bit ints at most?
<br>
</div>

<div class='talk op-msg' data-timestamp='1468110660' id='478408'>
<a class='timestamp' href='#478408'><time timestamp='2016-07-10T00:31:00Z'>00:31</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
no, 32 bits.
<br>
</div>

<div class='talk op-msg' data-timestamp='1468110720' id='478409'>
<a class='timestamp' href='#478409'><time timestamp='2016-07-10T00:32:00Z'>00:32</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
gmaxwell: huh, how does that work?
<br>
</div>

<div class='talk op-msg' data-timestamp='1468110720' id='478410'>
<a class='timestamp' href='#478410'><time timestamp='2016-07-10T00:32:00Z'>00:32</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
for some function thats just doing some multiplies and adds, trying all 32 bit inputs isn&#x27;t a big deal.
<br>
</div>

<div class='talk op-msg' data-timestamp='1468110720' id='478411'>
<a class='timestamp' href='#478411'><time timestamp='2016-07-10T00:32:00Z'>00:32</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
gmaxwell: wait, as in 2^64?
<br>
</div>

<div class='talk op-msg' data-timestamp='1468110780' id='478412'>
<a class='timestamp' href='#478412'><time timestamp='2016-07-10T00:33:00Z'>00:33</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i assume it&#x27;s a function with 1 input :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1468110780' id='478413'>
<a class='timestamp' href='#478413'><time timestamp='2016-07-10T00:33:00Z'>00:33</time></a>
&lt;<span class='nick nick-4'> kanzure</span>&gt;
<a href="https://github.com/xiph/opus/blob/58dbcf23f3aecfb9c06abaef590d01bb3dba7a5a/celt/cwrs.c#L164" class="link" target="_blank">https://github.com/xiph/opus/blob/58dbcf23f3aecfb9c06abaef590d01bb3dba7a5a/celt/cwrs.c#L164</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1468110780' id='478414'>
<a class='timestamp' href='#478414'><time timestamp='2016-07-10T00:33:00Z'>00:33</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
no, as in computing f(x) where x is some 32 bit value and x is a single variable polynomial in x.  :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1468110840' id='478415'>
<a class='timestamp' href='#478415'><time timestamp='2016-07-10T00:34:00Z'>00:34</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
gmaxwell: yeah, that makes a lot more sense :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1468110840' id='478416'>
<a class='timestamp' href='#478416'><time timestamp='2016-07-10T00:34:00Z'>00:34</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
gmaxwell: I&#x27;m writing a spec for dex, and it&#x27;s interesting how you can make an argument for only supporting 16-bit ints natively, as you can exhaustively test them
<br>
</div>

<div class='talk op-msg' data-timestamp='1468110840' id='478417'>
<a class='timestamp' href='#478417'><time timestamp='2016-07-10T00:34:00Z'>00:34</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
yes, indeed that is a bit normative polynomial, though I think the current CWRS code there mostly uses tables.
<br>
</div>

<div class='talk op-msg' data-timestamp='1468110960' id='478418'>
<a class='timestamp' href='#478418'><time timestamp='2016-07-10T00:36:00Z'>00:36</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
petertodd: thats something you could argue, though it would have to be weighed against footgun and bloat risks.
<br>
</div>

<div class='talk op-msg' data-timestamp='1468110960' id='478419'>
<a class='timestamp' href='#478419'><time timestamp='2016-07-10T00:36:00Z'>00:36</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(though I suppose I could make a anti-footgun argument-- the user is much more likely to <u>_know_</u> the range of the type is limited, when it&#x27;s so limited they are constantly forced to deal with it)
<br>
</div>

<div class='talk op-msg' data-timestamp='1468111020' id='478420'>
<a class='timestamp' href='#478420'><time timestamp='2016-07-10T00:37:00Z'>00:37</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
over and underflow can be defined as script failure.
<br>
</div>

<div class='talk op-msg' data-timestamp='1468111020' id='478421'>
<a class='timestamp' href='#478421'><time timestamp='2016-07-10T00:37:00Z'>00:37</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
gmaxwell: yeah, it&#x27;d only be practical if you can write reasonably efficient n-bit add/multiply/etc. routines, and make them part of the built-in library
<br>
</div>

<div class='talk op-msg' data-timestamp='1468111080' id='478422'>
<a class='timestamp' href='#478422'><time timestamp='2016-07-10T00:38:00Z'>00:38</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
gmaxwell: yes, I&#x27;m planning on under/overflow to be a failure condition (probably with wrapping and/or overflow variants)
<br>
</div>

<div class='talk op-msg' data-timestamp='1468111080' id='478423'>
<a class='timestamp' href='#478423'><time timestamp='2016-07-10T00:38:00Z'>00:38</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
petertodd: also a commonly interesting case is things like where one input has small range, and that doesn&#x27;t really impede exaustive testing.
<br>
</div>

<div class='talk op-msg' data-timestamp='1468111080' id='478424'>
<a class='timestamp' href='#478424'><time timestamp='2016-07-10T00:38:00Z'>00:38</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
e.g. U32 * U8.  It&#x27;s really common in software to take arbritary numbers and multiply or divide them by small constants.
<br>
</div>

<div class='talk op-msg' data-timestamp='1468111080' id='478425'>
<a class='timestamp' href='#478425'><time timestamp='2016-07-10T00:38:00Z'>00:38</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
gmaxwell: so, what I noted in my draft spec doc, is that interestingly economicly relevant numbers often have quite large ranges: e.g. coin value
<br>
</div>

<div class='talk op-msg' data-timestamp='1468111140' id='478426'>
<a class='timestamp' href='#478426'><time timestamp='2016-07-10T00:39:00Z'>00:39</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
like computing 2/3 of a coin value. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1468111140' id='478427'>
<a class='timestamp' href='#478427'><time timestamp='2016-07-10T00:39:00Z'>00:39</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
gmaxwell: though, consensus critical economic use-cases just need summation, not multiplication/division (usually)
<br>
</div>

<div class='talk op-msg' data-timestamp='1468111200' id='478428'>
<a class='timestamp' href='#478428'><time timestamp='2016-07-10T00:40:00Z'>00:40</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
petertodd: but but demurrage
<br>
</div>

<div class='talk op-msg' data-timestamp='1468111200' id='478429'>
<a class='timestamp' href='#478429'><time timestamp='2016-07-10T00:40:00Z'>00:40</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
for example, you may want to compute input * 2/3, and input - input * 2/3.  
<br>
</div>

<div class='talk op-msg' data-timestamp='1468111200' id='478430'>
<a class='timestamp' href='#478430'><time timestamp='2016-07-10T00:40:00Z'>00:40</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
for value splits in a contract.
<br>
</div>

<div class='talk op-msg' data-timestamp='1468111200' id='478431'>
<a class='timestamp' href='#478431'><time timestamp='2016-07-10T00:40:00Z'>00:40</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
and input is 64 bits.
<br>
</div>

<div class='talk op-msg' data-timestamp='1468111260' id='478432'>
<a class='timestamp' href='#478432'><time timestamp='2016-07-10T00:41:00Z'>00:41</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: ok, austrian economics... :P
<br>
</div>

<div class='talk op-msg' data-timestamp='1468111320' id='478433'>
<a class='timestamp' href='#478433'><time timestamp='2016-07-10T00:42:00Z'>00:42</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
gmaxwell: well, once you talk about contracts more genreally, you get interest calculations, which gets very complex...
<br>
</div>

<div class='talk op-msg' data-timestamp='1468111380' id='478434'>
<a class='timestamp' href='#478434'><time timestamp='2016-07-10T00:43:00Z'>00:43</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
polynomial approximations of interest calculations generally work fine over limited ranges.
<br>
</div>

<div class='talk op-msg' data-timestamp='1468111380' id='478435'>
<a class='timestamp' href='#478435'><time timestamp='2016-07-10T00:43:00Z'>00:43</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
gmaxwell: but I&#x27;m assuming sane contracts would generally only need a few calculations along those lines, so slower approaches should be ok
<br>
</div>

<div class='talk op-msg' data-timestamp='1468111380' id='478436'>
<a class='timestamp' href='#478436'><time timestamp='2016-07-10T00:43:00Z'>00:43</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
yeah, polynomial approx being one approach
<br>
</div>

<div class='talk op-msg' data-timestamp='1468111440' id='478437'>
<a class='timestamp' href='#478437'><time timestamp='2016-07-10T00:44:00Z'>00:44</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
in any case, it&#x27;s looking like having reasonable type checking is a way harder and more complex problem :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1468111500' id='478438'>
<a class='timestamp' href='#478438'><time timestamp='2016-07-10T00:45:00Z'>00:45</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
one nice way for exponential functions is to use CLZ to get the integer part of a base 2 log, and then use a polynomial correction.
<br>
</div>

<div class='talk op-msg' data-timestamp='1468111500' id='478439'>
<a class='timestamp' href='#478439'><time timestamp='2016-07-10T00:45:00Z'>00:45</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
gmaxwell: CLZ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1468111500' id='478440'>
<a class='timestamp' href='#478440'><time timestamp='2016-07-10T00:45:00Z'>00:45</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
count leading zeroes
<br>
</div>

<div class='talk op-msg' data-timestamp='1468111500' id='478441'>
<a class='timestamp' href='#478441'><time timestamp='2016-07-10T00:45:00Z'>00:45</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: ah!
<br>
</div>

<div class='talk op-msg' data-timestamp='1468111500' id='478442'>
<a class='timestamp' href='#478442'><time timestamp='2016-07-10T00:45:00Z'>00:45</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
__builtin_clz
<br>
</div>

<div class='talk op-msg' data-timestamp='1468111740' id='478443'>
<a class='timestamp' href='#478443'><time timestamp='2016-07-10T00:49:00Z'>00:49</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
er actually its the log you want the clz for, for exp you just need to use the leading bits of the number. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1468111740' id='478444'>
<a class='timestamp' href='#478444'><time timestamp='2016-07-10T00:49:00Z'>00:49</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
<a href="https://github.com/xiph/opus/blob/58dbcf23f3aecfb9c06abaef590d01bb3dba7a5a/celt/mathops.h#L184" class="link" target="_blank">https://github.com/xiph/opus/blob/58dbcf23f3aecfb9c06abaef590d01bb3dba7a5a/celt/mathops.h#L184</a> is such an example. (of course to get to any other base for the exponential is just some scaling)
<br>
</div>

<div class='talk op-msg' data-timestamp='1468111800' id='478445'>
<a class='timestamp' href='#478445'><time timestamp='2016-07-10T00:50:00Z'>00:50</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
gmaxwell: a neat article to write would be numerical methods for consensus critical code :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1468111860' id='478446'>
<a class='timestamp' href='#478446'><time timestamp='2016-07-10T00:51:00Z'>00:51</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
&quot;Bounded memory, bounded CPU usage... and bounded errors&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1468111860' id='478447'>
<a class='timestamp' href='#478447'><time timestamp='2016-07-10T00:51:00Z'>00:51</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I think they mostly end up like numerical methods for fixed point realtime dsp.
<br>
</div>

<div class='talk op-msg' data-timestamp='1468111860' id='478448'>
<a class='timestamp' href='#478448'><time timestamp='2016-07-10T00:51:00Z'>00:51</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: lol, did chris send you a copy of my spec? :P
<br>
</div>

<div class='talk op-msg' data-timestamp='1468111860' id='478449'>
<a class='timestamp' href='#478449'><time timestamp='2016-07-10T00:51:00Z'>00:51</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
no
<br>
</div>

<div class='talk op-msg' data-timestamp='1468111860' id='478450'>
<a class='timestamp' href='#478450'><time timestamp='2016-07-10T00:51:00Z'>00:51</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
well, maybe he did, but i did not look at it
<br>
</div>

<div class='talk op-msg' data-timestamp='1468111860' id='478451'>
<a class='timestamp' href='#478451'><time timestamp='2016-07-10T00:51:00Z'>00:51</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: I mean, I have basically the exact same sentence in it - though no surprise, same problem :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1468111920' id='478452'>
<a class='timestamp' href='#478452'><time timestamp='2016-07-10T00:52:00Z'>00:52</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
gmaxwell: yeah, probably true
<br>
</div>

<div class='talk op-msg' data-timestamp='1468111920' id='478453'>
<a class='timestamp' href='#478453'><time timestamp='2016-07-10T00:52:00Z'>00:52</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
with perhaps some additional considerations for exhaustive testing and/or formal verification.
<br>
</div>

<div class='talk op-msg' data-timestamp='1468111980' id='478454'>
<a class='timestamp' href='#478454'><time timestamp='2016-07-10T00:53:00Z'>00:53</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
but yea, the other reason you exaustively test these approximations is to characterize the worst case error: <a href="https://github.com/xiph/opus/blob/58dbcf23f3aecfb9c06abaef590d01bb3dba7a5a/celt/mathops.c#L202" class="link" target="_blank">https://github.com/xiph/opus/blob/58dbcf23f3aecfb9c06abaef590d01bb3dba7a5a/celt/mathops.c#L202</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1468112040' id='478455'>
<a class='timestamp' href='#478455'><time timestamp='2016-07-10T00:54:00Z'>00:54</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
bbl, need a bigger battery...
<br>
</div>

<div class='talk op-msg' data-timestamp='1468112100' id='478456'>
<a class='timestamp' href='#478456'><time timestamp='2016-07-10T00:55:00Z'>00:55</time></a>
&lt;<span class='nick nick-5'> midnightmagic</span>&gt;
i wonder how heavy that special 9-cell thinkpad thing is
<br>
</div>

<div class='talk op-msg' data-timestamp='1468112940' id='478457'>
<a class='timestamp' href='#478457'><time timestamp='2016-07-10T01:09:00Z'>01:09</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
midnightmagic: doesn&#x27;t help that mine is a few years old - batteries wearing out
<br>
</div>

<div class='talk op-msg' data-timestamp='1468112940' id='478458'>
<a class='timestamp' href='#478458'><time timestamp='2016-07-10T01:09:00Z'>01:09</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
petertodd: protip, when buying a new laptop, buy an extra battery that fits... once your battery wears out they&#x27;ll be harder to find
<br>
</div>

<div class='talk op-msg' data-timestamp='1468113000' id='478459'>
<a class='timestamp' href='#478459'><time timestamp='2016-07-10T01:10:00Z'>01:10</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: good advice - though I&#x27;ve never actualy bought a laptop new
<br>
</div>

<div class='talk op-msg' data-timestamp='1468113000' id='478460'>
<a class='timestamp' href='#478460'><time timestamp='2016-07-10T01:10:00Z'>01:10</time></a>
&lt;<span class='nick nick-4'> * midnightmagic</span>&gt;
has no user-replaceable battery in his mbp. :(
<br>
</div>

<div class='talk op-msg' data-timestamp='1468113000' id='478461'>
<a class='timestamp' href='#478461'><time timestamp='2016-07-10T01:10:00Z'>01:10</time></a>
&lt;<span class='nick nick-5'> midnightmagic</span>&gt;
petertodd: why not?
<br>
</div>

<div class='talk op-msg' data-timestamp='1468113000' id='478462'>
<a class='timestamp' href='#478462'><time timestamp='2016-07-10T01:10:00Z'>01:10</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
midnightmagic: because I act like I&#x27;m a poor student :P
<br>
</div>

<div class='talk op-msg' data-timestamp='1468113120' id='478463'>
<a class='timestamp' href='#478463'><time timestamp='2016-07-10T01:12:00Z'>01:12</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
midnightmagic: I have a t520 right now, which I think is about four years old
<br>
</div>

<div class='talk op-msg' data-timestamp='1468113480' id='478464'>
<a class='timestamp' href='#478464'><time timestamp='2016-07-10T01:18:00Z'>01:18</time></a>
&lt;<span class='nick nick-5'> midnightmagic</span>&gt;
Humility and reasonable resource management are virtues.
<br>
</div>

<div class='talk op-msg' data-timestamp='1468113600' id='478465'>
<a class='timestamp' href='#478465'><time timestamp='2016-07-10T01:20:00Z'>01:20</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
midnightmagic: well, I was going through my corporate expenses the other day... and a new laptop would be a drop in the bucket compared to what gets spent on me travelling
<br>
</div>

<div class='talk op-msg' data-timestamp='1468113660' id='478466'>
<a class='timestamp' href='#478466'><time timestamp='2016-07-10T01:21:00Z'>01:21</time></a>
&lt;<span class='nick nick-5'> midnightmagic</span>&gt;
i hate travelling :( the world is made for people much, much smaller than I am.
<br>
</div>

<div class='talk op-msg' data-timestamp='1468113720' id='478467'>
<a class='timestamp' href='#478467'><time timestamp='2016-07-10T01:22:00Z'>01:22</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
midnightmagic: I actually find I get more work done; I&#x27;m no tourist so when I&#x27;m in the middle of a foreign country I tend to find somewhere to sit down with my laptop :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1468113900' id='478468'>
<a class='timestamp' href='#478468'><time timestamp='2016-07-10T01:25:00Z'>01:25</time></a>
&lt;<span class='nick nick-5'> midnightmagic</span>&gt;
i do too, all the stuff that is on the to-do list in my home can&#x27;t be addressed so I can let it go
<br>
</div>

<div class='talk op-msg' data-timestamp='1468113960' id='478469'>
<a class='timestamp' href='#478469'><time timestamp='2016-07-10T01:26:00Z'>01:26</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
midnightmagic: yeah, and when I&#x27;m home, friends want to like, hang out with me and take up all my time :P
<br>
</div>

<div class='talk op-msg' data-timestamp='1468114200' id='478470'>
<a class='timestamp' href='#478470'><time timestamp='2016-07-10T01:30:00Z'>01:30</time></a>
&lt;<span class='nick nick-5'> midnightmagic</span>&gt;
psh. friends. so annoying.
<br>
</div>

<div class='talk op-msg' data-timestamp='1468115760' id='478471'>
<a class='timestamp' href='#478471'><time timestamp='2016-07-10T01:56:00Z'>01:56</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sure
<br>
</div>

<div class='talk op-msg' data-timestamp='1468115760' id='478472'>
<a class='timestamp' href='#478472'><time timestamp='2016-07-10T01:56:00Z'>01:56</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
er, wrong window - stupid lag
<br>
</div>

<div class='talk op-msg' data-timestamp='1468116120' id='478473'>
<a class='timestamp' href='#478473'><time timestamp='2016-07-10T02:02:00Z'>02:02</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
haha
<br>
</div>

<div class='talk op-msg' data-timestamp='1468116720' id='478474'>
<a class='timestamp' href='#478474'><time timestamp='2016-07-10T02:12:00Z'>02:12</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sipa: lithion ion batteries of varrious type have a shelf life, sadly.
<br>
</div>

<div class='talk op-msg' data-timestamp='1468116720' id='478475'>
<a class='timestamp' href='#478475'><time timestamp='2016-07-10T02:12:00Z'>02:12</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
The unused one will also fade.
<br>
</div>

<div class='talk op-msg' data-timestamp='1468116780' id='478476'>
<a class='timestamp' href='#478476'><time timestamp='2016-07-10T02:13:00Z'>02:13</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
But fortunately if you buy something like a thinkpad, people make batteries for them forever.
<br>
</div>

<div class='talk op-msg' data-timestamp='1468116780' id='478477'>
<a class='timestamp' href='#478477'><time timestamp='2016-07-10T02:13:00Z'>02:13</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
You can buy batteries for ten year old thinkpads no problem.
<br>
</div>

<div class='talk op-msg' data-timestamp='1468117200' id='478478'>
<a class='timestamp' href='#478478'><time timestamp='2016-07-10T02:20:00Z'>02:20</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
petertodd: go stab the people your blog post has confused: <a href="https://www.reddit.com/r/Bitcoin/comments/4s3a9r/segwit_code_review_update/" class="link" target="_blank">https://www.reddit.com/r/Bitcoin/comments/4s3a9r/segwit_code_review_update/</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1468118460' id='478479'>
<a class='timestamp' href='#478479'><time timestamp='2016-07-10T02:41:00Z'>02:41</time></a>
&lt;<span class='nick nick-4'> kanzure</span>&gt;
consensus-related non-malleability vs wallet/p2p-level, is my guess.
<br>
</div>

<div class='talk op-msg' data-timestamp='1468118520' id='478480'>
<a class='timestamp' href='#478480'><time timestamp='2016-07-10T02:42:00Z'>02:42</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
kanzure: it&#x27;s just a flaw in the way the mempool/p2p refers to segwit txs; has little if anything to do with consensus
<br>
</div>

<div class='talk op-msg' data-timestamp='1468118760' id='478481'>
<a class='timestamp' href='#478481'><time timestamp='2016-07-10T02:46:00Z'>02:46</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
kanzure: tl;dr: is that the p2p asks for txs by txid, which doesn&#x27;t commit to the witness, and marks invalid txs by txid, without being able to consistently know if a tx was invalid due to a bad witness
<br>
</div>

<div class='talk op-msg' data-timestamp='1468118760' id='478482'>
<a class='timestamp' href='#478482'><time timestamp='2016-07-10T02:46:00Z'>02:46</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
equaly, s/invalid/unacceptable due to fee, size, whatever/
<br>
</div>

<div class='talk op-msg' data-timestamp='1468118760' id='478483'>
<a class='timestamp' href='#478483'><time timestamp='2016-07-10T02:46:00Z'>02:46</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i actually don&#x27;t think the flaw is referring by txid instead of wtxid
<br>
</div>

<div class='talk op-msg' data-timestamp='1468118820' id='478484'>
<a class='timestamp' href='#478484'><time timestamp='2016-07-10T02:47:00Z'>02:47</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: how so?
<br>
</div>

<div class='talk op-msg' data-timestamp='1468118820' id='478485'>
<a class='timestamp' href='#478485'><time timestamp='2016-07-10T02:47:00Z'>02:47</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but we should have made resource limits part of the base transaction, not the witness
<br>
</div>

<div class='talk op-msg' data-timestamp='1468118820' id='478486'>
<a class='timestamp' href='#478486'><time timestamp='2016-07-10T02:47:00Z'>02:47</time></a>
&lt;<span class='nick nick-4'> kanzure</span>&gt;
yes i was wondering about things like &quot;how to actually show a node that a certain tx is valid later, if at first it receives a bad witness&quot; :\
<br>
</div>

<div class='talk op-msg' data-timestamp='1468118880' id='478487'>
<a class='timestamp' href='#478487'><time timestamp='2016-07-10T02:48:00Z'>02:48</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: what do you mean by that?
<br>
</div>

<div class='talk op-msg' data-timestamp='1468118880' id='478488'>
<a class='timestamp' href='#478488'><time timestamp='2016-07-10T02:48:00Z'>02:48</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
(fees, sigop count, byte sizes) go in scriptSig... or even better, in the inv
<br>
</div>

<div class='talk op-msg' data-timestamp='1468118880' id='478489'>
<a class='timestamp' href='#478489'><time timestamp='2016-07-10T02:48:00Z'>02:48</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
so a node can decide to not process before you know... processing
<br>
</div>

<div class='talk op-msg' data-timestamp='1468118880' id='478490'>
<a class='timestamp' href='#478490'><time timestamp='2016-07-10T02:48:00Z'>02:48</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: duplicating that stuff has historically lead to endless problems, basically because you have to check it twice
<br>
</div>

<div class='talk op-msg' data-timestamp='1468118940' id='478491'>
<a class='timestamp' href='#478491'><time timestamp='2016-07-10T02:49:00Z'>02:49</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
how do you mean?
<br>
</div>

<div class='talk op-msg' data-timestamp='1468118940' id='478492'>
<a class='timestamp' href='#478492'><time timestamp='2016-07-10T02:49:00Z'>02:49</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: in a decent system, processing even invalid txs is something that happens very quickly, so there&#x27;s no DoS attack
<br>
</div>

<div class='talk op-msg' data-timestamp='1468118940' id='478493'>
<a class='timestamp' href='#478493'><time timestamp='2016-07-10T02:49:00Z'>02:49</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: notice how satoshi screwed up sigops from the beginning...
<br>
</div>

<div class='talk op-msg' data-timestamp='1468119000' id='478494'>
<a class='timestamp' href='#478494'><time timestamp='2016-07-10T02:50:00Z'>02:50</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
unfortunately, fees and sigop counting require fetching the utxos
<br>
</div>

<div class='talk op-msg' data-timestamp='1468119000' id='478495'>
<a class='timestamp' href='#478495'><time timestamp='2016-07-10T02:50:00Z'>02:50</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: in any of these schemes, you still have to count up sigops as they&#x27;re actually executed, to check that the sum matches (or is less than) the claimed sum
<br>
</div>

<div class='talk op-msg' data-timestamp='1468119000' id='478496'>
<a class='timestamp' href='#478496'><time timestamp='2016-07-10T02:50:00Z'>02:50</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
of course
<br>
</div>

<div class='talk op-msg' data-timestamp='1468119000' id='478497'>
<a class='timestamp' href='#478497'><time timestamp='2016-07-10T02:50:00Z'>02:50</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: so? fetching utxos can&#x27;t be expensive, or we&#x27;ve already lost
<br>
</div>

<div class='talk op-msg' data-timestamp='1468119000' id='478498'>
<a class='timestamp' href='#478498'><time timestamp='2016-07-10T02:50:00Z'>02:50</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but a mismatch can then actually result in a ban, because it cannot happen accidentally
<br>
</div>

<div class='talk op-msg' data-timestamp='1468119060' id='478499'>
<a class='timestamp' href='#478499'><time timestamp='2016-07-10T02:51:00Z'>02:51</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: if we used wtxids, you could still ban based on that
<br>
</div>

<div class='talk op-msg' data-timestamp='1468119060' id='478500'>
<a class='timestamp' href='#478500'><time timestamp='2016-07-10T02:51:00Z'>02:51</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but our rate limiting is based on feerate, which depends on fee, which we cannot enforce until we&#x27;ve done the effort
<br>
</div>

<div class='talk op-msg' data-timestamp='1468119120' id='478501'>
<a class='timestamp' href='#478501'><time timestamp='2016-07-10T02:52:00Z'>02:52</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
if there is no rate limit, even a cheap validation per transaction will be too much
<br>
</div>

<div class='talk op-msg' data-timestamp='1468119120' id='478502'>
<a class='timestamp' href='#478502'><time timestamp='2016-07-10T02:52:00Z'>02:52</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: huh? someone sends you a DoS tx, just ban them - there&#x27;s no reason <b>*legit*</b> transactions should take significant cost to accept
<br>
</div>

<div class='talk op-msg' data-timestamp='1468119240' id='478503'>
<a class='timestamp' href='#478503'><time timestamp='2016-07-10T02:54:00Z'>02:54</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
petertodd: so there is a trivial solution... fully validate every transaction you asked for
<br>
</div>

<div class='talk op-msg' data-timestamp='1468119240' id='478504'>
<a class='timestamp' href='#478504'><time timestamp='2016-07-10T02:54:00Z'>02:54</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
so you don&#x27;t prematurely discard a transaction before finding out it was an attempted attack
<br>
</div>

<div class='talk op-msg' data-timestamp='1468119300' id='478505'>
<a class='timestamp' href='#478505'><time timestamp='2016-07-10T02:55:00Z'>02:55</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it is too expensive, or invalid, or malleated... you can ban who sent it
<br>
</div>

<div class='talk op-msg' data-timestamp='1468119300' id='478506'>
<a class='timestamp' href='#478506'><time timestamp='2016-07-10T02:55:00Z'>02:55</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: I think you&#x27;re missing my point: the threshold that we consider it an &quot;attempted attack&quot; should be low enough that there&#x27;s no DoS issues; txs fundementally should never be expensive to validate, and cases where they are should be non-standard, and eventually, removed entirely from the protocol
<br>
</div>

<div class='talk op-msg' data-timestamp='1468119360' id='478507'>
<a class='timestamp' href='#478507'><time timestamp='2016-07-10T02:56:00Z'>02:56</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1468119360' id='478508'>
<a class='timestamp' href='#478508'><time timestamp='2016-07-10T02:56:00Z'>02:56</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i agree
<br>
</div>

<div class='talk op-msg' data-timestamp='1468119420' id='478509'>
<a class='timestamp' href='#478509'><time timestamp='2016-07-10T02:57:00Z'>02:57</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but the issue here is that we fail to detect whether a too expensive transacrion is due to its creator or due to who relayed it
<br>
</div>

<div class='talk op-msg' data-timestamp='1468119420' id='478510'>
<a class='timestamp' href='#478510'><time timestamp='2016-07-10T02:57:00Z'>02:57</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: right, but wtxid solves that issue
<br>
</div>

<div class='talk op-msg' data-timestamp='1468119480' id='478511'>
<a class='timestamp' href='#478511'><time timestamp='2016-07-10T02:58:00Z'>02:58</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
if relayer malleates, we&#x27;ll still ask for a different version of the same txid if another peer gives us it
<br>
</div>

<div class='talk op-msg' data-timestamp='1468119480' id='478512'>
<a class='timestamp' href='#478512'><time timestamp='2016-07-10T02:58:00Z'>02:58</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yes, it would... but it adds complications
<br>
</div>

<div class='talk op-msg' data-timestamp='1468119480' id='478513'>
<a class='timestamp' href='#478513'><time timestamp='2016-07-10T02:58:00Z'>02:58</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
how so?
<br>
</div>

<div class='talk op-msg' data-timestamp='1468119480' id='478514'>
<a class='timestamp' href='#478514'><time timestamp='2016-07-10T02:58:00Z'>02:58</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
you need indexes by both txid and wtxid..
<br>
</div>

<div class='talk op-msg' data-timestamp='1468119480' id='478515'>
<a class='timestamp' href='#478515'><time timestamp='2016-07-10T02:58:00Z'>02:58</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and you always risk requesting things twice
<br>
</div>

<div class='talk op-msg' data-timestamp='1468119480' id='478516'>
<a class='timestamp' href='#478516'><time timestamp='2016-07-10T02:58:00Z'>02:58</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: in what, the mempool/p2p?
<br>
</div>

<div class='talk op-msg' data-timestamp='1468119540' id='478517'>
<a class='timestamp' href='#478517'><time timestamp='2016-07-10T02:59:00Z'>02:59</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
but they are different things!
<br>
</div>

<div class='talk op-msg' data-timestamp='1468119540' id='478518'>
<a class='timestamp' href='#478518'><time timestamp='2016-07-10T02:59:00Z'>02:59</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
in my view they are the same thing
<br>
</div>

<div class='talk op-msg' data-timestamp='1468119540' id='478519'>
<a class='timestamp' href='#478519'><time timestamp='2016-07-10T02:59:00Z'>02:59</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
one with an optional part omitted
<br>
</div>

<div class='talk op-msg' data-timestamp='1468119540' id='478520'>
<a class='timestamp' href='#478520'><time timestamp='2016-07-10T02:59:00Z'>02:59</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
except we only find out too late that it was not optional
<br>
</div>

<div class='talk op-msg' data-timestamp='1468119600' id='478521'>
<a class='timestamp' href='#478521'><time timestamp='2016-07-10T03:00:00Z'>03:00</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
well, I don&#x27;t agree at all - the optional part has a non-optinal effect on the tx
<br>
</div>

<div class='talk op-msg' data-timestamp='1468119600' id='478522'>
<a class='timestamp' href='#478522'><time timestamp='2016-07-10T03:00:00Z'>03:00</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
for those who care (which a full node does)
<br>
</div>

<div class='talk op-msg' data-timestamp='1468119600' id='478523'>
<a class='timestamp' href='#478523'><time timestamp='2016-07-10T03:00:00Z'>03:00</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that&#x27;s a semantic discussion, though
<br>
</div>

<div class='talk op-msg' data-timestamp='1468119600' id='478524'>
<a class='timestamp' href='#478524'><time timestamp='2016-07-10T03:00:00Z'>03:00</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i can see your point
<br>
</div>

<div class='talk op-msg' data-timestamp='1468119600' id='478525'>
<a class='timestamp' href='#478525'><time timestamp='2016-07-10T03:00:00Z'>03:00</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
I certainly care: my tx fees depend on the witness
<br>
</div>

<div class='talk op-msg' data-timestamp='1468119660' id='478526'>
<a class='timestamp' href='#478526'><time timestamp='2016-07-10T03:01:00Z'>03:01</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
I may also have a protocol where I&#x27;m publishing something in the witness, e.g. hashlock
<br>
</div>

<div class='talk op-msg' data-timestamp='1468119660' id='478527'>
<a class='timestamp' href='#478527'><time timestamp='2016-07-10T03:01:00Z'>03:01</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Cleanstack means that ordinary transactions cannot have their fees increased without invalidating them. (If not for that I would have already recommended we have some preprocessing to strip transactions as they&#x27;re relayed)
<br>
</div>

<div class='talk op-msg' data-timestamp='1468119720' id='478528'>
<a class='timestamp' href='#478528'><time timestamp='2016-07-10T03:02:00Z'>03:02</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i think the easiest solution is to validate scripts even for things we know we won&#x27;t accept
<br>
</div>

<div class='talk op-msg' data-timestamp='1468119720' id='478529'>
<a class='timestamp' href='#478529'><time timestamp='2016-07-10T03:02:00Z'>03:02</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
You should probably assume that relaying nodes will perform witness stripping in the future.
<br>
</div>

<div class='talk op-msg' data-timestamp='1468119720' id='478530'>
<a class='timestamp' href='#478530'><time timestamp='2016-07-10T03:02:00Z'>03:02</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
we have spent almost all the work anyway (fetched inputs, and wasted bandwidth)
<br>
</div>

<div class='talk op-msg' data-timestamp='1468119720' id='478531'>
<a class='timestamp' href='#478531'><time timestamp='2016-07-10T03:02:00Z'>03:02</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
gmaxwell: with currnet tx patterns yes; it&#x27;s non-trivial to make txs with more complex scripts that have non-malleable witnesses
<br>
</div>

<div class='talk op-msg' data-timestamp='1468119780' id='478532'>
<a class='timestamp' href='#478532'><time timestamp='2016-07-10T03:03:00Z'>03:03</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(by witness stripping I mean compacting the witness to the minimal data needed to be valid, as best it can determine)
<br>
</div>

<div class='talk op-msg' data-timestamp='1468119780' id='478533'>
<a class='timestamp' href='#478533'><time timestamp='2016-07-10T03:03:00Z'>03:03</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: as in, valiate scripts to determine if the witness is wrong?
<br>
</div>

<div class='talk op-msg' data-timestamp='1468119780' id='478534'>
<a class='timestamp' href='#478534'><time timestamp='2016-07-10T03:03:00Z'>03:03</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Yes.
<br>
</div>

<div class='talk op-msg' data-timestamp='1468119780' id='478535'>
<a class='timestamp' href='#478535'><time timestamp='2016-07-10T03:03:00Z'>03:03</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
This was something I had been advocating for a while because there are some other potential DOS attacks that exist because we don&#x27;t.
<br>
</div>

<div class='talk op-msg' data-timestamp='1468119780' id='478536'>
<a class='timestamp' href='#478536'><time timestamp='2016-07-10T03:03:00Z'>03:03</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(a while = before segwit existed)
<br>
</div>

<div class='talk op-msg' data-timestamp='1468119840' id='478537'>
<a class='timestamp' href='#478537'><time timestamp='2016-07-10T03:04:00Z'>03:04</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
well, again, that assumes you know how to clean witnesses - there are tx patterns where that&#x27;s not trivial (and indeed, the user may intentionally have more than one form of witness for the same txid)
<br>
</div>

<div class='talk op-msg' data-timestamp='1468119840' id='478538'>
<a class='timestamp' href='#478538'><time timestamp='2016-07-10T03:04:00Z'>03:04</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
though without an enforced feefilter its a bit less than ideal.
<br>
</div>

<div class='talk op-msg' data-timestamp='1468119840' id='478539'>
<a class='timestamp' href='#478539'><time timestamp='2016-07-10T03:04:00Z'>03:04</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
petertodd: sure any cleaning would always be a best effort attempt.
<br>
</div>

<div class='talk op-msg' data-timestamp='1468119900' id='478540'>
<a class='timestamp' href='#478540'><time timestamp='2016-07-10T03:05:00Z'>03:05</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
I&#x27;m still of the opinion that asking for a wtxid is a way simpler overall conceptual design (obvs implementation level may suck due to historical baggage)
<br>
</div>

<div class='talk op-msg' data-timestamp='1468119900' id='478541'>
<a class='timestamp' href='#478541'><time timestamp='2016-07-10T03:05:00Z'>03:05</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
this is orthogonal to fetching by wtxid, of course
<br>
</div>

<div class='talk op-msg' data-timestamp='1468119900' id='478542'>
<a class='timestamp' href='#478542'><time timestamp='2016-07-10T03:05:00Z'>03:05</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
it&#x27;s not orthogonal at all: if I manage to clean a script significantly, I want my peers to get it, and then say &quot;hey, this is way smaller, lets replace it in our mempool...&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1468119900' id='478543'>
<a class='timestamp' href='#478543'><time timestamp='2016-07-10T03:05:00Z'>03:05</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
yea, I agree it&#x27;s orthorgonal, fetching by wtxid has an amplification attack vector that is kind of sad.
<br>
</div>

<div class='talk op-msg' data-timestamp='1468119960' id='478544'>
<a class='timestamp' href='#478544'><time timestamp='2016-07-10T03:06:00Z'>03:06</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
gmaxwell: what&#x27;s the vector?
<br>
</div>

<div class='talk op-msg' data-timestamp='1468119960' id='478545'>
<a class='timestamp' href='#478545'><time timestamp='2016-07-10T03:06:00Z'>03:06</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: presenting multiple versions of the same transaction with different witness?
<br>
</div>

<div class='talk op-msg' data-timestamp='1468119960' id='478546'>
<a class='timestamp' href='#478546'><time timestamp='2016-07-10T03:06:00Z'>03:06</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
The amplification attack vector is that I create grab transactions and relay witness malleations to every node in the network, different version to each node, so when I happen to get txn early every node ends up with a different txid and you get N^2 bandwidth forwarding it around.
<br>
</div>

<div class='talk op-msg' data-timestamp='1468120020' id='478547'>
<a class='timestamp' href='#478547'><time timestamp='2016-07-10T03:07:00Z'>03:07</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
gmaxwell: but you can do that anyway with your own txs
<br>
</div>

<div class='talk op-msg' data-timestamp='1468120140' id='478548'>
<a class='timestamp' href='#478548'><time timestamp='2016-07-10T03:09:00Z'>03:09</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
you could of course create invs with both txids and wtxids
<br>
</div>

<div class='talk op-msg' data-timestamp='1468120140' id='478549'>
<a class='timestamp' href='#478549'><time timestamp='2016-07-10T03:09:00Z'>03:09</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: yeah, that&#x27;d be fine
<br>
</div>

<div class='talk op-msg' data-timestamp='1468120140' id='478550'>
<a class='timestamp' href='#478550'><time timestamp='2016-07-10T03:09:00Z'>03:09</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: and obviously, our peer can tell us it&#x27;s segwit and wants us to do that
<br>
</div>

<div class='talk op-msg' data-timestamp='1468120200' id='478551'>
<a class='timestamp' href='#478551'><time timestamp='2016-07-10T03:10:00Z'>03:10</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
except that also breaks your try to replace with smaller witness use case
<br>
</div>

<div class='talk op-msg' data-timestamp='1468120200' id='478552'>
<a class='timestamp' href='#478552'><time timestamp='2016-07-10T03:10:00Z'>03:10</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: why? once you go down that rabbit hole, you can also advertise length
<br>
</div>

<div class='talk op-msg' data-timestamp='1468120260' id='478553'>
<a class='timestamp' href='#478553'><time timestamp='2016-07-10T03:11:00Z'>03:11</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
petertodd: yes, that was my suggestion in the beginning of the discussion :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1468120260' id='478554'>
<a class='timestamp' href='#478554'><time timestamp='2016-07-10T03:11:00Z'>03:11</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
advertize sigops/size/fees in the inv
<br>
</div>

<div class='talk op-msg' data-timestamp='1468120260' id='478555'>
<a class='timestamp' href='#478555'><time timestamp='2016-07-10T03:11:00Z'>03:11</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: no, you suggested having the tx <u>_commit_</u> to that info, which is a very different thing; non-consensus critical code advertising length isn&#x27;t a big deal
<br>
</div>

<div class='talk op-msg' data-timestamp='1468120320' id='478556'>
<a class='timestamp' href='#478556'><time timestamp='2016-07-10T03:12:00Z'>03:12</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
petertodd: reread my sentence
<br>
</div>

<div class='talk op-msg' data-timestamp='1468120320' id='478557'>
<a class='timestamp' href='#478557'><time timestamp='2016-07-10T03:12:00Z'>03:12</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: ah, ok, I have no issues with that
<br>
</div>

<div class='talk op-msg' data-timestamp='1468120320' id='478558'>
<a class='timestamp' href='#478558'><time timestamp='2016-07-10T03:12:00Z'>03:12</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: (I&#x27;ve been thinking about this exact kind of issue for my dex specification actually)
<br>
</div>

<div class='talk op-msg' data-timestamp='1468120320' id='478559'>
<a class='timestamp' href='#478559'><time timestamp='2016-07-10T03:12:00Z'>03:12</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
&quot;... or even better, in the inv$
<br>
</div>

<div class='talk op-msg' data-timestamp='1468120320' id='478560'>
<a class='timestamp' href='#478560'><time timestamp='2016-07-10T03:12:00Z'>03:12</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: yeah, for mempool I think invs advertising this stuff makes a lot of sense
<br>
</div>

<div class='talk op-msg' data-timestamp='1468120380' id='478561'>
<a class='timestamp' href='#478561'><time timestamp='2016-07-10T03:13:00Z'>03:13</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
for starters, if we screw that up, it&#x27;s relatively easy to fix :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1468120380' id='478562'>
<a class='timestamp' href='#478562'><time timestamp='2016-07-10T03:13:00Z'>03:13</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
though i think it&#x27;s not necessarily an urgent issue
<br>
</div>

<div class='talk op-msg' data-timestamp='1468120440' id='478563'>
<a class='timestamp' href='#478563'><time timestamp='2016-07-10T03:14:00Z'>03:14</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
the worst case is that a bad peer can poison your reject cache, preventing you from getting a legitimate transaction before it confirms
<br>
</div>

<div class='talk op-msg' data-timestamp='1468120440' id='478564'>
<a class='timestamp' href='#478564'><time timestamp='2016-07-10T03:14:00Z'>03:14</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
so, is a reasonable game plan to releast segwit with the current p2p design, and then add wtixds to invs later? (potentially with sigops/size in the inv)
<br>
</div>

<div class='talk op-msg' data-timestamp='1468120440' id='478565'>
<a class='timestamp' href='#478565'><time timestamp='2016-07-10T03:14:00Z'>03:14</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: it&#x27;s a good thing no-one relies on zeroconf anymore :P
<br>
</div>

<div class='talk op-msg' data-timestamp='1468120440' id='478566'>
<a class='timestamp' href='#478566'><time timestamp='2016-07-10T03:14:00Z'>03:14</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i&#x27;m sure there are other ways that you can accomplish that
<br>
</div>

<div class='talk op-msg' data-timestamp='1468120440' id='478567'>
<a class='timestamp' href='#478567'><time timestamp='2016-07-10T03:14:00Z'>03:14</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
(like inving and not responding to getdata)
<br>
</div>

<div class='talk op-msg' data-timestamp='1468120440' id='478568'>
<a class='timestamp' href='#478568'><time timestamp='2016-07-10T03:14:00Z'>03:14</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
wrt different kinds of relaying later, mostly I thought those improvements would go into mempool sync.
<br>
</div>

<div class='talk op-msg' data-timestamp='1468120500' id='478569'>
<a class='timestamp' href='#478569'><time timestamp='2016-07-10T03:15:00Z'>03:15</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
and rather than wtxid relay,  wtxid,feerate,txid tuples (probably truncated/quantized) may make more sense. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1468120560' id='478570'>
<a class='timestamp' href='#478570'><time timestamp='2016-07-10T03:16:00Z'>03:16</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yeah, for mempool sync we can redesign things cleanyl
<br>
</div>

<div class='talk op-msg' data-timestamp='1468120560' id='478571'>
<a class='timestamp' href='#478571'><time timestamp='2016-07-10T03:16:00Z'>03:16</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
gmaxwell: note too how schemes like txo commitments allow - and expect - nodes to do significant modifications to txs
<br>
</div>

<div class='talk op-msg' data-timestamp='1468120560' id='478572'>
<a class='timestamp' href='#478572'><time timestamp='2016-07-10T03:16:00Z'>03:16</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(or even wtxid, feerate, vin id with lowest hash)
<br>
</div>

<div class='talk op-msg' data-timestamp='1468120680' id='478573'>
<a class='timestamp' href='#478573'><time timestamp='2016-07-10T03:18:00Z'>03:18</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
in any case, optimal sync behavior in the presence of double spends (of any kind) isn&#x27;t a nut I&#x27;ve cracked yet.
<br>
</div>

<div class='talk op-msg' data-timestamp='1468120680' id='478574'>
<a class='timestamp' href='#478574'><time timestamp='2016-07-10T03:18:00Z'>03:18</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
petertodd: yes, the priority should be to make sure no internal inconsistency or banning of unaware nodes occur
<br>
</div>

<div class='talk op-msg' data-timestamp='1468120680' id='478575'>
<a class='timestamp' href='#478575'><time timestamp='2016-07-10T03:18:00Z'>03:18</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I think I have constructions for schemes which are close to optimal absent doublespends.
<br>
</div>

<div class='talk op-msg' data-timestamp='1468120680' id='478576'>
<a class='timestamp' href='#478576'><time timestamp='2016-07-10T03:18:00Z'>03:18</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
we already improved relay efficiency a LOT in 0.13, fwiw.
<br>
</div>

<div class='talk op-msg' data-timestamp='1468120740' id='478577'>
<a class='timestamp' href='#478577'><time timestamp='2016-07-10T03:19:00Z'>03:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
petertodd: rejectioncache behaviour can either degenerate into attackers preventing you from receiving transactions on the one hand
<br>
</div>

<div class='talk op-msg' data-timestamp='1468120740' id='478578'>
<a class='timestamp' href='#478578'><time timestamp='2016-07-10T03:19:00Z'>03:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
or to the old pre-rejectioncache bevahiour of requesting failed txn from every peer (which is made much less bad due to feefilter already)
<br>
</div>

<div class='talk op-msg' data-timestamp='1468120860' id='478579'>
<a class='timestamp' href='#478579'><time timestamp='2016-07-10T03:21:00Z'>03:21</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
there are already several trivially exploited ways where an attacker can massively delay you getting a transaction.
<br>
</div>

<div class='talk op-msg' data-timestamp='1468120860' id='478580'>
<a class='timestamp' href='#478580'><time timestamp='2016-07-10T03:21:00Z'>03:21</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: well, again, an attacker can do that DoS attack without segwit by just sending multiple slightly different versions of the same tx
<br>
</div>

<div class='talk op-msg' data-timestamp='1468120920' id='478581'>
<a class='timestamp' href='#478581'><time timestamp='2016-07-10T03:22:00Z'>03:22</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(e.g. just inv the damn thing from many sockets and don&#x27;t respond.
<br>
</div>

<div class='talk op-msg' data-timestamp='1468120920' id='478582'>
<a class='timestamp' href='#478582'><time timestamp='2016-07-10T03:22:00Z'>03:22</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
)
<br>
</div>

<div class='talk op-msg' data-timestamp='1468121040' id='478583'>
<a class='timestamp' href='#478583'><time timestamp='2016-07-10T03:24:00Z'>03:24</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yeah
<br>
</div>

<div class='talk op-msg' data-timestamp='1468182840' id='478584'>
<a class='timestamp' href='#478584'><time timestamp='2016-07-10T20:34:00Z'>20:34</time></a>
&lt;<span class='nick nick-8'> oddishh</span>&gt;
WOW! My bitcoin expander is now READY! Put some bitcoin in my wallet and I&#x27;ll intantly expand it &amp; send you more back. Totally vouched &amp; legit. PM me to begin!
<br>
</div>

<div class='talk op-msg' data-timestamp='1468194060' id='478585'>
<a class='timestamp' href='#478585'><time timestamp='2016-07-10T23:41:00Z'>23:41</time></a>
&lt;<span class='nick nick-10'> grubles</span>&gt;
1/3
<br>
</div>

<div class='talk op-msg' data-timestamp='1468194060' id='478586'>
<a class='timestamp' href='#478586'><time timestamp='2016-07-10T23:41:00Z'>23:41</time></a>
&lt;<span class='nick nick-10'> grubles</span>&gt;
oops. sorry.
<br>
</div>

<div class='talk op-msg' data-timestamp='1468194120' id='478587'>
<a class='timestamp' href='#478587'><time timestamp='2016-07-10T23:42:00Z'>23:42</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
0.33333333
<br>
</div>

<div class='talk op-msg' data-timestamp='1468194120' id='478588'>
<a class='timestamp' href='#478588'><time timestamp='2016-07-10T23:42:00Z'>23:42</time></a>
&lt;<span class='nick nick-10'> grubles</span>&gt;
:)
<br>
</div>

</div>
</section>

</body>
</html>
