<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2016-07-12
 â€” 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2016-07-12' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:26 UTC</pre>
<pre><a href="/bitcoin-core-dev/2016-06-12">&lt;</a><span class='header'>    July 2016     </span><a href="/bitcoin-core-dev/2016-08-12">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;                <a class="" href="/bitcoin-core-dev/2016-07-01">1</a>  <a class="" href="/bitcoin-core-dev/2016-07-02">2</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2016-07-03">3</a>  <a class="" href="/bitcoin-core-dev/2016-07-04">4</a>  <a class="" href="/bitcoin-core-dev/2016-07-05">5</a>  <a class="" href="/bitcoin-core-dev/2016-07-06">6</a>  <a class="" href="/bitcoin-core-dev/2016-07-07">7</a>  <a class="" href="/bitcoin-core-dev/2016-07-08">8</a>  <a class="" href="/bitcoin-core-dev/2016-07-09">9</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2016-07-10">10</a> <a class="" href="/bitcoin-core-dev/2016-07-11">11</a> <a class="current" href="/bitcoin-core-dev/2016-07-12">12</a> <a class="" href="/bitcoin-core-dev/2016-07-13">13</a> <a class="" href="/bitcoin-core-dev/2016-07-14">14</a> <a class="" href="/bitcoin-core-dev/2016-07-15">15</a> <a class="" href="/bitcoin-core-dev/2016-07-16">16</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2016-07-17">17</a> <a class="" href="/bitcoin-core-dev/2016-07-18">18</a> <a class="" href="/bitcoin-core-dev/2016-07-19">19</a> <a class="" href="/bitcoin-core-dev/2016-07-20">20</a> <a class="" href="/bitcoin-core-dev/2016-07-21">21</a> <a class="" href="/bitcoin-core-dev/2016-07-22">22</a> <a class="" href="/bitcoin-core-dev/2016-07-23">23</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2016-07-24">24</a> <a class="" href="/bitcoin-core-dev/2016-07-25">25</a> <a class="" href="/bitcoin-core-dev/2016-07-26">26</a> <a class="" href="/bitcoin-core-dev/2016-07-27">27</a> <a class="" href="/bitcoin-core-dev/2016-07-28">28</a> <a class="" href="/bitcoin-core-dev/2016-07-29">29</a> <a class="" href="/bitcoin-core-dev/2016-07-30">30</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2016-07-31">31</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1468288260' id='479074'>
<a class='timestamp' href='#479074'><time timestamp='2016-07-12T01:51:00Z'>01:51</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
fyi there&#x27;s someone repeatedly connecting and disconnecting from a narrow ip range
<br>
</div>

<div class='talk op-msg' data-timestamp='1468288260' id='479075'>
<a class='timestamp' href='#479075'><time timestamp='2016-07-12T01:51:00Z'>01:51</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
2016-07-12 01:47:04.455787 receive version message: /bitcoinj:0.14.1/: version 70001, blocks=0, us=127.0.0.1:8333, peer=40824, peeraddr=37.97.164.230:60893
<br>
</div>

<div class='talk op-msg' data-timestamp='1468288320' id='479076'>
<a class='timestamp' href='#479076'><time timestamp='2016-07-12T01:52:00Z'>01:52</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
37.97.164.159
<br>
</div>

<div class='talk op-msg' data-timestamp='1468288320' id='479077'>
<a class='timestamp' href='#479077'><time timestamp='2016-07-12T01:52:00Z'>01:52</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
37.97.164.160
<br>
</div>

<div class='talk op-msg' data-timestamp='1468288320' id='479078'>
<a class='timestamp' href='#479078'><time timestamp='2016-07-12T01:52:00Z'>01:52</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
37.97.164.230
<br>
</div>

<div class='talk op-msg' data-timestamp='1468288320' id='479079'>
<a class='timestamp' href='#479079'><time timestamp='2016-07-12T01:52:00Z'>01:52</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
37.97.164.231
<br>
</div>

<div class='talk op-msg' data-timestamp='1468289940' id='479080'>
<a class='timestamp' href='#479080'><time timestamp='2016-07-12T02:19:00Z'>02:19</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
Can you receive messages on the p2p network from a non standard port? ie not 8333/18333
<br>
</div>

<div class='talk op-msg' data-timestamp='1468289940' id='479081'>
<a class='timestamp' href='#479081'><time timestamp='2016-07-12T02:19:00Z'>02:19</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
if I send a version message with the non standard port?
<br>
</div>

<div class='talk op-msg' data-timestamp='1468290540' id='479082'>
<a class='timestamp' href='#479082'><time timestamp='2016-07-12T02:29:00Z'>02:29</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1468290600' id='479083'>
<a class='timestamp' href='#479083'><time timestamp='2016-07-12T02:30:00Z'>02:30</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but nodes strongly prefer connecting to nodes on the standard port
<br>
</div>

<div class='talk op-msg' data-timestamp='1468290600' id='479084'>
<a class='timestamp' href='#479084'><time timestamp='2016-07-12T02:30:00Z'>02:30</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
they will pretty much only choose nodes with nonstandard ports if they have no other option
<br>
</div>

<div class='talk op-msg' data-timestamp='1468290780' id='479085'>
<a class='timestamp' href='#479085'><time timestamp='2016-07-12T02:33:00Z'>02:33</time></a>
&lt;<span class='nick nick-3'> dgenr8</span>&gt;
good news. we don&#x27;t have to worry too much that time-locked transactions could be delayed by 30 days by evil miners <a href="https://github.com/bitcoinxt/bitcoinxt/pull/142#issuecomment-231918519" class="link" target="_blank">https://github.com/bitcoinxt/bitcoinxt/pull/142#issuecomment-231918519</a> 
<br>
</div>

<div class='talk op-msg' data-timestamp='1468294140' id='479086'>
<a class='timestamp' href='#479086'><time timestamp='2016-07-12T03:29:00Z'>03:29</time></a>
&lt;<span class='nick nick-9'> GitHub136</span>&gt;
[bitcoin] dcousens opened pull request #8332: semi trivial: clarify witness branches in transaction.h serialization (master...patch-1) <a href="https://github.com/bitcoin/bitcoin/pull/8332" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8332</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1468296660' id='479087'>
<a class='timestamp' href='#479087'><time timestamp='2016-07-12T04:11:00Z'>04:11</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
dgenr8: uh. you realize that when you have .5 or more non-honest miners sustained, the existance of an honest blocks is purely their choice, right?  So that graph doesn&#x27;t make a lot of sense.
<br>
</div>

<div class='talk op-msg' data-timestamp='1468296720' id='479088'>
<a class='timestamp' href='#479088'><time timestamp='2016-07-12T04:12:00Z'>04:12</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
yet again you have another negligently wrong security analysis, where you report 50% as absolutely safe, when in fact it&#x27;s a guarenteed failure (assuming dedicated attackers)
<br>
</div>

<div class='talk op-msg' data-timestamp='1468296960' id='479089'>
<a class='timestamp' href='#479089'><time timestamp='2016-07-12T04:16:00Z'>04:16</time></a>
&lt;<span class='nick nick-3'> dgenr8</span>&gt;
indeed, a 51% attack is a far greater threat than a blocktime slowdown, you get it
<br>
</div>

<div class='talk op-msg' data-timestamp='1468297080' id='479090'>
<a class='timestamp' href='#479090'><time timestamp='2016-07-12T04:18:00Z'>04:18</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
what? your analysis is just obviously broken on its face.
<br>
</div>

<div class='talk op-msg' data-timestamp='1468297140' id='479091'>
<a class='timestamp' href='#479091'><time timestamp='2016-07-12T04:19:00Z'>04:19</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
it claims that 80% dishonest mining is unable to slew the time.
<br>
</div>

<div class='talk op-msg' data-timestamp='1468297200' id='479092'>
<a class='timestamp' href='#479092'><time timestamp='2016-07-12T04:20:00Z'>04:20</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
This is obviously untrue, so you&#x27;ve make some obvious mistake-- if you have any result that isn&#x27;t 100% at 50% hashpower.
<br>
</div>

<div class='talk op-msg' data-timestamp='1468297380' id='479093'>
<a class='timestamp' href='#479093'><time timestamp='2016-07-12T04:23:00Z'>04:23</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
And, what the heck is  &quot;a 51% attack&quot; -- Bitcoin exists as a confluence of incentives, one part of it is that even a user who buys up large amounts of hashpower for a brief period only gains the ability to reorganize recent transactions, which is difficult to profitably exploit at any scale-- which users can protect themselves from by waiting for additional confirmations.  Under the security mod
<br>
</div>

<div class='talk op-msg' data-timestamp='1468297380' id='479094'>
<a class='timestamp' href='#479094'><time timestamp='2016-07-12T04:23:00Z'>04:23</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
el change that you propose (and incorportated into your software without an adequate disclosure because you (based on the prior conversation) weren&#x27;t actually aware of the implications,  miners that achieve a large amount (unclear how much but a majority is clearly sufficient) can add huge amounts of coins to themselves without any chain reorg and without even making a purchase.
<br>
</div>

<div class='talk op-msg' data-timestamp='1468297500' id='479095'>
<a class='timestamp' href='#479095'><time timestamp='2016-07-12T04:25:00Z'>04:25</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(re obviously didn&#x27;t understand, I&#x27;m referring to your prior claim that 100% hashpower and control over the user&#x27;s clock was needed.)
<br>
</div>

<div class='talk op-msg' data-timestamp='1468297560' id='479096'>
<a class='timestamp' href='#479096'><time timestamp='2016-07-12T04:26:00Z'>04:26</time></a>
&lt;<span class='nick nick-3'> dgenr8</span>&gt;
you read that statement completely wrong
<br>
</div>

<div class='talk op-msg' data-timestamp='1468297680' id='479097'>
<a class='timestamp' href='#479097'><time timestamp='2016-07-12T04:28:00Z'>04:28</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
K. Did I misunderstand that this was shipped out in XT without a release note pointing out the security model change; to a user community that obsesses over even minor softforks as taking away validation?
<br>
</div>

<div class='talk op-msg' data-timestamp='1468298040' id='479098'>
<a class='timestamp' href='#479098'><time timestamp='2016-07-12T04:34:00Z'>04:34</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
am I misreading your graph showing that a miner with 79% hashpower has a non-unity probablity of success at moving the timestamp back?
<br>
</div>

<div class='talk op-msg' data-timestamp='1468298040' id='479099'>
<a class='timestamp' href='#479099'><time timestamp='2016-07-12T04:34:00Z'>04:34</time></a>
&lt;<span class='nick nick-3'> dgenr8</span>&gt;
XT, unlike core, would warn loudly as that 51% attack slowed the generation rate
<br>
</div>

<div class='talk op-msg' data-timestamp='1468298100' id='479100'>
<a class='timestamp' href='#479100'><time timestamp='2016-07-12T04:35:00Z'>04:35</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Did I miss the fact that this whole design is just an insecure rip off of the proposal from this channel to use 30 days of <u>_work_</u> at the current tip, as a gate on signature checks? 
<br>
</div>

<div class='talk op-msg' data-timestamp='1468298160' id='479101'>
<a class='timestamp' href='#479101'><time timestamp='2016-07-12T04:36:00Z'>04:36</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
dgenr8: there is no need for the generation rate to slow significantly enough to trigger any warning that doesn&#x27;t false positive constantly.
<br>
</div>

<div class='talk op-msg' data-timestamp='1468298460' id='479102'>
<a class='timestamp' href='#479102'><time timestamp='2016-07-12T04:41:00Z'>04:41</time></a>
&lt;<span class='nick nick-3'> dgenr8</span>&gt;
the reason XT exists is that a few people cannot abide the choices you are making. it&#x27;s too bad. for a while, folks worked together pretty well.
<br>
</div>

<div class='talk op-msg' data-timestamp='1468298460' id='479103'>
<a class='timestamp' href='#479103'><time timestamp='2016-07-12T04:41:00Z'>04:41</time></a>
&lt;<span class='nick nick-3'> dgenr8</span>&gt;
you view the loss of talented people like gavin, jgarzik, and hearn as positve, and seek to utterly discredit others. but i&#x27;m OT  
<br>
</div>

<div class='talk op-msg' data-timestamp='1468298520' id='479104'>
<a class='timestamp' href='#479104'><time timestamp='2016-07-12T04:42:00Z'>04:42</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
dgenr8: You are going to get some people robbed blind with this kind of sloppyness; it&#x27;s a risk to our entire industry.
<br>
</div>

<div class='talk op-msg' data-timestamp='1468298700' id='479105'>
<a class='timestamp' href='#479105'><time timestamp='2016-07-12T04:45:00Z'>04:45</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I don&#x27;t have to do anything to discredit you (not to mention other people)-- you do so _yourself_; by shipping software to users that you don&#x27;t even understand and being continually antagonistic to people who would otherwise help you avoid danger.
<br>
</div>

<div class='talk op-msg' data-timestamp='1468298820' id='479106'>
<a class='timestamp' href='#479106'><time timestamp='2016-07-12T04:47:00Z'>04:47</time></a>
&lt;<span class='nick nick-3'> dgenr8</span>&gt;
Perhaps try again to manipulate the timestamp on testnet. Any hashing that sets timestamps correctly has a huge advantage though.
<br>
</div>

<div class='talk op-msg' data-timestamp='1468298820' id='479107'>
<a class='timestamp' href='#479107'><time timestamp='2016-07-12T04:47:00Z'>04:47</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
dgenr8: you didn&#x27;t even notice the successful attack on testnet against classic then, I guess.
<br>
</div>

<div class='talk op-msg' data-timestamp='1468298880' id='479108'>
<a class='timestamp' href='#479108'><time timestamp='2016-07-12T04:48:00Z'>04:48</time></a>
&lt;<span class='nick nick-3'> dgenr8</span>&gt;
i did see it was pushed it back a few days
<br>
</div>

<div class='talk op-msg' data-timestamp='1468298940' id='479109'>
<a class='timestamp' href='#479109'><time timestamp='2016-07-12T04:49:00Z'>04:49</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
A few days ago you seemed to be arguing that using the <u>_miner provided_</u> timestamps on blocks to decide to bother validating the block or not would require 100% hashpower and control of the users local clock to exploit-- functionality you added without even adding a <u>_release note_</u> to Bitcoin XT.  Your response to this being pointed out was to again repeat accusations that I backdoored your softwa
<br>
</div>

<div class='talk op-msg' data-timestamp='1468298940' id='479110'>
<a class='timestamp' href='#479110'><time timestamp='2016-07-12T04:49:00Z'>04:49</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
re. After having your mistaken understanding thrust on you; you&#x27;ve gone away and come back with another obviously broken misunderstanding; again radically overstating the security of this &#x27;optimization&#x27;.
<br>
</div>

<div class='talk op-msg' data-timestamp='1468299000' id='479111'>
<a class='timestamp' href='#479111'><time timestamp='2016-07-12T04:50:00Z'>04:50</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
The only reason I even knew that XT and classic had incorporated this ill advised security change is because of people bragging about how much faster it synced. Yea, it&#x27;s faster when you don&#x27;t check 95% of the signautures, blindly...
<br>
</div>

<div class='talk op-msg' data-timestamp='1468299060' id='479112'>
<a class='timestamp' href='#479112'><time timestamp='2016-07-12T04:51:00Z'>04:51</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
So if you think you&#x27;re going to make a war for node operation a war about who can make the most insecure software-- the stuff with the most tail risk of total failure, then hell yes I&#x27;m going to call that out. And you should be thankful that I&#x27;ve taken the concerns directly to you,  and not-- like other people in your community-- gone straight to the press with them.
<br>
</div>

<div class='talk op-msg' data-timestamp='1468299060' id='479113'>
<a class='timestamp' href='#479113'><time timestamp='2016-07-12T04:51:00Z'>04:51</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(Especially when it&#x27;s so easy to demonstrate the exploit on a live network)
<br>
</div>

<div class='talk op-msg' data-timestamp='1468299180' id='479114'>
<a class='timestamp' href='#479114'><time timestamp='2016-07-12T04:53:00Z'>04:53</time></a>
&lt;<span class='nick nick-3'> dgenr8</span>&gt;
hmm. i think this whole display is for the benefit of third parties. anyhow i disagree on the degree of risk, but that&#x27;s not to say the regular checkpoints couldn&#x27;t come back or that the default selection could even change. but that belongs to a rational discussion we&#x27;re not having
<br>
</div>

<div class='talk op-msg' data-timestamp='1468299180' id='479115'>
<a class='timestamp' href='#479115'><time timestamp='2016-07-12T04:53:00Z'>04:53</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Fair enough.
<br>
</div>

<div class='talk op-msg' data-timestamp='1468299300' id='479116'>
<a class='timestamp' href='#479116'><time timestamp='2016-07-12T04:55:00Z'>04:55</time></a>
&lt;<span class='nick nick-3'> dgenr8</span>&gt;
my concern with your thin blocks change was not that it made it to XT briefly.  it was that you removed the thin blocks functionality from core users.
<br>
</div>

<div class='talk op-msg' data-timestamp='1468299360' id='479117'>
<a class='timestamp' href='#479117'><time timestamp='2016-07-12T04:56:00Z'>04:56</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I&#x27;m sorry for being such a dick on this. I do really think that the blockheader based skipping validation is a race to the bottom-- who can provide the worst security (for the fastest performance), to hell with the consequences (and no one adequately disclosing it).  It doesn&#x27;t help that a much better way of doing the same thing was already proposed in Core; and to me it seems like pure NIH to i
<br>
</div>

<div class='talk op-msg' data-timestamp='1468299360' id='479118'>
<a class='timestamp' href='#479118'><time timestamp='2016-07-12T04:56:00Z'>04:56</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
mplement a much riskier version.  
<br>
</div>

<div class='talk op-msg' data-timestamp='1468299480' id='479119'>
<a class='timestamp' href='#479119'><time timestamp='2016-07-12T04:58:00Z'>04:58</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
dgenr8: I had no idea that it had any impact there, hell, the change was actually motivated by a complaint you made about the behavior (which, since you didn&#x27;t disclose, I didn&#x27;t know it was due to the prior limit of 1000 breaking mike&#x27;s thinblocks). I didn&#x27;t even initially use the bloom filter until wumpus and pieter beat me down on the memory usage.  And ultimately since there was <u>_no_</u> reliabl
<br>
</div>

<div class='talk op-msg' data-timestamp='1468299480' id='479120'>
<a class='timestamp' href='#479120'><time timestamp='2016-07-12T04:58:00Z'>04:58</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
e mechenism to request transactions that were already in a block (an observation we made on that approach in 2013), mike&#x27;s way of doing it couldn&#x27;t have been reliable. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1468299540' id='479121'>
<a class='timestamp' href='#479121'><time timestamp='2016-07-12T04:59:00Z'>04:59</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I also explained this previously, but you seem even more insistant on assuming bad faith on my part than I am on seeing you as a fool. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1468299600' id='479122'>
<a class='timestamp' href='#479122'><time timestamp='2016-07-12T05:00:00Z'>05:00</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Seriously, if I wanted to &#x27;backdoor&#x27; your software, the avenues available are far more profound-- your response has made me profoundly uncomfortable with the continued existance of Bitcoin XT-- you&#x27;ll continue to copy code from Core, and when the inevitable errors that happen from interactions which I could never have anticiapted; you&#x27;ve shown that you&#x27;ll accuse me of unethical or even criminal 
<br>
</div>

<div class='talk op-msg' data-timestamp='1468299600' id='479123'>
<a class='timestamp' href='#479123'><time timestamp='2016-07-12T05:00:00Z'>05:00</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
conduct.
<br>
</div>

<div class='talk op-msg' data-timestamp='1468299720' id='479124'>
<a class='timestamp' href='#479124'><time timestamp='2016-07-12T05:02:00Z'>05:02</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
s/blockheader based/blockheader timestamp based/  to be more clear. the earlier proposal of using total work instead of timestamps, is much more appealing. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1468299780' id='479125'>
<a class='timestamp' href='#479125'><time timestamp='2016-07-12T05:03:00Z'>05:03</time></a>
&lt;<span class='nick nick-3'> dgenr8</span>&gt;
whoa slow down ... the map size problem I found had nothing to do with thin blocks, which is why i was eager to copy your fix for it
<br>
</div>

<div class='talk op-msg' data-timestamp='1468299840' id='479126'>
<a class='timestamp' href='#479126'><time timestamp='2016-07-12T05:04:00Z'>05:04</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
dgenr8: I thought (after trying to figure out why you even copied the change) the reason you commented on the map size is because with thinblocks the small map meant the far end had no idea that you had most of the transactions you already had, then sent redundant stuff.
<br>
</div>

<div class='talk op-msg' data-timestamp='1468299840' id='479127'>
<a class='timestamp' href='#479127'><time timestamp='2016-07-12T05:04:00Z'>05:04</time></a>
&lt;<span class='nick nick-3'> dgenr8</span>&gt;
no, i found it while looking at some other core PR
<br>
</div>

<div class='talk op-msg' data-timestamp='1468299900' id='479128'>
<a class='timestamp' href='#479128'><time timestamp='2016-07-12T05:05:00Z'>05:05</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
then why did you even assume I was trying to screw up your thinblocks stuff?  I don&#x27;t believe I had <u>_any_</u> idea XT was even screwing with that at that time.
<br>
</div>

<div class='talk op-msg' data-timestamp='1468299960' id='479129'>
<a class='timestamp' href='#479129'><time timestamp='2016-07-12T05:06:00Z'>05:06</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(I wouldn&#x27;t have assumed it because the patch mike had was so obviously junk-- handling it in the ping handler, no way to cope with missing transactions except praying that they were still in the relay cache)
<br>
</div>

<div class='talk op-msg' data-timestamp='1468299960' id='479130'>
<a class='timestamp' href='#479130'><time timestamp='2016-07-12T05:06:00Z'>05:06</time></a>
&lt;<span class='nick nick-3'> dgenr8</span>&gt;
if you recall that effect was found independently weeks later by Peter Tschipper
<br>
</div>

<div class='talk op-msg' data-timestamp='1468299960' id='479131'>
<a class='timestamp' href='#479131'><time timestamp='2016-07-12T05:06:00Z'>05:06</time></a>
&lt;<span class='nick nick-3'> dgenr8</span>&gt;
its all irrelevant now anyway
<br>
</div>

<div class='talk op-msg' data-timestamp='1468300020' id='479132'>
<a class='timestamp' href='#479132'><time timestamp='2016-07-12T05:07:00Z'>05:07</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
in any case, indeed it broke the thin block stuff completely; then you merged it, and released a new version with it and the initial release of that thinblock stuff--- meaning you hadn&#x27;t even tested it for basic functionality; which is basically terrifying from my perspective.
<br>
</div>

<div class='talk op-msg' data-timestamp='1468300020' id='479133'>
<a class='timestamp' href='#479133'><time timestamp='2016-07-12T05:07:00Z'>05:07</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
You can&#x27;t deny that the commit message was scream loud totally clear about <u>_exactly_</u> what the change did.
<br>
</div>

<div class='talk op-msg' data-timestamp='1468300080' id='479134'>
<a class='timestamp' href='#479134'><time timestamp='2016-07-12T05:08:00Z'>05:08</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
and so how the hell can I defend myself against bad testing on your part?  I made a very very clearly described change, which you didn&#x27;t comment on, integrated so it broke your stuff totally, then claimed misconduct on my part. Thats seriously bad mojo.
<br>
</div>

<div class='talk op-msg' data-timestamp='1468300080' id='479135'>
<a class='timestamp' href='#479135'><time timestamp='2016-07-12T05:08:00Z'>05:08</time></a>
&lt;<span class='nick nick-3'> dgenr8</span>&gt;
it went to master, not a release.  please don&#x27;t put &#x27;backdoor&#x27; in quotes as I never said that word and as I said, that was not my concern
<br>
</div>

<div class='talk op-msg' data-timestamp='1468300260' id='479136'>
<a class='timestamp' href='#479136'><time timestamp='2016-07-12T05:11:00Z'>05:11</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
that was certantly what people extracted from your comments, <a href="https://www.reddit.com/r/bitcoinxt/comments/43jgtt/blockstream_engineers_maxwell_and_wuille_caught/" class="link" target="_blank">https://www.reddit.com/r/bitcoinxt/comments/43jgtt/blockstream_engineers_maxwell_and_wuille_caught/</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1468300320' id='479137'>
<a class='timestamp' href='#479137'><time timestamp='2016-07-12T05:12:00Z'>05:12</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Though indeed, I guess you only use the words &quot;your sneak attack&quot; and not &quot;backdoor&quot; yourself.
<br>
</div>

<div class='talk op-msg' data-timestamp='1468300740' id='479138'>
<a class='timestamp' href='#479138'><time timestamp='2016-07-12T05:19:00Z'>05:19</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
and &quot;Here we have Blockstream actively fighting scaling improvements&quot;   (and not to mention misrepresentation the that change was to avoid a one in a million false positive, when the chance happens for every txn indpendantly, so after seeing just 10k txn the chance is 1%.)
<br>
</div>

<div class='talk op-msg' data-timestamp='1468301340' id='479139'>
<a class='timestamp' href='#479139'><time timestamp='2016-07-12T05:29:00Z'>05:29</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
XT v0.11E appears to contain the setinventory known and &#x27;thinblock&#x27; change; but now looking at it I see you left it probablistically screwing over spv clients.
<br>
</div>

<div class='talk op-msg' data-timestamp='1468301400' id='479140'>
<a class='timestamp' href='#479140'><time timestamp='2016-07-12T05:30:00Z'>05:30</time></a>
&lt;<span class='nick nick-7'> eragmus</span>&gt;
gmaxwell: Why are you wasting your precious time with a dgenr8 like him? :) Or, at least, maybe charge him and the others by the minute for this consulting.
<br>
</div>

<div class='talk op-msg' data-timestamp='1468301400' id='479141'>
<a class='timestamp' href='#479141'><time timestamp='2016-07-12T05:30:00Z'>05:30</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I wonder how many bitcoins will be lost by people throwing out wallets that look empty but arn&#x27;t. :(
<br>
</div>

<div class='talk op-msg' data-timestamp='1468301460' id='479142'>
<a class='timestamp' href='#479142'><time timestamp='2016-07-12T05:31:00Z'>05:31</time></a>
&lt;<span class='nick nick-7'> eragmus</span>&gt;
dgenr8: Btw, you should be careful before making everyone laugh so much -- &quot;the loss of talented people like gavin, jgarzik, and hearn&quot; -- I nearly choked. I might have to bill you for any potential hospital expenses.
<br>
</div>

<div class='talk op-msg' data-timestamp='1468301520' id='479143'>
<a class='timestamp' href='#479143'><time timestamp='2016-07-12T05:32:00Z'>05:32</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
eragmus: (1) because software that silently downgrades security then promotes itself as faster is a risk to the continued viability and value of Bitcoin, which I care about. .. and because he attacks me by claiming that I&#x27;ve acted unethically, which if left unchallenged ends up recycled as accepted truth in places like the NYT where it can cause me lifelong harm.
<br>
</div>

<div class='talk op-msg' data-timestamp='1468301580' id='479144'>
<a class='timestamp' href='#479144'><time timestamp='2016-07-12T05:33:00Z'>05:33</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
PSA: this channel is about bitcoin core development, XT and classic and certainly non-technical drama around them are very off-topic
<br>
</div>

<div class='talk op-msg' data-timestamp='1468301820' id='479145'>
<a class='timestamp' href='#479145'><time timestamp='2016-07-12T05:37:00Z'>05:37</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
indeed wumpus is right, possibly this could move to #bitcoin
<br>
</div>

<div class='talk op-msg' data-timestamp='1468301880' id='479146'>
<a class='timestamp' href='#479146'><time timestamp='2016-07-12T05:38:00Z'>05:38</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
wumpus, fyi you might find this interesting <a href="https://github.com/bitcoin/bitcoin/issues/8333" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/8333</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1468301880' id='479147'>
<a class='timestamp' href='#479147'><time timestamp='2016-07-12T05:38:00Z'>05:38</time></a>
&lt;<span class='nick nick-3'> dgenr8</span>&gt;
gmaxwell: breadwallet already detects the condition and corrects it by reconnecting
<br>
</div>

<div class='talk op-msg' data-timestamp='1468302060' id='479148'>
<a class='timestamp' href='#479148'><time timestamp='2016-07-12T05:41:00Z'>05:41</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
phantomcircuit: in what world is 31.87ms slow, I mean, I&#x27;ve seen logs in where validation took that <b>*per txin*</b> :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1468302180' id='479149'>
<a class='timestamp' href='#479149'><time timestamp='2016-07-12T05:43:00Z'>05:43</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
wumpus, in a world where i can mess with settings and have an average block validate in 30ms
<br>
</div>

<div class='talk op-msg' data-timestamp='1468302180' id='479150'>
<a class='timestamp' href='#479150'><time timestamp='2016-07-12T05:43:00Z'>05:43</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
thanks to my 8GiB sigcache and 16GiB dbcache
<br>
</div>

<div class='talk op-msg' data-timestamp='1468302180' id='479151'>
<a class='timestamp' href='#479151'><time timestamp='2016-07-12T05:43:00Z'>05:43</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
(and a hack that loads the entire utxo into cache on start)
<br>
</div>

<div class='talk op-msg' data-timestamp='1468302240' id='479152'>
<a class='timestamp' href='#479152'><time timestamp='2016-07-12T05:44:00Z'>05:44</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
wumpus: he&#x27;s optimizing mining overheads, some of them are harder to address than bitcoind behavior. :)  (e.g. cannot decrease the radius of the earth :P )
<br>
</div>

<div class='talk op-msg' data-timestamp='1468302240' id='479153'>
<a class='timestamp' href='#479153'><time timestamp='2016-07-12T05:44:00Z'>05:44</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
phantomcircuit: anyhow to say more about it we
<br>
</div>

<div class='talk op-msg' data-timestamp='1468302300' id='479154'>
<a class='timestamp' href='#479154'><time timestamp='2016-07-12T05:45:00Z'>05:45</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
&#x27;d need detailed profiling of that step
<br>
</div>

<div class='talk op-msg' data-timestamp='1468302360' id='479155'>
<a class='timestamp' href='#479155'><time timestamp='2016-07-12T05:46:00Z'>05:46</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
gmaxwell, im working on that, i have a plan to drill down and around the mantle
<br>
</div>

<div class='talk op-msg' data-timestamp='1468302360' id='479156'>
<a class='timestamp' href='#479156'><time timestamp='2016-07-12T05:46:00Z'>05:46</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
i only need a few trillion dollars
<br>
</div>

<div class='talk op-msg' data-timestamp='1468302420' id='479157'>
<a class='timestamp' href='#479157'><time timestamp='2016-07-12T05:47:00Z'>05:47</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
/msg phantomcircuit has the patent issued yet for the neutrion based transciever yet?
<br>
</div>

<div class='talk op-msg' data-timestamp='1468302540' id='479158'>
<a class='timestamp' href='#479158'><time timestamp='2016-07-12T05:49:00Z'>05:49</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
gmaxwell: yes can only get as close as possible to the physical limit
<br>
</div>

<div class='talk op-msg' data-timestamp='1468302720' id='479159'>
<a class='timestamp' href='#479159'><time timestamp='2016-07-12T05:52:00Z'>05:52</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
wumpus: there are a number of things that aren&#x27;t the physical limits but are still harder to speedup than core, also at least as long as validation is in the relay critical path, any part of validation adds up as the node count increases. Though thats probably better fixed by getting validation out of the critcial path for relay to other full nodes.
<br>
</div>

<div class='talk op-msg' data-timestamp='1468303320' id='479160'>
<a class='timestamp' href='#479160'><time timestamp='2016-07-12T06:02:00Z'>06:02</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
gmaxwell: what kind of things, optimizing the P2P protocol? network infrastructure?
<br>
</div>

<div class='talk op-msg' data-timestamp='1468303440' id='479161'>
<a class='timestamp' href='#479161'><time timestamp='2016-07-12T06:04:00Z'>06:04</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
as long as any part of validation is the bottleneck, optimizing that is still part of &#x27;speeding up core&#x27;
<br>
</div>

<div class='talk op-msg' data-timestamp='1468303620' id='479162'>
<a class='timestamp' href='#479162'><time timestamp='2016-07-12T06:07:00Z'>06:07</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
if validation is out of the critical part all that is left is the network, where the random P2P network isn&#x27;t the most efficient structure for propagating something around the world quickly
<br>
</div>

<div class='talk op-msg' data-timestamp='1468303740' id='479163'>
<a class='timestamp' href='#479163'><time timestamp='2016-07-12T06:09:00Z'>06:09</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
(but that&#x27;s what the relay network is for)
<br>
</div>

<div class='talk op-msg' data-timestamp='1468305420' id='479164'>
<a class='timestamp' href='#479164'><time timestamp='2016-07-12T06:37:00Z'>06:37</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
phantomcircuit: it&#x27;s good to see that part of the logic becoming measurable :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1468305480' id='479165'>
<a class='timestamp' href='#479165'><time timestamp='2016-07-12T06:38:00Z'>06:38</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
phantomcircuit: it would be nice if you could see if the two PRs i referenced on your issue affect that number
<br>
</div>

<div class='talk op-msg' data-timestamp='1468316820' id='479166'>
<a class='timestamp' href='#479166'><time timestamp='2016-07-12T09:47:00Z'>09:47</time></a>
&lt;<span class='nick nick-6'> GitHub97</span>&gt;
[bitcoin] laanwj pushed 1 new commit to master: <a href="https://github.com/bitcoin/bitcoin/commit/4831a16223dbb42da3091e616c47eeb01f53f73b" class="link" target="_blank">https://github.com/bitcoin/bitcoin/commit/4831a16223dbb42da3091e616c47eeb01f53f73b</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1468316820' id='479167'>
<a class='timestamp' href='#479167'><time timestamp='2016-07-12T09:47:00Z'>09:47</time></a>
&lt;<span class='nick nick-6'> GitHub97</span>&gt;
bitcoin/master 4831a16 Wladimir J. van der Laan: qt: periodic translation update...
<br>
</div>

<div class='talk op-msg' data-timestamp='1468320840' id='479168'>
<a class='timestamp' href='#479168'><time timestamp='2016-07-12T10:54:00Z'>10:54</time></a>
&lt;<span class='nick nick-2'> GitHub74</span>&gt;
[bitcoin] kholbekj opened pull request #8335: update inline copyright notices (master...update-inline-copyright) <a href="https://github.com/bitcoin/bitcoin/pull/8335" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8335</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1468324620' id='479169'>
<a class='timestamp' href='#479169'><time timestamp='2016-07-12T11:57:00Z'>11:57</time></a>
&lt;<span class='nick nick-5'> GitHub72</span>&gt;
[bitcoin] jonasschnelli closed pull request #8335: update inline copyright notices (master...update-inline-copyright) <a href="https://github.com/bitcoin/bitcoin/pull/8335" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8335</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1468333620' id='479170'>
<a class='timestamp' href='#479170'><time timestamp='2016-07-12T14:27:00Z'>14:27</time></a>
&lt;<span class='nick nick-10'> michagogo</span>&gt;
Has anyone looked into packaging Bitcoin Core into a snap?
<br>
</div>

<div class='talk op-msg' data-timestamp='1468333620' id='479171'>
<a class='timestamp' href='#479171'><time timestamp='2016-07-12T14:27:00Z'>14:27</time></a>
&lt;<span class='nick nick-10'> michagogo</span>&gt;
(Ubuntu&#x27;s new packaging format)
<br>
</div>

<div class='talk op-msg' data-timestamp='1468333680' id='479172'>
<a class='timestamp' href='#479172'><time timestamp='2016-07-12T14:28:00Z'>14:28</time></a>
&lt;<span class='nick nick-10'> michagogo</span>&gt;
I haven&#x27;t gotten a chance to look at it closely (and I don&#x27;t know if I&#x27;d really understand it), but it sounds like it&#x27;s an Ubuntu-supported way for devs to package apps in self-contained packages that can update independently of the distro
<br>
</div>

<div class='talk op-msg' data-timestamp='1468333740' id='479173'>
<a class='timestamp' href='#479173'><time timestamp='2016-07-12T14:29:00Z'>14:29</time></a>
&lt;<span class='nick nick-10'> michagogo</span>&gt;
Which sounds like it would solve a lot of the problems we&#x27;ve had with Bitcoin being packaged in the Ubuntu repos
<br>
</div>

<div class='talk op-msg' data-timestamp='1468333740' id='479174'>
<a class='timestamp' href='#479174'><time timestamp='2016-07-12T14:29:00Z'>14:29</time></a>
&lt;<span class='nick nick-10'> michagogo</span>&gt;
(i.e. it <u>_might_</u> let us sanely get Bitcoin Core into Ubuntu)
<br>
</div>

<div class='talk op-msg' data-timestamp='1468333740' id='479175'>
<a class='timestamp' href='#479175'><time timestamp='2016-07-12T14:29:00Z'>14:29</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sounds interesting
<br>
</div>

<div class='talk op-msg' data-timestamp='1468334340' id='479176'>
<a class='timestamp' href='#479176'><time timestamp='2016-07-12T14:39:00Z'>14:39</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sounds good... the current PPA is maintained by thebluematt, maybe he&#x27;s interested
<br>
</div>

<div class='talk op-msg' data-timestamp='1468346580' id='479177'>
<a class='timestamp' href='#479177'><time timestamp='2016-07-12T18:03:00Z'>18:03</time></a>
&lt;<span class='nick nick-11'> xinxi</span>&gt;
I&#x27;ve herd there is slack group for Bitcoin core dev. Who can tell me the URL?
<br>
</div>

<div class='talk op-msg' data-timestamp='1468346820' id='479178'>
<a class='timestamp' href='#479178'><time timestamp='2016-07-12T18:07:00Z'>18:07</time></a>
&lt;<span class='nick nick-6'> btcdrak</span>&gt;
xinxi: slack.bitcoincore.org
<br>
</div>

<div class='talk op-msg' data-timestamp='1468346820' id='479179'>
<a class='timestamp' href='#479179'><time timestamp='2016-07-12T18:07:00Z'>18:07</time></a>
&lt;<span class='nick nick-7'> eragmus</span>&gt;
xinxi: <a href="https://slack.bitcoincore.org" class="link" target="_blank">https://slack.bitcoincore.org</a> -- However, it is not really focused on Core development. It&#x27;s a general purpose community with nearly 2,000 members who discuss all manner of topics.
<br>
</div>

<div class='talk op-msg' data-timestamp='1468346820' id='479180'>
<a class='timestamp' href='#479180'><time timestamp='2016-07-12T18:07:00Z'>18:07</time></a>
&lt;<span class='nick nick-6'> btcdrak</span>&gt;
but it&#x27;s more a community slack.
<br>
</div>

<div class='talk op-msg' data-timestamp='1468346820' id='479181'>
<a class='timestamp' href='#479181'><time timestamp='2016-07-12T18:07:00Z'>18:07</time></a>
&lt;<span class='nick nick-11'> xinxi</span>&gt;
thank you.
<br>
</div>

<div class='talk op-msg' data-timestamp='1468347360' id='479182'>
<a class='timestamp' href='#479182'><time timestamp='2016-07-12T18:16:00Z'>18:16</time></a>
&lt;<span class='nick nick-11'> xinxi</span>&gt;
Oh, messages sent on slack cannot be seen here.
<br>
</div>

<div class='talk op-msg' data-timestamp='1468347600' id='479183'>
<a class='timestamp' href='#479183'><time timestamp='2016-07-12T18:20:00Z'>18:20</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
Is there some weird semantics with TransactionMessage on the p2p network that are different than BlockMessage? Besides switching MsgBlock to MsgTx
<br>
</div>

<div class='talk op-msg' data-timestamp='1468347600' id='479184'>
<a class='timestamp' href='#479184'><time timestamp='2016-07-12T18:20:00Z'>18:20</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
I keep getting a NotFound message response, when I know the tx exists
<br>
</div>

<div class='talk op-msg' data-timestamp='1468347600' id='479185'>
<a class='timestamp' href='#479185'><time timestamp='2016-07-12T18:20:00Z'>18:20</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
Chris_Stewart_5: you can&#x27;t just request any transaction
<br>
</div>

<div class='talk op-msg' data-timestamp='1468347600' id='479186'>
<a class='timestamp' href='#479186'><time timestamp='2016-07-12T18:20:00Z'>18:20</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
only things that have been advertized to you
<br>
</div>

<div class='talk op-msg' data-timestamp='1468347660' id='479187'>
<a class='timestamp' href='#479187'><time timestamp='2016-07-12T18:21:00Z'>18:21</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
(reasons for this are 1) there is no full index for all transactions in the chain 2) there is a privacy leak if you allow peers to check whether you have seen a particular transaction already)
<br>
</div>

<div class='talk op-msg' data-timestamp='1468347780' id='479188'>
<a class='timestamp' href='#479188'><time timestamp='2016-07-12T18:23:00Z'>18:23</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
so what does -reindex allows you to easily search by header id then? And can you elaborate more on 2)? Does that allow them withold honest txs from you if you are being sybil attacked?
<br>
</div>

<div class='talk op-msg' data-timestamp='1468347840' id='479189'>
<a class='timestamp' href='#479189'><time timestamp='2016-07-12T18:24:00Z'>18:24</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
Chris_Stewart_5: the network tries to hide where a transaction originates
<br>
</div>

<div class='talk op-msg' data-timestamp='1468347840' id='479190'>
<a class='timestamp' href='#479190'><time timestamp='2016-07-12T18:24:00Z'>18:24</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
for that, transactions are relayed with random delays between them, and in different order for different peers
<br>
</div>

<div class='talk op-msg' data-timestamp='1468347900' id='479191'>
<a class='timestamp' href='#479191'><time timestamp='2016-07-12T18:25:00Z'>18:25</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
if i could query whether you have a transaction that i know about, but you haven&#x27;t told me about, i can bypass that mechanism
<br>
</div>

<div class='talk op-msg' data-timestamp='1468347900' id='479192'>
<a class='timestamp' href='#479192'><time timestamp='2016-07-12T18:25:00Z'>18:25</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
Chris_Stewart_5: -reindex just throws away the database and builds a new one
<br>
</div>

<div class='talk op-msg' data-timestamp='1468347900' id='479193'>
<a class='timestamp' href='#479193'><time timestamp='2016-07-12T18:25:00Z'>18:25</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
Sorry i meant -txindex
<br>
</div>

<div class='talk op-msg' data-timestamp='1468347900' id='479194'>
<a class='timestamp' href='#479194'><time timestamp='2016-07-12T18:25:00Z'>18:25</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yes, that&#x27;s for local consumption
<br>
</div>

<div class='talk op-msg' data-timestamp='1468347960' id='479195'>
<a class='timestamp' href='#479195'><time timestamp='2016-07-12T18:26:00Z'>18:26</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
not exposed to the network
<br>
</div>

<div class='talk op-msg' data-timestamp='1468347960' id='479196'>
<a class='timestamp' href='#479196'><time timestamp='2016-07-12T18:26:00Z'>18:26</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
Ok. So if I am understanding you correctly we allow arbitrary block querying because 1.) we need it to sync nodes on the network, 2.) You can&#x27;t tell where a tx originates from once it is included in the block
<br>
</div>

<div class='talk op-msg' data-timestamp='1468348020' id='479197'>
<a class='timestamp' href='#479197'><time timestamp='2016-07-12T18:27:00Z'>18:27</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
What file is the code in wrt to transaction propogation? main.cpp? net.cpp?
<br>
</div>

<div class='talk op-msg' data-timestamp='1468348020' id='479198'>
<a class='timestamp' href='#479198'><time timestamp='2016-07-12T18:27:00Z'>18:27</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
both
<br>
</div>

<div class='talk op-msg' data-timestamp='1468348320' id='479199'>
<a class='timestamp' href='#479199'><time timestamp='2016-07-12T18:32:00Z'>18:32</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
sipa: Is this section in the developer reference wrong then? Under the heading &#x27;Transaction response&#x27; <a href="https://bitcoin.org/en/developer-reference#tx" class="link" target="_blank">https://bitcoin.org/en/developer-reference#tx</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1468348320' id='479200'>
<a class='timestamp' href='#479200'><time timestamp='2016-07-12T18:32:00Z'>18:32</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
no
<br>
</div>

<div class='talk op-msg' data-timestamp='1468348320' id='479201'>
<a class='timestamp' href='#479201'><time timestamp='2016-07-12T18:32:00Z'>18:32</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
I interpreted it as you build a getdata message, send it and then get a tx message response
<br>
</div>

<div class='talk op-msg' data-timestamp='1468348380' id='479202'>
<a class='timestamp' href='#479202'><time timestamp='2016-07-12T18:33:00Z'>18:33</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it could be clarified
<br>
</div>

<div class='talk op-msg' data-timestamp='1468348380' id='479203'>
<a class='timestamp' href='#479203'><time timestamp='2016-07-12T18:33:00Z'>18:33</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but it&#x27;s not wrong that a tx is sent as response to getdata TX
<br>
</div>

<div class='talk op-msg' data-timestamp='1468348440' id='479204'>
<a class='timestamp' href='#479204'><time timestamp='2016-07-12T18:34:00Z'>18:34</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but i agree it&#x27;s a bit misleading
<br>
</div>

<div class='talk op-msg' data-timestamp='1468348440' id='479205'>
<a class='timestamp' href='#479205'><time timestamp='2016-07-12T18:34:00Z'>18:34</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
sipa: With the caveat being that the node has already broadcasted the txid to that node requesting the tx with a getdata right?
<br>
</div>

<div class='talk op-msg' data-timestamp='1468348620' id='479206'>
<a class='timestamp' href='#479206'><time timestamp='2016-07-12T18:37:00Z'>18:37</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
or through the bip35 mempool command
<br>
</div>

<div class='talk op-msg' data-timestamp='1468348680' id='479207'>
<a class='timestamp' href='#479207'><time timestamp='2016-07-12T18:38:00Z'>18:38</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
gotcha, thanks.
<br>
</div>

<div class='talk op-msg' data-timestamp='1468348800' id='479208'>
<a class='timestamp' href='#479208'><time timestamp='2016-07-12T18:40:00Z'>18:40</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
also, after relay, you only have a finite amount of time to getdata
<br>
</div>

<div class='talk op-msg' data-timestamp='1468348800' id='479209'>
<a class='timestamp' href='#479209'><time timestamp='2016-07-12T18:40:00Z'>18:40</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i think 15 minutes by default
<br>
</div>

<div class='talk op-msg' data-timestamp='1468348920' id='479210'>
<a class='timestamp' href='#479210'><time timestamp='2016-07-12T18:42:00Z'>18:42</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
Seems like that could have interesting consequences if the hash rate where to suddenly drop significantly. Tx propogation could stagnate couldn&#x27;t it?
<br>
</div>

<div class='talk op-msg' data-timestamp='1468348920' id='479211'>
<a class='timestamp' href='#479211'><time timestamp='2016-07-12T18:42:00Z'>18:42</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
tx propagation has nothing to do with blocks
<br>
</div>

<div class='talk op-msg' data-timestamp='1468349160' id='479212'>
<a class='timestamp' href='#479212'><time timestamp='2016-07-12T18:46:00Z'>18:46</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
True, I guess the scenario I was envisioning in my head would only happen if nodes were constantly being shut off and turned on at an alarming rate
<br>
</div>

<div class='talk op-msg' data-timestamp='1468353720' id='479213'>
<a class='timestamp' href='#479213'><time timestamp='2016-07-12T20:02:00Z'>20:02</time></a>
&lt;<span class='nick nick-16'> bsm117532</span>&gt;
My transactions spending segwit outputs are being rejected by sendrawtransaction...
<br>
</div>

<div class='talk op-msg' data-timestamp='1468353780' id='479214'>
<a class='timestamp' href='#479214'><time timestamp='2016-07-12T20:03:00Z'>20:03</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
what code?
<br>
</div>

<div class='talk op-msg' data-timestamp='1468353780' id='479215'>
<a class='timestamp' href='#479215'><time timestamp='2016-07-12T20:03:00Z'>20:03</time></a>
&lt;<span class='nick nick-16'> bsm117532</span>&gt;
Do I understand correctly that it&#x27;s normal behavior for the segwit input scripts have a leftover element on the stack?
<br>
</div>

<div class='talk op-msg' data-timestamp='1468353780' id='479216'>
<a class='timestamp' href='#479216'><time timestamp='2016-07-12T20:03:00Z'>20:03</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
indeed
<br>
</div>

<div class='talk op-msg' data-timestamp='1468353780' id='479217'>
<a class='timestamp' href='#479217'><time timestamp='2016-07-12T20:03:00Z'>20:03</time></a>
&lt;<span class='nick nick-16'> bsm117532</span>&gt;
64: non-mandatory-script-verify-flag (Script evaluated without error but finished with a false/empty top stack element)
<br>
</div>

<div class='talk op-msg' data-timestamp='1468353840' id='479218'>
<a class='timestamp' href='#479218'><time timestamp='2016-07-12T20:04:00Z'>20:04</time></a>
&lt;<span class='nick nick-16'> bsm117532</span>&gt;
The transaction is <a href="https://www.zerobin.net/?d2c7842e69b63293#PUa9xa3YL9B3N2dwSlbcmfLVMSxyeaUvWJ4YLtp9cEQ" class="link" target="_blank">https://www.zerobin.net/?d2c7842e69b63293#PUa9xa3YL9B3N2dwSlbcmfLVMSxyeaUvWJ4YLtp9cEQ</a>=
<br>
</div>

<div class='talk op-msg' data-timestamp='1468353840' id='479219'>
<a class='timestamp' href='#479219'><time timestamp='2016-07-12T20:04:00Z'>20:04</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that likely means your signature is incorrect
<br>
</div>

<div class='talk op-msg' data-timestamp='1468353840' id='479220'>
<a class='timestamp' href='#479220'><time timestamp='2016-07-12T20:04:00Z'>20:04</time></a>
&lt;<span class='nick nick-16'> bsm117532</span>&gt;
Hmmm ok
<br>
</div>

<div class='talk op-msg' data-timestamp='1468354200' id='479221'>
<a class='timestamp' href='#479221'><time timestamp='2016-07-12T20:10:00Z'>20:10</time></a>
&lt;<span class='nick nick-16'> bsm117532</span>&gt;
I tried to create a spend of a P2WPKH transaction, with the signature and pubkey as the two elements in the witness data.  But signrawtransaction is giving me a txinwitness that contains a signature and a 65 byte-blob.  Is this second value an uncompressed pubkey or something?
<br>
</div>

<div class='talk op-msg' data-timestamp='1468354740' id='479222'>
<a class='timestamp' href='#479222'><time timestamp='2016-07-12T20:19:00Z'>20:19</time></a>
&lt;<span class='nick nick-16'> bsm117532</span>&gt;
Here&#x27;s a decoding of a segwit spend generated by sendrawtransaction and one by me: <a href="https://www.zerobin.net/?9964fec796427a47#3Y2hZLaVTUV03Qx" class="link" target="_blank">https://www.zerobin.net/?9964fec796427a47#3Y2hZLaVTUV03Qx</a>+vEG7i0NYtiDdhVAnM/BE5tEIXFI=
<br>
</div>

<div class='talk op-msg' data-timestamp='1468354800' id='479223'>
<a class='timestamp' href='#479223'><time timestamp='2016-07-12T20:20:00Z'>20:20</time></a>
&lt;<span class='nick nick-16'> bsm117532</span>&gt;
Can someone explain the difference in what sendrawtransaction is putting as the second element of the witness data?
<br>
</div>

<div class='talk op-msg' data-timestamp='1468354800' id='479224'>
<a class='timestamp' href='#479224'><time timestamp='2016-07-12T20:20:00Z'>20:20</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yup, that looks like an uncompressed pubkey
<br>
</div>

<div class='talk op-msg' data-timestamp='1468354860' id='479225'>
<a class='timestamp' href='#479225'><time timestamp='2016-07-12T20:21:00Z'>20:21</time></a>
&lt;<span class='nick nick-16'> bsm117532</span>&gt;
Are uncompressed pubkeys required?  AFAICT that&#x27;s the only difference between the two.
<br>
</div>

<div class='talk op-msg' data-timestamp='1468354860' id='479226'>
<a class='timestamp' href='#479226'><time timestamp='2016-07-12T20:21:00Z'>20:21</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
no
<br>
</div>

<div class='talk op-msg' data-timestamp='1468354860' id='479227'>
<a class='timestamp' href='#479227'><time timestamp='2016-07-12T20:21:00Z'>20:21</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
they&#x27;re even discouraged and no modern bitcoin core wallet will use them by default
<br>
</div>

<div class='talk op-msg' data-timestamp='1468354860' id='479228'>
<a class='timestamp' href='#479228'><time timestamp='2016-07-12T20:21:00Z'>20:21</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but if you have a very old wallet file or have imported uncompressed keys, there is no choice
<br>
</div>

<div class='talk op-msg' data-timestamp='1468354920' id='479229'>
<a class='timestamp' href='#479229'><time timestamp='2016-07-12T20:22:00Z'>20:22</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
*won&#x27;t use them by default
<br>
</div>

<div class='talk op-msg' data-timestamp='1468354980' id='479230'>
<a class='timestamp' href='#479230'><time timestamp='2016-07-12T20:23:00Z'>20:23</time></a>
&lt;<span class='nick nick-16'> bsm117532</span>&gt;
Ok so if sendrawtransaction is using uncompressed pubkeys, it could be a bug, and if segwit script validation is rejecting compressed pubkeys, it could be a bug...I&#x27;ll dig.
<br>
</div>

<div class='talk op-msg' data-timestamp='1468354980' id='479231'>
<a class='timestamp' href='#479231'><time timestamp='2016-07-12T20:23:00Z'>20:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i can guarantee you that compressed pubkeys work
<br>
</div>

<div class='talk op-msg' data-timestamp='1468354980' id='479232'>
<a class='timestamp' href='#479232'><time timestamp='2016-07-12T20:23:00Z'>20:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i suspect that you&#x27;re just signing the incorrect signature hash
<br>
</div>

<div class='talk op-msg' data-timestamp='1468355040' id='479233'>
<a class='timestamp' href='#479233'><time timestamp='2016-07-12T20:24:00Z'>20:24</time></a>
&lt;<span class='nick nick-16'> bsm117532</span>&gt;
That&#x27;s entirely possible.
<br>
</div>

<div class='talk op-msg' data-timestamp='1468355040' id='479234'>
<a class='timestamp' href='#479234'><time timestamp='2016-07-12T20:24:00Z'>20:24</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
(that&#x27;s just from experience of other people seeing fail there)
<br>
</div>

<div class='talk op-msg' data-timestamp='1468355100' id='479235'>
<a class='timestamp' href='#479235'><time timestamp='2016-07-12T20:25:00Z'>20:25</time></a>
&lt;<span class='nick nick-16'> bsm117532</span>&gt;
Ok I&#x27;ll dig there first.  But I&#x27;m also working on a wallet-functionality patch for core.  My node shouldn&#x27;t be generating uncompressed pubkeys, though I do run --with-incompatible-bdb, other than that all keys should be new.
<br>
</div>

<div class='talk op-msg' data-timestamp='1468355100' id='479236'>
<a class='timestamp' href='#479236'><time timestamp='2016-07-12T20:25:00Z'>20:25</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
did you import keys, ever?
<br>
</div>

<div class='talk op-msg' data-timestamp='1468355280' id='479237'>
<a class='timestamp' href='#479237'><time timestamp='2016-07-12T20:28:00Z'>20:28</time></a>
&lt;<span class='nick nick-16'> bsm117532</span>&gt;
Hmmm...possibly.
<br>
</div>

<div class='talk op-msg' data-timestamp='1468355280' id='479238'>
<a class='timestamp' href='#479238'><time timestamp='2016-07-12T20:28:00Z'>20:28</time></a>
&lt;<span class='nick nick-16'> bsm117532</span>&gt;
Should I recreate my wallet then?
<br>
</div>

<div class='talk op-msg' data-timestamp='1468355340' id='479239'>
<a class='timestamp' href='#479239'><time timestamp='2016-07-12T20:29:00Z'>20:29</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
imported keys have a flag that says whether the corresponding pubkey is to compressed or not (otherwise the address is not well defined)
<br>
</div>

<div class='talk op-msg' data-timestamp='1468355340' id='479240'>
<a class='timestamp' href='#479240'><time timestamp='2016-07-12T20:29:00Z'>20:29</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i wouldn&#x27;t bother
<br>
</div>

<div class='talk op-msg' data-timestamp='1468355340' id='479241'>
<a class='timestamp' href='#479241'><time timestamp='2016-07-12T20:29:00Z'>20:29</time></a>
&lt;<span class='nick nick-16'> bsm117532</span>&gt;
Hmm maybe I just got unlucky with the chosen input.
<br>
</div>

<div class='talk op-msg' data-timestamp='1468355520' id='479242'>
<a class='timestamp' href='#479242'><time timestamp='2016-07-12T20:32:00Z'>20:32</time></a>
&lt;<span class='nick nick-14'> * bsm117532</span>&gt;
beats on BIP 143.  I knew it was unlikely that my sighash was correct...
<br>
</div>

<div class='talk op-msg' data-timestamp='1468356120' id='479243'>
<a class='timestamp' href='#479243'><time timestamp='2016-07-12T20:42:00Z'>20:42</time></a>
&lt;<span class='nick nick-14'> * bsm117532</span>&gt;
sees now...BIP 143 isn&#x27;t even remotely close to the pre-segwit algorithm.
<br>
</div>

<div class='talk op-msg' data-timestamp='1468356180' id='479244'>
<a class='timestamp' href='#479244'><time timestamp='2016-07-12T20:43:00Z'>20:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
nope
<br>
</div>

<div class='talk op-msg' data-timestamp='1468356180' id='479245'>
<a class='timestamp' href='#479245'><time timestamp='2016-07-12T20:43:00Z'>20:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it&#x27;s still more or less the same order of data, but all &#x27;over all inputs&#x27; or &#x27;over all outputs&#x27; things are first aggregated into an intermediary hash
<br>
</div>

<div class='talk op-msg' data-timestamp='1468356180' id='479246'>
<a class='timestamp' href='#479246'><time timestamp='2016-07-12T20:43:00Z'>20:43</time></a>
&lt;<span class='nick nick-16'> bsm117532</span>&gt;
In my defense, I wrote in the python-bitcoinlib PR that I didn&#x27;t implement this yet!  ;-)
<br>
</div>

<div class='talk op-msg' data-timestamp='1468357260' id='479247'>
<a class='timestamp' href='#479247'><time timestamp='2016-07-12T21:01:00Z'>21:01</time></a>
&lt;<span class='nick nick-16'> bsm117532</span>&gt;
In BIP 143, this line:   if (!(nHashType &amp; SIGHASH_ANYONECANPAY) &amp;&amp; (nHashType &amp; 0x1f) != SIGHASH_SINGLE &amp;&amp; (nHashType &amp; 0x1f) != SIGHASH_NONE) { 
<br>
</div>

<div class='talk op-msg' data-timestamp='1468357260' id='479248'>
<a class='timestamp' href='#479248'><time timestamp='2016-07-12T21:01:00Z'>21:01</time></a>
&lt;<span class='nick nick-16'> bsm117532</span>&gt;
Isn&#x27;t it simpler to just say: if(nHashType | SIGHASH_ALL)  ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1468357320' id='479249'>
<a class='timestamp' href='#479249'><time timestamp='2016-07-12T21:02:00Z'>21:02</time></a>
&lt;<span class='nick nick-16'> bsm117532</span>&gt;
errr.... if(nHashType &amp; SIGHASH_ALL)
<br>
</div>

<div class='talk op-msg' data-timestamp='1468357440' id='479250'>
<a class='timestamp' href='#479250'><time timestamp='2016-07-12T21:04:00Z'>21:04</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that would not be the same, i think?
<br>
</div>

<div class='talk op-msg' data-timestamp='1468357500' id='479251'>
<a class='timestamp' href='#479251'><time timestamp='2016-07-12T21:05:00Z'>21:05</time></a>
&lt;<span class='nick nick-16'> bsm117532</span>&gt;
I think it&#x27;s the same unless there are more than 4 SIGHASH_* types
<br>
</div>

<div class='talk op-msg' data-timestamp='1468357620' id='479252'>
<a class='timestamp' href='#479252'><time timestamp='2016-07-12T21:07:00Z'>21:07</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
there are 6 combinations
<br>
</div>

<div class='talk op-msg' data-timestamp='1468357680' id='479253'>
<a class='timestamp' href='#479253'><time timestamp='2016-07-12T21:08:00Z'>21:08</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but the sighash byte can have 256 values
<br>
</div>

<div class='talk op-msg' data-timestamp='1468357680' id='479254'>
<a class='timestamp' href='#479254'><time timestamp='2016-07-12T21:08:00Z'>21:08</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
all of which map to one of those 6 formulas
<br>
</div>

<div class='talk op-msg' data-timestamp='1468357860' id='479255'>
<a class='timestamp' href='#479255'><time timestamp='2016-07-12T21:11:00Z'>21:11</time></a>
&lt;<span class='nick nick-16'> bsm117532</span>&gt;
I see.  I thought it was just a bitmap.
<br>
</div>

<div class='talk op-msg' data-timestamp='1468357920' id='479256'>
<a class='timestamp' href='#479256'><time timestamp='2016-07-12T21:12:00Z'>21:12</time></a>
&lt;<span class='nick nick-16'> bsm117532</span>&gt;
Reference implementation is easy to translate to python, I&#x27;ll stop trying to &quot;improve&quot; it.  ;-)
<br>
</div>

<div class='talk op-msg' data-timestamp='1468358040' id='479257'>
<a class='timestamp' href='#479257'><time timestamp='2016-07-12T21:14:00Z'>21:14</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/blob/master/qa/rpc-tests/test_framework/script.py#L908" class="link" target="_blank">https://github.com/bitcoin/bitcoin/blob/master/qa/rpc-tests/test_framework/script.py#L908</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1468358100' id='479258'>
<a class='timestamp' href='#479258'><time timestamp='2016-07-12T21:15:00Z'>21:15</time></a>
&lt;<span class='nick nick-16'> bsm117532</span>&gt;
Thanks!
<br>
</div>

<div class='talk op-msg' data-timestamp='1468358280' id='479259'>
<a class='timestamp' href='#479259'><time timestamp='2016-07-12T21:18:00Z'>21:18</time></a>
&lt;<span class='nick nick-16'> bsm117532</span>&gt;
Sorry I hadn&#x27;t realized this was so close to petertodd&#x27;s repo.
<br>
</div>

<div class='talk op-msg' data-timestamp='1468358340' id='479260'>
<a class='timestamp' href='#479260'><time timestamp='2016-07-12T21:19:00Z'>21:19</time></a>
&lt;<span class='nick nick-14'> * bsm117532</span>&gt;
diffs.
<br>
</div>

<div class='talk op-msg' data-timestamp='1468358340' id='479261'>
<a class='timestamp' href='#479261'><time timestamp='2016-07-12T21:19:00Z'>21:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i think it forked off a long time ago
<br>
</div>

<div class='talk op-msg' data-timestamp='1468358400' id='479262'>
<a class='timestamp' href='#479262'><time timestamp='2016-07-12T21:20:00Z'>21:20</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it&#x27;s a forked, stripped, and then extended version just for tests
<br>
</div>

<div class='talk op-msg' data-timestamp='1468358400' id='479263'>
<a class='timestamp' href='#479263'><time timestamp='2016-07-12T21:20:00Z'>21:20</time></a>
&lt;<span class='nick nick-16'> bsm117532</span>&gt;
makes sense.
<br>
</div>

<div class='talk op-msg' data-timestamp='1468358700' id='479264'>
<a class='timestamp' href='#479264'><time timestamp='2016-07-12T21:25:00Z'>21:25</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but feel free to steal/donate code of course
<br>
</div>

<div class='talk op-msg' data-timestamp='1468358700' id='479265'>
<a class='timestamp' href='#479265'><time timestamp='2016-07-12T21:25:00Z'>21:25</time></a>
&lt;<span class='nick nick-16'> bsm117532</span>&gt;
Thanks, I&#x27;ll attribute what I steal.
<br>
</div>

<div class='talk op-msg' data-timestamp='1468362240' id='479266'>
<a class='timestamp' href='#479266'><time timestamp='2016-07-12T22:24:00Z'>22:24</time></a>
&lt;<span class='nick nick-5'> midnightmagic</span>&gt;
sipa (or anyone really): When a node hears about a sibling block to its current valid head, it ignores it, correct? Or does it hold it until it discovers which fork the miners settle on?
<br>
</div>

<div class='talk op-msg' data-timestamp='1468362240' id='479267'>
<a class='timestamp' href='#479267'><time timestamp='2016-07-12T22:24:00Z'>22:24</time></a>
&lt;<span class='nick nick-5'> midnightmagic</span>&gt;
I thought it sits on it so long as it is also valid and does not represent less work than the current head?
<br>
</div>

<div class='talk op-msg' data-timestamp='1468362480' id='479268'>
<a class='timestamp' href='#479268'><time timestamp='2016-07-12T22:28:00Z'>22:28</time></a>
&lt;<span class='nick nick-16'> bsm117532</span>&gt;
midnightmagic: It&#x27;s my understanding that it doesn&#x27;t <b>*relay*</b> it, but does track its chain tip, in case its PoW becomes larger.
<br>
</div>

<div class='talk op-msg' data-timestamp='1468363860' id='479269'>
<a class='timestamp' href='#479269'><time timestamp='2016-07-12T22:51:00Z'>22:51</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
midnightmagic: we keep track of the headers
<br>
</div>

<div class='talk op-msg' data-timestamp='1468363920' id='479270'>
<a class='timestamp' href='#479270'><time timestamp='2016-07-12T22:52:00Z'>22:52</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
midnightmagic: but only actively try to fetch the blocks if they&#x27;re overtaking our best chain
<br>
</div>

<div class='talk op-msg' data-timestamp='1468363920' id='479271'>
<a class='timestamp' href='#479271'><time timestamp='2016-07-12T22:52:00Z'>22:52</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
under certain circumstances we do accept unsolicited blocks
<br>
</div>

<div class='talk op-msg' data-timestamp='1468364340' id='479272'>
<a class='timestamp' href='#479272'><time timestamp='2016-07-12T22:59:00Z'>22:59</time></a>
&lt;<span class='nick nick-5'> midnightmagic</span>&gt;
sipa: can you give me an example of one of those edge cases? I don&#x27;t need gritty details..
<br>
</div>

<div class='talk op-msg' data-timestamp='1468364400' id='479273'>
<a class='timestamp' href='#479273'><time timestamp='2016-07-12T23:00:00Z'>23:00</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
midnightmagic: not edge case; it&#x27;s very intentional... for example, nodes connected to the (old) relay network would get blocks pushed directly to them
<br>
</div>

<div class='talk op-msg' data-timestamp='1468364400' id='479274'>
<a class='timestamp' href='#479274'><time timestamp='2016-07-12T23:00:00Z'>23:00</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it would be silly to not accept those
<br>
</div>

<div class='talk op-msg' data-timestamp='1468364520' id='479275'>
<a class='timestamp' href='#479275'><time timestamp='2016-07-12T23:02:00Z'>23:02</time></a>
&lt;<span class='nick nick-5'> midnightmagic</span>&gt;
sipa: So an old-style block chatter is still accepted wholesale and validation proceeds (and then stored but still not considered canonical head until Y+1 indicates the fork has overtaken X.)
<br>
</div>

<div class='talk op-msg' data-timestamp='1468364520' id='479276'>
<a class='timestamp' href='#479276'><time timestamp='2016-07-12T23:02:00Z'>23:02</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
midnightmagic: well in almost all cases the new block is not a reorg
<br>
</div>

<div class='talk op-msg' data-timestamp='1468364520' id='479277'>
<a class='timestamp' href='#479277'><time timestamp='2016-07-12T23:02:00Z'>23:02</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but we don&#x27;t know that in advance
<br>
</div>

<div class='talk op-msg' data-timestamp='1468364580' id='479278'>
<a class='timestamp' href='#479278'><time timestamp='2016-07-12T23:03:00Z'>23:03</time></a>
&lt;<span class='nick nick-16'> bsm117532</span>&gt;
petertodd: I notice in python-bitcoinlib that CScript treats OP_0 as an empty data push b&#x27;&#x27;.  It&#x27;s used as the segwit version number.  Is there good reason to treat OP_0 as an empty data push over a small integer with value 0?
<br>
</div>

<div class='talk op-msg' data-timestamp='1468364580' id='479279'>
<a class='timestamp' href='#479279'><time timestamp='2016-07-12T23:03:00Z'>23:03</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
bsm117532: you can&#x27;t change the semantics of the scripting language...
<br>
</div>

<div class='talk op-msg' data-timestamp='1468364580' id='479280'>
<a class='timestamp' href='#479280'><time timestamp='2016-07-12T23:03:00Z'>23:03</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
OP_0 by definition pushes the byte sequence &#x27;&#x27;
<br>
</div>

<div class='talk op-msg' data-timestamp='1468364580' id='479281'>
<a class='timestamp' href='#479281'><time timestamp='2016-07-12T23:03:00Z'>23:03</time></a>
&lt;<span class='nick nick-16'> bsm117532</span>&gt;
Is that changing the semantics?
<br>
</div>

<div class='talk op-msg' data-timestamp='1468364580' id='479282'>
<a class='timestamp' href='#479282'><time timestamp='2016-07-12T23:03:00Z'>23:03</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1468364640' id='479283'>
<a class='timestamp' href='#479283'><time timestamp='2016-07-12T23:04:00Z'>23:04</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
if you would compare it to the empty string later, it has to succeed
<br>
</div>

<div class='talk op-msg' data-timestamp='1468364640' id='479284'>
<a class='timestamp' href='#479284'><time timestamp='2016-07-12T23:04:00Z'>23:04</time></a>
&lt;<span class='nick nick-5'> midnightmagic</span>&gt;
sipa: Is the strict difficulty of the block hash now considered in terms of deciding validity of head? I know you guys were thinking of doing that instead of just the difficulty target of the block itself..
<br>
</div>

<div class='talk op-msg' data-timestamp='1468364640' id='479285'>
<a class='timestamp' href='#479285'><time timestamp='2016-07-12T23:04:00Z'>23:04</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
bsm117532: the script language stack only has one data type, byte array
<br>
</div>

<div class='talk op-msg' data-timestamp='1468364640' id='479286'>
<a class='timestamp' href='#479286'><time timestamp='2016-07-12T23:04:00Z'>23:04</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
some operators treat the elements as numbers, but that&#x27;s not relevant
<br>
</div>

<div class='talk op-msg' data-timestamp='1468364700' id='479287'>
<a class='timestamp' href='#479287'><time timestamp='2016-07-12T23:05:00Z'>23:05</time></a>
&lt;<span class='nick nick-16'> bsm117532</span>&gt;
sipa: okay, I&#x27;m comparing to your bip141 which writes scriptPubKey as: 0 &lt;20-byte-key-hash&gt;, but obviously b&#x27;&#x27; &lt;20-byte-key-hash&gt; is equivalent.
<br>
</div>

<div class='talk op-msg' data-timestamp='1468364700' id='479288'>
<a class='timestamp' href='#479288'><time timestamp='2016-07-12T23:05:00Z'>23:05</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
no
<br>
</div>

<div class='talk op-msg' data-timestamp='1468364700' id='479289'>
<a class='timestamp' href='#479289'><time timestamp='2016-07-12T23:05:00Z'>23:05</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it&#x27;s OP_0 and then a 20-byte push
<br>
</div>

<div class='talk op-msg' data-timestamp='1468364760' id='479290'>
<a class='timestamp' href='#479290'><time timestamp='2016-07-12T23:06:00Z'>23:06</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
oh, that&#x27;s what you mean
<br>
</div>

<div class='talk op-msg' data-timestamp='1468364760' id='479291'>
<a class='timestamp' href='#479291'><time timestamp='2016-07-12T23:06:00Z'>23:06</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
why can&#x27;t you use OP_0 ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1468364760' id='479292'>
<a class='timestamp' href='#479292'><time timestamp='2016-07-12T23:06:00Z'>23:06</time></a>
&lt;<span class='nick nick-16'> bsm117532</span>&gt;
Yes.  python-bitcoinlib treats it as an empty byte array push, followed by a 20-byte push.
<br>
</div>

<div class='talk op-msg' data-timestamp='1468364760' id='479293'>
<a class='timestamp' href='#479293'><time timestamp='2016-07-12T23:06:00Z'>23:06</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that&#x27;s correct
<br>
</div>

<div class='talk op-msg' data-timestamp='1468364760' id='479294'>
<a class='timestamp' href='#479294'><time timestamp='2016-07-12T23:06:00Z'>23:06</time></a>
&lt;<span class='nick nick-16'> bsm117532</span>&gt;
It doesn&#x27;t give me OP_0.  It decodes OP_1...OP_16 but does not decode OP_0.
<br>
</div>

<div class='talk op-msg' data-timestamp='1468364820' id='479295'>
<a class='timestamp' href='#479295'><time timestamp='2016-07-12T23:07:00Z'>23:07</time></a>
&lt;<span class='nick nick-16'> bsm117532</span>&gt;
This is to do with the <u>__iter__</u> method of CScript, which parses it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1468364820' id='479296'>
<a class='timestamp' href='#479296'><time timestamp='2016-07-12T23:07:00Z'>23:07</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that sounds like a bug
<br>
</div>

<div class='talk op-msg' data-timestamp='1468364820' id='479297'>
<a class='timestamp' href='#479297'><time timestamp='2016-07-12T23:07:00Z'>23:07</time></a>
&lt;<span class='nick nick-16'> bsm117532</span>&gt;
That&#x27;s why I asked.  ;-)
<br>
</div>

<div class='talk op-msg' data-timestamp='1468364820' id='479298'>
<a class='timestamp' href='#479298'><time timestamp='2016-07-12T23:07:00Z'>23:07</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but i don&#x27;t know python-bitcoinlib
<br>
</div>

<div class='talk op-msg' data-timestamp='1468364880' id='479299'>
<a class='timestamp' href='#479299'><time timestamp='2016-07-12T23:08:00Z'>23:08</time></a>
&lt;<span class='nick nick-16'> bsm117532</span>&gt;
Maybe petertodd will happen by ;-)
<br>
</div>

<div class='talk op-msg' data-timestamp='1468365060' id='479300'>
<a class='timestamp' href='#479300'><time timestamp='2016-07-12T23:11:00Z'>23:11</time></a>
&lt;<span class='nick nick-16'> bsm117532</span>&gt;
There are two iterators, a &quot;raw&quot; iterator, for people who want to tell the difference between PUSHDATA* and a &quot;cooked&quot; iterator which is supposed to be &quot;intuitive&quot; or something.  I&#x27;ll put the difference into the &quot;cooked&quot; iterator.
<br>
</div>

<div class='talk op-msg' data-timestamp='1468365120' id='479301'>
<a class='timestamp' href='#479301'><time timestamp='2016-07-12T23:12:00Z'>23:12</time></a>
&lt;<span class='nick nick-16'> bsm117532</span>&gt;
so now I get: CScript([OP_0, x(&#x27;a87e6d173860ff1dfc8849f2638182aa36058389&#x27;)])
<br>
</div>

</div>
</section>

</body>
</html>
