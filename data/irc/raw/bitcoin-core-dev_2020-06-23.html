<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2020-06-23
 ‚Äî 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2020-06-23' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:18 UTC</pre>
<pre><a href="/bitcoin-core-dev/2020-05-23">&lt;</a><span class='header'>    June 2020     </span><a href="/bitcoin-core-dev/2020-07-23">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;    <a class="" href="/bitcoin-core-dev/2020-06-01">1</a>  <a class="" href="/bitcoin-core-dev/2020-06-02">2</a>  <a class="" href="/bitcoin-core-dev/2020-06-03">3</a>  <a class="" href="/bitcoin-core-dev/2020-06-04">4</a>  <a class="" href="/bitcoin-core-dev/2020-06-05">5</a>  <a class="" href="/bitcoin-core-dev/2020-06-06">6</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2020-06-07">7</a>  <a class="" href="/bitcoin-core-dev/2020-06-08">8</a>  <a class="" href="/bitcoin-core-dev/2020-06-09">9</a> <a class="" href="/bitcoin-core-dev/2020-06-10">10</a> <a class="" href="/bitcoin-core-dev/2020-06-11">11</a> <a class="" href="/bitcoin-core-dev/2020-06-12">12</a> <a class="" href="/bitcoin-core-dev/2020-06-13">13</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2020-06-14">14</a> <a class="" href="/bitcoin-core-dev/2020-06-15">15</a> <a class="" href="/bitcoin-core-dev/2020-06-16">16</a> <a class="" href="/bitcoin-core-dev/2020-06-17">17</a> <a class="" href="/bitcoin-core-dev/2020-06-18">18</a> <a class="" href="/bitcoin-core-dev/2020-06-19">19</a> <a class="" href="/bitcoin-core-dev/2020-06-20">20</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2020-06-21">21</a> <a class="" href="/bitcoin-core-dev/2020-06-22">22</a> <a class="current" href="/bitcoin-core-dev/2020-06-23">23</a> <a class="" href="/bitcoin-core-dev/2020-06-24">24</a> <a class="" href="/bitcoin-core-dev/2020-06-25">25</a> <a class="" href="/bitcoin-core-dev/2020-06-26">26</a> <a class="" href="/bitcoin-core-dev/2020-06-27">27</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2020-06-28">28</a> <a class="" href="/bitcoin-core-dev/2020-06-29">29</a> <a class="" href="/bitcoin-core-dev/2020-06-30">30</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1592880120' id='393501'>
<a class='timestamp' href='#393501'><time timestamp='2020-06-23T02:42:00Z'>02:42</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] gwillen opened pull request #19356: build: Fix &amp; improve the search for BDB (master...feature-bdb-search-fix-osx) <a href="https://github.com/bitcoin/bitcoin/pull/19356" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19356</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1592880180' id='393502'>
<a class='timestamp' href='#393502'><time timestamp='2020-06-23T02:43:00Z'>02:43</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
if anybody loves (or hates) autotools, I would love a look at the PR I just opened ^
<br>
</div>

<div class='talk op-msg' data-timestamp='1592880180' id='393503'>
<a class='timestamp' href='#393503'><time timestamp='2020-06-23T02:43:00Z'>02:43</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
I made one change that I actually need to fix a specific issue on my OS X system, and some general cleanup that I will remove if it&#x27;s controversial.
<br>
</div>

<div class='talk op-msg' data-timestamp='1592880180' id='393504'>
<a class='timestamp' href='#393504'><time timestamp='2020-06-23T02:43:00Z'>02:43</time></a>
&lt;<span class='nick nick-4'> * sipa</span>&gt;
summons cfields ^
<br>
</div>

<div class='talk op-msg' data-timestamp='1592880240' id='393505'>
<a class='timestamp' href='#393505'><time timestamp='2020-06-23T02:44:00Z'>02:44</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
if anybody remembers my comment about mysterious segfaults when building another PR, this PR is the punchline (without it, I end up getting headers from one version of bdb, and libs from another version.)
<br>
</div>

<div class='talk op-msg' data-timestamp='1592881620' id='393506'>
<a class='timestamp' href='#393506'><time timestamp='2020-06-23T03:07:00Z'>03:07</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
gwillen: thanks. Looks more correct at a glance, will look in detail tomorrow.
<br>
</div>

<div class='talk op-msg' data-timestamp='1592881620' id='393507'>
<a class='timestamp' href='#393507'><time timestamp='2020-06-23T03:07:00Z'>03:07</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
thanks very much for the quick look cfields!
<br>
</div>

<div class='talk op-msg' data-timestamp='1592881740' id='393508'>
<a class='timestamp' href='#393508'><time timestamp='2020-06-23T03:09:00Z'>03:09</time></a>
&lt;<span class='nick nick-15'> * cfields</span>&gt;
considers picking a CFLAGS fight just because gwillen seems to want it
<br>
</div>

<div class='talk op-msg' data-timestamp='1592881800' id='393509'>
<a class='timestamp' href='#393509'><time timestamp='2020-06-23T03:10:00Z'>03:10</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
Joking, of course. I agree with you. It&#x27;s just sometimes hard to balance the fact that everyone wants CFLAGS as a hammer.
<br>
</div>

<div class='talk op-msg' data-timestamp='1592881860' id='393510'>
<a class='timestamp' href='#393510'><time timestamp='2020-06-23T03:11:00Z'>03:11</time></a>
&lt;<span class='nick nick-4'> * sipa</span>&gt;
idly suggests switching to maven
<br>
</div>

<div class='talk op-msg' data-timestamp='1592881860' id='393511'>
<a class='timestamp' href='#393511'><time timestamp='2020-06-23T03:11:00Z'>03:11</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
sipa: patches welcome!
<br>
</div>

<div class='talk op-msg' data-timestamp='1592881920' id='393512'>
<a class='timestamp' href='#393512'><time timestamp='2020-06-23T03:12:00Z'>03:12</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
üò¢
<br>
</div>

<div class='talk op-msg' data-timestamp='1592881920' id='393513'>
<a class='timestamp' href='#393513'><time timestamp='2020-06-23T03:12:00Z'>03:12</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
(comprehensive patches :p)
<br>
</div>

<div class='talk op-msg' data-timestamp='1592881920' id='393514'>
<a class='timestamp' href='#393514'><time timestamp='2020-06-23T03:12:00Z'>03:12</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
haha
<br>
</div>

<div class='talk op-msg' data-timestamp='1592882340' id='393515'>
<a class='timestamp' href='#393515'><time timestamp='2020-06-23T03:19:00Z'>03:19</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
cfields: yeah I am happy to relinquish the CFLAGS/CPPFLAGS part of the change if that will make life easier, but I figured I&#x27;d try for a cleanup while I was poking around
<br>
</div>

<div class='talk op-msg' data-timestamp='1592882400' id='393516'>
<a class='timestamp' href='#393516'><time timestamp='2020-06-23T03:20:00Z'>03:20</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
I can understand why people reach for CFLAGS, it is all over documentation everywhere, I would have done the same but I learned the difference in reading the documentation while making this change :-)
<br>
</div>

<div class='talk op-msg' data-timestamp='1592883540' id='393517'>
<a class='timestamp' href='#393517'><time timestamp='2020-06-23T03:39:00Z'>03:39</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
gwillen: the reason I think I&#x27;m going to have to fight you on it is because pkg-config uses the _CFLAGS convention. So if you do &quot;./configure --help&quot;, all of the paths are _CFLAGS. Which is really unfortunate, because _CPPFLAGS would make much more sense for those.
<br>
</div>

<div class='talk op-msg' data-timestamp='1592883660' id='393518'>
<a class='timestamp' href='#393518'><time timestamp='2020-06-23T03:41:00Z'>03:41</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
But I&#x27;m not completely sure what your problem is independent of the _CFLAGS change. Is it just that the include-order is wrong in the brew case?
<br>
</div>

<div class='talk op-msg' data-timestamp='1592884320' id='393519'>
<a class='timestamp' href='#393519'><time timestamp='2020-06-23T03:52:00Z'>03:52</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
cfields: correct, the change from CFLAGS/LIBS to BDB_CFLAGS/BDB_LIBS fixes the include order in the brew case, it pushes the BDB 4.8 include earlier, to override the inclusion of /usr/local/include elsewhere in the list of paths, which pulls in all kinds of random stuff
<br>
</div>

<div class='talk op-msg' data-timestamp='1592884380' id='393520'>
<a class='timestamp' href='#393520'><time timestamp='2020-06-23T03:53:00Z'>03:53</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
whereas the CFLAGS/CPPFLAGS change is just for fun
<br>
</div>

<div class='talk op-msg' data-timestamp='1592884380' id='393521'>
<a class='timestamp' href='#393521'><time timestamp='2020-06-23T03:53:00Z'>03:53</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
I confess I don&#x27;t know much at all about pkg-config, I will read up on that
<br>
</div>

<div class='talk op-msg' data-timestamp='1592884740' id='393522'>
<a class='timestamp' href='#393522'><time timestamp='2020-06-23T03:59:00Z'>03:59</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
gwillen: many projects (like us) use pkg-config to add dependencies. Doing so automatically hooks up a FOO_CFLAGS and FOO_LIBS that can be used to supply the respective paths for that dependency.
<br>
</div>

<div class='talk op-msg' data-timestamp='1592884800' id='393523'>
<a class='timestamp' href='#393523'><time timestamp='2020-06-23T04:00:00Z'>04:00</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
gwillen: so when you run &quot;./configure --help&quot; you see those possible overrides. That&#x27;s why the _CFLAGS convention is so (annoyingly) common for specifying an include path.
<br>
</div>

<div class='talk op-msg' data-timestamp='1592884920' id='393524'>
<a class='timestamp' href='#393524'><time timestamp='2020-06-23T04:02:00Z'>04:02</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
So while wishing to pass BDB_CPPFLAGS is <b>*far*</b> more correct, it&#x27;s not what anything expects.
<br>
</div>

<div class='talk op-msg' data-timestamp='1592884980' id='393525'>
<a class='timestamp' href='#393525'><time timestamp='2020-06-23T04:03:00Z'>04:03</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
yeah that makes sense, I see that at some point pkg-config apparently grew the ability to deal with CPPFLAGS, but late enough that it&#x27;s probably locked in at this point
<br>
</div>

<div class='talk op-msg' data-timestamp='1592885040' id='393526'>
<a class='timestamp' href='#393526'><time timestamp='2020-06-23T04:04:00Z'>04:04</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
let me fix it up to work the other way, I think there is a small annoyance I will have to deal with in the process and you can review the result
<br>
</div>

<div class='talk op-msg' data-timestamp='1592885100' id='393527'>
<a class='timestamp' href='#393527'><time timestamp='2020-06-23T04:05:00Z'>04:05</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
gwillen: it&#x27;s up to package maintainers to supply their own flags...
<br>
</div>

<div class='talk op-msg' data-timestamp='1592885100' id='393528'>
<a class='timestamp' href='#393528'><time timestamp='2020-06-23T04:05:00Z'>04:05</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
as a data point, we don&#x27;t use cppflags: <a href="https://github.com/bitcoin/bitcoin/blob/master/libbitcoinconsensus.pc.in" class="link" target="_blank">https://github.com/bitcoin/bitcoin/blob/master/libbitcoinconsensus.pc.in</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1592885100' id='393529'>
<a class='timestamp' href='#393529'><time timestamp='2020-06-23T04:05:00Z'>04:05</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
(maybe we should :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1592885100' id='393530'>
<a class='timestamp' href='#393530'><time timestamp='2020-06-23T04:05:00Z'>04:05</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
libbitcoinconsensus is a C library..
<br>
</div>

<div class='talk op-msg' data-timestamp='1592885160' id='393531'>
<a class='timestamp' href='#393531'><time timestamp='2020-06-23T04:06:00Z'>04:06</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
cpp = c preprocessor
<br>
</div>

<div class='talk op-msg' data-timestamp='1592885160' id='393532'>
<a class='timestamp' href='#393532'><time timestamp='2020-06-23T04:06:00Z'>04:06</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
luke-jr: CPP == C PreProcessor
<br>
</div>

<div class='talk op-msg' data-timestamp='1592885160' id='393533'>
<a class='timestamp' href='#393533'><time timestamp='2020-06-23T04:06:00Z'>04:06</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
cxxflags is for c++ flags
<br>
</div>

<div class='talk op-msg' data-timestamp='1592885160' id='393534'>
<a class='timestamp' href='#393534'><time timestamp='2020-06-23T04:06:00Z'>04:06</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
well the thing that makes it annoying is that automake does require it to be CPPFLAGS for BDB in particular, or CXXFLAGS, since we need it to be present for C++ compilation
<br>
</div>

<div class='talk op-msg' data-timestamp='1592885220' id='393535'>
<a class='timestamp' href='#393535'><time timestamp='2020-06-23T04:07:00Z'>04:07</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
the spec seems to say there is no cppflags for pkg-config
<br>
</div>

<div class='talk op-msg' data-timestamp='1592885220' id='393536'>
<a class='timestamp' href='#393536'><time timestamp='2020-06-23T04:07:00Z'>04:07</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
<a href="https://dev.gentoo.org/~mgorny/pkg-config-spec.html#keyword-value-interpretation" class="link" target="_blank">https://dev.gentoo.org/~mgorny/pkg-config-spec.html#keyword-value-interpretation</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1592885280' id='393537'>
<a class='timestamp' href='#393537'><time timestamp='2020-06-23T04:08:00Z'>04:08</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
I&#x27;m curious how other projects that use pkg-config with C++ deal with this
<br>
</div>

<div class='talk op-msg' data-timestamp='1592885340' id='393538'>
<a class='timestamp' href='#393538'><time timestamp='2020-06-23T04:09:00Z'>04:09</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
gwillen: afaik they all just assume paths are coming in via cflags.
<br>
</div>

<div class='talk op-msg' data-timestamp='1592885400' id='393539'>
<a class='timestamp' href='#393539'><time timestamp='2020-06-23T04:10:00Z'>04:10</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
the autoconf stuff for pkg-config also seems to be CFLAGS/LIBS only
<br>
</div>

<div class='talk op-msg' data-timestamp='1592885400' id='393540'>
<a class='timestamp' href='#393540'><time timestamp='2020-06-23T04:10:00Z'>04:10</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
&quot;The flags encountered in Cflags are grouped into the two following groups: the -I (include path) flags, ‚Ä¶&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1592885400' id='393541'>
<a class='timestamp' href='#393541'><time timestamp='2020-06-23T04:10:00Z'>04:10</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
I seem to recall getting really grumpy at some project for including an actual cflag there.
<br>
</div>

<div class='talk op-msg' data-timestamp='1592885460' id='393542'>
<a class='timestamp' href='#393542'><time timestamp='2020-06-23T04:11:00Z'>04:11</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
so yes, pkg-config cflags are <b>*supposed*</b> to include the -Is
<br>
</div>

<div class='talk op-msg' data-timestamp='1592885460' id='393543'>
<a class='timestamp' href='#393543'><time timestamp='2020-06-23T04:11:00Z'>04:11</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
but automake does not feed CFLAGS to the C++ compiler
<br>
</div>

<div class='talk op-msg' data-timestamp='1592885460' id='393544'>
<a class='timestamp' href='#393544'><time timestamp='2020-06-23T04:11:00Z'>04:11</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
so if you&#x27;re building C++, you have to bridge that somehow
<br>
</div>

<div class='talk op-msg' data-timestamp='1592885460' id='393545'>
<a class='timestamp' href='#393545'><time timestamp='2020-06-23T04:11:00Z'>04:11</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
gwillen: it doesn&#x27;t feed *_C*FLAGS to it either - you need to explicitly include those somewhere
<br>
</div>

<div class='talk op-msg' data-timestamp='1592885460' id='393546'>
<a class='timestamp' href='#393546'><time timestamp='2020-06-23T04:11:00Z'>04:11</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
not even for C
<br>
</div>

<div class='talk op-msg' data-timestamp='1592885580' id='393547'>
<a class='timestamp' href='#393547'><time timestamp='2020-06-23T04:13:00Z'>04:13</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
as much as it might makes sense to say CFLAGS = concat(*_CFLAGS), it really doesn&#x27;t work that way &lt;.&lt;
<br>
</div>

<div class='talk op-msg' data-timestamp='1592885580' id='393548'>
<a class='timestamp' href='#393548'><time timestamp='2020-06-23T04:13:00Z'>04:13</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
gwillen: as an example of how it works...
<br>
</div>

<div class='talk op-msg' data-timestamp='1592885580' id='393549'>
<a class='timestamp' href='#393549'><time timestamp='2020-06-23T04:13:00Z'>04:13</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/blob/master/configure.ac#L1381" class="link" target="_blank">https://github.com/bitcoin/bitcoin/blob/master/configure.ac#L1381</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1592885580' id='393550'>
<a class='timestamp' href='#393550'><time timestamp='2020-06-23T04:13:00Z'>04:13</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
PKG_CHECK_MODULES([UNIVALUE],[libunivalue &gt;= 1.0.4],[found_univalue=yes],[true])
<br>
</div>

<div class='talk op-msg' data-timestamp='1592885640' id='393551'>
<a class='timestamp' href='#393551'><time timestamp='2020-06-23T04:14:00Z'>04:14</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
That creates UNIVALUE_CFLAGS and UNIVALUE_LIBS for us
<br>
</div>

<div class='talk op-msg' data-timestamp='1592885640' id='393552'>
<a class='timestamp' href='#393552'><time timestamp='2020-06-23T04:14:00Z'>04:14</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
then: <a href="https://github.com/bitcoin/bitcoin/blob/master/src/Makefile.am#L25" class="link" target="_blank">https://github.com/bitcoin/bitcoin/blob/master/src/Makefile.am#L25</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1592885640' id='393553'>
<a class='timestamp' href='#393553'><time timestamp='2020-06-23T04:14:00Z'>04:14</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
luke-jr: it doesn&#x27;t automatically include BDB_CPPFLAGS, but it does automatically include libbitcoin_server_a_CPPFLAGS, which is what we put BDB_CPPFLAGS into
<br>
</div>

<div class='talk op-msg' data-timestamp='1592885640' id='393554'>
<a class='timestamp' href='#393554'><time timestamp='2020-06-23T04:14:00Z'>04:14</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
BITCOIN_INCLUDES += $(UNIVALUE_CFLAGS)
<br>
</div>

<div class='talk op-msg' data-timestamp='1592885700' id='393555'>
<a class='timestamp' href='#393555'><time timestamp='2020-06-23T04:15:00Z'>04:15</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
gwillen: point is, DEP_CFLAGS is supposed to be the place for -I and such
<br>
</div>

<div class='talk op-msg' data-timestamp='1592885700' id='393556'>
<a class='timestamp' href='#393556'><time timestamp='2020-06-23T04:15:00Z'>04:15</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
anyway, I guess the answer is that someone somewhere stuffs the contents of CFLAGS into something named CPPFLAGS somewhere
<br>
</div>

<div class='talk op-msg' data-timestamp='1592885700' id='393557'>
<a class='timestamp' href='#393557'><time timestamp='2020-06-23T04:15:00Z'>04:15</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
gwillen: yep, that.
<br>
</div>

<div class='talk op-msg' data-timestamp='1592885700' id='393558'>
<a class='timestamp' href='#393558'><time timestamp='2020-06-23T04:15:00Z'>04:15</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
hmmm actually I guess I understand luke-jr&#x27;s point
<br>
</div>

<div class='talk op-msg' data-timestamp='1592885760' id='393559'>
<a class='timestamp' href='#393559'><time timestamp='2020-06-23T04:16:00Z'>04:16</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
although I&#x27;m not sure if it quite makes sense for BDB which is itself a C++ library
<br>
</div>

<div class='talk op-msg' data-timestamp='1592885760' id='393560'>
<a class='timestamp' href='#393560'><time timestamp='2020-06-23T04:16:00Z'>04:16</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
gwillen: this is also how C++ libraries do it.. &lt;.&lt;
<br>
</div>

<div class='talk op-msg' data-timestamp='1592885820' id='393561'>
<a class='timestamp' href='#393561'><time timestamp='2020-06-23T04:17:00Z'>04:17</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
there is no Cxxflags in pkg-config either
<br>
</div>

<div class='talk op-msg' data-timestamp='1592885940' id='393562'>
<a class='timestamp' href='#393562'><time timestamp='2020-06-23T04:19:00Z'>04:19</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
so basically pkg-config and automake just like, permanently differ on this, I guess?
<br>
</div>

<div class='talk op-msg' data-timestamp='1592885940' id='393563'>
<a class='timestamp' href='#393563'><time timestamp='2020-06-23T04:19:00Z'>04:19</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
seems so
<br>
</div>

<div class='talk op-msg' data-timestamp='1592885940' id='393564'>
<a class='timestamp' href='#393564'><time timestamp='2020-06-23T04:19:00Z'>04:19</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
(e.g. ax_boost_base.m4 defines AC_SUBST(BOOST_CPPFLAGS), not BOOST_CFLAGS, for where it finds boost)
<br>
</div>

<div class='talk op-msg' data-timestamp='1592886060' id='393565'>
<a class='timestamp' href='#393565'><time timestamp='2020-06-23T04:21:00Z'>04:21</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
gwillen: I don&#x27;t see those exported.
<br>
</div>

<div class='talk op-msg' data-timestamp='1592886120' id='393566'>
<a class='timestamp' href='#393566'><time timestamp='2020-06-23T04:22:00Z'>04:22</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
also, boost doesn&#x27;t ship pkg-config files. Which is why we carry that monstrosity of a .m4.
<br>
</div>

<div class='talk op-msg' data-timestamp='1592886120' id='393567'>
<a class='timestamp' href='#393567'><time timestamp='2020-06-23T04:22:00Z'>04:22</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
I&#x27;m looking at <a href="https://github.com/bitcoin/bitcoin/blob/master/build-aux/m4/ax_boost_base.m4#L80" class="link" target="_blank">https://github.com/bitcoin/bitcoin/blob/master/build-aux/m4/ax_boost_base.m4#L80</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1592886180' id='393568'>
<a class='timestamp' href='#393568'><time timestamp='2020-06-23T04:23:00Z'>04:23</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
anyway this just confirms my existing hatred for build systems :D
<br>
</div>

<div class='talk op-msg' data-timestamp='1592886180' id='393569'>
<a class='timestamp' href='#393569'><time timestamp='2020-06-23T04:23:00Z'>04:23</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
could be worse - could be maven
<br>
</div>

<div class='talk op-msg' data-timestamp='1592886180' id='393570'>
<a class='timestamp' href='#393570'><time timestamp='2020-06-23T04:23:00Z'>04:23</time></a>
&lt;<span class='nick nick-14'> * luke-jr</span>&gt;
hides
<br>
</div>

<div class='talk op-msg' data-timestamp='1592886240' id='393571'>
<a class='timestamp' href='#393571'><time timestamp='2020-06-23T04:24:00Z'>04:24</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
gwillen: right, but that&#x27;s available as an override (not visible externally via ./configure --help)
<br>
</div>

<div class='talk op-msg' data-timestamp='1592886240' id='393572'>
<a class='timestamp' href='#393572'><time timestamp='2020-06-23T04:24:00Z'>04:24</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
ahh, yeah, because it is AC_SUBST and not AC_ARG_VAR
<br>
</div>

<div class='talk op-msg' data-timestamp='1592886300' id='393573'>
<a class='timestamp' href='#393573'><time timestamp='2020-06-23T04:25:00Z'>04:25</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
right
<br>
</div>

<div class='talk op-msg' data-timestamp='1592886300' id='393574'>
<a class='timestamp' href='#393574'><time timestamp='2020-06-23T04:25:00Z'>04:25</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
what I really don&#x27;t get is how there are so many efforts to replace autoconf, and they always end up worse
<br>
</div>

<div class='talk op-msg' data-timestamp='1592886300' id='393575'>
<a class='timestamp' href='#393575'><time timestamp='2020-06-23T04:25:00Z'>04:25</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
*that&#x27;s not availble. sorry. apparently you understood :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1592886420' id='393576'>
<a class='timestamp' href='#393576'><time timestamp='2020-06-23T04:27:00Z'>04:27</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
xkcd 927 lalala
<br>
</div>

<div class='talk op-msg' data-timestamp='1592887260' id='393577'>
<a class='timestamp' href='#393577'><time timestamp='2020-06-23T04:41:00Z'>04:41</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
It seems my Windows VM has &quot;expired&quot;, and now shuts itself down ~ every 45 minutes.
<br>
</div>

<div class='talk op-msg' data-timestamp='1592887260' id='393578'>
<a class='timestamp' href='#393578'><time timestamp='2020-06-23T04:41:00Z'>04:41</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
 Incredibly convenient
<br>
</div>

<div class='talk op-msg' data-timestamp='1592887380' id='393579'>
<a class='timestamp' href='#393579'><time timestamp='2020-06-23T04:43:00Z'>04:43</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
I bet illicit sources don&#x27;t have that problem
<br>
</div>

<div class='talk op-msg' data-timestamp='1592887440' id='393580'>
<a class='timestamp' href='#393580'><time timestamp='2020-06-23T04:44:00Z'>04:44</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
heh
<br>
</div>

<div class='talk op-msg' data-timestamp='1592887440' id='393581'>
<a class='timestamp' href='#393581'><time timestamp='2020-06-23T04:44:00Z'>04:44</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
I will persevere while I wait for the 16GB of &quot;new&quot; VM to download
<br>
</div>

<div class='talk op-msg' data-timestamp='1592889180' id='393582'>
<a class='timestamp' href='#393582'><time timestamp='2020-06-23T05:13:00Z'>05:13</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jonatack opened pull request #19357: doc: add release note for bitcoin-cli -generate (master...cli-generate-release-note) <a href="https://github.com/bitcoin/bitcoin/pull/19357" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19357</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1592891040' id='393583'>
<a class='timestamp' href='#393583'><time timestamp='2020-06-23T05:44:00Z'>05:44</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
I think I have figured out the underlying issue with ipv6 &amp; Windows (#18287)
<br>
</div>

<div class='talk op-msg' data-timestamp='1592891040' id='393584'>
<a class='timestamp' href='#393584'><time timestamp='2020-06-23T05:44:00Z'>05:44</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/18287" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/18287</a> | depends: Patch libevent build to fix IPv6 -rpcbind on Windows by luke-jr ¬∑ Pull Request #18287 ¬∑ bitcoin/bitcoin ¬∑ GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1592891100' id='393585'>
<a class='timestamp' href='#393585'><time timestamp='2020-06-23T05:45:00Z'>05:45</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
The problem is deeper inside libevent, but hopefully can get that fixed up for 0.20.1
<br>
</div>

<div class='talk op-msg' data-timestamp='1592892360' id='393586'>
<a class='timestamp' href='#393586'><time timestamp='2020-06-23T06:06:00Z'>06:06</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
fanquake: ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1592896320' id='393587'>
<a class='timestamp' href='#393587'><time timestamp='2020-06-23T07:12:00Z'>07:12</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
luke-jr: the problem seems to be with the ‚Äúhint‚Äù flags that libevent is setting before getaddr* calls. The changes in the PR don‚Äôt fix the issue for us entirely, as mentioned in the comments there.
<br>
</div>

<div class='talk op-msg' data-timestamp='1592896620' id='393588'>
<a class='timestamp' href='#393588'><time timestamp='2020-06-23T07:17:00Z'>07:17</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
hrm, been too long since I made that to remember about hint stuff :/
<br>
</div>

<div class='talk op-msg' data-timestamp='1592896620' id='393589'>
<a class='timestamp' href='#393589'><time timestamp='2020-06-23T07:17:00Z'>07:17</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
strange that it fixes it for some of us and not others
<br>
</div>

<div class='talk op-msg' data-timestamp='1592899440' id='393590'>
<a class='timestamp' href='#393590'><time timestamp='2020-06-23T08:04:00Z'>08:04</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] Saibato opened pull request #19358: net: Make sure we do not override proxy settings in hidden service. (master...pr351-bitcoin) <a href="https://github.com/bitcoin/bitcoin/pull/19358" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19358</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1592900100' id='393591'>
<a class='timestamp' href='#393591'><time timestamp='2020-06-23T08:15:00Z'>08:15</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] fanquake pushed 9 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/e3fa3c7d671e...80fd474e402b" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/e3fa3c7d671e...80fd474e402b</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1592900100' id='393592'>
<a class='timestamp' href='#393592'><time timestamp='2020-06-23T08:15:00Z'>08:15</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master b3394ab Carl Dong: contrib: macdeploy: Correctly generate macOS SDK
<br>
</div>

<div class='talk op-msg' data-timestamp='1592900100' id='393593'>
<a class='timestamp' href='#393593'><time timestamp='2020-06-23T08:15:00Z'>08:15</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 3381e4a Carl Dong: Adapt rest of tooling to new SDK naming scheme
<br>
</div>

<div class='talk op-msg' data-timestamp='1592900100' id='393594'>
<a class='timestamp' href='#393594'><time timestamp='2020-06-23T08:15:00Z'>08:15</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master fbcfcf6 Carl Dong: native_cctools: Don&#x27;t use libc++ from pinned clang
<br>
</div>

<div class='talk op-msg' data-timestamp='1592900100' id='393595'>
<a class='timestamp' href='#393595'><time timestamp='2020-06-23T08:15:00Z'>08:15</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] fanquake merged pull request #19240: build: macOS toolchain simplification and bump (master...2020-06-macos-sdkgen-simplify) <a href="https://github.com/bitcoin/bitcoin/pull/19240" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19240</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1592904480' id='393596'>
<a class='timestamp' href='#393596'><time timestamp='2020-06-23T09:28:00Z'>09:28</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] vasild opened pull request #19360: net: improve encapsulation of CNetAddr (master...improve_encapsulation_of_cnetaddr) <a href="https://github.com/bitcoin/bitcoin/pull/19360" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19360</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1592913360' id='393597'>
<a class='timestamp' href='#393597'><time timestamp='2020-06-23T11:56:00Z'>11:56</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] prusnak opened pull request #19362: rpc/blockchain: Reset scantxoutset progress before inferring descriptors (master...rpc-scantxoutset-reset-progress) <a href="https://github.com/bitcoin/bitcoin/pull/19362" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19362</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1592918940' id='393598'>
<a class='timestamp' href='#393598'><time timestamp='2020-06-23T13:29:00Z'>13:29</time></a>
&lt;<span class='nick nick-14'> hebasto</span>&gt;
ryanofsky: nice write-up <a href="https://github.com/bitcoin-core/bitcoin-devwiki/wiki/Settings-design-questions" class="link" target="_blank">https://github.com/bitcoin-core/bitcoin-devwiki/wiki/Settings-design-questions</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1592929980' id='393599'>
<a class='timestamp' href='#393599'><time timestamp='2020-06-23T16:33:00Z'>16:33</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
MarcoFalke: i&#x27;m finding it a bit annoying that codebase changes often break existing fuzz tests, which require travis or an entirely separate build to find out
<br>
</div>

<div class='talk op-msg' data-timestamp='1592929980' id='393600'>
<a class='timestamp' href='#393600'><time timestamp='2020-06-23T16:33:00Z'>16:33</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
what do you think about &quot;building&quot; the fuzz tests in normal make all mode (but without the actual fuzzing enabled)
<br>
</div>

<div class='talk op-msg' data-timestamp='1592930040' id='393601'>
<a class='timestamp' href='#393601'><time timestamp='2020-06-23T16:34:00Z'>16:34</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
one caveat is that the fuzz tests currently already need c++17
<br>
</div>

<div class='talk op-msg' data-timestamp='1592930880' id='393602'>
<a class='timestamp' href='#393602'><time timestamp='2020-06-23T16:48:00Z'>16:48</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] hebasto closed pull request #18710: Add local thread pool to CCheckQueue (master...200419-thread-pool) <a href="https://github.com/bitcoin/bitcoin/pull/18710" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/18710</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1592930940' id='393603'>
<a class='timestamp' href='#393603'><time timestamp='2020-06-23T16:49:00Z'>16:49</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] hebasto reopened pull request #18710: Add local thread pool to CCheckQueue (master...200419-thread-pool) <a href="https://github.com/bitcoin/bitcoin/pull/18710" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/18710</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1592932260' id='393604'>
<a class='timestamp' href='#393604'><time timestamp='2020-06-23T17:11:00Z'>17:11</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
sipa / MarcoFalke: See top 2 commits here for how that could work: <a href="https://github.com/theuni/bitcoin/commits/build-fuzz" class="link" target="_blank">https://github.com/theuni/bitcoin/commits/build-fuzz</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1592935020' id='393605'>
<a class='timestamp' href='#393605'><time timestamp='2020-06-23T17:57:00Z'>17:57</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
sipa: I&#x27;m not sure it should be the default, but I do agree it should be easier (e.g. a single configure option) to build the fuzz tests as well sa everything else
<br>
</div>

<div class='talk op-msg' data-timestamp='1592935020' id='393606'>
<a class='timestamp' href='#393606'><time timestamp='2020-06-23T17:57:00Z'>17:57</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
having to do a second build with either-or exclusive options is kind of a time sink and easy to forget
<br>
</div>

<div class='talk op-msg' data-timestamp='1592935080' id='393607'>
<a class='timestamp' href='#393607'><time timestamp='2020-06-23T17:58:00Z'>17:58</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
wumpus: it seems that building the actual fuzz tests within one configure is very hard
<br>
</div>

<div class='talk op-msg' data-timestamp='1592935140' id='393608'>
<a class='timestamp' href='#393608'><time timestamp='2020-06-23T17:59:00Z'>17:59</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
okay
<br>
</div>

<div class='talk op-msg' data-timestamp='1592935140' id='393609'>
<a class='timestamp' href='#393609'><time timestamp='2020-06-23T17:59:00Z'>17:59</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but just something that can test whether the fuzz tests build is great already, i think
<br>
</div>

<div class='talk op-msg' data-timestamp='1592935140' id='393610'>
<a class='timestamp' href='#393610'><time timestamp='2020-06-23T17:59:00Z'>17:59</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
because it&#x27;s really easy to introduce compile errors in them (and this will likely worsen as their coverage increases)
<br>
</div>

<div class='talk op-msg' data-timestamp='1592935200' id='393611'>
<a class='timestamp' href='#393611'><time timestamp='2020-06-23T18:00:00Z'>18:00</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
right
<br>
</div>

<div class='talk op-msg' data-timestamp='1592935260' id='393612'>
<a class='timestamp' href='#393612'><time timestamp='2020-06-23T18:01:00Z'>18:01</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
we could even have a minimal main() for the fake-fuzz tests that reads a single input from stdin, and runs the test code on it
<br>
</div>

<div class='talk op-msg' data-timestamp='1592935320' id='393613'>
<a class='timestamp' href='#393613'><time timestamp='2020-06-23T18:02:00Z'>18:02</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
or all entries in a directory... meaning it&#x27;d be actually useful as a test harness; you just wouldn&#x27;t be able to fuzz with it
<br>
</div>

<div class='talk op-msg' data-timestamp='1592935560' id='393614'>
<a class='timestamp' href='#393614'><time timestamp='2020-06-23T18:06:00Z'>18:06</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
that&#x27;s a neat idea, at least the building feels less like dead weight in that case
<br>
</div>

<div class='talk op-msg' data-timestamp='1592935740' id='393615'>
<a class='timestamp' href='#393615'><time timestamp='2020-06-23T18:09:00Z'>18:09</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
as the travis fuzz build isn&#x27;t actually doing any fuzzing, this may even be sufficient there
<br>
</div>

<div class='talk op-msg' data-timestamp='1592935740' id='393616'>
<a class='timestamp' href='#393616'><time timestamp='2020-06-23T18:09:00Z'>18:09</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jnewbery opened pull request #19364: net processing: Move orphan reprocessing to a global (master...2020-06-global-orphans) <a href="https://github.com/bitcoin/bitcoin/pull/19364" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19364</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1592935860' id='393617'>
<a class='timestamp' href='#393617'><time timestamp='2020-06-23T18:11:00Z'>18:11</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
it seems getting them to link as real progs will have linker issues due to missing libs. I guess the linker doesn&#x27;t go looking for unresolved symbols with no main?
<br>
</div>

<div class='talk op-msg' data-timestamp='1592935860' id='393618'>
<a class='timestamp' href='#393618'><time timestamp='2020-06-23T18:11:00Z'>18:11</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
cfields: hmm, what symbols are missing?
<br>
</div>

<div class='talk op-msg' data-timestamp='1592935920' id='393619'>
<a class='timestamp' href='#393619'><time timestamp='2020-06-23T18:12:00Z'>18:12</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
sipa: zmq/miniupnpc/etc.
<br>
</div>

<div class='talk op-msg' data-timestamp='1592935920' id='393620'>
<a class='timestamp' href='#393620'><time timestamp='2020-06-23T18:12:00Z'>18:12</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
oh
<br>
</div>

<div class='talk op-msg' data-timestamp='1592935920' id='393621'>
<a class='timestamp' href='#393621'><time timestamp='2020-06-23T18:12:00Z'>18:12</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that sounds fixable?
<br>
</div>

<div class='talk op-msg' data-timestamp='1592935920' id='393622'>
<a class='timestamp' href='#393622'><time timestamp='2020-06-23T18:12:00Z'>18:12</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
We could tack them on, but that kinda sucks.
<br>
</div>

<div class='talk op-msg' data-timestamp='1592935980' id='393623'>
<a class='timestamp' href='#393623'><time timestamp='2020-06-23T18:13:00Z'>18:13</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
Yeah, there&#x27;s another approach though to avoid linking altogether though, 1 sec.
<br>
</div>

<div class='talk op-msg' data-timestamp='1592935980' id='393624'>
<a class='timestamp' href='#393624'><time timestamp='2020-06-23T18:13:00Z'>18:13</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
or maybe it&#x27;s just not an issue
<br>
</div>

<div class='talk op-msg' data-timestamp='1592935980' id='393625'>
<a class='timestamp' href='#393625'><time timestamp='2020-06-23T18:13:00Z'>18:13</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
because if it&#x27;s not a problem for real fuzzing, why would it here?
<br>
</div>

<div class='talk op-msg' data-timestamp='1592935980' id='393626'>
<a class='timestamp' href='#393626'><time timestamp='2020-06-23T18:13:00Z'>18:13</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
perhaps it&#x27;s due to not having main() indeed
<br>
</div>

<div class='talk op-msg' data-timestamp='1592936220' id='393627'>
<a class='timestamp' href='#393627'><time timestamp='2020-06-23T18:17:00Z'>18:17</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
different approach: <a href="https://github.com/theuni/bitcoin/commit/d36b2b9cfe7d3916f261e88b63c03a7a3edd9ea5" class="link" target="_blank">https://github.com/theuni/bitcoin/commit/d36b2b9cfe7d3916f261e88b63c03a7a3edd9ea5</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1592936220' id='393628'>
<a class='timestamp' href='#393628'><time timestamp='2020-06-23T18:17:00Z'>18:17</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
That one&#x27;s verbose though, requires us to c/p the object names to that list.
<br>
</div>

<div class='talk op-msg' data-timestamp='1592936400' id='393629'>
<a class='timestamp' href='#393629'><time timestamp='2020-06-23T18:20:00Z'>18:20</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that&#x27;s somewhat annoying (it&#x27;s already annoying to need to add a blob to the makefile for every new fuzz test)
<br>
</div>

<div class='talk op-msg' data-timestamp='1592936400' id='393630'>
<a class='timestamp' href='#393630'><time timestamp='2020-06-23T18:20:00Z'>18:20</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but not terrible i guess
<br>
</div>

<div class='talk op-msg' data-timestamp='1592936640' id='393631'>
<a class='timestamp' href='#393631'><time timestamp='2020-06-23T18:24:00Z'>18:24</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
I&#x27;ll play with the linker errors a bit, see if there&#x27;s a quick fix.
<br>
</div>

<div class='talk op-msg' data-timestamp='1592938140' id='393632'>
<a class='timestamp' href='#393632'><time timestamp='2020-06-23T18:49:00Z'>18:49</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
even just compiling and not linking would find the largest part of the errors introduced by changes and drift i guess
<br>
</div>

<div class='talk op-msg' data-timestamp='1592938200' id='393633'>
<a class='timestamp' href='#393633'><time timestamp='2020-06-23T18:50:00Z'>18:50</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
link-time errors are kind of rare
<br>
</div>

<div class='talk op-msg' data-timestamp='1592947920' id='393634'>
<a class='timestamp' href='#393634'><time timestamp='2020-06-23T21:32:00Z'>21:32</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
in case I overlooked any remaining value, would be good to get extra eyes on <a href="https://github.com/bitcoin-core/bitcoincore.org/pull/707" class="link" target="_blank">https://github.com/bitcoin-core/bitcoincore.org/pull/707</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1592947920' id='393635'>
<a class='timestamp' href='#393635'><time timestamp='2020-06-23T21:32:00Z'>21:32</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
sipa: instagibbs ^
<br>
</div>

<div class='talk op-msg' data-timestamp='1592948040' id='393636'>
<a class='timestamp' href='#393636'><time timestamp='2020-06-23T21:34:00Z'>21:34</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
luke-jr: it depends, i think
<br>
</div>

<div class='talk op-msg' data-timestamp='1592948100' id='393637'>
<a class='timestamp' href='#393637'><time timestamp='2020-06-23T21:35:00Z'>21:35</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
though it can certainly use a note at least that it&#x27;s subject to users noticing they&#x27;re being asked to sign multiple times
<br>
</div>

<div class='talk op-msg' data-timestamp='1592948160' id='393638'>
<a class='timestamp' href='#393638'><time timestamp='2020-06-23T21:36:00Z'>21:36</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
sipa: they might think they&#x27;re only signing twice to 0.0001 BTC txs, and figure &quot;meh, worst case I lose 0.0002 BTC&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1592948220' id='393639'>
<a class='timestamp' href='#393639'><time timestamp='2020-06-23T21:37:00Z'>21:37</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
(while the fee could end up being 100 BTC or whatever)
<br>
</div>

<div class='talk op-msg' data-timestamp='1592948280' id='393640'>
<a class='timestamp' href='#393640'><time timestamp='2020-06-23T21:38:00Z'>21:38</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
a weaker benefit also remains: you can sign without transfering all txn-creating-outputs-being-spent, in case you know they&#x27;re correct 
<br>
</div>

<div class='talk op-msg' data-timestamp='1592948280' id='393641'>
<a class='timestamp' href='#393641'><time timestamp='2020-06-23T21:38:00Z'>21:38</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
while pre-segwit you just had to have the full transactions at signing time
<br>
</div>

<div class='talk op-msg' data-timestamp='1592948880' id='393642'>
<a class='timestamp' href='#393642'><time timestamp='2020-06-23T21:48:00Z'>21:48</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] practicalswift opened pull request #19366: tests: Provide main(...) function in fuzzer. Allow building uninstrumented harnesses with --enable-fuzz. (master...provide-main-function-in-fuzzer) <a href="https://github.com/bitcoin/bitcoin/pull/19366" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19366</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1592949840' id='393643'>
<a class='timestamp' href='#393643'><time timestamp='2020-06-23T22:04:00Z'>22:04</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
sipa: I don&#x27;t understand what you mean
<br>
</div>

<div class='talk op-msg' data-timestamp='1592949840' id='393644'>
<a class='timestamp' href='#393644'><time timestamp='2020-06-23T22:04:00Z'>22:04</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
luke-jr: nvm, i&#x27;m wrong
<br>
</div>

<div class='talk op-msg' data-timestamp='1592950020' id='393645'>
<a class='timestamp' href='#393645'><time timestamp='2020-06-23T22:07:00Z'>22:07</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
sipa: there is a request to make a revision to taproot, and call it tarproot.
<br>
</div>

<div class='talk op-msg' data-timestamp='1592950080' id='393646'>
<a class='timestamp' href='#393646'><time timestamp='2020-06-23T22:08:00Z'>22:08</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
<a href="https://twitter.com/Ethan_Heilman/status/1275545432697995276?s=20" class="link" target="_blank">https://twitter.com/Ethan_Heilman/status/1275545432697995276?s=20</a> :p
<br>
</div>

<div class='talk op-msg' data-timestamp='1592950080' id='393647'>
<a class='timestamp' href='#393647'><time timestamp='2020-06-23T22:08:00Z'>22:08</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ha
<br>
</div>

<div class='talk op-msg' data-timestamp='1592954100' id='393648'>
<a class='timestamp' href='#393648'><time timestamp='2020-06-23T23:15:00Z'>23:15</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
sipa / wumpus: can you block kkarimalami if you haven‚Äôt already
<br>
</div>

<div class='talk op-msg' data-timestamp='1592954220' id='393649'>
<a class='timestamp' href='#393649'><time timestamp='2020-06-23T23:17:00Z'>23:17</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
fanquake: i already did
<br>
</div>

</div>
</section>

</body>
</html>
