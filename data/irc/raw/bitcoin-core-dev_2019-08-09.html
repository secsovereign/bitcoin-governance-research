<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2019-08-09
 — 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2019-08-09' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:19 UTC</pre>
<pre><a href="/bitcoin-core-dev/2019-07-09">&lt;</a><span class='header'>   August 2019    </span><a href="/bitcoin-core-dev/2019-09-09">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;             <a class="" href="/bitcoin-core-dev/2019-08-01">1</a>  <a class="" href="/bitcoin-core-dev/2019-08-02">2</a>  <a class="" href="/bitcoin-core-dev/2019-08-03">3</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2019-08-04">4</a>  <a class="" href="/bitcoin-core-dev/2019-08-05">5</a>  <a class="" href="/bitcoin-core-dev/2019-08-06">6</a>  <a class="" href="/bitcoin-core-dev/2019-08-07">7</a>  <a class="" href="/bitcoin-core-dev/2019-08-08">8</a>  <a class="current" href="/bitcoin-core-dev/2019-08-09">9</a> <a class="" href="/bitcoin-core-dev/2019-08-10">10</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2019-08-11">11</a> <a class="" href="/bitcoin-core-dev/2019-08-12">12</a> <a class="" href="/bitcoin-core-dev/2019-08-13">13</a> <a class="" href="/bitcoin-core-dev/2019-08-14">14</a> <a class="" href="/bitcoin-core-dev/2019-08-15">15</a> <a class="" href="/bitcoin-core-dev/2019-08-16">16</a> <a class="" href="/bitcoin-core-dev/2019-08-17">17</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2019-08-18">18</a> <a class="" href="/bitcoin-core-dev/2019-08-19">19</a> <a class="" href="/bitcoin-core-dev/2019-08-20">20</a> <a class="" href="/bitcoin-core-dev/2019-08-21">21</a> <a class="" href="/bitcoin-core-dev/2019-08-22">22</a> <a class="" href="/bitcoin-core-dev/2019-08-23">23</a> <a class="" href="/bitcoin-core-dev/2019-08-24">24</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2019-08-25">25</a> <a class="" href="/bitcoin-core-dev/2019-08-26">26</a> <a class="" href="/bitcoin-core-dev/2019-08-27">27</a> <a class="" href="/bitcoin-core-dev/2019-08-28">28</a> <a class="" href="/bitcoin-core-dev/2019-08-29">29</a> <a class="" href="/bitcoin-core-dev/2019-08-30">30</a> <a class="" href="/bitcoin-core-dev/2019-08-31">31</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1565327700' id='676229'>
<a class='timestamp' href='#676229'><time timestamp='2019-08-09T05:15:00Z'>05:15</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] fanquake opened pull request #16573: build: disable building libsecp256k1 benchmarks (master...disable-secp256k1-benchmarks) <a href="https://github.com/bitcoin/bitcoin/pull/16573" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/16573</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1565349780' id='676230'>
<a class='timestamp' href='#676230'><time timestamp='2019-08-09T11:23:00Z'>11:23</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj opened pull request #16574: doc: Add historical release notes for 0.18.1 (master...2019_08_relnot_0_18_1) <a href="https://github.com/bitcoin/bitcoin/pull/16574" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/16574</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1565352660' id='676231'>
<a class='timestamp' href='#676231'><time timestamp='2019-08-09T12:11:00Z'>12:11</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Is there a clever way to access private members from a boost unit test?
<br>
</div>

<div class='talk op-msg' data-timestamp='1565352960' id='676232'>
<a class='timestamp' href='#676232'><time timestamp='2019-08-09T12:16:00Z'>12:16</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
nm, ... going to try a friendly test struct
<br>
</div>

<div class='talk op-msg' data-timestamp='1565353320' id='676233'>
<a class='timestamp' href='#676233'><time timestamp='2019-08-09T12:22:00Z'>12:22</time></a>
&lt;<span class='nick nick-5'> emilengler</span>&gt;
You could use a dirty pointer trick
<br>
</div>

<div class='talk op-msg' data-timestamp='1565353380' id='676234'>
<a class='timestamp' href='#676234'><time timestamp='2019-08-09T12:23:00Z'>12:23</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Yes. Or that.
<br>
</div>

<div class='talk op-msg' data-timestamp='1565356740' id='676235'>
<a class='timestamp' href='#676235'><time timestamp='2019-08-09T13:19:00Z'>13:19</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] fanquake pushed 2 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/e5fdda68c6d2...32776276ef07" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/e5fdda68c6d2...32776276ef07</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1565356740' id='676236'>
<a class='timestamp' href='#676236'><time timestamp='2019-08-09T13:19:00Z'>13:19</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 61c5c64 Wladimir J. van der Laan: doc: Add historical release notes for 0.18.1
<br>
</div>

<div class='talk op-msg' data-timestamp='1565356740' id='676237'>
<a class='timestamp' href='#676237'><time timestamp='2019-08-09T13:19:00Z'>13:19</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 3277627 fanquake: Merge #16574: doc: Add historical release notes for 0.18.1
<br>
</div>

<div class='talk op-msg' data-timestamp='1565356800' id='676238'>
<a class='timestamp' href='#676238'><time timestamp='2019-08-09T13:20:00Z'>13:20</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] fanquake merged pull request #16574: doc: Add historical release notes for 0.18.1 (master...2019_08_relnot_0_18_1) <a href="https://github.com/bitcoin/bitcoin/pull/16574" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/16574</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1565358540' id='676239'>
<a class='timestamp' href='#676239'><time timestamp='2019-08-09T13:49:00Z'>13:49</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke pushed 2 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/32776276ef07...9ab9d6356938" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/32776276ef07...9ab9d6356938</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1565358540' id='676240'>
<a class='timestamp' href='#676240'><time timestamp='2019-08-09T13:49:00Z'>13:49</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master b7b9f6e Antoine Riard: Remove p2pEnabled from Chain interface
<br>
</div>

<div class='talk op-msg' data-timestamp='1565358540' id='676241'>
<a class='timestamp' href='#676241'><time timestamp='2019-08-09T13:49:00Z'>13:49</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 9ab9d63 MarcoFalke: Merge #16503: Remove p2pEnabled from Chain interface
<br>
</div>

<div class='talk op-msg' data-timestamp='1565358600' id='676242'>
<a class='timestamp' href='#676242'><time timestamp='2019-08-09T13:50:00Z'>13:50</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke merged pull request #16503: Remove p2pEnabled from Chain interface (master...2019-07-remove-p2p-chain) <a href="https://github.com/bitcoin/bitcoin/pull/16503" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/16503</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1565361360' id='676243'>
<a class='timestamp' href='#676243'><time timestamp='2019-08-09T14:36:00Z'>14:36</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
hm, looks like the only dnsseeds resolvable over v6 are mine, jonasschnelli&#x27;s and emzy&#x27;s :(
<br>
</div>

<div class='talk op-msg' data-timestamp='1565361360' id='676244'>
<a class='timestamp' href='#676244'><time timestamp='2019-08-09T14:36:00Z'>14:36</time></a>
&lt;<span class='nick nick-16'> emzy</span>&gt;
:(
<br>
</div>

<div class='talk op-msg' data-timestamp='1565361420' id='676245'>
<a class='timestamp' href='#676245'><time timestamp='2019-08-09T14:37:00Z'>14:37</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
sipa petertodd, cdecker, luke-jr and provoostenator need to fix their shitz
<br>
</div>

<div class='talk op-msg' data-timestamp='1565361420' id='676246'>
<a class='timestamp' href='#676246'><time timestamp='2019-08-09T14:37:00Z'>14:37</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
glad I can claim I did my homework... :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1565361420' id='676247'>
<a class='timestamp' href='#676247'><time timestamp='2019-08-09T14:37:00Z'>14:37</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
heh, indeed
<br>
</div>

<div class='talk op-msg' data-timestamp='1565361480' id='676248'>
<a class='timestamp' href='#676248'><time timestamp='2019-08-09T14:38:00Z'>14:38</time></a>
&lt;<span class='nick nick-16'> emzy</span>&gt;
ipv4 is only legacy. v6 is the Internet :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1565361600' id='676249'>
<a class='timestamp' href='#676249'><time timestamp='2019-08-09T14:40:00Z'>14:40</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
TIL mine crawls IPv6 diligently, but can&#x27;t reached that way :-)
<br>
</div>

<div class='talk op-msg' data-timestamp='1565363400' id='676250'>
<a class='timestamp' href='#676250'><time timestamp='2019-08-09T15:10:00Z'>15:10</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
right :) and there are seriously quite a few v6-only isps in the world these days
<br>
</div>

<div class='talk op-msg' data-timestamp='1565365080' id='676251'>
<a class='timestamp' href='#676251'><time timestamp='2019-08-09T15:38:00Z'>15:38</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Working on a solution, but the rabbit hole goes deep... 
<br>
</div>

<div class='talk op-msg' data-timestamp='1565366400' id='676252'>
<a class='timestamp' href='#676252'><time timestamp='2019-08-09T16:00:00Z'>16:00</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
BlueMatt: $ dig -t AAAA seed.bitcoin.sipa.be
<br>
</div>

<div class='talk op-msg' data-timestamp='1565366400' id='676253'>
<a class='timestamp' href='#676253'><time timestamp='2019-08-09T16:00:00Z'>16:00</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
works
<br>
</div>

<div class='talk op-msg' data-timestamp='1565366460' id='676254'>
<a class='timestamp' href='#676254'><time timestamp='2019-08-09T16:01:00Z'>16:01</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
sipa: the sipa.be ns servers dont have v6 entries
<br>
</div>

<div class='talk op-msg' data-timestamp='1565366520' id='676255'>
<a class='timestamp' href='#676255'><time timestamp='2019-08-09T16:02:00Z'>16:02</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
ie the ulyssis.org ones
<br>
</div>

<div class='talk op-msg' data-timestamp='1565366520' id='676256'>
<a class='timestamp' href='#676256'><time timestamp='2019-08-09T16:02:00Z'>16:02</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
you want dig -6 +trace seed.bitcoin.sipa.be aaaa
<br>
</div>

<div class='talk op-msg' data-timestamp='1565366520' id='676257'>
<a class='timestamp' href='#676257'><time timestamp='2019-08-09T16:02:00Z'>16:02</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ah
<br>
</div>

<div class='talk op-msg' data-timestamp='1565366520' id='676258'>
<a class='timestamp' href='#676258'><time timestamp='2019-08-09T16:02:00Z'>16:02</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yup
<br>
</div>

<div class='talk op-msg' data-timestamp='1565369640' id='676259'>
<a class='timestamp' href='#676259'><time timestamp='2019-08-09T16:54:00Z'>16:54</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
provoostenator: After actually attempting to make all of the commits in #16341 compile with the whole move instead of copy thing, I don&#x27;t think it will make it any easier to review, actually probably harder. IMO Having to introduce temporary functions and changes everywhere only to remove them a few commits later makes it way harder to review as some commits basically have no effect on the final product
<br>
</div>

<div class='talk op-msg' data-timestamp='1565369640' id='676260'>
<a class='timestamp' href='#676260'><time timestamp='2019-08-09T16:54:00Z'>16:54</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/16341" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/16341</a> | Introduce ScriptPubKeyMan interface and use it for key and script management (aka wallet boxes) by achow101 · Pull Request #16341 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1565369760' id='676261'>
<a class='timestamp' href='#676261'><time timestamp='2019-08-09T16:56:00Z'>16:56</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
I ended up having to introduce several temp functions to expose some internals of LegacyScriptPubKeyMan which resulted in a bunch of changes to CWallet that were basically then removed in the subsequent commit. Having to keep track of all of these temp things and then removing them and restoring the correct behavior is far more work than it&#x27;s worth IMO
<br>
</div>

<div class='talk op-msg' data-timestamp='1565369760' id='676262'>
<a class='timestamp' href='#676262'><time timestamp='2019-08-09T16:56:00Z'>16:56</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
so I&#x27;m not going to continue doing that
<br>
</div>

<div class='talk op-msg' data-timestamp='1565370000' id='676263'>
<a class='timestamp' href='#676263'><time timestamp='2019-08-09T17:00:00Z'>17:00</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
That sounds painful indeed
<br>
</div>

<div class='talk op-msg' data-timestamp='1565370000' id='676264'>
<a class='timestamp' href='#676264'><time timestamp='2019-08-09T17:00:00Z'>17:00</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Can you push a temp branch somewhere though?
<br>
</div>

<div class='talk op-msg' data-timestamp='1565370000' id='676265'>
<a class='timestamp' href='#676265'><time timestamp='2019-08-09T17:00:00Z'>17:00</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Either way, it was worth watching the stream the Wednesday just to see you try :-)
<br>
</div>

<div class='talk op-msg' data-timestamp='1565370060' id='676266'>
<a class='timestamp' href='#676266'><time timestamp='2019-08-09T17:01:00Z'>17:01</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
Public bitcoin nodes use about 1200 ASNs. 20 of those ASNs represent 50% of the nodes, and just 3 ASNs represent 25%. This means that suggested ASN-based bucketing bias would make more (potentially, mission-critical) connections  to those tiny unpopular ASNs than it is today. Is this well-understood? Is this the effect we want?  I&#x27;m not sure. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1565370180' id='676267'>
<a class='timestamp' href='#676267'><time timestamp='2019-08-09T17:03:00Z'>17:03</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
BlueMatt: the good news is, this works now: dig -6 -t AAAA seed.bitcoin.sprovoost.nl 
<br>
</div>

<div class='talk op-msg' data-timestamp='1565370180' id='676268'>
<a class='timestamp' href='#676268'><time timestamp='2019-08-09T17:03:00Z'>17:03</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
The bad news is that I probably messed up the DNS for my entire domain in the process, so will clean that up now :-(
<br>
</div>

<div class='talk op-msg' data-timestamp='1565370180' id='676269'>
<a class='timestamp' href='#676269'><time timestamp='2019-08-09T17:03:00Z'>17:03</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
The benefit from ASN bucketing is clear from the standpoint of a single node, but for the network overall I dunno. Should we additionally enforce everybody connecting to a random node from top-3 ASNs?
<br>
</div>

<div class='talk op-msg' data-timestamp='1565370300' id='676270'>
<a class='timestamp' href='#676270'><time timestamp='2019-08-09T17:05:00Z'>17:05</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gleb: i&#x27;m not sure, but maybe it helps to look at it from the other direction: it&#x27;s expected that a huge number of nodes right now are on large providers (AWS, large VPS providers, ...); biasing by ASN would significantly reduce the number of connections to those in favor of others, but I think that&#x27;s desirable
<br>
</div>

<div class='talk op-msg' data-timestamp='1565370360' id='676271'>
<a class='timestamp' href='#676271'><time timestamp='2019-08-09T17:06:00Z'>17:06</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
having 100s of nodes on AWS doesn&#x27;t actually add much partition resistance from the perspective of someone connecting to it
<br>
</div>

<div class='talk op-msg' data-timestamp='1565370540' id='676272'>
<a class='timestamp' href='#676272'><time timestamp='2019-08-09T17:09:00Z'>17:09</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
gleb: indeed, what sipa said...last I looked the vast majority of nodes were on a few providers - aws, digitalocean, hertzner and such
<br>
</div>

<div class='talk op-msg' data-timestamp='1565370540' id='676273'>
<a class='timestamp' href='#676273'><time timestamp='2019-08-09T17:09:00Z'>17:09</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
provoostenator: <a href="https://github.com/achow101/bitcoin/tree/wallet-boxes-2" class="link" target="_blank">https://github.com/achow101/bitcoin/tree/wallet-boxes-2</a> it&#x27;s currently broken as I didn&#x27;t actually finish it
<br>
</div>

<div class='talk op-msg' data-timestamp='1565370540' id='676274'>
<a class='timestamp' href='#676274'><time timestamp='2019-08-09T17:09:00Z'>17:09</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
connecting only to those is, thus, likely not an uncommon case
<br>
</div>

<div class='talk op-msg' data-timestamp='1565370540' id='676275'>
<a class='timestamp' href='#676275'><time timestamp='2019-08-09T17:09:00Z'>17:09</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
and is clearly useless
<br>
</div>

<div class='talk op-msg' data-timestamp='1565370600' id='676276'>
<a class='timestamp' href='#676276'><time timestamp='2019-08-09T17:10:00Z'>17:10</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
an orthogonal idea may be to have 1 or 2 additional connections within your local network/ASN
<br>
</div>

<div class='talk op-msg' data-timestamp='1565370600' id='676277'>
<a class='timestamp' href='#676277'><time timestamp='2019-08-09T17:10:00Z'>17:10</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
I dont know how much &quot;few nodes on an asn&quot; correlates with &quot;small isp in the middle of nowhere which doesn&#x27;t want to serve a lot of traffic&quot;, it probably correlates a bit but I&#x27;d presume it correlates more with &quot;residential isp with few hosted nodes&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1565370600' id='676278'>
<a class='timestamp' href='#676278'><time timestamp='2019-08-09T17:10:00Z'>17:10</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
right, likely want that, too
<br>
</div>

<div class='talk op-msg' data-timestamp='1565370600' id='676279'>
<a class='timestamp' href='#676279'><time timestamp='2019-08-09T17:10:00Z'>17:10</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
maybe a third and fourth blocks-only connection or so to local asn
<br>
</div>

<div class='talk op-msg' data-timestamp='1565370660' id='676280'>
<a class='timestamp' href='#676280'><time timestamp='2019-08-09T17:11:00Z'>17:11</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
Now it&#x27;s very possible to connect to only those, which is obviously bad. I&#x27;m just saying that ASN bucketing might result in connecting to ONLY pocket vulnerable ISPs
<br>
</div>

<div class='talk op-msg' data-timestamp='1565370720' id='676281'>
<a class='timestamp' href='#676281'><time timestamp='2019-08-09T17:12:00Z'>17:12</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
So if the cost of partition is bribing, I think having 7 pocket ISPs + AWS is in this case better than 8 pocket ISPs :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1565370720' id='676282'>
<a class='timestamp' href='#676282'><time timestamp='2019-08-09T17:12:00Z'>17:12</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
what is a pocket ISP?
<br>
</div>

<div class='talk op-msg' data-timestamp='1565370720' id='676283'>
<a class='timestamp' href='#676283'><time timestamp='2019-08-09T17:12:00Z'>17:12</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
something unpopular and easy to influence
<br>
</div>

<div class='talk op-msg' data-timestamp='1565370780' id='676284'>
<a class='timestamp' href='#676284'><time timestamp='2019-08-09T17:13:00Z'>17:13</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
I might be missing the threat model here
<br>
</div>

<div class='talk op-msg' data-timestamp='1565370780' id='676285'>
<a class='timestamp' href='#676285'><time timestamp='2019-08-09T17:13:00Z'>17:13</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
actually, the rule &quot;at most one outgoing connection per ASN&quot; isn&#x27;t quite the same as &quot;connections are uniformly sampled over all ASNs&quot;; larger networks are still more likely to reason connections - just not more than one per outgoing peer
<br>
</div>

<div class='talk op-msg' data-timestamp='1565370840' id='676286'>
<a class='timestamp' href='#676286'><time timestamp='2019-08-09T17:14:00Z'>17:14</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
s/reason/receive/ no idea how i made that typo
<br>
</div>

<div class='talk op-msg' data-timestamp='1565370840' id='676287'>
<a class='timestamp' href='#676287'><time timestamp='2019-08-09T17:14:00Z'>17:14</time></a>
&lt;<span class='nick nick-4'> * sipa</span>&gt;
drinks coffee
<br>
</div>

<div class='talk op-msg' data-timestamp='1565370900' id='676288'>
<a class='timestamp' href='#676288'><time timestamp='2019-08-09T17:15:00Z'>17:15</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
Well, that&#x27;s partially what i&#x27;m asking about. I thought the current idea is uniformly random  sample over all ASNs, and I questioned this idea.
<br>
</div>

<div class='talk op-msg' data-timestamp='1565370900' id='676289'>
<a class='timestamp' href='#676289'><time timestamp='2019-08-09T17:15:00Z'>17:15</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
no, clearly an ASN with no known peers won&#x27;t get any connections :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1565370960' id='676290'>
<a class='timestamp' href='#676290'><time timestamp='2019-08-09T17:16:00Z'>17:16</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
the outgoing connection logic just randomly picks a known peer (with some biases already, like favoring port 8333), and then there is a rejection sampling which throws away results within a &quot;group&quot; we already have an outgoing connection to
<br>
</div>

<div class='talk op-msg' data-timestamp='1565370960' id='676291'>
<a class='timestamp' href='#676291'><time timestamp='2019-08-09T17:16:00Z'>17:16</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
I just thought of it this way: take all ASNs you know peers from, sample 8 unique ones, connect to peers from those 8
<br>
</div>

<div class='talk op-msg' data-timestamp='1565370960' id='676292'>
<a class='timestamp' href='#676292'><time timestamp='2019-08-09T17:16:00Z'>17:16</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
But I guess we will sample peers first, which would result in connecting to AWS at least once anyways.
<br>
</div>

<div class='talk op-msg' data-timestamp='1565371020' id='676293'>
<a class='timestamp' href='#676293'><time timestamp='2019-08-09T17:17:00Z'>17:17</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
right
<br>
</div>

<div class='talk op-msg' data-timestamp='1565371080' id='676294'>
<a class='timestamp' href='#676294'><time timestamp='2019-08-09T17:18:00Z'>17:18</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
Okay, I&#x27;ll see if there&#x27;s a good place in the code or PR I can document this observation, because for me it took a while to understand it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1565371080' id='676295'>
<a class='timestamp' href='#676295'><time timestamp='2019-08-09T17:18:00Z'>17:18</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
the suggestion is to change the definition of groups to be ASNs
<br>
</div>

<div class='talk op-msg' data-timestamp='1565371380' id='676296'>
<a class='timestamp' href='#676296'><time timestamp='2019-08-09T17:23:00Z'>17:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gleb: <a href="https://github.com/bitcoin/bitcoin/blob/v0.18.1/src/net.cpp#L1763L1808" class="link" target="_blank">https://github.com/bitcoin/bitcoin/blob/v0.18.1/src/net.cpp#L1763L1808</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1565371380' id='676297'>
<a class='timestamp' href='#676297'><time timestamp='2019-08-09T17:23:00Z'>17:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that&#x27;s the outgoing connection peer selection logic
<br>
</div>

<div class='talk op-msg' data-timestamp='1565371380' id='676298'>
<a class='timestamp' href='#676298'><time timestamp='2019-08-09T17:23:00Z'>17:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it&#x27;s fairly well documented
<br>
</div>

<div class='talk op-msg' data-timestamp='1565371620' id='676299'>
<a class='timestamp' href='#676299'><time timestamp='2019-08-09T17:27:00Z'>17:27</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
I was more worried that if this code is changed we might end up with uniform distribution across all asns due to this new bucket logic
<br>
</div>

<div class='talk op-msg' data-timestamp='1565371620' id='676300'>
<a class='timestamp' href='#676300'><time timestamp='2019-08-09T17:27:00Z'>17:27</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
&quot;If changing bucketing code again, don&#x27;t shoot in your leg&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1565371680' id='676301'>
<a class='timestamp' href='#676301'><time timestamp='2019-08-09T17:28:00Z'>17:28</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
if we feel the bias towards small asns is too strong as a result of this, the policy could also be permitting two connections to large asns
<br>
</div>

<div class='talk op-msg' data-timestamp='1565371680' id='676302'>
<a class='timestamp' href='#676302'><time timestamp='2019-08-09T17:28:00Z'>17:28</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
or to treat large asns as multiple groups
<br>
</div>

<div class='talk op-msg' data-timestamp='1565371920' id='676303'>
<a class='timestamp' href='#676303'><time timestamp='2019-08-09T17:32:00Z'>17:32</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
Now that you mitigated my misunderstanding I think it&#x27;s fine since we&#x27;ll very likely to have one connection to large asns and I don&#x27;t see a huge benefit in having 2 instead of 1
<br>
</div>

<div class='talk op-msg' data-timestamp='1565373360' id='676304'>
<a class='timestamp' href='#676304'><time timestamp='2019-08-09T17:56:00Z'>17:56</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
sipa petertodd, cdecker, luke-jr: to make my seed visible to IPv6-only nodes, I had to do two things:
<br>
</div>

<div class='talk op-msg' data-timestamp='1565373420' id='676305'>
<a class='timestamp' href='#676305'><time timestamp='2019-08-09T17:57:00Z'>17:57</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
1. add an AAAA record from seed.bitcoin.sprovoost.nl. to the IPv6 address of the seed
<br>
</div>

<div class='talk op-msg' data-timestamp='1565373480' id='676306'>
<a class='timestamp' href='#676306'><time timestamp='2019-08-09T17:58:00Z'>17:58</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
2. make sure all DNS providers starting from my domain registrar can actually handle IPv6 (I had to move stuff for that reason)  
<br>
</div>

<div class='talk op-msg' data-timestamp='1565373540' id='676307'>
<a class='timestamp' href='#676307'><time timestamp='2019-08-09T17:59:00Z'>17:59</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
&quot;dig -6 -t AAAA +trace seed.bitcoin.sprovoost.nl&quot; can be helpful seeing where the buck stops, ht BlueMatt
<br>
</div>

<div class='talk op-msg' data-timestamp='1565373540' id='676308'>
<a class='timestamp' href='#676308'><time timestamp='2019-08-09T17:59:00Z'>17:59</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Where -6 forces going over IPv6
<br>
</div>

<div class='talk op-msg' data-timestamp='1565377080' id='676309'>
<a class='timestamp' href='#676309'><time timestamp='2019-08-09T18:58:00Z'>18:58</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] LarryRuane opened pull request #16577: util: CBufferedFile fixes and unit test (master...CBufferedFile-fixes) <a href="https://github.com/bitcoin/bitcoin/pull/16577" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/16577</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1565377140' id='676310'>
<a class='timestamp' href='#676310'><time timestamp='2019-08-09T18:59:00Z'>18:59</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 2 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/9ab9d6356938...e47e36cb4975" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/9ab9d6356938...e47e36cb4975</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1565377140' id='676311'>
<a class='timestamp' href='#676311'><time timestamp='2019-08-09T18:59:00Z'>18:59</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master bf72b8a fanquake: build: disable libsecp256k1 benchmarks
<br>
</div>

<div class='talk op-msg' data-timestamp='1565377140' id='676312'>
<a class='timestamp' href='#676312'><time timestamp='2019-08-09T18:59:00Z'>18:59</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master e47e36c Wladimir J. van der Laan: Merge #16573: build: disable building libsecp256k1 benchmarks
<br>
</div>

<div class='talk op-msg' data-timestamp='1565377140' id='676313'>
<a class='timestamp' href='#676313'><time timestamp='2019-08-09T18:59:00Z'>18:59</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj merged pull request #16573: build: disable building libsecp256k1 benchmarks (master...disable-secp256k1-benchmarks) <a href="https://github.com/bitcoin/bitcoin/pull/16573" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/16573</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1565380320' id='676314'>
<a class='timestamp' href='#676314'><time timestamp='2019-08-09T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] achow101 opened pull request #16578: Do not pass in command line arguments to QApplication (master...no-qapp-args) <a href="https://github.com/bitcoin/bitcoin/pull/16578" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/16578</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1565381520' id='676315'>
<a class='timestamp' href='#676315'><time timestamp='2019-08-09T20:12:00Z'>20:12</time></a>
&lt;<span class='nick nick-1'> roasbeef</span>&gt;
does everyone use the same software to operate their DNS seed? do they need to be manually updated to respond to queries for &quot;new&quot; service bits? for example, of the seeds i&#x27;m aware of, only seed.bitnodes.io responds to queries for teh x49 subdomain (full node, segwit, bip 158) 
<br>
</div>

<div class='talk op-msg' data-timestamp='1565381640' id='676316'>
<a class='timestamp' href='#676316'><time timestamp='2019-08-09T20:14:00Z'>20:14</time></a>
&lt;<span class='nick nick-16'> emzy</span>&gt;
I think most using sipas dnsseed software, ecexpt one.
<br>
</div>

<div class='talk op-msg' data-timestamp='1565381820' id='676317'>
<a class='timestamp' href='#676317'><time timestamp='2019-08-09T20:17:00Z'>20:17</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
my seeder can be configured to support any subset of service bit combinations
<br>
</div>

<div class='talk op-msg' data-timestamp='1565381940' id='676318'>
<a class='timestamp' href='#676318'><time timestamp='2019-08-09T20:19:00Z'>20:19</time></a>
&lt;<span class='nick nick-16'> emzy</span>&gt;
I run the default.
<br>
</div>

<div class='talk op-msg' data-timestamp='1565383500' id='676319'>
<a class='timestamp' href='#676319'><time timestamp='2019-08-09T20:45:00Z'>20:45</time></a>
&lt;<span class='nick nick-16'> emzy</span>&gt;
any recomendation which service bit combinations to enable on the dnsseed?
<br>
</div>

<div class='talk op-msg' data-timestamp='1565389140' id='676320'>
<a class='timestamp' href='#676320'><time timestamp='2019-08-09T22:19:00Z'>22:19</time></a>
&lt;<span class='nick nick-1'> roasbeef</span>&gt;
emzy: x49? ;) that&#x27;s bits 1, 3, and 6
<br>
</div>

</div>
</section>

</body>
</html>
