<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2019-02-23
 — 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2019-02-23' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:20 UTC</pre>
<pre><a href="/bitcoin-core-dev/2019-01-23">&lt;</a><span class='header'>  February 2019   </span><a href="/bitcoin-core-dev/2019-03-23">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;                <a class="" href="/bitcoin-core-dev/2019-02-01">1</a>  <a class="" href="/bitcoin-core-dev/2019-02-02">2</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2019-02-03">3</a>  <a class="" href="/bitcoin-core-dev/2019-02-04">4</a>  <a class="" href="/bitcoin-core-dev/2019-02-05">5</a>  <a class="" href="/bitcoin-core-dev/2019-02-06">6</a>  <a class="" href="/bitcoin-core-dev/2019-02-07">7</a>  <a class="" href="/bitcoin-core-dev/2019-02-08">8</a>  <a class="" href="/bitcoin-core-dev/2019-02-09">9</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2019-02-10">10</a> <a class="" href="/bitcoin-core-dev/2019-02-11">11</a> <a class="" href="/bitcoin-core-dev/2019-02-12">12</a> <a class="" href="/bitcoin-core-dev/2019-02-13">13</a> <a class="" href="/bitcoin-core-dev/2019-02-14">14</a> <a class="" href="/bitcoin-core-dev/2019-02-15">15</a> <a class="" href="/bitcoin-core-dev/2019-02-16">16</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2019-02-17">17</a> <a class="" href="/bitcoin-core-dev/2019-02-18">18</a> <a class="" href="/bitcoin-core-dev/2019-02-19">19</a> <a class="" href="/bitcoin-core-dev/2019-02-20">20</a> <a class="" href="/bitcoin-core-dev/2019-02-21">21</a> <a class="" href="/bitcoin-core-dev/2019-02-22">22</a> <a class="current" href="/bitcoin-core-dev/2019-02-23">23</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2019-02-24">24</a> <a class="" href="/bitcoin-core-dev/2019-02-25">25</a> <a class="" href="/bitcoin-core-dev/2019-02-26">26</a> <a class="" href="/bitcoin-core-dev/2019-02-27">27</a> <a class="" href="/bitcoin-core-dev/2019-02-28">28</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1550885280' id='654820'>
<a class='timestamp' href='#654820'><time timestamp='2019-02-23T01:28:00Z'>01:28</time></a>
&lt;<span class='nick nick-4'> mischa010</span>&gt;
hi!
<br>
</div>

<div class='talk op-msg' data-timestamp='1550885280' id='654821'>
<a class='timestamp' href='#654821'><time timestamp='2019-02-23T01:28:00Z'>01:28</time></a>
&lt;<span class='nick nick-4'> mischa010</span>&gt;
do peers remember which peers were fastest in sending them data, how does this work? are INV&#x27;s sent to the &#x27;top ranked&#x27; peers first? where is the relevant code?
<br>
</div>

<div class='talk op-msg' data-timestamp='1550886060' id='654822'>
<a class='timestamp' href='#654822'><time timestamp='2019-02-23T01:41:00Z'>01:41</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
mischa010: invs are sent to all peer, period
<br>
</div>

<div class='talk op-msg' data-timestamp='1550886060' id='654823'>
<a class='timestamp' href='#654823'><time timestamp='2019-02-23T01:41:00Z'>01:41</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
if multiple peers announce the same tx/block to us, we only getdata one of them
<br>
</div>

<div class='talk op-msg' data-timestamp='1550886480' id='654824'>
<a class='timestamp' href='#654824'><time timestamp='2019-02-23T01:48:00Z'>01:48</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
though inv/getdata is used rarely for blocks and is slow...
<br>
</div>

<div class='talk op-msg' data-timestamp='1550886540' id='654825'>
<a class='timestamp' href='#654825'><time timestamp='2019-02-23T01:49:00Z'>01:49</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
tx invs are queued to all peers and then the queues are drained at random times.
<br>
</div>

<div class='talk op-msg' data-timestamp='1550889420' id='654826'>
<a class='timestamp' href='#654826'><time timestamp='2019-02-23T02:37:00Z'>02:37</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
MarcoFalke: re <a href="https://github.com/bitcoin/bitcoin/pull/15451" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/15451</a>  I assume that we broke some altcoin that has other kinds of invs, and the PR author is trying to suggest a comment change that would have avoided his confusion.
<br>
</div>

<div class='talk op-msg' data-timestamp='1550889480' id='654827'>
<a class='timestamp' href='#654827'><time timestamp='2019-02-23T02:38:00Z'>02:38</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(other kinds handled via generic getdata-anything-inved logic and not handled by special cases as we do)
<br>
</div>

<div class='talk op-msg' data-timestamp='1550905860' id='654828'>
<a class='timestamp' href='#654828'><time timestamp='2019-02-23T07:11:00Z'>07:11</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
promag around today?
<br>
</div>

<div class='talk op-msg' data-timestamp='1550908680' id='654829'>
<a class='timestamp' href='#654829'><time timestamp='2019-02-23T07:58:00Z'>07:58</time></a>
&lt;<span class='nick nick-8'> IZooo</span>&gt;
hello
<br>
</div>

<div class='talk op-msg' data-timestamp='1550909640' id='654830'>
<a class='timestamp' href='#654830'><time timestamp='2019-02-23T08:14:00Z'>08:14</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
helllo
<br>
</div>

<div class='talk op-msg' data-timestamp='1550911560' id='654831'>
<a class='timestamp' href='#654831'><time timestamp='2019-02-23T08:46:00Z'>08:46</time></a>
&lt;<span class='nick nick-15'> promag_</span>&gt;
fanquake: hi, need something?
<br>
</div>

<div class='talk op-msg' data-timestamp='1550912280' id='654832'>
<a class='timestamp' href='#654832'><time timestamp='2019-02-23T08:58:00Z'>08:58</time></a>
&lt;<span class='nick nick-3'> warren</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/pull/15277" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/15277</a> Hoping people can help with what is hopefully a simple environment difference between Ubuntu and this other distro. dongcarl is really close to a deterministic replacement for gitian&#x27;s toolchain. It may only be a matter of figuring out this linker issue then writing a wrapper around the entire thing.
<br>
</div>

<div class='talk op-msg' data-timestamp='1550912700' id='654833'>
<a class='timestamp' href='#654833'><time timestamp='2019-02-23T09:05:00Z'>09:05</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
warren: FWIW, our current binaries aren&#x27;t actually portable, so I&#x27;m not sure how important a 1:1 match on linkage is
<br>
</div>

<div class='talk op-msg' data-timestamp='1550912760' id='654834'>
<a class='timestamp' href='#654834'><time timestamp='2019-02-23T09:06:00Z'>09:06</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
(I can&#x27;t run the ones gitian makes)
<br>
</div>

<div class='talk op-msg' data-timestamp='1550912880' id='654835'>
<a class='timestamp' href='#654835'><time timestamp='2019-02-23T09:08:00Z'>09:08</time></a>
&lt;<span class='nick nick-3'> warren</span>&gt;
luke-jr: oh did you report the issue? what distro are you running on?
<br>
</div>

<div class='talk op-msg' data-timestamp='1550912880' id='654836'>
<a class='timestamp' href='#654836'><time timestamp='2019-02-23T09:08:00Z'>09:08</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
Gentoo, IIRC someone reported it years ago
<br>
</div>

<div class='talk op-msg' data-timestamp='1550912880' id='654837'>
<a class='timestamp' href='#654837'><time timestamp='2019-02-23T09:08:00Z'>09:08</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/6628" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/6628</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1550912880' id='654838'>
<a class='timestamp' href='#654838'><time timestamp='2019-02-23T09:08:00Z'>09:08</time></a>
&lt;<span class='nick nick-3'> warren</span>&gt;
are you still using that oddball x32 arch?
<br>
</div>

<div class='talk op-msg' data-timestamp='1550912880' id='654839'>
<a class='timestamp' href='#654839'><time timestamp='2019-02-23T09:08:00Z'>09:08</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
no, never migrated to it, only had it in a chroot for testing (and since gave up on it and deleted)
<br>
</div>

<div class='talk op-msg' data-timestamp='1550912940' id='654840'>
<a class='timestamp' href='#654840'><time timestamp='2019-02-23T09:09:00Z'>09:09</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
I&#x27;m pretty sure it&#x27;s something to blame Gentoo for, but who knows
<br>
</div>

<div class='talk op-msg' data-timestamp='1550912940' id='654841'>
<a class='timestamp' href='#654841'><time timestamp='2019-02-23T09:09:00Z'>09:09</time></a>
&lt;<span class='nick nick-3'> warren</span>&gt;
I&#x27;m guessing this isn&#x27;t more widespread?
<br>
</div>

<div class='talk op-msg' data-timestamp='1550913000' id='654842'>
<a class='timestamp' href='#654842'><time timestamp='2019-02-23T09:10:00Z'>09:10</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
the glibc ebuild seems to carry some weird patch touching __chk_fail stuff
<br>
</div>

<div class='talk op-msg' data-timestamp='1550913000' id='654843'>
<a class='timestamp' href='#654843'><time timestamp='2019-02-23T09:10:00Z'>09:10</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
dunno
<br>
</div>

<div class='talk op-msg' data-timestamp='1550913000' id='654844'>
<a class='timestamp' href='#654844'><time timestamp='2019-02-23T09:10:00Z'>09:10</time></a>
&lt;<span class='nick nick-3'> warren</span>&gt;
We should be more concerned about the reason why we&#x27;ve wanted a deterministic toolchain to replace gitian.
<br>
</div>

<div class='talk op-msg' data-timestamp='1550913120' id='654845'>
<a class='timestamp' href='#654845'><time timestamp='2019-02-23T09:12:00Z'>09:12</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
promag_ a few thoughts/questions about 15204, but might just put them into the PR
<br>
</div>

<div class='talk op-msg' data-timestamp='1550913120' id='654846'>
<a class='timestamp' href='#654846'><time timestamp='2019-02-23T09:12:00Z'>09:12</time></a>
&lt;<span class='nick nick-15'> promag_</span>&gt;
#15204
<br>
</div>

<div class='talk op-msg' data-timestamp='1550913120' id='654847'>
<a class='timestamp' href='#654847'><time timestamp='2019-02-23T09:12:00Z'>09:12</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/15204" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/15204</a> | gui: Add Open External Wallet action by promag · Pull Request #15204 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1550913180' id='654848'>
<a class='timestamp' href='#654848'><time timestamp='2019-02-23T09:13:00Z'>09:13</time></a>
&lt;<span class='nick nick-15'> promag_</span>&gt;
go ahead
<br>
</div>

<div class='talk op-msg' data-timestamp='1550913600' id='654849'>
<a class='timestamp' href='#654849'><time timestamp='2019-02-23T09:20:00Z'>09:20</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
promag_ One is wether we should just be creating a new &quot;wallet&quot; in any directory selected from that menu.
<br>
</div>

<div class='talk op-msg' data-timestamp='1550913600' id='654850'>
<a class='timestamp' href='#654850'><time timestamp='2019-02-23T09:20:00Z'>09:20</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
It&#x27;s not exactly obvious that&#x27;s what will happen (or if it should be the default behaviour), rather than a &quot;No wallet to load popup/error&quot;.
<br>
</div>

<div class='talk op-msg' data-timestamp='1550913600' id='654851'>
<a class='timestamp' href='#654851'><time timestamp='2019-02-23T09:20:00Z'>09:20</time></a>
&lt;<span class='nick nick-15'> promag_</span>&gt;
it should not create
<br>
</div>

<div class='talk op-msg' data-timestamp='1550913660' id='654852'>
<a class='timestamp' href='#654852'><time timestamp='2019-02-23T09:21:00Z'>09:21</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
Right. At the moment I can select any directory on the system, wallet directory or not, and if it&#x27;s not, it&#x27;s turned into one. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1550913660' id='654853'>
<a class='timestamp' href='#654853'><time timestamp='2019-02-23T09:21:00Z'>09:21</time></a>
&lt;<span class='nick nick-15'> promag_</span>&gt;
later create wallet can have a &quot;select other destination&quot; or something
<br>
</div>

<div class='talk op-msg' data-timestamp='1550913660' id='654854'>
<a class='timestamp' href='#654854'><time timestamp='2019-02-23T09:21:00Z'>09:21</time></a>
&lt;<span class='nick nick-15'> promag_</span>&gt;
yeah I know
<br>
</div>

<div class='talk op-msg' data-timestamp='1550913720' id='654855'>
<a class='timestamp' href='#654855'><time timestamp='2019-02-23T09:22:00Z'>09:22</time></a>
&lt;<span class='nick nick-15'> promag_</span>&gt;
I want to be able to just open, not createOrOpen
<br>
</div>

<div class='talk op-msg' data-timestamp='1550913780' id='654856'>
<a class='timestamp' href='#654856'><time timestamp='2019-02-23T09:23:00Z'>09:23</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
Yea, that would be the preferred behaviour
<br>
</div>

<div class='talk op-msg' data-timestamp='1550915160' id='654857'>
<a class='timestamp' href='#654857'><time timestamp='2019-02-23T09:46:00Z'>09:46</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
luke-jr: it&#x27;s also not portable to systems that don&#x27;t use glibc at all-in my experience the gitian-produced executables work on a wide range of systems in the wild, but undoubtly there&#x27;s always a limit to portability
<br>
</div>

<div class='talk op-msg' data-timestamp='1550915220' id='654858'>
<a class='timestamp' href='#654858'><time timestamp='2019-02-23T09:47:00Z'>09:47</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
and we all know that full static linking has its own slew of issues 
<br>
</div>

<div class='talk op-msg' data-timestamp='1550915340' id='654859'>
<a class='timestamp' href='#654859'><time timestamp='2019-02-23T09:49:00Z'>09:49</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
the modern way of shipping portable applications for linux are these universal package things such as snap, flatpak, appimage
<br>
</div>

<div class='talk op-msg' data-timestamp='1550915460' id='654860'>
<a class='timestamp' href='#654860'><time timestamp='2019-02-23T09:51:00Z'>09:51</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it prevents issues from the variance in possible environments by running in a predictable environment with predictable versions of libc and other libraries
<br>
</div>

<div class='talk op-msg' data-timestamp='1550917320' id='654861'>
<a class='timestamp' href='#654861'><time timestamp='2019-02-23T10:22:00Z'>10:22</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
IIRC years ago I tried using bitcoind on a uclibc system (or musl?) but I think I couldn&#x27;t get boost working.
<br>
</div>

<div class='talk op-msg' data-timestamp='1550917380' id='654862'>
<a class='timestamp' href='#654862'><time timestamp='2019-02-23T10:23:00Z'>10:23</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
I think at least musl has improved a lot since then
<br>
</div>

<div class='talk op-msg' data-timestamp='1550917440' id='654863'>
<a class='timestamp' href='#654863'><time timestamp='2019-02-23T10:24:00Z'>10:24</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
gmaxwell: <a href="https://github.com/ruimarinho/docker-bitcoin-core/blob/master/0.17/alpine/Dockerfile" class="link" target="_blank">https://github.com/ruimarinho/docker-bitcoin-core/blob/master/0.17/alpine/Dockerfile</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1550917440' id='654864'>
<a class='timestamp' href='#654864'><time timestamp='2019-02-23T10:24:00Z'>10:24</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
alpine uses musl iirc
<br>
</div>

<div class='talk op-msg' data-timestamp='1550936760' id='654865'>
<a class='timestamp' href='#654865'><time timestamp='2019-02-23T15:46:00Z'>15:46</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] ken2812221 opened pull request #15468: wallet: Use fsbridge::ifstream to fix Windows path issue (master...win-wallet-fix) <a href="https://github.com/bitcoin/bitcoin/pull/15468" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/15468</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1550949240' id='654866'>
<a class='timestamp' href='#654866'><time timestamp='2019-02-23T19:14:00Z'>19:14</time></a>
&lt;<span class='nick nick-4'> mischa010</span>&gt;
hi, im trying to understand how peers are ranked, for example, do peers that take less time to transmit things get priority somehow? what&#x27;s the relevant bit of code?
<br>
</div>

<div class='talk op-msg' data-timestamp='1550949300' id='654867'>
<a class='timestamp' href='#654867'><time timestamp='2019-02-23T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-4'> mischa010</span>&gt;
gmaxwell? :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1550949300' id='654868'>
<a class='timestamp' href='#654868'><time timestamp='2019-02-23T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
priority for what?
<br>
</div>

<div class='talk op-msg' data-timestamp='1550949300' id='654869'>
<a class='timestamp' href='#654869'><time timestamp='2019-02-23T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-4'> mischa010</span>&gt;
sending an inv for example
<br>
</div>

<div class='talk op-msg' data-timestamp='1550949360' id='654870'>
<a class='timestamp' href='#654870'><time timestamp='2019-02-23T19:16:00Z'>19:16</time></a>
&lt;<span class='nick nick-4'> mischa010</span>&gt;
or getting headers
<br>
</div>

<div class='talk op-msg' data-timestamp='1550949360' id='654871'>
<a class='timestamp' href='#654871'><time timestamp='2019-02-23T19:16:00Z'>19:16</time></a>
&lt;<span class='nick nick-4'> mischa010</span>&gt;
what determines which peer gets one first
<br>
</div>

<div class='talk op-msg' data-timestamp='1550949360' id='654872'>
<a class='timestamp' href='#654872'><time timestamp='2019-02-23T19:16:00Z'>19:16</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
transaction invs are batched and are done at totally random times... the only real priority there is that the random times are more frequent for outbound peers.
<br>
</div>

<div class='talk op-msg' data-timestamp='1550949420' id='654873'>
<a class='timestamp' href='#654873'><time timestamp='2019-02-23T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-4'> mischa010</span>&gt;
why is it random instead of immediately?
<br>
</div>

<div class='talk op-msg' data-timestamp='1550949420' id='654874'>
<a class='timestamp' href='#654874'><time timestamp='2019-02-23T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
because immediately would be toxic for privacy and would waste more bandwidth from INVs crossing in flight (so two peers would INV each other the same txn, which happens quite rarely now)
<br>
</div>

<div class='talk op-msg' data-timestamp='1550949540' id='654875'>
<a class='timestamp' href='#654875'><time timestamp='2019-02-23T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-4'> mischa010</span>&gt;
interesting
<br>
</div>

<div class='talk op-msg' data-timestamp='1550949720' id='654876'>
<a class='timestamp' href='#654876'><time timestamp='2019-02-23T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
mischa010: the delay is in the order of a few seconds usually
<br>
</div>

<div class='talk op-msg' data-timestamp='1550949780' id='654877'>
<a class='timestamp' href='#654877'><time timestamp='2019-02-23T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-4'> mischa010</span>&gt;
and blocks? those aren&#x27;t delayed right?
<br>
</div>

<div class='talk op-msg' data-timestamp='1550949840' id='654878'>
<a class='timestamp' href='#654878'><time timestamp='2019-02-23T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
indeed
<br>
</div>

<div class='talk op-msg' data-timestamp='1550949840' id='654879'>
<a class='timestamp' href='#654879'><time timestamp='2019-02-23T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-4'> mischa010</span>&gt;
but there&#x27;
<br>
</div>

<div class='talk op-msg' data-timestamp='1550949840' id='654880'>
<a class='timestamp' href='#654880'><time timestamp='2019-02-23T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
they&#x27;re relayed as fast as possible
<br>
</div>

<div class='talk op-msg' data-timestamp='1550949840' id='654881'>
<a class='timestamp' href='#654881'><time timestamp='2019-02-23T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-4'> mischa010</span>&gt;
but there&#x27;s no peer priority/ranking in relaying blocks? so it&#x27;s possible a block is relayed to a slow peer instead of the n fastest ones?
<br>
</div>

<div class='talk op-msg' data-timestamp='1550949900' id='654882'>
<a class='timestamp' href='#654882'><time timestamp='2019-02-23T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
usually blocks are relayed using compact blocks, which are just a few kb
<br>
</div>

<div class='talk op-msg' data-timestamp='1550949900' id='654883'>
<a class='timestamp' href='#654883'><time timestamp='2019-02-23T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
which is too little to cause much contention on most uplinks
<br>
</div>

<div class='talk op-msg' data-timestamp='1550950140' id='654884'>
<a class='timestamp' href='#654884'><time timestamp='2019-02-23T19:29:00Z'>19:29</time></a>
&lt;<span class='nick nick-4'> mischa010</span>&gt;
but outbound nodes have priority in some cases right?
<br>
</div>

<div class='talk op-msg' data-timestamp='1550950200' id='654885'>
<a class='timestamp' href='#654885'><time timestamp='2019-02-23T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-4'> mischa010</span>&gt;
there&#x27;s a comment in net_processing.cpp about &#x27;nice&#x27; peers
<br>
</div>

<div class='talk op-msg' data-timestamp='1550959080' id='654886'>
<a class='timestamp' href='#654886'><time timestamp='2019-02-23T21:58:00Z'>21:58</time></a>
&lt;<span class='nick nick-4'> mischa010</span>&gt;
in this thread it&#x27;s claimed that compact blocks does indeed rank peers by their speed? <a href="https://www.reddit.com/r/Bitcoin/comments/5zo2ku/how_do_i_configure_my_node_to_use_highbandwidth/" class="link" target="_blank">https://www.reddit.com/r/Bitcoin/comments/5zo2ku/how_do_i_configure_my_node_to_use_highbandwidth/</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1550959080' id='654887'>
<a class='timestamp' href='#654887'><time timestamp='2019-02-23T21:58:00Z'>21:58</time></a>
&lt;<span class='nick nick-4'> mischa010</span>&gt;
is this true&gt;
<br>
</div>

<div class='talk op-msg' data-timestamp='1550959080' id='654888'>
<a class='timestamp' href='#654888'><time timestamp='2019-02-23T21:58:00Z'>21:58</time></a>
&lt;<span class='nick nick-4'> mischa010</span>&gt;
?
<br>
</div>

<div class='talk op-msg' data-timestamp='1550959260' id='654889'>
<a class='timestamp' href='#654889'><time timestamp='2019-02-23T22:01:00Z'>22:01</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
every node picks 3 peers which it asks to send compact blocks directly, instead of having them first announce the block
<br>
</div>

<div class='talk op-msg' data-timestamp='1550959980' id='654890'>
<a class='timestamp' href='#654890'><time timestamp='2019-02-23T22:13:00Z'>22:13</time></a>
&lt;<span class='nick nick-7'> captjakk</span>&gt;
Does anyone know why I would be getting a &quot;connection refused&quot; when connecting my lnd to my remote bitcoind instance
<br>
</div>

<div class='talk op-msg' data-timestamp='1550959980' id='654891'>
<a class='timestamp' href='#654891'><time timestamp='2019-02-23T22:13:00Z'>22:13</time></a>
&lt;<span class='nick nick-7'> captjakk</span>&gt;
to be clear, I&#x27;m talking about the zmq port
<br>
</div>

<div class='talk op-msg' data-timestamp='1550959980' id='654892'>
<a class='timestamp' href='#654892'><time timestamp='2019-02-23T22:13:00Z'>22:13</time></a>
&lt;<span class='nick nick-7'> captjakk</span>&gt;
also zmq isn&#x27;t refusing connections from localhost
<br>
</div>

<div class='talk op-msg' data-timestamp='1550959980' id='654893'>
<a class='timestamp' href='#654893'><time timestamp='2019-02-23T22:13:00Z'>22:13</time></a>
&lt;<span class='nick nick-7'> captjakk</span>&gt;
ufw (ubuntu) has been set to allow the zmq ports as well
<br>
</div>

<div class='talk op-msg' data-timestamp='1550961000' id='654894'>
<a class='timestamp' href='#654894'><time timestamp='2019-02-23T22:30:00Z'>22:30</time></a>
&lt;<span class='nick nick-7'> captjakk</span>&gt;
looks like my zmq interface was set only to 127.0.0.1
<br>
</div>

<div class='talk op-msg' data-timestamp='1550961240' id='654895'>
<a class='timestamp' href='#654895'><time timestamp='2019-02-23T22:34:00Z'>22:34</time></a>
&lt;<span class='nick nick-15'> echeveria</span>&gt;
you really don’t want to bind ZMQ to anywhere but local host.
<br>
</div>

<div class='talk op-msg' data-timestamp='1550961240' id='654896'>
<a class='timestamp' href='#654896'><time timestamp='2019-02-23T22:34:00Z'>22:34</time></a>
&lt;<span class='nick nick-15'> echeveria</span>&gt;
if anyone is telling you otherwise, they’re probably being insanely stupid.
<br>
</div>

<div class='talk op-msg' data-timestamp='1550962260' id='654897'>
<a class='timestamp' href='#654897'><time timestamp='2019-02-23T22:51:00Z'>22:51</time></a>
&lt;<span class='nick nick-13'> captjakk_</span>&gt;
even if i want to subscribe to zmq updates from a different machine?
<br>
</div>

<div class='talk op-msg' data-timestamp='1550962560' id='654898'>
<a class='timestamp' href='#654898'><time timestamp='2019-02-23T22:56:00Z'>22:56</time></a>
&lt;<span class='nick nick-13'> jimpo</span>&gt;
 
<br>
</div>

<div class='talk op-msg' data-timestamp='1550962860' id='654899'>
<a class='timestamp' href='#654899'><time timestamp='2019-02-23T23:01:00Z'>23:01</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
 
<br>
</div>

<div class='talk op-msg' data-timestamp='1550962980' id='654900'>
<a class='timestamp' href='#654900'><time timestamp='2019-02-23T23:03:00Z'>23:03</time></a>
&lt;<span class='nick nick-15'> echeveria</span>&gt;
captjakk_: like, don’t.
<br>
</div>

<div class='talk op-msg' data-timestamp='1550962980' id='654901'>
<a class='timestamp' href='#654901'><time timestamp='2019-02-23T23:03:00Z'>23:03</time></a>
&lt;<span class='nick nick-15'> echeveria</span>&gt;
it’s not authenticated. it’s not secure. it has a large attack surface. use a VPN if you have to.
<br>
</div>

<div class='talk op-msg' data-timestamp='1550962980' id='654902'>
<a class='timestamp' href='#654902'><time timestamp='2019-02-23T23:03:00Z'>23:03</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
echeveria: within a local network it&#x27;s fine
<br>
</div>

<div class='talk op-msg' data-timestamp='1550962980' id='654903'>
<a class='timestamp' href='#654903'><time timestamp='2019-02-23T23:03:00Z'>23:03</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but don&#x27;t exoose it to the internet...
<br>
</div>

<div class='talk op-msg' data-timestamp='1550963280' id='654904'>
<a class='timestamp' href='#654904'><time timestamp='2019-02-23T23:08:00Z'>23:08</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
ZMQ also requires both end be running the same library version, so that also makes it not so attractive for things that aren&#x27;t very tightly coupled.
<br>
</div>

<div class='talk op-msg' data-timestamp='1550963400' id='654905'>
<a class='timestamp' href='#654905'><time timestamp='2019-02-23T23:10:00Z'>23:10</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
mischa010: thats why I asked you to be specific earlier.
<br>
</div>

<div class='talk op-msg' data-timestamp='1550963400' id='654906'>
<a class='timestamp' href='#654906'><time timestamp='2019-02-23T23:10:00Z'>23:10</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
11:14:57 &lt; mischa010&gt; hi, im trying to understand how peers are ranked, for 
<br>
</div>

<div class='talk op-msg' data-timestamp='1550963400' id='654907'>
<a class='timestamp' href='#654907'><time timestamp='2019-02-23T23:10:00Z'>23:10</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
                      example, do peers that take less time to transmit things 
<br>
</div>

<div class='talk op-msg' data-timestamp='1550963400' id='654908'>
<a class='timestamp' href='#654908'><time timestamp='2019-02-23T23:10:00Z'>23:10</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
                      get priority somehow? what&#x27;s the relevant bit of code?
<br>
</div>

<div class='talk op-msg' data-timestamp='1550963400' id='654909'>
<a class='timestamp' href='#654909'><time timestamp='2019-02-23T23:10:00Z'>23:10</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
11:15:20 &lt; mischa010&gt; gmaxwell? :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1550963400' id='654910'>
<a class='timestamp' href='#654910'><time timestamp='2019-02-23T23:10:00Z'>23:10</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
11:15:38 &lt; gmaxwell&gt; priority for what?
<br>
</div>

<div class='talk op-msg' data-timestamp='1550963400' id='654911'>
<a class='timestamp' href='#654911'><time timestamp='2019-02-23T23:10:00Z'>23:10</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
11:15:46 &lt; mischa010&gt; sending an inv for example
<br>
</div>

<div class='talk op-msg' data-timestamp='1550963400' id='654912'>
<a class='timestamp' href='#654912'><time timestamp='2019-02-23T23:10:00Z'>23:10</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
INVs aren&#x27;t used for relaying blocks except as a backwards compatible fallback.
<br>
</div>

<div class='talk op-msg' data-timestamp='1550963460' id='654913'>
<a class='timestamp' href='#654913'><time timestamp='2019-02-23T23:11:00Z'>23:11</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Peers request the last three distinct peers to first provide them a block to request to compact blocks to them without first asking (alowing 0.5 RTT transmission in most cases).
<br>
</div>

<div class='talk op-msg' data-timestamp='1550963520' id='654914'>
<a class='timestamp' href='#654914'><time timestamp='2019-02-23T23:12:00Z'>23:12</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
when a block comes in, those requests are services first-- in partcular because they can be serviced prior to validation.
<br>
</div>

<div class='talk op-msg' data-timestamp='1550963580' id='654915'>
<a class='timestamp' href='#654915'><time timestamp='2019-02-23T23:13:00Z'>23:13</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
The &#x27;order&#x27; doesn&#x27;t really matter (at least not much) because CB messages are very small (10kb or so), and transmission is non-blocking.
<br>
</div>

<div class='talk op-msg' data-timestamp='1550963640' id='654916'>
<a class='timestamp' href='#654916'><time timestamp='2019-02-23T23:14:00Z'>23:14</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I tried before trying to sort sends by the nodes own CB preference, but I was unable to measure an improvement even in a pretty contrived setup, so it wasn&#x27;t worth PRing.
<br>
</div>

</div>
</section>

</body>
</html>
