<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2018-02-01
 — 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2018-02-01' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:22 UTC</pre>
<pre><a href="/bitcoin-core-dev/2018-01-01">&lt;</a><span class='header'>  February 2018   </span><a href="/bitcoin-core-dev/2018-03-01">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;             <a class="current" href="/bitcoin-core-dev/2018-02-01">1</a>  <a class="" href="/bitcoin-core-dev/2018-02-02">2</a>  <a class="" href="/bitcoin-core-dev/2018-02-03">3</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2018-02-04">4</a>  <a class="" href="/bitcoin-core-dev/2018-02-05">5</a>  <a class="" href="/bitcoin-core-dev/2018-02-06">6</a>  <a class="" href="/bitcoin-core-dev/2018-02-07">7</a>  <a class="" href="/bitcoin-core-dev/2018-02-08">8</a>  <a class="" href="/bitcoin-core-dev/2018-02-09">9</a> <a class="" href="/bitcoin-core-dev/2018-02-10">10</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2018-02-11">11</a> <a class="" href="/bitcoin-core-dev/2018-02-12">12</a> <a class="" href="/bitcoin-core-dev/2018-02-13">13</a> <a class="" href="/bitcoin-core-dev/2018-02-14">14</a> <a class="" href="/bitcoin-core-dev/2018-02-15">15</a> <a class="" href="/bitcoin-core-dev/2018-02-16">16</a> <a class="" href="/bitcoin-core-dev/2018-02-17">17</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2018-02-18">18</a> <a class="" href="/bitcoin-core-dev/2018-02-19">19</a> <a class="" href="/bitcoin-core-dev/2018-02-20">20</a> <a class="" href="/bitcoin-core-dev/2018-02-21">21</a> <a class="" href="/bitcoin-core-dev/2018-02-22">22</a> <a class="" href="/bitcoin-core-dev/2018-02-23">23</a> <a class="" href="/bitcoin-core-dev/2018-02-24">24</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2018-02-25">25</a> <a class="" href="/bitcoin-core-dev/2018-02-26">26</a> <a class="" href="/bitcoin-core-dev/2018-02-27">27</a> <a class="" href="/bitcoin-core-dev/2018-02-28">28</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1517443500' id='596576'>
<a class='timestamp' href='#596576'><time timestamp='2018-02-01T00:05:00Z'>00:05</time></a>
&lt;<span class='nick nick-12'> GitHub131</span>&gt;
[bitcoin-detached-sigs] jonasschnelli opened pull request #1: 0.16: osx signatures for 0.16.0rc1 (0.16...0.16) <a href="https://github.com/bitcoin-core/bitcoin-detached-sigs/pull/1" class="link" target="_blank">https://github.com/bitcoin-core/bitcoin-detached-sigs/pull/1</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1517447760' id='596577'>
<a class='timestamp' href='#596577'><time timestamp='2018-02-01T01:16:00Z'>01:16</time></a>
&lt;<span class='nick nick-8'> GitHub8</span>&gt;
[bitcoin-detached-sigs] theuni closed pull request #1: 0.16: osx signatures for 0.16.0rc1 (0.16...0.16) <a href="https://github.com/bitcoin-core/bitcoin-detached-sigs/pull/1" class="link" target="_blank">https://github.com/bitcoin-core/bitcoin-detached-sigs/pull/1</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1517447820' id='596578'>
<a class='timestamp' href='#596578'><time timestamp='2018-02-01T01:17:00Z'>01:17</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] fivepiece opened pull request #12321: p2wsh address in decodescript (master...decodescript-p2wsh) <a href="https://github.com/bitcoin/bitcoin/pull/12321" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/12321</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1517447820' id='596579'>
<a class='timestamp' href='#596579'><time timestamp='2018-02-01T01:17:00Z'>01:17</time></a>
&lt;<span class='nick nick-3'> meshcollider</span>&gt;
mryandao: see #12254
<br>
</div>

<div class='talk op-msg' data-timestamp='1517447820' id='596580'>
<a class='timestamp' href='#596580'><time timestamp='2018-02-01T01:17:00Z'>01:17</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/12254" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/12254</a> | BIP 158: Compact Block Filters for Light Clients by jimpo · Pull Request #12254 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1517447880' id='596581'>
<a class='timestamp' href='#596581'><time timestamp='2018-02-01T01:18:00Z'>01:18</time></a>
&lt;<span class='nick nick-3'> meshcollider</span>&gt;
Oh oops, I&#x27;m too late :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1517448420' id='596582'>
<a class='timestamp' href='#596582'><time timestamp='2018-02-01T01:27:00Z'>01:27</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
cfields: I saw that the detached sigs were pushed, but they don&#x27;t seem to be working rn
<br>
</div>

<div class='talk op-msg' data-timestamp='1517448420' id='596583'>
<a class='timestamp' href='#596583'><time timestamp='2018-02-01T01:27:00Z'>01:27</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
achow101: not quite yet, still working on it
<br>
</div>

<div class='talk op-msg' data-timestamp='1517448420' id='596584'>
<a class='timestamp' href='#596584'><time timestamp='2018-02-01T01:27:00Z'>01:27</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
oh, ok
<br>
</div>

<div class='talk op-msg' data-timestamp='1517448420' id='596585'>
<a class='timestamp' href='#596585'><time timestamp='2018-02-01T01:27:00Z'>01:27</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
this is the first release with the new key, and the first that&#x27;s not just me signing. So it&#x27;s a bit kludgy
<br>
</div>

<div class='talk op-msg' data-timestamp='1517448480' id='596586'>
<a class='timestamp' href='#596586'><time timestamp='2018-02-01T01:28:00Z'>01:28</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
we haven&#x27;t done the mpc rsa thing yet, have we?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517448540' id='596587'>
<a class='timestamp' href='#596587'><time timestamp='2018-02-01T01:29:00Z'>01:29</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
no, didn&#x27;t make it in time
<br>
</div>

<div class='talk op-msg' data-timestamp='1517448540' id='596588'>
<a class='timestamp' href='#596588'><time timestamp='2018-02-01T01:29:00Z'>01:29</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
ok, pushed the tag. should work now
<br>
</div>

<div class='talk op-msg' data-timestamp='1517448540' id='596589'>
<a class='timestamp' href='#596589'><time timestamp='2018-02-01T01:29:00Z'>01:29</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
off to find food before everything closes, bbl
<br>
</div>

<div class='talk op-msg' data-timestamp='1517448540' id='596590'>
<a class='timestamp' href='#596590'><time timestamp='2018-02-01T01:29:00Z'>01:29</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
gitian builders: v0.16.0rc1 detached sigs are pushed. Please ping me if there are any issues
<br>
</div>

<div class='talk op-msg' data-timestamp='1517460300' id='596591'>
<a class='timestamp' href='#596591'><time timestamp='2018-02-01T04:45:00Z'>04:45</time></a>
&lt;<span class='nick nick-8'> dx25</span>&gt;
with 0.16.0rc1 on exit i&#x27;m seeing &quot;IO Error: ...chainstate/244997.ldb: Bad file descriptor&quot;, system error while flushing: Database I/O error.  
<br>
</div>

<div class='talk op-msg' data-timestamp='1517460300' id='596592'>
<a class='timestamp' href='#596592'><time timestamp='2018-02-01T04:45:00Z'>04:45</time></a>
&lt;<span class='nick nick-8'> dx25</span>&gt;
Does not seem to be happening with v0.15.2 or older version
<br>
</div>

<div class='talk op-msg' data-timestamp='1517468760' id='596593'>
<a class='timestamp' href='#596593'><time timestamp='2018-02-01T07:06:00Z'>07:06</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
dx25: can you tell us some about your system? What OS, etc.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517468760' id='596594'>
<a class='timestamp' href='#596594'><time timestamp='2018-02-01T07:06:00Z'>07:06</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
dx25: we believe thats a new issue, which will likely block the release until we fix it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517468820' id='596595'>
<a class='timestamp' href='#596595'><time timestamp='2018-02-01T07:07:00Z'>07:07</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
dx25: we&#x27;ve had one developer hit it but don&#x27;t have a reliable reproduction yet, and maybe there is something in common between systems that have hit it which would help track it down
<br>
</div>

<div class='talk op-msg' data-timestamp='1517468820' id='596596'>
<a class='timestamp' href='#596596'><time timestamp='2018-02-01T07:07:00Z'>07:07</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
e.g. what OS, kernel version, etc.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517478960' id='596597'>
<a class='timestamp' href='#596597'><time timestamp='2018-02-01T09:56:00Z'>09:56</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] murrayn opened pull request #12322: Docs: Remove step making cloned repository world-writable for Windows build. (master...doc_change) <a href="https://github.com/bitcoin/bitcoin/pull/12322" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/12322</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1517482380' id='596598'>
<a class='timestamp' href='#596598'><time timestamp='2018-02-01T10:53:00Z'>10:53</time></a>
&lt;<span class='nick nick-6'> dafuq</span>&gt;
a PR change to the --help CLI options would fall under what category?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517482680' id='596599'>
<a class='timestamp' href='#596599'><time timestamp='2018-02-01T10:58:00Z'>10:58</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
docs
<br>
</div>

<div class='talk op-msg' data-timestamp='1517483040' id='596600'>
<a class='timestamp' href='#596600'><time timestamp='2018-02-01T11:04:00Z'>11:04</time></a>
&lt;<span class='nick nick-6'> dafuq</span>&gt;
ok, seems most suitable but does involve code changes
<br>
</div>

<div class='talk op-msg' data-timestamp='1517483100' id='596601'>
<a class='timestamp' href='#596601'><time timestamp='2018-02-01T11:05:00Z'>11:05</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes, that doesn&#x27;t matter, as long as it is message changes
<br>
</div>

<div class='talk op-msg' data-timestamp='1517483100' id='596602'>
<a class='timestamp' href='#596602'><time timestamp='2018-02-01T11:05:00Z'>11:05</time></a>
&lt;<span class='nick nick-6'> dafuq</span>&gt;
thanks
<br>
</div>

<div class='talk op-msg' data-timestamp='1517484420' id='596603'>
<a class='timestamp' href='#596603'><time timestamp='2018-02-01T11:27:00Z'>11:27</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
gmaxwell:  dx25: I&#x27;ve created an issue for the problem, please add more information if you have there <a href="https://github.com/bitcoin/bitcoin/issues/12323" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/12323</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1517485920' id='596604'>
<a class='timestamp' href='#596604'><time timestamp='2018-02-01T11:52:00Z'>11:52</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] AkioNak opened pull request #12324: speed up Unserialize_impl for prevector (master...unserialize) <a href="https://github.com/bitcoin/bitcoin/pull/12324" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/12324</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1517489340' id='596605'>
<a class='timestamp' href='#596605'><time timestamp='2018-02-01T12:49:00Z'>12:49</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
I&#x27;m getting &quot;Fatal Internal Error&quot; during IBD on testnet3 with 0.16.0rc1, twice. Will investigate.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517489400' id='596606'>
<a class='timestamp' href='#596606'><time timestamp='2018-02-01T12:50:00Z'>12:50</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] kekimusmaximus opened pull request #12325: Use dynamic_cast for downcasting instead of static_cast. (master...use_dynamic_cast_to_downcast) <a href="https://github.com/bitcoin/bitcoin/pull/12325" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/12325</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1517489400' id='596607'>
<a class='timestamp' href='#596607'><time timestamp='2018-02-01T12:50:00Z'>12:50</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Might be a disk permission thing. &quot;Pre-allocating up to position 0x3000000 in blk00002.dat&quot; &quot;ERROR: WriteBlockToDisk: ftell failed&quot; &quot;*** Failed to write block&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1517489580' id='596608'>
<a class='timestamp' href='#596608'><time timestamp='2018-02-01T12:53:00Z'>12:53</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
disk full?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517489580' id='596609'>
<a class='timestamp' href='#596609'><time timestamp='2018-02-01T12:53:00Z'>12:53</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Also seeing a bunch of &quot;socket recv error Bad file descriptor (9)&quot; messages, not sure what that&#x27;s about.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517489580' id='596610'>
<a class='timestamp' href='#596610'><time timestamp='2018-02-01T12:53:00Z'>12:53</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
oof bad file descriptor
<br>
</div>

<div class='talk op-msg' data-timestamp='1517489580' id='596611'>
<a class='timestamp' href='#596611'><time timestamp='2018-02-01T12:53:00Z'>12:53</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
No, plenty of space. It&#x27;s an external SSD though, so can&#x27;t rule out a hardware problem.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517489580' id='596612'>
<a class='timestamp' href='#596612'><time timestamp='2018-02-01T12:53:00Z'>12:53</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
provoostenator: see  <a href="https://github.com/bitcoin/bitcoin/issues/12323" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/12323</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1517489640' id='596613'>
<a class='timestamp' href='#596613'><time timestamp='2018-02-01T12:54:00Z'>12:54</time></a>
&lt;<span class='nick nick-8'> dx25</span>&gt;
mine&#x27;s also an external drive, not ssd tho
<br>
</div>

<div class='talk op-msg' data-timestamp='1517489640' id='596614'>
<a class='timestamp' href='#596614'><time timestamp='2018-02-01T12:54:00Z'>12:54</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
no, it&#x27;s possibly a regression in 0.16
<br>
</div>

<div class='talk op-msg' data-timestamp='1517489700' id='596615'>
<a class='timestamp' href='#596615'><time timestamp='2018-02-01T12:55:00Z'>12:55</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Getting this crash every other minute now on testnet. Will try local drive just to rule out hardware issue.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517489700' id='596616'>
<a class='timestamp' href='#596616'><time timestamp='2018-02-01T12:55:00Z'>12:55</time></a>
&lt;<span class='nick nick-8'> dx25</span>&gt;
i&#x27;m on qubes, fedora25 vm, 4.9.56 kernel
<br>
</div>

<div class='talk op-msg' data-timestamp='1517490000' id='596617'>
<a class='timestamp' href='#596617'><time timestamp='2018-02-01T13:00:00Z'>13:00</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I really wonder why the bad file descriptor thing happens, normally that happens if either a fd is used that was not returned by open, or a file descriptor that was already closed
<br>
</div>

<div class='talk op-msg' data-timestamp='1517490060' id='596618'>
<a class='timestamp' href='#596618'><time timestamp='2018-02-01T13:01:00Z'>13:01</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Same &quot;bad file descriptor&quot; on a fresh testnet3 IBD (MacOS) on the built in harddisk which has plenty of space. Waiting for it to crash.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517490180' id='596619'>
<a class='timestamp' href='#596619'><time timestamp='2018-02-01T13:03:00Z'>13:03</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I seriously doubt this is a hardware issue
<br>
</div>

<div class='talk op-msg' data-timestamp='1517490180' id='596620'>
<a class='timestamp' href='#596620'><time timestamp='2018-02-01T13:03:00Z'>13:03</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
are you doing anything special with the node? regular RPC requests, for example?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517490240' id='596621'>
<a class='timestamp' href='#596621'><time timestamp='2018-02-01T13:04:00Z'>13:04</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
or any fd related settings in bitcoin.conf?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517490240' id='596622'>
<a class='timestamp' href='#596622'><time timestamp='2018-02-01T13:04:00Z'>13:04</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
I was running QT production and testnet at the same time for different users on my system, bother in seperate directories. I also suspended the computer (though it should keep syncing in that case). So trying to reproduce with fewer variables now.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517490300' id='596623'>
<a class='timestamp' href='#596623'><time timestamp='2018-02-01T13:05:00Z'>13:05</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
server=1  rpcuser=... rpcpassword=... listen=0
<br>
</div>

<div class='talk op-msg' data-timestamp='1517490360' id='596624'>
<a class='timestamp' href='#596624'><time timestamp='2018-02-01T13:06:00Z'>13:06</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
I used a symlink to point to the SSD drive.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517490360' id='596625'>
<a class='timestamp' href='#596625'><time timestamp='2018-02-01T13:06:00Z'>13:06</time></a>
&lt;<span class='nick nick-8'> dx25</span>&gt;
i have some weird walletnotify and alertnotify thing calling curl for some reason i can&#x27;t remember.  haven&#x27;t tried turning that off yet.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517490360' id='596626'>
<a class='timestamp' href='#596626'><time timestamp='2018-02-01T13:06:00Z'>13:06</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Ah there we go again: crash.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517490420' id='596627'>
<a class='timestamp' href='#596627'><time timestamp='2018-02-01T13:07:00Z'>13:07</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
(no symlink involved this time, nor an external drive). Crashed happened at or after block 64709 (testnet)
<br>
</div>

<div class='talk op-msg' data-timestamp='1517490420' id='596628'>
<a class='timestamp' href='#596628'><time timestamp='2018-02-01T13:07:00Z'>13:07</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
provoostenator: so it happens even without listening
<br>
</div>

<div class='talk op-msg' data-timestamp='1517490420' id='596629'>
<a class='timestamp' href='#596629'><time timestamp='2018-02-01T13:07:00Z'>13:07</time></a>
&lt;<span class='nick nick-8'> dx25</span>&gt;
i was doing no rpc stuff
<br>
</div>

<div class='talk op-msg' data-timestamp='1517490480' id='596630'>
<a class='timestamp' href='#596630'><time timestamp='2018-02-01T13:08:00Z'>13:08</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
provoostenator: that rules out some p2p races I guess, but what can it be then...
<br>
</div>

<div class='talk op-msg' data-timestamp='1517490480' id='596631'>
<a class='timestamp' href='#596631'><time timestamp='2018-02-01T13:08:00Z'>13:08</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
provoostenator: you&#x27;re able to reliably reproduce this? could try git bisecting, if it was ok with 0.15.1
<br>
</div>

<div class='talk op-msg' data-timestamp='1517490480' id='596632'>
<a class='timestamp' href='#596632'><time timestamp='2018-02-01T13:08:00Z'>13:08</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Meanwhile I had production QT running all night without a problem, so I suspect it&#x27;s sync related (my testnet node was doing an IBD the first time it crashed)
<br>
</div>

<div class='talk op-msg' data-timestamp='1517490480' id='596633'>
<a class='timestamp' href='#596633'><time timestamp='2018-02-01T13:08:00Z'>13:08</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
(or find some later commit where the issue doesn&#x27;t exist)
<br>
</div>

<div class='talk op-msg' data-timestamp='1517490540' id='596634'>
<a class='timestamp' href='#596634'><time timestamp='2018-02-01T13:09:00Z'>13:09</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
I just down the other mainnet QT instance, will try once more. Then I&#x27;ll compare versions after that.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517490540' id='596635'>
<a class='timestamp' href='#596635'><time timestamp='2018-02-01T13:09:00Z'>13:09</time></a>
&lt;<span class='nick nick-8'> dx25</span>&gt;
also sync related here, but on mainnet
<br>
</div>

<div class='talk op-msg' data-timestamp='1517490540' id='596636'>
<a class='timestamp' href='#596636'><time timestamp='2018-02-01T13:09:00Z'>13:09</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Pretty reliable so far
<br>
</div>

<div class='talk op-msg' data-timestamp='1517490960' id='596637'>
<a class='timestamp' href='#596637'><time timestamp='2018-02-01T13:16:00Z'>13:16</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
It was built with: ./configure --disable-tests --disable-bench --with-miniupnpc=no
<br>
</div>

<div class='talk op-msg' data-timestamp='1517491020' id='596638'>
<a class='timestamp' href='#596638'><time timestamp='2018-02-01T13:17:00Z'>13:17</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Hooray, another crash. Ok, should be easy to bisect.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517491020' id='596639'>
<a class='timestamp' href='#596639'><time timestamp='2018-02-01T13:17:00Z'>13:17</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Height 8089 (testnet)
<br>
</div>

<div class='talk op-msg' data-timestamp='1517491140' id='596640'>
<a class='timestamp' href='#596640'><time timestamp='2018-02-01T13:19:00Z'>13:19</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes, would make a backup  of the data directory to make sure you start with the same state every time
<br>
</div>

<div class='talk op-msg' data-timestamp='1517491140' id='596641'>
<a class='timestamp' href='#596641'><time timestamp='2018-02-01T13:19:00Z'>13:19</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
at hight 8089 at least that isn&#x27;t too much data
<br>
</div>

<div class='talk op-msg' data-timestamp='1517491200' id='596642'>
<a class='timestamp' href='#596642'><time timestamp='2018-02-01T13:20:00Z'>13:20</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
I get this crash with a fresh testnet3 directory.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517491200' id='596643'>
<a class='timestamp' href='#596643'><time timestamp='2018-02-01T13:20:00Z'>13:20</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
I&#x27;ll keep a copy for forensics
<br>
</div>

<div class='talk op-msg' data-timestamp='1517491320' id='596644'>
<a class='timestamp' href='#596644'><time timestamp='2018-02-01T13:22:00Z'>13:22</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I&#x27;ll hold up on uploading executables for rc1 for now
<br>
</div>

<div class='talk op-msg' data-timestamp='1517491560' id='596645'>
<a class='timestamp' href='#596645'><time timestamp='2018-02-01T13:26:00Z'>13:26</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Mmm, I just found a zombie lightningd instance in the background. Maybe it was making RPC requests, not sure.  I&#x27;m going to kill it just in case.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517491740' id='596646'>
<a class='timestamp' href='#596646'><time timestamp='2018-02-01T13:29:00Z'>13:29</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
(no difference)\
<br>
</div>

<div class='talk op-msg' data-timestamp='1517491800' id='596647'>
<a class='timestamp' href='#596647'><time timestamp='2018-02-01T13:30:00Z'>13:30</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Height 401 :-)
<br>
</div>

<div class='talk op-msg' data-timestamp='1517491800' id='596648'>
<a class='timestamp' href='#596648'><time timestamp='2018-02-01T13:30:00Z'>13:30</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I wouldn&#x27;t expect it to be so predictable in that case
<br>
</div>

<div class='talk op-msg' data-timestamp='1517492820' id='596649'>
<a class='timestamp' href='#596649'><time timestamp='2018-02-01T13:47:00Z'>13:47</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Other than ccache and skipping tests and bench, any hints on how to make it compile faster?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517492880' id='596650'>
<a class='timestamp' href='#596650'><time timestamp='2018-02-01T13:48:00Z'>13:48</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
do only &#x27;make -j&lt;x&gt; src/bitcoind&#x27;
<br>
</div>

<div class='talk op-msg' data-timestamp='1517492880' id='596651'>
<a class='timestamp' href='#596651'><time timestamp='2018-02-01T13:48:00Z'>13:48</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
you don&#x27;t really need to rebuild cli and such
<br>
</div>

<div class='talk op-msg' data-timestamp='1517493360' id='596652'>
<a class='timestamp' href='#596652'><time timestamp='2018-02-01T13:56:00Z'>13:56</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Right, I should test if this is QT related first, and otherwise just build bitcoind
<br>
</div>

<div class='talk op-msg' data-timestamp='1517493720' id='596653'>
<a class='timestamp' href='#596653'><time timestamp='2018-02-01T14:02:00Z'>14:02</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes, you could also only built -qt with a similar command, but it takes much longer
<br>
</div>

<div class='talk op-msg' data-timestamp='1517493840' id='596654'>
<a class='timestamp' href='#596654'><time timestamp='2018-02-01T14:04:00Z'>14:04</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
I know, I was doing that (make src/qt/bitcoin-qt) 
<br>
</div>

<div class='talk op-msg' data-timestamp='1517493840' id='596655'>
<a class='timestamp' href='#596655'><time timestamp='2018-02-01T14:04:00Z'>14:04</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Is there a reason the binaries end up in the /src path rather than in e.g. /dist?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517494140' id='596656'>
<a class='timestamp' href='#596656'><time timestamp='2018-02-01T14:09:00Z'>14:09</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
that&#x27;s common for automake build systems, if you want to build somewhere else you can do an out of tree build, if you want to put the binaries somewhere set a prefix and do `make install`&lt;
<br>
</div>

<div class='talk op-msg' data-timestamp='1517494500' id='596657'>
<a class='timestamp' href='#596657'><time timestamp='2018-02-01T14:15:00Z'>14:15</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
just to clarify we think the crash is caused by what?  a Bad file descriptor issue occuring on block write?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517494500' id='596658'>
<a class='timestamp' href='#596658'><time timestamp='2018-02-01T14:15:00Z'>14:15</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
We&#x27;ve also seen it on ldb which causes a crash
<br>
</div>

<div class='talk op-msg' data-timestamp='1517494500' id='596659'>
<a class='timestamp' href='#596659'><time timestamp='2018-02-01T14:15:00Z'>14:15</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
and on socket send/recv which doesn&#x27;t
<br>
</div>

<div class='talk op-msg' data-timestamp='1517494560' id='596660'>
<a class='timestamp' href='#596660'><time timestamp='2018-02-01T14:16:00Z'>14:16</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Mmm, bitcoind doesn&#x27;t show &quot;Bad file descriptor&quot; messages (with -debug=1). It does exit with &quot; A fatal internal error occurred, see debug.log for details&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1517494740' id='596661'>
<a class='timestamp' href='#596661'><time timestamp='2018-02-01T14:19:00Z'>14:19</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
But <a href="http://termbin.com/83iva" class="link" target="_blank">http://termbin.com/83iva</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1517494740' id='596662'>
<a class='timestamp' href='#596662'><time timestamp='2018-02-01T14:19:00Z'>14:19</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
I wonder what &quot;Interrupting HTTP server&quot; is about.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517494860' id='596663'>
<a class='timestamp' href='#596663'><time timestamp='2018-02-01T14:21:00Z'>14:21</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
there is no error there - you didn&#x27;t simply send a stop command?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517494920' id='596664'>
<a class='timestamp' href='#596664'><time timestamp='2018-02-01T14:22:00Z'>14:22</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
I didn&#x27;t. And a stop command wouldn&#x27;t explain bitcoind exiting with &quot;Error: Error: A fatal internal error occurred, see debug.log for details&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1517494920' id='596665'>
<a class='timestamp' href='#596665'><time timestamp='2018-02-01T14:22:00Z'>14:22</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
I&#x27;m blaming gremlins. Bisecting now.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517494980' id='596666'>
<a class='timestamp' href='#596666'><time timestamp='2018-02-01T14:23:00Z'>14:23</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
no, that&#x27;s true, normally that&#x27;s accompanied by an error being logged, this looks like a succesful shutdown
<br>
</div>

<div class='talk op-msg' data-timestamp='1517494980' id='596667'>
<a class='timestamp' href='#596667'><time timestamp='2018-02-01T14:23:00Z'>14:23</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
you did paste the right debug.log? :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1517495160' id='596668'>
<a class='timestamp' href='#596668'><time timestamp='2018-02-01T14:26:00Z'>14:26</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Not sure actually, double checking
<br>
</div>

<div class='talk op-msg' data-timestamp='1517495280' id='596669'>
<a class='timestamp' href='#596669'><time timestamp='2018-02-01T14:28:00Z'>14:28</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Default og locations changed between 0.15 and 0.16. Will try again.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517495400' id='596670'>
<a class='timestamp' href='#596670'><time timestamp='2018-02-01T14:30:00Z'>14:30</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
default log location changed?!
<br>
</div>

<div class='talk op-msg' data-timestamp='1517495400' id='596671'>
<a class='timestamp' href='#596671'><time timestamp='2018-02-01T14:30:00Z'>14:30</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
should not be the case, it&#x27;s still &lt;datadir&gt;/debug.log, sounds more likely you&#x27;ve set a different datadir for -qt
<br>
</div>

<div class='talk op-msg' data-timestamp='1517495520' id='596672'>
<a class='timestamp' href='#596672'><time timestamp='2018-02-01T14:32:00Z'>14:32</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Or accidentally used mainnet for bitcoind.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517495820' id='596673'>
<a class='timestamp' href='#596673'><time timestamp='2018-02-01T14:37:00Z'>14:37</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Ok, now I&#x27;m seeing the &quot;Bad file descriptor&quot; messages again. Will wait for crash and upload correct debug log. Then continue with bisect.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517495820' id='596674'>
<a class='timestamp' href='#596674'><time timestamp='2018-02-01T14:37:00Z'>14:37</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
provoostenator: if you&#x27;re trying to bisect, I&#x27;d recommend focusing on any changes to net
<br>
</div>

<div class='talk op-msg' data-timestamp='1517495820' id='596675'>
<a class='timestamp' href='#596675'><time timestamp='2018-02-01T14:37:00Z'>14:37</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
eg #11363
<br>
</div>

<div class='talk op-msg' data-timestamp='1517495820' id='596676'>
<a class='timestamp' href='#596676'><time timestamp='2018-02-01T14:37:00Z'>14:37</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/11363" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/11363</a> | net: Split socket create/connect by theuni · Pull Request #11363 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1517495820' id='596677'>
<a class='timestamp' href='#596677'><time timestamp='2018-02-01T14:37:00Z'>14:37</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
and #10663
<br>
</div>

<div class='talk op-msg' data-timestamp='1517495820' id='596678'>
<a class='timestamp' href='#596678'><time timestamp='2018-02-01T14:37:00Z'>14:37</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/10663" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/10663</a> | net: split resolve out of connect by theuni · Pull Request #10663 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1517495880' id='596679'>
<a class='timestamp' href='#596679'><time timestamp='2018-02-01T14:38:00Z'>14:38</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
though I dont see anything obvious in net on master that should be causing this
<br>
</div>

<div class='talk op-msg' data-timestamp='1517495880' id='596680'>
<a class='timestamp' href='#596680'><time timestamp='2018-02-01T14:38:00Z'>14:38</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
BlueMatt: bisecting everything involves less thinking :-) 
<br>
</div>

<div class='talk op-msg' data-timestamp='1517495940' id='596681'>
<a class='timestamp' href='#596681'><time timestamp='2018-02-01T14:39:00Z'>14:39</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Although I&#x27;m not sure yet how long without a crash is long enough. So far it crashes within a few minutes though if it does.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517496000' id='596682'>
<a class='timestamp' href='#596682'><time timestamp='2018-02-01T14:40:00Z'>14:40</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Maybe &quot;Bad file descriptor&quot; is a good enough proxy.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517496360' id='596683'>
<a class='timestamp' href='#596683'><time timestamp='2018-02-01T14:46:00Z'>14:46</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
cfields asked me to add some asserts for debugging this
<br>
</div>

<div class='talk op-msg' data-timestamp='1517496360' id='596684'>
<a class='timestamp' href='#596684'><time timestamp='2018-02-01T14:46:00Z'>14:46</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
<a href="https://0bin.net/paste/X-6vyuCUUlN+XY1l#5VoMIrtAP6S0Yex-7eAwDNLJl/7UT2e7medmcgsVtvA" class="link" target="_blank">https://0bin.net/paste/X-6vyuCUUlN+XY1l#5VoMIrtAP6S0Yex-7eAwDNLJl/7UT2e7medmcgsVtvA</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1517496360' id='596685'>
<a class='timestamp' href='#596685'><time timestamp='2018-02-01T14:46:00Z'>14:46</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/5" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/5</a> | Make the version number the protocol version and not the client version · Issue #5 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1517496360' id='596686'>
<a class='timestamp' href='#596686'><time timestamp='2018-02-01T14:46:00Z'>14:46</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
I just tried a fresh sync of testnet3 with these asserts patched on 0.16.0rc1 and the middle assert triggered
<br>
</div>

<div class='talk op-msg' data-timestamp='1517496420' id='596687'>
<a class='timestamp' href='#596687'><time timestamp='2018-02-01T14:47:00Z'>14:47</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
last line in debug log
<br>
</div>

<div class='talk op-msg' data-timestamp='1517496420' id='596688'>
<a class='timestamp' href='#596688'><time timestamp='2018-02-01T14:47:00Z'>14:47</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
2018-02-01 14:40:00.528984 socket select error Bad file descriptor (9)
<br>
</div>

<div class='talk op-msg' data-timestamp='1517496540' id='596689'>
<a class='timestamp' href='#596689'><time timestamp='2018-02-01T14:49:00Z'>14:49</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
BlueMatt: that seems like a really good candidate, yes. I went through it earlier this week already, but maybe i keep missing something
<br>
</div>

<div class='talk op-msg' data-timestamp='1517496540' id='596690'>
<a class='timestamp' href='#596690'><time timestamp='2018-02-01T14:49:00Z'>14:49</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
here is the backtrace from that thread:
<br>
</div>

<div class='talk op-msg' data-timestamp='1517496540' id='596691'>
<a class='timestamp' href='#596691'><time timestamp='2018-02-01T14:49:00Z'>14:49</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
<a href="https://0bin.net/paste/OmSDtVV-u0EwBaEp#Muh7dQfn6" class="link" target="_blank">https://0bin.net/paste/OmSDtVV-u0EwBaEp#Muh7dQfn6</a>+kzip0Ib-b5brUozDZtCZblT1ev2lNtfdT
<br>
</div>

<div class='talk op-msg' data-timestamp='1517496540' id='596692'>
<a class='timestamp' href='#596692'><time timestamp='2018-02-01T14:49:00Z'>14:49</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
also going to test with those asserts
<br>
</div>

<div class='talk op-msg' data-timestamp='1517496600' id='596693'>
<a class='timestamp' href='#596693'><time timestamp='2018-02-01T14:50:00Z'>14:50</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
morcos: can you do a &#x27;thread apply all bt&#x27; ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517496600' id='596694'>
<a class='timestamp' href='#596694'><time timestamp='2018-02-01T14:50:00Z'>14:50</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
if it&#x27;s a leak in something like 11363, it won&#x27;t show up in a bt though :(
<br>
</div>

<div class='talk op-msg' data-timestamp='1517496660' id='596695'>
<a class='timestamp' href='#596695'><time timestamp='2018-02-01T14:51:00Z'>14:51</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
though also, a leak should be obvious after a quick peek at /proc
<br>
</div>

<div class='talk op-msg' data-timestamp='1517496660' id='596696'>
<a class='timestamp' href='#596696'><time timestamp='2018-02-01T14:51:00Z'>14:51</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
would be nice if it was able to rewind the process to see what closed fd 9
<br>
</div>

<div class='talk op-msg' data-timestamp='1517496720' id='596697'>
<a class='timestamp' href='#596697'><time timestamp='2018-02-01T14:52:00Z'>14:52</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
<a href="https://0bin.net/paste/FotU51A-Z98LdS0u#aWgxDyxhAn5L4XIex7Ko" class="link" target="_blank">https://0bin.net/paste/FotU51A-Z98LdS0u#aWgxDyxhAn5L4XIex7Ko</a>+kjMJ+qkAL0CJ77NubzV6io
<br>
</div>

<div class='talk op-msg' data-timestamp='1517496720' id='596698'>
<a class='timestamp' href='#596698'><time timestamp='2018-02-01T14:52:00Z'>14:52</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
cfields: ^^
<br>
</div>

<div class='talk op-msg' data-timestamp='1517496720' id='596699'>
<a class='timestamp' href='#596699'><time timestamp='2018-02-01T14:52:00Z'>14:52</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
thanks
<br>
</div>

<div class='talk op-msg' data-timestamp='1517496720' id='596700'>
<a class='timestamp' href='#596700'><time timestamp='2018-02-01T14:52:00Z'>14:52</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
wumpus: i think 9 is EBADFD, not the fd#
<br>
</div>

<div class='talk op-msg' data-timestamp='1517496720' id='596701'>
<a class='timestamp' href='#596701'><time timestamp='2018-02-01T14:52:00Z'>14:52</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
yeah i hope so, b/c it&#x27;s always 9
<br>
</div>

<div class='talk op-msg' data-timestamp='1517496780' id='596702'>
<a class='timestamp' href='#596702'><time timestamp='2018-02-01T14:53:00Z'>14:53</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
cfields: oh, right it doesn&#x27;t print the actual fd number
<br>
</div>

<div class='talk op-msg' data-timestamp='1517496780' id='596703'>
<a class='timestamp' href='#596703'><time timestamp='2018-02-01T14:53:00Z'>14:53</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
<a href="http://termbin.com/h7jy" class="link" target="_blank">http://termbin.com/h7jy</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1517496840' id='596704'>
<a class='timestamp' href='#596704'><time timestamp='2018-02-01T14:54:00Z'>14:54</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
&quot;System error: CAutoFile::write: write failed: unspecified iostream_category error&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1517496840' id='596705'>
<a class='timestamp' href='#596705'><time timestamp='2018-02-01T14:54:00Z'>14:54</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
It then happily processes a few more blocks and shuts down
<br>
</div>

<div class='talk op-msg' data-timestamp='1517496840' id='596706'>
<a class='timestamp' href='#596706'><time timestamp='2018-02-01T14:54:00Z'>14:54</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
so the buckshot hit CAutoFile&#x27;s descriptor this time
<br>
</div>

<div class='talk op-msg' data-timestamp='1517496900' id='596707'>
<a class='timestamp' href='#596707'><time timestamp='2018-02-01T14:55:00Z'>14:55</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
this is so weird, looks like some evil background thread is randomly closing fds
<br>
</div>

<div class='talk op-msg' data-timestamp='1517496900' id='596708'>
<a class='timestamp' href='#596708'><time timestamp='2018-02-01T14:55:00Z'>14:55</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Unfortunately that took almost 20 minutes to crash, so this bisect will take a while, but probably worth it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517496900' id='596709'>
<a class='timestamp' href='#596709'><time timestamp='2018-02-01T14:55:00Z'>14:55</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
maybe some callback isn&#x27;t taking cs_main while touching block files?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517496960' id='596710'>
<a class='timestamp' href='#596710'><time timestamp='2018-02-01T14:56:00Z'>14:56</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
provoostenator: it&#x27;d be great if you could catch it in gdb
<br>
</div>

<div class='talk op-msg' data-timestamp='1517496960' id='596711'>
<a class='timestamp' href='#596711'><time timestamp='2018-02-01T14:56:00Z'>14:56</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
that should allow a &#x27;freeze&#x27; long enough to ld your fd&#x27;s
<br>
</div>

<div class='talk op-msg' data-timestamp='1517496960' id='596712'>
<a class='timestamp' href='#596712'><time timestamp='2018-02-01T14:56:00Z'>14:56</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
*ls     
<br>
</div>

<div class='talk op-msg' data-timestamp='1517496960' id='596713'>
<a class='timestamp' href='#596713'><time timestamp='2018-02-01T14:56:00Z'>14:56</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
gdb?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517496960' id='596714'>
<a class='timestamp' href='#596714'><time timestamp='2018-02-01T14:56:00Z'>14:56</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
provoostenator: debugger
<br>
</div>

<div class='talk op-msg' data-timestamp='1517496960' id='596715'>
<a class='timestamp' href='#596715'><time timestamp='2018-02-01T14:56:00Z'>14:56</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
cfields: right, it could well be something else than net calls, I remember there is a PR that changes locking around block files
<br>
</div>

<div class='talk op-msg' data-timestamp='1517497020' id='596716'>
<a class='timestamp' href='#596716'><time timestamp='2018-02-01T14:57:00Z'>14:57</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Since morcos is able to reproduce, maybe it&#x27;s easier if he looks at the debugger, while I just try to pinpoint which commit caused this.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517497080' id='596717'>
<a class='timestamp' href='#596717'><time timestamp='2018-02-01T14:58:00Z'>14:58</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
sure
<br>
</div>

<div class='talk op-msg' data-timestamp='1517497080' id='596718'>
<a class='timestamp' href='#596718'><time timestamp='2018-02-01T14:58:00Z'>14:58</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
That should also provide more assurance that the fix actually fixes it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517497080' id='596719'>
<a class='timestamp' href='#596719'><time timestamp='2018-02-01T14:58:00Z'>14:58</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
cfields: now i hit the first assert
<br>
</div>

<div class='talk op-msg' data-timestamp='1517497080' id='596720'>
<a class='timestamp' href='#596720'><time timestamp='2018-02-01T14:58:00Z'>14:58</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
morcos: if it&#x27;s some fd leak, it&#x27;d make sense that you&#x27;d get EBADFD randomly, all over the place
<br>
</div>

<div class='talk op-msg' data-timestamp='1517497080' id='596721'>
<a class='timestamp' href='#596721'><time timestamp='2018-02-01T14:58:00Z'>14:58</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
morcos: any chance you can catch it in gdb?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517497140' id='596722'>
<a class='timestamp' href='#596722'><time timestamp='2018-02-01T14:59:00Z'>14:59</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
yeah, ok so if i run in gdb, then you want what, the list of what&#x27;s in /proc/pid, or what
<br>
</div>

<div class='talk op-msg' data-timestamp='1517497140' id='596723'>
<a class='timestamp' href='#596723'><time timestamp='2018-02-01T14:59:00Z'>14:59</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
yea     
<br>
</div>

<div class='talk op-msg' data-timestamp='1517497140' id='596724'>
<a class='timestamp' href='#596724'><time timestamp='2018-02-01T14:59:00Z'>14:59</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
try to break on assert (might be _assert or __assert) in gdb, so it hangs before exit is called
<br>
</div>

<div class='talk op-msg' data-timestamp='1517497380' id='596725'>
<a class='timestamp' href='#596725'><time timestamp='2018-02-01T15:03:00Z'>15:03</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
cfields: maybe #11281 / ccd8ef65f93ed82a87cee634660bed3ac17d9eb5?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517497380' id='596726'>
<a class='timestamp' href='#596726'><time timestamp='2018-02-01T15:03:00Z'>15:03</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/11281" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/11281</a> | Avoid permanent cs_main/cs_wallet lock during RescanFromTime by jonasschnelli · Pull Request #11281 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1517497440' id='596727'>
<a class='timestamp' href='#596727'><time timestamp='2018-02-01T15:04:00Z'>15:04</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
it&#x27;s on to me, it&#x27;s not going to crash now
<br>
</div>

<div class='talk op-msg' data-timestamp='1517497440' id='596728'>
<a class='timestamp' href='#596728'><time timestamp='2018-02-01T15:04:00Z'>15:04</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
cfields: it changes locking around block file reading, at least
<br>
</div>

<div class='talk op-msg' data-timestamp='1517497440' id='596729'>
<a class='timestamp' href='#596729'><time timestamp='2018-02-01T15:04:00Z'>15:04</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
morcos: heh, gdb tends to throw timings just enough so that everything works perfectly
<br>
</div>

<div class='talk op-msg' data-timestamp='1517497500' id='596730'>
<a class='timestamp' href='#596730'><time timestamp='2018-02-01T15:05:00Z'>15:05</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
wumpus: good find, taking a look
<br>
</div>

<div class='talk op-msg' data-timestamp='1517497560' id='596731'>
<a class='timestamp' href='#596731'><time timestamp='2018-02-01T15:06:00Z'>15:06</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
morcos: wait, you said you hit the first one? that should be much more interesting
<br>
</div>

<div class='talk op-msg' data-timestamp='1517497560' id='596732'>
<a class='timestamp' href='#596732'><time timestamp='2018-02-01T15:06:00Z'>15:06</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
i guess th core file is blown away already? :(
<br>
</div>

<div class='talk op-msg' data-timestamp='1517497560' id='596733'>
<a class='timestamp' href='#596733'><time timestamp='2018-02-01T15:06:00Z'>15:06</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
cfields: the one I was thinking of <a href="https://github.com/bitcoin/bitcoin/pull/11913" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/11913</a> is not merged :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1517497620' id='596734'>
<a class='timestamp' href='#596734'><time timestamp='2018-02-01T15:07:00Z'>15:07</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
wumpus: ah, heh
<br>
</div>

<div class='talk op-msg' data-timestamp='1517497620' id='596735'>
<a class='timestamp' href='#596735'><time timestamp='2018-02-01T15:07:00Z'>15:07</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
no problems with testnet sync here w/ cfields&#x27;s assertions
<br>
</div>

<div class='talk op-msg' data-timestamp='1517497620' id='596736'>
<a class='timestamp' href='#596736'><time timestamp='2018-02-01T15:07:00Z'>15:07</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
cfield: no i saved it
<br>
</div>

<div class='talk op-msg' data-timestamp='1517497620' id='596737'>
<a class='timestamp' href='#596737'><time timestamp='2018-02-01T15:07:00Z'>15:07</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
(at least at block 319000)
<br>
</div>

<div class='talk op-msg' data-timestamp='1517497680' id='596738'>
<a class='timestamp' href='#596738'><time timestamp='2018-02-01T15:08:00Z'>15:08</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
morcos: could you do a &#x27;thread apply all bt&#x27; for that one?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517497680' id='596739'>
<a class='timestamp' href='#596739'><time timestamp='2018-02-01T15:08:00Z'>15:08</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
how do i easily output that to a file
<br>
</div>

<div class='talk op-msg' data-timestamp='1517497740' id='596740'>
<a class='timestamp' href='#596740'><time timestamp='2018-02-01T15:09:00Z'>15:09</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
the send is more interesting because it may be an optimistic send. in that case, it&#x27;d be coming from the message handler thread rather than the sockethandler, so it might show a little more
<br>
</div>

<div class='talk op-msg' data-timestamp='1517497740' id='596741'>
<a class='timestamp' href='#596741'><time timestamp='2018-02-01T15:09:00Z'>15:09</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
gdb logging
<br>
</div>

<div class='talk op-msg' data-timestamp='1517497740' id='596742'>
<a class='timestamp' href='#596742'><time timestamp='2018-02-01T15:09:00Z'>15:09</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
morcos: <a href="https://sourceware.org/gdb/onlinedocs/gdb/Logging-Output.html" class="link" target="_blank">https://sourceware.org/gdb/onlinedocs/gdb/Logging-Output.html</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1517498100' id='596743'>
<a class='timestamp' href='#596743'><time timestamp='2018-02-01T15:15:00Z'>15:15</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
some serious user error there
<br>
</div>

<div class='talk op-msg' data-timestamp='1517498100' id='596744'>
<a class='timestamp' href='#596744'><time timestamp='2018-02-01T15:15:00Z'>15:15</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
<a href="https://0bin.net/paste/43cNNOSrrPlIyVqt#BE1tyObep4Y9aLIpDDVC4kwVFJYxctxlhMJTE3xF08j" class="link" target="_blank">https://0bin.net/paste/43cNNOSrrPlIyVqt#BE1tyObep4Y9aLIpDDVC4kwVFJYxctxlhMJTE3xF08j</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1517498100' id='596745'>
<a class='timestamp' href='#596745'><time timestamp='2018-02-01T15:15:00Z'>15:15</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
thanks
<br>
</div>

<div class='talk op-msg' data-timestamp='1517498100' id='596746'>
<a class='timestamp' href='#596746'><time timestamp='2018-02-01T15:15:00Z'>15:15</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
&quot;Hello. CloseSocket may be called with hSocket uninitialised, at net.cpp:448 (not confirmed to be the cause of this bug, but it seems likely)&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1517498160' id='596747'>
<a class='timestamp' href='#596747'><time timestamp='2018-02-01T15:16:00Z'>15:16</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
(<a href="https://github.com/bitcoin/bitcoin/issues/12323#issuecomment-362296158" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/12323#issuecomment-362296158</a>)
<br>
</div>

<div class='talk op-msg' data-timestamp='1517498220' id='596748'>
<a class='timestamp' href='#596748'><time timestamp='2018-02-01T15:17:00Z'>15:17</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
I don&#x27;t think it can be called unitialized?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517498280' id='596749'>
<a class='timestamp' href='#596749'><time timestamp='2018-02-01T15:18:00Z'>15:18</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
closing an uninitialized fd would explain this perfectly, though
<br>
</div>

<div class='talk op-msg' data-timestamp='1517498280' id='596750'>
<a class='timestamp' href='#596750'><time timestamp='2018-02-01T15:18:00Z'>15:18</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
if you can reproduce this, maybe log all CloseSocket calls and see if it ends up with any funny data
<br>
</div>

<div class='talk op-msg' data-timestamp='1517498280' id='596751'>
<a class='timestamp' href='#596751'><time timestamp='2018-02-01T15:18:00Z'>15:18</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
yes it would
<br>
</div>

<div class='talk op-msg' data-timestamp='1517498340' id='596752'>
<a class='timestamp' href='#596752'><time timestamp='2018-02-01T15:19:00Z'>15:19</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
(or at least those for which the close() fails, because we ignore closes return value right now)
<br>
</div>

<div class='talk op-msg' data-timestamp='1517498340' id='596753'>
<a class='timestamp' href='#596753'><time timestamp='2018-02-01T15:19:00Z'>15:19</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
and it matches provoostenator&#x27;s log as well
<br>
</div>

<div class='talk op-msg' data-timestamp='1517498340' id='596754'>
<a class='timestamp' href='#596754'><time timestamp='2018-02-01T15:19:00Z'>15:19</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yep     
<br>
</div>

<div class='talk op-msg' data-timestamp='1517498400' id='596755'>
<a class='timestamp' href='#596755'><time timestamp='2018-02-01T15:20:00Z'>15:20</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
oh wait, that&#x27;s an else if(), not an else
<br>
</div>

<div class='talk op-msg' data-timestamp='1517498400' id='596756'>
<a class='timestamp' href='#596756'><time timestamp='2018-02-01T15:20:00Z'>15:20</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
maybe that can happen
<br>
</div>

<div class='talk op-msg' data-timestamp='1517498460' id='596757'>
<a class='timestamp' href='#596757'><time timestamp='2018-02-01T15:21:00Z'>15:21</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
yeah seems like you are missing a catch all else 
<br>
</div>

<div class='talk op-msg' data-timestamp='1517498460' id='596758'>
<a class='timestamp' href='#596758'><time timestamp='2018-02-01T15:21:00Z'>15:21</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
looks like it&#x27;d happen as a result of a dns seed handing out a bad/local ip
<br>
</div>

<div class='talk op-msg' data-timestamp='1517498520' id='596759'>
<a class='timestamp' href='#596759'><time timestamp='2018-02-01T15:22:00Z'>15:22</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
nice find by david60
<br>
</div>

<div class='talk op-msg' data-timestamp='1517498520' id='596760'>
<a class='timestamp' href='#596760'><time timestamp='2018-02-01T15:22:00Z'>15:22</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
morcos: do you see dns queries before crashes in your logs?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517498520' id='596761'>
<a class='timestamp' href='#596761'><time timestamp='2018-02-01T15:22:00Z'>15:22</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
cfields: that would match my having it happen a lot when i noticed i was using dns seeds a lot
<br>
</div>

<div class='talk op-msg' data-timestamp='1517498520' id='596762'>
<a class='timestamp' href='#596762'><time timestamp='2018-02-01T15:22:00Z'>15:22</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
i did previously, i don&#x27;t know if i exclusively checked , but i had observed it was doing a lot of dns querying
<br>
</div>

<div class='talk op-msg' data-timestamp='1517498580' id='596763'>
<a class='timestamp' href='#596763'><time timestamp='2018-02-01T15:23:00Z'>15:23</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
I&#x27;ll pr a fix for that right now either way. Seems like a really good candidate, though
<br>
</div>

<div class='talk op-msg' data-timestamp='1517498580' id='596764'>
<a class='timestamp' href='#596764'><time timestamp='2018-02-01T15:23:00Z'>15:23</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
ok     
<br>
</div>

<div class='talk op-msg' data-timestamp='1517498580' id='596765'>
<a class='timestamp' href='#596765'><time timestamp='2018-02-01T15:23:00Z'>15:23</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
maybe you could force it by setting up a phony seed and returning only 127.0.0.1
<br>
</div>

<div class='talk op-msg' data-timestamp='1517498640' id='596766'>
<a class='timestamp' href='#596766'><time timestamp='2018-02-01T15:24:00Z'>15:24</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
i think 2 phony entries in /etc/hosts would work
<br>
</div>

<div class='talk op-msg' data-timestamp='1517498700' id='596767'>
<a class='timestamp' href='#596767'><time timestamp='2018-02-01T15:25:00Z'>15:25</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
2?  any 2?  one ip4 and one ip6?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517498700' id='596768'>
<a class='timestamp' href='#596768'><time timestamp='2018-02-01T15:25:00Z'>15:25</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
That would be nice, in that case you can even write a test for it?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517498820' id='596769'>
<a class='timestamp' href='#596769'><time timestamp='2018-02-01T15:27:00Z'>15:27</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
morcos: 127.0.0.1 seed.bitcoin.sipa.be
<br>
</div>

<div class='talk op-msg' data-timestamp='1517498820' id='596770'>
<a class='timestamp' href='#596770'><time timestamp='2018-02-01T15:27:00Z'>15:27</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
i think that should do it?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517498880' id='596771'>
<a class='timestamp' href='#596771'><time timestamp='2018-02-01T15:28:00Z'>15:28</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
i think i tried that, let me see what happened, it didn&#x27;t crash yet
<br>
</div>

<div class='talk op-msg' data-timestamp='1517498940' id='596772'>
<a class='timestamp' href='#596772'><time timestamp='2018-02-01T15:29:00Z'>15:29</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
I&#x27;ve never had a crash before or during headers sync, always during block downloads.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517499060' id='596773'>
<a class='timestamp' href='#596773'><time timestamp='2018-02-01T15:31:00Z'>15:31</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
morcos: ok, 127.0.0.1 would still pass IsValid, we&#x27;ll have to use a more busted value
<br>
</div>

<div class='talk op-msg' data-timestamp='1517499180' id='596774'>
<a class='timestamp' href='#596774'><time timestamp='2018-02-01T15:33:00Z'>15:33</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
i got it to crash again not sure if it was because of those entries or what
<br>
</div>

<div class='talk op-msg' data-timestamp='1517499180' id='596775'>
<a class='timestamp' href='#596775'><time timestamp='2018-02-01T15:33:00Z'>15:33</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
in gdb
<br>
</div>

<div class='talk op-msg' data-timestamp='1517499240' id='596776'>
<a class='timestamp' href='#596776'><time timestamp='2018-02-01T15:34:00Z'>15:34</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] theuni opened pull request #12326: net: initialize socket to avoid closing random fd&#x27;s (master...fix-socket-init) <a href="https://github.com/bitcoin/bitcoin/pull/12326" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/12326</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1517499300' id='596777'>
<a class='timestamp' href='#596777'><time timestamp='2018-02-01T15:35:00Z'>15:35</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
morcos: dns query at the end of your log?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517499300' id='596778'>
<a class='timestamp' href='#596778'><time timestamp='2018-02-01T15:35:00Z'>15:35</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
<a href="https://0bin.net/paste/3T-vAUCXmHtlqJ9X#1UvKDgv7oZR4uZEEV0WqIGFDNdUQFTW3xFHkE0R-UOe" class="link" target="_blank">https://0bin.net/paste/3T-vAUCXmHtlqJ9X#1UvKDgv7oZR4uZEEV0WqIGFDNdUQFTW3xFHkE0R-UOe</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1517499300' id='596779'>
<a class='timestamp' href='#596779'><time timestamp='2018-02-01T15:35:00Z'>15:35</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/1" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/1</a> | JSON-RPC support for mobile devices (&quot;ultra-lightweight&quot; clients) · Issue #1 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1517499300' id='596780'>
<a class='timestamp' href='#596780'><time timestamp='2018-02-01T15:35:00Z'>15:35</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
gribble: lol
<br>
</div>

<div class='talk op-msg' data-timestamp='1517499300' id='596781'>
<a class='timestamp' href='#596781'><time timestamp='2018-02-01T15:35:00Z'>15:35</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
morcos: ok, so you&#x27;re not running through fd&#x27;s. Closing a random one makes way more sense
<br>
</div>

<div class='talk op-msg' data-timestamp='1517499300' id='596782'>
<a class='timestamp' href='#596782'><time timestamp='2018-02-01T15:35:00Z'>15:35</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
oh that was stupid, i changed the mainnet dns seeds but was running on testnet
<br>
</div>

<div class='talk op-msg' data-timestamp='1517499360' id='596783'>
<a class='timestamp' href='#596783'><time timestamp='2018-02-01T15:36:00Z'>15:36</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
heh     
<br>
</div>

<div class='talk op-msg' data-timestamp='1517499420' id='596784'>
<a class='timestamp' href='#596784'><time timestamp='2018-02-01T15:37:00Z'>15:37</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
morcos: try setting it to 0.0.0.0 instead. Not sure if the resolver will actually hand that out, though
<br>
</div>

<div class='talk op-msg' data-timestamp='1517499420' id='596785'>
<a class='timestamp' href='#596785'><time timestamp='2018-02-01T15:37:00Z'>15:37</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
actually, if that&#x27;s the case, I should be able to repro too instead of asking you to :p
<br>
</div>

<div class='talk op-msg' data-timestamp='1517499420' id='596786'>
<a class='timestamp' href='#596786'><time timestamp='2018-02-01T15:37:00Z'>15:37</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
off to test
<br>
</div>

<div class='talk op-msg' data-timestamp='1517499480' id='596787'>
<a class='timestamp' href='#596787'><time timestamp='2018-02-01T15:38:00Z'>15:38</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
cfields: ok yeah it did load dns seeds before this crash though
<br>
</div>

<div class='talk op-msg' data-timestamp='1517499480' id='596788'>
<a class='timestamp' href='#596788'><time timestamp='2018-02-01T15:38:00Z'>15:38</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
well it also depends on what is in the uninitialized memory
<br>
</div>

<div class='talk op-msg' data-timestamp='1517499540' id='596789'>
<a class='timestamp' href='#596789'><time timestamp='2018-02-01T15:39:00Z'>15:39</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
btw, before i forget, it seemed that running in testnet was reading peers.dat from .bitcoin and not testnet3
<br>
</div>

<div class='talk op-msg' data-timestamp='1517499540' id='596790'>
<a class='timestamp' href='#596790'><time timestamp='2018-02-01T15:39:00Z'>15:39</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
if there happen to be zeroes there, or some value that is larger than max fd, it will go unniticed, it still doesn&#x27;t have to trigger every time
<br>
</div>

<div class='talk op-msg' data-timestamp='1517499540' id='596791'>
<a class='timestamp' href='#596791'><time timestamp='2018-02-01T15:39:00Z'>15:39</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
i deleted both of them to force dnsseeds
<br>
</div>

<div class='talk op-msg' data-timestamp='1517499540' id='596792'>
<a class='timestamp' href='#596792'><time timestamp='2018-02-01T15:39:00Z'>15:39</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
wumpus: true, but an assert on a successfull close() should point it out quickly i should think
<br>
</div>

<div class='talk op-msg' data-timestamp='1517499540' id='596793'>
<a class='timestamp' href='#596793'><time timestamp='2018-02-01T15:39:00Z'>15:39</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
wumpus: wouldn&#x27;t anything other than -1 in memory cause a problem?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517499600' id='596794'>
<a class='timestamp' href='#596794'><time timestamp='2018-02-01T15:40:00Z'>15:40</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
cfields: it might, though closing fd 0 (stdin) is harmless in our case
<br>
</div>

<div class='talk op-msg' data-timestamp='1517499600' id='596795'>
<a class='timestamp' href='#596795'><time timestamp='2018-02-01T15:40:00Z'>15:40</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
hmm     
<br>
</div>

<div class='talk op-msg' data-timestamp='1517499660' id='596796'>
<a class='timestamp' href='#596796'><time timestamp='2018-02-01T15:41:00Z'>15:41</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
at least the first time. Once you close stdin, the next time you use open() you might get that fd, and if it then randomly gets closed again, it will still interfere. So, yeah. THe only harmless values would be very large ones that can&#x27;t be a fd, ever.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517499780' id='596797'>
<a class='timestamp' href='#596797'><time timestamp='2018-02-01T15:43:00Z'>15:43</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
makes sense
<br>
</div>

<div class='talk op-msg' data-timestamp='1517499780' id='596798'>
<a class='timestamp' href='#596798'><time timestamp='2018-02-01T15:43:00Z'>15:43</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
morcos: fyi, there&#x27;s -forcednsseed
<br>
</div>

<div class='talk op-msg' data-timestamp='1517500020' id='596799'>
<a class='timestamp' href='#596799'><time timestamp='2018-02-01T15:47:00Z'>15:47</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
cfields: I added an assert in netbase.cpp CloseSocket that ret != error and I hit it
<br>
</div>

<div class='talk op-msg' data-timestamp='1517500020' id='596800'>
<a class='timestamp' href='#596800'><time timestamp='2018-02-01T15:47:00Z'>15:47</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
morcos: great! can you print hSocket there ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517500140' id='596801'>
<a class='timestamp' href='#596801'><time timestamp='2018-02-01T15:49:00Z'>15:49</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
0?     
<br>
</div>

<div class='talk op-msg' data-timestamp='1517500140' id='596802'>
<a class='timestamp' href='#596802'><time timestamp='2018-02-01T15:49:00Z'>15:49</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
looks like addrConnect is 0
<br>
</div>

<div class='talk op-msg' data-timestamp='1517500140' id='596803'>
<a class='timestamp' href='#596803'><time timestamp='2018-02-01T15:49:00Z'>15:49</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
looks like this is all a test from provoostenator as its coming from his seed
<br>
</div>

<div class='talk op-msg' data-timestamp='1517500200' id='596804'>
<a class='timestamp' href='#596804'><time timestamp='2018-02-01T15:50:00Z'>15:50</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
morcos: you didn&#x27;t set yours in /etc/hosts ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517500200' id='596805'>
<a class='timestamp' href='#596805'><time timestamp='2018-02-01T15:50:00Z'>15:50</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Interesteing, is my testnet seed doing something funny?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517500200' id='596806'>
<a class='timestamp' href='#596806'><time timestamp='2018-02-01T15:50:00Z'>15:50</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
actually i&#x27;m not sure abou tthat, since i&#x27;m not familiar with this code
<br>
</div>

<div class='talk op-msg' data-timestamp='1517500200' id='596807'>
<a class='timestamp' href='#596807'><time timestamp='2018-02-01T15:50:00Z'>15:50</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
0x00005555555ed33a in CConnman::ConnectNode (this=this@entry=0x555556bc8530, addrConnect=..., pszDest=0x0, pszDest@entry=0x7fffac08c150 &quot;seed.testnet.bitcoin.sprovoost.nl&quot;, fCountFailure=fCountFailure@entry=false) at net.cpp:448
<br>
</div>

<div class='talk op-msg' data-timestamp='1517500260' id='596808'>
<a class='timestamp' href='#596808'><time timestamp='2018-02-01T15:51:00Z'>15:51</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Mmm, it might actually be down. Let me check
<br>
</div>

<div class='talk op-msg' data-timestamp='1517500260' id='596809'>
<a class='timestamp' href='#596809'><time timestamp='2018-02-01T15:51:00Z'>15:51</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
cfields i did make changes in /etc/hosts, but isn&#x27;t seed.bitcoin.sipa.be a mainnet seed?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517500260' id='596810'>
<a class='timestamp' href='#596810'><time timestamp='2018-02-01T15:51:00Z'>15:51</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
morcos: yea, but you said you had all of em. didn&#x27;t know what you set in there
<br>
</div>

<div class='talk op-msg' data-timestamp='1517500260' id='596811'>
<a class='timestamp' href='#596811'><time timestamp='2018-02-01T15:51:00Z'>15:51</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
i don&#x27;t know if this is related, but i have a lot of lines like this in my debug.log: &quot;trying connection seed.testnet.bitcoin.sprovoost.nl lastseen=0.0hrs&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1517500320' id='596812'>
<a class='timestamp' href='#596812'><time timestamp='2018-02-01T15:52:00Z'>15:52</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
provoostenator: it&#x27;s down for me...
<br>
</div>

<div class='talk op-msg' data-timestamp='1517500320' id='596813'>
<a class='timestamp' href='#596813'><time timestamp='2018-02-01T15:52:00Z'>15:52</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
For me as well.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517500320' id='596814'>
<a class='timestamp' href='#596814'><time timestamp='2018-02-01T15:52:00Z'>15:52</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
but that should return 0 addresses and not try a connection. It shouldn&#x27;t end up trying to connect to 0...
<br>
</div>

<div class='talk op-msg' data-timestamp='1517500320' id='596815'>
<a class='timestamp' href='#596815'><time timestamp='2018-02-01T15:52:00Z'>15:52</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
I still need to setup monitoring.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517500320' id='596816'>
<a class='timestamp' href='#596816'><time timestamp='2018-02-01T15:52:00Z'>15:52</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
provoostenator: leave it down while we&#x27;re testing :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1517500320' id='596817'>
<a class='timestamp' href='#596817'><time timestamp='2018-02-01T15:52:00Z'>15:52</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
here is the bt from that thread
<br>
</div>

<div class='talk op-msg' data-timestamp='1517500320' id='596818'>
<a class='timestamp' href='#596818'><time timestamp='2018-02-01T15:52:00Z'>15:52</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
<a href="https://0bin.net/paste/X7-3MRaRJlLP8PoG#ApzQJmsY" class="link" target="_blank">https://0bin.net/paste/X7-3MRaRJlLP8PoG#ApzQJmsY</a>+N3H64RbQ-42PwxlbdJhXwpSvnx1BoINmZ+
<br>
</div>

<div class='talk op-msg' data-timestamp='1517500320' id='596819'>
<a class='timestamp' href='#596819'><time timestamp='2018-02-01T15:52:00Z'>15:52</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
cfields: will do, just ping me when you want me to bring it back
<br>
</div>

<div class='talk op-msg' data-timestamp='1517500380' id='596820'>
<a class='timestamp' href='#596820'><time timestamp='2018-02-01T15:53:00Z'>15:53</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
let me know if you want me to look at any particular value
<br>
</div>

<div class='talk op-msg' data-timestamp='1517500500' id='596821'>
<a class='timestamp' href='#596821'><time timestamp='2018-02-01T15:55:00Z'>15:55</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
weird, i don&#x27;t hit an assert there
<br>
</div>

<div class='talk op-msg' data-timestamp='1517500500' id='596822'>
<a class='timestamp' href='#596822'><time timestamp='2018-02-01T15:55:00Z'>15:55</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
isn&#x27;t it telling that in my /proc/pid/fd i didn&#x27;t have a FD 0 in the earlier paste
<br>
</div>

<div class='talk op-msg' data-timestamp='1517500500' id='596823'>
<a class='timestamp' href='#596823'><time timestamp='2018-02-01T15:55:00Z'>15:55</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
i also don&#x27;t have one in this paste
<br>
</div>

<div class='talk op-msg' data-timestamp='1517500500' id='596824'>
<a class='timestamp' href='#596824'><time timestamp='2018-02-01T15:55:00Z'>15:55</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
sorry not paste, example or whatever
<br>
</div>

<div class='talk op-msg' data-timestamp='1517500500' id='596825'>
<a class='timestamp' href='#596825'><time timestamp='2018-02-01T15:55:00Z'>15:55</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
morcos: that&#x27;s very telling
<br>
</div>

<div class='talk op-msg' data-timestamp='1517500500' id='596826'>
<a class='timestamp' href='#596826'><time timestamp='2018-02-01T15:55:00Z'>15:55</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
morcos: very good point. that would explain the environment difference too
<br>
</div>

<div class='talk op-msg' data-timestamp='1517500560' id='596827'>
<a class='timestamp' href='#596827'><time timestamp='2018-02-01T15:56:00Z'>15:56</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
didn&#x27;t follow that last part
<br>
</div>

<div class='talk op-msg' data-timestamp='1517500620' id='596828'>
<a class='timestamp' href='#596828'><time timestamp='2018-02-01T15:57:00Z'>15:57</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
morcos: if something about your OS/mem/etc. makes 0 a more likely value for you than everyone else
<br>
</div>

<div class='talk op-msg' data-timestamp='1517500620' id='596829'>
<a class='timestamp' href='#596829'><time timestamp='2018-02-01T15:57:00Z'>15:57</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
My seed died with: <a href="https://0bin.net/paste/2bx9a3iijDdBgWXg#dlXDiXwy9dVkyvR0yuCyjzH4scHaL" class="link" target="_blank">https://0bin.net/paste/2bx9a3iijDdBgWXg#dlXDiXwy9dVkyvR0yuCyjzH4scHaL</a>+6GHT-ll14wOrD
<br>
</div>

<div class='talk op-msg' data-timestamp='1517500680' id='596830'>
<a class='timestamp' href='#596830'><time timestamp='2018-02-01T15:58:00Z'>15:58</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
i just added an else {} clause in net.cpp (before the suspicious line 448), and it triggered for me on -testnet when running with -forcednsseeds
<br>
</div>

<div class='talk op-msg' data-timestamp='1517500740' id='596831'>
<a class='timestamp' href='#596831'><time timestamp='2018-02-01T15:59:00Z'>15:59</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
huh, the fix didn&#x27;t fix it?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517500800' id='596832'>
<a class='timestamp' href='#596832'><time timestamp='2018-02-01T16:00:00Z'>16:00</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
wasn&#x27;t running with the fix -- just verifying that hSocket could indeed be uninitialized 
<br>
</div>

<div class='talk op-msg' data-timestamp='1517500800' id='596833'>
<a class='timestamp' href='#596833'><time timestamp='2018-02-01T16:00:00Z'>16:00</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
or are you saying that you&#x27;ve verified that you can hit the else branch?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517500800' id='596834'>
<a class='timestamp' href='#596834'><time timestamp='2018-02-01T16:00:00Z'>16:00</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
^ that
<br>
</div>

<div class='talk op-msg' data-timestamp='1517500800' id='596835'>
<a class='timestamp' href='#596835'><time timestamp='2018-02-01T16:00:00Z'>16:00</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
ok, great
<br>
</div>

<div class='talk op-msg' data-timestamp='1517500800' id='596836'>
<a class='timestamp' href='#596836'><time timestamp='2018-02-01T16:00:00Z'>16:00</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
morcos: have you been on testnet every time you&#x27;ve hit this?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517500860' id='596837'>
<a class='timestamp' href='#596837'><time timestamp='2018-02-01T16:01:00Z'>16:01</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
i realize that a mainnet seed could&#x27;ve been returning 0 as well, but that doesn&#x27;t seem like it&#x27;d affect a mainnnet node that&#x27;s been up for more than a few minutes
<br>
</div>

<div class='talk op-msg' data-timestamp='1517500860' id='596838'>
<a class='timestamp' href='#596838'><time timestamp='2018-02-01T16:01:00Z'>16:01</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
but i guess that does jive with your complaints that we&#x27;re querying the seeds too often
<br>
</div>

<div class='talk op-msg' data-timestamp='1517500920' id='596839'>
<a class='timestamp' href='#596839'><time timestamp='2018-02-01T16:02:00Z'>16:02</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
heh, in fact, you would&#x27;ve been noticing that because there&#x27;d be an entry at the end of every log file
<br>
</div>

<div class='talk op-msg' data-timestamp='1517500920' id='596840'>
<a class='timestamp' href='#596840'><time timestamp='2018-02-01T16:02:00Z'>16:02</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
no all the prior times were mainnet
<br>
</div>

<div class='talk op-msg' data-timestamp='1517500920' id='596841'>
<a class='timestamp' href='#596841'><time timestamp='2018-02-01T16:02:00Z'>16:02</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Doesn&#x27;t it pick a seed at random?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517500920' id='596842'>
<a class='timestamp' href='#596842'><time timestamp='2018-02-01T16:02:00Z'>16:02</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
but yes i was querying dns seeds occasionally
<br>
</div>

<div class='talk op-msg' data-timestamp='1517500920' id='596843'>
<a class='timestamp' href='#596843'><time timestamp='2018-02-01T16:02:00Z'>16:02</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
i don&#x27;t know what you mean about seing an etnry at the end of every log file
<br>
</div>

<div class='talk op-msg' data-timestamp='1517500920' id='596844'>
<a class='timestamp' href='#596844'><time timestamp='2018-02-01T16:02:00Z'>16:02</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Or does it ping them all? Because I didn&#x27;t get crashes only 1 in ~5 times, I got them all the time, with a fresh datadir.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517500980' id='596845'>
<a class='timestamp' href='#596845'><time timestamp='2018-02-01T16:03:00Z'>16:03</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
the problem is if there is a dnsseed that is returning garbage somehow, it&#x27;ll periodically retry it right?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517500980' id='596846'>
<a class='timestamp' href='#596846'><time timestamp='2018-02-01T16:03:00Z'>16:03</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
so if everytime it does that, it results in me close fd 0
<br>
</div>

<div class='talk op-msg' data-timestamp='1517500980' id='596847'>
<a class='timestamp' href='#596847'><time timestamp='2018-02-01T16:03:00Z'>16:03</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
which at that point has been reused for soemthing else
<br>
</div>

<div class='talk op-msg' data-timestamp='1517500980' id='596848'>
<a class='timestamp' href='#596848'><time timestamp='2018-02-01T16:03:00Z'>16:03</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
it&#x27;ll cause an error 
<br>
</div>

<div class='talk op-msg' data-timestamp='1517501040' id='596849'>
<a class='timestamp' href='#596849'><time timestamp='2018-02-01T16:04:00Z'>16:04</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
but the socket errors aren&#x27;t fatal, so its only the leveldb or blockwriting errors that cause a crash and show up at the end of the log
<br>
</div>

<div class='talk op-msg' data-timestamp='1517501040' id='596850'>
<a class='timestamp' href='#596850'><time timestamp='2018-02-01T16:04:00Z'>16:04</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
but maybe thats what you&#x27;re saying
<br>
</div>

<div class='talk op-msg' data-timestamp='1517501040' id='596851'>
<a class='timestamp' href='#596851'><time timestamp='2018-02-01T16:04:00Z'>16:04</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
morcos: it only hits the seeds if we don&#x27;t have enough peers
<br>
</div>

<div class='talk op-msg' data-timestamp='1517501040' id='596852'>
<a class='timestamp' href='#596852'><time timestamp='2018-02-01T16:04:00Z'>16:04</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
it shouldn&#x27;t keep retrying anything just because it failed
<br>
</div>

<div class='talk op-msg' data-timestamp='1517501100' id='596853'>
<a class='timestamp' href='#596853'><time timestamp='2018-02-01T16:05:00Z'>16:05</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
wait, it might now!
<br>
</div>

<div class='talk op-msg' data-timestamp='1517501160' id='596854'>
<a class='timestamp' href='#596854'><time timestamp='2018-02-01T16:06:00Z'>16:06</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Should there be a functional test for dealing with broken DNS seeds?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517501160' id='596855'>
<a class='timestamp' href='#596855'><time timestamp='2018-02-01T16:06:00Z'>16:06</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
provoostenator: does your seed support filtering?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517501220' id='596856'>
<a class='timestamp' href='#596856'><time timestamp='2018-02-01T16:07:00Z'>16:07</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
it would make sense if a connection was tried because it was a oneshot()...
<br>
</div>

<div class='talk op-msg' data-timestamp='1517501220' id='596857'>
<a class='timestamp' href='#596857'><time timestamp='2018-02-01T16:07:00Z'>16:07</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
cfields: it looked to me that it adds it to oneshot
<br>
</div>

<div class='talk op-msg' data-timestamp='1517501220' id='596858'>
<a class='timestamp' href='#596858'><time timestamp='2018-02-01T16:07:00Z'>16:07</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
isn&#x27;t that what it does with dnsseeds
<br>
</div>

<div class='talk op-msg' data-timestamp='1517501220' id='596859'>
<a class='timestamp' href='#596859'><time timestamp='2018-02-01T16:07:00Z'>16:07</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
assuming you need them
<br>
</div>

<div class='talk op-msg' data-timestamp='1517501220' id='596860'>
<a class='timestamp' href='#596860'><time timestamp='2018-02-01T16:07:00Z'>16:07</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
that&#x27;s a new change, sec
<br>
</div>

<div class='talk op-msg' data-timestamp='1517501280' id='596861'>
<a class='timestamp' href='#596861'><time timestamp='2018-02-01T16:08:00Z'>16:08</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
so we&#x27;re not differentiating between a failed resolve, and a resolve with 0 results
<br>
</div>

<div class='talk op-msg' data-timestamp='1517501280' id='596862'>
<a class='timestamp' href='#596862'><time timestamp='2018-02-01T16:08:00Z'>16:08</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
cfields: yeah can you look at line 390 in net.cpp
<br>
</div>

<div class='talk op-msg' data-timestamp='1517501340' id='596863'>
<a class='timestamp' href='#596863'><time timestamp='2018-02-01T16:09:00Z'>16:09</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
i don&#x27;t know what that does, but what happens if it fails
<br>
</div>

<div class='talk op-msg' data-timestamp='1517501340' id='596864'>
<a class='timestamp' href='#596864'><time timestamp='2018-02-01T16:09:00Z'>16:09</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
#11512
<br>
</div>

<div class='talk op-msg' data-timestamp='1517501340' id='596865'>
<a class='timestamp' href='#596865'><time timestamp='2018-02-01T16:09:00Z'>16:09</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/11512" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/11512</a> | Use GetDesireableServiceFlags in seeds, dnsseeds, fixing static seed adding by TheBlueMatt · Pull Request #11512 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1517501340' id='596866'>
<a class='timestamp' href='#596866'><time timestamp='2018-02-01T16:09:00Z'>16:09</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
        if (Lookup(pszDest, resolved,  default_port, fNameLookup &amp;&amp; !HaveNameProxy(), 256) &amp;&amp; !resolved.empty()) {
<br>
</div>

<div class='talk op-msg' data-timestamp='1517501640' id='596867'>
<a class='timestamp' href='#596867'><time timestamp='2018-02-01T16:14:00Z'>16:14</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
cfields: I use sipa&#x27;s tool with the default settings, see my 0bin past above for full command
<br>
</div>

<div class='talk op-msg' data-timestamp='1517501760' id='596868'>
<a class='timestamp' href='#596868'><time timestamp='2018-02-01T16:16:00Z'>16:16</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
morcos: ok, red herring. I see what&#x27;s happening.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517501760' id='596869'>
<a class='timestamp' href='#596869'><time timestamp='2018-02-01T16:16:00Z'>16:16</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
it fails on the filtered resolve, so it does a oneshot for the unfiltered one. working as intended
<br>
</div>

<div class='talk op-msg' data-timestamp='1517501820' id='596870'>
<a class='timestamp' href='#596870'><time timestamp='2018-02-01T16:17:00Z'>16:17</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
but they&#x27;re both down, so you get a random socket
<br>
</div>

<div class='talk op-msg' data-timestamp='1517501880' id='596871'>
<a class='timestamp' href='#596871'><time timestamp='2018-02-01T16:18:00Z'>16:18</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
wumpus: i&#x27;m more and more confident that this is the issue
<br>
</div>

<div class='talk op-msg' data-timestamp='1517501940' id='596872'>
<a class='timestamp' href='#596872'><time timestamp='2018-02-01T16:19:00Z'>16:19</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
cfields: great!
<br>
</div>

<div class='talk op-msg' data-timestamp='1517501940' id='596873'>
<a class='timestamp' href='#596873'><time timestamp='2018-02-01T16:19:00Z'>16:19</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
and very sorry that i introduced it :(
<br>
</div>

<div class='talk op-msg' data-timestamp='1517501940' id='596874'>
<a class='timestamp' href='#596874'><time timestamp='2018-02-01T16:19:00Z'>16:19</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
means we can do rc2 soon
<br>
</div>

<div class='talk op-msg' data-timestamp='1517501940' id='596875'>
<a class='timestamp' href='#596875'><time timestamp='2018-02-01T16:19:00Z'>16:19</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
heh no worries
<br>
</div>

<div class='talk op-msg' data-timestamp='1517502000' id='596876'>
<a class='timestamp' href='#596876'><time timestamp='2018-02-01T16:20:00Z'>16:20</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
happy if it&#x27;s this and some problem deep in leveldb
<br>
</div>

<div class='talk op-msg' data-timestamp='1517502000' id='596877'>
<a class='timestamp' href='#596877'><time timestamp='2018-02-01T16:20:00Z'>16:20</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
provoostenator is right though we should have a test for bad dns seed.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517502120' id='596878'>
<a class='timestamp' href='#596878'><time timestamp='2018-02-01T16:22:00Z'>16:22</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
we could add that to the travis cron job
<br>
</div>

<div class='talk op-msg' data-timestamp='1517502120' id='596879'>
<a class='timestamp' href='#596879'><time timestamp='2018-02-01T16:22:00Z'>16:22</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I agree, would be somewhat tricky to spin up a fake dns server in the test framework though, though maybe python has something easy for that I don&#x27;t know
<br>
</div>

<div class='talk op-msg' data-timestamp='1517502180' id='596880'>
<a class='timestamp' href='#596880'><time timestamp='2018-02-01T16:23:00Z'>16:23</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
oh, i thought the concern was not knowing that dns seeds were down
<br>
</div>

<div class='talk op-msg' data-timestamp='1517502180' id='596881'>
<a class='timestamp' href='#596881'><time timestamp='2018-02-01T16:23:00Z'>16:23</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
i think the concern is making sure we handle it when they are?  or really both i guess...
<br>
</div>

<div class='talk op-msg' data-timestamp='1517502240' id='596882'>
<a class='timestamp' href='#596882'><time timestamp='2018-02-01T16:24:00Z'>16:24</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
I&#x27;ll keep the bisect going just in case. Leaving it running for 25 minutes until I &quot;git bisect good&quot; a commit, so it will take few hours. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1517502240' id='596883'>
<a class='timestamp' href='#596883'><time timestamp='2018-02-01T16:24:00Z'>16:24</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
2018-02-01 16:23:47 Closing bad socket: 1266668816
<br>
</div>

<div class='talk op-msg' data-timestamp='1517502240' id='596884'>
<a class='timestamp' href='#596884'><time timestamp='2018-02-01T16:24:00Z'>16:24</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
2018-02-01 16:24:30 Closing bad socket: 100640016
<br>
</div>

<div class='talk op-msg' data-timestamp='1517502240' id='596885'>
<a class='timestamp' href='#596885'><time timestamp='2018-02-01T16:24:00Z'>16:24</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
yep, that&#x27;s it
<br>
</div>

<div class='talk op-msg' data-timestamp='1517503140' id='596886'>
<a class='timestamp' href='#596886'><time timestamp='2018-02-01T16:39:00Z'>16:39</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Mmm, if it&#x27;s DNS related bisect might end up finding the PR where my seed was merged. Anyway, we&#x27;ll see.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517504400' id='596887'>
<a class='timestamp' href='#596887'><time timestamp='2018-02-01T17:00:00Z'>17:00</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] promag opened pull request #12327: [gui] Defer coin control instancing (master...2018-02-fix-12312) <a href="https://github.com/bitcoin/bitcoin/pull/12327" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/12327</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1517504580' id='596888'>
<a class='timestamp' href='#596888'><time timestamp='2018-02-01T17:03:00Z'>17:03</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
promag, how come that error doesn&#x27;t result in <b>*all*</b> qt coin control settings getting ignored?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517504640' id='596889'>
<a class='timestamp' href='#596889'><time timestamp='2018-02-01T17:04:00Z'>17:04</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
instagibbs: I think the only affected are `change_type = g_change_type;` and `signalRbf = fWalletRbf;`
<br>
</div>

<div class='talk op-msg' data-timestamp='1517504700' id='596890'>
<a class='timestamp' href='#596890'><time timestamp='2018-02-01T17:05:00Z'>17:05</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
because these are set with argument
<br>
</div>

<div class='talk op-msg' data-timestamp='1517504820' id='596891'>
<a class='timestamp' href='#596891'><time timestamp='2018-02-01T17:07:00Z'>17:07</time></a>
&lt;<span class='nick nick-9'> * instagibbs</span>&gt;
looking at how feerates are set
<br>
</div>

<div class='talk op-msg' data-timestamp='1517504820' id='596892'>
<a class='timestamp' href='#596892'><time timestamp='2018-02-01T17:07:00Z'>17:07</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
and CoinControlDialog::coinControl-&gt;SetNull() is only when the &quot;Enable coin control features&quot; is unchecked
<br>
</div>

<div class='talk op-msg' data-timestamp='1517504880' id='596893'>
<a class='timestamp' href='#596893'><time timestamp='2018-02-01T17:08:00Z'>17:08</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
instagibbs: yeah didn&#x27;t look at that
<br>
</div>

<div class='talk op-msg' data-timestamp='1517505120' id='596894'>
<a class='timestamp' href='#596894'><time timestamp='2018-02-01T17:12:00Z'>17:12</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
^ created the above to track my bisect progress
<br>
</div>

<div class='talk op-msg' data-timestamp='1517505120' id='596895'>
<a class='timestamp' href='#596895'><time timestamp='2018-02-01T17:12:00Z'>17:12</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Well, below: #12328
<br>
</div>

<div class='talk op-msg' data-timestamp='1517505120' id='596896'>
<a class='timestamp' href='#596896'><time timestamp='2018-02-01T17:12:00Z'>17:12</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/12328" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/12328</a> | Consistent crashes for v0.16.0rc1 · Issue #12328 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1517505300' id='596897'>
<a class='timestamp' href='#596897'><time timestamp='2018-02-01T17:15:00Z'>17:15</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
promag, your analysis looks correct, those two should be those effected
<br>
</div>

<div class='talk op-msg' data-timestamp='1517507580' id='596898'>
<a class='timestamp' href='#596898'><time timestamp='2018-02-01T17:53:00Z'>17:53</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Produced a crash using an older version: <a href="https://github.com/bitcoin/bitcoin/commit/16bac24f60fa3ae27cb2d9d89dfdd245694445d4" class="link" target="_blank">https://github.com/bitcoin/bitcoin/commit/16bac24f60fa3ae27cb2d9d89dfdd245694445d4</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1517507580' id='596899'>
<a class='timestamp' href='#596899'><time timestamp='2018-02-01T17:53:00Z'>17:53</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Four more bisect steps to go
<br>
</div>

<div class='talk op-msg' data-timestamp='1517507580' id='596900'>
<a class='timestamp' href='#596900'><time timestamp='2018-02-01T17:53:00Z'>17:53</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Well, that&#x27;s just 7 days ago...
<br>
</div>

<div class='talk op-msg' data-timestamp='1517507640' id='596901'>
<a class='timestamp' href='#596901'><time timestamp='2018-02-01T17:54:00Z'>17:54</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
I added the log to the above issue.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517507640' id='596902'>
<a class='timestamp' href='#596902'><time timestamp='2018-02-01T17:54:00Z'>17:54</time></a>
&lt;<span class='nick nick-7'> ProfMac</span>&gt;
&quot;should&quot; the DNS discover use IPv4 when onlynet=IPv6?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517507760' id='596903'>
<a class='timestamp' href='#596903'><time timestamp='2018-02-01T17:56:00Z'>17:56</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
AFAIK there&#x27;s no way in the libc API to do DNS resolving only over either IPv4 or IPv6
<br>
</div>

<div class='talk op-msg' data-timestamp='1517507820' id='596904'>
<a class='timestamp' href='#596904'><time timestamp='2018-02-01T17:57:00Z'>17:57</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
and as many modern linux distros run a DNS cache on localhost, on the IPv4 loopback, that&#x27;d effectively mean that DNS seeding cannot be used when onlynet=ipv6
<br>
</div>

<div class='talk op-msg' data-timestamp='1517508240' id='596905'>
<a class='timestamp' href='#596905'><time timestamp='2018-02-01T18:04:00Z'>18:04</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
(hm, how many ISPs give out IPv6 DNS servers in the first place?)
<br>
</div>

<div class='talk op-msg' data-timestamp='1517508360' id='596906'>
<a class='timestamp' href='#596906'><time timestamp='2018-02-01T18:06:00Z'>18:06</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
probably only those that only give clients a IPv6 address
<br>
</div>

<div class='talk op-msg' data-timestamp='1517508420' id='596907'>
<a class='timestamp' href='#596907'><time timestamp='2018-02-01T18:07:00Z'>18:07</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I don&#x27;t know, it&#x27;s an interesting though experiment, but I think in practice it&#x27;s good that use of dns seeding or not is a separate optoin
<br>
</div>

<div class='talk op-msg' data-timestamp='1517509260' id='596908'>
<a class='timestamp' href='#596908'><time timestamp='2018-02-01T18:21:00Z'>18:21</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
wumpus: you can kinda fudge it with AI_ADDRCONFIG, as we do
<br>
</div>

<div class='talk op-msg' data-timestamp='1517509320' id='596909'>
<a class='timestamp' href='#596909'><time timestamp='2018-02-01T18:22:00Z'>18:22</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/895fbd768f0c...84291d18dd69" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/895fbd768f0c...84291d18dd69</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1517509320' id='596910'>
<a class='timestamp' href='#596910'><time timestamp='2018-02-01T18:22:00Z'>18:22</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 96dbd38 Cory Fields: net: initialize socket to avoid closing random fd&#x27;s
<br>
</div>

<div class='talk op-msg' data-timestamp='1517509320' id='596911'>
<a class='timestamp' href='#596911'><time timestamp='2018-02-01T18:22:00Z'>18:22</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 84291d1 Wladimir J. van der Laan: Merge #12326: net: initialize socket to avoid closing random fd&#x27;s...
<br>
</div>

<div class='talk op-msg' data-timestamp='1517509320' id='596912'>
<a class='timestamp' href='#596912'><time timestamp='2018-02-01T18:22:00Z'>18:22</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
oh, you mean the resolver itself
<br>
</div>

<div class='talk op-msg' data-timestamp='1517509320' id='596913'>
<a class='timestamp' href='#596913'><time timestamp='2018-02-01T18:22:00Z'>18:22</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 1 new commit to 0.16: <a href="https://github.com/bitcoin/bitcoin/commit/e54c1ac110664efd58b7351139da55284f58f2ca" class="link" target="_blank">https://github.com/bitcoin/bitcoin/commit/e54c1ac110664efd58b7351139da55284f58f2ca</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1517509320' id='596914'>
<a class='timestamp' href='#596914'><time timestamp='2018-02-01T18:22:00Z'>18:22</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/0.16 e54c1ac Cory Fields: net: initialize socket to avoid closing random fd&#x27;s...
<br>
</div>

<div class='talk op-msg' data-timestamp='1517509380' id='596915'>
<a class='timestamp' href='#596915'><time timestamp='2018-02-01T18:23:00Z'>18:23</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj closed pull request #12326: net: initialize socket to avoid closing random fd&#x27;s (master...fix-socket-init) <a href="https://github.com/bitcoin/bitcoin/pull/12326" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/12326</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1517509380' id='596916'>
<a class='timestamp' href='#596916'><time timestamp='2018-02-01T18:23:00Z'>18:23</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
wumpus: i think there&#x27;s another issue there, introduced by (my suggestion in) 11512 
<br>
</div>

<div class='talk op-msg' data-timestamp='1517509440' id='596917'>
<a class='timestamp' href='#596917'><time timestamp='2018-02-01T18:24:00Z'>18:24</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
cfields: yes, I was assuming he meant the network used by the resolver itself, selecting only one kind of results sounds feasible
<br>
</div>

<div class='talk op-msg' data-timestamp='1517509440' id='596918'>
<a class='timestamp' href='#596918'><time timestamp='2018-02-01T18:24:00Z'>18:24</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
I believe that failed resolves will end up forever connecting as oneshots, since failed oneshots get re-added
<br>
</div>

<div class='talk op-msg' data-timestamp='1517509440' id='596919'>
<a class='timestamp' href='#596919'><time timestamp='2018-02-01T18:24:00Z'>18:24</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
whoops
<br>
</div>

<div class='talk op-msg' data-timestamp='1517509500' id='596920'>
<a class='timestamp' href='#596920'><time timestamp='2018-02-01T18:25:00Z'>18:25</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
looking into it
<br>
</div>

<div class='talk op-msg' data-timestamp='1517510880' id='596921'>
<a class='timestamp' href='#596921'><time timestamp='2018-02-01T18:48:00Z'>18:48</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
actually, anyone know why oneshots are re-added in the first place? <a href="https://github.com/bitcoin/bitcoin/blob/master/src/net.cpp#L1685" class="link" target="_blank">https://github.com/bitcoin/bitcoin/blob/master/src/net.cpp#L1685</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1517510940' id='596922'>
<a class='timestamp' href='#596922'><time timestamp='2018-02-01T18:49:00Z'>18:49</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
sipa maybe ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517510940' id='596923'>
<a class='timestamp' href='#596923'><time timestamp='2018-02-01T18:49:00Z'>18:49</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I don&#x27;t know, I woudln&#x27;t have expected that either
<br>
</div>

<div class='talk op-msg' data-timestamp='1517510940' id='596924'>
<a class='timestamp' href='#596924'><time timestamp='2018-02-01T18:49:00Z'>18:49</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
if it&#x27;s one-shot - if it fails, that was the shot
<br>
</div>

<div class='talk op-msg' data-timestamp='1517511000' id='596925'>
<a class='timestamp' href='#596925'><time timestamp='2018-02-01T18:50:00Z'>18:50</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
right
<br>
</div>

<div class='talk op-msg' data-timestamp='1517511000' id='596926'>
<a class='timestamp' href='#596926'><time timestamp='2018-02-01T18:50:00Z'>18:50</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I&#x27;m fairly sure I&#x27;ve used &#x27;addnode ... onetry&#x27; in the past to probe if a certain node was up, not expecting it to try forever
<br>
</div>

<div class='talk op-msg' data-timestamp='1517511060' id='596927'>
<a class='timestamp' href='#596927'><time timestamp='2018-02-01T18:51:00Z'>18:51</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
cfields: if your network is done
<br>
</div>

<div class='talk op-msg' data-timestamp='1517511060' id='596928'>
<a class='timestamp' href='#596928'><time timestamp='2018-02-01T18:51:00Z'>18:51</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
or something like that
<br>
</div>

<div class='talk op-msg' data-timestamp='1517511120' id='596929'>
<a class='timestamp' href='#596929'><time timestamp='2018-02-01T18:52:00Z'>18:52</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
there was some pr that made things more robust if your net is down
<br>
</div>

<div class='talk op-msg' data-timestamp='1517511120' id='596930'>
<a class='timestamp' href='#596930'><time timestamp='2018-02-01T18:52:00Z'>18:52</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
maybe that is related?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517511120' id='596931'>
<a class='timestamp' href='#596931'><time timestamp='2018-02-01T18:52:00Z'>18:52</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
BlueMatt: wouldn&#x27;t that same logic apply to everything, not just oneshots?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517511120' id='596932'>
<a class='timestamp' href='#596932'><time timestamp='2018-02-01T18:52:00Z'>18:52</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
uhhhh, uhhhhh
<br>
</div>

<div class='talk op-msg' data-timestamp='1517511120' id='596933'>
<a class='timestamp' href='#596933'><time timestamp='2018-02-01T18:52:00Z'>18:52</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
?     
<br>
</div>

<div class='talk op-msg' data-timestamp='1517511180' id='596934'>
<a class='timestamp' href='#596934'><time timestamp='2018-02-01T18:53:00Z'>18:53</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
for non-oneshot connections I could understand it better
<br>
</div>

<div class='talk op-msg' data-timestamp='1517511180' id='596935'>
<a class='timestamp' href='#596935'><time timestamp='2018-02-01T18:53:00Z'>18:53</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
maybe the logic is the wrong way around?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517511240' id='596936'>
<a class='timestamp' href='#596936'><time timestamp='2018-02-01T18:54:00Z'>18:54</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
looks like it&#x27;s been this way since they were introduced:  478b01d9a797f3ea
<br>
</div>

<div class='talk op-msg' data-timestamp='1517511360' id='596937'>
<a class='timestamp' href='#596937'><time timestamp='2018-02-01T18:56:00Z'>18:56</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
heh, when provoostenator gets his seed back up and running, he&#x27;ll likely be DDoS&#x27;d like crazy
<br>
</div>

<div class='talk op-msg' data-timestamp='1517511360' id='596938'>
<a class='timestamp' href='#596938'><time timestamp='2018-02-01T18:56:00Z'>18:56</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
maybe it&#x27;s been the wrong way around since the beginning, and no one ever reasoned this far
<br>
</div>

<div class='talk op-msg' data-timestamp='1517511360' id='596939'>
<a class='timestamp' href='#596939'><time timestamp='2018-02-01T18:56:00Z'>18:56</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
well at least there haven&#x27;t been rc1 binaries, so the scale of DoS is likely limited :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1517511420' id='596940'>
<a class='timestamp' href='#596940'><time timestamp='2018-02-01T18:57:00Z'>18:57</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
heh     
<br>
</div>

<div class='talk op-msg' data-timestamp='1517511540' id='596941'>
<a class='timestamp' href='#596941'><time timestamp='2018-02-01T18:59:00Z'>18:59</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
i&#x27;ll go ahead and PR the removal, maybe someone will chime in with a valid reason otherwise
<br>
</div>

<div class='talk op-msg' data-timestamp='1517511540' id='596942'>
<a class='timestamp' href='#596942'><time timestamp='2018-02-01T18:59:00Z'>18:59</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
agreed
<br>
</div>

<div class='talk op-msg' data-timestamp='1517511600' id='596943'>
<a class='timestamp' href='#596943'><time timestamp='2018-02-01T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
#startmeeting
<br>
</div>

<div class='talk op-msg' data-timestamp='1517511600' id='596944'>
<a class='timestamp' href='#596944'><time timestamp='2018-02-01T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Meeting started Thu Feb  1 19:00:10 2018 UTC.  The chair is wumpus. Information about MeetBot at <a href="http://wiki.debian.org/MeetBot" class="link" target="_blank">http://wiki.debian.org/MeetBot</a>.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517511600' id='596945'>
<a class='timestamp' href='#596945'><time timestamp='2018-02-01T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Useful Commands: #action #agreed #help #info #idea #link #topic.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517511600' id='596946'>
<a class='timestamp' href='#596946'><time timestamp='2018-02-01T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
hi     
<br>
</div>

<div class='talk op-msg' data-timestamp='1517511600' id='596947'>
<a class='timestamp' href='#596947'><time timestamp='2018-02-01T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
#bitcoin-core-dev Meeting: wumpus sipa gmaxwell jonasschnelli morcos luke-jr btcdrak sdaftuar jtimon cfields petertodd kanzure bluematt instagibbs phantomcircuit codeshark michagogo marcofalke paveljanik NicolasDorier jl2012 achow101 meshcollider jnewbery maaku fanquake promag provoostenator
<br>
</div>

<div class='talk op-msg' data-timestamp='1517511600' id='596948'>
<a class='timestamp' href='#596948'><time timestamp='2018-02-01T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
hi     
<br>
</div>

<div class='talk op-msg' data-timestamp='1517511600' id='596949'>
<a class='timestamp' href='#596949'><time timestamp='2018-02-01T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
hi     
<br>
</div>

<div class='talk op-msg' data-timestamp='1517511600' id='596950'>
<a class='timestamp' href='#596950'><time timestamp='2018-02-01T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
hi     
<br>
</div>

<div class='talk op-msg' data-timestamp='1517511600' id='596951'>
<a class='timestamp' href='#596951'><time timestamp='2018-02-01T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
ack     
<br>
</div>

<div class='talk op-msg' data-timestamp='1517511600' id='596952'>
<a class='timestamp' href='#596952'><time timestamp='2018-02-01T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-8'> jcorgan</span>&gt;
hey folks
<br>
</div>

<div class='talk op-msg' data-timestamp='1517511660' id='596953'>
<a class='timestamp' href='#596953'><time timestamp='2018-02-01T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-3'> meshcollider</span>&gt;
hi     
<br>
</div>

<div class='talk op-msg' data-timestamp='1517511660' id='596954'>
<a class='timestamp' href='#596954'><time timestamp='2018-02-01T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
hi     
<br>
</div>

<div class='talk op-msg' data-timestamp='1517511660' id='596955'>
<a class='timestamp' href='#596955'><time timestamp='2018-02-01T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
0.16!
<br>
</div>

<div class='talk op-msg' data-timestamp='1517511660' id='596956'>
<a class='timestamp' href='#596956'><time timestamp='2018-02-01T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-3'> meshcollider</span>&gt;
\o/     
<br>
</div>

<div class='talk op-msg' data-timestamp='1517511660' id='596957'>
<a class='timestamp' href='#596957'><time timestamp='2018-02-01T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
so with regard for 0.16.0 status, there already have been some issues that came up with rc1, so I think it makes sense to skip uploading binaries for that and go to rc2 soon
<br>
</div>

<div class='talk op-msg' data-timestamp='1517511660' id='596958'>
<a class='timestamp' href='#596958'><time timestamp='2018-02-01T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
ack     
<br>
</div>

<div class='talk op-msg' data-timestamp='1517511660' id='596959'>
<a class='timestamp' href='#596959'><time timestamp='2018-02-01T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
what issues?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517511660' id='596960'>
<a class='timestamp' href='#596960'><time timestamp='2018-02-01T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
agreed
<br>
</div>

<div class='talk op-msg' data-timestamp='1517511660' id='596961'>
<a class='timestamp' href='#596961'><time timestamp='2018-02-01T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
achow101: see backlog for the last ~3hrs
<br>
</div>

<div class='talk op-msg' data-timestamp='1517511720' id='596962'>
<a class='timestamp' href='#596962'><time timestamp='2018-02-01T19:02:00Z'>19:02</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/milestone/30" class="link" target="_blank">https://github.com/bitcoin/bitcoin/milestone/30</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1517511720' id='596963'>
<a class='timestamp' href='#596963'><time timestamp='2018-02-01T19:02:00Z'>19:02</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
the serious issue is <a href="https://github.com/bitcoin/bitcoin/issues/12323" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/12323</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1517511720' id='596964'>
<a class='timestamp' href='#596964'><time timestamp='2018-02-01T19:02:00Z'>19:02</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
ok     
<br>
</div>

<div class='talk op-msg' data-timestamp='1517511780' id='596965'>
<a class='timestamp' href='#596965'><time timestamp='2018-02-01T19:03:00Z'>19:03</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
there&#x27;s another issue with onetry connections being re-tried forever, resulting in potential DoS on DNS seeds in the case they temporarily fail
<br>
</div>

<div class='talk op-msg' data-timestamp='1517511780' id='596966'>
<a class='timestamp' href='#596966'><time timestamp='2018-02-01T19:03:00Z'>19:03</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
cfields is working on a patch for that
<br>
</div>

<div class='talk op-msg' data-timestamp='1517511780' id='596967'>
<a class='timestamp' href='#596967'><time timestamp='2018-02-01T19:03:00Z'>19:03</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
oh right, thursday
<br>
</div>

<div class='talk op-msg' data-timestamp='1517511780' id='596968'>
<a class='timestamp' href='#596968'><time timestamp='2018-02-01T19:03:00Z'>19:03</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/pull/12327" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/12327</a> fixes a more minor issue with coin control and the change type setting
<br>
</div>

<div class='talk op-msg' data-timestamp='1517511840' id='596969'>
<a class='timestamp' href='#596969'><time timestamp='2018-02-01T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
in the gui
<br>
</div>

<div class='talk op-msg' data-timestamp='1517511840' id='596970'>
<a class='timestamp' href='#596970'><time timestamp='2018-02-01T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
by the way, is it a policy that a DNS seed also runs a node (same ip) for the oneshot?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517511840' id='596971'>
<a class='timestamp' href='#596971'><time timestamp='2018-02-01T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
jonasschnelli: no, that&#x27;s not necessary
<br>
</div>

<div class='talk op-msg' data-timestamp='1517511840' id='596972'>
<a class='timestamp' href='#596972'><time timestamp='2018-02-01T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
jonasschnelli: it looks up the DNS seed which will return a (the first?) node
<br>
</div>

<div class='talk op-msg' data-timestamp='1517511840' id='596973'>
<a class='timestamp' href='#596973'><time timestamp='2018-02-01T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
wumpus: okay. My seeders will refuse connections to 8333
<br>
</div>

<div class='talk op-msg' data-timestamp='1517511900' id='596974'>
<a class='timestamp' href='#596974'><time timestamp='2018-02-01T19:05:00Z'>19:05</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
wumpus: okay.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517511900' id='596975'>
<a class='timestamp' href='#596975'><time timestamp='2018-02-01T19:05:00Z'>19:05</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
jonasschnelli: that is not the IP of the DNS server. I was confused about that too at some point in the past.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517511900' id='596976'>
<a class='timestamp' href='#596976'><time timestamp='2018-02-01T19:05:00Z'>19:05</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I think also has something do to with tor mode
<br>
</div>

<div class='talk op-msg' data-timestamp='1517511900' id='596977'>
<a class='timestamp' href='#596977'><time timestamp='2018-02-01T19:05:00Z'>19:05</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Using A records is what makes it confusing
<br>
</div>

<div class='talk op-msg' data-timestamp='1517511900' id='596978'>
<a class='timestamp' href='#596978'><time timestamp='2018-02-01T19:05:00Z'>19:05</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
yea, it&#x27;s just some random peer
<br>
</div>

<div class='talk op-msg' data-timestamp='1517511960' id='596979'>
<a class='timestamp' href='#596979'><time timestamp='2018-02-01T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
jonasschnelli: yes, you&#x27;d have to include your own ip in the dnsseed to (maybe) get the oneshot to be you, but that would be bad, and a violation of dnsseed policy (IIRC)
<br>
</div>

<div class='talk op-msg' data-timestamp='1517511960' id='596980'>
<a class='timestamp' href='#596980'><time timestamp='2018-02-01T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
BlueMatt: sure.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517511960' id='596981'>
<a class='timestamp' href='#596981'><time timestamp='2018-02-01T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes, in tor mode no resolving is used to get  multiple results (that&#x27;d require some SOCKS5 extension being used), so it uses a one shot to a random node as replacement
<br>
</div>

<div class='talk op-msg' data-timestamp='1517511960' id='596982'>
<a class='timestamp' href='#596982'><time timestamp='2018-02-01T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
But in tor only mode, don&#x27;t we do a oneshot to the seeds?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517511960' id='596983'>
<a class='timestamp' href='#596983'><time timestamp='2018-02-01T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
no     
<br>
</div>

<div class='talk op-msg' data-timestamp='1517511960' id='596984'>
<a class='timestamp' href='#596984'><time timestamp='2018-02-01T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
BlueMatt: and an effective way to DDOS yourself
<br>
</div>

<div class='talk op-msg' data-timestamp='1517512020' id='596985'>
<a class='timestamp' href='#596985'><time timestamp='2018-02-01T19:07:00Z'>19:07</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
wumpus: okay. Thanks... never looked that up properly 
<br>
</div>

<div class='talk op-msg' data-timestamp='1517512020' id='596986'>
<a class='timestamp' href='#596986'><time timestamp='2018-02-01T19:07:00Z'>19:07</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it never looks up the IP of the DNS server at all, that&#x27;s all happening below the libc abstraction
<br>
</div>

<div class='talk op-msg' data-timestamp='1517512020' id='596987'>
<a class='timestamp' href='#596987'><time timestamp='2018-02-01T19:07:00Z'>19:07</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
any topics?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517512200' id='596988'>
<a class='timestamp' href='#596988'><time timestamp='2018-02-01T19:10:00Z'>19:10</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Everyone already back at work it seems
<br>
</div>

<div class='talk op-msg' data-timestamp='1517512200' id='596989'>
<a class='timestamp' href='#596989'><time timestamp='2018-02-01T19:10:00Z'>19:10</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
ok.. seems not... well please review anything under the 0.16.0 milestone, and anything added in the next day too
<br>
</div>

<div class='talk op-msg' data-timestamp='1517512200' id='596990'>
<a class='timestamp' href='#596990'><time timestamp='2018-02-01T19:10:00Z'>19:10</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
if we don&#x27;t have more pressing things to discuss, i&#x27;d like to solicit feedback on #11739 (backdating p2sh /segwit v0 script rules) to genesis
<br>
</div>

<div class='talk op-msg' data-timestamp='1517512200' id='596991'>
<a class='timestamp' href='#596991'><time timestamp='2018-02-01T19:10:00Z'>19:10</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/11739" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/11739</a> | Enforce SCRIPT_VERIFY_P2SH and SCRIPT_VERIFY_WITNESS from genesis by sdaftuar · Pull Request #11739 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1517512200' id='596992'>
<a class='timestamp' href='#596992'><time timestamp='2018-02-01T19:10:00Z'>19:10</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
then we&#x27;ll tag rc2 after that
<br>
</div>

<div class='talk op-msg' data-timestamp='1517512200' id='596993'>
<a class='timestamp' href='#596993'><time timestamp='2018-02-01T19:10:00Z'>19:10</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
and try to find the next round of bugs :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1517512200' id='596994'>
<a class='timestamp' href='#596994'><time timestamp='2018-02-01T19:10:00Z'>19:10</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] theuni opened pull request #12329: net: don&#x27;t retry failed oneshot connections forever (master...no-infinite-oneshot) <a href="https://github.com/bitcoin/bitcoin/pull/12329" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/12329</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1517512200' id='596995'>
<a class='timestamp' href='#596995'><time timestamp='2018-02-01T19:10:00Z'>19:10</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
sdaftuar: okay
<br>
</div>

<div class='talk op-msg' data-timestamp='1517512260' id='596996'>
<a class='timestamp' href='#596996'><time timestamp='2018-02-01T19:11:00Z'>19:11</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
mostly i want to know if there are any concept NACKs
<br>
</div>

<div class='talk op-msg' data-timestamp='1517512260' id='596997'>
<a class='timestamp' href='#596997'><time timestamp='2018-02-01T19:11:00Z'>19:11</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
#topic enforce SCRIPT_VERIFY_P2SH and SCRIPT_VERIFY_WITNESS from genesis (sdaftuar)
<br>
</div>

<div class='talk op-msg' data-timestamp='1517512320' id='596998'>
<a class='timestamp' href='#596998'><time timestamp='2018-02-01T19:12:00Z'>19:12</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
and i guess the other question is confirming whether/how such a change should be documented
<br>
</div>

<div class='talk op-msg' data-timestamp='1517512320' id='596999'>
<a class='timestamp' href='#596999'><time timestamp='2018-02-01T19:12:00Z'>19:12</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
+0     
<br>
</div>

<div class='talk op-msg' data-timestamp='1517512320' id='597000'>
<a class='timestamp' href='#597000'><time timestamp='2018-02-01T19:12:00Z'>19:12</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
sdaftuar: going forward, you mean? or this one?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517512320' id='597001'>
<a class='timestamp' href='#597001'><time timestamp='2018-02-01T19:12:00Z'>19:12</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
both?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517512320' id='597002'>
<a class='timestamp' href='#597002'><time timestamp='2018-02-01T19:12:00Z'>19:12</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
i drafted a BIP for this one
<br>
</div>

<div class='talk op-msg' data-timestamp='1517512380' id='597003'>
<a class='timestamp' href='#597003'><time timestamp='2018-02-01T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
well going forward, i think we could specify this intention as part of a soft-fork bip?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517512380' id='597004'>
<a class='timestamp' href='#597004'><time timestamp='2018-02-01T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
no NACK from me, if the code can be simplified that way then it&#x27;s great
<br>
</div>

<div class='talk op-msg' data-timestamp='1517512380' id='597005'>
<a class='timestamp' href='#597005'><time timestamp='2018-02-01T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
+1     
<br>
</div>

<div class='talk op-msg' data-timestamp='1517512380' id='597006'>
<a class='timestamp' href='#597006'><time timestamp='2018-02-01T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it doesn&#x27;t change the rules enforced for current blocks, does it?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517512380' id='597007'>
<a class='timestamp' href='#597007'><time timestamp='2018-02-01T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
how is it a softfork?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517512380' id='597008'>
<a class='timestamp' href='#597008'><time timestamp='2018-02-01T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
no effect on current blocks
<br>
</div>

<div class='talk op-msg' data-timestamp='1517512380' id='597009'>
<a class='timestamp' href='#597009'><time timestamp='2018-02-01T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
if it&#x27;s a softfork I am misunderstanding
<br>
</div>

<div class='talk op-msg' data-timestamp='1517512440' id='597010'>
<a class='timestamp' href='#597010'><time timestamp='2018-02-01T19:14:00Z'>19:14</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
its a soft spoon - only prevents a 6-month reorg from removing segwit :p
<br>
</div>

<div class='talk op-msg' data-timestamp='1517512440' id='597011'>
<a class='timestamp' href='#597011'><time timestamp='2018-02-01T19:14:00Z'>19:14</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
it restricts the rules on older blocks
<br>
</div>

<div class='talk op-msg' data-timestamp='1517512440' id='597012'>
<a class='timestamp' href='#597012'><time timestamp='2018-02-01T19:14:00Z'>19:14</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
it&#x27;s a softfork under a technical definition
<br>
</div>

<div class='talk op-msg' data-timestamp='1517512440' id='597013'>
<a class='timestamp' href='#597013'><time timestamp='2018-02-01T19:14:00Z'>19:14</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
not a fork
<br>
</div>

<div class='talk op-msg' data-timestamp='1517512440' id='597014'>
<a class='timestamp' href='#597014'><time timestamp='2018-02-01T19:14:00Z'>19:14</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
of making valid things now invalid
<br>
</div>

<div class='talk op-msg' data-timestamp='1517512440' id='597015'>
<a class='timestamp' href='#597015'><time timestamp='2018-02-01T19:14:00Z'>19:14</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
sorry, my fault.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517512440' id='597016'>
<a class='timestamp' href='#597016'><time timestamp='2018-02-01T19:14:00Z'>19:14</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
+1 as well..  but i do have concerns about how we could do this on a going forward basis
<br>
</div>

<div class='talk op-msg' data-timestamp='1517512440' id='597017'>
<a class='timestamp' href='#597017'><time timestamp='2018-02-01T19:14:00Z'>19:14</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
oh, right
<br>
</div>

<div class='talk op-msg' data-timestamp='1517512440' id='597018'>
<a class='timestamp' href='#597018'><time timestamp='2018-02-01T19:14:00Z'>19:14</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Or just Buried Deployment?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517512440' id='597019'>
<a class='timestamp' href='#597019'><time timestamp='2018-02-01T19:14:00Z'>19:14</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
but it makes no difference bencause the old blocks all qualify
<br>
</div>

<div class='talk op-msg' data-timestamp='1517512440' id='597020'>
<a class='timestamp' href='#597020'><time timestamp='2018-02-01T19:14:00Z'>19:14</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
the question comes down to, are we limiting soft/hardfork definitions to only ones that affect future blocks?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517512440' id='597021'>
<a class='timestamp' href='#597021'><time timestamp='2018-02-01T19:14:00Z'>19:14</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
it seems like if this is always our intention, then as soon as we announce a future soft fork
<br>
</div>

<div class='talk op-msg' data-timestamp='1517512440' id='597022'>
<a class='timestamp' href='#597022'><time timestamp='2018-02-01T19:14:00Z'>19:14</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
some jack ass is going to mine violations just to make us annoyed
<br>
</div>

<div class='talk op-msg' data-timestamp='1517512500' id='597023'>
<a class='timestamp' href='#597023'><time timestamp='2018-02-01T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
luke-jr: yes, we should start calling buried deployments spoons
<br>
</div>

<div class='talk op-msg' data-timestamp='1517512500' id='597024'>
<a class='timestamp' href='#597024'><time timestamp='2018-02-01T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
or do we consider this an implementation detail?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517512500' id='597025'>
<a class='timestamp' href='#597025'><time timestamp='2018-02-01T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
morcos: true
<br>
</div>

<div class='talk op-msg' data-timestamp='1517512500' id='597026'>
<a class='timestamp' href='#597026'><time timestamp='2018-02-01T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
morcos: i think it&#x27;s not really worth worrying about that
<br>
</div>

<div class='talk op-msg' data-timestamp='1517512500' id='597027'>
<a class='timestamp' href='#597027'><time timestamp='2018-02-01T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I see this as an implementation detail to validation
<br>
</div>

<div class='talk op-msg' data-timestamp='1517512500' id='597028'>
<a class='timestamp' href='#597028'><time timestamp='2018-02-01T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
there&#x27;s no need to cause a lot of rufus about it
<br>
</div>

<div class='talk op-msg' data-timestamp='1517512500' id='597029'>
<a class='timestamp' href='#597029'><time timestamp='2018-02-01T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
if you call it softfork you&#x27;ll have the miners in arms, and whatnot
<br>
</div>

<div class='talk op-msg' data-timestamp='1517512500' id='597030'>
<a class='timestamp' href='#597030'><time timestamp='2018-02-01T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
luke-jr: well if there&#x27;s an absolutely massive reorg, it&#x27;s not just an implementation detail, no?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517512500' id='597031'>
<a class='timestamp' href='#597031'><time timestamp='2018-02-01T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
well it addresses cfields point about having the original BIP specify the intention.  i think we should always only consider backdating after the fact
<br>
</div>

<div class='talk op-msg' data-timestamp='1517512560' id='597032'>
<a class='timestamp' href='#597032'><time timestamp='2018-02-01T19:16:00Z'>19:16</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
morcos: oh i see your point
<br>
</div>

<div class='talk op-msg' data-timestamp='1517512560' id='597033'>
<a class='timestamp' href='#597033'><time timestamp='2018-02-01T19:16:00Z'>19:16</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
because then it also needs to be signaled some way, I guess
<br>
</div>

<div class='talk op-msg' data-timestamp='1517512560' id='597034'>
<a class='timestamp' href='#597034'><time timestamp='2018-02-01T19:16:00Z'>19:16</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
cfields: if there&#x27;s an absolutely massive reorg, it&#x27;s unclear what the outcome will be period
<br>
</div>

<div class='talk op-msg' data-timestamp='1517512560' id='597035'>
<a class='timestamp' href='#597035'><time timestamp='2018-02-01T19:16:00Z'>19:16</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
cfields: for example, Knots has a checkpoint on a Segwit block
<br>
</div>

<div class='talk op-msg' data-timestamp='1517512560' id='597036'>
<a class='timestamp' href='#597036'><time timestamp='2018-02-01T19:16:00Z'>19:16</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
well isn&#x27;t the intention here to clarify that outcome?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517512560' id='597037'>
<a class='timestamp' href='#597037'><time timestamp='2018-02-01T19:16:00Z'>19:16</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
if there&#x27;s a 6 month reorg there will be debate as to whether to follow it...whether we follow it or not ends up being a community question anyway :p
<br>
</div>

<div class='talk op-msg' data-timestamp='1517512560' id='597038'>
<a class='timestamp' href='#597038'><time timestamp='2018-02-01T19:16:00Z'>19:16</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
if there&#x27;s a reorg that big that all segwit blocks are reorged out, well...
<br>
</div>

<div class='talk op-msg' data-timestamp='1517512560' id='597039'>
<a class='timestamp' href='#597039'><time timestamp='2018-02-01T19:16:00Z'>19:16</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
i think in this case, it&#x27;s clear that segwit transactors do not intend for their funds to be spendable on a segwit-inactive chain
<br>
</div>

<div class='talk op-msg' data-timestamp='1517512620' id='597040'>
<a class='timestamp' href='#597040'><time timestamp='2018-02-01T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes, I&#x27;m sure there will be discussion enough in that case
<br>
</div>

<div class='talk op-msg' data-timestamp='1517512620' id='597041'>
<a class='timestamp' href='#597041'><time timestamp='2018-02-01T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
so backdating the segwit rules matches consensus, in that sense
<br>
</div>

<div class='talk op-msg' data-timestamp='1517512620' id='597042'>
<a class='timestamp' href='#597042'><time timestamp='2018-02-01T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
so, definitely not a fork
<br>
</div>

<div class='talk op-msg' data-timestamp='1517512620' id='597043'>
<a class='timestamp' href='#597043'><time timestamp='2018-02-01T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
right
<br>
</div>

<div class='talk op-msg' data-timestamp='1517512680' id='597044'>
<a class='timestamp' href='#597044'><time timestamp='2018-02-01T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
in which case, I don&#x27;t see that we need a BIP for it. I suggest we make a new repo for Core-specific documentation like this.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517512680' id='597045'>
<a class='timestamp' href='#597045'><time timestamp='2018-02-01T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
morcos: i half agree about after-the-fact. Not mentioning backdating with the intention of doing so anyway is a bit... iffy
<br>
</div>

<div class='talk op-msg' data-timestamp='1517512680' id='597046'>
<a class='timestamp' href='#597046'><time timestamp='2018-02-01T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
BIPs are for cross-software standards, which doesn&#x27;t really include implementation details
<br>
</div>

<div class='talk op-msg' data-timestamp='1517512680' id='597047'>
<a class='timestamp' href='#597047'><time timestamp='2018-02-01T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
seems fine to me, I also appreciate gmaxwell&#x27;s partially-joking suggestion of calling it a spoon
<br>
</div>

<div class='talk op-msg' data-timestamp='1517512680' id='597048'>
<a class='timestamp' href='#597048'><time timestamp='2018-02-01T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
hehe
<br>
</div>

<div class='talk op-msg' data-timestamp='1517512680' id='597049'>
<a class='timestamp' href='#597049'><time timestamp='2018-02-01T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
(actually, we have a repo for gitian docs already, right?)
<br>
</div>

<div class='talk op-msg' data-timestamp='1517512680' id='597050'>
<a class='timestamp' href='#597050'><time timestamp='2018-02-01T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
i personally think that it&#x27;s helpful to put it in a BIP, because it affects the implementation of existing BIPs
<br>
</div>

<div class='talk op-msg' data-timestamp='1517512680' id='597051'>
<a class='timestamp' href='#597051'><time timestamp='2018-02-01T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
and then doing a bip and just saying &quot;Soft Spoon&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1517512740' id='597052'>
<a class='timestamp' href='#597052'><time timestamp='2018-02-01T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
but i don&#x27;t feel strongly
<br>
</div>

<div class='talk op-msg' data-timestamp='1517512740' id='597053'>
<a class='timestamp' href='#597053'><time timestamp='2018-02-01T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
i mean we use BIPs for things that are core-specific anyway, like getblocktemplate
<br>
</div>

<div class='talk op-msg' data-timestamp='1517512740' id='597054'>
<a class='timestamp' href='#597054'><time timestamp='2018-02-01T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
but in the end it doesn&#x27;t matter whether people implement this BIP
<br>
</div>

<div class='talk op-msg' data-timestamp='1517512740' id='597055'>
<a class='timestamp' href='#597055'><time timestamp='2018-02-01T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
because it&#x27;s an implementation detail
<br>
</div>

<div class='talk op-msg' data-timestamp='1517512740' id='597056'>
<a class='timestamp' href='#597056'><time timestamp='2018-02-01T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
BlueMatt: GBT isn&#x27;t Core-specific
<br>
</div>

<div class='talk op-msg' data-timestamp='1517512740' id='597057'>
<a class='timestamp' href='#597057'><time timestamp='2018-02-01T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
wumpus: agreed
<br>
</div>

<div class='talk op-msg' data-timestamp='1517512740' id='597058'>
<a class='timestamp' href='#597058'><time timestamp='2018-02-01T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
it&#x27;s an informational BIP
<br>
</div>

<div class='talk op-msg' data-timestamp='1517512740' id='597059'>
<a class='timestamp' href='#597059'><time timestamp='2018-02-01T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
luke-jr: there are several post-mortem BIPs
<br>
</div>

<div class='talk op-msg' data-timestamp='1517512740' id='597060'>
<a class='timestamp' href='#597060'><time timestamp='2018-02-01T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
BlueMatt: well that&#x27;s an interface! interfaces need documentation
<br>
</div>

<div class='talk op-msg' data-timestamp='1517512740' id='597061'>
<a class='timestamp' href='#597061'><time timestamp='2018-02-01T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-4'> kanzure</span>&gt;
hi.     
<br>
</div>

<div class='talk op-msg' data-timestamp='1517512800' id='597062'>
<a class='timestamp' href='#597062'><time timestamp='2018-02-01T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
maybe we can put it in an annex for the BIPs it affects or something? just seems like it will get old to have two BIPs for every fork
<br>
</div>

<div class='talk op-msg' data-timestamp='1517512800' id='597063'>
<a class='timestamp' href='#597063'><time timestamp='2018-02-01T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
if a softspoon drops at 300000 blocks deep and no one hears it, did it happen at all?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517512800' id='597064'>
<a class='timestamp' href='#597064'><time timestamp='2018-02-01T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
one for the deployment and implementation, and another for the reinterpretation of the deployment
<br>
</div>

<div class='talk op-msg' data-timestamp='1517512800' id='597065'>
<a class='timestamp' href='#597065'><time timestamp='2018-02-01T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
luke-jr: that seems reasonable to me as well, if the BIP authors agree?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517512920' id='597066'>
<a class='timestamp' href='#597066'><time timestamp='2018-02-01T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
luke-jr: agree
<br>
</div>

<div class='talk op-msg' data-timestamp='1517512920' id='597067'>
<a class='timestamp' href='#597067'><time timestamp='2018-02-01T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
none of the authors appear to be here now, but I doubt they&#x27;d object
<br>
</div>

<div class='talk op-msg' data-timestamp='1517512920' id='597068'>
<a class='timestamp' href='#597068'><time timestamp='2018-02-01T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
at least for Segwit
<br>
</div>

<div class='talk op-msg' data-timestamp='1517512980' id='597069'>
<a class='timestamp' href='#597069'><time timestamp='2018-02-01T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
And the winner of the git bisect game is....
<br>
</div>

<div class='talk op-msg' data-timestamp='1517512980' id='597070'>
<a class='timestamp' href='#597070'><time timestamp='2018-02-01T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
bluematt! <a href="https://github.com/bitcoin/bitcoin/commit/62e764219b25f5d5a4de855e53f62c43130ec918" class="link" target="_blank">https://github.com/bitcoin/bitcoin/commit/62e764219b25f5d5a4de855e53f62c43130ec918</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1517512980' id='597071'>
<a class='timestamp' href='#597071'><time timestamp='2018-02-01T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
we already decided it was cfields&#x27; fault
<br>
</div>

<div class='talk op-msg' data-timestamp='1517513040' id='597072'>
<a class='timestamp' href='#597072'><time timestamp='2018-02-01T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
i knew it was both of you
<br>
</div>

<div class='talk op-msg' data-timestamp='1517513040' id='597073'>
<a class='timestamp' href='#597073'><time timestamp='2018-02-01T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-16'> * BlueMatt</span>&gt;
is gonna keep repeating that until someone buys it
<br>
</div>

<div class='talk op-msg' data-timestamp='1517513040' id='597074'>
<a class='timestamp' href='#597074'><time timestamp='2018-02-01T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
:)     
<br>
</div>

<div class='talk op-msg' data-timestamp='1517513040' id='597075'>
<a class='timestamp' href='#597075'><time timestamp='2018-02-01T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-16'> * BlueMatt</span>&gt;
<b>*definitely*</b> didnt also review and ack the bug-introducing pr......
<br>
</div>

<div class='talk op-msg' data-timestamp='1517513040' id='597076'>
<a class='timestamp' href='#597076'><time timestamp='2018-02-01T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
heh it was me for sure
<br>
</div>

<div class='talk op-msg' data-timestamp='1517513040' id='597077'>
<a class='timestamp' href='#597077'><time timestamp='2018-02-01T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
the busted part of 62e7642 was even my suggestion!
<br>
</div>

<div class='talk op-msg' data-timestamp='1517513100' id='597078'>
<a class='timestamp' href='#597078'><time timestamp='2018-02-01T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it&#x27;s everyone&#x27;s fault for not finding the fault in review! :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1517513100' id='597079'>
<a class='timestamp' href='#597079'><time timestamp='2018-02-01T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
+1     
<br>
</div>

<div class='talk op-msg' data-timestamp='1517513100' id='597080'>
<a class='timestamp' href='#597080'><time timestamp='2018-02-01T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
well, sorry everyone. I&#x27;m glad it didn&#x27;t make it into a release.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517513100' id='597081'>
<a class='timestamp' href='#597081'><time timestamp='2018-02-01T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
I&#x27;m glad someone noticed it before a release XD
<br>
</div>

<div class='talk op-msg' data-timestamp='1517513100' id='597082'>
<a class='timestamp' href='#597082'><time timestamp='2018-02-01T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
the rc process, it works
<br>
</div>

<div class='talk op-msg' data-timestamp='1517513160' id='597083'>
<a class='timestamp' href='#597083'><time timestamp='2018-02-01T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
yea, the surge of reports in the last ~day is actually really nice to see
<br>
</div>

<div class='talk op-msg' data-timestamp='1517513160' id='597084'>
<a class='timestamp' href='#597084'><time timestamp='2018-02-01T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Bad linux skills on my part (causing the seed not to restart): it works
<br>
</div>

<div class='talk op-msg' data-timestamp='1517513160' id='597085'>
<a class='timestamp' href='#597085'><time timestamp='2018-02-01T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
good thing it was down or we never would have found this before release! 
<br>
</div>

<div class='talk op-msg' data-timestamp='1517513160' id='597086'>
<a class='timestamp' href='#597086'><time timestamp='2018-02-01T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
(which is very disturbing)
<br>
</div>

<div class='talk op-msg' data-timestamp='1517513160' id='597087'>
<a class='timestamp' href='#597087'><time timestamp='2018-02-01T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
we do need tests for the DNS seed code
<br>
</div>

<div class='talk op-msg' data-timestamp='1517513220' id='597088'>
<a class='timestamp' href='#597088'><time timestamp='2018-02-01T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-3'> meshcollider</span>&gt;
clearly
<br>
</div>

<div class='talk op-msg' data-timestamp='1517513220' id='597089'>
<a class='timestamp' href='#597089'><time timestamp='2018-02-01T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
+1 for tests there
<br>
</div>

<div class='talk op-msg' data-timestamp='1517513220' id='597090'>
<a class='timestamp' href='#597090'><time timestamp='2018-02-01T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
agreed. I&#x27;ll add some.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517513220' id='597091'>
<a class='timestamp' href='#597091'><time timestamp='2018-02-01T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
lol, maybe keep your dnsseed down until after rc cycle? :P
<br>
</div>

<div class='talk op-msg' data-timestamp='1517513220' id='597092'>
<a class='timestamp' href='#597092'><time timestamp='2018-02-01T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
any other topics?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517513280' id='597093'>
<a class='timestamp' href='#597093'><time timestamp='2018-02-01T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
or we could just add a dummy seednode to test.com or something :p
<br>
</div>

<div class='talk op-msg' data-timestamp='1517513400' id='597094'>
<a class='timestamp' href='#597094'><time timestamp='2018-02-01T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
testing that code is not entirely trivial as-is as you somehow need to redirect DNS resolving
<br>
</div>

<div class='talk op-msg' data-timestamp='1517513400' id='597095'>
<a class='timestamp' href='#597095'><time timestamp='2018-02-01T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
if no other topics, I&#x27;m closing the meeting early
<br>
</div>

<div class='talk op-msg' data-timestamp='1517513400' id='597096'>
<a class='timestamp' href='#597096'><time timestamp='2018-02-01T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
#endmeeting
<br>
</div>

<div class='talk op-msg' data-timestamp='1517513400' id='597097'>
<a class='timestamp' href='#597097'><time timestamp='2018-02-01T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Meeting ended Thu Feb  1 19:30:43 2018 UTC.  Information about MeetBot at <a href="http://wiki.debian.org/MeetBot" class="link" target="_blank">http://wiki.debian.org/MeetBot</a> . (v 0.1.4)
<br>
</div>

<div class='talk op-msg' data-timestamp='1517513400' id='597098'>
<a class='timestamp' href='#597098'><time timestamp='2018-02-01T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Minutes:        <a href="http://www.erisian.com.au/meetbot/bitcoin-core-dev/2018/bitcoin-core-dev.2018-02-01-19.00.html" class="link" target="_blank">http://www.erisian.com.au/meetbot/bitcoin-core-dev/2018/bitcoin-core-dev.2018-02-01-19.00.html</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1517513400' id='597099'>
<a class='timestamp' href='#597099'><time timestamp='2018-02-01T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Minutes (text): <a href="http://www.erisian.com.au/meetbot/bitcoin-core-dev/2018/bitcoin-core-dev.2018-02-01-19.00.txt" class="link" target="_blank">http://www.erisian.com.au/meetbot/bitcoin-core-dev/2018/bitcoin-core-dev.2018-02-01-19.00.txt</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1517513400' id='597100'>
<a class='timestamp' href='#597100'><time timestamp='2018-02-01T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Log:            <a href="http://www.erisian.com.au/meetbot/bitcoin-core-dev/2018/bitcoin-core-dev.2018-02-01-19.00.log.html" class="link" target="_blank">http://www.erisian.com.au/meetbot/bitcoin-core-dev/2018/bitcoin-core-dev.2018-02-01-19.00.log.html</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1517513400' id='597101'>
<a class='timestamp' href='#597101'><time timestamp='2018-02-01T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
sgtm
<br>
</div>

<div class='talk op-msg' data-timestamp='1517513400' id='597102'>
<a class='timestamp' href='#597102'><time timestamp='2018-02-01T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
noooooooooooooooooo
<br>
</div>

<div class='talk op-msg' data-timestamp='1517513400' id='597103'>
<a class='timestamp' href='#597103'><time timestamp='2018-02-01T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
ack     
<br>
</div>

<div class='talk op-msg' data-timestamp='1517513400' id='597104'>
<a class='timestamp' href='#597104'><time timestamp='2018-02-01T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
damnit
<br>
</div>

<div class='talk op-msg' data-timestamp='1517513460' id='597105'>
<a class='timestamp' href='#597105'><time timestamp='2018-02-01T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
missed the meeting by 30 seconds.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517513460' id='597106'>
<a class='timestamp' href='#597106'><time timestamp='2018-02-01T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
lol     
<br>
</div>

<div class='talk op-msg' data-timestamp='1517513460' id='597107'>
<a class='timestamp' href='#597107'><time timestamp='2018-02-01T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Without reading the logs, can we apply the fixes for that fd issue and RC2 like lightning?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517513460' id='597108'>
<a class='timestamp' href='#597108'><time timestamp='2018-02-01T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
i believe that is the plan
<br>
</div>

<div class='talk op-msg' data-timestamp='1517513460' id='597109'>
<a class='timestamp' href='#597109'><time timestamp='2018-02-01T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes, that is the plan
<br>
</div>

<div class='talk op-msg' data-timestamp='1517513520' id='597110'>
<a class='timestamp' href='#597110'><time timestamp='2018-02-01T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Good.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517513520' id='597111'>
<a class='timestamp' href='#597111'><time timestamp='2018-02-01T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
merge+backport #12323 and #12312 and tag rc2, and just skip executables for rc1
<br>
</div>

<div class='talk op-msg' data-timestamp='1517513520' id='597112'>
<a class='timestamp' href='#597112'><time timestamp='2018-02-01T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/12323" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/12323</a> | File descriptor problem, causing leveldb crash · Issue #12323 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1517513520' id='597113'>
<a class='timestamp' href='#597113'><time timestamp='2018-02-01T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/12312" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/12312</a> | QT ignores -changetype=bech32 when coin control features are enabled · Issue #12312 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1517513640' id='597114'>
<a class='timestamp' href='#597114'><time timestamp='2018-02-01T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Meanwhile I&#x27;m checking if #12326 actually makes the crash go away now, as well as whether removing my seed from v0.16.0rc1 makes it go away (very likely yes).
<br>
</div>

<div class='talk op-msg' data-timestamp='1517513640' id='597115'>
<a class='timestamp' href='#597115'><time timestamp='2018-02-01T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/12326" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/12326</a> | net: initialize socket to avoid closing random fds by theuni · Pull Request #12326 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1517513700' id='597116'>
<a class='timestamp' href='#597116'><time timestamp='2018-02-01T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-8'> jcorgan</span>&gt;
hey guys, just fyi, i&#x27;ve passed on the management/maintainer/architect roles in gnuradio to new hands (after 12 years), to focus on bitcoin-related work full-time. part of that will be getting back into core dev process. very much looking forward to the change of pace.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517513700' id='597117'>
<a class='timestamp' href='#597117'><time timestamp='2018-02-01T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
jcorgan: awesome!
<br>
</div>

<div class='talk op-msg' data-timestamp='1517513700' id='597118'>
<a class='timestamp' href='#597118'><time timestamp='2018-02-01T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
wumpus: and 12329 ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517513760' id='597119'>
<a class='timestamp' href='#597119'><time timestamp='2018-02-01T19:36:00Z'>19:36</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
jcorgan: congratulations!
<br>
</div>

<div class='talk op-msg' data-timestamp='1517513760' id='597120'>
<a class='timestamp' href='#597120'><time timestamp='2018-02-01T19:36:00Z'>19:36</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(I mean, nooo sucks for gnuradio; and all my SDR projects)
<br>
</div>

<div class='talk op-msg' data-timestamp='1517513760' id='597121'>
<a class='timestamp' href='#597121'><time timestamp='2018-02-01T19:36:00Z'>19:36</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
jcorgan: very cool. 12 years is a long time
<br>
</div>

<div class='talk op-msg' data-timestamp='1517513820' id='597122'>
<a class='timestamp' href='#597122'><time timestamp='2018-02-01T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
cfields: huh I meant that one
<br>
</div>

<div class='talk op-msg' data-timestamp='1517513820' id='597123'>
<a class='timestamp' href='#597123'><time timestamp='2018-02-01T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-8'> jcorgan</span>&gt;
i think that&#x27;s half over some people here&#x27;s lifetime
<br>
</div>

<div class='talk op-msg' data-timestamp='1517513820' id='597124'>
<a class='timestamp' href='#597124'><time timestamp='2018-02-01T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-8'> jcorgan</span>&gt;
*of     
<br>
</div>

<div class='talk op-msg' data-timestamp='1517513820' id='597125'>
<a class='timestamp' href='#597125'><time timestamp='2018-02-01T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
oh cool maybe I can go to gnu radio now
<br>
</div>

<div class='talk op-msg' data-timestamp='1517513820' id='597126'>
<a class='timestamp' href='#597126'><time timestamp='2018-02-01T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
wait what
<br>
</div>

<div class='talk op-msg' data-timestamp='1517513820' id='597127'>
<a class='timestamp' href='#597127'><time timestamp='2018-02-01T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
jcorgan: you&#x27;re Bitcoin Core maintainer now! congrats.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517513820' id='597128'>
<a class='timestamp' href='#597128'><time timestamp='2018-02-01T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
jcorgan: more than half
<br>
</div>

<div class='talk op-msg' data-timestamp='1517513880' id='597129'>
<a class='timestamp' href='#597129'><time timestamp='2018-02-01T19:38:00Z'>19:38</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
\o/     
<br>
</div>

<div class='talk op-msg' data-timestamp='1517513940' id='597130'>
<a class='timestamp' href='#597130'><time timestamp='2018-02-01T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
who here is best to bug about gitian? I&#x27;d hate to blow away my gitian directory yet again...
<br>
</div>

<div class='talk op-msg' data-timestamp='1517513940' id='597131'>
<a class='timestamp' href='#597131'><time timestamp='2018-02-01T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
who is going to answer yes to that question
<br>
</div>

<div class='talk op-msg' data-timestamp='1517513940' id='597132'>
<a class='timestamp' href='#597132'><time timestamp='2018-02-01T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
someone who loves... pain
<br>
</div>

<div class='talk op-msg' data-timestamp='1517513940' id='597133'>
<a class='timestamp' href='#597133'><time timestamp='2018-02-01T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
instagibbs: probably cfields 
<br>
</div>

<div class='talk op-msg' data-timestamp='1517513940' id='597134'>
<a class='timestamp' href='#597134'><time timestamp='2018-02-01T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-15'> * cfields</span>&gt;
points at achow101
<br>
</div>

<div class='talk op-msg' data-timestamp='1517513940' id='597135'>
<a class='timestamp' href='#597135'><time timestamp='2018-02-01T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
lol     
<br>
</div>

<div class='talk op-msg' data-timestamp='1517513940' id='597136'>
<a class='timestamp' href='#597136'><time timestamp='2018-02-01T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
instagibbs: what&#x27;s the issue?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517513940' id='597137'>
<a class='timestamp' href='#597137'><time timestamp='2018-02-01T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-9'> * instagibbs</span>&gt;
throws VM out the window
<br>
</div>

<div class='talk op-msg' data-timestamp='1517514000' id='597138'>
<a class='timestamp' href='#597138'><time timestamp='2018-02-01T19:40:00Z'>19:40</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
ill DM, it&#x27;s likely intractible
<br>
</div>

<div class='talk op-msg' data-timestamp='1517514000' id='597139'>
<a class='timestamp' href='#597139'><time timestamp='2018-02-01T19:40:00Z'>19:40</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it&#x27;s surprising in how many different ways gitian can fail
<br>
</div>

<div class='talk op-msg' data-timestamp='1517514000' id='597140'>
<a class='timestamp' href='#597140'><time timestamp='2018-02-01T19:40:00Z'>19:40</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
this is going to be the least sexy slide into a DM ever...
<br>
</div>

<div class='talk op-msg' data-timestamp='1517514000' id='597141'>
<a class='timestamp' href='#597141'><time timestamp='2018-02-01T19:40:00Z'>19:40</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
o/ late..
<br>
</div>

<div class='talk op-msg' data-timestamp='1517514060' id='597142'>
<a class='timestamp' href='#597142'><time timestamp='2018-02-01T19:41:00Z'>19:41</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
gitian is kinda outdated. it looks like its doing things that aren&#x27;t really supported anymore
<br>
</div>

<div class='talk op-msg' data-timestamp='1517514060' id='597143'>
<a class='timestamp' href='#597143'><time timestamp='2018-02-01T19:41:00Z'>19:41</time></a>
&lt;<span class='nick nick-8'> jcorgan</span>&gt;
anyway, carry on, i have to go fly a plane in the sky
<br>
</div>

<div class='talk op-msg' data-timestamp='1517514120' id='597144'>
<a class='timestamp' href='#597144'><time timestamp='2018-02-01T19:42:00Z'>19:42</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
cfields, lol
<br>
</div>

<div class='talk op-msg' data-timestamp='1517514120' id='597145'>
<a class='timestamp' href='#597145'><time timestamp='2018-02-01T19:42:00Z'>19:42</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
lol indeed
<br>
</div>

<div class='talk op-msg' data-timestamp='1517514180' id='597146'>
<a class='timestamp' href='#597146'><time timestamp='2018-02-01T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-3'> meshcollider</span>&gt;
0.16 crashes my gitian build too grr 0.15.1 was ok
<br>
</div>

<div class='talk op-msg' data-timestamp='1517514180' id='597147'>
<a class='timestamp' href='#597147'><time timestamp='2018-02-01T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-3'> meshcollider</span>&gt;
I probably need to upgrade something
<br>
</div>

<div class='talk op-msg' data-timestamp='1517514180' id='597148'>
<a class='timestamp' href='#597148'><time timestamp='2018-02-01T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
trying as far back as 0.14.1, not working
<br>
</div>

<div class='talk op-msg' data-timestamp='1517514180' id='597149'>
<a class='timestamp' href='#597149'><time timestamp='2018-02-01T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
strange, nothing should have changed in that regard
<br>
</div>

<div class='talk op-msg' data-timestamp='1517514180' id='597150'>
<a class='timestamp' href='#597150'><time timestamp='2018-02-01T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
(something I know this VM did correctly once)
<br>
</div>

<div class='talk op-msg' data-timestamp='1517514180' id='597151'>
<a class='timestamp' href='#597151'><time timestamp='2018-02-01T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
still uses the same version of ubuntu for buildling, still uses the same packages, etc
<br>
</div>

<div class='talk op-msg' data-timestamp='1517514240' id='597152'>
<a class='timestamp' href='#597152'><time timestamp='2018-02-01T19:44:00Z'>19:44</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
I bet some package updated and that just broke everything
<br>
</div>

<div class='talk op-msg' data-timestamp='1517514660' id='597153'>
<a class='timestamp' href='#597153'><time timestamp='2018-02-01T19:51:00Z'>19:51</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
cfields fixed my issue... was looking at my even older version of gitian that I had failed to rename to something sensible
<br>
</div>

<div class='talk op-msg' data-timestamp='1517514780' id='597154'>
<a class='timestamp' href='#597154'><time timestamp='2018-02-01T19:53:00Z'>19:53</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jonasschnelli pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/84291d18dd69...41363fe11df5" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/84291d18dd69...41363fe11df5</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1517514780' id='597155'>
<a class='timestamp' href='#597155'><time timestamp='2018-02-01T19:53:00Z'>19:53</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 6558f8a João Barbosa: [gui] Defer coin control instancing...
<br>
</div>

<div class='talk op-msg' data-timestamp='1517514780' id='597156'>
<a class='timestamp' href='#597156'><time timestamp='2018-02-01T19:53:00Z'>19:53</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 41363fe Jonas Schnelli: Merge #12327: [gui] Defer coin control instancing...
<br>
</div>

<div class='talk op-msg' data-timestamp='1517514840' id='597157'>
<a class='timestamp' href='#597157'><time timestamp='2018-02-01T19:54:00Z'>19:54</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jonasschnelli closed pull request #12327: [gui] Defer coin control instancing (master...2018-02-fix-12312) <a href="https://github.com/bitcoin/bitcoin/pull/12327" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/12327</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1517514960' id='597158'>
<a class='timestamp' href='#597158'><time timestamp='2018-02-01T19:56:00Z'>19:56</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Would it be entirely crazy to make debug=1 not enable all debugging options, but a &quot;many&quot; option, that turns off absurdly chatty stuff (leveldb internals would be the one thing now).
<br>
</div>

<div class='talk op-msg' data-timestamp='1517514960' id='597159'>
<a class='timestamp' href='#597159'><time timestamp='2018-02-01T19:56:00Z'>19:56</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
?     
<br>
</div>

<div class='talk op-msg' data-timestamp='1517514960' id='597160'>
<a class='timestamp' href='#597160'><time timestamp='2018-02-01T19:56:00Z'>19:56</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
+1     
<br>
</div>

<div class='talk op-msg' data-timestamp='1517515020' id='597161'>
<a class='timestamp' href='#597161'><time timestamp='2018-02-01T19:57:00Z'>19:57</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I don&#x27;t think any of us have ever found the leveldb internals logging useful so far. And I know I always disable it and curse when I accidentally level it on.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517515020' id='597162'>
<a class='timestamp' href='#597162'><time timestamp='2018-02-01T19:57:00Z'>19:57</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
that seems to be everyone&#x27;s experience afaik
<br>
</div>

<div class='talk op-msg' data-timestamp='1517515020' id='597163'>
<a class='timestamp' href='#597163'><time timestamp='2018-02-01T19:57:00Z'>19:57</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
er leave it on.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517515080' id='597164'>
<a class='timestamp' href='#597164'><time timestamp='2018-02-01T19:58:00Z'>19:58</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I suppose I&#x27;ve learned a bit about how much background stuff leveldb does due to it. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1517515080' id='597165'>
<a class='timestamp' href='#597165'><time timestamp='2018-02-01T19:58:00Z'>19:58</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I don&#x27;t like the chatty net logging either
<br>
</div>

<div class='talk op-msg' data-timestamp='1517515080' id='597166'>
<a class='timestamp' href='#597166'><time timestamp='2018-02-01T19:58:00Z'>19:58</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
At least I&#x27;ve found that stuff useful. I&#x27;d be okay with it off in debug=1 though I&#x27;d often turn it on.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517515080' id='597167'>
<a class='timestamp' href='#597167'><time timestamp='2018-02-01T19:58:00Z'>19:58</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
which is why I opened #12219, I think we need a DEBUG..ERROR axis as well
<br>
</div>

<div class='talk op-msg' data-timestamp='1517515140' id='597168'>
<a class='timestamp' href='#597168'><time timestamp='2018-02-01T19:59:00Z'>19:59</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/12219" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/12219</a> | More granular net logging · Issue #12219 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1517515140' id='597169'>
<a class='timestamp' href='#597169'><time timestamp='2018-02-01T19:59:00Z'>19:59</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
yeah we should tackle that
<br>
</div>

<div class='talk op-msg' data-timestamp='1517515140' id='597170'>
<a class='timestamp' href='#597170'><time timestamp='2018-02-01T19:59:00Z'>19:59</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
The flickering makes it hard to watch an IBD in real time.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517515140' id='597171'>
<a class='timestamp' href='#597171'><time timestamp='2018-02-01T19:59:00Z'>19:59</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
or at least chatty net doesn&#x27;t bother me so much since upgrading nodes to 1TB ssds...
<br>
</div>

<div class='talk op-msg' data-timestamp='1517515140' id='597172'>
<a class='timestamp' href='#597172'><time timestamp='2018-02-01T19:59:00Z'>19:59</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
apart from the category we also need a log level, that&#x27;d make logging things more sane without singling out specific categories
<br>
</div>

<div class='talk op-msg' data-timestamp='1517515140' id='597173'>
<a class='timestamp' href='#597173'><time timestamp='2018-02-01T19:59:00Z'>19:59</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
or splitting up categories
<br>
</div>

<div class='talk op-msg' data-timestamp='1517515200' id='597174'>
<a class='timestamp' href='#597174'><time timestamp='2018-02-01T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I think debug=1 should remain &#x27;log everything possible&#x27;, which doesn&#x27;t rule out more selective logging options
<br>
</div>

<div class='talk op-msg' data-timestamp='1517515200' id='597175'>
<a class='timestamp' href='#597175'><time timestamp='2018-02-01T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I&#x27;d buy a debug vs error sort of axis though I&#x27;m doubtful about a really granular level, as people will irritatingly set them pretty subjectively.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517515260' id='597176'>
<a class='timestamp' href='#597176'><time timestamp='2018-02-01T20:01:00Z'>20:01</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
or I suppose if we just had a debug=many or debug=most that would be fine too.  I seem to screw up debug=1 and then excluding for some reason.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517515260' id='597177'>
<a class='timestamp' href='#597177'><time timestamp='2018-02-01T20:01:00Z'>20:01</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
or something like debug=1 debug=-leveldb
<br>
</div>

<div class='talk op-msg' data-timestamp='1517515320' id='597178'>
<a class='timestamp' href='#597178'><time timestamp='2018-02-01T20:02:00Z'>20:02</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
also having a single setting is more useful when I&#x27;m asking users to set things.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517515320' id='597179'>
<a class='timestamp' href='#597179'><time timestamp='2018-02-01T20:02:00Z'>20:02</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
allowing categories to be disabled
<br>
</div>

<div class='talk op-msg' data-timestamp='1517515320' id='597180'>
<a class='timestamp' href='#597180'><time timestamp='2018-02-01T20:02:00Z'>20:02</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
gmaxwell: agreed. -debug and -debug=all don&#x27;t have to be the same thing
<br>
</div>

<div class='talk op-msg' data-timestamp='1517515320' id='597181'>
<a class='timestamp' href='#597181'><time timestamp='2018-02-01T20:02:00Z'>20:02</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
we have -debugexclude 
<br>
</div>

<div class='talk op-msg' data-timestamp='1517515320' id='597182'>
<a class='timestamp' href='#597182'><time timestamp='2018-02-01T20:02:00Z'>20:02</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
but yes it is subjective and dpeends on what you want to debug
<br>
</div>

<div class='talk op-msg' data-timestamp='1517515320' id='597183'>
<a class='timestamp' href='#597183'><time timestamp='2018-02-01T20:02:00Z'>20:02</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
which is why making a single selection for -debug=1 seems weird to me
<br>
</div>

<div class='talk op-msg' data-timestamp='1517515380' id='597184'>
<a class='timestamp' href='#597184'><time timestamp='2018-02-01T20:03:00Z'>20:03</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
some messages might be less interesting for what you&#x27;re debugging, but that&#x27;s why we have categories in the first place
<br>
</div>

<div class='talk op-msg' data-timestamp='1517515380' id='597185'>
<a class='timestamp' href='#597185'><time timestamp='2018-02-01T20:03:00Z'>20:03</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Though also for some of this user stuff, I think it would be very useful to have a circular buffer in ram that always gets a MUCH higher debug level than what goes to disk (e.g. every debug option that isn&#x27;t computationally expensive)
<br>
</div>

<div class='talk op-msg' data-timestamp='1517515380' id='597186'>
<a class='timestamp' href='#597186'><time timestamp='2018-02-01T20:03:00Z'>20:03</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
and on crashes we could make a best effort attempt to dump the circular buffer to a file in a crash handler.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517515440' id='597187'>
<a class='timestamp' href='#597187'><time timestamp='2018-02-01T20:04:00Z'>20:04</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
debug=1 is super-overkill last resort for when you really don&#x27;t know where to look
<br>
</div>

<div class='talk op-msg' data-timestamp='1517515440' id='597188'>
<a class='timestamp' href='#597188'><time timestamp='2018-02-01T20:04:00Z'>20:04</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
gmaxwell: yes, we need that too
<br>
</div>

<div class='talk op-msg' data-timestamp='1517515440' id='597189'>
<a class='timestamp' href='#597189'><time timestamp='2018-02-01T20:04:00Z'>20:04</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
wumpus: or when round trips are expensive. if I have a user reporting an issue I don&#x27;t want to iterate on a bunch of options. I just want all the info that might be relevant, but the leveldb stuff is so far useless and very bloaty.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517515440' id='597190'>
<a class='timestamp' href='#597190'><time timestamp='2018-02-01T20:04:00Z'>20:04</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
-debug-net -debug-foo (-debug enables all)?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517515500' id='597191'>
<a class='timestamp' href='#597191'><time timestamp='2018-02-01T20:05:00Z'>20:05</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
we already have -debug=net -debug=foo
<br>
</div>

<div class='talk op-msg' data-timestamp='1517515500' id='597192'>
<a class='timestamp' href='#597192'><time timestamp='2018-02-01T20:05:00Z'>20:05</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
promag: you can already -debug=category to add categories and -debugexclude to remove them.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517515500' id='597193'>
<a class='timestamp' href='#597193'><time timestamp='2018-02-01T20:05:00Z'>20:05</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
gmaxwell: still you need a selection of categories then
<br>
</div>

<div class='talk op-msg' data-timestamp='1517515500' id='597194'>
<a class='timestamp' href='#597194'><time timestamp='2018-02-01T20:05:00Z'>20:05</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
but you can&#x27;t have levels right?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517515500' id='597195'>
<a class='timestamp' href='#597195'><time timestamp='2018-02-01T20:05:00Z'>20:05</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
right now I tell users to debug=1 and debugexclude leveldb. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1517515560' id='597196'>
<a class='timestamp' href='#597196'><time timestamp='2018-02-01T20:06:00Z'>20:06</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
gmaxwell: it&#x27;s unlikely that you want debugging for ,say, torcontrol, even though that logging is extremely useful if you&#x27;re debugging that
<br>
</div>

<div class='talk op-msg' data-timestamp='1517515560' id='597197'>
<a class='timestamp' href='#597197'><time timestamp='2018-02-01T20:06:00Z'>20:06</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
wumpus: tor control isn&#x27;t that chatty however.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517515560' id='597198'>
<a class='timestamp' href='#597198'><time timestamp='2018-02-01T20:06:00Z'>20:06</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
net is chatty but one of the most useful thing to log.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517515560' id='597199'>
<a class='timestamp' href='#597199'><time timestamp='2018-02-01T20:06:00Z'>20:06</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
but it might become so, or another chatty category could be added
<br>
</div>

<div class='talk op-msg' data-timestamp='1517515560' id='597200'>
<a class='timestamp' href='#597200'><time timestamp='2018-02-01T20:06:00Z'>20:06</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
that&#x27;s pretty subjective though
<br>
</div>

<div class='talk op-msg' data-timestamp='1517515560' id='597201'>
<a class='timestamp' href='#597201'><time timestamp='2018-02-01T20:06:00Z'>20:06</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
because you&#x27;re interested in net
<br>
</div>

<div class='talk op-msg' data-timestamp='1517515620' id='597202'>
<a class='timestamp' href='#597202'><time timestamp='2018-02-01T20:07:00Z'>20:07</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
probably if I could grab a circular buffer with everything the question wrt support would go away.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517515620' id='597203'>
<a class='timestamp' href='#597203'><time timestamp='2018-02-01T20:07:00Z'>20:07</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
currently I have the problem that I&#x27;m interested in high-level network stuff, e.g. incoming connections, outgoing connections, what clients are connecting, what are their IPs, when do they disconnect. I don&#x27;t need to see every single packet.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517515680' id='597204'>
<a class='timestamp' href='#597204'><time timestamp='2018-02-01T20:08:00Z'>20:08</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
but debug=net is way too chatty
<br>
</div>

<div class='talk op-msg' data-timestamp='1517515680' id='597205'>
<a class='timestamp' href='#597205'><time timestamp='2018-02-01T20:08:00Z'>20:08</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I agree that net messages and net-activity should be split.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517515680' id='597206'>
<a class='timestamp' href='#597206'><time timestamp='2018-02-01T20:08:00Z'>20:08</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I do frequently like net-activity for debugging because from that I can more or less trace the state that the node is in.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517515740' id='597207'>
<a class='timestamp' href='#597207'><time timestamp='2018-02-01T20:09:00Z'>20:09</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
sure, I don&#x27;t mwan that detailed net logging should go away or such
<br>
</div>

<div class='talk op-msg' data-timestamp='1517515740' id='597208'>
<a class='timestamp' href='#597208'><time timestamp='2018-02-01T20:09:00Z'>20:09</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it certainly has good uses when you&#x27;re debugging network things
<br>
</div>

<div class='talk op-msg' data-timestamp='1517515740' id='597209'>
<a class='timestamp' href='#597209'><time timestamp='2018-02-01T20:09:00Z'>20:09</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
in any case I think a log level would resolve some of these problems
<br>
</div>

<div class='talk op-msg' data-timestamp='1517515740' id='597210'>
<a class='timestamp' href='#597210'><time timestamp='2018-02-01T20:09:00Z'>20:09</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
&#x27;I want to see all categories, but only at INFO levell, not DEBUG and below&#x27;
<br>
</div>

<div class='talk op-msg' data-timestamp='1517515800' id='597211'>
<a class='timestamp' href='#597211'><time timestamp='2018-02-01T20:10:00Z'>20:10</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
where DEBUG would be the chatty stuff
<br>
</div>

<div class='talk op-msg' data-timestamp='1517515800' id='597212'>
<a class='timestamp' href='#597212'><time timestamp='2018-02-01T20:10:00Z'>20:10</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
hence -debug-net=X
<br>
</div>

<div class='talk op-msg' data-timestamp='1517515800' id='597213'>
<a class='timestamp' href='#597213'><time timestamp='2018-02-01T20:10:00Z'>20:10</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Please lets not make more than three levels though.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517515800' id='597214'>
<a class='timestamp' href='#597214'><time timestamp='2018-02-01T20:10:00Z'>20:10</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
then if you want net DEBUG, you enable net debug
<br>
</div>

<div class='talk op-msg' data-timestamp='1517515800' id='597215'>
<a class='timestamp' href='#597215'><time timestamp='2018-02-01T20:10:00Z'>20:10</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I agre,but let&#x27;s not get into bikeshedding about the number of levels
<br>
</div>

<div class='talk op-msg' data-timestamp='1517515860' id='597216'>
<a class='timestamp' href='#597216'><time timestamp='2018-02-01T20:11:00Z'>20:11</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
my concern there is if there are a dozen levels, people will argue over the levels, or worse not argue over them and set them randomly and then I&#x27;ll just have to be debugging everything to avoid inexplicably missing log entries.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517515860' id='597217'>
<a class='timestamp' href='#597217'><time timestamp='2018-02-01T20:11:00Z'>20:11</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
ERROR is clear, INFO/DEBUG can be set depend on chattiness
<br>
</div>

<div class='talk op-msg' data-timestamp='1517515860' id='597218'>
<a class='timestamp' href='#597218'><time timestamp='2018-02-01T20:11:00Z'>20:11</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I don&#x27;t think we need more
<br>
</div>

<div class='talk op-msg' data-timestamp='1517515920' id='597219'>
<a class='timestamp' href='#597219'><time timestamp='2018-02-01T20:12:00Z'>20:12</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
At least my expirence is that I usually want almost everything or nothing.  (basically, everything that isn&#x27;t so chatty that it makes handling the logs a burden)
<br>
</div>

<div class='talk op-msg' data-timestamp='1517515920' id='597220'>
<a class='timestamp' href='#597220'><time timestamp='2018-02-01T20:12:00Z'>20:12</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Yes, thats why I said three. I think three we can handle easily.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517515920' id='597221'>
<a class='timestamp' href='#597221'><time timestamp='2018-02-01T20:12:00Z'>20:12</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I guess one question is about &quot;error&quot;, there are &quot;peer violated the protocol&quot; sorts of errors, and &quot;omg our state is corrupted&quot; sorts of errors.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517515980' id='597222'>
<a class='timestamp' href='#597222'><time timestamp='2018-02-01T20:13:00Z'>20:13</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
ERROR would be potentially dangerous but not fatal errors, maybe WARNING is a better name
<br>
</div>

<div class='talk op-msg' data-timestamp='1517515980' id='597223'>
<a class='timestamp' href='#597223'><time timestamp='2018-02-01T20:13:00Z'>20:13</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
peer violated the protocol is INFO imo
<br>
</div>

<div class='talk op-msg' data-timestamp='1517515980' id='597224'>
<a class='timestamp' href='#597224'><time timestamp='2018-02-01T20:13:00Z'>20:13</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it&#x27;s not dangerous to us
<br>
</div>

<div class='talk op-msg' data-timestamp='1517515980' id='597225'>
<a class='timestamp' href='#597225'><time timestamp='2018-02-01T20:13:00Z'>20:13</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
We might want to adapt our language to call the first things &quot;abnormal&quot; (e.g. info level log, and the log text should not use the word error but perhaps use the word abnormal).
<br>
</div>

<div class='talk op-msg' data-timestamp='1517516040' id='597226'>
<a class='timestamp' href='#597226'><time timestamp='2018-02-01T20:14:00Z'>20:14</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
right
<br>
</div>

<div class='talk op-msg' data-timestamp='1517516100' id='597227'>
<a class='timestamp' href='#597227'><time timestamp='2018-02-01T20:15:00Z'>20:15</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
I&#x27;m switching my testnet seed back on tomorrow unless something really surprising happens.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517516160' id='597228'>
<a class='timestamp' href='#597228'><time timestamp='2018-02-01T20:16:00Z'>20:16</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Or I can do it in 20 minutes if we want rc1 complaints to stop coming in.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517516160' id='597229'>
<a class='timestamp' href='#597229'><time timestamp='2018-02-01T20:16:00Z'>20:16</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
but anyhow, if you come up with a specific combination of categories that would be useful as single -debug= option, I wouldn&#x27;t be against it
<br>
</div>

<div class='talk op-msg' data-timestamp='1517516220' id='597230'>
<a class='timestamp' href='#597230'><time timestamp='2018-02-01T20:17:00Z'>20:17</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
provoostenator: we should just tag r2
<br>
</div>

<div class='talk op-msg' data-timestamp='1517516280' id='597231'>
<a class='timestamp' href='#597231'><time timestamp='2018-02-01T20:18:00Z'>20:18</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
I&#x27;ll know in ~10 minutes whether todays fixex made my crash go away (fairly certain it did).
<br>
</div>

<div class='talk op-msg' data-timestamp='1517516400' id='597232'>
<a class='timestamp' href='#597232'><time timestamp='2018-02-01T20:20:00Z'>20:20</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
wumpus: okay.  Well right now I think all minus leveldb internals is useful, at that seems like what a lot of us are using much of the time.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517516400' id='597233'>
<a class='timestamp' href='#597233'><time timestamp='2018-02-01T20:20:00Z'>20:20</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
gmaxwell: I think it needs a better definition though, something like debug=lowtraffic
<br>
</div>

<div class='talk op-msg' data-timestamp='1517516460' id='597234'>
<a class='timestamp' href='#597234'><time timestamp='2018-02-01T20:21:00Z'>20:21</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
not everythingbutleveldb lol
<br>
</div>

<div class='talk op-msg' data-timestamp='1517516460' id='597235'>
<a class='timestamp' href='#597235'><time timestamp='2018-02-01T20:21:00Z'>20:21</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it also gives guidance for people to add or not categories to that in the future
<br>
</div>

<div class='talk op-msg' data-timestamp='1517516520' id='597236'>
<a class='timestamp' href='#597236'><time timestamp='2018-02-01T20:22:00Z'>20:22</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
or to remove categories once they become noisy
<br>
</div>

<div class='talk op-msg' data-timestamp='1517516520' id='597237'>
<a class='timestamp' href='#597237'><time timestamp='2018-02-01T20:22:00Z'>20:22</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
well net is high traffic but useful, leveldb is high traffic but so far I&#x27;ve not found it useful.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517516520' id='597238'>
<a class='timestamp' href='#597238'><time timestamp='2018-02-01T20:22:00Z'>20:22</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
but what is the rationale of the combination then?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517516520' id='597239'>
<a class='timestamp' href='#597239'><time timestamp='2018-02-01T20:22:00Z'>20:22</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
omit useless chatty things.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517516580' id='597240'>
<a class='timestamp' href='#597240'><time timestamp='2018-02-01T20:23:00Z'>20:23</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
let&#x27;s kill leveldb logging completely if it&#x27;s so useless
<br>
</div>

<div class='talk op-msg' data-timestamp='1517516640' id='597241'>
<a class='timestamp' href='#597241'><time timestamp='2018-02-01T20:24:00Z'>20:24</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
libevent too, probably
<br>
</div>

<div class='talk op-msg' data-timestamp='1517516640' id='597242'>
<a class='timestamp' href='#597242'><time timestamp='2018-02-01T20:24:00Z'>20:24</time></a>
&lt;<span class='nick nick-3'> meshcollider</span>&gt;
it seems my gitian issue lies when it is trying to download zeromq-4.2.2.tar.gz for bitcoincore.org/depends-sources
<br>
</div>

<div class='talk op-msg' data-timestamp='1517516640' id='597243'>
<a class='timestamp' href='#597243'><time timestamp='2018-02-01T20:24:00Z'>20:24</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it can be even more hilariously useless
<br>
</div>

<div class='talk op-msg' data-timestamp='1517516640' id='597244'>
<a class='timestamp' href='#597244'><time timestamp='2018-02-01T20:24:00Z'>20:24</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
It&#x27;s at least of conjectural use e.g. if we were chasing some leveldb internal bug. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1517516700' id='597245'>
<a class='timestamp' href='#597245'><time timestamp='2018-02-01T20:25:00Z'>20:25</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
oh sure it can be useful, esp when adding custom debugging to leveldb to troubleshoot some issue
<br>
</div>

<div class='talk op-msg' data-timestamp='1517516700' id='597246'>
<a class='timestamp' href='#597246'><time timestamp='2018-02-01T20:25:00Z'>20:25</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
that&#x27;s why a bridge exists
<br>
</div>

<div class='talk op-msg' data-timestamp='1517516700' id='597247'>
<a class='timestamp' href='#597247'><time timestamp='2018-02-01T20:25:00Z'>20:25</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
meshcollider: you probably had all other sources already and your lxc is failing to make any net connections
<br>
</div>

<div class='talk op-msg' data-timestamp='1517516700' id='597248'>
<a class='timestamp' href='#597248'><time timestamp='2018-02-01T20:25:00Z'>20:25</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I mean we could also leave the code for the bridge there but remove the logging level.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517516700' id='597249'>
<a class='timestamp' href='#597249'><time timestamp='2018-02-01T20:25:00Z'>20:25</time></a>
&lt;<span class='nick nick-3'> meshcollider</span>&gt;
cfields: that&#x27;s true, was the version of zeromq bumped for 0.16
<br>
</div>

<div class='talk op-msg' data-timestamp='1517516760' id='597250'>
<a class='timestamp' href='#597250'><time timestamp='2018-02-01T20:26:00Z'>20:26</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
believe so
<br>
</div>

<div class='talk op-msg' data-timestamp='1517516760' id='597251'>
<a class='timestamp' href='#597251'><time timestamp='2018-02-01T20:26:00Z'>20:26</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
yes, it was
<br>
</div>

<div class='talk op-msg' data-timestamp='1517516760' id='597252'>
<a class='timestamp' href='#597252'><time timestamp='2018-02-01T20:26:00Z'>20:26</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I opened the conversation basically with the idea of having leveldb (and maybe later other things) being log categories you never get unless you explicitly ask for them.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517516760' id='597253'>
<a class='timestamp' href='#597253'><time timestamp='2018-02-01T20:26:00Z'>20:26</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
maybe libevent would fall into that too.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517516820' id='597254'>
<a class='timestamp' href='#597254'><time timestamp='2018-02-01T20:27:00Z'>20:27</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I&#x27;ve noticed it being useless too but just never had it be chatty enough to bother me.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517516820' id='597255'>
<a class='timestamp' href='#597255'><time timestamp='2018-02-01T20:27:00Z'>20:27</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
so I still think =lowtraffic makes sense
<br>
</div>

<div class='talk op-msg' data-timestamp='1517516820' id='597256'>
<a class='timestamp' href='#597256'><time timestamp='2018-02-01T20:27:00Z'>20:27</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I suppose we could lowtraffic then turn back on net-messages.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517516880' id='597257'>
<a class='timestamp' href='#597257'><time timestamp='2018-02-01T20:28:00Z'>20:28</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(I mean to achieve my normal desired logging config which is basically low traffic things plus net messages)
<br>
</div>

<div class='talk op-msg' data-timestamp='1517516880' id='597258'>
<a class='timestamp' href='#597258'><time timestamp='2018-02-01T20:28:00Z'>20:28</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
we should just include net int hat
<br>
</div>

<div class='talk op-msg' data-timestamp='1517516880' id='597259'>
<a class='timestamp' href='#597259'><time timestamp='2018-02-01T20:28:00Z'>20:28</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I&#x27;m imagining net divided into per-message logging and the rest (e.g. connections)
<br>
</div>

<div class='talk op-msg' data-timestamp='1517516880' id='597260'>
<a class='timestamp' href='#597260'><time timestamp='2018-02-01T20:28:00Z'>20:28</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
with the future remark that if there is a low-traffic net category, that should be in instead
<br>
</div>

<div class='talk op-msg' data-timestamp='1517516880' id='597261'>
<a class='timestamp' href='#597261'><time timestamp='2018-02-01T20:28:00Z'>20:28</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
right
<br>
</div>

<div class='talk op-msg' data-timestamp='1517516940' id='597262'>
<a class='timestamp' href='#597262'><time timestamp='2018-02-01T20:29:00Z'>20:29</time></a>
&lt;<span class='nick nick-3'> meshcollider</span>&gt;
cfields: yep you&#x27;re right, it works fine if I make the depends directory beforehand, the new zeromq downloaded successfully 
<br>
</div>

<div class='talk op-msg' data-timestamp='1517516940' id='597263'>
<a class='timestamp' href='#597263'><time timestamp='2018-02-01T20:29:00Z'>20:29</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
great
<br>
</div>

<div class='talk op-msg' data-timestamp='1517516940' id='597264'>
<a class='timestamp' href='#597264'><time timestamp='2018-02-01T20:29:00Z'>20:29</time></a>
&lt;<span class='nick nick-3'> meshcollider</span>&gt;
cfields: thanks :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1517516940' id='597265'>
<a class='timestamp' href='#597265'><time timestamp='2018-02-01T20:29:00Z'>20:29</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
np     
<br>
</div>

<div class='talk op-msg' data-timestamp='1517517000' id='597266'>
<a class='timestamp' href='#597266'><time timestamp='2018-02-01T20:30:00Z'>20:30</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Another thing to think about is the performance impacts of logging, some of our logs cause computation that is probably pretty bad for performance.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517517120' id='597267'>
<a class='timestamp' href='#597267'><time timestamp='2018-02-01T20:32:00Z'>20:32</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I think that&#x27;s true for libevent and leveldb logging too, they require a special enabling flag, which causes those libraries to send the messages at all
<br>
</div>

<div class='talk op-msg' data-timestamp='1517517180' id='597268'>
<a class='timestamp' href='#597268'><time timestamp='2018-02-01T20:33:00Z'>20:33</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
gmaxwell: that&#x27;d only be problematic for high-volume messages, I&#x27;m sure e.g. computing the BENCH messages takes some cycles, but they only happen once per block
<br>
</div>

<div class='talk op-msg' data-timestamp='1517517240' id='597269'>
<a class='timestamp' href='#597269'><time timestamp='2018-02-01T20:34:00Z'>20:34</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
and in the total validation tme that&#x27;s probably neglible
<br>
</div>

<div class='talk op-msg' data-timestamp='1517517240' id='597270'>
<a class='timestamp' href='#597270'><time timestamp='2018-02-01T20:34:00Z'>20:34</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
The leveldb stuff looks kind of expensive.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517517240' id='597271'>
<a class='timestamp' href='#597271'><time timestamp='2018-02-01T20:34:00Z'>20:34</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I don&#x27;t think we have low-traffic messages that take significant computation
<br>
</div>

<div class='talk op-msg' data-timestamp='1517517300' id='597272'>
<a class='timestamp' href='#597272'><time timestamp='2018-02-01T20:35:00Z'>20:35</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
And I recall that there were some moderate traffic messages that did stuff like an extra iteration over all inputs in transactions or something.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517517300' id='597273'>
<a class='timestamp' href='#597273'><time timestamp='2018-02-01T20:35:00Z'>20:35</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
for high traffic, yes, I woudln&#x27;t be surprised if the net logging slowed some things down
<br>
</div>

<div class='talk op-msg' data-timestamp='1517517300' id='597274'>
<a class='timestamp' href='#597274'><time timestamp='2018-02-01T20:35:00Z'>20:35</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
if you have to write a message for every incoming packet to a file, it becomes disk bound
<br>
</div>

<div class='talk op-msg' data-timestamp='1517517360' id='597275'>
<a class='timestamp' href='#597275'><time timestamp='2018-02-01T20:36:00Z'>20:36</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
oh I didn&#x27;t know that
<br>
</div>

<div class='talk op-msg' data-timestamp='1517517540' id='597276'>
<a class='timestamp' href='#597276'><time timestamp='2018-02-01T20:39:00Z'>20:39</time></a>
&lt;<span class='nick nick-9'> zelest</span>&gt;
sorry for asking in here, but I did some quick googling and it seems like OneFixt is known in here? May I ask who he/she is? :o
<br>
</div>

<div class='talk op-msg' data-timestamp='1517517600' id='597277'>
<a class='timestamp' href='#597277'><time timestamp='2018-02-01T20:40:00Z'>20:40</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
can we have some review on #12329 please, I&#x27;d like to tag rc2 before I go to bed
<br>
</div>

<div class='talk op-msg' data-timestamp='1517517600' id='597278'>
<a class='timestamp' href='#597278'><time timestamp='2018-02-01T20:40:00Z'>20:40</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/12329" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/12329</a> | net: dont retry failed oneshot connections forever by theuni · Pull Request #12329 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1517518200' id='597279'>
<a class='timestamp' href='#597279'><time timestamp='2018-02-01T20:50:00Z'>20:50</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
and that&#x27;s the last one
<br>
</div>

<div class='talk op-msg' data-timestamp='1517521860' id='597280'>
<a class='timestamp' href='#597280'><time timestamp='2018-02-01T21:51:00Z'>21:51</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
oops, seems i accidentally left this channel and forgot about the meeting as well
<br>
</div>

<div class='talk op-msg' data-timestamp='1517523180' id='597281'>
<a class='timestamp' href='#597281'><time timestamp='2018-02-01T22:13:00Z'>22:13</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
sipa: there was discussion of how to handle Segwit-back-to-the-start type stuff, and I thought perhaps it would be better as an annex to the Segwit BIP(s) rather than an entirely new BIP (making 2 BIPs for each fork); would you be okay with that, as an author of the BIP in question?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517523360' id='597282'>
<a class='timestamp' href='#597282'><time timestamp='2018-02-01T22:16:00Z'>22:16</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
and then you&#x27;re gonna add (hardfork) to the segwit bips and collect your cheque from Ver? :P
<br>
</div>

<div class='talk op-msg' data-timestamp='1517523420' id='597283'>
<a class='timestamp' href='#597283'><time timestamp='2018-02-01T22:17:00Z'>22:17</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
re logging - we already have an alias -debug=all which aliases to -debug=1 (~0). Doesn&#x27;t seem like to much of a stretch to add a new alias debug=gmax* which aliases to all the categories that greg wants to see (*name TBD)
<br>
</div>

<div class='talk op-msg' data-timestamp='1517523480' id='597284'>
<a class='timestamp' href='#597284'><time timestamp='2018-02-01T22:18:00Z'>22:18</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
perhaps -debug=standard , -debug=default, -debug=...
<br>
</div>

<div class='talk op-msg' data-timestamp='1517523480' id='597285'>
<a class='timestamp' href='#597285'><time timestamp='2018-02-01T22:18:00Z'>22:18</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
I also agree that logging should log to a circular buffer in memory and then have a background thread flushing to disk. I bet there are plenty of places where we&#x27;re logging to disk while holding cs_main for example
<br>
</div>

<div class='talk op-msg' data-timestamp='1517523660' id='597286'>
<a class='timestamp' href='#597286'><time timestamp='2018-02-01T22:21:00Z'>22:21</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
(in fact I started implementing that a few months ago, but never finished)
<br>
</div>

<div class='talk op-msg' data-timestamp='1517523720' id='597287'>
<a class='timestamp' href='#597287'><time timestamp='2018-02-01T22:22:00Z'>22:22</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I&#x27;d like to get to a state where our logs by default can log virutally nothing, and on fault we can dump a good amount of context.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517523840' id='597288'>
<a class='timestamp' href='#597288'><time timestamp='2018-02-01T22:24:00Z'>22:24</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
this also would address a lot of privacy concerns, where we avoid logging detailed data that would make node logs attractive for trying to trace transactions.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517523840' id='597289'>
<a class='timestamp' href='#597289'><time timestamp='2018-02-01T22:24:00Z'>22:24</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
gmaxwell: as an annex, it&#x27;s clearer to consider it an implementation detail ;)
<br>
</div>

<div class='talk op-msg' data-timestamp='1517523840' id='597290'>
<a class='timestamp' href='#597290'><time timestamp='2018-02-01T22:24:00Z'>22:24</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
ie, &quot;you can tighten the rules using method A or method B, and the outcome is the same&quot;
<br>
</div>

</div>
</section>

</body>
</html>
