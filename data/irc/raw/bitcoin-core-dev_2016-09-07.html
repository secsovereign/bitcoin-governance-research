<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2016-09-07
 â€” 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2016-09-07' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:26 UTC</pre>
<pre><a href="/bitcoin-core-dev/2016-08-07">&lt;</a><span class='header'>  September 2016  </span><a href="/bitcoin-core-dev/2016-10-07">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;             <a class="" href="/bitcoin-core-dev/2016-09-01">1</a>  <a class="" href="/bitcoin-core-dev/2016-09-02">2</a>  <a class="" href="/bitcoin-core-dev/2016-09-03">3</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2016-09-04">4</a>  <a class="" href="/bitcoin-core-dev/2016-09-05">5</a>  <a class="" href="/bitcoin-core-dev/2016-09-06">6</a>  <a class="current" href="/bitcoin-core-dev/2016-09-07">7</a>  <a class="" href="/bitcoin-core-dev/2016-09-08">8</a>  <a class="" href="/bitcoin-core-dev/2016-09-09">9</a> <a class="" href="/bitcoin-core-dev/2016-09-10">10</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2016-09-11">11</a> <a class="" href="/bitcoin-core-dev/2016-09-12">12</a> <a class="" href="/bitcoin-core-dev/2016-09-13">13</a> <a class="" href="/bitcoin-core-dev/2016-09-14">14</a> <a class="" href="/bitcoin-core-dev/2016-09-15">15</a> <a class="" href="/bitcoin-core-dev/2016-09-16">16</a> <a class="" href="/bitcoin-core-dev/2016-09-17">17</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2016-09-18">18</a> <a class="" href="/bitcoin-core-dev/2016-09-19">19</a> <a class="" href="/bitcoin-core-dev/2016-09-20">20</a> <a class="" href="/bitcoin-core-dev/2016-09-21">21</a> <a class="" href="/bitcoin-core-dev/2016-09-22">22</a> <a class="" href="/bitcoin-core-dev/2016-09-23">23</a> <a class="" href="/bitcoin-core-dev/2016-09-24">24</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2016-09-25">25</a> <a class="" href="/bitcoin-core-dev/2016-09-26">26</a> <a class="" href="/bitcoin-core-dev/2016-09-27">27</a> <a class="" href="/bitcoin-core-dev/2016-09-28">28</a> <a class="" href="/bitcoin-core-dev/2016-09-29">29</a> <a class="" href="/bitcoin-core-dev/2016-09-30">30</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1473214080' id='491699'>
<a class='timestamp' href='#491699'><time timestamp='2016-09-07T02:08:00Z'>02:08</time></a>
&lt;<span class='nick nick-12'> GitHub16</span>&gt;
[bitcoin] isle2983 opened pull request #8674: tools for analyzing, updating and adding copyright headers in souce files (master...copyright-scripts) <a href="https://github.com/bitcoin/bitcoin/pull/8674" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8674</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1473214260' id='491700'>
<a class='timestamp' href='#491700'><time timestamp='2016-09-07T02:11:00Z'>02:11</time></a>
&lt;<span class='nick nick-13'> GitHub51</span>&gt;
[bitcoin] isle2983 opened pull request #8675: Make copyright header lines uniform (master...copyright-made-uniform) <a href="https://github.com/bitcoin/bitcoin/pull/8675" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8675</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1473214560' id='491701'>
<a class='timestamp' href='#491701'><time timestamp='2016-09-07T02:16:00Z'>02:16</time></a>
&lt;<span class='nick nick-15'> GitHub38</span>&gt;
[bitcoin] isle2983 opened pull request #8676: Add missing copyright headers (master...missing-copyright) <a href="https://github.com/bitcoin/bitcoin/pull/8676" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8676</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1473237060' id='491702'>
<a class='timestamp' href='#491702'><time timestamp='2016-09-07T08:31:00Z'>08:31</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Perhaps some release advice for us, <a href="https://blogs.msdn.microsoft.com/oldnewthing/20160906-00/?p=94255" class="link" target="_blank">https://blogs.msdn.microsoft.com/oldnewthing/20160906-00/?p=94255</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1473237300' id='491703'>
<a class='timestamp' href='#491703'><time timestamp='2016-09-07T08:35:00Z'>08:35</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
gmaxwell: so we need to have a backdrop wallpaper in Qt: :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1473237300' id='491704'>
<a class='timestamp' href='#491704'><time timestamp='2016-09-07T08:35:00Z'>08:35</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
But besides that, I think different splash screens between major versions would indeed be good
<br>
</div>

<div class='talk op-msg' data-timestamp='1473237360' id='491705'>
<a class='timestamp' href='#491705'><time timestamp='2016-09-07T08:36:00Z'>08:36</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Not sure how to adapt this to bitcoind though, :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1473237420' id='491706'>
<a class='timestamp' href='#491706'><time timestamp='2016-09-07T08:37:00Z'>08:37</time></a>
&lt;<span class='nick nick-7'> Yogh</span>&gt;
print a hot original welcome message when starting the daemon?
<br>
</div>

<div class='talk op-msg' data-timestamp='1473237420' id='491707'>
<a class='timestamp' href='#491707'><time timestamp='2016-09-07T08:37:00Z'>08:37</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
just the general principle that if the chrome doesn&#x27;t change many people will assume not much has changed.
<br>
</div>

<div class='talk op-msg' data-timestamp='1473246600' id='491708'>
<a class='timestamp' href='#491708'><time timestamp='2016-09-07T11:10:00Z'>11:10</time></a>
&lt;<span class='nick nick-7'> GitHub123</span>&gt;
[bitcoin] sipa pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/8ea44405e76f...e2a1a1ee8951" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/8ea44405e76f...e2a1a1ee8951</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1473246600' id='491709'>
<a class='timestamp' href='#491709'><time timestamp='2016-09-07T11:10:00Z'>11:10</time></a>
&lt;<span class='nick nick-7'> GitHub123</span>&gt;
bitcoin/master 144ed76 Pieter Wuille: Fix some locks...
<br>
</div>

<div class='talk op-msg' data-timestamp='1473246600' id='491710'>
<a class='timestamp' href='#491710'><time timestamp='2016-09-07T11:10:00Z'>11:10</time></a>
&lt;<span class='nick nick-7'> GitHub123</span>&gt;
bitcoin/master e2a1a1e Pieter Wuille: Merge #8606: Fix some locks...
<br>
</div>

<div class='talk op-msg' data-timestamp='1473246600' id='491711'>
<a class='timestamp' href='#491711'><time timestamp='2016-09-07T11:10:00Z'>11:10</time></a>
&lt;<span class='nick nick-14'> GitHub69</span>&gt;
[bitcoin] sipa closed pull request #8606: Fix some locks (master...lockfix) <a href="https://github.com/bitcoin/bitcoin/pull/8606" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8606</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1473247200' id='491712'>
<a class='timestamp' href='#491712'><time timestamp='2016-09-07T11:20:00Z'>11:20</time></a>
&lt;<span class='nick nick-1'> GitHub6</span>&gt;
[bitcoin] sipa pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/e2a1a1ee8951...5b2ea29cf4fd" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/e2a1a1ee8951...5b2ea29cf4fd</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1473247200' id='491713'>
<a class='timestamp' href='#491713'><time timestamp='2016-09-07T11:20:00Z'>11:20</time></a>
&lt;<span class='nick nick-1'> GitHub6</span>&gt;
bitcoin/master eb3596f Gregory Maxwell: Do not add random inbound peers to addrman....
<br>
</div>

<div class='talk op-msg' data-timestamp='1473247200' id='491714'>
<a class='timestamp' href='#491714'><time timestamp='2016-09-07T11:20:00Z'>11:20</time></a>
&lt;<span class='nick nick-1'> GitHub6</span>&gt;
bitcoin/master 5b2ea29 Pieter Wuille: Merge #8594: Do not add random inbound peers to addrman....
<br>
</div>

<div class='talk op-msg' data-timestamp='1473247200' id='491715'>
<a class='timestamp' href='#491715'><time timestamp='2016-09-07T11:20:00Z'>11:20</time></a>
&lt;<span class='nick nick-9'> GitHub39</span>&gt;
[bitcoin] sipa closed pull request #8594: Do not add random inbound peers to addrman. (master...no_inbound_addr) <a href="https://github.com/bitcoin/bitcoin/pull/8594" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8594</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1473249240' id='491716'>
<a class='timestamp' href='#491716'><time timestamp='2016-09-07T11:54:00Z'>11:54</time></a>
&lt;<span class='nick nick-9'> GitHub136</span>&gt;
[bitcoin] paveljanik opened pull request #8677: Do not shadow upper local variable &#x27;send&#x27;, prevent -Wshadow compiler warning. (master...20160907_Wshadow_8606) <a href="https://github.com/bitcoin/bitcoin/pull/8677" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8677</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1473257160' id='491717'>
<a class='timestamp' href='#491717'><time timestamp='2016-09-07T14:06:00Z'>14:06</time></a>
&lt;<span class='nick nick-1'> OxADADA</span>&gt;
sup
<br>
</div>

<div class='talk op-msg' data-timestamp='1473257280' id='491718'>
<a class='timestamp' href='#491718'><time timestamp='2016-09-07T14:08:00Z'>14:08</time></a>
&lt;<span class='nick nick-12'> GitHub150</span>&gt;
[bitcoin] jonasschnelli opened pull request #8678: [Qt][CoinControl] fix UI bug that could result in paying unexpected fee (master...2016/09/qt_cc_ui_radrio_fix) <a href="https://github.com/bitcoin/bitcoin/pull/8678" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8678</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1473259620' id='491719'>
<a class='timestamp' href='#491719'><time timestamp='2016-09-07T14:47:00Z'>14:47</time></a>
&lt;<span class='nick nick-15'> GitHub71</span>&gt;
[bitcoin] sipa opened pull request #8679: [0.13] Various backports (0.13...backports_0.13) <a href="https://github.com/bitcoin/bitcoin/pull/8679" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8679</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1473267360' id='491720'>
<a class='timestamp' href='#491720'><time timestamp='2016-09-07T16:56:00Z'>16:56</time></a>
&lt;<span class='nick nick-4'> skyraider</span>&gt;
trying to make setup.py install find a package with wheels-only (no sdist) archives on pypi. pythonwheels.com claims setuptools supports wheels, but <a href="https://github.com/pypa/setuptools/issues/558" class="link" target="_blank">https://github.com/pypa/setuptools/issues/558</a> claims setuptools does not support wheels. i&#x27;m running into &quot;No local packages or working download links found for mypackage==myversion&quot;.
<br>
</div>

<div class='talk op-msg' data-timestamp='1473267360' id='491721'>
<a class='timestamp' href='#491721'><time timestamp='2016-09-07T16:56:00Z'>16:56</time></a>
&lt;<span class='nick nick-4'> skyraider</span>&gt;
wrong channel, disregard.
<br>
</div>

<div class='talk op-msg' data-timestamp='1473268980' id='491722'>
<a class='timestamp' href='#491722'><time timestamp='2016-09-07T17:23:00Z'>17:23</time></a>
&lt;<span class='nick nick-9'> GitHub157</span>&gt;
[bitcoin] theuni opened pull request #8680: Address Travis spurious failures (master...rpc-waitforblock) <a href="https://github.com/bitcoin/bitcoin/pull/8680" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8680</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1473269160' id='491723'>
<a class='timestamp' href='#491723'><time timestamp='2016-09-07T17:26:00Z'>17:26</time></a>
&lt;<span class='nick nick-8'> GitHub23</span>&gt;
[bitcoin] MarcoFalke closed pull request #8644: [0.13 backport] Check for compatibility with download in FindNextBlocksToDownload (0.13...findnext_backport) <a href="https://github.com/bitcoin/bitcoin/pull/8644" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8644</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1473269820' id='491724'>
<a class='timestamp' href='#491724'><time timestamp='2016-09-07T17:37:00Z'>17:37</time></a>
&lt;<span class='nick nick-4'> GitHub1</span>&gt;
[bitcoin] MarcoFalke pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/5b2ea29cf4fd...ec139a5621a9" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/5b2ea29cf4fd...ec139a5621a9</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1473269820' id='491725'>
<a class='timestamp' href='#491725'><time timestamp='2016-09-07T17:37:00Z'>17:37</time></a>
&lt;<span class='nick nick-4'> GitHub1</span>&gt;
bitcoin/master 426e7bc Jeremy Rubin: Fix obvious assignment/equality error in test
<br>
</div>

<div class='talk op-msg' data-timestamp='1473269820' id='491726'>
<a class='timestamp' href='#491726'><time timestamp='2016-09-07T17:37:00Z'>17:37</time></a>
&lt;<span class='nick nick-4'> GitHub1</span>&gt;
bitcoin/master ec139a5 MarcoFalke: Merge #8673: Trivial: Fix obvious assignment/equality error in test...
<br>
</div>

<div class='talk op-msg' data-timestamp='1473269820' id='491727'>
<a class='timestamp' href='#491727'><time timestamp='2016-09-07T17:37:00Z'>17:37</time></a>
&lt;<span class='nick nick-15'> GitHub128</span>&gt;
[bitcoin] MarcoFalke closed pull request #8673: Trivial: Fix obvious assignment/equality error in test (master...fix_arith_tests_trivial) <a href="https://github.com/bitcoin/bitcoin/pull/8673" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8673</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1473272100' id='491728'>
<a class='timestamp' href='#491728'><time timestamp='2016-09-07T18:15:00Z'>18:15</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
    MarcoFalke oops, i missed you already had a backport
<br>
</div>

<div class='talk op-msg' data-timestamp='1473276300' id='491729'>
<a class='timestamp' href='#491729'><time timestamp='2016-09-07T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
sipa: i&#x27;m trying to dive back into things now, and picking up the benchmarking for speeding up ConnectBlock to try and help jeremyrubin&#x27;s stuff get finalized.  It appears that connecting transactions slowed down somewhat significantly in master.  I think this is due to 8524.
<br>
</div>

<div class='talk op-msg' data-timestamp='1473276300' id='491730'>
<a class='timestamp' href='#491730'><time timestamp='2016-09-07T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
For now those hash calculations are just extraneous, but even post segwit, i think the effect is you&#x27;ve moved the hashing from something thats parallelized to something thats not
<br>
</div>

<div class='talk op-msg' data-timestamp='1473276360' id='491731'>
<a class='timestamp' href='#491731'><time timestamp='2016-09-07T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
the benefit of solving the O(n^2) problem dominates of course in the worst case, but in the typical case, i think this is maybe a slowdown we&#x27;d like to avoid
<br>
</div>

<div class='talk op-msg' data-timestamp='1473276420' id='491732'>
<a class='timestamp' href='#491732'><time timestamp='2016-09-07T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
just wondering if you&#x27;d thought about any of this, or whether it makes sense to store these hashes from ATMP?
<br>
</div>

<div class='talk op-msg' data-timestamp='1473276480' id='491733'>
<a class='timestamp' href='#491733'><time timestamp='2016-09-07T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
morcos: i&#x27;m perfectly fine with moving the hashing to a more parallellizable place
<br>
</div>

<div class='talk op-msg' data-timestamp='1473276540' id='491734'>
<a class='timestamp' href='#491734'><time timestamp='2016-09-07T19:29:00Z'>19:29</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Why was it parallel before but not now?  I don&#x27;t think we care if there is parallel hashing within a single transaction (that seems too fine grained to me), so long as multiple transactions could run in parallel?
<br>
</div>

<div class='talk op-msg' data-timestamp='1473276540' id='491735'>
<a class='timestamp' href='#491735'><time timestamp='2016-09-07T19:29:00Z'>19:29</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
all sighash precalc now runs in the main thread
<br>
</div>

<div class='talk op-msg' data-timestamp='1473276540' id='491736'>
<a class='timestamp' href='#491736'><time timestamp='2016-09-07T19:29:00Z'>19:29</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
its tricky to parallelize because then you need to synchronize a cache for them right... which is what you were trying to avoid
<br>
</div>

<div class='talk op-msg' data-timestamp='1473276600' id='491737'>
<a class='timestamp' href='#491737'><time timestamp='2016-09-07T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
but the cache need not be shared across transactions
<br>
</div>

<div class='talk op-msg' data-timestamp='1473276600' id='491738'>
<a class='timestamp' href='#491738'><time timestamp='2016-09-07T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
gmaxwell: yeah what sipa said, the main thread which is connecting the transactions going to end up being the bottle neck,  not sure how many script verification cores are required for that to be the case, but its good to not push more and more stuff into that 
<br>
</div>

<div class='talk op-msg' data-timestamp='1473276660' id='491739'>
<a class='timestamp' href='#491739'><time timestamp='2016-09-07T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
though it does run simultaneously with other transactions&#x27; normal signature checks
<br>
</div>

<div class='talk op-msg' data-timestamp='1473276660' id='491740'>
<a class='timestamp' href='#491740'><time timestamp='2016-09-07T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
perhaps there is a design that puts all scriptchecks from a single tx onto a single thread
<br>
</div>

<div class='talk op-msg' data-timestamp='1473276660' id='491741'>
<a class='timestamp' href='#491741'><time timestamp='2016-09-07T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but yes, for the average case, moving more into the main thread is not good
<br>
</div>

<div class='talk op-msg' data-timestamp='1473276720' id='491742'>
<a class='timestamp' href='#491742'><time timestamp='2016-09-07T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
but that breaks down for a really big tx
<br>
</div>

<div class='talk op-msg' data-timestamp='1473276720' id='491743'>
<a class='timestamp' href='#491743'><time timestamp='2016-09-07T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
ah, main thread. but .. yes, I think you should keep the scriptchecks for a single transaction togeather, process them as a group, and share the hashing along with them.  ... it wouldn&#x27;t exploit parallelism for big transactions, but I don&#x27;t know if thats really needed.
<br>
</div>

<div class='talk op-msg' data-timestamp='1473276840' id='491744'>
<a class='timestamp' href='#491744'><time timestamp='2016-09-07T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
i think maybe if you can estimate by #inputs or something
<br>
</div>

<div class='talk op-msg' data-timestamp='1473276840' id='491745'>
<a class='timestamp' href='#491745'><time timestamp='2016-09-07T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
and split it if too big
<br>
</div>

<div class='talk op-msg' data-timestamp='1473276840' id='491746'>
<a class='timestamp' href='#491746'><time timestamp='2016-09-07T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
but you won&#x27;t be parallel if you have, say, one big txn
<br>
</div>

<div class='talk op-msg' data-timestamp='1473276840' id='491747'>
<a class='timestamp' href='#491747'><time timestamp='2016-09-07T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
previously the dispatch overhead made that irrelevant-- but perhaps with jeremyrubin&#x27;s work the overhead is low enough to make that kind of parallelism useful for something.
<br>
</div>

<div class='talk op-msg' data-timestamp='1473276960' id='491748'>
<a class='timestamp' href='#491748'><time timestamp='2016-09-07T19:36:00Z'>19:36</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
so what are your thoughts on caching the hashes for a tx in AcceptToMemoryPool and then the main thread can still check that first before calculating them itself, so maybe that would be pretty fast
<br>
</div>

<div class='talk op-msg' data-timestamp='1473277020' id='491749'>
<a class='timestamp' href='#491749'><time timestamp='2016-09-07T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
would need only simple synchronization on that b/c its only accessed by ATMP and the main thread
<br>
</div>

<div class='talk op-msg' data-timestamp='1473277020' id='491750'>
<a class='timestamp' href='#491750'><time timestamp='2016-09-07T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
What about using some kind of atomic future for the hashes
<br>
</div>

<div class='talk op-msg' data-timestamp='1473277020' id='491751'>
<a class='timestamp' href='#491751'><time timestamp='2016-09-07T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
First script check to get there evaluates it and fills it in?
<br>
</div>

<div class='talk op-msg' data-timestamp='1473277020' id='491752'>
<a class='timestamp' href='#491752'><time timestamp='2016-09-07T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
uh the cacheline bouncing, it hurts.
<br>
</div>

<div class='talk op-msg' data-timestamp='1473277080' id='491753'>
<a class='timestamp' href='#491753'><time timestamp='2016-09-07T19:38:00Z'>19:38</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
morcos: similar to how we have the transaction id hash just calculated once (hopefully) and carried around with the transaction?
<br>
</div>

<div class='talk op-msg' data-timestamp='1473277080' id='491754'>
<a class='timestamp' href='#491754'><time timestamp='2016-09-07T19:38:00Z'>19:38</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
Well...
<br>
</div>

<div class='talk op-msg' data-timestamp='1473277080' id='491755'>
<a class='timestamp' href='#491755'><time timestamp='2016-09-07T19:38:00Z'>19:38</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
actually not that bad
<br>
</div>

<div class='talk op-msg' data-timestamp='1473277080' id='491756'>
<a class='timestamp' href='#491756'><time timestamp='2016-09-07T19:38:00Z'>19:38</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
MESI state only causes invalidation on write
<br>
</div>

<div class='talk op-msg' data-timestamp='1473277080' id='491757'>
<a class='timestamp' href='#491757'><time timestamp='2016-09-07T19:38:00Z'>19:38</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
which happens once
<br>
</div>

<div class='talk op-msg' data-timestamp='1473277080' id='491758'>
<a class='timestamp' href='#491758'><time timestamp='2016-09-07T19:38:00Z'>19:38</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
there is no actual meaningful concurrency here, however.
<br>
</div>

<div class='talk op-msg' data-timestamp='1473277140' id='491759'>
<a class='timestamp' href='#491759'><time timestamp='2016-09-07T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
only false concurency created by logistics.  (to the extent this hashing is done multiple times, it&#x27;s only because its being done redundantly)
<br>
</div>

<div class='talk op-msg' data-timestamp='1473277260' id='491760'>
<a class='timestamp' href='#491760'><time timestamp='2016-09-07T19:41:00Z'>19:41</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
morcos: or store validation flags in the mempool and assume valid if the same flags are still in effect ...
<br>
</div>

<div class='talk op-msg' data-timestamp='1473277260' id='491761'>
<a class='timestamp' href='#491761'><time timestamp='2016-09-07T19:41:00Z'>19:41</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
gmaxwell: gah
<br>
</div>

<div class='talk op-msg' data-timestamp='1473277260' id='491762'>
<a class='timestamp' href='#491762'><time timestamp='2016-09-07T19:41:00Z'>19:41</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
gmaxwell: ha, the validation cache, that scares me!
<br>
</div>

<div class='talk op-msg' data-timestamp='1473277320' id='491763'>
<a class='timestamp' href='#491763'><time timestamp='2016-09-07T19:42:00Z'>19:42</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
but yeah i think easy enough to just store the hashes
<br>
</div>

<div class='talk op-msg' data-timestamp='1473277500' id='491764'>
<a class='timestamp' href='#491764'><time timestamp='2016-09-07T19:45:00Z'>19:45</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
ok, well not an emergency, just wanted to see what thoughts you guys had, will circle back when we have a proposed change
<br>
</div>

<div class='talk op-msg' data-timestamp='1473279660' id='491765'>
<a class='timestamp' href='#491765'><time timestamp='2016-09-07T20:21:00Z'>20:21</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
jeremyrubin: With your new pull request (#8670), are you suggesting writing a new testing framework specific to bitcoin from scratch?
<br>
</div>

<div class='talk op-msg' data-timestamp='1473280560' id='491766'>
<a class='timestamp' href='#491766'><time timestamp='2016-09-07T20:36:00Z'>20:36</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
The content of the tests will not change, just the runner. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1473280560' id='491767'>
<a class='timestamp' href='#491767'><time timestamp='2016-09-07T20:36:00Z'>20:36</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
Chris_Stewart_5: ^^
<br>
</div>

<div class='talk op-msg' data-timestamp='1473285240' id='491768'>
<a class='timestamp' href='#491768'><time timestamp='2016-09-07T21:54:00Z'>21:54</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jeremyrubin: feature request: a command line argument to make the binary crash on test failure
<br>
</div>

<div class='talk op-msg' data-timestamp='1473285240' id='491769'>
<a class='timestamp' href='#491769'><time timestamp='2016-09-07T21:54:00Z'>21:54</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
so a core dump file gets created
<br>
</div>

<div class='talk op-msg' data-timestamp='1473285420' id='491770'>
<a class='timestamp' href='#491770'><time timestamp='2016-09-07T21:57:00Z'>21:57</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
sipa: please put in the issue to keep it catalouged 
<br>
</div>

<div class='talk op-msg' data-timestamp='1473285420' id='491771'>
<a class='timestamp' href='#491771'><time timestamp='2016-09-07T21:57:00Z'>21:57</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
but good suggestion; I was trying to get core dumps on travis for a while and couldn&#x27;t
<br>
</div>

<div class='talk op-msg' data-timestamp='1473286080' id='491772'>
<a class='timestamp' href='#491772'><time timestamp='2016-09-07T22:08:00Z'>22:08</time></a>
&lt;<span class='nick nick-4'> kanzure</span>&gt;
what were you trying? the after_failure stuff wasn&#x27;t working for you or something? or it did work, but couldn&#x27;t find the actual core dumps, and therefore couldn&#x27;t upload those somewhere?
<br>
</div>

<div class='talk op-msg' data-timestamp='1473286080' id='491773'>
<a class='timestamp' href='#491773'><time timestamp='2016-09-07T22:08:00Z'>22:08</time></a>
&lt;<span class='nick nick-4'> kanzure</span>&gt;
btw i also think running gdb bt might be good enough in after_failure
<br>
</div>

<div class='talk op-msg' data-timestamp='1473286080' id='491774'>
<a class='timestamp' href='#491774'><time timestamp='2016-09-07T22:08:00Z'>22:08</time></a>
&lt;<span class='nick nick-4'> kanzure</span>&gt;
perhaps once for each core dump too
<br>
</div>

<div class='talk op-msg' data-timestamp='1473286320' id='491775'>
<a class='timestamp' href='#491775'><time timestamp='2016-09-07T22:12:00Z'>22:12</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jeremyrubin: agree, will report on issur
<br>
</div>

<div class='talk op-msg' data-timestamp='1473286500' id='491776'>
<a class='timestamp' href='#491776'><time timestamp='2016-09-07T22:15:00Z'>22:15</time></a>
&lt;<span class='nick nick-4'> kanzure</span>&gt;
jeremyrubin: for 8670 perhaps the silly xml outputs should be considered, and (separately) compatibility with mutation testing.
<br>
</div>

<div class='talk op-msg' data-timestamp='1473286680' id='491777'>
<a class='timestamp' href='#491777'><time timestamp='2016-09-07T22:18:00Z'>22:18</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
kanzure: how about jsons the kids like those these days
<br>
</div>

<div class='talk op-msg' data-timestamp='1473286740' id='491778'>
<a class='timestamp' href='#491778'><time timestamp='2016-09-07T22:19:00Z'>22:19</time></a>
&lt;<span class='nick nick-16'> * BlueMatt</span>&gt;
stabs kanzure 
<br>
</div>

<div class='talk op-msg' data-timestamp='1473286740' id='491779'>
<a class='timestamp' href='#491779'><time timestamp='2016-09-07T22:19:00Z'>22:19</time></a>
&lt;<span class='nick nick-4'> kanzure</span>&gt;
yeah but i forget the name of the json test output &#x27;standard&#x27;/format
<br>
</div>

<div class='talk op-msg' data-timestamp='1473286800' id='491780'>
<a class='timestamp' href='#491780'><time timestamp='2016-09-07T22:20:00Z'>22:20</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
kanzure: how about the first personw ho needs that can implement it
<br>
</div>

<div class='talk op-msg' data-timestamp='1473286800' id='491781'>
<a class='timestamp' href='#491781'><time timestamp='2016-09-07T22:20:00Z'>22:20</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
ugh
<br>
</div>

<div class='talk op-msg' data-timestamp='1473286800' id='491782'>
<a class='timestamp' href='#491782'><time timestamp='2016-09-07T22:20:00Z'>22:20</time></a>
&lt;<span class='nick nick-4'> kanzure</span>&gt;
BlueMatt: the issuetext is asking for 
<br>
</div>

<div class='talk op-msg' data-timestamp='1473286800' id='491783'>
<a class='timestamp' href='#491783'><time timestamp='2016-09-07T22:20:00Z'>22:20</time></a>
&lt;<span class='nick nick-4'> kanzure</span>&gt;
ok whatever. i don&#x27;t care.
<br>
</div>

<div class='talk op-msg' data-timestamp='1473286860' id='491784'>
<a class='timestamp' href='#491784'><time timestamp='2016-09-07T22:21:00Z'>22:21</time></a>
&lt;<span class='nick nick-4'> kanzure</span>&gt;
it would be more efficient to complain about the issue text in particular in the future :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1473286860' id='491785'>
<a class='timestamp' href='#491785'><time timestamp='2016-09-07T22:21:00Z'>22:21</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1473288480' id='491786'>
<a class='timestamp' href='#491786'><time timestamp='2016-09-07T22:48:00Z'>22:48</time></a>
&lt;<span class='nick nick-9'> veleiro</span>&gt;
Im trying to build v0.13.0 from source on a beaglebone black with debian jessie, i had to compile db4.8 from source but i installed libboost-all-dev, but in the ./configure stage the error i see is &quot;configure: error: No working boost sleep implementation found.&quot; I went through <a href="https://github.com/bitcoin/bitcoin/issues/3003" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/3003</a> with no success
<br>
</div>

<div class='talk op-msg' data-timestamp='1473288540' id='491787'>
<a class='timestamp' href='#491787'><time timestamp='2016-09-07T22:49:00Z'>22:49</time></a>
&lt;<span class='nick nick-9'> veleiro</span>&gt;
also, the build readme isnt clear about compiling boost from source
<br>
</div>

<div class='talk op-msg' data-timestamp='1473288540' id='491788'>
<a class='timestamp' href='#491788'><time timestamp='2016-09-07T22:49:00Z'>22:49</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that&#x27;s surprising
<br>
</div>

<div class='talk op-msg' data-timestamp='1473288600' id='491789'>
<a class='timestamp' href='#491789'><time timestamp='2016-09-07T22:50:00Z'>22:50</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
libboost-all-dev should have a sleep implementatio
<br>
</div>

<div class='talk op-msg' data-timestamp='1473288600' id='491790'>
<a class='timestamp' href='#491790'><time timestamp='2016-09-07T22:50:00Z'>22:50</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
is itp possible you have multiple boost versions side by side?
<br>
</div>

<div class='talk op-msg' data-timestamp='1473288720' id='491791'>
<a class='timestamp' href='#491791'><time timestamp='2016-09-07T22:52:00Z'>22:52</time></a>
&lt;<span class='nick nick-9'> veleiro</span>&gt;
its possible that i may have tried to compile boost from source when i went through this before, but it was a few weeks, but wouldnt ./configure use the system package version unless specified otherwise?
<br>
</div>

<div class='talk op-msg' data-timestamp='1473288780' id='491792'>
<a class='timestamp' href='#491792'><time timestamp='2016-09-07T22:53:00Z'>22:53</time></a>
&lt;<span class='nick nick-9'> veleiro</span>&gt;
i&#x27;ll try to remove all boost and see whats left over
<br>
</div>

<div class='talk op-msg' data-timestamp='1473288780' id='491793'>
<a class='timestamp' href='#491793'><time timestamp='2016-09-07T22:53:00Z'>22:53</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it searches in many places
<br>
</div>

<div class='talk op-msg' data-timestamp='1473288780' id='491794'>
<a class='timestamp' href='#491794'><time timestamp='2016-09-07T22:53:00Z'>22:53</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
what os is this?
<br>
</div>

<div class='talk op-msg' data-timestamp='1473288840' id='491795'>
<a class='timestamp' href='#491795'><time timestamp='2016-09-07T22:54:00Z'>22:54</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and diatribution
<br>
</div>

<div class='talk op-msg' data-timestamp='1473288840' id='491796'>
<a class='timestamp' href='#491796'><time timestamp='2016-09-07T22:54:00Z'>22:54</time></a>
&lt;<span class='nick nick-9'> veleiro</span>&gt;
debian 8 jessie
<br>
</div>

<div class='talk op-msg' data-timestamp='1473288840' id='491797'>
<a class='timestamp' href='#491797'><time timestamp='2016-09-07T22:54:00Z'>22:54</time></a>
&lt;<span class='nick nick-9'> veleiro</span>&gt;
on armv7
<br>
</div>

<div class='talk op-msg' data-timestamp='1473288840' id='491798'>
<a class='timestamp' href='#491798'><time timestamp='2016-09-07T22:54:00Z'>22:54</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that should work fine
<br>
</div>

<div class='talk op-msg' data-timestamp='1473288840' id='491799'>
<a class='timestamp' href='#491799'><time timestamp='2016-09-07T22:54:00Z'>22:54</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
you can also try to do a depends build
<br>
</div>

<div class='talk op-msg' data-timestamp='1473288840' id='491800'>
<a class='timestamp' href='#491800'><time timestamp='2016-09-07T22:54:00Z'>22:54</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
which builds all dependencies for you and creates a static buildd
<br>
</div>

<div class='talk op-msg' data-timestamp='1473288840' id='491801'>
<a class='timestamp' href='#491801'><time timestamp='2016-09-07T22:54:00Z'>22:54</time></a>
&lt;<span class='nick nick-8'> GitHub190</span>&gt;
[bitcoin] JeremyRubin opened pull request #8681: Performance Regression Fix: Pre-Allocate txChanged vector (master...fix-perf-regressed-txChanged) <a href="https://github.com/bitcoin/bitcoin/pull/8681" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8681</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1473288960' id='491802'>
<a class='timestamp' href='#491802'><time timestamp='2016-09-07T22:56:00Z'>22:56</time></a>
&lt;<span class='nick nick-9'> veleiro</span>&gt;
looks like something is also in /usr/local/include/boost/ after removing boost libraries. I&#x27;ll try a depends build
<br>
</div>

<div class='talk op-msg' data-timestamp='1473289020' id='491803'>
<a class='timestamp' href='#491803'><time timestamp='2016-09-07T22:57:00Z'>22:57</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
cd into depends/
<br>
</div>

<div class='talk op-msg' data-timestamp='1473289020' id='491804'>
<a class='timestamp' href='#491804'><time timestamp='2016-09-07T22:57:00Z'>22:57</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and follow the readme
<br>
</div>

<div class='talk op-msg' data-timestamp='1473289380' id='491805'>
<a class='timestamp' href='#491805'><time timestamp='2016-09-07T23:03:00Z'>23:03</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
iirc &quot;No working boost sleep&quot; is kinda code for &quot;boost failed to compile on the sleep test&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1473289380' id='491806'>
<a class='timestamp' href='#491806'><time timestamp='2016-09-07T23:03:00Z'>23:03</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
i&#x27;d suggest that we fix that, except that the test can go away after the std::thread PR goes in
<br>
</div>

<div class='talk op-msg' data-timestamp='1473289620' id='491807'>
<a class='timestamp' href='#491807'><time timestamp='2016-09-07T23:07:00Z'>23:07</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
\o/
<br>
</div>

<div class='talk op-msg' data-timestamp='1473290940' id='491808'>
<a class='timestamp' href='#491808'><time timestamp='2016-09-07T23:29:00Z'>23:29</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
morcos / jeremyrubin: as jeremyrubin suggested above, here&#x27;s a quick hack at a simple future for the new hashing: <a href="https://github.com/theuni/bitcoin/commit/e93f724f0554dae43063080ea9d6c87650315c6e" class="link" target="_blank">https://github.com/theuni/bitcoin/commit/e93f724f0554dae43063080ea9d6c87650315c6e</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1473291000' id='491809'>
<a class='timestamp' href='#491809'><time timestamp='2016-09-07T23:30:00Z'>23:30</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
in that commit the wait() is directly after the calculation, so it can only be worse. Would need to experiment with how early we can begin hashing to offload the most
<br>
</div>

<div class='talk op-msg' data-timestamp='1473291240' id='491810'>
<a class='timestamp' href='#491810'><time timestamp='2016-09-07T23:34:00Z'>23:34</time></a>
&lt;<span class='nick nick-9'> veleiro</span>&gt;
error in depends build too :( got any ideas? I couldnt find anything right off: &quot;error: toolset gcc initialization: error: provided command &#x27;armv7l-unknown-linux-gnueabihf-g++&#x27; not found&quot; (gcc version 4.9.2)
<br>
</div>

<div class='talk op-msg' data-timestamp='1473291300' id='491811'>
<a class='timestamp' href='#491811'><time timestamp='2016-09-07T23:35:00Z'>23:35</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
cfields: that was fast
<br>
</div>

<div class='talk op-msg' data-timestamp='1473291360' id='491812'>
<a class='timestamp' href='#491812'><time timestamp='2016-09-07T23:36:00Z'>23:36</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
Hm
<br>
</div>

<div class='talk op-msg' data-timestamp='1473291420' id='491813'>
<a class='timestamp' href='#491813'><time timestamp='2016-09-07T23:37:00Z'>23:37</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
I like the general idea...
<br>
</div>

<div class='talk op-msg' data-timestamp='1473291480' id='491814'>
<a class='timestamp' href='#491814'><time timestamp='2016-09-07T23:38:00Z'>23:38</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
Initially I figured that the scriptcheck threads could, on a first visited policy, compute these hashes.
<br>
</div>

<div class='talk op-msg' data-timestamp='1473291480' id='491815'>
<a class='timestamp' href='#491815'><time timestamp='2016-09-07T23:38:00Z'>23:38</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
Obviously putting them earlier is better
<br>
</div>

<div class='talk op-msg' data-timestamp='1473291540' id='491816'>
<a class='timestamp' href='#491816'><time timestamp='2016-09-07T23:39:00Z'>23:39</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
Also std::mutex is :/
<br>
</div>

<div class='talk op-msg' data-timestamp='1473291600' id='491817'>
<a class='timestamp' href='#491817'><time timestamp='2016-09-07T23:40:00Z'>23:40</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
nicer to have cooridnation free.
<br>
</div>

<div class='talk op-msg' data-timestamp='1473291600' id='491818'>
<a class='timestamp' href='#491818'><time timestamp='2016-09-07T23:40:00Z'>23:40</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
I have an idea
<br>
</div>

<div class='talk op-msg' data-timestamp='1473291600' id='491819'>
<a class='timestamp' href='#491819'><time timestamp='2016-09-07T23:40:00Z'>23:40</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
CBlock is immutable?
<br>
</div>

<div class='talk op-msg' data-timestamp='1473291600' id='491820'>
<a class='timestamp' href='#491820'><time timestamp='2016-09-07T23:40:00Z'>23:40</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
What if you just pass a pointer to it
<br>
</div>

<div class='talk op-msg' data-timestamp='1473291600' id='491821'>
<a class='timestamp' href='#491821'><time timestamp='2016-09-07T23:40:00Z'>23:40</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
and have the background thread ONLY do all the hashes
<br>
</div>

<div class='talk op-msg' data-timestamp='1473292320' id='491822'>
<a class='timestamp' href='#491822'><time timestamp='2016-09-07T23:52:00Z'>23:52</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
jeremyrubin: sure, it was just a quick hack. I figured it&#x27;d be helpful to have the scriptcheck threads do it, but that got complicated in my head pretty quickly. Figured it&#x27;d be worth experimenting before committing to the complication
<br>
</div>

<div class='talk op-msg' data-timestamp='1473292380' id='491823'>
<a class='timestamp' href='#491823'><time timestamp='2016-09-07T23:53:00Z'>23:53</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
jeremyrubin: i don&#x27;t think the overhead of the mutex/condvar is significant enough to throw off the &quot;is it worth doing&quot; tests :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1473292440' id='491824'>
<a class='timestamp' href='#491824'><time timestamp='2016-09-07T23:54:00Z'>23:54</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
jeremyrubin: and sure, makes sense to do on the per-block level, but only if we don&#x27;t end up caching in ATMP
<br>
</div>

</div>
</section>

</body>
</html>
