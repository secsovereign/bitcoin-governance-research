<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2020-08-07
 — 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2020-08-07' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:18 UTC</pre>
<pre><a href="/bitcoin-core-dev/2020-07-07">&lt;</a><span class='header'>   August 2020    </span><a href="/bitcoin-core-dev/2020-09-07">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;                   <a class="" href="/bitcoin-core-dev/2020-08-01">1</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2020-08-02">2</a>  <a class="" href="/bitcoin-core-dev/2020-08-03">3</a>  <a class="" href="/bitcoin-core-dev/2020-08-04">4</a>  <a class="" href="/bitcoin-core-dev/2020-08-05">5</a>  <a class="" href="/bitcoin-core-dev/2020-08-06">6</a>  <a class="current" href="/bitcoin-core-dev/2020-08-07">7</a>  <a class="" href="/bitcoin-core-dev/2020-08-08">8</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2020-08-09">9</a> <a class="" href="/bitcoin-core-dev/2020-08-10">10</a> <a class="" href="/bitcoin-core-dev/2020-08-11">11</a> <a class="" href="/bitcoin-core-dev/2020-08-12">12</a> <a class="" href="/bitcoin-core-dev/2020-08-13">13</a> <a class="" href="/bitcoin-core-dev/2020-08-14">14</a> <a class="" href="/bitcoin-core-dev/2020-08-15">15</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2020-08-16">16</a> <a class="" href="/bitcoin-core-dev/2020-08-17">17</a> <a class="" href="/bitcoin-core-dev/2020-08-18">18</a> <a class="" href="/bitcoin-core-dev/2020-08-19">19</a> <a class="" href="/bitcoin-core-dev/2020-08-20">20</a> 21 <a class="" href="/bitcoin-core-dev/2020-08-22">22</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2020-08-23">23</a> <a class="" href="/bitcoin-core-dev/2020-08-24">24</a> <a class="" href="/bitcoin-core-dev/2020-08-25">25</a> <a class="" href="/bitcoin-core-dev/2020-08-26">26</a> <a class="" href="/bitcoin-core-dev/2020-08-27">27</a> <a class="" href="/bitcoin-core-dev/2020-08-28">28</a> <a class="" href="/bitcoin-core-dev/2020-08-29">29</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2020-08-30">30</a> <a class="" href="/bitcoin-core-dev/2020-08-31">31</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1596767460' id='398028'>
<a class='timestamp' href='#398028'><time timestamp='2020-08-07T02:31:00Z'>02:31</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] andrewtoth closed pull request #19271: validation: Warm coins cache during prevalidation to connect blocks faster (master...warm-coinscache) <a href="https://github.com/bitcoin/bitcoin/pull/19271" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19271</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1596771480' id='398029'>
<a class='timestamp' href='#398029'><time timestamp='2020-08-07T03:38:00Z'>03:38</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i don&#x27;t understand this
<br>
</div>

<div class='talk op-msg' data-timestamp='1596771480' id='398030'>
<a class='timestamp' href='#398030'><time timestamp='2020-08-07T03:38:00Z'>03:38</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
<a href="https://travis-ci.org/github/bitcoin/bitcoin/builds/715710056" class="link" target="_blank">https://travis-ci.org/github/bitcoin/bitcoin/builds/715710056</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1596771540' id='398031'>
<a class='timestamp' href='#398031'><time timestamp='2020-08-07T03:39:00Z'>03:39</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it&#x27;s failing consistently, in the same way, for all platforms that run functional tests &amp; have wallet enabled
<br>
</div>

<div class='talk op-msg' data-timestamp='1596771540' id='398032'>
<a class='timestamp' href='#398032'><time timestamp='2020-08-07T03:39:00Z'>03:39</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but i can&#x27;t reproduce it locally, not even after git clean -dfx &amp;&amp; ccache -C 
<br>
</div>

<div class='talk op-msg' data-timestamp='1596771600' id='398033'>
<a class='timestamp' href='#398033'><time timestamp='2020-08-07T03:40:00Z'>03:40</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
can anyone try to build &amp; run #17977, and run tests/functional/feature_taproot.py ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1596771600' id='398034'>
<a class='timestamp' href='#398034'><time timestamp='2020-08-07T03:40:00Z'>03:40</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/17977" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/17977</a> | Implement BIP 340-342 validation (Schnorr/taproot/tapscript) by sipa · Pull Request #17977 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1596771600' id='398035'>
<a class='timestamp' href='#398035'><time timestamp='2020-08-07T03:40:00Z'>03:40</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] JeremyRubin closed pull request #19531: add static_check_equal for easier to read compiler errors (master...static_check) <a href="https://github.com/bitcoin/bitcoin/pull/19531" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19531</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1596771600' id='398036'>
<a class='timestamp' href='#398036'><time timestamp='2020-08-07T03:40:00Z'>03:40</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] JeremyRubin reopened pull request #19531: add static_check_equal for easier to read compiler errors (master...static_check) <a href="https://github.com/bitcoin/bitcoin/pull/19531" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19531</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1596772020' id='398037'>
<a class='timestamp' href='#398037'><time timestamp='2020-08-07T03:47:00Z'>03:47</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
oh, maybe a recent merge
<br>
</div>

<div class='talk op-msg' data-timestamp='1596772140' id='398038'>
<a class='timestamp' href='#398038'><time timestamp='2020-08-07T03:49:00Z'>03:49</time></a>
&lt;<span class='nick nick-9'> troygiorshev</span>&gt;
sipa: test passed for me
<br>
</div>

<div class='talk op-msg' data-timestamp='1596772200' id='398039'>
<a class='timestamp' href='#398039'><time timestamp='2020-08-07T03:50:00Z'>03:50</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
troygiorshev: thanks for trying - i think i know what caused it
<br>
</div>

<div class='talk op-msg' data-timestamp='1596772200' id='398040'>
<a class='timestamp' href='#398040'><time timestamp='2020-08-07T03:50:00Z'>03:50</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
the merge of #19620
<br>
</div>

<div class='talk op-msg' data-timestamp='1596772200' id='398041'>
<a class='timestamp' href='#398041'><time timestamp='2020-08-07T03:50:00Z'>03:50</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/19620" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/19620</a> | Add txids with non-standard inputs to reject filter by sdaftuar · Pull Request #19620 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1596772260' id='398042'>
<a class='timestamp' href='#398042'><time timestamp='2020-08-07T03:51:00Z'>03:51</time></a>
&lt;<span class='nick nick-9'> troygiorshev</span>&gt;
ah great
<br>
</div>

<div class='talk op-msg' data-timestamp='1596772260' id='398043'>
<a class='timestamp' href='#398043'><time timestamp='2020-08-07T03:51:00Z'>03:51</time></a>
&lt;<span class='nick nick-9'> troygiorshev</span>&gt;
fwiw too, I think this test should be moved to the &quot;less than 2m&quot; section
<br>
</div>

<div class='talk op-msg' data-timestamp='1596772260' id='398044'>
<a class='timestamp' href='#398044'><time timestamp='2020-08-07T03:51:00Z'>03:51</time></a>
&lt;<span class='nick nick-9'> troygiorshev</span>&gt;
Took 1:12 on my i7-8750H
<br>
</div>

<div class='talk op-msg' data-timestamp='1596772260' id='398045'>
<a class='timestamp' href='#398045'><time timestamp='2020-08-07T03:51:00Z'>03:51</time></a>
&lt;<span class='nick nick-3'> aj</span>&gt;
sipa: that seems to match the error in the travis log
<br>
</div>

<div class='talk op-msg' data-timestamp='1596772320' id='398046'>
<a class='timestamp' href='#398046'><time timestamp='2020-08-07T03:52:00Z'>03:52</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
troygiorshev: thanks, doing that
<br>
</div>

<div class='talk op-msg' data-timestamp='1596772380' id='398047'>
<a class='timestamp' href='#398047'><time timestamp='2020-08-07T03:53:00Z'>03:53</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
aj: yeah, i can reproduce after a rebase on master
<br>
</div>

<div class='talk op-msg' data-timestamp='1596772800' id='398048'>
<a class='timestamp' href='#398048'><time timestamp='2020-08-07T04:00:00Z'>04:00</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
sipa: gotta keep up :p
<br>
</div>

<div class='talk op-msg' data-timestamp='1596772920' id='398049'>
<a class='timestamp' href='#398049'><time timestamp='2020-08-07T04:02:00Z'>04:02</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
bitcoin/bitcoin is a fast moving repository
<br>
</div>

<div class='talk op-msg' data-timestamp='1596772920' id='398050'>
<a class='timestamp' href='#398050'><time timestamp='2020-08-07T04:02:00Z'>04:02</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
fanquake: i started this set of changes over a week ago, then when i was done rebased on master, and right then &quot;someone&quot; merges probably the only open PR in the whole repo that breaks the tests without causing a compilation failure :p
<br>
</div>

<div class='talk op-msg' data-timestamp='1596777780' id='398051'>
<a class='timestamp' href='#398051'><time timestamp='2020-08-07T05:23:00Z'>05:23</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] JeremyRubin opened pull request #19677: WIP: Switch BlockMap to use an unordered_set under the hood (master...refactor-blockmap-blockset) <a href="https://github.com/bitcoin/bitcoin/pull/19677" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19677</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1596780540' id='398052'>
<a class='timestamp' href='#398052'><time timestamp='2020-08-07T06:09:00Z'>06:09</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke pushed 2 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/6d8543504d8c...4b705b1c98f6" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/6d8543504d8c...4b705b1c98f6</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1596780540' id='398053'>
<a class='timestamp' href='#398053'><time timestamp='2020-08-07T06:09:00Z'>06:09</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master edc3160 Russell Yanofsky: test: Remove duplicate NodeContext hacks
<br>
</div>

<div class='talk op-msg' data-timestamp='1596780540' id='398054'>
<a class='timestamp' href='#398054'><time timestamp='2020-08-07T06:09:00Z'>06:09</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 4b705b1 MarcoFalke: Merge #19098: test: Remove duplicate NodeContext hacks
<br>
</div>

<div class='talk op-msg' data-timestamp='1596780540' id='398055'>
<a class='timestamp' href='#398055'><time timestamp='2020-08-07T06:09:00Z'>06:09</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke merged pull request #19098: test: Remove duplicate NodeContext hacks (master...pr/qtx) <a href="https://github.com/bitcoin/bitcoin/pull/19098" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19098</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1596787440' id='398056'>
<a class='timestamp' href='#398056'><time timestamp='2020-08-07T08:04:00Z'>08:04</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke closed pull request #15045: [test] Apply maximal flags to tx_valid tests and minimal flags to tx_invalid tests (master...min_txtests_flags) <a href="https://github.com/bitcoin/bitcoin/pull/15045" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/15045</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1596796020' id='398057'>
<a class='timestamp' href='#398057'><time timestamp='2020-08-07T10:27:00Z'>10:27</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
sipa: just catching up now, is the test in #19620 not stable?
<br>
</div>

<div class='talk op-msg' data-timestamp='1596796020' id='398058'>
<a class='timestamp' href='#398058'><time timestamp='2020-08-07T10:27:00Z'>10:27</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/19620" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/19620</a> | Add txids with non-standard inputs to reject filter by sdaftuar · Pull Request #19620 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1596797040' id='398059'>
<a class='timestamp' href='#398059'><time timestamp='2020-08-07T10:44:00Z'>10:44</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] fanquake closed pull request #19675: Run clang-tidy -*,performance-* (master...master) <a href="https://github.com/bitcoin/bitcoin/pull/19675" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19675</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1596806880' id='398060'>
<a class='timestamp' href='#398060'><time timestamp='2020-08-07T13:28:00Z'>13:28</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sdaftuar: no no; there was an actual interaction between 19620 and 17977, and 17977&#x27;s tests started failing after merging (as it didn&#x27;t move taproot outputs out of WITNESS_UNKNOWN, those ended up being nonstandard to spend)
<br>
</div>

<div class='talk op-msg' data-timestamp='1596807060' id='398061'>
<a class='timestamp' href='#398061'><time timestamp='2020-08-07T13:31:00Z'>13:31</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
ah!
<br>
</div>

<div class='talk op-msg' data-timestamp='1596814320' id='398062'>
<a class='timestamp' href='#398062'><time timestamp='2020-08-07T15:32:00Z'>15:32</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] sdaftuar opened pull request #19680: 0.20: Add txids with non-standard inputs to reject filter (0.20...2020-08-reject-unknown-wit-0.20) <a href="https://github.com/bitcoin/bitcoin/pull/19680" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19680</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1596814380' id='398063'>
<a class='timestamp' href='#398063'><time timestamp='2020-08-07T15:33:00Z'>15:33</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] sdaftuar opened pull request #19681: 0.19: Add txids with non-standard inputs to reject filter (0.19...2020-08-reject-unknown-wit-0.19) <a href="https://github.com/bitcoin/bitcoin/pull/19681" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19681</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1596814800' id='398064'>
<a class='timestamp' href='#398064'><time timestamp='2020-08-07T15:40:00Z'>15:40</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] hebasto closed pull request #19600: doc: Fix log message for -reindex (master...200727-load-log) <a href="https://github.com/bitcoin/bitcoin/pull/19600" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19600</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1596822060' id='398065'>
<a class='timestamp' href='#398065'><time timestamp='2020-08-07T17:41:00Z'>17:41</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] dongcarl opened pull request #19683: WIP: depends: Explicitly specify clang search paths for darwin host (master...2020-08-clang-search-path-robustness) <a href="https://github.com/bitcoin/bitcoin/pull/19683" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19683</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1596834300' id='398066'>
<a class='timestamp' href='#398066'><time timestamp='2020-08-07T21:05:00Z'>21:05</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] JeremyRubin closed pull request #18071: Refactoring CHashWriter &amp; Get{Prevouts,Sequence,Outputs}Hash to SHA256 (master...refactoring-hashers) <a href="https://github.com/bitcoin/bitcoin/pull/18071" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/18071</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1596834960' id='398067'>
<a class='timestamp' href='#398067'><time timestamp='2020-08-07T21:16:00Z'>21:16</time></a>
&lt;<span class='nick nick-12'> Kiminuo</span>&gt;
Hi, I&#x27;m trying to slowly move forward this <a href="https://github.com/bitcoin/bitcoin/pull/19245" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19245</a>. And it seems I need to put somewhere `-lstdc++fs` (as per <a href="https://www.bfilipek.com/2019/05/boost-to-stdfs.html)" class="link" target="_blank">https://www.bfilipek.com/2019/05/boost-to-stdfs.html)</a> to fix failing travis configurations (<a href="https://travis-ci.org/github/bitcoin/bitcoin/builds/715745829)" class="link" target="_blank">https://travis-ci.org/github/bitcoin/bitcoin/builds/715745829)</a>. I know everybody is busy but any advice or pointer would help me immensely as this is not something I know much about. :-|
<br>
</div>

<div class='talk op-msg' data-timestamp='1596835380' id='398068'>
<a class='timestamp' href='#398068'><time timestamp='2020-08-07T21:23:00Z'>21:23</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
hi Kiminuo
<br>
</div>

<div class='talk op-msg' data-timestamp='1596835380' id='398069'>
<a class='timestamp' href='#398069'><time timestamp='2020-08-07T21:23:00Z'>21:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
Kiminuo: is that needed if you&#x27;re actually building in c++17 mode?
<br>
</div>

<div class='talk op-msg' data-timestamp='1596835380' id='398070'>
<a class='timestamp' href='#398070'><time timestamp='2020-08-07T21:23:00Z'>21:23</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
I don&#x27;t think you need to do -lstdc++fs if the gcc &gt; 9.0
<br>
</div>

<div class='talk op-msg' data-timestamp='1596835440' id='398071'>
<a class='timestamp' href='#398071'><time timestamp='2020-08-07T21:24:00Z'>21:24</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
It sounds like you only need it to build against an earlier version
<br>
</div>

<div class='talk op-msg' data-timestamp='1596835440' id='398072'>
<a class='timestamp' href='#398072'><time timestamp='2020-08-07T21:24:00Z'>21:24</time></a>
&lt;<span class='nick nick-12'> Kiminuo</span>&gt;
well, I can see that #include &lt;filesystem&gt; is not recognized in those tests
<br>
</div>

<div class='talk op-msg' data-timestamp='1596835440' id='398073'>
<a class='timestamp' href='#398073'><time timestamp='2020-08-07T21:24:00Z'>21:24</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
-l only affects linking
<br>
</div>

<div class='talk op-msg' data-timestamp='1596835440' id='398074'>
<a class='timestamp' href='#398074'><time timestamp='2020-08-07T21:24:00Z'>21:24</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it can&#x27;t affect header includes
<br>
</div>

<div class='talk op-msg' data-timestamp='1596835500' id='398075'>
<a class='timestamp' href='#398075'><time timestamp='2020-08-07T21:25:00Z'>21:25</time></a>
&lt;<span class='nick nick-12'> Kiminuo</span>&gt;
I&#x27;m not entirely sure c++17 is correctly enabled in my branch
<br>
</div>

<div class='talk op-msg' data-timestamp='1596835500' id='398076'>
<a class='timestamp' href='#398076'><time timestamp='2020-08-07T21:25:00Z'>21:25</time></a>
&lt;<span class='nick nick-12'> Kiminuo</span>&gt;
ok
<br>
</div>

<div class='talk op-msg' data-timestamp='1596835500' id='398077'>
<a class='timestamp' href='#398077'><time timestamp='2020-08-07T21:25:00Z'>21:25</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
do you build with --enable-c++17 ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1596835500' id='398078'>
<a class='timestamp' href='#398078'><time timestamp='2020-08-07T21:25:00Z'>21:25</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
The travis builds won&#x27;t work until c++17 is default I guess
<br>
</div>

<div class='talk op-msg' data-timestamp='1596835560' id='398079'>
<a class='timestamp' href='#398079'><time timestamp='2020-08-07T21:26:00Z'>21:26</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
This patch might just have to sit for a year for that
<br>
</div>

<div class='talk op-msg' data-timestamp='1596835560' id='398080'>
<a class='timestamp' href='#398080'><time timestamp='2020-08-07T21:26:00Z'>21:26</time></a>
&lt;<span class='nick nick-12'> Kiminuo</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/pull/19245/files#diff-309426131fa2cf2ebbc5cde58961b8a9R19" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19245/files#diff-309426131fa2cf2ebbc5cde58961b8a9R19</a> - Marco Falke actually have a PR that I build upon
<br>
</div>

<div class='talk op-msg' data-timestamp='1596835560' id='398081'>
<a class='timestamp' href='#398081'><time timestamp='2020-08-07T21:26:00Z'>21:26</time></a>
&lt;<span class='nick nick-12'> Kiminuo</span>&gt;
and I can see a few instance of `--enable-c++17`
<br>
</div>

<div class='talk op-msg' data-timestamp='1596835620' id='398082'>
<a class='timestamp' href='#398082'><time timestamp='2020-08-07T21:27:00Z'>21:27</time></a>
&lt;<span class='nick nick-12'> Kiminuo</span>&gt;
*instances
<br>
</div>

<div class='talk op-msg' data-timestamp='1596835620' id='398083'>
<a class='timestamp' href='#398083'><time timestamp='2020-08-07T21:27:00Z'>21:27</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
you need to pass it to ./configure --enable-c++17
<br>
</div>

<div class='talk op-msg' data-timestamp='1596835620' id='398084'>
<a class='timestamp' href='#398084'><time timestamp='2020-08-07T21:27:00Z'>21:27</time></a>
&lt;<span class='nick nick-12'> Kiminuo</span>&gt;
jeremyrubin, I&#x27;m fine with waiting :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1596835680' id='398085'>
<a class='timestamp' href='#398085'><time timestamp='2020-08-07T21:28:00Z'>21:28</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
sipa may know otherwise, but I suspect waiting till we are no longer building for c++11 is the most likely case due to the API changes
<br>
</div>

<div class='talk op-msg' data-timestamp='1596835680' id='398086'>
<a class='timestamp' href='#398086'><time timestamp='2020-08-07T21:28:00Z'>21:28</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
the change to configure.ac in that PR does appear to make c++17 unconditional in configure
<br>
</div>

<div class='talk op-msg' data-timestamp='1596835740' id='398087'>
<a class='timestamp' href='#398087'><time timestamp='2020-08-07T21:29:00Z'>21:29</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
it removes the configure flag and forces it on
<br>
</div>

<div class='talk op-msg' data-timestamp='1596835740' id='398088'>
<a class='timestamp' href='#398088'><time timestamp='2020-08-07T21:29:00Z'>21:29</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
(I don&#x27;t know if there could be other places that were using it that got missed though)
<br>
</div>

<div class='talk op-msg' data-timestamp='1596835740' id='398089'>
<a class='timestamp' href='#398089'><time timestamp='2020-08-07T21:29:00Z'>21:29</time></a>
&lt;<span class='nick nick-12'> Kiminuo</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/pull/19245/files#diff-67e997bcfdac55191033d57a16d1408aR72" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19245/files#diff-67e997bcfdac55191033d57a16d1408aR72</a> - do you mean this, right?
<br>
</div>

<div class='talk op-msg' data-timestamp='1596835800' id='398090'>
<a class='timestamp' href='#398090'><time timestamp='2020-08-07T21:30:00Z'>21:30</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
right, yeah. So I&#x27;m not sure if $use_cxx17 is referenced anywhere else, or if that change is enough to be the same as passing the flag to configure.
<br>
</div>

<div class='talk op-msg' data-timestamp='1596835860' id='398091'>
<a class='timestamp' href='#398091'><time timestamp='2020-08-07T21:31:00Z'>21:31</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
I don&#x27;t see any other uses, so off the top of my head I&#x27;d expect that to work
<br>
</div>

<div class='talk op-msg' data-timestamp='1596835860' id='398092'>
<a class='timestamp' href='#398092'><time timestamp='2020-08-07T21:31:00Z'>21:31</time></a>
&lt;<span class='nick nick-12'> Kiminuo</span>&gt;
Well, travis shows:
<br>
</div>

<div class='talk op-msg' data-timestamp='1596835860' id='398093'>
<a class='timestamp' href='#398093'><time timestamp='2020-08-07T21:31:00Z'>21:31</time></a>
&lt;<span class='nick nick-12'> Kiminuo</span>&gt;
./fs.h:14:10: fatal error: filesystem: No such file or directory
<br>
</div>

<div class='talk op-msg' data-timestamp='1596835860' id='398094'>
<a class='timestamp' href='#398094'><time timestamp='2020-08-07T21:31:00Z'>21:31</time></a>
&lt;<span class='nick nick-12'> Kiminuo</span>&gt;
 #include &lt;filesystem&gt;
<br>
</div>

<div class='talk op-msg' data-timestamp='1596835860' id='398095'>
<a class='timestamp' href='#398095'><time timestamp='2020-08-07T21:31:00Z'>21:31</time></a>
&lt;<span class='nick nick-12'> Kiminuo</span>&gt;
          ^~~~~~~~~~~~
<br>
</div>

<div class='talk op-msg' data-timestamp='1596835860' id='398096'>
<a class='timestamp' href='#398096'><time timestamp='2020-08-07T21:31:00Z'>21:31</time></a>
&lt;<span class='nick nick-12'> Kiminuo</span>&gt;
here <a href="https://travis-ci.org/github/bitcoin/bitcoin/jobs/715745835" class="link" target="_blank">https://travis-ci.org/github/bitcoin/bitcoin/jobs/715745835</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1596835920' id='398097'>
<a class='timestamp' href='#398097'><time timestamp='2020-08-07T21:32:00Z'>21:32</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
looking at the travis failures it does look like some headers got rearranged in c++17 that you haven&#x27;t accounted for, but I don&#x27;t know if you were even looking at that yet (e.g. std::function got moved into #include &lt;functional&gt;, which is causing a ton of errors, but not the ones you&#x27;re asking about)
<br>
</div>

<div class='talk op-msg' data-timestamp='1596835980' id='398098'>
<a class='timestamp' href='#398098'><time timestamp='2020-08-07T21:33:00Z'>21:33</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
Kiminuo: but your changes to use std::filesystem instead of boost::filesystem should only be active whenever you&#x27;re building in C++17 mode
<br>
</div>

<div class='talk op-msg' data-timestamp='1596835980' id='398099'>
<a class='timestamp' href='#398099'><time timestamp='2020-08-07T21:33:00Z'>21:33</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i think?
<br>
</div>

<div class='talk op-msg' data-timestamp='1596836040' id='398100'>
<a class='timestamp' href='#398100'><time timestamp='2020-08-07T21:34:00Z'>21:34</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ah
<br>
</div>

<div class='talk op-msg' data-timestamp='1596836040' id='398101'>
<a class='timestamp' href='#398101'><time timestamp='2020-08-07T21:34:00Z'>21:34</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sorry, just reading
<br>
</div>

<div class='talk op-msg' data-timestamp='1596836040' id='398102'>
<a class='timestamp' href='#398102'><time timestamp='2020-08-07T21:34:00Z'>21:34</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
sipa: they&#x27;re building on mandatory c++17
<br>
</div>

<div class='talk op-msg' data-timestamp='1596836040' id='398103'>
<a class='timestamp' href='#398103'><time timestamp='2020-08-07T21:34:00Z'>21:34</time></a>
&lt;<span class='nick nick-12'> Kiminuo</span>&gt;
gwillen, I have based my PR on this: <a href="https://github.com/bitcoin/bitcoin/pull/19183" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19183</a> 
<br>
</div>

<div class='talk op-msg' data-timestamp='1596836040' id='398104'>
<a class='timestamp' href='#398104'><time timestamp='2020-08-07T21:34:00Z'>21:34</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
hmm, ok
<br>
</div>

<div class='talk op-msg' data-timestamp='1596836040' id='398105'>
<a class='timestamp' href='#398105'><time timestamp='2020-08-07T21:34:00Z'>21:34</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and does the problem arise on all platforms?
<br>
</div>

<div class='talk op-msg' data-timestamp='1596836040' id='398106'>
<a class='timestamp' href='#398106'><time timestamp='2020-08-07T21:34:00Z'>21:34</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
configure does say at the end: CXX           = /usr/bin/ccache g++ -m64 -std=c++17
<br>
</div>

<div class='talk op-msg' data-timestamp='1596836040' id='398107'>
<a class='timestamp' href='#398107'><time timestamp='2020-08-07T21:34:00Z'>21:34</time></a>
&lt;<span class='nick nick-12'> Kiminuo</span>&gt;
sipa, all I know is this result: <a href="https://travis-ci.org/github/bitcoin/bitcoin/builds/715745829" class="link" target="_blank">https://travis-ci.org/github/bitcoin/bitcoin/builds/715745829</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1596836100' id='398108'>
<a class='timestamp' href='#398108'><time timestamp='2020-08-07T21:35:00Z'>21:35</time></a>
&lt;<span class='nick nick-12'> Kiminuo</span>&gt;
&gt; but your changes to use std::filesystem instead of boost::filesystem should only be active whenever you&#x27;re building in C++17 mode
<br>
</div>

<div class='talk op-msg' data-timestamp='1596836100' id='398109'>
<a class='timestamp' href='#398109'><time timestamp='2020-08-07T21:35:00Z'>21:35</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yeah, ignore me;
<br>
</div>

<div class='talk op-msg' data-timestamp='1596836100' id='398110'>
<a class='timestamp' href='#398110'><time timestamp='2020-08-07T21:35:00Z'>21:35</time></a>
&lt;<span class='nick nick-12'> Kiminuo</span>&gt;
that would be preferable I guess, but it&#x27;s out of scope of my ability
<br>
</div>

<div class='talk op-msg' data-timestamp='1596836160' id='398111'>
<a class='timestamp' href='#398111'><time timestamp='2020-08-07T21:36:00Z'>21:36</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
erhhh
<br>
</div>

<div class='talk op-msg' data-timestamp='1596836160' id='398112'>
<a class='timestamp' href='#398112'><time timestamp='2020-08-07T21:36:00Z'>21:36</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
it seems that the &lt;filesystem&gt; library may not be broadly available yet, even in c++17 mode
<br>
</div>

<div class='talk op-msg' data-timestamp='1596836160' id='398113'>
<a class='timestamp' href='#398113'><time timestamp='2020-08-07T21:36:00Z'>21:36</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
the windows build fails to include &lt;filesystem&gt;
<br>
</div>

<div class='talk op-msg' data-timestamp='1596836220' id='398114'>
<a class='timestamp' href='#398114'><time timestamp='2020-08-07T21:37:00Z'>21:37</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that sounds like we just can&#x27;t use it
<br>
</div>

<div class='talk op-msg' data-timestamp='1596836220' id='398115'>
<a class='timestamp' href='#398115'><time timestamp='2020-08-07T21:37:00Z'>21:37</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
even in c++17 mode
<br>
</div>

<div class='talk op-msg' data-timestamp='1596836220' id='398116'>
<a class='timestamp' href='#398116'><time timestamp='2020-08-07T21:37:00Z'>21:37</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
it&#x27;s hard for me to find up-to-date info though
<br>
</div>

<div class='talk op-msg' data-timestamp='1596836220' id='398117'>
<a class='timestamp' href='#398117'><time timestamp='2020-08-07T21:37:00Z'>21:37</time></a>
&lt;<span class='nick nick-12'> Kiminuo</span>&gt;
Interestingly, I have a C++ project on Windows where &lt;filesystem&gt; works. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1596836220' id='398118'>
<a class='timestamp' href='#398118'><time timestamp='2020-08-07T21:37:00Z'>21:37</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
it seems likely there is a minimum compiler version to support it
<br>
</div>

<div class='talk op-msg' data-timestamp='1596836220' id='398119'>
<a class='timestamp' href='#398119'><time timestamp='2020-08-07T21:37:00Z'>21:37</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
Kiminuo: I would just wait on it till mandatory c++17 goes in
<br>
</div>

<div class='talk op-msg' data-timestamp='1596836220' id='398120'>
<a class='timestamp' href='#398120'><time timestamp='2020-08-07T21:37:00Z'>21:37</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
it should be like a year or so
<br>
</div>

<div class='talk op-msg' data-timestamp='1596836220' id='398121'>
<a class='timestamp' href='#398121'><time timestamp='2020-08-07T21:37:00Z'>21:37</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jeremyrubin: that won&#x27;t help
<br>
</div>

<div class='talk op-msg' data-timestamp='1596836220' id='398122'>
<a class='timestamp' href='#398122'><time timestamp='2020-08-07T21:37:00Z'>21:37</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
because c++17 is enabled in these builds that are failing
<br>
</div>

<div class='talk op-msg' data-timestamp='1596836280' id='398123'>
<a class='timestamp' href='#398123'><time timestamp='2020-08-07T21:38:00Z'>21:38</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
sipa: wait on it meaning, not worth spending more time now?
<br>
</div>

<div class='talk op-msg' data-timestamp='1596836280' id='398124'>
<a class='timestamp' href='#398124'><time timestamp='2020-08-07T21:38:00Z'>21:38</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
what version of gcc do we use? It appears &lt;filesystem&gt; is introduced without qualifications in gcc 8
<br>
</div>

<div class='talk op-msg' data-timestamp='1596836280' id='398125'>
<a class='timestamp' href='#398125'><time timestamp='2020-08-07T21:38:00Z'>21:38</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
before that you can use &lt;experimental/filesystem&gt; with an additional compile flag
<br>
</div>

<div class='talk op-msg' data-timestamp='1596836280' id='398126'>
<a class='timestamp' href='#398126'><time timestamp='2020-08-07T21:38:00Z'>21:38</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jeremyrubin: waiting on mandatory c++17 won&#x27;t change the fact that these builds fail
<br>
</div>

<div class='talk op-msg' data-timestamp='1596836280' id='398127'>
<a class='timestamp' href='#398127'><time timestamp='2020-08-07T21:38:00Z'>21:38</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
oh
<br>
</div>

<div class='talk op-msg' data-timestamp='1596836280' id='398128'>
<a class='timestamp' href='#398128'><time timestamp='2020-08-07T21:38:00Z'>21:38</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ok, i get it
<br>
</div>

<div class='talk op-msg' data-timestamp='1596836340' id='398129'>
<a class='timestamp' href='#398129'><time timestamp='2020-08-07T21:39:00Z'>21:39</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i assumed that -std=c++17 would only <u>_work_</u> at all on compilers that fully support c++17
<br>
</div>

<div class='talk op-msg' data-timestamp='1596836340' id='398130'>
<a class='timestamp' href='#398130'><time timestamp='2020-08-07T21:39:00Z'>21:39</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
yeah it seems that it means &quot;give me as much c++17 as you have&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1596836340' id='398131'>
<a class='timestamp' href='#398131'><time timestamp='2020-08-07T21:39:00Z'>21:39</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
right
<br>
</div>

<div class='talk op-msg' data-timestamp='1596836340' id='398132'>
<a class='timestamp' href='#398132'><time timestamp='2020-08-07T21:39:00Z'>21:39</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
the shakespeare rule
<br>
</div>

<div class='talk op-msg' data-timestamp='1596836340' id='398133'>
<a class='timestamp' href='#398133'><time timestamp='2020-08-07T21:39:00Z'>21:39</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
<a href="https://old.reddit.com/r/cpp/comments/7o9kg6/gcc_80_support_stdfilesystem_include_filesystem/" class="link" target="_blank">https://old.reddit.com/r/cpp/comments/7o9kg6/gcc_80_support_stdfilesystem_include_filesystem/</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1596836400' id='398134'>
<a class='timestamp' href='#398134'><time timestamp='2020-08-07T21:40:00Z'>21:40</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
so we won&#x27;t make c++17 mandatory until we drop support for all platforms that don&#x27;t support it fully (or at least, sufficiently)
<br>
</div>

<div class='talk op-msg' data-timestamp='1596836400' id='398135'>
<a class='timestamp' href='#398135'><time timestamp='2020-08-07T21:40:00Z'>21:40</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
Or, we will do that
<br>
</div>

<div class='talk op-msg' data-timestamp='1596836400' id='398136'>
<a class='timestamp' href='#398136'><time timestamp='2020-08-07T21:40:00Z'>21:40</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
as long as we have libs we can still use
<br>
</div>

<div class='talk op-msg' data-timestamp='1596836400' id='398137'>
<a class='timestamp' href='#398137'><time timestamp='2020-08-07T21:40:00Z'>21:40</time></a>
&lt;<span class='nick nick-12'> Kiminuo</span>&gt;
<a href="https://travis-ci.org/github/bitcoin/bitcoin/jobs/715745835" class="link" target="_blank">https://travis-ci.org/github/bitcoin/bitcoin/jobs/715745835</a> - I can see in this build that GCC 7.5 is used. Is enough for &lt;filesystem&gt;?
<br>
</div>

<div class='talk op-msg' data-timestamp='1596836400' id='398138'>
<a class='timestamp' href='#398138'><time timestamp='2020-08-07T21:40:00Z'>21:40</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
like boost::filesystem
<br>
</div>

<div class='talk op-msg' data-timestamp='1596836400' id='398139'>
<a class='timestamp' href='#398139'><time timestamp='2020-08-07T21:40:00Z'>21:40</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
how so?
<br>
</div>

<div class='talk op-msg' data-timestamp='1596836400' id='398140'>
<a class='timestamp' href='#398140'><time timestamp='2020-08-07T21:40:00Z'>21:40</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
Kiminuo: if you still want to experiment, understanding it could be quite awhile before this is feasible in production, it looks like you could try including &lt;experimental/filesystem&gt; and linking with &quot;-lstdc++fs&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1596836460' id='398141'>
<a class='timestamp' href='#398141'><time timestamp='2020-08-07T21:41:00Z'>21:41</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
Kiminuo: no it seems you need 8.0
<br>
</div>

<div class='talk op-msg' data-timestamp='1596836460' id='398142'>
<a class='timestamp' href='#398142'><time timestamp='2020-08-07T21:41:00Z'>21:41</time></a>
&lt;<span class='nick nick-12'> Kiminuo</span>&gt;
gwillen, so that may be the issue, right?
<br>
</div>

<div class='talk op-msg' data-timestamp='1596836460' id='398143'>
<a class='timestamp' href='#398143'><time timestamp='2020-08-07T21:41:00Z'>21:41</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
yeah I think that is indeed the issue
<br>
</div>

<div class='talk op-msg' data-timestamp='1596836460' id='398144'>
<a class='timestamp' href='#398144'><time timestamp='2020-08-07T21:41:00Z'>21:41</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
I think c++17 will be fine for even &quot;as much as you have of 17&quot; compilers with the current code
<br>
</div>

<div class='talk op-msg' data-timestamp='1596836460' id='398145'>
<a class='timestamp' href='#398145'><time timestamp='2020-08-07T21:41:00Z'>21:41</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
but we may not be able to use <b>*all*</b> c++17 features until then
<br>
</div>

<div class='talk op-msg' data-timestamp='1596836460' id='398146'>
<a class='timestamp' href='#398146'><time timestamp='2020-08-07T21:41:00Z'>21:41</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
your local compiler is newer than the one that CI is using, so you have &lt;filesystem&gt; but CI does not
<br>
</div>

<div class='talk op-msg' data-timestamp='1596836520' id='398147'>
<a class='timestamp' href='#398147'><time timestamp='2020-08-07T21:42:00Z'>21:42</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
I assume the compiler CI uses is the benchmark for &quot;minimum supported to build bitcoin with&quot;?
<br>
</div>

<div class='talk op-msg' data-timestamp='1596836520' id='398148'>
<a class='timestamp' href='#398148'><time timestamp='2020-08-07T21:42:00Z'>21:42</time></a>
&lt;<span class='nick nick-12'> Kiminuo</span>&gt;
gwillen, I don&#x27;t think &lt;experimental/filesystem&gt; is way to go. It will make it more complex and it does not sound good to use something experimental in Bitcoin. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1596836580' id='398149'>
<a class='timestamp' href='#398149'><time timestamp='2020-08-07T21:43:00Z'>21:43</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
I believe it is the same library, it just moved when it was finally standardized to a new name. But I agree it may not be suitable for inclusion into Bitcoin for real for now.
<br>
</div>

<div class='talk op-msg' data-timestamp='1596836580' id='398150'>
<a class='timestamp' href='#398150'><time timestamp='2020-08-07T21:43:00Z'>21:43</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
especially since boost::filesystem is probably <u>_also_</u> the same library under a different name, more or less
<br>
</div>

<div class='talk op-msg' data-timestamp='1596836760' id='398151'>
<a class='timestamp' href='#398151'><time timestamp='2020-08-07T21:46:00Z'>21:46</time></a>
&lt;<span class='nick nick-12'> Kiminuo</span>&gt;
std::filesystem is kind of renamed boost::filesystem with some modifications, but the details are sometimes not that easy to find (at least for me)
<br>
</div>

<div class='talk op-msg' data-timestamp='1596836820' id='398152'>
<a class='timestamp' href='#398152'><time timestamp='2020-08-07T21:47:00Z'>21:47</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
yeah, that&#x27;s usually how it goes with C++ library features being standardized I think -- they start in boost and work their way into the standard library
<br>
</div>

<div class='talk op-msg' data-timestamp='1596837000' id='398153'>
<a class='timestamp' href='#398153'><time timestamp='2020-08-07T21:50:00Z'>21:50</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
GCC 7 jusy predates the c++17 standard being finalized
<br>
</div>

<div class='talk op-msg' data-timestamp='1596837000' id='398154'>
<a class='timestamp' href='#398154'><time timestamp='2020-08-07T21:50:00Z'>21:50</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
so i guess that&#x27;z why it&#x27;s only available under experimental - at the time it was written there was no way to know of that would eventually match the spec
<br>
</div>

<div class='talk op-msg' data-timestamp='1596837060' id='398155'>
<a class='timestamp' href='#398155'><time timestamp='2020-08-07T21:51:00Z'>21:51</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
GCC 7.5 is more than recent enough, but i guess these things are only updated in major releasesm
<br>
</div>

<div class='talk op-msg' data-timestamp='1596837180' id='398156'>
<a class='timestamp' href='#398156'><time timestamp='2020-08-07T21:53:00Z'>21:53</time></a>
&lt;<span class='nick nick-12'> Kiminuo</span>&gt;
<a href="https://travis-ci.org/github/bitcoin/bitcoin/jobs/715745836" class="link" target="_blank">https://travis-ci.org/github/bitcoin/bitcoin/jobs/715745836</a> - but here GCC is also 7.5 and the test passes
<br>
</div>

<div class='talk op-msg' data-timestamp='1596837180' id='398157'>
<a class='timestamp' href='#398157'><time timestamp='2020-08-07T21:53:00Z'>21:53</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
hmm, strange
<br>
</div>

<div class='talk op-msg' data-timestamp='1596837180' id='398158'>
<a class='timestamp' href='#398158'><time timestamp='2020-08-07T21:53:00Z'>21:53</time></a>
&lt;<span class='nick nick-12'> Kiminuo</span>&gt;
actually it&#x27;s verbatim the same thing as in the failing test
<br>
</div>

<div class='talk op-msg' data-timestamp='1596837600' id='398159'>
<a class='timestamp' href='#398159'><time timestamp='2020-08-07T22:00:00Z'>22:00</time></a>
&lt;<span class='nick nick-12'> Kiminuo</span>&gt;
<a href="https://www.diffchecker.com/Q52OO5NI" class="link" target="_blank">https://www.diffchecker.com/Q52OO5NI</a> - &quot;Build system information&quot; sections are actually the same for OK test &amp; failing test.
<br>
</div>

<div class='talk op-msg' data-timestamp='1596837660' id='398160'>
<a class='timestamp' href='#398160'><time timestamp='2020-08-07T22:01:00Z'>22:01</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
according to <a href="https://gcc.gnu.org/onlinedocs/libstdc++/manual/status.html#status" class="link" target="_blank">https://gcc.gnu.org/onlinedocs/libstdc++/manual/status.html#status</a>.iso.2017 it was not added until 8.1 <u>_and_</u> it still requires a special link argument, -lstdc++fs
<br>
</div>

<div class='talk op-msg' data-timestamp='1596837660' id='398161'>
<a class='timestamp' href='#398161'><time timestamp='2020-08-07T22:01:00Z'>22:01</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
so, there&#x27;s something weird happening 
<br>
</div>

<div class='talk op-msg' data-timestamp='1596838260' id='398162'>
<a class='timestamp' href='#398162'><time timestamp='2020-08-07T22:11:00Z'>22:11</time></a>
&lt;<span class='nick nick-12'> Kiminuo</span>&gt;
yeah, I have mentioned that earlier
<br>
</div>

<div class='talk op-msg' data-timestamp='1596838260' id='398163'>
<a class='timestamp' href='#398163'><time timestamp='2020-08-07T22:11:00Z'>22:11</time></a>
&lt;<span class='nick nick-12'> Kiminuo</span>&gt;
(that link argument)
<br>
</div>

<div class='talk op-msg' data-timestamp='1596838320' id='398164'>
<a class='timestamp' href='#398164'><time timestamp='2020-08-07T22:12:00Z'>22:12</time></a>
&lt;<span class='nick nick-12'> Kiminuo</span>&gt;
I&#x27;m not sure how long it would take to wait for GCC 8.1 to be widespread.
<br>
</div>

<div class='talk op-msg' data-timestamp='1596838440' id='398165'>
<a class='timestamp' href='#398165'><time timestamp='2020-08-07T22:14:00Z'>22:14</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
this is something to report on <a href="https://github.com/bitcoin/bitcoin/issues/16684" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/16684</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1596838500' id='398166'>
<a class='timestamp' href='#398166'><time timestamp='2020-08-07T22:15:00Z'>22:15</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
so perhaps the right thing to do is making std::filesystem based builds still configurable, and only enable them on GCC 8.1+ platforms and others that we know support it
<br>
</div>

<div class='talk op-msg' data-timestamp='1596838560' id='398167'>
<a class='timestamp' href='#398167'><time timestamp='2020-08-07T22:16:00Z'>22:16</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
so that the lack of full std::filesystem support doesn&#x27;t hold up otherwise migrating to C++17
<br>
</div>

<div class='talk op-msg' data-timestamp='1596838620' id='398168'>
<a class='timestamp' href='#398168'><time timestamp='2020-08-07T22:17:00Z'>22:17</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gwillen, Kiminuo: perhaps a discrepancy is due to libstdc++ and gcc not being the exact same thing and available in lockstep?
<br>
</div>

<div class='talk op-msg' data-timestamp='1596838620' id='398169'>
<a class='timestamp' href='#398169'><time timestamp='2020-08-07T22:17:00Z'>22:17</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
std::filesystem support is purely a libstdc++ side thing, i expect
<br>
</div>

<div class='talk op-msg' data-timestamp='1596838740' id='398170'>
<a class='timestamp' href='#398170'><time timestamp='2020-08-07T22:19:00Z'>22:19</time></a>
&lt;<span class='nick nick-12'> Kiminuo</span>&gt;
sipa, I don&#x27;t know about that configuration. The APIs of both libraries is not in one-to-one correspondence. It can be done by a wrapper I guess.
<br>
</div>

<div class='talk op-msg' data-timestamp='1596838740' id='398171'>
<a class='timestamp' href='#398171'><time timestamp='2020-08-07T22:19:00Z'>22:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
well, that wrapper already exists
<br>
</div>

<div class='talk op-msg' data-timestamp='1596838740' id='398172'>
<a class='timestamp' href='#398172'><time timestamp='2020-08-07T22:19:00Z'>22:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
this is why we have the fs namespace
<br>
</div>

<div class='talk op-msg' data-timestamp='1596838800' id='398173'>
<a class='timestamp' href='#398173'><time timestamp='2020-08-07T22:20:00Z'>22:20</time></a>
&lt;<span class='nick nick-12'> Kiminuo</span>&gt;
True
<br>
</div>

<div class='talk op-msg' data-timestamp='1596838800' id='398174'>
<a class='timestamp' href='#398174'><time timestamp='2020-08-07T22:20:00Z'>22:20</time></a>
&lt;<span class='nick nick-12'> Kiminuo</span>&gt;
But you would need to add more functions
<br>
</div>

<div class='talk op-msg' data-timestamp='1596838800' id='398175'>
<a class='timestamp' href='#398175'><time timestamp='2020-08-07T22:20:00Z'>22:20</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i expect that slight differences between boost::filesystem and std::filesystem make it not exactly a &quot;using fs = boost::filesystem&quot; vs &quot;using fs = std::filesystem&quot;, but it shouldn&#x27;t be too much more than that
<br>
</div>

<div class='talk op-msg' data-timestamp='1596838860' id='398176'>
<a class='timestamp' href='#398176'><time timestamp='2020-08-07T22:21:00Z'>22:21</time></a>
&lt;<span class='nick nick-12'> Kiminuo</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/pull/19245" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19245</a> - it&#x27;s documented here
<br>
</div>

<div class='talk op-msg' data-timestamp='1596838860' id='398177'>
<a class='timestamp' href='#398177'><time timestamp='2020-08-07T22:21:00Z'>22:21</time></a>
&lt;<span class='nick nick-12'> Kiminuo</span>&gt;
The differences are not that big
<br>
</div>

<div class='talk op-msg' data-timestamp='1596838920' id='398178'>
<a class='timestamp' href='#398178'><time timestamp='2020-08-07T22:22:00Z'>22:22</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ok
<br>
</div>

<div class='talk op-msg' data-timestamp='1596838920' id='398179'>
<a class='timestamp' href='#398179'><time timestamp='2020-08-07T22:22:00Z'>22:22</time></a>
&lt;<span class='nick nick-12'> Kiminuo</span>&gt;
But if you have a fs::path and you use operator &quot;/&quot;, I think it behaves slightly differently. And that may be hard to explain to people
<br>
</div>

<div class='talk op-msg' data-timestamp='1596838980' id='398180'>
<a class='timestamp' href='#398180'><time timestamp='2020-08-07T22:23:00Z'>22:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
what is the difference?
<br>
</div>

<div class='talk op-msg' data-timestamp='1596839040' id='398181'>
<a class='timestamp' href='#398181'><time timestamp='2020-08-07T22:24:00Z'>22:24</time></a>
&lt;<span class='nick nick-12'> Kiminuo</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/pull/19466#discussion_r451809243" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19466#discussion_r451809243</a> 
<br>
</div>

<div class='talk op-msg' data-timestamp='1596839040' id='398182'>
<a class='timestamp' href='#398182'><time timestamp='2020-08-07T22:24:00Z'>22:24</time></a>
&lt;<span class='nick nick-12'> Kiminuo</span>&gt;
there was something like this
<br>
</div>

<div class='talk op-msg' data-timestamp='1596839100' id='398183'>
<a class='timestamp' href='#398183'><time timestamp='2020-08-07T22:25:00Z'>22:25</time></a>
&lt;<span class='nick nick-12'> Kiminuo</span>&gt;
let me check what that was actually about
<br>
</div>

<div class='talk op-msg' data-timestamp='1596839160' id='398184'>
<a class='timestamp' href='#398184'><time timestamp='2020-08-07T22:26:00Z'>22:26</time></a>
&lt;<span class='nick nick-12'> Kiminuo</span>&gt;
PR 19466 is based on boost::filesystem and Marco said that in <a href="https://github.com/bitcoin/bitcoin/pull/19466#discussion_r451809243" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19466#discussion_r451809243</a> you would get `/tmp//sadf` and in std::filesystem you would get &quot;/foo&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1596839220' id='398185'>
<a class='timestamp' href='#398185'><time timestamp='2020-08-07T22:27:00Z'>22:27</time></a>
&lt;<span class='nick nick-12'> Kiminuo</span>&gt;
I hope I&#x27;m saying that correctly
<br>
</div>

<div class='talk op-msg' data-timestamp='1596839220' id='398186'>
<a class='timestamp' href='#398186'><time timestamp='2020-08-07T22:27:00Z'>22:27</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
heh
<br>
</div>

<div class='talk op-msg' data-timestamp='1596839580' id='398187'>
<a class='timestamp' href='#398187'><time timestamp='2020-08-07T22:33:00Z'>22:33</time></a>
&lt;<span class='nick nick-12'> Kiminuo</span>&gt;
That&#x27;s pretty nasty, if true
<br>
</div>

<div class='talk op-msg' data-timestamp='1596839640' id='398188'>
<a class='timestamp' href='#398188'><time timestamp='2020-08-07T22:34:00Z'>22:34</time></a>
&lt;<span class='nick nick-12'> Kiminuo</span>&gt;
That makes me thing that using boost::filesystem &amp; std::filesystem at the same time may bring troubles
<br>
</div>

</div>
</section>

</body>
</html>
