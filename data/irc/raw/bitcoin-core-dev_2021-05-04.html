<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2021-05-04
 â€” 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2021-05-04' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:16 UTC</pre>
<pre><a href="/bitcoin-core-dev/2021-04-04">&lt;</a><span class='header'>     May 2021     </span><a href="/bitcoin-core-dev/2021-06-04">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;                   <a class="" href="/bitcoin-core-dev/2021-05-01">1</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2021-05-02">2</a>  <a class="" href="/bitcoin-core-dev/2021-05-03">3</a>  <a class="current" href="/bitcoin-core-dev/2021-05-04">4</a>  <a class="" href="/bitcoin-core-dev/2021-05-05">5</a>  <a class="" href="/bitcoin-core-dev/2021-05-06">6</a>  <a class="" href="/bitcoin-core-dev/2021-05-07">7</a>  <a class="" href="/bitcoin-core-dev/2021-05-08">8</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2021-05-09">9</a> <a class="" href="/bitcoin-core-dev/2021-05-10">10</a> <a class="" href="/bitcoin-core-dev/2021-05-11">11</a> <a class="" href="/bitcoin-core-dev/2021-05-12">12</a> <a class="" href="/bitcoin-core-dev/2021-05-13">13</a> <a class="" href="/bitcoin-core-dev/2021-05-14">14</a> <a class="" href="/bitcoin-core-dev/2021-05-15">15</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2021-05-16">16</a> <a class="" href="/bitcoin-core-dev/2021-05-17">17</a> <a class="" href="/bitcoin-core-dev/2021-05-18">18</a> <a class="" href="/bitcoin-core-dev/2021-05-19">19</a> <a class="" href="/bitcoin-core-dev/2021-05-20">20</a> <a class="" href="/bitcoin-core-dev/2021-05-21">21</a> <a class="" href="/bitcoin-core-dev/2021-05-22">22</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2021-05-23">23</a> <a class="" href="/bitcoin-core-dev/2021-05-24">24</a> <a class="" href="/bitcoin-core-dev/2021-05-25">25</a> <a class="" href="/bitcoin-core-dev/2021-05-26">26</a> <a class="" href="/bitcoin-core-dev/2021-05-27">27</a> <a class="" href="/bitcoin-core-dev/2021-05-28">28</a> <a class="" href="/bitcoin-core-dev/2021-05-29">29</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2021-05-30">30</a> <a class="" href="/bitcoin-core-dev/2021-05-31">31</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1620103860' id='363893'>
<a class='timestamp' href='#363893'><time timestamp='2021-05-04T04:51:00Z'>04:51</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke pushed 4 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/bf5e6a7771b3...e2d4e67a8fcc" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/bf5e6a7771b3...e2d4e67a8fcc</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1620103860' id='363894'>
<a class='timestamp' href='#363894'><time timestamp='2021-05-04T04:51:00Z'>04:51</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master fa2197c MarcoFalke: test: Use loop to register RPCs
<br>
</div>

<div class='talk op-msg' data-timestamp='1620103860' id='363895'>
<a class='timestamp' href='#363895'><time timestamp='2021-05-04T04:51:00Z'>04:51</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 000098f MarcoFalke: test: Use throwing variant accessor
<br>
</div>

<div class='talk op-msg' data-timestamp='1620103860' id='363896'>
<a class='timestamp' href='#363896'><time timestamp='2021-05-04T04:51:00Z'>04:51</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master fa8a888 MarcoFalke: bench: Remove duplicate constants
<br>
</div>

<div class='talk op-msg' data-timestamp='1620103860' id='363897'>
<a class='timestamp' href='#363897'><time timestamp='2021-05-04T04:51:00Z'>04:51</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke merged pull request #21840: test: Misc refactor to get rid of &amp;foo[0] raw pointers (master...2105-testRefactor) <a href="https://github.com/bitcoin/bitcoin/pull/21840" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/21840</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1620112560' id='363898'>
<a class='timestamp' href='#363898'><time timestamp='2021-05-04T07:16:00Z'>07:16</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke opened pull request #21848: refactor: Make CFeeRate constructor arch-independent (master...2105-feerate) <a href="https://github.com/bitcoin/bitcoin/pull/21848" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/21848</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1620113220' id='363899'>
<a class='timestamp' href='#363899'><time timestamp='2021-05-04T07:27:00Z'>07:27</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke opened pull request #21849: fuzz: Limit toxic test globals to their respective scope (master...2105-fuzzToxic) <a href="https://github.com/bitcoin/bitcoin/pull/21849" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/21849</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1620114300' id='363900'>
<a class='timestamp' href='#363900'><time timestamp='2021-05-04T07:45:00Z'>07:45</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 4 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/e2d4e67a8fcc...ab9a566ab333" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/e2d4e67a8fcc...ab9a566ab333</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1620114300' id='363901'>
<a class='timestamp' href='#363901'><time timestamp='2021-05-04T07:45:00Z'>07:45</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master ea269c7 Jon Atack: contrib: parse I2P addresses in generate-seeds.py
<br>
</div>

<div class='talk op-msg' data-timestamp='1620114300' id='363902'>
<a class='timestamp' href='#363902'><time timestamp='2021-05-04T07:45:00Z'>07:45</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master e01f173 Jon Atack: contrib: add a few I2P seed nodes
<br>
</div>

<div class='talk op-msg' data-timestamp='1620114300' id='363903'>
<a class='timestamp' href='#363903'><time timestamp='2021-05-04T07:45:00Z'>07:45</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 142e2da Jon Atack: net: add I2P seeds to chainparamsseeds
<br>
</div>

<div class='talk op-msg' data-timestamp='1620114300' id='363904'>
<a class='timestamp' href='#363904'><time timestamp='2021-05-04T07:45:00Z'>07:45</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj merged pull request #21825: net: add I2P hardcoded seeds (master...i2p-hardcoded-seeds) <a href="https://github.com/bitcoin/bitcoin/pull/21825" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/21825</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1620114900' id='363905'>
<a class='timestamp' href='#363905'><time timestamp='2021-05-04T07:55:00Z'>07:55</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
ryanofsky: done
<br>
</div>

<div class='talk op-msg' data-timestamp='1620115440' id='363906'>
<a class='timestamp' href='#363906'><time timestamp='2021-05-04T08:04:00Z'>08:04</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Antpool taproot block, thats over 50% hashpower now.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620115560' id='363907'>
<a class='timestamp' href='#363907'><time timestamp='2021-05-04T08:06:00Z'>08:06</time></a>
&lt;<span class='nick nick-3'> aj</span>&gt;
\o/
<br>
</div>

<div class='talk op-msg' data-timestamp='1620115860' id='363908'>
<a class='timestamp' href='#363908'><time timestamp='2021-05-04T08:11:00Z'>08:11</time></a>
&lt;<span class='nick nick-14'> hugohn</span>&gt;
hi, I&#x27;m curious what else needs to be done before <a href="https://github.com/bitcoin/bips/pull/1097" class="link" target="_blank">https://github.com/bitcoin/bips/pull/1097</a> can get a BIP number assigned?
<br>
</div>

<div class='talk op-msg' data-timestamp='1620115860' id='363909'>
<a class='timestamp' href='#363909'><time timestamp='2021-05-04T08:11:00Z'>08:11</time></a>
&lt;<span class='nick nick-14'> hugohn</span>&gt;
I saw some chatter earlier about folks wanting to change the BIP process, but until that becomes more clear I assume the process stays the same.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620115860' id='363910'>
<a class='timestamp' href='#363910'><time timestamp='2021-05-04T08:11:00Z'>08:11</time></a>
&lt;<span class='nick nick-14'> hugohn</span>&gt;
(also yay on Taproot signaling progress)
<br>
</div>

<div class='talk op-msg' data-timestamp='1620116040' id='363911'>
<a class='timestamp' href='#363911'><time timestamp='2021-05-04T08:14:00Z'>08:14</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
hugohn: nothing, it should just get a BIP number assigned
<br>
</div>

<div class='talk op-msg' data-timestamp='1620116160' id='363912'>
<a class='timestamp' href='#363912'><time timestamp='2021-05-04T08:16:00Z'>08:16</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
ping @luke-jr ^
<br>
</div>

<div class='talk op-msg' data-timestamp='1620116160' id='363913'>
<a class='timestamp' href='#363913'><time timestamp='2021-05-04T08:16:00Z'>08:16</time></a>
&lt;<span class='nick nick-3'> aj</span>&gt;
hugohn: <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2021-April/018868.html" class="link" target="_blank">https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2021-April/018868.html</a> suggests assigning a name in the meantime, i guess like hugohn-multisig-setup; otherwise what wumpus said
<br>
</div>

<div class='talk op-msg' data-timestamp='1620116340' id='363914'>
<a class='timestamp' href='#363914'><time timestamp='2021-05-04T08:19:00Z'>08:19</time></a>
&lt;<span class='nick nick-14'> hugohn</span>&gt;
@wumpus @aj thanks !  
<br>
</div>

<div class='talk op-msg' data-timestamp='1620116340' id='363915'>
<a class='timestamp' href='#363915'><time timestamp='2021-05-04T08:19:00Z'>08:19</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes, moving to names might make sense too, in any case please don&#x27;t let bitcoin innovation be stuck on having to centrally assign numbers, this shouldn&#x27;t be an issue
<br>
</div>

<div class='talk op-msg' data-timestamp='1620116400' id='363916'>
<a class='timestamp' href='#363916'><time timestamp='2021-05-04T08:20:00Z'>08:20</time></a>
&lt;<span class='nick nick-14'> hugohn</span>&gt;
I&#x27;ve already named the branch &quot;bip-hugonguyen-bsms&quot;. Does it need to be included in the spec itself?
<br>
</div>

<div class='talk op-msg' data-timestamp='1620116700' id='363917'>
<a class='timestamp' href='#363917'><time timestamp='2021-05-04T08:25:00Z'>08:25</time></a>
&lt;<span class='nick nick-14'> hugohn</span>&gt;
on a side note: I think using BIP numbers or acronyms like BSMS / PSBT as unique identifiers for a spec is still more ideal. Using personal names as identifiers for a standard seems... weird :) 
<br>
</div>

<div class='talk op-msg' data-timestamp='1620116760' id='363918'>
<a class='timestamp' href='#363918'><time timestamp='2021-05-04T08:26:00Z'>08:26</time></a>
&lt;<span class='nick nick-14'> hugohn</span>&gt;
not to mention the long ID is a mouthful / harder to share
<br>
</div>

<div class='talk op-msg' data-timestamp='1620116820' id='363919'>
<a class='timestamp' href='#363919'><time timestamp='2021-05-04T08:27:00Z'>08:27</time></a>
&lt;<span class='nick nick-14'> hugohn</span>&gt;
although the idea of of a more decentralized process does sound good
<br>
</div>

<div class='talk op-msg' data-timestamp='1620116940' id='363920'>
<a class='timestamp' href='#363920'><time timestamp='2021-05-04T08:29:00Z'>08:29</time></a>
&lt;<span class='nick nick-14'> hugohn</span>&gt;
maybe the process could be decoupled, but the ID aspect could stay centralized (e.g. there could be a BIP on BIP number generation). just thinking out loud.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620116940' id='363921'>
<a class='timestamp' href='#363921'><time timestamp='2021-05-04T08:29:00Z'>08:29</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
an idea we had early was to simply use the PR number as BIP number
<br>
</div>

<div class='talk op-msg' data-timestamp='1620116940' id='363922'>
<a class='timestamp' href='#363922'><time timestamp='2021-05-04T08:29:00Z'>08:29</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
some projects (rust, I think?) use this approach
<br>
</div>

<div class='talk op-msg' data-timestamp='1620117000' id='363923'>
<a class='timestamp' href='#363923'><time timestamp='2021-05-04T08:30:00Z'>08:30</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
but also there was some effort to make BIP numbers meaningful, certain ranges map to certain things, it is not simply a sequence generator
<br>
</div>

<div class='talk op-msg' data-timestamp='1620117120' id='363924'>
<a class='timestamp' href='#363924'><time timestamp='2021-05-04T08:32:00Z'>08:32</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
agree that having an author name in it is weird, on the other hand, namespacing is hard, many projects eventually settle on organization/pseudonym based namespacing to prevent name squatting etc
<br>
</div>

<div class='talk op-msg' data-timestamp='1620117120' id='363925'>
<a class='timestamp' href='#363925'><time timestamp='2021-05-04T08:32:00Z'>08:32</time></a>
&lt;<span class='nick nick-14'> hugohn</span>&gt;
right. if it&#x27;s not a simple sequence generator, a BIP on BIPs probably makes more sense.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620117180' id='363926'>
<a class='timestamp' href='#363926'><time timestamp='2021-05-04T08:33:00Z'>08:33</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
this is mustly a problem if it would be managed by as scriptbot
<br>
</div>

<div class='talk op-msg' data-timestamp='1620117180' id='363927'>
<a class='timestamp' href='#363927'><time timestamp='2021-05-04T08:33:00Z'>08:33</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
you mean like BIP1 and 2?
<br>
</div>

<div class='talk op-msg' data-timestamp='1620117240' id='363928'>
<a class='timestamp' href='#363928'><time timestamp='2021-05-04T08:34:00Z'>08:34</time></a>
&lt;<span class='nick nick-14'> hugohn</span>&gt;
yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1620117240' id='363929'>
<a class='timestamp' href='#363929'><time timestamp='2021-05-04T08:34:00Z'>08:34</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
in any case, this discussion is kind of off-topic here, the bitcoin core project is one implementation, that the current BIPs repository is in the same orginazation is a historical artifact, it does not mean BIPs &#x27;belong&#x27; to bitcoin core or something like that
<br>
</div>

<div class='talk op-msg' data-timestamp='1620117540' id='363930'>
<a class='timestamp' href='#363930'><time timestamp='2021-05-04T08:39:00Z'>08:39</time></a>
&lt;<span class='nick nick-10'> michaelfolkson</span>&gt;
I think there will be future discussions on a revised BIP process once (hopefully) Taproot activation is completed hugohn if you&#x27;d like to engage with that <a href="https://github.com/bitcoin/bips/pull/1015" class="link" target="_blank">https://github.com/bitcoin/bips/pull/1015</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1620117540' id='363931'>
<a class='timestamp' href='#363931'><time timestamp='2021-05-04T08:39:00Z'>08:39</time></a>
&lt;<span class='nick nick-10'> michaelfolkson</span>&gt;
A few things I think are probably in need of a revamp (or at least a discussion)
<br>
</div>

<div class='talk op-msg' data-timestamp='1620117600' id='363932'>
<a class='timestamp' href='#363932'><time timestamp='2021-05-04T08:40:00Z'>08:40</time></a>
&lt;<span class='nick nick-14'> hugohn</span>&gt;
thanks @michaelfolkson . I&#x27;d take a look.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620117600' id='363933'>
<a class='timestamp' href='#363933'><time timestamp='2021-05-04T08:40:00Z'>08:40</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
ideally it should be a fast and low-friction process
<br>
</div>

<div class='talk op-msg' data-timestamp='1620117840' id='363934'>
<a class='timestamp' href='#363934'><time timestamp='2021-05-04T08:44:00Z'>08:44</time></a>
&lt;<span class='nick nick-10'> michaelfolkson</span>&gt;
Right, there are a few edge cases that need ironing out too eg what &quot;Rejected&quot; means and how you get out of &quot;Rejected&quot; status (if indeed you ever do)
<br>
</div>

<div class='talk op-msg' data-timestamp='1620118260' id='363935'>
<a class='timestamp' href='#363935'><time timestamp='2021-05-04T08:51:00Z'>08:51</time></a>
&lt;<span class='nick nick-10'> michaelfolkson</span>&gt;
I&#x27;m assuming GUI translation issues should be in the GUI repo and not the main repo? <a href="https://github.com/bitcoin/bitcoin/issues/21847" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/21847</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1620118320' id='363936'>
<a class='timestamp' href='#363936'><time timestamp='2021-05-04T08:52:00Z'>08:52</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
correct, that is what the GUI repo is for
<br>
</div>

<div class='talk op-msg' data-timestamp='1620118380' id='363937'>
<a class='timestamp' href='#363937'><time timestamp='2021-05-04T08:53:00Z'>08:53</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
i think we should add an entry to the &quot;<a href="https://github.com/bitcoin/bitcoin/issues/new/choose" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/new/choose</a>&quot; list for GUI issues, redirecting people to the appropriate repository
<br>
</div>

<div class='talk op-msg' data-timestamp='1620118440' id='363938'>
<a class='timestamp' href='#363938'><time timestamp='2021-05-04T08:54:00Z'>08:54</time></a>
&lt;<span class='nick nick-14'> hugohn</span>&gt;
@wumpus I understand. I think we should continue with this &quot;historical artifact&quot;, as unfortunate as it is, until there&#x27;s a better way. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1620118500' id='363939'>
<a class='timestamp' href='#363939'><time timestamp='2021-05-04T08:55:00Z'>08:55</time></a>
&lt;<span class='nick nick-14'> hugohn</span>&gt;
As the Bitcoin protocol slowly ossifies, the bulk of new specs will likely be in the Application layer. It does make less sense to bundle them with the Core project.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620118560' id='363940'>
<a class='timestamp' href='#363940'><time timestamp='2021-05-04T08:56:00Z'>08:56</time></a>
&lt;<span class='nick nick-10'> michaelfolkson</span>&gt;
hugohn: They aren&#x27;t really bundled with the Core project. It is true the BIPs repo is under the Bitcoin Core GitHub org but no Bitcoin Core maintainers merge BIP PRs afaik so I think it is fine under the Core org
<br>
</div>

<div class='talk op-msg' data-timestamp='1620118620' id='363941'>
<a class='timestamp' href='#363941'><time timestamp='2021-05-04T08:57:00Z'>08:57</time></a>
&lt;<span class='nick nick-10'> michaelfolkson</span>&gt;
hugohn: I personally think it would be overkill to give the BIPs repo its own org
<br>
</div>

<div class='talk op-msg' data-timestamp='1620118740' id='363942'>
<a class='timestamp' href='#363942'><time timestamp='2021-05-04T08:59:00Z'>08:59</time></a>
&lt;<span class='nick nick-10'> michaelfolkson</span>&gt;
wumpus: There already is &quot;An issue or feature request related to the GUI&quot; option when you open an issue. Is that what you mean?
<br>
</div>

<div class='talk op-msg' data-timestamp='1620118740' id='363943'>
<a class='timestamp' href='#363943'><time timestamp='2021-05-04T08:59:00Z'>08:59</time></a>
&lt;<span class='nick nick-10'> michaelfolkson</span>&gt;
wumpus: You click on that option and you get &quot;Any report, issue or feature request related to the GUI should be reported at
<br>
</div>

<div class='talk op-msg' data-timestamp='1620118740' id='363944'>
<a class='timestamp' href='#363944'><time timestamp='2021-05-04T08:59:00Z'>08:59</time></a>
&lt;<span class='nick nick-10'> michaelfolkson</span>&gt;
<a href="https://github.com/bitcoin-core/gui/issues/" class="link" target="_blank">https://github.com/bitcoin-core/gui/issues/</a>&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1620118740' id='363945'>
<a class='timestamp' href='#363945'><time timestamp='2021-05-04T08:59:00Z'>08:59</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
michaelfolkson: yes, except it should send you to the GUI repo
<br>
</div>

<div class='talk op-msg' data-timestamp='1620118740' id='363946'>
<a class='timestamp' href='#363946'><time timestamp='2021-05-04T08:59:00Z'>08:59</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
oh okay, that&#x27;s a bit weird but i guess it works
<br>
</div>

<div class='talk op-msg' data-timestamp='1620118740' id='363947'>
<a class='timestamp' href='#363947'><time timestamp='2021-05-04T08:59:00Z'>08:59</time></a>
&lt;<span class='nick nick-10'> michaelfolkson</span>&gt;
wumpus: Ah ok I see what you mean
<br>
</div>

<div class='talk op-msg' data-timestamp='1620118860' id='363948'>
<a class='timestamp' href='#363948'><time timestamp='2021-05-04T09:01:00Z'>09:01</time></a>
&lt;<span class='nick nick-10'> michaelfolkson</span>&gt;
I agree that would be optimal but not sure if you can be redirected to a different repo when you click a new issue option
<br>
</div>

<div class='talk op-msg' data-timestamp='1620118860' id='363949'>
<a class='timestamp' href='#363949'><time timestamp='2021-05-04T09:01:00Z'>09:01</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
i guess the problem is that &quot;gui&quot; will have the same options, by definition, because it has the same underlying repository
<br>
</div>

<div class='talk op-msg' data-timestamp='1620118860' id='363950'>
<a class='timestamp' href='#363950'><time timestamp='2021-05-04T09:01:00Z'>09:01</time></a>
&lt;<span class='nick nick-10'> michaelfolkson</span>&gt;
Right
<br>
</div>

<div class='talk op-msg' data-timestamp='1620118920' id='363951'>
<a class='timestamp' href='#363951'><time timestamp='2021-05-04T09:02:00Z'>09:02</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
i thought it could be like the &quot;view policy&quot; link for security reports, but apparently that one is a special edge cases by github
<br>
</div>

<div class='talk op-msg' data-timestamp='1620127140' id='363952'>
<a class='timestamp' href='#363952'><time timestamp='2021-05-04T11:19:00Z'>11:19</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] fanquake pushed 4 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/ab9a566ab333...0ca8b7e7ecd5" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/ab9a566ab333...0ca8b7e7ecd5</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1620127140' id='363953'>
<a class='timestamp' href='#363953'><time timestamp='2021-05-04T11:19:00Z'>11:19</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master faeabef MarcoFalke: ci: Enable D_GLIBCXX_DEBUG for multiprocess task
<br>
</div>

<div class='talk op-msg' data-timestamp='1620127140' id='363954'>
<a class='timestamp' href='#363954'><time timestamp='2021-05-04T11:19:00Z'>11:19</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master fad0f21 MarcoFalke: ci: Use clang in multiprocess task to avoid OOM
<br>
</div>

<div class='talk op-msg' data-timestamp='1620127140' id='363955'>
<a class='timestamp' href='#363955'><time timestamp='2021-05-04T11:19:00Z'>11:19</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master fa44f51 MarcoFalke: ci: Clarify that previous_releases task is using DEBUG
<br>
</div>

<div class='talk op-msg' data-timestamp='1620127140' id='363956'>
<a class='timestamp' href='#363956'><time timestamp='2021-05-04T11:19:00Z'>11:19</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] fanquake merged pull request #21812: ci: Enable D_GLIBCXX_DEBUG for multiprocess task (master...2104-ciDEBUG) <a href="https://github.com/bitcoin/bitcoin/pull/21812" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/21812</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1620128520' id='363957'>
<a class='timestamp' href='#363957'><time timestamp='2021-05-04T11:42:00Z'>11:42</time></a>
&lt;<span class='nick nick-14'> jonatack</span>&gt;
MarcoFalke: question regarding fuzzed_data_provider.ConsumeBool(), which exists but isn&#x27;t used yet...is it ok to add a line to an enum to use it? e.g. adding &quot;kMaxValue = NET_MAX,&quot; at the end of netaddress.h::enum Network 
<br>
</div>

<div class='talk op-msg' data-timestamp='1620128580' id='363958'>
<a class='timestamp' href='#363958'><time timestamp='2021-05-04T11:43:00Z'>11:43</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
I see 169 uses of fuzzed_data_provider.ConsumeBool() ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1620128640' id='363959'>
<a class='timestamp' href='#363959'><time timestamp='2021-05-04T11:44:00Z'>11:44</time></a>
&lt;<span class='nick nick-14'> jonatack</span>&gt;
er, ConsumeEnum, mistyped...or do we prefer to avoid changing enums to use it
<br>
</div>

<div class='talk op-msg' data-timestamp='1620129300' id='363960'>
<a class='timestamp' href='#363960'><time timestamp='2021-05-04T11:55:00Z'>11:55</time></a>
&lt;<span class='nick nick-14'> jonatack</span>&gt;
will propose using ConsumeEnum() and see what reviewers say
<br>
</div>

<div class='talk op-msg' data-timestamp='1620129960' id='363961'>
<a class='timestamp' href='#363961'><time timestamp='2021-05-04T12:06:00Z'>12:06</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] kiminuo opened pull request #21850: Remove `GetDataDir(net_specific)` function (master...feature/2021-05-get-data-dir-step-2) <a href="https://github.com/bitcoin/bitcoin/pull/21850" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/21850</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1620132300' id='363962'>
<a class='timestamp' href='#363962'><time timestamp='2021-05-04T12:45:00Z'>12:45</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] fanquake opened pull request #21851: [WIP] build: support cross-compiling for arm64-apple-darwin20 (Apple M1) in depends (master...m1_support_depends) <a href="https://github.com/bitcoin/bitcoin/pull/21851" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/21851</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1620133620' id='363963'>
<a class='timestamp' href='#363963'><time timestamp='2021-05-04T13:07:00Z'>13:07</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke opened pull request #21852: ci: Add msan fuzz config (master...2105-ci12Msan) <a href="https://github.com/bitcoin/bitcoin/pull/21852" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/21852</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1620133680' id='363964'>
<a class='timestamp' href='#363964'><time timestamp='2021-05-04T13:08:00Z'>13:08</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] fanquake closed pull request #21414: doc: add arm macOS depends platform triplet (master...macOS-platform-triplets) <a href="https://github.com/bitcoin/bitcoin/pull/21414" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/21414</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1620140400' id='363965'>
<a class='timestamp' href='#363965'><time timestamp='2021-05-04T15:00:00Z'>15:00</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
sdaftuar: <a href="https://github.com/bitcoin/bitcoin/pull/20685#discussion_r625856311" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20685#discussion_r625856311</a> -- maybe the i2p router was restarted or the connection to it was interrupted in some way and the i2p thread did RemoveLocal() (here: <a href="https://github.com/bitcoin/bitcoin/blob/0ca8b7e7ecd5bc537fbc1e372f6755a34a136f7f/src/net.cpp#L2232-L2234" class="link" target="_blank">https://github.com/bitcoin/bitcoin/blob/0ca8b7e7ecd5bc537fbc1e372f6755a34a136f7f/src/net.cpp#L2232-L2234</a>) which undid the initial AddLocal(MANUAL) due to externalip
<br>
</div>

<div class='talk op-msg' data-timestamp='1620140460' id='363966'>
<a class='timestamp' href='#363966'><time timestamp='2021-05-04T15:01:00Z'>15:01</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
later when the connection was reestablished the i2p thread does AddLocal(BIND) which is not &quot;strong&quot; enough to overcome fDiscover==false
<br>
</div>

<div class='talk op-msg' data-timestamp='1620140520' id='363967'>
<a class='timestamp' href='#363967'><time timestamp='2021-05-04T15:02:00Z'>15:02</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
sounds plausible?
<br>
</div>

<div class='talk op-msg' data-timestamp='1620140760' id='363968'>
<a class='timestamp' href='#363968'><time timestamp='2021-05-04T15:06:00Z'>15:06</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke pushed 4 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/0ca8b7e7ecd5...a1c6434e19bc" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/0ca8b7e7ecd5...a1c6434e19bc</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1620140760' id='363969'>
<a class='timestamp' href='#363969'><time timestamp='2021-05-04T15:06:00Z'>15:06</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master fab3017 MarcoFalke: ci: Set BASE_SCRATCH_DIR early, so that it can be used in test configs
<br>
</div>

<div class='talk op-msg' data-timestamp='1620140760' id='363970'>
<a class='timestamp' href='#363970'><time timestamp='2021-05-04T15:06:00Z'>15:06</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master fa399a7 MarcoFalke: ci: Use clang-12 in msan task
<br>
</div>

<div class='talk op-msg' data-timestamp='1620140760' id='363971'>
<a class='timestamp' href='#363971'><time timestamp='2021-05-04T15:06:00Z'>15:06</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master fa0422c MarcoFalke: ci: Add msan fuzz config
<br>
</div>

<div class='talk op-msg' data-timestamp='1620140760' id='363972'>
<a class='timestamp' href='#363972'><time timestamp='2021-05-04T15:06:00Z'>15:06</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke merged pull request #21852: ci: Add msan fuzz config (master...2105-ci12Msan) <a href="https://github.com/bitcoin/bitcoin/pull/21852" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/21852</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1620140820' id='363973'>
<a class='timestamp' href='#363973'><time timestamp='2021-05-04T15:07:00Z'>15:07</time></a>
&lt;<span class='nick nick-14'> jonatack</span>&gt;
update on FuzzedDataProvider::ConsumeEnum(), proposed to allow passing it a std::optional&lt;T&gt; max_value, so ConsumeEnum() may be used without needing to change existing enums.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620140880' id='363974'>
<a class='timestamp' href='#363974'><time timestamp='2021-05-04T15:08:00Z'>15:08</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
does it assume contigious values starting from 0?
<br>
</div>

<div class='talk op-msg' data-timestamp='1620140880' id='363975'>
<a class='timestamp' href='#363975'><time timestamp='2021-05-04T15:08:00Z'>15:08</time></a>
&lt;<span class='nick nick-14'> jonatack</span>&gt;
yes, same as before
<br>
</div>

<div class='talk op-msg' data-timestamp='1620140940' id='363976'>
<a class='timestamp' href='#363976'><time timestamp='2021-05-04T15:09:00Z'>15:09</time></a>
&lt;<span class='nick nick-14'> jonatack</span>&gt;
only avoids having to add an alias to the enum in the codebase
<br>
</div>

<div class='talk op-msg' data-timestamp='1620140940' id='363977'>
<a class='timestamp' href='#363977'><time timestamp='2021-05-04T15:09:00Z'>15:09</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
yeah, can&#x27;t be otherwise :/
<br>
</div>

<div class='talk op-msg' data-timestamp='1620141060' id='363978'>
<a class='timestamp' href='#363978'><time timestamp='2021-05-04T15:11:00Z'>15:11</time></a>
&lt;<span class='nick nick-14'> jonatack</span>&gt;
otherwise, there&#x27;s the existing ConsumeWeakEnum(values list...
<br>
</div>

<div class='talk op-msg' data-timestamp='1620141780' id='363979'>
<a class='timestamp' href='#363979'><time timestamp='2021-05-04T15:23:00Z'>15:23</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke pushed 2 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/a1c6434e19bc...3f8f238deb5a" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/a1c6434e19bc...3f8f238deb5a</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1620141780' id='363980'>
<a class='timestamp' href='#363980'><time timestamp='2021-05-04T15:23:00Z'>15:23</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master cf83b82 MarcoFalke: fuzz: Limit toxic test globals to their respective scope
<br>
</div>

<div class='talk op-msg' data-timestamp='1620141780' id='363981'>
<a class='timestamp' href='#363981'><time timestamp='2021-05-04T15:23:00Z'>15:23</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 3f8f238 MarcoFalke: Merge bitcoin/bitcoin#21849: fuzz: Limit toxic test globals to their respe...
<br>
</div>

<div class='talk op-msg' data-timestamp='1620141780' id='363982'>
<a class='timestamp' href='#363982'><time timestamp='2021-05-04T15:23:00Z'>15:23</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke merged pull request #21849: fuzz: Limit toxic test globals to their respective scope (master...2105-fuzzToxic) <a href="https://github.com/bitcoin/bitcoin/pull/21849" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/21849</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1620143400' id='363983'>
<a class='timestamp' href='#363983'><time timestamp='2021-05-04T15:50:00Z'>15:50</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
hugohn: I think what it is missing, is something like &quot;This BIP is not compatible with existing multisig software/hardware at all.&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1620143400' id='363984'>
<a class='timestamp' href='#363984'><time timestamp='2021-05-04T15:50:00Z'>15:50</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
(unless it is)
<br>
</div>

<div class='talk op-msg' data-timestamp='1620143940' id='363985'>
<a class='timestamp' href='#363985'><time timestamp='2021-05-04T15:59:00Z'>15:59</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] Relaxo143 opened pull request #21854: doc: make small corrections (v0.21.1 release notes) (master...patch-1) <a href="https://github.com/bitcoin/bitcoin/pull/21854" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/21854</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1620148080' id='363986'>
<a class='timestamp' href='#363986'><time timestamp='2021-05-04T17:08:00Z'>17:08</time></a>
&lt;<span class='nick nick-10'> michaelfolkson</span>&gt;
fanquake: Someone is building Core on Apple M1 here <a href="https://bitcoin.stackexchange.com/questions/105126/could-not-detect-boost-libraries-when-configuring-bitcoin-core-apple-m1-mac-mi" class="link" target="_blank">https://bitcoin.stackexchange.com/questions/105126/could-not-detect-boost-libraries-when-configuring-bitcoin-core-apple-m1-mac-mi</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1620148200' id='363987'>
<a class='timestamp' href='#363987'><time timestamp='2021-05-04T17:10:00Z'>17:10</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jonatack opened pull request #21855: fuzz: enable passing a max value to FuzzedDataProvider::ConsumeEnum() (master...ConsumeEnum-enable-passing-max-value) <a href="https://github.com/bitcoin/bitcoin/pull/21855" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/21855</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1620150120' id='363988'>
<a class='timestamp' href='#363988'><time timestamp='2021-05-04T17:42:00Z'>17:42</time></a>
&lt;<span class='nick nick-14'> hugohn</span>&gt;
@luke-jr the inclusion of things like NO_ENCRYPTION mode and BIP39-like PBKDF2 function parameters in the spec is to help with backward compatibility. IMO the main thing that might not be backward compatible with all vendors is the stateful nature of the Signers, which I have stated in the Compatibility section.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620150720' id='363989'>
<a class='timestamp' href='#363989'><time timestamp='2021-05-04T17:52:00Z'>17:52</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] adamjonas opened pull request #21856: doc: add OSS-Fuzz section to fuzzing.md doc (master...add-oss-fuzz) <a href="https://github.com/bitcoin/bitcoin/pull/21856" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/21856</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1620152460' id='363990'>
<a class='timestamp' href='#363990'><time timestamp='2021-05-04T18:21:00Z'>18:21</time></a>
&lt;<span class='nick nick-7'> robert_spigler</span>&gt;
luke-jr: I agree with hugohn&#x27;s analysis
<br>
</div>

<div class='talk op-msg' data-timestamp='1620155220' id='363991'>
<a class='timestamp' href='#363991'><time timestamp='2021-05-04T19:07:00Z'>19:07</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] Rqcker opened pull request #21857: Pull request (master...master) <a href="https://github.com/bitcoin/bitcoin/pull/21857" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/21857</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1620155220' id='363992'>
<a class='timestamp' href='#363992'><time timestamp='2021-05-04T19:07:00Z'>19:07</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] Rqcker closed pull request #21857: Pull request (master...master) <a href="https://github.com/bitcoin/bitcoin/pull/21857" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/21857</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1620158280' id='363993'>
<a class='timestamp' href='#363993'><time timestamp='2021-05-04T19:58:00Z'>19:58</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
robert_spigler: I&#x27;m not saying it should or shouldn&#x27;t be a certain answer - but it needs to be in the BIP, whatever it is :p
<br>
</div>

<div class='talk op-msg' data-timestamp='1620161520' id='363994'>
<a class='timestamp' href='#363994'><time timestamp='2021-05-04T20:52:00Z'>20:52</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
Hi folks. We have a p2p meeting scheduled in 10 minutes. Currently there aren&#x27;t any proposed topics at <a href="https://github.com/bitcoin-core/bitcoin-devwiki/wiki/P2P-IRC-meetings" class="link" target="_blank">https://github.com/bitcoin-core/bitcoin-devwiki/wiki/P2P-IRC-meetings</a>.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620161700' id='363995'>
<a class='timestamp' href='#363995'><time timestamp='2021-05-04T20:55:00Z'>20:55</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Current bitcoin core causes really old nodes to be unable to sync and to dos attack you.  The issue is that prior to 0.7-ish the size of headers messages wasn&#x27;t limited, and the node requests headers from everyone.  They blast you with a multimegabyte header and disconnect and go do it to someoen else.  These old nodes seem to have also formed a fork at an early height, nodes that have this 
<br>
</div>

<div class='talk op-msg' data-timestamp='1620161700' id='363996'>
<a class='timestamp' href='#363996'><time timestamp='2021-05-04T20:55:00Z'>20:55</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
fork will send it to you and get rejected for sending a fork before the highest checkpoing-- another product of requesting headers.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620161760' id='363997'>
<a class='timestamp' href='#363997'><time timestamp='2021-05-04T20:56:00Z'>20:56</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Fixing this appears to be trivial: Just don&#x27;t ever request headers from peers that aren&#x27;t NODE_WITNESS-- the node will never request blocks from them anyways.   But I changed this and it breaks like a dozen tests, some of which didn&#x27;t seem trivial to fix.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620161760' id='363998'>
<a class='timestamp' href='#363998'><time timestamp='2021-05-04T20:56:00Z'>20:56</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Someone who cares about p2p might want to fix this.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620161880' id='363999'>
<a class='timestamp' href='#363999'><time timestamp='2021-05-04T20:58:00Z'>20:58</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(until I stopped sending headers reqests to non-node witness peers, this garbage was few percent of my (pruned) node&#x27;s bandwidth usage)
<br>
</div>

<div class='talk op-msg' data-timestamp='1620161940' id='364000'>
<a class='timestamp' href='#364000'><time timestamp='2021-05-04T20:59:00Z'>20:59</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(my correct behavior might be slowly fixing the second forked-chain problem since I should be healing the partition)
<br>
</div>

<div class='talk op-msg' data-timestamp='1620162000' id='364001'>
<a class='timestamp' href='#364001'><time timestamp='2021-05-04T21:00:00Z'>21:00</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
#startmeeting
<br>
</div>

<div class='talk op-msg' data-timestamp='1620162000' id='364002'>
<a class='timestamp' href='#364002'><time timestamp='2021-05-04T21:00:00Z'>21:00</time></a>
&lt;<span class='nick nick-2'> core-meetingbot</span>&gt;
Meeting started Tue May  4 21:00:29 2021 UTC.  The chair is jnewbery. Information about MeetBot at <a href="https://bitcoin.jonasschnelli.ch/ircmeetings" class="link" target="_blank">https://bitcoin.jonasschnelli.ch/ircmeetings</a>.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620162000' id='364003'>
<a class='timestamp' href='#364003'><time timestamp='2021-05-04T21:00:00Z'>21:00</time></a>
&lt;<span class='nick nick-2'> core-meetingbot</span>&gt;
Available commands: action commands idea info link nick
<br>
</div>

<div class='talk op-msg' data-timestamp='1620162000' id='364004'>
<a class='timestamp' href='#364004'><time timestamp='2021-05-04T21:00:00Z'>21:00</time></a>
&lt;<span class='nick nick-8'> amiti</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1620162000' id='364005'>
<a class='timestamp' href='#364005'><time timestamp='2021-05-04T21:00:00Z'>21:00</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
#bitcoin-core-dev Meeting: achow101 aj amiti ariard bluematt cfields Chris_Stewart_5 digi_james dongcarl elichai2 emilengler fanquake fjahr gleb glozow gmaxwell gwillen hebasto instagibbs jamesob jb55 jeremyrubin jl2012 jnewbery jonasschnelli jonatack jtimon kallewoof kanzure kvaciral lightlike luke-jr maaku marcofalke meshcollider michagogo moneyball morcos nehan NicolasDorier paveljanik 
<br>
</div>

<div class='talk op-msg' data-timestamp='1620162000' id='364006'>
<a class='timestamp' href='#364006'><time timestamp='2021-05-04T21:00:00Z'>21:00</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1620162000' id='364007'>
<a class='timestamp' href='#364007'><time timestamp='2021-05-04T21:00:00Z'>21:00</time></a>
&lt;<span class='nick nick-9'> glozow</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1620162000' id='364008'>
<a class='timestamp' href='#364008'><time timestamp='2021-05-04T21:00:00Z'>21:00</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
petertodd phantomcircuit promag provoostenator ryanofsky sdaftuar sipa vasild wumpus
<br>
</div>

<div class='talk op-msg' data-timestamp='1620162000' id='364009'>
<a class='timestamp' href='#364009'><time timestamp='2021-05-04T21:00:00Z'>21:00</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1620162000' id='364010'>
<a class='timestamp' href='#364010'><time timestamp='2021-05-04T21:00:00Z'>21:00</time></a>
&lt;<span class='nick nick-15'> ajonas</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1620162060' id='364011'>
<a class='timestamp' href='#364011'><time timestamp='2021-05-04T21:01:00Z'>21:01</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
There aren&#x27;t any proposed topics in <a href="https://github.com/bitcoin-core/bitcoin-devwiki/wiki/P2P-IRC-meetings" class="link" target="_blank">https://github.com/bitcoin-core/bitcoin-devwiki/wiki/P2P-IRC-meetings</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1620162060' id='364012'>
<a class='timestamp' href='#364012'><time timestamp='2021-05-04T21:01:00Z'>21:01</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
Feel free to share your priorities in <a href="https://github.com/bitcoin-core/bitcoin-devwiki/wiki/P2P-Current-Priorities" class="link" target="_blank">https://github.com/bitcoin-core/bitcoin-devwiki/wiki/P2P-Current-Priorities</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1620162060' id='364013'>
<a class='timestamp' href='#364013'><time timestamp='2021-05-04T21:01:00Z'>21:01</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
Does anyone have any topics to add?
<br>
</div>

<div class='talk op-msg' data-timestamp='1620162120' id='364014'>
<a class='timestamp' href='#364014'><time timestamp='2021-05-04T21:02:00Z'>21:02</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i&#x27;m working on PR&#x27;ing minisketch 
<br>
</div>

<div class='talk op-msg' data-timestamp='1620162120' id='364015'>
<a class='timestamp' href='#364015'><time timestamp='2021-05-04T21:02:00Z'>21:02</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i think it&#x27;s in a good enough state now
<br>
</div>

<div class='talk op-msg' data-timestamp='1620162120' id='364016'>
<a class='timestamp' href='#364016'><time timestamp='2021-05-04T21:02:00Z'>21:02</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
\o/
<br>
</div>

<div class='talk op-msg' data-timestamp='1620162120' id='364017'>
<a class='timestamp' href='#364017'><time timestamp='2021-05-04T21:02:00Z'>21:02</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
sipa: thank you! I&#x27;m working on more or less finalizing erlay to invite people running nodes. Fully went through antoine&#x27;s review, gonna make one protocol tweak it seems.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620162180' id='364018'>
<a class='timestamp' href='#364018'><time timestamp='2021-05-04T21:03:00Z'>21:03</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
*to invite people to run nodes.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620162180' id='364019'>
<a class='timestamp' href='#364019'><time timestamp='2021-05-04T21:03:00Z'>21:03</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gleb: cool, will run
<br>
</div>

<div class='talk op-msg' data-timestamp='1620162180' id='364020'>
<a class='timestamp' href='#364020'><time timestamp='2021-05-04T21:03:00Z'>21:03</time></a>
&lt;<span class='nick nick-9'> glozow</span>&gt;
\o/
<br>
</div>

<div class='talk op-msg' data-timestamp='1620162180' id='364021'>
<a class='timestamp' href='#364021'><time timestamp='2021-05-04T21:03:00Z'>21:03</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
sipa: are you looking for any specific help?
<br>
</div>

<div class='talk op-msg' data-timestamp='1620162240' id='364022'>
<a class='timestamp' href='#364022'><time timestamp='2021-05-04T21:04:00Z'>21:04</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
not in particular, but review is of course always welcome
<br>
</div>

<div class='talk op-msg' data-timestamp='1620162240' id='364023'>
<a class='timestamp' href='#364023'><time timestamp='2021-05-04T21:04:00Z'>21:04</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
with this PR <a href="https://github.com/sipa/minisketch/pull/20" class="link" target="_blank">https://github.com/sipa/minisketch/pull/20</a> (making us able to just build field size 32 instead of everything) the binary size goes from 3 MB to 64 KiB
<br>
</div>

<div class='talk op-msg' data-timestamp='1620162240' id='364024'>
<a class='timestamp' href='#364024'><time timestamp='2021-05-04T21:04:00Z'>21:04</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
also way faster compilation
<br>
</div>

<div class='talk op-msg' data-timestamp='1620162300' id='364025'>
<a class='timestamp' href='#364025'><time timestamp='2021-05-04T21:05:00Z'>21:05</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
that seems good
<br>
</div>

<div class='talk op-msg' data-timestamp='1620162360' id='364026'>
<a class='timestamp' href='#364026'><time timestamp='2021-05-04T21:06:00Z'>21:06</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
ok, any other topics?
<br>
</div>

<div class='talk op-msg' data-timestamp='1620162420' id='364027'>
<a class='timestamp' href='#364027'><time timestamp='2021-05-04T21:07:00Z'>21:07</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
alright!
<br>
</div>

<div class='talk op-msg' data-timestamp='1620162420' id='364028'>
<a class='timestamp' href='#364028'><time timestamp='2021-05-04T21:07:00Z'>21:07</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
#endmeeting
<br>
</div>

<div class='talk op-msg' data-timestamp='1620162420' id='364029'>
<a class='timestamp' href='#364029'><time timestamp='2021-05-04T21:07:00Z'>21:07</time></a>
&lt;<span class='nick nick-2'> core-meetingbot</span>&gt;
topic: Bitcoin Core development discussion and commit log | Feel free to watch, but please take commentary and usage questions to #bitcoin | Channel logs: <a href="http://www.erisian.com.au/bitcoin-core-dev/" class="link" target="_blank">http://www.erisian.com.au/bitcoin-core-dev/</a>, <a href="http://gnusha.org/bitcoin-core-dev/" class="link" target="_blank">http://gnusha.org/bitcoin-core-dev/</a> | Meeting topics <a href="http://gnusha.org/bitcoin-core-dev/proposedmeetingtopics.txt" class="link" target="_blank">http://gnusha.org/bitcoin-core-dev/proposedmeetingtopics.txt</a> / <a href="http://gnusha.org/bitcoin-core-dev/proposedwalletmeetingtopics.txt" class="link" target="_blank">http://gnusha.org/bitcoin-core-dev/proposedwalletmeetingtopics.txt</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1620162420' id='364030'>
<a class='timestamp' href='#364030'><time timestamp='2021-05-04T21:07:00Z'>21:07</time></a>
&lt;<span class='nick nick-2'> core-meetingbot</span>&gt;
Meeting ended Tue May  4 21:07:03 2021 UTC.  
<br>
</div>

<div class='talk op-msg' data-timestamp='1620162420' id='364031'>
<a class='timestamp' href='#364031'><time timestamp='2021-05-04T21:07:00Z'>21:07</time></a>
&lt;<span class='nick nick-2'> core-meetingbot</span>&gt;
Minutes:        <a href="https://bitcoin.jonasschnelli.ch/ircmeetings/logs/bitcoin-core-dev/2021/bitcoin-core-dev.2021-05-04-21.00.moin.txt" class="link" target="_blank">https://bitcoin.jonasschnelli.ch/ircmeetings/logs/bitcoin-core-dev/2021/bitcoin-core-dev.2021-05-04-21.00.moin.txt</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1620162540' id='364032'>
<a class='timestamp' href='#364032'><time timestamp='2021-05-04T21:09:00Z'>21:09</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
gmaxwell: I&#x27;m surprised there are a dozen tests with nodes that aren&#x27;t signalling NODE_WITNESS. Do you have a branch?
<br>
</div>

<div class='talk op-msg' data-timestamp='1620162600' id='364033'>
<a class='timestamp' href='#364033'><time timestamp='2021-05-04T21:10:00Z'>21:10</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
as far as I&#x27;m aware, the only functional test with a node that doesn&#x27;t signal NODE_WITNESS is p2p_segwit.py (and that should be removed in #21090
<br>
</div>

<div class='talk op-msg' data-timestamp='1620162600' id='364034'>
<a class='timestamp' href='#364034'><time timestamp='2021-05-04T21:10:00Z'>21:10</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/21090" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/21090</a> | Default to NODE_WITNESS in nLocalServices by dhruv Â· Pull Request #21090 Â· bitcoin/bitcoin Â· GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1620162840' id='364035'>
<a class='timestamp' href='#364035'><time timestamp='2021-05-04T21:14:00Z'>21:14</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Well dozen is probably an exaggeration, it was more than p2p_segwit.   This might implement the expected functionality: <a href="https://0bin.net/paste/1ugjq4jz#XcT5A29tp0YlpDnYDs9NRD92Z9myByRpsJOMzwButl4" class="link" target="_blank">https://0bin.net/paste/1ugjq4jz#XcT5A29tp0YlpDnYDs9NRD92Z9myByRpsJOMzwButl4</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1620162900' id='364036'>
<a class='timestamp' href='#364036'><time timestamp='2021-05-04T21:15:00Z'>21:15</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(I say might because the patch I run locally is much larger, but it looks like I previously saved out that chunk while trying to run the tests.)
<br>
</div>

<div class='talk op-msg' data-timestamp='1620163020' id='364037'>
<a class='timestamp' href='#364037'><time timestamp='2021-05-04T21:17:00Z'>21:17</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
gleb: what protocol change?
<br>
</div>

<div class='talk op-msg' data-timestamp='1620163020' id='364038'>
<a class='timestamp' href='#364038'><time timestamp='2021-05-04T21:17:00Z'>21:17</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
Did you try gating on fHaveWitness instead of fClient?
<br>
</div>

<div class='talk op-msg' data-timestamp='1620163200' id='364039'>
<a class='timestamp' href='#364039'><time timestamp='2021-05-04T21:20:00Z'>21:20</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
No, though we shouldn&#x27;t be sending headers requests to non-node-network peers either--. But ah, I see your point wrt implicated tests.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620163260' id='364040'>
<a class='timestamp' href='#364040'><time timestamp='2021-05-04T21:21:00Z'>21:21</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
gmaxwell: antoine found this inconsistency, let me explain here in short (full convo is here: <a href="https://github.com/bitcoin/bitcoin/pull/21515#discussion_r624952992" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/21515#discussion_r624952992</a>)
<br>
</div>

<div class='talk op-msg' data-timestamp='1620163260' id='364041'>
<a class='timestamp' href='#364041'><time timestamp='2021-05-04T21:21:00Z'>21:21</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gleb: was it needed to include minisketch in bitcoin-tx?
<br>
</div>

<div class='talk op-msg' data-timestamp='1620163320' id='364042'>
<a class='timestamp' href='#364042'><time timestamp='2021-05-04T21:22:00Z'>21:22</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(my sequence was that I just fixed it for myself to see that it fixed the behavior... then just tried running the tests to see if it looked like it would be easy to submit upstream,  it failed a number of tests, so I just dropped it into the patch I carry.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620163380' id='364043'>
<a class='timestamp' href='#364043'><time timestamp='2021-05-04T21:23:00Z'>21:23</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
gmaxwell: Ah hold on, maybe ignore that.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620163380' id='364044'>
<a class='timestamp' href='#364044'><time timestamp='2021-05-04T21:23:00Z'>21:23</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
I just realized maybe it&#x27;s fine all the way.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620163440' id='364045'>
<a class='timestamp' href='#364045'><time timestamp='2021-05-04T21:24:00Z'>21:24</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
sipa: sorry, are you referring to the way I integrate minisketch in the erlay PR?
<br>
</div>

<div class='talk op-msg' data-timestamp='1620163440' id='364046'>
<a class='timestamp' href='#364046'><time timestamp='2021-05-04T21:24:00Z'>21:24</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gleb: yeah, cherry picking that
<br>
</div>

<div class='talk op-msg' data-timestamp='1620163440' id='364047'>
<a class='timestamp' href='#364047'><time timestamp='2021-05-04T21:24:00Z'>21:24</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
just wonder if there was a reason for that
<br>
</div>

<div class='talk op-msg' data-timestamp='1620163500' id='364048'>
<a class='timestamp' href='#364048'><time timestamp='2021-05-04T21:25:00Z'>21:25</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
gmaxwell: yeah indeed, I withdraw my comment, no protocol tweaks. Will finish last touches per antoine feedback tomorrow, and freeze the version to run nodes.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620163560' id='364049'>
<a class='timestamp' href='#364049'><time timestamp='2021-05-04T21:26:00Z'>21:26</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
gleb: good because I was about to respond to you hear after reading that saying I didn&#x27;t undrestand the issue there. :P
<br>
</div>

<div class='talk op-msg' data-timestamp='1620163560' id='364050'>
<a class='timestamp' href='#364050'><time timestamp='2021-05-04T21:26:00Z'>21:26</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
gmaxwell: I&#x27;m glad you&#x27;re following the work anyway.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620163620' id='364051'>
<a class='timestamp' href='#364051'><time timestamp='2021-05-04T21:27:00Z'>21:27</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
gleb: I think in general when we talk about erlay (e.g. in the paper and elsewhere) we use this &quot;non-reachable peer&quot; terminology, but non-reachability doesn&#x27;t exist explicitly anywhere in the implementation of bitcoin core or the bitcoin protocol... so although non-reachable peers were a good concept for modling, it can be a little confusing when it comes to the implementation.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620163740' id='364052'>
<a class='timestamp' href='#364052'><time timestamp='2021-05-04T21:29:00Z'>21:29</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
gmaxwell: Agree, I should think if I could gracefully disconnect the &quot;general intuition&quot; from protocol language.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620163740' id='364053'>
<a class='timestamp' href='#364053'><time timestamp='2021-05-04T21:29:00Z'>21:29</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
right, the protocol should only concern itself with &quot;inbound&quot; and &quot;outbound&quot; and &quot;recon sender&quot; and &quot;recon receiver&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1620163800' id='364054'>
<a class='timestamp' href='#364054'><time timestamp='2021-05-04T21:30:00Z'>21:30</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
Also, I should think about non-reachable nodes with a node from the same NAT or something, I just realized our current approach is prone in this case?
<br>
</div>

<div class='talk op-msg' data-timestamp='1620163860' id='364055'>
<a class='timestamp' href='#364055'><time timestamp='2021-05-04T21:31:00Z'>21:31</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
Say my &quot;non-reachable&quot; node A (as the peers can easily tell by probing IP) has my own trusted inbound node B and that&#x27;s the only connection for B, then the peers can easily tell that transactions flooded from B are either from B or from A.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620163920' id='364056'>
<a class='timestamp' href='#364056'><time timestamp='2021-05-04T21:32:00Z'>21:32</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
I should admit I never considered this corner case.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620163980' id='364057'>
<a class='timestamp' href='#364057'><time timestamp='2021-05-04T21:33:00Z'>21:33</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
hmm, do we just want to disable reconciliation on connections to/from non-public IPs?
<br>
</div>

<div class='talk op-msg' data-timestamp='1620163980' id='364058'>
<a class='timestamp' href='#364058'><time timestamp='2021-05-04T21:33:00Z'>21:33</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
that shouldn&#x27;t be neceesary.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620164040' id='364059'>
<a class='timestamp' href='#364059'><time timestamp='2021-05-04T21:34:00Z'>21:34</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i think the problem is: you have internal node A, only connected to bridge node B, which is connected to the public network
<br>
</div>

<div class='talk op-msg' data-timestamp='1620164100' id='364060'>
<a class='timestamp' href='#364060'><time timestamp='2021-05-04T21:35:00Z'>21:35</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
if A relay a tx to B, B will treat this as being a reachable node, and use erlay to relay it further... which it would never do if B were just a non-reachable node without internal nodes behind it?
<br>
</div>

<div class='talk op-msg' data-timestamp='1620164100' id='364061'>
<a class='timestamp' href='#364061'><time timestamp='2021-05-04T21:35:00Z'>21:35</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
sipa: right. Or maybe if there are N bridges, but A is still generally unavailable.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620164160' id='364062'>
<a class='timestamp' href='#364062'><time timestamp='2021-05-04T21:36:00Z'>21:36</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sorry, i swapped notation; my A and B are the B and A in your explanation
<br>
</div>

<div class='talk op-msg' data-timestamp='1620164220' id='364063'>
<a class='timestamp' href='#364063'><time timestamp='2021-05-04T21:37:00Z'>21:37</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I don&#x27;t want to comment much because I&#x27;ve probably forgotten everything but this seems confused to me.  The privacy loss comes from flooding conditionally flooding, using the reconcillation itself is just additive and harmless. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1620164220' id='364064'>
<a class='timestamp' href='#364064'><time timestamp='2021-05-04T21:37:00Z'>21:37</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gleb: is the logic &quot;only use recon for transaction received from inbound connections&quot; now?
<br>
</div>

<div class='talk op-msg' data-timestamp='1620164220' id='364065'>
<a class='timestamp' href='#364065'><time timestamp='2021-05-04T21:37:00Z'>21:37</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
sipa: only use flood in that case.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620164220' id='364066'>
<a class='timestamp' href='#364066'><time timestamp='2021-05-04T21:37:00Z'>21:37</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
Ok, there are 2 relevant flags.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620164220' id='364067'>
<a class='timestamp' href='#364067'><time timestamp='2021-05-04T21:37:00Z'>21:37</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: the choice whether to relay through recon or flood reveals information
<br>
</div>

<div class='talk op-msg' data-timestamp='1620164280' id='364068'>
<a class='timestamp' href='#364068'><time timestamp='2021-05-04T21:38:00Z'>21:38</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sipa: It should always relay through recon (otherwise it&#x27;s potentially just adding missed items to the sets), it might choose to additionally relay through flooding.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620164280' id='364069'>
<a class='timestamp' href='#364069'><time timestamp='2021-05-04T21:38:00Z'>21:38</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: that&#x27;s not what erlay proposes
<br>
</div>

<div class='talk op-msg' data-timestamp='1620164280' id='364070'>
<a class='timestamp' href='#364070'><time timestamp='2021-05-04T21:38:00Z'>21:38</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I don&#x27;t remember it being broken. :P
<br>
</div>

<div class='talk op-msg' data-timestamp='1620164340' id='364071'>
<a class='timestamp' href='#364071'><time timestamp='2021-05-04T21:39:00Z'>21:39</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
sipa is correct, it was always either or
<br>
</div>

<div class='talk op-msg' data-timestamp='1620164340' id='364072'>
<a class='timestamp' href='#364072'><time timestamp='2021-05-04T21:39:00Z'>21:39</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
come on
<br>
</div>

<div class='talk op-msg' data-timestamp='1620164340' id='364073'>
<a class='timestamp' href='#364073'><time timestamp='2021-05-04T21:39:00Z'>21:39</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sipa: failing to add it to recon strictly wastes bandwidth, unless I&#x27;m confused.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620164340' id='364074'>
<a class='timestamp' href='#364074'><time timestamp='2021-05-04T21:39:00Z'>21:39</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Quite possible I&#x27;m confused.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620164340' id='364075'>
<a class='timestamp' href='#364075'><time timestamp='2021-05-04T21:39:00Z'>21:39</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
If you don&#x27;t add it to recon but your remote peer does, you just end up with a fake difference.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620164400' id='364076'>
<a class='timestamp' href='#364076'><time timestamp='2021-05-04T21:40:00Z'>21:40</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
As your remote peer won&#x27;t make the same flood/no-flood decision you do.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620164400' id='364077'>
<a class='timestamp' href='#364077'><time timestamp='2021-05-04T21:40:00Z'>21:40</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Am I confused?
<br>
</div>

<div class='talk op-msg' data-timestamp='1620164400' id='364078'>
<a class='timestamp' href='#364078'><time timestamp='2021-05-04T21:40:00Z'>21:40</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i&#x27;m trying to swap in the whole idea again :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1620164400' id='364079'>
<a class='timestamp' href='#364079'><time timestamp='2021-05-04T21:40:00Z'>21:40</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
Yeah same here, gimme a second.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620164460' id='364080'>
<a class='timestamp' href='#364080'><time timestamp='2021-05-04T21:41:00Z'>21:41</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gleb: what happens with locally generated transactions?
<br>
</div>

<div class='talk op-msg' data-timestamp='1620164460' id='364081'>
<a class='timestamp' href='#364081'><time timestamp='2021-05-04T21:41:00Z'>21:41</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I don&#x27;t think this changes the fundimental issue gleb is looking at though.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620164460' id='364082'>
<a class='timestamp' href='#364082'><time timestamp='2021-05-04T21:41:00Z'>21:41</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
But I&#x27;m trying to remember how any of this works so every piece of confusion is standing out for me.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620164460' id='364083'>
<a class='timestamp' href='#364083'><time timestamp='2021-05-04T21:41:00Z'>21:41</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
sipa: The idea was to always reconcile local transactions. It&#x27;s done to preserve privacy of non-reachable, but you won&#x27;t understand why unless you know the full protocol...
<br>
</div>

<div class='talk op-msg' data-timestamp='1620164520' id='364084'>
<a class='timestamp' href='#364084'><time timestamp='2021-05-04T21:42:00Z'>21:42</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gleb: so in which cases do you only flood a tx?
<br>
</div>

<div class='talk op-msg' data-timestamp='1620164580' id='364085'>
<a class='timestamp' href='#364085'><time timestamp='2021-05-04T21:43:00Z'>21:43</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
sipa: if the transaction is received from inbound AND the peer is 1 of 8 outbound flooding peers.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620164640' id='364086'>
<a class='timestamp' href='#364086'><time timestamp='2021-05-04T21:44:00Z'>21:44</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
The idea is: non reachable has no inbounds, so they never flood (so local txs should also not be flooded)
<br>
</div>

<div class='talk op-msg' data-timestamp='1620164640' id='364087'>
<a class='timestamp' href='#364087'><time timestamp='2021-05-04T21:44:00Z'>21:44</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
which for now is effectively all outbound peers?
<br>
</div>

<div class='talk op-msg' data-timestamp='1620164700' id='364088'>
<a class='timestamp' href='#364088'><time timestamp='2021-05-04T21:45:00Z'>21:45</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
sipa: yes, now. ANd my confusion was the case after bump, but now I think that case is fine.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620164700' id='364089'>
<a class='timestamp' href='#364089'><time timestamp='2021-05-04T21:45:00Z'>21:45</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
The bridge case is not fine though. When this non-reachable is a bridge.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620164700' id='364090'>
<a class='timestamp' href='#364090'><time timestamp='2021-05-04T21:45:00Z'>21:45</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
If a transaction that comes in from an inbound peers is only flooded out and not reconciled, how will those txn ever end up in reconcoillation? :P
<br>
</div>

<div class='talk op-msg' data-timestamp='1620164700' id='364091'>
<a class='timestamp' href='#364091'><time timestamp='2021-05-04T21:45:00Z'>21:45</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i believe the solution is just changing the criterion to &quot;received from inbound <b>*with public IP*</b> AND ...&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1620164760' id='364092'>
<a class='timestamp' href='#364092'><time timestamp='2021-05-04T21:46:00Z'>21:46</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
ehhh
<br>
</div>

<div class='talk op-msg' data-timestamp='1620164760' id='364093'>
<a class='timestamp' href='#364093'><time timestamp='2021-05-04T21:46:00Z'>21:46</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but i still want to understand this again
<br>
</div>

<div class='talk op-msg' data-timestamp='1620164760' id='364094'>
<a class='timestamp' href='#364094'><time timestamp='2021-05-04T21:46:00Z'>21:46</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
because i don&#x27;t remember why this flooding is done in the first place
<br>
</div>

<div class='talk op-msg' data-timestamp='1620164820' id='364095'>
<a class='timestamp' href='#364095'><time timestamp='2021-05-04T21:47:00Z'>21:47</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I still don&#x27;t believe that it floods instead of reconcilling rather than in addition to, I think that is either transparently wrong or I&#x27;m badly corrupted. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1620164820' id='364096'>
<a class='timestamp' href='#364096'><time timestamp='2021-05-04T21:47:00Z'>21:47</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gleb: you say &quot;received&quot;, is that both when received through flooding and through recon?
<br>
</div>

<div class='talk op-msg' data-timestamp='1620164880' id='364097'>
<a class='timestamp' href='#364097'><time timestamp='2021-05-04T21:48:00Z'>21:48</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
sipa: currently there is no distinction, since we added an extra round for INV (just non-duplicate INV). It&#x27;s possible to compare by short id, but currently I don&#x27;t.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620164880' id='364098'>
<a class='timestamp' href='#364098'><time timestamp='2021-05-04T21:48:00Z'>21:48</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
It all looks like inbound inv.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620164880' id='364099'>
<a class='timestamp' href='#364099'><time timestamp='2021-05-04T21:48:00Z'>21:48</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ok, just trying to reconcile my memory
<br>
</div>

<div class='talk op-msg' data-timestamp='1620164940' id='364100'>
<a class='timestamp' href='#364100'><time timestamp='2021-05-04T21:49:00Z'>21:49</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
gmaxwell: I have to think why I didn&#x27;t do additive
<br>
</div>

<div class='talk op-msg' data-timestamp='1620164940' id='364101'>
<a class='timestamp' href='#364101'><time timestamp='2021-05-04T21:49:00Z'>21:49</time></a>
&lt;<span class='nick nick-11'> lightlike</span>&gt;
isn&#x27;t recon/flooding a property of the connection instead of the transaction? So that a tx received from an inbound would be flooded to outbounds, but reconciled with other inbound peers?
<br>
</div>

<div class='talk op-msg' data-timestamp='1620164940' id='364102'>
<a class='timestamp' href='#364102'><time timestamp='2021-05-04T21:49:00Z'>21:49</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
lightlike: no
<br>
</div>

<div class='talk op-msg' data-timestamp='1620164940' id='364103'>
<a class='timestamp' href='#364103'><time timestamp='2021-05-04T21:49:00Z'>21:49</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
(well, both)
<br>
</div>

<div class='talk op-msg' data-timestamp='1620164940' id='364104'>
<a class='timestamp' href='#364104'><time timestamp='2021-05-04T21:49:00Z'>21:49</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
My stored approximation of early is that you reconcile with peers, and also flood each transaction you recieve, regardless of how you recieve them, with low fanout to outbound peers (obeying the normal rules about not sending a peer a txn you already know they have).  I know this isn&#x27;t exact in the details.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620164940' id='364105'>
<a class='timestamp' href='#364105'><time timestamp='2021-05-04T21:49:00Z'>21:49</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
yeah, both.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620165000' id='364106'>
<a class='timestamp' href='#364106'><time timestamp='2021-05-04T21:50:00Z'>21:50</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
so the decision to flood and not reconcile should correspond to a prediction that you will have that tx while your peer won&#x27;t
<br>
</div>

<div class='talk op-msg' data-timestamp='1620165000' id='364107'>
<a class='timestamp' href='#364107'><time timestamp='2021-05-04T21:50:00Z'>21:50</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
how does &quot;received from an inbound connection&quot; lead to that prediction?
<br>
</div>

<div class='talk op-msg' data-timestamp='1620165060' id='364108'>
<a class='timestamp' href='#364108'><time timestamp='2021-05-04T21:51:00Z'>21:51</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
gmaxwell: The problem with that is that non-reachable nodes will do too much useless flooding. They learn a transaction from 1 reconciliation, and then they flood to all the rest outbound peers?
<br>
</div>

<div class='talk op-msg' data-timestamp='1620165060' id='364109'>
<a class='timestamp' href='#364109'><time timestamp='2021-05-04T21:51:00Z'>21:51</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
gleb: If nodeA and nodeB  both recieve tx X,  and nodeA decides to recon it, and nodeB decides to flood it,  then the recon wastes bandwidth.  The process I understood you describing above wouldn&#x27;t have peers making the same recon decision for the same txn... 
<br>
</div>

<div class='talk op-msg' data-timestamp='1620165120' id='364110'>
<a class='timestamp' href='#364110'><time timestamp='2021-05-04T21:52:00Z'>21:52</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
gmaxwell: ok, my approach works, and let me explain.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620165120' id='364111'>
<a class='timestamp' href='#364111'><time timestamp='2021-05-04T21:52:00Z'>21:52</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
gleb: that is why the flooded relay is low fanout. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1620165120' id='364112'>
<a class='timestamp' href='#364112'><time timestamp='2021-05-04T21:52:00Z'>21:52</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
Node A doesn&#x27;t add tx to the set_B because it flooded the tx to B. Node B doesn&#x27;t add it to the set_A because it was received from A.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620165120' id='364113'>
<a class='timestamp' href='#364113'><time timestamp='2021-05-04T21:52:00Z'>21:52</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
That&#x27;s why both sets won&#x27;t have the tx at the end
<br>
</div>

<div class='talk op-msg' data-timestamp='1620165180' id='364114'>
<a class='timestamp' href='#364114'><time timestamp='2021-05-04T21:53:00Z'>21:53</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
gleb: But node_b also could have recieved it from someone else first.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620165240' id='364115'>
<a class='timestamp' href='#364115'><time timestamp='2021-05-04T21:54:00Z'>21:54</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yes, it&#x27;s clear to me you don&#x27;t want to both flood and add to recon set, because the peer won&#x27;t relay the tx back from to, so adding it to the set would hurt reconciliation
<br>
</div>

<div class='talk op-msg' data-timestamp='1620165240' id='364116'>
<a class='timestamp' href='#364116'><time timestamp='2021-05-04T21:54:00Z'>21:54</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sipa: Why wouldn&#x27;t they add the flooded txn to it, if was new to them?  It&#x27;s free if both sides have it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620165240' id='364117'>
<a class='timestamp' href='#364117'><time timestamp='2021-05-04T21:54:00Z'>21:54</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
the question is why is there an assumption in this received-from-inbound-and-relay-to-outbound case that there won&#x27;t be a relay in the other direction (as in: why can&#x27;t the peer have learned the tx from elsewhere)
<br>
</div>

<div class='talk op-msg' data-timestamp='1620165300' id='364118'>
<a class='timestamp' href='#364118'><time timestamp='2021-05-04T21:55:00Z'>21:55</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: any tx you actually receive announced through flooding you can delete from that peer&#x27;s recon set (not sure if the current implementation does that), but if it does, that seems strictly better than adding
<br>
</div>

<div class='talk op-msg' data-timestamp='1620165300' id='364119'>
<a class='timestamp' href='#364119'><time timestamp='2021-05-04T21:55:00Z'>21:55</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
(in case you flood)
<br>
</div>

<div class='talk op-msg' data-timestamp='1620165360' id='364120'>
<a class='timestamp' href='#364120'><time timestamp='2021-05-04T21:56:00Z'>21:56</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Consider, nodeb gets a txn from c,  nodea also gets a txn from c.  Nodea elects to flood it to a, nodeb elects to recon it to a.  Now there is an excess set difference.  If instead nodea flooded it and added it to recon, and B did as well (including for flooded txn recieved from a) the only time there would be a retcon difference is during a race with the flooding.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620165360' id='364121'>
<a class='timestamp' href='#364121'><time timestamp='2021-05-04T21:56:00Z'>21:56</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
delete if it was in that set in the first place, of course
<br>
</div>

<div class='talk op-msg' data-timestamp='1620165360' id='364122'>
<a class='timestamp' href='#364122'><time timestamp='2021-05-04T21:56:00Z'>21:56</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
okay I agree that would also work.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620165420' id='364123'>
<a class='timestamp' href='#364123'><time timestamp='2021-05-04T21:57:00Z'>21:57</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
Yeah, I see the point indeed. We should get rid of this extra assumption
<br>
</div>

<div class='talk op-msg' data-timestamp='1620165420' id='364124'>
<a class='timestamp' href='#364124'><time timestamp='2021-05-04T21:57:00Z'>21:57</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I think they&#x27;re ... the same?  in both cases you get a extra item in recon during a race between a flood and a recon.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620165420' id='364125'>
<a class='timestamp' href='#364125'><time timestamp='2021-05-04T21:57:00Z'>21:57</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gleb: do you do this currently in the code? if i INV a tx to you for whatever reason, and that tx was in your recon set with me, do you delete it from that set?
<br>
</div>

<div class='talk op-msg' data-timestamp='1620165480' id='364126'>
<a class='timestamp' href='#364126'><time timestamp='2021-05-04T21:58:00Z'>21:58</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
sipa: now, but I&#x27;m realizing now I should.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620165480' id='364127'>
<a class='timestamp' href='#364127'><time timestamp='2021-05-04T21:58:00Z'>21:58</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: yeah, you either want to both add it, or both delete it when flooded- deleting seems slightly more efficient
<br>
</div>

<div class='talk op-msg' data-timestamp='1620165480' id='364128'>
<a class='timestamp' href='#364128'><time timestamp='2021-05-04T21:58:00Z'>21:58</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
In any case, the model where everything is recon and some flooding occurs at low order doesn&#x27;t have the issue that outbound only nodes behave differently, other than they just happened to not recieve any txn via flooding so they&#x27;ll get txn later.   I&#x27;m not arguing that it should work that way, just trying to remember the motivation for it not working that way.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620165540' id='364129'>
<a class='timestamp' href='#364129'><time timestamp='2021-05-04T21:59:00Z'>21:59</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sipa: Agreed. Though I&#x27;m not clear why deleting is slightly more effcicient? just that never adding it on one side takes less computation? 
<br>
</div>

<div class='talk op-msg' data-timestamp='1620165540' id='364130'>
<a class='timestamp' href='#364130'><time timestamp='2021-05-04T21:59:00Z'>21:59</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: yes, it ~ns scal different
<br>
</div>

<div class='talk op-msg' data-timestamp='1620165600' id='364131'>
<a class='timestamp' href='#364131'><time timestamp='2021-05-04T22:00:00Z'>22:00</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
not adding on both sides
<br>
</div>

<div class='talk op-msg' data-timestamp='1620165600' id='364132'>
<a class='timestamp' href='#364132'><time timestamp='2021-05-04T22:00:00Z'>22:00</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
gmaxwell: well, I chose to reconcile in a queue-manner every 2 seconds (16 seconds per peer). And the queue consists of outbounds.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620165660' id='364133'>
<a class='timestamp' href='#364133'><time timestamp='2021-05-04T22:01:00Z'>22:01</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
If we stick to these rules, we also want to flood some to make relay across the &quot;backbone&quot; faster. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1620165660' id='364134'>
<a class='timestamp' href='#364134'><time timestamp='2021-05-04T22:01:00Z'>22:01</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
gmaxwell: how would you suggest to flood?
<br>
</div>

<div class='talk op-msg' data-timestamp='1620165720' id='364135'>
<a class='timestamp' href='#364135'><time timestamp='2021-05-04T22:02:00Z'>22:02</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
My suggestion is to flood to fixed 8 outbounds, and only what was received inbound. In that case, it just gets relayed though the network of reachable nodes super fast, without non-reachable doing useless stuff ever.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620165780' id='364136'>
<a class='timestamp' href='#364136'><time timestamp='2021-05-04T22:03:00Z'>22:03</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sipa: GOOD. I am glad to agree!
<br>
</div>

<div class='talk op-msg' data-timestamp='1620165780' id='364137'>
<a class='timestamp' href='#364137'><time timestamp='2021-05-04T22:03:00Z'>22:03</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
gleb: okay, I don&#x27;t understand how I was ever okay with that. lol
<br>
</div>

<div class='talk op-msg' data-timestamp='1620165840' id='364138'>
<a class='timestamp' href='#364138'><time timestamp='2021-05-04T22:04:00Z'>22:04</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
The issue is that it imposes a strong assumption on the existance of a &quot;non-reachable node&quot; -- which as you are realizing now (and maybe did before?) -- no such clean distinction really exists.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620165840' id='364139'>
<a class='timestamp' href='#364139'><time timestamp='2021-05-04T22:04:00Z'>22:04</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(e.g. the NATed node with some lan peers)
<br>
</div>

<div class='talk op-msg' data-timestamp='1620165900' id='364140'>
<a class='timestamp' href='#364140'><time timestamp='2021-05-04T22:05:00Z'>22:05</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
gmaxwell: not really, I never have &quot;if non-reachable&quot;. It just makes this implicit categorization by looking at &quot;txs received inbound&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1620165900' id='364141'>
<a class='timestamp' href='#364141'><time timestamp='2021-05-04T22:05:00Z'>22:05</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
Which is, yeah, not true for NAT stuff.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620166020' id='364142'>
<a class='timestamp' href='#364142'><time timestamp='2021-05-04T22:07:00Z'>22:07</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I don&#x27;t have any of our old discussions-- lost the server :( -- it might be useful to see how we changed from &quot;flood each new txn to a few outbound peers&quot; to &quot;flood to 8 outbound peers (currently all) but only things learned from inbound peers&quot;?
<br>
</div>

<div class='talk op-msg' data-timestamp='1620166080' id='364143'>
<a class='timestamp' href='#364143'><time timestamp='2021-05-04T22:08:00Z'>22:08</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: by new do you mean &quot;locally created&quot;, or &quot;any new tx learned through whatever means at all&quot; ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1620166080' id='364144'>
<a class='timestamp' href='#364144'><time timestamp='2021-05-04T22:08:00Z'>22:08</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
gmaxwell: despite us not liking, non-reachable nodes is the majority of the network. If they flood, it&#x27;s very likely to be useless, because their public peers likely already know the tx.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620166080' id='364145'>
<a class='timestamp' href='#364145'><time timestamp='2021-05-04T22:08:00Z'>22:08</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
(i assume the second, as the first is a pretty bad privacy leak)
<br>
</div>

<div class='talk op-msg' data-timestamp='1620166080' id='364146'>
<a class='timestamp' href='#364146'><time timestamp='2021-05-04T22:08:00Z'>22:08</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
newly learned, however we learned it.. flooding, local, retcon. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1620166080' id='364147'>
<a class='timestamp' href='#364147'><time timestamp='2021-05-04T22:08:00Z'>22:08</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Anything accept to mempool accepts.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620166140' id='364148'>
<a class='timestamp' href='#364148'><time timestamp='2021-05-04T22:09:00Z'>22:09</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
gleb: yes, its often useless.   But it is still a constant amount of data per accepted transaction.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620166140' id='364149'>
<a class='timestamp' href='#364149'><time timestamp='2021-05-04T22:09:00Z'>22:09</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(and not an amount that grows with the number of peers it has)
<br>
</div>

<div class='talk op-msg' data-timestamp='1620166200' id='364150'>
<a class='timestamp' href='#364150'><time timestamp='2021-05-04T22:10:00Z'>22:10</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
if fanout &gt; 1 the vast majority of flooding will always be useless.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620166260' id='364151'>
<a class='timestamp' href='#364151'><time timestamp='2021-05-04T22:11:00Z'>22:11</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
A reconciliation happens every 16 seconds, flood trigger is every 1/2 seconds or something. If flood to only outbound, a non-reachable nodes will flood almost all transactions to their reachable peers. So recon set will be empty?
<br>
</div>

<div class='talk op-msg' data-timestamp='1620166260' id='364152'>
<a class='timestamp' href='#364152'><time timestamp='2021-05-04T22:11:00Z'>22:11</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
You suggest to try fanout=2/3? If fanout=8, we end up getting 0 gain today (just better scaling)
<br>
</div>

<div class='talk op-msg' data-timestamp='1620166260' id='364153'>
<a class='timestamp' href='#364153'><time timestamp='2021-05-04T22:11:00Z'>22:11</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
the fact that flooding is only outbound does imply that more well-reachable nodes will learn about transactions faster than less-reachable nodes
<br>
</div>

<div class='talk op-msg' data-timestamp='1620166260' id='364154'>
<a class='timestamp' href='#364154'><time timestamp='2021-05-04T22:11:00Z'>22:11</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Right, at least at one point I know I was thinking in terms of fanout=2.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620166380' id='364155'>
<a class='timestamp' href='#364155'><time timestamp='2021-05-04T22:13:00Z'>22:13</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
perhaps we should reconsider that asymmetry, and instead do something like flooding only happens in one direction on each link,  and whichever side knew more transactions in the last recon is the potentially-flodder.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620166440' id='364156'>
<a class='timestamp' href='#364156'><time timestamp='2021-05-04T22:14:00Z'>22:14</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
so in that sense i can see how deciding to not flood outbound-received transactions may be a useful optimization... the network structure implies that you&#x27;re receiving generally from a group of peers who likely are better connected than you are
<br>
</div>

<div class='talk op-msg' data-timestamp='1620166440' id='364157'>
<a class='timestamp' href='#364157'><time timestamp='2021-05-04T22:14:00Z'>22:14</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sipa: yes I am starting to see how things ended up here.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620166500' id='364158'>
<a class='timestamp' href='#364158'><time timestamp='2021-05-04T22:15:00Z'>22:15</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i don&#x27;t really see the problem with it
<br>
</div>

<div class='talk op-msg' data-timestamp='1620166500' id='364159'>
<a class='timestamp' href='#364159'><time timestamp='2021-05-04T22:15:00Z'>22:15</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
And we can always switch to something different if at some point NAT landscape changes?
<br>
</div>

<div class='talk op-msg' data-timestamp='1620166500' id='364160'>
<a class='timestamp' href='#364160'><time timestamp='2021-05-04T22:15:00Z'>22:15</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Basically nowhere else in the bitcoin protocol is there this in/out distinction -- just in tx relay privacy timers (which were &#x27;recently&#x27; introduced relatively speaking) and in peer eviction.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620166560' id='364161'>
<a class='timestamp' href='#364161'><time timestamp='2021-05-04T22:16:00Z'>22:16</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
for one thing it takes 80% or whatever of bitcoin nodes out of participation in rapidly forwarding transactions, which seems ... like a really big step to take without an obvious reason.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620166620' id='364162'>
<a class='timestamp' href='#364162'><time timestamp='2021-05-04T22:17:00Z'>22:17</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I&#x27;m not sure why we&#x27;d intentionally do that.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620166680' id='364163'>
<a class='timestamp' href='#364163'><time timestamp='2021-05-04T22:18:00Z'>22:18</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
gmaxwell: the timings were 1s for 95% reachable, 5s for 95% non-reachable. Something along those numbers.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620166680' id='364164'>
<a class='timestamp' href='#364164'><time timestamp='2021-05-04T22:18:00Z'>22:18</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
(the time it takes to spread a transaction). Saying &quot;rapidly forwarding&quot; is not so different
<br>
</div>

<div class='talk op-msg' data-timestamp='1620166680' id='364165'>
<a class='timestamp' href='#364165'><time timestamp='2021-05-04T22:18:00Z'>22:18</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
Again, assuming the topology.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620166740' id='364166'>
<a class='timestamp' href='#364166'><time timestamp='2021-05-04T22:19:00Z'>22:19</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Like, have we made a series of single steps that were logcal but gives a weird outcome?  Step 1. relay faster to outbound peers because we control them, so they&#x27;re less likely to be spies monitoring our txn.  Step 2. Introduce reconcillation, but make flooding only happen for reachable nodes because it has some moral similarity to step 1.   Conclusion, 80% of bitcoin nodes no longer participate 
<br>
</div>

<div class='talk op-msg' data-timestamp='1620166740' id='364167'>
<a class='timestamp' href='#364167'><time timestamp='2021-05-04T22:19:00Z'>22:19</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
in fast propagation?   But that wasn&#x27;t the original goal, it seems like a side-effect though perhaps a benign one?
<br>
</div>

<div class='talk op-msg' data-timestamp='1620166740' id='364168'>
<a class='timestamp' href='#364168'><time timestamp='2021-05-04T22:19:00Z'>22:19</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
but not completely benign since now we have problems with txn originated &#x27;near&#x27; these flooding non-participants.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620166800' id='364169'>
<a class='timestamp' href='#364169'><time timestamp='2021-05-04T22:20:00Z'>22:20</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
gmaxwell: I believe I made those steps, I even had 1-3 steps above. I always tried to keep you and pieter in sync, but you might have got lost at some point.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620166800' id='364170'>
<a class='timestamp' href='#364170'><time timestamp='2021-05-04T22:20:00Z'>22:20</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but even without the assymetry in flood relay speed between outbound/inbound, it is the case that better connected nodes (which is correlated with connections to them) will learn about transactions fasters
<br>
</div>

<div class='talk op-msg' data-timestamp='1620166920' id='364171'>
<a class='timestamp' href='#364171'><time timestamp='2021-05-04T22:22:00Z'>22:22</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sipa: indeed, that was why the strawman alternative I suggested above elected whatever direction that sourced more txn to be the flooding direction.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620166980' id='364172'>
<a class='timestamp' href='#364172'><time timestamp='2021-05-04T22:23:00Z'>22:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
figure 19 in the paper shows bandwidth/latency simulations for a number of configurations
<br>
</div>

<div class='talk op-msg' data-timestamp='1620166980' id='364173'>
<a class='timestamp' href='#364173'><time timestamp='2021-05-04T22:23:00Z'>22:23</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
gleb: I probably wasn&#x27;t lost, I probably was right there with you at the time, following along with whatever reasoning got us there.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620166980' id='364174'>
<a class='timestamp' href='#364174'><time timestamp='2021-05-04T22:23:00Z'>22:23</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
:P
<br>
</div>

<div class='talk op-msg' data-timestamp='1620166980' id='364175'>
<a class='timestamp' href='#364175'><time timestamp='2021-05-04T22:23:00Z'>22:23</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
but I don&#x27;t really get the reasoning now. :(
<br>
</div>

<div class='talk op-msg' data-timestamp='1620167040' id='364176'>
<a class='timestamp' href='#364176'><time timestamp='2021-05-04T22:24:00Z'>22:24</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
&quot;flooding is not as useful to peers which are better connected than you are&quot; is the summary i think
<br>
</div>

<div class='talk op-msg' data-timestamp='1620167040' id='364177'>
<a class='timestamp' href='#364177'><time timestamp='2021-05-04T22:24:00Z'>22:24</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sipa: re: better connected,  esp if outbound connections are increased, it&#x27;s not even unlikely that a NATed node could end up better connected than some arbitarily selected inbound only node.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620167040' id='364178'>
<a class='timestamp' href='#364178'><time timestamp='2021-05-04T22:24:00Z'>22:24</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
sipa: in those experiments, I never tried to pick the flood peers in a smart way. It was always N, M% random across inbound/outbound.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620167160' id='364179'>
<a class='timestamp' href='#364179'><time timestamp='2021-05-04T22:26:00Z'>22:26</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gleb: it is surprising to me that in fig 19 in the paper, increasing the number of outbound flood peers improves both bandwidth and latency
<br>
</div>

<div class='talk op-msg' data-timestamp='1620167160' id='364180'>
<a class='timestamp' href='#364180'><time timestamp='2021-05-04T22:26:00Z'>22:26</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: that&#x27;s fair
<br>
</div>

<div class='talk op-msg' data-timestamp='1620167220' id='364181'>
<a class='timestamp' href='#364181'><time timestamp='2021-05-04T22:27:00Z'>22:27</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
sipa: I can&#x27;t explain that now.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620167280' id='364182'>
<a class='timestamp' href='#364182'><time timestamp='2021-05-04T22:28:00Z'>22:28</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gleb: is that graph using the same logic (only flood transactions receiving on incoming connections)?
<br>
</div>

<div class='talk op-msg' data-timestamp='1620167280' id='364183'>
<a class='timestamp' href='#364183'><time timestamp='2021-05-04T22:28:00Z'>22:28</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
sipa: yes I think so.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620167340' id='364184'>
<a class='timestamp' href='#364184'><time timestamp='2021-05-04T22:29:00Z'>22:29</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that suggests that that decision (relay tx received via inbound through flooding to outbounds) is (in your simulation model) a very good predictor of who won&#x27;t have a tx already
<br>
</div>

<div class='talk op-msg' data-timestamp='1620167400' id='364185'>
<a class='timestamp' href='#364185'><time timestamp='2021-05-04T22:30:00Z'>22:30</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
basically you want to use flooding when you have reasons to believe you had a tx earlier than the recipient, while recon is for when you and your peer are equals
<br>
</div>

<div class='talk op-msg' data-timestamp='1620167400' id='364186'>
<a class='timestamp' href='#364186'><time timestamp='2021-05-04T22:30:00Z'>22:30</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
maybe I should step back and also try to explain my general unease with the hard in/out split.  Essentially, it makes a strong assumption on the global structure of the network.    Recently in dogecoin there were network collapse issues related to a similar asymmetry during IBD... where almost the entire network was all in IBD because it had fallen behind, and as result wouldn&#x27;t serve blocks 
<br>
</div>

<div class='talk op-msg' data-timestamp='1620167400' id='364187'>
<a class='timestamp' href='#364187'><time timestamp='2021-05-04T22:30:00Z'>22:30</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
and only requested them from peers they connected out to (which were more themselves in the same broken state)
<br>
</div>

<div class='talk op-msg' data-timestamp='1620167400' id='364188'>
<a class='timestamp' href='#364188'><time timestamp='2021-05-04T22:30:00Z'>22:30</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and i guess &quot;receiving through inbound&quot; is a very good predictor for that (again, in your model, which may not actually correspond to reality)
<br>
</div>

<div class='talk op-msg' data-timestamp='1620167640' id='364189'>
<a class='timestamp' href='#364189'><time timestamp='2021-05-04T22:34:00Z'>22:34</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sipa:  If you flood txn recieved through flooding, then indeed, those are going to be the txn that are new.   I don&#x27;t actually know that in/out really matters for that to be true, except when only flooding to outbound makes it true.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620167640' id='364190'>
<a class='timestamp' href='#364190'><time timestamp='2021-05-04T22:34:00Z'>22:34</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
sipa: yeah, and that achieved in the following ways. Flooding is mainly used across reachable. We cap at 8 outbounds, so even though &quot;having earlier&quot; is true in 50%, that&#x27;s fine because it&#x27;s capped. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1620167700' id='364191'>
<a class='timestamp' href='#364191'><time timestamp='2021-05-04T22:35:00Z'>22:35</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
sipa: For reconciliation it matters mainly for non-reachable, and efficiency is achieved by reconciling every 2 seconds via queue. When you hit 2*8=16 seconds interval per peer, you already reconciled with 7 other peers since last time, so you are almost equal to that 8th peer.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620167760' id='364192'>
<a class='timestamp' href='#364192'><time timestamp='2021-05-04T22:36:00Z'>22:36</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
Sorry for keeping the reachable terminology, I&#x27;m just explaining how sipa logic maps to my design.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620167760' id='364193'>
<a class='timestamp' href='#364193'><time timestamp='2021-05-04T22:36:00Z'>22:36</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
Yeah, if the topology changes, it would no longer be as efficient. We might see more bandwidth (unlikely more than currently)
<br>
</div>

<div class='talk op-msg' data-timestamp='1620167760' id='364194'>
<a class='timestamp' href='#364194'><time timestamp='2021-05-04T22:36:00Z'>22:36</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
thats fine. my comment about the term being confusing was because it looked like it was causing confusion in the review.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620167820' id='364195'>
<a class='timestamp' href='#364195'><time timestamp='2021-05-04T22:37:00Z'>22:37</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
well, i mean you also would prefer to avoid reasoning about it in the design i thought?
<br>
</div>

<div class='talk op-msg' data-timestamp='1620167880' id='364196'>
<a class='timestamp' href='#364196'><time timestamp='2021-05-04T22:38:00Z'>22:38</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
gleb: like I think with the currently proposed design, the bandwidth per node on reachable nodes may go up a lot... becuase previously non-reachable nodes participated actively in forwarding turn into passive participants and don&#x27;t forward mcuh txn at all.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620167880' id='364197'>
<a class='timestamp' href='#364197'><time timestamp='2021-05-04T22:38:00Z'>22:38</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
gmaxwell: you mean sending tx bodies?
<br>
</div>

<div class='talk op-msg' data-timestamp='1620167880' id='364198'>
<a class='timestamp' href='#364198'><time timestamp='2021-05-04T22:38:00Z'>22:38</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
gleb: maybe, thats my impression now but it could just be that I forgot why I used to think it was okay.  But I&#x27;m not confused by its current existance in the design
<br>
</div>

<div class='talk op-msg' data-timestamp='1620167880' id='364199'>
<a class='timestamp' href='#364199'><time timestamp='2021-05-04T22:38:00Z'>22:38</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1620167940' id='364200'>
<a class='timestamp' href='#364200'><time timestamp='2021-05-04T22:39:00Z'>22:39</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
perhaps it is the case that even today most relay done by non-reachable nodes doesn&#x27;t actually contribute much to tx propagation?
<br>
</div>

<div class='talk op-msg' data-timestamp='1620167940' id='364201'>
<a class='timestamp' href='#364201'><time timestamp='2021-05-04T22:39:00Z'>22:39</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
nah, it&#x27;s like a 2:1 asymmetry as seen on my nodes.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620168000' id='364202'>
<a class='timestamp' href='#364202'><time timestamp='2021-05-04T22:40:00Z'>22:40</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
by &quot;contribute&quot; in don&#x27;t mean in terms of bandwidth, but in terms of how much propagation speed would suffer if they stopped
<br>
</div>

<div class='talk op-msg' data-timestamp='1620168000' id='364203'>
<a class='timestamp' href='#364203'><time timestamp='2021-05-04T22:40:00Z'>22:40</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(if you go through your IRC logs with me you&#x27;ll see maybe a year ago I saw that and thought something was wrong that it was so asymetric then realized it was finally that nodes updated to the most recent broadcast timing logic)
<br>
</div>

<div class='talk op-msg' data-timestamp='1620168000' id='364204'>
<a class='timestamp' href='#364204'><time timestamp='2021-05-04T22:40:00Z'>22:40</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sipa: I actually mean bandwidth though both might be true.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620168060' id='364205'>
<a class='timestamp' href='#364205'><time timestamp='2021-05-04T22:41:00Z'>22:41</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
gmaxwell: yes, I think this is very true. Reachable will take more work on forwarding tx bodies, making it even more asymmetrical. I think that&#x27;s fair to expect.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620168060' id='364206'>
<a class='timestamp' href='#364206'><time timestamp='2021-05-04T22:41:00Z'>22:41</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i don&#x27;t see why that would be the case
<br>
</div>

<div class='talk op-msg' data-timestamp='1620168060' id='364207'>
<a class='timestamp' href='#364207'><time timestamp='2021-05-04T22:41:00Z'>22:41</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
just thinking through the implications of taking the majority of nodes out of the general forwarding process.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620168120' id='364208'>
<a class='timestamp' href='#364208'><time timestamp='2021-05-04T22:42:00Z'>22:42</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sipa: for discussion, assume 80% of nodes are behind nat.  Right now, they probably carry the majority of the work transmititng txs  (yes, they&#x27;re slower, but there are many more of them).  Post erlay, they won&#x27;t realy tx bodies except fairly rarely.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620168180' id='364209'>
<a class='timestamp' href='#364209'><time timestamp='2021-05-04T22:43:00Z'>22:43</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
sipa: consider an average non-reachable node. The time between any reconciliations for it is 2 seconds. And the time of relaying across <b>*all reachable*</b> is 1 second. I think this implies most tx body work is done by reachable.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620168180' id='364210'>
<a class='timestamp' href='#364210'><time timestamp='2021-05-04T22:43:00Z'>22:43</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
^
<br>
</div>

<div class='talk op-msg' data-timestamp='1620168240' id='364211'>
<a class='timestamp' href='#364211'><time timestamp='2021-05-04T22:44:00Z'>22:44</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ok let me be more specific about what i&#x27;m not convinced of
<br>
</div>

<div class='talk op-msg' data-timestamp='1620168240' id='364212'>
<a class='timestamp' href='#364212'><time timestamp='2021-05-04T22:44:00Z'>22:44</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
that doesn&#x27;t seem desirable to me, ... some asymetry is unavoidable because they have fewer connections each.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620168240' id='364213'>
<a class='timestamp' href='#364213'><time timestamp='2021-05-04T22:44:00Z'>22:44</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
I probably was like &quot;but they will still save a lot of announcements, so it&#x27;s fine to increase tx body work&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1620168240' id='364214'>
<a class='timestamp' href='#364214'><time timestamp='2021-05-04T22:44:00Z'>22:44</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
gleb: I don&#x27;t think I ever considered that particular aspect before.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620168240' id='364215'>
<a class='timestamp' href='#364215'><time timestamp='2021-05-04T22:44:00Z'>22:44</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(lol well, I really don&#x27;t know what I thought before, it&#x27;s been too long)
<br>
</div>

<div class='talk op-msg' data-timestamp='1620168300' id='364216'>
<a class='timestamp' href='#364216'><time timestamp='2021-05-04T22:45:00Z'>22:45</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i believe it is possible (but don&#x27;t know) that if we could today change the code so that non-reachable nodes drastically reduce how much they perform tx announcements and that when doing so (a) bandwidth usage of reachable nodes won&#x27;t be affected much and (b) propagation delays won&#x27;t suffer much
<br>
</div>

<div class='talk op-msg' data-timestamp='1620168360' id='364217'>
<a class='timestamp' href='#364217'><time timestamp='2021-05-04T22:46:00Z'>22:46</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
basically i&#x27;m saying that it could be the case that effectively a lot of tx propagation work performed today by non-reachable nodes is redundant
<br>
</div>

<div class='talk op-msg' data-timestamp='1620168360' id='364218'>
<a class='timestamp' href='#364218'><time timestamp='2021-05-04T22:46:00Z'>22:46</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
I think greg&#x27;s 2:1 can&#x27;t agree with you.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620168420' id='364219'>
<a class='timestamp' href='#364219'><time timestamp='2021-05-04T22:47:00Z'>22:47</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
I assume, non-reachable sends 0.5x of reachable&#x27;s tx body traffic?
<br>
</div>

<div class='talk op-msg' data-timestamp='1620168420' id='364220'>
<a class='timestamp' href='#364220'><time timestamp='2021-05-04T22:47:00Z'>22:47</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sipa: sendign tx <u>_bodies_</u> is never redundant.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620168420' id='364221'>
<a class='timestamp' href='#364221'><time timestamp='2021-05-04T22:47:00Z'>22:47</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
lemme go get current figures one sec.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620168420' id='364222'>
<a class='timestamp' href='#364222'><time timestamp='2021-05-04T22:47:00Z'>22:47</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: ah good point, every body only arrives at every node once
<br>
</div>

<div class='talk op-msg' data-timestamp='1620168480' id='364223'>
<a class='timestamp' href='#364223'><time timestamp='2021-05-04T22:48:00Z'>22:48</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
whatever non-reachable nodes are doing in that regard must be compensated by others
<br>
</div>

<div class='talk op-msg' data-timestamp='1620168480' id='364224'>
<a class='timestamp' href='#364224'><time timestamp='2021-05-04T22:48:00Z'>22:48</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ok, that&#x27;s convincing
<br>
</div>

<div class='talk op-msg' data-timestamp='1620168540' id='364225'>
<a class='timestamp' href='#364225'><time timestamp='2021-05-04T22:49:00Z'>22:49</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
crap I lost my shell history on my node and now need to remember how to use JQ... I want to look at the ratio tx message sizes on inbound peers.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620168540' id='364226'>
<a class='timestamp' href='#364226'><time timestamp='2021-05-04T22:49:00Z'>22:49</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(it&#x27;s just data in getpeerinfo)
<br>
</div>

<div class='talk op-msg' data-timestamp='1620168600' id='364227'>
<a class='timestamp' href='#364227'><time timestamp='2021-05-04T22:50:00Z'>22:50</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
So potentially 2 problems with current design: 1) NAT privacy (could probably be fixed) 2) deepening the asymmetry
<br>
</div>

<div class='talk op-msg' data-timestamp='1620168600' id='364228'>
<a class='timestamp' href='#364228'><time timestamp='2021-05-04T22:50:00Z'>22:50</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
my very bad informal memory says that it was asymmetric, but except for bognon peers not THAT asymmetric.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620168600' id='364229'>
<a class='timestamp' href='#364229'><time timestamp='2021-05-04T22:50:00Z'>22:50</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
bogon*
<br>
</div>

<div class='talk op-msg' data-timestamp='1620168780' id='364230'>
<a class='timestamp' href='#364230'><time timestamp='2021-05-04T22:53:00Z'>22:53</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
also: fwiw, we created most of this asymmetry &#x27;recently&#x27; with the relay grouping stuff... and it wasn&#x27;t an intended effect.  When I did notice it I was confused/surprised.  Though I don&#x27;t think the current level is a problem.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620168780' id='364231'>
<a class='timestamp' href='#364231'><time timestamp='2021-05-04T22:53:00Z'>22:53</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I had automation that was identifyign spies to ban based on part of that ratio and I noticed when it started flagging lots more peers.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620168840' id='364232'>
<a class='timestamp' href='#364232'><time timestamp='2021-05-04T22:54:00Z'>22:54</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
gmaxwell: was it symmetrical before groups? Even when we just had 2s/5s independent timers?
<br>
</div>

<div class='talk op-msg' data-timestamp='1620168900' id='364233'>
<a class='timestamp' href='#364233'><time timestamp='2021-05-04T22:55:00Z'>22:55</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
gleb: SO, it wasn&#x27;t asymmetrical enough for me to notice, but I think I was triggering on unusual as 2:1. It&#x27;s a little hard to say for absolute sure because deployments happen over time.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620168900' id='364234'>
<a class='timestamp' href='#364234'><time timestamp='2021-05-04T22:55:00Z'>22:55</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
It&#x27;s not impossible that the independant 2/5sec change was the cause, and it just took a long time to be deployed enough for me to notice (or some other factor made it more visible).  But I think it&#x27;s likely that making all inbounds share a group was the cause.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620168960' id='364235'>
<a class='timestamp' href='#364235'><time timestamp='2021-05-04T22:56:00Z'>22:56</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I didn&#x27;t <b>*really*</b> realize something was going on that I didn&#x27;t understand until I saw a big asymmetry on a connection between sipa&#x27;s node and mine.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620169020' id='364236'>
<a class='timestamp' href='#364236'><time timestamp='2021-05-04T22:57:00Z'>22:57</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
which I couldn&#x27;t dismiss as being some weird peer.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620169020' id='364237'>
<a class='timestamp' href='#364237'><time timestamp='2021-05-04T22:57:00Z'>22:57</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
well, sipa is weird but his bitcoin node isn&#x27;t. :P
<br>
</div>

<div class='talk op-msg' data-timestamp='1620169020' id='364238'>
<a class='timestamp' href='#364238'><time timestamp='2021-05-04T22:57:00Z'>22:57</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
gmaxwell: sad we haven&#x27;t noticed that during the shared timer design, that&#x27;s the stuff i like to model... but probably didn&#x27;t know how to at a time
<br>
</div>

<div class='talk op-msg' data-timestamp='1620169020' id='364239'>
<a class='timestamp' href='#364239'><time timestamp='2021-05-04T22:57:00Z'>22:57</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
I think that could have been my first PR to core in 2018.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620169080' id='364240'>
<a class='timestamp' href='#364240'><time timestamp='2021-05-04T22:58:00Z'>22:58</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Well you don&#x27;t know what you don&#x27;t know.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620169080' id='364241'>
<a class='timestamp' href='#364241'><time timestamp='2021-05-04T22:58:00Z'>22:58</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
You could easily model the txdata burden, I just never thought of it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620169200' id='364242'>
<a class='timestamp' href='#364242'><time timestamp='2021-05-04T23:00:00Z'>23:00</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
The tx serving burden has come up before, but in a different context-- like if you get multiple INVs for the same tx at almost the same time, it&#x27;s better to pick the source more randomly rather than always go to the first.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620169200' id='364243'>
<a class='timestamp' href='#364243'><time timestamp='2021-05-04T23:00:00Z'>23:00</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sorry.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620169200' id='364244'>
<a class='timestamp' href='#364244'><time timestamp='2021-05-04T23:00:00Z'>23:00</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
But that stuff we also changed in the context of invblock or tx overhaul or something recently? :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1620169260' id='364245'>
<a class='timestamp' href='#364245'><time timestamp='2021-05-04T23:01:00Z'>23:01</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
like, this exact suggestion, making it random and not first received
<br>
</div>

<div class='talk op-msg' data-timestamp='1620169380' id='364246'>
<a class='timestamp' href='#364246'><time timestamp='2021-05-04T23:03:00Z'>23:03</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
So, if we want to make it more symmetrical, we indeed could direct some flooding into inbound, and independently from the tx source (maaaybe based on prev performance). I expect we loose some overall efficiency that way, but if that&#x27;s desired.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620169380' id='364247'>
<a class='timestamp' href='#364247'><time timestamp='2021-05-04T23:03:00Z'>23:03</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
Yeah, that&#x27;s exactly figure 19, except it chooses the flood peers randomly.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620169440' id='364248'>
<a class='timestamp' href='#364248'><time timestamp='2021-05-04T23:04:00Z'>23:04</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] fanquake closed pull request #21854: doc: make small corrections (v0.21.1 release notes) (master...patch-1) <a href="https://github.com/bitcoin/bitcoin/pull/21854" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/21854</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1620169620' id='364249'>
<a class='timestamp' href='#364249'><time timestamp='2021-05-04T23:07:00Z'>23:07</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
./src/bitcoin-cli getpeerinfo | jq -r &#x27;map(&quot;\(if .inbound then &quot;I&quot; else &quot;O&quot; end) \((.bytessent_per_msg.tx // 0) / ((.bytessent_per_msg.tx // 0) + (1 + .bytesrecv_per_msg.tx // 0)))&quot;) | .[]&#x27; | sort -g
<br>
</div>

<div class='talk op-msg' data-timestamp='1620169680' id='364250'>
<a class='timestamp' href='#364250'><time timestamp='2021-05-04T23:08:00Z'>23:08</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: something like that?
<br>
</div>

<div class='talk op-msg' data-timestamp='1620169680' id='364251'>
<a class='timestamp' href='#364251'><time timestamp='2021-05-04T23:08:00Z'>23:08</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
./bitcoin-cli getpeerinfo | jq -c &#x27;.[] | select(.&quot;bytessent_per_msg&quot;.&quot;tx&quot;&gt;0) | select(.&quot;bytesrecv_per_msg&quot;.&quot;tx&quot;&gt;0) | select(.&quot;inbound&quot;==false) | .&quot;bytessent_per_msg&quot;.&quot;tx&quot;/.&quot;bytesrecv_per_msg&quot;.&quot;tx&quot;&#x27; 
<br>
</div>

<div class='talk op-msg' data-timestamp='1620169680' id='364252'>
<a class='timestamp' href='#364252'><time timestamp='2021-05-04T23:08:00Z'>23:08</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
is what I ended up with.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620169740' id='364253'>
<a class='timestamp' href='#364253'><time timestamp='2021-05-04T23:09:00Z'>23:09</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
but yea your is better.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620169740' id='364254'>
<a class='timestamp' href='#364254'><time timestamp='2021-05-04T23:09:00Z'>23:09</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
these need to be normalized though because naturally you&#x27;ll only recieve once.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620169740' id='364255'>
<a class='timestamp' href='#364255'><time timestamp='2021-05-04T23:09:00Z'>23:09</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
sipa: I&#x27;m looking at my simulator, and I&#x27;m realizing I had no &quot;received from inbound&quot; policy at a time. Same in the paper. It was always just &quot;flood to 8 outbounds&quot; policy.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620169800' id='364256'>
<a class='timestamp' href='#364256'><time timestamp='2021-05-04T23:10:00Z'>23:10</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gleb: that&#x27;s surprising
<br>
</div>

<div class='talk op-msg' data-timestamp='1620169800' id='364257'>
<a class='timestamp' href='#364257'><time timestamp='2021-05-04T23:10:00Z'>23:10</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
that is anti-surprising to me! :P
<br>
</div>

<div class='talk op-msg' data-timestamp='1620169860' id='364258'>
<a class='timestamp' href='#364258'><time timestamp='2021-05-04T23:11:00Z'>23:11</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it conflicts with my intuition for why increasing flooding reducing bandwidth
<br>
</div>

<div class='talk op-msg' data-timestamp='1620169920' id='364259'>
<a class='timestamp' href='#364259'><time timestamp='2021-05-04T23:12:00Z'>23:12</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
oh, hold on, sorry, the simulator is old code and hard to understand now :(
<br>
</div>

<div class='talk op-msg' data-timestamp='1620170100' id='364260'>
<a class='timestamp' href='#364260'><time timestamp='2021-05-04T23:15:00Z'>23:15</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
It seems like at the time the idea was to only flood what&#x27;s announced by reconciliation initiator to reconciliation responder (not backwards). Sorry again for this thought bouncing. Yeah, it seems i always had this idea in mind: try not to flood from non-reachable nodes.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620170160' id='364261'>
<a class='timestamp' href='#364261'><time timestamp='2021-05-04T23:16:00Z'>23:16</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
And since inbound always initiates, we effectively announce &quot;what is learned inbound&quot;. The lattest simulator has that it seems.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620170220' id='364262'>
<a class='timestamp' href='#364262'><time timestamp='2021-05-04T23:17:00Z'>23:17</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
Anyway, so should we try other configurations again and see how much bandwidth gain we loose by not making topology assumptions?
<br>
</div>

<div class='talk op-msg' data-timestamp='1620170220' id='364263'>
<a class='timestamp' href='#364263'><time timestamp='2021-05-04T23:17:00Z'>23:17</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
just trying &quot;flood relay everything to 2-3-4-5-6-7-8 outbound peers&quot; ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1620170340' id='364264'>
<a class='timestamp' href='#364264'><time timestamp='2021-05-04T23:19:00Z'>23:19</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sipa: so my node has 65 peers that I&#x27;ve exchanged txn with, and overall has sent 3.26x the tx data it has recieved. I think that ratio is pretty low, considering it only recieves once but sends up to 65 times.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620170400' id='364265'>
<a class='timestamp' href='#364265'><time timestamp='2021-05-04T23:20:00Z'>23:20</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
gleb: also maybe add to the simulator something to get information on how much tx body data will be sent/recieved?  I&#x27;m pretty sure the current scheme will behave pretty poorly in that respect.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620170460' id='364266'>
<a class='timestamp' href='#364266'><time timestamp='2021-05-04T23:21:00Z'>23:21</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
gmaxwell: you mean poor in the sense of asymmetry?
<br>
</div>

<div class='talk op-msg' data-timestamp='1620170460' id='364267'>
<a class='timestamp' href='#364267'><time timestamp='2021-05-04T23:21:00Z'>23:21</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
gleb: yeah, poor in the sense that total traffic on reachable nodes would increase a lot, while traffic at each non-reachable node decreases a bit.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620170520' id='364268'>
<a class='timestamp' href='#364268'><time timestamp='2021-05-04T23:22:00Z'>23:22</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(because the latter outnumber the former)
<br>
</div>

<div class='talk op-msg' data-timestamp='1620170520' id='364269'>
<a class='timestamp' href='#364269'><time timestamp='2021-05-04T23:22:00Z'>23:22</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
Okay, maybe it&#x27;s time to re-implement the simulator so that other people can actually review and use it easier. I&#x27;ll start looking into it tomorrow.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620170580' id='364270'>
<a class='timestamp' href='#364270'><time timestamp='2021-05-04T23:23:00Z'>23:23</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
:( I feel bad.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620170580' id='364271'>
<a class='timestamp' href='#364271'><time timestamp='2021-05-04T23:23:00Z'>23:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
this is a fairly simple policy change, so i don&#x27;t think this needs to hold up code review much
<br>
</div>

<div class='talk op-msg' data-timestamp='1620170580' id='364272'>
<a class='timestamp' href='#364272'><time timestamp='2021-05-04T23:23:00Z'>23:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
(if we&#x27;d make it)
<br>
</div>

<div class='talk op-msg' data-timestamp='1620170580' id='364273'>
<a class='timestamp' href='#364273'><time timestamp='2021-05-04T23:23:00Z'>23:23</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
yea I don&#x27;t think it really changes the implementation much except for a few lines here and there.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620170580' id='364274'>
<a class='timestamp' href='#364274'><time timestamp='2021-05-04T23:23:00Z'>23:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
oh, and don&#x27;t forget the &quot;remove from recon sets whatever is send/received through flooding&quot; - i think that matters
<br>
</div>

<div class='talk op-msg' data-timestamp='1620170580' id='364275'>
<a class='timestamp' href='#364275'><time timestamp='2021-05-04T23:23:00Z'>23:23</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
sipa: i agree, most of the module remains the same, this stuff is even outside the module.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620170640' id='364276'>
<a class='timestamp' href='#364276'><time timestamp='2021-05-04T23:24:00Z'>23:24</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
sipa: i noted it, don&#x27;t worry
<br>
</div>

<div class='talk op-msg' data-timestamp='1620170640' id='364277'>
<a class='timestamp' href='#364277'><time timestamp='2021-05-04T23:24:00Z'>23:24</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gleb: thanks!
<br>
</div>

<div class='talk op-msg' data-timestamp='1620170640' id='364278'>
<a class='timestamp' href='#364278'><time timestamp='2021-05-04T23:24:00Z'>23:24</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
in the meantime, minisketch could get merged, and dropped from the erlay PR. That would be nice progress.
<br>
</div>

<div class='talk op-msg' data-timestamp='1620170640' id='364279'>
<a class='timestamp' href='#364279'><time timestamp='2021-05-04T23:24:00Z'>23:24</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
okay, thank you, i&#x27;ll come back once i have the results. I agree on the plan ^
<br>
</div>

<div class='talk op-msg' data-timestamp='1620171060' id='364280'>
<a class='timestamp' href='#364280'><time timestamp='2021-05-04T23:31:00Z'>23:31</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sipa: I have this vague idea that since my tx body ratio is 3.26x that my inv data ratio should be also 3.26x, ideally.  (of course it won&#x27;t be, it&#x27;ll be beteen 32 and 64x because I have 64 peers and invs are flooded)
<br>
</div>

<div class='talk op-msg' data-timestamp='1620171240' id='364281'>
<a class='timestamp' href='#364281'><time timestamp='2021-05-04T23:34:00Z'>23:34</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
oh, no it won&#x27;t the invs ratio will be near 1 but both sides will be 64 times larger. duh.
<br>
</div>

</div>
</section>

</body>
</html>
