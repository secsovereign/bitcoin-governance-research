<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2019-07-29
 — 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2019-07-29' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:19 UTC</pre>
<pre><a href="/bitcoin-core-dev/2019-06-29">&lt;</a><span class='header'>    July 2019     </span><a href="/bitcoin-core-dev/2019-08-29">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;    <a class="" href="/bitcoin-core-dev/2019-07-01">1</a>  <a class="" href="/bitcoin-core-dev/2019-07-02">2</a>  <a class="" href="/bitcoin-core-dev/2019-07-03">3</a>  <a class="" href="/bitcoin-core-dev/2019-07-04">4</a>  <a class="" href="/bitcoin-core-dev/2019-07-05">5</a>  <a class="" href="/bitcoin-core-dev/2019-07-06">6</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2019-07-07">7</a>  <a class="" href="/bitcoin-core-dev/2019-07-08">8</a>  <a class="" href="/bitcoin-core-dev/2019-07-09">9</a> <a class="" href="/bitcoin-core-dev/2019-07-10">10</a> <a class="" href="/bitcoin-core-dev/2019-07-11">11</a> <a class="" href="/bitcoin-core-dev/2019-07-12">12</a> <a class="" href="/bitcoin-core-dev/2019-07-13">13</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2019-07-14">14</a> <a class="" href="/bitcoin-core-dev/2019-07-15">15</a> <a class="" href="/bitcoin-core-dev/2019-07-16">16</a> <a class="" href="/bitcoin-core-dev/2019-07-17">17</a> <a class="" href="/bitcoin-core-dev/2019-07-18">18</a> <a class="" href="/bitcoin-core-dev/2019-07-19">19</a> <a class="" href="/bitcoin-core-dev/2019-07-20">20</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2019-07-21">21</a> <a class="" href="/bitcoin-core-dev/2019-07-22">22</a> <a class="" href="/bitcoin-core-dev/2019-07-23">23</a> <a class="" href="/bitcoin-core-dev/2019-07-24">24</a> <a class="" href="/bitcoin-core-dev/2019-07-25">25</a> <a class="" href="/bitcoin-core-dev/2019-07-26">26</a> <a class="" href="/bitcoin-core-dev/2019-07-27">27</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2019-07-28">28</a> <a class="current" href="/bitcoin-core-dev/2019-07-29">29</a> <a class="" href="/bitcoin-core-dev/2019-07-30">30</a> <a class="" href="/bitcoin-core-dev/2019-07-31">31</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1564364640' id='673889'>
<a class='timestamp' href='#673889'><time timestamp='2019-07-29T01:44:00Z'>01:44</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] fanquake closed pull request #15052: Tests: Contract testing for the procedure AddTimeData and related fixes (master...timedata_contract_test2) <a href="https://github.com/bitcoin/bitcoin/pull/15052" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/15052</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1564364700' id='673890'>
<a class='timestamp' href='#673890'><time timestamp='2019-07-29T01:45:00Z'>01:45</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] fanquake closed pull request #15104: Tests: Add unit testing for the CompressScript function (master...compress_contract_test3) <a href="https://github.com/bitcoin/bitcoin/pull/15104" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/15104</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1564364820' id='673891'>
<a class='timestamp' href='#673891'><time timestamp='2019-07-29T01:47:00Z'>01:47</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] fanquake closed pull request #13357: Define SIGHASH_MASK in validation and determine the use of SIGHASH_SINGLE in signing (master...signsingle) <a href="https://github.com/bitcoin/bitcoin/pull/13357" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/13357</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1564375440' id='673892'>
<a class='timestamp' href='#673892'><time timestamp='2019-07-29T04:44:00Z'>04:44</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
sipa, i added logging of the leveldb wrapper stuff and noticed that there&#x27;s requests for seemingly everything until block height=227931 where the cache seems to absorb all the requests, does that make any sense or have i just missed something really obvious
<br>
</div>

<div class='talk op-msg' data-timestamp='1564375740' id='673893'>
<a class='timestamp' href='#673893'><time timestamp='2019-07-29T04:49:00Z'>04:49</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
phantomcircuit: elaborate?
<br>
</div>

<div class='talk op-msg' data-timestamp='1564375920' id='673894'>
<a class='timestamp' href='#673894'><time timestamp='2019-07-29T04:52:00Z'>04:52</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
sipa, i added some LogPrint statements in dbwrapper.h after pdb-&gt;Get in Read and Exists
<br>
</div>

<div class='talk op-msg' data-timestamp='1564375980' id='673895'>
<a class='timestamp' href='#673895'><time timestamp='2019-07-29T04:53:00Z'>04:53</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
i wanted to do a graph of &quot;io&quot; relative to dbcache size during IBD
<br>
</div>

<div class='talk op-msg' data-timestamp='1564375980' id='673896'>
<a class='timestamp' href='#673896'><time timestamp='2019-07-29T04:53:00Z'>04:53</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
but instead what im seeing in logs seems crazy
<br>
</div>

<div class='talk op-msg' data-timestamp='1564376400' id='673897'>
<a class='timestamp' href='#673897'><time timestamp='2019-07-29T05:00:00Z'>05:00</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
sipa, i changed the logging hang on i&#x27;ll upload the debug.log...
<br>
</div>

<div class='talk op-msg' data-timestamp='1564376400' id='673898'>
<a class='timestamp' href='#673898'><time timestamp='2019-07-29T05:00:00Z'>05:00</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
<a href="https://github.com/pstratem/bitcoin/commits/2019-07-28-leveldb-detail" class="link" target="_blank">https://github.com/pstratem/bitcoin/commits/2019-07-28-leveldb-detail</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1564376820' id='673899'>
<a class='timestamp' href='#673899'><time timestamp='2019-07-29T05:07:00Z'>05:07</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
sipa, <a href="https://2083236893.com/debug.log" class="link" target="_blank">https://2083236893.com/debug.log</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1564377300' id='673900'>
<a class='timestamp' href='#673900'><time timestamp='2019-07-29T05:15:00Z'>05:15</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
sipa, i think that&#x27;s the block where bip34 was activated
<br>
</div>

<div class='talk op-msg' data-timestamp='1564377660' id='673901'>
<a class='timestamp' href='#673901'><time timestamp='2019-07-29T05:21:00Z'>05:21</time></a>
&lt;<span class='nick nick-5'> harding</span>&gt;
phantomcircuit: BIP90 agrees that 227931 was the BIP34 activationheight.
<br>
</div>

<div class='talk op-msg' data-timestamp='1564377660' id='673902'>
<a class='timestamp' href='#673902'><time timestamp='2019-07-29T05:21:00Z'>05:21</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
phantomcircuit: will look tomorrow
<br>
</div>

<div class='talk op-msg' data-timestamp='1564377780' id='673903'>
<a class='timestamp' href='#673903'><time timestamp='2019-07-29T05:23:00Z'>05:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
threre is some interaction between bip34 and the utxo logic
<br>
</div>

<div class='talk op-msg' data-timestamp='1564377840' id='673904'>
<a class='timestamp' href='#673904'><time timestamp='2019-07-29T05:24:00Z'>05:24</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
oh i see bip30
<br>
</div>

<div class='talk op-msg' data-timestamp='1564377960' id='673905'>
<a class='timestamp' href='#673905'><time timestamp='2019-07-29T05:26:00Z'>05:26</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
sipa, nvm i understand how, the bip30 logic guarantees at least one utxo db access for each transaction in the block until the bip34 activation block
<br>
</div>

<div class='talk op-msg' data-timestamp='1564377960' id='673906'>
<a class='timestamp' href='#673906'><time timestamp='2019-07-29T05:26:00Z'>05:26</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
and since it&#x27;s never going to be in the cache the read always goes to disk
<br>
</div>

<div class='talk op-msg' data-timestamp='1564378020' id='673907'>
<a class='timestamp' href='#673907'><time timestamp='2019-07-29T05:27:00Z'>05:27</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
there&#x27;s probably potential to optimize that when assumevalid is set
<br>
</div>

<div class='talk op-msg' data-timestamp='1564378080' id='673908'>
<a class='timestamp' href='#673908'><time timestamp='2019-07-29T05:28:00Z'>05:28</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
it&#x27;s 34 million leveldb Get calls
<br>
</div>

<div class='talk op-msg' data-timestamp='1564388400' id='673909'>
<a class='timestamp' href='#673909'><time timestamp='2019-07-29T08:20:00Z'>08:20</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] sipsorcery opened pull request #16483: Updated python command in msvc readme (master...update_msvc_readme) <a href="https://github.com/bitcoin/bitcoin/pull/16483" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/16483</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1564388640' id='673910'>
<a class='timestamp' href='#673910'><time timestamp='2019-07-29T08:24:00Z'>08:24</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] fanquake closed pull request #16458: Fix msvc compiler error C4146 (unary minus operator applied to unsigned type (0.17...fix-C4146-in-util-test) <a href="https://github.com/bitcoin/bitcoin/pull/16458" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/16458</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1564389540' id='673911'>
<a class='timestamp' href='#673911'><time timestamp='2019-07-29T08:39:00Z'>08:39</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
hebasto: <a href="https://github.com/bitcoin/bitcoin/pull/16476,..." class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/16476,...</a> 5 labels? :-)
<br>
</div>

<div class='talk op-msg' data-timestamp='1564389540' id='673912'>
<a class='timestamp' href='#673912'><time timestamp='2019-07-29T08:39:00Z'>08:39</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Draht added them... I see
<br>
</div>

<div class='talk op-msg' data-timestamp='1564389600' id='673913'>
<a class='timestamp' href='#673913'><time timestamp='2019-07-29T08:40:00Z'>08:40</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
jonasschnelli: sometimes the bot gets a bit out of control hah
<br>
</div>

<div class='talk op-msg' data-timestamp='1564391460' id='673914'>
<a class='timestamp' href='#673914'><time timestamp='2019-07-29T09:11:00Z'>09:11</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sipa: the PR #16202 is a result of your NACK/comment in 14046. Appreciate your review. Thanks
<br>
</div>

<div class='talk op-msg' data-timestamp='1564391460' id='673915'>
<a class='timestamp' href='#673915'><time timestamp='2019-07-29T09:11:00Z'>09:11</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/16202" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/16202</a> | Refactor network message deserialization by jonasschnelli · Pull Request #16202 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1564402560' id='673916'>
<a class='timestamp' href='#673916'><time timestamp='2019-07-29T12:16:00Z'>12:16</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke reopened pull request #16458: Fix msvc compiler error C4146 (unary minus operator applied to unsigned type (0.17...fix-C4146-in-util-test) <a href="https://github.com/bitcoin/bitcoin/pull/16458" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/16458</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1564402680' id='673917'>
<a class='timestamp' href='#673917'><time timestamp='2019-07-29T12:18:00Z'>12:18</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke closed pull request #16458: Fix msvc compiler error C4146 (unary minus operator applied to unsigned type (0.17...fix-C4146-in-util-test) <a href="https://github.com/bitcoin/bitcoin/pull/16458" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/16458</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1564402920' id='673918'>
<a class='timestamp' href='#673918'><time timestamp='2019-07-29T12:22:00Z'>12:22</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke pushed 2 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/5c2885f9b2e3...502ec0227290" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/5c2885f9b2e3...502ec0227290</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1564402920' id='673919'>
<a class='timestamp' href='#673919'><time timestamp='2019-07-29T12:22:00Z'>12:22</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master fabfcb5 MarcoFalke: build: Treat -Wswitch as error when --enable-werror
<br>
</div>

<div class='talk op-msg' data-timestamp='1564402920' id='673920'>
<a class='timestamp' href='#673920'><time timestamp='2019-07-29T12:22:00Z'>12:22</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 502ec02 MarcoFalke: Merge #16424: build: Treat -Wswitch as error when --enable-werror
<br>
</div>

<div class='talk op-msg' data-timestamp='1564402980' id='673921'>
<a class='timestamp' href='#673921'><time timestamp='2019-07-29T12:23:00Z'>12:23</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke merged pull request #16424: build: Treat -Wswitch as error when --enable-werror (master...1907-buildSwitchError) <a href="https://github.com/bitcoin/bitcoin/pull/16424" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/16424</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1564403580' id='673922'>
<a class='timestamp' href='#673922'><time timestamp='2019-07-29T12:33:00Z'>12:33</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke opened pull request #16484: doc: Remove &quot;trivial&quot; label in CONTRIBUTING (master...1907-docNoTrivial) <a href="https://github.com/bitcoin/bitcoin/pull/16484" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/16484</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1564404720' id='673923'>
<a class='timestamp' href='#673923'><time timestamp='2019-07-29T12:52:00Z'>12:52</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 2 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/502ec0227290...f735851be294" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/502ec0227290...f735851be294</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1564404720' id='673924'>
<a class='timestamp' href='#673924'><time timestamp='2019-07-29T12:52:00Z'>12:52</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 07e01d6 Jon Atack: rpc: sendrawtransaction unconditionality/privacy note
<br>
</div>

<div class='talk op-msg' data-timestamp='1564404720' id='673925'>
<a class='timestamp' href='#673925'><time timestamp='2019-07-29T12:52:00Z'>12:52</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master f735851 Wladimir J. van der Laan: Merge #16467: rpc: sendrawtransaction help privacy note
<br>
</div>

<div class='talk op-msg' data-timestamp='1564404780' id='673926'>
<a class='timestamp' href='#673926'><time timestamp='2019-07-29T12:53:00Z'>12:53</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj merged pull request #16467: rpc: sendrawtransaction help privacy note (master...sendrawtransaction-privacy-note) <a href="https://github.com/bitcoin/bitcoin/pull/16467" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/16467</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1564407180' id='673927'>
<a class='timestamp' href='#673927'><time timestamp='2019-07-29T13:33:00Z'>13:33</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 5 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/f735851be294...29220250c10e" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/f735851be294...29220250c10e</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1564407180' id='673928'>
<a class='timestamp' href='#673928'><time timestamp='2019-07-29T13:33:00Z'>13:33</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 98a64bd fanquake: build: disable libjpeg in qt
<br>
</div>

<div class='talk op-msg' data-timestamp='1564407180' id='673929'>
<a class='timestamp' href='#673929'><time timestamp='2019-07-29T13:33:00Z'>13:33</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 0aeb98a fanquake: build: remove jpeg lib check from bitcoin_qt.m4
<br>
</div>

<div class='talk op-msg' data-timestamp='1564407180' id='673930'>
<a class='timestamp' href='#673930'><time timestamp='2019-07-29T13:33:00Z'>13:33</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 1bb1661 fanquake: doc: fix typo in bitcoin_qt.m4 comment
<br>
</div>

<div class='talk op-msg' data-timestamp='1564407240' id='673931'>
<a class='timestamp' href='#673931'><time timestamp='2019-07-29T13:34:00Z'>13:34</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj merged pull request #16441: build: remove qt libjpeg check from bitcoin_qt.m4 (master...remove-qt-libjpeg-check) <a href="https://github.com/bitcoin/bitcoin/pull/16441" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/16441</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1564407480' id='673932'>
<a class='timestamp' href='#673932'><time timestamp='2019-07-29T13:38:00Z'>13:38</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke pushed 5 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/29220250c10e...74ea1f3b0f26" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/29220250c10e...74ea1f3b0f26</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1564407480' id='673933'>
<a class='timestamp' href='#673933'><time timestamp='2019-07-29T13:38:00Z'>13:38</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 3199610 Fabian Jahr: Place out args at the end for CreateWallet
<br>
</div>

<div class='talk op-msg' data-timestamp='1564407480' id='673934'>
<a class='timestamp' href='#673934'><time timestamp='2019-07-29T13:38:00Z'>13:38</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master d6649d1 Fabian Jahr: Use strong enum for WalletCreationStatus
<br>
</div>

<div class='talk op-msg' data-timestamp='1564407480' id='673935'>
<a class='timestamp' href='#673935'><time timestamp='2019-07-29T13:38:00Z'>13:38</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master ba1f128 Fabian Jahr: Return error for ignored passphrase through disable private keys option
<br>
</div>

<div class='talk op-msg' data-timestamp='1564407540' id='673936'>
<a class='timestamp' href='#673936'><time timestamp='2019-07-29T13:39:00Z'>13:39</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke merged pull request #16399: wallet: Improve wallet creation (master...followup-16244) <a href="https://github.com/bitcoin/bitcoin/pull/16399" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/16399</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1564411920' id='673937'>
<a class='timestamp' href='#673937'><time timestamp='2019-07-29T14:52:00Z'>14:52</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 6 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/74ea1f3b0f26...b21acab82fe9" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/74ea1f3b0f26...b21acab82fe9</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1564411920' id='673938'>
<a class='timestamp' href='#673938'><time timestamp='2019-07-29T14:52:00Z'>14:52</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 9f76e45 Hennadii Stepanov: Drop support of insecure miniUPnPc versions
<br>
</div>

<div class='talk op-msg' data-timestamp='1564411920' id='673939'>
<a class='timestamp' href='#673939'><time timestamp='2019-07-29T14:52:00Z'>14:52</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 91a1b85 Hennadii Stepanov: Use PACKAGE_NAME in UPnP description
<br>
</div>

<div class='talk op-msg' data-timestamp='1564411920' id='673940'>
<a class='timestamp' href='#673940'><time timestamp='2019-07-29T14:52:00Z'>14:52</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 02709e9 Hennadii Stepanov: Align formatting with clang-format
<br>
</div>

<div class='talk op-msg' data-timestamp='1564411980' id='673941'>
<a class='timestamp' href='#673941'><time timestamp='2019-07-29T14:53:00Z'>14:53</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj merged pull request #15993: net: Drop support of the insecure miniUPnPc versions (master...20190506-drop-ancient-miniupnpc-api) <a href="https://github.com/bitcoin/bitcoin/pull/15993" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/15993</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1564412040' id='673942'>
<a class='timestamp' href='#673942'><time timestamp='2019-07-29T14:54:00Z'>14:54</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
hi all, if anyone is interested in reviewing or even just testing #15759 i&#x27;d appreciate it, as i think it&#x27;d be best if p2p changes like this simmer in master with plenty of time before a new release in case of bugs or unintended side effects
<br>
</div>

<div class='talk op-msg' data-timestamp='1564412040' id='673943'>
<a class='timestamp' href='#673943'><time timestamp='2019-07-29T14:54:00Z'>14:54</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/15759" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/15759</a> | [p2p] Add 2 outbound blocks-only connections by sdaftuar · Pull Request #15759 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1564413540' id='673944'>
<a class='timestamp' href='#673944'><time timestamp='2019-07-29T15:19:00Z'>15:19</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 2 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/b21acab82fe9...2a7c3bc498b5" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/b21acab82fe9...2a7c3bc498b5</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1564413540' id='673945'>
<a class='timestamp' href='#673945'><time timestamp='2019-07-29T15:19:00Z'>15:19</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 4057b7a Hennadii Stepanov: wallet: Recognize -disablewallet option early
<br>
</div>

<div class='talk op-msg' data-timestamp='1564413540' id='673946'>
<a class='timestamp' href='#673946'><time timestamp='2019-07-29T15:19:00Z'>15:19</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 2a7c3bc Wladimir J. van der Laan: Merge #16436: gui: Do not create payment server if -disablewallet option p...
<br>
</div>

<div class='talk op-msg' data-timestamp='1564413540' id='673947'>
<a class='timestamp' href='#673947'><time timestamp='2019-07-29T15:19:00Z'>15:19</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
sdaftuar: agreed
<br>
</div>

<div class='talk op-msg' data-timestamp='1564413600' id='673948'>
<a class='timestamp' href='#673948'><time timestamp='2019-07-29T15:20:00Z'>15:20</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj merged pull request #16436: gui: Do not create payment server if -disablewallet option provided (master...20190722-payment-server) <a href="https://github.com/bitcoin/bitcoin/pull/16436" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/16436</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1564414260' id='673949'>
<a class='timestamp' href='#673949'><time timestamp='2019-07-29T15:31:00Z'>15:31</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
sipa: wumpus: any thoughts on the issue described in #16444? seems like an annoying problem to fix
<br>
</div>

<div class='talk op-msg' data-timestamp='1564414260' id='673950'>
<a class='timestamp' href='#673950'><time timestamp='2019-07-29T15:31:00Z'>15:31</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/16444" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/16444</a> | Assertion `setBlockIndexCandidates.count(pindex) failed · Issue #16444 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1564414320' id='673951'>
<a class='timestamp' href='#673951'><time timestamp='2019-07-29T15:32:00Z'>15:32</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
i think if we want to maintain the invariants we&#x27;ve historically had and not change CheckBlockIndex() at all, then we could add some more code to InvalidateBlock() so that everything works as it used to.
<br>
</div>

<div class='talk op-msg' data-timestamp='1564414380' id='673952'>
<a class='timestamp' href='#673952'><time timestamp='2019-07-29T15:33:00Z'>15:33</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
it just seems a bit tedious and it&#x27;s not totally clear to me that it&#x27;s important to maintain our usual invariants in this one specific case
<br>
</div>

<div class='talk op-msg' data-timestamp='1564419300' id='673953'>
<a class='timestamp' href='#673953'><time timestamp='2019-07-29T16:55:00Z'>16:55</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 2 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/2a7c3bc498b5...68da54987df4" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/2a7c3bc498b5...68da54987df4</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1564419300' id='673954'>
<a class='timestamp' href='#673954'><time timestamp='2019-07-29T16:55:00Z'>16:55</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 42a5e91 John Newbery: [mempool] log correct messages when CPFP fails
<br>
</div>

<div class='talk op-msg' data-timestamp='1564419300' id='673955'>
<a class='timestamp' href='#673955'><time timestamp='2019-07-29T16:55:00Z'>16:55</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 68da549 Wladimir J. van der Laan: Merge #16471: [mempool] log correct messages when CPFP fails
<br>
</div>

<div class='talk op-msg' data-timestamp='1564419360' id='673956'>
<a class='timestamp' href='#673956'><time timestamp='2019-07-29T16:56:00Z'>16:56</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj merged pull request #16471: [mempool] log correct messages when CPFP fails (master...2019-07-fix-CalculateMempoolAncestors-logging) <a href="https://github.com/bitcoin/bitcoin/pull/16471" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/16471</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1564421940' id='673957'>
<a class='timestamp' href='#673957'><time timestamp='2019-07-29T17:39:00Z'>17:39</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] pstratem opened pull request #16486: [consensus] skip bip30 checks when assumevalid is set for the block (master...2019-07-29-fassumevalid-bip34) <a href="https://github.com/bitcoin/bitcoin/pull/16486" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/16486</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1564423200' id='673958'>
<a class='timestamp' href='#673958'><time timestamp='2019-07-29T18:00:00Z'>18:00</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jamesob opened pull request #16487: validationinterface: add unused CChainState parameter (master...2019-07-au-vi-arg) <a href="https://github.com/bitcoin/bitcoin/pull/16487" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/16487</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1564426080' id='673959'>
<a class='timestamp' href='#673959'><time timestamp='2019-07-29T18:48:00Z'>18:48</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
also the TODO in the BIP30 logic while not exactly immediate should be looked into
<br>
</div>

<div class='talk op-msg' data-timestamp='1564428600' id='673960'>
<a class='timestamp' href='#673960'><time timestamp='2019-07-29T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jonatack opened pull request #16489: log: update bitcoind daemon logging (master...daemon-logging-harmonisation) <a href="https://github.com/bitcoin/bitcoin/pull/16489" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/16489</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1564433460' id='673961'>
<a class='timestamp' href='#673961'><time timestamp='2019-07-29T20:51:00Z'>20:51</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke opened pull request #16490: rpc: Report reason for &#x27;bip125-replaceable&#x27; value (master...1907-rpcMempoolWhyReplacable) <a href="https://github.com/bitcoin/bitcoin/pull/16490" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/16490</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1564435680' id='673962'>
<a class='timestamp' href='#673962'><time timestamp='2019-07-29T21:28:00Z'>21:28</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jonatack opened pull request #16491: qa: fix deprecated log.warn in feature_dbcrash test (master...test-fix-feature_dbcrash-warn-deprecation) <a href="https://github.com/bitcoin/bitcoin/pull/16491" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/16491</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1564436760' id='673963'>
<a class='timestamp' href='#673963'><time timestamp='2019-07-29T21:46:00Z'>21:46</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jonasschnelli, BlueMatt: about v2 transport and the question on how to encode the message types. given that 12 bytes is complete overkill anyway, i wonder if an alternative to shortcuts+variable length as proposed currently, it wouldn&#x27;t be easier to just shrink the message type field; it turns out that first 2 characters + last 2 characters of every message name is unique currently
<br>
</div>

<div class='talk op-msg' data-timestamp='1564436760' id='673964'>
<a class='timestamp' href='#673964'><time timestamp='2019-07-29T21:46:00Z'>21:46</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
why?
<br>
</div>

<div class='talk op-msg' data-timestamp='1564436820' id='673965'>
<a class='timestamp' href='#673965'><time timestamp='2019-07-29T21:47:00Z'>21:47</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
just use the current one-byte proposal with a fallback to 12 bytes?
<br>
</div>

<div class='talk op-msg' data-timestamp='1564436820' id='673966'>
<a class='timestamp' href='#673966'><time timestamp='2019-07-29T21:47:00Z'>21:47</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
or fallback to, I dunno, 8 bytes? whatever you want
<br>
</div>

<div class='talk op-msg' data-timestamp='1564436820' id='673967'>
<a class='timestamp' href='#673967'><time timestamp='2019-07-29T21:47:00Z'>21:47</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that&#x27;s also a possibility, but harder to extend
<br>
</div>

<div class='talk op-msg' data-timestamp='1564436820' id='673968'>
<a class='timestamp' href='#673968'><time timestamp='2019-07-29T21:47:00Z'>21:47</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
is it?
<br>
</div>

<div class='talk op-msg' data-timestamp='1564436880' id='673969'>
<a class='timestamp' href='#673969'><time timestamp='2019-07-29T21:48:00Z'>21:48</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
as in: the shortening will only be available to a select number of messages, and probably need a lot of coordination to avoid collisions between them
<br>
</div>

<div class='talk op-msg' data-timestamp='1564436880' id='673970'>
<a class='timestamp' href='#673970'><time timestamp='2019-07-29T21:48:00Z'>21:48</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
a lot of coordination? as in te bip process?
<br>
</div>

<div class='talk op-msg' data-timestamp='1564436880' id='673971'>
<a class='timestamp' href='#673971'><time timestamp='2019-07-29T21:48:00Z'>21:48</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
right
<br>
</div>

<div class='talk op-msg' data-timestamp='1564436940' id='673972'>
<a class='timestamp' href='#673972'><time timestamp='2019-07-29T21:49:00Z'>21:49</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
that seems reasonable to me.
<br>
</div>

<div class='talk op-msg' data-timestamp='1564436940' id='673973'>
<a class='timestamp' href='#673973'><time timestamp='2019-07-29T21:49:00Z'>21:49</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
string messages are unlikely to collide, for 1-byte types you really need to assign sequentially
<br>
</div>

<div class='talk op-msg' data-timestamp='1564436940' id='673974'>
<a class='timestamp' href='#673974'><time timestamp='2019-07-29T21:49:00Z'>21:49</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
how about 8 bytes and you must use the time of when you selected the message :p
<br>
</div>

<div class='talk op-msg' data-timestamp='1564436940' id='673975'>
<a class='timestamp' href='#673975'><time timestamp='2019-07-29T21:49:00Z'>21:49</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
while 4-byte messages for everything doesn&#x27;t have this problem, is even simpler to implement, gets you most of the savings, and is backward compatible
<br>
</div>

<div class='talk op-msg' data-timestamp='1564437000' id='673976'>
<a class='timestamp' href='#673976'><time timestamp='2019-07-29T21:50:00Z'>21:50</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
ok, or 4 byte message types and you must use the time of when you selected the message mod 2**32 :p
<br>
</div>

<div class='talk op-msg' data-timestamp='1564437000' id='673977'>
<a class='timestamp' href='#673977'><time timestamp='2019-07-29T21:50:00Z'>21:50</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that could totally work
<br>
</div>

<div class='talk op-msg' data-timestamp='1564437060' id='673978'>
<a class='timestamp' href='#673978'><time timestamp='2019-07-29T21:51:00Z'>21:51</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
I prefer that infinitely over a variable-length message type anyway
<br>
</div>

<div class='talk op-msg' data-timestamp='1564437060' id='673979'>
<a class='timestamp' href='#673979'><time timestamp='2019-07-29T21:51:00Z'>21:51</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
infinity is a lot
<br>
</div>

<div class='talk op-msg' data-timestamp='1564437180' id='673980'>
<a class='timestamp' href='#673980'><time timestamp='2019-07-29T21:53:00Z'>21:53</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
YUGE
<br>
</div>

<div class='talk op-msg' data-timestamp='1564437300' id='673981'>
<a class='timestamp' href='#673981'><time timestamp='2019-07-29T21:55:00Z'>21:55</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
filterclear would become &quot;feer&quot;.
<br>
</div>

<div class='talk op-msg' data-timestamp='1564437300' id='673982'>
<a class='timestamp' href='#673982'><time timestamp='2019-07-29T21:55:00Z'>21:55</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
limiting to common-char-lower-case-ascii seems like a waste of 4 bytes, but, whatever
<br>
</div>

<div class='talk op-msg' data-timestamp='1564437300' id='673983'>
<a class='timestamp' href='#673983'><time timestamp='2019-07-29T21:55:00Z'>21:55</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it is; for v2-only messages that restriction wouldn&#x27;t be needed
<br>
</div>

<div class='talk op-msg' data-timestamp='1564437300' id='673984'>
<a class='timestamp' href='#673984'><time timestamp='2019-07-29T21:55:00Z'>21:55</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
actually it&#x27;s need needed at all, agree
<br>
</div>

<div class='talk op-msg' data-timestamp='1564437480' id='673985'>
<a class='timestamp' href='#673985'><time timestamp='2019-07-29T21:58:00Z'>21:58</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
or we could use SHA256(message)[0:4] :p
<br>
</div>

<div class='talk op-msg' data-timestamp='1564437480' id='673986'>
<a class='timestamp' href='#673986'><time timestamp='2019-07-29T21:58:00Z'>21:58</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
oh no, double-SHA256(message)[0:4], satoshi style
<br>
</div>

<div class='talk op-msg' data-timestamp='1564437540' id='673987'>
<a class='timestamp' href='#673987'><time timestamp='2019-07-29T21:59:00Z'>21:59</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
rot13(rot13(message))
<br>
</div>

<div class='talk op-msg' data-timestamp='1564437600' id='673988'>
<a class='timestamp' href='#673988'><time timestamp='2019-07-29T22:00:00Z'>22:00</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i&#x27;m only half joking; using a hash function or CRC or so as mapping from string names to 4-byte message type ids has hardly any downsides i think
<br>
</div>

<div class='talk op-msg' data-timestamp='1564437660' id='673989'>
<a class='timestamp' href='#673989'><time timestamp='2019-07-29T22:01:00Z'>22:01</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
true
<br>
</div>

<div class='talk op-msg' data-timestamp='1564437660' id='673990'>
<a class='timestamp' href='#673990'><time timestamp='2019-07-29T22:01:00Z'>22:01</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
an actual implementation wouldn&#x27;t actually compute the hashes; they&#x27;d just be precomputed for every message type
<br>
</div>

<div class='talk op-msg' data-timestamp='1564437660' id='673991'>
<a class='timestamp' href='#673991'><time timestamp='2019-07-29T22:01:00Z'>22:01</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
sure, of course
<br>
</div>

<div class='talk op-msg' data-timestamp='1564437660' id='673992'>
<a class='timestamp' href='#673992'><time timestamp='2019-07-29T22:01:00Z'>22:01</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
anyway, let&#x27;s see what jonasschnelli thinks
<br>
</div>

<div class='talk op-msg' data-timestamp='1564437840' id='673993'>
<a class='timestamp' href='#673993'><time timestamp='2019-07-29T22:04:00Z'>22:04</time></a>
&lt;<span class='nick nick-14'> hugohn</span>&gt;
sipa: do you think it makes sense for descriptor.cpp-&gt;Parse() to return the output type of the descriptor string, along with the Signing Provider? I&#x27;m trying to infer the output type through other means without touching descriptor.h/.cpp. But Expand() doesn&#x27;t work as intermediate redeem scripts are no longer saved to memory with native descriptor wallets (so you can’t peek into them). And string pattern matching
<br>
</div>

<div class='talk op-msg' data-timestamp='1564437840' id='673994'>
<a class='timestamp' href='#673994'><time timestamp='2019-07-29T22:04:00Z'>22:04</time></a>
&lt;<span class='nick nick-14'> hugohn</span>&gt;
(e.g. matching against `&quot;sh(wsh&quot;`) is ugly IMO.
<br>
</div>

<div class='talk op-msg' data-timestamp='1564437900' id='673995'>
<a class='timestamp' href='#673995'><time timestamp='2019-07-29T22:05:00Z'>22:05</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
hugohn: what is &#x27;output type&#x27; ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1564437960' id='673996'>
<a class='timestamp' href='#673996'><time timestamp='2019-07-29T22:06:00Z'>22:06</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and i don&#x27;t understand why Expand doesn&#x27;t work
<br>
</div>

<div class='talk op-msg' data-timestamp='1564438020' id='673997'>
<a class='timestamp' href='#673997'><time timestamp='2019-07-29T22:07:00Z'>22:07</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
oh, output type as in address type
<br>
</div>

<div class='talk op-msg' data-timestamp='1564438020' id='673998'>
<a class='timestamp' href='#673998'><time timestamp='2019-07-29T22:07:00Z'>22:07</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
hmm
<br>
</div>

<div class='talk op-msg' data-timestamp='1564438020' id='673999'>
<a class='timestamp' href='#673999'><time timestamp='2019-07-29T22:07:00Z'>22:07</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
what about raw multisig, or combo? those don&#x27;t have a well-defined output type
<br>
</div>

<div class='talk op-msg' data-timestamp='1564438020' id='674000'>
<a class='timestamp' href='#674000'><time timestamp='2019-07-29T22:07:00Z'>22:07</time></a>
&lt;<span class='nick nick-14'> hugohn</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/blob/master/src/outputtype.h#L16" class="link" target="_blank">https://github.com/bitcoin/bitcoin/blob/master/src/outputtype.h#L16</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1564438020' id='674001'>
<a class='timestamp' href='#674001'><time timestamp='2019-07-29T22:07:00Z'>22:07</time></a>
&lt;<span class='nick nick-14'> hugohn</span>&gt;
the &quot;buckets&quot; used in the refactored wallet
<br>
</div>

<div class='talk op-msg' data-timestamp='1564438200' id='674002'>
<a class='timestamp' href='#674002'><time timestamp='2019-07-29T22:10:00Z'>22:10</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
Expand() + ExtractDestination should work, i think
<br>
</div>

<div class='talk op-msg' data-timestamp='1564438260' id='674003'>
<a class='timestamp' href='#674003'><time timestamp='2019-07-29T22:11:00Z'>22:11</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and you should always be able to call Expand on descriptors in the wallet, otherwise how would you participate in signing?
<br>
</div>

<div class='talk op-msg' data-timestamp='1564438260' id='674004'>
<a class='timestamp' href='#674004'><time timestamp='2019-07-29T22:11:00Z'>22:11</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and you don&#x27;t need the intermediate redeemscript; just ExtractDestination on the output scriptPubKey should be sufficient
<br>
</div>

<div class='talk op-msg' data-timestamp='1564438320' id='674005'>
<a class='timestamp' href='#674005'><time timestamp='2019-07-29T22:12:00Z'>22:12</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i may be missing things :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1564438380' id='674006'>
<a class='timestamp' href='#674006'><time timestamp='2019-07-29T22:13:00Z'>22:13</time></a>
&lt;<span class='nick nick-14'> hugohn</span>&gt;
yeah I can call Expand just fine :D my problem is distinguishing between a legacy P2SH &amp; a P2SH-Segwit
<br>
</div>

<div class='talk op-msg' data-timestamp='1564438380' id='674007'>
<a class='timestamp' href='#674007'><time timestamp='2019-07-29T22:13:00Z'>22:13</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
there shouldn&#x27;t be a need to distinguish between those
<br>
</div>

<div class='talk op-msg' data-timestamp='1564438380' id='674008'>
<a class='timestamp' href='#674008'><time timestamp='2019-07-29T22:13:00Z'>22:13</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
if the sender supports P2SH, he will support both
<br>
</div>

<div class='talk op-msg' data-timestamp='1564438380' id='674009'>
<a class='timestamp' href='#674009'><time timestamp='2019-07-29T22:13:00Z'>22:13</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
as he obviously can&#x27;t distinguish
<br>
</div>

<div class='talk op-msg' data-timestamp='1564438440' id='674010'>
<a class='timestamp' href='#674010'><time timestamp='2019-07-29T22:14:00Z'>22:14</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
output types currently distinguish between them, as that what the mechanism to determine whether you wanted to use segwit in the wallet or not
<br>
</div>

<div class='talk op-msg' data-timestamp='1564438440' id='674011'>
<a class='timestamp' href='#674011'><time timestamp='2019-07-29T22:14:00Z'>22:14</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but in a post-descriptor world, i think that distinction would simply be made by having a segwit descriptor or not
<br>
</div>

<div class='talk op-msg' data-timestamp='1564438560' id='674012'>
<a class='timestamp' href='#674012'><time timestamp='2019-07-29T22:16:00Z'>22:16</time></a>
&lt;<span class='nick nick-14'> hugohn</span>&gt;
right, it doesn&#x27;t make a difference to the user, but I believe in achow101 &#x27;s proposed new wallet architecture, we would have different scriptPubKeyManager(s) for each of the 3 output types: LEGACY, P2SH_SEGWIT (wrapped Segwit), and BECH32. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1564438560' id='674013'>
<a class='timestamp' href='#674013'><time timestamp='2019-07-29T22:16:00Z'>22:16</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
right, and you need a sanity check when creating a new descriptor?
<br>
</div>

<div class='talk op-msg' data-timestamp='1564438620' id='674014'>
<a class='timestamp' href='#674014'><time timestamp='2019-07-29T22:17:00Z'>22:17</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that the descriptor is compatible with that type
<br>
</div>

<div class='talk op-msg' data-timestamp='1564438620' id='674015'>
<a class='timestamp' href='#674015'><time timestamp='2019-07-29T22:17:00Z'>22:17</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
?
<br>
</div>

<div class='talk op-msg' data-timestamp='1564439160' id='674016'>
<a class='timestamp' href='#674016'><time timestamp='2019-07-29T22:26:00Z'>22:26</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
Yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1564439160' id='674017'>
<a class='timestamp' href='#674017'><time timestamp='2019-07-29T22:26:00Z'>22:26</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
arguably we should just get rid of the distinction between P2SH and P2SH-Segwit
<br>
</div>

<div class='talk op-msg' data-timestamp='1564439220' id='674018'>
<a class='timestamp' href='#674018'><time timestamp='2019-07-29T22:27:00Z'>22:27</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
I wrote a function that used the Solver + a SigningProvider in order to determine the address type, but apparently that doesn&#x27;t work since the p2sh-segwit redeemScript is not put in the SigningProvider by Descriptor Expand or Parse
<br>
</div>

<div class='talk op-msg' data-timestamp='1564439220' id='674019'>
<a class='timestamp' href='#674019'><time timestamp='2019-07-29T22:27:00Z'>22:27</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
though perhaps that&#x27;s not something to do simultaneously
<br>
</div>

<div class='talk op-msg' data-timestamp='1564439280' id='674020'>
<a class='timestamp' href='#674020'><time timestamp='2019-07-29T22:28:00Z'>22:28</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
hmm, really?
<br>
</div>

<div class='talk op-msg' data-timestamp='1564439280' id='674021'>
<a class='timestamp' href='#674021'><time timestamp='2019-07-29T22:28:00Z'>22:28</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
Expand should put it there
<br>
</div>

<div class='talk op-msg' data-timestamp='1564439280' id='674022'>
<a class='timestamp' href='#674022'><time timestamp='2019-07-29T22:28:00Z'>22:28</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
That&#x27;s what I thought, but hugohn told me it isn&#x27;t (haven&#x27;t had the chance to check)
<br>
</div>

<div class='talk op-msg' data-timestamp='1564439340' id='674023'>
<a class='timestamp' href='#674023'><time timestamp='2019-07-29T22:29:00Z'>22:29</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that sounds like a major issue if it isn&#x27;t
<br>
</div>

<div class='talk op-msg' data-timestamp='1564439340' id='674024'>
<a class='timestamp' href='#674024'><time timestamp='2019-07-29T22:29:00Z'>22:29</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/blob/master/src/script/descriptor.cpp#L461" class="link" target="_blank">https://github.com/bitcoin/bitcoin/blob/master/src/script/descriptor.cpp#L461</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1564439340' id='674025'>
<a class='timestamp' href='#674025'><time timestamp='2019-07-29T22:29:00Z'>22:29</time></a>
&lt;<span class='nick nick-14'> hugohn</span>&gt;
<a href="https://www.irccloud.com/pastebin/NoBXcIt6/ExpandHelper" class="link" target="_blank">https://www.irccloud.com/pastebin/NoBXcIt6/ExpandHelper</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1564439460' id='674026'>
<a class='timestamp' href='#674026'><time timestamp='2019-07-29T22:31:00Z'>22:31</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
hugohn: yes?
<br>
</div>

<div class='talk op-msg' data-timestamp='1564439520' id='674027'>
<a class='timestamp' href='#674027'><time timestamp='2019-07-29T22:32:00Z'>22:32</time></a>
&lt;<span class='nick nick-14'> hugohn</span>&gt;
sorry ignore that snippet. I missed that line you posted above, looks like the redeem script is saved to the Signing Provider. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1564439580' id='674028'>
<a class='timestamp' href='#674028'><time timestamp='2019-07-29T22:33:00Z'>22:33</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
hugohn: in general no information should get lost through an Expand
<br>
</div>

<div class='talk op-msg' data-timestamp='1564439580' id='674029'>
<a class='timestamp' href='#674029'><time timestamp='2019-07-29T22:33:00Z'>22:33</time></a>
&lt;<span class='nick nick-14'> hugohn</span>&gt;
then I don&#x27;t understand why when we look up for the redeemScript later, we don&#x27;t find it, hmm...
<br>
</div>

<div class='talk op-msg' data-timestamp='1564439580' id='674030'>
<a class='timestamp' href='#674030'><time timestamp='2019-07-29T22:33:00Z'>22:33</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
otherwise InferDescriptor wouldn&#x27;t be able to reconstruct things
<br>
</div>

<div class='talk op-msg' data-timestamp='1564439580' id='674031'>
<a class='timestamp' href='#674031'><time timestamp='2019-07-29T22:33:00Z'>22:33</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
which afaik has a test
<br>
</div>

<div class='talk op-msg' data-timestamp='1564439820' id='674032'>
<a class='timestamp' href='#674032'><time timestamp='2019-07-29T22:37:00Z'>22:37</time></a>
&lt;<span class='nick nick-10'> elichai2</span>&gt;
hugohn: maybe it wasn&#x27;t expanded yet?
<br>
</div>

<div class='talk op-msg' data-timestamp='1564439940' id='674033'>
<a class='timestamp' href='#674033'><time timestamp='2019-07-29T22:39:00Z'>22:39</time></a>
&lt;<span class='nick nick-14'> hugohn</span>&gt;
elichai2: no I made sure it was expanded
<br>
</div>

<div class='talk op-msg' data-timestamp='1564440180' id='674034'>
<a class='timestamp' href='#674034'><time timestamp='2019-07-29T22:43:00Z'>22:43</time></a>
&lt;<span class='nick nick-14'> hugohn</span>&gt;
code for more context: <a href="https://github.com/achow101/bitcoin/pull/4/files#diff-b2bb174788c7409b671c46ccc86034bdR4273" class="link" target="_blank">https://github.com/achow101/bitcoin/pull/4/files#diff-b2bb174788c7409b671c46ccc86034bdR4273</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1564440180' id='674035'>
<a class='timestamp' href='#674035'><time timestamp='2019-07-29T22:43:00Z'>22:43</time></a>
&lt;<span class='nick nick-14'> hugohn</span>&gt;
I&#x27;m not getting the correct output type by peeking into an address generated by Expand() here^
<br>
</div>

<div class='talk op-msg' data-timestamp='1564440720' id='674036'>
<a class='timestamp' href='#674036'><time timestamp='2019-07-29T22:52:00Z'>22:52</time></a>
&lt;<span class='nick nick-14'> hugohn</span>&gt;
implementation for DetermineOutputType: <a href="https://github.com/achow101/bitcoin/blob/wallet-of-the-glorious-future/src/outputtype.cpp#L126" class="link" target="_blank">https://github.com/achow101/bitcoin/blob/wallet-of-the-glorious-future/src/outputtype.cpp#L126</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1564440720' id='674037'>
<a class='timestamp' href='#674037'><time timestamp='2019-07-29T22:52:00Z'>22:52</time></a>
&lt;<span class='nick nick-14'> hugohn</span>&gt;
`provider.GetCScript()` fails to look up the redeem script given the script ID
<br>
</div>

<div class='talk op-msg' data-timestamp='1564441020' id='674038'>
<a class='timestamp' href='#674038'><time timestamp='2019-07-29T22:57:00Z'>22:57</time></a>
&lt;<span class='nick nick-14'> hugohn</span>&gt;
nway, very likely I&#x27;m doing something wrong, will investigate further. thanks sipa!
<br>
</div>

<div class='talk op-msg' data-timestamp='1564441260' id='674039'>
<a class='timestamp' href='#674039'><time timestamp='2019-07-29T23:01:00Z'>23:01</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
hugohn: add some debug statements that print the contents of the SigningProvider before calling the code to determine output type
<br>
</div>

<div class='talk op-msg' data-timestamp='1564441560' id='674040'>
<a class='timestamp' href='#674040'><time timestamp='2019-07-29T23:06:00Z'>23:06</time></a>
&lt;<span class='nick nick-14'> hugohn</span>&gt;
sipa: yes I&#x27;m adding printf eveywhere lol. will try that next!
<br>
</div>

</div>
</section>

</body>
</html>
