<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2020-10-07
 — 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2020-10-07' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:17 UTC</pre>
<pre><a href="/bitcoin-core-dev/2020-09-07">&lt;</a><span class='header'>   October 2020   </span><a href="/bitcoin-core-dev/2020-11-07">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;             <a class="" href="/bitcoin-core-dev/2020-10-01">1</a>  <a class="" href="/bitcoin-core-dev/2020-10-02">2</a>  <a class="" href="/bitcoin-core-dev/2020-10-03">3</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2020-10-04">4</a>  <a class="" href="/bitcoin-core-dev/2020-10-05">5</a>  <a class="" href="/bitcoin-core-dev/2020-10-06">6</a>  <a class="current" href="/bitcoin-core-dev/2020-10-07">7</a>  <a class="" href="/bitcoin-core-dev/2020-10-08">8</a>  <a class="" href="/bitcoin-core-dev/2020-10-09">9</a> <a class="" href="/bitcoin-core-dev/2020-10-10">10</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2020-10-11">11</a> <a class="" href="/bitcoin-core-dev/2020-10-12">12</a> <a class="" href="/bitcoin-core-dev/2020-10-13">13</a> <a class="" href="/bitcoin-core-dev/2020-10-14">14</a> <a class="" href="/bitcoin-core-dev/2020-10-15">15</a> <a class="" href="/bitcoin-core-dev/2020-10-16">16</a> <a class="" href="/bitcoin-core-dev/2020-10-17">17</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2020-10-18">18</a> <a class="" href="/bitcoin-core-dev/2020-10-19">19</a> <a class="" href="/bitcoin-core-dev/2020-10-20">20</a> <a class="" href="/bitcoin-core-dev/2020-10-21">21</a> <a class="" href="/bitcoin-core-dev/2020-10-22">22</a> <a class="" href="/bitcoin-core-dev/2020-10-23">23</a> <a class="" href="/bitcoin-core-dev/2020-10-24">24</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2020-10-25">25</a> <a class="" href="/bitcoin-core-dev/2020-10-26">26</a> <a class="" href="/bitcoin-core-dev/2020-10-27">27</a> <a class="" href="/bitcoin-core-dev/2020-10-28">28</a> <a class="" href="/bitcoin-core-dev/2020-10-29">29</a> <a class="" href="/bitcoin-core-dev/2020-10-30">30</a> <a class="" href="/bitcoin-core-dev/2020-10-31">31</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1602039540' id='406956'>
<a class='timestamp' href='#406956'><time timestamp='2020-10-07T02:59:00Z'>02:59</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] fanquake pushed 4 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/d8cd7b137fb0...db88db47278d" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/d8cd7b137fb0...db88db47278d</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1602039540' id='406957'>
<a class='timestamp' href='#406957'><time timestamp='2020-10-07T02:59:00Z'>02:59</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 8f1290c gzhao408: [rpc/node] check for high fee before ATMP in clients
<br>
</div>

<div class='talk op-msg' data-timestamp='1602039540' id='406958'>
<a class='timestamp' href='#406958'><time timestamp='2020-10-07T02:59:00Z'>02:59</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 932564b gzhao408: scripted-diff: update max-fee-exceeded error message to include RPC
<br>
</div>

<div class='talk op-msg' data-timestamp='1602039540' id='406959'>
<a class='timestamp' href='#406959'><time timestamp='2020-10-07T02:59:00Z'>02:59</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master b048b27 John Newbery: [validation] Remove absurdfee from accepttomempool
<br>
</div>

<div class='talk op-msg' data-timestamp='1602039540' id='406960'>
<a class='timestamp' href='#406960'><time timestamp='2020-10-07T02:59:00Z'>02:59</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] fanquake merged pull request #19339: validation: re-delegate absurd fee checking from mempool to clients (master...mempool-remove-absurdfee) <a href="https://github.com/bitcoin/bitcoin/pull/19339" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19339</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1602055980' id='406961'>
<a class='timestamp' href='#406961'><time timestamp='2020-10-07T07:33:00Z'>07:33</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke pushed 2 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/db88db47278d...283a73d7eaea" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/db88db47278d...283a73d7eaea</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1602055980' id='406962'>
<a class='timestamp' href='#406962'><time timestamp='2020-10-07T07:33:00Z'>07:33</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master d103484 Hennadii Stepanov: util: Do not use gArgs global in ArgsManager member functions
<br>
</div>

<div class='talk op-msg' data-timestamp='1602055980' id='406963'>
<a class='timestamp' href='#406963'><time timestamp='2020-10-07T07:33:00Z'>07:33</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 283a73d MarcoFalke: Merge #20092: util: Do not use gArgs global in ArgsManager member function...
<br>
</div>

<div class='talk op-msg' data-timestamp='1602056040' id='406964'>
<a class='timestamp' href='#406964'><time timestamp='2020-10-07T07:34:00Z'>07:34</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke merged pull request #20092: util: Do not use gArgs global in ArgsManager member functions (master...201006-gargs) <a href="https://github.com/bitcoin/bitcoin/pull/20092" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20092</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1602056520' id='406965'>
<a class='timestamp' href='#406965'><time timestamp='2020-10-07T07:42:00Z'>07:42</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
aj: would it make sense to maintain that project board as part of the bitcoin/bitcoin repo? or do you prefer hosting it on your own repo
<br>
</div>

<div class='talk op-msg' data-timestamp='1602056520' id='406966'>
<a class='timestamp' href='#406966'><time timestamp='2020-10-07T07:42:00Z'>07:42</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
(fwiw: I just closed the ancient &quot;P2P refactor&quot; project)
<br>
</div>

<div class='talk op-msg' data-timestamp='1602056760' id='406967'>
<a class='timestamp' href='#406967'><time timestamp='2020-10-07T07:46:00Z'>07:46</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
great job in any case it&#x27;s good to have an overview
<br>
</div>

<div class='talk op-msg' data-timestamp='1602073260' id='406968'>
<a class='timestamp' href='#406968'><time timestamp='2020-10-07T12:21:00Z'>12:21</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke opened pull request #20097: fuzz: Version handshake (master...2010-fuzzHandshake) <a href="https://github.com/bitcoin/bitcoin/pull/20097" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20097</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1602075300' id='406969'>
<a class='timestamp' href='#406969'><time timestamp='2020-10-07T12:55:00Z'>12:55</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
hebasto: I dont think there would be any benefit of sending the sendaddrv2 message before verack (right now in #19954 we send it after verack)
<br>
</div>

<div class='talk op-msg' data-timestamp='1602075300' id='406970'>
<a class='timestamp' href='#406970'><time timestamp='2020-10-07T12:55:00Z'>12:55</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/19954" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/19954</a> | tor: complete the TORv3 implementation by vasild · Pull Request #19954 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1602075360' id='406971'>
<a class='timestamp' href='#406971'><time timestamp='2020-10-07T12:56:00Z'>12:56</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
there would be benefit if we send it before the version message (:-O) because then in the version message we could encode the addrMe and addrYou in the new format thus they can be e.g. torv3 addresses
<br>
</div>

<div class='talk op-msg' data-timestamp='1602075600' id='406972'>
<a class='timestamp' href='#406972'><time timestamp='2020-10-07T13:00:00Z'>13:00</time></a>
&lt;<span class='nick nick-14'> hebasto</span>&gt;
am I wrong considering the window between version and verack as the main venue for adding new feature negotiation now / in the future?
<br>
</div>

<div class='talk op-msg' data-timestamp='1602075660' id='406973'>
<a class='timestamp' href='#406973'><time timestamp='2020-10-07T13:01:00Z'>13:01</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
Also, if we push now a new message before verack, even though #19723 is merged, about 70% of the peers will misbehave us because they dont run the latest version
<br>
</div>

<div class='talk op-msg' data-timestamp='1602075660' id='406974'>
<a class='timestamp' href='#406974'><time timestamp='2020-10-07T13:01:00Z'>13:01</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/19723" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/19723</a> | Ignore unknown messages before VERACK by sdaftuar · Pull Request #19723 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1602075660' id='406975'>
<a class='timestamp' href='#406975'><time timestamp='2020-10-07T13:01:00Z'>13:01</time></a>
&lt;<span class='nick nick-14'> hebasto</span>&gt;
correct
<br>
</div>

<div class='talk op-msg' data-timestamp='1602075660' id='406976'>
<a class='timestamp' href='#406976'><time timestamp='2020-10-07T13:01:00Z'>13:01</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
I think &quot;now&quot; is too early :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1602075720' id='406977'>
<a class='timestamp' href='#406977'><time timestamp='2020-10-07T13:02:00Z'>13:02</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
but for sendaddrv2 in particular it does not make a difference whether it is before or after verack
<br>
</div>

<div class='talk op-msg' data-timestamp='1602079860' id='406978'>
<a class='timestamp' href='#406978'><time timestamp='2020-10-07T14:11:00Z'>14:11</time></a>
&lt;<span class='nick nick-14'> hebasto</span>&gt;
debian has gcc 10.2 now; is it patched already?
<br>
</div>

<div class='talk op-msg' data-timestamp='1602080340' id='406979'>
<a class='timestamp' href='#406979'><time timestamp='2020-10-07T14:19:00Z'>14:19</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
&quot;Correct handling of constant representations containing embedded nuls.&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1602080340' id='406980'>
<a class='timestamp' href='#406980'><time timestamp='2020-10-07T14:19:00Z'>14:19</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
check changelog for that
<br>
</div>

<div class='talk op-msg' data-timestamp='1602080400' id='406981'>
<a class='timestamp' href='#406981'><time timestamp='2020-10-07T14:20:00Z'>14:20</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
hmm, changelog looks useless
<br>
</div>

<div class='talk op-msg' data-timestamp='1602080520' id='406982'>
<a class='timestamp' href='#406982'><time timestamp='2020-10-07T14:22:00Z'>14:22</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
hebasto: no, it looks like it&#x27;s not fixed in 10.2.0
<br>
</div>

<div class='talk op-msg' data-timestamp='1602080580' id='406983'>
<a class='timestamp' href='#406983'><time timestamp='2020-10-07T14:23:00Z'>14:23</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
if inline_expand_builtin_.*cmp finds inline_expand_builtin_string_cmp, it&#x27;s broken; if inline_expand_builtin_bytecmp, it&#x27;s fixed
<br>
</div>

<div class='talk op-msg' data-timestamp='1602080580' id='406984'>
<a class='timestamp' href='#406984'><time timestamp='2020-10-07T14:23:00Z'>14:23</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
(unless Debian patched it some other way)
<br>
</div>

<div class='talk op-msg' data-timestamp='1602080760' id='406985'>
<a class='timestamp' href='#406985'><time timestamp='2020-10-07T14:26:00Z'>14:26</time></a>
&lt;<span class='nick nick-14'> hebasto</span>&gt;
luke-jr: thanks
<br>
</div>

<div class='talk op-msg' data-timestamp='1602088980' id='406986'>
<a class='timestamp' href='#406986'><time timestamp='2020-10-07T16:43:00Z'>16:43</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
ryanofsky: would you like to have a dicussion about wallet.dat vs wallet.sqlite?
<br>
</div>

<div class='talk op-msg' data-timestamp='1602089100' id='406987'>
<a class='timestamp' href='#406987'><time timestamp='2020-10-07T16:45:00Z'>16:45</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
IMO the latter is better, since users shouldn&#x27;t be messing with wallet internal files, and backupwallet lets the user specify any extension anyway
<br>
</div>

<div class='talk op-msg' data-timestamp='1602089160' id='406988'>
<a class='timestamp' href='#406988'><time timestamp='2020-10-07T16:46:00Z'>16:46</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
luke-jr: but there&#x27;s a lot of tooling and documentation that refer to the wallet.dat file
<br>
</div>

<div class='talk op-msg' data-timestamp='1602089220' id='406989'>
<a class='timestamp' href='#406989'><time timestamp='2020-10-07T16:47:00Z'>16:47</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
achow101: and users can still call their backups wallet.dat
<br>
</div>

<div class='talk op-msg' data-timestamp='1602089220' id='406990'>
<a class='timestamp' href='#406990'><time timestamp='2020-10-07T16:47:00Z'>16:47</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
also, I&#x27;m concerned that a downgrade would result in a new wallet.dat being created which would not be good
<br>
</div>

<div class='talk op-msg' data-timestamp='1602089220' id='406991'>
<a class='timestamp' href='#406991'><time timestamp='2020-10-07T16:47:00Z'>16:47</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
I should probably test that..
<br>
</div>

<div class='talk op-msg' data-timestamp='1602089220' id='406992'>
<a class='timestamp' href='#406992'><time timestamp='2020-10-07T16:47:00Z'>16:47</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
hmm
<br>
</div>

<div class='talk op-msg' data-timestamp='1602089220' id='406993'>
<a class='timestamp' href='#406993'><time timestamp='2020-10-07T16:47:00Z'>16:47</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
luke-jr: right, but if they have a script backing up &quot;wallet.dat&quot;, then it wouldn&#x27;t work anymore
<br>
</div>

<div class='talk op-msg' data-timestamp='1602089280' id='406994'>
<a class='timestamp' href='#406994'><time timestamp='2020-10-07T16:48:00Z'>16:48</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
achow101: yes it would
<br>
</div>

<div class='talk op-msg' data-timestamp='1602089280' id='406995'>
<a class='timestamp' href='#406995'><time timestamp='2020-10-07T16:48:00Z'>16:48</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
you could <b>*never*</b> copy the original wallet.dat directly
<br>
</div>

<div class='talk op-msg' data-timestamp='1602089280' id='406996'>
<a class='timestamp' href='#406996'><time timestamp='2020-10-07T16:48:00Z'>16:48</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
only via backupwallet RPC
<br>
</div>

<div class='talk op-msg' data-timestamp='1602089280' id='406997'>
<a class='timestamp' href='#406997'><time timestamp='2020-10-07T16:48:00Z'>16:48</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
which lets them specify any filename
<br>
</div>

<div class='talk op-msg' data-timestamp='1602089340' id='406998'>
<a class='timestamp' href='#406998'><time timestamp='2020-10-07T16:49:00Z'>16:49</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
???
<br>
</div>

<div class='talk op-msg' data-timestamp='1602089340' id='406999'>
<a class='timestamp' href='#406999'><time timestamp='2020-10-07T16:49:00Z'>16:49</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
you just go into the datadir and copy the file
<br>
</div>

<div class='talk op-msg' data-timestamp='1602089340' id='407000'>
<a class='timestamp' href='#407000'><time timestamp='2020-10-07T16:49:00Z'>16:49</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
no, that&#x27;s not a supported method to backup and can result in corrupt backups
<br>
</div>

<div class='talk op-msg' data-timestamp='1602089340' id='407001'>
<a class='timestamp' href='#407001'><time timestamp='2020-10-07T16:49:00Z'>16:49</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
sure, but that doesn&#x27;t mean people don&#x27;t do it
<br>
</div>

<div class='talk op-msg' data-timestamp='1602089340' id='407002'>
<a class='timestamp' href='#407002'><time timestamp='2020-10-07T16:49:00Z'>16:49</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
sounds like a reason to break it
<br>
</div>

<div class='talk op-msg' data-timestamp='1602089400' id='407003'>
<a class='timestamp' href='#407003'><time timestamp='2020-10-07T16:50:00Z'>16:50</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
better to get an error on upgrade, than find out later your backups were corrupt
<br>
</div>

<div class='talk op-msg' data-timestamp='1602089400' id='407004'>
<a class='timestamp' href='#407004'><time timestamp='2020-10-07T16:50:00Z'>16:50</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
otoh, sqlite might not have the same corruption issue.. so..
<br>
</div>

<div class='talk op-msg' data-timestamp='1602089400' id='407005'>
<a class='timestamp' href='#407005'><time timestamp='2020-10-07T16:50:00Z'>16:50</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
likewise there may be a restore script that operates on wallet.dat files
<br>
</div>

<div class='talk op-msg' data-timestamp='1602089460' id='407006'>
<a class='timestamp' href='#407006'><time timestamp='2020-10-07T16:51:00Z'>16:51</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
also, backupwallet allowing you to specify an extension may interact poorly with this
<br>
</div>

<div class='talk op-msg' data-timestamp='1602089520' id='407007'>
<a class='timestamp' href='#407007'><time timestamp='2020-10-07T16:52:00Z'>16:52</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
true, we don&#x27;t have a sane recover-from-backup
<br>
</div>

<div class='talk op-msg' data-timestamp='1602089520' id='407008'>
<a class='timestamp' href='#407008'><time timestamp='2020-10-07T16:52:00Z'>16:52</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
actually it probably doesn&#x27;t since we do look for the file magic to deterine type, not the filename
<br>
</div>

<div class='talk op-msg' data-timestamp='1602089580' id='407009'>
<a class='timestamp' href='#407009'><time timestamp='2020-10-07T16:53:00Z'>16:53</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
luke-jr: backing uo wallet.dat by copying after a clean shutdown is soemthing i&#x27;d consider supported
<br>
</div>

<div class='talk op-msg' data-timestamp='1602090000' id='407010'>
<a class='timestamp' href='#407010'><time timestamp='2020-10-07T17:00:00Z'>17:00</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
it&#x27;s also a lot more common for people to suggest copying the wallet.dat file for backups rather than using the backupwallet rpc
<br>
</div>

<div class='talk op-msg' data-timestamp='1602090000' id='407011'>
<a class='timestamp' href='#407011'><time timestamp='2020-10-07T17:00:00Z'>17:00</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
it&#x27;s probably easier for people to understand file copying than it is for them to understand rpcs
<br>
</div>

<div class='talk op-msg' data-timestamp='1602090600' id='407012'>
<a class='timestamp' href='#407012'><time timestamp='2020-10-07T17:10:00Z'>17:10</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
luke-jr, unfortunately lots of people just copy the wallet.dat directly cause terrible tutorials
<br>
</div>

<div class='talk op-msg' data-timestamp='1602091080' id='407013'>
<a class='timestamp' href='#407013'><time timestamp='2020-10-07T17:18:00Z'>17:18</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
again, those are reasons to break such bad scripts/advice ;)
<br>
</div>

<div class='talk op-msg' data-timestamp='1602091140' id='407014'>
<a class='timestamp' href='#407014'><time timestamp='2020-10-07T17:19:00Z'>17:19</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
backward compatibility, and guides to restoring wallets, are the reasons I see to leave .dat
<br>
</div>

<div class='talk op-msg' data-timestamp='1602098820' id='407015'>
<a class='timestamp' href='#407015'><time timestamp='2020-10-07T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
it seems like at least 0.19 and 0.20 expect a wallet.dat file in an existing dir for a wallet, so renaming to wallet.sqlite wouldn&#x27;t silently fail on a downgrade
<br>
</div>

<div class='talk op-msg' data-timestamp='1602100080' id='407016'>
<a class='timestamp' href='#407016'><time timestamp='2020-10-07T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
achow101: what happens if you have an sqlite wallet.dat and run an old version? will it try to do salvage/recover somehow?
<br>
</div>

<div class='talk op-msg' data-timestamp='1602100080' id='407017'>
<a class='timestamp' href='#407017'><time timestamp='2020-10-07T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
or suggest to
<br>
</div>

<div class='talk op-msg' data-timestamp='1602100080' id='407018'>
<a class='timestamp' href='#407018'><time timestamp='2020-10-07T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
sipa: no, it errors saying it isn&#x27; a bdb file
<br>
</div>

<div class='talk op-msg' data-timestamp='1602100080' id='407019'>
<a class='timestamp' href='#407019'><time timestamp='2020-10-07T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
it checks the file magic before attempting to do anything to it
<br>
</div>

<div class='talk op-msg' data-timestamp='1602100080' id='407020'>
<a class='timestamp' href='#407020'><time timestamp='2020-10-07T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ok
<br>
</div>

<div class='talk op-msg' data-timestamp='1602101520' id='407021'>
<a class='timestamp' href='#407021'><time timestamp='2020-10-07T20:12:00Z'>20:12</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
hmm, actually it seems like we do actually attempt to salvage them, but bdb should be doing nothing because its the wrong magic
<br>
</div>

<div class='talk op-msg' data-timestamp='1602102120' id='407022'>
<a class='timestamp' href='#407022'><time timestamp='2020-10-07T20:22:00Z'>20:22</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
mmm, but wait, there&#x27;s more, if the wallet is specified as a config option, 0.20 will make the wallet.dat file if it doesn&#x27;t exist
<br>
</div>

<div class='talk op-msg' data-timestamp='1602108480' id='407023'>
<a class='timestamp' href='#407023'><time timestamp='2020-10-07T22:08:00Z'>22:08</time></a>
&lt;<span class='nick nick-16'> sanket1729</span>&gt;
How do I get my tests written in script_tests.cpp into script_test.json.gen? 
<br>
</div>

<div class='talk op-msg' data-timestamp='1602108540' id='407024'>
<a class='timestamp' href='#407024'><time timestamp='2020-10-07T22:09:00Z'>22:09</time></a>
&lt;<span class='nick nick-16'> sanket1729</span>&gt;
script_test.json looks auto-generated. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1602108600' id='407025'>
<a class='timestamp' href='#407025'><time timestamp='2020-10-07T22:10:00Z'>22:10</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
// Uncomment if you want to output updated JSON tests.
<br>
</div>

<div class='talk op-msg' data-timestamp='1602108600' id='407026'>
<a class='timestamp' href='#407026'><time timestamp='2020-10-07T22:10:00Z'>22:10</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
// #define UPDATE_JSON_TESTS
<br>
</div>

<div class='talk op-msg' data-timestamp='1602108660' id='407027'>
<a class='timestamp' href='#407027'><time timestamp='2020-10-07T22:11:00Z'>22:11</time></a>
&lt;<span class='nick nick-16'> sanket1729</span>&gt;
Thanks. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1602111420' id='407028'>
<a class='timestamp' href='#407028'><time timestamp='2020-10-07T22:57:00Z'>22:57</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
I am concerned that #20051 is a sign of things to come, I think the &quot;no loaded wallet&quot; error message needs to clearly spell out the fact that default wallet creation was deprecated and you should call createwallet
<br>
</div>

<div class='talk op-msg' data-timestamp='1602111420' id='407029'>
<a class='timestamp' href='#407029'><time timestamp='2020-10-07T22:57:00Z'>22:57</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/20051" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/20051</a> | wallet method is disabled because no wallet is loaded · Issue #20051 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1602111480' id='407030'>
<a class='timestamp' href='#407030'><time timestamp='2020-10-07T22:58:00Z'>22:58</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
(by &#x27;things to come&#x27; I just mean &#x27;once this gets released, a ton of people are going to be confused by the breakage)
<br>
</div>

<div class='talk op-msg' data-timestamp='1602111480' id='407031'>
<a class='timestamp' href='#407031'><time timestamp='2020-10-07T22:58:00Z'>22:58</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
The error message could be written better
<br>
</div>

<div class='talk op-msg' data-timestamp='1602111540' id='407032'>
<a class='timestamp' href='#407032'><time timestamp='2020-10-07T22:59:00Z'>22:59</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
I don&#x27;t know how long RPC error messages are allowed to get, in terms of explanations or pointers to documentation
<br>
</div>

<div class='talk op-msg' data-timestamp='1602111660' id='407033'>
<a class='timestamp' href='#407033'><time timestamp='2020-10-07T23:01:00Z'>23:01</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
at least this long: &quot;Using bumpfee with wallets that have private keys disabled is deprecated. Use psbtbumpfee instead or restart bitcoind with -deprecatedrpc=bumpfee. This functionality will be removed in 0.22&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1602111780' id='407034'>
<a class='timestamp' href='#407034'><time timestamp='2020-10-07T23:03:00Z'>23:03</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
this is possibly too long: &quot;Wallet RPCs are disabled because no wallet is loaded. (NOTE: Bitcoin Core no longer creates a default wallet automatically. Load a wallet using `loadwallet`, or by running bitcoind with `-wallet`; or create a wallet with `createwallet`.)&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1602111780' id='407035'>
<a class='timestamp' href='#407035'><time timestamp='2020-10-07T23:03:00Z'>23:03</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
but that would spell out the general options. (Alternatively, replace the last bit with a link to documentation, if there&#x27;s a stable link that would work.)
<br>
</div>

<div class='talk op-msg' data-timestamp='1602111840' id='407036'>
<a class='timestamp' href='#407036'><time timestamp='2020-10-07T23:04:00Z'>23:04</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
alternatively, is there any precedent for having &quot;help foo&quot; entries where foo is not an RPC? If so, we could refer people to &quot;help default_wallet_deprecation&quot; or so.
<br>
</div>

<div class='talk op-msg' data-timestamp='1602112140' id='407037'>
<a class='timestamp' href='#407037'><time timestamp='2020-10-07T23:09:00Z'>23:09</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
I think it&#x27;s fine to just say what people can do
<br>
</div>

<div class='talk op-msg' data-timestamp='1602112140' id='407038'>
<a class='timestamp' href='#407038'><time timestamp='2020-10-07T23:09:00Z'>23:09</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
Maybe link to release notes if necessary
<br>
</div>

</div>
</section>

</body>
</html>
