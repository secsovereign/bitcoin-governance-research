<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2016-06-28
 — 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2016-06-28' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:26 UTC</pre>
<pre><a href="/bitcoin-core-dev/2016-05-28">&lt;</a><span class='header'>    June 2016     </span><a href="/bitcoin-core-dev/2016-07-28">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;          <a class="" href="/bitcoin-core-dev/2016-06-01">1</a>  <a class="" href="/bitcoin-core-dev/2016-06-02">2</a>  <a class="" href="/bitcoin-core-dev/2016-06-03">3</a>  <a class="" href="/bitcoin-core-dev/2016-06-04">4</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2016-06-05">5</a>  <a class="" href="/bitcoin-core-dev/2016-06-06">6</a>  <a class="" href="/bitcoin-core-dev/2016-06-07">7</a>  <a class="" href="/bitcoin-core-dev/2016-06-08">8</a>  <a class="" href="/bitcoin-core-dev/2016-06-09">9</a> <a class="" href="/bitcoin-core-dev/2016-06-10">10</a> <a class="" href="/bitcoin-core-dev/2016-06-11">11</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2016-06-12">12</a> <a class="" href="/bitcoin-core-dev/2016-06-13">13</a> <a class="" href="/bitcoin-core-dev/2016-06-14">14</a> <a class="" href="/bitcoin-core-dev/2016-06-15">15</a> <a class="" href="/bitcoin-core-dev/2016-06-16">16</a> <a class="" href="/bitcoin-core-dev/2016-06-17">17</a> <a class="" href="/bitcoin-core-dev/2016-06-18">18</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2016-06-19">19</a> <a class="" href="/bitcoin-core-dev/2016-06-20">20</a> <a class="" href="/bitcoin-core-dev/2016-06-21">21</a> <a class="" href="/bitcoin-core-dev/2016-06-22">22</a> <a class="" href="/bitcoin-core-dev/2016-06-23">23</a> <a class="" href="/bitcoin-core-dev/2016-06-24">24</a> <a class="" href="/bitcoin-core-dev/2016-06-25">25</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2016-06-26">26</a> <a class="" href="/bitcoin-core-dev/2016-06-27">27</a> <a class="current" href="/bitcoin-core-dev/2016-06-28">28</a> <a class="" href="/bitcoin-core-dev/2016-06-29">29</a> <a class="" href="/bitcoin-core-dev/2016-06-30">30</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1467091560' id='476382'>
<a class='timestamp' href='#476382'><time timestamp='2016-06-28T05:26:00Z'>05:26</time></a>
&lt;<span class='nick nick-16'> GitHub184</span>&gt;
[bitcoin] pstratem opened pull request #8277: Refactor CBlockHeaderAndShortTxIDs::GetShortID into CTransaction (master...2016-06-26-ctransaction-getshortid) <a href="https://github.com/bitcoin/bitcoin/pull/8277" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8277</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1467100620' id='476383'>
<a class='timestamp' href='#476383'><time timestamp='2016-06-28T07:57:00Z'>07:57</time></a>
&lt;<span class='nick nick-2'> GitHub81</span>&gt;
[bitcoin] laanwj closed pull request #8264: src: Fix spelling error in comment - tinyformat.h (master...bitcoiner-fix-typo-tinyformat) <a href="https://github.com/bitcoin/bitcoin/pull/8264" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8264</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1467101520' id='476384'>
<a class='timestamp' href='#476384'><time timestamp='2016-06-28T08:12:00Z'>08:12</time></a>
&lt;<span class='nick nick-10'> GitHub147</span>&gt;
[bitcoin] laanwj pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/5a06ebbf2d5f...ff03c50c0048" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/5a06ebbf2d5f...ff03c50c0048</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1467101520' id='476385'>
<a class='timestamp' href='#476385'><time timestamp='2016-06-28T08:12:00Z'>08:12</time></a>
&lt;<span class='nick nick-10'> GitHub147</span>&gt;
bitcoin/master 1acf1db Pieter Wuille: Do not ask a UI question from bitcoind
<br>
</div>

<div class='talk op-msg' data-timestamp='1467101520' id='476386'>
<a class='timestamp' href='#476386'><time timestamp='2016-06-28T08:12:00Z'>08:12</time></a>
&lt;<span class='nick nick-10'> GitHub147</span>&gt;
bitcoin/master ff03c50 Wladimir J. van der Laan: Merge #8257: Do not ask a UI question from bitcoind...
<br>
</div>

<div class='talk op-msg' data-timestamp='1467101520' id='476387'>
<a class='timestamp' href='#476387'><time timestamp='2016-06-28T08:12:00Z'>08:12</time></a>
&lt;<span class='nick nick-10'> GitHub126</span>&gt;
[bitcoin] laanwj closed pull request #8257: Do not ask a UI question from bitcoind (master...noask) <a href="https://github.com/bitcoin/bitcoin/pull/8257" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8257</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1467106500' id='476388'>
<a class='timestamp' href='#476388'><time timestamp='2016-06-28T09:35:00Z'>09:35</time></a>
&lt;<span class='nick nick-10'> GitHub126</span>&gt;
[bitcoin] ChoHag opened pull request #8278: Forking daemon (master...forking-daemon) <a href="https://github.com/bitcoin/bitcoin/pull/8278" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8278</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1467107400' id='476389'>
<a class='timestamp' href='#476389'><time timestamp='2016-06-28T09:50:00Z'>09:50</time></a>
&lt;<span class='nick nick-14'> GitHub193</span>&gt;
[bitcoin] laanwj pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/ff03c50c0048...3b2dadc8d5bb" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/ff03c50c0048...3b2dadc8d5bb</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1467107400' id='476390'>
<a class='timestamp' href='#476390'><time timestamp='2016-06-28T09:50:00Z'>09:50</time></a>
&lt;<span class='nick nick-14'> GitHub193</span>&gt;
bitcoin/master 9a227e9 Wladimir J. van der Laan: tx: change slug to `bitcoin.qt-translation-013x`...
<br>
</div>

<div class='talk op-msg' data-timestamp='1467107400' id='476391'>
<a class='timestamp' href='#476391'><time timestamp='2016-06-28T09:50:00Z'>09:50</time></a>
&lt;<span class='nick nick-14'> GitHub193</span>&gt;
bitcoin/master 3b2dadc Wladimir J. van der Laan: qt: Periodic translations update
<br>
</div>

<div class='talk op-msg' data-timestamp='1467107940' id='476392'>
<a class='timestamp' href='#476392'><time timestamp='2016-06-28T09:59:00Z'>09:59</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
morcos: thanks for the info; yes that makes sense, I think we should (separately) consider lowering the default mempool size
<br>
</div>

<div class='talk op-msg' data-timestamp='1467107940' id='476393'>
<a class='timestamp' href='#476393'><time timestamp='2016-06-28T09:59:00Z'>09:59</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
but not for 0.13, maybe, as you say it warrants more testing
<br>
</div>

<div class='talk op-msg' data-timestamp='1467108720' id='476394'>
<a class='timestamp' href='#476394'><time timestamp='2016-06-28T10:12:00Z'>10:12</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
sipa, i&#x27;d like to implement mempool sync using short ids
<br>
</div>

<div class='talk op-msg' data-timestamp='1467108720' id='476395'>
<a class='timestamp' href='#476395'><time timestamp='2016-06-28T10:12:00Z'>10:12</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
looking at the trickle logic for this
<br>
</div>

<div class='talk op-msg' data-timestamp='1467108720' id='476396'>
<a class='timestamp' href='#476396'><time timestamp='2016-06-28T10:12:00Z'>10:12</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
im thinking this is no longer trivial
<br>
</div>

<div class='talk op-msg' data-timestamp='1467108720' id='476397'>
<a class='timestamp' href='#476397'><time timestamp='2016-06-28T10:12:00Z'>10:12</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
is there a shortcut you can point me towards?
<br>
</div>

<div class='talk op-msg' data-timestamp='1467108720' id='476398'>
<a class='timestamp' href='#476398'><time timestamp='2016-06-28T10:12:00Z'>10:12</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
:)
<br>
</div>

<div class='talk op-msg' data-timestamp='1467108840' id='476399'>
<a class='timestamp' href='#476399'><time timestamp='2016-06-28T10:14:00Z'>10:14</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
can you elaborate?
<br>
</div>

<div class='talk op-msg' data-timestamp='1467108900' id='476400'>
<a class='timestamp' href='#476400'><time timestamp='2016-06-28T10:15:00Z'>10:15</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
sipa, the goal is to essentially prime the cache for compact block
<br>
</div>

<div class='talk op-msg' data-timestamp='1467108960' id='476401'>
<a class='timestamp' href='#476401'><time timestamp='2016-06-28T10:16:00Z'>10:16</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
phantomcircuit: the lack of any fetch by short ID might get in your way. :P
<br>
</div>

<div class='talk op-msg' data-timestamp='1467108960' id='476402'>
<a class='timestamp' href='#476402'><time timestamp='2016-06-28T10:16:00Z'>10:16</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
peers request the top ~2MiB of a nodes mempool (ancestor index) and the node responds with short ids
<br>
</div>

<div class='talk op-msg' data-timestamp='1467109020' id='476403'>
<a class='timestamp' href='#476403'><time timestamp='2016-06-28T10:17:00Z'>10:17</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
gmaxwell, well yeah i&#x27;d be adding that
<br>
</div>

<div class='talk op-msg' data-timestamp='1467109020' id='476404'>
<a class='timestamp' href='#476404'><time timestamp='2016-06-28T10:17:00Z'>10:17</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
keyed on the last block the requestee had seen
<br>
</div>

<div class='talk op-msg' data-timestamp='1467109020' id='476405'>
<a class='timestamp' href='#476405'><time timestamp='2016-06-28T10:17:00Z'>10:17</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
perhaps better is to request a &quot;fakeblock&quot;, and then use the getblocktxn mechenism?
<br>
</div>

<div class='talk op-msg' data-timestamp='1467109020' id='476406'>
<a class='timestamp' href='#476406'><time timestamp='2016-06-28T10:17:00Z'>10:17</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
so if you weren&#x27;t at the same tip you&#x27;d just get gibberish
<br>
</div>

<div class='talk op-msg' data-timestamp='1467109080' id='476407'>
<a class='timestamp' href='#476407'><time timestamp='2016-06-28T10:18:00Z'>10:18</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
why require same tip? just have the sender pick a nonce.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467109080' id='476408'>
<a class='timestamp' href='#476408'><time timestamp='2016-06-28T10:18:00Z'>10:18</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
because this can be cached by the node receiving the request
<br>
</div>

<div class='talk op-msg' data-timestamp='1467109080' id='476409'>
<a class='timestamp' href='#476409'><time timestamp='2016-06-28T10:18:00Z'>10:18</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
or even generate a block, cache it, and serve requests on it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467109080' id='476410'>
<a class='timestamp' href='#476410'><time timestamp='2016-06-28T10:18:00Z'>10:18</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
you can cache a generated block.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467109140' id='476411'>
<a class='timestamp' href='#476411'><time timestamp='2016-06-28T10:19:00Z'>10:19</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
hmm
<br>
</div>

<div class='talk op-msg' data-timestamp='1467109200' id='476412'>
<a class='timestamp' href='#476412'><time timestamp='2016-06-28T10:20:00Z'>10:20</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
what kind of timeframe do you think you&#x27;d do this in?  for mempool sync in general, set reconcillation should be used. PinSketch is super easy to use C++ code, but we couldn&#x27;t put it into production until rewriting it. (due to incompatible licensing and because NTL is huge)
<br>
</div>

<div class='talk op-msg' data-timestamp='1467109380' id='476413'>
<a class='timestamp' href='#476413'><time timestamp='2016-06-28T10:23:00Z'>10:23</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
set recon may or may not make sense for block relay, because the cpu time to decode is prohibitive enough to get in the way of latency... but for mempool sync no such issue exists.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467109380' id='476414'>
<a class='timestamp' href='#476414'><time timestamp='2016-06-28T10:23:00Z'>10:23</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
and it sends data exactly equal in size to the symmetric difference.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467109500' id='476415'>
<a class='timestamp' href='#476415'><time timestamp='2016-06-28T10:25:00Z'>10:25</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
i&#x27;d like something really simple that we can do like
<br>
</div>

<div class='talk op-msg' data-timestamp='1467109560' id='476416'>
<a class='timestamp' href='#476416'><time timestamp='2016-06-28T10:26:00Z'>10:26</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
nowish
<br>
</div>

<div class='talk op-msg' data-timestamp='1467109560' id='476417'>
<a class='timestamp' href='#476417'><time timestamp='2016-06-28T10:26:00Z'>10:26</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
i have some private patches which are kind of stupid that do this for mining nodes
<br>
</div>

<div class='talk op-msg' data-timestamp='1467109620' id='476418'>
<a class='timestamp' href='#476418'><time timestamp='2016-06-28T10:27:00Z'>10:27</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
there&#x27;s a pretty significant advantage to having a mining node with a smaller mempool
<br>
</div>

<div class='talk op-msg' data-timestamp='1467109620' id='476419'>
<a class='timestamp' href='#476419'><time timestamp='2016-06-28T10:27:00Z'>10:27</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
If there is we should fix that.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467109740' id='476420'>
<a class='timestamp' href='#476420'><time timestamp='2016-06-28T10:29:00Z'>10:29</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
because of the use of indexes I&#x27;d consider it a bug if createnew block was taking more than a tiny amount longer with a 100MB mempool than a 2MB one.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467109800' id='476421'>
<a class='timestamp' href='#476421'><time timestamp='2016-06-28T10:30:00Z'>10:30</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
it&#x27;s removing conflicts that&#x27;s slow
<br>
</div>

<div class='talk op-msg' data-timestamp='1467109800' id='476422'>
<a class='timestamp' href='#476422'><time timestamp='2016-06-28T10:30:00Z'>10:30</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
but yeah i guess i should try to benchmark that first
<br>
</div>

<div class='talk op-msg' data-timestamp='1467109800' id='476423'>
<a class='timestamp' href='#476423'><time timestamp='2016-06-28T10:30:00Z'>10:30</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I was wondering that as I commented, but that might just be the case where we&#x27;re missing some index we should have. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1467109860' id='476424'>
<a class='timestamp' href='#476424'><time timestamp='2016-06-28T10:31:00Z'>10:31</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: the mempool remove of conflicts code copies CTransaction objects all over the place
<br>
</div>

<div class='talk op-msg' data-timestamp='1467109860' id='476425'>
<a class='timestamp' href='#476425'><time timestamp='2016-06-28T10:31:00Z'>10:31</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
eh phantomcircuit 
<br>
</div>

<div class='talk op-msg' data-timestamp='1467109920' id='476426'>
<a class='timestamp' href='#476426'><time timestamp='2016-06-28T10:32:00Z'>10:32</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
gmaxwell, i&#x27;ll benchmark it
<br>
</div>

<div class='talk op-msg' data-timestamp='1467109920' id='476427'>
<a class='timestamp' href='#476427'><time timestamp='2016-06-28T10:32:00Z'>10:32</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
im prettttty sure it&#x27;s slow
<br>
</div>

<div class='talk op-msg' data-timestamp='1467109920' id='476428'>
<a class='timestamp' href='#476428'><time timestamp='2016-06-28T10:32:00Z'>10:32</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
great. &quot;we should fix that&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1467109920' id='476429'>
<a class='timestamp' href='#476429'><time timestamp='2016-06-28T10:32:00Z'>10:32</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
we should switch that to shared_ptr based 
<br>
</div>

<div class='talk op-msg' data-timestamp='1467109920' id='476430'>
<a class='timestamp' href='#476430'><time timestamp='2016-06-28T10:32:00Z'>10:32</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
so it can return the deleted transactions without copying
<br>
</div>

<div class='talk op-msg' data-timestamp='1467110040' id='476431'>
<a class='timestamp' href='#476431'><time timestamp='2016-06-28T10:34:00Z'>10:34</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
phantomcircuit: I think mempool sync is useful and important, but it shouldn&#x27;t be used to hack around even more important speed improvements.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467110160' id='476432'>
<a class='timestamp' href='#476432'><time timestamp='2016-06-28T10:36:00Z'>10:36</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
gmaxwell, the principle reason for it is to prime the cache for compact blocks
<br>
</div>

<div class='talk op-msg' data-timestamp='1467110160' id='476433'>
<a class='timestamp' href='#476433'><time timestamp='2016-06-28T10:36:00Z'>10:36</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
but i guess that can just be a simple list of txids
<br>
</div>

<div class='talk op-msg' data-timestamp='1467110160' id='476434'>
<a class='timestamp' href='#476434'><time timestamp='2016-06-28T10:36:00Z'>10:36</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
once per connect
<br>
</div>

<div class='talk op-msg' data-timestamp='1467110220' id='476435'>
<a class='timestamp' href='#476435'><time timestamp='2016-06-28T10:37:00Z'>10:37</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
yes, thats an initially useful application, though we should also be considering directing our attention toward reducing relay overhead, because with BIP152, it&#x27;s now the biggest user of bandwidth on a listening node.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467110280' id='476436'>
<a class='timestamp' href='#476436'><time timestamp='2016-06-28T10:38:00Z'>10:38</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
ok well i guess i&#x27;ll benchmark the conflict thing
<br>
</div>

<div class='talk op-msg' data-timestamp='1467110400' id='476437'>
<a class='timestamp' href='#476437'><time timestamp='2016-06-28T10:40:00Z'>10:40</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
phantomcircuit: that would be very useful
<br>
</div>

<div class='talk op-msg' data-timestamp='1467110460' id='476438'>
<a class='timestamp' href='#476438'><time timestamp='2016-06-28T10:41:00Z'>10:41</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i can write a patch that i think will improve its performance significantly
<br>
</div>

<div class='talk op-msg' data-timestamp='1467119580' id='476439'>
<a class='timestamp' href='#476439'><time timestamp='2016-06-28T13:13:00Z'>13:13</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
sipa, uh first off it seems we&#x27;re iterating vTx twice in removeForBlock for no reason?
<br>
</div>

<div class='talk op-msg' data-timestamp='1467122700' id='476440'>
<a class='timestamp' href='#476440'><time timestamp='2016-06-28T14:05:00Z'>14:05</time></a>
&lt;<span class='nick nick-9'> GitHub157</span>&gt;
[bitcoin] laanwj pushed 4 new commits to 0.12: <a href="https://github.com/bitcoin/bitcoin/compare/9adad33938ec...080457c4ee97" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/9adad33938ec...080457c4ee97</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1467122700' id='476441'>
<a class='timestamp' href='#476441'><time timestamp='2016-06-28T14:05:00Z'>14:05</time></a>
&lt;<span class='nick nick-14'> GitHub76</span>&gt;
[bitcoin] laanwj closed pull request #8148: Backport leveldb build integration to 0.12 (0.12...0.12) <a href="https://github.com/bitcoin/bitcoin/pull/8148" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8148</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1467122700' id='476442'>
<a class='timestamp' href='#476442'><time timestamp='2016-06-28T14:05:00Z'>14:05</time></a>
&lt;<span class='nick nick-9'> GitHub157</span>&gt;
bitcoin/0.12 03c709b Johnathan Corgan: Backport leveldb build integration to 0.12...
<br>
</div>

<div class='talk op-msg' data-timestamp='1467122700' id='476443'>
<a class='timestamp' href='#476443'><time timestamp='2016-06-28T14:05:00Z'>14:05</time></a>
&lt;<span class='nick nick-9'> GitHub157</span>&gt;
bitcoin/0.12 932aedd Johnathan Corgan: Cherry-pick of f59dceb (#7925) to 0.12....
<br>
</div>

<div class='talk op-msg' data-timestamp='1467122700' id='476444'>
<a class='timestamp' href='#476444'><time timestamp='2016-06-28T14:05:00Z'>14:05</time></a>
&lt;<span class='nick nick-9'> GitHub157</span>&gt;
bitcoin/0.12 9462e79 Johnathan Corgan: This is a cherry-pick of 89c844d back to 0.12....
<br>
</div>

<div class='talk op-msg' data-timestamp='1467122760' id='476445'>
<a class='timestamp' href='#476445'><time timestamp='2016-06-28T14:06:00Z'>14:06</time></a>
&lt;<span class='nick nick-11'> GitHub19</span>&gt;
[bitcoin] laanwj pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/3b2dadc8d5bb...3685e0c1da29" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/3b2dadc8d5bb...3685e0c1da29</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1467122760' id='476446'>
<a class='timestamp' href='#476446'><time timestamp='2016-06-28T14:06:00Z'>14:06</time></a>
&lt;<span class='nick nick-11'> GitHub19</span>&gt;
bitcoin/master 2129fce Pavel Janík: The bit field is shown only when status is &quot;started&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1467122760' id='476447'>
<a class='timestamp' href='#476447'><time timestamp='2016-06-28T14:06:00Z'>14:06</time></a>
&lt;<span class='nick nick-11'> GitHub19</span>&gt;
bitcoin/master 3685e0c Wladimir J. van der Laan: Merge #8261: The bit field is shown only when status is &quot;started&quot;...
<br>
</div>

<div class='talk op-msg' data-timestamp='1467122820' id='476448'>
<a class='timestamp' href='#476448'><time timestamp='2016-06-28T14:07:00Z'>14:07</time></a>
&lt;<span class='nick nick-8'> GitHub152</span>&gt;
[bitcoin] laanwj closed pull request #8261: The bit field is shown only when status is &quot;started&quot; (master...20160625_sw_getblockchaininfo_bit) <a href="https://github.com/bitcoin/bitcoin/pull/8261" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8261</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1467123060' id='476449'>
<a class='timestamp' href='#476449'><time timestamp='2016-06-28T14:11:00Z'>14:11</time></a>
&lt;<span class='nick nick-4'> kanzure</span>&gt;
<a href="https://petertodd.org/2016/segwit-consensus-critical-code-review" class="link" target="_blank">https://petertodd.org/2016/segwit-consensus-critical-code-review</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1467124620' id='476450'>
<a class='timestamp' href='#476450'><time timestamp='2016-06-28T14:37:00Z'>14:37</time></a>
&lt;<span class='nick nick-14'> GitHub17</span>&gt;
[bitcoin] sdaftuar opened pull request #8280: Tests: Increase sync_blocks() timeouts in pruning.py (master...fix-pruning-test) <a href="https://github.com/bitcoin/bitcoin/pull/8280" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8280</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1467125040' id='476451'>
<a class='timestamp' href='#476451'><time timestamp='2016-06-28T14:44:00Z'>14:44</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
petertodd: re your review the witness cost check is in contextual because we need to know whether segwit is enabled when seeing a block without context
<br>
</div>

<div class='talk op-msg' data-timestamp='1467131520' id='476452'>
<a class='timestamp' href='#476452'><time timestamp='2016-06-28T16:32:00Z'>16:32</time></a>
&lt;<span class='nick nick-7'> GitHub142</span>&gt;
[bitcoin] laanwj opened pull request #8281: qt: Remove client name from debug window (master...2016_06_qt_remove_client_name) <a href="https://github.com/bitcoin/bitcoin/pull/8281" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8281</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1467134340' id='476453'>
<a class='timestamp' href='#476453'><time timestamp='2016-06-28T17:19:00Z'>17:19</time></a>
&lt;<span class='nick nick-14'> GitHub20</span>&gt;
[bitcoin] EthanHeilman opened pull request #8282: net: Feeler connections to increase online addrs in the tried table. (master...feelers3) <a href="https://github.com/bitcoin/bitcoin/pull/8282" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8282</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1467134580' id='476454'>
<a class='timestamp' href='#476454'><time timestamp='2016-06-28T17:23:00Z'>17:23</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
FYI: github&#x27;s download PR as a diff doesn&#x27;t work: Pavels-MacBook-Pro:tmp pavel$ curl -L <a href="https://github.com/bitcoin/bitcoin/pull/8281.diff" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8281.diff</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1467134580' id='476455'>
<a class='timestamp' href='#476455'><time timestamp='2016-06-28T17:23:00Z'>17:23</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
curl: (51) SSL: no alternative certificate subject name matches target host name &#x27;patch-diff.githubusercontent.com&#x27;
<br>
</div>

<div class='talk op-msg' data-timestamp='1467134580' id='476456'>
<a class='timestamp' href='#476456'><time timestamp='2016-06-28T17:23:00Z'>17:23</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
Pavels-MacBook-Pro:tmp pavel$ 
<br>
</div>

<div class='talk op-msg' data-timestamp='1467134580' id='476457'>
<a class='timestamp' href='#476457'><time timestamp='2016-06-28T17:23:00Z'>17:23</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
their cert doesn&#x27;t contain proper SAN.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467134760' id='476458'>
<a class='timestamp' href='#476458'><time timestamp='2016-06-28T17:26:00Z'>17:26</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
reported to github
<br>
</div>

<div class='talk op-msg' data-timestamp='1467136380' id='476459'>
<a class='timestamp' href='#476459'><time timestamp='2016-06-28T17:53:00Z'>17:53</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: but my point is, currently the way that cost check is written is such that it&#x27;s applied even if segwit isn&#x27;t enabled, for non-segwit blocks
<br>
</div>

<div class='talk op-msg' data-timestamp='1467136380' id='476460'>
<a class='timestamp' href='#476460'><time timestamp='2016-06-28T17:53:00Z'>17:53</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: that said, I think you&#x27;re right that the content of the footnote is wrong; I&#x27;ll delete it
<br>
</div>

<div class='talk op-msg' data-timestamp='1467136380' id='476461'>
<a class='timestamp' href='#476461'><time timestamp='2016-06-28T17:53:00Z'>17:53</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
petertodd: yes, but only after checking that there is no superfluous witness record, and that check is dependent on context
<br>
</div>

<div class='talk op-msg' data-timestamp='1467136440' id='476462'>
<a class='timestamp' href='#476462'><time timestamp='2016-06-28T17:54:00Z'>17:54</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
thank you for the review though!
<br>
</div>

<div class='talk op-msg' data-timestamp='1467136440' id='476463'>
<a class='timestamp' href='#476463'><time timestamp='2016-06-28T17:54:00Z'>17:54</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
the malleability to exceed size limits needs to be addressed
<br>
</div>

<div class='talk op-msg' data-timestamp='1467136440' id='476464'>
<a class='timestamp' href='#476464'><time timestamp='2016-06-28T17:54:00Z'>17:54</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: sure, the existing code I do believe works, I was concerned about problems if we ever add anything else to that cost check
<br>
</div>

<div class='talk op-msg' data-timestamp='1467136560' id='476465'>
<a class='timestamp' href='#476465'><time timestamp='2016-06-28T17:56:00Z'>17:56</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ah, ok
<br>
</div>

<div class='talk op-msg' data-timestamp='1467136860' id='476466'>
<a class='timestamp' href='#476466'><time timestamp='2016-06-28T18:01:00Z'>18:01</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: sorry if it&#x27;s not clear, but most of my objections are semi-theoretical, &quot;if we screw up x this will break&quot;, belt-and-suspenders stuff :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1467136980' id='476467'>
<a class='timestamp' href='#476467'><time timestamp='2016-06-28T18:03:00Z'>18:03</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
speaking of, I just added this sentence to the summary: &quot;Put another way, in a number of places we either have a belt, or suspenders, when given the importance of this code we’d rather have both a belt and suspenders.&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1467138240' id='476468'>
<a class='timestamp' href='#476468'><time timestamp='2016-06-28T18:24:00Z'>18:24</time></a>
&lt;<span class='nick nick-16'> bsm117532</span>&gt;
Hey petertodd, I&#x27;m doing some stuff with your python-bitcoinlib.  Have you had a chance to incorporate the new address types and whatnot for segwit?
<br>
</div>

<div class='talk op-msg' data-timestamp='1467138300' id='476469'>
<a class='timestamp' href='#476469'><time timestamp='2016-06-28T18:25:00Z'>18:25</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
there are no new address tyoes
<br>
</div>

<div class='talk op-msg' data-timestamp='1467138300' id='476470'>
<a class='timestamp' href='#476470'><time timestamp='2016-06-28T18:25:00Z'>18:25</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
tyoes
<br>
</div>

<div class='talk op-msg' data-timestamp='1467138300' id='476471'>
<a class='timestamp' href='#476471'><time timestamp='2016-06-28T18:25:00Z'>18:25</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
tyPes
<br>
</div>

<div class='talk op-msg' data-timestamp='1467138480' id='476472'>
<a class='timestamp' href='#476472'><time timestamp='2016-06-28T18:28:00Z'>18:28</time></a>
&lt;<span class='nick nick-16'> bsm117532</span>&gt;
Oh I see, you embedded it in P2SH.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467138660' id='476473'>
<a class='timestamp' href='#476473'><time timestamp='2016-06-28T18:31:00Z'>18:31</time></a>
&lt;<span class='nick nick-14'> * bsm117532</span>&gt;
does a little dance, and pushes the &quot;segwit required from now on&quot; button in  his code.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467138900' id='476474'>
<a class='timestamp' href='#476474'><time timestamp='2016-06-28T18:35:00Z'>18:35</time></a>
&lt;<span class='nick nick-16'> bsm117532</span>&gt;
I have a use case which absolutely needs the txid to be immutable.  In order to achieve that, is it necessary that the <b>*inputs*</b> to my transaction be <b>*outputs*</b> of a segwit transaction?
<br>
</div>

<div class='talk op-msg' data-timestamp='1467138900' id='476475'>
<a class='timestamp' href='#476475'><time timestamp='2016-06-28T18:35:00Z'>18:35</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1467138960' id='476476'>
<a class='timestamp' href='#476476'><time timestamp='2016-06-28T18:36:00Z'>18:36</time></a>
&lt;<span class='nick nick-16'> bsm117532</span>&gt;
Ok then I&#x27;ll have to test the inputs.  Thanks sipa.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467145140' id='476477'>
<a class='timestamp' href='#476477'><time timestamp='2016-06-28T20:19:00Z'>20:19</time></a>
&lt;<span class='nick nick-16'> bsm117532</span>&gt;
So the trick is that the scriptSig is only data pushes.  Since the top of the stack is non-zero (unless you know a preimage that hashes to zero), pre-segwit considers it anyone can spend, and any following input with an empty scriptPubKey can spend it.  No?
<br>
</div>

<div class='talk op-msg' data-timestamp='1467145200' id='476478'>
<a class='timestamp' href='#476478'><time timestamp='2016-06-28T20:20:00Z'>20:20</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
in segwit scriptSig will  e empty
<br>
</div>

<div class='talk op-msg' data-timestamp='1467145200' id='476479'>
<a class='timestamp' href='#476479'><time timestamp='2016-06-28T20:20:00Z'>20:20</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
the scriptPubKey is just pushes
<br>
</div>

<div class='talk op-msg' data-timestamp='1467145260' id='476480'>
<a class='timestamp' href='#476480'><time timestamp='2016-06-28T20:21:00Z'>20:21</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
well, p2sh-wrapped-segwit won&#x27;t have empty scriptsig
<br>
</div>

<div class='talk op-msg' data-timestamp='1467145320' id='476481'>
<a class='timestamp' href='#476481'><time timestamp='2016-06-28T20:22:00Z'>20:22</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
right, it would just have a redeemScript
<br>
</div>

<div class='talk op-msg' data-timestamp='1467146220' id='476482'>
<a class='timestamp' href='#476482'><time timestamp='2016-06-28T20:37:00Z'>20:37</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
bsm117532: apparently someone else has been working on adding segwit to python-bitcoinlib; I haven&#x27;t looked at their code yet, which afaik isn&#x27;t public yet :(
<br>
</div>

<div class='talk op-msg' data-timestamp='1467147420' id='476483'>
<a class='timestamp' href='#476483'><time timestamp='2016-06-28T20:57:00Z'>20:57</time></a>
&lt;<span class='nick nick-9'> GitHub58</span>&gt;
[bitcoin] Mirobit opened pull request #8283: Move AdvertiseLocal debug output to net category (master...master) <a href="https://github.com/bitcoin/bitcoin/pull/8283" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8283</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1467147420' id='476484'>
<a class='timestamp' href='#476484'><time timestamp='2016-06-28T20:57:00Z'>20:57</time></a>
&lt;<span class='nick nick-16'> bsm117532</span>&gt;
I&#x27;m looking at P2SH-wrapped-segwit.  And yes I mixed up scriptSig and scriptPubkey...I wish we could rename those... :-/
<br>
</div>

<div class='talk op-msg' data-timestamp='1467147420' id='476485'>
<a class='timestamp' href='#476485'><time timestamp='2016-06-28T20:57:00Z'>20:57</time></a>
&lt;<span class='nick nick-16'> bsm117532</span>&gt;
petertodd: If you have any further references, I&#x27;d be happy to try it out.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467147540' id='476486'>
<a class='timestamp' href='#476486'><time timestamp='2016-06-28T20:59:00Z'>20:59</time></a>
&lt;<span class='nick nick-16'> bsm117532</span>&gt;
or collaborate on a PR for python-bitcoinlib...
<br>
</div>

<div class='talk op-msg' data-timestamp='1467149460' id='476487'>
<a class='timestamp' href='#476487'><time timestamp='2016-06-28T21:31:00Z'>21:31</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
gmail is marking all erik&#x27;s mail as spam, I was wondering why I was only seeing one half of the conversation.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467149520' id='476488'>
<a class='timestamp' href='#476488'><time timestamp='2016-06-28T21:32:00Z'>21:32</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
&quot;Be careful with this message. It contains content that&#x27;s typically used to steal personal information.&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1467149520' id='476489'>
<a class='timestamp' href='#476489'><time timestamp='2016-06-28T21:32:00Z'>21:32</time></a>
&lt;<span class='nick nick-6'> btcdrak</span>&gt;
what&#x27;s the header?
<br>
</div>

<div class='talk op-msg' data-timestamp='1467149820' id='476490'>
<a class='timestamp' href='#476490'><time timestamp='2016-06-28T21:37:00Z'>21:37</time></a>
&lt;<span class='nick nick-6'> btcdrak</span>&gt;
gmaxwell if you mean Eric Voskuil, strangely my gmail isnt marking his messages as spam.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467149880' id='476491'>
<a class='timestamp' href='#476491'><time timestamp='2016-06-28T21:38:00Z'>21:38</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
yes, I do.
<br>
</div>

</div>
</section>

</body>
</html>
