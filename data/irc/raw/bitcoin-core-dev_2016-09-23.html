<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2016-09-23
 — 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2016-09-23' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:25 UTC</pre>
<pre><a href="/bitcoin-core-dev/2016-08-23">&lt;</a><span class='header'>  September 2016  </span><a href="/bitcoin-core-dev/2016-10-23">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;             <a class="" href="/bitcoin-core-dev/2016-09-01">1</a>  <a class="" href="/bitcoin-core-dev/2016-09-02">2</a>  <a class="" href="/bitcoin-core-dev/2016-09-03">3</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2016-09-04">4</a>  <a class="" href="/bitcoin-core-dev/2016-09-05">5</a>  <a class="" href="/bitcoin-core-dev/2016-09-06">6</a>  <a class="" href="/bitcoin-core-dev/2016-09-07">7</a>  <a class="" href="/bitcoin-core-dev/2016-09-08">8</a>  <a class="" href="/bitcoin-core-dev/2016-09-09">9</a> <a class="" href="/bitcoin-core-dev/2016-09-10">10</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2016-09-11">11</a> <a class="" href="/bitcoin-core-dev/2016-09-12">12</a> <a class="" href="/bitcoin-core-dev/2016-09-13">13</a> <a class="" href="/bitcoin-core-dev/2016-09-14">14</a> <a class="" href="/bitcoin-core-dev/2016-09-15">15</a> <a class="" href="/bitcoin-core-dev/2016-09-16">16</a> <a class="" href="/bitcoin-core-dev/2016-09-17">17</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2016-09-18">18</a> <a class="" href="/bitcoin-core-dev/2016-09-19">19</a> <a class="" href="/bitcoin-core-dev/2016-09-20">20</a> <a class="" href="/bitcoin-core-dev/2016-09-21">21</a> <a class="" href="/bitcoin-core-dev/2016-09-22">22</a> <a class="current" href="/bitcoin-core-dev/2016-09-23">23</a> <a class="" href="/bitcoin-core-dev/2016-09-24">24</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2016-09-25">25</a> <a class="" href="/bitcoin-core-dev/2016-09-26">26</a> <a class="" href="/bitcoin-core-dev/2016-09-27">27</a> <a class="" href="/bitcoin-core-dev/2016-09-28">28</a> <a class="" href="/bitcoin-core-dev/2016-09-29">29</a> <a class="" href="/bitcoin-core-dev/2016-09-30">30</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1474589460' id='496164'>
<a class='timestamp' href='#496164'><time timestamp='2016-09-23T00:11:00Z'>00:11</time></a>
&lt;<span class='nick nick-3'> GitHub44</span>&gt;
[bitcoin] gmaxwell opened pull request #8800: Fetch w/o CB if mempool empty, don&#x27;t use HB mode if blocks only. (master...no-hb-in-bo) <a href="https://github.com/bitcoin/bitcoin/pull/8800" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8800</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1474589520' id='496165'>
<a class='timestamp' href='#496165'><time timestamp='2016-09-23T00:12:00Z'>00:12</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
hm. that allow edits thing defaults to on, so next time someone PRs their whole altcoin to our repo we could go and replace their code with bitcoin? :P  &quot;we upgraded your altcoin, enjoy!&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1474589580' id='496166'>
<a class='timestamp' href='#496166'><time timestamp='2016-09-23T00:13:00Z'>00:13</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
lol     
<br>
</div>

<div class='talk op-msg' data-timestamp='1474589640' id='496167'>
<a class='timestamp' href='#496167'><time timestamp='2016-09-23T00:14:00Z'>00:14</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: only the PRed branch opens up
<br>
</div>

<div class='talk op-msg' data-timestamp='1474589700' id='496168'>
<a class='timestamp' href='#496168'><time timestamp='2016-09-23T00:15:00Z'>00:15</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ah, for that example that may be sufficient, actually...
<br>
</div>

<div class='talk op-msg' data-timestamp='1474590120' id='496169'>
<a class='timestamp' href='#496169'><time timestamp='2016-09-23T00:22:00Z'>00:22</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
yes, that was what I was thinking. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1474590240' id='496170'>
<a class='timestamp' href='#496170'><time timestamp='2016-09-23T00:24:00Z'>00:24</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
we should see what happens if you PR to two projects at once
<br>
</div>

<div class='talk op-msg' data-timestamp='1474606680' id='496171'>
<a class='timestamp' href='#496171'><time timestamp='2016-09-23T04:58:00Z'>04:58</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
do we currently have a way to turn off NODE_NETWORK without enabling pruning?
<br>
</div>

<div class='talk op-msg' data-timestamp='1474606800' id='496172'>
<a class='timestamp' href='#496172'><time timestamp='2016-09-23T05:00:00Z'>05:00</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
no, why would we?
<br>
</div>

<div class='talk op-msg' data-timestamp='1474606800' id='496173'>
<a class='timestamp' href='#496173'><time timestamp='2016-09-23T05:00:00Z'>05:00</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
so people don&#x27;t IBD off me &lt;.&lt;
<br>
</div>

<div class='talk op-msg' data-timestamp='1474606800' id='496174'>
<a class='timestamp' href='#496174'><time timestamp='2016-09-23T05:00:00Z'>05:00</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
oh well set the upload limiter to a tiny number. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1474606800' id='496175'>
<a class='timestamp' href='#496175'><time timestamp='2016-09-23T05:00:00Z'>05:00</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
and you&#x27;ll hang up on them when they do.
<br>
</div>

<div class='talk op-msg' data-timestamp='1474606800' id='496176'>
<a class='timestamp' href='#496176'><time timestamp='2016-09-23T05:00:00Z'>05:00</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
yeah, I&#x27;d rather just not have them ask though
<br>
</div>

<div class='talk op-msg' data-timestamp='1474606860' id='496177'>
<a class='timestamp' href='#496177'><time timestamp='2016-09-23T05:01:00Z'>05:01</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
otoh, I guess I have no reason to discourage light clients from connecting to me..
<br>
</div>

<div class='talk op-msg' data-timestamp='1474606860' id='496178'>
<a class='timestamp' href='#496178'><time timestamp='2016-09-23T05:01:00Z'>05:01</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
fwiw, I found more bandwidth was being used by bitcoinj clients than ibding bitcoin core.
<br>
</div>

<div class='talk op-msg' data-timestamp='1474606920' id='496179'>
<a class='timestamp' href='#496179'><time timestamp='2016-09-23T05:02:00Z'>05:02</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
O.o     
<br>
</div>

<div class='talk op-msg' data-timestamp='1474606920' id='496180'>
<a class='timestamp' href='#496180'><time timestamp='2016-09-23T05:02:00Z'>05:02</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
that&#x27;s unexpected
<br>
</div>

<div class='talk op-msg' data-timestamp='1474619880' id='496181'>
<a class='timestamp' href='#496181'><time timestamp='2016-09-23T08:38:00Z'>08:38</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
i was thinking of using an RAII wrapper for the CWalletDB pointer in CWallet 
<br>
</div>

<div class='talk op-msg' data-timestamp='1474619880' id='496182'>
<a class='timestamp' href='#496182'><time timestamp='2016-09-23T08:38:00Z'>08:38</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
does anybody have an opinion on how that should be structured
<br>
</div>

<div class='talk op-msg' data-timestamp='1474620180' id='496183'>
<a class='timestamp' href='#496183'><time timestamp='2016-09-23T08:43:00Z'>08:43</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
luke-jr: they do all kinds of silly things compared to 1MB/10 minutes
<br>
</div>

<div class='talk op-msg' data-timestamp='1474620180' id='496184'>
<a class='timestamp' href='#496184'><time timestamp='2016-09-23T08:43:00Z'>08:43</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
phantomcircuit: IBD isn&#x27;t 1 MB/10 min
<br>
</div>

<div class='talk op-msg' data-timestamp='1474621140' id='496185'>
<a class='timestamp' href='#496185'><time timestamp='2016-09-23T08:59:00Z'>08:59</time></a>
&lt;<span class='nick nick-3'> wallet42</span>&gt;
is there a proposal of having NODE_2WEEKS or something like that? a node that guarantees the serve of all block headers + the bodies for the past 2016 blocks but nothing earlier?
<br>
</div>

<div class='talk op-msg' data-timestamp='1474621200' id='496186'>
<a class='timestamp' href='#496186'><time timestamp='2016-09-23T09:00:00Z'>09:00</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
wallet42: no, I don&#x27;t know that there&#x27;s value to it
<br>
</div>

<div class='talk op-msg' data-timestamp='1474621260' id='496187'>
<a class='timestamp' href='#496187'><time timestamp='2016-09-23T09:01:00Z'>09:01</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
wallet42: next step seems like it would be something where nodes all store a random assortment of history similar to bittorrent swarms, but even that&#x27;s unnecessary today
<br>
</div>

<div class='talk op-msg' data-timestamp='1474621320' id='496188'>
<a class='timestamp' href='#496188'><time timestamp='2016-09-23T09:02:00Z'>09:02</time></a>
&lt;<span class='nick nick-3'> wallet42</span>&gt;
i think sipa posted a while ago a histogram showing the #getblocks[height] 
<br>
</div>

<div class='talk op-msg' data-timestamp='1474621380' id='496189'>
<a class='timestamp' href='#496189'><time timestamp='2016-09-23T09:03:00Z'>09:03</time></a>
&lt;<span class='nick nick-3'> wallet42</span>&gt;
and its obviously heavily dispropotionate towards the recent blocks
<br>
</div>

<div class='talk op-msg' data-timestamp='1474621500' id='496190'>
<a class='timestamp' href='#496190'><time timestamp='2016-09-23T09:05:00Z'>09:05</time></a>
&lt;<span class='nick nick-3'> wallet42</span>&gt;
if you can configure the node to only serve the last 2 weeks (especially with the NODE_BLOOM overhead) it makes it cheaper. also 2 weeks of blocks can be held completly in RAM/mmap so running the bloom filter doesnt even requires HDD/SDD access
<br>
</div>

<div class='talk op-msg' data-timestamp='1474621500' id='496191'>
<a class='timestamp' href='#496191'><time timestamp='2016-09-23T09:05:00Z'>09:05</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
yes, but there is no shortage of dumb servers that serve the full chain anyway
<br>
</div>

<div class='talk op-msg' data-timestamp='1474621680' id='496192'>
<a class='timestamp' href='#496192'><time timestamp='2016-09-23T09:08:00Z'>09:08</time></a>
&lt;<span class='nick nick-11'> blaker</span>&gt;
hi bitcoin core devs. I am at a conference where a talk later today called &#x27;exploiting trust in deterministic builds&#x27; is going to be presented. Since you use reproducible builds maybe it is of interest. paper should be available via springer
<br>
</div>

<div class='talk op-msg' data-timestamp='1474623360' id='496193'>
<a class='timestamp' href='#496193'><time timestamp='2016-09-23T09:36:00Z'>09:36</time></a>
&lt;<span class='nick nick-11'> jl2012</span>&gt;
It seems #8499 is considered as a blocker for 0.13.1. Could I do anything to make the review easier?
<br>
</div>

<div class='talk op-msg' data-timestamp='1474627020' id='496194'>
<a class='timestamp' href='#496194'><time timestamp='2016-09-23T10:37:00Z'>10:37</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
gmaxwell: it ended up where most of my projects go, unfortunately. to the long backlog, I still intend to do it some time. Or anyone else can pick it up if they want.
<br>
</div>

<div class='talk op-msg' data-timestamp='1474627500' id='496195'>
<a class='timestamp' href='#496195'><time timestamp='2016-09-23T10:45:00Z'>10:45</time></a>
&lt;<span class='nick nick-2'> GitHub132</span>&gt;
[bitcoin] laanwj pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/2b514aa2eae6...5d0219d983b6" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/2b514aa2eae6...5d0219d983b6</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1474627500' id='496196'>
<a class='timestamp' href='#496196'><time timestamp='2016-09-23T10:45:00Z'>10:45</time></a>
&lt;<span class='nick nick-2'> GitHub132</span>&gt;
bitcoin/master f839350 Pavel Janík: Do not shadow in src/qt
<br>
</div>

<div class='talk op-msg' data-timestamp='1474627500' id='496197'>
<a class='timestamp' href='#496197'><time timestamp='2016-09-23T10:45:00Z'>10:45</time></a>
&lt;<span class='nick nick-2'> GitHub132</span>&gt;
bitcoin/master 5d0219d Wladimir J. van der Laan: Merge #8793: Do not shadow in src/qt...
<br>
</div>

<div class='talk op-msg' data-timestamp='1474627500' id='496198'>
<a class='timestamp' href='#496198'><time timestamp='2016-09-23T10:45:00Z'>10:45</time></a>
&lt;<span class='nick nick-15'> GitHub128</span>&gt;
[bitcoin] laanwj closed pull request #8793: Do not shadow in src/qt (master...20160922_Wshadow_qt) <a href="https://github.com/bitcoin/bitcoin/pull/8793" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8793</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1474628100' id='496199'>
<a class='timestamp' href='#496199'><time timestamp='2016-09-23T10:55:00Z'>10:55</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
wallet42: there have been various ideas for doing some kind of sharding they all have issues though
<br>
</div>

<div class='talk op-msg' data-timestamp='1474628100' id='496200'>
<a class='timestamp' href='#496200'><time timestamp='2016-09-23T10:55:00Z'>10:55</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
you really dont want to rebalance constantly
<br>
</div>

<div class='talk op-msg' data-timestamp='1474628100' id='496201'>
<a class='timestamp' href='#496201'><time timestamp='2016-09-23T10:55:00Z'>10:55</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
but you also dont want the blocks a node stores to be based on when it joined the network
<br>
</div>

<div class='talk op-msg' data-timestamp='1474628160' id='496202'>
<a class='timestamp' href='#496202'><time timestamp='2016-09-23T10:56:00Z'>10:56</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
achieving both goals turns out to be non trivial
<br>
</div>

<div class='talk op-msg' data-timestamp='1474628220' id='496203'>
<a class='timestamp' href='#496203'><time timestamp='2016-09-23T10:57:00Z'>10:57</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i&#x27;ve been keeping statistics on the depth of blocks being requested from my node
<br>
</div>

<div class='talk op-msg' data-timestamp='1474628220' id='496204'>
<a class='timestamp' href='#496204'><time timestamp='2016-09-23T10:57:00Z'>10:57</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
the tip is of course by far the most requested (though i&#x27;m not counting CB HB mode sends)
<br>
</div>

<div class='talk op-msg' data-timestamp='1474628280' id='496205'>
<a class='timestamp' href='#496205'><time timestamp='2016-09-23T10:58:00Z'>10:58</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but after about 2 months deep the distribution is almost uniform down to genesis
<br>
</div>

<div class='talk op-msg' data-timestamp='1474628280' id='496206'>
<a class='timestamp' href='#496206'><time timestamp='2016-09-23T10:58:00Z'>10:58</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
how long have you been keeping statistics? (2 months? :P)
<br>
</div>

<div class='talk op-msg' data-timestamp='1474628340' id='496207'>
<a class='timestamp' href='#496207'><time timestamp='2016-09-23T10:59:00Z'>10:59</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
eh, yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1474628340' id='496208'>
<a class='timestamp' href='#496208'><time timestamp='2016-09-23T10:59:00Z'>10:59</time></a>
&lt;<span class='nick nick-14'> * luke-jr</span>&gt;
curious what it will look like 3 months from now
<br>
</div>

<div class='talk op-msg' data-timestamp='1474628340' id='496209'>
<a class='timestamp' href='#496209'><time timestamp='2016-09-23T10:59:00Z'>10:59</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but the numbers i&#x27;m aggregating are for the block depth compared to the tip at the time it was requested
<br>
</div>

<div class='talk op-msg' data-timestamp='1474628340' id='496210'>
<a class='timestamp' href='#496210'><time timestamp='2016-09-23T10:59:00Z'>10:59</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
oh, hm
<br>
</div>

<div class='talk op-msg' data-timestamp='1474628340' id='496211'>
<a class='timestamp' href='#496211'><time timestamp='2016-09-23T10:59:00Z'>10:59</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
not absolute height
<br>
</div>

<div class='talk op-msg' data-timestamp='1474628520' id='496212'>
<a class='timestamp' href='#496212'><time timestamp='2016-09-23T11:02:00Z'>11:02</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it&#x27;s much more spread out than i had anticipated, actually
<br>
</div>

<div class='talk op-msg' data-timestamp='1474628520' id='496213'>
<a class='timestamp' href='#496213'><time timestamp='2016-09-23T11:02:00Z'>11:02</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
this implies that a lot of people sync while being 1-2 months behind
<br>
</div>

<div class='talk op-msg' data-timestamp='1474628520' id='496214'>
<a class='timestamp' href='#496214'><time timestamp='2016-09-23T11:02:00Z'>11:02</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
overall, it&#x27;s 7.5 million block downloads
<br>
</div>

<div class='talk op-msg' data-timestamp='1474628520' id='496215'>
<a class='timestamp' href='#496215'><time timestamp='2016-09-23T11:02:00Z'>11:02</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
so not just some random outliers
<br>
</div>

<div class='talk op-msg' data-timestamp='1474628580' id='496216'>
<a class='timestamp' href='#496216'><time timestamp='2016-09-23T11:03:00Z'>11:03</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
about 100k of which are at the tip
<br>
</div>

<div class='talk op-msg' data-timestamp='1474628820' id='496217'>
<a class='timestamp' href='#496217'><time timestamp='2016-09-23T11:07:00Z'>11:07</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and there are strange peaks around 820 deep and 1970 deep
<br>
</div>

<div class='talk op-msg' data-timestamp='1474631760' id='496218'>
<a class='timestamp' href='#496218'><time timestamp='2016-09-23T11:56:00Z'>11:56</time></a>
&lt;<span class='nick nick-8'> GitHub8</span>&gt;
[bitcoin] laanwj pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/5d0219d983b6...d2e46558ba0e" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/5d0219d983b6...d2e46558ba0e</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1474631760' id='496219'>
<a class='timestamp' href='#496219'><time timestamp='2016-09-23T11:56:00Z'>11:56</time></a>
&lt;<span class='nick nick-8'> GitHub8</span>&gt;
bitcoin/master 6d0ced1 Gregory Maxwell: Do not set an addr time penalty when a peer advertises itself....
<br>
</div>

<div class='talk op-msg' data-timestamp='1474631760' id='496220'>
<a class='timestamp' href='#496220'><time timestamp='2016-09-23T11:56:00Z'>11:56</time></a>
&lt;<span class='nick nick-8'> GitHub8</span>&gt;
bitcoin/master d2e4655 Wladimir J. van der Laan: Merge #8661: Do not set an addr time penalty when a peer advertises itself....
<br>
</div>

<div class='talk op-msg' data-timestamp='1474631760' id='496221'>
<a class='timestamp' href='#496221'><time timestamp='2016-09-23T11:56:00Z'>11:56</time></a>
&lt;<span class='nick nick-13'> GitHub141</span>&gt;
[bitcoin] laanwj closed pull request #8661: Do not set an addr time penalty when a peer advertises itself. (master...addrman_nopenalty_self) <a href="https://github.com/bitcoin/bitcoin/pull/8661" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8661</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1474636500' id='496222'>
<a class='timestamp' href='#496222'><time timestamp='2016-09-23T13:15:00Z'>13:15</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Anyone interested in reviewing the &quot;generic&quot;-statistics PR (currently mempool only)? <a href="https://github.com/bitcoin/bitcoin/pull/8501" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8501</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1474636500' id='496223'>
<a class='timestamp' href='#496223'><time timestamp='2016-09-23T13:15:00Z'>13:15</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
The GUI mempool stats are based on that PR
<br>
</div>

<div class='talk op-msg' data-timestamp='1474644720' id='496224'>
<a class='timestamp' href='#496224'><time timestamp='2016-09-23T15:32:00Z'>15:32</time></a>
&lt;<span class='nick nick-3'> dgenr8</span>&gt;
sipa: it sounds like an exponential dropoff from existing nodes syncing, plus a constant level of new nodes being spun up or reloaded
<br>
</div>

<div class='talk op-msg' data-timestamp='1474647480' id='496225'>
<a class='timestamp' href='#496225'><time timestamp='2016-09-23T16:18:00Z'>16:18</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
To bad github doesn&#x27;t allow editing a review after posting it
<br>
</div>

<div class='talk op-msg' data-timestamp='1474647540' id='496226'>
<a class='timestamp' href='#496226'><time timestamp='2016-09-23T16:19:00Z'>16:19</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
or do I miss something?
<br>
</div>

<div class='talk op-msg' data-timestamp='1474647540' id='496227'>
<a class='timestamp' href='#496227'><time timestamp='2016-09-23T16:19:00Z'>16:19</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
jonasschnelli: nope, not missing anything.
<br>
</div>

<div class='talk op-msg' data-timestamp='1474647540' id='496228'>
<a class='timestamp' href='#496228'><time timestamp='2016-09-23T16:19:00Z'>16:19</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
hmm.. I hope they will add this soon
<br>
</div>

<div class='talk op-msg' data-timestamp='1474647780' id='496229'>
<a class='timestamp' href='#496229'><time timestamp='2016-09-23T16:23:00Z'>16:23</time></a>
&lt;<span class='nick nick-10'> GitHub48</span>&gt;
[bitcoin] jonasschnelli pushed 8 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/d2e46558ba0e...24f72e9f3fd0" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/d2e46558ba0e...24f72e9f3fd0</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1474647780' id='496230'>
<a class='timestamp' href='#496230'><time timestamp='2016-09-23T16:23:00Z'>16:23</time></a>
&lt;<span class='nick nick-10'> GitHub48</span>&gt;
bitcoin/master 0904c3c Jonas Schnelli: [Refactor] refactor function that forms human readable text out of a timeoffset
<br>
</div>

<div class='talk op-msg' data-timestamp='1474647780' id='496231'>
<a class='timestamp' href='#496231'><time timestamp='2016-09-23T16:23:00Z'>16:23</time></a>
&lt;<span class='nick nick-10'> GitHub48</span>&gt;
bitcoin/master bd44a04 Jonas Schnelli: [Qt] make Out-Of-Sync warning icon clickable
<br>
</div>

<div class='talk op-msg' data-timestamp='1474647780' id='496232'>
<a class='timestamp' href='#496232'><time timestamp='2016-09-23T16:23:00Z'>16:23</time></a>
&lt;<span class='nick nick-10'> GitHub48</span>&gt;
bitcoin/master a001f18 Jonas Schnelli: [Qt] Always pass the numBlocksChanged signal for headers tip changed
<br>
</div>

<div class='talk op-msg' data-timestamp='1474647780' id='496233'>
<a class='timestamp' href='#496233'><time timestamp='2016-09-23T16:23:00Z'>16:23</time></a>
&lt;<span class='nick nick-11'> GitHub168</span>&gt;
[bitcoin] jonasschnelli closed pull request #8371: [Qt] Add out-of-sync modal info layer (master...2016/07/UI-out-of-sync) <a href="https://github.com/bitcoin/bitcoin/pull/8371" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8371</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1474648860' id='496234'>
<a class='timestamp' href='#496234'><time timestamp='2016-09-23T16:41:00Z'>16:41</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
cfields: gentle ping
<br>
</div>

<div class='talk op-msg' data-timestamp='1474648860' id='496235'>
<a class='timestamp' href='#496235'><time timestamp='2016-09-23T16:41:00Z'>16:41</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
morcos: pong
<br>
</div>

<div class='talk op-msg' data-timestamp='1474648860' id='496236'>
<a class='timestamp' href='#496236'><time timestamp='2016-09-23T16:41:00Z'>16:41</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
just wanted to follow up on the copy-move
<br>
</div>

<div class='talk op-msg' data-timestamp='1474648920' id='496237'>
<a class='timestamp' href='#496237'><time timestamp='2016-09-23T16:42:00Z'>16:42</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
i thought you had already had move to prevector though in that branch?
<br>
</div>

<div class='talk op-msg' data-timestamp='1474648920' id='496238'>
<a class='timestamp' href='#496238'><time timestamp='2016-09-23T16:42:00Z'>16:42</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
morcos: i messed with the move stuff yesterday. I can push my changes if you&#x27;d like, but i traced through to see where it&#x27;s called (I put asserts in the moves), and they&#x27;re almost zero
<br>
</div>

<div class='talk op-msg' data-timestamp='1474648920' id='496239'>
<a class='timestamp' href='#496239'><time timestamp='2016-09-23T16:42:00Z'>16:42</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
ah, so we need to make moves of transactions or scripts or something?
<br>
</div>

<div class='talk op-msg' data-timestamp='1474648920' id='496240'>
<a class='timestamp' href='#496240'><time timestamp='2016-09-23T16:42:00Z'>16:42</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
morcos: so i think if there&#x27;s any benefit that you&#x27;re seeing, it&#x27;s probably in a very subtle change:
<br>
</div>

<div class='talk op-msg' data-timestamp='1474648980' id='496241'>
<a class='timestamp' href='#496241'><time timestamp='2016-09-23T16:43:00Z'>16:43</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
morcos: that&#x27;s what i did in the commit, so they&#x27;re all movable now. but, we&#x27;re pretty good about not doing that
<br>
</div>

<div class='talk op-msg' data-timestamp='1474648980' id='496242'>
<a class='timestamp' href='#496242'><time timestamp='2016-09-23T16:43:00Z'>16:43</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
(there are .swap()s all over the place)
<br>
</div>

<div class='talk op-msg' data-timestamp='1474648980' id='496243'>
<a class='timestamp' href='#496243'><time timestamp='2016-09-23T16:43:00Z'>16:43</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
its a clear benefit, but unfortunately in one of the vagaries of this stuff, the benefit is reduced with jeremy&#x27;s replacement for the boost lockfree queue.  not sure why in the world that would be the case
<br>
</div>

<div class='talk op-msg' data-timestamp='1474649040' id='496244'>
<a class='timestamp' href='#496244'><time timestamp='2016-09-23T16:44:00Z'>16:44</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
where are the few places its called?
<br>
</div>

<div class='talk op-msg' data-timestamp='1474649040' id='496245'>
<a class='timestamp' href='#496245'><time timestamp='2016-09-23T16:44:00Z'>16:44</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
i have few possible explanations there
<br>
</div>

<div class='talk op-msg' data-timestamp='1474649040' id='496246'>
<a class='timestamp' href='#496246'><time timestamp='2016-09-23T16:44:00Z'>16:44</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
brb 2 min
<br>
</div>

<div class='talk op-msg' data-timestamp='1474649280' id='496247'>
<a class='timestamp' href='#496247'><time timestamp='2016-09-23T16:48:00Z'>16:48</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
morcos: ok, back. First let me push up those changes so we can be sure we&#x27;re comparing the same things. 1 min.
<br>
</div>

<div class='talk op-msg' data-timestamp='1474649760' id='496248'>
<a class='timestamp' href='#496248'><time timestamp='2016-09-23T16:56:00Z'>16:56</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
morcos: sigh. as usual, i had my wires crossed. I was looking at the wrong branch. Yea, the moves are already in there so you&#x27;re already testing with that
<br>
</div>

<div class='talk op-msg' data-timestamp='1474649820' id='496249'>
<a class='timestamp' href='#496249'><time timestamp='2016-09-23T16:57:00Z'>16:57</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
apparently i re-did that yesterday with no memory of doing it the first time...
<br>
</div>

<div class='talk op-msg' data-timestamp='1474649820' id='496250'>
<a class='timestamp' href='#496250'><time timestamp='2016-09-23T16:57:00Z'>16:57</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
cfields: np. but do you still think it shouldn&#x27;t be much improvement? 
<br>
</div>

<div class='talk op-msg' data-timestamp='1474649820' id='496251'>
<a class='timestamp' href='#496251'><time timestamp='2016-09-23T16:57:00Z'>16:57</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
oh no
<br>
</div>

<div class='talk op-msg' data-timestamp='1474649820' id='496252'>
<a class='timestamp' href='#496252'><time timestamp='2016-09-23T16:57:00Z'>16:57</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
ha     
<br>
</div>

<div class='talk op-msg' data-timestamp='1474649880' id='496253'>
<a class='timestamp' href='#496253'><time timestamp='2016-09-23T16:58:00Z'>16:58</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
morcos: i don&#x27;t think there are many moves, no. I think jeremy&#x27;s code might&#x27;ve gotten rid of the few that are there. sec
<br>
</div>

<div class='talk op-msg' data-timestamp='1474650120' id='496254'>
<a class='timestamp' href='#496254'><time timestamp='2016-09-23T17:02:00Z'>17:02</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
hm, maybe not. looks like it just saves on allocation
<br>
</div>

<div class='talk op-msg' data-timestamp='1474650240' id='496255'>
<a class='timestamp' href='#496255'><time timestamp='2016-09-23T17:04:00Z'>17:04</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
morcos: it should be pretty easy to compare copies/moves before/after the checkqueue changes. We could just add static incrementors for all copies and moves and see how they change
<br>
</div>

<div class='talk op-msg' data-timestamp='1474650240' id='496256'>
<a class='timestamp' href='#496256'><time timestamp='2016-09-23T17:04:00Z'>17:04</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
morcos: do you have a specific bench you&#x27;ve been using to test?
<br>
</div>

<div class='talk op-msg' data-timestamp='1474650420' id='496257'>
<a class='timestamp' href='#496257'><time timestamp='2016-09-23T17:07:00Z'>17:07</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
cfields: sorry i wasn&#x27;t clear.  it wasn&#x27;t the checkqueue changes.  it was the sigcache lock contention fix.  i had been using a boost lockfree queue and jeremy wrote a custom &quot;cuckoo cache&quot; which i like the design of a lot
<br>
</div>

<div class='talk op-msg' data-timestamp='1474650480' id='496258'>
<a class='timestamp' href='#496258'><time timestamp='2016-09-23T17:08:00Z'>17:08</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
without your copy/move changes they are equivalent , but with, the boost lock free queue improves more
<br>
</div>

<div class='talk op-msg' data-timestamp='1474650480' id='496259'>
<a class='timestamp' href='#496259'><time timestamp='2016-09-23T17:08:00Z'>17:08</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
very odd
<br>
</div>

<div class='talk op-msg' data-timestamp='1474650480' id='496260'>
<a class='timestamp' href='#496260'><time timestamp='2016-09-23T17:08:00Z'>17:08</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
should be unrelated i think
<br>
</div>

<div class='talk op-msg' data-timestamp='1474650480' id='496261'>
<a class='timestamp' href='#496261'><time timestamp='2016-09-23T17:08:00Z'>17:08</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
anyway, don&#x27;t worry about it
<br>
</div>

<div class='talk op-msg' data-timestamp='1474650480' id='496262'>
<a class='timestamp' href='#496262'><time timestamp='2016-09-23T17:08:00Z'>17:08</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
only thing that would be useful if you could point me to where the moves happen the most..  but i&#x27;m going down 3 other rabbit holes at the moment, so don&#x27;t get distracted from whatever you&#x27;re doing
<br>
</div>

<div class='talk op-msg' data-timestamp='1474650480' id='496263'>
<a class='timestamp' href='#496263'><time timestamp='2016-09-23T17:08:00Z'>17:08</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
oh, i see. Sounds like you had some copies/moves in your boost branch, then
<br>
</div>

<div class='talk op-msg' data-timestamp='1474650540' id='496264'>
<a class='timestamp' href='#496264'><time timestamp='2016-09-23T17:09:00Z'>17:09</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
cuckoo cache, sounds fancy!
<br>
</div>

<div class='talk op-msg' data-timestamp='1474650600' id='496265'>
<a class='timestamp' href='#496265'><time timestamp='2016-09-23T17:10:00Z'>17:10</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
sipa: it&#x27;s cool!
<br>
</div>

<div class='talk op-msg' data-timestamp='1474650660' id='496266'>
<a class='timestamp' href='#496266'><time timestamp='2016-09-23T17:11:00Z'>17:11</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i know cuckoo hashtables
<br>
</div>

<div class='talk op-msg' data-timestamp='1474650660' id='496267'>
<a class='timestamp' href='#496267'><time timestamp='2016-09-23T17:11:00Z'>17:11</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it is related?
<br>
</div>

<div class='talk op-msg' data-timestamp='1474650660' id='496268'>
<a class='timestamp' href='#496268'><time timestamp='2016-09-23T17:11:00Z'>17:11</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
yep     
<br>
</div>

<div class='talk op-msg' data-timestamp='1474650840' id='496269'>
<a class='timestamp' href='#496269'><time timestamp='2016-09-23T17:14:00Z'>17:14</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
morcos: i believe the only hot move is in the checkqueue. <a href="https://github.com/bitcoin/bitcoin/blob/master/src/checkqueue.h#L150" class="link" target="_blank">https://github.com/bitcoin/bitcoin/blob/master/src/checkqueue.h#L150</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1474650840' id='496270'>
<a class='timestamp' href='#496270'><time timestamp='2016-09-23T17:14:00Z'>17:14</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
and obviously that&#x27;s not very significant
<br>
</div>

<div class='talk op-msg' data-timestamp='1474650900' id='496271'>
<a class='timestamp' href='#496271'><time timestamp='2016-09-23T17:15:00Z'>17:15</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
cool thx
<br>
</div>

<div class='talk op-msg' data-timestamp='1474651080' id='496272'>
<a class='timestamp' href='#496272'><time timestamp='2016-09-23T17:18:00Z'>17:18</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
morcos: and here are my changes to make the moves go away: <a href="http://pastebin.com/raw/LpGPzjFu" class="link" target="_blank">http://pastebin.com/raw/LpGPzjFu</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1474651140' id='496273'>
<a class='timestamp' href='#496273'><time timestamp='2016-09-23T17:19:00Z'>17:19</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
the emplace in CheckInputs could be significant if don&#x27;t have something like that in your branch already
<br>
</div>

<div class='talk op-msg' data-timestamp='1474654680' id='496274'>
<a class='timestamp' href='#496274'><time timestamp='2016-09-23T18:18:00Z'>18:18</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
ls     
<br>
</div>

<div class='talk op-msg' data-timestamp='1474654680' id='496275'>
<a class='timestamp' href='#496275'><time timestamp='2016-09-23T18:18:00Z'>18:18</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
oops
<br>
</div>

<div class='talk op-msg' data-timestamp='1474654680' id='496276'>
<a class='timestamp' href='#496276'><time timestamp='2016-09-23T18:18:00Z'>18:18</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
cfields: that code already exists on his branch
<br>
</div>

<div class='talk op-msg' data-timestamp='1474655220' id='496277'>
<a class='timestamp' href='#496277'><time timestamp='2016-09-23T18:27:00Z'>18:27</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
sipa: if you don&#x27;t know, i&#x27;ll try to figure it out.  But among the consequences of the txChanged PR that made syncWithWallets happen in ActivateBestChain instead of ConnectTip, is you could get a reordering of when SyncWithWallets is called on various txs
<br>
</div>

<div class='talk op-msg' data-timestamp='1474655280' id='496278'>
<a class='timestamp' href='#496278'><time timestamp='2016-09-23T18:28:00Z'>18:28</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
For instance if during the processing of ABC, you both connect tips and disconnect them trying to find the longest valid chain...  for all the connects you&#x27;ll be building up syncWithWallets to call at the end and for all the disconnects you&#x27;ll be calling SyncWithWallets as you go
<br>
</div>

<div class='talk op-msg' data-timestamp='1474655340' id='496279'>
<a class='timestamp' href='#496279'><time timestamp='2016-09-23T18:29:00Z'>18:29</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
i don&#x27;t have a good mental model for how SyncWithWallets should be used
<br>
</div>

<div class='talk op-msg' data-timestamp='1474655340' id='496280'>
<a class='timestamp' href='#496280'><time timestamp='2016-09-23T18:29:00Z'>18:29</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
perhaps i should be asking jonasschnelli 
<br>
</div>

<div class='talk op-msg' data-timestamp='1474656420' id='496281'>
<a class='timestamp' href='#496281'><time timestamp='2016-09-23T18:47:00Z'>18:47</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
jeremyrubin: ah, thanks
<br>
</div>

<div class='talk op-msg' data-timestamp='1474656720' id='496282'>
<a class='timestamp' href='#496282'><time timestamp='2016-09-23T18:52:00Z'>18:52</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
sipa: jonasschnelli: well, as far as i can tell it seems ok i guess..  but i don&#x27;t know how to be very confident
<br>
</div>

<div class='talk op-msg' data-timestamp='1474660200' id='496283'>
<a class='timestamp' href='#496283'><time timestamp='2016-09-23T19:50:00Z'>19:50</time></a>
&lt;<span class='nick nick-14'> GitHub166</span>&gt;
[bitcoin] tjps opened pull request #8801: [trivial] Switching from Boost for-each macros to C++11 for-each (master...tjps_foreach) <a href="https://github.com/bitcoin/bitcoin/pull/8801" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8801</a>
<br>
</div>

</div>
</section>

</body>
</html>
