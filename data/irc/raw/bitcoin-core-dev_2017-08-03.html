<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2017-08-03
 — 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2017-08-03' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:23 UTC</pre>
<pre><a href="/bitcoin-core-dev/2017-07-03">&lt;</a><span class='header'>   August 2017    </span><a href="/bitcoin-core-dev/2017-09-03">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;       <a class="" href="/bitcoin-core-dev/2017-08-01">1</a>  <a class="" href="/bitcoin-core-dev/2017-08-02">2</a>  <a class="current" href="/bitcoin-core-dev/2017-08-03">3</a>  <a class="" href="/bitcoin-core-dev/2017-08-04">4</a>  <a class="" href="/bitcoin-core-dev/2017-08-05">5</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2017-08-06">6</a>  <a class="" href="/bitcoin-core-dev/2017-08-07">7</a>  <a class="" href="/bitcoin-core-dev/2017-08-08">8</a>  <a class="" href="/bitcoin-core-dev/2017-08-09">9</a> <a class="" href="/bitcoin-core-dev/2017-08-10">10</a> <a class="" href="/bitcoin-core-dev/2017-08-11">11</a> <a class="" href="/bitcoin-core-dev/2017-08-12">12</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2017-08-13">13</a> <a class="" href="/bitcoin-core-dev/2017-08-14">14</a> <a class="" href="/bitcoin-core-dev/2017-08-15">15</a> <a class="" href="/bitcoin-core-dev/2017-08-16">16</a> <a class="" href="/bitcoin-core-dev/2017-08-17">17</a> <a class="" href="/bitcoin-core-dev/2017-08-18">18</a> <a class="" href="/bitcoin-core-dev/2017-08-19">19</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2017-08-20">20</a> <a class="" href="/bitcoin-core-dev/2017-08-21">21</a> <a class="" href="/bitcoin-core-dev/2017-08-22">22</a> <a class="" href="/bitcoin-core-dev/2017-08-23">23</a> <a class="" href="/bitcoin-core-dev/2017-08-24">24</a> <a class="" href="/bitcoin-core-dev/2017-08-25">25</a> <a class="" href="/bitcoin-core-dev/2017-08-26">26</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2017-08-27">27</a> <a class="" href="/bitcoin-core-dev/2017-08-28">28</a> <a class="" href="/bitcoin-core-dev/2017-08-29">29</a> <a class="" href="/bitcoin-core-dev/2017-08-30">30</a> <a class="" href="/bitcoin-core-dev/2017-08-31">31</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1501718400' id='561614'>
<a class='timestamp' href='#561614'><time timestamp='2017-08-03T00:00:00Z'>00:00</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
#10882 is squashed and ready for reACK/merge
<br>
</div>

<div class='talk op-msg' data-timestamp='1501718400' id='561615'>
<a class='timestamp' href='#561615'><time timestamp='2017-08-03T00:00:00Z'>00:00</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/10882" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/10882</a> | Keypool topup by jnewbery · Pull Request #10882 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1501718460' id='561616'>
<a class='timestamp' href='#561616'><time timestamp='2017-08-03T00:01:00Z'>00:01</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jnewbery: thanks!
<br>
</div>

<div class='talk op-msg' data-timestamp='1501724940' id='561617'>
<a class='timestamp' href='#561617'><time timestamp='2017-08-03T01:49:00Z'>01:49</time></a>
&lt;<span class='nick nick-16'> james0909</span>&gt;
hi, i&#x27;m having an issue with core, could someone help?
<br>
</div>

<div class='talk op-msg' data-timestamp='1501725060' id='561618'>
<a class='timestamp' href='#561618'><time timestamp='2017-08-03T01:51:00Z'>01:51</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
james0909, #bitcoin please, someone can help there
<br>
</div>

<div class='talk op-msg' data-timestamp='1501728420' id='561619'>
<a class='timestamp' href='#561619'><time timestamp='2017-08-03T02:47:00Z'>02:47</time></a>
&lt;<span class='nick nick-3'> praxeology</span>&gt;
Would it be worth adding some ECC to chainstate and the block index?  Maybe running a memtest before the first synch?
<br>
</div>

<div class='talk op-msg' data-timestamp='1501728420' id='561620'>
<a class='timestamp' href='#561620'><time timestamp='2017-08-03T02:47:00Z'>02:47</time></a>
&lt;<span class='nick nick-3'> praxeology</span>&gt;
Memtest could auto start on the first synch from genesis... but be skippable
<br>
</div>

<div class='talk op-msg' data-timestamp='1501728480' id='561621'>
<a class='timestamp' href='#561621'><time timestamp='2017-08-03T02:48:00Z'>02:48</time></a>
&lt;<span class='nick nick-3'> praxeology</span>&gt;
Although... sure memtest is better to be done w/ something like Memtest86+
<br>
</div>

<div class='talk op-msg' data-timestamp='1501732500' id='561622'>
<a class='timestamp' href='#561622'><time timestamp='2017-08-03T03:55:00Z'>03:55</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
praxeology: error correction wouldn&#x27;t really help unless it was very very high overhead.
<br>
</div>

<div class='talk op-msg' data-timestamp='1501732980' id='561623'>
<a class='timestamp' href='#561623'><time timestamp='2017-08-03T04:03:00Z'>04:03</time></a>
&lt;<span class='nick nick-3'> praxeology</span>&gt;
I guess I wasn&#x27;t really calling for error correction, more error detection.  But yea I guess it already does detect an error eventually
<br>
</div>

<div class='talk op-msg' data-timestamp='1501733040' id='561624'>
<a class='timestamp' href='#561624'><time timestamp='2017-08-03T04:04:00Z'>04:04</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
There is error detection.
<br>
</div>

<div class='talk op-msg' data-timestamp='1501733160' id='561625'>
<a class='timestamp' href='#561625'><time timestamp='2017-08-03T04:06:00Z'>04:06</time></a>
&lt;<span class='nick nick-3'> praxeology</span>&gt;
Maybe if the client gets stuck on an old block, it should suggest to the user that maybe its database is corrupted... and give some suggestions on what to do about it
<br>
</div>

<div class='talk op-msg' data-timestamp='1501733520' id='561626'>
<a class='timestamp' href='#561626'><time timestamp='2017-08-03T04:12:00Z'>04:12</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it does
<br>
</div>

<div class='talk op-msg' data-timestamp='1501733520' id='561627'>
<a class='timestamp' href='#561627'><time timestamp='2017-08-03T04:12:00Z'>04:12</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and asks if you want to reindex
<br>
</div>

<div class='talk op-msg' data-timestamp='1501733880' id='561628'>
<a class='timestamp' href='#561628'><time timestamp='2017-08-03T04:18:00Z'>04:18</time></a>
&lt;<span class='nick nick-3'> praxeology</span>&gt;
ok.  james0909 in #bitcoin said his error log said...  &quot;ERROR: invalid header received 2017-08-03 01:48:18 ProcessMessages(headers, 11422 bytes) FAILED peer=38&quot;?  and his tip was stuck at 478645.  
<br>
</div>

<div class='talk op-msg' data-timestamp='1501733880' id='561629'>
<a class='timestamp' href='#561629'><time timestamp='2017-08-03T04:18:00Z'>04:18</time></a>
&lt;<span class='nick nick-3'> praxeology</span>&gt;
But he didn&#x27;t say anything about it asking him to reindex... although he did ask if he should reindex.
<br>
</div>

<div class='talk op-msg' data-timestamp='1501733940' id='561630'>
<a class='timestamp' href='#561630'><time timestamp='2017-08-03T04:19:00Z'>04:19</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
praxeology: why do you think there is corruption...
<br>
</div>

<div class='talk op-msg' data-timestamp='1501734000' id='561631'>
<a class='timestamp' href='#561631'><time timestamp='2017-08-03T04:20:00Z'>04:20</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
praxeology: the invalid headers messages are bcash nodes getting banned. And he may not catch up if he&#x27;s been offline until the next block if the peer he picked for the initial header sync was broken or malicious.
<br>
</div>

<div class='talk op-msg' data-timestamp='1501734060' id='561632'>
<a class='timestamp' href='#561632'><time timestamp='2017-08-03T04:21:00Z'>04:21</time></a>
&lt;<span class='nick nick-3'> praxeology</span>&gt;
he said he tried connecting to other peers.
<br>
</div>

<div class='talk op-msg' data-timestamp='1501734060' id='561633'>
<a class='timestamp' href='#561633'><time timestamp='2017-08-03T04:21:00Z'>04:21</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
what does that even mean
<br>
</div>

<div class='talk op-msg' data-timestamp='1501734060' id='561634'>
<a class='timestamp' href='#561634'><time timestamp='2017-08-03T04:21:00Z'>04:21</time></a>
&lt;<span class='nick nick-3'> praxeology</span>&gt;
I guess I didn&#x27;t confirm that he actually connected to a known good peer
<br>
</div>

<div class='talk op-msg' data-timestamp='1501734120' id='561635'>
<a class='timestamp' href='#561635'><time timestamp='2017-08-03T04:22:00Z'>04:22</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
doesn&#x27;t matter f he is &#x27;connected&#x27; to a good peer, he won&#x27;t continue syncing until there is a new block.
<br>
</div>

<div class='talk op-msg' data-timestamp='1501734120' id='561636'>
<a class='timestamp' href='#561636'><time timestamp='2017-08-03T04:22:00Z'>04:22</time></a>
&lt;<span class='nick nick-3'> praxeology</span>&gt;
oh.  I didn&#x27;t know that
<br>
</div>

<div class='talk op-msg' data-timestamp='1501734120' id='561637'>
<a class='timestamp' href='#561637'><time timestamp='2017-08-03T04:22:00Z'>04:22</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(if he was behind and the peer he elected for initial headers was bogus)
<br>
</div>

<div class='talk op-msg' data-timestamp='1501734120' id='561638'>
<a class='timestamp' href='#561638'><time timestamp='2017-08-03T04:22:00Z'>04:22</time></a>
&lt;<span class='nick nick-3'> praxeology</span>&gt;
So he needs to be connected to a good peer while a new block comes in
<br>
</div>

<div class='talk op-msg' data-timestamp='1501734180' id='561639'>
<a class='timestamp' href='#561639'><time timestamp='2017-08-03T04:23:00Z'>04:23</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
praxeology: sure, just doing nothing will do that with very high likelyhood since it&#x27;ll be connected to at least 8 peers.
<br>
</div>

<div class='talk op-msg' data-timestamp='1501734240' id='561640'>
<a class='timestamp' href='#561640'><time timestamp='2017-08-03T04:24:00Z'>04:24</time></a>
&lt;<span class='nick nick-3'> praxeology</span>&gt;
when bitcoin starts up, it only chooses one peer to ask for latest headers?
<br>
</div>

<div class='talk op-msg' data-timestamp='1501734240' id='561641'>
<a class='timestamp' href='#561641'><time timestamp='2017-08-03T04:24:00Z'>04:24</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
praxeology: yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1501734240' id='561642'>
<a class='timestamp' href='#561642'><time timestamp='2017-08-03T04:24:00Z'>04:24</time></a>
&lt;<span class='nick nick-3'> praxeology</span>&gt;
and if that fails... it doesn&#x27;t ask another?
<br>
</div>

<div class='talk op-msg' data-timestamp='1501734240' id='561643'>
<a class='timestamp' href='#561643'><time timestamp='2017-08-03T04:24:00Z'>04:24</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
praxeology: right, and if doesn&#x27;t give all of them it won&#x27;t learn that it&#x27;s behind until someone else advertises a block.
<br>
</div>

<div class='talk op-msg' data-timestamp='1501734240' id='561644'>
<a class='timestamp' href='#561644'><time timestamp='2017-08-03T04:24:00Z'>04:24</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
praxeology: in 0.15, there will be a timeout on that request
<br>
</div>

<div class='talk op-msg' data-timestamp='1501734240' id='561645'>
<a class='timestamp' href='#561645'><time timestamp='2017-08-03T04:24:00Z'>04:24</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
it can&#x27;t tell when it &#x27;fails&#x27;
<br>
</div>

<div class='talk op-msg' data-timestamp='1501734240' id='561646'>
<a class='timestamp' href='#561646'><time timestamp='2017-08-03T04:24:00Z'>04:24</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
except for a total timeout, which sdaftuar notes is detected in 0.15
<br>
</div>

<div class='talk op-msg' data-timestamp='1501734300' id='561647'>
<a class='timestamp' href='#561647'><time timestamp='2017-08-03T04:25:00Z'>04:25</time></a>
&lt;<span class='nick nick-3'> praxeology</span>&gt;
hm, well if the time of his last block is really old... or if the peer he is asking has a different tip...
<br>
</div>

<div class='talk op-msg' data-timestamp='1501734300' id='561648'>
<a class='timestamp' href='#561648'><time timestamp='2017-08-03T04:25:00Z'>04:25</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
praxeology: different tip than what
<br>
</div>

<div class='talk op-msg' data-timestamp='1501734360' id='561649'>
<a class='timestamp' href='#561649'><time timestamp='2017-08-03T04:26:00Z'>04:26</time></a>
&lt;<span class='nick nick-3'> praxeology</span>&gt;
if your own node has a different tip than the one you are requesting the latest headers from
<br>
</div>

<div class='talk op-msg' data-timestamp='1501734360' id='561650'>
<a class='timestamp' href='#561650'><time timestamp='2017-08-03T04:26:00Z'>04:26</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
praxeology: of course its different or fetching headers from it was pointless...
<br>
</div>

<div class='talk op-msg' data-timestamp='1501734360' id='561651'>
<a class='timestamp' href='#561651'><time timestamp='2017-08-03T04:26:00Z'>04:26</time></a>
&lt;<span class='nick nick-3'> praxeology</span>&gt;
like, their tip is in a different chain or behind or something
<br>
</div>

<div class='talk op-msg' data-timestamp='1501734420' id='561652'>
<a class='timestamp' href='#561652'><time timestamp='2017-08-03T04:27:00Z'>04:27</time></a>
&lt;<span class='nick nick-3'> praxeology</span>&gt;
bah ok you right
<br>
</div>

<div class='talk op-msg' data-timestamp='1501734420' id='561653'>
<a class='timestamp' href='#561653'><time timestamp='2017-08-03T04:27:00Z'>04:27</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
you don&#x27;t request headers from a peer who is on a less-work chain than your tip
<br>
</div>

<div class='talk op-msg' data-timestamp='1501734420' id='561654'>
<a class='timestamp' href='#561654'><time timestamp='2017-08-03T04:27:00Z'>04:27</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
And any countermeasure has to not do things like terminate a long header sync from a valid peer just because it&#x27;s a lot of data... otherwise a newly syncing node could get stuck if it&#x27;s link was too low in bandwidth.
<br>
</div>

<div class='talk op-msg' data-timestamp='1501734480' id='561655'>
<a class='timestamp' href='#561655'><time timestamp='2017-08-03T04:28:00Z'>04:28</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
actually, i said that wrong.  you don&#x27;t request blocks from such a peer 
<br>
</div>

<div class='talk op-msg' data-timestamp='1501734600' id='561656'>
<a class='timestamp' href='#561656'><time timestamp='2017-08-03T04:30:00Z'>04:30</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
praxeology: there are a bunch of places we could improve responsiveness by punting less helpful peers, but such rules require just a lot of care because false positives are potententially severe attack vectors.
<br>
</div>

<div class='talk op-msg' data-timestamp='1501734900' id='561657'>
<a class='timestamp' href='#561657'><time timestamp='2017-08-03T04:35:00Z'>04:35</time></a>
&lt;<span class='nick nick-3'> praxeology</span>&gt;
alright... well, its unfortunate I misdiagnosed the guy&#x27;s issue.  Thanks for the help.  Hopefully he will come back and ask again on #bitcoin and one of sees him... for his sake... before he -reindex
<br>
</div>

<div class='talk op-msg' data-timestamp='1501734960' id='561658'>
<a class='timestamp' href='#561658'><time timestamp='2017-08-03T04:36:00Z'>04:36</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
it&#x27;s also important to not let malicious peers cause users to get any kind of error to the greatest extent that we can avoid it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1501735020' id='561659'>
<a class='timestamp' href='#561659'><time timestamp='2017-08-03T04:37:00Z'>04:37</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
because unfortunately any warning you show users will cause a small percentage of them to jump off bridges.
<br>
</div>

<div class='talk op-msg' data-timestamp='1501735080' id='561660'>
<a class='timestamp' href='#561660'><time timestamp='2017-08-03T04:38:00Z'>04:38</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
&quot;I saw a warning that wouldn&#x27;t go away so I deleted my wallet, and now I still have the warning and where are my bitcoins?&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1501735560' id='561661'>
<a class='timestamp' href='#561661'><time timestamp='2017-08-03T04:46:00Z'>04:46</time></a>
&lt;<span class='nick nick-3'> mryandao</span>&gt;
LOL     
<br>
</div>

<div class='talk op-msg' data-timestamp='1501735680' id='561662'>
<a class='timestamp' href='#561662'><time timestamp='2017-08-03T04:48:00Z'>04:48</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
not really funny though. :(
<br>
</div>

<div class='talk op-msg' data-timestamp='1501735680' id='561663'>
<a class='timestamp' href='#561663'><time timestamp='2017-08-03T04:48:00Z'>04:48</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
it&#x27;s not like people are stupid, first they try all the things they think are reasonable, then they try other things...
<br>
</div>

<div class='talk op-msg' data-timestamp='1501735740' id='561664'>
<a class='timestamp' href='#561664'><time timestamp='2017-08-03T04:49:00Z'>04:49</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
and with enough users, someone is going to think they should try sawing off their hands or whatever.
<br>
</div>

<div class='talk op-msg' data-timestamp='1501735740' id='561665'>
<a class='timestamp' href='#561665'><time timestamp='2017-08-03T04:49:00Z'>04:49</time></a>
&lt;<span class='nick nick-2'> Emcy_</span>&gt;
throwing your wallet in a lake isnt reasonable
<br>
</div>

<div class='talk op-msg' data-timestamp='1501735740' id='561666'>
<a class='timestamp' href='#561666'><time timestamp='2017-08-03T04:49:00Z'>04:49</time></a>
&lt;<span class='nick nick-3'> mryandao</span>&gt;
i can&#x27;t connect the dots between deleting wallet.dat and addressing the problem.
<br>
</div>

<div class='talk op-msg' data-timestamp='1501735800' id='561667'>
<a class='timestamp' href='#561667'><time timestamp='2017-08-03T04:50:00Z'>04:50</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
mryandao: because it&#x27;s state that could be causing the error. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1501735800' id='561668'>
<a class='timestamp' href='#561668'><time timestamp='2017-08-03T04:50:00Z'>04:50</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Emcy_: but they saved the addresses first!
<br>
</div>

<div class='talk op-msg' data-timestamp='1501735800' id='561669'>
<a class='timestamp' href='#561669'><time timestamp='2017-08-03T04:50:00Z'>04:50</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
you and I know that doesn&#x27;t help, but it&#x27;s not exactly obvious
<br>
</div>

<div class='talk op-msg' data-timestamp='1501735800' id='561670'>
<a class='timestamp' href='#561670'><time timestamp='2017-08-03T04:50:00Z'>04:50</time></a>
&lt;<span class='nick nick-2'> Emcy_</span>&gt;
it was even called &quot;wallet&quot; as a kind of linguistic skeumorph to get people to understand what it is
<br>
</div>

<div class='talk op-msg' data-timestamp='1501735800' id='561671'>
<a class='timestamp' href='#561671'><time timestamp='2017-08-03T04:50:00Z'>04:50</time></a>
&lt;<span class='nick nick-3'> mryandao</span>&gt;
hmm, this sounds like motivation to decouple key from wallet.dat?
<br>
</div>

<div class='talk op-msg' data-timestamp='1501735860' id='561672'>
<a class='timestamp' href='#561672'><time timestamp='2017-08-03T04:51:00Z'>04:51</time></a>
&lt;<span class='nick nick-3'> mryandao</span>&gt;
so at least even if wallet.dat was removed out of a panic attack, at least keys is still somewhere safe?
<br>
</div>

<div class='talk op-msg' data-timestamp='1501735920' id='561673'>
<a class='timestamp' href='#561673'><time timestamp='2017-08-03T04:52:00Z'>04:52</time></a>
&lt;<span class='nick nick-2'> Emcy_</span>&gt;
youre right about explaining pubkey crypto to normies though oh boy
<br>
</div>

<div class='talk op-msg' data-timestamp='1501735920' id='561674'>
<a class='timestamp' href='#561674'><time timestamp='2017-08-03T04:52:00Z'>04:52</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
well we&#x27;ve talked before about writing wallet backup files periodically but there is a counter argument that doing so will make it more likely for users to get their wallets stolen. e.g. clear wallet off a disk before giving it to someone else...
<br>
</div>

<div class='talk op-msg' data-timestamp='1501736100' id='561675'>
<a class='timestamp' href='#561675'><time timestamp='2017-08-03T04:55:00Z'>04:55</time></a>
&lt;<span class='nick nick-2'> Emcy_</span>&gt;
i meant to ask why the default datadir on windows in is the domain roaming profile folder, actually, instead of the local profile
<br>
</div>

<div class='talk op-msg' data-timestamp='1501736100' id='561676'>
<a class='timestamp' href='#561676'><time timestamp='2017-08-03T04:55:00Z'>04:55</time></a>
&lt;<span class='nick nick-2'> Emcy_</span>&gt;
since the subject came up
<br>
</div>

<div class='talk op-msg' data-timestamp='1501736220' id='561677'>
<a class='timestamp' href='#561677'><time timestamp='2017-08-03T04:57:00Z'>04:57</time></a>
&lt;<span class='nick nick-3'> praxeology</span>&gt;
does bitcoin still use windows registry?
<br>
</div>

<div class='talk op-msg' data-timestamp='1501736280' id='561678'>
<a class='timestamp' href='#561678'><time timestamp='2017-08-03T04:58:00Z'>04:58</time></a>
&lt;<span class='nick nick-3'> praxeology</span>&gt;
windows configuration/file system usage needs a rework :p
<br>
</div>

<div class='talk op-msg' data-timestamp='1501736340' id='561679'>
<a class='timestamp' href='#561679'><time timestamp='2017-08-03T04:59:00Z'>04:59</time></a>
&lt;<span class='nick nick-3'> praxeology</span>&gt;
HKEY_CURRENT_USER\Software\Bitcoin\Bitcoin-Qt
<br>
</div>

<div class='talk op-msg' data-timestamp='1501736400' id='561680'>
<a class='timestamp' href='#561680'><time timestamp='2017-08-03T05:00:00Z'>05:00</time></a>
&lt;<span class='nick nick-3'> praxeology</span>&gt;
Not that I am actually making demands for your time, sorry.  Have a good night!
<br>
</div>

<div class='talk op-msg' data-timestamp='1501737420' id='561681'>
<a class='timestamp' href='#561681'><time timestamp='2017-08-03T05:17:00Z'>05:17</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
praxeology: why?
<br>
</div>

<div class='talk op-msg' data-timestamp='1501739940' id='561682'>
<a class='timestamp' href='#561682'><time timestamp='2017-08-03T05:59:00Z'>05:59</time></a>
&lt;<span class='nick nick-9'> goatpig</span>&gt;
isn&#x27;t that just the URI registration?
<br>
</div>

<div class='talk op-msg' data-timestamp='1501740000' id='561683'>
<a class='timestamp' href='#561683'><time timestamp='2017-08-03T06:00:00Z'>06:00</time></a>
&lt;<span class='nick nick-3'> praxeology</span>&gt;
windows registry is not very compatible with multiple installations in use on the same OS
<br>
</div>

<div class='talk op-msg' data-timestamp='1501740120' id='561684'>
<a class='timestamp' href='#561684'><time timestamp='2017-08-03T06:02:00Z'>06:02</time></a>
&lt;<span class='nick nick-3'> praxeology</span>&gt;
magic hidden settings that one wouldn&#x27;t know to move to a new system
<br>
</div>

<div class='talk op-msg' data-timestamp='1501747380' id='561685'>
<a class='timestamp' href='#561685'><time timestamp='2017-08-03T08:03:00Z'>08:03</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I wonder if we should adopt a patch to instantly disconnect bcash nodes based on their service flags.  Sucks to burn a service bit forever to their recklessness though. :(
<br>
</div>

<div class='talk op-msg' data-timestamp='1501747440' id='561686'>
<a class='timestamp' href='#561686'><time timestamp='2017-08-03T08:04:00Z'>08:04</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
and presumably the constant inadvertant dos attack of connecting to nodes on another network will move them onto another port eventually.
<br>
</div>

<div class='talk op-msg' data-timestamp='1501747740' id='561687'>
<a class='timestamp' href='#561687'><time timestamp='2017-08-03T08:09:00Z'>08:09</time></a>
&lt;<span class='nick nick-3'> praxeology</span>&gt;
potentially in the future the burned service code could be recovered in the future after the problem goes away
<br>
</div>

<div class='talk op-msg' data-timestamp='1501747740' id='561688'>
<a class='timestamp' href='#561688'><time timestamp='2017-08-03T08:09:00Z'>08:09</time></a>
&lt;<span class='nick nick-3'> praxeology</span>&gt;
are they refusing to move to a different port?
<br>
</div>

<div class='talk op-msg' data-timestamp='1501747800' id='561689'>
<a class='timestamp' href='#561689'><time timestamp='2017-08-03T08:10:00Z'>08:10</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
they refused people people asked them previously.
<br>
</div>

<div class='talk op-msg' data-timestamp='1501747800' id='561690'>
<a class='timestamp' href='#561690'><time timestamp='2017-08-03T08:10:00Z'>08:10</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
it&#x27;s not all that easy to recover a service bit where its use results in instantly being disconnected!
<br>
</div>

<div class='talk op-msg' data-timestamp='1501747860' id='561691'>
<a class='timestamp' href='#561691'><time timestamp='2017-08-03T08:11:00Z'>08:11</time></a>
&lt;<span class='nick nick-3'> praxeology</span>&gt;
Maybe in a month bcash won&#x27;t have anyone mining it anymore
<br>
</div>

<div class='talk op-msg' data-timestamp='1501747860' id='561692'>
<a class='timestamp' href='#561692'><time timestamp='2017-08-03T08:11:00Z'>08:11</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
perhaps we shouldn&#x27;t worry much about burning one because we know we&#x27;re due for some other pretty substantial p2p revisions, and other updates can add new capabilities flags.
<br>
</div>

<div class='talk op-msg' data-timestamp='1501747920' id='561693'>
<a class='timestamp' href='#561693'><time timestamp='2017-08-03T08:12:00Z'>08:12</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I think we only use service flags now for things we absolutely need to have in addr messages, and if we create a addr message replacement (to support NG hidden services and I2P, we&#x27;d probably give it a different capabilities signaling tool)
<br>
</div>

<div class='talk op-msg' data-timestamp='1501748040' id='561694'>
<a class='timestamp' href='#561694'><time timestamp='2017-08-03T08:14:00Z'>08:14</time></a>
&lt;<span class='nick nick-3'> praxeology</span>&gt;
service flags... &quot;flags&quot; implies a 32 bit or 64 bit number?
<br>
</div>

<div class='talk op-msg' data-timestamp='1501748040' id='561695'>
<a class='timestamp' href='#561695'><time timestamp='2017-08-03T08:14:00Z'>08:14</time></a>
&lt;<span class='nick nick-3'> praxeology</span>&gt;
Maybe switch to a set of service tags instead?
<br>
</div>

<div class='talk op-msg' data-timestamp='1501748100' id='561696'>
<a class='timestamp' href='#561696'><time timestamp='2017-08-03T08:15:00Z'>08:15</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
well, they need to be small because they&#x27;re rumored everwhere in addr messages.
<br>
</div>

<div class='talk op-msg' data-timestamp='1501748100' id='561697'>
<a class='timestamp' href='#561697'><time timestamp='2017-08-03T08:15:00Z'>08:15</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
making them fat sidechannels would likely have clowns using them for file trading. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1501748220' id='561698'>
<a class='timestamp' href='#561698'><time timestamp='2017-08-03T08:17:00Z'>08:17</time></a>
&lt;<span class='nick nick-3'> praxeology</span>&gt;
ok, well you could put a size constraint on the tag set... but whatever I&#x27;m just sleep dep and over engineering something I don&#x27;t know enough about
<br>
</div>

<div class='talk op-msg' data-timestamp='1501752420' id='561699'>
<a class='timestamp' href='#561699'><time timestamp='2017-08-03T09:27:00Z'>09:27</time></a>
&lt;<span class='nick nick-10'> Eliel</span>&gt;
jonasschnelli: is bitcoind&#x27;s code that does that too difficulty to understand?
<br>
</div>

<div class='talk op-msg' data-timestamp='1501752420' id='561700'>
<a class='timestamp' href='#561700'><time timestamp='2017-08-03T09:27:00Z'>09:27</time></a>
&lt;<span class='nick nick-10'> Eliel</span>&gt;
(never mind, was looking at the past)
<br>
</div>

<div class='talk op-msg' data-timestamp='1501752420' id='561701'>
<a class='timestamp' href='#561701'><time timestamp='2017-08-03T09:27:00Z'>09:27</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Eliel: depends on you experience
<br>
</div>

<div class='talk op-msg' data-timestamp='1501752420' id='561702'>
<a class='timestamp' href='#561702'><time timestamp='2017-08-03T09:27:00Z'>09:27</time></a>
&lt;<span class='nick nick-10'> Eliel</span>&gt;
ah true
<br>
</div>

<div class='talk op-msg' data-timestamp='1501754580' id='561703'>
<a class='timestamp' href='#561703'><time timestamp='2017-08-03T10:03:00Z'>10:03</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Hi all, karelb is working on the trezor wallet, and they&#x27;ve been trying to use these patches to bitcoin that implement the bitcore address indexing stuff, but they&#x27;re finding it really slow to the point where performance is problematic.
<br>
</div>

<div class='talk op-msg' data-timestamp='1501754640' id='561704'>
<a class='timestamp' href='#561704'><time timestamp='2017-08-03T10:04:00Z'>10:04</time></a>
&lt;<span class='nick nick-6'> karelb</span>&gt;
we are using it for a while now :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1501754640' id='561705'>
<a class='timestamp' href='#561705'><time timestamp='2017-08-03T10:04:00Z'>10:04</time></a>
&lt;<span class='nick nick-6'> karelb</span>&gt;
but right now we are reindexing bitcoin blockchain and it takes foreved
<br>
</div>

<div class='talk op-msg' data-timestamp='1501754640' id='561706'>
<a class='timestamp' href='#561706'><time timestamp='2017-08-03T10:04:00Z'>10:04</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Maybe someone would be interested in giving them a bit of a hand at looking at it? (I need to get to bed); I&#x27;ve already provided the standard disclaimers about the inherent non-scalability of address-indexes-of-all-history. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1501754700' id='561707'>
<a class='timestamp' href='#561707'><time timestamp='2017-08-03T10:05:00Z'>10:05</time></a>
&lt;<span class='nick nick-6'> karelb</span>&gt;
(It is actually bitcoin-abc, I hope I won&#x27;t be banned :D, but this issue popped up in bitcoin core too)
<br>
</div>

<div class='talk op-msg' data-timestamp='1501754700' id='561708'>
<a class='timestamp' href='#561708'><time timestamp='2017-08-03T10:05:00Z'>10:05</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
karelb: one question would be what kind of system is this running on? e.g. is it on some VPS with remote storage that may have poor IO speed?
<br>
</div>

<div class='talk op-msg' data-timestamp='1501754700' id='561709'>
<a class='timestamp' href='#561709'><time timestamp='2017-08-03T10:05:00Z'>10:05</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
karelb: we&#x27;ll forgive you for your sins. though obviously can&#x27;t help with any abc specific issues.
<br>
</div>

<div class='talk op-msg' data-timestamp='1501754700' id='561710'>
<a class='timestamp' href='#561710'><time timestamp='2017-08-03T10:05:00Z'>10:05</time></a>
&lt;<span class='nick nick-6'> karelb</span>&gt;
it is our local server that has SSD, lots of RAM and processors
<br>
</div>

<div class='talk op-msg' data-timestamp='1501754760' id='561711'>
<a class='timestamp' href='#561711'><time timestamp='2017-08-03T10:06:00Z'>10:06</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
darn.
<br>
</div>

<div class='talk op-msg' data-timestamp='1501754760' id='561712'>
<a class='timestamp' href='#561712'><time timestamp='2017-08-03T10:06:00Z'>10:06</time></a>
&lt;<span class='nick nick-6'> karelb</span>&gt;
actually one issue was sort-of ABC related, but it was because of a commit ported from master from bitcoin core, so it will be relevant anyway
<br>
</div>

<div class='talk op-msg' data-timestamp='1501754820' id='561713'>
<a class='timestamp' href='#561713'><time timestamp='2017-08-03T10:07:00Z'>10:07</time></a>
&lt;<span class='nick nick-6'> karelb</span>&gt;
<a href="https://github.com/Bitcoin-ABC/bitcoin-abc/issues/43" class="link" target="_blank">https://github.com/Bitcoin-ABC/bitcoin-abc/issues/43</a> , <a href="https://github.com/satoshilabs/bitcoin-abc/commit/5337f8f210eaa34d1212103f700698dd4989f479" class="link" target="_blank">https://github.com/satoshilabs/bitcoin-abc/commit/5337f8f210eaa34d1212103f700698dd4989f479</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1501754820' id='561714'>
<a class='timestamp' href='#561714'><time timestamp='2017-08-03T10:07:00Z'>10:07</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
so since I doubt that addrindex has a useful caching layer, you could look for the leveldb::Options object for the database it creates and try increasing the options.block_cache and options.write_buffer_size to really large levells.
<br>
</div>

<div class='talk op-msg' data-timestamp='1501754820' id='561715'>
<a class='timestamp' href='#561715'><time timestamp='2017-08-03T10:07:00Z'>10:07</time></a>
&lt;<span class='nick nick-6'> karelb</span>&gt;
it&#x27;s because the bitcore patches do address index in ConnectBlock/DisconnectBlock, even on the start during the testing thing
<br>
</div>

<div class='talk op-msg' data-timestamp='1501754880' id='561716'>
<a class='timestamp' href='#561716'><time timestamp='2017-08-03T10:08:00Z'>10:08</time></a>
&lt;<span class='nick nick-6'> karelb</span>&gt;
(jpochyla is my colleague)
<br>
</div>

<div class='talk op-msg' data-timestamp='1501754880' id='561717'>
<a class='timestamp' href='#561717'><time timestamp='2017-08-03T10:08:00Z'>10:08</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
karelb: probably code based on Bitcoin Core master (including ABC) will not be reliably compatible with that address indexing stuff until it is changed. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1501754880' id='561718'>
<a class='timestamp' href='#561718'><time timestamp='2017-08-03T10:08:00Z'>10:08</time></a>
&lt;<span class='nick nick-6'> karelb</span>&gt;
And the introduction of ApplyBlockUndo somehow caused that
<br>
</div>

<div class='talk op-msg' data-timestamp='1501754940' id='561719'>
<a class='timestamp' href='#561719'><time timestamp='2017-08-03T10:09:00Z'>10:09</time></a>
&lt;<span class='nick nick-6'> karelb</span>&gt;
yeah. We want to write our own indexing thing that you won&#x27;t need to put inside the C++ code, since that is a little insane and we need to keep on rebasing that
<br>
</div>

<div class='talk op-msg' data-timestamp='1501755000' id='561720'>
<a class='timestamp' href='#561720'><time timestamp='2017-08-03T10:10:00Z'>10:10</time></a>
&lt;<span class='nick nick-6'> karelb</span>&gt;
gmaxwell: just fyi, ABC is not based on master, but on 0.14.1, but they took that thing from master
<br>
</div>

<div class='talk op-msg' data-timestamp='1501755000' id='561721'>
<a class='timestamp' href='#561721'><time timestamp='2017-08-03T10:10:00Z'>10:10</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
karelb: bitcoin core master changed the atomiticity requirements for the backend database, but a side effect of this is that it needs special replay logic to handle crash recovery.  ABC has partially ported some of these changes. I am not sure, but I wouldn&#x27;t be surprised if the address indexing would get corrupted until updated to have the right synchronization behavior.
<br>
</div>

<div class='talk op-msg' data-timestamp='1501755000' id='561722'>
<a class='timestamp' href='#561722'><time timestamp='2017-08-03T10:10:00Z'>10:10</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I know it&#x27;s based on 0.14.1, but they copied some of these database changes.
<br>
</div>

<div class='talk op-msg' data-timestamp='1501755000' id='561723'>
<a class='timestamp' href='#561723'><time timestamp='2017-08-03T10:10:00Z'>10:10</time></a>
&lt;<span class='nick nick-6'> karelb</span>&gt;
ok     
<br>
</div>

<div class='talk op-msg' data-timestamp='1501755060' id='561724'>
<a class='timestamp' href='#561724'><time timestamp='2017-08-03T10:11:00Z'>10:11</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
in any case, beyond the cache options I mentioned above, I am out of ideas for making it faster without substantial design changes.
<br>
</div>

<div class='talk op-msg' data-timestamp='1501755060' id='561725'>
<a class='timestamp' href='#561725'><time timestamp='2017-08-03T10:11:00Z'>10:11</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I think you should probably also make an extra effort to always cleanly start and stop that node, because I wouldn&#x27;t be confident that it is durable across crashes without corruption.
<br>
</div>

<div class='talk op-msg' data-timestamp='1501755180' id='561726'>
<a class='timestamp' href='#561726'><time timestamp='2017-08-03T10:13:00Z'>10:13</time></a>
&lt;<span class='nick nick-6'> Austindoggie</span>&gt;
Did it take a long time to reindex because you went back a version of bitcoin core?
<br>
</div>

<div class='talk op-msg' data-timestamp='1501755240' id='561727'>
<a class='timestamp' href='#561727'><time timestamp='2017-08-03T10:14:00Z'>10:14</time></a>
&lt;<span class='nick nick-6'> Austindoggie</span>&gt;
Sorry if im not allowed to talk here...
<br>
</div>

<div class='talk op-msg' data-timestamp='1501755240' id='561728'>
<a class='timestamp' href='#561728'><time timestamp='2017-08-03T10:14:00Z'>10:14</time></a>
&lt;<span class='nick nick-6'> karelb</span>&gt;
gmaxwell: hah, that is not a good news. We also noticed the node randomly crashes once in a while and we are not sure why
<br>
</div>

<div class='talk op-msg' data-timestamp='1501755300' id='561729'>
<a class='timestamp' href='#561729'><time timestamp='2017-08-03T10:15:00Z'>10:15</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
::sigh::
<br>
</div>

<div class='talk op-msg' data-timestamp='1501755300' id='561730'>
<a class='timestamp' href='#561730'><time timestamp='2017-08-03T10:15:00Z'>10:15</time></a>
&lt;<span class='nick nick-6'> karelb</span>&gt;
yeah
<br>
</div>

<div class='talk op-msg' data-timestamp='1501755360' id='561731'>
<a class='timestamp' href='#561731'><time timestamp='2017-08-03T10:16:00Z'>10:16</time></a>
&lt;<span class='nick nick-6'> karelb</span>&gt;
block_cache and write_buffer_size can be set via conf, or only in code?
<br>
</div>

<div class='talk op-msg' data-timestamp='1501755360' id='561732'>
<a class='timestamp' href='#561732'><time timestamp='2017-08-03T10:16:00Z'>10:16</time></a>
&lt;<span class='nick nick-6'> karelb</span>&gt;
wait I will have a look
<br>
</div>

<div class='talk op-msg' data-timestamp='1501755360' id='561733'>
<a class='timestamp' href='#561733'><time timestamp='2017-08-03T10:16:00Z'>10:16</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
karelb: run more nodes, reindex anytime one crashes?  At least until you can test if the address index is accurate across crashes?  I&#x27;m not completely confident that it won&#x27;t be, but it would take some careful review and testing to be sure (especially in the context of ABC that has really scrambled things up a lot)
<br>
</div>

<div class='talk op-msg' data-timestamp='1501755420' id='561734'>
<a class='timestamp' href='#561734'><time timestamp='2017-08-03T10:17:00Z'>10:17</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
karelb: I think only in the code, I don&#x27;t think there is an external way to override.
<br>
</div>

<div class='talk op-msg' data-timestamp='1501755420' id='561735'>
<a class='timestamp' href='#561735'><time timestamp='2017-08-03T10:17:00Z'>10:17</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
in any case, I have to go to bed. Hopefully someone else will wake up and have some other suggestions.
<br>
</div>

<div class='talk op-msg' data-timestamp='1501755420' id='561736'>
<a class='timestamp' href='#561736'><time timestamp='2017-08-03T10:17:00Z'>10:17</time></a>
&lt;<span class='nick nick-6'> karelb</span>&gt;
(I really hate how ABC reformatted everything for no good reason, but that is another issue from this)
<br>
</div>

<div class='talk op-msg' data-timestamp='1501755480' id='561737'>
<a class='timestamp' href='#561737'><time timestamp='2017-08-03T10:18:00Z'>10:18</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
yes, it makes it really hard to see what exactly has changed because the reformats were heavily intermixed with real changes. :(
<br>
</div>

<div class='talk op-msg' data-timestamp='1501755540' id='561738'>
<a class='timestamp' href='#561738'><time timestamp='2017-08-03T10:19:00Z'>10:19</time></a>
&lt;<span class='nick nick-6'> karelb</span>&gt;
@austindoggie nope we started to download blockchain from 0. And it is always stuck on IO for insanely long times
<br>
</div>

<div class='talk op-msg' data-timestamp='1501755600' id='561739'>
<a class='timestamp' href='#561739'><time timestamp='2017-08-03T10:20:00Z'>10:20</time></a>
&lt;<span class='nick nick-6'> karelb</span>&gt;
and normal bitcoin without bitcore patches doesn&#x27;t do it, on the same HW
<br>
</div>

<div class='talk op-msg' data-timestamp='1501755600' id='561740'>
<a class='timestamp' href='#561740'><time timestamp='2017-08-03T10:20:00Z'>10:20</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
karelb: gross final suggestion before I really go:  if you really have a lot of ram, create a tmpfs mount big enough for the entire datadir, and sync in there, when it finishes copy it to disk.
<br>
</div>

<div class='talk op-msg' data-timestamp='1501755660' id='561741'>
<a class='timestamp' href='#561741'><time timestamp='2017-08-03T10:21:00Z'>10:21</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
karelb: the challenge there is that we have insanely optimized bitcoin core&#x27;s sync process.. we avoid writing to leveldb at all costs, basically, and a significant fraction of UTXO never hit the database at all during normal sync because they&#x27;re spent before the dbcache fills)
<br>
</div>

<div class='talk op-msg' data-timestamp='1501755900' id='561742'>
<a class='timestamp' href='#561742'><time timestamp='2017-08-03T10:25:00Z'>10:25</time></a>
&lt;<span class='nick nick-6'> karelb</span>&gt;
thanks a lot for your help
<br>
</div>

<div class='talk op-msg' data-timestamp='1501755900' id='561743'>
<a class='timestamp' href='#561743'><time timestamp='2017-08-03T10:25:00Z'>10:25</time></a>
&lt;<span class='nick nick-6'> karelb</span>&gt;
going to IRC was a wild shot but it seems it might help :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1501755960' id='561744'>
<a class='timestamp' href='#561744'><time timestamp='2017-08-03T10:26:00Z'>10:26</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/659c09613408...2e857bb619f5" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/659c09613408...2e857bb619f5</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1501755960' id='561745'>
<a class='timestamp' href='#561745'><time timestamp='2017-08-03T10:26:00Z'>10:26</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 49d903e Alex Morcos: Eliminate fee overpaying edge case when subtracting fee from recipients
<br>
</div>

<div class='talk op-msg' data-timestamp='1501755960' id='561746'>
<a class='timestamp' href='#561746'><time timestamp='2017-08-03T10:26:00Z'>10:26</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 2e857bb Wladimir J. van der Laan: Merge #10942: Eliminate fee overpaying edge case when subtracting fee from recipients...
<br>
</div>

<div class='talk op-msg' data-timestamp='1501756020' id='561747'>
<a class='timestamp' href='#561747'><time timestamp='2017-08-03T10:27:00Z'>10:27</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj closed pull request #10942: Eliminate fee overpaying edge case when subtracting fee from recipients (master...subtractfee) <a href="https://github.com/bitcoin/bitcoin/pull/10942" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10942</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1501756440' id='561748'>
<a class='timestamp' href='#561748'><time timestamp='2017-08-03T10:34:00Z'>10:34</time></a>
&lt;<span class='nick nick-6'> karelb</span>&gt;
Hm. options.block_cache and options.write_buffer_size are derived from dbcache
<br>
</div>

<div class='talk op-msg' data-timestamp='1501756500' id='561749'>
<a class='timestamp' href='#561749'><time timestamp='2017-08-03T10:35:00Z'>10:35</time></a>
&lt;<span class='nick nick-6'> karelb</span>&gt;
dbcache option
<br>
</div>

<div class='talk op-msg' data-timestamp='1501756500' id='561750'>
<a class='timestamp' href='#561750'><time timestamp='2017-08-03T10:35:00Z'>10:35</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Updated to Debian 9 (stretch) and suddenly get gitian build errors: init.lxc: failed to mount /dev/shm : No such file or directory
<br>
</div>

<div class='talk op-msg' data-timestamp='1501756500' id='561751'>
<a class='timestamp' href='#561751'><time timestamp='2017-08-03T10:35:00Z'>10:35</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Anyone else experiences this?
<br>
</div>

<div class='talk op-msg' data-timestamp='1501756800' id='561752'>
<a class='timestamp' href='#561752'><time timestamp='2017-08-03T10:40:00Z'>10:40</time></a>
&lt;<span class='nick nick-6'> karelb</span>&gt;
maximum dbcache is 16384 MB hard-capped in code; is there a reason for that?
<br>
</div>

<div class='talk op-msg' data-timestamp='1501756800' id='561753'>
<a class='timestamp' href='#561753'><time timestamp='2017-08-03T10:40:00Z'>10:40</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
karelb: why would you need more?
<br>
</div>

<div class='talk op-msg' data-timestamp='1501757220' id='561754'>
<a class='timestamp' href='#561754'><time timestamp='2017-08-03T10:47:00Z'>10:47</time></a>
&lt;<span class='nick nick-6'> karelb</span>&gt;
see the past discussion... we are running bitcore address index patches and they are very slow and stuck on disk operations. And it happens probably because it gets stuck on adding things to address index and commiting it to hard disk on every block
<br>
</div>

<div class='talk op-msg' data-timestamp='1501757220' id='561755'>
<a class='timestamp' href='#561755'><time timestamp='2017-08-03T10:47:00Z'>10:47</time></a>
&lt;<span class='nick nick-6'> karelb</span>&gt;
probably
<br>
</div>

<div class='talk op-msg' data-timestamp='1501757280' id='561756'>
<a class='timestamp' href='#561756'><time timestamp='2017-08-03T10:48:00Z'>10:48</time></a>
&lt;<span class='nick nick-6'> karelb</span>&gt;
it must be because of the address index somehow, because on the same PC, bitcoin core without bitcore (sigh) patches runs fine
<br>
</div>

<div class='talk op-msg' data-timestamp='1501757340' id='561757'>
<a class='timestamp' href='#561757'><time timestamp='2017-08-03T10:49:00Z'>10:49</time></a>
&lt;<span class='nick nick-6'> karelb</span>&gt;
I am actually talking about ABC, but the same issue crops up in bitcoin, plus it might be because ABC added some db logic from master
<br>
</div>

<div class='talk op-msg' data-timestamp='1501757580' id='561758'>
<a class='timestamp' href='#561758'><time timestamp='2017-08-03T10:53:00Z'>10:53</time></a>
&lt;<span class='nick nick-6'> karelb</span>&gt;
hm, we stopped the bitcoind and it got into some crashed state which is inconsistent and nothing happens
<br>
</div>

<div class='talk op-msg' data-timestamp='1501757580' id='561759'>
<a class='timestamp' href='#561759'><time timestamp='2017-08-03T10:53:00Z'>10:53</time></a>
&lt;<span class='nick nick-6'> karelb</span>&gt;
:/     
<br>
</div>

<div class='talk op-msg' data-timestamp='1501757580' id='561760'>
<a class='timestamp' href='#561760'><time timestamp='2017-08-03T10:53:00Z'>10:53</time></a>
&lt;<span class='nick nick-6'> karelb</span>&gt;
this is hell
<br>
</div>

<div class='talk op-msg' data-timestamp='1501757640' id='561761'>
<a class='timestamp' href='#561761'><time timestamp='2017-08-03T10:54:00Z'>10:54</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
karelb: the leveldb caching isn&#x27;t very useful for the leveldb databases in core because we&#x27;ve already cached the heck out of those things at a higher level...  but for the options set for your custom address index it may be very helpful.
<br>
</div>

<div class='talk op-msg' data-timestamp='1501758300' id='561762'>
<a class='timestamp' href='#561762'><time timestamp='2017-08-03T11:05:00Z'>11:05</time></a>
&lt;<span class='nick nick-6'> karelb</span>&gt;
well it started chugging again, but is still gets stuck. With dbcache set at 16384. Memory has 1GB full and 63GB free
<br>
</div>

<div class='talk op-msg' data-timestamp='1501758360' id='561763'>
<a class='timestamp' href='#561763'><time timestamp='2017-08-03T11:06:00Z'>11:06</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
karelb: what does stuck mean exactly
<br>
</div>

<div class='talk op-msg' data-timestamp='1501758480' id='561764'>
<a class='timestamp' href='#561764'><time timestamp='2017-08-03T11:08:00Z'>11:08</time></a>
&lt;<span class='nick nick-6'> karelb</span>&gt;
Log says nothing, and iotop shows 100% and doing a lot of reading/writing in the leveldb
<br>
</div>

<div class='talk op-msg' data-timestamp='1501758540' id='561765'>
<a class='timestamp' href='#561765'><time timestamp='2017-08-03T11:09:00Z'>11:09</time></a>
&lt;<span class='nick nick-6'> karelb</span>&gt;
and after about 20 minutes, log messages start to appear again
<br>
</div>

<div class='talk op-msg' data-timestamp='1501758540' id='561766'>
<a class='timestamp' href='#561766'><time timestamp='2017-08-03T11:09:00Z'>11:09</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
dear lord. :(
<br>
</div>

<div class='talk op-msg' data-timestamp='1501758780' id='561767'>
<a class='timestamp' href='#561767'><time timestamp='2017-08-03T11:13:00Z'>11:13</time></a>
&lt;<span class='nick nick-6'> karelb</span>&gt;
and the binary doesn&#x27;t reply even to kill signals
<br>
</div>

<div class='talk op-msg' data-timestamp='1501759740' id='561768'>
<a class='timestamp' href='#561768'><time timestamp='2017-08-03T11:29:00Z'>11:29</time></a>
&lt;<span class='nick nick-6'> karelb</span>&gt;
data/blocks/index is compacting like crazy when it is stuck
<br>
</div>

<div class='talk op-msg' data-timestamp='1501759800' id='561769'>
<a class='timestamp' href='#561769'><time timestamp='2017-08-03T11:30:00Z'>11:30</time></a>
&lt;<span class='nick nick-6'> karelb</span>&gt;
<a href="https://pastebin.com/SvsyQyiL" class="link" target="_blank">https://pastebin.com/SvsyQyiL</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1501760040' id='561770'>
<a class='timestamp' href='#561770'><time timestamp='2017-08-03T11:34:00Z'>11:34</time></a>
&lt;<span class='nick nick-6'> karelb</span>&gt;
The bitcoind is stuck and at the same time when this is hapenning
<br>
</div>

<div class='talk op-msg' data-timestamp='1501760040' id='561771'>
<a class='timestamp' href='#561771'><time timestamp='2017-08-03T11:34:00Z'>11:34</time></a>
&lt;<span class='nick nick-6'> karelb</span>&gt;
and it keeps writing compacting
<br>
</div>

<div class='talk op-msg' data-timestamp='1501765620' id='561772'>
<a class='timestamp' href='#561772'><time timestamp='2017-08-03T13:07:00Z'>13:07</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/2e857bb619f5...e222618a32a1" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/2e857bb619f5...e222618a32a1</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1501765620' id='561773'>
<a class='timestamp' href='#561773'><time timestamp='2017-08-03T13:07:00Z'>13:07</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 3498a8d Cory Fields: depends: fix fontconfig with newer glibc...
<br>
</div>

<div class='talk op-msg' data-timestamp='1501765620' id='561774'>
<a class='timestamp' href='#561774'><time timestamp='2017-08-03T13:07:00Z'>13:07</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master e222618 Wladimir J. van der Laan: Merge #10851: depends: fix fontconfig with newer glibc...
<br>
</div>

<div class='talk op-msg' data-timestamp='1501765680' id='561775'>
<a class='timestamp' href='#561775'><time timestamp='2017-08-03T13:08:00Z'>13:08</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj closed pull request #10851: depends: fix fontconfig with newer glibc (master...fontconfig-bump) <a href="https://github.com/bitcoin/bitcoin/pull/10851" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10851</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1501771560' id='561776'>
<a class='timestamp' href='#561776'><time timestamp='2017-08-03T14:46:00Z'>14:46</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] NicolasDorier opened pull request #10980: [WIP] Decouple CKeyStore from CWatchOnlyStore (master...decouplewatchonly) <a href="https://github.com/bitcoin/bitcoin/pull/10980" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10980</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1501772400' id='561777'>
<a class='timestamp' href='#561777'><time timestamp='2017-08-03T15:00:00Z'>15:00</time></a>
&lt;<span class='nick nick-12'> Mirobit</span>&gt;
Doesn&#x27;t anyone know BCash nodes aren&#x27;t sending BCash transactions to Core peers? My node has only recieved 2 BCash tx and banned both peers. But the other ~5-10 peers don&#x27;t seem to send any txs. Weird?
<br>
</div>

<div class='talk op-msg' data-timestamp='1501775940' id='561778'>
<a class='timestamp' href='#561778'><time timestamp='2017-08-03T15:59:00Z'>15:59</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
achow101: re: #10952: Do you have any idea <b>*how*</b> these folks&#x27; wallets got corrupted like that?
<br>
</div>

<div class='talk op-msg' data-timestamp='1501775940' id='561779'>
<a class='timestamp' href='#561779'><time timestamp='2017-08-03T15:59:00Z'>15:59</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/10952" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/10952</a> | [wallet] Remove vchDefaultKey and have better first run detection by achow101 · Pull Request #10952 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1501775940' id='561780'>
<a class='timestamp' href='#561780'><time timestamp='2017-08-03T15:59:00Z'>15:59</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
I&#x27;m highly skeptical that &quot;just write a new default key&quot; is the right solution here
<br>
</div>

<div class='talk op-msg' data-timestamp='1501775940' id='561781'>
<a class='timestamp' href='#561781'><time timestamp='2017-08-03T15:59:00Z'>15:59</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
their wallet got confused somehow, auto-fixing without telling them something may be wrong is probably not a good idea
<br>
</div>

<div class='talk op-msg' data-timestamp='1501779300' id='561782'>
<a class='timestamp' href='#561782'><time timestamp='2017-08-03T16:55:00Z'>16:55</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
BlueMatt: absolutely no idea how they got corrupted
<br>
</div>

<div class='talk op-msg' data-timestamp='1501779300' id='561783'>
<a class='timestamp' href='#561783'><time timestamp='2017-08-03T16:55:00Z'>16:55</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
I was not able to get a copy of their wallet files either so I couldn&#x27;t examine them
<br>
</div>

<div class='talk op-msg' data-timestamp='1501779360' id='561784'>
<a class='timestamp' href='#561784'><time timestamp='2017-08-03T16:56:00Z'>16:56</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
BlueMatt: the solution isn&#x27;t to &quot;just write a new default key&quot;. The solution is to change the first run checker from &quot;there&#x27;s a valid default key&quot; to &quot;there are keys in the wallet&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1501779420' id='561785'>
<a class='timestamp' href='#561785'><time timestamp='2017-08-03T16:57:00Z'>16:57</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
so with 10952, those wallets would not be considered to be new first run wallets as they have keys but not a valid default key
<br>
</div>

<div class='talk op-msg' data-timestamp='1501779960' id='561786'>
<a class='timestamp' href='#561786'><time timestamp='2017-08-03T17:06:00Z'>17:06</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
default key should completely go (for post-0.15 though)
<br>
</div>

<div class='talk op-msg' data-timestamp='1501780080' id='561787'>
<a class='timestamp' href='#561787'><time timestamp='2017-08-03T17:08:00Z'>17:08</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
achow101: well my point is more broadly that their wallets clearly got corrupted
<br>
</div>

<div class='talk op-msg' data-timestamp='1501780080' id='561788'>
<a class='timestamp' href='#561788'><time timestamp='2017-08-03T17:08:00Z'>17:08</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
the check for a new allet should be replaced by a proper &quot;is this an empty database&quot; check
<br>
</div>

<div class='talk op-msg' data-timestamp='1501780080' id='561789'>
<a class='timestamp' href='#561789'><time timestamp='2017-08-03T17:08:00Z'>17:08</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
achow101: so silently continuing isnt really the right solution
<br>
</div>

<div class='talk op-msg' data-timestamp='1501780140' id='561790'>
<a class='timestamp' href='#561790'><time timestamp='2017-08-03T17:09:00Z'>17:09</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
a wallet without any keys yet could in principle be valid
<br>
</div>

<div class='talk op-msg' data-timestamp='1501780140' id='561791'>
<a class='timestamp' href='#561791'><time timestamp='2017-08-03T17:09:00Z'>17:09</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
though a bit strange as we initially generate a mempool
<br>
</div>

<div class='talk op-msg' data-timestamp='1501780140' id='561792'>
<a class='timestamp' href='#561792'><time timestamp='2017-08-03T17:09:00Z'>17:09</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
(and we don&#x27;t allow mempoolsize=0)
<br>
</div>

<div class='talk op-msg' data-timestamp='1501780140' id='561793'>
<a class='timestamp' href='#561793'><time timestamp='2017-08-03T17:09:00Z'>17:09</time></a>
&lt;<span class='nick nick-6'> karelb</span>&gt;
ok we got abc node working, but it was some crazy solution of switching between various binaries and invalidating nodes; it did not crash (yet). But it seems that bitcore patches inside connectblock/disconnectblock are really not the way for the future; it will probably break again (both in abc and later in bitcoin core once you release the db changes)
<br>
</div>

<div class='talk op-msg' data-timestamp='1501780200' id='561794'>
<a class='timestamp' href='#561794'><time timestamp='2017-08-03T17:10:00Z'>17:10</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
BlueMatt: that would require a specific check for the case that a default key is invalid
<br>
</div>

<div class='talk op-msg' data-timestamp='1501780200' id='561795'>
<a class='timestamp' href='#561795'><time timestamp='2017-08-03T17:10:00Z'>17:10</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
wumpus: a database is initially created when the wallet file is created. I&#x27;m not sure how to check it is empty except that when the database is then read in, there are no keys
<br>
</div>

<div class='talk op-msg' data-timestamp='1501780260' id='561796'>
<a class='timestamp' href='#561796'><time timestamp='2017-08-03T17:11:00Z'>17:11</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
that&#x27;s that 10952 does; it checks if there are any keys in the database
<br>
</div>

<div class='talk op-msg' data-timestamp='1501780260' id='561797'>
<a class='timestamp' href='#561797'><time timestamp='2017-08-03T17:11:00Z'>17:11</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes, that sounds sane
<br>
</div>

<div class='talk op-msg' data-timestamp='1501780320' id='561798'>
<a class='timestamp' href='#561798'><time timestamp='2017-08-03T17:12:00Z'>17:12</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
for a new format I&#x27;d suggest adding a &quot;database-type&quot; &quot;wallet&quot; k/v pair to distinguish it from other bdb databases, and check for that, but for backwards compatibility that works better
<br>
</div>

<div class='talk op-msg' data-timestamp='1501780320' id='561799'>
<a class='timestamp' href='#561799'><time timestamp='2017-08-03T17:12:00Z'>17:12</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
(and no one would be so stupid to put a random other berkeleydb database as wallet.dat? right? :-)
<br>
</div>

<div class='talk op-msg' data-timestamp='1501780500' id='561800'>
<a class='timestamp' href='#561800'><time timestamp='2017-08-03T17:15:00Z'>17:15</time></a>
&lt;<span class='nick nick-16'> Lightsword</span>&gt;
anyone working on switching bdb out for something else like sqlite?
<br>
</div>

<div class='talk op-msg' data-timestamp='1501780500' id='561801'>
<a class='timestamp' href='#561801'><time timestamp='2017-08-03T17:15:00Z'>17:15</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
Lightsword: there&#x27;s a pr somewhere for that I think
<br>
</div>

<div class='talk op-msg' data-timestamp='1501780500' id='561802'>
<a class='timestamp' href='#561802'><time timestamp='2017-08-03T17:15:00Z'>17:15</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
meh, overkill
<br>
</div>

<div class='talk op-msg' data-timestamp='1501780500' id='561803'>
<a class='timestamp' href='#561803'><time timestamp='2017-08-03T17:15:00Z'>17:15</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
all we need is a key-value store that&#x27;s effectively read into memory entirely anyway
<br>
</div>

<div class='talk op-msg' data-timestamp='1501780560' id='561804'>
<a class='timestamp' href='#561804'><time timestamp='2017-08-03T17:16:00Z'>17:16</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i had a patch years ago to switch it to an append-only flat file
<br>
</div>

<div class='talk op-msg' data-timestamp='1501780560' id='561805'>
<a class='timestamp' href='#561805'><time timestamp='2017-08-03T17:16:00Z'>17:16</time></a>
&lt;<span class='nick nick-16'> Lightsword</span>&gt;
the main advantage to sqlite though is that it has good data integrity protection
<br>
</div>

<div class='talk op-msg' data-timestamp='1501780560' id='561806'>
<a class='timestamp' href='#561806'><time timestamp='2017-08-03T17:16:00Z'>17:16</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
we could upgrade to bdb whatever latest and change how records are stored there
<br>
</div>

<div class='talk op-msg' data-timestamp='1501780560' id='561807'>
<a class='timestamp' href='#561807'><time timestamp='2017-08-03T17:16:00Z'>17:16</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
Lightsword: it&#x27;s quite easy to swap the database for any k/v store, I have a local branch that uses leveldb
<br>
</div>

<div class='talk op-msg' data-timestamp='1501780620' id='561808'>
<a class='timestamp' href='#561808'><time timestamp='2017-08-03T17:17:00Z'>17:17</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
achow101: if you have a wallet with keys, and a default key that is invalid or missing, your wallet was clearly either corrupted or generated by something other than bitcoin core
<br>
</div>

<div class='talk op-msg' data-timestamp='1501780620' id='561809'>
<a class='timestamp' href='#561809'><time timestamp='2017-08-03T17:17:00Z'>17:17</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
achow101: bdb latest (6.x) has serious license issues
<br>
</div>

<div class='talk op-msg' data-timestamp='1501780620' id='561810'>
<a class='timestamp' href='#561810'><time timestamp='2017-08-03T17:17:00Z'>17:17</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
achow101: continuing silently in that case is not what we want
<br>
</div>

<div class='talk op-msg' data-timestamp='1501780680' id='561811'>
<a class='timestamp' href='#561811'><time timestamp='2017-08-03T17:18:00Z'>17:18</time></a>
&lt;<span class='nick nick-16'> Lightsword</span>&gt;
sipa, would there not be some potential future use cases where having sql support be helpful?
<br>
</div>

<div class='talk op-msg' data-timestamp='1501780680' id='561812'>
<a class='timestamp' href='#561812'><time timestamp='2017-08-03T17:18:00Z'>17:18</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
BlueMatt: if there is corruption in the keys themselves or other data, that will be caught elsewhere
<br>
</div>

<div class='talk op-msg' data-timestamp='1501780680' id='561813'>
<a class='timestamp' href='#561813'><time timestamp='2017-08-03T17:18:00Z'>17:18</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
achow101: we can also change the &quot;first run&quot; check to ignore vchDefaultKey, which we clearly should, but you&#x27;re pointing to wallets in the wild that have been corrupted and suggesting we should silently continue
<br>
</div>

<div class='talk op-msg' data-timestamp='1501780680' id='561814'>
<a class='timestamp' href='#561814'><time timestamp='2017-08-03T17:18:00Z'>17:18</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
BlueMatt: I don&#x27;t think we should care that much about corruption in the default key as it has no use
<br>
</div>

<div class='talk op-msg' data-timestamp='1501780740' id='561815'>
<a class='timestamp' href='#561815'><time timestamp='2017-08-03T17:19:00Z'>17:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
Lightsword: i don&#x27;t wee how
<br>
</div>

<div class='talk op-msg' data-timestamp='1501780740' id='561816'>
<a class='timestamp' href='#561816'><time timestamp='2017-08-03T17:19:00Z'>17:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
*see
<br>
</div>

<div class='talk op-msg' data-timestamp='1501780740' id='561817'>
<a class='timestamp' href='#561817'><time timestamp='2017-08-03T17:19:00Z'>17:19</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
achow101: yes we should!
<br>
</div>

<div class='talk op-msg' data-timestamp='1501780740' id='561818'>
<a class='timestamp' href='#561818'><time timestamp='2017-08-03T17:19:00Z'>17:19</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
BlueMatt: only one of those wallets would silently continue, and the guy had no problems with older versions of core
<br>
</div>

<div class='talk op-msg' data-timestamp='1501780740' id='561819'>
<a class='timestamp' href='#561819'><time timestamp='2017-08-03T17:19:00Z'>17:19</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
the user should stop using that computer for a wallet!
<br>
</div>

<div class='talk op-msg' data-timestamp='1501780740' id='561820'>
<a class='timestamp' href='#561820'><time timestamp='2017-08-03T17:19:00Z'>17:19</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
sql could be useful for metadata kind of things, but meh, I don&#x27;t think there&#x27;s really an advantage to it for us we don&#x27;t index anything
<br>
</div>

<div class='talk op-msg' data-timestamp='1501780740' id='561821'>
<a class='timestamp' href='#561821'><time timestamp='2017-08-03T17:19:00Z'>17:19</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
BlueMatt: the other wallet ran into other corruption problems
<br>
</div>

<div class='talk op-msg' data-timestamp='1501780740' id='561822'>
<a class='timestamp' href='#561822'><time timestamp='2017-08-03T17:19:00Z'>17:19</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
that user should be told to throw out their hard drive and get a better one
<br>
</div>

<div class='talk op-msg' data-timestamp='1501780740' id='561823'>
<a class='timestamp' href='#561823'><time timestamp='2017-08-03T17:19:00Z'>17:19</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
or a new computer
<br>
</div>

<div class='talk op-msg' data-timestamp='1501780740' id='561824'>
<a class='timestamp' href='#561824'><time timestamp='2017-08-03T17:19:00Z'>17:19</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
although the current &#x27;keep everything in memory&#x27; is kind of dumb
<br>
</div>

<div class='talk op-msg' data-timestamp='1501780740' id='561825'>
<a class='timestamp' href='#561825'><time timestamp='2017-08-03T17:19:00Z'>17:19</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
not continue
<br>
</div>

<div class='talk op-msg' data-timestamp='1501780800' id='561826'>
<a class='timestamp' href='#561826'><time timestamp='2017-08-03T17:20:00Z'>17:20</time></a>
&lt;<span class='nick nick-16'> Lightsword</span>&gt;
yeah, I was thinking maybe metadata/multiple accounts or something along those lines could possibly make use of sql
<br>
</div>

<div class='talk op-msg' data-timestamp='1501780800' id='561827'>
<a class='timestamp' href='#561827'><time timestamp='2017-08-03T17:20:00Z'>17:20</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
if the wallet would keep things in the database instead and query them when needed, indexes could be useful
<br>
</div>

<div class='talk op-msg' data-timestamp='1501780800' id='561828'>
<a class='timestamp' href='#561828'><time timestamp='2017-08-03T17:20:00Z'>17:20</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
accounts are deprecated, if anything we&#x27;re simplifying the wallet
<br>
</div>

<div class='talk op-msg' data-timestamp='1501780860' id='561829'>
<a class='timestamp' href='#561829'><time timestamp='2017-08-03T17:21:00Z'>17:21</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
BlueMatt: sure they should be warned, but a corrupted default key should not be a reason to halt the software entirely as default key is useless
<br>
</div>

<div class='talk op-msg' data-timestamp='1501780860' id='561830'>
<a class='timestamp' href='#561830'><time timestamp='2017-08-03T17:21:00Z'>17:21</time></a>
&lt;<span class='nick nick-16'> Lightsword</span>&gt;
wumpus, what about multiwallet?
<br>
</div>

<div class='talk op-msg' data-timestamp='1501780920' id='561831'>
<a class='timestamp' href='#561831'><time timestamp='2017-08-03T17:22:00Z'>17:22</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
Lightsword: that uses multiple wallet files
<br>
</div>

<div class='talk op-msg' data-timestamp='1501780920' id='561832'>
<a class='timestamp' href='#561832'><time timestamp='2017-08-03T17:22:00Z'>17:22</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
with older versions of core, IIRC the default key would have either been overwritten or ignored and allowed the user to continue
<br>
</div>

<div class='talk op-msg' data-timestamp='1501780920' id='561833'>
<a class='timestamp' href='#561833'><time timestamp='2017-08-03T17:22:00Z'>17:22</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
achow101: if someone&#x27;s wallet is corrupted, we should exit with an error....if they wish to then restart with -salvagewallet or equivalent, that is also ok
<br>
</div>

<div class='talk op-msg' data-timestamp='1501780920' id='561834'>
<a class='timestamp' href='#561834'><time timestamp='2017-08-03T17:22:00Z'>17:22</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
achow101: and that is a bug!
<br>
</div>

<div class='talk op-msg' data-timestamp='1501780920' id='561835'>
<a class='timestamp' href='#561835'><time timestamp='2017-08-03T17:22:00Z'>17:22</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
if we read something and see that someone&#x27;s hardware is silently corrupting their wallet, we should exit the same way we do with any other wallet corruption errors
<br>
</div>

<div class='talk op-msg' data-timestamp='1501780980' id='561836'>
<a class='timestamp' href='#561836'><time timestamp='2017-08-03T17:23:00Z'>17:23</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
silently fixing wallets is not ok
<br>
</div>

<div class='talk op-msg' data-timestamp='1501780980' id='561837'>
<a class='timestamp' href='#561837'><time timestamp='2017-08-03T17:23:00Z'>17:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
wumpus: well if we expect to ever need indexes on the future because we won&#x27;t keep everything in memory, i&#x27;d say that sqlite is a good choice
<br>
</div>

<div class='talk op-msg' data-timestamp='1501780980' id='561838'>
<a class='timestamp' href='#561838'><time timestamp='2017-08-03T17:23:00Z'>17:23</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
with older versions of core the lack of the default key record would make it assume it&#x27;s a new wallet, which could do all kinds of bad things? I don&#x27;t think that&#x27;s abetter
<br>
</div>

<div class='talk op-msg' data-timestamp='1501780980' id='561839'>
<a class='timestamp' href='#561839'><time timestamp='2017-08-03T17:23:00Z'>17:23</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
there are clearly bugs here that achow101 identified (that i think need fixing for 15)
<br>
</div>

<div class='talk op-msg' data-timestamp='1501780980' id='561840'>
<a class='timestamp' href='#561840'><time timestamp='2017-08-03T17:23:00Z'>17:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
wumpus: not sure if it&#x27;s worthwhile though
<br>
</div>

<div class='talk op-msg' data-timestamp='1501781040' id='561841'>
<a class='timestamp' href='#561841'><time timestamp='2017-08-03T17:24:00Z'>17:24</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
I&#x27;m just not sure that silently correcting /anything/ is every good in wallets
<br>
</div>

<div class='talk op-msg' data-timestamp='1501781040' id='561842'>
<a class='timestamp' href='#561842'><time timestamp='2017-08-03T17:24:00Z'>17:24</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
for 0.15 it&#x27;s too lte imo
<br>
</div>

<div class='talk op-msg' data-timestamp='1501781040' id='561843'>
<a class='timestamp' href='#561843'><time timestamp='2017-08-03T17:24:00Z'>17:24</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
we should do rc1 asap
<br>
</div>

<div class='talk op-msg' data-timestamp='1501781040' id='561844'>
<a class='timestamp' href='#561844'><time timestamp='2017-08-03T17:24:00Z'>17:24</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
wumpus: we&#x27;ve seen it in the wild, and it can be a simple fix
<br>
</div>

<div class='talk op-msg' data-timestamp='1501781040' id='561845'>
<a class='timestamp' href='#561845'><time timestamp='2017-08-03T17:24:00Z'>17:24</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
:(     
<br>
</div>

<div class='talk op-msg' data-timestamp='1501781040' id='561846'>
<a class='timestamp' href='#561846'><time timestamp='2017-08-03T17:24:00Z'>17:24</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
not add new stuff
<br>
</div>

<div class='talk op-msg' data-timestamp='1501781040' id='561847'>
<a class='timestamp' href='#561847'><time timestamp='2017-08-03T17:24:00Z'>17:24</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
have we even identified the bug?
<br>
</div>

<div class='talk op-msg' data-timestamp='1501781040' id='561848'>
<a class='timestamp' href='#561848'><time timestamp='2017-08-03T17:24:00Z'>17:24</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
but that&#x27;s just my opinion (and being harried at all sides to do 0.15 asap)
<br>
</div>

<div class='talk op-msg' data-timestamp='1501781040' id='561849'>
<a class='timestamp' href='#561849'><time timestamp='2017-08-03T17:24:00Z'>17:24</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
sipa: as far as anyone knows its hardware/bdb silently corrupting things
<br>
</div>

<div class='talk op-msg' data-timestamp='1501781040' id='561850'>
<a class='timestamp' href='#561850'><time timestamp='2017-08-03T17:24:00Z'>17:24</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
as opposed to &quot;we have ween a wallet with no default key, somehow&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1501781040' id='561851'>
<a class='timestamp' href='#561851'><time timestamp='2017-08-03T17:24:00Z'>17:24</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
sipa: I can replicate the problem, not necessarily the cause
<br>
</div>

<div class='talk op-msg' data-timestamp='1501781100' id='561852'>
<a class='timestamp' href='#561852'><time timestamp='2017-08-03T17:25:00Z'>17:25</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
but sure if it&#x27;s a clearly defined problem, with a clearly defined fix, and it can be reviewed in the next days, we can include it
<br>
</div>

<div class='talk op-msg' data-timestamp='1501781100' id='561853'>
<a class='timestamp' href='#561853'><time timestamp='2017-08-03T17:25:00Z'>17:25</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
achow101: elaborate
<br>
</div>

<div class='talk op-msg' data-timestamp='1501781100' id='561854'>
<a class='timestamp' href='#561854'><time timestamp='2017-08-03T17:25:00Z'>17:25</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
sipa: encrypt a wallet, use db_dump to dump it, remove the default key, load with db_load, start core, runtime exception
<br>
</div>

<div class='talk op-msg' data-timestamp='1501781160' id='561855'>
<a class='timestamp' href='#561855'><time timestamp='2017-08-03T17:26:00Z'>17:26</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
well, ok
<br>
</div>

<div class='talk op-msg' data-timestamp='1501781160' id='561856'>
<a class='timestamp' href='#561856'><time timestamp='2017-08-03T17:26:00Z'>17:26</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
that&#x27;s what I expect if you just remove a record
<br>
</div>

<div class='talk op-msg' data-timestamp='1501781160' id='561857'>
<a class='timestamp' href='#561857'><time timestamp='2017-08-03T17:26:00Z'>17:26</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
don&#x27;t do that.
<br>
</div>

<div class='talk op-msg' data-timestamp='1501781160' id='561858'>
<a class='timestamp' href='#561858'><time timestamp='2017-08-03T17:26:00Z'>17:26</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but if you permit random file changes, you can make anything happen
<br>
</div>

<div class='talk op-msg' data-timestamp='1501781160' id='561859'>
<a class='timestamp' href='#561859'><time timestamp='2017-08-03T17:26:00Z'>17:26</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
wumpus: yes, sorry, my understanding is its that kind of &quot;simple fix&quot; that would be easy to get in in a day or two
<br>
</div>

<div class='talk op-msg' data-timestamp='1501781160' id='561860'>
<a class='timestamp' href='#561860'><time timestamp='2017-08-03T17:26:00Z'>17:26</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
if you do it unencrypted, it works fine
<br>
</div>

<div class='talk op-msg' data-timestamp='1501781160' id='561861'>
<a class='timestamp' href='#561861'><time timestamp='2017-08-03T17:26:00Z'>17:26</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
if you delete a random record from the utxo database you&#x27;ll also be in for a world of pain
<br>
</div>

<div class='talk op-msg' data-timestamp='1501781160' id='561862'>
<a class='timestamp' href='#561862'><time timestamp='2017-08-03T17:26:00Z'>17:26</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
the issue is that this encourages people to downgrade wallets
<br>
</div>

<div class='talk op-msg' data-timestamp='1501781220' id='561863'>
<a class='timestamp' href='#561863'><time timestamp='2017-08-03T17:27:00Z'>17:27</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
we&#x27;re not resistant to that kind of corruption, and one special case is not going to change that
<br>
</div>

<div class='talk op-msg' data-timestamp='1501781220' id='561864'>
<a class='timestamp' href='#561864'><time timestamp='2017-08-03T17:27:00Z'>17:27</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
I suppose then a check for a valid default key can be added and that would just be a corruption warning?
<br>
</div>

<div class='talk op-msg' data-timestamp='1501781220' id='561865'>
<a class='timestamp' href='#561865'><time timestamp='2017-08-03T17:27:00Z'>17:27</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
just making it a nice error message and making sure -salvagewallet works correctly is the Correct (tm) fix, imo
<br>
</div>

<div class='talk op-msg' data-timestamp='1501781220' id='561866'>
<a class='timestamp' href='#561866'><time timestamp='2017-08-03T17:27:00Z'>17:27</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
could just as well have been a key record that disappears
<br>
</div>

<div class='talk op-msg' data-timestamp='1501781220' id='561867'>
<a class='timestamp' href='#561867'><time timestamp='2017-08-03T17:27:00Z'>17:27</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
achow101: yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1501781220' id='561868'>
<a class='timestamp' href='#561868'><time timestamp='2017-08-03T17:27:00Z'>17:27</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
fine
<br>
</div>

<div class='talk op-msg' data-timestamp='1501781220' id='561869'>
<a class='timestamp' href='#561869'><time timestamp='2017-08-03T17:27:00Z'>17:27</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
salvagewallet should work as long as there is any private key left
<br>
</div>

<div class='talk op-msg' data-timestamp='1501781220' id='561870'>
<a class='timestamp' href='#561870'><time timestamp='2017-08-03T17:27:00Z'>17:27</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
btw the current corruption warnings are kinda bad
<br>
</div>

<div class='talk op-msg' data-timestamp='1501781220' id='561871'>
<a class='timestamp' href='#561871'><time timestamp='2017-08-03T17:27:00Z'>17:27</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
that&#x27;s a known issue...
<br>
</div>

<div class='talk op-msg' data-timestamp='1501781280' id='561872'>
<a class='timestamp' href='#561872'><time timestamp='2017-08-03T17:28:00Z'>17:28</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
there&#x27;s even a chance of running into asserts on db corruption
<br>
</div>

<div class='talk op-msg' data-timestamp='1501781340' id='561873'>
<a class='timestamp' href='#561873'><time timestamp='2017-08-03T17:29:00Z'>17:29</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
would be nice if it could detect corruption at run time and offer the user a chance to repair
<br>
</div>

<div class='talk op-msg' data-timestamp='1501781340' id='561874'>
<a class='timestamp' href='#561874'><time timestamp='2017-08-03T17:29:00Z'>17:29</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
though if a wallet gets corrupted that&#x27;s a good indication you should stop using that computer for bitcoin, now
<br>
</div>

<div class='talk op-msg' data-timestamp='1501781400' id='561875'>
<a class='timestamp' href='#561875'><time timestamp='2017-08-03T17:30:00Z'>17:30</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
so I agree with BlueMatt in that regard
<br>
</div>

<div class='talk op-msg' data-timestamp='1501781460' id='561876'>
<a class='timestamp' href='#561876'><time timestamp='2017-08-03T17:31:00Z'>17:31</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
the main problem I have with that is it encourages people who don&#x27;t know what they are doing (i.e. don&#x27;t ask, can&#x27;t use -salvagewallet, etc.) to downgrade
<br>
</div>

<div class='talk op-msg' data-timestamp='1501781460' id='561877'>
<a class='timestamp' href='#561877'><time timestamp='2017-08-03T17:31:00Z'>17:31</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
?     
<br>
</div>

<div class='talk op-msg' data-timestamp='1501781460' id='561878'>
<a class='timestamp' href='#561878'><time timestamp='2017-08-03T17:31:00Z'>17:31</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
why would they think downgrading would work?
<br>
</div>

<div class='talk op-msg' data-timestamp='1501781520' id='561879'>
<a class='timestamp' href='#561879'><time timestamp='2017-08-03T17:32:00Z'>17:32</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
wumpus: because it does.
<br>
</div>

<div class='talk op-msg' data-timestamp='1501781520' id='561880'>
<a class='timestamp' href='#561880'><time timestamp='2017-08-03T17:32:00Z'>17:32</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
say, your wallet is suddenly corrupted one day
<br>
</div>

<div class='talk op-msg' data-timestamp='1501781520' id='561881'>
<a class='timestamp' href='#561881'><time timestamp='2017-08-03T17:32:00Z'>17:32</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
why would you consider downgrading?
<br>
</div>

<div class='talk op-msg' data-timestamp='1501781520' id='561882'>
<a class='timestamp' href='#561882'><time timestamp='2017-08-03T17:32:00Z'>17:32</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
only if it happens on upgrade I suppose
<br>
</div>

<div class='talk op-msg' data-timestamp='1501781520' id='561883'>
<a class='timestamp' href='#561883'><time timestamp='2017-08-03T17:32:00Z'>17:32</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
with this specific corruption problem, downgrading to non-hd wallet software (0.12.0- or -usehd=0) will ignore this problem
<br>
</div>

<div class='talk op-msg' data-timestamp='1501781520' id='561884'>
<a class='timestamp' href='#561884'><time timestamp='2017-08-03T17:32:00Z'>17:32</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
if the corruption ransomly happens right after uograding, i can see why someone would think that
<br>
</div>

<div class='talk op-msg' data-timestamp='1501781520' id='561885'>
<a class='timestamp' href='#561885'><time timestamp='2017-08-03T17:32:00Z'>17:32</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
*randomly
<br>
</div>

<div class='talk op-msg' data-timestamp='1501781520' id='561886'>
<a class='timestamp' href='#561886'><time timestamp='2017-08-03T17:32:00Z'>17:32</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
not ransomly
<br>
</div>

<div class='talk op-msg' data-timestamp='1501781520' id='561887'>
<a class='timestamp' href='#561887'><time timestamp='2017-08-03T17:32:00Z'>17:32</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes, if it happens right after upgrading, but then it&#x27;s probably a version issue and not a random corruption in any case, would be extremely unlikely otherwise
<br>
</div>

<div class='talk op-msg' data-timestamp='1501781580' id='561888'>
<a class='timestamp' href='#561888'><time timestamp='2017-08-03T17:33:00Z'>17:33</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
achow101: update wallet version number?
<br>
</div>

<div class='talk op-msg' data-timestamp='1501781580' id='561889'>
<a class='timestamp' href='#561889'><time timestamp='2017-08-03T17:33:00Z'>17:33</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
anyway, this is why i think we should give an error message
<br>
</div>

<div class='talk op-msg' data-timestamp='1501781580' id='561890'>
<a class='timestamp' href='#561890'><time timestamp='2017-08-03T17:33:00Z'>17:33</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
sipa: bleh
<br>
</div>

<div class='talk op-msg' data-timestamp='1501781580' id='561891'>
<a class='timestamp' href='#561891'><time timestamp='2017-08-03T17:33:00Z'>17:33</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
oh, we can&#x27;t because the optional stuff uses it
<br>
</div>

<div class='talk op-msg' data-timestamp='1501781580' id='561892'>
<a class='timestamp' href='#561892'><time timestamp='2017-08-03T17:33:00Z'>17:33</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
we really need wallet features grr
<br>
</div>

<div class='talk op-msg' data-timestamp='1501781580' id='561893'>
<a class='timestamp' href='#561893'><time timestamp='2017-08-03T17:33:00Z'>17:33</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
the crash is better than continuing silently, but if it makes people downgrade, we should instead tell them whats up
<br>
</div>

<div class='talk op-msg' data-timestamp='1501781640' id='561894'>
<a class='timestamp' href='#561894'><time timestamp='2017-08-03T17:34:00Z'>17:34</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
IIRC salvagewallet didn&#x27;t fix their problems either, so that will need to be updated
<br>
</div>

<div class='talk op-msg' data-timestamp='1501781640' id='561895'>
<a class='timestamp' href='#561895'><time timestamp='2017-08-03T17:34:00Z'>17:34</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
sipa: arent you the one who added wallet versioning?
<br>
</div>

<div class='talk op-msg' data-timestamp='1501781640' id='561896'>
<a class='timestamp' href='#561896'><time timestamp='2017-08-03T17:34:00Z'>17:34</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
achow101: yes, lets do that :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1501781700' id='561897'>
<a class='timestamp' href='#561897'><time timestamp='2017-08-03T17:35:00Z'>17:35</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
wallet versioning is used for <b>*optional*</b> features?
<br>
</div>

<div class='talk op-msg' data-timestamp='1501781700' id='561898'>
<a class='timestamp' href='#561898'><time timestamp='2017-08-03T17:35:00Z'>17:35</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
oh, no
<br>
</div>

<div class='talk op-msg' data-timestamp='1501781700' id='561899'>
<a class='timestamp' href='#561899'><time timestamp='2017-08-03T17:35:00Z'>17:35</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
I think it would be fine to write some random default key right? it isn&#x27;t used for anything
<br>
</div>

<div class='talk op-msg' data-timestamp='1501781700' id='561900'>
<a class='timestamp' href='#561900'><time timestamp='2017-08-03T17:35:00Z'>17:35</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
wumpus: yes, hd and hd chain split or optional, but they have version numbers
<br>
</div>

<div class='talk op-msg' data-timestamp='1501781700' id='561901'>
<a class='timestamp' href='#561901'><time timestamp='2017-08-03T17:35:00Z'>17:35</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
achow101: its used for pay-to-IP :p
<br>
</div>

<div class='talk op-msg' data-timestamp='1501781760' id='561902'>
<a class='timestamp' href='#561902'><time timestamp='2017-08-03T17:36:00Z'>17:36</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
(I think)
<br>
</div>

<div class='talk op-msg' data-timestamp='1501781760' id='561903'>
<a class='timestamp' href='#561903'><time timestamp='2017-08-03T17:36:00Z'>17:36</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
BlueMatt: yes, and now we can&#x27;t use it
<br>
</div>

<div class='talk op-msg' data-timestamp='1501781760' id='561904'>
<a class='timestamp' href='#561904'><time timestamp='2017-08-03T17:36:00Z'>17:36</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
because the version number is used for optional features
<br>
</div>

<div class='talk op-msg' data-timestamp='1501781760' id='561905'>
<a class='timestamp' href='#561905'><time timestamp='2017-08-03T17:36:00Z'>17:36</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
like HD and split HD
<br>
</div>

<div class='talk op-msg' data-timestamp='1501781820' id='561906'>
<a class='timestamp' href='#561906'><time timestamp='2017-08-03T17:37:00Z'>17:37</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
those should have been a separate record, rather the version number
<br>
</div>

<div class='talk op-msg' data-timestamp='1501781820' id='561907'>
<a class='timestamp' href='#561907'><time timestamp='2017-08-03T17:37:00Z'>17:37</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
would have been better to use a new key to indicate those (as well as bump the version number, but not in itself)
<br>
</div>

<div class='talk op-msg' data-timestamp='1501781820' id='561908'>
<a class='timestamp' href='#561908'><time timestamp='2017-08-03T17:37:00Z'>17:37</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
well teh version should be bumped too to make it incompatible, but yeah
<br>
</div>

<div class='talk op-msg' data-timestamp='1501781880' id='561909'>
<a class='timestamp' href='#561909'><time timestamp='2017-08-03T17:38:00Z'>17:38</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
right
<br>
</div>

<div class='talk op-msg' data-timestamp='1501781940' id='561910'>
<a class='timestamp' href='#561910'><time timestamp='2017-08-03T17:39:00Z'>17:39</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
Make Bitcoin Great Again: Bring back Pay-2-IP
<br>
</div>

<div class='talk op-msg' data-timestamp='1501782000' id='561911'>
<a class='timestamp' href='#561911'><time timestamp='2017-08-03T17:40:00Z'>17:40</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
BlueMatt: i tried :(
<br>
</div>

<div class='talk op-msg' data-timestamp='1501782000' id='561912'>
<a class='timestamp' href='#561912'><time timestamp='2017-08-03T17:40:00Z'>17:40</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
with .onion addresses or some other way to authenticate an IP at the transport layer (such as ipsec) it even could work securely!
<br>
</div>

<div class='talk op-msg' data-timestamp='1501782060' id='561913'>
<a class='timestamp' href='#561913'><time timestamp='2017-08-03T17:41:00Z'>17:41</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
wumpus: I&#x27;m currently working on tcpcrypt for linux patchset :p
<br>
</div>

<div class='talk op-msg' data-timestamp='1501782060' id='561914'>
<a class='timestamp' href='#561914'><time timestamp='2017-08-03T17:41:00Z'>17:41</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
BlueMatt: I have no idea what that is
<br>
</div>

<div class='talk op-msg' data-timestamp='1501782060' id='561915'>
<a class='timestamp' href='#561915'><time timestamp='2017-08-03T17:41:00Z'>17:41</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
wumpus: tcp-crypt :p
<br>
</div>

<div class='talk op-msg' data-timestamp='1501782120' id='561916'>
<a class='timestamp' href='#561916'><time timestamp='2017-08-03T17:42:00Z'>17:42</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
en..crypt...TCP?
<br>
</div>

<div class='talk op-msg' data-timestamp='1501782120' id='561917'>
<a class='timestamp' href='#561917'><time timestamp='2017-08-03T17:42:00Z'>17:42</time></a>
&lt;<span class='nick nick-16'> Lightsword</span>&gt;
<a href="http://www.tcpcrypt.org/" class="link" target="_blank">http://www.tcpcrypt.org/</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1501782120' id='561918'>
<a class='timestamp' href='#561918'><time timestamp='2017-08-03T17:42:00Z'>17:42</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
yes, that
<br>
</div>

<div class='talk op-msg' data-timestamp='1501782180' id='561919'>
<a class='timestamp' href='#561919'><time timestamp='2017-08-03T17:43:00Z'>17:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ah, nice
<br>
</div>

<div class='talk op-msg' data-timestamp='1501782300' id='561920'>
<a class='timestamp' href='#561920'><time timestamp='2017-08-03T17:45:00Z'>17:45</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
&quot;and your network connections will continue to work even if the remote end does not support Tcpcrypt, in which case connections will gracefully fall back to standard clear-text TCP&quot; - that screams downgrade attack :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1501782360' id='561921'>
<a class='timestamp' href='#561921'><time timestamp='2017-08-03T17:46:00Z'>17:46</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
oh damn, now default key can&#x27;t be removed :(
<br>
</div>

<div class='talk op-msg' data-timestamp='1501782360' id='561922'>
<a class='timestamp' href='#561922'><time timestamp='2017-08-03T17:46:00Z'>17:46</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
wumpus: read on
<br>
</div>

<div class='talk op-msg' data-timestamp='1501782360' id='561923'>
<a class='timestamp' href='#561923'><time timestamp='2017-08-03T17:46:00Z'>17:46</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
achow101: ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1501782360' id='561924'>
<a class='timestamp' href='#561924'><time timestamp='2017-08-03T17:46:00Z'>17:46</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
wumpus: it only protects against passive attacks
<br>
</div>

<div class='talk op-msg' data-timestamp='1501782360' id='561925'>
<a class='timestamp' href='#561925'><time timestamp='2017-08-03T17:46:00Z'>17:46</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
sipa: to check if default key is valid, it needs to be in CWallet
<br>
</div>

<div class='talk op-msg' data-timestamp='1501782360' id='561926'>
<a class='timestamp' href='#561926'><time timestamp='2017-08-03T17:46:00Z'>17:46</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
achow101: ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1501782360' id='561927'>
<a class='timestamp' href='#561927'><time timestamp='2017-08-03T17:46:00Z'>17:46</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
wumpus: yes, if the application layer does nto support it it only protects against passive mitm attacks, if the application layer supports it you can disconnect if tcpcrypt failed (but dont do that, cause middleware sucks)
<br>
</div>

<div class='talk op-msg' data-timestamp='1501782420' id='561928'>
<a class='timestamp' href='#561928'><time timestamp='2017-08-03T17:47:00Z'>17:47</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
I need some way to get default key out of database into a checker, which also checks if default key exists
<br>
</div>

<div class='talk op-msg' data-timestamp='1501782420' id='561929'>
<a class='timestamp' href='#561929'><time timestamp='2017-08-03T17:47:00Z'>17:47</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
achow101: you can just check when loading the wallet
<br>
</div>

<div class='talk op-msg' data-timestamp='1501782420' id='561930'>
<a class='timestamp' href='#561930'><time timestamp='2017-08-03T17:47:00Z'>17:47</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
the only vehicle for that right now is cwallet I think
<br>
</div>

<div class='talk op-msg' data-timestamp='1501782480' id='561931'>
<a class='timestamp' href='#561931'><time timestamp='2017-08-03T17:48:00Z'>17:48</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i&#x27;m sure there is or can be a LoadDefaultKey function on CWallet, called from walletdb
<br>
</div>

<div class='talk op-msg' data-timestamp='1501782480' id='561932'>
<a class='timestamp' href='#561932'><time timestamp='2017-08-03T17:48:00Z'>17:48</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
switch that to do a check, but not store
<br>
</div>

<div class='talk op-msg' data-timestamp='1501782480' id='561933'>
<a class='timestamp' href='#561933'><time timestamp='2017-08-03T17:48:00Z'>17:48</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
I guess I could also just add more parameters too
<br>
</div>

<div class='talk op-msg' data-timestamp='1501784040' id='561934'>
<a class='timestamp' href='#561934'><time timestamp='2017-08-03T18:14:00Z'>18:14</time></a>
&lt;<span class='nick nick-10'> earlz</span>&gt;
I&#x27;m trying to get gitian working with 0.14.0. Has anyone seen an error like this? lxcbr0: ERROR while getting interface flags: No such device
<br>
</div>

<div class='talk op-msg' data-timestamp='1501784040' id='561935'>
<a class='timestamp' href='#561935'><time timestamp='2017-08-03T18:14:00Z'>18:14</time></a>
&lt;<span class='nick nick-10'> earlz</span>&gt;
SIOCSIFADDR: No such device
<br>
</div>

<div class='talk op-msg' data-timestamp='1501784040' id='561936'>
<a class='timestamp' href='#561936'><time timestamp='2017-08-03T18:14:00Z'>18:14</time></a>
&lt;<span class='nick nick-10'> earlz</span>&gt;
just following the gitian-building.md document exactly and getting that error
<br>
</div>

<div class='talk op-msg' data-timestamp='1501784280' id='561937'>
<a class='timestamp' href='#561937'><time timestamp='2017-08-03T18:18:00Z'>18:18</time></a>
&lt;<span class='nick nick-10'> earlz</span>&gt;
ifconfig
<br>
</div>

<div class='talk op-msg' data-timestamp='1501784280' id='561938'>
<a class='timestamp' href='#561938'><time timestamp='2017-08-03T18:18:00Z'>18:18</time></a>
&lt;<span class='nick nick-10'> earlz</span>&gt;
er, woops
<br>
</div>

<div class='talk op-msg' data-timestamp='1501784340' id='561939'>
<a class='timestamp' href='#561939'><time timestamp='2017-08-03T18:19:00Z'>18:19</time></a>
&lt;<span class='nick nick-10'> earlz</span>&gt;
do I need a kernel flag or something? It&#x27;s failing at the sudo ifconfig lxcbr0 up 10.0.2.2 bit
<br>
</div>

<div class='talk op-msg' data-timestamp='1501784400' id='561940'>
<a class='timestamp' href='#561940'><time timestamp='2017-08-03T18:20:00Z'>18:20</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
do you have the lxc kernel module loaded?
<br>
</div>

<div class='talk op-msg' data-timestamp='1501784460' id='561941'>
<a class='timestamp' href='#561941'><time timestamp='2017-08-03T18:21:00Z'>18:21</time></a>
&lt;<span class='nick nick-10'> earlz</span>&gt;
I pretty much just followed the gitian build instructions and I don&#x27;t see anywhere in them that the kernel module was explicitly installed unless the lxc package does that
<br>
</div>

<div class='talk op-msg' data-timestamp='1501784640' id='561942'>
<a class='timestamp' href='#561942'><time timestamp='2017-08-03T18:24:00Z'>18:24</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
looks like you don&#x27;t have a lxcbr0 interface for bridging between the lxc and host
<br>
</div>

<div class='talk op-msg' data-timestamp='1501784700' id='561943'>
<a class='timestamp' href='#561943'><time timestamp='2017-08-03T18:25:00Z'>18:25</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
not sure how and where that gets created though
<br>
</div>

<div class='talk op-msg' data-timestamp='1501784700' id='561944'>
<a class='timestamp' href='#561944'><time timestamp='2017-08-03T18:25:00Z'>18:25</time></a>
&lt;<span class='nick nick-10'> earlz</span>&gt;
yea, I&#x27;m not understanding where that gets created in the guide. Last time I setup gitian it was for Bitcoin 0.9 so not sure what all has changed since then
<br>
</div>

<div class='talk op-msg' data-timestamp='1501784820' id='561945'>
<a class='timestamp' href='#561945'><time timestamp='2017-08-03T18:27:00Z'>18:27</time></a>
&lt;<span class='nick nick-10'> earlz</span>&gt;
maybe related: <a href="https://github.com/lxc/lxc/issues/1218" class="link" target="_blank">https://github.com/lxc/lxc/issues/1218</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1501784880' id='561946'>
<a class='timestamp' href='#561946'><time timestamp='2017-08-03T18:28:00Z'>18:28</time></a>
&lt;<span class='nick nick-10'> earlz</span>&gt;
LXC seems to be broken in some subtle way every time I try to do a new setup of gitian 
<br>
</div>

<div class='talk op-msg' data-timestamp='1501784880' id='561947'>
<a class='timestamp' href='#561947'><time timestamp='2017-08-03T18:28:00Z'>18:28</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
wumpus, BlueMatt: i think we really need to fix the versioning issues
<br>
</div>

<div class='talk op-msg' data-timestamp='1501784880' id='561948'>
<a class='timestamp' href='#561948'><time timestamp='2017-08-03T18:28:00Z'>18:28</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
wallet versioning?
<br>
</div>

<div class='talk op-msg' data-timestamp='1501784880' id='561949'>
<a class='timestamp' href='#561949'><time timestamp='2017-08-03T18:28:00Z'>18:28</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that would make it so much easier (you could say, past wallet version X, no default key is needed anymore)
<br>
</div>

<div class='talk op-msg' data-timestamp='1501784940' id='561950'>
<a class='timestamp' href='#561950'><time timestamp='2017-08-03T18:29:00Z'>18:29</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i want to move hd to a separate record
<br>
</div>

<div class='talk op-msg' data-timestamp='1501784940' id='561951'>
<a class='timestamp' href='#561951'><time timestamp='2017-08-03T18:29:00Z'>18:29</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
rather than store it in the version number
<br>
</div>

<div class='talk op-msg' data-timestamp='1501784940' id='561952'>
<a class='timestamp' href='#561952'><time timestamp='2017-08-03T18:29:00Z'>18:29</time></a>
&lt;<span class='nick nick-16'> * BlueMatt</span>&gt;
is actually confused why
<br>
</div>

<div class='talk op-msg' data-timestamp='1501784940' id='561953'>
<a class='timestamp' href='#561953'><time timestamp='2017-08-03T18:29:00Z'>18:29</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
because we can&#x27;t upgrade the wallet format, ever, now
<br>
</div>

<div class='talk op-msg' data-timestamp='1501784940' id='561954'>
<a class='timestamp' href='#561954'><time timestamp='2017-08-03T18:29:00Z'>18:29</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
in a backward incompatible way
<br>
</div>

<div class='talk op-msg' data-timestamp='1501784940' id='561955'>
<a class='timestamp' href='#561955'><time timestamp='2017-08-03T18:29:00Z'>18:29</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
version number = backwards-incompatible change (ie hd), new-key is backwards-compatible extra features
<br>
</div>

<div class='talk op-msg' data-timestamp='1501784940' id='561956'>
<a class='timestamp' href='#561956'><time timestamp='2017-08-03T18:29:00Z'>18:29</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
without turning the wallet into an hd wallet
<br>
</div>

<div class='talk op-msg' data-timestamp='1501785000' id='561957'>
<a class='timestamp' href='#561957'><time timestamp='2017-08-03T18:30:00Z'>18:30</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yes, that&#x27;s what it&#x27;s supposed to be
<br>
</div>

<div class='talk op-msg' data-timestamp='1501785000' id='561958'>
<a class='timestamp' href='#561958'><time timestamp='2017-08-03T18:30:00Z'>18:30</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but HD is a version number
<br>
</div>

<div class='talk op-msg' data-timestamp='1501785000' id='561959'>
<a class='timestamp' href='#561959'><time timestamp='2017-08-03T18:30:00Z'>18:30</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
so?     
<br>
</div>

<div class='talk op-msg' data-timestamp='1501785000' id='561960'>
<a class='timestamp' href='#561960'><time timestamp='2017-08-03T18:30:00Z'>18:30</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
we can&#x27;t increment the version number to indicate something incompatible now
<br>
</div>

<div class='talk op-msg' data-timestamp='1501785000' id='561961'>
<a class='timestamp' href='#561961'><time timestamp='2017-08-03T18:30:00Z'>18:30</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
what do you want to add that needs to upgrade without being hd?
<br>
</div>

<div class='talk op-msg' data-timestamp='1501785000' id='561962'>
<a class='timestamp' href='#561962'><time timestamp='2017-08-03T18:30:00Z'>18:30</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
anything
<br>
</div>

<div class='talk op-msg' data-timestamp='1501785000' id='561963'>
<a class='timestamp' href='#561963'><time timestamp='2017-08-03T18:30:00Z'>18:30</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
we should implement hd upgrade
<br>
</div>

<div class='talk op-msg' data-timestamp='1501785000' id='561964'>
<a class='timestamp' href='#561964'><time timestamp='2017-08-03T18:30:00Z'>18:30</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
thats something we very much need to do anyway
<br>
</div>

<div class='talk op-msg' data-timestamp='1501785000' id='561965'>
<a class='timestamp' href='#561965'><time timestamp='2017-08-03T18:30:00Z'>18:30</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
what does that mean?
<br>
</div>

<div class='talk op-msg' data-timestamp='1501785060' id='561966'>
<a class='timestamp' href='#561966'><time timestamp='2017-08-03T18:31:00Z'>18:31</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
taking a non-hd wallet and adding an hd key
<br>
</div>

<div class='talk op-msg' data-timestamp='1501785060' id='561967'>
<a class='timestamp' href='#561967'><time timestamp='2017-08-03T18:31:00Z'>18:31</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yes, ok, that too
<br>
</div>

<div class='talk op-msg' data-timestamp='1501785060' id='561968'>
<a class='timestamp' href='#561968'><time timestamp='2017-08-03T18:31:00Z'>18:31</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but do you want to force everyone to have an hd wallet?
<br>
</div>

<div class='talk op-msg' data-timestamp='1501785060' id='561969'>
<a class='timestamp' href='#561969'><time timestamp='2017-08-03T18:31:00Z'>18:31</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
(probably also need an hd-key-rotate option, but thats separate and I think not related to hd)
<br>
</div>

<div class='talk op-msg' data-timestamp='1501785060' id='561970'>
<a class='timestamp' href='#561970'><time timestamp='2017-08-03T18:31:00Z'>18:31</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
^     
<br>
</div>

<div class='talk op-msg' data-timestamp='1501785120' id='561971'>
<a class='timestamp' href='#561971'><time timestamp='2017-08-03T18:32:00Z'>18:32</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
I&#x27;m happy to force everyone into an hd wallet if we have an hd-master-key-rotate option
<br>
</div>

<div class='talk op-msg' data-timestamp='1501785120' id='561972'>
<a class='timestamp' href='#561972'><time timestamp='2017-08-03T18:32:00Z'>18:32</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yeah, ok...
<br>
</div>

<div class='talk op-msg' data-timestamp='1501785120' id='561973'>
<a class='timestamp' href='#561973'><time timestamp='2017-08-03T18:32:00Z'>18:32</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but those are all bigger features
<br>
</div>

<div class='talk op-msg' data-timestamp='1501785120' id='561974'>
<a class='timestamp' href='#561974'><time timestamp='2017-08-03T18:32:00Z'>18:32</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
well i think all of those are relatively limited code changes
<br>
</div>

<div class='talk op-msg' data-timestamp='1501785120' id='561975'>
<a class='timestamp' href='#561975'><time timestamp='2017-08-03T18:32:00Z'>18:32</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
and at least hd-master-key-rotate can happen with no format change, I think
<br>
</div>

<div class='talk op-msg' data-timestamp='1501785120' id='561976'>
<a class='timestamp' href='#561976'><time timestamp='2017-08-03T18:32:00Z'>18:32</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i am talking about 0.15
<br>
</div>

<div class='talk op-msg' data-timestamp='1501785120' id='561977'>
<a class='timestamp' href='#561977'><time timestamp='2017-08-03T18:32:00Z'>18:32</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
even if &quot;big&quot; features
<br>
</div>

<div class='talk op-msg' data-timestamp='1501785180' id='561978'>
<a class='timestamp' href='#561978'><time timestamp='2017-08-03T18:33:00Z'>18:33</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
do we need to add anything else? why rush the no vchdefaultkey thing?
<br>
</div>

<div class='talk op-msg' data-timestamp='1501785180' id='561979'>
<a class='timestamp' href='#561979'><time timestamp='2017-08-03T18:33:00Z'>18:33</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
otherwise we&#x27;ll complicate things further for ourselves
<br>
</div>

<div class='talk op-msg' data-timestamp='1501785180' id='561980'>
<a class='timestamp' href='#561980'><time timestamp='2017-08-03T18:33:00Z'>18:33</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
to add a compatibility layer for split hd
<br>
</div>

<div class='talk op-msg' data-timestamp='1501785180' id='561981'>
<a class='timestamp' href='#561981'><time timestamp='2017-08-03T18:33:00Z'>18:33</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
ok, I&#x27;m missing something...need context
<br>
</div>

<div class='talk op-msg' data-timestamp='1501785180' id='561982'>
<a class='timestamp' href='#561982'><time timestamp='2017-08-03T18:33:00Z'>18:33</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
no, ignore the vchdefaultkey thing
<br>
</div>

<div class='talk op-msg' data-timestamp='1501785240' id='561983'>
<a class='timestamp' href='#561983'><time timestamp='2017-08-03T18:34:00Z'>18:34</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
hd and hdsplit, i think, are optional features - things that people can choose not to use
<br>
</div>

<div class='talk op-msg' data-timestamp='1501785240' id='561984'>
<a class='timestamp' href='#561984'><time timestamp='2017-08-03T18:34:00Z'>18:34</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
now, yes, but i have no problem with them not being optional in the future
<br>
</div>

<div class='talk op-msg' data-timestamp='1501785240' id='561985'>
<a class='timestamp' href='#561985'><time timestamp='2017-08-03T18:34:00Z'>18:34</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
as they break existing wallet&#x27;s expectation
<br>
</div>

<div class='talk op-msg' data-timestamp='1501785300' id='561986'>
<a class='timestamp' href='#561986'><time timestamp='2017-08-03T18:35:00Z'>18:35</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
hmm, ok
<br>
</div>

<div class='talk op-msg' data-timestamp='1501785360' id='561987'>
<a class='timestamp' href='#561987'><time timestamp='2017-08-03T18:36:00Z'>18:36</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
not being optional in our traditional -walletupgrade sense, that is
<br>
</div>

<div class='talk op-msg' data-timestamp='1501785360' id='561988'>
<a class='timestamp' href='#561988'><time timestamp='2017-08-03T18:36:00Z'>18:36</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
i mean I&#x27;m happy for someone to disagree, I just dont see much downside to it (as long as we have an hd-master-key-rotate option and good documentation on it)
<br>
</div>

<div class='talk op-msg' data-timestamp='1501785360' id='561989'>
<a class='timestamp' href='#561989'><time timestamp='2017-08-03T18:36:00Z'>18:36</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i think i agree
<br>
</div>

<div class='talk op-msg' data-timestamp='1501785420' id='561990'>
<a class='timestamp' href='#561990'><time timestamp='2017-08-03T18:37:00Z'>18:37</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
except i&#x27;m not sure we&#x27;ll have that feature implemented by the time we need it
<br>
</div>

<div class='talk op-msg' data-timestamp='1501785420' id='561991'>
<a class='timestamp' href='#561991'><time timestamp='2017-08-03T18:37:00Z'>18:37</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
well hd-master-key-rotate is ~trivial with today&#x27;s format
<br>
</div>

<div class='talk op-msg' data-timestamp='1501785420' id='561992'>
<a class='timestamp' href='#561992'><time timestamp='2017-08-03T18:37:00Z'>18:37</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
okay
<br>
</div>

<div class='talk op-msg' data-timestamp='1501785420' id='561993'>
<a class='timestamp' href='#561993'><time timestamp='2017-08-03T18:37:00Z'>18:37</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
hd-upgrade may be slightly less so, I havent thought about it
<br>
</div>

<div class='talk op-msg' data-timestamp='1501785420' id='561994'>
<a class='timestamp' href='#561994'><time timestamp='2017-08-03T18:37:00Z'>18:37</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
but I expect it to be
<br>
</div>

<div class='talk op-msg' data-timestamp='1501785420' id='561995'>
<a class='timestamp' href='#561995'><time timestamp='2017-08-03T18:37:00Z'>18:37</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
in that case, i guess it makes sense that those things are in fact in the version number
<br>
</div>

<div class='talk op-msg' data-timestamp='1501785540' id='561996'>
<a class='timestamp' href='#561996'><time timestamp='2017-08-03T18:39:00Z'>18:39</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i just wasn&#x27;t seeing hd as a &#x27;next version&#x27;, and more as an optional but recommended feature
<br>
</div>

<div class='talk op-msg' data-timestamp='1501785600' id='561997'>
<a class='timestamp' href='#561997'><time timestamp='2017-08-03T18:40:00Z'>18:40</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
i mean its possible i did /because/ of our versioning scheme, but it is simpler to see it as such and there seem to be relatively limited downsides for it, given some code that doesnt exist yet :p
<br>
</div>

<div class='talk op-msg' data-timestamp='1501786380' id='561998'>
<a class='timestamp' href='#561998'><time timestamp='2017-08-03T18:53:00Z'>18:53</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I&#x27;d say using hdsplit isn&#x27;t really optional, given that you&#x27;re using hd
<br>
</div>

<div class='talk op-msg' data-timestamp='1501786440' id='561999'>
<a class='timestamp' href='#561999'><time timestamp='2017-08-03T18:54:00Z'>18:54</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
hdsplit is a pure improvement on hd
<br>
</div>

<div class='talk op-msg' data-timestamp='1501786620' id='562000'>
<a class='timestamp' href='#562000'><time timestamp='2017-08-03T18:57:00Z'>18:57</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
agree
<br>
</div>

<div class='talk op-msg' data-timestamp='1501786620' id='562001'>
<a class='timestamp' href='#562001'><time timestamp='2017-08-03T18:57:00Z'>18:57</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but do we support upgrading from hd to hdsplit?
<br>
</div>

<div class='talk op-msg' data-timestamp='1501786620' id='562002'>
<a class='timestamp' href='#562002'><time timestamp='2017-08-03T18:57:00Z'>18:57</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
(right now)
<br>
</div>

<div class='talk op-msg' data-timestamp='1501786680' id='562003'>
<a class='timestamp' href='#562003'><time timestamp='2017-08-03T18:58:00Z'>18:58</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
ugh. how could we except via invalidating backups which people wouldn&#x27;t expect...
<br>
</div>

<div class='talk op-msg' data-timestamp='1501786680' id='562004'>
<a class='timestamp' href='#562004'><time timestamp='2017-08-03T18:58:00Z'>18:58</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
no, we don&#x27;t support that right now
<br>
</div>

<div class='talk op-msg' data-timestamp='1501786740' id='562005'>
<a class='timestamp' href='#562005'><time timestamp='2017-08-03T18:59:00Z'>18:59</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
hdsplit was sort-of rushed to make 0.15, so that at least new wallets would use it
<br>
</div>

<div class='talk op-msg' data-timestamp='1501786740' id='562006'>
<a class='timestamp' href='#562006'><time timestamp='2017-08-03T18:59:00Z'>18:59</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
so, until we find a way to (forcefully) upgrade non-hd and hd to hdsplit, we should consider hdsplit an optional feature
<br>
</div>

<div class='talk op-msg' data-timestamp='1501786740' id='562007'>
<a class='timestamp' href='#562007'><time timestamp='2017-08-03T18:59:00Z'>18:59</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
but it&#x27;s strictly superior to hd without hdsplit, so there should be no way to choose that for new wallets
<br>
</div>

<div class='talk op-msg' data-timestamp='1501786740' id='562008'>
<a class='timestamp' href='#562008'><time timestamp='2017-08-03T18:59:00Z'>18:59</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I don&#x27;t think forcefully upgrading is at all possible, because it will invalidate backups.
<br>
</div>

<div class='talk op-msg' data-timestamp='1501786800' id='562009'>
<a class='timestamp' href='#562009'><time timestamp='2017-08-03T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it wouldn&#x27;t need to be &#x27;forceful&#x27; upgrading, just a <b>*way*</b>
<br>
</div>

<div class='talk op-msg' data-timestamp='1501786800' id='562010'>
<a class='timestamp' href='#562010'><time timestamp='2017-08-03T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
and in any case we don&#x27;t ever automatically upgrade wallets 
<br>
</div>

<div class='talk op-msg' data-timestamp='1501786800' id='562011'>
<a class='timestamp' href='#562011'><time timestamp='2017-08-03T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
(because of backwards compatibility)
<br>
</div>

<div class='talk op-msg' data-timestamp='1501786800' id='562012'>
<a class='timestamp' href='#562012'><time timestamp='2017-08-03T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
switch to using segwit, and that will upgrade you. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1501786800' id='562013'>
<a class='timestamp' href='#562013'><time timestamp='2017-08-03T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
#startmeeting
<br>
</div>

<div class='talk op-msg' data-timestamp='1501786800' id='562014'>
<a class='timestamp' href='#562014'><time timestamp='2017-08-03T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Meeting started Thu Aug  3 19:00:54 2017 UTC.  The chair is wumpus. Information about MeetBot at <a href="http://wiki.debian.org/MeetBot" class="link" target="_blank">http://wiki.debian.org/MeetBot</a>.
<br>
</div>

<div class='talk op-msg' data-timestamp='1501786800' id='562015'>
<a class='timestamp' href='#562015'><time timestamp='2017-08-03T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Useful Commands: #action #agreed #help #info #idea #link #topic.
<br>
</div>

<div class='talk op-msg' data-timestamp='1501786860' id='562016'>
<a class='timestamp' href='#562016'><time timestamp='2017-08-03T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
hi     
<br>
</div>

<div class='talk op-msg' data-timestamp='1501786860' id='562017'>
<a class='timestamp' href='#562017'><time timestamp='2017-08-03T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
hi     
<br>
</div>

<div class='talk op-msg' data-timestamp='1501786860' id='562018'>
<a class='timestamp' href='#562018'><time timestamp='2017-08-03T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
hi     
<br>
</div>

<div class='talk op-msg' data-timestamp='1501786860' id='562019'>
<a class='timestamp' href='#562019'><time timestamp='2017-08-03T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
#bitcoin-core-dev Meeting: wumpus sipa gmaxwell jonasschnelli morcos luke-jr btcdrak sdaftuar jtimon cfields petertodd kanzure bluematt instagibbs phantomcircuit codeshark michagogo marcofalke paveljanik NicolasDorier jl2012 achow101
<br>
</div>

<div class='talk op-msg' data-timestamp='1501786860' id='562020'>
<a class='timestamp' href='#562020'><time timestamp='2017-08-03T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-4'> kanzure</span>&gt;
hi.     
<br>
</div>

<div class='talk op-msg' data-timestamp='1501786860' id='562021'>
<a class='timestamp' href='#562021'><time timestamp='2017-08-03T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
hi     
<br>
</div>

<div class='talk op-msg' data-timestamp='1501786860' id='562022'>
<a class='timestamp' href='#562022'><time timestamp='2017-08-03T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
hi     
<br>
</div>

<div class='talk op-msg' data-timestamp='1501786860' id='562023'>
<a class='timestamp' href='#562023'><time timestamp='2017-08-03T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
0.15.0rc1 is planned for the 6th (next sunday), so let&#x27;s go over the open issues again
<br>
</div>

<div class='talk op-msg' data-timestamp='1501786920' id='562024'>
<a class='timestamp' href='#562024'><time timestamp='2017-08-03T19:02:00Z'>19:02</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
there&#x27;s not much anymore
<br>
</div>

<div class='talk op-msg' data-timestamp='1501786920' id='562025'>
<a class='timestamp' href='#562025'><time timestamp='2017-08-03T19:02:00Z'>19:02</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/milestones/0.15.0" class="link" target="_blank">https://github.com/bitcoin/bitcoin/milestones/0.15.0</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1501786980' id='562026'>
<a class='timestamp' href='#562026'><time timestamp='2017-08-03T19:03:00Z'>19:03</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
Hi     
<br>
</div>

<div class='talk op-msg' data-timestamp='1501786980' id='562027'>
<a class='timestamp' href='#562027'><time timestamp='2017-08-03T19:03:00Z'>19:03</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
(and the scripted-diffs are option, and should be done at the last minute to not conflict with anything else)
<br>
</div>

<div class='talk op-msg' data-timestamp='1501786980' id='562028'>
<a class='timestamp' href='#562028'><time timestamp='2017-08-03T19:03:00Z'>19:03</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
 Keypool topup #10882  is the most complicated PR open still, but should be almost ready
<br>
</div>

<div class='talk op-msg' data-timestamp='1501786980' id='562029'>
<a class='timestamp' href='#562029'><time timestamp='2017-08-03T19:03:00Z'>19:03</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/10882" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/10882</a> | Keypool topup by jnewbery · Pull Request #10882 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1501787040' id='562030'>
<a class='timestamp' href='#562030'><time timestamp='2017-08-03T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/10977" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/10977</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1501787040' id='562031'>
<a class='timestamp' href='#562031'><time timestamp='2017-08-03T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
could go
<br>
</div>

<div class='talk op-msg' data-timestamp='1501787040' id='562032'>
<a class='timestamp' href='#562032'><time timestamp='2017-08-03T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
(makes test_bitcoin valgrind-better)
<br>
</div>

<div class='talk op-msg' data-timestamp='1501787040' id='562033'>
<a class='timestamp' href='#562033'><time timestamp='2017-08-03T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
and is trivial
<br>
</div>

<div class='talk op-msg' data-timestamp='1501787040' id='562034'>
<a class='timestamp' href='#562034'><time timestamp='2017-08-03T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
yeah, I&#x27;ve been working on 10882 today. Should be able to push my commits in the next hour or two
<br>
</div>

<div class='talk op-msg' data-timestamp='1501787040' id='562035'>
<a class='timestamp' href='#562035'><time timestamp='2017-08-03T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I&#x27;m not really fishing for new things to add to 0.15
<br>
</div>

<div class='talk op-msg' data-timestamp='1501787040' id='562036'>
<a class='timestamp' href='#562036'><time timestamp='2017-08-03T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
jnewbery made a suggestion to fix my outstanding concern in review.
<br>
</div>

<div class='talk op-msg' data-timestamp='1501787100' id='562037'>
<a class='timestamp' href='#562037'><time timestamp='2017-08-03T19:05:00Z'>19:05</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
but if there are things that could be merged without affecting anything else that&#x27;s ok
<br>
</div>

<div class='talk op-msg' data-timestamp='1501787100' id='562038'>
<a class='timestamp' href='#562038'><time timestamp='2017-08-03T19:05:00Z'>19:05</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
after #10758, #10919 seems simple to review, it&#x27;s only +14-13
<br>
</div>

<div class='talk op-msg' data-timestamp='1501787100' id='562039'>
<a class='timestamp' href='#562039'><time timestamp='2017-08-03T19:05:00Z'>19:05</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/10758" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/10758</a> | Fix some chainstate-init-order bugs. by TheBlueMatt · Pull Request #10758 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1501787100' id='562040'>
<a class='timestamp' href='#562040'><time timestamp='2017-08-03T19:05:00Z'>19:05</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/10919" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/10919</a> | Fix more init bugs. by TheBlueMatt · Pull Request #10919 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1501787100' id='562041'>
<a class='timestamp' href='#562041'><time timestamp='2017-08-03T19:05:00Z'>19:05</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it&#x27;s also already marked 0.15
<br>
</div>

<div class='talk op-msg' data-timestamp='1501787100' id='562042'>
<a class='timestamp' href='#562042'><time timestamp='2017-08-03T19:05:00Z'>19:05</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
i think there&#x27;s a one-liner that could be used to fix the issue in 10977, if it&#x27;s deemed too much of a change
<br>
</div>

<div class='talk op-msg' data-timestamp='1501787100' id='562043'>
<a class='timestamp' href='#562043'><time timestamp='2017-08-03T19:05:00Z'>19:05</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
BlueMatt: I&#x27;d like to see 10977 fixed! but darn I wish that patch was smaller and easier to review.
<br>
</div>

<div class='talk op-msg' data-timestamp='1501787100' id='562044'>
<a class='timestamp' href='#562044'><time timestamp='2017-08-03T19:05:00Z'>19:05</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes, just needs some ACKs
<br>
</div>

<div class='talk op-msg' data-timestamp='1501787100' id='562045'>
<a class='timestamp' href='#562045'><time timestamp='2017-08-03T19:05:00Z'>19:05</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
could be smaller, but is easy to review imo
<br>
</div>

<div class='talk op-msg' data-timestamp='1501787100' id='562046'>
<a class='timestamp' href='#562046'><time timestamp='2017-08-03T19:05:00Z'>19:05</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
there&#x27;s one commit in #10919 that i&#x27;m hoping others can review/ack
<br>
</div>

<div class='talk op-msg' data-timestamp='1501787100' id='562047'>
<a class='timestamp' href='#562047'><time timestamp='2017-08-03T19:05:00Z'>19:05</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/10919" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/10919</a> | Fix more init bugs. by TheBlueMatt · Pull Request #10919 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1501787220' id='562048'>
<a class='timestamp' href='#562048'><time timestamp='2017-08-03T19:07:00Z'>19:07</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
which one?
<br>
</div>

<div class='talk op-msg' data-timestamp='1501787220' id='562049'>
<a class='timestamp' href='#562049'><time timestamp='2017-08-03T19:07:00Z'>19:07</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
the first, i believe
<br>
</div>

<div class='talk op-msg' data-timestamp='1501787220' id='562050'>
<a class='timestamp' href='#562050'><time timestamp='2017-08-03T19:07:00Z'>19:07</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
yep     
<br>
</div>

<div class='talk op-msg' data-timestamp='1501787280' id='562051'>
<a class='timestamp' href='#562051'><time timestamp='2017-08-03T19:08:00Z'>19:08</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
the threadgroup one? seems obviously sane to me, though it does mean things need to be interrupted too
<br>
</div>

<div class='talk op-msg' data-timestamp='1501787280' id='562052'>
<a class='timestamp' href='#562052'><time timestamp='2017-08-03T19:08:00Z'>19:08</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
well i think the point is that there is a comment there that notes we dont do it &quot;because dragons&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1501787340' id='562053'>
<a class='timestamp' href='#562053'><time timestamp='2017-08-03T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
i believe strongly that it is safe, and qt does it, but &quot;dragons&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1501787340' id='562054'>
<a class='timestamp' href='#562054'><time timestamp='2017-08-03T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it is very bad practice not to wait for threads before exiting
<br>
</div>

<div class='talk op-msg' data-timestamp='1501787340' id='562055'>
<a class='timestamp' href='#562055'><time timestamp='2017-08-03T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes, qt does it already, it&#x27;s somewhat less scared of dragons it seems :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1501787340' id='562056'>
<a class='timestamp' href='#562056'><time timestamp='2017-08-03T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
isnt qt&#x27;s logo a dragon or something?
<br>
</div>

<div class='talk op-msg' data-timestamp='1501787400' id='562057'>
<a class='timestamp' href='#562057'><time timestamp='2017-08-03T19:10:00Z'>19:10</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
heh, think you&#x27;re thinking of kde
<br>
</div>

<div class='talk op-msg' data-timestamp='1501787400' id='562058'>
<a class='timestamp' href='#562058'><time timestamp='2017-08-03T19:10:00Z'>19:10</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
oh, yea
<br>
</div>

<div class='talk op-msg' data-timestamp='1501787400' id='562059'>
<a class='timestamp' href='#562059'><time timestamp='2017-08-03T19:10:00Z'>19:10</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
(e.g. due to qt&#x27;s handling of shutdown we also needed #10832)
<br>
</div>

<div class='talk op-msg' data-timestamp='1501787400' id='562060'>
<a class='timestamp' href='#562060'><time timestamp='2017-08-03T19:10:00Z'>19:10</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/10832" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/10832</a> | init: Factor out AppInitLockDataDirectory and fix startup core dump issue by laanwj · Pull Request #10832 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1501787400' id='562061'>
<a class='timestamp' href='#562061'><time timestamp='2017-08-03T19:10:00Z'>19:10</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
anyhow that commit looks good to me, I don&#x27;t think there&#x27;s any dragons left
<br>
</div>

<div class='talk op-msg' data-timestamp='1501787460' id='562062'>
<a class='timestamp' href='#562062'><time timestamp='2017-08-03T19:11:00Z'>19:11</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
sounds-good-to-me-ack
<br>
</div>

<div class='talk op-msg' data-timestamp='1501787520' id='562063'>
<a class='timestamp' href='#562063'><time timestamp='2017-08-03T19:12:00Z'>19:12</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
ok, wow, that seems to be all that is left between here and 0.15.0rc1
<br>
</div>

<div class='talk op-msg' data-timestamp='1501787520' id='562064'>
<a class='timestamp' href='#562064'><time timestamp='2017-08-03T19:12:00Z'>19:12</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
!     
<br>
</div>

<div class='talk op-msg' data-timestamp='1501787520' id='562065'>
<a class='timestamp' href='#562065'><time timestamp='2017-08-03T19:12:00Z'>19:12</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
:)     
<br>
</div>

<div class='talk op-msg' data-timestamp='1501787580' id='562066'>
<a class='timestamp' href='#562066'><time timestamp='2017-08-03T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
wumpus: i had an assert crash this morning, i imagine it&#x27;ll be a simple bug.. hopefully i&#x27;ll have a PR this afternoon, just haven&#x27;t had time to look at it yet
<br>
</div>

<div class='talk op-msg' data-timestamp='1501787580' id='562067'>
<a class='timestamp' href='#562067'><time timestamp='2017-08-03T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
(there&#x27;s another PR #10971 by cfields for fixing depends builds, but I don&#x27;t think that needs disussion, it&#x27;s a one-liner in the build system)
<br>
</div>

<div class='talk op-msg' data-timestamp='1501787580' id='562068'>
<a class='timestamp' href='#562068'><time timestamp='2017-08-03T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/10971" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/10971</a> | build: fix missing warnings and sse42 in depends builds by theuni · Pull Request #10971 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1501787580' id='562069'>
<a class='timestamp' href='#562069'><time timestamp='2017-08-03T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
morcos: ouch, can you open an issue to track it?
<br>
</div>

<div class='talk op-msg' data-timestamp='1501787580' id='562070'>
<a class='timestamp' href='#562070'><time timestamp='2017-08-03T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
yea, nothing major
<br>
</div>

<div class='talk op-msg' data-timestamp='1501787640' id='562071'>
<a class='timestamp' href='#562071'><time timestamp='2017-08-03T19:14:00Z'>19:14</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
yes will open one or the other shortly
<br>
</div>

<div class='talk op-msg' data-timestamp='1501787640' id='562072'>
<a class='timestamp' href='#562072'><time timestamp='2017-08-03T19:14:00Z'>19:14</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
ok, thanks
<br>
</div>

<div class='talk op-msg' data-timestamp='1501787700' id='562073'>
<a class='timestamp' href='#562073'><time timestamp='2017-08-03T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
do we need any updates to bips.md for 0.15?
<br>
</div>

<div class='talk op-msg' data-timestamp='1501787700' id='562074'>
<a class='timestamp' href='#562074'><time timestamp='2017-08-03T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
hmm, good question
<br>
</div>

<div class='talk op-msg' data-timestamp='1501787700' id='562075'>
<a class='timestamp' href='#562075'><time timestamp='2017-08-03T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
(that&#x27;s the item in the release process that still has a ? here)
<br>
</div>

<div class='talk op-msg' data-timestamp='1501787700' id='562076'>
<a class='timestamp' href='#562076'><time timestamp='2017-08-03T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
is there a bip that recommends hd split?
<br>
</div>

<div class='talk op-msg' data-timestamp='1501787700' id='562077'>
<a class='timestamp' href='#562077'><time timestamp='2017-08-03T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
BlueMatt: bip32? :p
<br>
</div>

<div class='talk op-msg' data-timestamp='1501787760' id='562078'>
<a class='timestamp' href='#562078'><time timestamp='2017-08-03T19:16:00Z'>19:16</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
there&#x27;s also &quot;Update `src/chainparams.cpp` chainTxData with statistics about the transaction count and rate.&quot; left
<br>
</div>

<div class='talk op-msg' data-timestamp='1501787760' id='562079'>
<a class='timestamp' href='#562079'><time timestamp='2017-08-03T19:16:00Z'>19:16</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
want me to do that?
<br>
</div>

<div class='talk op-msg' data-timestamp='1501787760' id='562080'>
<a class='timestamp' href='#562080'><time timestamp='2017-08-03T19:16:00Z'>19:16</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
and the BLOCK_CHAIN_SIZE, but that&#x27;s straightforward
<br>
</div>

<div class='talk op-msg' data-timestamp='1501787760' id='562081'>
<a class='timestamp' href='#562081'><time timestamp='2017-08-03T19:16:00Z'>19:16</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes, if you know what&#x27;s exactly to be done there that&#x27;d help :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1501787820' id='562082'>
<a class='timestamp' href='#562082'><time timestamp='2017-08-03T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sure
<br>
</div>

<div class='talk op-msg' data-timestamp='1501787880' id='562083'>
<a class='timestamp' href='#562083'><time timestamp='2017-08-03T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
thanks
<br>
</div>

<div class='talk op-msg' data-timestamp='1501787880' id='562084'>
<a class='timestamp' href='#562084'><time timestamp='2017-08-03T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
short topic: bip173 unit tests issue
<br>
</div>

<div class='talk op-msg' data-timestamp='1501787940' id='562085'>
<a class='timestamp' href='#562085'><time timestamp='2017-08-03T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
#topic bip173 unit tests issue
<br>
</div>

<div class='talk op-msg' data-timestamp='1501787940' id='562086'>
<a class='timestamp' href='#562086'><time timestamp='2017-08-03T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
There are a few more things for release notes
<br>
</div>

<div class='talk op-msg' data-timestamp='1501787940' id='562087'>
<a class='timestamp' href='#562087'><time timestamp='2017-08-03T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
so, bip173 specifies how to translate address strings to witness version/program, and defers to bip141 for encoding that to scriptPubKeys
<br>
</div>

<div class='talk op-msg' data-timestamp='1501787940' id='562088'>
<a class='timestamp' href='#562088'><time timestamp='2017-08-03T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
however, the unit tests actually test the whole step from address to scriptPubKey
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788000' id='562089'>
<a class='timestamp' href='#562089'><time timestamp='2017-08-03T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
turns out, incorrectly
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788000' id='562090'>
<a class='timestamp' href='#562090'><time timestamp='2017-08-03T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
the tests and reference implementation (of the tests) was wrong, and every reimplementation copied it
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788060' id='562091'>
<a class='timestamp' href='#562091'><time timestamp='2017-08-03T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
The the error was that it confused hex and dec values.
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788060' id='562092'>
<a class='timestamp' href='#562092'><time timestamp='2017-08-03T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i&#x27;ve made a PR to update the BIP, and all reference implementations i could find, but this is kind of scary
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788060' id='562093'>
<a class='timestamp' href='#562093'><time timestamp='2017-08-03T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
corner-cases wrong? or in all cases?
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788060' id='562094'>
<a class='timestamp' href='#562094'><time timestamp='2017-08-03T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
jnewbery: agreed, but release notes need to be finished before -final, not -rc1, so it&#x27;s not a blocker
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788060' id='562095'>
<a class='timestamp' href='#562095'><time timestamp='2017-08-03T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
cfields: it assumed OP_n was encoded as 0x80 + n, rather than 80 + n
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788060' id='562096'>
<a class='timestamp' href='#562096'><time timestamp='2017-08-03T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
sipa: so they generate garbage scripts?
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788120' id='562097'>
<a class='timestamp' href='#562097'><time timestamp='2017-08-03T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
got it. Thanks wumpus
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788120' id='562098'>
<a class='timestamp' href='#562098'><time timestamp='2017-08-03T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
BlueMatt: the tests, yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788120' id='562099'>
<a class='timestamp' href='#562099'><time timestamp='2017-08-03T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
the code itself doesn&#x27;t contain a conversion to scriptPubKey at all, only a conversion to witness version/program
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788120' id='562100'>
<a class='timestamp' href='#562100'><time timestamp='2017-08-03T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
cfields: It was wrong for witness program versions other than 0
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788120' id='562101'>
<a class='timestamp' href='#562101'><time timestamp='2017-08-03T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
yikes
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788120' id='562102'>
<a class='timestamp' href='#562102'><time timestamp='2017-08-03T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
oops
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788120' id='562103'>
<a class='timestamp' href='#562103'><time timestamp='2017-08-03T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
so this could happily have been deployed and started causing problems when v1 was used.
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788120' id='562104'>
<a class='timestamp' href='#562104'><time timestamp='2017-08-03T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but the tests contain a version/program -&gt; scriptPubKey converter in order to be able the test
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788180' id='562105'>
<a class='timestamp' href='#562105'><time timestamp='2017-08-03T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
well if it generated garbage scripts, not much that can be done but fix it
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788180' id='562106'>
<a class='timestamp' href='#562106'><time timestamp='2017-08-03T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
are you asking if we should like change the prefix now?
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788180' id='562107'>
<a class='timestamp' href='#562107'><time timestamp='2017-08-03T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
no     
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788180' id='562108'>
<a class='timestamp' href='#562108'><time timestamp='2017-08-03T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
just raising awareness
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788180' id='562109'>
<a class='timestamp' href='#562109'><time timestamp='2017-08-03T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
ok, cool
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788180' id='562110'>
<a class='timestamp' href='#562110'><time timestamp='2017-08-03T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
perhaps an email to the -dev list would also be good?
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788180' id='562111'>
<a class='timestamp' href='#562111'><time timestamp='2017-08-03T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Also, it highlighes an implementation footgun, I suggested some warning text in the BIP itself.   One protection here is that the particular error in sipas&#x27; code would result in non-standard outputs.
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788180' id='562112'>
<a class='timestamp' href='#562112'><time timestamp='2017-08-03T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sdaftuar: yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788240' id='562113'>
<a class='timestamp' href='#562113'><time timestamp='2017-08-03T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
BlueMatt: I did make a suggestion that we consider changing it to break the checksum, but there doesn&#x27;t appear to be reason to.
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788240' id='562114'>
<a class='timestamp' href='#562114'><time timestamp='2017-08-03T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
ok     
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788240' id='562115'>
<a class='timestamp' href='#562115'><time timestamp='2017-08-03T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
just to be clear what we are talking about, we&#x27;re not talking about anything merged into Core, but code referenced from the BIP
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788240' id='562116'>
<a class='timestamp' href='#562116'><time timestamp='2017-08-03T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
awareness raised!
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788240' id='562117'>
<a class='timestamp' href='#562117'><time timestamp='2017-08-03T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Especially since if someone had slavishly reimplemented the error in the reference, they&#x27;d produce non-standard outputs.
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788240' id='562118'>
<a class='timestamp' href='#562118'><time timestamp='2017-08-03T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
morcos: indeed.
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788240' id='562119'>
<a class='timestamp' href='#562119'><time timestamp='2017-08-03T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
still, a bit scary
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788300' id='562120'>
<a class='timestamp' href='#562120'><time timestamp='2017-08-03T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
(though i&#x27;d like to PR it to core soon - apparently last week it was suggested to do that in 0.15.1?)
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788300' id='562121'>
<a class='timestamp' href='#562121'><time timestamp='2017-08-03T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Don&#x27;t start a debate about the name of the version. :P
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788300' id='562122'>
<a class='timestamp' href='#562122'><time timestamp='2017-08-03T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
haha
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788300' id='562123'>
<a class='timestamp' href='#562123'><time timestamp='2017-08-03T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
(though i&#x27;d like to PR it to core soon - apparently last week it was suggested to do that in some soon next version)
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788300' id='562124'>
<a class='timestamp' href='#562124'><time timestamp='2017-08-03T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
It also suggests that BIP173 support&#x27;s test plan should include testing it with other witness version numbers. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788300' id='562125'>
<a class='timestamp' href='#562125'><time timestamp='2017-08-03T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
prs welcome :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788360' id='562126'>
<a class='timestamp' href='#562126'><time timestamp='2017-08-03T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sipa: well fix the testing shortfalls I found in the C++ version please. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788360' id='562127'>
<a class='timestamp' href='#562127'><time timestamp='2017-08-03T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
PRs to improve the tests are always welcome anyhow
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788360' id='562128'>
<a class='timestamp' href='#562128'><time timestamp='2017-08-03T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: of course
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788360' id='562129'>
<a class='timestamp' href='#562129'><time timestamp='2017-08-03T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
anyway, end topic
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788360' id='562130'>
<a class='timestamp' href='#562130'><time timestamp='2017-08-03T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
ok, other topics?
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788480' id='562131'>
<a class='timestamp' href='#562131'><time timestamp='2017-08-03T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
uh      
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788480' id='562132'>
<a class='timestamp' href='#562132'><time timestamp='2017-08-03T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
yes.
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788480' id='562133'>
<a class='timestamp' href='#562133'><time timestamp='2017-08-03T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
So service bits and altcoins.
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788480' id='562134'>
<a class='timestamp' href='#562134'><time timestamp='2017-08-03T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
#topic service bits and altcoins
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788480' id='562135'>
<a class='timestamp' href='#562135'><time timestamp='2017-08-03T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
wait are altcoins using serice bits now?
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788480' id='562136'>
<a class='timestamp' href='#562136'><time timestamp='2017-08-03T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
oh, right 2x did
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788480' id='562137'>
<a class='timestamp' href='#562137'><time timestamp='2017-08-03T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Bcash is using our port, p2pmagic, etc. They distinguish themselve with a blinking service bit.
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788480' id='562138'>
<a class='timestamp' href='#562138'><time timestamp='2017-08-03T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
what is wrong with people
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788480' id='562139'>
<a class='timestamp' href='#562139'><time timestamp='2017-08-03T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(also 2x will do this too it seems)
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788540' id='562140'>
<a class='timestamp' href='#562140'><time timestamp='2017-08-03T19:29:00Z'>19:29</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
gmaxwell: can someone open a pr to change this? or do they refuse to work properly?
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788540' id='562141'>
<a class='timestamp' href='#562141'><time timestamp='2017-08-03T19:29:00Z'>19:29</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
gmaxwell: i was under the impression that they were planning to change the magic soon
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788540' id='562142'>
<a class='timestamp' href='#562142'><time timestamp='2017-08-03T19:29:00Z'>19:29</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
We mostly ban them when they send us transactions or headers.
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788540' id='562143'>
<a class='timestamp' href='#562143'><time timestamp='2017-08-03T19:29:00Z'>19:29</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
cfields: not when I looked three days ago, maybe now.
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788540' id='562144'>
<a class='timestamp' href='#562144'><time timestamp='2017-08-03T19:29:00Z'>19:29</time></a>
&lt;<span class='nick nick-6'> karelb</span>&gt;
OK, maybe I will ask here. What format are the bitcoin .dat files in data/blocks/*.dat? is that leveldb? what is it exactly?
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788540' id='562145'>
<a class='timestamp' href='#562145'><time timestamp='2017-08-03T19:29:00Z'>19:29</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
karelb: meeting, not now
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788540' id='562146'>
<a class='timestamp' href='#562146'><time timestamp='2017-08-03T19:29:00Z'>19:29</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
If so then the issue becomes moot, otherwise I was going to suggest we ban these bits on connect. The downside is we lose the bits basically forever.
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788540' id='562147'>
<a class='timestamp' href='#562147'><time timestamp='2017-08-03T19:29:00Z'>19:29</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
they are p2p network format
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788540' id='562148'>
<a class='timestamp' href='#562148'><time timestamp='2017-08-03T19:29:00Z'>19:29</time></a>
&lt;<span class='nick nick-6'> karelb</span>&gt;
ok sorry
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788540' id='562149'>
<a class='timestamp' href='#562149'><time timestamp='2017-08-03T19:29:00Z'>19:29</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
oops, yes, layer
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788600' id='562150'>
<a class='timestamp' href='#562150'><time timestamp='2017-08-03T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-6'> karelb</span>&gt;
sorry going out
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788600' id='562151'>
<a class='timestamp' href='#562151'><time timestamp='2017-08-03T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-9'> * karelb</span>&gt;
apologizes
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788600' id='562152'>
<a class='timestamp' href='#562152'><time timestamp='2017-08-03T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
gmaxwell: yes, first should be someone bludgening them to work properly
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788600' id='562153'>
<a class='timestamp' href='#562153'><time timestamp='2017-08-03T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
gmaxwell: before we start burning service bits
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788600' id='562154'>
<a class='timestamp' href='#562154'><time timestamp='2017-08-03T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
BlueMatt: people have been since before they started. Obviously I&#x27;ll go monitor but I&#x27;m not super confident.
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788600' id='562155'>
<a class='timestamp' href='#562155'><time timestamp='2017-08-03T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
gmaxwell: why not just ban for eg the next 3 months or something?
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788600' id='562156'>
<a class='timestamp' href='#562156'><time timestamp='2017-08-03T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
BlueMatt: gmaxwell IIRC they will be changing their magic and port
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788600' id='562157'>
<a class='timestamp' href='#562157'><time timestamp='2017-08-03T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
if we need to do anything at all
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788660' id='562158'>
<a class='timestamp' href='#562158'><time timestamp='2017-08-03T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
dunno about 2x
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788660' id='562159'>
<a class='timestamp' href='#562159'><time timestamp='2017-08-03T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
One reason burning service bits may not be so bad is because we are due to replace the addr message for i2p and NG-HS support.
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788660' id='562160'>
<a class='timestamp' href='#562160'><time timestamp='2017-08-03T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
achow101: what about 2x?
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788660' id='562161'>
<a class='timestamp' href='#562161'><time timestamp='2017-08-03T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
So we could at that point just define a new service flagging mechenism.
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788660' id='562162'>
<a class='timestamp' href='#562162'><time timestamp='2017-08-03T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
gmaxwell: yea, does anyone have a spec for that?
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788660' id='562163'>
<a class='timestamp' href='#562163'><time timestamp='2017-08-03T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Not yet.
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788660' id='562164'>
<a class='timestamp' href='#562164'><time timestamp='2017-08-03T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
k     
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788660' id='562165'>
<a class='timestamp' href='#562165'><time timestamp='2017-08-03T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Well if they&#x27;re finally going to change it, it becomes moot.. but the same issue arises with 2x.
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788720' id='562166'>
<a class='timestamp' href='#562166'><time timestamp='2017-08-03T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
how would a service bit help here?
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788720' id='562167'>
<a class='timestamp' href='#562167'><time timestamp='2017-08-03T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
well someone needs to bludgen the 2x folks to change it, otherwise we start banning for a few months
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788720' id='562168'>
<a class='timestamp' href='#562168'><time timestamp='2017-08-03T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
just ban everyone without NODE_SEGWIT? :p
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788720' id='562169'>
<a class='timestamp' href='#562169'><time timestamp='2017-08-03T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
wumpus: we still want to support non-upgraded nodes.
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788720' id='562170'>
<a class='timestamp' href='#562170'><time timestamp='2017-08-03T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
but they won&#x27;t have any new version bit either
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788720' id='562171'>
<a class='timestamp' href='#562171'><time timestamp='2017-08-03T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
that was my point, not to suggest that seriously :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788780' id='562172'>
<a class='timestamp' href='#562172'><time timestamp='2017-08-03T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
wumpus: oh no, you misunderstand: ABC and 2x both set randomly generated service bits.
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788780' id='562173'>
<a class='timestamp' href='#562173'><time timestamp='2017-08-03T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
gmaxwell: eh?
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788780' id='562174'>
<a class='timestamp' href='#562174'><time timestamp='2017-08-03T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
I think sdaftuar&#x27;s suggestion is reasonable, assuming they refuse to do something sane
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788780' id='562175'>
<a class='timestamp' href='#562175'><time timestamp='2017-08-03T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(which they&#x27;ve helpfully ignored the gigantic comment in the code that tells you to at least inform the list.)
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788780' id='562176'>
<a class='timestamp' href='#562176'><time timestamp='2017-08-03T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
oh     
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788780' id='562177'>
<a class='timestamp' href='#562177'><time timestamp='2017-08-03T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sdaftuar: I hadn&#x27;t considered a time limited ban. Good point.
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788780' id='562178'>
<a class='timestamp' href='#562178'><time timestamp='2017-08-03T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
oh you mean banning everything that sets their version bit?
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788780' id='562179'>
<a class='timestamp' href='#562179'><time timestamp='2017-08-03T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes, that&#x27;d be doable
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788780' id='562180'>
<a class='timestamp' href='#562180'><time timestamp='2017-08-03T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
wumpus: yes, with a time limit
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788780' id='562181'>
<a class='timestamp' href='#562181'><time timestamp='2017-08-03T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
wumpus: well disconnecting, not banning. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788840' id='562182'>
<a class='timestamp' href='#562182'><time timestamp='2017-08-03T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
nah, ban for 3 months
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788840' id='562183'>
<a class='timestamp' href='#562183'><time timestamp='2017-08-03T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Okay thanks, Time limit makes sense. duh. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788840' id='562184'>
<a class='timestamp' href='#562184'><time timestamp='2017-08-03T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
temporarily, yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788840' id='562185'>
<a class='timestamp' href='#562185'><time timestamp='2017-08-03T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
wumpus: opened issue #10981, easy fix, but i&#x27;ll let someone else do the PR as i&#x27;m not in the office for next week.  please tag with 0.15.
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788840' id='562186'>
<a class='timestamp' href='#562186'><time timestamp='2017-08-03T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/10981" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/10981</a> | resendwallettransactions asserts if walletbroadcast=0 · Issue #10981 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788840' id='562187'>
<a class='timestamp' href='#562187'><time timestamp='2017-08-03T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
BlueMatt: banning creates problems when you run multiple things on one machine.
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788840' id='562188'>
<a class='timestamp' href='#562188'><time timestamp='2017-08-03T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
gmaxwell: meh
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788840' id='562189'>
<a class='timestamp' href='#562189'><time timestamp='2017-08-03T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
morcos: thanks, will tag later (not logged in now)
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788900' id='562190'>
<a class='timestamp' href='#562190'><time timestamp='2017-08-03T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
gmaxwell: they refused to do something that wasnt astoundingly broken, if it means their users get fucked, its not really my problem
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788900' id='562191'>
<a class='timestamp' href='#562191'><time timestamp='2017-08-03T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
(or if someone else can do it)
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788900' id='562192'>
<a class='timestamp' href='#562192'><time timestamp='2017-08-03T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
BlueMatt: so chaincode ip will be banned.  nice.
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788900' id='562193'>
<a class='timestamp' href='#562193'><time timestamp='2017-08-03T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
morcos: -connect=altcoin.dns.seed
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788900' id='562194'>
<a class='timestamp' href='#562194'><time timestamp='2017-08-03T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
:)     
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788960' id='562195'>
<a class='timestamp' href='#562195'><time timestamp='2017-08-03T19:36:00Z'>19:36</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
agree that banning goes too far, just not allow connections
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788960' id='562196'>
<a class='timestamp' href='#562196'><time timestamp='2017-08-03T19:36:00Z'>19:36</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
maye just disconnect?
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788960' id='562197'>
<a class='timestamp' href='#562197'><time timestamp='2017-08-03T19:36:00Z'>19:36</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
there&#x27;s no point in banning everything after that
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788960' id='562198'>
<a class='timestamp' href='#562198'><time timestamp='2017-08-03T19:36:00Z'>19:36</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
what? no. matt, doing that will ban Bitcoin Core users when someone on the same IP ran crapware.
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788960' id='562199'>
<a class='timestamp' href='#562199'><time timestamp='2017-08-03T19:36:00Z'>19:36</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
perhaps better for after the meeting, but I&#x27;m still not sure why #8498 wasn&#x27;t suitable for 0.15 ...
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788960' id='562200'>
<a class='timestamp' href='#562200'><time timestamp='2017-08-03T19:36:00Z'>19:36</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/8498" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/8498</a> | Near-Bugfix: Optimization: Minimize the number of times it is checked that no money... by jtimon · Pull Request #8498 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788960' id='562201'>
<a class='timestamp' href='#562201'><time timestamp='2017-08-03T19:36:00Z'>19:36</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
To be clear this is important because these useless altcoin nodes waste connection slots, and are potentially at risk of gobbling up our initial headers fetch.
<br>
</div>

<div class='talk op-msg' data-timestamp='1501788960' id='562202'>
<a class='timestamp' href='#562202'><time timestamp='2017-08-03T19:36:00Z'>19:36</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
gmaxwell: ugh
<br>
</div>

<div class='talk op-msg' data-timestamp='1501789020' id='562203'>
<a class='timestamp' href='#562203'><time timestamp='2017-08-03T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
fine, disconnect
<br>
</div>

<div class='talk op-msg' data-timestamp='1501789020' id='562204'>
<a class='timestamp' href='#562204'><time timestamp='2017-08-03T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
at some point someone is gonna create some altcoin crapware that reconnects agressively, though
<br>
</div>

<div class='talk op-msg' data-timestamp='1501789020' id='562205'>
<a class='timestamp' href='#562205'><time timestamp='2017-08-03T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
disconnect up until a certain date
<br>
</div>

<div class='talk op-msg' data-timestamp='1501789020' id='562206'>
<a class='timestamp' href='#562206'><time timestamp='2017-08-03T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
some spv forks probably will
<br>
</div>

<div class='talk op-msg' data-timestamp='1501789020' id='562207'>
<a class='timestamp' href='#562207'><time timestamp='2017-08-03T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
what would be that point?
<br>
</div>

<div class='talk op-msg' data-timestamp='1501789020' id='562208'>
<a class='timestamp' href='#562208'><time timestamp='2017-08-03T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
because crapware
<br>
</div>

<div class='talk op-msg' data-timestamp='1501789020' id='562209'>
<a class='timestamp' href='#562209'><time timestamp='2017-08-03T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it would disconnect immediately after the version message
<br>
</div>

<div class='talk op-msg' data-timestamp='1501789020' id='562210'>
<a class='timestamp' href='#562210'><time timestamp='2017-08-03T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Also, looks like ABC has some kind of deadlocking bug, because I see a few of them just going unresponsive to anything but pings, which delays them getting banned for being on the wrong network.
<br>
</div>

<div class='talk op-msg' data-timestamp='1501789020' id='562211'>
<a class='timestamp' href='#562211'><time timestamp='2017-08-03T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
+1 disconnect up to certain date, but i think it should be 12 mos and not 3
<br>
</div>

<div class='talk op-msg' data-timestamp='1501789020' id='562212'>
<a class='timestamp' href='#562212'><time timestamp='2017-08-03T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
do not make assumptions about crapware working in a sane way
<br>
</div>

<div class='talk op-msg' data-timestamp='1501789020' id='562213'>
<a class='timestamp' href='#562213'><time timestamp='2017-08-03T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
banning would ban 1 message sooner
<br>
</div>

<div class='talk op-msg' data-timestamp='1501789020' id='562214'>
<a class='timestamp' href='#562214'><time timestamp='2017-08-03T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
no reason we&#x27;ll need that next service bit right away
<br>
</div>

<div class='talk op-msg' data-timestamp='1501789020' id='562215'>
<a class='timestamp' href='#562215'><time timestamp='2017-08-03T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
morcos: sure, that sounds fine
<br>
</div>

<div class='talk op-msg' data-timestamp='1501789080' id='562216'>
<a class='timestamp' href='#562216'><time timestamp='2017-08-03T19:38:00Z'>19:38</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
s/ban/disconnect
<br>
</div>

<div class='talk op-msg' data-timestamp='1501789080' id='562217'>
<a class='timestamp' href='#562217'><time timestamp='2017-08-03T19:38:00Z'>19:38</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
morcos: seems reasonable
<br>
</div>

<div class='talk op-msg' data-timestamp='1501789080' id='562218'>
<a class='timestamp' href='#562218'><time timestamp='2017-08-03T19:38:00Z'>19:38</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
ack on disconnect based on service bits for 12months or similar.
<br>
</div>

<div class='talk op-msg' data-timestamp='1501789080' id='562219'>
<a class='timestamp' href='#562219'><time timestamp='2017-08-03T19:38:00Z'>19:38</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
unless we start adding banned nodes to the local firewall, there&#x27;s no serious difference between disconnecting on connect or after the version message
<br>
</div>

<div class='talk op-msg' data-timestamp='1501789080' id='562220'>
<a class='timestamp' href='#562220'><time timestamp='2017-08-03T19:38:00Z'>19:38</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
though in general, one of these clowns is going to squat service buts we&#x27;re in the process of trying to use. :( I have no suggestion on dealing with that.
<br>
</div>

<div class='talk op-msg' data-timestamp='1501789140' id='562221'>
<a class='timestamp' href='#562221'><time timestamp='2017-08-03T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
but i think it&#x27;d be worth a quick email/github message to jgarzik to check that they aren&#x27;t imminently changing their plan
<br>
</div>

<div class='talk op-msg' data-timestamp='1501789140' id='562222'>
<a class='timestamp' href='#562222'><time timestamp='2017-08-03T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
lets deal with that when we get there
<br>
</div>

<div class='talk op-msg' data-timestamp='1501789140' id='562223'>
<a class='timestamp' href='#562223'><time timestamp='2017-08-03T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
s/buts/bits/
<br>
</div>

<div class='talk op-msg' data-timestamp='1501789140' id='562224'>
<a class='timestamp' href='#562224'><time timestamp='2017-08-03T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
well if they change the magic and port we can stop worrying about the service bits they claim
<br>
</div>

<div class='talk op-msg' data-timestamp='1501789140' id='562225'>
<a class='timestamp' href='#562225'><time timestamp='2017-08-03T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
morcos: yes, as I stated previously we should tell these guys to change network magic <b>*first*</b>
<br>
</div>

<div class='talk op-msg' data-timestamp='1501789140' id='562226'>
<a class='timestamp' href='#562226'><time timestamp='2017-08-03T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
also we could at that point check for NODE_SEGWIT + our service bit
<br>
</div>

<div class='talk op-msg' data-timestamp='1501789140' id='562227'>
<a class='timestamp' href='#562227'><time timestamp='2017-08-03T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
yes but what if they change to a different service bit
<br>
</div>

<div class='talk op-msg' data-timestamp='1501789140' id='562228'>
<a class='timestamp' href='#562228'><time timestamp='2017-08-03T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
morcos: there is some PR where people have been arguing for ages, about this, so I&#x27;m doubtful but sure.
<br>
</div>

<div class='talk op-msg' data-timestamp='1501789140' id='562229'>
<a class='timestamp' href='#562229'><time timestamp='2017-08-03T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
might as well ask first and tell him what we&#x27;re planning on doing
<br>
</div>

<div class='talk op-msg' data-timestamp='1501789140' id='562230'>
<a class='timestamp' href='#562230'><time timestamp='2017-08-03T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
change to a different version bit? what would that accomplish?
<br>
</div>

<div class='talk op-msg' data-timestamp='1501789200' id='562231'>
<a class='timestamp' href='#562231'><time timestamp='2017-08-03T19:40:00Z'>19:40</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
whooo knows?!!
<br>
</div>

<div class='talk op-msg' data-timestamp='1501789200' id='562232'>
<a class='timestamp' href='#562232'><time timestamp='2017-08-03T19:40:00Z'>19:40</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
At the end we&#x27;re doing them a favor, there are a lot more bitcoin nodes than random altcoin nodes, so these incorrect connections tend to cause them a lot more problems than us.
<br>
</div>

<div class='talk op-msg' data-timestamp='1501789200' id='562233'>
<a class='timestamp' href='#562233'><time timestamp='2017-08-03T19:40:00Z'>19:40</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
yup     
<br>
</div>

<div class='talk op-msg' data-timestamp='1501789200' id='562234'>
<a class='timestamp' href='#562234'><time timestamp='2017-08-03T19:40:00Z'>19:40</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
ok, probalem solved
<br>
</div>

<div class='talk op-msg' data-timestamp='1501789200' id='562235'>
<a class='timestamp' href='#562235'><time timestamp='2017-08-03T19:40:00Z'>19:40</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
who wants to go tell them that we&#x27;re gonna disconnect them?
<br>
</div>

<div class='talk op-msg' data-timestamp='1501789200' id='562236'>
<a class='timestamp' href='#562236'><time timestamp='2017-08-03T19:40:00Z'>19:40</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
if avoiding detection is the point, they could better stop setting their version bti at that point is better than randomly cycling it according to moon phases
<br>
</div>

<div class='talk op-msg' data-timestamp='1501789260' id='562237'>
<a class='timestamp' href='#562237'><time timestamp='2017-08-03T19:41:00Z'>19:41</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
BlueMatt: perhaps we should just open the disconnect PR and ping them to comment on it?
<br>
</div>

<div class='talk op-msg' data-timestamp='1501789260' id='562238'>
<a class='timestamp' href='#562238'><time timestamp='2017-08-03T19:41:00Z'>19:41</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
bleh
<br>
</div>

<div class='talk op-msg' data-timestamp='1501789260' id='562239'>
<a class='timestamp' href='#562239'><time timestamp='2017-08-03T19:41:00Z'>19:41</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
gmaxwell: wfm, but seems like someone should open an issue
<br>
</div>

<div class='talk op-msg' data-timestamp='1501789260' id='562240'>
<a class='timestamp' href='#562240'><time timestamp='2017-08-03T19:41:00Z'>19:41</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
I vote morcos does it
<br>
</div>

<div class='talk op-msg' data-timestamp='1501789260' id='562241'>
<a class='timestamp' href='#562241'><time timestamp='2017-08-03T19:41:00Z'>19:41</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
throw him to the wolves... enh? what did he do so wrong?
<br>
</div>

<div class='talk op-msg' data-timestamp='1501789260' id='562242'>
<a class='timestamp' href='#562242'><time timestamp='2017-08-03T19:41:00Z'>19:41</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
actually, it was sdaftuar&#x27;s idea, he can do it
<br>
</div>

<div class='talk op-msg' data-timestamp='1501789260' id='562243'>
<a class='timestamp' href='#562243'><time timestamp='2017-08-03T19:41:00Z'>19:41</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
throw him to the wolves... enh? what did he do so wrong?
<br>
</div>

<div class='talk op-msg' data-timestamp='1501789320' id='562244'>
<a class='timestamp' href='#562244'><time timestamp='2017-08-03T19:42:00Z'>19:42</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
seems we&#x27;d rather not invite certain discussions to our github but eh
<br>
</div>

<div class='talk op-msg' data-timestamp='1501789320' id='562245'>
<a class='timestamp' href='#562245'><time timestamp='2017-08-03T19:42:00Z'>19:42</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
gmaxwell: fine, I&#x27;ll deal with it
<br>
</div>

<div class='talk op-msg' data-timestamp='1501789320' id='562246'>
<a class='timestamp' href='#562246'><time timestamp='2017-08-03T19:42:00Z'>19:42</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
BlueMatt: good, I know what you did so wrong. :P
<br>
</div>

<div class='talk op-msg' data-timestamp='1501789380' id='562247'>
<a class='timestamp' href='#562247'><time timestamp='2017-08-03T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
but if the bits are selected randomly, how does burning them help?
<br>
</div>

<div class='talk op-msg' data-timestamp='1501789380' id='562248'>
<a class='timestamp' href='#562248'><time timestamp='2017-08-03T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jtimon: s/randomly/arbitrarily/
<br>
</div>

<div class='talk op-msg' data-timestamp='1501789380' id='562249'>
<a class='timestamp' href='#562249'><time timestamp='2017-08-03T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
they aren&#x27;t selected randomly, they&#x27;re not doing service bit hopping or something like that
<br>
</div>

<div class='talk op-msg' data-timestamp='1501789380' id='562250'>
<a class='timestamp' href='#562250'><time timestamp='2017-08-03T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
they&#x27;re not different every time
<br>
</div>

<div class='talk op-msg' data-timestamp='1501789380' id='562251'>
<a class='timestamp' href='#562251'><time timestamp='2017-08-03T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
they just arbitrarily picked one
<br>
</div>

<div class='talk op-msg' data-timestamp='1501789380' id='562252'>
<a class='timestamp' href='#562252'><time timestamp='2017-08-03T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
sipa: I see, thanks
<br>
</div>

<div class='talk op-msg' data-timestamp='1501789380' id='562253'>
<a class='timestamp' href='#562253'><time timestamp='2017-08-03T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
jtimon: I don&#x27;t follow your question. The altcoin efforts have selected randomly but hardcoded the result or their fair dice roll. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1501789440' id='562254'>
<a class='timestamp' href='#562254'><time timestamp='2017-08-03T19:44:00Z'>19:44</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
+1 sdaftuar doing it...  i&#x27;m trying to pack
<br>
</div>

<div class='talk op-msg' data-timestamp='1501789440' id='562255'>
<a class='timestamp' href='#562255'><time timestamp='2017-08-03T19:44:00Z'>19:44</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
gmaxwell: yeah, got it
<br>
</div>

<div class='talk op-msg' data-timestamp='1501789440' id='562256'>
<a class='timestamp' href='#562256'><time timestamp='2017-08-03T19:44:00Z'>19:44</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
and just failed to follow the giant comment in the code to make a public announcement about it even.
<br>
</div>

<div class='talk op-msg' data-timestamp='1501789440' id='562257'>
<a class='timestamp' href='#562257'><time timestamp='2017-08-03T19:44:00Z'>19:44</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
e.g. they have monkeys throw darts to select one when they need it, not every connection
<br>
</div>

<div class='talk op-msg' data-timestamp='1501789440' id='562258'>
<a class='timestamp' href='#562258'><time timestamp='2017-08-03T19:44:00Z'>19:44</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
oh nm, or bluematt
<br>
</div>

<div class='talk op-msg' data-timestamp='1501789500' id='562259'>
<a class='timestamp' href='#562259'><time timestamp='2017-08-03T19:45:00Z'>19:45</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
I think morcos is clearly just trying to throw anyone else under the bus, sounds like he should do it, then :p
<br>
</div>

<div class='talk op-msg' data-timestamp='1501789500' id='562260'>
<a class='timestamp' href='#562260'><time timestamp='2017-08-03T19:45:00Z'>19:45</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
anyway, next topic?
<br>
</div>

<div class='talk op-msg' data-timestamp='1501789500' id='562261'>
<a class='timestamp' href='#562261'><time timestamp='2017-08-03T19:45:00Z'>19:45</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
;;action bluematt goes under the bus
<br>
</div>

<div class='talk op-msg' data-timestamp='1501789500' id='562262'>
<a class='timestamp' href='#562262'><time timestamp='2017-08-03T19:45:00Z'>19:45</time></a>
&lt;<span class='nick nick-11'> * gribble</span>&gt;
bluematt goes under the bus
<br>
</div>

<div class='talk op-msg' data-timestamp='1501789560' id='562263'>
<a class='timestamp' href='#562263'><time timestamp='2017-08-03T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
see, the robot overlords agree
<br>
</div>

<div class='talk op-msg' data-timestamp='1501789560' id='562264'>
<a class='timestamp' href='#562264'><time timestamp='2017-08-03T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
;;action goes under the bus
<br>
</div>

<div class='talk op-msg' data-timestamp='1501789560' id='562265'>
<a class='timestamp' href='#562265'><time timestamp='2017-08-03T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-11'> * gribble</span>&gt;
goes under the bus
<br>
</div>

<div class='talk op-msg' data-timestamp='1501789560' id='562266'>
<a class='timestamp' href='#562266'><time timestamp='2017-08-03T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
we can&#x27;t/shouldn&#x27;t ban 2x peers until they fork
<br>
</div>

<div class='talk op-msg' data-timestamp='1501789560' id='562267'>
<a class='timestamp' href='#562267'><time timestamp='2017-08-03T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
achow101: yes we should
<br>
</div>

<div class='talk op-msg' data-timestamp='1501789560' id='562268'>
<a class='timestamp' href='#562268'><time timestamp='2017-08-03T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I think this was mainly about BCC which already forked
<br>
</div>

<div class='talk op-msg' data-timestamp='1501789560' id='562269'>
<a class='timestamp' href='#562269'><time timestamp='2017-08-03T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
BlueMatt: why? we won&#x27;t be giving them invalid stuff until they fork, and vice versa
<br>
</div>

<div class='talk op-msg' data-timestamp='1501789620' id='562270'>
<a class='timestamp' href='#562270'><time timestamp='2017-08-03T19:47:00Z'>19:47</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
hash that out outside of the meeting plz.
<br>
</div>

<div class='talk op-msg' data-timestamp='1501789620' id='562271'>
<a class='timestamp' href='#562271'><time timestamp='2017-08-03T19:47:00Z'>19:47</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
achow101: on the other hand, adding logic to the code to check whether they&#x27;ve forked would complicate things more than just disconnecting on a service bit
<br>
</div>

<div class='talk op-msg' data-timestamp='1501789620' id='562272'>
<a class='timestamp' href='#562272'><time timestamp='2017-08-03T19:47:00Z'>19:47</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yeah
<br>
</div>

<div class='talk op-msg' data-timestamp='1501789620' id='562273'>
<a class='timestamp' href='#562273'><time timestamp='2017-08-03T19:47:00Z'>19:47</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
next topic?
<br>
</div>

<div class='talk op-msg' data-timestamp='1501789620' id='562274'>
<a class='timestamp' href='#562274'><time timestamp='2017-08-03T19:47:00Z'>19:47</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
But in general if someone is going to make broken software, we can only go so far to accomidate it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1501789620' id='562275'>
<a class='timestamp' href='#562275'><time timestamp='2017-08-03T19:47:00Z'>19:47</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
we&#x27;ve run out of topics
<br>
</div>

<div class='talk op-msg' data-timestamp='1501789680' id='562276'>
<a class='timestamp' href='#562276'><time timestamp='2017-08-03T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
wumpus: we know when they activate. at block X start banning them
<br>
</div>

<div class='talk op-msg' data-timestamp='1501789680' id='562277'>
<a class='timestamp' href='#562277'><time timestamp='2017-08-03T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I doubt we do.
<br>
</div>

<div class='talk op-msg' data-timestamp='1501789680' id='562278'>
<a class='timestamp' href='#562278'><time timestamp='2017-08-03T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
perhaps better for after the meeting, but I&#x27;m still not sure why #8498 wasn&#x27;t suitable for 0.15 ...
<br>
</div>

<div class='talk op-msg' data-timestamp='1501789680' id='562279'>
<a class='timestamp' href='#562279'><time timestamp='2017-08-03T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
achow101: I&#x27;m not jumping through hoops to make sure altcoins stay in consensus until <b>*right before*</b> they fork...
<br>
</div>

<div class='talk op-msg' data-timestamp='1501789680' id='562280'>
<a class='timestamp' href='#562280'><time timestamp='2017-08-03T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/8498" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/8498</a> | Near-Bugfix: Optimization: Minimize the number of times it is checked that no money... by jtimon · Pull Request #8498 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1501789680' id='562281'>
<a class='timestamp' href='#562281'><time timestamp='2017-08-03T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
#endmeeting
<br>
</div>

<div class='talk op-msg' data-timestamp='1501789680' id='562282'>
<a class='timestamp' href='#562282'><time timestamp='2017-08-03T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Meeting ended Thu Aug  3 19:48:33 2017 UTC.  Information about MeetBot at <a href="http://wiki.debian.org/MeetBot" class="link" target="_blank">http://wiki.debian.org/MeetBot</a> . (v 0.1.4)
<br>
</div>

<div class='talk op-msg' data-timestamp='1501789680' id='562283'>
<a class='timestamp' href='#562283'><time timestamp='2017-08-03T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Minutes:        <a href="http://www.erisian.com.au/meetbot/bitcoin-core-dev/2017/bitcoin-core-dev.2017-08-03-19.00.html" class="link" target="_blank">http://www.erisian.com.au/meetbot/bitcoin-core-dev/2017/bitcoin-core-dev.2017-08-03-19.00.html</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1501789680' id='562284'>
<a class='timestamp' href='#562284'><time timestamp='2017-08-03T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Minutes (text): <a href="http://www.erisian.com.au/meetbot/bitcoin-core-dev/2017/bitcoin-core-dev.2017-08-03-19.00.txt" class="link" target="_blank">http://www.erisian.com.au/meetbot/bitcoin-core-dev/2017/bitcoin-core-dev.2017-08-03-19.00.txt</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1501789680' id='562285'>
<a class='timestamp' href='#562285'><time timestamp='2017-08-03T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Log:            <a href="http://www.erisian.com.au/meetbot/bitcoin-core-dev/2017/bitcoin-core-dev.2017-08-03-19.00.log.html" class="link" target="_blank">http://www.erisian.com.au/meetbot/bitcoin-core-dev/2017/bitcoin-core-dev.2017-08-03-19.00.log.html</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1501789680' id='562286'>
<a class='timestamp' href='#562286'><time timestamp='2017-08-03T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
since they still don&#x27;t have a correct published specification and keep changing things.
<br>
</div>

<div class='talk op-msg' data-timestamp='1501789680' id='562287'>
<a class='timestamp' href='#562287'><time timestamp='2017-08-03T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
gmaxwell: they have stayed on using 12960 blocks after segwit activation
<br>
</div>

<div class='talk op-msg' data-timestamp='1501789800' id='562288'>
<a class='timestamp' href='#562288'><time timestamp='2017-08-03T19:50:00Z'>19:50</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
achow101: and what happens if they pull it up to 0 blocks, with a weeks notice? They&#x27;re clearly being adversarial and trying to harm things, otherwise they&#x27;d change port/magic. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1501789800' id='562289'>
<a class='timestamp' href='#562289'><time timestamp='2017-08-03T19:50:00Z'>19:50</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
achow101: and what if they change it next week? No point, if they want to make sure they stay in consensus, they can run bridge nodes, its not hard
<br>
</div>

<div class='talk op-msg' data-timestamp='1501789860' id='562290'>
<a class='timestamp' href='#562290'><time timestamp='2017-08-03T19:51:00Z'>19:51</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
we risk partitioning the network since there are miners that use btc1
<br>
</div>

<div class='talk op-msg' data-timestamp='1501789920' id='562291'>
<a class='timestamp' href='#562291'><time timestamp='2017-08-03T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
achow101: that can be remedied otherwise
<br>
</div>

<div class='talk op-msg' data-timestamp='1501789920' id='562292'>
<a class='timestamp' href='#562292'><time timestamp='2017-08-03T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
(and will be)
<br>
</div>

<div class='talk op-msg' data-timestamp='1501789920' id='562293'>
<a class='timestamp' href='#562293'><time timestamp='2017-08-03T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
and, mostly, hopefully, they just change network magic
<br>
</div>

<div class='talk op-msg' data-timestamp='1501789920' id='562294'>
<a class='timestamp' href='#562294'><time timestamp='2017-08-03T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
and then they can do whatever they want
<br>
</div>

<div class='talk op-msg' data-timestamp='1501790040' id='562295'>
<a class='timestamp' href='#562295'><time timestamp='2017-08-03T19:54:00Z'>19:54</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] TheBlueMatt opened pull request #10982: Disconnect network service bits 6 and 8 until Aug 1, 2018 (master...2017-08-bad-service-bits) <a href="https://github.com/bitcoin/bitcoin/pull/10982" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10982</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1501790340' id='562296'>
<a class='timestamp' href='#562296'><time timestamp='2017-08-03T19:59:00Z'>19:59</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
gmaxwell BlueMatt new commits in #10882 ready for review
<br>
</div>

<div class='talk op-msg' data-timestamp='1501790340' id='562297'>
<a class='timestamp' href='#562297'><time timestamp='2017-08-03T19:59:00Z'>19:59</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/10882" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/10882</a> | Keypool topup by jnewbery · Pull Request #10882 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1501790520' id='562298'>
<a class='timestamp' href='#562298'><time timestamp='2017-08-03T20:02:00Z'>20:02</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
thanks
<br>
</div>

<div class='talk op-msg' data-timestamp='1501790940' id='562299'>
<a class='timestamp' href='#562299'><time timestamp='2017-08-03T20:09:00Z'>20:09</time></a>
&lt;<span class='nick nick-4'> Cobra-Bitcoin</span>&gt;
Any core dev around?
<br>
</div>

<div class='talk op-msg' data-timestamp='1501790940' id='562300'>
<a class='timestamp' href='#562300'><time timestamp='2017-08-03T20:09:00Z'>20:09</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
many
<br>
</div>

<div class='talk op-msg' data-timestamp='1501791120' id='562301'>
<a class='timestamp' href='#562301'><time timestamp='2017-08-03T20:12:00Z'>20:12</time></a>
&lt;<span class='nick nick-4'> Cobra-Bitcoin</span>&gt;
Anyone know what btcdrak means when he says &quot;future releases will be linked&quot; here <a href="https://github.com/bitcoin-core/bitcoincore.org/issues/33" class="link" target="_blank">https://github.com/bitcoin-core/bitcoincore.org/issues/33</a>?
<br>
</div>

<div class='talk op-msg' data-timestamp='1501791120' id='562302'>
<a class='timestamp' href='#562302'><time timestamp='2017-08-03T20:12:00Z'>20:12</time></a>
&lt;<span class='nick nick-4'> Cobra-Bitcoin</span>&gt;
So the release notes will point users to bitcoincore.org binaries?
<br>
</div>

<div class='talk op-msg' data-timestamp='1501791300' id='562303'>
<a class='timestamp' href='#562303'><time timestamp='2017-08-03T20:15:00Z'>20:15</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
BlueMatt: ^
<br>
</div>

<div class='talk op-msg' data-timestamp='1501791420' id='562304'>
<a class='timestamp' href='#562304'><time timestamp='2017-08-03T20:17:00Z'>20:17</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
Cobra-Bitcoin: that is the intention, yes, I mailed you about this a while back :). I think the goal is to start pointing people to bitcoincore.org, but also sicne y&#x27;all wanted to keep mirroring on bitcoin.org (and cause no point telling people to go somewhere else if they&#x27;re already used to bitcoin.org), they&#x27;d be in both places
<br>
</div>

<div class='talk op-msg' data-timestamp='1501791480' id='562305'>
<a class='timestamp' href='#562305'><time timestamp='2017-08-03T20:18:00Z'>20:18</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
ie cause security isnt helped by making people make hops
<br>
</div>

<div class='talk op-msg' data-timestamp='1501791480' id='562306'>
<a class='timestamp' href='#562306'><time timestamp='2017-08-03T20:18:00Z'>20:18</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
Cobra-Bitcoin: see-also #10651
<br>
</div>

<div class='talk op-msg' data-timestamp='1501791480' id='562307'>
<a class='timestamp' href='#562307'><time timestamp='2017-08-03T20:18:00Z'>20:18</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/10651" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/10651</a> | Verify binaries from bitcoincore.org and bitcoin.org by TheBlueMatt · Pull Request #10651 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1501791780' id='562308'>
<a class='timestamp' href='#562308'><time timestamp='2017-08-03T20:23:00Z'>20:23</time></a>
&lt;<span class='nick nick-4'> Cobra-Bitcoin</span>&gt;
But is bitcoin.org not doing enough to already distribute the binaries effectively?
<br>
</div>

<div class='talk op-msg' data-timestamp='1501791780' id='562309'>
<a class='timestamp' href='#562309'><time timestamp='2017-08-03T20:23:00Z'>20:23</time></a>
&lt;<span class='nick nick-4'> Cobra-Bitcoin</span>&gt;
We have no choice but to mirror, since we have a lot of pages structured around the binaries and Core
<br>
</div>

<div class='talk op-msg' data-timestamp='1501791900' id='562310'>
<a class='timestamp' href='#562310'><time timestamp='2017-08-03T20:25:00Z'>20:25</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
wumpus: BlueMatt so what do we do about salvagewallet and this default key thing?
<br>
</div>

<div class='talk op-msg' data-timestamp='1501791900' id='562311'>
<a class='timestamp' href='#562311'><time timestamp='2017-08-03T20:25:00Z'>20:25</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
write a new one?
<br>
</div>

<div class='talk op-msg' data-timestamp='1501792020' id='562312'>
<a class='timestamp' href='#562312'><time timestamp='2017-08-03T20:27:00Z'>20:27</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
Cobra-Bitcoin: see pm
<br>
</div>

<div class='talk op-msg' data-timestamp='1501792020' id='562313'>
<a class='timestamp' href='#562313'><time timestamp='2017-08-03T20:27:00Z'>20:27</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
achow101: I havent looked at salvage, I mean certainly making it return an error instead of throwing like it does is not too hard
<br>
</div>

<div class='talk op-msg' data-timestamp='1501792080' id='562314'>
<a class='timestamp' href='#562314'><time timestamp='2017-08-03T20:28:00Z'>20:28</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
Cobra-Bitcoin: hosting on both bitcoin.org and bitconcore.org is perfectly acceptable, preferable even IMO
<br>
</div>

<div class='talk op-msg' data-timestamp='1501792080' id='562315'>
<a class='timestamp' href='#562315'><time timestamp='2017-08-03T20:28:00Z'>20:28</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
BlueMatt: I have it return a db corrupt error now (local change, not yet pushed)
<br>
</div>

<div class='talk op-msg' data-timestamp='1501792080' id='562316'>
<a class='timestamp' href='#562316'><time timestamp='2017-08-03T20:28:00Z'>20:28</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
Cobra-Bitcoin: more (trusted) places to get the binaries from gives some redundancy
<br>
</div>

<div class='talk op-msg' data-timestamp='1501792080' id='562317'>
<a class='timestamp' href='#562317'><time timestamp='2017-08-03T20:28:00Z'>20:28</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
plus what wumpus said
<br>
</div>

<div class='talk op-msg' data-timestamp='1501792140' id='562318'>
<a class='timestamp' href='#562318'><time timestamp='2017-08-03T20:29:00Z'>20:29</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
but my concern is that people will downgrade because downgrading works. there&#x27;s no way to prevent downgrade is to use a new wallet version, but that&#x27;s a mess that I don&#x27;t want to deal with right now
<br>
</div>

<div class='talk op-msg' data-timestamp='1501792200' id='562319'>
<a class='timestamp' href='#562319'><time timestamp='2017-08-03T20:30:00Z'>20:30</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
achow101: well a reasonable error message should help, then
<br>
</div>

<div class='talk op-msg' data-timestamp='1501792200' id='562320'>
<a class='timestamp' href='#562320'><time timestamp='2017-08-03T20:30:00Z'>20:30</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
I dont care about preventing users from doing X or Y, but giving them an error message informing them that their hardware appears to have silently corrupted their wallet is appropriate
<br>
</div>

<div class='talk op-msg' data-timestamp='1501792200' id='562321'>
<a class='timestamp' href='#562321'><time timestamp='2017-08-03T20:30:00Z'>20:30</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
ideally salvagewallet would handle this case (does it not, my understanding was it should?)
<br>
</div>

<div class='talk op-msg' data-timestamp='1501792260' id='562322'>
<a class='timestamp' href='#562322'><time timestamp='2017-08-03T20:31:00Z'>20:31</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
currently it says &quot;Error loading wallet.dat: Wallet corrupted&quot; with a more specific &quot;invalid default key&quot; message in the debug.log
<br>
</div>

<div class='talk op-msg' data-timestamp='1501792260' id='562323'>
<a class='timestamp' href='#562323'><time timestamp='2017-08-03T20:31:00Z'>20:31</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
thats fine?
<br>
</div>

<div class='talk op-msg' data-timestamp='1501792260' id='562324'>
<a class='timestamp' href='#562324'><time timestamp='2017-08-03T20:31:00Z'>20:31</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
salvagewallet doesn&#x27;t handle uncorrupting keys, it only pulls data that it can find being valid and passes it through
<br>
</div>

<div class='talk op-msg' data-timestamp='1501792260' id='562325'>
<a class='timestamp' href='#562325'><time timestamp='2017-08-03T20:31:00Z'>20:31</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
so any corrupted keys will get passed through to a salvaged wallet
<br>
</div>

<div class='talk op-msg' data-timestamp='1501792320' id='562326'>
<a class='timestamp' href='#562326'><time timestamp='2017-08-03T20:32:00Z'>20:32</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
(not like you could uncorrupt a key anyways)
<br>
</div>

<div class='talk op-msg' data-timestamp='1501792320' id='562327'>
<a class='timestamp' href='#562327'><time timestamp='2017-08-03T20:32:00Z'>20:32</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
is there even such a thing as &#x27;uncorrupting keys&#x27;?
<br>
</div>

<div class='talk op-msg' data-timestamp='1501792320' id='562328'>
<a class='timestamp' href='#562328'><time timestamp='2017-08-03T20:32:00Z'>20:32</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it&#x27;s not like we encode in some redundant way that allows recovery
<br>
</div>

<div class='talk op-msg' data-timestamp='1501792320' id='562329'>
<a class='timestamp' href='#562329'><time timestamp='2017-08-03T20:32:00Z'>20:32</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
we could do that, but we don&#x27;t
<br>
</div>

<div class='talk op-msg' data-timestamp='1501792320' id='562330'>
<a class='timestamp' href='#562330'><time timestamp='2017-08-03T20:32:00Z'>20:32</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
wumpus: well you could easily uncorrupt a default key by just writing a generic valid key like the generator
<br>
</div>

<div class='talk op-msg' data-timestamp='1501792320' id='562331'>
<a class='timestamp' href='#562331'><time timestamp='2017-08-03T20:32:00Z'>20:32</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
you could erase/ignore corrupted keys, though that&#x27;s somewhat scary...
<br>
</div>

<div class='talk op-msg' data-timestamp='1501792380' id='562332'>
<a class='timestamp' href='#562332'><time timestamp='2017-08-03T20:33:00Z'>20:33</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
wumpus: isnt salvagewallet always scary?
<br>
</div>

<div class='talk op-msg' data-timestamp='1501792380' id='562333'>
<a class='timestamp' href='#562333'><time timestamp='2017-08-03T20:33:00Z'>20:33</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
(but not much different from what bdb salvage already does)
<br>
</div>

<div class='talk op-msg' data-timestamp='1501792380' id='562334'>
<a class='timestamp' href='#562334'><time timestamp='2017-08-03T20:33:00Z'>20:33</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes, sure, but this isn&#x27;t black and white
<br>
</div>

<div class='talk op-msg' data-timestamp='1501792380' id='562335'>
<a class='timestamp' href='#562335'><time timestamp='2017-08-03T20:33:00Z'>20:33</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
true
<br>
</div>

<div class='talk op-msg' data-timestamp='1501792380' id='562336'>
<a class='timestamp' href='#562336'><time timestamp='2017-08-03T20:33:00Z'>20:33</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
there are certainly ways to make it even scarier :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1501792380' id='562337'>
<a class='timestamp' href='#562337'><time timestamp='2017-08-03T20:33:00Z'>20:33</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
so there is an added point here: any key that got corrupted ever probably resulted in the wallet just failing, and the user starting over or finding other solution
<br>
</div>

<div class='talk op-msg' data-timestamp='1501792380' id='562338'>
<a class='timestamp' href='#562338'><time timestamp='2017-08-03T20:33:00Z'>20:33</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but if it was the default key that was corrupted, it likely just meant that the wallet replenished the keypool at every startup, ever
<br>
</div>

<div class='talk op-msg' data-timestamp='1501792440' id='562339'>
<a class='timestamp' href='#562339'><time timestamp='2017-08-03T20:34:00Z'>20:34</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and everything kept working
<br>
</div>

<div class='talk op-msg' data-timestamp='1501792440' id='562340'>
<a class='timestamp' href='#562340'><time timestamp='2017-08-03T20:34:00Z'>20:34</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes     
<br>
</div>

<div class='talk op-msg' data-timestamp='1501792440' id='562341'>
<a class='timestamp' href='#562341'><time timestamp='2017-08-03T20:34:00Z'>20:34</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
so there may be a survivalship bias, resulting in currently a higher than expected number of people with a corrupted default key
<br>
</div>

<div class='talk op-msg' data-timestamp='1501792440' id='562342'>
<a class='timestamp' href='#562342'><time timestamp='2017-08-03T20:34:00Z'>20:34</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
there probably should be a way to salvage and ignore corrupt keys...
<br>
</div>

<div class='talk op-msg' data-timestamp='1501792440' id='562343'>
<a class='timestamp' href='#562343'><time timestamp='2017-08-03T20:34:00Z'>20:34</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yes.
<br>
</div>

<div class='talk op-msg' data-timestamp='1501792500' id='562344'>
<a class='timestamp' href='#562344'><time timestamp='2017-08-03T20:35:00Z'>20:35</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
(another salvage level!)
<br>
</div>

<div class='talk op-msg' data-timestamp='1501792500' id='562345'>
<a class='timestamp' href='#562345'><time timestamp='2017-08-03T20:35:00Z'>20:35</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
unfortunately, not possible for encrypted keys
<br>
</div>

<div class='talk op-msg' data-timestamp='1501792500' id='562346'>
<a class='timestamp' href='#562346'><time timestamp='2017-08-03T20:35:00Z'>20:35</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
at least not without passphrase
<br>
</div>

<div class='talk op-msg' data-timestamp='1501792500' id='562347'>
<a class='timestamp' href='#562347'><time timestamp='2017-08-03T20:35:00Z'>20:35</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yeah...
<br>
</div>

<div class='talk op-msg' data-timestamp='1501792500' id='562348'>
<a class='timestamp' href='#562348'><time timestamp='2017-08-03T20:35:00Z'>20:35</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
repair for an encrypted wallet should ideally ask for the passphrase
<br>
</div>

<div class='talk op-msg' data-timestamp='1501792500' id='562349'>
<a class='timestamp' href='#562349'><time timestamp='2017-08-03T20:35:00Z'>20:35</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it&#x27;s the only way to recover most effectively
<br>
</div>

<div class='talk op-msg' data-timestamp='1501792680' id='562350'>
<a class='timestamp' href='#562350'><time timestamp='2017-08-03T20:38:00Z'>20:38</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
it also seems like the two reported cases of this involve wallets that have corrupted keys, which salvagewallet doesn&#x27;t help with
<br>
</div>

<div class='talk op-msg' data-timestamp='1501792740' id='562351'>
<a class='timestamp' href='#562351'><time timestamp='2017-08-03T20:39:00Z'>20:39</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
it&#x27;s just that the user doesn&#x27;t notice those keys were corrupted until they try to spend
<br>
</div>

<div class='talk op-msg' data-timestamp='1501792740' id='562352'>
<a class='timestamp' href='#562352'><time timestamp='2017-08-03T20:39:00Z'>20:39</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
then the wallet fails to decrypt
<br>
</div>

<div class='talk op-msg' data-timestamp='1501792920' id='562353'>
<a class='timestamp' href='#562353'><time timestamp='2017-08-03T20:42:00Z'>20:42</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes that&#x27;s not good
<br>
</div>

<div class='talk op-msg' data-timestamp='1501793040' id='562354'>
<a class='timestamp' href='#562354'><time timestamp='2017-08-03T20:44:00Z'>20:44</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
so i guess we could just leave this as a warning about wallet corruption and not do any salvaging which would exacerbate the problem?
<br>
</div>

<div class='talk op-msg' data-timestamp='1501794000' id='562355'>
<a class='timestamp' href='#562355'><time timestamp='2017-08-03T21:00:00Z'>21:00</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
agreed, any &#x27;salvaging&#x27; should be at user initiative
<br>
</div>

<div class='talk op-msg' data-timestamp='1501798440' id='562356'>
<a class='timestamp' href='#562356'><time timestamp='2017-08-03T22:14:00Z'>22:14</time></a>
&lt;<span class='nick nick-10'> earlz</span>&gt;
Is there any easy way to make gitian skip building dependencies? I&#x27;m having some trouble with a modification I made breaking the gitian build for bitcoind itself, but the 2 hours spent compiling dependencies is killing me
<br>
</div>

<div class='talk op-msg' data-timestamp='1501798860' id='562357'>
<a class='timestamp' href='#562357'><time timestamp='2017-08-03T22:21:00Z'>22:21</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
earlz: the dependencies are cached, they&#x27;ll only be built once
<br>
</div>

<div class='talk op-msg' data-timestamp='1501799220' id='562358'>
<a class='timestamp' href='#562358'><time timestamp='2017-08-03T22:27:00Z'>22:27</time></a>
&lt;<span class='nick nick-10'> earlz</span>&gt;
cfields: that does not seem to be the case if gbuild fails
<br>
</div>

<div class='talk op-msg' data-timestamp='1501799340' id='562359'>
<a class='timestamp' href='#562359'><time timestamp='2017-08-03T22:29:00Z'>22:29</time></a>
&lt;<span class='nick nick-10'> earlz</span>&gt;
is there some command line argument or something I&#x27;m missing to prevent it from saving the cache, cause right now I basiclaly do gbuild, it compiles all deps, then encounters failure, I&#x27;ll apply a fix and commit/push it, then update the gbuild command for the new commit hash and I observe it compiles all deps again
<br>
</div>

<div class='talk op-msg' data-timestamp='1501799400' id='562360'>
<a class='timestamp' href='#562360'><time timestamp='2017-08-03T22:30:00Z'>22:30</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
earlz: do a vanilla build, make sure it finishes, get the deps cached
<br>
</div>

<div class='talk op-msg' data-timestamp='1501799400' id='562361'>
<a class='timestamp' href='#562361'><time timestamp='2017-08-03T22:30:00Z'>22:30</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
then rebuild with your changes
<br>
</div>

<div class='talk op-msg' data-timestamp='1501799400' id='562362'>
<a class='timestamp' href='#562362'><time timestamp='2017-08-03T22:30:00Z'>22:30</time></a>
&lt;<span class='nick nick-10'> earlz</span>&gt;
oh I see, so it only caches if the build succeeds? 
<br>
</div>

<div class='talk op-msg' data-timestamp='1501799400' id='562363'>
<a class='timestamp' href='#562363'><time timestamp='2017-08-03T22:30:00Z'>22:30</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
yes     
<br>
</div>

<div class='talk op-msg' data-timestamp='1501800480' id='562364'>
<a class='timestamp' href='#562364'><time timestamp='2017-08-03T22:48:00Z'>22:48</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] TheBlueMatt opened pull request #10984: Allow 2 simultaneous (compact-)block downloads (master...2017-08-paralell-block-downloads) <a href="https://github.com/bitcoin/bitcoin/pull/10984" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10984</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1501801500' id='562365'>
<a class='timestamp' href='#562365'><time timestamp='2017-08-03T23:05:00Z'>23:05</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
cfields: when you do the next round of cleanups on #10756, can you not move InitializeNode/FinalizeNode? I&#x27;m starting work on building on top and have patches that conflict :/
<br>
</div>

<div class='talk op-msg' data-timestamp='1501801500' id='562366'>
<a class='timestamp' href='#562366'><time timestamp='2017-08-03T23:05:00Z'>23:05</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/10756" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/10756</a> | net processing: swap out signals for an interface class by theuni · Pull Request #10756 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1501801560' id='562367'>
<a class='timestamp' href='#562367'><time timestamp='2017-08-03T23:06:00Z'>23:06</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
BlueMatt: heh, i thought we agreed that was the next step?
<br>
</div>

<div class='talk op-msg' data-timestamp='1501801560' id='562368'>
<a class='timestamp' href='#562368'><time timestamp='2017-08-03T23:06:00Z'>23:06</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
cfields: nono, i mean dont move the code down in the file
<br>
</div>

<div class='talk op-msg' data-timestamp='1501801560' id='562369'>
<a class='timestamp' href='#562369'><time timestamp='2017-08-03T23:06:00Z'>23:06</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
not dont move
<br>
</div>

<div class='talk op-msg' data-timestamp='1501801680' id='562370'>
<a class='timestamp' href='#562370'><time timestamp='2017-08-03T23:08:00Z'>23:08</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
BlueMatt: oh, I see what you mean
<br>
</div>

<div class='talk op-msg' data-timestamp='1501801680' id='562371'>
<a class='timestamp' href='#562371'><time timestamp='2017-08-03T23:08:00Z'>23:08</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
BlueMatt: they have to move out of the anon namespace though :(
<br>
</div>

<div class='talk op-msg' data-timestamp='1501801740' id='562372'>
<a class='timestamp' href='#562372'><time timestamp='2017-08-03T23:09:00Z'>23:09</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
ohh, didnt realize they were in a namespace
<br>
</div>

<div class='talk op-msg' data-timestamp='1501801740' id='562373'>
<a class='timestamp' href='#562373'><time timestamp='2017-08-03T23:09:00Z'>23:09</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
damn, ok, fine
<br>
</div>

<div class='talk op-msg' data-timestamp='1501801740' id='562374'>
<a class='timestamp' href='#562374'><time timestamp='2017-08-03T23:09:00Z'>23:09</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
I&#x27;ll just have to do some dirty rebase
<br>
</div>

<div class='talk op-msg' data-timestamp='1501801800' id='562375'>
<a class='timestamp' href='#562375'><time timestamp='2017-08-03T23:10:00Z'>23:10</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
yea, that&#x27;s the only reason i moved them
<br>
</div>

<div class='talk op-msg' data-timestamp='1501801800' id='562376'>
<a class='timestamp' href='#562376'><time timestamp='2017-08-03T23:10:00Z'>23:10</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
could do something ugly like closing/reopening the namespace, but i&#x27;d rather not :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1501802760' id='562377'>
<a class='timestamp' href='#562377'><time timestamp='2017-08-03T23:26:00Z'>23:26</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] sipa opened pull request #10985: Add undocumented -forcecompactdb to force LevelDB compactions (master...20170803_forcecompactdb) <a href="https://github.com/bitcoin/bitcoin/pull/10985" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10985</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1501803600' id='562378'>
<a class='timestamp' href='#562378'><time timestamp='2017-08-03T23:40:00Z'>23:40</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] sipa opened pull request #10986: Update chain transaction statistics (master...20170803_txstats) <a href="https://github.com/bitcoin/bitcoin/pull/10986" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10986</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1501804020' id='562379'>
<a class='timestamp' href='#562379'><time timestamp='2017-08-03T23:47:00Z'>23:47</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
#10985: \0/
<br>
</div>

<div class='talk op-msg' data-timestamp='1501804020' id='562380'>
<a class='timestamp' href='#562380'><time timestamp='2017-08-03T23:47:00Z'>23:47</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/10985" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/10985</a> | Add undocumented -forcecompactdb to force LevelDB compactions by sipa · Pull Request #10985 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1501804020' id='562381'>
<a class='timestamp' href='#562381'><time timestamp='2017-08-03T23:47:00Z'>23:47</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: ^ untested
<br>
</div>

</div>
</section>

</body>
</html>
