<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2017-02-24
 — 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2017-02-24' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:24 UTC</pre>
<pre><a href="/bitcoin-core-dev/2017-01-24">&lt;</a><span class='header'>  February 2017   </span><a href="/bitcoin-core-dev/2017-03-24">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;          <a class="" href="/bitcoin-core-dev/2017-02-01">1</a>  <a class="" href="/bitcoin-core-dev/2017-02-02">2</a>  <a class="" href="/bitcoin-core-dev/2017-02-03">3</a>  <a class="" href="/bitcoin-core-dev/2017-02-04">4</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2017-02-05">5</a>  <a class="" href="/bitcoin-core-dev/2017-02-06">6</a>  <a class="" href="/bitcoin-core-dev/2017-02-07">7</a>  <a class="" href="/bitcoin-core-dev/2017-02-08">8</a>  <a class="" href="/bitcoin-core-dev/2017-02-09">9</a> <a class="" href="/bitcoin-core-dev/2017-02-10">10</a> <a class="" href="/bitcoin-core-dev/2017-02-11">11</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2017-02-12">12</a> <a class="" href="/bitcoin-core-dev/2017-02-13">13</a> <a class="" href="/bitcoin-core-dev/2017-02-14">14</a> <a class="" href="/bitcoin-core-dev/2017-02-15">15</a> <a class="" href="/bitcoin-core-dev/2017-02-16">16</a> <a class="" href="/bitcoin-core-dev/2017-02-17">17</a> <a class="" href="/bitcoin-core-dev/2017-02-18">18</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2017-02-19">19</a> <a class="" href="/bitcoin-core-dev/2017-02-20">20</a> <a class="" href="/bitcoin-core-dev/2017-02-21">21</a> <a class="" href="/bitcoin-core-dev/2017-02-22">22</a> <a class="" href="/bitcoin-core-dev/2017-02-23">23</a> <a class="current" href="/bitcoin-core-dev/2017-02-24">24</a> <a class="" href="/bitcoin-core-dev/2017-02-25">25</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2017-02-26">26</a> <a class="" href="/bitcoin-core-dev/2017-02-27">27</a> <a class="" href="/bitcoin-core-dev/2017-02-28">28</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1487894400' id='531422'>
<a class='timestamp' href='#531422'><time timestamp='2017-02-24T00:00:00Z'>00:00</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but the progress estimation code was changed significantly in 0.14
<br>
</div>

<div class='talk op-msg' data-timestamp='1487894520' id='531423'>
<a class='timestamp' href='#531423'><time timestamp='2017-02-24T00:02:00Z'>00:02</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
reindexing spends something like 20 minutes up front scanning for headers, which might be distorting your numbers.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487896500' id='531424'>
<a class='timestamp' href='#531424'><time timestamp='2017-02-24T00:35:00Z'>00:35</time></a>
&lt;<span class='nick nick-16'> pfeerpedr</span>&gt;
who do i need to talk to in order to speed up my transaction?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487896740' id='531425'>
<a class='timestamp' href='#531425'><time timestamp='2017-02-24T00:39:00Z'>00:39</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke opened pull request #9846: doc: Small release notes fixups in the list of pulls (0.14...Mf1702-014doc) <a href="https://github.com/bitcoin/bitcoin/pull/9846" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9846</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1487901720' id='531426'>
<a class='timestamp' href='#531426'><time timestamp='2017-02-24T02:02:00Z'>02:02</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] sipa opened pull request #9847: Extra test vector for BIP32 (master...bip32up) <a href="https://github.com/bitcoin/bitcoin/pull/9847" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9847</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1487904120' id='531427'>
<a class='timestamp' href='#531427'><time timestamp='2017-02-24T02:42:00Z'>02:42</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
cfields: just reset my gitian and got 8d4bb27b5ab1916f04b74a2bcdccf8781c46fea96a3d5eb4a4a7f587577df64c  bitcoin-0.14.0-osx-unsigned.dmg
<br>
</div>

<div class='talk op-msg' data-timestamp='1487904120' id='531428'>
<a class='timestamp' href='#531428'><time timestamp='2017-02-24T02:42:00Z'>02:42</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
does that match yours?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487904120' id='531429'>
<a class='timestamp' href='#531429'><time timestamp='2017-02-24T02:42:00Z'>02:42</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
It&#x27;s probably doing the alternating thing again
<br>
</div>

<div class='talk op-msg' data-timestamp='1487904960' id='531430'>
<a class='timestamp' href='#531430'><time timestamp='2017-02-24T02:56:00Z'>02:56</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
achow101 looks like it does match
<br>
</div>

<div class='talk op-msg' data-timestamp='1487904960' id='531431'>
<a class='timestamp' href='#531431'><time timestamp='2017-02-24T02:56:00Z'>02:56</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
So you&#x27;ve got the alternating builds again? I&#x27;m just about to finish mine.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487905860' id='531432'>
<a class='timestamp' href='#531432'><time timestamp='2017-02-24T03:11:00Z'>03:11</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] appop opened pull request #9848: update  (master...master) <a href="https://github.com/bitcoin/bitcoin/pull/9848" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9848</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1487905920' id='531433'>
<a class='timestamp' href='#531433'><time timestamp='2017-02-24T03:12:00Z'>03:12</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] fanquake closed pull request #9848: update  (master...master) <a href="https://github.com/bitcoin/bitcoin/pull/9848" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9848</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1487906460' id='531434'>
<a class='timestamp' href='#531434'><time timestamp='2017-02-24T03:21:00Z'>03:21</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
achow101 Interestingly, my osx gitian results now match cfields. Which is weird, because nothings changes since rc1 that could have fixed gitian issues.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487907720' id='531435'>
<a class='timestamp' href='#531435'><time timestamp='2017-02-24T03:42:00Z'>03:42</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
actually, just ran gitian again and it got cfields&#x27;s results. I&#x27;ll run it a few more times to make sure it is deterministic
<br>
</div>

<div class='talk op-msg' data-timestamp='1487908860' id='531436'>
<a class='timestamp' href='#531436'><time timestamp='2017-02-24T04:01:00Z'>04:01</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] luke-jr opened pull request #9849: Qt: Network Watch tool (master...gui_netwatch) <a href="https://github.com/bitcoin/bitcoin/pull/9849" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9849</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1487908980' id='531437'>
<a class='timestamp' href='#531437'><time timestamp='2017-02-24T04:03:00Z'>04:03</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
achow101: it&#x27;d be really helpful if you could upload the .o files from a non-matching build
<br>
</div>

<div class='talk op-msg' data-timestamp='1487908980' id='531438'>
<a class='timestamp' href='#531438'><time timestamp='2017-02-24T04:03:00Z'>04:03</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
I think I can give you the kvm image of the non-matching build. I just need to make sure it is the right one
<br>
</div>

<div class='talk op-msg' data-timestamp='1487909040' id='531439'>
<a class='timestamp' href='#531439'><time timestamp='2017-02-24T04:04:00Z'>04:04</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
achow101: &quot;on-target&quot; after the build gives you a shell
<br>
</div>

<div class='talk op-msg' data-timestamp='1487909340' id='531440'>
<a class='timestamp' href='#531440'><time timestamp='2017-02-24T04:09:00Z'>04:09</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
cfields: well that build ended a while ago and I have since done other builds. right now I am trying to start the vm with that image of the mismatching build which I saved and then ssh&#x27;ing into it, but it doesn&#x27;t seem to be working now
<br>
</div>

<div class='talk op-msg' data-timestamp='1487909760' id='531441'>
<a class='timestamp' href='#531441'><time timestamp='2017-02-24T04:16:00Z'>04:16</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
achow101: ok, let me know if you manage to get them. I&#x27;ll check back in the morning
<br>
</div>

<div class='talk op-msg' data-timestamp='1487911140' id='531442'>
<a class='timestamp' href='#531442'><time timestamp='2017-02-24T04:39:00Z'>04:39</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
cfields: I got all of the build stuff off of the vm and tar&#x27;ed it. It should contain all of the .o files. Download: <a href="https://drive.google.com/file/d/0Bxw3ip9QfNOUVzkwUnlhMTExYjg/view?usp=sharing" class="link" target="_blank">https://drive.google.com/file/d/0Bxw3ip9QfNOUVzkwUnlhMTExYjg/view?usp=sharing</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1487911200' id='531443'>
<a class='timestamp' href='#531443'><time timestamp='2017-02-24T04:40:00Z'>04:40</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
also I can give you the vm which contains all of that stuff too. I&#x27;m waiting for the upload of that to finish
<br>
</div>

<div class='talk op-msg' data-timestamp='1487911560' id='531444'>
<a class='timestamp' href='#531444'><time timestamp='2017-02-24T04:46:00Z'>04:46</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
cfields: vm with the mismatching build: <a href="https://drive.google.com/file/d/0Bxw3ip9QfNOUN0E2aDZZQU1Pd2s/view?usp=sharing" class="link" target="_blank">https://drive.google.com/file/d/0Bxw3ip9QfNOUN0E2aDZZQU1Pd2s/view?usp=sharing</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1487913900' id='531445'>
<a class='timestamp' href='#531445'><time timestamp='2017-02-24T05:25:00Z'>05:25</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
achow101: er, you sure that&#x27;s a broken build?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487914200' id='531446'>
<a class='timestamp' href='#531446'><time timestamp='2017-02-24T05:30:00Z'>05:30</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
(we have 3 sigs on rc2)
<br>
</div>

<div class='talk op-msg' data-timestamp='1487914200' id='531447'>
<a class='timestamp' href='#531447'><time timestamp='2017-02-24T05:30:00Z'>05:30</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
oh, but not all matching
<br>
</div>

<div class='talk op-msg' data-timestamp='1487914260' id='531448'>
<a class='timestamp' href='#531448'><time timestamp='2017-02-24T05:31:00Z'>05:31</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
luke-jr: yea, i think i&#x27;ll delay signing until morning once a few more are in
<br>
</div>

<div class='talk op-msg' data-timestamp='1487914260' id='531449'>
<a class='timestamp' href='#531449'><time timestamp='2017-02-24T05:31:00Z'>05:31</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
now that we have achow101&#x27;s objects for comparison, I&#x27;m hoping it&#x27;ll point to the culprit
<br>
</div>

<div class='talk op-msg' data-timestamp='1487914260' id='531450'>
<a class='timestamp' href='#531450'><time timestamp='2017-02-24T05:31:00Z'>05:31</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
cfields: I&#x27;m pretty sure that&#x27;s the broken build
<br>
</div>

<div class='talk op-msg' data-timestamp='1487914500' id='531451'>
<a class='timestamp' href='#531451'><time timestamp='2017-02-24T05:35:00Z'>05:35</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
luke-jr: my matching osx ones are pr&#x27;ed
<br>
</div>

<div class='talk op-msg' data-timestamp='1487914560' id='531452'>
<a class='timestamp' href='#531452'><time timestamp='2017-02-24T05:36:00Z'>05:36</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
achow101: are you positive? All of my object files are identical as far as i can tell
<br>
</div>

<div class='talk op-msg' data-timestamp='1487914620' id='531453'>
<a class='timestamp' href='#531453'><time timestamp='2017-02-24T05:37:00Z'>05:37</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
yes.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487914620' id='531454'>
<a class='timestamp' href='#531454'><time timestamp='2017-02-24T05:37:00Z'>05:37</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
you can fire up the vm image I gave you to check as well
<br>
</div>

<div class='talk op-msg' data-timestamp='1487915040' id='531455'>
<a class='timestamp' href='#531455'><time timestamp='2017-02-24T05:44:00Z'>05:44</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
achow101: ok nm, got the diff now
<br>
</div>

<div class='talk op-msg' data-timestamp='1487915280' id='531456'>
<a class='timestamp' href='#531456'><time timestamp='2017-02-24T05:48:00Z'>05:48</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
cool
<br>
</div>

<div class='talk op-msg' data-timestamp='1487915580' id='531457'>
<a class='timestamp' href='#531457'><time timestamp='2017-02-24T05:53:00Z'>05:53</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
achow101: mmm, they&#x27;re different kernels
<br>
</div>

<div class='talk op-msg' data-timestamp='1487915580' id='531458'>
<a class='timestamp' href='#531458'><time timestamp='2017-02-24T05:53:00Z'>05:53</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
that&#x27;s the only obvious thing i see
<br>
</div>

<div class='talk op-msg' data-timestamp='1487915640' id='531459'>
<a class='timestamp' href='#531459'><time timestamp='2017-02-24T05:54:00Z'>05:54</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
maybe qt embeds uname output?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487915760' id='531460'>
<a class='timestamp' href='#531460'><time timestamp='2017-02-24T05:56:00Z'>05:56</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
but why would it only affect osx?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487915760' id='531461'>
<a class='timestamp' href='#531461'><time timestamp='2017-02-24T05:56:00Z'>05:56</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
also, how are they different kernels? I thought the vms were built exactly the same
<br>
</div>

<div class='talk op-msg' data-timestamp='1487915760' id='531462'>
<a class='timestamp' href='#531462'><time timestamp='2017-02-24T05:56:00Z'>05:56</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
they should be
<br>
</div>

<div class='talk op-msg' data-timestamp='1487915820' id='531463'>
<a class='timestamp' href='#531463'><time timestamp='2017-02-24T05:57:00Z'>05:57</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
oh, maybe the upgrade that happens every time was failing some of the time?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487915820' id='531464'>
<a class='timestamp' href='#531464'><time timestamp='2017-02-24T05:57:00Z'>05:57</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
-uname -r = 3.13.0-108-generic
<br>
</div>

<div class='talk op-msg' data-timestamp='1487915820' id='531465'>
<a class='timestamp' href='#531465'><time timestamp='2017-02-24T05:57:00Z'>05:57</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
+uname -r = 3.13.0-77-generic
<br>
</div>

<div class='talk op-msg' data-timestamp='1487915820' id='531466'>
<a class='timestamp' href='#531466'><time timestamp='2017-02-24T05:57:00Z'>05:57</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
LXC uses the host&#x27;s kernel
<br>
</div>

<div class='talk op-msg' data-timestamp='1487915820' id='531467'>
<a class='timestamp' href='#531467'><time timestamp='2017-02-24T05:57:00Z'>05:57</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
so no matter what, we can&#x27;t rely on kernels to match
<br>
</div>

<div class='talk op-msg' data-timestamp='1487915820' id='531468'>
<a class='timestamp' href='#531468'><time timestamp='2017-02-24T05:57:00Z'>05:57</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
luke-jr: I&#x27;m using kvm
<br>
</div>

<div class='talk op-msg' data-timestamp='1487915940' id='531469'>
<a class='timestamp' href='#531469'><time timestamp='2017-02-24T05:59:00Z'>05:59</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
luke-jr: well the fact that the kernels don&#x27;t match is indicative that they&#x27;re not using the same base
<br>
</div>

<div class='talk op-msg' data-timestamp='1487915940' id='531470'>
<a class='timestamp' href='#531470'><time timestamp='2017-02-24T05:59:00Z'>05:59</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
in which case glibc (or something) may be different
<br>
</div>

<div class='talk op-msg' data-timestamp='1487915940' id='531471'>
<a class='timestamp' href='#531471'><time timestamp='2017-02-24T05:59:00Z'>05:59</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
hm     
<br>
</div>

<div class='talk op-msg' data-timestamp='1487916000' id='531472'>
<a class='timestamp' href='#531472'><time timestamp='2017-02-24T06:00:00Z'>06:00</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
so it seems to be some kind of gitian issue
<br>
</div>

<div class='talk op-msg' data-timestamp='1487922120' id='531473'>
<a class='timestamp' href='#531473'><time timestamp='2017-02-24T07:42:00Z'>07:42</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
jonasschnelli: what kind of locking issues? can you elaborate?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487922180' id='531474'>
<a class='timestamp' href='#531474'><time timestamp='2017-02-24T07:43:00Z'>07:43</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
luke-jr: the app is unresponsive. I had to force shut down... will take a closer look
<br>
</div>

<div class='talk op-msg' data-timestamp='1487922180' id='531475'>
<a class='timestamp' href='#531475'><time timestamp='2017-02-24T07:43:00Z'>07:43</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
luke-jr: but I like the PR
<br>
</div>

<div class='talk op-msg' data-timestamp='1487922480' id='531476'>
<a class='timestamp' href='#531476'><time timestamp='2017-02-24T07:48:00Z'>07:48</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
so it looks like someone had the test_bitcoin issue outside of travis: #9850
<br>
</div>

<div class='talk op-msg' data-timestamp='1487922480' id='531477'>
<a class='timestamp' href='#531477'><time timestamp='2017-02-24T07:48:00Z'>07:48</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/9850" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/9850</a> | test_bitcoin: /usr/include/boost/thread/pthread/recursive_mutex.hpp:104: boost::recursive_mutex::~recursive_mutex(): Assertion `!pthread_mutex_destroy() failed. · Issue #9850 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1487922600' id='531478'>
<a class='timestamp' href='#531478'><time timestamp='2017-02-24T07:50:00Z'>07:50</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
yes     
<br>
</div>

<div class='talk op-msg' data-timestamp='1487922660' id='531479'>
<a class='timestamp' href='#531479'><time timestamp='2017-02-24T07:51:00Z'>07:51</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I tried to reproduce in ubuntu 14.04. but did not had the issue 
<br>
</div>

<div class='talk op-msg' data-timestamp='1487922660' id='531480'>
<a class='timestamp' href='#531480'><time timestamp='2017-02-24T07:51:00Z'>07:51</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
same here.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487922660' id='531481'>
<a class='timestamp' href='#531481'><time timestamp='2017-02-24T07:51:00Z'>07:51</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
did a depends build, just like travis, on 14.04, just like travis
<br>
</div>

<div class='talk op-msg' data-timestamp='1487922660' id='531482'>
<a class='timestamp' href='#531482'><time timestamp='2017-02-24T07:51:00Z'>07:51</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
so that means the same version of boost, gcc, etc
<br>
</div>

<div class='talk op-msg' data-timestamp='1487922720' id='531483'>
<a class='timestamp' href='#531483'><time timestamp='2017-02-24T07:52:00Z'>07:52</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
this is really strange
<br>
</div>

<div class='talk op-msg' data-timestamp='1487922720' id='531484'>
<a class='timestamp' href='#531484'><time timestamp='2017-02-24T07:52:00Z'>07:52</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Oh. Even that.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487922780' id='531485'>
<a class='timestamp' href='#531485'><time timestamp='2017-02-24T07:53:00Z'>07:53</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
hurray!  (?)
<br>
</div>

<div class='talk op-msg' data-timestamp='1487922780' id='531486'>
<a class='timestamp' href='#531486'><time timestamp='2017-02-24T07:53:00Z'>07:53</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I ran test_bitcoin in valgrind and I could see some uninitialised value
<br>
</div>

<div class='talk op-msg' data-timestamp='1487922840' id='531487'>
<a class='timestamp' href='#531487'><time timestamp='2017-02-24T07:54:00Z'>07:54</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
invoked by the toggle_network RPC tests
<br>
</div>

<div class='talk op-msg' data-timestamp='1487923200' id='531488'>
<a class='timestamp' href='#531488'><time timestamp='2017-02-24T08:00:00Z'>08:00</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
jonasschnelli: that is a potential concern, however what happens in the RPC tests shouldn&#x27;t affect test_bitcoin?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487923200' id='531489'>
<a class='timestamp' href='#531489'><time timestamp='2017-02-24T08:00:00Z'>08:00</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
wumpus: I meant the RPC unit tests... 
<br>
</div>

<div class='talk op-msg' data-timestamp='1487923200' id='531490'>
<a class='timestamp' href='#531490'><time timestamp='2017-02-24T08:00:00Z'>08:00</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
no valgrind errors in test_bitcoin?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487923200' id='531491'>
<a class='timestamp' href='#531491'><time timestamp='2017-02-24T08:00:00Z'>08:00</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
ooh!
<br>
</div>

<div class='talk op-msg' data-timestamp='1487923260' id='531492'>
<a class='timestamp' href='#531492'><time timestamp='2017-02-24T08:01:00Z'>08:01</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
look for rpc_togglenetwork
<br>
</div>

<div class='talk op-msg' data-timestamp='1487923260' id='531493'>
<a class='timestamp' href='#531493'><time timestamp='2017-02-24T08:01:00Z'>08:01</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
rpc_tests.cpp
<br>
</div>

<div class='talk op-msg' data-timestamp='1487923260' id='531494'>
<a class='timestamp' href='#531494'><time timestamp='2017-02-24T08:01:00Z'>08:01</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Not sure if its related... we have added this a couple of weeks (or even months) ago
<br>
</div>

<div class='talk op-msg' data-timestamp='1487923320' id='531495'>
<a class='timestamp' href='#531495'><time timestamp='2017-02-24T08:02:00Z'>08:02</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Here&#x27;s my valgrind run: <a href="https://0bin.net/paste/2xS-7aRGhWA11BlS#uwUOiDB9X4h" class="link" target="_blank">https://0bin.net/paste/2xS-7aRGhWA11BlS#uwUOiDB9X4h</a>+puz6AxdtnWiMXF5KJlUhC-WFL8bCy4k
<br>
</div>

<div class='talk op-msg' data-timestamp='1487923320' id='531496'>
<a class='timestamp' href='#531496'><time timestamp='2017-02-24T08:02:00Z'>08:02</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
This also frightens me: ==59692== Conditional jump or move depends on uninitialised value(s)
<br>
</div>

<div class='talk op-msg' data-timestamp='1487923500' id='531497'>
<a class='timestamp' href='#531497'><time timestamp='2017-02-24T08:05:00Z'>08:05</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
what version are you running it against those line number do not agree with my code here.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487923560' id='531498'>
<a class='timestamp' href='#531498'><time timestamp='2017-02-24T08:06:00Z'>08:06</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
9949ebfa6a548260858df429f4d0e716e0a26065
<br>
</div>

<div class='talk op-msg' data-timestamp='1487923560' id='531499'>
<a class='timestamp' href='#531499'><time timestamp='2017-02-24T08:06:00Z'>08:06</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I think this is 0.14.0rc1
<br>
</div>

<div class='talk op-msg' data-timestamp='1487923620' id='531500'>
<a class='timestamp' href='#531500'><time timestamp='2017-02-24T08:07:00Z'>08:07</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
my setup: ./configure --enable-zmq --enable-glibc-back-compat --enable-reduce-exports CPPFLAGS=-DDEBUG_LOCKORDER --with-incompatible-bdb
<br>
</div>

<div class='talk op-msg' data-timestamp='1487923680' id='531501'>
<a class='timestamp' href='#531501'><time timestamp='2017-02-24T08:08:00Z'>08:08</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
(same as the failing travis setup)
<br>
</div>

<div class='talk op-msg' data-timestamp='1487923680' id='531502'>
<a class='timestamp' href='#531502'><time timestamp='2017-02-24T08:08:00Z'>08:08</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
oh geesh we have source files with the same name. bet that&#x27;ll be fun for anyone trying to build with msvc.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487923740' id='531503'>
<a class='timestamp' href='#531503'><time timestamp='2017-02-24T08:09:00Z'>08:09</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
you mean the problem when we removed the rpc_ prefix and moved them into the rpc/ folder?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487923740' id='531504'>
<a class='timestamp' href='#531504'><time timestamp='2017-02-24T08:09:00Z'>08:09</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
yea, at least last time I used it MSVC couldn&#x27;t handle source files having the same name even if they were in different directories. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1487923740' id='531505'>
<a class='timestamp' href='#531505'><time timestamp='2017-02-24T08:09:00Z'>08:09</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
My IDEs find by filename also doesn&#x27;t like this
<br>
</div>

<div class='talk op-msg' data-timestamp='1487923800' id='531506'>
<a class='timestamp' href='#531506'><time timestamp='2017-02-24T08:10:00Z'>08:10</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
We could have kept the rpc_ prefix even after moving them into the specific folder
<br>
</div>

<div class='talk op-msg' data-timestamp='1487923980' id='531507'>
<a class='timestamp' href='#531507'><time timestamp='2017-02-24T08:13:00Z'>08:13</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
so in that rpc tests I don&#x27;t see anything that sets up the conman object.  But if it&#x27;s executing those objects it&#x27;s not null. How is the g_conman setup in the tests?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487923980' id='531508'>
<a class='timestamp' href='#531508'><time timestamp='2017-02-24T08:13:00Z'>08:13</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
jonasschnelli I can see the same results with valgrind
<br>
</div>

<div class='talk op-msg' data-timestamp='1487923980' id='531509'>
<a class='timestamp' href='#531509'><time timestamp='2017-02-24T08:13:00Z'>08:13</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
TestingSetup() jas a g_connman = std::unique_ptr&lt;CConnman&gt;(new CConnman(0x1337, 0x1337)); // Deterministic randomness for tests.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487924040' id='531510'>
<a class='timestamp' href='#531510'><time timestamp='2017-02-24T08:14:00Z'>08:14</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
<a href="https://0bin.net/paste/DLBX7+ZYaQ79TrRS#ACJ-Fp8c8aAZrLW2jDShhRMKbnTlxlnRJDkCRhXfpcI" class="link" target="_blank">https://0bin.net/paste/DLBX7+ZYaQ79TrRS#ACJ-Fp8c8aAZrLW2jDShhRMKbnTlxlnRJDkCRhXfpcI</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1487924100' id='531511'>
<a class='timestamp' href='#531511'><time timestamp='2017-02-24T08:15:00Z'>08:15</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Thanks fanquake 
<br>
</div>

<div class='talk op-msg' data-timestamp='1487925180' id='531512'>
<a class='timestamp' href='#531512'><time timestamp='2017-02-24T08:33:00Z'>08:33</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
<a href="https://github.com/theuni/bitcoin/commit/72aa3324bc69640937f2fda6a63634bcf1e8c6c1" class="link" target="_blank">https://github.com/theuni/bitcoin/commit/72aa3324bc69640937f2fda6a63634bcf1e8c6c1</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1487925180' id='531513'>
<a class='timestamp' href='#531513'><time timestamp='2017-02-24T08:33:00Z'>08:33</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
should fix the connman issue, though i seriously doubt that&#x27;s the crasher
<br>
</div>

<div class='talk op-msg' data-timestamp='1487925180' id='531514'>
<a class='timestamp' href='#531514'><time timestamp='2017-02-24T08:33:00Z'>08:33</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
(thanks marcofalke for pointing that out earlier)
<br>
</div>

<div class='talk op-msg' data-timestamp='1487925300' id='531515'>
<a class='timestamp' href='#531515'><time timestamp='2017-02-24T08:35:00Z'>08:35</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
i&#x27;ll PR that in the morning
<br>
</div>

<div class='talk op-msg' data-timestamp='1487928120' id='531516'>
<a class='timestamp' href='#531516'><time timestamp='2017-02-24T09:22:00Z'>09:22</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/692c9eddba67...00285cece814" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/692c9eddba67...00285cece814</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1487928120' id='531517'>
<a class='timestamp' href='#531517'><time timestamp='2017-02-24T09:22:00Z'>09:22</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master f81f0d0 Russell Yanofsky: Update sendfrom RPC help to correct coin selection misconception
<br>
</div>

<div class='talk op-msg' data-timestamp='1487928120' id='531518'>
<a class='timestamp' href='#531518'><time timestamp='2017-02-24T09:22:00Z'>09:22</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 00285ce Wladimir J. van der Laan: Merge #9840: Update sendfrom RPC help to correct coin selection misconception...
<br>
</div>

<div class='talk op-msg' data-timestamp='1487928120' id='531519'>
<a class='timestamp' href='#531519'><time timestamp='2017-02-24T09:22:00Z'>09:22</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj closed pull request #9840: Update sendfrom RPC help to correct coin selection misconception (master...pr/fromacct) <a href="https://github.com/bitcoin/bitcoin/pull/9840" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9840</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1487930040' id='531520'>
<a class='timestamp' href='#531520'><time timestamp='2017-02-24T09:54:00Z'>09:54</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/00285cece814...dd6e0d630167" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/00285cece814...dd6e0d630167</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1487930040' id='531521'>
<a class='timestamp' href='#531521'><time timestamp='2017-02-24T09:54:00Z'>09:54</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master ef9f495 Marko Bencun: Trivial: fix comments referencing AppInit2...
<br>
</div>

<div class='talk op-msg' data-timestamp='1487930040' id='531522'>
<a class='timestamp' href='#531522'><time timestamp='2017-02-24T09:54:00Z'>09:54</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master dd6e0d6 Wladimir J. van der Laan: Merge #9833: Trivial: fix comments referencing AppInit2...
<br>
</div>

<div class='talk op-msg' data-timestamp='1487930040' id='531523'>
<a class='timestamp' href='#531523'><time timestamp='2017-02-24T09:54:00Z'>09:54</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj closed pull request #9833: Trivial: fix comments referencing AppInit2 (master...stalecomments) <a href="https://github.com/bitcoin/bitcoin/pull/9833" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9833</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1487930280' id='531524'>
<a class='timestamp' href='#531524'><time timestamp='2017-02-24T09:58:00Z'>09:58</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
FWIW - I&#x27;m not able to reproduce test_bitcoin failures on any of my machines (different unices) :-(
<br>
</div>

<div class='talk op-msg' data-timestamp='1487930580' id='531525'>
<a class='timestamp' href='#531525'><time timestamp='2017-02-24T10:03:00Z'>10:03</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
darn
<br>
</div>

<div class='talk op-msg' data-timestamp='1487930580' id='531526'>
<a class='timestamp' href='#531526'><time timestamp='2017-02-24T10:03:00Z'>10:03</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj closed pull request #9846: doc: Small release notes fixups in the list of pulls (0.14...Mf1702-014doc) <a href="https://github.com/bitcoin/bitcoin/pull/9846" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9846</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1487930700' id='531527'>
<a class='timestamp' href='#531527'><time timestamp='2017-02-24T10:05:00Z'>10:05</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
there seems to be nothing <b>*special*</b> in the config.log posted in #9850
<br>
</div>

<div class='talk op-msg' data-timestamp='1487930700' id='531528'>
<a class='timestamp' href='#531528'><time timestamp='2017-02-24T10:05:00Z'>10:05</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/9850" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/9850</a> | test_bitcoin: /usr/include/boost/thread/pthread/recursive_mutex.hpp:104: boost::recursive_mutex::~recursive_mutex(): Assertion `!pthread_mutex_destroy() failed. · Issue #9850 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1487930760' id='531529'>
<a class='timestamp' href='#531529'><time timestamp='2017-02-24T10:06:00Z'>10:06</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
standard ubuntu 16.04 versions of everything
<br>
</div>

<div class='talk op-msg' data-timestamp='1487930880' id='531530'>
<a class='timestamp' href='#531530'><time timestamp='2017-02-24T10:08:00Z'>10:08</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
no arguments to configure
<br>
</div>

<div class='talk op-msg' data-timestamp='1487931720' id='531531'>
<a class='timestamp' href='#531531'><time timestamp='2017-02-24T10:22:00Z'>10:22</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
I suspect some travis issue
<br>
</div>

<div class='talk op-msg' data-timestamp='1487931780' id='531532'>
<a class='timestamp' href='#531532'><time timestamp='2017-02-24T10:23:00Z'>10:23</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
(even if it was reproduced outside of it)
<br>
</div>

<div class='talk op-msg' data-timestamp='1487931840' id='531533'>
<a class='timestamp' href='#531533'><time timestamp='2017-02-24T10:24:00Z'>10:24</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I forgot something in my testing yesterday; the travis build passes, --enable-glibc-back-compat --enable-reduce-exports  and LDFLAGS=-static-libstdc++&quot; . No difference in reproduction, though
<br>
</div>

<div class='talk op-msg' data-timestamp='1487931960' id='531534'>
<a class='timestamp' href='#531534'><time timestamp='2017-02-24T10:26:00Z'>10:26</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I also test it faster now, launch test_bitcoin and kill it after a second (after all, the problem happens just before the Running ... line so there&#x27;s no need to go all the way)
<br>
</div>

<div class='talk op-msg' data-timestamp='1487932200' id='531535'>
<a class='timestamp' href='#531535'><time timestamp='2017-02-24T10:30:00Z'>10:30</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
in any case it just works perfectly, every time, no matter what I do. Almost feels like travis is trolling us
<br>
</div>

<div class='talk op-msg' data-timestamp='1487932500' id='531536'>
<a class='timestamp' href='#531536'><time timestamp='2017-02-24T10:35:00Z'>10:35</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
&quot;Why do the patterns of failuers seem to be spelling ascii digits? ...&#x27;wouldnt want to give yo..&#x27;&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1487932560' id='531537'>
<a class='timestamp' href='#531537'><time timestamp='2017-02-24T10:36:00Z'>10:36</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
hehe, yes that would be a giveaway
<br>
</div>

<div class='talk op-msg' data-timestamp='1487932680' id='531538'>
<a class='timestamp' href='#531538'><time timestamp='2017-02-24T10:38:00Z'>10:38</time></a>
&lt;<span class='nick nick-3'> * wumpus</span>&gt;
threw DEBUG_LOCKORDER into the mix. No, that didn&#x27;t help either
<br>
</div>

<div class='talk op-msg' data-timestamp='1487933100' id='531539'>
<a class='timestamp' href='#531539'><time timestamp='2017-02-24T10:45:00Z'>10:45</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
never felt so unhappy to see &quot;*** No errors detected&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1487933640' id='531540'>
<a class='timestamp' href='#531540'><time timestamp='2017-02-24T10:54:00Z'>10:54</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
well, so much for trying to reproduce locally, going to try set up a trap for this on travis
<br>
</div>

<div class='talk op-msg' data-timestamp='1487934300' id='531541'>
<a class='timestamp' href='#531541'><time timestamp='2017-02-24T11:05:00Z'>11:05</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
ok my gdb script is working, this should work
<br>
</div>

<div class='talk op-msg' data-timestamp='1487934600' id='531542'>
<a class='timestamp' href='#531542'><time timestamp='2017-02-24T11:10:00Z'>11:10</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj opened pull request #9851: [do not merge] travis gdb parachute for #9825 (master...2017_02_travisissue) <a href="https://github.com/bitcoin/bitcoin/pull/9851" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9851</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1487936460' id='531543'>
<a class='timestamp' href='#531543'><time timestamp='2017-02-24T11:41:00Z'>11:41</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] zcc0721 opened pull request #9852: Merge remote-tracking branch &#x27;refs/remotes/bitcoin/master&#x27; (master...master) <a href="https://github.com/bitcoin/bitcoin/pull/9852" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9852</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1487936520' id='531544'>
<a class='timestamp' href='#531544'><time timestamp='2017-02-24T11:42:00Z'>11:42</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj closed pull request #9852: Merge remote-tracking branch &#x27;refs/remotes/bitcoin/master&#x27; (master...master) <a href="https://github.com/bitcoin/bitcoin/pull/9852" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9852</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1487936940' id='531545'>
<a class='timestamp' href='#531545'><time timestamp='2017-02-24T11:49:00Z'>11:49</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/dd6e0d630167...f19afdbfb4cb" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/dd6e0d630167...f19afdbfb4cb</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1487936940' id='531546'>
<a class='timestamp' href='#531546'><time timestamp='2017-02-24T11:49:00Z'>11:49</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master dc222f8 Karl-Johan Alm: Trivial: Rephrase the definition of difficulty in the code.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487936940' id='531547'>
<a class='timestamp' href='#531547'><time timestamp='2017-02-24T11:49:00Z'>11:49</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master f19afdb Wladimir J. van der Laan: Merge #9612: [trivial] Rephrase the definition of difficulty....
<br>
</div>

<div class='talk op-msg' data-timestamp='1487936940' id='531548'>
<a class='timestamp' href='#531548'><time timestamp='2017-02-24T11:49:00Z'>11:49</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj closed pull request #9612: [trivial] Rephrase the definition of difficulty. (master...clarify-difficulty) <a href="https://github.com/bitcoin/bitcoin/pull/9612" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9612</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1487937600' id='531549'>
<a class='timestamp' href='#531549'><time timestamp='2017-02-24T12:00:00Z'>12:00</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
wth, one of the builds in #9825 is rebuilding all the dependencies?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487937600' id='531550'>
<a class='timestamp' href='#531550'><time timestamp='2017-02-24T12:00:00Z'>12:00</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/9825" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/9825</a> | Intermittent FAIL: test/test_bitcoin in Travis · Issue #9825 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1487937660' id='531551'>
<a class='timestamp' href='#531551'><time timestamp='2017-02-24T12:01:00Z'>12:01</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
eh  #9851
<br>
</div>

<div class='talk op-msg' data-timestamp='1487937660' id='531552'>
<a class='timestamp' href='#531552'><time timestamp='2017-02-24T12:01:00Z'>12:01</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/9851" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/9851</a> | [do not merge] travis gdb parachute for #9825 by laanwj · Pull Request #9851 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1487937840' id='531553'>
<a class='timestamp' href='#531553'><time timestamp='2017-02-24T12:04:00Z'>12:04</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
Everything that can go wrong is going wrong, man, it&#x27;s hard to think of a more nightmarish way to debug things. Well maybe debugging the kernel for GPU cache issues wins by a bit :/
<br>
</div>

<div class='talk op-msg' data-timestamp='1487937960' id='531554'>
<a class='timestamp' href='#531554'><time timestamp='2017-02-24T12:06:00Z'>12:06</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I&#x27;m going to cancel all other travis builds to give this one priority, sorry
<br>
</div>

<div class='talk op-msg' data-timestamp='1487938260' id='531555'>
<a class='timestamp' href='#531555'><time timestamp='2017-02-24T12:11:00Z'>12:11</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
ah the builds are starting, let&#x27;s see what surprises await this time
<br>
</div>

<div class='talk op-msg' data-timestamp='1487938260' id='531556'>
<a class='timestamp' href='#531556'><time timestamp='2017-02-24T12:11:00Z'>12:11</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
NOOOOOOO don&#x27;t start building ccache :(
<br>
</div>

<div class='talk op-msg' data-timestamp='1487940060' id='531557'>
<a class='timestamp' href='#531557'><time timestamp='2017-02-24T12:41:00Z'>12:41</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
cfields: what would be the best way to skip buildling of dependencies for a PR, for debugging?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487940180' id='531558'>
<a class='timestamp' href='#531558'><time timestamp='2017-02-24T12:43:00Z'>12:43</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I don&#x27;t understand why all three builds of #9851 trigger a complete dependency rebuild, but this way it&#x27;s not going to work, I need a fast iteration time to have any chance of reproducing the issue
<br>
</div>

<div class='talk op-msg' data-timestamp='1487940180' id='531559'>
<a class='timestamp' href='#531559'><time timestamp='2017-02-24T12:43:00Z'>12:43</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/9851" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/9851</a> | [do not merge] travis gdb parachute for #9825 by laanwj · Pull Request #9851 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1487940540' id='531560'>
<a class='timestamp' href='#531560'><time timestamp='2017-02-24T12:49:00Z'>12:49</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
oh not all three, just #3, which is the nowallet one. Could just remove that one.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487940540' id='531561'>
<a class='timestamp' href='#531561'><time timestamp='2017-02-24T12:49:00Z'>12:49</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/3" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/3</a> | Encrypt wallet · Issue #3 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1487945880' id='531562'>
<a class='timestamp' href='#531562'><time timestamp='2017-02-24T14:18:00Z'>14:18</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
did the signed binary detached sigs come out yet?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487946420' id='531563'>
<a class='timestamp' href='#531563'><time timestamp='2017-02-24T14:27:00Z'>14:27</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
wumpus: you could do it on your own personal fork?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487947500' id='531564'>
<a class='timestamp' href='#531564'><time timestamp='2017-02-24T14:45:00Z'>14:45</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Any idea why the LXC gitian initialization takes that long?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487947560' id='531565'>
<a class='timestamp' href='#531565'><time timestamp='2017-02-24T14:46:00Z'>14:46</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Here it takes &gt;5mins during &quot;Upgrading system, may take a while&quot;... seems to be very long
<br>
</div>

<div class='talk op-msg' data-timestamp='1487947560' id='531566'>
<a class='timestamp' href='#531566'><time timestamp='2017-02-24T14:46:00Z'>14:46</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
(step between &quot;install.log&quot; and starting of &quot;build.log&quot;)
<br>
</div>

<div class='talk op-msg' data-timestamp='1487950560' id='531567'>
<a class='timestamp' href='#531567'><time timestamp='2017-02-24T15:36:00Z'>15:36</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
wumpus: note that DEBUG=1 is used for the crash case. That adds the extra bounds checking from libstdc++
<br>
</div>

<div class='talk op-msg' data-timestamp='1487950860' id='531568'>
<a class='timestamp' href='#531568'><time timestamp='2017-02-24T15:41:00Z'>15:41</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
wumpus: as for rebuilding depends, the travis cache depends on the env vars set. So if you change an env var, it will create a new cache because it looks like a new build that it shouldn&#x27;t clobber
<br>
</div>

<div class='talk op-msg' data-timestamp='1487950920' id='531569'>
<a class='timestamp' href='#531569'><time timestamp='2017-02-24T15:42:00Z'>15:42</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
where &quot;change&quot; also includes adding/removing env vars
<br>
</div>

<div class='talk op-msg' data-timestamp='1487951280' id='531570'>
<a class='timestamp' href='#531570'><time timestamp='2017-02-24T15:48:00Z'>15:48</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
gitian builders: sigs for v0.14.0rc2 are pushed
<br>
</div>

<div class='talk op-msg' data-timestamp='1487952780' id='531571'>
<a class='timestamp' href='#531571'><time timestamp='2017-02-24T16:13:00Z'>16:13</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
ah so the env vars are the secret :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1487953740' id='531572'>
<a class='timestamp' href='#531572'><time timestamp='2017-02-24T16:29:00Z'>16:29</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jnewbery opened pull request #9853: Fix error codes from various RPCs (master...fixerrorcodes) <a href="https://github.com/bitcoin/bitcoin/pull/9853" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9853</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1487953740' id='531573'>
<a class='timestamp' href='#531573'><time timestamp='2017-02-24T16:29:00Z'>16:29</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jnewbery closed pull request #9713: Fix error causes and messages in rpc/net.cpp (master...fixsetbanerrormessages) <a href="https://github.com/bitcoin/bitcoin/pull/9713" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9713</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1487953740' id='531574'>
<a class='timestamp' href='#531574'><time timestamp='2017-02-24T16:29:00Z'>16:29</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jnewbery closed pull request #9714: Return correct error codes from bumpfee() (master...bumpfeeerrormessages) <a href="https://github.com/bitcoin/bitcoin/pull/9714" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9714</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1487954340' id='531575'>
<a class='timestamp' href='#531575'><time timestamp='2017-02-24T16:39:00Z'>16:39</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
so now that we have named args someone should probably do a pass and fix the million places that we reject args that are null even when they have a default value, I suppose?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487954460' id='531576'>
<a class='timestamp' href='#531576'><time timestamp='2017-02-24T16:41:00Z'>16:41</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
BlueMatt: yes - null should be interpreted as the default value, on a call by call basis
<br>
</div>

<div class='talk op-msg' data-timestamp='1487954520' id='531577'>
<a class='timestamp' href='#531577'><time timestamp='2017-02-24T16:42:00Z'>16:42</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I intend to get around to that for 0.15
<br>
</div>

<div class='talk op-msg' data-timestamp='1487954760' id='531578'>
<a class='timestamp' href='#531578'><time timestamp='2017-02-24T16:46:00Z'>16:46</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
in most cases it&#x27;s trivial
<br>
</div>

<div class='talk op-msg' data-timestamp='1487954760' id='531579'>
<a class='timestamp' href='#531579'><time timestamp='2017-02-24T16:46:00Z'>16:46</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
there are a few such as getbalance that have slightly different functionality based on the number of arguments, some discussion will be needed there
<br>
</div>

<div class='talk op-msg' data-timestamp='1487971020' id='531580'>
<a class='timestamp' href='#531580'><time timestamp='2017-02-24T21:17:00Z'>21:17</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i can&#x27;t file an issue right now, but my RPi3 bitcoind OOMed, and marked a block invalid as a result
<br>
</div>

<div class='talk op-msg' data-timestamp='1487971020' id='531581'>
<a class='timestamp' href='#531581'><time timestamp='2017-02-24T21:17:00Z'>21:17</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that&#x27;s very bad...
<br>
</div>

<div class='talk op-msg' data-timestamp='1487971020' id='531582'>
<a class='timestamp' href='#531582'><time timestamp='2017-02-24T21:17:00Z'>21:17</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
on 0.14.0rc1
<br>
</div>

<div class='talk op-msg' data-timestamp='1487971680' id='531583'>
<a class='timestamp' href='#531583'><time timestamp='2017-02-24T21:28:00Z'>21:28</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
sipa: yikes
<br>
</div>

<div class='talk op-msg' data-timestamp='1487971680' id='531584'>
<a class='timestamp' href='#531584'><time timestamp='2017-02-24T21:28:00Z'>21:28</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
sipa: any idea where it oom&#x27;d?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487974980' id='531585'>
<a class='timestamp' href='#531585'><time timestamp='2017-02-24T22:23:00Z'>22:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
cfields: #9854
<br>
</div>

<div class='talk op-msg' data-timestamp='1487974980' id='531586'>
<a class='timestamp' href='#531586'><time timestamp='2017-02-24T22:23:00Z'>22:23</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/9854" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/9854</a> | Bitcoind 0.14.0rc1: OOM -&gt; block marked invalid · Issue #9854 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1487977800' id='531587'>
<a class='timestamp' href='#531587'><time timestamp='2017-02-24T23:10:00Z'>23:10</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
sipa: seems i just managed to bring down my dev box while testing a fix (forcing OOM). Hope you&#x27;re happy :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1487977860' id='531588'>
<a class='timestamp' href='#531588'><time timestamp='2017-02-24T23:11:00Z'>23:11</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
woohoo, rescued
<br>
</div>

<div class='talk op-msg' data-timestamp='1487978160' id='531589'>
<a class='timestamp' href='#531589'><time timestamp='2017-02-24T23:16:00Z'>23:16</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
cfields: so you have a fix? or should I go look into it?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487978220' id='531590'>
<a class='timestamp' href='#531590'><time timestamp='2017-02-24T23:17:00Z'>23:17</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
BlueMatt: yea, i have a patch ready. I&#x27;m uneasy about it though, so debate welcome
<br>
</div>

<div class='talk op-msg' data-timestamp='1487978220' id='531591'>
<a class='timestamp' href='#531591'><time timestamp='2017-02-24T23:17:00Z'>23:17</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
sec     
<br>
</div>

<div class='talk op-msg' data-timestamp='1487978280' id='531592'>
<a class='timestamp' href='#531592'><time timestamp='2017-02-24T23:18:00Z'>23:18</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
k     
<br>
</div>

<div class='talk op-msg' data-timestamp='1487978520' id='531593'>
<a class='timestamp' href='#531593'><time timestamp='2017-02-24T23:22:00Z'>23:22</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
BlueMatt: see 9854
<br>
</div>

<div class='talk op-msg' data-timestamp='1487978520' id='531594'>
<a class='timestamp' href='#531594'><time timestamp='2017-02-24T23:22:00Z'>23:22</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
oh     
<br>
</div>

<div class='talk op-msg' data-timestamp='1487978520' id='531595'>
<a class='timestamp' href='#531595'><time timestamp='2017-02-24T23:22:00Z'>23:22</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
hmmmm, I like that
<br>
</div>

<div class='talk op-msg' data-timestamp='1487978520' id='531596'>
<a class='timestamp' href='#531596'><time timestamp='2017-02-24T23:22:00Z'>23:22</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
wait, does this apply to more than bad_alloc?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487978580' id='531597'>
<a class='timestamp' href='#531597'><time timestamp='2017-02-24T23:23:00Z'>23:23</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
no     
<br>
</div>

<div class='talk op-msg' data-timestamp='1487978580' id='531598'>
<a class='timestamp' href='#531598'><time timestamp='2017-02-24T23:23:00Z'>23:23</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
cfields: next time replace malloc with a wrapper. :P
<br>
</div>

<div class='talk op-msg' data-timestamp='1487978580' id='531599'>
<a class='timestamp' href='#531599'><time timestamp='2017-02-24T23:23:00Z'>23:23</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
if we can make it apply only to std::bad_alloc then I&#x27;m all for it (or is there a list of all the things this could apply to?)
<br>
</div>

<div class='talk op-msg' data-timestamp='1487978580' id='531600'>
<a class='timestamp' href='#531600'><time timestamp='2017-02-24T23:23:00Z'>23:23</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
lol     
<br>
</div>

<div class='talk op-msg' data-timestamp='1487978580' id='531601'>
<a class='timestamp' href='#531601'><time timestamp='2017-02-24T23:23:00Z'>23:23</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
BlueMatt: sipa pointed out the error to me earlier in private, my comment:
<br>
</div>

<div class='talk op-msg' data-timestamp='1487978580' id='531602'>
<a class='timestamp' href='#531602'><time timestamp='2017-02-24T23:23:00Z'>23:23</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
11:55 &lt;gmaxwell&gt; God damnit. it really should not reject the block because of a fucking exception!
<br>
</div>

<div class='talk op-msg' data-timestamp='1487978580' id='531603'>
<a class='timestamp' href='#531603'><time timestamp='2017-02-24T23:23:00Z'>23:23</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
gmaxwell: you mean new? :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1487978640' id='531604'>
<a class='timestamp' href='#531604'><time timestamp='2017-02-24T23:24:00Z'>23:24</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
11:55 &lt;gmaxwell&gt; I hate that we use exceptions for error handling in the seralization.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487978640' id='531605'>
<a class='timestamp' href='#531605'><time timestamp='2017-02-24T23:24:00Z'>23:24</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
11:56 &lt;gmaxwell&gt; maybe we can wrap the allocator so that failures kill the process.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487978640' id='531606'>
<a class='timestamp' href='#531606'><time timestamp='2017-02-24T23:24:00Z'>23:24</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
cfields: well I mean the underlying libc function new calls, which is malloc. (same way tcmalloc replaces the allocator)
<br>
</div>

<div class='talk op-msg' data-timestamp='1487978640' id='531607'>
<a class='timestamp' href='#531607'><time timestamp='2017-02-24T23:24:00Z'>23:24</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
gmaxwell: this isn&#x27;t our exception. This is a c++ feature.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487978640' id='531608'>
<a class='timestamp' href='#531608'><time timestamp='2017-02-24T23:24:00Z'>23:24</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
gmaxwell: right, this overrides what happens when &quot;new&quot; fails. So this is essentially what you&#x27;re asking for
<br>
</div>

<div class='talk op-msg' data-timestamp='1487978700' id='531609'>
<a class='timestamp' href='#531609'><time timestamp='2017-02-24T23:25:00Z'>23:25</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
cfields: no no: Our mistake is that a var int decode failure is an exception. Because of this we cannot wrap block processing with a catch * {tell user their hardware is befucked or someting bad happened}.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487978700' id='531610'>
<a class='timestamp' href='#531610'><time timestamp='2017-02-24T23:25:00Z'>23:25</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
gmaxwell: oh, i see what you mean
<br>
</div>

<div class='talk op-msg' data-timestamp='1487978760' id='531611'>
<a class='timestamp' href='#531611'><time timestamp='2017-02-24T23:26:00Z'>23:26</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Which basically means that random programming errors that throw exceptions can cause blocks to be rejected intead of the node shutting down, which is exactly what produced the bdb locks as a fork rather than a brief DOS.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487978760' id='531612'>
<a class='timestamp' href='#531612'><time timestamp='2017-02-24T23:26:00Z'>23:26</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
wait, ok, so has someone identified what actually happened here?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487978760' id='531613'>
<a class='timestamp' href='#531613'><time timestamp='2017-02-24T23:26:00Z'>23:26</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
There are basically three states for block processing:  &quot;I have a valid block&quot;, &quot;I have an invalid block.&quot;, and &quot;I notice that I am confused.&quot;  the latter should shut down without marking the block invalid.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487978760' id='531614'>
<a class='timestamp' href='#531614'><time timestamp='2017-02-24T23:26:00Z'>23:26</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: i think you&#x27;re overgeneralizing
<br>
</div>

<div class='talk op-msg' data-timestamp='1487978820' id='531615'>
<a class='timestamp' href='#531615'><time timestamp='2017-02-24T23:27:00Z'>23:27</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
gmaxwell: i completely agree. but this is a specific case that can be easily detected
<br>
</div>

<div class='talk op-msg' data-timestamp='1487978820' id='531616'>
<a class='timestamp' href='#531616'><time timestamp='2017-02-24T23:27:00Z'>23:27</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: problems during deserialization shouldn&#x27;t <u>_ever_</u> cause a block to be marked invalid
<br>
</div>

<div class='talk op-msg' data-timestamp='1487978820' id='531617'>
<a class='timestamp' href='#531617'><time timestamp='2017-02-24T23:27:00Z'>23:27</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
yes, this one we can work around. But where is the next one? this is the second one of those btw.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487978820' id='531618'>
<a class='timestamp' href='#531618'><time timestamp='2017-02-24T23:27:00Z'>23:27</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Leveldb internal errors also used to do this to us.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487978820' id='531619'>
<a class='timestamp' href='#531619'><time timestamp='2017-02-24T23:27:00Z'>23:27</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Third if you count bdb&#x27;s internal errors.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487978820' id='531620'>
<a class='timestamp' href='#531620'><time timestamp='2017-02-24T23:27:00Z'>23:27</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
gmaxwell: so let&#x27;s fix that independently :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1487978820' id='531621'>
<a class='timestamp' href='#531621'><time timestamp='2017-02-24T23:27:00Z'>23:27</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I&#x27;m fine with your general fix approach for now.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487978880' id='531622'>
<a class='timestamp' href='#531622'><time timestamp='2017-02-24T23:28:00Z'>23:28</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
there&#x27;s one gotcha there, though... prevector calls malloc directly
<br>
</div>

<div class='talk op-msg' data-timestamp='1487978880' id='531623'>
<a class='timestamp' href='#531623'><time timestamp='2017-02-24T23:28:00Z'>23:28</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I am lamenting that C++ code randomly calls exceptions without documenting the possiblity clearly. And that we make use of exceptions to mark invalidity. Which means that random internal errors can mark invalidity.  And you all know I hate exceptions, so that bias is not in question. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1487978940' id='531624'>
<a class='timestamp' href='#531624'><time timestamp='2017-02-24T23:29:00Z'>23:29</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
cfields: why are you replacing new and not malloc? (I don&#x27;t have a strong opinion, it&#x27;s just a question)
<br>
</div>

<div class='talk op-msg' data-timestamp='1487978940' id='531625'>
<a class='timestamp' href='#531625'><time timestamp='2017-02-24T23:29:00Z'>23:29</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
cfields: it could use new[] instead, i think
<br>
</div>

<div class='talk op-msg' data-timestamp='1487978940' id='531626'>
<a class='timestamp' href='#531626'><time timestamp='2017-02-24T23:29:00Z'>23:29</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: how do you replace malloc?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487978940' id='531627'>
<a class='timestamp' href='#531627'><time timestamp='2017-02-24T23:29:00Z'>23:29</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
glibc has a specific override. But perhaps there is no portable way?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487978940' id='531628'>
<a class='timestamp' href='#531628'><time timestamp='2017-02-24T23:29:00Z'>23:29</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
you&#x27;d need to do it with link-time magic, and hope that libstdc++ doesn&#x27;t bypass it somehow
<br>
</div>

<div class='talk op-msg' data-timestamp='1487978940' id='531629'>
<a class='timestamp' href='#531629'><time timestamp='2017-02-24T23:29:00Z'>23:29</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
I&#x27;m still confused, where do we use such exceptions to mark invalidity?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487978940' id='531630'>
<a class='timestamp' href='#531630'><time timestamp='2017-02-24T23:29:00Z'>23:29</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
BlueMatt: i don&#x27;t know!
<br>
</div>

<div class='talk op-msg' data-timestamp='1487978940' id='531631'>
<a class='timestamp' href='#531631'><time timestamp='2017-02-24T23:29:00Z'>23:29</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
we shouldn&#x27;t!
<br>
</div>

<div class='talk op-msg' data-timestamp='1487979000' id='531632'>
<a class='timestamp' href='#531632'><time timestamp='2017-02-24T23:30:00Z'>23:30</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
yes, I dont see the specific issue here, yet
<br>
</div>

<div class='talk op-msg' data-timestamp='1487979000' id='531633'>
<a class='timestamp' href='#531633'><time timestamp='2017-02-24T23:30:00Z'>23:30</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sipa: your logs showed we did exactly that.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487979000' id='531634'>
<a class='timestamp' href='#531634'><time timestamp='2017-02-24T23:30:00Z'>23:30</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
gmaxwell: no they dont
<br>
</div>

<div class='talk op-msg' data-timestamp='1487979000' id='531635'>
<a class='timestamp' href='#531635'><time timestamp='2017-02-24T23:30:00Z'>23:30</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
&quot;ERROR: ConnectBlock(): inputs missing/spent&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1487979000' id='531636'>
<a class='timestamp' href='#531636'><time timestamp='2017-02-24T23:30:00Z'>23:30</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
BlueMatt: my take-away from the above was that if we didn&#x27;t throw in deserialization, we could just wrap acceptblock and activatebestchain in try/catch(), and abort any time something&#x27;s caught
<br>
</div>

<div class='talk op-msg' data-timestamp='1487979000' id='531637'>
<a class='timestamp' href='#531637'><time timestamp='2017-02-24T23:30:00Z'>23:30</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
that was after the bad_alloc
<br>
</div>

<div class='talk op-msg' data-timestamp='1487979060' id='531638'>
<a class='timestamp' href='#531638'><time timestamp='2017-02-24T23:31:00Z'>23:31</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
gmaxwell: memory allocation failed, then the <u>_next block_</u> was rejected
<br>
</div>

<div class='talk op-msg' data-timestamp='1487979060' id='531639'>
<a class='timestamp' href='#531639'><time timestamp='2017-02-24T23:31:00Z'>23:31</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
cfields: yes, and we should do that, probably still
<br>
</div>

<div class='talk op-msg' data-timestamp='1487979060' id='531640'>
<a class='timestamp' href='#531640'><time timestamp='2017-02-24T23:31:00Z'>23:31</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: my assumption is that the error <u>_is_</u> caught somewhere, not passed up, and as a result a normal &quot;fail&quot; return value is returned, and a higher layer interprets that as invalid block
<br>
</div>

<div class='talk op-msg' data-timestamp='1487979060' id='531641'>
<a class='timestamp' href='#531641'><time timestamp='2017-02-24T23:31:00Z'>23:31</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: i don&#x27;t think we have anywhere a direct &quot;exception? mark invalid!&quot; logic
<br>
</div>

<div class='talk op-msg' data-timestamp='1487979060' id='531642'>
<a class='timestamp' href='#531642'><time timestamp='2017-02-24T23:31:00Z'>23:31</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
sipa: script interpreter does
<br>
</div>

<div class='talk op-msg' data-timestamp='1487979060' id='531643'>
<a class='timestamp' href='#531643'><time timestamp='2017-02-24T23:31:00Z'>23:31</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
but thats it i believe
<br>
</div>

<div class='talk op-msg' data-timestamp='1487979120' id='531644'>
<a class='timestamp' href='#531644'><time timestamp='2017-02-24T23:32:00Z'>23:32</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
(in the debug log you posted I do not believe that was the error, either)
<br>
</div>

<div class='talk op-msg' data-timestamp='1487979120' id='531645'>
<a class='timestamp' href='#531645'><time timestamp='2017-02-24T23:32:00Z'>23:32</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
we do all over the place! we have a generic catch that returns false on functions that must be true for validity.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487979180' id='531646'>
<a class='timestamp' href='#531646'><time timestamp='2017-02-24T23:33:00Z'>23:33</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
gmaxwell: we do?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487979180' id='531647'>
<a class='timestamp' href='#531647'><time timestamp='2017-02-24T23:33:00Z'>23:33</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Open up validation.cpp basically every catch in there does this.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487979180' id='531648'>
<a class='timestamp' href='#531648'><time timestamp='2017-02-24T23:33:00Z'>23:33</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
sipa: my take was that the block was accepted, but we didn&#x27;t switch to the new tip, so the next block failed when looking up inputs
<br>
</div>

<div class='talk op-msg' data-timestamp='1487979180' id='531649'>
<a class='timestamp' href='#531649'><time timestamp='2017-02-24T23:33:00Z'>23:33</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
only script interpreter i believe
<br>
</div>

<div class='talk op-msg' data-timestamp='1487979240' id='531650'>
<a class='timestamp' href='#531650'><time timestamp='2017-02-24T23:34:00Z'>23:34</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
okay it&#x27;s not as bad as I thought.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487979240' id='531651'>
<a class='timestamp' href='#531651'><time timestamp='2017-02-24T23:34:00Z'>23:34</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
did we in 0.14 introduce the SendRejectsAndCheckIfBanned(pfrom, connman) call in net_processing:2754 ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487979240' id='531652'>
<a class='timestamp' href='#531652'><time timestamp='2017-02-24T23:34:00Z'>23:34</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
well now that i check it is worse than I thought :p
<br>
</div>

<div class='talk op-msg' data-timestamp='1487979240' id='531653'>
<a class='timestamp' href='#531653'><time timestamp='2017-02-24T23:34:00Z'>23:34</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
which before used to be inside the catch block?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487979240' id='531654'>
<a class='timestamp' href='#531654'><time timestamp='2017-02-24T23:34:00Z'>23:34</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
some disk reads shit that probably should be smarter than it is
<br>
</div>

<div class='talk op-msg' data-timestamp='1487979300' id='531655'>
<a class='timestamp' href='#531655'><time timestamp='2017-02-24T23:35:00Z'>23:35</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
sipa: yes, and no, before it didnt exist
<br>
</div>

<div class='talk op-msg' data-timestamp='1487979300' id='531656'>
<a class='timestamp' href='#531656'><time timestamp='2017-02-24T23:35:00Z'>23:35</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
(was only in SendMessages)
<br>
</div>

<div class='talk op-msg' data-timestamp='1487979300' id='531657'>
<a class='timestamp' href='#531657'><time timestamp='2017-02-24T23:35:00Z'>23:35</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
sipa: it&#x27;s new, we used to only send rejects+ban from SendMessages()
<br>
</div>

<div class='talk op-msg' data-timestamp='1487979360' id='531658'>
<a class='timestamp' href='#531658'><time timestamp='2017-02-24T23:36:00Z'>23:36</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i see
<br>
</div>

<div class='talk op-msg' data-timestamp='1487979480' id='531659'>
<a class='timestamp' href='#531659'><time timestamp='2017-02-24T23:38:00Z'>23:38</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
imo the throw happened somewhere around SetBestChain, it was just caught in ProcessMessages because that&#x27;s the only place we do a generic catch(...)
<br>
</div>

<div class='talk op-msg' data-timestamp='1487979480' id='531660'>
<a class='timestamp' href='#531660'><time timestamp='2017-02-24T23:38:00Z'>23:38</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
BlueMatt: well I thought it was <u>_every_</u> one of them, but I checked readblockfromdisk and it&#x27;s not.
<br>
</div>

</div>
</section>

</body>
</html>
