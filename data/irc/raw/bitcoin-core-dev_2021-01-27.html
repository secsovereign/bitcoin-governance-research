<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2021-01-27
 — 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2021-01-27' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:17 UTC</pre>
<pre><a href="/bitcoin-core-dev/2020-12-27">&lt;</a><span class='header'>   January 2021   </span><a href="/bitcoin-core-dev/2021-02-27">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;                <a class="" href="/bitcoin-core-dev/2021-01-01">1</a>  <a class="" href="/bitcoin-core-dev/2021-01-02">2</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2021-01-03">3</a>  <a class="" href="/bitcoin-core-dev/2021-01-04">4</a>  <a class="" href="/bitcoin-core-dev/2021-01-05">5</a>  <a class="" href="/bitcoin-core-dev/2021-01-06">6</a>  <a class="" href="/bitcoin-core-dev/2021-01-07">7</a>  <a class="" href="/bitcoin-core-dev/2021-01-08">8</a>  <a class="" href="/bitcoin-core-dev/2021-01-09">9</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2021-01-10">10</a> <a class="" href="/bitcoin-core-dev/2021-01-11">11</a> <a class="" href="/bitcoin-core-dev/2021-01-12">12</a> <a class="" href="/bitcoin-core-dev/2021-01-13">13</a> <a class="" href="/bitcoin-core-dev/2021-01-14">14</a> <a class="" href="/bitcoin-core-dev/2021-01-15">15</a> <a class="" href="/bitcoin-core-dev/2021-01-16">16</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2021-01-17">17</a> <a class="" href="/bitcoin-core-dev/2021-01-18">18</a> <a class="" href="/bitcoin-core-dev/2021-01-19">19</a> <a class="" href="/bitcoin-core-dev/2021-01-20">20</a> <a class="" href="/bitcoin-core-dev/2021-01-21">21</a> <a class="" href="/bitcoin-core-dev/2021-01-22">22</a> <a class="" href="/bitcoin-core-dev/2021-01-23">23</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2021-01-24">24</a> <a class="" href="/bitcoin-core-dev/2021-01-25">25</a> <a class="" href="/bitcoin-core-dev/2021-01-26">26</a> <a class="current" href="/bitcoin-core-dev/2021-01-27">27</a> <a class="" href="/bitcoin-core-dev/2021-01-28">28</a> <a class="" href="/bitcoin-core-dev/2021-01-29">29</a> <a class="" href="/bitcoin-core-dev/2021-01-30">30</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2021-01-31">31</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1611712860' id='351803'>
<a class='timestamp' href='#351803'><time timestamp='2021-01-27T02:01:00Z'>02:01</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
So here&#x27;s a new? annoying GitHub behaviour.
<br>
</div>

<div class='talk op-msg' data-timestamp='1611712920' id='351804'>
<a class='timestamp' href='#351804'><time timestamp='2021-01-27T02:02:00Z'>02:02</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
<a href="https://github.com/bitcoin-core/gui/pull/189" class="link" target="_blank">https://github.com/bitcoin-core/gui/pull/189</a> was merged, with &quot;Fixes: <a href="https://github.com/bitcoin-core/gui/issues/101" class="link" target="_blank">https://github.com/bitcoin-core/gui/issues/101</a>&quot; in the description.
<br>
</div>

<div class='talk op-msg' data-timestamp='1611712920' id='351805'>
<a class='timestamp' href='#351805'><time timestamp='2021-01-27T02:02:00Z'>02:02</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
So #101 got auto-closed when it was merged.
<br>
</div>

<div class='talk op-msg' data-timestamp='1611712920' id='351806'>
<a class='timestamp' href='#351806'><time timestamp='2021-01-27T02:02:00Z'>02:02</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/101" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/101</a> | Shy clients by gavinandresen · Pull Request #101 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1611712920' id='351807'>
<a class='timestamp' href='#351807'><time timestamp='2021-01-27T02:02:00Z'>02:02</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
101 was then re-opened, because it needed further fixing.
<br>
</div>

<div class='talk op-msg' data-timestamp='1611712920' id='351808'>
<a class='timestamp' href='#351808'><time timestamp='2021-01-27T02:02:00Z'>02:02</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
I fetched upstream, merged it into my bitcoin fork, then pushed that back to GitHub (fanquake/bitcoin).
<br>
</div>

<div class='talk op-msg' data-timestamp='1611712920' id='351809'>
<a class='timestamp' href='#351809'><time timestamp='2021-01-27T02:02:00Z'>02:02</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
Github then re-closed 101...
<br>
</div>

<div class='talk op-msg' data-timestamp='1611712980' id='351810'>
<a class='timestamp' href='#351810'><time timestamp='2021-01-27T02:03:00Z'>02:03</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
I don&#x27;t think I&#x27;ve ever seen that happen before?
<br>
</div>

<div class='talk op-msg' data-timestamp='1611712980' id='351811'>
<a class='timestamp' href='#351811'><time timestamp='2021-01-27T02:03:00Z'>02:03</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
Does this happen when anyone (with merge permissions, or maybe not even that?) just does the same?
<br>
</div>

<div class='talk op-msg' data-timestamp='1611712980' id='351812'>
<a class='timestamp' href='#351812'><time timestamp='2021-01-27T02:03:00Z'>02:03</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
Seems like something we should have definitely noticed in the past if so
<br>
</div>

<div class='talk op-msg' data-timestamp='1611712980' id='351813'>
<a class='timestamp' href='#351813'><time timestamp='2021-01-27T02:03:00Z'>02:03</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i also think we don&#x27;t have much experience with such &quot;fixes: &lt;issue on other repo&gt;&quot; tags
<br>
</div>

<div class='talk op-msg' data-timestamp='1611713100' id='351814'>
<a class='timestamp' href='#351814'><time timestamp='2021-01-27T02:05:00Z'>02:05</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
It seems quite annoying if GitHub will close issues in the bitcoin-core/gui repo, when I, or potentially anyone else, push to their own repos (fanquake/bitcoin)
<br>
</div>

<div class='talk op-msg' data-timestamp='1611713160' id='351815'>
<a class='timestamp' href='#351815'><time timestamp='2021-01-27T02:06:00Z'>02:06</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
you should try to see if it works for a repo you don&#x27;t have write access to ;)
<br>
</div>

<div class='talk op-msg' data-timestamp='1611713280' id='351816'>
<a class='timestamp' href='#351816'><time timestamp='2021-01-27T02:08:00Z'>02:08</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
I will save debugging GitHub for this afternoon
<br>
</div>

<div class='talk op-msg' data-timestamp='1611728520' id='351817'>
<a class='timestamp' href='#351817'><time timestamp='2021-01-27T06:22:00Z'>06:22</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[gui] Bosch-0 opened pull request #199: Added updated bitcoin PNG / SVG icon (master...bitcoin_icon) <a href="https://github.com/bitcoin-core/gui/pull/199" class="link" target="_blank">https://github.com/bitcoin-core/gui/pull/199</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1611729540' id='351818'>
<a class='timestamp' href='#351818'><time timestamp='2021-01-27T06:39:00Z'>06:39</time></a>
&lt;<span class='nick nick-12'> dhruvm</span>&gt;
fanquake: <a href="https://docs.github.com/en/github/managing-your-work-on-github/linking-a-pull-request-to-an-issue#linking-a-pull-request-to-an-issue-using-a-keyword" class="link" target="_blank">https://docs.github.com/en/github/managing-your-work-on-github/linking-a-pull-request-to-an-issue#linking-a-pull-request-to-an-issue-using-a-keyword</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1611729540' id='351819'>
<a class='timestamp' href='#351819'><time timestamp='2021-01-27T06:39:00Z'>06:39</time></a>
&lt;<span class='nick nick-12'> dhruvm</span>&gt;
(doesn&#x27;t address the weird behavior with your own fork though)
<br>
</div>

<div class='talk op-msg' data-timestamp='1611730140' id='351820'>
<a class='timestamp' href='#351820'><time timestamp='2021-01-27T06:49:00Z'>06:49</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
since 2013 apparently: <a href="https://github.blog/2013-03-18-closing-issues-across-repositories/" class="link" target="_blank">https://github.blog/2013-03-18-closing-issues-across-repositories/</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1611730200' id='351821'>
<a class='timestamp' href='#351821'><time timestamp='2021-01-27T06:50:00Z'>06:50</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
requires you have permission to push to the mentioned repository
<br>
</div>

<div class='talk op-msg' data-timestamp='1611730260' id='351822'>
<a class='timestamp' href='#351822'><time timestamp='2021-01-27T06:51:00Z'>06:51</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gwillen: way to shatter our dreams about having discovered an amazing oversight in github&#x27;s security :(
<br>
</div>

<div class='talk op-msg' data-timestamp='1611730620' id='351823'>
<a class='timestamp' href='#351823'><time timestamp='2021-01-27T06:57:00Z'>06:57</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
don&#x27;t worry, I&#x27;m sure you&#x27;ll find another one pretty soon
<br>
</div>

<div class='talk op-msg' data-timestamp='1611731760' id='351824'>
<a class='timestamp' href='#351824'><time timestamp='2021-01-27T07:16:00Z'>07:16</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] fanquake opened pull request #21016: refactor: remove boost::thread_group usage (master...remove_boost_threadgroup) <a href="https://github.com/bitcoin/bitcoin/pull/21016" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/21016</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1611746700' id='351825'>
<a class='timestamp' href='#351825'><time timestamp='2021-01-27T11:25:00Z'>11:25</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
MarcoFalke: wrt <a href="https://github.com/jnewbery/bitcoin/pull/18#issuecomment-768216999:" class="link" target="_blank">https://github.com/jnewbery/bitcoin/pull/18#issuecomment-768216999:</a> -use_value_profile=1 does not make much difference, if any
<br>
</div>

<div class='talk op-msg' data-timestamp='1611746760' id='351826'>
<a class='timestamp' href='#351826'><time timestamp='2021-01-27T11:26:00Z'>11:26</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
I added -max_len=1048576 too in an attempt to make it provide more fuzz data
<br>
</div>

<div class='talk op-msg' data-timestamp='1611746880' id='351827'>
<a class='timestamp' href='#351827'><time timestamp='2021-01-27T11:28:00Z'>11:28</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
ConsumeNetAddr() generates an unroutable address most of the time
<br>
</div>

<div class='talk op-msg' data-timestamp='1611746940' id='351828'>
<a class='timestamp' href='#351828'><time timestamp='2021-01-27T11:29:00Z'>11:29</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
I will see how to make ConsumeRoutableNetAddr() (retrying ConsumeNetAddr() until it produces a routable address is a bad idea :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1611750180' id='351829'>
<a class='timestamp' href='#351829'><time timestamp='2021-01-27T12:23:00Z'>12:23</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke pushed 5 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/e130ff38c91a...11d3b5833671" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/e130ff38c91a...11d3b5833671</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1611750180' id='351830'>
<a class='timestamp' href='#351830'><time timestamp='2021-01-27T12:23:00Z'>12:23</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 784a278 Jon Atack: doc: update -onlynet help in src/init.cpp
<br>
</div>

<div class='talk op-msg' data-timestamp='1611750180' id='351831'>
<a class='timestamp' href='#351831'><time timestamp='2021-01-27T12:23:00Z'>12:23</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master dfc4ce1 saibato: doc: update -proxy, -onion and -onlynet info in tor.md
<br>
</div>

<div class='talk op-msg' data-timestamp='1611750180' id='351832'>
<a class='timestamp' href='#351832'><time timestamp='2021-01-27T12:23:00Z'>12:23</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 9af99b6 Jon Atack: doc: update/improve automatic tor section of tor.md
<br>
</div>

<div class='talk op-msg' data-timestamp='1611750180' id='351833'>
<a class='timestamp' href='#351833'><time timestamp='2021-01-27T12:23:00Z'>12:23</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke merged pull request #20757: doc: tor.md and -onlynet help updates (master...tor-md-doc-updates) <a href="https://github.com/bitcoin/bitcoin/pull/20757" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20757</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1611751440' id='351834'>
<a class='timestamp' href='#351834'><time timestamp='2021-01-27T12:44:00Z'>12:44</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 2 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/11d3b5833671...15a9df070615" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/11d3b5833671...15a9df070615</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1611751440' id='351835'>
<a class='timestamp' href='#351835'><time timestamp='2021-01-27T12:44:00Z'>12:44</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master a6739cc Wladimir J. van der Laan: rpc: Add specific error code for &quot;wallet already loaded&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1611751440' id='351836'>
<a class='timestamp' href='#351836'><time timestamp='2021-01-27T12:44:00Z'>12:44</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 15a9df0 Wladimir J. van der Laan: Merge #20964: rpc: Add specific error code for &quot;wallet already loaded&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1611751440' id='351837'>
<a class='timestamp' href='#351837'><time timestamp='2021-01-27T12:44:00Z'>12:44</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj merged pull request #20964: rpc: Add specific error code for &quot;wallet already loaded&quot; (master...2021-01-wallet-already-loaded-rpc) <a href="https://github.com/bitcoin/bitcoin/pull/20964" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20964</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1611757380' id='351838'>
<a class='timestamp' href='#351838'><time timestamp='2021-01-27T14:23:00Z'>14:23</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj closed pull request #20957: doc: Update tor.md for notes on how to preserve v2 urls (with a not recommended note) (master...tor-controlport-docs) <a href="https://github.com/bitcoin/bitcoin/pull/20957" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20957</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1611762060' id='351839'>
<a class='timestamp' href='#351839'><time timestamp='2021-01-27T15:41:00Z'>15:41</time></a>
&lt;<span class='nick nick-12'> semtexzv</span>&gt;
Hello there, I&#x27;m reading through the eltoo paper + BIT 118, and had an idea.
<br>
</div>

<div class='talk op-msg' data-timestamp='1611762120' id='351840'>
<a class='timestamp' href='#351840'><time timestamp='2021-01-27T15:42:00Z'>15:42</time></a>
&lt;<span class='nick nick-12'> semtexzv</span>&gt;
the SIGHASH_NOINPUT exposes an address to weird replay attacks. However, it&#x27;s not needed for the eltoo. Eltoo channels know previous states, from which they could want to spend. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1611762180' id='351841'>
<a class='timestamp' href='#351841'><time timestamp='2021-01-27T15:43:00Z'>15:43</time></a>
&lt;<span class='nick nick-12'> semtexzv</span>&gt;
So, how about encoding a SET of possible inputs to a transaction by encoding it as a merkle tree, with the usage of signature revealing a path within the merkle tree ? 
<br>
</div>

<div class='talk op-msg' data-timestamp='1611762300' id='351842'>
<a class='timestamp' href='#351842'><time timestamp='2021-01-27T15:45:00Z'>15:45</time></a>
&lt;<span class='nick nick-12'> semtexzv</span>&gt;
Basically, a new sighash type, encoded as &lt;sig&gt; SIGHASH_SELECT &lt;merkle_root&gt; &lt;merkle_path&gt; , with the merkle root part included in the signature input.
<br>
</div>

<div class='talk op-msg' data-timestamp='1611762480' id='351843'>
<a class='timestamp' href='#351843'><time timestamp='2021-01-27T15:48:00Z'>15:48</time></a>
&lt;<span class='nick nick-12'> semtexzv</span>&gt;
That would basically allow to use constrained set of UTXOs, at the cost of signature effectiveness ( log(n) cost ), which is only used in the resolution branch, not the normal settlement.
<br>
</div>

<div class='talk op-msg' data-timestamp='1611774240' id='351844'>
<a class='timestamp' href='#351844'><time timestamp='2021-01-27T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-12'> shesek</span>&gt;
it would be useful if listtransactions/listsinceblock reported which of the conflicted mempool wallet transactions is considered to be the &#x27;active&#x27; one and which are considered to be double-spent
<br>
</div>

<div class='talk op-msg' data-timestamp='1611774300' id='351845'>
<a class='timestamp' href='#351845'><time timestamp='2021-01-27T19:05:00Z'>19:05</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
if it&#x27;s in the mempool, it&#x27;s considered active ;)
<br>
</div>

<div class='talk op-msg' data-timestamp='1611774300' id='351846'>
<a class='timestamp' href='#351846'><time timestamp='2021-01-27T19:05:00Z'>19:05</time></a>
&lt;<span class='nick nick-12'> shesek</span>&gt;
currently, when I see a wallet transactions with confirmations == 0 and a non-empty walletconflicts, I have to issue an additional `getmempoolentry` rpc call to determine whether the transaction is &#x27;active&#x27; or not
<br>
</div>

<div class='talk op-msg' data-timestamp='1611774300' id='351847'>
<a class='timestamp' href='#351847'><time timestamp='2021-01-27T19:05:00Z'>19:05</time></a>
&lt;<span class='nick nick-12'> shesek</span>&gt;
right ^^
<br>
</div>

<div class='talk op-msg' data-timestamp='1611774300' id='351848'>
<a class='timestamp' href='#351848'><time timestamp='2021-01-27T19:05:00Z'>19:05</time></a>
&lt;<span class='nick nick-12'> shesek</span>&gt;
but it would be nicer if this was more readily available in listtransactions
<br>
</div>

<div class='talk op-msg' data-timestamp='1611774300' id='351849'>
<a class='timestamp' href='#351849'><time timestamp='2021-01-27T19:05:00Z'>19:05</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ah
<br>
</div>

<div class='talk op-msg' data-timestamp='1611774300' id='351850'>
<a class='timestamp' href='#351850'><time timestamp='2021-01-27T19:05:00Z'>19:05</time></a>
&lt;<span class='nick nick-12'> shesek</span>&gt;
and more efficient, less rpc calls
<br>
</div>

<div class='talk op-msg' data-timestamp='1611774600' id='351851'>
<a class='timestamp' href='#351851'><time timestamp='2021-01-27T19:10:00Z'>19:10</time></a>
&lt;<span class='nick nick-12'> shesek</span>&gt;
btw, is there a more common term to describe mempool transactions that are &#x27;active&#x27; from the PoV of your node?
<br>
</div>

<div class='talk op-msg' data-timestamp='1611774780' id='351852'>
<a class='timestamp' href='#351852'><time timestamp='2021-01-27T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
&quot;in mempool&quot;?
<br>
</div>

<div class='talk op-msg' data-timestamp='1611774780' id='351853'>
<a class='timestamp' href='#351853'><time timestamp='2021-01-27T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
shesek: why do you think this distinction matters? &lt;.&lt;
<br>
</div>

<div class='talk op-msg' data-timestamp='1611774780' id='351854'>
<a class='timestamp' href='#351854'><time timestamp='2021-01-27T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-12'> shesek</span>&gt;
hmm, yeah, I guess so
<br>
</div>

<div class='talk op-msg' data-timestamp='1611774840' id='351855'>
<a class='timestamp' href='#351855'><time timestamp='2021-01-27T19:14:00Z'>19:14</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
ie, what is the use case?
<br>
</div>

<div class='talk op-msg' data-timestamp='1611774900' id='351856'>
<a class='timestamp' href='#351856'><time timestamp='2021-01-27T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-12'> shesek</span>&gt;
what do you mean why it matters? the &#x27;active&#x27; transaction should be shown to the user in the wallet history and can be eligible for coin selection, the others should not
<br>
</div>

<div class='talk op-msg' data-timestamp='1611775020' id='351857'>
<a class='timestamp' href='#351857'><time timestamp='2021-01-27T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
why not?
<br>
</div>

<div class='talk op-msg' data-timestamp='1611775020' id='351858'>
<a class='timestamp' href='#351858'><time timestamp='2021-01-27T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
unconfirmed is unconfirmed
<br>
</div>

<div class='talk op-msg' data-timestamp='1611775020' id='351859'>
<a class='timestamp' href='#351859'><time timestamp='2021-01-27T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
would we ever do coin selection from a zero-conf transaction we know is conflicted? (I&#x27;m curious what it even means for one to be active. Would this be for RBF, where one is expected to confirm much more surely than the other?)
<br>
</div>

<div class='talk op-msg' data-timestamp='1611775080' id='351860'>
<a class='timestamp' href='#351860'><time timestamp='2021-01-27T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-12'> shesek</span>&gt;
gwillen, I&#x27;m running into this in the context of rbf, yes. for example, following a fee bump, the wallet could choose to spend the higher-fee change output, but not the lower-fee one
<br>
</div>

<div class='talk op-msg' data-timestamp='1611775140' id='351861'>
<a class='timestamp' href='#351861'><time timestamp='2021-01-27T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-12'> shesek</span>&gt;
it also shouldn&#x27;t show the lower fee one in the wallet history, or show it with some different graphic, or behind an &#x27;advanced&#x27; screen
<br>
</div>

<div class='talk op-msg' data-timestamp='1611775140' id='351862'>
<a class='timestamp' href='#351862'><time timestamp='2021-01-27T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
you have higher- and lower- backward there I think?
<br>
</div>

<div class='talk op-msg' data-timestamp='1611775140' id='351863'>
<a class='timestamp' href='#351863'><time timestamp='2021-01-27T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
*nod*, makes sense. Given that we already allow coin selection from 0-conf, it seems like you&#x27;d want this.
<br>
</div>

<div class='talk op-msg' data-timestamp='1611775200' id='351864'>
<a class='timestamp' href='#351864'><time timestamp='2021-01-27T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
gwillen: I would think you want to spend any conflicting change from all possible inputs concurrently, if at all
<br>
</div>

<div class='talk op-msg' data-timestamp='1611775200' id='351865'>
<a class='timestamp' href='#351865'><time timestamp='2021-01-27T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-12'> shesek</span>&gt;
luke-jr, hmm, I think I got it right? I was referring to higher/lower fee, not the value of the change output (which would be backwards)
<br>
</div>

<div class='talk op-msg' data-timestamp='1611775200' id='351866'>
<a class='timestamp' href='#351866'><time timestamp='2021-01-27T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
shesek: but you&#x27;re more likely to use change if it&#x27;s higher (therefore lower fee)
<br>
</div>

<div class='talk op-msg' data-timestamp='1611775200' id='351867'>
<a class='timestamp' href='#351867'><time timestamp='2021-01-27T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
I&#x27;m curious what the current wallet behavior is here.
<br>
</div>

<div class='talk op-msg' data-timestamp='1611775260' id='351868'>
<a class='timestamp' href='#351868'><time timestamp='2021-01-27T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
gwillen: I&#x27;d guess a mess :P
<br>
</div>

<div class='talk op-msg' data-timestamp='1611775320' id='351869'>
<a class='timestamp' href='#351869'><time timestamp='2021-01-27T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
one of those reasons we should remain 0.x ;)
<br>
</div>

<div class='talk op-msg' data-timestamp='1611775320' id='351870'>
<a class='timestamp' href='#351870'><time timestamp='2021-01-27T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-12'> shesek</span>&gt;
I noticed that when calling `gettransaction` on the &#x27;non active&#x27; mempool tx, the `details` object is empty. which suggests to me that bitcoind is probably ignoring these somehow
<br>
</div>

<div class='talk op-msg' data-timestamp='1611775560' id='351871'>
<a class='timestamp' href='#351871'><time timestamp='2021-01-27T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-12'> shesek</span>&gt;
this seems somewhat inconsistent, listtransactions/listsinceblock are basically a flattened concatenated list with the `details` from all the wallet transactions, I would expect transactions that report an empty `details` object in `gettransaction` not to show up on `listtransactions` at all
<br>
</div>

<div class='talk op-msg' data-timestamp='1611775620' id='351872'>
<a class='timestamp' href='#351872'><time timestamp='2021-01-27T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-12'> shesek</span>&gt;
in other words, wallet transactions with N entries in `details` show up N times in `listtransactions`, except for N==0
<br>
</div>

<div class='talk op-msg' data-timestamp='1611775860' id='351873'>
<a class='timestamp' href='#351873'><time timestamp='2021-01-27T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
shesek: that sounds inconsistent indeed
<br>
</div>

<div class='talk op-msg' data-timestamp='1611776040' id='351874'>
<a class='timestamp' href='#351874'><time timestamp='2021-01-27T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[gui] laanwj merged pull request #180: Peer details: connection type follow-ups (master...peer-details-connection-type-followups) <a href="https://github.com/bitcoin-core/gui/pull/180" class="link" target="_blank">https://github.com/bitcoin-core/gui/pull/180</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1611776040' id='351875'>
<a class='timestamp' href='#351875'><time timestamp='2021-01-27T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 4 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/15a9df070615...d1ddead09a58" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/15a9df070615...d1ddead09a58</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1611776040' id='351876'>
<a class='timestamp' href='#351876'><time timestamp='2021-01-27T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 4f09615 Jon Atack: gui: return inbound {full, block} relay type in peer details
<br>
</div>

<div class='talk op-msg' data-timestamp='1611776040' id='351877'>
<a class='timestamp' href='#351877'><time timestamp='2021-01-27T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master f3153dc Jon Atack: gui: improve markup handling of connection type tooltip
<br>
</div>

<div class='talk op-msg' data-timestamp='1611776040' id='351878'>
<a class='timestamp' href='#351878'><time timestamp='2021-01-27T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 79a2576 Jon Atack: doc: update ConnectionType Doxygen documentation
<br>
</div>

<div class='talk op-msg' data-timestamp='1611777300' id='351879'>
<a class='timestamp' href='#351879'><time timestamp='2021-01-27T19:55:00Z'>19:55</time></a>
&lt;<span class='nick nick-12'> shesek</span>&gt;
for my use case, I would prefer they do show up in both gettransaction&#x27;s `details` field and in listtransactions/listsinceblock, but with a flag that indicates their status. similarly to when its conflicted with a confirmed transactions
<br>
</div>

<div class='talk op-msg' data-timestamp='1611777360' id='351880'>
<a class='timestamp' href='#351880'><time timestamp='2021-01-27T19:56:00Z'>19:56</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i think at some point confirmations=-1 meant that a transaction wasn&#x27;t in the mempool
<br>
</div>

<div class='talk op-msg' data-timestamp='1611777360' id='351881'>
<a class='timestamp' href='#351881'><time timestamp='2021-01-27T19:56:00Z'>19:56</time></a>
&lt;<span class='nick nick-12'> shesek</span>&gt;
this makes it easier to sync the wallet state using listsinceblock/listtransactions
<br>
</div>

<div class='talk op-msg' data-timestamp='1611777420' id='351882'>
<a class='timestamp' href='#351882'><time timestamp='2021-01-27T19:57:00Z'>19:57</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but later (still many years ago) that was changed so that -N confirmations means &quot;a conflict to this tx has N confirmations&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1611777420' id='351883'>
<a class='timestamp' href='#351883'><time timestamp='2021-01-27T19:57:00Z'>19:57</time></a>
&lt;<span class='nick nick-12'> shesek</span>&gt;
sipa, hmm, I see. this wouldn&#x27;t be compatible with the current definition of negative confirmations
<br>
</div>

<div class='talk op-msg' data-timestamp='1611777420' id='351884'>
<a class='timestamp' href='#351884'><time timestamp='2021-01-27T19:57:00Z'>19:57</time></a>
&lt;<span class='nick nick-12'> shesek</span>&gt;
right
<br>
</div>

<div class='talk op-msg' data-timestamp='1611778020' id='351885'>
<a class='timestamp' href='#351885'><time timestamp='2021-01-27T20:07:00Z'>20:07</time></a>
&lt;<span class='nick nick-3'> S3RK</span>&gt;
luke-jr wrt <a href="https://github.com/bitcoin/bitcoin/pull/20226#issuecomment-768392164" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20226#issuecomment-768392164</a> I&#x27;ve pushed updated test with my comment so it won&#x27;t fail anymore. Sorry it wasn&#x27;t clear from my original comment
<br>
</div>

<div class='talk op-msg' data-timestamp='1611778200' id='351886'>
<a class='timestamp' href='#351886'><time timestamp='2021-01-27T20:10:00Z'>20:10</time></a>
&lt;<span class='nick nick-3'> S3RK</span>&gt;
achow101 could you expalin what do you mean by &quot;to not make tests dependent on --descriptors&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1611778200' id='351887'>
<a class='timestamp' href='#351887'><time timestamp='2021-01-27T20:10:00Z'>20:10</time></a>
&lt;<span class='nick nick-3'> S3RK</span>&gt;
in <a href="https://github.com/bitcoin/bitcoin/pull/20226#issuecomment-768451009" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20226#issuecomment-768451009</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1611778320' id='351888'>
<a class='timestamp' href='#351888'><time timestamp='2021-01-27T20:12:00Z'>20:12</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
S3RK: the idea is that all tests do the necessary things when ran without command line arguments. so tests that do both legacy and descriptor wallets, not specifying the argument runs both sets of tests. and for tests for a specific wallet type, running without arguments just does the one wallet type it is supposed to test
<br>
</div>

<div class='talk op-msg' data-timestamp='1611778320' id='351889'>
<a class='timestamp' href='#351889'><time timestamp='2021-01-27T20:12:00Z'>20:12</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
then if you specify a specific type and the test doesn&#x27;t support that wallet type, it skips
<br>
</div>

<div class='talk op-msg' data-timestamp='1611778320' id='351890'>
<a class='timestamp' href='#351890'><time timestamp='2021-01-27T20:12:00Z'>20:12</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
#20892 is the relevant pr for that
<br>
</div>

<div class='talk op-msg' data-timestamp='1611778320' id='351891'>
<a class='timestamp' href='#351891'><time timestamp='2021-01-27T20:12:00Z'>20:12</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/20892" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/20892</a> | tests: Run both descriptor and legacy tests within a single test invocation by achow101 · Pull Request #20892 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1611778440' id='351892'>
<a class='timestamp' href='#351892'><time timestamp='2021-01-27T20:14:00Z'>20:14</time></a>
&lt;<span class='nick nick-3'> S3RK</span>&gt;
interresting, i&#x27;ll check out this PR
<br>
</div>

<div class='talk op-msg' data-timestamp='1611778440' id='351893'>
<a class='timestamp' href='#351893'><time timestamp='2021-01-27T20:14:00Z'>20:14</time></a>
&lt;<span class='nick nick-3'> S3RK</span>&gt;
achow101 wiling to reACK if I apply fixes suggested by jonatack?
<br>
</div>

<div class='talk op-msg' data-timestamp='1611778500' id='351894'>
<a class='timestamp' href='#351894'><time timestamp='2021-01-27T20:15:00Z'>20:15</time></a>
&lt;<span class='nick nick-3'> S3RK</span>&gt;
s/wiling/willing/
<br>
</div>

<div class='talk op-msg' data-timestamp='1611778560' id='351895'>
<a class='timestamp' href='#351895'><time timestamp='2021-01-27T20:16:00Z'>20:16</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
sure
<br>
</div>

<div class='talk op-msg' data-timestamp='1611778560' id='351896'>
<a class='timestamp' href='#351896'><time timestamp='2021-01-27T20:16:00Z'>20:16</time></a>
&lt;<span class='nick nick-14'> jonatack</span>&gt;
of course he is <b>*ducks*</b>
<br>
</div>

<div class='talk op-msg' data-timestamp='1611778560' id='351897'>
<a class='timestamp' href='#351897'><time timestamp='2021-01-27T20:16:00Z'>20:16</time></a>
&lt;<span class='nick nick-14'> jonatack</span>&gt;
S3RK: but they&#x27;re no big deal
<br>
</div>

<div class='talk op-msg' data-timestamp='1611780240' id='351898'>
<a class='timestamp' href='#351898'><time timestamp='2021-01-27T20:44:00Z'>20:44</time></a>
&lt;<span class='nick nick-12'> shesek</span>&gt;
I filed an issue for conflicted wallet transactions: <a href="https://github.com/bitcoin/bitcoin/issues/21018" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/21018</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1611780300' id='351899'>
<a class='timestamp' href='#351899'><time timestamp='2021-01-27T20:45:00Z'>20:45</time></a>
&lt;<span class='nick nick-12'> shesek</span>&gt;
wasn&#x27;t sure if the inconsistency qualifies as a bug or not, ended up submitting the issue as a feature request
<br>
</div>

<div class='talk op-msg' data-timestamp='1611784380' id='351900'>
<a class='timestamp' href='#351900'><time timestamp='2021-01-27T21:53:00Z'>21:53</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
achow101: S3RK: I was thinking default --descriptors on when it&#x27;s required, but achow101&#x27;s idea seems better
<br>
</div>

<div class='talk op-msg' data-timestamp='1611784380' id='351901'>
<a class='timestamp' href='#351901'><time timestamp='2021-01-27T21:53:00Z'>21:53</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
although with that, will test_runner still produce a SKIP message when you build w/o sqlite?
<br>
</div>

<div class='talk op-msg' data-timestamp='1611784800' id='351902'>
<a class='timestamp' href='#351902'><time timestamp='2021-01-27T22:00:00Z'>22:00</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
luke-jr: the current implementation won&#x27;t produce a skip message. but maybe it could be a &quot;partial skip&quot; message?
<br>
</div>

<div class='talk op-msg' data-timestamp='1611784860' id='351903'>
<a class='timestamp' href='#351903'><time timestamp='2021-01-27T22:01:00Z'>22:01</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
achow101: with that patch I posted it would
<br>
</div>

<div class='talk op-msg' data-timestamp='1611784860' id='351904'>
<a class='timestamp' href='#351904'><time timestamp='2021-01-27T22:01:00Z'>22:01</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
feature_backwards_compatibility.py --descriptors | ○ Skipped | 19 s
<br>
</div>

<div class='talk op-msg' data-timestamp='1611784860' id='351905'>
<a class='timestamp' href='#351905'><time timestamp='2021-01-27T22:01:00Z'>22:01</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
luke-jr: the idea is to not have to have --descriptors in test_runner commands
<br>
</div>

<div class='talk op-msg' data-timestamp='1611784920' id='351906'>
<a class='timestamp' href='#351906'><time timestamp='2021-01-27T22:02:00Z'>22:02</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
achow101: right, I&#x27;m just saying it&#x27;d be nice to not lose the Skipped lines in the process
<br>
</div>

<div class='talk op-msg' data-timestamp='1611784920' id='351907'>
<a class='timestamp' href='#351907'><time timestamp='2021-01-27T22:02:00Z'>22:02</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
I suppose
<br>
</div>

<div class='talk op-msg' data-timestamp='1611784920' id='351908'>
<a class='timestamp' href='#351908'><time timestamp='2021-01-27T22:02:00Z'>22:02</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
I guess it&#x27;s possible to have the default run both, and then specify both --legacy and --descriptors in test_runner..
<br>
</div>

</div>
</section>

</body>
</html>
