<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2020-04-29
 — 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2020-04-29' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:18 UTC</pre>
<pre><a href="/bitcoin-core-dev/2020-03-29">&lt;</a><span class='header'>    April 2020    </span><a href="/bitcoin-core-dev/2020-05-29">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;          <a class="" href="/bitcoin-core-dev/2020-04-01">1</a>  <a class="" href="/bitcoin-core-dev/2020-04-02">2</a>  <a class="" href="/bitcoin-core-dev/2020-04-03">3</a>  <a class="" href="/bitcoin-core-dev/2020-04-04">4</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2020-04-05">5</a>  <a class="" href="/bitcoin-core-dev/2020-04-06">6</a>  <a class="" href="/bitcoin-core-dev/2020-04-07">7</a>  <a class="" href="/bitcoin-core-dev/2020-04-08">8</a>  <a class="" href="/bitcoin-core-dev/2020-04-09">9</a> <a class="" href="/bitcoin-core-dev/2020-04-10">10</a> <a class="" href="/bitcoin-core-dev/2020-04-11">11</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2020-04-12">12</a> <a class="" href="/bitcoin-core-dev/2020-04-13">13</a> <a class="" href="/bitcoin-core-dev/2020-04-14">14</a> <a class="" href="/bitcoin-core-dev/2020-04-15">15</a> <a class="" href="/bitcoin-core-dev/2020-04-16">16</a> <a class="" href="/bitcoin-core-dev/2020-04-17">17</a> <a class="" href="/bitcoin-core-dev/2020-04-18">18</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2020-04-19">19</a> <a class="" href="/bitcoin-core-dev/2020-04-20">20</a> <a class="" href="/bitcoin-core-dev/2020-04-21">21</a> <a class="" href="/bitcoin-core-dev/2020-04-22">22</a> <a class="" href="/bitcoin-core-dev/2020-04-23">23</a> <a class="" href="/bitcoin-core-dev/2020-04-24">24</a> <a class="" href="/bitcoin-core-dev/2020-04-25">25</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2020-04-26">26</a> <a class="" href="/bitcoin-core-dev/2020-04-27">27</a> <a class="" href="/bitcoin-core-dev/2020-04-28">28</a> <a class="current" href="/bitcoin-core-dev/2020-04-29">29</a> <a class="" href="/bitcoin-core-dev/2020-04-30">30</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1588120800' id='384499'>
<a class='timestamp' href='#384499'><time timestamp='2020-04-29T00:40:00Z'>00:40</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jnewbery opened pull request #18808: [net processing] Drop unknown types in getdata (master...2020-04-getdata) <a href="https://github.com/bitcoin/bitcoin/pull/18808" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/18808</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1588120980' id='384500'>
<a class='timestamp' href='#384500'><time timestamp='2020-04-29T00:43:00Z'>00:43</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke opened pull request #18809: rpc: Do not advertise dumptxoutset as a way to flush the chainstate (master...2004-rpcNoFlushAdvert) <a href="https://github.com/bitcoin/bitcoin/pull/18809" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/18809</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1588123140' id='384501'>
<a class='timestamp' href='#384501'><time timestamp='2020-04-29T01:19:00Z'>01:19</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] chrisabrams opened pull request #18810: fix: update rest info on block size and json (master...18703) <a href="https://github.com/bitcoin/bitcoin/pull/18810" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/18810</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1588125840' id='384502'>
<a class='timestamp' href='#384502'><time timestamp='2020-04-29T02:04:00Z'>02:04</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
is boost 1.47 still the minimum supported?
<br>
</div>

<div class='talk op-msg' data-timestamp='1588125900' id='384503'>
<a class='timestamp' href='#384503'><time timestamp='2020-04-29T02:05:00Z'>02:05</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1588125900' id='384504'>
<a class='timestamp' href='#384504'><time timestamp='2020-04-29T02:05:00Z'>02:05</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] xagau opened pull request #18812: Xagau 1 (master...xagau-1) <a href="https://github.com/bitcoin/bitcoin/pull/18812" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/18812</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1588125960' id='384505'>
<a class='timestamp' href='#384505'><time timestamp='2020-04-29T02:06:00Z'>02:06</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] fanquake closed pull request #18812: Xagau 1 (master...xagau-1) <a href="https://github.com/bitcoin/bitcoin/pull/18812" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/18812</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1588125960' id='384506'>
<a class='timestamp' href='#384506'><time timestamp='2020-04-29T02:06:00Z'>02:06</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
would it be a problem to increase that to 1.59?
<br>
</div>

<div class='talk op-msg' data-timestamp='1588126080' id='384507'>
<a class='timestamp' href='#384507'><time timestamp='2020-04-29T02:08:00Z'>02:08</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
What&#x27;s the reason for doing so? I&#x27;ll recheck all the distros and see if that&#x27;d be an issue
<br>
</div>

<div class='talk op-msg' data-timestamp='1588126200' id='384508'>
<a class='timestamp' href='#384508'><time timestamp='2020-04-29T02:10:00Z'>02:10</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
CentOS 7 seems to ship with 1.53
<br>
</div>

<div class='talk op-msg' data-timestamp='1588126260' id='384509'>
<a class='timestamp' href='#384509'><time timestamp='2020-04-29T02:11:00Z'>02:11</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i&#x27;m looking into using a multi_index for keeping track of tx requests, and it seems 1.59 adds &quot;ranked indices&quot;, which would avoid the need for some separate things to keep track of
<br>
</div>

<div class='talk op-msg' data-timestamp='1588126260' id='384510'>
<a class='timestamp' href='#384510'><time timestamp='2020-04-29T02:11:00Z'>02:11</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
multi_index is headers-only, so it&#x27;d only be a build dependency, not a runtime one
<br>
</div>

<div class='talk op-msg' data-timestamp='1588126380' id='384511'>
<a class='timestamp' href='#384511'><time timestamp='2020-04-29T02:13:00Z'>02:13</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
I see
<br>
</div>

<div class='talk op-msg' data-timestamp='1588126440' id='384512'>
<a class='timestamp' href='#384512'><time timestamp='2020-04-29T02:14:00Z'>02:14</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
Ubuntu 16.04 also ships with 1.58.0
<br>
</div>

<div class='talk op-msg' data-timestamp='1588126620' id='384513'>
<a class='timestamp' href='#384513'><time timestamp='2020-04-29T02:17:00Z'>02:17</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ok
<br>
</div>

<div class='talk op-msg' data-timestamp='1588147320' id='384514'>
<a class='timestamp' href='#384514'><time timestamp='2020-04-29T08:02:00Z'>08:02</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] bttd opened pull request #18813: 0.20 (master...0.20) <a href="https://github.com/bitcoin/bitcoin/pull/18813" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/18813</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1588147800' id='384515'>
<a class='timestamp' href='#384515'><time timestamp='2020-04-29T08:10:00Z'>08:10</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] fanquake closed pull request #18813: 0.20 (master...0.20) <a href="https://github.com/bitcoin/bitcoin/pull/18813" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/18813</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1588149180' id='384516'>
<a class='timestamp' href='#384516'><time timestamp='2020-04-29T08:33:00Z'>08:33</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] fanquake pushed 8 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/ba348dbc518b...0ef0d33f7562" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/ba348dbc518b...0ef0d33f7562</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1588149180' id='384517'>
<a class='timestamp' href='#384517'><time timestamp='2020-04-29T08:33:00Z'>08:33</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 89eeb4a Amiti Uttarwar: [mempool] Track &quot;unbroadcast&quot; transactions
<br>
</div>

<div class='talk op-msg' data-timestamp='1588149180' id='384518'>
<a class='timestamp' href='#384518'><time timestamp='2020-04-29T08:33:00Z'>08:33</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 7e93eec Amiti Uttarwar: [util] Add method that returns random time in milliseconds
<br>
</div>

<div class='talk op-msg' data-timestamp='1588149180' id='384519'>
<a class='timestamp' href='#384519'><time timestamp='2020-04-29T08:33:00Z'>08:33</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master e25e42f Amiti Uttarwar: [p2p] Reattempt initial send of unbroadcast transactions
<br>
</div>

<div class='talk op-msg' data-timestamp='1588149240' id='384520'>
<a class='timestamp' href='#384520'><time timestamp='2020-04-29T08:34:00Z'>08:34</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] fanquake merged pull request #18038: P2P: Mempool tracks locally submitted transactions to improve wallet privacy (master...2020-01-unbroadcast) <a href="https://github.com/bitcoin/bitcoin/pull/18038" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/18038</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1588149780' id='384521'>
<a class='timestamp' href='#384521'><time timestamp='2020-04-29T08:43:00Z'>08:43</time></a>
&lt;<span class='nick nick-13'> lucaferr</span>&gt;
Has mempool p2p command been deprecated? The information I can find online indicates it should reply with an inv, however in integration tests it seems to disconnect. Is it only working for SPV clients as of now?
<br>
</div>

<div class='talk op-msg' data-timestamp='1588153680' id='384522'>
<a class='timestamp' href='#384522'><time timestamp='2020-04-29T09:48:00Z'>09:48</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] promag opened pull request #18814: rpc: Relock wallet only if most recent callback (master...2020-04-rpc-wallet-relock) <a href="https://github.com/bitcoin/bitcoin/pull/18814" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/18814</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1588159800' id='384523'>
<a class='timestamp' href='#384523'><time timestamp='2020-04-29T11:30:00Z'>11:30</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] rebroad closed pull request #18760: Disconnect nodes with bad messages during IBD (master...IBDDisconnectBadChecksum) <a href="https://github.com/bitcoin/bitcoin/pull/18760" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/18760</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1588163040' id='384524'>
<a class='timestamp' href='#384524'><time timestamp='2020-04-29T12:24:00Z'>12:24</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke pushed 2 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/0ef0d33f7562...ecca2ea1d5f6" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/0ef0d33f7562...ecca2ea1d5f6</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1588163040' id='384525'>
<a class='timestamp' href='#384525'><time timestamp='2020-04-29T12:24:00Z'>12:24</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master fcb7261 Russell Yanofsky: Prevent valgrind false positive in rest_blockhash_by_height
<br>
</div>

<div class='talk op-msg' data-timestamp='1588163040' id='384526'>
<a class='timestamp' href='#384526'><time timestamp='2020-04-29T12:24:00Z'>12:24</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master ecca2ea MarcoFalke: Merge #18785: Prevent valgrind false positive in rest_blockhash_by_height
<br>
</div>

<div class='talk op-msg' data-timestamp='1588163040' id='384527'>
<a class='timestamp' href='#384527'><time timestamp='2020-04-29T12:24:00Z'>12:24</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke merged pull request #18785: Prevent valgrind false positive in rest_blockhash_by_height (master...pr/grind) <a href="https://github.com/bitcoin/bitcoin/pull/18785" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/18785</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1588163460' id='384528'>
<a class='timestamp' href='#384528'><time timestamp='2020-04-29T12:31:00Z'>12:31</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke pushed 2 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/ecca2ea1d5f6...af2ec6b03745" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/ecca2ea1d5f6...af2ec6b03745</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1588163460' id='384529'>
<a class='timestamp' href='#384529'><time timestamp='2020-04-29T12:31:00Z'>12:31</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master fabe44e MarcoFalke: bench: Start nodes with -nodebuglogfile
<br>
</div>

<div class='talk op-msg' data-timestamp='1588163460' id='384530'>
<a class='timestamp' href='#384530'><time timestamp='2020-04-29T12:31:00Z'>12:31</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master af2ec6b MarcoFalke: Merge #18759: bench: Start nodes with -nodebuglogfile
<br>
</div>

<div class='talk op-msg' data-timestamp='1588163460' id='384531'>
<a class='timestamp' href='#384531'><time timestamp='2020-04-29T12:31:00Z'>12:31</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke merged pull request #18759: bench: Start nodes with -nodebuglogfile (master...2004-benchNoDebugLog) <a href="https://github.com/bitcoin/bitcoin/pull/18759" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/18759</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1588164780' id='384532'>
<a class='timestamp' href='#384532'><time timestamp='2020-04-29T12:53:00Z'>12:53</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke opened pull request #18815: bench: Add logging benchmark (master...2004-benchLog) <a href="https://github.com/bitcoin/bitcoin/pull/18815" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/18815</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1588169040' id='384533'>
<a class='timestamp' href='#384533'><time timestamp='2020-04-29T14:04:00Z'>14:04</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
wumpus: While looking at the addrv2/BIP155 wip PR #16748 I realized that in CSubNet we support netmasks that have 0-bits followed by 1-bits, e.g. /255.255.0.255.
<br>
</div>

<div class='talk op-msg' data-timestamp='1588169040' id='384534'>
<a class='timestamp' href='#384534'><time timestamp='2020-04-29T14:04:00Z'>14:04</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/16748" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/16748</a> | [WIP] Add support for addrv2 (BIP155) by dongcarl · Pull Request #16748 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1588169100' id='384535'>
<a class='timestamp' href='#384535'><time timestamp='2020-04-29T14:05:00Z'>14:05</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
We even have test for that: <a href="https://github.com/bitcoin/bitcoin/blob/master/src/test/netbase_tests.cpp#L280-L283" class="link" target="_blank">https://github.com/bitcoin/bitcoin/blob/master/src/test/netbase_tests.cpp#L280-L283</a> which was added by you via <a href="https://github.com/bitcoin/bitcoin/pull/6315#issuecomment-115169435" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/6315#issuecomment-115169435</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1588169100' id='384536'>
<a class='timestamp' href='#384536'><time timestamp='2020-04-29T14:05:00Z'>14:05</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
vasild: I apologize for not responding in time to the reviews, it&#x27;s on my list now :-)
<br>
</div>

<div class='talk op-msg' data-timestamp='1588169100' id='384537'>
<a class='timestamp' href='#384537'><time timestamp='2020-04-29T14:05:00Z'>14:05</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
I am just wondering - why do we support such strange (invalid) netmasks and can we drop that support?
<br>
</div>

<div class='talk op-msg' data-timestamp='1588169220' id='384538'>
<a class='timestamp' href='#384538'><time timestamp='2020-04-29T14:07:00Z'>14:07</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
dongcarl: no problem, I got distracted by the netmasks and dived into some CSubNet cleanup that would drop support for netmasks like /255.255.0.255.
<br>
</div>

<div class='talk op-msg' data-timestamp='1588169220' id='384539'>
<a class='timestamp' href='#384539'><time timestamp='2020-04-29T14:07:00Z'>14:07</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
vasild: I&#x27;m guessing you&#x27;re thinking just have a uint type that specifies the prefix length?
<br>
</div>

<div class='talk op-msg' data-timestamp='1588169280' id='384540'>
<a class='timestamp' href='#384540'><time timestamp='2020-04-29T14:08:00Z'>14:08</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
dongcarl: you read my thoughts!
<br>
</div>

<div class='talk op-msg' data-timestamp='1588169340' id='384541'>
<a class='timestamp' href='#384541'><time timestamp='2020-04-29T14:09:00Z'>14:09</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
Hmm... well are there legitimate cases where a netmask can have 0&#x27;s in the middle?
<br>
</div>

<div class='talk op-msg' data-timestamp='1588169340' id='384542'>
<a class='timestamp' href='#384542'><time timestamp='2020-04-29T14:09:00Z'>14:09</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
replace the `uint8_t netmask[16];` in CSubNet with `uint8_t cidr;` which can be in [0, 32] for ipv4 and [0, 128] for ipv6.
<br>
</div>

<div class='talk op-msg' data-timestamp='1588169460' id='384543'>
<a class='timestamp' href='#384543'><time timestamp='2020-04-29T14:11:00Z'>14:11</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
dongcarl: right, I do not know, but to me that contradicts with the idea of subnetting
<br>
</div>

<div class='talk op-msg' data-timestamp='1588169520' id='384544'>
<a class='timestamp' href='#384544'><time timestamp='2020-04-29T14:12:00Z'>14:12</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
I was thinking that this is just some unintended side effect, but then found a deliberate test cases that expect such support (above link ^), so I decided to ask :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1588169700' id='384545'>
<a class='timestamp' href='#384545'><time timestamp='2020-04-29T14:15:00Z'>14:15</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
vasild: I think it&#x27;d probably be good to leave as is, mostly because the contiguous-ness is not really enforced in the RFCs, and it seems more flexible for the future. Will look into it though.
<br>
</div>

<div class='talk op-msg' data-timestamp='1588169700' id='384546'>
<a class='timestamp' href='#384546'><time timestamp='2020-04-29T14:15:00Z'>14:15</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
dongcarl: It is!
<br>
</div>

<div class='talk op-msg' data-timestamp='1588169700' id='384547'>
<a class='timestamp' href='#384547'><time timestamp='2020-04-29T14:15:00Z'>14:15</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
I read it somewhere, let me find it...
<br>
</div>

<div class='talk op-msg' data-timestamp='1588170180' id='384548'>
<a class='timestamp' href='#384548'><time timestamp='2020-04-29T14:23:00Z'>14:23</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
dongcarl: <a href="https://en.wikipedia.org/wiki/Classless_Inter-Domain_Routing#Subnet_masks" class="link" target="_blank">https://en.wikipedia.org/wiki/Classless_Inter-Domain_Routing#Subnet_masks</a> 
<br>
</div>

<div class='talk op-msg' data-timestamp='1588170180' id='384549'>
<a class='timestamp' href='#384549'><time timestamp='2020-04-29T14:23:00Z'>14:23</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
&quot;Subnet masks were allowed by RFC 950[5] to specify non-contiguous bits until RFC 4632[4]:Section 5.1 stated that the mask must be left contiguous. Given this constraint, a subnet mask and CIDR notation serve exactly the same function.&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1588170360' id='384550'>
<a class='timestamp' href='#384550'><time timestamp='2020-04-29T14:26:00Z'>14:26</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
indeed <a href="https://tools.ietf.org/html/rfc4632#section-5" class="link" target="_blank">https://tools.ietf.org/html/rfc4632#section-5</a>.1 says &quot;The only outstanding constraint is that the
<br>
</div>

<div class='talk op-msg' data-timestamp='1588170420' id='384551'>
<a class='timestamp' href='#384551'><time timestamp='2020-04-29T14:27:00Z'>14:27</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
   mask must be left contiguous.
<br>
</div>

<div class='talk op-msg' data-timestamp='1588170420' id='384552'>
<a class='timestamp' href='#384552'><time timestamp='2020-04-29T14:27:00Z'>14:27</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
vasild: it doesn&#x27;t matter too much to me, but if you have a good reason to remove that support it&#x27;s OK with me
<br>
</div>

<div class='talk op-msg' data-timestamp='1588170420' id='384553'>
<a class='timestamp' href='#384553'><time timestamp='2020-04-29T14:27:00Z'>14:27</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
just doing it for the sake of it seems useless, it doesn&#x27;t hurt to support more than strictly expected
<br>
</div>

<div class='talk op-msg' data-timestamp='1588170540' id='384554'>
<a class='timestamp' href='#384554'><time timestamp='2020-04-29T14:29:00Z'>14:29</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I don&#x27;t think it has any impact on addrv2, AFAIK we never send subnets over the P2P
<br>
</div>

<div class='talk op-msg' data-timestamp='1588170660' id='384555'>
<a class='timestamp' href='#384555'><time timestamp='2020-04-29T14:31:00Z'>14:31</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
yes, I agree - &quot;for the sake of it&quot; is useless. The main reason I started looking into it was that it would simplify addrv2 changes: <a href="https://github.com/bitcoin/bitcoin/pull/16748#discussion_r414663229" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/16748#discussion_r414663229</a> 
<br>
</div>

<div class='talk op-msg' data-timestamp='1588170660' id='384556'>
<a class='timestamp' href='#384556'><time timestamp='2020-04-29T14:31:00Z'>14:31</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] practicalswift closed pull request #17895: build: Enable Clang&#x27;s -Wconditional-uninitialized to warn on potential uninitialized reads (master...continue-killing-of-uninitialized-reads) <a href="https://github.com/bitcoin/bitcoin/pull/17895" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/17895</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1588170720' id='384557'>
<a class='timestamp' href='#384557'><time timestamp='2020-04-29T14:32:00Z'>14:32</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
this modification fiddles with the `uint8_t netmask[16];` array
<br>
</div>

<div class='talk op-msg' data-timestamp='1588170840' id='384558'>
<a class='timestamp' href='#384558'><time timestamp='2020-04-29T14:34:00Z'>14:34</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
and having to increase that to netmask[32] would be far from perfect, given that it can be just a single byte.
<br>
</div>

<div class='talk op-msg' data-timestamp='1588170960' id='384559'>
<a class='timestamp' href='#384559'><time timestamp='2020-04-29T14:36:00Z'>14:36</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
vasild: Working on sth else right now but will take a look today. One thing that came to mind when I last looked into this: the NetMask code looks like it was written with the assumption that all CNetAddrs would be addresses in address families where netmasks made sense... With the addition of tor, that&#x27;s not the case anymore
<br>
</div>

<div class='talk op-msg' data-timestamp='1588171140' id='384560'>
<a class='timestamp' href='#384560'><time timestamp='2020-04-29T14:39:00Z'>14:39</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
Right! Netmasks do not make any sense in the new types too: torv3, i2p, cjdns.
<br>
</div>

<div class='talk op-msg' data-timestamp='1588171200' id='384561'>
<a class='timestamp' href='#384561'><time timestamp='2020-04-29T14:40:00Z'>14:40</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] practicalswift closed pull request #18147: qt: Kill the locale dependency bug class by not allowing Qt to mess with LC_NUMERIC (master...kill-locale-dependency-bug-class) <a href="https://github.com/bitcoin/bitcoin/pull/18147" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/18147</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1588171320' id='384562'>
<a class='timestamp' href='#384562'><time timestamp='2020-04-29T14:42:00Z'>14:42</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] practicalswift closed pull request #18124: init: Clarify C and C++ locale assumptions. Add locale sanity checks to verify assumptions at run-time. (master...LocaleSanityCheck) <a href="https://github.com/bitcoin/bitcoin/pull/18124" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/18124</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1588171440' id='384563'>
<a class='timestamp' href='#384563'><time timestamp='2020-04-29T14:44:00Z'>14:44</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
I will leave the &quot;uint8_t netmask[16]&quot; -&gt; &quot;uint8_t cidr&quot; change away for now. Ideally we shouldn&#x27;t be using netmasks for e.g. torv3 at all, or we just use one special mask which denotes &quot;matches just one address&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1588171560' id='384564'>
<a class='timestamp' href='#384564'><time timestamp='2020-04-29T14:46:00Z'>14:46</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
vasild: Sounds good, always good to explore the options :-) I&#x27;ll take a closer look at your comments today
<br>
</div>

<div class='talk op-msg' data-timestamp='1588171740' id='384565'>
<a class='timestamp' href='#384565'><time timestamp='2020-04-29T14:49:00Z'>14:49</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
dongcarl: btw, I rebased the PR on latest master (required some non-trivial conflict resolution) and fixed the failing unit tests.
<br>
</div>

<div class='talk op-msg' data-timestamp='1588171740' id='384566'>
<a class='timestamp' href='#384566'><time timestamp='2020-04-29T14:49:00Z'>14:49</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
vasild: Oh yeah? Do you have a branch up?
<br>
</div>

<div class='talk op-msg' data-timestamp='1588171800' id='384567'>
<a class='timestamp' href='#384567'><time timestamp='2020-04-29T14:50:00Z'>14:50</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
dongcarl: not pushed on gh, I was wondering how to proceed with that...
<br>
</div>

<div class='talk op-msg' data-timestamp='1588171860' id='384568'>
<a class='timestamp' href='#384568'><time timestamp='2020-04-29T14:51:00Z'>14:51</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
agree, netmasks make no sense for non-hierarchical addresses types
<br>
</div>

<div class='talk op-msg' data-timestamp='1588171860' id='384569'>
<a class='timestamp' href='#384569'><time timestamp='2020-04-29T14:51:00Z'>14:51</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
vasild: Well, if it&#x27;s acceptable to you, you should put yourself as co-author on the commits, and push as a branch to your remote on github e.g. `vaslid/bitcoin`, and I&#x27;ll get those commits into my branch/PR
<br>
</div>

<div class='talk op-msg' data-timestamp='1588171920' id='384570'>
<a class='timestamp' href='#384570'><time timestamp='2020-04-29T14:52:00Z'>14:52</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
and the cidr-based notation is more compact, though it might be more expensive to match against? I&#x27;m not sure
<br>
</div>

<div class='talk op-msg' data-timestamp='1588172040' id='384571'>
<a class='timestamp' href='#384571'><time timestamp='2020-04-29T14:54:00Z'>14:54</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
dongcarl: makes sense, I will clean up a bit and push to gh.
<br>
</div>

<div class='talk op-msg' data-timestamp='1588172100' id='384572'>
<a class='timestamp' href='#384572'><time timestamp='2020-04-29T14:55:00Z'>14:55</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
vasild: Many thanks!
<br>
</div>

<div class='talk op-msg' data-timestamp='1588172100' id='384573'>
<a class='timestamp' href='#384573'><time timestamp='2020-04-29T14:55:00Z'>14:55</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
yw :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1588172520' id='384574'>
<a class='timestamp' href='#384574'><time timestamp='2020-04-29T15:02:00Z'>15:02</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
wumpus: more compact and the only valid representation for ipv6, as for speed of matching - we have to compare the first `cidr` bits, I don&#x27;t think it will make a difference wrt performance.
<br>
</div>

<div class='talk op-msg' data-timestamp='1588172640' id='384575'>
<a class='timestamp' href='#384575'><time timestamp='2020-04-29T15:04:00Z'>15:04</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
btw our current implementation <a href="https://github.com/bitcoin/bitcoin/blob/master/src/netaddress.cpp#L815" class="link" target="_blank">https://github.com/bitcoin/bitcoin/blob/master/src/netaddress.cpp#L815</a> is checking all 16 bytes unnecessary - it could stop checking (break; from the loop) as soon as it finds a 0 byte in the netmask. E.g. with a netmask like /255.0.0.0 we don&#x27;t need to check whether `(addr.ip[x] &amp; netmask[x]) != network.ip[x]` is true or false for the last 3 bytes
<br>
</div>

<div class='talk op-msg' data-timestamp='1588172700' id='384576'>
<a class='timestamp' href='#384576'><time timestamp='2020-04-29T15:05:00Z'>15:05</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes, I&#x27;m fairly sure it can be optimized to be just as fast or even faster, without converting to an and-mask inbetween
<br>
</div>

<div class='talk op-msg' data-timestamp='1588172700' id='384577'>
<a class='timestamp' href='#384577'><time timestamp='2020-04-29T15:05:00Z'>15:05</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
no need for constant time matching here
<br>
</div>

<div class='talk op-msg' data-timestamp='1588172700' id='384578'>
<a class='timestamp' href='#384578'><time timestamp='2020-04-29T15:05:00Z'>15:05</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
this is all minor, low-priority I guess
<br>
</div>

<div class='talk op-msg' data-timestamp='1588172700' id='384579'>
<a class='timestamp' href='#384579'><time timestamp='2020-04-29T15:05:00Z'>15:05</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
correct
<br>
</div>

<div class='talk op-msg' data-timestamp='1588172760' id='384580'>
<a class='timestamp' href='#384580'><time timestamp='2020-04-29T15:06:00Z'>15:06</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
though some people have extremely large ban lists :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1588172760' id='384581'>
<a class='timestamp' href='#384581'><time timestamp='2020-04-29T15:06:00Z'>15:06</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
how large?
<br>
</div>

<div class='talk op-msg' data-timestamp='1588172820' id='384582'>
<a class='timestamp' href='#384582'><time timestamp='2020-04-29T15:07:00Z'>15:07</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
~1000 entries
<br>
</div>

<div class='talk op-msg' data-timestamp='1588172880' id='384583'>
<a class='timestamp' href='#384583'><time timestamp='2020-04-29T15:08:00Z'>15:08</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
hmm
<br>
</div>

<div class='talk op-msg' data-timestamp='1588172880' id='384584'>
<a class='timestamp' href='#384584'><time timestamp='2020-04-29T15:08:00Z'>15:08</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
not something any CPU capable of running a bitcoin node in the first place will have any trouble with I guess, it&#x27;s only per-incoming-connection not per packet
<br>
</div>

<div class='talk op-msg' data-timestamp='1588173000' id='384585'>
<a class='timestamp' href='#384585'><time timestamp='2020-04-29T15:10:00Z'>15:10</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke pushed 2 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/af2ec6b03745...e302830faed0" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/af2ec6b03745...e302830faed0</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1588173000' id='384586'>
<a class='timestamp' href='#384586'><time timestamp='2020-04-29T15:10:00Z'>15:10</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 66fe7b1 Harris: test: added test for upgradewallet RPC
<br>
</div>

<div class='talk op-msg' data-timestamp='1588173000' id='384587'>
<a class='timestamp' href='#384587'><time timestamp='2020-04-29T15:10:00Z'>15:10</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master e302830 MarcoFalke: Merge #18774: test: added test for upgradewallet RPC
<br>
</div>

<div class='talk op-msg' data-timestamp='1588173000' id='384588'>
<a class='timestamp' href='#384588'><time timestamp='2020-04-29T15:10:00Z'>15:10</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
seems like a minor / low priority performance improvement can be done in the subnet matching code wrt that. Also the size of CSubNet would be reduced with 15 bytes, 15*1000 bytes is nothing in RAM or on disk
<br>
</div>

<div class='talk op-msg' data-timestamp='1588173000' id='384589'>
<a class='timestamp' href='#384589'><time timestamp='2020-04-29T15:10:00Z'>15:10</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke merged pull request #18774: test: added test for upgradewallet RPC (master...upgradewallet-tests) <a href="https://github.com/bitcoin/bitcoin/pull/18774" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/18774</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1588173060' id='384590'>
<a class='timestamp' href='#384590'><time timestamp='2020-04-29T15:11:00Z'>15:11</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke closed pull request #18616: refactor: Cleanup clientversion.cpp (master...20200413-version) <a href="https://github.com/bitcoin/bitcoin/pull/18616" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/18616</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1588173060' id='384591'>
<a class='timestamp' href='#384591'><time timestamp='2020-04-29T15:11:00Z'>15:11</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke reopened pull request #18616: refactor: Cleanup clientversion.cpp (master...20200413-version) <a href="https://github.com/bitcoin/bitcoin/pull/18616" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/18616</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1588173060' id='384592'>
<a class='timestamp' href='#384592'><time timestamp='2020-04-29T15:11:00Z'>15:11</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
wumpus: dongcarl: anyway, I plan to spend full time on BIP155/addrv2/torv3/i2p/cjdns, modulo distractions :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1588173300' id='384593'>
<a class='timestamp' href='#384593'><time timestamp='2020-04-29T15:15:00Z'>15:15</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke pushed 2 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/e302830faed0...ab91a0e0fc6e" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/e302830faed0...ab91a0e0fc6e</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1588173300' id='384594'>
<a class='timestamp' href='#384594'><time timestamp='2020-04-29T15:15:00Z'>15:15</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 45615de Hennadii Stepanov: ci: Fix default retry script usage
<br>
</div>

<div class='talk op-msg' data-timestamp='1588173300' id='384595'>
<a class='timestamp' href='#384595'><time timestamp='2020-04-29T15:15:00Z'>15:15</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master ab91a0e MarcoFalke: Merge #18798: ci: Fix default retry script usage
<br>
</div>

<div class='talk op-msg' data-timestamp='1588173300' id='384596'>
<a class='timestamp' href='#384596'><time timestamp='2020-04-29T15:15:00Z'>15:15</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke merged pull request #18798: ci: Fix default retry script usage (master...200428-ci-retry) <a href="https://github.com/bitcoin/bitcoin/pull/18798" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/18798</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1588173480' id='384597'>
<a class='timestamp' href='#384597'><time timestamp='2020-04-29T15:18:00Z'>15:18</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
vasild: awesome!
<br>
</div>

<div class='talk op-msg' data-timestamp='1588173900' id='384598'>
<a class='timestamp' href='#384598'><time timestamp='2020-04-29T15:25:00Z'>15:25</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] practicalswift opened pull request #18817: doc: Document differences in bitcoind and bitcoin-qt locale handling (master...bitcoin-qt-vs-bitcoind-locale) <a href="https://github.com/bitcoin/bitcoin/pull/18817" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/18817</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1588173960' id='384599'>
<a class='timestamp' href='#384599'><time timestamp='2020-04-29T15:26:00Z'>15:26</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] luke-jr opened pull request #18818: Fix release tarball generated by gitian (master...fix_gitian_src_202004) <a href="https://github.com/bitcoin/bitcoin/pull/18818" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/18818</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1588175580' id='384600'>
<a class='timestamp' href='#384600'><time timestamp='2020-04-29T15:53:00Z'>15:53</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
^ should also get tagged for 0.20
<br>
</div>

<div class='talk op-msg' data-timestamp='1588176480' id='384601'>
<a class='timestamp' href='#384601'><time timestamp='2020-04-29T16:08:00Z'>16:08</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke pushed 2 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/ab91a0e0fc6e...978c5a212240" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/ab91a0e0fc6e...978c5a212240</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1588176480' id='384602'>
<a class='timestamp' href='#384602'><time timestamp='2020-04-29T16:08:00Z'>16:08</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 8098dea Hennadii Stepanov: test: Add mempool_updatefromblock.py
<br>
</div>

<div class='talk op-msg' data-timestamp='1588176480' id='384603'>
<a class='timestamp' href='#384603'><time timestamp='2020-04-29T16:08:00Z'>16:08</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 978c5a2 MarcoFalke: Merge #18485: test: Add mempool_updatefromblock.py
<br>
</div>

<div class='talk op-msg' data-timestamp='1588176540' id='384604'>
<a class='timestamp' href='#384604'><time timestamp='2020-04-29T16:09:00Z'>16:09</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke merged pull request #18485: test: Add mempool_updatefromblock.py (master...20200331-test-mempool) <a href="https://github.com/bitcoin/bitcoin/pull/18485" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/18485</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1588185180' id='384605'>
<a class='timestamp' href='#384605'><time timestamp='2020-04-29T18:33:00Z'>18:33</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
does anyone know what nWalletMaxVersion is for? and why it&#x27;s distinct from nWalletVersion
<br>
</div>

<div class='talk op-msg' data-timestamp='1588185180' id='384606'>
<a class='timestamp' href='#384606'><time timestamp='2020-04-29T18:33:00Z'>18:33</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
I think we should be able to consolidate these. which would also make upgradewallet less confusing
<br>
</div>

<div class='talk op-msg' data-timestamp='1588186320' id='384607'>
<a class='timestamp' href='#384607'><time timestamp='2020-04-29T18:52:00Z'>18:52</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
it seems at some point in the (probably distant) past the &quot;settings&quot; key for the wallet db was called &quot;setting&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1588186380' id='384608'>
<a class='timestamp' href='#384608'><time timestamp='2020-04-29T18:53:00Z'>18:53</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
which is now causing the unknown key counter to go up
<br>
</div>

<div class='talk op-msg' data-timestamp='1588186380' id='384609'>
<a class='timestamp' href='#384609'><time timestamp='2020-04-29T18:53:00Z'>18:53</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
however i cannot find any evidence of when that was
<br>
</div>

<div class='talk op-msg' data-timestamp='1588186440' id='384610'>
<a class='timestamp' href='#384610'><time timestamp='2020-04-29T18:54:00Z'>18:54</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
settings like the position and dimension of the UI screen were once upon a time stored in the wallet
<br>
</div>

<div class='talk op-msg' data-timestamp='1588186500' id='384611'>
<a class='timestamp' href='#384611'><time timestamp='2020-04-29T18:55:00Z'>18:55</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
there&#x27;s a &quot;settings&quot; key which is only &quot;known&quot; to avoid the unknown flag, but no &quot;setting&quot; key
<br>
</div>

<div class='talk op-msg' data-timestamp='1588186560' id='384612'>
<a class='timestamp' href='#384612'><time timestamp='2020-04-29T18:56:00Z'>18:56</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
sipa, interesting
<br>
</div>

<div class='talk op-msg' data-timestamp='1588186560' id='384613'>
<a class='timestamp' href='#384613'><time timestamp='2020-04-29T18:56:00Z'>18:56</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
this is probably irrelevant to like 99.99% of people since this wallet is a mega old testnet wallet
<br>
</div>

<div class='talk op-msg' data-timestamp='1588186620' id='384614'>
<a class='timestamp' href='#384614'><time timestamp='2020-04-29T18:57:00Z'>18:57</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
heh
<br>
</div>

<div class='talk op-msg' data-timestamp='1588186620' id='384615'>
<a class='timestamp' href='#384615'><time timestamp='2020-04-29T18:57:00Z'>18:57</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i wonder if settings got turned into setting in some refactor and nobody ever noticed
<br>
</div>

<div class='talk op-msg' data-timestamp='1588186620' id='384616'>
<a class='timestamp' href='#384616'><time timestamp='2020-04-29T18:57:00Z'>18:57</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
or the other way around
<br>
</div>

<div class='talk op-msg' data-timestamp='1588187160' id='384617'>
<a class='timestamp' href='#384617'><time timestamp='2020-04-29T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
sipa, possibly only in master and not a release even
<br>
</div>

<div class='talk op-msg' data-timestamp='1588187160' id='384618'>
<a class='timestamp' href='#384618'><time timestamp='2020-04-29T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
heh
<br>
</div>

<div class='talk op-msg' data-timestamp='1588187580' id='384619'>
<a class='timestamp' href='#384619'><time timestamp='2020-04-29T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
achow101: upgradewallet doesn&#x27;t actually do the upgrade until the new features are needed
<br>
</div>

<div class='talk op-msg' data-timestamp='1588187640' id='384620'>
<a class='timestamp' href='#384620'><time timestamp='2020-04-29T19:14:00Z'>19:14</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
so it increases max version immediately, and the actual version gets bumped no higher than that on demand
<br>
</div>

<div class='talk op-msg' data-timestamp='1588187640' id='384621'>
<a class='timestamp' href='#384621'><time timestamp='2020-04-29T19:14:00Z'>19:14</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yes, exactly
<br>
</div>

<div class='talk op-msg' data-timestamp='1588187700' id='384622'>
<a class='timestamp' href='#384622'><time timestamp='2020-04-29T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
luke-jr: would it be reasonable to break that with the new upgradewallet rpc? That kind of makes sense for the -upgradewallet option, but for a RPC, the upgrade is explicitly being done so bumping the version regardless seems reasonable to me
<br>
</div>

<div class='talk op-msg' data-timestamp='1588187700' id='384623'>
<a class='timestamp' href='#384623'><time timestamp='2020-04-29T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it used to be the case that upgradewallet would permit the use of compressed keys, but only once you actually created a compressed key was the wallet marked as a new version
<br>
</div>

<div class='talk op-msg' data-timestamp='1588187760' id='384624'>
<a class='timestamp' href='#384624'><time timestamp='2020-04-29T19:16:00Z'>19:16</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke opened pull request #18819: net: Remove unused cs_feeFilter (master...2004-netNoRecursiveMutex) <a href="https://github.com/bitcoin/bitcoin/pull/18819" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/18819</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1588187760' id='384625'>
<a class='timestamp' href='#384625'><time timestamp='2020-04-29T19:16:00Z'>19:16</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that mechanism wasn&#x27;t used for encryption, where encrypting would automatically and immediately upgrade iirc
<br>
</div>

<div class='talk op-msg' data-timestamp='1588187760' id='384626'>
<a class='timestamp' href='#384626'><time timestamp='2020-04-29T19:16:00Z'>19:16</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
this nWalletMaxVersion thing is also only being applied to FEATURE_WALLETCRYPT and FEATURE_COMPRPUBKEY which were introduced ages ago
<br>
</div>

<div class='talk op-msg' data-timestamp='1588187820' id='384627'>
<a class='timestamp' href='#384627'><time timestamp='2020-04-29T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
if that mechanism isn&#x27;t used anymore it may make sense to get rid of it
<br>
</div>

<div class='talk op-msg' data-timestamp='1588187820' id='384628'>
<a class='timestamp' href='#384628'><time timestamp='2020-04-29T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
compressed keys was 0.5 iirc
<br>
</div>

<div class='talk op-msg' data-timestamp='1588187880' id='384629'>
<a class='timestamp' href='#384629'><time timestamp='2020-04-29T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
in 2011...
<br>
</div>

<div class='talk op-msg' data-timestamp='1588187880' id='384630'>
<a class='timestamp' href='#384630'><time timestamp='2020-04-29T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
it only makes sense if you expect the user to downgrade after doing an upgradewallet. and that really doesn&#x27;t make sense with upgradewallet now being a rpc as its even more explicit
<br>
</div>

<div class='talk op-msg' data-timestamp='1588187940' id='384631'>
<a class='timestamp' href='#384631'><time timestamp='2020-04-29T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
achow101: frankly, I&#x27;m stuck on 0.13 for my wallet because I dislike the direction the wallet is going.. so I&#x27;m not sure my opinion counts.
<br>
</div>

<div class='talk op-msg' data-timestamp='1588188000' id='384632'>
<a class='timestamp' href='#384632'><time timestamp='2020-04-29T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
also, our efforts to keep backward compatibility without upgradewallet have failed anyway.. so
<br>
</div>

<div class='talk op-msg' data-timestamp='1588188060' id='384633'>
<a class='timestamp' href='#384633'><time timestamp='2020-04-29T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
also there seems to be a nasty bug in SetMinVersion if your wallet was older than FEATURE_WALLETCRYPT and then you encrypted it, the version would jump to the latest. That&#x27;s a problem as the wallet would have the indications to be HD without actually being HD
<br>
</div>

<div class='talk op-msg' data-timestamp='1588188060' id='384634'>
<a class='timestamp' href='#384634'><time timestamp='2020-04-29T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
(eg, inclusion of segwit txs in old wallets)
<br>
</div>

<div class='talk op-msg' data-timestamp='1588188060' id='384635'>
<a class='timestamp' href='#384635'><time timestamp='2020-04-29T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
achow101: encrypting the wallet would make it HD tho, no?
<br>
</div>

<div class='talk op-msg' data-timestamp='1588188120' id='384636'>
<a class='timestamp' href='#384636'><time timestamp='2020-04-29T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
luke-jr: maybe?
<br>
</div>

<div class='talk op-msg' data-timestamp='1588188120' id='384637'>
<a class='timestamp' href='#384637'><time timestamp='2020-04-29T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
I was just looking at SetMinVersion and this looked like it could be a huge problem as it was just unconditionally jumping to FEATURE_LATEST
<br>
</div>

<div class='talk op-msg' data-timestamp='1588188120' id='384638'>
<a class='timestamp' href='#384638'><time timestamp='2020-04-29T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
could be
<br>
</div>

<div class='talk op-msg' data-timestamp='1588188300' id='384639'>
<a class='timestamp' href='#384639'><time timestamp='2020-04-29T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke pushed 2 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/978c5a212240...0f204dd3f21b" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/978c5a212240...0f204dd3f21b</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1588188300' id='384640'>
<a class='timestamp' href='#384640'><time timestamp='2020-04-29T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 7918c1b Russell Yanofsky: test: Add CreateWalletFromFile test
<br>
</div>

<div class='talk op-msg' data-timestamp='1588188300' id='384641'>
<a class='timestamp' href='#384641'><time timestamp='2020-04-29T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 0f204dd MarcoFalke: Merge #18727: test: Add CreateWalletFromFile test
<br>
</div>

<div class='talk op-msg' data-timestamp='1588188300' id='384642'>
<a class='timestamp' href='#384642'><time timestamp='2020-04-29T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke merged pull request #18727: test: Add CreateWalletFromFile test (master...pr/create) <a href="https://github.com/bitcoin/bitcoin/pull/18727" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/18727</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1588192980' id='384643'>
<a class='timestamp' href='#384643'><time timestamp='2020-04-29T20:43:00Z'>20:43</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] dongcarl opened pull request #18820: build: Propagate well-known vars into depends (master...2020-04-improve-depends-hosts2) <a href="https://github.com/bitcoin/bitcoin/pull/18820" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/18820</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1588200900' id='384644'>
<a class='timestamp' href='#384644'><time timestamp='2020-04-29T22:55:00Z'>22:55</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke pushed 9 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/0f204dd3f21b...95a9165016ec" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/0f204dd3f21b...95a9165016ec</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1588200900' id='384645'>
<a class='timestamp' href='#384645'><time timestamp='2020-04-29T22:55:00Z'>22:55</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master a19598c practicalswift: tests: Add fuzzing harness for functions in system.h (ArgsManager)
<br>
</div>

<div class='talk op-msg' data-timestamp='1588200900' id='384646'>
<a class='timestamp' href='#384646'><time timestamp='2020-04-29T22:55:00Z'>22:55</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master a4e3d13 practicalswift: tests: Add fuzzing coverage for StringForFeeReason(...)
<br>
</div>

<div class='talk op-msg' data-timestamp='1588200900' id='384647'>
<a class='timestamp' href='#384647'><time timestamp='2020-04-29T22:55:00Z'>22:55</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 90b635e practicalswift: tests: Add fuzzing coverage for CHECK_NONFATAL(...)
<br>
</div>

<div class='talk op-msg' data-timestamp='1588200960' id='384648'>
<a class='timestamp' href='#384648'><time timestamp='2020-04-29T22:56:00Z'>22:56</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke merged pull request #18736: test: Add fuzzing harnesses for various classes/functions in util/ (master...fuzzers-2020-04-21) <a href="https://github.com/bitcoin/bitcoin/pull/18736" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/18736</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1588201020' id='384649'>
<a class='timestamp' href='#384649'><time timestamp='2020-04-29T22:57:00Z'>22:57</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke pushed 2 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/95a9165016ec...36c0abd8f61b" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/95a9165016ec...36c0abd8f61b</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1588201020' id='384650'>
<a class='timestamp' href='#384650'><time timestamp='2020-04-29T22:57:00Z'>22:57</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master cd543d9 Danny Lee: test: check misbehavior more independently in p2p_filter.py
<br>
</div>

<div class='talk op-msg' data-timestamp='1588201020' id='384651'>
<a class='timestamp' href='#384651'><time timestamp='2020-04-29T22:57:00Z'>22:57</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 36c0abd MarcoFalke: Merge #18726: test: check misbehavior more independently in p2p_filter.py
<br>
</div>

<div class='talk op-msg' data-timestamp='1588201080' id='384652'>
<a class='timestamp' href='#384652'><time timestamp='2020-04-29T22:58:00Z'>22:58</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke merged pull request #18726: test: check misbehavior more independently in p2p_filter.py (master...p2p-filter) <a href="https://github.com/bitcoin/bitcoin/pull/18726" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/18726</a>
<br>
</div>

</div>
</section>

</body>
</html>
