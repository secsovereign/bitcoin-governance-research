<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2017-01-03
 — 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2017-01-03' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:25 UTC</pre>
<pre><a href="/bitcoin-core-dev/2016-12-03">&lt;</a><span class='header'>   January 2017   </span><a href="/bitcoin-core-dev/2017-02-03">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A; <a class="" href="/bitcoin-core-dev/2017-01-01">1</a>  <a class="" href="/bitcoin-core-dev/2017-01-02">2</a>  <a class="current" href="/bitcoin-core-dev/2017-01-03">3</a>  <a class="" href="/bitcoin-core-dev/2017-01-04">4</a>  <a class="" href="/bitcoin-core-dev/2017-01-05">5</a>  <a class="" href="/bitcoin-core-dev/2017-01-06">6</a>  <a class="" href="/bitcoin-core-dev/2017-01-07">7</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2017-01-08">8</a>  <a class="" href="/bitcoin-core-dev/2017-01-09">9</a> <a class="" href="/bitcoin-core-dev/2017-01-10">10</a> <a class="" href="/bitcoin-core-dev/2017-01-11">11</a> <a class="" href="/bitcoin-core-dev/2017-01-12">12</a> <a class="" href="/bitcoin-core-dev/2017-01-13">13</a> <a class="" href="/bitcoin-core-dev/2017-01-14">14</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2017-01-15">15</a> <a class="" href="/bitcoin-core-dev/2017-01-16">16</a> <a class="" href="/bitcoin-core-dev/2017-01-17">17</a> <a class="" href="/bitcoin-core-dev/2017-01-18">18</a> <a class="" href="/bitcoin-core-dev/2017-01-19">19</a> <a class="" href="/bitcoin-core-dev/2017-01-20">20</a> <a class="" href="/bitcoin-core-dev/2017-01-21">21</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2017-01-22">22</a> <a class="" href="/bitcoin-core-dev/2017-01-23">23</a> <a class="" href="/bitcoin-core-dev/2017-01-24">24</a> <a class="" href="/bitcoin-core-dev/2017-01-25">25</a> <a class="" href="/bitcoin-core-dev/2017-01-26">26</a> <a class="" href="/bitcoin-core-dev/2017-01-27">27</a> <a class="" href="/bitcoin-core-dev/2017-01-28">28</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2017-01-29">29</a> <a class="" href="/bitcoin-core-dev/2017-01-30">30</a> <a class="" href="/bitcoin-core-dev/2017-01-31">31</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1483404900' id='520084'>
<a class='timestamp' href='#520084'><time timestamp='2017-01-03T00:55:00Z'>00:55</time></a>
&lt;<span class='nick nick-1'> dviola</span>&gt;
hello, the archlinux bitcoin-qt package maintainer builds bitcoin-qt using &quot;--with-incompatible-bdb&quot; and bdb 5.3.28, I have heard there could be potential problems by taking a wallet.dat that was created with newer bdb and then using it on a bitcoin-qt that was compiled with an older version of bdb, are there any tests I could run to know I won&#x27;t run into issues?
<br>
</div>

<div class='talk op-msg' data-timestamp='1483405200' id='520085'>
<a class='timestamp' href='#520085'><time timestamp='2017-01-03T01:00:00Z'>01:00</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
dviola, 5.x has a different format than 4.8 which is not backwards compatible
<br>
</div>

<div class='talk op-msg' data-timestamp='1483405200' id='520086'>
<a class='timestamp' href='#520086'><time timestamp='2017-01-03T01:00:00Z'>01:00</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
if you open a wallet in 5.x it wont open in 4.x
<br>
</div>

<div class='talk op-msg' data-timestamp='1483405200' id='520087'>
<a class='timestamp' href='#520087'><time timestamp='2017-01-03T01:00:00Z'>01:00</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
so that&#x27;s a one way trip
<br>
</div>

<div class='talk op-msg' data-timestamp='1483405680' id='520088'>
<a class='timestamp' href='#520088'><time timestamp='2017-01-03T01:08:00Z'>01:08</time></a>
&lt;<span class='nick nick-1'> dviola</span>&gt;
phantomcircuit: I see, so would it be better if I create the wallet using the bitcoin-qt builds from bitcoin.org?
<br>
</div>

<div class='talk op-msg' data-timestamp='1483405740' id='520089'>
<a class='timestamp' href='#520089'><time timestamp='2017-01-03T01:09:00Z'>01:09</time></a>
&lt;<span class='nick nick-1'> dviola</span>&gt;
I&#x27;m a little confused because I created a wallet.dat using Arch&#x27;s build, then used the wallet.dat with bitcoin-qt from bitcoin.org, and it seems to have worked just fine, but I don&#x27;t have funds in this wallet of course
<br>
</div>

<div class='talk op-msg' data-timestamp='1483405740' id='520090'>
<a class='timestamp' href='#520090'><time timestamp='2017-01-03T01:09:00Z'>01:09</time></a>
&lt;<span class='nick nick-1'> dviola</span>&gt;
I could still see the address and such
<br>
</div>

<div class='talk op-msg' data-timestamp='1483405740' id='520091'>
<a class='timestamp' href='#520091'><time timestamp='2017-01-03T01:09:00Z'>01:09</time></a>
&lt;<span class='nick nick-1'> dviola</span>&gt;
which was the same
<br>
</div>

<div class='talk op-msg' data-timestamp='1483406100' id='520092'>
<a class='timestamp' href='#520092'><time timestamp='2017-01-03T01:15:00Z'>01:15</time></a>
&lt;<span class='nick nick-1'> dviola</span>&gt;
just tested again
<br>
</div>

<div class='talk op-msg' data-timestamp='1483406100' id='520093'>
<a class='timestamp' href='#520093'><time timestamp='2017-01-03T01:15:00Z'>01:15</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
dviola: <b>*using*</b> the wallet.dat with bdb5 should break using it with bdb4.. no matter how it was created.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483406220' id='520094'>
<a class='timestamp' href='#520094'><time timestamp='2017-01-03T01:17:00Z'>01:17</time></a>
&lt;<span class='nick nick-1'> dviola</span>&gt;
hrm     
<br>
</div>

<div class='talk op-msg' data-timestamp='1483406340' id='520095'>
<a class='timestamp' href='#520095'><time timestamp='2017-01-03T01:19:00Z'>01:19</time></a>
&lt;<span class='nick nick-1'> dviola</span>&gt;
here&#x27;s what I did: I installed bitcoin-qt with pacman, started a fresh ~/.bitcoin and wallet.dat, I created 5 addresses with name, etc. I copied the wallet.dat to my home dir, I downloaded bitcoin-qt from bitcoin.org, started that with the old wallet.dat and all the address were there
<br>
</div>

<div class='talk op-msg' data-timestamp='1483406520' id='520096'>
<a class='timestamp' href='#520096'><time timestamp='2017-01-03T01:22:00Z'>01:22</time></a>
&lt;<span class='nick nick-1'> dviola</span>&gt;
luke-jr: I understand, but isn&#x27;t what I did the equivalent of what you said? I&#x27;m a little confused over this
<br>
</div>

<div class='talk op-msg' data-timestamp='1483406820' id='520097'>
<a class='timestamp' href='#520097'><time timestamp='2017-01-03T01:27:00Z'>01:27</time></a>
&lt;<span class='nick nick-1'> dviola</span>&gt;
let me show you something...
<br>
</div>

<div class='talk op-msg' data-timestamp='1483406880' id='520098'>
<a class='timestamp' href='#520098'><time timestamp='2017-01-03T01:28:00Z'>01:28</time></a>
&lt;<span class='nick nick-1'> dviola</span>&gt;
this is bitcoin-qt from archlinux (bdb 5.3.28): <a href="https://i.imgur.com/iL6MVB2.png" class="link" target="_blank">https://i.imgur.com/iL6MVB2.png</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1483406880' id='520099'>
<a class='timestamp' href='#520099'><time timestamp='2017-01-03T01:28:00Z'>01:28</time></a>
&lt;<span class='nick nick-1'> dviola</span>&gt;
this is bitcoin-qt from bitcoin.org (bdb 4.8.x): <a href="https://i.imgur.com/G50bTJi.png" class="link" target="_blank">https://i.imgur.com/G50bTJi.png</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1483406880' id='520100'>
<a class='timestamp' href='#520100'><time timestamp='2017-01-03T01:28:00Z'>01:28</time></a>
&lt;<span class='nick nick-1'> dviola</span>&gt;
same wallet.dat
<br>
</div>

<div class='talk op-msg' data-timestamp='1483406940' id='520101'>
<a class='timestamp' href='#520101'><time timestamp='2017-01-03T01:29:00Z'>01:29</time></a>
&lt;<span class='nick nick-1'> dviola</span>&gt;
I can still read the data from wallet
<br>
</div>

<div class='talk op-msg' data-timestamp='1483406940' id='520102'>
<a class='timestamp' href='#520102'><time timestamp='2017-01-03T01:29:00Z'>01:29</time></a>
&lt;<span class='nick nick-1'> dviola</span>&gt;
I&#x27;m confused and I apologize if I should have asked in #bitcoin instead, please let me know if I should go there
<br>
</div>

<div class='talk op-msg' data-timestamp='1483407060' id='520103'>
<a class='timestamp' href='#520103'><time timestamp='2017-01-03T01:31:00Z'>01:31</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
dviola: are you sure Arch isn&#x27;t using bdb4 for the wallet?
<br>
</div>

<div class='talk op-msg' data-timestamp='1483407060' id='520104'>
<a class='timestamp' href='#520104'><time timestamp='2017-01-03T01:31:00Z'>01:31</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
if both are installed, I think we prefer it even if incompatible-bdb is allowed via option
<br>
</div>

<div class='talk op-msg' data-timestamp='1483407300' id='520105'>
<a class='timestamp' href='#520105'><time timestamp='2017-01-03T01:35:00Z'>01:35</time></a>
&lt;<span class='nick nick-1'> dviola</span>&gt;
I&#x27;m sure, this is how they build it: <a href="https://git.archlinux.org/svntogit/community.git/tree/trunk/PKGBUILD?h=packages" class="link" target="_blank">https://git.archlinux.org/svntogit/community.git/tree/trunk/PKGBUILD?h=packages</a>/bitcoin#n166
<br>
</div>

<div class='talk op-msg' data-timestamp='1483407300' id='520106'>
<a class='timestamp' href='#520106'><time timestamp='2017-01-03T01:35:00Z'>01:35</time></a>
&lt;<span class='nick nick-1'> dviola</span>&gt;
ldd shows this also: libdb_cxx-5.3.so =&gt; /usr/lib/libdb_cxx-5.3.so (0x00007f3aaa8bc000)
<br>
</div>

<div class='talk op-msg' data-timestamp='1483407360' id='520107'>
<a class='timestamp' href='#520107'><time timestamp='2017-01-03T01:36:00Z'>01:36</time></a>
&lt;<span class='nick nick-1'> dviola</span>&gt;
I asked Timothy Redaelli (archlinux bitcoin maintainer) and he said this: <a href="https://i.imgur.com/bfvsEcZ.png" class="link" target="_blank">https://i.imgur.com/bfvsEcZ.png</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1483407720' id='520108'>
<a class='timestamp' href='#520108'><time timestamp='2017-01-03T01:42:00Z'>01:42</time></a>
&lt;<span class='nick nick-1'> dviola</span>&gt;
not saying I don&#x27;t believe what you just said, I guess I&#x27;m puzzled as to why it works
<br>
</div>

<div class='talk op-msg' data-timestamp='1483408500' id='520109'>
<a class='timestamp' href='#520109'><time timestamp='2017-01-03T01:55:00Z'>01:55</time></a>
&lt;<span class='nick nick-1'> dviola</span>&gt;
luke-jr: hrm, I only have bdb5 system-wide
<br>
</div>

<div class='talk op-msg' data-timestamp='1483409040' id='520110'>
<a class='timestamp' href='#520110'><time timestamp='2017-01-03T02:04:00Z'>02:04</time></a>
&lt;<span class='nick nick-1'> dviola</span>&gt;
even with an intact ~/.bitcoin it still works fine with both binaries
<br>
</div>

<div class='talk op-msg' data-timestamp='1483409040' id='520111'>
<a class='timestamp' href='#520111'><time timestamp='2017-01-03T02:04:00Z'>02:04</time></a>
&lt;<span class='nick nick-1'> dviola</span>&gt;
bdb4 and 5
<br>
</div>

<div class='talk op-msg' data-timestamp='1483409100' id='520112'>
<a class='timestamp' href='#520112'><time timestamp='2017-01-03T02:05:00Z'>02:05</time></a>
&lt;<span class='nick nick-1'> dviola</span>&gt;
I can see the info from getwalletinfo and do dumpwallet, etc
<br>
</div>

<div class='talk op-msg' data-timestamp='1483409160' id='520113'>
<a class='timestamp' href='#520113'><time timestamp='2017-01-03T02:06:00Z'>02:06</time></a>
&lt;<span class='nick nick-1'> dviola</span>&gt;
I wonder if there is a way to exhaust this and see where it starts to fail
<br>
</div>

<div class='talk op-msg' data-timestamp='1483414020' id='520114'>
<a class='timestamp' href='#520114'><time timestamp='2017-01-03T03:27:00Z'>03:27</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
anyone interested in picking up #8660 ? it&#x27;s a nice feature, but has gone fallow after main was killed.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483414020' id='520115'>
<a class='timestamp' href='#520115'><time timestamp='2017-01-03T03:27:00Z'>03:27</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/8660" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/8660</a> | txoutsbyaddress index (take 2) by djpnewton · Pull Request #8660 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1483414080' id='520116'>
<a class='timestamp' href='#520116'><time timestamp='2017-01-03T03:28:00Z'>03:28</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
droark: it should just fail to even open, always did in the past.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483414140' id='520117'>
<a class='timestamp' href='#520117'><time timestamp='2017-01-03T03:29:00Z'>03:29</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
maybe some time in BDB 5 they changed the format to be backwards compatible if shut down cleanly?
<br>
</div>

<div class='talk op-msg' data-timestamp='1483415940' id='520118'>
<a class='timestamp' href='#520118'><time timestamp='2017-01-03T03:59:00Z'>03:59</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
gmaxwell, does it have to handle reorgs correctly?
<br>
</div>

<div class='talk op-msg' data-timestamp='1483416000' id='520119'>
<a class='timestamp' href='#520119'><time timestamp='2017-01-03T04:00:00Z'>04:00</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
i dont think it would actually if you were saving address -&gt; [block hash/tx index/out index]
<br>
</div>

<div class='talk op-msg' data-timestamp='1483416060' id='520120'>
<a class='timestamp' href='#520120'><time timestamp='2017-01-03T04:01:00Z'>04:01</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
but that&#x27;s maybe slightly bigger than just address &gt; txout
<br>
</div>

<div class='talk op-msg' data-timestamp='1483416360' id='520121'>
<a class='timestamp' href='#520121'><time timestamp='2017-01-03T04:06:00Z'>04:06</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
oh it&#x27;s just for the utxo?
<br>
</div>

<div class='talk op-msg' data-timestamp='1483416420' id='520122'>
<a class='timestamp' href='#520122'><time timestamp='2017-01-03T04:07:00Z'>04:07</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
yeah i guess
<br>
</div>

<div class='talk op-msg' data-timestamp='1483421460' id='520123'>
<a class='timestamp' href='#520123'><time timestamp='2017-01-03T05:31:00Z'>05:31</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
phantomcircuit: it&#x27;s just for the utxo set, the PR is somewhat poorly named!
<br>
</div>

<div class='talk op-msg' data-timestamp='1483422480' id='520124'>
<a class='timestamp' href='#520124'><time timestamp='2017-01-03T05:48:00Z'>05:48</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
utxosbyaddress? :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1483422480' id='520125'>
<a class='timestamp' href='#520125'><time timestamp='2017-01-03T05:48:00Z'>05:48</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
utxosbyscriptpubkey might even be more useful
<br>
</div>

<div class='talk op-msg' data-timestamp='1483422780' id='520126'>
<a class='timestamp' href='#520126'><time timestamp='2017-01-03T05:53:00Z'>05:53</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
I might take a look at it, it is a pretty nice feature
<br>
</div>

<div class='talk op-msg' data-timestamp='1483422900' id='520127'>
<a class='timestamp' href='#520127'><time timestamp='2017-01-03T05:55:00Z'>05:55</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
assuming the database is constructed correctly (lets hope) the difference between by address vs by scriptpubkey is purely a RPC parameter one.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483422900' id='520128'>
<a class='timestamp' href='#520128'><time timestamp='2017-01-03T05:55:00Z'>05:55</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
yeah, indeed :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1483422960' id='520129'>
<a class='timestamp' href='#520129'><time timestamp='2017-01-03T05:56:00Z'>05:56</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
but we don&#x27;t have address formats for all scriptpubkey types
<br>
</div>

<div class='talk op-msg' data-timestamp='1483423080' id='520130'>
<a class='timestamp' href='#520130'><time timestamp='2017-01-03T05:58:00Z'>05:58</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
how big is the extra index here?
<br>
</div>

<div class='talk op-msg' data-timestamp='1483423200' id='520131'>
<a class='timestamp' href='#520131'><time timestamp='2017-01-03T06:00:00Z'>06:00</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
CodeShark: should be roughly similar in size to the utxo set.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483423200' id='520132'>
<a class='timestamp' href='#520132'><time timestamp='2017-01-03T06:00:00Z'>06:00</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
it&#x27;s something of a reverse lookup, no?
<br>
</div>

<div class='talk op-msg' data-timestamp='1483423200' id='520133'>
<a class='timestamp' href='#520133'><time timestamp='2017-01-03T06:00:00Z'>06:00</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
when validating we need to grab scriptpubkey from blockhash:txindex
<br>
</div>

<div class='talk op-msg' data-timestamp='1483423260' id='520134'>
<a class='timestamp' href='#520134'><time timestamp='2017-01-03T06:01:00Z'>06:01</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
right.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483423260' id='520135'>
<a class='timestamp' href='#520135'><time timestamp='2017-01-03T06:01:00Z'>06:01</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I don&#x27;t recall what it implements, but
<br>
</div>

<div class='talk op-msg' data-timestamp='1483423260' id='520136'>
<a class='timestamp' href='#520136'><time timestamp='2017-01-03T06:01:00Z'>06:01</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
or txhash:outindex, rather ;)
<br>
</div>

<div class='talk op-msg' data-timestamp='1483423260' id='520137'>
<a class='timestamp' href='#520137'><time timestamp='2017-01-03T06:01:00Z'>06:01</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
e.g. it could map(h(scrippubkey)[64 bits]) -&gt; [txid:vout,...]  which would potentially equal in size or smaller even though it&#x27;s going to be more sparse.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483423260' id='520138'>
<a class='timestamp' href='#520138'><time timestamp='2017-01-03T06:01:00Z'>06:01</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Well my right was responding to what you meant, of course.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483423320' id='520139'>
<a class='timestamp' href='#520139'><time timestamp='2017-01-03T06:02:00Z'>06:02</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
at least if I&#x27;d written this from scratch I would have done that kind of hash, probably with a per database salt to keep clowns from intentionally making your queries slow by causing collisions.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483423500' id='520140'>
<a class='timestamp' href='#520140'><time timestamp='2017-01-03T06:05:00Z'>06:05</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
I&#x27;m a little ambivalent about using an in-process storage engine for things not required for full validation. I&#x27;d love to see an architecture with an external storage engine that can be configured for different kinds of queries. But I guess this index isn&#x27;t too huge
<br>
</div>

<div class='talk op-msg' data-timestamp='1483423620' id='520141'>
<a class='timestamp' href='#520141'><time timestamp='2017-01-03T06:07:00Z'>06:07</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
pulling the consensus-critical stuff out to an external storage engine is perhaps a bit risky, though
<br>
</div>

<div class='talk op-msg' data-timestamp='1483423620' id='520142'>
<a class='timestamp' href='#520142'><time timestamp='2017-01-03T06:07:00Z'>06:07</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
and perhaps there are optimization issues as well here with the caching
<br>
</div>

<div class='talk op-msg' data-timestamp='1483423620' id='520143'>
<a class='timestamp' href='#520143'><time timestamp='2017-01-03T06:07:00Z'>06:07</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
I&#x27;m not too familiar with the cache stuff
<br>
</div>

<div class='talk op-msg' data-timestamp='1483423740' id='520144'>
<a class='timestamp' href='#520144'><time timestamp='2017-01-03T06:09:00Z'>06:09</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
the main advantage here is that different people could extend the functionality of the storage engine and queries supported without having to touch any consensus code at all
<br>
</div>

<div class='talk op-msg' data-timestamp='1483423740' id='520145'>
<a class='timestamp' href='#520145'><time timestamp='2017-01-03T06:09:00Z'>06:09</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
nor having to rebuild the validation engine
<br>
</div>

<div class='talk op-msg' data-timestamp='1483423860' id='520146'>
<a class='timestamp' href='#520146'><time timestamp='2017-01-03T06:11:00Z'>06:11</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
but we already have the existing RPC framework...which encourages just adding more in-process RPC calls
<br>
</div>

<div class='talk op-msg' data-timestamp='1483424580' id='520147'>
<a class='timestamp' href='#520147'><time timestamp='2017-01-03T06:23:00Z'>06:23</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
people always talk about keeping these indices external to bitcoind...but without a framework for it that people can easily extend everyone has to reinvent the wheel
<br>
</div>

<div class='talk op-msg' data-timestamp='1483424640' id='520148'>
<a class='timestamp' href='#520148'><time timestamp='2017-01-03T06:24:00Z'>06:24</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
...poorly :p
<br>
</div>

<div class='talk op-msg' data-timestamp='1483425000' id='520149'>
<a class='timestamp' href='#520149'><time timestamp='2017-01-03T06:30:00Z'>06:30</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
You can always index whatever you want talking to things over the rpc. but there are plenty of uses for this just from the commandline.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483425120' id='520150'>
<a class='timestamp' href='#520150'><time timestamp='2017-01-03T06:32:00Z'>06:32</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
no question it&#x27;s useful. but there could be a bunch other useful queries for app developers (or even for interactive use from commandline) - and having to merge another in-process RPC call everytime is a bottleneck
<br>
</div>

<div class='talk op-msg' data-timestamp='1483425180' id='520151'>
<a class='timestamp' href='#520151'><time timestamp='2017-01-03T06:33:00Z'>06:33</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
or it encourages people to have to maintain their own forks of the entire project so they can customize it
<br>
</div>

<div class='talk op-msg' data-timestamp='1483425300' id='520152'>
<a class='timestamp' href='#520152'><time timestamp='2017-01-03T06:35:00Z'>06:35</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
as for an external index, we could get far better performance foregoing the RPC and using a different IPC
<br>
</div>

<div class='talk op-msg' data-timestamp='1483425300' id='520153'>
<a class='timestamp' href='#520153'><time timestamp='2017-01-03T06:35:00Z'>06:35</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
also, the indices could be built up during IBD
<br>
</div>

<div class='talk op-msg' data-timestamp='1483425360' id='520154'>
<a class='timestamp' href='#520154'><time timestamp='2017-01-03T06:36:00Z'>06:36</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
but these are longer term objectives - I still like this PR :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1483430340' id='520155'>
<a class='timestamp' href='#520155'><time timestamp='2017-01-03T07:59:00Z'>07:59</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Is it okay to use GPG&#x27;s (v2.1+) Ed25516 or even secp256k1 keys for gitian signing?
<br>
</div>

<div class='talk op-msg' data-timestamp='1483430400' id='520156'>
<a class='timestamp' href='#520156'><time timestamp='2017-01-03T08:00:00Z'>08:00</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
*25519
<br>
</div>

<div class='talk op-msg' data-timestamp='1483430460' id='520157'>
<a class='timestamp' href='#520157'><time timestamp='2017-01-03T08:01:00Z'>08:01</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
well, it&#x27;s not forbidden, but I can&#x27;t count them right now (my gpg is at 1.4.20, ubuntu 16.04 lts)
<br>
</div>

<div class='talk op-msg' data-timestamp='1483430520' id='520158'>
<a class='timestamp' href='#520158'><time timestamp='2017-01-03T08:02:00Z'>08:02</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Yes. It&#x27;s probably to early.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483430520' id='520159'>
<a class='timestamp' href='#520159'><time timestamp='2017-01-03T08:02:00Z'>08:02</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I can look at compiling my own for 0.14, but not for 0.13.2 today
<br>
</div>

<div class='talk op-msg' data-timestamp='1483430520' id='520160'>
<a class='timestamp' href='#520160'><time timestamp='2017-01-03T08:02:00Z'>08:02</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
wumpus, you can install gnupg 2.x 
<br>
</div>

<div class='talk op-msg' data-timestamp='1483430520' id='520161'>
<a class='timestamp' href='#520161'><time timestamp='2017-01-03T08:02:00Z'>08:02</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
it&#x27;s like gnupg-2 or something
<br>
</div>

<div class='talk op-msg' data-timestamp='1483430520' id='520162'>
<a class='timestamp' href='#520162'><time timestamp='2017-01-03T08:02:00Z'>08:02</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
gpg2
<br>
</div>

<div class='talk op-msg' data-timestamp='1483430520' id='520163'>
<a class='timestamp' href='#520163'><time timestamp='2017-01-03T08:02:00Z'>08:02</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
phantomcircuit: oh!
<br>
</div>

<div class='talk op-msg' data-timestamp='1483430580' id='520164'>
<a class='timestamp' href='#520164'><time timestamp='2017-01-03T08:03:00Z'>08:03</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I may start with signing with Ed25519, just to have some variety. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1483430580' id='520165'>
<a class='timestamp' href='#520165'><time timestamp='2017-01-03T08:03:00Z'>08:03</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
jonasschnelli: distributions ship the table version of gpg, mostly (exclusively?) so AFAICT relatively few people have it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483430580' id='520166'>
<a class='timestamp' href='#520166'><time timestamp='2017-01-03T08:03:00Z'>08:03</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
phantomcircuit: jonasschnelli: that gets me 2.1.11
<br>
</div>

<div class='talk op-msg' data-timestamp='1483430700' id='520167'>
<a class='timestamp' href='#520167'><time timestamp='2017-01-03T08:05:00Z'>08:05</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I guess for all ecdsa curves (including secp256k1) you need 2.1.16 (or 2.1.17?)
<br>
</div>

<div class='talk op-msg' data-timestamp='1483430700' id='520168'>
<a class='timestamp' href='#520168'><time timestamp='2017-01-03T08:05:00Z'>08:05</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
gah, it doesn&#x27;t use the debian alternatives system though, so I have to manually patch up scripts to use gpg2 instead of gpg
<br>
</div>

<div class='talk op-msg' data-timestamp='1483430700' id='520169'>
<a class='timestamp' href='#520169'><time timestamp='2017-01-03T08:05:00Z'>08:05</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
But watch out when using gpg2
<br>
</div>

<div class='talk op-msg' data-timestamp='1483430760' id='520170'>
<a class='timestamp' href='#520170'><time timestamp='2017-01-03T08:06:00Z'>08:06</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
It will upgrade you .gpg folder
<br>
</div>

<div class='talk op-msg' data-timestamp='1483430760' id='520171'>
<a class='timestamp' href='#520171'><time timestamp='2017-01-03T08:06:00Z'>08:06</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
And will no longer be backward comp.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483430760' id='520172'>
<a class='timestamp' href='#520172'><time timestamp='2017-01-03T08:06:00Z'>08:06</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
So,... make a backup first
<br>
</div>

<div class='talk op-msg' data-timestamp='1483430760' id='520173'>
<a class='timestamp' href='#520173'><time timestamp='2017-01-03T08:06:00Z'>08:06</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
oops
<br>
</div>

<div class='talk op-msg' data-timestamp='1483430760' id='520174'>
<a class='timestamp' href='#520174'><time timestamp='2017-01-03T08:06:00Z'>08:06</time></a>
&lt;<span class='nick nick-8'> jcorgan</span>&gt;
eww     
<br>
</div>

<div class='talk op-msg' data-timestamp='1483430760' id='520175'>
<a class='timestamp' href='#520175'><time timestamp='2017-01-03T08:06:00Z'>08:06</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
maybe this was too late. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1483430760' id='520176'>
<a class='timestamp' href='#520176'><time timestamp='2017-01-03T08:06:00Z'>08:06</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
lol     
<br>
</div>

<div class='talk op-msg' data-timestamp='1483430760' id='520177'>
<a class='timestamp' href='#520177'><time timestamp='2017-01-03T08:06:00Z'>08:06</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
let&#x27;s see :) I only looked at the help message, didn&#x27;t encrypt anything yet
<br>
</div>

<div class='talk op-msg' data-timestamp='1483430820' id='520178'>
<a class='timestamp' href='#520178'><time timestamp='2017-01-03T08:07:00Z'>08:07</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
good, v1 still works for verifying signatures
<br>
</div>

<div class='talk op-msg' data-timestamp='1483430880' id='520179'>
<a class='timestamp' href='#520179'><time timestamp='2017-01-03T08:08:00Z'>08:08</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I&#x27;ll look at this for 0.14 okay
<br>
</div>

<div class='talk op-msg' data-timestamp='1483430880' id='520180'>
<a class='timestamp' href='#520180'><time timestamp='2017-01-03T08:08:00Z'>08:08</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Yes. No hurry.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483430880' id='520181'>
<a class='timestamp' href='#520181'><time timestamp='2017-01-03T08:08:00Z'>08:08</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
If secp256k1 is supported through GPG, this would allow signing over a hardware wallet without new curves added to them.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483431060' id='520182'>
<a class='timestamp' href='#520182'><time timestamp='2017-01-03T08:11:00Z'>08:11</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yea that could be interesting, though it would have to assign a single purpose to keys, don&#x27;t use keys for signing that are used for bitcoin
<br>
</div>

<div class='talk op-msg' data-timestamp='1483431060' id='520183'>
<a class='timestamp' href='#520183'><time timestamp='2017-01-03T08:11:00Z'>08:11</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Yes. Indeed.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483431120' id='520184'>
<a class='timestamp' href='#520184'><time timestamp='2017-01-03T08:12:00Z'>08:12</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I&#x27;d also prefer Ed25519,... not supported by (all?) available hardware wallets I guess.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483431240' id='520185'>
<a class='timestamp' href='#520185'><time timestamp='2017-01-03T08:14:00Z'>08:14</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
ed25519 would have the advantage it can be used for ssh too
<br>
</div>

<div class='talk op-msg' data-timestamp='1483431300' id='520186'>
<a class='timestamp' href='#520186'><time timestamp='2017-01-03T08:15:00Z'>08:15</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Oh. Yes.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483431300' id='520187'>
<a class='timestamp' href='#520187'><time timestamp='2017-01-03T08:15:00Z'>08:15</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
(even if you compile it without openssl :p)
<br>
</div>

<div class='talk op-msg' data-timestamp='1483431360' id='520188'>
<a class='timestamp' href='#520188'><time timestamp='2017-01-03T08:16:00Z'>08:16</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Right. ed25519 &amp; chacha20Poly1305@openssh. Nice combo.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483431420' id='520189'>
<a class='timestamp' href='#520189'><time timestamp='2017-01-03T08:17:00Z'>08:17</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes     
<br>
</div>

<div class='talk op-msg' data-timestamp='1483432320' id='520190'>
<a class='timestamp' href='#520190'><time timestamp='2017-01-03T08:32:00Z'>08:32</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jonasschnelli pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/53442af0aac3...510c0d9c79a5" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/53442af0aac3...510c0d9c79a5</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1483432320' id='520191'>
<a class='timestamp' href='#520191'><time timestamp='2017-01-03T08:32:00Z'>08:32</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 9e351c9 Jonas Schnelli: SetMerkleBranch: remove unused code, remove cs_main lock requirement
<br>
</div>

<div class='talk op-msg' data-timestamp='1483432320' id='520192'>
<a class='timestamp' href='#520192'><time timestamp='2017-01-03T08:32:00Z'>08:32</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 510c0d9 Jonas Schnelli: Merge #9446: SetMerkleBranch: remove unused code, remove cs_main lock requirement...
<br>
</div>

<div class='talk op-msg' data-timestamp='1483432320' id='520193'>
<a class='timestamp' href='#520193'><time timestamp='2017-01-03T08:32:00Z'>08:32</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jonasschnelli closed pull request #9446: SetMerkleBranch: remove unused code, remove cs_main lock requirement (master...2016/12/merklebranch) <a href="https://github.com/bitcoin/bitcoin/pull/9446" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9446</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1483433940' id='520194'>
<a class='timestamp' href='#520194'><time timestamp='2017-01-03T08:59:00Z'>08:59</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
uploaded binaries and pushed 0.13.2 release announcement to the mailing lists, waiting for travis on bitcoin.org (<a href="https://github.com/bitcoin-dot-org/bitcoin.org/pull/1470)" class="link" target="_blank">https://github.com/bitcoin-dot-org/bitcoin.org/pull/1470)</a>, feel free to get the rest of the announcement cycle started
<br>
</div>

<div class='talk op-msg' data-timestamp='1483434120' id='520195'>
<a class='timestamp' href='#520195'><time timestamp='2017-01-03T09:02:00Z'>09:02</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
jonasschnelli: <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2017-January/013397.html" class="link" target="_blank">https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2017-January/013397.html</a>  A spv wallet should <u>_never_</u> be showing transactions from untrusted peers.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483434120' id='520196'>
<a class='timestamp' href='#520196'><time timestamp='2017-01-03T09:02:00Z'>09:02</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
jonasschnelli: because the peers can feed them any garbage they want and the spv client has no idea about it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483434120' id='520197'>
<a class='timestamp' href='#520197'><time timestamp='2017-01-03T09:02:00Z'>09:02</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
(phonecall, will response soon)
<br>
</div>

<div class='talk op-msg' data-timestamp='1483434240' id='520198'>
<a class='timestamp' href='#520198'><time timestamp='2017-01-03T09:04:00Z'>09:04</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
and you get lovely results like <a href="https://people.xiph.org/~greg/21mbtc.png" class="link" target="_blank">https://people.xiph.org/~greg/21mbtc.png</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1483434480' id='520199'>
<a class='timestamp' href='#520199'><time timestamp='2017-01-03T09:08:00Z'>09:08</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: but what if you trust a peer enough to not relay invalid txn, but not enough to not spy on you?
<br>
</div>

<div class='talk op-msg' data-timestamp='1483434480' id='520200'>
<a class='timestamp' href='#520200'><time timestamp='2017-01-03T09:08:00Z'>09:08</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
gmaxwell: I see.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483434540' id='520201'>
<a class='timestamp' href='#520201'><time timestamp='2017-01-03T09:09:00Z'>09:09</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I mentioned this in the bitcoin-dev mail, because users relay on it,... even if its fundamentally broken.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483434540' id='520202'>
<a class='timestamp' href='#520202'><time timestamp='2017-01-03T09:09:00Z'>09:09</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
rely
<br>
</div>

<div class='talk op-msg' data-timestamp='1483434540' id='520203'>
<a class='timestamp' href='#520203'><time timestamp='2017-01-03T09:09:00Z'>09:09</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
rely. Thanks sipa. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1483434540' id='520204'>
<a class='timestamp' href='#520204'><time timestamp='2017-01-03T09:09:00Z'>09:09</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Also,... it looked like, that my feeler PR: <a href="https://github.com/bitcoin/bitcoin/pull/9238" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9238</a> did get some rejects.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483434660' id='520205'>
<a class='timestamp' href='#520205'><time timestamp='2017-01-03T09:11:00Z'>09:11</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
In a long shot, I could imagine, BFD (filter digest / filter commitments) for filtering from untrusted peers, and BIP39 for filtering from trusted peers (once BIP150 has ben established).
<br>
</div>

<div class='talk op-msg' data-timestamp='1483434660' id='520206'>
<a class='timestamp' href='#520206'><time timestamp='2017-01-03T09:11:00Z'>09:11</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Even if BIP39 is not the most efficient way.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483434660' id='520207'>
<a class='timestamp' href='#520207'><time timestamp='2017-01-03T09:11:00Z'>09:11</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
BIP39?
<br>
</div>

<div class='talk op-msg' data-timestamp='1483434660' id='520208'>
<a class='timestamp' href='#520208'><time timestamp='2017-01-03T09:11:00Z'>09:11</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
are you sure?
<br>
</div>

<div class='talk op-msg' data-timestamp='1483434660' id='520209'>
<a class='timestamp' href='#520209'><time timestamp='2017-01-03T09:11:00Z'>09:11</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
37! argh
<br>
</div>

<div class='talk op-msg' data-timestamp='1483434660' id='520210'>
<a class='timestamp' href='#520210'><time timestamp='2017-01-03T09:11:00Z'>09:11</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Bloom Filter
<br>
</div>

<div class='talk op-msg' data-timestamp='1483434780' id='520211'>
<a class='timestamp' href='#520211'><time timestamp='2017-01-03T09:13:00Z'>09:13</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
But I think there is no solution for a non-BIP37 0-conf &quot;filtering&quot; without running into these privacy issues related to bip37
<br>
</div>

<div class='talk op-msg' data-timestamp='1483434780' id='520212'>
<a class='timestamp' href='#520212'><time timestamp='2017-01-03T09:13:00Z'>09:13</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
jonasschnelli: for your wokrin in 9238 just transfer all transactions, any filtering scheme will trash privacy, and transfering transactions is an aggregate of 14 kilobit/s.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483434780' id='520213'>
<a class='timestamp' href='#520213'><time timestamp='2017-01-03T09:13:00Z'>09:13</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
But displaying unconfirmed transactions in any non-validating wallet is just an invite to abuse.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483434840' id='520214'>
<a class='timestamp' href='#520214'><time timestamp='2017-01-03T09:14:00Z'>09:14</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Many lite wallets that do this today are utterly crippled by it, because they also spend unconfirmed coins, so a single troublemaker giving them some fake payments makes them unusable. (or at least they did a half year ago.)
<br>
</div>

<div class='talk op-msg' data-timestamp='1483434900' id='520215'>
<a class='timestamp' href='#520215'><time timestamp='2017-01-03T09:15:00Z'>09:15</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
gmaxwell: Yes. Agree. But the user-experience without displaying incoming funds will probably be not acceptable &quot;in the field&quot;.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483434900' id='520216'>
<a class='timestamp' href='#520216'><time timestamp='2017-01-03T09:15:00Z'>09:15</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
please.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483434960' id='520217'>
<a class='timestamp' href='#520217'><time timestamp='2017-01-03T09:16:00Z'>09:16</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I don&#x27;t know. I also don&#x27;t like the 0-conf displaying. While working on the Core wallets SPV mode, I just had the feeling that people will not use it because of the missing 0-conf display.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483434960' id='520218'>
<a class='timestamp' href='#520218'><time timestamp='2017-01-03T09:16:00Z'>09:16</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I think it&#x27;s a bad idea to release features that would require an emergency software update to disable them as soon as one board person spends an hour making a few like hack that sends out garbage transactions and spins up a bunch of sybil nodes.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483435020' id='520219'>
<a class='timestamp' href='#520219'><time timestamp='2017-01-03T09:17:00Z'>09:17</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
0-conf / spv should probably only be possible in conjunction with BIP150 and a trusted peer (at home or somewhere)
<br>
</div>

<div class='talk op-msg' data-timestamp='1483435080' id='520220'>
<a class='timestamp' href='#520220'><time timestamp='2017-01-03T09:18:00Z'>09:18</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
In any case, just send all the data. As mentioned it&#x27;s 14kbit/sec.  The history is really the only annoying part about that.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483435140' id='520221'>
<a class='timestamp' href='#520221'><time timestamp='2017-01-03T09:19:00Z'>09:19</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
gmaxwell: do you mean send all the data if someone request a filtered mempool?
<br>
</div>

<div class='talk op-msg' data-timestamp='1483435140' id='520222'>
<a class='timestamp' href='#520222'><time timestamp='2017-01-03T09:19:00Z'>09:19</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
or just for tv invs?
<br>
</div>

<div class='talk op-msg' data-timestamp='1483435140' id='520223'>
<a class='timestamp' href='#520223'><time timestamp='2017-01-03T09:19:00Z'>09:19</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
*tx     
<br>
</div>

<div class='talk op-msg' data-timestamp='1483435200' id='520224'>
<a class='timestamp' href='#520224'><time timestamp='2017-01-03T09:20:00Z'>09:20</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I mean don&#x27;t do any tx filtering. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1483435260' id='520225'>
<a class='timestamp' href='#520225'><time timestamp='2017-01-03T09:21:00Z'>09:21</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Same as we do today. Please. implementing spv mode in core doesn&#x27;t mean implementing all the flaws and vulnerabilities in other software slavishly. Thats pointless. If someone wants something that is going to blast out there addresses, validate nothing, etc.. they can already use bitcoinj based software.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483435260' id='520226'>
<a class='timestamp' href='#520226'><time timestamp='2017-01-03T09:21:00Z'>09:21</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Heh. True.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483435320' id='520227'>
<a class='timestamp' href='#520227'><time timestamp='2017-01-03T09:22:00Z'>09:22</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
:) at least the spv behavior in core can be private.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483435320' id='520228'>
<a class='timestamp' href='#520228'><time timestamp='2017-01-03T09:22:00Z'>09:22</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I have implemented the BFD relevant hooks. IsBlockRelevantToWallet(pindex).
<br>
</div>

<div class='talk op-msg' data-timestamp='1483435380' id='520229'>
<a class='timestamp' href='#520229'><time timestamp='2017-01-03T09:23:00Z'>09:23</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
gmaxwell: The only usability issues are: catch-up a couple of weeks (144*&lt;day&gt; MBs, take a while) and the missing 0-conf. Maybe this is acceptable to prevent privacy.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483435440' id='520230'>
<a class='timestamp' href='#520230'><time timestamp='2017-01-03T09:24:00Z'>09:24</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I think it&#x27;s not bad, especially if we had better facilities for keeping it caught up in the background.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483435440' id='520231'>
<a class='timestamp' href='#520231'><time timestamp='2017-01-03T09:24:00Z'>09:24</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Though, I haven&#x27;t fully understood the semi.-trusted oracle idea for the BDF. I would expect to have the BDF in the coinbase...
<br>
</div>

<div class='talk op-msg' data-timestamp='1483435560' id='520232'>
<a class='timestamp' href='#520232'><time timestamp='2017-01-03T09:26:00Z'>09:26</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
But somehow the BFD is required for older blocks as well
<br>
</div>

<div class='talk op-msg' data-timestamp='1483435560' id='520233'>
<a class='timestamp' href='#520233'><time timestamp='2017-01-03T09:26:00Z'>09:26</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
It&#x27;s not really great to go from nothing to consensus rule if it can be avoided: No design survives first contact with users.  Better to prove out the idea and refine it before its required, which is possible here.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483435620' id='520234'>
<a class='timestamp' href='#520234'><time timestamp='2017-01-03T09:27:00Z'>09:27</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
From where would you get the BFD (maybe its not bloom filters in the end)? A new p2p command?
<br>
</div>

<div class='talk op-msg' data-timestamp='1483435680' id='520235'>
<a class='timestamp' href='#520235'><time timestamp='2017-01-03T09:28:00Z'>09:28</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
just another type of element that you can getdata, perhaps more than one.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483435740' id='520236'>
<a class='timestamp' href='#520236'><time timestamp='2017-01-03T09:29:00Z'>09:29</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
this would result in trusting the peer, right? The whole signing thing of BFDs would still be a thing? Or just compare BFDs from the data retrived from other peers?
<br>
</div>

<div class='talk op-msg' data-timestamp='1483435800' id='520237'>
<a class='timestamp' href='#520237'><time timestamp='2017-01-03T09:30:00Z'>09:30</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Probably easy to sybil you with fake data
<br>
</div>

<div class='talk op-msg' data-timestamp='1483435800' id='520238'>
<a class='timestamp' href='#520238'><time timestamp='2017-01-03T09:30:00Z'>09:30</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I thought you were referring to the filter itselt and not the hash root... Unclear, multiple models are possible and <u>_all_</u> are better than BIP37.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483435860' id='520239'>
<a class='timestamp' href='#520239'><time timestamp='2017-01-03T09:31:00Z'>09:31</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Right, tx withhold is also possible with BIP37.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483435920' id='520240'>
<a class='timestamp' href='#520240'><time timestamp='2017-01-03T09:32:00Z'>09:32</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
and asking multiple peers is very inefficient with BIP37.. needs n-times the bandwidth.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483435980' id='520241'>
<a class='timestamp' href='#520241'><time timestamp='2017-01-03T09:33:00Z'>09:33</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
good point.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483436220' id='520242'>
<a class='timestamp' href='#520242'><time timestamp='2017-01-03T09:37:00Z'>09:37</time></a>
&lt;<span class='nick nick-6'> btcdrak</span>&gt;
Requesting review for release blog post <a href="https://github.com/bitcoin-core/bitcoincore.org/pull/305" class="link" target="_blank">https://github.com/bitcoin-core/bitcoincore.org/pull/305</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1483436400' id='520243'>
<a class='timestamp' href='#520243'><time timestamp='2017-01-03T09:40:00Z'>09:40</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
jonasschnelli: but pulling data from peers is just one option, you could-- for example-- go get a hash root (root of a tree of digest hashes) from a website and pop that into a configuration.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483436460' id='520244'>
<a class='timestamp' href='#520244'><time timestamp='2017-01-03T09:41:00Z'>09:41</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(and then use that for filtering the past-- then the future, past that root, you just fetch whole blocks)
<br>
</div>

<div class='talk op-msg' data-timestamp='1483438980' id='520245'>
<a class='timestamp' href='#520245'><time timestamp='2017-01-03T10:23:00Z'>10:23</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
cfields: ohhh, static CNodeState::cs....missed the static part
<br>
</div>

<div class='talk op-msg' data-timestamp='1483439040' id='520246'>
<a class='timestamp' href='#520246'><time timestamp='2017-01-03T10:24:00Z'>10:24</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
cfields: ok, I&#x27;ll make it static in the pr and add a TODO: do something smarter
<br>
</div>

<div class='talk op-msg' data-timestamp='1483439040' id='520247'>
<a class='timestamp' href='#520247'><time timestamp='2017-01-03T10:24:00Z'>10:24</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
cfields: oh, wait, no, really dont want to do that
<br>
</div>

<div class='talk op-msg' data-timestamp='1483439160' id='520248'>
<a class='timestamp' href='#520248'><time timestamp='2017-01-03T10:26:00Z'>10:26</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
cfields: that would mean that #9375 + multithreaded processmessages wouldnt accomplish anything :/
<br>
</div>

<div class='talk op-msg' data-timestamp='1483439160' id='520249'>
<a class='timestamp' href='#520249'><time timestamp='2017-01-03T10:26:00Z'>10:26</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/9375" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/9375</a> | Relay compact block messages prior to full block connection by TheBlueMatt · Pull Request #9375 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1483439280' id='520250'>
<a class='timestamp' href='#520250'><time timestamp='2017-01-03T10:28:00Z'>10:28</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
BlueMatt: but the same is true for the current code, no?
<br>
</div>

<div class='talk op-msg' data-timestamp='1483439280' id='520251'>
<a class='timestamp' href='#520251'><time timestamp='2017-01-03T10:28:00Z'>10:28</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
which uses cs_main
<br>
</div>

<div class='talk op-msg' data-timestamp='1483439460' id='520252'>
<a class='timestamp' href='#520252'><time timestamp='2017-01-03T10:31:00Z'>10:31</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
sipa: no, I dont believe so, #9375 + #9419 + a fix for <a href="https://github.com/bitcoin/bitcoin/pull/9375#discussion_r94180477" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9375#discussion_r94180477</a> (which just means making fWantsCmpctWitness atomic) + multithreaded ProcessMessages will work
<br>
</div>

<div class='talk op-msg' data-timestamp='1483439460' id='520253'>
<a class='timestamp' href='#520253'><time timestamp='2017-01-03T10:31:00Z'>10:31</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/9375" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/9375</a> | Relay compact block messages prior to full block connection by TheBlueMatt · Pull Request #9375 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1483439460' id='520254'>
<a class='timestamp' href='#520254'><time timestamp='2017-01-03T10:31:00Z'>10:31</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/9419" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/9419</a> | Stop Using cs_main for CNodeState/State() by TheBlueMatt · Pull Request #9419 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1483439580' id='520255'>
<a class='timestamp' href='#520255'><time timestamp='2017-01-03T10:33:00Z'>10:33</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
BlueMatt: ah, i see
<br>
</div>

<div class='talk op-msg' data-timestamp='1483439580' id='520256'>
<a class='timestamp' href='#520256'><time timestamp='2017-01-03T10:33:00Z'>10:33</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
right
<br>
</div>

<div class='talk op-msg' data-timestamp='1483439580' id='520257'>
<a class='timestamp' href='#520257'><time timestamp='2017-01-03T10:33:00Z'>10:33</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
it may be the case that we dont need State() at all for that, though
<br>
</div>

<div class='talk op-msg' data-timestamp='1483439700' id='520258'>
<a class='timestamp' href='#520258'><time timestamp='2017-01-03T10:35:00Z'>10:35</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
yea, no, so to make it all work we need to have a State()-&gt;fWantsCmpctWitness and pfrom-&gt;GetSendVersion() call without cs_main
<br>
</div>

<div class='talk op-msg' data-timestamp='1483440660' id='520259'>
<a class='timestamp' href='#520259'><time timestamp='2017-01-03T10:51:00Z'>10:51</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 1 new commit to 0.13: <a href="https://github.com/bitcoin/bitcoin/commit/77eaadb6c9619370b09513fecba13cfe656d63d6" class="link" target="_blank">https://github.com/bitcoin/bitcoin/commit/77eaadb6c9619370b09513fecba13cfe656d63d6</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1483440660' id='520260'>
<a class='timestamp' href='#520260'><time timestamp='2017-01-03T10:51:00Z'>10:51</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/0.13 77eaadb Wladimir J. van der Laan: doc: Clean out release notes on 0.13.x branch...
<br>
</div>

<div class='talk op-msg' data-timestamp='1483440720' id='520261'>
<a class='timestamp' href='#520261'><time timestamp='2017-01-03T10:52:00Z'>10:52</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 1 new commit to master: <a href="https://github.com/bitcoin/bitcoin/commit/03e1d6ce349cc83b92140fec7d0c5f88893c0a9c" class="link" target="_blank">https://github.com/bitcoin/bitcoin/commit/03e1d6ce349cc83b92140fec7d0c5f88893c0a9c</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1483440720' id='520262'>
<a class='timestamp' href='#520262'><time timestamp='2017-01-03T10:52:00Z'>10:52</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 03e1d6c Wladimir J. van der Laan: doc: Add historical release notes for 0.13.2
<br>
</div>

<div class='talk op-msg' data-timestamp='1483440840' id='520263'>
<a class='timestamp' href='#520263'><time timestamp='2017-01-03T10:54:00Z'>10:54</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
gmaxwell: thanks.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483440900' id='520264'>
<a class='timestamp' href='#520264'><time timestamp='2017-01-03T10:55:00Z'>10:55</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
gmaxwell: you mentioned here (<a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2016-May/012637.html)" class="link" target="_blank">https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2016-May/012637.html)</a> a rough specs for a better filter structure then bloom
<br>
</div>

<div class='talk op-msg' data-timestamp='1483440900' id='520265'>
<a class='timestamp' href='#520265'><time timestamp='2017-01-03T10:55:00Z'>10:55</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Do you have any specification for that?
<br>
</div>

<div class='talk op-msg' data-timestamp='1483441140' id='520266'>
<a class='timestamp' href='#520266'><time timestamp='2017-01-03T10:59:00Z'>10:59</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
cfields: hmmm, regarding #9441, do we really want to run the entire ProcessMessages loop (calling SendMessages potentially umpteen times) just to process multiple messages from the same node?
<br>
</div>

<div class='talk op-msg' data-timestamp='1483441140' id='520267'>
<a class='timestamp' href='#520267'><time timestamp='2017-01-03T10:59:00Z'>10:59</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/9441" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/9441</a> | Net: Massive speedup. Net locks overhaul by theuni · Pull Request #9441 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1483441140' id='520268'>
<a class='timestamp' href='#520268'><time timestamp='2017-01-03T10:59:00Z'>10:59</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
(ie remove the loop inside ProcessMessages and move it to ThreadProcessMessages)
<br>
</div>

<div class='talk op-msg' data-timestamp='1483441260' id='520269'>
<a class='timestamp' href='#520269'><time timestamp='2017-01-03T11:01:00Z'>11:01</time></a>
&lt;<span class='nick nick-8'> timothy</span>&gt;
buiding bitcoin-core 0.13.2 on archlinux...
<br>
</div>

<div class='talk op-msg' data-timestamp='1483441380' id='520270'>
<a class='timestamp' href='#520270'><time timestamp='2017-01-03T11:03:00Z'>11:03</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
BlueMatt: i was wondering about that too
<br>
</div>

<div class='talk op-msg' data-timestamp='1483441380' id='520271'>
<a class='timestamp' href='#520271'><time timestamp='2017-01-03T11:03:00Z'>11:03</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
BlueMatt: but there is hardly any (contentious) locking going on anymore in between
<br>
</div>

<div class='talk op-msg' data-timestamp='1483441440' id='520272'>
<a class='timestamp' href='#520272'><time timestamp='2017-01-03T11:04:00Z'>11:04</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
yea, but SendMessages.....
<br>
</div>

<div class='talk op-msg' data-timestamp='1483441440' id='520273'>
<a class='timestamp' href='#520273'><time timestamp='2017-01-03T11:04:00Z'>11:04</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
Ah.     
<br>
</div>

<div class='talk op-msg' data-timestamp='1483441440' id='520274'>
<a class='timestamp' href='#520274'><time timestamp='2017-01-03T11:04:00Z'>11:04</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i hadn&#x27;t considered that
<br>
</div>

<div class='talk op-msg' data-timestamp='1483441440' id='520275'>
<a class='timestamp' href='#520275'><time timestamp='2017-01-03T11:04:00Z'>11:04</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that defeats the purpose
<br>
</div>

<div class='talk op-msg' data-timestamp='1483441500' id='520276'>
<a class='timestamp' href='#520276'><time timestamp='2017-01-03T11:05:00Z'>11:05</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
hmm, i was about to say that it negatively impacts batching of invs and addrs
<br>
</div>

<div class='talk op-msg' data-timestamp='1483441500' id='520277'>
<a class='timestamp' href='#520277'><time timestamp='2017-01-03T11:05:00Z'>11:05</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but since we have explicit random delays for those, i don&#x27;t think that&#x27;s really an issue anymore
<br>
</div>

<div class='talk op-msg' data-timestamp='1483441500' id='520278'>
<a class='timestamp' href='#520278'><time timestamp='2017-01-03T11:05:00Z'>11:05</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
yea, I dont think it breaks anything
<br>
</div>

<div class='talk op-msg' data-timestamp='1483441500' id='520279'>
<a class='timestamp' href='#520279'><time timestamp='2017-01-03T11:05:00Z'>11:05</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
just repeatedly calls SendMessages to do nothing
<br>
</div>

<div class='talk op-msg' data-timestamp='1483441560' id='520280'>
<a class='timestamp' href='#520280'><time timestamp='2017-01-03T11:06:00Z'>11:06</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
oh, it won&#x27;t break anything
<br>
</div>

<div class='talk op-msg' data-timestamp='1483441560' id='520281'>
<a class='timestamp' href='#520281'><time timestamp='2017-01-03T11:06:00Z'>11:06</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
I assume you didnt touch cs_vSend due to <a href="https://github.com/bitcoin/bitcoin/pull/9419/commits/c214d120a363a05ba9afdccff6b4bda6e29ae7c4" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9419/commits/c214d120a363a05ba9afdccff6b4bda6e29ae7c4</a>, cfields?
<br>
</div>

<div class='talk op-msg' data-timestamp='1483441800' id='520282'>
<a class='timestamp' href='#520282'><time timestamp='2017-01-03T11:10:00Z'>11:10</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
cfields: other than that, I got through #9441 and it looks good to me
<br>
</div>

<div class='talk op-msg' data-timestamp='1483441800' id='520283'>
<a class='timestamp' href='#520283'><time timestamp='2017-01-03T11:10:00Z'>11:10</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/9441" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/9441</a> | Net: Massive speedup. Net locks overhaul by theuni · Pull Request #9441 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1483441800' id='520284'>
<a class='timestamp' href='#520284'><time timestamp='2017-01-03T11:10:00Z'>11:10</time></a>
&lt;<span class='nick nick-16'> * BlueMatt</span>&gt;
will copy discussion into pr thread
<br>
</div>

<div class='talk op-msg' data-timestamp='1483442220' id='520285'>
<a class='timestamp' href='#520285'><time timestamp='2017-01-03T11:17:00Z'>11:17</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
thanks
<br>
</div>

<div class='talk op-msg' data-timestamp='1483442220' id='520286'>
<a class='timestamp' href='#520286'><time timestamp='2017-01-03T11:17:00Z'>11:17</time></a>
&lt;<span class='nick nick-4'> * sipa</span>&gt;
-&gt; NYC
<br>
</div>

<div class='talk op-msg' data-timestamp='1483442220' id='520287'>
<a class='timestamp' href='#520287'><time timestamp='2017-01-03T11:17:00Z'>11:17</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
sipa: cool, see you tomorrow afternoon
<br>
</div>

<div class='talk op-msg' data-timestamp='1483442220' id='520288'>
<a class='timestamp' href='#520288'><time timestamp='2017-01-03T11:17:00Z'>11:17</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
anyone else at RWC? sipa, cfields and I likely will be
<br>
</div>

<div class='talk op-msg' data-timestamp='1483444260' id='520289'>
<a class='timestamp' href='#520289'><time timestamp='2017-01-03T11:51:00Z'>11:51</time></a>
&lt;<span class='nick nick-8'> timothy</span>&gt;
is MALLOC_ARENA_MAX=1 still &quot;recommended&quot; on linux?
<br>
</div>

<div class='talk op-msg' data-timestamp='1483444860' id='520290'>
<a class='timestamp' href='#520290'><time timestamp='2017-01-03T12:01:00Z'>12:01</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
timothy: i expect that setting it so low may come with lower performancr
<br>
</div>

<div class='talk op-msg' data-timestamp='1483444860' id='520291'>
<a class='timestamp' href='#520291'><time timestamp='2017-01-03T12:01:00Z'>12:01</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but i don&#x27;t think anyone ever benchmarked it
<br>
</div>

<div class='talk op-msg' data-timestamp='1483444980' id='520292'>
<a class='timestamp' href='#520292'><time timestamp='2017-01-03T12:03:00Z'>12:03</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it&#x27;s certainly recommended if you are very tight on memory
<br>
</div>

<div class='talk op-msg' data-timestamp='1483444980' id='520293'>
<a class='timestamp' href='#520293'><time timestamp='2017-01-03T12:03:00Z'>12:03</time></a>
&lt;<span class='nick nick-8'> timothy</span>&gt;
is -reindex-chainstate is faster than -reindex?
<br>
</div>

<div class='talk op-msg' data-timestamp='1483445040' id='520294'>
<a class='timestamp' href='#520294'><time timestamp='2017-01-03T12:04:00Z'>12:04</time></a>
&lt;<span class='nick nick-8'> timothy</span>&gt;
without the second is :P
<br>
</div>

<div class='talk op-msg' data-timestamp='1483445340' id='520295'>
<a class='timestamp' href='#520295'><time timestamp='2017-01-03T12:09:00Z'>12:09</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yes     
<br>
</div>

<div class='talk op-msg' data-timestamp='1483445340' id='520296'>
<a class='timestamp' href='#520296'><time timestamp='2017-01-03T12:09:00Z'>12:09</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but it only works when your blocks and blocks/index are not corrupted
<br>
</div>

<div class='talk op-msg' data-timestamp='1483451220' id='520297'>
<a class='timestamp' href='#520297'><time timestamp='2017-01-03T13:47:00Z'>13:47</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
bitcoin-qt tells me today when running with a fresh datadir: &quot;Last received block was generated 7 year(s) and 52 week(s) ago.&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1483451340' id='520298'>
<a class='timestamp' href='#520298'><time timestamp='2017-01-03T13:49:00Z'>13:49</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
jonasschnelli: so it regards it as an edge case, 52 weeks but not a year yet. curious :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1483451400' id='520299'>
<a class='timestamp' href='#520299'><time timestamp='2017-01-03T13:50:00Z'>13:50</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
qint64 remainder = secs % YEAR_IN_SECONDS;
<br>
</div>

<div class='talk op-msg' data-timestamp='1483451400' id='520300'>
<a class='timestamp' href='#520300'><time timestamp='2017-01-03T13:50:00Z'>13:50</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Na. I don&#x27;t fix that.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483451400' id='520301'>
<a class='timestamp' href='#520301'><time timestamp='2017-01-03T13:50:00Z'>13:50</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yeah it&#x27;s silly but not a serious issue
<br>
</div>

<div class='talk op-msg' data-timestamp='1483452420' id='520302'>
<a class='timestamp' href='#520302'><time timestamp='2017-01-03T14:07:00Z'>14:07</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj opened pull request #9460: Fix a few typos in translated strings (master...2017_01_messages_update) <a href="https://github.com/bitcoin/bitcoin/pull/9460" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9460</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1483454460' id='520303'>
<a class='timestamp' href='#520303'><time timestamp='2017-01-03T14:41:00Z'>14:41</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
wumpus: btcdrak: bad signature on sendy release ann
<br>
</div>

<div class='talk op-msg' data-timestamp='1483454520' id='520304'>
<a class='timestamp' href='#520304'><time timestamp='2017-01-03T14:42:00Z'>14:42</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
luke-jr: are you checking the html or text attachment?
<br>
</div>

<div class='talk op-msg' data-timestamp='1483454580' id='520305'>
<a class='timestamp' href='#520305'><time timestamp='2017-01-03T14:43:00Z'>14:43</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
in case of the html you should run gpg on the raw html file
<br>
</div>

<div class='talk op-msg' data-timestamp='1483454580' id='520306'>
<a class='timestamp' href='#520306'><time timestamp='2017-01-03T14:43:00Z'>14:43</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
(both attachments verify OK here)
<br>
</div>

<div class='talk op-msg' data-timestamp='1483454640' id='520307'>
<a class='timestamp' href='#520307'><time timestamp='2017-01-03T14:44:00Z'>14:44</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
both
<br>
</div>

<div class='talk op-msg' data-timestamp='1483454640' id='520308'>
<a class='timestamp' href='#520308'><time timestamp='2017-01-03T14:44:00Z'>14:44</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
how do you run GPG on the raw HTML file, seeing as the HTML is outside the signature? :/
<br>
</div>

<div class='talk op-msg' data-timestamp='1483454640' id='520309'>
<a class='timestamp' href='#520309'><time timestamp='2017-01-03T14:44:00Z'>14:44</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 3 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/03e1d6ce349c...e0dc3d70c6ec" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/03e1d6ce349c...e0dc3d70c6ec</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1483454640' id='520310'>
<a class='timestamp' href='#520310'><time timestamp='2017-01-03T14:44:00Z'>14:44</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master a9d6151 Wladimir J. van der Laan: qt,wallet: Fix a few typos in messages...
<br>
</div>

<div class='talk op-msg' data-timestamp='1483454640' id='520311'>
<a class='timestamp' href='#520311'><time timestamp='2017-01-03T14:44:00Z'>14:44</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master d45b21e Wladimir J. van der Laan: qt: Fill in English numerusforms...
<br>
</div>

<div class='talk op-msg' data-timestamp='1483454640' id='520312'>
<a class='timestamp' href='#520312'><time timestamp='2017-01-03T14:44:00Z'>14:44</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master e0dc3d7 Wladimir J. van der Laan: Merge #9460: Fix a few typos in translated strings...
<br>
</div>

<div class='talk op-msg' data-timestamp='1483454640' id='520313'>
<a class='timestamp' href='#520313'><time timestamp='2017-01-03T14:44:00Z'>14:44</time></a>
&lt;<span class='nick nick-6'> btcdrak</span>&gt;
luke-jr: matches for me
<br>
</div>

<div class='talk op-msg' data-timestamp='1483454640' id='520314'>
<a class='timestamp' href='#520314'><time timestamp='2017-01-03T14:44:00Z'>14:44</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj closed pull request #9460: Fix a few typos in translated strings (master...2017_01_messages_update) <a href="https://github.com/bitcoin/bitcoin/pull/9460" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9460</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1483454700' id='520315'>
<a class='timestamp' href='#520315'><time timestamp='2017-01-03T14:45:00Z'>14:45</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
that mail has a text/plain as well as a text/html mime attachment - just save them to a file and run gpg on them?
<br>
</div>

<div class='talk op-msg' data-timestamp='1483454760' id='520316'>
<a class='timestamp' href='#520316'><time timestamp='2017-01-03T14:46:00Z'>14:46</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
hmm, that works. I wonder what copy/paste is changing
<br>
</div>

<div class='talk op-msg' data-timestamp='1483454760' id='520317'>
<a class='timestamp' href='#520317'><time timestamp='2017-01-03T14:46:00Z'>14:46</time></a>
&lt;<span class='nick nick-6'> btcdrak</span>&gt;
Thunderbird also automatically validated it for me.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483454820' id='520318'>
<a class='timestamp' href='#520318'><time timestamp='2017-01-03T14:47:00Z'>14:47</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Same here
<br>
</div>

<div class='talk op-msg' data-timestamp='1483454820' id='520319'>
<a class='timestamp' href='#520319'><time timestamp='2017-01-03T14:47:00Z'>14:47</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
my mail client normally auto-validates, but it didn&#x27;t like the formatting or something
<br>
</div>

<div class='talk op-msg' data-timestamp='1483455180' id='520320'>
<a class='timestamp' href='#520320'><time timestamp='2017-01-03T14:53:00Z'>14:53</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jonasschnelli opened pull request #9461: [Qt] Improve progress display during headers-sync and peer-finding (master...2017/01/qt_sync) <a href="https://github.com/bitcoin/bitcoin/pull/9461" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9461</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1483456440' id='520321'>
<a class='timestamp' href='#520321'><time timestamp='2017-01-03T15:14:00Z'>15:14</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
luke-jr: I think squashing makes sense when one commit overwrites many lines from a former commit in the same PR.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483456440' id='520322'>
<a class='timestamp' href='#520322'><time timestamp='2017-01-03T15:14:00Z'>15:14</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
But Okay for #8877
<br>
</div>

<div class='talk op-msg' data-timestamp='1483456440' id='520323'>
<a class='timestamp' href='#520323'><time timestamp='2017-01-03T15:14:00Z'>15:14</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/8877" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/8877</a> | Qt RPC console: history sensitive-data filter, and saving input line when browsing history by luke-jr · Pull Request #8877 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1483456500' id='520324'>
<a class='timestamp' href='#520324'><time timestamp='2017-01-03T15:15:00Z'>15:15</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
jonasschnelli: there are some cases where I think it may make sense, yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1483456560' id='520325'>
<a class='timestamp' href='#520325'><time timestamp='2017-01-03T15:16:00Z'>15:16</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
But your right, squashing and loosing &quot;logical history&quot; is not ideal
<br>
</div>

<div class='talk op-msg' data-timestamp='1483456800' id='520326'>
<a class='timestamp' href='#520326'><time timestamp='2017-01-03T15:20:00Z'>15:20</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
can anyone give <a href="https://github.com/bitcoin/bitcoin/pull/8877" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8877</a> a final review?
<br>
</div>

<div class='talk op-msg' data-timestamp='1483458840' id='520327'>
<a class='timestamp' href='#520327'><time timestamp='2017-01-03T15:54:00Z'>15:54</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
BlueMatt: yes, cs_vSend wasn&#x27;t touched because of your PR. I&#x27;ve just been operating under the assumption that the lock around SendMessages will be removed by one PR or another.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483458900' id='520328'>
<a class='timestamp' href='#520328'><time timestamp='2017-01-03T15:55:00Z'>15:55</time></a>
&lt;<span class='nick nick-6'> btcdrak</span>&gt;
jonasschnelli: done.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483459020' id='520329'>
<a class='timestamp' href='#520329'><time timestamp='2017-01-03T15:57:00Z'>15:57</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
thanks btcdrak 
<br>
</div>

<div class='talk op-msg' data-timestamp='1483459020' id='520330'>
<a class='timestamp' href='#520330'><time timestamp='2017-01-03T15:57:00Z'>15:57</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
now I own you a review. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1483459020' id='520331'>
<a class='timestamp' href='#520331'><time timestamp='2017-01-03T15:57:00Z'>15:57</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jonasschnelli pushed 12 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/e0dc3d70c6ec...6dc4c43d326e" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/e0dc3d70c6ec...6dc4c43d326e</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1483459020' id='520332'>
<a class='timestamp' href='#520332'><time timestamp='2017-01-03T15:57:00Z'>15:57</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master fc95daa Jonas Schnelli: Qt/RPCConsole: Save current command entry when browsing history...
<br>
</div>

<div class='talk op-msg' data-timestamp='1483459020' id='520333'>
<a class='timestamp' href='#520333'><time timestamp='2017-01-03T15:57:00Z'>15:57</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 9044908 Jonas Schnelli: Qt/RPCConsole: Don&#x27;t store commands with potentially sensitive information in the history...
<br>
</div>

<div class='talk op-msg' data-timestamp='1483459020' id='520334'>
<a class='timestamp' href='#520334'><time timestamp='2017-01-03T15:57:00Z'>15:57</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master de8980d Luke Dashjr: Bugfix: Do not add sensitive information to history for real...
<br>
</div>

<div class='talk op-msg' data-timestamp='1483459080' id='520335'>
<a class='timestamp' href='#520335'><time timestamp='2017-01-03T15:58:00Z'>15:58</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jonasschnelli closed pull request #8877: Qt RPC console: history sensitive-data filter, and saving input line when browsing history (master...qt_console_history_filter) <a href="https://github.com/bitcoin/bitcoin/pull/8877" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8877</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1483459320' id='520336'>
<a class='timestamp' href='#520336'><time timestamp='2017-01-03T16:02:00Z'>16:02</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
#9271 needs rebase but could still get some general feedback
<br>
</div>

<div class='talk op-msg' data-timestamp='1483459320' id='520337'>
<a class='timestamp' href='#520337'><time timestamp='2017-01-03T16:02:00Z'>16:02</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/9271" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/9271</a> | An error has occurred and has been logged. Please contact this bot&#x27;s administrator for more information.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483459320' id='520338'>
<a class='timestamp' href='#520338'><time timestamp='2017-01-03T16:02:00Z'>16:02</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
can someone explain ProcessBlockAvailability? The comment for it is unclear: &quot;/** Check whether the last unknown block a peer advertised is not yet known. */&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1483459320' id='520339'>
<a class='timestamp' href='#520339'><time timestamp='2017-01-03T16:02:00Z'>16:02</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
check whether an unknown block is unknown... ok!
<br>
</div>

<div class='talk op-msg' data-timestamp='1483459500' id='520340'>
<a class='timestamp' href='#520340'><time timestamp='2017-01-03T16:05:00Z'>16:05</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
also, friendly reminder <a href="https://github.com/bitcoin/bitcoin/pull/8855" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8855</a> <a href="https://github.com/bitcoin/bitcoin/pull/9279" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9279</a> and <a href="https://github.com/bitcoin/bitcoin/pull/8498" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8498</a> still <b>*don&#x27;t*</b> need rebase
<br>
</div>

<div class='talk op-msg' data-timestamp='1483459620' id='520341'>
<a class='timestamp' href='#520341'><time timestamp='2017-01-03T16:07:00Z'>16:07</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
nevermind, think I got it
<br>
</div>

<div class='talk op-msg' data-timestamp='1483459980' id='520342'>
<a class='timestamp' href='#520342'><time timestamp='2017-01-03T16:13:00Z'>16:13</time></a>
&lt;<span class='nick nick-14'> * luke-jr</span>&gt;
rebases #9152 to add history filter before he forgets ☺
<br>
</div>

<div class='talk op-msg' data-timestamp='1483459980' id='520343'>
<a class='timestamp' href='#520343'><time timestamp='2017-01-03T16:13:00Z'>16:13</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/9152" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/9152</a> | Wallet/RPC: sweepprivkeys method to scan UTXO set and send to local wallet by luke-jr · Pull Request #9152 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1483460700' id='520344'>
<a class='timestamp' href='#520344'><time timestamp='2017-01-03T16:25:00Z'>16:25</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
cfields: hmmm...yes, re: moving the loop into net_processing I figured that was just due to not complicating that pr too much, thanks
<br>
</div>

<div class='talk op-msg' data-timestamp='1483460760' id='520345'>
<a class='timestamp' href='#520345'><time timestamp='2017-01-03T16:26:00Z'>16:26</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
BlueMatt: np, thanks for review
<br>
</div>

<div class='talk op-msg' data-timestamp='1483460760' id='520346'>
<a class='timestamp' href='#520346'><time timestamp='2017-01-03T16:26:00Z'>16:26</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
cfields: as for not having a per-node loop....hum...can we re-add it in net.cpp with two lines so that its not a (proabbly barely noticeable) regression?
<br>
</div>

<div class='talk op-msg' data-timestamp='1483460820' id='520347'>
<a class='timestamp' href='#520347'><time timestamp='2017-01-03T16:27:00Z'>16:27</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
bool fMoreNodeWork = ... while (fMoreNodeWork) ProcessMessages
<br>
</div>

<div class='talk op-msg' data-timestamp='1483460880' id='520348'>
<a class='timestamp' href='#520348'><time timestamp='2017-01-03T16:28:00Z'>16:28</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
BlueMatt: I&#x27;m not sure there&#x27;s any actual change from the current behavior
<br>
</div>

<div class='talk op-msg' data-timestamp='1483460880' id='520349'>
<a class='timestamp' href='#520349'><time timestamp='2017-01-03T16:28:00Z'>16:28</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
instagibbs: ProcessBlockAvailability is for when you get block announcements via inv (before you have the header)
<br>
</div>

<div class='talk op-msg' data-timestamp='1483460880' id='520350'>
<a class='timestamp' href='#520350'><time timestamp='2017-01-03T16:28:00Z'>16:28</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
cfields: you mean like from current master or from current pr?
<br>
</div>

<div class='talk op-msg' data-timestamp='1483460940' id='520351'>
<a class='timestamp' href='#520351'><time timestamp='2017-01-03T16:29:00Z'>16:29</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
sdaftuar: we still have crap for that? can we just remove it and replace with &quot;getheaders&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1483460940' id='520352'>
<a class='timestamp' href='#520352'><time timestamp='2017-01-03T16:29:00Z'>16:29</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
BlueMatt: oh.. it doesn&#x27;t swallow all messages at once for fairness. I&#x27;m pretty sure emptying the node&#x27;s full queue before moving on would be a DDoS vector
<br>
</div>

<div class='talk op-msg' data-timestamp='1483460940' id='520353'>
<a class='timestamp' href='#520353'><time timestamp='2017-01-03T16:29:00Z'>16:29</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
BlueMatt: from master
<br>
</div>

<div class='talk op-msg' data-timestamp='1483460940' id='520354'>
<a class='timestamp' href='#520354'><time timestamp='2017-01-03T16:29:00Z'>16:29</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
BlueMatt: i think we could!
<br>
</div>

<div class='talk op-msg' data-timestamp='1483460940' id='520355'>
<a class='timestamp' href='#520355'><time timestamp='2017-01-03T16:29:00Z'>16:29</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
BlueMatt: see the comment here: <a href="https://github.com/bitcoin/bitcoin/pull/9441/commits/99599884147ea4db3f960b0e706b039ba1553c80#r94270593" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9441/commits/99599884147ea4db3f960b0e706b039ba1553c80#r94270593</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1483461120' id='520356'>
<a class='timestamp' href='#520356'><time timestamp='2017-01-03T16:32:00Z'>16:32</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
cfields: I believe the improvements against master come largely from removing lock contention between the message processing loop and the read-from-wire loop?
<br>
</div>

<div class='talk op-msg' data-timestamp='1483461120' id='520357'>
<a class='timestamp' href='#520357'><time timestamp='2017-01-03T16:32:00Z'>16:32</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
or do I have that backwards?
<br>
</div>

<div class='talk op-msg' data-timestamp='1483461180' id='520358'>
<a class='timestamp' href='#520358'><time timestamp='2017-01-03T16:33:00Z'>16:33</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
cfields: re: swallowing from one node...that isnt how I read the old code?
<br>
</div>

<div class='talk op-msg' data-timestamp='1483461240' id='520359'>
<a class='timestamp' href='#520359'><time timestamp='2017-01-03T16:34:00Z'>16:34</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
I mean certainly if we got a packet which only had one message we&#x27;d not process more than one message at a time, but if the loop is slow to go around (it appears to be sometimes due to various messages being slow) then we might have multiple to process per-peer
<br>
</div>

<div class='talk op-msg' data-timestamp='1483461240' id='520360'>
<a class='timestamp' href='#520360'><time timestamp='2017-01-03T16:34:00Z'>16:34</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
BlueMatt: sorry, by no change in current behavior, i meant the swallowing-one-message part. Obviously fixing the lock contention is a behavioural change :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1483461240' id='520361'>
<a class='timestamp' href='#520361'><time timestamp='2017-01-03T16:34:00Z'>16:34</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
and in that case I think we&#x27;d prefer to only call SendMessages less often (though, to be fair, doing them back-to-back is less likely to be slow than otherwise)
<br>
</div>

<div class='talk op-msg' data-timestamp='1483461300' id='520362'>
<a class='timestamp' href='#520362'><time timestamp='2017-01-03T16:35:00Z'>16:35</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
BlueMatt: take a look at the current code. I really don&#x27;t think the new behavior is different, other than the case of corrupted messages
<br>
</div>

<div class='talk op-msg' data-timestamp='1483461300' id='520363'>
<a class='timestamp' href='#520363'><time timestamp='2017-01-03T16:35:00Z'>16:35</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
cfields: to answer in a different way: why do we need to change from the current behavior
<br>
</div>

<div class='talk op-msg' data-timestamp='1483461300' id='520364'>
<a class='timestamp' href='#520364'><time timestamp='2017-01-03T16:35:00Z'>16:35</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
cfields: whats the break you&#x27;re referring to in that comment?
<br>
</div>

<div class='talk op-msg' data-timestamp='1483461300' id='520365'>
<a class='timestamp' href='#520365'><time timestamp='2017-01-03T16:35:00Z'>16:35</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
(line numbers are confusing here)
<br>
</div>

<div class='talk op-msg' data-timestamp='1483461300' id='520366'>
<a class='timestamp' href='#520366'><time timestamp='2017-01-03T16:35:00Z'>16:35</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
the !message.complete() one?
<br>
</div>

<div class='talk op-msg' data-timestamp='1483461360' id='520367'>
<a class='timestamp' href='#520367'><time timestamp='2017-01-03T16:36:00Z'>16:36</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
and yes, sendmessages needs to be broken up and fixed in lots of different ways, but imo not here
<br>
</div>

<div class='talk op-msg' data-timestamp='1483461360' id='520368'>
<a class='timestamp' href='#520368'><time timestamp='2017-01-03T16:36:00Z'>16:36</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
sec     
<br>
</div>

<div class='talk op-msg' data-timestamp='1483461360' id='520369'>
<a class='timestamp' href='#520369'><time timestamp='2017-01-03T16:36:00Z'>16:36</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
definitely agreed, not here
<br>
</div>

<div class='talk op-msg' data-timestamp='1483461360' id='520370'>
<a class='timestamp' href='#520370'><time timestamp='2017-01-03T16:36:00Z'>16:36</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
BlueMatt: whoops, that should be 2538
<br>
</div>

<div class='talk op-msg' data-timestamp='1483461360' id='520371'>
<a class='timestamp' href='#520371'><time timestamp='2017-01-03T16:36:00Z'>16:36</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
just trying to figure out if re-adding a while somewhere in that pr is better or worse, since this is all we can hope for in 0.14 :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1483461360' id='520372'>
<a class='timestamp' href='#520372'><time timestamp='2017-01-03T16:36:00Z'>16:36</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
ohhhhhh, I hadnt seen /that/ break
<br>
</div>

<div class='talk op-msg' data-timestamp='1483461420' id='520373'>
<a class='timestamp' href='#520373'><time timestamp='2017-01-03T16:37:00Z'>16:37</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
yes. So the loop only continues in 2 cases, iirc.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483461420' id='520374'>
<a class='timestamp' href='#520374'><time timestamp='2017-01-03T16:37:00Z'>16:37</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
bad hash, or uhmm.. bad start chars maybe?
<br>
</div>

<div class='talk op-msg' data-timestamp='1483461420' id='520375'>
<a class='timestamp' href='#520375'><time timestamp='2017-01-03T16:37:00Z'>16:37</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
wait, so on current master we will continue the loop if the message is somehow corrupted, but otherwise wont? wtf.....
<br>
</div>

<div class='talk op-msg' data-timestamp='1483461420' id='520376'>
<a class='timestamp' href='#520376'><time timestamp='2017-01-03T16:37:00Z'>16:37</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
oh, no, just bad hash
<br>
</div>

<div class='talk op-msg' data-timestamp='1483461480' id='520377'>
<a class='timestamp' href='#520377'><time timestamp='2017-01-03T16:38:00Z'>16:38</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
yea, this makes no sense
<br>
</div>

<div class='talk op-msg' data-timestamp='1483461480' id='520378'>
<a class='timestamp' href='#520378'><time timestamp='2017-01-03T16:38:00Z'>16:38</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
BlueMatt: indeed, those are the cases that the node should be punished for, but instead they get a free pass.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483461480' id='520379'>
<a class='timestamp' href='#520379'><time timestamp='2017-01-03T16:38:00Z'>16:38</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
go figure.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483461540' id='520380'>
<a class='timestamp' href='#520380'><time timestamp='2017-01-03T16:39:00Z'>16:39</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
well, i guess if your checksum is bad its not like we did any work for you anyway...
<br>
</div>

<div class='talk op-msg' data-timestamp='1483461540' id='520381'>
<a class='timestamp' href='#520381'><time timestamp='2017-01-03T16:39:00Z'>16:39</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
sure, but that should at least toss you to the back of the line
<br>
</div>

<div class='talk op-msg' data-timestamp='1483461600' id='520382'>
<a class='timestamp' href='#520382'><time timestamp='2017-01-03T16:40:00Z'>16:40</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
BlueMatt: so you agree now that the loop behavior isn&#x27;t changed here significantly? (or, at least, only for the better?)
<br>
</div>

<div class='talk op-msg' data-timestamp='1483461660' id='520383'>
<a class='timestamp' href='#520383'><time timestamp='2017-01-03T16:41:00Z'>16:41</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
yes, agreed
<br>
</div>

<div class='talk op-msg' data-timestamp='1483461660' id='520384'>
<a class='timestamp' href='#520384'><time timestamp='2017-01-03T16:41:00Z'>16:41</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
ok     
<br>
</div>

<div class='talk op-msg' data-timestamp='1483461660' id='520385'>
<a class='timestamp' href='#520385'><time timestamp='2017-01-03T16:41:00Z'>16:41</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
I suppose I wouldnt want to go audit for whether it was a dos vuln to change it in this pr
<br>
</div>

<div class='talk op-msg' data-timestamp='1483461660' id='520386'>
<a class='timestamp' href='#520386'><time timestamp='2017-01-03T16:41:00Z'>16:41</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
so, good :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1483461720' id='520387'>
<a class='timestamp' href='#520387'><time timestamp='2017-01-03T16:42:00Z'>16:42</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
heh     
<br>
</div>

<div class='talk op-msg' data-timestamp='1483461720' id='520388'>
<a class='timestamp' href='#520388'><time timestamp='2017-01-03T16:42:00Z'>16:42</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
BlueMatt: as a follow-up for 0.14, if you&#x27;re concerned about it, we could add a quick hack to quickly exit SendMessages if it hasn&#x27;t been at least x msec since the last call
<br>
</div>

<div class='talk op-msg' data-timestamp='1483461720' id='520389'>
<a class='timestamp' href='#520389'><time timestamp='2017-01-03T16:42:00Z'>16:42</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
but i don&#x27;t think there&#x27;s any real need, since this has been the behavior all along
<br>
</div>

<div class='talk op-msg' data-timestamp='1483461840' id='520390'>
<a class='timestamp' href='#520390'><time timestamp='2017-01-03T16:44:00Z'>16:44</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
yea, I&#x27;m less concerned about that...still hoping for parallel processmessages but....that seems stretchy now :/
<br>
</div>

<div class='talk op-msg' data-timestamp='1483461840' id='520391'>
<a class='timestamp' href='#520391'><time timestamp='2017-01-03T16:44:00Z'>16:44</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
:(     
<br>
</div>

<div class='talk op-msg' data-timestamp='1483461900' id='520392'>
<a class='timestamp' href='#520392'><time timestamp='2017-01-03T16:45:00Z'>16:45</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
depends on how many reviewers pop their heads up this week, I suppose
<br>
</div>

<div class='talk op-msg' data-timestamp='1483461960' id='520393'>
<a class='timestamp' href='#520393'><time timestamp='2017-01-03T16:46:00Z'>16:46</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
BlueMatt: other than the current PRs, how much remains there? I think that 9441 should cut down on the scary races a good bit?
<br>
</div>

<div class='talk op-msg' data-timestamp='1483461960' id='520394'>
<a class='timestamp' href='#520394'><time timestamp='2017-01-03T16:46:00Z'>16:46</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
yea, I think after current PRs its just one or five std::atomics in CNode and then the one commit which fuckes around with the ProcessMessages loop
<br>
</div>

<div class='talk op-msg' data-timestamp='1483462020' id='520395'>
<a class='timestamp' href='#520395'><time timestamp='2017-01-03T16:47:00Z'>16:47</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
which would need rebased on your stuff, but probably wouldnt be too hard
<br>
</div>

<div class='talk op-msg' data-timestamp='1483462020' id='520396'>
<a class='timestamp' href='#520396'><time timestamp='2017-01-03T16:47:00Z'>16:47</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
these are atomics that fix more than just CNodeStats which has always been racy anyway?
<br>
</div>

<div class='talk op-msg' data-timestamp='1483462080' id='520397'>
<a class='timestamp' href='#520397'><time timestamp='2017-01-03T16:48:00Z'>16:48</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
I havent looked as of the latest stuff so you&#x27;d know better than I
<br>
</div>

<div class='talk op-msg' data-timestamp='1483462080' id='520398'>
<a class='timestamp' href='#520398'><time timestamp='2017-01-03T16:48:00Z'>16:48</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
I mean we should probably atomic-ify CNodeStats...
<br>
</div>

<div class='talk op-msg' data-timestamp='1483462080' id='520399'>
<a class='timestamp' href='#520399'><time timestamp='2017-01-03T16:48:00Z'>16:48</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
easy enough
<br>
</div>

<div class='talk op-msg' data-timestamp='1483462080' id='520400'>
<a class='timestamp' href='#520400'><time timestamp='2017-01-03T16:48:00Z'>16:48</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
I&#x27;ll check out your branch again
<br>
</div>

<div class='talk op-msg' data-timestamp='1483462080' id='520401'>
<a class='timestamp' href='#520401'><time timestamp='2017-01-03T16:48:00Z'>16:48</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
cool
<br>
</div>

<div class='talk op-msg' data-timestamp='1483462140' id='520402'>
<a class='timestamp' href='#520402'><time timestamp='2017-01-03T16:49:00Z'>16:49</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
I&#x27;ll probably not get much done until thurs....early flight tomorrow so will likely be super tired during the day at rwc
<br>
</div>

<div class='talk op-msg' data-timestamp='1483462140' id='520403'>
<a class='timestamp' href='#520403'><time timestamp='2017-01-03T16:49:00Z'>16:49</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
yea, I was thinking about that yesterday. I think it may make sense to just actually keep the stats in CNodeStats with one lock. See nRecvBytes as an example
<br>
</div>

<div class='talk op-msg' data-timestamp='1483462140' id='520404'>
<a class='timestamp' href='#520404'><time timestamp='2017-01-03T16:49:00Z'>16:49</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
then when we need the stats, just do a quick lock and copy out
<br>
</div>

<div class='talk op-msg' data-timestamp='1483462140' id='520405'>
<a class='timestamp' href='#520405'><time timestamp='2017-01-03T16:49:00Z'>16:49</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
iirc that like automagically ended up with lock inversions
<br>
</div>

<div class='talk op-msg' data-timestamp='1483462200' id='520406'>
<a class='timestamp' href='#520406'><time timestamp='2017-01-03T16:50:00Z'>16:50</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
i think i looked into that, but dont remember now
<br>
</div>

<div class='talk op-msg' data-timestamp='1483462200' id='520407'>
<a class='timestamp' href='#520407'><time timestamp='2017-01-03T16:50:00Z'>16:50</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
seems weird that it would, but....something something...
<br>
</div>

<div class='talk op-msg' data-timestamp='1483462200' id='520408'>
<a class='timestamp' href='#520408'><time timestamp='2017-01-03T16:50:00Z'>16:50</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
hmm, not sure how. I&#x27;ll look again
<br>
</div>

<div class='talk op-msg' data-timestamp='1483462200' id='520409'>
<a class='timestamp' href='#520409'><time timestamp='2017-01-03T16:50:00Z'>16:50</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
BlueMatt: btw, you&#x27;re good with the boost changes that 9441 include?
<br>
</div>

<div class='talk op-msg' data-timestamp='1483462260' id='520410'>
<a class='timestamp' href='#520410'><time timestamp='2017-01-03T16:51:00Z'>16:51</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
which boost changes? you mean #9289?
<br>
</div>

<div class='talk op-msg' data-timestamp='1483462260' id='520411'>
<a class='timestamp' href='#520411'><time timestamp='2017-01-03T16:51:00Z'>16:51</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
if so, mind re-acking #9289 ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1483462260' id='520412'>
<a class='timestamp' href='#520412'><time timestamp='2017-01-03T16:51:00Z'>16:51</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/9289" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/9289</a> | net: drop boost::thread_group by theuni · Pull Request #9289 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1483462260' id='520413'>
<a class='timestamp' href='#520413'><time timestamp='2017-01-03T16:51:00Z'>16:51</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/9289" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/9289</a> | net: drop boost::thread_group by theuni · Pull Request #9289 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1483462260' id='520414'>
<a class='timestamp' href='#520414'><time timestamp='2017-01-03T16:51:00Z'>16:51</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
yes     
<br>
</div>

<div class='talk op-msg' data-timestamp='1483462380' id='520415'>
<a class='timestamp' href='#520415'><time timestamp='2017-01-03T16:53:00Z'>16:53</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
aww fuck, got rebased, yea, I&#x27;m pretty sure nothing changed that I didnt think was reasonable or good...I&#x27;ll try to take another look tomorrow, but I&#x27;m pretty sure that ack is still valid
<br>
</div>

<div class='talk op-msg' data-timestamp='1483462380' id='520416'>
<a class='timestamp' href='#520416'><time timestamp='2017-01-03T16:53:00Z'>16:53</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke opened pull request #9462: [qt] Do not translate tilde character (master...Mf1701-qtTransTilde) <a href="https://github.com/bitcoin/bitcoin/pull/9462" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9462</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1483462440' id='520417'>
<a class='timestamp' href='#520417'><time timestamp='2017-01-03T16:54:00Z'>16:54</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
BlueMatt: np, thanks
<br>
</div>

<div class='talk op-msg' data-timestamp='1483462560' id='520418'>
<a class='timestamp' href='#520418'><time timestamp='2017-01-03T16:56:00Z'>16:56</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
BlueMatt: if i could fixup the racy stuff that would affect parallel processing, want me to PR? Or does that just complicate the current PR maze?
<br>
</div>

<div class='talk op-msg' data-timestamp='1483462620' id='520419'>
<a class='timestamp' href='#520419'><time timestamp='2017-01-03T16:57:00Z'>16:57</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
cfields: up to you...I had assumed you were waiting on the current prs to clean up a bit, but if you can do it without stepping on your own toes feel free
<br>
</div>

<div class='talk op-msg' data-timestamp='1483462680' id='520420'>
<a class='timestamp' href='#520420'><time timestamp='2017-01-03T16:58:00Z'>16:58</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
ok. I&#x27;ll at least try to get something ready on top of the queued-up changes. If it happens to not depend on them, I&#x27;ll go ahead and submit it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483462680' id='520421'>
<a class='timestamp' href='#520421'><time timestamp='2017-01-03T16:58:00Z'>16:58</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
sounds good, thanks
<br>
</div>

<div class='talk op-msg' data-timestamp='1483462740' id='520422'>
<a class='timestamp' href='#520422'><time timestamp='2017-01-03T16:59:00Z'>16:59</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
I&#x27;ll look into the same tomorrow on the flight if I&#x27;m not asleep the whole time
<br>
</div>

<div class='talk op-msg' data-timestamp='1483462740' id='520423'>
<a class='timestamp' href='#520423'><time timestamp='2017-01-03T16:59:00Z'>16:59</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
heh, ok
<br>
</div>

<div class='talk op-msg' data-timestamp='1483462800' id='520424'>
<a class='timestamp' href='#520424'><time timestamp='2017-01-03T17:00:00Z'>17:00</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
ehh, by &quot;the same&quot; I meant redoing the parallel-processmessages pr
<br>
</div>

<div class='talk op-msg' data-timestamp='1483462800' id='520425'>
<a class='timestamp' href='#520425'><time timestamp='2017-01-03T17:00:00Z'>17:00</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
that was super unclear....
<br>
</div>

<div class='talk op-msg' data-timestamp='1483464600' id='520426'>
<a class='timestamp' href='#520426'><time timestamp='2017-01-03T17:30:00Z'>17:30</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
is there a plan for multiwallet for 0.14, or is it too late
<br>
</div>

<div class='talk op-msg' data-timestamp='1483464900' id='520427'>
<a class='timestamp' href='#520427'><time timestamp='2017-01-03T17:35:00Z'>17:35</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
we&#x27;re not at the feature freeze yet, and it seems done +/- things that need to be fixed due to review.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483464900' id='520428'>
<a class='timestamp' href='#520428'><time timestamp='2017-01-03T17:35:00Z'>17:35</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Several people have said they would review it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483464900' id='520429'>
<a class='timestamp' href='#520429'><time timestamp='2017-01-03T17:35:00Z'>17:35</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
It would be really great it multiwallet and the utxo scriptpubkey index could make it in.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483465320' id='520430'>
<a class='timestamp' href='#520430'><time timestamp='2017-01-03T17:42:00Z'>17:42</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
#8694 needs rebase though
<br>
</div>

<div class='talk op-msg' data-timestamp='1483465320' id='520431'>
<a class='timestamp' href='#520431'><time timestamp='2017-01-03T17:42:00Z'>17:42</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/8694" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/8694</a> | Basic multiwallet support by luke-jr · Pull Request #8694 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1483465440' id='520432'>
<a class='timestamp' href='#520432'><time timestamp='2017-01-03T17:44:00Z'>17:44</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
instagibbs: #8776 goes first
<br>
</div>

<div class='talk op-msg' data-timestamp='1483465440' id='520433'>
<a class='timestamp' href='#520433'><time timestamp='2017-01-03T17:44:00Z'>17:44</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/8776" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/8776</a> | Wallet refactoring leading up to multiwallet by luke-jr · Pull Request #8776 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1483465440' id='520434'>
<a class='timestamp' href='#520434'><time timestamp='2017-01-03T17:44:00Z'>17:44</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
ok, ill review
<br>
</div>

<div class='talk op-msg' data-timestamp='1483465500' id='520435'>
<a class='timestamp' href='#520435'><time timestamp='2017-01-03T17:45:00Z'>17:45</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
actually #8776 looks ready to merge. 3 reviews already
<br>
</div>

<div class='talk op-msg' data-timestamp='1483465500' id='520436'>
<a class='timestamp' href='#520436'><time timestamp='2017-01-03T17:45:00Z'>17:45</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/8776" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/8776</a> | Wallet refactoring leading up to multiwallet by luke-jr · Pull Request #8776 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1483465500' id='520437'>
<a class='timestamp' href='#520437'><time timestamp='2017-01-03T17:45:00Z'>17:45</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
yes we know gribble --.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483465740' id='520438'>
<a class='timestamp' href='#520438'><time timestamp='2017-01-03T17:49:00Z'>17:49</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
luke-jr: good time to go rebase 8694 then :p
<br>
</div>

<div class='talk op-msg' data-timestamp='1483465740' id='520439'>
<a class='timestamp' href='#520439'><time timestamp='2017-01-03T17:49:00Z'>17:49</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
sure
<br>
</div>

<div class='talk op-msg' data-timestamp='1483465860' id='520440'>
<a class='timestamp' href='#520440'><time timestamp='2017-01-03T17:51:00Z'>17:51</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
oh, need #8775 still as well
<br>
</div>

<div class='talk op-msg' data-timestamp='1483465860' id='520441'>
<a class='timestamp' href='#520441'><time timestamp='2017-01-03T17:51:00Z'>17:51</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/8775" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/8775</a> | RPC refactoring: Access wallet using new GetWalletForJSONRPCRequest by luke-jr · Pull Request #8775 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1483465920' id='520442'>
<a class='timestamp' href='#520442'><time timestamp='2017-01-03T17:52:00Z'>17:52</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
instagibbs: ^ could use review
<br>
</div>

<div class='talk op-msg' data-timestamp='1483466580' id='520443'>
<a class='timestamp' href='#520443'><time timestamp='2017-01-03T18:03:00Z'>18:03</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
(once those two get in, looks reasonable to split up 8694 further into base/Qt/RPC PRs)
<br>
</div>

<div class='talk op-msg' data-timestamp='1483474140' id='520444'>
<a class='timestamp' href='#520444'><time timestamp='2017-01-03T20:09:00Z'>20:09</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
BlueMatt: if I understand 9375 correctly, I think that when there is a fork, and some nodes have tip A and others tip B, #9375 would cause all nodes to end up downloading both A and B.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483474140' id='520445'>
<a class='timestamp' href='#520445'><time timestamp='2017-01-03T20:09:00Z'>20:09</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/9375" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/9375</a> | Relay compact block messages prior to full block connection by TheBlueMatt · Pull Request #9375 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1483474200' id='520446'>
<a class='timestamp' href='#520446'><time timestamp='2017-01-03T20:10:00Z'>20:10</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
i guess that could result in a testnet DoS vector?
<br>
</div>

<div class='talk op-msg' data-timestamp='1483474200' id='520447'>
<a class='timestamp' href='#520447'><time timestamp='2017-01-03T20:10:00Z'>20:10</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
maybe that&#x27;s the least of our testnet problems though
<br>
</div>

<div class='talk op-msg' data-timestamp='1483480320' id='520448'>
<a class='timestamp' href='#520448'><time timestamp='2017-01-03T21:52:00Z'>21:52</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] sipa pushed 3 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/6dc4c43d326e...ce5c1f4acae4" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/6dc4c43d326e...ce5c1f4acae4</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1483480320' id='520449'>
<a class='timestamp' href='#520449'><time timestamp='2017-01-03T21:52:00Z'>21:52</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 680b0c0 Suhas Daftuar: Release cs_main before calling ProcessNewBlock (cmpctblock handling)
<br>
</div>

<div class='talk op-msg' data-timestamp='1483480320' id='520450'>
<a class='timestamp' href='#520450'><time timestamp='2017-01-03T21:52:00Z'>21:52</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master bd02bdd Suhas Daftuar: Release cs_main before processing cmpctblock as header
<br>
</div>

<div class='talk op-msg' data-timestamp='1483480320' id='520451'>
<a class='timestamp' href='#520451'><time timestamp='2017-01-03T21:52:00Z'>21:52</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master ce5c1f4 Pieter Wuille: Merge #9252: Release cs_main before calling ProcessNewBlock, or processing headers (cmpctblock handling)...
<br>
</div>

<div class='talk op-msg' data-timestamp='1483480320' id='520452'>
<a class='timestamp' href='#520452'><time timestamp='2017-01-03T21:52:00Z'>21:52</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] sipa closed pull request #9252: Release cs_main before calling ProcessNewBlock, or processing headers (cmpctblock handling) (master...cb-lock) <a href="https://github.com/bitcoin/bitcoin/pull/9252" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9252</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1483481460' id='520453'>
<a class='timestamp' href='#520453'><time timestamp='2017-01-03T22:11:00Z'>22:11</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] sipa pushed 3 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/ce5c1f4acae4...2a524b8e8fe6" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/ce5c1f4acae4...2a524b8e8fe6</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1483481460' id='520454'>
<a class='timestamp' href='#520454'><time timestamp='2017-01-03T22:11:00Z'>22:11</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master fb0c934 Luke Dashjr: Wallet: Let the interval-flushing thread figure out the filename
<br>
</div>

<div class='talk op-msg' data-timestamp='1483481460' id='520455'>
<a class='timestamp' href='#520455'><time timestamp='2017-01-03T22:11:00Z'>22:11</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 5394b39 Luke Dashjr: Wallet: Split main logic from InitLoadWallet into CreateWalletFromFile
<br>
</div>

<div class='talk op-msg' data-timestamp='1483481460' id='520456'>
<a class='timestamp' href='#520456'><time timestamp='2017-01-03T22:11:00Z'>22:11</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 2a524b8 Pieter Wuille: Merge #8776: Wallet refactoring leading up to multiwallet...
<br>
</div>

<div class='talk op-msg' data-timestamp='1483481700' id='520457'>
<a class='timestamp' href='#520457'><time timestamp='2017-01-03T22:15:00Z'>22:15</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
\O/     
<br>
</div>

<div class='talk op-msg' data-timestamp='1483482660' id='520458'>
<a class='timestamp' href='#520458'><time timestamp='2017-01-03T22:31:00Z'>22:31</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
Can we have OP_1NEGATE used as a push op code for witness program versioning?
<br>
</div>

<div class='talk op-msg' data-timestamp='1483482720' id='520459'>
<a class='timestamp' href='#520459'><time timestamp='2017-01-03T22:32:00Z'>22:32</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
no, only OP_0, and OP_1..OP_16
<br>
</div>

<div class='talk op-msg' data-timestamp='1483482840' id='520460'>
<a class='timestamp' href='#520460'><time timestamp='2017-01-03T22:34:00Z'>22:34</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
Interesting, thanks sipa 
<br>
</div>

<div class='talk op-msg' data-timestamp='1483482900' id='520461'>
<a class='timestamp' href='#520461'><time timestamp='2017-01-03T22:35:00Z'>22:35</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
Actually, is there any reason for this?
<br>
</div>

<div class='talk op-msg' data-timestamp='1483482900' id='520462'>
<a class='timestamp' href='#520462'><time timestamp='2017-01-03T22:35:00Z'>22:35</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
not really
<br>
</div>

<div class='talk op-msg' data-timestamp='1483482900' id='520463'>
<a class='timestamp' href='#520463'><time timestamp='2017-01-03T22:35:00Z'>22:35</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it was considered sufficient :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1483483080' id='520464'>
<a class='timestamp' href='#520464'><time timestamp='2017-01-03T22:38:00Z'>22:38</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
by some* maybe; IMO it was overlooked.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483483200' id='520465'>
<a class='timestamp' href='#520465'><time timestamp='2017-01-03T22:40:00Z'>22:40</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
Defintely a protocol &#x27;quirk&#x27; since the BIP does say &#x27;1 byte push opcodes&#x27; 
<br>
</div>

<div class='talk op-msg' data-timestamp='1483483200' id='520466'>
<a class='timestamp' href='#520466'><time timestamp='2017-01-03T22:40:00Z'>22:40</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
not worth the effort to fix at this point though
<br>
</div>

<div class='talk op-msg' data-timestamp='1483483260' id='520467'>
<a class='timestamp' href='#520467'><time timestamp='2017-01-03T22:41:00Z'>22:41</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
fix the bip :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1483483260' id='520468'>
<a class='timestamp' href='#520468'><time timestamp='2017-01-03T22:41:00Z'>22:41</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
(to match the code)
<br>
</div>

<div class='talk op-msg' data-timestamp='1483483260' id='520469'>
<a class='timestamp' href='#520469'><time timestamp='2017-01-03T22:41:00Z'>22:41</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
but it is so much easier to criticize! :P. I&#x27;ll submit a pull req later.. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1483483500' id='520470'>
<a class='timestamp' href='#520470'><time timestamp='2017-01-03T22:45:00Z'>22:45</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
thanks!
<br>
</div>

<div class='talk op-msg' data-timestamp='1483485120' id='520471'>
<a class='timestamp' href='#520471'><time timestamp='2017-01-03T23:12:00Z'>23:12</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
Chris_Stewart_5: the BIP clearly says &quot;for 0 to 16&quot;, no?
<br>
</div>

<div class='talk op-msg' data-timestamp='1483485120' id='520472'>
<a class='timestamp' href='#520472'><time timestamp='2017-01-03T23:12:00Z'>23:12</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
(i missed that when suggesting you send a PR, sorry)
<br>
</div>

<div class='talk op-msg' data-timestamp='1483485120' id='520473'>
<a class='timestamp' href='#520473'><time timestamp='2017-01-03T23:12:00Z'>23:12</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
sipa: What is &#x27;0 to 16&#x27;? Bytes? Technically OP_1 is 0x51 
<br>
</div>

<div class='talk op-msg' data-timestamp='1483485180' id='520474'>
<a class='timestamp' href='#520474'><time timestamp='2017-01-03T23:13:00Z'>23:13</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
I don&#x27;t like the wording in that regard either. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1483485180' id='520475'>
<a class='timestamp' href='#520475'><time timestamp='2017-01-03T23:13:00Z'>23:13</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
the value being pushed
<br>
</div>

<div class='talk op-msg' data-timestamp='1483485180' id='520476'>
<a class='timestamp' href='#520476'><time timestamp='2017-01-03T23:13:00Z'>23:13</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
Why not explicitly state what ops they are?
<br>
</div>

<div class='talk op-msg' data-timestamp='1483485180' id='520477'>
<a class='timestamp' href='#520477'><time timestamp='2017-01-03T23:13:00Z'>23:13</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sure
<br>
</div>

<div class='talk op-msg' data-timestamp='1483485180' id='520478'>
<a class='timestamp' href='#520478'><time timestamp='2017-01-03T23:13:00Z'>23:13</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i trying to find the misunderstanding
<br>
</div>

<div class='talk op-msg' data-timestamp='1483485180' id='520479'>
<a class='timestamp' href='#520479'><time timestamp='2017-01-03T23:13:00Z'>23:13</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
instead having to do the conversion in your head?
<br>
</div>

<div class='talk op-msg' data-timestamp='1483485180' id='520480'>
<a class='timestamp' href='#520480'><time timestamp='2017-01-03T23:13:00Z'>23:13</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
if it isn&#x27;t clear, reformulating helps
<br>
</div>

<div class='talk op-msg' data-timestamp='1483485240' id='520481'>
<a class='timestamp' href='#520481'><time timestamp='2017-01-03T23:14:00Z'>23:14</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
I don&#x27;t think I have a misunderstanding per se, but I think can be clearer. Instead of having to infer the op codes from the text I think they should just be explicitly stated
<br>
</div>

<div class='talk op-msg' data-timestamp='1483485240' id='520482'>
<a class='timestamp' href='#520482'><time timestamp='2017-01-03T23:14:00Z'>23:14</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
Plus it falls more inline with the actual implementation IMO
<br>
</div>

<div class='talk op-msg' data-timestamp='1483485240' id='520483'>
<a class='timestamp' href='#520483'><time timestamp='2017-01-03T23:14:00Z'>23:14</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
fair enough
<br>
</div>

<div class='talk op-msg' data-timestamp='1483485420' id='520484'>
<a class='timestamp' href='#520484'><time timestamp='2017-01-03T23:17:00Z'>23:17</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
sipa You shouldn&#x27;t see significant speedup with #8610 if you have a large -dbcache set (like 2048), should you?
<br>
</div>

<div class='talk op-msg' data-timestamp='1483485420' id='520485'>
<a class='timestamp' href='#520485'><time timestamp='2017-01-03T23:17:00Z'>23:17</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/8610" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/8610</a> | Share unused mempool memory with coincache by sipa · Pull Request #8610 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1483485420' id='520486'>
<a class='timestamp' href='#520486'><time timestamp='2017-01-03T23:17:00Z'>23:17</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
fanquake: depends how large, but the effect should certainly be less dramativ
<br>
</div>

<div class='talk op-msg' data-timestamp='1483485420' id='520487'>
<a class='timestamp' href='#520487'><time timestamp='2017-01-03T23:17:00Z'>23:17</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
*dramatic
<br>
</div>

<div class='talk op-msg' data-timestamp='1483485540' id='520488'>
<a class='timestamp' href='#520488'><time timestamp='2017-01-03T23:19:00Z'>23:19</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
Ok. Just ran through with -dbcache=2048 on master and that PR. Both basically the same (~800s) to reindex to 280k blocks.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483485540' id='520489'>
<a class='timestamp' href='#520489'><time timestamp='2017-01-03T23:19:00Z'>23:19</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
I think I&#x27;ll run through again without uping the dbcache at all. That seemed to show the most significant speedup.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483485660' id='520490'>
<a class='timestamp' href='#520490'><time timestamp='2017-01-03T23:21:00Z'>23:21</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
if you set dbcache to 10 i&#x27;m sure the difference will be spectacular :D
<br>
</div>

<div class='talk op-msg' data-timestamp='1483485720' id='520491'>
<a class='timestamp' href='#520491'><time timestamp='2017-01-03T23:22:00Z'>23:22</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
Chris_Stewart_5: adding &quot;valid&quot; seems to make it less clear IMO
<br>
</div>

<div class='talk op-msg' data-timestamp='1483485780' id='520492'>
<a class='timestamp' href='#520492'><time timestamp='2017-01-03T23:23:00Z'>23:23</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
luke-jr: How so? A invalid 1 byte op code is OP_1NEGATE
<br>
</div>

<div class='talk op-msg' data-timestamp='1483485780' id='520493'>
<a class='timestamp' href='#520493'><time timestamp='2017-01-03T23:23:00Z'>23:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
how about &quot;a select subset of 1-byte push opcodes&quot; ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1483485780' id='520494'>
<a class='timestamp' href='#520494'><time timestamp='2017-01-03T23:23:00Z'>23:23</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
before it was a blanket statement, a &#x27;one byte push op code&#x27; or something like that
<br>
</div>

<div class='talk op-msg' data-timestamp='1483485780' id='520495'>
<a class='timestamp' href='#520495'><time timestamp='2017-01-03T23:23:00Z'>23:23</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
heh yes I&#x27;m sure it would. When I first tested with 300mb dbcache there was something like a 30% speedup.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483485780' id='520496'>
<a class='timestamp' href='#520496'><time timestamp='2017-01-03T23:23:00Z'>23:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
oh, and OP_0 is not a 1-byte push
<br>
</div>

<div class='talk op-msg' data-timestamp='1483485840' id='520497'>
<a class='timestamp' href='#520497'><time timestamp='2017-01-03T23:24:00Z'>23:24</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
oo interesting
<br>
</div>

<div class='talk op-msg' data-timestamp='1483485840' id='520498'>
<a class='timestamp' href='#520498'><time timestamp='2017-01-03T23:24:00Z'>23:24</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
good point :/ 
<br>
</div>

<div class='talk op-msg' data-timestamp='1483485840' id='520499'>
<a class='timestamp' href='#520499'><time timestamp='2017-01-03T23:24:00Z'>23:24</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
fanquake: if you feel like benchmarking, i have a few more utxo cache changes to test coming up :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1483485960' id='520500'>
<a class='timestamp' href='#520500'><time timestamp='2017-01-03T23:26:00Z'>23:26</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
sipa sure
<br>
</div>

<div class='talk op-msg' data-timestamp='1483485960' id='520501'>
<a class='timestamp' href='#520501'><time timestamp='2017-01-03T23:26:00Z'>23:26</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
sipa: Then maybe just a &#x27;select set of op codes&#x27; and then enumerate them like I have?
<br>
</div>

<div class='talk op-msg' data-timestamp='1483486020' id='520502'>
<a class='timestamp' href='#520502'><time timestamp='2017-01-03T23:27:00Z'>23:27</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
Chris_Stewart_5: sgtm
<br>
</div>

<div class='talk op-msg' data-timestamp='1483486080' id='520503'>
<a class='timestamp' href='#520503'><time timestamp='2017-01-03T23:28:00Z'>23:28</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
Chris_Stewart_5: OP_1NEGATE is valid though
<br>
</div>

<div class='talk op-msg' data-timestamp='1483486080' id='520504'>
<a class='timestamp' href='#520504'><time timestamp='2017-01-03T23:28:00Z'>23:28</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
it&#x27;s just not matched for witness purposes
<br>
</div>

<div class='talk op-msg' data-timestamp='1483486140' id='520505'>
<a class='timestamp' href='#520505'><time timestamp='2017-01-03T23:29:00Z'>23:29</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
(*this)[0] &lt; OP_1 does it fail this predicate? 
<br>
</div>

<div class='talk op-msg' data-timestamp='1483486260' id='520506'>
<a class='timestamp' href='#520506'><time timestamp='2017-01-03T23:31:00Z'>23:31</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
luke-jr: Here: <a href="https://github.com/bitcoin/bitcoin/blob/14d01309bed59afb08651f2b701ff90371b15b20/src/script/script.cpp#L228" class="link" target="_blank">https://github.com/bitcoin/bitcoin/blob/14d01309bed59afb08651f2b701ff90371b15b20/src/script/script.cpp#L228</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1483486320' id='520507'>
<a class='timestamp' href='#520507'><time timestamp='2017-01-03T23:32:00Z'>23:32</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
Chris_Stewart_5: depends what *this is...
<br>
</div>

<div class='talk op-msg' data-timestamp='1483486440' id='520508'>
<a class='timestamp' href='#520508'><time timestamp='2017-01-03T23:34:00Z'>23:34</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
sdaftuar: yes, your comment about only calling NewPoWValidBlock on things that are better than our current tip is a good one
<br>
</div>

<div class='talk op-msg' data-timestamp='1483486440' id='520509'>
<a class='timestamp' href='#520509'><time timestamp='2017-01-03T23:34:00Z'>23:34</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
sdaftuar: and build on our tip
<br>
</div>

<div class='talk op-msg' data-timestamp='1483486560' id='520510'>
<a class='timestamp' href='#520510'><time timestamp='2017-01-03T23:36:00Z'>23:36</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
sdaftuar: re: <a href="https://github.com/bitcoin/bitcoin/pull/9375#discussion_r94483881" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9375#discussion_r94483881</a> I think I&#x27;m missing your point here? did you mean to comment a bit further down where the check is to set bool send?
<br>
</div>

</div>
</section>

</body>
</html>
