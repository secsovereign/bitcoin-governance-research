<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2016-11-28
 — 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2016-11-28' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:25 UTC</pre>
<pre><a href="/bitcoin-core-dev/2016-10-28">&lt;</a><span class='header'>  November 2016   </span><a href="/bitcoin-core-dev/2016-12-28">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;       <a class="" href="/bitcoin-core-dev/2016-11-01">1</a>  <a class="" href="/bitcoin-core-dev/2016-11-02">2</a>  <a class="" href="/bitcoin-core-dev/2016-11-03">3</a>  <a class="" href="/bitcoin-core-dev/2016-11-04">4</a>  <a class="" href="/bitcoin-core-dev/2016-11-05">5</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2016-11-06">6</a>  <a class="" href="/bitcoin-core-dev/2016-11-07">7</a>  <a class="" href="/bitcoin-core-dev/2016-11-08">8</a>  <a class="" href="/bitcoin-core-dev/2016-11-09">9</a> <a class="" href="/bitcoin-core-dev/2016-11-10">10</a> <a class="" href="/bitcoin-core-dev/2016-11-11">11</a> <a class="" href="/bitcoin-core-dev/2016-11-12">12</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2016-11-13">13</a> <a class="" href="/bitcoin-core-dev/2016-11-14">14</a> <a class="" href="/bitcoin-core-dev/2016-11-15">15</a> <a class="" href="/bitcoin-core-dev/2016-11-16">16</a> <a class="" href="/bitcoin-core-dev/2016-11-17">17</a> <a class="" href="/bitcoin-core-dev/2016-11-18">18</a> <a class="" href="/bitcoin-core-dev/2016-11-19">19</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2016-11-20">20</a> <a class="" href="/bitcoin-core-dev/2016-11-21">21</a> <a class="" href="/bitcoin-core-dev/2016-11-22">22</a> <a class="" href="/bitcoin-core-dev/2016-11-23">23</a> <a class="" href="/bitcoin-core-dev/2016-11-24">24</a> <a class="" href="/bitcoin-core-dev/2016-11-25">25</a> <a class="" href="/bitcoin-core-dev/2016-11-26">26</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2016-11-27">27</a> <a class="current" href="/bitcoin-core-dev/2016-11-28">28</a> <a class="" href="/bitcoin-core-dev/2016-11-29">29</a> <a class="" href="/bitcoin-core-dev/2016-11-30">30</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1480309680' id='513565'>
<a class='timestamp' href='#513565'><time timestamp='2016-11-28T05:08:00Z'>05:08</time></a>
&lt;<span class='nick nick-11'> jl2012</span>&gt;
i need to do some debug. How could I make it to print all p2p messages to the log?
<br>
</div>

<div class='talk op-msg' data-timestamp='1480309740' id='513566'>
<a class='timestamp' href='#513566'><time timestamp='2016-11-28T05:09:00Z'>05:09</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
jl2012: -debug=net
<br>
</div>

<div class='talk op-msg' data-timestamp='1480309740' id='513567'>
<a class='timestamp' href='#513567'><time timestamp='2016-11-28T05:09:00Z'>05:09</time></a>
&lt;<span class='nick nick-11'> jl2012</span>&gt;
thanks!
<br>
</div>

<div class='talk op-msg' data-timestamp='1480310280' id='513568'>
<a class='timestamp' href='#513568'><time timestamp='2016-11-28T05:18:00Z'>05:18</time></a>
&lt;<span class='nick nick-11'> jl2012</span>&gt;
achow101: what if I also want to see the full messages, such as the block data being sent?
<br>
</div>

<div class='talk op-msg' data-timestamp='1480310340' id='513569'>
<a class='timestamp' href='#513569'><time timestamp='2016-11-28T05:19:00Z'>05:19</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
I don&#x27;t think there is an option to log all of that. you can wireshark it though
<br>
</div>

<div class='talk op-msg' data-timestamp='1480316160' id='513570'>
<a class='timestamp' href='#513570'><time timestamp='2016-11-28T06:56:00Z'>06:56</time></a>
&lt;<span class='nick nick-6'> shangzhou</span>&gt;
2:34 PM &lt;wumpus&gt; shangzhou: it has no (ut)ACKs at all,certainly still needs review
<br>
</div>

<div class='talk op-msg' data-timestamp='1480316280' id='513571'>
<a class='timestamp' href='#513571'><time timestamp='2016-11-28T06:58:00Z'>06:58</time></a>
&lt;<span class='nick nick-6'> shangzhou</span>&gt;
wumpus: #9037 just a reminder :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1480316280' id='513572'>
<a class='timestamp' href='#513572'><time timestamp='2016-11-28T06:58:00Z'>06:58</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/9037" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/9037</a> | net: Add test-before-evict discipline to addrman by EthanHeilman · Pull Request #9037 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1480316340' id='513573'>
<a class='timestamp' href='#513573'><time timestamp='2016-11-28T06:59:00Z'>06:59</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
shangzhou: it still has no ACKs, so is by no means ready for merging, no need to remind me of it
<br>
</div>

<div class='talk op-msg' data-timestamp='1480316340' id='513574'>
<a class='timestamp' href='#513574'><time timestamp='2016-11-28T06:59:00Z'>06:59</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
(well it has kazcw&#x27;s but it was there last time IIRC)
<br>
</div>

<div class='talk op-msg' data-timestamp='1480316400' id='513575'>
<a class='timestamp' href='#513575'><time timestamp='2016-11-28T07:00:00Z'>07:00</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
would be great if people reviewed it ofc
<br>
</div>

<div class='talk op-msg' data-timestamp='1480316400' id='513576'>
<a class='timestamp' href='#513576'><time timestamp='2016-11-28T07:00:00Z'>07:00</time></a>
&lt;<span class='nick nick-6'> shangzhou</span>&gt;
Ok thanks
<br>
</div>

<div class='talk op-msg' data-timestamp='1480316460' id='513577'>
<a class='timestamp' href='#513577'><time timestamp='2016-11-28T07:01:00Z'>07:01</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
but I&#x27;m perfectly able to revisit pull requests that still haven&#x27;t moved forward, while I tend to miss the ones which everybody (TM) acked and should be merged, that&#x27;s why I asked people
<br>
</div>

<div class='talk op-msg' data-timestamp='1480319400' id='513578'>
<a class='timestamp' href='#513578'><time timestamp='2016-11-28T07:50:00Z'>07:50</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
wumpus: re: #9229 yes, but the fix should be fixing the autotools detection of inet_pton, not continuing to work around it?
<br>
</div>

<div class='talk op-msg' data-timestamp='1480319400' id='513579'>
<a class='timestamp' href='#513579'><time timestamp='2016-11-28T07:50:00Z'>07:50</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/9229" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/9229</a> | Remove calls to getaddrinfo_a by TheBlueMatt · Pull Request #9229 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1480319400' id='513580'>
<a class='timestamp' href='#513580'><time timestamp='2016-11-28T07:50:00Z'>07:50</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
(or are you suggesting just remove that codeblock?0
<br>
</div>

<div class='talk op-msg' data-timestamp='1480320240' id='513581'>
<a class='timestamp' href='#513581'><time timestamp='2016-11-28T08:04:00Z'>08:04</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
(though its also weird we have so many ifdef branches there....)
<br>
</div>

<div class='talk op-msg' data-timestamp='1480321080' id='513582'>
<a class='timestamp' href='#513582'><time timestamp='2016-11-28T08:18:00Z'>08:18</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
BlueMatt: Haven&#x27;t really looked at this, but AFAIK libevent provides portable wrappers for some of those functions..
<br>
</div>

<div class='talk op-msg' data-timestamp='1480321080' id='513583'>
<a class='timestamp' href='#513583'><time timestamp='2016-11-28T08:18:00Z'>08:18</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
jonasschnelli: yes, eventually we should switch everything to libevent...for now, lets just fix the segfault in a backport-able way :p
<br>
</div>

<div class='talk op-msg' data-timestamp='1480321140' id='513584'>
<a class='timestamp' href='#513584'><time timestamp='2016-11-28T08:19:00Z'>08:19</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Yes. Makes sense.
<br>
</div>

<div class='talk op-msg' data-timestamp='1480321740' id='513585'>
<a class='timestamp' href='#513585'><time timestamp='2016-11-28T08:29:00Z'>08:29</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] fsb4000 opened pull request #9233: Fix some typos (master...master) <a href="https://github.com/bitcoin/bitcoin/pull/9233" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9233</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1480323660' id='513586'>
<a class='timestamp' href='#513586'><time timestamp='2016-11-28T09:01:00Z'>09:01</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
the getaddrinfo_a issue is curious, I have a nagging feeling we&#x27;re just using it wrong, it&#x27;s hard to believe a standard library function to be so trivially broken. Then again, in that case it makes sense to replace its usage too.
<br>
</div>

<div class='talk op-msg' data-timestamp='1480326300' id='513587'>
<a class='timestamp' href='#513587'><time timestamp='2016-11-28T09:45:00Z'>09:45</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
BlueMatt: I&#x27;m not suggesting any specific fix, just trying to figure out what is going wrong in the first place
<br>
</div>

<div class='talk op-msg' data-timestamp='1480326300' id='513588'>
<a class='timestamp' href='#513588'><time timestamp='2016-11-28T09:45:00Z'>09:45</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
BlueMatt: using inet_pton on systems that actually have it is great, I don&#x27;t know why it falsely detects its presence on windows
<br>
</div>

<div class='talk op-msg' data-timestamp='1480326420' id='513589'>
<a class='timestamp' href='#513589'><time timestamp='2016-11-28T09:47:00Z'>09:47</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
only on windows <b>*64 bit*</b> at that
<br>
</div>

<div class='talk op-msg' data-timestamp='1480327080' id='513590'>
<a class='timestamp' href='#513590'><time timestamp='2016-11-28T09:58:00Z'>09:58</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
wumpus looks like pretty much all the code in 9229 was introduced in #4421
<br>
</div>

<div class='talk op-msg' data-timestamp='1480327080' id='513591'>
<a class='timestamp' href='#513591'><time timestamp='2016-11-28T09:58:00Z'>09:58</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/4421" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/4421</a> | Use async name resolving to improve net thread responsiveness by 4tar · Pull Request #4421 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1480327260' id='513592'>
<a class='timestamp' href='#513592'><time timestamp='2016-11-28T10:01:00Z'>10:01</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
fanquake: indeed, good find
<br>
</div>

<div class='talk op-msg' data-timestamp='1480327800' id='513593'>
<a class='timestamp' href='#513593'><time timestamp='2016-11-28T10:10:00Z'>10:10</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
wumpus re &#x27;none required&#x27;, see <a href="https://www.gnu.org/software/autoconf/manual/autoconf-2.69/html_node/Libraries.html" class="link" target="_blank">https://www.gnu.org/software/autoconf/manual/autoconf-2.69/html_node/Libraries.html</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1480327800' id='513594'>
<a class='timestamp' href='#513594'><time timestamp='2016-11-28T10:10:00Z'>10:10</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
&quot;The result of this test is cached in the ac_cv_search_function variable as ‘none required’ if function is already available&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1480332960' id='513595'>
<a class='timestamp' href='#513595'><time timestamp='2016-11-28T11:36:00Z'>11:36</time></a>
&lt;<span class='nick nick-11'> jl2012</span>&gt;
where is the code for sending block to another node through p2p network?
<br>
</div>

<div class='talk op-msg' data-timestamp='1480340700' id='513596'>
<a class='timestamp' href='#513596'><time timestamp='2016-11-28T13:45:00Z'>13:45</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
jl2012: have a look at ProcessGetData in main.cpp
<br>
</div>

<div class='talk op-msg' data-timestamp='1480340700' id='513597'>
<a class='timestamp' href='#513597'><time timestamp='2016-11-28T13:45:00Z'>13:45</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
There is a if (inv.type == MSG_BLOCK)
<br>
</div>

<div class='talk op-msg' data-timestamp='1480345740' id='513598'>
<a class='timestamp' href='#513598'><time timestamp='2016-11-28T15:09:00Z'>15:09</time></a>
&lt;<span class='nick nick-8'> timothy</span>&gt;
may I ask an &quot;ethic&quot; question?
<br>
</div>

<div class='talk op-msg' data-timestamp='1480349820' id='513599'>
<a class='timestamp' href='#513599'><time timestamp='2016-11-28T16:17:00Z'>16:17</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj opened pull request #9234: torcontrol: Explicitly request RSA1024 private key (master...2016_11_torcontrol_key_ttpe) <a href="https://github.com/bitcoin/bitcoin/pull/9234" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9234</a>
<br>
</div>

</div>
</section>

</body>
</html>
