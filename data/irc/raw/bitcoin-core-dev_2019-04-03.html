<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2019-04-03
 — 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2019-04-03' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:20 UTC</pre>
<pre><a href="/bitcoin-core-dev/2019-03-03">&lt;</a><span class='header'>    April 2019    </span><a href="/bitcoin-core-dev/2019-05-03">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;    <a class="" href="/bitcoin-core-dev/2019-04-01">1</a>  <a class="" href="/bitcoin-core-dev/2019-04-02">2</a>  <a class="current" href="/bitcoin-core-dev/2019-04-03">3</a>  <a class="" href="/bitcoin-core-dev/2019-04-04">4</a>  <a class="" href="/bitcoin-core-dev/2019-04-05">5</a>  <a class="" href="/bitcoin-core-dev/2019-04-06">6</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2019-04-07">7</a>  <a class="" href="/bitcoin-core-dev/2019-04-08">8</a>  <a class="" href="/bitcoin-core-dev/2019-04-09">9</a> <a class="" href="/bitcoin-core-dev/2019-04-10">10</a> <a class="" href="/bitcoin-core-dev/2019-04-11">11</a> <a class="" href="/bitcoin-core-dev/2019-04-12">12</a> <a class="" href="/bitcoin-core-dev/2019-04-13">13</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2019-04-14">14</a> <a class="" href="/bitcoin-core-dev/2019-04-15">15</a> <a class="" href="/bitcoin-core-dev/2019-04-16">16</a> <a class="" href="/bitcoin-core-dev/2019-04-17">17</a> <a class="" href="/bitcoin-core-dev/2019-04-18">18</a> <a class="" href="/bitcoin-core-dev/2019-04-19">19</a> <a class="" href="/bitcoin-core-dev/2019-04-20">20</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2019-04-21">21</a> <a class="" href="/bitcoin-core-dev/2019-04-22">22</a> <a class="" href="/bitcoin-core-dev/2019-04-23">23</a> <a class="" href="/bitcoin-core-dev/2019-04-24">24</a> <a class="" href="/bitcoin-core-dev/2019-04-25">25</a> <a class="" href="/bitcoin-core-dev/2019-04-26">26</a> <a class="" href="/bitcoin-core-dev/2019-04-27">27</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2019-04-28">28</a> <a class="" href="/bitcoin-core-dev/2019-04-29">29</a> <a class="" href="/bitcoin-core-dev/2019-04-30">30</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1554251820' id='661265'>
<a class='timestamp' href='#661265'><time timestamp='2019-04-03T00:37:00Z'>00:37</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
hmmm, can someone tell me why CoinControlDialog uses a static CoinControl object, instead of like, having the caller supply one
<br>
</div>

<div class='talk op-msg' data-timestamp='1554251820' id='661266'>
<a class='timestamp' href='#661266'><time timestamp='2019-04-03T00:37:00Z'>00:37</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
I expect the answer is &quot;because it was easier&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1554254160' id='661267'>
<a class='timestamp' href='#661267'><time timestamp='2019-04-03T01:16:00Z'>01:16</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
I assume this was accidental, rather than spam (as it was reverted right after). Just need to keep an eye on the wiki.. <a href="https://github.com/bitcoin-core/bitcoin-devwiki/wiki/0.18.0-Release-Notes-Draft/_compare/af6d617%5E...af6d617" class="link" target="_blank">https://github.com/bitcoin-core/bitcoin-devwiki/wiki/0.18.0-Release-Notes-Draft/_compare/af6d617%5E...af6d617</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1554256140' id='661268'>
<a class='timestamp' href='#661268'><time timestamp='2019-04-03T01:49:00Z'>01:49</time></a>
&lt;<span class='nick nick-1'> conman</span>&gt;
gmaxwell: did some more testing
<br>
</div>

<div class='talk op-msg' data-timestamp='1554256200' id='661269'>
<a class='timestamp' href='#661269'><time timestamp='2019-04-03T01:50:00Z'>01:50</time></a>
&lt;<span class='nick nick-1'> conman</span>&gt;
I picked a random transaction from the mempool
<br>
</div>

<div class='talk op-msg' data-timestamp='1554256200' id='661270'>
<a class='timestamp' href='#661270'><time timestamp='2019-04-03T01:50:00Z'>01:50</time></a>
&lt;<span class='nick nick-1'> conman</span>&gt;
if it&#x27;s a regular transaction I can prioritise it
<br>
</div>

<div class='talk op-msg' data-timestamp='1554256200' id='661271'>
<a class='timestamp' href='#661271'><time timestamp='2019-04-03T01:50:00Z'>01:50</time></a>
&lt;<span class='nick nick-1'> conman</span>&gt;
if it&#x27;s a segwit one I canNOT get it into the template
<br>
</div>

<div class='talk op-msg' data-timestamp='1554256200' id='661272'>
<a class='timestamp' href='#661272'><time timestamp='2019-04-03T01:50:00Z'>01:50</time></a>
&lt;<span class='nick nick-1'> conman</span>&gt;
I picked a random txn (not mine) with the txid f8ac1bf739aace5c10fbde87d387e47a2536e897a738a65e1f153fe02ddabf01
<br>
</div>

<div class='talk op-msg' data-timestamp='1554256200' id='661273'>
<a class='timestamp' href='#661273'><time timestamp='2019-04-03T01:50:00Z'>01:50</time></a>
&lt;<span class='nick nick-1'> conman</span>&gt;
see if you can prioritise it
<br>
</div>

<div class='talk op-msg' data-timestamp='1554256260' id='661274'>
<a class='timestamp' href='#661274'><time timestamp='2019-04-03T01:51:00Z'>01:51</time></a>
&lt;<span class='nick nick-1'> conman</span>&gt;
its fee is 2590s
<br>
</div>

<div class='talk op-msg' data-timestamp='1554259980' id='661275'>
<a class='timestamp' href='#661275'><time timestamp='2019-04-03T02:53:00Z'>02:53</time></a>
&lt;<span class='nick nick-1'> conman</span>&gt;
yep I cannot successfully prioritise any segwit transactions into the block template
<br>
</div>

<div class='talk op-msg' data-timestamp='1554266760' id='661276'>
<a class='timestamp' href='#661276'><time timestamp='2019-04-03T04:46:00Z'>04:46</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
conman: can you take a segwit txn that is already in the template and prioritize it so it goes from near the bottom to near the top?
<br>
</div>

<div class='talk op-msg' data-timestamp='1554269040' id='661277'>
<a class='timestamp' href='#661277'><time timestamp='2019-04-03T05:24:00Z'>05:24</time></a>
&lt;<span class='nick nick-1'> conman</span>&gt;
ok lemme try
<br>
</div>

<div class='talk op-msg' data-timestamp='1554269340' id='661278'>
<a class='timestamp' href='#661278'><time timestamp='2019-04-03T05:29:00Z'>05:29</time></a>
&lt;<span class='nick nick-1'> conman</span>&gt;
of course all the ones low down are NOT segwit txns..
<br>
</div>

<div class='talk op-msg' data-timestamp='1554269700' id='661279'>
<a class='timestamp' href='#661279'><time timestamp='2019-04-03T05:35:00Z'>05:35</time></a>
&lt;<span class='nick nick-1'> conman</span>&gt;
man just how few segwit txns are there...
<br>
</div>

<div class='talk op-msg' data-timestamp='1554269940' id='661280'>
<a class='timestamp' href='#661280'><time timestamp='2019-04-03T05:39:00Z'>05:39</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
do you have any?
<br>
</div>

<div class='talk op-msg' data-timestamp='1554269940' id='661281'>
<a class='timestamp' href='#661281'><time timestamp='2019-04-03T05:39:00Z'>05:39</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
./bitcoin-cli getblocktemplate &#x27;{&quot;rules&quot;: [&quot;segwit&quot;]}&#x27; | jq &#x27;.transactions | .[] | select(.hash != .txid)&#x27;
<br>
</div>

<div class='talk op-msg' data-timestamp='1554269940' id='661282'>
<a class='timestamp' href='#661282'><time timestamp='2019-04-03T05:39:00Z'>05:39</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I see 1090 in my template...
<br>
</div>

<div class='talk op-msg' data-timestamp='1554269940' id='661283'>
<a class='timestamp' href='#661283'><time timestamp='2019-04-03T05:39:00Z'>05:39</time></a>
&lt;<span class='nick nick-1'> conman</span>&gt;
thanks that&#x27;s what I needed to help
<br>
</div>

<div class='talk op-msg' data-timestamp='1554270000' id='661284'>
<a class='timestamp' href='#661284'><time timestamp='2019-04-03T05:40:00Z'>05:40</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
so about 40% of them.
<br>
</div>

<div class='talk op-msg' data-timestamp='1554270000' id='661285'>
<a class='timestamp' href='#661285'><time timestamp='2019-04-03T05:40:00Z'>05:40</time></a>
&lt;<span class='nick nick-1'> conman</span>&gt;
yeah I was just randomly picking them off the bottom and looking at them
<br>
</div>

<div class='talk op-msg' data-timestamp='1554270000' id='661286'>
<a class='timestamp' href='#661286'><time timestamp='2019-04-03T05:40:00Z'>05:40</time></a>
&lt;<span class='nick nick-1'> conman</span>&gt;
silly me
<br>
</div>

<div class='talk op-msg' data-timestamp='1554270000' id='661287'>
<a class='timestamp' href='#661287'><time timestamp='2019-04-03T05:40:00Z'>05:40</time></a>
&lt;<span class='nick nick-1'> conman</span>&gt;
since I know nought of this
<br>
</div>

<div class='talk op-msg' data-timestamp='1554270060' id='661288'>
<a class='timestamp' href='#661288'><time timestamp='2019-04-03T05:41:00Z'>05:41</time></a>
&lt;<span class='nick nick-1'> conman</span>&gt;
ok I prioritised the lowest priority one I could find
<br>
</div>

<div class='talk op-msg' data-timestamp='1554270060' id='661289'>
<a class='timestamp' href='#661289'><time timestamp='2019-04-03T05:41:00Z'>05:41</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
FWIW, it worked for me (with 0.18rc) -- I picked the bottom segwit txn, prioritised it, and it&#x27;s now the second transaction in my template.
<br>
</div>

<div class='talk op-msg' data-timestamp='1554270120' id='661290'>
<a class='timestamp' href='#661290'><time timestamp='2019-04-03T05:42:00Z'>05:42</time></a>
&lt;<span class='nick nick-1'> conman</span>&gt;
and now it no longer appears in the block template at all
<br>
</div>

<div class='talk op-msg' data-timestamp='1554270120' id='661291'>
<a class='timestamp' href='#661291'><time timestamp='2019-04-03T05:42:00Z'>05:42</time></a>
&lt;<span class='nick nick-1'> conman</span>&gt;
let&#x27;s try again
<br>
</div>

<div class='talk op-msg' data-timestamp='1554270120' id='661292'>
<a class='timestamp' href='#661292'><time timestamp='2019-04-03T05:42:00Z'>05:42</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
OH how high is your priority? is it possible that there is an overflow somwhere?
<br>
</div>

<div class='talk op-msg' data-timestamp='1554270120' id='661293'>
<a class='timestamp' href='#661293'><time timestamp='2019-04-03T05:42:00Z'>05:42</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I did: $ ./bitcoin-cli prioritisetransaction 35611cbad11967731aa122136bf90bd63c5224296c45c10a26885c3bb3fff6f6 0 100000
<br>
</div>

<div class='talk op-msg' data-timestamp='1554270120' id='661294'>
<a class='timestamp' href='#661294'><time timestamp='2019-04-03T05:42:00Z'>05:42</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
true
<br>
</div>

<div class='talk op-msg' data-timestamp='1554270120' id='661295'>
<a class='timestamp' href='#661295'><time timestamp='2019-04-03T05:42:00Z'>05:42</time></a>
&lt;<span class='nick nick-1'> conman</span>&gt;
0.1btc
<br>
</div>

<div class='talk op-msg' data-timestamp='1554270120' id='661296'>
<a class='timestamp' href='#661296'><time timestamp='2019-04-03T05:42:00Z'>05:42</time></a>
&lt;<span class='nick nick-1'> conman</span>&gt;
so 10000000
<br>
</div>

<div class='talk op-msg' data-timestamp='1554270180' id='661297'>
<a class='timestamp' href='#661297'><time timestamp='2019-04-03T05:43:00Z'>05:43</time></a>
&lt;<span class='nick nick-1'> conman</span>&gt;
again, same thing happened this time around
<br>
</div>

<div class='talk op-msg' data-timestamp='1554270180' id='661298'>
<a class='timestamp' href='#661298'><time timestamp='2019-04-03T05:43:00Z'>05:43</time></a>
&lt;<span class='nick nick-1'> conman</span>&gt;
I&#x27;ll try smaller then
<br>
</div>

<div class='talk op-msg' data-timestamp='1554270180' id='661299'>
<a class='timestamp' href='#661299'><time timestamp='2019-04-03T05:43:00Z'>05:43</time></a>
&lt;<span class='nick nick-1'> conman</span>&gt;
but note that size priority worked fine on a regular transaction
<br>
</div>

<div class='talk op-msg' data-timestamp='1554270180' id='661300'>
<a class='timestamp' href='#661300'><time timestamp='2019-04-03T05:43:00Z'>05:43</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I tried 10000000 ... now its the first one.
<br>
</div>

<div class='talk op-msg' data-timestamp='1554270180' id='661301'>
<a class='timestamp' href='#661301'><time timestamp='2019-04-03T05:43:00Z'>05:43</time></a>
&lt;<span class='nick nick-1'> conman</span>&gt;
then wtf is going on here
<br>
</div>

<div class='talk op-msg' data-timestamp='1554270240' id='661302'>
<a class='timestamp' href='#661302'><time timestamp='2019-04-03T05:44:00Z'>05:44</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
bug in 0.17 that is fixed in 0.18? I just don&#x27;t recall any such changes.
<br>
</div>

<div class='talk op-msg' data-timestamp='1554270240' id='661303'>
<a class='timestamp' href='#661303'><time timestamp='2019-04-03T05:44:00Z'>05:44</time></a>
&lt;<span class='nick nick-1'> conman</span>&gt;
every prioritised one disappears instead of moving up
<br>
</div>

<div class='talk op-msg' data-timestamp='1554270300' id='661304'>
<a class='timestamp' href='#661304'><time timestamp='2019-04-03T05:45:00Z'>05:45</time></a>
&lt;<span class='nick nick-1'> conman</span>&gt;
hang on, maybe I&#x27;m searching for it wrong in the template
<br>
</div>

<div class='talk op-msg' data-timestamp='1554270420' id='661305'>
<a class='timestamp' href='#661305'><time timestamp='2019-04-03T05:47:00Z'>05:47</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I&#x27;m just ./bitcoin-cli getblocktemplate &#x27;{&quot;rules&quot;: [&quot;segwit&quot;]}&#x27; | jq &#x27;.transactions | .[] | select(.hash != .txid)&#x27; |less  and hitting / and pasting in the txid.
<br>
</div>

<div class='talk op-msg' data-timestamp='1554270420' id='661306'>
<a class='timestamp' href='#661306'><time timestamp='2019-04-03T05:47:00Z'>05:47</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
and I successfully move something to the top, then undo the priority and it goes back down to near the bottom.
<br>
</div>

<div class='talk op-msg' data-timestamp='1554270420' id='661307'>
<a class='timestamp' href='#661307'><time timestamp='2019-04-03T05:47:00Z'>05:47</time></a>
&lt;<span class='nick nick-1'> conman</span>&gt;
I&#x27;m not adding rules to getblocktemplate...
<br>
</div>

<div class='talk op-msg' data-timestamp='1554270420' id='661308'>
<a class='timestamp' href='#661308'><time timestamp='2019-04-03T05:47:00Z'>05:47</time></a>
&lt;<span class='nick nick-1'> conman</span>&gt;
is that what I&#x27;m doing wrong?
<br>
</div>

<div class='talk op-msg' data-timestamp='1554270480' id='661309'>
<a class='timestamp' href='#661309'><time timestamp='2019-04-03T05:48:00Z'>05:48</time></a>
&lt;<span class='nick nick-1'> conman</span>&gt;
doesn&#x27;t explain how it&#x27;s been generating templates with segwit txns all the time
<br>
</div>

<div class='talk op-msg' data-timestamp='1554270480' id='661310'>
<a class='timestamp' href='#661310'><time timestamp='2019-04-03T05:48:00Z'>05:48</time></a>
&lt;<span class='nick nick-1'> conman</span>&gt;
I was just doing getblocktemplate | grep
<br>
</div>

<div class='talk op-msg' data-timestamp='1554270540' id='661311'>
<a class='timestamp' href='#661311'><time timestamp='2019-04-03T05:49:00Z'>05:49</time></a>
&lt;<span class='nick nick-1'> conman</span>&gt;
or | less and then / searching
<br>
</div>

<div class='talk op-msg' data-timestamp='1554270540' id='661312'>
<a class='timestamp' href='#661312'><time timestamp='2019-04-03T05:49:00Z'>05:49</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
oh man..
<br>
</div>

<div class='talk op-msg' data-timestamp='1554270540' id='661313'>
<a class='timestamp' href='#661313'><time timestamp='2019-04-03T05:49:00Z'>05:49</time></a>
&lt;<span class='nick nick-1'> conman</span>&gt;
:(
<br>
</div>

<div class='talk op-msg' data-timestamp='1554270540' id='661314'>
<a class='timestamp' href='#661314'><time timestamp='2019-04-03T05:49:00Z'>05:49</time></a>
&lt;<span class='nick nick-14'> * conman</span>&gt;
hides
<br>
</div>

<div class='talk op-msg' data-timestamp='1554270540' id='661315'>
<a class='timestamp' href='#661315'><time timestamp='2019-04-03T05:49:00Z'>05:49</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
So I did ask...
<br>
</div>

<div class='talk op-msg' data-timestamp='1554270540' id='661316'>
<a class='timestamp' href='#661316'><time timestamp='2019-04-03T05:49:00Z'>05:49</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
in 0.18 this isn&#x27;t a problem:
<br>
</div>

<div class='talk op-msg' data-timestamp='1554270540' id='661317'>
<a class='timestamp' href='#661317'><time timestamp='2019-04-03T05:49:00Z'>05:49</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
$ ./bitcoin-cli getblocktemplate
<br>
</div>

<div class='talk op-msg' data-timestamp='1554270540' id='661318'>
<a class='timestamp' href='#661318'><time timestamp='2019-04-03T05:49:00Z'>05:49</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
error code: -8
<br>
</div>

<div class='talk op-msg' data-timestamp='1554270540' id='661319'>
<a class='timestamp' href='#661319'><time timestamp='2019-04-03T05:49:00Z'>05:49</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
error message:
<br>
</div>

<div class='talk op-msg' data-timestamp='1554270540' id='661320'>
<a class='timestamp' href='#661320'><time timestamp='2019-04-03T05:49:00Z'>05:49</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
getblocktemplate must be called with the segwit rule set (call with {&quot;rules&quot;: [&quot;segwit&quot;]})
<br>
</div>

<div class='talk op-msg' data-timestamp='1554270540' id='661321'>
<a class='timestamp' href='#661321'><time timestamp='2019-04-03T05:49:00Z'>05:49</time></a>
&lt;<span class='nick nick-1'> conman</span>&gt;
I see
<br>
</div>

<div class='talk op-msg' data-timestamp='1554270600' id='661322'>
<a class='timestamp' href='#661322'><time timestamp='2019-04-03T05:50:00Z'>05:50</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
but for backwards compat reasons gbt won&#x27;t include any segwit txn unless called with rules (and in 0.18 that functionality is disabled)
<br>
</div>

<div class='talk op-msg' data-timestamp='1554270600' id='661323'>
<a class='timestamp' href='#661323'><time timestamp='2019-04-03T05:50:00Z'>05:50</time></a>
&lt;<span class='nick nick-1'> conman</span>&gt;
I&#x27;m just going to rock back and forth in the corner
<br>
</div>

<div class='talk op-msg' data-timestamp='1554270600' id='661324'>
<a class='timestamp' href='#661324'><time timestamp='2019-04-03T05:50:00Z'>05:50</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I would have asked harder but I didn&#x27;t remember when the backwards compat was turned off,  I kinda assumed 0.17 had it too, so I didn&#x27;t ask more than once. Sorry.
<br>
</div>

<div class='talk op-msg' data-timestamp='1554270660' id='661325'>
<a class='timestamp' href='#661325'><time timestamp='2019-04-03T05:51:00Z'>05:51</time></a>
&lt;<span class='nick nick-1'> conman</span>&gt;
don&#x27;t be sorry, it&#x27;s all my fault
<br>
</div>

<div class='talk op-msg' data-timestamp='1554270660' id='661326'>
<a class='timestamp' href='#661326'><time timestamp='2019-04-03T05:51:00Z'>05:51</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
this was a known footgun thus the new behavior in 0.18.
<br>
</div>

<div class='talk op-msg' data-timestamp='1554270660' id='661327'>
<a class='timestamp' href='#661327'><time timestamp='2019-04-03T05:51:00Z'>05:51</time></a>
&lt;<span class='nick nick-1'> conman</span>&gt;
for some reason I thought the rules were on by default
<br>
</div>

<div class='talk op-msg' data-timestamp='1554270660' id='661328'>
<a class='timestamp' href='#661328'><time timestamp='2019-04-03T05:51:00Z'>05:51</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
yea, they aren&#x27;t just because if you had non-segwit capable mining software you&#x27;d start silently mining invalid blocks.
<br>
</div>

<div class='talk op-msg' data-timestamp='1554270660' id='661329'>
<a class='timestamp' href='#661329'><time timestamp='2019-04-03T05:51:00Z'>05:51</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
And we&#x27;d rather it fail cleanly.
<br>
</div>

<div class='talk op-msg' data-timestamp='1554270780' id='661330'>
<a class='timestamp' href='#661330'><time timestamp='2019-04-03T05:53:00Z'>05:53</time></a>
&lt;<span class='nick nick-1'> conman</span>&gt;
ok well that&#x27;s been a big learning experience
<br>
</div>

<div class='talk op-msg' data-timestamp='1554270780' id='661331'>
<a class='timestamp' href='#661331'><time timestamp='2019-04-03T05:53:00Z'>05:53</time></a>
&lt;<span class='nick nick-1'> conman</span>&gt;
for all the wrong reasons
<br>
</div>

<div class='talk op-msg' data-timestamp='1554270780' id='661332'>
<a class='timestamp' href='#661332'><time timestamp='2019-04-03T05:53:00Z'>05:53</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
thanks for the confirmation that 0.18&#x27;s behavior change is a useful de-footgunning. :P
<br>
</div>

<div class='talk op-msg' data-timestamp='1554270900' id='661333'>
<a class='timestamp' href='#661333'><time timestamp='2019-04-03T05:55:00Z'>05:55</time></a>
&lt;<span class='nick nick-1'> conman</span>&gt;
of course the pool software doesn&#x27;t do that so no idea why I didn&#x27;t think of it for the command line :s
<br>
</div>

<div class='talk op-msg' data-timestamp='1554270900' id='661334'>
<a class='timestamp' href='#661334'><time timestamp='2019-04-03T05:55:00Z'>05:55</time></a>
&lt;<span class='nick nick-1'> conman</span>&gt;
I really have to get out of this game, it&#x27;s bad for my health
<br>
</div>

<div class='talk op-msg' data-timestamp='1554271020' id='661335'>
<a class='timestamp' href='#661335'><time timestamp='2019-04-03T05:57:00Z'>05:57</time></a>
&lt;<span class='nick nick-1'> conman</span>&gt;
thanks again
<br>
</div>

<div class='talk op-msg' data-timestamp='1554271020' id='661336'>
<a class='timestamp' href='#661336'><time timestamp='2019-04-03T05:57:00Z'>05:57</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sorry, this interface was bad-- just an annoying consequence of backwards compatiblity. That much isn&#x27;t your fault. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1554271020' id='661337'>
<a class='timestamp' href='#661337'><time timestamp='2019-04-03T05:57:00Z'>05:57</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I&#x27;m glad it wasn&#x27;t a weird bug though.
<br>
</div>

<div class='talk op-msg' data-timestamp='1554272700' id='661338'>
<a class='timestamp' href='#661338'><time timestamp='2019-04-03T06:25:00Z'>06:25</time></a>
&lt;<span class='nick nick-14'> * conman</span>&gt;
quietly disappears
<br>
</div>

<div class='talk op-msg' data-timestamp='1554272820' id='661339'>
<a class='timestamp' href='#661339'><time timestamp='2019-04-03T06:27:00Z'>06:27</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Next Customer!
<br>
</div>

<div class='talk op-msg' data-timestamp='1554272820' id='661340'>
<a class='timestamp' href='#661340'><time timestamp='2019-04-03T06:27:00Z'>06:27</time></a>
&lt;<span class='nick nick-2'> * gmaxwell</span>&gt;
is sad that he has still not learned the zen of tech support.
<br>
</div>

<div class='talk op-msg' data-timestamp='1554272820' id='661341'>
<a class='timestamp' href='#661341'><time timestamp='2019-04-03T06:27:00Z'>06:27</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
gmaxwell: can you help me with this terrible pain I have in all the diodes down my left side
<br>
</div>

<div class='talk op-msg' data-timestamp='1554272880' id='661342'>
<a class='timestamp' href='#661342'><time timestamp='2019-04-03T06:28:00Z'>06:28</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
gwillen: have you had them replaced?
<br>
</div>

<div class='talk op-msg' data-timestamp='1554273000' id='661343'>
<a class='timestamp' href='#661343'><time timestamp='2019-04-03T06:30:00Z'>06:30</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
When I worked for Juniper I was often amazed at how the really good tech support people managed to solve some feindishly hard problems that no one else could solve by being single mindedly consistent about asking all the dumb questions and carefully validating every claim and piece of information.
<br>
</div>

<div class='talk op-msg' data-timestamp='1554273060' id='661344'>
<a class='timestamp' href='#661344'><time timestamp='2019-04-03T06:31:00Z'>06:31</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
And yet, no matter how much I tell myself that I <u>_must_</u> ask the &#x27;dumb&#x27; questions to get compariable results, I still manage to fail.
<br>
</div>

<div class='talk op-msg' data-timestamp='1554274080' id='661345'>
<a class='timestamp' href='#661345'><time timestamp='2019-04-03T06:48:00Z'>06:48</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
gwillen: yes the global coin control object is kind of ugly, and very much different from how the rest of the GUI code works; basically because the original author wrote it like that, and people kind of wanted the functionality so didn&#x27;t want to hold up the merge for it, it was expected that someone would improve it down the line
<br>
</div>

<div class='talk op-msg' data-timestamp='1554274140' id='661346'>
<a class='timestamp' href='#661346'><time timestamp='2019-04-03T06:49:00Z'>06:49</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
gwillen: I&#x27;m somewhat surprised it doesn&#x27;t give trouble with multiple wallets
<br>
</div>

<div class='talk op-msg' data-timestamp='1554274980' id='661347'>
<a class='timestamp' href='#661347'><time timestamp='2019-04-03T07:03:00Z'>07:03</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
wumpus: ... actually it appears to be pretty broken with multiple wallets
<br>
</div>

<div class='talk op-msg' data-timestamp='1554274980' id='661348'>
<a class='timestamp' href='#661348'><time timestamp='2019-04-03T07:03:00Z'>07:03</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
I never thought to try that
<br>
</div>

<div class='talk op-msg' data-timestamp='1554275040' id='661349'>
<a class='timestamp' href='#661349'><time timestamp='2019-04-03T07:04:00Z'>07:04</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
it seems to keep UTXOs selected when switching wallets that don&#x27;t exist in the second wallet
<br>
</div>

<div class='talk op-msg' data-timestamp='1554275040' id='661350'>
<a class='timestamp' href='#661350'><time timestamp='2019-04-03T07:04:00Z'>07:04</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
I&#x27;m not sure what happens if I then try to spend them.
<br>
</div>

<div class='talk op-msg' data-timestamp='1554275040' id='661351'>
<a class='timestamp' href='#661351'><time timestamp='2019-04-03T07:04:00Z'>07:04</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
perhaps this is the secret backdoor way to spend from multiple wallets at once, heh
<br>
</div>

<div class='talk op-msg' data-timestamp='1554275100' id='661352'>
<a class='timestamp' href='#661352'><time timestamp='2019-04-03T07:05:00Z'>07:05</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
anyway I am tempted to fix it but I don&#x27;t have spare cycles right now, ask me again in a month or two and I&#x27;ll probably do it
<br>
</div>

<div class='talk op-msg' data-timestamp='1554276420' id='661353'>
<a class='timestamp' href='#661353'><time timestamp='2019-04-03T07:27:00Z'>07:27</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
gwillen: please create an issue for it at least
<br>
</div>

<div class='talk op-msg' data-timestamp='1554276540' id='661354'>
<a class='timestamp' href='#661354'><time timestamp='2019-04-03T07:29:00Z'>07:29</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
fanquake: thanks for keeping an eye on changes to the release notes-if this keeps up we&#x27;ll have to restrict edits to people in the bitcoin-core org (I&#x27;d prefer not to as this loses some potential documentation-only contributors), but this may well be accidental and they fixed it
<br>
</div>

<div class='talk op-msg' data-timestamp='1554278220' id='661355'>
<a class='timestamp' href='#661355'><time timestamp='2019-04-03T07:57:00Z'>07:57</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
wumpus: hmm, this may be either caused or revealed by my changes, investigating before I file it
<br>
</div>

<div class='talk op-msg' data-timestamp='1554278400' id='661356'>
<a class='timestamp' href='#661356'><time timestamp='2019-04-03T08:00:00Z'>08:00</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
cfields: 0.18.0rc3 osx detached signatures are here: <a href="https://github.com/bitcoin-core/bitcoin-detached-sigs/pull/24" class="link" target="_blank">https://github.com/bitcoin-core/bitcoin-detached-sigs/pull/24</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1554278400' id='661357'>
<a class='timestamp' href='#661357'><time timestamp='2019-04-03T08:00:00Z'>08:00</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I&#x27;ve been watching logs on a couple nodes and it looks like new installs of 0.16.1 are significantly more common than later versions.
<br>
</div>

<div class='talk op-msg' data-timestamp='1554278460' id='661358'>
<a class='timestamp' href='#661358'><time timestamp='2019-04-03T08:01:00Z'>08:01</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I wonder if there is some outdated link someplace.
<br>
</div>

<div class='talk op-msg' data-timestamp='1554278460' id='661359'>
<a class='timestamp' href='#661359'><time timestamp='2019-04-03T08:01:00Z'>08:01</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
maybe some distro did the cursed thing
<br>
</div>

<div class='talk op-msg' data-timestamp='1554278460' id='661360'>
<a class='timestamp' href='#661360'><time timestamp='2019-04-03T08:01:00Z'>08:01</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(or there is some spy/sybil-attacker that looks like these things, but I don&#x27;t think so as I&#x27;m already pretty heavily excluding things that look like that)
<br>
</div>

<div class='talk op-msg' data-timestamp='1554278460' id='661361'>
<a class='timestamp' href='#661361'><time timestamp='2019-04-03T08:01:00Z'>08:01</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
(e.g. freeze one version of bitcoin core as &quot;stable&quot;)
<br>
</div>

<div class='talk op-msg' data-timestamp='1554278580' id='661362'>
<a class='timestamp' href='#661362'><time timestamp='2019-04-03T08:03:00Z'>08:03</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Checking my logs most of them appear to be IPs in china.
<br>
</div>

<div class='talk op-msg' data-timestamp='1554278580' id='661363'>
<a class='timestamp' href='#661363'><time timestamp='2019-04-03T08:03:00Z'>08:03</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
jl2012: ^ any thoughts for this? is it possible some high visibility chinese language bitcoin resource links to 0.16.1 ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1554278820' id='661364'>
<a class='timestamp' href='#661364'><time timestamp='2019-04-03T08:07:00Z'>08:07</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
looks like 98% of them are chinese.
<br>
</div>

<div class='talk op-msg' data-timestamp='1554278940' id='661365'>
<a class='timestamp' href='#661365'><time timestamp='2019-04-03T08:09:00Z'>08:09</time></a>
&lt;<span class='nick nick-11'> jl2012</span>&gt;
I&#x27;ll take a look
<br>
</div>

<div class='talk op-msg' data-timestamp='1554279000' id='661366'>
<a class='timestamp' href='#661366'><time timestamp='2019-04-03T08:10:00Z'>08:10</time></a>
&lt;<span class='nick nick-11'> jl2012</span>&gt;
Are they from random ip, or from a few datacenters?
<br>
</div>

<div class='talk op-msg' data-timestamp='1554279120' id='661367'>
<a class='timestamp' href='#661367'><time timestamp='2019-04-03T08:12:00Z'>08:12</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Many, though a large number are from 1.196.144.0/24
<br>
</div>

<div class='talk op-msg' data-timestamp='1554279840' id='661368'>
<a class='timestamp' href='#661368'><time timestamp='2019-04-03T08:24:00Z'>08:24</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
wumpus: filed #15725, I can&#x27;t make this happen every time but it&#x27;s reliable enough that I&#x27;m convinced it&#x27;s probably not anything I touched
<br>
</div>

<div class='talk op-msg' data-timestamp='1554279840' id='661369'>
<a class='timestamp' href='#661369'><time timestamp='2019-04-03T08:24:00Z'>08:24</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/15725" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/15725</a> | Manual coin control dialog interacts badly with multiple wallets · Issue #15725 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1554279960' id='661370'>
<a class='timestamp' href='#661370'><time timestamp='2019-04-03T08:26:00Z'>08:26</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
gwillen: thank you
<br>
</div>

<div class='talk op-msg' data-timestamp='1554282420' id='661371'>
<a class='timestamp' href='#661371'><time timestamp='2019-04-03T09:07:00Z'>09:07</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
Added a validating subtree merges how-to to core-review: <a href="https://github.com/fanquake/core-review/blob/master/subtree-merge.md" class="link" target="_blank">https://github.com/fanquake/core-review/blob/master/subtree-merge.md</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1554282540' id='661372'>
<a class='timestamp' href='#661372'><time timestamp='2019-04-03T09:09:00Z'>09:09</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
Also, anyone is upgrading to Xcode 10.2, you may have to re-install the macOS_SDK_headers.pkg, otherwise your depends builds may break.
<br>
</div>

<div class='talk op-msg' data-timestamp='1554284280' id='661373'>
<a class='timestamp' href='#661373'><time timestamp='2019-04-03T09:38:00Z'>09:38</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
fanquake: this is very useful, thanks for working on that document
<br>
</div>

<div class='talk op-msg' data-timestamp='1554284460' id='661374'>
<a class='timestamp' href='#661374'><time timestamp='2019-04-03T09:41:00Z'>09:41</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I think we also need to document the exact steps to update the various subtrees, there&#x27;s some overlap with the &quot;Subtrees&quot; section in doc/developer-notes.md btw
<br>
</div>

<div class='talk op-msg' data-timestamp='1554284820' id='661375'>
<a class='timestamp' href='#661375'><time timestamp='2019-04-03T09:47:00Z'>09:47</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] ajtowns opened pull request #15726: bitcoin-cli -yaml support (master...201904-cli-yaml) <a href="https://github.com/bitcoin/bitcoin/pull/15726" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/15726</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1554285660' id='661376'>
<a class='timestamp' href='#661376'><time timestamp='2019-04-03T10:01:00Z'>10:01</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yaml?!?
<br>
</div>

<div class='talk op-msg' data-timestamp='1554286380' id='661377'>
<a class='timestamp' href='#661377'><time timestamp='2019-04-03T10:13:00Z'>10:13</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
wumpus Yea just documenting useful stuff. All the things I do infrequently enough that I have to go look it/the process up again.
<br>
</div>

<div class='talk op-msg' data-timestamp='1554286680' id='661378'>
<a class='timestamp' href='#661378'><time timestamp='2019-04-03T10:18:00Z'>10:18</time></a>
&lt;<span class='nick nick-3'> aj</span>&gt;
wumpus: i can&#x27;t read numbers without thousands separators man
<br>
</div>

<div class='talk op-msg' data-timestamp='1554294660' id='661379'>
<a class='timestamp' href='#661379'><time timestamp='2019-04-03T12:31:00Z'>12:31</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
FWIW, it looks like Boost::Process 1.45 is broken in that it doesn&#x27;t recongised died-by-signal as exited (and throws exceptions wildly as a result)
<br>
</div>

<div class='talk op-msg' data-timestamp='1554294660' id='661380'>
<a class='timestamp' href='#661380'><time timestamp='2019-04-03T12:31:00Z'>12:31</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
1.47 has it fixed I guess
<br>
</div>

<div class='talk op-msg' data-timestamp='1554295020' id='661381'>
<a class='timestamp' href='#661381'><time timestamp='2019-04-03T12:37:00Z'>12:37</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
luke-jr Boost.Process in Boost 1.45 ? I thought it was only introduced in 1.64? Or are you talking about something else?
<br>
</div>

<div class='talk op-msg' data-timestamp='1554295860' id='661382'>
<a class='timestamp' href='#661382'><time timestamp='2019-04-03T12:51:00Z'>12:51</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
sorry, I have my versions wrong, sec
<br>
</div>

<div class='talk op-msg' data-timestamp='1554295860' id='661383'>
<a class='timestamp' href='#661383'><time timestamp='2019-04-03T12:51:00Z'>12:51</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
1.65 vs 1.67
<br>
</div>

<div class='talk op-msg' data-timestamp='1554299160' id='661384'>
<a class='timestamp' href='#661384'><time timestamp='2019-04-03T13:46:00Z'>13:46</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jnewbery opened pull request #15728: [wallet] Refactor relay transactions (master...2019_03_refactor_relay_transactions) <a href="https://github.com/bitcoin/bitcoin/pull/15728" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/15728</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1554303720' id='661385'>
<a class='timestamp' href='#661385'><time timestamp='2019-04-03T15:02:00Z'>15:02</time></a>
&lt;<span class='nick nick-11'> jl2012</span>&gt;
gmaxwell: &quot;Miner block size removed&quot; in the release note of 0.16.1 led to some misunderstanding in China
<br>
</div>

<div class='talk op-msg' data-timestamp='1554303720' id='661386'>
<a class='timestamp' href='#661386'><time timestamp='2019-04-03T15:02:00Z'>15:02</time></a>
&lt;<span class='nick nick-11'> jl2012</span>&gt;
some thought 0.16.1 was a block size hardfork
<br>
</div>

<div class='talk op-msg' data-timestamp='1554303900' id='661387'>
<a class='timestamp' href='#661387'><time timestamp='2019-04-03T15:05:00Z'>15:05</time></a>
&lt;<span class='nick nick-11'> jl2012</span>&gt;
but those were results from June 2018. No recent discussions
<br>
</div>

<div class='talk op-msg' data-timestamp='1554303960' id='661388'>
<a class='timestamp' href='#661388'><time timestamp='2019-04-03T15:06:00Z'>15:06</time></a>
&lt;<span class='nick nick-11'> jl2012</span>&gt;
and some people clarified that in Chinese at that time
<br>
</div>

<div class='talk op-msg' data-timestamp='1554305460' id='661389'>
<a class='timestamp' href='#661389'><time timestamp='2019-04-03T15:31:00Z'>15:31</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] promag opened pull request #15729: rpc: Ignore minconf parameter in getbalance (master...2019-04-drop-getbalance-minconf) <a href="https://github.com/bitcoin/bitcoin/pull/15729" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/15729</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1554306300' id='661390'>
<a class='timestamp' href='#661390'><time timestamp='2019-04-03T15:45:00Z'>15:45</time></a>
&lt;<span class='nick nick-1'> cheetah2</span>&gt;
im getting error code -28 prunning blockstore with bitcoin-cli getinfo does it mean its crashed or is it working?
<br>
</div>

<div class='talk op-msg' data-timestamp='1554307800' id='661391'>
<a class='timestamp' href='#661391'><time timestamp='2019-04-03T16:10:00Z'>16:10</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] promag opened pull request #15730: rpc: Show scanning details in getwalletinfo (master...2019-04-getwalletinfo-scanning) <a href="https://github.com/bitcoin/bitcoin/pull/15730" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/15730</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1554308400' id='661392'>
<a class='timestamp' href='#661392'><time timestamp='2019-04-03T16:20:00Z'>16:20</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke pushed 2 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/2c364fde423e...ba54342c9dd3" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/2c364fde423e...ba54342c9dd3</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1554308400' id='661393'>
<a class='timestamp' href='#661393'><time timestamp='2019-04-03T16:20:00Z'>16:20</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master fa292ad MarcoFalke: doc: rpc-mining: Clarify error messages
<br>
</div>

<div class='talk op-msg' data-timestamp='1554308400' id='661394'>
<a class='timestamp' href='#661394'><time timestamp='2019-04-03T16:20:00Z'>16:20</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master ba54342 MarcoFalke: Merge #15685: doc: rpc-mining: Clarify error messages
<br>
</div>

<div class='talk op-msg' data-timestamp='1554308460' id='661395'>
<a class='timestamp' href='#661395'><time timestamp='2019-04-03T16:21:00Z'>16:21</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke merged pull request #15685: doc: rpc-mining: Clarify error messages (master...1903-docMining) <a href="https://github.com/bitcoin/bitcoin/pull/15685" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/15685</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1554308700' id='661396'>
<a class='timestamp' href='#661396'><time timestamp='2019-04-03T16:25:00Z'>16:25</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
proposedmeetingtopic: TODOs in 0.18.0 Release Notes Draft
<br>
</div>

<div class='talk op-msg' data-timestamp='1554309060' id='661397'>
<a class='timestamp' href='#661397'><time timestamp='2019-04-03T16:31:00Z'>16:31</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
[05:41] &lt;wumpus&gt; I think we also need to document the exact steps to update the various subtrees, there&#x27;s some overlap with the &quot;Subtrees&quot; section in doc/developer-notes.md btw
<br>
</div>

<div class='talk op-msg' data-timestamp='1554309060' id='661398'>
<a class='timestamp' href='#661398'><time timestamp='2019-04-03T16:31:00Z'>16:31</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
fanquake: 
<br>
</div>

<div class='talk op-msg' data-timestamp='1554309060' id='661399'>
<a class='timestamp' href='#661399'><time timestamp='2019-04-03T16:31:00Z'>16:31</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
Those exist in <a href="https://github.com/bitcoin/bitcoin/tree/ba54342c9dd3f2e5cdeed9ac57f1924f0d885cc6/test/lint#git-subtree-checksh" class="link" target="_blank">https://github.com/bitcoin/bitcoin/tree/ba54342c9dd3f2e5cdeed9ac57f1924f0d885cc6/test/lint#git-subtree-checksh</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1554309060' id='661400'>
<a class='timestamp' href='#661400'><time timestamp='2019-04-03T16:31:00Z'>16:31</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
and <a href="https://github.com/bitcoin-core/bitcoin-maintainer-tools/tree/ae4ed2a58d67764dbfe2dc1ba00667659e330090#subtree-updates" class="link" target="_blank">https://github.com/bitcoin-core/bitcoin-maintainer-tools/tree/ae4ed2a58d67764dbfe2dc1ba00667659e330090#subtree-updates</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1554310980' id='661401'>
<a class='timestamp' href='#661401'><time timestamp='2019-04-03T17:03:00Z'>17:03</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
the bitcoin-maintainer one is the more useful one IIRC
<br>
</div>

<div class='talk op-msg' data-timestamp='1554312120' id='661402'>
<a class='timestamp' href='#661402'><time timestamp='2019-04-03T17:22:00Z'>17:22</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
They serve different purposes. The &quot;linter&quot; is for checking and the maintainer-tool is for creating/bumping
<br>
</div>

<div class='talk op-msg' data-timestamp='1554312240' id='661403'>
<a class='timestamp' href='#661403'><time timestamp='2019-04-03T17:24:00Z'>17:24</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
jonasschnelli: not sure if you&#x27;ve discussed already, but it looks like you pushed your rc2 gitian sigs as rc3 accidentally.
<br>
</div>

<div class='talk op-msg' data-timestamp='1554312240' id='661404'>
<a class='timestamp' href='#661404'><time timestamp='2019-04-03T17:24:00Z'>17:24</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
Though your signature attached and verified correctly. So I assume you just pushed the wrong thing on accident.
<br>
</div>

<div class='talk op-msg' data-timestamp='1554312300' id='661405'>
<a class='timestamp' href='#661405'><time timestamp='2019-04-03T17:25:00Z'>17:25</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
err
<br>
</div>

<div class='talk op-msg' data-timestamp='1554312960' id='661406'>
<a class='timestamp' href='#661406'><time timestamp='2019-04-03T17:36:00Z'>17:36</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
jonasschnelli: yes, ok, ^^.
<br>
</div>

<div class='talk op-msg' data-timestamp='1554312960' id='661407'>
<a class='timestamp' href='#661407'><time timestamp='2019-04-03T17:36:00Z'>17:36</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
I&#x27;m not going to worry about waiting for updated sigs, though. We have enough, and it looks like the correct thing was signed in the end.
<br>
</div>

<div class='talk op-msg' data-timestamp='1554313140' id='661408'>
<a class='timestamp' href='#661408'><time timestamp='2019-04-03T17:39:00Z'>17:39</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
gitian builders: detached sigs are pushed for v0.18.0rc3.
<br>
</div>

<div class='talk op-msg' data-timestamp='1554314820' id='661409'>
<a class='timestamp' href='#661409'><time timestamp='2019-04-03T18:07:00Z'>18:07</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
cfields: oh. let me check
<br>
</div>

<div class='talk op-msg' data-timestamp='1554315600' id='661410'>
<a class='timestamp' href='#661410'><time timestamp='2019-04-03T18:20:00Z'>18:20</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
cfields: yes. I uploaded the rc2 sigs for osx/win (not for linux though).
<br>
</div>

<div class='talk op-msg' data-timestamp='1554315600' id='661411'>
<a class='timestamp' href='#661411'><time timestamp='2019-04-03T18:20:00Z'>18:20</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Will fix
<br>
</div>

<div class='talk op-msg' data-timestamp='1554320100' id='661412'>
<a class='timestamp' href='#661412'><time timestamp='2019-04-03T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
MarcoFalke: good to know, I think I knew about that one once but forgot about it
<br>
</div>

<div class='talk op-msg' data-timestamp='1554327600' id='661413'>
<a class='timestamp' href='#661413'><time timestamp='2019-04-03T21:40:00Z'>21:40</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jamesob opened pull request #15735: Add scheduler deadlock detection (master...2019-04-serialize-scheduler) <a href="https://github.com/bitcoin/bitcoin/pull/15735" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/15735</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1554327780' id='661414'>
<a class='timestamp' href='#661414'><time timestamp='2019-04-03T21:43:00Z'>21:43</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
jl2012: there isn&#x27;t a chinese version of bitcoin.org or something that only shows old links?  I&#x27;m just at a loss as to what would be causing people to start new nodes using old code.
<br>
</div>

<div class='talk op-msg' data-timestamp='1554328140' id='661415'>
<a class='timestamp' href='#661415'><time timestamp='2019-04-03T21:49:00Z'>21:49</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
gmaxwell, are they all on aws or something?
<br>
</div>

<div class='talk op-msg' data-timestamp='1554328200' id='661416'>
<a class='timestamp' href='#661416'><time timestamp='2019-04-03T21:50:00Z'>21:50</time></a>
&lt;<span class='nick nick-5'> midnightmagic</span>&gt;
gmaxwell: the TMSR people and their propaganda maybe?
<br>
</div>

<div class='talk op-msg' data-timestamp='1554328320' id='661417'>
<a class='timestamp' href='#661417'><time timestamp='2019-04-03T21:52:00Z'>21:52</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
sipa or someone: are descriptors supposed to accept &quot;h&quot; anywhere they would accept &quot;&#x27;&quot;?
<br>
</div>

<div class='talk op-msg' data-timestamp='1554328380' id='661418'>
<a class='timestamp' href='#661418'><time timestamp='2019-04-03T21:53:00Z'>21:53</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
gmaxwell: ^
<br>
</div>

<div class='talk op-msg' data-timestamp='1554328440' id='661419'>
<a class='timestamp' href='#661419'><time timestamp='2019-04-03T21:54:00Z'>21:54</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
it seems like maybe there is an untested interaction with checksums
<br>
</div>

<div class='talk op-msg' data-timestamp='1554328440' id='661420'>
<a class='timestamp' href='#661420'><time timestamp='2019-04-03T21:54:00Z'>21:54</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
I am finding that my descriptors with &#x27;h&#x27; are being parsed as invalid
<br>
</div>

<div class='talk op-msg' data-timestamp='1554328500' id='661421'>
<a class='timestamp' href='#661421'><time timestamp='2019-04-03T21:55:00Z'>21:55</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
if I getdescriptorinfo on a descriptor that uses &#x27;h&#x27;, I get back one that uses &quot;&#x27;&quot; and has a valid checksum, but if I then replace the &#x27; with h and keep the checksum the same, the resulting descriptor is rejected
<br>
</div>

<div class='talk op-msg' data-timestamp='1554328560' id='661422'>
<a class='timestamp' href='#661422'><time timestamp='2019-04-03T21:56:00Z'>21:56</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gwillen: yes, you can use either h or &#x27;
<br>
</div>

<div class='talk op-msg' data-timestamp='1554328560' id='661423'>
<a class='timestamp' href='#661423'><time timestamp='2019-04-03T21:56:00Z'>21:56</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and the checksum will depend on which one you use
<br>
</div>

<div class='talk op-msg' data-timestamp='1554328560' id='661424'>
<a class='timestamp' href='#661424'><time timestamp='2019-04-03T21:56:00Z'>21:56</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
hmmmmmm
<br>
</div>

<div class='talk op-msg' data-timestamp='1554328560' id='661425'>
<a class='timestamp' href='#661425'><time timestamp='2019-04-03T21:56:00Z'>21:56</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
but getdescriptorinfo canonicalizes from &quot;h&quot; to &quot;&#x27;&quot; <u>_before_</u> computing the checksum
<br>
</div>

<div class='talk op-msg' data-timestamp='1554328560' id='661426'>
<a class='timestamp' href='#661426'><time timestamp='2019-04-03T21:56:00Z'>21:56</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
so I can&#x27;t get one with h :-)
<br>
</div>

<div class='talk op-msg' data-timestamp='1554328560' id='661427'>
<a class='timestamp' href='#661427'><time timestamp='2019-04-03T21:56:00Z'>21:56</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1554328560' id='661428'>
<a class='timestamp' href='#661428'><time timestamp='2019-04-03T21:56:00Z'>21:56</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
also it seems weird that they are treated differently, I would argue against that but maybe it&#x27;s too late
<br>
</div>

<div class='talk op-msg' data-timestamp='1554328620' id='661429'>
<a class='timestamp' href='#661429'><time timestamp='2019-04-03T21:57:00Z'>21:57</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gwillen: the alternative would require a checksum algorithm that&#x27;s not black box
<br>
</div>

<div class='talk op-msg' data-timestamp='1554328620' id='661430'>
<a class='timestamp' href='#661430'><time timestamp='2019-04-03T21:57:00Z'>21:57</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
it would just require that you always canonicalize before checksumming
<br>
</div>

<div class='talk op-msg' data-timestamp='1554328620' id='661431'>
<a class='timestamp' href='#661431'><time timestamp='2019-04-03T21:57:00Z'>21:57</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
since it seems like the very first thing you do on parsing is canonicalize anyway
<br>
</div>

<div class='talk op-msg' data-timestamp='1554328680' id='661432'>
<a class='timestamp' href='#661432'><time timestamp='2019-04-03T21:58:00Z'>21:58</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
canonicalizing requiring understand the descriptors
<br>
</div>

<div class='talk op-msg' data-timestamp='1554328680' id='661433'>
<a class='timestamp' href='#661433'><time timestamp='2019-04-03T21:58:00Z'>21:58</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
while checksums can hopefully be performed by things that treat descriptors as strings
<br>
</div>

<div class='talk op-msg' data-timestamp='1554328680' id='661434'>
<a class='timestamp' href='#661434'><time timestamp='2019-04-03T21:58:00Z'>21:58</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it was probably a mistake to permit both h and &#x27; in the first place, but it&#x27;s far too late for that
<br>
</div>

<div class='talk op-msg' data-timestamp='1554328680' id='661435'>
<a class='timestamp' href='#661435'><time timestamp='2019-04-03T21:58:00Z'>21:58</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
this is somewhat sad for dev use, because the primary use of &#x27;h&#x27; is not having to quote the apostrophe
<br>
</div>

<div class='talk op-msg' data-timestamp='1554328680' id='661436'>
<a class='timestamp' href='#661436'><time timestamp='2019-04-03T21:58:00Z'>21:58</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
but there is no easy way to get a checksum on a descriptor that uses h
<br>
</div>

<div class='talk op-msg' data-timestamp='1554328680' id='661437'>
<a class='timestamp' href='#661437'><time timestamp='2019-04-03T21:58:00Z'>21:58</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ah i see
<br>
</div>

<div class='talk op-msg' data-timestamp='1554328680' id='661438'>
<a class='timestamp' href='#661438'><time timestamp='2019-04-03T21:58:00Z'>21:58</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
so in practice you always have to use the apostrophe
<br>
</div>

<div class='talk op-msg' data-timestamp='1554328740' id='661439'>
<a class='timestamp' href='#661439'><time timestamp='2019-04-03T21:59:00Z'>21:59</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
which defeats the purpose of h existting
<br>
</div>

<div class='talk op-msg' data-timestamp='1554328740' id='661440'>
<a class='timestamp' href='#661440'><time timestamp='2019-04-03T21:59:00Z'>21:59</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
well you don&#x27;t have to use getdescriptorinfo
<br>
</div>

<div class='talk op-msg' data-timestamp='1554328800' id='661441'>
<a class='timestamp' href='#661441'><time timestamp='2019-04-03T22:00:00Z'>22:00</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
is there an RPC that will checksum a descriptor for me without altering it first
<br>
</div>

<div class='talk op-msg' data-timestamp='1554328800' id='661442'>
<a class='timestamp' href='#661442'><time timestamp='2019-04-03T22:00:00Z'>22:00</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
not an RPC, but there is python code for it
<br>
</div>

<div class='talk op-msg' data-timestamp='1554328800' id='661443'>
<a class='timestamp' href='#661443'><time timestamp='2019-04-03T22:00:00Z'>22:00</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
can I argue for getdescriptorinfo not to alter the descriptor provided
<br>
</div>

<div class='talk op-msg' data-timestamp='1554328800' id='661444'>
<a class='timestamp' href='#661444'><time timestamp='2019-04-03T22:00:00Z'>22:00</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
(is there any other issue like this aside from h/&#x27;?)
<br>
</div>

<div class='talk op-msg' data-timestamp='1554328860' id='661445'>
<a class='timestamp' href='#661445'><time timestamp='2019-04-03T22:01:00Z'>22:01</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
if you include a private key in the descriptor, the canonical version will drop it
<br>
</div>

<div class='talk op-msg' data-timestamp='1554328860' id='661446'>
<a class='timestamp' href='#661446'><time timestamp='2019-04-03T22:01:00Z'>22:01</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
because that&#x27;s just syntactic sugar for the public version + simultaneously also conveying the private key
<br>
</div>

<div class='talk op-msg' data-timestamp='1554328860' id='661447'>
<a class='timestamp' href='#661447'><time timestamp='2019-04-03T22:01:00Z'>22:01</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
except again for the checksum caring about the difference
<br>
</div>

<div class='talk op-msg' data-timestamp='1554328920' id='661448'>
<a class='timestamp' href='#661448'><time timestamp='2019-04-03T22:02:00Z'>22:02</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1554328980' id='661449'>
<a class='timestamp' href='#661449'><time timestamp='2019-04-03T22:03:00Z'>22:03</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
I am heavily tempted to disable descriptor checksums locally while I&#x27;m doing development to make this more usable
<br>
</div>

<div class='talk op-msg' data-timestamp='1554328980' id='661450'>
<a class='timestamp' href='#661450'><time timestamp='2019-04-03T22:03:00Z'>22:03</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
that is not a good sign :-P
<br>
</div>

<div class='talk op-msg' data-timestamp='1554329040' id='661451'>
<a class='timestamp' href='#661451'><time timestamp='2019-04-03T22:04:00Z'>22:04</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it wouldn&#x27;t be hard to add an RPC that just adds the checksum, but otherwise leaves the descriptor untouched
<br>
</div>

<div class='talk op-msg' data-timestamp='1554329100' id='661452'>
<a class='timestamp' href='#661452'><time timestamp='2019-04-03T22:05:00Z'>22:05</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
would that help?
<br>
</div>

<div class='talk op-msg' data-timestamp='1554329100' id='661453'>
<a class='timestamp' href='#661453'><time timestamp='2019-04-03T22:05:00Z'>22:05</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
that would be helpful, but I also wonder if getdescriptorinfo really needs to canonicalize the descriptor
<br>
</div>

<div class='talk op-msg' data-timestamp='1554329100' id='661454'>
<a class='timestamp' href='#661454'><time timestamp='2019-04-03T22:05:00Z'>22:05</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
but either one would do, yeah
<br>
</div>

<div class='talk op-msg' data-timestamp='1554329100' id='661455'>
<a class='timestamp' href='#661455'><time timestamp='2019-04-03T22:05:00Z'>22:05</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
although I&#x27;m now building with descriptor checksums disabled anyway, since it was a one-line change
<br>
</div>

<div class='talk op-msg' data-timestamp='1554329100' id='661456'>
<a class='timestamp' href='#661456'><time timestamp='2019-04-03T22:05:00Z'>22:05</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
agree, perhaps it doesn&#x27;t need to in the first place
<br>
</div>

<div class='talk op-msg' data-timestamp='1554329100' id='661457'>
<a class='timestamp' href='#661457'><time timestamp='2019-04-03T22:05:00Z'>22:05</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
<b>*nods*</b>
<br>
</div>

<div class='talk op-msg' data-timestamp='1554329160' id='661458'>
<a class='timestamp' href='#661458'><time timestamp='2019-04-03T22:06:00Z'>22:06</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
if the canonical version were &#x27;h&#x27; rather than &quot;&#x27;&quot;, it wouldn&#x27;t require parsing to checksum the canonical version, since &quot;&#x27;&quot; can&#x27;t appear anywhere else as far as I know
<br>
</div>

<div class='talk op-msg' data-timestamp='1554329160' id='661459'>
<a class='timestamp' href='#661459'><time timestamp='2019-04-03T22:06:00Z'>22:06</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
(but this doesn&#x27;t solve private keys, and also it&#x27;s surely too late.)
<br>
</div>

<div class='talk op-msg' data-timestamp='1554329340' id='661460'>
<a class='timestamp' href='#661460'><time timestamp='2019-04-03T22:09:00Z'>22:09</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
a side effect of having the checksum depend on the exact string representation also means that &#x27;canonical&#x27; version doesn&#x27;t mean much
<br>
</div>

<div class='talk op-msg' data-timestamp='1554329340' id='661461'>
<a class='timestamp' href='#661461'><time timestamp='2019-04-03T22:09:00Z'>22:09</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
we could change the canonical encoding without breaking anything
<br>
</div>

<div class='talk op-msg' data-timestamp='1554329340' id='661462'>
<a class='timestamp' href='#661462'><time timestamp='2019-04-03T22:09:00Z'>22:09</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
certainly h is easier to work with than &quot;&#x27;&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1554329340' id='661463'>
<a class='timestamp' href='#661463'><time timestamp='2019-04-03T22:09:00Z'>22:09</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
I don&#x27;t know if it has any downsides I&#x27;m not thinking of
<br>
</div>

<div class='talk op-msg' data-timestamp='1554329400' id='661464'>
<a class='timestamp' href='#661464'><time timestamp='2019-04-03T22:10:00Z'>22:10</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
the &#x27; notation is more widespread
<br>
</div>

<div class='talk op-msg' data-timestamp='1554329400' id='661465'>
<a class='timestamp' href='#661465'><time timestamp='2019-04-03T22:10:00Z'>22:10</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I don&#x27;t think the rpc turning &#x27; into h would be a problem. It does need to accept &#x27; in inputs, of course.
<br>
</div>

<div class='talk op-msg' data-timestamp='1554329460' id='661466'>
<a class='timestamp' href='#661466'><time timestamp='2019-04-03T22:11:00Z'>22:11</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
yeah, it should absolutely still accept both
<br>
</div>

<div class='talk op-msg' data-timestamp='1554329460' id='661467'>
<a class='timestamp' href='#661467'><time timestamp='2019-04-03T22:11:00Z'>22:11</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
right now it turns h into &#x27;
<br>
</div>

<div class='talk op-msg' data-timestamp='1554329460' id='661468'>
<a class='timestamp' href='#661468'><time timestamp='2019-04-03T22:11:00Z'>22:11</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
wouldn&#x27;t be hard to make it not touch it as well
<br>
</div>

<div class='talk op-msg' data-timestamp='1554329520' id='661469'>
<a class='timestamp' href='#661469'><time timestamp='2019-04-03T22:12:00Z'>22:12</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
hm, I just did a ranged descriptor import with a range of 10,000
<br>
</div>

<div class='talk op-msg' data-timestamp='1554329520' id='661470'>
<a class='timestamp' href='#661470'><time timestamp='2019-04-03T22:12:00Z'>22:12</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
and it seems to have hung
<br>
</div>

<div class='talk op-msg' data-timestamp='1554329520' id='661471'>
<a class='timestamp' href='#661471'><time timestamp='2019-04-03T22:12:00Z'>22:12</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
it&#x27;s been 120 seconds
<br>
</div>

<div class='talk op-msg' data-timestamp='1554329520' id='661472'>
<a class='timestamp' href='#661472'><time timestamp='2019-04-03T22:12:00Z'>22:12</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
I think having the canonical one be &#x27;h&#x27; would be better
<br>
</div>

<div class='talk op-msg' data-timestamp='1554329520' id='661473'>
<a class='timestamp' href='#661473'><time timestamp='2019-04-03T22:12:00Z'>22:12</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
is it rescanning?
<br>
</div>

<div class='talk op-msg' data-timestamp='1554329520' id='661474'>
<a class='timestamp' href='#661474'><time timestamp='2019-04-03T22:12:00Z'>22:12</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
I used {&quot;rescan&quot;: false}
<br>
</div>

<div class='talk op-msg' data-timestamp='1554329520' id='661475'>
<a class='timestamp' href='#661475'><time timestamp='2019-04-03T22:12:00Z'>22:12</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that&#x27;s ungood
<br>
</div>

<div class='talk op-msg' data-timestamp='1554329580' id='661476'>
<a class='timestamp' href='#661476'><time timestamp='2019-04-03T22:13:00Z'>22:13</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
I will attach a debugger
<br>
</div>

<div class='talk op-msg' data-timestamp='1554329580' id='661477'>
<a class='timestamp' href='#661477'><time timestamp='2019-04-03T22:13:00Z'>22:13</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
also having getdescriptorinfo give the checksum for descriptors with privkeys too
<br>
</div>

<div class='talk op-msg' data-timestamp='1554329640' id='661478'>
<a class='timestamp' href='#661478'><time timestamp='2019-04-03T22:14:00Z'>22:14</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
gwillen: I think that is not unexpected
<br>
</div>

<div class='talk op-msg' data-timestamp='1554329640' id='661479'>
<a class='timestamp' href='#661479'><time timestamp='2019-04-03T22:14:00Z'>22:14</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
no?
<br>
</div>

<div class='talk op-msg' data-timestamp='1554329700' id='661480'>
<a class='timestamp' href='#661480'><time timestamp='2019-04-03T22:15:00Z'>22:15</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
IIRC it writes each generated key and key origin data independently without batching (I know, bad idea), so it takes a while due to disk I/O
<br>
</div>

<div class='talk op-msg' data-timestamp='1554329700' id='661481'>
<a class='timestamp' href='#661481'><time timestamp='2019-04-03T22:15:00Z'>22:15</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
I mean, awhile is awhile, but it&#x27;s now been like 5 minutes
<br>
</div>

<div class='talk op-msg' data-timestamp='1554329700' id='661482'>
<a class='timestamp' href='#661482'><time timestamp='2019-04-03T22:15:00Z'>22:15</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
that is a long while to perform 10,000 writes
<br>
</div>

<div class='talk op-msg' data-timestamp='1554329700' id='661483'>
<a class='timestamp' href='#661483'><time timestamp='2019-04-03T22:15:00Z'>22:15</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
and the gui thread is totally dead now
<br>
</div>

<div class='talk op-msg' data-timestamp='1554329700' id='661484'>
<a class='timestamp' href='#661484'><time timestamp='2019-04-03T22:15:00Z'>22:15</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
before the GUI was responding but the console wasn&#x27;t answering RPCs
<br>
</div>

<div class='talk op-msg' data-timestamp='1554329760' id='661485'>
<a class='timestamp' href='#661485'><time timestamp='2019-04-03T22:16:00Z'>22:16</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
hmm, that might be hung and not just taking awhile
<br>
</div>

<div class='talk op-msg' data-timestamp='1554329820' id='661486'>
<a class='timestamp' href='#661486'><time timestamp='2019-04-03T22:17:00Z'>22:17</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
we are inside CWallet::CanGetAddresses
<br>
</div>

<div class='talk op-msg' data-timestamp='1554329880' id='661487'>
<a class='timestamp' href='#661487'><time timestamp='2019-04-03T22:18:00Z'>22:18</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
gwillen: oh, deadlock?
<br>
</div>

<div class='talk op-msg' data-timestamp='1554329880' id='661488'>
<a class='timestamp' href='#661488'><time timestamp='2019-04-03T22:18:00Z'>22:18</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
oh, maybe, yeah, we&#x27;re trying to lock a mutex
<br>
</div>

<div class='talk op-msg' data-timestamp='1554329880' id='661489'>
<a class='timestamp' href='#661489'><time timestamp='2019-04-03T22:18:00Z'>22:18</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
the gui thread probably went into cangetaddresses but can&#x27;t acquire the lock so it
<br>
</div>

<div class='talk op-msg' data-timestamp='1554329880' id='661490'>
<a class='timestamp' href='#661490'><time timestamp='2019-04-03T22:18:00Z'>22:18</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gwillen: is this 0.18/master or something with changes by you?
<br>
</div>

<div class='talk op-msg' data-timestamp='1554329880' id='661491'>
<a class='timestamp' href='#661491'><time timestamp='2019-04-03T22:18:00Z'>22:18</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
as the lock is held by the rpc thread for import
<br>
</div>

<div class='talk op-msg' data-timestamp='1554329880' id='661492'>
<a class='timestamp' href='#661492'><time timestamp='2019-04-03T22:18:00Z'>22:18</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
sipa: changes by me
<br>
</div>

<div class='talk op-msg' data-timestamp='1554329940' id='661493'>
<a class='timestamp' href='#661493'><time timestamp='2019-04-03T22:19:00Z'>22:19</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
not to any of this though I would expect?
<br>
</div>

<div class='talk op-msg' data-timestamp='1554330000' id='661494'>
<a class='timestamp' href='#661494'><time timestamp='2019-04-03T22:20:00Z'>22:20</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
it looks like we may indeed be deadlocked trying to take cs_wallet at the top of CanGetAddresses
<br>
</div>

<div class='talk op-msg' data-timestamp='1554330000' id='661495'>
<a class='timestamp' href='#661495'><time timestamp='2019-04-03T22:20:00Z'>22:20</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
What lock would be held before cs_wallet in the call path to CanGetAddresses?  can you get a backtrace?
<br>
</div>

<div class='talk op-msg' data-timestamp='1554330060' id='661496'>
<a class='timestamp' href='#661496'><time timestamp='2019-04-03T22:21:00Z'>22:21</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(so we can figure out what the other lock involved in the inversion is?)
<br>
</div>

<div class='talk op-msg' data-timestamp='1554330060' id='661497'>
<a class='timestamp' href='#661497'><time timestamp='2019-04-03T22:21:00Z'>22:21</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gwillen: compile with -DDEBUG_LOCKORDER
<br>
</div>

<div class='talk op-msg' data-timestamp='1554330060' id='661498'>
<a class='timestamp' href='#661498'><time timestamp='2019-04-03T22:21:00Z'>22:21</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and try to reproduce
<br>
</div>

<div class='talk op-msg' data-timestamp='1554330060' id='661499'>
<a class='timestamp' href='#661499'><time timestamp='2019-04-03T22:21:00Z'>22:21</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I wonder if essentially anyone has used the GUI with -DDEBUG_LOCKORDER ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1554330060' id='661500'>
<a class='timestamp' href='#661500'><time timestamp='2019-04-03T22:21:00Z'>22:21</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
let me paste the backtrace first for gmaxwell 
<br>
</div>

<div class='talk op-msg' data-timestamp='1554330060' id='661501'>
<a class='timestamp' href='#661501'><time timestamp='2019-04-03T22:21:00Z'>22:21</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
I will try with debug_lockorder next
<br>
</div>

<div class='talk op-msg' data-timestamp='1554330060' id='661502'>
<a class='timestamp' href='#661502'><time timestamp='2019-04-03T22:21:00Z'>22:21</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
oh, the stack trace (for all threads) should actually tell you just as much
<br>
</div>

<div class='talk op-msg' data-timestamp='1554330060' id='661503'>
<a class='timestamp' href='#661503'><time timestamp='2019-04-03T22:21:00Z'>22:21</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
there are a lot of threads, how do I backtrace threads in bulk in lldb
<br>
</div>

<div class='talk op-msg' data-timestamp='1554330060' id='661504'>
<a class='timestamp' href='#661504'><time timestamp='2019-04-03T22:21:00Z'>22:21</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
thread apply all bt 
<br>
</div>

<div class='talk op-msg' data-timestamp='1554330120' id='661505'>
<a class='timestamp' href='#661505'><time timestamp='2019-04-03T22:22:00Z'>22:22</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
works in gdb, I assume lldb too
<br>
</div>

<div class='talk op-msg' data-timestamp='1554330120' id='661506'>
<a class='timestamp' href='#661506'><time timestamp='2019-04-03T22:22:00Z'>22:22</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
sadly it does not work in lldb
<br>
</div>

<div class='talk op-msg' data-timestamp='1554330120' id='661507'>
<a class='timestamp' href='#661507'><time timestamp='2019-04-03T22:22:00Z'>22:22</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
and I cannot gdb because mac
<br>
</div>

<div class='talk op-msg' data-timestamp='1554330120' id='661508'>
<a class='timestamp' href='#661508'><time timestamp='2019-04-03T22:22:00Z'>22:22</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sadness
<br>
</div>

<div class='talk op-msg' data-timestamp='1554330120' id='661509'>
<a class='timestamp' href='#661509'><time timestamp='2019-04-03T22:22:00Z'>22:22</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
thread backtrace all
<br>
</div>

<div class='talk op-msg' data-timestamp='1554330120' id='661510'>
<a class='timestamp' href='#661510'><time timestamp='2019-04-03T22:22:00Z'>22:22</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
bt all
<br>
</div>

<div class='talk op-msg' data-timestamp='1554330120' id='661511'>
<a class='timestamp' href='#661511'><time timestamp='2019-04-03T22:22:00Z'>22:22</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
aha
<br>
</div>

<div class='talk op-msg' data-timestamp='1554330120' id='661512'>
<a class='timestamp' href='#661512'><time timestamp='2019-04-03T22:22:00Z'>22:22</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
^ lldb commands.
<br>
</div>

<div class='talk op-msg' data-timestamp='1554330240' id='661513'>
<a class='timestamp' href='#661513'><time timestamp='2019-04-03T22:24:00Z'>22:24</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
gwillen: can you check if your wallet file is being modified?
<br>
</div>

<div class='talk op-msg' data-timestamp='1554330300' id='661514'>
<a class='timestamp' href='#661514'><time timestamp='2019-04-03T22:25:00Z'>22:25</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(being modified while not paused in the debugger)
<br>
</div>

<div class='talk op-msg' data-timestamp='1554330300' id='661515'>
<a class='timestamp' href='#661515'><time timestamp='2019-04-03T22:25:00Z'>22:25</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
GUI hanging in CanGetAddresses doesn&#x27;t itself imply that there is a deadlock there. e.g. it could just be waiting on a lock that is deadlocked elsewhere, or not even locked but absurdly slow.
<br>
</div>

<div class='talk op-msg' data-timestamp='1554330360' id='661516'>
<a class='timestamp' href='#661516'><time timestamp='2019-04-03T22:26:00Z'>22:26</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
hm yes, it is being modified
<br>
</div>

<div class='talk op-msg' data-timestamp='1554330360' id='661517'>
<a class='timestamp' href='#661517'><time timestamp='2019-04-03T22:26:00Z'>22:26</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
it is growing.
<br>
</div>

<div class='talk op-msg' data-timestamp='1554330360' id='661518'>
<a class='timestamp' href='#661518'><time timestamp='2019-04-03T22:26:00Z'>22:26</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
gmaxwell: I&#x27;m pretty sure it&#x27;s hanging in CanGetAddresses because cs_wallet is locked by the inport, which CanGetAddresses needs to acquire
<br>
</div>

<div class='talk op-msg' data-timestamp='1554330360' id='661519'>
<a class='timestamp' href='#661519'><time timestamp='2019-04-03T22:26:00Z'>22:26</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
it&#x27;s quite large.
<br>
</div>

<div class='talk op-msg' data-timestamp='1554330360' id='661520'>
<a class='timestamp' href='#661520'><time timestamp='2019-04-03T22:26:00Z'>22:26</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
no shit. that&#x27;s 10000 keys
<br>
</div>

<div class='talk op-msg' data-timestamp='1554330360' id='661521'>
<a class='timestamp' href='#661521'><time timestamp='2019-04-03T22:26:00Z'>22:26</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
how big is a key?
<br>
</div>

<div class='talk op-msg' data-timestamp='1554330420' id='661522'>
<a class='timestamp' href='#661522'><time timestamp='2019-04-03T22:27:00Z'>22:27</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
this seems like support for &quot;not even locked but absurdly slow&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1554330420' id='661523'>
<a class='timestamp' href='#661523'><time timestamp='2019-04-03T22:27:00Z'>22:27</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I was about to say that.
<br>
</div>

<div class='talk op-msg' data-timestamp='1554330420' id='661524'>
<a class='timestamp' href='#661524'><time timestamp='2019-04-03T22:27:00Z'>22:27</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
33 bytes + keyid a few times + metadata. probably like 80 bytes at least
<br>
</div>

<div class='talk op-msg' data-timestamp='1554330420' id='661525'>
<a class='timestamp' href='#661525'><time timestamp='2019-04-03T22:27:00Z'>22:27</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
key records are on the order of 100 bytes I think.
<br>
</div>

<div class='talk op-msg' data-timestamp='1554330480' id='661526'>
<a class='timestamp' href='#661526'><time timestamp='2019-04-03T22:28:00Z'>22:28</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
i&#x27;m testing this locally. it looks like it spends a while on key derivation also
<br>
</div>

<div class='talk op-msg' data-timestamp='1554330480' id='661527'>
<a class='timestamp' href='#661527'><time timestamp='2019-04-03T22:28:00Z'>22:28</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
does it also duplicate full key origin info for each?
<br>
</div>

<div class='talk op-msg' data-timestamp='1554330480' id='661528'>
<a class='timestamp' href='#661528'><time timestamp='2019-04-03T22:28:00Z'>22:28</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
that would make it bigger.
<br>
</div>

<div class='talk op-msg' data-timestamp='1554330480' id='661529'>
<a class='timestamp' href='#661529'><time timestamp='2019-04-03T22:28:00Z'>22:28</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1554330480' id='661530'>
<a class='timestamp' href='#661530'><time timestamp='2019-04-03T22:28:00Z'>22:28</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
we&#x27;re at 4 megs and growing
<br>
</div>

<div class='talk op-msg' data-timestamp='1554330480' id='661531'>
<a class='timestamp' href='#661531'><time timestamp='2019-04-03T22:28:00Z'>22:28</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
not unexpected
<br>
</div>

<div class='talk op-msg' data-timestamp='1554330480' id='661532'>
<a class='timestamp' href='#661532'><time timestamp='2019-04-03T22:28:00Z'>22:28</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
so it&#x27;s definitely more than 80 bytes per.
<br>
</div>

<div class='talk op-msg' data-timestamp='1554330480' id='661533'>
<a class='timestamp' href='#661533'><time timestamp='2019-04-03T22:28:00Z'>22:28</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
key entry + metqdata entry + keypool entry if applicable
<br>
</div>

<div class='talk op-msg' data-timestamp='1554330480' id='661534'>
<a class='timestamp' href='#661534'><time timestamp='2019-04-03T22:28:00Z'>22:28</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
for each
<br>
</div>

<div class='talk op-msg' data-timestamp='1554330540' id='661535'>
<a class='timestamp' href='#661535'><time timestamp='2019-04-03T22:29:00Z'>22:29</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
I considered picking a more realistic number than 10,000, fwiw, I have no actual need for this to work
<br>
</div>

<div class='talk op-msg' data-timestamp='1554330540' id='661536'>
<a class='timestamp' href='#661536'><time timestamp='2019-04-03T22:29:00Z'>22:29</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
also, uncompresed wallet?
<br>
</div>

<div class='talk op-msg' data-timestamp='1554330540' id='661537'>
<a class='timestamp' href='#661537'><time timestamp='2019-04-03T22:29:00Z'>22:29</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
I typed it mostly on a lark because computers are fast
<br>
</div>

<div class='talk op-msg' data-timestamp='1554330540' id='661538'>
<a class='timestamp' href='#661538'><time timestamp='2019-04-03T22:29:00Z'>22:29</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
in that case private keys are 270 bytes
<br>
</div>

<div class='talk op-msg' data-timestamp='1554330540' id='661539'>
<a class='timestamp' href='#661539'><time timestamp='2019-04-03T22:29:00Z'>22:29</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
hm, I don&#x27;t know, whatever the default is for a new wallet
<br>
</div>

<div class='talk op-msg' data-timestamp='1554330540' id='661540'>
<a class='timestamp' href='#661540'><time timestamp='2019-04-03T22:29:00Z'>22:29</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
well it should be fast this is a bug.
<br>
</div>

<div class='talk op-msg' data-timestamp='1554330600' id='661541'>
<a class='timestamp' href='#661541'><time timestamp='2019-04-03T22:30:00Z'>22:30</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I mean if you said it took a couple seconds, sure whatever, who cares.
<br>
</div>

<div class='talk op-msg' data-timestamp='1554330600' id='661542'>
<a class='timestamp' href='#661542'><time timestamp='2019-04-03T22:30:00Z'>22:30</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
yeah
<br>
</div>

<div class='talk op-msg' data-timestamp='1554330600' id='661543'>
<a class='timestamp' href='#661543'><time timestamp='2019-04-03T22:30:00Z'>22:30</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
I just tested it. it took 6 minutes for my machine to do an import of a ranged descriptor for 10000 keys
<br>
</div>

<div class='talk op-msg' data-timestamp='1554330600' id='661544'>
<a class='timestamp' href='#661544'><time timestamp='2019-04-03T22:30:00Z'>22:30</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
I should clearly go into QA
<br>
</div>

<div class='talk op-msg' data-timestamp='1554330660' id='661545'>
<a class='timestamp' href='#661545'><time timestamp='2019-04-03T22:31:00Z'>22:31</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
given my ability to provoke software to do stupid shit ;-)
<br>
</div>

<div class='talk op-msg' data-timestamp='1554330780' id='661546'>
<a class='timestamp' href='#661546'><time timestamp='2019-04-03T22:33:00Z'>22:33</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
filed #15739
<br>
</div>

<div class='talk op-msg' data-timestamp='1554330780' id='661547'>
<a class='timestamp' href='#661547'><time timestamp='2019-04-03T22:33:00Z'>22:33</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/15739" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/15739</a> | large ranged descriptor imports are sloooooooooow. · Issue #15739 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1554330780' id='661548'>
<a class='timestamp' href='#661548'><time timestamp='2019-04-03T22:33:00Z'>22:33</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I&#x27;m gussing it&#x27;s doing something stupid like opening and closing the wallet for each key.
<br>
</div>

<div class='talk op-msg' data-timestamp='1554330780' id='661549'>
<a class='timestamp' href='#661549'><time timestamp='2019-04-03T22:33:00Z'>22:33</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
gmaxwell: it&#x27;s not using a batch write. using a batch write should speed it up significantly
<br>
</div>

<div class='talk op-msg' data-timestamp='1554330840' id='661550'>
<a class='timestamp' href='#661550'><time timestamp='2019-04-03T22:34:00Z'>22:34</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gwillen: it absolutely is doing that
<br>
</div>

<div class='talk op-msg' data-timestamp='1554330840' id='661551'>
<a class='timestamp' href='#661551'><time timestamp='2019-04-03T22:34:00Z'>22:34</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
even opening and closing the wallet 10,000 times shouldn&#x27;t take 6 minutes, should it?
<br>
</div>

<div class='talk op-msg' data-timestamp='1554330840' id='661552'>
<a class='timestamp' href='#661552'><time timestamp='2019-04-03T22:34:00Z'>22:34</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
are you on an I/O starved VPS? :p
<br>
</div>

<div class='talk op-msg' data-timestamp='1554330840' id='661553'>
<a class='timestamp' href='#661553'><time timestamp='2019-04-03T22:34:00Z'>22:34</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
gwillen: it writes and fsyncs each time.
<br>
</div>

<div class='talk op-msg' data-timestamp='1554330840' id='661554'>
<a class='timestamp' href='#661554'><time timestamp='2019-04-03T22:34:00Z'>22:34</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
I guess if every time it opens it, it scans and validates a bunch of things, fires a bunch of notifications, etc. etc.
<br>
</div>

<div class='talk op-msg' data-timestamp='1554330840' id='661555'>
<a class='timestamp' href='#661555'><time timestamp='2019-04-03T22:34:00Z'>22:34</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
and on mac there is no file-centric fsync.
<br>
</div>

<div class='talk op-msg' data-timestamp='1554330840' id='661556'>
<a class='timestamp' href='#661556'><time timestamp='2019-04-03T22:34:00Z'>22:34</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
working on fix
<br>
</div>

<div class='talk op-msg' data-timestamp='1554330900' id='661557'>
<a class='timestamp' href='#661557'><time timestamp='2019-04-03T22:35:00Z'>22:35</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
achow101: nice
<br>
</div>

<div class='talk op-msg' data-timestamp='1554330960' id='661558'>
<a class='timestamp' href='#661558'><time timestamp='2019-04-03T22:36:00Z'>22:36</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i guess some of the wallet encryption logic can be used to avoid opening/closing the db every time?
<br>
</div>

<div class='talk op-msg' data-timestamp='1554330960' id='661559'>
<a class='timestamp' href='#661559'><time timestamp='2019-04-03T22:36:00Z'>22:36</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
will my testnet wallet get rekt if I murder this process in the middle of whatever it&#x27;s doing
<br>
</div>

<div class='talk op-msg' data-timestamp='1554331020' id='661560'>
<a class='timestamp' href='#661560'><time timestamp='2019-04-03T22:37:00Z'>22:37</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
We had this same problem with the original wallet creation at one point, IIRC
<br>
</div>

<div class='talk op-msg' data-timestamp='1554331020' id='661561'>
<a class='timestamp' href='#661561'><time timestamp='2019-04-03T22:37:00Z'>22:37</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
sipa: what&#x27;s the deal with wallet compression, is it an option?
<br>
</div>

<div class='talk op-msg' data-timestamp='1554331140' id='661562'>
<a class='timestamp' href='#661562'><time timestamp='2019-04-03T22:39:00Z'>22:39</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gwillen: if you never encrypted the wallet it&#x27;s unencrypted
<br>
</div>

<div class='talk op-msg' data-timestamp='1554331200' id='661563'>
<a class='timestamp' href='#661563'><time timestamp='2019-04-03T22:40:00Z'>22:40</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
erm, you said compression before, but this time you said encryption
<br>
</div>

<div class='talk op-msg' data-timestamp='1554331200' id='661564'>
<a class='timestamp' href='#661564'><time timestamp='2019-04-03T22:40:00Z'>22:40</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i meant encrypted :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1554331200' id='661565'>
<a class='timestamp' href='#661565'><time timestamp='2019-04-03T22:40:00Z'>22:40</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
oh, heh
<br>
</div>

<div class='talk op-msg' data-timestamp='1554331200' id='661566'>
<a class='timestamp' href='#661566'><time timestamp='2019-04-03T22:40:00Z'>22:40</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
does encryption also compress
<br>
</div>

<div class='talk op-msg' data-timestamp='1554331200' id='661567'>
<a class='timestamp' href='#661567'><time timestamp='2019-04-03T22:40:00Z'>22:40</time></a>
&lt;<span class='nick nick-4'> * sipa</span>&gt;
falls asleep
<br>
</div>

<div class='talk op-msg' data-timestamp='1554331260' id='661568'>
<a class='timestamp' href='#661568'><time timestamp='2019-04-03T22:41:00Z'>22:41</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
or is this not actually relevant to the problem of walletfile being huge
<br>
</div>

<div class='talk op-msg' data-timestamp='1554331260' id='661569'>
<a class='timestamp' href='#661569'><time timestamp='2019-04-03T22:41:00Z'>22:41</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
you said something about 270 bytes per key
<br>
</div>

<div class='talk op-msg' data-timestamp='1554331260' id='661570'>
<a class='timestamp' href='#661570'><time timestamp='2019-04-03T22:41:00Z'>22:41</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
I would have assumed default compression, especially if we&#x27;re repeating mostly-redundant key origin info for every key
<br>
</div>

<div class='talk op-msg' data-timestamp='1554331260' id='661571'>
<a class='timestamp' href='#661571'><time timestamp='2019-04-03T22:41:00Z'>22:41</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
that should be extremely compressible
<br>
</div>

<div class='talk op-msg' data-timestamp='1554331320' id='661572'>
<a class='timestamp' href='#661572'><time timestamp='2019-04-03T22:42:00Z'>22:42</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
my wallet has reached 8.5 megs 
<br>
</div>

<div class='talk op-msg' data-timestamp='1554331320' id='661573'>
<a class='timestamp' href='#661573'><time timestamp='2019-04-03T22:42:00Z'>22:42</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gwillen: the old unencrypted wallet format stores private keys in a ricldiculous der encoded format of 279 bytes per key
<br>
</div>

<div class='talk op-msg' data-timestamp='1554331380' id='661574'>
<a class='timestamp' href='#661574'><time timestamp='2019-04-03T22:43:00Z'>22:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
where only 32 bytes are needed
<br>
</div>

<div class='talk op-msg' data-timestamp='1554331380' id='661575'>
<a class='timestamp' href='#661575'><time timestamp='2019-04-03T22:43:00Z'>22:43</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
ah, well this wallet should be relatively new, like within the last few months
<br>
</div>

<div class='talk op-msg' data-timestamp='1554331380' id='661576'>
<a class='timestamp' href='#661576'><time timestamp='2019-04-03T22:43:00Z'>22:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
not relevant
<br>
</div>

<div class='talk op-msg' data-timestamp='1554331380' id='661577'>
<a class='timestamp' href='#661577'><time timestamp='2019-04-03T22:43:00Z'>22:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
the encoding used for unencrypted keys is still that der one
<br>
</div>

<div class='talk op-msg' data-timestamp='1554331380' id='661578'>
<a class='timestamp' href='#661578'><time timestamp='2019-04-03T22:43:00Z'>22:43</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
also this is watchonly so there are no private keys anyway
<br>
</div>

<div class='talk op-msg' data-timestamp='1554331380' id='661579'>
<a class='timestamp' href='#661579'><time timestamp='2019-04-03T22:43:00Z'>22:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
oh!
<br>
</div>

<div class='talk op-msg' data-timestamp='1554331380' id='661580'>
<a class='timestamp' href='#661580'><time timestamp='2019-04-03T22:43:00Z'>22:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
then this is all irrelevant
<br>
</div>

<div class='talk op-msg' data-timestamp='1554331440' id='661581'>
<a class='timestamp' href='#661581'><time timestamp='2019-04-03T22:44:00Z'>22:44</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
so presumably all that space is being taken up by key origin info and other metadata
<br>
</div>

<div class='talk op-msg' data-timestamp='1554331440' id='661582'>
<a class='timestamp' href='#661582'><time timestamp='2019-04-03T22:44:00Z'>22:44</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
although that&#x27;s still more than 1kb per key, which seems huge
<br>
</div>

<div class='talk op-msg' data-timestamp='1554331440' id='661583'>
<a class='timestamp' href='#661583'><time timestamp='2019-04-03T22:44:00Z'>22:44</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
achow101: how large did your wallet get after you spent 6 minutes importing 10,000 keys
<br>
</div>

<div class='talk op-msg' data-timestamp='1554331500' id='661584'>
<a class='timestamp' href='#661584'><time timestamp='2019-04-03T22:45:00Z'>22:45</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gwillen: doesn&#x27;t surprise me
<br>
</div>

<div class='talk op-msg' data-timestamp='1554331500' id='661585'>
<a class='timestamp' href='#661585'><time timestamp='2019-04-03T22:45:00Z'>22:45</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
gwillen: 8 MB, but I also did it again and now it&#x27;s 16 MB
<br>
</div>

<div class='talk op-msg' data-timestamp='1554331500' id='661586'>
<a class='timestamp' href='#661586'><time timestamp='2019-04-03T22:45:00Z'>22:45</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
heh
<br>
</div>

<div class='talk op-msg' data-timestamp='1554331500' id='661587'>
<a class='timestamp' href='#661587'><time timestamp='2019-04-03T22:45:00Z'>22:45</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
so mine was almost done probably
<br>
</div>

<div class='talk op-msg' data-timestamp='1554331620' id='661588'>
<a class='timestamp' href='#661588'><time timestamp='2019-04-03T22:47:00Z'>22:47</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
doing 100 takes 3 seconds on my machine, so 10000 would have taken about 5 minutes to finish
<br>
</div>

<div class='talk op-msg' data-timestamp='1554332760' id='661589'>
<a class='timestamp' href='#661589'><time timestamp='2019-04-03T23:06:00Z'>23:06</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
well batching writes reduced that from 6:56 to 1:24
<br>
</div>

<div class='talk op-msg' data-timestamp='1554332880' id='661590'>
<a class='timestamp' href='#661590'><time timestamp='2019-04-03T23:08:00Z'>23:08</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
ha
<br>
</div>

<div class='talk op-msg' data-timestamp='1554333480' id='661591'>
<a class='timestamp' href='#661591'><time timestamp='2019-04-03T23:18:00Z'>23:18</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] achow101 opened pull request #15741: Batch write imported stuff in importmulti (master...batch-write-importmulti) <a href="https://github.com/bitcoin/bitcoin/pull/15741" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/15741</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1554333480' id='661592'>
<a class='timestamp' href='#661592'><time timestamp='2019-04-03T23:18:00Z'>23:18</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
gwillen: ^^
<br>
</div>

<div class='talk op-msg' data-timestamp='1554333660' id='661593'>
<a class='timestamp' href='#661593'><time timestamp='2019-04-03T23:21:00Z'>23:21</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
:+1: will review!
<br>
</div>

<div class='talk op-msg' data-timestamp='1554334020' id='661594'>
<a class='timestamp' href='#661594'><time timestamp='2019-04-03T23:27:00Z'>23:27</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
achow101: is this kind of manual batching typical of using WalletBatch? I wonder if it would make sense to have a self-flushing WalletWriteCache or something 
<br>
</div>

<div class='talk op-msg' data-timestamp='1554334020' id='661595'>
<a class='timestamp' href='#661595'><time timestamp='2019-04-03T23:27:00Z'>23:27</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
to avoid having to have all the fiddly counting of entries
<br>
</div>

<div class='talk op-msg' data-timestamp='1554334080' id='661596'>
<a class='timestamp' href='#661596'><time timestamp='2019-04-03T23:28:00Z'>23:28</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
gwillen: we do something similar for initial key generation
<br>
</div>

<div class='talk op-msg' data-timestamp='1554334080' id='661597'>
<a class='timestamp' href='#661597'><time timestamp='2019-04-03T23:28:00Z'>23:28</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
i was mostly following upgradekeymetadata (aka copy paste) which does counting
<br>
</div>

<div class='talk op-msg' data-timestamp='1554334200' id='661598'>
<a class='timestamp' href='#661598'><time timestamp='2019-04-03T23:30:00Z'>23:30</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
would be good to factor it out nicely ;-)
<br>
</div>

<div class='talk op-msg' data-timestamp='1554335160' id='661599'>
<a class='timestamp' href='#661599'><time timestamp='2019-04-03T23:46:00Z'>23:46</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] kallewoof closed pull request #13746: -masterdatadir for datadir bootstrapping (master...masterdatadir) <a href="https://github.com/bitcoin/bitcoin/pull/13746" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/13746</a>
<br>
</div>

</div>
</section>

</body>
</html>
