<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2016-08-10
 — 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2016-08-10' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:26 UTC</pre>
<pre><a href="/bitcoin-core-dev/2016-07-10">&lt;</a><span class='header'>   August 2016    </span><a href="/bitcoin-core-dev/2016-09-10">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;    <a class="" href="/bitcoin-core-dev/2016-08-01">1</a>  <a class="" href="/bitcoin-core-dev/2016-08-02">2</a>  <a class="" href="/bitcoin-core-dev/2016-08-03">3</a>  <a class="" href="/bitcoin-core-dev/2016-08-04">4</a>  <a class="" href="/bitcoin-core-dev/2016-08-05">5</a>  <a class="" href="/bitcoin-core-dev/2016-08-06">6</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2016-08-07">7</a>  <a class="" href="/bitcoin-core-dev/2016-08-08">8</a>  <a class="" href="/bitcoin-core-dev/2016-08-09">9</a> <a class="current" href="/bitcoin-core-dev/2016-08-10">10</a> <a class="" href="/bitcoin-core-dev/2016-08-11">11</a> <a class="" href="/bitcoin-core-dev/2016-08-12">12</a> <a class="" href="/bitcoin-core-dev/2016-08-13">13</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2016-08-14">14</a> <a class="" href="/bitcoin-core-dev/2016-08-15">15</a> <a class="" href="/bitcoin-core-dev/2016-08-16">16</a> <a class="" href="/bitcoin-core-dev/2016-08-17">17</a> <a class="" href="/bitcoin-core-dev/2016-08-18">18</a> <a class="" href="/bitcoin-core-dev/2016-08-19">19</a> <a class="" href="/bitcoin-core-dev/2016-08-20">20</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2016-08-21">21</a> <a class="" href="/bitcoin-core-dev/2016-08-22">22</a> <a class="" href="/bitcoin-core-dev/2016-08-23">23</a> <a class="" href="/bitcoin-core-dev/2016-08-24">24</a> <a class="" href="/bitcoin-core-dev/2016-08-25">25</a> <a class="" href="/bitcoin-core-dev/2016-08-26">26</a> <a class="" href="/bitcoin-core-dev/2016-08-27">27</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2016-08-28">28</a> <a class="" href="/bitcoin-core-dev/2016-08-29">29</a> <a class="" href="/bitcoin-core-dev/2016-08-30">30</a> <a class="" href="/bitcoin-core-dev/2016-08-31">31</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1470794340' id='485549'>
<a class='timestamp' href='#485549'><time timestamp='2016-08-10T01:59:00Z'>01:59</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
How do you distinguish between a txid node and non txid node in a MerkleBlock message? Is it simply the fact that that we have hit the maximum height on the binary tree?
<br>
</div>

<div class='talk op-msg' data-timestamp='1470794340' id='485550'>
<a class='timestamp' href='#485550'><time timestamp='2016-08-10T01:59:00Z'>01:59</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
<a href="https://bitcoin.org/en/developer-reference#parsing-a-merkleblock-message" class="link" target="_blank">https://bitcoin.org/en/developer-reference#parsing-a-merkleblock-message</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1470795000' id='485551'>
<a class='timestamp' href='#485551'><time timestamp='2016-08-10T02:10:00Z'>02:10</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
sipa: well clearly it doesn&#x27;t work
<br>
</div>

<div class='talk op-msg' data-timestamp='1470795060' id='485552'>
<a class='timestamp' href='#485552'><time timestamp='2016-08-10T02:11:00Z'>02:11</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
achow101: sorry, can you give a link to your compile output again?
<br>
</div>

<div class='talk op-msg' data-timestamp='1470795060' id='485553'>
<a class='timestamp' href='#485553'><time timestamp='2016-08-10T02:11:00Z'>02:11</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
Chris_Stewart_5: eh...
<br>
</div>

<div class='talk op-msg' data-timestamp='1470795120' id='485554'>
<a class='timestamp' href='#485554'><time timestamp='2016-08-10T02:12:00Z'>02:12</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
Chris_Stewart_5: right, you do by knowing the transaction count
<br>
</div>

<div class='talk op-msg' data-timestamp='1470795240' id='485555'>
<a class='timestamp' href='#485555'><time timestamp='2016-08-10T02:14:00Z'>02:14</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
sipa: Is there any other way with just a merkle block message? The docs distinguish between txids nodes (leaves in the full merkle tree) and non txid nodes
<br>
</div>

<div class='talk op-msg' data-timestamp='1470795240' id='485556'>
<a class='timestamp' href='#485556'><time timestamp='2016-08-10T02:14:00Z'>02:14</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
but, from what I can tell, you still need to compute the full tree with empty nodes to make that distinguishment? Am I missing something? 
<br>
</div>

<div class='talk op-msg' data-timestamp='1470795600' id='485557'>
<a class='timestamp' href='#485557'><time timestamp='2016-08-10T02:20:00Z'>02:20</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
sipa: <a href="https://gist.github.com/achow101/841c0c5bedaa3e0a6f641fa94b8e8c67" class="link" target="_blank">https://gist.github.com/achow101/841c0c5bedaa3e0a6f641fa94b8e8c67</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1470795960' id='485558'>
<a class='timestamp' href='#485558'><time timestamp='2016-08-10T02:26:00Z'>02:26</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
Chris_Stewart_5: no you don&#x27;t
<br>
</div>

<div class='talk op-msg' data-timestamp='1470796080' id='485559'>
<a class='timestamp' href='#485559'><time timestamp='2016-08-10T02:28:00Z'>02:28</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
achow101: that really looks like you&#x27;re compiling without c++11
<br>
</div>

<div class='talk op-msg' data-timestamp='1470796140' id='485560'>
<a class='timestamp' href='#485560'><time timestamp='2016-08-10T02:29:00Z'>02:29</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
any idea on how to                                                                                                                                                      fix it?I&#x27;m using the lates versions I caaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa
<br>
</div>

<div class='talk op-msg' data-timestamp='1470796140' id='485561'>
<a class='timestamp' href='#485561'><time timestamp='2016-08-10T02:29:00Z'>02:29</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa
<br>
</div>

<div class='talk op-msg' data-timestamp='1470796200' id='485562'>
<a class='timestamp' href='#485562'><time timestamp='2016-08-10T02:30:00Z'>02:30</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaan get
<br>
</div>

<div class='talk op-msg' data-timestamp='1470796200' id='485563'>
<a class='timestamp' href='#485563'><time timestamp='2016-08-10T02:30:00Z'>02:30</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
achow101: what are you doing exactly?
<br>
</div>

<div class='talk op-msg' data-timestamp='1470796200' id='485564'>
<a class='timestamp' href='#485564'><time timestamp='2016-08-10T02:30:00Z'>02:30</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
achow101: is this gitian?
<br>
</div>

<div class='talk op-msg' data-timestamp='1470796260' id='485565'>
<a class='timestamp' href='#485565'><time timestamp='2016-08-10T02:31:00Z'>02:31</time></a>
&lt;<span class='nick nick-9'> achow101_</span>&gt;
sorry the keyboard on my other computer spazzed out
<br>
</div>

<div class='talk op-msg' data-timestamp='1470796260' id='485566'>
<a class='timestamp' href='#485566'><time timestamp='2016-08-10T02:31:00Z'>02:31</time></a>
&lt;<span class='nick nick-9'> achow101_</span>&gt;
it isn&#x27;t gitian
<br>
</div>

<div class='talk op-msg' data-timestamp='1470796320' id='485567'>
<a class='timestamp' href='#485567'><time timestamp='2016-08-10T02:32:00Z'>02:32</time></a>
&lt;<span class='nick nick-9'> achow101_</span>&gt;
gitian works fine
<br>
</div>

<div class='talk op-msg' data-timestamp='1470796320' id='485568'>
<a class='timestamp' href='#485568'><time timestamp='2016-08-10T02:32:00Z'>02:32</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
so what are you doing?
<br>
</div>

<div class='talk op-msg' data-timestamp='1470796320' id='485569'>
<a class='timestamp' href='#485569'><time timestamp='2016-08-10T02:32:00Z'>02:32</time></a>
&lt;<span class='nick nick-9'> achow101_</span>&gt;
cross compiling master for windows on Ubuntu 15.10
<br>
</div>

<div class='talk op-msg' data-timestamp='1470796500' id='485570'>
<a class='timestamp' href='#485570'><time timestamp='2016-08-10T02:35:00Z'>02:35</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
using depends?
<br>
</div>

<div class='talk op-msg' data-timestamp='1470796560' id='485571'>
<a class='timestamp' href='#485571'><time timestamp='2016-08-10T02:36:00Z'>02:36</time></a>
&lt;<span class='nick nick-9'> achow101_</span>&gt;
yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1470796620' id='485572'>
<a class='timestamp' href='#485572'><time timestamp='2016-08-10T02:37:00Z'>02:37</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
sipa: What is the trick then to distinguish, the docs say: 
<br>
</div>

<div class='talk op-msg' data-timestamp='1470796620' id='485573'>
<a class='timestamp' href='#485573'><time timestamp='2016-08-10T02:37:00Z'>02:37</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
you just walk the tree
<br>
</div>

<div class='talk op-msg' data-timestamp='1470796620' id='485574'>
<a class='timestamp' href='#485574'><time timestamp='2016-08-10T02:37:00Z'>02:37</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
you know the depth of each node you traverse
<br>
</div>

<div class='talk op-msg' data-timestamp='1470796680' id='485575'>
<a class='timestamp' href='#485575'><time timestamp='2016-08-10T02:38:00Z'>02:38</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
you know the total depth of the tree at every point
<br>
</div>

<div class='talk op-msg' data-timestamp='1470796680' id='485576'>
<a class='timestamp' href='#485576'><time timestamp='2016-08-10T02:38:00Z'>02:38</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
the rules tell you whether to descend or not
<br>
</div>

<div class='talk op-msg' data-timestamp='1470796680' id='485577'>
<a class='timestamp' href='#485577'><time timestamp='2016-08-10T02:38:00Z'>02:38</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
ugh thank you for the help -- been talking (or thinking) myself in circles all day. That makes sense
<br>
</div>

<div class='talk op-msg' data-timestamp='1470796740' id='485578'>
<a class='timestamp' href='#485578'><time timestamp='2016-08-10T02:39:00Z'>02:39</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
wait -- you derive the height from the tx count right?
<br>
</div>

<div class='talk op-msg' data-timestamp='1470796740' id='485579'>
<a class='timestamp' href='#485579'><time timestamp='2016-08-10T02:39:00Z'>02:39</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
2 ^ n?
<br>
</div>

<div class='talk op-msg' data-timestamp='1470796740' id='485580'>
<a class='timestamp' href='#485580'><time timestamp='2016-08-10T02:39:00Z'>02:39</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1470796800' id='485581'>
<a class='timestamp' href='#485581'><time timestamp='2016-08-10T02:40:00Z'>02:40</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
much appreciated. Did you have a chance to look at my pull request for property based testing? Thoughts if so? 
<br>
</div>

<div class='talk op-msg' data-timestamp='1470797040' id='485582'>
<a class='timestamp' href='#485582'><time timestamp='2016-08-10T02:44:00Z'>02:44</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
Chris_Stewart_5: i haven&#x27;t looked at it, but no concerns about adding such a framework
<br>
</div>

<div class='talk op-msg' data-timestamp='1470797040' id='485583'>
<a class='timestamp' href='#485583'><time timestamp='2016-08-10T02:44:00Z'>02:44</time></a>
&lt;<span class='nick nick-4'> * sipa</span>&gt;
dinner
<br>
</div>

<div class='talk op-msg' data-timestamp='1470808140' id='485584'>
<a class='timestamp' href='#485584'><time timestamp='2016-08-10T05:49:00Z'>05:49</time></a>
&lt;<span class='nick nick-15'> GitHub128</span>&gt;
[bitcoin] sipa pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/6e6ab2c32382...484312bda2d4" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/6e6ab2c32382...484312bda2d4</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1470808140' id='485585'>
<a class='timestamp' href='#485585'><time timestamp='2016-08-10T05:49:00Z'>05:49</time></a>
&lt;<span class='nick nick-15'> GitHub128</span>&gt;
bitcoin/master 4a35e0f Pavel Janík: Do not shadow members in dbwrapper
<br>
</div>

<div class='talk op-msg' data-timestamp='1470808140' id='485586'>
<a class='timestamp' href='#485586'><time timestamp='2016-08-10T05:49:00Z'>05:49</time></a>
&lt;<span class='nick nick-15'> GitHub128</span>&gt;
bitcoin/master 484312b Pieter Wuille: Merge #8467: [Trivial] Do not shadow members in dbwrapper...
<br>
</div>

<div class='talk op-msg' data-timestamp='1470808140' id='485587'>
<a class='timestamp' href='#485587'><time timestamp='2016-08-10T05:49:00Z'>05:49</time></a>
&lt;<span class='nick nick-3'> GitHub86</span>&gt;
[bitcoin] sipa closed pull request #8467: [Trivial] Do not shadow members in dbwrapper (master...20160805_Wshadow_dbwrapper) <a href="https://github.com/bitcoin/bitcoin/pull/8467" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8467</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1470811380' id='485588'>
<a class='timestamp' href='#485588'><time timestamp='2016-08-10T06:43:00Z'>06:43</time></a>
&lt;<span class='nick nick-3'> GitHub189</span>&gt;
[bitcoin] MarcoFalke opened pull request #8494: [init, wallet] ParameterInteraction() iff wallet enabled (master...Mf1608-initWalletParamInt) <a href="https://github.com/bitcoin/bitcoin/pull/8494" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8494</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1470812580' id='485589'>
<a class='timestamp' href='#485589'><time timestamp='2016-08-10T07:03:00Z'>07:03</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Does bitcoin-cores UPNP (or UPNP in general) uses nat traversal or ICE? Or is the only way to get connection from the outside if your router supports uPNP and opens the port?
<br>
</div>

<div class='talk op-msg' data-timestamp='1470813540' id='485590'>
<a class='timestamp' href='#485590'><time timestamp='2016-08-10T07:19:00Z'>07:19</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
jonasschnelli: only opening the port.
<br>
</div>

<div class='talk op-msg' data-timestamp='1470813600' id='485591'>
<a class='timestamp' href='#485591'><time timestamp='2016-08-10T07:20:00Z'>07:20</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
gmaxwell: Okay. Thanks.
<br>
</div>

<div class='talk op-msg' data-timestamp='1470813600' id='485592'>
<a class='timestamp' href='#485592'><time timestamp='2016-08-10T07:20:00Z'>07:20</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and for discovering external ip
<br>
</div>

<div class='talk op-msg' data-timestamp='1470813600' id='485593'>
<a class='timestamp' href='#485593'><time timestamp='2016-08-10T07:20:00Z'>07:20</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Would ICE works for Bitcoin? Or would that require UDP? (maybe off-topic here)
<br>
</div>

<div class='talk op-msg' data-timestamp='1470813720' id='485594'>
<a class='timestamp' href='#485594'><time timestamp='2016-08-10T07:22:00Z'>07:22</time></a>
&lt;<span class='nick nick-13'> GitHub4</span>&gt;
[bitcoin] laanwj pushed 3 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/484312bda2d4...edebf425a2df" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/484312bda2d4...edebf425a2df</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1470813720' id='485595'>
<a class='timestamp' href='#485595'><time timestamp='2016-08-10T07:22:00Z'>07:22</time></a>
&lt;<span class='nick nick-13'> GitHub4</span>&gt;
bitcoin/master 160f895 Luke Dashjr: Bugfix: Use pre-BIP141 sigops until segwit activates
<br>
</div>

<div class='talk op-msg' data-timestamp='1470813720' id='485596'>
<a class='timestamp' href='#485596'><time timestamp='2016-08-10T07:22:00Z'>07:22</time></a>
&lt;<span class='nick nick-13'> GitHub4</span>&gt;
bitcoin/master 239cbd2 Luke Dashjr: qa/rpc-tests/segwit: Test GBT sigops before and after activation
<br>
</div>

<div class='talk op-msg' data-timestamp='1470813720' id='485597'>
<a class='timestamp' href='#485597'><time timestamp='2016-08-10T07:22:00Z'>07:22</time></a>
&lt;<span class='nick nick-13'> GitHub4</span>&gt;
bitcoin/master edebf42 Wladimir J. van der Laan: Merge #8489: Bugfix: Use pre-BIP141 sigops until segwit activates (GBT)...
<br>
</div>

<div class='talk op-msg' data-timestamp='1470813720' id='485598'>
<a class='timestamp' href='#485598'><time timestamp='2016-08-10T07:22:00Z'>07:22</time></a>
&lt;<span class='nick nick-7'> GitHub114</span>&gt;
[bitcoin] laanwj closed pull request #8489: Bugfix: Use pre-BIP141 sigops until segwit activates (GBT) (master...bugfix_gbt_sigops_presegwit) <a href="https://github.com/bitcoin/bitcoin/pull/8489" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8489</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1470813780' id='485599'>
<a class='timestamp' href='#485599'><time timestamp='2016-08-10T07:23:00Z'>07:23</time></a>
&lt;<span class='nick nick-16'> GitHub28</span>&gt;
[bitcoin] laanwj pushed 2 new commits to 0.13: <a href="https://github.com/bitcoin/bitcoin/compare/114f7e944b1c...edc2c700a75c" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/114f7e944b1c...edc2c700a75c</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1470813780' id='485600'>
<a class='timestamp' href='#485600'><time timestamp='2016-08-10T07:23:00Z'>07:23</time></a>
&lt;<span class='nick nick-16'> GitHub28</span>&gt;
bitcoin/0.13 3f65ba2 Pieter Wuille: Treat high-sigop transactions as larger rather than rejecting them
<br>
</div>

<div class='talk op-msg' data-timestamp='1470813780' id='485601'>
<a class='timestamp' href='#485601'><time timestamp='2016-08-10T07:23:00Z'>07:23</time></a>
&lt;<span class='nick nick-13'> GitHub79</span>&gt;
[bitcoin] laanwj closed pull request #8438: [0.13] backport: Treat high-sigop transactions as larger rather than rejecting them (0.13...btc-13-sigops) <a href="https://github.com/bitcoin/bitcoin/pull/8438" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8438</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1470813780' id='485602'>
<a class='timestamp' href='#485602'><time timestamp='2016-08-10T07:23:00Z'>07:23</time></a>
&lt;<span class='nick nick-16'> GitHub28</span>&gt;
bitcoin/0.13 edc2c70 Wladimir J. van der Laan: Merge #8438: [0.13] backport: Treat high-sigop transactions as larger rather than rejecting them...
<br>
</div>

<div class='talk op-msg' data-timestamp='1470813780' id='485603'>
<a class='timestamp' href='#485603'><time timestamp='2016-08-10T07:23:00Z'>07:23</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
jonasschnelli: general traversal requires third party introduction, and no one technique generally works (and traversal for TCP almost never works)... I think firefox has a significant fraction of a million lines of code for nat traversal w/ rtcweb.
<br>
</div>

<div class='talk op-msg' data-timestamp='1470813840' id='485604'>
<a class='timestamp' href='#485604'><time timestamp='2016-08-10T07:24:00Z'>07:24</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
heh.. okay. I see.
<br>
</div>

<div class='talk op-msg' data-timestamp='1470813840' id='485605'>
<a class='timestamp' href='#485605'><time timestamp='2016-08-10T07:24:00Z'>07:24</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
IMO, using tor hidden services is a /simpler/ way to bypass nat, as crazy as that sounds.
<br>
</div>

<div class='talk op-msg' data-timestamp='1470813900' id='485606'>
<a class='timestamp' href='#485606'><time timestamp='2016-08-10T07:25:00Z'>07:25</time></a>
&lt;<span class='nick nick-12'> * jonasschnelli</span>&gt;
is thinking...
<br>
</div>

<div class='talk op-msg' data-timestamp='1470814020' id='485607'>
<a class='timestamp' href='#485607'><time timestamp='2016-08-10T07:27:00Z'>07:27</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
gmaxwell: So using tor hidden service over 443 would probably allow bypassing firewalls (assume some large company firewalls where only 80,443 is open) to connect to the bitcoin network?
<br>
</div>

<div class='talk op-msg' data-timestamp='1470814200' id='485608'>
<a class='timestamp' href='#485608'><time timestamp='2016-08-10T07:30:00Z'>07:30</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
jonasschnelli: normally tor connections are on 443 and look superficially like regular https connections.
<br>
</div>

<div class='talk op-msg' data-timestamp='1470814200' id='485609'>
<a class='timestamp' href='#485609'><time timestamp='2016-08-10T07:30:00Z'>07:30</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
gmaxwell: thanks.
<br>
</div>

<div class='talk op-msg' data-timestamp='1470814200' id='485610'>
<a class='timestamp' href='#485610'><time timestamp='2016-08-10T07:30:00Z'>07:30</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
and as long as you can connect out to the tor network you can run a hidden service where people can connect in.
<br>
</div>

<div class='talk op-msg' data-timestamp='1470814320' id='485611'>
<a class='timestamp' href='#485611'><time timestamp='2016-08-10T07:32:00Z'>07:32</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sipa: we need to think about a replacement for addr messages at some point.
<br>
</div>

<div class='talk op-msg' data-timestamp='1470814320' id='485612'>
<a class='timestamp' href='#485612'><time timestamp='2016-08-10T07:32:00Z'>07:32</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
In particular, I2P and tor NG hidden services need more than 128 bits.
<br>
</div>

<div class='talk op-msg' data-timestamp='1470814380' id='485613'>
<a class='timestamp' href='#485613'><time timestamp='2016-08-10T07:33:00Z'>07:33</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
and it would be good to be able to carry a bit more metadata.
<br>
</div>

<div class='talk op-msg' data-timestamp='1470814500' id='485614'>
<a class='timestamp' href='#485614'><time timestamp='2016-08-10T07:35:00Z'>07:35</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: well in light of bip151... should they also carry a host pubkey?
<br>
</div>

<div class='talk op-msg' data-timestamp='1470814560' id='485615'>
<a class='timestamp' href='#485615'><time timestamp='2016-08-10T07:36:00Z'>07:36</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sipa: that would open the trust network problem?
<br>
</div>

<div class='talk op-msg' data-timestamp='1470814560' id='485616'>
<a class='timestamp' href='#485616'><time timestamp='2016-08-10T07:36:00Z'>07:36</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I think only pre-sharing makes more sense?
<br>
</div>

<div class='talk op-msg' data-timestamp='1470814620' id='485617'>
<a class='timestamp' href='#485617'><time timestamp='2016-08-10T07:37:00Z'>07:37</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Or what if malicious peers change the host in the addr messages?
<br>
</div>

<div class='talk op-msg' data-timestamp='1470814740' id='485618'>
<a class='timestamp' href='#485618'><time timestamp='2016-08-10T07:39:00Z'>07:39</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sipa: I don&#x27;t think thats very useful.
<br>
</div>

<div class='talk op-msg' data-timestamp='1470814740' id='485619'>
<a class='timestamp' href='#485619'><time timestamp='2016-08-10T07:39:00Z'>07:39</time></a>
&lt;<span class='nick nick-13'> GitHub30</span>&gt;
[bitcoin] laanwj closed pull request #8465: [0.13] Document reindexing changes (0.13...docreindex) <a href="https://github.com/bitcoin/bitcoin/pull/8465" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8465</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1470814740' id='485620'>
<a class='timestamp' href='#485620'><time timestamp='2016-08-10T07:39:00Z'>07:39</time></a>
&lt;<span class='nick nick-10'> GitHub185</span>&gt;
[bitcoin] laanwj pushed 2 new commits to 0.13: <a href="https://github.com/bitcoin/bitcoin/compare/edc2c700a75c...45c656b914f0" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/edc2c700a75c...45c656b914f0</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1470814740' id='485621'>
<a class='timestamp' href='#485621'><time timestamp='2016-08-10T07:39:00Z'>07:39</time></a>
&lt;<span class='nick nick-10'> GitHub185</span>&gt;
bitcoin/0.13 b49d963 Pieter Wuille: Document reindexing changes
<br>
</div>

<div class='talk op-msg' data-timestamp='1470814740' id='485622'>
<a class='timestamp' href='#485622'><time timestamp='2016-08-10T07:39:00Z'>07:39</time></a>
&lt;<span class='nick nick-10'> GitHub185</span>&gt;
bitcoin/0.13 45c656b Wladimir J. van der Laan: Merge #8465: [0.13] Document reindexing changes...
<br>
</div>

<div class='talk op-msg' data-timestamp='1470814800' id='485623'>
<a class='timestamp' href='#485623'><time timestamp='2016-08-10T07:40:00Z'>07:40</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
largely unrelated to BIP151 there is a question of it you&#x27;d like to have long lived node identities.
<br>
</div>

<div class='talk op-msg' data-timestamp='1470814800' id='485624'>
<a class='timestamp' href='#485624'><time timestamp='2016-08-10T07:40:00Z'>07:40</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
and then support a &#x27;connect to identity&#x27;
<br>
</div>

<div class='talk op-msg' data-timestamp='1470814800' id='485625'>
<a class='timestamp' href='#485625'><time timestamp='2016-08-10T07:40:00Z'>07:40</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
allowing you to, e.g. maintain connections to known well performing peers.
<br>
</div>

<div class='talk op-msg' data-timestamp='1470814860' id='485626'>
<a class='timestamp' href='#485626'><time timestamp='2016-08-10T07:41:00Z'>07:41</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
But that is basically 180degrees off of all the fingerprinting resistance we&#x27;ve worked on in the past.
<br>
</div>

<div class='talk op-msg' data-timestamp='1470814860' id='485627'>
<a class='timestamp' href='#485627'><time timestamp='2016-08-10T07:41:00Z'>07:41</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
gmaxwell: I guess theres nothing holding back power users of doing this with the current bip151 (+auth) specification..
<br>
</div>

<div class='talk op-msg' data-timestamp='1470814920' id='485628'>
<a class='timestamp' href='#485628'><time timestamp='2016-08-10T07:42:00Z'>07:42</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
in that model you wouldn&#x27;t have a &#x27;addr&#x27; message, you&#x27;d have a &#x27;nodeid&#x27; message, which is announcing a pubkey and one or more addresses it can be reached on, signed by that key.
<br>
</div>

<div class='talk op-msg' data-timestamp='1470814920' id='485629'>
<a class='timestamp' href='#485629'><time timestamp='2016-08-10T07:42:00Z'>07:42</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
ah
<br>
</div>

<div class='talk op-msg' data-timestamp='1470814920' id='485630'>
<a class='timestamp' href='#485630'><time timestamp='2016-08-10T07:42:00Z'>07:42</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
so then there is a &#x27;what if peers change the host&#x27; -- nothing can be changed because it&#x27;s signed. And thing addrman would track is not addresses but IDs.. (and then when it wants to connect to an ID it would take that ID&#x27;s latest addr announcement).
<br>
</div>

<div class='talk op-msg' data-timestamp='1470814980' id='485631'>
<a class='timestamp' href='#485631'><time timestamp='2016-08-10T07:43:00Z'>07:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: hmm, that&#x27;s not what i&#x27;m thinking of
<br>
</div>

<div class='talk op-msg' data-timestamp='1470814980' id='485632'>
<a class='timestamp' href='#485632'><time timestamp='2016-08-10T07:43:00Z'>07:43</time></a>
&lt;<span class='nick nick-12'> * jonasschnelli</span>&gt;
hears Eric Voskuil grumbling... 
<br>
</div>

<div class='talk op-msg' data-timestamp='1470814980' id='485633'>
<a class='timestamp' href='#485633'><time timestamp='2016-08-10T07:43:00Z'>07:43</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I know, but what you were thinking of is not useful.
<br>
</div>

<div class='talk op-msg' data-timestamp='1470815040' id='485634'>
<a class='timestamp' href='#485634'><time timestamp='2016-08-10T07:44:00Z'>07:44</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: more: we currently treat IP addresses as identities
<br>
</div>

<div class='talk op-msg' data-timestamp='1470815040' id='485635'>
<a class='timestamp' href='#485635'><time timestamp='2016-08-10T07:44:00Z'>07:44</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
when you connect to the same IP again, you expect it to be the same identity
<br>
</div>

<div class='talk op-msg' data-timestamp='1470815040' id='485636'>
<a class='timestamp' href='#485636'><time timestamp='2016-08-10T07:44:00Z'>07:44</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
just stapling a pubkey to an addr message accomplishes nothing useful, anyone can and would change it in flight. If it doesn&#x27;t match &#x27;oh well, someone changed it in flight or the host changed&#x27;.
<br>
</div>

<div class='talk op-msg' data-timestamp='1470815040' id='485637'>
<a class='timestamp' href='#485637'><time timestamp='2016-08-10T07:44:00Z'>07:44</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
you might as well have just asked the host for a pubkey when you connected to it. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1470815040' id='485638'>
<a class='timestamp' href='#485638'><time timestamp='2016-08-10T07:44:00Z'>07:44</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Only if there would be a signature of the ip/port?
<br>
</div>

<div class='talk op-msg' data-timestamp='1470815100' id='485639'>
<a class='timestamp' href='#485639'><time timestamp='2016-08-10T07:45:00Z'>07:45</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
when a peer tells you about a particular IP, you want to make sure that what you&#x27;re connecting to is actually who they meant
<br>
</div>

<div class='talk op-msg' data-timestamp='1470815160' id='485640'>
<a class='timestamp' href='#485640'><time timestamp='2016-08-10T07:46:00Z'>07:46</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
but thats not really part of the addr message, its non-transitive.
<br>
</div>

<div class='talk op-msg' data-timestamp='1470815160' id='485641'>
<a class='timestamp' href='#485641'><time timestamp='2016-08-10T07:46:00Z'>07:46</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
agree
<br>
</div>

<div class='talk op-msg' data-timestamp='1470815160' id='485642'>
<a class='timestamp' href='#485642'><time timestamp='2016-08-10T07:46:00Z'>07:46</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and i don&#x27;t think we want a web-of-trust between nodes :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1470815220' id='485643'>
<a class='timestamp' href='#485643'><time timestamp='2016-08-10T07:47:00Z'>07:47</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I don&#x27;t think thats very useful. If nodes really did have a persistant tracable identity, &quot;this node was good in the past, I want to find it again&quot; would be a useful service.
<br>
</div>

<div class='talk op-msg' data-timestamp='1470815220' id='485644'>
<a class='timestamp' href='#485644'><time timestamp='2016-08-10T07:47:00Z'>07:47</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
But it&#x27;s in conflict with avoiding fingerprinting.
<br>
</div>

<div class='talk op-msg' data-timestamp='1470815340' id='485645'>
<a class='timestamp' href='#485645'><time timestamp='2016-08-10T07:49:00Z'>07:49</time></a>
&lt;<span class='nick nick-13'> GitHub120</span>&gt;
[bitcoin] luke-jr opened pull request #8495: [0.13] Bugfix: Use pre-BIP141 sigops until segwit activates (GBT) (0.13...bugfix_gbt_sigops_presegwit-0.13.x) <a href="https://github.com/bitcoin/bitcoin/pull/8495" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8495</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1470815340' id='485646'>
<a class='timestamp' href='#485646'><time timestamp='2016-08-10T07:49:00Z'>07:49</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I suppose there is a middle ground where you can relay messages signed by P + H(P||blockhash[height//144*144]) or the like, and so if you know P (e.g. having previously been configured to authenticate towards that node), you can locate its updated addr messages.
<br>
</div>

<div class='talk op-msg' data-timestamp='1470815400' id='485647'>
<a class='timestamp' href='#485647'><time timestamp='2016-08-10T07:50:00Z'>07:50</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
But to everyone else host with key P does not have a long lived identity.
<br>
</div>

<div class='talk op-msg' data-timestamp='1470820620' id='485648'>
<a class='timestamp' href='#485648'><time timestamp='2016-08-10T09:17:00Z'>09:17</time></a>
&lt;<span class='nick nick-11'> GitHub177</span>&gt;
[bitcoin] MarcoFalke closed pull request #8477: [qa] Temporarily disable ipv6 in rpcbind test (master...Mf1608-qaIpv6) <a href="https://github.com/bitcoin/bitcoin/pull/8477" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8477</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1470834240' id='485649'>
<a class='timestamp' href='#485649'><time timestamp='2016-08-10T13:04:00Z'>13:04</time></a>
&lt;<span class='nick nick-7'> GitHub52</span>&gt;
[bitcoin] laanwj pushed 1 new commit to 0.13: <a href="https://github.com/bitcoin/bitcoin/commit/8b0eee66e9c9057b6e53bb1f4a0a3821083e5df0" class="link" target="_blank">https://github.com/bitcoin/bitcoin/commit/8b0eee66e9c9057b6e53bb1f4a0a3821083e5df0</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1470834240' id='485650'>
<a class='timestamp' href='#485650'><time timestamp='2016-08-10T13:04:00Z'>13:04</time></a>
&lt;<span class='nick nick-7'> GitHub52</span>&gt;
bitcoin/0.13 8b0eee6 Luke Dashjr: Bugfix: Use pre-BIP141 sigops until segwit activates...
<br>
</div>

<div class='talk op-msg' data-timestamp='1470834300' id='485651'>
<a class='timestamp' href='#485651'><time timestamp='2016-08-10T13:05:00Z'>13:05</time></a>
&lt;<span class='nick nick-7'> GitHub7</span>&gt;
[bitcoin] laanwj closed pull request #8495: [0.13] Bugfix: Use pre-BIP141 sigops until segwit activates (GBT) (0.13...bugfix_gbt_sigops_presegwit-0.13.x) <a href="https://github.com/bitcoin/bitcoin/pull/8495" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8495</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1470854100' id='485652'>
<a class='timestamp' href='#485652'><time timestamp='2016-08-10T18:35:00Z'>18:35</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
luke-jr: ping. gbt sends out the !segwit rule even if there are no segwit transactions included. that goes against my reading of the spec.
<br>
</div>

<div class='talk op-msg' data-timestamp='1470854100' id='485653'>
<a class='timestamp' href='#485653'><time timestamp='2016-08-10T18:35:00Z'>18:35</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
luke-jr: (i&#x27;m implementing the bip9 gbt changes in ckpool)
<br>
</div>

<div class='talk op-msg' data-timestamp='1470854160' id='485654'>
<a class='timestamp' href='#485654'><time timestamp='2016-08-10T18:36:00Z'>18:36</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
MAY != MUST
<br>
</div>

<div class='talk op-msg' data-timestamp='1470854160' id='485655'>
<a class='timestamp' href='#485655'><time timestamp='2016-08-10T18:36:00Z'>18:36</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
cfields: hm. It would be pretty surprising if the behavior modulates based on tx in mempool. I.e. your stuff catches fire when you&#x27;re not looking.
<br>
</div>

<div class='talk op-msg' data-timestamp='1470854220' id='485656'>
<a class='timestamp' href='#485656'><time timestamp='2016-08-10T18:37:00Z'>18:37</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
cfields: agree with luke-jr and gmaxwell here: you&#x27;d rather have mining infrastructure break at upgrade time than at segwit activation time
<br>
</div>

<div class='talk op-msg' data-timestamp='1470854220' id='485657'>
<a class='timestamp' href='#485657'><time timestamp='2016-08-10T18:37:00Z'>18:37</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
where it potentially happen across all miners simultaneously
<br>
</div>

<div class='talk op-msg' data-timestamp='1470854220' id='485658'>
<a class='timestamp' href='#485658'><time timestamp='2016-08-10T18:37:00Z'>18:37</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
&#x27;!&#x27; is required if there are such transactions, but optional (for non-segwit miners only) if there are not.
<br>
</div>

<div class='talk op-msg' data-timestamp='1470854280' id='485659'>
<a class='timestamp' href='#485659'><time timestamp='2016-08-10T18:38:00Z'>18:38</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
!segwit is super confusing. :(
<br>
</div>

<div class='talk op-msg' data-timestamp='1470854280' id='485660'>
<a class='timestamp' href='#485660'><time timestamp='2016-08-10T18:38:00Z'>18:38</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
Error: &quot;segwit&quot; is not a valid command.
<br>
</div>

<div class='talk op-msg' data-timestamp='1470854280' id='485661'>
<a class='timestamp' href='#485661'><time timestamp='2016-08-10T18:38:00Z'>18:38</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
it even confuses gribble.
<br>
</div>

<div class='talk op-msg' data-timestamp='1470854280' id='485662'>
<a class='timestamp' href='#485662'><time timestamp='2016-08-10T18:38:00Z'>18:38</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
lol
<br>
</div>

<div class='talk op-msg' data-timestamp='1470854280' id='485663'>
<a class='timestamp' href='#485663'><time timestamp='2016-08-10T18:38:00Z'>18:38</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
heh, has not activated on gribble yet
<br>
</div>

<div class='talk op-msg' data-timestamp='1470854280' id='485664'>
<a class='timestamp' href='#485664'><time timestamp='2016-08-10T18:38:00Z'>18:38</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
haha
<br>
</div>

<div class='talk op-msg' data-timestamp='1470854280' id='485665'>
<a class='timestamp' href='#485665'><time timestamp='2016-08-10T18:38:00Z'>18:38</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
&#x27;*&#x27; would have probably made more sense, but I think it&#x27;s too late to change it now?
<br>
</div>

<div class='talk op-msg' data-timestamp='1470854340' id='485666'>
<a class='timestamp' href='#485666'><time timestamp='2016-08-10T18:39:00Z'>18:39</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i never considered that &#x27;!&#x27; as part of a name would be interpreted as &quot;not&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1470854340' id='485667'>
<a class='timestamp' href='#485667'><time timestamp='2016-08-10T18:39:00Z'>18:39</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and agree - i think it&#x27;s not worth changing at this point
<br>
</div>

<div class='talk op-msg' data-timestamp='1470854400' id='485668'>
<a class='timestamp' href='#485668'><time timestamp='2016-08-10T18:40:00Z'>18:40</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
heh. I read it as &quot;segwit!&quot; rather than &quot;!segwit&quot; and it&#x27;s more clear :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1470854400' id='485669'>
<a class='timestamp' href='#485669'><time timestamp='2016-08-10T18:40:00Z'>18:40</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yeah. it&#x27;s &quot;segwit! be aware!&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1470854400' id='485670'>
<a class='timestamp' href='#485670'><time timestamp='2016-08-10T18:40:00Z'>18:40</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
either way, i&#x27;d say it&#x27;s not entirely clear in the spec. I (wrongly) first implemented coinbase insertion based on the &quot;!segwit&quot; flag&#x27;s presence.
<br>
</div>

<div class='talk op-msg' data-timestamp='1470854460' id='485671'>
<a class='timestamp' href='#485671'><time timestamp='2016-08-10T18:41:00Z'>18:41</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
cfields: that&#x27;s fine
<br>
</div>

<div class='talk op-msg' data-timestamp='1470854460' id='485672'>
<a class='timestamp' href='#485672'><time timestamp='2016-08-10T18:41:00Z'>18:41</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
&quot;On the other hand, when this prefix is used, it indicates a more subtle change to the block structure or generation transaction; examples of this would be BIP 34 (because it modifies coinbase construction)...&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1470854460' id='485673'>
<a class='timestamp' href='#485673'><time timestamp='2016-08-10T18:41:00Z'>18:41</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
cfields: ah, no
<br>
</div>

<div class='talk op-msg' data-timestamp='1470854520' id='485674'>
<a class='timestamp' href='#485674'><time timestamp='2016-08-10T18:42:00Z'>18:42</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it means &quot;you must understand why segwit means before you can mine on top of this, because things may have changed beyond normal transaction inclusion selection&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1470854580' id='485675'>
<a class='timestamp' href='#485675'><time timestamp='2016-08-10T18:43:00Z'>18:43</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
got it. Ok, I&#x27;ll PR a few clarifications there. Was trying to implement soley based on reading of bip9 changes.
<br>
</div>

<div class='talk op-msg' data-timestamp='1470854580' id='485676'>
<a class='timestamp' href='#485676'><time timestamp='2016-08-10T18:43:00Z'>18:43</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
cfields: what&#x27;s wrong with how you implemented it?
<br>
</div>

<div class='talk op-msg' data-timestamp='1470854580' id='485677'>
<a class='timestamp' href='#485677'><time timestamp='2016-08-10T18:43:00Z'>18:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but i don&#x27;t see why &quot;!segwit&quot; -&gt; &quot;make coinbase commitment&quot; would be a problem
<br>
</div>

<div class='talk op-msg' data-timestamp='1470854580' id='485678'>
<a class='timestamp' href='#485678'><time timestamp='2016-08-10T18:43:00Z'>18:43</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
luke-jr: causes cb insertion even with no witness data
<br>
</div>

<div class='talk op-msg' data-timestamp='1470854580' id='485679'>
<a class='timestamp' href='#485679'><time timestamp='2016-08-10T18:43:00Z'>18:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
cfields: which is fine
<br>
</div>

<div class='talk op-msg' data-timestamp='1470854580' id='485680'>
<a class='timestamp' href='#485680'><time timestamp='2016-08-10T18:43:00Z'>18:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
just slightly wasteful
<br>
</div>

<div class='talk op-msg' data-timestamp='1470854640' id='485681'>
<a class='timestamp' href='#485681'><time timestamp='2016-08-10T18:44:00Z'>18:44</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
s/fine/desirable as far as I know.
<br>
</div>

<div class='talk op-msg' data-timestamp='1470854640' id='485682'>
<a class='timestamp' href='#485682'><time timestamp='2016-08-10T18:44:00Z'>18:44</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
mm, i assumed the opposite. why desirable?
<br>
</div>

<div class='talk op-msg' data-timestamp='1470854640' id='485683'>
<a class='timestamp' href='#485683'><time timestamp='2016-08-10T18:44:00Z'>18:44</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
because you&#x27;d test your infrastructures&#x27; compatibility ahead of time
<br>
</div>

<div class='talk op-msg' data-timestamp='1470854700' id='485684'>
<a class='timestamp' href='#485684'><time timestamp='2016-08-10T18:45:00Z'>18:45</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Then the miner (and the network) can see their system correctly functioning.
<br>
</div>

<div class='talk op-msg' data-timestamp='1470854700' id='485685'>
<a class='timestamp' href='#485685'><time timestamp='2016-08-10T18:45:00Z'>18:45</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
so things don&#x27;t break all over the network when segwit activates
<br>
</div>

<div class='talk op-msg' data-timestamp='1470854700' id='485686'>
<a class='timestamp' href='#485686'><time timestamp='2016-08-10T18:45:00Z'>18:45</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Otherwise you get the &#x27;segwit tx shows up, now all the hashpower drops offline&#x27;
<br>
</div>

<div class='talk op-msg' data-timestamp='1470854700' id='485687'>
<a class='timestamp' href='#485687'><time timestamp='2016-08-10T18:45:00Z'>18:45</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
ok, sure.
<br>
</div>

<div class='talk op-msg' data-timestamp='1470855540' id='485688'>
<a class='timestamp' href='#485688'><time timestamp='2016-08-10T18:59:00Z'>18:59</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
sipa: in that case, can we append default_witness_commitment based on activation status rather than witness data presence? 
<br>
</div>

<div class='talk op-msg' data-timestamp='1470855600' id='485689'>
<a class='timestamp' href='#485689'><time timestamp='2016-08-10T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
cfields: sure
<br>
</div>

<div class='talk op-msg' data-timestamp='1470855600' id='485690'>
<a class='timestamp' href='#485690'><time timestamp='2016-08-10T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it&#x27;s optional even when there are no witnesses in any transaction
<br>
</div>

<div class='talk op-msg' data-timestamp='1470855600' id='485691'>
<a class='timestamp' href='#485691'><time timestamp='2016-08-10T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
the rule is (after activation): 1) if the witness commitment is present, it must be correct 2) if there are any witnesses in any transaction, the witness commitment must be present
<br>
</div>

<div class='talk op-msg' data-timestamp='1470855720' id='485692'>
<a class='timestamp' href='#485692'><time timestamp='2016-08-10T19:02:00Z'>19:02</time></a>
&lt;<span class='nick nick-14'> * luke-jr</span>&gt;
suspects nobody will care if it&#x27;s present before activation either, but that&#x27;s probably less of a good idea
<br>
</div>

<div class='talk op-msg' data-timestamp='1470855720' id='485693'>
<a class='timestamp' href='#485693'><time timestamp='2016-08-10T19:02:00Z'>19:02</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I think it&#x27;s a good idea to have it present as soon as software is updated.
<br>
</div>

<div class='talk op-msg' data-timestamp='1470855720' id='485694'>
<a class='timestamp' href='#485694'><time timestamp='2016-08-10T19:02:00Z'>19:02</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
otherwise there is a behavior change at activation that might go wrong.
<br>
</div>

<div class='talk op-msg' data-timestamp='1470855780' id='485695'>
<a class='timestamp' href='#485695'><time timestamp='2016-08-10T19:03:00Z'>19:03</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it even gives us a way to observe miner adoption before the start date
<br>
</div>

<div class='talk op-msg' data-timestamp='1470855840' id='485696'>
<a class='timestamp' href='#485696'><time timestamp='2016-08-10T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
hmm, that&#x27;s a point
<br>
</div>

<div class='talk op-msg' data-timestamp='1470855840' id='485697'>
<a class='timestamp' href='#485697'><time timestamp='2016-08-10T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
sure, i can do it unconditionally if desired
<br>
</div>

<div class='talk op-msg' data-timestamp='1470855960' id='485698'>
<a class='timestamp' href='#485698'><time timestamp='2016-08-10T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
we could also have 13.0 warn on 1), though it&#x27;s a bit late for that
<br>
</div>

<div class='talk op-msg' data-timestamp='1470863940' id='485699'>
<a class='timestamp' href='#485699'><time timestamp='2016-08-10T21:19:00Z'>21:19</time></a>
&lt;<span class='nick nick-2'> alfas</span>&gt;
luke
<br>
</div>

<div class='talk op-msg' data-timestamp='1470869040' id='485700'>
<a class='timestamp' href='#485700'><time timestamp='2016-08-10T22:44:00Z'>22:44</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
kanzure: <a href="https://github.com/bitcoin/bitcoin/pull/8493" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8493</a> looks like a long branch (because it has many tiny steps commits that could be squashed) but it&#x27;s only  +373 −94 , please check it out
<br>
</div>

<div class='talk op-msg' data-timestamp='1470869100' id='485701'>
<a class='timestamp' href='#485701'><time timestamp='2016-08-10T22:45:00Z'>22:45</time></a>
&lt;<span class='nick nick-4'> kanzure</span>&gt;
i have no bandwidth to physically test this
<br>
</div>

<div class='talk op-msg' data-timestamp='1470869160' id='485702'>
<a class='timestamp' href='#485702'><time timestamp='2016-08-10T22:46:00Z'>22:46</time></a>
&lt;<span class='nick nick-4'> kanzure</span>&gt;
oh it looks like nothing added
<br>
</div>

<div class='talk op-msg' data-timestamp='1470869160' id='485703'>
<a class='timestamp' href='#485703'><time timestamp='2016-08-10T22:46:00Z'>22:46</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
BlueMatt: adviced to just move to the next simplest things to expose instead of trying to encapsulate verifyBlock without exposing anything new
<br>
</div>

<div class='talk op-msg' data-timestamp='1470869160' id='485704'>
<a class='timestamp' href='#485704'><time timestamp='2016-08-10T22:46:00Z'>22:46</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i now envision kanzure implementing this patch on a babbage machine, and then furiously turning the handles until it works
<br>
</div>

<div class='talk op-msg' data-timestamp='1470869160' id='485705'>
<a class='timestamp' href='#485705'><time timestamp='2016-08-10T22:46:00Z'>22:46</time></a>
&lt;<span class='nick nick-4'> kanzure</span>&gt;
sipa: yeah i can be fairly serious about my esoteric architectures
<br>
</div>

<div class='talk op-msg' data-timestamp='1470869220' id='485706'>
<a class='timestamp' href='#485706'><time timestamp='2016-08-10T22:47:00Z'>22:47</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
kanzure: alternative APIs very welcomed
<br>
</div>

<div class='talk op-msg' data-timestamp='1470869280' id='485707'>
<a class='timestamp' href='#485707'><time timestamp='2016-08-10T22:48:00Z'>22:48</time></a>
&lt;<span class='nick nick-4'> kanzure</span>&gt;
btw there is a typo in your pull request title
<br>
</div>

<div class='talk op-msg' data-timestamp='1470869280' id='485708'>
<a class='timestamp' href='#485708'><time timestamp='2016-08-10T22:48:00Z'>22:48</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
or alternative refactors, whatever, let&#x27;s just try to force that PR to rebase and become smaller than +373 −94
<br>
</div>

<div class='talk op-msg' data-timestamp='1470869340' id='485709'>
<a class='timestamp' href='#485709'><time timestamp='2016-08-10T22:49:00Z'>22:49</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
kanzure: mhmm, it seems I wrote Expose correctly and I made up the other 3 words, can you be more specific?
<br>
</div>

<div class='talk op-msg' data-timestamp='1470869400' id='485710'>
<a class='timestamp' href='#485710'><time timestamp='2016-08-10T22:50:00Z'>22:50</time></a>
&lt;<span class='nick nick-4'> kanzure</span>&gt;
&#x27;libcosnensus&#x27;
<br>
</div>

<div class='talk op-msg' data-timestamp='1470869400' id='485711'>
<a class='timestamp' href='#485711'><time timestamp='2016-08-10T22:50:00Z'>22:50</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
oh, right
<br>
</div>

<div class='talk op-msg' data-timestamp='1470869640' id='485712'>
<a class='timestamp' href='#485712'><time timestamp='2016-08-10T22:54:00Z'>22:54</time></a>
&lt;<span class='nick nick-4'> kanzure</span>&gt;
small concerns about name of &#x27;ContextualCheckHeader&#x27; but this is only a nit
<br>
</div>

<div class='talk op-msg' data-timestamp='1470869700' id='485713'>
<a class='timestamp' href='#485713'><time timestamp='2016-08-10T22:55:00Z'>22:55</time></a>
&lt;<span class='nick nick-4'> kanzure</span>&gt;
and i think this name is inherited from old code anyway, so it&#x27;s a tough nit to do anything about
<br>
</div>

<div class='talk op-msg' data-timestamp='1470869820' id='485714'>
<a class='timestamp' href='#485714'><time timestamp='2016-08-10T22:57:00Z'>22:57</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
BlueMatt:  also adviced not to be afraid of creating ugly wrappers or duplicating code if that was simpler to expose something
<br>
</div>

<div class='talk op-msg' data-timestamp='1470869880' id='485715'>
<a class='timestamp' href='#485715'><time timestamp='2016-08-10T22:58:00Z'>22:58</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
in this case I&#x27;m renaming main::ContextualCheckBlockHeader to Consensus::ContextualCheckHeader, but I&#x27;m keeping one with the original name in cppwrappers.o to avoid disruption in main
<br>
</div>

<div class='talk op-msg' data-timestamp='1470869940' id='485716'>
<a class='timestamp' href='#485716'><time timestamp='2016-08-10T22:59:00Z'>22:59</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
but yeah &quot;Consensus::ContextualCheckHeader&quot; it&#x27;s a new name and it&#x27;s open for bike-shedding, just like Consensus::VerifyHeader
<br>
</div>

<div class='talk op-msg' data-timestamp='1470870060' id='485717'>
<a class='timestamp' href='#485717'><time timestamp='2016-08-10T23:01:00Z'>23:01</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
I added Pow as a prefix for the 2 pow.o functions that needed a wrapper, also open for bikeshedding (but ideally the necessary preparations for not needing the wrappers should be done beforehand IMO)
<br>
</div>

<div class='talk op-msg' data-timestamp='1470870180' id='485718'>
<a class='timestamp' href='#485718'><time timestamp='2016-08-10T23:03:00Z'>23:03</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
if we do that, we don&#x27;t even need to rename ContextualCheckBlockHeader,I don&#x27;t care either way, for me it&#x27;s just two paths to the same place
<br>
</div>

<div class='talk op-msg' data-timestamp='1470870240' id='485719'>
<a class='timestamp' href='#485719'><time timestamp='2016-08-10T23:04:00Z'>23:04</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
but yeah please give your opinion
<br>
</div>

<div class='talk op-msg' data-timestamp='1470870300' id='485720'>
<a class='timestamp' href='#485720'><time timestamp='2016-08-10T23:05:00Z'>23:05</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
I&#x27;m sure that some early nits can save me some work while turning jtimon/0.13-consensus-flags into another PR (WIP)
<br>
</div>

<div class='talk op-msg' data-timestamp='1470870360' id='485721'>
<a class='timestamp' href='#485721'><time timestamp='2016-08-10T23:06:00Z'>23:06</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
I want to expose get_flags too, but that sounds more crazy than verifyHeaders I think
<br>
</div>

<div class='talk op-msg' data-timestamp='1470870540' id='485722'>
<a class='timestamp' href='#485722'><time timestamp='2016-08-10T23:09:00Z'>23:09</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
where I would like more input is in <a href="https://github.com/bitcoin/bitcoin/pull/8493/files#diff-c2a099d775bac1dccc5f146a3cda81b8R11" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8493/files#diff-c2a099d775bac1dccc5f146a3cda81b8R11</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1470870600' id='485723'>
<a class='timestamp' href='#485723'><time timestamp='2016-08-10T23:10:00Z'>23:10</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
or alternatives
<br>
</div>

<div class='talk op-msg' data-timestamp='1470870780' id='485724'>
<a class='timestamp' href='#485724'><time timestamp='2016-08-10T23:13:00Z'>23:13</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
and of course tests and testing
<br>
</div>

<div class='talk op-msg' data-timestamp='1470870840' id='485725'>
<a class='timestamp' href='#485725'><time timestamp='2016-08-10T23:14:00Z'>23:14</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
anyway, spammed the channel enough already...just please review
<br>
</div>

</div>
</section>

</body>
</html>
