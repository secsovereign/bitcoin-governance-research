<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2019-03-06
 — 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2019-03-06' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:20 UTC</pre>
<pre><a href="/bitcoin-core-dev/2019-02-06">&lt;</a><span class='header'>    March 2019    </span><a href="/bitcoin-core-dev/2019-04-06">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;                <a class="" href="/bitcoin-core-dev/2019-03-01">1</a>  <a class="" href="/bitcoin-core-dev/2019-03-02">2</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2019-03-03">3</a>  <a class="" href="/bitcoin-core-dev/2019-03-04">4</a>  <a class="" href="/bitcoin-core-dev/2019-03-05">5</a>  <a class="current" href="/bitcoin-core-dev/2019-03-06">6</a>  <a class="" href="/bitcoin-core-dev/2019-03-07">7</a>  <a class="" href="/bitcoin-core-dev/2019-03-08">8</a>  <a class="" href="/bitcoin-core-dev/2019-03-09">9</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2019-03-10">10</a> <a class="" href="/bitcoin-core-dev/2019-03-11">11</a> <a class="" href="/bitcoin-core-dev/2019-03-12">12</a> <a class="" href="/bitcoin-core-dev/2019-03-13">13</a> <a class="" href="/bitcoin-core-dev/2019-03-14">14</a> <a class="" href="/bitcoin-core-dev/2019-03-15">15</a> <a class="" href="/bitcoin-core-dev/2019-03-16">16</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2019-03-17">17</a> <a class="" href="/bitcoin-core-dev/2019-03-18">18</a> <a class="" href="/bitcoin-core-dev/2019-03-19">19</a> <a class="" href="/bitcoin-core-dev/2019-03-20">20</a> <a class="" href="/bitcoin-core-dev/2019-03-21">21</a> <a class="" href="/bitcoin-core-dev/2019-03-22">22</a> <a class="" href="/bitcoin-core-dev/2019-03-23">23</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2019-03-24">24</a> <a class="" href="/bitcoin-core-dev/2019-03-25">25</a> <a class="" href="/bitcoin-core-dev/2019-03-26">26</a> <a class="" href="/bitcoin-core-dev/2019-03-27">27</a> <a class="" href="/bitcoin-core-dev/2019-03-28">28</a> <a class="" href="/bitcoin-core-dev/2019-03-29">29</a> <a class="" href="/bitcoin-core-dev/2019-03-30">30</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2019-03-31">31</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1551831360' id='656501'>
<a class='timestamp' href='#656501'><time timestamp='2019-03-06T00:16:00Z'>00:16</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke closed pull request #15521: Fixed some times can not remove &quot;$SUFFIX-dirty&quot; on version number cor… (master...master) <a href="https://github.com/bitcoin/bitcoin/pull/15521" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/15521</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1551833400' id='656502'>
<a class='timestamp' href='#656502'><time timestamp='2019-03-06T00:50:00Z'>00:50</time></a>
&lt;<span class='nick nick-4'> kanzure</span>&gt;
<a href="http://diyhpl.us/~bryan/irc/bitcoin/bitcoin-dev/bitcoin-dev-mailing-list-archive-2019-03-05.zip" class="link" target="_blank">http://diyhpl.us/~bryan/irc/bitcoin/bitcoin-dev/bitcoin-dev-mailing-list-archive-2019-03-05.zip</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1551833400' id='656503'>
<a class='timestamp' href='#656503'><time timestamp='2019-03-06T00:50:00Z'>00:50</time></a>
&lt;<span class='nick nick-4'> kanzure</span>&gt;
<a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2019-March/016700.html" class="link" target="_blank">https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2019-March/016700.html</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1551833640' id='656504'>
<a class='timestamp' href='#656504'><time timestamp='2019-03-06T00:54:00Z'>00:54</time></a>
&lt;<span class='nick nick-4'> kanzure</span>&gt;
anything sent during march needs t obe re-sent
<br>
</div>

<div class='talk op-msg' data-timestamp='1551851580' id='656505'>
<a class='timestamp' href='#656505'><time timestamp='2019-03-06T05:53:00Z'>05:53</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I&#x27;ve created a new base image, am getting different hashes for aarch64/riscv64 now but still not ones that match the others
<br>
</div>

<div class='talk op-msg' data-timestamp='1551852720' id='656506'>
<a class='timestamp' href='#656506'><time timestamp='2019-03-06T06:12:00Z'>06:12</time></a>
&lt;<span class='nick nick-3'> meshcollider</span>&gt;
wumpus: what distro are you on
<br>
</div>

<div class='talk op-msg' data-timestamp='1551852960' id='656507'>
<a class='timestamp' href='#656507'><time timestamp='2019-03-06T06:16:00Z'>06:16</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
debian 9.6, a VM I&#x27;ve been using for gitian building since pretty much forever
<br>
</div>

<div class='talk op-msg' data-timestamp='1551853080' id='656508'>
<a class='timestamp' href='#656508'><time timestamp='2019-03-06T06:18:00Z'>06:18</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I use LXC for building
<br>
</div>

<div class='talk op-msg' data-timestamp='1551857040' id='656509'>
<a class='timestamp' href='#656509'><time timestamp='2019-03-06T07:24:00Z'>07:24</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
so there&#x27;s nothing else to do besides trying to compare the binaries, will try so later today
<br>
</div>

<div class='talk op-msg' data-timestamp='1551861360' id='656510'>
<a class='timestamp' href='#656510'><time timestamp='2019-03-06T08:36:00Z'>08:36</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
Binary files achow101/aarch/bitcoin-0.18.0rc1/bin/test_bitcoin and laanwj/aarch/bitcoin-0.18.0rc1/bin/test_bitcoin differ
<br>
</div>

<div class='talk op-msg' data-timestamp='1551861360' id='656511'>
<a class='timestamp' href='#656511'><time timestamp='2019-03-06T08:36:00Z'>08:36</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
Binary files achow101/riscv/bitcoin-0.18.0rc1/bin/test_bitcoin and laanwj/riscv/bitcoin-0.18.0rc1/bin/test_bitcoin differ
<br>
</div>

<div class='talk op-msg' data-timestamp='1551861360' id='656512'>
<a class='timestamp' href='#656512'><time timestamp='2019-03-06T08:36:00Z'>08:36</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
that&#x27;s all, apparently
<br>
</div>

<div class='talk op-msg' data-timestamp='1551861900' id='656513'>
<a class='timestamp' href='#656513'><time timestamp='2019-03-06T08:45:00Z'>08:45</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
whats the difference look like?
<br>
</div>

<div class='talk op-msg' data-timestamp='1551861900' id='656514'>
<a class='timestamp' href='#656514'><time timestamp='2019-03-06T08:45:00Z'>08:45</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
maybe you can see that its a timestamp or something like that.
<br>
</div>

<div class='talk op-msg' data-timestamp='1551861900' id='656515'>
<a class='timestamp' href='#656515'><time timestamp='2019-03-06T08:45:00Z'>08:45</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Are they the same size?
<br>
</div>

<div class='talk op-msg' data-timestamp='1551862320' id='656516'>
<a class='timestamp' href='#656516'><time timestamp='2019-03-06T08:52:00Z'>08:52</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
unfortunately ,no they&#x27;re different sizes, <a href="https://github.com/bitcoin/bitcoin/issues/15541" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/15541</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1551862380' id='656517'>
<a class='timestamp' href='#656517'><time timestamp='2019-03-06T08:53:00Z'>08:53</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
[offtopic] NSA released an apparently really good reverse engineering / decompiler tool. Bonus: Contains backdoor (apparently unintentional), network accessible RCE. ( <a href="https://twitter.com/hackerfantastic/status/1103087869063704576" class="link" target="_blank">https://twitter.com/hackerfantastic/status/1103087869063704576</a> )
<br>
</div>

<div class='talk op-msg' data-timestamp='1551862500' id='656518'>
<a class='timestamp' href='#656518'><time timestamp='2019-03-06T08:55:00Z'>08:55</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
amusing, this is as close as you can get to the actual trojan horse story in the modern day
<br>
</div>

<div class='talk op-msg' data-timestamp='1551862560' id='656519'>
<a class='timestamp' href='#656519'><time timestamp='2019-03-06T08:56:00Z'>08:56</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
comments on HN were like &quot;oh I dunno if I want to run this, it&#x27;s from the NSA&quot; which I read and thought, &quot;oh come on thats a bit silly&quot;... then scrolls down a bit further.
<br>
</div>

<div class='talk op-msg' data-timestamp='1551862860' id='656520'>
<a class='timestamp' href='#656520'><time timestamp='2019-03-06T09:01:00Z'>09:01</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] Bushstar opened pull request #15544: Comment typo &quot;iff&quot; (master...master) <a href="https://github.com/bitcoin/bitcoin/pull/15544" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/15544</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1551862860' id='656521'>
<a class='timestamp' href='#656521'><time timestamp='2019-03-06T09:01:00Z'>09:01</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
[extreme paranoia mode: they found one of the RCEs quickly so people think it&#x27;s safe now]
<br>
</div>

<div class='talk op-msg' data-timestamp='1551862980' id='656522'>
<a class='timestamp' href='#656522'><time timestamp='2019-03-06T09:03:00Z'>09:03</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
a RE tool also has a lot of attack surface, even with it closed off from the network, ... the whole point is to feed it untrusted inputs. Wouldn&#x27;t be shocking for a debugger to have an RCE facing the instruction stream.
<br>
</div>

<div class='talk op-msg' data-timestamp='1551863040' id='656523'>
<a class='timestamp' href='#656523'><time timestamp='2019-03-06T09:04:00Z'>09:04</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes, very much true
<br>
</div>

<div class='talk op-msg' data-timestamp='1551863040' id='656524'>
<a class='timestamp' href='#656524'><time timestamp='2019-03-06T09:04:00Z'>09:04</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
though presumably anyone using this could manage to isolate it reasonably enough. it sounds pretty cool, esp that it supports weird cpus.
<br>
</div>

<div class='talk op-msg' data-timestamp='1551863760' id='656525'>
<a class='timestamp' href='#656525'><time timestamp='2019-03-06T09:16:00Z'>09:16</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes it looks nice... I&#x27;m all for NSA getting into the &#x27;show off capability by releasing cool things&#x27; game instead of by leaks of spying and sabotage, though, can&#x27;t help being skeptical of their motives
<br>
</div>

<div class='talk op-msg' data-timestamp='1551863760' id='656526'>
<a class='timestamp' href='#656526'><time timestamp='2019-03-06T09:16:00Z'>09:16</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: that&#x27;s hilarious
<br>
</div>

<div class='talk op-msg' data-timestamp='1551864240' id='656527'>
<a class='timestamp' href='#656527'><time timestamp='2019-03-06T09:24:00Z'>09:24</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
aanyhow back to comparing executables using bog-standard unix tools
<br>
</div>

<div class='talk op-msg' data-timestamp='1551864300' id='656528'>
<a class='timestamp' href='#656528'><time timestamp='2019-03-06T09:25:00Z'>09:25</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
can we somehow tell gitian it&#x27;s ok if only the tests are nondeterministic?
<br>
</div>

<div class='talk op-msg' data-timestamp='1551864360' id='656529'>
<a class='timestamp' href='#656529'><time timestamp='2019-03-06T09:26:00Z'>09:26</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i guess we don&#x27;t actually want that
<br>
</div>

<div class='talk op-msg' data-timestamp='1551864360' id='656530'>
<a class='timestamp' href='#656530'><time timestamp='2019-03-06T09:26:00Z'>09:26</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I don&#x27;t think that&#x27;s okay, all the binaries we distribute should be deterministic
<br>
</div>

<div class='talk op-msg' data-timestamp='1551864360' id='656531'>
<a class='timestamp' href='#656531'><time timestamp='2019-03-06T09:26:00Z'>09:26</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
right
<br>
</div>

<div class='talk op-msg' data-timestamp='1551864540' id='656532'>
<a class='timestamp' href='#656532'><time timestamp='2019-03-06T09:29:00Z'>09:29</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
the difference seems to be minimal: presence/absence of .gnu_debuglink section: <a href="https://github.com/bitcoin/bitcoin/issues/15541#issuecomment-470034776" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/15541#issuecomment-470034776</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1551864720' id='656533'>
<a class='timestamp' href='#656533'><time timestamp='2019-03-06T09:32:00Z'>09:32</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
this is the case for both platforms; apparently, mine doesn&#x27;t have the section but his does
<br>
</div>

<div class='talk op-msg' data-timestamp='1551865080' id='656534'>
<a class='timestamp' href='#656534'><time timestamp='2019-03-06T09:38:00Z'>09:38</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
so the good news is that the generated code itself doesn&#x27;t diverge
<br>
</div>

<div class='talk op-msg' data-timestamp='1551865200' id='656535'>
<a class='timestamp' href='#656535'><time timestamp='2019-03-06T09:40:00Z'>09:40</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
add a bit of script to strip that section?
<br>
</div>

<div class='talk op-msg' data-timestamp='1551865320' id='656536'>
<a class='timestamp' href='#656536'><time timestamp='2019-03-06T09:42:00Z'>09:42</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
same for the divergence between my own previous and current builds, except that affects bitcoin-qt
<br>
</div>

<div class='talk op-msg' data-timestamp='1551865380' id='656537'>
<a class='timestamp' href='#656537'><time timestamp='2019-03-06T09:43:00Z'>09:43</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
gmaxwell: yea that seems the most straightforward option
<br>
</div>

<div class='talk op-msg' data-timestamp='1551865440' id='656538'>
<a class='timestamp' href='#656538'><time timestamp='2019-03-06T09:44:00Z'>09:44</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
or find what compiler option controls the creation of that section and set it explicitly, I&#x27;m gussing different people&#x27;s toolchains have changed the defaults on it
<br>
</div>

<div class='talk op-msg' data-timestamp='1551865440' id='656539'>
<a class='timestamp' href='#656539'><time timestamp='2019-03-06T09:44:00Z'>09:44</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
the script that&#x27;s suppposed to do this is contrib/devtools/split-debug.sh.in
<br>
</div>

<div class='talk op-msg' data-timestamp='1551865440' id='656540'>
<a class='timestamp' href='#656540'><time timestamp='2019-03-06T09:44:00Z'>09:44</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
but this is a deterministic build, we&#x27;re supposed to use the same toolchain
<br>
</div>

<div class='talk op-msg' data-timestamp='1551865500' id='656541'>
<a class='timestamp' href='#656541'><time timestamp='2019-03-06T09:45:00Z'>09:45</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
the build environment should be exactly the same (ubuntu bionic)
<br>
</div>

<div class='talk op-msg' data-timestamp='1551865500' id='656542'>
<a class='timestamp' href='#656542'><time timestamp='2019-03-06T09:45:00Z'>09:45</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I don&#x27;t dare guess what does cause this though …
<br>
</div>

<div class='talk op-msg' data-timestamp='1551865740' id='656543'>
<a class='timestamp' href='#656543'><time timestamp='2019-03-06T09:49:00Z'>09:49</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
hm. maybe the part of the buildchain that has been identically built doesn&#x27;t include those particular cross compilers?
<br>
</div>

<div class='talk op-msg' data-timestamp='1551865980' id='656544'>
<a class='timestamp' href='#656544'><time timestamp='2019-03-06T09:53:00Z'>09:53</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
right, this is why I&#x27;m saying &quot;should be&quot; I&#x27;m not 100% sure if there isn&#x27;t something non-deterministic leaking into the toolchain, though it might also be just as well something from the environment (races between threads, ordering of files in file system, system locale, ... we&#x27;ve seen them all by now)
<br>
</div>

<div class='talk op-msg' data-timestamp='1551866040' id='656545'>
<a class='timestamp' href='#656545'><time timestamp='2019-03-06T09:54:00Z'>09:54</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it&#x27;s absurd how difficult determninistic builds are to get right, a few days ago I saw a tweet like &quot;oh fix time at epoch 0 lol&quot; and almost cried :-)
<br>
</div>

<div class='talk op-msg' data-timestamp='1551866100' id='656546'>
<a class='timestamp' href='#656546'><time timestamp='2019-03-06T09:55:00Z'>09:55</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
this complexity ultimately impacts all software.. basically everything running everywhere is running an an untested configuration due to all these factors.
<br>
</div>

<div class='talk op-msg' data-timestamp='1551866520' id='656547'>
<a class='timestamp' href='#656547'><time timestamp='2019-03-06T10:02:00Z'>10:02</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes it&#x27;s true, would have been better if various tools had been written with determinism in mind, it&#x27;s kind of a hard thing to bolt on later 
<br>
</div>

<div class='talk op-msg' data-timestamp='1551866580' id='656548'>
<a class='timestamp' href='#656548'><time timestamp='2019-03-06T10:03:00Z'>10:03</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
the thing is, it&#x27;s so easy to use a randomized algorithms somewhere without noticing; e.g. various hash tables that are seeded with random nonces, then only something has to accidentially use the order and whoops
<br>
</div>

<div class='talk op-msg' data-timestamp='1551866760' id='656549'>
<a class='timestamp' href='#656549'><time timestamp='2019-03-06T10:06:00Z'>10:06</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
filesystem ordering is the funnest stuff.
<br>
</div>

<div class='talk op-msg' data-timestamp='1551866760' id='656550'>
<a class='timestamp' href='#656550'><time timestamp='2019-03-06T10:06:00Z'>10:06</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1551867720' id='656551'>
<a class='timestamp' href='#656551'><time timestamp='2019-03-06T10:22:00Z'>10:22</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
so this is curious: the gnu-debuglink section is <b>*supposed*</b> to be explicitly inserted here @OBJCOPY@ --enable-deterministic-archives -p --add-gnu-debuglink=$3 $2
<br>
</div>

<div class='talk op-msg' data-timestamp='1551867780' id='656552'>
<a class='timestamp' href='#656552'><time timestamp='2019-03-06T10:23:00Z'>10:23</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
that it is missing from my build seems to be a bug
<br>
</div>

<div class='talk op-msg' data-timestamp='1551867960' id='656553'>
<a class='timestamp' href='#656553'><time timestamp='2019-03-06T10:26:00Z'>10:26</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
are you sure you were using the current yml from the tag?
<br>
</div>

<div class='talk op-msg' data-timestamp='1551867960' id='656554'>
<a class='timestamp' href='#656554'><time timestamp='2019-03-06T10:26:00Z'>10:26</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1551868380' id='656555'>
<a class='timestamp' href='#656555'><time timestamp='2019-03-06T10:33:00Z'>10:33</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
but that&#x27;s a good point, I can actually edit the descriptor without changing the release otherwise
<br>
</div>

<div class='talk op-msg' data-timestamp='1551868380' id='656556'>
<a class='timestamp' href='#656556'><time timestamp='2019-03-06T10:33:00Z'>10:33</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
(for experimenting ..)
<br>
</div>

<div class='talk op-msg' data-timestamp='1551868500' id='656557'>
<a class='timestamp' href='#656557'><time timestamp='2019-03-06T10:35:00Z'>10:35</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
at minimum to build riscv and aarch only to minimize the iteration time…
<br>
</div>

<div class='talk op-msg' data-timestamp='1551868620' id='656558'>
<a class='timestamp' href='#656558'><time timestamp='2019-03-06T10:37:00Z'>10:37</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
which might reduce to half a day instead of a full day :/
<br>
</div>

<div class='talk op-msg' data-timestamp='1551868800' id='656559'>
<a class='timestamp' href='#656559'><time timestamp='2019-03-06T10:40:00Z'>10:40</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
does the &quot;Upgrading system, may take a while (log in var/install.log)&quot; step take so long for anyone else?
<br>
</div>

<div class='talk op-msg' data-timestamp='1551868800' id='656560'>
<a class='timestamp' href='#656560'><time timestamp='2019-03-06T10:40:00Z'>10:40</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it always seemse to me (don&#x27;t think it&#x27;s really true) that this takes lnoger than the actual build, at least with dependencies cached
<br>
</div>

<div class='talk op-msg' data-timestamp='1551868860' id='656561'>
<a class='timestamp' href='#656561'><time timestamp='2019-03-06T10:41:00Z'>10:41</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
wumpus: it takes annoyingly long for me, yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1551868920' id='656562'>
<a class='timestamp' href='#656562'><time timestamp='2019-03-06T10:42:00Z'>10:42</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
I haven&#x27;t actually timed it, though, just noticed it while I was waiting
<br>
</div>

<div class='talk op-msg' data-timestamp='1551868920' id='656563'>
<a class='timestamp' href='#656563'><time timestamp='2019-03-06T10:42:00Z'>10:42</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
luke-jr: I guess it&#x27;s a LXC thing, maybe the docker builds don&#x27;t have this? what is everyone using nowadays?
<br>
</div>

<div class='talk op-msg' data-timestamp='1551868920' id='656564'>
<a class='timestamp' href='#656564'><time timestamp='2019-03-06T10:42:00Z'>10:42</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
wumpus: I don&#x27;t use LXC
<br>
</div>

<div class='talk op-msg' data-timestamp='1551868920' id='656565'>
<a class='timestamp' href='#656565'><time timestamp='2019-03-06T10:42:00Z'>10:42</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I feel like completely nuking this VM and starting over
<br>
</div>

<div class='talk op-msg' data-timestamp='1551868920' id='656566'>
<a class='timestamp' href='#656566'><time timestamp='2019-03-06T10:42:00Z'>10:42</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
I use KVM
<br>
</div>

<div class='talk op-msg' data-timestamp='1551868920' id='656567'>
<a class='timestamp' href='#656567'><time timestamp='2019-03-06T10:42:00Z'>10:42</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
oh, same there then
<br>
</div>

<div class='talk op-msg' data-timestamp='1551868920' id='656568'>
<a class='timestamp' href='#656568'><time timestamp='2019-03-06T10:42:00Z'>10:42</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
well, part of why it takes long for me, is <b>*because*</b> it nukes the VM every time :P
<br>
</div>

<div class='talk op-msg' data-timestamp='1551868980' id='656569'>
<a class='timestamp' href='#656569'><time timestamp='2019-03-06T10:43:00Z'>10:43</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I mean the outer VM where I run gitian in
<br>
</div>

<div class='talk op-msg' data-timestamp='1551868980' id='656570'>
<a class='timestamp' href='#656570'><time timestamp='2019-03-06T10:43:00Z'>10:43</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I&#x27;m aware that&#x27;s the whole point of gitian, too :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1551868980' id='656571'>
<a class='timestamp' href='#656571'><time timestamp='2019-03-06T10:43:00Z'>10:43</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
maybe it&#x27;s not thorough enough !
<br>
</div>

<div class='talk op-msg' data-timestamp='1551869100' id='656572'>
<a class='timestamp' href='#656572'><time timestamp='2019-03-06T10:45:00Z'>10:45</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
I like the Guix direction
<br>
</div>

<div class='talk op-msg' data-timestamp='1551869160' id='656573'>
<a class='timestamp' href='#656573'><time timestamp='2019-03-06T10:46:00Z'>10:46</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
me too, I genuinely hope it will make things better, though I must also confess being a bit skeptical, replacing a system that almost works (after years of polishing) with a shiny new thing rarely &#x27;just works&#x27;
<br>
</div>

<div class='talk op-msg' data-timestamp='1551869280' id='656574'>
<a class='timestamp' href='#656574'><time timestamp='2019-03-06T10:48:00Z'>10:48</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
wumpus: yeah, Qt folks dropped Qbs development in favour of cmake just because &quot;a shiny new thing rarely &#x27;just works&#x27;&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1551869340' id='656575'>
<a class='timestamp' href='#656575'><time timestamp='2019-03-06T10:49:00Z'>10:49</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
Qbs?
<br>
</div>

<div class='talk op-msg' data-timestamp='1551869340' id='656576'>
<a class='timestamp' href='#656576'><time timestamp='2019-03-06T10:49:00Z'>10:49</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
is that qmake?
<br>
</div>

<div class='talk op-msg' data-timestamp='1551869520' id='656577'>
<a class='timestamp' href='#656577'><time timestamp='2019-03-06T10:52:00Z'>10:52</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
nop
<br>
</div>

<div class='talk op-msg' data-timestamp='1551869580' id='656578'>
<a class='timestamp' href='#656578'><time timestamp='2019-03-06T10:53:00Z'>10:53</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
example <a href="https://doc.qt.io/qbs/howtos.html#how-do-i-make-my-app-build-against-my-library" class="link" target="_blank">https://doc.qt.io/qbs/howtos.html#how-do-i-make-my-app-build-against-my-library</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1551869580' id='656579'>
<a class='timestamp' href='#656579'><time timestamp='2019-03-06T10:53:00Z'>10:53</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
promag: on the long run that&#x27;s probably a good choice, qt having their own build system is kind of annoying, but yes I can imagine there&#x27;s a lot of initial breakage and frustration
<br>
</div>

<div class='talk op-msg' data-timestamp='1551869580' id='656580'>
<a class='timestamp' href='#656580'><time timestamp='2019-03-06T10:53:00Z'>10:53</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
qbs uses qml
<br>
</div>

<div class='talk op-msg' data-timestamp='1551869580' id='656581'>
<a class='timestamp' href='#656581'><time timestamp='2019-03-06T10:53:00Z'>10:53</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
so Qt had <b>*two*</b> build systems? &lt;.&lt;
<br>
</div>

<div class='talk op-msg' data-timestamp='1551869640' id='656582'>
<a class='timestamp' href='#656582'><time timestamp='2019-03-06T10:54:00Z'>10:54</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
there is just an effect where no one realizes how much the existing stuff gets right because you don&#x27;t see the right parts. ... also much of what people see as &quot;cruft&quot; is actually stored knoweldge about weird corner cases that must be handled.
<br>
</div>

<div class='talk op-msg' data-timestamp='1551869640' id='656583'>
<a class='timestamp' href='#656583'><time timestamp='2019-03-06T10:54:00Z'>10:54</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
blog post <a href="https://blog.qt.io/blog/2018/10/29/deprecation-of-qbs/" class="link" target="_blank">https://blog.qt.io/blog/2018/10/29/deprecation-of-qbs/</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1551869640' id='656584'>
<a class='timestamp' href='#656584'><time timestamp='2019-03-06T10:54:00Z'>10:54</time></a>
&lt;<span class='nick nick-3'> * wumpus</span>&gt;
wishes boost would switch away from their own yam or whatever it is as well to something generic
<br>
</div>

<div class='talk op-msg' data-timestamp='1551869700' id='656585'>
<a class='timestamp' href='#656585'><time timestamp='2019-03-06T10:55:00Z'>10:55</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
luke-jr: they say &quot;Longer term, we plan to switch to CMake for building Qt itsel&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1551869760' id='656586'>
<a class='timestamp' href='#656586'><time timestamp='2019-03-06T10:56:00Z'>10:56</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
gmaxwell: that certianly happens
<br>
</div>

<div class='talk op-msg' data-timestamp='1551869820' id='656587'>
<a class='timestamp' href='#656587'><time timestamp='2019-03-06T10:57:00Z'>10:57</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
in the case of gitian the problem is the high overhead, gitian itself is pretty minimalistic, but it spins up a complete Ubuntu VM and updates it to current packages, that&#x27;s slow and soo many moving (potentially backdoored) parts
<br>
</div>

<div class='talk op-msg' data-timestamp='1551869880' id='656588'>
<a class='timestamp' href='#656588'><time timestamp='2019-03-06T10:58:00Z'>10:58</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
yea... I&#x27;ve never been impressed by the gitian approach.
<br>
</div>

<div class='talk op-msg' data-timestamp='1551869880' id='656589'>
<a class='timestamp' href='#656589'><time timestamp='2019-03-06T10:58:00Z'>10:58</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
also the need to update the vm amplfies risk a lot. It achieves the purpose of making a backdoored binary provably not any of our own faults, but doesn&#x27;t increase security as much as it could.
<br>
</div>

<div class='talk op-msg' data-timestamp='1551869940' id='656590'>
<a class='timestamp' href='#656590'><time timestamp='2019-03-06T10:59:00Z'>10:59</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(esp since more expirence with ubuntu packaging security has certantly not increased my confidence there... :) )
<br>
</div>

<div class='talk op-msg' data-timestamp='1551869940' id='656591'>
<a class='timestamp' href='#656591'><time timestamp='2019-03-06T10:59:00Z'>10:59</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
also the packages used to build are not themselves built deterministically
<br>
</div>

<div class='talk op-msg' data-timestamp='1551870000' id='656592'>
<a class='timestamp' href='#656592'><time timestamp='2019-03-06T11:00:00Z'>11:00</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
no, I&#x27;m not too confident there either, ubuntu was never a good choice there, it just was convenient, given the amount of work people were actually spending on this, I mean in all those years it&#x27;s still the only thing we have
<br>
</div>

<div class='talk op-msg' data-timestamp='1551870000' id='656593'>
<a class='timestamp' href='#656593'><time timestamp='2019-03-06T11:00:00Z'>11:00</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
yep
<br>
</div>

<div class='talk op-msg' data-timestamp='1551870000' id='656594'>
<a class='timestamp' href='#656594'><time timestamp='2019-03-06T11:00:00Z'>11:00</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
(not trying to blame anyone specifically there, it&#x27;s just not a very popular thing)
<br>
</div>

<div class='talk op-msg' data-timestamp='1551870120' id='656595'>
<a class='timestamp' href='#656595'><time timestamp='2019-03-06T11:02:00Z'>11:02</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
well we were pretty much the first project doing determinstic builds that I&#x27;m aware of... and even today in spite of huge effort and hype, there is still a long way to go ecosystem wise.  I don&#x27;t believe there is yet any &#x27;full&#x27; (even minimal) linux distro that is reproducably built.
<br>
</div>

<div class='talk op-msg' data-timestamp='1551870360' id='656596'>
<a class='timestamp' href='#656596'><time timestamp='2019-03-06T11:06:00Z'>11:06</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it&#x27;s true; I think we were the first open source project doing this, even tor used gitian for a while for deterministic builds though they switched to some other system now
<br>
</div>

<div class='talk op-msg' data-timestamp='1551870360' id='656597'>
<a class='timestamp' href='#656597'><time timestamp='2019-03-06T11:06:00Z'>11:06</time></a>
&lt;<span class='nick nick-8'> Sentineo</span>&gt;
gmaxwell: I saw a video last week about reproducable builds and debian has 80% I think they stated of the repos build that way now and the tor project is working on it as well. Fdroid has something similar, too. Let meg find the link.
<br>
</div>

<div class='talk op-msg' data-timestamp='1551870420' id='656598'>
<a class='timestamp' href='#656598'><time timestamp='2019-03-06T11:07:00Z'>11:07</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
huh what I read is that debian managed to get 4% of the packages deterministic
<br>
</div>

<div class='talk op-msg' data-timestamp='1551870420' id='656599'>
<a class='timestamp' href='#656599'><time timestamp='2019-03-06T11:07:00Z'>11:07</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
they were having lots of trouble with it
<br>
</div>

<div class='talk op-msg' data-timestamp='1551870480' id='656600'>
<a class='timestamp' href='#656600'><time timestamp='2019-03-06T11:08:00Z'>11:08</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
given how many packages they have to build it&#x27;s a pretty impressive number, still
<br>
</div>

<div class='talk op-msg' data-timestamp='1551870480' id='656601'>
<a class='timestamp' href='#656601'><time timestamp='2019-03-06T11:08:00Z'>11:08</time></a>
&lt;<span class='nick nick-8'> Sentineo</span>&gt;
ah it is 2015 talk, but still ... <a href="https://www.youtube.com/watch?v=ilu6yMBGS6I&amp;feature=youtu.be" class="link" target="_blank">https://www.youtube.com/watch?v=ilu6yMBGS6I&amp;feature=youtu.be</a> 
<br>
</div>

<div class='talk op-msg' data-timestamp='1551870480' id='656602'>
<a class='timestamp' href='#656602'><time timestamp='2019-03-06T11:08:00Z'>11:08</time></a>
&lt;<span class='nick nick-3'> * wumpus</span>&gt;
doesn&#x27;t even succeed in making the bitcoin core build deterministic so who am I to complain ...
<br>
</div>

<div class='talk op-msg' data-timestamp='1551870540' id='656603'>
<a class='timestamp' href='#656603'><time timestamp='2019-03-06T11:09:00Z'>11:09</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
my comment was mostly just &quot;this is absurdly hard&quot; so much effort has been put at it, the fact that it&#x27;s not 99% successful already shows that its hard.
<br>
</div>

<div class='talk op-msg' data-timestamp='1551870540' id='656604'>
<a class='timestamp' href='#656604'><time timestamp='2019-03-06T11:09:00Z'>11:09</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yep, exactly
<br>
</div>

<div class='talk op-msg' data-timestamp='1551870600' id='656605'>
<a class='timestamp' href='#656605'><time timestamp='2019-03-06T11:10:00Z'>11:10</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
many people go into it very optimistically, then they start running into edge cases
<br>
</div>

<div class='talk op-msg' data-timestamp='1551870780' id='656606'>
<a class='timestamp' href='#656606'><time timestamp='2019-03-06T11:13:00Z'>11:13</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
whaaaaat . . . ... if I <b>*only*</b> build riscv64 and aarch64 I get the same output as the rest
<br>
</div>

<div class='talk op-msg' data-timestamp='1551870780' id='656607'>
<a class='timestamp' href='#656607'><time timestamp='2019-03-06T11:13:00Z'>11:13</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I should not only nuke the VM but physically burn this computer too
<br>
</div>

<div class='talk op-msg' data-timestamp='1551870780' id='656608'>
<a class='timestamp' href='#656608'><time timestamp='2019-03-06T11:13:00Z'>11:13</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
lol
<br>
</div>

<div class='talk op-msg' data-timestamp='1551870840' id='656609'>
<a class='timestamp' href='#656609'><time timestamp='2019-03-06T11:14:00Z'>11:14</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
hm maybe some intemediate output from different builds is getting mixed up?
<br>
</div>

<div class='talk op-msg' data-timestamp='1551870900' id='656610'>
<a class='timestamp' href='#656610'><time timestamp='2019-03-06T11:15:00Z'>11:15</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it&#x27;s very possible, the curious thing is that those two platforms are last (being the most recently added)
<br>
</div>

<div class='talk op-msg' data-timestamp='1551870900' id='656611'>
<a class='timestamp' href='#656611'><time timestamp='2019-03-06T11:15:00Z'>11:15</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I wonder if everyone else did the builds seperately and it would be consistent if they were all done at once?
<br>
</div>

<div class='talk op-msg' data-timestamp='1551870960' id='656612'>
<a class='timestamp' href='#656612'><time timestamp='2019-03-06T11:16:00Z'>11:16</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
but that makes it <b>*more likely*</b> they&#x27;re influenced by earlier things
<br>
</div>

<div class='talk op-msg' data-timestamp='1551870960' id='656613'>
<a class='timestamp' href='#656613'><time timestamp='2019-03-06T11:16:00Z'>11:16</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
nah the same descriptor builds all platforms, the only way to build them separately is to hack the descriptor, I doubt everyone else did that :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1551871080' id='656614'>
<a class='timestamp' href='#656614'><time timestamp='2019-03-06T11:18:00Z'>11:18</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
ideally you&#x27;d want to create a new, clean environment every time (as often as possible, so definitely between different platform builds), as soon as there is less overhead to that we should do that
<br>
</div>

<div class='talk op-msg' data-timestamp='1551871080' id='656615'>
<a class='timestamp' href='#656615'><time timestamp='2019-03-06T11:18:00Z'>11:18</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
currently that means adding 30-60 minutes of VM setup in between so I understand why it&#x27;s merged into as few descriptors as possible
<br>
</div>

<div class='talk op-msg' data-timestamp='1551872400' id='656616'>
<a class='timestamp' href='#656616'><time timestamp='2019-03-06T11:40:00Z'>11:40</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
in any case my suspicion is that something local here is preventing add-gnu-debuglink from working in some cases; I&#x27;d recommend to not make this a blocker for getting rc1 out
<br>
</div>

<div class='talk op-msg' data-timestamp='1551872640' id='656617'>
<a class='timestamp' href='#656617'><time timestamp='2019-03-06T11:44:00Z'>11:44</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
there&#x27;s no `set -e` at the top of that split-debug.sh script, so say objdump fails (for what ever reason), the error will go unnoticed!
<br>
</div>

<div class='talk op-msg' data-timestamp='1551872700' id='656618'>
<a class='timestamp' href='#656618'><time timestamp='2019-03-06T11:45:00Z'>11:45</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
(also: and what does find -exec ... do when its command fails with error status? does it fail)
<br>
</div>

<div class='talk op-msg' data-timestamp='1551873060' id='656619'>
<a class='timestamp' href='#656619'><time timestamp='2019-03-06T11:51:00Z'>11:51</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
&quot;find&quot; ignores errors as well, okay, I don&#x27;t even have an idea how to  make errors propagate up the chain here
<br>
</div>

<div class='talk op-msg' data-timestamp='1551873180' id='656620'>
<a class='timestamp' href='#656620'><time timestamp='2019-03-06T11:53:00Z'>11:53</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
interesting, errors in -exec can be used to filter the output of find from extra stages, I don&#x27;t think I realized that. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1551873180' id='656621'>
<a class='timestamp' href='#656621'><time timestamp='2019-03-06T11:53:00Z'>11:53</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
e.g. find ./ -exec true \; -print  prints everything but using false prints nothing.
<br>
</div>

<div class='talk op-msg' data-timestamp='1551873240' id='656622'>
<a class='timestamp' href='#656622'><time timestamp='2019-03-06T11:54:00Z'>11:54</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
oh!
<br>
</div>

<div class='talk op-msg' data-timestamp='1551873600' id='656623'>
<a class='timestamp' href='#656623'><time timestamp='2019-03-06T12:00:00Z'>12:00</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
apparently the solution to find -exec error propagation is to use &#x27;xargs&#x27; instead
<br>
</div>

<div class='talk op-msg' data-timestamp='1551873660' id='656624'>
<a class='timestamp' href='#656624'><time timestamp='2019-03-06T12:01:00Z'>12:01</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
thats why I don&#x27;t have much -exec expirence-- I&#x27;ve always used xargs. (Also -0 option ftw)
<br>
</div>

<div class='talk op-msg' data-timestamp='1551873720' id='656625'>
<a class='timestamp' href='#656625'><time timestamp='2019-03-06T12:02:00Z'>12:02</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
right, switching to that
<br>
</div>

<div class='talk op-msg' data-timestamp='1551873780' id='656626'>
<a class='timestamp' href='#656626'><time timestamp='2019-03-06T12:03:00Z'>12:03</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] Sjors opened pull request #15545: [doc] explain why CheckBlock() is called before AcceptBlock (master...2019/03/clarify-checkblock) <a href="https://github.com/bitcoin/bitcoin/pull/15545" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/15545</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1551873780' id='656627'>
<a class='timestamp' href='#656627'><time timestamp='2019-03-06T12:03:00Z'>12:03</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
find ${DISTNAME}/bin -type f -executable -print0 | xargs -0 -n1 -I{} ../contrib/devtools/split-debug.sh {} {} {}.dbg
<br>
</div>

<div class='talk op-msg' data-timestamp='1551873840' id='656628'>
<a class='timestamp' href='#656628'><time timestamp='2019-03-06T12:04:00Z'>12:04</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
then adding a &#x27;set -e&#x27; at top of that script and it should cause the build to stop if any of the objdump commands fails...
<br>
</div>

<div class='talk op-msg' data-timestamp='1551873840' id='656629'>
<a class='timestamp' href='#656629'><time timestamp='2019-03-06T12:04:00Z'>12:04</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
objcopy*
<br>
</div>

<div class='talk op-msg' data-timestamp='1551873960' id='656630'>
<a class='timestamp' href='#656630'><time timestamp='2019-03-06T12:06:00Z'>12:06</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
silently ignoring errors should be the worst sin in computing
<br>
</div>

<div class='talk op-msg' data-timestamp='1551874620' id='656631'>
<a class='timestamp' href='#656631'><time timestamp='2019-03-06T12:17:00Z'>12:17</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
provoostenator: are you still using boost::process?
<br>
</div>

<div class='talk op-msg' data-timestamp='1551874680' id='656632'>
<a class='timestamp' href='#656632'><time timestamp='2019-03-06T12:18:00Z'>12:18</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
promag: waiting for more feedback on #15440, I&#x27;m fine with any solution really, preferably one that minimizes headache.
<br>
</div>

<div class='talk op-msg' data-timestamp='1551874680' id='656633'>
<a class='timestamp' href='#656633'><time timestamp='2019-03-06T12:18:00Z'>12:18</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/15440" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/15440</a> | RFC including boost-process · Issue #15440 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1551874740' id='656634'>
<a class='timestamp' href='#656634'><time timestamp='2019-03-06T12:19:00Z'>12:19</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
kk
<br>
</div>

<div class='talk op-msg' data-timestamp='1551874800' id='656635'>
<a class='timestamp' href='#656635'><time timestamp='2019-03-06T12:20:00Z'>12:20</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
nice !
<br>
</div>

<div class='talk op-msg' data-timestamp='1551874800' id='656636'>
<a class='timestamp' href='#656636'><time timestamp='2019-03-06T12:20:00Z'>12:20</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
It seems boost::process is overkill for what I need it for (pass stuff into a command as arguments or stdin, consume its std::out)
<br>
</div>

<div class='talk op-msg' data-timestamp='1551874800' id='656637'>
<a class='timestamp' href='#656637'><time timestamp='2019-03-06T12:20:00Z'>12:20</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
overkill? how so?
<br>
</div>

<div class='talk op-msg' data-timestamp='1551874860' id='656638'>
<a class='timestamp' href='#656638'><time timestamp='2019-03-06T12:21:00Z'>12:21</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
promag: as I explain in that Github issue, it&#x27;s a <u>_lot_</u> of code
<br>
</div>

<div class='talk op-msg' data-timestamp='1551874860' id='656639'>
<a class='timestamp' href='#656639'><time timestamp='2019-03-06T12:21:00Z'>12:21</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
With dependencies all over Boost itself, unclear how much that overlap with what we already consume.
<br>
</div>

<div class='talk op-msg' data-timestamp='1551874920' id='656640'>
<a class='timestamp' href='#656640'><time timestamp='2019-03-06T12:22:00Z'>12:22</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
But it does Work(tm)
<br>
</div>

<div class='talk op-msg' data-timestamp='1551874920' id='656641'>
<a class='timestamp' href='#656641'><time timestamp='2019-03-06T12:22:00Z'>12:22</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
if something else better is made, we can always switch later
<br>
</div>

<div class='talk op-msg' data-timestamp='1551874920' id='656642'>
<a class='timestamp' href='#656642'><time timestamp='2019-03-06T12:22:00Z'>12:22</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
And boost things often make it to c++ standards, although afaik there&#x27;s not progress on that front for process.
<br>
</div>

<div class='talk op-msg' data-timestamp='1551874920' id='656643'>
<a class='timestamp' href='#656643'><time timestamp='2019-03-06T12:22:00Z'>12:22</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
doubt there will be
<br>
</div>

<div class='talk op-msg' data-timestamp='1551874920' id='656644'>
<a class='timestamp' href='#656644'><time timestamp='2019-03-06T12:22:00Z'>12:22</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
luke-jr: I&#x27;m not worried about switching cost, I&#x27;m worried about how much review work it takes to use this.
<br>
</div>

<div class='talk op-msg' data-timestamp='1551874980' id='656645'>
<a class='timestamp' href='#656645'><time timestamp='2019-03-06T12:23:00Z'>12:23</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
processes are foreign to C at least
<br>
</div>

<div class='talk op-msg' data-timestamp='1551874980' id='656646'>
<a class='timestamp' href='#656646'><time timestamp='2019-03-06T12:23:00Z'>12:23</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
&quot;But it does Work(tm)&quot; this part is usually undersnowed
<br>
</div>

<div class='talk op-msg' data-timestamp='1551874980' id='656647'>
<a class='timestamp' href='#656647'><time timestamp='2019-03-06T12:23:00Z'>12:23</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
provoostenator: I&#x27;ll rework #13339 (maybe a different branch) to also use boost::process
<br>
</div>

<div class='talk op-msg' data-timestamp='1551874980' id='656648'>
<a class='timestamp' href='#656648'><time timestamp='2019-03-06T12:23:00Z'>12:23</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/13339" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/13339</a> | wallet: Replace %w by wallet name in -walletnotify script by promag · Pull Request #13339 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1551874980' id='656649'>
<a class='timestamp' href='#656649'><time timestamp='2019-03-06T12:23:00Z'>12:23</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
promag: why?
<br>
</div>

<div class='talk op-msg' data-timestamp='1551874980' id='656650'>
<a class='timestamp' href='#656650'><time timestamp='2019-03-06T12:23:00Z'>12:23</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
so much talk about which dependency to use and so little about the actual feature :(
<br>
</div>

<div class='talk op-msg' data-timestamp='1551874980' id='656651'>
<a class='timestamp' href='#656651'><time timestamp='2019-03-06T12:23:00Z'>12:23</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
that is working fine, except for escaping stuff, which boost::process doesn&#x27;t add afaiki
<br>
</div>

<div class='talk op-msg' data-timestamp='1551875040' id='656652'>
<a class='timestamp' href='#656652'><time timestamp='2019-03-06T12:24:00Z'>12:24</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I thougth the plan of record we to just get it working however and worry about the exact mechenism to use fork() later?
<br>
</div>

<div class='talk op-msg' data-timestamp='1551875100' id='656653'>
<a class='timestamp' href='#656653'><time timestamp='2019-03-06T12:25:00Z'>12:25</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes ^^
<br>
</div>

<div class='talk op-msg' data-timestamp='1551875100' id='656654'>
<a class='timestamp' href='#656654'><time timestamp='2019-03-06T12:25:00Z'>12:25</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
luke-jr: ok, another branch then.. I think %w is kind of lame, I want to try env var instead
<br>
</div>

<div class='talk op-msg' data-timestamp='1551875100' id='656655'>
<a class='timestamp' href='#656655'><time timestamp='2019-03-06T12:25:00Z'>12:25</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
certantly we <u>_can_</u> solve this, one way or another.
<br>
</div>

<div class='talk op-msg' data-timestamp='1551875160' id='656656'>
<a class='timestamp' href='#656656'><time timestamp='2019-03-06T12:26:00Z'>12:26</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
gmaxwell: that&#x27;s my plan as well, I&#x27;ll just keep working on the hardware wallet support stuff
<br>
</div>

<div class='talk op-msg' data-timestamp='1551875340' id='656657'>
<a class='timestamp' href='#656657'><time timestamp='2019-03-06T12:29:00Z'>12:29</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
And I made a seperate PR &amp; issue for the boost:process stuff in order to deflect that discussion away from the feature.
<br>
</div>

<div class='talk op-msg' data-timestamp='1551875400' id='656658'>
<a class='timestamp' href='#656658'><time timestamp='2019-03-06T12:30:00Z'>12:30</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
I wish there was an easier way to do nested PRs, but otherwise it&#x27;s not blocking.
<br>
</div>

<div class='talk op-msg' data-timestamp='1551875400' id='656659'>
<a class='timestamp' href='#656659'><time timestamp='2019-03-06T12:30:00Z'>12:30</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
thanks, makes sense
<br>
</div>

<div class='talk op-msg' data-timestamp='1551875880' id='656660'>
<a class='timestamp' href='#656660'><time timestamp='2019-03-06T12:38:00Z'>12:38</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
okay I&#x27;m lost now, what causes the gitian descriptor to stop building? does a command failing even do that? I had a typo in my descriptor causing find to <b>*completely fail*</b> (find: missing argument to `-exec&#x27;) and it still continued building 
<br>
</div>

<div class='talk op-msg' data-timestamp='1551875940' id='656661'>
<a class='timestamp' href='#656661'><time timestamp='2019-03-06T12:39:00Z'>12:39</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
IT CANNOT BE STOPPED. RUN RUN AND HIDE
<br>
</div>

<div class='talk op-msg' data-timestamp='1551876000' id='656662'>
<a class='timestamp' href='#656662'><time timestamp='2019-03-06T12:40:00Z'>12:40</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
now you&#x27;re saying, CTRL-C didn&#x27;t stop it either. OH NO I think you&#x27;re right!
<br>
</div>

<div class='talk op-msg' data-timestamp='1551876000' id='656663'>
<a class='timestamp' href='#656663'><time timestamp='2019-03-06T12:40:00Z'>12:40</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Yeah, the unstoppable nature of Gitian builds has been noticed before. Resetting the VM helps :-)
<br>
</div>

<div class='talk op-msg' data-timestamp='1551876120' id='656664'>
<a class='timestamp' href='#656664'><time timestamp='2019-03-06T12:42:00Z'>12:42</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
is it a bug that the &quot;rc1&quot; was added to zips, but not installer exes?
<br>
</div>

<div class='talk op-msg' data-timestamp='1551876600' id='656665'>
<a class='timestamp' href='#656665'><time timestamp='2019-03-06T12:50:00Z'>12:50</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
luke-jr: I think that&#x27;s a bug
<br>
</div>

<div class='talk op-msg' data-timestamp='1551876720' id='656666'>
<a class='timestamp' href='#656666'><time timestamp='2019-03-06T12:52:00Z'>12:52</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
provoostenator: well it was almost done; most shocking to me was that a failing command didn&#x27;t cause it to stop, it still built <b>*some*</b> output
<br>
</div>

<div class='talk op-msg' data-timestamp='1551876840' id='656667'>
<a class='timestamp' href='#656667'><time timestamp='2019-03-06T12:54:00Z'>12:54</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
luke-jr: for which distro? Afaik  bitcoind and bitcoin-cli never include a version number. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1551876900' id='656668'>
<a class='timestamp' href='#656668'><time timestamp='2019-03-06T12:55:00Z'>12:55</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I think he means to the filenames?
<br>
</div>

<div class='talk op-msg' data-timestamp='1551876900' id='656669'>
<a class='timestamp' href='#656669'><time timestamp='2019-03-06T12:55:00Z'>12:55</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
The tar.gz names?
<br>
</div>

<div class='talk op-msg' data-timestamp='1551876960' id='656670'>
<a class='timestamp' href='#656670'><time timestamp='2019-03-06T12:56:00Z'>12:56</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
bitcoin-0.18.0-win32-setup-unsigned.exe bitcoin-0.18.0rc1-win32.zip bitcoin-0.18.0-win64-setup-unsigned.exe bitcoin-0.18.0rc1-win64.zip
<br>
</div>

<div class='talk op-msg' data-timestamp='1551876960' id='656671'>
<a class='timestamp' href='#656671'><time timestamp='2019-03-06T12:56:00Z'>12:56</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
no, the installer exe names
<br>
</div>

<div class='talk op-msg' data-timestamp='1551876960' id='656672'>
<a class='timestamp' href='#656672'><time timestamp='2019-03-06T12:56:00Z'>12:56</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
File naming has some other issues too, in some places it doesn&#x27;t include the patch version. See: <a href="https://github.com/bitcoin-core/docs/issues/18" class="link" target="_blank">https://github.com/bitcoin-core/docs/issues/18</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1551877020' id='656673'>
<a class='timestamp' href='#656673'><time timestamp='2019-03-06T12:57:00Z'>12:57</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
(but that&#x27;s another issue that the installers)
<br>
</div>

<div class='talk op-msg' data-timestamp='1551877020' id='656674'>
<a class='timestamp' href='#656674'><time timestamp='2019-03-06T12:57:00Z'>12:57</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I vaguely rememebr that one was fixed, not 100% sure though
<br>
</div>

<div class='talk op-msg' data-timestamp='1551877080' id='656675'>
<a class='timestamp' href='#656675'><time timestamp='2019-03-06T12:58:00Z'>12:58</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
same
<br>
</div>

<div class='talk op-msg' data-timestamp='1551877080' id='656676'>
<a class='timestamp' href='#656676'><time timestamp='2019-03-06T12:58:00Z'>12:58</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
pretty sure that was what fixed the rcN being added too
<br>
</div>

<div class='talk op-msg' data-timestamp='1551877080' id='656677'>
<a class='timestamp' href='#656677'><time timestamp='2019-03-06T12:58:00Z'>12:58</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
What was fixed was a bug with the sub patch version, e.g. 0.17.0.1
<br>
</div>

<div class='talk op-msg' data-timestamp='1551877080' id='656678'>
<a class='timestamp' href='#656678'><time timestamp='2019-03-06T12:58:00Z'>12:58</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
I had to modify my build scripts not to rename..
<br>
</div>

<div class='talk op-msg' data-timestamp='1551877140' id='656679'>
<a class='timestamp' href='#656679'><time timestamp='2019-03-06T12:59:00Z'>12:59</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
(I guess we use semver differently, with the second digit being called the major version)
<br>
</div>

<div class='talk op-msg' data-timestamp='1551877200' id='656680'>
<a class='timestamp' href='#656680'><time timestamp='2019-03-06T13:00:00Z'>13:00</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
0.MAJOR.MINOR.PATCH, so the issue we fixed was that the patch version was ignored in 0.17.0.1. We still have an issue with missing minor version in some Gitian path names.
<br>
</div>

<div class='talk op-msg' data-timestamp='1551877260' id='656681'>
<a class='timestamp' href='#656681'><time timestamp='2019-03-06T13:01:00Z'>13:01</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I&#x27;ve never heard of that one
<br>
</div>

<div class='talk op-msg' data-timestamp='1551877260' id='656682'>
<a class='timestamp' href='#656682'><time timestamp='2019-03-06T13:01:00Z'>13:01</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
you&#x27;d say being unable to distinguish minor versions would be extremely apparent
<br>
</div>

<div class='talk op-msg' data-timestamp='1551877260' id='656683'>
<a class='timestamp' href='#656683'><time timestamp='2019-03-06T13:01:00Z'>13:01</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
the caches intentionally don&#x27;t use MINOR.PATCH ..
<br>
</div>

<div class='talk op-msg' data-timestamp='1551877260' id='656684'>
<a class='timestamp' href='#656684'><time timestamp='2019-03-06T13:01:00Z'>13:01</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
#14612
<br>
</div>

<div class='talk op-msg' data-timestamp='1551877260' id='656685'>
<a class='timestamp' href='#656685'><time timestamp='2019-03-06T13:01:00Z'>13:01</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/14612" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/14612</a> | Include full version number in released file names by achow101 · Pull Request #14612 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1551877380' id='656686'>
<a class='timestamp' href='#656686'><time timestamp='2019-03-06T13:03:00Z'>13:03</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
The unsolved one is that we still use &quot;bitcoin-linux-0.18-build.assert.sig&quot; instead of &quot;bitcoin-linux-0.18.0-build.assert.sig&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1551877380' id='656687'>
<a class='timestamp' href='#656687'><time timestamp='2019-03-06T13:03:00Z'>13:03</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
#15546 should probably get a 0.18 tag
<br>
</div>

<div class='talk op-msg' data-timestamp='1551877380' id='656688'>
<a class='timestamp' href='#656688'><time timestamp='2019-03-06T13:03:00Z'>13:03</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/15546" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/15546</a> | gitian: Windows installer EXE filenames lack &quot;rcN&quot; suffix · Issue #15546 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1551877380' id='656689'>
<a class='timestamp' href='#656689'><time timestamp='2019-03-06T13:03:00Z'>13:03</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
provoostenator: that&#x27;s not a problem
<br>
</div>

<div class='talk op-msg' data-timestamp='1551877380' id='656690'>
<a class='timestamp' href='#656690'><time timestamp='2019-03-06T13:03:00Z'>13:03</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
luke-jr: it&#x27;s marginally annoying, but I agree not really a problem.
<br>
</div>

<div class='talk op-msg' data-timestamp='1551877440' id='656691'>
<a class='timestamp' href='#656691'><time timestamp='2019-03-06T13:04:00Z'>13:04</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
I just need to brush up my bash to take only the first two digits from $VERSION in <a href="https://github.com/bitcoin-core/docs/issues/18" class="link" target="_blank">https://github.com/bitcoin-core/docs/issues/18</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1551877560' id='656692'>
<a class='timestamp' href='#656692'><time timestamp='2019-03-06T13:06:00Z'>13:06</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
I don&#x27;t think --output is needed at all? and you can just use *.assert
<br>
</div>

<div class='talk op-msg' data-timestamp='1551877560' id='656693'>
<a class='timestamp' href='#656693'><time timestamp='2019-03-06T13:06:00Z'>13:06</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
also, is there a reason you&#x27;re leaving off the last character in --detach-sign ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1551879960' id='656694'>
<a class='timestamp' href='#656694'><time timestamp='2019-03-06T13:46:00Z'>13:46</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] instagibbs opened pull request #15547: Switch wallet default to reject too-long transaction chains for mempool (master...walletreject_true) <a href="https://github.com/bitcoin/bitcoin/pull/15547" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/15547</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1551880020' id='656695'>
<a class='timestamp' href='#656695'><time timestamp='2019-03-06T13:47:00Z'>13:47</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
okay, phew, at least putting random garbage into the descriptor script at the top causes it to fail the build, maybe it&#x27;s something with the for loop over platforms that causes the error to be ignored
<br>
</div>

<div class='talk op-msg' data-timestamp='1551880320' id='656696'>
<a class='timestamp' href='#656696'><time timestamp='2019-03-06T13:52:00Z'>13:52</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
ignoring errors :o
<br>
</div>

<div class='talk op-msg' data-timestamp='1551880620' id='656697'>
<a class='timestamp' href='#656697'><time timestamp='2019-03-06T13:57:00Z'>13:57</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
fanquake: yes; while editing the descriptor I made a typo in the find syntax, I&#x27;m sure that returns error status, but the build kept continuing, trying to figure out why now (I really want the build to stop on errors, even minor ones)
<br>
</div>

<div class='talk op-msg' data-timestamp='1551880680' id='656698'>
<a class='timestamp' href='#656698'><time timestamp='2019-03-06T13:58:00Z'>13:58</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
this is taking 10x as much time as it should because of gitian&#x27;s VM setup overhead...
<br>
</div>

<div class='talk op-msg' data-timestamp='1551880740' id='656699'>
<a class='timestamp' href='#656699'><time timestamp='2019-03-06T13:59:00Z'>13:59</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
:/
<br>
</div>

<div class='talk op-msg' data-timestamp='1551880740' id='656700'>
<a class='timestamp' href='#656700'><time timestamp='2019-03-06T13:59:00Z'>13:59</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
hm I guess it&#x27;s possible to re-use the image if the output doesn&#x27;t matter
<br>
</div>

<div class='talk op-msg' data-timestamp='1551880980' id='656701'>
<a class='timestamp' href='#656701'><time timestamp='2019-03-06T14:03:00Z'>14:03</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
OHHHHH I see the problem. `find -exec | xargs -0` returns exec status 0 despite find&#x27;s error, after all, a pipe will return the exit status of the last command
<br>
</div>

<div class='talk op-msg' data-timestamp='1551880980' id='656702'>
<a class='timestamp' href='#656702'><time timestamp='2019-03-06T14:03:00Z'>14:03</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
<b>*cries*</b>
<br>
</div>

<div class='talk op-msg' data-timestamp='1551881100' id='656703'>
<a class='timestamp' href='#656703'><time timestamp='2019-03-06T14:05:00Z'>14:05</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
so what I managed to do: failures in the &#x27;split-debug.sh&#x27; script will now make it upstream and cause the build to stop
<br>
</div>

<div class='talk op-msg' data-timestamp='1551881160' id='656704'>
<a class='timestamp' href='#656704'><time timestamp='2019-03-06T14:06:00Z'>14:06</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
what I managed to mess up: failures in the find itself will no longer be propagated
<br>
</div>

<div class='talk op-msg' data-timestamp='1551881160' id='656705'>
<a class='timestamp' href='#656705'><time timestamp='2019-03-06T14:06:00Z'>14:06</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
welcome to shell hell, one step forward, one step backward ...
<br>
</div>

<div class='talk op-msg' data-timestamp='1551881220' id='656706'>
<a class='timestamp' href='#656706'><time timestamp='2019-03-06T14:07:00Z'>14:07</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
Don&#x27;t worry, deterministic building is &quot;easy&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1551881220' id='656707'>
<a class='timestamp' href='#656707'><time timestamp='2019-03-06T14:07:00Z'>14:07</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yesss, only a matter of setting time to 0 right
<br>
</div>

<div class='talk op-msg' data-timestamp='1551881340' id='656708'>
<a class='timestamp' href='#656708'><time timestamp='2019-03-06T14:09:00Z'>14:09</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
Nice quote from HN: &quot;One has to step back and ask: &quot;What made you decide to introduce non-determinism into your compilation process in the first place?&quot;&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1551881340' id='656709'>
<a class='timestamp' href='#656709'><time timestamp='2019-03-06T14:09:00Z'>14:09</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
...
<br>
</div>

<div class='talk op-msg' data-timestamp='1551881400' id='656710'>
<a class='timestamp' href='#656710'><time timestamp='2019-03-06T14:10:00Z'>14:10</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
ha
<br>
</div>

<div class='talk op-msg' data-timestamp='1551881520' id='656711'>
<a class='timestamp' href='#656711'><time timestamp='2019-03-06T14:12:00Z'>14:12</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
&quot;One has to step back and ask: what made you decide to let water into your boat in the first place?&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1551881880' id='656712'>
<a class='timestamp' href='#656712'><time timestamp='2019-03-06T14:18:00Z'>14:18</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
anyhow, with this in place I&#x27;m going to do the full linux build again, hopefully the problem will have magically disappeared (heisenbug), or it will exit due to an error in objcopy
<br>
</div>

<div class='talk op-msg' data-timestamp='1551882000' id='656713'>
<a class='timestamp' href='#656713'><time timestamp='2019-03-06T14:20:00Z'>14:20</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
sounds good, maybe a quick fix then
<br>
</div>

<div class='talk op-msg' data-timestamp='1551882060' id='656714'>
<a class='timestamp' href='#656714'><time timestamp='2019-03-06T14:21:00Z'>14:21</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
hopefully
<br>
</div>

<div class='talk op-msg' data-timestamp='1551883020' id='656715'>
<a class='timestamp' href='#656715'><time timestamp='2019-03-06T14:37:00Z'>14:37</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
TIL bash has `set -o pipefail` to fail a command if any of the stages of the pipe fails
<br>
</div>

<div class='talk op-msg' data-timestamp='1551883080' id='656716'>
<a class='timestamp' href='#656716'><time timestamp='2019-03-06T14:38:00Z'>14:38</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
luke-jr: good catch re &quot;--detach-sig&quot;, will fix now and then test when the signed binaries are out
<br>
</div>

<div class='talk op-msg' data-timestamp='1551883380' id='656717'>
<a class='timestamp' href='#656717'><time timestamp='2019-03-06T14:43:00Z'>14:43</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
luke-jr: TIL gpg on macOS accepts --detach-sig as an alias for --detach-sign  . Undocumented and seems to be left over from older versions.
<br>
</div>

<div class='talk op-msg' data-timestamp='1551883680' id='656718'>
<a class='timestamp' href='#656718'><time timestamp='2019-03-06T14:48:00Z'>14:48</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
probably backdoored too
<br>
</div>

<div class='talk op-msg' data-timestamp='1551883740' id='656719'>
<a class='timestamp' href='#656719'><time timestamp='2019-03-06T14:49:00Z'>14:49</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
gpg seems to accept --anything if it&#x27;s an unambiguous prefix
<br>
</div>

<div class='talk op-msg' data-timestamp='1551888600' id='656720'>
<a class='timestamp' href='#656720'><time timestamp='2019-03-06T16:10:00Z'>16:10</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
so… it all turned out to be a VM disk space issue: <a href="https://github.com/bitcoin/bitcoin/issues/15541#issuecomment-470160960" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/15541#issuecomment-470160960</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1551890040' id='656721'>
<a class='timestamp' href='#656721'><time timestamp='2019-03-06T16:34:00Z'>16:34</time></a>
&lt;<span class='nick nick-8'> andytoshi</span>&gt;
i&#x27;d like to start a wiki page or github issue or something to collect a wishlist for a bip174/psbt extension BIP draft. where is the best place to do that?
<br>
</div>

<div class='talk op-msg' data-timestamp='1551892980' id='656722'>
<a class='timestamp' href='#656722'><time timestamp='2019-03-06T17:23:00Z'>17:23</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke opened pull request #15548: build: use full version string in setup.exe (master...1903-winVer) <a href="https://github.com/bitcoin/bitcoin/pull/15548" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/15548</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1551893340' id='656723'>
<a class='timestamp' href='#656723'><time timestamp='2019-03-06T17:29:00Z'>17:29</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj opened pull request #15549: gitian: Improve error handling (master...2019_03_gitian_error_handling) <a href="https://github.com/bitcoin/bitcoin/pull/15549" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/15549</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1551893400' id='656724'>
<a class='timestamp' href='#656724'><time timestamp='2019-03-06T17:30:00Z'>17:30</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
 #15549
<br>
</div>

<div class='talk op-msg' data-timestamp='1551893400' id='656725'>
<a class='timestamp' href='#656725'><time timestamp='2019-03-06T17:30:00Z'>17:30</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/15549" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/15549</a> | gitian: Improve error handling by laanwj · Pull Request #15549 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1551893460' id='656726'>
<a class='timestamp' href='#656726'><time timestamp='2019-03-06T17:31:00Z'>17:31</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
andytoshi: that&#x27;s a good question, normally the bitcoin-dev mailing list would be the best place to solicit feedback like that, but now that it&#x27;s not working I don&#x27;t really know
<br>
</div>

<div class='talk op-msg' data-timestamp='1551893580' id='656727'>
<a class='timestamp' href='#656727'><time timestamp='2019-03-06T17:33:00Z'>17:33</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
wumpus: it&#x27;s working again
<br>
</div>

<div class='talk op-msg' data-timestamp='1551893580' id='656728'>
<a class='timestamp' href='#656728'><time timestamp='2019-03-06T17:33:00Z'>17:33</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i think?
<br>
</div>

<div class='talk op-msg' data-timestamp='1551893820' id='656729'>
<a class='timestamp' href='#656729'><time timestamp='2019-03-06T17:37:00Z'>17:37</time></a>
&lt;<span class='nick nick-8'> andytoshi</span>&gt;
cool, if it&#x27;s working i&#x27;ll use the ML
<br>
</div>

<div class='talk op-msg' data-timestamp='1551893880' id='656730'>
<a class='timestamp' href='#656730'><time timestamp='2019-03-06T17:38:00Z'>17:38</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
but you could also ask in the meeting tomorrow, for example
<br>
</div>

<div class='talk op-msg' data-timestamp='1551893880' id='656731'>
<a class='timestamp' href='#656731'><time timestamp='2019-03-06T17:38:00Z'>17:38</time></a>
&lt;<span class='nick nick-8'> andytoshi</span>&gt;
I think i&#x27;ll be in flight during the meeting unfortunately
<br>
</div>

<div class='talk op-msg' data-timestamp='1551893880' id='656732'>
<a class='timestamp' href='#656732'><time timestamp='2019-03-06T17:38:00Z'>17:38</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
or some other week
<br>
</div>

<div class='talk op-msg' data-timestamp='1551900000' id='656733'>
<a class='timestamp' href='#656733'><time timestamp='2019-03-06T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] fametrano opened pull request #15550: [trivial] fixed path (master...patch-1) <a href="https://github.com/bitcoin/bitcoin/pull/15550" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/15550</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1551902340' id='656734'>
<a class='timestamp' href='#656734'><time timestamp='2019-03-06T19:59:00Z'>19:59</time></a>
&lt;<span class='nick nick-3'> cfields_</span>&gt;
gitian builders: detached sigs for v0.18.0rc1 are up.
<br>
</div>

<div class='talk op-msg' data-timestamp='1551903420' id='656735'>
<a class='timestamp' href='#656735'><time timestamp='2019-03-06T20:17:00Z'>20:17</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke pushed 5 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/4952a953585e...df36ddf9ce8a" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/4952a953585e...df36ddf9ce8a</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1551903420' id='656736'>
<a class='timestamp' href='#656736'><time timestamp='2019-03-06T20:17:00Z'>20:17</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master fab2daa MarcoFalke: test: Add missing LIBBITCOIN_ZMQ to test_test_bitcoin_LDADD
<br>
</div>

<div class='talk op-msg' data-timestamp='1551903420' id='656737'>
<a class='timestamp' href='#656737'><time timestamp='2019-03-06T20:17:00Z'>20:17</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master fa02b22 MarcoFalke: test: Remove useless test_bitcoin_main.cpp
<br>
</div>

<div class='talk op-msg' data-timestamp='1551903420' id='656738'>
<a class='timestamp' href='#656738'><time timestamp='2019-03-06T20:17:00Z'>20:17</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master fa85468 MarcoFalke: test: Move main_tests to validation_tests
<br>
</div>

<div class='talk op-msg' data-timestamp='1551903480' id='656739'>
<a class='timestamp' href='#656739'><time timestamp='2019-03-06T20:18:00Z'>20:18</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke merged pull request #15504: fuzz: Link BasicTestingSetup (shared with unit tests) (master...1903-testMain) <a href="https://github.com/bitcoin/bitcoin/pull/15504" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/15504</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1551909600' id='656740'>
<a class='timestamp' href='#656740'><time timestamp='2019-03-06T22:00:00Z'>22:00</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke pushed 3 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/df36ddf9ce8a...3515612e069e" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/df36ddf9ce8a...3515612e069e</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1551909600' id='656741'>
<a class='timestamp' href='#656741'><time timestamp='2019-03-06T22:00:00Z'>22:00</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master fa5dc35 MarcoFalke: rpc: Pass mempool into MempoolToJSON
<br>
</div>

<div class='talk op-msg' data-timestamp='1551909600' id='656742'>
<a class='timestamp' href='#656742'><time timestamp='2019-03-06T22:00:00Z'>22:00</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master fa38535 MarcoFalke: bench: Benchmark MempoolToJSON
<br>
</div>

<div class='talk op-msg' data-timestamp='1551909600' id='656743'>
<a class='timestamp' href='#656743'><time timestamp='2019-03-06T22:00:00Z'>22:00</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 3515612 MarcoFalke: Merge #15473: bench: Benchmark MempoolToJSON
<br>
</div>

<div class='talk op-msg' data-timestamp='1551909600' id='656744'>
<a class='timestamp' href='#656744'><time timestamp='2019-03-06T22:00:00Z'>22:00</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke merged pull request #15473: bench: Benchmark MempoolToJSON (master...Mf1902-benchRpcMempool) <a href="https://github.com/bitcoin/bitcoin/pull/15473" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/15473</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1551910200' id='656745'>
<a class='timestamp' href='#656745'><time timestamp='2019-03-06T22:10:00Z'>22:10</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke opened pull request #15552: 0.18: Granular invalidateblock and RewindBlockIndex (0.18...201902_limitrewindinvalidate) <a href="https://github.com/bitcoin/bitcoin/pull/15552" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/15552</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1551913560' id='656746'>
<a class='timestamp' href='#656746'><time timestamp='2019-03-06T23:06:00Z'>23:06</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
cfields_ Thanks, I&#x27;ve pushed up some signed sigs
<br>
</div>

<div class='talk op-msg' data-timestamp='1551913680' id='656747'>
<a class='timestamp' href='#656747'><time timestamp='2019-03-06T23:08:00Z'>23:08</time></a>
&lt;<span class='nick nick-3'> cfields_</span>&gt;
fanquake: Thanks :)
<br>
</div>

</div>
</section>

</body>
</html>
