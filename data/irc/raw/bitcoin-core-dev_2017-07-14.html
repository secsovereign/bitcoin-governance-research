<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2017-07-14
 — 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2017-07-14' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:24 UTC</pre>
<pre><a href="/bitcoin-core-dev/2017-06-14">&lt;</a><span class='header'>    July 2017     </span><a href="/bitcoin-core-dev/2017-08-14">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;                   <a class="" href="/bitcoin-core-dev/2017-07-01">1</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2017-07-02">2</a>  <a class="" href="/bitcoin-core-dev/2017-07-03">3</a>  <a class="" href="/bitcoin-core-dev/2017-07-04">4</a>  <a class="" href="/bitcoin-core-dev/2017-07-05">5</a>  <a class="" href="/bitcoin-core-dev/2017-07-06">6</a>  <a class="" href="/bitcoin-core-dev/2017-07-07">7</a>  <a class="" href="/bitcoin-core-dev/2017-07-08">8</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2017-07-09">9</a> <a class="" href="/bitcoin-core-dev/2017-07-10">10</a> <a class="" href="/bitcoin-core-dev/2017-07-11">11</a> <a class="" href="/bitcoin-core-dev/2017-07-12">12</a> <a class="" href="/bitcoin-core-dev/2017-07-13">13</a> <a class="current" href="/bitcoin-core-dev/2017-07-14">14</a> <a class="" href="/bitcoin-core-dev/2017-07-15">15</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2017-07-16">16</a> <a class="" href="/bitcoin-core-dev/2017-07-17">17</a> <a class="" href="/bitcoin-core-dev/2017-07-18">18</a> <a class="" href="/bitcoin-core-dev/2017-07-19">19</a> <a class="" href="/bitcoin-core-dev/2017-07-20">20</a> <a class="" href="/bitcoin-core-dev/2017-07-21">21</a> <a class="" href="/bitcoin-core-dev/2017-07-22">22</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2017-07-23">23</a> <a class="" href="/bitcoin-core-dev/2017-07-24">24</a> <a class="" href="/bitcoin-core-dev/2017-07-25">25</a> <a class="" href="/bitcoin-core-dev/2017-07-26">26</a> <a class="" href="/bitcoin-core-dev/2017-07-27">27</a> <a class="" href="/bitcoin-core-dev/2017-07-28">28</a> <a class="" href="/bitcoin-core-dev/2017-07-29">29</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2017-07-30">30</a> <a class="" href="/bitcoin-core-dev/2017-07-31">31</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1500001020' id='557036'>
<a class='timestamp' href='#557036'><time timestamp='2017-07-14T02:57:00Z'>02:57</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
wumpus: poke, can you build v0.14.2-uasfsegwit1.0?
<br>
</div>

<div class='talk op-msg' data-timestamp='1500004200' id='557037'>
<a class='timestamp' href='#557037'><time timestamp='2017-07-14T03:50:00Z'>03:50</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
there&#x27;s functional tests that seem to randomly fail
<br>
</div>

<div class='talk op-msg' data-timestamp='1500004260' id='557038'>
<a class='timestamp' href='#557038'><time timestamp='2017-07-14T03:51:00Z'>03:51</time></a>
&lt;<span class='nick nick-4'> kanzure</span>&gt;
is there a trick to getting the test framework to let node[3].generate(10) actually cause additions to listunspent output
<br>
</div>

<div class='talk op-msg' data-timestamp='1500004320' id='557039'>
<a class='timestamp' href='#557039'><time timestamp='2017-07-14T03:52:00Z'>03:52</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
kanzure: maturity is a bitch
<br>
</div>

<div class='talk op-msg' data-timestamp='1500004320' id='557040'>
<a class='timestamp' href='#557040'><time timestamp='2017-07-14T03:52:00Z'>03:52</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
you need mine 100 more blocks first
<br>
</div>

<div class='talk op-msg' data-timestamp='1500004560' id='557041'>
<a class='timestamp' href='#557041'><time timestamp='2017-07-14T03:56:00Z'>03:56</time></a>
&lt;<span class='nick nick-4'> kanzure</span>&gt;
but 105 didn&#x27;t work either.
<br>
</div>

<div class='talk op-msg' data-timestamp='1500004680' id='557042'>
<a class='timestamp' href='#557042'><time timestamp='2017-07-14T03:58:00Z'>03:58</time></a>
&lt;<span class='nick nick-4'> kanzure</span>&gt;
oh.     
<br>
</div>

<div class='talk op-msg' data-timestamp='1500005460' id='557043'>
<a class='timestamp' href='#557043'><time timestamp='2017-07-14T04:11:00Z'>04:11</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] ReneNyffenegger closed pull request #10768: Build System: Prevent warning about &quot;maybe uninitialized variable&quot; nStart in init.cpp (master...init-nStart) <a href="https://github.com/bitcoin/bitcoin/pull/10768" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10768</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1500010800' id='557044'>
<a class='timestamp' href='#557044'><time timestamp='2017-07-14T05:40:00Z'>05:40</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
what is src/wallet.backup ? and what is making my unittests fail?
<br>
</div>

<div class='talk op-msg' data-timestamp='1500013320' id='557045'>
<a class='timestamp' href='#557045'><time timestamp='2017-07-14T06:22:00Z'>06:22</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
luke-jr: sure
<br>
</div>

<div class='talk op-msg' data-timestamp='1500013380' id='557046'>
<a class='timestamp' href='#557046'><time timestamp='2017-07-14T06:23:00Z'>06:23</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I&#x27;d seen an shorter version of this presentation before (and I think linked it here),  on failures in fault tolerant systems... some good nightmare fuel (it&#x27;s on HN right now) <a href="https://c3.nasa.gov/dashlink/static/media/other/ObservedFailures1.html" class="link" target="_blank">https://c3.nasa.gov/dashlink/static/media/other/ObservedFailures1.html</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1500013740' id='557047'>
<a class='timestamp' href='#557047'><time timestamp='2017-07-14T06:29:00Z'>06:29</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
wtf is up with <a href="https://github.com/bitcoin/bitcoin/pull/10805" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10805</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1500013800' id='557048'>
<a class='timestamp' href='#557048'><time timestamp='2017-07-14T06:30:00Z'>06:30</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
wumpus: he&#x27;s saying we should make manpages and ONLY document in those
<br>
</div>

<div class='talk op-msg' data-timestamp='1500013800' id='557049'>
<a class='timestamp' href='#557049'><time timestamp='2017-07-14T06:30:00Z'>06:30</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
ie, get rid of the --help details and RPC help stuff
<br>
</div>

<div class='talk op-msg' data-timestamp='1500013800' id='557050'>
<a class='timestamp' href='#557050'><time timestamp='2017-07-14T06:30:00Z'>06:30</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
why wouldn&#x27;t we just improve the --help and improve the autogen
<br>
</div>

<div class='talk op-msg' data-timestamp='1500013860' id='557051'>
<a class='timestamp' href='#557051'><time timestamp='2017-07-14T06:31:00Z'>06:31</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
he seems to think documentation simply belongs in manpages
<br>
</div>

<div class='talk op-msg' data-timestamp='1500013860' id='557052'>
<a class='timestamp' href='#557052'><time timestamp='2017-07-14T06:31:00Z'>06:31</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
I don&#x27;t necessarily agree (nor disagree).
<br>
</div>

<div class='talk op-msg' data-timestamp='1500014040' id='557053'>
<a class='timestamp' href='#557053'><time timestamp='2017-07-14T06:34:00Z'>06:34</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
documentation in the system is very helpful, from a pratical perspective.
<br>
</div>

<div class='talk op-msg' data-timestamp='1500014040' id='557054'>
<a class='timestamp' href='#557054'><time timestamp='2017-07-14T06:34:00Z'>06:34</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
and much easier to keep updated, and acts as source code documentation too
<br>
</div>

<div class='talk op-msg' data-timestamp='1500014100' id='557055'>
<a class='timestamp' href='#557055'><time timestamp='2017-07-14T06:35:00Z'>06:35</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
no one is going to maintain external manpages, the generation is useful imo
<br>
</div>

<div class='talk op-msg' data-timestamp='1500014160' id='557056'>
<a class='timestamp' href='#557056'><time timestamp='2017-07-14T06:36:00Z'>06:36</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I agree that creates an overlap between --help output and the man page, but I don&#x27;t see it as a problem
<br>
</div>

<div class='talk op-msg' data-timestamp='1500014220' id='557057'>
<a class='timestamp' href='#557057'><time timestamp='2017-07-14T06:37:00Z'>06:37</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
the only ways I see to improve on how we do it now are 1) we lost a manpage for bitcoin.conf, and 2) they ideally would be auto-generated during the build
<br>
</div>

<div class='talk op-msg' data-timestamp='1500014280' id='557058'>
<a class='timestamp' href='#557058'><time timestamp='2017-07-14T06:38:00Z'>06:38</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
and moving the manpages from doc/man to src makes no sense either, that directory is already cluttered enough
<br>
</div>

<div class='talk op-msg' data-timestamp='1500014760' id='557059'>
<a class='timestamp' href='#557059'><time timestamp='2017-07-14T06:46:00Z'>06:46</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] sipa opened pull request #10821: Add SSE 4.2 optimized SHA256 (master...20170713_shasse) <a href="https://github.com/bitcoin/bitcoin/pull/10821" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10821</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1500017040' id='557060'>
<a class='timestamp' href='#557060'><time timestamp='2017-07-14T07:24:00Z'>07:24</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/7666250ffb4e...db825d293be8" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/7666250ffb4e...db825d293be8</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1500017040' id='557061'>
<a class='timestamp' href='#557061'><time timestamp='2017-07-14T07:24:00Z'>07:24</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master d34d77a Cory Fields: build: verify that the assembler can handle crc32 functions...
<br>
</div>

<div class='talk op-msg' data-timestamp='1500017040' id='557062'>
<a class='timestamp' href='#557062'><time timestamp='2017-07-14T07:24:00Z'>07:24</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master db825d2 Wladimir J. van der Laan: Merge #10806: build: verify that the assembler can handle crc32 functions...
<br>
</div>

<div class='talk op-msg' data-timestamp='1500017100' id='557063'>
<a class='timestamp' href='#557063'><time timestamp='2017-07-14T07:25:00Z'>07:25</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj closed pull request #10806: build: verify that the assembler can handle crc32 functions (master...configure-check-asm) <a href="https://github.com/bitcoin/bitcoin/pull/10806" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10806</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1500019200' id='557064'>
<a class='timestamp' href='#557064'><time timestamp='2017-07-14T08:00:00Z'>08:00</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jtimon opened pull request #10822: TOTEST: Also server txo from gettxout (not just utxo and mempool) (master...b15-rpc-txo) <a href="https://github.com/bitcoin/bitcoin/pull/10822" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10822</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1500019440' id='557065'>
<a class='timestamp' href='#557065'><time timestamp='2017-07-14T08:04:00Z'>08:04</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Is there no RPC call (chain) to get a rawtx if I know height and txid?
<br>
</div>

<div class='talk op-msg' data-timestamp='1500019500' id='557066'>
<a class='timestamp' href='#557066'><time timestamp='2017-07-14T08:05:00Z'>08:05</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
jonasschnelli: #10275?
<br>
</div>

<div class='talk op-msg' data-timestamp='1500019500' id='557067'>
<a class='timestamp' href='#557067'><time timestamp='2017-07-14T08:05:00Z'>08:05</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/10275" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/10275</a> | [rpc] Allow fetching tx directly from specified block in getrawtransaction by kallewoof · Pull Request #10275 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1500019560' id='557068'>
<a class='timestamp' href='#557068'><time timestamp='2017-07-14T08:06:00Z'>08:06</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Oh! Nice... I missed that
<br>
</div>

<div class='talk op-msg' data-timestamp='1500019560' id='557069'>
<a class='timestamp' href='#557069'><time timestamp='2017-07-14T08:06:00Z'>08:06</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I even commented... :/
<br>
</div>

<div class='talk op-msg' data-timestamp='1500019620' id='557070'>
<a class='timestamp' href='#557070'><time timestamp='2017-07-14T08:07:00Z'>08:07</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Would allowing a range of blocks (defined by height) make sense as addition?
<br>
</div>

<div class='talk op-msg' data-timestamp='1500019620' id='557071'>
<a class='timestamp' href='#557071'><time timestamp='2017-07-14T08:07:00Z'>08:07</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
not sure...
<br>
</div>

<div class='talk op-msg' data-timestamp='1500019680' id='557072'>
<a class='timestamp' href='#557072'><time timestamp='2017-07-14T08:08:00Z'>08:08</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
when does that use case happen? you know a transaction is in a certain block range?
<br>
</div>

<div class='talk op-msg' data-timestamp='1500019740' id='557073'>
<a class='timestamp' href='#557073'><time timestamp='2017-07-14T08:09:00Z'>08:09</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Use case, I know a txid but don&#x27;t know if it is confirmed or not... maybe you can say &quot;check the last X blocks for txid Y&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1500019740' id='557074'>
<a class='timestamp' href='#557074'><time timestamp='2017-07-14T08:09:00Z'>08:09</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
But yeah.. meh.
<br>
</div>

<div class='talk op-msg' data-timestamp='1500019740' id='557075'>
<a class='timestamp' href='#557075'><time timestamp='2017-07-14T08:09:00Z'>08:09</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
10275 is really nice
<br>
</div>

<div class='talk op-msg' data-timestamp='1500020700' id='557076'>
<a class='timestamp' href='#557076'><time timestamp='2017-07-14T08:25:00Z'>08:25</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
wumpus: i actually said to gmaxwell earlier today about 
<br>
</div>

<div class='talk op-msg' data-timestamp='1500020760' id='557077'>
<a class='timestamp' href='#557077'><time timestamp='2017-07-14T08:26:00Z'>08:26</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
wumpus: i actually said to gmaxwell earlier today about 10820 &quot;in about 3 years someone will try to compile with OpenBSD, and notice that it doesn&#x27;t work... and then we&#x27;ll add some #ifdefs around it&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1500022020' id='557078'>
<a class='timestamp' href='#557078'><time timestamp='2017-07-14T08:47:00Z'>08:47</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I tried to compile Core on a openBSD VM. But I could not even install python3. The package manager idled endless at the point of decompression...
<br>
</div>

<div class='talk op-msg' data-timestamp='1500022680' id='557079'>
<a class='timestamp' href='#557079'><time timestamp='2017-07-14T08:58:00Z'>08:58</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
sipa: hah, no need to wait for that, I compile bitcoin core on openbsd quite a lot
<br>
</div>

<div class='talk op-msg' data-timestamp='1500022680' id='557080'>
<a class='timestamp' href='#557080'><time timestamp='2017-07-14T08:58:00Z'>08:58</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
jonasschnelli: strange
<br>
</div>

<div class='talk op-msg' data-timestamp='1500026820' id='557081'>
<a class='timestamp' href='#557081'><time timestamp='2017-07-14T10:07:00Z'>10:07</time></a>
&lt;<span class='nick nick-16'> mmgen</span>&gt;
signrawtransaction is adding the redeem script but not the witness data to transaction. Can anyone help?
<br>
</div>

<div class='talk op-msg' data-timestamp='1500026880' id='557082'>
<a class='timestamp' href='#557082'><time timestamp='2017-07-14T10:08:00Z'>10:08</time></a>
&lt;<span class='nick nick-16'> mmgen</span>&gt;
(I&#x27;m adding segwit support to my wallet)
<br>
</div>

<div class='talk op-msg' data-timestamp='1500027120' id='557083'>
<a class='timestamp' href='#557083'><time timestamp='2017-07-14T10:12:00Z'>10:12</time></a>
&lt;<span class='nick nick-16'> mmgen</span>&gt;
And the &quot;signed&quot; transaction with no witness relays OK on testnet and is included in mined block. Strange.
<br>
</div>

<div class='talk op-msg' data-timestamp='1500027240' id='557084'>
<a class='timestamp' href='#557084'><time timestamp='2017-07-14T10:14:00Z'>10:14</time></a>
&lt;<span class='nick nick-16'> mmgen</span>&gt;
What am I missing?
<br>
</div>

<div class='talk op-msg' data-timestamp='1500028380' id='557085'>
<a class='timestamp' href='#557085'><time timestamp='2017-07-14T10:33:00Z'>10:33</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
mmgen: can you maken an example and file an issue on github?
<br>
</div>

<div class='talk op-msg' data-timestamp='1500028380' id='557086'>
<a class='timestamp' href='#557086'><time timestamp='2017-07-14T10:33:00Z'>10:33</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Ideally show your process and in-/output
<br>
</div>

<div class='talk op-msg' data-timestamp='1500028500' id='557087'>
<a class='timestamp' href='#557087'><time timestamp='2017-07-14T10:35:00Z'>10:35</time></a>
&lt;<span class='nick nick-16'> mmgen</span>&gt;
I don&#x27;t think this warrants an issue.  I&#x27;m clearly doing something wrong. signrawtransaction can sign segwit ps2h TXs if you supply the redeem script and keys, right?
<br>
</div>

<div class='talk op-msg' data-timestamp='1500028560' id='557088'>
<a class='timestamp' href='#557088'><time timestamp='2017-07-14T10:36:00Z'>10:36</time></a>
&lt;<span class='nick nick-16'> mmgen</span>&gt;
The sign operation returns OK. TX broadcasts OK. TX is mined. But there&#x27;s no signature.
<br>
</div>

<div class='talk op-msg' data-timestamp='1500029580' id='557089'>
<a class='timestamp' href='#557089'><time timestamp='2017-07-14T10:53:00Z'>10:53</time></a>
&lt;<span class='nick nick-16'> mmgen</span>&gt;
jonasschnelli: testnet tx d207ffb90c4ceee2ce242990f69b91f67639f25a7b2be76c13b853a0a376b1b5
<br>
</div>

<div class='talk op-msg' data-timestamp='1500029820' id='557090'>
<a class='timestamp' href='#557090'><time timestamp='2017-07-14T10:57:00Z'>10:57</time></a>
&lt;<span class='nick nick-16'> mmgen</span>&gt;
jonasschnelli: just mined
<br>
</div>

<div class='talk op-msg' data-timestamp='1500029880' id='557091'>
<a class='timestamp' href='#557091'><time timestamp='2017-07-14T10:58:00Z'>10:58</time></a>
&lt;<span class='nick nick-16'> mmgen</span>&gt;
jonasschnelli: but has no signature
<br>
</div>

<div class='talk op-msg' data-timestamp='1500030660' id='557092'>
<a class='timestamp' href='#557092'><time timestamp='2017-07-14T11:11:00Z'>11:11</time></a>
&lt;<span class='nick nick-14'> arubi</span>&gt;
mmgen, you&#x27;re redeeming a p2sh of 0x17 0x160014b7bddbc682c9d41dda1e40c9e5bffcfca385af78
<br>
</div>

<div class='talk op-msg' data-timestamp='1500030720' id='557093'>
<a class='timestamp' href='#557093'><time timestamp='2017-07-14T11:12:00Z'>11:12</time></a>
&lt;<span class='nick nick-14'> arubi</span>&gt;
you want to redeem a p2sh of &quot;0x00 0x14 0xb7bddbc682c9d41dda1e40c9e5bffcfca385af78&quot;  where the length of that script is 0x16
<br>
</div>

<div class='talk op-msg' data-timestamp='1500030960' id='557094'>
<a class='timestamp' href='#557094'><time timestamp='2017-07-14T11:16:00Z'>11:16</time></a>
&lt;<span class='nick nick-16'> mmgen</span>&gt;
arubi: ok
<br>
</div>

<div class='talk op-msg' data-timestamp='1500030960' id='557095'>
<a class='timestamp' href='#557095'><time timestamp='2017-07-14T11:16:00Z'>11:16</time></a>
&lt;<span class='nick nick-16'> mmgen</span>&gt;
arubi: thanks, will check it out
<br>
</div>

<div class='talk op-msg' data-timestamp='1500031020' id='557096'>
<a class='timestamp' href='#557096'><time timestamp='2017-07-14T11:17:00Z'>11:17</time></a>
&lt;<span class='nick nick-14'> arubi</span>&gt;
np mmgen, at least it looks like it.  I don&#x27;t know what you signed
<br>
</div>

<div class='talk op-msg' data-timestamp='1500031080' id='557097'>
<a class='timestamp' href='#557097'><time timestamp='2017-07-14T11:18:00Z'>11:18</time></a>
&lt;<span class='nick nick-16'> mmgen</span>&gt;
arubi: Busy now, I&#x27;ll get back to you in about 30 min
<br>
</div>

<div class='talk op-msg' data-timestamp='1500031200' id='557098'>
<a class='timestamp' href='#557098'><time timestamp='2017-07-14T11:20:00Z'>11:20</time></a>
&lt;<span class='nick nick-14'> arubi</span>&gt;
ok, anyway the hash160 is of 160014B7BDDBC682C9D41DDA1E40C9E5BFFCFCA385AF78 instead of 0014B7BDDBC682C9D41DDA1E40C9E5BFFCFCA385AF78
<br>
</div>

<div class='talk op-msg' data-timestamp='1500031320' id='557099'>
<a class='timestamp' href='#557099'><time timestamp='2017-07-14T11:22:00Z'>11:22</time></a>
&lt;<span class='nick nick-16'> mmgen</span>&gt;
arubi: I just need to remove the leading 0x16 i think
<br>
</div>

<div class='talk op-msg' data-timestamp='1500031380' id='557100'>
<a class='timestamp' href='#557100'><time timestamp='2017-07-14T11:23:00Z'>11:23</time></a>
&lt;<span class='nick nick-16'> mmgen</span>&gt;
thought the 0x16 was needed for data push
<br>
</div>

<div class='talk op-msg' data-timestamp='1500031680' id='557101'>
<a class='timestamp' href='#557101'><time timestamp='2017-07-14T11:28:00Z'>11:28</time></a>
&lt;<span class='nick nick-16'> mmgen</span>&gt;
arubi: I was creating the redeem script like this: &#x27;160014&#x27; + hash160(pubhex)
<br>
</div>

<div class='talk op-msg' data-timestamp='1500031920' id='557102'>
<a class='timestamp' href='#557102'><time timestamp='2017-07-14T11:32:00Z'>11:32</time></a>
&lt;<span class='nick nick-16'> mmgen</span>&gt;
Strange that signrawtransaction didn&#x27;t complain though
<br>
</div>

<div class='talk op-msg' data-timestamp='1500031980' id='557103'>
<a class='timestamp' href='#557103'><time timestamp='2017-07-14T11:33:00Z'>11:33</time></a>
&lt;<span class='nick nick-16'> mmgen</span>&gt;
despite my malformed script
<br>
</div>

<div class='talk op-msg' data-timestamp='1500031980' id='557104'>
<a class='timestamp' href='#557104'><time timestamp='2017-07-14T11:33:00Z'>11:33</time></a>
&lt;<span class='nick nick-14'> arubi</span>&gt;
it&#x27;s just redeeming a p2sh of a single push of what you hash160&#x27;ed
<br>
</div>

<div class='talk op-msg' data-timestamp='1500032040' id='557105'>
<a class='timestamp' href='#557105'><time timestamp='2017-07-14T11:34:00Z'>11:34</time></a>
&lt;<span class='nick nick-14'> arubi</span>&gt;
it&#x27;s not a segwit scriptpubkey, so no sig is needed
<br>
</div>

<div class='talk op-msg' data-timestamp='1500032160' id='557106'>
<a class='timestamp' href='#557106'><time timestamp='2017-07-14T11:36:00Z'>11:36</time></a>
&lt;<span class='nick nick-16'> mmgen</span>&gt;
but without the key it wouldn&#x27;t sign for some reason
<br>
</div>

<div class='talk op-msg' data-timestamp='1500032400' id='557107'>
<a class='timestamp' href='#557107'><time timestamp='2017-07-14T11:40:00Z'>11:40</time></a>
&lt;<span class='nick nick-14'> arubi</span>&gt;
try with a different key :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1500032460' id='557108'>
<a class='timestamp' href='#557108'><time timestamp='2017-07-14T11:41:00Z'>11:41</time></a>
&lt;<span class='nick nick-16'> mmgen</span>&gt;
arubi: will try. Thanks much for your help
<br>
</div>

<div class='talk op-msg' data-timestamp='1500033300' id='557109'>
<a class='timestamp' href='#557109'><time timestamp='2017-07-14T11:55:00Z'>11:55</time></a>
&lt;<span class='nick nick-16'> mmgen</span>&gt;
arubi: so any p2sh script consisting of a single data push is redeemable. OP_EQUAL returns True, the stack is empty, so it&#x27;s valid.
<br>
</div>

<div class='talk op-msg' data-timestamp='1500033300' id='557110'>
<a class='timestamp' href='#557110'><time timestamp='2017-07-14T11:55:00Z'>11:55</time></a>
&lt;<span class='nick nick-16'> mmgen</span>&gt;
arubi: wonder if some sort of sanity check should be added to prevent goofups like this?
<br>
</div>

<div class='talk op-msg' data-timestamp='1500033360' id='557111'>
<a class='timestamp' href='#557111'><time timestamp='2017-07-14T11:56:00Z'>11:56</time></a>
&lt;<span class='nick nick-14'> arubi</span>&gt;
the stack isn&#x27;t empty, it has a final 0x01 on it from the TRUE executing
<br>
</div>

<div class='talk op-msg' data-timestamp='1500033360' id='557112'>
<a class='timestamp' href='#557112'><time timestamp='2017-07-14T11:56:00Z'>11:56</time></a>
&lt;<span class='nick nick-16'> mmgen</span>&gt;
ok, True&#x27;s on the stack, so it&#x27;s valid
<br>
</div>

<div class='talk op-msg' data-timestamp='1500033420' id='557113'>
<a class='timestamp' href='#557113'><time timestamp='2017-07-14T11:57:00Z'>11:57</time></a>
&lt;<span class='nick nick-14'> arubi</span>&gt;
er, from the EQUAL
<br>
</div>

<div class='talk op-msg' data-timestamp='1500033420' id='557114'>
<a class='timestamp' href='#557114'><time timestamp='2017-07-14T11:57:00Z'>11:57</time></a>
&lt;<span class='nick nick-16'> mmgen</span>&gt;
so now if I spend to that address again, anyone who&#x27;s seen the script can steal the coins
<br>
</div>

<div class='talk op-msg' data-timestamp='1500033480' id='557115'>
<a class='timestamp' href='#557115'><time timestamp='2017-07-14T11:58:00Z'>11:58</time></a>
&lt;<span class='nick nick-14'> arubi</span>&gt;
anyway,  we&#x27;re getting off topic here :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1500033480' id='557116'>
<a class='timestamp' href='#557116'><time timestamp='2017-07-14T11:58:00Z'>11:58</time></a>
&lt;<span class='nick nick-14'> arubi</span>&gt;
right
<br>
</div>

<div class='talk op-msg' data-timestamp='1500033540' id='557117'>
<a class='timestamp' href='#557117'><time timestamp='2017-07-14T11:59:00Z'>11:59</time></a>
&lt;<span class='nick nick-16'> mmgen</span>&gt;
so maybe the client should reject p2sh scripts consisting of a single data push then?
<br>
</div>

<div class='talk op-msg' data-timestamp='1500033540' id='557118'>
<a class='timestamp' href='#557118'><time timestamp='2017-07-14T11:59:00Z'>11:59</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] janstary closed pull request #10805: have proper manpages for bitcoin*(1) (master...master) <a href="https://github.com/bitcoin/bitcoin/pull/10805" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10805</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1500033600' id='557119'>
<a class='timestamp' href='#557119'><time timestamp='2017-07-14T12:00:00Z'>12:00</time></a>
&lt;<span class='nick nick-14'> arubi</span>&gt;
reject how?  it can&#x27;t tell what the script is when you fund the address
<br>
</div>

<div class='talk op-msg' data-timestamp='1500033600' id='557120'>
<a class='timestamp' href='#557120'><time timestamp='2017-07-14T12:00:00Z'>12:00</time></a>
&lt;<span class='nick nick-16'> mmgen</span>&gt;
oh, right
<br>
</div>

<div class='talk op-msg' data-timestamp='1500033660' id='557121'>
<a class='timestamp' href='#557121'><time timestamp='2017-07-14T12:01:00Z'>12:01</time></a>
&lt;<span class='nick nick-16'> mmgen</span>&gt;
just when you sign, and by then it&#x27;s too late
<br>
</div>

<div class='talk op-msg' data-timestamp='1500033720' id='557122'>
<a class='timestamp' href='#557122'><time timestamp='2017-07-14T12:02:00Z'>12:02</time></a>
&lt;<span class='nick nick-14'> arubi</span>&gt;
note you&#x27;d still be pushing a single value for redeeming a p2sh(segwit), the segwit spk itself serialized
<br>
</div>

<div class='talk op-msg' data-timestamp='1500033720' id='557123'>
<a class='timestamp' href='#557123'><time timestamp='2017-07-14T12:02:00Z'>12:02</time></a>
&lt;<span class='nick nick-16'> mmgen</span>&gt;
so there&#x27;s no real point in checking at the signing stage
<br>
</div>

<div class='talk op-msg' data-timestamp='1500033840' id='557124'>
<a class='timestamp' href='#557124'><time timestamp='2017-07-14T12:04:00Z'>12:04</time></a>
&lt;<span class='nick nick-16'> mmgen</span>&gt;
arubi: ok
<br>
</div>

<div class='talk op-msg' data-timestamp='1500038520' id='557125'>
<a class='timestamp' href='#557125'><time timestamp='2017-07-14T13:22:00Z'>13:22</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
sipa: I believe I know the problem with #10821. Testing a fix.
<br>
</div>

<div class='talk op-msg' data-timestamp='1500038520' id='557126'>
<a class='timestamp' href='#557126'><time timestamp='2017-07-14T13:22:00Z'>13:22</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/10821" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/10821</a> | Add SSE 4.2 optimized SHA256 by sipa · Pull Request #10821 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1500040020' id='557127'>
<a class='timestamp' href='#557127'><time timestamp='2017-07-14T13:47:00Z'>13:47</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] greenaddress opened pull request #10823: Allow all mempool txs to be replaced after a configurable timeout (default 6h) (master...replace-by-fee-old-transactions) <a href="https://github.com/bitcoin/bitcoin/pull/10823" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10823</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1500040380' id='557128'>
<a class='timestamp' href='#557128'><time timestamp='2017-07-14T13:53:00Z'>13:53</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
sipa: interesting. clang doesn&#x27;t enable -fomit-frame-pointer at any optim level
<br>
</div>

<div class='talk op-msg' data-timestamp='1500040440' id='557129'>
<a class='timestamp' href='#557129'><time timestamp='2017-07-14T13:54:00Z'>13:54</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
adding that in fixes compilation
<br>
</div>

<div class='talk op-msg' data-timestamp='1500040680' id='557130'>
<a class='timestamp' href='#557130'><time timestamp='2017-07-14T13:58:00Z'>13:58</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
doesn&#x27;t it break debugging?
<br>
</div>

<div class='talk op-msg' data-timestamp='1500041100' id='557131'>
<a class='timestamp' href='#557131'><time timestamp='2017-07-14T14:05:00Z'>14:05</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] promag opened pull request #10824: Avoid unnecessary work in SetNetworkActive (master...2017-07-set-network-active) <a href="https://github.com/bitcoin/bitcoin/pull/10824" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10824</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1500041280' id='557132'>
<a class='timestamp' href='#557132'><time timestamp='2017-07-14T14:08:00Z'>14:08</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
luke-jr: it&#x27;s on by default for x86_64
<br>
</div>

<div class='talk op-msg' data-timestamp='1500041280' id='557133'>
<a class='timestamp' href='#557133'><time timestamp='2017-07-14T14:08:00Z'>14:08</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
er, for gcc
<br>
</div>

<div class='talk op-msg' data-timestamp='1500041640' id='557134'>
<a class='timestamp' href='#557134'><time timestamp='2017-07-14T14:14:00Z'>14:14</time></a>
&lt;<span class='nick nick-16'> mmgen</span>&gt;
arubi: now redeem script is correctly formed, signrawtransaction is including the witness data, but txsend fails with 64: non-mandatory-script-verify-flag (Signature must be zero for failed CHECK(MULTI)SIG operation) (code -26)
<br>
</div>

<div class='talk op-msg' data-timestamp='1500041820' id='557135'>
<a class='timestamp' href='#557135'><time timestamp='2017-07-14T14:17:00Z'>14:17</time></a>
&lt;<span class='nick nick-16'> mmgen</span>&gt;
input in question is output 0 of testnet tx dd2117779039b6abd20529c9c9ce67b4c18c0a0223129759ae01deebaa037151
<br>
</div>

<div class='talk op-msg' data-timestamp='1500042000' id='557136'>
<a class='timestamp' href='#557136'><time timestamp='2017-07-14T14:20:00Z'>14:20</time></a>
&lt;<span class='nick nick-16'> mmgen</span>&gt;
wif: cVGLmgcfnq2jvdhNFn9UJQWe6NUCr71GMHePKZC8eXc6fNdJsRuM
<br>
</div>

<div class='talk op-msg' data-timestamp='1500042000' id='557137'>
<a class='timestamp' href='#557137'><time timestamp='2017-07-14T14:20:00Z'>14:20</time></a>
&lt;<span class='nick nick-16'> mmgen</span>&gt;
addr: 2N3wYVH1n51ucjnGR2fjcqb6GPeUmDxQH3h
<br>
</div>

<div class='talk op-msg' data-timestamp='1500042300' id='557138'>
<a class='timestamp' href='#557138'><time timestamp='2017-07-14T14:25:00Z'>14:25</time></a>
&lt;<span class='nick nick-14'> arubi</span>&gt;
mmgen, then your sig is not valid.  it&#x27;s too off topic here. we can move to #bitcoin-dev if you want
<br>
</div>

<div class='talk op-msg' data-timestamp='1500042420' id='557139'>
<a class='timestamp' href='#557139'><time timestamp='2017-07-14T14:27:00Z'>14:27</time></a>
&lt;<span class='nick nick-16'> mmgen</span>&gt;
arubi: agreed, this is offtop, but #bitcoin-dev requires registration doesn&#x27;t it?
<br>
</div>

<div class='talk op-msg' data-timestamp='1500042480' id='557140'>
<a class='timestamp' href='#557140'><time timestamp='2017-07-14T14:28:00Z'>14:28</time></a>
&lt;<span class='nick nick-14'> arubi</span>&gt;
oh I don&#x27;t know..
<br>
</div>

<div class='talk op-msg' data-timestamp='1500042540' id='557141'>
<a class='timestamp' href='#557141'><time timestamp='2017-07-14T14:29:00Z'>14:29</time></a>
&lt;<span class='nick nick-16'> mmgen</span>&gt;
think it does. How do I go about that?
<br>
</div>

<div class='talk op-msg' data-timestamp='1500042600' id='557142'>
<a class='timestamp' href='#557142'><time timestamp='2017-07-14T14:30:00Z'>14:30</time></a>
&lt;<span class='nick nick-14'> arubi</span>&gt;
that&#x27;s something done through nickserv
<br>
</div>

<div class='talk op-msg' data-timestamp='1500042720' id='557143'>
<a class='timestamp' href='#557143'><time timestamp='2017-07-14T14:32:00Z'>14:32</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
it does
<br>
</div>

<div class='talk op-msg' data-timestamp='1500042720' id='557144'>
<a class='timestamp' href='#557144'><time timestamp='2017-07-14T14:32:00Z'>14:32</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
and I have no idea why it does :/ 
<br>
</div>

<div class='talk op-msg' data-timestamp='1500042780' id='557145'>
<a class='timestamp' href='#557145'><time timestamp='2017-07-14T14:33:00Z'>14:33</time></a>
&lt;<span class='nick nick-14'> arubi</span>&gt;
yea it&#x27;s an overkill
<br>
</div>

<div class='talk op-msg' data-timestamp='1500042900' id='557146'>
<a class='timestamp' href='#557146'><time timestamp='2017-07-14T14:35:00Z'>14:35</time></a>
&lt;<span class='nick nick-16'> mmgen</span>&gt;
yet #bitcoin-core-dev doesn&#x27;t
<br>
</div>

<div class='talk op-msg' data-timestamp='1500042900' id='557147'>
<a class='timestamp' href='#557147'><time timestamp='2017-07-14T14:35:00Z'>14:35</time></a>
&lt;<span class='nick nick-16'> mmgen</span>&gt;
I&#x27;m working on registration now
<br>
</div>

<div class='talk op-msg' data-timestamp='1500043140' id='557148'>
<a class='timestamp' href='#557148'><time timestamp='2017-07-14T14:39:00Z'>14:39</time></a>
&lt;<span class='nick nick-16'> mmgen</span>&gt;
sent the request
<br>
</div>

<div class='talk op-msg' data-timestamp='1500043500' id='557149'>
<a class='timestamp' href='#557149'><time timestamp='2017-07-14T14:45:00Z'>14:45</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
promag: Your question before about the buggy output.  That isn&#x27;t buggy as far as I can tell.  What did you not like?  The -1&#x27;s?
<br>
</div>

<div class='talk op-msg' data-timestamp='1500043500' id='557150'>
<a class='timestamp' href='#557150'><time timestamp='2017-07-14T14:45:00Z'>14:45</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
nan     
<br>
</div>

<div class='talk op-msg' data-timestamp='1500043560' id='557151'>
<a class='timestamp' href='#557151'><time timestamp='2017-07-14T14:46:00Z'>14:46</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
oh i think we covered that before and determined it was fine to divide by 0 (it&#x27;s only for outputing text) and in this case there are no txs in the denominator
<br>
</div>

<div class='talk op-msg' data-timestamp='1500043620' id='557152'>
<a class='timestamp' href='#557152'><time timestamp='2017-07-14T14:47:00Z'>14:47</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
for reference the output is: Fee Calculation: Fee:4520 Bytes:226 Tgt:6 (requested 6) Reason:&quot;Fallback fee&quot; Decay 0.00000: Estimation: (-1 - -1) -nan% 0.0/(0.0 0 mem 0.0 out) Fail: (-1 - -1) -nan% 0.0/(0.0 0 mem 0.0 out)
<br>
</div>

<div class='talk op-msg' data-timestamp='1500043680' id='557153'>
<a class='timestamp' href='#557153'><time timestamp='2017-07-14T14:48:00Z'>14:48</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
yeah so that tells me there were no data points in your fee estimation
<br>
</div>

<div class='talk op-msg' data-timestamp='1500043680' id='557154'>
<a class='timestamp' href='#557154'><time timestamp='2017-07-14T14:48:00Z'>14:48</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
right, but in the UI it says: &quot;Warning: Fee estimation is currently not possible&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1500043740' id='557155'>
<a class='timestamp' href='#557155'><time timestamp='2017-07-14T14:49:00Z'>14:49</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
promag: yes exactly..  and the debug log is telling you exactly why it is not possible.  no data points.  it could have also indicated some smaller number of data points, or enough data points but no fee rate high enough that meets the passing threshold for your target
<br>
</div>

<div class='talk op-msg' data-timestamp='1500043800' id='557156'>
<a class='timestamp' href='#557156'><time timestamp='2017-07-14T14:50:00Z'>14:50</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
that debug log output is just for help determining exactly why a particular fee is put on a transaction.
<br>
</div>

<div class='talk op-msg' data-timestamp='1500043860' id='557157'>
<a class='timestamp' href='#557157'><time timestamp='2017-07-14T14:51:00Z'>14:51</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
gmaxwell: speaking of which we&#x27;d recently discussed making the fallback fee higher than 20 sat/b.  I think we discussed 50 or 75.  The thinking at the time is 20 is often not high enough to ever get confirmed.
<br>
</div>

<div class='talk op-msg' data-timestamp='1500043860' id='557158'>
<a class='timestamp' href='#557158'><time timestamp='2017-07-14T14:51:00Z'>14:51</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
But perhaps we were over influenced by a short period of congestion?
<br>
</div>

<div class='talk op-msg' data-timestamp='1500043860' id='557159'>
<a class='timestamp' href='#557159'><time timestamp='2017-07-14T14:51:00Z'>14:51</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
ok then morcos, thanks 
<br>
</div>

<div class='talk op-msg' data-timestamp='1500043860' id='557160'>
<a class='timestamp' href='#557160'><time timestamp='2017-07-14T14:51:00Z'>14:51</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
In any case, I&#x27;d still be ok with 50 or 75 as the default for fallback..  I don&#x27;t think its so unreasonably high that people would complain if they paid that if fee estimation wasn&#x27;t working
<br>
</div>

<div class='talk op-msg' data-timestamp='1500043920' id='557161'>
<a class='timestamp' href='#557161'><time timestamp='2017-07-14T14:52:00Z'>14:52</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
The downside is if fees drop substantially over some period of time, lets say BTC goes up 10x, and then paying 75 sat/B is actually kind of a lot.  I suppose it&#x27;s a no win situation for getting the right number here.
<br>
</div>

<div class='talk op-msg' data-timestamp='1500043980' id='557162'>
<a class='timestamp' href='#557162'><time timestamp='2017-07-14T14:53:00Z'>14:53</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
Maybe the answer is to not touch the default but give advice in release notes about setting that number appropriately?
<br>
</div>

<div class='talk op-msg' data-timestamp='1500045420' id='557163'>
<a class='timestamp' href='#557163'><time timestamp='2017-07-14T15:17:00Z'>15:17</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] fametrano opened pull request #10825: Net set regtest JSON-RPC port to 18443 to avoid conflict with testnet 18332 (master...fametrano-regtestport) <a href="https://github.com/bitcoin/bitcoin/pull/10825" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10825</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1500047520' id='557164'>
<a class='timestamp' href='#557164'><time timestamp='2017-07-14T15:52:00Z'>15:52</time></a>
&lt;<span class='nick nick-10'> To7</span>&gt;
Core dev, time to protect Bitcoin differently. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1500047520' id='557165'>
<a class='timestamp' href='#557165'><time timestamp='2017-07-14T15:52:00Z'>15:52</time></a>
&lt;<span class='nick nick-10'> To7</span>&gt;
I need help spreading the word on this: <a href="https://medium.com/bitcoinfoundation/the-foul-smell-of-federal-cryptocurrency-legislation-bd0a58995b60" class="link" target="_blank">https://medium.com/bitcoinfoundation/the-foul-smell-of-federal-cryptocurrency-legislation-bd0a58995b60</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1500047520' id='557166'>
<a class='timestamp' href='#557166'><time timestamp='2017-07-14T15:52:00Z'>15:52</time></a>
&lt;<span class='nick nick-10'> To7</span>&gt;
Instructions are here: <a href="https://www.reddit.com/r/Bitcoin/comments/6n9lah/anyone_knows_how_to_get_hold_of_the_other_cryptos" class="link" target="_blank">https://www.reddit.com/r/Bitcoin/comments/6n9lah/anyone_knows_how_to_get_hold_of_the_other_cryptos</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1500049440' id='557167'>
<a class='timestamp' href='#557167'><time timestamp='2017-07-14T16:24:00Z'>16:24</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
is there reasoning for sendrawtransaction bypassing free relay limit?
<br>
</div>

<div class='talk op-msg' data-timestamp='1500053640' id='557168'>
<a class='timestamp' href='#557168'><time timestamp='2017-07-14T17:34:00Z'>17:34</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
oh im hallucinating, it doesn&#x27;t
<br>
</div>

<div class='talk op-msg' data-timestamp='1500053820' id='557169'>
<a class='timestamp' href='#557169'><time timestamp='2017-07-14T17:37:00Z'>17:37</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
(anymore)
<br>
</div>

<div class='talk op-msg' data-timestamp='1500053880' id='557170'>
<a class='timestamp' href='#557170'><time timestamp='2017-07-14T17:38:00Z'>17:38</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
cfields: adding -fomit-frame-pointer sounds like it may in general improve performance then...
<br>
</div>

<div class='talk op-msg' data-timestamp='1500053940' id='557171'>
<a class='timestamp' href='#557171'><time timestamp='2017-07-14T17:39:00Z'>17:39</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
sipa: I&#x27;m not sure if clang/ld64 add necessary debug sections, though
<br>
</div>

<div class='talk op-msg' data-timestamp='1500054000' id='557172'>
<a class='timestamp' href='#557172'><time timestamp='2017-07-14T17:40:00Z'>17:40</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] Thecave3 opened pull request #10827: fixed grammar error (master...patch-1) <a href="https://github.com/bitcoin/bitcoin/pull/10827" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10827</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1500054060' id='557173'>
<a class='timestamp' href='#557173'><time timestamp='2017-07-14T17:41:00Z'>17:41</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
who uses listsinceblock?
<br>
</div>

<div class='talk op-msg' data-timestamp='1500054060' id='557174'>
<a class='timestamp' href='#557174'><time timestamp='2017-07-14T17:41:00Z'>17:41</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
anyone?
<br>
</div>

<div class='talk op-msg' data-timestamp='1500054060' id='557175'>
<a class='timestamp' href='#557175'><time timestamp='2017-07-14T17:41:00Z'>17:41</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
sipa: i&#x27;ll experiment
<br>
</div>

<div class='talk op-msg' data-timestamp='1500054120' id='557176'>
<a class='timestamp' href='#557176'><time timestamp='2017-07-14T17:42:00Z'>17:42</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
BlueMatt, there exists users... why
<br>
</div>

<div class='talk op-msg' data-timestamp='1500054120' id='557177'>
<a class='timestamp' href='#557177'><time timestamp='2017-07-14T17:42:00Z'>17:42</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
without looking at the code (just the docs), can folks tell me what they think the &quot;target_confirmations&quot; parameter means in listsinceblock?
<br>
</div>

<div class='talk op-msg' data-timestamp='1500054120' id='557178'>
<a class='timestamp' href='#557178'><time timestamp='2017-07-14T17:42:00Z'>17:42</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
&quot;2. target_confirmations:    (numeric, optional) The confirmations required, must be 1 or more\n&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1500054120' id='557179'>
<a class='timestamp' href='#557179'><time timestamp='2017-07-14T17:42:00Z'>17:42</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/blob/master/src/wallet/rpcwallet.cpp#L1734" class="link" target="_blank">https://github.com/bitcoin/bitcoin/blob/master/src/wallet/rpcwallet.cpp#L1734</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1500054240' id='557180'>
<a class='timestamp' href='#557180'><time timestamp='2017-07-14T17:44:00Z'>17:44</time></a>
&lt;<span class='nick nick-4'> Murch</span>&gt;
Is anyone aware of best case practices regarding path derivation of segwit addresses?
<br>
</div>

<div class='talk op-msg' data-timestamp='1500054240' id='557181'>
<a class='timestamp' href='#557181'><time timestamp='2017-07-14T17:44:00Z'>17:44</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
BlueMatt, <a href="https://github.com/bitcoin/bitcoin/pull/10655" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10655</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1500054240' id='557182'>
<a class='timestamp' href='#557182'><time timestamp='2017-07-14T17:44:00Z'>17:44</time></a>
&lt;<span class='nick nick-4'> Murch</span>&gt;
We currently have two paths for receive and change addresses, and we&#x27;re considering to adding another two paths for segwit receive and change addresses.
<br>
</div>

<div class='talk op-msg' data-timestamp='1500054240' id='557183'>
<a class='timestamp' href='#557183'><time timestamp='2017-07-14T17:44:00Z'>17:44</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
Murch, there are none right now AFAIK. BIP49 I think is the only proposed one for Mycelium or something
<br>
</div>

<div class='talk op-msg' data-timestamp='1500054240' id='557184'>
<a class='timestamp' href='#557184'><time timestamp='2017-07-14T17:44:00Z'>17:44</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
instagibbs: ahh, ok, that still leaves me wondering what in the fuck the purpose of that argument is
<br>
</div>

<div class='talk op-msg' data-timestamp='1500054300' id='557185'>
<a class='timestamp' href='#557185'><time timestamp='2017-07-14T17:45:00Z'>17:45</time></a>
&lt;<span class='nick nick-4'> Murch</span>&gt;
instagibbs: Thanks, I&#x27;ll take a look.
<br>
</div>

<div class='talk op-msg' data-timestamp='1500054300' id='557186'>
<a class='timestamp' href='#557186'><time timestamp='2017-07-14T17:45:00Z'>17:45</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
Murch, I&#x27;d suggest asking various wallet authors, don&#x27;t think there&#x27;s consensus on that at all
<br>
</div>

<div class='talk op-msg' data-timestamp='1500054360' id='557187'>
<a class='timestamp' href='#557187'><time timestamp='2017-07-14T17:46:00Z'>17:46</time></a>
&lt;<span class='nick nick-4'> Murch</span>&gt;
What would be a good way to reach them? Would that perhaps be worth a mail to the bitcoin-dev list?
<br>
</div>

<div class='talk op-msg' data-timestamp='1500054360' id='557188'>
<a class='timestamp' href='#557188'><time timestamp='2017-07-14T17:46:00Z'>17:46</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
instagibbs: care to ack that? I find that astoundingly poor docs, should fix for 15 if possible
<br>
</div>

<div class='talk op-msg' data-timestamp='1500054420' id='557189'>
<a class='timestamp' href='#557189'><time timestamp='2017-07-14T17:47:00Z'>17:47</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
BlueMatt, asking the author, I have actually no clue
<br>
</div>

<div class='talk op-msg' data-timestamp='1500054420' id='557190'>
<a class='timestamp' href='#557190'><time timestamp='2017-07-14T17:47:00Z'>17:47</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
the docs on 10655 make it a bit more clear, ie if you care about when things hit 6 confs, you calling listsinceblock with old blocks each time so that you keep getting reminded of things with 6 confs
<br>
</div>

<div class='talk op-msg' data-timestamp='1500054420' id='557191'>
<a class='timestamp' href='#557191'><time timestamp='2017-07-14T17:47:00Z'>17:47</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
and then you filter for txn with 6 confs yourself
<br>
</div>

<div class='talk op-msg' data-timestamp='1500054480' id='557192'>
<a class='timestamp' href='#557192'><time timestamp='2017-07-14T17:48:00Z'>17:48</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
still seems a super strange api to me, but i can see why it would be useful
<br>
</div>

<div class='talk op-msg' data-timestamp='1500054480' id='557193'>
<a class='timestamp' href='#557193'><time timestamp='2017-07-14T17:48:00Z'>17:48</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
Murch, yeah I think so. Also bug bigger players individually maybe
<br>
</div>

<div class='talk op-msg' data-timestamp='1500054480' id='557194'>
<a class='timestamp' href='#557194'><time timestamp='2017-07-14T17:48:00Z'>17:48</time></a>
&lt;<span class='nick nick-4'> Murch</span>&gt;
instagibbs: Thanks for the consult. ;)
<br>
</div>

<div class='talk op-msg' data-timestamp='1500055440' id='557195'>
<a class='timestamp' href='#557195'><time timestamp='2017-07-14T18:04:00Z'>18:04</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
sipa: heh, not a good sign: Assertion failed: (consensus.hashGenesisBlock == uint256S(&quot;0x000000000933ea01ad0ee984209779baaec3ced90fa3f408719526f8d77f4943&quot;)), 
<br>
</div>

<div class='talk op-msg' data-timestamp='1500055500' id='557196'>
<a class='timestamp' href='#557196'><time timestamp='2017-07-14T18:05:00Z'>18:05</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
makes for a good backtrace example, though: <a href="https://pastebin.com/raw/kA3bavgA" class="link" target="_blank">https://pastebin.com/raw/kA3bavgA</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1500055500' id='557197'>
<a class='timestamp' href='#557197'><time timestamp='2017-07-14T18:05:00Z'>18:05</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
cfields: bah, i could make it manually save and restore the frame.pointer during the duration of the asm blocm
<br>
</div>

<div class='talk op-msg' data-timestamp='1500055500' id='557198'>
<a class='timestamp' href='#557198'><time timestamp='2017-07-14T18:05:00Z'>18:05</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
sipa: that&#x27;s with 10821 and -fomit-frame-pointer
<br>
</div>

<div class='talk op-msg' data-timestamp='1500055560' id='557199'>
<a class='timestamp' href='#557199'><time timestamp='2017-07-14T18:06:00Z'>18:06</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
no clue if that&#x27;s the cause of the failure, or something else busted
<br>
</div>

<div class='talk op-msg' data-timestamp='1500058500' id='557200'>
<a class='timestamp' href='#557200'><time timestamp='2017-07-14T18:55:00Z'>18:55</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] sipa pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/db825d293be8...66270a416edb" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/db825d293be8...66270a416edb</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1500058500' id='557201'>
<a class='timestamp' href='#557201'><time timestamp='2017-07-14T18:55:00Z'>18:55</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 18bacec Alex Morcos: Make check to distinguish between orphan txs and old txs more efficient....
<br>
</div>

<div class='talk op-msg' data-timestamp='1500058500' id='557202'>
<a class='timestamp' href='#557202'><time timestamp='2017-07-14T18:55:00Z'>18:55</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 66270a4 Pieter Wuille: Merge #10557: Make check to distinguish between orphan txs and old txs more efficient....
<br>
</div>

<div class='talk op-msg' data-timestamp='1500058500' id='557203'>
<a class='timestamp' href='#557203'><time timestamp='2017-07-14T18:55:00Z'>18:55</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] sipa closed pull request #10557: Make check to distinguish between orphan txs and old txs more efficient. (master...dontcheckoutputs) <a href="https://github.com/bitcoin/bitcoin/pull/10557" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10557</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1500059100' id='557204'>
<a class='timestamp' href='#557204'><time timestamp='2017-07-14T19:05:00Z'>19:05</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] Thecave3 closed pull request #10827: fixed grammar error (master...patch-1) <a href="https://github.com/bitcoin/bitcoin/pull/10827" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10827</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1500060000' id='557205'>
<a class='timestamp' href='#557205'><time timestamp='2017-07-14T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
hmm.. we should add bench to the gitian build/exported binaries
<br>
</div>

<div class='talk op-msg' data-timestamp='1500060840' id='557206'>
<a class='timestamp' href='#557206'><time timestamp='2017-07-14T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
cfields: could you send me a disassembled version of that function?
<br>
</div>

<div class='talk op-msg' data-timestamp='1500062100' id='557207'>
<a class='timestamp' href='#557207'><time timestamp='2017-07-14T19:55:00Z'>19:55</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
sipa: sure, give me just a few min
<br>
</div>

<div class='talk op-msg' data-timestamp='1500062100' id='557208'>
<a class='timestamp' href='#557208'><time timestamp='2017-07-14T19:55:00Z'>19:55</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
i managed to get it working when built from yasm
<br>
</div>

<div class='talk op-msg' data-timestamp='1500062340' id='557209'>
<a class='timestamp' href='#557209'><time timestamp='2017-07-14T19:59:00Z'>19:59</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] ryanofsky opened pull request #10829: Simple, backwards compatible RPC multiwallet support. (master...pr/multiparam) <a href="https://github.com/bitcoin/bitcoin/pull/10829" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10829</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1500062400' id='557210'>
<a class='timestamp' href='#557210'><time timestamp='2017-07-14T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
cfields: the code here was an attempt to actually translate it to extended asm, where the compiler still manages the stack and register allocation
<br>
</div>

<div class='talk op-msg' data-timestamp='1500062460' id='557211'>
<a class='timestamp' href='#557211'><time timestamp='2017-07-14T20:01:00Z'>20:01</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
cfields: i can go for the more straightforward way of just making it produce literally the same bytecode as yasm, where the asm is responsible for saving/restoring registers etc
<br>
</div>

<div class='talk op-msg' data-timestamp='1500062460' id='557212'>
<a class='timestamp' href='#557212'><time timestamp='2017-07-14T20:01:00Z'>20:01</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
sipa: understood, i just wanted to get a working asm dump to compare to
<br>
</div>

<div class='talk op-msg' data-timestamp='1500062700' id='557213'>
<a class='timestamp' href='#557213'><time timestamp='2017-07-14T20:05:00Z'>20:05</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
heh, no clue what all this padding is about
<br>
</div>

<div class='talk op-msg' data-timestamp='1500062820' id='557214'>
<a class='timestamp' href='#557214'><time timestamp='2017-07-14T20:07:00Z'>20:07</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
sipa: <a href="https://pastebin.com/raw/G4nHr9F5" class="link" target="_blank">https://pastebin.com/raw/G4nHr9F5</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1500062880' id='557215'>
<a class='timestamp' href='#557215'><time timestamp='2017-07-14T20:08:00Z'>20:08</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
i snipped the padding
<br>
</div>

<div class='talk op-msg' data-timestamp='1500063000' id='557216'>
<a class='timestamp' href='#557216'><time timestamp='2017-07-14T20:10:00Z'>20:10</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
for comparison, yasm&#x27;s output: <a href="https://pastebin.com/raw/Sk3BfXyW" class="link" target="_blank">https://pastebin.com/raw/Sk3BfXyW</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1500063060' id='557217'>
<a class='timestamp' href='#557217'><time timestamp='2017-07-14T20:11:00Z'>20:11</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
note that I had to -DLINUX with yasm, otherwise I&#x27;d get the same crash
<br>
</div>

<div class='talk op-msg' data-timestamp='1500063120' id='557218'>
<a class='timestamp' href='#557218'><time timestamp='2017-07-14T20:12:00Z'>20:12</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
sipa: can you mark 10807 as 0.15 (or merge it) since easy bugfix
<br>
</div>

<div class='talk op-msg' data-timestamp='1500064200' id='557219'>
<a class='timestamp' href='#557219'><time timestamp='2017-07-14T20:30:00Z'>20:30</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jnewbery opened pull request #10830: [WIP] [wallet] keypool restore (master...pr10240) <a href="https://github.com/bitcoin/bitcoin/pull/10830" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10830</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1500064320' id='557220'>
<a class='timestamp' href='#557220'><time timestamp='2017-07-14T20:32:00Z'>20:32</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
#10830 is #10240 rebased on master. Please mark it as high priority &amp; 0.15
<br>
</div>

<div class='talk op-msg' data-timestamp='1500064320' id='557221'>
<a class='timestamp' href='#557221'><time timestamp='2017-07-14T20:32:00Z'>20:32</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/10830" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/10830</a> | [WIP] [wallet] keypool restore by jnewbery · Pull Request #10830 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1500064320' id='557222'>
<a class='timestamp' href='#557222'><time timestamp='2017-07-14T20:32:00Z'>20:32</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/10240" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/10240</a> | Add HD wallet auto-restore functionality by jonasschnelli · Pull Request #10240 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1500064320' id='557223'>
<a class='timestamp' href='#557223'><time timestamp='2017-07-14T20:32:00Z'>20:32</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
sipa: may also be helpful to know that the resulting hash is: 19cde05babd9831f8c68059b7f520e513af54fa572f36e3c85ae67bb67e6096a
<br>
</div>

<div class='talk op-msg' data-timestamp='1500064320' id='557224'>
<a class='timestamp' href='#557224'><time timestamp='2017-07-14T20:32:00Z'>20:32</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
(initial sha2 state)
<br>
</div>

<div class='talk op-msg' data-timestamp='1500067380' id='557225'>
<a class='timestamp' href='#557225'><time timestamp='2017-07-14T21:23:00Z'>21:23</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jonasschnelli closed pull request #10240: Add HD wallet auto-restore functionality (master...2017/04/hd_rescan) <a href="https://github.com/bitcoin/bitcoin/pull/10240" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10240</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1500069240' id='557226'>
<a class='timestamp' href='#557226'><time timestamp='2017-07-14T21:54:00Z'>21:54</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] sipa pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/66270a416edb...b7d6623c76e1" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/66270a416edb...b7d6623c76e1</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1500069240' id='557227'>
<a class='timestamp' href='#557227'><time timestamp='2017-07-14T21:54:00Z'>21:54</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 4652791 João Barbosa: Fix uninitialized atomic variables
<br>
</div>

<div class='talk op-msg' data-timestamp='1500069240' id='557228'>
<a class='timestamp' href='#557228'><time timestamp='2017-07-14T21:54:00Z'>21:54</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master b7d6623 Pieter Wuille: Merge #10819: Fix uninitialized atomic variables...
<br>
</div>

<div class='talk op-msg' data-timestamp='1500069300' id='557229'>
<a class='timestamp' href='#557229'><time timestamp='2017-07-14T21:55:00Z'>21:55</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] sipa closed pull request #10819: Fix uninitialized atomic variables (master...2017-07-fix-unitialized-atomic) <a href="https://github.com/bitcoin/bitcoin/pull/10819" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10819</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1500069300' id='557230'>
<a class='timestamp' href='#557230'><time timestamp='2017-07-14T21:55:00Z'>21:55</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
cfields: i can make the code use one less register
<br>
</div>

<div class='talk op-msg' data-timestamp='1500069300' id='557231'>
<a class='timestamp' href='#557231'><time timestamp='2017-07-14T21:55:00Z'>21:55</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
sipa: i&#x27;ve been trying to figure it out :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1500069360' id='557232'>
<a class='timestamp' href='#557232'><time timestamp='2017-07-14T21:56:00Z'>21:56</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
sipa: i think you can shortcut the end address calculation?
<br>
</div>

<div class='talk op-msg' data-timestamp='1500069360' id='557233'>
<a class='timestamp' href='#557233'><time timestamp='2017-07-14T21:56:00Z'>21:56</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
cfields: if you look at the yasm source, NUM_BLOCKS and e use the same register
<br>
</div>

<div class='talk op-msg' data-timestamp='1500069360' id='557234'>
<a class='timestamp' href='#557234'><time timestamp='2017-07-14T21:56:00Z'>21:56</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
one uses it in 32-bit mode (edx) and one in 64-bit mode (rdx)
<br>
</div>

<div class='talk op-msg' data-timestamp='1500069360' id='557235'>
<a class='timestamp' href='#557235'><time timestamp='2017-07-14T21:56:00Z'>21:56</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
which my search/replacing treated as two different things
<br>
</div>

<div class='talk op-msg' data-timestamp='1500069420' id='557236'>
<a class='timestamp' href='#557236'><time timestamp='2017-07-14T21:57:00Z'>21:57</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
ah     
<br>
</div>

<div class='talk op-msg' data-timestamp='1500069780' id='557237'>
<a class='timestamp' href='#557237'><time timestamp='2017-07-14T22:03:00Z'>22:03</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
ok i see, that makes sense. That&#x27;s the one I was trying to save as well. But so far I&#x27;d just managed to piss off the assembler in a bunch of different ways.
<br>
</div>

<div class='talk op-msg' data-timestamp='1500069780' id='557238'>
<a class='timestamp' href='#557238'><time timestamp='2017-07-14T22:03:00Z'>22:03</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
cfields: so s/%7/%k2/
<br>
</div>

<div class='talk op-msg' data-timestamp='1500069840' id='557239'>
<a class='timestamp' href='#557239'><time timestamp='2017-07-14T22:04:00Z'>22:04</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
%k2 means &quot;the same as %2, but in 32-bit mode&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1500069840' id='557240'>
<a class='timestamp' href='#557240'><time timestamp='2017-07-14T22:04:00Z'>22:04</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and then more shuffling to get rid of the e variable...
<br>
</div>

<div class='talk op-msg' data-timestamp='1500069900' id='557241'>
<a class='timestamp' href='#557241'><time timestamp='2017-07-14T22:05:00Z'>22:05</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
roger
<br>
</div>

<div class='talk op-msg' data-timestamp='1500070020' id='557242'>
<a class='timestamp' href='#557242'><time timestamp='2017-07-14T22:07:00Z'>22:07</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
sipa: i&#x27;m confused as to why inp_end can&#x27;t be pre-calculated and passed as an input, skipping %2 altogether?
<br>
</div>

<div class='talk op-msg' data-timestamp='1500070080' id='557243'>
<a class='timestamp' href='#557243'><time timestamp='2017-07-14T22:08:00Z'>22:08</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
cfields: we could move that out to the C code, yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1500070140' id='557244'>
<a class='timestamp' href='#557244'><time timestamp='2017-07-14T22:09:00Z'>22:09</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
the asm code really uses a begin_ptr and end_ptr
<br>
</div>

<div class='talk op-msg' data-timestamp='1500070140' id='557245'>
<a class='timestamp' href='#557245'><time timestamp='2017-07-14T22:09:00Z'>22:09</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and the first 3 instructions convert the (begin_ptr, num_blocks) to that
<br>
</div>

<div class='talk op-msg' data-timestamp='1500070200' id='557246'>
<a class='timestamp' href='#557246'><time timestamp='2017-07-14T22:10:00Z'>22:10</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
sipa: right ok, thanks. no need to do that rather than your approach ofc, but it helps to know that would&#x27;ve worked
<br>
</div>

<div class='talk op-msg' data-timestamp='1500070260' id='557247'>
<a class='timestamp' href='#557247'><time timestamp='2017-07-14T22:11:00Z'>22:11</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sipa was in the process of changing everything to use explicit registers and then he was going to manually save bp on the stack so he could use it and restore it at the end.
<br>
</div>

<div class='talk op-msg' data-timestamp='1500070320' id='557248'>
<a class='timestamp' href='#557248'><time timestamp='2017-07-14T22:12:00Z'>22:12</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
this approach now should be faster
<br>
</div>

<div class='talk op-msg' data-timestamp='1500070320' id='557249'>
<a class='timestamp' href='#557249'><time timestamp='2017-07-14T22:12:00Z'>22:12</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
as it only saves/restores exactly what is needed
<br>
</div>

<div class='talk op-msg' data-timestamp='1500070440' id='557250'>
<a class='timestamp' href='#557250'><time timestamp='2017-07-14T22:14:00Z'>22:14</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
testing now
<br>
</div>

<div class='talk op-msg' data-timestamp='1500070680' id='557251'>
<a class='timestamp' href='#557251'><time timestamp='2017-07-14T22:18:00Z'>22:18</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
cfields: thanks!
<br>
</div>

<div class='talk op-msg' data-timestamp='1500070800' id='557252'>
<a class='timestamp' href='#557252'><time timestamp='2017-07-14T22:20:00Z'>22:20</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
sipa: builds now, but still produces a busted hash :(
<br>
</div>

<div class='talk op-msg' data-timestamp='1500070860' id='557253'>
<a class='timestamp' href='#557253'><time timestamp='2017-07-14T22:21:00Z'>22:21</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
:&#x27;(     
<br>
</div>

<div class='talk op-msg' data-timestamp='1500070860' id='557254'>
<a class='timestamp' href='#557254'><time timestamp='2017-07-14T22:21:00Z'>22:21</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
cfields: with or without -fomit-frame-pointer ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1500070860' id='557255'>
<a class='timestamp' href='#557255'><time timestamp='2017-07-14T22:21:00Z'>22:21</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
without now
<br>
</div>

<div class='talk op-msg' data-timestamp='1500070920' id='557256'>
<a class='timestamp' href='#557256'><time timestamp='2017-07-14T22:22:00Z'>22:22</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
i&#x27;ll try without the stack protector
<br>
</div>

<div class='talk op-msg' data-timestamp='1500070980' id='557257'>
<a class='timestamp' href='#557257'><time timestamp='2017-07-14T22:23:00Z'>22:23</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
same thing
<br>
</div>

<div class='talk op-msg' data-timestamp='1500070980' id='557258'>
<a class='timestamp' href='#557258'><time timestamp='2017-07-14T22:23:00Z'>22:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
cfields: i can try force assigning variables to registers, to make the code comparable to the yasm code?
<br>
</div>

<div class='talk op-msg' data-timestamp='1500070980' id='557259'>
<a class='timestamp' href='#557259'><time timestamp='2017-07-14T22:23:00Z'>22:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
to make sure the same assignment is used
<br>
</div>

<div class='talk op-msg' data-timestamp='1500071040' id='557260'>
<a class='timestamp' href='#557260'><time timestamp='2017-07-14T22:24:00Z'>22:24</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
sure
<br>
</div>

<div class='talk op-msg' data-timestamp='1500071040' id='557261'>
<a class='timestamp' href='#557261'><time timestamp='2017-07-14T22:24:00Z'>22:24</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
sipa: from what i can see, the input is no longer necessarily 32bit aligned
<br>
</div>

<div class='talk op-msg' data-timestamp='1500071100' id='557262'>
<a class='timestamp' href='#557262'><time timestamp='2017-07-14T22:25:00Z'>22:25</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
is that a possible issue?
<br>
</div>

<div class='talk op-msg' data-timestamp='1500071100' id='557263'>
<a class='timestamp' href='#557263'><time timestamp='2017-07-14T22:25:00Z'>22:25</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
cfields: oh!
<br>
</div>

<div class='talk op-msg' data-timestamp='1500071100' id='557264'>
<a class='timestamp' href='#557264'><time timestamp='2017-07-14T22:25:00Z'>22:25</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
how do you mean?
<br>
</div>

<div class='talk op-msg' data-timestamp='1500071100' id='557265'>
<a class='timestamp' href='#557265'><time timestamp='2017-07-14T22:25:00Z'>22:25</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
let me double-check, i might&#x27;ve reversed something in testing
<br>
</div>

<div class='talk op-msg' data-timestamp='1500071340' id='557266'>
<a class='timestamp' href='#557266'><time timestamp='2017-07-14T22:29:00Z'>22:29</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
sipa: yea, the ReadBE32 on the chunk guaranteed alignment before, without that, is something else handling it?
<br>
</div>

<div class='talk op-msg' data-timestamp='1500071400' id='557267'>
<a class='timestamp' href='#557267'><time timestamp='2017-07-14T22:30:00Z'>22:30</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
cfields: the asm code can deal with unaligned input data
<br>
</div>

<div class='talk op-msg' data-timestamp='1500071460' id='557268'>
<a class='timestamp' href='#557268'><time timestamp='2017-07-14T22:31:00Z'>22:31</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
ok     
<br>
</div>

<div class='talk op-msg' data-timestamp='1500071520' id='557269'>
<a class='timestamp' href='#557269'><time timestamp='2017-07-14T22:32:00Z'>22:32</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
cfields: i think that the xfer array may need stronger alignment than the compiler is giving it
<br>
</div>

<div class='talk op-msg' data-timestamp='1500071820' id='557270'>
<a class='timestamp' href='#557270'><time timestamp='2017-07-14T22:37:00Z'>22:37</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
cfields: care to try again?
<br>
</div>

<div class='talk op-msg' data-timestamp='1500071880' id='557271'>
<a class='timestamp' href='#557271'><time timestamp='2017-07-14T22:38:00Z'>22:38</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
sure, i&#x27;ll take a break from fighting this thing.
<br>
</div>

<div class='talk op-msg' data-timestamp='1500072000' id='557272'>
<a class='timestamp' href='#557272'><time timestamp='2017-07-14T22:40:00Z'>22:40</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
heh, i was trying the same thing, but i pissed it off trying to make it 32bit aligned
<br>
</div>

<div class='talk op-msg' data-timestamp='1500072000' id='557273'>
<a class='timestamp' href='#557273'><time timestamp='2017-07-14T22:40:00Z'>22:40</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
no go :(
<br>
</div>

<div class='talk op-msg' data-timestamp='1500072060' id='557274'>
<a class='timestamp' href='#557274'><time timestamp='2017-07-14T22:41:00Z'>22:41</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
same error?
<br>
</div>

<div class='talk op-msg' data-timestamp='1500072060' id='557275'>
<a class='timestamp' href='#557275'><time timestamp='2017-07-14T22:41:00Z'>22:41</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
yea. you just added the attribute, right?
<br>
</div>

<div class='talk op-msg' data-timestamp='1500072060' id='557276'>
<a class='timestamp' href='#557276'><time timestamp='2017-07-14T22:41:00Z'>22:41</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yes     
<br>
</div>

<div class='talk op-msg' data-timestamp='1500072120' id='557277'>
<a class='timestamp' href='#557277'><time timestamp='2017-07-14T22:42:00Z'>22:42</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
btw, that can be alignas(16) with c++11
<br>
</div>

<div class='talk op-msg' data-timestamp='1500072300' id='557278'>
<a class='timestamp' href='#557278'><time timestamp='2017-07-14T22:45:00Z'>22:45</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
generated asm now: <a href="https://pastebin.com/raw/SRe0gzUf" class="link" target="_blank">https://pastebin.com/raw/SRe0gzUf</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1500072360' id='557279'>
<a class='timestamp' href='#557279'><time timestamp='2017-07-14T22:46:00Z'>22:46</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
any clue what the huge chunk of padding is?
<br>
</div>

<div class='talk op-msg' data-timestamp='1500072420' id='557280'>
<a class='timestamp' href='#557280'><time timestamp='2017-07-14T22:47:00Z'>22:47</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
the nopws?
<br>
</div>

<div class='talk op-msg' data-timestamp='1500072420' id='557281'>
<a class='timestamp' href='#557281'><time timestamp='2017-07-14T22:47:00Z'>22:47</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
cfields: can you try changing the movdqa instructions to movdqu ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1500072420' id='557282'>
<a class='timestamp' href='#557282'><time timestamp='2017-07-14T22:47:00Z'>22:47</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
(a = aligned, u = unaligned)
<br>
</div>

<div class='talk op-msg' data-timestamp='1500072480' id='557283'>
<a class='timestamp' href='#557283'><time timestamp='2017-07-14T22:48:00Z'>22:48</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
yea, 0x91 through 0x10000
<br>
</div>

<div class='talk op-msg' data-timestamp='1500072480' id='557284'>
<a class='timestamp' href='#557284'><time timestamp='2017-07-14T22:48:00Z'>22:48</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
ok     
<br>
</div>

<div class='talk op-msg' data-timestamp='1500072600' id='557285'>
<a class='timestamp' href='#557285'><time timestamp='2017-07-14T22:50:00Z'>22:50</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
nope :(
<br>
</div>

<div class='talk op-msg' data-timestamp='1500072600' id='557286'>
<a class='timestamp' href='#557286'><time timestamp='2017-07-14T22:50:00Z'>22:50</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
cfields: my guess is that to the OSX assembler &quot;.align 16&quot; means &quot;align to a 2^16-byte boundary&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1500072600' id='557287'>
<a class='timestamp' href='#557287'><time timestamp='2017-07-14T22:50:00Z'>22:50</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
instead of &quot;align to 16-byte boundary&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1500072600' id='557288'>
<a class='timestamp' href='#557288'><time timestamp='2017-07-14T22:50:00Z'>22:50</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
ah     
<br>
</div>

<div class='talk op-msg' data-timestamp='1500072840' id='557289'>
<a class='timestamp' href='#557289'><time timestamp='2017-07-14T22:54:00Z'>22:54</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
cfields: pushed again, try again pretty please?
<br>
</div>

<div class='talk op-msg' data-timestamp='1500072840' id='557290'>
<a class='timestamp' href='#557290'><time timestamp='2017-07-14T22:54:00Z'>22:54</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
heh, sure
<br>
</div>

<div class='talk op-msg' data-timestamp='1500072840' id='557291'>
<a class='timestamp' href='#557291'><time timestamp='2017-07-14T22:54:00Z'>22:54</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
added some more alignas&#x27;es
<br>
</div>

<div class='talk op-msg' data-timestamp='1500072840' id='557292'>
<a class='timestamp' href='#557292'><time timestamp='2017-07-14T22:54:00Z'>22:54</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i think there are instructions beyond movdqa that require aligned input
<br>
</div>

<div class='talk op-msg' data-timestamp='1500073020' id='557293'>
<a class='timestamp' href='#557293'><time timestamp='2017-07-14T22:57:00Z'>22:57</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
still no go
<br>
</div>

<div class='talk op-msg' data-timestamp='1500073020' id='557294'>
<a class='timestamp' href='#557294'><time timestamp='2017-07-14T22:57:00Z'>22:57</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
you saw me mention that the result is always the sha2 init values, right?
<br>
</div>

<div class='talk op-msg' data-timestamp='1500073080' id='557295'>
<a class='timestamp' href='#557295'><time timestamp='2017-07-14T22:58:00Z'>22:58</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
oh, no
<br>
</div>

<div class='talk op-msg' data-timestamp='1500073080' id='557296'>
<a class='timestamp' href='#557296'><time timestamp='2017-07-14T22:58:00Z'>22:58</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
hash is &quot;19cde05babd9831f8c68059b7f520e513af54fa572f36e3c85ae67bb67e6096a&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1500073380' id='557297'>
<a class='timestamp' href='#557297'><time timestamp='2017-07-14T23:03:00Z'>23:03</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
cfields: you&#x27;re aware the yasm function takes its parameters in a different order?
<br>
</div>

<div class='talk op-msg' data-timestamp='1500073380' id='557298'>
<a class='timestamp' href='#557298'><time timestamp='2017-07-14T23:03:00Z'>23:03</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
yes, i had to reverse them to make it work
<br>
</div>

<div class='talk op-msg' data-timestamp='1500073500' id='557299'>
<a class='timestamp' href='#557299'><time timestamp='2017-07-14T23:05:00Z'>23:05</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
grrr
<br>
</div>

<div class='talk op-msg' data-timestamp='1500073500' id='557300'>
<a class='timestamp' href='#557300'><time timestamp='2017-07-14T23:05:00Z'>23:05</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i really don&#x27;t see how the state can be untouched with your disasm code... unless blocks=0
<br>
</div>

<div class='talk op-msg' data-timestamp='1500074100' id='557301'>
<a class='timestamp' href='#557301'><time timestamp='2017-07-14T23:15:00Z'>23:15</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
i&#x27;m stumped too. It gets in there sometimes with blocks=0, but even if I early-return, same result
<br>
</div>

<div class='talk op-msg' data-timestamp='1500074100' id='557302'>
<a class='timestamp' href='#557302'><time timestamp='2017-07-14T23:15:00Z'>23:15</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
can you give a latest disasm?
<br>
</div>

<div class='talk op-msg' data-timestamp='1500074160' id='557303'>
<a class='timestamp' href='#557303'><time timestamp='2017-07-14T23:16:00Z'>23:16</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
can you step through it with a debugger, to see if it&#x27;s actually doing anything?
<br>
</div>

<div class='talk op-msg' data-timestamp='1500074160' id='557304'>
<a class='timestamp' href='#557304'><time timestamp='2017-07-14T23:16:00Z'>23:16</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
(stepi in gdb will execute 1 instruction)
<br>
</div>

<div class='talk op-msg' data-timestamp='1500074160' id='557305'>
<a class='timestamp' href='#557305'><time timestamp='2017-07-14T23:16:00Z'>23:16</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
i&#x27;ve tried to get in with no luck
<br>
</div>

<div class='talk op-msg' data-timestamp='1500074160' id='557306'>
<a class='timestamp' href='#557306'><time timestamp='2017-07-14T23:16:00Z'>23:16</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
i can try again
<br>
</div>

<div class='talk op-msg' data-timestamp='1500074220' id='557307'>
<a class='timestamp' href='#557307'><time timestamp='2017-07-14T23:17:00Z'>23:17</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
(it&#x27;s lldb, and i&#x27;m not at all familiar with it)
<br>
</div>

<div class='talk op-msg' data-timestamp='1500074580' id='557308'>
<a class='timestamp' href='#557308'><time timestamp='2017-07-14T23:23:00Z'>23:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
cfields: just some thing i&#x27;m noticing from the latest disasm you posted: the stack pointer isn&#x27;t being updated, but is addressed with negative offsets (which is legal, but different from other platforms)
<br>
</div>

<div class='talk op-msg' data-timestamp='1500074640' id='557309'>
<a class='timestamp' href='#557309'><time timestamp='2017-07-14T23:24:00Z'>23:24</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it also saves and restores the frame pointer, but does not actually use it
<br>
</div>

<div class='talk op-msg' data-timestamp='1500074700' id='557310'>
<a class='timestamp' href='#557310'><time timestamp='2017-07-14T23:25:00Z'>23:25</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
sipa: i noticed the negative offsets too. how can that be the case?
<br>
</div>

<div class='talk op-msg' data-timestamp='1500074700' id='557311'>
<a class='timestamp' href='#557311'><time timestamp='2017-07-14T23:25:00Z'>23:25</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
cfields: it&#x27;s legal to use some stack space below the stack pointer (google for red zone)
<br>
</div>

<div class='talk op-msg' data-timestamp='1500074760' id='557312'>
<a class='timestamp' href='#557312'><time timestamp='2017-07-14T23:26:00Z'>23:26</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
if you want to set a breakpoint, set it to the loop2 label
<br>
</div>

<div class='talk op-msg' data-timestamp='1500074760' id='557313'>
<a class='timestamp' href='#557313'><time timestamp='2017-07-14T23:26:00Z'>23:26</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
interesting
<br>
</div>

<div class='talk op-msg' data-timestamp='1500074760' id='557314'>
<a class='timestamp' href='#557314'><time timestamp='2017-07-14T23:26:00Z'>23:26</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
if loop2 is reached, it should always update the context
<br>
</div>

<div class='talk op-msg' data-timestamp='1500074760' id='557315'>
<a class='timestamp' href='#557315'><time timestamp='2017-07-14T23:26:00Z'>23:26</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
that&#x27;s a rabbit hole for a different day though :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1500074760' id='557316'>
<a class='timestamp' href='#557316'><time timestamp='2017-07-14T23:26:00Z'>23:26</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
(the updating happens in the addq/movq sequence right before done_loop)
<br>
</div>

<div class='talk op-msg' data-timestamp='1500074820' id='557317'>
<a class='timestamp' href='#557317'><time timestamp='2017-07-14T23:27:00Z'>23:27</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
eh, addl/movl
<br>
</div>

<div class='talk op-msg' data-timestamp='1500074820' id='557318'>
<a class='timestamp' href='#557318'><time timestamp='2017-07-14T23:27:00Z'>23:27</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
can you just post a latest disasm? :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1500074820' id='557319'>
<a class='timestamp' href='#557319'><time timestamp='2017-07-14T23:27:00Z'>23:27</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
haha, 1 sec
<br>
</div>

<div class='talk op-msg' data-timestamp='1500075300' id='557320'>
<a class='timestamp' href='#557320'><time timestamp='2017-07-14T23:35:00Z'>23:35</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
sipa: <a href="https://pastebin.com/raw/rqNABs3S" class="link" target="_blank">https://pastebin.com/raw/rqNABs3S</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1500075360' id='557321'>
<a class='timestamp' href='#557321'><time timestamp='2017-07-14T23:36:00Z'>23:36</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
uh, I switched to -O0 for better debugging, let me know if you want an -O2 to match the others
<br>
</div>

<div class='talk op-msg' data-timestamp='1500075360' id='557322'>
<a class='timestamp' href='#557322'><time timestamp='2017-07-14T23:36:00Z'>23:36</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
i assume it doesn&#x27;t matter much here
<br>
</div>

<div class='talk op-msg' data-timestamp='1500075360' id='557323'>
<a class='timestamp' href='#557323'><time timestamp='2017-07-14T23:36:00Z'>23:36</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
i was just trying to get it un-inlined
<br>
</div>

<div class='talk op-msg' data-timestamp='1500075420' id='557324'>
<a class='timestamp' href='#557324'><time timestamp='2017-07-14T23:37:00Z'>23:37</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
(it wasn&#x27;t anyway. oops)
<br>
</div>

<div class='talk op-msg' data-timestamp='1500075480' id='557325'>
<a class='timestamp' href='#557325'><time timestamp='2017-07-14T23:38:00Z'>23:38</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
cfields: my latest code just doesn&#x27;t compile with clang 4.0 
<br>
</div>

<div class='talk op-msg' data-timestamp='1500075480' id='557326'>
<a class='timestamp' href='#557326'><time timestamp='2017-07-14T23:38:00Z'>23:38</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
are you sure you&#x27;re testing the right thing?
<br>
</div>

<div class='talk op-msg' data-timestamp='1500075480' id='557327'>
<a class='timestamp' href='#557327'><time timestamp='2017-07-14T23:38:00Z'>23:38</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
i moved the alignas&#x27;s around
<br>
</div>

<div class='talk op-msg' data-timestamp='1500075480' id='557328'>
<a class='timestamp' href='#557328'><time timestamp='2017-07-14T23:38:00Z'>23:38</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
if that&#x27;s what you mean
<br>
</div>

<div class='talk op-msg' data-timestamp='1500075480' id='557329'>
<a class='timestamp' href='#557329'><time timestamp='2017-07-14T23:38:00Z'>23:38</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ok     
<br>
</div>

<div class='talk op-msg' data-timestamp='1500075480' id='557330'>
<a class='timestamp' href='#557330'><time timestamp='2017-07-14T23:38:00Z'>23:38</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yes     
<br>
</div>

<div class='talk op-msg' data-timestamp='1500075540' id='557331'>
<a class='timestamp' href='#557331'><time timestamp='2017-07-14T23:39:00Z'>23:39</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
trying to reproduce on linux
<br>
</div>

<div class='talk op-msg' data-timestamp='1500075540' id='557332'>
<a class='timestamp' href='#557332'><time timestamp='2017-07-14T23:39:00Z'>23:39</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
i tried dumping the dispatcher and hard-coding the call instead
<br>
</div>

<div class='talk op-msg' data-timestamp='1500075540' id='557333'>
<a class='timestamp' href='#557333'><time timestamp='2017-07-14T23:39:00Z'>23:39</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
thought there might be some static init race. no help though.
<br>
</div>

<div class='talk op-msg' data-timestamp='1500075600' id='557334'>
<a class='timestamp' href='#557334'><time timestamp='2017-07-14T23:40:00Z'>23:40</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
what clang version are you using?
<br>
</div>

<div class='talk op-msg' data-timestamp='1500075600' id='557335'>
<a class='timestamp' href='#557335'><time timestamp='2017-07-14T23:40:00Z'>23:40</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
stupid apple...
<br>
</div>

<div class='talk op-msg' data-timestamp='1500075600' id='557336'>
<a class='timestamp' href='#557336'><time timestamp='2017-07-14T23:40:00Z'>23:40</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
Apple LLVM version 7.3.0 (clang-703.0.29)
<br>
</div>

<div class='talk op-msg' data-timestamp='1500075660' id='557337'>
<a class='timestamp' href='#557337'><time timestamp='2017-07-14T23:41:00Z'>23:41</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
no clue what ^^ is
<br>
</div>

<div class='talk op-msg' data-timestamp='1500075660' id='557338'>
<a class='timestamp' href='#557338'><time timestamp='2017-07-14T23:41:00Z'>23:41</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
let me see if a cross build works, then we&#x27;ll have an upstream clang for data point
<br>
</div>

<div class='talk op-msg' data-timestamp='1500075720' id='557339'>
<a class='timestamp' href='#557339'><time timestamp='2017-07-14T23:42:00Z'>23:42</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
works fine with clang-4.0
<br>
</div>

<div class='talk op-msg' data-timestamp='1500075720' id='557340'>
<a class='timestamp' href='#557340'><time timestamp='2017-07-14T23:42:00Z'>23:42</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
trying 3.7 now
<br>
</div>

<div class='talk op-msg' data-timestamp='1500075780' id='557341'>
<a class='timestamp' href='#557341'><time timestamp='2017-07-14T23:43:00Z'>23:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
eh, 3.7 fails on some c++11 stuff
<br>
</div>

<div class='talk op-msg' data-timestamp='1500075780' id='557342'>
<a class='timestamp' href='#557342'><time timestamp='2017-07-14T23:43:00Z'>23:43</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
for reference, i&#x27;m building with 3.7.1 now for cross
<br>
</div>

<div class='talk op-msg' data-timestamp='1500075780' id='557343'>
<a class='timestamp' href='#557343'><time timestamp='2017-07-14T23:43:00Z'>23:43</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
eh?     
<br>
</div>

<div class='talk op-msg' data-timestamp='1500075780' id='557344'>
<a class='timestamp' href='#557344'><time timestamp='2017-07-14T23:43:00Z'>23:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
In file included from ./httpserver.h:10:
<br>
</div>

<div class='talk op-msg' data-timestamp='1500075780' id='557345'>
<a class='timestamp' href='#557345'><time timestamp='2017-07-14T23:43:00Z'>23:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
/usr/bin/../lib/gcc/x86_64-linux-gnu/6.3.0/../../../../include/c++/6.3.0/functional:1370:11: error: no matching constructor for initialization of &#x27;std::tuple&lt;packaged_task&lt;bool (event_base *, evhttp *)&gt;, event_base *, evhttp *&gt;&#x27;
<br>
</div>

<div class='talk op-msg' data-timestamp='1500075780' id='557346'>
<a class='timestamp' href='#557346'><time timestamp='2017-07-14T23:43:00Z'>23:43</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
c++ lib issues?
<br>
</div>

<div class='talk op-msg' data-timestamp='1500075780' id='557347'>
<a class='timestamp' href='#557347'><time timestamp='2017-07-14T23:43:00Z'>23:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
        : _M_bound(std::forward&lt;_Tp&gt;(__f), std::forward&lt;_Up&gt;(__args)...)
<br>
</div>

<div class='talk op-msg' data-timestamp='1500075780' id='557348'>
<a class='timestamp' href='#557348'><time timestamp='2017-07-14T23:43:00Z'>23:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
          ^        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
<br>
</div>

<div class='talk op-msg' data-timestamp='1500075840' id='557349'>
<a class='timestamp' href='#557349'><time timestamp='2017-07-14T23:44:00Z'>23:44</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
why is it using gcc-6.3&#x27;s include dir?
<br>
</div>

<div class='talk op-msg' data-timestamp='1500075840' id='557350'>
<a class='timestamp' href='#557350'><time timestamp='2017-07-14T23:44:00Z'>23:44</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
give it -stdlib=libc++
<br>
</div>

<div class='talk op-msg' data-timestamp='1500075960' id='557351'>
<a class='timestamp' href='#557351'><time timestamp='2017-07-14T23:46:00Z'>23:46</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
(you might need LD_LIBRARY_PATH set to run)
<br>
</div>

<div class='talk op-msg' data-timestamp='1500076020' id='557352'>
<a class='timestamp' href='#557352'><time timestamp='2017-07-14T23:47:00Z'>23:47</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
ok, cross with 3.7.1 dies the same way
<br>
</div>

<div class='talk op-msg' data-timestamp='1500076140' id='557353'>
<a class='timestamp' href='#557353'><time timestamp='2017-07-14T23:49:00Z'>23:49</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ok, compiling with 3.7.0
<br>
</div>

<div class='talk op-msg' data-timestamp='1500076320' id='557354'>
<a class='timestamp' href='#557354'><time timestamp='2017-07-14T23:52:00Z'>23:52</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
/home/pw/git/bitcoin-shasse/src/util.cpp:861: undefined reference to `boost::filesystem::path::imbue(std::__1::locale const&amp;)&#x27;
<br>
</div>

<div class='talk op-msg' data-timestamp='1500076380' id='557355'>
<a class='timestamp' href='#557355'><time timestamp='2017-07-14T23:53:00Z'>23:53</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
heh, your boost was built against libstdc++
<br>
</div>

<div class='talk op-msg' data-timestamp='1500076380' id='557356'>
<a class='timestamp' href='#557356'><time timestamp='2017-07-14T23:53:00Z'>23:53</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
can i do a depends build on linux with clang?
<br>
</div>

<div class='talk op-msg' data-timestamp='1500076380' id='557357'>
<a class='timestamp' href='#557357'><time timestamp='2017-07-14T23:53:00Z'>23:53</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
on/for lnux
<br>
</div>

<div class='talk op-msg' data-timestamp='1500076440' id='557358'>
<a class='timestamp' href='#557358'><time timestamp='2017-07-14T23:54:00Z'>23:54</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
you can probably just do up a tiny stub app using CSHA256 directly, no?
<br>
</div>

</div>
</section>

</body>
</html>
