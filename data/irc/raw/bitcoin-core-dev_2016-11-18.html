<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2016-11-18
 — 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2016-11-18' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:25 UTC</pre>
<pre><a href="/bitcoin-core-dev/2016-10-18">&lt;</a><span class='header'>  November 2016   </span><a href="/bitcoin-core-dev/2016-12-18">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;       <a class="" href="/bitcoin-core-dev/2016-11-01">1</a>  <a class="" href="/bitcoin-core-dev/2016-11-02">2</a>  <a class="" href="/bitcoin-core-dev/2016-11-03">3</a>  <a class="" href="/bitcoin-core-dev/2016-11-04">4</a>  <a class="" href="/bitcoin-core-dev/2016-11-05">5</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2016-11-06">6</a>  <a class="" href="/bitcoin-core-dev/2016-11-07">7</a>  <a class="" href="/bitcoin-core-dev/2016-11-08">8</a>  <a class="" href="/bitcoin-core-dev/2016-11-09">9</a> <a class="" href="/bitcoin-core-dev/2016-11-10">10</a> <a class="" href="/bitcoin-core-dev/2016-11-11">11</a> <a class="" href="/bitcoin-core-dev/2016-11-12">12</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2016-11-13">13</a> <a class="" href="/bitcoin-core-dev/2016-11-14">14</a> <a class="" href="/bitcoin-core-dev/2016-11-15">15</a> <a class="" href="/bitcoin-core-dev/2016-11-16">16</a> <a class="" href="/bitcoin-core-dev/2016-11-17">17</a> <a class="current" href="/bitcoin-core-dev/2016-11-18">18</a> <a class="" href="/bitcoin-core-dev/2016-11-19">19</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2016-11-20">20</a> <a class="" href="/bitcoin-core-dev/2016-11-21">21</a> <a class="" href="/bitcoin-core-dev/2016-11-22">22</a> <a class="" href="/bitcoin-core-dev/2016-11-23">23</a> <a class="" href="/bitcoin-core-dev/2016-11-24">24</a> <a class="" href="/bitcoin-core-dev/2016-11-25">25</a> <a class="" href="/bitcoin-core-dev/2016-11-26">26</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2016-11-27">27</a> <a class="" href="/bitcoin-core-dev/2016-11-28">28</a> <a class="" href="/bitcoin-core-dev/2016-11-29">29</a> <a class="" href="/bitcoin-core-dev/2016-11-30">30</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1479427440' id='511651'>
<a class='timestamp' href='#511651'><time timestamp='2016-11-18T00:04:00Z'>00:04</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
BlueMatt: sure
<br>
</div>

<div class='talk op-msg' data-timestamp='1479427440' id='511652'>
<a class='timestamp' href='#511652'><time timestamp='2016-11-18T00:04:00Z'>00:04</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
8ad0a328584b0be86df79c4335c043b0e3bbb2a380023fec55933f357b57edae
<br>
</div>

<div class='talk op-msg' data-timestamp='1479427500' id='511653'>
<a class='timestamp' href='#511653'><time timestamp='2016-11-18T00:05:00Z'>00:05</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
BlueMatt: i was wrong about only needing a std::shared_block&lt;const CBlock&gt; and deserializing into it. You&#x27;ll also need to add a deserialize_t constructor in CBlock (whose body can just be &#x27;ss &gt;&gt; *this&#x27;)
<br>
</div>

<div class='talk op-msg' data-timestamp='1479427560' id='511654'>
<a class='timestamp' href='#511654'><time timestamp='2016-11-18T00:06:00Z'>00:06</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
petertodd: re twitter... i was certainly aware that something like segwit could be done in an extension block like way... what was new was that it was 1) doable 2) backward compatible with old wallets
<br>
</div>

<div class='talk op-msg' data-timestamp='1479427680' id='511655'>
<a class='timestamp' href='#511655'><time timestamp='2016-11-18T00:08:00Z'>00:08</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1479428280' id='511656'>
<a class='timestamp' href='#511656'><time timestamp='2016-11-18T00:18:00Z'>00:18</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
sipa: ahh...well if its more of a patch I&#x27;m gonna skip it until you have it written
<br>
</div>

<div class='talk op-msg' data-timestamp='1479428280' id='511657'>
<a class='timestamp' href='#511657'><time timestamp='2016-11-18T00:18:00Z'>00:18</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
and, maybe #9014 will be merged first :p
<br>
</div>

<div class='talk op-msg' data-timestamp='1479428280' id='511658'>
<a class='timestamp' href='#511658'><time timestamp='2016-11-18T00:18:00Z'>00:18</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/9014" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/9014</a> | Fix block-connection performance regression by TheBlueMatt · Pull Request #9014 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1479429420' id='511659'>
<a class='timestamp' href='#511659'><time timestamp='2016-11-18T00:37:00Z'>00:37</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
cfields: i don&#x27;t know whether caching the result of a dereference actually has that much of an effect... there are no concurrency guarantees on shared_ptr dereferences, so i expect the compiler to just cache the result
<br>
</div>

<div class='talk op-msg' data-timestamp='1479429420' id='511660'>
<a class='timestamp' href='#511660'><time timestamp='2016-11-18T00:37:00Z'>00:37</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
through common subexpression elimination
<br>
</div>

<div class='talk op-msg' data-timestamp='1479429960' id='511661'>
<a class='timestamp' href='#511661'><time timestamp='2016-11-18T00:46:00Z'>00:46</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
sipa: hmm, I&#x27;d always assumed that dereferencing required an atomic operation, but a quick look says otherwise. Makes sense, since it&#x27;s guaranteed to be in scope. TIL.
<br>
</div>

<div class='talk op-msg' data-timestamp='1479430020' id='511662'>
<a class='timestamp' href='#511662'><time timestamp='2016-11-18T00:47:00Z'>00:47</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
cfields: using multiple shared_ptr objects that refer to the same pointed-to object is threadsafe
<br>
</div>

<div class='talk op-msg' data-timestamp='1479430020' id='511663'>
<a class='timestamp' href='#511663'><time timestamp='2016-11-18T00:47:00Z'>00:47</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
cfields: using the same shared_ptr from multiple threads is not
<br>
</div>

<div class='talk op-msg' data-timestamp='1479430260' id='511664'>
<a class='timestamp' href='#511664'><time timestamp='2016-11-18T00:51:00Z'>00:51</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
sipa: did you change 9125 or just rebase?
<br>
</div>

<div class='talk op-msg' data-timestamp='1479430260' id='511665'>
<a class='timestamp' href='#511665'><time timestamp='2016-11-18T00:51:00Z'>00:51</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jtimon: both
<br>
</div>

<div class='talk op-msg' data-timestamp='1479430260' id='511666'>
<a class='timestamp' href='#511666'><time timestamp='2016-11-18T00:51:00Z'>00:51</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jtimon: i&#x27;ll comment on the changes
<br>
</div>

<div class='talk op-msg' data-timestamp='1479430320' id='511667'>
<a class='timestamp' href='#511667'><time timestamp='2016-11-18T00:52:00Z'>00:52</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
cool, I tried <a href="https://github.com/sipa/bitcoin/compare/9bc6cbc4e24ef856ad4c803226378f276acc14ff...39e832c90012db03822f61009060712a47f7f81d" class="link" target="_blank">https://github.com/sipa/bitcoin/compare/9bc6cbc4e24ef856ad4c803226378f276acc14ff...39e832c90012db03822f61009060712a47f7f81d</a> but did work :p
<br>
</div>

<div class='talk op-msg' data-timestamp='1479430380' id='511668'>
<a class='timestamp' href='#511668'><time timestamp='2016-11-18T00:53:00Z'>00:53</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
sipa: got it, thanks
<br>
</div>

<div class='talk op-msg' data-timestamp='1479430380' id='511669'>
<a class='timestamp' href='#511669'><time timestamp='2016-11-18T00:53:00Z'>00:53</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
cfields: so as long as you&#x27;re not creating/destroying/copying shared_ptr&#x27;s, they are effectively identical to accessing a simple pointer
<br>
</div>

<div class='talk op-msg' data-timestamp='1479430440' id='511670'>
<a class='timestamp' href='#511670'><time timestamp='2016-11-18T00:54:00Z'>00:54</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
sipa: I see that now. I had a pretty fundamental misunderstanding about the overhead. That&#x27;s very cool.
<br>
</div>

<div class='talk op-msg' data-timestamp='1479431520' id='511671'>
<a class='timestamp' href='#511671'><time timestamp='2016-11-18T01:12:00Z'>01:12</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
cfields: see pm?
<br>
</div>

<div class='talk op-msg' data-timestamp='1479431640' id='511672'>
<a class='timestamp' href='#511672'><time timestamp='2016-11-18T01:14:00Z'>01:14</time></a>
&lt;<span class='nick nick-6'> btcdrak</span>&gt;
cfields: roasbeef said he&#x27;s restarting those scripts
<br>
</div>

<div class='talk op-msg' data-timestamp='1479432360' id='511673'>
<a class='timestamp' href='#511673'><time timestamp='2016-11-18T01:26:00Z'>01:26</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
btcdrak: thanks
<br>
</div>

<div class='talk op-msg' data-timestamp='1479432360' id='511674'>
<a class='timestamp' href='#511674'><time timestamp='2016-11-18T01:26:00Z'>01:26</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
roasbeef: thanks too :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1479434940' id='511675'>
<a class='timestamp' href='#511675'><time timestamp='2016-11-18T02:09:00Z'>02:09</time></a>
&lt;<span class='nick nick-2'> * jtimon</span>&gt;
re-asks for review on <a href="https://github.com/bitcoin/bitcoin/pull/8855" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8855</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1479434940' id='511676'>
<a class='timestamp' href='#511676'><time timestamp='2016-11-18T02:09:00Z'>02:09</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jtimon: i was looking at it right now!
<br>
</div>

<div class='talk op-msg' data-timestamp='1479435000' id='511677'>
<a class='timestamp' href='#511677'><time timestamp='2016-11-18T02:10:00Z'>02:10</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
sipa: cool, but you&#x27;re the one who already looked at it :p it was for the others
<br>
</div>

<div class='talk op-msg' data-timestamp='1479435060' id='511678'>
<a class='timestamp' href='#511678'><time timestamp='2016-11-18T02:11:00Z'>02:11</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
I mean, I&#x27;m definitely interested in kowing if the nits are solved
<br>
</div>

<div class='talk op-msg' data-timestamp='1479435060' id='511679'>
<a class='timestamp' href='#511679'><time timestamp='2016-11-18T02:11:00Z'>02:11</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
knowing
<br>
</div>

<div class='talk op-msg' data-timestamp='1479435600' id='511680'>
<a class='timestamp' href='#511680'><time timestamp='2016-11-18T02:20:00Z'>02:20</time></a>
&lt;<span class='nick nick-1'> roasbeef</span>&gt;
hmm, chjj and I seem to be encountering some odd behavior with segwit enabled core nodes on testnet: they aren&#x27;t including witness_tx inv&#x27;s in their getdata&#x27;s when fetching transactions, so they fetch witness output spending transactions without the witness data (though the service bit is set). this should cause an immediate rejecvt due to the clean-stack rules, but they keep accepting the txns, sending a delayed reject minutes afterwards
<br>
</div>

<div class='talk op-msg' data-timestamp='1479435960' id='511681'>
<a class='timestamp' href='#511681'><time timestamp='2016-11-18T02:26:00Z'>02:26</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
roasbeef: they send MSG_TX getdatas instead of MSG_WITNESS_TX ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1479436020' id='511682'>
<a class='timestamp' href='#511682'><time timestamp='2016-11-18T02:27:00Z'>02:27</time></a>
&lt;<span class='nick nick-1'> roasbeef</span>&gt;
sipa: yeh
<br>
</div>

<div class='talk op-msg' data-timestamp='1479436020' id='511683'>
<a class='timestamp' href='#511683'><time timestamp='2016-11-18T02:27:00Z'>02:27</time></a>
&lt;<span class='nick nick-8'> chjj</span>&gt;
sipa: yes. we have witness service bits, so do they. they repeatedly request our witness txs as non-witness.
<br>
</div>

<div class='talk op-msg' data-timestamp='1479436020' id='511684'>
<a class='timestamp' href='#511684'><time timestamp='2016-11-18T02:27:00Z'>02:27</time></a>
&lt;<span class='nick nick-1'> roasbeef</span>&gt;
the delayed reject is nonstd-script-verify due to empty witness
<br>
</div>

<div class='talk op-msg' data-timestamp='1479436020' id='511685'>
<a class='timestamp' href='#511685'><time timestamp='2016-11-18T02:27:00Z'>02:27</time></a>
&lt;<span class='nick nick-1'> roasbeef</span>&gt;
this then repeats as they aren&#x27;t added to the reject cache
<br>
</div>

<div class='talk op-msg' data-timestamp='1479436080' id='511686'>
<a class='timestamp' href='#511686'><time timestamp='2016-11-18T02:28:00Z'>02:28</time></a>
&lt;<span class='nick nick-8'> chjj</span>&gt;
sipa: seems to be both 13.0 and 13.1 nodes
<br>
</div>

<div class='talk op-msg' data-timestamp='1479436140' id='511687'>
<a class='timestamp' href='#511687'><time timestamp='2016-11-18T02:29:00Z'>02:29</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
chjj, roasbeef: thanks, looking
<br>
</div>

<div class='talk op-msg' data-timestamp='1479436200' id='511688'>
<a class='timestamp' href='#511688'><time timestamp='2016-11-18T02:30:00Z'>02:30</time></a>
&lt;<span class='nick nick-1'> roasbeef</span>&gt;
hypothesis: these nodes have been online since before segwit activated on testnet, and somehow the service bit they check isn&#x27;t the most up-do-date version within GetFetchFlags
<br>
</div>

<div class='talk op-msg' data-timestamp='1479436260' id='511689'>
<a class='timestamp' href='#511689'><time timestamp='2016-11-18T02:31:00Z'>02:31</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
found bug: getdatas of transactions sent in response to received transactions with missing inputs are always MSG_TX
<br>
</div>

<div class='talk op-msg' data-timestamp='1479436260' id='511690'>
<a class='timestamp' href='#511690'><time timestamp='2016-11-18T02:31:00Z'>02:31</time></a>
&lt;<span class='nick nick-1'> roasbeef</span>&gt;
ahh yeah he&#x27;s generating  really long chain of multi-sigs
<br>
</div>

<div class='talk op-msg' data-timestamp='1479436320' id='511691'>
<a class='timestamp' href='#511691'><time timestamp='2016-11-18T02:32:00Z'>02:32</time></a>
&lt;<span class='nick nick-1'> roasbeef</span>&gt;
a really* 
<br>
</div>

<div class='talk op-msg' data-timestamp='1479436320' id='511692'>
<a class='timestamp' href='#511692'><time timestamp='2016-11-18T02:32:00Z'>02:32</time></a>
&lt;<span class='nick nick-8'> chjj</span>&gt;
oh, haha
<br>
</div>

<div class='talk op-msg' data-timestamp='1479436320' id='511693'>
<a class='timestamp' href='#511693'><time timestamp='2016-11-18T02:32:00Z'>02:32</time></a>
&lt;<span class='nick nick-8'> chjj</span>&gt;
yeah, 3k nested transactions
<br>
</div>

<div class='talk op-msg' data-timestamp='1479436320' id='511694'>
<a class='timestamp' href='#511694'><time timestamp='2016-11-18T02:32:00Z'>02:32</time></a>
&lt;<span class='nick nick-8'> chjj</span>&gt;
yeah, that would do it. potential dos vector found i guess. i should spam the network more often. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1479436380' id='511695'>
<a class='timestamp' href='#511695'><time timestamp='2016-11-18T02:33:00Z'>02:33</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
thank you so much
<br>
</div>

<div class='talk op-msg' data-timestamp='1479436380' id='511696'>
<a class='timestamp' href='#511696'><time timestamp='2016-11-18T02:33:00Z'>02:33</time></a>
&lt;<span class='nick nick-13'> * roasbeef</span>&gt;
giggles
<br>
</div>

<div class='talk op-msg' data-timestamp='1479436440' id='511697'>
<a class='timestamp' href='#511697'><time timestamp='2016-11-18T02:34:00Z'>02:34</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
yea, thats an issue. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1479436500' id='511698'>
<a class='timestamp' href='#511698'><time timestamp='2016-11-18T02:35:00Z'>02:35</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
We just added the orphan fetching in 0.13, so it won&#x27;t work with witness txn. Considering that we&#x27;ve managed to go this long without having that orphan fetching at all, the world won&#x27;t end. But that&#x27;ll be good to get fixed in 0.13.2.
<br>
</div>

<div class='talk op-msg' data-timestamp='1479436500' id='511699'>
<a class='timestamp' href='#511699'><time timestamp='2016-11-18T02:35:00Z'>02:35</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
chjj, roasbeef thanks for finding that!!
<br>
</div>

<div class='talk op-msg' data-timestamp='1479436560' id='511700'>
<a class='timestamp' href='#511700'><time timestamp='2016-11-18T02:36:00Z'>02:36</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
what do you mean by 3k nester transactions? if that&#x27;s the length of the chain, we won&#x27;t ever accept that into the mempool
<br>
</div>

<div class='talk op-msg' data-timestamp='1479436560' id='511701'>
<a class='timestamp' href='#511701'><time timestamp='2016-11-18T02:36:00Z'>02:36</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
chjj: I don&#x27;t know what 3k nested txn means, but we won&#x27;t take an unconfirmed chain longer than 25 in the mempool.
<br>
</div>

<div class='talk op-msg' data-timestamp='1479436620' id='511702'>
<a class='timestamp' href='#511702'><time timestamp='2016-11-18T02:37:00Z'>02:37</time></a>
&lt;<span class='nick nick-8'> chjj</span>&gt;
gmaxwell sipa: no problem. we were sitting here for the past hour dumbfounded. glad we figured it out here.
<br>
</div>

<div class='talk op-msg' data-timestamp='1479436620' id='511703'>
<a class='timestamp' href='#511703'><time timestamp='2016-11-18T02:37:00Z'>02:37</time></a>
&lt;<span class='nick nick-1'> roasbeef</span>&gt;
he means that he&#x27;s generating a really long chain, they accept up to 25 (or reject them), but then the remainder are sent but at that point they&#x27;re have orphan inputs from their PoV
<br>
</div>

<div class='talk op-msg' data-timestamp='1479436620' id='511704'>
<a class='timestamp' href='#511704'><time timestamp='2016-11-18T02:37:00Z'>02:37</time></a>
&lt;<span class='nick nick-8'> chjj</span>&gt;
sipa: yeah, but it&#x27;s a bunch of orphans. too-long-mempool-chain isn&#x27;t checked for those i guess.
<br>
</div>

<div class='talk op-msg' data-timestamp='1479436680' id='511705'>
<a class='timestamp' href='#511705'><time timestamp='2016-11-18T02:38:00Z'>02:38</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
yea, doesn&#x27;t really check any of the consistency, orphan pool is mostly a big bag of transactions.
<br>
</div>

<div class='talk op-msg' data-timestamp='1479436680' id='511706'>
<a class='timestamp' href='#511706'><time timestamp='2016-11-18T02:38:00Z'>02:38</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
And the &#x27;fetch missing parents&#x27; is really just treating the orphan transaction like an implicit inv.
<br>
</div>

<div class='talk op-msg' data-timestamp='1479436740' id='511707'>
<a class='timestamp' href='#511707'><time timestamp='2016-11-18T02:39:00Z'>02:39</time></a>
&lt;<span class='nick nick-8'> chjj</span>&gt;
yeah
<br>
</div>

<div class='talk op-msg' data-timestamp='1479436740' id='511708'>
<a class='timestamp' href='#511708'><time timestamp='2016-11-18T02:39:00Z'>02:39</time></a>
&lt;<span class='nick nick-8'> chjj</span>&gt;
i was just signing a bunch of nested txs because roasbeef wanted me to. he wanted some big witness blocks. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1479436740' id='511709'>
<a class='timestamp' href='#511709'><time timestamp='2016-11-18T02:39:00Z'>02:39</time></a>
&lt;<span class='nick nick-1'> roasbeef</span>&gt;
yeh, I put him up to it ;) 
<br>
</div>

<div class='talk op-msg' data-timestamp='1479436740' id='511710'>
<a class='timestamp' href='#511710'><time timestamp='2016-11-18T02:39:00Z'>02:39</time></a>
&lt;<span class='nick nick-8'> chjj</span>&gt;
wrote a script to endlessly sign and broadcast them
<br>
</div>

<div class='talk op-msg' data-timestamp='1479436800' id='511711'>
<a class='timestamp' href='#511711'><time timestamp='2016-11-18T02:40:00Z'>02:40</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
filed an issue
<br>
</div>

<div class='talk op-msg' data-timestamp='1479436800' id='511712'>
<a class='timestamp' href='#511712'><time timestamp='2016-11-18T02:40:00Z'>02:40</time></a>
&lt;<span class='nick nick-1'> roasbeef</span>&gt;
dope
<br>
</div>

<div class='talk op-msg' data-timestamp='1479439680' id='511713'>
<a class='timestamp' href='#511713'><time timestamp='2016-11-18T03:28:00Z'>03:28</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] TheBlueMatt reopened pull request #8930: Move orphan processing to ActivateBestChain (master...net_processing_3) <a href="https://github.com/bitcoin/bitcoin/pull/8930" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8930</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1479439740' id='511714'>
<a class='timestamp' href='#511714'><time timestamp='2016-11-18T03:29:00Z'>03:29</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
^ last pull before the final main.cpp split :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1479439740' id='511715'>
<a class='timestamp' href='#511715'><time timestamp='2016-11-18T03:29:00Z'>03:29</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
there are some minor fixes in the main.cpp split pull, but should be easy-ish to review
<br>
</div>

<div class='talk op-msg' data-timestamp='1479439800' id='511716'>
<a class='timestamp' href='#511716'><time timestamp='2016-11-18T03:30:00Z'>03:30</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
and they seem to be getting smaller and smaller as we go :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1479440100' id='511717'>
<a class='timestamp' href='#511717'><time timestamp='2016-11-18T03:35:00Z'>03:35</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] TheBlueMatt opened pull request #9183: Final Preparation for main.cpp Split (master...net_processing_5) <a href="https://github.com/bitcoin/bitcoin/pull/9183" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9183</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1479440280' id='511718'>
<a class='timestamp' href='#511718'><time timestamp='2016-11-18T03:38:00Z'>03:38</time></a>
&lt;<span class='nick nick-12'> crescendo</span>&gt;
heh, glad I reconnected in time to see that one come across.  great work, @BlueMatt
<br>
</div>

<div class='talk op-msg' data-timestamp='1479440340' id='511719'>
<a class='timestamp' href='#511719'><time timestamp='2016-11-18T03:39:00Z'>03:39</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
BlueMatt: yay
<br>
</div>

<div class='talk op-msg' data-timestamp='1479444420' id='511720'>
<a class='timestamp' href='#511720'><time timestamp='2016-11-18T04:47:00Z'>04:47</time></a>
&lt;<span class='nick nick-5'> dermoth</span>&gt;
Hi there... I&#x27;m maintaining an opensource block explorer that calculate stats such as total bitcoins in circulations and btc days destroyed... Those stats are based not only on created coins but also permanently destroyed ones.
<br>
</div>

<div class='talk op-msg' data-timestamp='1479444420' id='511721'>
<a class='timestamp' href='#511721'><time timestamp='2016-11-18T04:47:00Z'>04:47</time></a>
&lt;<span class='nick nick-5'> dermoth</span>&gt;
Obviously there is no way to know about <b>*all*</b> destroyed coins, but there are obvious ways to destroy them which are factored in...
<br>
</div>

<div class='talk op-msg' data-timestamp='1479444480' id='511722'>
<a class='timestamp' href='#511722'><time timestamp='2016-11-18T04:48:00Z'>04:48</time></a>
&lt;<span class='nick nick-5'> dermoth</span>&gt;
Is there an official place to look for what should count as destroyed coins?
<br>
</div>

<div class='talk op-msg' data-timestamp='1479445020' id='511723'>
<a class='timestamp' href='#511723'><time timestamp='2016-11-18T04:57:00Z'>04:57</time></a>
&lt;<span class='nick nick-6'> btcdrak</span>&gt;
dermoth: there are some known unspendable addresses, like the counterparty burn, and 1bitcoineater etc. Certain type of counterparty and other type transactions which encode various messages are also known to be unspendable.
<br>
</div>

<div class='talk op-msg' data-timestamp='1479447000' id='511724'>
<a class='timestamp' href='#511724'><time timestamp='2016-11-18T05:30:00Z'>05:30</time></a>
&lt;<span class='nick nick-5'> midnightmagic</span>&gt;
dermoth: there are piles of proveable unspendable outputs, including e.g. the genesis block coinbase tx, the duplicated coinbase tx, the OP_RETURN spam, etc. As for the addresses -- the 1eater address and similar is probably not easily detected algorithmically. How can you tell for certain which addresses are constructed and which are in fact legitimate addresses.
<br>
</div>

<div class='talk op-msg' data-timestamp='1479447000' id='511725'>
<a class='timestamp' href='#511725'><time timestamp='2016-11-18T05:30:00Z'>05:30</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
dermoth: i list some of them here <a href="http://bitcoin.stackexchange.com/questions/38994/will-there-be-21-million-bitcoins-eventually" class="link" target="_blank">http://bitcoin.stackexchange.com/questions/38994/will-there-be-21-million-bitcoins-eventually</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1479447060' id='511726'>
<a class='timestamp' href='#511726'><time timestamp='2016-11-18T05:31:00Z'>05:31</time></a>
&lt;<span class='nick nick-5'> midnightmagic</span>&gt;
dermoth: Meanwhile, how do you categorize e.g. those fees which were destroyed by miner underpays, and do you want to distinguish those from the fees+reward underpay that I did (which as far as I can tell I&#x27;m the only one to do it.)
<br>
</div>

<div class='talk op-msg' data-timestamp='1479447060' id='511727'>
<a class='timestamp' href='#511727'><time timestamp='2016-11-18T05:31:00Z'>05:31</time></a>
&lt;<span class='nick nick-5'> midnightmagic</span>&gt;
Is coin which never existed, actually destroyed?
<br>
</div>

<div class='talk op-msg' data-timestamp='1479447240' id='511728'>
<a class='timestamp' href='#511728'><time timestamp='2016-11-18T05:34:00Z'>05:34</time></a>
&lt;<span class='nick nick-5'> midnightmagic</span>&gt;
&quot;Due to various bugs and miners experimenting with code, some blocks claim less than allowed.&quot;  &lt;-- That is very kind of you sipa. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1479447240' id='511729'>
<a class='timestamp' href='#511729'><time timestamp='2016-11-18T05:34:00Z'>05:34</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
lock 124724 tried to intentionally claim 0.00000001 BTC less than allowed, but accidentally also failed to claim the fees, losing 0.01000001 BTC.
<br>
</div>

<div class='talk op-msg' data-timestamp='1479447240' id='511730'>
<a class='timestamp' href='#511730'><time timestamp='2016-11-18T05:34:00Z'>05:34</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
^- that refers to you, i think
<br>
</div>

<div class='talk op-msg' data-timestamp='1479447300' id='511731'>
<a class='timestamp' href='#511731'><time timestamp='2016-11-18T05:35:00Z'>05:35</time></a>
&lt;<span class='nick nick-5'> midnightmagic</span>&gt;
sipa: In retrospect, if I knew then what I know now, I wouldn&#x27;t have changed it--causing 0.00000001 to never have come into existence is a better way of doing it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1479447300' id='511732'>
<a class='timestamp' href='#511732'><time timestamp='2016-11-18T05:35:00Z'>05:35</time></a>
&lt;<span class='nick nick-5'> midnightmagic</span>&gt;
BlueMatt: thanks for the idea!
<br>
</div>

<div class='talk op-msg' data-timestamp='1479447300' id='511733'>
<a class='timestamp' href='#511733'><time timestamp='2016-11-18T05:35:00Z'>05:35</time></a>
&lt;<span class='nick nick-4'> * midnightmagic</span>&gt;
tips hat
<br>
</div>

<div class='talk op-msg' data-timestamp='1479449460' id='511734'>
<a class='timestamp' href='#511734'><time timestamp='2016-11-18T06:11:00Z'>06:11</time></a>
&lt;<span class='nick nick-5'> dermoth</span>&gt;
Thanks... I&#x27;m aware of how many ways coins can be destroyed... and indeed I never thought of underpay; I assumed reward+fee always matched first tx inputs (it could even have been enforced...)
<br>
</div>

<div class='talk op-msg' data-timestamp='1479449520' id='511735'>
<a class='timestamp' href='#511735'><time timestamp='2016-11-18T06:12:00Z'>06:12</time></a>
&lt;<span class='nick nick-5'> dermoth</span>&gt;
I was just curious if there was an &quot;official&quot; list as far as stats calculations are concerned, so that everyone can compute stats the same way and more easily detect errors.
<br>
</div>

<div class='talk op-msg' data-timestamp='1479449520' id='511736'>
<a class='timestamp' href='#511736'><time timestamp='2016-11-18T06:12:00Z'>06:12</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
dermoth: i think that&#x27;s hopeless
<br>
</div>

<div class='talk op-msg' data-timestamp='1479449580' id='511737'>
<a class='timestamp' href='#511737'><time timestamp='2016-11-18T06:13:00Z'>06:13</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
there may be 100000s or millions of BTC lost due to destroyed/forgotten/... wallets
<br>
</div>

<div class='talk op-msg' data-timestamp='1479449880' id='511738'>
<a class='timestamp' href='#511738'><time timestamp='2016-11-18T06:18:00Z'>06:18</time></a>
&lt;<span class='nick nick-5'> dermoth</span>&gt;
I know it&#x27;s hopeless... between lost keys, valid address that were creates without the private side, custom scripts we have no way to verify they&#x27;ll ever be usable.... That why I think there should be an official list of ways to destroy coins... I think underpay, OP_RETURN, null address, genesys/dup coinbases for a start... maybe addresses that are provably undependable (i.e. you can quickly and mathematically prove there is no private key
<br>
</div>

<div class='talk op-msg' data-timestamp='1479449880' id='511739'>
<a class='timestamp' href='#511739'><time timestamp='2016-11-18T06:18:00Z'>06:18</time></a>
&lt;<span class='nick nick-5'> dermoth</span>&gt;
s).     
<br>
</div>

<div class='talk op-msg' data-timestamp='1479449940' id='511740'>
<a class='timestamp' href='#511740'><time timestamp='2016-11-18T06:19:00Z'>06:19</time></a>
&lt;<span class='nick nick-5'> dermoth</span>&gt;
I don&#x27;t think we should start going into more complex address even if we know some of them are impossible to create as a key pair, because there is not clear limit where to stop
<br>
</div>

<div class='talk op-msg' data-timestamp='1479450180' id='511741'>
<a class='timestamp' href='#511741'><time timestamp='2016-11-18T06:23:00Z'>06:23</time></a>
&lt;<span class='nick nick-5'> dermoth</span>&gt;
BTW, I proposed a long time ago that all unspent coins after x blocks (many years) could be scavenged and redistributed to miners as a way to recycle destroyed coins (avoid inavoidable depletion) and keep miner&#x27;s fee higher. For some reason ppl rejected that idea withotu much thought.
<br>
</div>

<div class='talk op-msg' data-timestamp='1479450420' id='511742'>
<a class='timestamp' href='#511742'><time timestamp='2016-11-18T06:27:00Z'>06:27</time></a>
&lt;<span class='nick nick-5'> dermoth</span>&gt;
I think after a certain number of bitcoin cycles (210k blocks) we could scavenge all unspent coins from the oldest 210k block, put them in a pool and let miners siphon 1/210000th of that pool every block. At that point the older part of the chain could be completely dropped as it would no longer have any use, and pooling the fund would ensure miners get a predictable reward.
<br>
</div>

<div class='talk op-msg' data-timestamp='1479450540' id='511743'>
<a class='timestamp' href='#511743'><time timestamp='2016-11-18T06:29:00Z'>06:29</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sounds like a great reason to refuse to mine peoples&#x27; transactions near that boundary.
<br>
</div>

<div class='talk op-msg' data-timestamp='1479450540' id='511744'>
<a class='timestamp' href='#511744'><time timestamp='2016-11-18T06:29:00Z'>06:29</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
You might want to assume less about what people have given thought to and haven&#x27;t.
<br>
</div>

<div class='talk op-msg' data-timestamp='1479450600' id='511745'>
<a class='timestamp' href='#511745'><time timestamp='2016-11-18T06:30:00Z'>06:30</time></a>
&lt;<span class='nick nick-5'> dermoth</span>&gt;
well that is definitively a good point
<br>
</div>

<div class='talk op-msg' data-timestamp='1479450600' id='511746'>
<a class='timestamp' href='#511746'><time timestamp='2016-11-18T06:30:00Z'>06:30</time></a>
&lt;<span class='nick nick-16'> rabidus</span>&gt;
you would kill the &quot;store of value&quot; property of bitcoin
<br>
</div>

<div class='talk op-msg' data-timestamp='1479450600' id='511747'>
<a class='timestamp' href='#511747'><time timestamp='2016-11-18T06:30:00Z'>06:30</time></a>
&lt;<span class='nick nick-5'> dermoth</span>&gt;
and it wasn&#x27;T the reason given back then
<br>
</div>

<div class='talk op-msg' data-timestamp='1479450600' id='511748'>
<a class='timestamp' href='#511748'><time timestamp='2016-11-18T06:30:00Z'>06:30</time></a>
&lt;<span class='nick nick-16'> rabidus</span>&gt;
if i would need to move my voins from year to year just to ensure that i own them
<br>
</div>

<div class='talk op-msg' data-timestamp='1479450720' id='511749'>
<a class='timestamp' href='#511749'><time timestamp='2016-11-18T06:32:00Z'>06:32</time></a>
&lt;<span class='nick nick-5'> dermoth</span>&gt;
rabidus, what&#x27;s wrong with that? but yeah, gmaxwell&#x27;s point is quite an issue...
<br>
</div>

<div class='talk op-msg' data-timestamp='1479450720' id='511750'>
<a class='timestamp' href='#511750'><time timestamp='2016-11-18T06:32:00Z'>06:32</time></a>
&lt;<span class='nick nick-16'> rabidus</span>&gt;
if i might lose my coins just because i didn&#x27;t move them, it is not very good store of value.
<br>
</div>

<div class='talk op-msg' data-timestamp='1479450900' id='511751'>
<a class='timestamp' href='#511751'><time timestamp='2016-11-18T06:35:00Z'>06:35</time></a>
&lt;<span class='nick nick-5'> dermoth</span>&gt;
right now these tx would be prioritized already... I guess the only way would be to add even further priority (ex no count toward block size, aggressive p2p forwarding...) and a system to reject blocks that include less than a specific % amount of the pool os these tx&#x27;es... And now I could understand why we wouldn&#x27;T want that
<br>
</div>

<div class='talk op-msg' data-timestamp='1479451020' id='511752'>
<a class='timestamp' href='#511752'><time timestamp='2016-11-18T06:37:00Z'>06:37</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
&quot;would be prioritized already&quot; huh?
<br>
</div>

<div class='talk op-msg' data-timestamp='1479451020' id='511753'>
<a class='timestamp' href='#511753'><time timestamp='2016-11-18T06:37:00Z'>06:37</time></a>
&lt;<span class='nick nick-5'> dermoth</span>&gt;
if you know after how long you need to resend the coins, there&#x27;s not excuses to loose them. I was thinking at least 10+ years before they would drop anyway
<br>
</div>

<div class='talk op-msg' data-timestamp='1479451080' id='511754'>
<a class='timestamp' href='#511754'><time timestamp='2016-11-18T06:38:00Z'>06:38</time></a>
&lt;<span class='nick nick-5'> dermoth</span>&gt;
tx that moves very old coins are prioritized aren&#x27;t they?
<br>
</div>

<div class='talk op-msg' data-timestamp='1479451080' id='511755'>
<a class='timestamp' href='#511755'><time timestamp='2016-11-18T06:38:00Z'>06:38</time></a>
&lt;<span class='nick nick-5'> dermoth</span>&gt;
priority = sum(input_value_in_base_units * input_age)/size_in_bytes
<br>
</div>

<div class='talk op-msg' data-timestamp='1479451080' id='511756'>
<a class='timestamp' href='#511756'><time timestamp='2016-11-18T06:38:00Z'>06:38</time></a>
&lt;<span class='nick nick-16'> rabidus</span>&gt;
i love to put my bitcoins into trezor, and forget it into safe or somewhere, just to be found for my grand children after 20 years
<br>
</div>

<div class='talk op-msg' data-timestamp='1479451140' id='511757'>
<a class='timestamp' href='#511757'><time timestamp='2016-11-18T06:39:00Z'>06:39</time></a>
&lt;<span class='nick nick-16'> rabidus</span>&gt;
oops, it&#x27;s empty.
<br>
</div>

<div class='talk op-msg' data-timestamp='1479451140' id='511758'>
<a class='timestamp' href='#511758'><time timestamp='2016-11-18T06:39:00Z'>06:39</time></a>
&lt;<span class='nick nick-5'> dermoth</span>&gt;
which - another think - I think tx with less outputs than inputs should be prioritized too, since they help reducing the utxo size
<br>
</div>

<div class='talk op-msg' data-timestamp='1479451200' id='511759'>
<a class='timestamp' href='#511759'><time timestamp='2016-11-18T06:40:00Z'>06:40</time></a>
&lt;<span class='nick nick-5'> dermoth</span>&gt;
or to find that tour trezor&#x27;s no longed functional, and your paper backup&#x27;s ink washed out
<br>
</div>

<div class='talk op-msg' data-timestamp='1479451320' id='511760'>
<a class='timestamp' href='#511760'><time timestamp='2016-11-18T06:42:00Z'>06:42</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
dermoth: there is only one rational prioritization rule, and that&#x27;s fee per byte
<br>
</div>

<div class='talk op-msg' data-timestamp='1479451320' id='511761'>
<a class='timestamp' href='#511761'><time timestamp='2016-11-18T06:42:00Z'>06:42</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
in the past, a few policies have existed that permitted old/larger coins, but they&#x27;re no longer used by miners
<br>
</div>

<div class='talk op-msg' data-timestamp='1479451320' id='511762'>
<a class='timestamp' href='#511762'><time timestamp='2016-11-18T06:42:00Z'>06:42</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
some miners still use them
<br>
</div>

<div class='talk op-msg' data-timestamp='1479451320' id='511763'>
<a class='timestamp' href='#511763'><time timestamp='2016-11-18T06:42:00Z'>06:42</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
jonasschnelli: the coin control gui sorts amounts lexographically!
<br>
</div>

<div class='talk op-msg' data-timestamp='1479451380' id='511764'>
<a class='timestamp' href='#511764'><time timestamp='2016-11-18T06:43:00Z'>06:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
dermoth, rabidus: also, please take this to #bitcoin
<br>
</div>

<div class='talk op-msg' data-timestamp='1479451380' id='511765'>
<a class='timestamp' href='#511765'><time timestamp='2016-11-18T06:43:00Z'>06:43</time></a>
&lt;<span class='nick nick-5'> dermoth</span>&gt;
sipa, don&#x27;t you think at equal size a tx that reduce the node&#x27;s uxto size should have hither priority than one that increase it?
<br>
</div>

<div class='talk op-msg' data-timestamp='1479451380' id='511766'>
<a class='timestamp' href='#511766'><time timestamp='2016-11-18T06:43:00Z'>06:43</time></a>
&lt;<span class='nick nick-14'> * luke-jr</span>&gt;
thinks right now they sort by txid in that scenario
<br>
</div>

<div class='talk op-msg' data-timestamp='1479451380' id='511767'>
<a class='timestamp' href='#511767'><time timestamp='2016-11-18T06:43:00Z'>06:43</time></a>
&lt;<span class='nick nick-5'> dermoth</span>&gt;
yeah and my apologies; I though I was in #bitcoin-dev (not -core-)
<br>
</div>

<div class='talk op-msg' data-timestamp='1479451440' id='511768'>
<a class='timestamp' href='#511768'><time timestamp='2016-11-18T06:44:00Z'>06:44</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
dermoth: yes, i think they should. but the only way to make that happen is by having consensus rules that make that strategy actually rational for miners to follow
<br>
</div>

<div class='talk op-msg' data-timestamp='1479451440' id='511769'>
<a class='timestamp' href='#511769'><time timestamp='2016-11-18T06:44:00Z'>06:44</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
dermoth: which segwit improves upon (but not enough, imo)
<br>
</div>

<div class='talk op-msg' data-timestamp='1479451620' id='511770'>
<a class='timestamp' href='#511770'><time timestamp='2016-11-18T06:47:00Z'>06:47</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
or miners just decide to do the better thing
<br>
</div>

<div class='talk op-msg' data-timestamp='1479451860' id='511771'>
<a class='timestamp' href='#511771'><time timestamp='2016-11-18T06:51:00Z'>06:51</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
luke-jr: we should build a system that incentivizes the right behaviour, not just hope for it
<br>
</div>

<div class='talk op-msg' data-timestamp='1479451860' id='511772'>
<a class='timestamp' href='#511772'><time timestamp='2016-11-18T06:51:00Z'>06:51</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
gmaxwell: my CoinControl sorts it per value per default
<br>
</div>

<div class='talk op-msg' data-timestamp='1479451920' id='511773'>
<a class='timestamp' href='#511773'><time timestamp='2016-11-18T06:52:00Z'>06:52</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
On which column do you have the &quot;sort arrow&quot;?
<br>
</div>

<div class='talk op-msg' data-timestamp='1479451920' id='511774'>
<a class='timestamp' href='#511774'><time timestamp='2016-11-18T06:52:00Z'>06:52</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
sipa: protocol changes need consensus. we can&#x27;t force them on people. but it only takes good willed miners to use pro-Bitcoin policys.
<br>
</div>

<div class='talk op-msg' data-timestamp='1479452040' id='511775'>
<a class='timestamp' href='#511775'><time timestamp='2016-11-18T06:54:00Z'>06:54</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
gmaxwell: Qt persists the last sort order and column.
<br>
</div>

<div class='talk op-msg' data-timestamp='1479452040' id='511776'>
<a class='timestamp' href='#511776'><time timestamp='2016-11-18T06:54:00Z'>06:54</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
luke-jr: if we&#x27;re going to depend on miners beibg the judges of good and bad, i&#x27;d rather remove PoW, give them identities, and hold them accountable
<br>
</div>

<div class='talk op-msg' data-timestamp='1479452100' id='511777'>
<a class='timestamp' href='#511777'><time timestamp='2016-11-18T06:55:00Z'>06:55</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
that would also be a protocol change.
<br>
</div>

<div class='talk op-msg' data-timestamp='1479452100' id='511778'>
<a class='timestamp' href='#511778'><time timestamp='2016-11-18T06:55:00Z'>06:55</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
also, this isn&#x27;t a matter of dependency
<br>
</div>

<div class='talk op-msg' data-timestamp='1479452160' id='511779'>
<a class='timestamp' href='#511779'><time timestamp='2016-11-18T06:56:00Z'>06:56</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
the system doesn&#x27;t fail if miners choose bad policies. it just works better if they choose good ones.
<br>
</div>

<div class='talk op-msg' data-timestamp='1479452160' id='511780'>
<a class='timestamp' href='#511780'><time timestamp='2016-11-18T06:56:00Z'>06:56</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
and a better working system makes their bitcoins more valuable, so arguably it&#x27;s already incentivised
<br>
</div>

<div class='talk op-msg' data-timestamp='1479452280' id='511781'>
<a class='timestamp' href='#511781'><time timestamp='2016-11-18T06:58:00Z'>06:58</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
in the same way that a central bank is incentivised to not destroy a country&#x27;s economy
<br>
</div>

<div class='talk op-msg' data-timestamp='1479452400' id='511782'>
<a class='timestamp' href='#511782'><time timestamp='2016-11-18T07:00:00Z'>07:00</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
anyway, probably off topic here
<br>
</div>

<div class='talk op-msg' data-timestamp='1479452400' id='511783'>
<a class='timestamp' href='#511783'><time timestamp='2016-11-18T07:00:00Z'>07:00</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
all incentives come down to value anyway
<br>
</div>

<div class='talk op-msg' data-timestamp='1479452460' id='511784'>
<a class='timestamp' href='#511784'><time timestamp='2016-11-18T07:01:00Z'>07:01</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
eg, it would be pretty stupid for miners to fill blocks with 100% super-high-fee spam for months on end, if it meant their rewards devalued to zero at the same time
<br>
</div>

<div class='talk op-msg' data-timestamp='1479452700' id='511785'>
<a class='timestamp' href='#511785'><time timestamp='2016-11-18T07:05:00Z'>07:05</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
jonasschnelli: if I click &quot;amount&quot; it swaps ascending and decending order, but the sort is not numeric.
<br>
</div>

<div class='talk op-msg' data-timestamp='1479452700' id='511786'>
<a class='timestamp' href='#511786'><time timestamp='2016-11-18T07:05:00Z'>07:05</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
e.g. it goes 1 10 2. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1479452760' id='511787'>
<a class='timestamp' href='#511787'><time timestamp='2016-11-18T07:06:00Z'>07:06</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
gmaxwell: Ah.. I see your point...
<br>
</div>

<div class='talk op-msg' data-timestamp='1479452760' id='511788'>
<a class='timestamp' href='#511788'><time timestamp='2016-11-18T07:06:00Z'>07:06</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
gmaxwell: strange... works on my end.
<br>
</div>

<div class='talk op-msg' data-timestamp='1479452760' id='511789'>
<a class='timestamp' href='#511789'><time timestamp='2016-11-18T07:06:00Z'>07:06</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
hm. qt difference perhaps?
<br>
</div>

<div class='talk op-msg' data-timestamp='1479452820' id='511790'>
<a class='timestamp' href='#511790'><time timestamp='2016-11-18T07:07:00Z'>07:07</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
1 2.4 9 10 25
<br>
</div>

<div class='talk op-msg' data-timestamp='1479452820' id='511791'>
<a class='timestamp' href='#511791'><time timestamp='2016-11-18T07:07:00Z'>07:07</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I&#x27;m using Qt5.7
<br>
</div>

<div class='talk op-msg' data-timestamp='1479452820' id='511792'>
<a class='timestamp' href='#511792'><time timestamp='2016-11-18T07:07:00Z'>07:07</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Testing now on 5.6
<br>
</div>

<div class='talk op-msg' data-timestamp='1479452940' id='511793'>
<a class='timestamp' href='#511793'><time timestamp='2016-11-18T07:09:00Z'>07:09</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Also works with Qt5.6.1 (gitian)
<br>
</div>

<div class='talk op-msg' data-timestamp='1479452940' id='511794'>
<a class='timestamp' href='#511794'><time timestamp='2016-11-18T07:09:00Z'>07:09</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
(OSX)
<br>
</div>

<div class='talk op-msg' data-timestamp='1479453060' id='511795'>
<a class='timestamp' href='#511795'><time timestamp='2016-11-18T07:11:00Z'>07:11</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
5.4.2 here. okay, well if it&#x27;s just me then I won&#x27;t worry about it!
<br>
</div>

<div class='talk op-msg' data-timestamp='1479453060' id='511796'>
<a class='timestamp' href='#511796'><time timestamp='2016-11-18T07:11:00Z'>07:11</time></a>
&lt;<span class='nick nick-12'> * jonasschnelli</span>&gt;
booting up Ubuntu
<br>
</div>

<div class='talk op-msg' data-timestamp='1479453240' id='511797'>
<a class='timestamp' href='#511797'><time timestamp='2016-11-18T07:14:00Z'>07:14</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Unrelated, I think the GUI interface that says &quot;N hours behind&quot; is sometimes misunderstood to mean that it will take N hours to catch up.
<br>
</div>

<div class='talk op-msg' data-timestamp='1479453240' id='511798'>
<a class='timestamp' href='#511798'><time timestamp='2016-11-18T07:14:00Z'>07:14</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
gmaxwell: Bug confirmed on Ubuntu with master built with gitian Qt5.6.1
<br>
</div>

<div class='talk op-msg' data-timestamp='1479453300' id='511799'>
<a class='timestamp' href='#511799'><time timestamp='2016-11-18T07:15:00Z'>07:15</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
\O/     
<br>
</div>

<div class='talk op-msg' data-timestamp='1479453300' id='511800'>
<a class='timestamp' href='#511800'><time timestamp='2016-11-18T07:15:00Z'>07:15</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
though... probably an upstream bug.
<br>
</div>

<div class='talk op-msg' data-timestamp='1479453300' id='511801'>
<a class='timestamp' href='#511801'><time timestamp='2016-11-18T07:15:00Z'>07:15</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
don&#x27;t call it upstream bug too soon, qt is pretty good at sorting :p
<br>
</div>

<div class='talk op-msg' data-timestamp='1479453300' id='511802'>
<a class='timestamp' href='#511802'><time timestamp='2016-11-18T07:15:00Z'>07:15</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
&quot;probably&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1479453300' id='511803'>
<a class='timestamp' href='#511803'><time timestamp='2016-11-18T07:15:00Z'>07:15</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
But the fact that its working on OSX and not on Ubuntu makes me think its very likely upstream
<br>
</div>

<div class='talk op-msg' data-timestamp='1479453360' id='511804'>
<a class='timestamp' href='#511804'><time timestamp='2016-11-18T07:16:00Z'>07:16</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I should use the GUI more, it does a lot of things nicely.
<br>
</div>

<div class='talk op-msg' data-timestamp='1479453420' id='511805'>
<a class='timestamp' href='#511805'><time timestamp='2016-11-18T07:17:00Z'>07:17</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sortView(COLUMN_AMOUNT_INT64, Qt::DescendingOrder);
<br>
</div>

<div class='talk op-msg' data-timestamp='1479453480' id='511806'>
<a class='timestamp' href='#511806'><time timestamp='2016-11-18T07:18:00Z'>07:18</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
itemOutput-&gt;setText(COLUMN_AMOUNT_INT64, strPad(QString::number(out.tx-&gt;vout[out.i].nValue), 15, &quot; &quot;)); // padding so that sorting works correctly
<br>
</div>

<div class='talk op-msg' data-timestamp='1479453480' id='511807'>
<a class='timestamp' href='#511807'><time timestamp='2016-11-18T07:18:00Z'>07:18</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Ah... there is a hack involves.
<br>
</div>

<div class='talk op-msg' data-timestamp='1479453480' id='511808'>
<a class='timestamp' href='#511808'><time timestamp='2016-11-18T07:18:00Z'>07:18</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
involved
<br>
</div>

<div class='talk op-msg' data-timestamp='1479453480' id='511809'>
<a class='timestamp' href='#511809'><time timestamp='2016-11-18T07:18:00Z'>07:18</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
eh ... :-(
<br>
</div>

<div class='talk op-msg' data-timestamp='1479453540' id='511810'>
<a class='timestamp' href='#511810'><time timestamp='2016-11-18T07:19:00Z'>07:19</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
strPad(QString::number(out.tx-&gt;vout[out.i].nValue), 15, &quot; &quot;)); // padding so that sorting works correctly
<br>
</div>

<div class='talk op-msg' data-timestamp='1479453540' id='511811'>
<a class='timestamp' href='#511811'><time timestamp='2016-11-18T07:19:00Z'>07:19</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
bah!
<br>
</div>

<div class='talk op-msg' data-timestamp='1479453540' id='511812'>
<a class='timestamp' href='#511812'><time timestamp='2016-11-18T07:19:00Z'>07:19</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
beat me to it!
<br>
</div>

<div class='talk op-msg' data-timestamp='1479453540' id='511813'>
<a class='timestamp' href='#511813'><time timestamp='2016-11-18T07:19:00Z'>07:19</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I somehow don&#x27;t think that&#x27;s the canonical way to do that
<br>
</div>

<div class='talk op-msg' data-timestamp='1479453540' id='511814'>
<a class='timestamp' href='#511814'><time timestamp='2016-11-18T07:19:00Z'>07:19</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Hey! Where is @Cozz... 
<br>
</div>

<div class='talk op-msg' data-timestamp='1479453600' id='511815'>
<a class='timestamp' href='#511815'><time timestamp='2016-11-18T07:20:00Z'>07:20</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
you shouldn&#x27;t need to define extra hidden columns to get sorting right, IIRC you can give the model a separate data item that will be used for sorting
<br>
</div>

<div class='talk op-msg' data-timestamp='1479453600' id='511816'>
<a class='timestamp' href='#511816'><time timestamp='2016-11-18T07:20:00Z'>07:20</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
but yes I don&#x27;t think any of us ever deeply looked at that code
<br>
</div>

<div class='talk op-msg' data-timestamp='1479453600' id='511817'>
<a class='timestamp' href='#511817'><time timestamp='2016-11-18T07:20:00Z'>07:20</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Yes.
<br>
</div>

<div class='talk op-msg' data-timestamp='1479453660' id='511818'>
<a class='timestamp' href='#511818'><time timestamp='2016-11-18T07:21:00Z'>07:21</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
The hack was probably made because of the QTreeWidgetItem
<br>
</div>

<div class='talk op-msg' data-timestamp='1479453660' id='511819'>
<a class='timestamp' href='#511819'><time timestamp='2016-11-18T07:21:00Z'>07:21</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it was not the prettiest code but works pretty well, generall
<br>
</div>

<div class='talk op-msg' data-timestamp='1479453660' id='511820'>
<a class='timestamp' href='#511820'><time timestamp='2016-11-18T07:21:00Z'>07:21</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Which maybe has some differences internally over a QTableView
<br>
</div>

<div class='talk op-msg' data-timestamp='1479453780' id='511821'>
<a class='timestamp' href='#511821'><time timestamp='2016-11-18T07:23:00Z'>07:23</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Qt code:
<br>
</div>

<div class='talk op-msg' data-timestamp='1479453780' id='511822'>
<a class='timestamp' href='#511822'><time timestamp='2016-11-18T07:23:00Z'>07:23</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
bool QTreeWidgetItem::operator&lt;(const QTreeWidgetItem &amp;other) const
<br>
</div>

<div class='talk op-msg' data-timestamp='1479453780' id='511823'>
<a class='timestamp' href='#511823'><time timestamp='2016-11-18T07:23:00Z'>07:23</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
return text(column) &lt; other.text(column);
<br>
</div>

<div class='talk op-msg' data-timestamp='1479453780' id='511824'>
<a class='timestamp' href='#511824'><time timestamp='2016-11-18T07:23:00Z'>07:23</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
:(     
<br>
</div>

<div class='talk op-msg' data-timestamp='1479453960' id='511825'>
<a class='timestamp' href='#511825'><time timestamp='2016-11-18T07:26:00Z'>07:26</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
they can be subclassed though
<br>
</div>

<div class='talk op-msg' data-timestamp='1479453960' id='511826'>
<a class='timestamp' href='#511826'><time timestamp='2016-11-18T07:26:00Z'>07:26</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Yes. Trying to do that.
<br>
</div>

<div class='talk op-msg' data-timestamp='1479453960' id='511827'>
<a class='timestamp' href='#511827'><time timestamp='2016-11-18T07:26:00Z'>07:26</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
But why is it working on OSX?
<br>
</div>

<div class='talk op-msg' data-timestamp='1479454020' id='511828'>
<a class='timestamp' href='#511828'><time timestamp='2016-11-18T07:27:00Z'>07:27</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
maybe some event handling difference, causing the hidden column not to be used for sorting?
<br>
</div>

<div class='talk op-msg' data-timestamp='1479454020' id='511829'>
<a class='timestamp' href='#511829'><time timestamp='2016-11-18T07:27:00Z'>07:27</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
either that or strPad(QString::number(out.tx-&gt;vout[out.i].nValue) returns something different on different OS but that soounds unlikely.
<br>
</div>

<div class='talk op-msg' data-timestamp='1479454080' id='511830'>
<a class='timestamp' href='#511830'><time timestamp='2016-11-18T07:28:00Z'>07:28</time></a>
&lt;<span class='nick nick-3'> * wumpus</span>&gt;
wonders why there&#x27;s an inefficiently implemented strPad when Qt has a perfectly fine rightJustified() method on QString
<br>
</div>

<div class='talk op-msg' data-timestamp='1479454080' id='511831'>
<a class='timestamp' href='#511831'><time timestamp='2016-11-18T07:28:00Z'>07:28</time></a>
&lt;<span class='nick nick-8'> Victorsueca</span>&gt;
morning
<br>
</div>

<div class='talk op-msg' data-timestamp='1479454140' id='511832'>
<a class='timestamp' href='#511832'><time timestamp='2016-11-18T07:29:00Z'>07:29</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
hi     
<br>
</div>

<div class='talk op-msg' data-timestamp='1479454200' id='511833'>
<a class='timestamp' href='#511833'><time timestamp='2016-11-18T07:30:00Z'>07:30</time></a>
&lt;<span class='nick nick-8'> Victorsueca</span>&gt;
how the hell does one remember so many Qt element calls?
<br>
</div>

<div class='talk op-msg' data-timestamp='1479454260' id='511834'>
<a class='timestamp' href='#511834'><time timestamp='2016-11-18T07:31:00Z'>07:31</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
Victorsueca: google is your friend
<br>
</div>

<div class='talk op-msg' data-timestamp='1479454260' id='511835'>
<a class='timestamp' href='#511835'><time timestamp='2016-11-18T07:31:00Z'>07:31</time></a>
&lt;<span class='nick nick-8'> Victorsueca</span>&gt;
yeah lol
<br>
</div>

<div class='talk op-msg' data-timestamp='1479454260' id='511836'>
<a class='timestamp' href='#511836'><time timestamp='2016-11-18T07:31:00Z'>07:31</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
use the search/grep/google whatever you prefer
<br>
</div>

<div class='talk op-msg' data-timestamp='1479454320' id='511837'>
<a class='timestamp' href='#511837'><time timestamp='2016-11-18T07:32:00Z'>07:32</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
you don&#x27;t have to remember every detail, just where to find things when you need them
<br>
</div>

<div class='talk op-msg' data-timestamp='1479454380' id='511838'>
<a class='timestamp' href='#511838'><time timestamp='2016-11-18T07:33:00Z'>07:33</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
exactly, you remember what things are possible, and how to use those
<br>
</div>

<div class='talk op-msg' data-timestamp='1479454380' id='511839'>
<a class='timestamp' href='#511839'><time timestamp='2016-11-18T07:33:00Z'>07:33</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
you can always find the details of how to do them again later
<br>
</div>

<div class='talk op-msg' data-timestamp='1479454380' id='511840'>
<a class='timestamp' href='#511840'><time timestamp='2016-11-18T07:33:00Z'>07:33</time></a>
&lt;<span class='nick nick-8'> Victorsueca</span>&gt;
yeah that&#x27;s what I do with linux commands
<br>
</div>

<div class='talk op-msg' data-timestamp='1479454500' id='511841'>
<a class='timestamp' href='#511841'><time timestamp='2016-11-18T07:35:00Z'>07:35</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
jonasschnelli: most common suggestion seems indeed to be to override QTreeWidgetItem &lt;
<br>
</div>

<div class='talk op-msg' data-timestamp='1479454560' id='511842'>
<a class='timestamp' href='#511842'><time timestamp='2016-11-18T07:36:00Z'>07:36</time></a>
&lt;<span class='nick nick-8'> Victorsueca</span>&gt;
but when you&#x27;re coding google not always brings the best way to do something for your specific case
<br>
</div>

<div class='talk op-msg' data-timestamp='1479454560' id='511843'>
<a class='timestamp' href='#511843'><time timestamp='2016-11-18T07:36:00Z'>07:36</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
oh sure there&#x27;s still some skill involved
<br>
</div>

<div class='talk op-msg' data-timestamp='1479454680' id='511844'>
<a class='timestamp' href='#511844'><time timestamp='2016-11-18T07:38:00Z'>07:38</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
most important is that you&#x27;re able to judge whether something is a good solution or not, so you can reject bad ones
<br>
</div>

<div class='talk op-msg' data-timestamp='1479454860' id='511845'>
<a class='timestamp' href='#511845'><time timestamp='2016-11-18T07:41:00Z'>07:41</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
jonasschnelli: so probably our tree widget item subclass should have int64 fields for the amount and date, which are used for sorting instead of the text in the column, for those columns
<br>
</div>

<div class='talk op-msg' data-timestamp='1479455220' id='511846'>
<a class='timestamp' href='#511846'><time timestamp='2016-11-18T07:47:00Z'>07:47</time></a>
&lt;<span class='nick nick-14'> Lauda</span>&gt;
<a href="https://bitcoincore.org/en/segwit_adoption/" class="link" target="_blank">https://bitcoincore.org/en/segwit_adoption/</a> minor mistake here:&quot;(note signalling will start around the 20th November 2016) &quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1479455280' id='511847'>
<a class='timestamp' href='#511847'><time timestamp='2016-11-18T07:48:00Z'>07:48</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it&#x27;ll start about an hour from now
<br>
</div>

<div class='talk op-msg' data-timestamp='1479455340' id='511848'>
<a class='timestamp' href='#511848'><time timestamp='2016-11-18T07:49:00Z'>07:49</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Lauda: yea, that was the projection at the time the text was written.
<br>
</div>

<div class='talk op-msg' data-timestamp='1479455340' id='511849'>
<a class='timestamp' href='#511849'><time timestamp='2016-11-18T07:49:00Z'>07:49</time></a>
&lt;<span class='nick nick-14'> Lauda</span>&gt;
Indeed. 8 blocks left
<br>
</div>

<div class='talk op-msg' data-timestamp='1479455520' id='511850'>
<a class='timestamp' href='#511850'><time timestamp='2016-11-18T07:52:00Z'>07:52</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
wumpus: yes. Working on a fix. Though, it not to most important thing. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1479456000' id='511851'>
<a class='timestamp' href='#511851'><time timestamp='2016-11-18T08:00:00Z'>08:00</time></a>
&lt;<span class='nick nick-6'> btcdrak</span>&gt;
Launda: thanks, will update
<br>
</div>

<div class='talk op-msg' data-timestamp='1479457140' id='511852'>
<a class='timestamp' href='#511852'><time timestamp='2016-11-18T08:19:00Z'>08:19</time></a>
&lt;<span class='nick nick-14'> Lauda</span>&gt;
Good btcdrauk
<br>
</div>

<div class='talk op-msg' data-timestamp='1479457200' id='511853'>
<a class='timestamp' href='#511853'><time timestamp='2016-11-18T08:20:00Z'>08:20</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
BlueMatt: maybe we should discuss approaches? Seems we might have something different in mind for encryption
<br>
</div>

<div class='talk op-msg' data-timestamp='1479457200' id='511854'>
<a class='timestamp' href='#511854'><time timestamp='2016-11-18T08:20:00Z'>08:20</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
and sipa ^^
<br>
</div>

<div class='talk op-msg' data-timestamp='1479457440' id='511855'>
<a class='timestamp' href='#511855'><time timestamp='2016-11-18T08:24:00Z'>08:24</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
cfields: probably, but bedtime for me rn
<br>
</div>

<div class='talk op-msg' data-timestamp='1479457560' id='511856'>
<a class='timestamp' href='#511856'><time timestamp='2016-11-18T08:26:00Z'>08:26</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
BlueMatt: ok, np. I just re-read my comments and realized they could&#x27;ve sounded a bit hostile. Not meant to be, for sure. I went back and forth on different approaches, very open to something other than what I settled on.
<br>
</div>

<div class='talk op-msg' data-timestamp='1479463980' id='511857'>
<a class='timestamp' href='#511857'><time timestamp='2016-11-18T10:13:00Z'>10:13</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jonasschnelli opened pull request #9185: [Qt] fix coincontrol sort issue (master...2016/11/fix_cc_sort) <a href="https://github.com/bitcoin/bitcoin/pull/9185" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9185</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1479471180' id='511858'>
<a class='timestamp' href='#511858'><time timestamp='2016-11-18T12:13:00Z'>12:13</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj opened pull request #9186: test: Fix use-after-free in scheduler tests (master...2016_11_scheduler_fix) <a href="https://github.com/bitcoin/bitcoin/pull/9186" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9186</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1479483480' id='511859'>
<a class='timestamp' href='#511859'><time timestamp='2016-11-18T15:38:00Z'>15:38</time></a>
&lt;<span class='nick nick-6'> btcdrak</span>&gt;
ping wumpus
<br>
</div>

<div class='talk op-msg' data-timestamp='1479485160' id='511860'>
<a class='timestamp' href='#511860'><time timestamp='2016-11-18T16:06:00Z'>16:06</time></a>
&lt;<span class='nick nick-11'> jl2012</span>&gt;
blocks mined by a real 0.13.1 comes with a witness commitment: <a href="https://www.blocktrail.com/BTC/tx/86eb9975fae041df063f7ac0a94847883243704a7d20fb7726ba14239895a129" class="link" target="_blank">https://www.blocktrail.com/BTC/tx/86eb9975fae041df063f7ac0a94847883243704a7d20fb7726ba14239895a129</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1479485220' id='511861'>
<a class='timestamp' href='#511861'><time timestamp='2016-11-18T16:07:00Z'>16:07</time></a>
&lt;<span class='nick nick-11'> jl2012</span>&gt;
which is not found in slush&#x27;s segwit blocks: <a href="https://www.blocktrail.com/BTC/tx/24dfb97c80d41e9dd153581b907c9270f8acd8509480e3bcde22684104d771c6" class="link" target="_blank">https://www.blocktrail.com/BTC/tx/24dfb97c80d41e9dd153581b907c9270f8acd8509480e3bcde22684104d771c6</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1479485280' id='511862'>
<a class='timestamp' href='#511862'><time timestamp='2016-11-18T16:08:00Z'>16:08</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jl2012: 0.13.1 only creates a commitment is there is a witness txn in the block, i believe
<br>
</div>

<div class='talk op-msg' data-timestamp='1479485280' id='511863'>
<a class='timestamp' href='#511863'><time timestamp='2016-11-18T16:08:00Z'>16:08</time></a>
&lt;<span class='nick nick-11'> jl2012</span>&gt;
but there are already 2 blocks, from different miners, come with witness commitment
<br>
</div>

<div class='talk op-msg' data-timestamp='1479485340' id='511864'>
<a class='timestamp' href='#511864'><time timestamp='2016-11-18T16:09:00Z'>16:09</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it depends on their own stack, and arguably before activation there should certaibly not be a commitment
<br>
</div>

<div class='talk op-msg' data-timestamp='1479485340' id='511865'>
<a class='timestamp' href='#511865'><time timestamp='2016-11-18T16:09:00Z'>16:09</time></a>
&lt;<span class='nick nick-11'> jl2012</span>&gt;
this one from an unknown miner: <a href="https://www.blocktrail.com/BTC/tx/c02b8e9c0321656a6ca429c3f38bed729b17347304aae9ce2b6454396621b1c1" class="link" target="_blank">https://www.blocktrail.com/BTC/tx/c02b8e9c0321656a6ca429c3f38bed729b17347304aae9ce2b6454396621b1c1</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1479485400' id='511866'>
<a class='timestamp' href='#511866'><time timestamp='2016-11-18T16:10:00Z'>16:10</time></a>
&lt;<span class='nick nick-11'> jl2012</span>&gt;
not from BTCC: <a href="https://www.blocktrail.com/BTC/tx/5030f76f6411733458fa60fb706a9b2e0e7a3affd535004339482c42ec0a83d6" class="link" target="_blank">https://www.blocktrail.com/BTC/tx/5030f76f6411733458fa60fb706a9b2e0e7a3affd535004339482c42ec0a83d6</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1479489180' id='511867'>
<a class='timestamp' href='#511867'><time timestamp='2016-11-18T17:13:00Z'>17:13</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
sipa: did i misunderstand your intention here? <a href="https://botbot.me/freenode/bitcoin-core-dev/2016-08-11/?msg=71172676&amp;page=4" class="link" target="_blank">https://botbot.me/freenode/bitcoin-core-dev/2016-08-11/?msg=71172676&amp;page=4</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1479489300' id='511868'>
<a class='timestamp' href='#511868'><time timestamp='2016-11-18T17:15:00Z'>17:15</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
jl2012: those are likely ckpool, which will insert whenever it sees the rule
<br>
</div>

<div class='talk op-msg' data-timestamp='1479489420' id='511869'>
<a class='timestamp' href='#511869'><time timestamp='2016-11-18T17:17:00Z'>17:17</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
cfields: you did not misunderstand it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1479489420' id='511870'>
<a class='timestamp' href='#511870'><time timestamp='2016-11-18T17:17:00Z'>17:17</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but it&#x27;s not what bitcoin core does
<br>
</div>

<div class='talk op-msg' data-timestamp='1479489480' id='511871'>
<a class='timestamp' href='#511871'><time timestamp='2016-11-18T17:18:00Z'>17:18</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
(which is irrelevant, as bitcoin core is not used for mining)
<br>
</div>

<div class='talk op-msg' data-timestamp='1479489480' id='511872'>
<a class='timestamp' href='#511872'><time timestamp='2016-11-18T17:18:00Z'>17:18</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
sipa: it inserts whenever it sees the rule. If it sees the rule and default_witness_commitment, it compares them to make sure that the computed value is sane
<br>
</div>

<div class='talk op-msg' data-timestamp='1479489540' id='511873'>
<a class='timestamp' href='#511873'><time timestamp='2016-11-18T17:19:00Z'>17:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
what is &#x27;it&#x27;?
<br>
</div>

<div class='talk op-msg' data-timestamp='1479489540' id='511874'>
<a class='timestamp' href='#511874'><time timestamp='2016-11-18T17:19:00Z'>17:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ah, ckpool
<br>
</div>

<div class='talk op-msg' data-timestamp='1479489600' id='511875'>
<a class='timestamp' href='#511875'><time timestamp='2016-11-18T17:20:00Z'>17:20</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
and cgminer, and the others I&#x27;ve done
<br>
</div>

<div class='talk op-msg' data-timestamp='1479489660' id='511876'>
<a class='timestamp' href='#511876'><time timestamp='2016-11-18T17:21:00Z'>17:21</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
For the simple stratum server, it only inserts default_witness_commitment if present
<br>
</div>

<div class='talk op-msg' data-timestamp='1479490020' id='511877'>
<a class='timestamp' href='#511877'><time timestamp='2016-11-18T17:27:00Z'>17:27</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
cfields: huh? I didnt read any comments you made as hostile? I think you needed sleep :p
<br>
</div>

<div class='talk op-msg' data-timestamp='1479490020' id='511878'>
<a class='timestamp' href='#511878'><time timestamp='2016-11-18T17:27:00Z'>17:27</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
BlueMatt: ok good
<br>
</div>

<div class='talk op-msg' data-timestamp='1479492720' id='511879'>
<a class='timestamp' href='#511879'><time timestamp='2016-11-18T18:12:00Z'>18:12</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
cfields: i wonder if we could have a model where CNetMessage or whatever it is, is a virtual class that has an interface to produce a message on the fly
<br>
</div>

<div class='talk op-msg' data-timestamp='1479492780' id='511880'>
<a class='timestamp' href='#511880'><time timestamp='2016-11-18T18:13:00Z'>18:13</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
cfields: which could be used to delay loading a block from disk until it&#x27;s actually going to be sent out through the network, for example
<br>
</div>

<div class='talk op-msg' data-timestamp='1479492780' id='511881'>
<a class='timestamp' href='#511881'><time timestamp='2016-11-18T18:13:00Z'>18:13</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
which could move the serialization of the checksum to the network thread as well
<br>
</div>

<div class='talk op-msg' data-timestamp='1479492840' id='511882'>
<a class='timestamp' href='#511882'><time timestamp='2016-11-18T18:14:00Z'>18:14</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ah, but the checksum is in front, so it can only be donr after fully serializing
<br>
</div>

<div class='talk op-msg' data-timestamp='1479493020' id='511883'>
<a class='timestamp' href='#511883'><time timestamp='2016-11-18T18:17:00Z'>18:17</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
sipa: the current approach just leaves padding upfront, so i don&#x27;t think that breaks anything?
<br>
</div>

<div class='talk op-msg' data-timestamp='1479493200' id='511884'>
<a class='timestamp' href='#511884'><time timestamp='2016-11-18T18:20:00Z'>18:20</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
i&#x27;m not sure what you mean by &quot;on-the-fly&quot;, though. You mean install a callback that triggers when a condition is met, then requests data to send out?
<br>
</div>

<div class='talk op-msg' data-timestamp='1479493320' id='511885'>
<a class='timestamp' href='#511885'><time timestamp='2016-11-18T18:22:00Z'>18:22</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
sipa: ah, i see. it just inserts a place-holder, and when that comes up for sending, it requests the actual data.
<br>
</div>

<div class='talk op-msg' data-timestamp='1479493560' id='511886'>
<a class='timestamp' href='#511886'><time timestamp='2016-11-18T18:26:00Z'>18:26</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
cfields: I wish we always inserted the commitment when segwit rule is enabled. Without it, we may find the commitments fail after activation... not the end of the world, but more potential for delays.
<br>
</div>

<div class='talk op-msg' data-timestamp='1479493620' id='511887'>
<a class='timestamp' href='#511887'><time timestamp='2016-11-18T18:27:00Z'>18:27</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
gmaxwell: agreed
<br>
</div>

<div class='talk op-msg' data-timestamp='1479493800' id='511888'>
<a class='timestamp' href='#511888'><time timestamp='2016-11-18T18:30:00Z'>18:30</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
it&#x27;d be helpful to setup a patched bitcoind that validates the commitments as though they were required, in the off-chance that we might notice a busted one before activation
<br>
</div>

<div class='talk op-msg' data-timestamp='1479493800' id='511889'>
<a class='timestamp' href='#511889'><time timestamp='2016-11-18T18:30:00Z'>18:30</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
i suppose it wouldn&#x27;t actually be checking that much, but better than nothing
<br>
</div>

<div class='talk op-msg' data-timestamp='1479495120' id='511890'>
<a class='timestamp' href='#511890'><time timestamp='2016-11-18T18:52:00Z'>18:52</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Well we&#x27;re due for a 0.13.2, we could put the commitment in by default when the rule is enabled.
<br>
</div>

<div class='talk op-msg' data-timestamp='1479496620' id='511891'>
<a class='timestamp' href='#511891'><time timestamp='2016-11-18T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] gmaxwell opened pull request #9188: Make orphan parent fetching ask for witnesses. (master...witness_the_orphans) <a href="https://github.com/bitcoin/bitcoin/pull/9188" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9188</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1479496680' id='511892'>
<a class='timestamp' href='#511892'><time timestamp='2016-11-18T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
cfields: maybe in bip151 the checksum should be at the end
<br>
</div>

<div class='talk op-msg' data-timestamp='1479496680' id='511893'>
<a class='timestamp' href='#511893'><time timestamp='2016-11-18T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
so it can be computee on the fly during sending
<br>
</div>

<div class='talk op-msg' data-timestamp='1479496740' id='511894'>
<a class='timestamp' href='#511894'><time timestamp='2016-11-18T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
sipa: ack
<br>
</div>

<div class='talk op-msg' data-timestamp='1479497040' id='511895'>
<a class='timestamp' href='#511895'><time timestamp='2016-11-18T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
gmaxwell: the commitment is inserted by the GBT client, not bitcoind
<br>
</div>

<div class='talk op-msg' data-timestamp='1479497460' id='511896'>
<a class='timestamp' href='#511896'><time timestamp='2016-11-18T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
luke-jr: we make a proposed commitment that the client can use in lieu of implementing consensus rules when they don&#x27;t need to (and thus won&#x27;t put in the attention to do it right)
<br>
</div>

<div class='talk op-msg' data-timestamp='1479497580' id='511897'>
<a class='timestamp' href='#511897'><time timestamp='2016-11-18T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
oh, I guess I didn&#x27;t realise that wasn&#x27;t unconditional
<br>
</div>

<div class='talk op-msg' data-timestamp='1479497580' id='511898'>
<a class='timestamp' href='#511898'><time timestamp='2016-11-18T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
for some reason it seems to be undocumented by any BIP. :( :(
<br>
</div>

<div class='talk op-msg' data-timestamp='1479497640' id='511899'>
<a class='timestamp' href='#511899'><time timestamp='2016-11-18T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
But nom, it only shows up when there are segwit txn right now. AFAIK.
<br>
</div>

<div class='talk op-msg' data-timestamp='1479497640' id='511900'>
<a class='timestamp' href='#511900'><time timestamp='2016-11-18T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
right, default_witness_commitment is only added when there is an witness tx in the block
<br>
</div>

<div class='talk op-msg' data-timestamp='1479497640' id='511901'>
<a class='timestamp' href='#511901'><time timestamp='2016-11-18T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
we can change that
<br>
</div>

<div class='talk op-msg' data-timestamp='1479497640' id='511902'>
<a class='timestamp' href='#511902'><time timestamp='2016-11-18T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
yes, it&#x27;s not in any BIP because it contradicts decentralised mining; it&#x27;s a bitcoind-specific extension, not a GBT standard
<br>
</div>

<div class='talk op-msg' data-timestamp='1479497760' id='511903'>
<a class='timestamp' href='#511903'><time timestamp='2016-11-18T19:36:00Z'>19:36</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it&#x27;ll be a bitcoind-specific extension that the whole ecosystem depends on, because doing it in the client is pointless
<br>
</div>

<div class='talk op-msg' data-timestamp='1479497760' id='511904'>
<a class='timestamp' href='#511904'><time timestamp='2016-11-18T19:36:00Z'>19:36</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
luke-jr: GBT as actually used contradicts decenteralized mining. We should fix decenteralized mining, not make a superficial stand that has a side effect of making the software more error prone.
<br>
</div>

<div class='talk op-msg' data-timestamp='1479497820' id='511905'>
<a class='timestamp' href='#511905'><time timestamp='2016-11-18T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Because if you ask someone who <u>_really_</u> doesn&#x27;t care about the extra flexiblity there to handle computing the commitments themselves, they&#x27;ll <u>_hate it_</u> and be more likely to not implement it at all or to do so and get it wrong.
<br>
</div>

<div class='talk op-msg' data-timestamp='1479497820' id='511906'>
<a class='timestamp' href='#511906'><time timestamp='2016-11-18T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Since they&#x27;re getting the cost, but no one benefits because the end result doesn&#x27;t improve mining decenteralization at all.
<br>
</div>

<div class='talk op-msg' data-timestamp='1479497880' id='511907'>
<a class='timestamp' href='#511907'><time timestamp='2016-11-18T19:38:00Z'>19:38</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
sipa: nobody uses it AFAIK
<br>
</div>

<div class='talk op-msg' data-timestamp='1479497940' id='511908'>
<a class='timestamp' href='#511908'><time timestamp='2016-11-18T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
luke-jr: everyone uses it
<br>
</div>

<div class='talk op-msg' data-timestamp='1479497940' id='511909'>
<a class='timestamp' href='#511909'><time timestamp='2016-11-18T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
cfields: right?
<br>
</div>

<div class='talk op-msg' data-timestamp='1479497940' id='511910'>
<a class='timestamp' href='#511910'><time timestamp='2016-11-18T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
gmaxwell: it&#x27;s not much more work than doing the txid merkle tree?
<br>
</div>

<div class='talk op-msg' data-timestamp='1479497940' id='511911'>
<a class='timestamp' href='#511911'><time timestamp='2016-11-18T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
sipa: yea, it&#x27;s upstreamed in several pools/miners now
<br>
</div>

<div class='talk op-msg' data-timestamp='1479498000' id='511912'>
<a class='timestamp' href='#511912'><time timestamp='2016-11-18T19:40:00Z'>19:40</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
cfields: ⁈
<br>
</div>

<div class='talk op-msg' data-timestamp='1479498000' id='511913'>
<a class='timestamp' href='#511913'><time timestamp='2016-11-18T19:40:00Z'>19:40</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
luke-jr: why redo the work when bitcoind already does it for you
<br>
</div>

<div class='talk op-msg' data-timestamp='1479498060' id='511914'>
<a class='timestamp' href='#511914'><time timestamp='2016-11-18T19:41:00Z'>19:41</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
luke-jr: the pools have enough things they could be breaking as-is. I don&#x27;t see why we should pile more on
<br>
</div>

<div class='talk op-msg' data-timestamp='1479498060' id='511915'>
<a class='timestamp' href='#511915'><time timestamp='2016-11-18T19:41:00Z'>19:41</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
luke-jr: It&#x27;s similar to the merkle tree, but it is completely pointless when the software doesn&#x27;t support changing the transaction set... and also not fast.
<br>
</div>

<div class='talk op-msg' data-timestamp='1479498120' id='511916'>
<a class='timestamp' href='#511916'><time timestamp='2016-11-18T19:42:00Z'>19:42</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
so why not just pass merkle branches in GBT too, if we&#x27;re just going to throw the towel?
<br>
</div>

<div class='talk op-msg' data-timestamp='1479498180' id='511917'>
<a class='timestamp' href='#511917'><time timestamp='2016-11-18T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
then we could have a BIP standard for centralised GBT that&#x27;s complete
<br>
</div>

<div class='talk op-msg' data-timestamp='1479498180' id='511918'>
<a class='timestamp' href='#511918'><time timestamp='2016-11-18T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
luke-jr: i think that is what we should do
<br>
</div>

<div class='talk op-msg' data-timestamp='1479498240' id='511919'>
<a class='timestamp' href='#511919'><time timestamp='2016-11-18T19:44:00Z'>19:44</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
not because i&#x27;m in favor of more centralization of mining, but because none of this matters at all
<br>
</div>

<div class='talk op-msg' data-timestamp='1479498240' id='511920'>
<a class='timestamp' href='#511920'><time timestamp='2016-11-18T19:44:00Z'>19:44</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
It isn&#x27;t necessarily centeralized though. e.g. phantomcircuit&#x27;s unreleased protocol work does that and yet it&#x27;s plausably much better for decenteralization than the deployment of GBT ever was in practice.
<br>
</div>

<div class='talk op-msg' data-timestamp='1479498240' id='511921'>
<a class='timestamp' href='#511921'><time timestamp='2016-11-18T19:44:00Z'>19:44</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
sipa: agreed..  there should at the very least be an option of doing it the easy simple way where bitcoind does all the hard work for you.
<br>
</div>

<div class='talk op-msg' data-timestamp='1479498300' id='511922'>
<a class='timestamp' href='#511922'><time timestamp='2016-11-18T19:45:00Z'>19:45</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
nothing is in a better position to do block composition than bitcoind... it has all the fee information, consensus rules, mempool data, ...
<br>
</div>

<div class='talk op-msg' data-timestamp='1479498300' id='511923'>
<a class='timestamp' href='#511923'><time timestamp='2016-11-18T19:45:00Z'>19:45</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
well, fee info is passed over GBT; but sure
<br>
</div>

<div class='talk op-msg' data-timestamp='1479498300' id='511924'>
<a class='timestamp' href='#511924'><time timestamp='2016-11-18T19:45:00Z'>19:45</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
if we want people to do their own composition, we should enable them to run bitcoind
<br>
</div>

<div class='talk op-msg' data-timestamp='1479498300' id='511925'>
<a class='timestamp' href='#511925'><time timestamp='2016-11-18T19:45:00Z'>19:45</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
not hope they&#x27;ll do the same thing in a layer on top
<br>
</div>

<div class='talk op-msg' data-timestamp='1479498360' id='511926'>
<a class='timestamp' href='#511926'><time timestamp='2016-11-18T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(phantomcircuits&#x27; work let you combine consensus from one source (e.g. your own bitcoind) with coinbase requests from another...)
<br>
</div>

<div class='talk op-msg' data-timestamp='1479498360' id='511927'>
<a class='timestamp' href='#511927'><time timestamp='2016-11-18T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
well to be honest, in an ideal world there would be nothing to differentiate transactions other than their fee/weight , so no reason at all to need your own tx selection
<br>
</div>

<div class='talk op-msg' data-timestamp='1479498360' id='511928'>
<a class='timestamp' href='#511928'><time timestamp='2016-11-18T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
so should I spend some time writing up a BIP for this? or is it just a low priority &quot;maybe someday&quot; thing?
<br>
</div>

<div class='talk op-msg' data-timestamp='1479498420' id='511929'>
<a class='timestamp' href='#511929'><time timestamp='2016-11-18T19:47:00Z'>19:47</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
luke-jr: i think we should first have a functional implementiation
<br>
</div>

<div class='talk op-msg' data-timestamp='1479498420' id='511930'>
<a class='timestamp' href='#511930'><time timestamp='2016-11-18T19:47:00Z'>19:47</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
morcos: disagree; but that may be all we end up having in practice perhaps
<br>
</div>

<div class='talk op-msg' data-timestamp='1479498420' id='511931'>
<a class='timestamp' href='#511931'><time timestamp='2016-11-18T19:47:00Z'>19:47</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
We&#x27;ve had too much BIP writing without any code at all lately. IMO. Actually implementing something grants a lot of insight into the construction.
<br>
</div>

<div class='talk op-msg' data-timestamp='1479498480' id='511932'>
<a class='timestamp' href='#511932'><time timestamp='2016-11-18T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
ok, but is there a desire to prioritise this?
<br>
</div>

<div class='talk op-msg' data-timestamp='1479498540' id='511933'>
<a class='timestamp' href='#511933'><time timestamp='2016-11-18T19:49:00Z'>19:49</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
luke-jr: in an ideal world, there exists no means for miners to even distinguish any properties of a transaction other than its size and fee... anything else is an avenue for censorship
<br>
</div>

<div class='talk op-msg' data-timestamp='1479498540' id='511934'>
<a class='timestamp' href='#511934'><time timestamp='2016-11-18T19:49:00Z'>19:49</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
luke-jr: i think the current situation with mining is pretty bad
<br>
</div>

<div class='talk op-msg' data-timestamp='1479498600' id='511935'>
<a class='timestamp' href='#511935'><time timestamp='2016-11-18T19:50:00Z'>19:50</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
There are other serious problems with mining, the total lack of authentication is a looming serious risk to the network.
<br>
</div>

<div class='talk op-msg' data-timestamp='1479498600' id='511936'>
<a class='timestamp' href='#511936'><time timestamp='2016-11-18T19:50:00Z'>19:50</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
indeed
<br>
</div>

<div class='talk op-msg' data-timestamp='1479498600' id='511937'>
<a class='timestamp' href='#511937'><time timestamp='2016-11-18T19:50:00Z'>19:50</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Which, if exploited, we&#x27;d be saying in hindsight we were foolish to not resolve more agressively.
<br>
</div>

<div class='talk op-msg' data-timestamp='1479498600' id='511938'>
<a class='timestamp' href='#511938'><time timestamp='2016-11-18T19:50:00Z'>19:50</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
&quot;hope is not a strategy&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1479498600' id='511939'>
<a class='timestamp' href='#511939'><time timestamp='2016-11-18T19:50:00Z'>19:50</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
luke-jr: i think this arose from the idea of having 0.13.2 always injecting segwit commitments if the rule is active. Hence, default_witness_commitment would always be available and we&#x27;d want it documented
<br>
</div>

<div class='talk op-msg' data-timestamp='1479498660' id='511940'>
<a class='timestamp' href='#511940'><time timestamp='2016-11-18T19:51:00Z'>19:51</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i guess we can output default_witness_commitment always whenever the client is segwit-ready?
<br>
</div>

<div class='talk op-msg' data-timestamp='1479498720' id='511941'>
<a class='timestamp' href='#511941'><time timestamp='2016-11-18T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I think we should.
<br>
</div>

<div class='talk op-msg' data-timestamp='1479498720' id='511942'>
<a class='timestamp' href='#511942'><time timestamp='2016-11-18T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
sipa: IMO that&#x27;s a &quot;just do it&quot; thing; should be simple and uncontroversial
<br>
</div>

<div class='talk op-msg' data-timestamp='1479498720' id='511943'>
<a class='timestamp' href='#511943'><time timestamp='2016-11-18T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
looks like maybe 2 lines of changed code
<br>
</div>

<div class='talk op-msg' data-timestamp='1479498780' id='511944'>
<a class='timestamp' href='#511944'><time timestamp='2016-11-18T19:53:00Z'>19:53</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Yes, would need to be release noted as there is some fringe risk of negative interaction with mining pool software.
<br>
</div>

<div class='talk op-msg' data-timestamp='1479498780' id='511945'>
<a class='timestamp' href='#511945'><time timestamp='2016-11-18T19:53:00Z'>19:53</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
But otherwise, I think it&#x27;s a no-brainer.
<br>
</div>

<div class='talk op-msg' data-timestamp='1479498960' id='511946'>
<a class='timestamp' href='#511946'><time timestamp='2016-11-18T19:56:00Z'>19:56</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
actually, this might not be as simple as I assumed
<br>
</div>

<div class='talk op-msg' data-timestamp='1479498960' id='511947'>
<a class='timestamp' href='#511947'><time timestamp='2016-11-18T19:56:00Z'>19:56</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
nm     
<br>
</div>

<div class='talk op-msg' data-timestamp='1479498960' id='511948'>
<a class='timestamp' href='#511948'><time timestamp='2016-11-18T19:56:00Z'>19:56</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
hah     
<br>
</div>

<div class='talk op-msg' data-timestamp='1479498960' id='511949'>
<a class='timestamp' href='#511949'><time timestamp='2016-11-18T19:56:00Z'>19:56</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
luke-jr: i&#x27;m on it, it&#x27;s easy
<br>
</div>

<div class='talk op-msg' data-timestamp='1479499020' id='511950'>
<a class='timestamp' href='#511950'><time timestamp='2016-11-18T19:57:00Z'>19:57</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
what&#x27;s the purpose of GetWitnessCommitmentIndex in GenerateCoinbaseCommitment?
<br>
</div>

<div class='talk op-msg' data-timestamp='1479499020' id='511951'>
<a class='timestamp' href='#511951'><time timestamp='2016-11-18T19:57:00Z'>19:57</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
sipa: ok
<br>
</div>

<div class='talk op-msg' data-timestamp='1479499020' id='511952'>
<a class='timestamp' href='#511952'><time timestamp='2016-11-18T19:57:00Z'>19:57</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
(that GetWitnessCommitmentIndex still looks pointless though?)
<br>
</div>

<div class='talk op-msg' data-timestamp='1479499080' id='511953'>
<a class='timestamp' href='#511953'><time timestamp='2016-11-18T19:58:00Z'>19:58</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
luke-jr: making sure there&#x27;s not one there already, i think?
<br>
</div>

<div class='talk op-msg' data-timestamp='1479499080' id='511954'>
<a class='timestamp' href='#511954'><time timestamp='2016-11-18T19:58:00Z'>19:58</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yup     
<br>
</div>

<div class='talk op-msg' data-timestamp='1479499080' id='511955'>
<a class='timestamp' href='#511955'><time timestamp='2016-11-18T19:58:00Z'>19:58</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
cfields: but there never would be, in the one place it&#x27;s called, no?
<br>
</div>

<div class='talk op-msg' data-timestamp='1479499140' id='511956'>
<a class='timestamp' href='#511956'><time timestamp='2016-11-18T19:59:00Z'>19:59</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
luke-jr: miner could&#x27;ve added it in
<br>
</div>

<div class='talk op-msg' data-timestamp='1479499140' id='511957'>
<a class='timestamp' href='#511957'><time timestamp='2016-11-18T19:59:00Z'>19:59</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
indeed
<br>
</div>

<div class='talk op-msg' data-timestamp='1479499200' id='511958'>
<a class='timestamp' href='#511958'><time timestamp='2016-11-18T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
cfields: it&#x27;s only called from CreateNewBlock
<br>
</div>

<div class='talk op-msg' data-timestamp='1479499200' id='511959'>
<a class='timestamp' href='#511959'><time timestamp='2016-11-18T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
which is before the miner gets it
<br>
</div>

<div class='talk op-msg' data-timestamp='1479499260' id='511960'>
<a class='timestamp' href='#511960'><time timestamp='2016-11-18T20:01:00Z'>20:01</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
(I had assumed it was being used for the miner&#x27;s submitted block as well, which would pose a risk to invalidating submissions without a commitment, but that doesn&#x27;t appear to be the case)
<br>
</div>

<div class='talk op-msg' data-timestamp='1479499380' id='511961'>
<a class='timestamp' href='#511961'><time timestamp='2016-11-18T20:03:00Z'>20:03</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
luke-jr: dunno, maybe it was added before the mining side was fleshed out
<br>
</div>

<div class='talk op-msg' data-timestamp='1479499440' id='511962'>
<a class='timestamp' href='#511962'><time timestamp='2016-11-18T20:04:00Z'>20:04</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
probably
<br>
</div>

<div class='talk op-msg' data-timestamp='1479499500' id='511963'>
<a class='timestamp' href='#511963'><time timestamp='2016-11-18T20:05:00Z'>20:05</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i believe so, yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1479499560' id='511964'>
<a class='timestamp' href='#511964'><time timestamp='2016-11-18T20:06:00Z'>20:06</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
maybe it should be removed if it&#x27;s dead code (in master, not 0.13.2)
<br>
</div>

<div class='talk op-msg' data-timestamp='1479500580' id='511965'>
<a class='timestamp' href='#511965'><time timestamp='2016-11-18T20:23:00Z'>20:23</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] sipa opened pull request #9189: Always add default_witness_commitment with GBT client support (master...alwayscommit) <a href="https://github.com/bitcoin/bitcoin/pull/9189" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9189</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1479500640' id='511966'>
<a class='timestamp' href='#511966'><time timestamp='2016-11-18T20:24:00Z'>20:24</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
^ i ran the rpc tests and unit tests, but i haven&#x27;t tested the behaviour
<br>
</div>

<div class='talk op-msg' data-timestamp='1479500880' id='511967'>
<a class='timestamp' href='#511967'><time timestamp='2016-11-18T20:28:00Z'>20:28</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
sipa: I don&#x27;t think you need the additional check in GBT itself
<br>
</div>

<div class='talk op-msg' data-timestamp='1479500880' id='511968'>
<a class='timestamp' href='#511968'><time timestamp='2016-11-18T20:28:00Z'>20:28</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
if segwit is active, we fail earlier on if the client doesn&#x27;t support it
<br>
</div>

<div class='talk op-msg' data-timestamp='1479500880' id='511969'>
<a class='timestamp' href='#511969'><time timestamp='2016-11-18T20:28:00Z'>20:28</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
luke-jr: yes, but there&#x27;s no point producing a default_witness_commitment when the client doesn&#x27;t understand it
<br>
</div>

<div class='talk op-msg' data-timestamp='1479500940' id='511970'>
<a class='timestamp' href='#511970'><time timestamp='2016-11-18T20:29:00Z'>20:29</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i guess it doesn&#x27;t really matter
<br>
</div>

<div class='talk op-msg' data-timestamp='1479500940' id='511971'>
<a class='timestamp' href='#511971'><time timestamp='2016-11-18T20:29:00Z'>20:29</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
there shouldn&#x27;t be a commitment if the network doesn&#x27;t have segwit active either, right?
<br>
</div>

<div class='talk op-msg' data-timestamp='1479500940' id='511972'>
<a class='timestamp' href='#511972'><time timestamp='2016-11-18T20:29:00Z'>20:29</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
the intent here is that there would be, whenever the client and the server support it
<br>
</div>

<div class='talk op-msg' data-timestamp='1479501000' id='511973'>
<a class='timestamp' href='#511973'><time timestamp='2016-11-18T20:30:00Z'>20:30</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
as it&#x27;s a very nice end-to-end consistency check
<br>
</div>

<div class='talk op-msg' data-timestamp='1479501000' id='511974'>
<a class='timestamp' href='#511974'><time timestamp='2016-11-18T20:30:00Z'>20:30</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
to see that their entire stack works correctly
<br>
</div>

<div class='talk op-msg' data-timestamp='1479501060' id='511975'>
<a class='timestamp' href='#511975'><time timestamp='2016-11-18T20:31:00Z'>20:31</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
IMO it would be broken to insert a commitment (regardless of whether it&#x27;s calculated) in a block without segwit being active on the network
<br>
</div>

<div class='talk op-msg' data-timestamp='1479501060' id='511976'>
<a class='timestamp' href='#511976'><time timestamp='2016-11-18T20:31:00Z'>20:31</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
arguably, it&#x27;s just a weird OP_RETURN output in that case, and not actually a commitment
<br>
</div>

<div class='talk op-msg' data-timestamp='1479501060' id='511977'>
<a class='timestamp' href='#511977'><time timestamp='2016-11-18T20:31:00Z'>20:31</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
luke-jr: it&#x27;s scary to count on all miners working 100% after activation
<br>
</div>

<div class='talk op-msg' data-timestamp='1479501120' id='511978'>
<a class='timestamp' href='#511978'><time timestamp='2016-11-18T20:32:00Z'>20:32</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
at least this way we get to see if someone thinks they should be ready but is horribly broken
<br>
</div>

<div class='talk op-msg' data-timestamp='1479501120' id='511979'>
<a class='timestamp' href='#511979'><time timestamp='2016-11-18T20:32:00Z'>20:32</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
if they add a commitment without &quot;segwit&quot; in &quot;rules&quot;, there are already not working.
<br>
</div>

<div class='talk op-msg' data-timestamp='1479501120' id='511980'>
<a class='timestamp' href='#511980'><time timestamp='2016-11-18T20:32:00Z'>20:32</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
(since the only way they&#x27;d insert is if they&#x27;re signaling that they&#x27;re ready)
<br>
</div>

<div class='talk op-msg' data-timestamp='1479501120' id='511981'>
<a class='timestamp' href='#511981'><time timestamp='2016-11-18T20:32:00Z'>20:32</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
s/there/they/
<br>
</div>

<div class='talk op-msg' data-timestamp='1479501180' id='511982'>
<a class='timestamp' href='#511982'><time timestamp='2016-11-18T20:33:00Z'>20:33</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
luke-jr: I disagree strongly. There is nothing wrong with a commitment that has no effect, and this means that the risk of a &quot;hard cut&quot; activation is reduced.
<br>
</div>

<div class='talk op-msg' data-timestamp='1479501180' id='511983'>
<a class='timestamp' href='#511983'><time timestamp='2016-11-18T20:33:00Z'>20:33</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Since if someone is producing broken commitments there is an oppturnity to go nag them to fix them, before the rule is enforced.
<br>
</div>

<div class='talk op-msg' data-timestamp='1479501180' id='511984'>
<a class='timestamp' href='#511984'><time timestamp='2016-11-18T20:33:00Z'>20:33</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I do think that there shouldn&#x27;t be a commitment unless they have segwit in the rules, however.
<br>
</div>

<div class='talk op-msg' data-timestamp='1479501240' id='511985'>
<a class='timestamp' href='#511985'><time timestamp='2016-11-18T20:34:00Z'>20:34</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: well if they don&#x27;t support bip145, they will just ignore default_witness_commitment
<br>
</div>

<div class='talk op-msg' data-timestamp='1479501240' id='511986'>
<a class='timestamp' href='#511986'><time timestamp='2016-11-18T20:34:00Z'>20:34</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
sipa: even if they DO support BIP 145, they will ignore it..
<br>
</div>

<div class='talk op-msg' data-timestamp='1479501240' id='511987'>
<a class='timestamp' href='#511987'><time timestamp='2016-11-18T20:34:00Z'>20:34</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
yes, but you might do something with the commitment but fail to realize that you need to send the rules. I guess it wouldn&#x27;t be that bad an outcome: you&#x27;d just fail to mine segwit txn.
<br>
</div>

<div class='talk op-msg' data-timestamp='1479501240' id='511988'>
<a class='timestamp' href='#511988'><time timestamp='2016-11-18T20:34:00Z'>20:34</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
because &quot;segwit&quot; won&#x27;t be in &quot;rules&quot; until it activates
<br>
</div>

<div class='talk op-msg' data-timestamp='1479501240' id='511989'>
<a class='timestamp' href='#511989'><time timestamp='2016-11-18T20:34:00Z'>20:34</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
luke-jr: i&#x27;d say they are allowed to ignore it
<br>
</div>

<div class='talk op-msg' data-timestamp='1479501300' id='511990'>
<a class='timestamp' href='#511990'><time timestamp='2016-11-18T20:35:00Z'>20:35</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
yea, they&#x27;re allowed to ignore it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1479501300' id='511991'>
<a class='timestamp' href='#511991'><time timestamp='2016-11-18T20:35:00Z'>20:35</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but they don&#x27;t have to... there is nothing wrong with adding a commitment ahead of time
<br>
</div>

<div class='talk op-msg' data-timestamp='1479501300' id='511992'>
<a class='timestamp' href='#511992'><time timestamp='2016-11-18T20:35:00Z'>20:35</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Though I think it would be a good risk reduction if they didn&#x27;t.
<br>
</div>

<div class='talk op-msg' data-timestamp='1479501360' id='511993'>
<a class='timestamp' href='#511993'><time timestamp='2016-11-18T20:36:00Z'>20:36</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
I can&#x27;t think of any downsides.
<br>
</div>

<div class='talk op-msg' data-timestamp='1479501360' id='511994'>
<a class='timestamp' href='#511994'><time timestamp='2016-11-18T20:36:00Z'>20:36</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
(to including it prematurely)
<br>
</div>

<div class='talk op-msg' data-timestamp='1479501420' id='511995'>
<a class='timestamp' href='#511995'><time timestamp='2016-11-18T20:37:00Z'>20:37</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
i suppose we have enough padding to ensure it doesn&#x27;t push us over max size?
<br>
</div>

<div class='talk op-msg' data-timestamp='1479501420' id='511996'>
<a class='timestamp' href='#511996'><time timestamp='2016-11-18T20:37:00Z'>20:37</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
cfields: ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1479501420' id='511997'>
<a class='timestamp' href='#511997'><time timestamp='2016-11-18T20:37:00Z'>20:37</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
cfields: if we have enough padding post activation, we certainly have enough before
<br>
</div>

<div class='talk op-msg' data-timestamp='1479501480' id='511998'>
<a class='timestamp' href='#511998'><time timestamp='2016-11-18T20:38:00Z'>20:38</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
block size padding is 1000 bytes. whether that&#x27;s enough depends on the client
<br>
</div>

<div class='talk op-msg' data-timestamp='1479501480' id='511999'>
<a class='timestamp' href='#511999'><time timestamp='2016-11-18T20:38:00Z'>20:38</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
which is why Eloipool will modify the template in some circumstances I guess
<br>
</div>

<div class='talk op-msg' data-timestamp='1479501480' id='512000'>
<a class='timestamp' href='#512000'><time timestamp='2016-11-18T20:38:00Z'>20:38</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
sipa: i suppose that was a vague question aimed at both sides of activation
<br>
</div>

<div class='talk op-msg' data-timestamp='1479501480' id='512001'>
<a class='timestamp' href='#512001'><time timestamp='2016-11-18T20:38:00Z'>20:38</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
ok     
<br>
</div>

<div class='talk op-msg' data-timestamp='1479501540' id='512002'>
<a class='timestamp' href='#512002'><time timestamp='2016-11-18T20:39:00Z'>20:39</time></a>
&lt;<span class='nick nick-13'> meownow_</span>&gt;
anyone seen julian assange?
<br>
</div>

<div class='talk op-msg' data-timestamp='1479501540' id='512003'>
<a class='timestamp' href='#512003'><time timestamp='2016-11-18T20:39:00Z'>20:39</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
luke-jr: refresh my memory, can the GBT client request a smaller template (e.g. because it knows its coinbase will be bigger)? 
<br>
</div>

<div class='talk op-msg' data-timestamp='1479501540' id='512004'>
<a class='timestamp' href='#512004'><time timestamp='2016-11-18T20:39:00Z'>20:39</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: not afaik
<br>
</div>

<div class='talk op-msg' data-timestamp='1479501600' id='512005'>
<a class='timestamp' href='#512005'><time timestamp='2016-11-18T20:40:00Z'>20:40</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
meownow_: off topic
<br>
</div>

<div class='talk op-msg' data-timestamp='1479501600' id='512006'>
<a class='timestamp' href='#512006'><time timestamp='2016-11-18T20:40:00Z'>20:40</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
that should really be added.
<br>
</div>

<div class='talk op-msg' data-timestamp='1479501600' id='512007'>
<a class='timestamp' href='#512007'><time timestamp='2016-11-18T20:40:00Z'>20:40</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
gmaxwell: no, I don&#x27;t think so. (either way, bitcoind doesn&#x27;t support it)
<br>
</div>

<div class='talk op-msg' data-timestamp='1479501600' id='512008'>
<a class='timestamp' href='#512008'><time timestamp='2016-11-18T20:40:00Z'>20:40</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
probably
<br>
</div>

<div class='talk op-msg' data-timestamp='1479501660' id='512009'>
<a class='timestamp' href='#512009'><time timestamp='2016-11-18T20:41:00Z'>20:41</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
maybe &quot;sizelimit&quot; as a request param, to override -blockmaxsize?
<br>
</div>

<div class='talk op-msg' data-timestamp='1479501660' id='512010'>
<a class='timestamp' href='#512010'><time timestamp='2016-11-18T20:41:00Z'>20:41</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
(and &quot;weightlimit&quot; the same)
<br>
</div>

<div class='talk op-msg' data-timestamp='1479501660' id='512011'>
<a class='timestamp' href='#512011'><time timestamp='2016-11-18T20:41:00Z'>20:41</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
or a parameter to communicate the coinbase size?
<br>
</div>

<div class='talk op-msg' data-timestamp='1479501660' id='512012'>
<a class='timestamp' href='#512012'><time timestamp='2016-11-18T20:41:00Z'>20:41</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
so the limit can still be set in bitcoind
<br>
</div>

<div class='talk op-msg' data-timestamp='1479501720' id='512013'>
<a class='timestamp' href='#512013'><time timestamp='2016-11-18T20:42:00Z'>20:42</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
hmm     
<br>
</div>

<div class='talk op-msg' data-timestamp='1479501720' id='512014'>
<a class='timestamp' href='#512014'><time timestamp='2016-11-18T20:42:00Z'>20:42</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
yea, coinbase size seems better.
<br>
</div>

<div class='talk op-msg' data-timestamp='1479501720' id='512015'>
<a class='timestamp' href='#512015'><time timestamp='2016-11-18T20:42:00Z'>20:42</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
harder to screw up at least.
<br>
</div>

<div class='talk op-msg' data-timestamp='1479501720' id='512016'>
<a class='timestamp' href='#512016'><time timestamp='2016-11-18T20:42:00Z'>20:42</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
yes, the client in theory might not know the network max
<br>
</div>

<div class='talk op-msg' data-timestamp='1479501780' id='512017'>
<a class='timestamp' href='#512017'><time timestamp='2016-11-18T20:43:00Z'>20:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
the client in theory <u>_shouldn&#x27;t_</u> need to know the network max 
<br>
</div>

<div class='talk op-msg' data-timestamp='1479501780' id='512018'>
<a class='timestamp' href='#512018'><time timestamp='2016-11-18T20:43:00Z'>20:43</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
&quot;gentxsize&quot; in the request then?
<br>
</div>

<div class='talk op-msg' data-timestamp='1479501780' id='512019'>
<a class='timestamp' href='#512019'><time timestamp='2016-11-18T20:43:00Z'>20:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
(though gbt pretty much forces the client to know consensus rule)
<br>
</div>

<div class='talk op-msg' data-timestamp='1479501780' id='512020'>
<a class='timestamp' href='#512020'><time timestamp='2016-11-18T20:43:00Z'>20:43</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
sipa: GBT provides the client with it, but only after the request
<br>
</div>

<div class='talk op-msg' data-timestamp='1479501780' id='512021'>
<a class='timestamp' href='#512021'><time timestamp='2016-11-18T20:43:00Z'>20:43</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
weight, not size
<br>
</div>

<div class='talk op-msg' data-timestamp='1479501780' id='512022'>
<a class='timestamp' href='#512022'><time timestamp='2016-11-18T20:43:00Z'>20:43</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
sdaftuar: same thing basically in this case
<br>
</div>

<div class='talk op-msg' data-timestamp='1479501780' id='512023'>
<a class='timestamp' href='#512023'><time timestamp='2016-11-18T20:43:00Z'>20:43</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
yes, but confusing
<br>
</div>

<div class='talk op-msg' data-timestamp='1479501840' id='512024'>
<a class='timestamp' href='#512024'><time timestamp='2016-11-18T20:44:00Z'>20:44</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
I&#x27;d find it less confusing to provide as size <b>*shrug*</b>
<br>
</div>

<div class='talk op-msg' data-timestamp='1479501900' id='512025'>
<a class='timestamp' href='#512025'><time timestamp='2016-11-18T20:45:00Z'>20:45</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
cbmaxweight  &quot;construct a template assuming that the coinbase transaction will have a weight no greater than x&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1479505320' id='512026'>
<a class='timestamp' href='#512026'><time timestamp='2016-11-18T21:42:00Z'>21:42</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
BlueMatt: so what&#x27;s the next PR for the moveonly ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1479513540' id='512027'>
<a class='timestamp' href='#512027'><time timestamp='2016-11-18T23:59:00Z'>23:59</time></a>
&lt;<span class='nick nick-16'> Lightsword</span>&gt;
what’s the best way to compile 0.13.1 on debian 7? apparently doesn’t have full c++11 support
<br>
</div>

</div>
</section>

</body>
</html>
