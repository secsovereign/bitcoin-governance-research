<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2015-11-30
 â€” 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2015-11-30' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:27 UTC</pre>
<pre><a href="/bitcoin-core-dev/2015-10-30">&lt;</a><span class='header'>  November 2015   </span><a href="/bitcoin-core-dev/2015-12-30">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A; <a class="" href="/bitcoin-core-dev/2015-11-01">1</a>  <a class="" href="/bitcoin-core-dev/2015-11-02">2</a>  <a class="" href="/bitcoin-core-dev/2015-11-03">3</a>  <a class="" href="/bitcoin-core-dev/2015-11-04">4</a>  <a class="" href="/bitcoin-core-dev/2015-11-05">5</a>  <a class="" href="/bitcoin-core-dev/2015-11-06">6</a>  <a class="" href="/bitcoin-core-dev/2015-11-07">7</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2015-11-08">8</a>  <a class="" href="/bitcoin-core-dev/2015-11-09">9</a> <a class="" href="/bitcoin-core-dev/2015-11-10">10</a> <a class="" href="/bitcoin-core-dev/2015-11-11">11</a> <a class="" href="/bitcoin-core-dev/2015-11-12">12</a> <a class="" href="/bitcoin-core-dev/2015-11-13">13</a> <a class="" href="/bitcoin-core-dev/2015-11-14">14</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2015-11-15">15</a> <a class="" href="/bitcoin-core-dev/2015-11-16">16</a> <a class="" href="/bitcoin-core-dev/2015-11-17">17</a> <a class="" href="/bitcoin-core-dev/2015-11-18">18</a> <a class="" href="/bitcoin-core-dev/2015-11-19">19</a> <a class="" href="/bitcoin-core-dev/2015-11-20">20</a> <a class="" href="/bitcoin-core-dev/2015-11-21">21</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2015-11-22">22</a> <a class="" href="/bitcoin-core-dev/2015-11-23">23</a> <a class="" href="/bitcoin-core-dev/2015-11-24">24</a> <a class="" href="/bitcoin-core-dev/2015-11-25">25</a> <a class="" href="/bitcoin-core-dev/2015-11-26">26</a> <a class="" href="/bitcoin-core-dev/2015-11-27">27</a> <a class="" href="/bitcoin-core-dev/2015-11-28">28</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2015-11-29">29</a> <a class="current" href="/bitcoin-core-dev/2015-11-30">30</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1448842920' id='441302'>
<a class='timestamp' href='#441302'><time timestamp='2015-11-30T00:22:00Z'>00:22</time></a>
&lt;<span class='nick nick-8'> andytoshi</span>&gt;
does fundmany support a way to restrict the input set to only sufficiently confirmed outputs?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448842920' id='441303'>
<a class='timestamp' href='#441303'><time timestamp='2015-11-30T00:22:00Z'>00:22</time></a>
&lt;<span class='nick nick-8'> andytoshi</span>&gt;
if i submit a PR to add this functionality (haven&#x27;t scoped this out, idk if it&#x27;s easy) would it be supported?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448843040' id='441304'>
<a class='timestamp' href='#441304'><time timestamp='2015-11-30T00:24:00Z'>00:24</time></a>
&lt;<span class='nick nick-8'> andytoshi</span>&gt;
err, fundrawtransaction
<br>
</div>

<div class='talk op-msg' data-timestamp='1448843700' id='441305'>
<a class='timestamp' href='#441305'><time timestamp='2015-11-30T00:35:00Z'>00:35</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
andytoshi: it uses the normal selection logic:  only mature inputs unless they&#x27;re from yourself.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448843760' id='441306'>
<a class='timestamp' href='#441306'><time timestamp='2015-11-30T00:36:00Z'>00:36</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
you can globally disable -spendzeroconfchange=0 or so
<br>
</div>

<div class='talk op-msg' data-timestamp='1448843760' id='441307'>
<a class='timestamp' href='#441307'><time timestamp='2015-11-30T00:36:00Z'>00:36</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
then only &gt;=1 conf, unless it still can&#x27;t be successful, then unconfirmed, unless -spendzeroconfchange=0
<br>
</div>

<div class='talk op-msg' data-timestamp='1448844000' id='441308'>
<a class='timestamp' href='#441308'><time timestamp='2015-11-30T00:40:00Z'>00:40</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it first tries only 6 confirms; if that doesn&#x27;t work it tries 1 confirm; if that does work and spednzeroconfchange is set it tries 0 confirmed change and 1 confirms for all the rest
<br>
</div>

<div class='talk op-msg' data-timestamp='1448844360' id='441309'>
<a class='timestamp' href='#441309'><time timestamp='2015-11-30T00:46:00Z'>00:46</time></a>
&lt;<span class='nick nick-8'> andytoshi</span>&gt;
sipa: gmaxwell: elements alpha uses this RPC to fund withdrawwatch transactions, which basically means the functionary policy is set by CAre
<br>
</div>

<div class='talk op-msg' data-timestamp='1448844360' id='441310'>
<a class='timestamp' href='#441310'><time timestamp='2015-11-30T00:46:00Z'>00:46</time></a>
&lt;<span class='nick nick-8'> andytoshi</span>&gt;
Core
<br>
</div>

<div class='talk op-msg' data-timestamp='1448844420' id='441311'>
<a class='timestamp' href='#441311'><time timestamp='2015-11-30T00:47:00Z'>00:47</time></a>
&lt;<span class='nick nick-8'> andytoshi</span>&gt;
well, in this specific are
<br>
</div>

<div class='talk op-msg' data-timestamp='1448844420' id='441312'>
<a class='timestamp' href='#441312'><time timestamp='2015-11-30T00:47:00Z'>00:47</time></a>
&lt;<span class='nick nick-8'> andytoshi</span>&gt;
area
<br>
</div>

<div class='talk op-msg' data-timestamp='1448844420' id='441313'>
<a class='timestamp' href='#441313'><time timestamp='2015-11-30T00:47:00Z'>00:47</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
andytoshi: good thing bitcoin core uses a reasonable policy :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1448844420' id='441314'>
<a class='timestamp' href='#441314'><time timestamp='2015-11-30T00:47:00Z'>00:47</time></a>
&lt;<span class='nick nick-8'> andytoshi</span>&gt;
hehe : )
<br>
</div>

<div class='talk op-msg' data-timestamp='1448862000' id='441315'>
<a class='timestamp' href='#441315'><time timestamp='2015-11-30T05:40:00Z'>05:40</time></a>
&lt;<span class='nick nick-3'> dgenr8</span>&gt;
s/optimal/incentive-aligned/... relay policy can&#x27;t be thought of as an optimization problem, too many independent actors involved.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448862000' id='441316'>
<a class='timestamp' href='#441316'><time timestamp='2015-11-30T05:40:00Z'>05:40</time></a>
&lt;<span class='nick nick-3'> dgenr8</span>&gt;
Child-alone-pays-for-all-ancestors is simple and incentive-aligned. It should work for CNB too, though it may miss edge case opportunities.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448870100' id='441317'>
<a class='timestamp' href='#441317'><time timestamp='2015-11-30T07:55:00Z'>07:55</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Just so people aren&#x27;t caught surprised, the addtion of Opt-in RBF to Bitcoin Core has inspired a seemingly organized misinformation campaign that has been spiraling all over the place. I&#x27;ve been maintaining a FAQ on reddit: <a href="https://www.reddit.com/r/Bitcoin/comments/3urm8o/optin_rbf_is_misunderstood_ask_questions_about_it/" class="link" target="_blank">https://www.reddit.com/r/Bitcoin/comments/3urm8o/optin_rbf_is_misunderstood_ask_questions_about_it/</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1448871300' id='441318'>
<a class='timestamp' href='#441318'><time timestamp='2015-11-30T08:15:00Z'>08:15</time></a>
&lt;<span class='nick nick-6'> GitHub198</span>&gt;
[bitcoin] jonasschnelli pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/c28d3937b095...fa93174a7c06" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/c28d3937b095...fa93174a7c06</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1448871300' id='441319'>
<a class='timestamp' href='#441319'><time timestamp='2015-11-30T08:15:00Z'>08:15</time></a>
&lt;<span class='nick nick-6'> GitHub198</span>&gt;
bitcoin/master a6cbc02 Luke Dashjr: Bugfix: Default -uiplatform is not actually the platform this build was compiled on
<br>
</div>

<div class='talk op-msg' data-timestamp='1448871300' id='441320'>
<a class='timestamp' href='#441320'><time timestamp='2015-11-30T08:15:00Z'>08:15</time></a>
&lt;<span class='nick nick-6'> GitHub198</span>&gt;
bitcoin/master fa93174 Jonas Schnelli: Merge pull request #7127...
<br>
</div>

<div class='talk op-msg' data-timestamp='1448871300' id='441321'>
<a class='timestamp' href='#441321'><time timestamp='2015-11-30T08:15:00Z'>08:15</time></a>
&lt;<span class='nick nick-14'> GitHub118</span>&gt;
[bitcoin] jonasschnelli closed pull request #7127: Bugfix: Default -uiplatform is not actually the platform this build was compiled on (master...bugfix_uiplatform) <a href="https://github.com/bitcoin/bitcoin/pull/7127" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/7127</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1448875740' id='441322'>
<a class='timestamp' href='#441322'><time timestamp='2015-11-30T09:29:00Z'>09:29</time></a>
&lt;<span class='nick nick-13'> jouke</span>&gt;
gmaxwell: you are a hero for doing that. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1448876040' id='441323'>
<a class='timestamp' href='#441323'><time timestamp='2015-11-30T09:34:00Z'>09:34</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
gmaxwell: yes thanks for doing that and providing some sanity in the always-hysterical reddit
<br>
</div>

<div class='talk op-msg' data-timestamp='1448876520' id='441324'>
<a class='timestamp' href='#441324'><time timestamp='2015-11-30T09:42:00Z'>09:42</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Thank you both for the thanks.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448877180' id='441325'>
<a class='timestamp' href='#441325'><time timestamp='2015-11-30T09:53:00Z'>09:53</time></a>
&lt;<span class='nick nick-6'> btcdrak</span>&gt;
gmaxwell: yeah thanks from me too. I cant stress this enough though, I think you should start a blog or something. You could just use Github pages if you didnt want anything fancy. I fear so much of your writings just get buried.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448877600' id='441326'>
<a class='timestamp' href='#441326'><time timestamp='2015-11-30T10:00:00Z'>10:00</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sipa: vHashes seems to be and object of &quot;if (!fInitialDownload) {&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1448877600' id='441327'>
<a class='timestamp' href='#441327'><time timestamp='2015-11-30T10:00:00Z'>10:00</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
not sure if i can expand the vHashes into the fInitialDownload region.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448877900' id='441328'>
<a class='timestamp' href='#441328'><time timestamp='2015-11-30T10:05:00Z'>10:05</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
gmaxwell: this is another example of how something only gains interest as soon as it is merged. RBF discussions have been going on for as long bitcoin exists, and still they manage to pose it as if this is something new and controversial instead of the compromise of years of argument
<br>
</div>

<div class='talk op-msg' data-timestamp='1448877960' id='441329'>
<a class='timestamp' href='#441329'><time timestamp='2015-11-30T10:06:00Z'>10:06</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
If anyone picks up responding at all there, it&#x27;s best whenever a new question is asked in a comment to break it out and answer it top level, instead of getting in a debate in the comments.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448878020' id='441330'>
<a class='timestamp' href='#441330'><time timestamp='2015-11-30T10:07:00Z'>10:07</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
wumpus: I think in this case the PR got a lot of attention first; and most on the noise now was started by an intentional effort to mislead people; there were huge numbers of threads (dozens) created by brand new accounts all repeating the same common misinformation.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448878020' id='441331'>
<a class='timestamp' href='#441331'><time timestamp='2015-11-30T10:07:00Z'>10:07</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
btcdrak: yes, summarizing/copying these things to a blog for future reference would be very useful
<br>
</div>

<div class='talk op-msg' data-timestamp='1448878080' id='441332'>
<a class='timestamp' href='#441332'><time timestamp='2015-11-30T10:08:00Z'>10:08</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
That it totally breaks zero conf, that it is something being done by blockstream, etc. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1448878080' id='441333'>
<a class='timestamp' href='#441333'><time timestamp='2015-11-30T10:08:00Z'>10:08</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
So I think poor Opt-in RBF is just being made a proxy in someone&#x27;s battle for something else. :(
<br>
</div>

<div class='talk op-msg' data-timestamp='1448878080' id='441334'>
<a class='timestamp' href='#441334'><time timestamp='2015-11-30T10:08:00Z'>10:08</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
btcdrak: the reddit format is good for interaction, but not for e.g. linking or referencing
<br>
</div>

<div class='talk op-msg' data-timestamp='1448878080' id='441335'>
<a class='timestamp' href='#441335'><time timestamp='2015-11-30T10:08:00Z'>10:08</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
petertodd: sorry. :(
<br>
</div>

<div class='talk op-msg' data-timestamp='1448878140' id='441336'>
<a class='timestamp' href='#441336'><time timestamp='2015-11-30T10:09:00Z'>10:09</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
gmaxwell: but I mean everyone has those worries and those have been considered from the very start
<br>
</div>

<div class='talk op-msg' data-timestamp='1448878140' id='441337'>
<a class='timestamp' href='#441337'><time timestamp='2015-11-30T10:09:00Z'>10:09</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
with the <u>_complete_</u> lack of complaint (even from the expected parties, hell dgenr8 ACKed) on the PR, I was not anticipating this. :(
<br>
</div>

<div class='talk op-msg' data-timestamp='1448878140' id='441338'>
<a class='timestamp' href='#441338'><time timestamp='2015-11-30T10:09:00Z'>10:09</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
gmaxwell: some people suddenly awake &#x27;oh no! zero-conf&#x27;.. if zero conf was not a concern the first iteration would have been merged
<br>
</div>

<div class='talk op-msg' data-timestamp='1448878140' id='441339'>
<a class='timestamp' href='#441339'><time timestamp='2015-11-30T10:09:00Z'>10:09</time></a>
&lt;<span class='nick nick-6'> btcdrak</span>&gt;
wumpus: Let&#x27;s be honest here. Trouble makers are just waiting for topics that are easy to misunderstand and potentially emotive for general public, so they can jump on it and willfully misrepresent it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448878140' id='441340'>
<a class='timestamp' href='#441340'><time timestamp='2015-11-30T10:09:00Z'>10:09</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
btcdrak: sure, that&#x27;s true, it&#x27;s kind of an attack I suppose
<br>
</div>

<div class='talk op-msg' data-timestamp='1448878200' id='441341'>
<a class='timestamp' href='#441341'><time timestamp='2015-11-30T10:10:00Z'>10:10</time></a>
&lt;<span class='nick nick-6'> btcdrak</span>&gt;
wumpus: also think about the timing. they want to drum up as much negative attention going into the conference as possible because this is literally their last stand.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448878200' id='441342'>
<a class='timestamp' href='#441342'><time timestamp='2015-11-30T10:10:00Z'>10:10</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I think we haven&#x27;t been really loud enough about zero conf not being a supported feature, its sort of shocking to hear people&#x27;s expectations. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1448878200' id='441343'>
<a class='timestamp' href='#441343'><time timestamp='2015-11-30T10:10:00Z'>10:10</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
people feeling like they need to raise a rabble about everything because they&#x27;re suuch an anarchist
<br>
</div>

<div class='talk op-msg' data-timestamp='1448878260' id='441344'>
<a class='timestamp' href='#441344'><time timestamp='2015-11-30T10:11:00Z'>10:11</time></a>
&lt;<span class='nick nick-3'> tulip</span>&gt;
zero confirmation transactions are sort of unfortunate because there&#x27;s no clean line of breakage, no matter how broken anybody can describe it, there&#x27;s always a secret sauce solution which will &quot;fix&quot; it. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1448878260' id='441345'>
<a class='timestamp' href='#441345'><time timestamp='2015-11-30T10:11:00Z'>10:11</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
gmaxwell: well WE have been loud enough about that
<br>
</div>

<div class='talk op-msg' data-timestamp='1448878320' id='441346'>
<a class='timestamp' href='#441346'><time timestamp='2015-11-30T10:12:00Z'>10:12</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it&#x27;s just that no one really listens, unless there is a controversy
<br>
</div>

<div class='talk op-msg' data-timestamp='1448878320' id='441347'>
<a class='timestamp' href='#441347'><time timestamp='2015-11-30T10:12:00Z'>10:12</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
(or perceived controversy)
<br>
</div>

<div class='talk op-msg' data-timestamp='1448878320' id='441348'>
<a class='timestamp' href='#441348'><time timestamp='2015-11-30T10:12:00Z'>10:12</time></a>
&lt;<span class='nick nick-6'> btcdrak</span>&gt;
gmaxwell: I thoroughly agree with you. In fact, we sort of need a PR side to act as a communication bridge with the general public. The weekly IRC meetings have been really well received, but because they are posted on social media they get buried. This is why I discussed with harding to make a new section on bitcoin.org so we can collate these kind of
<br>
</div>

<div class='talk op-msg' data-timestamp='1448878320' id='441349'>
<a class='timestamp' href='#441349'><time timestamp='2015-11-30T10:12:00Z'>10:12</time></a>
&lt;<span class='nick nick-6'> btcdrak</span>&gt;
things.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448878320' id='441350'>
<a class='timestamp' href='#441350'><time timestamp='2015-11-30T10:12:00Z'>10:12</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
tulip: yep
<br>
</div>

<div class='talk op-msg' data-timestamp='1448878320' id='441351'>
<a class='timestamp' href='#441351'><time timestamp='2015-11-30T10:12:00Z'>10:12</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
tulip: &quot;Homeopathic confirmation.&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1448878320' id='441352'>
<a class='timestamp' href='#441352'><time timestamp='2015-11-30T10:12:00Z'>10:12</time></a>
&lt;<span class='nick nick-6'> btcdrak</span>&gt;
gmaxwell: LOL
<br>
</div>

<div class='talk op-msg' data-timestamp='1448878380' id='441353'>
<a class='timestamp' href='#441353'><time timestamp='2015-11-30T10:13:00Z'>10:13</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
gmaxwell: that&#x27;s a good comparison
<br>
</div>

<div class='talk op-msg' data-timestamp='1448878440' id='441354'>
<a class='timestamp' href='#441354'><time timestamp='2015-11-30T10:14:00Z'>10:14</time></a>
&lt;<span class='nick nick-6'> btcdrak</span>&gt;
gmaxwell: if only we could get homeopathic theory to work for us, the more the message gets diluted and agitated the more powerful it becomes. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1448878440' id='441355'>
<a class='timestamp' href='#441355'><time timestamp='2015-11-30T10:14:00Z'>10:14</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
The problem is that the reasons that it doesn&#x27;t provide the security people think it does are really unintutive to people; and so they stick to easy and wrong naratives instead. E.g. thinking that we&#x27;re overobessing about perfect security, or saying that they can&#x27;t use it in places where there is external trust or recourse, where they obviously have; or the latest because blockstream is behind i
<br>
</div>

<div class='talk op-msg' data-timestamp='1448878440' id='441356'>
<a class='timestamp' href='#441356'><time timestamp='2015-11-30T10:14:00Z'>10:14</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
t (muhaha).
<br>
</div>

<div class='talk op-msg' data-timestamp='1448878500' id='441357'>
<a class='timestamp' href='#441357'><time timestamp='2015-11-30T10:15:00Z'>10:15</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
And so you get this duality where people who grock distributed systems and security reasoning &quot;Get It&quot;; and keep posting &quot;don&#x27;t do it!&quot; -- while everyone else tells themselves but it&#x27;s fine and pats each other on the back about how smart they are. :(
<br>
</div>

<div class='talk op-msg' data-timestamp='1448878560' id='441358'>
<a class='timestamp' href='#441358'><time timestamp='2015-11-30T10:16:00Z'>10:16</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
we can&#x27;t save everyone; but its irritating if it gets in the way of progress.  They&#x27;re also attacking my mempool p2p message limiting PR,  :( 
<br>
</div>

<div class='talk op-msg' data-timestamp='1448878620' id='441359'>
<a class='timestamp' href='#441359'><time timestamp='2015-11-30T10:17:00Z'>10:17</time></a>
&lt;<span class='nick nick-7'> randy-waterhouse</span>&gt;
more and more mainstream, layman derpiness, afraid it might only keep tending that way
<br>
</div>

<div class='talk op-msg' data-timestamp='1448878620' id='441360'>
<a class='timestamp' href='#441360'><time timestamp='2015-11-30T10:17:00Z'>10:17</time></a>
&lt;<span class='nick nick-6'> btcdrak</span>&gt;
but like seriously gmaxwell please please collate your writings somewhere static. Better to cover a topic in your blog then paste it into reddit as replies. general consensus is your posts are extremely informative.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448878680' id='441361'>
<a class='timestamp' href='#441361'><time timestamp='2015-11-30T10:18:00Z'>10:18</time></a>
&lt;<span class='nick nick-5'> jgarzik</span>&gt;
gmaxwell, Trying to help a bit, <a href="https://twitter.com/jgarzik/status/671271910634889216" class="link" target="_blank">https://twitter.com/jgarzik/status/671271910634889216</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1448878680' id='441362'>
<a class='timestamp' href='#441362'><time timestamp='2015-11-30T10:18:00Z'>10:18</time></a>
&lt;<span class='nick nick-5'> jgarzik</span>&gt;
gmaxwell, +1 to btcdrak&#x27;s comment
<br>
</div>

<div class='talk op-msg' data-timestamp='1448878860' id='441363'>
<a class='timestamp' href='#441363'><time timestamp='2015-11-30T10:21:00Z'>10:21</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
gmaxwell: jonasschnelli: #7112 #7037 both move the uiInterface.NotifyBlockTip
<br>
</div>

<div class='talk op-msg' data-timestamp='1448878860' id='441364'>
<a class='timestamp' href='#441364'><time timestamp='2015-11-30T10:21:00Z'>10:21</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
who should win? :p
<br>
</div>

<div class='talk op-msg' data-timestamp='1448878920' id='441365'>
<a class='timestamp' href='#441365'><time timestamp='2015-11-30T10:22:00Z'>10:22</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
maybe blocknotify should be made seperate? :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1448878980' id='441366'>
<a class='timestamp' href='#441366'><time timestamp='2015-11-30T10:23:00Z'>10:23</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
7112 looks like it would make it get processed even later. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1448878980' id='441367'>
<a class='timestamp' href='#441367'><time timestamp='2015-11-30T10:23:00Z'>10:23</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(I say with a 10 second glance)
<br>
</div>

<div class='talk op-msg' data-timestamp='1448878980' id='441368'>
<a class='timestamp' href='#441368'><time timestamp='2015-11-30T10:23:00Z'>10:23</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
gmaxwell: and should include the notification for zmq
<br>
</div>

<div class='talk op-msg' data-timestamp='1448878980' id='441369'>
<a class='timestamp' href='#441369'><time timestamp='2015-11-30T10:23:00Z'>10:23</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
gmaxwell: no, I&#x27;d say otherwise
<br>
</div>

<div class='talk op-msg' data-timestamp='1448878980' id='441370'>
<a class='timestamp' href='#441370'><time timestamp='2015-11-30T10:23:00Z'>10:23</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
gmaxwell: the WALLET notification needs to be separte
<br>
</div>

<div class='talk op-msg' data-timestamp='1448879040' id='441371'>
<a class='timestamp' href='#441371'><time timestamp='2015-11-30T10:24:00Z'>10:24</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
gmaxwell: all the others, the GUI, ZMQ, blocknotify all take very short
<br>
</div>

<div class='talk op-msg' data-timestamp='1448879040' id='441372'>
<a class='timestamp' href='#441372'><time timestamp='2015-11-30T10:24:00Z'>10:24</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Makes sense.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448879040' id='441373'>
<a class='timestamp' href='#441373'><time timestamp='2015-11-30T10:24:00Z'>10:24</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it&#x27;s the wallet that is the problem and should probably get its own signal
<br>
</div>

<div class='talk op-msg' data-timestamp='1448879040' id='441374'>
<a class='timestamp' href='#441374'><time timestamp='2015-11-30T10:24:00Z'>10:24</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
&#x27;delayedBlockTipNotify&#x27; :p
<br>
</div>

<div class='talk op-msg' data-timestamp='1448879040' id='441375'>
<a class='timestamp' href='#441375'><time timestamp='2015-11-30T10:24:00Z'>10:24</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jonasschnelli: let me look
<br>
</div>

<div class='talk op-msg' data-timestamp='1448879100' id='441376'>
<a class='timestamp' href='#441376'><time timestamp='2015-11-30T10:25:00Z'>10:25</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
ideally the wallet would also only notify a processing thread instead of doing heavy work in the notification, but that&#x27;s for later
<br>
</div>

<div class='talk op-msg' data-timestamp='1448879160' id='441377'>
<a class='timestamp' href='#441377'><time timestamp='2015-11-30T10:26:00Z'>10:26</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
gmaxwell: wumpus: i think #7037 is included in #7112
<br>
</div>

<div class='talk op-msg' data-timestamp='1448879160' id='441378'>
<a class='timestamp' href='#441378'><time timestamp='2015-11-30T10:26:00Z'>10:26</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
but at least all the well-behaved clients should get a first stab at the signal
<br>
</div>

<div class='talk op-msg' data-timestamp='1448879160' id='441379'>
<a class='timestamp' href='#441379'><time timestamp='2015-11-30T10:26:00Z'>10:26</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
jonasschnelli: no; #7037 moves the GUI notification earlier, you move it later
<br>
</div>

<div class='talk op-msg' data-timestamp='1448879220' id='441380'>
<a class='timestamp' href='#441380'><time timestamp='2015-11-30T10:27:00Z'>10:27</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Argh.. yes. Right.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448879220' id='441381'>
<a class='timestamp' href='#441381'><time timestamp='2015-11-30T10:27:00Z'>10:27</time></a>
&lt;<span class='nick nick-5'> jgarzik</span>&gt;
separate signal was always the plan...
<br>
</div>

<div class='talk op-msg' data-timestamp='1448879220' id='441382'>
<a class='timestamp' href='#441382'><time timestamp='2015-11-30T10:27:00Z'>10:27</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
jonasschnelli: could you live with moving it to the beginning?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448879220' id='441383'>
<a class='timestamp' href='#441383'><time timestamp='2015-11-30T10:27:00Z'>10:27</time></a>
&lt;<span class='nick nick-5'> jgarzik</span>&gt;
for wallet
<br>
</div>

<div class='talk op-msg' data-timestamp='1448879280' id='441384'>
<a class='timestamp' href='#441384'><time timestamp='2015-11-30T10:28:00Z'>10:28</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
jonasschnelli: (move the UI notification <b>*before*</b> notifying the wallet etc)
<br>
</div>

<div class='talk op-msg' data-timestamp='1448879280' id='441385'>
<a class='timestamp' href='#441385'><time timestamp='2015-11-30T10:28:00Z'>10:28</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
wumpus: just checking... yes. I think this would be okay.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448879280' id='441386'>
<a class='timestamp' href='#441386'><time timestamp='2015-11-30T10:28:00Z'>10:28</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jonasschnelli: you can use if (pindexFork != pindexNewTip) { ...}
<br>
</div>

<div class='talk op-msg' data-timestamp='1448879280' id='441387'>
<a class='timestamp' href='#441387'><time timestamp='2015-11-30T10:28:00Z'>10:28</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
jonasschnelli: ok, if you include that in your pull, we hit two flies with one stone
<br>
</div>

<div class='talk op-msg' data-timestamp='1448879340' id='441388'>
<a class='timestamp' href='#441388'><time timestamp='2015-11-30T10:29:00Z'>10:29</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sipa: okay. Will add the if
<br>
</div>

<div class='talk op-msg' data-timestamp='1448879580' id='441389'>
<a class='timestamp' href='#441389'><time timestamp='2015-11-30T10:33:00Z'>10:33</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jonasschnelli: in fact that whole notifications section can be skipped in that case
<br>
</div>

<div class='talk op-msg' data-timestamp='1448879640' id='441390'>
<a class='timestamp' href='#441390'><time timestamp='2015-11-30T10:34:00Z'>10:34</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell, jgarzik, wumpus: IMHO we should only have one signal, and different handlers that each run in their own thread can register
<br>
</div>

<div class='talk op-msg' data-timestamp='1448879640' id='441391'>
<a class='timestamp' href='#441391'><time timestamp='2015-11-30T10:34:00Z'>10:34</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
sipa: well all the handlers are well-behaved in that regard. except the wallet
<br>
</div>

<div class='talk op-msg' data-timestamp='1448879640' id='441392'>
<a class='timestamp' href='#441392'><time timestamp='2015-11-30T10:34:00Z'>10:34</time></a>
&lt;<span class='nick nick-5'> jgarzik</span>&gt;
sipa, For this specific situation you need cascading notifications and some additional parallelization in the wallet
<br>
</div>

<div class='talk op-msg' data-timestamp='1448879640' id='441393'>
<a class='timestamp' href='#441393'><time timestamp='2015-11-30T10:34:00Z'>10:34</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
UI handles things in their own thread, ZMQ is low-latency, blocknotify forks a thread, 
<br>
</div>

<div class='talk op-msg' data-timestamp='1448879700' id='441394'>
<a class='timestamp' href='#441394'><time timestamp='2015-11-30T10:35:00Z'>10:35</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
just the wallet does expensive work in the signal handler
<br>
</div>

<div class='talk op-msg' data-timestamp='1448879700' id='441395'>
<a class='timestamp' href='#441395'><time timestamp='2015-11-30T10:35:00Z'>10:35</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sipa: the change results in a ugly diff. But i think it makes sense: <a href="https://github.com/jonasschnelli/bitcoin/commit/9af5f9cb8773da2904aa3819234aaebd2efb5d15" class="link" target="_blank">https://github.com/jonasschnelli/bitcoin/commit/9af5f9cb8773da2904aa3819234aaebd2efb5d15</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1448879700' id='441396'>
<a class='timestamp' href='#441396'><time timestamp='2015-11-30T10:35:00Z'>10:35</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
so I agree we should have only one signal, but that means the wallet wil have to handle the notification differently first
<br>
</div>

<div class='talk op-msg' data-timestamp='1448879760' id='441397'>
<a class='timestamp' href='#441397'><time timestamp='2015-11-30T10:36:00Z'>10:36</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
the GetMainSignals().UpdatedBlockTip is unused by the wallet
<br>
</div>

<div class='talk op-msg' data-timestamp='1448879760' id='441398'>
<a class='timestamp' href='#441398'><time timestamp='2015-11-30T10:36:00Z'>10:36</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
it was added only for ZMQ IIRC
<br>
</div>

<div class='talk op-msg' data-timestamp='1448879760' id='441399'>
<a class='timestamp' href='#441399'><time timestamp='2015-11-30T10:36:00Z'>10:36</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sipa: if there is only one signal, then we must make sure all things that handle take no time.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448879760' id='441400'>
<a class='timestamp' href='#441400'><time timestamp='2015-11-30T10:36:00Z'>10:36</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jonasschnelli: pro tip: add ?w=1 after the url
<br>
</div>

<div class='talk op-msg' data-timestamp='1448879760' id='441401'>
<a class='timestamp' href='#441401'><time timestamp='2015-11-30T10:36:00Z'>10:36</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: yes, that&#x27;s the only sane design :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1448879760' id='441402'>
<a class='timestamp' href='#441402'><time timestamp='2015-11-30T10:36:00Z'>10:36</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sipa: Ah. Right. Much better...
<br>
</div>

<div class='talk op-msg' data-timestamp='1448879820' id='441403'>
<a class='timestamp' href='#441403'><time timestamp='2015-11-30T10:37:00Z'>10:37</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: not saying that&#x27;s viable now
<br>
</div>

<div class='talk op-msg' data-timestamp='1448879820' id='441404'>
<a class='timestamp' href='#441404'><time timestamp='2015-11-30T10:37:00Z'>10:37</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
right, we can&#x27;t block progress on the wallet getting fixed
<br>
</div>

<div class='talk op-msg' data-timestamp='1448879820' id='441405'>
<a class='timestamp' href='#441405'><time timestamp='2015-11-30T10:37:00Z'>10:37</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but yes, signal handlers should never do work and never block
<br>
</div>

<div class='talk op-msg' data-timestamp='1448879820' id='441406'>
<a class='timestamp' href='#441406'><time timestamp='2015-11-30T10:37:00Z'>10:37</time></a>
&lt;<span class='nick nick-5'> jgarzik</span>&gt;
That&#x27;s the standard signal processing ideal - do very little - just enough to trigger further processing - not blocking
<br>
</div>

<div class='talk op-msg' data-timestamp='1448879820' id='441407'>
<a class='timestamp' href='#441407'><time timestamp='2015-11-30T10:37:00Z'>10:37</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1448879820' id='441408'>
<a class='timestamp' href='#441408'><time timestamp='2015-11-30T10:37:00Z'>10:37</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
we all agree :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1448879940' id='441409'>
<a class='timestamp' href='#441409'><time timestamp='2015-11-30T10:39:00Z'>10:39</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
just have the signal handler all tasks into a queue and use separate threads for those :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1448879940' id='441410'>
<a class='timestamp' href='#441410'><time timestamp='2015-11-30T10:39:00Z'>10:39</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
CodeShark: some things do have time comstraints
<br>
</div>

<div class='talk op-msg' data-timestamp='1448880000' id='441411'>
<a class='timestamp' href='#441411'><time timestamp='2015-11-30T10:40:00Z'>10:40</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
But could we not eliminate uiInterface.NotifyBlockTip and use GetMainSignals().UpdatedBlockTip instead?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448880000' id='441412'>
<a class='timestamp' href='#441412'><time timestamp='2015-11-30T10:40:00Z'>10:40</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but indeed, that&#x27;s perfectly viable for a lot of thingfs
<br>
</div>

<div class='talk op-msg' data-timestamp='1448880000' id='441413'>
<a class='timestamp' href='#441413'><time timestamp='2015-11-30T10:40:00Z'>10:40</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Or would this be hard for the UI?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448880000' id='441414'>
<a class='timestamp' href='#441414'><time timestamp='2015-11-30T10:40:00Z'>10:40</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
CodeShark: all but one of the handlers already take (almost) no time, and do their own &quot;second half&quot; handling, it&#x27;s not necessary to use a solution like that globally
<br>
</div>

<div class='talk op-msg' data-timestamp='1448880000' id='441415'>
<a class='timestamp' href='#441415'><time timestamp='2015-11-30T10:40:00Z'>10:40</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jonasschnelli: imho yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1448880060' id='441416'>
<a class='timestamp' href='#441416'><time timestamp='2015-11-30T10:41:00Z'>10:41</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
But for the current PRs,... let&#x27;s keep the signal. Combine and remove can be done later.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448880060' id='441417'>
<a class='timestamp' href='#441417'><time timestamp='2015-11-30T10:41:00Z'>10:41</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
especially when it includes the initialsync bool
<br>
</div>

<div class='talk op-msg' data-timestamp='1448880060' id='441418'>
<a class='timestamp' href='#441418'><time timestamp='2015-11-30T10:41:00Z'>10:41</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
CodeShark: in the case of e.g. the GUI a message is already sent in a queue, so adding another queue to insert into the second queue would just add latency
<br>
</div>

<div class='talk op-msg' data-timestamp='1448880120' id='441419'>
<a class='timestamp' href='#441419'><time timestamp='2015-11-30T10:42:00Z'>10:42</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
yes, of course - Qt already has its own messaging system for that
<br>
</div>

<div class='talk op-msg' data-timestamp='1448880120' id='441420'>
<a class='timestamp' href='#441420'><time timestamp='2015-11-30T10:42:00Z'>10:42</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
also there is the problem of things blocking the dispatch thread then
<br>
</div>

<div class='talk op-msg' data-timestamp='1448880120' id='441421'>
<a class='timestamp' href='#441421'><time timestamp='2015-11-30T10:42:00Z'>10:42</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i wish we could set w=1 on github by default for c++ files
<br>
</div>

<div class='talk op-msg' data-timestamp='1448880120' id='441422'>
<a class='timestamp' href='#441422'><time timestamp='2015-11-30T10:42:00Z'>10:42</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
CodeShark: so does zmq, and so does blocknotify (which old-fashioned forks) :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1448880240' id='441423'>
<a class='timestamp' href='#441423'><time timestamp='2015-11-30T10:44:00Z'>10:44</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it&#x27;s just the wallet code that needs to do something smarter. Right now it is made sure that the wallet is always in sync with the chain, but this isn&#x27;t necessary, it could catch up in its own thread
<br>
</div>

<div class='talk op-msg' data-timestamp='1448880300' id='441424'>
<a class='timestamp' href='#441424'><time timestamp='2015-11-30T10:45:00Z'>10:45</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
it&#x27;s necessary for coin selection...but that&#x27;s about it
<br>
</div>

<div class='talk op-msg' data-timestamp='1448880300' id='441425'>
<a class='timestamp' href='#441425'><time timestamp='2015-11-30T10:45:00Z'>10:45</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
... coin selection?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448880360' id='441426'>
<a class='timestamp' href='#441426'><time timestamp='2015-11-30T10:46:00Z'>10:46</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
yes - selecting outputs to spend when creating a new transaction
<br>
</div>

<div class='talk op-msg' data-timestamp='1448880360' id='441427'>
<a class='timestamp' href='#441427'><time timestamp='2015-11-30T10:46:00Z'>10:46</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
there is no coin selection when updating the tip i hope!
<br>
</div>

<div class='talk op-msg' data-timestamp='1448880360' id='441428'>
<a class='timestamp' href='#441428'><time timestamp='2015-11-30T10:46:00Z'>10:46</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
well, it&#x27;s not necessary if you only use coins that are sufficiently buried
<br>
</div>

<div class='talk op-msg' data-timestamp='1448880360' id='441429'>
<a class='timestamp' href='#441429'><time timestamp='2015-11-30T10:46:00Z'>10:46</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
we&#x27;re talking about milliseconds difference
<br>
</div>

<div class='talk op-msg' data-timestamp='1448880360' id='441430'>
<a class='timestamp' href='#441430'><time timestamp='2015-11-30T10:46:00Z'>10:46</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
blocks already propagate in the order of seconds
<br>
</div>

<div class='talk op-msg' data-timestamp='1448880420' id='441431'>
<a class='timestamp' href='#441431'><time timestamp='2015-11-30T10:47:00Z'>10:47</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
you really don&#x27;t need to inform the wallet within miliseconds
<br>
</div>

<div class='talk op-msg' data-timestamp='1448880420' id='441432'>
<a class='timestamp' href='#441432'><time timestamp='2015-11-30T10:47:00Z'>10:47</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
well obviously you don&#x27;t want the wallet to be many blocks behind, that&#x27;d also mess with fee computation
<br>
</div>

<div class='talk op-msg' data-timestamp='1448880420' id='441433'>
<a class='timestamp' href='#441433'><time timestamp='2015-11-30T10:47:00Z'>10:47</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
obviously
<br>
</div>

<div class='talk op-msg' data-timestamp='1448880420' id='441434'>
<a class='timestamp' href='#441434'><time timestamp='2015-11-30T10:47:00Z'>10:47</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
but that&#x27;s not what we&#x27;re considering here
<br>
</div>

<div class='talk op-msg' data-timestamp='1448880420' id='441435'>
<a class='timestamp' href='#441435'><time timestamp='2015-11-30T10:47:00Z'>10:47</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but async does not mean it has to lag behind
<br>
</div>

<div class='talk op-msg' data-timestamp='1448880480' id='441436'>
<a class='timestamp' href='#441436'><time timestamp='2015-11-30T10:48:00Z'>10:48</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
sure, I agree
<br>
</div>

<div class='talk op-msg' data-timestamp='1448880480' id='441437'>
<a class='timestamp' href='#441437'><time timestamp='2015-11-30T10:48:00Z'>10:48</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
just that main can continue before the wallet is done handling things
<br>
</div>

<div class='talk op-msg' data-timestamp='1448880480' id='441438'>
<a class='timestamp' href='#441438'><time timestamp='2015-11-30T10:48:00Z'>10:48</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
yes, for sure
<br>
</div>

<div class='talk op-msg' data-timestamp='1448880540' id='441439'>
<a class='timestamp' href='#441439'><time timestamp='2015-11-30T10:49:00Z'>10:49</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
could add a &#x27;catch up fence&#x27; before doing coin selection / sending a transaction
<br>
</div>

<div class='talk op-msg' data-timestamp='1448880540' id='441440'>
<a class='timestamp' href='#441440'><time timestamp='2015-11-30T10:49:00Z'>10:49</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sounds reasonable
<br>
</div>

<div class='talk op-msg' data-timestamp='1448880540' id='441441'>
<a class='timestamp' href='#441441'><time timestamp='2015-11-30T10:49:00Z'>10:49</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
but that&#x27;s mostly important if the wallet runs separately, e.g. if it can be stopped/started separately like monero&#x27;s
<br>
</div>

<div class='talk op-msg' data-timestamp='1448880540' id='441442'>
<a class='timestamp' href='#441442'><time timestamp='2015-11-30T10:49:00Z'>10:49</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
if it still runs in the same process it&#x27;ll never get out of sync much
<br>
</div>

<div class='talk op-msg' data-timestamp='1448880660' id='441443'>
<a class='timestamp' href='#441443'><time timestamp='2015-11-30T10:51:00Z'>10:51</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
in wizkids case, I don&#x27;t think the node with the low notify had a wallet (other than maybe 100 addresses that had never been paid)
<br>
</div>

<div class='talk op-msg' data-timestamp='1448880720' id='441444'>
<a class='timestamp' href='#441444'><time timestamp='2015-11-30T10:52:00Z'>10:52</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: i think i&#x27;m not fully understanding the problem there
<br>
</div>

<div class='talk op-msg' data-timestamp='1448880780' id='441445'>
<a class='timestamp' href='#441445'><time timestamp='2015-11-30T10:53:00Z'>10:53</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
right now we trigger blocknotify last, after sending to peers.  Wizkid noticed that rpc calls were often returning the new block before blocknotify fired, I suggested he move the notify up, he did. It was first every time.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448880780' id='441446'>
<a class='timestamp' href='#441446'><time timestamp='2015-11-30T10:53:00Z'>10:53</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
oh, right
<br>
</div>

<div class='talk op-msg' data-timestamp='1448880840' id='441447'>
<a class='timestamp' href='#441447'><time timestamp='2015-11-30T10:54:00Z'>10:54</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i&#x27;d say the right order is zmq,blocknotify,peers,wallet
<br>
</div>

<div class='talk op-msg' data-timestamp='1448880840' id='441448'>
<a class='timestamp' href='#441448'><time timestamp='2015-11-30T10:54:00Z'>10:54</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
hmm, but your notify may trigger wallet rpcs
<br>
</div>

<div class='talk op-msg' data-timestamp='1448880840' id='441449'>
<a class='timestamp' href='#441449'><time timestamp='2015-11-30T10:54:00Z'>10:54</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
wumpus: my stuff lets you do coin selection and create a transaction even if you&#x27;re not connected to a peer...and peer sync is entirely asynchronous and can be started and stopped independently...but it&#x27;s not very recommended that you try creating new transactions if you&#x27;re not fully synched
<br>
</div>

<div class='talk op-msg' data-timestamp='1448880900' id='441450'>
<a class='timestamp' href='#441450'><time timestamp='2015-11-30T10:55:00Z'>10:55</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
:)
<br>
</div>

<div class='talk op-msg' data-timestamp='1448880960' id='441451'>
<a class='timestamp' href='#441451'><time timestamp='2015-11-30T10:56:00Z'>10:56</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
I guess I could make it smarter with conflict resolution as it syncs
<br>
</div>

<div class='talk op-msg' data-timestamp='1448880960' id='441452'>
<a class='timestamp' href='#441452'><time timestamp='2015-11-30T10:56:00Z'>10:56</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
i.e. replace inputs with new ones as they are seen spent during sync
<br>
</div>

<div class='talk op-msg' data-timestamp='1448881020' id='441453'>
<a class='timestamp' href='#441453'><time timestamp='2015-11-30T10:57:00Z'>10:57</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
and require resigning
<br>
</div>

<div class='talk op-msg' data-timestamp='1448881080' id='441454'>
<a class='timestamp' href='#441454'><time timestamp='2015-11-30T10:58:00Z'>10:58</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
but meh...probably not worth the effort :p
<br>
</div>

<div class='talk op-msg' data-timestamp='1448881080' id='441455'>
<a class='timestamp' href='#441455'><time timestamp='2015-11-30T10:58:00Z'>10:58</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
...
<br>
</div>

<div class='talk op-msg' data-timestamp='1448881140' id='441456'>
<a class='timestamp' href='#441456'><time timestamp='2015-11-30T10:59:00Z'>10:59</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
bitcoin core&#x27;s wallet makes the explicit assumption that we&#x27;re the only one with the keys in this wallet.dat, they cannot be shared, so that should never happen
<br>
</div>

<div class='talk op-msg' data-timestamp='1448881140' id='441457'>
<a class='timestamp' href='#441457'><time timestamp='2015-11-30T10:59:00Z'>10:59</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
right...that too
<br>
</div>

<div class='talk op-msg' data-timestamp='1448881140' id='441458'>
<a class='timestamp' href='#441458'><time timestamp='2015-11-30T10:59:00Z'>10:59</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
so if blocknotify runs before the wallet update, then the notified script can issue a wallet rpc and miss the uodate
<br>
</div>

<div class='talk op-msg' data-timestamp='1448881140' id='441459'>
<a class='timestamp' href='#441459'><time timestamp='2015-11-30T10:59:00Z'>10:59</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
my stuff does not make that assumption at all
<br>
</div>

<div class='talk op-msg' data-timestamp='1448881200' id='441460'>
<a class='timestamp' href='#441460'><time timestamp='2015-11-30T11:00:00Z'>11:00</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
and in fact, for many typical use cases it would be very bad to make that assumption
<br>
</div>

<div class='talk op-msg' data-timestamp='1448881200' id='441461'>
<a class='timestamp' href='#441461'><time timestamp='2015-11-30T11:00:00Z'>11:00</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
CodeShark: this is bitcoin core dev
<br>
</div>

<div class='talk op-msg' data-timestamp='1448881260' id='441462'>
<a class='timestamp' href='#441462'><time timestamp='2015-11-30T11:01:00Z'>11:01</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
yes, just acknowledging the design feature
<br>
</div>

<div class='talk op-msg' data-timestamp='1448881260' id='441463'>
<a class='timestamp' href='#441463'><time timestamp='2015-11-30T11:01:00Z'>11:01</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i think it is completely reasonable that if you get informed about a new block, and as a result go query the wallet, you actually also see that update
<br>
</div>

<div class='talk op-msg' data-timestamp='1448881380' id='441464'>
<a class='timestamp' href='#441464'><time timestamp='2015-11-30T11:03:00Z'>11:03</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
so block all wallet calls during a tip update?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448881380' id='441465'>
<a class='timestamp' href='#441465'><time timestamp='2015-11-30T11:03:00Z'>11:03</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yuck
<br>
</div>

<div class='talk op-msg' data-timestamp='1448881440' id='441466'>
<a class='timestamp' href='#441466'><time timestamp='2015-11-30T11:04:00Z'>11:04</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
maybe the wallet should have its own notification for new blocks
<br>
</div>

<div class='talk op-msg' data-timestamp='1448881440' id='441467'>
<a class='timestamp' href='#441467'><time timestamp='2015-11-30T11:04:00Z'>11:04</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
wumpus: i was just thinking that...
<br>
</div>

<div class='talk op-msg' data-timestamp='1448881440' id='441468'>
<a class='timestamp' href='#441468'><time timestamp='2015-11-30T11:04:00Z'>11:04</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
&#x27;walletblockprocessed&#x27; or something like that
<br>
</div>

<div class='talk op-msg' data-timestamp='1448881500' id='441469'>
<a class='timestamp' href='#441469'><time timestamp='2015-11-30T11:05:00Z'>11:05</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
there&#x27;s a conceptual difference between &#x27;new block came in&#x27; and &#x27;new block processed by wallet&#x27;
<br>
</div>

<div class='talk op-msg' data-timestamp='1448881500' id='441470'>
<a class='timestamp' href='#441470'><time timestamp='2015-11-30T11:05:00Z'>11:05</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
or to remain backward compatible: add a -blockearlynotify
<br>
</div>

<div class='talk op-msg' data-timestamp='1448881560' id='441471'>
<a class='timestamp' href='#441471'><time timestamp='2015-11-30T11:06:00Z'>11:06</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
... and the same in zmq?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448881560' id='441472'>
<a class='timestamp' href='#441472'><time timestamp='2015-11-30T11:06:00Z'>11:06</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
or is zmq blocks only anyway already
<br>
</div>

<div class='talk op-msg' data-timestamp='1448881560' id='441473'>
<a class='timestamp' href='#441473'><time timestamp='2015-11-30T11:06:00Z'>11:06</time></a>
&lt;<span class='nick nick-3'> tulip</span>&gt;
zmq does transactions too
<br>
</div>

<div class='talk op-msg' data-timestamp='1448881560' id='441474'>
<a class='timestamp' href='#441474'><time timestamp='2015-11-30T11:06:00Z'>11:06</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
zmq should be completely decoupled from the wallet already
<br>
</div>

<div class='talk op-msg' data-timestamp='1448881560' id='441475'>
<a class='timestamp' href='#441475'><time timestamp='2015-11-30T11:06:00Z'>11:06</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it&#x27;s meant as a low-latency notification interface from the core, there is no wallet anything zmq
<br>
</div>

<div class='talk op-msg' data-timestamp='1448881620' id='441476'>
<a class='timestamp' href='#441476'><time timestamp='2015-11-30T11:07:00Z'>11:07</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
oh, it just notifies for all txn
<br>
</div>

<div class='talk op-msg' data-timestamp='1448881620' id='441477'>
<a class='timestamp' href='#441477'><time timestamp='2015-11-30T11:07:00Z'>11:07</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
if you subscribe?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448881620' id='441478'>
<a class='timestamp' href='#441478'><time timestamp='2015-11-30T11:07:00Z'>11:07</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1448881620' id='441479'>
<a class='timestamp' href='#441479'><time timestamp='2015-11-30T11:07:00Z'>11:07</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
so: zmq,blockearlynotify,peers,wallet,blocknotify
<br>
</div>

<div class='talk op-msg' data-timestamp='1448881680' id='441480'>
<a class='timestamp' href='#441480'><time timestamp='2015-11-30T11:08:00Z'>11:08</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
ui should be notified as early as possible too
<br>
</div>

<div class='talk op-msg' data-timestamp='1448881680' id='441481'>
<a class='timestamp' href='#441481'><time timestamp='2015-11-30T11:08:00Z'>11:08</time></a>
&lt;<span class='nick nick-3'> tulip</span>&gt;
either transaction hashes or transaction binaries depending what you subscribe to. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1448881740' id='441482'>
<a class='timestamp' href='#441482'><time timestamp='2015-11-30T11:09:00Z'>11:09</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
ui&#x27;s notify just sends an async message to the UI thread to update the block counts etc, it does not make any assumptions about the wallet being updated or not
<br>
</div>

<div class='talk op-msg' data-timestamp='1448881740' id='441483'>
<a class='timestamp' href='#441483'><time timestamp='2015-11-30T11:09:00Z'>11:09</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ok
<br>
</div>

<div class='talk op-msg' data-timestamp='1448881800' id='441484'>
<a class='timestamp' href='#441484'><time timestamp='2015-11-30T11:10:00Z'>11:10</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
(there are CWallet signals that the UI subscribes to for wallet information, this is already handled properly)
<br>
</div>

<div class='talk op-msg' data-timestamp='1448882100' id='441485'>
<a class='timestamp' href='#441485'><time timestamp='2015-11-30T11:15:00Z'>11:15</time></a>
&lt;<span class='nick nick-4'> GitHub144</span>&gt;
[bitcoin] laanwj pushed 3 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/9ebedc1756e3...6fc287f2df54" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/9ebedc1756e3...6fc287f2df54</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1448882100' id='441486'>
<a class='timestamp' href='#441486'><time timestamp='2015-11-30T11:15:00Z'>11:15</time></a>
&lt;<span class='nick nick-4'> GitHub144</span>&gt;
bitcoin/master c6973ca MarcoFalke: [qa] keypool: Fix white space to prepare transition to test framework
<br>
</div>

<div class='talk op-msg' data-timestamp='1448882100' id='441487'>
<a class='timestamp' href='#441487'><time timestamp='2015-11-30T11:15:00Z'>11:15</time></a>
&lt;<span class='nick nick-4'> GitHub144</span>&gt;
bitcoin/master 4ea1790 MarcoFalke: [qa] keypool: DRY: Use test framework
<br>
</div>

<div class='talk op-msg' data-timestamp='1448882100' id='441488'>
<a class='timestamp' href='#441488'><time timestamp='2015-11-30T11:15:00Z'>11:15</time></a>
&lt;<span class='nick nick-4'> GitHub144</span>&gt;
bitcoin/master 6fc287f Wladimir J. van der Laan: Merge pull request #7027...
<br>
</div>

<div class='talk op-msg' data-timestamp='1448882100' id='441489'>
<a class='timestamp' href='#441489'><time timestamp='2015-11-30T11:15:00Z'>11:15</time></a>
&lt;<span class='nick nick-9'> GitHub101</span>&gt;
[bitcoin] laanwj closed pull request #7027: [qa] rpc-tests: Properly use test framework (master...MarcoFalke-2015-rpcTestCleanup) <a href="https://github.com/bitcoin/bitcoin/pull/7027" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/7027</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1448882280' id='441490'>
<a class='timestamp' href='#441490'><time timestamp='2015-11-30T11:18:00Z'>11:18</time></a>
&lt;<span class='nick nick-5'> GitHub24</span>&gt;
[bitcoin] laanwj pushed 3 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/6fc287f2df54...a7751824ce8a" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/6fc287f2df54...a7751824ce8a</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1448882280' id='441491'>
<a class='timestamp' href='#441491'><time timestamp='2015-11-30T11:18:00Z'>11:18</time></a>
&lt;<span class='nick nick-5'> GitHub24</span>&gt;
bitcoin/master 4b89f01 Ryan Havar: Default fPayAtLeastCustomFee to false...
<br>
</div>

<div class='talk op-msg' data-timestamp='1448882280' id='441492'>
<a class='timestamp' href='#441492'><time timestamp='2015-11-30T11:18:00Z'>11:18</time></a>
&lt;<span class='nick nick-5'> GitHub24</span>&gt;
bitcoin/master fa506c0 MarcoFalke: [wallet] Add rpc tests to verify fee calculations
<br>
</div>

<div class='talk op-msg' data-timestamp='1448882280' id='441493'>
<a class='timestamp' href='#441493'><time timestamp='2015-11-30T11:18:00Z'>11:18</time></a>
&lt;<span class='nick nick-5'> GitHub24</span>&gt;
bitcoin/master a775182 Wladimir J. van der Laan: Merge pull request #7103...
<br>
</div>

<div class='talk op-msg' data-timestamp='1448882280' id='441494'>
<a class='timestamp' href='#441494'><time timestamp='2015-11-30T11:18:00Z'>11:18</time></a>
&lt;<span class='nick nick-6'> GitHub124</span>&gt;
[bitcoin] laanwj closed pull request #7103: [wallet, rpc tests] Fix settxfee, paytxfee (master...FixSettxfee) <a href="https://github.com/bitcoin/bitcoin/pull/7103" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/7103</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1448883060' id='441495'>
<a class='timestamp' href='#441495'><time timestamp='2015-11-30T11:31:00Z'>11:31</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
imo needs more code review: Add pre-allocated vector type and use it for CScript #6914
<br>
</div>

<div class='talk op-msg' data-timestamp='1448883120' id='441496'>
<a class='timestamp' href='#441496'><time timestamp='2015-11-30T11:32:00Z'>11:32</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
(lots of concept ACK, but as this involves new data structures and pretty advanced c++, and affects consensus code, I think it needs more thorough review and testing)
<br>
</div>

<div class='talk op-msg' data-timestamp='1448883360' id='441497'>
<a class='timestamp' href='#441497'><time timestamp='2015-11-30T11:36:00Z'>11:36</time></a>
&lt;<span class='nick nick-16'> GitHub37</span>&gt;
[bitcoin] laanwj pushed 2 new commits to 0.11: <a href="https://github.com/bitcoin/bitcoin/compare/595c8d6301cf...5f09cda0bf4c" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/595c8d6301cf...5f09cda0bf4c</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1448883360' id='441498'>
<a class='timestamp' href='#441498'><time timestamp='2015-11-30T11:36:00Z'>11:36</time></a>
&lt;<span class='nick nick-16'> GitHub37</span>&gt;
bitcoin/0.11 7d0a05f Ryan Havar: Default fPayAtLeastCustomFee to false...
<br>
</div>

<div class='talk op-msg' data-timestamp='1448883360' id='441499'>
<a class='timestamp' href='#441499'><time timestamp='2015-11-30T11:36:00Z'>11:36</time></a>
&lt;<span class='nick nick-16'> GitHub37</span>&gt;
bitcoin/0.11 5f09cda MarcoFalke: [wallet] Add rpc tests to verify fee calculations...
<br>
</div>

<div class='talk op-msg' data-timestamp='1448883420' id='441500'>
<a class='timestamp' href='#441500'><time timestamp='2015-11-30T11:37:00Z'>11:37</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
more generally: please help moving anything with 0.12 milestone along <a href="https://github.com/bitcoin/bitcoin/pulls?q=is%3Aopen+is%3Apr+milestone%3A0.12.0" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pulls?q=is%3Aopen+is%3Apr+milestone%3A0.12.0</a>   deadline is tomorrow
<br>
</div>

<div class='talk op-msg' data-timestamp='1448883720' id='441501'>
<a class='timestamp' href='#441501'><time timestamp='2015-11-30T11:42:00Z'>11:42</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
wumpus: seems reasonable
<br>
</div>

<div class='talk op-msg' data-timestamp='1448883840' id='441502'>
<a class='timestamp' href='#441502'><time timestamp='2015-11-30T11:44:00Z'>11:44</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
wumpus: i think something like 7105 is needed now with mempool limiting, as we&#x27;ll otherwise automatically respend evicted inputs
<br>
</div>

<div class='talk op-msg' data-timestamp='1448883900' id='441503'>
<a class='timestamp' href='#441503'><time timestamp='2015-11-30T11:45:00Z'>11:45</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i&#x27;ll help rebasing pr&#x27;s tagged for 0.12 if that helps
<br>
</div>

<div class='talk op-msg' data-timestamp='1448884500' id='441504'>
<a class='timestamp' href='#441504'><time timestamp='2015-11-30T11:55:00Z'>11:55</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
sipa: agree
<br>
</div>

<div class='talk op-msg' data-timestamp='1448884860' id='441505'>
<a class='timestamp' href='#441505'><time timestamp='2015-11-30T12:01:00Z'>12:01</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I&#x27;m not sure about #6898 (Rewrite CreateNewBlock), if it has not been tested for mainnet mining yet it may be too risky to include in a release
<br>
</div>

<div class='talk op-msg' data-timestamp='1448885040' id='441506'>
<a class='timestamp' href='#441506'><time timestamp='2015-11-30T12:04:00Z'>12:04</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i understand the concern, but that&#x27;ll likely be the case for any such change; people won&#x27;t start using it before it&#x27;s considered stable...
<br>
</div>

<div class='talk op-msg' data-timestamp='1448885040' id='441507'>
<a class='timestamp' href='#441507'><time timestamp='2015-11-30T12:04:00Z'>12:04</time></a>
&lt;<span class='nick nick-12'> GitHub77</span>&gt;
[bitcoin] laanwj pushed 6 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/a7751824ce8a...96b802510da0" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/a7751824ce8a...96b802510da0</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1448885040' id='441508'>
<a class='timestamp' href='#441508'><time timestamp='2015-11-30T12:04:00Z'>12:04</time></a>
&lt;<span class='nick nick-12'> GitHub77</span>&gt;
bitcoin/master 012fc91 Jonas Schnelli: NotifyBlockTip signal: switch from hash (uint256) to CBlockIndex*...
<br>
</div>

<div class='talk op-msg' data-timestamp='1448885040' id='441509'>
<a class='timestamp' href='#441509'><time timestamp='2015-11-30T12:04:00Z'>12:04</time></a>
&lt;<span class='nick nick-12'> GitHub77</span>&gt;
bitcoin/master e6d50fc Jonas Schnelli: [Qt] update block tip (height and date) without locking cs_main, update always (each block)
<br>
</div>

<div class='talk op-msg' data-timestamp='1448885040' id='441510'>
<a class='timestamp' href='#441510'><time timestamp='2015-11-30T12:04:00Z'>12:04</time></a>
&lt;<span class='nick nick-12'> GitHub77</span>&gt;
bitcoin/master 947d20b Jonas Schnelli: [Qt] reduce cs_main in getVerificationProgress()
<br>
</div>

<div class='talk op-msg' data-timestamp='1448885040' id='441511'>
<a class='timestamp' href='#441511'><time timestamp='2015-11-30T12:04:00Z'>12:04</time></a>
&lt;<span class='nick nick-6'> GitHub88</span>&gt;
[bitcoin] laanwj closed pull request #7112: [Qt] reduce cs_main locks during tip update, more fluently update UI (master...2015/11/qt_tipupdate) <a href="https://github.com/bitcoin/bitcoin/pull/7112" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/7112</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1448885100' id='441512'>
<a class='timestamp' href='#441512'><time timestamp='2015-11-30T12:05:00Z'>12:05</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
sipa: but some people are mining with master, if it has been in master for a while before the release the concern is mostly gone
<br>
</div>

<div class='talk op-msg' data-timestamp='1448885100' id='441513'>
<a class='timestamp' href='#441513'><time timestamp='2015-11-30T12:05:00Z'>12:05</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
sipa: my problem is not with merging it, but with merging it one day before a release branch-off
<br>
</div>

<div class='talk op-msg' data-timestamp='1448885280' id='441514'>
<a class='timestamp' href='#441514'><time timestamp='2015-11-30T12:08:00Z'>12:08</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
understood; i think the benefits are worth it though. the code produces the same blocks as the old code modulo a few rounding error (says morcos), so i&#x27;m not too worried about it accidentally producing blocks that are totally off in terms of what we expect to be in there
<br>
</div>

<div class='talk op-msg' data-timestamp='1448885280' id='441515'>
<a class='timestamp' href='#441515'><time timestamp='2015-11-30T12:08:00Z'>12:08</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i will review the code again
<br>
</div>

<div class='talk op-msg' data-timestamp='1448885280' id='441516'>
<a class='timestamp' href='#441516'><time timestamp='2015-11-30T12:08:00Z'>12:08</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
what I want to avoid is a 0.12 release where we have to spend a lot of time mopping up issues introduced last-minute before the release, whereas master as it is now is good as a release already.  The goal shouldnt be to stash in everything last minute, at this point it&#x27;s important to consider the risk not just the benefits
<br>
</div>

<div class='talk op-msg' data-timestamp='1448886660' id='441517'>
<a class='timestamp' href='#441517'><time timestamp='2015-11-30T12:31:00Z'>12:31</time></a>
&lt;<span class='nick nick-14'> GitHub20</span>&gt;
[bitcoin] sipa opened pull request #7133: Replace setInventoryKnown with a rolling bloom filter (rebase of #7100) (master...known_bloom) <a href="https://github.com/bitcoin/bitcoin/pull/7133" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/7133</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1448887440' id='441518'>
<a class='timestamp' href='#441518'><time timestamp='2015-11-30T12:44:00Z'>12:44</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
sipa: wumpus: i&#x27;m back now, so i can rebase 6898 (i&#x27;ll do that right now) and starting this afternoon help with review
<br>
</div>

<div class='talk op-msg' data-timestamp='1448887500' id='441519'>
<a class='timestamp' href='#441519'><time timestamp='2015-11-30T12:45:00Z'>12:45</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
personally i think the most risky part about 6898 is not the code in the pull itself but the fact that it now relies on the mempool to correctly maintain some state such as number of sig ops, no orphans, etc ...
<br>
</div>

<div class='talk op-msg' data-timestamp='1448887560' id='441520'>
<a class='timestamp' href='#441520'><time timestamp='2015-11-30T12:46:00Z'>12:46</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but we still run TBV afterwards, right?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448887560' id='441521'>
<a class='timestamp' href='#441521'><time timestamp='2015-11-30T12:46:00Z'>12:46</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
correct
<br>
</div>

<div class='talk op-msg' data-timestamp='1448887560' id='441522'>
<a class='timestamp' href='#441522'><time timestamp='2015-11-30T12:46:00Z'>12:46</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
so then my question is , is that the best way to deal with a situation where that is broken at some point in the future
<br>
</div>

<div class='talk op-msg' data-timestamp='1448887620' id='441523'>
<a class='timestamp' href='#441523'><time timestamp='2015-11-30T12:47:00Z'>12:47</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
i&#x27;m relatively confident that its not broken for normal situations now
<br>
</div>

<div class='talk op-msg' data-timestamp='1448887620' id='441524'>
<a class='timestamp' href='#441524'><time timestamp='2015-11-30T12:47:00Z'>12:47</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
well that&#x27;s what master and release candidates are for
<br>
</div>

<div class='talk op-msg' data-timestamp='1448887620' id='441525'>
<a class='timestamp' href='#441525'><time timestamp='2015-11-30T12:47:00Z'>12:47</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
though as wumpus notes, it is already quite late, and we don&#x27;t have knowledge of people using this code in production
<br>
</div>

<div class='talk op-msg' data-timestamp='1448887680' id='441526'>
<a class='timestamp' href='#441526'><time timestamp='2015-11-30T12:48:00Z'>12:48</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
what about turning it into a separate createnewblockbeta RPC for now?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448887680' id='441527'>
<a class='timestamp' href='#441527'><time timestamp='2015-11-30T12:48:00Z'>12:48</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
i generated a new block template and tested it on 1 out of every 128 transactions for 6 weeks in historical simulation, and of course they all passed
<br>
</div>

<div class='talk op-msg' data-timestamp='1448887680' id='441528'>
<a class='timestamp' href='#441528'><time timestamp='2015-11-30T12:48:00Z'>12:48</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
oh wow
<br>
</div>

<div class='talk op-msg' data-timestamp='1448887740' id='441529'>
<a class='timestamp' href='#441529'><time timestamp='2015-11-30T12:49:00Z'>12:49</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
i don&#x27;t really have any objection to that if its preferred..  i think my concern was something about maintaining two sets of code last time it was mentioned
<br>
</div>

<div class='talk op-msg' data-timestamp='1448887800' id='441530'>
<a class='timestamp' href='#441530'><time timestamp='2015-11-30T12:50:00Z'>12:50</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
to be honest, i&#x27;m not sure too many people look at this stuff.  that pull has been open for a full month and received almost no conversation on the PR
<br>
</div>

<div class='talk op-msg' data-timestamp='1448887800' id='441531'>
<a class='timestamp' href='#441531'><time timestamp='2015-11-30T12:50:00Z'>12:50</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
which is strange, because evidence shows that there are miners running master
<br>
</div>

<div class='talk op-msg' data-timestamp='1448887800' id='441532'>
<a class='timestamp' href='#441532'><time timestamp='2015-11-30T12:50:00Z'>12:50</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
i&#x27;m not really in a position to complain since i didn&#x27;t review anyone elses PR&#x27;s recently though...
<br>
</div>

<div class='talk op-msg' data-timestamp='1448887800' id='441533'>
<a class='timestamp' href='#441533'><time timestamp='2015-11-30T12:50:00Z'>12:50</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
Dec 1st just came too fast!
<br>
</div>

<div class='talk op-msg' data-timestamp='1448887800' id='441534'>
<a class='timestamp' href='#441534'><time timestamp='2015-11-30T12:50:00Z'>12:50</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
you&#x27;d think they&#x27;d also test PRs...
<br>
</div>

<div class='talk op-msg' data-timestamp='1448887800' id='441535'>
<a class='timestamp' href='#441535'><time timestamp='2015-11-30T12:50:00Z'>12:50</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
or show interest in things like this
<br>
</div>

<div class='talk op-msg' data-timestamp='1448887860' id='441536'>
<a class='timestamp' href='#441536'><time timestamp='2015-11-30T12:51:00Z'>12:51</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
so i&#x27;m afraid that the only way to actually test it is getting it in master
<br>
</div>

<div class='talk op-msg' data-timestamp='1448887860' id='441537'>
<a class='timestamp' href='#441537'><time timestamp='2015-11-30T12:51:00Z'>12:51</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
s/test/get production feedback/
<br>
</div>

<div class='talk op-msg' data-timestamp='1448887860' id='441538'>
<a class='timestamp' href='#441538'><time timestamp='2015-11-30T12:51:00Z'>12:51</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
well the nice thing is that its relatively easy to sub in and out
<br>
</div>

<div class='talk op-msg' data-timestamp='1448887920' id='441539'>
<a class='timestamp' href='#441539'><time timestamp='2015-11-30T12:52:00Z'>12:52</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
doesn&#x27;t affect much more than 1 function
<br>
</div>

<div class='talk op-msg' data-timestamp='1448887920' id='441540'>
<a class='timestamp' href='#441540'><time timestamp='2015-11-30T12:52:00Z'>12:52</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
indeed, just looked
<br>
</div>

<div class='talk op-msg' data-timestamp='1448887920' id='441541'>
<a class='timestamp' href='#441541'><time timestamp='2015-11-30T12:52:00Z'>12:52</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it doesn&#x27;t seem hard
<br>
</div>

<div class='talk op-msg' data-timestamp='1448887920' id='441542'>
<a class='timestamp' href='#441542'><time timestamp='2015-11-30T12:52:00Z'>12:52</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
i think it would be slightly cleaner to just replace than maintain both, but either option is ok with me
<br>
</div>

<div class='talk op-msg' data-timestamp='1448887980' id='441543'>
<a class='timestamp' href='#441543'><time timestamp='2015-11-30T12:53:00Z'>12:53</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
let me rebase it really quick..
<br>
</div>

<div class='talk op-msg' data-timestamp='1448887980' id='441544'>
<a class='timestamp' href='#441544'><time timestamp='2015-11-30T12:53:00Z'>12:53</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
the question is mostly whether adding it as a separate RPC would actually make more people use it
<br>
</div>

<div class='talk op-msg' data-timestamp='1448887980' id='441545'>
<a class='timestamp' href='#441545'><time timestamp='2015-11-30T12:53:00Z'>12:53</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
wumpus: opinion?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448888100' id='441546'>
<a class='timestamp' href='#441546'><time timestamp='2015-11-30T12:55:00Z'>12:55</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
actually wait
<br>
</div>

<div class='talk op-msg' data-timestamp='1448888100' id='441547'>
<a class='timestamp' href='#441547'><time timestamp='2015-11-30T12:55:00Z'>12:55</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
i know why i didn&#x27;t like that idea
<br>
</div>

<div class='talk op-msg' data-timestamp='1448888100' id='441548'>
<a class='timestamp' href='#441548'><time timestamp='2015-11-30T12:55:00Z'>12:55</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
it basically makes it impossible to make forward progress for another release
<br>
</div>

<div class='talk op-msg' data-timestamp='1448888100' id='441549'>
<a class='timestamp' href='#441549'><time timestamp='2015-11-30T12:55:00Z'>12:55</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
well, yeah, depending on the answer to your question..  it would have to get a lot of uses as an alternate RPC
<br>
</div>

<div class='talk op-msg' data-timestamp='1448888100' id='441550'>
<a class='timestamp' href='#441550'><time timestamp='2015-11-30T12:55:00Z'>12:55</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
of if you have original and beta for 0.12
<br>
</div>

<div class='talk op-msg' data-timestamp='1448888160' id='441551'>
<a class='timestamp' href='#441551'><time timestamp='2015-11-30T12:56:00Z'>12:56</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
then what do we have for 0.13 ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448888340' id='441552'>
<a class='timestamp' href='#441552'><time timestamp='2015-11-30T12:59:00Z'>12:59</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i&#x27;d say after branching off 0.12, beta goes away and becomes the only one
<br>
</div>

<div class='talk op-msg' data-timestamp='1448888400' id='441553'>
<a class='timestamp' href='#441553'><time timestamp='2015-11-30T13:00:00Z'>13:00</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
making this beta RPC a preview for an upcoming version, if no problems are found
<br>
</div>

<div class='talk op-msg' data-timestamp='1448888400' id='441554'>
<a class='timestamp' href='#441554'><time timestamp='2015-11-30T13:00:00Z'>13:00</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
&lt;morcos&gt; Dec 1st just came too fast! &lt;- I&#x27;m sure May 1st will come soon enough too, then :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1448888460' id='441555'>
<a class='timestamp' href='#441555'><time timestamp='2015-11-30T13:01:00Z'>13:01</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
sipa: yes but my point is that it won&#x27;t be the upcoming version
<br>
</div>

<div class='talk op-msg' data-timestamp='1448888460' id='441556'>
<a class='timestamp' href='#441556'><time timestamp='2015-11-30T13:01:00Z'>13:01</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
morcos: I agree it&#x27;s cleaner to just replace it, I&#x27;m just very afraid of breaking mining in some subtle way just before a release
<br>
</div>

<div class='talk op-msg' data-timestamp='1448888520' id='441557'>
<a class='timestamp' href='#441557'><time timestamp='2015-11-30T13:02:00Z'>13:02</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
i&#x27;d like to make more changes, to actually improve the algorithm, not just speed it up
<br>
</div>

<div class='talk op-msg' data-timestamp='1448888520' id='441558'>
<a class='timestamp' href='#441558'><time timestamp='2015-11-30T13:02:00Z'>13:02</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
right, that&#x27;s where the real benefit lies, the fact that this new code can incorporate efficient CPFP etc
<br>
</div>

<div class='talk op-msg' data-timestamp='1448888580' id='441559'>
<a class='timestamp' href='#441559'><time timestamp='2015-11-30T13:03:00Z'>13:03</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and that won&#x27;t be in such a beta
<br>
</div>

<div class='talk op-msg' data-timestamp='1448888580' id='441560'>
<a class='timestamp' href='#441560'><time timestamp='2015-11-30T13:03:00Z'>13:03</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
if you&#x27;re fully confident that that cannot happen, then there&#x27;s no reason to not just replace the old code, but the part about it not being tested on the main network at all scares me
<br>
</div>

<div class='talk op-msg' data-timestamp='1448888580' id='441561'>
<a class='timestamp' href='#441561'><time timestamp='2015-11-30T13:03:00Z'>13:03</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
getting some ACKs from actual miners would be great
<br>
</div>

<div class='talk op-msg' data-timestamp='1448888640' id='441562'>
<a class='timestamp' href='#441562'><time timestamp='2015-11-30T13:04:00Z'>13:04</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
wumpus: i think sipa is right, lets put it in master.   and announce we need actual miners to test it
<br>
</div>

<div class='talk op-msg' data-timestamp='1448888640' id='441563'>
<a class='timestamp' href='#441563'><time timestamp='2015-11-30T13:04:00Z'>13:04</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
its easy to sub out if we lose confidence before release, but i don&#x27;t think we will
<br>
</div>

<div class='talk op-msg' data-timestamp='1448888640' id='441564'>
<a class='timestamp' href='#441564'><time timestamp='2015-11-30T13:04:00Z'>13:04</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
then revert if there are none?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448888640' id='441565'>
<a class='timestamp' href='#441565'><time timestamp='2015-11-30T13:04:00Z'>13:04</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
ok
<br>
</div>

<div class='talk op-msg' data-timestamp='1448888640' id='441566'>
<a class='timestamp' href='#441566'><time timestamp='2015-11-30T13:04:00Z'>13:04</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
let me finish rebasing
<br>
</div>

<div class='talk op-msg' data-timestamp='1448889000' id='441567'>
<a class='timestamp' href='#441567'><time timestamp='2015-11-30T13:10:00Z'>13:10</time></a>
&lt;<span class='nick nick-6'> btcdrak</span>&gt;
we should ping wangchun_, his pool is pretty proactive in testing stuff out. also Luke-Jr of course.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448889480' id='441568'>
<a class='timestamp' href='#441568'><time timestamp='2015-11-30T13:18:00Z'>13:18</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
sipa: re: #7105, does listunspent need any change?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448889480' id='441569'>
<a class='timestamp' href='#441569'><time timestamp='2015-11-30T13:18:00Z'>13:18</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
(the default is already to only show outputs with at least one confirmation, but asking just in case)
<br>
</div>

<div class='talk op-msg' data-timestamp='1448889600' id='441570'>
<a class='timestamp' href='#441570'><time timestamp='2015-11-30T13:20:00Z'>13:20</time></a>
&lt;<span class='nick nick-7'> GitHub142</span>&gt;
[bitcoin] laanwj pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/96b802510da0...9b8fc6c89a08" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/96b802510da0...9b8fc6c89a08</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1448889600' id='441571'>
<a class='timestamp' href='#441571'><time timestamp='2015-11-30T13:20:00Z'>13:20</time></a>
&lt;<span class='nick nick-7'> GitHub142</span>&gt;
bitcoin/master 4531fc4 Daniel Cousens: torcontrol: only output disconnect if -debug=tor
<br>
</div>

<div class='talk op-msg' data-timestamp='1448889600' id='441572'>
<a class='timestamp' href='#441572'><time timestamp='2015-11-30T13:20:00Z'>13:20</time></a>
&lt;<span class='nick nick-7'> GitHub142</span>&gt;
bitcoin/master 9b8fc6c Wladimir J. van der Laan: Merge pull request #7035...
<br>
</div>

<div class='talk op-msg' data-timestamp='1448889660' id='441573'>
<a class='timestamp' href='#441573'><time timestamp='2015-11-30T13:21:00Z'>13:21</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
wumpus: i have not checked, but i don&#x27;t expect it does
<br>
</div>

<div class='talk op-msg' data-timestamp='1448889660' id='441574'>
<a class='timestamp' href='#441574'><time timestamp='2015-11-30T13:21:00Z'>13:21</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
wumpus: 7008 needs to be merged first.  i just rebased that.  or i need to rewrite 6898 without it
<br>
</div>

<div class='talk op-msg' data-timestamp='1448889720' id='441575'>
<a class='timestamp' href='#441575'><time timestamp='2015-11-30T13:22:00Z'>13:22</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
7008 seems ready for merging
<br>
</div>

<div class='talk op-msg' data-timestamp='1448889720' id='441576'>
<a class='timestamp' href='#441576'><time timestamp='2015-11-30T13:22:00Z'>13:22</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
wumpus: at worst, it will show non-conflicted non-mempool things now
<br>
</div>

<div class='talk op-msg' data-timestamp='1448889780' id='441577'>
<a class='timestamp' href='#441577'><time timestamp='2015-11-30T13:23:00Z'>13:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
if you ask for unconfirmed results
<br>
</div>

<div class='talk op-msg' data-timestamp='1448889780' id='441578'>
<a class='timestamp' href='#441578'><time timestamp='2015-11-30T13:23:00Z'>13:23</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
sipa: ok - maybe report &#x27;trusted&#x27; in that case?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448889780' id='441579'>
<a class='timestamp' href='#441579'><time timestamp='2015-11-30T13:23:00Z'>13:23</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
not sure it&#x27;s really relevant
<br>
</div>

<div class='talk op-msg' data-timestamp='1448890260' id='441580'>
<a class='timestamp' href='#441580'><time timestamp='2015-11-30T13:31:00Z'>13:31</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
wumpus: where are we on the deprecating priority question.  i haven&#x27;t looked at the changes needed yet, but i&#x27;m assuming my blockprioritysize=0 default PR breaks all the RPC tests.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448890320' id='441581'>
<a class='timestamp' href='#441581'><time timestamp='2015-11-30T13:32:00Z'>13:32</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
it seems to me that we really should have that in for 0.12 if we&#x27;re hoping to rip out priority for 0.13, and if so makes sense to put it in before the split
<br>
</div>

<div class='talk op-msg' data-timestamp='1448890320' id='441582'>
<a class='timestamp' href='#441582'><time timestamp='2015-11-30T13:32:00Z'>13:32</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
i&#x27;m happy to make it work right today if we agree, but otherwise i&#x27;ll spend my time on something else
<br>
</div>

<div class='talk op-msg' data-timestamp='1448890320' id='441583'>
<a class='timestamp' href='#441583'><time timestamp='2015-11-30T13:32:00Z'>13:32</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
morcos: it&#x27;s easy enough to keep the test and give them an explicit -blockprioritysize
<br>
</div>

<div class='talk op-msg' data-timestamp='1448890380' id='441584'>
<a class='timestamp' href='#441584'><time timestamp='2015-11-30T13:33:00Z'>13:33</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
those should keep working anyway
<br>
</div>

<div class='talk op-msg' data-timestamp='1448890380' id='441585'>
<a class='timestamp' href='#441585'><time timestamp='2015-11-30T13:33:00Z'>13:33</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes, I&#x27;d say just make the tests pass in the right parameter, and add one or so test that tests the new state
<br>
</div>

<div class='talk op-msg' data-timestamp='1448890380' id='441586'>
<a class='timestamp' href='#441586'><time timestamp='2015-11-30T13:33:00Z'>13:33</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
sipa: yep, sure the fix isn&#x27;t hard, but it might be a lot of RPC tests that need it, so we should fix make the changes pre split
<br>
</div>

<div class='talk op-msg' data-timestamp='1448890380' id='441587'>
<a class='timestamp' href='#441587'><time timestamp='2015-11-30T13:33:00Z'>13:33</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
agree
<br>
</div>

<div class='talk op-msg' data-timestamp='1448890440' id='441588'>
<a class='timestamp' href='#441588'><time timestamp='2015-11-30T13:34:00Z'>13:34</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
although i was thinking it might make sense (other than a test for that parameter) to make the tests just work right without needing free space, but maybe thats too tedious for now..   ok, so i&#x27;ll do something anyway.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448890440' id='441589'>
<a class='timestamp' href='#441589'><time timestamp='2015-11-30T13:34:00Z'>13:34</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
6898 is rebased as well now
<br>
</div>

<div class='talk op-msg' data-timestamp='1448890500' id='441590'>
<a class='timestamp' href='#441590'><time timestamp='2015-11-30T13:35:00Z'>13:35</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
i&#x27;ll be back online in a couple hours
<br>
</div>

<div class='talk op-msg' data-timestamp='1448890560' id='441591'>
<a class='timestamp' href='#441591'><time timestamp='2015-11-30T13:36:00Z'>13:36</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
cool
<br>
</div>

<div class='talk op-msg' data-timestamp='1448895780' id='441592'>
<a class='timestamp' href='#441592'><time timestamp='2015-11-30T15:03:00Z'>15:03</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sipa: any recommendation for decorating a &quot;limbo&quot;-transaction in the UI?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448895780' id='441593'>
<a class='timestamp' href='#441593'><time timestamp='2015-11-30T15:03:00Z'>15:03</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
The &quot;?&quot; (questionmark) is already in use of unconfirmed transaction...
<br>
</div>

<div class='talk op-msg' data-timestamp='1448895780' id='441594'>
<a class='timestamp' href='#441594'><time timestamp='2015-11-30T15:03:00Z'>15:03</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
maybe a &quot;?!&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1448895780' id='441595'>
<a class='timestamp' href='#441595'><time timestamp='2015-11-30T15:03:00Z'>15:03</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jonasschnelli: ha!
<br>
</div>

<div class='talk op-msg' data-timestamp='1448895840' id='441596'>
<a class='timestamp' href='#441596'><time timestamp='2015-11-30T15:04:00Z'>15:04</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
ah yes the â€½
<br>
</div>

<div class='talk op-msg' data-timestamp='1448895840' id='441597'>
<a class='timestamp' href='#441597'><time timestamp='2015-11-30T15:04:00Z'>15:04</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
haha
<br>
</div>

<div class='talk op-msg' data-timestamp='1448895900' id='441598'>
<a class='timestamp' href='#441598'><time timestamp='2015-11-30T15:05:00Z'>15:05</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I suppose using the same decoration as unconfirmed transaction makes some sense, it&#x27;s a relatively rare occurenc
<br>
</div>

<div class='talk op-msg' data-timestamp='1448895960' id='441599'>
<a class='timestamp' href='#441599'><time timestamp='2015-11-30T15:06:00Z'>15:06</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Okay. Then i&#x27;ll add the &quot;Trusted&quot; (=in mempool) info to the transaction detail window only.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448895960' id='441600'>
<a class='timestamp' href='#441600'><time timestamp='2015-11-30T15:06:00Z'>15:06</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
don&#x27;t think it warrants a new icon, isn&#x27;t there some other way to distinguish it?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448896020' id='441601'>
<a class='timestamp' href='#441601'><time timestamp='2015-11-30T15:07:00Z'>15:07</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
hmm only in transaction detail window is the other extreme
<br>
</div>

<div class='talk op-msg' data-timestamp='1448896080' id='441602'>
<a class='timestamp' href='#441602'><time timestamp='2015-11-30T15:08:00Z'>15:08</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I&#x27;d like to avoid a christmas tree effect with too many implementation details in the UI - what kind of dysfunctional transaction of the day is this? - but it makes sense to be able to recognize them in some way I guess...
<br>
</div>

<div class='talk op-msg' data-timestamp='1448896140' id='441603'>
<a class='timestamp' href='#441603'><time timestamp='2015-11-30T15:09:00Z'>15:09</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
yes. Makes sense.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448896200' id='441604'>
<a class='timestamp' href='#441604'><time timestamp='2015-11-30T15:10:00Z'>15:10</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
hmm it determines whether we regard it as spendable or not, does it?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448896200' id='441605'>
<a class='timestamp' href='#441605'><time timestamp='2015-11-30T15:10:00Z'>15:10</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
wumpus: indeed
<br>
</div>

<div class='talk op-msg' data-timestamp='1448896260' id='441606'>
<a class='timestamp' href='#441606'><time timestamp='2015-11-30T15:11:00Z'>15:11</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
that&#x27;s what the brackets around the balance are used for [...]
<br>
</div>

<div class='talk op-msg' data-timestamp='1448896260' id='441607'>
<a class='timestamp' href='#441607'><time timestamp='2015-11-30T15:11:00Z'>15:11</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
0 confirmations (only for transactions from youself) are spendable when in the mempool, unspendable otherwise
<br>
</div>

<div class='talk op-msg' data-timestamp='1448896260' id='441608'>
<a class='timestamp' href='#441608'><time timestamp='2015-11-30T15:11:00Z'>15:11</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but the GUI afaik has no way of exposing the distinction between the two types of unconfirmed
<br>
</div>

<div class='talk op-msg' data-timestamp='1448896260' id='441609'>
<a class='timestamp' href='#441609'><time timestamp='2015-11-30T15:11:00Z'>15:11</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
e.g. if it shows [123] it doesn&#x27;t count to the balance, if it&#x27;s 123 it does
<br>
</div>

<div class='talk op-msg' data-timestamp='1448896320' id='441610'>
<a class='timestamp' href='#441610'><time timestamp='2015-11-30T15:12:00Z'>15:12</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
 status.countsForBalance = wtx.IsTrusted() &amp;&amp; !(wtx.GetBlocksToMaturity() &gt; 0);
<br>
</div>

<div class='talk op-msg' data-timestamp='1448896320' id='441611'>
<a class='timestamp' href='#441611'><time timestamp='2015-11-30T15:12:00Z'>15:12</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ah, good!
<br>
</div>

<div class='talk op-msg' data-timestamp='1448896320' id='441612'>
<a class='timestamp' href='#441612'><time timestamp='2015-11-30T15:12:00Z'>15:12</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
so, seems we already check isTrusted()
<br>
</div>

<div class='talk op-msg' data-timestamp='1448896320' id='441613'>
<a class='timestamp' href='#441613'><time timestamp='2015-11-30T15:12:00Z'>15:12</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ok, so no real change needed
<br>
</div>

<div class='talk op-msg' data-timestamp='1448896380' id='441614'>
<a class='timestamp' href='#441614'><time timestamp='2015-11-30T15:13:00Z'>15:13</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that can be simplified to just wtx.IsTrusted btw
<br>
</div>

<div class='talk op-msg' data-timestamp='1448896380' id='441615'>
<a class='timestamp' href='#441615'><time timestamp='2015-11-30T15:13:00Z'>15:13</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ah, no
<br>
</div>

<div class='talk op-msg' data-timestamp='1448896380' id='441616'>
<a class='timestamp' href='#441616'><time timestamp='2015-11-30T15:13:00Z'>15:13</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sorry; it&#x27;s a maturity check afterwards, not a confirmation check
<br>
</div>

<div class='talk op-msg' data-timestamp='1448896560' id='441617'>
<a class='timestamp' href='#441617'><time timestamp='2015-11-30T15:16:00Z'>15:16</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sipa: wumpus: is this bad? <a href="https://github.com/jonasschnelli/bitcoin/commit/f5957b88ca4d6205824bcf348feb8f865913b99c" class="link" target="_blank">https://github.com/jonasschnelli/bitcoin/commit/f5957b88ca4d6205824bcf348feb8f865913b99c</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1448896560' id='441618'>
<a class='timestamp' href='#441618'><time timestamp='2015-11-30T15:16:00Z'>15:16</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sipa: I think you could pull <a href="https://github.com/jonasschnelli/bitcoin/commit/965a1e6d9c5c1af5555665c0a94cde85dfe19a7b" class="link" target="_blank">https://github.com/jonasschnelli/bitcoin/commit/965a1e6d9c5c1af5555665c0a94cde85dfe19a7b</a> into your #7105
<br>
</div>

<div class='talk op-msg' data-timestamp='1448896620' id='441619'>
<a class='timestamp' href='#441619'><time timestamp='2015-11-30T15:17:00Z'>15:17</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i think &quot;trusted
<br>
</div>

<div class='talk op-msg' data-timestamp='1448896620' id='441620'>
<a class='timestamp' href='#441620'><time timestamp='2015-11-30T15:17:00Z'>15:17</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i think &quot;trusted&quot; will confuse people
<br>
</div>

<div class='talk op-msg' data-timestamp='1448896620' id='441621'>
<a class='timestamp' href='#441621'><time timestamp='2015-11-30T15:17:00Z'>15:17</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
if they receive an unconfirmed transaction from someone else it will always say untrusted
<br>
</div>

<div class='talk op-msg' data-timestamp='1448896680' id='441622'>
<a class='timestamp' href='#441622'><time timestamp='2015-11-30T15:18:00Z'>15:18</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
trusted is stronger than being in the mempool; it&#x27;s also only true for your own transactions
<br>
</div>

<div class='talk op-msg' data-timestamp='1448896680' id='441623'>
<a class='timestamp' href='#441623'><time timestamp='2015-11-30T15:18:00Z'>15:18</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes, if it&#x27;s in transaction details you can give a longer description
<br>
</div>

<div class='talk op-msg' data-timestamp='1448896740' id='441624'>
<a class='timestamp' href='#441624'><time timestamp='2015-11-30T15:19:00Z'>15:19</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
but trusted is very overused and ambigious
<br>
</div>

<div class='talk op-msg' data-timestamp='1448896740' id='441625'>
<a class='timestamp' href='#441625'><time timestamp='2015-11-30T15:19:00Z'>15:19</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
let&#x27;s not use that
<br>
</div>

<div class='talk op-msg' data-timestamp='1448896740' id='441626'>
<a class='timestamp' href='#441626'><time timestamp='2015-11-30T15:19:00Z'>15:19</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
&quot;In mempool&quot; |Â &quot;Not in mempool&quot;?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448896740' id='441627'>
<a class='timestamp' href='#441627'><time timestamp='2015-11-30T15:19:00Z'>15:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
maybe use &quot;0/unknown&quot; if it&#x27;s not in the mempool?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448896740' id='441628'>
<a class='timestamp' href='#441628'><time timestamp='2015-11-30T15:19:00Z'>15:19</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
nooo not unknown
<br>
</div>

<div class='talk op-msg' data-timestamp='1448896800' id='441629'>
<a class='timestamp' href='#441629'><time timestamp='2015-11-30T15:20:00Z'>15:20</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that&#x27;s probably even scarier :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1448896800' id='441630'>
<a class='timestamp' href='#441630'><time timestamp='2015-11-30T15:20:00Z'>15:20</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yeah unknown is very, very scary :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1448896800' id='441631'>
<a class='timestamp' href='#441631'><time timestamp='2015-11-30T15:20:00Z'>15:20</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
&#x27;your wallet is glitching&#x27;
<br>
</div>

<div class='talk op-msg' data-timestamp='1448896800' id='441632'>
<a class='timestamp' href='#441632'><time timestamp='2015-11-30T15:20:00Z'>15:20</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
0/pray
<br>
</div>

<div class='talk op-msg' data-timestamp='1448896800' id='441633'>
<a class='timestamp' href='#441633'><time timestamp='2015-11-30T15:20:00Z'>15:20</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
jonasschnelli: yes, let&#x27;s just call it what it is, &#x27;in memory pool&#x27;, &#x27;not in memory pool&#x27;
<br>
</div>

<div class='talk op-msg' data-timestamp='1448896860' id='441634'>
<a class='timestamp' href='#441634'><time timestamp='2015-11-30T15:21:00Z'>15:21</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
ok.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448896860' id='441635'>
<a class='timestamp' href='#441635'><time timestamp='2015-11-30T15:21:00Z'>15:21</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
heh
<br>
</div>

<div class='talk op-msg' data-timestamp='1448896860' id='441636'>
<a class='timestamp' href='#441636'><time timestamp='2015-11-30T15:21:00Z'>15:21</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
while we&#x27;re at it: maybe also actually show the depth of the conflict for conflicted?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448896860' id='441637'>
<a class='timestamp' href='#441637'><time timestamp='2015-11-30T15:21:00Z'>15:21</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
right... will do
<br>
</div>

<div class='talk op-msg' data-timestamp='1448896860' id='441638'>
<a class='timestamp' href='#441638'><time timestamp='2015-11-30T15:21:00Z'>15:21</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sipa: &quot;conflicted (-X)&quot;?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448896920' id='441639'>
<a class='timestamp' href='#441639'><time timestamp='2015-11-30T15:22:00Z'>15:22</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sgtm
<br>
</div>

<div class='talk op-msg' data-timestamp='1448896920' id='441640'>
<a class='timestamp' href='#441640'><time timestamp='2015-11-30T15:22:00Z'>15:22</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
or conflicted (at depth X) ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448896920' id='441641'>
<a class='timestamp' href='#441641'><time timestamp='2015-11-30T15:22:00Z'>15:22</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sgtm
<br>
</div>

<div class='talk op-msg' data-timestamp='1448897100' id='441642'>
<a class='timestamp' href='#441642'><time timestamp='2015-11-30T15:25:00Z'>15:25</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
or &quot;Conflicts with a transaction with X confirmations&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1448897160' id='441643'>
<a class='timestamp' href='#441643'><time timestamp='2015-11-30T15:26:00Z'>15:26</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
that does get very long
<br>
</div>

<div class='talk op-msg' data-timestamp='1448897160' id='441644'>
<a class='timestamp' href='#441644'><time timestamp='2015-11-30T15:26:00Z'>15:26</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
that&#x27;s fine for the expanded transaction details, but probably too long for the onmouseover 
<br>
</div>

<div class='talk op-msg' data-timestamp='1448897220' id='441645'>
<a class='timestamp' href='#441645'><time timestamp='2015-11-30T15:27:00Z'>15:27</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ok; we have a GUI maintainer to decide such things :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1448897220' id='441646'>
<a class='timestamp' href='#441646'><time timestamp='2015-11-30T15:27:00Z'>15:27</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1448897220' id='441647'>
<a class='timestamp' href='#441647'><time timestamp='2015-11-30T15:27:00Z'>15:27</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
:D
<br>
</div>

<div class='talk op-msg' data-timestamp='1448897220' id='441648'>
<a class='timestamp' href='#441648'><time timestamp='2015-11-30T15:27:00Z'>15:27</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
hah.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448897220' id='441649'>
<a class='timestamp' href='#441649'><time timestamp='2015-11-30T15:27:00Z'>15:27</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
i&#x27;ll check how it looks...
<br>
</div>

<div class='talk op-msg' data-timestamp='1448897400' id='441650'>
<a class='timestamp' href='#441650'><time timestamp='2015-11-30T15:30:00Z'>15:30</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jonasschnelli: if you want to show &quot;In mempool&quot;, you can&#x27;t just use IsTrusted()
<br>
</div>

<div class='talk op-msg' data-timestamp='1448897520' id='441651'>
<a class='timestamp' href='#441651'><time timestamp='2015-11-30T15:32:00Z'>15:32</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sipa: right.. need to refactor the mempool.exists check.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448897520' id='441652'>
<a class='timestamp' href='#441652'><time timestamp='2015-11-30T15:32:00Z'>15:32</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
public expose &quot;bool CWalletTx::InMempool()&quot;?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448897520' id='441653'>
<a class='timestamp' href='#441653'><time timestamp='2015-11-30T15:32:00Z'>15:32</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sgtm
<br>
</div>

<div class='talk op-msg' data-timestamp='1448899260' id='441654'>
<a class='timestamp' href='#441654'><time timestamp='2015-11-30T16:01:00Z'>16:01</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
if you do want to use IsTrusted, use &quot;counts towards balance&quot; instead of &quot;in mempool&quot;?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448899320' id='441655'>
<a class='timestamp' href='#441655'><time timestamp='2015-11-30T16:02:00Z'>16:02</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
otherwise it needs yet another flag on the ui&#x27;s transaction structure, for kind of little gain
<br>
</div>

<div class='talk op-msg' data-timestamp='1448900160' id='441656'>
<a class='timestamp' href='#441656'><time timestamp='2015-11-30T16:16:00Z'>16:16</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
also we don&#x27;t expose &quot;transaction in mempool&quot; on RPC, should definitely do that if it&#x27;s shown in the GUI...
<br>
</div>

<div class='talk op-msg' data-timestamp='1448900220' id='441657'>
<a class='timestamp' href='#441657'><time timestamp='2015-11-30T16:17:00Z'>16:17</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
agree
<br>
</div>

<div class='talk op-msg' data-timestamp='1448904660' id='441658'>
<a class='timestamp' href='#441658'><time timestamp='2015-11-30T17:31:00Z'>17:31</time></a>
&lt;<span class='nick nick-5'> jgarzik</span>&gt;
Double-check:   is it correct that MTP is available via RPC, via getinfo.timeoffset?   (curtime + timeoffset)
<br>
</div>

<div class='talk op-msg' data-timestamp='1448904720' id='441659'>
<a class='timestamp' href='#441659'><time timestamp='2015-11-30T17:32:00Z'>17:32</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i would expect that to be about GetAdjustedTime
<br>
</div>

<div class='talk op-msg' data-timestamp='1448904780' id='441660'>
<a class='timestamp' href='#441660'><time timestamp='2015-11-30T17:33:00Z'>17:33</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
it&#x27;s in getblockchaininfo
<br>
</div>

<div class='talk op-msg' data-timestamp='1448904780' id='441661'>
<a class='timestamp' href='#441661'><time timestamp='2015-11-30T17:33:00Z'>17:33</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
&quot;mediantime&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1448904780' id='441662'>
<a class='timestamp' href='#441662'><time timestamp='2015-11-30T17:33:00Z'>17:33</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
In master.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448904840' id='441663'>
<a class='timestamp' href='#441663'><time timestamp='2015-11-30T17:34:00Z'>17:34</time></a>
&lt;<span class='nick nick-5'> jgarzik</span>&gt;
Yeah, the definition of GetAdjustedTime() is curtime + GetTimeOffset
<br>
</div>

<div class='talk op-msg' data-timestamp='1448904900' id='441664'>
<a class='timestamp' href='#441664'><time timestamp='2015-11-30T17:35:00Z'>17:35</time></a>
&lt;<span class='nick nick-5'> jgarzik</span>&gt;
but mediantime is better
<br>
</div>

<div class='talk op-msg' data-timestamp='1448904960' id='441665'>
<a class='timestamp' href='#441665'><time timestamp='2015-11-30T17:36:00Z'>17:36</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jgarzik: do you mean getmediantimepast of the last block?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448904960' id='441666'>
<a class='timestamp' href='#441666'><time timestamp='2015-11-30T17:36:00Z'>17:36</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
or the median time offset reported by peers?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448904960' id='441667'>
<a class='timestamp' href='#441667'><time timestamp='2015-11-30T17:36:00Z'>17:36</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
wumpus, I think #7044 is merge-ready. Trying to slip it in for 0.12
<br>
</div>

<div class='talk op-msg' data-timestamp='1448905080' id='441668'>
<a class='timestamp' href='#441668'><time timestamp='2015-11-30T17:38:00Z'>17:38</time></a>
&lt;<span class='nick nick-5'> jgarzik</span>&gt;
sipa, A fair question - I&#x27;m trying to pick which is the best number to poll, for an external agent to trigger a &quot;if $network_time &gt; x, do y&quot; action.  MTP with a reorg safety margin seems most applicable.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448905140' id='441669'>
<a class='timestamp' href='#441669'><time timestamp='2015-11-30T17:39:00Z'>17:39</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jgarzik: agree
<br>
</div>

<div class='talk op-msg' data-timestamp='1448905560' id='441670'>
<a class='timestamp' href='#441670'><time timestamp='2015-11-30T17:46:00Z'>17:46</time></a>
&lt;<span class='nick nick-2'> GitHub22</span>&gt;
[bitcoin] sdaftuar opened pull request #7137: Tests: Explicitly set chain limits in replace-by-fee test (master...fix-rbf-test) <a href="https://github.com/bitcoin/bitcoin/pull/7137" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/7137</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1448906100' id='441671'>
<a class='timestamp' href='#441671'><time timestamp='2015-11-30T17:55:00Z'>17:55</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
bluematt: apparently the 0.11.2 ppa is &#x27;build failed&#x27; and not up yet?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448909700' id='441672'>
<a class='timestamp' href='#441672'><time timestamp='2015-11-30T18:55:00Z'>18:55</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
gmaxwell: yea, for 12.04 the build hasnt worked in like...6 months? I think I&#x27;ve received a total of about 10 complaints
<br>
</div>

<div class='talk op-msg' data-timestamp='1448909700' id='441673'>
<a class='timestamp' href='#441673'><time timestamp='2015-11-30T18:55:00Z'>18:55</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
gmaxwell: it seems launchpad cant install a package which is in the repos according to ubuntu&#x27;s package listing site
<br>
</div>

<div class='talk op-msg' data-timestamp='1448909760' id='441674'>
<a class='timestamp' href='#441674'><time timestamp='2015-11-30T18:56:00Z'>18:56</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
gmaxwell: mostly, internet folks need to go complain to launchpad
<br>
</div>

<div class='talk op-msg' data-timestamp='1448909880' id='441675'>
<a class='timestamp' href='#441675'><time timestamp='2015-11-30T18:58:00Z'>18:58</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
bleh.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448909940' id='441676'>
<a class='timestamp' href='#441676'><time timestamp='2015-11-30T18:59:00Z'>18:59</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
BlueMatt: Have you complained to ubuntu?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448909940' id='441677'>
<a class='timestamp' href='#441677'><time timestamp='2015-11-30T18:59:00Z'>18:59</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
next step for me would be to reproduce locally...its been really low on my priority list considering I&#x27;ve hard complaints about this only 5-10 times
<br>
</div>

<div class='talk op-msg' data-timestamp='1448909940' id='441678'>
<a class='timestamp' href='#441678'><time timestamp='2015-11-30T18:59:00Z'>18:59</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
but I can go do that
<br>
</div>

<div class='talk op-msg' data-timestamp='1448910420' id='441679'>
<a class='timestamp' href='#441679'><time timestamp='2015-11-30T19:07:00Z'>19:07</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
BlueMatt: I think its mildly important.  My expirence is that you can break a piece of software in a way that impacts <u>_millions_</u> of people, but if its broken in a really obvious way where they assume you know, no one will report it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448910480' id='441680'>
<a class='timestamp' href='#441680'><time timestamp='2015-11-30T19:08:00Z'>19:08</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I think on wikipedia when I introduced bugs that would throw consistent errors to readers I&#x27;d get about one bug report per million people who hit the error or something at that level.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448910900' id='441681'>
<a class='timestamp' href='#441681'><time timestamp='2015-11-30T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-5'> jgarzik</span>&gt;
Vaguely related - Fedora keeps inching along towards shipping bitcoin - I got a patch from Harald Hoyer to picocoin, adding bitcoin&#x27;s curve to an otherwise functional openssl lib.  Once libsecp256k1 is packaged into Fedora, that makes a nice end run around the patent/copyright annoyances blocking Fedora deployment.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448910960' id='441682'>
<a class='timestamp' href='#441682'><time timestamp='2015-11-30T19:16:00Z'>19:16</time></a>
&lt;<span class='nick nick-5'> jgarzik</span>&gt;
(picocoin thing just an anecdote noting Fedora people working on the overall ecosystem; Harald also works on bitcoin)
<br>
</div>

<div class='talk op-msg' data-timestamp='1448911080' id='441683'>
<a class='timestamp' href='#441683'><time timestamp='2015-11-30T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
jgarzik: yea, warren has been pushing that one forward as well, iirc
<br>
</div>

<div class='talk op-msg' data-timestamp='1448911200' id='441684'>
<a class='timestamp' href='#441684'><time timestamp='2015-11-30T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-2'> Luke-Jr</span>&gt;
sipa: what benefits? the only benefit is performance AFAIK, which isn&#x27;t even a real concern for this; and CPFP went unmerged since 2011 despite lots of real-world testing.. (playing devil&#x27;s advocate here - I&#x27;m fine with merging it if there are really no changes, including priority working correctly)
<br>
</div>

<div class='talk op-msg' data-timestamp='1448911740' id='441685'>
<a class='timestamp' href='#441685'><time timestamp='2015-11-30T19:29:00Z'>19:29</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
Luke-Jr: yes, it produces the same blocks as the old code, ignoring some rounding errors, afaik
<br>
</div>

<div class='talk op-msg' data-timestamp='1448911740' id='441686'>
<a class='timestamp' href='#441686'><time timestamp='2015-11-30T19:29:00Z'>19:29</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
Luke-Jr: in addition to the latency improvement, it also has the benefit of not blowing away your cache by loading up the inputs for every tx in your mempool
<br>
</div>

<div class='talk op-msg' data-timestamp='1448911860' id='441687'>
<a class='timestamp' href='#441687'><time timestamp='2015-11-30T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
sipa: requires 6357 for the blocks to be the same, but they are quite close without that 
<br>
</div>

<div class='talk op-msg' data-timestamp='1448911980' id='441688'>
<a class='timestamp' href='#441688'><time timestamp='2015-11-30T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
right
<br>
</div>

<div class='talk op-msg' data-timestamp='1448913120' id='441689'>
<a class='timestamp' href='#441689'><time timestamp='2015-11-30T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
BlueMatt: I updated 6915, hopefully this version looks good to everyone...  Can you take a look?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448914200' id='441690'>
<a class='timestamp' href='#441690'><time timestamp='2015-11-30T20:10:00Z'>20:10</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jonasschnelli: opinion about asking on bitcoin-qt first startup how much RAM the user wants to make available for chainstate?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448914260' id='441691'>
<a class='timestamp' href='#441691'><time timestamp='2015-11-30T20:11:00Z'>20:11</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
the default (100 MiB) makes sense for smallish devices and VPS&#x27;es to not OOM all the time, but on modern desktop systems it can certainly go higher, and will significantly improve sync speed
<br>
</div>

<div class='talk op-msg' data-timestamp='1448914320' id='441692'>
<a class='timestamp' href='#441692'><time timestamp='2015-11-30T20:12:00Z'>20:12</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
it would be useful to figure out where the point of diminishing returns is. E.g. perhaps it&#x27;s 200MB.  in which case it might makes sense to actually check how much the system has.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448914320' id='441693'>
<a class='timestamp' href='#441693'><time timestamp='2015-11-30T20:12:00Z'>20:12</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
and switch defaults based on the result.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448914440' id='441694'>
<a class='timestamp' href='#441694'><time timestamp='2015-11-30T20:14:00Z'>20:14</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
now that the limit is actually honored accurately, maybe it&#x27;s more useful to do that
<br>
</div>

<div class='talk op-msg' data-timestamp='1448914500' id='441695'>
<a class='timestamp' href='#441695'><time timestamp='2015-11-30T20:15:00Z'>20:15</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
it&#x27;s probably more useful to measure how much physical ram the system has, rather than free.. changing behavior randomly at startup would not be good.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448914560' id='441696'>
<a class='timestamp' href='#441696'><time timestamp='2015-11-30T20:16:00Z'>20:16</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
mempool limit could also change on that basis.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448914620' id='441697'>
<a class='timestamp' href='#441697'><time timestamp='2015-11-30T20:17:00Z'>20:17</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
sipa: now that its honored?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448914740' id='441698'>
<a class='timestamp' href='#441698'><time timestamp='2015-11-30T20:19:00Z'>20:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
morcos: -dbcache value is pretty accurately followed now
<br>
</div>

<div class='talk op-msg' data-timestamp='1448914740' id='441699'>
<a class='timestamp' href='#441699'><time timestamp='2015-11-30T20:19:00Z'>20:19</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
i think that the default of 100 MB is too small given the default mempool is 300MB and the rest of the random memory usage
<br>
</div>

<div class='talk op-msg' data-timestamp='1448914740' id='441700'>
<a class='timestamp' href='#441700'><time timestamp='2015-11-30T20:19:00Z'>20:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
agree
<br>
</div>

<div class='talk op-msg' data-timestamp='1448914740' id='441701'>
<a class='timestamp' href='#441701'><time timestamp='2015-11-30T20:19:00Z'>20:19</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
i thought that without 6872 you&#x27;d still blow through the limit?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448914800' id='441702'>
<a class='timestamp' href='#441702'><time timestamp='2015-11-30T20:20:00Z'>20:20</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
not considering miners :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1448914800' id='441703'>
<a class='timestamp' href='#441703'><time timestamp='2015-11-30T20:20:00Z'>20:20</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1448914800' id='441704'>
<a class='timestamp' href='#441704'><time timestamp='2015-11-30T20:20:00Z'>20:20</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and we should probably try to make checkmempool also not pull in the entire mempool into the cache
<br>
</div>

<div class='talk op-msg' data-timestamp='1448914800' id='441705'>
<a class='timestamp' href='#441705'><time timestamp='2015-11-30T20:20:00Z'>20:20</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
i thought there was still a problem of all the txs that coudl come in between blocks
<br>
</div>

<div class='talk op-msg' data-timestamp='1448914860' id='441706'>
<a class='timestamp' href='#441706'><time timestamp='2015-11-30T20:21:00Z'>20:21</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
especially rejected ones
<br>
</div>

<div class='talk op-msg' data-timestamp='1448914920' id='441707'>
<a class='timestamp' href='#441707'><time timestamp='2015-11-30T20:22:00Z'>20:22</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
hmm, didn&#x27;t we fix that?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448914920' id='441708'>
<a class='timestamp' href='#441708'><time timestamp='2015-11-30T20:22:00Z'>20:22</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i can&#x27;t remember how; only thinking about it
<br>
</div>

<div class='talk op-msg' data-timestamp='1448914980' id='441709'>
<a class='timestamp' href='#441709'><time timestamp='2015-11-30T20:23:00Z'>20:23</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
that&#x27;s what #6872 is (tagged for 0.12 but still not yet merged)
<br>
</div>

<div class='talk op-msg' data-timestamp='1448914980' id='441710'>
<a class='timestamp' href='#441710'><time timestamp='2015-11-30T20:23:00Z'>20:23</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
looks like it needs to be rebased
<br>
</div>

<div class='talk op-msg' data-timestamp='1448915040' id='441711'>
<a class='timestamp' href='#441711'><time timestamp='2015-11-30T20:24:00Z'>20:24</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
oh
<br>
</div>

<div class='talk op-msg' data-timestamp='1448915160' id='441712'>
<a class='timestamp' href='#441712'><time timestamp='2015-11-30T20:26:00Z'>20:26</time></a>
&lt;<span class='nick nick-9'> GitHub26</span>&gt;
[bitcoin] gmaxwell pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/34e02e014718...438ee59839ad" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/34e02e014718...438ee59839ad</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1448915160' id='441713'>
<a class='timestamp' href='#441713'><time timestamp='2015-11-30T20:26:00Z'>20:26</time></a>
&lt;<span class='nick nick-9'> GitHub26</span>&gt;
bitcoin/master d52fbf0 Gregory Sanders: Added additional config option for multiple RPC users.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448915160' id='441714'>
<a class='timestamp' href='#441714'><time timestamp='2015-11-30T20:26:00Z'>20:26</time></a>
&lt;<span class='nick nick-9'> GitHub26</span>&gt;
bitcoin/master 438ee59 Gregory Maxwell: Merge pull request #7044...
<br>
</div>

<div class='talk op-msg' data-timestamp='1448915160' id='441715'>
<a class='timestamp' href='#441715'><time timestamp='2015-11-30T20:26:00Z'>20:26</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sdaftuar: sorry, i didn&#x27;t look at the number :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1448915160' id='441716'>
<a class='timestamp' href='#441716'><time timestamp='2015-11-30T20:26:00Z'>20:26</time></a>
&lt;<span class='nick nick-2'> GitHub15</span>&gt;
[bitcoin] gmaxwell closed pull request #7044: RPC: Added additional config option for multiple RPC users. (master...multrpc) <a href="https://github.com/bitcoin/bitcoin/pull/7044" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/7044</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1448915160' id='441717'>
<a class='timestamp' href='#441717'><time timestamp='2015-11-30T20:26:00Z'>20:26</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
BlueMatt: feel like rebasing 6872? 
<br>
</div>

<div class='talk op-msg' data-timestamp='1448915460' id='441718'>
<a class='timestamp' href='#441718'><time timestamp='2015-11-30T20:31:00Z'>20:31</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
there is a check in init.cpp which prevents minrelaytxfee=0
<br>
</div>

<div class='talk op-msg' data-timestamp='1448915520' id='441719'>
<a class='timestamp' href='#441719'><time timestamp='2015-11-30T20:32:00Z'>20:32</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
it seems to me we should consider removing that check?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448915520' id='441720'>
<a class='timestamp' href='#441720'><time timestamp='2015-11-30T20:32:00Z'>20:32</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
in a world without priority, it&#x27;ll be impossible to mine 0 fee txs unless we do
<br>
</div>

<div class='talk op-msg' data-timestamp='1448915940' id='441721'>
<a class='timestamp' href='#441721'><time timestamp='2015-11-30T20:39:00Z'>20:39</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
morcos: sounds reasonable to me
<br>
</div>

<div class='talk op-msg' data-timestamp='1448916120' id='441722'>
<a class='timestamp' href='#441722'><time timestamp='2015-11-30T20:42:00Z'>20:42</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I think we key othre things off the assumption that this can&#x27;t be zero.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448916120' id='441723'>
<a class='timestamp' href='#441723'><time timestamp='2015-11-30T20:42:00Z'>20:42</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
gmaxwell: first thing i found is that the absurdFee test would be a problem
<br>
</div>

<div class='talk op-msg' data-timestamp='1448916120' id='441724'>
<a class='timestamp' href='#441724'><time timestamp='2015-11-30T20:42:00Z'>20:42</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
And it&#x27;s a misconfiguration hazard, e.g. 0.0000001 is a lot more reasonable a setting than 0. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1448916120' id='441725'>
<a class='timestamp' href='#441725'><time timestamp='2015-11-30T20:42:00Z'>20:42</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Also perhaps dust limits?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448916180' id='441726'>
<a class='timestamp' href='#441726'><time timestamp='2015-11-30T20:43:00Z'>20:43</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
well having the dust limit be 0 makes sense right
<br>
</div>

<div class='talk op-msg' data-timestamp='1448916180' id='441727'>
<a class='timestamp' href='#441727'><time timestamp='2015-11-30T20:43:00Z'>20:43</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
you might want to have that
<br>
</div>

<div class='talk op-msg' data-timestamp='1448916180' id='441728'>
<a class='timestamp' href='#441728'><time timestamp='2015-11-30T20:43:00Z'>20:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and the minimum increase for mempool eviction
<br>
</div>

<div class='talk op-msg' data-timestamp='1448916180' id='441729'>
<a class='timestamp' href='#441729'><time timestamp='2015-11-30T20:43:00Z'>20:43</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
again
<br>
</div>

<div class='talk op-msg' data-timestamp='1448916180' id='441730'>
<a class='timestamp' href='#441730'><time timestamp='2015-11-30T20:43:00Z'>20:43</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
you might want that
<br>
</div>

<div class='talk op-msg' data-timestamp='1448916180' id='441731'>
<a class='timestamp' href='#441731'><time timestamp='2015-11-30T20:43:00Z'>20:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
indeed
<br>
</div>

<div class='talk op-msg' data-timestamp='1448916180' id='441732'>
<a class='timestamp' href='#441732'><time timestamp='2015-11-30T20:43:00Z'>20:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
not sure it&#x27;d be a good thing for the network, though
<br>
</div>

<div class='talk op-msg' data-timestamp='1448916180' id='441733'>
<a class='timestamp' href='#441733'><time timestamp='2015-11-30T20:43:00Z'>20:43</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
this came about for fixing rpc tests
<br>
</div>

<div class='talk op-msg' data-timestamp='1448916240' id='441734'>
<a class='timestamp' href='#441734'><time timestamp='2015-11-30T20:44:00Z'>20:44</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
i was going to make blockprioritysize=non-zero be a default for RPC tests
<br>
</div>

<div class='talk op-msg' data-timestamp='1448916240' id='441735'>
<a class='timestamp' href='#441735'><time timestamp='2015-11-30T20:44:00Z'>20:44</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
&quot;I support low fees!&quot; which would drive the setting doesn&#x27;t necessarily mean &quot;I want my node to be trivialy vulnerable to DOS attack and a DOS amplifier towards other nodes&quot; though. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1448916240' id='441736'>
<a class='timestamp' href='#441736'><time timestamp='2015-11-30T20:44:00Z'>20:44</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
but i realized that would break as soon as we remove priority for 0.13
<br>
</div>

<div class='talk op-msg' data-timestamp='1448916240' id='441737'>
<a class='timestamp' href='#441737'><time timestamp='2015-11-30T20:44:00Z'>20:44</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
gmaxwell: sure, but do you want to make it impossible to accept free txs
<br>
</div>

<div class='talk op-msg' data-timestamp='1448916240' id='441738'>
<a class='timestamp' href='#441738'><time timestamp='2015-11-30T20:44:00Z'>20:44</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
morcos: then we must support priority.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448916300' id='441739'>
<a class='timestamp' href='#441739'><time timestamp='2015-11-30T20:45:00Z'>20:45</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
there is not approriate emoji
<br>
</div>

<div class='talk op-msg' data-timestamp='1448916300' id='441740'>
<a class='timestamp' href='#441740'><time timestamp='2015-11-30T20:45:00Z'>20:45</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
My understanding and my sadness at dropping priority is that it went hand in hand with not supporting free transactions.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448916300' id='441741'>
<a class='timestamp' href='#441741'><time timestamp='2015-11-30T20:45:00Z'>20:45</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
haha
<br>
</div>

<div class='talk op-msg' data-timestamp='1448916300' id='441742'>
<a class='timestamp' href='#441742'><time timestamp='2015-11-30T20:45:00Z'>20:45</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
yeah so i guess i&#x27;m distinguishing between supporting it as a normal mode of operation vs not allowing it period
<br>
</div>

<div class='talk op-msg' data-timestamp='1448916360' id='441743'>
<a class='timestamp' href='#441743'><time timestamp='2015-11-30T20:46:00Z'>20:46</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
for instance rpc tests, or mining some old tx authored a long time ago?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448916360' id='441744'>
<a class='timestamp' href='#441744'><time timestamp='2015-11-30T20:46:00Z'>20:46</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
perhaps fee deltas is the solution to the second (and perhaps teh first)
<br>
</div>

<div class='talk op-msg' data-timestamp='1448916420' id='441745'>
<a class='timestamp' href='#441745'><time timestamp='2015-11-30T20:47:00Z'>20:47</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
but these issues are why we should rip priority out as soon as 0.12 is released, so we have time to get everythign working right
<br>
</div>

<div class='talk op-msg' data-timestamp='1448916480' id='441746'>
<a class='timestamp' href='#441746'><time timestamp='2015-11-30T20:48:00Z'>20:48</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
going to run master + memory-usage-impacting-PRs-i-expect-to-be-merged on bitcoin.sipa.be, with empty bitcoin.conf
<br>
</div>

<div class='talk op-msg' data-timestamp='1448916780' id='441747'>
<a class='timestamp' href='#441747'><time timestamp='2015-11-30T20:53:00Z'>20:53</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and see what memory usage is
<br>
</div>

<div class='talk op-msg' data-timestamp='1448918160' id='441748'>
<a class='timestamp' href='#441748'><time timestamp='2015-11-30T21:16:00Z'>21:16</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
rewarding the absurd fee check, see #7070
<br>
</div>

<div class='talk op-msg' data-timestamp='1448918400' id='441749'>
<a class='timestamp' href='#441749'><time timestamp='2015-11-30T21:20:00Z'>21:20</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
jtimon: ah ok nice...  but i&#x27;ll save trying to let minrelaytxfee=0 for 0.13
<br>
</div>

<div class='talk op-msg' data-timestamp='1448918520' id='441750'>
<a class='timestamp' href='#441750'><time timestamp='2015-11-30T21:22:00Z'>21:22</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
morcos: ack, priority won&#x27;t be removed for 0.12 anyway, no?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448918580' id='441751'>
<a class='timestamp' href='#441751'><time timestamp='2015-11-30T21:23:00Z'>21:23</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
jtimon: correct, just updating the pull to set the default blockprioritysize=0
<br>
</div>

<div class='talk op-msg' data-timestamp='1448921700' id='441752'>
<a class='timestamp' href='#441752'><time timestamp='2015-11-30T22:15:00Z'>22:15</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
sipa: I was waiting on 6936 
<br>
</div>

<div class='talk op-msg' data-timestamp='1448921700' id='441753'>
<a class='timestamp' href='#441753'><time timestamp='2015-11-30T22:15:00Z'>22:15</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
it looks like that replaces 6872? (morcos?)
<br>
</div>

<div class='talk op-msg' data-timestamp='1448921820' id='441754'>
<a class='timestamp' href='#441754'><time timestamp='2015-11-30T22:17:00Z'>22:17</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
BlueMatt: heh..  my ideal combination is some version of 6936 (warm cache) with a subset of 6872 (granular removals from the cache)
<br>
</div>

<div class='talk op-msg' data-timestamp='1448921880' id='441755'>
<a class='timestamp' href='#441755'><time timestamp='2015-11-30T22:18:00Z'>22:18</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
but i hadn&#x27;t really put the effort into that, and was expecting 6936 to wait for 0.13
<br>
</div>

<div class='talk op-msg' data-timestamp='1448921880' id='441756'>
<a class='timestamp' href='#441756'><time timestamp='2015-11-30T22:18:00Z'>22:18</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
oh? if you&#x27;re gonna have a scoring metric for what to remove from mempool/cache, then we should only use that
<br>
</div>

<div class='talk op-msg' data-timestamp='1448921940' id='441757'>
<a class='timestamp' href='#441757'><time timestamp='2015-11-30T22:19:00Z'>22:19</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
no need to also remove things manually
<br>
</div>

<div class='talk op-msg' data-timestamp='1448921940' id='441758'>
<a class='timestamp' href='#441758'><time timestamp='2015-11-30T22:19:00Z'>22:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
from morcos&#x27; benchmarks it seems that 6936 has a much less proven effect?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448922000' id='441759'>
<a class='timestamp' href='#441759'><time timestamp='2015-11-30T22:20:00Z'>22:20</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
BlueMatt: well the problem was there was some unexplainable slowdown with frequent cache flushes which I believe was due to deallocation time.  
<br>
</div>

<div class='talk op-msg' data-timestamp='1448922000' id='441760'>
<a class='timestamp' href='#441760'><time timestamp='2015-11-30T22:20:00Z'>22:20</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
lol, fucking C++
<br>
</div>

<div class='talk op-msg' data-timestamp='1448922000' id='441761'>
<a class='timestamp' href='#441761'><time timestamp='2015-11-30T22:20:00Z'>22:20</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
so yeah i think 6936 is a net positive, but i don&#x27;t think its ideally tune and i was kind of waiting for the prevector stuff
<br>
</div>

<div class='talk op-msg' data-timestamp='1448922000' id='441762'>
<a class='timestamp' href='#441762'><time timestamp='2015-11-30T22:20:00Z'>22:20</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
since that ought to change that whole equation
<br>
</div>

<div class='talk op-msg' data-timestamp='1448922000' id='441763'>
<a class='timestamp' href='#441763'><time timestamp='2015-11-30T22:20:00Z'>22:20</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
hmm
<br>
</div>

<div class='talk op-msg' data-timestamp='1448922000' id='441764'>
<a class='timestamp' href='#441764'><time timestamp='2015-11-30T22:20:00Z'>22:20</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
fucking dep tree
<br>
</div>

<div class='talk op-msg' data-timestamp='1448922060' id='441765'>
<a class='timestamp' href='#441765'><time timestamp='2015-11-30T22:21:00Z'>22:21</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i think that we can do much better than prevector even for the coinscache if we write a custom memory-packed CCoins
<br>
</div>

<div class='talk op-msg' data-timestamp='1448922060' id='441766'>
<a class='timestamp' href='#441766'><time timestamp='2015-11-30T22:21:00Z'>22:21</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
so maybe we can try that for 0.13
<br>
</div>

<div class='talk op-msg' data-timestamp='1448922060' id='441767'>
<a class='timestamp' href='#441767'><time timestamp='2015-11-30T22:21:00Z'>22:21</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but i think 6872 is necessary just for memory conservation
<br>
</div>

<div class='talk op-msg' data-timestamp='1448922060' id='441768'>
<a class='timestamp' href='#441768'><time timestamp='2015-11-30T22:21:00Z'>22:21</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
at what point do we decide we&#x27;ve gone too far down the rabbit hole?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448922120' id='441769'>
<a class='timestamp' href='#441769'><time timestamp='2015-11-30T22:22:00Z'>22:22</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
when we started working on bitcoin
<br>
</div>

<div class='talk op-msg' data-timestamp='1448922120' id='441770'>
<a class='timestamp' href='#441770'><time timestamp='2015-11-30T22:22:00Z'>22:22</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
when people stop being willing to review code :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1448922180' id='441771'>
<a class='timestamp' href='#441771'><time timestamp='2015-11-30T22:23:00Z'>22:23</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
to be honest, i don&#x27;t love 6872, but i reviewed it and test its performance, so i think if we want to address the potential memory growth problem between blocks, lets do 6872 now and we can always take some of it back out later
<br>
</div>

<div class='talk op-msg' data-timestamp='1448922180' id='441772'>
<a class='timestamp' href='#441772'><time timestamp='2015-11-30T22:23:00Z'>22:23</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
morcos: yea, it was minimum-to-fix-the-bug
<br>
</div>

<div class='talk op-msg' data-timestamp='1448922180' id='441773'>
<a class='timestamp' href='#441773'><time timestamp='2015-11-30T22:23:00Z'>22:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
btw, 6872 rebase is trivial; already running it
<br>
</div>

<div class='talk op-msg' data-timestamp='1448922180' id='441774'>
<a class='timestamp' href='#441774'><time timestamp='2015-11-30T22:23:00Z'>22:23</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
morcos: hence i stopped paying attention to it when you did 6936
<br>
</div>

<div class='talk op-msg' data-timestamp='1448922240' id='441775'>
<a class='timestamp' href='#441775'><time timestamp='2015-11-30T22:24:00Z'>22:24</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
i figured you did that as a &quot;oh, your hack? yea, i can do that better....&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1448922240' id='441776'>
<a class='timestamp' href='#441776'><time timestamp='2015-11-30T22:24:00Z'>22:24</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
ha, that was the original plan.  :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1448922300' id='441777'>
<a class='timestamp' href='#441777'><time timestamp='2015-11-30T22:25:00Z'>22:25</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
the other thing that makes 6936 not as good as it should be is stupid priority 
<br>
</div>

<div class='talk op-msg' data-timestamp='1448922300' id='441778'>
<a class='timestamp' href='#441778'><time timestamp='2015-11-30T22:25:00Z'>22:25</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
yup
<br>
</div>

<div class='talk op-msg' data-timestamp='1448922300' id='441779'>
<a class='timestamp' href='#441779'><time timestamp='2015-11-30T22:25:00Z'>22:25</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
long overdue to be killed
<br>
</div>

<div class='talk op-msg' data-timestamp='1448922360' id='441780'>
<a class='timestamp' href='#441780'><time timestamp='2015-11-30T22:26:00Z'>22:26</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
have you guys thought about the performance hit to certain rejected txs from 6872 (see my comment)
<br>
</div>

<div class='talk op-msg' data-timestamp='1448922540' id='441781'>
<a class='timestamp' href='#441781'><time timestamp='2015-11-30T22:29:00Z'>22:29</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
i guess my vote is to go ahead and merge 6872, but be open to a better fix for 0.13?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448922840' id='441782'>
<a class='timestamp' href='#441782'><time timestamp='2015-11-30T22:34:00Z'>22:34</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
so libsecp256k1 has java bindings in-tree...what are people&#x27;s opinions of doing something like that for libbitcoinconsensus?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448922840' id='441783'>
<a class='timestamp' href='#441783'><time timestamp='2015-11-30T22:34:00Z'>22:34</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
otherwise you end up with a thin wrapper library doing the jni stuff which then links libbitcoinconsensus
<br>
</div>

<div class='talk op-msg' data-timestamp='1448922840' id='441784'>
<a class='timestamp' href='#441784'><time timestamp='2015-11-30T22:34:00Z'>22:34</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
very nice to have them in the same .so
<br>
</div>

<div class='talk op-msg' data-timestamp='1448923020' id='441785'>
<a class='timestamp' href='#441785'><time timestamp='2015-11-30T22:37:00Z'>22:37</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
sipa: ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448923140' id='441786'>
<a class='timestamp' href='#441786'><time timestamp='2015-11-30T22:39:00Z'>22:39</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
jtimon: ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448923260' id='441787'>
<a class='timestamp' href='#441787'><time timestamp='2015-11-30T22:41:00Z'>22:41</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
BlueMatt: ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448923260' id='441788'>
<a class='timestamp' href='#441788'><time timestamp='2015-11-30T22:41:00Z'>22:41</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
jtimon: java wrapper in bitcoin core for libbitcoinconsensus?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448923260' id='441789'>
<a class='timestamp' href='#441789'><time timestamp='2015-11-30T22:41:00Z'>22:41</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
eg <a href="https://github.com/bitcoin/secp256k1/tree/master/src/java" class="link" target="_blank">https://github.com/bitcoin/secp256k1/tree/master/src/java</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1448923260' id='441790'>
<a class='timestamp' href='#441790'><time timestamp='2015-11-30T22:41:00Z'>22:41</time></a>
&lt;<span class='nick nick-6'> btcdrak</span>&gt;
o.O
<br>
</div>

<div class='talk op-msg' data-timestamp='1448923260' id='441791'>
<a class='timestamp' href='#441791'><time timestamp='2015-11-30T22:41:00Z'>22:41</time></a>
&lt;<span class='nick nick-6'> btcdrak</span>&gt;
that&#x27;s pretty cool.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448923320' id='441792'>
<a class='timestamp' href='#441792'><time timestamp='2015-11-30T22:42:00Z'>22:42</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
BlueMatt: don&#x27;t see why not
<br>
</div>

<div class='talk op-msg' data-timestamp='1448923380' id='441793'>
<a class='timestamp' href='#441793'><time timestamp='2015-11-30T22:43:00Z'>22:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
BlueMatt: do those bindings even work?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448923380' id='441794'>
<a class='timestamp' href='#441794'><time timestamp='2015-11-30T22:43:00Z'>22:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
someone started updating them, but never got past the concept of read write locks, i think
<br>
</div>

<div class='talk op-msg' data-timestamp='1448923440' id='441795'>
<a class='timestamp' href='#441795'><time timestamp='2015-11-30T22:44:00Z'>22:44</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
sipa: now? i have no idea, they used to
<br>
</div>

<div class='talk op-msg' data-timestamp='1448923440' id='441796'>
<a class='timestamp' href='#441796'><time timestamp='2015-11-30T22:44:00Z'>22:44</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
morcos: i think it&#x27;s acceptable
<br>
</div>

<div class='talk op-msg' data-timestamp='1448923440' id='441797'>
<a class='timestamp' href='#441797'><time timestamp='2015-11-30T22:44:00Z'>22:44</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
it should be included with tests that start failing if it becomes unmaintained
<br>
</div>

<div class='talk op-msg' data-timestamp='1448923440' id='441798'>
<a class='timestamp' href='#441798'><time timestamp='2015-11-30T22:44:00Z'>22:44</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
i highly doubt anyone uses them, but I&#x27;m gonna try to push bitcoinj to remove its script engine entirely so I need some kind of replacement
<br>
</div>

<div class='talk op-msg' data-timestamp='1448923500' id='441799'>
<a class='timestamp' href='#441799'><time timestamp='2015-11-30T22:45:00Z'>22:45</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
so people would actually use that one
<br>
</div>

<div class='talk op-msg' data-timestamp='1448923500' id='441800'>
<a class='timestamp' href='#441800'><time timestamp='2015-11-30T22:45:00Z'>22:45</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jtimon: yup, that was my requirement; travis testable
<br>
</div>

<div class='talk op-msg' data-timestamp='1448923500' id='441801'>
<a class='timestamp' href='#441801'><time timestamp='2015-11-30T22:45:00Z'>22:45</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
but more things that can potentially break if you somehow break the consensus encapsulation helps protect what&#x27;s already encapsulated
<br>
</div>

<div class='talk op-msg' data-timestamp='1448923560' id='441802'>
<a class='timestamp' href='#441802'><time timestamp='2015-11-30T22:46:00Z'>22:46</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
I mean, I don&#x27;t plan to do it myself, but concept ack
<br>
</div>

<div class='talk op-msg' data-timestamp='1448923560' id='441803'>
<a class='timestamp' href='#441803'><time timestamp='2015-11-30T22:46:00Z'>22:46</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jtimon: the wrapper should only use the already exposed C api
<br>
</div>

<div class='talk op-msg' data-timestamp='1448923620' id='441804'>
<a class='timestamp' href='#441804'><time timestamp='2015-11-30T22:47:00Z'>22:47</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but yes, i&#x27;m certainly fine with that
<br>
</div>

<div class='talk op-msg' data-timestamp='1448923620' id='441805'>
<a class='timestamp' href='#441805'><time timestamp='2015-11-30T22:47:00Z'>22:47</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
not just for java
<br>
</div>

<div class='talk op-msg' data-timestamp='1448923680' id='441806'>
<a class='timestamp' href='#441806'><time timestamp='2015-11-30T22:48:00Z'>22:48</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
sipa: yeah it&#x27;s only going to be broken when the C api is changed, which shouldn&#x27;t happen much once it&#x27;s complete (and in the meantime)
<br>
</div>

<div class='talk op-msg' data-timestamp='1448923800' id='441807'>
<a class='timestamp' href='#441807'><time timestamp='2015-11-30T22:50:00Z'>22:50</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
and of course not just java, although I think I would put these in the consensus dir directly in preparation for &quot;subtreeing&quot; rather than in src
<br>
</div>

<div class='talk op-msg' data-timestamp='1448923860' id='441808'>
<a class='timestamp' href='#441808'><time timestamp='2015-11-30T22:51:00Z'>22:51</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
BlueMatt: ping #7091
<br>
</div>

<div class='talk op-msg' data-timestamp='1448924400' id='441809'>
<a class='timestamp' href='#441809'><time timestamp='2015-11-30T23:00:00Z'>23:00</time></a>
&lt;<span class='nick nick-11'> rook520</span>&gt;
Why is it wrong to get involved in the bitcoin trade?? Wouldnt it be smart to buy some shares and just let it sit and not touch it...and just let it evolve with bitcoin itself??
<br>
</div>

<div class='talk op-msg' data-timestamp='1448924460' id='441810'>
<a class='timestamp' href='#441810'><time timestamp='2015-11-30T23:01:00Z'>23:01</time></a>
&lt;<span class='nick nick-11'> rook520</span>&gt;
Andreas Antonopoulos....are there people in here smarter then him?? is he a joke?? Or does he know hes shit??
<br>
</div>

<div class='talk op-msg' data-timestamp='1448924520' id='441811'>
<a class='timestamp' href='#441811'><time timestamp='2015-11-30T23:02:00Z'>23:02</time></a>
&lt;<span class='nick nick-8'> jcorgan</span>&gt;
rook520: take it to #bitcoin
<br>
</div>

<div class='talk op-msg' data-timestamp='1448924520' id='441812'>
<a class='timestamp' href='#441812'><time timestamp='2015-11-30T23:02:00Z'>23:02</time></a>
&lt;<span class='nick nick-11'> rook520</span>&gt;
nvm i rather sit here quiet and watch you guys...Im learning in the process
<br>
</div>

<div class='talk op-msg' data-timestamp='1448924880' id='441813'>
<a class='timestamp' href='#441813'><time timestamp='2015-11-30T23:08:00Z'>23:08</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
morcos: sipa: BlueMatt: can we decide on one of the two options in #7115 ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448924940' id='441814'>
<a class='timestamp' href='#441814'><time timestamp='2015-11-30T23:09:00Z'>23:09</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
or another options, there&#x27;s infinite ways to remove the new circular dependency, let&#x27;s just chose one
<br>
</div>

<div class='talk op-msg' data-timestamp='1448924940' id='441815'>
<a class='timestamp' href='#441815'><time timestamp='2015-11-30T23:09:00Z'>23:09</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
jtimon: yea, give me a day and I&#x27;ll go review that one
<br>
</div>

<div class='talk op-msg' data-timestamp='1448924940' id='441816'>
<a class='timestamp' href='#441816'><time timestamp='2015-11-30T23:09:00Z'>23:09</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
BlueMatt: awesome
<br>
</div>

<div class='talk op-msg' data-timestamp='1448925120' id='441817'>
<a class='timestamp' href='#441817'><time timestamp='2015-11-30T23:12:00Z'>23:12</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
jtimon: i&#x27;m confused. i  thought you only presented 1 way of removing the circular dependency
<br>
</div>

<div class='talk op-msg' data-timestamp='1448925120' id='441818'>
<a class='timestamp' href='#441818'><time timestamp='2015-11-30T23:12:00Z'>23:12</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
BlueMatt: there&#x27;s ways inbetween (ie hide the global usage in main [only use it in GetMinFee] but still do it through a global instead of an attribute)
<br>
</div>

<div class='talk op-msg' data-timestamp='1448925120' id='441819'>
<a class='timestamp' href='#441819'><time timestamp='2015-11-30T23:12:00Z'>23:12</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
calling pool-&gt;getMinFee() from inside CTxMemPool::estimateSmartFee
<br>
</div>

<div class='talk op-msg' data-timestamp='1448925120' id='441820'>
<a class='timestamp' href='#441820'><time timestamp='2015-11-30T23:12:00Z'>23:12</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
morcos: here&#x27;s the other one: <a href="https://github.com/bitcoin/bitcoin/compare/master...jtimon:mempool-circular-dependency" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/master...jtimon:mempool-circular-dependency</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1448925180' id='441821'>
<a class='timestamp' href='#441821'><time timestamp='2015-11-30T23:13:00Z'>23:13</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
and as said I can produce an infinite amount of them with enough time
<br>
</div>

<div class='talk op-msg' data-timestamp='1448925180' id='441822'>
<a class='timestamp' href='#441822'><time timestamp='2015-11-30T23:13:00Z'>23:13</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
but you guys are doing some incompatible requests
<br>
</div>

<div class='talk op-msg' data-timestamp='1448925240' id='441823'>
<a class='timestamp' href='#441823'><time timestamp='2015-11-30T23:14:00Z'>23:14</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i&#x27;m staying out of this now, but morcos&#x27;s suggestion seems reasonable
<br>
</div>

<div class='talk op-msg' data-timestamp='1448925300' id='441824'>
<a class='timestamp' href='#441824'><time timestamp='2015-11-30T23:15:00Z'>23:15</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
for example, sipa says policy code shouldn&#x27;t be created in the mempool, but then GetMinFee should be in the estimator instead of the mempool
<br>
</div>

<div class='talk op-msg' data-timestamp='1448925300' id='441825'>
<a class='timestamp' href='#441825'><time timestamp='2015-11-30T23:15:00Z'>23:15</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
sipa: but you still want to remove the circular dependency now?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448925300' id='441826'>
<a class='timestamp' href='#441826'><time timestamp='2015-11-30T23:15:00Z'>23:15</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
jtimon: as for which method of removing circular dependency of the two you present, i like the one in the PR better
<br>
</div>

<div class='talk op-msg' data-timestamp='1448925300' id='441827'>
<a class='timestamp' href='#441827'><time timestamp='2015-11-30T23:15:00Z'>23:15</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
what i don&#x27;t like in the PR is where you are setting that attribute
<br>
</div>

<div class='talk op-msg' data-timestamp='1448925360' id='441828'>
<a class='timestamp' href='#441828'><time timestamp='2015-11-30T23:16:00Z'>23:16</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
can you change it to be lastTrimmedSize and set it in TrimToSize?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448925360' id='441829'>
<a class='timestamp' href='#441829'><time timestamp='2015-11-30T23:16:00Z'>23:16</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
yeah in init is better like in the other option
<br>
</div>

<div class='talk op-msg' data-timestamp='1448925360' id='441830'>
<a class='timestamp' href='#441830'><time timestamp='2015-11-30T23:16:00Z'>23:16</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
its not necessarily a fixed value, its the value that was last trimmed to, it should be set from TrimToSize
<br>
</div>

<div class='talk op-msg' data-timestamp='1448925360' id='441831'>
<a class='timestamp' href='#441831'><time timestamp='2015-11-30T23:16:00Z'>23:16</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
if you want TrimToSize to call some global variable set in init, thats ok with me
<br>
</div>

<div class='talk op-msg' data-timestamp='1448925420' id='441832'>
<a class='timestamp' href='#441832'><time timestamp='2015-11-30T23:17:00Z'>23:17</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
but the mempool attribute should be set by TrimToSize
<br>
</div>

<div class='talk op-msg' data-timestamp='1448925420' id='441833'>
<a class='timestamp' href='#441833'><time timestamp='2015-11-30T23:17:00Z'>23:17</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
but then I would prefer to use a global instead of an attribute (the global can be wherever we want, for example, policy/fee)
<br>
</div>

<div class='talk op-msg' data-timestamp='1448925420' id='441834'>
<a class='timestamp' href='#441834'><time timestamp='2015-11-30T23:17:00Z'>23:17</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
sigh.. why?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448925420' id='441835'>
<a class='timestamp' href='#441835'><time timestamp='2015-11-30T23:17:00Z'>23:17</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
its really only localized to GetMinFee
<br>
</div>

<div class='talk op-msg' data-timestamp='1448925420' id='441836'>
<a class='timestamp' href='#441836'><time timestamp='2015-11-30T23:17:00Z'>23:17</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
why make it a globabl
<br>
</div>

<div class='talk op-msg' data-timestamp='1448925420' id='441837'>
<a class='timestamp' href='#441837'><time timestamp='2015-11-30T23:17:00Z'>23:17</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
you&#x27;re talking about two separate things
<br>
</div>

<div class='talk op-msg' data-timestamp='1448925480' id='441838'>
<a class='timestamp' href='#441838'><time timestamp='2015-11-30T23:18:00Z'>23:18</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
the command line argument for maxmempool (fine make that a global)
<br>
</div>

<div class='talk op-msg' data-timestamp='1448925480' id='441839'>
<a class='timestamp' href='#441839'><time timestamp='2015-11-30T23:18:00Z'>23:18</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
and the high water mark for the decay in GetMinFee (which should not be a global or a fixed constant, it should be whatever number TrimToSize was called with)
<br>
</div>

<div class='talk op-msg' data-timestamp='1448925540' id='441840'>
<a class='timestamp' href='#441840'><time timestamp='2015-11-30T23:19:00Z'>23:19</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
I haven&#x27;t looked much yet, but how disruptive it seems to move GetMinFee to the estimator?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448925540' id='441841'>
<a class='timestamp' href='#441841'><time timestamp='2015-11-30T23:19:00Z'>23:19</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
then we can make it an attribute there
<br>
</div>

<div class='talk op-msg' data-timestamp='1448925540' id='441842'>
<a class='timestamp' href='#441842'><time timestamp='2015-11-30T23:19:00Z'>23:19</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
i haven&#x27;t looked either but i also thought of that
<br>
</div>

<div class='talk op-msg' data-timestamp='1448925600' id='441843'>
<a class='timestamp' href='#441843'><time timestamp='2015-11-30T23:20:00Z'>23:20</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
and the mempool can take the estimator as a parameter for its constructor instead of the minRelayfee
<br>
</div>

<div class='talk op-msg' data-timestamp='1448925600' id='441844'>
<a class='timestamp' href='#441844'><time timestamp='2015-11-30T23:20:00Z'>23:20</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
lets just concentrate on what MUST be done for 0.12.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448925600' id='441845'>
<a class='timestamp' href='#441845'><time timestamp='2015-11-30T23:20:00Z'>23:20</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
having the mempool take the estimator as a parameter seems very weird to me
<br>
</div>

<div class='talk op-msg' data-timestamp='1448925660' id='441846'>
<a class='timestamp' href='#441846'><time timestamp='2015-11-30T23:21:00Z'>23:21</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
why does the circular dependency have to go right now?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448925660' id='441847'>
<a class='timestamp' href='#441847'><time timestamp='2015-11-30T23:21:00Z'>23:21</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
then we can call the estimator without necessarily going through the mempool (there&#x27;s many facade methods in mempool) and start decoupling the mempool from the estimator
<br>
</div>

<div class='talk op-msg' data-timestamp='1448925660' id='441848'>
<a class='timestamp' href='#441848'><time timestamp='2015-11-30T23:21:00Z'>23:21</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
morcos: again, because you introduced it right now
<br>
</div>

<div class='talk op-msg' data-timestamp='1448925660' id='441849'>
<a class='timestamp' href='#441849'><time timestamp='2015-11-30T23:21:00Z'>23:21</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
jtimon: agree with that last statement, but too much for 0.12
<br>
</div>

<div class='talk op-msg' data-timestamp='1448925660' id='441850'>
<a class='timestamp' href='#441850'><time timestamp='2015-11-30T23:21:00Z'>23:21</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
jtimon: but why is it a problem?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448925660' id='441851'>
<a class='timestamp' href='#441851'><time timestamp='2015-11-30T23:21:00Z'>23:21</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jtimon: it seems very natural for the estimator to deoend on the mempool; why does that have to go?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448925720' id='441852'>
<a class='timestamp' href='#441852'><time timestamp='2015-11-30T23:22:00Z'>23:22</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
if you hadn&#x27;t introduced it unnecessarily there would be no hurry to remove it
<br>
</div>

<div class='talk op-msg' data-timestamp='1448925720' id='441853'>
<a class='timestamp' href='#441853'><time timestamp='2015-11-30T23:22:00Z'>23:22</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
we can of course disconnect everything, and have a ton of glue code to connect things together
<br>
</div>

<div class='talk op-msg' data-timestamp='1448925720' id='441854'>
<a class='timestamp' href='#441854'><time timestamp='2015-11-30T23:22:00Z'>23:22</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
please let&#x27;s discuss that properly when it&#x27;s &quot;needed&quot; then, this is clearly not the case
<br>
</div>

<div class='talk op-msg' data-timestamp='1448925780' id='441855'>
<a class='timestamp' href='#441855'><time timestamp='2015-11-30T23:23:00Z'>23:23</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
my plan, as said multiple times, is to make them both completely independent from each other (but acceptToMempool depends on both)
<br>
</div>

<div class='talk op-msg' data-timestamp='1448925780' id='441856'>
<a class='timestamp' href='#441856'><time timestamp='2015-11-30T23:23:00Z'>23:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i dislike circular dependencies; they&#x27;re a sign of badly separated code
<br>
</div>

<div class='talk op-msg' data-timestamp='1448925840' id='441857'>
<a class='timestamp' href='#441857'><time timestamp='2015-11-30T23:24:00Z'>23:24</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
what must be done: i don&#x27;t think it&#x27;s worth so much discussion
<br>
</div>

<div class='talk op-msg' data-timestamp='1448925840' id='441858'>
<a class='timestamp' href='#441858'><time timestamp='2015-11-30T23:24:00Z'>23:24</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
if we introduce this unnecesssary dependency it will be harder to present my case later
<br>
</div>

<div class='talk op-msg' data-timestamp='1448925840' id='441859'>
<a class='timestamp' href='#441859'><time timestamp='2015-11-30T23:24:00Z'>23:24</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
maybe i&#x27;m fine with just having a plan to fix it
<br>
</div>

<div class='talk op-msg' data-timestamp='1448925840' id='441860'>
<a class='timestamp' href='#441860'><time timestamp='2015-11-30T23:24:00Z'>23:24</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
sipa: sure but if it makes sense for estimator to depend on mempool.  then introducing that dependency isn&#x27;t a regression even if mempool already depends on estimator, it just points out that at some point we should clean up the mempool depending on the estimator
<br>
</div>

<div class='talk op-msg' data-timestamp='1448925840' id='441861'>
<a class='timestamp' href='#441861'><time timestamp='2015-11-30T23:24:00Z'>23:24</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
morcos: why make it dependent right now when it has been shown that is not necessary?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448925900' id='441862'>
<a class='timestamp' href='#441862'><time timestamp='2015-11-30T23:25:00Z'>23:25</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jtimon: no dependency is ever &quot;necessary&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1448925900' id='441863'>
<a class='timestamp' href='#441863'><time timestamp='2015-11-30T23:25:00Z'>23:25</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ever seen juice code?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448925900' id='441864'>
<a class='timestamp' href='#441864'><time timestamp='2015-11-30T23:25:00Z'>23:25</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
all dependencies resolved at runtime
<br>
</div>

<div class='talk op-msg' data-timestamp='1448925900' id='441865'>
<a class='timestamp' href='#441865'><time timestamp='2015-11-30T23:25:00Z'>23:25</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
sipa: ok, i&#x27;m happy to make sure the dependency is at most 1 way, but i&#x27;d rather not worry about it before 0.12
<br>
</div>

<div class='talk op-msg' data-timestamp='1448925900' id='441866'>
<a class='timestamp' href='#441866'><time timestamp='2015-11-30T23:25:00Z'>23:25</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that doesn&#x27;t mean it&#x27;s natural or readable
<br>
</div>

<div class='talk op-msg' data-timestamp='1448925900' id='441867'>
<a class='timestamp' href='#441867'><time timestamp='2015-11-30T23:25:00Z'>23:25</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
sipa: exactly
<br>
</div>

<div class='talk op-msg' data-timestamp='1448925900' id='441868'>
<a class='timestamp' href='#441868'><time timestamp='2015-11-30T23:25:00Z'>23:25</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
not seen juicy code but ack on no dependencies ever being necessary
<br>
</div>

<div class='talk op-msg' data-timestamp='1448925960' id='441869'>
<a class='timestamp' href='#441869'><time timestamp='2015-11-30T23:26:00Z'>23:26</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jtimon: but it sometimes comes at great cost in needing glue to bind things together
<br>
</div>

<div class='talk op-msg' data-timestamp='1448925960' id='441870'>
<a class='timestamp' href='#441870'><time timestamp='2015-11-30T23:26:00Z'>23:26</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
the fact that a dependency is not necessary does not make it the best design
<br>
</div>

<div class='talk op-msg' data-timestamp='1448926020' id='441871'>
<a class='timestamp' href='#441871'><time timestamp='2015-11-30T23:27:00Z'>23:27</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
so morcos and I agree that the mempool should not depend on the estimator but we disagree on whether or not the estimator should depend on the mempool or not, step one, whatever is more &quot;natural&quot; both are equally possible
<br>
</div>

<div class='talk op-msg' data-timestamp='1448926020' id='441872'>
<a class='timestamp' href='#441872'><time timestamp='2015-11-30T23:27:00Z'>23:27</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
sipa: agreed
<br>
</div>

<div class='talk op-msg' data-timestamp='1448926020' id='441873'>
<a class='timestamp' href='#441873'><time timestamp='2015-11-30T23:27:00Z'>23:27</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
so we disagree on what is the best design
<br>
</div>

<div class='talk op-msg' data-timestamp='1448926020' id='441874'>
<a class='timestamp' href='#441874'><time timestamp='2015-11-30T23:27:00Z'>23:27</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it seems to me (but i&#x27;m not very familiar with the details) that having a mempool estimator depend on the mempool is perfectly natural... if the mempool changes, the estimator (or the glue code) will need to change too
<br>
</div>

<div class='talk op-msg' data-timestamp='1448926080' id='441875'>
<a class='timestamp' href='#441875'><time timestamp='2015-11-30T23:28:00Z'>23:28</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
anyway
<br>
</div>

<div class='talk op-msg' data-timestamp='1448926080' id='441876'>
<a class='timestamp' href='#441876'><time timestamp='2015-11-30T23:28:00Z'>23:28</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
leaving the circular dependency there would be already deciding in his favor, since more couplings will rapidly follow
<br>
</div>

<div class='talk op-msg' data-timestamp='1448926080' id='441877'>
<a class='timestamp' href='#441877'><time timestamp='2015-11-30T23:28:00Z'>23:28</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
jtimon: but half of what we&#x27;re arguing about is the stupid GetArg calls and has nothing to do with the circular dependency!
<br>
</div>

<div class='talk op-msg' data-timestamp='1448926080' id='441878'>
<a class='timestamp' href='#441878'><time timestamp='2015-11-30T23:28:00Z'>23:28</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jtimon: if the coupling is natural, of course it will follow!
<br>
</div>

<div class='talk op-msg' data-timestamp='1448926140' id='441879'>
<a class='timestamp' href='#441879'><time timestamp='2015-11-30T23:29:00Z'>23:29</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
morcos: no, from the PR: &quot;But if people disagree, I can easily write a third patch that removes the circular dependency while maintaining all the GetArg(&quot;-maxmempool&quot;, DEFAULT_MAX_MEMPOOL_SIZE) * 1000000 verbosity.&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1448926140' id='441880'>
<a class='timestamp' href='#441880'><time timestamp='2015-11-30T23:29:00Z'>23:29</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i&#x27;ve said enough about this
<br>
</div>

<div class='talk op-msg' data-timestamp='1448926140' id='441881'>
<a class='timestamp' href='#441881'><time timestamp='2015-11-30T23:29:00Z'>23:29</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
that&#x27;s what sipa and matt are arguing about, it&#x27;s the less prioritary thing for me
<br>
</div>

<div class='talk op-msg' data-timestamp='1448926200' id='441882'>
<a class='timestamp' href='#441882'><time timestamp='2015-11-30T23:30:00Z'>23:30</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
jtimon: ok well do you want to try that, remove the dependency by calling GetMinFee inside of the CTxMemPool function with the GetArg and then I&#x27;ll stop objecting.  If I need to introduce the dependency for something else we can argue then
<br>
</div>

<div class='talk op-msg' data-timestamp='1448926200' id='441883'>
<a class='timestamp' href='#441883'><time timestamp='2015-11-30T23:30:00Z'>23:30</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
leave all the GetArg&#x27;s for now and we can celan those up separately
<br>
</div>

<div class='talk op-msg' data-timestamp='1448926260' id='441884'>
<a class='timestamp' href='#441884'><time timestamp='2015-11-30T23:31:00Z'>23:31</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
morcos: exactly we can argue later about the dependency (while, I hope, collaborating n removing the inverse dependency we both dislike)
<br>
</div>

<div class='talk op-msg' data-timestamp='1448926260' id='441885'>
<a class='timestamp' href='#441885'><time timestamp='2015-11-30T23:31:00Z'>23:31</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
sounds like a plan
<br>
</div>

<div class='talk op-msg' data-timestamp='1448926320' id='441886'>
<a class='timestamp' href='#441886'><time timestamp='2015-11-30T23:32:00Z'>23:32</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
i have to run now
<br>
</div>

<div class='talk op-msg' data-timestamp='1448926380' id='441887'>
<a class='timestamp' href='#441887'><time timestamp='2015-11-30T23:33:00Z'>23:33</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
ok, removing all the GetArg(&quot;-maxmempool&quot;, DEFAULT_MAX_MEMPOOL_SIZE) * 1000000 verbosity seemed like an obvious thing to do because I thought that was the general trend, I think we started arguing on where to put the global/attribute, but IMO the global is still better than argsMap (another global)
<br>
</div>

<div class='talk op-msg' data-timestamp='1448926620' id='441888'>
<a class='timestamp' href='#441888'><time timestamp='2015-11-30T23:37:00Z'>23:37</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
best is a global in init or mail, whose value is passed to the trim calls in ATMP :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1448926680' id='441889'>
<a class='timestamp' href='#441889'><time timestamp='2015-11-30T23:38:00Z'>23:38</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
main
<br>
</div>

<div class='talk op-msg' data-timestamp='1448926740' id='441890'>
<a class='timestamp' href='#441890'><time timestamp='2015-11-30T23:39:00Z'>23:39</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
yep main and initialization in init is what the great majority of globals currently do, I don&#x27;t see why we should be inconsistent in this case
<br>
</div>

<div class='talk op-msg' data-timestamp='1448926800' id='441891'>
<a class='timestamp' href='#441891'><time timestamp='2015-11-30T23:40:00Z'>23:40</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
sipa: thus <a href="https://github.com/bitcoin/bitcoin/compare/master...jtimon:mempool-circular-dependency" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/master...jtimon:mempool-circular-dependency</a> I thought you would like it more than the initial one
<br>
</div>

<div class='talk op-msg' data-timestamp='1448926800' id='441892'>
<a class='timestamp' href='#441892'><time timestamp='2015-11-30T23:40:00Z'>23:40</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yup
<br>
</div>

<div class='talk op-msg' data-timestamp='1448926920' id='441893'>
<a class='timestamp' href='#441893'><time timestamp='2015-11-30T23:42:00Z'>23:42</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
superficial ack
<br>
</div>

<div class='talk op-msg' data-timestamp='1448926920' id='441894'>
<a class='timestamp' href='#441894'><time timestamp='2015-11-30T23:42:00Z'>23:42</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
I specially would like to remove that nMempoolSizeMax local variable that&#x27;s only used for a check but doesn&#x27;t actually gurantee anything about the future contents of &quot;GetArg(&quot;-maxmempool&quot;, DEFAULT_MAX_MEMPOOL_SIZE) * 1000000&quot; line <a href="https://github.com/bitcoin/bitcoin/compare/master...jtimon:mempool-circular-dependency#diff-c865a8939105e6350a50af02766291b7L902" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/master...jtimon:mempool-circular-dependency#diff-c865a8939105e6350a50af02766291b7L902</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1448927100' id='441895'>
<a class='timestamp' href='#441895'><time timestamp='2015-11-30T23:45:00Z'>23:45</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
anyway, I&#x27;ll wait for BlueMatt to have an opinion, but the main thing is that morcos and I have agreed to disagree later
<br>
</div>

<div class='talk op-msg' data-timestamp='1448927220' id='441896'>
<a class='timestamp' href='#441896'><time timestamp='2015-11-30T23:47:00Z'>23:47</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
well, I will prepare a 3-step thing for people to ack or nack the last 2 commits, the first one will be the minimal way of removing the circular dependency
<br>
</div>

<div class='talk op-msg' data-timestamp='1448927280' id='441897'>
<a class='timestamp' href='#441897'><time timestamp='2015-11-30T23:48:00Z'>23:48</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
so, 1 minimal commit plus 2 squash-or-nack commits
<br>
</div>

<div class='talk op-msg' data-timestamp='1448927580' id='441898'>
<a class='timestamp' href='#441898'><time timestamp='2015-11-30T23:53:00Z'>23:53</time></a>
&lt;<span class='nick nick-2'> Luke-Jr</span>&gt;
phantomcircuit: Author: Patick Strateman &lt;patrick.strateman@gmail.com&gt;
<br>
</div>

<div class='talk op-msg' data-timestamp='1448927580' id='441899'>
<a class='timestamp' href='#441899'><time timestamp='2015-11-30T23:53:00Z'>23:53</time></a>
&lt;<span class='nick nick-2'> Luke-Jr</span>&gt;
typo?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448927820' id='441900'>
<a class='timestamp' href='#441900'><time timestamp='2015-11-30T23:57:00Z'>23:57</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
Luke-Jr: no, twin brother
<br>
</div>

<div class='talk op-msg' data-timestamp='1448927880' id='441901'>
<a class='timestamp' href='#441901'><time timestamp='2015-11-30T23:58:00Z'>23:58</time></a>
&lt;<span class='nick nick-2'> Luke-Jr</span>&gt;
O.o
<br>
</div>

</div>
</section>

</body>
</html>
