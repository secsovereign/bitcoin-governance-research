<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2020-11-26
 — 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2020-11-26' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:17 UTC</pre>
<pre><a href="/bitcoin-core-dev/2020-10-26">&lt;</a><span class='header'>  November 2020   </span><a href="/bitcoin-core-dev/2020-12-26">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A; <a class="" href="/bitcoin-core-dev/2020-11-01">1</a>  <a class="" href="/bitcoin-core-dev/2020-11-02">2</a>  <a class="" href="/bitcoin-core-dev/2020-11-03">3</a>  <a class="" href="/bitcoin-core-dev/2020-11-04">4</a>  <a class="" href="/bitcoin-core-dev/2020-11-05">5</a>  <a class="" href="/bitcoin-core-dev/2020-11-06">6</a>  <a class="" href="/bitcoin-core-dev/2020-11-07">7</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2020-11-08">8</a>  <a class="" href="/bitcoin-core-dev/2020-11-09">9</a> <a class="" href="/bitcoin-core-dev/2020-11-10">10</a> <a class="" href="/bitcoin-core-dev/2020-11-11">11</a> <a class="" href="/bitcoin-core-dev/2020-11-12">12</a> <a class="" href="/bitcoin-core-dev/2020-11-13">13</a> <a class="" href="/bitcoin-core-dev/2020-11-14">14</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2020-11-15">15</a> <a class="" href="/bitcoin-core-dev/2020-11-16">16</a> <a class="" href="/bitcoin-core-dev/2020-11-17">17</a> <a class="" href="/bitcoin-core-dev/2020-11-18">18</a> <a class="" href="/bitcoin-core-dev/2020-11-19">19</a> <a class="" href="/bitcoin-core-dev/2020-11-20">20</a> <a class="" href="/bitcoin-core-dev/2020-11-21">21</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2020-11-22">22</a> <a class="" href="/bitcoin-core-dev/2020-11-23">23</a> <a class="" href="/bitcoin-core-dev/2020-11-24">24</a> <a class="" href="/bitcoin-core-dev/2020-11-25">25</a> <a class="current" href="/bitcoin-core-dev/2020-11-26">26</a> <a class="" href="/bitcoin-core-dev/2020-11-27">27</a> <a class="" href="/bitcoin-core-dev/2020-11-28">28</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2020-11-29">29</a> <a class="" href="/bitcoin-core-dev/2020-11-30">30</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1606351980' id='415240'>
<a class='timestamp' href='#415240'><time timestamp='2020-11-26T00:53:00Z'>00:53</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
is it intentional that the test framework&#x27;s addmultisigaddress substitute for descriptor wallets doesn&#x27;t accept addresses?
<br>
</div>

<div class='talk op-msg' data-timestamp='1606351980' id='415241'>
<a class='timestamp' href='#415241'><time timestamp='2020-11-26T00:53:00Z'>00:53</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
luke-jr: yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1606351980' id='415242'>
<a class='timestamp' href='#415242'><time timestamp='2020-11-26T00:53:00Z'>00:53</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
k, makes sense
<br>
</div>

<div class='talk op-msg' data-timestamp='1606352940' id='415243'>
<a class='timestamp' href='#415243'><time timestamp='2020-11-26T01:09:00Z'>01:09</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
achow101: I can&#x27;t get it to work at all :/
<br>
</div>

<div class='talk op-msg' data-timestamp='1606352940' id='415244'>
<a class='timestamp' href='#415244'><time timestamp='2020-11-26T01:09:00Z'>01:09</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
test_framework.authproxy.JSONRPCException: Cannot import descriptor without private keys to a wallet with private keys enabled (-4)
<br>
</div>

<div class='talk op-msg' data-timestamp='1606353720' id='415245'>
<a class='timestamp' href='#415245'><time timestamp='2020-11-26T01:22:00Z'>01:22</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
luke-jr: the error message is self explanatory. you need a wallet with private keys disabled
<br>
</div>

<div class='talk op-msg' data-timestamp='1606353840' id='415246'>
<a class='timestamp' href='#415246'><time timestamp='2020-11-26T01:24:00Z'>01:24</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
achow101: but it&#x27;s not supposed to be watch-only
<br>
</div>

<div class='talk op-msg' data-timestamp='1606353900' id='415247'>
<a class='timestamp' href='#415247'><time timestamp='2020-11-26T01:25:00Z'>01:25</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
then it has to have at least one private key
<br>
</div>

<div class='talk op-msg' data-timestamp='1606353900' id='415248'>
<a class='timestamp' href='#415248'><time timestamp='2020-11-26T01:25:00Z'>01:25</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
it does, addmultisigaddress still requires the pubkey passed though…
<br>
</div>

<div class='talk op-msg' data-timestamp='1606353900' id='415249'>
<a class='timestamp' href='#415249'><time timestamp='2020-11-26T01:25:00Z'>01:25</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
how to setup multisigs in descriptor wallets is still an unsolved problem
<br>
</div>

<div class='talk op-msg' data-timestamp='1606353900' id='415250'>
<a class='timestamp' href='#415250'><time timestamp='2020-11-26T01:25:00Z'>01:25</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
:/
<br>
</div>

<div class='talk op-msg' data-timestamp='1606353960' id='415251'>
<a class='timestamp' href='#415251'><time timestamp='2020-11-26T01:26:00Z'>01:26</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
what exactly are you trying to do?
<br>
</div>

<div class='talk op-msg' data-timestamp='1606354080' id='415252'>
<a class='timestamp' href='#415252'><time timestamp='2020-11-26T01:28:00Z'>01:28</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
achow101: <a href="https://dpaste.com/5K7JHWDS4" class="link" target="_blank">https://dpaste.com/5K7JHWDS4</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1606354200' id='415253'>
<a class='timestamp' href='#415253'><time timestamp='2020-11-26T01:30:00Z'>01:30</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
but why tho
<br>
</div>

<div class='talk op-msg' data-timestamp='1606354200' id='415254'>
<a class='timestamp' href='#415254'><time timestamp='2020-11-26T01:30:00Z'>01:30</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
so it gets tested
<br>
</div>

<div class='talk op-msg' data-timestamp='1606354260' id='415255'>
<a class='timestamp' href='#415255'><time timestamp='2020-11-26T01:31:00Z'>01:31</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
import a sortedmulti descriptor instead of adding more stuff to addmultsigaddress?
<br>
</div>

<div class='talk op-msg' data-timestamp='1606354260' id='415256'>
<a class='timestamp' href='#415256'><time timestamp='2020-11-26T01:31:00Z'>01:31</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
this is from 2016
<br>
</div>

<div class='talk op-msg' data-timestamp='1606354260' id='415257'>
<a class='timestamp' href='#415257'><time timestamp='2020-11-26T01:31:00Z'>01:31</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
and works with normal wallets
<br>
</div>

<div class='talk op-msg' data-timestamp='1606354320' id='415258'>
<a class='timestamp' href='#415258'><time timestamp='2020-11-26T01:32:00Z'>01:32</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
since addmultisigaddress doesn&#x27;t exist for descriptorwallets, I don&#x27;t think it makes sense to try to test it for them
<br>
</div>

<div class='talk op-msg' data-timestamp='1606354320' id='415259'>
<a class='timestamp' href='#415259'><time timestamp='2020-11-26T01:32:00Z'>01:32</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
fair enough
<br>
</div>

<div class='talk op-msg' data-timestamp='1606354320' id='415260'>
<a class='timestamp' href='#415260'><time timestamp='2020-11-26T01:32:00Z'>01:32</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
the helper only exists for when we use addmultisigaddress to make a multisig to test other stuff
<br>
</div>

<div class='talk op-msg' data-timestamp='1606354740' id='415261'>
<a class='timestamp' href='#415261'><time timestamp='2020-11-26T01:39:00Z'>01:39</time></a>
&lt;<span class='nick nick-16'> CubicEarth</span>&gt;
on the P2P side fo things, is there a reason for the client to not look for and prioritize downloading block data from sources on the LAN?
<br>
</div>

<div class='talk op-msg' data-timestamp='1606354800' id='415262'>
<a class='timestamp' href='#415262'><time timestamp='2020-11-26T01:40:00Z'>01:40</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
CubicEarth: if you -addnode them, it&#x27;ll likely fetch most blocks from there
<br>
</div>

<div class='talk op-msg' data-timestamp='1606354800' id='415263'>
<a class='timestamp' href='#415263'><time timestamp='2020-11-26T01:40:00Z'>01:40</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
there is no functionality for automatically detecting other bitcoin node in the local network
<br>
</div>

<div class='talk op-msg' data-timestamp='1606355100' id='415264'>
<a class='timestamp' href='#415264'><time timestamp='2020-11-26T01:45:00Z'>01:45</time></a>
&lt;<span class='nick nick-16'> CubicEarth</span>&gt;
I use addnode or connect :)  It seemed like such functionality could be of benefit helping to make dissemination of the block data more user friendly. Totally understood that it would be a low priority in any case.
<br>
</div>

<div class='talk op-msg' data-timestamp='1606355100' id='415265'>
<a class='timestamp' href='#415265'><time timestamp='2020-11-26T01:45:00Z'>01:45</time></a>
&lt;<span class='nick nick-16'> CubicEarth</span>&gt;
But is there a reason why such functionality would be bad?
<br>
</div>

<div class='talk op-msg' data-timestamp='1606355220' id='415266'>
<a class='timestamp' href='#415266'><time timestamp='2020-11-26T01:47:00Z'>01:47</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
define more user friendly?
<br>
</div>

<div class='talk op-msg' data-timestamp='1606355280' id='415267'>
<a class='timestamp' href='#415267'><time timestamp='2020-11-26T01:48:00Z'>01:48</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i can see the use of detecting other nodes on a local network, but nobody has implemented that
<br>
</div>

<div class='talk op-msg' data-timestamp='1606355280' id='415268'>
<a class='timestamp' href='#415268'><time timestamp='2020-11-26T01:48:00Z'>01:48</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
bneyond that, i don&#x27;t know what you&#x27;re asking for
<br>
</div>

<div class='talk op-msg' data-timestamp='1606355280' id='415269'>
<a class='timestamp' href='#415269'><time timestamp='2020-11-26T01:48:00Z'>01:48</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
is it behaving badly currently?
<br>
</div>

<div class='talk op-msg' data-timestamp='1606355400' id='415270'>
<a class='timestamp' href='#415270'><time timestamp='2020-11-26T01:50:00Z'>01:50</time></a>
&lt;<span class='nick nick-16'> CubicEarth</span>&gt;
One assumption I am making: the IBD can be costly in terms of ISP data caps
<br>
</div>

<div class='talk op-msg' data-timestamp='1606355460' id='415271'>
<a class='timestamp' href='#415271'><time timestamp='2020-11-26T01:51:00Z'>01:51</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ah
<br>
</div>

<div class='talk op-msg' data-timestamp='1606355460' id='415272'>
<a class='timestamp' href='#415272'><time timestamp='2020-11-26T01:51:00Z'>01:51</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i&#x27;d suggest to have one gateway node in your network, and have the other nodes not make outgoing connections, if you&#x27;re concerned about that
<br>
</div>

<div class='talk op-msg' data-timestamp='1606355640' id='415273'>
<a class='timestamp' href='#415273'><time timestamp='2020-11-26T01:54:00Z'>01:54</time></a>
&lt;<span class='nick nick-16'> CubicEarth</span>&gt;
Yeah, it is easy enough for me avoid pulling the data twice through my WAN
<br>
</div>

<div class='talk op-msg' data-timestamp='1606355640' id='415274'>
<a class='timestamp' href='#415274'><time timestamp='2020-11-26T01:54:00Z'>01:54</time></a>
&lt;<span class='nick nick-16'> CubicEarth</span>&gt;
I was just thinking of making it happen with less user intervention
<br>
</div>

<div class='talk op-msg' data-timestamp='1606355700' id='415275'>
<a class='timestamp' href='#415275'><time timestamp='2020-11-26T01:55:00Z'>01:55</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
doing it without user configuration is hard through
<br>
</div>

<div class='talk op-msg' data-timestamp='1606355760' id='415276'>
<a class='timestamp' href='#415276'><time timestamp='2020-11-26T01:56:00Z'>01:56</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
you could have a rule say that causes a delay before fetching from external IPs to give a chance for a local node to announce it first to you
<br>
</div>

<div class='talk op-msg' data-timestamp='1606355760' id='415277'>
<a class='timestamp' href='#415277'><time timestamp='2020-11-26T01:56:00Z'>01:56</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but now you need to make sure there is one node in your network that doesn&#x27;t have this delay, or you&#x27;re just going to lag behind on all nodes
<br>
</div>

<div class='talk op-msg' data-timestamp='1606355940' id='415278'>
<a class='timestamp' href='#415278'><time timestamp='2020-11-26T01:59:00Z'>01:59</time></a>
&lt;<span class='nick nick-16'> CubicEarth</span>&gt;
Isn&#x27;t is trivial to know if a device is on the same ... subnet?
<br>
</div>

<div class='talk op-msg' data-timestamp='1606356000' id='415279'>
<a class='timestamp' href='#415279'><time timestamp='2020-11-26T02:00:00Z'>02:00</time></a>
&lt;<span class='nick nick-16'> CubicEarth</span>&gt;
not sure if subnet is the right term... argh
<br>
</div>

<div class='talk op-msg' data-timestamp='1606356120' id='415280'>
<a class='timestamp' href='#415280'><time timestamp='2020-11-26T02:02:00Z'>02:02</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
CubicEarth: that&#x27;s not the problem!
<br>
</div>

<div class='talk op-msg' data-timestamp='1606356120' id='415281'>
<a class='timestamp' href='#415281'><time timestamp='2020-11-26T02:02:00Z'>02:02</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
the problem is making sure that not everyone on the same network is slowing down blocks from the outside
<br>
</div>

<div class='talk op-msg' data-timestamp='1606356120' id='415282'>
<a class='timestamp' href='#415282'><time timestamp='2020-11-26T02:02:00Z'>02:02</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
they&#x27;re still supposed to come in quickly to one node from outside
<br>
</div>

<div class='talk op-msg' data-timestamp='1606356120' id='415283'>
<a class='timestamp' href='#415283'><time timestamp='2020-11-26T02:02:00Z'>02:02</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
so you need some kind of &quot;leader election&quot;...
<br>
</div>

<div class='talk op-msg' data-timestamp='1606356180' id='415284'>
<a class='timestamp' href='#415284'><time timestamp='2020-11-26T02:03:00Z'>02:03</time></a>
&lt;<span class='nick nick-16'> CubicEarth</span>&gt;
Are you talking about just keeping up with new blocks as they are issued? I am thinking about when one node is far behind in block height
<br>
</div>

<div class='talk op-msg' data-timestamp='1606356240' id='415285'>
<a class='timestamp' href='#415285'><time timestamp='2020-11-26T02:04:00Z'>02:04</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ah, yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1606356240' id='415286'>
<a class='timestamp' href='#415286'><time timestamp='2020-11-26T02:04:00Z'>02:04</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
for IBD it should Just Work(tm)
<br>
</div>

<div class='talk op-msg' data-timestamp='1606356240' id='415287'>
<a class='timestamp' href='#415287'><time timestamp='2020-11-26T02:04:00Z'>02:04</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
as it autoselects for faster peers
<br>
</div>

<div class='talk op-msg' data-timestamp='1606356300' id='415288'>
<a class='timestamp' href='#415288'><time timestamp='2020-11-26T02:05:00Z'>02:05</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
though probably not aggressively enough to get ~all blocks from just local nodes
<br>
</div>

<div class='talk op-msg' data-timestamp='1606356360' id='415289'>
<a class='timestamp' href='#415289'><time timestamp='2020-11-26T02:06:00Z'>02:06</time></a>
&lt;<span class='nick nick-16'> CubicEarth</span>&gt;
Interesting. I haven&#x27;t noticed this to be the case, but I can test it going forward and see how it behaves
<br>
</div>

<div class='talk op-msg' data-timestamp='1606356360' id='415290'>
<a class='timestamp' href='#415290'><time timestamp='2020-11-26T02:06:00Z'>02:06</time></a>
&lt;<span class='nick nick-16'> CubicEarth</span>&gt;
And I know i
<br>
</div>

<div class='talk op-msg' data-timestamp='1606356420' id='415291'>
<a class='timestamp' href='#415291'><time timestamp='2020-11-26T02:07:00Z'>02:07</time></a>
&lt;<span class='nick nick-16'> CubicEarth</span>&gt;
I&#x27;ve asked this before, but I forget the answer... how far ahead of the validation will it download blocks?
<br>
</div>

<div class='talk op-msg' data-timestamp='1606356420' id='415292'>
<a class='timestamp' href='#415292'><time timestamp='2020-11-26T02:07:00Z'>02:07</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
1024 blocks
<br>
</div>

<div class='talk op-msg' data-timestamp='1606356480' id='415293'>
<a class='timestamp' href='#415293'><time timestamp='2020-11-26T02:08:00Z'>02:08</time></a>
&lt;<span class='nick nick-16'> CubicEarth</span>&gt;
the &quot;sliding window&quot;? thanks
<br>
</div>

<div class='talk op-msg' data-timestamp='1606356480' id='415294'>
<a class='timestamp' href='#415294'><time timestamp='2020-11-26T02:08:00Z'>02:08</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1606356720' id='415295'>
<a class='timestamp' href='#415295'><time timestamp='2020-11-26T02:12:00Z'>02:12</time></a>
&lt;<span class='nick nick-16'> CubicEarth</span>&gt;
&quot;The main purpose of this is so that blocks that are near one another on the blockchain are most likely contained in the same .dat file (where the raw block data is stored on disk).&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1606356720' id='415296'>
<a class='timestamp' href='#415296'><time timestamp='2020-11-26T02:12:00Z'>02:12</time></a>
&lt;<span class='nick nick-16'> CubicEarth</span>&gt;
Still the case?
<br>
</div>

<div class='talk op-msg' data-timestamp='1606356720' id='415297'>
<a class='timestamp' href='#415297'><time timestamp='2020-11-26T02:12:00Z'>02:12</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1606356720' id='415298'>
<a class='timestamp' href='#415298'><time timestamp='2020-11-26T02:12:00Z'>02:12</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
otherwise you can&#x27;t effectively prune
<br>
</div>

<div class='talk op-msg' data-timestamp='1606356840' id='415299'>
<a class='timestamp' href='#415299'><time timestamp='2020-11-26T02:14:00Z'>02:14</time></a>
&lt;<span class='nick nick-16'> CubicEarth</span>&gt;
I&#x27;ve never looked at, or asked about how the .dat files were structured, but I had assumed the blocks were more or less kept in order. But actually each .dat file is just filled with whatever the next blocks to come in are?
<br>
</div>

<div class='talk op-msg' data-timestamp='1606356900' id='415300'>
<a class='timestamp' href='#415300'><time timestamp='2020-11-26T02:15:00Z'>02:15</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yep, they&#x27;re just appended in the order they arrive
<br>
</div>

<div class='talk op-msg' data-timestamp='1606356960' id='415301'>
<a class='timestamp' href='#415301'><time timestamp='2020-11-26T02:16:00Z'>02:16</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
you wouldn&#x27;t know where to put things if you want to keep them in order
<br>
</div>

<div class='talk op-msg' data-timestamp='1606356960' id='415302'>
<a class='timestamp' href='#415302'><time timestamp='2020-11-26T02:16:00Z'>02:16</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
as you don&#x27;t know the size of the blocks you still miss
<br>
</div>

<div class='talk op-msg' data-timestamp='1606356960' id='415303'>
<a class='timestamp' href='#415303'><time timestamp='2020-11-26T02:16:00Z'>02:16</time></a>
&lt;<span class='nick nick-16'> CubicEarth</span>&gt;
couldn&#x27;t you use the headers?
<br>
</div>

<div class='talk op-msg' data-timestamp='1606356960' id='415304'>
<a class='timestamp' href='#415304'><time timestamp='2020-11-26T02:16:00Z'>02:16</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
headers don&#x27;t contain the block&#x27;s sizes
<br>
</div>

<div class='talk op-msg' data-timestamp='1606357440' id='415305'>
<a class='timestamp' href='#415305'><time timestamp='2020-11-26T02:24:00Z'>02:24</time></a>
&lt;<span class='nick nick-16'> CubicEarth</span>&gt;
Got it. And the reason to tie the sliding window to the validation is make sure that the sliding window never gets more than 1024 blocks ahead of blocks known to be good?
<br>
</div>

<div class='talk op-msg' data-timestamp='1606357440' id='415306'>
<a class='timestamp' href='#415306'><time timestamp='2020-11-26T02:24:00Z'>02:24</time></a>
&lt;<span class='nick nick-16'> CubicEarth</span>&gt;
Because otherwise it would seem the sliding window could just be in relation to highest unbroken block in sequence, and could therefore advance far faster than validation.
<br>
</div>

<div class='talk op-msg' data-timestamp='1606357440' id='415307'>
<a class='timestamp' href='#415307'><time timestamp='2020-11-26T02:24:00Z'>02:24</time></a>
&lt;<span class='nick nick-16'> CubicEarth</span>&gt;
*highest block in unbroken sequence
<br>
</div>

<div class='talk op-msg' data-timestamp='1606357560' id='415308'>
<a class='timestamp' href='#415308'><time timestamp='2020-11-26T02:26:00Z'>02:26</time></a>
&lt;<span class='nick nick-16'> CubicEarth</span>&gt;
(meaning an attack could feed bad blocks, and then the blk.dat files would be more out of order)
<br>
</div>

<div class='talk op-msg' data-timestamp='1606357740' id='415309'>
<a class='timestamp' href='#415309'><time timestamp='2020-11-26T02:29:00Z'>02:29</time></a>
&lt;<span class='nick nick-16'> CubicEarth</span>&gt;
sipa: You are always the person to answer my questions about the P2P stuff... and gmaxwell sometimes. Are you like the only person who knows all of the &#x27;why&#x27; the p2p stuff is the way it is, or are you just the person willing to entertain my questions?
<br>
</div>

<div class='talk op-msg' data-timestamp='1606358160' id='415310'>
<a class='timestamp' href='#415310'><time timestamp='2020-11-26T02:36:00Z'>02:36</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
CubicEarth: i mean... a block arrives, you don&#x27;t have its parent(s) yet... where do you store it?
<br>
</div>

<div class='talk op-msg' data-timestamp='1606358160' id='415311'>
<a class='timestamp' href='#415311'><time timestamp='2020-11-26T02:36:00Z'>02:36</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
CubicEarth: i&#x27;ve been around for a while :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1606358220' id='415312'>
<a class='timestamp' href='#415312'><time timestamp='2020-11-26T02:37:00Z'>02:37</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and in this... i wrote a significant part of the block fetching logic
<br>
</div>

<div class='talk op-msg' data-timestamp='1606358280' id='415313'>
<a class='timestamp' href='#415313'><time timestamp='2020-11-26T02:38:00Z'>02:38</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
+case
<br>
</div>

<div class='talk op-msg' data-timestamp='1606358280' id='415314'>
<a class='timestamp' href='#415314'><time timestamp='2020-11-26T02:38:00Z'>02:38</time></a>
&lt;<span class='nick nick-16'> CubicEarth</span>&gt;
so this about avoid disk thrashing?
<br>
</div>

<div class='talk op-msg' data-timestamp='1606358340' id='415315'>
<a class='timestamp' href='#415315'><time timestamp='2020-11-26T02:39:00Z'>02:39</time></a>
&lt;<span class='nick nick-16'> CubicEarth</span>&gt;
is ... avoiding
<br>
</div>

<div class='talk op-msg' data-timestamp='1606358340' id='415316'>
<a class='timestamp' href='#415316'><time timestamp='2020-11-26T02:39:00Z'>02:39</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
compared to which alternative? you haven&#x27;t given any
<br>
</div>

<div class='talk op-msg' data-timestamp='1606358400' id='415317'>
<a class='timestamp' href='#415317'><time timestamp='2020-11-26T02:40:00Z'>02:40</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
a possibility is just storing every block in a separate file
<br>
</div>

<div class='talk op-msg' data-timestamp='1606358460' id='415318'>
<a class='timestamp' href='#415318'><time timestamp='2020-11-26T02:41:00Z'>02:41</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that&#x27;s great as it means you can delete whatever block at any time
<br>
</div>

<div class='talk op-msg' data-timestamp='1606358460' id='415319'>
<a class='timestamp' href='#415319'><time timestamp='2020-11-26T02:41:00Z'>02:41</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
unfortunately most filesystems perform terribly with huge numbers of files
<br>
</div>

<div class='talk op-msg' data-timestamp='1606358460' id='415320'>
<a class='timestamp' href='#415320'><time timestamp='2020-11-26T02:41:00Z'>02:41</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
another possibility is constantly rewriting block files
<br>
</div>

<div class='talk op-msg' data-timestamp='1606358460' id='415321'>
<a class='timestamp' href='#415321'><time timestamp='2020-11-26T02:41:00Z'>02:41</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
to keep the blocks in order
<br>
</div>

<div class='talk op-msg' data-timestamp='1606359000' id='415322'>
<a class='timestamp' href='#415322'><time timestamp='2020-11-26T02:50:00Z'>02:50</time></a>
&lt;<span class='nick nick-16'> CubicEarth</span>&gt;
I guess the question becomes how bad is it if that some blocks are way out of order. On the surface, it seems desirable for the block download to be independent of the cpu intensive validation.
<br>
</div>

<div class='talk op-msg' data-timestamp='1606359120' id='415323'>
<a class='timestamp' href='#415323'><time timestamp='2020-11-26T02:52:00Z'>02:52</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it is
<br>
</div>

<div class='talk op-msg' data-timestamp='1606359120' id='415324'>
<a class='timestamp' href='#415324'><time timestamp='2020-11-26T02:52:00Z'>02:52</time></a>
&lt;<span class='nick nick-16'> CubicEarth</span>&gt;
Coupled with the LAN prioritization I was musing about, imagine that for some short period of time, you have a high bandwidth connection. It would be advantageous to be able to download all of the blocks right then
<br>
</div>

<div class='talk op-msg' data-timestamp='1606359120' id='415325'>
<a class='timestamp' href='#415325'><time timestamp='2020-11-26T02:52:00Z'>02:52</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it doesn&#x27;t matter where blocks are stored for validation
<br>
</div>

<div class='talk op-msg' data-timestamp='1606359120' id='415326'>
<a class='timestamp' href='#415326'><time timestamp='2020-11-26T02:52:00Z'>02:52</time></a>
&lt;<span class='nick nick-16'> CubicEarth</span>&gt;
and then let the cpu chew through it later
<br>
</div>

<div class='talk op-msg' data-timestamp='1606359180' id='415327'>
<a class='timestamp' href='#415327'><time timestamp='2020-11-26T02:53:00Z'>02:53</time></a>
&lt;<span class='nick nick-16'> CubicEarth</span>&gt;
well that is good
<br>
</div>

<div class='talk op-msg' data-timestamp='1606359180' id='415328'>
<a class='timestamp' href='#415328'><time timestamp='2020-11-26T02:53:00Z'>02:53</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yeah, that sounds vaguely useful
<br>
</div>

<div class='talk op-msg' data-timestamp='1606359480' id='415329'>
<a class='timestamp' href='#415329'><time timestamp='2020-11-26T02:58:00Z'>02:58</time></a>
&lt;<span class='nick nick-16'> CubicEarth</span>&gt;
You are saying those processes are independent, but at the moment, they are tied together with the 1024 block window?
<br>
</div>

<div class='talk op-msg' data-timestamp='1606359540' id='415330'>
<a class='timestamp' href='#415330'><time timestamp='2020-11-26T02:59:00Z'>02:59</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ah yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1606359540' id='415331'>
<a class='timestamp' href='#415331'><time timestamp='2020-11-26T02:59:00Z'>02:59</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but it doesn&#x27;t matter where things are stored for validation
<br>
</div>

<div class='talk op-msg' data-timestamp='1606359540' id='415332'>
<a class='timestamp' href='#415332'><time timestamp='2020-11-26T02:59:00Z'>02:59</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it&#x27;s just restricted to make sure pruning is possible
<br>
</div>

<div class='talk op-msg' data-timestamp='1606359840' id='415333'>
<a class='timestamp' href='#415333'><time timestamp='2020-11-26T03:04:00Z'>03:04</time></a>
&lt;<span class='nick nick-16'> CubicEarth</span>&gt;
interesting. Yeah, with pruning, especially if pruning is on because there just ins&#x27;t <b>*that much*</b> disk space available, it all makes perfect sense. There is basically no advantage to what I am thinking.
<br>
</div>

<div class='talk op-msg' data-timestamp='1606359840' id='415334'>
<a class='timestamp' href='#415334'><time timestamp='2020-11-26T03:04:00Z'>03:04</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that&#x27;s the only reason
<br>
</div>

<div class='talk op-msg' data-timestamp='1606359900' id='415335'>
<a class='timestamp' href='#415335'><time timestamp='2020-11-26T03:05:00Z'>03:05</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
otherwise you could end up with 1000 block files, and each contains blocks from all over the chain
<br>
</div>

<div class='talk op-msg' data-timestamp='1606359900' id='415336'>
<a class='timestamp' href='#415336'><time timestamp='2020-11-26T03:05:00Z'>03:05</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
so you can&#x27;t delete any of them
<br>
</div>

<div class='talk op-msg' data-timestamp='1606359900' id='415337'>
<a class='timestamp' href='#415337'><time timestamp='2020-11-26T03:05:00Z'>03:05</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
because they all also contain very recent blocks
<br>
</div>

<div class='talk op-msg' data-timestamp='1606360080' id='415338'>
<a class='timestamp' href='#415338'><time timestamp='2020-11-26T03:08:00Z'>03:08</time></a>
&lt;<span class='nick nick-16'> CubicEarth</span>&gt;
I hear that, but I aren&#x27;t we mixing two concepts here? because couldn&#x27;t you still have the sliding window, but just have it be decoupled from validation? 
<br>
</div>

<div class='talk op-msg' data-timestamp='1606360140' id='415339'>
<a class='timestamp' href='#415339'><time timestamp='2020-11-26T03:09:00Z'>03:09</time></a>
&lt;<span class='nick nick-16'> CubicEarth</span>&gt;
or does the expose an attack vector?
<br>
</div>

<div class='talk op-msg' data-timestamp='1606360140' id='415340'>
<a class='timestamp' href='#415340'><time timestamp='2020-11-26T03:09:00Z'>03:09</time></a>
&lt;<span class='nick nick-16'> CubicEarth</span>&gt;
that
<br>
</div>

<div class='talk op-msg' data-timestamp='1606360140' id='415341'>
<a class='timestamp' href='#415341'><time timestamp='2020-11-26T03:09:00Z'>03:09</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it&#x27;s not tied to validation, except implicitly
<br>
</div>

<div class='talk op-msg' data-timestamp='1606360140' id='415342'>
<a class='timestamp' href='#415342'><time timestamp='2020-11-26T03:09:00Z'>03:09</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it&#x27;s tied to the moving window
<br>
</div>

<div class='talk op-msg' data-timestamp='1606360200' id='415343'>
<a class='timestamp' href='#415343'><time timestamp='2020-11-26T03:10:00Z'>03:10</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
which moves along the chain as far as it can while it has all blocks
<br>
</div>

<div class='talk op-msg' data-timestamp='1606360200' id='415344'>
<a class='timestamp' href='#415344'><time timestamp='2020-11-26T03:10:00Z'>03:10</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that happens to be identical to what validation needs
<br>
</div>

<div class='talk op-msg' data-timestamp='1606360320' id='415345'>
<a class='timestamp' href='#415345'><time timestamp='2020-11-26T03:12:00Z'>03:12</time></a>
&lt;<span class='nick nick-16'> CubicEarth</span>&gt;
too bad validation can&#x27;t get ahead of the block download ;)
<br>
</div>

<div class='talk op-msg' data-timestamp='1606360320' id='415346'>
<a class='timestamp' href='#415346'><time timestamp='2020-11-26T03:12:00Z'>03:12</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
you see what i&#x27;m saying?
<br>
</div>

<div class='talk op-msg' data-timestamp='1606360320' id='415347'>
<a class='timestamp' href='#415347'><time timestamp='2020-11-26T03:12:00Z'>03:12</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
we validate blocks as soon as we have all its parents (and those parents are validated)
<br>
</div>

<div class='talk op-msg' data-timestamp='1606360380' id='415348'>
<a class='timestamp' href='#415348'><time timestamp='2020-11-26T03:13:00Z'>03:13</time></a>
&lt;<span class='nick nick-16'> CubicEarth</span>&gt;
I get that, and that fits my long held understanding
<br>
</div>

<div class='talk op-msg' data-timestamp='1606360380' id='415349'>
<a class='timestamp' href='#415349'><time timestamp='2020-11-26T03:13:00Z'>03:13</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and that&#x27;s also when the download window moves (because limiting out-of-orderness has the exact same requirement)
<br>
</div>

<div class='talk op-msg' data-timestamp='1606360500' id='415350'>
<a class='timestamp' href='#415350'><time timestamp='2020-11-26T03:15:00Z'>03:15</time></a>
&lt;<span class='nick nick-16'> CubicEarth</span>&gt;
that&#x27;s why I was asking about the attack consideration, because otherwise you wouldn&#x27;t need to validate the blocks to limit out-of-orderness, right? You would just need to make sure you didn&#x27;t download to crazily
<br>
</div>

<div class='talk op-msg' data-timestamp='1606360560' id='415351'>
<a class='timestamp' href='#415351'><time timestamp='2020-11-26T03:16:00Z'>03:16</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
oh i see
<br>
</div>

<div class='talk op-msg' data-timestamp='1606360560' id='415352'>
<a class='timestamp' href='#415352'><time timestamp='2020-11-26T03:16:00Z'>03:16</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
you&#x27;re talking about making validating independent of block download entirely
<br>
</div>

<div class='talk op-msg' data-timestamp='1606360560' id='415353'>
<a class='timestamp' href='#415353'><time timestamp='2020-11-26T03:16:00Z'>03:16</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that&#x27;s a whole other can of worms
<br>
</div>

<div class='talk op-msg' data-timestamp='1606360620' id='415354'>
<a class='timestamp' href='#415354'><time timestamp='2020-11-26T03:17:00Z'>03:17</time></a>
&lt;<span class='nick nick-16'> CubicEarth</span>&gt;
yeah
<br>
</div>

<div class='talk op-msg' data-timestamp='1606360620' id='415355'>
<a class='timestamp' href='#415355'><time timestamp='2020-11-26T03:17:00Z'>03:17</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
right now we always make sure that the best chain we know about is the actively validated one
<br>
</div>

<div class='talk op-msg' data-timestamp='1606360620' id='415356'>
<a class='timestamp' href='#415356'><time timestamp='2020-11-26T03:17:00Z'>03:17</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
if you drop that, the window could move ahead of validation
<br>
</div>

<div class='talk op-msg' data-timestamp='1606360860' id='415357'>
<a class='timestamp' href='#415357'><time timestamp='2020-11-26T03:21:00Z'>03:21</time></a>
&lt;<span class='nick nick-16'> CubicEarth</span>&gt;
It seems like a feature that could add convenience, along with some inherent vulnerabilities. But it seems the consequences of those vulnerabilities being exploited would more or less be reduced to the loss of the convenience, along with perhaps some additional nuisance  
<br>
</div>

<div class='talk op-msg' data-timestamp='1606361160' id='415358'>
<a class='timestamp' href='#415358'><time timestamp='2020-11-26T03:26:00Z'>03:26</time></a>
&lt;<span class='nick nick-16'> CubicEarth</span>&gt;
Meaning, if there was an option to allow the node to let the window move ahead, independent of the state of validation, the benefit would be the possibility that validation could continue on in absence of good network connectivity
<br>
</div>

<div class='talk op-msg' data-timestamp='1606361220' id='415359'>
<a class='timestamp' href='#415359'><time timestamp='2020-11-26T03:27:00Z'>03:27</time></a>
&lt;<span class='nick nick-16'> CubicEarth</span>&gt;
And the risk would be that the wasn&#x27;t the right chain in the end
<br>
</div>

<div class='talk op-msg' data-timestamp='1606361280' id='415360'>
<a class='timestamp' href='#415360'><time timestamp='2020-11-26T03:28:00Z'>03:28</time></a>
&lt;<span class='nick nick-16'> CubicEarth</span>&gt;
And so downloading would need to happen again
<br>
</div>

<div class='talk op-msg' data-timestamp='1606361340' id='415361'>
<a class='timestamp' href='#415361'><time timestamp='2020-11-26T03:29:00Z'>03:29</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
seems reasonable
<br>
</div>

<div class='talk op-msg' data-timestamp='1606378800' id='415362'>
<a class='timestamp' href='#415362'><time timestamp='2020-11-26T08:20:00Z'>08:20</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
sipa: to link dynamically against qt you need libQt5Core.so, only libQt5Core.so.5 won&#x27;t do, it should be created as a symlink though... sounds more like a weird linker path issue
<br>
</div>

<div class='talk op-msg' data-timestamp='1606378920' id='415363'>
<a class='timestamp' href='#415363'><time timestamp='2020-11-26T08:22:00Z'>08:22</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it&#x27;s in qtbase5-dev
<br>
</div>

<div class='talk op-msg' data-timestamp='1606378920' id='415364'>
<a class='timestamp' href='#415364'><time timestamp='2020-11-26T08:22:00Z'>08:22</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] fanquake opened pull request #20504: build: use more legible (q)make commands in qt package (master...legible_qt_config_cmds) <a href="https://github.com/bitcoin/bitcoin/pull/20504" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20504</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1606379040' id='415365'>
<a class='timestamp' href='#415365'><time timestamp='2020-11-26T08:24:00Z'>08:24</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
ubuntu does not install statically linkable qt libraries, only dynamic linker ones, but that&#x27;s fine if you&#x27;re only building locally and not for distribution
<br>
</div>

<div class='talk op-msg' data-timestamp='1606380300' id='415366'>
<a class='timestamp' href='#415366'><time timestamp='2020-11-26T08:45:00Z'>08:45</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] dergoegge opened pull request #20505: [backport] build: Avoid secp256k1.h include from system (0.21...21_backport) <a href="https://github.com/bitcoin/bitcoin/pull/20505" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20505</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1606380780' id='415367'>
<a class='timestamp' href='#415367'><time timestamp='2020-11-26T08:53:00Z'>08:53</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
wumpus: bizarre, i installed and reinstalled all the packages
<br>
</div>

<div class='talk op-msg' data-timestamp='1606380840' id='415368'>
<a class='timestamp' href='#415368'><time timestamp='2020-11-26T08:54:00Z'>08:54</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i&#x27;ll retry and symlink it myself
<br>
</div>

<div class='talk op-msg' data-timestamp='1606380840' id='415369'>
<a class='timestamp' href='#415369'><time timestamp='2020-11-26T08:54:00Z'>08:54</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
thanks
<br>
</div>

<div class='talk op-msg' data-timestamp='1606380840' id='415370'>
<a class='timestamp' href='#415370'><time timestamp='2020-11-26T08:54:00Z'>08:54</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
so you have /usr/lib/x86_64-linux-gnu/libQt5Core.so but it can&#x27;t find it during linking?
<br>
</div>

<div class='talk op-msg' data-timestamp='1606380840' id='415371'>
<a class='timestamp' href='#415371'><time timestamp='2020-11-26T08:54:00Z'>08:54</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
only .so.5
<br>
</div>

<div class='talk op-msg' data-timestamp='1606380900' id='415372'>
<a class='timestamp' href='#415372'><time timestamp='2020-11-26T08:55:00Z'>08:55</time></a>
&lt;<span class='nick nick-14'> hebasto</span>&gt;
sipa: waiting for my groovy installation complete to check your link issue
<br>
</div>

<div class='talk op-msg' data-timestamp='1606380900' id='415373'>
<a class='timestamp' href='#415373'><time timestamp='2020-11-26T08:55:00Z'>08:55</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
does &quot;dpkg -S dpkg -L qtbase5-dev|grep libQt5Core.so&quot; show it should be in there?
<br>
</div>

<div class='talk op-msg' data-timestamp='1606380900' id='415374'>
<a class='timestamp' href='#415374'><time timestamp='2020-11-26T08:55:00Z'>08:55</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
eh just &quot;dpkg -L qtbase5-dev|grep libQt5Core.so&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1606380960' id='415375'>
<a class='timestamp' href='#415375'><time timestamp='2020-11-26T08:56:00Z'>08:56</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
you really shouldn&#x27;t have to make the symlink yourself
<br>
</div>

<div class='talk op-msg' data-timestamp='1606381080' id='415376'>
<a class='timestamp' href='#415376'><time timestamp='2020-11-26T08:58:00Z'>08:58</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
maybe the file is somewhere else on ubuntu 20.10 I haven&#x27;t used that yet
<br>
</div>

<div class='talk op-msg' data-timestamp='1606381140' id='415377'>
<a class='timestamp' href='#415377'><time timestamp='2020-11-26T08:59:00Z'>08:59</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
wumpus: ok false alarm, i reinstalled it and now the .so file is there
<br>
</div>

<div class='talk op-msg' data-timestamp='1606381140' id='415378'>
<a class='timestamp' href='#415378'><time timestamp='2020-11-26T08:59:00Z'>08:59</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i must have reinstalled another package before
<br>
</div>

<div class='talk op-msg' data-timestamp='1606381200' id='415379'>
<a class='timestamp' href='#415379'><time timestamp='2020-11-26T09:00:00Z'>09:00</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
phew, still wonder how it came to be erased but good to know!
<br>
</div>

<div class='talk op-msg' data-timestamp='1606381260' id='415380'>
<a class='timestamp' href='#415380'><time timestamp='2020-11-26T09:01:00Z'>09:01</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yeah, no idea how this happened
<br>
</div>

<div class='talk op-msg' data-timestamp='1606381260' id='415381'>
<a class='timestamp' href='#415381'><time timestamp='2020-11-26T09:01:00Z'>09:01</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i haven&#x27;t done many weird things in this install
<br>
</div>

<div class='talk op-msg' data-timestamp='1606381260' id='415382'>
<a class='timestamp' href='#415382'><time timestamp='2020-11-26T09:01:00Z'>09:01</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
could be a bug I mean that version of ubuntu is still very new
<br>
</div>

<div class='talk op-msg' data-timestamp='1606381320' id='415383'>
<a class='timestamp' href='#415383'><time timestamp='2020-11-26T09:02:00Z'>09:02</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
wumpus: i remember yeard ago that a -l argument always needed a .a, was a wrong, or is that since outdated?
<br>
</div>

<div class='talk op-msg' data-timestamp='1606381440' id='415384'>
<a class='timestamp' href='#415384'><time timestamp='2020-11-26T09:04:00Z'>09:04</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
that&#x27;s true on windows, it has these import libraries (.lib IIRC) to tell what is in a dll, but not (and never was) on linux, the linker links directly to the .so, linking to an .a is static linking
<br>
</div>

<div class='talk op-msg' data-timestamp='1606381560' id='415385'>
<a class='timestamp' href='#415385'><time timestamp='2020-11-26T09:06:00Z'>09:06</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
(there&#x27;s also .la files with library metadata that are used by libtool, but these are not required for anything, and doesn&#x27;t look like qt uses that system)
<br>
</div>

<div class='talk op-msg' data-timestamp='1606382100' id='415386'>
<a class='timestamp' href='#415386'><time timestamp='2020-11-26T09:15:00Z'>09:15</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
wumpus: hmm, maybe i conflated windows stuff earlier then
<br>
</div>

<div class='talk op-msg' data-timestamp='1606382520' id='415387'>
<a class='timestamp' href='#415387'><time timestamp='2020-11-26T09:22:00Z'>09:22</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
i think windows&#x27; .lib system is pretty nice, it allows for linking against a library without having the compiled library (the .lib is just a list of symbols), right now in the depends system we need to build some libraries (such as freetype) just to link against the system copy of it... that could be avoided in that case
<br>
</div>

<div class='talk op-msg' data-timestamp='1606382760' id='415388'>
<a class='timestamp' href='#415388'><time timestamp='2020-11-26T09:26:00Z'>09:26</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
though there is work on this under the name of &#x27;interface stubs&#x27;, but only in clang afaik, <a href="https://phoronix.com/scan.php?page=news_item&amp;px=Clang-Interface-Stubs" class="link" target="_blank">https://phoronix.com/scan.php?page=news_item&amp;px=Clang-Interface-Stubs</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1606382820' id='415389'>
<a class='timestamp' href='#415389'><time timestamp='2020-11-26T09:27:00Z'>09:27</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
also tbd stubs heh
<br>
</div>

<div class='talk op-msg' data-timestamp='1606382820' id='415390'>
<a class='timestamp' href='#415390'><time timestamp='2020-11-26T09:27:00Z'>09:27</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
fanquake: those are the macos specific kind isn&#x27;t it?
<br>
</div>

<div class='talk op-msg' data-timestamp='1606382820' id='415391'>
<a class='timestamp' href='#415391'><time timestamp='2020-11-26T09:27:00Z'>09:27</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
yea
<br>
</div>

<div class='talk op-msg' data-timestamp='1606383000' id='415392'>
<a class='timestamp' href='#415392'><time timestamp='2020-11-26T09:30:00Z'>09:30</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
<a href="https://github.com/fanquake/core-review/blob/master/tbd-stubs.md" class="link" target="_blank">https://github.com/fanquake/core-review/blob/master/tbd-stubs.md</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1606383000' id='415393'>
<a class='timestamp' href='#415393'><time timestamp='2020-11-26T09:30:00Z'>09:30</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
would be so nice to just have (deterministically generated) stubs and headers for OS dependencies, this could even replace the symbol check because too new symbols would just not be in the stubs
<br>
</div>

<div class='talk op-msg' data-timestamp='1606383120' id='415394'>
<a class='timestamp' href='#415394'><time timestamp='2020-11-26T09:32:00Z'>09:32</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
fanquake: now for ELF :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1606383240' id='415395'>
<a class='timestamp' href='#415395'><time timestamp='2020-11-26T09:34:00Z'>09:34</time></a>
&lt;<span class='nick nick-6'> vasild_</span>&gt;
sipa: <a href="https://bpa.st/VU2Q" class="link" target="_blank">https://bpa.st/VU2Q</a> makes sense?
<br>
</div>

<div class='talk op-msg' data-timestamp='1606383240' id='415396'>
<a class='timestamp' href='#415396'><time timestamp='2020-11-26T09:34:00Z'>09:34</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
fanquake: but yes that&#x27;s certainly the idea, it&#x27;s nice that they have a text based format too
<br>
</div>

<div class='talk op-msg' data-timestamp='1606383360' id='415397'>
<a class='timestamp' href='#415397'><time timestamp='2020-11-26T09:36:00Z'>09:36</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
&quot;-interface-stub-version=experimental-yaml-elf-v1&quot; hmm  let&#x27;s see if my clang is new enough
<br>
</div>

<div class='talk op-msg' data-timestamp='1606383480' id='415398'>
<a class='timestamp' href='#415398'><time timestamp='2020-11-26T09:38:00Z'>09:38</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
&quot;error: invalid value &#x27;Invalid interface stub format: experimental-yaml-elf-v1 is deprecated.&#x27; &quot; loool oh already deprecated
<br>
</div>

<div class='talk op-msg' data-timestamp='1606383480' id='415399'>
<a class='timestamp' href='#415399'><time timestamp='2020-11-26T09:38:00Z'>09:38</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
serialization is ok, but deserialize could produce strange results indeed - the value stored in nVersion here `int nVersion = s.GetVersion();` will be overwritten 2 lines below by `READWRITE(nVersion);` by what comes in from disk. That overwritten nVersion will be used to make decision about compactsize services, but will not be used by READWRITEAS(CService, obj);, which will use s.GetVersion()
<br>
</div>

<div class='talk op-msg' data-timestamp='1606384560' id='415400'>
<a class='timestamp' href='#415400'><time timestamp='2020-11-26T09:56:00Z'>09:56</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
experimental-ifs-v2 works but doesn&#x27;t look like there is a text format anymore
<br>
</div>

<div class='talk op-msg' data-timestamp='1606385520' id='415401'>
<a class='timestamp' href='#415401'><time timestamp='2020-11-26T10:12:00Z'>10:12</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
otoh we&#x27;re only linking against a few system C libraries not C++ libraries this makes things way simpler
<br>
</div>

<div class='talk op-msg' data-timestamp='1606385640' id='415402'>
<a class='timestamp' href='#415402'><time timestamp='2020-11-26T10:14:00Z'>10:14</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
e.g. ELF library -&gt; text file with symbols and metadata -&gt; ELF library with only symbols and metadata for linking
<br>
</div>

<div class='talk op-msg' data-timestamp='1606386660' id='415403'>
<a class='timestamp' href='#415403'><time timestamp='2020-11-26T10:31:00Z'>10:31</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
the only thing is that you&#x27;d end up with a file per architecture, as there might be symbol differences, but as we have only a limited number of architectures that&#x27;s not too bad
<br>
</div>

<div class='talk op-msg' data-timestamp='1606387500' id='415404'>
<a class='timestamp' href='#415404'><time timestamp='2020-11-26T10:45:00Z'>10:45</time></a>
&lt;<span class='nick nick-14'> hebasto</span>&gt;
sipa: on fresh minimal ubuntu 20.10 `configure --with-incompatible-bdb &amp;&amp; make` works flawlessly
<br>
</div>

<div class='talk op-msg' data-timestamp='1606388520' id='415405'>
<a class='timestamp' href='#415405'><time timestamp='2020-11-26T11:02:00Z'>11:02</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
<a href="https://llvm.org/devmtg/2019-10/slides/Lotfi-ClangInterfaceStubs.pdf" class="link" target="_blank">https://llvm.org/devmtg/2019-10/slides/Lotfi-ClangInterfaceStubs.pdf</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1606389660' id='415406'>
<a class='timestamp' href='#415406'><time timestamp='2020-11-26T11:21:00Z'>11:21</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
oh would have been more on-topic in #bitcoin-builds i guess sorry
<br>
</div>

<div class='talk op-msg' data-timestamp='1606391160' id='415407'>
<a class='timestamp' href='#415407'><time timestamp='2020-11-26T11:46:00Z'>11:46</time></a>
&lt;<span class='nick nick-14'> jonatack</span>&gt;
MarcoFalke: thanks for fixing that stray line I added in the release note wiki. Just updated it to add the new fee_rate sat/vB changes and adjust the PR 11413 fee rate info. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1606391220' id='415408'>
<a class='timestamp' href='#415408'><time timestamp='2020-11-26T11:47:00Z'>11:47</time></a>
&lt;<span class='nick nick-14'> jonatack</span>&gt;
The wallet RPC changes are a bit spread out ATM and should probably be regrouped in one place under the Wallet section, Updated RPCs
<br>
</div>

<div class='talk op-msg' data-timestamp='1606391400' id='415409'>
<a class='timestamp' href='#415409'><time timestamp='2020-11-26T11:50:00Z'>11:50</time></a>
&lt;<span class='nick nick-14'> jonatack</span>&gt;
I didn&#x27;t do that, other than moving the PR 11413 entries down to just after the new RPC send entry so it makes more sense.
<br>
</div>

<div class='talk op-msg' data-timestamp='1606391400' id='415410'>
<a class='timestamp' href='#415410'><time timestamp='2020-11-26T11:50:00Z'>11:50</time></a>
&lt;<span class='nick nick-14'> jonatack</span>&gt;
As the 11413 entry now mentions RPC send.
<br>
</div>

<div class='talk op-msg' data-timestamp='1606392240' id='415411'>
<a class='timestamp' href='#415411'><time timestamp='2020-11-26T12:04:00Z'>12:04</time></a>
&lt;<span class='nick nick-14'> hebasto</span>&gt;
wumpus: may I remind to post rc2 binaries to <a href="https://bitcoincore.org/bin/" class="link" target="_blank">https://bitcoincore.org/bin/</a> ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1606392300' id='415412'>
<a class='timestamp' href='#415412'><time timestamp='2020-11-26T12:05:00Z'>12:05</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
hebasto: already working on that
<br>
</div>

<div class='talk op-msg' data-timestamp='1606392300' id='415413'>
<a class='timestamp' href='#415413'><time timestamp='2020-11-26T12:05:00Z'>12:05</time></a>
&lt;<span class='nick nick-14'> hebasto</span>&gt;
thanks!
<br>
</div>

<div class='talk op-msg' data-timestamp='1606392540' id='415414'>
<a class='timestamp' href='#415414'><time timestamp='2020-11-26T12:09:00Z'>12:09</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] hebasto closed pull request #19832: p2p: Put disconnecting logs into BCLog::NET category (master...200829-log) <a href="https://github.com/bitcoin/bitcoin/pull/19832" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19832</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1606394040' id='415415'>
<a class='timestamp' href='#415415'><time timestamp='2020-11-26T12:34:00Z'>12:34</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
0.21.0rc2 binaries up: <a href="https://bitcoincore.org/bin/bitcoin-core-0.21.0/test.rc2/" class="link" target="_blank">https://bitcoincore.org/bin/bitcoin-core-0.21.0/test.rc2/</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1606394520' id='415416'>
<a class='timestamp' href='#415416'><time timestamp='2020-11-26T12:42:00Z'>12:42</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
🚀
<br>
</div>

<div class='talk op-msg' data-timestamp='1606394700' id='415417'>
<a class='timestamp' href='#415417'><time timestamp='2020-11-26T12:45:00Z'>12:45</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] sipsorcery opened pull request #20506: WIP: AppVeyor CI fixes in preparation for next image bump (master...msvc-no-optimise) <a href="https://github.com/bitcoin/bitcoin/pull/20506" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20506</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1606398360' id='415418'>
<a class='timestamp' href='#415418'><time timestamp='2020-11-26T13:46:00Z'>13:46</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] vasild opened pull request #20507: sync: print proper lock order location when double lock is detected (master...double_lock_print_location) <a href="https://github.com/bitcoin/bitcoin/pull/20507" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20507</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1606399860' id='415419'>
<a class='timestamp' href='#415419'><time timestamp='2020-11-26T14:11:00Z'>14:11</time></a>
&lt;<span class='nick nick-13'> rebelution</span>&gt;
luke-jr -------&gt;&gt; [[ You are as grotesque as a disgraceful savage shitload of ineffectual repugnant maggot slime ]] &lt;&lt;-------
<br>
</div>

<div class='talk op-msg' data-timestamp='1606401180' id='415420'>
<a class='timestamp' href='#415420'><time timestamp='2020-11-26T14:33:00Z'>14:33</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] sipsorcery opened pull request #20508: IGNORE: Testing appveyor CI build with pre-built dependencies (master...msvc-vcpkg-prebuilt) <a href="https://github.com/bitcoin/bitcoin/pull/20508" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20508</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1606402440' id='415421'>
<a class='timestamp' href='#415421'><time timestamp='2020-11-26T14:54:00Z'>14:54</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] vasild opened pull request #20509: net: CAddress deser: use stream&#x27;s version, not what&#x27;s coming from disk (master...caddress_deser_version) <a href="https://github.com/bitcoin/bitcoin/pull/20509" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20509</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1606402440' id='415422'>
<a class='timestamp' href='#415422'><time timestamp='2020-11-26T14:54:00Z'>14:54</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
sipa: ^
<br>
</div>

<div class='talk op-msg' data-timestamp='1606404420' id='415423'>
<a class='timestamp' href='#415423'><time timestamp='2020-11-26T15:27:00Z'>15:27</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
any idea why bitcoind crashes at startup in Valgrind? :/
<br>
</div>

<div class='talk op-msg' data-timestamp='1606404480' id='415424'>
<a class='timestamp' href='#415424'><time timestamp='2020-11-26T15:28:00Z'>15:28</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
with UBSan*
<br>
</div>

<div class='talk op-msg' data-timestamp='1606409100' id='415425'>
<a class='timestamp' href='#415425'><time timestamp='2020-11-26T16:45:00Z'>16:45</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jonatack opened pull request #20510: [backport] wallet: allow zero-fee fundrawtransaction/walletcreatefundedpsbt and other fixes (0.21...backport-fee_rate-follow-ups) <a href="https://github.com/bitcoin/bitcoin/pull/20510" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20510</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1606409340' id='415426'>
<a class='timestamp' href='#415426'><time timestamp='2020-11-26T16:49:00Z'>16:49</time></a>
&lt;<span class='nick nick-1'> RickMortir22</span>&gt;
Anyone Can Help? - My Bitcoin Core dont Work Anymore, it stoped syng 19 hours ago and dont sync anymore, its shows &quot;19 hours ago&quot; forever, and status bar show &quot;connecting...&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1606411140' id='415427'>
<a class='timestamp' href='#415427'><time timestamp='2020-11-26T17:19:00Z'>17:19</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
luke-jr: no idea, I&#x27;m sure valgrind gives some kind of error?
<br>
</div>

<div class='talk op-msg' data-timestamp='1606411260' id='415428'>
<a class='timestamp' href='#415428'><time timestamp='2020-11-26T17:21:00Z'>17:21</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
there&#x27;s sanitizer suppressions for ubsan in fuzz/test/sanitizer_suppressions/ubsan
<br>
</div>

<div class='talk op-msg' data-timestamp='1606411500' id='415429'>
<a class='timestamp' href='#415429'><time timestamp='2020-11-26T17:25:00Z'>17:25</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
can valgrind run with sanitizers on top, even?
<br>
</div>

<div class='talk op-msg' data-timestamp='1606411860' id='415430'>
<a class='timestamp' href='#415430'><time timestamp='2020-11-26T17:31:00Z'>17:31</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
that&#x27;s a good question
<br>
</div>

<div class='talk op-msg' data-timestamp='1606413480' id='415431'>
<a class='timestamp' href='#415431'><time timestamp='2020-11-26T17:58:00Z'>17:58</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
afaik no
<br>
</div>

<div class='talk op-msg' data-timestamp='1606414260' id='415432'>
<a class='timestamp' href='#415432'><time timestamp='2020-11-26T18:11:00Z'>18:11</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
vasild: yes, that works
<br>
</div>

<div class='talk op-msg' data-timestamp='1606414260' id='415433'>
<a class='timestamp' href='#415433'><time timestamp='2020-11-26T18:11:00Z'>18:11</time></a>
&lt;<span class='nick nick-9'> glozow</span>&gt;
#proposedmeetingtopic package validation design question
<br>
</div>

<div class='talk op-msg' data-timestamp='1606414260' id='415434'>
<a class='timestamp' href='#415434'><time timestamp='2020-11-26T18:11:00Z'>18:11</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i was working on a fix as part of rebasing the serialization parameters
<br>
</div>

<div class='talk op-msg' data-timestamp='1606414260' id='415435'>
<a class='timestamp' href='#415435'><time timestamp='2020-11-26T18:11:00Z'>18:11</time></a>
&lt;<span class='nick nick-9'> glozow</span>&gt;
is that how u do it
<br>
</div>

<div class='talk op-msg' data-timestamp='1606414320' id='415436'>
<a class='timestamp' href='#415436'><time timestamp='2020-11-26T18:12:00Z'>18:12</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
that&#x27;s exactly how you do it!
<br>
</div>

<div class='talk op-msg' data-timestamp='1606414380' id='415437'>
<a class='timestamp' href='#415437'><time timestamp='2020-11-26T18:13:00Z'>18:13</time></a>
&lt;<span class='nick nick-9'> glozow</span>&gt;
whew, thanks jnewbery
<br>
</div>

<div class='talk op-msg' data-timestamp='1606415040' id='415438'>
<a class='timestamp' href='#415438'><time timestamp='2020-11-26T18:24:00Z'>18:24</time></a>
&lt;<span class='nick nick-15'> ajonas</span>&gt;
#proposedmeetingtopic 2019-20 Coredev survey summary
<br>
</div>

<div class='talk op-msg' data-timestamp='1606415940' id='415439'>
<a class='timestamp' href='#415439'><time timestamp='2020-11-26T18:39:00Z'>18:39</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ugh, anchors.dat stores CAddress objects on disk, without file versioning
<br>
</div>

<div class='talk op-msg' data-timestamp='1606415940' id='415440'>
<a class='timestamp' href='#415440'><time timestamp='2020-11-26T18:39:00Z'>18:39</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
this means it doesn&#x27;t support v2 addresses
<br>
</div>

<div class='talk op-msg' data-timestamp='1606416000' id='415441'>
<a class='timestamp' href='#415441'><time timestamp='2020-11-26T18:40:00Z'>18:40</time></a>
&lt;<span class='nick nick-14'> jonatack</span>&gt;
good catch
<br>
</div>

<div class='talk op-msg' data-timestamp='1606416060' id='415442'>
<a class='timestamp' href='#415442'><time timestamp='2020-11-26T18:41:00Z'>18:41</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
going to open an issue
<br>
</div>

<div class='talk op-msg' data-timestamp='1606416600' id='415443'>
<a class='timestamp' href='#415443'><time timestamp='2020-11-26T18:50:00Z'>18:50</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
glozow: wth is peter wheel? ;)
<br>
</div>

<div class='talk op-msg' data-timestamp='1606416780' id='415444'>
<a class='timestamp' href='#415444'><time timestamp='2020-11-26T18:53:00Z'>18:53</time></a>
&lt;<span class='nick nick-9'> glozow</span>&gt;
sipa: bitcoin gandalf, roams Middle Earth with the hobbitcoins
<br>
</div>

<div class='talk op-msg' data-timestamp='1606417140' id='415445'>
<a class='timestamp' href='#415445'><time timestamp='2020-11-26T18:59:00Z'>18:59</time></a>
&lt;<span class='nick nick-14'> hebasto</span>&gt;
as anchors.dat is a new feature, could it use only v2 addresses?
<br>
</div>

<div class='talk op-msg' data-timestamp='1606417200' id='415446'>
<a class='timestamp' href='#415446'><time timestamp='2020-11-26T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
#startmeeting
<br>
</div>

<div class='talk op-msg' data-timestamp='1606417200' id='415447'>
<a class='timestamp' href='#415447'><time timestamp='2020-11-26T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-2'> core-meetingbot</span>&gt;
Meeting started Thu Nov 26 19:00:49 2020 UTC.  The chair is wumpus. Information about MeetBot at <a href="https://bitcoin.jonasschnelli.ch/ircmeetings" class="link" target="_blank">https://bitcoin.jonasschnelli.ch/ircmeetings</a>.
<br>
</div>

<div class='talk op-msg' data-timestamp='1606417200' id='415448'>
<a class='timestamp' href='#415448'><time timestamp='2020-11-26T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-2'> core-meetingbot</span>&gt;
Available commands: action commands idea info link nick
<br>
</div>

<div class='talk op-msg' data-timestamp='1606417200' id='415449'>
<a class='timestamp' href='#415449'><time timestamp='2020-11-26T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
hebasto: yes, but what when we introduce v3?
<br>
</div>

<div class='talk op-msg' data-timestamp='1606417260' id='415450'>
<a class='timestamp' href='#415450'><time timestamp='2020-11-26T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1606417260' id='415451'>
<a class='timestamp' href='#415451'><time timestamp='2020-11-26T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
#bitcoin-core-dev Meeting: achow101 aj amiti ariard bluematt cfields Chris_Stewart_5 digi_james dongcarl elichai2 emilengler fanquake fjahr gleb gmaxwell gwillen hebasto instagibbs jamesob jb55 jeremyrubin jl2012 jnewbery jonasschnelli jonatack jtimon kallewoof kanzure kvaciral lightlike luke-jr maaku marcofalke meshcollider michagogo moneyball morcos nehan NicolasDorier paveljanik
<br>
</div>

<div class='talk op-msg' data-timestamp='1606417260' id='415452'>
<a class='timestamp' href='#415452'><time timestamp='2020-11-26T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-4'> kanzure</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1606417260' id='415453'>
<a class='timestamp' href='#415453'><time timestamp='2020-11-26T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
petertodd phantomcircuit promag provoostenator ryanofsky sdaftuar sipa vasild wumpus
<br>
</div>

<div class='talk op-msg' data-timestamp='1606417260' id='415454'>
<a class='timestamp' href='#415454'><time timestamp='2020-11-26T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-14'> hebasto</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1606417260' id='415455'>
<a class='timestamp' href='#415455'><time timestamp='2020-11-26T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
today&#x27;s a us holiday so there may be fewer people
<br>
</div>

<div class='talk op-msg' data-timestamp='1606417260' id='415456'>
<a class='timestamp' href='#415456'><time timestamp='2020-11-26T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-14'> jonatack</span>&gt;
hola
<br>
</div>

<div class='talk op-msg' data-timestamp='1606417260' id='415457'>
<a class='timestamp' href='#415457'><time timestamp='2020-11-26T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-9'> glozow</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1606417260' id='415458'>
<a class='timestamp' href='#415458'><time timestamp='2020-11-26T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
congrats on rc2 everyone !
<br>
</div>

<div class='talk op-msg' data-timestamp='1606417260' id='415459'>
<a class='timestamp' href='#415459'><time timestamp='2020-11-26T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-8'> fjahr</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1606417260' id='415460'>
<a class='timestamp' href='#415460'><time timestamp='2020-11-26T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-6'> jb55</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1606417260' id='415461'>
<a class='timestamp' href='#415461'><time timestamp='2020-11-26T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
achow101: yes, might be a short meeting
<br>
</div>

<div class='talk op-msg' data-timestamp='1606417260' id='415462'>
<a class='timestamp' href='#415462'><time timestamp='2020-11-26T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1606417320' id='415463'>
<a class='timestamp' href='#415463'><time timestamp='2020-11-26T19:02:00Z'>19:02</time></a>
&lt;<span class='nick nick-15'> ajonas</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1606417320' id='415464'>
<a class='timestamp' href='#415464'><time timestamp='2020-11-26T19:02:00Z'>19:02</time></a>
&lt;<span class='nick nick-10'> michaelfolkson</span>&gt;
Happy Thanksgiving US peeps
<br>
</div>

<div class='talk op-msg' data-timestamp='1606417320' id='415465'>
<a class='timestamp' href='#415465'><time timestamp='2020-11-26T19:02:00Z'>19:02</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
we do have two proposed meeting topics for today: package validation design question (glozow), 2019-20 Coredev survey summary (ajonas)
<br>
</div>

<div class='talk op-msg' data-timestamp='1606417380' id='415466'>
<a class='timestamp' href='#415466'><time timestamp='2020-11-26T19:03:00Z'>19:03</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
any any others if people have last minute proposals
<br>
</div>

<div class='talk op-msg' data-timestamp='1606417380' id='415467'>
<a class='timestamp' href='#415467'><time timestamp='2020-11-26T19:03:00Z'>19:03</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
#topic High priority for review
<br>
</div>

<div class='talk op-msg' data-timestamp='1606417380' id='415468'>
<a class='timestamp' href='#415468'><time timestamp='2020-11-26T19:03:00Z'>19:03</time></a>
&lt;<span class='nick nick-2'> core-meetingbot</span>&gt;
topic: High priority for review
<br>
</div>

<div class='talk op-msg' data-timestamp='1606417440' id='415469'>
<a class='timestamp' href='#415469'><time timestamp='2020-11-26T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/projects/8" class="link" target="_blank">https://github.com/bitcoin/bitcoin/projects/8</a>  9 blockers, 2 chasing concept ACK
<br>
</div>

<div class='talk op-msg' data-timestamp='1606417440' id='415470'>
<a class='timestamp' href='#415470'><time timestamp='2020-11-26T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1606417440' id='415471'>
<a class='timestamp' href='#415471'><time timestamp='2020-11-26T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
anything to add/remote or that is ready for merge?
<br>
</div>

<div class='talk op-msg' data-timestamp='1606417440' id='415472'>
<a class='timestamp' href='#415472'><time timestamp='2020-11-26T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-8'> fjahr</span>&gt;
Can we add #19055 to blockers again?
<br>
</div>

<div class='talk op-msg' data-timestamp='1606417500' id='415473'>
<a class='timestamp' href='#415473'><time timestamp='2020-11-26T19:05:00Z'>19:05</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/19055" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/19055</a> | Add MuHash3072 implementation by fjahr · Pull Request #19055 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1606417500' id='415474'>
<a class='timestamp' href='#415474'><time timestamp='2020-11-26T19:05:00Z'>19:05</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
fjahr:sure
<br>
</div>

<div class='talk op-msg' data-timestamp='1606417500' id='415475'>
<a class='timestamp' href='#415475'><time timestamp='2020-11-26T19:05:00Z'>19:05</time></a>
&lt;<span class='nick nick-8'> fjahr</span>&gt;
thx
<br>
</div>

<div class='talk op-msg' data-timestamp='1606417500' id='415476'>
<a class='timestamp' href='#415476'><time timestamp='2020-11-26T19:05:00Z'>19:05</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
#20207 should be ready... not really a blocker for me, but would be nice to get in
<br>
</div>

<div class='talk op-msg' data-timestamp='1606417500' id='415477'>
<a class='timestamp' href='#415477'><time timestamp='2020-11-26T19:05:00Z'>19:05</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/20207" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/20207</a> | Follow-up extra comments on taproot code and tests by sipa · Pull Request #20207 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1606417560' id='415478'>
<a class='timestamp' href='#415478'><time timestamp='2020-11-26T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
you have nothing else on the list so will add it
<br>
</div>

<div class='talk op-msg' data-timestamp='1606417680' id='415479'>
<a class='timestamp' href='#415479'><time timestamp='2020-11-26T19:08:00Z'>19:08</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
that concludes the topic I think
<br>
</div>

<div class='talk op-msg' data-timestamp='1606417680' id='415480'>
<a class='timestamp' href='#415480'><time timestamp='2020-11-26T19:08:00Z'>19:08</time></a>
&lt;<span class='nick nick-14'> jonatack</span>&gt;
not as a blocker, but maybe #20483 for backport to 0.21 to avoid the feeRate / fee_rate options being a potential source of confusion/footgun 
<br>
</div>

<div class='talk op-msg' data-timestamp='1606417680' id='415481'>
<a class='timestamp' href='#415481'><time timestamp='2020-11-26T19:08:00Z'>19:08</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/20483" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/20483</a> | wallet: deprecate feeRate in fundrawtransaction/walletcreatefundedpsbt by jonatack · Pull Request #20483 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1606417680' id='415482'>
<a class='timestamp' href='#415482'><time timestamp='2020-11-26T19:08:00Z'>19:08</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
ok
<br>
</div>

<div class='talk op-msg' data-timestamp='1606417680' id='415483'>
<a class='timestamp' href='#415483'><time timestamp='2020-11-26T19:08:00Z'>19:08</time></a>
&lt;<span class='nick nick-14'> jonatack</span>&gt;
if not, otherwise it can wait
<br>
</div>

<div class='talk op-msg' data-timestamp='1606417740' id='415484'>
<a class='timestamp' href='#415484'><time timestamp='2020-11-26T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
for 0.21.1 I guess? if it&#x27;s not a bugfix I don&#x27;t think we should merge it between rcs
<br>
</div>

<div class='talk op-msg' data-timestamp='1606417740' id='415485'>
<a class='timestamp' href='#415485'><time timestamp='2020-11-26T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-14'> jonatack</span>&gt;
(feeRate is in BTC/kB, fee_rate is in sat/vB)
<br>
</div>

<div class='talk op-msg' data-timestamp='1606417800' id='415486'>
<a class='timestamp' href='#415486'><time timestamp='2020-11-26T19:10:00Z'>19:10</time></a>
&lt;<span class='nick nick-14'> jonatack</span>&gt;
wumpus: as you think best
<br>
</div>

<div class='talk op-msg' data-timestamp='1606417800' id='415487'>
<a class='timestamp' href='#415487'><time timestamp='2020-11-26T19:10:00Z'>19:10</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
in any case it&#x27;s in the high prio list now
<br>
</div>

<div class='talk op-msg' data-timestamp='1606417860' id='415488'>
<a class='timestamp' href='#415488'><time timestamp='2020-11-26T19:11:00Z'>19:11</time></a>
&lt;<span class='nick nick-14'> jonatack</span>&gt;
👌
<br>
</div>

<div class='talk op-msg' data-timestamp='1606417860' id='415489'>
<a class='timestamp' href='#415489'><time timestamp='2020-11-26T19:11:00Z'>19:11</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
oh it&#x27;s 8 files changes, of which 7 tests and only small changes in a cpp
<br>
</div>

<div class='talk op-msg' data-timestamp='1606417920' id='415490'>
<a class='timestamp' href='#415490'><time timestamp='2020-11-26T19:12:00Z'>19:12</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
could still be in a rc i guess
<br>
</div>

<div class='talk op-msg' data-timestamp='1606417980' id='415491'>
<a class='timestamp' href='#415491'><time timestamp='2020-11-26T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
#topic package validation design question (glozow)
<br>
</div>

<div class='talk op-msg' data-timestamp='1606417980' id='415492'>
<a class='timestamp' href='#415492'><time timestamp='2020-11-26T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-2'> core-meetingbot</span>&gt;
topic: package validation design question (glozow)
<br>
</div>

<div class='talk op-msg' data-timestamp='1606417980' id='415493'>
<a class='timestamp' href='#415493'><time timestamp='2020-11-26T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-9'> glozow</span>&gt;
So I’m in the process of doing package mempool acceptance logic. I have a design question that boils down to “if a transaction in a package fails, should we reject the whole package immediately?”
<br>
</div>

<div class='talk op-msg' data-timestamp='1606417980' id='415494'>
<a class='timestamp' href='#415494'><time timestamp='2020-11-26T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-9'> glozow</span>&gt;
If it’s a package from p2p (i.e. through package relay) then it seems most logical to fail as early as possible. my draft implementation does all PreChecks first for this reason, and then we don’t do script checks.
<br>
</div>

<div class='talk op-msg' data-timestamp='1606417980' id='415495'>
<a class='timestamp' href='#415495'><time timestamp='2020-11-26T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-9'> glozow</span>&gt;
If we’re doing a testmempoolaccept for a package, however, it seems appropriate to fully validate each one so clients have more helpful information.
<br>
</div>

<div class='talk op-msg' data-timestamp='1606418040' id='415496'>
<a class='timestamp' href='#415496'><time timestamp='2020-11-26T19:14:00Z'>19:14</time></a>
&lt;<span class='nick nick-9'> glozow</span>&gt;
Wondering if people have thoughts/opinions?
<br>
</div>

<div class='talk op-msg' data-timestamp='1606418040' id='415497'>
<a class='timestamp' href='#415497'><time timestamp='2020-11-26T19:14:00Z'>19:14</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
you&#x27;re basically asking if the whole package would fail, should the behavior sort of automatically retry with subpackages?
<br>
</div>

<div class='talk op-msg' data-timestamp='1606418100' id='415498'>
<a class='timestamp' href='#415498'><time timestamp='2020-11-26T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
(or be equivalent to that)
<br>
</div>

<div class='talk op-msg' data-timestamp='1606418100' id='415499'>
<a class='timestamp' href='#415499'><time timestamp='2020-11-26T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-9'> glozow</span>&gt;
sipa: yeah
<br>
</div>

<div class='talk op-msg' data-timestamp='1606418100' id='415500'>
<a class='timestamp' href='#415500'><time timestamp='2020-11-26T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
is there a need for that?
<br>
</div>

<div class='talk op-msg' data-timestamp='1606418100' id='415501'>
<a class='timestamp' href='#415501'><time timestamp='2020-11-26T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
That sounds reasonable to me. package acceptance over p2p should be atomic. If you&#x27;re doing a testmempoolaccept it&#x27;s helpful to return more granular acceptance information
<br>
</div>

<div class='talk op-msg' data-timestamp='1606418160' id='415502'>
<a class='timestamp' href='#415502'><time timestamp='2020-11-26T19:16:00Z'>19:16</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
the idea is initially just having this as RPC?
<br>
</div>

<div class='talk op-msg' data-timestamp='1606418160' id='415503'>
<a class='timestamp' href='#415503'><time timestamp='2020-11-26T19:16:00Z'>19:16</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes, P2P clients don&#x27;t get helpful information back anyway
<br>
</div>

<div class='talk op-msg' data-timestamp='1606418160' id='415504'>
<a class='timestamp' href='#415504'><time timestamp='2020-11-26T19:16:00Z'>19:16</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
If there was a sendrawtransactionpackage we&#x27;d probably want that to be atomic I think
<br>
</div>

<div class='talk op-msg' data-timestamp='1606418160' id='415505'>
<a class='timestamp' href='#415505'><time timestamp='2020-11-26T19:16:00Z'>19:16</time></a>
&lt;<span class='nick nick-9'> glozow</span>&gt;
yeah, i want to do 1 testmempoolaccept, 2 submit packages through rpc, 3 package relay
<br>
</div>

<div class='talk op-msg' data-timestamp='1606418160' id='415506'>
<a class='timestamp' href='#415506'><time timestamp='2020-11-26T19:16:00Z'>19:16</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
no reason why the RPC can&#x27;t be initially just only entire-package, and if there is a use for more granular acceptance, add RPC support for that later
<br>
</div>

<div class='talk op-msg' data-timestamp='1606418160' id='415507'>
<a class='timestamp' href='#415507'><time timestamp='2020-11-26T19:16:00Z'>19:16</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
(if ever)
<br>
</div>

<div class='talk op-msg' data-timestamp='1606418220' id='415508'>
<a class='timestamp' href='#415508'><time timestamp='2020-11-26T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
for RPC it&#x27;s useful to at least get detailed information on which transaction failed, but it still makes sense for it to be atomic
<br>
</div>

<div class='talk op-msg' data-timestamp='1606418220' id='415509'>
<a class='timestamp' href='#415509'><time timestamp='2020-11-26T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i could imagine that on P2P maybe there are reasons why you&#x27;d want to be able to accept subpackages, e.g. to avoid one bad transactions added to a package by an attacker can&#x27;t prevent the entire package from being relayed
<br>
</div>

<div class='talk op-msg' data-timestamp='1606418220' id='415510'>
<a class='timestamp' href='#415510'><time timestamp='2020-11-26T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but i think those are longer term questions
<br>
</div>

<div class='talk op-msg' data-timestamp='1606418220' id='415511'>
<a class='timestamp' href='#415511'><time timestamp='2020-11-26T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
I think if you submit a package (tx A -&gt; tx B -&gt; tx C) to testmempoolaccept it&#x27;s helpful to the user to know whether A or B or C failed
<br>
</div>

<div class='talk op-msg' data-timestamp='1606418280' id='415512'>
<a class='timestamp' href='#415512'><time timestamp='2020-11-26T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-9'> glozow</span>&gt;
yes, i&#x27;m leaning towards running full checks for each tx until they pass/fail in a testaccept
<br>
</div>

<div class='talk op-msg' data-timestamp='1606418340' id='415513'>
<a class='timestamp' href='#415513'><time timestamp='2020-11-26T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-10'> michaelfolkson</span>&gt;
But surely something has gone badly wrong if you can&#x27;t figure out which transaction in your package was the reason for the rejection?
<br>
</div>

<div class='talk op-msg' data-timestamp='1606418340' id='415514'>
<a class='timestamp' href='#415514'><time timestamp='2020-11-26T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
sipa: right, shouldn&#x27;t cache all the transactions individually as rejected
<br>
</div>

<div class='talk op-msg' data-timestamp='1606418340' id='415515'>
<a class='timestamp' href='#415515'><time timestamp='2020-11-26T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-9'> glozow</span>&gt;
yah good point
<br>
</div>

<div class='talk op-msg' data-timestamp='1606418400' id='415516'>
<a class='timestamp' href='#415516'><time timestamp='2020-11-26T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-10'> michaelfolkson</span>&gt;
I guess it depends on whether if there are weird rejection policies out there
<br>
</div>

<div class='talk op-msg' data-timestamp='1606418460' id='415517'>
<a class='timestamp' href='#415517'><time timestamp='2020-11-26T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-9'> glozow</span>&gt;
michaelfolkson: what kinds of weird rejection policies?
<br>
</div>

<div class='talk op-msg' data-timestamp='1606418460' id='415518'>
<a class='timestamp' href='#415518'><time timestamp='2020-11-26T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
Do we ever need to sort the txs in a package (from user or over P2P), or do we expect them always to be sorted?
<br>
</div>

<div class='talk op-msg' data-timestamp='1606418460' id='415519'>
<a class='timestamp' href='#415519'><time timestamp='2020-11-26T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-9'> glozow</span>&gt;
jnewbery: i think we should sort it ourselves
<br>
</div>

<div class='talk op-msg' data-timestamp='1606418460' id='415520'>
<a class='timestamp' href='#415520'><time timestamp='2020-11-26T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jnewbery: i&#x27;d expect to use dependency ordering
<br>
</div>

<div class='talk op-msg' data-timestamp='1606418460' id='415521'>
<a class='timestamp' href='#415521'><time timestamp='2020-11-26T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
(first sort by how many parents in the package it has, then by txid)
<br>
</div>

<div class='talk op-msg' data-timestamp='1606418460' id='415522'>
<a class='timestamp' href='#415522'><time timestamp='2020-11-26T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
on either the sender or the receiver side
<br>
</div>

<div class='talk op-msg' data-timestamp='1606418520' id='415523'>
<a class='timestamp' href='#415523'><time timestamp='2020-11-26T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-10'> michaelfolkson</span>&gt;
glozow: I&#x27;m trying to think of reasons for a package rejection that isn&#x27;t clear to the sender
<br>
</div>

<div class='talk op-msg' data-timestamp='1606418520' id='415524'>
<a class='timestamp' href='#415524'><time timestamp='2020-11-26T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
michaelfolkson: the obvious one is a new standardness rule on the network (e.g. softfork that enables new scripts, which the sender knows about but the receiver doesn&#x27;t)
<br>
</div>

<div class='talk op-msg' data-timestamp='1606418520' id='415525'>
<a class='timestamp' href='#415525'><time timestamp='2020-11-26T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
if that happens in a leaf of a package
<br>
</div>

<div class='talk op-msg' data-timestamp='1606418520' id='415526'>
<a class='timestamp' href='#415526'><time timestamp='2020-11-26T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
sipa: how many parents or how many ancestors?
<br>
</div>

<div class='talk op-msg' data-timestamp='1606418580' id='415527'>
<a class='timestamp' href='#415527'><time timestamp='2020-11-26T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jnewbery: either works
<br>
</div>

<div class='talk op-msg' data-timestamp='1606418580' id='415528'>
<a class='timestamp' href='#415528'><time timestamp='2020-11-26T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
presumably the receiver still wants the package without that leaf
<br>
</div>

<div class='talk op-msg' data-timestamp='1606418580' id='415529'>
<a class='timestamp' href='#415529'><time timestamp='2020-11-26T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-9'> glozow</span>&gt;
would you know how many ancestors without doing a few checks? uh oh
<br>
</div>

<div class='talk op-msg' data-timestamp='1606418580' id='415530'>
<a class='timestamp' href='#415530'><time timestamp='2020-11-26T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
glozow: that&#x27;s trivial, i think?
<br>
</div>

<div class='talk op-msg' data-timestamp='1606418580' id='415531'>
<a class='timestamp' href='#415531'><time timestamp='2020-11-26T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
we do that sorting everywhere
<br>
</div>

<div class='talk op-msg' data-timestamp='1606418580' id='415532'>
<a class='timestamp' href='#415532'><time timestamp='2020-11-26T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
inside tx messages e.g.
<br>
</div>

<div class='talk op-msg' data-timestamp='1606418580' id='415533'>
<a class='timestamp' href='#415533'><time timestamp='2020-11-26T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
huh? A tx&#x27;s parent can have more parents in the package than the child, no?
<br>
</div>

<div class='talk op-msg' data-timestamp='1606418580' id='415534'>
<a class='timestamp' href='#415534'><time timestamp='2020-11-26T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-9'> glozow</span>&gt;
ah okay cool
<br>
</div>

<div class='talk op-msg' data-timestamp='1606418640' id='415535'>
<a class='timestamp' href='#415535'><time timestamp='2020-11-26T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jnewbery: oh sorry i mean you can either use ancestors, or depth
<br>
</div>

<div class='talk op-msg' data-timestamp='1606418640' id='415536'>
<a class='timestamp' href='#415536'><time timestamp='2020-11-26T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
not # of parents
<br>
</div>

<div class='talk op-msg' data-timestamp='1606418640' id='415537'>
<a class='timestamp' href='#415537'><time timestamp='2020-11-26T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
right
<br>
</div>

<div class='talk op-msg' data-timestamp='1606418640' id='415538'>
<a class='timestamp' href='#415538'><time timestamp='2020-11-26T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but i think these are all questions for later
<br>
</div>

<div class='talk op-msg' data-timestamp='1606418640' id='415539'>
<a class='timestamp' href='#415539'><time timestamp='2020-11-26T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-14'> jonatack</span>&gt;
glozow: is your concern about a trade-off between resource use/ddos and full atomic validation?
<br>
</div>

<div class='talk op-msg' data-timestamp='1606418700' id='415540'>
<a class='timestamp' href='#415540'><time timestamp='2020-11-26T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
for now i think, as an RPC it&#x27;s fine to just try atomically accepting the whole package
<br>
</div>

<div class='talk op-msg' data-timestamp='1606418700' id='415541'>
<a class='timestamp' href='#415541'><time timestamp='2020-11-26T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-10'> michaelfolkson</span>&gt;
sipa: Is it possible that post Taproot activation that an unupgraded node would reject Taproot transactions in a package? 
<br>
</div>

<div class='talk op-msg' data-timestamp='1606418700' id='415542'>
<a class='timestamp' href='#415542'><time timestamp='2020-11-26T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
michaelfolkson: they should
<br>
</div>

<div class='talk op-msg' data-timestamp='1606418700' id='415543'>
<a class='timestamp' href='#415543'><time timestamp='2020-11-26T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
(except there won&#x27;t be pre-taproot post-package relay nodes :p)
<br>
</div>

<div class='talk op-msg' data-timestamp='1606418760' id='415544'>
<a class='timestamp' href='#415544'><time timestamp='2020-11-26T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-10'> michaelfolkson</span>&gt;
sipa hopes
<br>
</div>

<div class='talk op-msg' data-timestamp='1606418760' id='415545'>
<a class='timestamp' href='#415545'><time timestamp='2020-11-26T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-10'> michaelfolkson</span>&gt;
haha
<br>
</div>

<div class='talk op-msg' data-timestamp='1606418760' id='415546'>
<a class='timestamp' href='#415546'><time timestamp='2020-11-26T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
regardless of whether it activates or not
<br>
</div>

<div class='talk op-msg' data-timestamp='1606418760' id='415547'>
<a class='timestamp' href='#415547'><time timestamp='2020-11-26T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-9'> glozow</span>&gt;
jonatack: yeah, even if not a dos concern, it at least seems unproductive to run PolicyScriptChecks for any tx if we&#x27;re going to reject the whole package, since those aren&#x27;t even cached.
<br>
</div>

<div class='talk op-msg' data-timestamp='1606418820' id='415548'>
<a class='timestamp' href='#415548'><time timestamp='2020-11-26T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
policy checks are cheap though
<br>
</div>

<div class='talk op-msg' data-timestamp='1606418820' id='415549'>
<a class='timestamp' href='#415549'><time timestamp='2020-11-26T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-9'> glozow</span>&gt;
PolicyScriptChecks?
<br>
</div>

<div class='talk op-msg' data-timestamp='1606418820' id='415550'>
<a class='timestamp' href='#415550'><time timestamp='2020-11-26T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
sipa: PolicyScriptChecks are script/sig validation
<br>
</div>

<div class='talk op-msg' data-timestamp='1606418820' id='415551'>
<a class='timestamp' href='#415551'><time timestamp='2020-11-26T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
oh, ok
<br>
</div>

<div class='talk op-msg' data-timestamp='1606418820' id='415552'>
<a class='timestamp' href='#415552'><time timestamp='2020-11-26T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
not familiar with that function
<br>
</div>

<div class='talk op-msg' data-timestamp='1606418880' id='415553'>
<a class='timestamp' href='#415553'><time timestamp='2020-11-26T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-10'> michaelfolkson</span>&gt;
Why &quot;they should&quot;? What do they have to lose by accepting a anyonecanspend transaction as part of the package?
<br>
</div>

<div class='talk op-msg' data-timestamp='1606418880' id='415554'>
<a class='timestamp' href='#415554'><time timestamp='2020-11-26T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
michaelfolkson: soft fork safety relies on using transactions the unupgraded networks considers nonstandard
<br>
</div>

<div class='talk op-msg' data-timestamp='1606418880' id='415555'>
<a class='timestamp' href='#415555'><time timestamp='2020-11-26T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
sipa: it&#x27;s a step in AcceptToMemoryPool
<br>
</div>

<div class='talk op-msg' data-timestamp='1606418940' id='415556'>
<a class='timestamp' href='#415556'><time timestamp='2020-11-26T19:29:00Z'>19:29</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
added by sdaftuar when he split it possible to implment package acceptance I believe
<br>
</div>

<div class='talk op-msg' data-timestamp='1606418940' id='415557'>
<a class='timestamp' href='#415557'><time timestamp='2020-11-26T19:29:00Z'>19:29</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ah
<br>
</div>

<div class='talk op-msg' data-timestamp='1606418940' id='415558'>
<a class='timestamp' href='#415558'><time timestamp='2020-11-26T19:29:00Z'>19:29</time></a>
&lt;<span class='nick nick-9'> glozow</span>&gt;
yeah added in #16400
<br>
</div>

<div class='talk op-msg' data-timestamp='1606418940' id='415559'>
<a class='timestamp' href='#415559'><time timestamp='2020-11-26T19:29:00Z'>19:29</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/16400" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/16400</a> | refactor: Rewrite AcceptToMemoryPoolWorker() using smaller parts by sdaftuar · Pull Request #16400 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1606419000' id='415560'>
<a class='timestamp' href='#415560'><time timestamp='2020-11-26T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
sipa: so you think the node should always dependency sort packages, both from p2p and rpc?
<br>
</div>

<div class='talk op-msg' data-timestamp='1606419000' id='415561'>
<a class='timestamp' href='#415561'><time timestamp='2020-11-26T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
seems to me that the sender/client should do that?
<br>
</div>

<div class='talk op-msg' data-timestamp='1606419060' id='415562'>
<a class='timestamp' href='#415562'><time timestamp='2020-11-26T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jnewbery: yeah, no opening on whose responsibility it should be
<br>
</div>

<div class='talk op-msg' data-timestamp='1606419060' id='415563'>
<a class='timestamp' href='#415563'><time timestamp='2020-11-26T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
in P2P, i think it may make sense to force the burden on the sender, because they already know this information anyway
<br>
</div>

<div class='talk op-msg' data-timestamp='1606419120' id='415564'>
<a class='timestamp' href='#415564'><time timestamp='2020-11-26T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-9'> glozow</span>&gt;
sipa: so if you receive a package you don&#x27;t check to see if it&#x27;s sorted properly, you just reject if it doesn&#x27;t work?
<br>
</div>

<div class='talk op-msg' data-timestamp='1606419120' id='415565'>
<a class='timestamp' href='#415565'><time timestamp='2020-11-26T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
I can see the argument for rpc to accept just a bag of txs and sort it
<br>
</div>

<div class='talk op-msg' data-timestamp='1606419120' id='415566'>
<a class='timestamp' href='#415566'><time timestamp='2020-11-26T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
glozow: yeah
<br>
</div>

<div class='talk op-msg' data-timestamp='1606419120' id='415567'>
<a class='timestamp' href='#415567'><time timestamp='2020-11-26T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jnewbery: yeah
<br>
</div>

<div class='talk op-msg' data-timestamp='1606419120' id='415568'>
<a class='timestamp' href='#415568'><time timestamp='2020-11-26T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-9'> glozow</span>&gt;
(also so i don&#x27;t take up too much time, just making sure, for RPC, it&#x27;s ok if i do full validation checks for each tx in a testmempoolaccept package, and atomic for real package submissions?)
<br>
</div>

<div class='talk op-msg' data-timestamp='1606419180' id='415569'>
<a class='timestamp' href='#415569'><time timestamp='2020-11-26T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
glozow: i&#x27;d more think the other way around
<br>
</div>

<div class='talk op-msg' data-timestamp='1606419180' id='415570'>
<a class='timestamp' href='#415570'><time timestamp='2020-11-26T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
there&#x27;s one other, probably short, topic, so no you&#x27;re not taking up too much time :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1606419180' id='415571'>
<a class='timestamp' href='#415571'><time timestamp='2020-11-26T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
I think sipa is saying make both RPC and P2P atomic
<br>
</div>

<div class='talk op-msg' data-timestamp='1606419180' id='415572'>
<a class='timestamp' href='#415572'><time timestamp='2020-11-26T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i&#x27;m saying, for now, only do RPC, and make it atomic
<br>
</div>

<div class='talk op-msg' data-timestamp='1606419180' id='415573'>
<a class='timestamp' href='#415573'><time timestamp='2020-11-26T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
because there is no need for anything else unless someone comes up with a use case
<br>
</div>

<div class='talk op-msg' data-timestamp='1606419240' id='415574'>
<a class='timestamp' href='#415574'><time timestamp='2020-11-26T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
for P2P package relay... i feel there may be a need for accepting subpackages, but that&#x27;s a question we can discuss later
<br>
</div>

<div class='talk op-msg' data-timestamp='1606419240' id='415575'>
<a class='timestamp' href='#415575'><time timestamp='2020-11-26T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
I still think there&#x27;s value to make RPC granular if it doesn&#x27;t add too much complication, because providing the extra information to the user can be helpful
<br>
</div>

<div class='talk op-msg' data-timestamp='1606419240' id='415576'>
<a class='timestamp' href='#415576'><time timestamp='2020-11-26T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
extra information and being atomic aren&#x27;t in conflict with each other
<br>
</div>

<div class='talk op-msg' data-timestamp='1606419240' id='415577'>
<a class='timestamp' href='#415577'><time timestamp='2020-11-26T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
you can report &quot;the package failed... and this is the first problem i encountered, in tx A&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1606419240' id='415578'>
<a class='timestamp' href='#415578'><time timestamp='2020-11-26T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
right
<br>
</div>

<div class='talk op-msg' data-timestamp='1606419300' id='415579'>
<a class='timestamp' href='#415579'><time timestamp='2020-11-26T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
ah, maybe we haven&#x27;t described the problem well
<br>
</div>

<div class='talk op-msg' data-timestamp='1606419300' id='415580'>
<a class='timestamp' href='#415580'><time timestamp='2020-11-26T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
being non-atomic would be a result of the form &quot;the subset of packages {A,B,C,...} is acceptable from your bag, but D failed because Y&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1606419300' id='415581'>
<a class='timestamp' href='#415581'><time timestamp='2020-11-26T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
there are many steps in AcceptToMemoryPool: Prechecks, policy checks, consensus checks
<br>
</div>

<div class='talk op-msg' data-timestamp='1606419300' id='415582'>
<a class='timestamp' href='#415582'><time timestamp='2020-11-26T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
at least that&#x27;s how i interpreted it
<br>
</div>

<div class='talk op-msg' data-timestamp='1606419360' id='415583'>
<a class='timestamp' href='#415583'><time timestamp='2020-11-26T19:36:00Z'>19:36</time></a>
&lt;<span class='nick nick-10'> michaelfolkson</span>&gt;
Non-atomic would be accepting a subset of the package right? Rather than rejecting it outright and providing info why
<br>
</div>

<div class='talk op-msg' data-timestamp='1606419360' id='415584'>
<a class='timestamp' href='#415584'><time timestamp='2020-11-26T19:36:00Z'>19:36</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
we should first do prechecks for all txs, then policy checks for all txs, then consensus checks for all txs
<br>
</div>

<div class='talk op-msg' data-timestamp='1606419360' id='415585'>
<a class='timestamp' href='#415585'><time timestamp='2020-11-26T19:36:00Z'>19:36</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jnewbery: agree
<br>
</div>

<div class='talk op-msg' data-timestamp='1606419360' id='415586'>
<a class='timestamp' href='#415586'><time timestamp='2020-11-26T19:36:00Z'>19:36</time></a>
&lt;<span class='nick nick-9'> glozow</span>&gt;
so the question is, if A and B passed prechecks but C didn&#x27;t, should we still run script checks for A and B?
<br>
</div>

<div class='talk op-msg' data-timestamp='1606419420' id='415587'>
<a class='timestamp' href='#415587'><time timestamp='2020-11-26T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
but if tx C fails prechecks, it might still be helpful to do policy checks for tx A and tx B and consensus checks for tx A and tx B so we can say to the user &quot;tx A and tx B are good, but tx C fails in prechecks&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1606419420' id='415588'>
<a class='timestamp' href='#415588'><time timestamp='2020-11-26T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i&#x27;d say no - for now - because the package in its entirety isn&#x27;t acceptable
<br>
</div>

<div class='talk op-msg' data-timestamp='1606419480' id='415589'>
<a class='timestamp' href='#415589'><time timestamp='2020-11-26T19:38:00Z'>19:38</time></a>
&lt;<span class='nick nick-10'> michaelfolkson</span>&gt;
I guess the concern that there is inefficiency. The sender keeps coming back with a smaller package that still gets rejected
<br>
</div>

<div class='talk op-msg' data-timestamp='1606419480' id='415590'>
<a class='timestamp' href='#415590'><time timestamp='2020-11-26T19:38:00Z'>19:38</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
michaelfolkson: in RPC there is no &quot;sender&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1606419480' id='415591'>
<a class='timestamp' href='#415591'><time timestamp='2020-11-26T19:38:00Z'>19:38</time></a>
&lt;<span class='nick nick-9'> glozow</span>&gt;
what if there&#x27;s a script error in A, and a prechecks error in C (and C depends on B which depends on A), it&#x27;d be more helpful to the RPC client to know how to fix the error in A first?
<br>
</div>

<div class='talk op-msg' data-timestamp='1606419540' id='415592'>
<a class='timestamp' href='#415592'><time timestamp='2020-11-26T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and if the user wants that kind of functionality, we should add it
<br>
</div>

<div class='talk op-msg' data-timestamp='1606419540' id='415593'>
<a class='timestamp' href='#415593'><time timestamp='2020-11-26T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
glozow: is that a big design question that needs to be known up front?
<br>
</div>

<div class='talk op-msg' data-timestamp='1606419540' id='415594'>
<a class='timestamp' href='#415594'><time timestamp='2020-11-26T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
otherwise i&#x27;d just say do the simplest thing first, and iterate
<br>
</div>

<div class='talk op-msg' data-timestamp='1606419660' id='415595'>
<a class='timestamp' href='#415595'><time timestamp='2020-11-26T19:41:00Z'>19:41</time></a>
&lt;<span class='nick nick-9'> glozow</span>&gt;
it does affect the testmempoolaccept API, i&#x27;d like as helpful a response as possible if the package fails
<br>
</div>

<div class='talk op-msg' data-timestamp='1606419720' id='415596'>
<a class='timestamp' href='#415596'><time timestamp='2020-11-26T19:42:00Z'>19:42</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i feel that adding more detailed error reporting later can probably be done in a backward compatible manner
<br>
</div>

<div class='talk op-msg' data-timestamp='1606419720' id='415597'>
<a class='timestamp' href='#415597'><time timestamp='2020-11-26T19:42:00Z'>19:42</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
I&#x27;d also say to do the simpler thing first. Literally any progress on teaching TATMP packages is a nice feature 
<br>
</div>

<div class='talk op-msg' data-timestamp='1606419720' id='415598'>
<a class='timestamp' href='#415598'><time timestamp='2020-11-26T19:42:00Z'>19:42</time></a>
&lt;<span class='nick nick-9'> glozow</span>&gt;
ok, so atomic for now
<br>
</div>

<div class='talk op-msg' data-timestamp='1606419720' id='415599'>
<a class='timestamp' href='#415599'><time timestamp='2020-11-26T19:42:00Z'>19:42</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
if the RPC is &quot;your package is acceptable in its entirety: yes/no. here is a list of problems i found: []&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1606419780' id='415600'>
<a class='timestamp' href='#415600'><time timestamp='2020-11-26T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
Also, we can&#x27;t keep policy error messages identical between releases anyway
<br>
</div>

<div class='talk op-msg' data-timestamp='1606419780' id='415601'>
<a class='timestamp' href='#415601'><time timestamp='2020-11-26T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
MarcoFalke: right
<br>
</div>

<div class='talk op-msg' data-timestamp='1606419840' id='415602'>
<a class='timestamp' href='#415602'><time timestamp='2020-11-26T19:44:00Z'>19:44</time></a>
&lt;<span class='nick nick-9'> glozow</span>&gt;
got it, thanks everyone
<br>
</div>

<div class='talk op-msg' data-timestamp='1606419840' id='415603'>
<a class='timestamp' href='#415603'><time timestamp='2020-11-26T19:44:00Z'>19:44</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
#topic 2019-20 Coredev survey summary (ajonas)
<br>
</div>

<div class='talk op-msg' data-timestamp='1606419840' id='415604'>
<a class='timestamp' href='#415604'><time timestamp='2020-11-26T19:44:00Z'>19:44</time></a>
&lt;<span class='nick nick-2'> core-meetingbot</span>&gt;
topic: 2019-20 Coredev survey summary (ajonas)
<br>
</div>

<div class='talk op-msg' data-timestamp='1606419840' id='415605'>
<a class='timestamp' href='#415605'><time timestamp='2020-11-26T19:44:00Z'>19:44</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
glozow: Thanks for working on this!
<br>
</div>

<div class='talk op-msg' data-timestamp='1606419840' id='415606'>
<a class='timestamp' href='#415606'><time timestamp='2020-11-26T19:44:00Z'>19:44</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
absolutely
<br>
</div>

<div class='talk op-msg' data-timestamp='1606419900' id='415607'>
<a class='timestamp' href='#415607'><time timestamp='2020-11-26T19:45:00Z'>19:45</time></a>
&lt;<span class='nick nick-15'> ajonas</span>&gt;
In January, jnewbery sent out a survey that he planned to present the results of at the Coredev in March. Given that the meeting never happened, I put together a presentation/post summarizing the responses. Both can be found at <a href="https://adamjonas.com/bitcoin/coredev/retro/coredev-2019-retro/" class="link" target="_blank">https://adamjonas.com/bitcoin/coredev/retro/coredev-2019-retro/</a>.
<br>
</div>

<div class='talk op-msg' data-timestamp='1606419900' id='415608'>
<a class='timestamp' href='#415608'><time timestamp='2020-11-26T19:45:00Z'>19:45</time></a>
&lt;<span class='nick nick-15'> ajonas</span>&gt;
No action items. Just want to call it to people&#x27;s attention.
<br>
</div>

<div class='talk op-msg' data-timestamp='1606419900' id='415609'>
<a class='timestamp' href='#415609'><time timestamp='2020-11-26T19:45:00Z'>19:45</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
ajonas: awesome!
<br>
</div>

<div class='talk op-msg' data-timestamp='1606419900' id='415610'>
<a class='timestamp' href='#415610'><time timestamp='2020-11-26T19:45:00Z'>19:45</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
ajonas: thank you for picking this up
<br>
</div>

<div class='talk op-msg' data-timestamp='1606419900' id='415611'>
<a class='timestamp' href='#415611'><time timestamp='2020-11-26T19:45:00Z'>19:45</time></a>
&lt;<span class='nick nick-10'> michaelfolkson</span>&gt;
For the summary watch the video I guess?
<br>
</div>

<div class='talk op-msg' data-timestamp='1606419960' id='415612'>
<a class='timestamp' href='#415612'><time timestamp='2020-11-26T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-15'> ajonas</span>&gt;
the post and the video are about the same
<br>
</div>

<div class='talk op-msg' data-timestamp='1606419960' id='415613'>
<a class='timestamp' href='#415613'><time timestamp='2020-11-26T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
short note: i just opened #20511, which i think is something to address for 0.21
<br>
</div>

<div class='talk op-msg' data-timestamp='1606419960' id='415614'>
<a class='timestamp' href='#415614'><time timestamp='2020-11-26T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/20511" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/20511</a> | anchors.dat doesnt support V2 addresses · Issue #20511 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1606419960' id='415615'>
<a class='timestamp' href='#415615'><time timestamp='2020-11-26T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-14'> jonatack</span>&gt;
ajonas: wow! thanks!
<br>
</div>

<div class='talk op-msg' data-timestamp='1606419960' id='415616'>
<a class='timestamp' href='#415616'><time timestamp='2020-11-26T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-9'> glozow</span>&gt;
ajonas: wow cool!!!
<br>
</div>

<div class='talk op-msg' data-timestamp='1606419960' id='415617'>
<a class='timestamp' href='#415617'><time timestamp='2020-11-26T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ajonas: thanks for that, will read (and maybe watch)
<br>
</div>

<div class='talk op-msg' data-timestamp='1606419960' id='415618'>
<a class='timestamp' href='#415618'><time timestamp='2020-11-26T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
nice!
<br>
</div>

<div class='talk op-msg' data-timestamp='1606419960' id='415619'>
<a class='timestamp' href='#415619'><time timestamp='2020-11-26T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-15'> ajonas</span>&gt;
thanks to jnewbery for sending it out and I hope we can do another round in early 2021.
<br>
</div>

<div class='talk op-msg' data-timestamp='1606420020' id='415620'>
<a class='timestamp' href='#415620'><time timestamp='2020-11-26T19:47:00Z'>19:47</time></a>
&lt;<span class='nick nick-8'> fjahr</span>&gt;
ajonas: cool!
<br>
</div>

<div class='talk op-msg' data-timestamp='1606420140' id='415621'>
<a class='timestamp' href='#415621'><time timestamp='2020-11-26T19:49:00Z'>19:49</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
unless anyone wants to discuss a specific thing from that overview, I think this concludes the meeting
<br>
</div>

<div class='talk op-msg' data-timestamp='1606420140' id='415622'>
<a class='timestamp' href='#415622'><time timestamp='2020-11-26T19:49:00Z'>19:49</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
I agree that there&#x27;s much more value in these things if we repeat them periodically. Everyone who answered talked about their hopes for the project and their contributions in 2020, so looking back at those should be interesting for people
<br>
</div>

<div class='talk op-msg' data-timestamp='1606420200' id='415623'>
<a class='timestamp' href='#415623'><time timestamp='2020-11-26T19:50:00Z'>19:50</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes it&#x27;s interesting I agree with most of the comments
<br>
</div>

<div class='talk op-msg' data-timestamp='1606420260' id='415624'>
<a class='timestamp' href='#415624'><time timestamp='2020-11-26T19:51:00Z'>19:51</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
#endmeeting
<br>
</div>

<div class='talk op-msg' data-timestamp='1606420260' id='415625'>
<a class='timestamp' href='#415625'><time timestamp='2020-11-26T19:51:00Z'>19:51</time></a>
&lt;<span class='nick nick-2'> core-meetingbot</span>&gt;
topic: Bitcoin Core development discussion and commit log | Feel free to watch, but please take commentary and usage questions to #bitcoin | Channel logs: <a href="http://www.erisian.com.au/bitcoin-core-dev/" class="link" target="_blank">http://www.erisian.com.au/bitcoin-core-dev/</a>, <a href="http://gnusha.org/bitcoin-core-dev/" class="link" target="_blank">http://gnusha.org/bitcoin-core-dev/</a> | Meeting topics <a href="http://gnusha.org/bitcoin-core-dev/proposedmeetingtopics.txt" class="link" target="_blank">http://gnusha.org/bitcoin-core-dev/proposedmeetingtopics.txt</a> / <a href="http://gnusha.org/bitcoin-core-dev/proposedwalletmeetingtopics.txt" class="link" target="_blank">http://gnusha.org/bitcoin-core-dev/proposedwalletmeetingtopics.txt</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1606420260' id='415626'>
<a class='timestamp' href='#415626'><time timestamp='2020-11-26T19:51:00Z'>19:51</time></a>
&lt;<span class='nick nick-2'> core-meetingbot</span>&gt;
Meeting ended Thu Nov 26 19:51:25 2020 UTC.  
<br>
</div>

<div class='talk op-msg' data-timestamp='1606420260' id='415627'>
<a class='timestamp' href='#415627'><time timestamp='2020-11-26T19:51:00Z'>19:51</time></a>
&lt;<span class='nick nick-2'> core-meetingbot</span>&gt;
Minutes:        <a href="https://bitcoin.jonasschnelli.ch/ircmeetings/logs/bitcoin-core-dev/2020/bitcoin-core-dev.2020-11-26-19.00.moin.txt" class="link" target="_blank">https://bitcoin.jonasschnelli.ch/ircmeetings/logs/bitcoin-core-dev/2020/bitcoin-core-dev.2020-11-26-19.00.moin.txt</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1606420320' id='415628'>
<a class='timestamp' href='#415628'><time timestamp='2020-11-26T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-10'> michaelfolkson</span>&gt;
I&#x27;m guessing there will be no Core dev meeting until it can be done in person? People aren&#x27;t keen on video conference like things
<br>
</div>

<div class='talk op-msg' data-timestamp='1606420380' id='415629'>
<a class='timestamp' href='#415629'><time timestamp='2020-11-26T19:53:00Z'>19:53</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
michaelfolkson: IRC works better than video
<br>
</div>

<div class='talk op-msg' data-timestamp='1606420380' id='415630'>
<a class='timestamp' href='#415630'><time timestamp='2020-11-26T19:53:00Z'>19:53</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i&#x27;m personally not particularly interested in non-in-person coredev
<br>
</div>

<div class='talk op-msg' data-timestamp='1606420440' id='415631'>
<a class='timestamp' href='#415631'><time timestamp='2020-11-26T19:54:00Z'>19:54</time></a>
&lt;<span class='nick nick-10'> michaelfolkson</span>&gt;
Fair enough
<br>
</div>

<div class='talk op-msg' data-timestamp='1606420500' id='415632'>
<a class='timestamp' href='#415632'><time timestamp='2020-11-26T19:55:00Z'>19:55</time></a>
&lt;<span class='nick nick-10'> michaelfolkson</span>&gt;
I think it is IRC &lt; Video &lt; In person for engagement. But IRC definitely most convenient
<br>
</div>

<div class='talk op-msg' data-timestamp='1606420800' id='415633'>
<a class='timestamp' href='#415633'><time timestamp='2020-11-26T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-14'> jonatack</span>&gt;
same for me as MarcoFalke and sipa ^
<br>
</div>

<div class='talk op-msg' data-timestamp='1606420980' id='415634'>
<a class='timestamp' href='#415634'><time timestamp='2020-11-26T20:03:00Z'>20:03</time></a>
&lt;<span class='nick nick-14'> hebasto</span>&gt;
^ same
<br>
</div>

<div class='talk op-msg' data-timestamp='1606421040' id='415635'>
<a class='timestamp' href='#415635'><time timestamp='2020-11-26T20:04:00Z'>20:04</time></a>
&lt;<span class='nick nick-10'> michaelfolkson</span>&gt;
To be clear I wasn&#x27;t proposing video instead of IRC for the weekly meetings lol. Only as a possible substitute to the in person Core dev meeting until Covid is over
<br>
</div>

<div class='talk op-msg' data-timestamp='1606421880' id='415636'>
<a class='timestamp' href='#415636'><time timestamp='2020-11-26T20:18:00Z'>20:18</time></a>
&lt;<span class='nick nick-10'> michaelfolkson</span>&gt;
Great video ajonas. Interested in how next year&#x27;s will compare
<br>
</div>

<div class='talk op-msg' data-timestamp='1606422180' id='415637'>
<a class='timestamp' href='#415637'><time timestamp='2020-11-26T20:23:00Z'>20:23</time></a>
&lt;<span class='nick nick-10'> michaelfolkson</span>&gt;
I&#x27;m guessing at least some of this has improved. Signet and BIP 157 have made progress. Coin selection less so presumably
<br>
</div>

<div class='talk op-msg' data-timestamp='1606422300' id='415638'>
<a class='timestamp' href='#415638'><time timestamp='2020-11-26T20:25:00Z'>20:25</time></a>
&lt;<span class='nick nick-10'> michaelfolkson</span>&gt;
And process separation and fuzzing PRs struggle for review
<br>
</div>

<div class='talk op-msg' data-timestamp='1606422960' id='415639'>
<a class='timestamp' href='#415639'><time timestamp='2020-11-26T20:36:00Z'>20:36</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] emilengler opened pull request #20512: doc: Add bash as an OpenBSD dependency (master...2020-11-doc-build-openbsd-bash-dependency) <a href="https://github.com/bitcoin/bitcoin/pull/20512" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20512</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1606423200' id='415640'>
<a class='timestamp' href='#415640'><time timestamp='2020-11-26T20:40:00Z'>20:40</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] bitcoinhodler opened pull request #20513: Release notes: remove mention of default wallet creation (master...no-default-wallet) <a href="https://github.com/bitcoin/bitcoin/pull/20513" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20513</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1606425120' id='415641'>
<a class='timestamp' href='#415641'><time timestamp='2020-11-26T21:12:00Z'>21:12</time></a>
&lt;<span class='nick nick-3'> aj</span>&gt;
wumpus: any thoughts on &quot;bitcoin-util grind&quot; ? another option might be to add &quot;bitcoin-cli -grind=HEADER&quot; with the idea being to move it into bitcoin-util in a later PR that also includes other useful stuff, like psbt commands?
<br>
</div>

<div class='talk op-msg' data-timestamp='1606425180' id='415642'>
<a class='timestamp' href='#415642'><time timestamp='2020-11-26T21:13:00Z'>21:13</time></a>
&lt;<span class='nick nick-9'> schmeckin</span>&gt;
It&#x27;s amazing what a bunch of assholes yall are.  You wonder why you&#x27;re being insulted after spending 8 years being corrupt pathological lieing fucktards instead of rectifying the issue?
<br>
</div>

<div class='talk op-msg' data-timestamp='1606425180' id='415643'>
<a class='timestamp' href='#415643'><time timestamp='2020-11-26T21:13:00Z'>21:13</time></a>
&lt;<span class='nick nick-9'> schmeckin</span>&gt;
midnight -------&gt;&gt; [[ You are as rotten as a clumsy decaying myriad of smelly bat pus ]] &lt;&lt;-------
<br>
</div>

<div class='talk op-msg' data-timestamp='1606425180' id='415644'>
<a class='timestamp' href='#415644'><time timestamp='2020-11-26T21:13:00Z'>21:13</time></a>
&lt;<span class='nick nick-9'> schmeckin</span>&gt;
luke-jr -------&gt;&gt; [[ You are as noxious as a dirty clumsy accumulation of rotten despicable disgusting cockroach dung ]] &lt;&lt;-------
<br>
</div>

<div class='talk op-msg' data-timestamp='1606425180' id='415645'>
<a class='timestamp' href='#415645'><time timestamp='2020-11-26T21:13:00Z'>21:13</time></a>
&lt;<span class='nick nick-9'> schmeckin</span>&gt;
gmaxwell -------&gt;&gt; [[ You are as hostile as a barren mass of ineffectual bat orifices ]] &lt;&lt;-------
<br>
</div>

<div class='talk op-msg' data-timestamp='1606426440' id='415646'>
<a class='timestamp' href='#415646'><time timestamp='2020-11-26T21:34:00Z'>21:34</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] bitcoinhodler closed pull request #20513: Release notes: remove mention of default wallet creation (0.21...no-default-wallet) <a href="https://github.com/bitcoin/bitcoin/pull/20513" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20513</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1606428120' id='415647'>
<a class='timestamp' href='#415647'><time timestamp='2020-11-26T22:02:00Z'>22:02</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] sipa opened pull request #20514: Use addrv2 serialization in anchors.dat (master...202011_v2_anchors) <a href="https://github.com/bitcoin/bitcoin/pull/20514" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20514</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1606428360' id='415648'>
<a class='timestamp' href='#415648'><time timestamp='2020-11-26T22:06:00Z'>22:06</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
wumpus: not a sensible one <a href="https://dpaste.com/8KGS42GH5" class="link" target="_blank">https://dpaste.com/8KGS42GH5</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1606428480' id='415649'>
<a class='timestamp' href='#415649'><time timestamp='2020-11-26T22:08:00Z'>22:08</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
I mean, if this were correct, it wouldn&#x27;t matter if it was Valgrind run or not XD
<br>
</div>

<div class='talk op-msg' data-timestamp='1606428840' id='415650'>
<a class='timestamp' href='#415650'><time timestamp='2020-11-26T22:14:00Z'>22:14</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
oh lovely, it goes away if I LogPrintf the pointer -.-
<br>
</div>

<div class='talk op-msg' data-timestamp='1606428960' id='415651'>
<a class='timestamp' href='#415651'><time timestamp='2020-11-26T22:16:00Z'>22:16</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] sipsorcery closed pull request #20508: IGNORE: Testing appveyor CI build with pre-built dependencies (master...msvc-vcpkg-prebuilt) <a href="https://github.com/bitcoin/bitcoin/pull/20508" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20508</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1606429440' id='415652'>
<a class='timestamp' href='#415652'><time timestamp='2020-11-26T22:24:00Z'>22:24</time></a>
&lt;<span class='nick nick-10'> michaelfolkson</span>&gt;
Don&#x27;t know why the trolls are targeting you today luke-jr. On behalf of humanity I apologize
<br>
</div>

<div class='talk op-msg' data-timestamp='1606429560' id='415653'>
<a class='timestamp' href='#415653'><time timestamp='2020-11-26T22:26:00Z'>22:26</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
michaelfolkson: me either :/
<br>
</div>

<div class='talk op-msg' data-timestamp='1606429680' id='415654'>
<a class='timestamp' href='#415654'><time timestamp='2020-11-26T22:28:00Z'>22:28</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
wumpus: qt compiles now, &quot;apt install --reinstall qtbase5-dev&quot; was enough to fix it
<br>
</div>

<div class='talk op-msg' data-timestamp='1606429980' id='415655'>
<a class='timestamp' href='#415655'><time timestamp='2020-11-26T22:33:00Z'>22:33</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
O.o
<br>
</div>

<div class='talk op-msg' data-timestamp='1606430040' id='415656'>
<a class='timestamp' href='#415656'><time timestamp='2020-11-26T22:34:00Z'>22:34</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
luke-jr: somehow i was missing libQt5Core.so (i only had .so.5)
<br>
</div>

<div class='talk op-msg' data-timestamp='1606430040' id='415657'>
<a class='timestamp' href='#415657'><time timestamp='2020-11-26T22:34:00Z'>22:34</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
weird
<br>
</div>

<div class='talk op-msg' data-timestamp='1606430760' id='415658'>
<a class='timestamp' href='#415658'><time timestamp='2020-11-26T22:46:00Z'>22:46</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
hrm, -O0 doesn&#x27;t crash in Valgrind
<br>
</div>

<div class='talk op-msg' data-timestamp='1606430820' id='415659'>
<a class='timestamp' href='#415659'><time timestamp='2020-11-26T22:47:00Z'>22:47</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
not sure this tells me anything
<br>
</div>

<div class='talk op-msg' data-timestamp='1606431060' id='415660'>
<a class='timestamp' href='#415660'><time timestamp='2020-11-26T22:51:00Z'>22:51</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
luke-jr: are you mixing sanitizers and valgrind?
<br>
</div>

<div class='talk op-msg' data-timestamp='1606431240' id='415661'>
<a class='timestamp' href='#415661'><time timestamp='2020-11-26T22:54:00Z'>22:54</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
sipa: just ubsan
<br>
</div>

<div class='talk op-msg' data-timestamp='1606431300' id='415662'>
<a class='timestamp' href='#415662'><time timestamp='2020-11-26T22:55:00Z'>22:55</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that&#x27;s certainly the least invasive
<br>
</div>

<div class='talk op-msg' data-timestamp='1606431480' id='415663'>
<a class='timestamp' href='#415663'><time timestamp='2020-11-26T22:58:00Z'>22:58</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
I suppose I could rebuild without just to see
<br>
</div>

<div class='talk op-msg' data-timestamp='1606431480' id='415664'>
<a class='timestamp' href='#415664'><time timestamp='2020-11-26T22:58:00Z'>22:58</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
but if it fails to reproduce, I&#x27;m not sure UBSan is at fault even then
<br>
</div>

<div class='talk op-msg' data-timestamp='1606431540' id='415665'>
<a class='timestamp' href='#415665'><time timestamp='2020-11-26T22:59:00Z'>22:59</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
LogPrintfs down to FastRandomContext::rand64 leave the crash intact and show non-null ptr
<br>
</div>

<div class='talk op-msg' data-timestamp='1606431600' id='415666'>
<a class='timestamp' href='#415666'><time timestamp='2020-11-26T23:00:00Z'>23:00</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
LogPrintfs in FastRandomContext::FillByteBuffer or ChaCha20::Keystream show the same non-null ptr and fix the crash
<br>
</div>

<div class='talk op-msg' data-timestamp='1606431660' id='415667'>
<a class='timestamp' href='#415667'><time timestamp='2020-11-26T23:01:00Z'>23:01</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
luke-jr: i mean... if it were actually trying to write 4 bytes to nullptr, your process would segfault
<br>
</div>

<div class='talk op-msg' data-timestamp='1606431660' id='415668'>
<a class='timestamp' href='#415668'><time timestamp='2020-11-26T23:01:00Z'>23:01</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
so if it works by just running, and not inside valgrind (both with ubsan enabled), it&#x27;s a problem with the combination of the two
<br>
</div>

<div class='talk op-msg' data-timestamp='1606431900' id='415669'>
<a class='timestamp' href='#415669'><time timestamp='2020-11-26T23:05:00Z'>23:05</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
sipa: it does segfault :P
<br>
</div>

<div class='talk op-msg' data-timestamp='1606431900' id='415670'>
<a class='timestamp' href='#415670'><time timestamp='2020-11-26T23:05:00Z'>23:05</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
inside valgrind*
<br>
</div>

<div class='talk op-msg' data-timestamp='1606431960' id='415671'>
<a class='timestamp' href='#415671'><time timestamp='2020-11-26T23:06:00Z'>23:06</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
but not without UBSan
<br>
</div>

<div class='talk op-msg' data-timestamp='1606431960' id='415672'>
<a class='timestamp' href='#415672'><time timestamp='2020-11-26T23:06:00Z'>23:06</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
strange
<br>
</div>

<div class='talk op-msg' data-timestamp='1606432020' id='415673'>
<a class='timestamp' href='#415673'><time timestamp='2020-11-26T23:07:00Z'>23:07</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
luke-jr: but does it segfault <b>*with*</b> ubsan, but outside valgrind?
<br>
</div>

<div class='talk op-msg' data-timestamp='1606432260' id='415674'>
<a class='timestamp' href='#415674'><time timestamp='2020-11-26T23:11:00Z'>23:11</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
sipa: no
<br>
</div>

<div class='talk op-msg' data-timestamp='1606432260' id='415675'>
<a class='timestamp' href='#415675'><time timestamp='2020-11-26T23:11:00Z'>23:11</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
but that could just indicate a timing issuse
<br>
</div>

<div class='talk op-msg' data-timestamp='1606432740' id='415676'>
<a class='timestamp' href='#415676'><time timestamp='2020-11-26T23:19:00Z'>23:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
luke-jr: could be, indeed
<br>
</div>

<div class='talk op-msg' data-timestamp='1606434120' id='415677'>
<a class='timestamp' href='#415677'><time timestamp='2020-11-26T23:42:00Z'>23:42</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
in the meantime, the actual issue I was <b>*trying*</b> to debug, doesn&#x27;t occur in Valgrind x.x
<br>
</div>

</div>
</section>

</body>
</html>
