<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2017-10-04
 — 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2017-10-04' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:23 UTC</pre>
<pre><a href="/bitcoin-core-dev/2017-09-04">&lt;</a><span class='header'>   October 2017   </span><a href="/bitcoin-core-dev/2017-11-04">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A; <a class="" href="/bitcoin-core-dev/2017-10-01">1</a>  <a class="" href="/bitcoin-core-dev/2017-10-02">2</a>  <a class="" href="/bitcoin-core-dev/2017-10-03">3</a>  <a class="current" href="/bitcoin-core-dev/2017-10-04">4</a>  <a class="" href="/bitcoin-core-dev/2017-10-05">5</a>  <a class="" href="/bitcoin-core-dev/2017-10-06">6</a>  <a class="" href="/bitcoin-core-dev/2017-10-07">7</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2017-10-08">8</a>  <a class="" href="/bitcoin-core-dev/2017-10-09">9</a> <a class="" href="/bitcoin-core-dev/2017-10-10">10</a> <a class="" href="/bitcoin-core-dev/2017-10-11">11</a> <a class="" href="/bitcoin-core-dev/2017-10-12">12</a> <a class="" href="/bitcoin-core-dev/2017-10-13">13</a> <a class="" href="/bitcoin-core-dev/2017-10-14">14</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2017-10-15">15</a> <a class="" href="/bitcoin-core-dev/2017-10-16">16</a> <a class="" href="/bitcoin-core-dev/2017-10-17">17</a> <a class="" href="/bitcoin-core-dev/2017-10-18">18</a> <a class="" href="/bitcoin-core-dev/2017-10-19">19</a> <a class="" href="/bitcoin-core-dev/2017-10-20">20</a> <a class="" href="/bitcoin-core-dev/2017-10-21">21</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2017-10-22">22</a> <a class="" href="/bitcoin-core-dev/2017-10-23">23</a> <a class="" href="/bitcoin-core-dev/2017-10-24">24</a> <a class="" href="/bitcoin-core-dev/2017-10-25">25</a> <a class="" href="/bitcoin-core-dev/2017-10-26">26</a> <a class="" href="/bitcoin-core-dev/2017-10-27">27</a> <a class="" href="/bitcoin-core-dev/2017-10-28">28</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2017-10-29">29</a> <a class="" href="/bitcoin-core-dev/2017-10-30">30</a> <a class="" href="/bitcoin-core-dev/2017-10-31">31</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1507086900' id='573647'>
<a class='timestamp' href='#573647'><time timestamp='2017-10-04T03:15:00Z'>03:15</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jonasschnelli pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/b4a509a3f817...093074b84395" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/b4a509a3f817...093074b84395</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1507086900' id='573648'>
<a class='timestamp' href='#573648'><time timestamp='2017-10-04T03:15:00Z'>03:15</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master ab5bba7 Alejandro Avilés: Fix launchctl not being able to stop bitcoind...
<br>
</div>

<div class='talk op-msg' data-timestamp='1507086900' id='573649'>
<a class='timestamp' href='#573649'><time timestamp='2017-10-04T03:15:00Z'>03:15</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 093074b Jonas Schnelli: Merge #11419: Utils: Fix launchctl not being able to stop bitcoind...
<br>
</div>

<div class='talk op-msg' data-timestamp='1507086960' id='573650'>
<a class='timestamp' href='#573650'><time timestamp='2017-10-04T03:16:00Z'>03:16</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jonasschnelli closed pull request #11419: Utils: Fix launchctl not being able to stop bitcoind (master...fix-macos-init) <a href="https://github.com/bitcoin/bitcoin/pull/11419" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/11419</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1507090320' id='573651'>
<a class='timestamp' href='#573651'><time timestamp='2017-10-04T04:12:00Z'>04:12</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
ping cfields 
<br>
</div>

<div class='talk op-msg' data-timestamp='1507113600' id='573652'>
<a class='timestamp' href='#573652'><time timestamp='2017-10-04T10:40:00Z'>10:40</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke pushed 3 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/093074b84395...9ccafb1d7bdd" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/093074b84395...9ccafb1d7bdd</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1507113600' id='573653'>
<a class='timestamp' href='#573653'><time timestamp='2017-10-04T10:40:00Z'>10:40</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master fd86f99 MarcoFalke: Squashed &#x27;src/secp256k1/&#x27; changes from 84973d393..0b7024185...
<br>
</div>

<div class='talk op-msg' data-timestamp='1507113600' id='573654'>
<a class='timestamp' href='#573654'><time timestamp='2017-10-04T10:40:00Z'>10:40</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 999968e MarcoFalke: Bump secp256k1 subtree
<br>
</div>

<div class='talk op-msg' data-timestamp='1507113600' id='573655'>
<a class='timestamp' href='#573655'><time timestamp='2017-10-04T10:40:00Z'>10:40</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 9ccafb1 MarcoFalke: Merge #11421: Merge current secp256k1 subtree...
<br>
</div>

<div class='talk op-msg' data-timestamp='1507113600' id='573656'>
<a class='timestamp' href='#573656'><time timestamp='2017-10-04T10:40:00Z'>10:40</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke closed pull request #11421: Merge current secp256k1 subtree (master...Mf1709-subtree-secp256k1) <a href="https://github.com/bitcoin/bitcoin/pull/11421" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/11421</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1507119960' id='573657'>
<a class='timestamp' href='#573657'><time timestamp='2017-10-04T12:26:00Z'>12:26</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 3 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/9ccafb1d7bdd...a4c833fec104" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/9ccafb1d7bdd...a4c833fec104</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1507119960' id='573658'>
<a class='timestamp' href='#573658'><time timestamp='2017-10-04T12:26:00Z'>12:26</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master fae2673 MarcoFalke: qa: check-rpc-mapping must not run on empty lists
<br>
</div>

<div class='talk op-msg' data-timestamp='1507119960' id='573659'>
<a class='timestamp' href='#573659'><time timestamp='2017-10-04T12:26:00Z'>12:26</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master fae60e3 MarcoFalke: qa: Fix lcov for out-of-tree builds
<br>
</div>

<div class='talk op-msg' data-timestamp='1507119960' id='573660'>
<a class='timestamp' href='#573660'><time timestamp='2017-10-04T12:26:00Z'>12:26</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master a4c833f Wladimir J. van der Laan: Merge #11443: [qa] Allow &quot;make cov&quot; out-of-tree; Fix rpc mapping check...
<br>
</div>

<div class='talk op-msg' data-timestamp='1507120020' id='573661'>
<a class='timestamp' href='#573661'><time timestamp='2017-10-04T12:27:00Z'>12:27</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj closed pull request #11443: [qa] Allow &quot;make cov&quot; out-of-tree; Fix rpc mapping check (master...Mf1710-qaFixups) <a href="https://github.com/bitcoin/bitcoin/pull/11443" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/11443</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1507120560' id='573662'>
<a class='timestamp' href='#573662'><time timestamp='2017-10-04T12:36:00Z'>12:36</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/a4c833fec104...e12522dfdaab" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/a4c833fec104...e12522dfdaab</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1507120560' id='573663'>
<a class='timestamp' href='#573663'><time timestamp='2017-10-04T12:36:00Z'>12:36</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 6643b80 Matt Corallo: Add state message print to AcceptBlock failure message....
<br>
</div>

<div class='talk op-msg' data-timestamp='1507120560' id='573664'>
<a class='timestamp' href='#573664'><time timestamp='2017-10-04T12:36:00Z'>12:36</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master e12522d Wladimir J. van der Laan: Merge #11406: Add state message print to AcceptBlock failure message....
<br>
</div>

<div class='talk op-msg' data-timestamp='1507120620' id='573665'>
<a class='timestamp' href='#573665'><time timestamp='2017-10-04T12:37:00Z'>12:37</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj closed pull request #11406: Add state message print to AcceptBlock failure message. (master...2017-09-checkblock-fail-print) <a href="https://github.com/bitcoin/bitcoin/pull/11406" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/11406</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1507121640' id='573666'>
<a class='timestamp' href='#573666'><time timestamp='2017-10-04T12:54:00Z'>12:54</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 3 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/e12522dfdaab...a1f7f1870931" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/e12522dfdaab...a1f7f1870931</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1507121640' id='573667'>
<a class='timestamp' href='#573667'><time timestamp='2017-10-04T12:54:00Z'>12:54</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 6fb8f5f practicalswift: Check that -blocknotify command is non-empty before executing...
<br>
</div>

<div class='talk op-msg' data-timestamp='1507121640' id='573668'>
<a class='timestamp' href='#573668'><time timestamp='2017-10-04T12:54:00Z'>12:54</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master cffe85f practicalswift: Skip sys::system(...) call in case of empty command
<br>
</div>

<div class='talk op-msg' data-timestamp='1507121640' id='573669'>
<a class='timestamp' href='#573669'><time timestamp='2017-10-04T12:54:00Z'>12:54</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master a1f7f18 Wladimir J. van der Laan: Merge #10939: [init] Check non-emptiness of -blocknotify command prior to executing...
<br>
</div>

<div class='talk op-msg' data-timestamp='1507121700' id='573670'>
<a class='timestamp' href='#573670'><time timestamp='2017-10-04T12:55:00Z'>12:55</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj closed pull request #10939: [init] Check non-emptiness of -blocknotify command prior to executing (master...blocknotify-consistentcy) <a href="https://github.com/bitcoin/bitcoin/pull/10939" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10939</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1507121940' id='573671'>
<a class='timestamp' href='#573671'><time timestamp='2017-10-04T12:59:00Z'>12:59</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj closed pull request #10233: Wallet: Support not reusing addresses (master...freezea) <a href="https://github.com/bitcoin/bitcoin/pull/10233" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10233</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1507122060' id='573672'>
<a class='timestamp' href='#573672'><time timestamp='2017-10-04T13:01:00Z'>13:01</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/a1f7f1870931...7f11ef260855" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/a1f7f1870931...7f11ef260855</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1507122060' id='573673'>
<a class='timestamp' href='#573673'><time timestamp='2017-10-04T13:01:00Z'>13:01</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 0cd9273 Wladimir J. van der Laan: rpc: Prevent `dumpwallet` from overwriting files...
<br>
</div>

<div class='talk op-msg' data-timestamp='1507122060' id='573674'>
<a class='timestamp' href='#573674'><time timestamp='2017-10-04T13:01:00Z'>13:01</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 7f11ef2 Wladimir J. van der Laan: Merge #9937: rpc: Prevent `dumpwallet` from overwriting files...
<br>
</div>

<div class='talk op-msg' data-timestamp='1507122120' id='573675'>
<a class='timestamp' href='#573675'><time timestamp='2017-10-04T13:02:00Z'>13:02</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj closed pull request #9937: rpc: Prevent `dumpwallet` from overwriting files (master...2017_03_walletdump_nooverwrite) <a href="https://github.com/bitcoin/bitcoin/pull/9937" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9937</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1507122180' id='573676'>
<a class='timestamp' href='#573676'><time timestamp='2017-10-04T13:03:00Z'>13:03</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/7f11ef260855...74123eabdd91" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/7f11ef260855...74123eabdd91</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1507122180' id='573677'>
<a class='timestamp' href='#573677'><time timestamp='2017-10-04T13:03:00Z'>13:03</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 96c2ce9 Matt Corallo: Fix validationinterface build on super old boost/clang...
<br>
</div>

<div class='talk op-msg' data-timestamp='1507122180' id='573678'>
<a class='timestamp' href='#573678'><time timestamp='2017-10-04T13:03:00Z'>13:03</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 74123ea Wladimir J. van der Laan: Merge #11440: Fix validationinterface build on super old boost/clang...
<br>
</div>

<div class='talk op-msg' data-timestamp='1507122180' id='573679'>
<a class='timestamp' href='#573679'><time timestamp='2017-10-04T13:03:00Z'>13:03</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj closed pull request #11440: Fix validationinterface build on super old boost/clang (master...2017-10-cblock-validationinterface) <a href="https://github.com/bitcoin/bitcoin/pull/11440" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/11440</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1507124160' id='573680'>
<a class='timestamp' href='#573680'><time timestamp='2017-10-04T13:36:00Z'>13:36</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/74123eabdd91...167cef8082e2" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/74123eabdd91...167cef8082e2</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1507124160' id='573681'>
<a class='timestamp' href='#573681'><time timestamp='2017-10-04T13:36:00Z'>13:36</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master f35d033 practicalswift: build: Make &quot;make clean&quot; remove all files created when running &quot;make check&quot;...
<br>
</div>

<div class='talk op-msg' data-timestamp='1507124160' id='573682'>
<a class='timestamp' href='#573682'><time timestamp='2017-10-04T13:36:00Z'>13:36</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 167cef8 Wladimir J. van der Laan: Merge #11435: build: Make &quot;make clean&quot; remove all files created when running &quot;make check&quot;...
<br>
</div>

<div class='talk op-msg' data-timestamp='1507124160' id='573683'>
<a class='timestamp' href='#573683'><time timestamp='2017-10-04T13:36:00Z'>13:36</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj closed pull request #11435: build: Make &quot;make clean&quot; remove all files created when running &quot;make check&quot; (master...make-cleaner) <a href="https://github.com/bitcoin/bitcoin/pull/11435" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/11435</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1507124280' id='573684'>
<a class='timestamp' href='#573684'><time timestamp='2017-10-04T13:38:00Z'>13:38</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj closed pull request #11046: Replace boost sleep_for with C++11 equivalent (master...2017/08/boost_sleep_for) <a href="https://github.com/bitcoin/bitcoin/pull/11046" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/11046</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1507124340' id='573685'>
<a class='timestamp' href='#573685'><time timestamp='2017-10-04T13:39:00Z'>13:39</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj closed pull request #10990: 0 locktime issue (master...fix0locktimebug) <a href="https://github.com/bitcoin/bitcoin/pull/10990" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10990</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1507125420' id='573686'>
<a class='timestamp' href='#573686'><time timestamp='2017-10-04T13:57:00Z'>13:57</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
should we have only one BitcoinTestFramework subclass in each test file?
<br>
</div>

<div class='talk op-msg' data-timestamp='1507125720' id='573687'>
<a class='timestamp' href='#573687'><time timestamp='2017-10-04T14:02:00Z'>14:02</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
I&#x27;d prefer so. Otherwise you&#x27;d have to run them sequentially and a failure of the first causes the others not to run.
<br>
</div>

<div class='talk op-msg' data-timestamp='1507125780' id='573688'>
<a class='timestamp' href='#573688'><time timestamp='2017-10-04T14:03:00Z'>14:03</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
Also would be confusing to have (potentially) different topologies set in a single file
<br>
</div>

<div class='talk op-msg' data-timestamp='1507125780' id='573689'>
<a class='timestamp' href='#573689'><time timestamp='2017-10-04T14:03:00Z'>14:03</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
Regarding #10941, I think we can merge -(alert|block|wallet)notify tests later
<br>
</div>

<div class='talk op-msg' data-timestamp='1507125780' id='573690'>
<a class='timestamp' href='#573690'><time timestamp='2017-10-04T14:03:00Z'>14:03</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/10941" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/10941</a> | Add blocknotify functional test by promag · Pull Request #10941 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1507125840' id='573691'>
<a class='timestamp' href='#573691'><time timestamp='2017-10-04T14:04:00Z'>14:04</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
but at the moment each one has different network setups and params
<br>
</div>

<div class='talk op-msg' data-timestamp='1507125900' id='573692'>
<a class='timestamp' href='#573692'><time timestamp='2017-10-04T14:05:00Z'>14:05</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
I think merging those tests deserve a separate PR
<br>
</div>

<div class='talk op-msg' data-timestamp='1507128600' id='573693'>
<a class='timestamp' href='#573693'><time timestamp='2017-10-04T14:50:00Z'>14:50</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] promag closed pull request #11439: [test] Refactor ZMQ test to use one address per notification type (master...2017-10-clean-zmq-test) <a href="https://github.com/bitcoin/bitcoin/pull/11439" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/11439</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1507128840' id='573694'>
<a class='timestamp' href='#573694'><time timestamp='2017-10-04T14:54:00Z'>14:54</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
jnewbery: ScanForWalletTransactions interface is a bit weird
<br>
</div>

<div class='talk op-msg' data-timestamp='1507128840' id='573695'>
<a class='timestamp' href='#573695'><time timestamp='2017-10-04T14:54:00Z'>14:54</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
I think it should return the last block scanned
<br>
</div>

<div class='talk op-msg' data-timestamp='1507128900' id='573696'>
<a class='timestamp' href='#573696'><time timestamp='2017-10-04T14:55:00Z'>14:55</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
and also <b>*all*</b> failed blocks
<br>
</div>

<div class='talk op-msg' data-timestamp='1507128900' id='573697'>
<a class='timestamp' href='#573697'><time timestamp='2017-10-04T14:55:00Z'>14:55</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
not sure why only the most recent is useful
<br>
</div>

<div class='talk op-msg' data-timestamp='1507139760' id='573698'>
<a class='timestamp' href='#573698'><time timestamp='2017-10-04T17:56:00Z'>17:56</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Hopefully we can merge #7061 soon. (178 comments, open since almost two years)... :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1507139760' id='573699'>
<a class='timestamp' href='#573699'><time timestamp='2017-10-04T17:56:00Z'>17:56</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/7061" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/7061</a> | [Wallet] Add RPC call &quot;rescanblockchain &quot; by jonasschnelli · Pull Request #7061 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1507139760' id='573700'>
<a class='timestamp' href='#573700'><time timestamp='2017-10-04T17:56:00Z'>17:56</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Needs some reacks
<br>
</div>

<div class='talk op-msg' data-timestamp='1507144980' id='573701'>
<a class='timestamp' href='#573701'><time timestamp='2017-10-04T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-3'> meshcollider</span>&gt;
How long does it normally take before changes to bitcoincore.org repo go live
<br>
</div>

<div class='talk op-msg' data-timestamp='1507145820' id='573702'>
<a class='timestamp' href='#573702'><time timestamp='2017-10-04T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
jonasschnelli: very late pong
<br>
</div>

<div class='talk op-msg' data-timestamp='1507145820' id='573703'>
<a class='timestamp' href='#573703'><time timestamp='2017-10-04T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Heh... 
<br>
</div>

<div class='talk op-msg' data-timestamp='1507145820' id='573704'>
<a class='timestamp' href='#573704'><time timestamp='2017-10-04T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
It&#x27;s now in a comment... let me link you
<br>
</div>

<div class='talk op-msg' data-timestamp='1507145880' id='573705'>
<a class='timestamp' href='#573705'><time timestamp='2017-10-04T19:38:00Z'>19:38</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/pull/10387#pullrequestreview-66842269" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10387#pullrequestreview-66842269</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1507145880' id='573706'>
<a class='timestamp' href='#573706'><time timestamp='2017-10-04T19:38:00Z'>19:38</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
meshcollider: ask BlueMatt. But the recent merged 0.15.0.1 changes are online
<br>
</div>

<div class='talk op-msg' data-timestamp='1507145940' id='573707'>
<a class='timestamp' href='#573707'><time timestamp='2017-10-04T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
meshcollider: like....60 seconds?
<br>
</div>

<div class='talk op-msg' data-timestamp='1507145940' id='573708'>
<a class='timestamp' href='#573708'><time timestamp='2017-10-04T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
unless someone fucked up the commit signatures, which folks are want to do
<br>
</div>

<div class='talk op-msg' data-timestamp='1507145940' id='573709'>
<a class='timestamp' href='#573709'><time timestamp='2017-10-04T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
err, wont to do
<br>
</div>

<div class='talk op-msg' data-timestamp='1507146180' id='573710'>
<a class='timestamp' href='#573710'><time timestamp='2017-10-04T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
jonasschnelli: sounds good to me
<br>
</div>

<div class='talk op-msg' data-timestamp='1507146240' id='573711'>
<a class='timestamp' href='#573711'><time timestamp='2017-10-04T19:44:00Z'>19:44</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
okay... there is still an issue... will fix soon, so wait with looking at the code
<br>
</div>

<div class='talk op-msg' data-timestamp='1507146240' id='573712'>
<a class='timestamp' href='#573712'><time timestamp='2017-10-04T19:44:00Z'>19:44</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
I&#x27;d really rather see fLimitedNode in CNodeState though :(
<br>
</div>

<div class='talk op-msg' data-timestamp='1507146240' id='573713'>
<a class='timestamp' href='#573713'><time timestamp='2017-10-04T19:44:00Z'>19:44</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
BlueMatt: thoughts on starting to migrate that way?
<br>
</div>

<div class='talk op-msg' data-timestamp='1507146240' id='573714'>
<a class='timestamp' href='#573714'><time timestamp='2017-10-04T19:44:00Z'>19:44</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
(see above link for reference)
<br>
</div>

<div class='talk op-msg' data-timestamp='1507146300' id='573715'>
<a class='timestamp' href='#573715'><time timestamp='2017-10-04T19:45:00Z'>19:45</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
whats context?
<br>
</div>

<div class='talk op-msg' data-timestamp='1507146360' id='573716'>
<a class='timestamp' href='#573716'><time timestamp='2017-10-04T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
BlueMatt: a bool to indicate whether or not a node is limited. Stored during version. Pretty much same use case as fPreferred
<br>
</div>

<div class='talk op-msg' data-timestamp='1507146480' id='573717'>
<a class='timestamp' href='#573717'><time timestamp='2017-10-04T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-3'> meshcollider</span>&gt;
BlueMatt: jonasschnelli Oh I didn&#x27;t see it because the 0.15.0.1 release announcement isn&#x27;t in the recent posts list
<br>
</div>

<div class='talk op-msg' data-timestamp='1507146480' id='573718'>
<a class='timestamp' href='#573718'><time timestamp='2017-10-04T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
I think just used to avoid fetching old blocks. presumably jonasschnelli stuck it in CNode because that&#x27;s where fClient lives (but shouldn&#x27;t)
<br>
</div>

<div class='talk op-msg' data-timestamp='1507146540' id='573719'>
<a class='timestamp' href='#573719'><time timestamp='2017-10-04T19:49:00Z'>19:49</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
meshcollider: we only fixed it like an hour or three ago
<br>
</div>

<div class='talk op-msg' data-timestamp='1507146540' id='573720'>
<a class='timestamp' href='#573720'><time timestamp='2017-10-04T19:49:00Z'>19:49</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
cfields: would always checking nServices be terrible? (instead of caching a boolen)?
<br>
</div>

<div class='talk op-msg' data-timestamp='1507146540' id='573721'>
<a class='timestamp' href='#573721'><time timestamp='2017-10-04T19:49:00Z'>19:49</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
cfields: so, wait, you want to add an fLimitedNode in addition to the fPreferred stuff? why not just adapt UpdatePreferredDownload to consider limited-ness and call it on our peers in the first UpdatedBlockTip with not-fInitialDownload?
<br>
</div>

<div class='talk op-msg' data-timestamp='1507146720' id='573722'>
<a class='timestamp' href='#573722'><time timestamp='2017-10-04T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
you may be stuck in ibd for a while, there isnt much point in filling your outbound peers with limited nodes for that duration
<br>
</div>

<div class='talk op-msg' data-timestamp='1507146720' id='573723'>
<a class='timestamp' href='#573723'><time timestamp='2017-10-04T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
or am I missing something?
<br>
</div>

<div class='talk op-msg' data-timestamp='1507146840' id='573724'>
<a class='timestamp' href='#573724'><time timestamp='2017-10-04T19:54:00Z'>19:54</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
grr, I&#x27;ll go review the pr and give real feedback instead of bullshitting, give me 20 minutes
<br>
</div>

<div class='talk op-msg' data-timestamp='1507146900' id='573725'>
<a class='timestamp' href='#573725'><time timestamp='2017-10-04T19:55:00Z'>19:55</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
My initial thought was to tie it to preferred as well, but iirc that broke down somewhere
<br>
</div>

<div class='talk op-msg' data-timestamp='1507146960' id='573726'>
<a class='timestamp' href='#573726'><time timestamp='2017-10-04T19:56:00Z'>19:56</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
I was also thinking that we&#x27;d want to avoid pruned nodes for initial headers sync, but I guess that&#x27;s not really necessary
<br>
</div>

<div class='talk op-msg' data-timestamp='1507147080' id='573727'>
<a class='timestamp' href='#573727'><time timestamp='2017-10-04T19:58:00Z'>19:58</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
BlueMatt: generally though, I really dislike expanding the scope of variables like that. eventualy fPreferred turns into something entirely meaningless like &quot;whitelisted&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1507147500' id='573728'>
<a class='timestamp' href='#573728'><time timestamp='2017-10-04T20:05:00Z'>20:05</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Okay. Updated the PR
<br>
</div>

<div class='talk op-msg' data-timestamp='1507147500' id='573729'>
<a class='timestamp' href='#573729'><time timestamp='2017-10-04T20:05:00Z'>20:05</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Relevant parts are here: <a href="https://github.com/bitcoin/bitcoin/pull/10387/files#diff-eff7adeaec73a769788bb78858815c91R1322" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10387/files#diff-eff7adeaec73a769788bb78858815c91R1322</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1507147980' id='573730'>
<a class='timestamp' href='#573730'><time timestamp='2017-10-04T20:13:00Z'>20:13</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
ping JeremyRu1in 
<br>
</div>

<div class='talk op-msg' data-timestamp='1507148040' id='573731'>
<a class='timestamp' href='#573731'><time timestamp='2017-10-04T20:14:00Z'>20:14</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
My re-check / re-test told me,  rescanblockchain { start_height: 10, stop_height: 20 } does also rescan block 20
<br>
</div>

<div class='talk op-msg' data-timestamp='1507148340' id='573732'>
<a class='timestamp' href='#573732'><time timestamp='2017-10-04T20:19:00Z'>20:19</time></a>
&lt;<span class='nick nick-3'> JeremyRubin</span>&gt;
jonasschnelli: it doesn&#x27;t work; see PR comment
<br>
</div>

<div class='talk op-msg' data-timestamp='1507148340' id='573733'>
<a class='timestamp' href='#573733'><time timestamp='2017-10-04T20:19:00Z'>20:19</time></a>
&lt;<span class='nick nick-3'> JeremyRubin</span>&gt;
it&#x27;s the failure mode that&#x27;s broken, I should have been more clear
<br>
</div>

<div class='talk op-msg' data-timestamp='1507148340' id='573734'>
<a class='timestamp' href='#573734'><time timestamp='2017-10-04T20:19:00Z'>20:19</time></a>
&lt;<span class='nick nick-3'> JeremyRubin</span>&gt;
but I was confused about the general range semantics too; so more clear language is good there nonetheless
<br>
</div>

<div class='talk op-msg' data-timestamp='1507148820' id='573735'>
<a class='timestamp' href='#573735'><time timestamp='2017-10-04T20:27:00Z'>20:27</time></a>
&lt;<span class='nick nick-3'> JeremyRubin</span>&gt;
jonasschnelli: try scanning from 10 - 20 on a healthy node
<br>
</div>

<div class='talk op-msg' data-timestamp='1507148820' id='573736'>
<a class='timestamp' href='#573736'><time timestamp='2017-10-04T20:27:00Z'>20:27</time></a>
&lt;<span class='nick nick-3'> JeremyRubin</span>&gt;
then, corrupt block 20 so it won&#x27;t scan.
<br>
</div>

<div class='talk op-msg' data-timestamp='1507148820' id='573737'>
<a class='timestamp' href='#573737'><time timestamp='2017-10-04T20:27:00Z'>20:27</time></a>
&lt;<span class='nick nick-3'> JeremyRubin</span>&gt;
now, rescan again
<br>
</div>

<div class='talk op-msg' data-timestamp='1507148820' id='573738'>
<a class='timestamp' href='#573738'><time timestamp='2017-10-04T20:27:00Z'>20:27</time></a>
&lt;<span class='nick nick-3'> JeremyRubin</span>&gt;
same result
<br>
</div>

<div class='talk op-msg' data-timestamp='1507148820' id='573739'>
<a class='timestamp' href='#573739'><time timestamp='2017-10-04T20:27:00Z'>20:27</time></a>
&lt;<span class='nick nick-3'> JeremyRubin</span>&gt;
now, corrupt blocks 10-20
<br>
</div>

<div class='talk op-msg' data-timestamp='1507148820' id='573740'>
<a class='timestamp' href='#573740'><time timestamp='2017-10-04T20:27:00Z'>20:27</time></a>
&lt;<span class='nick nick-3'> JeremyRubin</span>&gt;
will return the same thing
<br>
</div>

<div class='talk op-msg' data-timestamp='1507148880' id='573741'>
<a class='timestamp' href='#573741'><time timestamp='2017-10-04T20:28:00Z'>20:28</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
JeremyRubin: I added a LogPrintf below the ReadBlockFromDisk and AddToWalletIfInvolvingMe scan... and block 20 was scanned.
<br>
</div>

<div class='talk op-msg' data-timestamp='1507148880' id='573742'>
<a class='timestamp' href='#573742'><time timestamp='2017-10-04T20:28:00Z'>20:28</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
But maybe I should try your setup
<br>
</div>

<div class='talk op-msg' data-timestamp='1507148880' id='573743'>
<a class='timestamp' href='#573743'><time timestamp='2017-10-04T20:28:00Z'>20:28</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
jonasschnelli: will you kill me if I suggest a cleanup to nRequiredServices/nRelevantServices as a first commit in your pr?
<br>
</div>

<div class='talk op-msg' data-timestamp='1507148940' id='573744'>
<a class='timestamp' href='#573744'><time timestamp='2017-10-04T20:29:00Z'>20:29</time></a>
&lt;<span class='nick nick-16'> * BlueMatt</span>&gt;
feels like he&#x27;s pulling a cfields here :p
<br>
</div>

<div class='talk op-msg' data-timestamp='1507148940' id='573745'>
<a class='timestamp' href='#573745'><time timestamp='2017-10-04T20:29:00Z'>20:29</time></a>
&lt;<span class='nick nick-3'> JeremyRubin</span>&gt;
jonasschnelli: Yes, if your scanning does not fail, it is fine.
<br>
</div>

<div class='talk op-msg' data-timestamp='1507148940' id='573746'>
<a class='timestamp' href='#573746'><time timestamp='2017-10-04T20:29:00Z'>20:29</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
BlueMatt: ideally we keep cleanups in a seperate PR
<br>
</div>

<div class='talk op-msg' data-timestamp='1507148940' id='573747'>
<a class='timestamp' href='#573747'><time timestamp='2017-10-04T20:29:00Z'>20:29</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
not like cfields ever requires it for others, but endless first-commit cleanups
<br>
</div>

<div class='talk op-msg' data-timestamp='1507148940' id='573748'>
<a class='timestamp' href='#573748'><time timestamp='2017-10-04T20:29:00Z'>20:29</time></a>
&lt;<span class='nick nick-3'> JeremyRubin</span>&gt;
But if you have a corruption, it is not.
<br>
</div>

<div class='talk op-msg' data-timestamp='1507148940' id='573749'>
<a class='timestamp' href='#573749'><time timestamp='2017-10-04T20:29:00Z'>20:29</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
BlueMatt: but I can cherry pick.. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1507148940' id='573750'>
<a class='timestamp' href='#573750'><time timestamp='2017-10-04T20:29:00Z'>20:29</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
heh     
<br>
</div>

<div class='talk op-msg' data-timestamp='1507148940' id='573751'>
<a class='timestamp' href='#573751'><time timestamp='2017-10-04T20:29:00Z'>20:29</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
jonasschnelli: let me play around a bit
<br>
</div>

<div class='talk op-msg' data-timestamp='1507148940' id='573752'>
<a class='timestamp' href='#573752'><time timestamp='2017-10-04T20:29:00Z'>20:29</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
JeremyRubin: what do you mean with corruption?
<br>
</div>

<div class='talk op-msg' data-timestamp='1507148940' id='573753'>
<a class='timestamp' href='#573753'><time timestamp='2017-10-04T20:29:00Z'>20:29</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
BlueMatt: only allowed if you first ack my socket changes you required :p
<br>
</div>

<div class='talk op-msg' data-timestamp='1507148940' id='573754'>
<a class='timestamp' href='#573754'><time timestamp='2017-10-04T20:29:00Z'>20:29</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
invalidateblock?
<br>
</div>

<div class='talk op-msg' data-timestamp='1507149000' id='573755'>
<a class='timestamp' href='#573755'><time timestamp='2017-10-04T20:30:00Z'>20:30</time></a>
&lt;<span class='nick nick-12'> ryanofsky</span>&gt;
jonasschnelli, if readblockfrom disk fails
<br>
</div>

<div class='talk op-msg' data-timestamp='1507149000' id='573756'>
<a class='timestamp' href='#573756'><time timestamp='2017-10-04T20:30:00Z'>20:30</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
BlueMatt: yeah. Happy to pull-in a cleanup into bip159 PR 
<br>
</div>

<div class='talk op-msg' data-timestamp='1507149000' id='573757'>
<a class='timestamp' href='#573757'><time timestamp='2017-10-04T20:30:00Z'>20:30</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
cfields: damn you
<br>
</div>

<div class='talk op-msg' data-timestamp='1507149060' id='573758'>
<a class='timestamp' href='#573758'><time timestamp='2017-10-04T20:31:00Z'>20:31</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
jonasschnelli: oh that reminds me, what do you think about adding &quot;NODE_NETWORK should be combined with NODE_NETWORK_LIMITED&quot; to the bip (if not already) ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1507149060' id='573759'>
<a class='timestamp' href='#573759'><time timestamp='2017-10-04T20:31:00Z'>20:31</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
I don&#x27;t think that&#x27;s just an implementation detail
<br>
</div>

<div class='talk op-msg' data-timestamp='1507149060' id='573760'>
<a class='timestamp' href='#573760'><time timestamp='2017-10-04T20:31:00Z'>20:31</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
JeremyRubin, ryanofsky: aha... a filed ReadBlockFromDisk falsely reports a successful scan.
<br>
</div>

<div class='talk op-msg' data-timestamp='1507149120' id='573761'>
<a class='timestamp' href='#573761'><time timestamp='2017-10-04T20:32:00Z'>20:32</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
cfields: Yeah. Need to add this... is unclear in the BIP
<br>
</div>

<div class='talk op-msg' data-timestamp='1507149120' id='573762'>
<a class='timestamp' href='#573762'><time timestamp='2017-10-04T20:32:00Z'>20:32</time></a>
&lt;<span class='nick nick-3'> JeremyRubin</span>&gt;
No     
<br>
</div>

<div class='talk op-msg' data-timestamp='1507149120' id='573763'>
<a class='timestamp' href='#573763'><time timestamp='2017-10-04T20:32:00Z'>20:32</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
*a failed
<br>
</div>

<div class='talk op-msg' data-timestamp='1507149120' id='573764'>
<a class='timestamp' href='#573764'><time timestamp='2017-10-04T20:32:00Z'>20:32</time></a>
&lt;<span class='nick nick-3'> JeremyRubin</span>&gt;
It correctly reports an unsuccessful scan
<br>
</div>

<div class='talk op-msg' data-timestamp='1507149120' id='573765'>
<a class='timestamp' href='#573765'><time timestamp='2017-10-04T20:32:00Z'>20:32</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
yeah.. what I meant. sry
<br>
</div>

<div class='talk op-msg' data-timestamp='1507149120' id='573766'>
<a class='timestamp' href='#573766'><time timestamp='2017-10-04T20:32:00Z'>20:32</time></a>
&lt;<span class='nick nick-3'> JeremyRubin</span>&gt;
you incorrectly interpret that result :) 
<br>
</div>

<div class='talk op-msg' data-timestamp='1507149180' id='573767'>
<a class='timestamp' href='#573767'><time timestamp='2017-10-04T20:33:00Z'>20:33</time></a>
&lt;<span class='nick nick-3'> JeremyRubin</span>&gt;
basically ANY non-nullptr return should cause you to return &quot;scan failed&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1507149180' id='573768'>
<a class='timestamp' href='#573768'><time timestamp='2017-10-04T20:33:00Z'>20:33</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
JeremyRubin: this would also be undetected in classic startup -rescans? Right?
<br>
</div>

<div class='talk op-msg' data-timestamp='1507149180' id='573769'>
<a class='timestamp' href='#573769'><time timestamp='2017-10-04T20:33:00Z'>20:33</time></a>
&lt;<span class='nick nick-3'> JeremyRubin</span>&gt;
Unsure of prior semantics of rescan
<br>
</div>

<div class='talk op-msg' data-timestamp='1507149240' id='573770'>
<a class='timestamp' href='#573770'><time timestamp='2017-10-04T20:34:00Z'>20:34</time></a>
&lt;<span class='nick nick-3'> JeremyRubin</span>&gt;
it would be reported that you have only succeeded in scanning blocks after LAST_FAILED, so then you would need to rescan up to LAST_FAILED
<br>
</div>

<div class='talk op-msg' data-timestamp='1507149240' id='573771'>
<a class='timestamp' href='#573771'><time timestamp='2017-10-04T20:34:00Z'>20:34</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
the current rescan function skips corrupted blocks IMO
<br>
</div>

<div class='talk op-msg' data-timestamp='1507149300' id='573772'>
<a class='timestamp' href='#573772'><time timestamp='2017-10-04T20:35:00Z'>20:35</time></a>
&lt;<span class='nick nick-3'> JeremyRubin</span>&gt;
Yes, but it also tells you &#x27;no guarantees before block N&#x27;
<br>
</div>

<div class='talk op-msg' data-timestamp='1507149300' id='573773'>
<a class='timestamp' href='#573773'><time timestamp='2017-10-04T20:35:00Z'>20:35</time></a>
&lt;<span class='nick nick-3'> JeremyRubin</span>&gt;
where N = LAST_FAILED
<br>
</div>

<div class='talk op-msg' data-timestamp='1507149360' id='573774'>
<a class='timestamp' href='#573774'><time timestamp='2017-10-04T20:36:00Z'>20:36</time></a>
&lt;<span class='nick nick-3'> JeremyRubin</span>&gt;
this impl, however, is happy to tell you Blocks A-B succeded
<br>
</div>

<div class='talk op-msg' data-timestamp='1507149360' id='573775'>
<a class='timestamp' href='#573775'><time timestamp='2017-10-04T20:36:00Z'>20:36</time></a>
&lt;<span class='nick nick-3'> JeremyRubin</span>&gt;
which is incorrect
<br>
</div>

<div class='talk op-msg' data-timestamp='1507149420' id='573776'>
<a class='timestamp' href='#573776'><time timestamp='2017-10-04T20:37:00Z'>20:37</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I see.. let me see how we can fix this.
<br>
</div>

<div class='talk op-msg' data-timestamp='1507149420' id='573777'>
<a class='timestamp' href='#573777'><time timestamp='2017-10-04T20:37:00Z'>20:37</time></a>
&lt;<span class='nick nick-3'> JeremyRubin</span>&gt;
you have 2 choices I think
<br>
</div>

<div class='talk op-msg' data-timestamp='1507149420' id='573778'>
<a class='timestamp' href='#573778'><time timestamp='2017-10-04T20:37:00Z'>20:37</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I don&#x27;t want to change the way how current startup -rescans work..
<br>
</div>

<div class='talk op-msg' data-timestamp='1507149420' id='573779'>
<a class='timestamp' href='#573779'><time timestamp='2017-10-04T20:37:00Z'>20:37</time></a>
&lt;<span class='nick nick-3'> JeremyRubin</span>&gt;
either keep a vector of all failures
<br>
</div>

<div class='talk op-msg' data-timestamp='1507149420' id='573780'>
<a class='timestamp' href='#573780'><time timestamp='2017-10-04T20:37:00Z'>20:37</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
aborting on a corrupted block seems not to be the ideal choice
<br>
</div>

<div class='talk op-msg' data-timestamp='1507149480' id='573781'>
<a class='timestamp' href='#573781'><time timestamp='2017-10-04T20:38:00Z'>20:38</time></a>
&lt;<span class='nick nick-3'> JeremyRubin</span>&gt;
if passed in as a ptr arg with default nullptr
<br>
</div>

<div class='talk op-msg' data-timestamp='1507149480' id='573782'>
<a class='timestamp' href='#573782'><time timestamp='2017-10-04T20:38:00Z'>20:38</time></a>
&lt;<span class='nick nick-3'> JeremyRubin</span>&gt;
And return a vector of failures
<br>
</div>

<div class='talk op-msg' data-timestamp='1507149480' id='573783'>
<a class='timestamp' href='#573783'><time timestamp='2017-10-04T20:38:00Z'>20:38</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
or report &quot;could not read all block&quot; (bool)?
<br>
</div>

<div class='talk op-msg' data-timestamp='1507149480' id='573784'>
<a class='timestamp' href='#573784'><time timestamp='2017-10-04T20:38:00Z'>20:38</time></a>
&lt;<span class='nick nick-3'> JeremyRubin</span>&gt;
That could work too...
<br>
</div>

<div class='talk op-msg' data-timestamp='1507149540' id='573785'>
<a class='timestamp' href='#573785'><time timestamp='2017-10-04T20:39:00Z'>20:39</time></a>
&lt;<span class='nick nick-3'> JeremyRubin</span>&gt;
I would (personally) not return <b>*anything*</b> if there are any failures.
<br>
</div>

<div class='talk op-msg' data-timestamp='1507149540' id='573786'>
<a class='timestamp' href='#573786'><time timestamp='2017-10-04T20:39:00Z'>20:39</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
AFAIK, ScanForWalletTransactions returns non-nullptr when detecting a corrupt block.. could use that
<br>
</div>

<div class='talk op-msg' data-timestamp='1507149660' id='573787'>
<a class='timestamp' href='#573787'><time timestamp='2017-10-04T20:41:00Z'>20:41</time></a>
&lt;<span class='nick nick-3'> JeremyRubin</span>&gt;
yes, that&#x27;s fine. I would return a `Maybe (Int,Int)`, and only return `Some (start, stop)` if there are no failures.
<br>
</div>

<div class='talk op-msg' data-timestamp='1507149720' id='573788'>
<a class='timestamp' href='#573788'><time timestamp='2017-10-04T20:42:00Z'>20:42</time></a>
&lt;<span class='nick nick-3'> JeremyRubin</span>&gt;
I would also push you to rework the errors to differentiate when the numbers are actually invalid v.s. out of range for the current chain we&#x27;re on.
<br>
</div>

<div class='talk op-msg' data-timestamp='1507149780' id='573789'>
<a class='timestamp' href='#573789'><time timestamp='2017-10-04T20:43:00Z'>20:43</time></a>
&lt;<span class='nick nick-3'> JeremyRubin</span>&gt;
Because asking for (1000, 2000) could fail depending on how caught up you are.
<br>
</div>

<div class='talk op-msg' data-timestamp='1507149840' id='573790'>
<a class='timestamp' href='#573790'><time timestamp='2017-10-04T20:44:00Z'>20:44</time></a>
&lt;<span class='nick nick-3'> JeremyRubin</span>&gt;
But is not an invalid request like (2000,1000), (-10, 20), etc.
<br>
</div>

<div class='talk op-msg' data-timestamp='1507149900' id='573791'>
<a class='timestamp' href='#573791'><time timestamp='2017-10-04T20:45:00Z'>20:45</time></a>
&lt;<span class='nick nick-3'> JeremyRubin</span>&gt;
(in particular, because I think that it would be useful to issue a rescan from, let&#x27;s say, (tip-10, tip+1000) and for it to return (tip-10, tip)
<br>
</div>

<div class='talk op-msg' data-timestamp='1507150080' id='573792'>
<a class='timestamp' href='#573792'><time timestamp='2017-10-04T20:48:00Z'>20:48</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
JeremyRubin: I think that should do it: <a href="https://github.com/bitcoin/bitcoin/pull/7061/files#diff-df7d84ff2f53fcb2a0dc15a3a51e55ceR3237" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/7061/files#diff-df7d84ff2f53fcb2a0dc15a3a51e55ceR3237</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1507150200' id='573793'>
<a class='timestamp' href='#573793'><time timestamp='2017-10-04T20:50:00Z'>20:50</time></a>
&lt;<span class='nick nick-3'> JeremyRubin</span>&gt;
jonasschnelli: I think that seems correct to me. If you have no failures reported, then all the blocks were scanned in that range 
<br>
</div>

<div class='talk op-msg' data-timestamp='1507150200' id='573794'>
<a class='timestamp' href='#573794'><time timestamp='2017-10-04T20:50:00Z'>20:50</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Yes. If you get this (new) error, you may have scanned some of the blocks (but we won&#x27;t tell which one)
<br>
</div>

<div class='talk op-msg' data-timestamp='1507150260' id='573795'>
<a class='timestamp' href='#573795'><time timestamp='2017-10-04T20:51:00Z'>20:51</time></a>
&lt;<span class='nick nick-3'> JeremyRubin</span>&gt;
Correct.
<br>
</div>

<div class='talk op-msg' data-timestamp='1507150260' id='573796'>
<a class='timestamp' href='#573796'><time timestamp='2017-10-04T20:51:00Z'>20:51</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
If you have a corrupted block you are alreafy in serious troubles... :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1507150260' id='573797'>
<a class='timestamp' href='#573797'><time timestamp='2017-10-04T20:51:00Z'>20:51</time></a>
&lt;<span class='nick nick-3'> JeremyRubin</span>&gt;
Yes. Maybe worth saying &#x27;Rescan Failed. Potentially corruputed data files.&#x27;
<br>
</div>

<div class='talk op-msg' data-timestamp='1507150320' id='573798'>
<a class='timestamp' href='#573798'><time timestamp='2017-10-04T20:52:00Z'>20:52</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
JeremyRubin: Thanks... let me add this
<br>
</div>

<div class='talk op-msg' data-timestamp='1507150380' id='573799'>
<a class='timestamp' href='#573799'><time timestamp='2017-10-04T20:53:00Z'>20:53</time></a>
&lt;<span class='nick nick-3'> JeremyRubin</span>&gt;
jonasschnelli: my comment about handling of invalid ranges though still stands. differentiating between the cases of overlap is good, an you can return useful results in some of them.
<br>
</div>

<div class='talk op-msg' data-timestamp='1507150440' id='573800'>
<a class='timestamp' href='#573800'><time timestamp='2017-10-04T20:54:00Z'>20:54</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
JeremyRubin: can you rephrase? I don&#x27;t get your range concern 
<br>
</div>

<div class='talk op-msg' data-timestamp='1507150440' id='573801'>
<a class='timestamp' href='#573801'><time timestamp='2017-10-04T20:54:00Z'>20:54</time></a>
&lt;<span class='nick nick-3'> JeremyRubin</span>&gt;
bad ranges: ()[] ([)] good ranges: [()] ok ranges: [(]) []()
<br>
</div>

<div class='talk op-msg' data-timestamp='1507150440' id='573802'>
<a class='timestamp' href='#573802'><time timestamp='2017-10-04T20:54:00Z'>20:54</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
?     
<br>
</div>

<div class='talk op-msg' data-timestamp='1507150500' id='573803'>
<a class='timestamp' href='#573803'><time timestamp='2017-10-04T20:55:00Z'>20:55</time></a>
&lt;<span class='nick nick-3'> JeremyRubin</span>&gt;
(let &#x27;(&#x27; and &#x27;)&#x27; denote the start and stop range, and &#x27;[&#x27; and &#x27;]&#x27; denote genesis to tip on a number line)
<br>
</div>

<div class='talk op-msg' data-timestamp='1507150500' id='573804'>
<a class='timestamp' href='#573804'><time timestamp='2017-10-04T20:55:00Z'>20:55</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
aha...
<br>
</div>

<div class='talk op-msg' data-timestamp='1507150500' id='573805'>
<a class='timestamp' href='#573805'><time timestamp='2017-10-04T20:55:00Z'>20:55</time></a>
&lt;<span class='nick nick-3'> JeremyRubin</span>&gt;
so if i ask for (tip -10, tip+100) you should return scanned (tip-10, tip)
<br>
</div>

<div class='talk op-msg' data-timestamp='1507150500' id='573806'>
<a class='timestamp' href='#573806'><time timestamp='2017-10-04T20:55:00Z'>20:55</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
stop_height is optional but start_heigt is required when stop_height is passed
<br>
</div>

<div class='talk op-msg' data-timestamp='1507150560' id='573807'>
<a class='timestamp' href='#573807'><time timestamp='2017-10-04T20:56:00Z'>20:56</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I think tip+100 should result in an error
<br>
</div>

<div class='talk op-msg' data-timestamp='1507150560' id='573808'>
<a class='timestamp' href='#573808'><time timestamp='2017-10-04T20:56:00Z'>20:56</time></a>
&lt;<span class='nick nick-3'> JeremyRubin</span>&gt;
I don&#x27;t
<br>
</div>

<div class='talk op-msg' data-timestamp='1507150560' id='573809'>
<a class='timestamp' href='#573809'><time timestamp='2017-10-04T20:56:00Z'>20:56</time></a>
&lt;<span class='nick nick-3'> JeremyRubin</span>&gt;
because it could result from our node just being behind and syncing
<br>
</div>

<div class='talk op-msg' data-timestamp='1507150620' id='573810'>
<a class='timestamp' href='#573810'><time timestamp='2017-10-04T20:57:00Z'>20:57</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Yeah.. but would you silently ignore it? IMO it deserves that we inform the user (with an error)
<br>
</div>

<div class='talk op-msg' data-timestamp='1507150620' id='573811'>
<a class='timestamp' href='#573811'><time timestamp='2017-10-04T20:57:00Z'>20:57</time></a>
&lt;<span class='nick nick-3'> JeremyRubin</span>&gt;
If you want it to be an error, it shouldn&#x27;t be invalid it should be &#x27;not synced to X yet&#x27;
<br>
</div>

<div class='talk op-msg' data-timestamp='1507150620' id='573812'>
<a class='timestamp' href='#573812'><time timestamp='2017-10-04T20:57:00Z'>20:57</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Then he can self-correct rather then auto-correct
<br>
</div>

<div class='talk op-msg' data-timestamp='1507150620' id='573813'>
<a class='timestamp' href='#573813'><time timestamp='2017-10-04T20:57:00Z'>20:57</time></a>
&lt;<span class='nick nick-3'> JeremyRubin</span>&gt;
if you want it to be more clear, then you should always return the current tip
<br>
</div>

<div class='talk op-msg' data-timestamp='1507150680' id='573814'>
<a class='timestamp' href='#573814'><time timestamp='2017-10-04T20:58:00Z'>20:58</time></a>
&lt;<span class='nick nick-3'> JeremyRubin</span>&gt;
but in the &#x27;ok ranges&#x27; cases, the type of failure is very different from the bad ranges
<br>
</div>

<div class='talk op-msg' data-timestamp='1507150740' id='573815'>
<a class='timestamp' href='#573815'><time timestamp='2017-10-04T20:59:00Z'>20:59</time></a>
&lt;<span class='nick nick-3'> JeremyRubin</span>&gt;
bad ranges will NEVER succeed, ok ranges will succeed if you wait long enough
<br>
</div>

<div class='talk op-msg' data-timestamp='1507150740' id='573816'>
<a class='timestamp' href='#573816'><time timestamp='2017-10-04T20:59:00Z'>20:59</time></a>
&lt;<span class='nick nick-3'> JeremyRubin</span>&gt;
So bad ranges are invalid. ok ranges are too &#x27;soon&#x27; for our node.
<br>
</div>

<div class='talk op-msg' data-timestamp='1507150860' id='573817'>
<a class='timestamp' href='#573817'><time timestamp='2017-10-04T21:01:00Z'>21:01</time></a>
&lt;<span class='nick nick-3'> JeremyRubin</span>&gt;
And if you don&#x27;t want to support ok ranges, then there is no point of returning the range scanned at all, you may as well return `Maybe ()` because success means the range was scanned.
<br>
</div>

<div class='talk op-msg' data-timestamp='1507150920' id='573818'>
<a class='timestamp' href='#573818'><time timestamp='2017-10-04T21:02:00Z'>21:02</time></a>
&lt;<span class='nick nick-3'> JeremyRubin</span>&gt;
((unless I&#x27;m not seeing some edge case? Maybe if you somehow trigger an abortrescan you would return (start, point_aborted)?))
<br>
</div>

<div class='talk op-msg' data-timestamp='1507150920' id='573819'>
<a class='timestamp' href='#573819'><time timestamp='2017-10-04T21:02:00Z'>21:02</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
JeremyRubin: but with the current fix (throw when getting a non-nullptr) there is a guarantee we have scanned the given range, right?
<br>
</div>

<div class='talk op-msg' data-timestamp='1507150920' id='573820'>
<a class='timestamp' href='#573820'><time timestamp='2017-10-04T21:02:00Z'>21:02</time></a>
&lt;<span class='nick nick-3'> JeremyRubin</span>&gt;
Correct!
<br>
</div>

<div class='talk op-msg' data-timestamp='1507150920' id='573821'>
<a class='timestamp' href='#573821'><time timestamp='2017-10-04T21:02:00Z'>21:02</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Do you see anything else t 
<br>
</div>

<div class='talk op-msg' data-timestamp='1507150920' id='573822'>
<a class='timestamp' href='#573822'><time timestamp='2017-10-04T21:02:00Z'>21:02</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
to fix?
<br>
</div>

<div class='talk op-msg' data-timestamp='1507150920' id='573823'>
<a class='timestamp' href='#573823'><time timestamp='2017-10-04T21:02:00Z'>21:02</time></a>
&lt;<span class='nick nick-3'> JeremyRubin</span>&gt;
((Except see above abortrescan concern))
<br>
</div>

<div class='talk op-msg' data-timestamp='1507150980' id='573824'>
<a class='timestamp' href='#573824'><time timestamp='2017-10-04T21:03:00Z'>21:03</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
abortrescan leads to an explicit error thrown
<br>
</div>

<div class='talk op-msg' data-timestamp='1507150980' id='573825'>
<a class='timestamp' href='#573825'><time timestamp='2017-10-04T21:03:00Z'>21:03</time></a>
&lt;<span class='nick nick-3'> JeremyRubin</span>&gt;
ok -- so then no point in returning the range
<br>
</div>

<div class='talk op-msg' data-timestamp='1507150980' id='573826'>
<a class='timestamp' href='#573826'><time timestamp='2017-10-04T21:03:00Z'>21:03</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/pull/7061/files#diff-df7d84ff2f53fcb2a0dc15a3a51e55ceR3231" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/7061/files#diff-df7d84ff2f53fcb2a0dc15a3a51e55ceR3231</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1507150980' id='573827'>
<a class='timestamp' href='#573827'><time timestamp='2017-10-04T21:03:00Z'>21:03</time></a>
&lt;<span class='nick nick-3'> JeremyRubin</span>&gt;
so remove the return values
<br>
</div>

<div class='talk op-msg' data-timestamp='1507150980' id='573828'>
<a class='timestamp' href='#573828'><time timestamp='2017-10-04T21:03:00Z'>21:03</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
the throw will lead to not return the range
<br>
</div>

<div class='talk op-msg' data-timestamp='1507151040' id='573829'>
<a class='timestamp' href='#573829'><time timestamp='2017-10-04T21:04:00Z'>21:04</time></a>
&lt;<span class='nick nick-3'> JeremyRubin</span>&gt;
Actually... making abortrescan return the range seems like good UX
<br>
</div>

<div class='talk op-msg' data-timestamp='1507151040' id='573830'>
<a class='timestamp' href='#573830'><time timestamp='2017-10-04T21:04:00Z'>21:04</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
We could add that later,.. seems out of scope and related to #11450
<br>
</div>

<div class='talk op-msg' data-timestamp='1507151040' id='573831'>
<a class='timestamp' href='#573831'><time timestamp='2017-10-04T21:04:00Z'>21:04</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/11450" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/11450</a> | ScanForWalletTransactions return value is incorrectly documented · Issue #11450 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1507151100' id='573832'>
<a class='timestamp' href='#573832'><time timestamp='2017-10-04T21:05:00Z'>21:05</time></a>
&lt;<span class='nick nick-3'> JeremyRubin</span>&gt;
k -- so otherwise, you should get rid of the return values.
<br>
</div>

<div class='talk op-msg' data-timestamp='1507151100' id='573833'>
<a class='timestamp' href='#573833'><time timestamp='2017-10-04T21:05:00Z'>21:05</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
I really don&#x27;t get it, if someone else can try to explain, that would be welcomed re <a href="https://github.com/bitcoin/bitcoin/pull/11427#issuecomment-334033122" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/11427#issuecomment-334033122</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1507151100' id='573834'>
<a class='timestamp' href='#573834'><time timestamp='2017-10-04T21:05:00Z'>21:05</time></a>
&lt;<span class='nick nick-3'> JeremyRubin</span>&gt;
Unless you want to handle the ranges I&#x27;ve labelled &#x27;ok&#x27;
<br>
</div>

<div class='talk op-msg' data-timestamp='1507151100' id='573835'>
<a class='timestamp' href='#573835'><time timestamp='2017-10-04T21:05:00Z'>21:05</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
You are aware that a *throw&quot; will lead to return nothing blow that acctuall throw code line?
<br>
</div>

<div class='talk op-msg' data-timestamp='1507151100' id='573836'>
<a class='timestamp' href='#573836'><time timestamp='2017-10-04T21:05:00Z'>21:05</time></a>
&lt;<span class='nick nick-3'> JeremyRubin</span>&gt;
(which, even if not handled, I think merit a separate designation from &#x27;invalid&#x27;)
<br>
</div>

<div class='talk op-msg' data-timestamp='1507151160' id='573837'>
<a class='timestamp' href='#573837'><time timestamp='2017-10-04T21:06:00Z'>21:06</time></a>
&lt;<span class='nick nick-3'> JeremyRubin</span>&gt;
jonasschnelli: I&#x27;m merely pointing out that the absence of an error indicates that the request completed as requested, so the caller already knows start and stop.
<br>
</div>

<div class='talk op-msg' data-timestamp='1507151220' id='573838'>
<a class='timestamp' href='#573838'><time timestamp='2017-10-04T21:07:00Z'>21:07</time></a>
&lt;<span class='nick nick-3'> JeremyRubin</span>&gt;
But maybe it&#x27;s better interface design to not rely on that in case we improve the behavior in the future ;) 
<br>
</div>

<div class='talk op-msg' data-timestamp='1507151220' id='573839'>
<a class='timestamp' href='#573839'><time timestamp='2017-10-04T21:07:00Z'>21:07</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
JeremyRubin: hm... sorry for not following completely... which absence of an error you referring to?
<br>
</div>

<div class='talk op-msg' data-timestamp='1507151280' id='573840'>
<a class='timestamp' href='#573840'><time timestamp='2017-10-04T21:08:00Z'>21:08</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Abort rescan leads to an error: <a href="https://github.com/bitcoin/bitcoin/pull/7061/files#diff-df7d84ff2f53fcb2a0dc15a3a51e55ceR3232" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/7061/files#diff-df7d84ff2f53fcb2a0dc15a3a51e55ceR3232</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1507151280' id='573841'>
<a class='timestamp' href='#573841'><time timestamp='2017-10-04T21:08:00Z'>21:08</time></a>
&lt;<span class='nick nick-3'> JeremyRubin</span>&gt;
Ok. So you&#x27;re a client. You ask for rescan (tip-10,tip-5).
<br>
</div>

<div class='talk op-msg' data-timestamp='1507151280' id='573842'>
<a class='timestamp' href='#573842'><time timestamp='2017-10-04T21:08:00Z'>21:08</time></a>
&lt;<span class='nick nick-3'> JeremyRubin</span>&gt;
I&#x27;m the server.
<br>
</div>

<div class='talk op-msg' data-timestamp='1507151280' id='573843'>
<a class='timestamp' href='#573843'><time timestamp='2017-10-04T21:08:00Z'>21:08</time></a>
&lt;<span class='nick nick-3'> JeremyRubin</span>&gt;
I see the request, and I rescan happily.
<br>
</div>

<div class='talk op-msg' data-timestamp='1507151340' id='573844'>
<a class='timestamp' href='#573844'><time timestamp='2017-10-04T21:09:00Z'>21:09</time></a>
&lt;<span class='nick nick-3'> JeremyRubin</span>&gt;
I now will return a range (start, stop) based on your request.
<br>
</div>

<div class='talk op-msg' data-timestamp='1507151400' id='573845'>
<a class='timestamp' href='#573845'><time timestamp='2017-10-04T21:10:00Z'>21:10</time></a>
&lt;<span class='nick nick-3'> JeremyRubin</span>&gt;
Under what circumstance do you, the caller, not already know what that range is?
<br>
</div>

<div class='talk op-msg' data-timestamp='1507151400' id='573846'>
<a class='timestamp' href='#573846'><time timestamp='2017-10-04T21:10:00Z'>21:10</time></a>
&lt;<span class='nick nick-3'> JeremyRubin</span>&gt;
I suppose you don&#x27;t know the tip if you only pass a start?
<br>
</div>

<div class='talk op-msg' data-timestamp='1507151460' id='573847'>
<a class='timestamp' href='#573847'><time timestamp='2017-10-04T21:11:00Z'>21:11</time></a>
&lt;<span class='nick nick-3'> JeremyRubin</span>&gt;
So maybe it merits returning just the finish height, but you never don&#x27;t know what start you requested already.
<br>
</div>

<div class='talk op-msg' data-timestamp='1507151520' id='573848'>
<a class='timestamp' href='#573848'><time timestamp='2017-10-04T21:12:00Z'>21:12</time></a>
&lt;<span class='nick nick-3'> JeremyRubin</span>&gt;
Anyways... this is secondary, it&#x27;s not really an issue. But I think that handling ok ranges addresses my concern anyways.
<br>
</div>

<div class='talk op-msg' data-timestamp='1507151580' id='573849'>
<a class='timestamp' href='#573849'><time timestamp='2017-10-04T21:13:00Z'>21:13</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
JeremyRubin: Okay. I see you point.
<br>
</div>

<div class='talk op-msg' data-timestamp='1507151640' id='573850'>
<a class='timestamp' href='#573850'><time timestamp='2017-10-04T21:14:00Z'>21:14</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I guess we could leave it away completely then.... or keep it for future extenions...
<br>
</div>

<div class='talk op-msg' data-timestamp='1507151640' id='573851'>
<a class='timestamp' href='#573851'><time timestamp='2017-10-04T21:14:00Z'>21:14</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Although, if you keep away the stop height,... you should at leat get the height of the scanned tip
<br>
</div>

<div class='talk op-msg' data-timestamp='1507151640' id='573852'>
<a class='timestamp' href='#573852'><time timestamp='2017-10-04T21:14:00Z'>21:14</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Which may be important
<br>
</div>

<div class='talk op-msg' data-timestamp='1507151880' id='573853'>
<a class='timestamp' href='#573853'><time timestamp='2017-10-04T21:18:00Z'>21:18</time></a>
&lt;<span class='nick nick-3'> JeremyRubin</span>&gt;
I think that handling ok ranges in the manner suggested gets this to have the correct semantics for the returned data
<br>
</div>

<div class='talk op-msg' data-timestamp='1507151880' id='573854'>
<a class='timestamp' href='#573854'><time timestamp='2017-10-04T21:18:00Z'>21:18</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
JeremyRubin: thanks for reviewing and helping me to understand your point. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1507151880' id='573855'>
<a class='timestamp' href='#573855'><time timestamp='2017-10-04T21:18:00Z'>21:18</time></a>
&lt;<span class='nick nick-3'> JeremyRubin</span>&gt;
yeah, sorry if my explanations were unclear
<br>
</div>

<div class='talk op-msg' data-timestamp='1507151940' id='573856'>
<a class='timestamp' href='#573856'><time timestamp='2017-10-04T21:19:00Z'>21:19</time></a>
&lt;<span class='nick nick-3'> JeremyRubin</span>&gt;
It was a pretty subtle bug I guess, because a lot of people missed it!
<br>
</div>

<div class='talk op-msg' data-timestamp='1507151940' id='573857'>
<a class='timestamp' href='#573857'><time timestamp='2017-10-04T21:19:00Z'>21:19</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Re-reading your comments looks like I had my eyes covered with tomatos 
<br>
</div>

<div class='talk op-msg' data-timestamp='1507152000' id='573858'>
<a class='timestamp' href='#573858'><time timestamp='2017-10-04T21:20:00Z'>21:20</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Yes. Glad you did a review.. and tell me, if you think other stuff needs to be changed/fixed.
<br>
</div>

<div class='talk op-msg' data-timestamp='1507152480' id='573859'>
<a class='timestamp' href='#573859'><time timestamp='2017-10-04T21:28:00Z'>21:28</time></a>
&lt;<span class='nick nick-3'> JeremyRubin</span>&gt;
jonasschnelli: I would like to see ok_ranges handled in the code and then I&#x27;d ack it. If you feel strongly that they should not attempt to scan, and just fail, that&#x27;s fine. But it should at least return different error strings (e.g., &#x27;start is greater than tip&#x27;, &#x27;end is greater than tip&#x27;, &#x27;start must be positive&#x27;, &#x27;end must be positive&#x27;)
<br>
</div>

<div class='talk op-msg' data-timestamp='1507152600' id='573860'>
<a class='timestamp' href='#573860'><time timestamp='2017-10-04T21:30:00Z'>21:30</time></a>
&lt;<span class='nick nick-3'> JeremyRubin</span>&gt;
but I think that it is simple to say that at least the end being greater than the tip has an obvious execution (execute as if no argument were provided).
<br>
</div>

<div class='talk op-msg' data-timestamp='1507152720' id='573861'>
<a class='timestamp' href='#573861'><time timestamp='2017-10-04T21:32:00Z'>21:32</time></a>
&lt;<span class='nick nick-3'> JeremyRubin</span>&gt;
Start being greater than the tip requires some notion of an empty scan, which I don&#x27;t think you can express easily with an inclusive range (unless you do another optional bool not_synced_fully).
<br>
</div>

<div class='talk op-msg' data-timestamp='1507154520' id='573862'>
<a class='timestamp' href='#573862'><time timestamp='2017-10-04T22:02:00Z'>22:02</time></a>
&lt;<span class='nick nick-3'> JeremyRubin</span>&gt;
jonasschnelli: ^^^ afk soon, shoot an email if questions
<br>
</div>

<div class='talk op-msg' data-timestamp='1507156620' id='573863'>
<a class='timestamp' href='#573863'><time timestamp='2017-10-04T22:37:00Z'>22:37</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] promag opened pull request #11452: Improve ZMQ functional test (master...2017-10-improve-zmq-test) <a href="https://github.com/bitcoin/bitcoin/pull/11452" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/11452</a>
<br>
</div>

</div>
</section>

</body>
</html>
