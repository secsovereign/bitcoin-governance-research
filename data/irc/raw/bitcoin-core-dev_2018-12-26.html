<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2018-12-26
 — 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2018-12-26' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:20 UTC</pre>
<pre><a href="/bitcoin-core-dev/2018-11-26">&lt;</a><span class='header'>  December 2018   </span><a href="/bitcoin-core-dev/2019-01-26">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;                   <a class="" href="/bitcoin-core-dev/2018-12-01">1</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2018-12-02">2</a>  <a class="" href="/bitcoin-core-dev/2018-12-03">3</a>  <a class="" href="/bitcoin-core-dev/2018-12-04">4</a>  <a class="" href="/bitcoin-core-dev/2018-12-05">5</a>  <a class="" href="/bitcoin-core-dev/2018-12-06">6</a>  <a class="" href="/bitcoin-core-dev/2018-12-07">7</a>  8  &#x000A; 9 <a class="" href="/bitcoin-core-dev/2018-12-10">10</a> <a class="" href="/bitcoin-core-dev/2018-12-11">11</a> <a class="" href="/bitcoin-core-dev/2018-12-12">12</a> <a class="" href="/bitcoin-core-dev/2018-12-13">13</a> <a class="" href="/bitcoin-core-dev/2018-12-14">14</a> <a class="" href="/bitcoin-core-dev/2018-12-15">15</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2018-12-16">16</a> <a class="" href="/bitcoin-core-dev/2018-12-17">17</a> <a class="" href="/bitcoin-core-dev/2018-12-18">18</a> <a class="" href="/bitcoin-core-dev/2018-12-19">19</a> <a class="" href="/bitcoin-core-dev/2018-12-20">20</a> <a class="" href="/bitcoin-core-dev/2018-12-21">21</a> <a class="" href="/bitcoin-core-dev/2018-12-22">22</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2018-12-23">23</a> <a class="" href="/bitcoin-core-dev/2018-12-24">24</a> <a class="" href="/bitcoin-core-dev/2018-12-25">25</a> <a class="current" href="/bitcoin-core-dev/2018-12-26">26</a> <a class="" href="/bitcoin-core-dev/2018-12-27">27</a> <a class="" href="/bitcoin-core-dev/2018-12-28">28</a> <a class="" href="/bitcoin-core-dev/2018-12-29">29</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2018-12-30">30</a> <a class="" href="/bitcoin-core-dev/2018-12-31">31</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1545783180' id='646380'>
<a class='timestamp' href='#646380'><time timestamp='2018-12-26T00:13:00Z'>00:13</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jimmysong: &quot;block store&quot; ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1545783480' id='646381'>
<a class='timestamp' href='#646381'><time timestamp='2018-12-26T00:18:00Z'>00:18</time></a>
&lt;<span class='nick nick-15'> jimmysong</span>&gt;
storing that data in the db for a full node so it can be given to a peer that requests it
<br>
</div>

<div class='talk op-msg' data-timestamp='1545783480' id='646382'>
<a class='timestamp' href='#646382'><time timestamp='2018-12-26T00:18:00Z'>00:18</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
a bloomfilter (or gcd filter) can&#x27;t store any data, it&#x27;s just a probabilistic structure to let you query for set elements
<br>
</div>

<div class='talk op-msg' data-timestamp='1545783480' id='646383'>
<a class='timestamp' href='#646383'><time timestamp='2018-12-26T00:18:00Z'>00:18</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
a full node has no need for that data 
<br>
</div>

<div class='talk op-msg' data-timestamp='1545783540' id='646384'>
<a class='timestamp' href='#646384'><time timestamp='2018-12-26T00:19:00Z'>00:19</time></a>
&lt;<span class='nick nick-15'> jimmysong</span>&gt;
a full node doesn&#x27;t but it&#x27;d be useful for a light client wanting to verify a cfilter hash
<br>
</div>

<div class='talk op-msg' data-timestamp='1545783540' id='646385'>
<a class='timestamp' href='#646385'><time timestamp='2018-12-26T00:19:00Z'>00:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it is store on disk though, in the undo block data in bitcoin core, for as long as the block itself is stored
<br>
</div>

<div class='talk op-msg' data-timestamp='1545783540' id='646386'>
<a class='timestamp' href='#646386'><time timestamp='2018-12-26T00:19:00Z'>00:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ah, for verification it should just be committed to
<br>
</div>

<div class='talk op-msg' data-timestamp='1545783600' id='646387'>
<a class='timestamp' href='#646387'><time timestamp='2018-12-26T00:20:00Z'>00:20</time></a>
&lt;<span class='nick nick-15'> jimmysong</span>&gt;
a coinbase commitment is better, but is that something that&#x27;s got a proposal?
<br>
</div>

<div class='talk op-msg' data-timestamp='1545783660' id='646388'>
<a class='timestamp' href='#646388'><time timestamp='2018-12-26T00:21:00Z'>00:21</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it&#x27;s pretty trivial to do, but mucb easier to get agreement on once bip157 itself is deployed and used
<br>
</div>

<div class='talk op-msg' data-timestamp='1545783660' id='646389'>
<a class='timestamp' href='#646389'><time timestamp='2018-12-26T00:21:00Z'>00:21</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i expect
<br>
</div>

<div class='talk op-msg' data-timestamp='1545783660' id='646390'>
<a class='timestamp' href='#646390'><time timestamp='2018-12-26T00:21:00Z'>00:21</time></a>
&lt;<span class='nick nick-15'> jimmysong</span>&gt;
makes sense
<br>
</div>

<div class='talk op-msg' data-timestamp='1545783720' id='646391'>
<a class='timestamp' href='#646391'><time timestamp='2018-12-26T00:22:00Z'>00:22</time></a>
&lt;<span class='nick nick-15'> jimmysong</span>&gt;
i&#x27;m asking because i&#x27;m trying to write a wallet that uses neutrino
<br>
</div>

<div class='talk op-msg' data-timestamp='1545783720' id='646392'>
<a class='timestamp' href='#646392'><time timestamp='2018-12-26T00:22:00Z'>00:22</time></a>
&lt;<span class='nick nick-15'> jimmysong</span>&gt;
the annoying part is the verification
<br>
</div>

<div class='talk op-msg' data-timestamp='1545783720' id='646393'>
<a class='timestamp' href='#646393'><time timestamp='2018-12-26T00:22:00Z'>00:22</time></a>
&lt;<span class='nick nick-15'> jimmysong</span>&gt;
but getting the filter, checking against my script pubkeys, etc is great
<br>
</div>

<div class='talk op-msg' data-timestamp='1545783780' id='646394'>
<a class='timestamp' href='#646394'><time timestamp='2018-12-26T00:23:00Z'>00:23</time></a>
&lt;<span class='nick nick-15'> jimmysong</span>&gt;
much better for privacy
<br>
</div>

<div class='talk op-msg' data-timestamp='1545783780' id='646395'>
<a class='timestamp' href='#646395'><time timestamp='2018-12-26T00:23:00Z'>00:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
the node giving you prevour scripts along with the filter doesn&#x27;t let you verify anything
<br>
</div>

<div class='talk op-msg' data-timestamp='1545783780' id='646396'>
<a class='timestamp' href='#646396'><time timestamp='2018-12-26T00:23:00Z'>00:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
they can forge anything
<br>
</div>

<div class='talk op-msg' data-timestamp='1545783840' id='646397'>
<a class='timestamp' href='#646397'><time timestamp='2018-12-26T00:24:00Z'>00:24</time></a>
&lt;<span class='nick nick-15'> jimmysong</span>&gt;
it lets you verify that the filter bytes are what they said
<br>
</div>

<div class='talk op-msg' data-timestamp='1545783840' id='646398'>
<a class='timestamp' href='#646398'><time timestamp='2018-12-26T00:24:00Z'>00:24</time></a>
&lt;<span class='nick nick-15'> jimmysong</span>&gt;
and you can check that the scripts for the inputs verify
<br>
</div>

<div class='talk op-msg' data-timestamp='1545783840' id='646399'>
<a class='timestamp' href='#646399'><time timestamp='2018-12-26T00:24:00Z'>00:24</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
no, because the prevout scripts can be forged
<br>
</div>

<div class='talk op-msg' data-timestamp='1545783840' id='646400'>
<a class='timestamp' href='#646400'><time timestamp='2018-12-26T00:24:00Z'>00:24</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
there is nothing committing to them
<br>
</div>

<div class='talk op-msg' data-timestamp='1545783840' id='646401'>
<a class='timestamp' href='#646401'><time timestamp='2018-12-26T00:24:00Z'>00:24</time></a>
&lt;<span class='nick nick-15'> jimmysong</span>&gt;
wait, if you have a signature, you can make a pubkey that works with it?
<br>
</div>

<div class='talk op-msg' data-timestamp='1545783900' id='646402'>
<a class='timestamp' href='#646402'><time timestamp='2018-12-26T00:25:00Z'>00:25</time></a>
&lt;<span class='nick nick-15'> jimmysong</span>&gt;
err, rather, a pubkey, you can make a hash preimage?
<br>
</div>

<div class='talk op-msg' data-timestamp='1545783900' id='646403'>
<a class='timestamp' href='#646403'><time timestamp='2018-12-26T00:25:00Z'>00:25</time></a>
&lt;<span class='nick nick-15'> jimmysong</span>&gt;
the scriptsig/witness for p2pkh/p2wpkh is pubkey, sig
<br>
</div>

<div class='talk op-msg' data-timestamp='1545783900' id='646404'>
<a class='timestamp' href='#646404'><time timestamp='2018-12-26T00:25:00Z'>00:25</time></a>
&lt;<span class='nick nick-15'> jimmysong</span>&gt;
so you&#x27;d have to forge a preimage of the pubkey
<br>
</div>

<div class='talk op-msg' data-timestamp='1545783900' id='646405'>
<a class='timestamp' href='#646405'><time timestamp='2018-12-26T00:25:00Z'>00:25</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
oh, you mean full script validation?
<br>
</div>

<div class='talk op-msg' data-timestamp='1545783960' id='646406'>
<a class='timestamp' href='#646406'><time timestamp='2018-12-26T00:26:00Z'>00:26</time></a>
&lt;<span class='nick nick-15'> jimmysong</span>&gt;
yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1545783960' id='646407'>
<a class='timestamp' href='#646407'><time timestamp='2018-12-26T00:26:00Z'>00:26</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that shouldn&#x27;t be something a light client cares about
<br>
</div>

<div class='talk op-msg' data-timestamp='1545783960' id='646408'>
<a class='timestamp' href='#646408'><time timestamp='2018-12-26T00:26:00Z'>00:26</time></a>
&lt;<span class='nick nick-15'> jimmysong</span>&gt;
if it helps verify the cfilter hash, why not?
<br>
</div>

<div class='talk op-msg' data-timestamp='1545783960' id='646409'>
<a class='timestamp' href='#646409'><time timestamp='2018-12-26T00:26:00Z'>00:26</time></a>
&lt;<span class='nick nick-15'> jimmysong</span>&gt;
commitment is obviously preferable
<br>
</div>

<div class='talk op-msg' data-timestamp='1545783960' id='646410'>
<a class='timestamp' href='#646410'><time timestamp='2018-12-26T00:26:00Z'>00:26</time></a>
&lt;<span class='nick nick-15'> jimmysong</span>&gt;
but if we don&#x27;t have that?
<br>
</div>

<div class='talk op-msg' data-timestamp='1545784020' id='646411'>
<a class='timestamp' href='#646411'><time timestamp='2018-12-26T00:27:00Z'>00:27</time></a>
&lt;<span class='nick nick-1'> roasbeef</span>&gt;
jimmysong: yeh there&#x27;s a half proposal on the ML to add that, the prior versions had the outpoint so they were fully verifiable, as is now you can verify half of it 
<br>
</div>

<div class='talk op-msg' data-timestamp='1545784020' id='646412'>
<a class='timestamp' href='#646412'><time timestamp='2018-12-26T00:27:00Z'>00:27</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
what is your attack model?
<br>
</div>

<div class='talk op-msg' data-timestamp='1545784020' id='646413'>
<a class='timestamp' href='#646413'><time timestamp='2018-12-26T00:27:00Z'>00:27</time></a>
&lt;<span class='nick nick-1'> roasbeef</span>&gt;
differntiate honest peers from dishonest peers 
<br>
</div>

<div class='talk op-msg' data-timestamp='1545784020' id='646414'>
<a class='timestamp' href='#646414'><time timestamp='2018-12-26T00:27:00Z'>00:27</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
you don&#x27;t want to get the prevout script for every block, right?
<br>
</div>

<div class='talk op-msg' data-timestamp='1545784080' id='646415'>
<a class='timestamp' href='#646415'><time timestamp='2018-12-26T00:28:00Z'>00:28</time></a>
&lt;<span class='nick nick-1'> roasbeef</span>&gt;
it&#x27;s not full script validation, it&#x27;s verifying the filter is correct 
<br>
</div>

<div class='talk op-msg' data-timestamp='1545784080' id='646416'>
<a class='timestamp' href='#646416'><time timestamp='2018-12-26T00:28:00Z'>00:28</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sure, but you&#x27;d need a full script interpreter for doing so
<br>
</div>

<div class='talk op-msg' data-timestamp='1545784080' id='646417'>
<a class='timestamp' href='#646417'><time timestamp='2018-12-26T00:28:00Z'>00:28</time></a>
&lt;<span class='nick nick-1'> roasbeef</span>&gt;
yeh you&#x27;d fetch the block with the prior scripts and value why not while you&#x27;re at it, w/ value you can verify fees to a degree as well 
<br>
</div>

<div class='talk op-msg' data-timestamp='1545784080' id='646418'>
<a class='timestamp' href='#646418'><time timestamp='2018-12-26T00:28:00Z'>00:28</time></a>
&lt;<span class='nick nick-1'> roasbeef</span>&gt;
no need to verify the script, just to verify a filter actually fully matchs a given block 
<br>
</div>

<div class='talk op-msg' data-timestamp='1545784140' id='646419'>
<a class='timestamp' href='#646419'><time timestamp='2018-12-26T00:29:00Z'>00:29</time></a>
&lt;<span class='nick nick-15'> jimmysong</span>&gt;
i was thinking full script interpreter
<br>
</div>

<div class='talk op-msg' data-timestamp='1545784140' id='646420'>
<a class='timestamp' href='#646420'><time timestamp='2018-12-26T00:29:00Z'>00:29</time></a>
&lt;<span class='nick nick-15'> jimmysong</span>&gt;
which isn&#x27;t trivial
<br>
</div>

<div class='talk op-msg' data-timestamp='1545784140' id='646421'>
<a class='timestamp' href='#646421'><time timestamp='2018-12-26T00:29:00Z'>00:29</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
roasbeef: sure, that makes sense; but jimmysong was suggesring script validation, as without it, the prevout data can be trivially forged
<br>
</div>

<div class='talk op-msg' data-timestamp='1545784140' id='646422'>
<a class='timestamp' href='#646422'><time timestamp='2018-12-26T00:29:00Z'>00:29</time></a>
&lt;<span class='nick nick-1'> roasbeef</span>&gt;
txscript.VM ;) 
<br>
</div>

<div class='talk op-msg' data-timestamp='1545784200' id='646423'>
<a class='timestamp' href='#646423'><time timestamp='2018-12-26T00:30:00Z'>00:30</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jimmysong: but for which blocks would you get this prevout data?
<br>
</div>

<div class='talk op-msg' data-timestamp='1545784200' id='646424'>
<a class='timestamp' href='#646424'><time timestamp='2018-12-26T00:30:00Z'>00:30</time></a>
&lt;<span class='nick nick-15'> jimmysong</span>&gt;
the blocks you download when you search for your utxos
<br>
</div>

<div class='talk op-msg' data-timestamp='1545784200' id='646425'>
<a class='timestamp' href='#646425'><time timestamp='2018-12-26T00:30:00Z'>00:30</time></a>
&lt;<span class='nick nick-1'> roasbeef</span>&gt;
blocks for which you get conflicting advertisements 
<br>
</div>

<div class='talk op-msg' data-timestamp='1545784200' id='646426'>
<a class='timestamp' href='#646426'><time timestamp='2018-12-26T00:30:00Z'>00:30</time></a>
&lt;<span class='nick nick-15'> jimmysong</span>&gt;
that too
<br>
</div>

<div class='talk op-msg' data-timestamp='1545784200' id='646427'>
<a class='timestamp' href='#646427'><time timestamp='2018-12-26T00:30:00Z'>00:30</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jimmysong: a peer can still lie and give you a filter with no matches at all
<br>
</div>

<div class='talk op-msg' data-timestamp='1545784260' id='646428'>
<a class='timestamp' href='#646428'><time timestamp='2018-12-26T00:31:00Z'>00:31</time></a>
&lt;<span class='nick nick-1'> roasbeef</span>&gt;
you can fetch the block and verify the outputs are properly included, but not fully inputs 
<br>
</div>

<div class='talk op-msg' data-timestamp='1545784260' id='646429'>
<a class='timestamp' href='#646429'><time timestamp='2018-12-26T00:31:00Z'>00:31</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yes, for confloct detection it makes sense, and you need no script validation etc
<br>
</div>

<div class='talk op-msg' data-timestamp='1545784260' id='646430'>
<a class='timestamp' href='#646430'><time timestamp='2018-12-26T00:31:00Z'>00:31</time></a>
&lt;<span class='nick nick-1'> roasbeef</span>&gt;
main purpose if conflict detection 
<br>
</div>

<div class='talk op-msg' data-timestamp='1545784260' id='646431'>
<a class='timestamp' href='#646431'><time timestamp='2018-12-26T00:31:00Z'>00:31</time></a>
&lt;<span class='nick nick-1'> roasbeef</span>&gt;
is*
<br>
</div>

<div class='talk op-msg' data-timestamp='1545784320' id='646432'>
<a class='timestamp' href='#646432'><time timestamp='2018-12-26T00:32:00Z'>00:32</time></a>
&lt;<span class='nick nick-1'> roasbeef</span>&gt;
harding: the prev outs are in the undo blocks 
<br>
</div>

<div class='talk op-msg' data-timestamp='1545784320' id='646433'>
<a class='timestamp' href='#646433'><time timestamp='2018-12-26T00:32:00Z'>00:32</time></a>
&lt;<span class='nick nick-1'> roasbeef</span>&gt;
this was a concern during the switch over (that it would be slower to construct our possibly impossible), but the data is still around 
<br>
</div>

<div class='talk op-msg' data-timestamp='1545784440' id='646434'>
<a class='timestamp' href='#646434'><time timestamp='2018-12-26T00:34:00Z'>00:34</time></a>
&lt;<span class='nick nick-15'> jimmysong</span>&gt;
what&#x27;s the objection to writing a script interpreter?
<br>
</div>

<div class='talk op-msg' data-timestamp='1545784440' id='646435'>
<a class='timestamp' href='#646435'><time timestamp='2018-12-26T00:34:00Z'>00:34</time></a>
&lt;<span class='nick nick-15'> jimmysong</span>&gt;
is it because of all the edge cases?
<br>
</div>

<div class='talk op-msg' data-timestamp='1545784440' id='646436'>
<a class='timestamp' href='#646436'><time timestamp='2018-12-26T00:34:00Z'>00:34</time></a>
&lt;<span class='nick nick-1'> roasbeef</span>&gt;
many already exist 
<br>
</div>

<div class='talk op-msg' data-timestamp='1545784440' id='646437'>
<a class='timestamp' href='#646437'><time timestamp='2018-12-26T00:34:00Z'>00:34</time></a>
&lt;<span class='nick nick-15'> jimmysong</span>&gt;
i&#x27;ve written a partial one
<br>
</div>

<div class='talk op-msg' data-timestamp='1545784500' id='646438'>
<a class='timestamp' href='#646438'><time timestamp='2018-12-26T00:35:00Z'>00:35</time></a>
&lt;<span class='nick nick-15'> jimmysong</span>&gt;
i still don&#x27;t get op_codeseparator
<br>
</div>

<div class='talk op-msg' data-timestamp='1545784500' id='646439'>
<a class='timestamp' href='#646439'><time timestamp='2018-12-26T00:35:00Z'>00:35</time></a>
&lt;<span class='nick nick-1'> roasbeef</span>&gt;
code sep should die, ppl should stop trying to save it lol 
<br>
</div>

<div class='talk op-msg' data-timestamp='1545784560' id='646440'>
<a class='timestamp' href='#646440'><time timestamp='2018-12-26T00:36:00Z'>00:36</time></a>
&lt;<span class='nick nick-15'> jimmysong</span>&gt;
btw, roasbeef, those test vectors for neutrino broke my script interpreter =)
<br>
</div>

<div class='talk op-msg' data-timestamp='1545784560' id='646441'>
<a class='timestamp' href='#646441'><time timestamp='2018-12-26T00:36:00Z'>00:36</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jimmysong: in my view script interpreting is so easy to get wrong, it should only be done by full nodes
<br>
</div>

<div class='talk op-msg' data-timestamp='1545784620' id='646442'>
<a class='timestamp' href='#646442'><time timestamp='2018-12-26T00:37:00Z'>00:37</time></a>
&lt;<span class='nick nick-15'> jimmysong</span>&gt;
it is easy to get wrong, but isn&#x27;t there value to at least interpreting some subset?
<br>
</div>

<div class='talk op-msg' data-timestamp='1545784620' id='646443'>
<a class='timestamp' href='#646443'><time timestamp='2018-12-26T00:37:00Z'>00:37</time></a>
&lt;<span class='nick nick-15'> jimmysong</span>&gt;
p2wsh/p2sh stuff can get pretty complicated
<br>
</div>

<div class='talk op-msg' data-timestamp='1545784620' id='646444'>
<a class='timestamp' href='#646444'><time timestamp='2018-12-26T00:37:00Z'>00:37</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i don&#x27;t think so
<br>
</div>

<div class='talk op-msg' data-timestamp='1545784620' id='646445'>
<a class='timestamp' href='#646445'><time timestamp='2018-12-26T00:37:00Z'>00:37</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
a wallet can recognize its own outputs, bit that doesn&#x27;t need interpretatiom
<br>
</div>

<div class='talk op-msg' data-timestamp='1545784680' id='646446'>
<a class='timestamp' href='#646446'><time timestamp='2018-12-26T00:38:00Z'>00:38</time></a>
&lt;<span class='nick nick-1'> roasbeef</span>&gt;
you can&#x27;t even verify the outputs fully exist, so script verification is w/e, main reason for getting the prevouts is filter verification and fee awareness 
<br>
</div>

<div class='talk op-msg' data-timestamp='1545784680' id='646447'>
<a class='timestamp' href='#646447'><time timestamp='2018-12-26T00:38:00Z'>00:38</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
for debugging purposes it can be useful of course, but imo that&#x27;s it
<br>
</div>

<div class='talk op-msg' data-timestamp='1545784740' id='646448'>
<a class='timestamp' href='#646448'><time timestamp='2018-12-26T00:39:00Z'>00:39</time></a>
&lt;<span class='nick nick-15'> jimmysong</span>&gt;
so wallets should stick to standard scripts, or whatever has been analyzed beforehand
<br>
</div>

<div class='talk op-msg' data-timestamp='1545784740' id='646449'>
<a class='timestamp' href='#646449'><time timestamp='2018-12-26T00:39:00Z'>00:39</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
well they construct them themselves
<br>
</div>

<div class='talk op-msg' data-timestamp='1545784800' id='646450'>
<a class='timestamp' href='#646450'><time timestamp='2018-12-26T00:40:00Z'>00:40</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
so you don&#x27;t need an interpreter to find its semantics
<br>
</div>

<div class='talk op-msg' data-timestamp='1545784800' id='646451'>
<a class='timestamp' href='#646451'><time timestamp='2018-12-26T00:40:00Z'>00:40</time></a>
&lt;<span class='nick nick-15'> jimmysong</span>&gt;
right, the ones analyzed beforehand by the programmer
<br>
</div>

<div class='talk op-msg' data-timestamp='1545784800' id='646452'>
<a class='timestamp' href='#646452'><time timestamp='2018-12-26T00:40:00Z'>00:40</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and you won&#x27;t trigger any edge cases unless you go out of your way to trigger them
<br>
</div>

<div class='talk op-msg' data-timestamp='1545784920' id='646453'>
<a class='timestamp' href='#646453'><time timestamp='2018-12-26T00:42:00Z'>00:42</time></a>
&lt;<span class='nick nick-15'> jimmysong</span>&gt;
in any case, if the outpoint data is in the undo blocks, that can be made available?
<br>
</div>

<div class='talk op-msg' data-timestamp='1545784920' id='646454'>
<a class='timestamp' href='#646454'><time timestamp='2018-12-26T00:42:00Z'>00:42</time></a>
&lt;<span class='nick nick-1'> roasbeef</span>&gt;
yep, just add a new inv type, and message format 
<br>
</div>

<div class='talk op-msg' data-timestamp='1545784980' id='646455'>
<a class='timestamp' href='#646455'><time timestamp='2018-12-26T00:43:00Z'>00:43</time></a>
&lt;<span class='nick nick-15'> jimmysong</span>&gt;
sure, you need the full tx&#x27;s to verify against the hashes, which as harding pointed out can get pathologically large in edge cases
<br>
</div>

<div class='talk op-msg' data-timestamp='1545785040' id='646456'>
<a class='timestamp' href='#646456'><time timestamp='2018-12-26T00:44:00Z'>00:44</time></a>
&lt;<span class='nick nick-15'> jimmysong</span>&gt;
similar to jj&#x27;s attack from breaking bitcoin last year
<br>
</div>

<div class='talk op-msg' data-timestamp='1545785040' id='646457'>
<a class='timestamp' href='#646457'><time timestamp='2018-12-26T00:44:00Z'>00:44</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jimmysong: needing the full txn is unrealistic
<br>
</div>

<div class='talk op-msg' data-timestamp='1545785040' id='646458'>
<a class='timestamp' href='#646458'><time timestamp='2018-12-26T00:44:00Z'>00:44</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that data isn&#x27;t available in general, and expensive to index
<br>
</div>

<div class='talk op-msg' data-timestamp='1545785040' id='646459'>
<a class='timestamp' href='#646459'><time timestamp='2018-12-26T00:44:00Z'>00:44</time></a>
&lt;<span class='nick nick-1'> roasbeef</span>&gt;
why do you care about the hashes? get the script+value, verify the sig+fee, reconstruct filter, dunzo
<br>
</div>

<div class='talk op-msg' data-timestamp='1545785100' id='646460'>
<a class='timestamp' href='#646460'><time timestamp='2018-12-26T00:45:00Z'>00:45</time></a>
&lt;<span class='nick nick-1'> roasbeef</span>&gt;
ofc if the witness commitment was to a merkalized version of the transaction, you could fetch that proof as well, but mo bytes there, what we have available atm is good enough to achieve the goal of cross checking 
<br>
</div>

<div class='talk op-msg' data-timestamp='1545785160' id='646461'>
<a class='timestamp' href='#646461'><time timestamp='2018-12-26T00:46:00Z'>00:46</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
in general we should aim to only expose data that is verifiable or can be made verifiable
<br>
</div>

<div class='talk op-msg' data-timestamp='1545785160' id='646462'>
<a class='timestamp' href='#646462'><time timestamp='2018-12-26T00:46:00Z'>00:46</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and adding comitments to undo data seems overkill, when all that&#x27;s needed is a commitmemt to the filters
<br>
</div>

<div class='talk op-msg' data-timestamp='1545785160' id='646463'>
<a class='timestamp' href='#646463'><time timestamp='2018-12-26T00:46:00Z'>00:46</time></a>
&lt;<span class='nick nick-15'> jimmysong</span>&gt;
yes, that&#x27;s the preferred solution
<br>
</div>

<div class='talk op-msg' data-timestamp='1545785220' id='646464'>
<a class='timestamp' href='#646464'><time timestamp='2018-12-26T00:47:00Z'>00:47</time></a>
&lt;<span class='nick nick-1'> roasbeef</span>&gt;
yeh not undo, just filters eventually, mean as in if the wtxid was a merkle tree with leaves of the inputs/outputs etc 
<br>
</div>

<div class='talk op-msg' data-timestamp='1545785220' id='646465'>
<a class='timestamp' href='#646465'><time timestamp='2018-12-26T00:47:00Z'>00:47</time></a>
&lt;<span class='nick nick-1'> roasbeef</span>&gt;
would also let you have a more compact proof of spentnesss, especially if things are also mega super coin-joiny in the future 
<br>
</div>

<div class='talk op-msg' data-timestamp='1545785280' id='646466'>
<a class='timestamp' href='#646466'><time timestamp='2018-12-26T00:48:00Z'>00:48</time></a>
&lt;<span class='nick nick-15'> jimmysong</span>&gt;
wow, good point
<br>
</div>

<div class='talk op-msg' data-timestamp='1545785340' id='646467'>
<a class='timestamp' href='#646467'><time timestamp='2018-12-26T00:49:00Z'>00:49</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i think all these adhoc methods of verifying filters break down if you look at them in an adverserial setting... you can use heuristics and download from multiple peers, and detect conflicts, and spot check here and there... but those approaches all add complexity and bandwidth proportionl to the level of guarantee they give
<br>
</div>

<div class='talk op-msg' data-timestamp='1545785340' id='646468'>
<a class='timestamp' href='#646468'><time timestamp='2018-12-26T00:49:00Z'>00:49</time></a>
&lt;<span class='nick nick-1'> roasbeef</span>&gt;
yep those other appraoches are just plain easier to mess up, i prefer dead simple methods 
<br>
</div>

<div class='talk op-msg' data-timestamp='1545785340' id='646469'>
<a class='timestamp' href='#646469'><time timestamp='2018-12-26T00:49:00Z'>00:49</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
the only foolproof, cheap, ... way is a filter comitment in blocks
<br>
</div>

<div class='talk op-msg' data-timestamp='1545785400' id='646470'>
<a class='timestamp' href='#646470'><time timestamp='2018-12-26T00:50:00Z'>00:50</time></a>
&lt;<span class='nick nick-15'> jimmysong</span>&gt;
yep, which costs something for a miner, but not very much. but it is a soft fork
<br>
</div>

<div class='talk op-msg' data-timestamp='1545785400' id='646471'>
<a class='timestamp' href='#646471'><time timestamp='2018-12-26T00:50:00Z'>00:50</time></a>
&lt;<span class='nick nick-15'> jimmysong</span>&gt;
any idea how that would be received?
<br>
</div>

<div class='talk op-msg' data-timestamp='1545785460' id='646472'>
<a class='timestamp' href='#646472'><time timestamp='2018-12-26T00:51:00Z'>00:51</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
the bigger limit there is just that there needs to be a higher level of confidence in the design, since removing the requirement is a hardfork. Fortunately, as it is now has actually had a fair level of refinement.
<br>
</div>

<div class='talk op-msg' data-timestamp='1545785460' id='646473'>
<a class='timestamp' href='#646473'><time timestamp='2018-12-26T00:51:00Z'>00:51</time></a>
&lt;<span class='nick nick-1'> roasbeef</span>&gt;
jimmysong: filter commit in op return, message to fetch header along w/ path for coinbase transaction? i think the filter chain would prob still have some use in that case as well 
<br>
</div>

<div class='talk op-msg' data-timestamp='1545785520' id='646474'>
<a class='timestamp' href='#646474'><time timestamp='2018-12-26T00:52:00Z'>00:52</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I&#x27;ve suggested in the past potentially doing a kind of rolling softfork, where the commitment is required to be valid only if its provided and only until some height.  And so long as people keep using it and it isn&#x27;t replaced with something better, we just keep soft-forking in updated heights.. but if ever it gets replaced, it can just be allowed to expire.
<br>
</div>

<div class='talk op-msg' data-timestamp='1545785520' id='646475'>
<a class='timestamp' href='#646475'><time timestamp='2018-12-26T00:52:00Z'>00:52</time></a>
&lt;<span class='nick nick-15'> jimmysong</span>&gt;
that would be a nice escape clause
<br>
</div>

<div class='talk op-msg' data-timestamp='1545785520' id='646476'>
<a class='timestamp' href='#646476'><time timestamp='2018-12-26T00:52:00Z'>00:52</time></a>
&lt;<span class='nick nick-1'> roasbeef</span>&gt;
oooOOo, i guess the witness commitment is kinda like that for blocks w/o any witness data
<br>
</div>

<div class='talk op-msg' data-timestamp='1545785580' id='646477'>
<a class='timestamp' href='#646477'><time timestamp='2018-12-26T00:53:00Z'>00:53</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jimmysong: i think it&#x27;s necessary; without commitment to the filters you can basically only use it locally or with a trusted full node 
<br>
</div>

<div class='talk op-msg' data-timestamp='1545785580' id='646478'>
<a class='timestamp' href='#646478'><time timestamp='2018-12-26T00:53:00Z'>00:53</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
which is pretty useful on itself, but nearly the same
<br>
</div>

<div class='talk op-msg' data-timestamp='1545785580' id='646479'>
<a class='timestamp' href='#646479'><time timestamp='2018-12-26T00:53:00Z'>00:53</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but not nearly
<br>
</div>

<div class='talk op-msg' data-timestamp='1545785580' id='646480'>
<a class='timestamp' href='#646480'><time timestamp='2018-12-26T00:53:00Z'>00:53</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I&#x27;m very glad, e.g. that nothing about BIP37 ended up softforked in... that protocol turned out to be a lemon in a number of ways, but it took a couple years of use to realize that.
<br>
</div>

<div class='talk op-msg' data-timestamp='1545785640' id='646481'>
<a class='timestamp' href='#646481'><time timestamp='2018-12-26T00:54:00Z'>00:54</time></a>
&lt;<span class='nick nick-1'> roasbeef</span>&gt;
well you can still use it in the open net, you have the same &quot;one honest peer&quot; assumption going on, the scripts just help you to distinguish between zero and 1 honest peer 
<br>
</div>

<div class='talk op-msg' data-timestamp='1545785700' id='646482'>
<a class='timestamp' href='#646482'><time timestamp='2018-12-26T00:55:00Z'>00:55</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
roasbeef: even 1 honest peer requires you to have some kind of complex resolution to deal with disagreement, also-- because the p2p network is trivally sybable &#x27;one honest peer&#x27; probably doesn&#x27;t mean much unless you&#x27;re doing something like manually configuring a trusted one.
<br>
</div>

<div class='talk op-msg' data-timestamp='1545785760' id='646483'>
<a class='timestamp' href='#646483'><time timestamp='2018-12-26T00:56:00Z'>00:56</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
One should also consider the effect of incentiving varrious kinds of trouble making.  (like generally we&#x27;ve found that when we added vulnerablities like BIP37 attackers emerged that didn&#x27;t exist previously, and then made more trouble even for people that didn&#x27;t care about using BIP37)
<br>
</div>

<div class='talk op-msg' data-timestamp='1545785820' id='646484'>
<a class='timestamp' href='#646484'><time timestamp='2018-12-26T00:57:00Z'>00:57</time></a>
&lt;<span class='nick nick-1'> roasbeef</span>&gt;
gmaxwell: you&#x27;d just fetch the blocks+scripts and reconstruct the filter, the commitment to the filters (the filter chain) helps you notice if something is funky at a glanec 
<br>
</div>

<div class='talk op-msg' data-timestamp='1545785880' id='646485'>
<a class='timestamp' href='#646485'><time timestamp='2018-12-26T00:58:00Z'>00:58</time></a>
&lt;<span class='nick nick-1'> roasbeef</span>&gt;
but then again, for smaller values you&#x27;re prob not super concerned about this stuff
<br>
</div>

<div class='talk op-msg' data-timestamp='1545785940' id='646486'>
<a class='timestamp' href='#646486'><time timestamp='2018-12-26T00:59:00Z'>00:59</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
roasbeef: matching the spent inputs too requires fetching the inputs, which as sipa pointed out above is intractable in the worst case (and also astronishingly expensive even in the normal case)
<br>
</div>

<div class='talk op-msg' data-timestamp='1545785940' id='646487'>
<a class='timestamp' href='#646487'><time timestamp='2018-12-26T00:59:00Z'>00:59</time></a>
&lt;<span class='nick nick-1'> roasbeef</span>&gt;
yeh the assumption is a new inv type to allow you to fetch the the input scripts, i guess i miss this worst case scenario? 
<br>
</div>

<div class='talk op-msg' data-timestamp='1545785940' id='646488'>
<a class='timestamp' href='#646488'><time timestamp='2018-12-26T00:59:00Z'>00:59</time></a>
&lt;<span class='nick nick-1'> roasbeef</span>&gt;
fetch with the block*
<br>
</div>

<div class='talk op-msg' data-timestamp='1545786000' id='646489'>
<a class='timestamp' href='#646489'><time timestamp='2018-12-26T01:00:00Z'>01:00</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
keeping also in mind that this stuff is saving you 30kbit/sec of bandwidth over downloading the whole blocks... in the ongoing case.
<br>
</div>

<div class='talk op-msg' data-timestamp='1545786000' id='646490'>
<a class='timestamp' href='#646490'><time timestamp='2018-12-26T01:00:00Z'>01:00</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
roasbeef: we have no way to provide that, and even if we did it couldn&#x27;t be validated without fetching potentially gigabytes of additional data (you actually have to fetch the whole transactions).
<br>
</div>

<div class='talk op-msg' data-timestamp='1545786420' id='646491'>
<a class='timestamp' href='#646491'><time timestamp='2018-12-26T01:07:00Z'>01:07</time></a>
&lt;<span class='nick nick-1'> roasbeef</span>&gt;
ahh ok yeh i was missing the outpoints in the equation
<br>
</div>

<div class='talk op-msg' data-timestamp='1545786420' id='646492'>
<a class='timestamp' href='#646492'><time timestamp='2018-12-26T01:07:00Z'>01:07</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
roasbeef: what if you receive two different filters, and request block/prevout data for both, and they are both correct? (and it turns out you receiced one true prevout data and one false prevout data, but with correct filters for that data)
<br>
</div>

<div class='talk op-msg' data-timestamp='1545786420' id='646493'>
<a class='timestamp' href='#646493'><time timestamp='2018-12-26T01:07:00Z'>01:07</time></a>
&lt;<span class='nick nick-1'> roasbeef</span>&gt;
well can still verify half of it today ;) 
<br>
</div>

<div class='talk op-msg' data-timestamp='1545786420' id='646494'>
<a class='timestamp' href='#646494'><time timestamp='2018-12-26T01:07:00Z'>01:07</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
roasbeef: yes, half indeed. and really the more useful half.
<br>
</div>

<div class='talk op-msg' data-timestamp='1545786420' id='646495'>
<a class='timestamp' href='#646495'><time timestamp='2018-12-26T01:07:00Z'>01:07</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
but at the expense of fetching the whole block.
<br>
</div>

<div class='talk op-msg' data-timestamp='1545786480' id='646496'>
<a class='timestamp' href='#646496'><time timestamp='2018-12-26T01:08:00Z'>01:08</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that&#x27;s still detectable, but you&#x27;re rediced to a majoroty vote kind of model, and at a possibly very high bandwidh cost
<br>
</div>

<div class='talk op-msg' data-timestamp='1545786480' id='646497'>
<a class='timestamp' href='#646497'><time timestamp='2018-12-26T01:08:00Z'>01:08</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
which also means that it really only takes one clown with an aws instance to cause a lot of users to fetch the blocks anyways.  I mean, perhaps not totally useless.  But as I mentioned, vulnerablties seem to attract attackers.
<br>
</div>

<div class='talk op-msg' data-timestamp='1545786600' id='646498'>
<a class='timestamp' href='#646498'><time timestamp='2018-12-26T01:10:00Z'>01:10</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
so then you&#x27;re left with the work of implementing the validation, testing it, dealing with vulnerablities in it... and some clown spins up a bunch of sybils and everyone is downloading the entire blocks anyways. And-- the sybils themselves act as a lasting nussance.  I don&#x27;t mean to argue against the non-commited usage, but considering the all in effects it&#x27;s not the obvious big win that it 
<br>
</div>

<div class='talk op-msg' data-timestamp='1545786600' id='646499'>
<a class='timestamp' href='#646499'><time timestamp='2018-12-26T01:10:00Z'>01:10</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
might seem at a glance.
<br>
</div>

<div class='talk op-msg' data-timestamp='1545786660' id='646500'>
<a class='timestamp' href='#646500'><time timestamp='2018-12-26T01:11:00Z'>01:11</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
and the historical rate of protocol additions introducing vulnerablties (either in implementation or design) is really high...
<br>
</div>

<div class='talk op-msg' data-timestamp='1545786720' id='646501'>
<a class='timestamp' href='#646501'><time timestamp='2018-12-26T01:12:00Z'>01:12</time></a>
&lt;<span class='nick nick-1'> roasbeef</span>&gt;
it&#x27;s a win for full nodes at least, serving the filters is much less intensive (and also stateless) compared to serving bip37, you also can&#x27;t trigger worst case matching behavior over the entire chain 
<br>
</div>

<div class='talk op-msg' data-timestamp='1545786780' id='646502'>
<a class='timestamp' href='#646502'><time timestamp='2018-12-26T01:13:00Z'>01:13</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
roasbeef: quite a few nodes just disable BIP37 completely (which seemed to stop the BIP37 based attacks)
<br>
</div>

<div class='talk op-msg' data-timestamp='1545786840' id='646503'>
<a class='timestamp' href='#646503'><time timestamp='2018-12-26T01:14:00Z'>01:14</time></a>
&lt;<span class='nick nick-1'> roasbeef</span>&gt;
yeh i ended up doing that on my testnet nodes, seemed somsone was practicing their attacks on testnet lol 
<br>
</div>

<div class='talk op-msg' data-timestamp='1545786840' id='646504'>
<a class='timestamp' href='#646504'><time timestamp='2018-12-26T01:14:00Z'>01:14</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(I&#x27;m not disagreeing with your point though)
<br>
</div>

<div class='talk op-msg' data-timestamp='1545786900' id='646505'>
<a class='timestamp' href='#646505'><time timestamp='2018-12-26T01:15:00Z'>01:15</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
roasbeef: they were doing it on mainnet for a while. Though they seemed to give up after even a small set of their targets started disabling them. To the extent that they might have been targeting miners to cause block orphaning, that makes sense, but otherwise it&#x27;s not really clear why it stopped.
<br>
</div>

<div class='talk op-msg' data-timestamp='1545786960' id='646506'>
<a class='timestamp' href='#646506'><time timestamp='2018-12-26T01:16:00Z'>01:16</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Perhaps because they realized if they kept it up BIP37 was just going to end up removed and then they&#x27;d lose their toy. Who knows.
<br>
</div>

<div class='talk op-msg' data-timestamp='1545801720' id='646507'>
<a class='timestamp' href='#646507'><time timestamp='2018-12-26T05:22:00Z'>05:22</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] markaw67 opened pull request #15036: Mwortham (master...patch-2) <a href="https://github.com/bitcoin/bitcoin/pull/15036" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/15036</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1545803700' id='646508'>
<a class='timestamp' href='#646508'><time timestamp='2018-12-26T05:55:00Z'>05:55</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
Wondering if I should even bother in #15036. The guy has turned up to the repo, spammed in one PR, then opened 15036. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1545803700' id='646509'>
<a class='timestamp' href='#646509'><time timestamp='2018-12-26T05:55:00Z'>05:55</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/15036" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/15036</a> | Mwortham by markaw67 · Pull Request #15036 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1545803700' id='646510'>
<a class='timestamp' href='#646510'><time timestamp='2018-12-26T05:55:00Z'>05:55</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
Clearly not bothering to read my comment, or from what I can tell, anything related to actually contributing to the project.
<br>
</div>

<div class='talk op-msg' data-timestamp='1545804060' id='646511'>
<a class='timestamp' href='#646511'><time timestamp='2018-12-26T06:01:00Z'>06:01</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I&#x27;d recommend just closing and locking the PR. They aren&#x27;t following the guidelines, and there is a good chance that its just trolling.
<br>
</div>

<div class='talk op-msg' data-timestamp='1545804060' id='646512'>
<a class='timestamp' href='#646512'><time timestamp='2018-12-26T06:01:00Z'>06:01</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
no different than any other driveby pr
<br>
</div>

<div class='talk op-msg' data-timestamp='1545804540' id='646513'>
<a class='timestamp' href='#646513'><time timestamp='2018-12-26T06:09:00Z'>06:09</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
and especially due to the principle that the project isn&#x27;t a place that we&#x27;ll tolerate other people turning into their performance art or battleground.
<br>
</div>

<div class='talk op-msg' data-timestamp='1545806040' id='646514'>
<a class='timestamp' href='#646514'><time timestamp='2018-12-26T06:34:00Z'>06:34</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] fanquake closed pull request #15036: Mwortham (master...patch-2) <a href="https://github.com/bitcoin/bitcoin/pull/15036" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/15036</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1545807180' id='646515'>
<a class='timestamp' href='#646515'><time timestamp='2018-12-26T06:53:00Z'>06:53</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
fanquake: if you are able, it seems like preemptively locking might be a good idea.
<br>
</div>

<div class='talk op-msg' data-timestamp='1545807300' id='646516'>
<a class='timestamp' href='#646516'><time timestamp='2018-12-26T06:55:00Z'>06:55</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
I was going to leave it for a reply, but have done it now.
<br>
</div>

<div class='talk op-msg' data-timestamp='1545807420' id='646517'>
<a class='timestamp' href='#646517'><time timestamp='2018-12-26T06:57:00Z'>06:57</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
the quality of his previous comment doesn&#x27;t make me sanguine
<br>
</div>

<div class='talk op-msg' data-timestamp='1545807480' id='646518'>
<a class='timestamp' href='#646518'><time timestamp='2018-12-26T06:58:00Z'>06:58</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
also, the account that hit &#x27;approve&#x27; looks like a sockpuppet
<br>
</div>

<div class='talk op-msg' data-timestamp='1545827340' id='646519'>
<a class='timestamp' href='#646519'><time timestamp='2018-12-26T12:29:00Z'>12:29</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
wumpus are you around tonight?
<br>
</div>

<div class='talk op-msg' data-timestamp='1545832560' id='646520'>
<a class='timestamp' href='#646520'><time timestamp='2018-12-26T13:56:00Z'>13:56</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] hebasto opened pull request #15038: docs: Get more info about GUI-related issue on Linux (master...20181226-issue-template-gui-linux) <a href="https://github.com/bitcoin/bitcoin/pull/15038" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/15038</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1545836580' id='646521'>
<a class='timestamp' href='#646521'><time timestamp='2018-12-26T15:03:00Z'>15:03</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
fanquake: maybe a bit
<br>
</div>

<div class='talk op-msg' data-timestamp='1545836820' id='646522'>
<a class='timestamp' href='#646522'><time timestamp='2018-12-26T15:07:00Z'>15:07</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke opened pull request #15039: wallet: Avoid leaking nLockTime fingerprint when anti-fee-sniping (master...Mf1812-walletLocktimeFingerprint) <a href="https://github.com/bitcoin/bitcoin/pull/15039" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/15039</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1545836880' id='646523'>
<a class='timestamp' href='#646523'><time timestamp='2018-12-26T15:08:00Z'>15:08</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
wumpus np, bunch of PRs mergable, but can deal with em later
<br>
</div>

<div class='talk op-msg' data-timestamp='1545837180' id='646524'>
<a class='timestamp' href='#646524'><time timestamp='2018-12-26T15:13:00Z'>15:13</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
PSA: there&#x27;s no meeting today (there was confusion about this last week)
<br>
</div>

<div class='talk op-msg' data-timestamp='1545837300' id='646525'>
<a class='timestamp' href='#646525'><time timestamp='2018-12-26T15:15:00Z'>15:15</time></a>
&lt;<span class='nick nick-14'> hebasto</span>&gt;
wumpus: today is Wednesday. Do you mean tomorrow?
<br>
</div>

<div class='talk op-msg' data-timestamp='1545837480' id='646526'>
<a class='timestamp' href='#646526'><time timestamp='2018-12-26T15:18:00Z'>15:18</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
oh sorry yes I mean tomorrow
<br>
</div>

<div class='talk op-msg' data-timestamp='1545837540' id='646527'>
<a class='timestamp' href='#646527'><time timestamp='2018-12-26T15:19:00Z'>15:19</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
only Wednesday for another 41 minutes anyway
<br>
</div>

<div class='talk op-msg' data-timestamp='1545837600' id='646528'>
<a class='timestamp' href='#646528'><time timestamp='2018-12-26T15:20:00Z'>15:20</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
wumpus: no, you&#x27;re right, no meeting today!
<br>
</div>

<div class='talk op-msg' data-timestamp='1545844200' id='646529'>
<a class='timestamp' href='#646529'><time timestamp='2018-12-26T17:10:00Z'>17:10</time></a>
&lt;<span class='nick nick-8'> andytoshi</span>&gt;
are there any guarantees about the order of `getrawmempool` output? in particular do ancestors always precede descendants?
<br>
</div>

<div class='talk op-msg' data-timestamp='1545844740' id='646530'>
<a class='timestamp' href='#646530'><time timestamp='2018-12-26T17:19:00Z'>17:19</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
from my cursory reading they are indexed in 4 different ways, none of which are related to ancestors/decendants 
<br>
</div>

<div class='talk op-msg' data-timestamp='1545844800' id='646531'>
<a class='timestamp' href='#646531'><time timestamp='2018-12-26T17:20:00Z'>17:20</time></a>
&lt;<span class='nick nick-8'> andytoshi</span>&gt;
kk thanks, i won&#x27;t rely on that then
<br>
</div>

<div class='talk op-msg' data-timestamp='1545844800' id='646532'>
<a class='timestamp' href='#646532'><time timestamp='2018-12-26T17:20:00Z'>17:20</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
salted txid, feerate(including desc), entry time, and sorted feerate(including ancestor
<br>
</div>

<div class='talk op-msg' data-timestamp='1545844800' id='646533'>
<a class='timestamp' href='#646533'><time timestamp='2018-12-26T17:20:00Z'>17:20</time></a>
&lt;<span class='nick nick-8'> andytoshi</span>&gt;
i mean, somehow when creating blocks they have to wind up in ancestor order ... is there an explicit sorting step then?
<br>
</div>

<div class='talk op-msg' data-timestamp='1545844860' id='646534'>
<a class='timestamp' href='#646534'><time timestamp='2018-12-26T17:21:00Z'>17:21</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
they grab &quot;packages&quot; as they sort via package feerate
<br>
</div>

<div class='talk op-msg' data-timestamp='1545844920' id='646535'>
<a class='timestamp' href='#646535'><time timestamp='2018-12-26T17:22:00Z'>17:22</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
there are internal links between the entries, just not exposed here afaik
<br>
</div>

<div class='talk op-msg' data-timestamp='1545844920' id='646536'>
<a class='timestamp' href='#646536'><time timestamp='2018-12-26T17:22:00Z'>17:22</time></a>
&lt;<span class='nick nick-8'> andytoshi</span>&gt;
ah, yep, that makes sense
<br>
</div>

<div class='talk op-msg' data-timestamp='1545844920' id='646537'>
<a class='timestamp' href='#646537'><time timestamp='2018-12-26T17:22:00Z'>17:22</time></a>
&lt;<span class='nick nick-8'> andytoshi</span>&gt;
my goal here is to recreate the packages from the output of getrawmempool
<br>
</div>

<div class='talk op-msg' data-timestamp='1545845160' id='646538'>
<a class='timestamp' href='#646538'><time timestamp='2018-12-26T17:26:00Z'>17:26</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
andytoshi: i&#x27;m pretty sure they&#x27;re sorted by increasing total number of (recursive) unconfirmed dependencies, and then by feerate 
<br>
</div>

<div class='talk op-msg' data-timestamp='1545845160' id='646539'>
<a class='timestamp' href='#646539'><time timestamp='2018-12-26T17:26:00Z'>17:26</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and then by txid as tiebreaker or so
<br>
</div>

<div class='talk op-msg' data-timestamp='1545845160' id='646540'>
<a class='timestamp' href='#646540'><time timestamp='2018-12-26T17:26:00Z'>17:26</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
which guarantees that dependencies always come before the dependendees (?)
<br>
</div>

<div class='talk op-msg' data-timestamp='1545845220' id='646541'>
<a class='timestamp' href='#646541'><time timestamp='2018-12-26T17:27:00Z'>17:27</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that code is not shared with the block creation code, btw
<br>
</div>

<div class='talk op-msg' data-timestamp='1545845400' id='646542'>
<a class='timestamp' href='#646542'><time timestamp='2018-12-26T17:30:00Z'>17:30</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
andytoshi, also try getmempoolentry which comes with more details?
<br>
</div>

<div class='talk op-msg' data-timestamp='1545845520' id='646543'>
<a class='timestamp' href='#646543'><time timestamp='2018-12-26T17:32:00Z'>17:32</time></a>
&lt;<span class='nick nick-8'> andytoshi</span>&gt;
instagibbs: oh, yeah (or `getrawmempool true` which gives me the same details). will take a look at that to see if it&#x27;s useful. i suspect not, i think i need to manually recreate a lot of this data in my code because i need a bunch of extra details, like the set of yet-ununspent inputs/outputs for the whole package
<br>
</div>

<div class='talk op-msg' data-timestamp='1545845520' id='646544'>
<a class='timestamp' href='#646544'><time timestamp='2018-12-26T17:32:00Z'>17:32</time></a>
&lt;<span class='nick nick-8'> andytoshi</span>&gt;
sipa: cool, thanks. but i guess that&#x27;s an implementation detail and if i were to write production software that depended on it, you&#x27;d be annoyed :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1545845700' id='646545'>
<a class='timestamp' href='#646545'><time timestamp='2018-12-26T17:35:00Z'>17:35</time></a>
&lt;<span class='nick nick-8'> andytoshi</span>&gt;
i wish there was some way i could signal core that i don&#x27;t want certain outputs to be 0conf-spendable (or if they are, that i don&#x27;t want cpfp rules to be applied)
<br>
</div>

<div class='talk op-msg' data-timestamp='1545845760' id='646546'>
<a class='timestamp' href='#646546'><time timestamp='2018-12-26T17:36:00Z'>17:36</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
andytoshi: encountering the RBF pinning problem?
<br>
</div>

<div class='talk op-msg' data-timestamp='1545845820' id='646547'>
<a class='timestamp' href='#646547'><time timestamp='2018-12-26T17:37:00Z'>17:37</time></a>
&lt;<span class='nick nick-8'> andytoshi</span>&gt;
gmaxwell: roughly ... but i think it doesn&#x27;t even need RBF to be a problem .. e.g. see russell&#x27;s mailing list post <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2018-November/016519.html" class="link" target="_blank">https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2018-November/016519.html</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1545845880' id='646548'>
<a class='timestamp' href='#646548'><time timestamp='2018-12-26T17:38:00Z'>17:38</time></a>
&lt;<span class='nick nick-8'> andytoshi</span>&gt;
the issue is that if my software is making a package A of transactions and doing all sorts of CPFP logic to make that sensible, and meanwhile some customer of mine is creating a package B with a massive low-fee sweep or whatever
<br>
</div>

<div class='talk op-msg' data-timestamp='1545845880' id='646549'>
<a class='timestamp' href='#646549'><time timestamp='2018-12-26T17:38:00Z'>17:38</time></a>
&lt;<span class='nick nick-8'> andytoshi</span>&gt;
and then that customer creates a tx spending an output of A alongside the output of B...
<br>
</div>

<div class='talk op-msg' data-timestamp='1545845880' id='646550'>
<a class='timestamp' href='#646550'><time timestamp='2018-12-26T17:38:00Z'>17:38</time></a>
&lt;<span class='nick nick-8'> andytoshi</span>&gt;
...those packages become merged and suddenly my logic has been blindsided
<br>
</div>

<div class='talk op-msg' data-timestamp='1545845880' id='646551'>
<a class='timestamp' href='#646551'><time timestamp='2018-12-26T17:38:00Z'>17:38</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
that isn&#x27;t how the implementation works.
<br>
</div>

<div class='talk op-msg' data-timestamp='1545845940' id='646552'>
<a class='timestamp' href='#646552'><time timestamp='2018-12-26T17:39:00Z'>17:39</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I think Russell is like... reasoning from the feature&#x27;s name.
<br>
</div>

<div class='talk op-msg' data-timestamp='1545846000' id='646553'>
<a class='timestamp' href='#646553'><time timestamp='2018-12-26T17:40:00Z'>17:40</time></a>
&lt;<span class='nick nick-8'> andytoshi</span>&gt;
well, the code is not super straightforward to someone uninvolved with it. the mempool logic related to the descendant limit looks kinda like it would do stuff like what i described
<br>
</div>

<div class='talk op-msg' data-timestamp='1545846060' id='646554'>
<a class='timestamp' href='#646554'><time timestamp='2018-12-26T17:41:00Z'>17:41</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
The descndant limit stuff can do things along those lines, but requires actually hitting the descendant limit.
<br>
</div>

<div class='talk op-msg' data-timestamp='1545846300' id='646555'>
<a class='timestamp' href='#646555'><time timestamp='2018-12-26T17:45:00Z'>17:45</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
If the limits are getting hit by ordnary usage we should look into fixing that. They were set so they were never hit when established (except for some obviously dumb floody crap), and only exist to prevent a bad computational blowup in the tracking code.
<br>
</div>

<div class='talk op-msg' data-timestamp='1545846480' id='646556'>
<a class='timestamp' href='#646556'><time timestamp='2018-12-26T17:48:00Z'>17:48</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
one thing to note is that a single ~100kvB sweep can hose the descendant size limit pretty much
<br>
</div>

<div class='talk op-msg' data-timestamp='1545846840' id='646557'>
<a class='timestamp' href='#646557'><time timestamp='2018-12-26T17:54:00Z'>17:54</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
so fix it?
<br>
</div>

<div class='talk op-msg' data-timestamp='1545846900' id='646558'>
<a class='timestamp' href='#646558'><time timestamp='2018-12-26T17:55:00Z'>17:55</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
IIRC the reason for the size limits in the tracking is just so it doesn&#x27;t falsely credit parents for feerate coming from transactions that are never going to fit in the same block.
<br>
</div>

<div class='talk op-msg' data-timestamp='1545847200' id='646559'>
<a class='timestamp' href='#646559'><time timestamp='2018-12-26T18:00:00Z'>18:00</time></a>
&lt;<span class='nick nick-8'> andytoshi</span>&gt;
maybe i&#x27;m confused about cpfp. my understanding is that if i make a tx with outputs controlled by other people, those other people are able to grief me and undermine my ability to use cpfp
<br>
</div>

<div class='talk op-msg' data-timestamp='1545847200' id='646560'>
<a class='timestamp' href='#646560'><time timestamp='2018-12-26T18:00:00Z'>18:00</time></a>
&lt;<span class='nick nick-8'> andytoshi</span>&gt;
by extending the package such that i&#x27;d be hitting limits
<br>
</div>

<div class='talk op-msg' data-timestamp='1545847320' id='646561'>
<a class='timestamp' href='#646561'><time timestamp='2018-12-26T18:02:00Z'>18:02</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
yes, though also at the expense of delaying their own transaction confirmation.
<br>
</div>

<div class='talk op-msg' data-timestamp='1545847320' id='646562'>
<a class='timestamp' href='#646562'><time timestamp='2018-12-26T18:02:00Z'>18:02</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I don&#x27;t believe we&#x27;ve ever seen cpfp &#x27;griefing&#x27; reported.
<br>
</div>

<div class='talk op-msg' data-timestamp='1545847320' id='646563'>
<a class='timestamp' href='#646563'><time timestamp='2018-12-26T18:02:00Z'>18:02</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
RBF pinning for sure, because a common usage pattern immediately causes it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1545847440' id='646564'>
<a class='timestamp' href='#646564'><time timestamp='2018-12-26T18:04:00Z'>18:04</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
The limits exist only because there are computational overheads in the tracking, e.g. when removing a transaction its ancestors and descendants need to be walked to update their tracking.
<br>
</div>

<div class='talk op-msg' data-timestamp='1545848160' id='646565'>
<a class='timestamp' href='#646565'><time timestamp='2018-12-26T18:16:00Z'>18:16</time></a>
&lt;<span class='nick nick-8'> andytoshi</span>&gt;
sorry for the dumb questions, but can you clarify - if i&#x27;m making cpfp packages, and one of my customers 0conf spends one of the outputs i create, will their transaction pull my effective feerate toward the feerate of that tx? if so, then i need logic to reason about that, and by nature that logic needs to know about the limits (even though in practice i don&#x27;t expect anyone to pull me close to 
<br>
</div>

<div class='talk op-msg' data-timestamp='1545848160' id='646566'>
<a class='timestamp' href='#646566'><time timestamp='2018-12-26T18:16:00Z'>18:16</time></a>
&lt;<span class='nick nick-8'> andytoshi</span>&gt;
them)
<br>
</div>

<div class='talk op-msg' data-timestamp='1545848160' id='646567'>
<a class='timestamp' href='#646567'><time timestamp='2018-12-26T18:16:00Z'>18:16</time></a>
&lt;<span class='nick nick-8'> andytoshi</span>&gt;
or is it safe if i just make my own transactions that chain off each others&#x27; change outputs, and ignore everything else?
<br>
</div>

<div class='talk op-msg' data-timestamp='1545848220' id='646568'>
<a class='timestamp' href='#646568'><time timestamp='2018-12-26T18:17:00Z'>18:17</time></a>
&lt;<span class='nick nick-8'> andytoshi</span>&gt;
maybe i should just pester sipa in person in a couple of weeks :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1545848220' id='646569'>
<a class='timestamp' href='#646569'><time timestamp='2018-12-26T18:17:00Z'>18:17</time></a>
&lt;<span class='nick nick-8'> andytoshi</span>&gt;
and i will try to write down what i&#x27;m learning as i do this
<br>
</div>

<div class='talk op-msg' data-timestamp='1545848280' id='646570'>
<a class='timestamp' href='#646570'><time timestamp='2018-12-26T18:18:00Z'>18:18</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
No, it will not.
<br>
</div>

<div class='talk op-msg' data-timestamp='1545848400' id='646571'>
<a class='timestamp' href='#646571'><time timestamp='2018-12-26T18:20:00Z'>18:20</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
The parents effective feerate is the highest feerate you can construct with it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1545848400' id='646572'>
<a class='timestamp' href='#646572'><time timestamp='2018-12-26T18:20:00Z'>18:20</time></a>
&lt;<span class='nick nick-8'> andytoshi</span>&gt;
ok, i think i&#x27;ve got it
<br>
</div>

<div class='talk op-msg' data-timestamp='1545848460' id='646573'>
<a class='timestamp' href='#646573'><time timestamp='2018-12-26T18:21:00Z'>18:21</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
They can, if they spam out to the limits, prevent new descendants from being taken.
<br>
</div>

<div class='talk op-msg' data-timestamp='1545848460' id='646574'>
<a class='timestamp' href='#646574'><time timestamp='2018-12-26T18:21:00Z'>18:21</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
But thats only in the case that the tracking limits are hit.
<br>
</div>

<div class='talk op-msg' data-timestamp='1545848460' id='646575'>
<a class='timestamp' href='#646575'><time timestamp='2018-12-26T18:21:00Z'>18:21</time></a>
&lt;<span class='nick nick-8'> andytoshi</span>&gt;
so is this a rough high-level view of cpfp in core?: (a) &quot;packages&quot; only exist during miners&#x27; transaction selection; in the case that a transaction might be in multiple packages, they&#x27;re computed greedily to maximize feerate; (b) but when accepting to the mempool, Core checks whether a transaction might cause a limit-violating package to exist, and if it would, the tx is rejected
<br>
</div>

<div class='talk op-msg' data-timestamp='1545848760' id='646576'>
<a class='timestamp' href='#646576'><time timestamp='2018-12-26T18:26:00Z'>18:26</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
close enough;  the limits aren&#x27;t really limits on &#x27;packages&#x27;, they&#x27;re more limits on the tracking datastructures used to create packages.
<br>
</div>

<div class='talk op-msg' data-timestamp='1545848760' id='646577'>
<a class='timestamp' href='#646577'><time timestamp='2018-12-26T18:26:00Z'>18:26</time></a>
&lt;<span class='nick nick-8'> andytoshi</span>&gt;
yep, that&#x27;s what i meant
<br>
</div>

<div class='talk op-msg' data-timestamp='1545856020' id='646578'>
<a class='timestamp' href='#646578'><time timestamp='2018-12-26T20:27:00Z'>20:27</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] hebasto opened pull request #15040: qt: Add workaround for QProgressDialog bug on macOS (master...20181226-fix-macos-qprogressdialog) <a href="https://github.com/bitcoin/bitcoin/pull/15040" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/15040</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1545866160' id='646579'>
<a class='timestamp' href='#646579'><time timestamp='2018-12-26T23:16:00Z'>23:16</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
andytoshi: I think that&#x27;s mostly right. In (a), the miner is ordering by ancestor feerate (see BlockAssembler::addPackageTxs in miner.cpp). In (b), all of the {(ancestor|descedant) (count|size)} are taken into account (see CTxMemPool::CalculateMemPoolAncestors() in txmempool.cpp)
<br>
</div>

<div class='talk op-msg' data-timestamp='1545866280' id='646580'>
<a class='timestamp' href='#646580'><time timestamp='2018-12-26T23:18:00Z'>23:18</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
&quot;and i will try to write down what i&#x27;m learning as i do this&quot;. Please consider contributing that to <a href="https://github.com/bitcoinops/scaling-book/blob/master/1.fee_bumping/fee_bumping.md" class="link" target="_blank">https://github.com/bitcoinops/scaling-book/blob/master/1.fee_bumping/fee_bumping.md</a> if you think you can document it!
<br>
</div>

<div class='talk op-msg' data-timestamp='1545867060' id='646581'>
<a class='timestamp' href='#646581'><time timestamp='2018-12-26T23:31:00Z'>23:31</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
jnewbery: your last statement sounds confusing, and plays into roconnor&#x27;s misunderstanding.
<br>
</div>

<div class='talk op-msg' data-timestamp='1545867120' id='646582'>
<a class='timestamp' href='#646582'><time timestamp='2018-12-26T23:32:00Z'>23:32</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Basically what roconnor was thinking was that if there is an unconfirmed txn and then I add a gigantic low feerate child to it,  I lower the feerate of the txn because the &quot;package&quot; has a lower feerate.. And that is not how it works, because of the max operation in the combining.
<br>
</div>

<div class='talk op-msg' data-timestamp='1545867840' id='646583'>
<a class='timestamp' href='#646583'><time timestamp='2018-12-26T23:44:00Z'>23:44</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
(b) is not looking at feerate. Just tx count and size
<br>
</div>

</div>
</section>

</body>
</html>
