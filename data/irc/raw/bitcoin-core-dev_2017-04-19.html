<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2017-04-19
 — 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2017-04-19' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:24 UTC</pre>
<pre><a href="/bitcoin-core-dev/2017-03-19">&lt;</a><span class='header'>    April 2017    </span><a href="/bitcoin-core-dev/2017-05-19">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;                   <a class="" href="/bitcoin-core-dev/2017-04-01">1</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2017-04-02">2</a>  <a class="" href="/bitcoin-core-dev/2017-04-03">3</a>  <a class="" href="/bitcoin-core-dev/2017-04-04">4</a>  <a class="" href="/bitcoin-core-dev/2017-04-05">5</a>  <a class="" href="/bitcoin-core-dev/2017-04-06">6</a>  <a class="" href="/bitcoin-core-dev/2017-04-07">7</a>  <a class="" href="/bitcoin-core-dev/2017-04-08">8</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2017-04-09">9</a> <a class="" href="/bitcoin-core-dev/2017-04-10">10</a> <a class="" href="/bitcoin-core-dev/2017-04-11">11</a> <a class="" href="/bitcoin-core-dev/2017-04-12">12</a> <a class="" href="/bitcoin-core-dev/2017-04-13">13</a> <a class="" href="/bitcoin-core-dev/2017-04-14">14</a> <a class="" href="/bitcoin-core-dev/2017-04-15">15</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2017-04-16">16</a> <a class="" href="/bitcoin-core-dev/2017-04-17">17</a> <a class="" href="/bitcoin-core-dev/2017-04-18">18</a> <a class="current" href="/bitcoin-core-dev/2017-04-19">19</a> <a class="" href="/bitcoin-core-dev/2017-04-20">20</a> <a class="" href="/bitcoin-core-dev/2017-04-21">21</a> <a class="" href="/bitcoin-core-dev/2017-04-22">22</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2017-04-23">23</a> <a class="" href="/bitcoin-core-dev/2017-04-24">24</a> <a class="" href="/bitcoin-core-dev/2017-04-25">25</a> <a class="" href="/bitcoin-core-dev/2017-04-26">26</a> <a class="" href="/bitcoin-core-dev/2017-04-27">27</a> <a class="" href="/bitcoin-core-dev/2017-04-28">28</a> <a class="" href="/bitcoin-core-dev/2017-04-29">29</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2017-04-30">30</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1492570680' id='540664'>
<a class='timestamp' href='#540664'><time timestamp='2017-04-19T02:58:00Z'>02:58</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jimmysong opened pull request #10229: Tests: Add test for getdifficulty (master...test_getdifficulty) <a href="https://github.com/bitcoin/bitcoin/pull/10229" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10229</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1492587480' id='540665'>
<a class='timestamp' href='#540665'><time timestamp='2017-04-19T07:38:00Z'>07:38</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
git add --patch is so useful
<br>
</div>

<div class='talk op-msg' data-timestamp='1492587600' id='540666'>
<a class='timestamp' href='#540666'><time timestamp='2017-04-19T07:40:00Z'>07:40</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
it&#x27;s essential if you want to add just some changes in a file to a commit but not all. Only discovered this recently, don&#x27;t ask what hacks I was doing to accomplish that before...
<br>
</div>

<div class='talk op-msg' data-timestamp='1492587660' id='540667'>
<a class='timestamp' href='#540667'><time timestamp='2017-04-19T07:41:00Z'>07:41</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
you can also use it split existing commits
<br>
</div>

<div class='talk op-msg' data-timestamp='1492587660' id='540668'>
<a class='timestamp' href='#540668'><time timestamp='2017-04-19T07:41:00Z'>07:41</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
during a rebase, while editing a commit, use git reset HEAD~
<br>
</div>

<div class='talk op-msg' data-timestamp='1492587660' id='540669'>
<a class='timestamp' href='#540669'><time timestamp='2017-04-19T07:41:00Z'>07:41</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
then git add -p to select the changes to be in the first half
<br>
</div>

<div class='talk op-msg' data-timestamp='1492587660' id='540670'>
<a class='timestamp' href='#540670'><time timestamp='2017-04-19T07:41:00Z'>07:41</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
git commit -m first; git commit -am second
<br>
</div>

<div class='talk op-msg' data-timestamp='1492587720' id='540671'>
<a class='timestamp' href='#540671'><time timestamp='2017-04-19T07:42:00Z'>07:42</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
&#x27;git gui&#x27; can also be used for this (you can stage and unstage individual lines, even), but usually work in the console so that was kind of annoying
<br>
</div>

<div class='talk op-msg' data-timestamp='1492587720' id='540672'>
<a class='timestamp' href='#540672'><time timestamp='2017-04-19T07:42:00Z'>07:42</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
ah great
<br>
</div>

<div class='talk op-msg' data-timestamp='1492587720' id='540673'>
<a class='timestamp' href='#540673'><time timestamp='2017-04-19T07:42:00Z'>07:42</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and then git rebase --continue
<br>
</div>

<div class='talk op-msg' data-timestamp='1492588740' id='540674'>
<a class='timestamp' href='#540674'><time timestamp='2017-04-19T07:59:00Z'>07:59</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
is there anything (almost) ready for merging?
<br>
</div>

<div class='talk op-msg' data-timestamp='1492590360' id='540675'>
<a class='timestamp' href='#540675'><time timestamp='2017-04-19T08:26:00Z'>08:26</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
thought #10143 was, but needs some minor changes still
<br>
</div>

<div class='talk op-msg' data-timestamp='1492590360' id='540676'>
<a class='timestamp' href='#540676'><time timestamp='2017-04-19T08:26:00Z'>08:26</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/10143" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/10143</a> | [net] Allow disconnectnode RPC to be called with node id by jnewbery · Pull Request #10143 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1492590780' id='540677'>
<a class='timestamp' href='#540677'><time timestamp='2017-04-19T08:33:00Z'>08:33</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj closed pull request #9524: rpc: Don&#x27;t FlushStateToDisk when pruneblockchain(0) (master...Mf1701-qaPruning) <a href="https://github.com/bitcoin/bitcoin/pull/9524" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9524</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1492591320' id='540678'>
<a class='timestamp' href='#540678'><time timestamp='2017-04-19T08:42:00Z'>08:42</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
wumpus, #10226?
<br>
</div>

<div class='talk op-msg' data-timestamp='1492591320' id='540679'>
<a class='timestamp' href='#540679'><time timestamp='2017-04-19T08:42:00Z'>08:42</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/10226" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/10226</a> | wallet: Use boost to more portably ensure -wallet specifies only a filename by luke-jr · Pull Request #10226 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1492591440' id='540680'>
<a class='timestamp' href='#540680'><time timestamp='2017-04-19T08:44:00Z'>08:44</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
yes, that one is very straightforward
<br>
</div>

<div class='talk op-msg' data-timestamp='1492592100' id='540681'>
<a class='timestamp' href='#540681'><time timestamp='2017-04-19T08:55:00Z'>08:55</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/9111df9673be...64c45aada702" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/9111df9673be...64c45aada702</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1492592100' id='540682'>
<a class='timestamp' href='#540682'><time timestamp='2017-04-19T08:55:00Z'>08:55</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master a4186dd Luke Dashjr: wallet: Use boost to more portably ensure -wallet specifies only a filename
<br>
</div>

<div class='talk op-msg' data-timestamp='1492592100' id='540683'>
<a class='timestamp' href='#540683'><time timestamp='2017-04-19T08:55:00Z'>08:55</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 64c45aa Wladimir J. van der Laan: Merge #10226: wallet: Use boost to more portably ensure -wallet specifies only a filename...
<br>
</div>

<div class='talk op-msg' data-timestamp='1492592160' id='540684'>
<a class='timestamp' href='#540684'><time timestamp='2017-04-19T08:56:00Z'>08:56</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj closed pull request #10226: wallet: Use boost to more portably ensure -wallet specifies only a filename (master...refactor_wallet_pathsep) <a href="https://github.com/bitcoin/bitcoin/pull/10226" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10226</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1492593300' id='540685'>
<a class='timestamp' href='#540685'><time timestamp='2017-04-19T09:15:00Z'>09:15</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jonasschnelli pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/64c45aada702...e96486cbebc6" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/64c45aada702...e96486cbebc6</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1492593300' id='540686'>
<a class='timestamp' href='#540686'><time timestamp='2017-04-19T09:15:00Z'>09:15</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 608bbcc Matt Corallo: [qt] Stop treating coinbase outputs differently: show them at 1conf
<br>
</div>

<div class='talk op-msg' data-timestamp='1492593300' id='540687'>
<a class='timestamp' href='#540687'><time timestamp='2017-04-19T09:15:00Z'>09:15</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master e96486c Jonas Schnelli: Merge #10221: Stop treating coinbase outputs differently in GUI: show them at 1conf...
<br>
</div>

<div class='talk op-msg' data-timestamp='1492593300' id='540688'>
<a class='timestamp' href='#540688'><time timestamp='2017-04-19T09:15:00Z'>09:15</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jonasschnelli closed pull request #10221: Stop treating coinbase outputs differently in GUI: show them at 1conf (master...2017-04-no-coinbase-display-lag) <a href="https://github.com/bitcoin/bitcoin/pull/10221" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10221</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1492593660' id='540689'>
<a class='timestamp' href='#540689'><time timestamp='2017-04-19T09:21:00Z'>09:21</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Anyone has an opinion on: <a href="https://github.com/bitcoin/bitcoin/pull/9502" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9502</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1492593660' id='540690'>
<a class='timestamp' href='#540690'><time timestamp='2017-04-19T09:21:00Z'>09:21</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I think it&#x27;s useful even if there is the &quot;hidden&quot; feature of clicking the peers-statusbar-icon
<br>
</div>

<div class='talk op-msg' data-timestamp='1492597440' id='540691'>
<a class='timestamp' href='#540691'><time timestamp='2017-04-19T10:24:00Z'>10:24</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I think this is RFM: <a href="https://github.com/bitcoin/bitcoin/pull/9827" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9827</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1492597740' id='540692'>
<a class='timestamp' href='#540692'><time timestamp='2017-04-19T10:29:00Z'>10:29</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
yep, thanks
<br>
</div>

<div class='talk op-msg' data-timestamp='1492597800' id='540693'>
<a class='timestamp' href='#540693'><time timestamp='2017-04-19T10:30:00Z'>10:30</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/e96486cbebc6...c91ca0ace9bd" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/e96486cbebc6...c91ca0ace9bd</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1492597800' id='540694'>
<a class='timestamp' href='#540694'><time timestamp='2017-04-19T10:30:00Z'>10:30</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 30abce7 Russell Yanofsky: Improve ScanForWalletTransactions return value...
<br>
</div>

<div class='talk op-msg' data-timestamp='1492597800' id='540695'>
<a class='timestamp' href='#540695'><time timestamp='2017-04-19T10:30:00Z'>10:30</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master c91ca0a Wladimir J. van der Laan: Merge #9827: Improve ScanForWalletTransactions return value...
<br>
</div>

<div class='talk op-msg' data-timestamp='1492597800' id='540696'>
<a class='timestamp' href='#540696'><time timestamp='2017-04-19T10:30:00Z'>10:30</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj closed pull request #9827: Improve ScanForWalletTransactions return value (master...pr/scanret) <a href="https://github.com/bitcoin/bitcoin/pull/9827" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9827</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1492598220' id='540697'>
<a class='timestamp' href='#540697'><time timestamp='2017-04-19T10:37:00Z'>10:37</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
jonasschnelli: and yes I think it can be a useful feature
<br>
</div>

<div class='talk op-msg' data-timestamp='1492598220' id='540698'>
<a class='timestamp' href='#540698'><time timestamp='2017-04-19T10:37:00Z'>10:37</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
wumpus: Thanks for the review.
<br>
</div>

<div class='talk op-msg' data-timestamp='1492598220' id='540699'>
<a class='timestamp' href='#540699'><time timestamp='2017-04-19T10:37:00Z'>10:37</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Will fix your points soon
<br>
</div>

<div class='talk op-msg' data-timestamp='1492605060' id='540700'>
<a class='timestamp' href='#540700'><time timestamp='2017-04-19T12:31:00Z'>12:31</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
wumpus, git add -p also works line by line, in manual edit mode
<br>
</div>

<div class='talk op-msg' data-timestamp='1492605120' id='540701'>
<a class='timestamp' href='#540701'><time timestamp='2017-04-19T12:32:00Z'>12:32</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
&#x27;s&#x27; to keep splitting chunks, if not granular enough, &#x27;e&#x27; for manual editor. A bit confusing at first but description is at end.
<br>
</div>

<div class='talk op-msg' data-timestamp='1492605360' id='540702'>
<a class='timestamp' href='#540702'><time timestamp='2017-04-19T12:36:00Z'>12:36</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
instagibbs: ah :) thanks
<br>
</div>

<div class='talk op-msg' data-timestamp='1492611540' id='540703'>
<a class='timestamp' href='#540703'><time timestamp='2017-04-19T14:19:00Z'>14:19</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
sipa: re #10148: I&#x27;m still super unconvinced that multi-head is worth it. in the future optimization space of &quot;flush in chunks in the background&quot;, there is relatively little harm in requiring that mid-flush-states be in only one direction - either you&#x27;re during ibd, in which cas I&#x27;d certainly hope this is already the case, or you&#x27;re not in which case it should be relatively rare that your disk cant keep up and enforcing a 
<br>
</div>

<div class='talk op-msg' data-timestamp='1492611540' id='540704'>
<a class='timestamp' href='#540704'><time timestamp='2017-04-19T14:19:00Z'>14:19</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
fully-flushed state prior to block disconnect seems perfectly reasonable
<br>
</div>

<div class='talk op-msg' data-timestamp='1492611540' id='540705'>
<a class='timestamp' href='#540705'><time timestamp='2017-04-19T14:19:00Z'>14:19</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/10148" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/10148</a> | [WIP] Use non-atomic flushing with block replay by sipa · Pull Request #10148 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1492611540' id='540706'>
<a class='timestamp' href='#540706'><time timestamp='2017-04-19T14:19:00Z'>14:19</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
sipa: not to mention multihead is super hard to review right now since we dont even have the write side of it implemented
<br>
</div>

<div class='talk op-msg' data-timestamp='1492611600' id='540707'>
<a class='timestamp' href='#540707'><time timestamp='2017-04-19T14:20:00Z'>14:20</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
so the assumptions on the read side just seem arbitrary
<br>
</div>

<div class='talk op-msg' data-timestamp='1492611600' id='540708'>
<a class='timestamp' href='#540708'><time timestamp='2017-04-19T14:20:00Z'>14:20</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
(and complicated)
<br>
</div>

<div class='talk op-msg' data-timestamp='1492611600' id='540709'>
<a class='timestamp' href='#540709'><time timestamp='2017-04-19T14:20:00Z'>14:20</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
BlueMatt: i don&#x27;t think it&#x27;s reasonanle to require a full flush before a reorg
<br>
</div>

<div class='talk op-msg' data-timestamp='1492611660' id='540710'>
<a class='timestamp' href='#540710'><time timestamp='2017-04-19T14:21:00Z'>14:21</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
reorgs should lead to network-wide slowdowns
<br>
</div>

<div class='talk op-msg' data-timestamp='1492611660' id='540711'>
<a class='timestamp' href='#540711'><time timestamp='2017-04-19T14:21:00Z'>14:21</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and the write side is partially implemented; i&#x27;m writing a test for it now
<br>
</div>

<div class='talk op-msg' data-timestamp='1492611900' id='540712'>
<a class='timestamp' href='#540712'><time timestamp='2017-04-19T14:25:00Z'>14:25</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
sipa: why? if your node cant finish flushing its state before the next block comes in 9 times out of 10 you have no hope of staying up to date anyway
<br>
</div>

<div class='talk op-msg' data-timestamp='1492611900' id='540713'>
<a class='timestamp' href='#540713'><time timestamp='2017-04-19T14:25:00Z'>14:25</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
BlueMatt: the idea is that you&#x27;d be flushing continuously
<br>
</div>

<div class='talk op-msg' data-timestamp='1492611900' id='540714'>
<a class='timestamp' href='#540714'><time timestamp='2017-04-19T14:25:00Z'>14:25</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and never fully flush
<br>
</div>

<div class='talk op-msg' data-timestamp='1492611900' id='540715'>
<a class='timestamp' href='#540715'><time timestamp='2017-04-19T14:25:00Z'>14:25</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
sipa: why?
<br>
</div>

<div class='talk op-msg' data-timestamp='1492611900' id='540716'>
<a class='timestamp' href='#540716'><time timestamp='2017-04-19T14:25:00Z'>14:25</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
why would you want to never fully flush
<br>
</div>

<div class='talk op-msg' data-timestamp='1492611960' id='540717'>
<a class='timestamp' href='#540717'><time timestamp='2017-04-19T14:26:00Z'>14:26</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
that&#x27;d mean startup would always be painfully slow
<br>
</div>

<div class='talk op-msg' data-timestamp='1492611960' id='540718'>
<a class='timestamp' href='#540718'><time timestamp='2017-04-19T14:26:00Z'>14:26</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
because wiping your cache is retarded
<br>
</div>

<div class='talk op-msg' data-timestamp='1492611960' id='540719'>
<a class='timestamp' href='#540719'><time timestamp='2017-04-19T14:26:00Z'>14:26</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
well then dont wipe cache when you flush :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1492611960' id='540720'>
<a class='timestamp' href='#540720'><time timestamp='2017-04-19T14:26:00Z'>14:26</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
thats an orthogonal issue, i think
<br>
</div>

<div class='talk op-msg' data-timestamp='1492611960' id='540721'>
<a class='timestamp' href='#540721'><time timestamp='2017-04-19T14:26:00Z'>14:26</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it isn&#x27;t
<br>
</div>

<div class='talk op-msg' data-timestamp='1492611960' id='540722'>
<a class='timestamp' href='#540722'><time timestamp='2017-04-19T14:26:00Z'>14:26</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
if you don&#x27;t wipe when you flush, you need to flush more frequently
<br>
</div>

<div class='talk op-msg' data-timestamp='1492611960' id='540723'>
<a class='timestamp' href='#540723'><time timestamp='2017-04-19T14:26:00Z'>14:26</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and we&#x27;ve benchmarked that (before non-atomic flush)... it&#x27;s slower
<br>
</div>

<div class='talk op-msg' data-timestamp='1492611960' id='540724'>
<a class='timestamp' href='#540724'><time timestamp='2017-04-19T14:26:00Z'>14:26</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
what happened to always flushing in the background?
<br>
</div>

<div class='talk op-msg' data-timestamp='1492612020' id='540725'>
<a class='timestamp' href='#540725'><time timestamp='2017-04-19T14:27:00Z'>14:27</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
we&#x27;re already flushing outside of normal block connection
<br>
</div>

<div class='talk op-msg' data-timestamp='1492612020' id='540726'>
<a class='timestamp' href='#540726'><time timestamp='2017-04-19T14:27:00Z'>14:27</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it&#x27;s still just more CPU to not wipe your cache
<br>
</div>

<div class='talk op-msg' data-timestamp='1492612080' id='540727'>
<a class='timestamp' href='#540727'><time timestamp='2017-04-19T14:28:00Z'>14:28</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
sipa: at the very least this is an unnecessarily complicated optimization for right now
<br>
</div>

<div class='talk op-msg' data-timestamp='1492612080' id='540728'>
<a class='timestamp' href='#540728'><time timestamp='2017-04-19T14:28:00Z'>14:28</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
(again, before non-atomic)
<br>
</div>

<div class='talk op-msg' data-timestamp='1492612080' id='540729'>
<a class='timestamp' href='#540729'><time timestamp='2017-04-19T14:28:00Z'>14:28</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
this code is difficult to reason about with high certainty and i think BlueMatt is right that multi-head really compounds that
<br>
</div>

<div class='talk op-msg' data-timestamp='1492612080' id='540730'>
<a class='timestamp' href='#540730'><time timestamp='2017-04-19T14:28:00Z'>14:28</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
If we decide we need it later, we can discuss it then... 
<br>
</div>

<div class='talk op-msg' data-timestamp='1492612140' id='540731'>
<a class='timestamp' href='#540731'><time timestamp='2017-04-19T14:29:00Z'>14:29</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
morcos: i think both the test code i&#x27;m writing and the recovery code would he hardly any simpler without it
<br>
</div>

<div class='talk op-msg' data-timestamp='1492612140' id='540732'>
<a class='timestamp' href='#540732'><time timestamp='2017-04-19T14:29:00Z'>14:29</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it still needs to be able to deal with reorgs, just not multi-headed ones
<br>
</div>

<div class='talk op-msg' data-timestamp='1492612140' id='540733'>
<a class='timestamp' href='#540733'><time timestamp='2017-04-19T14:29:00Z'>14:29</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
Ideally I think we would do #10195 first and not make that contingent on 10148 (w or w/o multihead)
<br>
</div>

<div class='talk op-msg' data-timestamp='1492612140' id='540734'>
<a class='timestamp' href='#540734'><time timestamp='2017-04-19T14:29:00Z'>14:29</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/10195" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/10195</a> | Switch chainstate db and cache to per-txout model by sipa · Pull Request #10195 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1492612140' id='540735'>
<a class='timestamp' href='#540735'><time timestamp='2017-04-19T14:29:00Z'>14:29</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
oh     
<br>
</div>

<div class='talk op-msg' data-timestamp='1492612140' id='540736'>
<a class='timestamp' href='#540736'><time timestamp='2017-04-19T14:29:00Z'>14:29</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that&#x27;s certainly possible
<br>
</div>

<div class='talk op-msg' data-timestamp='1492612200' id='540737'>
<a class='timestamp' href='#540737'><time timestamp='2017-04-19T14:30:00Z'>14:30</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
the issue i see with 10148 is that it seems like a lot of complication to solve a relatively simple problem about the way leveldb flushes...   it seems to me it would make more sense to review flush/don&#x27;t erase strategies with 10195 as a first step
<br>
</div>

<div class='talk op-msg' data-timestamp='1492612200' id='540738'>
<a class='timestamp' href='#540738'><time timestamp='2017-04-19T14:30:00Z'>14:30</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
sipa: I&#x27;m more than happy to revisit multihead after per-utxo, but right now I&#x27;m super worried about the complication in it
<br>
</div>

<div class='talk op-msg' data-timestamp='1492612260' id='540739'>
<a class='timestamp' href='#540739'><time timestamp='2017-04-19T14:31:00Z'>14:31</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
BlueMatt: if i put an assert(blockhead.size() == 2), would you be happy about it?
<br>
</div>

<div class='talk op-msg' data-timestamp='1492612260' id='540740'>
<a class='timestamp' href='#540740'><time timestamp='2017-04-19T14:31:00Z'>14:31</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
maybe we eventually want to do 10148, but i&#x27;m hesitant to rework cache writiing in 2 big ways at the same time...  
<br>
</div>

<div class='talk op-msg' data-timestamp='1492612320' id='540741'>
<a class='timestamp' href='#540741'><time timestamp='2017-04-19T14:32:00Z'>14:32</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i think 10148 is much more urgent
<br>
</div>

<div class='talk op-msg' data-timestamp='1492612320' id='540742'>
<a class='timestamp' href='#540742'><time timestamp='2017-04-19T14:32:00Z'>14:32</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it dramatically changes our memory usage
<br>
</div>

<div class='talk op-msg' data-timestamp='1492612320' id='540743'>
<a class='timestamp' href='#540743'><time timestamp='2017-04-19T14:32:00Z'>14:32</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
so does 10195?
<br>
</div>

<div class='talk op-msg' data-timestamp='1492612320' id='540744'>
<a class='timestamp' href='#540744'><time timestamp='2017-04-19T14:32:00Z'>14:32</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
how so?
<br>
</div>

<div class='talk op-msg' data-timestamp='1492612320' id='540745'>
<a class='timestamp' href='#540745'><time timestamp='2017-04-19T14:32:00Z'>14:32</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
for the same cache performance you can have a much smaller cache 
<br>
</div>

<div class='talk op-msg' data-timestamp='1492612380' id='540746'>
<a class='timestamp' href='#540746'><time timestamp='2017-04-19T14:33:00Z'>14:33</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
eh, slightly
<br>
</div>

<div class='talk op-msg' data-timestamp='1492612380' id='540747'>
<a class='timestamp' href='#540747'><time timestamp='2017-04-19T14:33:00Z'>14:33</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
anyway, i&#x27;m happy to rebase 10195 without 10148
<br>
</div>

<div class='talk op-msg' data-timestamp='1492612440' id='540748'>
<a class='timestamp' href='#540748'><time timestamp='2017-04-19T14:34:00Z'>14:34</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i just assumed we&#x27;d want 10148 sooner
<br>
</div>

<div class='talk op-msg' data-timestamp='1492612440' id='540749'>
<a class='timestamp' href='#540749'><time timestamp='2017-04-19T14:34:00Z'>14:34</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
sipa: possibly I&#x27;d be ok with an assert like that, but then why have the much more complicated code in our consensus logic when we can push that review to when we actually remove the assert, right where it should be? Otherwise you have dormant code and people wont sufficiently review it when it becomes active?
<br>
</div>

<div class='talk op-msg' data-timestamp='1492612440' id='540750'>
<a class='timestamp' href='#540750'><time timestamp='2017-04-19T14:34:00Z'>14:34</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
really?  only slightly?  i haven&#x27;t tested 10195 yet, but it was my memory that a lot of the cache mem usage was taken up with dead weight from txs you bring along
<br>
</div>

<div class='talk op-msg' data-timestamp='1492612500' id='540751'>
<a class='timestamp' href='#540751'><time timestamp='2017-04-19T14:35:00Z'>14:35</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
I tend to agree that I like 10148, personally
<br>
</div>

<div class='talk op-msg' data-timestamp='1492612500' id='540752'>
<a class='timestamp' href='#540752'><time timestamp='2017-04-19T14:35:00Z'>14:35</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
i mean both, dont really care tooo much about order, just dont think we need to worry about multi-head
<br>
</div>

<div class='talk op-msg' data-timestamp='1492612500' id='540753'>
<a class='timestamp' href='#540753'><time timestamp='2017-04-19T14:35:00Z'>14:35</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
morcos: but with 10195 you get duplication instead
<br>
</div>

<div class='talk op-msg' data-timestamp='1492612500' id='540754'>
<a class='timestamp' href='#540754'><time timestamp='2017-04-19T14:35:00Z'>14:35</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
in memory?
<br>
</div>

<div class='talk op-msg' data-timestamp='1492612500' id='540755'>
<a class='timestamp' href='#540755'><time timestamp='2017-04-19T14:35:00Z'>14:35</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yes     
<br>
</div>

<div class='talk op-msg' data-timestamp='1492612500' id='540756'>
<a class='timestamp' href='#540756'><time timestamp='2017-04-19T14:35:00Z'>14:35</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
oh i havent&#x27; reveiwed 10195 yet, i was envisioning a structure without duplication
<br>
</div>

<div class='talk op-msg' data-timestamp='1492612500' id='540757'>
<a class='timestamp' href='#540757'><time timestamp='2017-04-19T14:35:00Z'>14:35</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
if multiple outputs for the same tx are in the cache, they become independent entries
<br>
</div>

<div class='talk op-msg' data-timestamp='1492612560' id='540758'>
<a class='timestamp' href='#540758'><time timestamp='2017-04-19T14:36:00Z'>14:36</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
like a multi level cache
<br>
</div>

<div class='talk op-msg' data-timestamp='1492612560' id='540759'>
<a class='timestamp' href='#540759'><time timestamp='2017-04-19T14:36:00Z'>14:36</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
we can think about that later, first switch the model to be per-txout
<br>
</div>

<div class='talk op-msg' data-timestamp='1492612560' id='540760'>
<a class='timestamp' href='#540760'><time timestamp='2017-04-19T14:36:00Z'>14:36</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
ok, well i&#x27;ll shut up until i review more... but i have to say, the complication of 10148 turns me off from getting to 10195!
<br>
</div>

<div class='talk op-msg' data-timestamp='1492612620' id='540761'>
<a class='timestamp' href='#540761'><time timestamp='2017-04-19T14:37:00Z'>14:37</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
have you seen the commit i just added to 10148?
<br>
</div>

<div class='talk op-msg' data-timestamp='1492612620' id='540762'>
<a class='timestamp' href='#540762'><time timestamp='2017-04-19T14:37:00Z'>14:37</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
well, yesterdat
<br>
</div>

<div class='talk op-msg' data-timestamp='1492612620' id='540763'>
<a class='timestamp' href='#540763'><time timestamp='2017-04-19T14:37:00Z'>14:37</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
Yes...  And the part that is confusing is the Multiple reorganizations
<br>
</div>

<div class='talk op-msg' data-timestamp='1492612620' id='540764'>
<a class='timestamp' href='#540764'><time timestamp='2017-04-19T14:37:00Z'>14:37</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
Thats still not clear to me exactly what scenario you guys are envisioning that results in that
<br>
</div>

<div class='talk op-msg' data-timestamp='1492612680' id='540765'>
<a class='timestamp' href='#540765'><time timestamp='2017-04-19T14:38:00Z'>14:38</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
frankly, we only have 2.5 months before 0.15 feature freeze, and we&#x27;re gonna get in half of what people are PRing these days
<br>
</div>

<div class='talk op-msg' data-timestamp='1492612680' id='540766'>
<a class='timestamp' href='#540766'><time timestamp='2017-04-19T14:38:00Z'>14:38</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
multiple reorgs, with partial flushing
<br>
</div>

<div class='talk op-msg' data-timestamp='1492612680' id='540767'>
<a class='timestamp' href='#540767'><time timestamp='2017-04-19T14:38:00Z'>14:38</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
the rest of that comment is very good though
<br>
</div>

<div class='talk op-msg' data-timestamp='1492612680' id='540768'>
<a class='timestamp' href='#540768'><time timestamp='2017-04-19T14:38:00Z'>14:38</time></a>
&lt;<span class='nick nick-16'> * BlueMatt</span>&gt;
is entirely unconvinced thats a thing we need to ever worry about
<br>
</div>

<div class='talk op-msg' data-timestamp='1492612740' id='540769'>
<a class='timestamp' href='#540769'><time timestamp='2017-04-19T14:39:00Z'>14:39</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
unless we never fully flush, but if we never fully flush startup will /always/ be painfully slow
<br>
</div>

<div class='talk op-msg' data-timestamp='1492612740' id='540770'>
<a class='timestamp' href='#540770'><time timestamp='2017-04-19T14:39:00Z'>14:39</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
which i also dont think is acceptable
<br>
</div>

<div class='talk op-msg' data-timestamp='1492612740' id='540771'>
<a class='timestamp' href='#540771'><time timestamp='2017-04-19T14:39:00Z'>14:39</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
how so?
<br>
</div>

<div class='talk op-msg' data-timestamp='1492612740' id='540772'>
<a class='timestamp' href='#540772'><time timestamp='2017-04-19T14:39:00Z'>14:39</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it would just lag a few blocks behind
<br>
</div>

<div class='talk op-msg' data-timestamp='1492612800' id='540773'>
<a class='timestamp' href='#540773'><time timestamp='2017-04-19T14:40:00Z'>14:40</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
how would it only be a few blocks behind?
<br>
</div>

<div class='talk op-msg' data-timestamp='1492612800' id='540774'>
<a class='timestamp' href='#540774'><time timestamp='2017-04-19T14:40:00Z'>14:40</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
at least it&#x27;s configurable... during IBD it could lag behind more
<br>
</div>

<div class='talk op-msg' data-timestamp='1492612800' id='540775'>
<a class='timestamp' href='#540775'><time timestamp='2017-04-19T14:40:00Z'>14:40</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
during ibd you only need single-head, though, I think
<br>
</div>

<div class='talk op-msg' data-timestamp='1492612800' id='540776'>
<a class='timestamp' href='#540776'><time timestamp='2017-04-19T14:40:00Z'>14:40</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
it should be pretty much all serial
<br>
</div>

<div class='talk op-msg' data-timestamp='1492612860' id='540777'>
<a class='timestamp' href='#540777'><time timestamp='2017-04-19T14:41:00Z'>14:41</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sure, but i don&#x27;t want two separate recovery algorithms
<br>
</div>

<div class='talk op-msg' data-timestamp='1492612860' id='540778'>
<a class='timestamp' href='#540778'><time timestamp='2017-04-19T14:41:00Z'>14:41</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
huh?
<br>
</div>

<div class='talk op-msg' data-timestamp='1492612860' id='540779'>
<a class='timestamp' href='#540779'><time timestamp='2017-04-19T14:41:00Z'>14:41</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
I just think its too many steps at once...   Matt and Suhas are trying to explain to me what the series of events that happens here is and I just don&#x27;t understand
<br>
</div>

<div class='talk op-msg' data-timestamp='1492612860' id='540780'>
<a class='timestamp' href='#540780'><time timestamp='2017-04-19T14:41:00Z'>14:41</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
sipa: I&#x27;m saying never support recovery of multiple reorgs at once
<br>
</div>

<div class='talk op-msg' data-timestamp='1492612920' id='540781'>
<a class='timestamp' href='#540781'><time timestamp='2017-04-19T14:42:00Z'>14:42</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
BlueMatt: it&#x27;s maybe 5 lines less code!
<br>
</div>

<div class='talk op-msg' data-timestamp='1492612920' id='540782'>
<a class='timestamp' href='#540782'><time timestamp='2017-04-19T14:42:00Z'>14:42</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
instead of rolling back from one branch, you roll back from all of them
<br>
</div>

<div class='talk op-msg' data-timestamp='1492612920' id='540783'>
<a class='timestamp' href='#540783'><time timestamp='2017-04-19T14:42:00Z'>14:42</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
I don&#x27;t understand what a partial flush is
<br>
</div>

<div class='talk op-msg' data-timestamp='1492612920' id='540784'>
<a class='timestamp' href='#540784'><time timestamp='2017-04-19T14:42:00Z'>14:42</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
morcos: write some of the entries in your cache to disk
<br>
</div>

<div class='talk op-msg' data-timestamp='1492612920' id='540785'>
<a class='timestamp' href='#540785'><time timestamp='2017-04-19T14:42:00Z'>14:42</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
instead of all
<br>
</div>

<div class='talk op-msg' data-timestamp='1492612920' id='540786'>
<a class='timestamp' href='#540786'><time timestamp='2017-04-19T14:42:00Z'>14:42</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
And then what?
<br>
</div>

<div class='talk op-msg' data-timestamp='1492612920' id='540787'>
<a class='timestamp' href='#540787'><time timestamp='2017-04-19T14:42:00Z'>14:42</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
and then...thats it?
<br>
</div>

<div class='talk op-msg' data-timestamp='1492612920' id='540788'>
<a class='timestamp' href='#540788'><time timestamp='2017-04-19T14:42:00Z'>14:42</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
continue
<br>
</div>

<div class='talk op-msg' data-timestamp='1492612980' id='540789'>
<a class='timestamp' href='#540789'><time timestamp='2017-04-19T14:43:00Z'>14:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
you&#x27;re running out of memory, pick a few dirty entries in the cache, and write those to disk
<br>
</div>

<div class='talk op-msg' data-timestamp='1492612980' id='540790'>
<a class='timestamp' href='#540790'><time timestamp='2017-04-19T14:43:00Z'>14:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and perhaps delete a few non-dirty entries
<br>
</div>

<div class='talk op-msg' data-timestamp='1492612980' id='540791'>
<a class='timestamp' href='#540791'><time timestamp='2017-04-19T14:43:00Z'>14:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and continue
<br>
</div>

<div class='talk op-msg' data-timestamp='1492612980' id='540792'>
<a class='timestamp' href='#540792'><time timestamp='2017-04-19T14:43:00Z'>14:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
there are tons of tweaks and analysis possible to find good strategies
<br>
</div>

<div class='talk op-msg' data-timestamp='1492612980' id='540793'>
<a class='timestamp' href='#540793'><time timestamp='2017-04-19T14:43:00Z'>14:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but non-atomic flushing makes all of it safe
<br>
</div>

<div class='talk op-msg' data-timestamp='1492612980' id='540794'>
<a class='timestamp' href='#540794'><time timestamp='2017-04-19T14:43:00Z'>14:43</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
sipa: but 20 more edge cases in consensus code, 30 more lines of comments to explain why its ok. the previous stuff was very reviewable, now its super tricky unless we /also/ implement the write side (I know you said you have that, but can we leave that for a separate pr?)
<br>
</div>

<div class='talk op-msg' data-timestamp='1492613040' id='540795'>
<a class='timestamp' href='#540795'><time timestamp='2017-04-19T14:44:00Z'>14:44</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
So while you are writing those entries, no one else is modifying the cache...  but then you give up the lock before you&#x27;ve flushed the whole cache, so then when people modify the cache more..  ok i guess  i get it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1492613040' id='540796'>
<a class='timestamp' href='#540796'><time timestamp='2017-04-19T14:44:00Z'>14:44</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
But why can&#x27;t we save that for a later &quot;improvement&quot; , why is it necessary now?
<br>
</div>

<div class='talk op-msg' data-timestamp='1492613040' id='540797'>
<a class='timestamp' href='#540797'><time timestamp='2017-04-19T14:44:00Z'>14:44</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
morcos: because the algorithm is the same
<br>
</div>

<div class='talk op-msg' data-timestamp='1492613040' id='540798'>
<a class='timestamp' href='#540798'><time timestamp='2017-04-19T14:44:00Z'>14:44</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
can we just put an assert in it, that forces it to be the simple case?
<br>
</div>

<div class='talk op-msg' data-timestamp='1492613100' id='540799'>
<a class='timestamp' href='#540799'><time timestamp='2017-04-19T14:45:00Z'>14:45</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
so you can review it assuming it only needs to deal with the simple case
<br>
</div>

<div class='talk op-msg' data-timestamp='1492613100' id='540800'>
<a class='timestamp' href='#540800'><time timestamp='2017-04-19T14:45:00Z'>14:45</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
What am I missing, why do you want to have the code there if we are not using it?
<br>
</div>

<div class='talk op-msg' data-timestamp='1492613100' id='540801'>
<a class='timestamp' href='#540801'><time timestamp='2017-04-19T14:45:00Z'>14:45</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it&#x27;s 5 lines...
<br>
</div>

<div class='talk op-msg' data-timestamp='1492613100' id='540802'>
<a class='timestamp' href='#540802'><time timestamp='2017-04-19T14:45:00Z'>14:45</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yes, i can remove it
<br>
</div>

<div class='talk op-msg' data-timestamp='1492613220' id='540803'>
<a class='timestamp' href='#540803'><time timestamp='2017-04-19T14:47:00Z'>14:47</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but it&#x27;s nice to at least have the database format support multihead, so it&#x27;s not yet another backward compatible upgrade that needs upgrade
<br>
</div>

<div class='talk op-msg' data-timestamp='1492613220' id='540804'>
<a class='timestamp' href='#540804'><time timestamp='2017-04-19T14:47:00Z'>14:47</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
hardly? just means you cant downgrade after an unclear shutdown?
<br>
</div>

<div class='talk op-msg' data-timestamp='1492613220' id='540805'>
<a class='timestamp' href='#540805'><time timestamp='2017-04-19T14:47:00Z'>14:47</time></a>
&lt;<span class='nick nick-16'> * BlueMatt</span>&gt;
is much less concerned about that
<br>
</div>

<div class='talk op-msg' data-timestamp='1492613220' id='540806'>
<a class='timestamp' href='#540806'><time timestamp='2017-04-19T14:47:00Z'>14:47</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
plus new code that needs to deal with the old case
<br>
</div>

<div class='talk op-msg' data-timestamp='1492613220' id='540807'>
<a class='timestamp' href='#540807'><time timestamp='2017-04-19T14:47:00Z'>14:47</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
but maybe others are?
<br>
</div>

<div class='talk op-msg' data-timestamp='1492613220' id='540808'>
<a class='timestamp' href='#540808'><time timestamp='2017-04-19T14:47:00Z'>14:47</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
you can still downgrade with a -reindex-chainstate!
<br>
</div>

<div class='talk op-msg' data-timestamp='1492613220' id='540809'>
<a class='timestamp' href='#540809'><time timestamp='2017-04-19T14:47:00Z'>14:47</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ok...
<br>
</div>

<div class='talk op-msg' data-timestamp='1492613340' id='540810'>
<a class='timestamp' href='#540810'><time timestamp='2017-04-19T14:49:00Z'>14:49</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
would you be fine with a database format that just has a record saying &quot;rollback block X, rollforward block Y, rollback block Z&quot;, and the recovery code literally follows those steps?
<br>
</div>

<div class='talk op-msg' data-timestamp='1492613340' id='540811'>
<a class='timestamp' href='#540811'><time timestamp='2017-04-19T14:49:00Z'>14:49</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
actually, that&#x27;s pretty complicated on the write side
<br>
</div>

<div class='talk op-msg' data-timestamp='1492613400' id='540812'>
<a class='timestamp' href='#540812'><time timestamp='2017-04-19T14:50:00Z'>14:50</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
possibly, though the &quot;might have had stuff from a future branch way down the line partially flushed&quot; stuff just makes it harder to review consensus-critical crap
<br>
</div>

<div class='talk op-msg' data-timestamp='1492613460' id='540813'>
<a class='timestamp' href='#540813'><time timestamp='2017-04-19T14:51:00Z'>14:51</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sigh, ok, i&#x27;ll try to simplify the code as much as possible to only deal with a single reorg
<br>
</div>

<div class='talk op-msg' data-timestamp='1492613460' id='540814'>
<a class='timestamp' href='#540814'><time timestamp='2017-04-19T14:51:00Z'>14:51</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
sipa: i&#x27;m not sure that your approach is wrong..  i think its just a lot to hit someone all at once in thinking about it
<br>
</div>

<div class='talk op-msg' data-timestamp='1492613460' id='540815'>
<a class='timestamp' href='#540815'><time timestamp='2017-04-19T14:51:00Z'>14:51</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
morcos: fair enough
<br>
</div>

<div class='talk op-msg' data-timestamp='1492613460' id='540816'>
<a class='timestamp' href='#540816'><time timestamp='2017-04-19T14:51:00Z'>14:51</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
sipa: thanks, now lets get this all merged for 0.14 =D
<br>
</div>

<div class='talk op-msg' data-timestamp='1492613460' id='540817'>
<a class='timestamp' href='#540817'><time timestamp='2017-04-19T14:51:00Z'>14:51</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
ehh, 15
<br>
</div>

<div class='talk op-msg' data-timestamp='1492613460' id='540818'>
<a class='timestamp' href='#540818'><time timestamp='2017-04-19T14:51:00Z'>14:51</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
you might be right that it is a more elegant approach if you have this end goal in mind down the road
<br>
</div>

<div class='talk op-msg' data-timestamp='1492613520' id='540819'>
<a class='timestamp' href='#540819'><time timestamp='2017-04-19T14:52:00Z'>14:52</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
but we&#x27;re stuck trying to recreate the logical progression you went through to end up there
<br>
</div>

<div class='talk op-msg' data-timestamp='1492613520' id='540820'>
<a class='timestamp' href='#540820'><time timestamp='2017-04-19T14:52:00Z'>14:52</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
understood
<br>
</div>

<div class='talk op-msg' data-timestamp='1492613520' id='540821'>
<a class='timestamp' href='#540821'><time timestamp='2017-04-19T14:52:00Z'>14:52</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
sipa: did you ever test the performance of flush-without-wiping with a per-utxo model?
<br>
</div>

<div class='talk op-msg' data-timestamp='1492613520' id='540822'>
<a class='timestamp' href='#540822'><time timestamp='2017-04-19T14:52:00Z'>14:52</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
that said... i&#x27;m getting more comfortable with it after hashing it out a bit
<br>
</div>

<div class='talk op-msg' data-timestamp='1492613580' id='540823'>
<a class='timestamp' href='#540823'><time timestamp='2017-04-19T14:53:00Z'>14:53</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sdaftuar: i haven&#x27;t
<br>
</div>

<div class='talk op-msg' data-timestamp='1492614120' id='540824'>
<a class='timestamp' href='#540824'><time timestamp='2017-04-19T15:02:00Z'>15:02</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
sipa: another simple improvement would be to instead of having a 2.0x factor for cache memory usage to just track usage =  all cache usage + dirty coins usage
<br>
</div>

<div class='talk op-msg' data-timestamp='1492614120' id='540825'>
<a class='timestamp' href='#540825'><time timestamp='2017-04-19T15:02:00Z'>15:02</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
morcos: i really hope that the non-atomic flushing after simplifying will be simple enough to be reviewed
<br>
</div>

<div class='talk op-msg' data-timestamp='1492615440' id='540826'>
<a class='timestamp' href='#540826'><time timestamp='2017-04-19T15:24:00Z'>15:24</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
wumpus: i think #9942 is ready for merge
<br>
</div>

<div class='talk op-msg' data-timestamp='1492615440' id='540827'>
<a class='timestamp' href='#540827'><time timestamp='2017-04-19T15:24:00Z'>15:24</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/9942" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/9942</a> | Refactor CBlockPolicyEstimator by morcos · Pull Request #9942 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1492615440' id='540828'>
<a class='timestamp' href='#540828'><time timestamp='2017-04-19T15:24:00Z'>15:24</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jet0 opened pull request #10230: Merge pull request #1 from bitcoin/master (master...freeze) <a href="https://github.com/bitcoin/bitcoin/pull/10230" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10230</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1492615500' id='540829'>
<a class='timestamp' href='#540829'><time timestamp='2017-04-19T15:25:00Z'>15:25</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jet0 closed pull request #10230: Merge pull request #1 from bitcoin/master (master...freeze) <a href="https://github.com/bitcoin/bitcoin/pull/10230" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10230</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1492615860' id='540830'>
<a class='timestamp' href='#540830'><time timestamp='2017-04-19T15:31:00Z'>15:31</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I have significant freezes in the GUI with current master catching up a couple of days on mainnet..
<br>
</div>

<div class='talk op-msg' data-timestamp='1492615980' id='540831'>
<a class='timestamp' href='#540831'><time timestamp='2017-04-19T15:33:00Z'>15:33</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I think this was re-introduced with <a href="https://github.com/bitcoin/bitcoin/pull/9583" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9583</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1492615980' id='540832'>
<a class='timestamp' href='#540832'><time timestamp='2017-04-19T15:33:00Z'>15:33</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Although not sure...
<br>
</div>

<div class='talk op-msg' data-timestamp='1492616040' id='540833'>
<a class='timestamp' href='#540833'><time timestamp='2017-04-19T15:34:00Z'>15:34</time></a>
&lt;<span class='nick nick-14'> Lauda</span>&gt;
^happens to me occasionally in 0.14.0
<br>
</div>

<div class='talk op-msg' data-timestamp='1492616160' id='540834'>
<a class='timestamp' href='#540834'><time timestamp='2017-04-19T15:36:00Z'>15:36</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
jonasschnelli: great! review #10179 :p
<br>
</div>

<div class='talk op-msg' data-timestamp='1492616160' id='540835'>
<a class='timestamp' href='#540835'><time timestamp='2017-04-19T15:36:00Z'>15:36</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/10179" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/10179</a> | Give CValidationInterface Support for calling notifications on the CScheduler Thread by TheBlueMatt · Pull Request #10179 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1492616280' id='540836'>
<a class='timestamp' href='#540836'><time timestamp='2017-04-19T15:38:00Z'>15:38</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
BlueMatt: Oh... I totally forgot that one.. thanks. Will try.
<br>
</div>

<div class='talk op-msg' data-timestamp='1492616460' id='540837'>
<a class='timestamp' href='#540837'><time timestamp='2017-04-19T15:41:00Z'>15:41</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
jonasschnelli: that doesnt do anything by itself
<br>
</div>

<div class='talk op-msg' data-timestamp='1492616460' id='540838'>
<a class='timestamp' href='#540838'><time timestamp='2017-04-19T15:41:00Z'>15:41</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
the real change is the pr after it
<br>
</div>

<div class='talk op-msg' data-timestamp='1492616460' id='540839'>
<a class='timestamp' href='#540839'><time timestamp='2017-04-19T15:41:00Z'>15:41</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
but its blocking :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1492616460' id='540840'>
<a class='timestamp' href='#540840'><time timestamp='2017-04-19T15:41:00Z'>15:41</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Okay... thanks.
<br>
</div>

<div class='talk op-msg' data-timestamp='1492616460' id='540841'>
<a class='timestamp' href='#540841'><time timestamp='2017-04-19T15:41:00Z'>15:41</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I think the freezes i face are caused by something different then the 9583
<br>
</div>

<div class='talk op-msg' data-timestamp='1492616580' id='540842'>
<a class='timestamp' href='#540842'><time timestamp='2017-04-19T15:43:00Z'>15:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
BlueMatt: ha, blocking.
<br>
</div>

<div class='talk op-msg' data-timestamp='1492616640' id='540843'>
<a class='timestamp' href='#540843'><time timestamp='2017-04-19T15:44:00Z'>15:44</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
lol     
<br>
</div>

<div class='talk op-msg' data-timestamp='1492616700' id='540844'>
<a class='timestamp' href='#540844'><time timestamp='2017-04-19T15:45:00Z'>15:45</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
jonasschnelli: you may still wish to test my branch which is based on that (<a href="https://github.com/TheBlueMatt/bitcoin/tree/2017-01-wallet-cache-inmempool-4" class="link" target="_blank">https://github.com/TheBlueMatt/bitcoin/tree/2017-01-wallet-cache-inmempool-4</a>, I think, though i believe travis didnt like it last time, i need to go back and fix it prior to pring it)
<br>
</div>

<div class='talk op-msg' data-timestamp='1492616700' id='540845'>
<a class='timestamp' href='#540845'><time timestamp='2017-04-19T15:45:00Z'>15:45</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
would be good feedback if it is faster :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1492616760' id='540846'>
<a class='timestamp' href='#540846'><time timestamp='2017-04-19T15:46:00Z'>15:46</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
BlueMatt: Yes. I&#x27;ll give it a try and a review once I have tracked the current freeze down
<br>
</div>

<div class='talk op-msg' data-timestamp='1492616760' id='540847'>
<a class='timestamp' href='#540847'><time timestamp='2017-04-19T15:46:00Z'>15:46</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
*tracked down the current freeze
<br>
</div>

<div class='talk op-msg' data-timestamp='1492617120' id='540848'>
<a class='timestamp' href='#540848'><time timestamp='2017-04-19T15:52:00Z'>15:52</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
jonasschnelli: <a href="https://github.com/bitcoin/bitcoin/issues/10209#issuecomment-295311664" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/10209#issuecomment-295311664</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1492617120' id='540849'>
<a class='timestamp' href='#540849'><time timestamp='2017-04-19T15:52:00Z'>15:52</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
$10 says it&#x27;s that :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1492617180' id='540850'>
<a class='timestamp' href='#540850'><time timestamp='2017-04-19T15:53:00Z'>15:53</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
cfields: But don&#x27;t I need <a href="https://github.com/bitcoin/bitcoin/issues/10228" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/10228</a>?
<br>
</div>

<div class='talk op-msg' data-timestamp='1492617180' id='540851'>
<a class='timestamp' href='#540851'><time timestamp='2017-04-19T15:53:00Z'>15:53</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
jonasschnelli: 10228 just keeps it from happening in the future. Problem is that your bitcoin-config.h is busted atm
<br>
</div>

<div class='talk op-msg' data-timestamp='1492617240' id='540852'>
<a class='timestamp' href='#540852'><time timestamp='2017-04-19T15:54:00Z'>15:54</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
(i strongly suspect, anyway)
<br>
</div>

<div class='talk op-msg' data-timestamp='1492617240' id='540853'>
<a class='timestamp' href='#540853'><time timestamp='2017-04-19T15:54:00Z'>15:54</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
ah... I see. That seams reasonable...
<br>
</div>

<div class='talk op-msg' data-timestamp='1492617300' id='540854'>
<a class='timestamp' href='#540854'><time timestamp='2017-04-19T15:55:00Z'>15:55</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
jonasschnelli: specifically MSG_DONTWAIT. Are you seeing a warning about it when you build?
<br>
</div>

<div class='talk op-msg' data-timestamp='1492617300' id='540855'>
<a class='timestamp' href='#540855'><time timestamp='2017-04-19T15:55:00Z'>15:55</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
oh.. maybe. :|
<br>
</div>

<div class='talk op-msg' data-timestamp='1492617300' id='540856'>
<a class='timestamp' href='#540856'><time timestamp='2017-04-19T15:55:00Z'>15:55</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
if so, this is your problem, and autogen will fix you right up.
<br>
</div>

<div class='talk op-msg' data-timestamp='1492617900' id='540857'>
<a class='timestamp' href='#540857'><time timestamp='2017-04-19T16:05:00Z'>16:05</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jonasschnelli opened pull request #10231: [Qt] Reduce a significant cs_main lock freeze (master...2017/04/qt_freeze) <a href="https://github.com/bitcoin/bitcoin/pull/10231" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10231</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1492618080' id='540858'>
<a class='timestamp' href='#540858'><time timestamp='2017-04-19T16:08:00Z'>16:08</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
jonasschnelli: why not subscribe to UpdatedBlockTip() and cache it there?
<br>
</div>

<div class='talk op-msg' data-timestamp='1492618440' id='540859'>
<a class='timestamp' href='#540859'><time timestamp='2017-04-19T16:14:00Z'>16:14</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
cfields: IMO we don&#x27;t have a signal that covers the bestheader (not bestblock)
<br>
</div>

<div class='talk op-msg' data-timestamp='1492618500' id='540860'>
<a class='timestamp' href='#540860'><time timestamp='2017-04-19T16:15:00Z'>16:15</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
ermm... we have NotifyHeaderTip
<br>
</div>

<div class='talk op-msg' data-timestamp='1492618560' id='540861'>
<a class='timestamp' href='#540861'><time timestamp='2017-04-19T16:16:00Z'>16:16</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
cfields: Do you think it would be preferable to cache it in the GUI clientmodel instead of the core validation part (validation.cpp)?
<br>
</div>

<div class='talk op-msg' data-timestamp='1492618560' id='540862'>
<a class='timestamp' href='#540862'><time timestamp='2017-04-19T16:16:00Z'>16:16</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
jonasschnelli: heh, I just grepped to the same conclusion :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1492618620' id='540863'>
<a class='timestamp' href='#540863'><time timestamp='2017-04-19T16:17:00Z'>16:17</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
cfields: Yes. I could cache it in &quot;static void BlockTipChanged(ClientModel *clientmodel, bool initialSync, const CBlockIndex *pIndex, bool fHeader)&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1492618620' id='540864'>
<a class='timestamp' href='#540864'><time timestamp='2017-04-19T16:17:00Z'>16:17</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
when fHeader == true
<br>
</div>

<div class='talk op-msg' data-timestamp='1492618620' id='540865'>
<a class='timestamp' href='#540865'><time timestamp='2017-04-19T16:17:00Z'>16:17</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
jonasschnelli: i think it makes sense for each subsystem to maintain their own view of those things, yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1492618620' id='540866'>
<a class='timestamp' href='#540866'><time timestamp='2017-04-19T16:17:00Z'>16:17</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Yes. Let me change this... I don&#x27;t think there are valid use cases outside the GUI
<br>
</div>

<div class='talk op-msg' data-timestamp='1492618620' id='540867'>
<a class='timestamp' href='#540867'><time timestamp='2017-04-19T16:17:00Z'>16:17</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
(not sure everyone would agree with that, but that&#x27;s the direction we&#x27;ve been moving in)
<br>
</div>

<div class='talk op-msg' data-timestamp='1492618680' id='540868'>
<a class='timestamp' href='#540868'><time timestamp='2017-04-19T16:18:00Z'>16:18</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
cfields: indeed.
<br>
</div>

<div class='talk op-msg' data-timestamp='1492618740' id='540869'>
<a class='timestamp' href='#540869'><time timestamp='2017-04-19T16:19:00Z'>16:19</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
jonasschnelli: the exception obviously being if you need atomic access to a few locally cached things, in which case you have to be careful to keep everything in sync. But if it&#x27;s just for the gui, I think caching it there makes sense.
<br>
</div>

<div class='talk op-msg' data-timestamp='1492618800' id='540870'>
<a class='timestamp' href='#540870'><time timestamp='2017-04-19T16:20:00Z'>16:20</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Yes. Right... i&#x27;ll change the PR
<br>
</div>

<div class='talk op-msg' data-timestamp='1492619820' id='540871'>
<a class='timestamp' href='#540871'><time timestamp='2017-04-19T16:37:00Z'>16:37</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
jonasschnelli: any reason we can&#x27;t do the same thing for the other cs_main takers in there?
<br>
</div>

<div class='talk op-msg' data-timestamp='1492619820' id='540872'>
<a class='timestamp' href='#540872'><time timestamp='2017-04-19T16:37:00Z'>16:37</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
cfields: Yes. We should do similar things there... i&#x27;ll have a look
<br>
</div>

<div class='talk op-msg' data-timestamp='1492619820' id='540873'>
<a class='timestamp' href='#540873'><time timestamp='2017-04-19T16:37:00Z'>16:37</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
(adding new ui events, i mean)
<br>
</div>

<div class='talk op-msg' data-timestamp='1492619940' id='540874'>
<a class='timestamp' href='#540874'><time timestamp='2017-04-19T16:39:00Z'>16:39</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
jonasschnelli: great :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1492620120' id='540875'>
<a class='timestamp' href='#540875'><time timestamp='2017-04-19T16:42:00Z'>16:42</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
Here is my attempt at a high level description of the current fee estimation algorithm.
<br>
</div>

<div class='talk op-msg' data-timestamp='1492620120' id='540876'>
<a class='timestamp' href='#540876'><time timestamp='2017-04-19T16:42:00Z'>16:42</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
<a href="https://gist.github.com/morcos/d3637f015bc4e607e1fd10d8351e9f41" class="link" target="_blank">https://gist.github.com/morcos/d3637f015bc4e607e1fd10d8351e9f41</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1492620120' id='540877'>
<a class='timestamp' href='#540877'><time timestamp='2017-04-19T16:42:00Z'>16:42</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
gmaxwell: Please let me know if ^ is what you had in mind
<br>
</div>

<div class='talk op-msg' data-timestamp='1492620180' id='540878'>
<a class='timestamp' href='#540878'><time timestamp='2017-04-19T16:43:00Z'>16:43</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
I thought it best to explain the basic concept of how it currently works without getting into the changes yet
<br>
</div>

<div class='talk op-msg' data-timestamp='1492620360' id='540879'>
<a class='timestamp' href='#540879'><time timestamp='2017-04-19T16:46:00Z'>16:46</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] luke-jr opened pull request #10232: release-notes: Accurately explain getblocktemplate improvements (0.14...0.14_relnotes_mining) <a href="https://github.com/bitcoin/bitcoin/pull/10232" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10232</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1492620540' id='540880'>
<a class='timestamp' href='#540880'><time timestamp='2017-04-19T16:49:00Z'>16:49</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
morcos: very clear
<br>
</div>

<div class='talk op-msg' data-timestamp='1492620600' id='540881'>
<a class='timestamp' href='#540881'><time timestamp='2017-04-19T16:50:00Z'>16:50</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jet0 opened pull request #10233: Wallet: Support not reusing addresses (master...freezea) <a href="https://github.com/bitcoin/bitcoin/pull/10233" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10233</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1492620720' id='540882'>
<a class='timestamp' href='#540882'><time timestamp='2017-04-19T16:52:00Z'>16:52</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
sipa: heh, had a bug in it though!
<br>
</div>

<div class='talk op-msg' data-timestamp='1492621140' id='540883'>
<a class='timestamp' href='#540883'><time timestamp='2017-04-19T16:59:00Z'>16:59</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jnewbery opened pull request #10234: [net] listbanned RPC and QT should show correct banned subnets (master...list_banned_correctly) <a href="https://github.com/bitcoin/bitcoin/pull/10234" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10234</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1492621980' id='540884'>
<a class='timestamp' href='#540884'><time timestamp='2017-04-19T17:13:00Z'>17:13</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
BlueMatt, morcos, sdaftuar: i hope it&#x27;s easier to review now
<br>
</div>

<div class='talk op-msg' data-timestamp='1492621980' id='540885'>
<a class='timestamp' href='#540885'><time timestamp='2017-04-19T17:13:00Z'>17:13</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] TheBlueMatt opened pull request #10235: Track keypool entries as internal vs external in memory (master...2017-04-wallet-more-keypool-cache) <a href="https://github.com/bitcoin/bitcoin/pull/10235" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10235</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1492621980' id='540886'>
<a class='timestamp' href='#540886'><time timestamp='2017-04-19T17:13:00Z'>17:13</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i&#x27;ll leave the WIP marker in until I had a test for the reorganization
<br>
</div>

<div class='talk op-msg' data-timestamp='1492621980' id='540887'>
<a class='timestamp' href='#540887'><time timestamp='2017-04-19T17:13:00Z'>17:13</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
sipa: thanks, i&#x27;m taking a look
<br>
</div>

<div class='talk op-msg' data-timestamp='1492621980' id='540888'>
<a class='timestamp' href='#540888'><time timestamp='2017-04-19T17:13:00Z'>17:13</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
sipa: thanks, will review
<br>
</div>

<div class='talk op-msg' data-timestamp='1492622040' id='540889'>
<a class='timestamp' href='#540889'><time timestamp='2017-04-19T17:14:00Z'>17:14</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
BlueMatt: re: <a href="https://github.com/bitcoin/bitcoin/pull/10184#issuecomment-295350649" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10184#issuecomment-295350649</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1492622040' id='540890'>
<a class='timestamp' href='#540890'><time timestamp='2017-04-19T17:14:00Z'>17:14</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Yes. Makse sense..
<br>
</div>

<div class='talk op-msg' data-timestamp='1492622100' id='540891'>
<a class='timestamp' href='#540891'><time timestamp='2017-04-19T17:15:00Z'>17:15</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
though the argument of &quot;little money&quot; is dangerous.. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1492622100' id='540892'>
<a class='timestamp' href='#540892'><time timestamp='2017-04-19T17:15:00Z'>17:15</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sdaftuar, BlueMatt: thank you
<br>
</div>

<div class='talk op-msg' data-timestamp='1492622100' id='540893'>
<a class='timestamp' href='#540893'><time timestamp='2017-04-19T17:15:00Z'>17:15</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Years back some of us probably had little money on VPS&#x27;s which now has worth a six digit number. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1492622100' id='540894'>
<a class='timestamp' href='#540894'><time timestamp='2017-04-19T17:15:00Z'>17:15</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
And while you move your keys away from your VPS,... there is no guarantee they where not compromised..
<br>
</div>

<div class='talk op-msg' data-timestamp='1492622160' id='540895'>
<a class='timestamp' href='#540895'><time timestamp='2017-04-19T17:16:00Z'>17:16</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
the security requirements can change over time and most people won&#x27;t sweep the funds to a new address
<br>
</div>

<div class='talk op-msg' data-timestamp='1492622160' id='540896'>
<a class='timestamp' href='#540896'><time timestamp='2017-04-19T17:16:00Z'>17:16</time></a>
&lt;<span class='nick nick-4'> * sipa</span>&gt;
remembers the linode hack
<br>
</div>

<div class='talk op-msg' data-timestamp='1492622160' id='540897'>
<a class='timestamp' href='#540897'><time timestamp='2017-04-19T17:16:00Z'>17:16</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but agree that there is not argument why it shouldn&#x27;t work
<br>
</div>

<div class='talk op-msg' data-timestamp='1492622160' id='540898'>
<a class='timestamp' href='#540898'><time timestamp='2017-04-19T17:16:00Z'>17:16</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
But I know... i also run nodes on external root servers and sometimes,.. they have a some test mainnet coins
<br>
</div>

<div class='talk op-msg' data-timestamp='1492622220' id='540899'>
<a class='timestamp' href='#540899'><time timestamp='2017-04-19T17:17:00Z'>17:17</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
jonasschnelli: I&#x27;m not saying its a <b>*good*</b> idea, just that if people want to do it we shouldnt try to break it
<br>
</div>

<div class='talk op-msg' data-timestamp='1492622220' id='540900'>
<a class='timestamp' href='#540900'><time timestamp='2017-04-19T17:17:00Z'>17:17</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
new key creation performance has been horrible for ages
<br>
</div>

<div class='talk op-msg' data-timestamp='1492622220' id='540901'>
<a class='timestamp' href='#540901'><time timestamp='2017-04-19T17:17:00Z'>17:17</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
(some people buy insurance, too :p)
<br>
</div>

<div class='talk op-msg' data-timestamp='1492622220' id='540902'>
<a class='timestamp' href='#540902'><time timestamp='2017-04-19T17:17:00Z'>17:17</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
we should improve that when we can, period
<br>
</div>

<div class='talk op-msg' data-timestamp='1492622280' id='540903'>
<a class='timestamp' href='#540903'><time timestamp='2017-04-19T17:18:00Z'>17:18</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Yes. Sure... I just in general think it&#x27;s good to show some critical respons whenever someone mentions AWS or Azure. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1492622280' id='540904'>
<a class='timestamp' href='#540904'><time timestamp='2017-04-19T17:18:00Z'>17:18</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
fair
<br>
</div>

<div class='talk op-msg' data-timestamp='1492622280' id='540905'>
<a class='timestamp' href='#540905'><time timestamp='2017-04-19T17:18:00Z'>17:18</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
btw     
<br>
</div>

<div class='talk op-msg' data-timestamp='1492622280' id='540906'>
<a class='timestamp' href='#540906'><time timestamp='2017-04-19T17:18:00Z'>17:18</time></a>
&lt;<span class='nick nick-4'> * sipa</span>&gt;
had a bitcoind with wallet on a vps, and its money was stolen
<br>
</div>

<div class='talk op-msg' data-timestamp='1492622280' id='540907'>
<a class='timestamp' href='#540907'><time timestamp='2017-04-19T17:18:00Z'>17:18</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
see! :-)
<br>
</div>

<div class='talk op-msg' data-timestamp='1492622280' id='540908'>
<a class='timestamp' href='#540908'><time timestamp='2017-04-19T17:18:00Z'>17:18</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
lol     
<br>
</div>

<div class='talk op-msg' data-timestamp='1492622340' id='540909'>
<a class='timestamp' href='#540909'><time timestamp='2017-04-19T17:19:00Z'>17:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
though i do consider that my own damned fault
<br>
</div>

<div class='talk op-msg' data-timestamp='1492622340' id='540910'>
<a class='timestamp' href='#540910'><time timestamp='2017-04-19T17:19:00Z'>17:19</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
so it even happens to core devs. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1492624860' id='540911'>
<a class='timestamp' href='#540911'><time timestamp='2017-04-19T18:01:00Z'>18:01</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
BlueMatt:  I don&#x27;t understand your complaint about multiple head. It&#x27;s strictly safer than not having it. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1492624920' id='540912'>
<a class='timestamp' href='#540912'><time timestamp='2017-04-19T18:02:00Z'>18:02</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I agree it will be easier to reason about the effects of multi-head after were&#x27;re per-txout, and I expect we won&#x27;t make intentional use of it until then.
<br>
</div>

<div class='talk op-msg' data-timestamp='1492625040' id='540913'>
<a class='timestamp' href='#540913'><time timestamp='2017-04-19T18:04:00Z'>18:04</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: multi-head is only needed once we do multiple partial flushes
<br>
</div>

<div class='talk op-msg' data-timestamp='1492625100' id='540914'>
<a class='timestamp' href='#540914'><time timestamp='2017-04-19T18:05:00Z'>18:05</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: we <b>*do*</b> need reorg support immediately, but not necessarily support for multiple reorgs at once
<br>
</div>

<div class='talk op-msg' data-timestamp='1492625220' id='540915'>
<a class='timestamp' href='#540915'><time timestamp='2017-04-19T18:07:00Z'>18:07</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
gmaxwell: I&#x27;m happy to re-review post-per-utxo
<br>
</div>

<div class='talk op-msg' data-timestamp='1492625280' id='540916'>
<a class='timestamp' href='#540916'><time timestamp='2017-04-19T18:08:00Z'>18:08</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
but right now the review burden is high, and I&#x27;m not convinced of its usefulness unless we actually have a write side that we&#x27;re gonna merge :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1492625340' id='540917'>
<a class='timestamp' href='#540917'><time timestamp='2017-04-19T18:09:00Z'>18:09</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
BlueMatt: well the advantage would be not breaking backward compatibility
<br>
</div>

<div class='talk op-msg' data-timestamp='1492625340' id='540918'>
<a class='timestamp' href='#540918'><time timestamp='2017-04-19T18:09:00Z'>18:09</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but per-txout will break that anyway
<br>
</div>

<div class='talk op-msg' data-timestamp='1492625340' id='540919'>
<a class='timestamp' href='#540919'><time timestamp='2017-04-19T18:09:00Z'>18:09</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
yes, also not sold on that :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1492625340' id='540920'>
<a class='timestamp' href='#540920'><time timestamp='2017-04-19T18:09:00Z'>18:09</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
indeed
<br>
</div>

<div class='talk op-msg' data-timestamp='1492625340' id='540921'>
<a class='timestamp' href='#540921'><time timestamp='2017-04-19T18:09:00Z'>18:09</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
the same code fixes reorgs to that, the extra stuff that does things for multi-head is just a no-op otherwise.
<br>
</div>

<div class='talk op-msg' data-timestamp='1492625400' id='540922'>
<a class='timestamp' href='#540922'><time timestamp='2017-04-19T18:10:00Z'>18:10</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
gmaxwell: can we not have no-ops in consensus-critical logic?
<br>
</div>

<div class='talk op-msg' data-timestamp='1492625460' id='540923'>
<a class='timestamp' href='#540923'><time timestamp='2017-04-19T18:11:00Z'>18:11</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
so then if there is some corner case we should corrupt the state rather than just handling it?
<br>
</div>

<div class='talk op-msg' data-timestamp='1492625520' id='540924'>
<a class='timestamp' href='#540924'><time timestamp='2017-04-19T18:12:00Z'>18:12</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: there is no way we can now end up in a situation that needs multi-head support
<br>
</div>

<div class='talk op-msg' data-timestamp='1492625520' id='540925'>
<a class='timestamp' href='#540925'><time timestamp='2017-04-19T18:12:00Z'>18:12</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
unless there is a bug in the code, and in that case it&#x27;s unlikely the multi-head code actually does the right thing
<br>
</div>

<div class='talk op-msg' data-timestamp='1492625640' id='540926'>
<a class='timestamp' href='#540926'><time timestamp='2017-04-19T18:14:00Z'>18:14</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
my reason for having it in the first place was because i don&#x27;t consider it much more complicated, so it&#x27;s easier to get it in now than changing it again later
<br>
</div>

<div class='talk op-msg' data-timestamp='1492625640' id='540927'>
<a class='timestamp' href='#540927'><time timestamp='2017-04-19T18:14:00Z'>18:14</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but it seems people disagree it&#x27;s easy to understand
<br>
</div>

<div class='talk op-msg' data-timestamp='1492627740' id='540928'>
<a class='timestamp' href='#540928'><time timestamp='2017-04-19T18:49:00Z'>18:49</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
wumpus: might make sense to backport #10207
<br>
</div>

<div class='talk op-msg' data-timestamp='1492627740' id='540929'>
<a class='timestamp' href='#540929'><time timestamp='2017-04-19T18:49:00Z'>18:49</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/10207" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/10207</a> | Clarify importprivkey help text ... example of blank label without rescan by wtogami · Pull Request #10207 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1492628280' id='540930'>
<a class='timestamp' href='#540930'><time timestamp='2017-04-19T18:58:00Z'>18:58</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
why is abortrescan not allowed in safe mode?
<br>
</div>

<div class='talk op-msg' data-timestamp='1492628280' id='540931'>
<a class='timestamp' href='#540931'><time timestamp='2017-04-19T18:58:00Z'>18:58</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
lol     
<br>
</div>

<div class='talk op-msg' data-timestamp='1492628820' id='540932'>
<a class='timestamp' href='#540932'><time timestamp='2017-04-19T19:07:00Z'>19:07</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
luke-jr: heh... is that already merged?
<br>
</div>

<div class='talk op-msg' data-timestamp='1492628820' id='540933'>
<a class='timestamp' href='#540933'><time timestamp='2017-04-19T19:07:00Z'>19:07</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
seems so
<br>
</div>

<div class='talk op-msg' data-timestamp='1492631760' id='540934'>
<a class='timestamp' href='#540934'><time timestamp='2017-04-19T19:56:00Z'>19:56</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
Travis jobs are randomly cancelling?
<br>
</div>

<div class='talk op-msg' data-timestamp='1492632240' id='540935'>
<a class='timestamp' href='#540935'><time timestamp='2017-04-19T20:04:00Z'>20:04</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
luke-jr: they do that automagically if you force push before they run now
<br>
</div>

<div class='talk op-msg' data-timestamp='1492632420' id='540936'>
<a class='timestamp' href='#540936'><time timestamp='2017-04-19T20:07:00Z'>20:07</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
BlueMatt: it doesn&#x27;t <b>*look*</b> like jonasschnelli is force-pushing on #10231
<br>
</div>

<div class='talk op-msg' data-timestamp='1492632420' id='540937'>
<a class='timestamp' href='#540937'><time timestamp='2017-04-19T20:07:00Z'>20:07</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/10231" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/10231</a> | [Qt] Reduce a significant cs_main lock freeze by jonasschnelli · Pull Request #10231 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1492632420' id='540938'>
<a class='timestamp' href='#540938'><time timestamp='2017-04-19T20:07:00Z'>20:07</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
luke-jr: oh, then i dont know
<br>
</div>

<div class='talk op-msg' data-timestamp='1492632420' id='540939'>
<a class='timestamp' href='#540939'><time timestamp='2017-04-19T20:07:00Z'>20:07</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
i think people can also manually cancel their own jobs
<br>
</div>

<div class='talk op-msg' data-timestamp='1492632420' id='540940'>
<a class='timestamp' href='#540940'><time timestamp='2017-04-19T20:07:00Z'>20:07</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
maybe someone hit it on accident
<br>
</div>

<div class='talk op-msg' data-timestamp='1492632480' id='540941'>
<a class='timestamp' href='#540941'><time timestamp='2017-04-19T20:08:00Z'>20:08</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
hmm     
<br>
</div>

</div>
</section>

</body>
</html>
