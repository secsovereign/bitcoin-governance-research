<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2019-07-25
 — 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2019-07-25' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:19 UTC</pre>
<pre><a href="/bitcoin-core-dev/2019-06-25">&lt;</a><span class='header'>    July 2019     </span><a href="/bitcoin-core-dev/2019-08-25">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;    <a class="" href="/bitcoin-core-dev/2019-07-01">1</a>  <a class="" href="/bitcoin-core-dev/2019-07-02">2</a>  <a class="" href="/bitcoin-core-dev/2019-07-03">3</a>  <a class="" href="/bitcoin-core-dev/2019-07-04">4</a>  <a class="" href="/bitcoin-core-dev/2019-07-05">5</a>  <a class="" href="/bitcoin-core-dev/2019-07-06">6</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2019-07-07">7</a>  <a class="" href="/bitcoin-core-dev/2019-07-08">8</a>  <a class="" href="/bitcoin-core-dev/2019-07-09">9</a> <a class="" href="/bitcoin-core-dev/2019-07-10">10</a> <a class="" href="/bitcoin-core-dev/2019-07-11">11</a> <a class="" href="/bitcoin-core-dev/2019-07-12">12</a> <a class="" href="/bitcoin-core-dev/2019-07-13">13</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2019-07-14">14</a> <a class="" href="/bitcoin-core-dev/2019-07-15">15</a> <a class="" href="/bitcoin-core-dev/2019-07-16">16</a> <a class="" href="/bitcoin-core-dev/2019-07-17">17</a> <a class="" href="/bitcoin-core-dev/2019-07-18">18</a> <a class="" href="/bitcoin-core-dev/2019-07-19">19</a> <a class="" href="/bitcoin-core-dev/2019-07-20">20</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2019-07-21">21</a> <a class="" href="/bitcoin-core-dev/2019-07-22">22</a> <a class="" href="/bitcoin-core-dev/2019-07-23">23</a> <a class="" href="/bitcoin-core-dev/2019-07-24">24</a> <a class="current" href="/bitcoin-core-dev/2019-07-25">25</a> <a class="" href="/bitcoin-core-dev/2019-07-26">26</a> <a class="" href="/bitcoin-core-dev/2019-07-27">27</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2019-07-28">28</a> <a class="" href="/bitcoin-core-dev/2019-07-29">29</a> <a class="" href="/bitcoin-core-dev/2019-07-30">30</a> <a class="" href="/bitcoin-core-dev/2019-07-31">31</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1564015080' id='673274'>
<a class='timestamp' href='#673274'><time timestamp='2019-07-25T00:38:00Z'>00:38</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
cfields: Would you be able to put the 10.14 macOS SDK up onto bitcoincore.org, or wherever Travis pulls the current SDK from?
<br>
</div>

<div class='talk op-msg' data-timestamp='1564015140' id='673275'>
<a class='timestamp' href='#673275'><time timestamp='2019-07-25T00:39:00Z'>00:39</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
It&#x27;s blocking Travis in #16392.
<br>
</div>

<div class='talk op-msg' data-timestamp='1564015140' id='673276'>
<a class='timestamp' href='#673276'><time timestamp='2019-07-25T00:39:00Z'>00:39</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/16392" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/16392</a> | WIP build: macOS toolchain update by fanquake · Pull Request #16392 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1564016700' id='673277'>
<a class='timestamp' href='#673277'><time timestamp='2019-07-25T01:05:00Z'>01:05</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] fanquake pushed 3 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/d960d5ca99b7...d5a54ce8f0cf" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/d960d5ca99b7...d5a54ce8f0cf</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1564016700' id='673278'>
<a class='timestamp' href='#673278'><time timestamp='2019-07-25T01:05:00Z'>01:05</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 4433ed0 Suhas Daftuar: [validation] Crash if disconnecting a block fails
<br>
</div>

<div class='talk op-msg' data-timestamp='1564016700' id='673279'>
<a class='timestamp' href='#673279'><time timestamp='2019-07-25T01:05:00Z'>01:05</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master a47df13 Suhas Daftuar: [qa] Test disconnect block failure -&gt; shutdown
<br>
</div>

<div class='talk op-msg' data-timestamp='1564016700' id='673280'>
<a class='timestamp' href='#673280'><time timestamp='2019-07-25T01:05:00Z'>01:05</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master d5a54ce fanquake: Merge #15305: [validation] Crash if disconnecting a block fails
<br>
</div>

<div class='talk op-msg' data-timestamp='1564016760' id='673281'>
<a class='timestamp' href='#673281'><time timestamp='2019-07-25T01:06:00Z'>01:06</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] fanquake merged pull request #15305: [validation] Crash if disconnecting a block fails (master...2019-01-disconnect-failure-shutdown) <a href="https://github.com/bitcoin/bitcoin/pull/15305" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/15305</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1564019040' id='673282'>
<a class='timestamp' href='#673282'><time timestamp='2019-07-25T01:44:00Z'>01:44</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] fanquake pushed 2 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/d5a54ce8f0cf...fe001925f803" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/d5a54ce8f0cf...fe001925f803</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1564019040' id='673283'>
<a class='timestamp' href='#673283'><time timestamp='2019-07-25T01:44:00Z'>01:44</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 77773ed MarcoFalke: doc: Remove downgrading warning in release notes, per 0.18 branch
<br>
</div>

<div class='talk op-msg' data-timestamp='1564019040' id='673284'>
<a class='timestamp' href='#673284'><time timestamp='2019-07-25T01:44:00Z'>01:44</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master fe00192 fanquake: Merge #16455: doc: Remove downgrading warning in release notes, per 0.18 b...
<br>
</div>

<div class='talk op-msg' data-timestamp='1564019100' id='673285'>
<a class='timestamp' href='#673285'><time timestamp='2019-07-25T01:45:00Z'>01:45</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] fanquake merged pull request #16455: doc: Remove downgrading warning in release notes, per 0.18 branch (master...1907-docReleaseNotes) <a href="https://github.com/bitcoin/bitcoin/pull/16455" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/16455</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1564054800' id='673286'>
<a class='timestamp' href='#673286'><time timestamp='2019-07-25T11:40:00Z'>11:40</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
MarcoFalke: feature_block.py failed now for the second time in 24h in master (in my CI): <a href="https://bitcoinbuilds.org/index.php?ansilog=2ff386f7-798c-4f9a-8233-dc62978cb175.log#l7076" class="link" target="_blank">https://bitcoinbuilds.org/index.php?ansilog=2ff386f7-798c-4f9a-8233-dc62978cb175.log#l7076</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1564054800' id='673287'>
<a class='timestamp' href='#673287'><time timestamp='2019-07-25T11:40:00Z'>11:40</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
any ideas?
<br>
</div>

<div class='talk op-msg' data-timestamp='1564064340' id='673288'>
<a class='timestamp' href='#673288'><time timestamp='2019-07-25T14:19:00Z'>14:19</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] Chunbao opened pull request #16457: test (0.18...master) <a href="https://github.com/bitcoin/bitcoin/pull/16457" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/16457</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1564064400' id='673289'>
<a class='timestamp' href='#673289'><time timestamp='2019-07-25T14:20:00Z'>14:20</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] fanquake closed pull request #16457: test (0.18...master) <a href="https://github.com/bitcoin/bitcoin/pull/16457" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/16457</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1564066020' id='673290'>
<a class='timestamp' href='#673290'><time timestamp='2019-07-25T14:47:00Z'>14:47</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] Chunbao opened pull request #16458: Fix msvc compiler error C4146 (unary minus operator applied to unsign… (0.17...fix-C4146-in-util-test) <a href="https://github.com/bitcoin/bitcoin/pull/16458" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/16458</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1564068660' id='673291'>
<a class='timestamp' href='#673291'><time timestamp='2019-07-25T15:31:00Z'>15:31</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] sdaftuar opened pull request #16459: [qa] Fix race condition in example_test.py (master...2019-07-fix-example-test) <a href="https://github.com/bitcoin/bitcoin/pull/16459" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/16459</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1564068660' id='673292'>
<a class='timestamp' href='#673292'><time timestamp='2019-07-25T15:31:00Z'>15:31</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] Chunbao opened pull request #16460: 0.17my (0.17...master) <a href="https://github.com/bitcoin/bitcoin/pull/16460" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/16460</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1564068780' id='673293'>
<a class='timestamp' href='#673293'><time timestamp='2019-07-25T15:33:00Z'>15:33</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] fanquake closed pull request #16460: 0.17my (0.17...master) <a href="https://github.com/bitcoin/bitcoin/pull/16460" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/16460</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1564069740' id='673294'>
<a class='timestamp' href='#673294'><time timestamp='2019-07-25T15:49:00Z'>15:49</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] promag opened pull request #16461: doc: Fix code example in developer notes (master...2019-07-fix-devnotes) <a href="https://github.com/bitcoin/bitcoin/pull/16461" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/16461</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1564069920' id='673295'>
<a class='timestamp' href='#673295'><time timestamp='2019-07-25T15:52:00Z'>15:52</time></a>
&lt;<span class='nick nick-7'> sdaftuar_</span>&gt;
jonasschnelli: that is a very strange failure. it looks like the test is trying to construct a 1000000byte block to test p2sh sigop counting, but somehow in your test failure the block was 1000001 bytes, which is why it broke
<br>
</div>

<div class='talk op-msg' data-timestamp='1564069920' id='673296'>
<a class='timestamp' href='#673296'><time timestamp='2019-07-25T15:52:00Z'>15:52</time></a>
&lt;<span class='nick nick-7'> sdaftuar_</span>&gt;
jonasschnelli: maybe there is some non-determinism in the test that we need to track down
<br>
</div>

<div class='talk op-msg' data-timestamp='1564071300' id='673297'>
<a class='timestamp' href='#673297'><time timestamp='2019-07-25T16:15:00Z'>16:15</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] Chunbao opened pull request #16462: jjjj (0.17...0.18) <a href="https://github.com/bitcoin/bitcoin/pull/16462" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/16462</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1564071300' id='673298'>
<a class='timestamp' href='#673298'><time timestamp='2019-07-25T16:15:00Z'>16:15</time></a>
&lt;<span class='nick nick-5'> emilengler</span>&gt;
Hi, what was still the name of the channel where pull requests were being discussed every thursday?
<br>
</div>

<div class='talk op-msg' data-timestamp='1564071360' id='673299'>
<a class='timestamp' href='#673299'><time timestamp='2019-07-25T16:16:00Z'>16:16</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj closed pull request #16462: jjjj (0.17...0.18) <a href="https://github.com/bitcoin/bitcoin/pull/16462" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/16462</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1564073700' id='673300'>
<a class='timestamp' href='#673300'><time timestamp='2019-07-25T16:55:00Z'>16:55</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke pushed 2 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/fe001925f803...fcc4025c1255" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/fe001925f803...fcc4025c1255</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1564073700' id='673301'>
<a class='timestamp' href='#673301'><time timestamp='2019-07-25T16:55:00Z'>16:55</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master d9ab0ff Suhas Daftuar: [qa] Fix race condition in example_test.py
<br>
</div>

<div class='talk op-msg' data-timestamp='1564073700' id='673302'>
<a class='timestamp' href='#673302'><time timestamp='2019-07-25T16:55:00Z'>16:55</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master fcc4025 MarcoFalke: Merge #16459: [qa] Fix race condition in example_test.py
<br>
</div>

<div class='talk op-msg' data-timestamp='1564073760' id='673303'>
<a class='timestamp' href='#673303'><time timestamp='2019-07-25T16:56:00Z'>16:56</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke merged pull request #16459: [qa] Fix race condition in example_test.py (master...2019-07-fix-example-test) <a href="https://github.com/bitcoin/bitcoin/pull/16459" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/16459</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1564074360' id='673304'>
<a class='timestamp' href='#673304'><time timestamp='2019-07-25T17:06:00Z'>17:06</time></a>
&lt;<span class='nick nick-11'> moneyball</span>&gt;
emilengler: there is a weekly PR review club on wednesdays. IRC channel and other info found here <a href="https://bitcoin-core-review-club.github.io/" class="link" target="_blank">https://bitcoin-core-review-club.github.io/</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1564074360' id='673305'>
<a class='timestamp' href='#673305'><time timestamp='2019-07-25T17:06:00Z'>17:06</time></a>
&lt;<span class='nick nick-5'> emilengler</span>&gt;
moneyball, Thank you
<br>
</div>

<div class='talk op-msg' data-timestamp='1564076700' id='673306'>
<a class='timestamp' href='#673306'><time timestamp='2019-07-25T17:45:00Z'>17:45</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] achow101 opened pull request #16463: [BIP 174] Implement serialization support for GLOBAL_XPUB field. (master...bip174-xpub) <a href="https://github.com/bitcoin/bitcoin/pull/16463" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/16463</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1564077660' id='673307'>
<a class='timestamp' href='#673307'><time timestamp='2019-07-25T18:01:00Z'>18:01</time></a>
&lt;<span class='nick nick-7'> jnewbery_</span>&gt;
Does anyone know the probabilities of 70 or 69 byte signatures? Is it always 1/2n of the number of bytes under 73?
<br>
</div>

<div class='talk op-msg' data-timestamp='1564078200' id='673308'>
<a class='timestamp' href='#673308'><time timestamp='2019-07-25T18:10:00Z'>18:10</time></a>
&lt;<span class='nick nick-5'> harding</span>&gt;
jnewbery_: I think 73 -&gt; 72 is a special case (because an extra byte is added if the value is over 0x80).  For anything below 72, there would have to be a 0x00 byte in order for it to be implicit, so the odds are 1/256 per each byte fewer.  So 70 bytes or fewer would be (1/2 * 1/256 * 1/256).  I&#x27;m not confident about this, though.
<br>
</div>

<div class='talk op-msg' data-timestamp='1564078620' id='673309'>
<a class='timestamp' href='#673309'><time timestamp='2019-07-25T18:17:00Z'>18:17</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sdaftuar_: re block test: looks like. It&#x27;s happening sometimes...
<br>
</div>

<div class='talk op-msg' data-timestamp='1564078620' id='673310'>
<a class='timestamp' href='#673310'><time timestamp='2019-07-25T18:17:00Z'>18:17</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jnewbery_: with low-r grinding?
<br>
</div>

<div class='talk op-msg' data-timestamp='1564078620' id='673311'>
<a class='timestamp' href='#673311'><time timestamp='2019-07-25T18:17:00Z'>18:17</time></a>
&lt;<span class='nick nick-7'> sdaftuar_</span>&gt;
jonasschnelli: i think i found the problem
<br>
</div>

<div class='talk op-msg' data-timestamp='1564078680' id='673312'>
<a class='timestamp' href='#673312'><time timestamp='2019-07-25T18:18:00Z'>18:18</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sdaftuar_: nice! What is it?
<br>
</div>

<div class='talk op-msg' data-timestamp='1564078680' id='673313'>
<a class='timestamp' href='#673313'><time timestamp='2019-07-25T18:18:00Z'>18:18</time></a>
&lt;<span class='nick nick-7'> sdaftuar_</span>&gt;
there&#x27;s non-determinism in the length of the signature in the first transaction of the block (b39) used in the first p2sh sigops test
<br>
</div>

<div class='talk op-msg' data-timestamp='1564078680' id='673314'>
<a class='timestamp' href='#673314'><time timestamp='2019-07-25T18:18:00Z'>18:18</time></a>
&lt;<span class='nick nick-7'> sdaftuar_</span>&gt;
combined with a bug in the way the block size is measured in the loop, we can accidentally make too big a block if the first transaction has a too-small signature
<br>
</div>

<div class='talk op-msg' data-timestamp='1564078740' id='673315'>
<a class='timestamp' href='#673315'><time timestamp='2019-07-25T18:19:00Z'>18:19</time></a>
&lt;<span class='nick nick-7'> sdaftuar_</span>&gt;
i&#x27;ve got a simple fix, i think, which i&#x27;m verifying
<br>
</div>

<div class='talk op-msg' data-timestamp='1564078740' id='673316'>
<a class='timestamp' href='#673316'><time timestamp='2019-07-25T18:19:00Z'>18:19</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Cool! Thanks for fixing it sdaftuar_.
<br>
</div>

<div class='talk op-msg' data-timestamp='1564078740' id='673317'>
<a class='timestamp' href='#673317'><time timestamp='2019-07-25T18:19:00Z'>18:19</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
So it should have also happend in travis
<br>
</div>

<div class='talk op-msg' data-timestamp='1564078740' id='673318'>
<a class='timestamp' href='#673318'><time timestamp='2019-07-25T18:19:00Z'>18:19</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
(it probably did)
<br>
</div>

<div class='talk op-msg' data-timestamp='1564078800' id='673319'>
<a class='timestamp' href='#673319'><time timestamp='2019-07-25T18:20:00Z'>18:20</time></a>
&lt;<span class='nick nick-7'> sdaftuar_</span>&gt;
yeah that&#x27;s what motivated john&#x27;s question, we were trying to figure out what the likelihood of this happening is
<br>
</div>

<div class='talk op-msg' data-timestamp='1564078800' id='673320'>
<a class='timestamp' href='#673320'><time timestamp='2019-07-25T18:20:00Z'>18:20</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
i see
<br>
</div>

<div class='talk op-msg' data-timestamp='1564078800' id='673321'>
<a class='timestamp' href='#673321'><time timestamp='2019-07-25T18:20:00Z'>18:20</time></a>
&lt;<span class='nick nick-7'> sdaftuar_</span>&gt;
i suspect the likelihood went up after we switched to using a new secp256k1 implementation for our python test suite?
<br>
</div>

<div class='talk op-msg' data-timestamp='1564078800' id='673322'>
<a class='timestamp' href='#673322'><time timestamp='2019-07-25T18:20:00Z'>18:20</time></a>
&lt;<span class='nick nick-7'> sdaftuar_</span>&gt;
sipa: ^^ does that make sense to you?
<br>
</div>

<div class='talk op-msg' data-timestamp='1564078980' id='673323'>
<a class='timestamp' href='#673323'><time timestamp='2019-07-25T18:23:00Z'>18:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sdaftuar_: the python EC code doesn&#x27;t do low-r grinding, so it&#x27;d be around a 50% chance for 71 byte sigs and 50% for 72 byte sigs (including the sighash byte)
<br>
</div>

<div class='talk op-msg' data-timestamp='1564078980' id='673324'>
<a class='timestamp' href='#673324'><time timestamp='2019-07-25T18:23:00Z'>18:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and a tiny probability for 70 bytes and below
<br>
</div>

<div class='talk op-msg' data-timestamp='1564079580' id='673325'>
<a class='timestamp' href='#673325'><time timestamp='2019-07-25T18:33:00Z'>18:33</time></a>
&lt;<span class='nick nick-5'> emilengler</span>&gt;
In which file/function the inital blockchain download is being started?
<br>
</div>

<div class='talk op-msg' data-timestamp='1564079700' id='673326'>
<a class='timestamp' href='#673326'><time timestamp='2019-07-25T18:35:00Z'>18:35</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
emilengler: PeerValidationLogic::SendMessages(CNode* pto) in src/net_processing.cpp
<br>
</div>

<div class='talk op-msg' data-timestamp='1564079700' id='673327'>
<a class='timestamp' href='#673327'><time timestamp='2019-07-25T18:35:00Z'>18:35</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
specifically under the comment &quot;// Start block sync&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1564079880' id='673328'>
<a class='timestamp' href='#673328'><time timestamp='2019-07-25T18:38:00Z'>18:38</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it&#x27;s a function that gets called periodically for each peer
<br>
</div>

<div class='talk op-msg' data-timestamp='1564079940' id='673329'>
<a class='timestamp' href='#673329'><time timestamp='2019-07-25T18:39:00Z'>18:39</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that piece of code specifically starts the fetching of headers
<br>
</div>

<div class='talk op-msg' data-timestamp='1564079940' id='673330'>
<a class='timestamp' href='#673330'><time timestamp='2019-07-25T18:39:00Z'>18:39</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
once we have enough headers, and know of peers who have blocks corresponding to those headers, we&#x27;ll automatically start requesting blocks from them
<br>
</div>

<div class='talk op-msg' data-timestamp='1564080240' id='673331'>
<a class='timestamp' href='#673331'><time timestamp='2019-07-25T18:44:00Z'>18:44</time></a>
&lt;<span class='nick nick-5'> emilengler</span>&gt;
sipa, Thank you
<br>
</div>

<div class='talk op-msg' data-timestamp='1564080300' id='673332'>
<a class='timestamp' href='#673332'><time timestamp='2019-07-25T18:45:00Z'>18:45</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] sdaftuar opened pull request #16464: [qa] Ensure we don&#x27;t generate a too-big block in p2sh sigops test (master...2019-07-fix-feature-block) <a href="https://github.com/bitcoin/bitcoin/pull/16464" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/16464</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1564081200' id='673333'>
<a class='timestamp' href='#673333'><time timestamp='2019-07-25T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-7'> jnewbery_</span>&gt;
meeting time?
<br>
</div>

<div class='talk op-msg' data-timestamp='1564081200' id='673334'>
<a class='timestamp' href='#673334'><time timestamp='2019-07-25T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
#startmeeting
<br>
</div>

<div class='talk op-msg' data-timestamp='1564081200' id='673335'>
<a class='timestamp' href='#673335'><time timestamp='2019-07-25T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Meeting started Thu Jul 25 19:00:20 2019 UTC.  The chair is wumpus. Information about MeetBot at <a href="http://wiki.debian.org/MeetBot" class="link" target="_blank">http://wiki.debian.org/MeetBot</a>.
<br>
</div>

<div class='talk op-msg' data-timestamp='1564081200' id='673336'>
<a class='timestamp' href='#673336'><time timestamp='2019-07-25T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Useful Commands: #action #agreed #help #info #idea #link #topic.
<br>
</div>

<div class='talk op-msg' data-timestamp='1564081200' id='673337'>
<a class='timestamp' href='#673337'><time timestamp='2019-07-25T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ohai
<br>
</div>

<div class='talk op-msg' data-timestamp='1564081200' id='673338'>
<a class='timestamp' href='#673338'><time timestamp='2019-07-25T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-4'> kanzure</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1564081200' id='673339'>
<a class='timestamp' href='#673339'><time timestamp='2019-07-25T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1564081200' id='673340'>
<a class='timestamp' href='#673340'><time timestamp='2019-07-25T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-7'> jnewbery_</span>&gt;
hi!
<br>
</div>

<div class='talk op-msg' data-timestamp='1564081200' id='673341'>
<a class='timestamp' href='#673341'><time timestamp='2019-07-25T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1564081200' id='673342'>
<a class='timestamp' href='#673342'><time timestamp='2019-07-25T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-8'> amiti</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1564081200' id='673343'>
<a class='timestamp' href='#673343'><time timestamp='2019-07-25T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-8'> andytoshi</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1564081200' id='673344'>
<a class='timestamp' href='#673344'><time timestamp='2019-07-25T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-3'> meshcollider</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1564081200' id='673345'>
<a class='timestamp' href='#673345'><time timestamp='2019-07-25T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
a wild jnewbery_ imposter apears
<br>
</div>

<div class='talk op-msg' data-timestamp='1564081200' id='673346'>
<a class='timestamp' href='#673346'><time timestamp='2019-07-25T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
#bitcoin-core-dev Meeting: wumpus sipa gmaxwell jonasschnelli morcos luke-jr sdaftuar jtimon cfields petertodd kanzure bluematt instagibbs phantomcircuit codeshark michagogo marcofalke paveljanik NicolasDorier jl2012 achow101 meshcollider jnewbery maaku fanquake promag provoostenator aj Chris_Stewart_5 dongcarl gwillen jamesob ken281221 ryanofsky gleb moneyball kvaciral
<br>
</div>

<div class='talk op-msg' data-timestamp='1564081260' id='673347'>
<a class='timestamp' href='#673347'><time timestamp='2019-07-25T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-11'> moneyball</span>&gt;
Hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1564081260' id='673348'>
<a class='timestamp' href='#673348'><time timestamp='2019-07-25T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-10'> ariard</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1564081260' id='673349'>
<a class='timestamp' href='#673349'><time timestamp='2019-07-25T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
one proposed topic today: Transaction Rebroadcasting <a href="https://gist.github.com/amitiuttarwar/b592ee410e1f02ac0d44fcbed4621dba" class="link" target="_blank">https://gist.github.com/amitiuttarwar/b592ee410e1f02ac0d44fcbed4621dba</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1564081260' id='673350'>
<a class='timestamp' href='#673350'><time timestamp='2019-07-25T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I have just a little topic/announcement suggestion: bitcoinbuilds.org (can be done at the end when time)
<br>
</div>

<div class='talk op-msg' data-timestamp='1564081260' id='673351'>
<a class='timestamp' href='#673351'><time timestamp='2019-07-25T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1564081260' id='673352'>
<a class='timestamp' href='#673352'><time timestamp='2019-07-25T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-4'> jamesob</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1564081320' id='673353'>
<a class='timestamp' href='#673353'><time timestamp='2019-07-25T19:02:00Z'>19:02</time></a>
&lt;<span class='nick nick-14'> jonatack</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1564081320' id='673354'>
<a class='timestamp' href='#673354'><time timestamp='2019-07-25T19:02:00Z'>19:02</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
hi everyone!
<br>
</div>

<div class='talk op-msg' data-timestamp='1564081320' id='673355'>
<a class='timestamp' href='#673355'><time timestamp='2019-07-25T19:02:00Z'>19:02</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
#topic High priority for review
<br>
</div>

<div class='talk op-msg' data-timestamp='1564081320' id='673356'>
<a class='timestamp' href='#673356'><time timestamp='2019-07-25T19:02:00Z'>19:02</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/projects/8" class="link" target="_blank">https://github.com/bitcoin/bitcoin/projects/8</a>  6 blockers, 6 things waiting for concept ACK
<br>
</div>

<div class='talk op-msg' data-timestamp='1564081320' id='673357'>
<a class='timestamp' href='#673357'><time timestamp='2019-07-25T19:02:00Z'>19:02</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
#16421
<br>
</div>

<div class='talk op-msg' data-timestamp='1564081320' id='673358'>
<a class='timestamp' href='#673358'><time timestamp='2019-07-25T19:02:00Z'>19:02</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/16421" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/16421</a> | Conservatively accept RBF bumps bumping one tx at the package limits by TheBlueMatt · Pull Request #16421 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1564081380' id='673359'>
<a class='timestamp' href='#673359'><time timestamp='2019-07-25T19:03:00Z'>19:03</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
i&#x27;d like to review beg #15759, which is already a high priority for review item
<br>
</div>

<div class='talk op-msg' data-timestamp='1564081380' id='673360'>
<a class='timestamp' href='#673360'><time timestamp='2019-07-25T19:03:00Z'>19:03</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/15759" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/15759</a> | [p2p] Add 2 outbound blocks-only connections by sdaftuar · Pull Request #15759 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1564081380' id='673361'>
<a class='timestamp' href='#673361'><time timestamp='2019-07-25T19:03:00Z'>19:03</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
BlueMatt: that&#x27;s one you want to add I suppose?
<br>
</div>

<div class='talk op-msg' data-timestamp='1564081380' id='673362'>
<a class='timestamp' href='#673362'><time timestamp='2019-07-25T19:03:00Z'>19:03</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
yesplz
<br>
</div>

<div class='talk op-msg' data-timestamp='1564081380' id='673363'>
<a class='timestamp' href='#673363'><time timestamp='2019-07-25T19:03:00Z'>19:03</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
ok added
<br>
</div>

<div class='talk op-msg' data-timestamp='1564081380' id='673364'>
<a class='timestamp' href='#673364'><time timestamp='2019-07-25T19:03:00Z'>19:03</time></a>
&lt;<span class='nick nick-4'> jamesob</span>&gt;
15759 is a good PR, A+++++ 10/10 would review again
<br>
</div>

<div class='talk op-msg' data-timestamp='1564081440' id='673365'>
<a class='timestamp' href='#673365'><time timestamp='2019-07-25T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
do two jamesob ACKs count as two? i see a win-win situation here
<br>
</div>

<div class='talk op-msg' data-timestamp='1564081560' id='673366'>
<a class='timestamp' href='#673366'><time timestamp='2019-07-25T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
Can I add #16363
<br>
</div>

<div class='talk op-msg' data-timestamp='1564081560' id='673367'>
<a class='timestamp' href='#673367'><time timestamp='2019-07-25T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-4'> jamesob</span>&gt;
I&#x27;ll read it in decreasing line number order this time
<br>
</div>

<div class='talk op-msg' data-timestamp='1564081560' id='673368'>
<a class='timestamp' href='#673368'><time timestamp='2019-07-25T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
he did ack it twice so...
<br>
</div>

<div class='talk op-msg' data-timestamp='1564081560' id='673369'>
<a class='timestamp' href='#673369'><time timestamp='2019-07-25T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/16363" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/16363</a> | test: Add test for BIP30 duplicate tx by MarcoFalke · Pull Request #16363 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1564081560' id='673370'>
<a class='timestamp' href='#673370'><time timestamp='2019-07-25T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
MarcoFalke:sure, added
<br>
</div>

<div class='talk op-msg' data-timestamp='1564081620' id='673371'>
<a class='timestamp' href='#673371'><time timestamp='2019-07-25T19:07:00Z'>19:07</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
anything to add/remove from chasing concept ack?
<br>
</div>

<div class='talk op-msg' data-timestamp='1564081680' id='673372'>
<a class='timestamp' href='#673372'><time timestamp='2019-07-25T19:08:00Z'>19:08</time></a>
&lt;<span class='nick nick-10'> ariard</span>&gt;
still need reviews for #15713, which is current step to go forward on removing cs_main locks in wallet
<br>
</div>

<div class='talk op-msg' data-timestamp='1564081680' id='673373'>
<a class='timestamp' href='#673373'><time timestamp='2019-07-25T19:08:00Z'>19:08</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/15713" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/15713</a> | refactor: Replace chain relayTransactions/submitMemoryPool by higher method by ariard · Pull Request #15713 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1564081740' id='673374'>
<a class='timestamp' href='#673374'><time timestamp='2019-07-25T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-10'> ariard</span>&gt;
(current tip ACKed by jnewbery and jonatack)
<br>
</div>

<div class='talk op-msg' data-timestamp='1564081740' id='673375'>
<a class='timestamp' href='#673375'><time timestamp='2019-07-25T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
ariard: Looks like you pushed a new commit today
<br>
</div>

<div class='talk op-msg' data-timestamp='1564081740' id='673376'>
<a class='timestamp' href='#673376'><time timestamp='2019-07-25T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
#16341 for Chasing Concept ACK?
<br>
</div>

<div class='talk op-msg' data-timestamp='1564081740' id='673377'>
<a class='timestamp' href='#673377'><time timestamp='2019-07-25T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/16341" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/16341</a> | WIP: Introduce ScriptPubKeyMan interface and use it for key and script management (aka wallet boxes) by achow101 · Pull Request #16341 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1564081740' id='673378'>
<a class='timestamp' href='#673378'><time timestamp='2019-07-25T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
good to know, I see it&#x27;s already on there
<br>
</div>

<div class='talk op-msg' data-timestamp='1564081740' id='673379'>
<a class='timestamp' href='#673379'><time timestamp='2019-07-25T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
Oh, I see they re-ACKed
<br>
</div>

<div class='talk op-msg' data-timestamp='1564081740' id='673380'>
<a class='timestamp' href='#673380'><time timestamp='2019-07-25T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-10'> ariard</span>&gt;
I took jnewbery cleanup commit for BroadcastTransaction
<br>
</div>

<div class='talk op-msg' data-timestamp='1564081800' id='673381'>
<a class='timestamp' href='#673381'><time timestamp='2019-07-25T19:10:00Z'>19:10</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
ariard: It conflicts with #16452. So which one should go in first?
<br>
</div>

<div class='talk op-msg' data-timestamp='1564081800' id='673382'>
<a class='timestamp' href='#673382'><time timestamp='2019-07-25T19:10:00Z'>19:10</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/16452" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/16452</a> | refactor: use RelayTransaction in BroadcastTransaction utility by ariard · Pull Request #16452 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1564081800' id='673383'>
<a class='timestamp' href='#673383'><time timestamp='2019-07-25T19:10:00Z'>19:10</time></a>
&lt;<span class='nick nick-7'> jnewbery_</span>&gt;
I think 15713 goes first
<br>
</div>

<div class='talk op-msg' data-timestamp='1564081860' id='673384'>
<a class='timestamp' href='#673384'><time timestamp='2019-07-25T19:11:00Z'>19:11</time></a>
&lt;<span class='nick nick-7'> jnewbery_</span>&gt;
16452 is a nice clean-up, but doesn&#x27;t hold up the series of PRs
<br>
</div>

<div class='talk op-msg' data-timestamp='1564081860' id='673385'>
<a class='timestamp' href='#673385'><time timestamp='2019-07-25T19:11:00Z'>19:11</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
achow101:added
<br>
</div>

<div class='talk op-msg' data-timestamp='1564081860' id='673386'>
<a class='timestamp' href='#673386'><time timestamp='2019-07-25T19:11:00Z'>19:11</time></a>
&lt;<span class='nick nick-10'> ariard</span>&gt;
#15713, so that&#x27;s way I would be able to addreess nits in 16452
<br>
</div>

<div class='talk op-msg' data-timestamp='1564081860' id='673387'>
<a class='timestamp' href='#673387'><time timestamp='2019-07-25T19:11:00Z'>19:11</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/15713" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/15713</a> | refactor: Replace chain relayTransactions/submitMemoryPool by higher method by ariard · Pull Request #15713 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1564081860' id='673388'>
<a class='timestamp' href='#673388'><time timestamp='2019-07-25T19:11:00Z'>19:11</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
Good, I&#x27;ll take a look at 15713 :eyes:
<br>
</div>

<div class='talk op-msg' data-timestamp='1564081860' id='673389'>
<a class='timestamp' href='#673389'><time timestamp='2019-07-25T19:11:00Z'>19:11</time></a>
&lt;<span class='nick nick-10'> ariard</span>&gt;
thanks!
<br>
</div>

<div class='talk op-msg' data-timestamp='1564081920' id='673390'>
<a class='timestamp' href='#673390'><time timestamp='2019-07-25T19:12:00Z'>19:12</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
#topic Transaction broadcasting (amiti)
<br>
</div>

<div class='talk op-msg' data-timestamp='1564081920' id='673391'>
<a class='timestamp' href='#673391'><time timestamp='2019-07-25T19:12:00Z'>19:12</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
+1 on 15713
<br>
</div>

<div class='talk op-msg' data-timestamp='1564081920' id='673392'>
<a class='timestamp' href='#673392'><time timestamp='2019-07-25T19:12:00Z'>19:12</time></a>
&lt;<span class='nick nick-8'> amiti</span>&gt;
write up here: <a href="https://gist.github.com/amitiuttarwar/b592ee410e1f02ac0d44fcbed4621dba" class="link" target="_blank">https://gist.github.com/amitiuttarwar/b592ee410e1f02ac0d44fcbed4621dba</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1564081980' id='673393'>
<a class='timestamp' href='#673393'><time timestamp='2019-07-25T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-8'> amiti</span>&gt;
tldr; want to improve privacy with updates to rebroadcast logic
<br>
</div>

<div class='talk op-msg' data-timestamp='1564081980' id='673394'>
<a class='timestamp' href='#673394'><time timestamp='2019-07-25T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-8'> amiti</span>&gt;
instead of nodes rebroadcasting only wallet txns, rebroadcast all txns it believes should have been in the last block
<br>
</div>

<div class='talk op-msg' data-timestamp='1564082040' id='673395'>
<a class='timestamp' href='#673395'><time timestamp='2019-07-25T19:14:00Z'>19:14</time></a>
&lt;<span class='nick nick-8'> amiti</span>&gt;
looking for critical feedback, concept acks, any high level implementation thoughts
<br>
</div>

<div class='talk op-msg' data-timestamp='1564082040' id='673396'>
<a class='timestamp' href='#673396'><time timestamp='2019-07-25T19:14:00Z'>19:14</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
how much is this expected to increase bandwidth usage?
<br>
</div>

<div class='talk op-msg' data-timestamp='1564082040' id='673397'>
<a class='timestamp' href='#673397'><time timestamp='2019-07-25T19:14:00Z'>19:14</time></a>
&lt;<span class='nick nick-8'> amiti</span>&gt;
choosing the parameters carefully will be important - dramatically impacts the worst case bandwidth usage
<br>
</div>

<div class='talk op-msg' data-timestamp='1564082100' id='673398'>
<a class='timestamp' href='#673398'><time timestamp='2019-07-25T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
and does this help with privacy? the first node broadcasting something will still be the same one
<br>
</div>

<div class='talk op-msg' data-timestamp='1564082100' id='673399'>
<a class='timestamp' href='#673399'><time timestamp='2019-07-25T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
as I see it, at least
<br>
</div>

<div class='talk op-msg' data-timestamp='1564082160' id='673400'>
<a class='timestamp' href='#673400'><time timestamp='2019-07-25T19:16:00Z'>19:16</time></a>
&lt;<span class='nick nick-8'> amiti</span>&gt;
not necessarily. if a node has a txn in its mempool that should have been picked up in a block already (high fee rate and is old), it will rebroadcast. independent of originating wallet. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1564082160' id='673401'>
<a class='timestamp' href='#673401'><time timestamp='2019-07-25T19:16:00Z'>19:16</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
wumpus: Yes, the first node (i.e. the wallet) will be the same one
<br>
</div>

<div class='talk op-msg' data-timestamp='1564082160' id='673402'>
<a class='timestamp' href='#673402'><time timestamp='2019-07-25T19:16:00Z'>19:16</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
But hopefully not for rebroadcasts
<br>
</div>

<div class='talk op-msg' data-timestamp='1564082160' id='673403'>
<a class='timestamp' href='#673403'><time timestamp='2019-07-25T19:16:00Z'>19:16</time></a>
&lt;<span class='nick nick-7'> jnewbery_</span>&gt;
wumpus: I think it does. Currently, if you see a peer brodcast a tx more than once, you can be almost certain that it originated the tx, and we rebroadcast our txs that are unconfirmed for more than half an hour
<br>
</div>

<div class='talk op-msg' data-timestamp='1564082220' id='673404'>
<a class='timestamp' href='#673404'><time timestamp='2019-07-25T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i think it primarily addresses how currently we gratuitously rebroadcast, making it obvious continuously to every peer what our own transactions are
<br>
</div>

<div class='talk op-msg' data-timestamp='1564082220' id='673405'>
<a class='timestamp' href='#673405'><time timestamp='2019-07-25T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it certainly doesn&#x27;t address all forms of leaking that information
<br>
</div>

<div class='talk op-msg' data-timestamp='1564082220' id='673406'>
<a class='timestamp' href='#673406'><time timestamp='2019-07-25T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
small steps :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1564082220' id='673407'>
<a class='timestamp' href='#673407'><time timestamp='2019-07-25T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
so either every node does this, or it reveals which nodes have a hot wallet
<br>
</div>

<div class='talk op-msg' data-timestamp='1564082280' id='673408'>
<a class='timestamp' href='#673408'><time timestamp='2019-07-25T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
wumpus: the rebroadcast logic will be in the mempool, so even without wallet enabled, it will work
<br>
</div>

<div class='talk op-msg' data-timestamp='1564082280' id='673409'>
<a class='timestamp' href='#673409'><time timestamp='2019-07-25T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
and if all nodes do it, that sounds very bad for bandwidth usage
<br>
</div>

<div class='talk op-msg' data-timestamp='1564082340' id='673410'>
<a class='timestamp' href='#673410'><time timestamp='2019-07-25T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
at first glance, this sounds like it will cause bandwidth usage greatly increase
<br>
</div>

<div class='talk op-msg' data-timestamp='1564082340' id='673411'>
<a class='timestamp' href='#673411'><time timestamp='2019-07-25T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
wumpus: i think if we constrain it to old transactions at the top of themempool, it should be a small bandwidth effect? 
<br>
</div>

<div class='talk op-msg' data-timestamp='1564082340' id='673412'>
<a class='timestamp' href='#673412'><time timestamp='2019-07-25T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i suspect it&#x27;s also filted by the knowninvs logic, so we wouldn&#x27;t rebroadcast to the same peer twice
<br>
</div>

<div class='talk op-msg' data-timestamp='1564082340' id='673413'>
<a class='timestamp' href='#673413'><time timestamp='2019-07-25T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
so basically all nodes would create noise for the nodes with a wallet to hide in, hmm
<br>
</div>

<div class='talk op-msg' data-timestamp='1564082340' id='673414'>
<a class='timestamp' href='#673414'><time timestamp='2019-07-25T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
sipa: The knowninvs will reset every couple of blocks, no?
<br>
</div>

<div class='talk op-msg' data-timestamp='1564082340' id='673415'>
<a class='timestamp' href='#673415'><time timestamp='2019-07-25T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
wumpus: i think it&#x27;s more than that, it&#x27;s way to ensure that things that should be mined get relayed, eg to nodes with small mempools or recently started up
<br>
</div>

<div class='talk op-msg' data-timestamp='1564082400' id='673416'>
<a class='timestamp' href='#673416'><time timestamp='2019-07-25T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
sort of like a mempool-sync might do
<br>
</div>

<div class='talk op-msg' data-timestamp='1564082400' id='673417'>
<a class='timestamp' href='#673417'><time timestamp='2019-07-25T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
would it be picking the oldest high fee rate transactions to rebroadcast, up to some n? Or would it pick some n transactions and choose the oldest and highest fee rate of them?
<br>
</div>

<div class='talk op-msg' data-timestamp='1564082400' id='673418'>
<a class='timestamp' href='#673418'><time timestamp='2019-07-25T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
sdaftuar: oh good point
<br>
</div>

<div class='talk op-msg' data-timestamp='1564082400' id='673419'>
<a class='timestamp' href='#673419'><time timestamp='2019-07-25T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
right, full nodes have an incentives themselves to see their mempools match what it actually mined
<br>
</div>

<div class='talk op-msg' data-timestamp='1564082400' id='673420'>
<a class='timestamp' href='#673420'><time timestamp='2019-07-25T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
even without wallets
<br>
</div>

<div class='talk op-msg' data-timestamp='1564082400' id='673421'>
<a class='timestamp' href='#673421'><time timestamp='2019-07-25T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-8'> amiti</span>&gt;
achow: traverse top of mempool by ancestor fee rate, filter out recent transactions, rebroadcast remaining
<br>
</div>

<div class='talk op-msg' data-timestamp='1564082400' id='673422'>
<a class='timestamp' href='#673422'><time timestamp='2019-07-25T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-7'> jnewbery_</span>&gt;
if we consider the top of the mempool to be &quot;transactions we expect to get mined soon&quot; and they&#x27;re not getting mined, rebroadcasting them to make sure miners are aware seems like sensible mempool logic
<br>
</div>

<div class='talk op-msg' data-timestamp='1564082460' id='673423'>
<a class='timestamp' href='#673423'><time timestamp='2019-07-25T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-7'> jnewbery_</span>&gt;
if not, then the mempool might as well expire them - they&#x27;re doing our node no good
<br>
</div>

<div class='talk op-msg' data-timestamp='1564082460' id='673424'>
<a class='timestamp' href='#673424'><time timestamp='2019-07-25T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i guess there could be some sort of exponential backoff, that after a tx has been rebroadcast multiple times, it becomes rarer (this may be especially relevant when peers may have other consensus/policy rules)
<br>
</div>

<div class='talk op-msg' data-timestamp='1564082460' id='673425'>
<a class='timestamp' href='#673425'><time timestamp='2019-07-25T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
amiti: so every rebroadcast would have the same number of transactions?
<br>
</div>

<div class='talk op-msg' data-timestamp='1564082460' id='673426'>
<a class='timestamp' href='#673426'><time timestamp='2019-07-25T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
though i guess that&#x27;s done automatically by our own expiration logic
<br>
</div>

<div class='talk op-msg' data-timestamp='1564082460' id='673427'>
<a class='timestamp' href='#673427'><time timestamp='2019-07-25T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
or rather same amount of data being broadcast
<br>
</div>

<div class='talk op-msg' data-timestamp='1564082520' id='673428'>
<a class='timestamp' href='#673428'><time timestamp='2019-07-25T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
so if every node broadcasts the transactions at the top of the mempool, this will be more or less the same transactions for every node
<br>
</div>

<div class='talk op-msg' data-timestamp='1564082520' id='673429'>
<a class='timestamp' href='#673429'><time timestamp='2019-07-25T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
achow101: No. Txs that were added to the mempool or to blocks are excluded
<br>
</div>

<div class='talk op-msg' data-timestamp='1564082520' id='673430'>
<a class='timestamp' href='#673430'><time timestamp='2019-07-25T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
achow101: i guess that depends on how well the mempool matches what is being mined
<br>
</div>

<div class='talk op-msg' data-timestamp='1564082520' id='673431'>
<a class='timestamp' href='#673431'><time timestamp='2019-07-25T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
wumpus: Yes, mostly
<br>
</div>

<div class='talk op-msg' data-timestamp='1564082520' id='673432'>
<a class='timestamp' href='#673432'><time timestamp='2019-07-25T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
if someone broadcasts a <b>*different*</b> transaction, or one that would rank lower according to policy, this is suspect
<br>
</div>

<div class='talk op-msg' data-timestamp='1564082520' id='673433'>
<a class='timestamp' href='#673433'><time timestamp='2019-07-25T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
sipa: i think a rebroadcast cap makes sense, also a cap on the number of things rebroadcast in one go (to prevent any kind of edge-case behavior)
<br>
</div>

<div class='talk op-msg' data-timestamp='1564082520' id='673434'>
<a class='timestamp' href='#673434'><time timestamp='2019-07-25T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gleb: here?
<br>
</div>

<div class='talk op-msg' data-timestamp='1564082520' id='673435'>
<a class='timestamp' href='#673435'><time timestamp='2019-07-25T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
he&#x27;s away
<br>
</div>

<div class='talk op-msg' data-timestamp='1564082580' id='673436'>
<a class='timestamp' href='#673436'><time timestamp='2019-07-25T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i&#x27;m wondering how to integrate this with erlay
<br>
</div>

<div class='talk op-msg' data-timestamp='1564082580' id='673437'>
<a class='timestamp' href='#673437'><time timestamp='2019-07-25T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
(which shouldn&#x27;t be a blocker for this discussion of course, but it&#x27;s nice to have things thought out)
<br>
</div>

<div class='talk op-msg' data-timestamp='1564082580' id='673438'>
<a class='timestamp' href='#673438'><time timestamp='2019-07-25T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I&#x27;m not entirely sure that this generates noise with enough variance to contribute to privacy
<br>
</div>

<div class='talk op-msg' data-timestamp='1564082580' id='673439'>
<a class='timestamp' href='#673439'><time timestamp='2019-07-25T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
wumpus: hmm?
<br>
</div>

<div class='talk op-msg' data-timestamp='1564082640' id='673440'>
<a class='timestamp' href='#673440'><time timestamp='2019-07-25T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it&#x27;d just change the logic to &#x27;anyone that broadcasts a transaction that is not on the top of the mempool is broadcasting their own transaction&#x27;
<br>
</div>

<div class='talk op-msg' data-timestamp='1564082640' id='673441'>
<a class='timestamp' href='#673441'><time timestamp='2019-07-25T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
is your concern &quot;this isn&#x27;t enough&quot; or &quot;this doesn&#x27;t contribute anything&quot; (possible)
<br>
</div>

<div class='talk op-msg' data-timestamp='1564082640' id='673442'>
<a class='timestamp' href='#673442'><time timestamp='2019-07-25T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
In particular, this wouldn&#x27;t benefit lowball fee transactions I assume?
<br>
</div>

<div class='talk op-msg' data-timestamp='1564082640' id='673443'>
<a class='timestamp' href='#673443'><time timestamp='2019-07-25T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
wumpus: The wallet rebroacast would be removed of course
<br>
</div>

<div class='talk op-msg' data-timestamp='1564082640' id='673444'>
<a class='timestamp' href='#673444'><time timestamp='2019-07-25T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-7'> jnewbery_</span>&gt;
wumpus: nodes would still relay new transactions they saw
<br>
</div>

<div class='talk op-msg' data-timestamp='1564082640' id='673445'>
<a class='timestamp' href='#673445'><time timestamp='2019-07-25T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
MarcoFalke: ohhh!
<br>
</div>

<div class='talk op-msg' data-timestamp='1564082640' id='673446'>
<a class='timestamp' href='#673446'><time timestamp='2019-07-25T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
heh
<br>
</div>

<div class='talk op-msg' data-timestamp='1564082640' id='673447'>
<a class='timestamp' href='#673447'><time timestamp='2019-07-25T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
MarcoFalke: okay then it makes a lot more sense
<br>
</div>

<div class='talk op-msg' data-timestamp='1564082700' id='673448'>
<a class='timestamp' href='#673448'><time timestamp='2019-07-25T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
Maybe we should introduce each topic with a three line summary
<br>
</div>

<div class='talk op-msg' data-timestamp='1564082700' id='673449'>
<a class='timestamp' href='#673449'><time timestamp='2019-07-25T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
(I mean: I would not add more privacy to wallet transactions with a low fee, but also doesn&#x27;t make it worse)
<br>
</div>

<div class='talk op-msg' data-timestamp='1564082700' id='673450'>
<a class='timestamp' href='#673450'><time timestamp='2019-07-25T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-5'> * MarcoFalke</span>&gt;
meta
<br>
</div>

<div class='talk op-msg' data-timestamp='1564082700' id='673451'>
<a class='timestamp' href='#673451'><time timestamp='2019-07-25T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
*it
<br>
</div>

<div class='talk op-msg' data-timestamp='1564082760' id='673452'>
<a class='timestamp' href='#673452'><time timestamp='2019-07-25T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
how would this interact with prioritizetransaction? I assume it would be a privacy leak that you prioritize some particular transaction if that transaction was part of the rebroadcast but not the top for other nodes
<br>
</div>

<div class='talk op-msg' data-timestamp='1564082760' id='673453'>
<a class='timestamp' href='#673453'><time timestamp='2019-07-25T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
provoostenator: The fee rate should have no effect on privacy after the proposal is merged, no?
<br>
</div>

<div class='talk op-msg' data-timestamp='1564082760' id='673454'>
<a class='timestamp' href='#673454'><time timestamp='2019-07-25T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-8'> amiti</span>&gt;
provoostenator: my proposed changes would not rebroadcast wallet txns with a low fee until that txn makes it to the top of the mempool
<br>
</div>

<div class='talk op-msg' data-timestamp='1564082760' id='673455'>
<a class='timestamp' href='#673455'><time timestamp='2019-07-25T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
hmm, so how will low-feerate transactions get broadcast at all?
<br>
</div>

<div class='talk op-msg' data-timestamp='1564082760' id='673456'>
<a class='timestamp' href='#673456'><time timestamp='2019-07-25T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
achow101: i think we&#x27;d have to use a sort on actual feerate, and not modified feerate
<br>
</div>

<div class='talk op-msg' data-timestamp='1564082760' id='673457'>
<a class='timestamp' href='#673457'><time timestamp='2019-07-25T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
sipa: When they are created
<br>
</div>

<div class='talk op-msg' data-timestamp='1564082760' id='673458'>
<a class='timestamp' href='#673458'><time timestamp='2019-07-25T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
sipa: pacakge relay, or wait til they get to the top of the mempool, i think?
<br>
</div>

<div class='talk op-msg' data-timestamp='1564082760' id='673459'>
<a class='timestamp' href='#673459'><time timestamp='2019-07-25T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
(once)
<br>
</div>

<div class='talk op-msg' data-timestamp='1564082820' id='673460'>
<a class='timestamp' href='#673460'><time timestamp='2019-07-25T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
oh, nvm; the normal &quot;just entered the mempool&quot; relay will do that, not rebroadcast logic
<br>
</div>

<div class='talk op-msg' data-timestamp='1564082820' id='673461'>
<a class='timestamp' href='#673461'><time timestamp='2019-07-25T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-8'> amiti</span>&gt;
sdaftuar: correct 
<br>
</div>

<div class='talk op-msg' data-timestamp='1564082880' id='673462'>
<a class='timestamp' href='#673462'><time timestamp='2019-07-25T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
So IIUC (I should read the whole thing): we still broadcast the first time as per usual, but we only <b>*rebroadcast*</b> top of mempool?
<br>
</div>

<div class='talk op-msg' data-timestamp='1564082880' id='673463'>
<a class='timestamp' href='#673463'><time timestamp='2019-07-25T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-5'> harding</span>&gt;
So if I create a low fee transaction that doesn&#x27;t get relayed initially for some reason, my wallet would never broadcast it unless I just happened to have my node open at the point where fees have dropped?
<br>
</div>

<div class='talk op-msg' data-timestamp='1564082880' id='673464'>
<a class='timestamp' href='#673464'><time timestamp='2019-07-25T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-8'> amiti</span>&gt;
provoostenator: correct 
<br>
</div>

<div class='talk op-msg' data-timestamp='1564082880' id='673465'>
<a class='timestamp' href='#673465'><time timestamp='2019-07-25T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
harding: it would broadcast it the first time
<br>
</div>

<div class='talk op-msg' data-timestamp='1564082940' id='673466'>
<a class='timestamp' href='#673466'><time timestamp='2019-07-25T19:29:00Z'>19:29</time></a>
&lt;<span class='nick nick-5'> harding</span>&gt;
wumpus: right, but what if it wasn&#x27;t relayed the first time?
<br>
</div>

<div class='talk op-msg' data-timestamp='1564082940' id='673467'>
<a class='timestamp' href='#673467'><time timestamp='2019-07-25T19:29:00Z'>19:29</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
harding: I think it&#x27;s the same situation now. you&#x27;d still have to wait for the fees to drop and have your wallet be open so that other nodes will accept it
<br>
</div>

<div class='talk op-msg' data-timestamp='1564082940' id='673468'>
<a class='timestamp' href='#673468'><time timestamp='2019-07-25T19:29:00Z'>19:29</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
harding: Right, but we can improve inital relay as well
<br>
</div>

<div class='talk op-msg' data-timestamp='1564082940' id='673469'>
<a class='timestamp' href='#673469'><time timestamp='2019-07-25T19:29:00Z'>19:29</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
(workin on it)TM
<br>
</div>

<div class='talk op-msg' data-timestamp='1564083060' id='673470'>
<a class='timestamp' href='#673470'><time timestamp='2019-07-25T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
concept ACK on the idea from me
<br>
</div>

<div class='talk op-msg' data-timestamp='1564083060' id='673471'>
<a class='timestamp' href='#673471'><time timestamp='2019-07-25T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-5'> harding</span>&gt;
achow101: to overcome the dynamic minimum relay fee, that&#x27;s true.  I&#x27;m thinking of the case where I generate a transaction with a (say) 288-block estimatesmartfee target.  That&#x27;s only rarely going to be near the top of the mempool.  Right now, my wallet will rebroadcast that every hour or so (random delay); with this change, it&#x27;d only rebroadcast it if my wallet was open at the right time.
<br>
</div>

<div class='talk op-msg' data-timestamp='1564083060' id='673472'>
<a class='timestamp' href='#673472'><time timestamp='2019-07-25T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
harding: but on the other hand, your peers will do the rebroadcast for you
<br>
</div>

<div class='talk op-msg' data-timestamp='1564083060' id='673473'>
<a class='timestamp' href='#673473'><time timestamp='2019-07-25T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
those who heard the initial broadcast at least
<br>
</div>

<div class='talk op-msg' data-timestamp='1564083120' id='673474'>
<a class='timestamp' href='#673474'><time timestamp='2019-07-25T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
you can argue that that&#x27;s relying on their altruistic behaviour, but right now we&#x27;re already kinda doing that hoping for them to relay it at all
<br>
</div>

<div class='talk op-msg' data-timestamp='1564083120' id='673475'>
<a class='timestamp' href='#673475'><time timestamp='2019-07-25T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
it seems reasonable for the wallet to try to ensure that the transaction was relayed to at least one peer, perhaps
<br>
</div>

<div class='talk op-msg' data-timestamp='1564083120' id='673476'>
<a class='timestamp' href='#673476'><time timestamp='2019-07-25T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-5'> harding</span>&gt;
An actual usecase of my is that I sendrawtransaction spends from my cold wallet with my network disabled so that I can do a final inspection of the transaction in my local mempool (mainly to check that I didn&#x27;t forget an output and spend all to fees).  That means I always use wallet rebroadcasting in those cases.
<br>
</div>

<div class='talk op-msg' data-timestamp='1564083120' id='673477'>
<a class='timestamp' href='#673477'><time timestamp='2019-07-25T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-7'> jnewbery_</span>&gt;
harding: s/it&#x27;d only rebroadcast it if my wallet was open at the right time/it&#x27;d only rebroadcast if your node was online at the right time
<br>
</div>

<div class='talk op-msg' data-timestamp='1564083120' id='673478'>
<a class='timestamp' href='#673478'><time timestamp='2019-07-25T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-7'> jnewbery_</span>&gt;
but I think your point stil lstands
<br>
</div>

<div class='talk op-msg' data-timestamp='1564083180' id='673479'>
<a class='timestamp' href='#673479'><time timestamp='2019-07-25T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
harding: use testmempoolaccept instead?
<br>
</div>

<div class='talk op-msg' data-timestamp='1564083180' id='673480'>
<a class='timestamp' href='#673480'><time timestamp='2019-07-25T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
harding: that seems like a reasonable use case (though personally i&#x27;m using analyzepsbt for that now, before even broadcasting it)
<br>
</div>

<div class='talk op-msg' data-timestamp='1564083240' id='673481'>
<a class='timestamp' href='#673481'><time timestamp='2019-07-25T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-8'> amiti</span>&gt;
harding: you are right. in the circumstance where a low fee rate txn was not relayed the first time and none of your peers have it, these changes would make it take longer until your txn got rebroadcast, and potentially your node has to be online the right time.
<br>
</div>

<div class='talk op-msg' data-timestamp='1564083240' id='673482'>
<a class='timestamp' href='#673482'><time timestamp='2019-07-25T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i do think we need a way for this to work when a tx is submitted to your mempool while you&#x27;re offline
<br>
</div>

<div class='talk op-msg' data-timestamp='1564083240' id='673483'>
<a class='timestamp' href='#673483'><time timestamp='2019-07-25T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
One consideration I&#x27;ve seen discussed in a PR recently is that the node doesn&#x27;t tell the wallet what happened.
<br>
</div>

<div class='talk op-msg' data-timestamp='1564083240' id='673484'>
<a class='timestamp' href='#673484'><time timestamp='2019-07-25T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-5'> harding</span>&gt;
sipa: I also do that now too.  When dealing with thousands of my money, it&#x27;s belts, suspenders, extra belts, and extra suspenders.  :-)
<br>
</div>

<div class='talk op-msg' data-timestamp='1564083240' id='673485'>
<a class='timestamp' href='#673485'><time timestamp='2019-07-25T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
And one thing to also consider is that with dynamic loading, a user might unload their wallet after initial broadcast.
<br>
</div>

<div class='talk op-msg' data-timestamp='1564083240' id='673486'>
<a class='timestamp' href='#673486'><time timestamp='2019-07-25T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
wow thousands of moneys
<br>
</div>

<div class='talk op-msg' data-timestamp='1564083300' id='673487'>
<a class='timestamp' href='#673487'><time timestamp='2019-07-25T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
a lot of ico&#x27;s these days
<br>
</div>

<div class='talk op-msg' data-timestamp='1564083300' id='673488'>
<a class='timestamp' href='#673488'><time timestamp='2019-07-25T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
the mempool could have a per-tx flag &quot;ever broadcast&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1564083300' id='673489'>
<a class='timestamp' href='#673489'><time timestamp='2019-07-25T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
Could the mempool keep track if the txs was pushed to at least one peer?
<br>
</div>

<div class='talk op-msg' data-timestamp='1564083300' id='673490'>
<a class='timestamp' href='#673490'><time timestamp='2019-07-25T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jinx
<br>
</div>

<div class='talk op-msg' data-timestamp='1564083300' id='673491'>
<a class='timestamp' href='#673491'><time timestamp='2019-07-25T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
IIRC the wallet used to keep track of number of broadcasts of a transaction, this was removed at some point
<br>
</div>

<div class='talk op-msg' data-timestamp='1564083300' id='673492'>
<a class='timestamp' href='#673492'><time timestamp='2019-07-25T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
in that case, even the initial broadcast of a tx could become pure mempool responsibility
<br>
</div>

<div class='talk op-msg' data-timestamp='1564083360' id='673493'>
<a class='timestamp' href='#673493'><time timestamp='2019-07-25T19:36:00Z'>19:36</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
wumpus: correct
<br>
</div>

<div class='talk op-msg' data-timestamp='1564083360' id='673494'>
<a class='timestamp' href='#673494'><time timestamp='2019-07-25T19:36:00Z'>19:36</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
sipa: isn&#x27;t it already?
<br>
</div>

<div class='talk op-msg' data-timestamp='1564083360' id='673495'>
<a class='timestamp' href='#673495'><time timestamp='2019-07-25T19:36:00Z'>19:36</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
though it was just used for showing in the UI whether a tx had propagated 
<br>
</div>

<div class='talk op-msg' data-timestamp='1564083360' id='673496'>
<a class='timestamp' href='#673496'><time timestamp='2019-07-25T19:36:00Z'>19:36</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
wumpus: That wouldn&#x27;t work if the wallet is on a different node than the mempool
<br>
</div>

<div class='talk op-msg' data-timestamp='1564083360' id='673497'>
<a class='timestamp' href='#673497'><time timestamp='2019-07-25T19:36:00Z'>19:36</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
sipa: if you&#x27;re the last of your peers to learn of a transaction, was it &quot;ever broadcast&quot;?
<br>
</div>

<div class='talk op-msg' data-timestamp='1564083360' id='673498'>
<a class='timestamp' href='#673498'><time timestamp='2019-07-25T19:36:00Z'>19:36</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
which wasa arguably somewhat useful :) but yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1564083360' id='673499'>
<a class='timestamp' href='#673499'><time timestamp='2019-07-25T19:36:00Z'>19:36</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
achow101: well i mean <b>*the mempool*</b> rather than ATMP
<br>
</div>

<div class='talk op-msg' data-timestamp='1564083420' id='673500'>
<a class='timestamp' href='#673500'><time timestamp='2019-07-25T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sdaftuar: anything you&#x27;ve learned from the network would never get that flag, only rpc/wallet submissions
<br>
</div>

<div class='talk op-msg' data-timestamp='1564083420' id='673501'>
<a class='timestamp' href='#673501'><time timestamp='2019-07-25T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
sdaftuar: If you get the tx from the network it was broadcast
<br>
</div>

<div class='talk op-msg' data-timestamp='1564083420' id='673502'>
<a class='timestamp' href='#673502'><time timestamp='2019-07-25T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
MarcoFalke: is that even possible?
<br>
</div>

<div class='talk op-msg' data-timestamp='1564083420' id='673503'>
<a class='timestamp' href='#673503'><time timestamp='2019-07-25T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
the wallet will always submit the transaction to the local mempool first right?
<br>
</div>

<div class='talk op-msg' data-timestamp='1564083420' id='673504'>
<a class='timestamp' href='#673504'><time timestamp='2019-07-25T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
right
<br>
</div>

<div class='talk op-msg' data-timestamp='1564083420' id='673505'>
<a class='timestamp' href='#673505'><time timestamp='2019-07-25T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
Sure. Use signrawtransaction on the one with the wallet and sendrawtransaction on the one with the mempool
<br>
</div>

<div class='talk op-msg' data-timestamp='1564083480' id='673506'>
<a class='timestamp' href='#673506'><time timestamp='2019-07-25T19:38:00Z'>19:38</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
oh sure, but in that case you&#x27;re handling everything manually anyway
<br>
</div>

<div class='talk op-msg' data-timestamp='1564083480' id='673507'>
<a class='timestamp' href='#673507'><time timestamp='2019-07-25T19:38:00Z'>19:38</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Well, that makes the sendrawtransaction node&#x27;s mempool is responsible?
<br>
</div>

<div class='talk op-msg' data-timestamp='1564083480' id='673508'>
<a class='timestamp' href='#673508'><time timestamp='2019-07-25T19:38:00Z'>19:38</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1564083480' id='673509'>
<a class='timestamp' href='#673509'><time timestamp='2019-07-25T19:38:00Z'>19:38</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
You&#x27;d still want your node to broadcast at least once (even if at the time of ATMP you were offline)
<br>
</div>

<div class='talk op-msg' data-timestamp='1564083540' id='673510'>
<a class='timestamp' href='#673510'><time timestamp='2019-07-25T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
right now if you use sendrawtransaction, it gets submitted to the mempool/network directly, from which your own wallet may learn it, who will then take over rebroadcasting
<br>
</div>

<div class='talk op-msg' data-timestamp='1564083540' id='673511'>
<a class='timestamp' href='#673511'><time timestamp='2019-07-25T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
because sendrawtransaction is a node RPC not a wallet RPC afaik
<br>
</div>

<div class='talk op-msg' data-timestamp='1564083540' id='673512'>
<a class='timestamp' href='#673512'><time timestamp='2019-07-25T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
correct
<br>
</div>

<div class='talk op-msg' data-timestamp='1564083540' id='673513'>
<a class='timestamp' href='#673513'><time timestamp='2019-07-25T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
there&#x27;s no addrawwallettransaction or something like that
<br>
</div>

<div class='talk op-msg' data-timestamp='1564083600' id='673514'>
<a class='timestamp' href='#673514'><time timestamp='2019-07-25T19:40:00Z'>19:40</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
sendrawtransaction will unconditionally broadcast the transaction as well, so it&#x27;s sometimes used for manual rebroadcast
<br>
</div>

<div class='talk op-msg' data-timestamp='1564083600' id='673515'>
<a class='timestamp' href='#673515'><time timestamp='2019-07-25T19:40:00Z'>19:40</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
sendrawtransaction should mention that this is privacy leaking, maybe?
<br>
</div>

<div class='talk op-msg' data-timestamp='1564083660' id='673516'>
<a class='timestamp' href='#673516'><time timestamp='2019-07-25T19:41:00Z'>19:41</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes, the help could mention that
<br>
</div>

<div class='talk op-msg' data-timestamp='1564083720' id='673517'>
<a class='timestamp' href='#673517'><time timestamp='2019-07-25T19:42:00Z'>19:42</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
amiti: what do you think about the &quot;ever broadcast&quot; flag idea?
<br>
</div>

<div class='talk op-msg' data-timestamp='1564083720' id='673518'>
<a class='timestamp' href='#673518'><time timestamp='2019-07-25T19:42:00Z'>19:42</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
From the gist: &quot;The wallet will attempt to resubmit unconfirmed transactions to the node on a scheduled timer&quot; - does the node remember previously dropped txs?
<br>
</div>

<div class='talk op-msg' data-timestamp='1564083720' id='673519'>
<a class='timestamp' href='#673519'><time timestamp='2019-07-25T19:42:00Z'>19:42</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
provoostenator: the wallet always remembers all its own transactions
<br>
</div>

<div class='talk op-msg' data-timestamp='1564083720' id='673520'>
<a class='timestamp' href='#673520'><time timestamp='2019-07-25T19:42:00Z'>19:42</time></a>
&lt;<span class='nick nick-8'> amiti</span>&gt;
sipa: sounds great! noted. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1564083720' id='673521'>
<a class='timestamp' href='#673521'><time timestamp='2019-07-25T19:42:00Z'>19:42</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
the mempool is completely neutral and doesn&#x27;t treat our own txn different from anyone else&#x27;s
<br>
</div>

<div class='talk op-msg' data-timestamp='1564083780' id='673522'>
<a class='timestamp' href='#673522'><time timestamp='2019-07-25T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
sipa: yes, but wouldn&#x27;t this behavior just cause the node to do a fresh broadcast of all wallet transactions?
<br>
</div>

<div class='talk op-msg' data-timestamp='1564083780' id='673523'>
<a class='timestamp' href='#673523'><time timestamp='2019-07-25T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-8'> amiti</span>&gt;
well. if we add the flag, it wont be completely neutral anymore
<br>
</div>

<div class='talk op-msg' data-timestamp='1564083780' id='673524'>
<a class='timestamp' href='#673524'><time timestamp='2019-07-25T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
sipa: I like it. It sounds even orthogonal to amiti&#x27;s proposed change
<br>
</div>

<div class='talk op-msg' data-timestamp='1564083780' id='673525'>
<a class='timestamp' href='#673525'><time timestamp='2019-07-25T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
MarcoFalke: indeed
<br>
</div>

<div class='talk op-msg' data-timestamp='1564083780' id='673526'>
<a class='timestamp' href='#673526'><time timestamp='2019-07-25T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
amiti: good point
<br>
</div>

<div class='talk op-msg' data-timestamp='1564083780' id='673527'>
<a class='timestamp' href='#673527'><time timestamp='2019-07-25T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but at some point we have to treat our own txn different our they wouldn&#x27;t be broadcast at all :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1564083780' id='673528'>
<a class='timestamp' href='#673528'><time timestamp='2019-07-25T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-7'> jnewbery_</span>&gt;
sipa: we&#x27;re wondering if the wallet rebroadcasting txs that it learns from the mempool is also true for txs received over p2p
<br>
</div>

<div class='talk op-msg' data-timestamp='1564083840' id='673529'>
<a class='timestamp' href='#673529'><time timestamp='2019-07-25T19:44:00Z'>19:44</time></a>
&lt;<span class='nick nick-8'> amiti</span>&gt;
but, given the circumstances harding pointed out, it seems worth it 
<br>
</div>

<div class='talk op-msg' data-timestamp='1564083840' id='673530'>
<a class='timestamp' href='#673530'><time timestamp='2019-07-25T19:44:00Z'>19:44</time></a>
&lt;<span class='nick nick-7'> jnewbery_</span>&gt;
ie that your wallet can be dust-attacked and it&#x27;ll start rebroadcasting the dust txs
<br>
</div>

<div class='talk op-msg' data-timestamp='1564083840' id='673531'>
<a class='timestamp' href='#673531'><time timestamp='2019-07-25T19:44:00Z'>19:44</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
jnewbery_: It should
<br>
</div>

<div class='talk op-msg' data-timestamp='1564083840' id='673532'>
<a class='timestamp' href='#673532'><time timestamp='2019-07-25T19:44:00Z'>19:44</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
s/should/probably does/
<br>
</div>

<div class='talk op-msg' data-timestamp='1564083840' id='673533'>
<a class='timestamp' href='#673533'><time timestamp='2019-07-25T19:44:00Z'>19:44</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jnewbery_: i think a tx learned through the network (wallet or not) should not be treated differently
<br>
</div>

<div class='talk op-msg' data-timestamp='1564083840' id='673534'>
<a class='timestamp' href='#673534'><time timestamp='2019-07-25T19:44:00Z'>19:44</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
only things learned from the wallet or rpc, and never broadcast before
<br>
</div>

<div class='talk op-msg' data-timestamp='1564083900' id='673535'>
<a class='timestamp' href='#673535'><time timestamp='2019-07-25T19:45:00Z'>19:45</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
jnewbery_:  I think this has been done in the past
<br>
</div>

<div class='talk op-msg' data-timestamp='1564083900' id='673536'>
<a class='timestamp' href='#673536'><time timestamp='2019-07-25T19:45:00Z'>19:45</time></a>
&lt;<span class='nick nick-8'> amiti</span>&gt;
provoostenator: if I understand your question correctly, the node will not remember the txns it previously dropped. it would rely on the wallet to resubmit if needed
<br>
</div>

<div class='talk op-msg' data-timestamp='1564083900' id='673537'>
<a class='timestamp' href='#673537'><time timestamp='2019-07-25T19:45:00Z'>19:45</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
Oh, no. It has been done to get the coinselection include the dust
<br>
</div>

<div class='talk op-msg' data-timestamp='1564083900' id='673538'>
<a class='timestamp' href='#673538'><time timestamp='2019-07-25T19:45:00Z'>19:45</time></a>
&lt;<span class='nick nick-7'> jnewbery_</span>&gt;
I guess we want this flag to be saved to mempool.dat so we don&#x27;t rebroadcast our own txs every time we restart
<br>
</div>

<div class='talk op-msg' data-timestamp='1564083960' id='673539'>
<a class='timestamp' href='#673539'><time timestamp='2019-07-25T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jnewbery_: yeah
<br>
</div>

<div class='talk op-msg' data-timestamp='1564083960' id='673540'>
<a class='timestamp' href='#673540'><time timestamp='2019-07-25T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that&#x27;s scary because mempool saving is only done periodically (or even only at shutdown)
<br>
</div>

<div class='talk op-msg' data-timestamp='1564083960' id='673541'>
<a class='timestamp' href='#673541'><time timestamp='2019-07-25T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
so an unclean shutdown could result in unnecessary rebroadcast
<br>
</div>

<div class='talk op-msg' data-timestamp='1564083960' id='673542'>
<a class='timestamp' href='#673542'><time timestamp='2019-07-25T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
-nopersistmempool :eyses:
<br>
</div>

<div class='talk op-msg' data-timestamp='1564084020' id='673543'>
<a class='timestamp' href='#673543'><time timestamp='2019-07-25T19:47:00Z'>19:47</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Unnecessary rebroadcast as a result of a crash doesn&#x27;t seem like a huge issue.
<br>
</div>

<div class='talk op-msg' data-timestamp='1564084020' id='673544'>
<a class='timestamp' href='#673544'><time timestamp='2019-07-25T19:47:00Z'>19:47</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
rebroadcast on every start because you don&#x27;t persist the mempool does sound like an issue
<br>
</div>

<div class='talk op-msg' data-timestamp='1564084020' id='673545'>
<a class='timestamp' href='#673545'><time timestamp='2019-07-25T19:47:00Z'>19:47</time></a>
&lt;<span class='nick nick-5'> harding</span>&gt;
You could put the flag on the transaction in the wallet instead?  was_relayed_to_at_least_one_peer
<br>
</div>

<div class='talk op-msg' data-timestamp='1564084080' id='673546'>
<a class='timestamp' href='#673546'><time timestamp='2019-07-25T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
harding: a bit of a layer violation but yeah
<br>
</div>

<div class='talk op-msg' data-timestamp='1564084080' id='673547'>
<a class='timestamp' href='#673547'><time timestamp='2019-07-25T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
harding: That wouldn&#x27;t work where the wallet is separate from the mempool (two nodes)
<br>
</div>

<div class='talk op-msg' data-timestamp='1564084080' id='673548'>
<a class='timestamp' href='#673548'><time timestamp='2019-07-25T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it means that the &quot;submit to mempool&quot; function needs to return a bool broadcast or not
<br>
</div>

<div class='talk op-msg' data-timestamp='1564084080' id='673549'>
<a class='timestamp' href='#673549'><time timestamp='2019-07-25T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
oh right, it doesn&#x27;t work for RPC
<br>
</div>

<div class='talk op-msg' data-timestamp='1564084080' id='673550'>
<a class='timestamp' href='#673550'><time timestamp='2019-07-25T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Maybe the wallet could ask the node &quot;Do you have this in your mempool?&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1564084140' id='673551'>
<a class='timestamp' href='#673551'><time timestamp='2019-07-25T19:49:00Z'>19:49</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
And maybe also &quot;Put in your mempool, but skip initial broadcast&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1564084140' id='673552'>
<a class='timestamp' href='#673552'><time timestamp='2019-07-25T19:49:00Z'>19:49</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
right but it needs to work even when there is no wallet involved at all
<br>
</div>

<div class='talk op-msg' data-timestamp='1564084140' id='673553'>
<a class='timestamp' href='#673553'><time timestamp='2019-07-25T19:49:00Z'>19:49</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
That moves responsibility to the wallet, which maybe makes sense because it cares about its own privacy.
<br>
</div>

<div class='talk op-msg' data-timestamp='1564084200' id='673554'>
<a class='timestamp' href='#673554'><time timestamp='2019-07-25T19:50:00Z'>19:50</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
sipa: true, that&#x27;s the downside
<br>
</div>

<div class='talk op-msg' data-timestamp='1564084200' id='673555'>
<a class='timestamp' href='#673555'><time timestamp='2019-07-25T19:50:00Z'>19:50</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
We should remove broadcast logic from the wallet and the rpc and tell users to copy-paste the tx into a block explorer over tor
<br>
</div>

<div class='talk op-msg' data-timestamp='1564084260' id='673556'>
<a class='timestamp' href='#673556'><time timestamp='2019-07-25T19:51:00Z'>19:51</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
at least if their node is not connected to tor already
<br>
</div>

<div class='talk op-msg' data-timestamp='1564084260' id='673557'>
<a class='timestamp' href='#673557'><time timestamp='2019-07-25T19:51:00Z'>19:51</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ha
<br>
</div>

<div class='talk op-msg' data-timestamp='1564084260' id='673558'>
<a class='timestamp' href='#673558'><time timestamp='2019-07-25T19:51:00Z'>19:51</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Node-&gt;WalletTransactionBroadcastDelegate
<br>
</div>

<div class='talk op-msg' data-timestamp='1564084260' id='673559'>
<a class='timestamp' href='#673559'><time timestamp='2019-07-25T19:51:00Z'>19:51</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
but yes, this was kind of my point with -walletbroadcast=0 
<br>
</div>

<div class='talk op-msg' data-timestamp='1564084260' id='673560'>
<a class='timestamp' href='#673560'><time timestamp='2019-07-25T19:51:00Z'>19:51</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
do we have other topics? :p
<br>
</div>

<div class='talk op-msg' data-timestamp='1564084320' id='673561'>
<a class='timestamp' href='#673561'><time timestamp='2019-07-25T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
#topic bitcoinbuilds.org (jonasschnelli)
<br>
</div>

<div class='talk op-msg' data-timestamp='1564084320' id='673562'>
<a class='timestamp' href='#673562'><time timestamp='2019-07-25T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-14'> hugohn</span>&gt;
question: if there are empty blocks (could be consecutive), will every node rebroadcast top of the mempool?
<br>
</div>

<div class='talk op-msg' data-timestamp='1564084320' id='673563'>
<a class='timestamp' href='#673563'><time timestamp='2019-07-25T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
It&#x27;s a custom built open source CI that is/can-be-further tailored to our needs. Super slim.
<br>
</div>

<div class='talk op-msg' data-timestamp='1564084320' id='673564'>
<a class='timestamp' href='#673564'><time timestamp='2019-07-25T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
hugohn: I think so
<br>
</div>

<div class='talk op-msg' data-timestamp='1564084320' id='673565'>
<a class='timestamp' href='#673565'><time timestamp='2019-07-25T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
bitcoinbuilds.org
<br>
</div>

<div class='talk op-msg' data-timestamp='1564084380' id='673566'>
<a class='timestamp' href='#673566'><time timestamp='2019-07-25T19:53:00Z'>19:53</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Feature wise its on the same level then travis. Builds fast or even faster then travis on a 50EUR/month machine.
<br>
</div>

<div class='talk op-msg' data-timestamp='1564084380' id='673567'>
<a class='timestamp' href='#673567'><time timestamp='2019-07-25T19:53:00Z'>19:53</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Additionally, one can download the build results and it logs times per task (install/compile-depends/configure/compile/run-tests/etc.)
<br>
</div>

<div class='talk op-msg' data-timestamp='1564084380' id='673568'>
<a class='timestamp' href='#673568'><time timestamp='2019-07-25T19:53:00Z'>19:53</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
jonasschnelli: nice !
<br>
</div>

<div class='talk op-msg' data-timestamp='1564084380' id='673569'>
<a class='timestamp' href='#673569'><time timestamp='2019-07-25T19:53:00Z'>19:53</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Sources are here: <a href="https://github.com/jonasschnelli/bitcoin-core-ci" class="link" target="_blank">https://github.com/jonasschnelli/bitcoin-core-ci</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1564084380' id='673570'>
<a class='timestamp' href='#673570'><time timestamp='2019-07-25T19:53:00Z'>19:53</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Intention is not to replace travis. Just to have a backup option for times when we need it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1564084380' id='673571'>
<a class='timestamp' href='#673571'><time timestamp='2019-07-25T19:53:00Z'>19:53</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
so we can trash travis now? :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1564084380' id='673572'>
<a class='timestamp' href='#673572'><time timestamp='2019-07-25T19:53:00Z'>19:53</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
oh
<br>
</div>

<div class='talk op-msg' data-timestamp='1564084380' id='673573'>
<a class='timestamp' href='#673573'><time timestamp='2019-07-25T19:53:00Z'>19:53</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Maybe at some point.. but not now
<br>
</div>

<div class='talk op-msg' data-timestamp='1564084380' id='673574'>
<a class='timestamp' href='#673574'><time timestamp='2019-07-25T19:53:00Z'>19:53</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I added a github hook.
<br>
</div>

<div class='talk op-msg' data-timestamp='1564084380' id='673575'>
<a class='timestamp' href='#673575'><time timestamp='2019-07-25T19:53:00Z'>19:53</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
github integration is probably the most difficult part
<br>
</div>

<div class='talk op-msg' data-timestamp='1564084380' id='673576'>
<a class='timestamp' href='#673576'><time timestamp='2019-07-25T19:53:00Z'>19:53</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
So it builds are PRs (master after merges soon)
<br>
</div>

<div class='talk op-msg' data-timestamp='1564084440' id='673577'>
<a class='timestamp' href='#673577'><time timestamp='2019-07-25T19:54:00Z'>19:54</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Integration with github is easy
<br>
</div>

<div class='talk op-msg' data-timestamp='1564084440' id='673578'>
<a class='timestamp' href='#673578'><time timestamp='2019-07-25T19:54:00Z'>19:54</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
(e.g. reporting the status on github)
<br>
</div>

<div class='talk op-msg' data-timestamp='1564084440' id='673579'>
<a class='timestamp' href='#673579'><time timestamp='2019-07-25T19:54:00Z'>19:54</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
oh! it used to be pretty much impossible for custom tools
<br>
</div>

<div class='talk op-msg' data-timestamp='1564084440' id='673580'>
<a class='timestamp' href='#673580'><time timestamp='2019-07-25T19:54:00Z'>19:54</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
In general... I was surprised how easy it is to &quot;clone travis&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1564084440' id='673581'>
<a class='timestamp' href='#673581'><time timestamp='2019-07-25T19:54:00Z'>19:54</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
reply from travis: &quot;Thank you for getting in touch and for raising this issue as well. I apologise for the frustration caused over the last month regarding the problems, and I can assure you we are committed to improving your overall experience while using the platform.&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1564084440' id='673582'>
<a class='timestamp' href='#673582'><time timestamp='2019-07-25T19:54:00Z'>19:54</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
(though tailored)
<br>
</div>

<div class='talk op-msg' data-timestamp='1564084500' id='673583'>
<a class='timestamp' href='#673583'><time timestamp='2019-07-25T19:55:00Z'>19:55</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
However,.. feel free to check your PR build on bitcoinbuilds.org and contribute to futher extend it to our needs.
<br>
</div>

<div class='talk op-msg' data-timestamp='1564084500' id='673584'>
<a class='timestamp' href='#673584'><time timestamp='2019-07-25T19:55:00Z'>19:55</time></a>
&lt;<span class='nick nick-3'> meshcollider</span>&gt;
Currently it just compiles I guess, are you planning on adding test execution?
<br>
</div>

<div class='talk op-msg' data-timestamp='1564084500' id='673585'>
<a class='timestamp' href='#673585'><time timestamp='2019-07-25T19:55:00Z'>19:55</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
cfields more detailed dependency cache would certainly be a build-performance booster (for some types of builds)
<br>
</div>

<div class='talk op-msg' data-timestamp='1564084500' id='673586'>
<a class='timestamp' href='#673586'><time timestamp='2019-07-25T19:55:00Z'>19:55</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
MarcoFalke: hopefully that means anything
<br>
</div>

<div class='talk op-msg' data-timestamp='1564084500' id='673587'>
<a class='timestamp' href='#673587'><time timestamp='2019-07-25T19:55:00Z'>19:55</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
meshcollider; it runs the test on linux64/32
<br>
</div>

<div class='talk op-msg' data-timestamp='1564084560' id='673588'>
<a class='timestamp' href='#673588'><time timestamp='2019-07-25T19:56:00Z'>19:56</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
wumpus: I&#x27;d guess its a template response
<br>
</div>

<div class='talk op-msg' data-timestamp='1564084560' id='673589'>
<a class='timestamp' href='#673589'><time timestamp='2019-07-25T19:56:00Z'>19:56</time></a>
&lt;<span class='nick nick-3'> meshcollider</span>&gt;
Oh nice :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1564084560' id='673590'>
<a class='timestamp' href='#673590'><time timestamp='2019-07-25T19:56:00Z'>19:56</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I have also plans to allow running tests on other machines over the internet (like run the ARM tests on a odroid or so)
<br>
</div>

<div class='talk op-msg' data-timestamp='1564084560' id='673591'>
<a class='timestamp' href='#673591'><time timestamp='2019-07-25T19:56:00Z'>19:56</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
Nice
<br>
</div>

<div class='talk op-msg' data-timestamp='1564084560' id='673592'>
<a class='timestamp' href='#673592'><time timestamp='2019-07-25T19:56:00Z'>19:56</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Contributions welcome...
<br>
</div>

<div class='talk op-msg' data-timestamp='1564084620' id='673593'>
<a class='timestamp' href='#673593'><time timestamp='2019-07-25T19:57:00Z'>19:57</time></a>
&lt;<span class='nick nick-7'> jnewbery_</span>&gt;
jonasschnelli: does it use the same travis.yaml format for configuration?
<br>
</div>

<div class='talk op-msg' data-timestamp='1564084620' id='673594'>
<a class='timestamp' href='#673594'><time timestamp='2019-07-25T19:57:00Z'>19:57</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
almost...
<br>
</div>

<div class='talk op-msg' data-timestamp='1564084620' id='673595'>
<a class='timestamp' href='#673595'><time timestamp='2019-07-25T19:57:00Z'>19:57</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
<a href="https://github.com/jonasschnelli/bitcoin-core-ci/blob/master/default.yml" class="link" target="_blank">https://github.com/jonasschnelli/bitcoin-core-ci/blob/master/default.yml</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1564084620' id='673596'>
<a class='timestamp' href='#673596'><time timestamp='2019-07-25T19:57:00Z'>19:57</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
It&#x27;s static for now to not pollute our git
<br>
</div>

<div class='talk op-msg' data-timestamp='1564084680' id='673597'>
<a class='timestamp' href='#673597'><time timestamp='2019-07-25T19:58:00Z'>19:58</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
oh that&#x27;s neat!
<br>
</div>

<div class='talk op-msg' data-timestamp='1564084680' id='673598'>
<a class='timestamp' href='#673598'><time timestamp='2019-07-25T19:58:00Z'>19:58</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ideally our travis.yml doesn&#x27;t really contain any logic apart from &quot;invoke CI step 1&quot;, &quot;invoke CI step 2.a&quot;, and caching ... which are implemented as a shell script
<br>
</div>

<div class='talk op-msg' data-timestamp='1564084680' id='673599'>
<a class='timestamp' href='#673599'><time timestamp='2019-07-25T19:58:00Z'>19:58</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1564084680' id='673600'>
<a class='timestamp' href='#673600'><time timestamp='2019-07-25T19:58:00Z'>19:58</time></a>
&lt;<span class='nick nick-7'> jnewbery_</span>&gt;
sipa: for logic yes, but there&#x27;s various config in there too
<br>
</div>

<div class='talk op-msg' data-timestamp='1564084680' id='673601'>
<a class='timestamp' href='#673601'><time timestamp='2019-07-25T19:58:00Z'>19:58</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
Some of the variables in the script are travis specific, but it shouldn&#x27;t be too hard to replace them
<br>
</div>

<div class='talk op-msg' data-timestamp='1564084740' id='673602'>
<a class='timestamp' href='#673602'><time timestamp='2019-07-25T19:59:00Z'>19:59</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
right
<br>
</div>

<div class='talk op-msg' data-timestamp='1564084740' id='673603'>
<a class='timestamp' href='#673603'><time timestamp='2019-07-25T19:59:00Z'>19:59</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
Happy to review a pull if someone wants to pull them out
<br>
</div>

<div class='talk op-msg' data-timestamp='1564084740' id='673604'>
<a class='timestamp' href='#673604'><time timestamp='2019-07-25T19:59:00Z'>19:59</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
We could use the .travis folder in the custom CI,.. sure.
<br>
</div>

<div class='talk op-msg' data-timestamp='1564084740' id='673605'>
<a class='timestamp' href='#673605'><time timestamp='2019-07-25T19:59:00Z'>19:59</time></a>
&lt;<span class='nick nick-7'> jnewbery_</span>&gt;
jonasschnelli: do you plan to update <a href="https://github.com/jonasschnelli/bitcoin-core-ci/blob/master/default.yml" class="link" target="_blank">https://github.com/jonasschnelli/bitcoin-core-ci/blob/master/default.yml</a> if the travis.yml file changes
<br>
</div>

<div class='talk op-msg' data-timestamp='1564084800' id='673606'>
<a class='timestamp' href='#673606'><time timestamp='2019-07-25T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-4'> * sipa</span>&gt;
-&gt; lunch
<br>
</div>

<div class='talk op-msg' data-timestamp='1564084800' id='673607'>
<a class='timestamp' href='#673607'><time timestamp='2019-07-25T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
jnewbery_: I could..
<br>
</div>

<div class='talk op-msg' data-timestamp='1564084800' id='673608'>
<a class='timestamp' href='#673608'><time timestamp='2019-07-25T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-5'> * MarcoFalke</span>&gt;
-&gt; tea
<br>
</div>

<div class='talk op-msg' data-timestamp='1564084800' id='673609'>
<a class='timestamp' href='#673609'><time timestamp='2019-07-25T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
or we add one in our github
<br>
</div>

<div class='talk op-msg' data-timestamp='1564084800' id='673610'>
<a class='timestamp' href='#673610'><time timestamp='2019-07-25T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
or we load .travis
<br>
</div>

<div class='talk op-msg' data-timestamp='1564084800' id='673611'>
<a class='timestamp' href='#673611'><time timestamp='2019-07-25T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
<b>*dong*</b>
<br>
</div>

<div class='talk op-msg' data-timestamp='1564084800' id='673612'>
<a class='timestamp' href='#673612'><time timestamp='2019-07-25T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
#endmeeting
<br>
</div>

<div class='talk op-msg' data-timestamp='1564084800' id='673613'>
<a class='timestamp' href='#673613'><time timestamp='2019-07-25T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Meeting ended Thu Jul 25 20:00:40 2019 UTC.  Information about MeetBot at <a href="http://wiki.debian.org/MeetBot" class="link" target="_blank">http://wiki.debian.org/MeetBot</a> . (v 0.1.4)
<br>
</div>

<div class='talk op-msg' data-timestamp='1564084800' id='673614'>
<a class='timestamp' href='#673614'><time timestamp='2019-07-25T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Minutes:        <a href="http://www.erisian.com.au/meetbot/bitcoin-core-dev/2019/bitcoin-core-dev.2019-07-25-19.00.html" class="link" target="_blank">http://www.erisian.com.au/meetbot/bitcoin-core-dev/2019/bitcoin-core-dev.2019-07-25-19.00.html</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1564084800' id='673615'>
<a class='timestamp' href='#673615'><time timestamp='2019-07-25T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Minutes (text): <a href="http://www.erisian.com.au/meetbot/bitcoin-core-dev/2019/bitcoin-core-dev.2019-07-25-19.00.txt" class="link" target="_blank">http://www.erisian.com.au/meetbot/bitcoin-core-dev/2019/bitcoin-core-dev.2019-07-25-19.00.txt</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1564084800' id='673616'>
<a class='timestamp' href='#673616'><time timestamp='2019-07-25T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Log:            <a href="http://www.erisian.com.au/meetbot/bitcoin-core-dev/2019/bitcoin-core-dev.2019-07-25-19.00.log.html" class="link" target="_blank">http://www.erisian.com.au/meetbot/bitcoin-core-dev/2019/bitcoin-core-dev.2019-07-25-19.00.log.html</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1564084800' id='673617'>
<a class='timestamp' href='#673617'><time timestamp='2019-07-25T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-7'> jnewbery_</span>&gt;
jonasschnelli: thanks for doing this! Definitely useful to have an alternative
<br>
</div>

<div class='talk op-msg' data-timestamp='1564084860' id='673618'>
<a class='timestamp' href='#673618'><time timestamp='2019-07-25T20:01:00Z'>20:01</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
oh whoops, meeting, I thought you guys were really just havin a productive normal discussion
<br>
</div>

<div class='talk op-msg' data-timestamp='1564084860' id='673619'>
<a class='timestamp' href='#673619'><time timestamp='2019-07-25T20:01:00Z'>20:01</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
heh
<br>
</div>

<div class='talk op-msg' data-timestamp='1564084860' id='673620'>
<a class='timestamp' href='#673620'><time timestamp='2019-07-25T20:01:00Z'>20:01</time></a>
&lt;<span class='nick nick-8'> amiti</span>&gt;
thank you everyone for all the feedback :) 
<br>
</div>

<div class='talk op-msg' data-timestamp='1564084920' id='673621'>
<a class='timestamp' href='#673621'><time timestamp='2019-07-25T20:02:00Z'>20:02</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
jnewbery_: also, eventually travis builds other stuff then bitcoinbuilds.org does (if both are running fine)...
<br>
</div>

<div class='talk op-msg' data-timestamp='1564084920' id='673622'>
<a class='timestamp' href='#673622'><time timestamp='2019-07-25T20:02:00Z'>20:02</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
so the .travis file doesn&#x27;t need to be directly synced
<br>
</div>

<div class='talk op-msg' data-timestamp='1564084980' id='673623'>
<a class='timestamp' href='#673623'><time timestamp='2019-07-25T20:03:00Z'>20:03</time></a>
&lt;<span class='nick nick-14'> hugohn</span>&gt;
amiti: should there be a check for minimum of empty blocks seen before triggering rebroadcast ? seems bad to have every node rebroadcast top of the mempool as soon as there&#x27;s one empty block. (Granted, empty blocks would not be a problem post-subsidy, but might still be a problem now.)
<br>
</div>

<div class='talk op-msg' data-timestamp='1564085160' id='673624'>
<a class='timestamp' href='#673624'><time timestamp='2019-07-25T20:06:00Z'>20:06</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
single empty blocks are still quite common, not due to lack of mempool contents
<br>
</div>

<div class='talk op-msg' data-timestamp='1564085160' id='673625'>
<a class='timestamp' href='#673625'><time timestamp='2019-07-25T20:06:00Z'>20:06</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
(I haven&#x27;t read the latest proposal, sorry)
<br>
</div>

<div class='talk op-msg' data-timestamp='1564085160' id='673626'>
<a class='timestamp' href='#673626'><time timestamp='2019-07-25T20:06:00Z'>20:06</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
if there is per-tx mempool tracking anyway, there could be a &quot;point sysyem&quot; where every time a tx was expected to have been in a block but wasn&#x27;t, it gets a point; if the number of points exceeds some threshold, rebroadcast and increment a counter that next time more points are needed
<br>
</div>

<div class='talk op-msg' data-timestamp='1564085700' id='673627'>
<a class='timestamp' href='#673627'><time timestamp='2019-07-25T20:15:00Z'>20:15</time></a>
&lt;<span class='nick nick-11'> lightlike</span>&gt;
is it also common that non-empty blocks are mined that include many low-fee txes even if higher ones are available? or is it mostly either empty or fee-efficient?
<br>
</div>

<div class='talk op-msg' data-timestamp='1564085820' id='673628'>
<a class='timestamp' href='#673628'><time timestamp='2019-07-25T20:17:00Z'>20:17</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 2 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/fcc4025c1255...a54a12046e98" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/fcc4025c1255...a54a12046e98</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1564085820' id='673629'>
<a class='timestamp' href='#673629'><time timestamp='2019-07-25T20:17:00Z'>20:17</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 248e22b fanquake: depends: disable unused Qt features
<br>
</div>

<div class='talk op-msg' data-timestamp='1564085820' id='673630'>
<a class='timestamp' href='#673630'><time timestamp='2019-07-25T20:17:00Z'>20:17</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master a54a120 Wladimir J. van der Laan: Merge #16386: depends: disable unused Qt features
<br>
</div>

<div class='talk op-msg' data-timestamp='1564086420' id='673631'>
<a class='timestamp' href='#673631'><time timestamp='2019-07-25T20:27:00Z'>20:27</time></a>
&lt;<span class='nick nick-8'> amiti</span>&gt;
hugohn: the current thinking is not to trigger rebroadcast based on block timing, but rather an independent timer. the idea is if we choose the param of &quot;is txn recent&quot; to be long enough, we should be able to avoid excessive broadcast of txns even in edge cases.
<br>
</div>

<div class='talk op-msg' data-timestamp='1564086420' id='673632'>
<a class='timestamp' href='#673632'><time timestamp='2019-07-25T20:27:00Z'>20:27</time></a>
&lt;<span class='nick nick-8'> amiti</span>&gt;
sipa: thats an interesting idea. I&#x27;ll add it to considerations. there are a lot of options for strategies to mitigate excessive rebroadcasting (and bandwidth usage) with the main tradeoffs being memory / code complexity. another way of storing per-tx mempool data would be a stamp of the `last_rebroadcast_at` and enforce a minimum there.
<br>
</div>

<div class='talk op-msg' data-timestamp='1564086420' id='673633'>
<a class='timestamp' href='#673633'><time timestamp='2019-07-25T20:27:00Z'>20:27</time></a>
&lt;<span class='nick nick-14'> hugohn</span>&gt;
lightlike: high-fee txns could get skipped simply due to timing/relaying issues, so I can see that happening. In fact, it sounds like amiti&#x27;s proposal is geared towards solving that kind of scenario. Normally you would not expect miners to skip high-fee txns as it does not make economic sense to do so.
<br>
</div>

<div class='talk op-msg' data-timestamp='1564086540' id='673634'>
<a class='timestamp' href='#673634'><time timestamp='2019-07-25T20:29:00Z'>20:29</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
MarcoFalke: looks like it&#x27;s not picking up the &quot;needs gitian build&quot; on #16441
<br>
</div>

<div class='talk op-msg' data-timestamp='1564086540' id='673635'>
<a class='timestamp' href='#673635'><time timestamp='2019-07-25T20:29:00Z'>20:29</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/16441" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/16441</a> | build: remove qt libjpeg check from bitcoin_qt.m4 by fanquake · Pull Request #16441 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1564086840' id='673636'>
<a class='timestamp' href='#673636'><time timestamp='2019-07-25T20:34:00Z'>20:34</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
wumpus: Thx. Looking
<br>
</div>

<div class='talk op-msg' data-timestamp='1564086900' id='673637'>
<a class='timestamp' href='#673637'><time timestamp='2019-07-25T20:35:00Z'>20:35</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
FileNotFoundError: [Errno 2] No such file or directory: &#x27;make&#x27;: &#x27;make&#x27;
<br>
</div>

<div class='talk op-msg' data-timestamp='1564086960' id='673638'>
<a class='timestamp' href='#673638'><time timestamp='2019-07-25T20:36:00Z'>20:36</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
I transferred to a new vm. I guess the host needs make to make the depends
<br>
</div>

<div class='talk op-msg' data-timestamp='1564086960' id='673639'>
<a class='timestamp' href='#673639'><time timestamp='2019-07-25T20:36:00Z'>20:36</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
lol
<br>
</div>

<div class='talk op-msg' data-timestamp='1564087020' id='673640'>
<a class='timestamp' href='#673640'><time timestamp='2019-07-25T20:37:00Z'>20:37</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
hehe
<br>
</div>

<div class='talk op-msg' data-timestamp='1564087080' id='673641'>
<a class='timestamp' href='#673641'><time timestamp='2019-07-25T20:38:00Z'>20:38</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
Fixed. Let&#x27;s check back in two days. (it is half a cpu)
<br>
</div>

<div class='talk op-msg' data-timestamp='1564087140' id='673642'>
<a class='timestamp' href='#673642'><time timestamp='2019-07-25T20:39:00Z'>20:39</time></a>
&lt;<span class='nick nick-14'> hugohn</span>&gt;
&gt; not to trigger rebroadcast based on block timing, but rather an independent timer
<br>
</div>

<div class='talk op-msg' data-timestamp='1564087140' id='673643'>
<a class='timestamp' href='#673643'><time timestamp='2019-07-25T20:39:00Z'>20:39</time></a>
&lt;<span class='nick nick-14'> hugohn</span>&gt;
amiti: I see, looks like rebroadcast is triggered once / hour based on the current proposal. Would there be an issue though if there is a sudden drop in hash rate? I suppose an hour should give plenty of room to account for hash rate drop.
<br>
</div>

<div class='talk op-msg' data-timestamp='1564087320' id='673644'>
<a class='timestamp' href='#673644'><time timestamp='2019-07-25T20:42:00Z'>20:42</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
MarcoFalke: thanks!
<br>
</div>

<div class='talk op-msg' data-timestamp='1564088100' id='673645'>
<a class='timestamp' href='#673645'><time timestamp='2019-07-25T20:55:00Z'>20:55</time></a>
&lt;<span class='nick nick-10'> elichai2</span>&gt;
jonasschnelli: btw, this might interest you: <a href="https://github.com/drone/drone" class="link" target="_blank">https://github.com/drone/drone</a> it&#x27;s also open source and it&#x27;s dockerized, I used it in the past when I wanted to host my own CI, so you don&#x27;t have to pay anything except your server(then you can take a powerful one for fast compilation time)
<br>
</div>

<div class='talk op-msg' data-timestamp='1564088160' id='673646'>
<a class='timestamp' href='#673646'><time timestamp='2019-07-25T20:56:00Z'>20:56</time></a>
&lt;<span class='nick nick-8'> amiti</span>&gt;
hugohn: I think more relevant than the frequency of the rebroadcast job is the definition of &quot;recent&quot; transaction. the current proposal has that defined as 30 minutes, which may be too low.
<br>
</div>

<div class='talk op-msg' data-timestamp='1564088160' id='673647'>
<a class='timestamp' href='#673647'><time timestamp='2019-07-25T20:56:00Z'>20:56</time></a>
&lt;<span class='nick nick-8'> amiti</span>&gt;
right now with the params chosen (enforce max rebroadcast of 1000 txns/hour) my back-of-the-envelope math has the worst case as 36 kb max of inv message / hour. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1564088160' id='673648'>
<a class='timestamp' href='#673648'><time timestamp='2019-07-25T20:56:00Z'>20:56</time></a>
&lt;<span class='nick nick-8'> amiti</span>&gt;
I&#x27;d be curious to hear evaluations of how impactful that seems.
<br>
</div>

<div class='talk op-msg' data-timestamp='1564088160' id='673649'>
<a class='timestamp' href='#673649'><time timestamp='2019-07-25T20:56:00Z'>20:56</time></a>
&lt;<span class='nick nick-8'> amiti</span>&gt;
The worst case bandwidth usage would be very tune-able by choosing conservative params.
<br>
</div>

<div class='talk op-msg' data-timestamp='1564088700' id='673650'>
<a class='timestamp' href='#673650'><time timestamp='2019-07-25T21:05:00Z'>21:05</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke opened pull request #16465: test: Test p2sh-witness and bech32 in wallet_import_rescan (master...1907-testAllAddressTypesImport) <a href="https://github.com/bitcoin/bitcoin/pull/16465" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/16465</a>
<br>
</div>

</div>
</section>

</body>
</html>
