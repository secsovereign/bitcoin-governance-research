<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2019-07-15
 — 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2019-07-15' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:20 UTC</pre>
<pre><a href="/bitcoin-core-dev/2019-06-15">&lt;</a><span class='header'>    July 2019     </span><a href="/bitcoin-core-dev/2019-08-15">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;    <a class="" href="/bitcoin-core-dev/2019-07-01">1</a>  <a class="" href="/bitcoin-core-dev/2019-07-02">2</a>  <a class="" href="/bitcoin-core-dev/2019-07-03">3</a>  <a class="" href="/bitcoin-core-dev/2019-07-04">4</a>  <a class="" href="/bitcoin-core-dev/2019-07-05">5</a>  <a class="" href="/bitcoin-core-dev/2019-07-06">6</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2019-07-07">7</a>  <a class="" href="/bitcoin-core-dev/2019-07-08">8</a>  <a class="" href="/bitcoin-core-dev/2019-07-09">9</a> <a class="" href="/bitcoin-core-dev/2019-07-10">10</a> <a class="" href="/bitcoin-core-dev/2019-07-11">11</a> <a class="" href="/bitcoin-core-dev/2019-07-12">12</a> <a class="" href="/bitcoin-core-dev/2019-07-13">13</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2019-07-14">14</a> <a class="current" href="/bitcoin-core-dev/2019-07-15">15</a> <a class="" href="/bitcoin-core-dev/2019-07-16">16</a> <a class="" href="/bitcoin-core-dev/2019-07-17">17</a> <a class="" href="/bitcoin-core-dev/2019-07-18">18</a> <a class="" href="/bitcoin-core-dev/2019-07-19">19</a> <a class="" href="/bitcoin-core-dev/2019-07-20">20</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2019-07-21">21</a> <a class="" href="/bitcoin-core-dev/2019-07-22">22</a> <a class="" href="/bitcoin-core-dev/2019-07-23">23</a> <a class="" href="/bitcoin-core-dev/2019-07-24">24</a> <a class="" href="/bitcoin-core-dev/2019-07-25">25</a> <a class="" href="/bitcoin-core-dev/2019-07-26">26</a> <a class="" href="/bitcoin-core-dev/2019-07-27">27</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2019-07-28">28</a> <a class="" href="/bitcoin-core-dev/2019-07-29">29</a> <a class="" href="/bitcoin-core-dev/2019-07-30">30</a> <a class="" href="/bitcoin-core-dev/2019-07-31">31</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1563173040' id='671848'>
<a class='timestamp' href='#671848'><time timestamp='2019-07-15T06:44:00Z'>06:44</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
Does anyone know why Travis gets marked as failing, even though all tests are passing? i.e <a href="https://travis-ci.org/bitcoin/bitcoin/builds/558768209" class="link" target="_blank">https://travis-ci.org/bitcoin/bitcoin/builds/558768209</a> is all green, but I see red in the GitHub UI (#16386) .It seems that running the extended lint stage will kick it over to green though..
<br>
</div>

<div class='talk op-msg' data-timestamp='1563173040' id='671849'>
<a class='timestamp' href='#671849'><time timestamp='2019-07-15T06:44:00Z'>06:44</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/16386" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/16386</a> | depends: disable unused Qt features by fanquake · Pull Request #16386 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1563173880' id='671850'>
<a class='timestamp' href='#671850'><time timestamp='2019-07-15T06:58:00Z'>06:58</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] fanquake opened pull request #16392: WIP build: macOS toolchain update (master...macos-toolchain-update) <a href="https://github.com/bitcoin/bitcoin/pull/16392" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/16392</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1563186840' id='671851'>
<a class='timestamp' href='#671851'><time timestamp='2019-07-15T10:34:00Z'>10:34</time></a>
&lt;<span class='nick nick-7'> stevenroose</span>&gt;
Is there a limit to the size of the label field for addresses?
<br>
</div>

<div class='talk op-msg' data-timestamp='1563192240' id='671852'>
<a class='timestamp' href='#671852'><time timestamp='2019-07-15T12:04:00Z'>12:04</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke pushed 2 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/536590f358dc...0822b44d8a68" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/536590f358dc...0822b44d8a68</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1563192240' id='671853'>
<a class='timestamp' href='#671853'><time timestamp='2019-07-15T12:04:00Z'>12:04</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 8f250ab Steven Roose: TEST: Replace hard-coded hex tx with classes
<br>
</div>

<div class='talk op-msg' data-timestamp='1563192240' id='671854'>
<a class='timestamp' href='#671854'><time timestamp='2019-07-15T12:04:00Z'>12:04</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 0822b44 MarcoFalke: Merge #15282: test: Replace hard-coded hex tx with class in test framework...
<br>
</div>

<div class='talk op-msg' data-timestamp='1563192240' id='671855'>
<a class='timestamp' href='#671855'><time timestamp='2019-07-15T12:04:00Z'>12:04</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke merged pull request #15282: test: Replace hard-coded hex tx with class in test framework (master...util-messages) <a href="https://github.com/bitcoin/bitcoin/pull/15282" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/15282</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1563202380' id='671856'>
<a class='timestamp' href='#671856'><time timestamp='2019-07-15T14:53:00Z'>14:53</time></a>
&lt;<span class='nick nick-6'> jb55</span>&gt;
stevenroose: it looks like it&#x27;s serialized as compactsized-length and then a string, so no.
<br>
</div>

<div class='talk op-msg' data-timestamp='1563202440' id='671857'>
<a class='timestamp' href='#671857'><time timestamp='2019-07-15T14:54:00Z'>14:54</time></a>
&lt;<span class='nick nick-7'> stevenroose</span>&gt;
jb55: cool, thanks!
<br>
</div>

<div class='talk op-msg' data-timestamp='1563202440' id='671858'>
<a class='timestamp' href='#671858'><time timestamp='2019-07-15T14:54:00Z'>14:54</time></a>
&lt;<span class='nick nick-7'> stevenroose</span>&gt;
I need to store multiple pieces of information in there for some project. So I&#x27;ll fill it with a JSON object with multiple fields :D
<br>
</div>

<div class='talk op-msg' data-timestamp='1563202500' id='671859'>
<a class='timestamp' href='#671859'><time timestamp='2019-07-15T14:55:00Z'>14:55</time></a>
&lt;<span class='nick nick-7'> stevenroose</span>&gt;
They say blockchain is just a slow database :D
<br>
</div>

<div class='talk op-msg' data-timestamp='1563202800' id='671860'>
<a class='timestamp' href='#671860'><time timestamp='2019-07-15T15:00:00Z'>15:00</time></a>
&lt;<span class='nick nick-7'> stevenroose</span>&gt;
Something else less core-related: the segwit p2wpkh verification is implemented totally stand-alone, right?
<br>
</div>

<div class='talk op-msg' data-timestamp='1563202800' id='671861'>
<a class='timestamp' href='#671861'><time timestamp='2019-07-15T15:00:00Z'>15:00</time></a>
&lt;<span class='nick nick-7'> stevenroose</span>&gt;
It&#x27;s not converted into some weird script or so, right? I&#x27;m pretty sure it&#x27;s not. It&#x27;s just that I&#x27;m spending a segwit output in a test script and I&#x27;m getting this error:
<br>
</div>

<div class='talk op-msg' data-timestamp='1563202860' id='671862'>
<a class='timestamp' href='#671862'><time timestamp='2019-07-15T15:01:00Z'>15:01</time></a>
&lt;<span class='nick nick-7'> stevenroose</span>&gt;
non-mandatory-script-verify-flag (Script failed an OP_EQUALVERIFY operation) (code 64)
<br>
</div>

<div class='talk op-msg' data-timestamp='1563202920' id='671863'>
<a class='timestamp' href='#671863'><time timestamp='2019-07-15T15:02:00Z'>15:02</time></a>
&lt;<span class='nick nick-7'> stevenroose</span>&gt;
I&#x27;m asserting above that this is the script: 0014621daf5f171129d0c56f9d012b9306e215bde726, which is clearly a segwit script and not p2pkh or whatever script with OP_EQUALVERIFY
<br>
</div>

<div class='talk op-msg' data-timestamp='1563204000' id='671864'>
<a class='timestamp' href='#671864'><time timestamp='2019-07-15T15:20:00Z'>15:20</time></a>
&lt;<span class='nick nick-7'> stevenroose</span>&gt;
Does segwit also require adding the sighash byte at the end of the signature?
<br>
</div>

<div class='talk op-msg' data-timestamp='1563204060' id='671865'>
<a class='timestamp' href='#671865'><time timestamp='2019-07-15T15:21:00Z'>15:21</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
p2wpkh/p2wsh do
<br>
</div>

<div class='talk op-msg' data-timestamp='1563204120' id='671866'>
<a class='timestamp' href='#671866'><time timestamp='2019-07-15T15:22:00Z'>15:22</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and p2wpkh uses as redeemscript the equivalent p2pkh script
<br>
</div>

<div class='talk op-msg' data-timestamp='1563204240' id='671867'>
<a class='timestamp' href='#671867'><time timestamp='2019-07-15T15:24:00Z'>15:24</time></a>
&lt;<span class='nick nick-7'> stevenroose</span>&gt;
sipa so for the bip143 sighash calculation, do I need to provide a &quot;witness script&quot;?
<br>
</div>

<div class='talk op-msg' data-timestamp='1563204240' id='671868'>
<a class='timestamp' href='#671868'><time timestamp='2019-07-15T15:24:00Z'>15:24</time></a>
&lt;<span class='nick nick-7'> stevenroose</span>&gt;
I thought that was only for p2wsh.
<br>
</div>

<div class='talk op-msg' data-timestamp='1563204240' id='671869'>
<a class='timestamp' href='#671869'><time timestamp='2019-07-15T15:24:00Z'>15:24</time></a>
&lt;<span class='nick nick-7'> stevenroose</span>&gt;
After adding the sighash byte, I&#x27;m getting this: non-mandatory-script-verify-flag (Signature must be zero for failed CHECK(MULTI)SIG operation) (code 64)
<br>
</div>

<div class='talk op-msg' data-timestamp='1563204300' id='671870'>
<a class='timestamp' href='#671870'><time timestamp='2019-07-15T15:25:00Z'>15:25</time></a>
&lt;<span class='nick nick-7'> stevenroose</span>&gt;
It seems that segwit operations somehow enter the script execution code, which confuses me.
<br>
</div>

<div class='talk op-msg' data-timestamp='1563204360' id='671871'>
<a class='timestamp' href='#671871'><time timestamp='2019-07-15T15:26:00Z'>15:26</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
stevenroose: the witness script never goes into the sighash
<br>
</div>

<div class='talk op-msg' data-timestamp='1563204360' id='671872'>
<a class='timestamp' href='#671872'><time timestamp='2019-07-15T15:26:00Z'>15:26</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
not in v0 witness or in legacy
<br>
</div>

<div class='talk op-msg' data-timestamp='1563204420' id='671873'>
<a class='timestamp' href='#671873'><time timestamp='2019-07-15T15:27:00Z'>15:27</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
the <b>*executed code*</b> (scriptcode) goes into the sighash
<br>
</div>

<div class='talk op-msg' data-timestamp='1563204420' id='671874'>
<a class='timestamp' href='#671874'><time timestamp='2019-07-15T15:27:00Z'>15:27</time></a>
&lt;<span class='nick nick-7'> stevenroose</span>&gt;
sipa: this field 5. scriptCode of the input (serialized as scripts inside CTxOuts)
<br>
</div>

<div class='talk op-msg' data-timestamp='1563204420' id='671875'>
<a class='timestamp' href='#671875'><time timestamp='2019-07-15T15:27:00Z'>15:27</time></a>
&lt;<span class='nick nick-7'> stevenroose</span>&gt;
Is called &quot;witness_script&quot; in Andrew&#x27;s Rust implementation.
<br>
</div>

<div class='talk op-msg' data-timestamp='1563204420' id='671876'>
<a class='timestamp' href='#671876'><time timestamp='2019-07-15T15:27:00Z'>15:27</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that&#x27;s confusing
<br>
</div>

<div class='talk op-msg' data-timestamp='1563204420' id='671877'>
<a class='timestamp' href='#671877'><time timestamp='2019-07-15T15:27:00Z'>15:27</time></a>
&lt;<span class='nick nick-7'> stevenroose</span>&gt;
What should I provide for that? The output script of the utxo?
<br>
</div>

<div class='talk op-msg' data-timestamp='1563204420' id='671878'>
<a class='timestamp' href='#671878'><time timestamp='2019-07-15T15:27:00Z'>15:27</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
the executed code
<br>
</div>

<div class='talk op-msg' data-timestamp='1563204480' id='671879'>
<a class='timestamp' href='#671879'><time timestamp='2019-07-15T15:28:00Z'>15:28</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
for p2wsh that is the witness script
<br>
</div>

<div class='talk op-msg' data-timestamp='1563204480' id='671880'>
<a class='timestamp' href='#671880'><time timestamp='2019-07-15T15:28:00Z'>15:28</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
for p2wpkh that is the equivalent p2pkh script
<br>
</div>

<div class='talk op-msg' data-timestamp='1563204480' id='671881'>
<a class='timestamp' href='#671881'><time timestamp='2019-07-15T15:28:00Z'>15:28</time></a>
&lt;<span class='nick nick-7'> stevenroose</span>&gt;
I don&#x27;t know what the &quot;executed code&quot; or &quot;witness script&quot; refer to?
<br>
</div>

<div class='talk op-msg' data-timestamp='1563204480' id='671882'>
<a class='timestamp' href='#671882'><time timestamp='2019-07-15T15:28:00Z'>15:28</time></a>
&lt;<span class='nick nick-7'> stevenroose</span>&gt;
Witness program?
<br>
</div>

<div class='talk op-msg' data-timestamp='1563204480' id='671883'>
<a class='timestamp' href='#671883'><time timestamp='2019-07-15T15:28:00Z'>15:28</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
bip143 has examples
<br>
</div>

<div class='talk op-msg' data-timestamp='1563204480' id='671884'>
<a class='timestamp' href='#671884'><time timestamp='2019-07-15T15:28:00Z'>15:28</time></a>
&lt;<span class='nick nick-7'> stevenroose</span>&gt;
The p2wpkh script_pubkey?
<br>
</div>

<div class='talk op-msg' data-timestamp='1563204480' id='671885'>
<a class='timestamp' href='#671885'><time timestamp='2019-07-15T15:28:00Z'>15:28</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
the program being executed
<br>
</div>

<div class='talk op-msg' data-timestamp='1563204480' id='671886'>
<a class='timestamp' href='#671886'><time timestamp='2019-07-15T15:28:00Z'>15:28</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i don&#x27;t know how i can be clearer :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1563204540' id='671887'>
<a class='timestamp' href='#671887'><time timestamp='2019-07-15T15:29:00Z'>15:29</time></a>
&lt;<span class='nick nick-7'> stevenroose</span>&gt;
ss &lt;&lt; static_cast&lt;const CScriptBase&amp;&gt;(scriptCode);
<br>
</div>

<div class='talk op-msg' data-timestamp='1563204540' id='671888'>
<a class='timestamp' href='#671888'><time timestamp='2019-07-15T15:29:00Z'>15:29</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1563204540' id='671889'>
<a class='timestamp' href='#671889'><time timestamp='2019-07-15T15:29:00Z'>15:29</time></a>
&lt;<span class='nick nick-7'> stevenroose</span>&gt;
sipa: well I don&#x27;t know which program is gonna be executed without knowing the internals, right? :) What is more helpful is where I can find that program..
<br>
</div>

<div class='talk op-msg' data-timestamp='1563204600' id='671890'>
<a class='timestamp' href='#671890'><time timestamp='2019-07-15T15:30:00Z'>15:30</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
scriptCode is the script being executes by the script interpreter
<br>
</div>

<div class='talk op-msg' data-timestamp='1563204600' id='671891'>
<a class='timestamp' href='#671891'><time timestamp='2019-07-15T15:30:00Z'>15:30</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
for p2wsh that is the witness program
<br>
</div>

<div class='talk op-msg' data-timestamp='1563204600' id='671892'>
<a class='timestamp' href='#671892'><time timestamp='2019-07-15T15:30:00Z'>15:30</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
for p2wpkh that is the equivalent p2pkh program (dup hash160 &lt;hash&gt; equalverify checksig, iirc)
<br>
</div>

<div class='talk op-msg' data-timestamp='1563204660' id='671893'>
<a class='timestamp' href='#671893'><time timestamp='2019-07-15T15:31:00Z'>15:31</time></a>
&lt;<span class='nick nick-7'> stevenroose</span>&gt;
I&#x27;m getting OP_EQUALVERIFY errors, so I&#x27;m getting the feeling that segwit validation is somehow done by converting the witness program into a legacy script equivalent. I never heard of such a thing, though, so I&#x27;m confused :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1563204660' id='671894'>
<a class='timestamp' href='#671894'><time timestamp='2019-07-15T15:31:00Z'>15:31</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1563204660' id='671895'>
<a class='timestamp' href='#671895'><time timestamp='2019-07-15T15:31:00Z'>15:31</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i just told you
<br>
</div>

<div class='talk op-msg' data-timestamp='1563204660' id='671896'>
<a class='timestamp' href='#671896'><time timestamp='2019-07-15T15:31:00Z'>15:31</time></a>
&lt;<span class='nick nick-7'> stevenroose</span>&gt;
Ah ok, so there actually <b>*is*</b> some kind of p2wpkh-&gt;p2pkh convertion under the hood.
<br>
</div>

<div class='talk op-msg' data-timestamp='1563204660' id='671897'>
<a class='timestamp' href='#671897'><time timestamp='2019-07-15T15:31:00Z'>15:31</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1563204720' id='671898'>
<a class='timestamp' href='#671898'><time timestamp='2019-07-15T15:32:00Z'>15:32</time></a>
&lt;<span class='nick nick-7'> stevenroose</span>&gt;
Wow, that&#x27;s strange :) Glad that goes with taproot :) Ok, so I have to serialize a legacy p2pkh output script and provide that. Cool, thanks!
<br>
</div>

<div class='talk op-msg' data-timestamp='1563205020' id='671899'>
<a class='timestamp' href='#671899'><time timestamp='2019-07-15T15:37:00Z'>15:37</time></a>
&lt;<span class='nick nick-7'> stevenroose</span>&gt;
Yay, that worked!
<br>
</div>

<div class='talk op-msg' data-timestamp='1563205080' id='671900'>
<a class='timestamp' href='#671900'><time timestamp='2019-07-15T15:38:00Z'>15:38</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
:)
<br>
</div>

<div class='talk op-msg' data-timestamp='1563212880' id='671901'>
<a class='timestamp' href='#671901'><time timestamp='2019-07-15T17:48:00Z'>17:48</time></a>
&lt;<span class='nick nick-2'> Raystonn</span>&gt;
There are way too many cases of CAmount and double being mixed together.  That&#x27;s just unsafe.  I&#x27;m going to start cleaning those up.  CAmount should not be used with floating point types, which can drop digits.
<br>
</div>

<div class='talk op-msg' data-timestamp='1563212940' id='671902'>
<a class='timestamp' href='#671902'><time timestamp='2019-07-15T17:49:00Z'>17:49</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
doubles have 52 bit precision, which is sufficient for any valid BTC amount
<br>
</div>

<div class='talk op-msg' data-timestamp='1563212940' id='671903'>
<a class='timestamp' href='#671903'><time timestamp='2019-07-15T17:49:00Z'>17:49</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
internally, amounts are always represented as CAmount
<br>
</div>

<div class='talk op-msg' data-timestamp='1563212940' id='671904'>
<a class='timestamp' href='#671904'><time timestamp='2019-07-15T17:49:00Z'>17:49</time></a>
&lt;<span class='nick nick-2'> Raystonn</span>&gt;
That makes assumptions as to the internal representation of CAmount.
<br>
</div>

<div class='talk op-msg' data-timestamp='1563212940' id='671905'>
<a class='timestamp' href='#671905'><time timestamp='2019-07-15T17:49:00Z'>17:49</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
CAmount is an int64
<br>
</div>

<div class='talk op-msg' data-timestamp='1563213000' id='671906'>
<a class='timestamp' href='#671906'><time timestamp='2019-07-15T17:50:00Z'>17:50</time></a>
&lt;<span class='nick nick-2'> Raystonn</span>&gt;
This can change in the future.
<br>
</div>

<div class='talk op-msg' data-timestamp='1563213000' id='671907'>
<a class='timestamp' href='#671907'><time timestamp='2019-07-15T17:50:00Z'>17:50</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sure
<br>
</div>

<div class='talk op-msg' data-timestamp='1563213000' id='671908'>
<a class='timestamp' href='#671908'><time timestamp='2019-07-15T17:50:00Z'>17:50</time></a>
&lt;<span class='nick nick-2'> Raystonn</span>&gt;
Test cases that mix double with CAmount will then start failing.
<br>
</div>

<div class='talk op-msg' data-timestamp='1563213000' id='671909'>
<a class='timestamp' href='#671909'><time timestamp='2019-07-15T17:50:00Z'>17:50</time></a>
&lt;<span class='nick nick-2'> Raystonn</span>&gt;
Not great.
<br>
</div>

<div class='talk op-msg' data-timestamp='1563213000' id='671910'>
<a class='timestamp' href='#671910'><time timestamp='2019-07-15T17:50:00Z'>17:50</time></a>
&lt;<span class='nick nick-2'> Raystonn</span>&gt;
The code shoudl be more robust there.  I will clean it up.
<br>
</div>

<div class='talk op-msg' data-timestamp='1563213060' id='671911'>
<a class='timestamp' href='#671911'><time timestamp='2019-07-15T17:51:00Z'>17:51</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
internally everything is represented as CAmounts
<br>
</div>

<div class='talk op-msg' data-timestamp='1563213060' id='671912'>
<a class='timestamp' href='#671912'><time timestamp='2019-07-15T17:51:00Z'>17:51</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
floating point things are only used for feerate policies
<br>
</div>

<div class='talk op-msg' data-timestamp='1563213120' id='671913'>
<a class='timestamp' href='#671913'><time timestamp='2019-07-15T17:52:00Z'>17:52</time></a>
&lt;<span class='nick nick-2'> Raystonn</span>&gt;
I wish that were true.
<br>
</div>

<div class='talk op-msg' data-timestamp='1563213120' id='671914'>
<a class='timestamp' href='#671914'><time timestamp='2019-07-15T17:52:00Z'>17:52</time></a>
&lt;<span class='nick nick-2'> Raystonn</span>&gt;
Lots of mixing in double calculations in core code.
<br>
</div>

<div class='talk op-msg' data-timestamp='1563213120' id='671915'>
<a class='timestamp' href='#671915'><time timestamp='2019-07-15T17:52:00Z'>17:52</time></a>
&lt;<span class='nick nick-2'> Raystonn</span>&gt;
decays, etc.
<br>
</div>

<div class='talk op-msg' data-timestamp='1563213120' id='671916'>
<a class='timestamp' href='#671916'><time timestamp='2019-07-15T17:52:00Z'>17:52</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
where?
<br>
</div>

<div class='talk op-msg' data-timestamp='1563213180' id='671917'>
<a class='timestamp' href='#671917'><time timestamp='2019-07-15T17:53:00Z'>17:53</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
the fee estimation code, sure
<br>
</div>

<div class='talk op-msg' data-timestamp='1563213180' id='671918'>
<a class='timestamp' href='#671918'><time timestamp='2019-07-15T17:53:00Z'>17:53</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
consensus rules only use CAmount
<br>
</div>

<div class='talk op-msg' data-timestamp='1563213180' id='671919'>
<a class='timestamp' href='#671919'><time timestamp='2019-07-15T17:53:00Z'>17:53</time></a>
&lt;<span class='nick nick-2'> Raystonn</span>&gt;
That&#x27;s a great start.
<br>
</div>

<div class='talk op-msg' data-timestamp='1563213180' id='671920'>
<a class='timestamp' href='#671920'><time timestamp='2019-07-15T17:53:00Z'>17:53</time></a>
&lt;<span class='nick nick-2'> Raystonn</span>&gt;
and certainly required.
<br>
</div>

<div class='talk op-msg' data-timestamp='1563213240' id='671921'>
<a class='timestamp' href='#671921'><time timestamp='2019-07-15T17:54:00Z'>17:54</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
if you were more specific i could give better advice
<br>
</div>

<div class='talk op-msg' data-timestamp='1563213300' id='671922'>
<a class='timestamp' href='#671922'><time timestamp='2019-07-15T17:55:00Z'>17:55</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
you&#x27;re not going to rewrite the fee estimation code without floating point logic
<br>
</div>

<div class='talk op-msg' data-timestamp='1563213420' id='671923'>
<a class='timestamp' href='#671923'><time timestamp='2019-07-15T17:57:00Z'>17:57</time></a>
&lt;<span class='nick nick-2'> Raystonn</span>&gt;
It&#x27;s certainly possible.  One can break out such code into integer operations that use integer numerator and denominators instead of a single float decay rate.  A CAmount can then be multiplied by the numerator, then divided by the denominator, and still get the desired result.  The fractional portion of the result will still be truncated when storing the actual fee as a CAmount.
<br>
</div>

<div class='talk op-msg' data-timestamp='1563213480' id='671924'>
<a class='timestamp' href='#671924'><time timestamp='2019-07-15T17:58:00Z'>17:58</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yes, you can
<br>
</div>

<div class='talk op-msg' data-timestamp='1563213480' id='671925'>
<a class='timestamp' href='#671925'><time timestamp='2019-07-15T17:58:00Z'>17:58</time></a>
&lt;<span class='nick nick-2'> Raystonn</span>&gt;
This would be safe even if CAmount was upgraded to a larger-range type.
<br>
</div>

<div class='talk op-msg' data-timestamp='1563213480' id='671926'>
<a class='timestamp' href='#671926'><time timestamp='2019-07-15T17:58:00Z'>17:58</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but why would you?
<br>
</div>

<div class='talk op-msg' data-timestamp='1563213480' id='671927'>
<a class='timestamp' href='#671927'><time timestamp='2019-07-15T17:58:00Z'>17:58</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
exact accuracy isn&#x27;t required for any of that
<br>
</div>

<div class='talk op-msg' data-timestamp='1563213480' id='671928'>
<a class='timestamp' href='#671928'><time timestamp='2019-07-15T17:58:00Z'>17:58</time></a>
&lt;<span class='nick nick-2'> Raystonn</span>&gt;
Whereas use a a floating point type will break the calculations upon any such upgrade in the future.
<br>
</div>

<div class='talk op-msg' data-timestamp='1563213480' id='671929'>
<a class='timestamp' href='#671929'><time timestamp='2019-07-15T17:58:00Z'>17:58</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
CAmount can&#x27;t be upgraded to a larger range type
<br>
</div>

<div class='talk op-msg' data-timestamp='1563213540' id='671930'>
<a class='timestamp' href='#671930'><time timestamp='2019-07-15T17:59:00Z'>17:59</time></a>
&lt;<span class='nick nick-2'> Raystonn</span>&gt;
Of course it can.
<br>
</div>

<div class='talk op-msg' data-timestamp='1563213540' id='671931'>
<a class='timestamp' href='#671931'><time timestamp='2019-07-15T17:59:00Z'>17:59</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and even if it did, nothing would break with feerate calculations
<br>
</div>

<div class='talk op-msg' data-timestamp='1563213540' id='671932'>
<a class='timestamp' href='#671932'><time timestamp='2019-07-15T17:59:00Z'>17:59</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
as those are approximate anyway
<br>
</div>

<div class='talk op-msg' data-timestamp='1563213540' id='671933'>
<a class='timestamp' href='#671933'><time timestamp='2019-07-15T17:59:00Z'>17:59</time></a>
&lt;<span class='nick nick-2'> Raystonn</span>&gt;
It could easily overflow the significant digits available in a double if we upgrade to a 128-bit integer.
<br>
</div>

<div class='talk op-msg' data-timestamp='1563213540' id='671934'>
<a class='timestamp' href='#671934'><time timestamp='2019-07-15T17:59:00Z'>17:59</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
So?
<br>
</div>

<div class='talk op-msg' data-timestamp='1563213600' id='671935'>
<a class='timestamp' href='#671935'><time timestamp='2019-07-15T18:00:00Z'>18:00</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
a 0.0000000000002% rounding error on a feerate is much less than the variations that are inherent due to inconsistency of mempools
<br>
</div>

<div class='talk op-msg' data-timestamp='1563213660' id='671936'>
<a class='timestamp' href='#671936'><time timestamp='2019-07-15T18:01:00Z'>18:01</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and again, bitcoin&#x27;s consensus rules don&#x27;t permit amounts above 2100000000000000 units
<br>
</div>

<div class='talk op-msg' data-timestamp='1563213660' id='671937'>
<a class='timestamp' href='#671937'><time timestamp='2019-07-15T18:01:00Z'>18:01</time></a>
&lt;<span class='nick nick-2'> Raystonn</span>&gt;
If fees were to move into sub-satoshi range, that rounding errors would be pretty large as everything sub-satoshi gets truncated.
<br>
</div>

<div class='talk op-msg' data-timestamp='1563213720' id='671938'>
<a class='timestamp' href='#671938'><time timestamp='2019-07-15T18:02:00Z'>18:02</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
bitcoin does not have sub-satoshi units
<br>
</div>

<div class='talk op-msg' data-timestamp='1563213720' id='671939'>
<a class='timestamp' href='#671939'><time timestamp='2019-07-15T18:02:00Z'>18:02</time></a>
&lt;<span class='nick nick-2'> Raystonn</span>&gt;
yet
<br>
</div>

<div class='talk op-msg' data-timestamp='1563213720' id='671940'>
<a class='timestamp' href='#671940'><time timestamp='2019-07-15T18:02:00Z'>18:02</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that would be such an invasive hard fork that the code changes necessary to do it correctly will be the least of our worries
<br>
</div>

<div class='talk op-msg' data-timestamp='1563213720' id='671941'>
<a class='timestamp' href='#671941'><time timestamp='2019-07-15T18:02:00Z'>18:02</time></a>
&lt;<span class='nick nick-2'> Raystonn</span>&gt;
and there&#x27;s no erason to keep code that woudl break under these circumstances when it&#x27;s so easy to fix.
<br>
</div>

<div class='talk op-msg' data-timestamp='1563213720' id='671942'>
<a class='timestamp' href='#671942'><time timestamp='2019-07-15T18:02:00Z'>18:02</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
please focus on real issues
<br>
</div>

<div class='talk op-msg' data-timestamp='1563213780' id='671943'>
<a class='timestamp' href='#671943'><time timestamp='2019-07-15T18:03:00Z'>18:03</time></a>
&lt;<span class='nick nick-2'> Raystonn</span>&gt;
I&#x27;m not asking you to make any changes.
<br>
</div>

<div class='talk op-msg' data-timestamp='1563213780' id='671944'>
<a class='timestamp' href='#671944'><time timestamp='2019-07-15T18:03:00Z'>18:03</time></a>
&lt;<span class='nick nick-2'> Raystonn</span>&gt;
This is what I&#x27;m choosing to look at.
<br>
</div>

<div class='talk op-msg' data-timestamp='1563213780' id='671945'>
<a class='timestamp' href='#671945'><time timestamp='2019-07-15T18:03:00Z'>18:03</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and i&#x27;m suggesting there are better ways to spend your time
<br>
</div>

<div class='talk op-msg' data-timestamp='1563213780' id='671946'>
<a class='timestamp' href='#671946'><time timestamp='2019-07-15T18:03:00Z'>18:03</time></a>
&lt;<span class='nick nick-2'> Raystonn</span>&gt;
That&#x27;s fine.
<br>
</div>

<div class='talk op-msg' data-timestamp='1563213840' id='671947'>
<a class='timestamp' href='#671947'><time timestamp='2019-07-15T18:04:00Z'>18:04</time></a>
&lt;<span class='nick nick-2'> Raystonn</span>&gt;
We can disagree. ;)
<br>
</div>

<div class='talk op-msg' data-timestamp='1563213840' id='671948'>
<a class='timestamp' href='#671948'><time timestamp='2019-07-15T18:04:00Z'>18:04</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
of course
<br>
</div>

<div class='talk op-msg' data-timestamp='1563214260' id='671949'>
<a class='timestamp' href='#671949'><time timestamp='2019-07-15T18:11:00Z'>18:11</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but in my opinion, getting rid of floating point logic in places where exact accuracy isn&#x27;t required would be a waste of your time
<br>
</div>

<div class='talk op-msg' data-timestamp='1563214560' id='671950'>
<a class='timestamp' href='#671950'><time timestamp='2019-07-15T18:16:00Z'>18:16</time></a>
&lt;<span class='nick nick-2'> Raystonn</span>&gt;
Normally I&#x27;d agree.  But upon testing a change of CAmount to boost::multiprecision::int128_t, the floating point operations aren&#x27;t even supported.  I could add them, but it could lead to dropped precision or accuracy some place where it matters simply by defining the operators.
<br>
</div>

<div class='talk op-msg' data-timestamp='1563214560' id='671951'>
<a class='timestamp' href='#671951'><time timestamp='2019-07-15T18:16:00Z'>18:16</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
there is no need for 128 bit integers
<br>
</div>

<div class='talk op-msg' data-timestamp='1563214560' id='671952'>
<a class='timestamp' href='#671952'><time timestamp='2019-07-15T18:16:00Z'>18:16</time></a>
&lt;<span class='nick nick-2'> Raystonn</span>&gt;
Right now no.
<br>
</div>

<div class='talk op-msg' data-timestamp='1563214620' id='671953'>
<a class='timestamp' href='#671953'><time timestamp='2019-07-15T18:17:00Z'>18:17</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it seems highly unlikely that a change to the monetary policy will ever happen in bitcoin
<br>
</div>

<div class='talk op-msg' data-timestamp='1563214620' id='671954'>
<a class='timestamp' href='#671954'><time timestamp='2019-07-15T18:17:00Z'>18:17</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
you can prepare for all kinds of theoretical adaptations, but this isn&#x27;t a realistic one
<br>
</div>

<div class='talk op-msg' data-timestamp='1563214620' id='671955'>
<a class='timestamp' href='#671955'><time timestamp='2019-07-15T18:17:00Z'>18:17</time></a>
&lt;<span class='nick nick-2'> Raystonn</span>&gt;
Bitcoin must remain &lt;= 21 million coins.
<br>
</div>

<div class='talk op-msg' data-timestamp='1563214620' id='671956'>
<a class='timestamp' href='#671956'><time timestamp='2019-07-15T18:17:00Z'>18:17</time></a>
&lt;<span class='nick nick-2'> Raystonn</span>&gt;
Divisibility of those coins can be expanded.
<br>
</div>

<div class='talk op-msg' data-timestamp='1563214680' id='671957'>
<a class='timestamp' href='#671957'><time timestamp='2019-07-15T18:18:00Z'>18:18</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
not without a very invasive hardfork
<br>
</div>

<div class='talk op-msg' data-timestamp='1563214680' id='671958'>
<a class='timestamp' href='#671958'><time timestamp='2019-07-15T18:18:00Z'>18:18</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and such changes are generally considered off-topic here
<br>
</div>

<div class='talk op-msg' data-timestamp='1563214740' id='671959'>
<a class='timestamp' href='#671959'><time timestamp='2019-07-15T18:19:00Z'>18:19</time></a>
&lt;<span class='nick nick-2'> Raystonn</span>&gt;
Right now I&#x27;m just talking about cleaning up use of floating point operations where unneeded.
<br>
</div>

<div class='talk op-msg' data-timestamp='1563214740' id='671960'>
<a class='timestamp' href='#671960'><time timestamp='2019-07-15T18:19:00Z'>18:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
they are not unneeded
<br>
</div>

<div class='talk op-msg' data-timestamp='1563214740' id='671961'>
<a class='timestamp' href='#671961'><time timestamp='2019-07-15T18:19:00Z'>18:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
they&#x27;re an engineering choice
<br>
</div>

<div class='talk op-msg' data-timestamp='1563214800' id='671962'>
<a class='timestamp' href='#671962'><time timestamp='2019-07-15T18:20:00Z'>18:20</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yes you can get rid of them at the cost of replacing them with more complex logic that effectively reimplements it
<br>
</div>

<div class='talk op-msg' data-timestamp='1563214800' id='671963'>
<a class='timestamp' href='#671963'><time timestamp='2019-07-15T18:20:00Z'>18:20</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but that is not a good trade-off
<br>
</div>

<div class='talk op-msg' data-timestamp='1563214800' id='671964'>
<a class='timestamp' href='#671964'><time timestamp='2019-07-15T18:20:00Z'>18:20</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
there is nothing &quot;unclean&quot; about the use of floating point numbers; they&#x27;re the right tool for the job, in some places
<br>
</div>

<div class='talk op-msg' data-timestamp='1563214920' id='671965'>
<a class='timestamp' href='#671965'><time timestamp='2019-07-15T18:22:00Z'>18:22</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and i can&#x27;t speak for any of the other reviewers of course, but i doubt such a change would be accepted
<br>
</div>

<div class='talk op-msg' data-timestamp='1563215100' id='671966'>
<a class='timestamp' href='#671966'><time timestamp='2019-07-15T18:25:00Z'>18:25</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
now if you find places where floating point logic is used where inaccurancy may actually affect the correctness of the code, i&#x27;d very much like to hear it
<br>
</div>

<div class='talk op-msg' data-timestamp='1563215100' id='671967'>
<a class='timestamp' href='#671967'><time timestamp='2019-07-15T18:25:00Z'>18:25</time></a>
&lt;<span class='nick nick-2'> Raystonn</span>&gt;
I certainly have no interest in any fork that might create yet another sh-coin.  Not my intention.  I&#x27;m just trying to make the code more robust to future enhancements without breaking backward compatibility.
<br>
</div>

<div class='talk op-msg' data-timestamp='1563215220' id='671968'>
<a class='timestamp' href='#671968'><time timestamp='2019-07-15T18:27:00Z'>18:27</time></a>
&lt;<span class='nick nick-2'> Raystonn</span>&gt;
Many years into the future I could foresee the desire to continue the block reward into sub-satoshi units, keeping the asymptote at 21,000,000 coins.
<br>
</div>

<div class='talk op-msg' data-timestamp='1563215280' id='671969'>
<a class='timestamp' href='#671969'><time timestamp='2019-07-15T18:28:00Z'>18:28</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that would be a change to the monetary policy
<br>
</div>

<div class='talk op-msg' data-timestamp='1563215280' id='671970'>
<a class='timestamp' href='#671970'><time timestamp='2019-07-15T18:28:00Z'>18:28</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and again, i don&#x27;t see how that would in any way invalidate the use of floating point for feerate calculations
<br>
</div>

<div class='talk op-msg' data-timestamp='1563215340' id='671971'>
<a class='timestamp' href='#671971'><time timestamp='2019-07-15T18:29:00Z'>18:29</time></a>
&lt;<span class='nick nick-2'> Raystonn</span>&gt;
For a code path that has never been executed, and won&#x27;t for at least 120 years.
<br>
</div>

<div class='talk op-msg' data-timestamp='1563215340' id='671972'>
<a class='timestamp' href='#671972'><time timestamp='2019-07-15T18:29:00Z'>18:29</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it is executed every block
<br>
</div>

<div class='talk op-msg' data-timestamp='1563215400' id='671973'>
<a class='timestamp' href='#671973'><time timestamp='2019-07-15T18:30:00Z'>18:30</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
so please, if you want to contribute in a useful, focus on other issues
<br>
</div>

<div class='talk op-msg' data-timestamp='1563215400' id='671974'>
<a class='timestamp' href='#671974'><time timestamp='2019-07-15T18:30:00Z'>18:30</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
not long-in-the-future hypotheticals that you still haven&#x27;t clearly motivated would invalidate the current code
<br>
</div>

<div class='talk op-msg' data-timestamp='1563215400' id='671975'>
<a class='timestamp' href='#671975'><time timestamp='2019-07-15T18:30:00Z'>18:30</time></a>
&lt;<span class='nick nick-2'> Raystonn</span>&gt;
I mean the code path that would be added to support sub-satoshi block rewards... we wouldn&#x27;t get there for another 120 years.
<br>
</div>

<div class='talk op-msg' data-timestamp='1563215400' id='671976'>
<a class='timestamp' href='#671976'><time timestamp='2019-07-15T18:30:00Z'>18:30</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
Raystonn: please keep in mind that any change you make must be reviewed by others and they must all approve it before a change is merged. It is highly unlikely that such a change will pass review, so I would recommend that you don&#x27;t waste effort into trying
<br>
</div>

<div class='talk op-msg' data-timestamp='1563215460' id='671977'>
<a class='timestamp' href='#671977'><time timestamp='2019-07-15T18:31:00Z'>18:31</time></a>
&lt;<span class='nick nick-2'> Raystonn</span>&gt;
Anything added there now would never see a fork.
<br>
</div>

<div class='talk op-msg' data-timestamp='1563215460' id='671978'>
<a class='timestamp' href='#671978'><time timestamp='2019-07-15T18:31:00Z'>18:31</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
Raystonn: sorry, hardfork discussions are offtopic here (you can bring that up on the mailinglist if you want)
<br>
</div>

<div class='talk op-msg' data-timestamp='1563215520' id='671979'>
<a class='timestamp' href='#671979'><time timestamp='2019-07-15T18:32:00Z'>18:32</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
Raystonn: if we wouldn&#x27;t gt there for another 120 years, then do it 120 years in the future when it becomes a problem
<br>
</div>

<div class='talk op-msg' data-timestamp='1563215520' id='671980'>
<a class='timestamp' href='#671980'><time timestamp='2019-07-15T18:32:00Z'>18:32</time></a>
&lt;<span class='nick nick-2'> Raystonn</span>&gt;
I will drop the discussion on sub-satoshi block rewards.
<br>
</div>

<div class='talk op-msg' data-timestamp='1563215580' id='671981'>
<a class='timestamp' href='#671981'><time timestamp='2019-07-15T18:33:00Z'>18:33</time></a>
&lt;<span class='nick nick-2'> Raystonn</span>&gt;
120 years from now it would result in a fork as people are already running the code and getting no reward.
<br>
</div>

<div class='talk op-msg' data-timestamp='1563215580' id='671982'>
<a class='timestamp' href='#671982'><time timestamp='2019-07-15T18:33:00Z'>18:33</time></a>
&lt;<span class='nick nick-2'> Raystonn</span>&gt;
Proper planning prevents...
<br>
</div>

<div class='talk op-msg' data-timestamp='1563218700' id='671983'>
<a class='timestamp' href='#671983'><time timestamp='2019-07-15T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 2 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/0822b44d8a68...6d37ed888e34" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/0822b44d8a68...6d37ed888e34</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1563218700' id='671984'>
<a class='timestamp' href='#671984'><time timestamp='2019-07-15T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master c7f6ce7 Carl Dong: docs: Improve netbase comments
<br>
</div>

<div class='talk op-msg' data-timestamp='1563218700' id='671985'>
<a class='timestamp' href='#671985'><time timestamp='2019-07-15T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 6d37ed8 Wladimir J. van der Laan: Merge #15824: docs: Improve netbase comments
<br>
</div>

<div class='talk op-msg' data-timestamp='1563218760' id='671986'>
<a class='timestamp' href='#671986'><time timestamp='2019-07-15T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj merged pull request #15824: docs: Improve netbase comments (master...2019-04-netbase-comments) <a href="https://github.com/bitcoin/bitcoin/pull/15824" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/15824</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1563219420' id='671987'>
<a class='timestamp' href='#671987'><time timestamp='2019-07-15T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] achow101 opened pull request #16394: Allow createwallet to take empty passwords to make unencrypted wallets (master...fix-born-enc) <a href="https://github.com/bitcoin/bitcoin/pull/16394" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/16394</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1563220320' id='671988'>
<a class='timestamp' href='#671988'><time timestamp='2019-07-15T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-7'> stevenroose</span>&gt;
Is there a flag for the min tx fee to include in blocks? Equivalent to minrelaytxfee?
<br>
</div>

<div class='talk op-msg' data-timestamp='1563220320' id='671989'>
<a class='timestamp' href='#671989'><time timestamp='2019-07-15T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-7'> stevenroose</span>&gt;
-blockmintxfee?
<br>
</div>

<div class='talk op-msg' data-timestamp='1563220380' id='671990'>
<a class='timestamp' href='#671990'><time timestamp='2019-07-15T19:53:00Z'>19:53</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
right
<br>
</div>

<div class='talk op-msg' data-timestamp='1563220800' id='671991'>
<a class='timestamp' href='#671991'><time timestamp='2019-07-15T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-10'> elichai2</span>&gt;
achow101: Hey, any insight of the reason that `createpsbt` need to support 2 different formatting for the outputs? (one as an array another as a dictionary)
<br>
</div>

<div class='talk op-msg' data-timestamp='1563220860' id='671992'>
<a class='timestamp' href='#671992'><time timestamp='2019-07-15T20:01:00Z'>20:01</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
elichai2: createrawtransaction allows both (api changed at some point, but old style kept for backwards compatibility), and the same construction function is used in both so createpsbt takes both
<br>
</div>

<div class='talk op-msg' data-timestamp='1563220980' id='671993'>
<a class='timestamp' href='#671993'><time timestamp='2019-07-15T20:03:00Z'>20:03</time></a>
&lt;<span class='nick nick-10'> elichai2</span>&gt;
:/ makes it harder to add new stuff there, but i&#x27;ll figure it out, thanks!
<br>
</div>

<div class='talk op-msg' data-timestamp='1563221220' id='671994'>
<a class='timestamp' href='#671994'><time timestamp='2019-07-15T20:07:00Z'>20:07</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
elichai2: why would you need to touch that rpc?
<br>
</div>

<div class='talk op-msg' data-timestamp='1563221280' id='671995'>
<a class='timestamp' href='#671995'><time timestamp='2019-07-15T20:08:00Z'>20:08</time></a>
&lt;<span class='nick nick-10'> elichai2</span>&gt;
sipa: testing how would taproot look when combined into psbt
<br>
</div>

<div class='talk op-msg' data-timestamp='1563221280' id='671996'>
<a class='timestamp' href='#671996'><time timestamp='2019-07-15T20:08:00Z'>20:08</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
you shouldn&#x27;t need to touch any of those rpcs
<br>
</div>

<div class='talk op-msg' data-timestamp='1563221280' id='671997'>
<a class='timestamp' href='#671997'><time timestamp='2019-07-15T20:08:00Z'>20:08</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
only the signing/psbt logic
<br>
</div>

<div class='talk op-msg' data-timestamp='1563221340' id='671998'>
<a class='timestamp' href='#671998'><time timestamp='2019-07-15T20:09:00Z'>20:09</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and descriptors
<br>
</div>

<div class='talk op-msg' data-timestamp='1563221460' id='671999'>
<a class='timestamp' href='#671999'><time timestamp='2019-07-15T20:11:00Z'>20:11</time></a>
&lt;<span class='nick nick-10'> elichai2</span>&gt;
sipa: you&#x27;re right. but if I go the regular way I need to add: 1. new descriptors. 2. classes and support for WitnessV2 bech32 addresses. 3. Classes for taproot in the wallet. serialization+deserialization of taproot and witness v2 addresses.
<br>
</div>

<div class='talk op-msg' data-timestamp='1563221460' id='672000'>
<a class='timestamp' href='#672000'><time timestamp='2019-07-15T20:11:00Z'>20:11</time></a>
&lt;<span class='nick nick-10'> elichai2</span>&gt;
this is a lot of logic that require more careful handeling
<br>
</div>

<div class='talk op-msg' data-timestamp='1563221520' id='672001'>
<a class='timestamp' href='#672001'><time timestamp='2019-07-15T20:12:00Z'>20:12</time></a>
&lt;<span class='nick nick-10'> elichai2</span>&gt;
and way more work. I&#x27;m trying to concentrate around PSBT for now. so i&#x27;m using `createpsbt` as a &quot;hack&quot; because that&#x27;s the only psbt RPC command that doesn&#x27;t relay on the wallet. (I&#x27;ll probably move that logic to a seperate &quot;createrawpsbt&quot; or a `bitcoin-psbt` bin)
<br>
</div>

<div class='talk op-msg' data-timestamp='1563221580' id='672002'>
<a class='timestamp' href='#672002'><time timestamp='2019-07-15T20:13:00Z'>20:13</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
for experimentation purposes that&#x27;s fine of course
<br>
</div>

<div class='talk op-msg' data-timestamp='1563221580' id='672003'>
<a class='timestamp' href='#672003'><time timestamp='2019-07-15T20:13:00Z'>20:13</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but i don&#x27;t think we&#x27;ll add any taproot support to the wallet except &quot;doing it right&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1563221640' id='672004'>
<a class='timestamp' href='#672004'><time timestamp='2019-07-15T20:14:00Z'>20:14</time></a>
&lt;<span class='nick nick-10'> elichai2</span>&gt;
yeah I get the separation of concern for the psbt RPC methods
<br>
</div>

<div class='talk op-msg' data-timestamp='1563221700' id='672005'>
<a class='timestamp' href='#672005'><time timestamp='2019-07-15T20:15:00Z'>20:15</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
no, i mean: nothing in those RPC arguments should change for taproot
<br>
</div>

<div class='talk op-msg' data-timestamp='1563221700' id='672006'>
<a class='timestamp' href='#672006'><time timestamp='2019-07-15T20:15:00Z'>20:15</time></a>
&lt;<span class='nick nick-10'> elichai2</span>&gt;
sipa: does &quot;doing it right&quot; require full taproot support in the wallet? or can it be just psbt support via a raw psbt creation method that doesn&#x27;t require a wallet?
<br>
</div>

<div class='talk op-msg' data-timestamp='1563221700' id='672007'>
<a class='timestamp' href='#672007'><time timestamp='2019-07-15T20:15:00Z'>20:15</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
elichai2: i don&#x27;t see how those two options are different :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1563221700' id='672008'>
<a class='timestamp' href='#672008'><time timestamp='2019-07-15T20:15:00Z'>20:15</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
elichai2: it would mean full support in the wallet with walletprocesspsbt handling all of the updating in the background. i.e. the user never provides the taproot info in an rpc
<br>
</div>

<div class='talk op-msg' data-timestamp='1563221700' id='672009'>
<a class='timestamp' href='#672009'><time timestamp='2019-07-15T20:15:00Z'>20:15</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
if we have taproot support in descriptors and psbt, we&#x27;ll automatically have it in tbe wallet
<br>
</div>

<div class='talk op-msg' data-timestamp='1563221760' id='672010'>
<a class='timestamp' href='#672010'><time timestamp='2019-07-15T20:16:00Z'>20:16</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
just like right now the user never provides keys, utxos, etc. in the rpc
<br>
</div>

<div class='talk op-msg' data-timestamp='1563221760' id='672011'>
<a class='timestamp' href='#672011'><time timestamp='2019-07-15T20:16:00Z'>20:16</time></a>
&lt;<span class='nick nick-10'> elichai2</span>&gt;
achow101: yes. which makes it harder to use if for example this isn&#x27;t a transaction that you have in your wallet. i.e. there&#x27;s no equivilant to `createrawtransaction`
<br>
</div>

<div class='talk op-msg' data-timestamp='1563221820' id='672012'>
<a class='timestamp' href='#672012'><time timestamp='2019-07-15T20:17:00Z'>20:17</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
there is createpsbt?
<br>
</div>

<div class='talk op-msg' data-timestamp='1563221820' id='672013'>
<a class='timestamp' href='#672013'><time timestamp='2019-07-15T20:17:00Z'>20:17</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
but that&#x27;s a problem with updating any psbt right now
<br>
</div>

<div class='talk op-msg' data-timestamp='1563221820' id='672014'>
<a class='timestamp' href='#672014'><time timestamp='2019-07-15T20:17:00Z'>20:17</time></a>
&lt;<span class='nick nick-10'> elichai2</span>&gt;
achow101: right
<br>
</div>

<div class='talk op-msg' data-timestamp='1563221820' id='672015'>
<a class='timestamp' href='#672015'><time timestamp='2019-07-15T20:17:00Z'>20:17</time></a>
&lt;<span class='nick nick-10'> elichai2</span>&gt;
solving that problem will make adding taproot to psbt easier by not needing to add it to the wallet first
<br>
</div>

<div class='talk op-msg' data-timestamp='1563221880' id='672016'>
<a class='timestamp' href='#672016'><time timestamp='2019-07-15T20:18:00Z'>20:18</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
what does &quot;adding it to the wallet&quot; mean?
<br>
</div>

<div class='talk op-msg' data-timestamp='1563221880' id='672017'>
<a class='timestamp' href='#672017'><time timestamp='2019-07-15T20:18:00Z'>20:18</time></a>
&lt;<span class='nick nick-10'> elichai2</span>&gt;
elichai2 sipa: you&#x27;re right. but if I go the regular way I need to add: 1. new descriptors. 2. classes and support for WitnessV2 bech32 addresses. 3. Classes for taproot in the wallet. serialization+deserialization of taproot and witness v2 addresses.
<br>
</div>

<div class='talk op-msg' data-timestamp='1563221880' id='672018'>
<a class='timestamp' href='#672018'><time timestamp='2019-07-15T20:18:00Z'>20:18</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and we have psbt support for the full stack of operations outside of the wallet
<br>
</div>

<div class='talk op-msg' data-timestamp='1563221880' id='672019'>
<a class='timestamp' href='#672019'><time timestamp='2019-07-15T20:18:00Z'>20:18</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
taproot can be implemented tested without ever touching the wallet code at all
<br>
</div>

<div class='talk op-msg' data-timestamp='1563221940' id='672020'>
<a class='timestamp' href='#672020'><time timestamp='2019-07-15T20:19:00Z'>20:19</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
*assuming descriptor wallets
<br>
</div>

<div class='talk op-msg' data-timestamp='1563221940' id='672021'>
<a class='timestamp' href='#672021'><time timestamp='2019-07-15T20:19:00Z'>20:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
maybe there are some minor changes at some point past descriptor wallets to change the default to taproot addresses or something
<br>
</div>

<div class='talk op-msg' data-timestamp='1563221940' id='672022'>
<a class='timestamp' href='#672022'><time timestamp='2019-07-15T20:19:00Z'>20:19</time></a>
&lt;<span class='nick nick-10'> elichai2</span>&gt;
sipa: what achow101 said
<br>
</div>

<div class='talk op-msg' data-timestamp='1563221940' id='672023'>
<a class='timestamp' href='#672023'><time timestamp='2019-07-15T20:19:00Z'>20:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
elichai2: well, not even
<br>
</div>

<div class='talk op-msg' data-timestamp='1563221940' id='672024'>
<a class='timestamp' href='#672024'><time timestamp='2019-07-15T20:19:00Z'>20:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ah, right, we don&#x27;t have the equivalent of walletprocesspsbt using descriptors yet
<br>
</div>

<div class='talk op-msg' data-timestamp='1563222000' id='672025'>
<a class='timestamp' href='#672025'><time timestamp='2019-07-15T20:20:00Z'>20:20</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
maybe we need that first :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1563222000' id='672026'>
<a class='timestamp' href='#672026'><time timestamp='2019-07-15T20:20:00Z'>20:20</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
then all we need is adding taproot to psbt/descriptors, and the full stack of operations would be supported outside of the wallet
<br>
</div>

<div class='talk op-msg' data-timestamp='1563222000' id='672027'>
<a class='timestamp' href='#672027'><time timestamp='2019-07-15T20:20:00Z'>20:20</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
musig is harder though, as it requires state on the signer device
<br>
</div>

<div class='talk op-msg' data-timestamp='1563222060' id='672028'>
<a class='timestamp' href='#672028'><time timestamp='2019-07-15T20:21:00Z'>20:21</time></a>
&lt;<span class='nick nick-10'> elichai2</span>&gt;
as far as I could see, right now if you&#x27;ll pass a bech32 with segwit v2 it won&#x27;t know how to parse it. it won&#x27;t know that the witness program contains a public key. and it doesn&#x27;t have any structure to handle a tree with multiple scripts
<br>
</div>

<div class='talk op-msg' data-timestamp='1563222060' id='672029'>
<a class='timestamp' href='#672029'><time timestamp='2019-07-15T20:21:00Z'>20:21</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yes it does
<br>
</div>

<div class='talk op-msg' data-timestamp='1563222060' id='672030'>
<a class='timestamp' href='#672030'><time timestamp='2019-07-15T20:21:00Z'>20:21</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
(the first thing)
<br>
</div>

<div class='talk op-msg' data-timestamp='1563222120' id='672031'>
<a class='timestamp' href='#672031'><time timestamp='2019-07-15T20:22:00Z'>20:22</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i don&#x27;t think we need a whole tree structure even
<br>
</div>

<div class='talk op-msg' data-timestamp='1563222120' id='672032'>
<a class='timestamp' href='#672032'><time timestamp='2019-07-15T20:22:00Z'>20:22</time></a>
&lt;<span class='nick nick-7'> stevenroose</span>&gt;
Is there a way to &quot;reset&quot; the Core wallet? I&#x27;m using regtest using a client and in between tests, I&#x27;d like to sweep the wallet from all imported addresses and transactions.
<br>
</div>

<div class='talk op-msg' data-timestamp='1563222120' id='672033'>
<a class='timestamp' href='#672033'><time timestamp='2019-07-15T20:22:00Z'>20:22</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
elichai2: just a psbt record of the form &quot;this pubkey is derived from this internal pubkey, and this merkle branch, to this script and leaf version&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1563222180' id='672034'>
<a class='timestamp' href='#672034'><time timestamp='2019-07-15T20:23:00Z'>20:23</time></a>
&lt;<span class='nick nick-7'> stevenroose</span>&gt;
I tried to unload the active wallet and &quot;createwallet&quot; a new one, but then it expects me to use the /wallet/&lt;walletname&gt; endpoint, which the client we&#x27;re using doesn&#x27;t support yet.
<br>
</div>

<div class='talk op-msg' data-timestamp='1563222180' id='672035'>
<a class='timestamp' href='#672035'><time timestamp='2019-07-15T20:23:00Z'>20:23</time></a>
&lt;<span class='nick nick-10'> elichai2</span>&gt;
sipa: for a wallet support we need the whole tree structure, for psbt we don&#x27;t
<br>
</div>

<div class='talk op-msg' data-timestamp='1563222180' id='672036'>
<a class='timestamp' href='#672036'><time timestamp='2019-07-15T20:23:00Z'>20:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
elichai2: the tree would be in the descriptor
<br>
</div>

<div class='talk op-msg' data-timestamp='1563222180' id='672037'>
<a class='timestamp' href='#672037'><time timestamp='2019-07-15T20:23:00Z'>20:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
nowhere else
<br>
</div>

<div class='talk op-msg' data-timestamp='1563222300' id='672038'>
<a class='timestamp' href='#672038'><time timestamp='2019-07-15T20:25:00Z'>20:25</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
the 32-byte x coordinate idea (which we may update taproot with) may affect how that psbt record is structured too
<br>
</div>

<div class='talk op-msg' data-timestamp='1563222360' id='672039'>
<a class='timestamp' href='#672039'><time timestamp='2019-07-15T20:26:00Z'>20:26</time></a>
&lt;<span class='nick nick-10'> elichai2</span>&gt;
sipa: correct me if I&#x27;m right, but trying to give it bech32 with witnessV1 will make it use `WitnessUnknown`, right? so we need some struct like `WitnessV1PubKey`
<br>
</div>

<div class='talk op-msg' data-timestamp='1563222360' id='672040'>
<a class='timestamp' href='#672040'><time timestamp='2019-07-15T20:26:00Z'>20:26</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yeah
<br>
</div>

<div class='talk op-msg' data-timestamp='1563222360' id='672041'>
<a class='timestamp' href='#672041'><time timestamp='2019-07-15T20:26:00Z'>20:26</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that&#x27;s easy :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1563222420' id='672042'>
<a class='timestamp' href='#672042'><time timestamp='2019-07-15T20:27:00Z'>20:27</time></a>
&lt;<span class='nick nick-10'> elichai2</span>&gt;
sipa: yeah, that&#x27;s a small change that could be easily changed too :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1563222420' id='672043'>
<a class='timestamp' href='#672043'><time timestamp='2019-07-15T20:27:00Z'>20:27</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but it&#x27;s not like we need new parsing code; bech32 parsing is alreasdy generic
<br>
</div>

<div class='talk op-msg' data-timestamp='1563222480' id='672044'>
<a class='timestamp' href='#672044'><time timestamp='2019-07-15T20:28:00Z'>20:28</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
elichai2: i suspect you&#x27;re overestimating how much work it is to adapt all the structures with taproot
<br>
</div>

<div class='talk op-msg' data-timestamp='1563222480' id='672045'>
<a class='timestamp' href='#672045'><time timestamp='2019-07-15T20:28:00Z'>20:28</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it&#x27;s nontrivial of course
<br>
</div>

<div class='talk op-msg' data-timestamp='1563222540' id='672046'>
<a class='timestamp' href='#672046'><time timestamp='2019-07-15T20:29:00Z'>20:29</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but i think hacking in via additional RPC arguments in various places won&#x27;t be all that much simpler
<br>
</div>

<div class='talk op-msg' data-timestamp='1563222540' id='672047'>
<a class='timestamp' href='#672047'><time timestamp='2019-07-15T20:29:00Z'>20:29</time></a>
&lt;<span class='nick nick-10'> elichai2</span>&gt;
i&#x27;m just trying to figure out if I could make a PoC without while minimizing the areas of the code I&#x27;m touching, because I don&#x27;t know most of the code yet
<br>
</div>

<div class='talk op-msg' data-timestamp='1563222540' id='672048'>
<a class='timestamp' href='#672048'><time timestamp='2019-07-15T20:29:00Z'>20:29</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
though it will touch a lot more different parts
<br>
</div>

<div class='talk op-msg' data-timestamp='1563222540' id='672049'>
<a class='timestamp' href='#672049'><time timestamp='2019-07-15T20:29:00Z'>20:29</time></a>
&lt;<span class='nick nick-10'> elichai2</span>&gt;
because if i&#x27;ll start editing code all over i&#x27;ll probably mess things up even more lol
<br>
</div>

<div class='talk op-msg' data-timestamp='1563222600' id='672050'>
<a class='timestamp' href='#672050'><time timestamp='2019-07-15T20:30:00Z'>20:30</time></a>
&lt;<span class='nick nick-10'> elichai2</span>&gt;
I understand that my PoC won&#x27;t be close to optimal. and that&#x27;s why I want it for now to be isolated into an RPC, and not doing all of the wallet support
<br>
</div>

<div class='talk op-msg' data-timestamp='1563222600' id='672051'>
<a class='timestamp' href='#672051'><time timestamp='2019-07-15T20:30:00Z'>20:30</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
so why do it in bitcoin core at all then?
<br>
</div>

<div class='talk op-msg' data-timestamp='1563222720' id='672052'>
<a class='timestamp' href='#672052'><time timestamp='2019-07-15T20:32:00Z'>20:32</time></a>
&lt;<span class='nick nick-10'> elichai2</span>&gt;
because I still think that manual psbt without descriptors is still useful? altough you&#x27;re right that I could&#x27;ve done it in rust-bitcoin and it would probabaly been easier and more native to the code but in the end I do want to get to know bitcoin core&#x27;s code better so I will be able to make optimal solutions to bitcoin in the future :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1563222780' id='672053'>
<a class='timestamp' href='#672053'><time timestamp='2019-07-15T20:33:00Z'>20:33</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
well if you want to learn bitcoin core better (which i very much encourage you to!), i think it&#x27;s better to focus on one piece at a time, but actually integrate it
<br>
</div>

<div class='talk op-msg' data-timestamp='1563222840' id='672054'>
<a class='timestamp' href='#672054'><time timestamp='2019-07-15T20:34:00Z'>20:34</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
for example, an RPC that takes a descriptor and a bunch of private keys, and signs with them, would be pretty generally useful
<br>
</div>

<div class='talk op-msg' data-timestamp='1563222900' id='672055'>
<a class='timestamp' href='#672055'><time timestamp='2019-07-15T20:35:00Z'>20:35</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and for the extensions to psbt... i think it&#x27;s generally too early
<br>
</div>

<div class='talk op-msg' data-timestamp='1563223020' id='672056'>
<a class='timestamp' href='#672056'><time timestamp='2019-07-15T20:37:00Z'>20:37</time></a>
&lt;<span class='nick nick-10'> elichai2</span>&gt;
sipa: my hope is that if people start building things on top of taproot it will increase the chance of merging and activation sooner rather than later
<br>
</div>

<div class='talk op-msg' data-timestamp='1563223080' id='672057'>
<a class='timestamp' href='#672057'><time timestamp='2019-07-15T20:38:00Z'>20:38</time></a>
&lt;<span class='nick nick-10'> elichai2</span>&gt;
so why not start conversations around descriptors extensions, psbt extenstions, tools that build complex taproot trees, early integration into other wallets, ideas on how to use it to make cheaper transactions, etc.
<br>
</div>

<div class='talk op-msg' data-timestamp='1563223140' id='672058'>
<a class='timestamp' href='#672058'><time timestamp='2019-07-15T20:39:00Z'>20:39</time></a>
&lt;<span class='nick nick-10'> elichai2</span>&gt;
but I might be totally wrong
<br>
</div>

<div class='talk op-msg' data-timestamp='1563223140' id='672059'>
<a class='timestamp' href='#672059'><time timestamp='2019-07-15T20:39:00Z'>20:39</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i don&#x27;t know, it feels like unnecessary pressure
<br>
</div>

<div class='talk op-msg' data-timestamp='1563223140' id='672060'>
<a class='timestamp' href='#672060'><time timestamp='2019-07-15T20:39:00Z'>20:39</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
we first need to get agreement on a design
<br>
</div>

<div class='talk op-msg' data-timestamp='1563223200' id='672061'>
<a class='timestamp' href='#672061'><time timestamp='2019-07-15T20:40:00Z'>20:40</time></a>
&lt;<span class='nick nick-10'> elichai2</span>&gt;
maybe this will make more people interested in reading into taproot BIP and giving feedback?
<br>
</div>

<div class='talk op-msg' data-timestamp='1563223200' id='672062'>
<a class='timestamp' href='#672062'><time timestamp='2019-07-15T20:40:00Z'>20:40</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i&#x27;m scared of people building things, and then discovering a major change in necessary, and then we end up with invested effort driving a &quot;pfff please don&#x27;t change the design anymore, we&#x27;ll need to redo our code!&quot;, which is a really bad incentive
<br>
</div>

<div class='talk op-msg' data-timestamp='1563223200' id='672063'>
<a class='timestamp' href='#672063'><time timestamp='2019-07-15T20:40:00Z'>20:40</time></a>
&lt;<span class='nick nick-10'> elichai2</span>&gt;
but I agree that if the design will really change then maybe this will be a big waste of time
<br>
</div>

<div class='talk op-msg' data-timestamp='1563223260' id='672064'>
<a class='timestamp' href='#672064'><time timestamp='2019-07-15T20:41:00Z'>20:41</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
at a high level, i think all of these things are easy... there is a lot of engineering work to go into making it actually work
<br>
</div>

<div class='talk op-msg' data-timestamp='1563223260' id='672065'>
<a class='timestamp' href='#672065'><time timestamp='2019-07-15T20:41:00Z'>20:41</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but once taproot is finalized, i think the way to actually add it to psbt for example will be pretty straightforward
<br>
</div>

<div class='talk op-msg' data-timestamp='1563223260' id='672066'>
<a class='timestamp' href='#672066'><time timestamp='2019-07-15T20:41:00Z'>20:41</time></a>
&lt;<span class='nick nick-10'> elichai2</span>&gt;
sipa: now I understand your motivation for discouraging a lot of the things I said that are related to taproot :) thanks :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1563223320' id='672067'>
<a class='timestamp' href='#672067'><time timestamp='2019-07-15T20:42:00Z'>20:42</time></a>
&lt;<span class='nick nick-10'> elichai2</span>&gt;
sipa: how much time it took between segwit activation and full support in core&#x27;s wallet? I might really be off here but for me it felt a lot
<br>
</div>

<div class='talk op-msg' data-timestamp='1563223320' id='672068'>
<a class='timestamp' href='#672068'><time timestamp='2019-07-15T20:42:00Z'>20:42</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
elichai2: yeah, a lot, and i think that&#x27;s perfectly fine :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1563223320' id='672069'>
<a class='timestamp' href='#672069'><time timestamp='2019-07-15T20:42:00Z'>20:42</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but i suspect with psbt and descriptors it will actually be a lot easier
<br>
</div>

<div class='talk op-msg' data-timestamp='1563223380' id='672070'>
<a class='timestamp' href='#672070'><time timestamp='2019-07-15T20:43:00Z'>20:43</time></a>
&lt;<span class='nick nick-10'> elichai2</span>&gt;
don&#x27;t you think that bitcoin core wallet should be like a reference for other wallets? because in that case other wallets got it faster :/
<br>
</div>

<div class='talk op-msg' data-timestamp='1563223380' id='672071'>
<a class='timestamp' href='#672071'><time timestamp='2019-07-15T20:43:00Z'>20:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i don&#x27;t think so
<br>
</div>

<div class='talk op-msg' data-timestamp='1563223380' id='672072'>
<a class='timestamp' href='#672072'><time timestamp='2019-07-15T20:43:00Z'>20:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
we need reference code in the form of signing logic etc
<br>
</div>

<div class='talk op-msg' data-timestamp='1563223380' id='672073'>
<a class='timestamp' href='#672073'><time timestamp='2019-07-15T20:43:00Z'>20:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and test vectors and examples
<br>
</div>

<div class='talk op-msg' data-timestamp='1563223440' id='672074'>
<a class='timestamp' href='#672074'><time timestamp='2019-07-15T20:44:00Z'>20:44</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but the variety of things that can be done with taproot is so large... there really isn&#x27;t a way to be reference for everything
<br>
</div>

<div class='talk op-msg' data-timestamp='1563223440' id='672075'>
<a class='timestamp' href='#672075'><time timestamp='2019-07-15T20:44:00Z'>20:44</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
actually, it was only from august 2017 to feb 2018
<br>
</div>

<div class='talk op-msg' data-timestamp='1563223500' id='672076'>
<a class='timestamp' href='#672076'><time timestamp='2019-07-15T20:45:00Z'>20:45</time></a>
&lt;<span class='nick nick-10'> elichai2</span>&gt;
as far as I could tell in the code psbt is basically a big wrapper(not trying to underestimate the power of it) around the already existing serializations of the classes/structs
<br>
</div>

<div class='talk op-msg' data-timestamp='1563223500' id='672077'>
<a class='timestamp' href='#672077'><time timestamp='2019-07-15T20:45:00Z'>20:45</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yup
<br>
</div>

<div class='talk op-msg' data-timestamp='1563223500' id='672078'>
<a class='timestamp' href='#672078'><time timestamp='2019-07-15T20:45:00Z'>20:45</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
so what will be needed in terms of data structures is a &quot;taproot derivation&quot; record in signing providers
<br>
</div>

<div class='talk op-msg' data-timestamp='1563223500' id='672079'>
<a class='timestamp' href='#672079'><time timestamp='2019-07-15T20:45:00Z'>20:45</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and descriptors that can fill that record
<br>
</div>

<div class='talk op-msg' data-timestamp='1563223500' id='672080'>
<a class='timestamp' href='#672080'><time timestamp='2019-07-15T20:45:00Z'>20:45</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and a way for that record to be serialized in psbt
<br>
</div>

<div class='talk op-msg' data-timestamp='1563223560' id='672081'>
<a class='timestamp' href='#672081'><time timestamp='2019-07-15T20:46:00Z'>20:46</time></a>
&lt;<span class='nick nick-7'> stevenroose</span>&gt;
(nvm my question, btw :))
<br>
</div>

<div class='talk op-msg' data-timestamp='1563223560' id='672082'>
<a class='timestamp' href='#672082'><time timestamp='2019-07-15T20:46:00Z'>20:46</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and signing logic to use it
<br>
</div>

<div class='talk op-msg' data-timestamp='1563223560' id='672083'>
<a class='timestamp' href='#672083'><time timestamp='2019-07-15T20:46:00Z'>20:46</time></a>
&lt;<span class='nick nick-10'> elichai2</span>&gt;
stevenroose: sorry for spamming it out 😓
<br>
</div>

<div class='talk op-msg' data-timestamp='1563223560' id='672084'>
<a class='timestamp' href='#672084'><time timestamp='2019-07-15T20:46:00Z'>20:46</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
stevenroose: delete the file :p
<br>
</div>

<div class='talk op-msg' data-timestamp='1563223620' id='672085'>
<a class='timestamp' href='#672085'><time timestamp='2019-07-15T20:47:00Z'>20:47</time></a>
&lt;<span class='nick nick-10'> elichai2</span>&gt;
sipa: I might need to look into the descriptors code, but basically I wrote a draft BIP for the PSBT extensions and wanted some PoC, so I thought adding manual RPC method for PSBT will be the easiest place to add those extensions without understanding all the structures in the wallet
<br>
</div>

<div class='talk op-msg' data-timestamp='1563223680' id='672086'>
<a class='timestamp' href='#672086'><time timestamp='2019-07-15T20:48:00Z'>20:48</time></a>
&lt;<span class='nick nick-10'> elichai2</span>&gt;
But you might be right and I need to look more into descriptors
<br>
</div>

<div class='talk op-msg' data-timestamp='1563223680' id='672087'>
<a class='timestamp' href='#672087'><time timestamp='2019-07-15T20:48:00Z'>20:48</time></a>
&lt;<span class='nick nick-10'> elichai2</span>&gt;
And my way isn&#x27;t &quot;the right way&quot; in relation to how the current code is designed
<br>
</div>

<div class='talk op-msg' data-timestamp='1563223740' id='672088'>
<a class='timestamp' href='#672088'><time timestamp='2019-07-15T20:49:00Z'>20:49</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i think for descriptors we&#x27;ll probably want a fragment &quot;tap(KEY,[[X,Y],[Z,[T,U]]])&quot; kind of construction, where you give the root key and the leaves in some tree-encoding way
<br>
</div>

<div class='talk op-msg' data-timestamp='1563223740' id='672089'>
<a class='timestamp' href='#672089'><time timestamp='2019-07-15T20:49:00Z'>20:49</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
where the X/Y/Z/T/U are subexpressions
<br>
</div>

<div class='talk op-msg' data-timestamp='1563223740' id='672090'>
<a class='timestamp' href='#672090'><time timestamp='2019-07-15T20:49:00Z'>20:49</time></a>
&lt;<span class='nick nick-10'> elichai2</span>&gt;
and you need the script too
<br>
</div>

<div class='talk op-msg' data-timestamp='1563223800' id='672091'>
<a class='timestamp' href='#672091'><time timestamp='2019-07-15T20:50:00Z'>20:50</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
X,Y,Z,Z,T,U are subexpressions that represent scripts
<br>
</div>

<div class='talk op-msg' data-timestamp='1563223800' id='672092'>
<a class='timestamp' href='#672092'><time timestamp='2019-07-15T20:50:00Z'>20:50</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
they could be pk(), or multi(), ...
<br>
</div>

<div class='talk op-msg' data-timestamp='1563223800' id='672093'>
<a class='timestamp' href='#672093'><time timestamp='2019-07-15T20:50:00Z'>20:50</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
or once we have miniscript probably a whole bunch more things (i hope to publish more about that soon)
<br>
</div>

<div class='talk op-msg' data-timestamp='1563223860' id='672094'>
<a class='timestamp' href='#672094'><time timestamp='2019-07-15T20:51:00Z'>20:51</time></a>
&lt;<span class='nick nick-10'> elichai2</span>&gt;
oh that&#x27;s for the whole tree. not just the spending path
<br>
</div>

<div class='talk op-msg' data-timestamp='1563223860' id='672095'>
<a class='timestamp' href='#672095'><time timestamp='2019-07-15T20:51:00Z'>20:51</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
right
<br>
</div>

<div class='talk op-msg' data-timestamp='1563223860' id='672096'>
<a class='timestamp' href='#672096'><time timestamp='2019-07-15T20:51:00Z'>20:51</time></a>
&lt;<span class='nick nick-10'> elichai2</span>&gt;
I&#x27;ll more need to look into the descriptors code, see how complicated is it
<br>
</div>

<div class='talk op-msg' data-timestamp='1563223860' id='672097'>
<a class='timestamp' href='#672097'><time timestamp='2019-07-15T20:51:00Z'>20:51</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and that would then get converted into a &quot;taproot key record&quot; for the key path and for each leaf
<br>
</div>

<div class='talk op-msg' data-timestamp='1563223860' id='672098'>
<a class='timestamp' href='#672098'><time timestamp='2019-07-15T20:51:00Z'>20:51</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
in signingprovider/psbt
<br>
</div>

<div class='talk op-msg' data-timestamp='1563223980' id='672099'>
<a class='timestamp' href='#672099'><time timestamp='2019-07-15T20:53:00Z'>20:53</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/blob/master/src/script/descriptor.cpp" class="link" target="_blank">https://github.com/bitcoin/bitcoin/blob/master/src/script/descriptor.cpp</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1563224040' id='672100'>
<a class='timestamp' href='#672100'><time timestamp='2019-07-15T20:54:00Z'>20:54</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
L149-170 is an interface for all the &quot;key&quot; expressions inside descriptors, with a number of implementations (pubkeys, descriptors, origin info)
<br>
</div>

<div class='talk op-msg' data-timestamp='1563224040' id='672101'>
<a class='timestamp' href='#672101'><time timestamp='2019-07-15T20:54:00Z'>20:54</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
s/descriptors/bip32/
<br>
</div>

<div class='talk op-msg' data-timestamp='1563224100' id='672102'>
<a class='timestamp' href='#672102'><time timestamp='2019-07-15T20:55:00Z'>20:55</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
line 335-497 is a generic implementation of a &quot;script&quot; node in a descriptor
<br>
</div>

<div class='talk op-msg' data-timestamp='1563224100' id='672103'>
<a class='timestamp' href='#672103'><time timestamp='2019-07-15T20:55:00Z'>20:55</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
followed by implementations that add node specific logic (pk, pkh, sh, wpkh, wsh, multi, combi, addr, raw)
<br>
</div>

<div class='talk op-msg' data-timestamp='1563224100' id='672104'>
<a class='timestamp' href='#672104'><time timestamp='2019-07-15T20:55:00Z'>20:55</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and after that is parsing (string to descriptor) and inference (script to descriptor) code
<br>
</div>

<div class='talk op-msg' data-timestamp='1563224820' id='672105'>
<a class='timestamp' href='#672105'><time timestamp='2019-07-15T21:07:00Z'>21:07</time></a>
&lt;<span class='nick nick-10'> elichai2</span>&gt;
sipa: Thanks. I&#x27;ll start looking around
<br>
</div>

<div class='talk op-msg' data-timestamp='1563226560' id='672106'>
<a class='timestamp' href='#672106'><time timestamp='2019-07-15T21:36:00Z'>21:36</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
elichai2: cool
<br>
</div>

<div class='talk op-msg' data-timestamp='1563226620' id='672107'>
<a class='timestamp' href='#672107'><time timestamp='2019-07-15T21:37:00Z'>21:37</time></a>
&lt;<span class='nick nick-10'> elichai2</span>&gt;
(really, Thank You!)
<br>
</div>

<div class='talk op-msg' data-timestamp='1563226740' id='672108'>
<a class='timestamp' href='#672108'><time timestamp='2019-07-15T21:39:00Z'>21:39</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
really, yw :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1563228120' id='672109'>
<a class='timestamp' href='#672109'><time timestamp='2019-07-15T22:02:00Z'>22:02</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
sipa: you&#x27;ve mentioned this concern a couple of times:
<br>
</div>

<div class='talk op-msg' data-timestamp='1563228180' id='672110'>
<a class='timestamp' href='#672110'><time timestamp='2019-07-15T22:03:00Z'>22:03</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
&gt; i&#x27;m scared of people building things, and then discovering a major change in necessary, and then we end up with invested effort driving a &quot;pfff please don&#x27;t change the design anymore, we&#x27;ll need to redo our code!&quot;, which is a really bad incentive
<br>
</div>

<div class='talk op-msg' data-timestamp='1563228180' id='672111'>
<a class='timestamp' href='#672111'><time timestamp='2019-07-15T22:03:00Z'>22:03</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
I think there are a good reasons to start building PoC tools around the schnorr/taproot proposal now.
<br>
</div>

<div class='talk op-msg' data-timestamp='1563228180' id='672112'>
<a class='timestamp' href='#672112'><time timestamp='2019-07-15T22:03:00Z'>22:03</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
We&#x27;ll get much better feedback on the design if people are actually writing code to use schnorr/taproot, rather than just trying to analyse it from a theoretical perspective.
<br>
</div>

<div class='talk op-msg' data-timestamp='1563228180' id='672113'>
<a class='timestamp' href='#672113'><time timestamp='2019-07-15T22:03:00Z'>22:03</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
And if those tools are made in a flexible way such that they can be adapted if there are minor design changes, then I don&#x27;t think it&#x27;s a waste of engineering time.
<br>
</div>

<div class='talk op-msg' data-timestamp='1563228180' id='672114'>
<a class='timestamp' href='#672114'><time timestamp='2019-07-15T22:03:00Z'>22:03</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
I can&#x27;t think of what kind of major change to the proposal would cause the effort to be wasted.
<br>
</div>

<div class='talk op-msg' data-timestamp='1563228240' id='672115'>
<a class='timestamp' href='#672115'><time timestamp='2019-07-15T22:04:00Z'>22:04</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jnewbery: of course
<br>
</div>

<div class='talk op-msg' data-timestamp='1563228300' id='672116'>
<a class='timestamp' href='#672116'><time timestamp='2019-07-15T22:05:00Z'>22:05</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i don&#x27;t mind PoC tools
<br>
</div>

<div class='talk op-msg' data-timestamp='1563228420' id='672117'>
<a class='timestamp' href='#672117'><time timestamp='2019-07-15T22:07:00Z'>22:07</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but i also don&#x27;t think there is any rush
<br>
</div>

<div class='talk op-msg' data-timestamp='1563228480' id='672118'>
<a class='timestamp' href='#672118'><time timestamp='2019-07-15T22:08:00Z'>22:08</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and if your end goal is integrating things into bitcoin core, i suspect getting familiar with the code is probably the best way to spend time now
<br>
</div>

<div class='talk op-msg' data-timestamp='1563228600' id='672119'>
<a class='timestamp' href='#672119'><time timestamp='2019-07-15T22:10:00Z'>22:10</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
I don&#x27;t think there&#x27;s a rush, but I&#x27;d prefer for these tools to be built now so we can get feedback on the proposal. We&#x27;re now at the stage that we&#x27;re gathering feedback on the proposal, so it seems like a good use of time/energy to try to encourage that feedback.
<br>
</div>

<div class='talk op-msg' data-timestamp='1563228660' id='672120'>
<a class='timestamp' href='#672120'><time timestamp='2019-07-15T22:11:00Z'>22:11</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
and yes, getting familiar with the code is important, but I don&#x27;t think those things are mutually exclusive in any way
<br>
</div>

<div class='talk op-msg' data-timestamp='1563228720' id='672121'>
<a class='timestamp' href='#672121'><time timestamp='2019-07-15T22:12:00Z'>22:12</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i don&#x27;t disagree
<br>
</div>

<div class='talk op-msg' data-timestamp='1563228900' id='672122'>
<a class='timestamp' href='#672122'><time timestamp='2019-07-15T22:15:00Z'>22:15</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but do you think hacking in preliminary taproot code in RPCs where it shouldn&#x27;t be needed is useful as a PoC/
<br>
</div>

<div class='talk op-msg' data-timestamp='1563228960' id='672123'>
<a class='timestamp' href='#672123'><time timestamp='2019-07-15T22:16:00Z'>22:16</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it&#x27;s not useful as reference code, and is unlikely to give a good idea of the complexity of real world implementations
<br>
</div>

<div class='talk op-msg' data-timestamp='1563228960' id='672124'>
<a class='timestamp' href='#672124'><time timestamp='2019-07-15T22:16:00Z'>22:16</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
if a PoC is your goal, i suspect there are better codebases to try implementing things in that core&#x27;s
<br>
</div>

<div class='talk op-msg' data-timestamp='1563229020' id='672125'>
<a class='timestamp' href='#672125'><time timestamp='2019-07-15T22:17:00Z'>22:17</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and if working towards an eventual production implementation in core, time seems better spent on the actual code rather than bypassing it
<br>
</div>

<div class='talk op-msg' data-timestamp='1563229020' id='672126'>
<a class='timestamp' href='#672126'><time timestamp='2019-07-15T22:17:00Z'>22:17</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
*than
<br>
</div>

<div class='talk op-msg' data-timestamp='1563231780' id='672127'>
<a class='timestamp' href='#672127'><time timestamp='2019-07-15T23:03:00Z'>23:03</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
&gt; do you think hacking in preliminary taproot code in RPCs where it shouldn&#x27;t be needed is useful as a PoC?
<br>
</div>

<div class='talk op-msg' data-timestamp='1563231840' id='672128'>
<a class='timestamp' href='#672128'><time timestamp='2019-07-15T23:04:00Z'>23:04</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
Possibly not
<br>
</div>

</div>
</section>

</body>
</html>
