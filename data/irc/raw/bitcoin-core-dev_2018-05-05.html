<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2018-05-05
 — 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2018-05-05' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:22 UTC</pre>
<pre><a href="/bitcoin-core-dev/2018-04-05">&lt;</a><span class='header'>     May 2018     </span><a href="/bitcoin-core-dev/2018-06-05">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;       <a class="" href="/bitcoin-core-dev/2018-05-01">1</a>  <a class="" href="/bitcoin-core-dev/2018-05-02">2</a>  <a class="" href="/bitcoin-core-dev/2018-05-03">3</a>  <a class="" href="/bitcoin-core-dev/2018-05-04">4</a>  <a class="current" href="/bitcoin-core-dev/2018-05-05">5</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2018-05-06">6</a>  <a class="" href="/bitcoin-core-dev/2018-05-07">7</a>  <a class="" href="/bitcoin-core-dev/2018-05-08">8</a>  <a class="" href="/bitcoin-core-dev/2018-05-09">9</a> <a class="" href="/bitcoin-core-dev/2018-05-10">10</a> <a class="" href="/bitcoin-core-dev/2018-05-11">11</a> <a class="" href="/bitcoin-core-dev/2018-05-12">12</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2018-05-13">13</a> <a class="" href="/bitcoin-core-dev/2018-05-14">14</a> <a class="" href="/bitcoin-core-dev/2018-05-15">15</a> <a class="" href="/bitcoin-core-dev/2018-05-16">16</a> <a class="" href="/bitcoin-core-dev/2018-05-17">17</a> <a class="" href="/bitcoin-core-dev/2018-05-18">18</a> <a class="" href="/bitcoin-core-dev/2018-05-19">19</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2018-05-20">20</a> <a class="" href="/bitcoin-core-dev/2018-05-21">21</a> <a class="" href="/bitcoin-core-dev/2018-05-22">22</a> <a class="" href="/bitcoin-core-dev/2018-05-23">23</a> <a class="" href="/bitcoin-core-dev/2018-05-24">24</a> <a class="" href="/bitcoin-core-dev/2018-05-25">25</a> <a class="" href="/bitcoin-core-dev/2018-05-26">26</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2018-05-27">27</a> <a class="" href="/bitcoin-core-dev/2018-05-28">28</a> <a class="" href="/bitcoin-core-dev/2018-05-29">29</a> <a class="" href="/bitcoin-core-dev/2018-05-30">30</a> <a class="" href="/bitcoin-core-dev/2018-05-31">31</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1525478400' id='611475'>
<a class='timestamp' href='#611475'><time timestamp='2018-05-05T00:00:00Z'>00:00</time></a>
&lt;<span class='nick nick-15'> ossifrage</span>&gt;
Does upgrading the txindex database have the same io/time cost as just rebuilding the index? It seems to be grinding away rather slowly
<br>
</div>

<div class='talk op-msg' data-timestamp='1525478820' id='611476'>
<a class='timestamp' href='#611476'><time timestamp='2018-05-05T00:07:00Z'>00:07</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
ossifrage, it should be substantially cheaper
<br>
</div>

<div class='talk op-msg' data-timestamp='1525478940' id='611477'>
<a class='timestamp' href='#611477'><time timestamp='2018-05-05T00:09:00Z'>00:09</time></a>
&lt;<span class='nick nick-15'> ossifrage</span>&gt;
phantomcircuit, thanks, I remember the initial txindex build being painful thanks to depressingly slow spinning rust
<br>
</div>

<div class='talk op-msg' data-timestamp='1525478940' id='611478'>
<a class='timestamp' href='#611478'><time timestamp='2018-05-05T00:09:00Z'>00:09</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
rebuilding would have to go rescan the entire chain again
<br>
</div>

<div class='talk op-msg' data-timestamp='1525478940' id='611479'>
<a class='timestamp' href='#611479'><time timestamp='2018-05-05T00:09:00Z'>00:09</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
the upgrade is, iirc just reading the existing database and writting a new one
<br>
</div>

<div class='talk op-msg' data-timestamp='1525479000' id='611480'>
<a class='timestamp' href='#611480'><time timestamp='2018-05-05T00:10:00Z'>00:10</time></a>
&lt;<span class='nick nick-15'> ossifrage</span>&gt;
10% took ~21minutes
<br>
</div>

<div class='talk op-msg' data-timestamp='1525479000' id='611481'>
<a class='timestamp' href='#611481'><time timestamp='2018-05-05T00:10:00Z'>00:10</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
but i guess it might be rebuilding anyways?
<br>
</div>

<div class='talk op-msg' data-timestamp='1525479000' id='611482'>
<a class='timestamp' href='#611482'><time timestamp='2018-05-05T00:10:00Z'>00:10</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
no idea
<br>
</div>

<div class='talk op-msg' data-timestamp='1525479120' id='611483'>
<a class='timestamp' href='#611483'><time timestamp='2018-05-05T00:12:00Z'>00:12</time></a>
&lt;<span class='nick nick-15'> ossifrage</span>&gt;
One of the iothreads has already written 28GB (way more then any thread has read)
<br>
</div>

<div class='talk op-msg' data-timestamp='1525479180' id='611484'>
<a class='timestamp' href='#611484'><time timestamp='2018-05-05T00:13:00Z'>00:13</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that&#x27;s expected for leveldb
<br>
</div>

<div class='talk op-msg' data-timestamp='1525479420' id='611485'>
<a class='timestamp' href='#611485'><time timestamp='2018-05-05T00:17:00Z'>00:17</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
sipa, is it reading the previous database and writting out, or reindexing?
<br>
</div>

<div class='talk op-msg' data-timestamp='1525479420' id='611486'>
<a class='timestamp' href='#611486'><time timestamp='2018-05-05T00:17:00Z'>00:17</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
converting the previous db
<br>
</div>

<div class='talk op-msg' data-timestamp='1525483380' id='611487'>
<a class='timestamp' href='#611487'><time timestamp='2018-05-05T01:23:00Z'>01:23</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
wumpus nice speedup in #13151
<br>
</div>

<div class='talk op-msg' data-timestamp='1525483380' id='611488'>
<a class='timestamp' href='#611488'><time timestamp='2018-05-05T01:23:00Z'>01:23</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/13151" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/13151</a> | net: Serve blocks directly from disk when possible by laanwj · Pull Request #13151 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1525483380' id='611489'>
<a class='timestamp' href='#611489'><time timestamp='2018-05-05T01:23:00Z'>01:23</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
I&#x27;ll try and recreate your results using bitcoincore-indexd
<br>
</div>

<div class='talk op-msg' data-timestamp='1525488540' id='611490'>
<a class='timestamp' href='#611490'><time timestamp='2018-05-05T02:49:00Z'>02:49</time></a>
&lt;<span class='nick nick-15'> ossifrage</span>&gt;
Ouch, after a really long time running the txindex upgrade, I ran out of disk :-(
<br>
</div>

<div class='talk op-msg' data-timestamp='1525491840' id='611491'>
<a class='timestamp' href='#611491'><time timestamp='2018-05-05T03:44:00Z'>03:44</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] ken2812221 opened pull request #13171: [WIP] Change gitian-descriptors to use bionic instead (master...gitian) <a href="https://github.com/bitcoin/bitcoin/pull/13171" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/13171</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1525494600' id='611492'>
<a class='timestamp' href='#611492'><time timestamp='2018-05-05T04:30:00Z'>04:30</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] OldMiR opened pull request #13172: Remove double MSG_DONTWAIT (master...master) <a href="https://github.com/bitcoin/bitcoin/pull/13172" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/13172</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1525508400' id='611493'>
<a class='timestamp' href='#611493'><time timestamp='2018-05-05T08:20:00Z'>08:20</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
2018-05-05T08:07:56Z Upgrading txindex database... [0%]
<br>
</div>

<div class='talk op-msg' data-timestamp='1525508400' id='611494'>
<a class='timestamp' href='#611494'><time timestamp='2018-05-05T08:20:00Z'>08:20</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
2018-05-05T08:15:04Z Upgrading txindex database... [10%]
<br>
</div>

<div class='talk op-msg' data-timestamp='1525508460' id='611495'>
<a class='timestamp' href='#611495'><time timestamp='2018-05-05T08:21:00Z'>08:21</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
If we haven&#x27;t, we probably should mention that in the release notes (that the upgrade is pretty slow)
<br>
</div>

<div class='talk op-msg' data-timestamp='1525525800' id='611496'>
<a class='timestamp' href='#611496'><time timestamp='2018-05-05T13:10:00Z'>13:10</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jnewbery closed pull request #10554: ZMQ: add publishers for wallet transactions. (master...zmq_wallet_tx) <a href="https://github.com/bitcoin/bitcoin/pull/10554" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10554</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1525530060' id='611497'>
<a class='timestamp' href='#611497'><time timestamp='2018-05-05T14:21:00Z'>14:21</time></a>
&lt;<span class='nick nick-11'> pierre_rochard</span>&gt;
I’ve added high priority for review to <a href="https://bitcoinacks.com/" class="link" target="_blank">https://bitcoinacks.com/</a> it’s a little intrusive having them pinned at the top but, well, that’s the point! 
<br>
</div>

<div class='talk op-msg' data-timestamp='1525530180' id='611498'>
<a class='timestamp' href='#611498'><time timestamp='2018-05-05T14:23:00Z'>14:23</time></a>
&lt;<span class='nick nick-11'> pierre_rochard</span>&gt;
luke-jr: the filters are unintuitive so I’ve added an Open PRs button at the top as a shortcut, since that’s a popular set of filters. I looked into the horizontal scroll and the framework I’m using does too much magick for me to change its behavior
<br>
</div>

<div class='talk op-msg' data-timestamp='1525530840' id='611499'>
<a class='timestamp' href='#611499'><time timestamp='2018-05-05T14:34:00Z'>14:34</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/f82e1c948212...66cc47be982a" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/f82e1c948212...66cc47be982a</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1525530840' id='611500'>
<a class='timestamp' href='#611500'><time timestamp='2018-05-05T14:34:00Z'>14:34</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master cbba1d2 practicalswift: Add compile time checking for all ::mempool.cs runtime locking assertions
<br>
</div>

<div class='talk op-msg' data-timestamp='1525530900' id='611501'>
<a class='timestamp' href='#611501'><time timestamp='2018-05-05T14:35:00Z'>14:35</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 66cc47b MarcoFalke: Merge #13080: mempool: Add compile time checking for ::mempool.cs runtime locking assertions...
<br>
</div>

<div class='talk op-msg' data-timestamp='1525530900' id='611502'>
<a class='timestamp' href='#611502'><time timestamp='2018-05-05T14:35:00Z'>14:35</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke closed pull request #13080: mempool: Add compile time checking for ::mempool.cs runtime locking assertions (master...mempool.cs) <a href="https://github.com/bitcoin/bitcoin/pull/13080" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/13080</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1525532760' id='611503'>
<a class='timestamp' href='#611503'><time timestamp='2018-05-05T15:06:00Z'>15:06</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
pierre_rochard nice
<br>
</div>

<div class='talk op-msg' data-timestamp='1525532820' id='611504'>
<a class='timestamp' href='#611504'><time timestamp='2018-05-05T15:07:00Z'>15:07</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
pierre_rochard Looks like you are showing a lot more of the body text now? I think there might be a bit too much showing, as it ends up with quite tall rows.
<br>
</div>

<div class='talk op-msg' data-timestamp='1525532940' id='611505'>
<a class='timestamp' href='#611505'><time timestamp='2018-05-05T15:09:00Z'>15:09</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
i.e <a href="https://0bin.net/paste/OQbnisqm6+JxruVd#usS48X" class="link" target="_blank">https://0bin.net/paste/OQbnisqm6+JxruVd#usS48X</a>+UEn5ZIOBZUrbtTWfodm4avG9vrwDTInmvIWX
<br>
</div>

<div class='talk op-msg' data-timestamp='1525533120' id='611506'>
<a class='timestamp' href='#611506'><time timestamp='2018-05-05T15:12:00Z'>15:12</time></a>
&lt;<span class='nick nick-11'> pierre_rochard</span>&gt;
fanquake: agree, I’m spoiled with a 4k monitor, I’m going to remove body from the list view for now because I don’t think a shorter preview would be useful, the full body will still be visible with the details modal (the eye button on the left)
<br>
</div>

<div class='talk op-msg' data-timestamp='1525542720' id='611507'>
<a class='timestamp' href='#611507'><time timestamp='2018-05-05T17:52:00Z'>17:52</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
sdaftuar: wait, huh? I&#x27;m missing context here
<br>
</div>

<div class='talk op-msg' data-timestamp='1525542780' id='611508'>
<a class='timestamp' href='#611508'><time timestamp='2018-05-05T17:53:00Z'>17:53</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
sdaftuar: generally, you should be able to register before any callbacks fire
<br>
</div>

<div class='talk op-msg' data-timestamp='1525542780' id='611509'>
<a class='timestamp' href='#611509'><time timestamp='2018-05-05T17:53:00Z'>17:53</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
and if you&#x27;re registered before a calllback is generated, you&#x27;re guaranteed to get it
<br>
</div>

<div class='talk op-msg' data-timestamp='1525546560' id='611510'>
<a class='timestamp' href='#611510'><time timestamp='2018-05-05T18:56:00Z'>18:56</time></a>
&lt;<span class='nick nick-4'> jamesob</span>&gt;
is there any reason that LogPrintf et al live on as macros vs. being functions on BCLog::Logger?
<br>
</div>

<div class='talk op-msg' data-timestamp='1525546680' id='611511'>
<a class='timestamp' href='#611511'><time timestamp='2018-05-05T18:58:00Z'>18:58</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jamesob: yes, avoiding serialization overhead of its arguments when debug category is disabled
<br>
</div>

<div class='talk op-msg' data-timestamp='1525546740' id='611512'>
<a class='timestamp' href='#611512'><time timestamp='2018-05-05T18:59:00Z'>18:59</time></a>
&lt;<span class='nick nick-4'> jamesob</span>&gt;
sipa: thanks, good to know
<br>
</div>

</div>
</section>

</body>
</html>
