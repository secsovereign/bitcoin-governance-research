<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2016-12-13
 — 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2016-12-13' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:25 UTC</pre>
<pre><a href="/bitcoin-core-dev/2016-11-13">&lt;</a><span class='header'>  December 2016   </span><a href="/bitcoin-core-dev/2017-01-13">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;             <a class="" href="/bitcoin-core-dev/2016-12-01">1</a>  <a class="" href="/bitcoin-core-dev/2016-12-02">2</a>  <a class="" href="/bitcoin-core-dev/2016-12-03">3</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2016-12-04">4</a>  <a class="" href="/bitcoin-core-dev/2016-12-05">5</a>  <a class="" href="/bitcoin-core-dev/2016-12-06">6</a>  <a class="" href="/bitcoin-core-dev/2016-12-07">7</a>  <a class="" href="/bitcoin-core-dev/2016-12-08">8</a>  <a class="" href="/bitcoin-core-dev/2016-12-09">9</a> <a class="" href="/bitcoin-core-dev/2016-12-10">10</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2016-12-11">11</a> <a class="" href="/bitcoin-core-dev/2016-12-12">12</a> <a class="current" href="/bitcoin-core-dev/2016-12-13">13</a> <a class="" href="/bitcoin-core-dev/2016-12-14">14</a> <a class="" href="/bitcoin-core-dev/2016-12-15">15</a> <a class="" href="/bitcoin-core-dev/2016-12-16">16</a> <a class="" href="/bitcoin-core-dev/2016-12-17">17</a>  &#x000A;18 <a class="" href="/bitcoin-core-dev/2016-12-19">19</a> <a class="" href="/bitcoin-core-dev/2016-12-20">20</a> <a class="" href="/bitcoin-core-dev/2016-12-21">21</a> <a class="" href="/bitcoin-core-dev/2016-12-22">22</a> <a class="" href="/bitcoin-core-dev/2016-12-23">23</a> <a class="" href="/bitcoin-core-dev/2016-12-24">24</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2016-12-25">25</a> <a class="" href="/bitcoin-core-dev/2016-12-26">26</a> <a class="" href="/bitcoin-core-dev/2016-12-27">27</a> <a class="" href="/bitcoin-core-dev/2016-12-28">28</a> <a class="" href="/bitcoin-core-dev/2016-12-29">29</a> <a class="" href="/bitcoin-core-dev/2016-12-30">30</a> <a class="" href="/bitcoin-core-dev/2016-12-31">31</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1481594400' id='517548'>
<a class='timestamp' href='#517548'><time timestamp='2016-12-13T02:00:00Z'>02:00</time></a>
&lt;<span class='nick nick-16'> Lightsword</span>&gt;
think it would be reasonable to remove this TestBlockValidity check in 0.13 for miners? <a href="https://github.com/bitcoin/bitcoin/blob/0.13/src/miner.cpp#L193-L195" class="link" target="_blank">https://github.com/bitcoin/bitcoin/blob/0.13/src/miner.cpp#L193-L195</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1481594460' id='517549'>
<a class='timestamp' href='#517549'><time timestamp='2016-12-13T02:01:00Z'>02:01</time></a>
&lt;<span class='nick nick-16'> Lightsword</span>&gt;
I would assume if there were any issues there someone would have hit them by now
<br>
</div>

<div class='talk op-msg' data-timestamp='1481599500' id='517550'>
<a class='timestamp' href='#517550'><time timestamp='2016-12-13T03:25:00Z'>03:25</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
Lightsword: For what purpose?  Do we think its important to have block creation happen 100ms faster?  I&#x27;d be hesitant to do it unless someone could make a good argument that it&#x27;s really beneficial to save the time
<br>
</div>

<div class='talk op-msg' data-timestamp='1481599560' id='517551'>
<a class='timestamp' href='#517551'><time timestamp='2016-12-13T03:26:00Z'>03:26</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
morcos: I think it could move into the background with basically no hit on reliablity... and then get rid of the 100ms concern.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481599560' id='517552'>
<a class='timestamp' href='#517552'><time timestamp='2016-12-13T03:26:00Z'>03:26</time></a>
&lt;<span class='nick nick-16'> Lightsword</span>&gt;
morcos, to speed up GBT and potentially reduce the need for validationless mining
<br>
</div>

<div class='talk op-msg' data-timestamp='1481599560' id='517553'>
<a class='timestamp' href='#517553'><time timestamp='2016-12-13T03:26:00Z'>03:26</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
I suppose after a tip change, it makes sense to get a new block 100ms faster...  I wonder if we could just skip it in that case...
<br>
</div>

<div class='talk op-msg' data-timestamp='1481599560' id='517554'>
<a class='timestamp' href='#517554'><time timestamp='2016-12-13T03:26:00Z'>03:26</time></a>
&lt;<span class='nick nick-16'> Lightsword</span>&gt;
gmaxwell, I think we couldn’t do that due to cs_main locks
<br>
</div>

<div class='talk op-msg' data-timestamp='1481599620' id='517555'>
<a class='timestamp' href='#517555'><time timestamp='2016-12-13T03:27:00Z'>03:27</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
gmaxwell: i agree. we could move it to the background...  but i think you just want to be a tad careful that we don&#x27;t view that as free, since it still locks cs_main for 100ms
<br>
</div>

<div class='talk op-msg' data-timestamp='1481599680' id='517556'>
<a class='timestamp' href='#517556'><time timestamp='2016-12-13T03:28:00Z'>03:28</time></a>
&lt;<span class='nick nick-16'> Lightsword</span>&gt;
I’m pretty sure the cs_main lock itself is the problem
<br>
</div>

<div class='talk op-msg' data-timestamp='1481599740' id='517557'>
<a class='timestamp' href='#517557'><time timestamp='2016-12-13T03:29:00Z'>03:29</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
the lock is irrelevant from the perspective of time to response for the response itself.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481599800' id='517558'>
<a class='timestamp' href='#517558'><time timestamp='2016-12-13T03:30:00Z'>03:30</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
anyway... this late in the game i&#x27;d view that as a bit aggressive for 0.14...
<br>
</div>

<div class='talk op-msg' data-timestamp='1481599800' id='517559'>
<a class='timestamp' href='#517559'><time timestamp='2016-12-13T03:30:00Z'>03:30</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
(any of it)
<br>
</div>

<div class='talk op-msg' data-timestamp='1481599860' id='517560'>
<a class='timestamp' href='#517560'><time timestamp='2016-12-13T03:31:00Z'>03:31</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Lightsword: in 0.12 we made a number of fairly agressive changes to how block construction trusts the integrity of the mempool, with the argument that the test would catch any corruption that happened.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481599860' id='517561'>
<a class='timestamp' href='#517561'><time timestamp='2016-12-13T03:31:00Z'>03:31</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
We&#x27;ve had mempool corruption bugs in the past. So totally running without ever having a test seems risky-- turns random mempool optimizations into possible quiet consensus bugs.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481599860' id='517562'>
<a class='timestamp' href='#517562'><time timestamp='2016-12-13T03:31:00Z'>03:31</time></a>
&lt;<span class='nick nick-16'> Lightsword</span>&gt;
well…we haven’t had anyone get a failure of TBV yet right?
<br>
</div>

<div class='talk op-msg' data-timestamp='1481599920' id='517563'>
<a class='timestamp' href='#517563'><time timestamp='2016-12-13T03:32:00Z'>03:32</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
No but we had failures of the internal mempool tests that we&#x27;ve since removed.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481599920' id='517564'>
<a class='timestamp' href='#517564'><time timestamp='2016-12-13T03:32:00Z'>03:32</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
In any case, what I&#x27;d prefer to do is just get the TBV out of the critical path rather than never run it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481599980' id='517565'>
<a class='timestamp' href='#517565'><time timestamp='2016-12-13T03:33:00Z'>03:33</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
and it would also be fine as far as I&#x27;m concerned if it ran less often.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481600280' id='517566'>
<a class='timestamp' href='#517566'><time timestamp='2016-12-13T03:38:00Z'>03:38</time></a>
&lt;<span class='nick nick-16'> Lightsword</span>&gt;
gmaxwell, can we get the cs_main lock out of the critical path as well?
<br>
</div>

<div class='talk op-msg' data-timestamp='1481600400' id='517567'>
<a class='timestamp' href='#517567'><time timestamp='2016-12-13T03:40:00Z'>03:40</time></a>
&lt;<span class='nick nick-16'> Lightsword</span>&gt;
main thing I’m noticing is a huge GBT call time variance reduction when I removed these 4 lines <a href="https://github.com/bitcoin/bitcoin/blob/0.13/src/miner.cpp#L192-L195" class="link" target="_blank">https://github.com/bitcoin/bitcoin/blob/0.13/src/miner.cpp#L192-L195</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1481600460' id='517568'>
<a class='timestamp' href='#517568'><time timestamp='2016-12-13T03:41:00Z'>03:41</time></a>
&lt;<span class='nick nick-16'> Lightsword</span>&gt;
I removed the TBV call first without removing CValidationState state; but that had minimal effect, removing CValidationState state; however seems to have made a pretty decent difference
<br>
</div>

<div class='talk op-msg' data-timestamp='1481600460' id='517569'>
<a class='timestamp' href='#517569'><time timestamp='2016-12-13T03:41:00Z'>03:41</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
how much time are you talking about?
<br>
</div>

<div class='talk op-msg' data-timestamp='1481600520' id='517570'>
<a class='timestamp' href='#517570'><time timestamp='2016-12-13T03:42:00Z'>03:42</time></a>
&lt;<span class='nick nick-16'> Lightsword</span>&gt;
it seems vary a lot unless I remove CValidationState state;
<br>
</div>

<div class='talk op-msg' data-timestamp='1481600520' id='517571'>
<a class='timestamp' href='#517571'><time timestamp='2016-12-13T03:42:00Z'>03:42</time></a>
&lt;<span class='nick nick-16'> Lightsword</span>&gt;
over 100ms gbt call time differences
<br>
</div>

<div class='talk op-msg' data-timestamp='1481600520' id='517572'>
<a class='timestamp' href='#517572'><time timestamp='2016-12-13T03:42:00Z'>03:42</time></a>
&lt;<span class='nick nick-16'> Lightsword</span>&gt;
just between successive calls
<br>
</div>

<div class='talk op-msg' data-timestamp='1481600520' id='517573'>
<a class='timestamp' href='#517573'><time timestamp='2016-12-13T03:42:00Z'>03:42</time></a>
&lt;<span class='nick nick-16'> Lightsword</span>&gt;
vs close to 20 with it removed
<br>
</div>

<div class='talk op-msg' data-timestamp='1481601060' id='517574'>
<a class='timestamp' href='#517574'><time timestamp='2016-12-13T03:51:00Z'>03:51</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
I&#x27;m not sure what you mean about CValidationState, the only line doing anything is the TBV, but yes I think that sounds about right....  CreateNewBlock = 20ms + 100ms for TBV where there is a lot of variance in the 100ms part
<br>
</div>

<div class='talk op-msg' data-timestamp='1481601120' id='517575'>
<a class='timestamp' href='#517575'><time timestamp='2016-12-13T03:52:00Z'>03:52</time></a>
&lt;<span class='nick nick-16'> Lightsword</span>&gt;
hmm, maybe I’m mixing that up
<br>
</div>

<div class='talk op-msg' data-timestamp='1481601120' id='517576'>
<a class='timestamp' href='#517576'><time timestamp='2016-12-13T03:52:00Z'>03:52</time></a>
&lt;<span class='nick nick-16'> Lightsword</span>&gt;
anyways direct comparing def is much more consistant
<br>
</div>

<div class='talk op-msg' data-timestamp='1481601180' id='517577'>
<a class='timestamp' href='#517577'><time timestamp='2016-12-13T03:53:00Z'>03:53</time></a>
&lt;<span class='nick nick-16'> Lightsword</span>&gt;
without TBV
<br>
</div>

<div class='talk op-msg' data-timestamp='1481604060' id='517578'>
<a class='timestamp' href='#517578'><time timestamp='2016-12-13T04:41:00Z'>04:41</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] rebroad opened pull request #9338: Stripe downloads to reduce stallers occuring (master...ReduceStalling) <a href="https://github.com/bitcoin/bitcoin/pull/9338" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9338</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1481621940' id='517579'>
<a class='timestamp' href='#517579'><time timestamp='2016-12-13T09:39:00Z'>09:39</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] goku1997 opened pull request #9339: Revert segwit. Increase block size to 8MB for Bitcoin Ocho. Bitcoin Ocho is the future. (master...master) <a href="https://github.com/bitcoin/bitcoin/pull/9339" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9339</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1481622000' id='517580'>
<a class='timestamp' href='#517580'><time timestamp='2016-12-13T09:40:00Z'>09:40</time></a>
&lt;<span class='nick nick-4'> rabidus_</span>&gt;
:E     
<br>
</div>

<div class='talk op-msg' data-timestamp='1481622180' id='517581'>
<a class='timestamp' href='#517581'><time timestamp='2016-12-13T09:43:00Z'>09:43</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jonasschnelli closed pull request #9339: Revert segwit. Increase block size to 8MB for Bitcoin Ocho. Bitcoin Ocho is the future. (master...master) <a href="https://github.com/bitcoin/bitcoin/pull/9339" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9339</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1481622600' id='517582'>
<a class='timestamp' href='#517582'><time timestamp='2016-12-13T09:50:00Z'>09:50</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
sigh
<br>
</div>

<div class='talk op-msg' data-timestamp='1481623200' id='517583'>
<a class='timestamp' href='#517583'><time timestamp='2016-12-13T10:00:00Z'>10:00</time></a>
&lt;<span class='nick nick-14'> Lauda</span>&gt;
You should listen ti maxwell&#x27;s advice regarding that one.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481623680' id='517584'>
<a class='timestamp' href='#517584'><time timestamp='2016-12-13T10:08:00Z'>10:08</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke reopened pull request #9064: unify capitalization of &quot;bitcoin address&quot; (master...changeCaps) <a href="https://github.com/bitcoin/bitcoin/pull/9064" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9064</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1481623740' id='517585'>
<a class='timestamp' href='#517585'><time timestamp='2016-12-13T10:09:00Z'>10:09</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/76fcd9d50341...e6ba5068f107" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/76fcd9d50341...e6ba5068f107</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1481623740' id='517586'>
<a class='timestamp' href='#517586'><time timestamp='2016-12-13T10:09:00Z'>10:09</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master e49a252 Richard Kiss: Fix spelling.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481623740' id='517587'>
<a class='timestamp' href='#517587'><time timestamp='2016-12-13T10:09:00Z'>10:09</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master e6ba506 MarcoFalke: Merge #9335: Fix typo in test/data/tx_valid.json...
<br>
</div>

<div class='talk op-msg' data-timestamp='1481623740' id='517588'>
<a class='timestamp' href='#517588'><time timestamp='2016-12-13T10:09:00Z'>10:09</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke closed pull request #9335: Fix typo in test/data/tx_valid.json (master...feature/typo) <a href="https://github.com/bitcoin/bitcoin/pull/9335" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9335</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1481625180' id='517589'>
<a class='timestamp' href='#517589'><time timestamp='2016-12-13T10:33:00Z'>10:33</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
I think #9302 and #9290 are reviewed to death, ready for merge
<br>
</div>

<div class='talk op-msg' data-timestamp='1481625180' id='517590'>
<a class='timestamp' href='#517590'><time timestamp='2016-12-13T10:33:00Z'>10:33</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/9302" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/9302</a> | Return txid even if ATMP fails for new transaction by sipa · Pull Request #9302 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1481625180' id='517591'>
<a class='timestamp' href='#517591'><time timestamp='2016-12-13T10:33:00Z'>10:33</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/9290" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/9290</a> | Make RelayWalletTransaction attempt to AcceptToMemoryPool. by gmaxwell · Pull Request #9290 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1481625360' id='517592'>
<a class='timestamp' href='#517592'><time timestamp='2016-12-13T10:36:00Z'>10:36</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
&gt; wumpus
<br>
</div>

<div class='talk op-msg' data-timestamp='1481625360' id='517593'>
<a class='timestamp' href='#517593'><time timestamp='2016-12-13T10:36:00Z'>10:36</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
can people please notify me if there is a pull which is clearly ready for merging? 
<br>
</div>

<div class='talk op-msg' data-timestamp='1481627700' id='517594'>
<a class='timestamp' href='#517594'><time timestamp='2016-12-13T11:15:00Z'>11:15</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/e6ba5068f107...b6abdc77d39c" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/e6ba5068f107...b6abdc77d39c</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1481627700' id='517595'>
<a class='timestamp' href='#517595'><time timestamp='2016-12-13T11:15:00Z'>11:15</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master b3a7410 Pieter Wuille: Return txid even if ATMP fails for new transaction
<br>
</div>

<div class='talk op-msg' data-timestamp='1481627700' id='517596'>
<a class='timestamp' href='#517596'><time timestamp='2016-12-13T11:15:00Z'>11:15</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master b6abdc7 Wladimir J. van der Laan: Merge #9302: Return txid even if ATMP fails for new transaction...
<br>
</div>

<div class='talk op-msg' data-timestamp='1481627760' id='517597'>
<a class='timestamp' href='#517597'><time timestamp='2016-12-13T11:16:00Z'>11:16</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj closed pull request #9302: Return txid even if ATMP fails for new transaction (master...failedtxid) <a href="https://github.com/bitcoin/bitcoin/pull/9302" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9302</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1481627820' id='517598'>
<a class='timestamp' href='#517598'><time timestamp='2016-12-13T11:17:00Z'>11:17</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 3 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/b6abdc77d39c...cfd5e6b1dc32" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/b6abdc77d39c...cfd5e6b1dc32</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1481627820' id='517599'>
<a class='timestamp' href='#517599'><time timestamp='2016-12-13T11:17:00Z'>11:17</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 7b49f22 Pieter Wuille: Squashed &#x27;src/secp256k1/&#x27; changes from 7a49cac..8225239...
<br>
</div>

<div class='talk op-msg' data-timestamp='1481627820' id='517600'>
<a class='timestamp' href='#517600'><time timestamp='2016-12-13T11:17:00Z'>11:17</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 547a53d Pieter Wuille: Update libsecp256k1 to master
<br>
</div>

<div class='talk op-msg' data-timestamp='1481627820' id='517601'>
<a class='timestamp' href='#517601'><time timestamp='2016-12-13T11:17:00Z'>11:17</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master cfd5e6b Wladimir J. van der Laan: Merge #9334: Update to latest libsecp256k1...
<br>
</div>

<div class='talk op-msg' data-timestamp='1481627820' id='517602'>
<a class='timestamp' href='#517602'><time timestamp='2016-12-13T11:17:00Z'>11:17</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj closed pull request #9334: Update to latest libsecp256k1 (master...secp) <a href="https://github.com/bitcoin/bitcoin/pull/9334" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9334</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1481628060' id='517603'>
<a class='timestamp' href='#517603'><time timestamp='2016-12-13T11:21:00Z'>11:21</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/cfd5e6b1dc32...5233aefa3f52" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/cfd5e6b1dc32...5233aefa3f52</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1481628060' id='517604'>
<a class='timestamp' href='#517604'><time timestamp='2016-12-13T11:21:00Z'>11:21</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 8c1dbc5 Karl-Johan Alm: Refactor: Removed begin/end_ptr functions.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481628060' id='517605'>
<a class='timestamp' href='#517605'><time timestamp='2016-12-13T11:21:00Z'>11:21</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 5233aef Wladimir J. van der Laan: Merge #9305: Refactor: Removed begin/end_ptr functions....
<br>
</div>

<div class='talk op-msg' data-timestamp='1481628060' id='517606'>
<a class='timestamp' href='#517606'><time timestamp='2016-12-13T11:21:00Z'>11:21</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj closed pull request #9305: Refactor: Removed begin/end_ptr functions. (master...remove-begin-end_ptr-usage) <a href="https://github.com/bitcoin/bitcoin/pull/9305" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9305</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1481628120' id='517607'>
<a class='timestamp' href='#517607'><time timestamp='2016-12-13T11:22:00Z'>11:22</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 3 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/5233aefa3f52...26fe5c98ab6a" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/5233aefa3f52...26fe5c98ab6a</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1481628120' id='517608'>
<a class='timestamp' href='#517608'><time timestamp='2016-12-13T11:22:00Z'>11:22</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master bae1eef Gregory Maxwell: Fix wallet/test/crypto_tests.cpp for OpenSSL 1.1 API....
<br>
</div>

<div class='talk op-msg' data-timestamp='1481628120' id='517609'>
<a class='timestamp' href='#517609'><time timestamp='2016-12-13T11:22:00Z'>11:22</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master b05b1af Gregory Maxwell: Fix qt/paymentrequestplus.cpp for OpenSSL 1.1 API....
<br>
</div>

<div class='talk op-msg' data-timestamp='1481628120' id='517610'>
<a class='timestamp' href='#517610'><time timestamp='2016-12-13T11:22:00Z'>11:22</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 26fe5c9 Wladimir J. van der Laan: Merge #9326: Update for OpenSSL 1.1 API....
<br>
</div>

<div class='talk op-msg' data-timestamp='1481628180' id='517611'>
<a class='timestamp' href='#517611'><time timestamp='2016-12-13T11:23:00Z'>11:23</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj closed pull request #9326: Update for OpenSSL 1.1 API. (master...openssl_api11) <a href="https://github.com/bitcoin/bitcoin/pull/9326" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9326</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1481628840' id='517612'>
<a class='timestamp' href='#517612'><time timestamp='2016-12-13T11:34:00Z'>11:34</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
I am going to create a pull for the subtree update on 0.13, because it is not possible to jsut backport
<br>
</div>

<div class='talk op-msg' data-timestamp='1481629260' id='517613'>
<a class='timestamp' href='#517613'><time timestamp='2016-12-13T11:41:00Z'>11:41</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke opened pull request #9340: [0.13] Update secp256k1 subtree (0.13...Mf1612-013subtree) <a href="https://github.com/bitcoin/bitcoin/pull/9340" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9340</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1481637840' id='517614'>
<a class='timestamp' href='#517614'><time timestamp='2016-12-13T14:04:00Z'>14:04</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
luke-jr: the question is, if we really want to support commands like cmd(arg,,) resulting in `cmd arg &quot;&quot; &quot;&quot;`
<br>
</div>

<div class='talk op-msg' data-timestamp='1481637840' id='517615'>
<a class='timestamp' href='#517615'><time timestamp='2016-12-13T14:04:00Z'>14:04</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
IMO the later is fine... but not sure about cmd(arg,,)
<br>
</div>

<div class='talk op-msg' data-timestamp='1481637900' id='517616'>
<a class='timestamp' href='#517616'><time timestamp='2016-12-13T14:05:00Z'>14:05</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Empty arguments in a bracket-like syntax looks strange to me.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481638020' id='517617'>
<a class='timestamp' href='#517617'><time timestamp='2016-12-13T14:07:00Z'>14:07</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
jonasschnelli: IMO either it should be supported, or an error ;)
<br>
</div>

<div class='talk op-msg' data-timestamp='1481638020' id='517618'>
<a class='timestamp' href='#517618'><time timestamp='2016-12-13T14:07:00Z'>14:07</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
luke-jr: Yes. Agree. IMO it should thrown an error... I&#x27;ll fix that.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481640960' id='517619'>
<a class='timestamp' href='#517619'><time timestamp='2016-12-13T14:56:00Z'>14:56</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
jonasschnelli, is this for nested calls?
<br>
</div>

<div class='talk op-msg' data-timestamp='1481643900' id='517620'>
<a class='timestamp' href='#517620'><time timestamp='2016-12-13T15:45:00Z'>15:45</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
sorry, can&#x27;t access github now, but rebased <a href="https://github.com/bitcoin/bitcoin/pull/9279" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9279</a> and the windows builds keep failing in a way I cannot understand or reproduce, it says &quot;int64_t does not name a type&quot;. Any help welcomed
<br>
</div>

<div class='talk op-msg' data-timestamp='1481644980' id='517621'>
<a class='timestamp' href='#517621'><time timestamp='2016-12-13T16:03:00Z'>16:03</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] richardkiss opened pull request #9342: Change SIG_NULLFAIL =&gt; NULLFAIL. (master...feature/unify_nullfail) <a href="https://github.com/bitcoin/bitcoin/pull/9342" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9342</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1481646600' id='517622'>
<a class='timestamp' href='#517622'><time timestamp='2016-12-13T16:30:00Z'>16:30</time></a>
&lt;<span class='nick nick-7'> ryanofsky_</span>&gt;
jtimon: maybe it needs an #include &lt;stdint.h&gt;
<br>
</div>

<div class='talk op-msg' data-timestamp='1481646720' id='517623'>
<a class='timestamp' href='#517623'><time timestamp='2016-12-13T16:32:00Z'>16:32</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
ryanofsky_: it has an #include &lt;stdlib.h&gt; but it may be just that, thanks, I&#x27;ll try that
<br>
</div>

<div class='talk op-msg' data-timestamp='1481655180' id='517624'>
<a class='timestamp' href='#517624'><time timestamp='2016-12-13T18:53:00Z'>18:53</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
wumpus: thanks for the merges!
<br>
</div>

<div class='talk op-msg' data-timestamp='1481657160' id='517625'>
<a class='timestamp' href='#517625'><time timestamp='2016-12-13T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
I&#x27;m working on a PR to properly distinguish all the different uses of minRelayTxFee.  It is my opinion that the dust threshold should not be arbitrarily changed by a desire to increase your minimum relay fee.  Changing the definition of dust has a negative effect on the network by causing some txs to be non-standard, and potentially get stuck in your mempool.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481657160' id='517626'>
<a class='timestamp' href='#517626'><time timestamp='2016-12-13T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
morcos: i&#x27;m working on a per-txout chainstate... this simplifies so much
<br>
</div>

<div class='talk op-msg' data-timestamp='1481657220' id='517627'>
<a class='timestamp' href='#517627'><time timestamp='2016-12-13T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
My question is, does it makes sense to be able to control the dust limit with a command line option... Or do we think it&#x27;s only something that needs a hard-coded constant, that could be changed in a future release if we&#x27;ve had several releases that already use a higher value for tx creation
<br>
</div>

<div class='talk op-msg' data-timestamp='1481657220' id='517628'>
<a class='timestamp' href='#517628'><time timestamp='2016-12-13T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
sipa: ah, i had some ideas about maybe how to do that.. i&#x27;ll be curious to see what you come up with!  i agree.  it&#x27;ll be good
<br>
</div>

<div class='talk op-msg' data-timestamp='1481657220' id='517629'>
<a class='timestamp' href='#517629'><time timestamp='2016-12-13T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
morcos: doing it a very naive way, hoping that leveldb properly deduplicates the txids
<br>
</div>

<div class='talk op-msg' data-timestamp='1481657280' id='517630'>
<a class='timestamp' href='#517630'><time timestamp='2016-12-13T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
won&#x27;t take long to figure that out.. ha
<br>
</div>

<div class='talk op-msg' data-timestamp='1481657280' id='517631'>
<a class='timestamp' href='#517631'><time timestamp='2016-12-13T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but no need for CCoinsModifier etc anymore... just an AddCoins and SpendCoins function, which never need to call GetCoins on the lower-level, just HaveCoins to know whether to mark something as fresh
<br>
</div>

<div class='talk op-msg' data-timestamp='1481657340' id='517632'>
<a class='timestamp' href='#517632'><time timestamp='2016-12-13T19:29:00Z'>19:29</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
morcos: I think our practice has been to make things configurable, so thats what you should probably do. (though I think this is often a mistake and it&#x27;s not really here)
<br>
</div>

<div class='talk op-msg' data-timestamp='1481657400' id='517633'>
<a class='timestamp' href='#517633'><time timestamp='2016-12-13T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
morcos: regarding dust... it&#x27;s my opinion that a rational wallet should never create dust outputs by such a wide margin that the actual value of the dust threshold does not matter
<br>
</div>

<div class='talk op-msg' data-timestamp='1481657400' id='517634'>
<a class='timestamp' href='#517634'><time timestamp='2016-12-13T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
ok already adding -incrementalrelayfee and -blockmintxfee , was hoping to avoid so many new command line options that wumpus reached through my screen to choke me
<br>
</div>

<div class='talk op-msg' data-timestamp='1481657400' id='517635'>
<a class='timestamp' href='#517635'><time timestamp='2016-12-13T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(it&#x27;s not really needed here, loast a word)
<br>
</div>

<div class='talk op-msg' data-timestamp='1481657400' id='517636'>
<a class='timestamp' href='#517636'><time timestamp='2016-12-13T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sipa:  you could put down the eng work on that for a moment, and make a quick change to adjust how the records work in leveldb. to see if it&#x27;s a non-starter.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481657460' id='517637'>
<a class='timestamp' href='#517637'><time timestamp='2016-12-13T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
sipa: yes, thats goign to be among the changes i make..   we actually do an OK job of that now because of MIN_CHANGE, but we still have soem safety checks against IsDust which should be against a higher limit I think...  
<br>
</div>

<div class='talk op-msg' data-timestamp='1481657520' id='517638'>
<a class='timestamp' href='#517638'><time timestamp='2016-12-13T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
Unfortunately..  you can&#x27;t put too much of a safety margin, otherwise you start having non-trivial amounts , which is espeically a problem when you are subtracting fees from recipients..  (where if your change would have been dust, then you take more money from the recipients to make your change higher!)
<br>
</div>

<div class='talk op-msg' data-timestamp='1481658060' id='517639'>
<a class='timestamp' href='#517639'><time timestamp='2016-12-13T19:41:00Z'>19:41</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
sipa: so aside from change, it makes sense for our wallet to refuse to pay someone an amount between dust and safetyMargin*dust as well?
<br>
</div>

<div class='talk op-msg' data-timestamp='1481658300' id='517640'>
<a class='timestamp' href='#517640'><time timestamp='2016-12-13T19:45:00Z'>19:45</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
morcos: i don&#x27;t know about outputs... but for change, we shouldn&#x27;t make anything between changeOutputWeight * effectiveRelayFee
<br>
</div>

<div class='talk op-msg' data-timestamp='1481658300' id='517641'>
<a class='timestamp' href='#517641'><time timestamp='2016-12-13T19:45:00Z'>19:45</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
s/between/below/
<br>
</div>

<div class='talk op-msg' data-timestamp='1481658420' id='517642'>
<a class='timestamp' href='#517642'><time timestamp='2016-12-13T19:47:00Z'>19:47</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
sipa: my idea is that what is important is that the txs your wallet creates will likely be considered standard for sometime
<br>
</div>

<div class='talk op-msg' data-timestamp='1481658480' id='517643'>
<a class='timestamp' href='#517643'><time timestamp='2016-12-13T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
so minChange takes care of making a best-efforts basis to not produce anything uneconomical
<br>
</div>

<div class='talk op-msg' data-timestamp='1481658480' id='517644'>
<a class='timestamp' href='#517644'><time timestamp='2016-12-13T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
but it would makes sense to have some dustCreationTheshold = SafetyMargin * dustThreshold
<br>
</div>

<div class='talk op-msg' data-timestamp='1481658480' id='517645'>
<a class='timestamp' href='#517645'><time timestamp='2016-12-13T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
that applies to everything...   
<br>
</div>

<div class='talk op-msg' data-timestamp='1481658540' id='517646'>
<a class='timestamp' href='#517646'><time timestamp='2016-12-13T19:49:00Z'>19:49</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
then if ever need to change dustThreshold..   we&#x27;re not causing old wallets to create unrelayable/unminable txs by accident
<br>
</div>

<div class='talk op-msg' data-timestamp='1481660040' id='517647'>
<a class='timestamp' href='#517647'><time timestamp='2016-12-13T20:14:00Z'>20:14</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
Can we add one of those checkboxes that lets bitcoin-qt send back diagnostics to us about how it&#x27;s actually used so we can improve it?  :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1481661060' id='517648'>
<a class='timestamp' href='#517648'><time timestamp='2016-12-13T20:31:00Z'>20:31</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
btw ryanofsky_ thanks was that
<br>
</div>

<div class='talk op-msg' data-timestamp='1481661300' id='517649'>
<a class='timestamp' href='#517649'><time timestamp='2016-12-13T20:35:00Z'>20:35</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
morcos: mhmm, of -incrementalrelayfee and -blockmintxfee which one is the one for the dust? I assume the second, what about calling it -dusttxfee ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1481661360' id='517650'>
<a class='timestamp' href='#517650'><time timestamp='2016-12-13T20:36:00Z'>20:36</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
jtimon: ha.  neither!  thats why i was hoping to avoid a third.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481661360' id='517651'>
<a class='timestamp' href='#517651'><time timestamp='2016-12-13T20:36:00Z'>20:36</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
oh, mhmm, I lack the context on why you need 2 already
<br>
</div>

<div class='talk op-msg' data-timestamp='1481661420' id='517652'>
<a class='timestamp' href='#517652'><time timestamp='2016-12-13T20:37:00Z'>20:37</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
will explain in the PR
<br>
</div>

<div class='talk op-msg' data-timestamp='1481661420' id='517653'>
<a class='timestamp' href='#517653'><time timestamp='2016-12-13T20:37:00Z'>20:37</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
morcos: be sure to include private keys.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481661420' id='517654'>
<a class='timestamp' href='#517654'><time timestamp='2016-12-13T20:37:00Z'>20:37</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
sure, no hurry
<br>
</div>

<div class='talk op-msg' data-timestamp='1481661420' id='517655'>
<a class='timestamp' href='#517655'><time timestamp='2016-12-13T20:37:00Z'>20:37</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
morcos: so long as what the wallet targets and what the network enforces are seperate settings, then we don&#x27;t have any problem with changing it in the future... (wallet must be changed amply ahead of the network, if the network will become more restrictive)
<br>
</div>

<div class='talk op-msg' data-timestamp='1481661480' id='517656'>
<a class='timestamp' href='#517656'><time timestamp='2016-12-13T20:38:00Z'>20:38</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I hope there is no reason to make the network more restrictive of dust in the future.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481661600' id='517657'>
<a class='timestamp' href='#517657'><time timestamp='2016-12-13T20:40:00Z'>20:40</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
gmaxwell, ;-) I expect it will be rbtced in 5, 4, 3, ... ;-)
<br>
</div>

<div class='talk op-msg' data-timestamp='1481661600' id='517658'>
<a class='timestamp' href='#517658'><time timestamp='2016-12-13T20:40:00Z'>20:40</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
btw, morcos, your change to the dust variable will probably less painful after <a href="https://github.com/bitcoin/bitcoin/pull/9279/commits/59ed6874612a0c4c410fc6016c21cdde68c42601" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9279/commits/59ed6874612a0c4c410fc6016c21cdde68c42601</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1481662740' id='517659'>
<a class='timestamp' href='#517659'><time timestamp='2016-12-13T20:59:00Z'>20:59</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
jtimon: yes, certainly don&#x27;t object to moving it out of consensus, but I think it&#x27;s actually useful that you can pass in a feerate to use.  For instance what we were talkign about with gmaxwell , you might want to use a higher threshold for creation than the policy dust limit.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481662920' id='517660'>
<a class='timestamp' href='#517660'><time timestamp='2016-12-13T21:02:00Z'>21:02</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
mhmm, I hadn&#x27;t though about that, maybe a reason to modify #9279 ...
<br>
</div>

<div class='talk op-msg' data-timestamp='1481662920' id='517661'>
<a class='timestamp' href='#517661'><time timestamp='2016-12-13T21:02:00Z'>21:02</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/9279" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/9279</a> | Consensus: Move CFeeRate out of libconsensus by jtimon · Pull Request #9279 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1481662980' id='517662'>
<a class='timestamp' href='#517662'><time timestamp='2016-12-13T21:03:00Z'>21:03</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
I was hoping to encapsulate the variable behind a policy class at some point...
<br>
</div>

<div class='talk op-msg' data-timestamp='1481663160' id='517663'>
<a class='timestamp' href='#517663'><time timestamp='2016-12-13T21:06:00Z'>21:06</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
I guess another option would be to have 2 functions/methods that call the same one internally
<br>
</div>

<div class='talk op-msg' data-timestamp='1481663520' id='517664'>
<a class='timestamp' href='#517664'><time timestamp='2016-12-13T21:12:00Z'>21:12</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
jtimon: yeah i think that would be fine and an easy change:  GDT(txout) { return GDT(txout, ::minRelayTxFee); } 
<br>
</div>

<div class='talk op-msg' data-timestamp='1481663580' id='517665'>
<a class='timestamp' href='#517665'><time timestamp='2016-12-13T21:13:00Z'>21:13</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
I mean, if we plan to encapsulate the value later that&#x27;s 2 rounds of disruption instead of one
<br>
</div>

<div class='talk op-msg' data-timestamp='1481663580' id='517666'>
<a class='timestamp' href='#517666'><time timestamp='2016-12-13T21:13:00Z'>21:13</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
and could even just make that change later if you don&#x27;t want to now..  maybe i will wait on my dust change until yours get merged, but i&#x27;d really like to have dust stop changing every time you change the minrelaytxfee
<br>
</div>

<div class='talk op-msg' data-timestamp='1481663640' id='517667'>
<a class='timestamp' href='#517667'><time timestamp='2016-12-13T21:14:00Z'>21:14</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
I mean, didn&#x27;t mean to stop you
<br>
</div>

<div class='talk op-msg' data-timestamp='1481663700' id='517668'>
<a class='timestamp' href='#517668'><time timestamp='2016-12-13T21:15:00Z'>21:15</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
well i like your change.. and i have to potentially change all the IsDust call sites too, so no reason to do it multiple times.   I think the change you made to them makes sense, and then maybe some of them will later take an optional feerate argument if we want to use a higher dust creation threshold
<br>
</div>

<div class='talk op-msg' data-timestamp='1481663760' id='517669'>
<a class='timestamp' href='#517669'><time timestamp='2016-12-13T21:16:00Z'>21:16</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
my point about was we could have policy.IsDust(txOut) and policy.IsDustCreate(txOut) if we want  ot have 2 dust rates, but I&#x27;m not sure I understand the purpose of the create one
<br>
</div>

<div class='talk op-msg' data-timestamp='1481663820' id='517670'>
<a class='timestamp' href='#517670'><time timestamp='2016-12-13T21:17:00Z'>21:17</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
or that
<br>
</div>

<div class='talk op-msg' data-timestamp='1481663820' id='517671'>
<a class='timestamp' href='#517671'><time timestamp='2016-12-13T21:17:00Z'>21:17</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
optionally taking another one if we maybe want to have more than 2 rates
<br>
</div>

<div class='talk op-msg' data-timestamp='1481663880' id='517672'>
<a class='timestamp' href='#517672'><time timestamp='2016-12-13T21:18:00Z'>21:18</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
jtimon: any time there is a limit on relay behavior there really should be two limits-- one used for relay and one equal or more conservative one for the wallet.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481663880' id='517673'>
<a class='timestamp' href='#517673'><time timestamp='2016-12-13T21:18:00Z'>21:18</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Otherwise it is impossible to change the limit without causing the creation of limit violating transactions.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481663940' id='517674'>
<a class='timestamp' href='#517674'><time timestamp='2016-12-13T21:19:00Z'>21:19</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
I see
<br>
</div>

<div class='talk op-msg' data-timestamp='1481665740' id='517675'>
<a class='timestamp' href='#517675'><time timestamp='2016-12-13T21:49:00Z'>21:49</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] morcos opened pull request #9343: Don&#x27;t create change at dust limit (master...noneconomicchange) <a href="https://github.com/bitcoin/bitcoin/pull/9343" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9343</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1481665860' id='517676'>
<a class='timestamp' href='#517676'><time timestamp='2016-12-13T21:51:00Z'>21:51</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
gmaxwell: ^ just a first step to avoid having to deal with a complicated edge case... but maybe it won&#x27;t be acceptable to people.  it seems odd to me that this would be a case that is hit very often, as i expect subtractFeeFromAmount is used when you want to send whole balances or coins.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481665860' id='517677'>
<a class='timestamp' href='#517677'><time timestamp='2016-12-13T21:51:00Z'>21:51</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
but i admit i don&#x27;t know how its used....
<br>
</div>

</div>
</section>

</body>
</html>
