<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2016-08-04
 â€” 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2016-08-04' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:26 UTC</pre>
<pre><a href="/bitcoin-core-dev/2016-07-04">&lt;</a><span class='header'>   August 2016    </span><a href="/bitcoin-core-dev/2016-09-04">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;    <a class="" href="/bitcoin-core-dev/2016-08-01">1</a>  <a class="" href="/bitcoin-core-dev/2016-08-02">2</a>  <a class="" href="/bitcoin-core-dev/2016-08-03">3</a>  <a class="current" href="/bitcoin-core-dev/2016-08-04">4</a>  <a class="" href="/bitcoin-core-dev/2016-08-05">5</a>  <a class="" href="/bitcoin-core-dev/2016-08-06">6</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2016-08-07">7</a>  <a class="" href="/bitcoin-core-dev/2016-08-08">8</a>  <a class="" href="/bitcoin-core-dev/2016-08-09">9</a> <a class="" href="/bitcoin-core-dev/2016-08-10">10</a> <a class="" href="/bitcoin-core-dev/2016-08-11">11</a> <a class="" href="/bitcoin-core-dev/2016-08-12">12</a> <a class="" href="/bitcoin-core-dev/2016-08-13">13</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2016-08-14">14</a> <a class="" href="/bitcoin-core-dev/2016-08-15">15</a> <a class="" href="/bitcoin-core-dev/2016-08-16">16</a> <a class="" href="/bitcoin-core-dev/2016-08-17">17</a> <a class="" href="/bitcoin-core-dev/2016-08-18">18</a> <a class="" href="/bitcoin-core-dev/2016-08-19">19</a> <a class="" href="/bitcoin-core-dev/2016-08-20">20</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2016-08-21">21</a> <a class="" href="/bitcoin-core-dev/2016-08-22">22</a> <a class="" href="/bitcoin-core-dev/2016-08-23">23</a> <a class="" href="/bitcoin-core-dev/2016-08-24">24</a> <a class="" href="/bitcoin-core-dev/2016-08-25">25</a> <a class="" href="/bitcoin-core-dev/2016-08-26">26</a> <a class="" href="/bitcoin-core-dev/2016-08-27">27</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2016-08-28">28</a> <a class="" href="/bitcoin-core-dev/2016-08-29">29</a> <a class="" href="/bitcoin-core-dev/2016-08-30">30</a> <a class="" href="/bitcoin-core-dev/2016-08-31">31</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1470273360' id='484386'>
<a class='timestamp' href='#484386'><time timestamp='2016-08-04T01:16:00Z'>01:16</time></a>
&lt;<span class='nick nick-16'> GitHub184</span>&gt;
[bitcoin] sipa opened pull request #8451: Get rid of the const field in CTransaction (master...noconsttx) <a href="https://github.com/bitcoin/bitcoin/pull/8451" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8451</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1470277380' id='484387'>
<a class='timestamp' href='#484387'><time timestamp='2016-08-04T02:23:00Z'>02:23</time></a>
&lt;<span class='nick nick-12'> GitHub106</span>&gt;
[bitcoin] sipa opened pull request #8452: Code simplification: inline CTxInWitness inside CTxIn (master...segwitinline) <a href="https://github.com/bitcoin/bitcoin/pull/8452" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8452</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1470279540' id='484388'>
<a class='timestamp' href='#484388'><time timestamp='2016-08-04T02:59:00Z'>02:59</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
wumpus, replaced that wallet test with a python one
<br>
</div>

<div class='talk op-msg' data-timestamp='1470279540' id='484389'>
<a class='timestamp' href='#484389'><time timestamp='2016-08-04T02:59:00Z'>02:59</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
i think it actually covers more of the behavior than it did before but im going to go and check
<br>
</div>

<div class='talk op-msg' data-timestamp='1470279600' id='484390'>
<a class='timestamp' href='#484390'><time timestamp='2016-08-04T03:00:00Z'>03:00</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
hmm im not testing addmultisigaddress
<br>
</div>

<div class='talk op-msg' data-timestamp='1470279600' id='484391'>
<a class='timestamp' href='#484391'><time timestamp='2016-08-04T03:00:00Z'>03:00</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
but that&#x27;s already being tested in other places
<br>
</div>

<div class='talk op-msg' data-timestamp='1470279660' id='484392'>
<a class='timestamp' href='#484392'><time timestamp='2016-08-04T03:01:00Z'>03:01</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
although not that it works with accounts
<br>
</div>

<div class='talk op-msg' data-timestamp='1470300600' id='484393'>
<a class='timestamp' href='#484393'><time timestamp='2016-08-04T08:50:00Z'>08:50</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
phantomcircuit: nice!
<br>
</div>

<div class='talk op-msg' data-timestamp='1470300780' id='484394'>
<a class='timestamp' href='#484394'><time timestamp='2016-08-04T08:53:00Z'>08:53</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
sipa: the last update of secp256k1 has been ~9 months ago (6c527ec), is it maybe time to update the subtree again? At least the (experimental) ARM assembly has been merged since
<br>
</div>

<div class='talk op-msg' data-timestamp='1470300840' id='484395'>
<a class='timestamp' href='#484395'><time timestamp='2016-08-04T08:54:00Z'>08:54</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
wumpus: good idea
<br>
</div>

<div class='talk op-msg' data-timestamp='1470300900' id='484396'>
<a class='timestamp' href='#484396'><time timestamp='2016-08-04T08:55:00Z'>08:55</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
there are certainly no regressions known that would make the current master less appropriate than the subtree in bitcoin currently
<br>
</div>

<div class='talk op-msg' data-timestamp='1470300960' id='484397'>
<a class='timestamp' href='#484397'><time timestamp='2016-08-04T08:56:00Z'>08:56</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
exactly, I did mean for master, not 0.13
<br>
</div>

<div class='talk op-msg' data-timestamp='1470301020' id='484398'>
<a class='timestamp' href='#484398'><time timestamp='2016-08-04T08:57:00Z'>08:57</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sure
<br>
</div>

<div class='talk op-msg' data-timestamp='1470302700' id='484399'>
<a class='timestamp' href='#484399'><time timestamp='2016-08-04T09:25:00Z'>09:25</time></a>
&lt;<span class='nick nick-13'> GitHub30</span>&gt;
[bitcoin] laanwj opened pull request #8453: Bring secp256k1 subtree up to date with master (master...2016_08_update_secp256k1) <a href="https://github.com/bitcoin/bitcoin/pull/8453" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8453</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1470306060' id='484400'>
<a class='timestamp' href='#484400'><time timestamp='2016-08-04T10:21:00Z'>10:21</time></a>
&lt;<span class='nick nick-13'> GitHub18</span>&gt;
[bitcoin] laanwj pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/5c7a5e1f66d8...37d83bb0a980" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/5c7a5e1f66d8...37d83bb0a980</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1470306060' id='484401'>
<a class='timestamp' href='#484401'><time timestamp='2016-08-04T10:21:00Z'>10:21</time></a>
&lt;<span class='nick nick-13'> GitHub18</span>&gt;
bitcoin/master 122786d NicolasDorier: Consensus: Remove ISM
<br>
</div>

<div class='talk op-msg' data-timestamp='1470306060' id='484402'>
<a class='timestamp' href='#484402'><time timestamp='2016-08-04T10:21:00Z'>10:21</time></a>
&lt;<span class='nick nick-13'> GitHub18</span>&gt;
bitcoin/master 37d83bb Wladimir J. van der Laan: Merge #8391: Consensus: Remove ISM...
<br>
</div>

<div class='talk op-msg' data-timestamp='1470306060' id='484403'>
<a class='timestamp' href='#484403'><time timestamp='2016-08-04T10:21:00Z'>10:21</time></a>
&lt;<span class='nick nick-2'> GitHub105</span>&gt;
[bitcoin] laanwj closed pull request #8391: Consensus: Remove ISM (master...remove-ism) <a href="https://github.com/bitcoin/bitcoin/pull/8391" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8391</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1470306840' id='484404'>
<a class='timestamp' href='#484404'><time timestamp='2016-08-04T10:34:00Z'>10:34</time></a>
&lt;<span class='nick nick-15'> GitHub46</span>&gt;
[bitcoin] laanwj pushed 4 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/37d83bb0a980...f97d335942ae" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/37d83bb0a980...f97d335942ae</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1470306840' id='484405'>
<a class='timestamp' href='#484405'><time timestamp='2016-08-04T10:34:00Z'>10:34</time></a>
&lt;<span class='nick nick-15'> GitHub46</span>&gt;
bitcoin/master 0fd2a33 Pieter Wuille: Use a signal to continue init after genesis activation
<br>
</div>

<div class='talk op-msg' data-timestamp='1470306840' id='484406'>
<a class='timestamp' href='#484406'><time timestamp='2016-08-04T10:34:00Z'>10:34</time></a>
&lt;<span class='nick nick-15'> GitHub46</span>&gt;
bitcoin/master aa59f2e Pieter Wuille: Add extra message to avoid a long &#x27;Loading banlist&#x27;
<br>
</div>

<div class='talk op-msg' data-timestamp='1470306840' id='484407'>
<a class='timestamp' href='#484407'><time timestamp='2016-08-04T10:34:00Z'>10:34</time></a>
&lt;<span class='nick nick-15'> GitHub46</span>&gt;
bitcoin/master 9d4eb9a Pieter Wuille: Do diskspace check before import thread is started
<br>
</div>

<div class='talk op-msg' data-timestamp='1470306840' id='484408'>
<a class='timestamp' href='#484408'><time timestamp='2016-08-04T10:34:00Z'>10:34</time></a>
&lt;<span class='nick nick-3'> GitHub154</span>&gt;
[bitcoin] laanwj closed pull request #8392: Fix several node initialization issues (master...fixactivatewait) <a href="https://github.com/bitcoin/bitcoin/pull/8392" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8392</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1470307980' id='484409'>
<a class='timestamp' href='#484409'><time timestamp='2016-08-04T10:53:00Z'>10:53</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
wumpus, do you use gmp? string.h is included in num_gmp_impl.h... This could be difference.
<br>
</div>

<div class='talk op-msg' data-timestamp='1470308040' id='484410'>
<a class='timestamp' href='#484410'><time timestamp='2016-08-04T10:54:00Z'>10:54</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes, that could be it
<br>
</div>

<div class='talk op-msg' data-timestamp='1470308100' id='484411'>
<a class='timestamp' href='#484411'><time timestamp='2016-08-04T10:55:00Z'>10:55</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
will try with bignum=no
<br>
</div>

<div class='talk op-msg' data-timestamp='1470308100' id='484412'>
<a class='timestamp' href='#484412'><time timestamp='2016-08-04T10:55:00Z'>10:55</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes, that does it
<br>
</div>

<div class='talk op-msg' data-timestamp='1470308520' id='484413'>
<a class='timestamp' href='#484413'><time timestamp='2016-08-04T11:02:00Z'>11:02</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
paveljanik: <a href="https://github.com/bitcoin-core/secp256k1/pull/410" class="link" target="_blank">https://github.com/bitcoin-core/secp256k1/pull/410</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1470309420' id='484414'>
<a class='timestamp' href='#484414'><time timestamp='2016-08-04T11:17:00Z'>11:17</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
thanks!
<br>
</div>

<div class='talk op-msg' data-timestamp='1470310260' id='484415'>
<a class='timestamp' href='#484415'><time timestamp='2016-08-04T11:31:00Z'>11:31</time></a>
&lt;<span class='nick nick-3'> GitHub189</span>&gt;
[bitcoin] laanwj pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/f97d335942ae...6e6ab2c32382" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/f97d335942ae...6e6ab2c32382</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1470310260' id='484416'>
<a class='timestamp' href='#484416'><time timestamp='2016-08-04T11:31:00Z'>11:31</time></a>
&lt;<span class='nick nick-3'> GitHub189</span>&gt;
bitcoin/master 2c517b3 Suhas Daftuar: Fix p2p-feefilter.py for changed tx relay behavior
<br>
</div>

<div class='talk op-msg' data-timestamp='1470310260' id='484417'>
<a class='timestamp' href='#484417'><time timestamp='2016-08-04T11:31:00Z'>11:31</time></a>
&lt;<span class='nick nick-3'> GitHub189</span>&gt;
bitcoin/master 6e6ab2c Wladimir J. van der Laan: Merge #8444: Fix p2p-feefilter.py for changed tx relay behavior...
<br>
</div>

<div class='talk op-msg' data-timestamp='1470310260' id='484418'>
<a class='timestamp' href='#484418'><time timestamp='2016-08-04T11:31:00Z'>11:31</time></a>
&lt;<span class='nick nick-5'> GitHub87</span>&gt;
[bitcoin] laanwj closed pull request #8444: Fix p2p-feefilter.py for changed tx relay behavior (master...fix-feefilter-test) <a href="https://github.com/bitcoin/bitcoin/pull/8444" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8444</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1470310500' id='484419'>
<a class='timestamp' href='#484419'><time timestamp='2016-08-04T11:35:00Z'>11:35</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
wumpus, in fact, the fix is not upstream, but side-stream ;-)
<br>
</div>

<div class='talk op-msg' data-timestamp='1470310500' id='484420'>
<a class='timestamp' href='#484420'><time timestamp='2016-08-04T11:35:00Z'>11:35</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
well I hope it can be merged soon, I&#x27;ll update #8453 after that
<br>
</div>

<div class='talk op-msg' data-timestamp='1470310560' id='484421'>
<a class='timestamp' href='#484421'><time timestamp='2016-08-04T11:36:00Z'>11:36</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
bah I&#x27;d really feel better without expat in the depends :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1470313560' id='484422'>
<a class='timestamp' href='#484422'><time timestamp='2016-08-04T12:26:00Z'>12:26</time></a>
&lt;<span class='nick nick-9'> GitHub129</span>&gt;
[bitcoin] MarcoFalke opened pull request #8454: [0.13.1] Fix p2p-feefilter.py for changed tx relay behavior (0.13...Mf1608-qaFeeFilter013) <a href="https://github.com/bitcoin/bitcoin/pull/8454" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8454</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1470314400' id='484423'>
<a class='timestamp' href='#484423'><time timestamp='2016-08-04T12:40:00Z'>12:40</time></a>
&lt;<span class='nick nick-15'> GitHub71</span>&gt;
[bitcoin] laanwj pushed 1 new commit to 0.13: <a href="https://github.com/bitcoin/bitcoin/commit/d485a6c5a8d238cac5ad732ce9e744f4b121143c" class="link" target="_blank">https://github.com/bitcoin/bitcoin/commit/d485a6c5a8d238cac5ad732ce9e744f4b121143c</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1470314400' id='484424'>
<a class='timestamp' href='#484424'><time timestamp='2016-08-04T12:40:00Z'>12:40</time></a>
&lt;<span class='nick nick-15'> GitHub71</span>&gt;
bitcoin/0.13 d485a6c Wladimir J. van der Laan: doc: Add list of new and removed RPC commands to release notes...
<br>
</div>

<div class='talk op-msg' data-timestamp='1470314460' id='484425'>
<a class='timestamp' href='#484425'><time timestamp='2016-08-04T12:41:00Z'>12:41</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
sipa: do you still plan on writing something for the release notes about -reindex-chainstate?
<br>
</div>

<div class='talk op-msg' data-timestamp='1470314700' id='484426'>
<a class='timestamp' href='#484426'><time timestamp='2016-08-04T12:45:00Z'>12:45</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I&#x27;ve added a list of added and removed and changed RPC calls, which means that #7678 can almost be closed, leaving -maxtimeadjust and -reindex-chainstate, of which I think reindex-chainstate (and the changed reindexing in general) is most relevant 
<br>
</div>

<div class='talk op-msg' data-timestamp='1470318720' id='484427'>
<a class='timestamp' href='#484427'><time timestamp='2016-08-04T13:52:00Z'>13:52</time></a>
&lt;<span class='nick nick-6'> GitHub198</span>&gt;
[bitcoin] mrbandrews opened pull request #8456: [RPC] Simplified bumpfee command. (master...ba-rpcbumpfee) <a href="https://github.com/bitcoin/bitcoin/pull/8456" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8456</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1470327840' id='484428'>
<a class='timestamp' href='#484428'><time timestamp='2016-08-04T16:24:00Z'>16:24</time></a>
&lt;<span class='nick nick-9'> GitHub160</span>&gt;
[bitcoin] pedrobranco opened pull request #8457: Add block height support in rpc call getblock (master...feature/add-get-block-by-number) <a href="https://github.com/bitcoin/bitcoin/pull/8457" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8457</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1470329100' id='484429'>
<a class='timestamp' href='#484429'><time timestamp='2016-08-04T16:45:00Z'>16:45</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
wumpus: ack, will write
<br>
</div>

<div class='talk op-msg' data-timestamp='1470334080' id='484430'>
<a class='timestamp' href='#484430'><time timestamp='2016-08-04T18:08:00Z'>18:08</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
during salvage on an unbroken wallet.dat file I&#x27;m seeing keys getting skipped
<br>
</div>

<div class='talk op-msg' data-timestamp='1470334080' id='484431'>
<a class='timestamp' href='#484431'><time timestamp='2016-08-04T18:08:00Z'>18:08</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
on master
<br>
</div>

<div class='talk op-msg' data-timestamp='1470334080' id='484432'>
<a class='timestamp' href='#484432'><time timestamp='2016-08-04T18:08:00Z'>18:08</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
0-4 keys on a fresh wallet with keypool 100, randomly
<br>
</div>

<div class='talk op-msg' data-timestamp='1470334140' id='484433'>
<a class='timestamp' href='#484433'><time timestamp='2016-08-04T18:09:00Z'>18:09</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I&#x27;ve said before that salvagewallet should be called &quot;savagewallet&quot;. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1470334140' id='484434'>
<a class='timestamp' href='#484434'><time timestamp='2016-08-04T18:09:00Z'>18:09</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
instagibbs: can you figure out why?
<br>
</div>

<div class='talk op-msg' data-timestamp='1470334140' id='484435'>
<a class='timestamp' href='#484435'><time timestamp='2016-08-04T18:09:00Z'>18:09</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
no ive been trying to chase it down all day
<br>
</div>

<div class='talk op-msg' data-timestamp='1470334200' id='484436'>
<a class='timestamp' href='#484436'><time timestamp='2016-08-04T18:10:00Z'>18:10</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
it&#x27;s very random, and only happens once every 25+ keys
<br>
</div>

<div class='talk op-msg' data-timestamp='1470334200' id='484437'>
<a class='timestamp' href='#484437'><time timestamp='2016-08-04T18:10:00Z'>18:10</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
presumably you&#x27;ve filled up the salvage code with instrumentation to see where they&#x27;re getting dropped? (e.g. does bdb just never hand them to us?)
<br>
</div>

<div class='talk op-msg' data-timestamp='1470334260' id='484438'>
<a class='timestamp' href='#484438'><time timestamp='2016-08-04T18:11:00Z'>18:11</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
it&#x27;s an error thrown when doing &gt;&gt; for private key
<br>
</div>

<div class='talk op-msg' data-timestamp='1470334260' id='484439'>
<a class='timestamp' href='#484439'><time timestamp='2016-08-04T18:11:00Z'>18:11</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
&quot;key&quot; type, trying to deserialize the key
<br>
</div>

<div class='talk op-msg' data-timestamp='1470334260' id='484440'>
<a class='timestamp' href='#484440'><time timestamp='2016-08-04T18:11:00Z'>18:11</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
priv*
<br>
</div>

<div class='talk op-msg' data-timestamp='1470334260' id='484441'>
<a class='timestamp' href='#484441'><time timestamp='2016-08-04T18:11:00Z'>18:11</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
is it trying to deserialize master key data as the wrong type?
<br>
</div>

<div class='talk op-msg' data-timestamp='1470334380' id='484442'>
<a class='timestamp' href='#484442'><time timestamp='2016-08-04T18:13:00Z'>18:13</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
I don&#x27;t think so, as keypool=1 almost never has it happen
<br>
</div>

<div class='talk op-msg' data-timestamp='1470334440' id='484443'>
<a class='timestamp' href='#484443'><time timestamp='2016-08-04T18:14:00Z'>18:14</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
I&#x27;ve never had it happen with keypool 1, that is to say
<br>
</div>

<div class='talk op-msg' data-timestamp='1470334920' id='484444'>
<a class='timestamp' href='#484444'><time timestamp='2016-08-04T18:22:00Z'>18:22</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
instagibbs: can you upload the wallet somewhere that it happens with?
<br>
</div>

<div class='talk op-msg' data-timestamp='1470334980' id='484445'>
<a class='timestamp' href='#484445'><time timestamp='2016-08-04T18:23:00Z'>18:23</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
it&#x27;s literally a fresh wallet, start up bitcoind in regtest, stop, start back up with salvagewallet. Some not small % of time i get those messages
<br>
</div>

<div class='talk op-msg' data-timestamp='1470334980' id='484446'>
<a class='timestamp' href='#484446'><time timestamp='2016-08-04T18:23:00Z'>18:23</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
but yes I can upload one
<br>
</div>

<div class='talk op-msg' data-timestamp='1470334980' id='484447'>
<a class='timestamp' href='#484447'><time timestamp='2016-08-04T18:23:00Z'>18:23</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it&#x27;s a known issue btw: salvagewallet drops valid keys #7379   but I&#x27;ve never had it happen to me
<br>
</div>

<div class='talk op-msg' data-timestamp='1470335040' id='484448'>
<a class='timestamp' href='#484448'><time timestamp='2016-08-04T18:24:00Z'>18:24</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
another similar problem is salvagewallet fails verification #7463 , salvagewallet on an uncorrupted wallet sometimes makes bdb return errors
<br>
</div>

<div class='talk op-msg' data-timestamp='1470335040' id='484449'>
<a class='timestamp' href='#484449'><time timestamp='2016-08-04T18:24:00Z'>18:24</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
so what you are seeing may be similar, I noticed that problem, just never saw keys being dropped
<br>
</div>

<div class='talk op-msg' data-timestamp='1470335100' id='484450'>
<a class='timestamp' href='#484450'><time timestamp='2016-08-04T18:25:00Z'>18:25</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
2016-08-04 18:07:42 Salvage(aggressive) found 439 records
<br>
</div>

<div class='talk op-msg' data-timestamp='1470335100' id='484451'>
<a class='timestamp' href='#484451'><time timestamp='2016-08-04T18:25:00Z'>18:25</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
2016-08-04 18:07:42 WARNING: CWalletDB::Recover skipping key: 
<br>
</div>

<div class='talk op-msg' data-timestamp='1470335100' id='484452'>
<a class='timestamp' href='#484452'><time timestamp='2016-08-04T18:25:00Z'>18:25</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I would not be surprised if bdb&#x27;s &quot;aggressive&quot; salvage sometimes returns crap or misses records
<br>
</div>

<div class='talk op-msg' data-timestamp='1470335100' id='484453'>
<a class='timestamp' href='#484453'><time timestamp='2016-08-04T18:25:00Z'>18:25</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
oh is it an actual bdb mode? That might explain the difference
<br>
</div>

<div class='talk op-msg' data-timestamp='1470335220' id='484454'>
<a class='timestamp' href='#484454'><time timestamp='2016-08-04T18:27:00Z'>18:27</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
maybe it should run twice, once normally without any bdb magig, and then again in agressive mode?
<br>
</div>

<div class='talk op-msg' data-timestamp='1470335220' id='484455'>
<a class='timestamp' href='#484455'><time timestamp='2016-08-04T18:27:00Z'>18:27</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
&quot;never do worse than simply reading it.&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1470335220' id='484456'>
<a class='timestamp' href='#484456'><time timestamp='2016-08-04T18:27:00Z'>18:27</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I don&#x27;t know if that makes a difference, but worth a try
<br>
</div>

<div class='talk op-msg' data-timestamp='1470335220' id='484457'>
<a class='timestamp' href='#484457'><time timestamp='2016-08-04T18:27:00Z'>18:27</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
i can try that, if i figure out the settings
<br>
</div>

<div class='talk op-msg' data-timestamp='1470335220' id='484458'>
<a class='timestamp' href='#484458'><time timestamp='2016-08-04T18:27:00Z'>18:27</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
well presumably it must, after all we don&#x27;t miss those keys during normal reads without salvaging.
<br>
</div>

<div class='talk op-msg' data-timestamp='1470335340' id='484459'>
<a class='timestamp' href='#484459'><time timestamp='2016-08-04T18:29:00Z'>18:29</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
ooh! those may be ghost keys instagibbs
<br>
</div>

<div class='talk op-msg' data-timestamp='1470335340' id='484460'>
<a class='timestamp' href='#484460'><time timestamp='2016-08-04T18:29:00Z'>18:29</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
&quot;Output all the key/data pairs in the file that can be found. By default, DB-&gt;verify() does not assume corruption. For example, if a key/data pair on a page is marked as deleted, it is not then written to the output file. When DB_AGGRESSIVE is specified, corruption is assumed, and any key/data pair that can be found is written. In this case, key/data pairs that are corrupted or have been deleted may appear in the output (even 
<br>
</div>

<div class='talk op-msg' data-timestamp='1470335340' id='484461'>
<a class='timestamp' href='#484461'><time timestamp='2016-08-04T18:29:00Z'>18:29</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
if the file being salvaged is in no way corrupt), and the output will almost certainly require editing before being loaded into a database.&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1470335340' id='484462'>
<a class='timestamp' href='#484462'><time timestamp='2016-08-04T18:29:00Z'>18:29</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
i aint afraid of no ghost
<br>
</div>

<div class='talk op-msg' data-timestamp='1470335340' id='484463'>
<a class='timestamp' href='#484463'><time timestamp='2016-08-04T18:29:00Z'>18:29</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
aggressive should return <b>*more*</b> records, but some of them may be deleted, or not really exist at all
<br>
</div>

<div class='talk op-msg' data-timestamp='1470335340' id='484464'>
<a class='timestamp' href='#484464'><time timestamp='2016-08-04T18:29:00Z'>18:29</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
sipa: mm, I just noticed that 0.13 doesn&#x27;t enable asm for osx due to secp256k1 #373 :\
<br>
</div>

<div class='talk op-msg' data-timestamp='1470335400' id='484465'>
<a class='timestamp' href='#484465'><time timestamp='2016-08-04T18:30:00Z'>18:30</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
<b>*even if the file being salvaged is in no way corrupt*</b> is the important part there
<br>
</div>

<div class='talk op-msg' data-timestamp='1470335400' id='484466'>
<a class='timestamp' href='#484466'><time timestamp='2016-08-04T18:30:00Z'>18:30</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
so how can we test that
<br>
</div>

<div class='talk op-msg' data-timestamp='1470335460' id='484467'>
<a class='timestamp' href='#484467'><time timestamp='2016-08-04T18:31:00Z'>18:31</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
so yes, trying to salvage without aggressive makes sense first
<br>
</div>

<div class='talk op-msg' data-timestamp='1470335520' id='484468'>
<a class='timestamp' href='#484468'><time timestamp='2016-08-04T18:32:00Z'>18:32</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
but how can we detect if keys have been dropped due to corruption, which would appear with salvage aggressive? I don&#x27;t know
<br>
</div>

<div class='talk op-msg' data-timestamp='1470335520' id='484469'>
<a class='timestamp' href='#484469'><time timestamp='2016-08-04T18:32:00Z'>18:32</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes you don&#x27;t really know, that&#x27;s the problem
<br>
</div>

<div class='talk op-msg' data-timestamp='1470335520' id='484470'>
<a class='timestamp' href='#484470'><time timestamp='2016-08-04T18:32:00Z'>18:32</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
was it a real key or just a corrupted echo?
<br>
</div>

<div class='talk op-msg' data-timestamp='1470335580' id='484471'>
<a class='timestamp' href='#484471'><time timestamp='2016-08-04T18:33:00Z'>18:33</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
cfields: maybe do the secp256k1 update for 0.13.1 too then
<br>
</div>

<div class='talk op-msg' data-timestamp='1470335640' id='484472'>
<a class='timestamp' href='#484472'><time timestamp='2016-08-04T18:34:00Z'>18:34</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
so worst case with &quot;ghost&quot; keys would be having keys you didn&#x27;t actually generate? or?
<br>
</div>

<div class='talk op-msg' data-timestamp='1470335640' id='484473'>
<a class='timestamp' href='#484473'><time timestamp='2016-08-04T18:34:00Z'>18:34</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
instagibbs: or partial old records
<br>
</div>

<div class='talk op-msg' data-timestamp='1470335640' id='484474'>
<a class='timestamp' href='#484474'><time timestamp='2016-08-04T18:34:00Z'>18:34</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
wumpus: probably makes sense, yes. I&#x27;m running a bench with/without atm.
<br>
</div>

<div class='talk op-msg' data-timestamp='1470335640' id='484475'>
<a class='timestamp' href='#484475'><time timestamp='2016-08-04T18:34:00Z'>18:34</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
instagibbs: it does a linear scan over the file and everything that looks like a key/value is returned
<br>
</div>

<div class='talk op-msg' data-timestamp='1470335700' id='484476'>
<a class='timestamp' href='#484476'><time timestamp='2016-08-04T18:35:00Z'>18:35</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
so aggressive will indeed return more, but we toss anything that looks wrong
<br>
</div>

<div class='talk op-msg' data-timestamp='1470335700' id='484477'>
<a class='timestamp' href='#484477'><time timestamp='2016-08-04T18:35:00Z'>18:35</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
Trivial -Wshadow PRs for review: 8109, 8163, 8191, 8449. I&#x27;d be glad to get some ACKs. Thank you.
<br>
</div>

<div class='talk op-msg' data-timestamp='1470335700' id='484478'>
<a class='timestamp' href='#484478'><time timestamp='2016-08-04T18:35:00Z'>18:35</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
instagibbs: yes, we do, we&#x27;re fairly robust there. But it means possible false positives inthe log
<br>
</div>

<div class='talk op-msg' data-timestamp='1470335760' id='484479'>
<a class='timestamp' href='#484479'><time timestamp='2016-08-04T18:36:00Z'>18:36</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
wumpus, ok, well that&#x27;s less scary, thanks
<br>
</div>

<div class='talk op-msg' data-timestamp='1470335760' id='484480'>
<a class='timestamp' href='#484480'><time timestamp='2016-08-04T18:36:00Z'>18:36</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
instagibbs: I hope that&#x27;s it! but you can only find out by analysing that wallet\
<br>
</div>

<div class='talk op-msg' data-timestamp='1470335820' id='484481'>
<a class='timestamp' href='#484481'><time timestamp='2016-08-04T18:37:00Z'>18:37</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
see if the keys that are in the original wallet and post-salvage wallet are the same, despite the WARNING
<br>
</div>

<div class='talk op-msg' data-timestamp='1470335820' id='484482'>
<a class='timestamp' href='#484482'><time timestamp='2016-08-04T18:37:00Z'>18:37</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
wumpus: i&#x27;ll merge the strings include in secp
<br>
</div>

<div class='talk op-msg' data-timestamp='1470335820' id='484483'>
<a class='timestamp' href='#484483'><time timestamp='2016-08-04T18:37:00Z'>18:37</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
sipa: thanks
<br>
</div>

<div class='talk op-msg' data-timestamp='1470335880' id='484484'>
<a class='timestamp' href='#484484'><time timestamp='2016-08-04T18:38:00Z'>18:38</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
so that can be included in the subtree
<br>
</div>

<div class='talk op-msg' data-timestamp='1470335880' id='484485'>
<a class='timestamp' href='#484485'><time timestamp='2016-08-04T18:38:00Z'>18:38</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
right, I&#x27;ll update the pr
<br>
</div>

<div class='talk op-msg' data-timestamp='1470335880' id='484486'>
<a class='timestamp' href='#484486'><time timestamp='2016-08-04T18:38:00Z'>18:38</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
116us vs 124us. not the end of the world.
<br>
</div>

<div class='talk op-msg' data-timestamp='1470335940' id='484487'>
<a class='timestamp' href='#484487'><time timestamp='2016-08-04T18:39:00Z'>18:39</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
don&#x27;t think that&#x27;d be worth it for any random warning, but missing prototypes are pretty serious business
<br>
</div>

<div class='talk op-msg' data-timestamp='1470336000' id='484488'>
<a class='timestamp' href='#484488'><time timestamp='2016-08-04T18:40:00Z'>18:40</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
cfields: that&#x27;s the output of bench_verify ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1470336000' id='484489'>
<a class='timestamp' href='#484489'><time timestamp='2016-08-04T18:40:00Z'>18:40</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
cfields: I&#x27;m surprised by that.
<br>
</div>

<div class='talk op-msg' data-timestamp='1470336000' id='484490'>
<a class='timestamp' href='#484490'><time timestamp='2016-08-04T18:40:00Z'>18:40</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
the difference is smaller than I expected.
<br>
</div>

<div class='talk op-msg' data-timestamp='1470336000' id='484491'>
<a class='timestamp' href='#484491'><time timestamp='2016-08-04T18:40:00Z'>18:40</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
likewise
<br>
</div>

<div class='talk op-msg' data-timestamp='1470336000' id='484492'>
<a class='timestamp' href='#484492'><time timestamp='2016-08-04T18:40:00Z'>18:40</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
sipa: yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1470336060' id='484493'>
<a class='timestamp' href='#484493'><time timestamp='2016-08-04T18:41:00Z'>18:41</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
what compilation flags?
<br>
</div>

<div class='talk op-msg' data-timestamp='1470336060' id='484494'>
<a class='timestamp' href='#484494'><time timestamp='2016-08-04T18:41:00Z'>18:41</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
sipa: default passed down from bitcoin
<br>
</div>

<div class='talk op-msg' data-timestamp='1470336120' id='484495'>
<a class='timestamp' href='#484495'><time timestamp='2016-08-04T18:42:00Z'>18:42</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
116 versus 124 seems in the error margin, are you sure something changed at all?
<br>
</div>

<div class='talk op-msg' data-timestamp='1470336120' id='484496'>
<a class='timestamp' href='#484496'><time timestamp='2016-08-04T18:42:00Z'>18:42</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
sipa: <a href="http://pastebin.com/raw/VbmBERA8" class="link" target="_blank">http://pastebin.com/raw/VbmBERA8</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1470336180' id='484497'>
<a class='timestamp' href='#484497'><time timestamp='2016-08-04T18:43:00Z'>18:43</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
ran a few times of each, didn&#x27;t deviate much. double-checking.
<br>
</div>

<div class='talk op-msg' data-timestamp='1470336180' id='484498'>
<a class='timestamp' href='#484498'><time timestamp='2016-08-04T18:43:00Z'>18:43</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
okay
<br>
</div>

<div class='talk op-msg' data-timestamp='1470336240' id='484499'>
<a class='timestamp' href='#484499'><time timestamp='2016-08-04T18:44:00Z'>18:44</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
cfields: what cpu is this?
<br>
</div>

<div class='talk op-msg' data-timestamp='1470336360' id='484500'>
<a class='timestamp' href='#484500'><time timestamp='2016-08-04T18:46:00Z'>18:46</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
gmaxwell: i5, 2.4ghz. there&#x27;s no /proc/cpuinfo in osx, i can dig around and find it if you&#x27;d like the gen
<br>
</div>

<div class='talk op-msg' data-timestamp='1470336480' id='484501'>
<a class='timestamp' href='#484501'><time timestamp='2016-08-04T18:48:00Z'>18:48</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
cfields: reproduced
<br>
</div>

<div class='talk op-msg' data-timestamp='1470336480' id='484502'>
<a class='timestamp' href='#484502'><time timestamp='2016-08-04T18:48:00Z'>18:48</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
there we go. 4258U. haswell.
<br>
</div>

<div class='talk op-msg' data-timestamp='1470336480' id='484503'>
<a class='timestamp' href='#484503'><time timestamp='2016-08-04T18:48:00Z'>18:48</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
112us vs 117us here
<br>
</div>

<div class='talk op-msg' data-timestamp='1470336480' id='484504'>
<a class='timestamp' href='#484504'><time timestamp='2016-08-04T18:48:00Z'>18:48</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ecdsa_verify: min 117us / avg 117us / max 117us
<br>
</div>

<div class='talk op-msg' data-timestamp='1470336480' id='484505'>
<a class='timestamp' href='#484505'><time timestamp='2016-08-04T18:48:00Z'>18:48</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ecdsa_verify: min 112us / avg 113us / max 113us
<br>
</div>

<div class='talk op-msg' data-timestamp='1470336540' id='484506'>
<a class='timestamp' href='#484506'><time timestamp='2016-08-04T18:49:00Z'>18:49</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
cfields: OSX: use &quot;sysctl -n machdep.cpu.brand_string&quot; instead cat /proc/cpuinfo
<br>
</div>

<div class='talk op-msg' data-timestamp='1470336540' id='484507'>
<a class='timestamp' href='#484507'><time timestamp='2016-08-04T18:49:00Z'>18:49</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
sipa: in linux? or reproduced on mac?
<br>
</div>

<div class='talk op-msg' data-timestamp='1470336540' id='484508'>
<a class='timestamp' href='#484508'><time timestamp='2016-08-04T18:49:00Z'>18:49</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
linux
<br>
</div>

<div class='talk op-msg' data-timestamp='1470336540' id='484509'>
<a class='timestamp' href='#484509'><time timestamp='2016-08-04T18:49:00Z'>18:49</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
with cpu clock pinned to a single frequency
<br>
</div>

<div class='talk op-msg' data-timestamp='1470336540' id='484510'>
<a class='timestamp' href='#484510'><time timestamp='2016-08-04T18:49:00Z'>18:49</time></a>
&lt;<span class='nick nick-16'> GitHub127</span>&gt;
[bitcoin] MarcoFalke pushed 2 new commits to 0.13: <a href="https://github.com/bitcoin/bitcoin/compare/d485a6c5a8d2...114f7e944b1c" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/d485a6c5a8d2...114f7e944b1c</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1470336540' id='484511'>
<a class='timestamp' href='#484511'><time timestamp='2016-08-04T18:49:00Z'>18:49</time></a>
&lt;<span class='nick nick-16'> GitHub127</span>&gt;
bitcoin/0.13 cd0910b Suhas Daftuar: Fix p2p-feefilter.py for changed tx relay behavior...
<br>
</div>

<div class='talk op-msg' data-timestamp='1470336540' id='484512'>
<a class='timestamp' href='#484512'><time timestamp='2016-08-04T18:49:00Z'>18:49</time></a>
&lt;<span class='nick nick-16'> GitHub127</span>&gt;
bitcoin/0.13 114f7e9 MarcoFalke: Merge #8454: [0.13.1] Fix p2p-feefilter.py for changed tx relay behavior...
<br>
</div>

<div class='talk op-msg' data-timestamp='1470336540' id='484513'>
<a class='timestamp' href='#484513'><time timestamp='2016-08-04T18:49:00Z'>18:49</time></a>
&lt;<span class='nick nick-11'> GitHub182</span>&gt;
[bitcoin] MarcoFalke closed pull request #8454: [0.13.1] Fix p2p-feefilter.py for changed tx relay behavior (0.13...Mf1608-qaFeeFilter013) <a href="https://github.com/bitcoin/bitcoin/pull/8454" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8454</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1470336600' id='484514'>
<a class='timestamp' href='#484514'><time timestamp='2016-08-04T18:50:00Z'>18:50</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
huh. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1470336600' id='484515'>
<a class='timestamp' href='#484515'><time timestamp='2016-08-04T18:50:00Z'>18:50</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sipa: that looks broken, those numbers are much higher than I expect.
<br>
</div>

<div class='talk op-msg' data-timestamp='1470336600' id='484516'>
<a class='timestamp' href='#484516'><time timestamp='2016-08-04T18:50:00Z'>18:50</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(for both of you)
<br>
</div>

<div class='talk op-msg' data-timestamp='1470336600' id='484517'>
<a class='timestamp' href='#484517'><time timestamp='2016-08-04T18:50:00Z'>18:50</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that&#x27;s without gmp or endomorphism, at 2.6 GHz
<br>
</div>

<div class='talk op-msg' data-timestamp='1470336600' id='484518'>
<a class='timestamp' href='#484518'><time timestamp='2016-08-04T18:50:00Z'>18:50</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
gmaxwell: remember no bignum or endo
<br>
</div>

<div class='talk op-msg' data-timestamp='1470336600' id='484519'>
<a class='timestamp' href='#484519'><time timestamp='2016-08-04T18:50:00Z'>18:50</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I normally expect a verify to be more like 70us. but maybe thats all gmp.
<br>
</div>

<div class='talk op-msg' data-timestamp='1470336660' id='484520'>
<a class='timestamp' href='#484520'><time timestamp='2016-08-04T18:51:00Z'>18:51</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
jonasschnelli: thanks
<br>
</div>

<div class='talk op-msg' data-timestamp='1470336720' id='484521'>
<a class='timestamp' href='#484521'><time timestamp='2016-08-04T18:52:00Z'>18:52</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
MarcoFalke: please don&#x27;t merge anything for 0.13 now, we have to decide on the meeting whether to release final, this is a test change but I don&#x27;t want to have to trigger a new rc without good reason
<br>
</div>

<div class='talk op-msg' data-timestamp='1470336720' id='484522'>
<a class='timestamp' href='#484522'><time timestamp='2016-08-04T18:52:00Z'>18:52</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
This should not be enough for a new rc
<br>
</div>

<div class='talk op-msg' data-timestamp='1470336720' id='484523'>
<a class='timestamp' href='#484523'><time timestamp='2016-08-04T18:52:00Z'>18:52</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I know, but you named it 0.13.1, and it&#x27;s not time to merge for 0.13.1 yet, just clarifying
<br>
</div>

<div class='talk op-msg' data-timestamp='1470336780' id='484524'>
<a class='timestamp' href='#484524'><time timestamp='2016-08-04T18:53:00Z'>18:53</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
oops
<br>
</div>

<div class='talk op-msg' data-timestamp='1470336780' id='484525'>
<a class='timestamp' href='#484525'><time timestamp='2016-08-04T18:53:00Z'>18:53</time></a>
&lt;<span class='nick nick-2'> * gmaxwell</span>&gt;
predicts a build system problem.
<br>
</div>

<div class='talk op-msg' data-timestamp='1470336780' id='484526'>
<a class='timestamp' href='#484526'><time timestamp='2016-08-04T18:53:00Z'>18:53</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(in libsecp256k1)
<br>
</div>

<div class='talk op-msg' data-timestamp='1470336780' id='484527'>
<a class='timestamp' href='#484527'><time timestamp='2016-08-04T18:53:00Z'>18:53</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
(people may still want to do e.g. changelog changes before tagging final)
<br>
</div>

<div class='talk op-msg' data-timestamp='1470336780' id='484528'>
<a class='timestamp' href='#484528'><time timestamp='2016-08-04T18:53:00Z'>18:53</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
cd ~
<br>
</div>

<div class='talk op-msg' data-timestamp='1470336840' id='484529'>
<a class='timestamp' href='#484529'><time timestamp='2016-08-04T18:54:00Z'>18:54</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
gmaxwell: for which?
<br>
</div>

<div class='talk op-msg' data-timestamp='1470336840' id='484530'>
<a class='timestamp' href='#484530'><time timestamp='2016-08-04T18:54:00Z'>18:54</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
bitcoin is always without gmp
<br>
</div>

<div class='talk op-msg' data-timestamp='1470336840' id='484531'>
<a class='timestamp' href='#484531'><time timestamp='2016-08-04T18:54:00Z'>18:54</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: sounds likely... with endo and gmp enabled is see no statistically significant performance difference between asm enabled and disabled
<br>
</div>

<div class='talk op-msg' data-timestamp='1470336840' id='484532'>
<a class='timestamp' href='#484532'><time timestamp='2016-08-04T18:54:00Z'>18:54</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
71.2us vs 71.4us
<br>
</div>

<div class='talk op-msg' data-timestamp='1470336900' id='484533'>
<a class='timestamp' href='#484533'><time timestamp='2016-08-04T18:55:00Z'>18:55</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
(with variance between tests exceeding 0.2us)
<br>
</div>

<div class='talk op-msg' data-timestamp='1470337020' id='484534'>
<a class='timestamp' href='#484534'><time timestamp='2016-08-04T18:57:00Z'>18:57</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Aside, I think in the GUI and logs we should display the verification performance... so people will better realize how radically difference in speed different machines are. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1470337080' id='484535'>
<a class='timestamp' href='#484535'><time timestamp='2016-08-04T18:58:00Z'>18:58</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes, a graph of verification performance in the gui would be nice
<br>
</div>

<div class='talk op-msg' data-timestamp='1470337140' id='484536'>
<a class='timestamp' href='#484536'><time timestamp='2016-08-04T18:59:00Z'>18:59</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
similar to the bandwidth one
<br>
</div>

<div class='talk op-msg' data-timestamp='1470337140' id='484537'>
<a class='timestamp' href='#484537'><time timestamp='2016-08-04T18:59:00Z'>18:59</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
with part spent in i/o secp256k1 etc
<br>
</div>

<div class='talk op-msg' data-timestamp='1470337140' id='484538'>
<a class='timestamp' href='#484538'><time timestamp='2016-08-04T18:59:00Z'>18:59</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
heh.. currently working on a mempool graph
<br>
</div>

<div class='talk op-msg' data-timestamp='1470337140' id='484539'>
<a class='timestamp' href='#484539'><time timestamp='2016-08-04T18:59:00Z'>18:59</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
nice
<br>
</div>

<div class='talk op-msg' data-timestamp='1470337200' id='484540'>
<a class='timestamp' href='#484540'><time timestamp='2016-08-04T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
<a href="http://i.imgur.com/G6yi9UR.png" class="link" target="_blank">http://i.imgur.com/G6yi9UR.png</a> (very basic atm)
<br>
</div>

<div class='talk op-msg' data-timestamp='1470337200' id='484541'>
<a class='timestamp' href='#484541'><time timestamp='2016-08-04T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
wumpus: Well I meant as a static this computer x faster than that computer. not usage.
<br>
</div>

<div class='talk op-msg' data-timestamp='1470337200' id='484542'>
<a class='timestamp' href='#484542'><time timestamp='2016-08-04T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
#bitcoin-core-dev Meeting: wumpus sipa gmaxwell jonasschnelli morcos luke-jr btcdrak sdaftuar jtimon cfields petertodd kanzure bluematt instagibbs phantomcircuit codeshark michagogo marcofalke paveljanik NicolasDorier
<br>
</div>

<div class='talk op-msg' data-timestamp='1470337200' id='484543'>
<a class='timestamp' href='#484543'><time timestamp='2016-08-04T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
#startmeeting
<br>
</div>

<div class='talk op-msg' data-timestamp='1470337200' id='484544'>
<a class='timestamp' href='#484544'><time timestamp='2016-08-04T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Meeting started Thu Aug  4 19:00:43 2016 UTC.  The chair is wumpus. Information about MeetBot at <a href="http://wiki.debian.org/MeetBot" class="link" target="_blank">http://wiki.debian.org/MeetBot</a>.
<br>
</div>

<div class='talk op-msg' data-timestamp='1470337200' id='484545'>
<a class='timestamp' href='#484545'><time timestamp='2016-08-04T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Useful Commands: #action #agreed #help #info #idea #link #topic.
<br>
</div>

<div class='talk op-msg' data-timestamp='1470337260' id='484546'>
<a class='timestamp' href='#484546'><time timestamp='2016-08-04T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
gmaxwell: mm, i just stuck some &quot;#error foo&quot; in the asm paths, it blows up as expected.
<br>
</div>

<div class='talk op-msg' data-timestamp='1470337260' id='484547'>
<a class='timestamp' href='#484547'><time timestamp='2016-08-04T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
whoops, will continue after meeting
<br>
</div>

<div class='talk op-msg' data-timestamp='1470337260' id='484548'>
<a class='timestamp' href='#484548'><time timestamp='2016-08-04T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
topic 0.13.0, I guess?
<br>
</div>

<div class='talk op-msg' data-timestamp='1470337260' id='484549'>
<a class='timestamp' href='#484549'><time timestamp='2016-08-04T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
#topic 0.13.0 final?
<br>
</div>

<div class='talk op-msg' data-timestamp='1470337260' id='484550'>
<a class='timestamp' href='#484550'><time timestamp='2016-08-04T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
did anyone hear of any critical problems with rc2?
<br>
</div>

<div class='talk op-msg' data-timestamp='1470337260' id='484551'>
<a class='timestamp' href='#484551'><time timestamp='2016-08-04T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I haven&#x27;t heard much on it. Been quiet.
<br>
</div>

<div class='talk op-msg' data-timestamp='1470337320' id='484552'>
<a class='timestamp' href='#484552'><time timestamp='2016-08-04T19:02:00Z'>19:02</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
we forgot to backport 8438/8365 into 0.13...
<br>
</div>

<div class='talk op-msg' data-timestamp='1470337320' id='484553'>
<a class='timestamp' href='#484553'><time timestamp='2016-08-04T19:02:00Z'>19:02</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
sipa something for 0.13.1?
<br>
</div>

<div class='talk op-msg' data-timestamp='1470337320' id='484554'>
<a class='timestamp' href='#484554'><time timestamp='2016-08-04T19:02:00Z'>19:02</time></a>
&lt;<span class='nick nick-4'> kanzure</span>&gt;
hi. greetings.
<br>
</div>

<div class='talk op-msg' data-timestamp='1470337320' id='484555'>
<a class='timestamp' href='#484555'><time timestamp='2016-08-04T19:02:00Z'>19:02</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
wumpus: the release notes are still inappropriate AFAIK
<br>
</div>

<div class='talk op-msg' data-timestamp='1470337380' id='484556'>
<a class='timestamp' href='#484556'><time timestamp='2016-08-04T19:03:00Z'>19:03</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
also gmaxwell was going to add a section I believe, covering the new relay policy influences (maybe I missed that being added)
<br>
</div>

<div class='talk op-msg' data-timestamp='1470337380' id='484557'>
<a class='timestamp' href='#484557'><time timestamp='2016-08-04T19:03:00Z'>19:03</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1470337380' id='484558'>
<a class='timestamp' href='#484558'><time timestamp='2016-08-04T19:03:00Z'>19:03</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I think I owed some release note text which I haven&#x27;t done yet re max blocksize settings.
<br>
</div>

<div class='talk op-msg' data-timestamp='1470337380' id='484559'>
<a class='timestamp' href='#484559'><time timestamp='2016-08-04T19:03:00Z'>19:03</time></a>
&lt;<span class='nick nick-4'> kanzure</span>&gt;
this isn&#x27;t short-term development related but it&#x27;s high signal-noise crypto content that a few developers recently participated in, <a href="http://diyhpl.us/wiki/transcripts/2016-july-bitcoin-developers-miners-meeting/dan-boneh/" class="link" target="_blank">http://diyhpl.us/wiki/transcripts/2016-july-bitcoin-developers-miners-meeting/dan-boneh/</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1470337380' id='484560'>
<a class='timestamp' href='#484560'><time timestamp='2016-08-04T19:03:00Z'>19:03</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
Wouldn&#x27;t 8438 require rc3?
<br>
</div>

<div class='talk op-msg' data-timestamp='1470337380' id='484561'>
<a class='timestamp' href='#484561'><time timestamp='2016-08-04T19:03:00Z'>19:03</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
luke-jr: then update them, sipa also still wants to add something
<br>
</div>

<div class='talk op-msg' data-timestamp='1470337380' id='484562'>
<a class='timestamp' href='#484562'><time timestamp='2016-08-04T19:03:00Z'>19:03</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
MarcoFalke: yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1470337380' id='484563'>
<a class='timestamp' href='#484563'><time timestamp='2016-08-04T19:03:00Z'>19:03</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
wumpus: my PR to update them is still open.
<br>
</div>

<div class='talk op-msg' data-timestamp='1470337380' id='484564'>
<a class='timestamp' href='#484564'><time timestamp='2016-08-04T19:03:00Z'>19:03</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
luke-jr: it also updates code
<br>
</div>

<div class='talk op-msg' data-timestamp='1470337380' id='484565'>
<a class='timestamp' href='#484565'><time timestamp='2016-08-04T19:03:00Z'>19:03</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
luke-jr: does the PR still contain code changes?
<br>
</div>

<div class='talk op-msg' data-timestamp='1470337380' id='484566'>
<a class='timestamp' href='#484566'><time timestamp='2016-08-04T19:03:00Z'>19:03</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
so you want a version without code changes?
<br>
</div>

<div class='talk op-msg' data-timestamp='1470337440' id='484567'>
<a class='timestamp' href='#484567'><time timestamp='2016-08-04T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
luke-jr: if you make a PR that just updates the changelog, and it&#x27;s accepted by others, it would have been merged a long time ago
<br>
</div>

<div class='talk op-msg' data-timestamp='1470337440' id='484568'>
<a class='timestamp' href='#484568'><time timestamp='2016-08-04T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
wumpus: the current language was not accepted.
<br>
</div>

<div class='talk op-msg' data-timestamp='1470337440' id='484569'>
<a class='timestamp' href='#484569'><time timestamp='2016-08-04T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sipa: do you think <a href="https://github.com/bitcoin/bitcoin/pull/8438" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8438</a> can wait for 0.13.1?
<br>
</div>

<div class='talk op-msg' data-timestamp='1470337500' id='484570'>
<a class='timestamp' href='#484570'><time timestamp='2016-08-04T19:05:00Z'>19:05</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
I find this double-standard somewhat annoying.
<br>
</div>

<div class='talk op-msg' data-timestamp='1470337500' id='484571'>
<a class='timestamp' href='#484571'><time timestamp='2016-08-04T19:05:00Z'>19:05</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
sigh, if this is another meeting of us all arguing against luke-jr then i&#x27;m going to find something else to do
<br>
</div>

<div class='talk op-msg' data-timestamp='1470337500' id='484572'>
<a class='timestamp' href='#484572'><time timestamp='2016-08-04T19:05:00Z'>19:05</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
heh. Yes. Finish this. luke-jr can open a pr (action)
<br>
</div>

<div class='talk op-msg' data-timestamp='1470337500' id='484573'>
<a class='timestamp' href='#484573'><time timestamp='2016-08-04T19:05:00Z'>19:05</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I&#x27;m not arguing against luke-jr
<br>
</div>

<div class='talk op-msg' data-timestamp='1470337560' id='484574'>
<a class='timestamp' href='#484574'><time timestamp='2016-08-04T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
anyhow that derailed my question - so no one had any critical problems with 0.13.0rc2?
<br>
</div>

<div class='talk op-msg' data-timestamp='1470337560' id='484575'>
<a class='timestamp' href='#484575'><time timestamp='2016-08-04T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
and I don&#x27;t mean with the release notes
<br>
</div>

<div class='talk op-msg' data-timestamp='1470337560' id='484576'>
<a class='timestamp' href='#484576'><time timestamp='2016-08-04T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
is there any fear of instagibbs&#x27; problem being due to a code error?
<br>
</div>

<div class='talk op-msg' data-timestamp='1470337560' id='484577'>
<a class='timestamp' href='#484577'><time timestamp='2016-08-04T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
what problem?
<br>
</div>

<div class='talk op-msg' data-timestamp='1470337560' id='484578'>
<a class='timestamp' href='#484578'><time timestamp='2016-08-04T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
sipa, fwiw it&#x27;s showing up on older fork...
<br>
</div>

<div class='talk op-msg' data-timestamp='1470337560' id='484579'>
<a class='timestamp' href='#484579'><time timestamp='2016-08-04T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
it&#x27;s not HD-related, or anything fairly recent
<br>
</div>

<div class='talk op-msg' data-timestamp='1470337620' id='484580'>
<a class='timestamp' href='#484580'><time timestamp='2016-08-04T19:07:00Z'>19:07</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
instagibbs: so without the bip32 changes?
<br>
</div>

<div class='talk op-msg' data-timestamp='1470337620' id='484581'>
<a class='timestamp' href='#484581'><time timestamp='2016-08-04T19:07:00Z'>19:07</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
correct
<br>
</div>

<div class='talk op-msg' data-timestamp='1470337620' id='484582'>
<a class='timestamp' href='#484582'><time timestamp='2016-08-04T19:07:00Z'>19:07</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
you mean the salvagewallet problem? that&#x27;s old hat, there&#x27;s two issues open with salvagewallet problems
<br>
</div>

<div class='talk op-msg' data-timestamp='1470337620' id='484583'>
<a class='timestamp' href='#484583'><time timestamp='2016-08-04T19:07:00Z'>19:07</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
instagibbs: ok, good to know
<br>
</div>

<div class='talk op-msg' data-timestamp='1470337620' id='484584'>
<a class='timestamp' href='#484584'><time timestamp='2016-08-04T19:07:00Z'>19:07</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
as I mentioned
<br>
</div>

<div class='talk op-msg' data-timestamp='1470337620' id='484585'>
<a class='timestamp' href='#484585'><time timestamp='2016-08-04T19:07:00Z'>19:07</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sorry, i didn&#x27;t follow the whole discussion
<br>
</div>

<div class='talk op-msg' data-timestamp='1470337620' id='484586'>
<a class='timestamp' href='#484586'><time timestamp='2016-08-04T19:07:00Z'>19:07</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
this is not a last minute problem
<br>
</div>

<div class='talk op-msg' data-timestamp='1470337620' id='484587'>
<a class='timestamp' href='#484587'><time timestamp='2016-08-04T19:07:00Z'>19:07</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
wumpus: earlier we were discussing 0.13.0&#x27;s failure mode downgrading from 0.13.1; I am not clear what the status of that is, or if we need changes for it
<br>
</div>

<div class='talk op-msg' data-timestamp='1470337620' id='484588'>
<a class='timestamp' href='#484588'><time timestamp='2016-08-04T19:07:00Z'>19:07</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
yes I&#x27;ll double-check that keys aren&#x27;t actually going away
<br>
</div>

<div class='talk op-msg' data-timestamp='1470337620' id='484589'>
<a class='timestamp' href='#484589'><time timestamp='2016-08-04T19:07:00Z'>19:07</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
but not worried now
<br>
</div>

<div class='talk op-msg' data-timestamp='1470337620' id='484590'>
<a class='timestamp' href='#484590'><time timestamp='2016-08-04T19:07:00Z'>19:07</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
OK.
<br>
</div>

<div class='talk op-msg' data-timestamp='1470337620' id='484591'>
<a class='timestamp' href='#484591'><time timestamp='2016-08-04T19:07:00Z'>19:07</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
LoadWallet works anyhoo :P
<br>
</div>

<div class='talk op-msg' data-timestamp='1470337620' id='484592'>
<a class='timestamp' href='#484592'><time timestamp='2016-08-04T19:07:00Z'>19:07</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1470337680' id='484593'>
<a class='timestamp' href='#484593'><time timestamp='2016-08-04T19:08:00Z'>19:08</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
so, all agree that it is time to release 0.13.0 final?
<br>
</div>

<div class='talk op-msg' data-timestamp='1470337680' id='484594'>
<a class='timestamp' href='#484594'><time timestamp='2016-08-04T19:08:00Z'>19:08</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
(after say, a day of updating the release notes)
<br>
</div>

<div class='talk op-msg' data-timestamp='1470337740' id='484595'>
<a class='timestamp' href='#484595'><time timestamp='2016-08-04T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
do we care about what happens when someone downgrades 0.13.1 to 0.13.0 after segwit activates?
<br>
</div>

<div class='talk op-msg' data-timestamp='1470337740' id='484596'>
<a class='timestamp' href='#484596'><time timestamp='2016-08-04T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
ACK, I can live with <a href="https://github.com/bitcoin/bitcoin/pull/8438" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8438</a>  for 0.13.1 but don&#x27;t know about others opinions.
<br>
</div>

<div class='talk op-msg' data-timestamp='1470337740' id='484597'>
<a class='timestamp' href='#484597'><time timestamp='2016-08-04T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
i think we can just tell users who want to downgrade to 0.13.0 after segwit activates to do a reindex? 
<br>
</div>

<div class='talk op-msg' data-timestamp='1470337740' id='484598'>
<a class='timestamp' href='#484598'><time timestamp='2016-08-04T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
they&#x27;ll end up redownloading blocks, without witnesses, but that seems fine
<br>
</div>

<div class='talk op-msg' data-timestamp='1470337740' id='484599'>
<a class='timestamp' href='#484599'><time timestamp='2016-08-04T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
sipa: I care only to the extent that it shouldn&#x27;t make a &quot;working&quot; node that doesn&#x27;t match consensus
<br>
</div>

<div class='talk op-msg' data-timestamp='1470337740' id='484600'>
<a class='timestamp' href='#484600'><time timestamp='2016-08-04T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
kind of a weird case to try to optimize
<br>
</div>

<div class='talk op-msg' data-timestamp='1470337740' id='484601'>
<a class='timestamp' href='#484601'><time timestamp='2016-08-04T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
agree with luke-jr - it should give a clear error
<br>
</div>

<div class='talk op-msg' data-timestamp='1470337740' id='484602'>
<a class='timestamp' href='#484602'><time timestamp='2016-08-04T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
ie, it should give a hard error or reindex or something
<br>
</div>

<div class='talk op-msg' data-timestamp='1470337740' id='484603'>
<a class='timestamp' href='#484603'><time timestamp='2016-08-04T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it should not seem to work, but if it requires a reindex that&#x27;s fine
<br>
</div>

<div class='talk op-msg' data-timestamp='1470337800' id='484604'>
<a class='timestamp' href='#484604'><time timestamp='2016-08-04T19:10:00Z'>19:10</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sdaftuar: Yes. I think this would be good. I don&#x27;t think we need to cover the downgrade case.
<br>
</div>

<div class='talk op-msg' data-timestamp='1470337800' id='484605'>
<a class='timestamp' href='#484605'><time timestamp='2016-08-04T19:10:00Z'>19:10</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
luke-jr: i think the only risk (but i haven&#x27;t tried) is that it either works fine or crashes
<br>
</div>

<div class='talk op-msg' data-timestamp='1470337800' id='484606'>
<a class='timestamp' href='#484606'><time timestamp='2016-08-04T19:10:00Z'>19:10</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Loss of #8438 is unfortunate but if including it would mean delaying the release I don&#x27;t think it would be good to do so.
<br>
</div>

<div class='talk op-msg' data-timestamp='1470337800' id='484607'>
<a class='timestamp' href='#484607'><time timestamp='2016-08-04T19:10:00Z'>19:10</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
luke-jr: the UTXO set is identical across the two
<br>
</div>

<div class='talk op-msg' data-timestamp='1470337800' id='484608'>
<a class='timestamp' href='#484608'><time timestamp='2016-08-04T19:10:00Z'>19:10</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
I suggest someone should try it before final 0.13.0
<br>
</div>

<div class='talk op-msg' data-timestamp='1470337800' id='484609'>
<a class='timestamp' href='#484609'><time timestamp='2016-08-04T19:10:00Z'>19:10</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
probably not difficult using testnet?
<br>
</div>

<div class='talk op-msg' data-timestamp='1470337800' id='484610'>
<a class='timestamp' href='#484610'><time timestamp='2016-08-04T19:10:00Z'>19:10</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
sipa: i guess its somewhat unfortunate that it will seem to work fine.
<br>
</div>

<div class='talk op-msg' data-timestamp='1470337800' id='484611'>
<a class='timestamp' href='#484611'><time timestamp='2016-08-04T19:10:00Z'>19:10</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
luke-jr: ack
<br>
</div>

<div class='talk op-msg' data-timestamp='1470337860' id='484612'>
<a class='timestamp' href='#484612'><time timestamp='2016-08-04T19:11:00Z'>19:11</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
it can be tested by changing the testnet parameters.
<br>
</div>

<div class='talk op-msg' data-timestamp='1470337860' id='484613'>
<a class='timestamp' href='#484613'><time timestamp='2016-08-04T19:11:00Z'>19:11</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
detecting this situation is not hard, btw
<br>
</div>

<div class='talk op-msg' data-timestamp='1470337860' id='484614'>
<a class='timestamp' href='#484614'><time timestamp='2016-08-04T19:11:00Z'>19:11</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
oh because 0.13.1 will use OPT_WITNESS?
<br>
</div>

<div class='talk op-msg' data-timestamp='1470337860' id='484615'>
<a class='timestamp' href='#484615'><time timestamp='2016-08-04T19:11:00Z'>19:11</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sdaftuar: yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1470337920' id='484616'>
<a class='timestamp' href='#484616'><time timestamp='2016-08-04T19:12:00Z'>19:12</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
hm so maybe we should add code then to look for that, hmm
<br>
</div>

<div class='talk op-msg' data-timestamp='1470337920' id='484617'>
<a class='timestamp' href='#484617'><time timestamp='2016-08-04T19:12:00Z'>19:12</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it&#x27;s very last minute though...
<br>
</div>

<div class='talk op-msg' data-timestamp='1470337920' id='484618'>
<a class='timestamp' href='#484618'><time timestamp='2016-08-04T19:12:00Z'>19:12</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
i agree. and seemingly not that important
<br>
</div>

<div class='talk op-msg' data-timestamp='1470337920' id='484619'>
<a class='timestamp' href='#484619'><time timestamp='2016-08-04T19:12:00Z'>19:12</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i wish we thought of this before
<br>
</div>

<div class='talk op-msg' data-timestamp='1470337920' id='484620'>
<a class='timestamp' href='#484620'><time timestamp='2016-08-04T19:12:00Z'>19:12</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but i don&#x27;t think it&#x27;s worth holding up the release for
<br>
</div>

<div class='talk op-msg' data-timestamp='1470337920' id='484621'>
<a class='timestamp' href='#484621'><time timestamp='2016-08-04T19:12:00Z'>19:12</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
it&#x27;s trivial to test I think; if everyone else is too busy, I will try to do it today
<br>
</div>

<div class='talk op-msg' data-timestamp='1470337980' id='484622'>
<a class='timestamp' href='#484622'><time timestamp='2016-08-04T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
gmaxwell: it would mean doing another rc, we could do final next week
<br>
</div>

<div class='talk op-msg' data-timestamp='1470337980' id='484623'>
<a class='timestamp' href='#484623'><time timestamp='2016-08-04T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
that woudl also allow adding segwit downgrade protection sipa is currently discussing. (should be 3loc or so)
<br>
</div>

<div class='talk op-msg' data-timestamp='1470338040' id='484624'>
<a class='timestamp' href='#484624'><time timestamp='2016-08-04T19:14:00Z'>19:14</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I don&#x27;t know if it is that critical though, at some point we should just make the cut and stop slipping
<br>
</div>

<div class='talk op-msg' data-timestamp='1470338040' id='484625'>
<a class='timestamp' href='#484625'><time timestamp='2016-08-04T19:14:00Z'>19:14</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes that is true
<br>
</div>

<div class='talk op-msg' data-timestamp='1470338100' id='484626'>
<a class='timestamp' href='#484626'><time timestamp='2016-08-04T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-4'> * sipa</span>&gt;
notes that we&#x27;re only 3 days past the date in <a href="https://github.com/bitcoin/bitcoin/issues/7679" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/7679</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1470338100' id='484627'>
<a class='timestamp' href='#484627'><time timestamp='2016-08-04T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ideally deadlines don&#x27;t slip, but iirc we&#x27;re much more on track than for earlier major releases
<br>
</div>

<div class='talk op-msg' data-timestamp='1470338100' id='484628'>
<a class='timestamp' href='#484628'><time timestamp='2016-08-04T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Yes. Maybe <a href="https://github.com/bitcoin/bitcoin/pull/8438" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8438</a>  + SW0.13 downgrade compatibility is worth a week delay
<br>
</div>

<div class='talk op-msg' data-timestamp='1470338100' id='484629'>
<a class='timestamp' href='#484629'><time timestamp='2016-08-04T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes, we&#x27;ve caught up a bit with the rc1 slip by doing a fast rc phase
<br>
</div>

<div class='talk op-msg' data-timestamp='1470338100' id='484630'>
<a class='timestamp' href='#484630'><time timestamp='2016-08-04T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-14'> GitHub107</span>&gt;
[bitcoin] luke-jr opened pull request #8458: [0.13] release notes: remove bad advice to switch to blockmaxweight prematurely (master...0.13_relnotes_remove_bad_advice) <a href="https://github.com/bitcoin/bitcoin/pull/8458" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8458</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1470338100' id='484631'>
<a class='timestamp' href='#484631'><time timestamp='2016-08-04T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-6'> btcdrak</span>&gt;
0.13.1 shouldnt be too far behind at least, but my preference is to include it and do another rc
<br>
</div>

<div class='talk op-msg' data-timestamp='1470338100' id='484632'>
<a class='timestamp' href='#484632'><time timestamp='2016-08-04T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
note that I planned amonth for the rc1 phase
<br>
</div>

<div class='talk op-msg' data-timestamp='1470338100' id='484633'>
<a class='timestamp' href='#484633'><time timestamp='2016-08-04T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
eh for the rc phase
<br>
</div>

<div class='talk op-msg' data-timestamp='1470338160' id='484634'>
<a class='timestamp' href='#484634'><time timestamp='2016-08-04T19:16:00Z'>19:16</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
well the downgrade protection cna&#x27;t be postponed to 0.13.1
<br>
</div>

<div class='talk op-msg' data-timestamp='1470338160' id='484635'>
<a class='timestamp' href='#484635'><time timestamp='2016-08-04T19:16:00Z'>19:16</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
that&#x27;d defeat the point
<br>
</div>

<div class='talk op-msg' data-timestamp='1470338160' id='484636'>
<a class='timestamp' href='#484636'><time timestamp='2016-08-04T19:16:00Z'>19:16</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
otherwise that&#x27;d be my preference
<br>
</div>

<div class='talk op-msg' data-timestamp='1470338160' id='484637'>
<a class='timestamp' href='#484637'><time timestamp='2016-08-04T19:16:00Z'>19:16</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
8458 also mentions an idea I had for a 3-liner to make blockmaxsize perform identical to blockmaxweight, if we do another rc.. if that&#x27;s desired, someone please say so and I&#x27;ll do it now
<br>
</div>

<div class='talk op-msg' data-timestamp='1470338220' id='484638'>
<a class='timestamp' href='#484638'><time timestamp='2016-08-04T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
luke-jr: i think you included a few commits too many
<br>
</div>

<div class='talk op-msg' data-timestamp='1470338220' id='484639'>
<a class='timestamp' href='#484639'><time timestamp='2016-08-04T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes now everyone starts with last minute ideas
<br>
</div>

<div class='talk op-msg' data-timestamp='1470338220' id='484640'>
<a class='timestamp' href='#484640'><time timestamp='2016-08-04T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
great
<br>
</div>

<div class='talk op-msg' data-timestamp='1470338220' id='484641'>
<a class='timestamp' href='#484641'><time timestamp='2016-08-04T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
oh crap, I made it against master
<br>
</div>

<div class='talk op-msg' data-timestamp='1470338220' id='484642'>
<a class='timestamp' href='#484642'><time timestamp='2016-08-04T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-11'> GitHub168</span>&gt;
[bitcoin] luke-jr closed pull request #8458: [0.13] release notes: remove bad advice to switch to blockmaxweight prematurely (master...0.13_relnotes_remove_bad_advice) <a href="https://github.com/bitcoin/bitcoin/pull/8458" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8458</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1470338220' id='484643'>
<a class='timestamp' href='#484643'><time timestamp='2016-08-04T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
luke-jr: nah, something changing transaction selection.. not a good thing now.
<br>
</div>

<div class='talk op-msg' data-timestamp='1470338220' id='484644'>
<a class='timestamp' href='#484644'><time timestamp='2016-08-04T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
wumpus: well, it&#x27;s trivial and probably unnecessary; fine if we don&#x27;t do it
<br>
</div>

<div class='talk op-msg' data-timestamp='1470338280' id='484645'>
<a class='timestamp' href='#484645'><time timestamp='2016-08-04T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
#action check if downgrade protection is really needed, or whether it already fails
<br>
</div>

<div class='talk op-msg' data-timestamp='1470338280' id='484646'>
<a class='timestamp' href='#484646'><time timestamp='2016-08-04T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-15'> GitHub10</span>&gt;
[bitcoin] luke-jr opened pull request #8459: [0.13] release-notes: Do not encourage changing blockmaxsize to blockmaxweight (0.13...0.13_relnotes_remove_bad_advice) <a href="https://github.com/bitcoin/bitcoin/pull/8459" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8459</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1470338340' id='484647'>
<a class='timestamp' href='#484647'><time timestamp='2016-08-04T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
other topics?
<br>
</div>

<div class='talk op-msg' data-timestamp='1470338340' id='484648'>
<a class='timestamp' href='#484648'><time timestamp='2016-08-04T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
oh
<br>
</div>

<div class='talk op-msg' data-timestamp='1470338400' id='484649'>
<a class='timestamp' href='#484649'><time timestamp='2016-08-04T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
segwit mempool malleability dos (#8279)
<br>
</div>

<div class='talk op-msg' data-timestamp='1470338400' id='484650'>
<a class='timestamp' href='#484650'><time timestamp='2016-08-04T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
(sec, someone else feel free to go ahead)
<br>
</div>

<div class='talk op-msg' data-timestamp='1470338400' id='484651'>
<a class='timestamp' href='#484651'><time timestamp='2016-08-04T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
#topic segwit mempool malleability dos
<br>
</div>

<div class='talk op-msg' data-timestamp='1470338460' id='484652'>
<a class='timestamp' href='#484652'><time timestamp='2016-08-04T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
wasn&#x27;t that supposed to be solved in #8312?
<br>
</div>

<div class='talk op-msg' data-timestamp='1470338460' id='484653'>
<a class='timestamp' href='#484653'><time timestamp='2016-08-04T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
no, it was only solved for 0.13.0
<br>
</div>

<div class='talk op-msg' data-timestamp='1470338520' id='484654'>
<a class='timestamp' href='#484654'><time timestamp='2016-08-04T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
we need to decide what to do in our first segwit release
<br>
</div>

<div class='talk op-msg' data-timestamp='1470338520' id='484655'>
<a class='timestamp' href='#484655'><time timestamp='2016-08-04T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
so i suggested removing the &quot;transaction failure purely due to witness does not cause rejection cache entry&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1470338520' id='484656'>
<a class='timestamp' href='#484656'><time timestamp='2016-08-04T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
with the rationale that all it does it prevent an attacker from hiding a valid transaction from you in some cases
<br>
</div>

<div class='talk op-msg' data-timestamp='1470338580' id='484657'>
<a class='timestamp' href='#484657'><time timestamp='2016-08-04T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but it doesn&#x27;t prevent it entirely (they can announce and just never send the transaction)
<br>
</div>

<div class='talk op-msg' data-timestamp='1470338580' id='484658'>
<a class='timestamp' href='#484658'><time timestamp='2016-08-04T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sdaftuar notes that the mempool malleability attack only needs a short lived connection, while the never send tx data attack needs a persistent one
<br>
</div>

<div class='talk op-msg' data-timestamp='1470338580' id='484659'>
<a class='timestamp' href='#484659'><time timestamp='2016-08-04T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
and it needs more than one persistent one -- you need several, as we retry tx download from other peers
<br>
</div>

<div class='talk op-msg' data-timestamp='1470338640' id='484660'>
<a class='timestamp' href='#484660'><time timestamp='2016-08-04T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sdaftuar: rejection cache is also temporary, but a node won&#x27;t just re-request...
<br>
</div>

<div class='talk op-msg' data-timestamp='1470338640' id='484661'>
<a class='timestamp' href='#484661'><time timestamp='2016-08-04T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
i think i&#x27;m coming around to the idea of full verification of all txs
<br>
</div>

<div class='talk op-msg' data-timestamp='1470338640' id='484662'>
<a class='timestamp' href='#484662'><time timestamp='2016-08-04T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
morcos: hah
<br>
</div>

<div class='talk op-msg' data-timestamp='1470338640' id='484663'>
<a class='timestamp' href='#484663'><time timestamp='2016-08-04T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
was there rationale to inv&#x27;ing with txid instead of wtxid for segwit nodes?
<br>
</div>

<div class='talk op-msg' data-timestamp='1470338700' id='484664'>
<a class='timestamp' href='#484664'><time timestamp='2016-08-04T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
(just noting that wtxid would be Keep The Same Behavior As Pre SegWit (tm))
<br>
</div>

<div class='talk op-msg' data-timestamp='1470338760' id='484665'>
<a class='timestamp' href='#484665'><time timestamp='2016-08-04T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
BlueMatt: duplicating a lot of logic (mempool, orphan, caches, ...), and causes at least a potential doubling anyway (you could be inved the same tx from a pre-segwit and post-segwit node once with txid and once with wtxid, without being able to tell they&#x27;re the same)
<br>
</div>

<div class='talk op-msg' data-timestamp='1470338820' id='484666'>
<a class='timestamp' href='#484666'><time timestamp='2016-08-04T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
also in the long term, the high malleability of witnesses would let an attacker waste lots of bandwidth. with nodes relaying different witness versions of the same txn among each other.
<br>
</div>

<div class='talk op-msg' data-timestamp='1470338820' id='484667'>
<a class='timestamp' href='#484667'><time timestamp='2016-08-04T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
sipa: if you&#x27;re inved a tx with a witness from a pre-segwit node we get a double anyway since its garbage to us
<br>
</div>

<div class='talk op-msg' data-timestamp='1470338880' id='484668'>
<a class='timestamp' href='#484668'><time timestamp='2016-08-04T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
gmaxwell: same is true for scriptSigs...up to IsStandard limits (which could, in fact, be more easily enforced on witnesses)
<br>
</div>

<div class='talk op-msg' data-timestamp='1470338880' id='484669'>
<a class='timestamp' href='#484669'><time timestamp='2016-08-04T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
BlueMatt: that&#x27;s true but shouldn&#x27;t happen, as pre-segwit nodes shouldn&#x27;t be accepting segwit transactions unless they&#x27;re running with an unusual policy
<br>
</div>

<div class='talk op-msg' data-timestamp='1470338880' id='484670'>
<a class='timestamp' href='#484670'><time timestamp='2016-08-04T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
also, if you have a tx with malleable witness (say, op_drop argument), nodes on the network could modify the witness without invalidating, and you wouldn&#x27;t even be able to tell you already had the transaction before download
<br>
</div>

<div class='talk op-msg' data-timestamp='1470338880' id='484671'>
<a class='timestamp' href='#484671'><time timestamp='2016-08-04T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and you couldn&#x27;t ban them for it, because they&#x27;re all valid transactions
<br>
</div>

<div class='talk op-msg' data-timestamp='1470339000' id='484672'>
<a class='timestamp' href='#484672'><time timestamp='2016-08-04T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
BlueMatt: the kind of isstandard restriction against malleability only works great for limited classes of transactions, at least in the long term that isn&#x27;t great.
<br>
</div>

<div class='talk op-msg' data-timestamp='1470339000' id='484673'>
<a class='timestamp' href='#484673'><time timestamp='2016-08-04T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
I&#x27;m aware
<br>
</div>

<div class='talk op-msg' data-timestamp='1470339000' id='484674'>
<a class='timestamp' href='#484674'><time timestamp='2016-08-04T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
a solution is inving with both txid and wtxid... but if we go that way, we should also adds resource information to all invs (fees, size, sigops, ...)
<br>
</div>

<div class='talk op-msg' data-timestamp='1470339000' id='484675'>
<a class='timestamp' href='#484675'><time timestamp='2016-08-04T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
sipa: I was about to say that...seems like a real solution is inving both...
<br>
</div>

<div class='talk op-msg' data-timestamp='1470339000' id='484676'>
<a class='timestamp' href='#484676'><time timestamp='2016-08-04T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
aren&#x27;t we approachign the size of the tx at that point
<br>
</div>

<div class='talk op-msg' data-timestamp='1470339060' id='484677'>
<a class='timestamp' href='#484677'><time timestamp='2016-08-04T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
morcos: certainly within an order of magnitude
<br>
</div>

<div class='talk op-msg' data-timestamp='1470339060' id='484678'>
<a class='timestamp' href='#484678'><time timestamp='2016-08-04T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
gmaxwell: but IsStandard is allowed to serve the same purpose as always - enforce reasonable limits to ensure code sanity until we&#x27;ve explored edge cases thouroughly
<br>
</div>

<div class='talk op-msg' data-timestamp='1470339060' id='484679'>
<a class='timestamp' href='#484679'><time timestamp='2016-08-04T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
the txid is within an order of magnitude. :P
<br>
</div>

<div class='talk op-msg' data-timestamp='1470339060' id='484680'>
<a class='timestamp' href='#484680'><time timestamp='2016-08-04T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
sipa: i think we might we just end up overfitting current policy rules by adding resource information
<br>
</div>

<div class='talk op-msg' data-timestamp='1470339060' id='484681'>
<a class='timestamp' href='#484681'><time timestamp='2016-08-04T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(for the median size)
<br>
</div>

<div class='talk op-msg' data-timestamp='1470339060' id='484682'>
<a class='timestamp' href='#484682'><time timestamp='2016-08-04T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sdaftuar: &#x27;overfitting&#x27; ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1470339060' id='484683'>
<a class='timestamp' href='#484683'><time timestamp='2016-08-04T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
but future mempool sync these sizes will matter less.
<br>
</div>

<div class='talk op-msg' data-timestamp='1470339120' id='484684'>
<a class='timestamp' href='#484684'><time timestamp='2016-08-04T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sdaftuar: feerate is pretty fundimental, however.
<br>
</div>

<div class='talk op-msg' data-timestamp='1470339120' id='484685'>
<a class='timestamp' href='#484685'><time timestamp='2016-08-04T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
ie policy will change, and the information will be insufficient
<br>
</div>

<div class='talk op-msg' data-timestamp='1470339120' id='484686'>
<a class='timestamp' href='#484686'><time timestamp='2016-08-04T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I think including sigops would be dumb.
<br>
</div>

<div class='talk op-msg' data-timestamp='1470339120' id='484687'>
<a class='timestamp' href='#484687'><time timestamp='2016-08-04T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
gmaxwell: yes, but already handled with less bandwidth by feefilter
<br>
</div>

<div class='talk op-msg' data-timestamp='1470339120' id='484688'>
<a class='timestamp' href='#484688'><time timestamp='2016-08-04T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
if sigops really matter, something is wrong.
<br>
</div>

<div class='talk op-msg' data-timestamp='1470339120' id='484689'>
<a class='timestamp' href='#484689'><time timestamp='2016-08-04T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sdaftuar: indeed. feefilter makes it implicit. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1470339120' id='484690'>
<a class='timestamp' href='#484690'><time timestamp='2016-08-04T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
well, ok... we could send size and fee
<br>
</div>

<div class='talk op-msg' data-timestamp='1470339180' id='484691'>
<a class='timestamp' href='#484691'><time timestamp='2016-08-04T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but that&#x27;s not much better than making feefilter mandatory
<br>
</div>

<div class='talk op-msg' data-timestamp='1470339180' id='484692'>
<a class='timestamp' href='#484692'><time timestamp='2016-08-04T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
except slightly more flexible
<br>
</div>

<div class='talk op-msg' data-timestamp='1470339180' id='484693'>
<a class='timestamp' href='#484693'><time timestamp='2016-08-04T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and sending two hashes is annoying
<br>
</div>

<div class='talk op-msg' data-timestamp='1470339180' id='484694'>
<a class='timestamp' href='#484694'><time timestamp='2016-08-04T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
we&#x27;re in the weeds for this right now.
<br>
</div>

<div class='talk op-msg' data-timestamp='1470339180' id='484695'>
<a class='timestamp' href='#484695'><time timestamp='2016-08-04T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
agree
<br>
</div>

<div class='talk op-msg' data-timestamp='1470339180' id='484696'>
<a class='timestamp' href='#484696'><time timestamp='2016-08-04T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i think there is no simple clear cut solution for this
<br>
</div>

<div class='talk op-msg' data-timestamp='1470339240' id='484697'>
<a class='timestamp' href='#484697'><time timestamp='2016-08-04T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
if we&#x27;re doing set recon it doesn&#x27;t really matter that much how long the identifiers are.
<br>
</div>

<div class='talk op-msg' data-timestamp='1470339240' id='484698'>
<a class='timestamp' href='#484698'><time timestamp='2016-08-04T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but that&#x27;s much further out
<br>
</div>

<div class='talk op-msg' data-timestamp='1470339240' id='484699'>
<a class='timestamp' href='#484699'><time timestamp='2016-08-04T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
if inv&#x27;ing both hashes werent stupid for bandwidth, Id say that was a pretty great solution
<br>
</div>

<div class='talk op-msg' data-timestamp='1470339240' id='484700'>
<a class='timestamp' href='#484700'><time timestamp='2016-08-04T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
true
<br>
</div>

<div class='talk op-msg' data-timestamp='1470339240' id='484701'>
<a class='timestamp' href='#484701'><time timestamp='2016-08-04T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sipa: depends on how long it takes me to convince you to implement the relevant number theory code. :P
<br>
</div>

<div class='talk op-msg' data-timestamp='1470339300' id='484702'>
<a class='timestamp' href='#484702'><time timestamp='2016-08-04T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
In any case, the witnessID really doesn&#x27;t matter for much of anything except rejection here.
<br>
</div>

<div class='talk op-msg' data-timestamp='1470339300' id='484703'>
<a class='timestamp' href='#484703'><time timestamp='2016-08-04T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
alternative idea: make feefilter mandatory for segwit, and just disable rejectioncache...
<br>
</div>

<div class='talk op-msg' data-timestamp='1470339360' id='484704'>
<a class='timestamp' href='#484704'><time timestamp='2016-08-04T19:36:00Z'>19:36</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
rejectioncache only helps in practice against repeated announcements of transactions below your threshold
<br>
</div>

<div class='talk op-msg' data-timestamp='1470339360' id='484705'>
<a class='timestamp' href='#484705'><time timestamp='2016-08-04T19:36:00Z'>19:36</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it&#x27;s not a protection against attacks
<br>
</div>

<div class='talk op-msg' data-timestamp='1470339480' id='484706'>
<a class='timestamp' href='#484706'><time timestamp='2016-08-04T19:38:00Z'>19:38</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
hm, not a bad idea
<br>
</div>

<div class='talk op-msg' data-timestamp='1470339480' id='484707'>
<a class='timestamp' href='#484707'><time timestamp='2016-08-04T19:38:00Z'>19:38</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
feefilter isn&#x27;t even used by default last I knew? (because there is no min fee until the mempool fills)
<br>
</div>

<div class='talk op-msg' data-timestamp='1470339480' id='484708'>
<a class='timestamp' href='#484708'><time timestamp='2016-08-04T19:38:00Z'>19:38</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
luke-jr: good point
<br>
</div>

<div class='talk op-msg' data-timestamp='1470339480' id='484709'>
<a class='timestamp' href='#484709'><time timestamp='2016-08-04T19:38:00Z'>19:38</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
damn, mem^H^H^Hdiskpool was too late :(
<br>
</div>

<div class='talk op-msg' data-timestamp='1470339480' id='484710'>
<a class='timestamp' href='#484710'><time timestamp='2016-08-04T19:38:00Z'>19:38</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
i&#x27;m all for making fee filter mandatory, if i&#x27;d known people would have liked it this much, we should have designed it that way from teh beginning
<br>
</div>

<div class='talk op-msg' data-timestamp='1470339540' id='484711'>
<a class='timestamp' href='#484711'><time timestamp='2016-08-04T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
i&#x27;m a bit worried about removing the rejection cache entirely
<br>
</div>

<div class='talk op-msg' data-timestamp='1470339540' id='484712'>
<a class='timestamp' href='#484712'><time timestamp='2016-08-04T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
luke-jr: there is a minrelayfee.
<br>
</div>

<div class='talk op-msg' data-timestamp='1470339540' id='484713'>
<a class='timestamp' href='#484713'><time timestamp='2016-08-04T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Do we not feefilter on that?
<br>
</div>

<div class='talk op-msg' data-timestamp='1470339540' id='484714'>
<a class='timestamp' href='#484714'><time timestamp='2016-08-04T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
gmaxwell: but we let in free transactions still
<br>
</div>

<div class='talk op-msg' data-timestamp='1470339540' id='484715'>
<a class='timestamp' href='#484715'><time timestamp='2016-08-04T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
oh right.
<br>
</div>

<div class='talk op-msg' data-timestamp='1470339540' id='484716'>
<a class='timestamp' href='#484716'><time timestamp='2016-08-04T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
anytime there is any policy difference between nodes (such as a change in minrelay fee change isDust) then you get txs bouncing aroudn the network between the sets of nodes with different policies
<br>
</div>

<div class='talk op-msg' data-timestamp='1470339600' id='484717'>
<a class='timestamp' href='#484717'><time timestamp='2016-08-04T19:40:00Z'>19:40</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
full validation and distinguishing why rejection happened would help.
<br>
</div>

<div class='talk op-msg' data-timestamp='1470339600' id='484718'>
<a class='timestamp' href='#484718'><time timestamp='2016-08-04T19:40:00Z'>19:40</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
i think its nice to have a sort of protection against that
<br>
</div>

<div class='talk op-msg' data-timestamp='1470339720' id='484719'>
<a class='timestamp' href='#484719'><time timestamp='2016-08-04T19:42:00Z'>19:42</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
we could just have one rejection filter per peer type.
<br>
</div>

<div class='talk op-msg' data-timestamp='1470339720' id='484720'>
<a class='timestamp' href='#484720'><time timestamp='2016-08-04T19:42:00Z'>19:42</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
e.g. rejection filter for non-sw peers and a rejection filter for sw peers.
<br>
</div>

<div class='talk op-msg' data-timestamp='1470339780' id='484721'>
<a class='timestamp' href='#484721'><time timestamp='2016-08-04T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
with sw peers using wtxid invs?
<br>
</div>

<div class='talk op-msg' data-timestamp='1470339780' id='484722'>
<a class='timestamp' href='#484722'><time timestamp='2016-08-04T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sdaftuar: still not enough... you need to be able to tell whether you already have another version of the same tx
<br>
</div>

<div class='talk op-msg' data-timestamp='1470339780' id='484723'>
<a class='timestamp' href='#484723'><time timestamp='2016-08-04T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
even with only sw peers
<br>
</div>

<div class='talk op-msg' data-timestamp='1470339780' id='484724'>
<a class='timestamp' href='#484724'><time timestamp='2016-08-04T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
+full validation.
<br>
</div>

<div class='talk op-msg' data-timestamp='1470339840' id='484725'>
<a class='timestamp' href='#484725'><time timestamp='2016-08-04T19:44:00Z'>19:44</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
sipa: i don&#x27;t see why that&#x27;s needed, any more than we have today with not knowing a tx is a double-spend before processing
<br>
</div>

<div class='talk op-msg' data-timestamp='1470339900' id='484726'>
<a class='timestamp' href='#484726'><time timestamp='2016-08-04T19:45:00Z'>19:45</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sdaftuar: someone connects to a 1000 nodes on the network, and relays a different version of the same valid transaction to each
<br>
</div>

<div class='talk op-msg' data-timestamp='1470339900' id='484727'>
<a class='timestamp' href='#484727'><time timestamp='2016-08-04T19:45:00Z'>19:45</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sdaftuar: now you potentially need to download 1000 transactions
<br>
</div>

<div class='talk op-msg' data-timestamp='1470339960' id='484728'>
<a class='timestamp' href='#484728'><time timestamp='2016-08-04T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
only one of which pays fees
<br>
</div>

<div class='talk op-msg' data-timestamp='1470339960' id='484729'>
<a class='timestamp' href='#484729'><time timestamp='2016-08-04T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
proposal: make feefilter mandatory. fully validate txs so we can punish peers who send us invalid stuff. don&#x27;t put any witness tx in the rejection cache.  then evaluate how useful rejection cache continues to be or whether we have policy violating segwit txs bouncing around
<br>
</div>

<div class='talk op-msg' data-timestamp='1470339960' id='484730'>
<a class='timestamp' href='#484730'><time timestamp='2016-08-04T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
so you mean a 3rd party uses signature malleability to do this?
<br>
</div>

<div class='talk op-msg' data-timestamp='1470339960' id='484731'>
<a class='timestamp' href='#484731'><time timestamp='2016-08-04T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
because the tx originator can already do that
<br>
</div>

<div class='talk op-msg' data-timestamp='1470339960' id='484732'>
<a class='timestamp' href='#484732'><time timestamp='2016-08-04T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sdaftuar: right, the distinction isn&#x27;t all that big
<br>
</div>

<div class='talk op-msg' data-timestamp='1470340020' id='484733'>
<a class='timestamp' href='#484733'><time timestamp='2016-08-04T19:47:00Z'>19:47</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
morcos: i like that... but i think it&#x27;s a big change for 0.13.1
<br>
</div>

<div class='talk op-msg' data-timestamp='1470340020' id='484734'>
<a class='timestamp' href='#484734'><time timestamp='2016-08-04T19:47:00Z'>19:47</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
the distinction though is that an attacker doing it pays fees, eventually runs out of funds, vs an attacker doing it to other peoples&#x27; txn does not ever run out of funds.
<br>
</div>

<div class='talk op-msg' data-timestamp='1470340080' id='484735'>
<a class='timestamp' href='#484735'><time timestamp='2016-08-04T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
sipa: i think if we start with &quot; don&#x27;t put any witness tx in the rejection cache&quot; then we&#x27;ll be ok
<br>
</div>

<div class='talk op-msg' data-timestamp='1470340080' id='484736'>
<a class='timestamp' href='#484736'><time timestamp='2016-08-04T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
morcos: ack
<br>
</div>

<div class='talk op-msg' data-timestamp='1470340080' id='484737'>
<a class='timestamp' href='#484737'><time timestamp='2016-08-04T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
we can see how easy and short he other 2 are
<br>
</div>

<div class='talk op-msg' data-timestamp='1470340200' id='484738'>
<a class='timestamp' href='#484738'><time timestamp='2016-08-04T19:50:00Z'>19:50</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
that concludes the topic for this meeting?
<br>
</div>

<div class='talk op-msg' data-timestamp='1470340200' id='484739'>
<a class='timestamp' href='#484739'><time timestamp='2016-08-04T19:50:00Z'>19:50</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
any other topic proposals? cfields?
<br>
</div>

<div class='talk op-msg' data-timestamp='1470340200' id='484740'>
<a class='timestamp' href='#484740'><time timestamp='2016-08-04T19:50:00Z'>19:50</time></a>
&lt;<span class='nick nick-7'> NicolasDorier</span>&gt;
for information, I created ##libconsensus bikeshedding room about how to handle libconsensus for anybody interested.
<br>
</div>

<div class='talk op-msg' data-timestamp='1470340200' id='484741'>
<a class='timestamp' href='#484741'><time timestamp='2016-08-04T19:50:00Z'>19:50</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
NicolasDorier: haha, i was just about to paste a blurb for that
<br>
</div>

<div class='talk op-msg' data-timestamp='1470340260' id='484742'>
<a class='timestamp' href='#484742'><time timestamp='2016-08-04T19:51:00Z'>19:51</time></a>
&lt;<span class='nick nick-7'> NicolasDorier</span>&gt;
aha I just woke up for that, will go back bed :D
<br>
</div>

<div class='talk op-msg' data-timestamp='1470340260' id='484743'>
<a class='timestamp' href='#484743'><time timestamp='2016-08-04T19:51:00Z'>19:51</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
I have to leave now, but just letting you know salvage is finding lots of &quot;extra&quot; keys vs keys actually in wallet. <b>*shrug*</b>
<br>
</div>

<div class='talk op-msg' data-timestamp='1470340320' id='484744'>
<a class='timestamp' href='#484744'><time timestamp='2016-08-04T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
NicolasDorier and I discussed libconsensus a bit this weekend. We&#x27;re hoping to discuss amongst ourselves, come up with some goals, and present them clearly for easier review
<br>
</div>

<div class='talk op-msg' data-timestamp='1470340320' id='484745'>
<a class='timestamp' href='#484745'><time timestamp='2016-08-04T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
+100
<br>
</div>

<div class='talk op-msg' data-timestamp='1470340320' id='484746'>
<a class='timestamp' href='#484746'><time timestamp='2016-08-04T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
jtimon: ^^
<br>
</div>

<div class='talk op-msg' data-timestamp='1470340320' id='484747'>
<a class='timestamp' href='#484747'><time timestamp='2016-08-04T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
#topic libconsensus
<br>
</div>

<div class='talk op-msg' data-timestamp='1470340320' id='484748'>
<a class='timestamp' href='#484748'><time timestamp='2016-08-04T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
that was it :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1470340320' id='484749'>
<a class='timestamp' href='#484749'><time timestamp='2016-08-04T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-7'> NicolasDorier</span>&gt;
wumpus: we have not started the bikeshedding yet, expect longer fight about it soon :p
<br>
</div>

<div class='talk op-msg' data-timestamp='1470340380' id='484750'>
<a class='timestamp' href='#484750'><time timestamp='2016-08-04T19:53:00Z'>19:53</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
NicolasDorier: IMO just discuss it here
<br>
</div>

<div class='talk op-msg' data-timestamp='1470340380' id='484751'>
<a class='timestamp' href='#484751'><time timestamp='2016-08-04T19:53:00Z'>19:53</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
way too many channels already
<br>
</div>

<div class='talk op-msg' data-timestamp='1470340380' id='484752'>
<a class='timestamp' href='#484752'><time timestamp='2016-08-04T19:53:00Z'>19:53</time></a>
&lt;<span class='nick nick-7'> NicolasDorier</span>&gt;
the reason I prefer a separate channel is so we can keep history and review it more easily
<br>
</div>

<div class='talk op-msg' data-timestamp='1470340380' id='484753'>
<a class='timestamp' href='#484753'><time timestamp='2016-08-04T19:53:00Z'>19:53</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it&#x27;s not like this channel is very busy\
<br>
</div>

<div class='talk op-msg' data-timestamp='1470340380' id='484754'>
<a class='timestamp' href='#484754'><time timestamp='2016-08-04T19:53:00Z'>19:53</time></a>
&lt;<span class='nick nick-7'> NicolasDorier</span>&gt;
things said here get lost quickly enough in the sea of discussion
<br>
</div>

<div class='talk op-msg' data-timestamp='1470340440' id='484755'>
<a class='timestamp' href='#484755'><time timestamp='2016-08-04T19:54:00Z'>19:54</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
that always happens on IRC, if you want discussions with good history/memory then it may be better to use a different discussion mechanism, or keep summaries or such
<br>
</div>

<div class='talk op-msg' data-timestamp='1470340440' id='484756'>
<a class='timestamp' href='#484756'><time timestamp='2016-08-04T19:54:00Z'>19:54</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i think having a separate place to &#x27;form&#x27; a proposal makes sense
<br>
</div>

<div class='talk op-msg' data-timestamp='1470340500' id='484757'>
<a class='timestamp' href='#484757'><time timestamp='2016-08-04T19:55:00Z'>19:55</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
#bitcoin-dev is also fairly quiet
<br>
</div>

<div class='talk op-msg' data-timestamp='1470340500' id='484758'>
<a class='timestamp' href='#484758'><time timestamp='2016-08-04T19:55:00Z'>19:55</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
involving the whole world in a design rarely leads to something useful
<br>
</div>

<div class='talk op-msg' data-timestamp='1470340500' id='484759'>
<a class='timestamp' href='#484759'><time timestamp='2016-08-04T19:55:00Z'>19:55</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
from what I talked with NicolasDorier in previous times, the current goal is to complete a verifyBlock without necessarily exposing it in libconsensus at first
<br>
</div>

<div class='talk op-msg' data-timestamp='1470340500' id='484760'>
<a class='timestamp' href='#484760'><time timestamp='2016-08-04T19:55:00Z'>19:55</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
that&#x27;s true, as long as you can get the people you want to pay attention to join it&#x27;s fine
<br>
</div>

<div class='talk op-msg' data-timestamp='1470340500' id='484761'>
<a class='timestamp' href='#484761'><time timestamp='2016-08-04T19:55:00Z'>19:55</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
sometimes it&#x27;s good to not have too many people there
<br>
</div>

<div class='talk op-msg' data-timestamp='1470340500' id='484762'>
<a class='timestamp' href='#484762'><time timestamp='2016-08-04T19:55:00Z'>19:55</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
but speaking for myself, I&#x27;m already in so many channels, I have a hard time following more
<br>
</div>

<div class='talk op-msg' data-timestamp='1470340500' id='484763'>
<a class='timestamp' href='#484763'><time timestamp='2016-08-04T19:55:00Z'>19:55</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
to be clear, the design will be presented to the bigger group for feedback and not set in stone
<br>
</div>

<div class='talk op-msg' data-timestamp='1470340500' id='484764'>
<a class='timestamp' href='#484764'><time timestamp='2016-08-04T19:55:00Z'>19:55</time></a>
&lt;<span class='nick nick-6'> btcdrak</span>&gt;
yeah ack on limiting channel proliferation, also it is more open in a logged channel
<br>
</div>

<div class='talk op-msg' data-timestamp='1470340560' id='484765'>
<a class='timestamp' href='#484765'><time timestamp='2016-08-04T19:56:00Z'>19:56</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
i don&#x27;t plan on joining the libconsensus subgroup, but i think having a focused small group will make progress actually happen
<br>
</div>

<div class='talk op-msg' data-timestamp='1470340560' id='484766'>
<a class='timestamp' href='#484766'><time timestamp='2016-08-04T19:56:00Z'>19:56</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
I&#x27;m with wumpus...too many channels these days (not that I&#x27;ve been paying enough attention to have much of a voice, but still)
<br>
</div>

<div class='talk op-msg' data-timestamp='1470340560' id='484767'>
<a class='timestamp' href='#484767'><time timestamp='2016-08-04T19:56:00Z'>19:56</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
then again that&#x27;s up to you, doesn&#x27;t need to be a discussion topic here to decide onthat.
<br>
</div>

<div class='talk op-msg' data-timestamp='1470340560' id='484768'>
<a class='timestamp' href='#484768'><time timestamp='2016-08-04T19:56:00Z'>19:56</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
I don&#x27;t think creating a new channel or not is going to be important either way...
<br>
</div>

<div class='talk op-msg' data-timestamp='1470340560' id='484769'>
<a class='timestamp' href='#484769'><time timestamp='2016-08-04T19:56:00Z'>19:56</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
morcos: sure. doesn&#x27;t matter to me where the discussion takes place, just hoping to organize the discussion/planning a bit.
<br>
</div>

<div class='talk op-msg' data-timestamp='1470340620' id='484770'>
<a class='timestamp' href='#484770'><time timestamp='2016-08-04T19:57:00Z'>19:57</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
any other topics? 4 minutes to go
<br>
</div>

<div class='talk op-msg' data-timestamp='1470340620' id='484771'>
<a class='timestamp' href='#484771'><time timestamp='2016-08-04T19:57:00Z'>19:57</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i&#x27;m in favor of having it in a separate channel because i prefer not to see all discussions around it before there is clean design :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1470340620' id='484772'>
<a class='timestamp' href='#484772'><time timestamp='2016-08-04T19:57:00Z'>19:57</time></a>
&lt;<span class='nick nick-7'> NicolasDorier</span>&gt;
bikeshedding about the creation of the channel libconsensus announce the color of the future bikeshedding on the actual code ;)
<br>
</div>

<div class='talk op-msg' data-timestamp='1470340620' id='484773'>
<a class='timestamp' href='#484773'><time timestamp='2016-08-04T19:57:00Z'>19:57</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
NicolasDorier: exactly
<br>
</div>

<div class='talk op-msg' data-timestamp='1470340620' id='484774'>
<a class='timestamp' href='#484774'><time timestamp='2016-08-04T19:57:00Z'>19:57</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
let&#x27;s stop that
<br>
</div>

<div class='talk op-msg' data-timestamp='1470340620' id='484775'>
<a class='timestamp' href='#484775'><time timestamp='2016-08-04T19:57:00Z'>19:57</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
heh
<br>
</div>

<div class='talk op-msg' data-timestamp='1470340620' id='484776'>
<a class='timestamp' href='#484776'><time timestamp='2016-08-04T19:57:00Z'>19:57</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
haha
<br>
</div>

<div class='talk op-msg' data-timestamp='1470340680' id='484777'>
<a class='timestamp' href='#484777'><time timestamp='2016-08-04T19:58:00Z'>19:58</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
3 minutes
<br>
</div>

<div class='talk op-msg' data-timestamp='1470340680' id='484778'>
<a class='timestamp' href='#484778'><time timestamp='2016-08-04T19:58:00Z'>19:58</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
cfields: NicolasDorier if you can share the goals
<br>
</div>

<div class='talk op-msg' data-timestamp='1470340680' id='484779'>
<a class='timestamp' href='#484779'><time timestamp='2016-08-04T19:58:00Z'>19:58</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
looks like we&#x27;re done
<br>
</div>

<div class='talk op-msg' data-timestamp='1470340680' id='484780'>
<a class='timestamp' href='#484780'><time timestamp='2016-08-04T19:58:00Z'>19:58</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
#endmeeting
<br>
</div>

<div class='talk op-msg' data-timestamp='1470340680' id='484781'>
<a class='timestamp' href='#484781'><time timestamp='2016-08-04T19:58:00Z'>19:58</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Meeting ended Thu Aug  4 19:58:24 2016 UTC.  Information about MeetBot at <a href="http://wiki.debian.org/MeetBot" class="link" target="_blank">http://wiki.debian.org/MeetBot</a> . (v 0.1.4)
<br>
</div>

<div class='talk op-msg' data-timestamp='1470340680' id='484782'>
<a class='timestamp' href='#484782'><time timestamp='2016-08-04T19:58:00Z'>19:58</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Minutes:        <a href="http://www.erisian.com.au/meetbot/bitcoin-core-dev/2016/bitcoin-core-dev.2016-08-04-19.00.html" class="link" target="_blank">http://www.erisian.com.au/meetbot/bitcoin-core-dev/2016/bitcoin-core-dev.2016-08-04-19.00.html</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1470340680' id='484783'>
<a class='timestamp' href='#484783'><time timestamp='2016-08-04T19:58:00Z'>19:58</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Minutes (text): <a href="http://www.erisian.com.au/meetbot/bitcoin-core-dev/2016/bitcoin-core-dev.2016-08-04-19.00.txt" class="link" target="_blank">http://www.erisian.com.au/meetbot/bitcoin-core-dev/2016/bitcoin-core-dev.2016-08-04-19.00.txt</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1470340680' id='484784'>
<a class='timestamp' href='#484784'><time timestamp='2016-08-04T19:58:00Z'>19:58</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Log:            <a href="http://www.erisian.com.au/meetbot/bitcoin-core-dev/2016/bitcoin-core-dev.2016-08-04-19.00.log.html" class="link" target="_blank">http://www.erisian.com.au/meetbot/bitcoin-core-dev/2016/bitcoin-core-dev.2016-08-04-19.00.log.html</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1470340740' id='484785'>
<a class='timestamp' href='#484785'><time timestamp='2016-08-04T19:59:00Z'>19:59</time></a>
&lt;<span class='nick nick-7'> NicolasDorier</span>&gt;
I have a code question: I&#x27;m working on a commit similar to one from jtimon, he is removing one check here <a href="https://github.com/jtimon/bitcoin/compare/remove-ism...consensus-post-remove-ism#diff-7ec3c68a81efff79b6ca22ac1f1eabbaL2353" class="link" target="_blank">https://github.com/jtimon/bitcoin/compare/remove-ism...consensus-post-remove-ism#diff-7ec3c68a81efff79b6ca22ac1f1eabbaL2353</a> about BIP30, does somebody know if it is actually safe to do so ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1470340800' id='484786'>
<a class='timestamp' href='#484786'><time timestamp='2016-08-04T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
jtimon: i think everyone has different goals in mind. the point of organizing is to settle on something and work towards it. i can catch you up on our discussions this weekend, though ofc you&#x27;ve spent more time on it than anyone
<br>
</div>

<div class='talk op-msg' data-timestamp='1470340860' id='484787'>
<a class='timestamp' href='#484787'><time timestamp='2016-08-04T20:01:00Z'>20:01</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
cfields: well, a small summary of the &quot;goals in common&quot; or &quot;easy to achieve&quot; goals or something would be something
<br>
</div>

<div class='talk op-msg' data-timestamp='1470340920' id='484788'>
<a class='timestamp' href='#484788'><time timestamp='2016-08-04T20:02:00Z'>20:02</time></a>
&lt;<span class='nick nick-7'> NicolasDorier</span>&gt;
jtimon: I think we still have also to discover what the goals in common are. Which is why I think we can discuss it in the channel. I guess if the three of us agree (plus anybody in the channel), there is good chance the rest agree too
<br>
</div>

<div class='talk op-msg' data-timestamp='1470340920' id='484789'>
<a class='timestamp' href='#484789'><time timestamp='2016-08-04T20:02:00Z'>20:02</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
NicolasDorier: See this comment from sdaftuar: <a href="https://github.com/bitcoin/bitcoin/pull/8391#issuecomment-237584871" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8391#issuecomment-237584871</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1470340980' id='484790'>
<a class='timestamp' href='#484790'><time timestamp='2016-08-04T20:03:00Z'>20:03</time></a>
&lt;<span class='nick nick-7'> NicolasDorier</span>&gt;
correct, I&#x27;ll write a bip
<br>
</div>

<div class='talk op-msg' data-timestamp='1470341040' id='484791'>
<a class='timestamp' href='#484791'><time timestamp='2016-08-04T20:04:00Z'>20:04</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
NicolasDorier: I may not be so optimist, but fair enough, I mean, great. do you guys have time now to give me a little summary of your discussions so far now (in the other channel)? 
<br>
</div>

<div class='talk op-msg' data-timestamp='1470341040' id='484792'>
<a class='timestamp' href='#484792'><time timestamp='2016-08-04T20:04:00Z'>20:04</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
It&#x27;s related.  The point is once you are enforcing BIP34 then BIP30 is unnecessary except for historical violations.  We&#x27;re changing the rule to have BIP34 be enforced as of a certain height, however, it kind of requires that the chain be the same otherwise we dont&#x27; know what the historical violations are or might be
<br>
</div>

<div class='talk op-msg' data-timestamp='1470341040' id='484793'>
<a class='timestamp' href='#484793'><time timestamp='2016-08-04T20:04:00Z'>20:04</time></a>
&lt;<span class='nick nick-7'> NicolasDorier</span>&gt;
yes, I will jtimon, but later I&#x27;ll go back bed soon (5am here)
<br>
</div>

<div class='talk op-msg' data-timestamp='1470341100' id='484794'>
<a class='timestamp' href='#484794'><time timestamp='2016-08-04T20:05:00Z'>20:05</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
yeah, I say so in my commit, it is unnecessary because we&#x27;re not using ISM anymore
<br>
</div>

<div class='talk op-msg' data-timestamp='1470341160' id='484795'>
<a class='timestamp' href='#484795'><time timestamp='2016-08-04T20:06:00Z'>20:06</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
oh, no worries, another time will be fine
<br>
</div>

<div class='talk op-msg' data-timestamp='1470341220' id='484796'>
<a class='timestamp' href='#484796'><time timestamp='2016-08-04T20:07:00Z'>20:07</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
jtimon: same, in the middle of several things atm. maybe some time tomorrow?
<br>
</div>

<div class='talk op-msg' data-timestamp='1470341220' id='484797'>
<a class='timestamp' href='#484797'><time timestamp='2016-08-04T20:07:00Z'>20:07</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
sure, no problem
<br>
</div>

<div class='talk op-msg' data-timestamp='1470341220' id='484798'>
<a class='timestamp' href='#484798'><time timestamp='2016-08-04T20:07:00Z'>20:07</time></a>
&lt;<span class='nick nick-7'> NicolasDorier</span>&gt;
morcos: so basically we could remove BIP30 altogether as this is unlikely another chain manage to catch up the amount of work of the current one
<br>
</div>

<div class='talk op-msg' data-timestamp='1470341280' id='484799'>
<a class='timestamp' href='#484799'><time timestamp='2016-08-04T20:08:00Z'>20:08</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
isn&#x27;t there some interaction between BIP30 and the no-overwrite optimization in coinscache?
<br>
</div>

<div class='talk op-msg' data-timestamp='1470341280' id='484800'>
<a class='timestamp' href='#484800'><time timestamp='2016-08-04T20:08:00Z'>20:08</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
which needs a BIP30 check during IBD
<br>
</div>

<div class='talk op-msg' data-timestamp='1470341340' id='484801'>
<a class='timestamp' href='#484801'><time timestamp='2016-08-04T20:09:00Z'>20:09</time></a>
&lt;<span class='nick nick-7'> NicolasDorier</span>&gt;
mmh I think I won&#x27;t make any change about it after all... I&#x27;m not confident of this thing
<br>
</div>

<div class='talk op-msg' data-timestamp='1470341340' id='484802'>
<a class='timestamp' href='#484802'><time timestamp='2016-08-04T20:09:00Z'>20:09</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
NicolasDorier: yeah we need it on IBD
<br>
</div>

<div class='talk op-msg' data-timestamp='1470341340' id='484803'>
<a class='timestamp' href='#484803'><time timestamp='2016-08-04T20:09:00Z'>20:09</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
hmm this brings up a kind of good point
<br>
</div>

<div class='talk op-msg' data-timestamp='1470341340' id='484804'>
<a class='timestamp' href='#484804'><time timestamp='2016-08-04T20:09:00Z'>20:09</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
you can&#x27;t remove the BIP34Hash unless you are going to checkpoint the chain at that point
<br>
</div>

<div class='talk op-msg' data-timestamp='1470341400' id='484805'>
<a class='timestamp' href='#484805'><time timestamp='2016-08-04T20:10:00Z'>20:10</time></a>
&lt;<span class='nick nick-7'> NicolasDorier</span>&gt;
ok, so I will not touch it
<br>
</div>

<div class='talk op-msg' data-timestamp='1470341460' id='484806'>
<a class='timestamp' href='#484806'><time timestamp='2016-08-04T20:11:00Z'>20:11</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
you cannot remove it completely, but when you use bip34 you don&#x27;t need to do it (this is current behaviour)
<br>
</div>

<div class='talk op-msg' data-timestamp='1470341460' id='484807'>
<a class='timestamp' href='#484807'><time timestamp='2016-08-04T20:11:00Z'>20:11</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
jtimon: no, when you use BIP34 on the existing BIP34 hash then you dont&#x27; need to do it
<br>
</div>

<div class='talk op-msg' data-timestamp='1470341460' id='484808'>
<a class='timestamp' href='#484808'><time timestamp='2016-08-04T20:11:00Z'>20:11</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
if you activated BIP34 at the same height on a different chain, it would be unclear whether yous till needed to do BIP30
<br>
</div>

<div class='talk op-msg' data-timestamp='1470341460' id='484809'>
<a class='timestamp' href='#484809'><time timestamp='2016-08-04T20:11:00Z'>20:11</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
morcos: only one block?
<br>
</div>

<div class='talk op-msg' data-timestamp='1470341460' id='484810'>
<a class='timestamp' href='#484810'><time timestamp='2016-08-04T20:11:00Z'>20:11</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
depends on the status of historical violations on that chain
<br>
</div>

<div class='talk op-msg' data-timestamp='1470341520' id='484811'>
<a class='timestamp' href='#484811'><time timestamp='2016-08-04T20:12:00Z'>20:12</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
no on all future blocks
<br>
</div>

<div class='talk op-msg' data-timestamp='1470341580' id='484812'>
<a class='timestamp' href='#484812'><time timestamp='2016-08-04T20:13:00Z'>20:13</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
<a href="https://github.com/jtimon/bitcoin/commit/273e27bd0c086f5ba20cebc2f5ec9e24f9d79015" class="link" target="_blank">https://github.com/jtimon/bitcoin/commit/273e27bd0c086f5ba20cebc2f5ec9e24f9d79015</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1470341580' id='484813'>
<a class='timestamp' href='#484813'><time timestamp='2016-08-04T20:13:00Z'>20:13</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
i can&#x27;t remember off the top of my head, but if in an alternate chain you spent coinbase A before you generate coinbase A&#x27; then you activated BIP34, then you still need BIP30 to make sure the spend of A&#x27; doesn&#x27;t conflict with the spend of A
<br>
</div>

<div class='talk op-msg' data-timestamp='1470341580' id='484814'>
<a class='timestamp' href='#484814'><time timestamp='2016-08-04T20:13:00Z'>20:13</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
but in the BIP34hash chain we know that didn&#x27;t happen
<br>
</div>

<div class='talk op-msg' data-timestamp='1470341580' id='484815'>
<a class='timestamp' href='#484815'><time timestamp='2016-08-04T20:13:00Z'>20:13</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
do you think that commit is incorrect after removing ISM?
<br>
</div>

<div class='talk op-msg' data-timestamp='1470341640' id='484816'>
<a class='timestamp' href='#484816'><time timestamp='2016-08-04T20:14:00Z'>20:14</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
jtimon: its incorrect in that it&#x27;ll be broken code on a mainnet chain that doesn&#x27;t contain BIP34hash
<br>
</div>

<div class='talk op-msg' data-timestamp='1470341640' id='484817'>
<a class='timestamp' href='#484817'><time timestamp='2016-08-04T20:14:00Z'>20:14</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
so who knows what happens if someone feeds you such a chain on startup
<br>
</div>

<div class='talk op-msg' data-timestamp='1470341700' id='484818'>
<a class='timestamp' href='#484818'><time timestamp='2016-08-04T20:15:00Z'>20:15</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
I think it will only fail if we reorg below BIP34Height (227931)
<br>
</div>

<div class='talk op-msg' data-timestamp='1470341700' id='484819'>
<a class='timestamp' href='#484819'><time timestamp='2016-08-04T20:15:00Z'>20:15</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
oh wait
<br>
</div>

<div class='talk op-msg' data-timestamp='1470341700' id='484820'>
<a class='timestamp' href='#484820'><time timestamp='2016-08-04T20:15:00Z'>20:15</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
maybe because BIP30 is enforced for everythign except those two exceptions you&#x27;re ok
<br>
</div>

<div class='talk op-msg' data-timestamp='1470341700' id='484821'>
<a class='timestamp' href='#484821'><time timestamp='2016-08-04T20:15:00Z'>20:15</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
and what we have now, if it reorgs that long, without code for ISM...what? bip34 is going to be activated at that height no matter what
<br>
</div>

<div class='talk op-msg' data-timestamp='1470341760' id='484822'>
<a class='timestamp' href='#484822'><time timestamp='2016-08-04T20:16:00Z'>20:16</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
well, I wouldn&#x27;t call them exceptions
<br>
</div>

<div class='talk op-msg' data-timestamp='1470341820' id='484823'>
<a class='timestamp' href='#484823'><time timestamp='2016-08-04T20:17:00Z'>20:17</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
pindexBIP34height will only be NULL if pindex-&gt;pprev-&gt;GetAncestor(227931) returns null
<br>
</div>

<div class='talk op-msg' data-timestamp='1470341880' id='484824'>
<a class='timestamp' href='#484824'><time timestamp='2016-08-04T20:18:00Z'>20:18</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
what is doing now is that if you are above that height and the block you activated bip34 in is 227931, then don&#x27;t enforce bip30 since bip34 is enforced
<br>
</div>

<div class='talk op-msg' data-timestamp='1470341940' id='484825'>
<a class='timestamp' href='#484825'><time timestamp='2016-08-04T20:19:00Z'>20:19</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
in a reorg that deep, if it was activated with another block, then bip30 will be checked always regardless of bip34 activation (no optimization, never)
<br>
</div>

<div class='talk op-msg' data-timestamp='1470341940' id='484826'>
<a class='timestamp' href='#484826'><time timestamp='2016-08-04T20:19:00Z'>20:19</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
jtimon: i honestly don&#x27;t think its worth doing.  but if you really want to, i will take the time to think about it.  there are a lot of issues, down to when you flush your cache.  but please make an actual PR for me to review that other people also want to merge
<br>
</div>

<div class='talk op-msg' data-timestamp='1470341940' id='484827'>
<a class='timestamp' href='#484827'><time timestamp='2016-08-04T20:19:00Z'>20:19</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
with my suggested change, it would always do the optimization after bip34 activation height, even after such a long reorg
<br>
</div>

<div class='talk op-msg' data-timestamp='1470342000' id='484828'>
<a class='timestamp' href='#484828'><time timestamp='2016-08-04T20:20:00Z'>20:20</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
morcos: absolutely, no problem
<br>
</div>

<div class='talk op-msg' data-timestamp='1470342060' id='484829'>
<a class='timestamp' href='#484829'><time timestamp='2016-08-04T20:21:00Z'>20:21</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
jtimon: ok, i think i got the problem
<br>
</div>

<div class='talk op-msg' data-timestamp='1470342060' id='484830'>
<a class='timestamp' href='#484830'><time timestamp='2016-08-04T20:21:00Z'>20:21</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
well, if you tell me now I won&#x27;t open the PR :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1470342060' id='484831'>
<a class='timestamp' href='#484831'><time timestamp='2016-08-04T20:21:00Z'>20:21</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
imagine that you reorg to height 90000 (or are just fed an alternate chain on startup)
<br>
</div>

<div class='talk op-msg' data-timestamp='1470342120' id='484832'>
<a class='timestamp' href='#484832'><time timestamp='2016-08-04T20:22:00Z'>20:22</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
ah shoot....
<br>
</div>

<div class='talk op-msg' data-timestamp='1470342120' id='484833'>
<a class='timestamp' href='#484833'><time timestamp='2016-08-04T20:22:00Z'>20:22</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
nm
<br>
</div>

<div class='talk op-msg' data-timestamp='1470342120' id='484834'>
<a class='timestamp' href='#484834'><time timestamp='2016-08-04T20:22:00Z'>20:22</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
wait
<br>
</div>

<div class='talk op-msg' data-timestamp='1470342120' id='484835'>
<a class='timestamp' href='#484835'><time timestamp='2016-08-04T20:22:00Z'>20:22</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1470342120' id='484836'>
<a class='timestamp' href='#484836'><time timestamp='2016-08-04T20:22:00Z'>20:22</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
thats it
<br>
</div>

<div class='talk op-msg' data-timestamp='1470342120' id='484837'>
<a class='timestamp' href='#484837'><time timestamp='2016-08-04T20:22:00Z'>20:22</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
so confusing
<br>
</div>

<div class='talk op-msg' data-timestamp='1470342120' id='484838'>
<a class='timestamp' href='#484838'><time timestamp='2016-08-04T20:22:00Z'>20:22</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
let&#x27;s do one thing at a time, yep, you reorg to 9000 or you fed an alternate chain?
<br>
</div>

<div class='talk op-msg' data-timestamp='1470342180' id='484839'>
<a class='timestamp' href='#484839'><time timestamp='2016-08-04T20:23:00Z'>20:23</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
either, same affect you start processing different blocks starting at 90000
<br>
</div>

<div class='talk op-msg' data-timestamp='1470342180' id='484840'>
<a class='timestamp' href='#484840'><time timestamp='2016-08-04T20:23:00Z'>20:23</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
think the worse case: you reorg to block 1
<br>
</div>

<div class='talk op-msg' data-timestamp='1470342180' id='484841'>
<a class='timestamp' href='#484841'><time timestamp='2016-08-04T20:23:00Z'>20:23</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
thats after coinbase A was created but before its duplicate A&#x27; was created
<br>
</div>

<div class='talk op-msg' data-timestamp='1470342180' id='484842'>
<a class='timestamp' href='#484842'><time timestamp='2016-08-04T20:23:00Z'>20:23</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
now you spend coinbase A
<br>
</div>

<div class='talk op-msg' data-timestamp='1470342240' id='484843'>
<a class='timestamp' href='#484843'><time timestamp='2016-08-04T20:24:00Z'>20:24</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
bip 30 is checked before bip34 always except the exceptions
<br>
</div>

<div class='talk op-msg' data-timestamp='1470342240' id='484844'>
<a class='timestamp' href='#484844'><time timestamp='2016-08-04T20:24:00Z'>20:24</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
after bip34 activation, it is no longer necessary
<br>
</div>

<div class='talk op-msg' data-timestamp='1470342240' id='484845'>
<a class='timestamp' href='#484845'><time timestamp='2016-08-04T20:24:00Z'>20:24</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
then you create coinbase A&#x27;  (allowed b/c it doesn&#x27;t violate BIP30 , A is spent, and BIP34 is not active yet)
<br>
</div>

<div class='talk op-msg' data-timestamp='1470342240' id='484846'>
<a class='timestamp' href='#484846'><time timestamp='2016-08-04T20:24:00Z'>20:24</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
now you activate BIP34 at height 227931
<br>
</div>

<div class='talk op-msg' data-timestamp='1470342300' id='484847'>
<a class='timestamp' href='#484847'><time timestamp='2016-08-04T20:25:00Z'>20:25</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
then you can spend A&#x27; and create the same txid as your spend of A b/c you aren&#x27;t enforcing BIP30 any more
<br>
</div>

<div class='talk op-msg' data-timestamp='1470342300' id='484848'>
<a class='timestamp' href='#484848'><time timestamp='2016-08-04T20:25:00Z'>20:25</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
yes, from now on you can stop checking bip30 in new blocks
<br>
</div>

<div class='talk op-msg' data-timestamp='1470342300' id='484849'>
<a class='timestamp' href='#484849'><time timestamp='2016-08-04T20:25:00Z'>20:25</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
no you can&#x27;t 
<br>
</div>

<div class='talk op-msg' data-timestamp='1470342300' id='484850'>
<a class='timestamp' href='#484850'><time timestamp='2016-08-04T20:25:00Z'>20:25</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
spending A&#x27; would be allowed and would create a duplicate txid of the spend of A
<br>
</div>

<div class='talk op-msg' data-timestamp='1470342420' id='484851'>
<a class='timestamp' href='#484851'><time timestamp='2016-08-04T20:27:00Z'>20:27</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
mhmm, whay they cannot today?
<br>
</div>

<div class='talk op-msg' data-timestamp='1470342420' id='484852'>
<a class='timestamp' href='#484852'><time timestamp='2016-08-04T20:27:00Z'>20:27</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
why
<br>
</div>

<div class='talk op-msg' data-timestamp='1470342420' id='484853'>
<a class='timestamp' href='#484853'><time timestamp='2016-08-04T20:27:00Z'>20:27</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
because A&#x27; the coinbase was created before A was spent
<br>
</div>

<div class='talk op-msg' data-timestamp='1470342420' id='484854'>
<a class='timestamp' href='#484854'><time timestamp='2016-08-04T20:27:00Z'>20:27</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
so A&#x27; overwrote A already
<br>
</div>

<div class='talk op-msg' data-timestamp='1470342480' id='484855'>
<a class='timestamp' href='#484855'><time timestamp='2016-08-04T20:28:00Z'>20:28</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
but if in an alternate history you spent A to B first
<br>
</div>

<div class='talk op-msg' data-timestamp='1470342480' id='484856'>
<a class='timestamp' href='#484856'><time timestamp='2016-08-04T20:28:00Z'>20:28</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
doesn&#x27;t include the height make it very difficult to collide with coinbases before 227931 ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1470342480' id='484857'>
<a class='timestamp' href='#484857'><time timestamp='2016-08-04T20:28:00Z'>20:28</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
then you have to worry about B&#x27; and B
<br>
</div>

<div class='talk op-msg' data-timestamp='1470342480' id='484858'>
<a class='timestamp' href='#484858'><time timestamp='2016-08-04T20:28:00Z'>20:28</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
instead of A&#x27;
<br>
</div>

<div class='talk op-msg' data-timestamp='1470342480' id='484859'>
<a class='timestamp' href='#484859'><time timestamp='2016-08-04T20:28:00Z'>20:28</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
think of all the coinbases before 227931
<br>
</div>

<div class='talk op-msg' data-timestamp='1470342540' id='484860'>
<a class='timestamp' href='#484860'><time timestamp='2016-08-04T20:29:00Z'>20:29</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
no? you don&#x27;t want the same as neither of those
<br>
</div>

<div class='talk op-msg' data-timestamp='1470342540' id='484861'>
<a class='timestamp' href='#484861'><time timestamp='2016-08-04T20:29:00Z'>20:29</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
you can try this on regtest..   enforce BIP30 only up to height 100 and BIP34 only starting at height 100.   create some coinbases, spend them and then create duplicates before 100.  
<br>
</div>

<div class='talk op-msg' data-timestamp='1470342540' id='484862'>
<a class='timestamp' href='#484862'><time timestamp='2016-08-04T20:29:00Z'>20:29</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
that&#x27;s with or without a reorg
<br>
</div>

<div class='talk op-msg' data-timestamp='1470342540' id='484863'>
<a class='timestamp' href='#484863'><time timestamp='2016-08-04T20:29:00Z'>20:29</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
then after 100 make them colide
<br>
</div>

<div class='talk op-msg' data-timestamp='1470342540' id='484864'>
<a class='timestamp' href='#484864'><time timestamp='2016-08-04T20:29:00Z'>20:29</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
Is there a simple way to serialize a CKey? Doesn&#x27;t seem to have the SERIALIZE_METHODS macro
<br>
</div>

<div class='talk op-msg' data-timestamp='1470342600' id='484865'>
<a class='timestamp' href='#484865'><time timestamp='2016-08-04T20:30:00Z'>20:30</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
morcos: yeah, you could &quot;attack regtest&quot; that way...
<br>
</div>

<div class='talk op-msg' data-timestamp='1470342660' id='484866'>
<a class='timestamp' href='#484866'><time timestamp='2016-08-04T20:31:00Z'>20:31</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
well if you change the code, someone could feed you a messed up mainnet chain that way 
<br>
</div>

<div class='talk op-msg' data-timestamp='1470342660' id='484867'>
<a class='timestamp' href='#484867'><time timestamp='2016-08-04T20:31:00Z'>20:31</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
Chris_Stewart_5: historically, it&#x27;s converted from/to a CPrivKey for serialization
<br>
</div>

<div class='talk op-msg' data-timestamp='1470342660' id='484868'>
<a class='timestamp' href='#484868'><time timestamp='2016-08-04T20:31:00Z'>20:31</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
I thought we were talking about mainnet
<br>
</div>

<div class='talk op-msg' data-timestamp='1470342720' id='484869'>
<a class='timestamp' href='#484869'><time timestamp='2016-08-04T20:32:00Z'>20:32</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
jtimon: yes so on mainnet, you&#x27;d have to have a REALLY deep reorg, below 227931
<br>
</div>

<div class='talk op-msg' data-timestamp='1470342720' id='484870'>
<a class='timestamp' href='#484870'><time timestamp='2016-08-04T20:32:00Z'>20:32</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
sipa: Is there a simple utility function serialize CPrivKey? Can it just be passed to HexStr? 
<br>
</div>

<div class='talk op-msg' data-timestamp='1470342780' id='484871'>
<a class='timestamp' href='#484871'><time timestamp='2016-08-04T20:33:00Z'>20:33</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
or if somoene just fed you an alternate low work chain then i&#x27;m not really sure what would happen, its possible that your utxo could get into a messed up state than you wouldn&#x27;t be able to fix when you found out about the real chain
<br>
</div>

<div class='talk op-msg' data-timestamp='1470342780' id='484872'>
<a class='timestamp' href='#484872'><time timestamp='2016-08-04T20:33:00Z'>20:33</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
and then a node without my change would always check bip30, even after bip34 activation, is that the desired behaviour?
<br>
</div>

<div class='talk op-msg' data-timestamp='1470342780' id='484873'>
<a class='timestamp' href='#484873'><time timestamp='2016-08-04T20:33:00Z'>20:33</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
Chris_Stewart_5: CKey also has begin() and end(), to it can be passed to HexStr directly
<br>
</div>

<div class='talk op-msg' data-timestamp='1470342780' id='484874'>
<a class='timestamp' href='#484874'><time timestamp='2016-08-04T20:33:00Z'>20:33</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
Chris_Stewart_5: and has a constructor that takes a byte array
<br>
</div>

<div class='talk op-msg' data-timestamp='1470342780' id='484875'>
<a class='timestamp' href='#484875'><time timestamp='2016-08-04T20:33:00Z'>20:33</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
my node would not check bip30 after bip34, even after the reorg
<br>
</div>

<div class='talk op-msg' data-timestamp='1470342840' id='484876'>
<a class='timestamp' href='#484876'><time timestamp='2016-08-04T20:34:00Z'>20:34</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
jtimon: yes you can either always check BIP30 even after BIP34, or you can examine the chain you&#x27;re on pre BIP34 and decide whether you can now skip BIP30 checks (which is what we decided to do with mainnet, but requires manual intervention)
<br>
</div>

<div class='talk op-msg' data-timestamp='1470342840' id='484877'>
<a class='timestamp' href='#484877'><time timestamp='2016-08-04T20:34:00Z'>20:34</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
are you opposed to leaving in the BIP34 hash
<br>
</div>

<div class='talk op-msg' data-timestamp='1470342900' id='484878'>
<a class='timestamp' href='#484878'><time timestamp='2016-08-04T20:35:00Z'>20:35</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
checking BIP30 is exteremely slow
<br>
</div>

<div class='talk op-msg' data-timestamp='1470342900' id='484879'>
<a class='timestamp' href='#484879'><time timestamp='2016-08-04T20:35:00Z'>20:35</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
that&#x27;s why we put in the ability to skip it
<br>
</div>

<div class='talk op-msg' data-timestamp='1470342960' id='484880'>
<a class='timestamp' href='#484880'><time timestamp='2016-08-04T20:36:00Z'>20:36</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
so, yes, theoretically always checking bip30 after bip34 has certain risk if there&#x27;s that reorg...but aren&#x27;t we screwed if that happens anyway?
<br>
</div>

<div class='talk op-msg' data-timestamp='1470343020' id='484881'>
<a class='timestamp' href='#484881'><time timestamp='2016-08-04T20:37:00Z'>20:37</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
like, really screwed
<br>
</div>

<div class='talk op-msg' data-timestamp='1470343020' id='484882'>
<a class='timestamp' href='#484882'><time timestamp='2016-08-04T20:37:00Z'>20:37</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
I don&#x27;t know, maybe it&#x27;s not worth it
<br>
</div>

<div class='talk op-msg' data-timestamp='1470343080' id='484883'>
<a class='timestamp' href='#484883'><time timestamp='2016-08-04T20:38:00Z'>20:38</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
sipa: Thanks
<br>
</div>

<div class='talk op-msg' data-timestamp='1470343140' id='484884'>
<a class='timestamp' href='#484884'><time timestamp='2016-08-04T20:39:00Z'>20:39</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
the advantages are code simplification and a slight optimization (really no need to call GetAncestor if you don&#x27;t care about the hash), and keep the optimization in case of pre-bip34 reorg, which is arguably a disadvantage
<br>
</div>

<div class='talk op-msg' data-timestamp='1470343140' id='484885'>
<a class='timestamp' href='#484885'><time timestamp='2016-08-04T20:39:00Z'>20:39</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
no, not opposed, removing it is just a suggestion
<br>
</div>

<div class='talk op-msg' data-timestamp='1470343200' id='484886'>
<a class='timestamp' href='#484886'><time timestamp='2016-08-04T20:40:00Z'>20:40</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
if we knew we weren&#x27;t doing it, we could have made <a href="https://github.com/jtimon/bitcoin/commit/6f98197634026e740a9172405386b15c3a79b5a5" class="link" target="_blank">https://github.com/jtimon/bitcoin/commit/6f98197634026e740a9172405386b15c3a79b5a5</a> without bip34 directly in #8391...
<br>
</div>

<div class='talk op-msg' data-timestamp='1470343260' id='484887'>
<a class='timestamp' href='#484887'><time timestamp='2016-08-04T20:41:00Z'>20:41</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
now I&#x27;m afraid the right time to do that will be...never
<br>
</div>

<div class='talk op-msg' data-timestamp='1470343260' id='484888'>
<a class='timestamp' href='#484888'><time timestamp='2016-08-04T20:41:00Z'>20:41</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
jtimon: i think the issue is less a reorg than that someone might feed you an alternate chain on startup and get your utxo into a permanently messed up state b/c you don&#x27;t know how to reorg back
<br>
</div>

<div class='talk op-msg' data-timestamp='1470343260' id='484889'>
<a class='timestamp' href='#484889'><time timestamp='2016-08-04T20:41:00Z'>20:41</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
oh, I see
<br>
</div>

<div class='talk op-msg' data-timestamp='1470343260' id='484890'>
<a class='timestamp' href='#484890'><time timestamp='2016-08-04T20:41:00Z'>20:41</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
i&#x27;m not positive that would happen, but seems more likely than not, and also seems like it could be affected by future changes to the way coins work that we might not anticipate
<br>
</div>

<div class='talk op-msg' data-timestamp='1470343260' id='484891'>
<a class='timestamp' href='#484891'><time timestamp='2016-08-04T20:41:00Z'>20:41</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
yeah, makes sense, thanks
<br>
</div>

<div class='talk op-msg' data-timestamp='1470343440' id='484892'>
<a class='timestamp' href='#484892'><time timestamp='2016-08-04T20:44:00Z'>20:44</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
yeah, I wasn&#x27;t properly thinking about an isolated node doing initial synchornization, that&#x27;s what you meant by fed up with the wrong chain from the beginning, sorry
<br>
</div>

<div class='talk op-msg' data-timestamp='1470343440' id='484893'>
<a class='timestamp' href='#484893'><time timestamp='2016-08-04T20:44:00Z'>20:44</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
nah, better to avoid that risk, definitely not worth it
<br>
</div>

<div class='talk op-msg' data-timestamp='1470343440' id='484894'>
<a class='timestamp' href='#484894'><time timestamp='2016-08-04T20:44:00Z'>20:44</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
thansk
<br>
</div>

<div class='talk op-msg' data-timestamp='1470343440' id='484895'>
<a class='timestamp' href='#484895'><time timestamp='2016-08-04T20:44:00Z'>20:44</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
jtimon: yeah
<br>
</div>

<div class='talk op-msg' data-timestamp='1470343440' id='484896'>
<a class='timestamp' href='#484896'><time timestamp='2016-08-04T20:44:00Z'>20:44</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
sure
<br>
</div>

<div class='talk op-msg' data-timestamp='1470343620' id='484897'>
<a class='timestamp' href='#484897'><time timestamp='2016-08-04T20:47:00Z'>20:47</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
well, maybe the time for <a href="https://github.com/jtimon/bitcoin/commit/6f98197634026e740a9172405386b15c3a79b5a5" class="link" target="_blank">https://github.com/jtimon/bitcoin/commit/6f98197634026e740a9172405386b15c3a79b5a5</a> is whenever bip113 activation is simplified from bip9 in the same way
<br>
</div>

<div class='talk op-msg' data-timestamp='1470343680' id='484898'>
<a class='timestamp' href='#484898'><time timestamp='2016-08-04T20:48:00Z'>20:48</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
or when/if we expose consensus::Params in libconsensus
<br>
</div>

<div class='talk op-msg' data-timestamp='1470343740' id='484899'>
<a class='timestamp' href='#484899'><time timestamp='2016-08-04T20:49:00Z'>20:49</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
anyway, that&#x27;s another topic
<br>
</div>

<div class='talk op-msg' data-timestamp='1470343740' id='484900'>
<a class='timestamp' href='#484900'><time timestamp='2016-08-04T20:49:00Z'>20:49</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
sipa: When I serialize CPriv/CPub I get something that is larger than 32 bytes? 
<br>
</div>

<div class='talk op-msg' data-timestamp='1470343800' id='484901'>
<a class='timestamp' href='#484901'><time timestamp='2016-08-04T20:50:00Z'>20:50</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
Chris_Stewart_5: CPrivKey uses OpenSSL DER serialization... which is 300 bytes or so for a private key
<br>
</div>

<div class='talk op-msg' data-timestamp='1470343800' id='484902'>
<a class='timestamp' href='#484902'><time timestamp='2016-08-04T20:50:00Z'>20:50</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
CPubKeys are 33 or 65 bytes
<br>
</div>

<div class='talk op-msg' data-timestamp='1470343800' id='484903'>
<a class='timestamp' href='#484903'><time timestamp='2016-08-04T20:50:00Z'>20:50</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
CKey is internally 32 bytes + compression flag
<br>
</div>

<div class='talk op-msg' data-timestamp='1470343920' id='484904'>
<a class='timestamp' href='#484904'><time timestamp='2016-08-04T20:52:00Z'>20:52</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
ahh ok, that makes more sense. So basically CKey is the interface exposed inside of core... except for serialization. Something that could be implemented in a pull? 
<br>
</div>

<div class='talk op-msg' data-timestamp='1470343920' id='484905'>
<a class='timestamp' href='#484905'><time timestamp='2016-08-04T20:52:00Z'>20:52</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
well there isn&#x27;t one single obvious serialization for CKey
<br>
</div>

<div class='talk op-msg' data-timestamp='1470344100' id='484906'>
<a class='timestamp' href='#484906'><time timestamp='2016-08-04T20:55:00Z'>20:55</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
Seems like the 32 byte serialization would be the intuitive one.. at least to me. Am I missing something here? 
<br>
</div>

<div class='talk op-msg' data-timestamp='1470344160' id='484907'>
<a class='timestamp' href='#484907'><time timestamp='2016-08-04T20:56:00Z'>20:56</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
oh nvm i see what you are talking about now, since CKeys can be both priv and pubs right?
<br>
</div>

<div class='talk op-msg' data-timestamp='1470344220' id='484908'>
<a class='timestamp' href='#484908'><time timestamp='2016-08-04T20:57:00Z'>20:57</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
no
<br>
</div>

<div class='talk op-msg' data-timestamp='1470344220' id='484909'>
<a class='timestamp' href='#484909'><time timestamp='2016-08-04T20:57:00Z'>20:57</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
CKey is a private key
<br>
</div>

<div class='talk op-msg' data-timestamp='1470344220' id='484910'>
<a class='timestamp' href='#484910'><time timestamp='2016-08-04T20:57:00Z'>20:57</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but you need the compression flag too
<br>
</div>

<div class='talk op-msg' data-timestamp='1470344280' id='484911'>
<a class='timestamp' href='#484911'><time timestamp='2016-08-04T20:58:00Z'>20:58</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and there is no deserialize because we use secure memory for private keys where possible
<br>
</div>

<div class='talk op-msg' data-timestamp='1470344880' id='484912'>
<a class='timestamp' href='#484912'><time timestamp='2016-08-04T21:08:00Z'>21:08</time></a>
&lt;<span class='nick nick-7'> NicolasDorier</span>&gt;
jtimon, I will soon make a PR similar to <a href="https://github.com/jtimon/bitcoin/commit/6f98197634026e740a9172405386b15c3a79b5a5" class="link" target="_blank">https://github.com/jtimon/bitcoin/commit/6f98197634026e740a9172405386b15c3a79b5a5</a>  along with another change to parametize buriedsf height for regtest
<br>
</div>

<div class='talk op-msg' data-timestamp='1470345000' id='484913'>
<a class='timestamp' href='#484913'><time timestamp='2016-08-04T21:10:00Z'>21:10</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
NicolasDorier: cool, but I believe the right time was in your PR, at least with the new ones if you didn&#x27;t wanted to touch bip34
<br>
</div>

<div class='talk op-msg' data-timestamp='1470345060' id='484914'>
<a class='timestamp' href='#484914'><time timestamp='2016-08-04T21:11:00Z'>21:11</time></a>
&lt;<span class='nick nick-7'> NicolasDorier</span>&gt;
jtimon: I disagree, my PR was making a &quot;big&quot; consensus change so I wanted to keep it as simple as possible to review
<br>
</div>

<div class='talk op-msg' data-timestamp='1470345060' id='484915'>
<a class='timestamp' href='#484915'><time timestamp='2016-08-04T21:11:00Z'>21:11</time></a>
&lt;<span class='nick nick-7'> NicolasDorier</span>&gt;
I wanted to be it merged the quickier I could so I can continue my work on libconsensus
<br>
</div>

<div class='talk op-msg' data-timestamp='1470345060' id='484916'>
<a class='timestamp' href='#484916'><time timestamp='2016-08-04T21:11:00Z'>21:11</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
although I won&#x27;t oppose the refactor, of course, just worry that it will be less acceptable
<br>
</div>

<div class='talk op-msg' data-timestamp='1470345120' id='484917'>
<a class='timestamp' href='#484917'><time timestamp='2016-08-04T21:12:00Z'>21:12</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
how would using an array instead of two variables have been more complicated?
<br>
</div>

<div class='talk op-msg' data-timestamp='1470345120' id='484918'>
<a class='timestamp' href='#484918'><time timestamp='2016-08-04T21:12:00Z'>21:12</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
anyway, as said I won&#x27;t oppose
<br>
</div>

<div class='talk op-msg' data-timestamp='1470345180' id='484919'>
<a class='timestamp' href='#484919'><time timestamp='2016-08-04T21:13:00Z'>21:13</time></a>
&lt;<span class='nick nick-7'> NicolasDorier</span>&gt;
jtimon: I don&#x27;t think it wil lbe less acceptable, this buried deployment stuff will be a BIP. In the future other SF will end up using the same structure
<br>
</div>

<div class='talk op-msg' data-timestamp='1470345180' id='484920'>
<a class='timestamp' href='#484920'><time timestamp='2016-08-04T21:13:00Z'>21:13</time></a>
&lt;<span class='nick nick-7'> NicolasDorier</span>&gt;
anyway, I made two differents commit
<br>
</div>

<div class='talk op-msg' data-timestamp='1470345180' id='484921'>
<a class='timestamp' href='#484921'><time timestamp='2016-08-04T21:13:00Z'>21:13</time></a>
&lt;<span class='nick nick-7'> NicolasDorier</span>&gt;
we can take one and not the other
<br>
</div>

<div class='talk op-msg' data-timestamp='1470345180' id='484922'>
<a class='timestamp' href='#484922'><time timestamp='2016-08-04T21:13:00Z'>21:13</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
NicolasDorier: yeah I guess the BIP is an opportunity to reorganize the struct
<br>
</div>

<div class='talk op-msg' data-timestamp='1470345300' id='484923'>
<a class='timestamp' href='#484923'><time timestamp='2016-08-04T21:15:00Z'>21:15</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
anyway, I&#x27;m suffering from premature worry about controversy, let&#x27;s not discuss about whether something will be acceptable or not when we both want it
<br>
</div>

<div class='talk op-msg' data-timestamp='1470346020' id='484924'>
<a class='timestamp' href='#484924'><time timestamp='2016-08-04T21:27:00Z'>21:27</time></a>
&lt;<span class='nick nick-14'> GitHub193</span>&gt;
[bitcoin] NicolasDorier opened pull request #8460: parametrize buried soft fork in regtest and refactor (master...buriedsf) <a href="https://github.com/bitcoin/bitcoin/pull/8460" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8460</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1470346020' id='484925'>
<a class='timestamp' href='#484925'><time timestamp='2016-08-04T21:27:00Z'>21:27</time></a>
&lt;<span class='nick nick-7'> NicolasDorier</span>&gt;
jtimon: worrying about controversy create a meta controversy :D
<br>
</div>

<div class='talk op-msg' data-timestamp='1470346080' id='484926'>
<a class='timestamp' href='#484926'><time timestamp='2016-08-04T21:28:00Z'>21:28</time></a>
&lt;<span class='nick nick-7'> NicolasDorier</span>&gt;
just created the PR
<br>
</div>

<div class='talk op-msg' data-timestamp='1470346380' id='484927'>
<a class='timestamp' href='#484927'><time timestamp='2016-08-04T21:33:00Z'>21:33</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
yeah, I&#x27;m revieweing it
<br>
</div>

<div class='talk op-msg' data-timestamp='1470346500' id='484928'>
<a class='timestamp' href='#484928'><time timestamp='2016-08-04T21:35:00Z'>21:35</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
and looking at 8418 too
<br>
</div>

<div class='talk op-msg' data-timestamp='1470346560' id='484929'>
<a class='timestamp' href='#484929'><time timestamp='2016-08-04T21:36:00Z'>21:36</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/pull/8418/files#diff-c865a8939105e6350a50af02766291b7R981" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8418/files#diff-c865a8939105e6350a50af02766291b7R981</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1470346560' id='484930'>
<a class='timestamp' href='#484930'><time timestamp='2016-08-04T21:36:00Z'>21:36</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
 .MineBlocksOnDemand() is starting too look like IsRegtest()
<br>
</div>

<div class='talk op-msg' data-timestamp='1470346620' id='484931'>
<a class='timestamp' href='#484931'><time timestamp='2016-08-04T21:37:00Z'>21:37</time></a>
&lt;<span class='nick nick-11'> GitHub92</span>&gt;
[bitcoin] jlopp opened pull request #8461: document return value of networkhashps for getmininginfo RPC endpoint (master...rpcMiningHelp) <a href="https://github.com/bitcoin/bitcoin/pull/8461" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8461</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1470347040' id='484932'>
<a class='timestamp' href='#484932'><time timestamp='2016-08-04T21:44:00Z'>21:44</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
oh, it was RegTest() or Params().NetworkID() == CChainParams::REGTEST directly, never mind, it&#x27;s been a while since 3824, thinking out loud
<br>
</div>

<div class='talk op-msg' data-timestamp='1470347940' id='484933'>
<a class='timestamp' href='#484933'><time timestamp='2016-08-04T21:59:00Z'>21:59</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
NicolasDorier: in #8460, how do you modify a couple of them? -buriedsfparams=bip65:1351,bip66:1251 ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1470347940' id='484934'>
<a class='timestamp' href='#484934'><time timestamp='2016-08-04T21:59:00Z'>21:59</time></a>
&lt;<span class='nick nick-7'> NicolasDorier</span>&gt;
you repeat
<br>
</div>

<div class='talk op-msg' data-timestamp='1470347940' id='484935'>
<a class='timestamp' href='#484935'><time timestamp='2016-08-04T21:59:00Z'>21:59</time></a>
&lt;<span class='nick nick-7'> NicolasDorier</span>&gt;
 -buriedsfparams=bip65:1351  -buriedsfparams=bip66:1251
<br>
</div>

<div class='talk op-msg' data-timestamp='1470347940' id='484936'>
<a class='timestamp' href='#484936'><time timestamp='2016-08-04T21:59:00Z'>21:59</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
ok, thanks
<br>
</div>

<div class='talk op-msg' data-timestamp='1470348120' id='484937'>
<a class='timestamp' href='#484937'><time timestamp='2016-08-04T22:02:00Z'>22:02</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/pull/8418/files#r73610819" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8418/files#r73610819</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1470349500' id='484938'>
<a class='timestamp' href='#484938'><time timestamp='2016-08-04T22:25:00Z'>22:25</time></a>
&lt;<span class='nick nick-7'> NicolasDorier</span>&gt;
jtimon: I think one bool is enough. fAllowOverwriteSoftforks which both BIP9 and buried SF use
<br>
</div>

<div class='talk op-msg' data-timestamp='1470349620' id='484939'>
<a class='timestamp' href='#484939'><time timestamp='2016-08-04T22:27:00Z'>22:27</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
NicolasDorier: fine with me, sounds reasonable
<br>
</div>

<div class='talk op-msg' data-timestamp='1470349620' id='484940'>
<a class='timestamp' href='#484940'><time timestamp='2016-08-04T22:27:00Z'>22:27</time></a>
&lt;<span class='nick nick-7'> NicolasDorier</span>&gt;
will add commit to my PR later
<br>
</div>

<div class='talk op-msg' data-timestamp='1470349680' id='484941'>
<a class='timestamp' href='#484941'><time timestamp='2016-08-04T22:28:00Z'>22:28</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
great
<br>
</div>

<div class='talk op-msg' data-timestamp='1470350340' id='484942'>
<a class='timestamp' href='#484942'><time timestamp='2016-08-04T22:39:00Z'>22:39</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
NicolasDorier: you are not removing BIP34Height BIP65Height and BIP66Height in Consensus::Params
<br>
</div>

<div class='talk op-msg' data-timestamp='1470350460' id='484943'>
<a class='timestamp' href='#484943'><time timestamp='2016-08-04T22:41:00Z'>22:41</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
you can leave:
<br>
</div>

<div class='talk op-msg' data-timestamp='1470350460' id='484944'>
<a class='timestamp' href='#484944'><time timestamp='2016-08-04T22:41:00Z'>22:41</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
    /** Block hash at which BIP34 becomes active (for BIP30 optimization)*/
<br>
</div>

<div class='talk op-msg' data-timestamp='1470350460' id='484945'>
<a class='timestamp' href='#484945'><time timestamp='2016-08-04T22:41:00Z'>22:41</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
    uint256 BIP34Hash;
<br>
</div>

<div class='talk op-msg' data-timestamp='1470350640' id='484946'>
<a class='timestamp' href='#484946'><time timestamp='2016-08-04T22:44:00Z'>22:44</time></a>
&lt;<span class='nick nick-7'> NicolasDorier</span>&gt;
oh
<br>
</div>

<div class='talk op-msg' data-timestamp='1470351840' id='484947'>
<a class='timestamp' href='#484947'><time timestamp='2016-08-04T23:04:00Z'>23:04</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
does anyone know offhand where the last segwit transaction in the chain is?
<br>
</div>

<div class='talk op-msg' data-timestamp='1470351840' id='484948'>
<a class='timestamp' href='#484948'><time timestamp='2016-08-04T23:04:00Z'>23:04</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
*testnet chain
<br>
</div>

<div class='talk op-msg' data-timestamp='1470351900' id='484949'>
<a class='timestamp' href='#484949'><time timestamp='2016-08-04T23:05:00Z'>23:05</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i&#x27;ve reset the testnet chainparams for segwit to 0, and reconsiderblock/invalidateblock 100000 blocks, and it works fine
<br>
</div>

<div class='talk op-msg' data-timestamp='1470354300' id='484950'>
<a class='timestamp' href='#484950'><time timestamp='2016-08-04T23:45:00Z'>23:45</time></a>
&lt;<span class='nick nick-7'> NicolasDorier</span>&gt;
jtimon: I fixed the nit as well as added the commit with the allowSfOverride
<br>
</div>

<div class='talk op-msg' data-timestamp='1470354600' id='484951'>
<a class='timestamp' href='#484951'><time timestamp='2016-08-04T23:50:00Z'>23:50</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
NicolasDorier: tiny last nit <a href="https://github.com/bitcoin/bitcoin/pull/8460/files#r73622457" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8460/files#r73622457</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1470354720' id='484952'>
<a class='timestamp' href='#484952'><time timestamp='2016-08-04T23:52:00Z'>23:52</time></a>
&lt;<span class='nick nick-7'> NicolasDorier</span>&gt;
jtimon: this is removed in later commits
<br>
</div>

<div class='talk op-msg' data-timestamp='1470354720' id='484953'>
<a class='timestamp' href='#484953'><time timestamp='2016-08-04T23:52:00Z'>23:52</time></a>
&lt;<span class='nick nick-7'> NicolasDorier</span>&gt;
oups
<br>
</div>

<div class='talk op-msg' data-timestamp='1470354720' id='484954'>
<a class='timestamp' href='#484954'><time timestamp='2016-08-04T23:52:00Z'>23:52</time></a>
&lt;<span class='nick nick-7'> NicolasDorier</span>&gt;
nop
<br>
</div>

<div class='talk op-msg' data-timestamp='1470354840' id='484955'>
<a class='timestamp' href='#484955'><time timestamp='2016-08-04T23:54:00Z'>23:54</time></a>
&lt;<span class='nick nick-7'> NicolasDorier</span>&gt;
removed :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1470354840' id='484956'>
<a class='timestamp' href='#484956'><time timestamp='2016-08-04T23:54:00Z'>23:54</time></a>
&lt;<span class='nick nick-7'> NicolasDorier</span>&gt;
I did quite a lot of rebase to clean up the history. But now it should be stable
<br>
</div>

<div class='talk op-msg' data-timestamp='1470354900' id='484957'>
<a class='timestamp' href='#484957'><time timestamp='2016-08-04T23:55:00Z'>23:55</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
good work
<br>
</div>

<div class='talk op-msg' data-timestamp='1470354960' id='484958'>
<a class='timestamp' href='#484958'><time timestamp='2016-08-04T23:56:00Z'>23:56</time></a>
&lt;<span class='nick nick-7'> NicolasDorier</span>&gt;
thanks, going to bed for real now (9am) :D
<br>
</div>

<div class='talk op-msg' data-timestamp='1470355080' id='484959'>
<a class='timestamp' href='#484959'><time timestamp='2016-08-04T23:58:00Z'>23:58</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
oh, sorry about that
<br>
</div>

</div>
</section>

</body>
</html>
