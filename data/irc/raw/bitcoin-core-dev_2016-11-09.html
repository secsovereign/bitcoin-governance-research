<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2016-11-09
 — 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2016-11-09' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:25 UTC</pre>
<pre><a href="/bitcoin-core-dev/2016-10-09">&lt;</a><span class='header'>  November 2016   </span><a href="/bitcoin-core-dev/2016-12-09">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;       <a class="" href="/bitcoin-core-dev/2016-11-01">1</a>  <a class="" href="/bitcoin-core-dev/2016-11-02">2</a>  <a class="" href="/bitcoin-core-dev/2016-11-03">3</a>  <a class="" href="/bitcoin-core-dev/2016-11-04">4</a>  <a class="" href="/bitcoin-core-dev/2016-11-05">5</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2016-11-06">6</a>  <a class="" href="/bitcoin-core-dev/2016-11-07">7</a>  <a class="" href="/bitcoin-core-dev/2016-11-08">8</a>  <a class="current" href="/bitcoin-core-dev/2016-11-09">9</a> <a class="" href="/bitcoin-core-dev/2016-11-10">10</a> <a class="" href="/bitcoin-core-dev/2016-11-11">11</a> <a class="" href="/bitcoin-core-dev/2016-11-12">12</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2016-11-13">13</a> <a class="" href="/bitcoin-core-dev/2016-11-14">14</a> <a class="" href="/bitcoin-core-dev/2016-11-15">15</a> <a class="" href="/bitcoin-core-dev/2016-11-16">16</a> <a class="" href="/bitcoin-core-dev/2016-11-17">17</a> <a class="" href="/bitcoin-core-dev/2016-11-18">18</a> <a class="" href="/bitcoin-core-dev/2016-11-19">19</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2016-11-20">20</a> <a class="" href="/bitcoin-core-dev/2016-11-21">21</a> <a class="" href="/bitcoin-core-dev/2016-11-22">22</a> <a class="" href="/bitcoin-core-dev/2016-11-23">23</a> <a class="" href="/bitcoin-core-dev/2016-11-24">24</a> <a class="" href="/bitcoin-core-dev/2016-11-25">25</a> <a class="" href="/bitcoin-core-dev/2016-11-26">26</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2016-11-27">27</a> <a class="" href="/bitcoin-core-dev/2016-11-28">28</a> <a class="" href="/bitcoin-core-dev/2016-11-29">29</a> <a class="" href="/bitcoin-core-dev/2016-11-30">30</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1478652300' id='509295'>
<a class='timestamp' href='#509295'><time timestamp='2016-11-09T00:45:00Z'>00:45</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
cfields: i think it&#x27;d also get tricky because the CValidationState passed in to ProcessNewBlock can be referencing a different block than where it might be used in ActivateBestChainStep
<br>
</div>

<div class='talk op-msg' data-timestamp='1478652300' id='509296'>
<a class='timestamp' href='#509296'><time timestamp='2016-11-09T00:45:00Z'>00:45</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sdaftuar: good point
<br>
</div>

<div class='talk op-msg' data-timestamp='1478652660' id='509297'>
<a class='timestamp' href='#509297'><time timestamp='2016-11-09T00:51:00Z'>00:51</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
sdaftuar: yes, makes sense. thanks.
<br>
</div>

<div class='talk op-msg' data-timestamp='1478654340' id='509298'>
<a class='timestamp' href='#509298'><time timestamp='2016-11-09T01:19:00Z'>01:19</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] TheBlueMatt closed pull request #9014: Fix block-connection performance regression (master...2016-10-fix-tx-regression) <a href="https://github.com/bitcoin/bitcoin/pull/9014" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9014</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1478655720' id='509299'>
<a class='timestamp' href='#509299'><time timestamp='2016-11-09T01:42:00Z'>01:42</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
jtimon: so i think i need to revert #9087 for #9075
<br>
</div>

<div class='talk op-msg' data-timestamp='1478655720' id='509300'>
<a class='timestamp' href='#509300'><time timestamp='2016-11-09T01:42:00Z'>01:42</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/9087" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/9087</a> | RPC: why not give more details when &quot;generate&quot; fails? by jtimon · Pull Request #9087 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1478655720' id='509301'>
<a class='timestamp' href='#509301'><time timestamp='2016-11-09T01:42:00Z'>01:42</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/9075" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/9075</a> | Decouple peer-processing-logic from block-connection-logic (#3) by TheBlueMatt · Pull Request #9075 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1478655780' id='509302'>
<a class='timestamp' href='#509302'><time timestamp='2016-11-09T01:43:00Z'>01:43</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
because 9074 removes the state parameter from ProcessNewBlock - it only is used if CheckBlock fails, not if there is an actual failure
<br>
</div>

<div class='talk op-msg' data-timestamp='1478655900' id='509303'>
<a class='timestamp' href='#509303'><time timestamp='2016-11-09T01:45:00Z'>01:45</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
#9087 is just something I found while trying to fix the blocksigning branch, but it surprises me that you need to revert it
<br>
</div>

<div class='talk op-msg' data-timestamp='1478655900' id='509304'>
<a class='timestamp' href='#509304'><time timestamp='2016-11-09T01:45:00Z'>01:45</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/9087" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/9087</a> | RPC: why not give more details when &quot;generate&quot; fails? by jtimon · Pull Request #9087 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1478655900' id='509305'>
<a class='timestamp' href='#509305'><time timestamp='2016-11-09T01:45:00Z'>01:45</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
well it already doesnt work - the state object to ProcessNewBlock is only used if CheckBlock fails, not if the block is invalid for any other reason
<br>
</div>

<div class='talk op-msg' data-timestamp='1478655960' id='509306'>
<a class='timestamp' href='#509306'><time timestamp='2016-11-09T01:46:00Z'>01:46</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
the only way to get useful info from ProcessNewBlock is to register, then de-register a CValidationInterface, already
<br>
</div>

<div class='talk op-msg' data-timestamp='1478655960' id='509307'>
<a class='timestamp' href='#509307'><time timestamp='2016-11-09T01:46:00Z'>01:46</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
so I was removing it
<br>
</div>

<div class='talk op-msg' data-timestamp='1478655960' id='509308'>
<a class='timestamp' href='#509308'><time timestamp='2016-11-09T01:46:00Z'>01:46</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
or if processblock doens&#x27;t run... if someone another new block was received?
<br>
</div>

<div class='talk op-msg' data-timestamp='1478655960' id='509309'>
<a class='timestamp' href='#509309'><time timestamp='2016-11-09T01:46:00Z'>01:46</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
*somehow
<br>
</div>

<div class='talk op-msg' data-timestamp='1478655960' id='509310'>
<a class='timestamp' href='#509310'><time timestamp='2016-11-09T01:46:00Z'>01:46</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
oh, I see, and in my case it was failing on checkblockheader
<br>
</div>

<div class='talk op-msg' data-timestamp='1478656020' id='509311'>
<a class='timestamp' href='#509311'><time timestamp='2016-11-09T01:47:00Z'>01:47</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
so with 9087 I was able to see &quot;high hash&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1478656020' id='509312'>
<a class='timestamp' href='#509312'><time timestamp='2016-11-09T01:47:00Z'>01:47</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
if someone actually cares, I can fix it by doing the register, de-register hack
<br>
</div>

<div class='talk op-msg' data-timestamp='1478656020' id='509313'>
<a class='timestamp' href='#509313'><time timestamp='2016-11-09T01:47:00Z'>01:47</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
but....its a dirty hack
<br>
</div>

<div class='talk op-msg' data-timestamp='1478656080' id='509314'>
<a class='timestamp' href='#509314'><time timestamp='2016-11-09T01:48:00Z'>01:48</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
btw, after you matt took the time check out checkblockheader is just like checkpow but putting a message on the validation state and with and absurd bool arg
<br>
</div>

<div class='talk op-msg' data-timestamp='1478656080' id='509315'>
<a class='timestamp' href='#509315'><time timestamp='2016-11-09T01:48:00Z'>01:48</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jtimon: assuming the block wasn&#x27;t reorged out, for what reason other than high hash would generate fail?
<br>
</div>

<div class='talk op-msg' data-timestamp='1478656140' id='509316'>
<a class='timestamp' href='#509316'><time timestamp='2016-11-09T01:49:00Z'>01:49</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
feel free to revert the change, I can always have it locally, it shouldn&#x27;t normally fail anyway, just because I&#x27;m doing another version of checkpow for the block signing stuff
<br>
</div>

<div class='talk op-msg' data-timestamp='1478656200' id='509317'>
<a class='timestamp' href='#509317'><time timestamp='2016-11-09T01:50:00Z'>01:50</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jtimon: with matt&#x27;s change, processnewblock doesn&#x27;t take a CValidateState anymore
<br>
</div>

<div class='talk op-msg' data-timestamp='1478656260' id='509318'>
<a class='timestamp' href='#509318'><time timestamp='2016-11-09T01:51:00Z'>01:51</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
I just thought there was no harm and maybe was useful in more cases besides mine, seriously, no need to pass CValidateState to processnewblock only for rpc/mining
<br>
</div>

<div class='talk op-msg' data-timestamp='1478656260' id='509319'>
<a class='timestamp' href='#509319'><time timestamp='2016-11-09T01:51:00Z'>01:51</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
BlueMatt, jtimon: perhaps it can be fixed by invoking AcceptNewHeader explicitly from RPC, and report the result from that?
<br>
</div>

<div class='talk op-msg' data-timestamp='1478656260' id='509320'>
<a class='timestamp' href='#509320'><time timestamp='2016-11-09T01:51:00Z'>01:51</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
ehh, please no...CheckBlock
<br>
</div>

<div class='talk op-msg' data-timestamp='1478656260' id='509321'>
<a class='timestamp' href='#509321'><time timestamp='2016-11-09T01:51:00Z'>01:51</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
not Accept*Header
<br>
</div>

<div class='talk op-msg' data-timestamp='1478656260' id='509322'>
<a class='timestamp' href='#509322'><time timestamp='2016-11-09T01:51:00Z'>01:51</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ah     
<br>
</div>

<div class='talk op-msg' data-timestamp='1478656260' id='509323'>
<a class='timestamp' href='#509323'><time timestamp='2016-11-09T01:51:00Z'>01:51</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ok     
<br>
</div>

<div class='talk op-msg' data-timestamp='1478656320' id='509324'>
<a class='timestamp' href='#509324'><time timestamp='2016-11-09T01:52:00Z'>01:52</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
I can do it locally if I need to, but right now I know where the things are failing, just don&#x27;t understand why, please feel free to revert 9087, np
<br>
</div>

<div class='talk op-msg' data-timestamp='1478656380' id='509325'>
<a class='timestamp' href='#509325'><time timestamp='2016-11-09T01:53:00Z'>01:53</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
ok     
<br>
</div>

<div class='talk op-msg' data-timestamp='1478656380' id='509326'>
<a class='timestamp' href='#509326'><time timestamp='2016-11-09T01:53:00Z'>01:53</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
it just felt kind of free to upstream
<br>
</div>

<div class='talk op-msg' data-timestamp='1478656380' id='509327'>
<a class='timestamp' href='#509327'><time timestamp='2016-11-09T01:53:00Z'>01:53</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
yupyup, all right decisions, just randomly gets in the way :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1478656440' id='509328'>
<a class='timestamp' href='#509328'><time timestamp='2016-11-09T01:54:00Z'>01:54</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
ok, good, same page it seems
<br>
</div>

<div class='talk op-msg' data-timestamp='1478656560' id='509329'>
<a class='timestamp' href='#509329'><time timestamp='2016-11-09T01:56:00Z'>01:56</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
sipa: the last idea may be interesting for mining::generate though
<br>
</div>

<div class='talk op-msg' data-timestamp='1478656560' id='509330'>
<a class='timestamp' href='#509330'><time timestamp='2016-11-09T01:56:00Z'>01:56</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
but yeah, later
<br>
</div>

<div class='talk op-msg' data-timestamp='1478656740' id='509331'>
<a class='timestamp' href='#509331'><time timestamp='2016-11-09T01:59:00Z'>01:59</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
does it make sense for me to try that the custom chain (by default just like regstes, just with a different genesis block and a different directory) passes all rpc python tests just like regtest does?
<br>
</div>

<div class='talk op-msg' data-timestamp='1478656800' id='509332'>
<a class='timestamp' href='#509332'><time timestamp='2016-11-09T02:00:00Z'>02:00</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
never mind, I&#x27;ll try first, ask later
<br>
</div>

<div class='talk op-msg' data-timestamp='1478682960' id='509333'>
<a class='timestamp' href='#509333'><time timestamp='2016-11-09T09:16:00Z'>09:16</time></a>
&lt;<span class='nick nick-5'> rebroad</span>&gt;
gmaxwell, wumpus, sipa, I think I may have found a bug that can crash bitcoin nodes
<br>
</div>

<div class='talk op-msg' data-timestamp='1478683020' id='509334'>
<a class='timestamp' href='#509334'><time timestamp='2016-11-09T09:17:00Z'>09:17</time></a>
&lt;<span class='nick nick-5'> rebroad</span>&gt;
potential DoS
<br>
</div>

<div class='talk op-msg' data-timestamp='1478683020' id='509335'>
<a class='timestamp' href='#509335'><time timestamp='2016-11-09T09:17:00Z'>09:17</time></a>
&lt;<span class='nick nick-8'> Victorsueca</span>&gt;
rebroad: in latest version?
<br>
</div>

<div class='talk op-msg' data-timestamp='1478683020' id='509336'>
<a class='timestamp' href='#509336'><time timestamp='2016-11-09T09:17:00Z'>09:17</time></a>
&lt;<span class='nick nick-5'> rebroad</span>&gt;
yes     
<br>
</div>

<div class='talk op-msg' data-timestamp='1478683080' id='509337'>
<a class='timestamp' href='#509337'><time timestamp='2016-11-09T09:18:00Z'>09:18</time></a>
&lt;<span class='nick nick-5'> rebroad</span>&gt;
or at least, someone else found it and used it against my node
<br>
</div>

<div class='talk op-msg' data-timestamp='1478683080' id='509338'>
<a class='timestamp' href='#509338'><time timestamp='2016-11-09T09:18:00Z'>09:18</time></a>
&lt;<span class='nick nick-5'> rebroad</span>&gt;
but it&#x27;s easy to fix
<br>
</div>

<div class='talk op-msg' data-timestamp='1478683080' id='509339'>
<a class='timestamp' href='#509339'><time timestamp='2016-11-09T09:18:00Z'>09:18</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
rebroad: Does it crash or do you just get an exception?
<br>
</div>

<div class='talk op-msg' data-timestamp='1478683080' id='509340'>
<a class='timestamp' href='#509340'><time timestamp='2016-11-09T09:18:00Z'>09:18</time></a>
&lt;<span class='nick nick-5'> rebroad</span>&gt;
crashes
<br>
</div>

<div class='talk op-msg' data-timestamp='1478683080' id='509341'>
<a class='timestamp' href='#509341'><time timestamp='2016-11-09T09:18:00Z'>09:18</time></a>
&lt;<span class='nick nick-5'> rebroad</span>&gt;
well, both
<br>
</div>

<div class='talk op-msg' data-timestamp='1478683140' id='509342'>
<a class='timestamp' href='#509342'><time timestamp='2016-11-09T09:19:00Z'>09:19</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I guess we are talking about 9110
<br>
</div>

<div class='talk op-msg' data-timestamp='1478683140' id='509343'>
<a class='timestamp' href='#509343'><time timestamp='2016-11-09T09:19:00Z'>09:19</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
PR #9110
<br>
</div>

<div class='talk op-msg' data-timestamp='1478683140' id='509344'>
<a class='timestamp' href='#509344'><time timestamp='2016-11-09T09:19:00Z'>09:19</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/9110" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/9110</a> | CInv::GetCommand(): type=1373179482 unknown type · Issue #9110 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1478683140' id='509345'>
<a class='timestamp' href='#509345'><time timestamp='2016-11-09T09:19:00Z'>09:19</time></a>
&lt;<span class='nick nick-5'> rebroad</span>&gt;
yes     
<br>
</div>

<div class='talk op-msg' data-timestamp='1478683140' id='509346'>
<a class='timestamp' href='#509346'><time timestamp='2016-11-09T09:19:00Z'>09:19</time></a>
&lt;<span class='nick nick-5'> rebroad</span>&gt;
only if debug=net though
<br>
</div>

<div class='talk op-msg' data-timestamp='1478683140' id='509347'>
<a class='timestamp' href='#509347'><time timestamp='2016-11-09T09:19:00Z'>09:19</time></a>
&lt;<span class='nick nick-5'> rebroad</span>&gt;
the &quot;got inv&quot; debug messsage
<br>
</div>

<div class='talk op-msg' data-timestamp='1478683200' id='509348'>
<a class='timestamp' href='#509348'><time timestamp='2016-11-09T09:20:00Z'>09:20</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Okay...
<br>
</div>

<div class='talk op-msg' data-timestamp='1478683200' id='509349'>
<a class='timestamp' href='#509349'><time timestamp='2016-11-09T09:20:00Z'>09:20</time></a>
&lt;<span class='nick nick-8'> Victorsueca</span>&gt;
sounds like bitcoin core fails some assertion in there
<br>
</div>

<div class='talk op-msg' data-timestamp='1478683200' id='509350'>
<a class='timestamp' href='#509350'><time timestamp='2016-11-09T09:20:00Z'>09:20</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
please add the info about debug=net to the PR...
<br>
</div>

<div class='talk op-msg' data-timestamp='1478683260' id='509351'>
<a class='timestamp' href='#509351'><time timestamp='2016-11-09T09:21:00Z'>09:21</time></a>
&lt;<span class='nick nick-8'> Victorsueca</span>&gt;
rebroad: it crashes only with debug=net enabled? or it still crashes anyway but without log exception when disabled?
<br>
</div>

<div class='talk op-msg' data-timestamp='1478683260' id='509352'>
<a class='timestamp' href='#509352'><time timestamp='2016-11-09T09:21:00Z'>09:21</time></a>
&lt;<span class='nick nick-5'> rebroad</span>&gt;
I have changed the code to simply strprintf an unknown and I think this should be an ok fix..  not tested sufficiently yet (as I don&#x27;t have code to generate invalid inv messages yet)
<br>
</div>

<div class='talk op-msg' data-timestamp='1478683260' id='509353'>
<a class='timestamp' href='#509353'><time timestamp='2016-11-09T09:21:00Z'>09:21</time></a>
&lt;<span class='nick nick-5'> rebroad</span>&gt;
Victorsueca, I suspect it&#x27;ll only crash if debug=net but not tested with it not set yet
<br>
</div>

<div class='talk op-msg' data-timestamp='1478683320' id='509354'>
<a class='timestamp' href='#509354'><time timestamp='2016-11-09T09:22:00Z'>09:22</time></a>
&lt;<span class='nick nick-5'> rebroad</span>&gt;
but someone out there is already sending these invalid invs... the address it came from was 50.254.73.145
<br>
</div>

<div class='talk op-msg' data-timestamp='1478683380' id='509355'>
<a class='timestamp' href='#509355'><time timestamp='2016-11-09T09:23:00Z'>09:23</time></a>
&lt;<span class='nick nick-8'> Victorsueca</span>&gt;
if that&#x27;s the case then it would be a bug at generating the exception warning message or writing it to the log
<br>
</div>

<div class='talk op-msg' data-timestamp='1478683380' id='509356'>
<a class='timestamp' href='#509356'><time timestamp='2016-11-09T09:23:00Z'>09:23</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I though ProcessMessages() executes always in a try/catch... 
<br>
</div>

<div class='talk op-msg' data-timestamp='1478683380' id='509357'>
<a class='timestamp' href='#509357'><time timestamp='2016-11-09T09:23:00Z'>09:23</time></a>
&lt;<span class='nick nick-5'> rebroad</span>&gt;
it&#x27;s is possible that I have made a change that is making it vulnerable
<br>
</div>

<div class='talk op-msg' data-timestamp='1478683440' id='509358'>
<a class='timestamp' href='#509358'><time timestamp='2016-11-09T09:24:00Z'>09:24</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I think so...
<br>
</div>

<div class='talk op-msg' data-timestamp='1478683440' id='509359'>
<a class='timestamp' href='#509359'><time timestamp='2016-11-09T09:24:00Z'>09:24</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Going to test this now...
<br>
</div>

<div class='talk op-msg' data-timestamp='1478683440' id='509360'>
<a class='timestamp' href='#509360'><time timestamp='2016-11-09T09:24:00Z'>09:24</time></a>
&lt;<span class='nick nick-5'> rebroad</span>&gt;
I don&#x27;t think I have, but it&#x27;s not beyond belief
<br>
</div>

<div class='talk op-msg' data-timestamp='1478683440' id='509361'>
<a class='timestamp' href='#509361'><time timestamp='2016-11-09T09:24:00Z'>09:24</time></a>
&lt;<span class='nick nick-8'> Victorsueca</span>&gt;
maybe somebody should make a honeypot and wireshark it to see what message is causing this
<br>
</div>

<div class='talk op-msg' data-timestamp='1478683500' id='509362'>
<a class='timestamp' href='#509362'><time timestamp='2016-11-09T09:25:00Z'>09:25</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
rebroad: you could try to reproduce the issue on master with a simple new RPC test (maybe called invalidinv.py)
<br>
</div>

<div class='talk op-msg' data-timestamp='1478683500' id='509363'>
<a class='timestamp' href='#509363'><time timestamp='2016-11-09T09:25:00Z'>09:25</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Victorsueca: it&#x27;s simple to test... no need for a honeypot
<br>
</div>

<div class='talk op-msg' data-timestamp='1478683500' id='509364'>
<a class='timestamp' href='#509364'><time timestamp='2016-11-09T09:25:00Z'>09:25</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
rebroad, and in every case: responsible disclosure next time, please...
<br>
</div>

<div class='talk op-msg' data-timestamp='1478683560' id='509365'>
<a class='timestamp' href='#509365'><time timestamp='2016-11-09T09:26:00Z'>09:26</time></a>
&lt;<span class='nick nick-8'> Victorsueca</span>&gt;
^ yeah, this things should be PGPed to the team
<br>
</div>

<div class='talk op-msg' data-timestamp='1478683560' id='509366'>
<a class='timestamp' href='#509366'><time timestamp='2016-11-09T09:26:00Z'>09:26</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Indeed (if you think your right)
<br>
</div>

<div class='talk op-msg' data-timestamp='1478683620' id='509367'>
<a class='timestamp' href='#509367'><time timestamp='2016-11-09T09:27:00Z'>09:27</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
I&#x27;m fairly sure tI&#x27;ve tried to do this before, though probably not with debug=net
<br>
</div>

<div class='talk op-msg' data-timestamp='1478683980' id='509368'>
<a class='timestamp' href='#509368'><time timestamp='2016-11-09T09:33:00Z'>09:33</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
it&#x27;d need to call CInv::ToString or CInv::GetCommand to get this exception, indeed something that only happens with debugging on
<br>
</div>

<div class='talk op-msg' data-timestamp='1478683980' id='509369'>
<a class='timestamp' href='#509369'><time timestamp='2016-11-09T09:33:00Z'>09:33</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
I think it&#x27;s somewhat unexpected for a ToString call to raise an exception
<br>
</div>

<div class='talk op-msg' data-timestamp='1478684040' id='509370'>
<a class='timestamp' href='#509370'><time timestamp='2016-11-09T09:34:00Z'>09:34</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
however the exception should not crash the program
<br>
</div>

<div class='talk op-msg' data-timestamp='1478684340' id='509371'>
<a class='timestamp' href='#509371'><time timestamp='2016-11-09T09:39:00Z'>09:39</time></a>
&lt;<span class='nick nick-8'> Victorsueca</span>&gt;
the log says something about St12out_of_range, that sounds like something that was asserted to be within certain range is not
<br>
</div>

<div class='talk op-msg' data-timestamp='1478684400' id='509372'>
<a class='timestamp' href='#509372'><time timestamp='2016-11-09T09:40:00Z'>09:40</time></a>
&lt;<span class='nick nick-8'> Victorsueca</span>&gt;
maybe the type number?
<br>
</div>

<div class='talk op-msg' data-timestamp='1478684460' id='509373'>
<a class='timestamp' href='#509373'><time timestamp='2016-11-09T09:41:00Z'>09:41</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
wumpus Yes you have. See #1625
<br>
</div>

<div class='talk op-msg' data-timestamp='1478684460' id='509374'>
<a class='timestamp' href='#509374'><time timestamp='2016-11-09T09:41:00Z'>09:41</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/1625" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/1625</a> | Bitcoin-Qt: exception in CInv::GetCommand() when using -onlynet=&quot;IPv6&quot; · Issue #1625 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1478684460' id='509375'>
<a class='timestamp' href='#509375'><time timestamp='2016-11-09T09:41:00Z'>09:41</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
So we&#x27;ve seen this/a similar issue before.
<br>
</div>

<div class='talk op-msg' data-timestamp='1478684460' id='509376'>
<a class='timestamp' href='#509376'><time timestamp='2016-11-09T09:41:00Z'>09:41</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
managed to get the message in the log, however no crash
<br>
</div>

<div class='talk op-msg' data-timestamp='1478685240' id='509377'>
<a class='timestamp' href='#509377'><time timestamp='2016-11-09T09:54:00Z'>09:54</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] fanquake opened pull request #9111: Remove unused variable UNLIKELY_PCT from fees.h (master...remove-unused-unlikely-pct) <a href="https://github.com/bitcoin/bitcoin/pull/9111" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9111</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1478685900' id='509378'>
<a class='timestamp' href='#509378'><time timestamp='2016-11-09T10:05:00Z'>10:05</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 3 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/924de0bd75a7...e9847303e708" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/924de0bd75a7...e9847303e708</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1478685900' id='509379'>
<a class='timestamp' href='#509379'><time timestamp='2016-11-09T10:05:00Z'>10:05</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master addfdeb Andrew Chow: Multiple Selection for peer and ban tables...
<br>
</div>

<div class='talk op-msg' data-timestamp='1478685900' id='509380'>
<a class='timestamp' href='#509380'><time timestamp='2016-11-09T10:05:00Z'>10:05</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 1077577 Andrew Chow: Fix auto-deselection of peers
<br>
</div>

<div class='talk op-msg' data-timestamp='1478685900' id='509381'>
<a class='timestamp' href='#509381'><time timestamp='2016-11-09T10:05:00Z'>10:05</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master e984730 Wladimir J. van der Laan: Merge #8874: Multiple Selection for peer and ban tables...
<br>
</div>

<div class='talk op-msg' data-timestamp='1478686380' id='509382'>
<a class='timestamp' href='#509382'><time timestamp='2016-11-09T10:13:00Z'>10:13</time></a>
&lt;<span class='nick nick-5'> rebroad</span>&gt;
apologies for the less than ideal disclosure...  I purposefully did not mention the issue I&#x27;d raised on here for that reason (bad internet here, otherwise I&#x27;d already have wiped the issue the moment it got mentioned)
<br>
</div>

<div class='talk op-msg' data-timestamp='1478686560' id='509383'>
<a class='timestamp' href='#509383'><time timestamp='2016-11-09T10:16:00Z'>10:16</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj opened pull request #9112: Avoid ugly exception in log on unknown inv type (master...2016_11_invtype_debugging) <a href="https://github.com/bitcoin/bitcoin/pull/9112" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9112</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1478687220' id='509384'>
<a class='timestamp' href='#509384'><time timestamp='2016-11-09T10:27:00Z'>10:27</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] rebroad opened pull request #9113: Return the type when it&#x27;s unknown instead of throwing an exception (master...ReturnNotThrow) <a href="https://github.com/bitcoin/bitcoin/pull/9113" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9113</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1478689260' id='509385'>
<a class='timestamp' href='#509385'><time timestamp='2016-11-09T11:01:00Z'>11:01</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] fanquake opened pull request #9114: [depends] Set OSX_MIN_VERSION to 10.8 (master...depends-min-osx-10-8) <a href="https://github.com/bitcoin/bitcoin/pull/9114" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9114</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1478690880' id='509386'>
<a class='timestamp' href='#509386'><time timestamp='2016-11-09T11:28:00Z'>11:28</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I have started with the BIP151 implementation and are trying to split it into different PRs, though, not sure how easy that is.
<br>
</div>

<div class='talk op-msg' data-timestamp='1478691240' id='509387'>
<a class='timestamp' href='#509387'><time timestamp='2016-11-09T11:34:00Z'>11:34</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
indeed, for next time: if you suspect a remote-triggerable crash bug, even if you&#x27;re not sure, please don&#x27;t immediately throw it in here, but use private ways of contacting
<br>
</div>

<div class='talk op-msg' data-timestamp='1478691360' id='509388'>
<a class='timestamp' href='#509388'><time timestamp='2016-11-09T11:36:00Z'>11:36</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
&lt;/panicmode&gt;
<br>
</div>

<div class='talk op-msg' data-timestamp='1478691420' id='509389'>
<a class='timestamp' href='#509389'><time timestamp='2016-11-09T11:37:00Z'>11:37</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
jonasschnelli: at least coordinate with cfields on the network level changes
<br>
</div>

<div class='talk op-msg' data-timestamp='1478692440' id='509390'>
<a class='timestamp' href='#509390'><time timestamp='2016-11-09T11:54:00Z'>11:54</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] paveljanik opened pull request #9115: Mention reporting security issues responsibly (master...20161109_secissues) <a href="https://github.com/bitcoin/bitcoin/pull/9115" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9115</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1478694060' id='509391'>
<a class='timestamp' href='#509391'><time timestamp='2016-11-09T12:21:00Z'>12:21</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] ondrejsika opened pull request #9116: Allow getblocktemlate for not connected regtest node (master...master) <a href="https://github.com/bitcoin/bitcoin/pull/9116" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9116</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1478695020' id='509392'>
<a class='timestamp' href='#509392'><time timestamp='2016-11-09T12:37:00Z'>12:37</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
wumpus: Yes. Good idea. Not sure if a PR with the implementation of the new message format without the actual encryption itself could make sense.
<br>
</div>

<div class='talk op-msg' data-timestamp='1478695920' id='509393'>
<a class='timestamp' href='#509393'><time timestamp='2016-11-09T12:52:00Z'>12:52</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 10 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/e9847303e708...e81df49644c2" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/e9847303e708...e81df49644c2</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1478695920' id='509394'>
<a class='timestamp' href='#509394'><time timestamp='2016-11-09T12:52:00Z'>12:52</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 50e8a9c Pieter Wuille: Remove unused ReadVersion and WriteVersion...
<br>
</div>

<div class='talk op-msg' data-timestamp='1478695920' id='509395'>
<a class='timestamp' href='#509395'><time timestamp='2016-11-09T12:52:00Z'>12:52</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master c2c5d42 Pieter Wuille: Make streams&#x27; read and write return void...
<br>
</div>

<div class='talk op-msg' data-timestamp='1478695920' id='509396'>
<a class='timestamp' href='#509396'><time timestamp='2016-11-09T12:52:00Z'>12:52</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master fad9b66 Pieter Wuille: Make nType and nVersion private and sometimes const...
<br>
</div>

<div class='talk op-msg' data-timestamp='1478695920' id='509397'>
<a class='timestamp' href='#509397'><time timestamp='2016-11-09T12:52:00Z'>12:52</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj closed pull request #9039: Various serialization simplifcations and optimizations (master...simpleserial) <a href="https://github.com/bitcoin/bitcoin/pull/9039" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9039</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1478697120' id='509398'>
<a class='timestamp' href='#509398'><time timestamp='2016-11-09T13:12:00Z'>13:12</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 3 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/e81df49644c2...e0477f6d2072" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/e81df49644c2...e0477f6d2072</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1478697120' id='509399'>
<a class='timestamp' href='#509399'><time timestamp='2016-11-09T13:12:00Z'>13:12</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master fd5654c Pavel Janík: Check and enable -Wshadow by default.
<br>
</div>

<div class='talk op-msg' data-timestamp='1478697120' id='509400'>
<a class='timestamp' href='#509400'><time timestamp='2016-11-09T13:12:00Z'>13:12</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 359bac7 Pavel Janík: Add notes about variable names and shadowing
<br>
</div>

<div class='talk op-msg' data-timestamp='1478697120' id='509401'>
<a class='timestamp' href='#509401'><time timestamp='2016-11-09T13:12:00Z'>13:12</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master e0477f6 Wladimir J. van der Laan: Merge #8794: Enable -Wshadow by default...
<br>
</div>

<div class='talk op-msg' data-timestamp='1478697120' id='509402'>
<a class='timestamp' href='#509402'><time timestamp='2016-11-09T13:12:00Z'>13:12</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj closed pull request #8794: Enable -Wshadow by default (master...20160922_Wshadow_enable) <a href="https://github.com/bitcoin/bitcoin/pull/8794" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8794</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1478698980' id='509403'>
<a class='timestamp' href='#509403'><time timestamp='2016-11-09T13:43:00Z'>13:43</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
cfields: net.h what&#x27;s the advantage of using a Callable (ForEachNodeContinueIf(Callable&amp;&amp; func)) instead of just passing in a std::function?
<br>
</div>

<div class='talk op-msg' data-timestamp='1478699460' id='509404'>
<a class='timestamp' href='#509404'><time timestamp='2016-11-09T13:51:00Z'>13:51</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
jonasschnelli: so that lambdas are overhead-free
<br>
</div>

<div class='talk op-msg' data-timestamp='1478699700' id='509405'>
<a class='timestamp' href='#509405'><time timestamp='2016-11-09T13:55:00Z'>13:55</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
cfields: can you explain me what kind of overhead? (Sorry to bother you with basic c++)
<br>
</div>

<div class='talk op-msg' data-timestamp='1478699820' id='509406'>
<a class='timestamp' href='#509406'><time timestamp='2016-11-09T13:57:00Z'>13:57</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
jonasschnelli: np. std::function necessarily does an allocation, is copyable, etc. But lambdas can essentially create inline code.
<br>
</div>

<div class='talk op-msg' data-timestamp='1478699880' id='509407'>
<a class='timestamp' href='#509407'><time timestamp='2016-11-09T13:58:00Z'>13:58</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
by using a callable, you can pass in a lambda for &quot;free&quot;, or pass in a std::function for flexibility. It gives the flexibility of both.
<br>
</div>

<div class='talk op-msg' data-timestamp='1478699940' id='509408'>
<a class='timestamp' href='#509408'><time timestamp='2016-11-09T13:59:00Z'>13:59</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
(maybe I should&#x27;ve mentioned that earlier. You can pass a std::function into it if you&#x27;d like, it&#x27;ll work as you&#x27;d want it to)
<br>
</div>

<div class='talk op-msg' data-timestamp='1478700000' id='509409'>
<a class='timestamp' href='#509409'><time timestamp='2016-11-09T14:00:00Z'>14:00</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
cfields: here I pass in Lambda <a href="https://github.com/bitcoin/bitcoin/pull/9076/files#diff-b2bb174788c7409b671c46ccc86034bdR3824" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9076/files#diff-b2bb174788c7409b671c46ccc86034bdR3824</a> ... the function structure defines the parameter as std::function, does this always result in a copy for the lambda?
<br>
</div>

<div class='talk op-msg' data-timestamp='1478700060' id='509410'>
<a class='timestamp' href='#509410'><time timestamp='2016-11-09T14:01:00Z'>14:01</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
jonasschnelli: yes. a std::function is constructed there.
<br>
</div>

<div class='talk op-msg' data-timestamp='1478700120' id='509411'>
<a class='timestamp' href='#509411'><time timestamp='2016-11-09T14:02:00Z'>14:02</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Okay. So changing it to a callable would be more efficient.. right?
<br>
</div>

<div class='talk op-msg' data-timestamp='1478700120' id='509412'>
<a class='timestamp' href='#509412'><time timestamp='2016-11-09T14:02:00Z'>14:02</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
(reducing a copy)
<br>
</div>

<div class='talk op-msg' data-timestamp='1478700180' id='509413'>
<a class='timestamp' href='#509413'><time timestamp='2016-11-09T14:03:00Z'>14:03</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
jonasschnelli: yep, assuming you can neatly use a template in the definition
<br>
</div>

<div class='talk op-msg' data-timestamp='1478700360' id='509414'>
<a class='timestamp' href='#509414'><time timestamp='2016-11-09T14:06:00Z'>14:06</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
jonasschnelli: think of it like something &quot;printable&quot;. You could pass the constant &quot;foo&quot; into a &quot;Print(std::string s) { printf(&quot;string&quot; %s, s); }, which will construct a std::string just to throw it away
<br>
</div>

<div class='talk op-msg' data-timestamp='1478700420' id='509415'>
<a class='timestamp' href='#509415'><time timestamp='2016-11-09T14:07:00Z'>14:07</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
cfields: Thanks. I think I see you point now.
<br>
</div>

<div class='talk op-msg' data-timestamp='1478700420' id='509416'>
<a class='timestamp' href='#509416'><time timestamp='2016-11-09T14:07:00Z'>14:07</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
but if you used &quot;template &lt;typename T&gt; Print(T&amp;&amp; s) { std::cout &lt;&lt; s; }, you can pass in a raw string for free
<br>
</div>

<div class='talk op-msg' data-timestamp='1478701140' id='509417'>
<a class='timestamp' href='#509417'><time timestamp='2016-11-09T14:19:00Z'>14:19</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
paveljanik I&#x27;m probably wrong, but the hex/line numbers was the first thing that jumped out at me.
<br>
</div>

<div class='talk op-msg' data-timestamp='1478701200' id='509418'>
<a class='timestamp' href='#509418'><time timestamp='2016-11-09T14:20:00Z'>14:20</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
fanquake, sure. But this is probably some issue on the builder side as it does not touch leveldb at all...
<br>
</div>

<div class='talk op-msg' data-timestamp='1478701440' id='509419'>
<a class='timestamp' href='#509419'><time timestamp='2016-11-09T14:24:00Z'>14:24</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
I think I was hitting the assert in net.h <a href="https://github.com/bitcoin/bitcoin/blob/e9847303e708ab71b4d2c22ceb7d65c89615e18a/src/net.h#L772" class="link" target="_blank">https://github.com/bitcoin/bitcoin/blob/e9847303e708ab71b4d2c22ceb7d65c89615e18a/src/net.h#L772</a> ... I couldn&#x27;t reproduce and debug.log only says ProcessMessages(version, 102 bytes) FAILED peer=10 <a href="http://pastebin.ubuntu.com/23451144/" class="link" target="_blank">http://pastebin.ubuntu.com/23451144/</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1478702760' id='509420'>
<a class='timestamp' href='#509420'><time timestamp='2016-11-09T14:46:00Z'>14:46</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
MarcoFalke: yes, i assumed that would cause a few crashes for the first few days
<br>
</div>

<div class='talk op-msg' data-timestamp='1478702820' id='509421'>
<a class='timestamp' href='#509421'><time timestamp='2016-11-09T14:47:00Z'>14:47</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
MarcoFalke: can you run with -debug for a while?
<br>
</div>

<div class='talk op-msg' data-timestamp='1478702880' id='509422'>
<a class='timestamp' href='#509422'><time timestamp='2016-11-09T14:48:00Z'>14:48</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
sure
<br>
</div>

<div class='talk op-msg' data-timestamp='1478702940' id='509423'>
<a class='timestamp' href='#509423'><time timestamp='2016-11-09T14:49:00Z'>14:49</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
MarcoFalke: the issue is: we continue to send messages, even after the handshake has failed and we&#x27;ve decided to disconnect. I think it&#x27;s a good thing to find out what those cases are.
<br>
</div>

<div class='talk op-msg' data-timestamp='1478708580' id='509424'>
<a class='timestamp' href='#509424'><time timestamp='2016-11-09T16:23:00Z'>16:23</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
cfields: Prob when expected != offered. See debug.log: <a href="https://paste.fedoraproject.org/476493/87085851/" class="link" target="_blank">https://paste.fedoraproject.org/476493/87085851/</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1478708580' id='509425'>
<a class='timestamp' href='#509425'><time timestamp='2016-11-09T16:23:00Z'>16:23</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
or bt <a href="https://paste.fedoraproject.org/476491/08356147/" class="link" target="_blank">https://paste.fedoraproject.org/476491/08356147/</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1478708580' id='509426'>
<a class='timestamp' href='#509426'><time timestamp='2016-11-09T16:23:00Z'>16:23</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
MarcoFalke: perfect, thanks
<br>
</div>

<div class='talk op-msg' data-timestamp='1478708640' id='509427'>
<a class='timestamp' href='#509427'><time timestamp='2016-11-09T16:24:00Z'>16:24</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
MarcoFalke: hmm, seems to be in sending the reject...
<br>
</div>

<div class='talk op-msg' data-timestamp='1478708700' id='509428'>
<a class='timestamp' href='#509428'><time timestamp='2016-11-09T16:25:00Z'>16:25</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
And what is the feefilter in the bt?
<br>
</div>

<div class='talk op-msg' data-timestamp='1478708760' id='509429'>
<a class='timestamp' href='#509429'><time timestamp='2016-11-09T16:26:00Z'>16:26</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
MarcoFalke: aha! I didn&#x27;t see the bt
<br>
</div>

<div class='talk op-msg' data-timestamp='1478708820' id='509430'>
<a class='timestamp' href='#509430'><time timestamp='2016-11-09T16:27:00Z'>16:27</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
MarcoFalke: yep, that&#x27;s the problem.
<br>
</div>

<div class='talk op-msg' data-timestamp='1478708880' id='509431'>
<a class='timestamp' href='#509431'><time timestamp='2016-11-09T16:28:00Z'>16:28</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
MarcoFalke: I&#x27;ll pr a quick/dirty fix in a few min, and I&#x27;m working on a more robust solution
<br>
</div>

<div class='talk op-msg' data-timestamp='1478708940' id='509432'>
<a class='timestamp' href='#509432'><time timestamp='2016-11-09T16:29:00Z'>16:29</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
MarcoFalke: quick fix: <a href="http://pastebin.com/raw/E8ZXsKYa" class="link" target="_blank">http://pastebin.com/raw/E8ZXsKYa</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1478708940' id='509433'>
<a class='timestamp' href='#509433'><time timestamp='2016-11-09T16:29:00Z'>16:29</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
that was quick :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1478709000' id='509434'>
<a class='timestamp' href='#509434'><time timestamp='2016-11-09T16:30:00Z'>16:30</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
MarcoFalke: well like i said, I expected it to point out a few issues. They should all be very easy to fix individually.
<br>
</div>

<div class='talk op-msg' data-timestamp='1478709060' id='509435'>
<a class='timestamp' href='#509435'><time timestamp='2016-11-09T16:31:00Z'>16:31</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
(as long as there&#x27;s a nice log/backtrace, that is :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1478715540' id='509436'>
<a class='timestamp' href='#509436'><time timestamp='2016-11-09T18:19:00Z'>18:19</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] theuni opened pull request #9117: net: don&#x27;t send feefilter messages before the version handshake is complete (master...feefilter-assert) <a href="https://github.com/bitcoin/bitcoin/pull/9117" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9117</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1478715780' id='509437'>
<a class='timestamp' href='#509437'><time timestamp='2016-11-09T18:23:00Z'>18:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jonasschnelli: i was planning to work on bip151, but i&#x27;m not going to touch anything before the ongoing net refactors are done :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1478715960' id='509438'>
<a class='timestamp' href='#509438'><time timestamp='2016-11-09T18:26:00Z'>18:26</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
cfields: if the issue in 9117 is feefilter before handshake, should it not be checking fSuccessfullyConnected?
<br>
</div>

<div class='talk op-msg' data-timestamp='1478716020' id='509439'>
<a class='timestamp' href='#509439'><time timestamp='2016-11-09T18:27:00Z'>18:27</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
jonasschnelli and i just discussed a bit, i&#x27;m making sure that the current refactors at least make bip151 not harder, but hopefully easier too
<br>
</div>

<div class='talk op-msg' data-timestamp='1478716200' id='509440'>
<a class='timestamp' href='#509440'><time timestamp='2016-11-09T18:30:00Z'>18:30</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
gmaxwell: i suppose that would work too in this case. just that fDisconnected happens to also catch the case when we&#x27;ve just decided to disconnect after a successful handshake
<br>
</div>

<div class='talk op-msg' data-timestamp='1478716260' id='509441'>
<a class='timestamp' href='#509441'><time timestamp='2016-11-09T18:31:00Z'>18:31</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
gmaxwell: I think the handshake was done in the case I saw above: <a href="https://paste.fedoraproject.org/476493/87085851/raw/" class="link" target="_blank">https://paste.fedoraproject.org/476493/87085851/raw/</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1478716260' id='509442'>
<a class='timestamp' href='#509442'><time timestamp='2016-11-09T18:31:00Z'>18:31</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
er, at any time in the session after the handshake is done
<br>
</div>

<div class='talk op-msg' data-timestamp='1478716260' id='509443'>
<a class='timestamp' href='#509443'><time timestamp='2016-11-09T18:31:00Z'>18:31</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
MarcoFalke: no, it&#x27;s halfway done. We got their version and set it, but didn&#x27;t like it, so didn&#x27;t set a sendVersion
<br>
</div>

<div class='talk op-msg' data-timestamp='1478716320' id='509444'>
<a class='timestamp' href='#509444'><time timestamp='2016-11-09T18:32:00Z'>18:32</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
but it wouldn&#x27;t catch cases where we weren&#x27;t done but also weren&#x27;t planning on disconnecting them?
<br>
</div>

<div class='talk op-msg' data-timestamp='1478716440' id='509445'>
<a class='timestamp' href='#509445'><time timestamp='2016-11-09T18:34:00Z'>18:34</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
gmaxwell: i don&#x27;t think that&#x27;s a possibility
<br>
</div>

<div class='talk op-msg' data-timestamp='1478716560' id='509446'>
<a class='timestamp' href='#509446'><time timestamp='2016-11-09T18:36:00Z'>18:36</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
gmaxwell: i&#x27;m cleaning up the disconnect logic atm so that it&#x27;s hopefully more clear. I believe the only case where we&#x27;d want to send a message after we&#x27;ve set fDisconnect is for reject messages, no?
<br>
</div>

<div class='talk op-msg' data-timestamp='1478716620' id='509447'>
<a class='timestamp' href='#509447'><time timestamp='2016-11-09T18:37:00Z'>18:37</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I don&#x27;t really think we should be sending any messages after flipping that flag.
<br>
</div>

<div class='talk op-msg' data-timestamp='1478716980' id='509448'>
<a class='timestamp' href='#509448'><time timestamp='2016-11-09T18:43:00Z'>18:43</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
hmm, may be able to make that work
<br>
</div>

<div class='talk op-msg' data-timestamp='1478717580' id='509449'>
<a class='timestamp' href='#509449'><time timestamp='2016-11-09T18:53:00Z'>18:53</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
sipa: Did you intend for fImporting to be set during LoadMempool?  It is now, but I thought that was a bug, indeed it causes pruning.py to fail b/c sync isn&#x27;t happening during the potentially long process of loading the mempool.  (fImporting causes IBD to be true)
<br>
</div>

<div class='talk op-msg' data-timestamp='1478717640' id='509450'>
<a class='timestamp' href='#509450'><time timestamp='2016-11-09T18:54:00Z'>18:54</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
I was going to PR a fix, but I realize now that fee estimation conveniently ignores the LoadMempool txs due to this, so now it requires a lot more thinking about what the correct behavior is
<br>
</div>

<div class='talk op-msg' data-timestamp='1478717700' id='509451'>
<a class='timestamp' href='#509451'><time timestamp='2016-11-09T18:55:00Z'>18:55</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
morcos: hmm, IBD should probably not be true during LoadMempool
<br>
</div>

<div class='talk op-msg' data-timestamp='1478721180' id='509452'>
<a class='timestamp' href='#509452'><time timestamp='2016-11-09T19:53:00Z'>19:53</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
the build is now a <u>_flood_</u> ofr shadowing warnings for me.
<br>
</div>

<div class='talk op-msg' data-timestamp='1478721180' id='509453'>
<a class='timestamp' href='#509453'><time timestamp='2016-11-09T19:53:00Z'>19:53</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
thousands of them.
<br>
</div>

<div class='talk op-msg' data-timestamp='1478721180' id='509454'>
<a class='timestamp' href='#509454'><time timestamp='2016-11-09T19:53:00Z'>19:53</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
gmaxwell, what compiler? Can you upload the log please?
<br>
</div>

<div class='talk op-msg' data-timestamp='1478721240' id='509455'>
<a class='timestamp' href='#509455'><time timestamp='2016-11-09T19:54:00Z'>19:54</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
gcc version 6.1.1 20160802 (Debian 6.1.1-11) 
<br>
</div>

<div class='talk op-msg' data-timestamp='1478721240' id='509456'>
<a class='timestamp' href='#509456'><time timestamp='2016-11-09T19:54:00Z'>19:54</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
old gcc?
<br>
</div>

<div class='talk op-msg' data-timestamp='1478721240' id='509457'>
<a class='timestamp' href='#509457'><time timestamp='2016-11-09T19:54:00Z'>19:54</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that&#x27;s a very new gcc
<br>
</div>

<div class='talk op-msg' data-timestamp='1478721240' id='509458'>
<a class='timestamp' href='#509458'><time timestamp='2016-11-09T19:54:00Z'>19:54</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i also get those warning
<br>
</div>

<div class='talk op-msg' data-timestamp='1478721300' id='509459'>
<a class='timestamp' href='#509459'><time timestamp='2016-11-09T19:55:00Z'>19:55</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
Is the CHECKSIG operation missing in BIP141 for P2WPKH &amp; P2WPKH nested inside of P2SH? <a href="https://github.com/bitcoin/bips/blob/master/bip-0141.mediawiki#p2wpkh" class="link" target="_blank">https://github.com/bitcoin/bips/blob/master/bip-0141.mediawiki#p2wpkh</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1478721360' id='509460'>
<a class='timestamp' href='#509460'><time timestamp='2016-11-09T19:56:00Z'>19:56</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
can you please upload the log somewhere?
<br>
</div>

<div class='talk op-msg' data-timestamp='1478721420' id='509461'>
<a class='timestamp' href='#509461'><time timestamp='2016-11-09T19:57:00Z'>19:57</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
There is #8808 but maybe we need even more for new gcc
<br>
</div>

<div class='talk op-msg' data-timestamp='1478721420' id='509462'>
<a class='timestamp' href='#509462'><time timestamp='2016-11-09T19:57:00Z'>19:57</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/8808" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/8808</a> | Do not shadow variables (gcc set) by paveljanik · Pull Request #8808 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1478721480' id='509463'>
<a class='timestamp' href='#509463'><time timestamp='2016-11-09T19:58:00Z'>19:58</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
paveljanik: <a href="http://0bin.net/paste/C-XT2Ww24Gb0-oSk#gTvVzT2VMvRmjuKhVgAP25zWIpGHhJUbOKamb4KKFi-" class="link" target="_blank">http://0bin.net/paste/C-XT2Ww24Gb0-oSk#gTvVzT2VMvRmjuKhVgAP25zWIpGHhJUbOKamb4KKFi-</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1478721600' id='509464'>
<a class='timestamp' href='#509464'><time timestamp='2016-11-09T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
fFlushOnClose is fixed there
<br>
</div>

<div class='talk op-msg' data-timestamp='1478721660' id='509465'>
<a class='timestamp' href='#509465'><time timestamp='2016-11-09T20:01:00Z'>20:01</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
gmaxwell, looks like you are good candidate for ACK on #8808 8)
<br>
</div>

<div class='talk op-msg' data-timestamp='1478721660' id='509466'>
<a class='timestamp' href='#509466'><time timestamp='2016-11-09T20:01:00Z'>20:01</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/8808" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/8808</a> | Do not shadow variables (gcc set) by paveljanik · Pull Request #8808 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1478721660' id='509467'>
<a class='timestamp' href='#509467'><time timestamp='2016-11-09T20:01:00Z'>20:01</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sipa: Okay. That&#x27;s great news. I can re-focus then on the SPV mode.
<br>
</div>

<div class='talk op-msg' data-timestamp='1478721780' id='509468'>
<a class='timestamp' href='#509468'><time timestamp='2016-11-09T20:03:00Z'>20:03</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Where did we turn on these Wshadow warnings?
<br>
</div>

<div class='talk op-msg' data-timestamp='1478721960' id='509469'>
<a class='timestamp' href='#509469'><time timestamp='2016-11-09T20:06:00Z'>20:06</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
oh, I&#x27;d already pulled it off while bisecting. 8794
<br>
</div>

<div class='talk op-msg' data-timestamp='1478722500' id='509470'>
<a class='timestamp' href='#509470'><time timestamp='2016-11-09T20:15:00Z'>20:15</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
yes, but 8808 is missing.
<br>
</div>

<div class='talk op-msg' data-timestamp='1478722500' id='509471'>
<a class='timestamp' href='#509471'><time timestamp='2016-11-09T20:15:00Z'>20:15</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
and I&#x27;m now testing with a bit older gcc than yours...
<br>
</div>

<div class='talk op-msg' data-timestamp='1478722560' id='509472'>
<a class='timestamp' href='#509472'><time timestamp='2016-11-09T20:16:00Z'>20:16</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i can test with 6.2.0
<br>
</div>

<div class='talk op-msg' data-timestamp='1478722560' id='509473'>
<a class='timestamp' href='#509473'><time timestamp='2016-11-09T20:16:00Z'>20:16</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
great! I will install the VM with some newer one later
<br>
</div>

<div class='talk op-msg' data-timestamp='1478722800' id='509474'>
<a class='timestamp' href='#509474'><time timestamp='2016-11-09T20:20:00Z'>20:20</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
gmaxwell: yeah we shadow things all over the place
<br>
</div>

<div class='talk op-msg' data-timestamp='1478722860' id='509475'>
<a class='timestamp' href='#509475'><time timestamp='2016-11-09T20:21:00Z'>20:21</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
let&#x27;s fix it
<br>
</div>

<div class='talk op-msg' data-timestamp='1478723100' id='509476'>
<a class='timestamp' href='#509476'><time timestamp='2016-11-09T20:25:00Z'>20:25</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
strange, I had no shadow warnings at all before I merged that
<br>
</div>

<div class='talk op-msg' data-timestamp='1478723160' id='509477'>
<a class='timestamp' href='#509477'><time timestamp='2016-11-09T20:26:00Z'>20:26</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
or maybe one in leveldb or so, but certainly no flood
<br>
</div>

<div class='talk op-msg' data-timestamp='1478723160' id='509478'>
<a class='timestamp' href='#509478'><time timestamp='2016-11-09T20:26:00Z'>20:26</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
I don&#x27;t get it
<br>
</div>

<div class='talk op-msg' data-timestamp='1478723160' id='509479'>
<a class='timestamp' href='#509479'><time timestamp='2016-11-09T20:26:00Z'>20:26</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
going to revert
<br>
</div>

<div class='talk op-msg' data-timestamp='1478723220' id='509480'>
<a class='timestamp' href='#509480'><time timestamp='2016-11-09T20:27:00Z'>20:27</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
maybe we shouldn&#x27;t do it at all, it&#x27;s too compiler-dependent
<br>
</div>

<div class='talk op-msg' data-timestamp='1478723280' id='509481'>
<a class='timestamp' href='#509481'><time timestamp='2016-11-09T20:28:00Z'>20:28</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i think all the difficulty we have in figuring out how to resolve the -Wshadow warning exactly shows what problems actual unintentional shadowing could have
<br>
</div>

<div class='talk op-msg' data-timestamp='1478723280' id='509482'>
<a class='timestamp' href='#509482'><time timestamp='2016-11-09T20:28:00Z'>20:28</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and there is a clear upper bound on what -Wshadow can mean... i&#x27;m a bit surprised there even is compiler dependence here
<br>
</div>

<div class='talk op-msg' data-timestamp='1478723280' id='509483'>
<a class='timestamp' href='#509483'><time timestamp='2016-11-09T20:28:00Z'>20:28</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
In C it&#x27;s utterly unambigious and fine, I&#x27;m less sure about C++ but I expect it&#x27;s good to enable. But we should eliminate all the warnings first. Very weird that you weren&#x27;t seeing them!
<br>
</div>

<div class='talk op-msg' data-timestamp='1478723340' id='509484'>
<a class='timestamp' href='#509484'><time timestamp='2016-11-09T20:29:00Z'>20:29</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
I could check #8808 with 6.2.1
<br>
</div>

<div class='talk op-msg' data-timestamp='1478723340' id='509485'>
<a class='timestamp' href='#509485'><time timestamp='2016-11-09T20:29:00Z'>20:29</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/8808" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/8808</a> | Do not shadow variables (gcc set) by paveljanik · Pull Request #8808 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1478723340' id='509486'>
<a class='timestamp' href='#509486'><time timestamp='2016-11-09T20:29:00Z'>20:29</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(by all I mean almost all, of course, obviously I don&#x27;t care about one in leveldb)
<br>
</div>

<div class='talk op-msg' data-timestamp='1478723340' id='509487'>
<a class='timestamp' href='#509487'><time timestamp='2016-11-09T20:29:00Z'>20:29</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
I&#x27;m not going to bother with it anymore, at least
<br>
</div>

<div class='talk op-msg' data-timestamp='1478723340' id='509488'>
<a class='timestamp' href='#509488'><time timestamp='2016-11-09T20:29:00Z'>20:29</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
not just me <b>*multiple people*</b> tested it here: <a href="https://github.com/bitcoin/bitcoin/pull/8794" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8794</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1478723340' id='509489'>
<a class='timestamp' href='#509489'><time timestamp='2016-11-09T20:29:00Z'>20:29</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 1 new commit to master: <a href="https://github.com/bitcoin/bitcoin/commit/f445d886126c00814c71b855fc2f36fdd7e11098" class="link" target="_blank">https://github.com/bitcoin/bitcoin/commit/f445d886126c00814c71b855fc2f36fdd7e11098</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1478723340' id='509490'>
<a class='timestamp' href='#509490'><time timestamp='2016-11-09T20:29:00Z'>20:29</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master f445d88 Wladimir J. van der Laan: Revert &quot;Check and enable -Wshadow by default.&quot;...
<br>
</div>

<div class='talk op-msg' data-timestamp='1478723400' id='509491'>
<a class='timestamp' href='#509491'><time timestamp='2016-11-09T20:30:00Z'>20:30</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
seems just needless busywork, how many &#x27;prevent shadowing&#x27; commits have we had and it&#x27;s still a problem
<br>
</div>

<div class='talk op-msg' data-timestamp='1478723460' id='509492'>
<a class='timestamp' href='#509492'><time timestamp='2016-11-09T20:31:00Z'>20:31</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Coding convention wise, I notice that 8808 adds _ to many local variables.  I think there moderately common convention for using _ on function parameters.
<br>
</div>

<div class='talk op-msg' data-timestamp='1478723580' id='509493'>
<a class='timestamp' href='#509493'><time timestamp='2016-11-09T20:33:00Z'>20:33</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Many other things are wshadow with no issues, but we have classes with many flag generic top level names. like &quot;bits&quot;, &quot;flags&quot;, &quot;nversion&quot;... and a codebase that hasn&#x27;t had the warning for a long time.
<br>
</div>

<div class='talk op-msg' data-timestamp='1478723580' id='509494'>
<a class='timestamp' href='#509494'><time timestamp='2016-11-09T20:33:00Z'>20:33</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
but those were supposed to be fixed already
<br>
</div>

<div class='talk op-msg' data-timestamp='1478723580' id='509495'>
<a class='timestamp' href='#509495'><time timestamp='2016-11-09T20:33:00Z'>20:33</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
where are you getting all these warnings?
<br>
</div>

<div class='talk op-msg' data-timestamp='1478723640' id='509496'>
<a class='timestamp' href='#509496'><time timestamp='2016-11-09T20:34:00Z'>20:34</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
can you maybe pastebin and post in that issue?
<br>
</div>

<div class='talk op-msg' data-timestamp='1478723640' id='509497'>
<a class='timestamp' href='#509497'><time timestamp='2016-11-09T20:34:00Z'>20:34</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I pastebinned the warnings above: <a href="http://0bin.net/paste/C-XT2Ww24Gb0-oSk#gTvVzT2VMvRmjuKhVgAP25zWIpGHhJUbOKamb4KKFi-" class="link" target="_blank">http://0bin.net/paste/C-XT2Ww24Gb0-oSk#gTvVzT2VMvRmjuKhVgAP25zWIpGHhJUbOKamb4KKFi-</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1478723640' id='509498'>
<a class='timestamp' href='#509498'><time timestamp='2016-11-09T20:34:00Z'>20:34</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
maybe paveljanik would like to know
<br>
</div>

<div class='talk op-msg' data-timestamp='1478723640' id='509499'>
<a class='timestamp' href='#509499'><time timestamp='2016-11-09T20:34:00Z'>20:34</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Glad to help squash them all.
<br>
</div>

<div class='talk op-msg' data-timestamp='1478723640' id='509500'>
<a class='timestamp' href='#509500'><time timestamp='2016-11-09T20:34:00Z'>20:34</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
jdid&#x27;t we get rid of nVersion?
<br>
</div>

<div class='talk op-msg' data-timestamp='1478723700' id='509501'>
<a class='timestamp' href='#509501'><time timestamp='2016-11-09T20:35:00Z'>20:35</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
of the serialize.h-based nVersion
<br>
</div>

<div class='talk op-msg' data-timestamp='1478723700' id='509502'>
<a class='timestamp' href='#509502'><time timestamp='2016-11-09T20:35:00Z'>20:35</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but there are still some nVersion variables scattered
<br>
</div>

<div class='talk op-msg' data-timestamp='1478723700' id='509503'>
<a class='timestamp' href='#509503'><time timestamp='2016-11-09T20:35:00Z'>20:35</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
nah, I think there&#x27;s more important things
<br>
</div>

<div class='talk op-msg' data-timestamp='1478723700' id='509504'>
<a class='timestamp' href='#509504'><time timestamp='2016-11-09T20:35:00Z'>20:35</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
I thought this was done, but if there&#x27;s another load of that bullshit
<br>
</div>

<div class='talk op-msg' data-timestamp='1478723760' id='509505'>
<a class='timestamp' href='#509505'><time timestamp='2016-11-09T20:36:00Z'>20:36</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I really would like to understand how compliler differences came into play.
<br>
</div>

<div class='talk op-msg' data-timestamp='1478723820' id='509506'>
<a class='timestamp' href='#509506'><time timestamp='2016-11-09T20:37:00Z'>20:37</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
probably they consider slightly different scopes
<br>
</div>

<div class='talk op-msg' data-timestamp='1478724120' id='509507'>
<a class='timestamp' href='#509507'><time timestamp='2016-11-09T20:42:00Z'>20:42</time></a>
&lt;<span class='nick nick-13'> * paveljanik</span>&gt;
back
<br>
</div>

<div class='talk op-msg' data-timestamp='1478724120' id='509508'>
<a class='timestamp' href='#509508'><time timestamp='2016-11-09T20:42:00Z'>20:42</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
I first done Wshadow clean build on OS X/clang
<br>
</div>

<div class='talk op-msg' data-timestamp='1478724120' id='509509'>
<a class='timestamp' href='#509509'><time timestamp='2016-11-09T20:42:00Z'>20:42</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
then tested on newer clang
<br>
</div>

<div class='talk op-msg' data-timestamp='1478724120' id='509510'>
<a class='timestamp' href='#509510'><time timestamp='2016-11-09T20:42:00Z'>20:42</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
than newer clang on Linux
<br>
</div>

<div class='talk op-msg' data-timestamp='1478724120' id='509511'>
<a class='timestamp' href='#509511'><time timestamp='2016-11-09T20:42:00Z'>20:42</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
then old gcc on Linux.
<br>
</div>

<div class='talk op-msg' data-timestamp='1478724180' id='509512'>
<a class='timestamp' href='#509512'><time timestamp='2016-11-09T20:43:00Z'>20:43</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
I&#x27;m now Wshadow clean on all clangs available to me and one gcc version (after 8808).
<br>
</div>

<div class='talk op-msg' data-timestamp='1478724180' id='509513'>
<a class='timestamp' href='#509513'><time timestamp='2016-11-09T20:43:00Z'>20:43</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
There are millions of differences in them emitting warnings.
<br>
</div>

<div class='talk op-msg' data-timestamp='1478724240' id='509514'>
<a class='timestamp' href='#509514'><time timestamp='2016-11-09T20:44:00Z'>20:44</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
I tried with the gcc that comes with Ubuntu 16.04 (5.4.0) as well as clang 4.0 master git on Linux
<br>
</div>

<div class='talk op-msg' data-timestamp='1478724240' id='509515'>
<a class='timestamp' href='#509515'><time timestamp='2016-11-09T20:44:00Z'>20:44</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
I think gcc is more aggressive and also complains if a local var shadows a function name (such as size() or one of our own functions)
<br>
</div>

<div class='talk op-msg' data-timestamp='1478724240' id='509516'>
<a class='timestamp' href='#509516'><time timestamp='2016-11-09T20:44:00Z'>20:44</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
exactly!
<br>
</div>

<div class='talk op-msg' data-timestamp='1478724300' id='509517'>
<a class='timestamp' href='#509517'><time timestamp='2016-11-09T20:45:00Z'>20:45</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
haven&#x27;t tested gcc 6.x, maybe that is uselessly agressive
<br>
</div>

<div class='talk op-msg' data-timestamp='1478724420' id='509518'>
<a class='timestamp' href='#509518'><time timestamp='2016-11-09T20:47:00Z'>20:47</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
<a href="http://stackoverflow.com/questions/2958457/gcc-wshadow-is-too-strict" class="link" target="_blank">http://stackoverflow.com/questions/2958457/gcc-wshadow-is-too-strict</a> hah
<br>
</div>

<div class='talk op-msg' data-timestamp='1478724900' id='509519'>
<a class='timestamp' href='#509519'><time timestamp='2016-11-09T20:55:00Z'>20:55</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/f445d886126c...fb156100f9b4" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/f445d886126c...fb156100f9b4</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1478724900' id='509520'>
<a class='timestamp' href='#509520'><time timestamp='2016-11-09T20:55:00Z'>20:55</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master d8edf03 fanquake: Remove unused var UNLIKELY_PCT from fees.h
<br>
</div>

<div class='talk op-msg' data-timestamp='1478724900' id='509521'>
<a class='timestamp' href='#509521'><time timestamp='2016-11-09T20:55:00Z'>20:55</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master fb15610 Wladimir J. van der Laan: Merge #9111: Remove unused variable UNLIKELY_PCT from fees.h...
<br>
</div>

<div class='talk op-msg' data-timestamp='1478724900' id='509522'>
<a class='timestamp' href='#509522'><time timestamp='2016-11-09T20:55:00Z'>20:55</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj closed pull request #9111: Remove unused variable UNLIKELY_PCT from fees.h (master...remove-unused-unlikely-pct) <a href="https://github.com/bitcoin/bitcoin/pull/9111" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9111</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1478725620' id='509523'>
<a class='timestamp' href='#509523'><time timestamp='2016-11-09T21:07:00Z'>21:07</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/fb156100f9b4...faec09bc7f03" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/fb156100f9b4...faec09bc7f03</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1478725620' id='509524'>
<a class='timestamp' href='#509524'><time timestamp='2016-11-09T21:07:00Z'>21:07</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master e5d682f jnewbery: Fix mininode version message format
<br>
</div>

<div class='talk op-msg' data-timestamp='1478725620' id='509525'>
<a class='timestamp' href='#509525'><time timestamp='2016-11-09T21:07:00Z'>21:07</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master faec09b Wladimir J. van der Laan: Merge #8894: [Testing] Include fRelay in mininode version messages...
<br>
</div>

<div class='talk op-msg' data-timestamp='1478725620' id='509526'>
<a class='timestamp' href='#509526'><time timestamp='2016-11-09T21:07:00Z'>21:07</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] dooglus opened pull request #9118: Remove requireGreater argment from TxConfirmStats::EstimateMedianVal() (master...remove-dead-code) <a href="https://github.com/bitcoin/bitcoin/pull/9118" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9118</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1478725920' id='509527'>
<a class='timestamp' href='#509527'><time timestamp='2016-11-09T21:12:00Z'>21:12</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj closed pull request #9048: [0.13 backport] Fix handling of invalid compact blocks (0.13...fix-invalid-cb-ban-0.13) <a href="https://github.com/bitcoin/bitcoin/pull/9048" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9048</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1478725920' id='509528'>
<a class='timestamp' href='#509528'><time timestamp='2016-11-09T21:12:00Z'>21:12</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
wumpus: is it critical to be doing all this clean up on fee estimation right now?
<br>
</div>

<div class='talk op-msg' data-timestamp='1478725920' id='509529'>
<a class='timestamp' href='#509529'><time timestamp='2016-11-09T21:12:00Z'>21:12</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
i&#x27;d at least like a chance to think about it before you merge all these changes
<br>
</div>

<div class='talk op-msg' data-timestamp='1478725920' id='509530'>
<a class='timestamp' href='#509530'><time timestamp='2016-11-09T21:12:00Z'>21:12</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
i understand those variables are unused now
<br>
</div>

<div class='talk op-msg' data-timestamp='1478725980' id='509531'>
<a class='timestamp' href='#509531'><time timestamp='2016-11-09T21:13:00Z'>21:13</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
but they may still be useful functionality for further extension of the fee estimation code
<br>
</div>

<div class='talk op-msg' data-timestamp='1478726040' id='509532'>
<a class='timestamp' href='#509532'><time timestamp='2016-11-09T21:14:00Z'>21:14</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
morcos: no, imo it&#x27;s not necessary, but I haven&#x27;t heared you complain about it before
<br>
</div>

<div class='talk op-msg' data-timestamp='1478726040' id='509533'>
<a class='timestamp' href='#509533'><time timestamp='2016-11-09T21:14:00Z'>21:14</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
you could just NACK those pulls
<br>
</div>

<div class='talk op-msg' data-timestamp='1478726100' id='509534'>
<a class='timestamp' href='#509534'><time timestamp='2016-11-09T21:15:00Z'>21:15</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
if no one complains then dead code cleanups seems like a no-brainer
<br>
</div>

<div class='talk op-msg' data-timestamp='1478726100' id='509535'>
<a class='timestamp' href='#509535'><time timestamp='2016-11-09T21:15:00Z'>21:15</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
i guess i just panicked b/c i saw one of them got merged before i even saw it
<br>
</div>

<div class='talk op-msg' data-timestamp='1478726100' id='509536'>
<a class='timestamp' href='#509536'><time timestamp='2016-11-09T21:15:00Z'>21:15</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
within a 12 hours
<br>
</div>

<div class='talk op-msg' data-timestamp='1478726100' id='509537'>
<a class='timestamp' href='#509537'><time timestamp='2016-11-09T21:15:00Z'>21:15</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
but that one actually was trivial
<br>
</div>

<div class='talk op-msg' data-timestamp='1478726100' id='509538'>
<a class='timestamp' href='#509538'><time timestamp='2016-11-09T21:15:00Z'>21:15</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
that was just a one-liner
<br>
</div>

<div class='talk op-msg' data-timestamp='1478726100' id='509539'>
<a class='timestamp' href='#509539'><time timestamp='2016-11-09T21:15:00Z'>21:15</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
i will comment on the other
<br>
</div>

<div class='talk op-msg' data-timestamp='1478726100' id='509540'>
<a class='timestamp' href='#509540'><time timestamp='2016-11-09T21:15:00Z'>21:15</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
i hadn&#x27;t actually looked at the changes on either of them yet
<br>
</div>

<div class='talk op-msg' data-timestamp='1478726100' id='509541'>
<a class='timestamp' href='#509541'><time timestamp='2016-11-09T21:15:00Z'>21:15</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
also our usual policy is to remove dead code, we&#x27;re using git to make it easy to bring back things if necessary
<br>
</div>

<div class='talk op-msg' data-timestamp='1478726100' id='509542'>
<a class='timestamp' href='#509542'><time timestamp='2016-11-09T21:15:00Z'>21:15</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
but yes i&#x27;m in favor of the priority removal that was done of course, but the require greater logic was tricky to get right the first time
<br>
</div>

<div class='talk op-msg' data-timestamp='1478726160' id='509543'>
<a class='timestamp' href='#509543'><time timestamp='2016-11-09T21:16:00Z'>21:16</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
i&#x27;d rather leave it until we&#x27;re sure we won&#x27;t want it again
<br>
</div>

<div class='talk op-msg' data-timestamp='1478726160' id='509544'>
<a class='timestamp' href='#509544'><time timestamp='2016-11-09T21:16:00Z'>21:16</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
I&#x27;ll just stop merging things now, only caused problems today I feel :/
<br>
</div>

<div class='talk op-msg' data-timestamp='1478726280' id='509545'>
<a class='timestamp' href='#509545'><time timestamp='2016-11-09T21:18:00Z'>21:18</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
just too many pulls...
<br>
</div>

<div class='talk op-msg' data-timestamp='1478726520' id='509546'>
<a class='timestamp' href='#509546'><time timestamp='2016-11-09T21:22:00Z'>21:22</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
wumpus: i&#x27;m impressed you keep up as well as you do..  my head is spinning...  i started today trying to doing a posthumous ACK to the serialization cleanups, and i still haven&#x27;t gotten around to looking at the 2nd commit.
<br>
</div>

<div class='talk op-msg' data-timestamp='1478726700' id='509547'>
<a class='timestamp' href='#509547'><time timestamp='2016-11-09T21:25:00Z'>21:25</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
I also have a harder and harder time keeping up
<br>
</div>

<div class='talk op-msg' data-timestamp='1478726760' id='509548'>
<a class='timestamp' href='#509548'><time timestamp='2016-11-09T21:26:00Z'>21:26</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
i suppose its a good problem to have
<br>
</div>

<div class='talk op-msg' data-timestamp='1478726760' id='509549'>
<a class='timestamp' href='#509549'><time timestamp='2016-11-09T21:26:00Z'>21:26</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
wumpus: re the Wshadow warning, is it possible that the files aren&#x27;t dirty when you change the flag so make isn&#x27;t rebuilding them?
<br>
</div>

<div class='talk op-msg' data-timestamp='1478726820' id='509550'>
<a class='timestamp' href='#509550'><time timestamp='2016-11-09T21:27:00Z'>21:27</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I was rebasing a branch from a distant version when I noticed the warngings, so my tree had been effectively make cleaned.
<br>
</div>

<div class='talk op-msg' data-timestamp='1478726820' id='509551'>
<a class='timestamp' href='#509551'><time timestamp='2016-11-09T21:27:00Z'>21:27</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj closed pull request #9118: Remove requireGreater argment from TxConfirmStats::EstimateMedianVal() (master...remove-dead-code) <a href="https://github.com/bitcoin/bitcoin/pull/9118" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9118</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1478726820' id='509552'>
<a class='timestamp' href='#509552'><time timestamp='2016-11-09T21:27:00Z'>21:27</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
gmaxwell: no, I cleaned both the tree and the ccache, for both compilers
<br>
</div>

<div class='talk op-msg' data-timestamp='1478726880' id='509553'>
<a class='timestamp' href='#509553'><time timestamp='2016-11-09T21:28:00Z'>21:28</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
but I don&#x27;t want to bother with the Wshadow warnings anymore, let&#x27;s focus the rare time we have on more important things
<br>
</div>

<div class='talk op-msg' data-timestamp='1478727060' id='509554'>
<a class='timestamp' href='#509554'><time timestamp='2016-11-09T21:31:00Z'>21:31</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
gmaxwell, can you please try <a href="http://tmp.janik.cz/q.diff" class="link" target="_blank">http://tmp.janik.cz/q.diff</a>?
<br>
</div>

<div class='talk op-msg' data-timestamp='1478727060' id='509555'>
<a class='timestamp' href='#509555'><time timestamp='2016-11-09T21:31:00Z'>21:31</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
it should clear the nVersion from chain.h and others.
<br>
</div>

<div class='talk op-msg' data-timestamp='1478727180' id='509556'>
<a class='timestamp' href='#509556'><time timestamp='2016-11-09T21:33:00Z'>21:33</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
paveljanik: the only ones remaining with that are leveldb and bench/lockedpool.cpp
<br>
</div>

<div class='talk op-msg' data-timestamp='1478727180' id='509557'>
<a class='timestamp' href='#509557'><time timestamp='2016-11-09T21:33:00Z'>21:33</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
gmaxwell, great!
<br>
</div>

<div class='talk op-msg' data-timestamp='1478727180' id='509558'>
<a class='timestamp' href='#509558'><time timestamp='2016-11-09T21:33:00Z'>21:33</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
bench/lockedpool is clear IIRC.
<br>
</div>

<div class='talk op-msg' data-timestamp='1478727180' id='509559'>
<a class='timestamp' href='#509559'><time timestamp='2016-11-09T21:33:00Z'>21:33</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
and leveldb is upstream 8)
<br>
</div>

<div class='talk op-msg' data-timestamp='1478727180' id='509560'>
<a class='timestamp' href='#509560'><time timestamp='2016-11-09T21:33:00Z'>21:33</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
so fixed? ;-)
<br>
</div>

<div class='talk op-msg' data-timestamp='1478727240' id='509561'>
<a class='timestamp' href='#509561'><time timestamp='2016-11-09T21:34:00Z'>21:34</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
paveljanik: I see you&#x27;re renaming local&#x27;s to _local.  That is a violation of the common convention in other codebases that function paramters get _prefixes. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1478727240' id='509562'>
<a class='timestamp' href='#509562'><time timestamp='2016-11-09T21:34:00Z'>21:34</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
but I&#x27;ll first retest on some rolling upstream Linux distro
<br>
</div>

<div class='talk op-msg' data-timestamp='1478727240' id='509563'>
<a class='timestamp' href='#509563'><time timestamp='2016-11-09T21:34:00Z'>21:34</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
we used that even before and people agreed on it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1478727240' id='509564'>
<a class='timestamp' href='#509564'><time timestamp='2016-11-09T21:34:00Z'>21:34</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
some parts of the code use _, some _in, some In postfix..
<br>
</div>

<div class='talk op-msg' data-timestamp='1478727300' id='509565'>
<a class='timestamp' href='#509565'><time timestamp='2016-11-09T21:35:00Z'>21:35</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Were we really using it for <u>_local_</u> variables before, not just function parameters?
<br>
</div>

<div class='talk op-msg' data-timestamp='1478727300' id='509566'>
<a class='timestamp' href='#509566'><time timestamp='2016-11-09T21:35:00Z'>21:35</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
yes     
<br>
</div>

<div class='talk op-msg' data-timestamp='1478727300' id='509567'>
<a class='timestamp' href='#509567'><time timestamp='2016-11-09T21:35:00Z'>21:35</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
I was inspired by it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1478727360' id='509568'>
<a class='timestamp' href='#509568'><time timestamp='2016-11-09T21:36:00Z'>21:36</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
but sometimes, it was better to rename the variables...
<br>
</div>

<div class='talk op-msg' data-timestamp='1478727360' id='509569'>
<a class='timestamp' href='#509569'><time timestamp='2016-11-09T21:36:00Z'>21:36</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
and thus I did so
<br>
</div>

<div class='talk op-msg' data-timestamp='1478727360' id='509570'>
<a class='timestamp' href='#509570'><time timestamp='2016-11-09T21:36:00Z'>21:36</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
e.g. data -&gt; vData to follow the typeName conventions used
<br>
</div>

<div class='talk op-msg' data-timestamp='1478727420' id='509571'>
<a class='timestamp' href='#509571'><time timestamp='2016-11-09T21:37:00Z'>21:37</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
I understand it is not sexy to read all those diffs though 8)
<br>
</div>

<div class='talk op-msg' data-timestamp='1478727480' id='509572'>
<a class='timestamp' href='#509572'><time timestamp='2016-11-09T21:38:00Z'>21:38</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
but please be patient
<br>
</div>

<div class='talk op-msg' data-timestamp='1478727480' id='509573'>
<a class='timestamp' href='#509573'><time timestamp='2016-11-09T21:38:00Z'>21:38</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
paveljanik: for example, in 8808  src/streams.h
<br>
</div>

<div class='talk op-msg' data-timestamp='1478727540' id='509574'>
<a class='timestamp' href='#509574'><time timestamp='2016-11-09T21:39:00Z'>21:39</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
yes, read -&gt; _read.
<br>
</div>

<div class='talk op-msg' data-timestamp='1478727540' id='509575'>
<a class='timestamp' href='#509575'><time timestamp='2016-11-09T21:39:00Z'>21:39</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
you change read to _read  it would be more ideomatic to change it to someghing like nBytes or bread or nread or something like that.
<br>
</div>

<div class='talk op-msg' data-timestamp='1478727600' id='509576'>
<a class='timestamp' href='#509576'><time timestamp='2016-11-09T21:40:00Z'>21:40</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
no problem, just comment there and I will change it ;-)
<br>
</div>

<div class='talk op-msg' data-timestamp='1478727660' id='509577'>
<a class='timestamp' href='#509577'><time timestamp='2016-11-09T21:41:00Z'>21:41</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
When you make these updates are you checking to make sure the existing code wasn&#x27;t buggy?
<br>
</div>

<div class='talk op-msg' data-timestamp='1478727660' id='509578'>
<a class='timestamp' href='#509578'><time timestamp='2016-11-09T21:41:00Z'>21:41</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
sometimes. I even found some bugs, yes.
<br>
</div>

<div class='talk op-msg' data-timestamp='1478727720' id='509579'>
<a class='timestamp' href='#509579'><time timestamp='2016-11-09T21:42:00Z'>21:42</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
paveljanik: Good. I&#x27;ll gladly leave some comments.
<br>
</div>

<div class='talk op-msg' data-timestamp='1478729100' id='509580'>
<a class='timestamp' href='#509580'><time timestamp='2016-11-09T22:05:00Z'>22:05</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] UdjinM6 opened pull request #9120: bug: Missed one &quot;return false&quot; in recent refactoring in #9067 (master...fixExitCodesBitcoinTx) <a href="https://github.com/bitcoin/bitcoin/pull/9120" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9120</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1478729220' id='509581'>
<a class='timestamp' href='#509581'><time timestamp='2016-11-09T22:07:00Z'>22:07</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
gmaxwell, thank you!
<br>
</div>

<div class='talk op-msg' data-timestamp='1478730360' id='509582'>
<a class='timestamp' href='#509582'><time timestamp='2016-11-09T22:26:00Z'>22:26</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
morcos: no, I&#x27;m still getting my weird error on walletbackup even with #9058, really killall bitcoind ; rm -rf ./qa/cache ; doesn&#x27;t seem enough
<br>
</div>

<div class='talk op-msg' data-timestamp='1478730360' id='509583'>
<a class='timestamp' href='#509583'><time timestamp='2016-11-09T22:26:00Z'>22:26</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/9058" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/9058</a> | Fixes for p2p-compactblocks.py test timeouts on travis (#8842) by ryanofsky · Pull Request #9058 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1478730420' id='509584'>
<a class='timestamp' href='#509584'><time timestamp='2016-11-09T22:27:00Z'>22:27</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
jtimon: not for me right?
<br>
</div>

<div class='talk op-msg' data-timestamp='1478731380' id='509585'>
<a class='timestamp' href='#509585'><time timestamp='2016-11-09T22:43:00Z'>22:43</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
reminder: I only get it by running all rpc tests, not running walletbackupt individually
<br>
</div>

<div class='talk op-msg' data-timestamp='1478731380' id='509586'>
<a class='timestamp' href='#509586'><time timestamp='2016-11-09T22:43:00Z'>22:43</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
you told me 9058 may help the other day, but it seems is unrelated :(
<br>
</div>

<div class='talk op-msg' data-timestamp='1478731560' id='509587'>
<a class='timestamp' href='#509587'><time timestamp='2016-11-09T22:46:00Z'>22:46</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
I&#x27;m locally getting errors on your branch, but I was getting them already and at this point I&#x27;m just doing something wrong with rpc tests somehow, so yeah, sorry for the too long explanation
<br>
</div>

<div class='talk op-msg' data-timestamp='1478731860' id='509588'>
<a class='timestamp' href='#509588'><time timestamp='2016-11-09T22:51:00Z'>22:51</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
btw, general thoughts on moving some fast extended tests to the common ones and maybe also some slow ones from the common ones to the extended ones?
<br>
</div>

<div class='talk op-msg' data-timestamp='1478732160' id='509589'>
<a class='timestamp' href='#509589'><time timestamp='2016-11-09T22:56:00Z'>22:56</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
re warnings you can still fix some shadowing even if you don&#x27;t put the new flag yet
<br>
</div>

<div class='talk op-msg' data-timestamp='1478735100' id='509590'>
<a class='timestamp' href='#509590'><time timestamp='2016-11-09T23:45:00Z'>23:45</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
I&#x27;m starting to think it may not be just be but actually something between 1adf82ac and faec09bc
<br>
</div>

<div class='talk op-msg' data-timestamp='1478735580' id='509591'>
<a class='timestamp' href='#509591'><time timestamp='2016-11-09T23:53:00Z'>23:53</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
s/just be/just me/
<br>
</div>

</div>
</section>

</body>
</html>
