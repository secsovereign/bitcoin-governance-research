<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2020-06-30
 — 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2020-06-30' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:18 UTC</pre>
<pre><a href="/bitcoin-core-dev/2020-05-30">&lt;</a><span class='header'>    June 2020     </span><a href="/bitcoin-core-dev/2020-07-30">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;    <a class="" href="/bitcoin-core-dev/2020-06-01">1</a>  <a class="" href="/bitcoin-core-dev/2020-06-02">2</a>  <a class="" href="/bitcoin-core-dev/2020-06-03">3</a>  <a class="" href="/bitcoin-core-dev/2020-06-04">4</a>  <a class="" href="/bitcoin-core-dev/2020-06-05">5</a>  <a class="" href="/bitcoin-core-dev/2020-06-06">6</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2020-06-07">7</a>  <a class="" href="/bitcoin-core-dev/2020-06-08">8</a>  <a class="" href="/bitcoin-core-dev/2020-06-09">9</a> <a class="" href="/bitcoin-core-dev/2020-06-10">10</a> <a class="" href="/bitcoin-core-dev/2020-06-11">11</a> <a class="" href="/bitcoin-core-dev/2020-06-12">12</a> <a class="" href="/bitcoin-core-dev/2020-06-13">13</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2020-06-14">14</a> <a class="" href="/bitcoin-core-dev/2020-06-15">15</a> <a class="" href="/bitcoin-core-dev/2020-06-16">16</a> <a class="" href="/bitcoin-core-dev/2020-06-17">17</a> <a class="" href="/bitcoin-core-dev/2020-06-18">18</a> <a class="" href="/bitcoin-core-dev/2020-06-19">19</a> <a class="" href="/bitcoin-core-dev/2020-06-20">20</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2020-06-21">21</a> <a class="" href="/bitcoin-core-dev/2020-06-22">22</a> <a class="" href="/bitcoin-core-dev/2020-06-23">23</a> <a class="" href="/bitcoin-core-dev/2020-06-24">24</a> <a class="" href="/bitcoin-core-dev/2020-06-25">25</a> <a class="" href="/bitcoin-core-dev/2020-06-26">26</a> <a class="" href="/bitcoin-core-dev/2020-06-27">27</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2020-06-28">28</a> <a class="" href="/bitcoin-core-dev/2020-06-29">29</a> <a class="current" href="/bitcoin-core-dev/2020-06-30">30</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1593492780' id='394121'>
<a class='timestamp' href='#394121'><time timestamp='2020-06-30T04:53:00Z'>04:53</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] BitcoinErrorLog opened pull request #19416: Update pruning tooltip (master...patch-1) <a href="https://github.com/bitcoin/bitcoin/pull/19416" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19416</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1593501180' id='394122'>
<a class='timestamp' href='#394122'><time timestamp='2020-06-30T07:13:00Z'>07:13</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] Saibato opened pull request #19419: wallet: Listwallets do not iterate trough our blocksdata. (master...wallet_351) <a href="https://github.com/bitcoin/bitcoin/pull/19419" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19419</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1593501720' id='394123'>
<a class='timestamp' href='#394123'><time timestamp='2020-06-30T07:22:00Z'>07:22</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] fanquake closed pull request #19416: Update pruning tooltip (master...patch-1) <a href="https://github.com/bitcoin/bitcoin/pull/19416" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19416</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1593506520' id='394124'>
<a class='timestamp' href='#394124'><time timestamp='2020-06-30T08:42:00Z'>08:42</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
trying to figure out how to use Guix, but the instructions I find expect me to mess with my system/root; is there a howto do it within a single isolated directory, like gitian?
<br>
</div>

<div class='talk op-msg' data-timestamp='1593506520' id='394125'>
<a class='timestamp' href='#394125'><time timestamp='2020-06-30T08:42:00Z'>08:42</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
(or is moving to Guix a bad idea after all?)
<br>
</div>

<div class='talk op-msg' data-timestamp='1593508200' id='394126'>
<a class='timestamp' href='#394126'><time timestamp='2020-06-30T09:10:00Z'>09:10</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
according to #guix, Guix itself has bootstrapping problems.. wtf
<br>
</div>

<div class='talk op-msg' data-timestamp='1593509040' id='394127'>
<a class='timestamp' href='#394127'><time timestamp='2020-06-30T09:24:00Z'>09:24</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
smh, dongcarl correct me if they&#x27;re wrong
<br>
</div>

<div class='talk op-msg' data-timestamp='1593509040' id='394128'>
<a class='timestamp' href='#394128'><time timestamp='2020-06-30T09:24:00Z'>09:24</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
is it possible to run a functional test in lldb/gdb?
<br>
</div>

<div class='talk op-msg' data-timestamp='1593509280' id='394129'>
<a class='timestamp' href='#394129'><time timestamp='2020-06-30T09:28:00Z'>09:28</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
promag: I use this
<br>
</div>

<div class='talk op-msg' data-timestamp='1593509280' id='394130'>
<a class='timestamp' href='#394130'><time timestamp='2020-06-30T09:28:00Z'>09:28</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
while ! gdb -p `ps -eo pid,cmd | grep bitcoind.*testnode2 | grep -v grep | cut -d&quot; &quot; -f1` ; do true; done
<br>
</div>

<div class='talk op-msg' data-timestamp='1593509280' id='394131'>
<a class='timestamp' href='#394131'><time timestamp='2020-06-30T09:28:00Z'>09:28</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
usually quick enough
<br>
</div>

<div class='talk op-msg' data-timestamp='1593509280' id='394132'>
<a class='timestamp' href='#394132'><time timestamp='2020-06-30T09:28:00Z'>09:28</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
take care to adjust the node number
<br>
</div>

<div class='talk op-msg' data-timestamp='1593509340' id='394133'>
<a class='timestamp' href='#394133'><time timestamp='2020-06-30T09:29:00Z'>09:29</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
not sure that will work in my case
<br>
</div>

<div class='talk op-msg' data-timestamp='1593509340' id='394134'>
<a class='timestamp' href='#394134'><time timestamp='2020-06-30T09:29:00Z'>09:29</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
while test/functional/feature_shutdown.py; do :; done
<br>
</div>

<div class='talk op-msg' data-timestamp='1593509400' id='394135'>
<a class='timestamp' href='#394135'><time timestamp='2020-06-30T09:30:00Z'>09:30</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
eventually it crashes
<br>
</div>

<div class='talk op-msg' data-timestamp='1593509400' id='394136'>
<a class='timestamp' href='#394136'><time timestamp='2020-06-30T09:30:00Z'>09:30</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
hmm
<br>
</div>

<div class='talk op-msg' data-timestamp='1593509460' id='394137'>
<a class='timestamp' href='#394137'><time timestamp='2020-06-30T09:31:00Z'>09:31</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
does it dump a core file? ;)
<br>
</div>

<div class='talk op-msg' data-timestamp='1593509520' id='394138'>
<a class='timestamp' href='#394138'><time timestamp='2020-06-30T09:32:00Z'>09:32</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
promag: I have edited the python to put a long &quot;sleep&quot; at the top of the offending test so I have a chance to attach the debugger
<br>
</div>

<div class='talk op-msg' data-timestamp='1593509520' id='394139'>
<a class='timestamp' href='#394139'><time timestamp='2020-06-30T09:32:00Z'>09:32</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
I guess that doesn&#x27;t work if you have to run the test in a loop though
<br>
</div>

<div class='talk op-msg' data-timestamp='1593509700' id='394140'>
<a class='timestamp' href='#394140'><time timestamp='2020-06-30T09:35:00Z'>09:35</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
the test is simple enough you might be able to reimplement it as a shell script and invoke the debugger that way
<br>
</div>

<div class='talk op-msg' data-timestamp='1593509820' id='394141'>
<a class='timestamp' href='#394141'><time timestamp='2020-06-30T09:37:00Z'>09:37</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
gwillen: yeah, I tried that but I feel I should be able to debug with the functional test - what if the test was complex?
<br>
</div>

<div class='talk op-msg' data-timestamp='1593509820' id='394142'>
<a class='timestamp' href='#394142'><time timestamp='2020-06-30T09:37:00Z'>09:37</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
luke-jr: right, I don&#x27;t see the dump
<br>
</div>

<div class='talk op-msg' data-timestamp='1593510120' id='394143'>
<a class='timestamp' href='#394143'><time timestamp='2020-06-30T09:42:00Z'>09:42</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
unfortunately coredumps are now a function of systemd (I wish I was kidding about that)
<br>
</div>

<div class='talk op-msg' data-timestamp='1593510180' id='394144'>
<a class='timestamp' href='#394144'><time timestamp='2020-06-30T09:43:00Z'>09:43</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
check the value of &#x27;ulimit -c&#x27; to see if you have a process limit on core dump size (0 means no core dumps)
<br>
</div>

<div class='talk op-msg' data-timestamp='1593510300' id='394145'>
<a class='timestamp' href='#394145'><time timestamp='2020-06-30T09:45:00Z'>09:45</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
otherwise there are some systemd configs involved, and allegedly by default the dumps should end up in /var/lib/systemd/coredump, but apparently you have to use `coredumpctl` to read them.
<br>
</div>

<div class='talk op-msg' data-timestamp='1593510420' id='394146'>
<a class='timestamp' href='#394146'><time timestamp='2020-06-30T09:47:00Z'>09:47</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
im on macos
<br>
</div>

<div class='talk op-msg' data-timestamp='1593510420' id='394147'>
<a class='timestamp' href='#394147'><time timestamp='2020-06-30T09:47:00Z'>09:47</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
ive done ulimit -c unlimited
<br>
</div>

<div class='talk op-msg' data-timestamp='1593510720' id='394148'>
<a class='timestamp' href='#394148'><time timestamp='2020-06-30T09:52:00Z'>09:52</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
gwillen: lolwtfbbq?
<br>
</div>

<div class='talk op-msg' data-timestamp='1593510780' id='394149'>
<a class='timestamp' href='#394149'><time timestamp='2020-06-30T09:53:00Z'>09:53</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
gwillen: yet another reason not to use systemd
<br>
</div>

<div class='talk op-msg' data-timestamp='1593512160' id='394150'>
<a class='timestamp' href='#394150'><time timestamp='2020-06-30T10:16:00Z'>10:16</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
so can we bump min libevent to 2.1.x?
<br>
</div>

<div class='talk op-msg' data-timestamp='1593513480' id='394151'>
<a class='timestamp' href='#394151'><time timestamp='2020-06-30T10:38:00Z'>10:38</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] promag opened pull request #19420: http: Track active requests and wait for last to finish (master...2020-06-track-requests) <a href="https://github.com/bitcoin/bitcoin/pull/19420" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19420</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1593524700' id='394152'>
<a class='timestamp' href='#394152'><time timestamp='2020-06-30T13:45:00Z'>13:45</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
promag: not sure if this helps in your scenario, but have you read <a href="https://github.com/bitcoin/bitcoin/blob/master/test/README.md#attaching-a-debugger" class="link" target="_blank">https://github.com/bitcoin/bitcoin/blob/master/test/README.md#attaching-a-debugger</a> ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1593524760' id='394153'>
<a class='timestamp' href='#394153'><time timestamp='2020-06-30T13:46:00Z'>13:46</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
also take a look at --pdbonfailure to attach a python debugger (and essentially pause the test) when an assert fails
<br>
</div>

<div class='talk op-msg' data-timestamp='1593525480' id='394154'>
<a class='timestamp' href='#394154'><time timestamp='2020-06-30T13:58:00Z'>13:58</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
jnewbery, i dont find pdbonfailure too helpful because you lose context of the failure, at least when i tried it
<br>
</div>

<div class='talk op-msg' data-timestamp='1593525540' id='394155'>
<a class='timestamp' href='#394155'><time timestamp='2020-06-30T13:59:00Z'>13:59</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
ideally it would just literally stick a pdb.set_trace() in the spot you hit an assert failure and let you &quot;step&quot; over the failure, or something
<br>
</div>

<div class='talk op-msg' data-timestamp='1593526980' id='394156'>
<a class='timestamp' href='#394156'><time timestamp='2020-06-30T14:23:00Z'>14:23</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
instagibbs: right, you&#x27;re not inside the main run_test() function any more, but you can still interact with the nodes eg run self.nodes[0].getblockchaininfo() or whatever, or attach a gdb to the bitcoind process
<br>
</div>

<div class='talk op-msg' data-timestamp='1593527100' id='394157'>
<a class='timestamp' href='#394157'><time timestamp='2020-06-30T14:25:00Z'>14:25</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
right depends on the issue you&#x27;re debugging, can be helpful
<br>
</div>

<div class='talk op-msg' data-timestamp='1593527160' id='394158'>
<a class='timestamp' href='#394158'><time timestamp='2020-06-30T14:26:00Z'>14:26</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
I guess we could change the assert_***() functions to attach a pdb <u>_before_</u> asserting if you still want the run_test() context
<br>
</div>

<div class='talk op-msg' data-timestamp='1593527820' id='394159'>
<a class='timestamp' href='#394159'><time timestamp='2020-06-30T14:37:00Z'>14:37</time></a>
&lt;<span class='nick nick-9'> troygiorshev</span>&gt;
PSA - As of recently, clang-format now requires version 9 or greater.  Recent (19.04+) ubuntu releases are already there.  For most others upgrading should be easy, just search for clang-format-9.  If you use debian, go here <a href="https://apt.llvm.org/" class="link" target="_blank">https://apt.llvm.org/</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1593527880' id='394160'>
<a class='timestamp' href='#394160'><time timestamp='2020-06-30T14:38:00Z'>14:38</time></a>
&lt;<span class='nick nick-9'> troygiorshev</span>&gt;
This is due to a recent change to our .clang-format file
<br>
</div>

<div class='talk op-msg' data-timestamp='1593529500' id='394161'>
<a class='timestamp' href='#394161'><time timestamp='2020-06-30T15:05:00Z'>15:05</time></a>
&lt;<span class='nick nick-6'> jonatack_</span>&gt;
troygiorshev: thanks, do you know whch PR or why was this changed? I&#x27;m on debian clang 6 and you are right, for the first time clang-format is broken now
<br>
</div>

<div class='talk op-msg' data-timestamp='1593529920' id='394162'>
<a class='timestamp' href='#394162'><time timestamp='2020-06-30T15:12:00Z'>15:12</time></a>
&lt;<span class='nick nick-9'> troygiorshev</span>&gt;
jonatack_: it&#x27;s the addition of AllowAllArgumentsOnNextLine : true in 19095.
<br>
</div>

<div class='talk op-msg' data-timestamp='1593529920' id='394163'>
<a class='timestamp' href='#394163'><time timestamp='2020-06-30T15:12:00Z'>15:12</time></a>
&lt;<span class='nick nick-9'> troygiorshev</span>&gt;
#19095
<br>
</div>

<div class='talk op-msg' data-timestamp='1593529920' id='394164'>
<a class='timestamp' href='#394164'><time timestamp='2020-06-30T15:12:00Z'>15:12</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/19095" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/19095</a> | [tools] Update clang-format config for multi-line function declarations and calls by jnewbery · Pull Request #19095 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1593530100' id='394165'>
<a class='timestamp' href='#394165'><time timestamp='2020-06-30T15:15:00Z'>15:15</time></a>
&lt;<span class='nick nick-9'> troygiorshev</span>&gt;
also stretch is EOL in 6 days, go upgrade to buster :D
<br>
</div>

<div class='talk op-msg' data-timestamp='1593532560' id='394166'>
<a class='timestamp' href='#394166'><time timestamp='2020-06-30T15:56:00Z'>15:56</time></a>
&lt;<span class='nick nick-14'> jonatack</span>&gt;
troygiorshev: yeah, i use a security-by-default variant of debian with coreboot, that is conservative with upgrading and it&#x27;s still at clang 6 for now. last time i tried to install llvm from source i wasted a lot of time without managing to.
<br>
</div>

<div class='talk op-msg' data-timestamp='1593532560' id='394167'>
<a class='timestamp' href='#394167'><time timestamp='2020-06-30T15:56:00Z'>15:56</time></a>
&lt;<span class='nick nick-14'> jonatack</span>&gt;
oh, well
<br>
</div>

<div class='talk op-msg' data-timestamp='1593532740' id='394168'>
<a class='timestamp' href='#394168'><time timestamp='2020-06-30T15:59:00Z'>15:59</time></a>
&lt;<span class='nick nick-9'> troygiorshev</span>&gt;
jonatack: <a href="https://apt.llvm.org/" class="link" target="_blank">https://apt.llvm.org/</a> should still work nicely for you (give or take security considerations)
<br>
</div>

<div class='talk op-msg' data-timestamp='1593532920' id='394169'>
<a class='timestamp' href='#394169'><time timestamp='2020-06-30T16:02:00Z'>16:02</time></a>
&lt;<span class='nick nick-14'> jonatack</span>&gt;
it does not
<br>
</div>

<div class='talk op-msg' data-timestamp='1593532980' id='394170'>
<a class='timestamp' href='#394170'><time timestamp='2020-06-30T16:03:00Z'>16:03</time></a>
&lt;<span class='nick nick-14'> jonatack</span>&gt;
i&#x27;ll live without clang-format for now
<br>
</div>

<div class='talk op-msg' data-timestamp='1593560280' id='394171'>
<a class='timestamp' href='#394171'><time timestamp='2020-06-30T23:38:00Z'>23:38</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke opened pull request #19422: ci: Add tsan suppression for race in wallet (master...2007-ciTsanSupW) <a href="https://github.com/bitcoin/bitcoin/pull/19422" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19422</a>
<br>
</div>

</div>
</section>

</body>
</html>
