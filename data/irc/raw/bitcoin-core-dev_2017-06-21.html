<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2017-06-21
 — 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2017-06-21' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:24 UTC</pre>
<pre><a href="/bitcoin-core-dev/2017-05-21">&lt;</a><span class='header'>    June 2017     </span><a href="/bitcoin-core-dev/2017-07-21">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;             <a class="" href="/bitcoin-core-dev/2017-06-01">1</a>  <a class="" href="/bitcoin-core-dev/2017-06-02">2</a>  <a class="" href="/bitcoin-core-dev/2017-06-03">3</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2017-06-04">4</a>  <a class="" href="/bitcoin-core-dev/2017-06-05">5</a>  <a class="" href="/bitcoin-core-dev/2017-06-06">6</a>  <a class="" href="/bitcoin-core-dev/2017-06-07">7</a>  <a class="" href="/bitcoin-core-dev/2017-06-08">8</a>  <a class="" href="/bitcoin-core-dev/2017-06-09">9</a> <a class="" href="/bitcoin-core-dev/2017-06-10">10</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2017-06-11">11</a> <a class="" href="/bitcoin-core-dev/2017-06-12">12</a> <a class="" href="/bitcoin-core-dev/2017-06-13">13</a> <a class="" href="/bitcoin-core-dev/2017-06-14">14</a> <a class="" href="/bitcoin-core-dev/2017-06-15">15</a> <a class="" href="/bitcoin-core-dev/2017-06-16">16</a> <a class="" href="/bitcoin-core-dev/2017-06-17">17</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2017-06-18">18</a> <a class="" href="/bitcoin-core-dev/2017-06-19">19</a> <a class="" href="/bitcoin-core-dev/2017-06-20">20</a> <a class="current" href="/bitcoin-core-dev/2017-06-21">21</a> <a class="" href="/bitcoin-core-dev/2017-06-22">22</a> <a class="" href="/bitcoin-core-dev/2017-06-23">23</a> <a class="" href="/bitcoin-core-dev/2017-06-24">24</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2017-06-25">25</a> <a class="" href="/bitcoin-core-dev/2017-06-26">26</a> <a class="" href="/bitcoin-core-dev/2017-06-27">27</a> <a class="" href="/bitcoin-core-dev/2017-06-28">28</a> <a class="" href="/bitcoin-core-dev/2017-06-29">29</a> <a class="" href="/bitcoin-core-dev/2017-06-30">30</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1498003380' id='551780'>
<a class='timestamp' href='#551780'><time timestamp='2017-06-21T00:03:00Z'>00:03</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] sipa pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/d636f3943d39...b33ca14f594e" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/d636f3943d39...b33ca14f594e</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1498003380' id='551781'>
<a class='timestamp' href='#551781'><time timestamp='2017-06-21T00:03:00Z'>00:03</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 95543d8 practicalswift: [net] Avoid possibility of NULL pointer dereference in MarkBlockAsInFlight(...)...
<br>
</div>

<div class='talk op-msg' data-timestamp='1498003380' id='551782'>
<a class='timestamp' href='#551782'><time timestamp='2017-06-21T00:03:00Z'>00:03</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master b33ca14 Pieter Wuille: Merge #9549: [net] Avoid possibility of NULL pointer dereference in MarkBlockAsInFlight(...)...
<br>
</div>

<div class='talk op-msg' data-timestamp='1498003380' id='551783'>
<a class='timestamp' href='#551783'><time timestamp='2017-06-21T00:03:00Z'>00:03</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] sipa closed pull request #9549: [net] Avoid possibility of NULL pointer dereference in MarkBlockAsInFlight(...) (master...avoid-potential-null-pointer-dereference-in-markblockasinflight) <a href="https://github.com/bitcoin/bitcoin/pull/9549" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9549</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1498006800' id='551784'>
<a class='timestamp' href='#551784'><time timestamp='2017-06-21T01:00:00Z'>01:00</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] sipa pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/b33ca14f594e...efbcf2b1d5ff" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/b33ca14f594e...efbcf2b1d5ff</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1498006800' id='551785'>
<a class='timestamp' href='#551785'><time timestamp='2017-06-21T01:00:00Z'>01:00</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master d9bec88 Pieter Wuille: Use REJECT_DUPLICATE for already known and conflicted txn
<br>
</div>

<div class='talk op-msg' data-timestamp='1498006800' id='551786'>
<a class='timestamp' href='#551786'><time timestamp='2017-06-21T01:00:00Z'>01:00</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master efbcf2b Pieter Wuille: Merge #10503: Use REJECT_DUPLICATE for already known and conflicted txn...
<br>
</div>

<div class='talk op-msg' data-timestamp='1498006860' id='551787'>
<a class='timestamp' href='#551787'><time timestamp='2017-06-21T01:01:00Z'>01:01</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] sipa closed pull request #10503: Use REJECT_DUPLICATE for already known and conflicted txn (master...more61duplicate) <a href="https://github.com/bitcoin/bitcoin/pull/10503" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10503</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1498008480' id='551788'>
<a class='timestamp' href='#551788'><time timestamp='2017-06-21T01:28:00Z'>01:28</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] sipa pushed 5 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/efbcf2b1d5ff...b3eb0d648551" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/efbcf2b1d5ff...b3eb0d648551</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1498008480' id='551789'>
<a class='timestamp' href='#551789'><time timestamp='2017-06-21T01:28:00Z'>01:28</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master ec1271f Matt Corallo: Remove useless mapNextTx lookup in CTxMemPool::TrimToSize....
<br>
</div>

<div class='talk op-msg' data-timestamp='1498008480' id='551790'>
<a class='timestamp' href='#551790'><time timestamp='2017-06-21T01:28:00Z'>01:28</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 3533fb4 Matt Corallo: Return a bool in SpendCoin to restore pre-per-utxo assert semantics...
<br>
</div>

<div class='talk op-msg' data-timestamp='1498008480' id='551791'>
<a class='timestamp' href='#551791'><time timestamp='2017-06-21T01:28:00Z'>01:28</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master f58349c Matt Corallo: Restore some assert semantics in sigop cost calculations...
<br>
</div>

<div class='talk op-msg' data-timestamp='1498008480' id='551792'>
<a class='timestamp' href='#551792'><time timestamp='2017-06-21T01:28:00Z'>01:28</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] sipa closed pull request #10537: Few Minor per-utxo assert-semantics re-adds and tweak (master...2017-06-per-utxo-fixes) <a href="https://github.com/bitcoin/bitcoin/pull/10537" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10537</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1498044120' id='551793'>
<a class='timestamp' href='#551793'><time timestamp='2017-06-21T11:22:00Z'>11:22</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] practicalswift opened pull request #10642: Use the _MSC_VER macro only if it is defined (master...undefined-msc-ver) <a href="https://github.com/bitcoin/bitcoin/pull/10642" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10642</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1498049640' id='551794'>
<a class='timestamp' href='#551794'><time timestamp='2017-06-21T12:54:00Z'>12:54</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 4 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/b3eb0d648551...d083bd9b9c52" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/b3eb0d648551...d083bd9b9c52</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1498049640' id='551795'>
<a class='timestamp' href='#551795'><time timestamp='2017-06-21T12:54:00Z'>12:54</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master c53c983 Andrew Chow: Replace cookie auth in tests...
<br>
</div>

<div class='talk op-msg' data-timestamp='1498049640' id='551796'>
<a class='timestamp' href='#551796'><time timestamp='2017-06-21T12:54:00Z'>12:54</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 3ec5ad8 Andrew Chow: Add test for rpcuser/rpcpassword
<br>
</div>

<div class='talk op-msg' data-timestamp='1498049640' id='551797'>
<a class='timestamp' href='#551797'><time timestamp='2017-06-21T12:54:00Z'>12:54</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 279fde5 Andrew Chow: Check for rpcuser/rpcpassword first then for cookie...
<br>
</div>

<div class='talk op-msg' data-timestamp='1498049700' id='551798'>
<a class='timestamp' href='#551798'><time timestamp='2017-06-21T12:55:00Z'>12:55</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj closed pull request #10533: [tests] Use cookie auth instead of rpcuser and rpcpassword (master...tests-use-cookie-auth) <a href="https://github.com/bitcoin/bitcoin/pull/10533" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10533</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1498055700' id='551799'>
<a class='timestamp' href='#551799'><time timestamp='2017-06-21T14:35:00Z'>14:35</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] rexuslexus opened pull request #10643: TestCoin 0.0.1 (master...master) <a href="https://github.com/bitcoin/bitcoin/pull/10643" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10643</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1498055760' id='551800'>
<a class='timestamp' href='#551800'><time timestamp='2017-06-21T14:36:00Z'>14:36</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] rexuslexus closed pull request #10643: TestCoin 0.0.1 (master...master) <a href="https://github.com/bitcoin/bitcoin/pull/10643" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10643</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1498066920' id='551801'>
<a class='timestamp' href='#551801'><time timestamp='2017-06-21T17:42:00Z'>17:42</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
anyone know what&#x27;s up with travis failing on #10637?
<br>
</div>

<div class='talk op-msg' data-timestamp='1498066980' id='551802'>
<a class='timestamp' href='#551802'><time timestamp='2017-06-21T17:43:00Z'>17:43</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/10637" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/10637</a> | Coin Selection with Murchs algorithm by achow101 · Pull Request #10637 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1498068360' id='551803'>
<a class='timestamp' href='#551803'><time timestamp='2017-06-21T18:06:00Z'>18:06</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
achow101: unknown location(0): fatal error: in &quot;coin_selection_tests/bnb_search_test&quot;: std::out_of_range: vector::_M_range_check
<br>
</div>

<div class='talk op-msg' data-timestamp='1498068360' id='551804'>
<a class='timestamp' href='#551804'><time timestamp='2017-06-21T18:06:00Z'>18:06</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
mempool_limit.py               | ✖ Failed  | 4 s
<br>
</div>

<div class='talk op-msg' data-timestamp='1498068360' id='551805'>
<a class='timestamp' href='#551805'><time timestamp='2017-06-21T18:06:00Z'>18:06</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
fundrawtransaction.py          | ✖ Failed  | 12 s
<br>
</div>

<div class='talk op-msg' data-timestamp='1498068420' id='551806'>
<a class='timestamp' href='#551806'><time timestamp='2017-06-21T18:07:00Z'>18:07</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sounds like an out of bounds access of a vector
<br>
</div>

<div class='talk op-msg' data-timestamp='1498068420' id='551807'>
<a class='timestamp' href='#551807'><time timestamp='2017-06-21T18:07:00Z'>18:07</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
The rpc test failures are reported here: <a href="https://travis-ci.org/bitcoin/bitcoin/jobs/245174021" class="link" target="_blank">https://travis-ci.org/bitcoin/bitcoin/jobs/245174021</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1498068420' id='551808'>
<a class='timestamp' href='#551808'><time timestamp='2017-06-21T18:07:00Z'>18:07</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
jonasschnelli: there&#x27;s also a build failure too
<br>
</div>

<div class='talk op-msg' data-timestamp='1498068420' id='551809'>
<a class='timestamp' href='#551809'><time timestamp='2017-06-21T18:07:00Z'>18:07</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
unknown location(0): fatal error: in &quot;coin_selection_tests/bnb_search_test&quot;: signal: SIGABRT (application abort requested)
<br>
</div>

<div class='talk op-msg' data-timestamp='1498068480' id='551810'>
<a class='timestamp' href='#551810'><time timestamp='2017-06-21T18:08:00Z'>18:08</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
test_bitcoin: key.cpp:292: void ECC_Start(): Assertion `secp256k1_context_sign == __null&#x27; failed.
<br>
</div>

<div class='talk op-msg' data-timestamp='1498068480' id='551811'>
<a class='timestamp' href='#551811'><time timestamp='2017-06-21T18:08:00Z'>18:08</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
haven&#x27;t spotted the build error so far
<br>
</div>

<div class='talk op-msg' data-timestamp='1498068480' id='551812'>
<a class='timestamp' href='#551812'><time timestamp='2017-06-21T18:08:00Z'>18:08</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
it&#x27;s in one of the other travis builds
<br>
</div>

<div class='talk op-msg' data-timestamp='1498068540' id='551813'>
<a class='timestamp' href='#551813'><time timestamp='2017-06-21T18:09:00Z'>18:09</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
<a href="https://travis-ci.org/bitcoin/bitcoin/jobs/245174020" class="link" target="_blank">https://travis-ci.org/bitcoin/bitcoin/jobs/245174020</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1498068540' id='551814'>
<a class='timestamp' href='#551814'><time timestamp='2017-06-21T18:09:00Z'>18:09</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
some of the builds run with instrumented STL that detect things like out of range accesses to vectors. (often accessing [0] in an empty vector.)
<br>
</div>

<div class='talk op-msg' data-timestamp='1498068540' id='551815'>
<a class='timestamp' href='#551815'><time timestamp='2017-06-21T18:09:00Z'>18:09</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
achow101: I guess compiling on a Trusty 14.04 VM and valgrund/lldb|gdb could help
<br>
</div>

<div class='talk op-msg' data-timestamp='1498068540' id='551816'>
<a class='timestamp' href='#551816'><time timestamp='2017-06-21T18:09:00Z'>18:09</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
*valgrind
<br>
</div>

<div class='talk op-msg' data-timestamp='1498068540' id='551817'>
<a class='timestamp' href='#551817'><time timestamp='2017-06-21T18:09:00Z'>18:09</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
you can skip the vm stuff and just run valgrind on your test, it&#x27;ll likely turn it up.
<br>
</div>

<div class='talk op-msg' data-timestamp='1498068600' id='551818'>
<a class='timestamp' href='#551818'><time timestamp='2017-06-21T18:10:00Z'>18:10</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
I&#x27;ll try
<br>
</div>

<div class='talk op-msg' data-timestamp='1498070280' id='551819'>
<a class='timestamp' href='#551819'><time timestamp='2017-06-21T18:38:00Z'>18:38</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
valgrind reported no problems
<br>
</div>

<div class='talk op-msg' data-timestamp='1498070340' id='551820'>
<a class='timestamp' href='#551820'><time timestamp='2017-06-21T18:39:00Z'>18:39</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
achow101: OSX?
<br>
</div>

<div class='talk op-msg' data-timestamp='1498070340' id='551821'>
<a class='timestamp' href='#551821'><time timestamp='2017-06-21T18:39:00Z'>18:39</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
no, on ubuntu 17.04
<br>
</div>

<div class='talk op-msg' data-timestamp='1498070340' id='551822'>
<a class='timestamp' href='#551822'><time timestamp='2017-06-21T18:39:00Z'>18:39</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
I don&#x27;t have a windows or osx machine readily available
<br>
</div>

<div class='talk op-msg' data-timestamp='1498070340' id='551823'>
<a class='timestamp' href='#551823'><time timestamp='2017-06-21T18:39:00Z'>18:39</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I had this before and IIRC I could also not reproduce some of the test failures... maybe VM Trusty 14.04
<br>
</div>

<div class='talk op-msg' data-timestamp='1498070460' id='551824'>
<a class='timestamp' href='#551824'><time timestamp='2017-06-21T18:41:00Z'>18:41</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
achow101: maybe double check the travis build env (see what gmaxwell mentioned above &quot;some of the builds run with instrumented STL&quot;)?
<br>
</div>

<div class='talk op-msg' data-timestamp='1498070820' id='551825'>
<a class='timestamp' href='#551825'><time timestamp='2017-06-21T18:47:00Z'>18:47</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
achow101: <a href="https://stackoverflow.com/questions/5594686/gcc-stl-bound-checking" class="link" target="_blank">https://stackoverflow.com/questions/5594686/gcc-stl-bound-checking</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1498071000' id='551826'>
<a class='timestamp' href='#551826'><time timestamp='2017-06-21T18:50:00Z'>18:50</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sipa: the txdb update skipper prework is here: <a href="https://github.com/bitcoin/bitcoin/compare/master...jonasschnelli:2017/06/chainstate_update_prog?expand=1" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/master...jonasschnelli:2017/06/chainstate_update_prog?expand=1</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1498071000' id='551827'>
<a class='timestamp' href='#551827'><time timestamp='2017-06-21T18:50:00Z'>18:50</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
The progress is fake..
<br>
</div>

<div class='talk op-msg' data-timestamp='1498071060' id='551828'>
<a class='timestamp' href='#551828'><time timestamp='2017-06-21T18:51:00Z'>18:51</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
And it&#x27;s a bit hackish... I hope someone has a better design for the callback
<br>
</div>

<div class='talk op-msg' data-timestamp='1498071120' id='551829'>
<a class='timestamp' href='#551829'><time timestamp='2017-06-21T18:52:00Z'>18:52</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I detected db corruption when building a UTXO db on regtest with 0.14.2 (generate 100) and then exit on ShutdownRequested() in CCoinsViewDB::Upgrade()
<br>
</div>

<div class='talk op-msg' data-timestamp='1498071120' id='551830'>
<a class='timestamp' href='#551830'><time timestamp='2017-06-21T18:52:00Z'>18:52</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
* exit on master + the work above
<br>
</div>

<div class='talk op-msg' data-timestamp='1498071120' id='551831'>
<a class='timestamp' href='#551831'><time timestamp='2017-06-21T18:52:00Z'>18:52</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
achow101: note that the last time this came up, it was an issue of: memcpy(foo, bar[0], 0), where bar was empty. Valgrind won&#x27;t report it because the out-of-bounds memory isn&#x27;t actually copied, but it&#x27;s still a bad an idea to [0] an empty container.
<br>
</div>

<div class='talk op-msg' data-timestamp='1498071180' id='551832'>
<a class='timestamp' href='#551832'><time timestamp='2017-06-21T18:53:00Z'>18:53</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
I&#x27;m pretty sure I don&#x27;t have anything like that in my changes
<br>
</div>

<div class='talk op-msg' data-timestamp='1498071240' id='551833'>
<a class='timestamp' href='#551833'><time timestamp='2017-06-21T18:54:00Z'>18:54</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jonasschnelli: i recently fixed a bug that could cause that
<br>
</div>

<div class='talk op-msg' data-timestamp='1498071300' id='551834'>
<a class='timestamp' href='#551834'><time timestamp='2017-06-21T18:55:00Z'>18:55</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sipa: already merged? Then I guess I should retest
<br>
</div>

<div class='talk op-msg' data-timestamp='1498071300' id='551835'>
<a class='timestamp' href='#551835'><time timestamp='2017-06-21T18:55:00Z'>18:55</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jonasschnelli: a few days ago
<br>
</div>

<div class='talk op-msg' data-timestamp='1498071360' id='551836'>
<a class='timestamp' href='#551836'><time timestamp='2017-06-21T18:56:00Z'>18:56</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Not sure if the approach of a &quot;c&quot; keypress in splashscreen to abort the UTXO-set upgrade makes sense..
<br>
</div>

<div class='talk op-msg' data-timestamp='1498071360' id='551837'>
<a class='timestamp' href='#551837'><time timestamp='2017-06-21T18:56:00Z'>18:56</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Though adding buttons on splashscreen is – with the current design – cumbersome
<br>
</div>

<div class='talk op-msg' data-timestamp='1498072200' id='551838'>
<a class='timestamp' href='#551838'><time timestamp='2017-06-21T19:10:00Z'>19:10</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jonasschnelli opened pull request #10644: Slightly overhaul NSI pixmaps (master...2017/06/cleanup) <a href="https://github.com/bitcoin/bitcoin/pull/10644" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10644</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1498072320' id='551839'>
<a class='timestamp' href='#551839'><time timestamp='2017-06-21T19:12:00Z'>19:12</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] practicalswift opened pull request #10645: Use nullptr instead of zero (0) as the null pointer constant (master...welcome-nullptr-goodbye-0) <a href="https://github.com/bitcoin/bitcoin/pull/10645" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10645</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1498072980' id='551840'>
<a class='timestamp' href='#551840'><time timestamp='2017-06-21T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
it seems that the problem may be due to my use of long instead of CAmount in one of the tests I wrote
<br>
</div>

<div class='talk op-msg' data-timestamp='1498073040' id='551841'>
<a class='timestamp' href='#551841'><time timestamp='2017-06-21T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jonasschnelli: what is the sleep for?
<br>
</div>

<div class='talk op-msg' data-timestamp='1498073040' id='551842'>
<a class='timestamp' href='#551842'><time timestamp='2017-06-21T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sipa: dummy progress
<br>
</div>

<div class='talk op-msg' data-timestamp='1498073040' id='551843'>
<a class='timestamp' href='#551843'><time timestamp='2017-06-21T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
only to test
<br>
</div>

<div class='talk op-msg' data-timestamp='1498073100' id='551844'>
<a class='timestamp' href='#551844'><time timestamp='2017-06-21T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
oh     
<br>
</div>

<div class='talk op-msg' data-timestamp='1498073100' id='551845'>
<a class='timestamp' href='#551845'><time timestamp='2017-06-21T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
jonasschnelli: you should add the right code and replace &quot;progress += 0.00001;&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1498073100' id='551846'>
<a class='timestamp' href='#551846'><time timestamp='2017-06-21T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Now I start to ping myself
<br>
</div>

<div class='talk op-msg' data-timestamp='1498073100' id='551847'>
<a class='timestamp' href='#551847'><time timestamp='2017-06-21T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sipa: ... and remove the sleep
<br>
</div>

<div class='talk op-msg' data-timestamp='1498073160' id='551848'>
<a class='timestamp' href='#551848'><time timestamp='2017-06-21T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
you should not remove sleep from yourself
<br>
</div>

<div class='talk op-msg' data-timestamp='1498073220' id='551849'>
<a class='timestamp' href='#551849'><time timestamp='2017-06-21T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
or you&#x27;ll end up doing things like pining yourself
<br>
</div>

<div class='talk op-msg' data-timestamp='1498073220' id='551850'>
<a class='timestamp' href='#551850'><time timestamp='2017-06-21T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
hahaa
<br>
</div>

<div class='talk op-msg' data-timestamp='1498073280' id='551851'>
<a class='timestamp' href='#551851'><time timestamp='2017-06-21T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-12'> * jonasschnelli</span>&gt;
feels like &quot;progress += 0.00001;&quot; in reallife
<br>
</div>

<div class='talk op-msg' data-timestamp='1498073460' id='551852'>
<a class='timestamp' href='#551852'><time timestamp='2017-06-21T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jonasschnelli: uh... nvm
<br>
</div>

<div class='talk op-msg' data-timestamp='1498073520' id='551853'>
<a class='timestamp' href='#551853'><time timestamp='2017-06-21T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
the bug i was talking about is in the non-atomic upgrade PR
<br>
</div>

<div class='talk op-msg' data-timestamp='1498073520' id='551854'>
<a class='timestamp' href='#551854'><time timestamp='2017-06-21T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
not in master
<br>
</div>

<div class='talk op-msg' data-timestamp='1498073520' id='551855'>
<a class='timestamp' href='#551855'><time timestamp='2017-06-21T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
okay. Because I just tested with master and still have the corruption..
<br>
</div>

<div class='talk op-msg' data-timestamp='1498073580' id='551856'>
<a class='timestamp' href='#551856'><time timestamp='2017-06-21T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
:(     
<br>
</div>

<div class='talk op-msg' data-timestamp='1498073580' id='551857'>
<a class='timestamp' href='#551857'><time timestamp='2017-06-21T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
reminds me that we should have a strategy of how to test upgrades (chainstate-db, old wallet files) in functional tests
<br>
</div>

<div class='talk op-msg' data-timestamp='1498073580' id='551858'>
<a class='timestamp' href='#551858'><time timestamp='2017-06-21T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that&#x27;s very hard, unless you store an old version&#x27;s chainstate inside the test..
<br>
</div>

<div class='talk op-msg' data-timestamp='1498073580' id='551859'>
<a class='timestamp' href='#551859'><time timestamp='2017-06-21T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
just logistically
<br>
</div>

<div class='talk op-msg' data-timestamp='1498073580' id='551860'>
<a class='timestamp' href='#551860'><time timestamp='2017-06-21T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I think that would be the simplest solution.
<br>
</div>

<div class='talk op-msg' data-timestamp='1498073580' id='551861'>
<a class='timestamp' href='#551861'><time timestamp='2017-06-21T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Compiling an old version will not be possible (at lest not in travis CI)
<br>
</div>

<div class='talk op-msg' data-timestamp='1498073640' id='551862'>
<a class='timestamp' href='#551862'><time timestamp='2017-06-21T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
yeah its hard to get to work in travis, but not so hard conceptually to write the test in our test framework.  passing in a custom binary to a functional test works fine.
<br>
</div>

<div class='talk op-msg' data-timestamp='1498073640' id='551863'>
<a class='timestamp' href='#551863'><time timestamp='2017-06-21T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I think having some test old blobs fixtures may be okay
<br>
</div>

<div class='talk op-msg' data-timestamp='1498073700' id='551864'>
<a class='timestamp' href='#551864'><time timestamp='2017-06-21T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
i believe i wrote a test like this in p2p-segwit (before we supported modifying bip9 parameters on the command line)
<br>
</div>

<div class='talk op-msg' data-timestamp='1498073700' id='551865'>
<a class='timestamp' href='#551865'><time timestamp='2017-06-21T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
It&#x27;s one of the most lacking things in our test framework (migrations)
<br>
</div>

<div class='talk op-msg' data-timestamp='1498073700' id='551866'>
<a class='timestamp' href='#551866'><time timestamp='2017-06-21T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
those blobs could even be dependencies (as in, for the depends framework)
<br>
</div>

<div class='talk op-msg' data-timestamp='1498073700' id='551867'>
<a class='timestamp' href='#551867'><time timestamp='2017-06-21T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
with known hashes, but downloaded at build time
<br>
</div>

<div class='talk op-msg' data-timestamp='1498073760' id='551868'>
<a class='timestamp' href='#551868'><time timestamp='2017-06-21T19:36:00Z'>19:36</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
yes.. sure.
<br>
</div>

<div class='talk op-msg' data-timestamp='1498073760' id='551869'>
<a class='timestamp' href='#551869'><time timestamp='2017-06-21T19:36:00Z'>19:36</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Especially if they are large...
<br>
</div>

<div class='talk op-msg' data-timestamp='1498073760' id='551870'>
<a class='timestamp' href='#551870'><time timestamp='2017-06-21T19:36:00Z'>19:36</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
for wallet files, I don&#x27;t mind having a couple of 20kb bdb 4.8 files in our test framework
<br>
</div>

</div>
</section>

</body>
</html>
