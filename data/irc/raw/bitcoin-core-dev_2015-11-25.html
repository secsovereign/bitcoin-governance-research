<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2015-11-25
 â€” 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2015-11-25' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:27 UTC</pre>
<pre><a href="/bitcoin-core-dev/2015-10-25">&lt;</a><span class='header'>  November 2015   </span><a href="/bitcoin-core-dev/2015-12-25">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A; <a class="" href="/bitcoin-core-dev/2015-11-01">1</a>  <a class="" href="/bitcoin-core-dev/2015-11-02">2</a>  <a class="" href="/bitcoin-core-dev/2015-11-03">3</a>  <a class="" href="/bitcoin-core-dev/2015-11-04">4</a>  <a class="" href="/bitcoin-core-dev/2015-11-05">5</a>  <a class="" href="/bitcoin-core-dev/2015-11-06">6</a>  <a class="" href="/bitcoin-core-dev/2015-11-07">7</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2015-11-08">8</a>  <a class="" href="/bitcoin-core-dev/2015-11-09">9</a> <a class="" href="/bitcoin-core-dev/2015-11-10">10</a> <a class="" href="/bitcoin-core-dev/2015-11-11">11</a> <a class="" href="/bitcoin-core-dev/2015-11-12">12</a> <a class="" href="/bitcoin-core-dev/2015-11-13">13</a> <a class="" href="/bitcoin-core-dev/2015-11-14">14</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2015-11-15">15</a> <a class="" href="/bitcoin-core-dev/2015-11-16">16</a> <a class="" href="/bitcoin-core-dev/2015-11-17">17</a> <a class="" href="/bitcoin-core-dev/2015-11-18">18</a> <a class="" href="/bitcoin-core-dev/2015-11-19">19</a> <a class="" href="/bitcoin-core-dev/2015-11-20">20</a> <a class="" href="/bitcoin-core-dev/2015-11-21">21</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2015-11-22">22</a> <a class="" href="/bitcoin-core-dev/2015-11-23">23</a> <a class="" href="/bitcoin-core-dev/2015-11-24">24</a> <a class="current" href="/bitcoin-core-dev/2015-11-25">25</a> <a class="" href="/bitcoin-core-dev/2015-11-26">26</a> <a class="" href="/bitcoin-core-dev/2015-11-27">27</a> <a class="" href="/bitcoin-core-dev/2015-11-28">28</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2015-11-29">29</a> <a class="" href="/bitcoin-core-dev/2015-11-30">30</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1448409780' id='439948'>
<a class='timestamp' href='#439948'><time timestamp='2015-11-25T00:03:00Z'>00:03</time></a>
&lt;<span class='nick nick-5'> raedah</span>&gt;
which file creates the info displayed in &#x27;Show transaction details&#x27; ?  Looking at  src/qt/transactionrecord.cpp  and  src/qt/transactiontablemodel.cpp
<br>
</div>

<div class='talk op-msg' data-timestamp='1448409900' id='439949'>
<a class='timestamp' href='#439949'><time timestamp='2015-11-25T00:05:00Z'>00:05</time></a>
&lt;<span class='nick nick-5'> raedah</span>&gt;
ah, looks like its in transactiondesc.cpp
<br>
</div>

<div class='talk op-msg' data-timestamp='1448419260' id='439950'>
<a class='timestamp' href='#439950'><time timestamp='2015-11-25T02:41:00Z'>02:41</time></a>
&lt;<span class='nick nick-8'> GitHub190</span>&gt;
[bitcoin] pstratem opened pull request #7094: Assert now &gt; 0 in GetTime GetTimeMillis GetTimeMicros (master...2015-11-24-assert-time) <a href="https://github.com/bitcoin/bitcoin/pull/7094" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/7094</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1448419440' id='439951'>
<a class='timestamp' href='#439951'><time timestamp='2015-11-25T02:44:00Z'>02:44</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Guess my PR answered the question of if we still had tests that were expecting the mempool RPC to behave in certian ways. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1448419500' id='439952'>
<a class='timestamp' href='#439952'><time timestamp='2015-11-25T02:45:00Z'>02:45</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
gmaxwell, it also failed on INT64_MAX for some reason
<br>
</div>

<div class='talk op-msg' data-timestamp='1448419560' id='439953'>
<a class='timestamp' href='#439953'><time timestamp='2015-11-25T02:46:00Z'>02:46</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
see my note on the outdated diff
<br>
</div>

<div class='talk op-msg' data-timestamp='1448419620' id='439954'>
<a class='timestamp' href='#439954'><time timestamp='2015-11-25T02:47:00Z'>02:47</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
phantomcircuit: yea, I had a host that it did that on too. Which is weird because stdint.h is included in that file; but whatever; you were right: I should have done it consistently.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448419620' id='439955'>
<a class='timestamp' href='#439955'><time timestamp='2015-11-25T02:47:00Z'>02:47</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
oh you fixed that already
<br>
</div>

<div class='talk op-msg' data-timestamp='1448419680' id='439956'>
<a class='timestamp' href='#439956'><time timestamp='2015-11-25T02:48:00Z'>02:48</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
i dont have any strong tie to either method but we&#x27;ve been using std::numeric_limits everywhere else (apparently for a reason, which i cant discern either)
<br>
</div>

<div class='talk op-msg' data-timestamp='1448420100' id='439957'>
<a class='timestamp' href='#439957'><time timestamp='2015-11-25T02:55:00Z'>02:55</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
phantomcircuit: now the issue is that the blocktester (foolishly) depends on this.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448421600' id='439958'>
<a class='timestamp' href='#439958'><time timestamp='2015-11-25T03:20:00Z'>03:20</time></a>
&lt;<span class='nick nick-3'> cfields_</span>&gt;
anyone happen to know why dns seeds register a second dns query result as their source in addrman, rather than some dummy value?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448421840' id='439959'>
<a class='timestamp' href='#439959'><time timestamp='2015-11-25T03:24:00Z'>03:24</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
er. it&#x27;s supposted to be like.. the dns seed identifer as a source.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448421960' id='439960'>
<a class='timestamp' href='#439960'><time timestamp='2015-11-25T03:26:00Z'>03:26</time></a>
&lt;<span class='nick nick-3'> cfields_</span>&gt;
gmaxwell: right. that identifier requires another resolve, which i suppose could fail and result in a source of &quot;0.0.0.0&quot;.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448421960' id='439961'>
<a class='timestamp' href='#439961'><time timestamp='2015-11-25T03:26:00Z'>03:26</time></a>
&lt;<span class='nick nick-3'> cfields_</span>&gt;
(or am i reading it wrong?)
<br>
</div>

<div class='talk op-msg' data-timestamp='1448422020' id='439962'>
<a class='timestamp' href='#439962'><time timestamp='2015-11-25T03:27:00Z'>03:27</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
yea, it&#x27;s brain damaged that it&#x27;s resolving though, since thats going to return some random stuff.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448422080' id='439963'>
<a class='timestamp' href='#439963'><time timestamp='2015-11-25T03:28:00Z'>03:28</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
We should be filling it in with a dummy value and a distinct dummy value per dnsseed.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448422080' id='439964'>
<a class='timestamp' href='#439964'><time timestamp='2015-11-25T03:28:00Z'>03:28</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I wonder if that resolution is a DNS leak when running on TOR?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448422140' id='439965'>
<a class='timestamp' href='#439965'><time timestamp='2015-11-25T03:29:00Z'>03:29</time></a>
&lt;<span class='nick nick-3'> cfields_</span>&gt;
i don&#x27;t believe so, it should be stopped later down the path
<br>
</div>

<div class='talk op-msg' data-timestamp='1448422200' id='439966'>
<a class='timestamp' href='#439966'><time timestamp='2015-11-25T03:30:00Z'>03:30</time></a>
&lt;<span class='nick nick-3'> cfields_</span>&gt;
er yikes.. maybe not
<br>
</div>

<div class='talk op-msg' data-timestamp='1448422380' id='439967'>
<a class='timestamp' href='#439967'><time timestamp='2015-11-25T03:33:00Z'>03:33</time></a>
&lt;<span class='nick nick-3'> cfields_</span>&gt;
gmaxwell: ok yea, that&#x27;s ok. oneshots are used if a proxy is enabled, so that path isn&#x27;t taken
<br>
</div>

<div class='talk op-msg' data-timestamp='1448423580' id='439968'>
<a class='timestamp' href='#439968'><time timestamp='2015-11-25T03:53:00Z'>03:53</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
gmaxwell, ./qa/pull-tester/rpc-tests.py passes all tests on 7093
<br>
</div>

<div class='talk op-msg' data-timestamp='1448424000' id='439969'>
<a class='timestamp' href='#439969'><time timestamp='2015-11-25T04:00:00Z'>04:00</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
phantomcircuit: yea, it&#x27;s matt&#x27;s blocktester thats failing. It&#x27;s monitoring node status via p2p mempool calls.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448424240' id='439970'>
<a class='timestamp' href='#439970'><time timestamp='2015-11-25T04:04:00Z'>04:04</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
oh
<br>
</div>

<div class='talk op-msg' data-timestamp='1448424240' id='439971'>
<a class='timestamp' href='#439971'><time timestamp='2015-11-25T04:04:00Z'>04:04</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
BlueMatt, ^
<br>
</div>

<div class='talk op-msg' data-timestamp='1448424360' id='439972'>
<a class='timestamp' href='#439972'><time timestamp='2015-11-25T04:06:00Z'>04:06</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
gmaxwell: why are you not responding to queries if the node just asked for mempool now?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448424420' id='439973'>
<a class='timestamp' href='#439973'><time timestamp='2015-11-25T04:07:00Z'>04:07</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
gmaxwell: that seems like an annoying hack :/
<br>
</div>

<div class='talk op-msg' data-timestamp='1448424480' id='439974'>
<a class='timestamp' href='#439974'><time timestamp='2015-11-25T04:08:00Z'>04:08</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
BlueMatt: It already answered.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448424480' id='439975'>
<a class='timestamp' href='#439975'><time timestamp='2015-11-25T04:08:00Z'>04:08</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
it&#x27;s not resending the same stuff it already sent.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448424600' id='439976'>
<a class='timestamp' href='#439976'><time timestamp='2015-11-25T04:10:00Z'>04:10</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
BlueMatt: you&#x27;ve been whined at before about the pull tester using mempool... mempool behavior isn&#x27;t consensus normative. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1448424780' id='439977'>
<a class='timestamp' href='#439977'><time timestamp='2015-11-25T04:13:00Z'>04:13</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
gmaxwell: yea, yea...
<br>
</div>

<div class='talk op-msg' data-timestamp='1448424840' id='439978'>
<a class='timestamp' href='#439978'><time timestamp='2015-11-25T04:14:00Z'>04:14</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
gmaxwell: the goal of it has changed slightly over time
<br>
</div>

<div class='talk op-msg' data-timestamp='1448424840' id='439979'>
<a class='timestamp' href='#439979'><time timestamp='2015-11-25T04:14:00Z'>04:14</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
in any case, I could add a hidden option to turn off this behavior, or bypass it for whitelisted peers or...
<br>
</div>

<div class='talk op-msg' data-timestamp='1448424900' id='439980'>
<a class='timestamp' href='#439980'><time timestamp='2015-11-25T04:15:00Z'>04:15</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
but I do think we need to limit how mempool P2P command works (Jeff suggested removing it entirely; but it&#x27;s widely used by SPV wallets)
<br>
</div>

<div class='talk op-msg' data-timestamp='1448424900' id='439981'>
<a class='timestamp' href='#439981'><time timestamp='2015-11-25T04:15:00Z'>04:15</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
and I think my patch mostly solves the privacy and dos attacks without breaking SPV wallets (well, apparently mycelium redoes filterloads and mempools again, so I need some additional handling there)
<br>
</div>

<div class='talk op-msg' data-timestamp='1448425020' id='439982'>
<a class='timestamp' href='#439982'><time timestamp='2015-11-25T04:17:00Z'>04:17</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
allow X-per-Y
<br>
</div>

<div class='talk op-msg' data-timestamp='1448425020' id='439983'>
<a class='timestamp' href='#439983'><time timestamp='2015-11-25T04:17:00Z'>04:17</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
then everything works :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1448425020' id='439984'>
<a class='timestamp' href='#439984'><time timestamp='2015-11-25T04:17:00Z'>04:17</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
i think the tester only does like 3 or 4 total anyway
<br>
</div>

<div class='talk op-msg' data-timestamp='1448425080' id='439985'>
<a class='timestamp' href='#439985'><time timestamp='2015-11-25T04:18:00Z'>04:18</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
well I&#x27;m breaking the tester because I don&#x27;t return duplicate results. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1448425140' id='439986'>
<a class='timestamp' href='#439986'><time timestamp='2015-11-25T04:19:00Z'>04:19</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
The delay means that a spv wallet will need to mempool again 30 seconds after connecting in order to get _everything_, and it would be nice to only send it INVs for the things it missed.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448425140' id='439987'>
<a class='timestamp' href='#439987'><time timestamp='2015-11-25T04:19:00Z'>04:19</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
yea, just multiply your quanitization interval by X and allow X requests each interval 
<br>
</div>

<div class='talk op-msg' data-timestamp='1448425320' id='439988'>
<a class='timestamp' href='#439988'><time timestamp='2015-11-25T04:22:00Z'>04:22</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I can allow more requests, but you&#x27;re missing my point. It won&#x27;t be able to stop returning old data then, so it&#x27;ll send duplicates.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448425320' id='439989'>
<a class='timestamp' href='#439989'><time timestamp='2015-11-25T04:22:00Z'>04:22</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
yea, my point was &quot;meh&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1448425320' id='439990'>
<a class='timestamp' href='#439990'><time timestamp='2015-11-25T04:22:00Z'>04:22</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
then it remains a bandwidth exhaustion attack to keep calling mempool often.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448425380' id='439991'>
<a class='timestamp' href='#439991'><time timestamp='2015-11-25T04:23:00Z'>04:23</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
not really
<br>
</div>

<div class='talk op-msg' data-timestamp='1448425380' id='439992'>
<a class='timestamp' href='#439992'><time timestamp='2015-11-25T04:23:00Z'>04:23</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
because you limit how often you can call it
<br>
</div>

<div class='talk op-msg' data-timestamp='1448425380' id='439993'>
<a class='timestamp' href='#439993'><time timestamp='2015-11-25T04:23:00Z'>04:23</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
to the same rate as your patch
<br>
</div>

<div class='talk op-msg' data-timestamp='1448425680' id='439994'>
<a class='timestamp' href='#439994'><time timestamp='2015-11-25T04:28:00Z'>04:28</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
tulip, ha
<br>
</div>

<div class='talk op-msg' data-timestamp='1448425680' id='439995'>
<a class='timestamp' href='#439995'><time timestamp='2015-11-25T04:28:00Z'>04:28</time></a>
&lt;<span class='nick nick-3'> tulip</span>&gt;
the blown up ping? 
<br>
</div>

<div class='talk op-msg' data-timestamp='1448425680' id='439996'>
<a class='timestamp' href='#439996'><time timestamp='2015-11-25T04:28:00Z'>04:28</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
i knew that someone would show up having seen that in production
<br>
</div>

<div class='talk op-msg' data-timestamp='1448425680' id='439997'>
<a class='timestamp' href='#439997'><time timestamp='2015-11-25T04:28:00Z'>04:28</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
&quot;production&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1448425680' id='439998'>
<a class='timestamp' href='#439998'><time timestamp='2015-11-25T04:28:00Z'>04:28</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
there&#x27;s lots of things using wall clock time that should be using monotonic time
<br>
</div>

<div class='talk op-msg' data-timestamp='1448425740' id='439999'>
<a class='timestamp' href='#439999'><time timestamp='2015-11-25T04:29:00Z'>04:29</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
but i think for now it&#x27;s better to explode than to silently do crazy things
<br>
</div>

<div class='talk op-msg' data-timestamp='1448425860' id='440000'>
<a class='timestamp' href='#440000'><time timestamp='2015-11-25T04:31:00Z'>04:31</time></a>
&lt;<span class='nick nick-3'> cfields_</span>&gt;
gmaxwell: suggestions for a uuid for seeds rather than a second lookup? best i can come up with is designating a tiny chunk of the FC00::/7 range for groups. I&#x27;d say we should just feed addrman a deterministic hash for the source, but the address is serialized to disk
<br>
</div>

<div class='talk op-msg' data-timestamp='1448425920' id='440001'>
<a class='timestamp' href='#440001'><time timestamp='2015-11-25T04:32:00Z'>04:32</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
phantomcircuit: I have pointed out before that we should be using monotone time. I don&#x27;t thinke we have any need for wallclock time, except logging (and even there, if logtimes are non-monotone it will break some log parsing tools for sure)
<br>
</div>

<div class='talk op-msg' data-timestamp='1448425920' id='440002'>
<a class='timestamp' href='#440002'><time timestamp='2015-11-25T04:32:00Z'>04:32</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
phantomcircuit: we already have code that does time ofsetting so it can just adjust the offset between the monotone clock and what we want it to be (in a way that preserves monotonicity!) 
<br>
</div>

<div class='talk op-msg' data-timestamp='1448425980' id='440003'>
<a class='timestamp' href='#440003'><time timestamp='2015-11-25T04:33:00Z'>04:33</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
phantomcircuit: reworking time in bitcoin core is something I&#x27;ve wanted to do since 2011 but its so unimportant that I never will.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448426040' id='440004'>
<a class='timestamp' href='#440004'><time timestamp='2015-11-25T04:34:00Z'>04:34</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
cfields_: 127.0.0.2 127.0.0.3  perhaps? :P (I forget if we look at the source netgroup)
<br>
</div>

<div class='talk op-msg' data-timestamp='1448426040' id='440005'>
<a class='timestamp' href='#440005'><time timestamp='2015-11-25T04:34:00Z'>04:34</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
even though it gets saved to disk, I don&#x27;t think we care too much if its not fully consistent across versions. I suppose it&#x27;s preferable if it is.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448426100' id='440006'>
<a class='timestamp' href='#440006'><time timestamp='2015-11-25T04:35:00Z'>04:35</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
phantomcircuit: e.g. I think all Time() in core should be monotone, network time should be largely monotone but with the ability to step if its way out of wack.  
<br>
</div>

<div class='talk op-msg' data-timestamp='1448426220' id='440007'>
<a class='timestamp' href='#440007'><time timestamp='2015-11-25T04:37:00Z'>04:37</time></a>
&lt;<span class='nick nick-3'> cfields_</span>&gt;
gmaxwell: heh, i figured you&#x27;d smack me for not coming up with something more clever than a dummy range. if you&#x27;re ok with that, i&#x27;ll go ahead and do it that way and we can bikeshed about what actual range to use in the PR. 127.0.0.x sounds as good as any to me.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448426400' id='440008'>
<a class='timestamp' href='#440008'><time timestamp='2015-11-25T04:40:00Z'>04:40</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
gmaxwell, agreed, but we would definitely want to review everywhere that GetTime* is used before changing their behavior
<br>
</div>

<div class='talk op-msg' data-timestamp='1448426460' id='440009'>
<a class='timestamp' href='#440009'><time timestamp='2015-11-25T04:41:00Z'>04:41</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
but a simple find/replace to GetMonotonicTime
<br>
</div>

<div class='talk op-msg' data-timestamp='1448426460' id='440010'>
<a class='timestamp' href='#440010'><time timestamp='2015-11-25T04:41:00Z'>04:41</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
or maybe just change GetTime to be monotonic and add GetWallclockTime
<br>
</div>

<div class='talk op-msg' data-timestamp='1448426460' id='440011'>
<a class='timestamp' href='#440011'><time timestamp='2015-11-25T04:41:00Z'>04:41</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
which could keep the assert
<br>
</div>

<div class='talk op-msg' data-timestamp='1448426580' id='440012'>
<a class='timestamp' href='#440012'><time timestamp='2015-11-25T04:43:00Z'>04:43</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
either way i think exploding all over the place is the best option for something doable right now today
<br>
</div>

<div class='talk op-msg' data-timestamp='1448426700' id='440013'>
<a class='timestamp' href='#440013'><time timestamp='2015-11-25T04:45:00Z'>04:45</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
cfields_: the only downside I see w/ the dummy range is that if we reorder the list it&#x27;ll behave suboptimally. But this is no great crime. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1448426700' id='440014'>
<a class='timestamp' href='#440014'><time timestamp='2015-11-25T04:45:00Z'>04:45</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
but as I said, if we&#x27;re currently paying attention to source netgroups (I think we might in one table) them they should probably be in different netgroups. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1448426760' id='440015'>
<a class='timestamp' href='#440015'><time timestamp='2015-11-25T04:46:00Z'>04:46</time></a>
&lt;<span class='nick nick-3'> cfields_</span>&gt;
gmaxwell: not sure what you mean about reordering?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448426760' id='440016'>
<a class='timestamp' href='#440016'><time timestamp='2015-11-25T04:46:00Z'>04:46</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
phantomcircuit: well it&#x27;s more complex. monotone time is not calibrated to any particular starting point. So that means any place we print one of our stored times we may need to process it. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1448426820' id='440017'>
<a class='timestamp' href='#440017'><time timestamp='2015-11-25T04:47:00Z'>04:47</time></a>
&lt;<span class='nick nick-3'> tulip</span>&gt;
phantomcircuit: I don&#x27;t think I would have noticed except that the script the output was being piped to didn&#x27;t like graphing a ping with 300,000 years of network latency. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1448426820' id='440018'>
<a class='timestamp' href='#440018'><time timestamp='2015-11-25T04:47:00Z'>04:47</time></a>
&lt;<span class='nick nick-3'> cfields_</span>&gt;
gmaxwell: oh, you mean re-querying with existing addrman data?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448426820' id='440019'>
<a class='timestamp' href='#440019'><time timestamp='2015-11-25T04:47:00Z'>04:47</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
cfields_: e.g. if the list is seed1, seed2, seed3  and we change to seed2, seed4, seed1, seed3  in a new release then addresses will go into different groups, perhaps giving one seed or another more share of your addrman than it should. But who cares.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448426880' id='440020'>
<a class='timestamp' href='#440020'><time timestamp='2015-11-25T04:48:00Z'>04:48</time></a>
&lt;<span class='nick nick-3'> cfields_</span>&gt;
gmaxwell: roger, and agreed.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448426940' id='440021'>
<a class='timestamp' href='#440021'><time timestamp='2015-11-25T04:49:00Z'>04:49</time></a>
&lt;<span class='nick nick-3'> cfields_</span>&gt;
gmaxwell: for background, i&#x27;m poking at this in order to make dns async. as-is, it&#x27;s all tangled up if one resolve has to wait on another.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448426940' id='440022'>
<a class='timestamp' href='#440022'><time timestamp='2015-11-25T04:49:00Z'>04:49</time></a>
&lt;<span class='nick nick-3'> cfields_</span>&gt;
so there&#x27;s more motivation than just &quot;that looks weird&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1448426940' id='440023'>
<a class='timestamp' href='#440023'><time timestamp='2015-11-25T04:49:00Z'>04:49</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
phantomcircuit: but I think we should return numbers in network time, and then just have a function that converts any absolute time we display to network time.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448426940' id='440024'>
<a class='timestamp' href='#440024'><time timestamp='2015-11-25T04:49:00Z'>04:49</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
cfields_: fantastic.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448427000' id='440025'>
<a class='timestamp' href='#440025'><time timestamp='2015-11-25T04:50:00Z'>04:50</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(and I think our log messages should log both network time and local time; /me wants for wumpus to shoot him)
<br>
</div>

<div class='talk op-msg' data-timestamp='1448427000' id='440026'>
<a class='timestamp' href='#440026'><time timestamp='2015-11-25T04:50:00Z'>04:50</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
gmaxwell, static int64_t first_time; int64_t now = monotonic_time - first_time + 1;
<br>
</div>

<div class='talk op-msg' data-timestamp='1448427000' id='440027'>
<a class='timestamp' href='#440027'><time timestamp='2015-11-25T04:50:00Z'>04:50</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448427000' id='440028'>
<a class='timestamp' href='#440028'><time timestamp='2015-11-25T04:50:00Z'>04:50</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
basically always start at 1
<br>
</div>

<div class='talk op-msg' data-timestamp='1448427060' id='440029'>
<a class='timestamp' href='#440029'><time timestamp='2015-11-25T04:51:00Z'>04:51</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
phantomcircuit: actually on most systems the monotone clocks starts at 0 at boot. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1448427060' id='440030'>
<a class='timestamp' href='#440030'><time timestamp='2015-11-25T04:51:00Z'>04:51</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
oh
<br>
</div>

<div class='talk op-msg' data-timestamp='1448427060' id='440031'>
<a class='timestamp' href='#440031'><time timestamp='2015-11-25T04:51:00Z'>04:51</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
then <b>*shrug*</b>
<br>
</div>

<div class='talk op-msg' data-timestamp='1448427060' id='440032'>
<a class='timestamp' href='#440032'><time timestamp='2015-11-25T04:51:00Z'>04:51</time></a>
&lt;<span class='nick nick-3'> cfields_</span>&gt;
gmaxwell: you&#x27;ll be happy to know also, the async networking coalesces 4 threads to 1. Not sure how many of those unused threads i get to spend myself, though :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1448427120' id='440033'>
<a class='timestamp' href='#440033'><time timestamp='2015-11-25T04:52:00Z'>04:52</time></a>
&lt;<span class='nick nick-2'> * gmaxwell</span>&gt;
looks at x86 virtual address space usage
<br>
</div>

<div class='talk op-msg' data-timestamp='1448427120' id='440034'>
<a class='timestamp' href='#440034'><time timestamp='2015-11-25T04:52:00Z'>04:52</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
:(
<br>
</div>

<div class='talk op-msg' data-timestamp='1448427120' id='440035'>
<a class='timestamp' href='#440035'><time timestamp='2015-11-25T04:52:00Z'>04:52</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
-3
<br>
</div>

<div class='talk op-msg' data-timestamp='1448427120' id='440036'>
<a class='timestamp' href='#440036'><time timestamp='2015-11-25T04:52:00Z'>04:52</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
:)
<br>
</div>

<div class='talk op-msg' data-timestamp='1448427180' id='440037'>
<a class='timestamp' href='#440037'><time timestamp='2015-11-25T04:53:00Z'>04:53</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
phantomcircuit: it&#x27;s no big deal, we already handle network time being some arbritary offset from local time; so instead it would just be network time is an arbritary offset from monotone time, and that offset is initilized with localtime at start.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448427180' id='440038'>
<a class='timestamp' href='#440038'><time timestamp='2015-11-25T04:53:00Z'>04:53</time></a>
&lt;<span class='nick nick-15'> * cfields_</span>&gt;
calls shotgun on at least one freed up thread for async block handling of some kind
<br>
</div>

<div class='talk op-msg' data-timestamp='1448427180' id='440039'>
<a class='timestamp' href='#440039'><time timestamp='2015-11-25T04:53:00Z'>04:53</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
phantomcircuit: most calculation internally would use monotone time, but display would convert to network time. (and obviously the network time needing things would use network time).
<br>
</div>

<div class='talk op-msg' data-timestamp='1448427360' id='440040'>
<a class='timestamp' href='#440040'><time timestamp='2015-11-25T04:56:00Z'>04:56</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
gmaxwell, oh you mean the adjusted network time thingie?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448427360' id='440041'>
<a class='timestamp' href='#440041'><time timestamp='2015-11-25T04:56:00Z'>04:56</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
yup yup.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448427540' id='440042'>
<a class='timestamp' href='#440042'><time timestamp='2015-11-25T04:59:00Z'>04:59</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
hmm yeah that makes sense
<br>
</div>

<div class='talk op-msg' data-timestamp='1448427540' id='440043'>
<a class='timestamp' href='#440043'><time timestamp='2015-11-25T04:59:00Z'>04:59</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
and then finangle that such that it&#x27;s monotonic unless something crazy happens
<br>
</div>

<div class='talk op-msg' data-timestamp='1448427600' id='440044'>
<a class='timestamp' href='#440044'><time timestamp='2015-11-25T05:00:00Z'>05:00</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
well the network time should be monotone except for steps, and we should probably log steps.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448427660' id='440045'>
<a class='timestamp' href='#440045'><time timestamp='2015-11-25T05:01:00Z'>05:01</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
but it doesn&#x27;t need to be, and most of our use of time is differential, and its more important that it be monotone than it have any particular timebase.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448428260' id='440046'>
<a class='timestamp' href='#440046'><time timestamp='2015-11-25T05:11:00Z'>05:11</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
we have such poor temporal resolution anyhow - ultimately consensus is about well-ordering of events
<br>
</div>

<div class='talk op-msg' data-timestamp='1448428440' id='440047'>
<a class='timestamp' href='#440047'><time timestamp='2015-11-25T05:14:00Z'>05:14</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
CodeShark: internally we have high resolution and do varrious things where time going backwards can cause breakage. See tulip&#x27;s example with the 300 thousand year pingtime.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448428560' id='440048'>
<a class='timestamp' href='#440048'><time timestamp='2015-11-25T05:16:00Z'>05:16</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
was that part of an earlier discussion here? (scrolling back)
<br>
</div>

<div class='talk op-msg' data-timestamp='1448428560' id='440049'>
<a class='timestamp' href='#440049'><time timestamp='2015-11-25T05:16:00Z'>05:16</time></a>
&lt;<span class='nick nick-3'> tulip</span>&gt;
yes, and #7094
<br>
</div>

<div class='talk op-msg' data-timestamp='1448428740' id='440050'>
<a class='timestamp' href='#440050'><time timestamp='2015-11-25T05:19:00Z'>05:19</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
why were signed ints used for timestamps in the first place?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448428740' id='440051'>
<a class='timestamp' href='#440051'><time timestamp='2015-11-25T05:19:00Z'>05:19</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
:)
<br>
</div>

<div class='talk op-msg' data-timestamp='1448428740' id='440052'>
<a class='timestamp' href='#440052'><time timestamp='2015-11-25T05:19:00Z'>05:19</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
what&#x27;s the 300 thousand year pingtime?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448428800' id='440053'>
<a class='timestamp' href='#440053'><time timestamp='2015-11-25T05:20:00Z'>05:20</time></a>
&lt;<span class='nick nick-3'> tulip</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/pull/7094#issuecomment-159487966" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/7094#issuecomment-159487966</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1448428800' id='440054'>
<a class='timestamp' href='#440054'><time timestamp='2015-11-25T05:20:00Z'>05:20</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
CodeShark, his clock went backwards or something insane
<br>
</div>

<div class='talk op-msg' data-timestamp='1448428800' id='440055'>
<a class='timestamp' href='#440055'><time timestamp='2015-11-25T05:20:00Z'>05:20</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
oh no i know
<br>
</div>

<div class='talk op-msg' data-timestamp='1448428800' id='440056'>
<a class='timestamp' href='#440056'><time timestamp='2015-11-25T05:20:00Z'>05:20</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
CodeShark: because they mostly get used for time differences, which are naturally signed. Not using signed values are part of what creates issues like the 300 years pingtime (instead of negative pingtimes)
<br>
</div>

<div class='talk op-msg' data-timestamp='1448428860' id='440057'>
<a class='timestamp' href='#440057'><time timestamp='2015-11-25T05:21:00Z'>05:21</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
his clock started at 1970-1-1 and jumped to the current time
<br>
</div>

<div class='talk op-msg' data-timestamp='1448428860' id='440058'>
<a class='timestamp' href='#440058'><time timestamp='2015-11-25T05:21:00Z'>05:21</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
or something like that
<br>
</div>

<div class='talk op-msg' data-timestamp='1448428860' id='440059'>
<a class='timestamp' href='#440059'><time timestamp='2015-11-25T05:21:00Z'>05:21</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
phantomcircuit: More likely it just went backwards a microsecond, and then the -1 was converted to unsigned at some point before it hit the screen.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448428860' id='440060'>
<a class='timestamp' href='#440060'><time timestamp='2015-11-25T05:21:00Z'>05:21</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
hah
<br>
</div>

<div class='talk op-msg' data-timestamp='1448428920' id='440061'>
<a class='timestamp' href='#440061'><time timestamp='2015-11-25T05:22:00Z'>05:22</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
so many comical possibilities!
<br>
</div>

<div class='talk op-msg' data-timestamp='1448428920' id='440062'>
<a class='timestamp' href='#440062'><time timestamp='2015-11-25T05:22:00Z'>05:22</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
:)
<br>
</div>

<div class='talk op-msg' data-timestamp='1448428920' id='440063'>
<a class='timestamp' href='#440063'><time timestamp='2015-11-25T05:22:00Z'>05:22</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
gmaxwell, are there systems where the monotonic clock will wrap?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448428920' id='440064'>
<a class='timestamp' href='#440064'><time timestamp='2015-11-25T05:22:00Z'>05:22</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
because people have the expectation that time does not flow backwards and write software accordingly.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448428920' id='440065'>
<a class='timestamp' href='#440065'><time timestamp='2015-11-25T05:22:00Z'>05:22</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
i&#x27;d like to think the kernel detects that and helps you out but...
<br>
</div>

<div class='talk op-msg' data-timestamp='1448428980' id='440066'>
<a class='timestamp' href='#440066'><time timestamp='2015-11-25T05:23:00Z'>05:23</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
phantomcircuit: the monotone clock returned by the OS should be cleaned of any vulgar hardware weirdness.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448428980' id='440067'>
<a class='timestamp' href='#440067'><time timestamp='2015-11-25T05:23:00Z'>05:23</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
If it doesn&#x27;t, we&#x27;re allowed to fail. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1448428980' id='440068'>
<a class='timestamp' href='#440068'><time timestamp='2015-11-25T05:23:00Z'>05:23</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
fail catastrophically? &quot;your clock is broken&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1448428980' id='440069'>
<a class='timestamp' href='#440069'><time timestamp='2015-11-25T05:23:00Z'>05:23</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
heh
<br>
</div>

<div class='talk op-msg' data-timestamp='1448428980' id='440070'>
<a class='timestamp' href='#440070'><time timestamp='2015-11-25T05:23:00Z'>05:23</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(it&#x27;s pretty easy to unwrap a monotone clock!)
<br>
</div>

<div class='talk op-msg' data-timestamp='1448428980' id='440071'>
<a class='timestamp' href='#440071'><time timestamp='2015-11-25T05:23:00Z'>05:23</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
gmaxwell, as long as you&#x27;re polling more frequently than the wrap interval yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1448428980' id='440072'>
<a class='timestamp' href='#440072'><time timestamp='2015-11-25T05:23:00Z'>05:23</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(so long as you know its period and poll it at least twice per cycle )
<br>
</div>

<div class='talk op-msg' data-timestamp='1448429040' id='440073'>
<a class='timestamp' href='#440073'><time timestamp='2015-11-25T05:24:00Z'>05:24</time></a>
&lt;<span class='nick nick-3'> tulip</span>&gt;
phantomcircuit: 9223372036854 seconds is 9223372036854000000 microseconds, which is pretty close to 2**64. I think the clock just skipped back further than the ping time. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1448429100' id='440074'>
<a class='timestamp' href='#440074'><time timestamp='2015-11-25T05:25:00Z'>05:25</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
yup
<br>
</div>

<div class='talk op-msg' data-timestamp='1448429100' id='440075'>
<a class='timestamp' href='#440075'><time timestamp='2015-11-25T05:25:00Z'>05:25</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
independant of this monotone time stuff, we should probably figure out where that stat goes unsigned and make it signed.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448429160' id='440076'>
<a class='timestamp' href='#440076'><time timestamp='2015-11-25T05:26:00Z'>05:26</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
or discard negative values before they get that far. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1448429220' id='440077'>
<a class='timestamp' href='#440077'><time timestamp='2015-11-25T05:27:00Z'>05:27</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
gmaxwell, ok now i can see the need for negative values
<br>
</div>

<div class='talk op-msg' data-timestamp='1448429220' id='440078'>
<a class='timestamp' href='#440078'><time timestamp='2015-11-25T05:27:00Z'>05:27</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
:P
<br>
</div>

<div class='talk op-msg' data-timestamp='1448429340' id='440079'>
<a class='timestamp' href='#440079'><time timestamp='2015-11-25T05:29:00Z'>05:29</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
why do we care about the other node&#x27;s clock when doing a ping?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448429460' id='440080'>
<a class='timestamp' href='#440080'><time timestamp='2015-11-25T05:31:00Z'>05:31</time></a>
&lt;<span class='nick nick-3'> tulip</span>&gt;
it&#x27;s the network time thing. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1448429520' id='440081'>
<a class='timestamp' href='#440081'><time timestamp='2015-11-25T05:32:00Z'>05:32</time></a>
&lt;<span class='nick nick-3'> tulip</span>&gt;
-debug (-debug=net in master) will dump out the deltas of your peers timestamps. spoiler is, they&#x27;re usually pretty awful. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1448430780' id='440082'>
<a class='timestamp' href='#440082'><time timestamp='2015-11-25T05:53:00Z'>05:53</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
CodeShark: we don&#x27;t know <u>_anything_</u> about the other nodes clock when doing a ping.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448430780' id='440083'>
<a class='timestamp' href='#440083'><time timestamp='2015-11-25T05:53:00Z'>05:53</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
CodeShark: it&#x27;s not the other nodes clock at all.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448430840' id='440084'>
<a class='timestamp' href='#440084'><time timestamp='2015-11-25T05:54:00Z'>05:54</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
GetTime() is not monotone. It can go back.  Time_ping_returned-Time_ping_sent can be negative.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448430900' id='440085'>
<a class='timestamp' href='#440085'><time timestamp='2015-11-25T05:55:00Z'>05:55</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
time_t now = time(NULL); - how can that go back unless the user&#x27;s system clock gets changed?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448430900' id='440086'>
<a class='timestamp' href='#440086'><time timestamp='2015-11-25T05:55:00Z'>05:55</time></a>
&lt;<span class='nick nick-3'> tulip</span>&gt;
NTP will change the system clock backwards if it needs to. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1448430900' id='440087'>
<a class='timestamp' href='#440087'><time timestamp='2015-11-25T05:55:00Z'>05:55</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
oh, ok
<br>
</div>

<div class='talk op-msg' data-timestamp='1448430960' id='440088'>
<a class='timestamp' href='#440088'><time timestamp='2015-11-25T05:56:00Z'>05:56</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
if you only need to measure time intervals, isn&#x27;t there a better option than time(NULL) that is unaffected by system clock changes?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448431020' id='440089'>
<a class='timestamp' href='#440089'><time timestamp='2015-11-25T05:57:00Z'>05:57</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
yes, you ask the system for a monotone clock.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448431080' id='440090'>
<a class='timestamp' href='#440090'><time timestamp='2015-11-25T05:58:00Z'>05:58</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
is that part of the time.h library?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448431140' id='440091'>
<a class='timestamp' href='#440091'><time timestamp='2015-11-25T05:59:00Z'>05:59</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
I guess there&#x27;s the timer stuff
<br>
</div>

<div class='talk op-msg' data-timestamp='1448431140' id='440092'>
<a class='timestamp' href='#440092'><time timestamp='2015-11-25T05:59:00Z'>05:59</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
tulip: NTP tries pretty hard to not move the clock backwards, but it will do so if its too far behind... and this can happen like.. constantly, if the path delay asymmetry of the NTP servers you&#x27;re using changes. (e.g. due to servers going up/down or internet rerouting).
<br>
</div>

<div class='talk op-msg' data-timestamp='1448431260' id='440093'>
<a class='timestamp' href='#440093'><time timestamp='2015-11-25T06:01:00Z'>06:01</time></a>
&lt;<span class='nick nick-3'> tulip</span>&gt;
phantomcircuit: RE doing things that rely on the accuracy of peer clocks, here&#x27;s the offsets from a crawl of about 1000 random IPv4 peers. the data doesn&#x27;t account for latency so +-300ms is probably within the noise when the nodes are far away. <a href="http://pastebin.com/raw.php?i=3zmQDyK0" class="link" target="_blank">http://pastebin.com/raw.php?i=3zmQDyK0</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1448431380' id='440094'>
<a class='timestamp' href='#440094'><time timestamp='2015-11-25T06:03:00Z'>06:03</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
to force monotonicity, could we do something like static int prev = 0;  int GetTime() { time_t now = time(NULL); if (now &gt; prev) { prev = now; } return prev; }
<br>
</div>

<div class='talk op-msg' data-timestamp='1448431500' id='440095'>
<a class='timestamp' href='#440095'><time timestamp='2015-11-25T06:05:00Z'>06:05</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sweet now GetTime() needs to take a lock. :P
<br>
</div>

<div class='talk op-msg' data-timestamp='1448431500' id='440096'>
<a class='timestamp' href='#440096'><time timestamp='2015-11-25T06:05:00Z'>06:05</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
yeah, it&#x27;s not thread-safe...but we&#x27;ll pretend we didn&#x27;t notice ;)
<br>
</div>

<div class='talk op-msg' data-timestamp='1448431560' id='440097'>
<a class='timestamp' href='#440097'><time timestamp='2015-11-25T06:06:00Z'>06:06</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
how often does it get called, though?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448431560' id='440098'>
<a class='timestamp' href='#440098'><time timestamp='2015-11-25T06:06:00Z'>06:06</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
no, not cool. There is no such thing as a safe data race. It&#x27;s undefined behavior and can cause spooky memory corruption at a distance. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1448431560' id='440099'>
<a class='timestamp' href='#440099'><time timestamp='2015-11-25T06:06:00Z'>06:06</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
CodeShark: all over the place, used for benchmarking stuf, yadda yadda (esp the microseconds version)
<br>
</div>

<div class='talk op-msg' data-timestamp='1448431620' id='440100'>
<a class='timestamp' href='#440100'><time timestamp='2015-11-25T06:07:00Z'>06:07</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
so then this brings up another issue - even if the system clock is perfectly accurate, things may execute out-of-order
<br>
</div>

<div class='talk op-msg' data-timestamp='1448431800' id='440101'>
<a class='timestamp' href='#440101'><time timestamp='2015-11-25T06:10:00Z'>06:10</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
I mean, the monotonicity ceases to be meaningful in a concurrent setting
<br>
</div>

<div class='talk op-msg' data-timestamp='1448431800' id='440102'>
<a class='timestamp' href='#440102'><time timestamp='2015-11-25T06:10:00Z'>06:10</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
in general we cannot say which of two calls on two separate threads occurred first without using a lock
<br>
</div>

<div class='talk op-msg' data-timestamp='1448431860' id='440103'>
<a class='timestamp' href='#440103'><time timestamp='2015-11-25T06:11:00Z'>06:11</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sure but that isn&#x27;t the case for many things. We do really know that a ping response came after the request. They&#x27;re seralized by the IO.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448431860' id='440104'>
<a class='timestamp' href='#440104'><time timestamp='2015-11-25T06:11:00Z'>06:11</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
right
<br>
</div>

<div class='talk op-msg' data-timestamp='1448431920' id='440105'>
<a class='timestamp' href='#440105'><time timestamp='2015-11-25T06:12:00Z'>06:12</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
in that particular use case, though, a lock doesn&#x27;t seem like the bottleneck
<br>
</div>

<div class='talk op-msg' data-timestamp='1448431980' id='440106'>
<a class='timestamp' href='#440106'><time timestamp='2015-11-25T06:13:00Z'>06:13</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
in any case, we can just zero all negative diffs and basically achieve the same goal :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1448431980' id='440107'>
<a class='timestamp' href='#440107'><time timestamp='2015-11-25T06:13:00Z'>06:13</time></a>
&lt;<span class='nick nick-3'> tulip</span>&gt;
that would ruin the &quot;minping&quot; statistic 
<br>
</div>

<div class='talk op-msg' data-timestamp='1448431980' id='440108'>
<a class='timestamp' href='#440108'><time timestamp='2015-11-25T06:13:00Z'>06:13</time></a>
&lt;<span class='nick nick-3'> cfields_</span>&gt;
gmaxwell: speaking of which, I&#x27;ve been considering creating a bip for an explicitly-allowed out-of-order ping/pong. For ex, if the ping nonce is 0xffff, allow that to mean &quot;this is not meant to be a fence, it&#x27;s an actual latency measurement&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1448432040' id='440109'>
<a class='timestamp' href='#440109'><time timestamp='2015-11-25T06:14:00Z'>06:14</time></a>
&lt;<span class='nick nick-3'> cfields_</span>&gt;
gmaxwell: as threading improves, we should have a way of specifying that a ping isn&#x27;t meant to be a fence. Thoughts?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448432100' id='440110'>
<a class='timestamp' href='#440110'><time timestamp='2015-11-25T06:15:00Z'>06:15</time></a>
&lt;<span class='nick nick-3'> cfields_</span>&gt;
er, everyone^^. No clue why that was directed at gmaxwell :p
<br>
</div>

<div class='talk op-msg' data-timestamp='1448432160' id='440111'>
<a class='timestamp' href='#440111'><time timestamp='2015-11-25T06:16:00Z'>06:16</time></a>
&lt;<span class='nick nick-3'> cfields_</span>&gt;
only one unordered ping would be allowed in-flight at any given time, so dropping the nonce doesn&#x27;t cost anything
<br>
</div>

<div class='talk op-msg' data-timestamp='1448432220' id='440112'>
<a class='timestamp' href='#440112'><time timestamp='2015-11-25T06:17:00Z'>06:17</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
The purpose of the nonce isn&#x27;t so much for ordering, its to prevent faking a fast response.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448432280' id='440113'>
<a class='timestamp' href='#440113'><time timestamp='2015-11-25T06:18:00Z'>06:18</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I dunno if an unordered ping is actually useful, for every case where I&#x27;d like to use pings, I&#x27;d like it to go higher if the peer is busy. But if there is a use, I don&#x27;t have a problem-- but it shouldn&#x27;t lose the nonce. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1448432280' id='440114'>
<a class='timestamp' href='#440114'><time timestamp='2015-11-25T06:18:00Z'>06:18</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
tulip: yea, thats why I said discard above.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448432460' id='440115'>
<a class='timestamp' href='#440115'><time timestamp='2015-11-25T06:21:00Z'>06:21</time></a>
&lt;<span class='nick nick-3'> cfields_</span>&gt;
gmaxwell: well busy can be fleeting.. so it&#x27;s not a great metric for discerning peering. &quot;Busy&quot; is also kinda an implementation detail. With better threading, a close-by busy peer may be more helpful than a further away idle one.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448432460' id='440116'>
<a class='timestamp' href='#440116'><time timestamp='2015-11-25T06:21:00Z'>06:21</time></a>
&lt;<span class='nick nick-3'> cfields_</span>&gt;
re nonce: point taken
<br>
</div>

<div class='talk op-msg' data-timestamp='1448432580' id='440117'>
<a class='timestamp' href='#440117'><time timestamp='2015-11-25T06:23:00Z'>06:23</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
cfields_: close by is best measured by the minimum.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448432580' id='440118'>
<a class='timestamp' href='#440118'><time timestamp='2015-11-25T06:23:00Z'>06:23</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(or minimum with periodic forgetting if you&#x27;re concerned about it changing.)
<br>
</div>

<div class='talk op-msg' data-timestamp='1448432820' id='440119'>
<a class='timestamp' href='#440119'><time timestamp='2015-11-25T06:27:00Z'>06:27</time></a>
&lt;<span class='nick nick-3'> cfields_</span>&gt;
gmaxwell: makes sense i guess. assuming you&#x27;ve stuck around long enough for a good minimum :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1448434020' id='440120'>
<a class='timestamp' href='#440120'><time timestamp='2015-11-25T06:47:00Z'>06:47</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
gmaxwell, atomics horray
<br>
</div>

<div class='talk op-msg' data-timestamp='1448434020' id='440121'>
<a class='timestamp' href='#440121'><time timestamp='2015-11-25T06:47:00Z'>06:47</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
compare_and_swap
<br>
</div>

<div class='talk op-msg' data-timestamp='1448435760' id='440122'>
<a class='timestamp' href='#440122'><time timestamp='2015-11-25T07:16:00Z'>07:16</time></a>
&lt;<span class='nick nick-2'> Luke-Jr</span>&gt;
gmaxwell: bool races are unsafe?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448436180' id='440123'>
<a class='timestamp' href='#440123'><time timestamp='2015-11-25T07:23:00Z'>07:23</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
Luke-Jr, yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1448436180' id='440124'>
<a class='timestamp' href='#440124'><time timestamp='2015-11-25T07:23:00Z'>07:23</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
Luke-Jr, dont tell ckpool
<br>
</div>

<div class='talk op-msg' data-timestamp='1448436180' id='440125'>
<a class='timestamp' href='#440125'><time timestamp='2015-11-25T07:23:00Z'>07:23</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
it&#x27;s funnier this way
<br>
</div>

<div class='talk op-msg' data-timestamp='1448436180' id='440126'>
<a class='timestamp' href='#440126'><time timestamp='2015-11-25T07:23:00Z'>07:23</time></a>
&lt;<span class='nick nick-2'> Luke-Jr</span>&gt;
what could possibly go wrong in a bool race? :/
<br>
</div>

<div class='talk op-msg' data-timestamp='1448436240' id='440127'>
<a class='timestamp' href='#440127'><time timestamp='2015-11-25T07:24:00Z'>07:24</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
Luke-Jr, overwrite a random byte of memory with garbage?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448436240' id='440128'>
<a class='timestamp' href='#440128'><time timestamp='2015-11-25T07:24:00Z'>07:24</time></a>
&lt;<span class='nick nick-2'> Luke-Jr</span>&gt;
that&#x27;d be a pointer race?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448436300' id='440129'>
<a class='timestamp' href='#440129'><time timestamp='2015-11-25T07:25:00Z'>07:25</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
Luke-Jr, clever compilers doing clever optimizations have the same effect potentially
<br>
</div>

<div class='talk op-msg' data-timestamp='1448436300' id='440130'>
<a class='timestamp' href='#440130'><time timestamp='2015-11-25T07:25:00Z'>07:25</time></a>
&lt;<span class='nick nick-2'> Luke-Jr</span>&gt;
real-world optimizations?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448436360' id='440131'>
<a class='timestamp' href='#440131'><time timestamp='2015-11-25T07:26:00Z'>07:26</time></a>
&lt;<span class='nick nick-2'> Luke-Jr</span>&gt;
hm, I suppose the compiler could move a condition check outside a busy loop because it knows the value won&#x27;t change inside it..
<br>
</div>

<div class='talk op-msg' data-timestamp='1448436360' id='440132'>
<a class='timestamp' href='#440132'><time timestamp='2015-11-25T07:26:00Z'>07:26</time></a>
&lt;<span class='nick nick-2'> Luke-Jr</span>&gt;
well, except if for the volatile keyword..
<br>
</div>

<div class='talk op-msg' data-timestamp='1448436600' id='440133'>
<a class='timestamp' href='#440133'><time timestamp='2015-11-25T07:30:00Z'>07:30</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Luke-Jr:  any race is unsafe. The compile can do things like &quot;oh, later I will overwrite this variable, that means I have exclusive access to it, I can store temporary thing to it for now.&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1448436900' id='440134'>
<a class='timestamp' href='#440134'><time timestamp='2015-11-25T07:35:00Z'>07:35</time></a>
&lt;<span class='nick nick-2'> Luke-Jr</span>&gt;
hmm, I wouldn&#x27;t think that is allowed if it&#x27;s volatile
<br>
</div>

<div class='talk op-msg' data-timestamp='1448437080' id='440135'>
<a class='timestamp' href='#440135'><time timestamp='2015-11-25T07:38:00Z'>07:38</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Volitile should prevent that; though volitile is frequently misimplemented.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448437620' id='440136'>
<a class='timestamp' href='#440136'><time timestamp='2015-11-25T07:47:00Z'>07:47</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
gmaxwell: log messages should log at least current monotonic time, local time, network time, bulletin of atomic scientists&#x27; number of minutes to midnight, and the absolute time since the big bang in Planck time units
<br>
</div>

<div class='talk op-msg' data-timestamp='1448437680' id='440137'>
<a class='timestamp' href='#440137'><time timestamp='2015-11-25T07:48:00Z'>07:48</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
oh your stabbing is just right.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448437680' id='440138'>
<a class='timestamp' href='#440138'><time timestamp='2015-11-25T07:48:00Z'>07:48</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
:)
<br>
</div>

<div class='talk op-msg' data-timestamp='1448438040' id='440139'>
<a class='timestamp' href='#440139'><time timestamp='2015-11-25T07:54:00Z'>07:54</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
gmaxwell: can we have your input on these tests? <a href="https://github.com/bitcoin/bitcoin/issues/7086" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/7086</a>  Looks like one hidden place where openssl is still used, as an oversight, as openssl hasn&#x27;t been part of consensus in that particular way for ages
<br>
</div>

<div class='talk op-msg' data-timestamp='1448438280' id='440140'>
<a class='timestamp' href='#440140'><time timestamp='2015-11-25T07:58:00Z'>07:58</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
and now the code is running into trouble with newer OpenSSLs
<br>
</div>

<div class='talk op-msg' data-timestamp='1448438700' id='440141'>
<a class='timestamp' href='#440141'><time timestamp='2015-11-25T08:05:00Z'>08:05</time></a>
&lt;<span class='nick nick-4'> GitHub144</span>&gt;
[bitcoin] jonasschnelli pushed 3 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/b19fe277dd62...26af1ac7cbce" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/b19fe277dd62...26af1ac7cbce</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1448438700' id='440142'>
<a class='timestamp' href='#440142'><time timestamp='2015-11-25T08:05:00Z'>08:05</time></a>
&lt;<span class='nick nick-4'> GitHub144</span>&gt;
bitcoin/master ae98388 Jonas Schnelli: [Qt] add startup option to reset Qt settings
<br>
</div>

<div class='talk op-msg' data-timestamp='1448438700' id='440143'>
<a class='timestamp' href='#440143'><time timestamp='2015-11-25T08:05:00Z'>08:05</time></a>
&lt;<span class='nick nick-4'> GitHub144</span>&gt;
bitcoin/master f71bfef Jonas Schnelli: add UI help for -resetguisettings
<br>
</div>

<div class='talk op-msg' data-timestamp='1448438700' id='440144'>
<a class='timestamp' href='#440144'><time timestamp='2015-11-25T08:05:00Z'>08:05</time></a>
&lt;<span class='nick nick-4'> GitHub144</span>&gt;
bitcoin/master 26af1ac Jonas Schnelli: Merge pull request #7006...
<br>
</div>

<div class='talk op-msg' data-timestamp='1448438700' id='440145'>
<a class='timestamp' href='#440145'><time timestamp='2015-11-25T08:05:00Z'>08:05</time></a>
&lt;<span class='nick nick-11'> GitHub116</span>&gt;
[bitcoin] jonasschnelli closed pull request #7006: [Qt] add startup option to reset Qt settings (master...2015/11/qt_resetsettings) <a href="https://github.com/bitcoin/bitcoin/pull/7006" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/7006</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1448439000' id='440146'>
<a class='timestamp' href='#440146'><time timestamp='2015-11-25T08:10:00Z'>08:10</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
hmm.... testing coinjoin and QT. Question:
<br>
</div>

<div class='talk op-msg' data-timestamp='1448439060' id='440147'>
<a class='timestamp' href='#440147'><time timestamp='2015-11-25T08:11:00Z'>08:11</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I have two 50BTC inputs, one from node0, one from node1. I create a transaction with those inputs with two outputs (49.9 to node0, 49.9 to node1). What would be expected as output for listtransactions and over the GUI?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448439060' id='440148'>
<a class='timestamp' href='#440148'><time timestamp='2015-11-25T08:11:00Z'>08:11</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I expect only the relevant in/outs should be listed/calculated for the net?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448439180' id='440149'>
<a class='timestamp' href='#440149'><time timestamp='2015-11-25T08:13:00Z'>08:13</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
It displays the coins that weren&#x27;t yours as negative fee.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448439180' id='440150'>
<a class='timestamp' href='#440150'><time timestamp='2015-11-25T08:13:00Z'>08:13</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Which is ... internally consistent though a little confusing when you&#x27;re not expecting it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448439300' id='440151'>
<a class='timestamp' href='#440151'><time timestamp='2015-11-25T08:15:00Z'>08:15</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
ah yes the negative fees when you don&#x27;t own all inputs, that&#x27;s not just a qt issue
<br>
</div>

<div class='talk op-msg' data-timestamp='1448439360' id='440152'>
<a class='timestamp' href='#440152'><time timestamp='2015-11-25T08:16:00Z'>08:16</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Yes. Listtransactions tell me now:  &quot;fee&quot;: 49.98000000
<br>
</div>

<div class='talk op-msg' data-timestamp='1448439420' id='440153'>
<a class='timestamp' href='#440153'><time timestamp='2015-11-25T08:17:00Z'>08:17</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
It&#x27;s logical in a sense, but hah. can be a real heart stopper.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448439420' id='440154'>
<a class='timestamp' href='#440154'><time timestamp='2015-11-25T08:17:00Z'>08:17</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
haha... right.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448439420' id='440155'>
<a class='timestamp' href='#440155'><time timestamp='2015-11-25T08:17:00Z'>08:17</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
hehe indeed
<br>
</div>

<div class='talk op-msg' data-timestamp='1448439420' id='440156'>
<a class='timestamp' href='#440156'><time timestamp='2015-11-25T08:17:00Z'>08:17</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
FWIW, if I had champaign or really drank, I would have poped a cork at that issue being opened.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448439480' id='440157'>
<a class='timestamp' href='#440157'><time timestamp='2015-11-25T08:18:00Z'>08:18</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
This is the first real proof of coinjoin being in widespread use by actual users: the reported a known &#x27;bug&#x27;!
<br>
</div>

<div class='talk op-msg' data-timestamp='1448439480' id='440158'>
<a class='timestamp' href='#440158'><time timestamp='2015-11-25T08:18:00Z'>08:18</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Indeed. At it was reported by two users (independent) within 1.5 month... 
<br>
</div>

<div class='talk op-msg' data-timestamp='1448439480' id='440159'>
<a class='timestamp' href='#440159'><time timestamp='2015-11-25T08:18:00Z'>08:18</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it is good to see people actually using coinjoin, absolutely!
<br>
</div>

<div class='talk op-msg' data-timestamp='1448439540' id='440160'>
<a class='timestamp' href='#440160'><time timestamp='2015-11-25T08:19:00Z'>08:19</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(bug just in quotes because I&#x27;m not actually sure what our behavior should be. Without access to the inputs in the wallet, it&#x27;s hard to handle sanely!)
<br>
</div>

<div class='talk op-msg' data-timestamp='1448439540' id='440161'>
<a class='timestamp' href='#440161'><time timestamp='2015-11-25T08:19:00Z'>08:19</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(reporting it all as fee might actually be the best we can do with the data available)
<br>
</div>

<div class='talk op-msg' data-timestamp='1448439600' id='440162'>
<a class='timestamp' href='#440162'><time timestamp='2015-11-25T08:20:00Z'>08:20</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
can we &#x27;see&#x27; that something fishy is happening and flag the transaction as &#x27;probably coinjoin&#x27;,?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448439600' id='440163'>
<a class='timestamp' href='#440163'><time timestamp='2015-11-25T08:20:00Z'>08:20</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
that&#x27;d at least help with the UI aspect a bit
<br>
</div>

<div class='talk op-msg' data-timestamp='1448439660' id='440164'>
<a class='timestamp' href='#440164'><time timestamp='2015-11-25T08:21:00Z'>08:21</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
yes, well if there are inputs from outside the wallet we can just flag it as &quot;used outside funds&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1448439660' id='440165'>
<a class='timestamp' href='#440165'><time timestamp='2015-11-25T08:21:00Z'>08:21</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Or &quot;used outside funds (coinjoin? lighthouse?)&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1448439660' id='440166'>
<a class='timestamp' href='#440166'><time timestamp='2015-11-25T08:21:00Z'>08:21</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
e.g. &quot;you may be seeing exorbitant fees on this transaction because it involves foreign inputs&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1448439660' id='440167'>
<a class='timestamp' href='#440167'><time timestamp='2015-11-25T08:21:00Z'>08:21</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
right
<br>
</div>

<div class='talk op-msg' data-timestamp='1448439720' id='440168'>
<a class='timestamp' href='#440168'><time timestamp='2015-11-25T08:22:00Z'>08:22</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
well they&#x27;re the opposite of exorbitant. :P
<br>
</div>

<div class='talk op-msg' data-timestamp='1448439720' id='440169'>
<a class='timestamp' href='#440169'><time timestamp='2015-11-25T08:22:00Z'>08:22</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
negative exorbitant :p
<br>
</div>

<div class='talk op-msg' data-timestamp='1448439720' id='440170'>
<a class='timestamp' href='#440170'><time timestamp='2015-11-25T08:22:00Z'>08:22</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
&quot;exuberant fees&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1448439720' id='440171'>
<a class='timestamp' href='#440171'><time timestamp='2015-11-25T08:22:00Z'>08:22</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
people may not see the sign correctly, but agreed
<br>
</div>

<div class='talk op-msg' data-timestamp='1448439780' id='440172'>
<a class='timestamp' href='#440172'><time timestamp='2015-11-25T08:23:00Z'>08:23</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
LOL!
<br>
</div>

<div class='talk op-msg' data-timestamp='1448439780' id='440173'>
<a class='timestamp' href='#440173'><time timestamp='2015-11-25T08:23:00Z'>08:23</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
yea, it freaked me out the first time.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448439780' id='440174'>
<a class='timestamp' href='#440174'><time timestamp='2015-11-25T08:23:00Z'>08:23</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
well actually not the first but the first time I did a CJ with an ordinary amount of coin.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448439900' id='440175'>
<a class='timestamp' href='#440175'><time timestamp='2015-11-25T08:25:00Z'>08:25</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I wasn&#x27;t likely to mistake this for a too high fee error: 
<br>
</div>

<div class='talk op-msg' data-timestamp='1448439900' id='440176'>
<a class='timestamp' href='#440176'><time timestamp='2015-11-25T08:25:00Z'>08:25</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
    &quot;fee&quot;: 50000.31337000,
<br>
</div>

<div class='talk op-msg' data-timestamp='1448439900' id='440177'>
<a class='timestamp' href='#440177'><time timestamp='2015-11-25T08:25:00Z'>08:25</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(this is not output from a testnet wallet)
<br>
</div>

<div class='talk op-msg' data-timestamp='1448439900' id='440178'>
<a class='timestamp' href='#440178'><time timestamp='2015-11-25T08:25:00Z'>08:25</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
whoa
<br>
</div>

<div class='talk op-msg' data-timestamp='1448440020' id='440179'>
<a class='timestamp' href='#440179'><time timestamp='2015-11-25T08:27:00Z'>08:27</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
but later a 10BTC one startled me I think.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448440020' id='440180'>
<a class='timestamp' href='#440180'><time timestamp='2015-11-25T08:27:00Z'>08:27</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
was that the &#x27;link yourself rich&#x27; or something transaction from bitcoin talk?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448440020' id='440181'>
<a class='timestamp' href='#440181'><time timestamp='2015-11-25T08:27:00Z'>08:27</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
e.g. the first coinjoin experiment
<br>
</div>

<div class='talk op-msg' data-timestamp='1448440140' id='440182'>
<a class='timestamp' href='#440182'><time timestamp='2015-11-25T08:29:00Z'>08:29</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
<a href="https://bitcointalk.org/index.php?topic=139581.0" class="link" target="_blank">https://bitcointalk.org/index.php?topic=139581.0</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1448440200' id='440183'>
<a class='timestamp' href='#440183'><time timestamp='2015-11-25T08:30:00Z'>08:30</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
It works, FWIW, lots of wallet tracker things think that address is all kinds of stuff.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448440200' id='440184'>
<a class='timestamp' href='#440184'><time timestamp='2015-11-25T08:30:00Z'>08:30</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
well half-works, they were supposted to notice all the linked up stuff and realize that what they were doing was dumb.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448440200' id='440185'>
<a class='timestamp' href='#440185'><time timestamp='2015-11-25T08:30:00Z'>08:30</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it&#x27;s promising for the future at least when it is more used, they probably won&#x27;t adjust dumb behavior for one transaction :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1448440320' id='440186'>
<a class='timestamp' href='#440186'><time timestamp='2015-11-25T08:32:00Z'>08:32</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
well I made lots of coinjoins with that address, with lots of other people who went on to do coinjoins, and also joined with keys and got them imported varrious places.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448440380' id='440187'>
<a class='timestamp' href='#440187'><time timestamp='2015-11-25T08:33:00Z'>08:33</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
otoh I now have to avoid anyone donating to it, because I probably can&#x27;t spend any coins sent there in a lot of places. :(
<br>
</div>

<div class='talk op-msg' data-timestamp='1448440500' id='440188'>
<a class='timestamp' href='#440188'><time timestamp='2015-11-25T08:35:00Z'>08:35</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
is it &#x27;contaminated&#x27;?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448440560' id='440189'>
<a class='timestamp' href='#440189'><time timestamp='2015-11-25T08:36:00Z'>08:36</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
<a href="https://www.walletexplorer.com/wallet/0093bdcd5f898d99?from_address=1GMaxweLLbo8mdXvnnC19Wt2wigiYUKgEB" class="link" target="_blank">https://www.walletexplorer.com/wallet/0093bdcd5f898d99?from_address=1GMaxweLLbo8mdXvnnC19Wt2wigiYUKgEB</a>  and from what I&#x27;ve heard the commercial anti-fungibility tools are even dumber (more agressive about what they include)
<br>
</div>

<div class='talk op-msg' data-timestamp='1448440620' id='440190'>
<a class='timestamp' href='#440190'><time timestamp='2015-11-25T08:37:00Z'>08:37</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
in any case, it seems to think that &#x27;wallet&#x27; has 266 addresses, and I believe only two of them are mine. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1448440680' id='440191'>
<a class='timestamp' href='#440191'><time timestamp='2015-11-25T08:38:00Z'>08:38</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
actually checking, three of them, how&#x27;d that one get linked. :-/
<br>
</div>

<div class='talk op-msg' data-timestamp='1448440920' id='440192'>
<a class='timestamp' href='#440192'><time timestamp='2015-11-25T08:42:00Z'>08:42</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
expecting dumb people to notice that what they&#x27;re doing is dumb is a risky success strategy - and avoiding donations is a good kind of problem to have :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1448440920' id='440193'>
<a class='timestamp' href='#440193'><time timestamp='2015-11-25T08:42:00Z'>08:42</time></a>
&lt;<span class='nick nick-3'> tulip</span>&gt;
has anybody tested -blocksonly with dynamic fees? 
<br>
</div>

<div class='talk op-msg' data-timestamp='1448440920' id='440194'>
<a class='timestamp' href='#440194'><time timestamp='2015-11-25T08:42:00Z'>08:42</time></a>
&lt;<span class='nick nick-3'> tulip</span>&gt;
I sort of expected the dynamic fee RPC calls to return -1, but they don&#x27;t. they&#x27;re returning values. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1448440920' id='440195'>
<a class='timestamp' href='#440195'><time timestamp='2015-11-25T08:42:00Z'>08:42</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
tulip: I  have, results in the -1 all the time (unless you have prexisting save predictioned), in which case they just fade out.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448440980' id='440196'>
<a class='timestamp' href='#440196'><time timestamp='2015-11-25T08:43:00Z'>08:43</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
the results surprised me too, but they go away if you delete the saved stats file.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448440980' id='440197'>
<a class='timestamp' href='#440197'><time timestamp='2015-11-25T08:43:00Z'>08:43</time></a>
&lt;<span class='nick nick-3'> tulip</span>&gt;
ah good call.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448441040' id='440198'>
<a class='timestamp' href='#440198'><time timestamp='2015-11-25T08:44:00Z'>08:44</time></a>
&lt;<span class='nick nick-3'> tulip</span>&gt;
maybe they should just be hard wired to -1 with blocksonly?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448441220' id='440199'>
<a class='timestamp' href='#440199'><time timestamp='2015-11-25T08:47:00Z'>08:47</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
tulip: so blocksonly isn&#x27;t necessarily all blocks only; as you can have whitelisted peers you accept txn from. I was also contemplating a rpc command to one shot perform a top mempool fetch from a single peer; but I dunno if we&#x27;d take that upstream.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448441220' id='440200'>
<a class='timestamp' href='#440200'><time timestamp='2015-11-25T08:47:00Z'>08:47</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
but perhaps it should be hardwired -1 when the mempool is totally empty? 
<br>
</div>

<div class='talk op-msg' data-timestamp='1448441280' id='440201'>
<a class='timestamp' href='#440201'><time timestamp='2015-11-25T08:48:00Z'>08:48</time></a>
&lt;<span class='nick nick-3'> tulip</span>&gt;
right, ok. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1448441340' id='440202'>
<a class='timestamp' href='#440202'><time timestamp='2015-11-25T08:49:00Z'>08:49</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
the goal with the saved state is to give useful resutlts as soon as you start. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1448441340' id='440203'>
<a class='timestamp' href='#440203'><time timestamp='2015-11-25T08:49:00Z'>08:49</time></a>
&lt;<span class='nick nick-3'> tulip</span>&gt;
I&#x27;d completely forgot it exists, that&#x27;s all. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1448442120' id='440204'>
<a class='timestamp' href='#440204'><time timestamp='2015-11-25T09:02:00Z'>09:02</time></a>
&lt;<span class='nick nick-3'> GitHub102</span>&gt;
[bitcoin] laanwj pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/26af1ac7cbce...348b281f8a67" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/26af1ac7cbce...348b281f8a67</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1448442120' id='440205'>
<a class='timestamp' href='#440205'><time timestamp='2015-11-25T09:02:00Z'>09:02</time></a>
&lt;<span class='nick nick-3'> GitHub102</span>&gt;
bitcoin/master 392d3c5 Cory Fields: build: Set osx permissions in the dmg to make Gatekeeper happy
<br>
</div>

<div class='talk op-msg' data-timestamp='1448442120' id='440206'>
<a class='timestamp' href='#440206'><time timestamp='2015-11-25T09:02:00Z'>09:02</time></a>
&lt;<span class='nick nick-3'> GitHub102</span>&gt;
bitcoin/master 348b281 Wladimir J. van der Laan: Merge pull request #7092...
<br>
</div>

<div class='talk op-msg' data-timestamp='1448442120' id='440207'>
<a class='timestamp' href='#440207'><time timestamp='2015-11-25T09:02:00Z'>09:02</time></a>
&lt;<span class='nick nick-4'> GitHub54</span>&gt;
[bitcoin] laanwj closed pull request #7092: build: Set osx permissions in the dmg to make Gatekeeper happy (master...osx-perm-fix) <a href="https://github.com/bitcoin/bitcoin/pull/7092" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/7092</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1448442420' id='440208'>
<a class='timestamp' href='#440208'><time timestamp='2015-11-25T09:07:00Z'>09:07</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
jonasschnelli: good call on closing #7089 - indeed, bitcoin&#x27;s core github is not the place to request changes to consensus behavior
<br>
</div>

<div class='talk op-msg' data-timestamp='1448442420' id='440209'>
<a class='timestamp' href='#440209'><time timestamp='2015-11-25T09:07:00Z'>09:07</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
wumpus: Yes. It was a bit harsh but I think we need to keep discussions out of the github context.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448442480' id='440210'>
<a class='timestamp' href='#440210'><time timestamp='2015-11-25T09:08:00Z'>09:08</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
hm. I didn&#x27;t even see #7089 but yes.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448442480' id='440211'>
<a class='timestamp' href='#440211'><time timestamp='2015-11-25T09:08:00Z'>09:08</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Kind of irritating that they keep going back to probably the worst proposal for that ever done. (e.g. needlessly a hardfork)
<br>
</div>

<div class='talk op-msg' data-timestamp='1448442540' id='440212'>
<a class='timestamp' href='#440212'><time timestamp='2015-11-25T09:09:00Z'>09:09</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
But i agree with him. It causes big pain for HWW devs to trustworthy validate fees (=input amounts).
<br>
</div>

<div class='talk op-msg' data-timestamp='1448442540' id='440213'>
<a class='timestamp' href='#440213'><time timestamp='2015-11-25T09:09:00Z'>09:09</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Oh absolutely.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448442600' id='440214'>
<a class='timestamp' href='#440214'><time timestamp='2015-11-25T09:10:00Z'>09:10</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
CHECKSIG in elements alpha tries one fix, though a different one would be better. I expect there will be a decent soft fork new checksig operator proposed within sig months.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448442600' id='440215'>
<a class='timestamp' href='#440215'><time timestamp='2015-11-25T09:10:00Z'>09:10</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Not sure what is best practice there. But I think retrieving over SPV/BF the inputs and validate these together with the transaction is the only feasible way.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448442720' id='440216'>
<a class='timestamp' href='#440216'><time timestamp='2015-11-25T09:12:00Z'>09:12</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
jonasschnelli: Currently, sure. But if we add a new checksig operator it can avoid having to check the inputs at all.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448442720' id='440217'>
<a class='timestamp' href='#440217'><time timestamp='2015-11-25T09:12:00Z'>09:12</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
providing the dependent transactions together with the transaction seems like the only feasible way, certainly if the HW wants to verify that the inputs are really the ones given
<br>
</div>

<div class='talk op-msg' data-timestamp='1448442720' id='440218'>
<a class='timestamp' href='#440218'><time timestamp='2015-11-25T09:12:00Z'>09:12</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Checksig already signs the txin scriptpubkey but what it really should sign is the whole utxo. If it did, then when signing you need only provide the utxos and not the whole parent transactions. If you lie the signature will be invalid.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448442780' id='440219'>
<a class='timestamp' href='#440219'><time timestamp='2015-11-25T09:13:00Z'>09:13</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
But this can&#x27;t be done as a sighash flag to checksig. Well it can but it would be insane and irresponsbile to hardfork the network for that.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448442780' id='440220'>
<a class='timestamp' href='#440220'><time timestamp='2015-11-25T09:13:00Z'>09:13</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
indeed it signs the scriptpubkey, and that doesn&#x27;t help verifying the amount
<br>
</div>

<div class='talk op-msg' data-timestamp='1448442840' id='440221'>
<a class='timestamp' href='#440221'><time timestamp='2015-11-25T09:14:00Z'>09:14</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
sure, a hardfork for that is stupid
<br>
</div>

<div class='talk op-msg' data-timestamp='1448443140' id='440222'>
<a class='timestamp' href='#440222'><time timestamp='2015-11-25T09:19:00Z'>09:19</time></a>
&lt;<span class='nick nick-3'> tulip</span>&gt;
it looks like there&#x27;s mining software on the main network which is rolling the sequence number. not disastrous or particularly interesting at the moment, but it might be notable if anybody is altering the behaviour of sequence numbers with a consensus rule like in BIP112. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1448443140' id='440223'>
<a class='timestamp' href='#440223'><time timestamp='2015-11-25T09:19:00Z'>09:19</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
lol oh boy. fortunately BIP constrains the transaction version number.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448443140' id='440224'>
<a class='timestamp' href='#440224'><time timestamp='2015-11-25T09:19:00Z'>09:19</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
er that BIP.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448443200' id='440225'>
<a class='timestamp' href='#440225'><time timestamp='2015-11-25T09:20:00Z'>09:20</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
tulip: thanks for noticing that. :(
<br>
</div>

<div class='talk op-msg' data-timestamp='1448443620' id='440226'>
<a class='timestamp' href='#440226'><time timestamp='2015-11-25T09:27:00Z'>09:27</time></a>
&lt;<span class='nick nick-3'> tulip</span>&gt;
might be problematic if miners using this software just flip forward the version number though. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1448443860' id='440227'>
<a class='timestamp' href='#440227'><time timestamp='2015-11-25T09:31:00Z'>09:31</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
flipping forward the version number like people click &#x27;OK&#x27; on software&#x27;s terms and conditions
<br>
</div>

<div class='talk op-msg' data-timestamp='1448444340' id='440228'>
<a class='timestamp' href='#440228'><time timestamp='2015-11-25T09:39:00Z'>09:39</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
hmm... testing wallet.py over the GUI makes the test fail.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448444340' id='440229'>
<a class='timestamp' href='#440229'><time timestamp='2015-11-25T09:39:00Z'>09:39</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
It looks like that self.nodes[2].settxfee(Decimal(&#x27;0.001&#x27;)) has no effect
<br>
</div>

<div class='talk op-msg' data-timestamp='1448444340' id='440230'>
<a class='timestamp' href='#440230'><time timestamp='2015-11-25T09:39:00Z'>09:39</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Assertion failed: 89.99977400 != 89.99900000
<br>
</div>

<div class='talk op-msg' data-timestamp='1448444400' id='440231'>
<a class='timestamp' href='#440231'><time timestamp='2015-11-25T09:40:00Z'>09:40</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
how can the GUI &quot;disturb&quot; self.nodes[2].settxfee(Decimal(&#x27;0.001&#x27;)) and make the RPC servers sendtoaddress make pay different fees
<br>
</div>

<div class='talk op-msg' data-timestamp='1448444520' id='440232'>
<a class='timestamp' href='#440232'><time timestamp='2015-11-25T09:42:00Z'>09:42</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that seems weird...
<br>
</div>

<div class='talk op-msg' data-timestamp='1448444580' id='440233'>
<a class='timestamp' href='#440233'><time timestamp='2015-11-25T09:43:00Z'>09:43</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
maybe this is related to the fPayAtLeastCustomFee
<br>
</div>

<div class='talk op-msg' data-timestamp='1448444640' id='440234'>
<a class='timestamp' href='#440234'><time timestamp='2015-11-25T09:44:00Z'>09:44</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
the GUI at least used to hook into fee decisions
<br>
</div>

<div class='talk op-msg' data-timestamp='1448444640' id='440235'>
<a class='timestamp' href='#440235'><time timestamp='2015-11-25T09:44:00Z'>09:44</time></a>
&lt;<span class='nick nick-3'> * wumpus</span>&gt;
checks ui_interface
<br>
</div>

<div class='talk op-msg' data-timestamp='1448444640' id='440236'>
<a class='timestamp' href='#440236'><time timestamp='2015-11-25T09:44:00Z'>09:44</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
jonasschnelli: I suppose this is why it&#x27;s important to test for impossible outcomes!
<br>
</div>

<div class='talk op-msg' data-timestamp='1448444700' id='440237'>
<a class='timestamp' href='#440237'><time timestamp='2015-11-25T09:45:00Z'>09:45</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
ok, seems no longer the case
<br>
</div>

<div class='talk op-msg' data-timestamp='1448444760' id='440238'>
<a class='timestamp' href='#440238'><time timestamp='2015-11-25T09:46:00Z'>09:46</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
neither ui_interface or the signals on CWallet itself have anything to do with determining fees
<br>
</div>

<div class='talk op-msg' data-timestamp='1448444820' id='440239'>
<a class='timestamp' href='#440239'><time timestamp='2015-11-25T09:47:00Z'>09:47</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
maybe a race condition as the UI gives some background load
<br>
</div>

<div class='talk op-msg' data-timestamp='1448444820' id='440240'>
<a class='timestamp' href='#440240'><time timestamp='2015-11-25T09:47:00Z'>09:47</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
hmm... CreateTransaction repots a payTxFee=22600 after calling settxfee(Decimal(&#x27;0.001&#x27;)).
<br>
</div>

<div class='talk op-msg' data-timestamp='1448445120' id='440241'>
<a class='timestamp' href='#440241'><time timestamp='2015-11-25T09:52:00Z'>09:52</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
maybe coin control interfering? or some settings from QSettings?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448445180' id='440242'>
<a class='timestamp' href='#440242'><time timestamp='2015-11-25T09:53:00Z'>09:53</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
ideally the GUI should have an &#x27;ignore QSettings&#x27; option for tests
<br>
</div>

<div class='talk op-msg' data-timestamp='1448447520' id='440243'>
<a class='timestamp' href='#440243'><time timestamp='2015-11-25T10:32:00Z'>10:32</time></a>
&lt;<span class='nick nick-1'> GitHub53</span>&gt;
[bitcoin] laanwj pushed 3 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/348b281f8a67...2b2ddc558e1c" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/348b281f8a67...2b2ddc558e1c</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1448447520' id='440244'>
<a class='timestamp' href='#440244'><time timestamp='2015-11-25T10:32:00Z'>10:32</time></a>
&lt;<span class='nick nick-1'> GitHub53</span>&gt;
bitcoin/master 5ad5463 MarcoFalke: Squashed &#x27;src/secp256k1/&#x27; changes from 2bfb82b..6c527ec...
<br>
</div>

<div class='talk op-msg' data-timestamp='1448447520' id='440245'>
<a class='timestamp' href='#440245'><time timestamp='2015-11-25T10:32:00Z'>10:32</time></a>
&lt;<span class='nick nick-1'> GitHub53</span>&gt;
bitcoin/master fa63e49 MarcoFalke: Merge commit &#x27;5ad54630935d1f340666de7bc9ffef9b8a1df296&#x27; into HEAD
<br>
</div>

<div class='talk op-msg' data-timestamp='1448447520' id='440246'>
<a class='timestamp' href='#440246'><time timestamp='2015-11-25T10:32:00Z'>10:32</time></a>
&lt;<span class='nick nick-1'> GitHub53</span>&gt;
bitcoin/master 2b2ddc5 Wladimir J. van der Laan: Merge pull request #7088...
<br>
</div>

<div class='talk op-msg' data-timestamp='1448447520' id='440247'>
<a class='timestamp' href='#440247'><time timestamp='2015-11-25T10:32:00Z'>10:32</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
found the problematic UI interaction that interferes the RPC server.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448447520' id='440248'>
<a class='timestamp' href='#440248'><time timestamp='2015-11-25T10:32:00Z'>10:32</time></a>
&lt;<span class='nick nick-14'> GitHub130</span>&gt;
[bitcoin] laanwj closed pull request #7088: [trivial] pull secp256k1 subtree (master...MarcoFalke-2015-syncSecp256k1) <a href="https://github.com/bitcoin/bitcoin/pull/7088" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/7088</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1448447520' id='440249'>
<a class='timestamp' href='#440249'><time timestamp='2015-11-25T10:32:00Z'>10:32</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
void SendCoinsDialog::updateGlobalFeeVariables()  ---&gt; fSendFreeTransactions = ui-&gt;checkBoxFreeTx-&gt;isChecked()
<br>
</div>

<div class='talk op-msg' data-timestamp='1448447520' id='440250'>
<a class='timestamp' href='#440250'><time timestamp='2015-11-25T10:32:00Z'>10:32</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Gets called when the GUI starts
<br>
</div>

<div class='talk op-msg' data-timestamp='1448447580' id='440251'>
<a class='timestamp' href='#440251'><time timestamp='2015-11-25T10:33:00Z'>10:33</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sorry... not fSendFreeTransactions , i meant instead: fPayAtLeastCustomFee = ui-&gt;radioCustomAtLeast-&gt;isChecked();
<br>
</div>

<div class='talk op-msg' data-timestamp='1448447580' id='440252'>
<a class='timestamp' href='#440252'><time timestamp='2015-11-25T10:33:00Z'>10:33</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
good catch
<br>
</div>

<div class='talk op-msg' data-timestamp='1448447580' id='440253'>
<a class='timestamp' href='#440253'><time timestamp='2015-11-25T10:33:00Z'>10:33</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
phew, at least not a race condition!
<br>
</div>

<div class='talk op-msg' data-timestamp='1448450160' id='440254'>
<a class='timestamp' href='#440254'><time timestamp='2015-11-25T11:16:00Z'>11:16</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
though ideally the UI wouldn&#x27;t be updating global variables like that, just pass everything it needs into the transaction creation/commit
<br>
</div>

<div class='talk op-msg' data-timestamp='1448451360' id='440255'>
<a class='timestamp' href='#440255'><time timestamp='2015-11-25T11:36:00Z'>11:36</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
wumpus: I though the same. The UI should not connect globals vars with radio-buttons, etc.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448451360' id='440256'>
<a class='timestamp' href='#440256'><time timestamp='2015-11-25T11:36:00Z'>11:36</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
managed to avoid that with coin control, but apparently some did sneak in
<br>
</div>

<div class='talk op-msg' data-timestamp='1448451420' id='440257'>
<a class='timestamp' href='#440257'><time timestamp='2015-11-25T11:37:00Z'>11:37</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
(e.g. coincontrol config is global, but only to the GUI, it is explicitly passed to the core, so doesn&#x27;t/shouldn&#x27;t interfere with RPC usage)
<br>
</div>

<div class='talk op-msg' data-timestamp='1448451480' id='440258'>
<a class='timestamp' href='#440258'><time timestamp='2015-11-25T11:38:00Z'>11:38</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
but i don&#x27;t get this. &quot;settxfee&quot; is supposed to by by fee per KB?! Also it help says so. But it&#x27;s actually absolute?!
<br>
</div>

<div class='talk op-msg' data-timestamp='1448451540' id='440259'>
<a class='timestamp' href='#440259'><time timestamp='2015-11-25T11:39:00Z'>11:39</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it&#x27;s per kB afaik
<br>
</div>

<div class='talk op-msg' data-timestamp='1448451540' id='440260'>
<a class='timestamp' href='#440260'><time timestamp='2015-11-25T11:39:00Z'>11:39</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
If it would be, that assert would not be true: <a href="https://github.com/bitcoin/bitcoin/blob/master/qa/rpc-tests/wallet.py#L111" class="link" target="_blank">https://github.com/bitcoin/bitcoin/blob/master/qa/rpc-tests/wallet.py#L111</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1448451600' id='440261'>
<a class='timestamp' href='#440261'><time timestamp='2015-11-25T11:40:00Z'>11:40</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I just created a transaction on regtest after calling &quot;settxfee 0.001&quot; ... gettransaction tells me: &quot;fee&quot;: -0.00100000
<br>
</div>

<div class='talk op-msg' data-timestamp='1448451660' id='440262'>
<a class='timestamp' href='#440262'><time timestamp='2015-11-25T11:41:00Z'>11:41</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
hexlen 384 = 192 bytes = a expected fee of 0.000192
<br>
</div>

<div class='talk op-msg' data-timestamp='1448451660' id='440263'>
<a class='timestamp' href='#440263'><time timestamp='2015-11-25T11:41:00Z'>11:41</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it assumes rounding?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448451720' id='440264'>
<a class='timestamp' href='#440264'><time timestamp='2015-11-25T11:42:00Z'>11:42</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
    if (fPayAtLeastCustomFee &amp;&amp; nFeeNeeded &gt; 0 &amp;&amp; nFeeNeeded &lt; payTxFee.GetFeePerK())
<br>
</div>

<div class='talk op-msg' data-timestamp='1448451720' id='440265'>
<a class='timestamp' href='#440265'><time timestamp='2015-11-25T11:42:00Z'>11:42</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
        nFeeNeeded = payTxFee.GetFeePerK();
<br>
</div>

<div class='talk op-msg' data-timestamp='1448451720' id='440266'>
<a class='timestamp' href='#440266'><time timestamp='2015-11-25T11:42:00Z'>11:42</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
no. settxfee to 0.01 resuls in a transaction with fee &quot;fee&quot;: -0.01000000
<br>
</div>

<div class='talk op-msg' data-timestamp='1448451720' id='440267'>
<a class='timestamp' href='#440267'><time timestamp='2015-11-25T11:42:00Z'>11:42</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
^ that looks complete broken
<br>
</div>

<div class='talk op-msg' data-timestamp='1448451720' id='440268'>
<a class='timestamp' href='#440268'><time timestamp='2015-11-25T11:42:00Z'>11:42</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
payTxFee is treated as a minimum, absolute, fee for a transaction
<br>
</div>

<div class='talk op-msg' data-timestamp='1448451720' id='440269'>
<a class='timestamp' href='#440269'><time timestamp='2015-11-25T11:42:00Z'>11:42</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
right... this needs fixing.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448451780' id='440270'>
<a class='timestamp' href='#440270'><time timestamp='2015-11-25T11:43:00Z'>11:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
what is this &quot;payatleastcustomfee&quot; ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448451780' id='440271'>
<a class='timestamp' href='#440271'><time timestamp='2015-11-25T11:43:00Z'>11:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
the comment says &quot;user selected total at least&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1448451780' id='440272'>
<a class='timestamp' href='#440272'><time timestamp='2015-11-25T11:43:00Z'>11:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
so this is clearly intentional
<br>
</div>

<div class='talk op-msg' data-timestamp='1448451840' id='440273'>
<a class='timestamp' href='#440273'><time timestamp='2015-11-25T11:44:00Z'>11:44</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Right. But fPayAtLeastCustomFee = true by default.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448451840' id='440274'>
<a class='timestamp' href='#440274'><time timestamp='2015-11-25T11:44:00Z'>11:44</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Which makes by default every fee absolute?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448451840' id='440275'>
<a class='timestamp' href='#440275'><time timestamp='2015-11-25T11:44:00Z'>11:44</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
and the only way to change fPayAtLeastCustomFee is over the GUI?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448451840' id='440276'>
<a class='timestamp' href='#440276'><time timestamp='2015-11-25T11:44:00Z'>11:44</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
... yup
<br>
</div>

<div class='talk op-msg' data-timestamp='1448451840' id='440277'>
<a class='timestamp' href='#440277'><time timestamp='2015-11-25T11:44:00Z'>11:44</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
hah
<br>
</div>

<div class='talk op-msg' data-timestamp='1448451900' id='440278'>
<a class='timestamp' href='#440278'><time timestamp='2015-11-25T11:45:00Z'>11:45</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
i think we should review <a href="https://github.com/bitcoin/bitcoin/pull/6708" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/6708</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1448451900' id='440279'>
<a class='timestamp' href='#440279'><time timestamp='2015-11-25T11:45:00Z'>11:45</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
from within the coin control dialog
<br>
</div>

<div class='talk op-msg' data-timestamp='1448451900' id='440280'>
<a class='timestamp' href='#440280'><time timestamp='2015-11-25T11:45:00Z'>11:45</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
so it makes sense that from without coincontrol you&#x27;re able to set the absolute fee
<br>
</div>

<div class='talk op-msg' data-timestamp='1448451960' id='440281'>
<a class='timestamp' href='#440281'><time timestamp='2015-11-25T11:46:00Z'>11:46</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but it should 1) use a separate variable (not paytxfee, but for example overridetotalfee) 2) it should be passed down through the coin control preferences, not through a global
<br>
</div>

<div class='talk op-msg' data-timestamp='1448451960' id='440282'>
<a class='timestamp' href='#440282'><time timestamp='2015-11-25T11:46:00Z'>11:46</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Right. It should not be a global variable and should not touch outside GUI behavior. It&#x27;s actually also available without CoinControl.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448452020' id='440283'>
<a class='timestamp' href='#440283'><time timestamp='2015-11-25T11:47:00Z'>11:47</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
well it being set to true by default is broken
<br>
</div>

<div class='talk op-msg' data-timestamp='1448452020' id='440284'>
<a class='timestamp' href='#440284'><time timestamp='2015-11-25T11:47:00Z'>11:47</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and it can only be unset through the coincontrol gui
<br>
</div>

<div class='talk op-msg' data-timestamp='1448452020' id='440285'>
<a class='timestamp' href='#440285'><time timestamp='2015-11-25T11:47:00Z'>11:47</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
okay. will work on a fix.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448452020' id='440286'>
<a class='timestamp' href='#440286'><time timestamp='2015-11-25T11:47:00Z'>11:47</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
nFeeNeeded = payTxFee.GetFeePerK(); // &lt;--- is a dirty hack!
<br>
</div>

<div class='talk op-msg' data-timestamp='1448452080' id='440287'>
<a class='timestamp' href='#440287'><time timestamp='2015-11-25T11:48:00Z'>11:48</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
but i see, that an absolute fee can help (during RPC tests and maybe some other usecases).
<br>
</div>

<div class='talk op-msg' data-timestamp='1448452140' id='440288'>
<a class='timestamp' href='#440288'><time timestamp='2015-11-25T11:49:00Z'>11:49</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
What about adding an option to set absolute fees over &quot;settxfee&quot;?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448452140' id='440289'>
<a class='timestamp' href='#440289'><time timestamp='2015-11-25T11:49:00Z'>11:49</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
makes no sense
<br>
</div>

<div class='talk op-msg' data-timestamp='1448452140' id='440290'>
<a class='timestamp' href='#440290'><time timestamp='2015-11-25T11:49:00Z'>11:49</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
without coin control
<br>
</div>

<div class='talk op-msg' data-timestamp='1448452140' id='440291'>
<a class='timestamp' href='#440291'><time timestamp='2015-11-25T11:49:00Z'>11:49</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
It only makes sense for regression tests.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448452200' id='440292'>
<a class='timestamp' href='#440292'><time timestamp='2015-11-25T11:50:00Z'>11:50</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and if you&#x27;re doing selection manually (via createrawtransaction), there is no need for it
<br>
</div>

<div class='talk op-msg' data-timestamp='1448452200' id='440293'>
<a class='timestamp' href='#440293'><time timestamp='2015-11-25T11:50:00Z'>11:50</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
to deterministic calculate fees
<br>
</div>

<div class='talk op-msg' data-timestamp='1448452200' id='440294'>
<a class='timestamp' href='#440294'><time timestamp='2015-11-25T11:50:00Z'>11:50</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
well if it&#x27;s exposed by RPC it is necessarily global
<br>
</div>

<div class='talk op-msg' data-timestamp='1448452200' id='440295'>
<a class='timestamp' href='#440295'><time timestamp='2015-11-25T11:50:00Z'>11:50</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
(for RPC)
<br>
</div>

<div class='talk op-msg' data-timestamp='1448452200' id='440296'>
<a class='timestamp' href='#440296'><time timestamp='2015-11-25T11:50:00Z'>11:50</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
let&#x27;s first fix the use case, then the rest?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448452260' id='440297'>
<a class='timestamp' href='#440297'><time timestamp='2015-11-25T11:51:00Z'>11:51</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
If we drop absolute fees (which would be the right step), rpc tests need this update: <a href="https://github.com/bitcoin/bitcoin/pull/6708/files#diff-51c9989cea15f3cac744183b78cb0688" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/6708/files#diff-51c9989cea15f3cac744183b78cb0688</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1448452440' id='440298'>
<a class='timestamp' href='#440298'><time timestamp='2015-11-25T11:54:00Z'>11:54</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jonasschnelli: i&#x27;m writing a fix
<br>
</div>

<div class='talk op-msg' data-timestamp='1448452440' id='440299'>
<a class='timestamp' href='#440299'><time timestamp='2015-11-25T11:54:00Z'>11:54</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sipa: okay.. nice.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448452440' id='440300'>
<a class='timestamp' href='#440300'><time timestamp='2015-11-25T11:54:00Z'>11:54</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I&#x27;ll fix the UI stuff.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448452500' id='440301'>
<a class='timestamp' href='#440301'><time timestamp='2015-11-25T11:55:00Z'>11:55</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Need to drop the absolut fee option for &quot;non-coincontrol&quot; transactions
<br>
</div>

<div class='talk op-msg' data-timestamp='1448452560' id='440302'>
<a class='timestamp' href='#440302'><time timestamp='2015-11-25T11:56:00Z'>11:56</time></a>
&lt;<span class='nick nick-12'> * jonasschnelli</span>&gt;
needs to go back to the thing he was actually working on, &quot;CoinJoin transactions display&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1448452740' id='440303'>
<a class='timestamp' href='#440303'><time timestamp='2015-11-25T11:59:00Z'>11:59</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
oh, there is a nCustomFeeRadio set from the send dialog
<br>
</div>

<div class='talk op-msg' data-timestamp='1448452740' id='440304'>
<a class='timestamp' href='#440304'><time timestamp='2015-11-25T11:59:00Z'>11:59</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
jonasschnelli, are you working on the <a href="https://github.com/bitcoin/bitcoin/issues/6749#issuecomment-157746758" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/6749#issuecomment-157746758</a> thing?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448452740' id='440305'>
<a class='timestamp' href='#440305'><time timestamp='2015-11-25T11:59:00Z'>11:59</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sorry, this will need gui hackery
<br>
</div>

<div class='talk op-msg' data-timestamp='1448452740' id='440306'>
<a class='timestamp' href='#440306'><time timestamp='2015-11-25T11:59:00Z'>11:59</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
Didn&#x27;t catch that, so we are not duplicating effort
<br>
</div>

<div class='talk op-msg' data-timestamp='1448452800' id='440307'>
<a class='timestamp' href='#440307'><time timestamp='2015-11-25T12:00:00Z'>12:00</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
MarcoFalke: I think sipa has just started to work on some things there. I&#x27;ll wait until he has something.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448452800' id='440308'>
<a class='timestamp' href='#440308'><time timestamp='2015-11-25T12:00:00Z'>12:00</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Then i&#x27;d like to address the UI stuff
<br>
</div>

<div class='talk op-msg' data-timestamp='1448452800' id='440309'>
<a class='timestamp' href='#440309'><time timestamp='2015-11-25T12:00:00Z'>12:00</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jonasschnelli: so my suggestion would be to remove the &quot;pay at least total&quot; function from the regular send dialog, and move it to the coin control one
<br>
</div>

<div class='talk op-msg' data-timestamp='1448452860' id='440310'>
<a class='timestamp' href='#440310'><time timestamp='2015-11-25T12:01:00Z'>12:01</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
sipa, to fix <a href="https://github.com/bitcoin/bitcoin/issues/6749#issuecomment-157746758" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/6749#issuecomment-157746758</a> ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448452860' id='440311'>
<a class='timestamp' href='#440311'><time timestamp='2015-11-25T12:01:00Z'>12:01</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
then the setting can just be passed via the coincontrol settings object, which is trivial
<br>
</div>

<div class='talk op-msg' data-timestamp='1448452860' id='440312'>
<a class='timestamp' href='#440312'><time timestamp='2015-11-25T12:01:00Z'>12:01</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
MarcoFalke: no, to fix the fact that the &quot;set at least total&quot; function works via a global and changes all fees
<br>
</div>

<div class='talk op-msg' data-timestamp='1448452920' id='440313'>
<a class='timestamp' href='#440313'><time timestamp='2015-11-25T12:02:00Z'>12:02</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
why was this introduced?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448452920' id='440314'>
<a class='timestamp' href='#440314'><time timestamp='2015-11-25T12:02:00Z'>12:02</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sipa: right. It should be in the CC dialog. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1448452920' id='440315'>
<a class='timestamp' href='#440315'><time timestamp='2015-11-25T12:02:00Z'>12:02</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
&lt;sipa&gt;why was this introduced? / you mean the &quot;pay at least total&quot;? Probably together with Cozzes CC stuff?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448452980' id='440316'>
<a class='timestamp' href='#440316'><time timestamp='2015-11-25T12:03:00Z'>12:03</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
Yes it&#x27;s by cozz
<br>
</div>

<div class='talk op-msg' data-timestamp='1448452980' id='440317'>
<a class='timestamp' href='#440317'><time timestamp='2015-11-25T12:03:00Z'>12:03</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
so nobody ever noticed that this makes bitcoin core&#x27;s transaction pay around 4x too much fee by default?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448453040' id='440318'>
<a class='timestamp' href='#440318'><time timestamp='2015-11-25T12:04:00Z'>12:04</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sipa: hah. I assume &quot;no&quot;!.. scary!
<br>
</div>

<div class='talk op-msg' data-timestamp='1448453040' id='440319'>
<a class='timestamp' href='#440319'><time timestamp='2015-11-25T12:04:00Z'>12:04</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
oh, i assume paytxfee was 0 by default, so it didn&#x27;t have any effect
<br>
</div>

<div class='talk op-msg' data-timestamp='1448453040' id='440320'>
<a class='timestamp' href='#440320'><time timestamp='2015-11-25T12:04:00Z'>12:04</time></a>
&lt;<span class='nick nick-12'> * jonasschnelli</span>&gt;
thinks Cozz was payed by the miners... :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1448453040' id='440321'>
<a class='timestamp' href='#440321'><time timestamp='2015-11-25T12:04:00Z'>12:04</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sipa: right. This is a point.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448453100' id='440322'>
<a class='timestamp' href='#440322'><time timestamp='2015-11-25T12:05:00Z'>12:05</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jonasschnelli: see my betterabsolute branch
<br>
</div>

<div class='talk op-msg' data-timestamp='1448453100' id='440323'>
<a class='timestamp' href='#440323'><time timestamp='2015-11-25T12:05:00Z'>12:05</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jonasschnelli: sorry, i thought i could do more, but there rest is gui code
<br>
</div>

<div class='talk op-msg' data-timestamp='1448453100' id='440324'>
<a class='timestamp' href='#440324'><time timestamp='2015-11-25T12:05:00Z'>12:05</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
I haven&#x27;t checked previous code but it may be to mimick how earlier version have done that.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448453100' id='440325'>
<a class='timestamp' href='#440325'><time timestamp='2015-11-25T12:05:00Z'>12:05</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
Was this &quot;let&#x27;s use round numbers for fees&quot; a thing back then?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448453100' id='440326'>
<a class='timestamp' href='#440326'><time timestamp='2015-11-25T12:05:00Z'>12:05</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
right, i think until some time in the past, we always paid per kilobyte started
<br>
</div>

<div class='talk op-msg' data-timestamp='1448453100' id='440327'>
<a class='timestamp' href='#440327'><time timestamp='2015-11-25T12:05:00Z'>12:05</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sipa: np. I&#x27;m happy to take over.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448453100' id='440328'>
<a class='timestamp' href='#440328'><time timestamp='2015-11-25T12:05:00Z'>12:05</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
not per byte
<br>
</div>

<div class='talk op-msg' data-timestamp='1448453100' id='440329'>
<a class='timestamp' href='#440329'><time timestamp='2015-11-25T12:05:00Z'>12:05</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jonasschnelli: thanks!
<br>
</div>

<div class='talk op-msg' data-timestamp='1448453880' id='440330'>
<a class='timestamp' href='#440330'><time timestamp='2015-11-25T12:18:00Z'>12:18</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
sipa, should I rebase onto betterabsolute?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448453940' id='440331'>
<a class='timestamp' href='#440331'><time timestamp='2015-11-25T12:19:00Z'>12:19</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
or wait until the gui is fixed
<br>
</div>

<div class='talk op-msg' data-timestamp='1448454000' id='440332'>
<a class='timestamp' href='#440332'><time timestamp='2015-11-25T12:20:00Z'>12:20</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
MarcoFalke: up to jonasschnelli 
<br>
</div>

<div class='talk op-msg' data-timestamp='1448454000' id='440333'>
<a class='timestamp' href='#440333'><time timestamp='2015-11-25T12:20:00Z'>12:20</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
MarcoFalke: let me finish it, i&#x27;ll also cherry-pick your wallet.py changes,... maybe afterwards there are still things that could be optimized.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448454120' id='440334'>
<a class='timestamp' href='#440334'><time timestamp='2015-11-25T12:22:00Z'>12:22</time></a>
&lt;<span class='nick nick-1'> GitHub91</span>&gt;
[bitcoin] laanwj opened pull request #7095: Replace scriptnum_test&#x27;s normative ScriptNum implementation (master...2015_11_remove_openssl_consensus_checks) <a href="https://github.com/bitcoin/bitcoin/pull/7095" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/7095</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1448454540' id='440335'>
<a class='timestamp' href='#440335'><time timestamp='2015-11-25T12:29:00Z'>12:29</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
wumpus, is <a href="https://github.com/bitcoin/bitcoin/pull/527/files#diff-e2b7ef544fda33841c06f443b2cab6b3" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/527/files#diff-e2b7ef544fda33841c06f443b2cab6b3</a> still relevant for gitian?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448454540' id='440336'>
<a class='timestamp' href='#440336'><time timestamp='2015-11-25T12:29:00Z'>12:29</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
MarcoFalke: no
<br>
</div>

<div class='talk op-msg' data-timestamp='1448454600' id='440337'>
<a class='timestamp' href='#440337'><time timestamp='2015-11-25T12:30:00Z'>12:30</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it never was; gitian-downloader was meant to be a downloader for bitcoin that checks the gitian signatures, but AFAIK it was never completed or used
<br>
</div>

<div class='talk op-msg' data-timestamp='1448454660' id='440338'>
<a class='timestamp' href='#440338'><time timestamp='2015-11-25T12:31:00Z'>12:31</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
But the folder is used to store the pgp keys?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448454660' id='440339'>
<a class='timestamp' href='#440339'><time timestamp='2015-11-25T12:31:00Z'>12:31</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes, just a convention
<br>
</div>

<div class='talk op-msg' data-timestamp='1448454720' id='440340'>
<a class='timestamp' href='#440340'><time timestamp='2015-11-25T12:32:00Z'>12:32</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
the download-configs are pointless
<br>
</div>

<div class='talk op-msg' data-timestamp='1448454840' id='440341'>
<a class='timestamp' href='#440341'><time timestamp='2015-11-25T12:34:00Z'>12:34</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I think they&#x27;ve been kept around in case anyone was ever going to resurrect the tool, but that never happened, I guess they&#x27;re out of date enough to be removed now
<br>
</div>

<div class='talk op-msg' data-timestamp='1448454840' id='440342'>
<a class='timestamp' href='#440342'><time timestamp='2015-11-25T12:34:00Z'>12:34</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
Just doing this with my next trvial pull
<br>
</div>

<div class='talk op-msg' data-timestamp='1448456700' id='440343'>
<a class='timestamp' href='#440343'><time timestamp='2015-11-25T13:05:00Z'>13:05</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
Oh, that&#x27;s why travis is only running with 3/5 speed.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448456700' id='440344'>
<a class='timestamp' href='#440344'><time timestamp='2015-11-25T13:05:00Z'>13:05</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
<a href="https://travis-ci.org/bitcoin/bitcoin/builds/92025728" class="link" target="_blank">https://travis-ci.org/bitcoin/bitcoin/builds/92025728</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1448456700' id='440345'>
<a class='timestamp' href='#440345'><time timestamp='2015-11-25T13:05:00Z'>13:05</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
<a href="https://travis-ci.org/bitcoin/bitcoin/builds/92213684" class="link" target="_blank">https://travis-ci.org/bitcoin/bitcoin/builds/92213684</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1448457720' id='440346'>
<a class='timestamp' href='#440346'><time timestamp='2015-11-25T13:22:00Z'>13:22</time></a>
&lt;<span class='nick nick-7'> GitHub180</span>&gt;
[bitcoin] jonasschnelli opened pull request #7096: [Wallet] fix settxfee and improve minimum absolute fee GUI options (master...2015/11/feefix) <a href="https://github.com/bitcoin/bitcoin/pull/7096" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/7096</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1448458260' id='440347'>
<a class='timestamp' href='#440347'><time timestamp='2015-11-25T13:31:00Z'>13:31</time></a>
&lt;<span class='nick nick-10'> GitHub147</span>&gt;
[bitcoin] jonasschnelli closed pull request #6708: [wallet] Default fPayAtLeastCustomFee to false (master...MarcoFalke-2015-walletFixPayTxFee) <a href="https://github.com/bitcoin/bitcoin/pull/6708" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/6708</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1448480880' id='440348'>
<a class='timestamp' href='#440348'><time timestamp='2015-11-25T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-3'> cfields_</span>&gt;
sipa: thoughts on <a href="https://github.com/theuni/bitcoin/commit/792b0f5da618ea51ecd7b21db633faa6743c1e68" class="link" target="_blank">https://github.com/theuni/bitcoin/commit/792b0f5da618ea51ecd7b21db633faa6743c1e68</a> ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448481000' id='440349'>
<a class='timestamp' href='#440349'><time timestamp='2015-11-25T19:50:00Z'>19:50</time></a>
&lt;<span class='nick nick-3'> cfields_</span>&gt;
not sure what the reasoning was for the double lookup, does it serve a purpose that a static dummy source wouldn&#x27;t?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448485380' id='440350'>
<a class='timestamp' href='#440350'><time timestamp='2015-11-25T21:03:00Z'>21:03</time></a>
&lt;<span class='nick nick-3'> cfields_</span>&gt;
ok, i must be going crazy... using a vanilla node with no externally bound address, ipv4/ipv6 aren&#x27;t set as reachable by default. So when addr&#x27;s come in, they&#x27;re not added to addrman since they fail IsReachable(). Result is that addrman only ever contains dns seeds
<br>
</div>

<div class='talk op-msg' data-timestamp='1448485440' id='440351'>
<a class='timestamp' href='#440351'><time timestamp='2015-11-25T21:04:00Z'>21:04</time></a>
&lt;<span class='nick nick-3'> cfields_</span>&gt;
...that can&#x27;t be right.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448485680' id='440352'>
<a class='timestamp' href='#440352'><time timestamp='2015-11-25T21:08:00Z'>21:08</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
oh that bug. damn
<br>
</div>

<div class='talk op-msg' data-timestamp='1448485740' id='440353'>
<a class='timestamp' href='#440353'><time timestamp='2015-11-25T21:09:00Z'>21:09</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I think phantomcircuit (?) found that a couple months ago, someone did, and I forgot about it. So it may well be true.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448485740' id='440354'>
<a class='timestamp' href='#440354'><time timestamp='2015-11-25T21:09:00Z'>21:09</time></a>
&lt;<span class='nick nick-3'> cfields_</span>&gt;
gmaxwell: so that&#x27;s actually the case? whoa.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448485740' id='440355'>
<a class='timestamp' href='#440355'><time timestamp='2015-11-25T21:09:00Z'>21:09</time></a>
&lt;<span class='nick nick-3'> cfields_</span>&gt;
just verified with an addrman dump
<br>
</div>

<div class='talk op-msg' data-timestamp='1448485860' id='440356'>
<a class='timestamp' href='#440356'><time timestamp='2015-11-25T21:11:00Z'>21:11</time></a>
&lt;<span class='nick nick-3'> cfields_</span>&gt;
gmaxwell: surely it&#x27;s reasonable to set a net to reachable once a connection has been established on it?
<br>
</div>

<div class='talk op-msg' data-timestamp='1448485920' id='440357'>
<a class='timestamp' href='#440357'><time timestamp='2015-11-25T21:12:00Z'>21:12</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I think we should be setting IPv4 reachable if we have any IPv4 bindings at least.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448485920' id='440358'>
<a class='timestamp' href='#440358'><time timestamp='2015-11-25T21:12:00Z'>21:12</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
and tor reachable if we have a onion proxy configured.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448485980' id='440359'>
<a class='timestamp' href='#440359'><time timestamp='2015-11-25T21:13:00Z'>21:13</time></a>
&lt;<span class='nick nick-3'> cfields_</span>&gt;
i believe the latter is already done
<br>
</div>

<div class='talk op-msg' data-timestamp='1448489160' id='440360'>
<a class='timestamp' href='#440360'><time timestamp='2015-11-25T22:06:00Z'>22:06</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
wumpus: I switched to a somewhat different approach in that mempool limit patch. I now have it set setInventoryKnown (I think it should have always done this), and not return anything in setInventoryKnown.  It also only considers the top 8192 entries in the mempool.
<br>
</div>

<div class='talk op-msg' data-timestamp='1448493000' id='440361'>
<a class='timestamp' href='#440361'><time timestamp='2015-11-25T23:10:00Z'>23:10</time></a>
&lt;<span class='nick nick-12'> GitHub82</span>&gt;
[bitcoin] gmaxwell opened pull request #7099: Add whitelistforcerelay setting and default to off. (master...control_relay_force) <a href="https://github.com/bitcoin/bitcoin/pull/7099" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/7099</a>
<br>
</div>

</div>
</section>

</body>
</html>
