<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2020-05-08
 — 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2020-05-08' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:18 UTC</pre>
<pre><a href="/bitcoin-core-dev/2020-04-08">&lt;</a><span class='header'>     May 2020     </span><a href="/bitcoin-core-dev/2020-06-08">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;                <a class="" href="/bitcoin-core-dev/2020-05-01">1</a>  <a class="" href="/bitcoin-core-dev/2020-05-02">2</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2020-05-03">3</a>  <a class="" href="/bitcoin-core-dev/2020-05-04">4</a>  <a class="" href="/bitcoin-core-dev/2020-05-05">5</a>  <a class="" href="/bitcoin-core-dev/2020-05-06">6</a>  <a class="" href="/bitcoin-core-dev/2020-05-07">7</a>  <a class="current" href="/bitcoin-core-dev/2020-05-08">8</a>  <a class="" href="/bitcoin-core-dev/2020-05-09">9</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2020-05-10">10</a> <a class="" href="/bitcoin-core-dev/2020-05-11">11</a> <a class="" href="/bitcoin-core-dev/2020-05-12">12</a> <a class="" href="/bitcoin-core-dev/2020-05-13">13</a> <a class="" href="/bitcoin-core-dev/2020-05-14">14</a> <a class="" href="/bitcoin-core-dev/2020-05-15">15</a> <a class="" href="/bitcoin-core-dev/2020-05-16">16</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2020-05-17">17</a> <a class="" href="/bitcoin-core-dev/2020-05-18">18</a> <a class="" href="/bitcoin-core-dev/2020-05-19">19</a> <a class="" href="/bitcoin-core-dev/2020-05-20">20</a> <a class="" href="/bitcoin-core-dev/2020-05-21">21</a> <a class="" href="/bitcoin-core-dev/2020-05-22">22</a> <a class="" href="/bitcoin-core-dev/2020-05-23">23</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2020-05-24">24</a> <a class="" href="/bitcoin-core-dev/2020-05-25">25</a> <a class="" href="/bitcoin-core-dev/2020-05-26">26</a> <a class="" href="/bitcoin-core-dev/2020-05-27">27</a> <a class="" href="/bitcoin-core-dev/2020-05-28">28</a> <a class="" href="/bitcoin-core-dev/2020-05-29">29</a> <a class="" href="/bitcoin-core-dev/2020-05-30">30</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2020-05-31">31</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1588897440' id='386251'>
<a class='timestamp' href='#386251'><time timestamp='2020-05-08T00:24:00Z'>00:24</time></a>
&lt;<span class='nick nick-8'> midnight</span>&gt;
sipa: hi!  graphs..?
<br>
</div>

<div class='talk op-msg' data-timestamp='1588897440' id='386252'>
<a class='timestamp' href='#386252'><time timestamp='2020-05-08T00:24:00Z'>00:24</time></a>
&lt;<span class='nick nick-8'> midnight</span>&gt;
:-)
<br>
</div>

<div class='talk op-msg' data-timestamp='1588897680' id='386253'>
<a class='timestamp' href='#386253'><time timestamp='2020-05-08T00:28:00Z'>00:28</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
midnight: what&#x27;s wrong with them?
<br>
</div>

<div class='talk op-msg' data-timestamp='1588901460' id='386254'>
<a class='timestamp' href='#386254'><time timestamp='2020-05-08T01:31:00Z'>01:31</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] fanquake opened pull request #18910: p2p: add MAX_FEELER_CONNECTIONS constant (master...add_max_feeler_connections) <a href="https://github.com/bitcoin/bitcoin/pull/18910" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/18910</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1588915200' id='386255'>
<a class='timestamp' href='#386255'><time timestamp='2020-05-08T05:20:00Z'>05:20</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] practicalswift opened pull request #18912: ci: Run fuzz testing test cases (bitcoin-core/qa-assets) under valgrind to catch memory errors (master...fuzzers-under-valgrind) <a href="https://github.com/bitcoin/bitcoin/pull/18912" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/18912</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1588924680' id='386256'>
<a class='timestamp' href='#386256'><time timestamp='2020-05-08T07:58:00Z'>07:58</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
jonatack really strange the fuzz crash you get with the v2 deserializer
<br>
</div>

<div class='talk op-msg' data-timestamp='1588924740' id='386257'>
<a class='timestamp' href='#386257'><time timestamp='2020-05-08T07:59:00Z'>07:59</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
GetMessage() sets m_raw_message_size to header_size + msg.m_message_size,... which a few lines later gets tested through assert(msg.m_raw_message_size == header_size + msg.m_message_size); (which fails)
<br>
</div>

<div class='talk op-msg' data-timestamp='1588925460' id='386258'>
<a class='timestamp' href='#386258'><time timestamp='2020-05-08T08:11:00Z'>08:11</time></a>
&lt;<span class='nick nick-6'> jb55</span>&gt;
smells like memory corruption
<br>
</div>

<div class='talk op-msg' data-timestamp='1588925460' id='386259'>
<a class='timestamp' href='#386259'><time timestamp='2020-05-08T08:11:00Z'>08:11</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
jonatack: found the issue revealed by the fuzzer 
<br>
</div>

<div class='talk op-msg' data-timestamp='1588928040' id='386260'>
<a class='timestamp' href='#386260'><time timestamp='2020-05-08T08:54:00Z'>08:54</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sipa: do you think it is a problem to not MAC the length in the V2 BIP324 protocol? See comment: <a href="https://gist.github.com/jonasschnelli/c530ea8421b8d0e80c51486325587c52#gistcomment-3295536" class="link" target="_blank">https://gist.github.com/jonasschnelli/c530ea8421b8d0e80c51486325587c52#gistcomment-3295536</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1588930500' id='386261'>
<a class='timestamp' href='#386261'><time timestamp='2020-05-08T09:35:00Z'>09:35</time></a>
&lt;<span class='nick nick-14'> jonatack</span>&gt;
jonasschnelli: nice!
<br>
</div>

<div class='talk op-msg' data-timestamp='1588930560' id='386262'>
<a class='timestamp' href='#386262'><time timestamp='2020-05-08T09:36:00Z'>09:36</time></a>
&lt;<span class='nick nick-14'> jonatack</span>&gt;
will re-review
<br>
</div>

<div class='talk op-msg' data-timestamp='1588930560' id='386263'>
<a class='timestamp' href='#386263'><time timestamp='2020-05-08T09:36:00Z'>09:36</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jonasschnelli: i need to think about that; i hoped we could avoid these concerns by copying an existing construction :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1588930860' id='386264'>
<a class='timestamp' href='#386264'><time timestamp='2020-05-08T09:41:00Z'>09:41</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
me two...
<br>
</div>

<div class='talk op-msg' data-timestamp='1588938780' id='386265'>
<a class='timestamp' href='#386265'><time timestamp='2020-05-08T11:53:00Z'>11:53</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] hebasto opened pull request #18914: refactor: Apply override specifier consistently (master...200508-override) <a href="https://github.com/bitcoin/bitcoin/pull/18914" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/18914</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1588945440' id='386266'>
<a class='timestamp' href='#386266'><time timestamp='2020-05-08T13:44:00Z'>13:44</time></a>
&lt;<span class='nick nick-5'> dfmb_</span>&gt;
Hi im a noob, just wondering who decides which updates to deploy on bitcoin code? Letś say I make a pull request on the bitcoin github who decides that udpate is valid or it isn&#x27;t ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1588945860' id='386267'>
<a class='timestamp' href='#386267'><time timestamp='2020-05-08T13:51:00Z'>13:51</time></a>
&lt;<span class='nick nick-2'> belcher</span>&gt;
dfmb_ thats a common question, have a read of this <a href="https://blog.lopp.net/who-controls-bitcoin-core-/" class="link" target="_blank">https://blog.lopp.net/who-controls-bitcoin-core-/</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1588945860' id='386268'>
<a class='timestamp' href='#386268'><time timestamp='2020-05-08T13:51:00Z'>13:51</time></a>
&lt;<span class='nick nick-2'> belcher</span>&gt;
focusing on the github is a bit of a misdirection IMO, there have been situations in the past where the github code said one thing but users in practice ran some other code
<br>
</div>

<div class='talk op-msg' data-timestamp='1588946580' id='386269'>
<a class='timestamp' href='#386269'><time timestamp='2020-05-08T14:03:00Z'>14:03</time></a>
&lt;<span class='nick nick-5'> dfmb_</span>&gt;
got it, thnks!
<br>
</div>

<div class='talk op-msg' data-timestamp='1588951500' id='386270'>
<a class='timestamp' href='#386270'><time timestamp='2020-05-08T15:25:00Z'>15:25</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke pushed 4 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/f54753293fe7...3930014abcdd" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/f54753293fe7...3930014abcdd</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1588951500' id='386271'>
<a class='timestamp' href='#386271'><time timestamp='2020-05-08T15:25:00Z'>15:25</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 89a28e0 Sjors Provoost: [test] add v0.16.3 backwards compatibility test
<br>
</div>

<div class='talk op-msg' data-timestamp='1588951500' id='386272'>
<a class='timestamp' href='#386272'><time timestamp='2020-05-08T15:25:00Z'>15:25</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 9c246b8 Sjors Provoost: [test] backwards compatibility: bump v0.19.0.1 to v0.19.1
<br>
</div>

<div class='talk op-msg' data-timestamp='1588951500' id='386273'>
<a class='timestamp' href='#386273'><time timestamp='2020-05-08T15:25:00Z'>15:25</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master d135c29 Sjors Provoost: [ci] make list of previous releases to download a setting
<br>
</div>

<div class='talk op-msg' data-timestamp='1588951500' id='386274'>
<a class='timestamp' href='#386274'><time timestamp='2020-05-08T15:25:00Z'>15:25</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke merged pull request #18864: Add v0.16.3 backwards compatibility test, bump v0.19.0.1 to v0.19.1 (master...2020/05/backwards_compat) <a href="https://github.com/bitcoin/bitcoin/pull/18864" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/18864</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1588954740' id='386275'>
<a class='timestamp' href='#386275'><time timestamp='2020-05-08T16:19:00Z'>16:19</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke pushed 6 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/3930014abcdd...5b24f6084ede" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/3930014abcdd...5b24f6084ede</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1588954740' id='386276'>
<a class='timestamp' href='#386276'><time timestamp='2020-05-08T16:19:00Z'>16:19</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 23b9fa2 Hennadii Stepanov: gui: Add detailed text to BitcoinGUI::message
<br>
</div>

<div class='talk op-msg' data-timestamp='1588954740' id='386277'>
<a class='timestamp' href='#386277'><time timestamp='2020-05-08T16:19:00Z'>16:19</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 917ca93 Hennadii Stepanov: Make ThreadSafe{MessageBox|Question} bilingual
<br>
</div>

<div class='talk op-msg' data-timestamp='1588954740' id='386278'>
<a class='timestamp' href='#386278'><time timestamp='2020-05-08T16:19:00Z'>16:19</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 7e923d4 Hennadii Stepanov: Make InitError bilingual
<br>
</div>

<div class='talk op-msg' data-timestamp='1588954800' id='386279'>
<a class='timestamp' href='#386279'><time timestamp='2020-05-08T16:20:00Z'>16:20</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke merged pull request #16224: gui: Bilingual GUI error messages (master...20190617-bilingual-errors) <a href="https://github.com/bitcoin/bitcoin/pull/16224" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/16224</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1588954860' id='386280'>
<a class='timestamp' href='#386280'><time timestamp='2020-05-08T16:21:00Z'>16:21</time></a>
&lt;<span class='nick nick-14'> hebasto</span>&gt;
\o/
<br>
</div>

<div class='talk op-msg' data-timestamp='1588962300' id='386281'>
<a class='timestamp' href='#386281'><time timestamp='2020-05-08T18:25:00Z'>18:25</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] brakmic opened pull request #18917: fuzz: fix vector size problem in system fuzzer (master...fix-system-fuzzer) <a href="https://github.com/bitcoin/bitcoin/pull/18917" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/18917</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1588964400' id='386282'>
<a class='timestamp' href='#386282'><time timestamp='2020-05-08T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-3'> meshcollider</span>&gt;
#startmeeting
<br>
</div>

<div class='talk op-msg' data-timestamp='1588964400' id='386283'>
<a class='timestamp' href='#386283'><time timestamp='2020-05-08T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Meeting started Fri May  8 19:00:27 2020 UTC.  The chair is meshcollider. Information about MeetBot at <a href="http://wiki.debian.org/MeetBot" class="link" target="_blank">http://wiki.debian.org/MeetBot</a>.
<br>
</div>

<div class='talk op-msg' data-timestamp='1588964400' id='386284'>
<a class='timestamp' href='#386284'><time timestamp='2020-05-08T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Useful Commands: #action #agreed #help #info #idea #link #topic.
<br>
</div>

<div class='talk op-msg' data-timestamp='1588964400' id='386285'>
<a class='timestamp' href='#386285'><time timestamp='2020-05-08T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1588964400' id='386286'>
<a class='timestamp' href='#386286'><time timestamp='2020-05-08T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-14'> jonatack</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1588964400' id='386287'>
<a class='timestamp' href='#386287'><time timestamp='2020-05-08T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-3'> meshcollider</span>&gt;
#bitcoin-core-dev Wallet Meeting: wumpus sipa gmaxwell jonasschnelli morcos luke-jr sdaftuar jtimon cfields petertodd kanzure bluematt instagibbs phantomcircuit codeshark michagogo marcofalke paveljanik NicolasDorier jl2012 achow101 meshcollider jnewbery maaku fanquake promag provoostenator aj Chris_Stewart_5 dongcarl gwillen jamesob ken281221 ryanofsky gleb moneyball ariard digi_james amiti fjahr 
<br>
</div>

<div class='talk op-msg' data-timestamp='1588964400' id='386288'>
<a class='timestamp' href='#386288'><time timestamp='2020-05-08T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-3'> meshcollider</span>&gt;
jeremyrubin emilengler jonatack hebasto jb55
<br>
</div>

<div class='talk op-msg' data-timestamp='1588964400' id='386289'>
<a class='timestamp' href='#386289'><time timestamp='2020-05-08T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1588964460' id='386290'>
<a class='timestamp' href='#386290'><time timestamp='2020-05-08T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-3'> meshcollider</span>&gt;
The main topic we have to discuss this week is the wallet DB
<br>
</div>

<div class='talk op-msg' data-timestamp='1588964520' id='386291'>
<a class='timestamp' href='#386291'><time timestamp='2020-05-08T19:02:00Z'>19:02</time></a>
&lt;<span class='nick nick-3'> meshcollider</span>&gt;
#topic wallet DB (achow101)
<br>
</div>

<div class='talk op-msg' data-timestamp='1588964520' id='386292'>
<a class='timestamp' href='#386292'><time timestamp='2020-05-08T19:02:00Z'>19:02</time></a>
&lt;<span class='nick nick-3'> meshcollider</span>&gt;
There was a bit of discussion earlier in the week already
<br>
</div>

<div class='talk op-msg' data-timestamp='1588964520' id='386293'>
<a class='timestamp' href='#386293'><time timestamp='2020-05-08T19:02:00Z'>19:02</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1588964520' id='386294'>
<a class='timestamp' href='#386294'><time timestamp='2020-05-08T19:02:00Z'>19:02</time></a>
&lt;<span class='nick nick-8'> fjahr</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1588964640' id='386295'>
<a class='timestamp' href='#386295'><time timestamp='2020-05-08T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1588964640' id='386296'>
<a class='timestamp' href='#386296'><time timestamp='2020-05-08T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-3'> meshcollider</span>&gt;
<a href="http://www.erisian.com.au/bitcoin-core-dev/log-2020-05-05.html" class="link" target="_blank">http://www.erisian.com.au/bitcoin-core-dev/log-2020-05-05.html</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1588964640' id='386297'>
<a class='timestamp' href='#386297'><time timestamp='2020-05-08T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-14'> jonatack</span>&gt;
<a href="http://www.erisian.com.au/bitcoin-core-dev/log-2020-05-05.html#l-100" class="link" target="_blank">http://www.erisian.com.au/bitcoin-core-dev/log-2020-05-05.html#l-100</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1588964700' id='386298'>
<a class='timestamp' href='#386298'><time timestamp='2020-05-08T19:05:00Z'>19:05</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
Also #18916
<br>
</div>

<div class='talk op-msg' data-timestamp='1588964700' id='386299'>
<a class='timestamp' href='#386299'><time timestamp='2020-05-08T19:05:00Z'>19:05</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/18916" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/18916</a> | Sqlite wallet storage · Issue #18916 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1588964760' id='386300'>
<a class='timestamp' href='#386300'><time timestamp='2020-05-08T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
(and probably 5 or so old issues and PRs)
<br>
</div>

<div class='talk op-msg' data-timestamp='1588964760' id='386301'>
<a class='timestamp' href='#386301'><time timestamp='2020-05-08T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Is there any reason why descriptor wallets are special when it comes to introducing new storage?
<br>
</div>

<div class='talk op-msg' data-timestamp='1588964760' id='386302'>
<a class='timestamp' href='#386302'><time timestamp='2020-05-08T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
I&#x27;d like to move us off of BDB to something else. What that something else is, we can 
<br>
</div>

<div class='talk op-msg' data-timestamp='1588964760' id='386303'>
<a class='timestamp' href='#386303'><time timestamp='2020-05-08T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
*we can discuss later
<br>
</div>

<div class='talk op-msg' data-timestamp='1588964820' id='386304'>
<a class='timestamp' href='#386304'><time timestamp='2020-05-08T19:07:00Z'>19:07</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
I wanted to do this specifically for descriptor wallets because descriptor wallets are a wholly new thing so it made logical sense to me to introduce another wholly new thing with the descriptor wallets
<br>
</div>

<div class='talk op-msg' data-timestamp='1588964820' id='386305'>
<a class='timestamp' href='#386305'><time timestamp='2020-05-08T19:07:00Z'>19:07</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
since it&#x27;s already backwards incompatible anyways
<br>
</div>

<div class='talk op-msg' data-timestamp='1588964880' id='386306'>
<a class='timestamp' href='#386306'><time timestamp='2020-05-08T19:08:00Z'>19:08</time></a>
&lt;<span class='nick nick-3'> meshcollider</span>&gt;
provoostenator: that&#x27;s what the bulk of the discussion with sipa a few days ago was, he believes it&#x27;s entirely orthogonal
<br>
</div>

<div class='talk op-msg' data-timestamp='1588964880' id='386307'>
<a class='timestamp' href='#386307'><time timestamp='2020-05-08T19:08:00Z'>19:08</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
True, assuming it&#x27;s something we can get merge-ready before 0.21
<br>
</div>

<div class='talk op-msg' data-timestamp='1588964880' id='386308'>
<a class='timestamp' href='#386308'><time timestamp='2020-05-08T19:08:00Z'>19:08</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
then we can ditch bdb whenever we ditch legacy wallets
<br>
</div>

<div class='talk op-msg' data-timestamp='1588964880' id='386309'>
<a class='timestamp' href='#386309'><time timestamp='2020-05-08T19:08:00Z'>19:08</time></a>
&lt;<span class='nick nick-14'> jonatack</span>&gt;
iirc the conclusion of that discussion was that descriptor wallets and the DB ought to be orthogonal concerns?
<br>
</div>

<div class='talk op-msg' data-timestamp='1588964880' id='386310'>
<a class='timestamp' href='#386310'><time timestamp='2020-05-08T19:08:00Z'>19:08</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
jonatack: yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1588964880' id='386311'>
<a class='timestamp' href='#386311'><time timestamp='2020-05-08T19:08:00Z'>19:08</time></a>
&lt;<span class='nick nick-3'> meshcollider</span>&gt;
Exactly, it has to be 0.21 if it&#x27;s going to be a descriptor wallet thing
<br>
</div>

<div class='talk op-msg' data-timestamp='1588964940' id='386312'>
<a class='timestamp' href='#386312'><time timestamp='2020-05-08T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
I think the conclusion of that discussion was implement it agnostic of the wallet type since it is orthogonal
<br>
</div>

<div class='talk op-msg' data-timestamp='1588964940' id='386313'>
<a class='timestamp' href='#386313'><time timestamp='2020-05-08T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
They are orthogonal, but it&#x27;s nice to have if we can do these things at the same time.
<br>
</div>

<div class='talk op-msg' data-timestamp='1588964940' id='386314'>
<a class='timestamp' href='#386314'><time timestamp='2020-05-08T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
then later we can restrict it to descriptor wallets if we get it in fast enough
<br>
</div>

<div class='talk op-msg' data-timestamp='1588964940' id='386315'>
<a class='timestamp' href='#386315'><time timestamp='2020-05-08T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
a long time ago, we wanted to move to an append-only wallet file format
<br>
</div>

<div class='talk op-msg' data-timestamp='1588964940' id='386316'>
<a class='timestamp' href='#386316'><time timestamp='2020-05-08T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i think it should be developed as orthogonal - the way it&#x27;s exposed to users can be to require sqlite wallets for descriptor wallets if it&#x27;s ready for 0.21, and otherwise it should remain orthogonal
<br>
</div>

<div class='talk op-msg' data-timestamp='1588964940' id='386317'>
<a class='timestamp' href='#386317'><time timestamp='2020-05-08T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
luke-jr: i&#x27;m aware :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1588964940' id='386318'>
<a class='timestamp' href='#386318'><time timestamp='2020-05-08T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
sipa: that makes sense
<br>
</div>

<div class='talk op-msg' data-timestamp='1588965000' id='386319'>
<a class='timestamp' href='#386319'><time timestamp='2020-05-08T19:10:00Z'>19:10</time></a>
&lt;<span class='nick nick-3'> meshcollider</span>&gt;
yep
<br>
</div>

<div class='talk op-msg' data-timestamp='1588965000' id='386320'>
<a class='timestamp' href='#386320'><time timestamp='2020-05-08T19:10:00Z'>19:10</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
luke-jr: I actually don&#x27;t think append only makes a ton of sense for us anymore. we&#x27;re constantly updating and rewriting records
<br>
</div>

<div class='talk op-msg' data-timestamp='1588965060' id='386321'>
<a class='timestamp' href='#386321'><time timestamp='2020-05-08T19:11:00Z'>19:11</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
e.g. CHDChain is updated for every single new key
<br>
</div>

<div class='talk op-msg' data-timestamp='1588965060' id='386322'>
<a class='timestamp' href='#386322'><time timestamp='2020-05-08T19:11:00Z'>19:11</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
(in legacy wallets)
<br>
</div>

<div class='talk op-msg' data-timestamp='1588965060' id='386323'>
<a class='timestamp' href='#386323'><time timestamp='2020-05-08T19:11:00Z'>19:11</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
&#x27;require sqlite wallets for descriptor wallets&#x27; seems like it could be a really nice thing. (I haven&#x27;t read the previous discussion)
<br>
</div>

<div class='talk op-msg' data-timestamp='1588965060' id='386324'>
<a class='timestamp' href='#386324'><time timestamp='2020-05-08T19:11:00Z'>19:11</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but it&#x27;s kind of reinventing the wheel - sqlite is overkill, but it&#x27;s (in my understanding) very well tested and does what we&#x27;d need; probably with more assurances than what a self-developed solution can provide at the levels of effort we&#x27;d be willing to put into it
<br>
</div>

<div class='talk op-msg' data-timestamp='1588965060' id='386325'>
<a class='timestamp' href='#386325'><time timestamp='2020-05-08T19:11:00Z'>19:11</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
achow101: does it need to be?
<br>
</div>

<div class='talk op-msg' data-timestamp='1588965120' id='386326'>
<a class='timestamp' href='#386326'><time timestamp='2020-05-08T19:12:00Z'>19:12</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
achow101: that&#x27;s not really relevant; an append-only format would still compact whenever too many records are rewritten
<br>
</div>

<div class='talk op-msg' data-timestamp='1588965120' id='386327'>
<a class='timestamp' href='#386327'><time timestamp='2020-05-08T19:12:00Z'>19:12</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
achow101: abstractly, we don&#x27;t need to be rewriting often
<br>
</div>

<div class='talk op-msg' data-timestamp='1588965120' id='386328'>
<a class='timestamp' href='#386328'><time timestamp='2020-05-08T19:12:00Z'>19:12</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
do we know how good sqlite&#x27;s compatibility guarantees are? or are we just going to end up int he same place soon?
<br>
</div>

<div class='talk op-msg' data-timestamp='1588965180' id='386329'>
<a class='timestamp' href='#386329'><time timestamp='2020-05-08T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
can an old sqlite open a new sqlite db?
<br>
</div>

<div class='talk op-msg' data-timestamp='1588965180' id='386330'>
<a class='timestamp' href='#386330'><time timestamp='2020-05-08T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
luke-jr: i think so? regardless, I&#x27;d also like to not touch application level stuff, just the blob storage to keep things simple
<br>
</div>

<div class='talk op-msg' data-timestamp='1588965180' id='386331'>
<a class='timestamp' href='#386331'><time timestamp='2020-05-08T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
It can be run in javascript :-)
<br>
</div>

<div class='talk op-msg' data-timestamp='1588965180' id='386332'>
<a class='timestamp' href='#386332'><time timestamp='2020-05-08T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
luke-jr: yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1588965180' id='386333'>
<a class='timestamp' href='#386333'><time timestamp='2020-05-08T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
achow101: we&#x27;re still rewriting very infrequently compared to everything stored in the file, so i think the approach of an append-only format that gets occasionally compacted makes perfect sense
<br>
</div>

<div class='talk op-msg' data-timestamp='1588965180' id='386334'>
<a class='timestamp' href='#386334'><time timestamp='2020-05-08T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
luke-jr: sqlite promises that compatibility will be maintained to at least 2050 or something like that. and everything is public domain
<br>
</div>

<div class='talk op-msg' data-timestamp='1588965180' id='386335'>
<a class='timestamp' href='#386335'><time timestamp='2020-05-08T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
I think sqlite is approximately the most-tested piece of software in existence
<br>
</div>

<div class='talk op-msg' data-timestamp='1588965180' id='386336'>
<a class='timestamp' href='#386336'><time timestamp='2020-05-08T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
outside of extremely specialized things like the space shuttle
<br>
</div>

<div class='talk op-msg' data-timestamp='1588965240' id='386337'>
<a class='timestamp' href='#386337'><time timestamp='2020-05-08T19:14:00Z'>19:14</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
achow101: everything is open source in bdb4/5 too
<br>
</div>

<div class='talk op-msg' data-timestamp='1588965240' id='386338'>
<a class='timestamp' href='#386338'><time timestamp='2020-05-08T19:14:00Z'>19:14</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
luke-jr: public domain meaning no license attached
<br>
</div>

<div class='talk op-msg' data-timestamp='1588965240' id='386339'>
<a class='timestamp' href='#386339'><time timestamp='2020-05-08T19:14:00Z'>19:14</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
achow101: that&#x27;s a bad thing, not a good one :P
<br>
</div>

<div class='talk op-msg' data-timestamp='1588965240' id='386340'>
<a class='timestamp' href='#386340'><time timestamp='2020-05-08T19:14:00Z'>19:14</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
how so? it means that we won&#x27;t have them move to agpl like bdb did
<br>
</div>

<div class='talk op-msg' data-timestamp='1588965300' id='386341'>
<a class='timestamp' href='#386341'><time timestamp='2020-05-08T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
achow101: they can move to AGPL just as easily as BDB did. But it&#x27;s bad because PD isn&#x27;t legal in some places
<br>
</div>

<div class='talk op-msg' data-timestamp='1588965300' id='386342'>
<a class='timestamp' href='#386342'><time timestamp='2020-05-08T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
achow101: it&#x27;s just whether we&#x27;re willing to put effort into building and maintaining a new format just to avoid some of the complexity of sqlite
<br>
</div>

<div class='talk op-msg' data-timestamp='1588965300' id='386343'>
<a class='timestamp' href='#386343'><time timestamp='2020-05-08T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
(which i think isn&#x27;t worth it today)
<br>
</div>

<div class='talk op-msg' data-timestamp='1588965300' id='386344'>
<a class='timestamp' href='#386344'><time timestamp='2020-05-08T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
From their website: &quot;The SQLite file format is stable, cross-platform, and backwards compatible and the developers pledge to keep it that way through at least the year 2050.&quot; and &quot;SQLite source code is in the public-domain and is free to everyone to use for any purpose.&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1588965300' id='386345'>
<a class='timestamp' href='#386345'><time timestamp='2020-05-08T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
tbh maintaining bdb is probably easier than maintaining sqlite
<br>
</div>

<div class='talk op-msg' data-timestamp='1588965300' id='386346'>
<a class='timestamp' href='#386346'><time timestamp='2020-05-08T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
I have never heard a credible lawyer claim that PD is &quot;not legal&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1588965300' id='386347'>
<a class='timestamp' href='#386347'><time timestamp='2020-05-08T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
luke-jr: is it illegal in places where Bitcoin is legal?
<br>
</div>

<div class='talk op-msg' data-timestamp='1588965300' id='386348'>
<a class='timestamp' href='#386348'><time timestamp='2020-05-08T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
in any jurisdiction
<br>
</div>

<div class='talk op-msg' data-timestamp='1588965300' id='386349'>
<a class='timestamp' href='#386349'><time timestamp='2020-05-08T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
I have heard some people who are not lawyers claim that
<br>
</div>

<div class='talk op-msg' data-timestamp='1588965300' id='386350'>
<a class='timestamp' href='#386350'><time timestamp='2020-05-08T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
achow101: it&#x27;s forward-compatible that is the concern
<br>
</div>

<div class='talk op-msg' data-timestamp='1588965360' id='386351'>
<a class='timestamp' href='#386351'><time timestamp='2020-05-08T19:16:00Z'>19:16</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
provoostenator: no idea
<br>
</div>

<div class='talk op-msg' data-timestamp='1588965360' id='386352'>
<a class='timestamp' href='#386352'><time timestamp='2020-05-08T19:16:00Z'>19:16</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
my impression is that they are mostly confused
<br>
</div>

<div class='talk op-msg' data-timestamp='1588965360' id='386353'>
<a class='timestamp' href='#386353'><time timestamp='2020-05-08T19:16:00Z'>19:16</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
<a href="https://www.sqlite.org/copyright.html" class="link" target="_blank">https://www.sqlite.org/copyright.html</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1588965360' id='386354'>
<a class='timestamp' href='#386354'><time timestamp='2020-05-08T19:16:00Z'>19:16</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
read that
<br>
</div>

<div class='talk op-msg' data-timestamp='1588965420' id='386355'>
<a class='timestamp' href='#386355'><time timestamp='2020-05-08T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
How far do we need to be forward-compatible? The purpose of that is to make it easier to downgrade from a bad soft fork or bug, right?
<br>
</div>

<div class='talk op-msg' data-timestamp='1588965420' id='386356'>
<a class='timestamp' href='#386356'><time timestamp='2020-05-08T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Not to downgrade all the way to 0.1
<br>
</div>

<div class='talk op-msg' data-timestamp='1588965540' id='386357'>
<a class='timestamp' href='#386357'><time timestamp='2020-05-08T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
if existing use is any evidence, there are tons of applications using sqlite for application-level storage like we do - but those who are using bdb seems to be mostly old software that&#x27;s moving away from it (slapd to lmdb, subversion to fsfs, ...)
<br>
</div>

<div class='talk op-msg' data-timestamp='1588965600' id='386358'>
<a class='timestamp' href='#386358'><time timestamp='2020-05-08T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
sipa: but how many that support downgrading?
<br>
</div>

<div class='talk op-msg' data-timestamp='1588965600' id='386359'>
<a class='timestamp' href='#386359'><time timestamp='2020-05-08T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
provoostenator: at the very least, within the versions that are still maintained
<br>
</div>

<div class='talk op-msg' data-timestamp='1588965600' id='386360'>
<a class='timestamp' href='#386360'><time timestamp='2020-05-08T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
luke-jr: bdb is terrible at forward compatibility, i don&#x27;t understand
<br>
</div>

<div class='talk op-msg' data-timestamp='1588965600' id='386361'>
<a class='timestamp' href='#386361'><time timestamp='2020-05-08T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
sipa: yes, I&#x27;m just not sure sqlite improves on this
<br>
</div>

<div class='talk op-msg' data-timestamp='1588965600' id='386362'>
<a class='timestamp' href='#386362'><time timestamp='2020-05-08T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
btw here is the paper that tested a bunch of database engines for whether they misuse filesystem APIs in ways that make them vulnerable to data loss
<br>
</div>

<div class='talk op-msg' data-timestamp='1588965600' id='386363'>
<a class='timestamp' href='#386363'><time timestamp='2020-05-08T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Right, so that means we have to have a careful upgrade policy for the sqlite dependency, that&#x27;s documented somewhere
<br>
</div>

<div class='talk op-msg' data-timestamp='1588965660' id='386364'>
<a class='timestamp' href='#386364'><time timestamp='2020-05-08T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
<a href="https://www.usenix.org/system/files/conference/osdi14/osdi14-paper-pillai.pdf" class="link" target="_blank">https://www.usenix.org/system/files/conference/osdi14/osdi14-paper-pillai.pdf</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1588965660' id='386365'>
<a class='timestamp' href='#386365'><time timestamp='2020-05-08T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
and while bdb might be maintainable, sqlite is a lot more complex
<br>
</div>

<div class='talk op-msg' data-timestamp='1588965660' id='386366'>
<a class='timestamp' href='#386366'><time timestamp='2020-05-08T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-12'> ryanofsky</span>&gt;
should be aware most of the work involved in this is just abstracting the existing code. if it&#x27;s just a key value store and you want to swap out sqlite for lukedb that should be pretty easy
<br>
</div>

<div class='talk op-msg' data-timestamp='1588965660' id='386367'>
<a class='timestamp' href='#386367'><time timestamp='2020-05-08T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
sqlite in write-ahead-logging mode is literally the only one that passed
<br>
</div>

<div class='talk op-msg' data-timestamp='1588965660' id='386368'>
<a class='timestamp' href='#386368'><time timestamp='2020-05-08T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
and AFAIK we don&#x27;t gain anything from sqlite&#x27;s complexity
<br>
</div>

<div class='talk op-msg' data-timestamp='1588965660' id='386369'>
<a class='timestamp' href='#386369'><time timestamp='2020-05-08T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
luke-jr: sqlite is a single cpp file if you want
<br>
</div>

<div class='talk op-msg' data-timestamp='1588965660' id='386370'>
<a class='timestamp' href='#386370'><time timestamp='2020-05-08T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it couldn&#x27;t be more simple
<br>
</div>

<div class='talk op-msg' data-timestamp='1588965660' id='386371'>
<a class='timestamp' href='#386371'><time timestamp='2020-05-08T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
leveldb failed, they did not test bdb unfortunately
<br>
</div>

<div class='talk op-msg' data-timestamp='1588965660' id='386372'>
<a class='timestamp' href='#386372'><time timestamp='2020-05-08T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
sipa: shoving everything into a single file doesn&#x27;t impress me?
<br>
</div>

<div class='talk op-msg' data-timestamp='1588965660' id='386373'>
<a class='timestamp' href='#386373'><time timestamp='2020-05-08T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
luke-jr: i&#x27;d like to make use of sqlite&#x27;s complexity with actual tables and columns, just not initially
<br>
</div>

<div class='talk op-msg' data-timestamp='1588965660' id='386374'>
<a class='timestamp' href='#386374'><time timestamp='2020-05-08T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
luke-jr: then use the library
<br>
</div>

<div class='talk op-msg' data-timestamp='1588965660' id='386375'>
<a class='timestamp' href='#386375'><time timestamp='2020-05-08T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
sipa: not the point
<br>
</div>

<div class='talk op-msg' data-timestamp='1588965720' id='386376'>
<a class='timestamp' href='#386376'><time timestamp='2020-05-08T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
then i don&#x27;t understand your point
<br>
</div>

<div class='talk op-msg' data-timestamp='1588965720' id='386377'>
<a class='timestamp' href='#386377'><time timestamp='2020-05-08T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
bdb is a maintenance nightmare in my impression
<br>
</div>

<div class='talk op-msg' data-timestamp='1588965720' id='386378'>
<a class='timestamp' href='#386378'><time timestamp='2020-05-08T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
I think it&#x27;s kinda weird that we claim forward-compatibility. We don&#x27;t have any tests for it, and I can&#x27;t imagine anyone cares, except for (maybe) downgrading one version.
<br>
</div>

<div class='talk op-msg' data-timestamp='1588965720' id='386379'>
<a class='timestamp' href='#386379'><time timestamp='2020-05-08T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
my main point is we gain nothing by moving to sqlite afaik
<br>
</div>

<div class='talk op-msg' data-timestamp='1588965720' id='386380'>
<a class='timestamp' href='#386380'><time timestamp='2020-05-08T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
luke-jr: did you read the paper I linked
<br>
</div>

<div class='talk op-msg' data-timestamp='1588965720' id='386381'>
<a class='timestamp' href='#386381'><time timestamp='2020-05-08T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-3'> meshcollider</span>&gt;
Yes the existing code needs a significant tidy-up to abstract before a new db can be introduced, that&#x27;s something achow101 messaged me about yesterday, it&#x27;s going to be quite a difficult job 
<br>
</div>

<div class='talk op-msg' data-timestamp='1588965720' id='386382'>
<a class='timestamp' href='#386382'><time timestamp='2020-05-08T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sqlite explicitly has compatibility as a design goal
<br>
</div>

<div class='talk op-msg' data-timestamp='1588965780' id='386383'>
<a class='timestamp' href='#386383'><time timestamp='2020-05-08T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
gwillen: no; in practice, we have bdb working today
<br>
</div>

<div class='talk op-msg' data-timestamp='1588965780' id='386384'>
<a class='timestamp' href='#386384'><time timestamp='2020-05-08T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
sqlite is the only database engine that actually passes tests of correctness for safely storing data on disk
<br>
</div>

<div class='talk op-msg' data-timestamp='1588965780' id='386385'>
<a class='timestamp' href='#386385'><time timestamp='2020-05-08T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
for bdb it seems like an afterthought that&#x27;s effectively only achieved by it being abandoned
<br>
</div>

<div class='talk op-msg' data-timestamp='1588965780' id='386386'>
<a class='timestamp' href='#386386'><time timestamp='2020-05-08T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
this is because sqlite is the most tested piece of software in existence
<br>
</div>

<div class='talk op-msg' data-timestamp='1588965780' id='386387'>
<a class='timestamp' href='#386387'><time timestamp='2020-05-08T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
jnewbery: we do have tests for it, as of recently: <a href="https://github.com/bitcoin/bitcoin/blob/master/test/functional/feature_backwards_compatibility.py#L221" class="link" target="_blank">https://github.com/bitcoin/bitcoin/blob/master/test/functional/feature_backwards_compatibility.py#L221</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1588965780' id='386388'>
<a class='timestamp' href='#386388'><time timestamp='2020-05-08T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
(admitting, again, that bdb was not included in the list tested, but I would be shocked if it managed to pass)
<br>
</div>

<div class='talk op-msg' data-timestamp='1588965840' id='386389'>
<a class='timestamp' href='#386389'><time timestamp='2020-05-08T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
That test loads master branch wallets all the back to 0.17
<br>
</div>

<div class='talk op-msg' data-timestamp='1588965840' id='386390'>
<a class='timestamp' href='#386390'><time timestamp='2020-05-08T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
(as in, it opens them using the 0.17 binary)
<br>
</div>

<div class='talk op-msg' data-timestamp='1588965840' id='386391'>
<a class='timestamp' href='#386391'><time timestamp='2020-05-08T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
luke-jr: we currently have a ton of hacks to make bdb consistent and not corrupt itself. I think sqlite gives us better guarantees of that. additionally it doesn&#x27;t have persistent log files like bdb, everything is mostly self contained within a single file with the exception being active writes
<br>
</div>

<div class='talk op-msg' data-timestamp='1588965900' id='386392'>
<a class='timestamp' href='#386392'><time timestamp='2020-05-08T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
bdb also has a ton of complexity we don&#x27;t use, though of a different nature than sqlite; it is designed for multi-process applications accessing the same database simultaneously, with locking, synchronization, ... overhead
<br>
</div>

<div class='talk op-msg' data-timestamp='1588965900' id='386393'>
<a class='timestamp' href='#386393'><time timestamp='2020-05-08T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Doesn&#x27;t BlueMatt_ have a Rust database?
<br>
</div>

<div class='talk op-msg' data-timestamp='1588965900' id='386394'>
<a class='timestamp' href='#386394'><time timestamp='2020-05-08T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
achow101: sqlite has a write log
<br>
</div>

<div class='talk op-msg' data-timestamp='1588965900' id='386395'>
<a class='timestamp' href='#386395'><time timestamp='2020-05-08T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
sipa: so does sqlite..&gt;?
<br>
</div>

<div class='talk op-msg' data-timestamp='1588965900' id='386396'>
<a class='timestamp' href='#386396'><time timestamp='2020-05-08T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
ok, but I still claim my second statement is true. Literally nobody wants to run a v0.20 wallet on v0.17 software.
<br>
</div>

<div class='talk op-msg' data-timestamp='1588965900' id='386397'>
<a class='timestamp' href='#386397'><time timestamp='2020-05-08T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
sipa: it cleans up the journal when everything is flushed
<br>
</div>

<div class='talk op-msg' data-timestamp='1588965900' id='386398'>
<a class='timestamp' href='#386398'><time timestamp='2020-05-08T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
luke-jr: no, sqlite is single-process
<br>
</div>

<div class='talk op-msg' data-timestamp='1588965900' id='386399'>
<a class='timestamp' href='#386399'><time timestamp='2020-05-08T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
jnewbery: I might.
<br>
</div>

<div class='talk op-msg' data-timestamp='1588965900' id='386400'>
<a class='timestamp' href='#386400'><time timestamp='2020-05-08T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
achow101: of course
<br>
</div>

<div class='talk op-msg' data-timestamp='1588965900' id='386401'>
<a class='timestamp' href='#386401'><time timestamp='2020-05-08T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
jnewbery: I&#x27;m still using 0.13 for my real wallet
<br>
</div>

<div class='talk op-msg' data-timestamp='1588965960' id='386402'>
<a class='timestamp' href='#386402'><time timestamp='2020-05-08T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
sipa: but you can use sqlite from multiple programs on the same db IIRC
<br>
</div>

<div class='talk op-msg' data-timestamp='1588965960' id='386403'>
<a class='timestamp' href='#386403'><time timestamp='2020-05-08T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
then still use it. But the expectation that you can take that wallet, load it in master, do something with it and then reload it in 0.13 is unrealistic
<br>
</div>

<div class='talk op-msg' data-timestamp='1588965960' id='386404'>
<a class='timestamp' href='#386404'><time timestamp='2020-05-08T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
luke-jr: not simultaneously
<br>
</div>

<div class='talk op-msg' data-timestamp='1588965960' id='386405'>
<a class='timestamp' href='#386405'><time timestamp='2020-05-08T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
sipa: there&#x27;s an option for that. but it&#x27;s not relevant to us
<br>
</div>

<div class='talk op-msg' data-timestamp='1588965960' id='386406'>
<a class='timestamp' href='#386406'><time timestamp='2020-05-08T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
jnewbery: it works today, so clearly not unrealistic..
<br>
</div>

<div class='talk op-msg' data-timestamp='1588965960' id='386407'>
<a class='timestamp' href='#386407'><time timestamp='2020-05-08T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ah
<br>
</div>

<div class='talk op-msg' data-timestamp='1588965960' id='386408'>
<a class='timestamp' href='#386408'><time timestamp='2020-05-08T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
maybe i&#x27;m wrong
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966020' id='386409'>
<a class='timestamp' href='#386409'><time timestamp='2020-05-08T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-3'> meshcollider</span>&gt;
If someone is still using 0.13, they probably <b>*won&#x27;t*</b> ever edit it in master, that&#x27;s probably the point
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966020' id='386410'>
<a class='timestamp' href='#386410'><time timestamp='2020-05-08T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
We also have wallet-tool now, so we could make it easier to dump wallets into a more universal text based format
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966020' id='386411'>
<a class='timestamp' href='#386411'><time timestamp='2020-05-08T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
luke-jr: I think you might be an edge case
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966020' id='386412'>
<a class='timestamp' href='#386412'><time timestamp='2020-05-08T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-3'> meshcollider</span>&gt;
A few versions of forward compatibility seems fine
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966020' id='386413'>
<a class='timestamp' href='#386413'><time timestamp='2020-05-08T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
And then you can use older versions to import from that text format
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966020' id='386414'>
<a class='timestamp' href='#386414'><time timestamp='2020-05-08T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
as long as achow101 doesn&#x27;t go through with his start-using-table-features, a trivial dump+load with command-line tools would always be possible to convert between bdb and sqlite even
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966020' id='386415'>
<a class='timestamp' href='#386415'><time timestamp='2020-05-08T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
I am surprised to learn that forward-compatibility exists, isn&#x27;t there a minimum version field in the wallet that gets rolled forward sometimes?
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966080' id='386416'>
<a class='timestamp' href='#386416'><time timestamp='2020-05-08T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
does that only happen if you actively use a new feature?
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966080' id='386417'>
<a class='timestamp' href='#386417'><time timestamp='2020-05-08T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
gwillen: only with explicity upgrades
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966080' id='386418'>
<a class='timestamp' href='#386418'><time timestamp='2020-05-08T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
gwillen: only when the user requests it
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966080' id='386419'>
<a class='timestamp' href='#386419'><time timestamp='2020-05-08T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gwillen: only when you explicitly use -upgradewallet
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966080' id='386420'>
<a class='timestamp' href='#386420'><time timestamp='2020-05-08T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
or the RPC now
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966080' id='386421'>
<a class='timestamp' href='#386421'><time timestamp='2020-05-08T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
luke-jr: is your opposition to this because it makes it more difficult to maintain bitcoin knots if the dependencies in bitcoin core change?
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966080' id='386422'>
<a class='timestamp' href='#386422'><time timestamp='2020-05-08T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
jnewbery: no
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966080' id='386423'>
<a class='timestamp' href='#386423'><time timestamp='2020-05-08T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
It&#x27;s just something we have to take into account early on, making sure dumpwallet  can dump descriptor wallets.
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966140' id='386424'>
<a class='timestamp' href='#386424'><time timestamp='2020-05-08T19:29:00Z'>19:29</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
jnewbery: I just don&#x27;t see the benefit, and it seems quite possible we end up in a worse situation
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966140' id='386425'>
<a class='timestamp' href='#386425'><time timestamp='2020-05-08T19:29:00Z'>19:29</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
you don&#x27;t think there is a downside to being effectively locked with abandoned software?
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966140' id='386426'>
<a class='timestamp' href='#386426'><time timestamp='2020-05-08T19:29:00Z'>19:29</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
no? that&#x27;s just stability
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966200' id='386427'>
<a class='timestamp' href='#386427'><time timestamp='2020-05-08T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
I&#x27;m not familiar enough with the code differences between sqlite and bdb, but it seems like sqlite is alive.
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966200' id='386428'>
<a class='timestamp' href='#386428'><time timestamp='2020-05-08T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
And we can&#x27;t jump to BDB 18
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966200' id='386429'>
<a class='timestamp' href='#386429'><time timestamp='2020-05-08T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-14'> jonatack</span>&gt;
it sounds like there is rough consensus to look into eventually moving to sqlite 
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966200' id='386430'>
<a class='timestamp' href='#386430'><time timestamp='2020-05-08T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
provoostenator: alive-ness seems like a negative here
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966200' id='386431'>
<a class='timestamp' href='#386431'><time timestamp='2020-05-08T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
luke-jr: ...
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966200' id='386432'>
<a class='timestamp' href='#386432'><time timestamp='2020-05-08T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-3'> meshcollider</span>&gt;
We would have to keep the bdb support for the long term anyway
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966200' id='386433'>
<a class='timestamp' href='#386433'><time timestamp='2020-05-08T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
for a wallet store, stability is needed, not constant change
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966200' id='386434'>
<a class='timestamp' href='#386434'><time timestamp='2020-05-08T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
at the very least, I think it would be good to move forward with refactoring and cleaning up the existing db storage code
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966200' id='386435'>
<a class='timestamp' href='#386435'><time timestamp='2020-05-08T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
format stability yes, which sqlite has
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966200' id='386436'>
<a class='timestamp' href='#386436'><time timestamp='2020-05-08T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-3'> meshcollider</span>&gt;
^
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966200' id='386437'>
<a class='timestamp' href='#386437'><time timestamp='2020-05-08T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Non-deadness is good, too much change is bad.
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966260' id='386438'>
<a class='timestamp' href='#386438'><time timestamp='2020-05-08T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
in such a way that adding <b>*some other*</b> db in the end can be done more easily
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966260' id='386439'>
<a class='timestamp' href='#386439'><time timestamp='2020-05-08T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
whether that&#x27;s sqlite, logdb, or something else
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966260' id='386440'>
<a class='timestamp' href='#386440'><time timestamp='2020-05-08T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-12'> ryanofsky</span>&gt;
what is dead may never die
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966260' id='386441'>
<a class='timestamp' href='#386441'><time timestamp='2020-05-08T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
sipa: backwards-compatible is not forwards-compatible
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966260' id='386442'>
<a class='timestamp' href='#386442'><time timestamp='2020-05-08T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
achow101: certainly
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966260' id='386443'>
<a class='timestamp' href='#386443'><time timestamp='2020-05-08T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-3'> meshcollider</span>&gt;
I don&#x27;t think anyone can complain about just a code cleanup in advance of a db introduction
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966260' id='386444'>
<a class='timestamp' href='#386444'><time timestamp='2020-05-08T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-14'> jonatack</span>&gt;
^
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966260' id='386445'>
<a class='timestamp' href='#386445'><time timestamp='2020-05-08T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Forwards compatilibyt isn&#x27;t a big deal if we have a canonical dump format.
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966320' id='386446'>
<a class='timestamp' href='#386446'><time timestamp='2020-05-08T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
provoostenator: we don&#x27;t have a canonical dump format, but we don&#x27;t need one
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966320' id='386447'>
<a class='timestamp' href='#386447'><time timestamp='2020-05-08T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
csv works great
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966320' id='386448'>
<a class='timestamp' href='#386448'><time timestamp='2020-05-08T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it&#x27;s a key-value store ffs
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966320' id='386449'>
<a class='timestamp' href='#386449'><time timestamp='2020-05-08T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
luke-jr: sqlite has a table of format changes: <a href="https://sqlite.org/formatchng.html" class="link" target="_blank">https://sqlite.org/formatchng.html</a> and it looks like the latest format hasn&#x27;t changed
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966320' id='386450'>
<a class='timestamp' href='#386450'><time timestamp='2020-05-08T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
sipa: csv is fine by me
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966320' id='386451'>
<a class='timestamp' href='#386451'><time timestamp='2020-05-08T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sqlite3 is btw what everything uses
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966380' id='386452'>
<a class='timestamp' href='#386452'><time timestamp='2020-05-08T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
achow101: ok, so that table seems to prove my point
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966380' id='386453'>
<a class='timestamp' href='#386453'><time timestamp='2020-05-08T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
what if we switch to sqlite3, and sqlite4 completely breaks compatibility?
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966380' id='386454'>
<a class='timestamp' href='#386454'><time timestamp='2020-05-08T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
luke-jr: your point is that sqlite has not changed its format in 16 years, since before bitcoin was invented?
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966380' id='386455'>
<a class='timestamp' href='#386455'><time timestamp='2020-05-08T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
&quot;The new file format is very different and is completely incompatible with the version 2 file format.&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966380' id='386456'>
<a class='timestamp' href='#386456'><time timestamp='2020-05-08T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
and has a direct statement that it will never do so again?
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966380' id='386457'>
<a class='timestamp' href='#386457'><time timestamp='2020-05-08T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
that point?
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966380' id='386458'>
<a class='timestamp' href='#386458'><time timestamp='2020-05-08T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sqlite3 was released in 2004
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966380' id='386459'>
<a class='timestamp' href='#386459'><time timestamp='2020-05-08T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
&quot;In other words, since 2004 all SQLite releases have been backwards compatible, though not necessarily forwards compatible.&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966380' id='386460'>
<a class='timestamp' href='#386460'><time timestamp='2020-05-08T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
luke-jr: they had a sqlite4. it was killed
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966440' id='386461'>
<a class='timestamp' href='#386461'><time timestamp='2020-05-08T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Which means we need to be able to dump (into a CSV )to compensate for  lack of forwards compatibility.
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966440' id='386462'>
<a class='timestamp' href='#386462'><time timestamp='2020-05-08T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-3'> meshcollider</span>&gt;
If we just use basic features, like we do in BDB, there&#x27;s even less of a chance of breaking forwards compatibility
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966440' id='386463'>
<a class='timestamp' href='#386463'><time timestamp='2020-05-08T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
But upgrading should be fine.
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966440' id='386464'>
<a class='timestamp' href='#386464'><time timestamp='2020-05-08T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
&quot; Since 2004, there have been enhancements to SQLite such that newer database files are unreadable by older versions of the SQLite library.&quot; ☹
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966440' id='386465'>
<a class='timestamp' href='#386465'><time timestamp='2020-05-08T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
provoostenator: that&#x27;s more relevant, but i believe it&#x27;s only when you use database features that were introduced later
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966440' id='386466'>
<a class='timestamp' href='#386466'><time timestamp='2020-05-08T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
I believe when you create an sqlite database file you can specify the file version
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966440' id='386467'>
<a class='timestamp' href='#386467'><time timestamp='2020-05-08T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
luke-jr: and the same is true for bdb 4.8, bdb 6, ...
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966440' id='386468'>
<a class='timestamp' href='#386468'><time timestamp='2020-05-08T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
luke-jr: what is your point?
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966440' id='386469'>
<a class='timestamp' href='#386469'><time timestamp='2020-05-08T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
provoostenator: I believe they have a minversion type thing like we do, but it&#x27;s for new features that you have to explicitly use
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966500' id='386470'>
<a class='timestamp' href='#386470'><time timestamp='2020-05-08T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
so if you don&#x27;t desire to use features that were added after 2004, you just set your file version to 2004
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966500' id='386471'>
<a class='timestamp' href='#386471'><time timestamp='2020-05-08T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
sipa: my point is we don&#x27;t want to get stuck with sqlite3.31
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966500' id='386472'>
<a class='timestamp' href='#386472'><time timestamp='2020-05-08T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
if you think sticking to bdb 4.8 is fine, then sticking to sqlite 3.whatever it is now is also fine
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966500' id='386473'>
<a class='timestamp' href='#386473'><time timestamp='2020-05-08T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
then you can read or write it with any versiono of sqlite that exists
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966500' id='386474'>
<a class='timestamp' href='#386474'><time timestamp='2020-05-08T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
due to sqlite&#x27;s activity, there is a lot more pressure to drop old verisons
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966500' id='386475'>
<a class='timestamp' href='#386475'><time timestamp='2020-05-08T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
luke-jr: but being stuck with bdb 4.8 is fine?
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966500' id='386476'>
<a class='timestamp' href='#386476'><time timestamp='2020-05-08T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
yes, bdb is dead
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966500' id='386477'>
<a class='timestamp' href='#386477'><time timestamp='2020-05-08T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-3'> meshcollider</span>&gt;
Anyway, achow101 did mention at the start that we can decide on the choice of db later
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966500' id='386478'>
<a class='timestamp' href='#386478'><time timestamp='2020-05-08T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
if it being dead is fine, then you can treat sqlite as dead too
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966560' id='386479'>
<a class='timestamp' href='#386479'><time timestamp='2020-05-08T19:36:00Z'>19:36</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i really don&#x27;t comprehend your argument
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966560' id='386480'>
<a class='timestamp' href='#386480'><time timestamp='2020-05-08T19:36:00Z'>19:36</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
you can&#x27;t, because it isn&#x27;t
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966560' id='386481'>
<a class='timestamp' href='#386481'><time timestamp='2020-05-08T19:36:00Z'>19:36</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
distros will continue updating it
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966560' id='386482'>
<a class='timestamp' href='#386482'><time timestamp='2020-05-08T19:36:00Z'>19:36</time></a>
&lt;<span class='nick nick-3'> meshcollider</span>&gt;
Is there anything else you want to discuss achow101, about the code abstraction or anything?
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966560' id='386483'>
<a class='timestamp' href='#386483'><time timestamp='2020-05-08T19:36:00Z'>19:36</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
The idea was to include the source, right?
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966560' id='386484'>
<a class='timestamp' href='#386484'><time timestamp='2020-05-08T19:36:00Z'>19:36</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
definitely NACK
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966560' id='386485'>
<a class='timestamp' href='#386485'><time timestamp='2020-05-08T19:36:00Z'>19:36</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
provoostenator: i&#x27;m not sure that&#x27;s a necessary
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966560' id='386486'>
<a class='timestamp' href='#386486'><time timestamp='2020-05-08T19:36:00Z'>19:36</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
if anyone wants to read about the mess that is our loading code and what I would like to change: <a href="https://gist.github.com/achow101/cda3ea1bb07f585e56caaf969e842188" class="link" target="_blank">https://gist.github.com/achow101/cda3ea1bb07f585e56caaf969e842188</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966620' id='386487'>
<a class='timestamp' href='#386487'><time timestamp='2020-05-08T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
If we rely on distros then you can&#x27;t pretend it&#x27;s dead.
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966620' id='386488'>
<a class='timestamp' href='#386488'><time timestamp='2020-05-08T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
so the next point of possible contention is where to put salvagewallet because that needs to be moved out of loading code
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966620' id='386489'>
<a class='timestamp' href='#386489'><time timestamp='2020-05-08T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
I think i&#x27;ll just dump it into wallettool for now
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966680' id='386490'>
<a class='timestamp' href='#386490'><time timestamp='2020-05-08T19:38:00Z'>19:38</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
achow101: +1
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966680' id='386491'>
<a class='timestamp' href='#386491'><time timestamp='2020-05-08T19:38:00Z'>19:38</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
and another thing to discuss: whether we still want to support the old multiwallet method where you renamed the wallet.dat file. so multiple wallets were in the same dbenv
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966680' id='386492'>
<a class='timestamp' href='#386492'><time timestamp='2020-05-08T19:38:00Z'>19:38</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that makes sense
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966740' id='386493'>
<a class='timestamp' href='#386493'><time timestamp='2020-05-08T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
I think we have to remove that support otherwise it will get in the way of the abstraction
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966740' id='386494'>
<a class='timestamp' href='#386494'><time timestamp='2020-05-08T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
achow101: is there a migration path? A way to move separate wallets into their own directories on load?
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966800' id='386495'>
<a class='timestamp' href='#386495'><time timestamp='2020-05-08T19:40:00Z'>19:40</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
no need to rename, just -wallet=foo.dat
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966860' id='386496'>
<a class='timestamp' href='#386496'><time timestamp='2020-05-08T19:41:00Z'>19:41</time></a>
&lt;<span class='nick nick-12'> ryanofsky</span>&gt;
jnewbery: it is possible to move them manually, wallet-tool could also be extended to help with this, but I think automatic migration would be the best
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966860' id='386497'>
<a class='timestamp' href='#386497'><time timestamp='2020-05-08T19:41:00Z'>19:41</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
jnewbery: use your preferred file explorer and move some wallet file?
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966860' id='386498'>
<a class='timestamp' href='#386498'><time timestamp='2020-05-08T19:41:00Z'>19:41</time></a>
&lt;<span class='nick nick-12'> ryanofsky</span>&gt;
or maybe not, automatic migration might cause problems if people are doing automated backups of existing files
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966860' id='386499'>
<a class='timestamp' href='#386499'><time timestamp='2020-05-08T19:41:00Z'>19:41</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
I would not go with automatic migration
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966920' id='386500'>
<a class='timestamp' href='#386500'><time timestamp='2020-05-08T19:42:00Z'>19:42</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
what i&#x27;ve done currently is to give a very verbose warning about what you have to do manually
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966920' id='386501'>
<a class='timestamp' href='#386501'><time timestamp='2020-05-08T19:42:00Z'>19:42</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
s/warning/error
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966980' id='386502'>
<a class='timestamp' href='#386502'><time timestamp='2020-05-08T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-12'> ryanofsky</span>&gt;
i don&#x27;t think it should actually be that big of a deal to keep supporting them either, but I can see why you don&#x27;t want to do that
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966980' id='386503'>
<a class='timestamp' href='#386503'><time timestamp='2020-05-08T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
giving manual instructions for something the user will only ever need to do once seems reasonable
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966980' id='386504'>
<a class='timestamp' href='#386504'><time timestamp='2020-05-08T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-12'> ryanofsky</span>&gt;
+1
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966980' id='386505'>
<a class='timestamp' href='#386505'><time timestamp='2020-05-08T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
As long as the GUI offers a &quot;wizard&quot; for that?
<br>
</div>

<div class='talk op-msg' data-timestamp='1588966980' id='386506'>
<a class='timestamp' href='#386506'><time timestamp='2020-05-08T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
presumably users that have configured multi-wallet are fairly advanced and can handle moving files into a directory
<br>
</div>

<div class='talk op-msg' data-timestamp='1588967040' id='386507'>
<a class='timestamp' href='#386507'><time timestamp='2020-05-08T19:44:00Z'>19:44</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
I would say RPC users should be able to use &quot;mv&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1588967040' id='386508'>
<a class='timestamp' href='#386508'><time timestamp='2020-05-08T19:44:00Z'>19:44</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
I think any user still using that behavior had to got into multiwallet very early on where you had to set startup options. so presumably they know what they&#x27;re doing
<br>
</div>

<div class='talk op-msg' data-timestamp='1588967040' id='386509'>
<a class='timestamp' href='#386509'><time timestamp='2020-05-08T19:44:00Z'>19:44</time></a>
&lt;<span class='nick nick-12'> ryanofsky</span>&gt;
jnewbery, it means they started bitcoin at some point with a -wallet=something command line argument, but maybe that is advanced enough
<br>
</div>

<div class='talk op-msg' data-timestamp='1588967040' id='386510'>
<a class='timestamp' href='#386510'><time timestamp='2020-05-08T19:44:00Z'>19:44</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
provoostenator: I don&#x27;t think it&#x27;s necessary, and the development/testing overhead to get right that maybe a few hundred(?) people will only use once seems disproportionate.
<br>
</div>

<div class='talk op-msg' data-timestamp='1588967040' id='386511'>
<a class='timestamp' href='#386511'><time timestamp='2020-05-08T19:44:00Z'>19:44</time></a>
&lt;<span class='nick nick-3'> meshcollider</span>&gt;
At least those who made them before the multiwallet GUI create dialog
<br>
</div>

<div class='talk op-msg' data-timestamp='1588967040' id='386512'>
<a class='timestamp' href='#386512'><time timestamp='2020-05-08T19:44:00Z'>19:44</time></a>
&lt;<span class='nick nick-3'> meshcollider</span>&gt;
Which is well after separate directories was introduced
<br>
</div>

<div class='talk op-msg' data-timestamp='1588967040' id='386513'>
<a class='timestamp' href='#386513'><time timestamp='2020-05-08T19:44:00Z'>19:44</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
i think it predates the createwallet rpc?
<br>
</div>

<div class='talk op-msg' data-timestamp='1588967100' id='386514'>
<a class='timestamp' href='#386514'><time timestamp='2020-05-08T19:45:00Z'>19:45</time></a>
&lt;<span class='nick nick-12'> ryanofsky</span>&gt;
yes, predates the rpcs and gui stuff iirc
<br>
</div>

<div class='talk op-msg' data-timestamp='1588967100' id='386515'>
<a class='timestamp' href='#386515'><time timestamp='2020-05-08T19:45:00Z'>19:45</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Oh ok, if it doesn&#x27;t affect  single wallet users, and only effects multi-wallet users before the GUI supported that, it&#x27;s fine.
<br>
</div>

<div class='talk op-msg' data-timestamp='1588967160' id='386516'>
<a class='timestamp' href='#386516'><time timestamp='2020-05-08T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-3'> meshcollider</span>&gt;
Nice write-up btw achow101
<br>
</div>

<div class='talk op-msg' data-timestamp='1588967160' id='386517'>
<a class='timestamp' href='#386517'><time timestamp='2020-05-08T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-12'> ryanofsky</span>&gt;
it affects single wallet users who used -wallet option prior to multiwallet support too, but maybe they are even less of a concerns
<br>
</div>

<div class='talk op-msg' data-timestamp='1588967280' id='386518'>
<a class='timestamp' href='#386518'><time timestamp='2020-05-08T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
does moving just wallet.dat work, or is some magic needed with the database/ dir?
<br>
</div>

<div class='talk op-msg' data-timestamp='1588967280' id='386519'>
<a class='timestamp' href='#386519'><time timestamp='2020-05-08T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
I guess backupwallet is always an option
<br>
</div>

<div class='talk op-msg' data-timestamp='1588967280' id='386520'>
<a class='timestamp' href='#386520'><time timestamp='2020-05-08T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
luke-jr: as long as everything was shut down cleanly, just moving the wallet.dat will work
<br>
</div>

<div class='talk op-msg' data-timestamp='1588967280' id='386521'>
<a class='timestamp' href='#386521'><time timestamp='2020-05-08T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-12'> ryanofsky</span>&gt;
you just need to create a directory with a &quot;wallet.dat&quot; file, assuming there are no old logs
<br>
</div>

<div class='talk op-msg' data-timestamp='1588967340' id='386522'>
<a class='timestamp' href='#386522'><time timestamp='2020-05-08T19:49:00Z'>19:49</time></a>
&lt;<span class='nick nick-12'> ryanofsky</span>&gt;
if there are logs in the directory, they are shared between all the wallet files in the directory, so there is some risk of data loss if you don&#x27;t copy them too
<br>
</div>

<div class='talk op-msg' data-timestamp='1588967400' id='386523'>
<a class='timestamp' href='#386523'><time timestamp='2020-05-08T19:50:00Z'>19:50</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
[19:32:05] &lt;sipa&gt; provoostenator: we don&#x27;t have a canonical dump format, but we don&#x27;t need one &lt;-- btw, there is the dumpwallet RPC
<br>
</div>

<div class='talk op-msg' data-timestamp='1588967400' id='386524'>
<a class='timestamp' href='#386524'><time timestamp='2020-05-08T19:50:00Z'>19:50</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
which is a mess IMO
<br>
</div>

<div class='talk op-msg' data-timestamp='1588967400' id='386525'>
<a class='timestamp' href='#386525'><time timestamp='2020-05-08T19:50:00Z'>19:50</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
dumpwallet does not achieve that at all
<br>
</div>

<div class='talk op-msg' data-timestamp='1588967400' id='386526'>
<a class='timestamp' href='#386526'><time timestamp='2020-05-08T19:50:00Z'>19:50</time></a>
&lt;<span class='nick nick-12'> ryanofsky</span>&gt;
just looked up, #1889 is the pr that introduce the -wallet option for wallets with custom names
<br>
</div>

<div class='talk op-msg' data-timestamp='1588967400' id='386527'>
<a class='timestamp' href='#386527'><time timestamp='2020-05-08T19:50:00Z'>19:50</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/1889" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/1889</a> | let user select wallet file with -wallet=foo.dat by tcatm · Pull Request #1889 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1588967400' id='386528'>
<a class='timestamp' href='#386528'><time timestamp='2020-05-08T19:50:00Z'>19:50</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
luke-jr: yes, but dumpwallet is dsiabled for desciptor wallets, and needs to be redone properly anyway
<br>
</div>

<div class='talk op-msg' data-timestamp='1588967460' id='386529'>
<a class='timestamp' href='#386529'><time timestamp='2020-05-08T19:51:00Z'>19:51</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it dumps private keys, and a few other things - it does not dump all the wallet data that lets you recreate the same wallet again
<br>
</div>

<div class='talk op-msg' data-timestamp='1588967460' id='386530'>
<a class='timestamp' href='#386530'><time timestamp='2020-05-08T19:51:00Z'>19:51</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
But that should be doable
<br>
</div>

<div class='talk op-msg' data-timestamp='1588967460' id='386531'>
<a class='timestamp' href='#386531'><time timestamp='2020-05-08T19:51:00Z'>19:51</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
My opinion on forward/backward wallet compatibility is that we should support 2 versions in either direction, and make sure that we have 100% test coverage of all features. The fact that we have code like <a href="https://github.com/bitcoin/bitcoin/blob/5b24f6084ede92d0f493ff416b4726245140b2c1/src/wallet/walletdb.cpp#L284" class="link" target="_blank">https://github.com/bitcoin/bitcoin/blob/5b24f6084ede92d0f493ff416b4726245140b2c1/src/wallet/walletdb.cpp#L284</a> which is supposed to support some wallet quirk in 2012 that isn&#x27;t tested and 
<br>
</div>

<div class='talk op-msg' data-timestamp='1588967460' id='386532'>
<a class='timestamp' href='#386532'><time timestamp='2020-05-08T19:51:00Z'>19:51</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
sipa: there&#x27;s a paired loadwallet too; it just isn&#x27;t lossless
<br>
</div>

<div class='talk op-msg' data-timestamp='1588967460' id='386533'>
<a class='timestamp' href='#386533'><time timestamp='2020-05-08T19:51:00Z'>19:51</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
probably wasn&#x27;t even in an actual release is crazy.
<br>
</div>

<div class='talk op-msg' data-timestamp='1588967460' id='386534'>
<a class='timestamp' href='#386534'><time timestamp='2020-05-08T19:51:00Z'>19:51</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
The reverse of that new dumpwallet just needs to be smart enough to ignore stuff it doesn&#x27;t know.
<br>
</div>

<div class='talk op-msg' data-timestamp='1588967520' id='386535'>
<a class='timestamp' href='#386535'><time timestamp='2020-05-08T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
provoostenator: we already have importwallet to do the inverse of dumpwallet
<br>
</div>

<div class='talk op-msg' data-timestamp='1588967520' id='386536'>
<a class='timestamp' href='#386536'><time timestamp='2020-05-08T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
luke-jr: i&#x27;m aware, i think i wrote it
<br>
</div>

<div class='talk op-msg' data-timestamp='1588967520' id='386537'>
<a class='timestamp' href='#386537'><time timestamp='2020-05-08T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
I think both need changes
<br>
</div>

<div class='talk op-msg' data-timestamp='1588967580' id='386538'>
<a class='timestamp' href='#386538'><time timestamp='2020-05-08T19:53:00Z'>19:53</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
agree
<br>
</div>

<div class='talk op-msg' data-timestamp='1588967580' id='386539'>
<a class='timestamp' href='#386539'><time timestamp='2020-05-08T19:53:00Z'>19:53</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
jnewbery: 3.16.0 it says?
<br>
</div>

<div class='talk op-msg' data-timestamp='1588967580' id='386540'>
<a class='timestamp' href='#386540'><time timestamp='2020-05-08T19:53:00Z'>19:53</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
if we were sticking to bdb, we could just tell people to use db4.8dump or whatever XD
<br>
</div>

<div class='talk op-msg' data-timestamp='1588967700' id='386541'>
<a class='timestamp' href='#386541'><time timestamp='2020-05-08T19:55:00Z'>19:55</time></a>
&lt;<span class='nick nick-3'> meshcollider</span>&gt;
Ok last 5 mins, anything else anyone wanted to discuss?
<br>
</div>

<div class='talk op-msg' data-timestamp='1588967700' id='386542'>
<a class='timestamp' href='#386542'><time timestamp='2020-05-08T19:55:00Z'>19:55</time></a>
&lt;<span class='nick nick-14'> jonatack</span>&gt;
achow101: that is a really helpful writeup
<br>
</div>

<div class='talk op-msg' data-timestamp='1588967760' id='386543'>
<a class='timestamp' href='#386543'><time timestamp='2020-05-08T19:56:00Z'>19:56</time></a>
&lt;<span class='nick nick-14'> jonatack</span>&gt;
meshcollider: blockers/high-priority?
<br>
</div>

<div class='talk op-msg' data-timestamp='1588967760' id='386544'>
<a class='timestamp' href='#386544'><time timestamp='2020-05-08T19:56:00Z'>19:56</time></a>
&lt;<span class='nick nick-3'> meshcollider</span>&gt;
Any changes for high priority? Probably covered yesterday
<br>
</div>

<div class='talk op-msg' data-timestamp='1588967820' id='386545'>
<a class='timestamp' href='#386545'><time timestamp='2020-05-08T19:57:00Z'>19:57</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
i&#x27;d just like to review beg for both #16946 and #17681
<br>
</div>

<div class='talk op-msg' data-timestamp='1588967820' id='386546'>
<a class='timestamp' href='#386546'><time timestamp='2020-05-08T19:57:00Z'>19:57</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/16946" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/16946</a> | wallet: include a checksum of encrypted private keys by achow101 · Pull Request #16946 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1588967820' id='386547'>
<a class='timestamp' href='#386547'><time timestamp='2020-05-08T19:57:00Z'>19:57</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/17681" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/17681</a> | wallet: Keep inactive seeds after sethdseed and derive keys from them as needed by achow101 · Pull Request #17681 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1588967820' id='386548'>
<a class='timestamp' href='#386548'><time timestamp='2020-05-08T19:57:00Z'>19:57</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
People are always welcome to play with #16549
<br>
</div>

<div class='talk op-msg' data-timestamp='1588967820' id='386549'>
<a class='timestamp' href='#386549'><time timestamp='2020-05-08T19:57:00Z'>19:57</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/16549" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/16549</a> | UI external signer support (e.g. hardware wallet) by Sjors · Pull Request #16549 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1588967820' id='386550'>
<a class='timestamp' href='#386550'><time timestamp='2020-05-08T19:57:00Z'>19:57</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
(draft, not high priority)
<br>
</div>

<div class='talk op-msg' data-timestamp='1588967880' id='386551'>
<a class='timestamp' href='#386551'><time timestamp='2020-05-08T19:58:00Z'>19:58</time></a>
&lt;<span class='nick nick-3'> meshcollider</span>&gt;
Alright, thanks everyone for the discussion :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1588967880' id='386552'>
<a class='timestamp' href='#386552'><time timestamp='2020-05-08T19:58:00Z'>19:58</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
achow101: we&#x27;re going to cover 17681 in review club next wednesday (ryanofsky hosting). It&#x27;d be great if you could join us
<br>
</div>

<div class='talk op-msg' data-timestamp='1588967880' id='386553'>
<a class='timestamp' href='#386553'><time timestamp='2020-05-08T19:58:00Z'>19:58</time></a>
&lt;<span class='nick nick-3'> meshcollider</span>&gt;
#endmeeting
<br>
</div>

<div class='talk op-msg' data-timestamp='1588967880' id='386554'>
<a class='timestamp' href='#386554'><time timestamp='2020-05-08T19:58:00Z'>19:58</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Meeting ended Fri May  8 19:58:47 2020 UTC.  Information about MeetBot at <a href="http://wiki.debian.org/MeetBot" class="link" target="_blank">http://wiki.debian.org/MeetBot</a> . (v 0.1.4)
<br>
</div>

<div class='talk op-msg' data-timestamp='1588967880' id='386555'>
<a class='timestamp' href='#386555'><time timestamp='2020-05-08T19:58:00Z'>19:58</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Minutes:        <a href="http://www.erisian.com.au/meetbot/bitcoin-core-dev/2020/bitcoin-core-dev.2020-05-08-19.00.html" class="link" target="_blank">http://www.erisian.com.au/meetbot/bitcoin-core-dev/2020/bitcoin-core-dev.2020-05-08-19.00.html</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1588967880' id='386556'>
<a class='timestamp' href='#386556'><time timestamp='2020-05-08T19:58:00Z'>19:58</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Minutes (text): <a href="http://www.erisian.com.au/meetbot/bitcoin-core-dev/2020/bitcoin-core-dev.2020-05-08-19.00.txt" class="link" target="_blank">http://www.erisian.com.au/meetbot/bitcoin-core-dev/2020/bitcoin-core-dev.2020-05-08-19.00.txt</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1588967880' id='386557'>
<a class='timestamp' href='#386557'><time timestamp='2020-05-08T19:58:00Z'>19:58</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Log:            <a href="http://www.erisian.com.au/meetbot/bitcoin-core-dev/2020/bitcoin-core-dev.2020-05-08-19.00.log.html" class="link" target="_blank">http://www.erisian.com.au/meetbot/bitcoin-core-dev/2020/bitcoin-core-dev.2020-05-08-19.00.log.html</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1588967940' id='386558'>
<a class='timestamp' href='#386558'><time timestamp='2020-05-08T19:59:00Z'>19:59</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
jnewbery: I&#x27;ll try to remember to join
<br>
</div>

<div class='talk op-msg' data-timestamp='1588967940' id='386559'>
<a class='timestamp' href='#386559'><time timestamp='2020-05-08T19:59:00Z'>19:59</time></a>
&lt;<span class='nick nick-14'> jonatack</span>&gt;
will look at those PRs. #18594 if anyone interested is pretty far along.
<br>
</div>

<div class='talk op-msg' data-timestamp='1588967940' id='386560'>
<a class='timestamp' href='#386560'><time timestamp='2020-05-08T19:59:00Z'>19:59</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/18594" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/18594</a> | cli: display multiwallet balances in -getinfo by jonatack · Pull Request #18594 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1588967940' id='386561'>
<a class='timestamp' href='#386561'><time timestamp='2020-05-08T19:59:00Z'>19:59</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
achow101: I&#x27;ll ping ya
<br>
</div>

<div class='talk op-msg' data-timestamp='1588967940' id='386562'>
<a class='timestamp' href='#386562'><time timestamp='2020-05-08T19:59:00Z'>19:59</time></a>
&lt;<span class='nick nick-14'> jonatack</span>&gt;
it&#x27;s the client-side version
<br>
</div>

<div class='talk op-msg' data-timestamp='1588968420' id='386563'>
<a class='timestamp' href='#386563'><time timestamp='2020-05-08T20:07:00Z'>20:07</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] brakmic closed pull request #18908: util: raise a deadly signal in system.cpp fuzzer (master...fuzz-ub-argsmanager) <a href="https://github.com/bitcoin/bitcoin/pull/18908" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/18908</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1588968660' id='386564'>
<a class='timestamp' href='#386564'><time timestamp='2020-05-08T20:11:00Z'>20:11</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
Does anyone know what this failure in appveyor means: <a href="https://ci.appveyor.com/project/DrahtBot/bitcoin/builds/32747418" class="link" target="_blank">https://ci.appveyor.com/project/DrahtBot/bitcoin/builds/32747418</a> ? I tried rerunning and it&#x27;s happened twice in a row
<br>
</div>

<div class='talk op-msg' data-timestamp='1588968960' id='386565'>
<a class='timestamp' href='#386565'><time timestamp='2020-05-08T20:16:00Z'>20:16</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
where is _ defined?
<br>
</div>

<div class='talk op-msg' data-timestamp='1588968960' id='386566'>
<a class='timestamp' href='#386566'><time timestamp='2020-05-08T20:16:00Z'>20:16</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it&#x27;s kinda hard to grep for
<br>
</div>

<div class='talk op-msg' data-timestamp='1588969020' id='386567'>
<a class='timestamp' href='#386567'><time timestamp='2020-05-08T20:17:00Z'>20:17</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
oh, got it
<br>
</div>

<div class='talk op-msg' data-timestamp='1588969020' id='386568'>
<a class='timestamp' href='#386568'><time timestamp='2020-05-08T20:17:00Z'>20:17</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
util/translation.h
<br>
</div>

<div class='talk op-msg' data-timestamp='1588969020' id='386569'>
<a class='timestamp' href='#386569'><time timestamp='2020-05-08T20:17:00Z'>20:17</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i&#x27;m confused why this code compiles at all (outside of appveyor)
<br>
</div>

<div class='talk op-msg' data-timestamp='1588969020' id='386570'>
<a class='timestamp' href='#386570'><time timestamp='2020-05-08T20:17:00Z'>20:17</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
oh no
<br>
</div>

<div class='talk op-msg' data-timestamp='1588969080' id='386571'>
<a class='timestamp' href='#386571'><time timestamp='2020-05-08T20:18:00Z'>20:18</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
_ returns a bilingual_string, InitError takes a bilingual string... why is appveyor complaining that it&#x27;s being passed an std::string?
<br>
</div>

<div class='talk op-msg' data-timestamp='1588969680' id='386572'>
<a class='timestamp' href='#386572'><time timestamp='2020-05-08T20:28:00Z'>20:28</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
I&#x27;m going to try rebasing on master. There were changes merged in #16224, but I don&#x27;t see why that should affect my branch
<br>
</div>

<div class='talk op-msg' data-timestamp='1588969680' id='386573'>
<a class='timestamp' href='#386573'><time timestamp='2020-05-08T20:28:00Z'>20:28</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/16224" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/16224</a> | gui: Bilingual GUI error messages by hebasto · Pull Request #16224 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1588969740' id='386574'>
<a class='timestamp' href='#386574'><time timestamp='2020-05-08T20:29:00Z'>20:29</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ah, i was just checking master
<br>
</div>

<div class='talk op-msg' data-timestamp='1588969800' id='386575'>
<a class='timestamp' href='#386575'><time timestamp='2020-05-08T20:30:00Z'>20:30</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
I have to say that fighting against our CIs is really painful. It seems like that&#x27;s where I&#x27;ve spent most of my time for this PR.
<br>
</div>

<div class='talk op-msg' data-timestamp='1588970460' id='386576'>
<a class='timestamp' href='#386576'><time timestamp='2020-05-08T20:41:00Z'>20:41</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
ok, it was a silent merge conflict with 16224. Thanks to jonatack for pointing me in the right direction
<br>
</div>

<div class='talk op-msg' data-timestamp='1588970580' id='386577'>
<a class='timestamp' href='#386577'><time timestamp='2020-05-08T20:43:00Z'>20:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jnewbery: re compatibility...i think for backward compatibility we essentially want to be able to load any old wallet file, back to 0.1... but for very far back formats i think it&#x27;s fine if that needs an explicit conversion step first (possibly using wallet-tool or something similar)
<br>
</div>

<div class='talk op-msg' data-timestamp='1588970700' id='386578'>
<a class='timestamp' href='#386578'><time timestamp='2020-05-08T20:45:00Z'>20:45</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
2 major releases is not much though...
<br>
</div>

<div class='talk op-msg' data-timestamp='1588970760' id='386579'>
<a class='timestamp' href='#386579'><time timestamp='2020-05-08T20:46:00Z'>20:46</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
sipa: what if that explicit convertion step is &quot;load it on v0.xx first&quot;?
<br>
</div>

<div class='talk op-msg' data-timestamp='1588970820' id='386580'>
<a class='timestamp' href='#386580'><time timestamp='2020-05-08T20:47:00Z'>20:47</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
I&#x27;d argue that if we don&#x27;t test something we can&#x27;t really claim that we support it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1588970880' id='386581'>
<a class='timestamp' href='#386581'><time timestamp='2020-05-08T20:48:00Z'>20:48</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
then we should test it :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1588970940' id='386582'>
<a class='timestamp' href='#386582'><time timestamp='2020-05-08T20:49:00Z'>20:49</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
Maybe, but it&#x27;s probably not worth the developer time. I&#x27;m personally not interested in writing tests for v0.1 wallets.
<br>
</div>

<div class='talk op-msg' data-timestamp='1588971120' id='386583'>
<a class='timestamp' href='#386583'><time timestamp='2020-05-08T20:52:00Z'>20:52</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
fair, but there is a difference between supporting and not gratuitously breaking
<br>
</div>

<div class='talk op-msg' data-timestamp='1588971180' id='386584'>
<a class='timestamp' href='#386584'><time timestamp='2020-05-08T20:53:00Z'>20:53</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i think it&#x27;d be unfortunate if someone needs to jump through hoops like running already-unsupported versions just to get access to a years-old wallet file
<br>
</div>

<div class='talk op-msg' data-timestamp='1588971240' id='386585'>
<a class='timestamp' href='#386585'><time timestamp='2020-05-08T20:54:00Z'>20:54</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
If it&#x27;s to improve code quality and remove debt, it&#x27;s not gratuitous
<br>
</div>

<div class='talk op-msg' data-timestamp='1588971240' id='386586'>
<a class='timestamp' href='#386586'><time timestamp='2020-05-08T20:54:00Z'>20:54</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
unfortunate but not the end of the world
<br>
</div>

<div class='talk op-msg' data-timestamp='1588971300' id='386587'>
<a class='timestamp' href='#386587'><time timestamp='2020-05-08T20:55:00Z'>20:55</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ok, let me then be more clear: i think it&#x27;s ok if someone with a wallet file from 2012 has to go through some hoops to load a wallet
<br>
</div>

<div class='talk op-msg' data-timestamp='1588971300' id='386588'>
<a class='timestamp' href='#386588'><time timestamp='2020-05-08T20:55:00Z'>20:55</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i don&#x27;t think that&#x27;s ok for a wallet from 2017
<br>
</div>

<div class='talk op-msg' data-timestamp='1588971300' id='386589'>
<a class='timestamp' href='#386589'><time timestamp='2020-05-08T20:55:00Z'>20:55</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
these things can be very long lived
<br>
</div>

<div class='talk op-msg' data-timestamp='1588971360' id='386590'>
<a class='timestamp' href='#386590'><time timestamp='2020-05-08T20:56:00Z'>20:56</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and sometimes forgotten about
<br>
</div>

<div class='talk op-msg' data-timestamp='1588971360' id='386591'>
<a class='timestamp' href='#386591'><time timestamp='2020-05-08T20:56:00Z'>20:56</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
that also seems reasonable to me. 2 versions is maybe too aggresive.
<br>
</div>

<div class='talk op-msg' data-timestamp='1588971480' id='386592'>
<a class='timestamp' href='#386592'><time timestamp='2020-05-08T20:58:00Z'>20:58</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
for forward compatibility i think shorter timelines are acceptable; nobody expects being able to downgrade to years old software
<br>
</div>

<div class='talk op-msg' data-timestamp='1588971480' id='386593'>
<a class='timestamp' href='#386593'><time timestamp='2020-05-08T20:58:00Z'>20:58</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but being able to roll back after an incompatibility introduced in one version vs the next is very desirable
<br>
</div>

<div class='talk op-msg' data-timestamp='1588971540' id='386594'>
<a class='timestamp' href='#386594'><time timestamp='2020-05-08T20:59:00Z'>20:59</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
yes, I think 1 or 2 is acceptable for forward compatibility
<br>
</div>

<div class='talk op-msg' data-timestamp='1588973160' id='386595'>
<a class='timestamp' href='#386595'><time timestamp='2020-05-08T21:26:00Z'>21:26</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
when using the snap package, is it expected that the binaries are called bitcoin-core.daemon bitcoin-core.cli ... instead of the usual ones?
<br>
</div>

<div class='talk op-msg' data-timestamp='1588973760' id='386596'>
<a class='timestamp' href='#386596'><time timestamp='2020-05-08T21:36:00Z'>21:36</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
fwiw, sqlite 3.6.10 (compiled with everything --disable-...) from 2009 can open a database i created with 3.31.1 (compiled with every --enable-...) fine
<br>
</div>

<div class='talk op-msg' data-timestamp='1588973760' id='386597'>
<a class='timestamp' href='#386597'><time timestamp='2020-05-08T21:36:00Z'>21:36</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
3.6.10 because it&#x27;s the earliest available in the git clone i&#x27;m using
<br>
</div>

<div class='talk op-msg' data-timestamp='1588974960' id='386598'>
<a class='timestamp' href='#386598'><time timestamp='2020-05-08T21:56:00Z'>21:56</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
also, there is a db creation option that guarantees compatibility with 3.0.0
<br>
</div>

<div class='talk op-msg' data-timestamp='1588975080' id='386599'>
<a class='timestamp' href='#386599'><time timestamp='2020-05-08T21:58:00Z'>21:58</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
otherwise it seems forward compatibility exists down to 3.3.0, except when newer extensions are explicitly used
<br>
</div>

<div class='talk op-msg' data-timestamp='1588975260' id='386600'>
<a class='timestamp' href='#386600'><time timestamp='2020-05-08T22:01:00Z'>22:01</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
[21:56:55] &lt;sipa&gt; also, there is a db creation option that guarantees compatibility with 3.0.0 &lt;-- nice
<br>
</div>

<div class='talk op-msg' data-timestamp='1588975320' id='386601'>
<a class='timestamp' href='#386601'><time timestamp='2020-05-08T22:02:00Z'>22:02</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
is there one that guarantees compatibility with the current stable version in major distros?
<br>
</div>

<div class='talk op-msg' data-timestamp='1588975320' id='386602'>
<a class='timestamp' href='#386602'><time timestamp='2020-05-08T22:02:00Z'>22:02</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
(eg, if Core were compiled against some future version we can&#x27;t anticipate)
<br>
</div>

<div class='talk op-msg' data-timestamp='1588975320' id='386603'>
<a class='timestamp' href='#386603'><time timestamp='2020-05-08T22:02:00Z'>22:02</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
no, it seems there have not been any actual format changes since 3.3.0 in 2006
<br>
</div>

<div class='talk op-msg' data-timestamp='1588975380' id='386604'>
<a class='timestamp' href='#386604'><time timestamp='2020-05-08T22:03:00Z'>22:03</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
only extension
<br>
</div>

<div class='talk op-msg' data-timestamp='1588975380' id='386605'>
<a class='timestamp' href='#386605'><time timestamp='2020-05-08T22:03:00Z'>22:03</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
ok, so what we&#x27;d want is an option to force compat with 3.3
<br>
</div>

<div class='talk op-msg' data-timestamp='1588975440' id='386606'>
<a class='timestamp' href='#386606'><time timestamp='2020-05-08T22:04:00Z'>22:04</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
if someone builds against some future sqlite 3.90, we&#x27;d want to be sure it remains compatible with what we&#x27;re using now
<br>
</div>

<div class='talk op-msg' data-timestamp='1588975980' id='386607'>
<a class='timestamp' href='#386607'><time timestamp='2020-05-08T22:13:00Z'>22:13</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke pushed 2 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/5b24f6084ede...b55866969e24" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/5b24f6084ede...b55866969e24</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1588975980' id='386608'>
<a class='timestamp' href='#386608'><time timestamp='2020-05-08T22:13:00Z'>22:13</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 095bc9a Harris: fuzz: fix vector size problem in system fuzzer
<br>
</div>

<div class='talk op-msg' data-timestamp='1588975980' id='386609'>
<a class='timestamp' href='#386609'><time timestamp='2020-05-08T22:13:00Z'>22:13</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master b558669 MarcoFalke: Merge #18917: fuzz: fix vector size problem in system fuzzer
<br>
</div>

<div class='talk op-msg' data-timestamp='1588975980' id='386610'>
<a class='timestamp' href='#386610'><time timestamp='2020-05-08T22:13:00Z'>22:13</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke merged pull request #18917: fuzz: fix vector size problem in system fuzzer (master...fix-system-fuzzer) <a href="https://github.com/bitcoin/bitcoin/pull/18917" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/18917</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1588979520' id='386611'>
<a class='timestamp' href='#386611'><time timestamp='2020-05-08T23:12:00Z'>23:12</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] achow101 opened pull request #18918: wallet: Move salvagewallet into wallettool (master...wallettool-salvagewallet) <a href="https://github.com/bitcoin/bitcoin/pull/18918" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/18918</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1588979580' id='386612'>
<a class='timestamp' href='#386612'><time timestamp='2020-05-08T23:13:00Z'>23:13</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke opened pull request #18919: test: Add gettransaction test for &quot;coin-join&quot; tx (master...2005-testCoinJoinGetTx) <a href="https://github.com/bitcoin/bitcoin/pull/18919" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/18919</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1588980780' id='386613'>
<a class='timestamp' href='#386613'><time timestamp='2020-05-08T23:33:00Z'>23:33</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke pushed 2 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/b55866969e24...376294cde6b1" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/b55866969e24...376294cde6b1</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1588980780' id='386614'>
<a class='timestamp' href='#386614'><time timestamp='2020-05-08T23:33:00Z'>23:33</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master fae153b MarcoFalke: test: Fix verack race to avoid intermittent test failures
<br>
</div>

<div class='talk op-msg' data-timestamp='1588980780' id='386615'>
<a class='timestamp' href='#386615'><time timestamp='2020-05-08T23:33:00Z'>23:33</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 376294c MarcoFalke: Merge #18866: test: Fix verack race to avoid intermittent test failures
<br>
</div>

<div class='talk op-msg' data-timestamp='1588980780' id='386616'>
<a class='timestamp' href='#386616'><time timestamp='2020-05-08T23:33:00Z'>23:33</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke merged pull request #18866: test: Fix verack race to avoid intermittent test failures (master...2005-qaVerackRace) <a href="https://github.com/bitcoin/bitcoin/pull/18866" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/18866</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1588981620' id='386617'>
<a class='timestamp' href='#386617'><time timestamp='2020-05-08T23:47:00Z'>23:47</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
MarcoFalke: i don&#x27;t think issues should be closed because nobody is working on them
<br>
</div>

<div class='talk op-msg' data-timestamp='1588981620' id='386618'>
<a class='timestamp' href='#386618'><time timestamp='2020-05-08T23:47:00Z'>23:47</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
or at least, not only for that reason
<br>
</div>

</div>
</section>

</body>
</html>
