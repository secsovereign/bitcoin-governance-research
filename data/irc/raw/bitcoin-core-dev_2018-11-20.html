<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2018-11-20
 — 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2018-11-20' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:21 UTC</pre>
<pre><a href="/bitcoin-core-dev/2018-10-20">&lt;</a><span class='header'>  November 2018   </span><a href="/bitcoin-core-dev/2018-12-20">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;             <a class="" href="/bitcoin-core-dev/2018-11-01">1</a>  <a class="" href="/bitcoin-core-dev/2018-11-02">2</a>  <a class="" href="/bitcoin-core-dev/2018-11-03">3</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2018-11-04">4</a>  <a class="" href="/bitcoin-core-dev/2018-11-05">5</a>  <a class="" href="/bitcoin-core-dev/2018-11-06">6</a>  <a class="" href="/bitcoin-core-dev/2018-11-07">7</a>  <a class="" href="/bitcoin-core-dev/2018-11-08">8</a>  <a class="" href="/bitcoin-core-dev/2018-11-09">9</a> <a class="" href="/bitcoin-core-dev/2018-11-10">10</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2018-11-11">11</a> <a class="" href="/bitcoin-core-dev/2018-11-12">12</a> <a class="" href="/bitcoin-core-dev/2018-11-13">13</a> <a class="" href="/bitcoin-core-dev/2018-11-14">14</a> <a class="" href="/bitcoin-core-dev/2018-11-15">15</a> <a class="" href="/bitcoin-core-dev/2018-11-16">16</a> <a class="" href="/bitcoin-core-dev/2018-11-17">17</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2018-11-18">18</a> <a class="" href="/bitcoin-core-dev/2018-11-19">19</a> <a class="current" href="/bitcoin-core-dev/2018-11-20">20</a> <a class="" href="/bitcoin-core-dev/2018-11-21">21</a> <a class="" href="/bitcoin-core-dev/2018-11-22">22</a> <a class="" href="/bitcoin-core-dev/2018-11-23">23</a> <a class="" href="/bitcoin-core-dev/2018-11-24">24</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2018-11-25">25</a> <a class="" href="/bitcoin-core-dev/2018-11-26">26</a> <a class="" href="/bitcoin-core-dev/2018-11-27">27</a> <a class="" href="/bitcoin-core-dev/2018-11-28">28</a> <a class="" href="/bitcoin-core-dev/2018-11-29">29</a> <a class="" href="/bitcoin-core-dev/2018-11-30">30</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1542682620' id='641141'>
<a class='timestamp' href='#641141'><time timestamp='2018-11-20T02:57:00Z'>02:57</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] qqz898 opened pull request #14766: 0.17 (master...0.17) <a href="https://github.com/bitcoin/bitcoin/pull/14766" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/14766</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1542682740' id='641142'>
<a class='timestamp' href='#641142'><time timestamp='2018-11-20T02:59:00Z'>02:59</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] qqz898 closed pull request #14766: 0.17 (master...0.17) <a href="https://github.com/bitcoin/bitcoin/pull/14766" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/14766</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1542682740' id='641143'>
<a class='timestamp' href='#641143'><time timestamp='2018-11-20T02:59:00Z'>02:59</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] qqz898 closed pull request #14766: 0.17 (master...0.17) <a href="https://github.com/bitcoin/bitcoin/pull/14766" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/14766</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1542690720' id='641144'>
<a class='timestamp' href='#641144'><time timestamp='2018-11-20T05:12:00Z'>05:12</time></a>
&lt;<span class='nick nick-11'> kallewoof</span>&gt;
<b>*headscratch*</b> why would I get errors about &quot;ifstream in fs not having a type&quot; in fs.h (which I haven&#x27;t touched) included from bitcoind.cpp (which I haven&#x27;t touched)...?
<br>
</div>

<div class='talk op-msg' data-timestamp='1542690720' id='641145'>
<a class='timestamp' href='#641145'><time timestamp='2018-11-20T05:12:00Z'>05:12</time></a>
&lt;<span class='nick nick-11'> kallewoof</span>&gt;
bottom of <a href="https://travis-ci.org/bitcoin/bitcoin/jobs/457291806" class="link" target="_blank">https://travis-ci.org/bitcoin/bitcoin/jobs/457291806</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1542690720' id='641146'>
<a class='timestamp' href='#641146'><time timestamp='2018-11-20T05:12:00Z'>05:12</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
kallewoof: master is broken
<br>
</div>

<div class='talk op-msg' data-timestamp='1542690720' id='641147'>
<a class='timestamp' href='#641147'><time timestamp='2018-11-20T05:12:00Z'>05:12</time></a>
&lt;<span class='nick nick-11'> kallewoof</span>&gt;
sipa: oh
<br>
</div>

<div class='talk op-msg' data-timestamp='1542692520' id='641148'>
<a class='timestamp' href='#641148'><time timestamp='2018-11-20T05:42:00Z'>05:42</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] kallewoof opened pull request #14768: revert removal of fstream.hpp header in fs.h (master...restore-fs-h-include-boost-fs-fstream) <a href="https://github.com/bitcoin/bitcoin/pull/14768" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/14768</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1542693000' id='641149'>
<a class='timestamp' href='#641149'><time timestamp='2018-11-20T05:50:00Z'>05:50</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MeshCollider closed pull request #14763: Remove filesystem/fstream from EXPECTED_BOOST_INCLUDES (master...2018/11/expected_boost_includes) <a href="https://github.com/bitcoin/bitcoin/pull/14763" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/14763</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1542700560' id='641150'>
<a class='timestamp' href='#641150'><time timestamp='2018-11-20T07:56:00Z'>07:56</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
gmaxwell: can you explain to me what your comment on 14588 means? (I assume it&#x27;s not for me, but for committers)
<br>
</div>

<div class='talk op-msg' data-timestamp='1542701280' id='641151'>
<a class='timestamp' href='#641151'><time timestamp='2018-11-20T08:08:00Z'>08:08</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gwillen: gmaxwell suggests we may want to include it in 0.17.1
<br>
</div>

<div class='talk op-msg' data-timestamp='1542701280' id='641152'>
<a class='timestamp' href='#641152'><time timestamp='2018-11-20T08:08:00Z'>08:08</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and no, not aimed at you (but feel to comment whether you think that&#x27;s a good idea)
<br>
</div>

<div class='talk op-msg' data-timestamp='1542701340' id='641153'>
<a class='timestamp' href='#641153'><time timestamp='2018-11-20T08:09:00Z'>08:09</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
yeah, feel free to say if you think it should/shouldn&#x27;t be.
<br>
</div>

<div class='talk op-msg' data-timestamp='1542704100' id='641154'>
<a class='timestamp' href='#641154'><time timestamp='2018-11-20T08:55:00Z'>08:55</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
meshcollider: I&#x27;m now
<br>
</div>

<div class='talk op-msg' data-timestamp='1542704280' id='641155'>
<a class='timestamp' href='#641155'><time timestamp='2018-11-20T08:58:00Z'>08:58</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
provoostenator: that really shouldn&#x27;t have been merged before being sure about it, linters cause enough issues without feeding them false input
<br>
</div>

<div class='talk op-msg' data-timestamp='1542704340' id='641156'>
<a class='timestamp' href='#641156'><time timestamp='2018-11-20T08:59:00Z'>08:59</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
oh it doesn&#x27;t change the linter config, just removes a header too much causing compile issues
<br>
</div>

<div class='talk op-msg' data-timestamp='1542704400' id='641157'>
<a class='timestamp' href='#641157'><time timestamp='2018-11-20T09:00:00Z'>09:00</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
why is fstream only needed on some platforms?
<br>
</div>

<div class='talk op-msg' data-timestamp='1542704460' id='641158'>
<a class='timestamp' href='#641158'><time timestamp='2018-11-20T09:01:00Z'>09:01</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
oh I see, it sometimes gets included through other headers
<br>
</div>

<div class='talk op-msg' data-timestamp='1542704820' id='641159'>
<a class='timestamp' href='#641159'><time timestamp='2018-11-20T09:07:00Z'>09:07</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/09f1d7fe7243...1b99d153d071" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/09f1d7fe7243...1b99d153d071</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1542704820' id='641160'>
<a class='timestamp' href='#641160'><time timestamp='2018-11-20T09:07:00Z'>09:07</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master e816b34 Karl-Johan Alm: revert removal of fstream.hpp header in fs.h...
<br>
</div>

<div class='talk op-msg' data-timestamp='1542704820' id='641161'>
<a class='timestamp' href='#641161'><time timestamp='2018-11-20T09:07:00Z'>09:07</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 1b99d15 Wladimir J. van der Laan: Merge #14768: revert removal of fstream.hpp header in fs.h...
<br>
</div>

<div class='talk op-msg' data-timestamp='1542704880' id='641162'>
<a class='timestamp' href='#641162'><time timestamp='2018-11-20T09:08:00Z'>09:08</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj closed pull request #14768: revert removal of fstream.hpp header in fs.h (master...restore-fs-h-include-boost-fs-fstream) <a href="https://github.com/bitcoin/bitcoin/pull/14768" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/14768</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1542705240' id='641163'>
<a class='timestamp' href='#641163'><time timestamp='2018-11-20T09:14:00Z'>09:14</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
ouch, travis being down and it not being noticed is quite dangerous
<br>
</div>

<div class='talk op-msg' data-timestamp='1542705600' id='641164'>
<a class='timestamp' href='#641164'><time timestamp='2018-11-20T09:20:00Z'>09:20</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
luckily it was only a header issue then
<br>
</div>

<div class='talk op-msg' data-timestamp='1542708960' id='641165'>
<a class='timestamp' href='#641165'><time timestamp='2018-11-20T10:16:00Z'>10:16</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
if Travis being down is dangerous, the real danger is the conclusion that things are being merged without real review :x
<br>
</div>

<div class='talk op-msg' data-timestamp='1542709080' id='641166'>
<a class='timestamp' href='#641166'><time timestamp='2018-11-20T10:18:00Z'>10:18</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
ie, it&#x27;s being used as more than just a mere convenience
<br>
</div>

<div class='talk op-msg' data-timestamp='1542709680' id='641167'>
<a class='timestamp' href='#641167'><time timestamp='2018-11-20T10:28:00Z'>10:28</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
nah not fatally dangerous, the PR didn&#x27;t go without review
<br>
</div>

<div class='talk op-msg' data-timestamp='1542709680' id='641168'>
<a class='timestamp' href='#641168'><time timestamp='2018-11-20T10:28:00Z'>10:28</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
is there a way to make a long RPC call? like server side sleep?
<br>
</div>

<div class='talk op-msg' data-timestamp='1542709680' id='641169'>
<a class='timestamp' href='#641169'><time timestamp='2018-11-20T10:28:00Z'>10:28</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
promag: yes, RPC calls can sleep as long as they want, although the client has to make sure they don&#x27;t time out
<br>
</div>

<div class='talk op-msg' data-timestamp='1542709740' id='641170'>
<a class='timestamp' href='#641170'><time timestamp='2018-11-20T10:29:00Z'>10:29</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
I thought we were doing blind merges :D
<br>
</div>

<div class='talk op-msg' data-timestamp='1542709740' id='641171'>
<a class='timestamp' href='#641171'><time timestamp='2018-11-20T10:29:00Z'>10:29</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it does hold up a RPC thread but there&#x27;s other calls that can take a long time for example the utxo stats one
<br>
</div>

<div class='talk op-msg' data-timestamp='1542709740' id='641172'>
<a class='timestamp' href='#641172'><time timestamp='2018-11-20T10:29:00Z'>10:29</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
wumpus: for testing I don&#x27;t think we have?
<br>
</div>

<div class='talk op-msg' data-timestamp='1542709740' id='641173'>
<a class='timestamp' href='#641173'><time timestamp='2018-11-20T10:29:00Z'>10:29</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I think the mining RPC does long-polling
<br>
</div>

<div class='talk op-msg' data-timestamp='1542709800' id='641174'>
<a class='timestamp' href='#641174'><time timestamp='2018-11-20T10:30:00Z'>10:30</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
and there&#x27;s RPCs to wait for next block and such?
<br>
</div>

<div class='talk op-msg' data-timestamp='1542709800' id='641175'>
<a class='timestamp' href='#641175'><time timestamp='2018-11-20T10:30:00Z'>10:30</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
ah!
<br>
</div>

<div class='talk op-msg' data-timestamp='1542709800' id='641176'>
<a class='timestamp' href='#641176'><time timestamp='2018-11-20T10:30:00Z'>10:30</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
thank you sir
<br>
</div>

<div class='talk op-msg' data-timestamp='1542709800' id='641177'>
<a class='timestamp' href='#641177'><time timestamp='2018-11-20T10:30:00Z'>10:30</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
np
<br>
</div>

<div class='talk op-msg' data-timestamp='1542710400' id='641178'>
<a class='timestamp' href='#641178'><time timestamp='2018-11-20T10:40:00Z'>10:40</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
do we have tests to concurrently call RPC to the same node?
<br>
</div>

<div class='talk op-msg' data-timestamp='1542716040' id='641179'>
<a class='timestamp' href='#641179'><time timestamp='2018-11-20T12:14:00Z'>12:14</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
promag: I don&#x27;t think so
<br>
</div>

<div class='talk op-msg' data-timestamp='1542719640' id='641180'>
<a class='timestamp' href='#641180'><time timestamp='2018-11-20T13:14:00Z'>13:14</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
One reason we didn&#x27;t notice Travis missing is that there&#x27;s still a green checkbox from the other tools. That&#x27;s strange, shouldn&#x27;t Github show an error if any integration is missing / fails?
<br>
</div>

<div class='talk op-msg' data-timestamp='1542720780' id='641181'>
<a class='timestamp' href='#641181'><time timestamp='2018-11-20T13:33:00Z'>13:33</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
normally yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1542721140' id='641182'>
<a class='timestamp' href='#641182'><time timestamp='2018-11-20T13:39:00Z'>13:39</time></a>
&lt;<span class='nick nick-6'> Varunram</span>&gt;
only if it misses / fails though, not if it doesn&#x27;t boot up the tests in the first place
<br>
</div>

<div class='talk op-msg' data-timestamp='1542722100' id='641183'>
<a class='timestamp' href='#641183'><time timestamp='2018-11-20T13:55:00Z'>13:55</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes, that sound plausible
<br>
</div>

<div class='talk op-msg' data-timestamp='1542723360' id='641184'>
<a class='timestamp' href='#641184'><time timestamp='2018-11-20T14:16:00Z'>14:16</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 4 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/1b99d153d071...afa506f6ebeb" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/1b99d153d071...afa506f6ebeb</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1542723360' id='641185'>
<a class='timestamp' href='#641185'><time timestamp='2018-11-20T14:16:00Z'>14:16</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master c456fbd Russell Yanofsky: Refactor: Move m_db pointers into BerkeleyDatabase...
<br>
</div>

<div class='talk op-msg' data-timestamp='1542723360' id='641186'>
<a class='timestamp' href='#641186'><time timestamp='2018-11-20T14:16:00Z'>14:16</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 15c93f0 Chun Kuan Lee: wallet: Add trailing wallet.dat when detecting duplicate wallet if it&#x27;s a directory.
<br>
</div>

<div class='talk op-msg' data-timestamp='1542723360' id='641187'>
<a class='timestamp' href='#641187'><time timestamp='2018-11-20T14:16:00Z'>14:16</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 5912031 Chun Kuan Lee: wallet: Create IsDatabaseLoaded function
<br>
</div>

<div class='talk op-msg' data-timestamp='1542723420' id='641188'>
<a class='timestamp' href='#641188'><time timestamp='2018-11-20T14:17:00Z'>14:17</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj closed pull request #14552: wallet: detecting duplicate wallet by comparing the db filename. (master...default-wallet-fix) <a href="https://github.com/bitcoin/bitcoin/pull/14552" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/14552</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1542725460' id='641189'>
<a class='timestamp' href='#641189'><time timestamp='2018-11-20T14:51:00Z'>14:51</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] scravy opened pull request #14770: Do not specify sudo in .travis (master...patch-1) <a href="https://github.com/bitcoin/bitcoin/pull/14770" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/14770</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1542726720' id='641190'>
<a class='timestamp' href='#641190'><time timestamp='2018-11-20T15:12:00Z'>15:12</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
wumpus: I was waiting for <a href="https://github.com/bitcoin/bitcoin/pull/14552#pullrequestreview-176535062" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/14552#pullrequestreview-176535062</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1542726840' id='641191'>
<a class='timestamp' href='#641191'><time timestamp='2018-11-20T15:14:00Z'>15:14</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
promag: huh didn&#x27;t see that, you had already utACKed it
<br>
</div>

<div class='talk op-msg' data-timestamp='1542726840' id='641192'>
<a class='timestamp' href='#641192'><time timestamp='2018-11-20T15:14:00Z'>15:14</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
yeah, that was a previous commit
<br>
</div>

<div class='talk op-msg' data-timestamp='1542726900' id='641193'>
<a class='timestamp' href='#641193'><time timestamp='2018-11-20T15:15:00Z'>15:15</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
<b>*sigh*</b> ok
<br>
</div>

<div class='talk op-msg' data-timestamp='1542726900' id='641194'>
<a class='timestamp' href='#641194'><time timestamp='2018-11-20T15:15:00Z'>15:15</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
how can I cancel an utACK?
<br>
</div>

<div class='talk op-msg' data-timestamp='1542726900' id='641195'>
<a class='timestamp' href='#641195'><time timestamp='2018-11-20T15:15:00Z'>15:15</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
edit-&gt;delete it
<br>
</div>

<div class='talk op-msg' data-timestamp='1542726900' id='641196'>
<a class='timestamp' href='#641196'><time timestamp='2018-11-20T15:15:00Z'>15:15</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
anyway, ken2812221_ ^
<br>
</div>

<div class='talk op-msg' data-timestamp='1542726960' id='641197'>
<a class='timestamp' href='#641197'><time timestamp='2018-11-20T15:16:00Z'>15:16</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I can revert it if that&#x27;s really necessary
<br>
</div>

<div class='talk op-msg' data-timestamp='1542726960' id='641198'>
<a class='timestamp' href='#641198'><time timestamp='2018-11-20T15:16:00Z'>15:16</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
I don&#x27;t think so
<br>
</div>

<div class='talk op-msg' data-timestamp='1542726960' id='641199'>
<a class='timestamp' href='#641199'><time timestamp='2018-11-20T15:16:00Z'>15:16</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
the mutex is for g_dbenvs, but there is no mutex for WalletEnvironment
<br>
</div>

<div class='talk op-msg' data-timestamp='1542727020' id='641200'>
<a class='timestamp' href='#641200'><time timestamp='2018-11-20T15:17:00Z'>15:17</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
so I wonder if it should use the same
<br>
</div>

<div class='talk op-msg' data-timestamp='1542727380' id='641201'>
<a class='timestamp' href='#641201'><time timestamp='2018-11-20T15:23:00Z'>15:23</time></a>
&lt;<span class='nick nick-6'> LGzr</span>&gt;
Hola, all. I&#x27;ve a question about the p2sh example at <a href="https://bitcoin.org/en/developer-examples#p2sh-multisig" class="link" target="_blank">https://bitcoin.org/en/developer-examples#p2sh-multisig</a>; is there a more appropriate forum than here? (Question is: what purpose it serves that createmultisig uses public key for one, and addresses for the others)
<br>
</div>

<div class='talk op-msg' data-timestamp='1542728820' id='641202'>
<a class='timestamp' href='#641202'><time timestamp='2018-11-20T15:47:00Z'>15:47</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
LGzr: I think <a href="https://bitcoin.stackexchange.com/" class="link" target="_blank">https://bitcoin.stackexchange.com/</a> is the best place to ask such things
<br>
</div>

<div class='talk op-msg' data-timestamp='1542729000' id='641203'>
<a class='timestamp' href='#641203'><time timestamp='2018-11-20T15:50:00Z'>15:50</time></a>
&lt;<span class='nick nick-6'> LGzr</span>&gt;
Wumpus - thanks!
<br>
</div>

<div class='talk op-msg' data-timestamp='1542730800' id='641204'>
<a class='timestamp' href='#641204'><time timestamp='2018-11-20T16:20:00Z'>16:20</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
meshcollider: can you rebase #14491
<br>
</div>

<div class='talk op-msg' data-timestamp='1542730800' id='641205'>
<a class='timestamp' href='#641205'><time timestamp='2018-11-20T16:20:00Z'>16:20</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/14491" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/14491</a> | Allow descriptor imports with importmulti by MeshCollider · Pull Request #14491 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1542733560' id='641206'>
<a class='timestamp' href='#641206'><time timestamp='2018-11-20T17:06:00Z'>17:06</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke closed pull request #14755: Remove redundant readme info in /doc (master...issue-14639) <a href="https://github.com/bitcoin/bitcoin/pull/14755" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/14755</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1542735420' id='641207'>
<a class='timestamp' href='#641207'><time timestamp='2018-11-20T17:37:00Z'>17:37</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
I notice that dumpwallet (on a fresh wallet) contains two sections, I&#x27;m confused why: 
<br>
</div>

<div class='talk op-msg' data-timestamp='1542735420' id='641208'>
<a class='timestamp' href='#641208'><time timestamp='2018-11-20T17:37:00Z'>17:37</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
cV6... 2018-11-20T17:23:30Z reserve=1 # addr=tb1q... hdkeypath=m/0&#x27;/0&#x27;/11&#x27;
<br>
</div>

<div class='talk op-msg' data-timestamp='1542735420' id='641209'>
<a class='timestamp' href='#641209'><time timestamp='2018-11-20T17:37:00Z'>17:37</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
001433... 0 script=1 # addr=2Ms...
<br>
</div>

<div class='talk op-msg' data-timestamp='1542735540' id='641210'>
<a class='timestamp' href='#641210'><time timestamp='2018-11-20T17:39:00Z'>17:39</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
the script is the p2sh wrapper of that address, i suppose
<br>
</div>

<div class='talk op-msg' data-timestamp='1542735720' id='641211'>
<a class='timestamp' href='#641211'><time timestamp='2018-11-20T17:42:00Z'>17:42</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Ah hence they start with 0014? So the first section is for legacy &amp; native segwit, the second for p2sh wrapped segwit? But why don&#x27;t the p2sh entries show an hdkeypath?
<br>
</div>

<div class='talk op-msg' data-timestamp='1542735840' id='641212'>
<a class='timestamp' href='#641212'><time timestamp='2018-11-20T17:44:00Z'>17:44</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
they&#x27;re not keys
<br>
</div>

<div class='talk op-msg' data-timestamp='1542735900' id='641213'>
<a class='timestamp' href='#641213'><time timestamp='2018-11-20T17:45:00Z'>17:45</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
in the current wallet design, you don&#x27;t import addresses
<br>
</div>

<div class='talk op-msg' data-timestamp='1542735900' id='641214'>
<a class='timestamp' href='#641214'><time timestamp='2018-11-20T17:45:00Z'>17:45</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
you import keys and scripts, and it figures out on its own what that implies for what is yours
<br>
</div>

<div class='talk op-msg' data-timestamp='1542735900' id='641215'>
<a class='timestamp' href='#641215'><time timestamp='2018-11-20T17:45:00Z'>17:45</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
in practice for the P2SH-P2WPKH address derived from a wallet key, IsMine works as follows:
<br>
</div>

<div class='talk op-msg' data-timestamp='1542735900' id='641216'>
<a class='timestamp' href='#641216'><time timestamp='2018-11-20T17:45:00Z'>17:45</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
* it sees a P2SH address, so it looks up the script for that scripthash
<br>
</div>

<div class='talk op-msg' data-timestamp='1542735960' id='641217'>
<a class='timestamp' href='#641217'><time timestamp='2018-11-20T17:46:00Z'>17:46</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
* it notices the script is a P2WPKH script, so it recurses by replacing it with the corresponding P2PKH script
<br>
</div>

<div class='talk op-msg' data-timestamp='1542735960' id='641218'>
<a class='timestamp' href='#641218'><time timestamp='2018-11-20T17:46:00Z'>17:46</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
* it notices it&#x27;s a P2PKH script, so it looks up the pubkeyhash
<br>
</div>

<div class='talk op-msg' data-timestamp='1542735960' id='641219'>
<a class='timestamp' href='#641219'><time timestamp='2018-11-20T17:46:00Z'>17:46</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
* it finds the private key for it, so it&#x27;s considered spendable
<br>
</div>

<div class='talk op-msg' data-timestamp='1542736020' id='641220'>
<a class='timestamp' href='#641220'><time timestamp='2018-11-20T17:47:00Z'>17:47</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but the only thing in that whole sequence that has a keypath is the key at the end
<br>
</div>

<div class='talk op-msg' data-timestamp='1542736260' id='641221'>
<a class='timestamp' href='#641221'><time timestamp='2018-11-20T17:51:00Z'>17:51</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/afa506f6ebeb...6b90a2a0e065" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/afa506f6ebeb...6b90a2a0e065</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1542736260' id='641222'>
<a class='timestamp' href='#641222'><time timestamp='2018-11-20T17:51:00Z'>17:51</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master feeef7d Julian Fleischer: Do not specify sudo in .travis...
<br>
</div>

<div class='talk op-msg' data-timestamp='1542736260' id='641223'>
<a class='timestamp' href='#641223'><time timestamp='2018-11-20T17:51:00Z'>17:51</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 6b90a2a Wladimir J. van der Laan: Merge #14770: travis: Do not specify sudo in .travis...
<br>
</div>

<div class='talk op-msg' data-timestamp='1542736320' id='641224'>
<a class='timestamp' href='#641224'><time timestamp='2018-11-20T17:52:00Z'>17:52</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj closed pull request #14770: travis: Do not specify sudo in .travis (master...patch-1) <a href="https://github.com/bitcoin/bitcoin/pull/14770" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/14770</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1542737700' id='641225'>
<a class='timestamp' href='#641225'><time timestamp='2018-11-20T18:15:00Z'>18:15</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
sipa: thanks. Perhaps no point in cleaning up the current wallet, but dumpwallet could add comments to the script entries like &quot;p2sh-segwit script for hdkeypath=m/0...&quot;?
<br>
</div>

<div class='talk op-msg' data-timestamp='1542737760' id='641226'>
<a class='timestamp' href='#641226'><time timestamp='2018-11-20T18:16:00Z'>18:16</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
provoostenator: or we could dump the inferred descriptor for each entry :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1542737940' id='641227'>
<a class='timestamp' href='#641227'><time timestamp='2018-11-20T18:19:00Z'>18:19</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
That makes sense on top of #11803, but more for the key entries than for the script entries.
<br>
</div>

<div class='talk op-msg' data-timestamp='1542737940' id='641228'>
<a class='timestamp' href='#641228'><time timestamp='2018-11-20T18:19:00Z'>18:19</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/11803" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/11803</a> | Bugfix: RPC/Wallet: Include HD key metadata in dumpwallet by luke-jr · Pull Request #11803 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1542737940' id='641229'>
<a class='timestamp' href='#641229'><time timestamp='2018-11-20T18:19:00Z'>18:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
provoostenator: no, that makes no sense
<br>
</div>

<div class='talk op-msg' data-timestamp='1542737940' id='641230'>
<a class='timestamp' href='#641230'><time timestamp='2018-11-20T18:19:00Z'>18:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
keys are keys, not addresses
<br>
</div>

<div class='talk op-msg' data-timestamp='1542737940' id='641231'>
<a class='timestamp' href='#641231'><time timestamp='2018-11-20T18:19:00Z'>18:19</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
But they&#x27;re supposed to be interpreted as combo() descriptors
<br>
</div>

<div class='talk op-msg' data-timestamp='1542737940' id='641232'>
<a class='timestamp' href='#641232'><time timestamp='2018-11-20T18:19:00Z'>18:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
they participate in all scripts that use them
<br>
</div>

<div class='talk op-msg' data-timestamp='1542737940' id='641233'>
<a class='timestamp' href='#641233'><time timestamp='2018-11-20T18:19:00Z'>18:19</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Depending on wallet age
<br>
</div>

<div class='talk op-msg' data-timestamp='1542737940' id='641234'>
<a class='timestamp' href='#641234'><time timestamp='2018-11-20T18:19:00Z'>18:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and we can&#x27;t even efficiently iterate those
<br>
</div>

<div class='talk op-msg' data-timestamp='1542738000' id='641235'>
<a class='timestamp' href='#641235'><time timestamp='2018-11-20T18:20:00Z'>18:20</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yes, they also (for now) imply a combo descriptor on their own
<br>
</div>

<div class='talk op-msg' data-timestamp='1542738000' id='641236'>
<a class='timestamp' href='#641236'><time timestamp='2018-11-20T18:20:00Z'>18:20</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but that&#x27;s not very informative
<br>
</div>

<div class='talk op-msg' data-timestamp='1542738000' id='641237'>
<a class='timestamp' href='#641237'><time timestamp='2018-11-20T18:20:00Z'>18:20</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
&quot;this key acts in all the way it itself can be an address!&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1542738060' id='641238'>
<a class='timestamp' href='#641238'><time timestamp='2018-11-20T18:21:00Z'>18:21</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
It&#x27;s perhaps more informative than the current address= comment which is misleading.
<br>
</div>

<div class='talk op-msg' data-timestamp='1542738060' id='641239'>
<a class='timestamp' href='#641239'><time timestamp='2018-11-20T18:21:00Z'>18:21</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ah, i see
<br>
</div>

<div class='talk op-msg' data-timestamp='1542738060' id='641240'>
<a class='timestamp' href='#641240'><time timestamp='2018-11-20T18:21:00Z'>18:21</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it could list all addresses, or a combo descriptor - that&#x27;s fair
<br>
</div>

<div class='talk op-msg' data-timestamp='1542738060' id='641241'>
<a class='timestamp' href='#641241'><time timestamp='2018-11-20T18:21:00Z'>18:21</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but for scripts it&#x27;s actually interesting, as it will tell which which keys it is related to
<br>
</div>

<div class='talk op-msg' data-timestamp='1542738180' id='641242'>
<a class='timestamp' href='#641242'><time timestamp='2018-11-20T18:23:00Z'>18:23</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Yes, but the script is only relevant for p2sh wrapped segwit, right? (in a default new wallet)
<br>
</div>

<div class='talk op-msg' data-timestamp='1542738180' id='641243'>
<a class='timestamp' href='#641243'><time timestamp='2018-11-20T18:23:00Z'>18:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sure
<br>
</div>

<div class='talk op-msg' data-timestamp='1542738180' id='641244'>
<a class='timestamp' href='#641244'><time timestamp='2018-11-20T18:23:00Z'>18:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
or anything you manually imported
<br>
</div>

<div class='talk op-msg' data-timestamp='1542738240' id='641245'>
<a class='timestamp' href='#641245'><time timestamp='2018-11-20T18:24:00Z'>18:24</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
(multisig etc)
<br>
</div>

<div class='talk op-msg' data-timestamp='1542738240' id='641246'>
<a class='timestamp' href='#641246'><time timestamp='2018-11-20T18:24:00Z'>18:24</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
In that case I think it&#x27;s more clear for the comment to indicate that it&#x27;s only there for p2sh wrapped segwit support, i.e. those entries are redundant once descriptors take over.
<br>
</div>

<div class='talk op-msg' data-timestamp='1542738300' id='641247'>
<a class='timestamp' href='#641247'><time timestamp='2018-11-20T18:25:00Z'>18:25</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
dumpwallet as a whole will need to be revamped post-descriptors
<br>
</div>

<div class='talk op-msg' data-timestamp='1542738300' id='641248'>
<a class='timestamp' href='#641248'><time timestamp='2018-11-20T18:25:00Z'>18:25</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i don&#x27;t understand what you&#x27;re trying to argue for
<br>
</div>

<div class='talk op-msg' data-timestamp='1542738300' id='641249'>
<a class='timestamp' href='#641249'><time timestamp='2018-11-20T18:25:00Z'>18:25</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
scripts are not just there for p2sh wrapped segwit
<br>
</div>

<div class='talk op-msg' data-timestamp='1542738300' id='641250'>
<a class='timestamp' href='#641250'><time timestamp='2018-11-20T18:25:00Z'>18:25</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
they are there for p2sh and p2wsh everything
<br>
</div>

<div class='talk op-msg' data-timestamp='1542738360' id='641251'>
<a class='timestamp' href='#641251'><time timestamp='2018-11-20T18:26:00Z'>18:26</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Indeed, but it might be useful to get it good enough so it&#x27;s easier to test things (like upgrade paths) once we have descriptor functionality complete.
<br>
</div>

<div class='talk op-msg' data-timestamp='1542738360' id='641252'>
<a class='timestamp' href='#641252'><time timestamp='2018-11-20T18:26:00Z'>18:26</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Right now it&#x27;s really to inspect what is actually in a wallet.
<br>
</div>

<div class='talk op-msg' data-timestamp='1542738360' id='641253'>
<a class='timestamp' href='#641253'><time timestamp='2018-11-20T18:26:00Z'>18:26</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
*really hard
<br>
</div>

<div class='talk op-msg' data-timestamp='1542738480' id='641254'>
<a class='timestamp' href='#641254'><time timestamp='2018-11-20T18:28:00Z'>18:28</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
The comment would only be there for scripts that relate to the standard wallet, not any imported / generated p2(w)sh stuff.
<br>
</div>

<div class='talk op-msg' data-timestamp='1542738480' id='641255'>
<a class='timestamp' href='#641255'><time timestamp='2018-11-20T18:28:00Z'>18:28</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
we don&#x27;t know that
<br>
</div>

<div class='talk op-msg' data-timestamp='1542738480' id='641256'>
<a class='timestamp' href='#641256'><time timestamp='2018-11-20T18:28:00Z'>18:28</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
there is just a bunch of scripts
<br>
</div>

<div class='talk op-msg' data-timestamp='1542738480' id='641257'>
<a class='timestamp' href='#641257'><time timestamp='2018-11-20T18:28:00Z'>18:28</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
they&#x27;re not in any way linked to other wallet information
<br>
</div>

<div class='talk op-msg' data-timestamp='1542738600' id='641258'>
<a class='timestamp' href='#641258'><time timestamp='2018-11-20T18:30:00Z'>18:30</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
You could re-match them using the private keys from all keys with an hdmasterkeyid?
<br>
</div>

<div class='talk op-msg' data-timestamp='1542738660' id='641259'>
<a class='timestamp' href='#641259'><time timestamp='2018-11-20T18:31:00Z'>18:31</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
or you could just print their inferred descriptor
<br>
</div>

<div class='talk op-msg' data-timestamp='1542738660' id='641260'>
<a class='timestamp' href='#641260'><time timestamp='2018-11-20T18:31:00Z'>18:31</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
which works for everything
<br>
</div>

<div class='talk op-msg' data-timestamp='1542738660' id='641261'>
<a class='timestamp' href='#641261'><time timestamp='2018-11-20T18:31:00Z'>18:31</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and is efficient
<br>
</div>

<div class='talk op-msg' data-timestamp='1542738720' id='641262'>
<a class='timestamp' href='#641262'><time timestamp='2018-11-20T18:32:00Z'>18:32</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
even that may be confusing, though
<br>
</div>

<div class='talk op-msg' data-timestamp='1542738720' id='641263'>
<a class='timestamp' href='#641263'><time timestamp='2018-11-20T18:32:00Z'>18:32</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
as a p2sh-p2wsh script will have two entries
<br>
</div>

<div class='talk op-msg' data-timestamp='1542738720' id='641264'>
<a class='timestamp' href='#641264'><time timestamp='2018-11-20T18:32:00Z'>18:32</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and we don&#x27;t dump watched scripts
<br>
</div>

<div class='talk op-msg' data-timestamp='1542738780' id='641265'>
<a class='timestamp' href='#641265'><time timestamp='2018-11-20T18:33:00Z'>18:33</time></a>
&lt;<span class='nick nick-4'> * sipa</span>&gt;
would like to see dumpwallet die
<br>
</div>

<div class='talk op-msg' data-timestamp='1542738840' id='641266'>
<a class='timestamp' href='#641266'><time timestamp='2018-11-20T18:34:00Z'>18:34</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
I think dumpwallet can be useful for testing transition to descriptor based wallets, but I&#x27;m fine with making it die after that :-)
<br>
</div>

<div class='talk op-msg' data-timestamp='1542738840' id='641267'>
<a class='timestamp' href='#641267'><time timestamp='2018-11-20T18:34:00Z'>18:34</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yeah, of course
<br>
</div>

<div class='talk op-msg' data-timestamp='1542739020' id='641268'>
<a class='timestamp' href='#641268'><time timestamp='2018-11-20T18:37:00Z'>18:37</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
sipa: about REST <a href="https://github.com/bitcoin/bitcoin/pull/12040#discussion_r235092254" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/12040#discussion_r235092254</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1542739080' id='641269'>
<a class='timestamp' href='#641269'><time timestamp='2018-11-20T18:38:00Z'>18:38</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Look for my example &quot;do some wallet operation on wallet&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1542739080' id='641270'>
<a class='timestamp' href='#641270'><time timestamp='2018-11-20T18:38:00Z'>18:38</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
It passes an Authorization: Basic param with the request, which contains the RPC username and password in  some base64 converted form. Afaik it has full RPC access.
<br>
</div>

<div class='talk op-msg' data-timestamp='1542739080' id='641271'>
<a class='timestamp' href='#641271'><time timestamp='2018-11-20T18:38:00Z'>18:38</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
That&#x27;s not because of this PR.
<br>
</div>

<div class='talk op-msg' data-timestamp='1542739140' id='641272'>
<a class='timestamp' href='#641272'><time timestamp='2018-11-20T18:39:00Z'>18:39</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
(or if it is, that&#x27;s very underhanded code)
<br>
</div>

<div class='talk op-msg' data-timestamp='1542739200' id='641273'>
<a class='timestamp' href='#641273'><time timestamp='2018-11-20T18:40:00Z'>18:40</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
provoostenator: yes, i see that, but that is just  the RPC interface
<br>
</div>

<div class='talk op-msg' data-timestamp='1542739200' id='641274'>
<a class='timestamp' href='#641274'><time timestamp='2018-11-20T18:40:00Z'>18:40</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Oh wait, but then what is the -rest parameter doing?
<br>
</div>

<div class='talk op-msg' data-timestamp='1542739200' id='641275'>
<a class='timestamp' href='#641275'><time timestamp='2018-11-20T18:40:00Z'>18:40</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
not the REST interface, which uses .../rest/... URLs
<br>
</div>

<div class='talk op-msg' data-timestamp='1542739200' id='641276'>
<a class='timestamp' href='#641276'><time timestamp='2018-11-20T18:40:00Z'>18:40</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
-rpcport=8080 is just cancelling my -rest=1?
<br>
</div>

<div class='talk op-msg' data-timestamp='1542739260' id='641277'>
<a class='timestamp' href='#641277'><time timestamp='2018-11-20T18:41:00Z'>18:41</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
no
<br>
</div>

<div class='talk op-msg' data-timestamp='1542739260' id='641278'>
<a class='timestamp' href='#641278'><time timestamp='2018-11-20T18:41:00Z'>18:41</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
-rest enables the REST interface
<br>
</div>

<div class='talk op-msg' data-timestamp='1542739260' id='641279'>
<a class='timestamp' href='#641279'><time timestamp='2018-11-20T18:41:00Z'>18:41</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that doesn&#x27;t mean you can&#x27;t use RPC anymore
<br>
</div>

<div class='talk op-msg' data-timestamp='1542739320' id='641280'>
<a class='timestamp' href='#641280'><time timestamp='2018-11-20T18:42:00Z'>18:42</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ah, -rpcport is somewhat confusingly named i guess, as that option indeed does affect both rpc and rest
<br>
</div>

<div class='talk op-msg' data-timestamp='1542739320' id='641281'>
<a class='timestamp' href='#641281'><time timestamp='2018-11-20T18:42:00Z'>18:42</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Ah, it seems very unhealthy that RPC and REST are so intertwined.
<br>
</div>

<div class='talk op-msg' data-timestamp='1542739320' id='641282'>
<a class='timestamp' href='#641282'><time timestamp='2018-11-20T18:42:00Z'>18:42</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Shouldn&#x27;t REST just launch it&#x27;s own server?
<br>
</div>

<div class='talk op-msg' data-timestamp='1542739380' id='641283'>
<a class='timestamp' href='#641283'><time timestamp='2018-11-20T18:43:00Z'>18:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
why?
<br>
</div>

<div class='talk op-msg' data-timestamp='1542739380' id='641284'>
<a class='timestamp' href='#641284'><time timestamp='2018-11-20T18:43:00Z'>18:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
they&#x27;re entirely separate, apart from both being HTTP
<br>
</div>

<div class='talk op-msg' data-timestamp='1542739380' id='641285'>
<a class='timestamp' href='#641285'><time timestamp='2018-11-20T18:43:00Z'>18:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
rpcport should be named httpport i guess, but it&#x27;s a bit late for that
<br>
</div>

<div class='talk op-msg' data-timestamp='1542739380' id='641286'>
<a class='timestamp' href='#641286'><time timestamp='2018-11-20T18:43:00Z'>18:43</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
I might not want to expose my RPC port to the internet
<br>
</div>

<div class='talk op-msg' data-timestamp='1542739440' id='641287'>
<a class='timestamp' href='#641287'><time timestamp='2018-11-20T18:44:00Z'>18:44</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Oh wait, it doesn&#x27;t move the RPC port? Ok, that is <u>_really_</u> confusing :-)
<br>
</div>

<div class='talk op-msg' data-timestamp='1542739440' id='641288'>
<a class='timestamp' href='#641288'><time timestamp='2018-11-20T18:44:00Z'>18:44</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sigh
<br>
</div>

<div class='talk op-msg' data-timestamp='1542739440' id='641289'>
<a class='timestamp' href='#641289'><time timestamp='2018-11-20T18:44:00Z'>18:44</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
rpcport sets the HTTP listen port
<br>
</div>

<div class='talk op-msg' data-timestamp='1542739440' id='641290'>
<a class='timestamp' href='#641290'><time timestamp='2018-11-20T18:44:00Z'>18:44</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
both RPC and REST use HTTP
<br>
</div>

<div class='talk op-msg' data-timestamp='1542739440' id='641291'>
<a class='timestamp' href='#641291'><time timestamp='2018-11-20T18:44:00Z'>18:44</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and you shouldn&#x27;t expose either to the internet
<br>
</div>

<div class='talk op-msg' data-timestamp='1542739500' id='641292'>
<a class='timestamp' href='#641292'><time timestamp='2018-11-20T18:45:00Z'>18:45</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
only the P2P interface is designed to be DoS resilient
<br>
</div>

<div class='talk op-msg' data-timestamp='1542739500' id='641293'>
<a class='timestamp' href='#641293'><time timestamp='2018-11-20T18:45:00Z'>18:45</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Ok, but DoS is a different threat than someone gaining RPC control.
<br>
</div>

<div class='talk op-msg' data-timestamp='1542739560' id='641294'>
<a class='timestamp' href='#641294'><time timestamp='2018-11-20T18:46:00Z'>18:46</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sure
<br>
</div>

<div class='talk op-msg' data-timestamp='1542739560' id='641295'>
<a class='timestamp' href='#641295'><time timestamp='2018-11-20T18:46:00Z'>18:46</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but neither are designed to be exposed to the internet
<br>
</div>

<div class='talk op-msg' data-timestamp='1542740040' id='641296'>
<a class='timestamp' href='#641296'><time timestamp='2018-11-20T18:54:00Z'>18:54</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it would be fully possible to start multiple http servers, and have rpc run on one and rest on the other, though I doubt it&#x27;s going to be a feature that sees much use
<br>
</div>

<div class='talk op-msg' data-timestamp='1542740100' id='641297'>
<a class='timestamp' href='#641297'><time timestamp='2018-11-20T18:55:00Z'>18:55</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
I think it would be less confusing if it was a seperate server with its own port, but for this ticket that doesn&#x27;t matter. The trick is just to only add CORS stuff to /rest/* so we don&#x27;t have to worry about the phishing scenario I described.
<br>
</div>

<div class='talk op-msg' data-timestamp='1542740100' id='641298'>
<a class='timestamp' href='#641298'><time timestamp='2018-11-20T18:55:00Z'>18:55</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
<b>*if*</b> you want to expose anything to the internet you&#x27;re going to want to put an nginx server or such in front, which would filter what URLs are allowed
<br>
</div>

<div class='talk op-msg' data-timestamp='1542740160' id='641299'>
<a class='timestamp' href='#641299'><time timestamp='2018-11-20T18:56:00Z'>18:56</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I don&#x27;t see how it&#x27;s confusing, it has been like this since the beginning and AFAIK it&#x27;s all documented <b>*shrugs*</b>
<br>
</div>

<div class='talk op-msg' data-timestamp='1542740220' id='641300'>
<a class='timestamp' href='#641300'><time timestamp='2018-11-20T18:57:00Z'>18:57</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
provoostenator: why do you need CORS on REST?
<br>
</div>

<div class='talk op-msg' data-timestamp='1542740220' id='641301'>
<a class='timestamp' href='#641301'><time timestamp='2018-11-20T18:57:00Z'>18:57</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
that sounds really scary
<br>
</div>

<div class='talk op-msg' data-timestamp='1542740280' id='641302'>
<a class='timestamp' href='#641302'><time timestamp='2018-11-20T18:58:00Z'>18:58</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Well that&#x27;s the point of that PR, which we could debate in general.
<br>
</div>

<div class='talk op-msg' data-timestamp='1542740280' id='641303'>
<a class='timestamp' href='#641303'><time timestamp='2018-11-20T18:58:00Z'>18:58</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i thought it was about something something browser security (i don&#x27;t understand browsers, this may be my misunderstanding)
<br>
</div>

<div class='talk op-msg' data-timestamp='1542740280' id='641304'>
<a class='timestamp' href='#641304'><time timestamp='2018-11-20T18:58:00Z'>18:58</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but for REST there is no security needed
<br>
</div>

<div class='talk op-msg' data-timestamp='1542740340' id='641305'>
<a class='timestamp' href='#641305'><time timestamp='2018-11-20T18:59:00Z'>18:59</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
At the moment browsers refuse to connect to the REST RPC via JSON.
<br>
</div>

<div class='talk op-msg' data-timestamp='1542740340' id='641306'>
<a class='timestamp' href='#641306'><time timestamp='2018-11-20T18:59:00Z'>18:59</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it&#x27;d be about letting websites make requests to the local bitcoind instance, hence &#x27;cross-origin&#x27;
<br>
</div>

<div class='talk op-msg' data-timestamp='1542740340' id='641307'>
<a class='timestamp' href='#641307'><time timestamp='2018-11-20T18:59:00Z'>18:59</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I think that&#x27;s completely ill-advices
<br>
</div>

<div class='talk op-msg' data-timestamp='1542740340' id='641308'>
<a class='timestamp' href='#641308'><time timestamp='2018-11-20T18:59:00Z'>18:59</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ah, it&#x27;s permitting something, not denying something
<br>
</div>

<div class='talk op-msg' data-timestamp='1542740340' id='641309'>
<a class='timestamp' href='#641309'><time timestamp='2018-11-20T18:59:00Z'>18:59</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
right
<br>
</div>

<div class='talk op-msg' data-timestamp='1542740340' id='641310'>
<a class='timestamp' href='#641310'><time timestamp='2018-11-20T18:59:00Z'>18:59</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1542740340' id='641311'>
<a class='timestamp' href='#641311'><time timestamp='2018-11-20T18:59:00Z'>18:59</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i see
<br>
</div>

<div class='talk op-msg' data-timestamp='1542740400' id='641312'>
<a class='timestamp' href='#641312'><time timestamp='2018-11-20T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
I don&#x27;t see any downside with read-only access.
<br>
</div>

<div class='talk op-msg' data-timestamp='1542740400' id='641313'>
<a class='timestamp' href='#641313'><time timestamp='2018-11-20T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
permitting sites to access REST sounds much less scary than letting them access RPC though
<br>
</div>

<div class='talk op-msg' data-timestamp='1542740400' id='641314'>
<a class='timestamp' href='#641314'><time timestamp='2018-11-20T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it increases the attack surface to any random website
<br>
</div>

<div class='talk op-msg' data-timestamp='1542740400' id='641315'>
<a class='timestamp' href='#641315'><time timestamp='2018-11-20T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
That&#x27;s true.
<br>
</div>

<div class='talk op-msg' data-timestamp='1542740400' id='641316'>
<a class='timestamp' href='#641316'><time timestamp='2018-11-20T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
what if it&#x27;s not really read-only but there is some bug in the REST code or a heartbleed-kind of bug that exposes memory and private keys or whoknowswhat
<br>
</div>

<div class='talk op-msg' data-timestamp='1542740460' id='641317'>
<a class='timestamp' href='#641317'><time timestamp='2018-11-20T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I really prefer not having that kind of stuff in bitcoind, sorry
<br>
</div>

<div class='talk op-msg' data-timestamp='1542740460' id='641318'>
<a class='timestamp' href='#641318'><time timestamp='2018-11-20T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
I guess that begs the question why this REST service exists in the first place.
<br>
</div>

<div class='talk op-msg' data-timestamp='1542740460' id='641319'>
<a class='timestamp' href='#641319'><time timestamp='2018-11-20T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it&#x27;s a fast way of accessing bitcoind&#x27;s state
<br>
</div>

<div class='talk op-msg' data-timestamp='1542740520' id='641320'>
<a class='timestamp' href='#641320'><time timestamp='2018-11-20T19:02:00Z'>19:02</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
no need for JSON parsing and formatting, it can give various binary objects directly
<br>
</div>

<div class='talk op-msg' data-timestamp='1542740520' id='641321'>
<a class='timestamp' href='#641321'><time timestamp='2018-11-20T19:02:00Z'>19:02</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
also it can work without autentication for <b>*local*</b> programs, which is useful
<br>
</div>

<div class='talk op-msg' data-timestamp='1542740520' id='641322'>
<a class='timestamp' href='#641322'><time timestamp='2018-11-20T19:02:00Z'>19:02</time></a>
&lt;<span class='nick nick-5'> jarthur</span>&gt;
Yea, and that&#x27;s a big plus. In sidecar services that need to parse the blockchain from a node, so much CPU time is spent on JSON parsing when using the RPC api.
<br>
</div>

<div class='talk op-msg' data-timestamp='1542740580' id='641323'>
<a class='timestamp' href='#641323'><time timestamp='2018-11-20T19:03:00Z'>19:03</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
that doesn&#x27;t mean you&#x27;d want to either expose it to the whole internet, or to every website in a browser
<br>
</div>

<div class='talk op-msg' data-timestamp='1542740640' id='641324'>
<a class='timestamp' href='#641324'><time timestamp='2018-11-20T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
that&#x27;d instantly lift any vulnerability from local-only and limited scope to, pretty much, rce
<br>
</div>

<div class='talk op-msg' data-timestamp='1542740640' id='641325'>
<a class='timestamp' href='#641325'><time timestamp='2018-11-20T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
same for DoS
<br>
</div>

<div class='talk op-msg' data-timestamp='1542740640' id='641326'>
<a class='timestamp' href='#641326'><time timestamp='2018-11-20T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
So it&#x27;s for fast queries by semi-trusted software.
<br>
</div>

<div class='talk op-msg' data-timestamp='1542740700' id='641327'>
<a class='timestamp' href='#641327'><time timestamp='2018-11-20T19:05:00Z'>19:05</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1542740700' id='641328'>
<a class='timestamp' href='#641328'><time timestamp='2018-11-20T19:05:00Z'>19:05</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
That makes sense. It might be good to document that intention to set expectations: <a href="https://github.com/bitcoin/bitcoin/blob/master/doc/REST-interface.md" class="link" target="_blank">https://github.com/bitcoin/bitcoin/blob/master/doc/REST-interface.md</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1542740700' id='641329'>
<a class='timestamp' href='#641329'><time timestamp='2018-11-20T19:05:00Z'>19:05</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
or say, at most internal to your company if you bind on a local network interface and know what you&#x27;re doing
<br>
</div>

<div class='talk op-msg' data-timestamp='1542740820' id='641330'>
<a class='timestamp' href='#641330'><time timestamp='2018-11-20T19:07:00Z'>19:07</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
bitcoind&#x27;s P2P interface is the only interface that is hardened for public internet access, and even there improvements are certainly possible
<br>
</div>

<div class='talk op-msg' data-timestamp='1542740820' id='641331'>
<a class='timestamp' href='#641331'><time timestamp='2018-11-20T19:07:00Z'>19:07</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
provoostenator: that sounds like a good idea
<br>
</div>

<div class='talk op-msg' data-timestamp='1542740820' id='641332'>
<a class='timestamp' href='#641332'><time timestamp='2018-11-20T19:07:00Z'>19:07</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1542740820' id='641333'>
<a class='timestamp' href='#641333'><time timestamp='2018-11-20T19:07:00Z'>19:07</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
would be good to document that better
<br>
</div>

<div class='talk op-msg' data-timestamp='1542740880' id='641334'>
<a class='timestamp' href='#641334'><time timestamp='2018-11-20T19:08:00Z'>19:08</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
wumpus: so, in fairness, the issue of exposing REST to browsers (or any local program running untrusted code) already exists, and it&#x27;s only through browsers&#x27; self-restraint that this is somewhat curbed
<br>
</div>

<div class='talk op-msg' data-timestamp='1542740940' id='641335'>
<a class='timestamp' href='#641335'><time timestamp='2018-11-20T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i don&#x27;t think CORS makes things any worse, it&#x27;s just a question of whether we should treat browsers accessing REST as a supported/recommended practice
<br>
</div>

<div class='talk op-msg' data-timestamp='1542741000' id='641336'>
<a class='timestamp' href='#641336'><time timestamp='2018-11-20T19:10:00Z'>19:10</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and in general i think the answer is no, but perhaps for a company&#x27;s internal site it makes sense
<br>
</div>

<div class='talk op-msg' data-timestamp='1542741060' id='641337'>
<a class='timestamp' href='#641337'><time timestamp='2018-11-20T19:11:00Z'>19:11</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
at least so long as REST is merely a DOS/RCE vector and not intentionally given access to anything too interesting it&#x27;s not as big a deal.
<br>
</div>

<div class='talk op-msg' data-timestamp='1542741060' id='641338'>
<a class='timestamp' href='#641338'><time timestamp='2018-11-20T19:11:00Z'>19:11</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
don&#x27;t want to repeat ethereum&#x27;s mistakes.
<br>
</div>

<div class='talk op-msg' data-timestamp='1542741180' id='641339'>
<a class='timestamp' href='#641339'><time timestamp='2018-11-20T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
sipa: <b>*everything*</b> is due to browser&#x27;s self restraint, any security at all, if javascript would run unrestricted it would be really bad
<br>
</div>

<div class='talk op-msg' data-timestamp='1542741240' id='641340'>
<a class='timestamp' href='#641340'><time timestamp='2018-11-20T19:14:00Z'>19:14</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
and sure, there could be an option to add CORS headers for specific sites
<br>
</div>

<div class='talk op-msg' data-timestamp='1542741240' id='641341'>
<a class='timestamp' href='#641341'><time timestamp='2018-11-20T19:14:00Z'>19:14</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
the PR lets you configure domains
<br>
</div>

<div class='talk op-msg' data-timestamp='1542741240' id='641342'>
<a class='timestamp' href='#641342'><time timestamp='2018-11-20T19:14:00Z'>19:14</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
if anyone is going to use that and test that
<br>
</div>

<div class='talk op-msg' data-timestamp='1542741240' id='641343'>
<a class='timestamp' href='#641343'><time timestamp='2018-11-20T19:14:00Z'>19:14</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I&#x27;m just afraid of scope creep, as you know
<br>
</div>

<div class='talk op-msg' data-timestamp='1542741300' id='641344'>
<a class='timestamp' href='#641344'><time timestamp='2018-11-20T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
wumpus: i understand, but my point is that this isn&#x27;t really restricted to browsers; the issue exists equally for say someone running an untrusted VM image that makes a connection to the host network
<br>
</div>

<div class='talk op-msg' data-timestamp='1542741300' id='641345'>
<a class='timestamp' href='#641345'><time timestamp='2018-11-20T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
look, there&#x27;s this concern we haven&#x27;t even ever <b>*thought*</b> about and suddenly it needs to be considered in bitcoin core
<br>
</div>

<div class='talk op-msg' data-timestamp='1542741300' id='641346'>
<a class='timestamp' href='#641346'><time timestamp='2018-11-20T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
so our job should be to make sure that by default, these things aren&#x27;t a concern, and document them well
<br>
</div>

<div class='talk op-msg' data-timestamp='1542741360' id='641347'>
<a class='timestamp' href='#641347'><time timestamp='2018-11-20T19:16:00Z'>19:16</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes, okay, the general case where peopel run untrusted software that can access local network, it&#x27;s not possible to protect against that
<br>
</div>

<div class='talk op-msg' data-timestamp='1542741360' id='641348'>
<a class='timestamp' href='#641348'><time timestamp='2018-11-20T19:16:00Z'>19:16</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Someone who really wants this could add an nginx server that just adds the header etc.
<br>
</div>

<div class='talk op-msg' data-timestamp='1542741360' id='641349'>
<a class='timestamp' href='#641349'><time timestamp='2018-11-20T19:16:00Z'>19:16</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
(i&#x27;m not arguing in favor of the CORS PR; I don&#x27;t understand the use cases well enough, it just sounds to me that if remote access from local software is a problem, the solution is elsewhere)
<br>
</div>

<div class='talk op-msg' data-timestamp='1542741420' id='641350'>
<a class='timestamp' href='#641350'><time timestamp='2018-11-20T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
remote access from random websites that the user opens in their browser is a problem
<br>
</div>

<div class='talk op-msg' data-timestamp='1542741420' id='641351'>
<a class='timestamp' href='#641351'><time timestamp='2018-11-20T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
&#x27;remote&#x27; I mean, it&#x27;s effectively local, the browser protects that using CORS
<br>
</div>

<div class='talk op-msg' data-timestamp='1542741480' id='641352'>
<a class='timestamp' href='#641352'><time timestamp='2018-11-20T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i mean things like by default not exposing REST, not exposing RPC port publicly, not having a trivial RPC username/password are all protections against this
<br>
</div>

<div class='talk op-msg' data-timestamp='1542741480' id='641353'>
<a class='timestamp' href='#641353'><time timestamp='2018-11-20T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Scope creep is a nice thing to prevent. Even having to explain in documentation what the pitfalls of CORS are, and keep track of that, is overhead.
<br>
</div>

<div class='talk op-msg' data-timestamp='1542741480' id='641354'>
<a class='timestamp' href='#641354'><time timestamp='2018-11-20T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sipa: to be fair &#x27;VM sandbox that has network access as localhost&#x27; is kind of a special case that applies to FAR fewer users than &quot;I run a browser&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1542741540' id='641355'>
<a class='timestamp' href='#641355'><time timestamp='2018-11-20T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
wumpus: also, unix domain sockets instead of TCP/IP for RPC would be an improvement
<br>
</div>

<div class='talk op-msg' data-timestamp='1542741540' id='641356'>
<a class='timestamp' href='#641356'><time timestamp='2018-11-20T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
so it&#x27;s at least restricted to the same user on the same machine
<br>
</div>

<div class='talk op-msg' data-timestamp='1542741540' id='641357'>
<a class='timestamp' href='#641357'><time timestamp='2018-11-20T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-5'> jarthur</span>&gt;
Yea, someone just needs to find time to finish that out.
<br>
</div>

<div class='talk op-msg' data-timestamp='1542741600' id='641358'>
<a class='timestamp' href='#641358'><time timestamp='2018-11-20T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-5'> jarthur</span>&gt;
Maybe I&#x27;ll get some time this weekend if no one else is working on it
<br>
</div>

<div class='talk op-msg' data-timestamp='1542741660' id='641359'>
<a class='timestamp' href='#641359'><time timestamp='2018-11-20T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes unix domain sockets would be great, I should rebase that some time
<br>
</div>

<div class='talk op-msg' data-timestamp='1542741660' id='641360'>
<a class='timestamp' href='#641360'><time timestamp='2018-11-20T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
or someone else :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1542742500' id='641361'>
<a class='timestamp' href='#641361'><time timestamp='2018-11-20T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Unix domain sockets also to get data in other formats than JSON (so you don&#x27;t need the REST API at all)?
<br>
</div>

<div class='talk op-msg' data-timestamp='1542742800' id='641362'>
<a class='timestamp' href='#641362'><time timestamp='2018-11-20T19:40:00Z'>19:40</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it&#x27;d be the same http server just over a different socket
<br>
</div>

<div class='talk op-msg' data-timestamp='1542742860' id='641363'>
<a class='timestamp' href='#641363'><time timestamp='2018-11-20T19:41:00Z'>19:41</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
not a completely different API
<br>
</div>

<div class='talk op-msg' data-timestamp='1542744360' id='641364'>
<a class='timestamp' href='#641364'><time timestamp='2018-11-20T20:06:00Z'>20:06</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] vim88 closed pull request #14753: Refactor: Changes postincrement to preincrement for iterator in for loops in src/wallet files (master...postincrement_to_preincrement_src_wallet) <a href="https://github.com/bitcoin/bitcoin/pull/14753" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/14753</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1542744960' id='641365'>
<a class='timestamp' href='#641365'><time timestamp='2018-11-20T20:16:00Z'>20:16</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
promag: &gt; do we have tests to concurrently call RPC to the same node?
<br>
</div>

<div class='talk op-msg' data-timestamp='1542744960' id='641366'>
<a class='timestamp' href='#641366'><time timestamp='2018-11-20T20:16:00Z'>20:16</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
yes: check mining_getblocktemplate_longpoll.py
<br>
</div>

<div class='talk op-msg' data-timestamp='1542744960' id='641367'>
<a class='timestamp' href='#641367'><time timestamp='2018-11-20T20:16:00Z'>20:16</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
jnewbery: hi, yap saw that
<br>
</div>

<div class='talk op-msg' data-timestamp='1542745020' id='641368'>
<a class='timestamp' href='#641368'><time timestamp='2018-11-20T20:17:00Z'>20:17</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
see #14670
<br>
</div>

<div class='talk op-msg' data-timestamp='1542745020' id='641369'>
<a class='timestamp' href='#641369'><time timestamp='2018-11-20T20:17:00Z'>20:17</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/14670" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/14670</a> | http: Fix HTTP server shutdown by promag · Pull Request #14670 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1542745020' id='641370'>
<a class='timestamp' href='#641370'><time timestamp='2018-11-20T20:17:00Z'>20:17</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
If you want to do similar in a new test, I recommend you take the LongPoll thread class and lift it into TestNode
<br>
</div>

<div class='talk op-msg' data-timestamp='1542745020' id='641371'>
<a class='timestamp' href='#641371'><time timestamp='2018-11-20T20:17:00Z'>20:17</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/pull/14670/files#diff-9ee18e00fd5f5f1444ba12e8e1378e6a" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/14670/files#diff-9ee18e00fd5f5f1444ba12e8e1378e6a</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1542745080' id='641372'>
<a class='timestamp' href='#641372'><time timestamp='2018-11-20T20:18:00Z'>20:18</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
leave a comment there please, bbl
<br>
</div>

<div class='talk op-msg' data-timestamp='1542757260' id='641373'>
<a class='timestamp' href='#641373'><time timestamp='2018-11-20T23:41:00Z'>23:41</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke opened pull request #14771: test: Add BOOST_REQUIRE to getters returning optional (master...Mf1811-testNoDiscard) <a href="https://github.com/bitcoin/bitcoin/pull/14771" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/14771</a>
<br>
</div>

</div>
</section>

</body>
</html>
