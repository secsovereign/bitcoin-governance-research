<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2015-12-28
 â€” 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2015-12-28' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:27 UTC</pre>
<pre><a href="/bitcoin-core-dev/2015-11-28">&lt;</a><span class='header'>  December 2015   </span><a href="/bitcoin-core-dev/2016-01-28">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;       <a class="" href="/bitcoin-core-dev/2015-12-01">1</a>  <a class="" href="/bitcoin-core-dev/2015-12-02">2</a>  <a class="" href="/bitcoin-core-dev/2015-12-03">3</a>  <a class="" href="/bitcoin-core-dev/2015-12-04">4</a>  <a class="" href="/bitcoin-core-dev/2015-12-05">5</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2015-12-06">6</a>  <a class="" href="/bitcoin-core-dev/2015-12-07">7</a>  <a class="" href="/bitcoin-core-dev/2015-12-08">8</a>  <a class="" href="/bitcoin-core-dev/2015-12-09">9</a> <a class="" href="/bitcoin-core-dev/2015-12-10">10</a> <a class="" href="/bitcoin-core-dev/2015-12-11">11</a> <a class="" href="/bitcoin-core-dev/2015-12-12">12</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2015-12-13">13</a> <a class="" href="/bitcoin-core-dev/2015-12-14">14</a> <a class="" href="/bitcoin-core-dev/2015-12-15">15</a> <a class="" href="/bitcoin-core-dev/2015-12-16">16</a> <a class="" href="/bitcoin-core-dev/2015-12-17">17</a> <a class="" href="/bitcoin-core-dev/2015-12-18">18</a> <a class="" href="/bitcoin-core-dev/2015-12-19">19</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2015-12-20">20</a> <a class="" href="/bitcoin-core-dev/2015-12-21">21</a> <a class="" href="/bitcoin-core-dev/2015-12-22">22</a> <a class="" href="/bitcoin-core-dev/2015-12-23">23</a> <a class="" href="/bitcoin-core-dev/2015-12-24">24</a> <a class="" href="/bitcoin-core-dev/2015-12-25">25</a> <a class="" href="/bitcoin-core-dev/2015-12-26">26</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2015-12-27">27</a> <a class="current" href="/bitcoin-core-dev/2015-12-28">28</a> <a class="" href="/bitcoin-core-dev/2015-12-29">29</a> <a class="" href="/bitcoin-core-dev/2015-12-30">30</a> <a class="" href="/bitcoin-core-dev/2015-12-31">31</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1451261580' id='445824'>
<a class='timestamp' href='#445824'><time timestamp='2015-12-28T00:13:00Z'>00:13</time></a>
&lt;<span class='nick nick-2'> Luke-Jr</span>&gt;
sipa: indeed, I think the decision whether to translate or not really lies with the target languag
<br>
</div>

<div class='talk op-msg' data-timestamp='1451261640' id='445825'>
<a class='timestamp' href='#445825'><time timestamp='2015-12-28T00:14:00Z'>00:14</time></a>
&lt;<span class='nick nick-2'> Luke-Jr</span>&gt;
when it is inappropriate, the translators can just leave it as-is
<br>
</div>

<div class='talk op-msg' data-timestamp='1451308800' id='445826'>
<a class='timestamp' href='#445826'><time timestamp='2015-12-28T13:20:00Z'>13:20</time></a>
&lt;<span class='nick nick-2'> Luke-Jr</span>&gt;
anyone happen to remember what the whitelist-peer hack is needed to get RPC tests to pass on 0.10/0.11? :/
<br>
</div>

<div class='talk op-msg' data-timestamp='1451329140' id='445827'>
<a class='timestamp' href='#445827'><time timestamp='2015-12-28T18:59:00Z'>18:59</time></a>
&lt;<span class='nick nick-15'> jayd3e</span>&gt;
I&#x27;m receiving this error &quot;scheduler.h:14:35: fatal error: boost/chrono/chrono.hpp: No such file or directory&quot;, even though I have installed libboost-dev-all
<br>
</div>

<div class='talk op-msg' data-timestamp='1451329200' id='445828'>
<a class='timestamp' href='#445828'><time timestamp='2015-12-28T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-15'> jayd3e</span>&gt;
followed the directions for 12.04 exactly
<br>
</div>

<div class='talk op-msg' data-timestamp='1451329200' id='445829'>
<a class='timestamp' href='#445829'><time timestamp='2015-12-28T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
jayd3e, iirc chrono is missing in older versions of ubuntu
<br>
</div>

<div class='talk op-msg' data-timestamp='1451329260' id='445830'>
<a class='timestamp' href='#445830'><time timestamp='2015-12-28T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-15'> jayd3e</span>&gt;
so use 14.04?
<br>
</div>

<div class='talk op-msg' data-timestamp='1451329320' id='445831'>
<a class='timestamp' href='#445831'><time timestamp='2015-12-28T19:02:00Z'>19:02</time></a>
&lt;<span class='nick nick-15'> jayd3e</span>&gt;
phantomcircuit: 
<br>
</div>

<div class='talk op-msg' data-timestamp='1451329320' id='445832'>
<a class='timestamp' href='#445832'><time timestamp='2015-12-28T19:02:00Z'>19:02</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
jayd3e, sorry i dont know which ubuntu versions will work
<br>
</div>

<div class='talk op-msg' data-timestamp='1451329320' id='445833'>
<a class='timestamp' href='#445833'><time timestamp='2015-12-28T19:02:00Z'>19:02</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
i dont think 12.04 will though
<br>
</div>

<div class='talk op-msg' data-timestamp='1451329320' id='445834'>
<a class='timestamp' href='#445834'><time timestamp='2015-12-28T19:02:00Z'>19:02</time></a>
&lt;<span class='nick nick-15'> jayd3e</span>&gt;
kk
<br>
</div>

<div class='talk op-msg' data-timestamp='1451339940' id='445835'>
<a class='timestamp' href='#445835'><time timestamp='2015-12-28T21:59:00Z'>21:59</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
CodeShark: sorry, dirty way of getting your attention
<br>
</div>

<div class='talk op-msg' data-timestamp='1451340000' id='445836'>
<a class='timestamp' href='#445836'><time timestamp='2015-12-28T22:00:00Z'>22:00</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
No worries :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1451340000' id='445837'>
<a class='timestamp' href='#445837'><time timestamp='2015-12-28T22:00:00Z'>22:00</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
Are we still trying to get this rolled out as the next soft fork
<br>
</div>

<div class='talk op-msg' data-timestamp='1451340000' id='445838'>
<a class='timestamp' href='#445838'><time timestamp='2015-12-28T22:00:00Z'>22:00</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
if so we should be concentrating core development effort on all of these things so we can show progress.  versionbits, BIP68/CSV, segwit
<br>
</div>

<div class='talk op-msg' data-timestamp='1451340060' id='445839'>
<a class='timestamp' href='#445839'><time timestamp='2015-12-28T22:01:00Z'>22:01</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
but there doesn&#x27;t seem to have been any movement on the versionbits PR for quite some time
<br>
</div>

<div class='talk op-msg' data-timestamp='1451340060' id='445840'>
<a class='timestamp' href='#445840'><time timestamp='2015-12-28T22:01:00Z'>22:01</time></a>
&lt;<span class='nick nick-6'> btcdrak</span>&gt;
who is doing the final implementation now, CodeShark or rusty?
<br>
</div>

<div class='talk op-msg' data-timestamp='1451340060' id='445841'>
<a class='timestamp' href='#445841'><time timestamp='2015-12-28T22:01:00Z'>22:01</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
oh
<br>
</div>

<div class='talk op-msg' data-timestamp='1451340060' id='445842'>
<a class='timestamp' href='#445842'><time timestamp='2015-12-28T22:01:00Z'>22:01</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
see i didn&#x27;t know about that
<br>
</div>

<div class='talk op-msg' data-timestamp='1451340060' id='445843'>
<a class='timestamp' href='#445843'><time timestamp='2015-12-28T22:01:00Z'>22:01</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
I think the segwit testnet has taken priority right now
<br>
</div>

<div class='talk op-msg' data-timestamp='1451340060' id='445844'>
<a class='timestamp' href='#445844'><time timestamp='2015-12-28T22:01:00Z'>22:01</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
is there a different implementation?
<br>
</div>

<div class='talk op-msg' data-timestamp='1451340060' id='445845'>
<a class='timestamp' href='#445845'><time timestamp='2015-12-28T22:01:00Z'>22:01</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
is that something that is being worked on?
<br>
</div>

<div class='talk op-msg' data-timestamp='1451340120' id='445846'>
<a class='timestamp' href='#445846'><time timestamp='2015-12-28T22:02:00Z'>22:02</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
i asked sipa about that earlier and he didn&#x27;t reply
<br>
</div>

<div class='talk op-msg' data-timestamp='1451340120' id='445847'>
<a class='timestamp' href='#445847'><time timestamp='2015-12-28T22:02:00Z'>22:02</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
where is that happening?
<br>
</div>

<div class='talk op-msg' data-timestamp='1451340120' id='445848'>
<a class='timestamp' href='#445848'><time timestamp='2015-12-28T22:02:00Z'>22:02</time></a>
&lt;<span class='nick nick-6'> btcdrak</span>&gt;
morcos: even if versionbits was not ready we can still deploy using ISM though...
<br>
</div>

<div class='talk op-msg' data-timestamp='1451340180' id='445849'>
<a class='timestamp' href='#445849'><time timestamp='2015-12-28T22:03:00Z'>22:03</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
morcos: and there&#x27;s still my pseudo-versionbits proposal that we can use too
<br>
</div>

<div class='talk op-msg' data-timestamp='1451340180' id='445850'>
<a class='timestamp' href='#445850'><time timestamp='2015-12-28T22:03:00Z'>22:03</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
sure i agree we don&#x27;t have to have versionbits before segwit
<br>
</div>

<div class='talk op-msg' data-timestamp='1451340180' id='445851'>
<a class='timestamp' href='#445851'><time timestamp='2015-12-28T22:03:00Z'>22:03</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
i just thought that was what wumpus laid out in his plan
<br>
</div>

<div class='talk op-msg' data-timestamp='1451340240' id='445852'>
<a class='timestamp' href='#445852'><time timestamp='2015-12-28T22:04:00Z'>22:04</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
also, for the record, I would NACK segwit myself without a validationless mining fix
<br>
</div>

<div class='talk op-msg' data-timestamp='1451340300' id='445853'>
<a class='timestamp' href='#445853'><time timestamp='2015-12-28T22:05:00Z'>22:05</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
wanna help implement that, petertodd?
<br>
</div>

<div class='talk op-msg' data-timestamp='1451340360' id='445854'>
<a class='timestamp' href='#445854'><time timestamp='2015-12-28T22:06:00Z'>22:06</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
CodeShark: yes, but note that I have no funding right now for core dev work, so I can&#x27;t promise anything
<br>
</div>

<div class='talk op-msg' data-timestamp='1451340420' id='445855'>
<a class='timestamp' href='#445855'><time timestamp='2015-12-28T22:07:00Z'>22:07</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
CodeShark: that said, I&#x27;m fairly certainly I&#x27;ll be able to get some soon
<br>
</div>

<div class='talk op-msg' data-timestamp='1451340420' id='445856'>
<a class='timestamp' href='#445856'><time timestamp='2015-12-28T22:07:00Z'>22:07</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
the short-term objective is to deploy a functional testnet without all the intended features and to set up a framework for adding more features
<br>
</div>

<div class='talk op-msg' data-timestamp='1451340480' id='445857'>
<a class='timestamp' href='#445857'><time timestamp='2015-12-28T22:08:00Z'>22:08</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
CodeShark: makes sense to me
<br>
</div>

<div class='talk op-msg' data-timestamp='1451340660' id='445858'>
<a class='timestamp' href='#445858'><time timestamp='2015-12-28T22:11:00Z'>22:11</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
deployment to mainnet is still at least another couple months away, I&#x27;d say...once we near that we can figure out which activation mechanism we&#x27;ll use
<br>
</div>

<div class='talk op-msg' data-timestamp='1451340660' id='445859'>
<a class='timestamp' href='#445859'><time timestamp='2015-12-28T22:11:00Z'>22:11</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
So versionbits is now on the backburner
<br>
</div>

<div class='talk op-msg' data-timestamp='1451340840' id='445860'>
<a class='timestamp' href='#445860'><time timestamp='2015-12-28T22:14:00Z'>22:14</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
If you have some extra time and want to dig in, petertodd, I&#x27;d love to hear your suggestions
<br>
</div>

<div class='talk op-msg' data-timestamp='1451340900' id='445861'>
<a class='timestamp' href='#445861'><time timestamp='2015-12-28T22:15:00Z'>22:15</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
CodeShark: well, I&#x27;ll see that I can do
<br>
</div>

<div class='talk op-msg' data-timestamp='1451341080' id='445862'>
<a class='timestamp' href='#445862'><time timestamp='2015-12-28T22:18:00Z'>22:18</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
 /window 24
<br>
</div>

<div class='talk op-msg' data-timestamp='1451341080' id='445863'>
<a class='timestamp' href='#445863'><time timestamp='2015-12-28T22:18:00Z'>22:18</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
oops
<br>
</div>

<div class='talk op-msg' data-timestamp='1451341620' id='445864'>
<a class='timestamp' href='#445864'><time timestamp='2015-12-28T22:27:00Z'>22:27</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
petertodd: your suggestion is easy to implement for consensus rules; i just worry about the logic needed to get mining software to support it
<br>
</div>

<div class='talk op-msg' data-timestamp='1451341620' id='445865'>
<a class='timestamp' href='#445865'><time timestamp='2015-12-28T22:27:00Z'>22:27</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
anything that changes the coinbase outputs needs extra logic
<br>
</div>

<div class='talk op-msg' data-timestamp='1451341680' id='445866'>
<a class='timestamp' href='#445866'><time timestamp='2015-12-28T22:28:00Z'>22:28</time></a>
&lt;<span class='nick nick-6'> btcdrak</span>&gt;
CodeShark: what about rusty, he has code done also.
<br>
</div>

<div class='talk op-msg' data-timestamp='1451341680' id='445867'>
<a class='timestamp' href='#445867'><time timestamp='2015-12-28T22:28:00Z'>22:28</time></a>
&lt;<span class='nick nick-6'> btcdrak</span>&gt;
oh wait, wrong conversion :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1451341800' id='445868'>
<a class='timestamp' href='#445868'><time timestamp='2015-12-28T22:30:00Z'>22:30</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: I&#x27;m not suggesting changing the coinbase outputs, just committing to something calculated form them
<br>
</div>

<div class='talk op-msg' data-timestamp='1451341860' id='445869'>
<a class='timestamp' href='#445869'><time timestamp='2015-12-28T22:31:00Z'>22:31</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: equaly, the idea probably would work even without the coinbase output commitment
<br>
</div>

<div class='talk op-msg' data-timestamp='1451341860' id='445870'>
<a class='timestamp' href='#445870'><time timestamp='2015-12-28T22:31:00Z'>22:31</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: important thing is that miners never soft-fork in a commitment to the prior-block possession proof in the prior block
<br>
</div>

<div class='talk op-msg' data-timestamp='1451341920' id='445871'>
<a class='timestamp' href='#445871'><time timestamp='2015-12-28T22:32:00Z'>22:32</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
petertodd: you&#x27;re suggesting making block X commit to for example H(full block X-1 incl witness, X&#x27;s coinbase outouts) ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1451341980' id='445872'>
<a class='timestamp' href='#445872'><time timestamp='2015-12-28T22:33:00Z'>22:33</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
s/,/||/
<br>
</div>

<div class='talk op-msg' data-timestamp='1451341980' id='445873'>
<a class='timestamp' href='#445873'><time timestamp='2015-12-28T22:33:00Z'>22:33</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
right?
<br>
</div>

<div class='talk op-msg' data-timestamp='1451342160' id='445874'>
<a class='timestamp' href='#445874'><time timestamp='2015-12-28T22:36:00Z'>22:36</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1451342160' id='445875'>
<a class='timestamp' href='#445875'><time timestamp='2015-12-28T22:36:00Z'>22:36</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
which means that any software which computes the coinbase outouts will need updated code to compute the commitment
<br>
</div>

<div class='talk op-msg' data-timestamp='1451342220' id='445876'>
<a class='timestamp' href='#445876'><time timestamp='2015-12-28T22:37:00Z'>22:37</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: right, that&#x27;s fair
<br>
</div>

<div class='talk op-msg' data-timestamp='1451342220' id='445877'>
<a class='timestamp' href='#445877'><time timestamp='2015-12-28T22:37:00Z'>22:37</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
which for example makes the 21 computer incompatible with it
<br>
</div>

<div class='talk op-msg' data-timestamp='1451342220' id='445878'>
<a class='timestamp' href='#445878'><time timestamp='2015-12-28T22:37:00Z'>22:37</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: so maybe make it commit to H(full block X-1 + nonce) 
<br>
</div>

<div class='talk op-msg' data-timestamp='1451342220' id='445879'>
<a class='timestamp' href='#445879'><time timestamp='2015-12-28T22:37:00Z'>22:37</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ah!
<br>
</div>

<div class='talk op-msg' data-timestamp='1451342220' id='445880'>
<a class='timestamp' href='#445880'><time timestamp='2015-12-28T22:37:00Z'>22:37</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
what is nonce?
<br>
</div>

<div class='talk op-msg' data-timestamp='1451342220' id='445881'>
<a class='timestamp' href='#445881'><time timestamp='2015-12-28T22:37:00Z'>22:37</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: then soft-forking in a later committment to the coinbase outputs is possible, as is anything else
<br>
</div>

<div class='talk op-msg' data-timestamp='1451342280' id='445882'>
<a class='timestamp' href='#445882'><time timestamp='2015-12-28T22:38:00Z'>22:38</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: it&#x27;s probably ok if the nonce can be picked arbitrarily - so long as miners don&#x27;t actually soft-fork in a commitment to that commitment in the previous block, we&#x27;re ok
<br>
</div>

<div class='talk op-msg' data-timestamp='1451342280' id='445883'>
<a class='timestamp' href='#445883'><time timestamp='2015-12-28T22:38:00Z'>22:38</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: and in fact, if it&#x27;s the <b>*full*</b> block that&#x27;s impossible :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1451342340' id='445884'>
<a class='timestamp' href='#445884'><time timestamp='2015-12-28T22:39:00Z'>22:39</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i&#x27;m very interested in including solutions for this, but i think it will need input from people with more experience with mining software/hardware
<br>
</div>

<div class='talk op-msg' data-timestamp='1451342340' id='445885'>
<a class='timestamp' href='#445885'><time timestamp='2015-12-28T22:39:00Z'>22:39</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: agreed
<br>
</div>

<div class='talk op-msg' data-timestamp='1451342400' id='445886'>
<a class='timestamp' href='#445886'><time timestamp='2015-12-28T22:40:00Z'>22:40</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: part of why I want to do this now, is because I think if we <b>*don&#x27;t*</b> fix this, we will have significant pushback on fixing it later
<br>
</div>

<div class='talk op-msg' data-timestamp='1451342400' id='445887'>
<a class='timestamp' href='#445887'><time timestamp='2015-12-28T22:40:00Z'>22:40</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
petertodd: also, i think you want the full block data at the end of the hash, so you can&#x27;t compute a midstate for it
<br>
</div>

<div class='talk op-msg' data-timestamp='1451342400' id='445888'>
<a class='timestamp' href='#445888'><time timestamp='2015-12-28T22:40:00Z'>22:40</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: IE, we probably will have to allow a validationless mining alternative where you leave off the commitment, in exchange for an empty block
<br>
</div>

<div class='talk op-msg' data-timestamp='1451342460' id='445889'>
<a class='timestamp' href='#445889'><time timestamp='2015-12-28T22:41:00Z'>22:41</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: well, if the nonce is picked arbitrarily, that&#x27;s technically not an issue, but yeah, best to do H(nonce + &lt;data&gt;)
<br>
</div>

<div class='talk op-msg' data-timestamp='1451342640' id='445890'>
<a class='timestamp' href='#445890'><time timestamp='2015-12-28T22:44:00Z'>22:44</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
petertodd: i mean, you probably want to prevent a setup where someone can send a midstate of the full prevblock
<br>
</div>

<div class='talk op-msg' data-timestamp='1451342700' id='445891'>
<a class='timestamp' href='#445891'><time timestamp='2015-12-28T22:45:00Z'>22:45</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
petertodd: i think there may be significant pushback against this already; any device that decides the coinbase but leaves tx selection up to something else will now need to be burdened with full blocks, where it only needed very low bandwidth beforehand
<br>
</div>

<div class='talk op-msg' data-timestamp='1451342820' id='445892'>
<a class='timestamp' href='#445892'><time timestamp='2015-12-28T22:47:00Z'>22:47</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: well, the fact that you can do that is probably a flaw in the bitcoin protocol
<br>
</div>

<div class='talk op-msg' data-timestamp='1451342820' id='445893'>
<a class='timestamp' href='#445893'><time timestamp='2015-12-28T22:47:00Z'>22:47</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
sipa: &quot;pushback against this&quot; you mean segwit itself?
<br>
</div>

<div class='talk op-msg' data-timestamp='1451342820' id='445894'>
<a class='timestamp' href='#445894'><time timestamp='2015-12-28T22:47:00Z'>22:47</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: I&#x27;m just trying to at least get us back to thecurrent situation, where if you do validationless mining you&#x27;re trusting others
<br>
</div>

<div class='talk op-msg' data-timestamp='1451342880' id='445895'>
<a class='timestamp' href='#445895'><time timestamp='2015-12-28T22:48:00Z'>22:48</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: IE, don&#x27;t make the situation worse
<br>
</div>

<div class='talk op-msg' data-timestamp='1451342880' id='445896'>
<a class='timestamp' href='#445896'><time timestamp='2015-12-28T22:48:00Z'>22:48</time></a>
&lt;<span class='nick nick-6'> btcdrak</span>&gt;
morcos: against validationless mining fix
<br>
</div>

<div class='talk op-msg' data-timestamp='1451342880' id='445897'>
<a class='timestamp' href='#445897'><time timestamp='2015-12-28T22:48:00Z'>22:48</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
but the issue with the coinbase needing more data exists with just segwit
<br>
</div>

<div class='talk op-msg' data-timestamp='1451342940' id='445898'>
<a class='timestamp' href='#445898'><time timestamp='2015-12-28T22:49:00Z'>22:49</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
morcos: not quite - with just segwit the rest of the coinbase outputs can be picked freely
<br>
</div>

<div class='talk op-msg' data-timestamp='1451343000' id='445899'>
<a class='timestamp' href='#445899'><time timestamp='2015-12-28T22:50:00Z'>22:50</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
morcos: segwit makes the coinbase input depend on tx selection
<br>
</div>

<div class='talk op-msg' data-timestamp='1451343000' id='445900'>
<a class='timestamp' href='#445900'><time timestamp='2015-12-28T22:50:00Z'>22:50</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
petertodd: so what was the reasoning of having it commit to block X&#x27;s coinbase outputs
<br>
</div>

<div class='talk op-msg' data-timestamp='1451343000' id='445901'>
<a class='timestamp' href='#445901'><time timestamp='2015-12-28T22:50:00Z'>22:50</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
morcos: the fact that segwit allows easy mining without validating signatures
<br>
</div>

<div class='talk op-msg' data-timestamp='1451343060' id='445902'>
<a class='timestamp' href='#445902'><time timestamp='2015-12-28T22:51:00Z'>22:51</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
morcos: so, the reasoning of committing to H(nonce + prev-block-data) is to force you to have that data to be able to mine; making it H(coinbase-outputs + prev-block-data) would additionally constrain that calculation to be miner-specific
<br>
</div>

<div class='talk op-msg' data-timestamp='1451343060' id='445903'>
<a class='timestamp' href='#445903'><time timestamp='2015-12-28T22:51:00Z'>22:51</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
yes i understand why to commit to previous blocks witness, but the point of it being your coinbase in there is just to prove that the computation had to be done individually for each miner
<br>
</div>

<div class='talk op-msg' data-timestamp='1451343120' id='445904'>
<a class='timestamp' href='#445904'><time timestamp='2015-12-28T22:52:00Z'>22:52</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
right, ok
<br>
</div>

<div class='talk op-msg' data-timestamp='1451343120' id='445905'>
<a class='timestamp' href='#445905'><time timestamp='2015-12-28T22:52:00Z'>22:52</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
morcos: like I saidabove, it&#x27;s probably sufficient to just make it H(nonce+prevblockdata), and if coinbase is worth committing too we can do that later with a H(H(nonce+coinbase)+prevblockdata) softfork
<br>
</div>

<div class='talk op-msg' data-timestamp='1451343180' id='445906'>
<a class='timestamp' href='#445906'><time timestamp='2015-12-28T22:53:00Z'>22:53</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
so personally i&#x27;m not convinced of why this is so critically important, i think if you don&#x27;t have enough full nodes validating everything to keep the network honest then we&#x27;ve failed anyway.
<br>
</div>

<div class='talk op-msg' data-timestamp='1451343240' id='445907'>
<a class='timestamp' href='#445907'><time timestamp='2015-12-28T22:54:00Z'>22:54</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
the only thing from your email that i found particularly compelling though was maybe there is some gaming behind witholding your witness data
<br>
</div>

<div class='talk op-msg' data-timestamp='1451343240' id='445908'>
<a class='timestamp' href='#445908'><time timestamp='2015-12-28T22:54:00Z'>22:54</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
morcos: sure, but this makes it much easier for miners to skip validating - in practice that&#x27;ll be a major engineering risk at the very least
<br>
</div>

<div class='talk op-msg' data-timestamp='1451343240' id='445909'>
<a class='timestamp' href='#445909'><time timestamp='2015-12-28T22:54:00Z'>22:54</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
morcos: minres don&#x27;t like to do anything they don&#x27;t have too- the existing validationless mining code they run is scary enough
<br>
</div>

<div class='talk op-msg' data-timestamp='1451343240' id='445910'>
<a class='timestamp' href='#445910'><time timestamp='2015-12-28T22:54:00Z'>22:54</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
so anyway, to sipas point about pushback..  there would no additional pushback to the H(nonce + prevblockdata) approach then
<br>
</div>

<div class='talk op-msg' data-timestamp='1451343300' id='445911'>
<a class='timestamp' href='#445911'><time timestamp='2015-12-28T22:55:00Z'>22:55</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
morcos: I don&#x27;t think there would be, same kind of data needed to calculate segwit
<br>
</div>

<div class='talk op-msg' data-timestamp='1451343300' id='445912'>
<a class='timestamp' href='#445912'><time timestamp='2015-12-28T22:55:00Z'>22:55</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
(calcualte it honestly anyway)
<br>
</div>

<div class='talk op-msg' data-timestamp='1451343360' id='445913'>
<a class='timestamp' href='#445913'><time timestamp='2015-12-28T22:56:00Z'>22:56</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
petertodd: not true
<br>
</div>

<div class='talk op-msg' data-timestamp='1451343360' id='445914'>
<a class='timestamp' href='#445914'><time timestamp='2015-12-28T22:56:00Z'>22:56</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
ok, that was my original confusion
<br>
</div>

<div class='talk op-msg' data-timestamp='1451343360' id='445915'>
<a class='timestamp' href='#445915'><time timestamp='2015-12-28T22:56:00Z'>22:56</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: why not?
<br>
</div>

<div class='talk op-msg' data-timestamp='1451343360' id='445916'>
<a class='timestamp' href='#445916'><time timestamp='2015-12-28T22:56:00Z'>22:56</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
petertodd: with segwit, the code doing the tx selection needs to be able to make coinbase commitments
<br>
</div>

<div class='talk op-msg' data-timestamp='1451343420' id='445917'>
<a class='timestamp' href='#445917'><time timestamp='2015-12-28T22:57:00Z'>22:57</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
petertodd: with your proposal (the eventual one), the code doing coinbase output selection needs to be able to make coinbase commitments
<br>
</div>

<div class='talk op-msg' data-timestamp='1451343420' id='445918'>
<a class='timestamp' href='#445918'><time timestamp='2015-12-28T22:57:00Z'>22:57</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
this is already not the same hardware in some cases now
<br>
</div>

<div class='talk op-msg' data-timestamp='1451343420' id='445919'>
<a class='timestamp' href='#445919'><time timestamp='2015-12-28T22:57:00Z'>22:57</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: sure, but I mean the arbitrary nonce version - committing to the coinbae output is <b>*think*</b> optional
<br>
</div>

<div class='talk op-msg' data-timestamp='1451343420' id='445920'>
<a class='timestamp' href='#445920'><time timestamp='2015-12-28T22:57:00Z'>22:57</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
sipa: yes but we&#x27;re talking about just the H(nonce + prev) version
<br>
</div>

<div class='talk op-msg' data-timestamp='1451343420' id='445921'>
<a class='timestamp' href='#445921'><time timestamp='2015-12-28T22:57:00Z'>22:57</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
who chooses the nonce?
<br>
</div>

<div class='talk op-msg' data-timestamp='1451343480' id='445922'>
<a class='timestamp' href='#445922'><time timestamp='2015-12-28T22:58:00Z'>22:58</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: minerdoes
<br>
</div>

<div class='talk op-msg' data-timestamp='1451343480' id='445923'>
<a class='timestamp' href='#445923'><time timestamp='2015-12-28T22:58:00Z'>22:58</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: they&#x27;ll probably all choose 0x00 :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1451343480' id='445924'>
<a class='timestamp' href='#445924'><time timestamp='2015-12-28T22:58:00Z'>22:58</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
you can construct a validationless mining scheme where everyone just agrees on a constant noncr
<br>
</div>

<div class='talk op-msg' data-timestamp='1451343480' id='445925'>
<a class='timestamp' href='#445925'><time timestamp='2015-12-28T22:58:00Z'>22:58</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
*nonce
<br>
</div>

<div class='talk op-msg' data-timestamp='1451343480' id='445926'>
<a class='timestamp' href='#445926'><time timestamp='2015-12-28T22:58:00Z'>22:58</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
there are other ways you could make it unique&#x27;ish to the miner if that was important, that doesn&#x27;t depend on coinbase outputs anyway
<br>
</div>

<div class='talk op-msg' data-timestamp='1451343480' id='445927'>
<a class='timestamp' href='#445927'><time timestamp='2015-12-28T22:58:00Z'>22:58</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: no! because you don&#x27;t know for sure if the nonce the previous miner gave you with their block is actually correct, and they can&#x27;t commit to it in the block itself
<br>
</div>

<div class='talk op-msg' data-timestamp='1451343540' id='445928'>
<a class='timestamp' href='#445928'><time timestamp='2015-12-28T22:59:00Z'>22:59</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
petertodd: so?
<br>
</div>

<div class='talk op-msg' data-timestamp='1451343540' id='445929'>
<a class='timestamp' href='#445929'><time timestamp='2015-12-28T22:59:00Z'>22:59</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
they can make a deal that they have to
<br>
</div>

<div class='talk op-msg' data-timestamp='1451343540' id='445930'>
<a class='timestamp' href='#445930'><time timestamp='2015-12-28T22:59:00Z'>22:59</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: like I say, that gets us back to the status quo, where such arrangements involve trust
<br>
</div>

<div class='talk op-msg' data-timestamp='1451343600' id='445931'>
<a class='timestamp' href='#445931'><time timestamp='2015-12-28T23:00:00Z'>23:00</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: I&#x27;m certainly not claiming this isa perfect solution, but keeping at least the status quo is important
<br>
</div>

<div class='talk op-msg' data-timestamp='1451343600' id='445932'>
<a class='timestamp' href='#445932'><time timestamp='2015-12-28T23:00:00Z'>23:00</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
does segwit-without-witness-validation not give you just a weaker version of that?
<br>
</div>

<div class='talk op-msg' data-timestamp='1451343600' id='445933'>
<a class='timestamp' href='#445933'><time timestamp='2015-12-28T23:00:00Z'>23:00</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that also requires trust, but only trust in valid signatures
<br>
</div>

<div class='talk op-msg' data-timestamp='1451343600' id='445934'>
<a class='timestamp' href='#445934'><time timestamp='2015-12-28T23:00:00Z'>23:00</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
rather than trust in fully valid block
<br>
</div>

<div class='talk op-msg' data-timestamp='1451343600' id='445935'>
<a class='timestamp' href='#445935'><time timestamp='2015-12-28T23:00:00Z'>23:00</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: which is bloody dangerous given how many SPV nodes there are
<br>
</div>

<div class='talk op-msg' data-timestamp='1451343660' id='445936'>
<a class='timestamp' href='#445936'><time timestamp='2015-12-28T23:01:00Z'>23:01</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: note that my <b>*other*</b> proposed solution was that we allow invalid txs to be committed to in blocks, and have miners commit to the subset that were valid n-1 blocks ago, but I figured that was too far out to get any acceptance
<br>
</div>

<div class='talk op-msg' data-timestamp='1451343660' id='445937'>
<a class='timestamp' href='#445937'><time timestamp='2015-12-28T23:01:00Z'>23:01</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
my point is: if they&#x27;re going to bother not doing full validation, why wouldn&#x27;t they go all the way
<br>
</div>

<div class='talk op-msg' data-timestamp='1451343720' id='445938'>
<a class='timestamp' href='#445938'><time timestamp='2015-12-28T23:02:00Z'>23:02</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
nowitvalidation gives you a small constant factor bandwidth improvememt
<br>
</div>

<div class='talk op-msg' data-timestamp='1451343720' id='445939'>
<a class='timestamp' href='#445939'><time timestamp='2015-12-28T23:02:00Z'>23:02</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: whatdo you mean by &quot;all the way&quot;, empty blocks?
<br>
</div>

<div class='talk op-msg' data-timestamp='1451343720' id='445940'>
<a class='timestamp' href='#445940'><time timestamp='2015-12-28T23:02:00Z'>23:02</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
Ah.
<br>
</div>

<div class='talk op-msg' data-timestamp='1451343780' id='445941'>
<a class='timestamp' href='#445941'><time timestamp='2015-12-28T23:03:00Z'>23:03</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
now i see the distinction: it requires giving up fees
<br>
</div>

<div class='talk op-msg' data-timestamp='1451343780' id='445942'>
<a class='timestamp' href='#445942'><time timestamp='2015-12-28T23:03:00Z'>23:03</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
indeed
<br>
</div>

<div class='talk op-msg' data-timestamp='1451343780' id='445943'>
<a class='timestamp' href='#445943'><time timestamp='2015-12-28T23:03:00Z'>23:03</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
equally, giving an option to leave out the prev-block posession proof,in exchange for an empty block, is a nice way to make gmaxwell&#x27;s validationless mining flag actually have some consensus enforced teeth
<br>
</div>

<div class='talk op-msg' data-timestamp='1451343840' id='445944'>
<a class='timestamp' href='#445944'><time timestamp='2015-12-28T23:04:00Z'>23:04</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
yeah i guess i agree it could be a step backwards that if you withold your witness data without one of these fixes, other miners won&#x27;t have the fee incentive to ignore you, and will be more likely to build on top
<br>
</div>

<div class='talk op-msg' data-timestamp='1451343900' id='445945'>
<a class='timestamp' href='#445945'><time timestamp='2015-12-28T23:05:00Z'>23:05</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
yup
<br>
</div>

<div class='talk op-msg' data-timestamp='1451343900' id='445946'>
<a class='timestamp' href='#445946'><time timestamp='2015-12-28T23:05:00Z'>23:05</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
thats more compelling to me than the miners won&#x27;t bother with the witness data
<br>
</div>

<div class='talk op-msg' data-timestamp='1451343960' id='445947'>
<a class='timestamp' href='#445947'><time timestamp='2015-12-28T23:06:00Z'>23:06</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
well, I&#x27;m sure some won&#x27;t bother... it&#x27;s a lot of engineering work to do it right
<br>
</div>

<div class='talk op-msg' data-timestamp='1451343960' id='445948'>
<a class='timestamp' href='#445948'><time timestamp='2015-12-28T23:06:00Z'>23:06</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
so couldn&#x27;t we just do H(cur block wit data + prev block data) or something to make it unique to miner
<br>
</div>

<div class='talk op-msg' data-timestamp='1451344020' id='445949'>
<a class='timestamp' href='#445949'><time timestamp='2015-12-28T23:07:00Z'>23:07</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
morcos: hmm, actually I think that works
<br>
</div>

<div class='talk op-msg' data-timestamp='1451344020' id='445950'>
<a class='timestamp' href='#445950'><time timestamp='2015-12-28T23:07:00Z'>23:07</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
if someone doesn&#x27;t give you the witness data, you aren&#x27;t free to pick your own txs to include in the block
<br>
</div>

<div class='talk op-msg' data-timestamp='1451344020' id='445951'>
<a class='timestamp' href='#445951'><time timestamp='2015-12-28T23:07:00Z'>23:07</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
morcos: though you&#x27;d have to recalculate the commitment every time you change the tx contents of the block, but that&#x27;s not too expensive - just hashing a few MB of data
<br>
</div>

<div class='talk op-msg' data-timestamp='1451344080' id='445952'>
<a class='timestamp' href='#445952'><time timestamp='2015-12-28T23:08:00Z'>23:08</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
morcos: makes sense
<br>
</div>

<div class='talk op-msg' data-timestamp='1451344080' id='445953'>
<a class='timestamp' href='#445953'><time timestamp='2015-12-28T23:08:00Z'>23:08</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
you have to do that anyway for your own witness commitment
<br>
</div>

<div class='talk op-msg' data-timestamp='1451344080' id='445954'>
<a class='timestamp' href='#445954'><time timestamp='2015-12-28T23:08:00Z'>23:08</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
morcos: yup
<br>
</div>

<div class='talk op-msg' data-timestamp='1451344140' id='445955'>
<a class='timestamp' href='#445955'><time timestamp='2015-12-28T23:09:00Z'>23:09</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
... of course, a fraud proof for that requires access to the whole block
<br>
</div>

<div class='talk op-msg' data-timestamp='1451344200' id='445956'>
<a class='timestamp' href='#445956'><time timestamp='2015-12-28T23:10:00Z'>23:10</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: that&#x27;s kinda the point :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1451344200' id='445957'>
<a class='timestamp' href='#445957'><time timestamp='2015-12-28T23:10:00Z'>23:10</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: fraud proofs are themselves a dangerous double-edged sword...
<br>
</div>

<div class='talk op-msg' data-timestamp='1451345100' id='445958'>
<a class='timestamp' href='#445958'><time timestamp='2015-12-28T23:25:00Z'>23:25</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
petertodd: i&#x27;m aware that you feel that way
<br>
</div>

<div class='talk op-msg' data-timestamp='1451345220' id='445959'>
<a class='timestamp' href='#445959'><time timestamp='2015-12-28T23:27:00Z'>23:27</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i&#x27;d prefer a mechanism that didn&#x27;t preclude compact fraud proofs though
<br>
</div>

<div class='talk op-msg' data-timestamp='1451345280' id='445960'>
<a class='timestamp' href='#445960'><time timestamp='2015-12-28T23:28:00Z'>23:28</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
to use the terminology of banking/fintech, fraud proofs lull you into an ecosystem without strong transaction finality: you never know if there&#x27;s a fraud proof out there that you&#x27;re being prevented from learning about via a sybil
<br>
</div>

<div class='talk op-msg' data-timestamp='1451345280' id='445961'>
<a class='timestamp' href='#445961'><time timestamp='2015-12-28T23:28:00Z'>23:28</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: note how, if you make the prev-block-data commitment into a tree, allowing for a compact fraud proof, you&#x27;d simultaneously make it easy and compact to prove that it was correct!
<br>
</div>

<div class='talk op-msg' data-timestamp='1451345400' id='445962'>
<a class='timestamp' href='#445962'><time timestamp='2015-12-28T23:30:00Z'>23:30</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
petertodd: but what if the alternative to those who would run partial validation node is not more full node, but more centralized api providers?
<br>
</div>

<div class='talk op-msg' data-timestamp='1451345400' id='445963'>
<a class='timestamp' href='#445963'><time timestamp='2015-12-28T23:30:00Z'>23:30</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: that said, in that type of scheme, it may be sufficient that the sender of that &quot;proof&quot; can lie about a subset of the tree and get away with it
<br>
</div>

<div class='talk op-msg' data-timestamp='1451345460' id='445964'>
<a class='timestamp' href='#445964'><time timestamp='2015-12-28T23:31:00Z'>23:31</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: the alternative isn&#x27;t that, it&#x27;s that we scale up bitcoin differently
<br>
</div>

<div class='talk op-msg' data-timestamp='1451345460' id='445965'>
<a class='timestamp' href='#445965'><time timestamp='2015-12-28T23:31:00Z'>23:31</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
petertodd: i think that question may be independent of scale :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1451345460' id='445966'>
<a class='timestamp' href='#445966'><time timestamp='2015-12-28T23:31:00Z'>23:31</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but i understand your concern, and i&#x27;m certainly not pushing to get the ecosystem into a fraud proof model now
<br>
</div>

<div class='talk op-msg' data-timestamp='1451345460' id='445967'>
<a class='timestamp' href='#445967'><time timestamp='2015-12-28T23:31:00Z'>23:31</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: a 4MB fraud proof isn&#x27;t all that bad
<br>
</div>

<div class='talk op-msg' data-timestamp='1451345520' id='445968'>
<a class='timestamp' href='#445968'><time timestamp='2015-12-28T23:32:00Z'>23:32</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: remember, right now we have ~50GB fraud proofs :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1451345520' id='445969'>
<a class='timestamp' href='#445969'><time timestamp='2015-12-28T23:32:00Z'>23:32</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
aware!
<br>
</div>

<div class='talk op-msg' data-timestamp='1451345640' id='445970'>
<a class='timestamp' href='#445970'><time timestamp='2015-12-28T23:34:00Z'>23:34</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
petertodd: &quot;lull you into an ecosystem without strong transaction finality&quot;... isn&#x27;t that already the case for bitcoin? you never know that the block you saw may be reorganized away
<br>
</div>

<div class='talk op-msg' data-timestamp='1451345640' id='445971'>
<a class='timestamp' href='#445971'><time timestamp='2015-12-28T23:34:00Z'>23:34</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
the difference is of course that PoW, under certain assumptions about mining strategies and distribution, allows you to compute an upper bound on the chance for that
<br>
</div>

<div class='talk op-msg' data-timestamp='1451345700' id='445972'>
<a class='timestamp' href='#445972'><time timestamp='2015-12-28T23:35:00Z'>23:35</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and that you can observe long term sybils
<br>
</div>

<div class='talk op-msg' data-timestamp='1451345700' id='445973'>
<a class='timestamp' href='#445973'><time timestamp='2015-12-28T23:35:00Z'>23:35</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but bitcoin doesn&#x27;t have the strong transaction finality either as such
<br>
</div>

<div class='talk op-msg' data-timestamp='1451345760' id='445974'>
<a class='timestamp' href='#445974'><time timestamp='2015-12-28T23:36:00Z'>23:36</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: bitcoin has very strongly <b>*defined*</b> transaction finality: at a given # of confirmations from a point after which you&#x27;re sure is in the longest chain, you know exactly what it&#x27;dcost to reorganize
<br>
</div>

<div class='talk op-msg' data-timestamp='1451345760' id='445975'>
<a class='timestamp' href='#445975'><time timestamp='2015-12-28T23:36:00Z'>23:36</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
fair enoigh
<br>
</div>

<div class='talk op-msg' data-timestamp='1451345760' id='445976'>
<a class='timestamp' href='#445976'><time timestamp='2015-12-28T23:36:00Z'>23:36</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: fraud proofs aren&#x27;t like that at all
<br>
</div>

<div class='talk op-msg' data-timestamp='1451345760' id='445977'>
<a class='timestamp' href='#445977'><time timestamp='2015-12-28T23:36:00Z'>23:36</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
nope, for fraud proofs it is just assuming no censorship
<br>
</div>

<div class='talk op-msg' data-timestamp='1451345760' id='445978'>
<a class='timestamp' href='#445978'><time timestamp='2015-12-28T23:36:00Z'>23:36</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: especially in an envifronment where we&#x27;re relying heavily on them
<br>
</div>

<div class='talk op-msg' data-timestamp='1451345820' id='445979'>
<a class='timestamp' href='#445979'><time timestamp='2015-12-28T23:37:00Z'>23:37</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
not quite, remember a fraud proof can&#x27;t be made from data that you don&#x27;t have access too, so the actual mechanism of a fraud proof will always be challenge-&gt;response - it&#x27;s not fraud proofs that matter, but rather <b>*non-fraud*</b> proofs
<br>
</div>

<div class='talk op-msg' data-timestamp='1451345820' id='445980'>
<a class='timestamp' href='#445980'><time timestamp='2015-12-28T23:37:00Z'>23:37</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
?
<br>
</div>

<div class='talk op-msg' data-timestamp='1451345880' id='445981'>
<a class='timestamp' href='#445981'><time timestamp='2015-12-28T23:38:00Z'>23:38</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
well SNARKs that can encompass the entirety of a block validation would of course solve many things :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1451345940' id='445982'>
<a class='timestamp' href='#445982'><time timestamp='2015-12-28T23:39:00Z'>23:39</time></a>
&lt;<span class='nick nick-4'> kanzure</span>&gt;
once the SNARK scheme is figured out, you can often figure out a way to do the same thing without SNARKs
<br>
</div>

<div class='talk op-msg' data-timestamp='1451346120' id='445983'>
<a class='timestamp' href='#445983'><time timestamp='2015-12-28T23:42:00Z'>23:42</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: with SNARKs even treechains is trivial, so... :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1451346180' id='445984'>
<a class='timestamp' href='#445984'><time timestamp='2015-12-28T23:43:00Z'>23:43</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: consider the case of a prev-block-possession commitment, proved via merkle tree of H(nonce + &lt;part of prev-block&gt;)
<br>
</div>

<div class='talk op-msg' data-timestamp='1451346180' id='445985'>
<a class='timestamp' href='#445985'><time timestamp='2015-12-28T23:43:00Z'>23:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
well, if computing the proof takes a google-size datacenter to produce within 10 minutes, we get a different type of centralization concern
<br>
</div>

<div class='talk op-msg' data-timestamp='1451346180' id='445986'>
<a class='timestamp' href='#445986'><time timestamp='2015-12-28T23:43:00Z'>23:43</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: now, if I commit fraud in that tree, meaning one of the leaves isn&#x27;t valid, I&#x27;m obviously not going to give you that leaf - you&#x27;d have a handy fraud proof! instead, I&#x27;ll distribute all but the data required to prove that fraud
<br>
</div>

<div class='talk op-msg' data-timestamp='1451346240' id='445987'>
<a class='timestamp' href='#445987'><time timestamp='2015-12-28T23:44:00Z'>23:44</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: now, what&#x27;ll happen is nodes will notice &quot;hey, how do I know leaf #123 is valid?&quot;, and they&#x27;ll ask they&#x27;re peers to prove it to them - that&#x27;s a challenge
<br>
</div>

<div class='talk op-msg' data-timestamp='1451346240' id='445988'>
<a class='timestamp' href='#445988'><time timestamp='2015-12-28T23:44:00Z'>23:44</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
petertodd: a partial node wouldn&#x27;t accept a block that lacks revealing all its commitments
<br>
</div>

<div class='talk op-msg' data-timestamp='1451346240' id='445989'>
<a class='timestamp' href='#445989'><time timestamp='2015-12-28T23:44:00Z'>23:44</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: the peers will response with a *non-fraud/validity proof*, showing that that part of the block is correct
<br>
</div>

<div class='talk op-msg' data-timestamp='1451346300' id='445990'>
<a class='timestamp' href='#445990'><time timestamp='2015-12-28T23:45:00Z'>23:45</time></a>
&lt;<span class='nick nick-4'> kanzure</span>&gt;
wasn&#x27;t there a proposal about making an explicit commitment(?) to the sum of the values of the outputs
<br>
</div>

<div class='talk op-msg' data-timestamp='1451346300' id='445991'>
<a class='timestamp' href='#445991'><time timestamp='2015-12-28T23:45:00Z'>23:45</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: however, at no point is a fraud proof ever going to be generated
<br>
</div>

<div class='talk op-msg' data-timestamp='1451346300' id='445992'>
<a class='timestamp' href='#445992'><time timestamp='2015-12-28T23:45:00Z'>23:45</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: right, but in that case, the partial node doesn&#x27;t even need fraud proofs
<br>
</div>

<div class='talk op-msg' data-timestamp='1451346300' id='445993'>
<a class='timestamp' href='#445993'><time timestamp='2015-12-28T23:45:00Z'>23:45</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
how so?
<br>
</div>

<div class='talk op-msg' data-timestamp='1451346360' id='445994'>
<a class='timestamp' href='#445994'><time timestamp='2015-12-28T23:46:00Z'>23:46</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa:you just said thhe partial node is validating everything relevant...
<br>
</div>

<div class='talk op-msg' data-timestamp='1451346360' id='445995'>
<a class='timestamp' href='#445995'><time timestamp='2015-12-28T23:46:00Z'>23:46</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
no
<br>
</div>

<div class='talk op-msg' data-timestamp='1451346360' id='445996'>
<a class='timestamp' href='#445996'><time timestamp='2015-12-28T23:46:00Z'>23:46</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: IOW, you just said &#x27;full node&#x27; and made a typo :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1451346360' id='445997'>
<a class='timestamp' href='#445997'><time timestamp='2015-12-28T23:46:00Z'>23:46</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i said it is receiving everything relevant
<br>
</div>

<div class='talk op-msg' data-timestamp='1451346360' id='445998'>
<a class='timestamp' href='#445998'><time timestamp='2015-12-28T23:46:00Z'>23:46</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
not validating it
<br>
</div>

<div class='talk op-msg' data-timestamp='1451346360' id='445999'>
<a class='timestamp' href='#445999'><time timestamp='2015-12-28T23:46:00Z'>23:46</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: right, in which case it&#x27;s just a dumb transmitter of information - fraud proofs don&#x27;t come into it
<br>
</div>

<div class='talk op-msg' data-timestamp='1451346420' id='446000'>
<a class='timestamp' href='#446000'><time timestamp='2015-12-28T23:47:00Z'>23:47</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: again, in what scenario would the fraudster ever reveal the data required to prove fraud? I&#x27;d argue never
<br>
</div>

<div class='talk op-msg' data-timestamp='1451346420' id='446001'>
<a class='timestamp' href='#446001'><time timestamp='2015-12-28T23:47:00Z'>23:47</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
petertodd: in that scenario, no node will accept its block
<br>
</div>

<div class='talk op-msg' data-timestamp='1451346480' id='446002'>
<a class='timestamp' href='#446002'><time timestamp='2015-12-28T23:48:00Z'>23:48</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
because it is failing to reveal commitments
<br>
</div>

<div class='talk op-msg' data-timestamp='1451346480' id='446003'>
<a class='timestamp' href='#446003'><time timestamp='2015-12-28T23:48:00Z'>23:48</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: ok, but this goes back transitively - a block may be in itself 100% locally valid, but it&#x27;s invalid because it depends on an invalid block - why would the partial node eversee thatblock?
<br>
</div>

<div class='talk op-msg' data-timestamp='1451346480' id='446004'>
<a class='timestamp' href='#446004'><time timestamp='2015-12-28T23:48:00Z'>23:48</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
but who forces it to revealthe commitments? fraud challenges!
<br>
</div>

<div class='talk op-msg' data-timestamp='1451346480' id='446005'>
<a class='timestamp' href='#446005'><time timestamp='2015-12-28T23:48:00Z'>23:48</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
petertodd: a partial node sees everything; it just doesn&#x27;t verify everything
<br>
</div>

<div class='talk op-msg' data-timestamp='1451346480' id='446006'>
<a class='timestamp' href='#446006'><time timestamp='2015-12-28T23:48:00Z'>23:48</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: that&#x27;s a contradiction...
<br>
</div>

<div class='talk op-msg' data-timestamp='1451346480' id='446007'>
<a class='timestamp' href='#446007'><time timestamp='2015-12-28T23:48:00Z'>23:48</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: what do you think a partial node sees exactly?
<br>
</div>

<div class='talk op-msg' data-timestamp='1451346480' id='446008'>
<a class='timestamp' href='#446008'><time timestamp='2015-12-28T23:48:00Z'>23:48</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
petertodd: all blocks and witnesses
<br>
</div>

<div class='talk op-msg' data-timestamp='1451346540' id='446009'>
<a class='timestamp' href='#446009'><time timestamp='2015-12-28T23:49:00Z'>23:49</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
(in the current model, more things can be added of course)
<br>
</div>

<div class='talk op-msg' data-timestamp='1451346540' id='446010'>
<a class='timestamp' href='#446010'><time timestamp='2015-12-28T23:49:00Z'>23:49</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: all blocks from the genesis block?
<br>
</div>

<div class='talk op-msg' data-timestamp='1451346540' id='446011'>
<a class='timestamp' href='#446011'><time timestamp='2015-12-28T23:49:00Z'>23:49</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
down to a block it trusts; that may be the genesis block or not
<br>
</div>

<div class='talk op-msg' data-timestamp='1451346540' id='446012'>
<a class='timestamp' href='#446012'><time timestamp='2015-12-28T23:49:00Z'>23:49</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
same as a full node now verifies down to genesis, or gets a utxo set copied from a trusted place
<br>
</div>

<div class='talk op-msg' data-timestamp='1451346600' id='446013'>
<a class='timestamp' href='#446013'><time timestamp='2015-12-28T23:50:00Z'>23:50</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: right, so again, the only time fraud ever comes into it is fraud in a block prior to the one it trusts
<br>
</div>

<div class='talk op-msg' data-timestamp='1451346600' id='446014'>
<a class='timestamp' href='#446014'><time timestamp='2015-12-28T23:50:00Z'>23:50</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that makes no sense
<br>
</div>

<div class='talk op-msg' data-timestamp='1451346600' id='446015'>
<a class='timestamp' href='#446015'><time timestamp='2015-12-28T23:50:00Z'>23:50</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: and again, under what circumstance would the fraudster ever give that partial node the data necessary to prove fraud?
<br>
</div>

<div class='talk op-msg' data-timestamp='1451346600' id='446016'>
<a class='timestamp' href='#446016'><time timestamp='2015-12-28T23:50:00Z'>23:50</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: like, come up with a concrete example!
<br>
</div>

<div class='talk op-msg' data-timestamp='1451346600' id='446017'>
<a class='timestamp' href='#446017'><time timestamp='2015-12-28T23:50:00Z'>23:50</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i said no node accepts without seeing the commitment
<br>
</div>

<div class='talk op-msg' data-timestamp='1451346660' id='446018'>
<a class='timestamp' href='#446018'><time timestamp='2015-12-28T23:51:00Z'>23:51</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
there is no need to prove fraud
<br>
</div>

<div class='talk op-msg' data-timestamp='1451346660' id='446019'>
<a class='timestamp' href='#446019'><time timestamp='2015-12-28T23:51:00Z'>23:51</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
nobody accepts it
<br>
</div>

<div class='talk op-msg' data-timestamp='1451346660' id='446020'>
<a class='timestamp' href='#446020'><time timestamp='2015-12-28T23:51:00Z'>23:51</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: ok, so... I think we&#x27;re in violent agreement :) I&#x27;m just saying, there&#x27;s actually no scenario where fraud proofs themselves make sense - what&#x27;s actually important is fraud challenges, responded to via local validity proofs
<br>
</div>

<div class='talk op-msg' data-timestamp='1451346720' id='446021'>
<a class='timestamp' href='#446021'><time timestamp='2015-12-28T23:52:00Z'>23:52</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i disagree
<br>
</div>

<div class='talk op-msg' data-timestamp='1451346720' id='446022'>
<a class='timestamp' href='#446022'><time timestamp='2015-12-28T23:52:00Z'>23:52</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
ok, so where&#x27;s the concrete example of a fraud proof?
<br>
</div>

<div class='talk op-msg' data-timestamp='1451346720' id='446023'>
<a class='timestamp' href='#446023'><time timestamp='2015-12-28T23:52:00Z'>23:52</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
for example, you could build a node that maintains only a utxo set for txids whose hash starts with a 0
<br>
</div>

<div class='talk op-msg' data-timestamp='1451346720' id='446024'>
<a class='timestamp' href='#446024'><time timestamp='2015-12-28T23:52:00Z'>23:52</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
right
<br>
</div>

<div class='talk op-msg' data-timestamp='1451346780' id='446025'>
<a class='timestamp' href='#446025'><time timestamp='2015-12-28T23:53:00Z'>23:53</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
the assumption is that other nodes are either full, or do together validation for all txids whose hash starts with (not 0)
<br>
</div>

<div class='talk op-msg' data-timestamp='1451346780' id='446026'>
<a class='timestamp' href='#446026'><time timestamp='2015-12-28T23:53:00Z'>23:53</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
right
<br>
</div>

<div class='talk op-msg' data-timestamp='1451346780' id='446027'>
<a class='timestamp' href='#446027'><time timestamp='2015-12-28T23:53:00Z'>23:53</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and that you&#x27;re not censored from them
<br>
</div>

<div class='talk op-msg' data-timestamp='1451346780' id='446028'>
<a class='timestamp' href='#446028'><time timestamp='2015-12-28T23:53:00Z'>23:53</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
this partial node would still download full blocks and witnesses
<br>
</div>

<div class='talk op-msg' data-timestamp='1451346780' id='446029'>
<a class='timestamp' href='#446029'><time timestamp='2015-12-28T23:53:00Z'>23:53</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sure, so when exactly does the fraud proof get generated?
<br>
</div>

<div class='talk op-msg' data-timestamp='1451346840' id='446030'>
<a class='timestamp' href='#446030'><time timestamp='2015-12-28T23:54:00Z'>23:54</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and will not accept a block that hash merkle malleability, pow failure, mismatching txids, mismatching witness hashes, ...
<br>
</div>

<div class='talk op-msg' data-timestamp='1451346840' id='446031'>
<a class='timestamp' href='#446031'><time timestamp='2015-12-28T23:54:00Z'>23:54</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
ok, so lets come up with a concrete example: tx in block n spends an output that doesn&#x27;t exist
<br>
</div>

<div class='talk op-msg' data-timestamp='1451346900' id='446032'>
<a class='timestamp' href='#446032'><time timestamp='2015-12-28T23:55:00Z'>23:55</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
the witness will be required to contain a reference (for example, height) to the block that created the output, and an index into it the block (transaction number 5 in that block)
<br>
</div>

<div class='talk op-msg' data-timestamp='1451346960' id='446033'>
<a class='timestamp' href='#446033'><time timestamp='2015-12-28T23:56:00Z'>23:56</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
now, as a miner, why would I give a partial node that data? instead, knowing that&#x27;ll instantly get turned into a fraud proof, I just don&#x27;t distribute that part of the block, and instead create block n+1 that spends output in block n from tx A, where tx A simply isn&#x27;t valid
<br>
</div>

<div class='talk op-msg' data-timestamp='1451346960' id='446034'>
<a class='timestamp' href='#446034'><time timestamp='2015-12-28T23:56:00Z'>23:56</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
nobody will accept n+1 without seeing n
<br>
</div>

<div class='talk op-msg' data-timestamp='1451347020' id='446035'>
<a class='timestamp' href='#446035'><time timestamp='2015-12-28T23:57:00Z'>23:57</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
ah! but then, why do we need a fraud proof system? you just said no-one will accept n+1 without n, so fraud doesn&#x27;t come into it
<br>
</div>

<div class='talk op-msg' data-timestamp='1451347020' id='446036'>
<a class='timestamp' href='#446036'><time timestamp='2015-12-28T23:57:00Z'>23:57</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
again, I&#x27;m just not seeing a concrete example where a fraud proof would ever be generated
<br>
</div>

<div class='talk op-msg' data-timestamp='1451347020' id='446037'>
<a class='timestamp' href='#446037'><time timestamp='2015-12-28T23:57:00Z'>23:57</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
ccccccducvnvnecvrblijvucvhtrgnudfblcnfukdkjt
<br>
</div>

<div class='talk op-msg' data-timestamp='1451347020' id='446038'>
<a class='timestamp' href='#446038'><time timestamp='2015-12-28T23:57:00Z'>23:57</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
the fraud is needed so the partial node can be told its block n spends from an invalid output
<br>
</div>

<div class='talk op-msg' data-timestamp='1451347020' id='446039'>
<a class='timestamp' href='#446039'><time timestamp='2015-12-28T23:57:00Z'>23:57</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
lol, yubikey
<br>
</div>

<div class='talk op-msg' data-timestamp='1451347020' id='446040'>
<a class='timestamp' href='#446040'><time timestamp='2015-12-28T23:57:00Z'>23:57</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yeah, i agree with that
<br>
</div>

<div class='talk op-msg' data-timestamp='1451347020' id='446041'>
<a class='timestamp' href='#446041'><time timestamp='2015-12-28T23:57:00Z'>23:57</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
good thing that&#x27;s one-time :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1451347020' id='446042'>
<a class='timestamp' href='#446042'><time timestamp='2015-12-28T23:57:00Z'>23:57</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
*fraud proof
<br>
</div>

<div class='talk op-msg' data-timestamp='1451347080' id='446043'>
<a class='timestamp' href='#446043'><time timestamp='2015-12-28T23:58:00Z'>23:58</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
right, and like I say, in an ecosystem with partial nodes, no miner making an invalid block would ever publish the parts of theirblocks that allow fraud to be proven, so the fraud proof itself is irrelevant
<br>
</div>

<div class='talk op-msg' data-timestamp='1451347140' id='446044'>
<a class='timestamp' href='#446044'><time timestamp='2015-12-28T23:59:00Z'>23:59</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that&#x27;s like saying full nodes are irrelevant because no miner will produce a block that is invalid
<br>
</div>

<div class='talk op-msg' data-timestamp='1451347140' id='446045'>
<a class='timestamp' href='#446045'><time timestamp='2015-12-28T23:59:00Z'>23:59</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
it&#x27;s pointless to do that - better to just setup a bunch of sybil&#x27;s that prevent to SPV clients that everything is ok
<br>
</div>

<div class='talk op-msg' data-timestamp='1451347140' id='446046'>
<a class='timestamp' href='#446046'><time timestamp='2015-12-28T23:59:00Z'>23:59</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that&#x27;s the point obviously
<br>
</div>

<div class='talk op-msg' data-timestamp='1451347140' id='446047'>
<a class='timestamp' href='#446047'><time timestamp='2015-12-28T23:59:00Z'>23:59</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
if everyone ran full nodes, then yes, that&#x27;d be irrelevant, but only on a tautological level :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1451347140' id='446048'>
<a class='timestamp' href='#446048'><time timestamp='2015-12-28T23:59:00Z'>23:59</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it&#x27;s the same thing
<br>
</div>

</div>
</section>

</body>
</html>
