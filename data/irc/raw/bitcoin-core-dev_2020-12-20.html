<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2020-12-20
 — 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2020-12-20' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:17 UTC</pre>
<pre><a href="/bitcoin-core-dev/2020-11-20">&lt;</a><span class='header'>  December 2020   </span><a href="/bitcoin-core-dev/2021-01-20">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;       <a class="" href="/bitcoin-core-dev/2020-12-01">1</a>  <a class="" href="/bitcoin-core-dev/2020-12-02">2</a>  <a class="" href="/bitcoin-core-dev/2020-12-03">3</a>  <a class="" href="/bitcoin-core-dev/2020-12-04">4</a>  <a class="" href="/bitcoin-core-dev/2020-12-05">5</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2020-12-06">6</a>  <a class="" href="/bitcoin-core-dev/2020-12-07">7</a>  <a class="" href="/bitcoin-core-dev/2020-12-08">8</a>  <a class="" href="/bitcoin-core-dev/2020-12-09">9</a> <a class="" href="/bitcoin-core-dev/2020-12-10">10</a> <a class="" href="/bitcoin-core-dev/2020-12-11">11</a> <a class="" href="/bitcoin-core-dev/2020-12-12">12</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2020-12-13">13</a> <a class="" href="/bitcoin-core-dev/2020-12-14">14</a> <a class="" href="/bitcoin-core-dev/2020-12-15">15</a> <a class="" href="/bitcoin-core-dev/2020-12-16">16</a> <a class="" href="/bitcoin-core-dev/2020-12-17">17</a> <a class="" href="/bitcoin-core-dev/2020-12-18">18</a> <a class="" href="/bitcoin-core-dev/2020-12-19">19</a>  &#x000A;<a class="current" href="/bitcoin-core-dev/2020-12-20">20</a> <a class="" href="/bitcoin-core-dev/2020-12-21">21</a> <a class="" href="/bitcoin-core-dev/2020-12-22">22</a> <a class="" href="/bitcoin-core-dev/2020-12-23">23</a> <a class="" href="/bitcoin-core-dev/2020-12-24">24</a> <a class="" href="/bitcoin-core-dev/2020-12-25">25</a> <a class="" href="/bitcoin-core-dev/2020-12-26">26</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2020-12-27">27</a> <a class="" href="/bitcoin-core-dev/2020-12-28">28</a> <a class="" href="/bitcoin-core-dev/2020-12-29">29</a> <a class="" href="/bitcoin-core-dev/2020-12-30">30</a> <a class="" href="/bitcoin-core-dev/2020-12-31">31</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1608434220' id='421723'>
<a class='timestamp' href='#421723'><time timestamp='2020-12-20T03:17:00Z'>03:17</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
fanquake, btw 20720 doesn&#x27;t fix the issue for me
<br>
</div>

<div class='talk op-msg' data-timestamp='1608434340' id='421724'>
<a class='timestamp' href='#421724'><time timestamp='2020-12-20T03:19:00Z'>03:19</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
phantomcircuit: Did you completely clean your repo first? You’ll have to rerun autogen etc
<br>
</div>

<div class='talk op-msg' data-timestamp='1608434460' id='421725'>
<a class='timestamp' href='#421725'><time timestamp='2020-12-20T03:21:00Z'>03:21</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
yeah
<br>
</div>

<div class='talk op-msg' data-timestamp='1608434460' id='421726'>
<a class='timestamp' href='#421726'><time timestamp='2020-12-20T03:21:00Z'>03:21</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
im going to delete the repo to be sure
<br>
</div>

<div class='talk op-msg' data-timestamp='1608434580' id='421727'>
<a class='timestamp' href='#421727'><time timestamp='2020-12-20T03:23:00Z'>03:23</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
Ok. If you are still seeing it can you throw your config.log up somewhere so I can take a look?
<br>
</div>

<div class='talk op-msg' data-timestamp='1608434940' id='421728'>
<a class='timestamp' href='#421728'><time timestamp='2020-12-20T03:29:00Z'>03:29</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
if you have to rerun autogen for anything, that&#x27;s a bug..
<br>
</div>

<div class='talk op-msg' data-timestamp='1608435060' id='421729'>
<a class='timestamp' href='#421729'><time timestamp='2020-12-20T03:31:00Z'>03:31</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
fanquake, <a href="https://clbin.com/rellR" class="link" target="_blank">https://clbin.com/rellR</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1608435060' id='421730'>
<a class='timestamp' href='#421730'><time timestamp='2020-12-20T03:31:00Z'>03:31</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
i deleted the repo so im pretty sure it&#x27;s still bugged
<br>
</div>

<div class='talk op-msg' data-timestamp='1608435300' id='421731'>
<a class='timestamp' href='#421731'><time timestamp='2020-12-20T03:35:00Z'>03:35</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
phantomcircuit: -fcf-protection is no longer in the hardened flags. So my changes is working as expected.
<br>
</div>

<div class='talk op-msg' data-timestamp='1608435300' id='421732'>
<a class='timestamp' href='#421732'><time timestamp='2020-12-20T03:35:00Z'>03:35</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
If your still seeing the same issue, there must be another problematic flag
<br>
</div>

<div class='talk op-msg' data-timestamp='1608435420' id='421733'>
<a class='timestamp' href='#421733'><time timestamp='2020-12-20T03:37:00Z'>03:37</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
If your post your build output / errors I’ll have a later this arvo
<br>
</div>

<div class='talk op-msg' data-timestamp='1608435660' id='421734'>
<a class='timestamp' href='#421734'><time timestamp='2020-12-20T03:41:00Z'>03:41</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
fanquake, i&#x27;ll do a bisect this time correctly
<br>
</div>

<div class='talk op-msg' data-timestamp='1608444780' id='421735'>
<a class='timestamp' href='#421735'><time timestamp='2020-12-20T06:13:00Z'>06:13</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
fanquake, bisect says 076183b36b76a11438463883ff916f17aef9e001
<br>
</div>

<div class='talk op-msg' data-timestamp='1608444840' id='421736'>
<a class='timestamp' href='#421736'><time timestamp='2020-12-20T06:14:00Z'>06:14</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
which i think you already knew, but implies that it&#x27;s still the same flag
<br>
</div>

<div class='talk op-msg' data-timestamp='1608465660' id='421737'>
<a class='timestamp' href='#421737'><time timestamp='2020-12-20T12:01:00Z'>12:01</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
achow101: that&#x27;s so awesome, congrats!!!
<br>
</div>

<div class='talk op-msg' data-timestamp='1608466020' id='421738'>
<a class='timestamp' href='#421738'><time timestamp='2020-12-20T12:07:00Z'>12:07</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] hebasto closed pull request #20717: ci: Fix COMMIT_RANGE variable value for cloned repos (master...201218-clone) <a href="https://github.com/bitcoin/bitcoin/pull/20717" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20717</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1608468120' id='421739'>
<a class='timestamp' href='#421739'><time timestamp='2020-12-20T12:42:00Z'>12:42</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
ach
<br>
</div>

<div class='talk op-msg' data-timestamp='1608468120' id='421740'>
<a class='timestamp' href='#421740'><time timestamp='2020-12-20T12:42:00Z'>12:42</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
achow101: great work!
<br>
</div>

<div class='talk op-msg' data-timestamp='1608468120' id='421741'>
<a class='timestamp' href='#421741'><time timestamp='2020-12-20T12:42:00Z'>12:42</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Are there any risks (compared to the Apple Tool)? I can test the signature on some older macOS VMs.
<br>
</div>

<div class='talk op-msg' data-timestamp='1608468360' id='421742'>
<a class='timestamp' href='#421742'><time timestamp='2020-12-20T12:46:00Z'>12:46</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jonatack opened pull request #20729: p2p: standardize on outbound-{full, block}-relay connection type naming (master...outbound-connection-type-naming) <a href="https://github.com/bitcoin/bitcoin/pull/20729" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20729</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1608470460' id='421743'>
<a class='timestamp' href='#421743'><time timestamp='2020-12-20T13:21:00Z'>13:21</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
i think the main risk is &quot;it doesn&#x27;t work on some OS&quot;, testing is important in any case
<br>
</div>

<div class='talk op-msg' data-timestamp='1608484860' id='421744'>
<a class='timestamp' href='#421744'><time timestamp='2020-12-20T17:21:00Z'>17:21</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
i suppose there could be risk in having the private key being handled by python code
<br>
</div>

<div class='talk op-msg' data-timestamp='1608484860' id='421745'>
<a class='timestamp' href='#421745'><time timestamp='2020-12-20T17:21:00Z'>17:21</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
the whole thing currently has to be run on an online computer too for the timestamping part to work
<br>
</div>

<div class='talk op-msg' data-timestamp='1608484920' id='421746'>
<a class='timestamp' href='#421746'><time timestamp='2020-12-20T17:22:00Z'>17:22</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
although I suppose it could be split into 2 steps; the timestamp doesn&#x27;t require private key access. however I don&#x27;t know if MacOS will not like the signing time and the timestamp to be too far apart
<br>
</div>

<div class='talk op-msg' data-timestamp='1608485100' id='421747'>
<a class='timestamp' href='#421747'><time timestamp='2020-12-20T17:25:00Z'>17:25</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
you just need to know when the timestamp time is going to be, right?
<br>
</div>

<div class='talk op-msg' data-timestamp='1608485220' id='421748'>
<a class='timestamp' href='#421748'><time timestamp='2020-12-20T17:27:00Z'>17:27</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
i guess so
<br>
</div>

<div class='talk op-msg' data-timestamp='1608485640' id='421749'>
<a class='timestamp' href='#421749'><time timestamp='2020-12-20T17:34:00Z'>17:34</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ideally the signer works without private key, so there is no risk of exposing anything secret ,;)
<br>
</div>

<div class='talk op-msg' data-timestamp='1608485760' id='421750'>
<a class='timestamp' href='#421750'><time timestamp='2020-12-20T17:36:00Z'>17:36</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
hah. I did find a segfault in codesign though... I think it was a null dereference.
<br>
</div>

<div class='talk op-msg' data-timestamp='1608489120' id='421751'>
<a class='timestamp' href='#421751'><time timestamp='2020-12-20T18:32:00Z'>18:32</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
jonasschnelli: if you would like to try using signapple to sign, it should work with our detached-sig-create.sh script as a drop in replacement for codesign
<br>
</div>

<div class='talk op-msg' data-timestamp='1608489180' id='421752'>
<a class='timestamp' href='#421752'><time timestamp='2020-12-20T18:33:00Z'>18:33</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
you would only need to change that script to call signapple instead of codesign
<br>
</div>

<div class='talk op-msg' data-timestamp='1608489840' id='421753'>
<a class='timestamp' href='#421753'><time timestamp='2020-12-20T18:44:00Z'>18:44</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
achow101: can you post the link again of your tool?
<br>
</div>

<div class='talk op-msg' data-timestamp='1608489840' id='421754'>
<a class='timestamp' href='#421754'><time timestamp='2020-12-20T18:44:00Z'>18:44</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
<a href="https://github.com/achow101/signapple" class="link" target="_blank">https://github.com/achow101/signapple</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1608489900' id='421755'>
<a class='timestamp' href='#421755'><time timestamp='2020-12-20T18:45:00Z'>18:45</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I probably need to test it tomorrow,... getting late here.
<br>
</div>

<div class='talk op-msg' data-timestamp='1608489900' id='421756'>
<a class='timestamp' href='#421756'><time timestamp='2020-12-20T18:45:00Z'>18:45</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
no rush
<br>
</div>

<div class='talk op-msg' data-timestamp='1608490080' id='421757'>
<a class='timestamp' href='#421757'><time timestamp='2020-12-20T18:48:00Z'>18:48</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
ModuleNotFoundError: No module named &#x27;setuptools&#x27;
<br>
</div>

<div class='talk op-msg' data-timestamp='1608490080' id='421758'>
<a class='timestamp' href='#421758'><time timestamp='2020-12-20T18:48:00Z'>18:48</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
how do you not have setuptools?
<br>
</div>

<div class='talk op-msg' data-timestamp='1608490080' id='421759'>
<a class='timestamp' href='#421759'><time timestamp='2020-12-20T18:48:00Z'>18:48</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
(while calling pip3 install -e .)
<br>
</div>

<div class='talk op-msg' data-timestamp='1608490080' id='421760'>
<a class='timestamp' href='#421760'><time timestamp='2020-12-20T18:48:00Z'>18:48</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
dunno
<br>
</div>

<div class='talk op-msg' data-timestamp='1608490080' id='421761'>
<a class='timestamp' href='#421761'><time timestamp='2020-12-20T18:48:00Z'>18:48</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Requirement already satisfied: setuptools in /usr/local/lib/python3.9/site-packages (50.3.2)
<br>
</div>

<div class='talk op-msg' data-timestamp='1608490080' id='421762'>
<a class='timestamp' href='#421762'><time timestamp='2020-12-20T18:48:00Z'>18:48</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
?
<br>
</div>

<div class='talk op-msg' data-timestamp='1608490080' id='421763'>
<a class='timestamp' href='#421763'><time timestamp='2020-12-20T18:48:00Z'>18:48</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
??
<br>
</div>

<div class='talk op-msg' data-timestamp='1608490200' id='421764'>
<a class='timestamp' href='#421764'><time timestamp='2020-12-20T18:50:00Z'>18:50</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
its again python mix (brew vs local)
<br>
</div>

<div class='talk op-msg' data-timestamp='1608490320' id='421765'>
<a class='timestamp' href='#421765'><time timestamp='2020-12-20T18:52:00Z'>18:52</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
I updated the docs to list out the dependencies so you can install them one by one
<br>
</div>

<div class='talk op-msg' data-timestamp='1608490380' id='421766'>
<a class='timestamp' href='#421766'><time timestamp='2020-12-20T18:53:00Z'>18:53</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
also the tool still uses codesign_allocate but we can use the open source one rather than the mac one
<br>
</div>

<div class='talk op-msg' data-timestamp='1608490500' id='421767'>
<a class='timestamp' href='#421767'><time timestamp='2020-12-20T18:55:00Z'>18:55</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
achow101: for your info. I tried to verify a random app,... told me &quot;Exception: Unknown blob entry type 4096&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1608490500' id='421768'>
<a class='timestamp' href='#421768'><time timestamp='2020-12-20T18:55:00Z'>18:55</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
interesting
<br>
</div>

<div class='talk op-msg' data-timestamp='1608490560' id='421769'>
<a class='timestamp' href='#421769'><time timestamp='2020-12-20T18:56:00Z'>18:56</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
it definitely works for verifying our previous releases
<br>
</div>

<div class='talk op-msg' data-timestamp='1608490560' id='421770'>
<a class='timestamp' href='#421770'><time timestamp='2020-12-20T18:56:00Z'>18:56</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
(that app had two binaries in their .app package, ... I specified the binary directly)
<br>
</div>

<div class='talk op-msg' data-timestamp='1608490560' id='421771'>
<a class='timestamp' href='#421771'><time timestamp='2020-12-20T18:56:00Z'>18:56</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Yes. Verifying RC2 works.
<br>
</div>

<div class='talk op-msg' data-timestamp='1608490620' id='421772'>
<a class='timestamp' href='#421772'><time timestamp='2020-12-20T18:57:00Z'>18:57</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Will try to sign rc3 with the tool tomorrow.
<br>
</div>

<div class='talk op-msg' data-timestamp='1608490620' id='421773'>
<a class='timestamp' href='#421773'><time timestamp='2020-12-20T18:57:00Z'>18:57</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
yeah, that error is because there it is using &quot;alternate CodeDirectory array&quot; which I haven&#x27;t figured out how to verify yet
<br>
</div>

<div class='talk op-msg' data-timestamp='1608490620' id='421774'>
<a class='timestamp' href='#421774'><time timestamp='2020-12-20T18:57:00Z'>18:57</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Nice work... achow101: you&#x27;ll get the hacker-badge! at the next coredev.tech
<br>
</div>

<div class='talk op-msg' data-timestamp='1608492840' id='421775'>
<a class='timestamp' href='#421775'><time timestamp='2020-12-20T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
a guy sent me some psbts that he said core created but nothing could deserialize. I&#x27;m looking at them now and it seems like there are a few places where some random bytes are being put in that just don&#x27;t belong there
<br>
</div>

<div class='talk op-msg' data-timestamp='1608492840' id='421776'>
<a class='timestamp' href='#421776'><time timestamp='2020-12-20T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
any ideas on how that could happen?
<br>
</div>

<div class='talk op-msg' data-timestamp='1608493020' id='421777'>
<a class='timestamp' href='#421777'><time timestamp='2020-12-20T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
what kind of bytes?
<br>
</div>

<div class='talk op-msg' data-timestamp='1608493020' id='421778'>
<a class='timestamp' href='#421778'><time timestamp='2020-12-20T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
where?
<br>
</div>

<div class='talk op-msg' data-timestamp='1608493080' id='421779'>
<a class='timestamp' href='#421779'><time timestamp='2020-12-20T19:38:00Z'>19:38</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
in one of the txids in the global tx, about 2/3 of the way through, there&#x27;s a d0 that does not belong
<br>
</div>

<div class='talk op-msg' data-timestamp='1608493080' id='421780'>
<a class='timestamp' href='#421780'><time timestamp='2020-12-20T19:38:00Z'>19:38</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
everything before, and everything after, matches an expected txid. and if we ignore the length, everything else would deserialize as expected, until we hit another random byte
<br>
</div>

<div class='talk op-msg' data-timestamp='1608493140' id='421781'>
<a class='timestamp' href='#421781'><time timestamp='2020-12-20T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
inside the txid?
<br>
</div>

<div class='talk op-msg' data-timestamp='1608493140' id='421782'>
<a class='timestamp' href='#421782'><time timestamp='2020-12-20T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
yep
<br>
</div>

<div class='talk op-msg' data-timestamp='1608493140' id='421783'>
<a class='timestamp' href='#421783'><time timestamp='2020-12-20T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that makes no sense...
<br>
</div>

<div class='talk op-msg' data-timestamp='1608493140' id='421784'>
<a class='timestamp' href='#421784'><time timestamp='2020-12-20T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
I&#x27;m thinking this is a case of memory corruption
<br>
</div>

<div class='talk op-msg' data-timestamp='1608493200' id='421785'>
<a class='timestamp' href='#421785'><time timestamp='2020-12-20T19:40:00Z'>19:40</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i don&#x27;t see what else could cause corruption <u>_inside_</u> a txid
<br>
</div>

<div class='talk op-msg' data-timestamp='1608494640' id='421786'>
<a class='timestamp' href='#421786'><time timestamp='2020-12-20T20:04:00Z'>20:04</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
another has corruption inside a value
<br>
</div>

<div class='talk op-msg' data-timestamp='1608494700' id='421787'>
<a class='timestamp' href='#421787'><time timestamp='2020-12-20T20:05:00Z'>20:05</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
i&#x27;ve asked him to try using another computer with the same wallets
<br>
</div>

<div class='talk op-msg' data-timestamp='1608499320' id='421788'>
<a class='timestamp' href='#421788'><time timestamp='2020-12-20T21:22:00Z'>21:22</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] benthecarman opened pull request #20731: rpc: Add missing description of vout in getrawtransaction help text (master...fix-getrawtransaction-help-text) <a href="https://github.com/bitcoin/bitcoin/pull/20731" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20731</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1608502860' id='421789'>
<a class='timestamp' href='#421789'><time timestamp='2020-12-20T22:21:00Z'>22:21</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
fanquake, after investigating more this seems unrelated to the hardening options, rather just clang-7 cant build master at all (for some reason?)
<br>
</div>

<div class='talk op-msg' data-timestamp='1608502980' id='421790'>
<a class='timestamp' href='#421790'><time timestamp='2020-12-20T22:23:00Z'>22:23</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
actually CC=clang CXX=clang++ ./configure --with-incompatible-bdb --disable-hardening worked
<br>
</div>

<div class='talk op-msg' data-timestamp='1608502980' id='421791'>
<a class='timestamp' href='#421791'><time timestamp='2020-12-20T22:23:00Z'>22:23</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
so it is the hardening, but im not sure which part of it
<br>
</div>

<div class='talk op-msg' data-timestamp='1608503280' id='421792'>
<a class='timestamp' href='#421792'><time timestamp='2020-12-20T22:28:00Z'>22:28</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
fanquake, iono removing the fcf-protection line entirely fixes the issue
<br>
</div>

<div class='talk op-msg' data-timestamp='1608503280' id='421793'>
<a class='timestamp' href='#421793'><time timestamp='2020-12-20T22:28:00Z'>22:28</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
so maybe the check isnt&#x27; working?
<br>
</div>

<div class='talk op-msg' data-timestamp='1608503460' id='421794'>
<a class='timestamp' href='#421794'><time timestamp='2020-12-20T22:31:00Z'>22:31</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
I looked at the logs you posted on the PR and that option wasn’t being used.
<br>
</div>

<div class='talk op-msg' data-timestamp='1608503520' id='421795'>
<a class='timestamp' href='#421795'><time timestamp='2020-12-20T22:32:00Z'>22:32</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
fanquake, i can build with clang, with that commented out, but not with --enable-fuzz
<br>
</div>

<div class='talk op-msg' data-timestamp='1608503640' id='421796'>
<a class='timestamp' href='#421796'><time timestamp='2020-12-20T22:34:00Z'>22:34</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
Ok, but the fuzzing build error is different right?
<br>
</div>

<div class='talk op-msg' data-timestamp='1608503700' id='421797'>
<a class='timestamp' href='#421797'><time timestamp='2020-12-20T22:35:00Z'>22:35</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
it&#x27;s the same error
<br>
</div>

<div class='talk op-msg' data-timestamp='1608503700' id='421798'>
<a class='timestamp' href='#421798'><time timestamp='2020-12-20T22:35:00Z'>22:35</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
fanquake, the change you made works on the condition that --enable-fuzz isn&#x27;t set, the failure is seemingly identical though
<br>
</div>

<div class='talk op-msg' data-timestamp='1608503760' id='421799'>
<a class='timestamp' href='#421799'><time timestamp='2020-12-20T22:36:00Z'>22:36</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
so your pr is an improvement, but there&#x27;s still an issue if that makes sense
<br>
</div>

<div class='talk op-msg' data-timestamp='1608503760' id='421800'>
<a class='timestamp' href='#421800'><time timestamp='2020-12-20T22:36:00Z'>22:36</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
it&#x27;s hard to bisect why without rebasing the original pr out, but there&#x27;s enough commits since that doing that is not trivial at all
<br>
</div>

<div class='talk op-msg' data-timestamp='1608503760' id='421801'>
<a class='timestamp' href='#421801'><time timestamp='2020-12-20T22:36:00Z'>22:36</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
how is &quot;/usr/bin/ld: error: ... &lt;corrupt x86 feature size: 0x8&gt;&quot; the same as &quot;multiple definition of `ConsumeNode(FuzzedDataProvider&amp;)&#x27;; test/fuzz/fuzz-addition_overflow.o:/home/bitcoin/bitcoin/src/./test/fuzz/util.h:290: first defined here&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1608503820' id='421802'>
<a class='timestamp' href='#421802'><time timestamp='2020-12-20T22:37:00Z'>22:37</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
I understand there is still  an error. However it is not the same one that is being fixed by my PR
<br>
</div>

<div class='talk op-msg' data-timestamp='1608503880' id='421803'>
<a class='timestamp' href='#421803'><time timestamp='2020-12-20T22:38:00Z'>22:38</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
fanquake, i guess im mixing up failures in my head, you&#x27;re right those are different
<br>
</div>

<div class='talk op-msg' data-timestamp='1608504120' id='421804'>
<a class='timestamp' href='#421804'><time timestamp='2020-12-20T22:42:00Z'>22:42</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
No worries. What you&#x27;re seeing now could be the same as what was reported here: <a href="https://github.com/bitcoin/bitcoin/pull/20560#issuecomment-748339644" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20560#issuecomment-748339644</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1608504480' id='421805'>
<a class='timestamp' href='#421805'><time timestamp='2020-12-20T22:48:00Z'>22:48</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
fanquake, yeah looks like it
<br>
</div>

<div class='talk op-msg' data-timestamp='1608506280' id='421806'>
<a class='timestamp' href='#421806'><time timestamp='2020-12-20T23:18:00Z'>23:18</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
fanquake, yeah that was it
<br>
</div>

<div class='talk op-msg' data-timestamp='1608506520' id='421807'>
<a class='timestamp' href='#421807'><time timestamp='2020-12-20T23:22:00Z'>23:22</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
fanquake, thanks
<br>
</div>

<div class='talk op-msg' data-timestamp='1608506520' id='421808'>
<a class='timestamp' href='#421808'><time timestamp='2020-12-20T23:22:00Z'>23:22</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] pstratem opened pull request #20733: inline non-member functions with body in fuzzing headers (master...2020-12-20-fuzz-inline) <a href="https://github.com/bitcoin/bitcoin/pull/20733" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20733</a>
<br>
</div>

</div>
</section>

</body>
</html>
