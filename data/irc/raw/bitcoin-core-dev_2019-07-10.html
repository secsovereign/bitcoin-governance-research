<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2019-07-10
 — 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2019-07-10' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:20 UTC</pre>
<pre><a href="/bitcoin-core-dev/2019-06-10">&lt;</a><span class='header'>    July 2019     </span><a href="/bitcoin-core-dev/2019-08-10">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;    <a class="" href="/bitcoin-core-dev/2019-07-01">1</a>  <a class="" href="/bitcoin-core-dev/2019-07-02">2</a>  <a class="" href="/bitcoin-core-dev/2019-07-03">3</a>  <a class="" href="/bitcoin-core-dev/2019-07-04">4</a>  <a class="" href="/bitcoin-core-dev/2019-07-05">5</a>  <a class="" href="/bitcoin-core-dev/2019-07-06">6</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2019-07-07">7</a>  <a class="" href="/bitcoin-core-dev/2019-07-08">8</a>  <a class="" href="/bitcoin-core-dev/2019-07-09">9</a> <a class="current" href="/bitcoin-core-dev/2019-07-10">10</a> <a class="" href="/bitcoin-core-dev/2019-07-11">11</a> <a class="" href="/bitcoin-core-dev/2019-07-12">12</a> <a class="" href="/bitcoin-core-dev/2019-07-13">13</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2019-07-14">14</a> <a class="" href="/bitcoin-core-dev/2019-07-15">15</a> <a class="" href="/bitcoin-core-dev/2019-07-16">16</a> <a class="" href="/bitcoin-core-dev/2019-07-17">17</a> <a class="" href="/bitcoin-core-dev/2019-07-18">18</a> <a class="" href="/bitcoin-core-dev/2019-07-19">19</a> <a class="" href="/bitcoin-core-dev/2019-07-20">20</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2019-07-21">21</a> <a class="" href="/bitcoin-core-dev/2019-07-22">22</a> <a class="" href="/bitcoin-core-dev/2019-07-23">23</a> <a class="" href="/bitcoin-core-dev/2019-07-24">24</a> <a class="" href="/bitcoin-core-dev/2019-07-25">25</a> <a class="" href="/bitcoin-core-dev/2019-07-26">26</a> <a class="" href="/bitcoin-core-dev/2019-07-27">27</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2019-07-28">28</a> <a class="" href="/bitcoin-core-dev/2019-07-29">29</a> <a class="" href="/bitcoin-core-dev/2019-07-30">30</a> <a class="" href="/bitcoin-core-dev/2019-07-31">31</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1562718180' id='671403'>
<a class='timestamp' href='#671403'><time timestamp='2019-07-10T00:23:00Z'>00:23</time></a>
&lt;<span class='nick nick-6'> jb55</span>&gt;
I screwed up my first psbt, I didn&#x27;t realize core created a sh(wpkh()) change address to m/84&#x27; which would have been a funds loss to a regular trezor user. hopefully future wallet devs don&#x27;t make that mistake.
<br>
</div>

<div class='talk op-msg' data-timestamp='1562718240' id='671404'>
<a class='timestamp' href='#671404'><time timestamp='2019-07-10T00:24:00Z'>00:24</time></a>
&lt;<span class='nick nick-6'> jb55</span>&gt;
not really &quot;loss&quot; but would require some manual recovery with sign-tx which I just did
<br>
</div>

<div class='talk op-msg' data-timestamp='1562718240' id='671405'>
<a class='timestamp' href='#671405'><time timestamp='2019-07-10T00:24:00Z'>00:24</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jb55: core doesn&#x27;t care about derivation paths
<br>
</div>

<div class='talk op-msg' data-timestamp='1562718240' id='671406'>
<a class='timestamp' href='#671406'><time timestamp='2019-07-10T00:24:00Z'>00:24</time></a>
&lt;<span class='nick nick-6'> jb55</span>&gt;
yeah
<br>
</div>

<div class='talk op-msg' data-timestamp='1562718240' id='671407'>
<a class='timestamp' href='#671407'><time timestamp='2019-07-10T00:24:00Z'>00:24</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it creates whatever you imported as change
<br>
</div>

<div class='talk op-msg' data-timestamp='1562718300' id='671408'>
<a class='timestamp' href='#671408'><time timestamp='2019-07-10T00:25:00Z'>00:25</time></a>
&lt;<span class='nick nick-6'> jb55</span>&gt;
I&#x27;m just thinking about people building hardware wallet stuff, since core only cares about addresses and not paths, would be a common source of dev errors I predict
<br>
</div>

<div class='talk op-msg' data-timestamp='1562718420' id='671409'>
<a class='timestamp' href='#671409'><time timestamp='2019-07-10T00:27:00Z'>00:27</time></a>
&lt;<span class='nick nick-6'> jb55</span>&gt;
afaik native descriptor wallets don&#x27;t help here either if I understand that PR correctly
<br>
</div>

<div class='talk op-msg' data-timestamp='1562718720' id='671410'>
<a class='timestamp' href='#671410'><time timestamp='2019-07-10T00:32:00Z'>00:32</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i don&#x27;t see how it would be related, no
<br>
</div>

<div class='talk op-msg' data-timestamp='1562718780' id='671411'>
<a class='timestamp' href='#671411'><time timestamp='2019-07-10T00:33:00Z'>00:33</time></a>
&lt;<span class='nick nick-6'> jb55</span>&gt;
sipa: with importmulti I imported wpkh addresses, but when I dumpwallet I see sh(wpkh()) addresses. I&#x27;m still a bit confused as to what is actually stored on disk
<br>
</div>

<div class='talk op-msg' data-timestamp='1562718840' id='671412'>
<a class='timestamp' href='#671412'><time timestamp='2019-07-10T00:34:00Z'>00:34</time></a>
&lt;<span class='nick nick-6'> jb55</span>&gt;
just pubkeys?
<br>
</div>

<div class='talk op-msg' data-timestamp='1562718960' id='671413'>
<a class='timestamp' href='#671413'><time timestamp='2019-07-10T00:36:00Z'>00:36</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jb55: keys and scripts
<br>
</div>

<div class='talk op-msg' data-timestamp='1562718960' id='671414'>
<a class='timestamp' href='#671414'><time timestamp='2019-07-10T00:36:00Z'>00:36</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and what is treated as &quot;mine&quot; is a based om complex historically grown rules that make little sense
<br>
</div>

<div class='talk op-msg' data-timestamp='1562719020' id='671415'>
<a class='timestamp' href='#671415'><time timestamp='2019-07-10T00:37:00Z'>00:37</time></a>
&lt;<span class='nick nick-6'> jb55</span>&gt;
it&#x27;s possible I screwed something up, but I find it weird that it would generate sh(wpkh()) change addresses after a wpkh import. I guess that descriptor info isn&#x27;t retained and it just does p2sh-segwit by default
<br>
</div>

<div class='talk op-msg' data-timestamp='1562719020' id='671416'>
<a class='timestamp' href='#671416'><time timestamp='2019-07-10T00:37:00Z'>00:37</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jb55: importing something (for now) in now restricts it to be importing just that
<br>
</div>

<div class='talk op-msg' data-timestamp='1562719080' id='671417'>
<a class='timestamp' href='#671417'><time timestamp='2019-07-10T00:38:00Z'>00:38</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it does make sure the result is &quot;policy compatible&quot;; e.g. importing a multisig will never result in your wallet treating payments to individual keys in it as your
<br>
</div>

<div class='talk op-msg' data-timestamp='1562719080' id='671418'>
<a class='timestamp' href='#671418'><time timestamp='2019-07-10T00:38:00Z'>00:38</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but other than that... the current representation simply has no way to represent one exact type of imported things... it&#x27;s just keys and script
<br>
</div>

<div class='talk op-msg' data-timestamp='1562719080' id='671419'>
<a class='timestamp' href='#671419'><time timestamp='2019-07-10T00:38:00Z'>00:38</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that&#x27;s actually the entire reason why i started working on descriptors
<br>
</div>

<div class='talk op-msg' data-timestamp='1562719140' id='671420'>
<a class='timestamp' href='#671420'><time timestamp='2019-07-10T00:39:00Z'>00:39</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
*in now -&gt; in no way
<br>
</div>

<div class='talk op-msg' data-timestamp='1562719320' id='671421'>
<a class='timestamp' href='#671421'><time timestamp='2019-07-10T00:42:00Z'>00:42</time></a>
&lt;<span class='nick nick-6'> jb55</span>&gt;
sipa: cool. in the meantime I&#x27;ll be more careful with psbts...
<br>
</div>

<div class='talk op-msg' data-timestamp='1562719380' id='671422'>
<a class='timestamp' href='#671422'><time timestamp='2019-07-10T00:43:00Z'>00:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
with getrawchangeaddress you can control what type of address you create
<br>
</div>

<div class='talk op-msg' data-timestamp='1562719500' id='671423'>
<a class='timestamp' href='#671423'><time timestamp='2019-07-10T00:45:00Z'>00:45</time></a>
&lt;<span class='nick nick-6'> jb55</span>&gt;
yeah and there&#x27;s a change_type option in createwalletfundedpsbt I just forgot to set it to bech32 :[
<br>
</div>

<div class='talk op-msg' data-timestamp='1562719620' id='671424'>
<a class='timestamp' href='#671424'><time timestamp='2019-07-10T00:47:00Z'>00:47</time></a>
&lt;<span class='nick nick-6'> jb55</span>&gt;
s/createwalletfundedpsbt/walletcreatefundedpsbt/ 
<br>
</div>

<div class='talk op-msg' data-timestamp='1562732280' id='671425'>
<a class='timestamp' href='#671425'><time timestamp='2019-07-10T04:18:00Z'>04:18</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
jb55: native descriptor wallets will help as you would import one descriptor for change sh(wpkh()) and a different for wpkh() and so on
<br>
</div>

<div class='talk op-msg' data-timestamp='1562732340' id='671426'>
<a class='timestamp' href='#671426'><time timestamp='2019-07-10T04:19:00Z'>04:19</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
but the wallet currently treats all keys the same and any key can be used for p2sh-segwit, legacy, or bech32
<br>
</div>

<div class='talk op-msg' data-timestamp='1562732460' id='671427'>
<a class='timestamp' href='#671427'><time timestamp='2019-07-10T04:21:00Z'>04:21</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
jb55: if you&#x27;re using Core + HWI, it shouldn&#x27;t matter to you whether the path is the type the trezor expects. it will still sign regardless, just complain when the path isn&#x27;t what it expects
<br>
</div>

<div class='talk op-msg' data-timestamp='1562732460' id='671428'>
<a class='timestamp' href='#671428'><time timestamp='2019-07-10T04:21:00Z'>04:21</time></a>
&lt;<span class='nick nick-6'> jb55</span>&gt;
achow101: that means that combo multiimports should do the same thing as any other multiimport on the same range?
<br>
</div>

<div class='talk op-msg' data-timestamp='1562732460' id='671429'>
<a class='timestamp' href='#671429'><time timestamp='2019-07-10T04:21:00Z'>04:21</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
right now it does
<br>
</div>

<div class='talk op-msg' data-timestamp='1562732460' id='671430'>
<a class='timestamp' href='#671430'><time timestamp='2019-07-10T04:21:00Z'>04:21</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
in theory
<br>
</div>

<div class='talk op-msg' data-timestamp='1562732580' id='671431'>
<a class='timestamp' href='#671431'><time timestamp='2019-07-10T04:23:00Z'>04:23</time></a>
&lt;<span class='nick nick-6'> jb55</span>&gt;
achow101: it prompted the change address on the trezor display, because I guess it thought it was someone else&#x27;s address.
<br>
</div>

<div class='talk op-msg' data-timestamp='1562732580' id='671432'>
<a class='timestamp' href='#671432'><time timestamp='2019-07-10T04:23:00Z'>04:23</time></a>
&lt;<span class='nick nick-6'> jb55</span>&gt;
Makes sense in hindsight, thought it was just some bug
<br>
</div>

<div class='talk op-msg' data-timestamp='1562732640' id='671433'>
<a class='timestamp' href='#671433'><time timestamp='2019-07-10T04:24:00Z'>04:24</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
IIRC change detection is disabled for trezor by HWI
<br>
</div>

<div class='talk op-msg' data-timestamp='1562732700' id='671434'>
<a class='timestamp' href='#671434'><time timestamp='2019-07-10T04:25:00Z'>04:25</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
so that should be expected behavior regardless of derivation path
<br>
</div>

<div class='talk op-msg' data-timestamp='1562732700' id='671435'>
<a class='timestamp' href='#671435'><time timestamp='2019-07-10T04:25:00Z'>04:25</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
I don&#x27;t think we give it the derivation path for outputs (yet). This is intentional behavior because change detection isn&#x27;t very smart
<br>
</div>

<div class='talk op-msg' data-timestamp='1562732760' id='671436'>
<a class='timestamp' href='#671436'><time timestamp='2019-07-10T04:26:00Z'>04:26</time></a>
&lt;<span class='nick nick-6'> jb55</span>&gt;
ah ok yeah I read about, and assumed that what was happening the first time around
<br>
</div>

<div class='talk op-msg' data-timestamp='1562733000' id='671437'>
<a class='timestamp' href='#671437'><time timestamp='2019-07-10T04:30:00Z'>04:30</time></a>
&lt;<span class='nick nick-6'> jb55</span>&gt;
achow101: one thing I couldn&#x27;t get working was a walletcreatefundedpsbt that was flexible enough to express a sh(wpkh(m/84&#x27;/..)) -&gt; wpkh(m/84&#x27;/...) tx. I tried specifying a specific change address with no outputs but that wasn&#x27;t allowed
<br>
</div>

<div class='talk op-msg' data-timestamp='1562733060' id='671438'>
<a class='timestamp' href='#671438'><time timestamp='2019-07-10T04:31:00Z'>04:31</time></a>
&lt;<span class='nick nick-6'> jb55</span>&gt;
so I ended up just doing an interactive trezorctl sign-tx 
<br>
</div>

<div class='talk op-msg' data-timestamp='1562733120' id='671439'>
<a class='timestamp' href='#671439'><time timestamp='2019-07-10T04:32:00Z'>04:32</time></a>
&lt;<span class='nick nick-6'> jb55</span>&gt;
perhaps createpsbt could do this but I&#x27;m not sure how to get that to work with hwi...
<br>
</div>

<div class='talk op-msg' data-timestamp='1562733180' id='671440'>
<a class='timestamp' href='#671440'><time timestamp='2019-07-10T04:33:00Z'>04:33</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
jb55: huh? was it not filling in the input, or did it not like the output? what about itwasn&#x27;t working?
<br>
</div>

<div class='talk op-msg' data-timestamp='1562733240' id='671441'>
<a class='timestamp' href='#671441'><time timestamp='2019-07-10T04:34:00Z'>04:34</time></a>
&lt;<span class='nick nick-6'> jb55</span>&gt;
achow101: input was fine, but I only wanted one output which was the exact same derivation path but as a wpkh output instead of sh(wpkh). I couldn&#x27;t figure out how to do that with walletcreatefundedpsbt.
<br>
</div>

<div class='talk op-msg' data-timestamp='1562733300' id='671442'>
<a class='timestamp' href='#671442'><time timestamp='2019-07-10T04:35:00Z'>04:35</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
just get a new address, set that as the output, and use the option &quot;subtractFeeFromOutputs&quot;:[0]
<br>
</div>

<div class='talk op-msg' data-timestamp='1562733300' id='671443'>
<a class='timestamp' href='#671443'><time timestamp='2019-07-10T04:35:00Z'>04:35</time></a>
&lt;<span class='nick nick-6'> jb55</span>&gt;
that&#x27;s the ticket
<br>
</div>

<div class='talk op-msg' data-timestamp='1562733300' id='671444'>
<a class='timestamp' href='#671444'><time timestamp='2019-07-10T04:35:00Z'>04:35</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
and send the full input amount to that output
<br>
</div>

<div class='talk op-msg' data-timestamp='1562733360' id='671445'>
<a class='timestamp' href='#671445'><time timestamp='2019-07-10T04:36:00Z'>04:36</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
it shouldn&#x27;t care
<br>
</div>

<div class='talk op-msg' data-timestamp='1562733360' id='671446'>
<a class='timestamp' href='#671446'><time timestamp='2019-07-10T04:36:00Z'>04:36</time></a>
&lt;<span class='nick nick-6'> jb55</span>&gt;
that&#x27;s good to know, I haven&#x27;t used that option before but that makes sense!
<br>
</div>

<div class='talk op-msg' data-timestamp='1562736480' id='671447'>
<a class='timestamp' href='#671447'><time timestamp='2019-07-10T05:28:00Z'>05:28</time></a>
&lt;<span class='nick nick-14'> hebasto</span>&gt;
MarcoFalke: hi! if #16362 has been marked with 0.19.0 milestone, could #16224 be marked 0.19.0 milestone as well?
<br>
</div>

<div class='talk op-msg' data-timestamp='1562736480' id='671448'>
<a class='timestamp' href='#671448'><time timestamp='2019-07-10T05:28:00Z'>05:28</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/16362" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/16362</a> | gui: Bilingual translation by hebasto · Pull Request #16362 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1562736480' id='671449'>
<a class='timestamp' href='#671449'><time timestamp='2019-07-10T05:28:00Z'>05:28</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/16224" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/16224</a> | gui: Bilingual GUI error messages by hebasto · Pull Request #16224 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1562750880' id='671450'>
<a class='timestamp' href='#671450'><time timestamp='2019-07-10T09:28:00Z'>09:28</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
hebasto: have done
<br>
</div>

<div class='talk op-msg' data-timestamp='1562750940' id='671451'>
<a class='timestamp' href='#671451'><time timestamp='2019-07-10T09:29:00Z'>09:29</time></a>
&lt;<span class='nick nick-14'> hebasto</span>&gt;
fanquake: thanks
<br>
</div>

<div class='talk op-msg' data-timestamp='1562751240' id='671452'>
<a class='timestamp' href='#671452'><time timestamp='2019-07-10T09:34:00Z'>09:34</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
np
<br>
</div>

<div class='talk op-msg' data-timestamp='1562751960' id='671453'>
<a class='timestamp' href='#671453'><time timestamp='2019-07-10T09:46:00Z'>09:46</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 4 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/357488f660a5...8d1286014c61" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/357488f660a5...8d1286014c61</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1562751960' id='671454'>
<a class='timestamp' href='#671454'><time timestamp='2019-07-10T09:46:00Z'>09:46</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 172213b Andrew Chow: Add GetNewDestination to CWallet to fetch new destinations
<br>
</div>

<div class='talk op-msg' data-timestamp='1562751960' id='671455'>
<a class='timestamp' href='#671455'><time timestamp='2019-07-10T09:46:00Z'>09:46</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 33d13ed Andrew Chow: Replace CReserveKey with ReserveDestinatoin
<br>
</div>

<div class='talk op-msg' data-timestamp='1562751960' id='671456'>
<a class='timestamp' href='#671456'><time timestamp='2019-07-10T09:46:00Z'>09:46</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 8e7f930 Andrew Chow: Add GetNewChangeDestination for getting new change Destinations
<br>
</div>

<div class='talk op-msg' data-timestamp='1562752020' id='671457'>
<a class='timestamp' href='#671457'><time timestamp='2019-07-10T09:47:00Z'>09:47</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj merged pull request #16237: Have the wallet give out destinations instead of keys (master...cwallet-getnewaddr) <a href="https://github.com/bitcoin/bitcoin/pull/16237" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/16237</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1562753160' id='671458'>
<a class='timestamp' href='#671458'><time timestamp='2019-07-10T10:06:00Z'>10:06</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 3 commits to 0.18: <a href="https://github.com/bitcoin/bitcoin/compare/1fb747a8007c...410774ab89fd" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/1fb747a8007c...410774ab89fd</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1562753160' id='671459'>
<a class='timestamp' href='#671459'><time timestamp='2019-07-10T10:06:00Z'>10:06</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/0.18 e2f7677 João Barbosa: gui: Fix missing qRegisterMetaType(WalletModel*)
<br>
</div>

<div class='talk op-msg' data-timestamp='1562753160' id='671460'>
<a class='timestamp' href='#671460'><time timestamp='2019-07-10T10:06:00Z'>10:06</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/0.18 df695db João Barbosa: qt: Assert QMetaObject::invokeMethod result
<br>
</div>

<div class='talk op-msg' data-timestamp='1562753160' id='671461'>
<a class='timestamp' href='#671461'><time timestamp='2019-07-10T10:06:00Z'>10:06</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/0.18 410774a Wladimir J. van der Laan: Merge #16359: 0.18: Backport &quot;qt: Assert QMetaObject::invokeMethod result&quot;...
<br>
</div>

<div class='talk op-msg' data-timestamp='1562753220' id='671462'>
<a class='timestamp' href='#671462'><time timestamp='2019-07-10T10:07:00Z'>10:07</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj merged pull request #16359: 0.18: Backport &quot;qt: Assert QMetaObject::invokeMethod result&quot; (0.18...2019-07-0.18-backports) <a href="https://github.com/bitcoin/bitcoin/pull/16359" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/16359</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1562754240' id='671463'>
<a class='timestamp' href='#671463'><time timestamp='2019-07-10T10:24:00Z'>10:24</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 3 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/8d1286014c61...5859b7dc6ff5" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/8d1286014c61...5859b7dc6ff5</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1562754240' id='671464'>
<a class='timestamp' href='#671464'><time timestamp='2019-07-10T10:24:00Z'>10:24</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 48bcb2a qmma: Disable other targets when enable-fuzz is set
<br>
</div>

<div class='talk op-msg' data-timestamp='1562754240' id='671465'>
<a class='timestamp' href='#671465'><time timestamp='2019-07-10T10:24:00Z'>10:24</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 84edfc7 qmma: Update doc and CI config
<br>
</div>

<div class='talk op-msg' data-timestamp='1562754240' id='671466'>
<a class='timestamp' href='#671466'><time timestamp='2019-07-10T10:24:00Z'>10:24</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 5859b7d Wladimir J. van der Laan: Merge #16338: test: Disable other targets when enable-fuzz is set
<br>
</div>

<div class='talk op-msg' data-timestamp='1562754300' id='671467'>
<a class='timestamp' href='#671467'><time timestamp='2019-07-10T10:25:00Z'>10:25</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj merged pull request #16338: test: Disable other targets when enable-fuzz is set (master...enable-fuzz) <a href="https://github.com/bitcoin/bitcoin/pull/16338" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/16338</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1562755320' id='671468'>
<a class='timestamp' href='#671468'><time timestamp='2019-07-10T10:42:00Z'>10:42</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 2 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/5859b7dc6ff5...d1fc827300e2" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/5859b7dc6ff5...d1fc827300e2</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1562755320' id='671469'>
<a class='timestamp' href='#671469'><time timestamp='2019-07-10T10:42:00Z'>10:42</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 0512f05 fanquake: depends: expat 2.2.7
<br>
</div>

<div class='talk op-msg' data-timestamp='1562755320' id='671470'>
<a class='timestamp' href='#671470'><time timestamp='2019-07-10T10:42:00Z'>10:42</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master d1fc827 Wladimir J. van der Laan: Merge #16270: depends: expat 2.2.7
<br>
</div>

<div class='talk op-msg' data-timestamp='1562755380' id='671471'>
<a class='timestamp' href='#671471'><time timestamp='2019-07-10T10:43:00Z'>10:43</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj merged pull request #16270: depends: expat 2.2.7 (master...expat-2-2-7) <a href="https://github.com/bitcoin/bitcoin/pull/16270" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/16270</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1562760060' id='671472'>
<a class='timestamp' href='#671472'><time timestamp='2019-07-10T12:01:00Z'>12:01</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 4 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/d1fc827300e2...6c1e45c4c416" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/d1fc827300e2...6c1e45c4c416</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1562760060' id='671473'>
<a class='timestamp' href='#671473'><time timestamp='2019-07-10T12:01:00Z'>12:01</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 5c1b971 João Barbosa: wallet: Fix -maxtxfee check by moving it to CWallet::CreateTransaction
<br>
</div>

<div class='talk op-msg' data-timestamp='1562760060' id='671474'>
<a class='timestamp' href='#671474'><time timestamp='2019-07-10T12:01:00Z'>12:01</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 1775501 MarcoFalke: wallet: Remove unreachable code in CreateTransaction
<br>
</div>

<div class='talk op-msg' data-timestamp='1562760060' id='671475'>
<a class='timestamp' href='#671475'><time timestamp='2019-07-10T12:01:00Z'>12:01</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 0d101a3 MarcoFalke: test: Add test for maxtxfee option
<br>
</div>

<div class='talk op-msg' data-timestamp='1562760120' id='671476'>
<a class='timestamp' href='#671476'><time timestamp='2019-07-10T12:02:00Z'>12:02</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj merged pull request #16322: wallet: Fix -maxtxfee check by moving it to CWallet::CreateTransaction (master...2019-07-fix-16257) <a href="https://github.com/bitcoin/bitcoin/pull/16322" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/16322</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1562763120' id='671477'>
<a class='timestamp' href='#671477'><time timestamp='2019-07-10T12:52:00Z'>12:52</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Is there a way to run only a subset of functional tests, e.g. just the wallet tests? &quot;python test/functional/wallet*&quot; does not do the trick.
<br>
</div>

<div class='talk op-msg' data-timestamp='1562764440' id='671478'>
<a class='timestamp' href='#671478'><time timestamp='2019-07-10T13:14:00Z'>13:14</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
provoostenator: for test in test/functional/wallet*; do $test; done
<br>
</div>

<div class='talk op-msg' data-timestamp='1562764500' id='671479'>
<a class='timestamp' href='#671479'><time timestamp='2019-07-10T13:15:00Z'>13:15</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
or if you want to get fancy: parallel ::: test/functional/wallet*
<br>
</div>

<div class='talk op-msg' data-timestamp='1562764560' id='671480'>
<a class='timestamp' href='#671480'><time timestamp='2019-07-10T13:16:00Z'>13:16</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
That works, but it&#x27;s much more verbose than test_runner and it doesn&#x27;t stop if any test fails.
<br>
</div>

<div class='talk op-msg' data-timestamp='1562764620' id='671481'>
<a class='timestamp' href='#671481'><time timestamp='2019-07-10T13:17:00Z'>13:17</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
--halt now,fail=1
<br>
</div>

<div class='talk op-msg' data-timestamp='1562764800' id='671482'>
<a class='timestamp' href='#671482'><time timestamp='2019-07-10T13:20:00Z'>13:20</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
you can pass a filter argument to test_runner afaik
<br>
</div>

<div class='talk op-msg' data-timestamp='1562765160' id='671483'>
<a class='timestamp' href='#671483'><time timestamp='2019-07-10T13:26:00Z'>13:26</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke opened pull request #16366: init: Use InitError for all errors in bitcoind/qt (master...1907-initErrorGui) <a href="https://github.com/bitcoin/bitcoin/pull/16366" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/16366</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1562765520' id='671484'>
<a class='timestamp' href='#671484'><time timestamp='2019-07-10T13:32:00Z'>13:32</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
wumpus: only --exclude
<br>
</div>

<div class='talk op-msg' data-timestamp='1562766120' id='671485'>
<a class='timestamp' href='#671485'><time timestamp='2019-07-10T13:42:00Z'>13:42</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
MarcoFalke: to backport #16322 I&#x27;ll have to include #15638 -&gt; #15778 -&gt; #16257
<br>
</div>

<div class='talk op-msg' data-timestamp='1562766120' id='671486'>
<a class='timestamp' href='#671486'><time timestamp='2019-07-10T13:42:00Z'>13:42</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/16322" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/16322</a> | wallet: Fix -maxtxfee check by moving it to CWallet::CreateTransaction by promag · Pull Request #16322 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1562766120' id='671487'>
<a class='timestamp' href='#671487'><time timestamp='2019-07-10T13:42:00Z'>13:42</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/15638" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/15638</a> | Move-only: Pull wallet code out of libbitcoin_server by ryanofsky · Pull Request #15638 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1562766120' id='671488'>
<a class='timestamp' href='#671488'><time timestamp='2019-07-10T13:42:00Z'>13:42</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/15778" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/15778</a> | [wallet] Move maxtxfee from node to wallet by jnewbery · Pull Request #15778 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1562766120' id='671489'>
<a class='timestamp' href='#671489'><time timestamp='2019-07-10T13:42:00Z'>13:42</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/16257" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/16257</a> | [wallet] abort when attempting to fund a transaction above -maxtxfee by Sjors · Pull Request #16257 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1562766180' id='671490'>
<a class='timestamp' href='#671490'><time timestamp='2019-07-10T13:43:00Z'>13:43</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
maybe I can only pick some commits of these pulls, especially 15638
<br>
</div>

<div class='talk op-msg' data-timestamp='1562766240' id='671491'>
<a class='timestamp' href='#671491'><time timestamp='2019-07-10T13:44:00Z'>13:44</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
but let me know if I should proceed
<br>
</div>

<div class='talk op-msg' data-timestamp='1562766240' id='671492'>
<a class='timestamp' href='#671492'><time timestamp='2019-07-10T13:44:00Z'>13:44</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
provoostenator: i think if you&#x27;re in the test/functional directory, you can do ./test_runner.py wallet* and it works?
<br>
</div>

<div class='talk op-msg' data-timestamp='1562768700' id='671493'>
<a class='timestamp' href='#671493'><time timestamp='2019-07-10T14:25:00Z'>14:25</time></a>
&lt;<span class='nick nick-10'> ariard</span>&gt;
hey if anyone wants to review some wallet-chain refactoring, I&#x27;ve finally solved the lock issue on #15713 and all tests passed
<br>
</div>

<div class='talk op-msg' data-timestamp='1562768700' id='671494'>
<a class='timestamp' href='#671494'><time timestamp='2019-07-10T14:25:00Z'>14:25</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/15713" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/15713</a> | refactor: Replace chain relayTransactions/submitMemoryPool by higher method by ariard · Pull Request #15713 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1562768760' id='671495'>
<a class='timestamp' href='#671495'><time timestamp='2019-07-10T14:26:00Z'>14:26</time></a>
&lt;<span class='nick nick-10'> ariard</span>&gt;
IMO, I think we need to preserve lock order (cs_main  - cs_wallet) until we are done on Chain::Lock refactoring and swap it at once
<br>
</div>

<div class='talk op-msg' data-timestamp='1562768940' id='671496'>
<a class='timestamp' href='#671496'><time timestamp='2019-07-10T14:29:00Z'>14:29</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
sdaftuar: bingo! That only works from within the directory itself weirdly enough.
<br>
</div>

<div class='talk op-msg' data-timestamp='1562769060' id='671497'>
<a class='timestamp' href='#671497'><time timestamp='2019-07-10T14:31:00Z'>14:31</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
provoostenator: i think it&#x27;s just because we don&#x27;t strip the path when test_runner compares its arguments to what tests it knows about? i didn&#x27;t investigate though
<br>
</div>

<div class='talk op-msg' data-timestamp='1562770560' id='671498'>
<a class='timestamp' href='#671498'><time timestamp='2019-07-10T14:56:00Z'>14:56</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
oh that&#x27;s cool. test prefix naming makes even more sense now
<br>
</div>

<div class='talk op-msg' data-timestamp='1562770560' id='671499'>
<a class='timestamp' href='#671499'><time timestamp='2019-07-10T14:56:00Z'>14:56</time></a>
&lt;<span class='nick nick-10'> elichai2</span>&gt;
If I want to add manual psbt constructions support, does it makes sense to have it in `bitcoin-tx`? regular bitcoin core rpc or even a new `bitcoin-psbt`?
<br>
</div>

<div class='talk op-msg' data-timestamp='1562770620' id='671500'>
<a class='timestamp' href='#671500'><time timestamp='2019-07-10T14:57:00Z'>14:57</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
Isn&#x27;t there already psbt support in the rpc?
<br>
</div>

<div class='talk op-msg' data-timestamp='1562770800' id='671501'>
<a class='timestamp' href='#671501'><time timestamp='2019-07-10T15:00:00Z'>15:00</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
should be quite robust already in master
<br>
</div>

<div class='talk op-msg' data-timestamp='1562770800' id='671502'>
<a class='timestamp' href='#671502'><time timestamp='2019-07-10T15:00:00Z'>15:00</time></a>
&lt;<span class='nick nick-10'> elichai2</span>&gt;
MarcoFalke: only commands that constructs it through the wallet (as far as I understand)
<br>
</div>

<div class='talk op-msg' data-timestamp='1562770860' id='671503'>
<a class='timestamp' href='#671503'><time timestamp='2019-07-10T15:01:00Z'>15:01</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
`createpsbt`? 
<br>
</div>

<div class='talk op-msg' data-timestamp='1562770860' id='671504'>
<a class='timestamp' href='#671504'><time timestamp='2019-07-10T15:01:00Z'>15:01</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
there are a number of non-wallet ones
<br>
</div>

<div class='talk op-msg' data-timestamp='1562771040' id='671505'>
<a class='timestamp' href='#671505'><time timestamp='2019-07-10T15:04:00Z'>15:04</time></a>
&lt;<span class='nick nick-10'> elichai2</span>&gt;
instagibbs: it&#x27;s just the creator role, not the updater, meaning it doesn&#x27;t add any inputs/outputs to the psbt. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1562771100' id='671506'>
<a class='timestamp' href='#671506'><time timestamp='2019-07-10T15:05:00Z'>15:05</time></a>
&lt;<span class='nick nick-10'> elichai2</span>&gt;
it creates a raw transaction and then add empty inputs outputs
<br>
</div>

<div class='talk op-msg' data-timestamp='1562771100' id='671507'>
<a class='timestamp' href='#671507'><time timestamp='2019-07-10T15:05:00Z'>15:05</time></a>
&lt;<span class='nick nick-10'> elichai2</span>&gt;
(so maybe a better thing would be just to extend that command to also accept inputs/outputs?)
<br>
</div>

<div class='talk op-msg' data-timestamp='1562771160' id='671508'>
<a class='timestamp' href='#671508'><time timestamp='2019-07-10T15:06:00Z'>15:06</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
might be #bitcoin chat, achow101 would know
<br>
</div>

<div class='talk op-msg' data-timestamp='1562771160' id='671509'>
<a class='timestamp' href='#671509'><time timestamp='2019-07-10T15:06:00Z'>15:06</time></a>
&lt;<span class='nick nick-10'> elichai2</span>&gt;
altough there&#x27;s `utxoupdatepsbt` which will do the updates but using descriptors.
<br>
</div>

<div class='talk op-msg' data-timestamp='1562771220' id='671510'>
<a class='timestamp' href='#671510'><time timestamp='2019-07-10T15:07:00Z'>15:07</time></a>
&lt;<span class='nick nick-10'> elichai2</span>&gt;
k, i&#x27;ll talk with him
<br>
</div>

<div class='talk op-msg' data-timestamp='1562771220' id='671511'>
<a class='timestamp' href='#671511'><time timestamp='2019-07-10T15:07:00Z'>15:07</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
t
<br>
</div>

<div class='talk op-msg' data-timestamp='1562771220' id='671512'>
<a class='timestamp' href='#671512'><time timestamp='2019-07-10T15:07:00Z'>15:07</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
there is createpsbt and walletcreatefundedpsbt
<br>
</div>

<div class='talk op-msg' data-timestamp='1562771280' id='671513'>
<a class='timestamp' href='#671513'><time timestamp='2019-07-10T15:08:00Z'>15:08</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and i think we need a bitcoin-psbt tool that can sign/update a psbt with keys and descriptors
<br>
</div>

<div class='talk op-msg' data-timestamp='1562771340' id='671514'>
<a class='timestamp' href='#671514'><time timestamp='2019-07-10T15:09:00Z'>15:09</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
elichai2: but a generic updater is hard, as it needs access to the outputs/transactions being spent
<br>
</div>

<div class='talk op-msg' data-timestamp='1562771340' id='671515'>
<a class='timestamp' href='#671515'><time timestamp='2019-07-10T15:09:00Z'>15:09</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
so you can&#x27;t really have all creation/updating done in an offline tool
<br>
</div>

<div class='talk op-msg' data-timestamp='1562771400' id='671516'>
<a class='timestamp' href='#671516'><time timestamp='2019-07-10T15:10:00Z'>15:10</time></a>
&lt;<span class='nick nick-10'> elichai2</span>&gt;
sipa: you can make the user provide everything that&#x27;s needed, like createrawtransaction
<br>
</div>

<div class='talk op-msg' data-timestamp='1562771460' id='671517'>
<a class='timestamp' href='#671517'><time timestamp='2019-07-10T15:11:00Z'>15:11</time></a>
&lt;<span class='nick nick-10'> elichai2</span>&gt;
(or signrawtransactionwithkey )
<br>
</div>

<div class='talk op-msg' data-timestamp='1562771460' id='671518'>
<a class='timestamp' href='#671518'><time timestamp='2019-07-10T15:11:00Z'>15:11</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
elichai2: right
<br>
</div>

<div class='talk op-msg' data-timestamp='1562771520' id='671519'>
<a class='timestamp' href='#671519'><time timestamp='2019-07-10T15:12:00Z'>15:12</time></a>
&lt;<span class='nick nick-10'> elichai2</span>&gt;
sipa: i&#x27;m mostly trying to figure out if there&#x27;s a way to integrate p2c and taproot fields into PSBT without adding full wallet support yet(which is a lot more work)
<br>
</div>

<div class='talk op-msg' data-timestamp='1562771520' id='671520'>
<a class='timestamp' href='#671520'><time timestamp='2019-07-10T15:12:00Z'>15:12</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
elichai2: you can if you don&#x27;t support it
<br>
</div>

<div class='talk op-msg' data-timestamp='1562771520' id='671521'>
<a class='timestamp' href='#671521'><time timestamp='2019-07-10T15:12:00Z'>15:12</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
not sure what &quot;full wallet support&quot; means otherwise
<br>
</div>

<div class='talk op-msg' data-timestamp='1562771580' id='671522'>
<a class='timestamp' href='#671522'><time timestamp='2019-07-10T15:13:00Z'>15:13</time></a>
&lt;<span class='nick nick-10'> elichai2</span>&gt;
adding classes and types for witness v1, adding descriptors to save the full taproot tree, constructing of taproot addresses.. etc
<br>
</div>

<div class='talk op-msg' data-timestamp='1562771640' id='671523'>
<a class='timestamp' href='#671523'><time timestamp='2019-07-10T15:14:00Z'>15:14</time></a>
&lt;<span class='nick nick-10'> elichai2</span>&gt;
I want to add it to the PSBT standard so that other wallets can start working on support this even before it&#x27;s in bitcoin core&#x27;s wallet (assuming of course taproot will get activated)
<br>
</div>

<div class='talk op-msg' data-timestamp='1562771640' id='671524'>
<a class='timestamp' href='#671524'><time timestamp='2019-07-10T15:14:00Z'>15:14</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but a standalone tool which you give a psbt and a bunch of descriptors, private keys, xpubs, previous txn, utxos, ... and just updates everything and optionally signs would be really cool
<br>
</div>

<div class='talk op-msg' data-timestamp='1562771760' id='671525'>
<a class='timestamp' href='#671525'><time timestamp='2019-07-10T15:16:00Z'>15:16</time></a>
&lt;<span class='nick nick-10'> elichai2</span>&gt;
so you think it should be separate from bitcoin-tx
<br>
</div>

<div class='talk op-msg' data-timestamp='1562771820' id='671526'>
<a class='timestamp' href='#671526'><time timestamp='2019-07-10T15:17:00Z'>15:17</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i think so
<br>
</div>

<div class='talk op-msg' data-timestamp='1562771820' id='671527'>
<a class='timestamp' href='#671527'><time timestamp='2019-07-10T15:17:00Z'>15:17</time></a>
&lt;<span class='nick nick-10'> elichai2</span>&gt;
I think i&#x27;ll start with a standalone RPC method and hopefully divide it into a separate tool (I want to have some PoC working to start a mailing list conversation around the new PSBT fields)
<br>
</div>

<div class='talk op-msg' data-timestamp='1562771880' id='671528'>
<a class='timestamp' href='#671528'><time timestamp='2019-07-10T15:18:00Z'>15:18</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
bitcoin-tx is really &quot;transformation based&quot; thing which you give an input and then specify some transformations to apply
<br>
</div>

<div class='talk op-msg' data-timestamp='1562771940' id='671529'>
<a class='timestamp' href='#671529'><time timestamp='2019-07-10T15:19:00Z'>15:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
for bitcoin-psbt i&#x27;m more thinking something which you give a bunch of information and uses it where useful
<br>
</div>

<div class='talk op-msg' data-timestamp='1562771940' id='671530'>
<a class='timestamp' href='#671530'><time timestamp='2019-07-10T15:19:00Z'>15:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
elichai2: not everyone likes utility RPCs that could be separate tools instead
<br>
</div>

<div class='talk op-msg' data-timestamp='1562772000' id='671531'>
<a class='timestamp' href='#671531'><time timestamp='2019-07-10T15:20:00Z'>15:20</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
(because then they require a running bitcoind, which is overkill for things that don&#x27;t need access to blockchain/utxoset/wallet/...)
<br>
</div>

<div class='talk op-msg' data-timestamp='1562772000' id='671532'>
<a class='timestamp' href='#671532'><time timestamp='2019-07-10T15:20:00Z'>15:20</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
though we already have a fair share of those
<br>
</div>

<div class='talk op-msg' data-timestamp='1562772060' id='671533'>
<a class='timestamp' href='#671533'><time timestamp='2019-07-10T15:21:00Z'>15:21</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
elichai2: i think it&#x27;s also premature to discuss psbt extension for taproot before taproot is final
<br>
</div>

<div class='talk op-msg' data-timestamp='1562772120' id='671534'>
<a class='timestamp' href='#671534'><time timestamp='2019-07-10T15:22:00Z'>15:22</time></a>
&lt;<span class='nick nick-10'> elichai2</span>&gt;
Yeah I think we&#x27;re already in a point where we have a lot of different RPC methods that do different kinds of things already
<br>
</div>

<div class='talk op-msg' data-timestamp='1562772120' id='671535'>
<a class='timestamp' href='#671535'><time timestamp='2019-07-10T15:22:00Z'>15:22</time></a>
&lt;<span class='nick nick-10'> elichai2</span>&gt;
sipa: why? do you think it&#x27;s gonna change in any meaningful way?
<br>
</div>

<div class='talk op-msg' data-timestamp='1562772180' id='671536'>
<a class='timestamp' href='#671536'><time timestamp='2019-07-10T15:23:00Z'>15:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
elichai2: probably
<br>
</div>

<div class='talk op-msg' data-timestamp='1562772240' id='671537'>
<a class='timestamp' href='#671537'><time timestamp='2019-07-10T15:24:00Z'>15:24</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
there hasn&#x27;t been that much discussion
<br>
</div>

<div class='talk op-msg' data-timestamp='1562772300' id='671538'>
<a class='timestamp' href='#671538'><time timestamp='2019-07-10T15:25:00Z'>15:25</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and for wallet support there is a huge amount of time anyway
<br>
</div>

<div class='talk op-msg' data-timestamp='1562772420' id='671539'>
<a class='timestamp' href='#671539'><time timestamp='2019-07-10T15:27:00Z'>15:27</time></a>
&lt;<span class='nick nick-10'> elichai2</span>&gt;
really? I really hope that taproot can be activated in less than 6 months
<br>
</div>

<div class='talk op-msg' data-timestamp='1562772420' id='671540'>
<a class='timestamp' href='#671540'><time timestamp='2019-07-10T15:27:00Z'>15:27</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
lol
<br>
</div>

<div class='talk op-msg' data-timestamp='1562772480' id='671541'>
<a class='timestamp' href='#671541'><time timestamp='2019-07-10T15:28:00Z'>15:28</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i&#x27;m glad to see you&#x27;re so confident
<br>
</div>

<div class='talk op-msg' data-timestamp='1562772480' id='671542'>
<a class='timestamp' href='#671542'><time timestamp='2019-07-10T15:28:00Z'>15:28</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
elichai2: a large amount of the network hasn&#x27;t even patched the inflation bug yet :&lt;
<br>
</div>

<div class='talk op-msg' data-timestamp='1562772600' id='671543'>
<a class='timestamp' href='#671543'><time timestamp='2019-07-10T15:30:00Z'>15:30</time></a>
&lt;<span class='nick nick-10'> elichai2</span>&gt;
luke-jr: that&#x27;s a different thing. for taproot we need to: 1. Have an open PR. 2. Have consensus for merging. 3. have it in 0.19. 4. have BIP9 activation by miners
<br>
</div>

<div class='talk op-msg' data-timestamp='1562772600' id='671544'>
<a class='timestamp' href='#671544'><time timestamp='2019-07-10T15:30:00Z'>15:30</time></a>
&lt;<span class='nick nick-10'> elichai2</span>&gt;
you&#x27;re talking about regular full nodes
<br>
</div>

<div class='talk op-msg' data-timestamp='1562772600' id='671545'>
<a class='timestamp' href='#671545'><time timestamp='2019-07-10T15:30:00Z'>15:30</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
elichai2: no. we need community support and deployment to a significant percent of user full nodes.
<br>
</div>

<div class='talk op-msg' data-timestamp='1562772600' id='671546'>
<a class='timestamp' href='#671546'><time timestamp='2019-07-10T15:30:00Z'>15:30</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
miners do not decide network rules
<br>
</div>

<div class='talk op-msg' data-timestamp='1562772600' id='671547'>
<a class='timestamp' href='#671547'><time timestamp='2019-07-10T15:30:00Z'>15:30</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
and BIP 9 is dead.
<br>
</div>

<div class='talk op-msg' data-timestamp='1562772840' id='671548'>
<a class='timestamp' href='#671548'><time timestamp='2019-07-10T15:34:00Z'>15:34</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
really there is no rush for any of this
<br>
</div>

<div class='talk op-msg' data-timestamp='1562775660' id='671549'>
<a class='timestamp' href='#671549'><time timestamp='2019-07-10T16:21:00Z'>16:21</time></a>
&lt;<span class='nick nick-14'> nijak_</span>&gt;
almost like we didn&#x27;t learn anything from the UASF movement
<br>
</div>

<div class='talk op-msg' data-timestamp='1562775660' id='671550'>
<a class='timestamp' href='#671550'><time timestamp='2019-07-10T16:21:00Z'>16:21</time></a>
&lt;<span class='nick nick-14'> nijak_</span>&gt;
When
<br>
</div>

<div class='talk op-msg' data-timestamp='1562775660' id='671551'>
<a class='timestamp' href='#671551'><time timestamp='2019-07-10T16:21:00Z'>16:21</time></a>
&lt;<span class='nick nick-14'> nijak_</span>&gt;
when is 0.19 meant to be RC&#x27;ed? October?
<br>
</div>

<div class='talk op-msg' data-timestamp='1562776260' id='671552'>
<a class='timestamp' href='#671552'><time timestamp='2019-07-10T16:31:00Z'>16:31</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
please no politics here. timeline for 0.19 here: <a href="https://github.com/bitcoin/bitcoin/issues/15940" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/15940</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1562776260' id='671553'>
<a class='timestamp' href='#671553'><time timestamp='2019-07-10T16:31:00Z'>16:31</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
typically a 6 month cadence 
<br>
</div>

<div class='talk op-msg' data-timestamp='1562777160' id='671554'>
<a class='timestamp' href='#671554'><time timestamp='2019-07-10T16:46:00Z'>16:46</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
also softforks are not restricted to major releases (but things like full wallet support probably are)
<br>
</div>

<div class='talk op-msg' data-timestamp='1562777280' id='671555'>
<a class='timestamp' href='#671555'><time timestamp='2019-07-10T16:48:00Z'>16:48</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
indeed, they are excluded from ;)
<br>
</div>

<div class='talk op-msg' data-timestamp='1562777580' id='671556'>
<a class='timestamp' href='#671556'><time timestamp='2019-07-10T16:53:00Z'>16:53</time></a>
&lt;<span class='nick nick-1'> nijak</span>&gt;
understood, thanks instagibbs
<br>
</div>

<div class='talk op-msg' data-timestamp='1562779980' id='671557'>
<a class='timestamp' href='#671557'><time timestamp='2019-07-10T17:33:00Z'>17:33</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke pushed 2 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/6c1e45c4c416...ff0aad8a40a0" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/6c1e45c4c416...ff0aad8a40a0</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1562779980' id='671558'>
<a class='timestamp' href='#671558'><time timestamp='2019-07-10T17:33:00Z'>17:33</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 96b6dd4 Gregory Sanders: Remove redundant pre-TopUpKeypool checks
<br>
</div>

<div class='talk op-msg' data-timestamp='1562779980' id='671559'>
<a class='timestamp' href='#671559'><time timestamp='2019-07-10T17:33:00Z'>17:33</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master ff0aad8 MarcoFalke: Merge #16361: Remove redundant pre-TopUpKeypool check
<br>
</div>

<div class='talk op-msg' data-timestamp='1562780040' id='671560'>
<a class='timestamp' href='#671560'><time timestamp='2019-07-10T17:34:00Z'>17:34</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke merged pull request #16361: Remove redundant pre-TopUpKeypool check (master...redundant_topup) <a href="https://github.com/bitcoin/bitcoin/pull/16361" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/16361</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1562781180' id='671561'>
<a class='timestamp' href='#671561'><time timestamp='2019-07-10T17:53:00Z'>17:53</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke pushed 2 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/ff0aad8a40a0...4fcccdac785e" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/ff0aad8a40a0...4fcccdac785e</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1562781180' id='671562'>
<a class='timestamp' href='#671562'><time timestamp='2019-07-10T17:53:00Z'>17:53</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 1aecdf2 Andrew Chow: Move wallet creation out of the createwallet rpc into its own function
<br>
</div>

<div class='talk op-msg' data-timestamp='1562781180' id='671563'>
<a class='timestamp' href='#671563'><time timestamp='2019-07-10T17:53:00Z'>17:53</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 4fcccda MarcoFalke: Merge #16244: Move wallet creation out of the createwallet rpc into its ow...
<br>
</div>

<div class='talk op-msg' data-timestamp='1562781240' id='671564'>
<a class='timestamp' href='#671564'><time timestamp='2019-07-10T17:54:00Z'>17:54</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke merged pull request #16244: Move wallet creation out of the createwallet rpc into its own function (master...mv-createwallet) <a href="https://github.com/bitcoin/bitcoin/pull/16244" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/16244</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1562781720' id='671565'>
<a class='timestamp' href='#671565'><time timestamp='2019-07-10T18:02:00Z'>18:02</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] ryanofsky opened pull request #16367: Multiprocess build support (master...pr/ipc-build) <a href="https://github.com/bitcoin/bitcoin/pull/16367" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/16367</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1562792220' id='671566'>
<a class='timestamp' href='#671566'><time timestamp='2019-07-10T20:57:00Z'>20:57</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
do we have some way to check if a CTxDestination matches a particular OutputType?
<br>
</div>

<div class='talk op-msg' data-timestamp='1562792640' id='671567'>
<a class='timestamp' href='#671567'><time timestamp='2019-07-10T21:04:00Z'>21:04</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
achow101: there is a .which() function
<br>
</div>

<div class='talk op-msg' data-timestamp='1562792640' id='671568'>
<a class='timestamp' href='#671568'><time timestamp='2019-07-10T21:04:00Z'>21:04</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
which gives a number corresponding to the various positions in the type declaratio 
<br>
</div>

<div class='talk op-msg' data-timestamp='1562792700' id='671569'>
<a class='timestamp' href='#671569'><time timestamp='2019-07-10T21:05:00Z'>21:05</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
oh, nice
<br>
</div>

<div class='talk op-msg' data-timestamp='1562792760' id='671570'>
<a class='timestamp' href='#671570'><time timestamp='2019-07-10T21:06:00Z'>21:06</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
sipa: actually, I&#x27;m now wondering whether it makes sense to keep the combo() descriptor. it doesn&#x27;t really fit well into this ScriptPubKeyMan model
<br>
</div>

<div class='talk op-msg' data-timestamp='1562792820' id='671571'>
<a class='timestamp' href='#671571'><time timestamp='2019-07-10T21:07:00Z'>21:07</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
The main thing is making DescriptorScriptPubKeyMan consistent with the address types that we expect to get from it. For all non-combo descriptors, this is easy. but for combo, it isn&#x27;t since combo can give all 3 address types
<br>
</div>

<div class='talk op-msg' data-timestamp='1562792940' id='671572'>
<a class='timestamp' href='#671572'><time timestamp='2019-07-10T21:09:00Z'>21:09</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i guess you could add an IsSingleType function to it or so, which is true fot everything but combo
<br>
</div>

<div class='talk op-msg' data-timestamp='1562793000' id='671573'>
<a class='timestamp' href='#671573'><time timestamp='2019-07-10T21:10:00Z'>21:10</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and then require descriptors that satisfy that propery in native desceiptor wallets
<br>
</div>

<div class='talk op-msg' data-timestamp='1562793060' id='671574'>
<a class='timestamp' href='#671574'><time timestamp='2019-07-10T21:11:00Z'>21:11</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
if that&#x27;s the case, what&#x27;s the point of keeping combo around?
<br>
</div>

<div class='talk op-msg' data-timestamp='1562793360' id='671575'>
<a class='timestamp' href='#671575'><time timestamp='2019-07-10T21:16:00Z'>21:16</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
it&#x27;s probably better to do a cast than use .which?
<br>
</div>

<div class='talk op-msg' data-timestamp='1562793720' id='671576'>
<a class='timestamp' href='#671576'><time timestamp='2019-07-10T21:22:00Z'>21:22</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
achow101: it&#x27;s pretty useful for scantxoutset
<br>
</div>

<div class='talk op-msg' data-timestamp='1562793720' id='671577'>
<a class='timestamp' href='#671577'><time timestamp='2019-07-10T21:22:00Z'>21:22</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and would probably be useful to when converting old wallets into new ones... at least at the time that seemed like a useful thing
<br>
</div>

<div class='talk op-msg' data-timestamp='1562794020' id='671578'>
<a class='timestamp' href='#671578'><time timestamp='2019-07-10T21:27:00Z'>21:27</time></a>
&lt;<span class='nick nick-6'> jb55</span>&gt;
sipa: I played with the idea of some type of union syntax for descriptors since combo seemed a bit hardcoded, but it is probably not that useful
<br>
</div>

</div>
</section>

</body>
</html>
