<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2020-12-16
 — 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2020-12-16' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:17 UTC</pre>
<pre><a href="/bitcoin-core-dev/2020-11-16">&lt;</a><span class='header'>  December 2020   </span><a href="/bitcoin-core-dev/2021-01-16">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;       <a class="" href="/bitcoin-core-dev/2020-12-01">1</a>  <a class="" href="/bitcoin-core-dev/2020-12-02">2</a>  <a class="" href="/bitcoin-core-dev/2020-12-03">3</a>  <a class="" href="/bitcoin-core-dev/2020-12-04">4</a>  <a class="" href="/bitcoin-core-dev/2020-12-05">5</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2020-12-06">6</a>  <a class="" href="/bitcoin-core-dev/2020-12-07">7</a>  <a class="" href="/bitcoin-core-dev/2020-12-08">8</a>  <a class="" href="/bitcoin-core-dev/2020-12-09">9</a> <a class="" href="/bitcoin-core-dev/2020-12-10">10</a> <a class="" href="/bitcoin-core-dev/2020-12-11">11</a> <a class="" href="/bitcoin-core-dev/2020-12-12">12</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2020-12-13">13</a> <a class="" href="/bitcoin-core-dev/2020-12-14">14</a> <a class="" href="/bitcoin-core-dev/2020-12-15">15</a> <a class="current" href="/bitcoin-core-dev/2020-12-16">16</a> <a class="" href="/bitcoin-core-dev/2020-12-17">17</a> <a class="" href="/bitcoin-core-dev/2020-12-18">18</a> <a class="" href="/bitcoin-core-dev/2020-12-19">19</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2020-12-20">20</a> <a class="" href="/bitcoin-core-dev/2020-12-21">21</a> <a class="" href="/bitcoin-core-dev/2020-12-22">22</a> <a class="" href="/bitcoin-core-dev/2020-12-23">23</a> <a class="" href="/bitcoin-core-dev/2020-12-24">24</a> <a class="" href="/bitcoin-core-dev/2020-12-25">25</a> <a class="" href="/bitcoin-core-dev/2020-12-26">26</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2020-12-27">27</a> <a class="" href="/bitcoin-core-dev/2020-12-28">28</a> <a class="" href="/bitcoin-core-dev/2020-12-29">29</a> <a class="" href="/bitcoin-core-dev/2020-12-30">30</a> <a class="" href="/bitcoin-core-dev/2020-12-31">31</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1608086040' id='420562'>
<a class='timestamp' href='#420562'><time timestamp='2020-12-16T02:34:00Z'>02:34</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] adamjonas opened pull request #20668: doc: warn that incoming conns are unlikely when not using default ports (master...121520-non-standard-port-doc) <a href="https://github.com/bitcoin/bitcoin/pull/20668" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20668</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1608086220' id='420563'>
<a class='timestamp' href='#420563'><time timestamp='2020-12-16T02:37:00Z'>02:37</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
wumpus / achow: do you have the links to any of the codesigning/inspection tools you wrote handy
<br>
</div>

<div class='talk op-msg' data-timestamp='1608086340' id='420564'>
<a class='timestamp' href='#420564'><time timestamp='2020-12-16T02:39:00Z'>02:39</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
fanquake: <a href="https://gist.github.com/achow101/fef2415d99965de66ac083b54b83df6e" class="link" target="_blank">https://gist.github.com/achow101/fef2415d99965de66ac083b54b83df6e</a> is the tool we ended up with. I&#x27;m writing a full codesigning and inspection tool at <a href="https://github.com/achow101/signapple" class="link" target="_blank">https://github.com/achow101/signapple</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1608086400' id='420565'>
<a class='timestamp' href='#420565'><time timestamp='2020-12-16T02:40:00Z'>02:40</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
achow: thanks
<br>
</div>

<div class='talk op-msg' data-timestamp='1608086400' id='420566'>
<a class='timestamp' href='#420566'><time timestamp='2020-12-16T02:40:00Z'>02:40</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
achow101: how is that going?
<br>
</div>

<div class='talk op-msg' data-timestamp='1608086460' id='420567'>
<a class='timestamp' href='#420567'><time timestamp='2020-12-16T02:41:00Z'>02:41</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
I see lots of blobs
<br>
</div>

<div class='talk op-msg' data-timestamp='1608086460' id='420568'>
<a class='timestamp' href='#420568'><time timestamp='2020-12-16T02:41:00Z'>02:41</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
sipa: I&#x27;ve reversed engineered the internal requirements thing. It&#x27;s a mini scripting language with opcodes and stuff
<br>
</div>

<div class='talk op-msg' data-timestamp='1608086460' id='420569'>
<a class='timestamp' href='#420569'><time timestamp='2020-12-16T02:41:00Z'>02:41</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
considered writing an AST representation of it but decided that was too much effort
<br>
</div>

<div class='talk op-msg' data-timestamp='1608086460' id='420570'>
<a class='timestamp' href='#420570'><time timestamp='2020-12-16T02:41:00Z'>02:41</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sounds like fun &amp; an amazing timesink :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1608086520' id='420571'>
<a class='timestamp' href='#420571'><time timestamp='2020-12-16T02:42:00Z'>02:42</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
I think I can have it sign in a few days
<br>
</div>

<div class='talk op-msg' data-timestamp='1608086520' id='420572'>
<a class='timestamp' href='#420572'><time timestamp='2020-12-16T02:42:00Z'>02:42</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
achow101: is the goal here to replace codesign/codesign_allocate ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1608086520' id='420573'>
<a class='timestamp' href='#420573'><time timestamp='2020-12-16T02:42:00Z'>02:42</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
it fully verifies, including stuff that we don&#x27;t currently deal with in our signing, like whatever entitlements are
<br>
</div>

<div class='talk op-msg' data-timestamp='1608086520' id='420574'>
<a class='timestamp' href='#420574'><time timestamp='2020-12-16T02:42:00Z'>02:42</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
fanquake: yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1608087600' id='420575'>
<a class='timestamp' href='#420575'><time timestamp='2020-12-16T03:00:00Z'>03:00</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
p
<br>
</div>

<div class='talk op-msg' data-timestamp='1608087600' id='420576'>
<a class='timestamp' href='#420576'><time timestamp='2020-12-16T03:00:00Z'>03:00</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
q
<br>
</div>

<div class='talk op-msg' data-timestamp='1608100680' id='420577'>
<a class='timestamp' href='#420577'><time timestamp='2020-12-16T06:38:00Z'>06:38</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke opened pull request #20669: [0.21] final rc4 backports (0.21...2012-rc4) <a href="https://github.com/bitcoin/bitcoin/pull/20669" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20669</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1608102000' id='420578'>
<a class='timestamp' href='#420578'><time timestamp='2020-12-16T07:00:00Z'>07:00</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
from what i understood the entitlements are mostly used on iOS where it describes extra privileges of the application
<br>
</div>

<div class='talk op-msg' data-timestamp='1608102060' id='420579'>
<a class='timestamp' href='#420579'><time timestamp='2020-12-16T07:01:00Z'>07:01</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
yea we&#x27;d only need them on macOS if we wanted to use things like NFC, location services, apple pay etc
<br>
</div>

<div class='talk op-msg' data-timestamp='1608102420' id='420580'>
<a class='timestamp' href='#420580'><time timestamp='2020-12-16T07:07:00Z'>07:07</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
apple pay integration, hmm!
<br>
</div>

<div class='talk op-msg' data-timestamp='1608103380' id='420581'>
<a class='timestamp' href='#420581'><time timestamp='2020-12-16T07:23:00Z'>07:23</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
achow101: nice work!
<br>
</div>

<div class='talk op-msg' data-timestamp='1608103800' id='420582'>
<a class='timestamp' href='#420582'><time timestamp='2020-12-16T07:30:00Z'>07:30</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yea desktop OSes tend to be much more lenient with regard to application permissions, though i was surprised recently that flatpak has a fine-grained system for controlling what an application is allowed to access, even some capability based thing to deny access to the entire home directory but allow access only to files selected by the user, kind of clever
<br>
</div>

<div class='talk op-msg' data-timestamp='1608103920' id='420583'>
<a class='timestamp' href='#420583'><time timestamp='2020-12-16T07:32:00Z'>07:32</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Yeah. I like this feature in modern macOS. Each application has to ask permission to access certain directories of the filesystem. Same for camera access, location, etc..
<br>
</div>

<div class='talk op-msg' data-timestamp='1608103920' id='420584'>
<a class='timestamp' href='#420584'><time timestamp='2020-12-16T07:32:00Z'>07:32</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
On the other hand,.. it comes with a lot of control handed over to Apple (unnecessary). Like the whole notarization process.
<br>
</div>

<div class='talk op-msg' data-timestamp='1608104220' id='420585'>
<a class='timestamp' href='#420585'><time timestamp='2020-12-16T07:37:00Z'>07:37</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
that&#x27;s one issue with any security feature in proprietary OSes, they always ends up as a way the vendor can assert control, even if the feature itself was a good idea
<br>
</div>

<div class='talk op-msg' data-timestamp='1608104340' id='420586'>
<a class='timestamp' href='#420586'><time timestamp='2020-12-16T07:39:00Z'>07:39</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
they always want to be the one controlling the locks and that makes it more like a jail (as Bunnie would say)
<br>
</div>

<div class='talk op-msg' data-timestamp='1608106800' id='420587'>
<a class='timestamp' href='#420587'><time timestamp='2020-12-16T08:20:00Z'>08:20</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
achow101: &quot;It&#x27;s a mini scripting language with opcodes and stuff&quot; can you compile DOOM for it?
<br>
</div>

<div class='talk op-msg' data-timestamp='1608106920' id='420588'>
<a class='timestamp' href='#420588'><time timestamp='2020-12-16T08:22:00Z'>08:22</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
heh
<br>
</div>

<div class='talk op-msg' data-timestamp='1608106920' id='420589'>
<a class='timestamp' href='#420589'><time timestamp='2020-12-16T08:22:00Z'>08:22</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yes, but does it run linux?
<br>
</div>

<div class='talk op-msg' data-timestamp='1608106980' id='420590'>
<a class='timestamp' href='#420590'><time timestamp='2020-12-16T08:23:00Z'>08:23</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
achow101: but nice work
<br>
</div>

<div class='talk op-msg' data-timestamp='1608106980' id='420591'>
<a class='timestamp' href='#420591'><time timestamp='2020-12-16T08:23:00Z'>08:23</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
sipa: finally a way to run linux on a mac !
<br>
</div>

<div class='talk op-msg' data-timestamp='1608107520' id='420592'>
<a class='timestamp' href='#420592'><time timestamp='2020-12-16T08:32:00Z'>08:32</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i mean, there is a linux system compiled to JS that runs in the browser right?
<br>
</div>

<div class='talk op-msg' data-timestamp='1608107700' id='420593'>
<a class='timestamp' href='#420593'><time timestamp='2020-12-16T08:35:00Z'>08:35</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
OMG
<br>
</div>

<div class='talk op-msg' data-timestamp='1608107760' id='420594'>
<a class='timestamp' href='#420594'><time timestamp='2020-12-16T08:36:00Z'>08:36</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
RiscV64 with X11 in my browser: <a href="https://bellard.org/jslinux/vm.html?cpu=riscv64&amp;url=buildroot-riscv64-xwin.cfg&amp;graphic=1&amp;mem=256" class="link" target="_blank">https://bellard.org/jslinux/vm.html?cpu=riscv64&amp;url=buildroot-riscv64-xwin.cfg&amp;graphic=1&amp;mem=256</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1608107820' id='420595'>
<a class='timestamp' href='#420595'><time timestamp='2020-12-16T08:37:00Z'>08:37</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
wow
<br>
</div>

<div class='talk op-msg' data-timestamp='1608107820' id='420596'>
<a class='timestamp' href='#420596'><time timestamp='2020-12-16T08:37:00Z'>08:37</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
even works on my phone
<br>
</div>

<div class='talk op-msg' data-timestamp='1608107940' id='420597'>
<a class='timestamp' href='#420597'><time timestamp='2020-12-16T08:39:00Z'>08:39</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
jonasschnelli: risc-v is clearly the new webassembly
<br>
</div>

<div class='talk op-msg' data-timestamp='1608107940' id='420598'>
<a class='timestamp' href='#420598'><time timestamp='2020-12-16T08:39:00Z'>08:39</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
windows98 with minesweeper: <a href="http://copy.sh/v86/?profile=windows98" class="link" target="_blank">http://copy.sh/v86/?profile=windows98</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1608108060' id='420599'>
<a class='timestamp' href='#420599'><time timestamp='2020-12-16T08:41:00Z'>08:41</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
wth
<br>
</div>

<div class='talk op-msg' data-timestamp='1608108120' id='420600'>
<a class='timestamp' href='#420600'><time timestamp='2020-12-16T08:42:00Z'>08:42</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
if my phone&#x27;s cpu is fast enough to run a browser, in which an emulated operating system can run, and really all i do with it is using it as a pocket watch with wikipedia and irc functionality, i&#x27;m doing something wront
<br>
</div>

<div class='talk op-msg' data-timestamp='1608108180' id='420601'>
<a class='timestamp' href='#420601'><time timestamp='2020-12-16T08:43:00Z'>08:43</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
that one is veeery slow here
<br>
</div>

<div class='talk op-msg' data-timestamp='1608108240' id='420602'>
<a class='timestamp' href='#420602'><time timestamp='2020-12-16T08:44:00Z'>08:44</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
sipa: i&#x27;m sure it drains the battery like crazy, i guess that&#x27;s the main bottleneck to doing more CPU heavy things on a phone
<br>
</div>

<div class='talk op-msg' data-timestamp='1608110880' id='420603'>
<a class='timestamp' href='#420603'><time timestamp='2020-12-16T09:28:00Z'>09:28</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
does anyone maybe have a better idea how we can avoid introducing a circular dependency here between coinstats and validation: <a href="https://github.com/bitcoin/bitcoin/pull/19806#pullrequestreview-552964012" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19806#pullrequestreview-552964012</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1608111780' id='420604'>
<a class='timestamp' href='#420604'><time timestamp='2020-12-16T09:43:00Z'>09:43</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I don&#x27;t see other options than a separate implementation unit
<br>
</div>

<div class='talk op-msg' data-timestamp='1608113160' id='420605'>
<a class='timestamp' href='#420605'><time timestamp='2020-12-16T10:06:00Z'>10:06</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I think it makes logical sense too, snapshot handling is adjacent to but not part of validation
<br>
</div>

<div class='talk op-msg' data-timestamp='1608113280' id='420606'>
<a class='timestamp' href='#420606'><time timestamp='2020-12-16T10:08:00Z'>10:08</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
woohoo, appveyor cooked up a new reason to fail &quot;The object or library file &#x27;C:\Qt5.9.8_x64_static_vs2019\lib\Qt5Core.lib&#x27; was created by a different version of the compiler than other objects like &#x27;x64\Release\bitcoin-qt\main.obj&#x27;; rebuild all objects and libraries with the same&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1608113340' id='420607'>
<a class='timestamp' href='#420607'><time timestamp='2020-12-16T10:09:00Z'>10:09</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
don&#x27;t know if it&#x27;s general or only on the 0.21 branch
<br>
</div>

<div class='talk op-msg' data-timestamp='1608114900' id='420608'>
<a class='timestamp' href='#420608'><time timestamp='2020-12-16T10:35:00Z'>10:35</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
jonatack: I2P! :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1608115260' id='420609'>
<a class='timestamp' href='#420609'><time timestamp='2020-12-16T10:41:00Z'>10:41</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
What is the reason we don&#x27;t gossip host names, e.g. bitcoinnode.foo.org:8333?
<br>
</div>

<div class='talk op-msg' data-timestamp='1608115260' id='420610'>
<a class='timestamp' href='#420610'><time timestamp='2020-12-16T10:41:00Z'>10:41</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
we really don&#x27;t want DNS lookups in the P2P code
<br>
</div>

<div class='talk op-msg' data-timestamp='1608115320' id='420611'>
<a class='timestamp' href='#420611'><time timestamp='2020-12-16T10:42:00Z'>10:42</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
wumpus: Why? For performance reasons?
<br>
</div>

<div class='talk op-msg' data-timestamp='1608115320' id='420612'>
<a class='timestamp' href='#420612'><time timestamp='2020-12-16T10:42:00Z'>10:42</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
also working with dynamically-sized strings in any network protocol has a large potential to introduce bugs
<br>
</div>

<div class='talk op-msg' data-timestamp='1608115380' id='420613'>
<a class='timestamp' href='#420613'><time timestamp='2020-12-16T10:43:00Z'>10:43</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
security/privacy reasons mostly, it&#x27;s harder to do with tor
<br>
</div>

<div class='talk op-msg' data-timestamp='1608115380' id='420614'>
<a class='timestamp' href='#420614'><time timestamp='2020-12-16T10:43:00Z'>10:43</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
I see
<br>
</div>

<div class='talk op-msg' data-timestamp='1608115500' id='420615'>
<a class='timestamp' href='#420615'><time timestamp='2020-12-16T10:45:00Z'>10:45</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I don&#x27;t really see much of an advantage in it personally, DNS is useful for humans, but for a addresses sent over a network protocol it seems to me it adds an unnecessary level of indirection 
<br>
</div>

<div class='talk op-msg' data-timestamp='1608115560' id='420616'>
<a class='timestamp' href='#420616'><time timestamp='2020-12-16T10:46:00Z'>10:46</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
yeah, maybe some benefit could be that a hostname could resolve to a few IP addresses or if the address changes over time, then addrman entries need not be updated
<br>
</div>

<div class='talk op-msg' data-timestamp='1608115620' id='420617'>
<a class='timestamp' href='#420617'><time timestamp='2020-12-16T10:47:00Z'>10:47</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
I asked because in I2P we do need to do a lookup - the .b32.i2p address must be resolved to a &quot;destination&quot; (a few 100s of bytes) and then we connect to that &quot;destination&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1608115680' id='420618'>
<a class='timestamp' href='#420618'><time timestamp='2020-12-16T10:48:00Z'>10:48</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
i didn&#x27;t know that when writing the BIP
<br>
</div>

<div class='talk op-msg' data-timestamp='1608115680' id='420619'>
<a class='timestamp' href='#420619'><time timestamp='2020-12-16T10:48:00Z'>10:48</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
should we have gossipped destinations directly?
<br>
</div>

<div class='talk op-msg' data-timestamp='1608115740' id='420620'>
<a class='timestamp' href='#420620'><time timestamp='2020-12-16T10:49:00Z'>10:49</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
though we can fit 512 bytes i guess the size does make it impractical
<br>
</div>

<div class='talk op-msg' data-timestamp='1608115860' id='420621'>
<a class='timestamp' href='#420621'><time timestamp='2020-12-16T10:51:00Z'>10:51</time></a>
&lt;<span class='nick nick-14'> hebasto</span>&gt;
wumpus: to fix appveyor on 0.21 the baclport of the recent changes seem required: #20489, #20506
<br>
</div>

<div class='talk op-msg' data-timestamp='1608115860' id='420622'>
<a class='timestamp' href='#420622'><time timestamp='2020-12-16T10:51:00Z'>10:51</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/20489" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/20489</a> | CI msvc: only build vcpkg dependencies for release (not debug) to reduce build times by sipsorcery · Pull Request #20489 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1608115860' id='420623'>
<a class='timestamp' href='#420623'><time timestamp='2020-12-16T10:51:00Z'>10:51</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/20506" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/20506</a> | ci: AppVeyor fixes for Visual Studio 2019 16.8.1 image by sipsorcery · Pull Request #20506 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1608115980' id='420624'>
<a class='timestamp' href='#420624'><time timestamp='2020-12-16T10:53:00Z'>10:53</time></a>
&lt;<span class='nick nick-14'> hebasto</span>&gt;
should I take care of it?
<br>
</div>

<div class='talk op-msg' data-timestamp='1608115980' id='420625'>
<a class='timestamp' href='#420625'><time timestamp='2020-12-16T10:53:00Z'>10:53</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
wumpus: I think it is fine as it is, gossiping destinations directly seems an overkill to me
<br>
</div>

<div class='talk op-msg' data-timestamp='1608116040' id='420626'>
<a class='timestamp' href='#420626'><time timestamp='2020-12-16T10:54:00Z'>10:54</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
but it opens the opportunity to allow i2p hostnames, e.g. zzz.i2p in addition to .b32.i2p addresses
<br>
</div>

<div class='talk op-msg' data-timestamp='1608116160' id='420627'>
<a class='timestamp' href='#420627'><time timestamp='2020-12-16T10:56:00Z'>10:56</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
also, lontivero mentioned in <a href="https://github.com/bitcoin/bitcoin/pull/20254#discussion_r543586946" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20254#discussion_r543586946</a> that even .b32.i2p addresses may have different length :-X
<br>
</div>

<div class='talk op-msg' data-timestamp='1608116220' id='420628'>
<a class='timestamp' href='#420628'><time timestamp='2020-12-16T10:57:00Z'>10:57</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
eventually, maybe we would update bip155 to mandate the i2p addr size is allowed to be either 32 or 35 bytes
<br>
</div>

<div class='talk op-msg' data-timestamp='1608116280' id='420629'>
<a class='timestamp' href='#420629'><time timestamp='2020-12-16T10:58:00Z'>10:58</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
fwiw, I would prefer not to broadcast hostnames, keep the gossiping to (low level) network addresses, preferably fixed length
<br>
</div>

<div class='talk op-msg' data-timestamp='1608116280' id='420630'>
<a class='timestamp' href='#420630'><time timestamp='2020-12-16T10:58:00Z'>10:58</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
wumpus: right
<br>
</div>

<div class='talk op-msg' data-timestamp='1608116400' id='420631'>
<a class='timestamp' href='#420631'><time timestamp='2020-12-16T11:00:00Z'>11:00</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
right--the current protocol mandates a specific I2P address scheme, same as we do for TorV1/V2, if there&#x27;s a different one in the future then we&#x27;ll need to add a new address type
<br>
</div>

<div class='talk op-msg' data-timestamp='1608116460' id='420632'>
<a class='timestamp' href='#420632'><time timestamp='2020-12-16T11:01:00Z'>11:01</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
i2p-exotic, length=35
<br>
</div>

<div class='talk op-msg' data-timestamp='1608116460' id='420633'>
<a class='timestamp' href='#420633'><time timestamp='2020-12-16T11:01:00Z'>11:01</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I intentionally didn&#x27;t leave any extensibility within one address type, to make it straightforward to handle
<br>
</div>

<div class='talk op-msg' data-timestamp='1608117060' id='420634'>
<a class='timestamp' href='#420634'><time timestamp='2020-12-16T11:11:00Z'>11:11</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke opened pull request #20671: Replace boost::optional with std::optional (master...2012-stdOpt) <a href="https://github.com/bitcoin/bitcoin/pull/20671" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20671</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1608118080' id='420635'>
<a class='timestamp' href='#420635'><time timestamp='2020-12-16T11:28:00Z'>11:28</time></a>
&lt;<span class='nick nick-14'> hebasto</span>&gt;
wumpus: are you still seeing an issue with appveyor on the 0.21 branch?
<br>
</div>

<div class='talk op-msg' data-timestamp='1608118740' id='420636'>
<a class='timestamp' href='#420636'><time timestamp='2020-12-16T11:39:00Z'>11:39</time></a>
&lt;<span class='nick nick-14'> jonatack</span>&gt;
vasild: hey, sorry, was reviewing. keeping each address types simple sgtm.
<br>
</div>

<div class='talk op-msg' data-timestamp='1608118860' id='420637'>
<a class='timestamp' href='#420637'><time timestamp='2020-12-16T11:41:00Z'>11:41</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
jonatack: yeah, so on IP2 I am doing final self re-review and test ci runs to ensure it is still green and will open a PR with proper I2P support which will supersede #20254
<br>
</div>

<div class='talk op-msg' data-timestamp='1608118860' id='420638'>
<a class='timestamp' href='#420638'><time timestamp='2020-12-16T11:41:00Z'>11:41</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/20254" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/20254</a> | Add I2P support using statically configured destinations by vasild · Pull Request #20254 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1608118920' id='420639'>
<a class='timestamp' href='#420639'><time timestamp='2020-12-16T11:42:00Z'>11:42</time></a>
&lt;<span class='nick nick-14'> jonatack</span>&gt;
vasild: nice, will look out for that
<br>
</div>

<div class='talk op-msg' data-timestamp='1608118920' id='420640'>
<a class='timestamp' href='#420640'><time timestamp='2020-12-16T11:42:00Z'>11:42</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
I wonder if it makes sense to write a primitive SAM proxy server in python in order to test it in the functional tests... maybe yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1608119100' id='420641'>
<a class='timestamp' href='#420641'><time timestamp='2020-12-16T11:45:00Z'>11:45</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
so far I used a hackish unit tests that kind of starts the &quot;entire&quot; bitcoind by calling CConnman::Start() and requires a running i2p server - not acceptable
<br>
</div>

<div class='talk op-msg' data-timestamp='1608119820' id='420642'>
<a class='timestamp' href='#420642'><time timestamp='2020-12-16T11:57:00Z'>11:57</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke closed pull request #16168: DevelopOmniLayer (master...develop) <a href="https://github.com/bitcoin/bitcoin/pull/16168" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/16168</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1608121980' id='420643'>
<a class='timestamp' href='#420643'><time timestamp='2020-12-16T12:33:00Z'>12:33</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke pushed 4 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/dff0f6f753ea...b440c33179e7" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/dff0f6f753ea...b440c33179e7</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1608121980' id='420644'>
<a class='timestamp' href='#420644'><time timestamp='2020-12-16T12:33:00Z'>12:33</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master ed73f8c practicalswift: net: Move eviction node selection logic to SelectNodeToEvict(...)
<br>
</div>

<div class='talk op-msg' data-timestamp='1608121980' id='420645'>
<a class='timestamp' href='#420645'><time timestamp='2020-12-16T12:33:00Z'>12:33</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 685c428 practicalswift: test: Add unit testing of node eviction logic
<br>
</div>

<div class='talk op-msg' data-timestamp='1608121980' id='420646'>
<a class='timestamp' href='#420646'><time timestamp='2020-12-16T12:33:00Z'>12:33</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master fee8823 practicalswift: Assert eviction at &gt;= 29 candidates. Assert non-eviction at &lt;= 20 candidat...
<br>
</div>

<div class='talk op-msg' data-timestamp='1608122040' id='420647'>
<a class='timestamp' href='#420647'><time timestamp='2020-12-16T12:34:00Z'>12:34</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke merged pull request #20477: net: Add unit testing of node eviction logic (master...unit-test-node-eviction-logic) <a href="https://github.com/bitcoin/bitcoin/pull/20477" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20477</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1608123540' id='420648'>
<a class='timestamp' href='#420648'><time timestamp='2020-12-16T12:59:00Z'>12:59</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jonasschnelli pushed 2 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/b440c33179e7...6af8a6232b2d" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/b440c33179e7...6af8a6232b2d</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1608123540' id='420649'>
<a class='timestamp' href='#420649'><time timestamp='2020-12-16T12:59:00Z'>12:59</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 267f259 Hennadii Stepanov: depends: Drop workaround for a fixed bug in Qt build system
<br>
</div>

<div class='talk op-msg' data-timestamp='1608123540' id='420650'>
<a class='timestamp' href='#420650'><time timestamp='2020-12-16T12:59:00Z'>12:59</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 6af8a62 Jonas Schnelli: Merge #20650: depends: Drop workaround for a fixed bug in Qt build system
<br>
</div>

<div class='talk op-msg' data-timestamp='1608123600' id='420651'>
<a class='timestamp' href='#420651'><time timestamp='2020-12-16T13:00:00Z'>13:00</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jonasschnelli merged pull request #20650: depends: Drop workaround for a fixed bug in Qt build system (master...201214-xcb) <a href="https://github.com/bitcoin/bitcoin/pull/20650" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20650</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1608124020' id='420652'>
<a class='timestamp' href='#420652'><time timestamp='2020-12-16T13:07:00Z'>13:07</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
hebasto: let&#x27;s see how #20669 goes
<br>
</div>

<div class='talk op-msg' data-timestamp='1608124020' id='420653'>
<a class='timestamp' href='#420653'><time timestamp='2020-12-16T13:07:00Z'>13:07</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/20669" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/20669</a> | [0.21] final rc4 backports by MarcoFalke · Pull Request #20669 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1608124080' id='420654'>
<a class='timestamp' href='#420654'><time timestamp='2020-12-16T13:08:00Z'>13:08</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
vasild: we don&#x27;t have testing for socks5 either, but agree it&#x27;d make sense
<br>
</div>

<div class='talk op-msg' data-timestamp='1608124080' id='420655'>
<a class='timestamp' href='#420655'><time timestamp='2020-12-16T13:08:00Z'>13:08</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
vasild: oh wait we do lol
<br>
</div>

<div class='talk op-msg' data-timestamp='1608124140' id='420656'>
<a class='timestamp' href='#420656'><time timestamp='2020-12-16T13:09:00Z'>13:09</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
I will at least try to do it and hope it does not end in too many lines of python code
<br>
</div>

<div class='talk op-msg' data-timestamp='1608124200' id='420657'>
<a class='timestamp' href='#420657'><time timestamp='2020-12-16T13:10:00Z'>13:10</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
test/functional/test_framework/socks5.py class Socks5Server() ... 
<br>
</div>

<div class='talk op-msg' data-timestamp='1608124200' id='420658'>
<a class='timestamp' href='#420658'><time timestamp='2020-12-16T13:10:00Z'>13:10</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
160 lines
<br>
</div>

<div class='talk op-msg' data-timestamp='1608124260' id='420659'>
<a class='timestamp' href='#420659'><time timestamp='2020-12-16T13:11:00Z'>13:11</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
btw, I noticed that we do send(sock, buf, size) and expect the return value to be &quot;size&quot; which is not robust
<br>
</div>

<div class='talk op-msg' data-timestamp='1608124260' id='420660'>
<a class='timestamp' href='#420660'><time timestamp='2020-12-16T13:11:00Z'>13:11</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
also, the socket is non-blocking
<br>
</div>

<div class='talk op-msg' data-timestamp='1608124260' id='420661'>
<a class='timestamp' href='#420661'><time timestamp='2020-12-16T13:11:00Z'>13:11</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
true, it can&#x27;t be generally relied on, e.g. if the system call is interrupted
<br>
</div>

<div class='talk op-msg' data-timestamp='1608124320' id='420662'>
<a class='timestamp' href='#420662'><time timestamp='2020-12-16T13:12:00Z'>13:12</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
I guess it mostly works because the socks5 proxy is usually on localhost where the connection is &quot;fast and stable&quot; :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1608124380' id='420663'>
<a class='timestamp' href='#420663'><time timestamp='2020-12-16T13:13:00Z'>13:13</time></a>
&lt;<span class='nick nick-5'> Jackielove4u</span>&gt;
Does anybody here have rc3 running ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1608124440' id='420664'>
<a class='timestamp' href='#420664'><time timestamp='2020-12-16T13:14:00Z'>13:14</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Jackielove4u: yes. Why?
<br>
</div>

<div class='talk op-msg' data-timestamp='1608124500' id='420665'>
<a class='timestamp' href='#420665'><time timestamp='2020-12-16T13:15:00Z'>13:15</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
hey, didn&#x27;t we create an issue for rc test reports this time?
<br>
</div>

<div class='talk op-msg' data-timestamp='1608124500' id='420666'>
<a class='timestamp' href='#420666'><time timestamp='2020-12-16T13:15:00Z'>13:15</time></a>
&lt;<span class='nick nick-5'> Jackielove4u</span>&gt;
my rc3 node does not accept any incoming connections
<br>
</div>

<div class='talk op-msg' data-timestamp='1608124500' id='420667'>
<a class='timestamp' href='#420667'><time timestamp='2020-12-16T13:15:00Z'>13:15</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
looks like we forgot
<br>
</div>

<div class='talk op-msg' data-timestamp='1608124500' id='420668'>
<a class='timestamp' href='#420668'><time timestamp='2020-12-16T13:15:00Z'>13:15</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
#20555
<br>
</div>

<div class='talk op-msg' data-timestamp='1608124500' id='420669'>
<a class='timestamp' href='#420669'><time timestamp='2020-12-16T13:15:00Z'>13:15</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/20555" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/20555</a> | v0.21.0 testing · Issue #20555 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1608124500' id='420670'>
<a class='timestamp' href='#420670'><time timestamp='2020-12-16T13:15:00Z'>13:15</time></a>
&lt;<span class='nick nick-5'> Jackielove4u</span>&gt;
i am trying to connect my rc3 client to my rc3 node
<br>
</div>

<div class='talk op-msg' data-timestamp='1608124500' id='420671'>
<a class='timestamp' href='#420671'><time timestamp='2020-12-16T13:15:00Z'>13:15</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
oh it&#x27;s just not pinned
<br>
</div>

<div class='talk op-msg' data-timestamp='1608124560' id='420672'>
<a class='timestamp' href='#420672'><time timestamp='2020-12-16T13:16:00Z'>13:16</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
Yea I just pinned it
<br>
</div>

<div class='talk op-msg' data-timestamp='1608124560' id='420673'>
<a class='timestamp' href='#420673'><time timestamp='2020-12-16T13:16:00Z'>13:16</time></a>
&lt;<span class='nick nick-5'> Jackielove4u</span>&gt;
with connect= parameter
<br>
</div>

<div class='talk op-msg' data-timestamp='1608124560' id='420674'>
<a class='timestamp' href='#420674'><time timestamp='2020-12-16T13:16:00Z'>13:16</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
thanks :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1608124560' id='420675'>
<a class='timestamp' href='#420675'><time timestamp='2020-12-16T13:16:00Z'>13:16</time></a>
&lt;<span class='nick nick-5'> Jackielove4u</span>&gt;
the connection gets dropped instantly
<br>
</div>

<div class='talk op-msg' data-timestamp='1608124560' id='420676'>
<a class='timestamp' href='#420676'><time timestamp='2020-12-16T13:16:00Z'>13:16</time></a>
&lt;<span class='nick nick-5'> Jackielove4u</span>&gt;
can i get a ip from any of you guys
<br>
</div>

<div class='talk op-msg' data-timestamp='1608124560' id='420677'>
<a class='timestamp' href='#420677'><time timestamp='2020-12-16T13:16:00Z'>13:16</time></a>
&lt;<span class='nick nick-5'> Jackielove4u</span>&gt;
to try to connect to you
<br>
</div>

<div class='talk op-msg' data-timestamp='1608124620' id='420678'>
<a class='timestamp' href='#420678'><time timestamp='2020-12-16T13:17:00Z'>13:17</time></a>
&lt;<span class='nick nick-5'> Jackielove4u</span>&gt;
i was able to get it fixed though by reverting this commit: <a href="https://github.com/bitcoin/bitcoin/pull/20612/commits/9e806887a8f9ef63431b28d7dfd0470aa663dd02" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20612/commits/9e806887a8f9ef63431b28d7dfd0470aa663dd02</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1608124680' id='420679'>
<a class='timestamp' href='#420679'><time timestamp='2020-12-16T13:18:00Z'>13:18</time></a>
&lt;<span class='nick nick-5'> Jackielove4u</span>&gt;
not sure if this is the expected behaviour (rc3 not able to connect to rc3)
<br>
</div>

<div class='talk op-msg' data-timestamp='1608124740' id='420680'>
<a class='timestamp' href='#420680'><time timestamp='2020-12-16T13:19:00Z'>13:19</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
strange, that commit is supposed to <b>*fix*</b> disconnections by not sending sendaddrv2 to nodes we&#x27;re not sure support it
<br>
</div>

<div class='talk op-msg' data-timestamp='1608124920' id='420681'>
<a class='timestamp' href='#420681'><time timestamp='2020-12-16T13:22:00Z'>13:22</time></a>
&lt;<span class='nick nick-5'> Jackielove4u</span>&gt;
Can anybody replicate? or give me your node ip so i can try to connect to yours
<br>
</div>

<div class='talk op-msg' data-timestamp='1608124920' id='420682'>
<a class='timestamp' href='#420682'><time timestamp='2020-12-16T13:22:00Z'>13:22</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
Jackielove4u: did you try to connect rc2 with rc3?
<br>
</div>

<div class='talk op-msg' data-timestamp='1608124920' id='420683'>
<a class='timestamp' href='#420683'><time timestamp='2020-12-16T13:22:00Z'>13:22</time></a>
&lt;<span class='nick nick-5'> Jackielove4u</span>&gt;
no i did not
<br>
</div>

<div class='talk op-msg' data-timestamp='1608124980' id='420684'>
<a class='timestamp' href='#420684'><time timestamp='2020-12-16T13:23:00Z'>13:23</time></a>
&lt;<span class='nick nick-5'> Jackielove4u</span>&gt;
i can try
<br>
</div>

<div class='talk op-msg' data-timestamp='1608124980' id='420685'>
<a class='timestamp' href='#420685'><time timestamp='2020-12-16T13:23:00Z'>13:23</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
rc3 &lt;-&gt; {rc3, &lt;=0.20.1} should be fine
<br>
</div>

<div class='talk op-msg' data-timestamp='1608125040' id='420686'>
<a class='timestamp' href='#420686'><time timestamp='2020-12-16T13:24:00Z'>13:24</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
Jackielove4u: run both nodes with -debug=net and show both logs here (by pastebin) 
<br>
</div>

<div class='talk op-msg' data-timestamp='1608125160' id='420687'>
<a class='timestamp' href='#420687'><time timestamp='2020-12-16T13:26:00Z'>13:26</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
Indeed rc3 &lt;-&gt; rc3 should be fine
<br>
</div>

<div class='talk op-msg' data-timestamp='1608125220' id='420688'>
<a class='timestamp' href='#420688'><time timestamp='2020-12-16T13:27:00Z'>13:27</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
this is strange: <a href="https://bpa.st/HMPA" class="link" target="_blank">https://bpa.st/HMPA</a> why disconnect due to ping timeout (20 minutes), 2 minutes after we have received some messages from the peer?
<br>
</div>

<div class='talk op-msg' data-timestamp='1608125280' id='420689'>
<a class='timestamp' href='#420689'><time timestamp='2020-12-16T13:28:00Z'>13:28</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
1. should we disconnect in this case, given that the connection is obviously not dead and 2. where is the pong message in this particular case?
<br>
</div>

<div class='talk op-msg' data-timestamp='1608125280' id='420690'>
<a class='timestamp' href='#420690'><time timestamp='2020-12-16T13:28:00Z'>13:28</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] hebasto opened pull request #20673:  depends: Use more legible qmake commands in qt package  (master...201216-subdir) <a href="https://github.com/bitcoin/bitcoin/pull/20673" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20673</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1608125400' id='420691'>
<a class='timestamp' href='#420691'><time timestamp='2020-12-16T13:30:00Z'>13:30</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
vasild: the peer didn&#x27;t respond to a ping message. We should disconnect. It also looks like it hasn&#x27;t sent you a verack (and possibly not a version either)
<br>
</div>

<div class='talk op-msg' data-timestamp='1608125460' id='420692'>
<a class='timestamp' href='#420692'><time timestamp='2020-12-16T13:31:00Z'>13:31</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
jnewbery: I removed the non-relevant messages
<br>
</div>

<div class='talk op-msg' data-timestamp='1608125460' id='420693'>
<a class='timestamp' href='#420693'><time timestamp='2020-12-16T13:31:00Z'>13:31</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
just left the first one to show when the connection starts and addrv2 to show that something has arrived
<br>
</div>

<div class='talk op-msg' data-timestamp='1608125460' id='420694'>
<a class='timestamp' href='#420694'><time timestamp='2020-12-16T13:31:00Z'>13:31</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
vasild: can you provide full logs? Very difficult to debug issues from partial logs
<br>
</div>

<div class='talk op-msg' data-timestamp='1608125580' id='420695'>
<a class='timestamp' href='#420695'><time timestamp='2020-12-16T13:33:00Z'>13:33</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
but to answer your question, yes we always disconnect a peer that doesn&#x27;t respond to a ping within 20 minutes. See InactivityCheck() in net.cpp
<br>
</div>

<div class='talk op-msg' data-timestamp='1608125640' id='420696'>
<a class='timestamp' href='#420696'><time timestamp='2020-12-16T13:34:00Z'>13:34</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
Something&#x27;s clearly wrong with the connection if they don&#x27;t respond with pong
<br>
</div>

<div class='talk op-msg' data-timestamp='1608125700' id='420697'>
<a class='timestamp' href='#420697'><time timestamp='2020-12-16T13:35:00Z'>13:35</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
Jackielove4u: I assume you also dropped the subsequent commit <a href="https://github.com/bitcoin/bitcoin/pull/20612/commits/9e806887a8f9ef63431b28d7dfd0470aa663dd02" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20612/commits/9e806887a8f9ef63431b28d7dfd0470aa663dd02</a> as well? rc2 and rc3 don&#x27;t play nice together with that commit, but rc3 &lt;-&gt; rc3 should be fine (and we have big problems if not)
<br>
</div>

<div class='talk op-msg' data-timestamp='1608125760' id='420698'>
<a class='timestamp' href='#420698'><time timestamp='2020-12-16T13:36:00Z'>13:36</time></a>
&lt;<span class='nick nick-5'> Jackielove4u</span>&gt;
rc3 &lt;-&gt; rc3 without dropping that commit is not connecting for me
<br>
</div>

<div class='talk op-msg' data-timestamp='1608125880' id='420699'>
<a class='timestamp' href='#420699'><time timestamp='2020-12-16T13:38:00Z'>13:38</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
jnewbery: here is the full log since you asked <a href="https://bpa.st/BE5Q" class="link" target="_blank">https://bpa.st/BE5Q</a>, but I did not intend to debug this (yet), just ask if the behavior looks reasonable. You already answered the first question.
<br>
</div>

<div class='talk op-msg' data-timestamp='1608125880' id='420700'>
<a class='timestamp' href='#420700'><time timestamp='2020-12-16T13:38:00Z'>13:38</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
I dont have the logs of the other side with -debug=net
<br>
</div>

<div class='talk op-msg' data-timestamp='1608125940' id='420701'>
<a class='timestamp' href='#420701'><time timestamp='2020-12-16T13:39:00Z'>13:39</time></a>
&lt;<span class='nick nick-3'> aj</span>&gt;
jnewbery: re 19858 ; that log snippet is quite trimmed. <a href="https://0bin.net/paste/wnUMx2lG#XKm3fF9Wp8dOX03IKYazBTZaCDYN6CegUK-VW5rWjeJ" class="link" target="_blank">https://0bin.net/paste/wnUMx2lG#XKm3fF9Wp8dOX03IKYazBTZaCDYN6CegUK-VW5rWjeJ</a> is a more recent example
<br>
</div>

<div class='talk op-msg' data-timestamp='1608126000' id='420702'>
<a class='timestamp' href='#420702'><time timestamp='2020-12-16T13:40:00Z'>13:40</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
argh. why do people mess with logs??
<br>
</div>

<div class='talk op-msg' data-timestamp='1608126060' id='420703'>
<a class='timestamp' href='#420703'><time timestamp='2020-12-16T13:41:00Z'>13:41</time></a>
&lt;<span class='nick nick-5'> Jackielove4u</span>&gt;
If anybody is willing to share their node ip (that is running rc3), i can try to connect to yours and see if i get a connection
<br>
</div>

<div class='talk op-msg' data-timestamp='1608126120' id='420704'>
<a class='timestamp' href='#420704'><time timestamp='2020-12-16T13:42:00Z'>13:42</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
jnewbery: in my case I left the few relevant lines to make it easier to do a high-level overview, which would be more tedious with 700+ lines of log
<br>
</div>

<div class='talk op-msg' data-timestamp='1608126120' id='420705'>
<a class='timestamp' href='#420705'><time timestamp='2020-12-16T13:42:00Z'>13:42</time></a>
&lt;<span class='nick nick-5'> Jackielove4u</span>&gt;
rc3 &lt;-&gt; &lt;=0.20.1 works fine
<br>
</div>

<div class='talk op-msg' data-timestamp='1608126180' id='420706'>
<a class='timestamp' href='#420706'><time timestamp='2020-12-16T13:43:00Z'>13:43</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
Jackielove4u: did you run with -debug=net?
<br>
</div>

<div class='talk op-msg' data-timestamp='1608126180' id='420707'>
<a class='timestamp' href='#420707'><time timestamp='2020-12-16T13:43:00Z'>13:43</time></a>
&lt;<span class='nick nick-5'> Jackielove4u</span>&gt;
not yet, my kid is yelling that his nerf gun is stuck and need to fix that first
<br>
</div>

<div class='talk op-msg' data-timestamp='1608126180' id='420708'>
<a class='timestamp' href='#420708'><time timestamp='2020-12-16T13:43:00Z'>13:43</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
:-D
<br>
</div>

<div class='talk op-msg' data-timestamp='1608126180' id='420709'>
<a class='timestamp' href='#420709'><time timestamp='2020-12-16T13:43:00Z'>13:43</time></a>
&lt;<span class='nick nick-5'> Jackielove4u</span>&gt;
its lockdown in the netherlands
<br>
</div>

<div class='talk op-msg' data-timestamp='1608126240' id='420710'>
<a class='timestamp' href='#420710'><time timestamp='2020-12-16T13:44:00Z'>13:44</time></a>
&lt;<span class='nick nick-5'> Jackielove4u</span>&gt;
so i have to deal with kids now also
<br>
</div>

<div class='talk op-msg' data-timestamp='1608126240' id='420711'>
<a class='timestamp' href='#420711'><time timestamp='2020-12-16T13:44:00Z'>13:44</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
vasild: there&#x27;s something wrong with that peer. It&#x27;s also not <u>_sending_</u> pings every two minutes as we&#x27;d expect from a Bitcoin Core node
<br>
</div>

<div class='talk op-msg' data-timestamp='1608126360' id='420712'>
<a class='timestamp' href='#420712'><time timestamp='2020-12-16T13:46:00Z'>13:46</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
hmm, both peers do not send pings every 2 minutes
<br>
</div>

<div class='talk op-msg' data-timestamp='1608126480' id='420713'>
<a class='timestamp' href='#420713'><time timestamp='2020-12-16T13:48:00Z'>13:48</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
I wonder if there&#x27;s a problem with that connection. The getdata/block round trip time is often over a minute
<br>
</div>

<div class='talk op-msg' data-timestamp='1608126540' id='420714'>
<a class='timestamp' href='#420714'><time timestamp='2020-12-16T13:49:00Z'>13:49</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
jnewbery: that&#x27;s over i2p and is for some reason very slow
<br>
</div>

<div class='talk op-msg' data-timestamp='1608126540' id='420715'>
<a class='timestamp' href='#420715'><time timestamp='2020-12-16T13:49:00Z'>13:49</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
I think I overcooked the settings on one of my i2p routers
<br>
</div>

<div class='talk op-msg' data-timestamp='1608126540' id='420716'>
<a class='timestamp' href='#420716'><time timestamp='2020-12-16T13:49:00Z'>13:49</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
is it a very slow CPU? i think it&#x27;s possible for networking to hang on block validation if it takes very long
<br>
</div>

<div class='talk op-msg' data-timestamp='1608126600' id='420717'>
<a class='timestamp' href='#420717'><time timestamp='2020-12-16T13:50:00Z'>13:50</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
oh, i2p
<br>
</div>

<div class='talk op-msg' data-timestamp='1608126600' id='420718'>
<a class='timestamp' href='#420718'><time timestamp='2020-12-16T13:50:00Z'>13:50</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
cpu should be fine (not very slow)
<br>
</div>

<div class='talk op-msg' data-timestamp='1608126780' id='420719'>
<a class='timestamp' href='#420719'><time timestamp='2020-12-16T13:53:00Z'>13:53</time></a>
&lt;<span class='nick nick-5'> Jackielove4u</span>&gt;
nerf gun fixed
<br>
</div>

<div class='talk op-msg' data-timestamp='1608126780' id='420720'>
<a class='timestamp' href='#420720'><time timestamp='2020-12-16T13:53:00Z'>13:53</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke pushed 2 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/6af8a6232b2d...a023094fc417" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/6af8a6232b2d...a023094fc417</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1608126780' id='420721'>
<a class='timestamp' href='#420721'><time timestamp='2020-12-16T13:53:00Z'>13:53</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 3b064fc Michael Dietz: test: run mempool_expiry.py even with wallet disabled
<br>
</div>

<div class='talk op-msg' data-timestamp='1608126780' id='420722'>
<a class='timestamp' href='#420722'><time timestamp='2020-12-16T13:53:00Z'>13:53</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master a023094 MarcoFalke: Merge #20276: test: run mempool_expiry.py even with wallet disabled
<br>
</div>

<div class='talk op-msg' data-timestamp='1608126780' id='420723'>
<a class='timestamp' href='#420723'><time timestamp='2020-12-16T13:53:00Z'>13:53</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
vasild: is it possible that your router is dropping packets? I don&#x27;t know anything about how i2p works. Does it have reliable delivery?
<br>
</div>

<div class='talk op-msg' data-timestamp='1608126780' id='420724'>
<a class='timestamp' href='#420724'><time timestamp='2020-12-16T13:53:00Z'>13:53</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke merged pull request #20276: test: run mempool_expiry.py even with wallet disabled (master...mempool-expiry-miniwallet) <a href="https://github.com/bitcoin/bitcoin/pull/20276" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20276</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1608126840' id='420725'>
<a class='timestamp' href='#420725'><time timestamp='2020-12-16T13:54:00Z'>13:54</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
huh
<br>
</div>

<div class='talk op-msg' data-timestamp='1608126840' id='420726'>
<a class='timestamp' href='#420726'><time timestamp='2020-12-16T13:54:00Z'>13:54</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
aj: ah I see you added fRelay logging. Great. Then the peer is misbehaving by sending those invs. I&#x27;d guess badly implemented spy nodes. I&#x27;ve seen issues before where peers mysteriously ignored fRelay.
<br>
</div>

<div class='talk op-msg' data-timestamp='1608126840' id='420727'>
<a class='timestamp' href='#420727'><time timestamp='2020-12-16T13:54:00Z'>13:54</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
it has &quot;stream&quot; and &quot;datagram&quot; options, let me reread the docs..
<br>
</div>

<div class='talk op-msg' data-timestamp='1608126840' id='420728'>
<a class='timestamp' href='#420728'><time timestamp='2020-12-16T13:54:00Z'>13:54</time></a>
&lt;<span class='nick nick-5'> Jackielove4u</span>&gt;
upon testing i saw that my bitcoin core rc3 client (run on a desktop) and my schildbach wallet (run on android) does not connect to my rc3 bitcoin core node (run on a server)
<br>
</div>

<div class='talk op-msg' data-timestamp='1608126960' id='420729'>
<a class='timestamp' href='#420729'><time timestamp='2020-12-16T13:56:00Z'>13:56</time></a>
&lt;<span class='nick nick-5'> Jackielove4u</span>&gt;
bitcoin core rc3 client (run on a desktop) and my schildbach wallet (run on android) does connect to bitcoin core 0.20.x and lower
<br>
</div>

<div class='talk op-msg' data-timestamp='1608127020' id='420730'>
<a class='timestamp' href='#420730'><time timestamp='2020-12-16T13:57:00Z'>13:57</time></a>
&lt;<span class='nick nick-3'> aj</span>&gt;
jnewbery: yeah; as per the comment i added -- i forgot to redact my ip before pasting that log snippet, then noticed my ip wasn&#x27;t in the log; so those peers are definitely not pristine bitcoin core, so don&#x27;t think it&#x27;s our bug on the sending side either
<br>
</div>

<div class='talk op-msg' data-timestamp='1608127080' id='420731'>
<a class='timestamp' href='#420731'><time timestamp='2020-12-16T13:58:00Z'>13:58</time></a>
&lt;<span class='nick nick-3'> aj</span>&gt;
Jackielove4u: what&#x27;s a bitcoin core rc3 client?
<br>
</div>

<div class='talk op-msg' data-timestamp='1608127140' id='420732'>
<a class='timestamp' href='#420732'><time timestamp='2020-12-16T13:59:00Z'>13:59</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
jnewbery: &quot;Virtual streams are guaranteed to be sent reliably and in order...&quot; (from <a href="https://geti2p.net/en/docs/api/samv3)" class="link" target="_blank">https://geti2p.net/en/docs/api/samv3)</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1608127140' id='420733'>
<a class='timestamp' href='#420733'><time timestamp='2020-12-16T13:59:00Z'>13:59</time></a>
&lt;<span class='nick nick-5'> Jackielove4u</span>&gt;
with client i mean qt
<br>
</div>

<div class='talk op-msg' data-timestamp='1608127140' id='420734'>
<a class='timestamp' href='#420734'><time timestamp='2020-12-16T13:59:00Z'>13:59</time></a>
&lt;<span class='nick nick-3'> aj</span>&gt;
jnewbery: also, i think that&#x27;s the first example of that code actually catching a spy-ish node in the wild, yay!
<br>
</div>

<div class='talk op-msg' data-timestamp='1608127140' id='420735'>
<a class='timestamp' href='#420735'><time timestamp='2020-12-16T13:59:00Z'>13:59</time></a>
&lt;<span class='nick nick-5'> Jackielove4u</span>&gt;
with node i mean bitcoind
<br>
</div>

<div class='talk op-msg' data-timestamp='1608127140' id='420736'>
<a class='timestamp' href='#420736'><time timestamp='2020-12-16T13:59:00Z'>13:59</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
Jackielove4u: This sounds like an issue unrelated to rc3
<br>
</div>

<div class='talk op-msg' data-timestamp='1608127200' id='420737'>
<a class='timestamp' href='#420737'><time timestamp='2020-12-16T14:00:00Z'>14:00</time></a>
&lt;<span class='nick nick-3'> aj</span>&gt;
Jackielove4u: sounds like the client or the node is still at rc2 rather than rc3 to me
<br>
</div>

<div class='talk op-msg' data-timestamp='1608127200' id='420738'>
<a class='timestamp' href='#420738'><time timestamp='2020-12-16T14:00:00Z'>14:00</time></a>
&lt;<span class='nick nick-5'> Jackielove4u</span>&gt;
both are certainly on rc3
<br>
</div>

<div class='talk op-msg' data-timestamp='1608127260' id='420739'>
<a class='timestamp' href='#420739'><time timestamp='2020-12-16T14:01:00Z'>14:01</time></a>
&lt;<span class='nick nick-3'> aj</span>&gt;
Jackielove4u: run both with -debug=net and check for a line about sendaddrv2 just prior to the disconnection
<br>
</div>

<div class='talk op-msg' data-timestamp='1608127380' id='420740'>
<a class='timestamp' href='#420740'><time timestamp='2020-12-16T14:03:00Z'>14:03</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
Yes, without the debug log we can&#x27;t debug this any further
<br>
</div>

<div class='talk op-msg' data-timestamp='1608128460' id='420741'>
<a class='timestamp' href='#420741'><time timestamp='2020-12-16T14:21:00Z'>14:21</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
aj: i&#x27;ve tried to debug this same issue (where a node appears to send us inv&#x27;s after we start a blocks-only connection) many times over the years, and never been able to replicate using known bitcoin core software on both ends.
<br>
</div>

<div class='talk op-msg' data-timestamp='1608128520' id='420742'>
<a class='timestamp' href='#420742'><time timestamp='2020-12-16T14:22:00Z'>14:22</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
would be good to write up your analysis on github maybe so that we have notes for the next time we look into something like this
<br>
</div>

<div class='talk op-msg' data-timestamp='1608128520' id='420743'>
<a class='timestamp' href='#420743'><time timestamp='2020-12-16T14:22:00Z'>14:22</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
(since it&#x27;s one of those things where we can never quite be sure whether a peer is lying or we have a bug!)
<br>
</div>

<div class='talk op-msg' data-timestamp='1608129540' id='420744'>
<a class='timestamp' href='#420744'><time timestamp='2020-12-16T14:39:00Z'>14:39</time></a>
&lt;<span class='nick nick-3'> aj</span>&gt;
sdaftuar: updated <a href="https://github.com/bitcoin/bitcoin/pull/19858#issuecomment-746312882" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19858#issuecomment-746312882</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1608129600' id='420745'>
<a class='timestamp' href='#420745'><time timestamp='2020-12-16T14:40:00Z'>14:40</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
If you consider BIP37 and optional standard, then it&#x27;s not really a violation of the protocol to send tx INVs after receiving a version with fRelay = false
<br>
</div>

<div class='talk op-msg' data-timestamp='1608129600' id='420746'>
<a class='timestamp' href='#420746'><time timestamp='2020-12-16T14:40:00Z'>14:40</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 2 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/a023094fc417...2d4eeaf9c588" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/a023094fc417...2d4eeaf9c588</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1608129600' id='420747'>
<a class='timestamp' href='#420747'><time timestamp='2020-12-16T14:40:00Z'>14:40</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master c175690 Jarol Rodriguez: doc: Update for FreeBSD 12.2, add GUI Build Instructions
<br>
</div>

<div class='talk op-msg' data-timestamp='1608129600' id='420748'>
<a class='timestamp' href='#420748'><time timestamp='2020-12-16T14:40:00Z'>14:40</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 2d4eeaf Wladimir J. van der Laan: Merge #20601: doc: Update for FreeBSD 12.2, add GUI Build Instructions
<br>
</div>

<div class='talk op-msg' data-timestamp='1608129660' id='420749'>
<a class='timestamp' href='#420749'><time timestamp='2020-12-16T14:41:00Z'>14:41</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj merged pull request #20601: doc: Update for FreeBSD 12.2, add GUI Build Instructions (master...master) <a href="https://github.com/bitcoin/bitcoin/pull/20601" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20601</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1608129660' id='420750'>
<a class='timestamp' href='#420750'><time timestamp='2020-12-16T14:41:00Z'>14:41</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
*an optional
<br>
</div>

<div class='talk op-msg' data-timestamp='1608129720' id='420751'>
<a class='timestamp' href='#420751'><time timestamp='2020-12-16T14:42:00Z'>14:42</time></a>
&lt;<span class='nick nick-3'> aj</span>&gt;
jnewbery: i think if we&#x27;re wanting a no-tx connection (to conserve b/w eg) then disconnecting is still the right thing to do if we receive txs on it?
<br>
</div>

<div class='talk op-msg' data-timestamp='1608130020' id='420752'>
<a class='timestamp' href='#420752'><time timestamp='2020-12-16T14:47:00Z'>14:47</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
aj: right. Perhaps we should also disconnect peers that don&#x27;t provide fRelay in their version message to make it explicit that support for fRelay is required
<br>
</div>

<div class='talk op-msg' data-timestamp='1608130080' id='420753'>
<a class='timestamp' href='#420753'><time timestamp='2020-12-16T14:48:00Z'>14:48</time></a>
&lt;<span class='nick nick-3'> aj</span>&gt;
jnewbery: hmm, i guess i&#x27;m not logging whether these peers are sending frelay or not
<br>
</div>

<div class='talk op-msg' data-timestamp='1608130140' id='420754'>
<a class='timestamp' href='#420754'><time timestamp='2020-12-16T14:49:00Z'>14:49</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
that&#x27;d be interesting. If they sent it but ignored the value that we sent
<br>
</div>

<div class='talk op-msg' data-timestamp='1608130140' id='420755'>
<a class='timestamp' href='#420755'><time timestamp='2020-12-16T14:49:00Z'>14:49</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke pushed 3 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/2d4eeaf9c588...9dbcd3710521" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/2d4eeaf9c588...9dbcd3710521</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1608130140' id='420756'>
<a class='timestamp' href='#420756'><time timestamp='2020-12-16T14:49:00Z'>14:49</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master fa8e15f MarcoFalke: test: pep8 wallet_multiwallet.py
<br>
</div>

<div class='talk op-msg' data-timestamp='1608130140' id='420757'>
<a class='timestamp' href='#420757'><time timestamp='2020-12-16T14:49:00Z'>14:49</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master fab48da MarcoFalke: test: Fix intermittent wallet_multiwallet issue with got_loading_error
<br>
</div>

<div class='talk op-msg' data-timestamp='1608130140' id='420758'>
<a class='timestamp' href='#420758'><time timestamp='2020-12-16T14:49:00Z'>14:49</time></a>
&lt;<span class='nick nick-3'> aj</span>&gt;
jnewbery: that&#x27;s what i&#x27;d guess they&#x27;re doing. not seeing much advantage in disconnecting 0s-15s earlier though
<br>
</div>

<div class='talk op-msg' data-timestamp='1608130140' id='420759'>
<a class='timestamp' href='#420759'><time timestamp='2020-12-16T14:49:00Z'>14:49</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 9dbcd37 MarcoFalke: Merge #20569: test: Fix intermittent wallet_multiwallet issue with got_loa...
<br>
</div>

<div class='talk op-msg' data-timestamp='1608130200' id='420760'>
<a class='timestamp' href='#420760'><time timestamp='2020-12-16T14:50:00Z'>14:50</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke merged pull request #20569: test: Fix intermittent wallet_multiwallet issue with got_loading_error (master...2012-testWalletInt) <a href="https://github.com/bitcoin/bitcoin/pull/20569" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20569</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1608130200' id='420761'>
<a class='timestamp' href='#420761'><time timestamp='2020-12-16T14:50:00Z'>14:50</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
or maybe we should deprecate fRelay and always use a feefilter message with MAX_MONEY
<br>
</div>

<div class='talk op-msg' data-timestamp='1608130320' id='420762'>
<a class='timestamp' href='#420762'><time timestamp='2020-12-16T14:52:00Z'>14:52</time></a>
&lt;<span class='nick nick-3'> aj</span>&gt;
what happened with the p2p v2 messages? did it ever even get a proper bip?
<br>
</div>

<div class='talk op-msg' data-timestamp='1608130380' id='420763'>
<a class='timestamp' href='#420763'><time timestamp='2020-12-16T14:53:00Z'>14:53</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
aj: soon
<br>
</div>

<div class='talk op-msg' data-timestamp='1608130380' id='420764'>
<a class='timestamp' href='#420764'><time timestamp='2020-12-16T14:53:00Z'>14:53</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I&#x27;m currently working on the new AEAD (with internal rekeying)
<br>
</div>

<div class='talk op-msg' data-timestamp='1608130380' id='420765'>
<a class='timestamp' href='#420765'><time timestamp='2020-12-16T14:53:00Z'>14:53</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Which should end up in the BIP
<br>
</div>

<div class='talk op-msg' data-timestamp='1608130440' id='420766'>
<a class='timestamp' href='#420766'><time timestamp='2020-12-16T14:54:00Z'>14:54</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Discussion is somewhat still ongoing <a href="https://gist.github.com/jonasschnelli/c530ea8421b8d0e80c51486325587c52" class="link" target="_blank">https://gist.github.com/jonasschnelli/c530ea8421b8d0e80c51486325587c52</a> (but I guess its ready to work into the BIP)
<br>
</div>

<div class='talk op-msg' data-timestamp='1608130440' id='420767'>
<a class='timestamp' href='#420767'><time timestamp='2020-12-16T14:54:00Z'>14:54</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
aj: what percentage of additional block-relay-only peers are you seeing this quick disconnect from? Does this limit the effectiveness of the additional block-relay-only peer mechanism?
<br>
</div>

<div class='talk op-msg' data-timestamp='1608130500' id='420768'>
<a class='timestamp' href='#420768'><time timestamp='2020-12-16T14:55:00Z'>14:55</time></a>
&lt;<span class='nick nick-12'> * jonasschnelli</span>&gt;
fears scope creep in v2
<br>
</div>

<div class='talk op-msg' data-timestamp='1608130500' id='420769'>
<a class='timestamp' href='#420769'><time timestamp='2020-12-16T14:55:00Z'>14:55</time></a>
&lt;<span class='nick nick-3'> aj</span>&gt;
jnewbery: handwavy guess, maybe 10%?
<br>
</div>

<div class='talk op-msg' data-timestamp='1608130560' id='420770'>
<a class='timestamp' href='#420770'><time timestamp='2020-12-16T14:56:00Z'>14:56</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke opened pull request #20674: fuzz: Call SendMessages after ProcessMessage to increase coverage (master...2012-fuzzSendMessages) <a href="https://github.com/bitcoin/bitcoin/pull/20674" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20674</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1608130560' id='420771'>
<a class='timestamp' href='#420771'><time timestamp='2020-12-16T14:56:00Z'>14:56</time></a>
&lt;<span class='nick nick-3'> aj</span>&gt;
jnewbery: i changed the timer to 20s (which doesn&#x27;t really work because of the 30s min lifetime), which is the only reason i&#x27;m seeing lots
<br>
</div>

<div class='talk op-msg' data-timestamp='1608130800' id='420772'>
<a class='timestamp' href='#420772'><time timestamp='2020-12-16T15:00:00Z'>15:00</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
jnewbery: i think depending on your addrman, you might see a similar percentage of connections never get instantiated (because you have stale addresses that you&#x27;re trying to connect to)
<br>
</div>

<div class='talk op-msg' data-timestamp='1608130800' id='420773'>
<a class='timestamp' href='#420773'><time timestamp='2020-12-16T15:00:00Z'>15:00</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
jnewbery: but i think that is fine; if we eventually are able to find honest peers with putting low load on the network, that&#x27;s much better than where we were before
<br>
</div>

<div class='talk op-msg' data-timestamp='1608130860' id='420774'>
<a class='timestamp' href='#420774'><time timestamp='2020-12-16T15:01:00Z'>15:01</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
s/instantiated/connected/
<br>
</div>

<div class='talk op-msg' data-timestamp='1608131040' id='420775'>
<a class='timestamp' href='#420775'><time timestamp='2020-12-16T15:04:00Z'>15:04</time></a>
&lt;<span class='nick nick-3'> aj</span>&gt;
jnewbery: ~12.5% -- 366 &quot;inv sent in violation of protocol&quot; disconnections versus 2559 &quot;disconnecting extra block-relay-only peer&quot; messages. there&#x27;s also a bunch of &quot;i tried making a b-r-o extra conn, but they basically immediately disconnected me examples, which i haven&#x27;t looked into at all
<br>
</div>

<div class='talk op-msg' data-timestamp='1608131100' id='420776'>
<a class='timestamp' href='#420776'><time timestamp='2020-12-16T15:05:00Z'>15:05</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
sdaftuar: does that depend on whether we&#x27;re making progress through all the addresses in our addrman? If we&#x27;re eclipsed then maybe our peers will be able to churn our new tables and we&#x27;ll only ever connect to bad peers
<br>
</div>

<div class='talk op-msg' data-timestamp='1608131280' id='420777'>
<a class='timestamp' href='#420777'><time timestamp='2020-12-16T15:08:00Z'>15:08</time></a>
&lt;<span class='nick nick-5'> Jackielove4u</span>&gt;
jnewbery: you were right
<br>
</div>

<div class='talk op-msg' data-timestamp='1608131280' id='420778'>
<a class='timestamp' href='#420778'><time timestamp='2020-12-16T15:08:00Z'>15:08</time></a>
&lt;<span class='nick nick-5'> Jackielove4u</span>&gt;
rc2 and rc3 dont work nicely along
<br>
</div>

<div class='talk op-msg' data-timestamp='1608131280' id='420779'>
<a class='timestamp' href='#420779'><time timestamp='2020-12-16T15:08:00Z'>15:08</time></a>
&lt;<span class='nick nick-5'> Jackielove4u</span>&gt;
it seems my node was indeed still on rc2
<br>
</div>

<div class='talk op-msg' data-timestamp='1608131280' id='420780'>
<a class='timestamp' href='#420780'><time timestamp='2020-12-16T15:08:00Z'>15:08</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
Jackielove4u: phew. That&#x27;s good news :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1608131340' id='420781'>
<a class='timestamp' href='#420781'><time timestamp='2020-12-16T15:09:00Z'>15:09</time></a>
&lt;<span class='nick nick-5'> Jackielove4u</span>&gt;
sorry for wasting your times
<br>
</div>

<div class='talk op-msg' data-timestamp='1608131340' id='420782'>
<a class='timestamp' href='#420782'><time timestamp='2020-12-16T15:09:00Z'>15:09</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
jnewbery: we pull from both the new table and tried table in making these connections
<br>
</div>

<div class='talk op-msg' data-timestamp='1608131340' id='420783'>
<a class='timestamp' href='#420783'><time timestamp='2020-12-16T15:09:00Z'>15:09</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
if someone takes over the whole addrman, it&#x27;s game over of course
<br>
</div>

<div class='talk op-msg' data-timestamp='1608131580' id='420784'>
<a class='timestamp' href='#420784'><time timestamp='2020-12-16T15:13:00Z'>15:13</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
i guess if somehow our only honest addrman addresses were in the same netgroups as our existing outbound connections, we would never finnd them
<br>
</div>

<div class='talk op-msg' data-timestamp='1608131580' id='420785'>
<a class='timestamp' href='#420785'><time timestamp='2020-12-16T15:13:00Z'>15:13</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
but that seems like a pretty small effect given that we only have 10 peers
<br>
</div>

<div class='talk op-msg' data-timestamp='1608131580' id='420786'>
<a class='timestamp' href='#420786'><time timestamp='2020-12-16T15:13:00Z'>15:13</time></a>
&lt;<span class='nick nick-3'> aj</span>&gt;
Jackielove4u: that&#x27;s okay, the &quot;i told you so&quot; seratonin release makes it all worthwhile ;)
<br>
</div>

<div class='talk op-msg' data-timestamp='1608133020' id='420787'>
<a class='timestamp' href='#420787'><time timestamp='2020-12-16T15:37:00Z'>15:37</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
I guess a more general point is that we select with replacement, so if there are only a few honest peers in our addrman, then it&#x27;ll take a long time to pick them
<br>
</div>

<div class='talk op-msg' data-timestamp='1608133080' id='420788'>
<a class='timestamp' href='#420788'><time timestamp='2020-12-16T15:38:00Z'>15:38</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
the new table is 4x the capacity of the tried table. I&#x27;d expect in reality the number of addresses are much more skewed towards the new table, but that&#x27;s just a guess
<br>
</div>

<div class='talk op-msg' data-timestamp='1608133260' id='420789'>
<a class='timestamp' href='#420789'><time timestamp='2020-12-16T15:41:00Z'>15:41</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
jnewbery: i think we choose from new vs tried with 50% probability, don&#x27;t we?
<br>
</div>

<div class='talk op-msg' data-timestamp='1608133380' id='420790'>
<a class='timestamp' href='#420790'><time timestamp='2020-12-16T15:43:00Z'>15:43</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
oh you&#x27;re right!
<br>
</div>

<div class='talk op-msg' data-timestamp='1608133440' id='420791'>
<a class='timestamp' href='#420791'><time timestamp='2020-12-16T15:44:00Z'>15:44</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 2 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/9dbcd3710521...3f205808a5f2" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/9dbcd3710521...3f205808a5f2</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1608133440' id='420792'>
<a class='timestamp' href='#420792'><time timestamp='2020-12-16T15:44:00Z'>15:44</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master cd03513 Wladimir J. van der Laan: init: Signal-safe instant shutdown
<br>
</div>

<div class='talk op-msg' data-timestamp='1608133440' id='420793'>
<a class='timestamp' href='#420793'><time timestamp='2020-12-16T15:44:00Z'>15:44</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 3f20580 Wladimir J. van der Laan: Merge #20605: init: Signal-safe instant shutdown
<br>
</div>

<div class='talk op-msg' data-timestamp='1608133440' id='420794'>
<a class='timestamp' href='#420794'><time timestamp='2020-12-16T15:44:00Z'>15:44</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj merged pull request #20605: init: Signal-safe instant shutdown (master...2020_12_instant_shutdown) <a href="https://github.com/bitcoin/bitcoin/pull/20605" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20605</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1608133740' id='420795'>
<a class='timestamp' href='#420795'><time timestamp='2020-12-16T15:49:00Z'>15:49</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
sdaftuar: do you have a sense of what proportion of connection attempts fail after being selected in ThreadOpenConnections() ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1608133980' id='420796'>
<a class='timestamp' href='#420796'><time timestamp='2020-12-16T15:53:00Z'>15:53</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
maybe half-ish
<br>
</div>

<div class='talk op-msg' data-timestamp='1608133980' id='420797'>
<a class='timestamp' href='#420797'><time timestamp='2020-12-16T15:53:00Z'>15:53</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
i just did a quick check to see how many successful block-relay only connections i&#x27;ve had, and it&#x27;s about half what you&#x27;d expect if every connection succeeded and we connect to one every 5 minutes
<br>
</div>

<div class='talk op-msg' data-timestamp='1608134040' id='420798'>
<a class='timestamp' href='#420798'><time timestamp='2020-12-16T15:54:00Z'>15:54</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
but i&#x27;m sure it depends a lot on your addrman. the node i just checked is on both tor and ipv4, i&#x27;m sure there are quirks with how tor addresses are relayed, etc
<br>
</div>

<div class='talk op-msg' data-timestamp='1608134100' id='420799'>
<a class='timestamp' href='#420799'><time timestamp='2020-12-16T15:55:00Z'>15:55</time></a>
&lt;<span class='nick nick-3'> aj</span>&gt;
jnewbery: could add logging for IsFeelerConn() -&gt; fDisconect=true and cmpare that to how often we see &quot;Making feeler connection to&quot; log entries
<br>
</div>

<div class='talk op-msg' data-timestamp='1608134280' id='420800'>
<a class='timestamp' href='#420800'><time timestamp='2020-12-16T15:58:00Z'>15:58</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
aj: good idea
<br>
</div>

<div class='talk op-msg' data-timestamp='1608134400' id='420801'>
<a class='timestamp' href='#420801'><time timestamp='2020-12-16T16:00:00Z'>16:00</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
I wonder if we should do the IsDiscouraged() check earlier. If you end up with some discouraged addresses in your addrman, I guess they&#x27;ll just stay there and you&#x27;ll sometimes select them but never be able to connect
<br>
</div>

<div class='talk op-msg' data-timestamp='1608137100' id='420802'>
<a class='timestamp' href='#420802'><time timestamp='2020-12-16T16:45:00Z'>16:45</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke pushed 4 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/3f205808a5f2...69f1ee1922e3" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/3f205808a5f2...69f1ee1922e3</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1608137100' id='420803'>
<a class='timestamp' href='#420803'><time timestamp='2020-12-16T16:45:00Z'>16:45</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 6d3af3a Ivan Metlushko: wallettool: pass in DatabaseOptions into MakeWallet
<br>
</div>

<div class='talk op-msg' data-timestamp='1608137100' id='420804'>
<a class='timestamp' href='#420804'><time timestamp='2020-12-16T16:45:00Z'>16:45</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 345e88e Ivan Metlushko: wallettool: add param to create descriptors wallet
<br>
</div>

<div class='talk op-msg' data-timestamp='1608137100' id='420805'>
<a class='timestamp' href='#420805'><time timestamp='2020-12-16T16:45:00Z'>16:45</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 173cc9b Ivan Metlushko: test: walettool create descriptors
<br>
</div>

<div class='talk op-msg' data-timestamp='1608137100' id='420806'>
<a class='timestamp' href='#420806'><time timestamp='2020-12-16T16:45:00Z'>16:45</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke merged pull request #20365: wallettool: add parameter to create descriptors wallet (master...wallet_tool_create_descriptors) <a href="https://github.com/bitcoin/bitcoin/pull/20365" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20365</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1608138540' id='420807'>
<a class='timestamp' href='#420807'><time timestamp='2020-12-16T17:09:00Z'>17:09</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 3 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/69f1ee1922e3...ad3d4b3929ab" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/69f1ee1922e3...ad3d4b3929ab</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1608138540' id='420808'>
<a class='timestamp' href='#420808'><time timestamp='2020-12-16T17:09:00Z'>17:09</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 83f8821 Pieter Wuille: refactor: add IsAddrCompatible() to CNode
<br>
</div>

<div class='talk op-msg' data-timestamp='1608138540' id='420809'>
<a class='timestamp' href='#420809'><time timestamp='2020-12-16T17:09:00Z'>17:09</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 37fe80e Pieter Wuille: Only consider addrv2 peers for relay of non-addrv1 addresses
<br>
</div>

<div class='talk op-msg' data-timestamp='1608138540' id='420810'>
<a class='timestamp' href='#420810'><time timestamp='2020-12-16T17:09:00Z'>17:09</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master ad3d4b3 Wladimir J. van der Laan: Merge #20661: Only select from addrv2-capable peers for torv3 address rela...
<br>
</div>

<div class='talk op-msg' data-timestamp='1608138540' id='420811'>
<a class='timestamp' href='#420811'><time timestamp='2020-12-16T17:09:00Z'>17:09</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj merged pull request #20661: Only select from addrv2-capable peers for torv3 address relay (master...202012_torv2_relay_only_addrv2) <a href="https://github.com/bitcoin/bitcoin/pull/20661" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20661</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1608138840' id='420812'>
<a class='timestamp' href='#420812'><time timestamp='2020-12-16T17:14:00Z'>17:14</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
Backport of this ^ conflicts with 7fabe0f359ae16ed36ce4ca2c33631d038c21448
<br>
</div>

<div class='talk op-msg' data-timestamp='1608138900' id='420813'>
<a class='timestamp' href='#420813'><time timestamp='2020-12-16T17:15:00Z'>17:15</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
Should 7fabe0f359ae16ed36ce4ca2c33631d038c21448 also be backported?
<br>
</div>

<div class='talk op-msg' data-timestamp='1608138900' id='420814'>
<a class='timestamp' href='#420814'><time timestamp='2020-12-16T17:15:00Z'>17:15</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
#19763 
<br>
</div>

<div class='talk op-msg' data-timestamp='1608138900' id='420815'>
<a class='timestamp' href='#420815'><time timestamp='2020-12-16T17:15:00Z'>17:15</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/19763" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/19763</a> | net: dont try to relay to the address originator by vasild · Pull Request #19763 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1608139020' id='420816'>
<a class='timestamp' href='#420816'><time timestamp='2020-12-16T17:17:00Z'>17:17</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
it would be easy to resolve, in case it is decided not to backport 19763
<br>
</div>

<div class='talk op-msg' data-timestamp='1608139860' id='420817'>
<a class='timestamp' href='#420817'><time timestamp='2020-12-16T17:31:00Z'>17:31</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
MarcoFalke: hm I&#x27;m not sure it&#x27;s worth backporting #19763 myself. if we are concerned about addr propagation though, i would imagine that (after #20661) #20561 would be a bigger impact to get torv3 addresses to propagate quicker
<br>
</div>

<div class='talk op-msg' data-timestamp='1608139860' id='420818'>
<a class='timestamp' href='#420818'><time timestamp='2020-12-16T17:31:00Z'>17:31</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/19763" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/19763</a> | net: dont try to relay to the address originator by vasild · Pull Request #19763 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1608139860' id='420819'>
<a class='timestamp' href='#420819'><time timestamp='2020-12-16T17:31:00Z'>17:31</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/20661" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/20661</a> | Only select from addrv2-capable peers for torv3 address relay by sipa · Pull Request #20661 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1608139860' id='420820'>
<a class='timestamp' href='#420820'><time timestamp='2020-12-16T17:31:00Z'>17:31</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/20561" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/20561</a> | p2p: periodically clear m_addr_known by sdaftuar · Pull Request #20561 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1608139860' id='420821'>
<a class='timestamp' href='#420821'><time timestamp='2020-12-16T17:31:00Z'>17:31</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
as without 20561, self-announcements go out far less frequently 
<br>
</div>

<div class='talk op-msg' data-timestamp='1608139920' id='420822'>
<a class='timestamp' href='#420822'><time timestamp='2020-12-16T17:32:00Z'>17:32</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
curious what others think though
<br>
</div>

<div class='talk op-msg' data-timestamp='1608139920' id='420823'>
<a class='timestamp' href='#420823'><time timestamp='2020-12-16T17:32:00Z'>17:32</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
agree
<br>
</div>

<div class='talk op-msg' data-timestamp='1608140160' id='420824'>
<a class='timestamp' href='#420824'><time timestamp='2020-12-16T17:36:00Z'>17:36</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
I don&#x27;t feel strongly what to backport and what not, I guess one question is how much are v3 addresses considered to be supported in 0.21.0
<br>
</div>

<div class='talk op-msg' data-timestamp='1608140220' id='420825'>
<a class='timestamp' href='#420825'><time timestamp='2020-12-16T17:37:00Z'>17:37</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
Maybe it is best to leave it for 0.21.1 
<br>
</div>

<div class='talk op-msg' data-timestamp='1608140280' id='420826'>
<a class='timestamp' href='#420826'><time timestamp='2020-12-16T17:38:00Z'>17:38</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
i didn&#x27;t quite understand how all this works -- is it the case that tor users who upgrade to 0.21 will suddenly switch to having a v3 address?
<br>
</div>

<div class='talk op-msg' data-timestamp='1608140280' id='420827'>
<a class='timestamp' href='#420827'><time timestamp='2020-12-16T17:38:00Z'>17:38</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
(sorry if this badly misunderstands how bitcoind and tor work together)
<br>
</div>

<div class='talk op-msg' data-timestamp='1608140280' id='420828'>
<a class='timestamp' href='#420828'><time timestamp='2020-12-16T17:38:00Z'>17:38</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sdaftuar: if they use tor autoconfig  yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1608140280' id='420829'>
<a class='timestamp' href='#420829'><time timestamp='2020-12-16T17:38:00Z'>17:38</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
thanks -- that lines up with my own experience, i didn&#x27;t know if i had done something unusual
<br>
</div>

<div class='talk op-msg' data-timestamp='1608140280' id='420830'>
<a class='timestamp' href='#420830'><time timestamp='2020-12-16T17:38:00Z'>17:38</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
only v3?
<br>
</div>

<div class='talk op-msg' data-timestamp='1608140280' id='420831'>
<a class='timestamp' href='#420831'><time timestamp='2020-12-16T17:38:00Z'>17:38</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
or also?
<br>
</div>

<div class='talk op-msg' data-timestamp='1608140280' id='420832'>
<a class='timestamp' href='#420832'><time timestamp='2020-12-16T17:38:00Z'>17:38</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
luke-jr: yes, as far as i can tell
<br>
</div>

<div class='talk op-msg' data-timestamp='1608140340' id='420833'>
<a class='timestamp' href='#420833'><time timestamp='2020-12-16T17:39:00Z'>17:39</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
not sure that&#x27;s a good idea
<br>
</div>

<div class='talk op-msg' data-timestamp='1608140340' id='420834'>
<a class='timestamp' href='#420834'><time timestamp='2020-12-16T17:39:00Z'>17:39</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
only v3
<br>
</div>

<div class='talk op-msg' data-timestamp='1608140340' id='420835'>
<a class='timestamp' href='#420835'><time timestamp='2020-12-16T17:39:00Z'>17:39</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
well, I guess they can still connect to v2 peers?
<br>
</div>

<div class='talk op-msg' data-timestamp='1608140340' id='420836'>
<a class='timestamp' href='#420836'><time timestamp='2020-12-16T17:39:00Z'>17:39</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1608140340' id='420837'>
<a class='timestamp' href='#420837'><time timestamp='2020-12-16T17:39:00Z'>17:39</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
as long as tor v2 isn&quot;t disabled network-wide
<br>
</div>

<div class='talk op-msg' data-timestamp='1608140340' id='420838'>
<a class='timestamp' href='#420838'><time timestamp='2020-12-16T17:39:00Z'>17:39</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
in 10 months or so
<br>
</div>

<div class='talk op-msg' data-timestamp='1608140400' id='420839'>
<a class='timestamp' href='#420839'><time timestamp='2020-12-16T17:40:00Z'>17:40</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
wen bitcoin-dnsseed support v3? :P
<br>
</div>

<div class='talk op-msg' data-timestamp='1608140400' id='420840'>
<a class='timestamp' href='#420840'><time timestamp='2020-12-16T17:40:00Z'>17:40</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
luke-jr: makes little sense, as they can&#x27;t be exposed through dns
<br>
</div>

<div class='talk op-msg' data-timestamp='1608140400' id='420841'>
<a class='timestamp' href='#420841'><time timestamp='2020-12-16T17:40:00Z'>17:40</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
sipa: can be exposed via web :x
<br>
</div>

<div class='talk op-msg' data-timestamp='1608140460' id='420842'>
<a class='timestamp' href='#420842'><time timestamp='2020-12-16T17:41:00Z'>17:41</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
pretty sure they can be on DNS too tho
<br>
</div>

<div class='talk op-msg' data-timestamp='1608140460' id='420843'>
<a class='timestamp' href='#420843'><time timestamp='2020-12-16T17:41:00Z'>17:41</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
just needs to use a different record type
<br>
</div>

<div class='talk op-msg' data-timestamp='1608140520' id='420844'>
<a class='timestamp' href='#420844'><time timestamp='2020-12-16T17:42:00Z'>17:42</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
luke-jr: then we need actual DNS client functionality, and can&#x27;t just use OS resolvers
<br>
</div>

<div class='talk op-msg' data-timestamp='1608140640' id='420845'>
<a class='timestamp' href='#420845'><time timestamp='2020-12-16T17:44:00Z'>17:44</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
Tor won&#x27;t do it for us?
<br>
</div>

<div class='talk op-msg' data-timestamp='1608140700' id='420846'>
<a class='timestamp' href='#420846'><time timestamp='2020-12-16T17:45:00Z'>17:45</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
tor has no DNS resolving functionality as far as i know
<br>
</div>

<div class='talk op-msg' data-timestamp='1608140700' id='420847'>
<a class='timestamp' href='#420847'><time timestamp='2020-12-16T17:45:00Z'>17:45</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 5 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/ad3d4b3929ab...5b6f970e3fda" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/ad3d4b3929ab...5b6f970e3fda</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1608140700' id='420848'>
<a class='timestamp' href='#420848'><time timestamp='2020-12-16T17:45:00Z'>17:45</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master a07910a Antoine Riard: test: Makes wtxidrelay support a generic P2PInterface option
<br>
</div>

<div class='talk op-msg' data-timestamp='1608140700' id='420849'>
<a class='timestamp' href='#420849'><time timestamp='2020-12-16T17:45:00Z'>17:45</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 06efb31 Antoine Riard: Add functional test test_txid_inv_delay
<br>
</div>

<div class='talk op-msg' data-timestamp='1608140700' id='420850'>
<a class='timestamp' href='#420850'><time timestamp='2020-12-16T17:45:00Z'>17:45</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master d3b5eac Antoine Riard: Add mutation for functional test test_preferred_inv
<br>
</div>

<div class='talk op-msg' data-timestamp='1608140760' id='420851'>
<a class='timestamp' href='#420851'><time timestamp='2020-12-16T17:46:00Z'>17:46</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj merged pull request #20171: Add functional test test_txid_inv_delay (master...2020-10-txid-delay-test) <a href="https://github.com/bitcoin/bitcoin/pull/20171" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20171</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1608140760' id='420852'>
<a class='timestamp' href='#420852'><time timestamp='2020-12-16T17:46:00Z'>17:46</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
there is a &quot;connect me to this NAME&quot; function that we use
<br>
</div>

<div class='talk op-msg' data-timestamp='1608140760' id='420853'>
<a class='timestamp' href='#420853'><time timestamp='2020-12-16T17:46:00Z'>17:46</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
which does the resolving at an exit node and forwards the connection there
<br>
</div>

<div class='talk op-msg' data-timestamp='1608140760' id='420854'>
<a class='timestamp' href='#420854'><time timestamp='2020-12-16T17:46:00Z'>17:46</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but we never see the IP it resolved to
<br>
</div>

<div class='talk op-msg' data-timestamp='1608140880' id='420855'>
<a class='timestamp' href='#420855'><time timestamp='2020-12-16T17:48:00Z'>17:48</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
tor has DNS lookup support, however it only looks up one address, it cannot be used to get multiple results nor special records
<br>
</div>

<div class='talk op-msg' data-timestamp='1608140880' id='420856'>
<a class='timestamp' href='#420856'><time timestamp='2020-12-16T17:48:00Z'>17:48</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
(it&#x27;s a socks5 extension which we don&#x27;t use)
<br>
</div>

<div class='talk op-msg' data-timestamp='1608140880' id='420857'>
<a class='timestamp' href='#420857'><time timestamp='2020-12-16T17:48:00Z'>17:48</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
so indeed, DNS seeds are useless for it
<br>
</div>

<div class='talk op-msg' data-timestamp='1608140940' id='420858'>
<a class='timestamp' href='#420858'><time timestamp='2020-12-16T17:49:00Z'>17:49</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
we could have seed nodes that are available for getaddr oneshot connections, exposed over hidden services
<br>
</div>

<div class='talk op-msg' data-timestamp='1608141000' id='420859'>
<a class='timestamp' href='#420859'><time timestamp='2020-12-16T17:50:00Z'>17:50</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1608141000' id='420860'>
<a class='timestamp' href='#420860'><time timestamp='2020-12-16T17:50:00Z'>17:50</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that may be a useful thing to add to my seeder
<br>
</div>

<div class='talk op-msg' data-timestamp='1608141000' id='420861'>
<a class='timestamp' href='#420861'><time timestamp='2020-12-16T17:50:00Z'>17:50</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
PRs welcome :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1608141000' id='420862'>
<a class='timestamp' href='#420862'><time timestamp='2020-12-16T17:50:00Z'>17:50</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
sipa: hm if we&#x27;re relying on that we should revisit some of the issues we discussed in the last few months about how addrfetch connections work
<br>
</div>

<div class='talk op-msg' data-timestamp='1608141060' id='420863'>
<a class='timestamp' href='#420863'><time timestamp='2020-12-16T17:51:00Z'>17:51</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
actually, i think it&#x27;s only an issue if the addrfetch peer you connect to is running bitcoin core, so maybe not an issue if your seeder is custom sofwtare with different behavior
<br>
</div>

<div class='talk op-msg' data-timestamp='1608141120' id='420864'>
<a class='timestamp' href='#420864'><time timestamp='2020-12-16T17:52:00Z'>17:52</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sdaftuar: when you run with onlynet=tor all DNS seed requests are converted into addrfetch connections to the DNS seeds
<br>
</div>

<div class='talk op-msg' data-timestamp='1608141120' id='420865'>
<a class='timestamp' href='#420865'><time timestamp='2020-12-16T17:52:00Z'>17:52</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
which means it&#x27;s doing an extra indirection
<br>
</div>

<div class='talk op-msg' data-timestamp='1608141180' id='420866'>
<a class='timestamp' href='#420866'><time timestamp='2020-12-16T17:53:00Z'>17:53</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
this works fine, but it means seed requests do go outside of the tor network
<br>
</div>

<div class='talk op-msg' data-timestamp='1608141240' id='420867'>
<a class='timestamp' href='#420867'><time timestamp='2020-12-16T17:54:00Z'>17:54</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
when you say &quot;we could have seed nodes that are available for getaddr one shot connections&quot; - does that mean that we have hardcoded addresses available for that, or are you saying that there&#x27;s a dns resolution that happens so that we would connect to a random bitcoin core node for the addrfetch behavior?
<br>
</div>

<div class='talk op-msg' data-timestamp='1608141300' id='420868'>
<a class='timestamp' href='#420868'><time timestamp='2020-12-16T17:55:00Z'>17:55</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
my proposal is adding hardcoded addrfetchable hidden service addresses, which act as a seeder (and only support addrfetch), instead of as a full node
<br>
</div>

<div class='talk op-msg' data-timestamp='1608141300' id='420869'>
<a class='timestamp' href='#420869'><time timestamp='2020-12-16T17:55:00Z'>17:55</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
ah ok, that makes sense
<br>
</div>

<div class='talk op-msg' data-timestamp='1608141360' id='420870'>
<a class='timestamp' href='#420870'><time timestamp='2020-12-16T17:56:00Z'>17:56</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
i assume your seeder doesn&#x27;t (eg) announce it&#x27;s own address to the node that connects to it before responding to a getaddr request
<br>
</div>

<div class='talk op-msg' data-timestamp='1608141360' id='420871'>
<a class='timestamp' href='#420871'><time timestamp='2020-12-16T17:56:00Z'>17:56</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
as i think that behavior in bitcoin core causes problems with the addrfetch logic
<br>
</div>

<div class='talk op-msg' data-timestamp='1608141600' id='420872'>
<a class='timestamp' href='#420872'><time timestamp='2020-12-16T18:00:00Z'>18:00</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
you can&#x27;t connect to my seeder; its only publicly reachable interface is DNS
<br>
</div>

<div class='talk op-msg' data-timestamp='1608141600' id='420873'>
<a class='timestamp' href='#420873'><time timestamp='2020-12-16T18:00:00Z'>18:00</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
oh so &quot;PRs welcome&quot; meant we need to add quite a bit of functionality? :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1608141660' id='420874'>
<a class='timestamp' href='#420874'><time timestamp='2020-12-16T18:01:00Z'>18:01</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yes :D
<br>
</div>

<div class='talk op-msg' data-timestamp='1608141660' id='420875'>
<a class='timestamp' href='#420875'><time timestamp='2020-12-16T18:01:00Z'>18:01</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
haha ok
<br>
</div>

<div class='talk op-msg' data-timestamp='1608141660' id='420876'>
<a class='timestamp' href='#420876'><time timestamp='2020-12-16T18:01:00Z'>18:01</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it does have support for bitcoin P2P connections though (as it uses those for crawling)
<br>
</div>

<div class='talk op-msg' data-timestamp='1608141660' id='420877'>
<a class='timestamp' href='#420877'><time timestamp='2020-12-16T18:01:00Z'>18:01</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but it doesn&#x27;t listen
<br>
</div>

<div class='talk op-msg' data-timestamp='1608141720' id='420878'>
<a class='timestamp' href='#420878'><time timestamp='2020-12-16T18:02:00Z'>18:02</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
pretty sure if i tried to add listening support I&#x27;d end up letting your seeder get dosed in some way or other
<br>
</div>

<div class='talk op-msg' data-timestamp='1608141720' id='420879'>
<a class='timestamp' href='#420879'><time timestamp='2020-12-16T18:02:00Z'>18:02</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yeah... maybe it&#x27;s better to do it as a patch to bitcoin core itself
<br>
</div>

<div class='talk op-msg' data-timestamp='1608141960' id='420880'>
<a class='timestamp' href='#420880'><time timestamp='2020-12-16T18:06:00Z'>18:06</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
sipa: i guess the first thing would be to make the crawler understand addrv2 and crawl torv3&#x27;s, so that we have them in the list for hardcoded seeds
<br>
</div>

<div class='talk op-msg' data-timestamp='1608141960' id='420881'>
<a class='timestamp' href='#420881'><time timestamp='2020-12-16T18:06:00Z'>18:06</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
that seems straightforward. we basically just need a tool to manage the addrman a little more directly?
<br>
</div>

<div class='talk op-msg' data-timestamp='1608141960' id='420882'>
<a class='timestamp' href='#420882'><time timestamp='2020-12-16T18:06:00Z'>18:06</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yeah
<br>
</div>

<div class='talk op-msg' data-timestamp='1608142020' id='420883'>
<a class='timestamp' href='#420883'><time timestamp='2020-12-16T18:07:00Z'>18:07</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sdaftuar: my seeder does more than addrman, it keeps more statistics about connections and uptime
<br>
</div>

<div class='talk op-msg' data-timestamp='1608142020' id='420884'>
<a class='timestamp' href='#420884'><time timestamp='2020-12-16T18:07:00Z'>18:07</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but apart from that it&#x27;s pretty similar
<br>
</div>

<div class='talk op-msg' data-timestamp='1608142020' id='420885'>
<a class='timestamp' href='#420885'><time timestamp='2020-12-16T18:07:00Z'>18:07</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
i was imagining that your seeder would run along side it, rather than be integrated into it?
<br>
</div>

<div class='talk op-msg' data-timestamp='1608142020' id='420886'>
<a class='timestamp' href='#420886'><time timestamp='2020-12-16T18:07:00Z'>18:07</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
but i don&#x27;t know how feasible or practical that is
<br>
</div>

<div class='talk op-msg' data-timestamp='1608143100' id='420887'>
<a class='timestamp' href='#420887'><time timestamp='2020-12-16T18:25:00Z'>18:25</time></a>
&lt;<span class='nick nick-12'> Kiminuo</span>&gt;
I have, out of frustration, changed CI tests from Ubuntu 18.04 to Ubuntu 20.04 and also bumped Clang (<a href="https://github.com/bitcoin/bitcoin/pull/19245/commits/cf948ffac6fc950066cd8975485a37a90d15ae07)" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19245/commits/cf948ffac6fc950066cd8975485a37a90d15ae07)</a> but CI did not notice the change (<a href="https://github.com/bitcoin/bitcoin/runs/1562869764)" class="link" target="_blank">https://github.com/bitcoin/bitcoin/runs/1562869764)</a>. Does CI require some sort of cache invalidation to do the build I want?
<br>
</div>

<div class='talk op-msg' data-timestamp='1608143220' id='420888'>
<a class='timestamp' href='#420888'><time timestamp='2020-12-16T18:27:00Z'>18:27</time></a>
&lt;<span class='nick nick-12'> Kiminuo</span>&gt;
The idea being that I&#x27;m struggling with Ubuntu 18.04 &amp; std::filesystem so when I upgrade to 20.04 for my <a href="https://github.com/bitcoin/bitcoin/pull/19245" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19245</a> I can at least move it an inch forward to have green tests.
<br>
</div>

<div class='talk op-msg' data-timestamp='1608143280' id='420889'>
<a class='timestamp' href='#420889'><time timestamp='2020-12-16T18:28:00Z'>18:28</time></a>
&lt;<span class='nick nick-12'> Kiminuo</span>&gt;
And then I can attempt to lower dependencies back (clang, Ubuntu).
<br>
</div>

<div class='talk op-msg' data-timestamp='1608143400' id='420890'>
<a class='timestamp' href='#420890'><time timestamp='2020-12-16T18:30:00Z'>18:30</time></a>
&lt;<span class='nick nick-12'> Kiminuo</span>&gt;
I have tested locally using <a href="https://github.com/bitcoin/bitcoin/tree/master/ci#configurations" class="link" target="_blank">https://github.com/bitcoin/bitcoin/tree/master/ci#configurations</a> before pushing that commit and it was green for Win64 test.
<br>
</div>

<div class='talk op-msg' data-timestamp='1608143880' id='420891'>
<a class='timestamp' href='#420891'><time timestamp='2020-12-16T18:38:00Z'>18:38</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
Kiminuo: i&#x27;m very confused by the travis output
<br>
</div>

<div class='talk op-msg' data-timestamp='1608143880' id='420892'>
<a class='timestamp' href='#420892'><time timestamp='2020-12-16T18:38:00Z'>18:38</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
where are all the travis jobs?
<br>
</div>

<div class='talk op-msg' data-timestamp='1608143940' id='420893'>
<a class='timestamp' href='#420893'><time timestamp='2020-12-16T18:39:00Z'>18:39</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
(unrelated to your PR)
<br>
</div>

<div class='talk op-msg' data-timestamp='1608143940' id='420894'>
<a class='timestamp' href='#420894'><time timestamp='2020-12-16T18:39:00Z'>18:39</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i just don&#x27;t know where to look anymore
<br>
</div>

<div class='talk op-msg' data-timestamp='1608143940' id='420895'>
<a class='timestamp' href='#420895'><time timestamp='2020-12-16T18:39:00Z'>18:39</time></a>
&lt;<span class='nick nick-12'> Kiminuo</span>&gt;
moved to cirrus?
<br>
</div>

<div class='talk op-msg' data-timestamp='1608143940' id='420896'>
<a class='timestamp' href='#420896'><time timestamp='2020-12-16T18:39:00Z'>18:39</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
oh?
<br>
</div>

<div class='talk op-msg' data-timestamp='1608143940' id='420897'>
<a class='timestamp' href='#420897'><time timestamp='2020-12-16T18:39:00Z'>18:39</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
oh it seems there are more cirrus jobs now
<br>
</div>

<div class='talk op-msg' data-timestamp='1608143940' id='420898'>
<a class='timestamp' href='#420898'><time timestamp='2020-12-16T18:39:00Z'>18:39</time></a>
&lt;<span class='nick nick-12'> Kiminuo</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/runs/1562869764" class="link" target="_blank">https://github.com/bitcoin/bitcoin/runs/1562869764</a> I can see tests on the left, can you?
<br>
</div>

<div class='talk op-msg' data-timestamp='1608144000' id='420899'>
<a class='timestamp' href='#420899'><time timestamp='2020-12-16T18:40:00Z'>18:40</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
maybe there is just one travis job left, and that&#x27;s why it isn&#x27;t showing a list?
<br>
</div>

<div class='talk op-msg' data-timestamp='1608144000' id='420900'>
<a class='timestamp' href='#420900'><time timestamp='2020-12-16T18:40:00Z'>18:40</time></a>
&lt;<span class='nick nick-12'> Kiminuo</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/pull/20658" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20658</a> i think this PR moves completely testing from Travis to Cirrus CI
<br>
</div>

<div class='talk op-msg' data-timestamp='1608144060' id='420901'>
<a class='timestamp' href='#420901'><time timestamp='2020-12-16T18:41:00Z'>18:41</time></a>
&lt;<span class='nick nick-12'> Kiminuo</span>&gt;
but that&#x27;s just my impression, I just check bitcoin core PRs but not in-depth
<br>
</div>

<div class='talk op-msg' data-timestamp='1608144060' id='420902'>
<a class='timestamp' href='#420902'><time timestamp='2020-12-16T18:41:00Z'>18:41</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
seems i completely missed that :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1608144060' id='420903'>
<a class='timestamp' href='#420903'><time timestamp='2020-12-16T18:41:00Z'>18:41</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes, travis is being phased out
<br>
</div>

<div class='talk op-msg' data-timestamp='1608144120' id='420904'>
<a class='timestamp' href='#420904'><time timestamp='2020-12-16T18:42:00Z'>18:42</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
they are stopping the free tier
<br>
</div>

<div class='talk op-msg' data-timestamp='1608144180' id='420905'>
<a class='timestamp' href='#420905'><time timestamp='2020-12-16T18:43:00Z'>18:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i saw they&#x27;re moving to travis-ci.com, but travis-ci.com does have a free option it seems?
<br>
</div>

<div class='talk op-msg' data-timestamp='1608144180' id='420906'>
<a class='timestamp' href='#420906'><time timestamp='2020-12-16T18:43:00Z'>18:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
anyway, no objecting to moving
<br>
</div>

<div class='talk op-msg' data-timestamp='1608144360' id='420907'>
<a class='timestamp' href='#420907'><time timestamp='2020-12-16T18:46:00Z'>18:46</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
i thought more than just the name changed but i don&#x27;t know the exact details
<br>
</div>

<div class='talk op-msg' data-timestamp='1608144360' id='420908'>
<a class='timestamp' href='#420908'><time timestamp='2020-12-16T18:46:00Z'>18:46</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 2 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/5b6f970e3fda...427f8c2cff01" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/5b6f970e3fda...427f8c2cff01</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1608144360' id='420909'>
<a class='timestamp' href='#420909'><time timestamp='2020-12-16T18:46:00Z'>18:46</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 8989577 Dmitry Petukhov: Fix length of R check in test/key_tests.cpp:key_signature_tests
<br>
</div>

<div class='talk op-msg' data-timestamp='1608144360' id='420910'>
<a class='timestamp' href='#420910'><time timestamp='2020-12-16T18:46:00Z'>18:46</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 427f8c2 Wladimir J. van der Laan: Merge #20248: test: fix length of R check in key_signature_tests
<br>
</div>

<div class='talk op-msg' data-timestamp='1608144360' id='420911'>
<a class='timestamp' href='#420911'><time timestamp='2020-12-16T18:46:00Z'>18:46</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj merged pull request #20248: test: fix length of R check in key_signature_tests (master...fix-test-key-signature-low-r) <a href="https://github.com/bitcoin/bitcoin/pull/20248" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20248</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1608144360' id='420912'>
<a class='timestamp' href='#420912'><time timestamp='2020-12-16T18:46:00Z'>18:46</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
Kiminuo: the failing build you link so is a mingw build; it&#x27;s not compiled with gcc or clang
<br>
</div>

<div class='talk op-msg' data-timestamp='1608144360' id='420913'>
<a class='timestamp' href='#420913'><time timestamp='2020-12-16T18:46:00Z'>18:46</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
eh?
<br>
</div>

<div class='talk op-msg' data-timestamp='1608144420' id='420914'>
<a class='timestamp' href='#420914'><time timestamp='2020-12-16T18:47:00Z'>18:47</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
mingw = gcc
<br>
</div>

<div class='talk op-msg' data-timestamp='1608144420' id='420915'>
<a class='timestamp' href='#420915'><time timestamp='2020-12-16T18:47:00Z'>18:47</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
at least not the usual gcc or clang packages; it&#x27;s based on the gcc codebase of course
<br>
</div>

<div class='talk op-msg' data-timestamp='1608144660' id='420916'>
<a class='timestamp' href='#420916'><time timestamp='2020-12-16T18:51:00Z'>18:51</time></a>
&lt;<span class='nick nick-12'> Kiminuo</span>&gt;
sipa, but how come that it builds for me locally with: FILE_ENV=&quot;./ci/test/00_setup_env_win64.sh&quot; ./ci/test_run_all.sh  ... meaning, in my Docker it seems to work but not on Cirrus CI
<br>
</div>

<div class='talk op-msg' data-timestamp='1608144660' id='420917'>
<a class='timestamp' href='#420917'><time timestamp='2020-12-16T18:51:00Z'>18:51</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
perhaps you have a more recent mingw-w64?
<br>
</div>

<div class='talk op-msg' data-timestamp='1608144720' id='420918'>
<a class='timestamp' href='#420918'><time timestamp='2020-12-16T18:52:00Z'>18:52</time></a>
&lt;<span class='nick nick-12'> Kiminuo</span>&gt;
but that&#x27;s not possible, right? Docker is environment agnostic
<br>
</div>

<div class='talk op-msg' data-timestamp='1608144720' id='420919'>
<a class='timestamp' href='#420919'><time timestamp='2020-12-16T18:52:00Z'>18:52</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ok, then i have no clue, sorry :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1608144720' id='420920'>
<a class='timestamp' href='#420920'><time timestamp='2020-12-16T18:52:00Z'>18:52</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i don&#x27;t know anything about docker
<br>
</div>

<div class='talk op-msg' data-timestamp='1608144720' id='420921'>
<a class='timestamp' href='#420921'><time timestamp='2020-12-16T18:52:00Z'>18:52</time></a>
&lt;<span class='nick nick-12'> Kiminuo</span>&gt;
well, CI tests run in Docker
<br>
</div>

<div class='talk op-msg' data-timestamp='1608144780' id='420922'>
<a class='timestamp' href='#420922'><time timestamp='2020-12-16T18:53:00Z'>18:53</time></a>
&lt;<span class='nick nick-12'> Kiminuo</span>&gt;
so I&#x27;m very confused by this
<br>
</div>

<div class='talk op-msg' data-timestamp='1608144780' id='420923'>
<a class='timestamp' href='#420923'><time timestamp='2020-12-16T18:53:00Z'>18:53</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ping MarcoFalke?
<br>
</div>

<div class='talk op-msg' data-timestamp='1608144900' id='420924'>
<a class='timestamp' href='#420924'><time timestamp='2020-12-16T18:55:00Z'>18:55</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
<a href="http://mingw-w64.org/doku.php/download" class="link" target="_blank">http://mingw-w64.org/doku.php/download</a> makes me believe the latest mingw-w64 release is based on GCC 8.3.0
<br>
</div>

<div class='talk op-msg' data-timestamp='1608144900' id='420925'>
<a class='timestamp' href='#420925'><time timestamp='2020-12-16T18:55:00Z'>18:55</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but it&#x27;s also possible i&#x27;m misinterpreting that, and mingw is really just some patchset/tooling that can be built with any underlying GCC version
<br>
</div>

<div class='talk op-msg' data-timestamp='1608145140' id='420926'>
<a class='timestamp' href='#420926'><time timestamp='2020-12-16T18:59:00Z'>18:59</time></a>
&lt;<span class='nick nick-12'> Kiminuo</span>&gt;
yeah
<br>
</div>

<div class='talk op-msg' data-timestamp='1608145260' id='420927'>
<a class='timestamp' href='#420927'><time timestamp='2020-12-16T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] vova557 opened pull request #20675: Vova557 (master...patch-11) <a href="https://github.com/bitcoin/bitcoin/pull/20675" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20675</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1608145620' id='420928'>
<a class='timestamp' href='#420928'><time timestamp='2020-12-16T19:07:00Z'>19:07</time></a>
&lt;<span class='nick nick-12'> Kiminuo</span>&gt;
sipa, I will need to find somebody who would like to finish that PR 19245. C++ building, linking and Bitcoin build system is not something I have adequate knowledge of. It takes me ages to move it an inch forward. I kind of did what I could. Can this be possibly discussed at a dev meeting?
<br>
</div>

<div class='talk op-msg' data-timestamp='1608145680' id='420929'>
<a class='timestamp' href='#420929'><time timestamp='2020-12-16T19:08:00Z'>19:08</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
Kiminuo: sure; if you just want to leave up for grabs, no discussion necessary... but mentioning it in the meeting may help moving it forward
<br>
</div>

<div class='talk op-msg' data-timestamp='1608145680' id='420930'>
<a class='timestamp' href='#420930'><time timestamp='2020-12-16T19:08:00Z'>19:08</time></a>
&lt;<span class='nick nick-12'> Kiminuo</span>&gt;
Another approach would be some &quot;mentored approach&quot;. That is probably less ideal for me because I can help with programming side but not build side. And this PR needs the later.
<br>
</div>

<div class='talk op-msg' data-timestamp='1608145740' id='420931'>
<a class='timestamp' href='#420931'><time timestamp='2020-12-16T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-12'> Kiminuo</span>&gt;
right
<br>
</div>

<div class='talk op-msg' data-timestamp='1608145740' id='420932'>
<a class='timestamp' href='#420932'><time timestamp='2020-12-16T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] sdaftuar opened pull request #20676: Replace m_tx_relay/nullptr checks in net_processing.cpp (master...2020-12-refactor-m_tx_relay) <a href="https://github.com/bitcoin/bitcoin/pull/20676" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20676</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1608145920' id='420933'>
<a class='timestamp' href='#420933'><time timestamp='2020-12-16T19:12:00Z'>19:12</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
sdaftuar: &gt; we basically need a tool to manage the addrman a little more directly
<br>
</div>

<div class='talk op-msg' data-timestamp='1608145980' id='420934'>
<a class='timestamp' href='#420934'><time timestamp='2020-12-16T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
What are the requirements? We can add addresses to addrman using addpeeraddress. Shouldn&#x27;t be too difficult to enhance that a bit more
<br>
</div>

<div class='talk op-msg' data-timestamp='1608145980' id='420935'>
<a class='timestamp' href='#420935'><time timestamp='2020-12-16T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
jnewbery: i dunno, i might have misunderstood what sipa had in mind!
<br>
</div>

<div class='talk op-msg' data-timestamp='1608146040' id='420936'>
<a class='timestamp' href='#420936'><time timestamp='2020-12-16T19:14:00Z'>19:14</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
but the ability to add and remove addresses from addrman was what i was imagining was needed
<br>
</div>

<div class='talk op-msg' data-timestamp='1608146160' id='420937'>
<a class='timestamp' href='#420937'><time timestamp='2020-12-16T19:16:00Z'>19:16</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
well, one option is to just integrate the dns seeder (excluding the dns serving feature and/or crawling, but at least the database part) into bitcoin core, and
<br>
</div>

<div class='talk op-msg' data-timestamp='1608146160' id='420938'>
<a class='timestamp' href='#420938'><time timestamp='2020-12-16T19:16:00Z'>19:16</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but that&#x27;s probably not the right way
<br>
</div>

<div class='talk op-msg' data-timestamp='1608146220' id='420939'>
<a class='timestamp' href='#420939'><time timestamp='2020-12-16T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
another is to have a way of specifying on the command line &quot;serve getaddr requests from data provided by $SCRIPT&quot; or so, which would then be able to query a crawler
<br>
</div>

<div class='talk op-msg' data-timestamp='1608146280' id='420940'>
<a class='timestamp' href='#420940'><time timestamp='2020-12-16T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and in either case, adding support for addrv2 to the crawler is probably a first step
<br>
</div>

<div class='talk op-msg' data-timestamp='1608146400' id='420941'>
<a class='timestamp' href='#420941'><time timestamp='2020-12-16T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
i assume this is the code: <a href="https://github.com/sipa/bitcoin-seeder" class="link" target="_blank">https://github.com/sipa/bitcoin-seeder</a> ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1608146400' id='420942'>
<a class='timestamp' href='#420942'><time timestamp='2020-12-16T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1608147000' id='420943'>
<a class='timestamp' href='#420943'><time timestamp='2020-12-16T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke pushed 2 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/427f8c2cff01...ae9ee5bdb18c" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/427f8c2cff01...ae9ee5bdb18c</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1608147000' id='420944'>
<a class='timestamp' href='#420944'><time timestamp='2020-12-16T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master ea36a45 John Newbery: [net] Make p2p recv buffer timeout 20 minutes for all peers
<br>
</div>

<div class='talk op-msg' data-timestamp='1608147000' id='420945'>
<a class='timestamp' href='#420945'><time timestamp='2020-12-16T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master ae9ee5b MarcoFalke: Merge #20651: net: Make p2p recv buffer timeout 20 minutes for all peers
<br>
</div>

<div class='talk op-msg' data-timestamp='1608147000' id='420946'>
<a class='timestamp' href='#420946'><time timestamp='2020-12-16T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke merged pull request #20651: net: Make p2p recv buffer timeout 20 minutes for all peers (master...2020-12-recv-buffer-timeout) <a href="https://github.com/bitcoin/bitcoin/pull/20651" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20651</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1608147120' id='420947'>
<a class='timestamp' href='#420947'><time timestamp='2020-12-16T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke closed pull request #20675: Vova557 (master...patch-11) <a href="https://github.com/bitcoin/bitcoin/pull/20675" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20675</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1608147360' id='420948'>
<a class='timestamp' href='#420948'><time timestamp='2020-12-16T19:36:00Z'>19:36</time></a>
&lt;<span class='nick nick-12'> Kiminuo</span>&gt;
@MarcoFalke, Hi, could you mark this <a href="https://github.com/bitcoin/bitcoin/pull/19245" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19245</a> PR with &quot;up for grabs&quot;, &quot;looking for help&quot; or something in similar vein?
<br>
</div>

<div class='talk op-msg' data-timestamp='1608147420' id='420949'>
<a class='timestamp' href='#420949'><time timestamp='2020-12-16T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-12'> Kiminuo</span>&gt;
I have just modified the PR description to add as much as I know about the issue.
<br>
</div>

<div class='talk op-msg' data-timestamp='1608153180' id='420950'>
<a class='timestamp' href='#420950'><time timestamp='2020-12-16T21:13:00Z'>21:13</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 4 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/ae9ee5bdb18c...4acbcfa97d20" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/ae9ee5bdb18c...4acbcfa97d20</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1608153180' id='420951'>
<a class='timestamp' href='#420951'><time timestamp='2020-12-16T21:13:00Z'>21:13</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 22437fc Carl Dong: build: Run libdmg-hfsplus&#x27;s DMG tool in make deploy
<br>
</div>

<div class='talk op-msg' data-timestamp='1608153180' id='420952'>
<a class='timestamp' href='#420952'><time timestamp='2020-12-16T21:13:00Z'>21:13</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 0df9819 fanquake: build: Replace genisoimage with xorriso
<br>
</div>

<div class='talk op-msg' data-timestamp='1608153180' id='420953'>
<a class='timestamp' href='#420953'><time timestamp='2020-12-16T21:13:00Z'>21:13</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 7587d11 fanquake: build: remove cdrkit package from depends
<br>
</div>

<div class='talk op-msg' data-timestamp='1608153180' id='420954'>
<a class='timestamp' href='#420954'><time timestamp='2020-12-16T21:13:00Z'>21:13</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj merged pull request #20470: build: Replace genisoimage with xorriso (master...2020-11-xorriso) <a href="https://github.com/bitcoin/bitcoin/pull/20470" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20470</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1608153960' id='420955'>
<a class='timestamp' href='#420955'><time timestamp='2020-12-16T21:26:00Z'>21:26</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
Has anyone dealt with mysterious undeclared identifier for template functions defined within a .cpp unit? E.g., I have template&lt;T&gt; foo.... defined but for some reason function bar trying to call foo says no such identifier?
<br>
</div>

<div class='talk op-msg' data-timestamp='1608154020' id='420956'>
<a class='timestamp' href='#420956'><time timestamp='2020-12-16T21:27:00Z'>21:27</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
I&#x27;m able to compile the same code on one machine and not the other
<br>
</div>

<div class='talk op-msg' data-timestamp='1608154020' id='420957'>
<a class='timestamp' href='#420957'><time timestamp='2020-12-16T21:27:00Z'>21:27</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
maybe a build cache bug... let me distclean
<br>
</div>

<div class='talk op-msg' data-timestamp='1608156000' id='420958'>
<a class='timestamp' href='#420958'><time timestamp='2020-12-16T22:00:00Z'>22:00</time></a>
&lt;<span class='nick nick-8'> andytoshi</span>&gt;
is this in uint256.cpp? this has templates in a .cpp file and then &quot;explicit instantiations&quot; below that you need to add if you add any functions
<br>
</div>

<div class='talk op-msg' data-timestamp='1608156000' id='420959'>
<a class='timestamp' href='#420959'><time timestamp='2020-12-16T22:00:00Z'>22:00</time></a>
&lt;<span class='nick nick-8'> andytoshi</span>&gt;
or more generally, if you have templates which live outside a header
<br>
</div>

<div class='talk op-msg' data-timestamp='1608156120' id='420960'>
<a class='timestamp' href='#420960'><time timestamp='2020-12-16T22:02:00Z'>22:02</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
hmm yeah it was actually in script/interpreter with init.cpp
<br>
</div>

<div class='talk op-msg' data-timestamp='1608156120' id='420961'>
<a class='timestamp' href='#420961'><time timestamp='2020-12-16T22:02:00Z'>22:02</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
maybe the clang on this VM can&#x27;t instantiate a local method if it isn&#x27;t explicit 
<br>
</div>

<div class='talk op-msg' data-timestamp='1608156180' id='420962'>
<a class='timestamp' href='#420962'><time timestamp='2020-12-16T22:03:00Z'>22:03</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
but I feel like something that is local only and not visible from header shouldn&#x27;t need explicit inst?
<br>
</div>

<div class='talk op-msg' data-timestamp='1608156180' id='420963'>
<a class='timestamp' href='#420963'><time timestamp='2020-12-16T22:03:00Z'>22:03</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jeremyrubin: what&#x27;s the actual code?
<br>
</div>

<div class='talk op-msg' data-timestamp='1608156240' id='420964'>
<a class='timestamp' href='#420964'><time timestamp='2020-12-16T22:04:00Z'>22:04</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i would be very surprised if any modern compiler has a bug w.r.t. this
<br>
</div>

<div class='talk op-msg' data-timestamp='1608156240' id='420965'>
<a class='timestamp' href='#420965'><time timestamp='2020-12-16T22:04:00Z'>22:04</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it&#x27;s possible it&#x27;s something that depends on what C++ version you&#x27;re using, and some compilers permit stuff from future versions
<br>
</div>

<div class='talk op-msg' data-timestamp='1608156300' id='420966'>
<a class='timestamp' href='#420966'><time timestamp='2020-12-16T22:05:00Z'>22:05</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
let me wait on a distclean rebuild... maybe some issue with that 
<br>
</div>

<div class='talk op-msg' data-timestamp='1608156300' id='420967'>
<a class='timestamp' href='#420967'><time timestamp='2020-12-16T22:05:00Z'>22:05</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
this VPS is slow so will take a few
<br>
</div>

<div class='talk op-msg' data-timestamp='1608156840' id='420968'>
<a class='timestamp' href='#420968'><time timestamp='2020-12-16T22:14:00Z'>22:14</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] sdaftuar opened pull request #20677: doc: Remove shouty enums in net_processing comments (master...2020-12-remove-shouty-enums) <a href="https://github.com/bitcoin/bitcoin/pull/20677" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20677</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1608156900' id='420969'>
<a class='timestamp' href='#420969'><time timestamp='2020-12-16T22:15:00Z'>22:15</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 3 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/4acbcfa97d20...1811e488d53b" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/4acbcfa97d20...1811e488d53b</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1608156900' id='420970'>
<a class='timestamp' href='#420970'><time timestamp='2020-12-16T22:15:00Z'>22:15</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 281cf99 practicalswift: Do not run functions with necessary side-effects in assert()
<br>
</div>

<div class='talk op-msg' data-timestamp='1608156900' id='420971'>
<a class='timestamp' href='#420971'><time timestamp='2020-12-16T22:15:00Z'>22:15</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 5021810 practicalswift: Make CanFlushToDisk a const member function
<br>
</div>

<div class='talk op-msg' data-timestamp='1608156900' id='420972'>
<a class='timestamp' href='#420972'><time timestamp='2020-12-16T22:15:00Z'>22:15</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 1811e48 Wladimir J. van der Laan: Merge #20575: Do not run functions with necessary side-effects in assert()...
<br>
</div>

<div class='talk op-msg' data-timestamp='1608156900' id='420973'>
<a class='timestamp' href='#420973'><time timestamp='2020-12-16T22:15:00Z'>22:15</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj merged pull request #20575: Do not run functions with necessary side-effects in assert() (master...side-effect-free-assert) <a href="https://github.com/bitcoin/bitcoin/pull/20575" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20575</a>
<br>
</div>

</div>
</section>

</body>
</html>
