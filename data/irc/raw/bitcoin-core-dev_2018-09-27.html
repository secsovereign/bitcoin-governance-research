<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2018-09-27
 — 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2018-09-27' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:21 UTC</pre>
<pre><a href="/bitcoin-core-dev/2018-08-27">&lt;</a><span class='header'>  September 2018  </span><a href="/bitcoin-core-dev/2018-10-27">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;                   <a class="" href="/bitcoin-core-dev/2018-09-01">1</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2018-09-02">2</a>  <a class="" href="/bitcoin-core-dev/2018-09-03">3</a>  <a class="" href="/bitcoin-core-dev/2018-09-04">4</a>  <a class="" href="/bitcoin-core-dev/2018-09-05">5</a>  <a class="" href="/bitcoin-core-dev/2018-09-06">6</a>  <a class="" href="/bitcoin-core-dev/2018-09-07">7</a>  <a class="" href="/bitcoin-core-dev/2018-09-08">8</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2018-09-09">9</a> <a class="" href="/bitcoin-core-dev/2018-09-10">10</a> <a class="" href="/bitcoin-core-dev/2018-09-11">11</a> <a class="" href="/bitcoin-core-dev/2018-09-12">12</a> <a class="" href="/bitcoin-core-dev/2018-09-13">13</a> <a class="" href="/bitcoin-core-dev/2018-09-14">14</a> <a class="" href="/bitcoin-core-dev/2018-09-15">15</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2018-09-16">16</a> <a class="" href="/bitcoin-core-dev/2018-09-17">17</a> <a class="" href="/bitcoin-core-dev/2018-09-18">18</a> <a class="" href="/bitcoin-core-dev/2018-09-19">19</a> <a class="" href="/bitcoin-core-dev/2018-09-20">20</a> <a class="" href="/bitcoin-core-dev/2018-09-21">21</a> <a class="" href="/bitcoin-core-dev/2018-09-22">22</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2018-09-23">23</a> <a class="" href="/bitcoin-core-dev/2018-09-24">24</a> 25 <a class="" href="/bitcoin-core-dev/2018-09-26">26</a> <a class="current" href="/bitcoin-core-dev/2018-09-27">27</a> <a class="" href="/bitcoin-core-dev/2018-09-28">28</a> <a class="" href="/bitcoin-core-dev/2018-09-29">29</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2018-09-30">30</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1538010360' id='632003'>
<a class='timestamp' href='#632003'><time timestamp='2018-09-27T01:06:00Z'>01:06</time></a>
&lt;<span class='nick nick-5'> jarthur</span>&gt;
Any of you pretty familiar with the functional tests?
<br>
</div>

<div class='talk op-msg' data-timestamp='1538010420' id='632004'>
<a class='timestamp' href='#632004'><time timestamp='2018-09-27T01:07:00Z'>01:07</time></a>
&lt;<span class='nick nick-5'> jarthur</span>&gt;
In the ones that spin up a couple peers, I&#x27;m curious how deterministic the peer numbers are when asserting log text.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538010840' id='632005'>
<a class='timestamp' href='#632005'><time timestamp='2018-09-27T01:14:00Z'>01:14</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
the peer numbers are sequential
<br>
</div>

<div class='talk op-msg' data-timestamp='1538010840' id='632006'>
<a class='timestamp' href='#632006'><time timestamp='2018-09-27T01:14:00Z'>01:14</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
time of connectio 
<br>
</div>

<div class='talk op-msg' data-timestamp='1538011140' id='632007'>
<a class='timestamp' href='#632007'><time timestamp='2018-09-27T01:19:00Z'>01:19</time></a>
&lt;<span class='nick nick-5'> jarthur</span>&gt;
Makes sense. Do the multi-peer test usually connect the nodes in sequence to avoid non-deterministic output?
<br>
</div>

<div class='talk op-msg' data-timestamp='1538011140' id='632008'>
<a class='timestamp' href='#632008'><time timestamp='2018-09-27T01:19:00Z'>01:19</time></a>
&lt;<span class='nick nick-5'> jarthur</span>&gt;
s/test/tests/
<br>
</div>

<div class='talk op-msg' data-timestamp='1538013660' id='632009'>
<a class='timestamp' href='#632009'><time timestamp='2018-09-27T02:01:00Z'>02:01</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
anybody know why the linter is failing on #14336
<br>
</div>

<div class='talk op-msg' data-timestamp='1538013660' id='632010'>
<a class='timestamp' href='#632010'><time timestamp='2018-09-27T02:01:00Z'>02:01</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/14336" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/14336</a> | net: implement poll by pstratem · Pull Request #14336 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1538013960' id='632011'>
<a class='timestamp' href='#632011'><time timestamp='2018-09-27T02:06:00Z'>02:06</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
ah i see nvm
<br>
</div>

<div class='talk op-msg' data-timestamp='1538013960' id='632012'>
<a class='timestamp' href='#632012'><time timestamp='2018-09-27T02:06:00Z'>02:06</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
jarthur: I think they are in practice, but as a general rule a test should try to avoid being sensitive to things other than what they&#x27;re testing, otherwise it makes them brittle.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538013960' id='632013'>
<a class='timestamp' href='#632013'><time timestamp='2018-09-27T02:06:00Z'>02:06</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
the white space linter is confusing when run against multiple commits the corresponding message are nonsensical
<br>
</div>

<div class='talk op-msg' data-timestamp='1538015520' id='632014'>
<a class='timestamp' href='#632014'><time timestamp='2018-09-27T02:32:00Z'>02:32</time></a>
&lt;<span class='nick nick-5'> jarthur</span>&gt;
gmaxwell: thanks
<br>
</div>

<div class='talk op-msg' data-timestamp='1538017320' id='632015'>
<a class='timestamp' href='#632015'><time timestamp='2018-09-27T03:02:00Z'>03:02</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
aight i have no idea why it&#x27;s failing that test and cannot reproduce locally
<br>
</div>

<div class='talk op-msg' data-timestamp='1538017380' id='632016'>
<a class='timestamp' href='#632016'><time timestamp='2018-09-27T03:03:00Z'>03:03</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
phantomcircuit: looking
<br>
</div>

<div class='talk op-msg' data-timestamp='1538017380' id='632017'>
<a class='timestamp' href='#632017'><time timestamp='2018-09-27T03:03:00Z'>03:03</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
<a href="https://travis-ci.org/bitcoin/bitcoin/jobs/433861290" class="link" target="_blank">https://travis-ci.org/bitcoin/bitcoin/jobs/433861290</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1538017380' id='632018'>
<a class='timestamp' href='#632018'><time timestamp='2018-09-27T03:03:00Z'>03:03</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
bitcoind exiting with code -6 during initialization
<br>
</div>

<div class='talk op-msg' data-timestamp='1538017380' id='632019'>
<a class='timestamp' href='#632019'><time timestamp='2018-09-27T03:03:00Z'>03:03</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
phantomcircuit: so thats an enable debug build.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538017380' id='632020'>
<a class='timestamp' href='#632020'><time timestamp='2018-09-27T03:03:00Z'>03:03</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1538017440' id='632021'>
<a class='timestamp' href='#632021'><time timestamp='2018-09-27T03:04:00Z'>03:04</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
so with enable debug, rpc bind functional test passes for you?
<br>
</div>

<div class='talk op-msg' data-timestamp='1538017500' id='632022'>
<a class='timestamp' href='#632022'><time timestamp='2018-09-27T03:05:00Z'>03:05</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1538017500' id='632023'>
<a class='timestamp' href='#632023'><time timestamp='2018-09-27T03:05:00Z'>03:05</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
all tests pass actually
<br>
</div>

<div class='talk op-msg' data-timestamp='1538017560' id='632024'>
<a class='timestamp' href='#632024'><time timestamp='2018-09-27T03:06:00Z'>03:06</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
 ./configure --with-debug --with-incompatible-bdb --enable-zmq --with-gui=qt5 --enable-glibc-back-compat --enable-reduce-exports --enable-debug
<br>
</div>

<div class='talk op-msg' data-timestamp='1538017680' id='632025'>
<a class='timestamp' href='#632025'><time timestamp='2018-09-27T03:08:00Z'>03:08</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
the only -6 is see as a constant is the addrman check but that should just write to the log
<br>
</div>

<div class='talk op-msg' data-timestamp='1538017680' id='632026'>
<a class='timestamp' href='#632026'><time timestamp='2018-09-27T03:08:00Z'>03:08</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I dunno what -6 means there... like if it died on due to an unhandled signal it would one hundred and something.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538017860' id='632027'>
<a class='timestamp' href='#632027'><time timestamp='2018-09-27T03:11:00Z'>03:11</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
perhaps, $ errno 6
<br>
</div>

<div class='talk op-msg' data-timestamp='1538017860' id='632028'>
<a class='timestamp' href='#632028'><time timestamp='2018-09-27T03:11:00Z'>03:11</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
ENXIO 6 No such device or address
<br>
</div>

<div class='talk op-msg' data-timestamp='1538017860' id='632029'>
<a class='timestamp' href='#632029'><time timestamp='2018-09-27T03:11:00Z'>03:11</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
there might be a case where the test triggers an error that the old code ignores and the new code propagates.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538017920' id='632030'>
<a class='timestamp' href='#632030'><time timestamp='2018-09-27T03:12:00Z'>03:12</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
like what happens if you try to bind to 127.0.0.1 but there isn&#x27;t a 127.0.0.1?
<br>
</div>

<div class='talk op-msg' data-timestamp='1538018280' id='632031'>
<a class='timestamp' href='#632031'><time timestamp='2018-09-27T03:18:00Z'>03:18</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
gmaxwell, should fail in the same ways im pretty sure
<br>
</div>

<div class='talk op-msg' data-timestamp='1538018460' id='632032'>
<a class='timestamp' href='#632032'><time timestamp='2018-09-27T03:21:00Z'>03:21</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
in any case a reason that test may fail on travis and work for you, is that the travis enviroment probably has pretty different networking.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538018460' id='632033'>
<a class='timestamp' href='#632033'><time timestamp='2018-09-27T03:21:00Z'>03:21</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
yeah im sure it does
<br>
</div>

<div class='talk op-msg' data-timestamp='1538018520' id='632034'>
<a class='timestamp' href='#632034'><time timestamp='2018-09-27T03:22:00Z'>03:22</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
And the reason it would matter is if under that case, you handle errors differently, e.g. the actual bug may be elsewhere in bitcoin or in the test but were hidden by the old behavior.  The fact that you can&#x27;t reproduce it locally is kind of annoying. you could try to figure out which test case is failing, by adding commits to change the test.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538019900' id='632035'>
<a class='timestamp' href='#632035'><time timestamp='2018-09-27T03:45:00Z'>03:45</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
gmaxwell, indeed
<br>
</div>

<div class='talk op-msg' data-timestamp='1538021340' id='632036'>
<a class='timestamp' href='#632036'><time timestamp='2018-09-27T04:09:00Z'>04:09</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
gmaxwell, i guess travis doesn&#x27;t have ipv4?
<br>
</div>

<div class='talk op-msg' data-timestamp='1538021340' id='632037'>
<a class='timestamp' href='#632037'><time timestamp='2018-09-27T04:09:00Z'>04:09</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
it&#x27;s specifically the ipv4 rpc bind that&#x27;s failing
<br>
</div>

<div class='talk op-msg' data-timestamp='1538021460' id='632038'>
<a class='timestamp' href='#632038'><time timestamp='2018-09-27T04:11:00Z'>04:11</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
hmm it doesn&#x27;t , not specifically 127.0.0.1
<br>
</div>

<div class='talk op-msg' data-timestamp='1538021460' id='632039'>
<a class='timestamp' href='#632039'><time timestamp='2018-09-27T04:11:00Z'>04:11</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
which is what the test tries to bind to
<br>
</div>

<div class='talk op-msg' data-timestamp='1538022540' id='632040'>
<a class='timestamp' href='#632040'><time timestamp='2018-09-27T04:29:00Z'>04:29</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
gmaxwell, blargh there&#x27;s still the select() calls in netbase
<br>
</div>

<div class='talk op-msg' data-timestamp='1538025180' id='632041'>
<a class='timestamp' href='#632041'><time timestamp='2018-09-27T05:13:00Z'>05:13</time></a>
&lt;<span class='nick nick-11'> kallewoof</span>&gt;
wumpus: noticed that NicolasDorier is not in the Credits list despite him being listed for 9991 at <a href="https://github.com/bitcoin-core/bitcoin-devwiki/wiki/0.17.0-Release-notes" class="link" target="_blank">https://github.com/bitcoin-core/bitcoin-devwiki/wiki/0.17.0-Release-notes</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1538025240' id='632042'>
<a class='timestamp' href='#632042'><time timestamp='2018-09-27T05:14:00Z'>05:14</time></a>
&lt;<span class='nick nick-11'> kallewoof</span>&gt;
we just edit? I thought credits were automagic
<br>
</div>

<div class='talk op-msg' data-timestamp='1538033640' id='632043'>
<a class='timestamp' href='#632043'><time timestamp='2018-09-27T07:34:00Z'>07:34</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Bitcoin Qt looks a bit strange in OSX 10.14 (Mojaves) dark mode. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1538037420' id='632044'>
<a class='timestamp' href='#632044'><time timestamp='2018-09-27T08:37:00Z'>08:37</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
kallewoof: the lists are generated automatically but always need human editing
<br>
</div>

<div class='talk op-msg' data-timestamp='1538037420' id='632045'>
<a class='timestamp' href='#632045'><time timestamp='2018-09-27T08:37:00Z'>08:37</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
kallewoof: the list of PRs is generated from github API data, the authors list from git commit authors—this might be what causes the divergence in this case
<br>
</div>

<div class='talk op-msg' data-timestamp='1538037480' id='632046'>
<a class='timestamp' href='#632046'><time timestamp='2018-09-27T08:38:00Z'>08:38</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
jonasschnelli: that&#x27;s curious, I always run it with dark gtk themes and that seems to go well
<br>
</div>

<div class='talk op-msg' data-timestamp='1538037480' id='632047'>
<a class='timestamp' href='#632047'><time timestamp='2018-09-27T08:38:00Z'>08:38</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
wumpus: Could be because of the different platformstyles... investigating now 
<br>
</div>

<div class='talk op-msg' data-timestamp='1538037540' id='632048'>
<a class='timestamp' href='#632048'><time timestamp='2018-09-27T08:39:00Z'>08:39</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
black icons on black background are not ideal.. but at least you can see them
<br>
</div>

<div class='talk op-msg' data-timestamp='1538037540' id='632049'>
<a class='timestamp' href='#632049'><time timestamp='2018-09-27T08:39:00Z'>08:39</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
correction: black icons on dark-gray background
<br>
</div>

<div class='talk op-msg' data-timestamp='1538037600' id='632050'>
<a class='timestamp' href='#632050'><time timestamp='2018-09-27T08:40:00Z'>08:40</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
jonasschnelli: yes that&#x27;s it, I think on UNIX it does an attempt to grab the icon color from the theme, on MacOS is defaults to black
<br>
</div>

<div class='talk op-msg' data-timestamp='1538037660' id='632051'>
<a class='timestamp' href='#632051'><time timestamp='2018-09-27T08:41:00Z'>08:41</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
jup... 
<br>
</div>

<div class='talk op-msg' data-timestamp='1538037720' id='632052'>
<a class='timestamp' href='#632052'><time timestamp='2018-09-27T08:42:00Z'>08:42</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
kallewoof: that&#x27;s it; the commits in 9991 are by JeremyRubin and apparently my script lists authors only, not committers
<br>
</div>

<div class='talk op-msg' data-timestamp='1538037780' id='632053'>
<a class='timestamp' href='#632053'><time timestamp='2018-09-27T08:43:00Z'>08:43</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
kallewoof: I&#x27;ll try to fix the script, otherwise I&#x27;ll just edit him in manually
<br>
</div>

<div class='talk op-msg' data-timestamp='1538038860' id='632054'>
<a class='timestamp' href='#632054'><time timestamp='2018-09-27T09:01:00Z'>09:01</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
kallewoof: added in committers to my list-authors script; looks like Dorier was the only one missed to this
<br>
</div>

<div class='talk op-msg' data-timestamp='1538039040' id='632055'>
<a class='timestamp' href='#632055'><time timestamp='2018-09-27T09:04:00Z'>09:04</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
phantomcircuit: travis does have IPv4, but no IPv6 IIRC
<br>
</div>

<div class='talk op-msg' data-timestamp='1538039040' id='632056'>
<a class='timestamp' href='#632056'><time timestamp='2018-09-27T09:04:00Z'>09:04</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
(*not even localhost*)
<br>
</div>

<div class='talk op-msg' data-timestamp='1538039400' id='632057'>
<a class='timestamp' href='#632057'><time timestamp='2018-09-27T09:10:00Z'>09:10</time></a>
&lt;<span class='nick nick-15'> echeveria</span>&gt;
I fixed testnet, for what it&#x27;s worth. the most work is now in a valid chain.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538040480' id='632058'>
<a class='timestamp' href='#632058'><time timestamp='2018-09-27T09:28:00Z'>09:28</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
wumpus: using the dark arc theme in Ubuntu Bionic, the background of Bitcoin Qt is still light gray/whiteish? Is that expected?
<br>
</div>

<div class='talk op-msg' data-timestamp='1538040720' id='632059'>
<a class='timestamp' href='#632059'><time timestamp='2018-09-27T09:32:00Z'>09:32</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
jonasschnelli: I don&#x27;t think so; the bitcoin-qt background should be the same as other gtk applications, say &quot;charmap&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1538040780' id='632060'>
<a class='timestamp' href='#632060'><time timestamp='2018-09-27T09:33:00Z'>09:33</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
jonasschnelli: though that might only work if you build from source, theme integration is not available with the shipped binaries
<br>
</div>

<div class='talk op-msg' data-timestamp='1538040780' id='632061'>
<a class='timestamp' href='#632061'><time timestamp='2018-09-27T09:33:00Z'>09:33</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
aha... I see.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538040840' id='632062'>
<a class='timestamp' href='#632062'><time timestamp='2018-09-27T09:34:00Z'>09:34</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
(the latter because it&#x27;s based on plugins, which are not available when building qt statically)
<br>
</div>

<div class='talk op-msg' data-timestamp='1538040960' id='632063'>
<a class='timestamp' href='#632063'><time timestamp='2018-09-27T09:36:00Z'>09:36</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
wumpus: I would have expected that the OS provides some sort of color scheme for background, etc. (macOS Mojave) handles it that way). Qt could use OsBackgroundColor(), etc. for certain things.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538040960' id='632064'>
<a class='timestamp' href='#632064'><time timestamp='2018-09-27T09:36:00Z'>09:36</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
huh—looks broken on ubuntu 18.04, I get a light grey background now too w/ Adwaita-dark theme
<br>
</div>

<div class='talk op-msg' data-timestamp='1538040960' id='632065'>
<a class='timestamp' href='#632065'><time timestamp='2018-09-27T09:36:00Z'>09:36</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
built against system qt
<br>
</div>

<div class='talk op-msg' data-timestamp='1538040960' id='632066'>
<a class='timestamp' href='#632066'><time timestamp='2018-09-27T09:36:00Z'>09:36</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
AHH when did this happen
<br>
</div>

<div class='talk op-msg' data-timestamp='1538040960' id='632067'>
<a class='timestamp' href='#632067'><time timestamp='2018-09-27T09:36:00Z'>09:36</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
hmm...
<br>
</div>

<div class='talk op-msg' data-timestamp='1538040960' id='632068'>
<a class='timestamp' href='#632068'><time timestamp='2018-09-27T09:36:00Z'>09:36</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Must be a Qt upstream issue
<br>
</div>

<div class='talk op-msg' data-timestamp='1538040960' id='632069'>
<a class='timestamp' href='#632069'><time timestamp='2018-09-27T09:36:00Z'>09:36</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
(or a flag)
<br>
</div>

<div class='talk op-msg' data-timestamp='1538041020' id='632070'>
<a class='timestamp' href='#632070'><time timestamp='2018-09-27T09:37:00Z'>09:37</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes, indeed
<br>
</div>

<div class='talk op-msg' data-timestamp='1538041020' id='632071'>
<a class='timestamp' href='#632071'><time timestamp='2018-09-27T09:37:00Z'>09:37</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
<a href="https://askubuntu.com/questions/910012/how-can-i-get-qt5-applications-to-use-the-gtk-theme-in-ubuntu-17-04" class="link" target="_blank">https://askubuntu.com/questions/910012/how-can-i-get-qt5-applications-to-use-the-gtk-theme-in-ubuntu-17-04</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1538041020' id='632072'>
<a class='timestamp' href='#632072'><time timestamp='2018-09-27T09:37:00Z'>09:37</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I see the same in Quasselclient
<br>
</div>

<div class='talk op-msg' data-timestamp='1538041020' id='632073'>
<a class='timestamp' href='#632073'><time timestamp='2018-09-27T09:37:00Z'>09:37</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
which is also a qt (5 AFAIK) app
<br>
</div>

<div class='talk op-msg' data-timestamp='1538041020' id='632074'>
<a class='timestamp' href='#632074'><time timestamp='2018-09-27T09:37:00Z'>09:37</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
«The problem has occurred since Qt5.7. In this release, the GTK2 platform theme and style was removed and replaced with the GTK3 platform theme»
<br>
</div>

<div class='talk op-msg' data-timestamp='1538041080' id='632075'>
<a class='timestamp' href='#632075'><time timestamp='2018-09-27T09:38:00Z'>09:38</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
but how! I&#x27;m sure my theme also covers gtk3
<br>
</div>

<div class='talk op-msg' data-timestamp='1538041080' id='632076'>
<a class='timestamp' href='#632076'><time timestamp='2018-09-27T09:38:00Z'>09:38</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
&#x27;charmap&#x27; is gtk3 and has a dark grey background
<br>
</div>

<div class='talk op-msg' data-timestamp='1538041140' id='632077'>
<a class='timestamp' href='#632077'><time timestamp='2018-09-27T09:39:00Z'>09:39</time></a>
&lt;<span class='nick nick-12'> * jonasschnelli</span>&gt;
loving QT
<br>
</div>

<div class='talk op-msg' data-timestamp='1538041920' id='632078'>
<a class='timestamp' href='#632078'><time timestamp='2018-09-27T09:52:00Z'>09:52</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I guess... it is the least of evils, with regard to cross-platform GUIs. Though losing theme integration on by far most linux distributions (except KDE-based ones?) is a pity.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538042160' id='632079'>
<a class='timestamp' href='#632079'><time timestamp='2018-09-27T09:56:00Z'>09:56</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
installing qt5-style-plugins and then doing &#x27;export QT_QPA_PLATFORMTHEME=gtk2&#x27; works here, but that&#x27;s helluva awkward
<br>
</div>

<div class='talk op-msg' data-timestamp='1538042220' id='632080'>
<a class='timestamp' href='#632080'><time timestamp='2018-09-27T09:57:00Z'>09:57</time></a>
&lt;<span class='nick nick-14'> hebasto</span>&gt;
wumpus: what is the way to build bitcoin-qt against system qt?
<br>
</div>

<div class='talk op-msg' data-timestamp='1538042760' id='632081'>
<a class='timestamp' href='#632081'><time timestamp='2018-09-27T10:06:00Z'>10:06</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
hebasto: it does that by default if you don&#x27;t do a depends build
<br>
</div>

<div class='talk op-msg' data-timestamp='1538042760' id='632082'>
<a class='timestamp' href='#632082'><time timestamp='2018-09-27T10:06:00Z'>10:06</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
just follow the steps in build-unix.md
<br>
</div>

<div class='talk op-msg' data-timestamp='1538042940' id='632083'>
<a class='timestamp' href='#632083'><time timestamp='2018-09-27T10:09:00Z'>10:09</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
that way, bitcoin won&#x27;t magically install its own qt; so it will build against system qt if available, and not build against qt at all if not available
<br>
</div>

<div class='talk op-msg' data-timestamp='1538043120' id='632084'>
<a class='timestamp' href='#632084'><time timestamp='2018-09-27T10:12:00Z'>10:12</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
this is the preferred way, we even used to ship that way for qt4, but unfortunately the range of portability of the executables is much smaller then so it&#x27;s not an option anymore (then again, nothing of this matters anymore, if qt upstream broke desktop integration...)
<br>
</div>

<div class='talk op-msg' data-timestamp='1538043780' id='632085'>
<a class='timestamp' href='#632085'><time timestamp='2018-09-27T10:23:00Z'>10:23</time></a>
&lt;<span class='nick nick-14'> hebasto</span>&gt;
wumpus: thank you
<br>
</div>

<div class='talk op-msg' data-timestamp='1538046600' id='632086'>
<a class='timestamp' href='#632086'><time timestamp='2018-09-27T11:10:00Z'>11:10</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
wumpus: &quot;great&quot; to hear macOS isn&#x27;t the only platform having QT headaches now.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538051160' id='632087'>
<a class='timestamp' href='#632087'><time timestamp='2018-09-27T12:26:00Z'>12:26</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
GUIs were a mistake
<br>
</div>

<div class='talk op-msg' data-timestamp='1538051400' id='632088'>
<a class='timestamp' href='#632088'><time timestamp='2018-09-27T12:30:00Z'>12:30</time></a>
&lt;<span class='nick nick-8'> Sentineo</span>&gt;
an audio interface would have been betterperhaps :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1538052060' id='632089'>
<a class='timestamp' href='#632089'><time timestamp='2018-09-27T12:41:00Z'>12:41</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
direct brain interface ftw :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1538052120' id='632090'>
<a class='timestamp' href='#632090'><time timestamp='2018-09-27T12:42:00Z'>12:42</time></a>
&lt;<span class='nick nick-8'> Sentineo</span>&gt;
yeah :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1538056200' id='632091'>
<a class='timestamp' href='#632091'><time timestamp='2018-09-27T13:50:00Z'>13:50</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
hebasto: hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1538056260' id='632092'>
<a class='timestamp' href='#632092'><time timestamp='2018-09-27T13:51:00Z'>13:51</time></a>
&lt;<span class='nick nick-14'> hebasto</span>&gt;
promag: hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1538056260' id='632093'>
<a class='timestamp' href='#632093'><time timestamp='2018-09-27T13:51:00Z'>13:51</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
hebasto: I don&#x27;t have space to install fedora :/ but I hope to get around that today/tomorrow
<br>
</div>

<div class='talk op-msg' data-timestamp='1538056260' id='632094'>
<a class='timestamp' href='#632094'><time timestamp='2018-09-27T13:51:00Z'>13:51</time></a>
&lt;<span class='nick nick-14'> hebasto</span>&gt;
promag: I see
<br>
</div>

<div class='talk op-msg' data-timestamp='1538056260' id='632095'>
<a class='timestamp' href='#632095'><time timestamp='2018-09-27T13:51:00Z'>13:51</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
hebasto: can only test by then
<br>
</div>

<div class='talk op-msg' data-timestamp='1538056380' id='632096'>
<a class='timestamp' href='#632096'><time timestamp='2018-09-27T13:53:00Z'>13:53</time></a>
&lt;<span class='nick nick-14'> hebasto</span>&gt;
promag: don&#x27;t be hurry, I&#x27;m working on your suggestions right now
<br>
</div>

<div class='talk op-msg' data-timestamp='1538056380' id='632097'>
<a class='timestamp' href='#632097'><time timestamp='2018-09-27T13:53:00Z'>13:53</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
so in fact it&#x27;s necessary to not map?
<br>
</div>

<div class='talk op-msg' data-timestamp='1538056440' id='632098'>
<a class='timestamp' href='#632098'><time timestamp='2018-09-27T13:54:00Z'>13:54</time></a>
&lt;<span class='nick nick-14'> hebasto</span>&gt;
yes, it is. I&#x27;ve tested on fedora.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538056800' id='632099'>
<a class='timestamp' href='#632099'><time timestamp='2018-09-27T14:00:00Z'>14:00</time></a>
&lt;<span class='nick nick-14'> hebasto</span>&gt;
promag: would you mind to look into #14222?
<br>
</div>

<div class='talk op-msg' data-timestamp='1538056800' id='632100'>
<a class='timestamp' href='#632100'><time timestamp='2018-09-27T14:00:00Z'>14:00</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/14222" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/14222</a> | Qt: Fix restoration of minimized to tray window by hebasto · Pull Request #14222 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1538057760' id='632101'>
<a class='timestamp' href='#632101'><time timestamp='2018-09-27T14:16:00Z'>14:16</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
hebasto: will fo
<br>
</div>

<div class='talk op-msg' data-timestamp='1538057760' id='632102'>
<a class='timestamp' href='#632102'><time timestamp='2018-09-27T14:16:00Z'>14:16</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
*do
<br>
</div>

<div class='talk op-msg' data-timestamp='1538065680' id='632103'>
<a class='timestamp' href='#632103'><time timestamp='2018-09-27T16:28:00Z'>16:28</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
57b59260952742aa51dca79a37849429a456496292d3e4f28cdf7de3eef516f3
<br>
</div>

<div class='talk op-msg' data-timestamp='1538066400' id='632104'>
<a class='timestamp' href='#632104'><time timestamp='2018-09-27T16:40:00Z'>16:40</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
luke-jr: heh
<br>
</div>

<div class='talk op-msg' data-timestamp='1538074800' id='632105'>
<a class='timestamp' href='#632105'><time timestamp='2018-09-27T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
meeting time?
<br>
</div>

<div class='talk op-msg' data-timestamp='1538074800' id='632106'>
<a class='timestamp' href='#632106'><time timestamp='2018-09-27T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
hiyes
<br>
</div>

<div class='talk op-msg' data-timestamp='1538074800' id='632107'>
<a class='timestamp' href='#632107'><time timestamp='2018-09-27T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
#startmeeting
<br>
</div>

<div class='talk op-msg' data-timestamp='1538074800' id='632108'>
<a class='timestamp' href='#632108'><time timestamp='2018-09-27T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Meeting started Thu Sep 27 19:00:52 2018 UTC.  The chair is wumpus. Information about MeetBot at <a href="http://wiki.debian.org/MeetBot" class="link" target="_blank">http://wiki.debian.org/MeetBot</a>.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538074800' id='632109'>
<a class='timestamp' href='#632109'><time timestamp='2018-09-27T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Useful Commands: #action #agreed #help #info #idea #link #topic.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538074860' id='632110'>
<a class='timestamp' href='#632110'><time timestamp='2018-09-27T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1538074860' id='632111'>
<a class='timestamp' href='#632111'><time timestamp='2018-09-27T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
#bitcoin-core-dev Meeting: wumpus sipa gmaxwell jonasschnelli morcos luke-jr btcdrak sdaftuar jtimon cfields petertodd kanzure bluematt instagibbs phantomcircu
<br>
</div>

<div class='talk op-msg' data-timestamp='1538074860' id='632112'>
<a class='timestamp' href='#632112'><time timestamp='2018-09-27T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1538074860' id='632113'>
<a class='timestamp' href='#632113'><time timestamp='2018-09-27T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it codeshark michagogo marcofalke paveljanik NicolasDorier jl2012 achow101 meshcollider jnewbery maaku fanquake promag provoostenator
<br>
</div>

<div class='talk op-msg' data-timestamp='1538074860' id='632114'>
<a class='timestamp' href='#632114'><time timestamp='2018-09-27T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1538074860' id='632115'>
<a class='timestamp' href='#632115'><time timestamp='2018-09-27T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1538074920' id='632116'>
<a class='timestamp' href='#632116'><time timestamp='2018-09-27T19:02:00Z'>19:02</time></a>
&lt;<span class='nick nick-3'> meshcollider</span>&gt;
Hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1538074920' id='632117'>
<a class='timestamp' href='#632117'><time timestamp='2018-09-27T19:02:00Z'>19:02</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Status of 0.15.2 and 0.14.3?
<br>
</div>

<div class='talk op-msg' data-timestamp='1538074920' id='632118'>
<a class='timestamp' href='#632118'><time timestamp='2018-09-27T19:02:00Z'>19:02</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1538074980' id='632119'>
<a class='timestamp' href='#632119'><time timestamp='2018-09-27T19:03:00Z'>19:03</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
jonasschnelli: good question; are there enough gitian sigs to upload binaries?
<br>
</div>

<div class='talk op-msg' data-timestamp='1538074980' id='632120'>
<a class='timestamp' href='#632120'><time timestamp='2018-09-27T19:03:00Z'>19:03</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I think so... 5 or 6
<br>
</div>

<div class='talk op-msg' data-timestamp='1538074980' id='632121'>
<a class='timestamp' href='#632121'><time timestamp='2018-09-27T19:03:00Z'>19:03</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
yeah
<br>
</div>

<div class='talk op-msg' data-timestamp='1538075040' id='632122'>
<a class='timestamp' href='#632122'><time timestamp='2018-09-27T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-4'> jamesob</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1538075040' id='632123'>
<a class='timestamp' href='#632123'><time timestamp='2018-09-27T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
0.14.3 has 6, 0.15.2 has 5
<br>
</div>

<div class='talk op-msg' data-timestamp='1538075040' id='632124'>
<a class='timestamp' href='#632124'><time timestamp='2018-09-27T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
6 for 0.14.3 and 5 for 0.15.2 AFAIK
<br>
</div>

<div class='talk op-msg' data-timestamp='1538075040' id='632125'>
<a class='timestamp' href='#632125'><time timestamp='2018-09-27T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
ok, will do that then, I&#x27;m back from Riga so I&#x27;m able to sign/upload binaries again
<br>
</div>

<div class='talk op-msg' data-timestamp='1538075040' id='632126'>
<a class='timestamp' href='#632126'><time timestamp='2018-09-27T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
due to my shitty setup, I can&#x27;t compile trusty stuff on Gitian anymore
<br>
</div>

<div class='talk op-msg' data-timestamp='1538075040' id='632127'>
<a class='timestamp' href='#632127'><time timestamp='2018-09-27T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
thanks wumpus 
<br>
</div>

<div class='talk op-msg' data-timestamp='1538075100' id='632128'>
<a class='timestamp' href='#632128'><time timestamp='2018-09-27T19:05:00Z'>19:05</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
0.14/0.15 build still seems to work here
<br>
</div>

<div class='talk op-msg' data-timestamp='1538075100' id='632129'>
<a class='timestamp' href='#632129'><time timestamp='2018-09-27T19:05:00Z'>19:05</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
It took some pain for me as well, but I still keep an old Gitian VM for backports.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538075100' id='632130'>
<a class='timestamp' href='#632130'><time timestamp='2018-09-27T19:05:00Z'>19:05</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
#topic 0.17.0 release
<br>
</div>

<div class='talk op-msg' data-timestamp='1538075160' id='632131'>
<a class='timestamp' href='#632131'><time timestamp='2018-09-27T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Not sure if #14339 is something we want to address for 0.17... probably not
<br>
</div>

<div class='talk op-msg' data-timestamp='1538075160' id='632132'>
<a class='timestamp' href='#632132'><time timestamp='2018-09-27T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/14339" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/14339</a> | Qt 0.17.0rc4 (and master) not running on Ubuntu 14.04.5 LTS · Issue #14339 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1538075160' id='632133'>
<a class='timestamp' href='#632133'><time timestamp='2018-09-27T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
So macOS GUI compilation seems completely broken: #14327, but that wouldn&#x27;t stop cross compling a release I suppose.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538075160' id='632134'>
<a class='timestamp' href='#632134'><time timestamp='2018-09-27T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/14327" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/14327</a> | macOS Mojave QT 5.11 compilation fails · Issue #14327 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1538075160' id='632135'>
<a class='timestamp' href='#632135'><time timestamp='2018-09-27T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
so the blocker for 0.17 is #14289
<br>
</div>

<div class='talk op-msg' data-timestamp='1538075160' id='632136'>
<a class='timestamp' href='#632136'><time timestamp='2018-09-27T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/14289" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/14289</a> | Unbounded growth of scheduler queue · Issue #14289 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1538075220' id='632137'>
<a class='timestamp' href='#632137'><time timestamp='2018-09-27T19:07:00Z'>19:07</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
the GUI problems are annoying and need to be fixed but are not blocking the release at this stage, IMO
<br>
</div>

<div class='talk op-msg' data-timestamp='1538075220' id='632138'>
<a class='timestamp' href='#632138'><time timestamp='2018-09-27T19:07:00Z'>19:07</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1538075220' id='632139'>
<a class='timestamp' href='#632139'><time timestamp='2018-09-27T19:07:00Z'>19:07</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
provoostenator: hmm.. compiled master yesterday on a fresh Mojave installation
<br>
</div>

<div class='talk op-msg' data-timestamp='1538075220' id='632140'>
<a class='timestamp' href='#632140'><time timestamp='2018-09-27T19:07:00Z'>19:07</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
(no problems)
<br>
</div>

<div class='talk op-msg' data-timestamp='1538075220' id='632141'>
<a class='timestamp' href='#632141'><time timestamp='2018-09-27T19:07:00Z'>19:07</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
wumpus: agree
<br>
</div>

<div class='talk op-msg' data-timestamp='1538075280' id='632142'>
<a class='timestamp' href='#632142'><time timestamp='2018-09-27T19:08:00Z'>19:08</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
jonasschnelli: ok, maybe it&#x27;s machine specific? Can you and others comment on that issue?
<br>
</div>

<div class='talk op-msg' data-timestamp='1538075280' id='632143'>
<a class='timestamp' href='#632143'><time timestamp='2018-09-27T19:08:00Z'>19:08</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
(will do later)
<br>
</div>

<div class='talk op-msg' data-timestamp='1538075340' id='632144'>
<a class='timestamp' href='#632144'><time timestamp='2018-09-27T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
(I&#x27;m trying now on my Macbook as well, maybe it&#x27;s just my iMac being a pain)
<br>
</div>

<div class='talk op-msg' data-timestamp='1538075340' id='632145'>
<a class='timestamp' href='#632145'><time timestamp='2018-09-27T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
What about #14289 and #14104?
<br>
</div>

<div class='talk op-msg' data-timestamp='1538075340' id='632146'>
<a class='timestamp' href='#632146'><time timestamp='2018-09-27T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/14289" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/14289</a> | Unbounded growth of scheduler queue · Issue #14289 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1538075340' id='632147'>
<a class='timestamp' href='#632147'><time timestamp='2018-09-27T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/14104" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/14104</a> | 0.17.2rc issue (standardness change for bare multisig) · Issue #14104 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1538075340' id='632148'>
<a class='timestamp' href='#632148'><time timestamp='2018-09-27T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
although, it&#x27;s likely that #14289 is not a regression for 0.17 it&#x27;s still something that needs to be addressed in some way
<br>
</div>

<div class='talk op-msg' data-timestamp='1538075340' id='632149'>
<a class='timestamp' href='#632149'><time timestamp='2018-09-27T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/14289" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/14289</a> | Unbounded growth of scheduler queue · Issue #14289 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1538075400' id='632150'>
<a class='timestamp' href='#632150'><time timestamp='2018-09-27T19:10:00Z'>19:10</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
jonasschnelli: I don&#x27;t think #14104 is a blocker, but the other one is nasty
<br>
</div>

<div class='talk op-msg' data-timestamp='1538075400' id='632151'>
<a class='timestamp' href='#632151'><time timestamp='2018-09-27T19:10:00Z'>19:10</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/14104" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/14104</a> | 0.17.2rc issue (standardness change for bare multisig) · Issue #14104 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1538075400' id='632152'>
<a class='timestamp' href='#632152'><time timestamp='2018-09-27T19:10:00Z'>19:10</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
14289: one &quot;solution&quot; could be to recommend people to resync if they&#x27;re still on v0.13, since it&#x27;s impractically slow anyway even without the memory problem.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538075400' id='632153'>
<a class='timestamp' href='#632153'><time timestamp='2018-09-27T19:10:00Z'>19:10</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
We just need to make sure to communicate the standardness change in 0.17.0
<br>
</div>

<div class='talk op-msg' data-timestamp='1538075400' id='632154'>
<a class='timestamp' href='#632154'><time timestamp='2018-09-27T19:10:00Z'>19:10</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Or they can install 0.15 first, wait for that process to finish and then install 0.17
<br>
</div>

<div class='talk op-msg' data-timestamp='1538075460' id='632155'>
<a class='timestamp' href='#632155'><time timestamp='2018-09-27T19:11:00Z'>19:11</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
meh
<br>
</div>

<div class='talk op-msg' data-timestamp='1538075460' id='632156'>
<a class='timestamp' href='#632156'><time timestamp='2018-09-27T19:11:00Z'>19:11</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
hi, i&#x27;m sortof here - ping me if needed
<br>
</div>

<div class='talk op-msg' data-timestamp='1538075460' id='632157'>
<a class='timestamp' href='#632157'><time timestamp='2018-09-27T19:11:00Z'>19:11</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
provoostenator: agree; though putting a message in the code itself if people are upgrading from 0.13.0 would make sense, for those not carefully reading the release notes, but anyhow
<br>
</div>

<div class='talk op-msg' data-timestamp='1538075460' id='632158'>
<a class='timestamp' href='#632158'><time timestamp='2018-09-27T19:11:00Z'>19:11</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I think even though 0.16 appears to have added the replay bloat, 0.17 makes bloat worse because it adds an additional place where they&#x27;re queued.  (this doesn&#x27;t change that I think notices are probably the best move for now)
<br>
</div>

<div class='talk op-msg' data-timestamp='1538075520' id='632159'>
<a class='timestamp' href='#632159'><time timestamp='2018-09-27T19:12:00Z'>19:12</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
but yes for the most common case (0.13.0 upgrade rollback), adding a message to the release notes would be acceptable solution
<br>
</div>

<div class='talk op-msg' data-timestamp='1538075520' id='632160'>
<a class='timestamp' href='#632160'><time timestamp='2018-09-27T19:12:00Z'>19:12</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
couldn&#x27;t we detect the reorg needed, and just prompt for user action instead of trying to upgrade it?
<br>
</div>

<div class='talk op-msg' data-timestamp='1538075520' id='632161'>
<a class='timestamp' href='#632161'><time timestamp='2018-09-27T19:12:00Z'>19:12</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
If it can be done safely, having the upgrade simply refuse and throw an error message seems safer than just a release note.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538075520' id='632162'>
<a class='timestamp' href='#632162'><time timestamp='2018-09-27T19:12:00Z'>19:12</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: i&#x27;m not sure anything was added in 0.17
<br>
</div>

<div class='talk op-msg' data-timestamp='1538075520' id='632163'>
<a class='timestamp' href='#632163'><time timestamp='2018-09-27T19:12:00Z'>19:12</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i blamed the txindex change, but the asynchronous processing was added earlier
<br>
</div>

<div class='talk op-msg' data-timestamp='1538075520' id='632164'>
<a class='timestamp' href='#632164'><time timestamp='2018-09-27T19:12:00Z'>19:12</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
so I guess there isn&#x27;t really a hurry to release 0.17.0 at this point
<br>
</div>

<div class='talk op-msg' data-timestamp='1538075520' id='632165'>
<a class='timestamp' href='#632165'><time timestamp='2018-09-27T19:12:00Z'>19:12</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sipa: txindex also schedulers queues block connections and disconnection, no?
<br>
</div>

<div class='talk op-msg' data-timestamp='1538075580' id='632166'>
<a class='timestamp' href='#632166'><time timestamp='2018-09-27T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
regardless... We don&#x27;t yet have a proper fix for the issue, and I don&#x27;t think we&#x27;re still learning much about 0.17rc.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538075580' id='632167'>
<a class='timestamp' href='#632167'><time timestamp='2018-09-27T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: i think (sorry no time to look now) is that 0.17 just added the txindex as a listener for those blockconnected events; the issue is not that, but the events in the first place
<br>
</div>

<div class='talk op-msg' data-timestamp='1538075640' id='632168'>
<a class='timestamp' href='#632168'><time timestamp='2018-09-27T19:14:00Z'>19:14</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
ah.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538075640' id='632169'>
<a class='timestamp' href='#632169'><time timestamp='2018-09-27T19:14:00Z'>19:14</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
my suggestion is to just point out in release notes that upgrading from 0.13.0 or before is a known memory bloat issue, which can be worked around with -reindex
<br>
</div>

<div class='talk op-msg' data-timestamp='1538075640' id='632170'>
<a class='timestamp' href='#632170'><time timestamp='2018-09-27T19:14:00Z'>19:14</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I didn&#x27;t walk through the patches so it wasn&#x27;t clear to me that the events existed before. Got it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538075640' id='632171'>
<a class='timestamp' href='#632171'><time timestamp='2018-09-27T19:14:00Z'>19:14</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
(ActivateBestChain actually checks for the queue length and blocks on it getting caught up)
<br>
</div>

<div class='talk op-msg' data-timestamp='1538075640' id='632172'>
<a class='timestamp' href='#632172'><time timestamp='2018-09-27T19:14:00Z'>19:14</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
luke-jr: it does; but RewindBlock and InvalidateBlock don&#x27;t
<br>
</div>

<div class='talk op-msg' data-timestamp='1538075700' id='632173'>
<a class='timestamp' href='#632173'><time timestamp='2018-09-27T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
sipa: would it be so bad if they did?
<br>
</div>

<div class='talk op-msg' data-timestamp='1538075700' id='632174'>
<a class='timestamp' href='#632174'><time timestamp='2018-09-27T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
luke-jr: they need to release cs_main for that, which would be a major refactor for those functions
<br>
</div>

<div class='talk op-msg' data-timestamp='1538075700' id='632175'>
<a class='timestamp' href='#632175'><time timestamp='2018-09-27T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
luke-jr: that can be tricky to do safely as car has to be taken to make sure they don&#x27;t wait while holding any locks.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538075700' id='632176'>
<a class='timestamp' href='#632176'><time timestamp='2018-09-27T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
care*
<br>
</div>

<div class='talk op-msg' data-timestamp='1538075700' id='632177'>
<a class='timestamp' href='#632177'><time timestamp='2018-09-27T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
hmm
<br>
</div>

<div class='talk op-msg' data-timestamp='1538075700' id='632178'>
<a class='timestamp' href='#632178'><time timestamp='2018-09-27T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but we can probably remove the upgrading logic from pre-segwit blocks anyway - as provoostenator says, it&#x27;s already pretty unwieldy even without the memory bloat issue
<br>
</div>

<div class='talk op-msg' data-timestamp='1538075760' id='632179'>
<a class='timestamp' href='#632179'><time timestamp='2018-09-27T19:16:00Z'>19:16</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
yea, reindex might already actually be faster.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538075760' id='632180'>
<a class='timestamp' href='#632180'><time timestamp='2018-09-27T19:16:00Z'>19:16</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i&#x27;m pretty sure it is
<br>
</div>

<div class='talk op-msg' data-timestamp='1538075760' id='632181'>
<a class='timestamp' href='#632181'><time timestamp='2018-09-27T19:16:00Z'>19:16</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
but I assumed we&#x27;d want to use the rewind for future softforks.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538075760' id='632182'>
<a class='timestamp' href='#632182'><time timestamp='2018-09-27T19:16:00Z'>19:16</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Does reindex just toss out block files it doesn&#x27;t need?
<br>
</div>

<div class='talk op-msg' data-timestamp='1538075760' id='632183'>
<a class='timestamp' href='#632183'><time timestamp='2018-09-27T19:16:00Z'>19:16</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i don&#x27;t care so much that invalidateblock takes a lot of memory - it would be a nice to have if we could actually make it revert to genesis, but it&#x27;s not a priority
<br>
</div>

<div class='talk op-msg' data-timestamp='1538075760' id='632184'>
<a class='timestamp' href='#632184'><time timestamp='2018-09-27T19:16:00Z'>19:16</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
provoostenator: yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1538075760' id='632185'>
<a class='timestamp' href='#632185'><time timestamp='2018-09-27T19:16:00Z'>19:16</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sipa: uh it&#x27;s a little worse than that.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538075820' id='632186'>
<a class='timestamp' href='#632186'><time timestamp='2018-09-27T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I mean it hits 64+GB usage rewinding only a couple months of blocks.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538075820' id='632187'>
<a class='timestamp' href='#632187'><time timestamp='2018-09-27T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yeah, ok
<br>
</div>

<div class='talk op-msg' data-timestamp='1538075820' id='632188'>
<a class='timestamp' href='#632188'><time timestamp='2018-09-27T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
And it doesn&#x27;t stop once it&#x27;s going.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538075880' id='632189'>
<a class='timestamp' href='#632189'><time timestamp='2018-09-27T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
indeed, and it doesn&#x27;t return the memory, ever. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1538075880' id='632190'>
<a class='timestamp' href='#632190'><time timestamp='2018-09-27T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
we&#x27;ll need to refactor InvalidateBlock to deal with that; doesn&#x27;t sound impossible, but probably for 0.17.1?
<br>
</div>

<div class='talk op-msg' data-timestamp='1538075880' id='632191'>
<a class='timestamp' href='#632191'><time timestamp='2018-09-27T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Not a reason to hold 0.17, but it&#x27;s not an irrelevant inefficiency.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538075880' id='632192'>
<a class='timestamp' href='#632192'><time timestamp='2018-09-27T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
fair
<br>
</div>

<div class='talk op-msg' data-timestamp='1538075880' id='632193'>
<a class='timestamp' href='#632193'><time timestamp='2018-09-27T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sipa: sounds fine to me.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538075880' id='632194'>
<a class='timestamp' href='#632194'><time timestamp='2018-09-27T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
&lt;2% of the network (&lt;2000 nodes) run non-segwit software at this point; throwing an error that we can&#x27;t upgrade them anymore seems reasonable
<br>
</div>

<div class='talk op-msg' data-timestamp='1538075940' id='632195'>
<a class='timestamp' href='#632195'><time timestamp='2018-09-27T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1538075940' id='632196'>
<a class='timestamp' href='#632196'><time timestamp='2018-09-27T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
luke-jr: that&#x27;s a useful statistics
<br>
</div>

<div class='talk op-msg' data-timestamp='1538075940' id='632197'>
<a class='timestamp' href='#632197'><time timestamp='2018-09-27T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I still think we shouldn&#x27;t just can the rewinding code though.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538075940' id='632198'>
<a class='timestamp' href='#632198'><time timestamp='2018-09-27T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Maybe also throw an error if the user tries to invalidate more than 10K blocks? They can always do it in increments.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538076000' id='632199'>
<a class='timestamp' href='#632199'><time timestamp='2018-09-27T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
ugh.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538076000' id='632200'>
<a class='timestamp' href='#632200'><time timestamp='2018-09-27T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
just release note it, then we&#x27;ll fix it later, please don&#x27;t add additional falure cases to the function.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538076000' id='632201'>
<a class='timestamp' href='#632201'><time timestamp='2018-09-27T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
agree with gmaxwell 
<br>
</div>

<div class='talk op-msg' data-timestamp='1538076000' id='632202'>
<a class='timestamp' href='#632202'><time timestamp='2018-09-27T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
please don&#x27;t overdesign temporary code
<br>
</div>

<div class='talk op-msg' data-timestamp='1538076000' id='632203'>
<a class='timestamp' href='#632203'><time timestamp='2018-09-27T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
the refactor will effectively just do that - split it up in batches of X blocks to disconnect at once
<br>
</div>

<div class='talk op-msg' data-timestamp='1538076060' id='632204'>
<a class='timestamp' href='#632204'><time timestamp='2018-09-27T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
this needs to be fixed properly, in master, and in the future we should be careful to review anything that adds a queue or global data structure for this possiblity
<br>
</div>

<div class='talk op-msg' data-timestamp='1538076060' id='632205'>
<a class='timestamp' href='#632205'><time timestamp='2018-09-27T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
agree
<br>
</div>

<div class='talk op-msg' data-timestamp='1538076060' id='632206'>
<a class='timestamp' href='#632206'><time timestamp='2018-09-27T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
but don&#x27;t spend too much time on the workaround
<br>
</div>

<div class='talk op-msg' data-timestamp='1538076060' id='632207'>
<a class='timestamp' href='#632207'><time timestamp='2018-09-27T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
I guess anyone upgrading all the way from 0.13  will probably pay more than average attention to the Upgrade Notice section in bold at the top...
<br>
</div>

<div class='talk op-msg' data-timestamp='1538076120' id='632208'>
<a class='timestamp' href='#632208'><time timestamp='2018-09-27T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I think most people still running 0.13.x do so intentionally, and won&#x27;t be upgrading to 0.17.x any time soon
<br>
</div>

<div class='talk op-msg' data-timestamp='1538076120' id='632209'>
<a class='timestamp' href='#632209'><time timestamp='2018-09-27T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
(not those nodes, at least!)
<br>
</div>

<div class='talk op-msg' data-timestamp='1538076120' id='632210'>
<a class='timestamp' href='#632210'><time timestamp='2018-09-27T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
most 0.13 nodes are 0.13.2 anyway
<br>
</div>

<div class='talk op-msg' data-timestamp='1538076180' id='632211'>
<a class='timestamp' href='#632211'><time timestamp='2018-09-27T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yes; 0.13 is not the issue; 0.13.0 is
<br>
</div>

<div class='talk op-msg' data-timestamp='1538076180' id='632212'>
<a class='timestamp' href='#632212'><time timestamp='2018-09-27T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
sipa: <a href="https://luke.dashjr.org/programs/bitcoin/files/charts/services.html" class="link" target="_blank">https://luke.dashjr.org/programs/bitcoin/files/charts/services.html</a> fwiw
<br>
</div>

<div class='talk op-msg' data-timestamp='1538076180' id='632213'>
<a class='timestamp' href='#632213'><time timestamp='2018-09-27T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
e.g. some users want to run old node software to cross-validate
<br>
</div>

<div class='talk op-msg' data-timestamp='1538076300' id='632214'>
<a class='timestamp' href='#632214'><time timestamp='2018-09-27T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
so: for 0.17.0, we should add a mention to the release notes for users upgrading from 0.13.0. This would require no new rc, so the way to final can continue as normal.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538076300' id='632215'>
<a class='timestamp' href='#632215'><time timestamp='2018-09-27T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
there&#x27;s a pr for backports, will that be fore 0.17.1, or are those going in for .0?
<br>
</div>

<div class='talk op-msg' data-timestamp='1538076360' id='632216'>
<a class='timestamp' href='#632216'><time timestamp='2018-09-27T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I haven&#x27;t seen it, but unless they solve critical problems, they are not going in .0
<br>
</div>

<div class='talk op-msg' data-timestamp='1538076360' id='632217'>
<a class='timestamp' href='#632217'><time timestamp='2018-09-27T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
#14328
<br>
</div>

<div class='talk op-msg' data-timestamp='1538076360' id='632218'>
<a class='timestamp' href='#632218'><time timestamp='2018-09-27T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/14328" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/14328</a> | [0.17] Backports by MarcoFalke · Pull Request #14328 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1538076420' id='632219'>
<a class='timestamp' href='#632219'><time timestamp='2018-09-27T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I don&#x27;t think any of those are very serious
<br>
</div>

<div class='talk op-msg' data-timestamp='1538076420' id='632220'>
<a class='timestamp' href='#632220'><time timestamp='2018-09-27T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
potential unititialized value sounds dangerous, but looking at the PR, it&#x27;s impossible to trigger in practice
<br>
</div>

<div class='talk op-msg' data-timestamp='1538076480' id='632221'>
<a class='timestamp' href='#632221'><time timestamp='2018-09-27T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I hate that kind of PR naming
<br>
</div>

<div class='talk op-msg' data-timestamp='1538076480' id='632222'>
<a class='timestamp' href='#632222'><time timestamp='2018-09-27T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
PR bait? :-)
<br>
</div>

<div class='talk op-msg' data-timestamp='1538076480' id='632223'>
<a class='timestamp' href='#632223'><time timestamp='2018-09-27T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I&#x27;ve complained about that a number of times in the past.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538076480' id='632224'>
<a class='timestamp' href='#632224'><time timestamp='2018-09-27T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
me too, so many times, the guy doesn&#x27;t listen to me
<br>
</div>

<div class='talk op-msg' data-timestamp='1538076540' id='632225'>
<a class='timestamp' href='#632225'><time timestamp='2018-09-27T19:29:00Z'>19:29</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
so does that mean 0.17.0 final after the meeting?
<br>
</div>

<div class='talk op-msg' data-timestamp='1538076540' id='632226'>
<a class='timestamp' href='#632226'><time timestamp='2018-09-27T19:29:00Z'>19:29</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
(or gal, I don&#x27;t really know)
<br>
</div>

<div class='talk op-msg' data-timestamp='1538076540' id='632227'>
<a class='timestamp' href='#632227'><time timestamp='2018-09-27T19:29:00Z'>19:29</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Works for me.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538076540' id='632228'>
<a class='timestamp' href='#632228'><time timestamp='2018-09-27T19:29:00Z'>19:29</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I guess so? would be nice to have the release notes change in
<br>
</div>

<div class='talk op-msg' data-timestamp='1538076540' id='632229'>
<a class='timestamp' href='#632229'><time timestamp='2018-09-27T19:29:00Z'>19:29</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
before tagging
<br>
</div>

<div class='talk op-msg' data-timestamp='1538076660' id='632230'>
<a class='timestamp' href='#632230'><time timestamp='2018-09-27T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
just needs a one liner, no?  &quot;If upgrading from 0.13 or prior, you must start with -reindex&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1538076660' id='632231'>
<a class='timestamp' href='#632231'><time timestamp='2018-09-27T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yah
<br>
</div>

<div class='talk op-msg' data-timestamp='1538076660' id='632232'>
<a class='timestamp' href='#632232'><time timestamp='2018-09-27T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I&#x27;ve noted it here <a href="https://github.com/bitcoin/bitcoin/issues/12391#issuecomment-425211080" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/12391#issuecomment-425211080</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1538076720' id='632233'>
<a class='timestamp' href='#632233'><time timestamp='2018-09-27T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
k
<br>
</div>

<div class='talk op-msg' data-timestamp='1538076720' id='632234'>
<a class='timestamp' href='#632234'><time timestamp='2018-09-27T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
we also need to add a known issues section
<br>
</div>

<div class='talk op-msg' data-timestamp='1538076780' id='632235'>
<a class='timestamp' href='#632235'><time timestamp='2018-09-27T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yepp
<br>
</div>

<div class='talk op-msg' data-timestamp='1538076780' id='632236'>
<a class='timestamp' href='#632236'><time timestamp='2018-09-27T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
any other topics?
<br>
</div>

<div class='talk op-msg' data-timestamp='1538076780' id='632237'>
<a class='timestamp' href='#632237'><time timestamp='2018-09-27T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
can anybody reproduce the travis error on #14336
<br>
</div>

<div class='talk op-msg' data-timestamp='1538076780' id='632238'>
<a class='timestamp' href='#632238'><time timestamp='2018-09-27T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/14336" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/14336</a> | net: implement poll by pstratem · Pull Request #14336 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1538076840' id='632239'>
<a class='timestamp' href='#632239'><time timestamp='2018-09-27T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
i cannot reproduce it locally
<br>
</div>

<div class='talk op-msg' data-timestamp='1538076840' id='632240'>
<a class='timestamp' href='#632240'><time timestamp='2018-09-27T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
#topic Travis error on poll() PR
<br>
</div>

<div class='talk op-msg' data-timestamp='1538076840' id='632241'>
<a class='timestamp' href='#632241'><time timestamp='2018-09-27T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
IMO after the meeting
<br>
</div>

<div class='talk op-msg' data-timestamp='1538076840' id='632242'>
<a class='timestamp' href='#632242'><time timestamp='2018-09-27T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I guess this is a action item, that people shoudl try the PR locally?
<br>
</div>

<div class='talk op-msg' data-timestamp='1538076840' id='632243'>
<a class='timestamp' href='#632243'><time timestamp='2018-09-27T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
instagibbs had a related question, where are the bitcoind exit codes coming from.  phantomcircuit&#x27;s travis failure bitcoind has a return value of -6
<br>
</div>

<div class='talk op-msg' data-timestamp='1538076900' id='632244'>
<a class='timestamp' href='#632244'><time timestamp='2018-09-27T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
after the meeting, yes, doesn&#x27;t make sense to do a real-time debugging session I think :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1538076900' id='632245'>
<a class='timestamp' href='#632245'><time timestamp='2018-09-27T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
I shall wait
<br>
</div>

<div class='talk op-msg' data-timestamp='1538076900' id='632246'>
<a class='timestamp' href='#632246'><time timestamp='2018-09-27T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
would be fun... but yes. Better later.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538076900' id='632247'>
<a class='timestamp' href='#632247'><time timestamp='2018-09-27T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
wumpus: topic suggestion: multiwallet
<br>
</div>

<div class='talk op-msg' data-timestamp='1538076900' id='632248'>
<a class='timestamp' href='#632248'><time timestamp='2018-09-27T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
#action try to run tests on #14336 on different environments to see if it reproduces travis error
<br>
</div>

<div class='talk op-msg' data-timestamp='1538076900' id='632249'>
<a class='timestamp' href='#632249'><time timestamp='2018-09-27T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
High-Prio list?
<br>
</div>

<div class='talk op-msg' data-timestamp='1538076900' id='632250'>
<a class='timestamp' href='#632250'><time timestamp='2018-09-27T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/14336" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/14336</a> | net: implement poll by pstratem · Pull Request #14336 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1538076960' id='632251'>
<a class='timestamp' href='#632251'><time timestamp='2018-09-27T19:36:00Z'>19:36</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
#topic multiwallet (promag)
<br>
</div>

<div class='talk op-msg' data-timestamp='1538076960' id='632252'>
<a class='timestamp' href='#632252'><time timestamp='2018-09-27T19:36:00Z'>19:36</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
cc jnewbery
<br>
</div>

<div class='talk op-msg' data-timestamp='1538076960' id='632253'>
<a class='timestamp' href='#632253'><time timestamp='2018-09-27T19:36:00Z'>19:36</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
just want some feedback regarding <a href="https://github.com/bitcoin/bitcoin/pull/13100#issuecomment-424342813" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/13100#issuecomment-424342813</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1538076960' id='632254'>
<a class='timestamp' href='#632254'><time timestamp='2018-09-27T19:36:00Z'>19:36</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
also, regarding listwalletdir
<br>
</div>

<div class='talk op-msg' data-timestamp='1538076960' id='632255'>
<a class='timestamp' href='#632255'><time timestamp='2018-09-27T19:36:00Z'>19:36</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
jonasschnelli: I haven&#x27;t paid attention to the high-prio list at all this week, with the CVE issue and Riga travel so I&#x27;m not sure there&#x27;s much to do there, but sure we can discuss it
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077020' id='632256'>
<a class='timestamp' href='#632256'><time timestamp='2018-09-27T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I think Concept ack on both (promag)! Will test more soon.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077020' id='632257'>
<a class='timestamp' href='#632257'><time timestamp='2018-09-27T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
and I&#x27;m going to submit a refactor PR introducing WalletsModel
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077020' id='632258'>
<a class='timestamp' href='#632258'><time timestamp='2018-09-27T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
that combines loaded wallets and existing wallets
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077020' id='632259'>
<a class='timestamp' href='#632259'><time timestamp='2018-09-27T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
wumpus: Yeah. I only wanted to ask for a review on #14046 from gmaxwell and sipa since they both commented already on it (fixed stuff)
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077020' id='632260'>
<a class='timestamp' href='#632260'><time timestamp='2018-09-27T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/14046" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/14046</a> | net: Refactor message parsing (CNetMessage), adds flexibility by jonasschnelli · Pull Request #14046 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077080' id='632261'>
<a class='timestamp' href='#632261'><time timestamp='2018-09-27T19:38:00Z'>19:38</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
otherwise #13100 looks like junk code..
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077080' id='632262'>
<a class='timestamp' href='#632262'><time timestamp='2018-09-27T19:38:00Z'>19:38</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/13100" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/13100</a> | gui: Add dynamic wallets support by promag · Pull Request #13100 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077140' id='632263'>
<a class='timestamp' href='#632263'><time timestamp='2018-09-27T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
any objections to WalletsModel? IIRC it was previously suggested
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077200' id='632264'>
<a class='timestamp' href='#632264'><time timestamp='2018-09-27T19:40:00Z'>19:40</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I&#x27;ll look at 14046 again, thanks for the ping.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077320' id='632265'>
<a class='timestamp' href='#632265'><time timestamp='2018-09-27T19:42:00Z'>19:42</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
topic proposal: factor out berkeley-db
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077380' id='632266'>
<a class='timestamp' href='#632266'><time timestamp='2018-09-27T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
#topic factor out berekey-db
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077380' id='632267'>
<a class='timestamp' href='#632267'><time timestamp='2018-09-27T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
(jonasschnelli)
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077380' id='632268'>
<a class='timestamp' href='#632268'><time timestamp='2018-09-27T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I tried this serval times but seems more complex then initially though..
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077380' id='632269'>
<a class='timestamp' href='#632269'><time timestamp='2018-09-27T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
But I think we should slowly consider alternative database systems (internal) for wallet files
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077380' id='632270'>
<a class='timestamp' href='#632270'><time timestamp='2018-09-27T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
And factroing out BDB should be done sooner then later
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077380' id='632271'>
<a class='timestamp' href='#632271'><time timestamp='2018-09-27T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-4'> jamesob</span>&gt;
where did the complexity come from?
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077440' id='632272'>
<a class='timestamp' href='#632272'><time timestamp='2018-09-27T19:44:00Z'>19:44</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Could be combined with  jnewbery&#x27;s standalone wallet tool, which can hold  on to the direct dependnecy a bit longer.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077440' id='632273'>
<a class='timestamp' href='#632273'><time timestamp='2018-09-27T19:44:00Z'>19:44</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
jamesob: I think mostly due to the complex code layering...
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077440' id='632274'>
<a class='timestamp' href='#632274'><time timestamp='2018-09-27T19:44:00Z'>19:44</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I think switching the database backend on runtime should be possible....
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077500' id='632275'>
<a class='timestamp' href='#632275'><time timestamp='2018-09-27T19:45:00Z'>19:45</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
switching the database backend on runtime should be possible &lt;- why?
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077500' id='632276'>
<a class='timestamp' href='#632276'><time timestamp='2018-09-27T19:45:00Z'>19:45</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I hope someone working on the wallet can initiate that refactor: jamesob, jnewbery, ryanofsky 
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077500' id='632277'>
<a class='timestamp' href='#632277'><time timestamp='2018-09-27T19:45:00Z'>19:45</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
I assume it makes most sense to move it to leveldb since we&#x27;re using that for most other things?
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077500' id='632278'>
<a class='timestamp' href='#632278'><time timestamp='2018-09-27T19:45:00Z'>19:45</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
leveldb is very annoying
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077500' id='632279'>
<a class='timestamp' href='#632279'><time timestamp='2018-09-27T19:45:00Z'>19:45</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
what gah no
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077500' id='632280'>
<a class='timestamp' href='#632280'><time timestamp='2018-09-27T19:45:00Z'>19:45</time></a>
&lt;<span class='nick nick-4'> jamesob</span>&gt;
I don&#x27;t think so; leveldb can&#x27;t use a single .dat-ish file
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077500' id='632281'>
<a class='timestamp' href='#632281'><time timestamp='2018-09-27T19:45:00Z'>19:45</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
promag: we must assume there will be a pretty long &quot;transition&quot; phase from the old to the new database layer
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077500' id='632282'>
<a class='timestamp' href='#632282'><time timestamp='2018-09-27T19:45:00Z'>19:45</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Not leveldb...
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077500' id='632283'>
<a class='timestamp' href='#632283'><time timestamp='2018-09-27T19:45:00Z'>19:45</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it needs whole directories, and provides way too many features
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077500' id='632284'>
<a class='timestamp' href='#632284'><time timestamp='2018-09-27T19:45:00Z'>19:45</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
and not a particularly good fit for what its used for here.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077500' id='632285'>
<a class='timestamp' href='#632285'><time timestamp='2018-09-27T19:45:00Z'>19:45</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sipa one wrote a simple append only database... 
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077560' id='632286'>
<a class='timestamp' href='#632286'><time timestamp='2018-09-27T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-4'> jamesob</span>&gt;
sqlite IMO seems like a good bet
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077560' id='632287'>
<a class='timestamp' href='#632287'><time timestamp='2018-09-27T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
jonasschnelli: do we need to assume there is a long transistion instead of a standalone conversion util?
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077560' id='632288'>
<a class='timestamp' href='#632288'><time timestamp='2018-09-27T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yeah, though FWIW for the berkekeydb we also suggest a whole directory per wallet at the moment
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077560' id='632289'>
<a class='timestamp' href='#632289'><time timestamp='2018-09-27T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
(logdb),... there is a 2-4 year old PR somewhere (search after logdb)
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077560' id='632290'>
<a class='timestamp' href='#632290'><time timestamp='2018-09-27T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sqlite is fine, though we also don&#x27;t need any of its features, apart from safe updating
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077560' id='632291'>
<a class='timestamp' href='#632291'><time timestamp='2018-09-27T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
wumpus: yes, but we know we don&#x27;t like to do that. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077560' id='632292'>
<a class='timestamp' href='#632292'><time timestamp='2018-09-27T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-4'> jamesob</span>&gt;
or honestly just a raw format of our own creation
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077560' id='632293'>
<a class='timestamp' href='#632293'><time timestamp='2018-09-27T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
but the dangerous thing here is that anything you choose for the wallet will need to be supported more or less forever, so it&#x27;s not an easy choice
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077560' id='632294'>
<a class='timestamp' href='#632294'><time timestamp='2018-09-27T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
gmaxwell: could also be a conversion utility,.. but at least the utility must be capable to run both database systems,... so won&#x27;t change that much for the refactroing)
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077560' id='632295'>
<a class='timestamp' href='#632295'><time timestamp='2018-09-27T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
If we add another dependency, maybe pick one that&#x27;s potentially useful for block and index storage?
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077560' id='632296'>
<a class='timestamp' href='#632296'><time timestamp='2018-09-27T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
esp since we just end up loading the whole thing into memory, a fancy database is kinda overkill.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077620' id='632297'>
<a class='timestamp' href='#632297'><time timestamp='2018-09-27T19:47:00Z'>19:47</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
gmaxwell: agree
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077620' id='632298'>
<a class='timestamp' href='#632298'><time timestamp='2018-09-27T19:47:00Z'>19:47</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
provoostenator: those things actually need efficient querying, atomic batch updates, ...
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077620' id='632299'>
<a class='timestamp' href='#632299'><time timestamp='2018-09-27T19:47:00Z'>19:47</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
we don&#x27;t <b>*need*</b> to load the whole thing in memroy, that&#x27;s a current design choice
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077620' id='632300'>
<a class='timestamp' href='#632300'><time timestamp='2018-09-27T19:47:00Z'>19:47</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
provoostenator: for the wallet we just need a key-value store with some append only records :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077620' id='632301'>
<a class='timestamp' href='#632301'><time timestamp='2018-09-27T19:47:00Z'>19:47</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(and also makes the files much more fragile and harder to work with than they would be otherwise)
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077620' id='632302'>
<a class='timestamp' href='#632302'><time timestamp='2018-09-27T19:47:00Z'>19:47</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
sqlite is also nice in that they provide a monolithic source file and encourage direct integration.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077620' id='632303'>
<a class='timestamp' href='#632303'><time timestamp='2018-09-27T19:47:00Z'>19:47</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
if there&#x27;s proper indexing, loading every single transaction into memory could be avoided
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077620' id='632304'>
<a class='timestamp' href='#632304'><time timestamp='2018-09-27T19:47:00Z'>19:47</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yeah, i&#x27;m not opposed to sqlite
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077620' id='632305'>
<a class='timestamp' href='#632305'><time timestamp='2018-09-27T19:47:00Z'>19:47</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
logdb (#5686) would be a simple append only hard to corrupt &quot;database&quot;... everything is hold in memory
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077620' id='632306'>
<a class='timestamp' href='#632306'><time timestamp='2018-09-27T19:47:00Z'>19:47</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/5686" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/5686</a> | [Wallet] replace BDB with internal append only (logdb) backend by jonasschnelli · Pull Request #5686 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077620' id='632307'>
<a class='timestamp' href='#632307'><time timestamp='2018-09-27T19:47:00Z'>19:47</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it has very thorough tests
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077680' id='632308'>
<a class='timestamp' href='#632308'><time timestamp='2018-09-27T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
cfields: that&#x27;s not a good thing. -.-
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077680' id='632309'>
<a class='timestamp' href='#632309'><time timestamp='2018-09-27T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Someone once complained that the wallet didn&#x27;t have atomicity guarantees.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077680' id='632310'>
<a class='timestamp' href='#632310'><time timestamp='2018-09-27T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
wumpus: indeed. but that decision should be made jointly.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077680' id='632311'>
<a class='timestamp' href='#632311'><time timestamp='2018-09-27T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Or sqlite... yeah
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077680' id='632312'>
<a class='timestamp' href='#632312'><time timestamp='2018-09-27T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I like sqlite, especially with deterministic wallets it wouldn&#x27;t need to store all the keys
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077680' id='632313'>
<a class='timestamp' href='#632313'><time timestamp='2018-09-27T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-4'> jamesob</span>&gt;
sqlite seems like a pretty safe bet
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077680' id='632314'>
<a class='timestamp' href='#632314'><time timestamp='2018-09-27T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
luke-jr: the alternative is the reason we&#x27;re switching away...
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077680' id='632315'>
<a class='timestamp' href='#632315'><time timestamp='2018-09-27T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
so it&#x27;s pretty much a metadata database, and sqlite is great for metadata and querying metadata
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077680' id='632316'>
<a class='timestamp' href='#632316'><time timestamp='2018-09-27T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
wumpus: with descriptor based wallets we don&#x27;t need that anyway :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077680' id='632317'>
<a class='timestamp' href='#632317'><time timestamp='2018-09-27T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
cfields: what?
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077680' id='632318'>
<a class='timestamp' href='#632318'><time timestamp='2018-09-27T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
sipa: even beter
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077680' id='632319'>
<a class='timestamp' href='#632319'><time timestamp='2018-09-27T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I don&#x27;t think sqlite makes much sense unless the intent is also to move away from pulling everything into memory.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077680' id='632320'>
<a class='timestamp' href='#632320'><time timestamp='2018-09-27T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Is it guaranteed that sqlite databases are interoperatable between platforms and versions of sqlite?
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077680' id='632321'>
<a class='timestamp' href='#632321'><time timestamp='2018-09-27T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-4'> jamesob</span>&gt;
gmaxwell: what would you propose in lieu?
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077740' id='632322'>
<a class='timestamp' href='#632322'><time timestamp='2018-09-27T19:49:00Z'>19:49</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
please move away from loading everyting into memory in the long run
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077740' id='632323'>
<a class='timestamp' href='#632323'><time timestamp='2018-09-27T19:49:00Z'>19:49</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
And if we&#x27;re going to do that, the scheme in the database matters a lot, so that change should probably be made at the same time.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077740' id='632324'>
<a class='timestamp' href='#632324'><time timestamp='2018-09-27T19:49:00Z'>19:49</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
on the short term it&#x27;s not a priority
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077740' id='632325'>
<a class='timestamp' href='#632325'><time timestamp='2018-09-27T19:49:00Z'>19:49</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
but don&#x27;t make it impossible
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077740' id='632326'>
<a class='timestamp' href='#632326'><time timestamp='2018-09-27T19:49:00Z'>19:49</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
(in a new format)
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077740' id='632327'>
<a class='timestamp' href='#632327'><time timestamp='2018-09-27T19:49:00Z'>19:49</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
jamesob: if we&#x27;re loading the whole thing into memory, a simple serialized format like logdb is I think vastly superior.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077740' id='632328'>
<a class='timestamp' href='#632328'><time timestamp='2018-09-27T19:49:00Z'>19:49</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I agree with gmaxwell: sqlite makes most sense if we want to one active handling of merchant size wallets
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077740' id='632329'>
<a class='timestamp' href='#632329'><time timestamp='2018-09-27T19:49:00Z'>19:49</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
and not sure if we want that
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077740' id='632330'>
<a class='timestamp' href='#632330'><time timestamp='2018-09-27T19:49:00Z'>19:49</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
does it have to be an embedded database?
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077740' id='632331'>
<a class='timestamp' href='#632331'><time timestamp='2018-09-27T19:49:00Z'>19:49</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
some large users of the wallet run into memory issues, and have to remake a new wallet perioidically because of this limitation
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077800' id='632332'>
<a class='timestamp' href='#632332'><time timestamp='2018-09-27T19:50:00Z'>19:50</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
promag: no
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077800' id='632333'>
<a class='timestamp' href='#632333'><time timestamp='2018-09-27T19:50:00Z'>19:50</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
if we just use sqllite but then just treat it like a blob holder, then the whole schema will need to change to avoid memory loading it in any case. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077800' id='632334'>
<a class='timestamp' href='#632334'><time timestamp='2018-09-27T19:50:00Z'>19:50</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
jonasschnelli, think it makes most sense to have a tool which is a separate binary to convert from bdb to &quot;new&quot; wallet format
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077800' id='632335'>
<a class='timestamp' href='#632335'><time timestamp='2018-09-27T19:50:00Z'>19:50</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I don&#x27;t think it has to be a &quot;database&quot; at all
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077800' id='632336'>
<a class='timestamp' href='#632336'><time timestamp='2018-09-27T19:50:00Z'>19:50</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
(due to storing all the transactions in memory, and also the time overhead of loading the whopping thing at startup)
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077800' id='632337'>
<a class='timestamp' href='#632337'><time timestamp='2018-09-27T19:50:00Z'>19:50</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
wumpus, or abusing rpc calls to whiddle it down
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077800' id='632338'>
<a class='timestamp' href='#632338'><time timestamp='2018-09-27T19:50:00Z'>19:50</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
and for the new wallet format to simply be a flat file
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077800' id='632339'>
<a class='timestamp' href='#632339'><time timestamp='2018-09-27T19:50:00Z'>19:50</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
instagibbs: oh :-)
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077800' id='632340'>
<a class='timestamp' href='#632340'><time timestamp='2018-09-27T19:50:00Z'>19:50</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
phantomcircuit: I agree. But that tools would require the refactoring also
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077800' id='632341'>
<a class='timestamp' href='#632341'><time timestamp='2018-09-27T19:50:00Z'>19:50</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
luke-jr: eh, not worth getting into it and muddying the conversation
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077800' id='632342'>
<a class='timestamp' href='#632342'><time timestamp='2018-09-27T19:50:00Z'>19:50</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
instagibbs: I mean, :-(
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077800' id='632343'>
<a class='timestamp' href='#632343'><time timestamp='2018-09-27T19:50:00Z'>19:50</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
wumpus: More than memory issues, they run into problems that many of our rpc operations iterate over all txn in the wallet and then become super slow.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077800' id='632344'>
<a class='timestamp' href='#632344'><time timestamp='2018-09-27T19:50:00Z'>19:50</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
gmaxwell, yeah that one
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077860' id='632345'>
<a class='timestamp' href='#632345'><time timestamp='2018-09-27T19:51:00Z'>19:51</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
jonasschnelli, yes but has the advantage that you can write the conversion tool and then just rip out a ton of the walletdb logic entirely
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077860' id='632346'>
<a class='timestamp' href='#632346'><time timestamp='2018-09-27T19:51:00Z'>19:51</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
gmaxwell: right - another lmitation of not having indexing, either in memory or on disk
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077860' id='632347'>
<a class='timestamp' href='#632347'><time timestamp='2018-09-27T19:51:00Z'>19:51</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
i know people who delete completely spent tx(plus 100 confs or something) to speed it wallets
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077860' id='632348'>
<a class='timestamp' href='#632348'><time timestamp='2018-09-27T19:51:00Z'>19:51</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
which makes refactoring much easier, cause you dont have to support both simultaneously
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077860' id='632349'>
<a class='timestamp' href='#632349'><time timestamp='2018-09-27T19:51:00Z'>19:51</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
phantomcircuit: the logic must still be available somewhere,... could be in a tool source only. yeah
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077860' id='632350'>
<a class='timestamp' href='#632350'><time timestamp='2018-09-27T19:51:00Z'>19:51</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
cfields, sqlite doesn&#x27;t actually provide a monolithic file in the same way bdb doesn&#x27;t
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077860' id='632351'>
<a class='timestamp' href='#632351'><time timestamp='2018-09-27T19:51:00Z'>19:51</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
instagibbs: ah yes, the &quot;wallet only needs a view of current utxos, not all of history&quot; view
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077920' id='632352'>
<a class='timestamp' href='#632352'><time timestamp='2018-09-27T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
&quot;pruned wallet&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077920' id='632353'>
<a class='timestamp' href='#632353'><time timestamp='2018-09-27T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
wumpus, either that or listunspent takes forever :(
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077920' id='632354'>
<a class='timestamp' href='#632354'><time timestamp='2018-09-27T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
phantomcircuit: eh? They for sure used to.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077920' id='632355'>
<a class='timestamp' href='#632355'><time timestamp='2018-09-27T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
to operate in the fast safe mode it needs a separate write ahead log file
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077920' id='632356'>
<a class='timestamp' href='#632356'><time timestamp='2018-09-27T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
gmaxwell: right
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077920' id='632357'>
<a class='timestamp' href='#632357'><time timestamp='2018-09-27T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
well, at least we don&#x27;t need to keep the history in memory
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077920' id='632358'>
<a class='timestamp' href='#632358'><time timestamp='2018-09-27T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
luke-jr: indeed
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077920' id='632359'>
<a class='timestamp' href='#632359'><time timestamp='2018-09-27T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
phantomcircuit: oh, I was talking about source file, not the database format.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077920' id='632360'>
<a class='timestamp' href='#632360'><time timestamp='2018-09-27T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
cfields, you cant have a single file but it&#x27;s amazingly slow
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077920' id='632361'>
<a class='timestamp' href='#632361'><time timestamp='2018-09-27T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
oh
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077920' id='632362'>
<a class='timestamp' href='#632362'><time timestamp='2018-09-27T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
yes it does have that but like
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077920' id='632363'>
<a class='timestamp' href='#632363'><time timestamp='2018-09-27T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
meh
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077920' id='632364'>
<a class='timestamp' href='#632364'><time timestamp='2018-09-27T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
that&#x27;s where something like sqlite would be, more or less, useful, I like how clightning uses it
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077920' id='632365'>
<a class='timestamp' href='#632365'><time timestamp='2018-09-27T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
going back to the prior point. ... if the history isn&#x27;t in memory, then the database storing the wallet needs to be structured in a way that suports that
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077980' id='632366'>
<a class='timestamp' href='#632366'><time timestamp='2018-09-27T19:53:00Z'>19:53</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
phantomcircuit: that makes integration into our build a no-brainer. That&#x27;s a signifacant feature imo.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538077980' id='632367'>
<a class='timestamp' href='#632367'><time timestamp='2018-09-27T19:53:00Z'>19:53</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
gmaxwell, and needs to be quite fast actually
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078040' id='632368'>
<a class='timestamp' href='#632368'><time timestamp='2018-09-27T19:54:00Z'>19:54</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
integrating sqlite into a project is trivial, indeed can be done as a single .cpp file if that&#x27;s desirable
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078040' id='632369'>
<a class='timestamp' href='#632369'><time timestamp='2018-09-27T19:54:00Z'>19:54</time></a>
&lt;<span class='nick nick-4'> jamesob</span>&gt;
if we&#x27;re thinking longterm (esp. about not loading everything into memory simultaneously), I think it makes sense to come up with a normalized, relational schema for the wallet and use sqlite. shouldn&#x27;t be hard to come up with something non-controversial (famous last words)
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078040' id='632370'>
<a class='timestamp' href='#632370'><time timestamp='2018-09-27T19:54:00Z'>19:54</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
any reason to not consider postgres for instance?
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078040' id='632371'>
<a class='timestamp' href='#632371'><time timestamp='2018-09-27T19:54:00Z'>19:54</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
AHHHH
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078040' id='632372'>
<a class='timestamp' href='#632372'><time timestamp='2018-09-27T19:54:00Z'>19:54</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: i don&#x27;t think the choice of container format and the choice of database layout need to be made at the same time
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078040' id='632373'>
<a class='timestamp' href='#632373'><time timestamp='2018-09-27T19:54:00Z'>19:54</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
promag: god why
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078040' id='632374'>
<a class='timestamp' href='#632374'><time timestamp='2018-09-27T19:54:00Z'>19:54</time></a>
&lt;<span class='nick nick-4'> jamesob</span>&gt;
wat
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078040' id='632375'>
<a class='timestamp' href='#632375'><time timestamp='2018-09-27T19:54:00Z'>19:54</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
promag: uh, lots?
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078100' id='632376'>
<a class='timestamp' href='#632376'><time timestamp='2018-09-27T19:55:00Z'>19:55</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Oracle?
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078100' id='632377'>
<a class='timestamp' href='#632377'><time timestamp='2018-09-27T19:55:00Z'>19:55</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
haha
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078100' id='632378'>
<a class='timestamp' href='#632378'><time timestamp='2018-09-27T19:55:00Z'>19:55</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
jonasschnelli: :-) &lt;3
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078100' id='632379'>
<a class='timestamp' href='#632379'><time timestamp='2018-09-27T19:55:00Z'>19:55</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
Oracle BDB?
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078100' id='632380'>
<a class='timestamp' href='#632380'><time timestamp='2018-09-27T19:55:00Z'>19:55</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
luke-jr: name one
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078100' id='632381'>
<a class='timestamp' href='#632381'><time timestamp='2018-09-27T19:55:00Z'>19:55</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I think however we proceed (sqlite, logdb, etc.), factoring out BDB in a nice layered way will be require (even helps if we keep BDB forever)
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078100' id='632382'>
<a class='timestamp' href='#632382'><time timestamp='2018-09-27T19:55:00Z'>19:55</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
I mean, if we&#x27;re using sqlite, the queries could be compatible with multiple backends, but expecting regular users to set up Postgres is crazy..
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078100' id='632383'>
<a class='timestamp' href='#632383'><time timestamp='2018-09-27T19:55:00Z'>19:55</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I hope someone picks that up
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078100' id='632384'>
<a class='timestamp' href='#632384'><time timestamp='2018-09-27T19:55:00Z'>19:55</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
promag: let&#x27;s do that outside this meeting
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078100' id='632385'>
<a class='timestamp' href='#632385'><time timestamp='2018-09-27T19:55:00Z'>19:55</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
this might work better in terms of concrete proposals rather than rounds of &quot;how about xyz?&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078100' id='632386'>
<a class='timestamp' href='#632386'><time timestamp='2018-09-27T19:55:00Z'>19:55</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Also BDB is a compile pitfall
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078100' id='632387'>
<a class='timestamp' href='#632387'><time timestamp='2018-09-27T19:55:00Z'>19:55</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
sure
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078160' id='632388'>
<a class='timestamp' href='#632388'><time timestamp='2018-09-27T19:56:00Z'>19:56</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
cfields: good point
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078160' id='632389'>
<a class='timestamp' href='#632389'><time timestamp='2018-09-27T19:56:00Z'>19:56</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
&#x27;what about mongodb?&#x27; :&#x27;)
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078160' id='632390'>
<a class='timestamp' href='#632390'><time timestamp='2018-09-27T19:56:00Z'>19:56</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
any other topics? 4 minutes left
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078160' id='632391'>
<a class='timestamp' href='#632391'><time timestamp='2018-09-27T19:56:00Z'>19:56</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
haha
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078220' id='632392'>
<a class='timestamp' href='#632392'><time timestamp='2018-09-27T19:57:00Z'>19:57</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
We should just store it on a blockchain.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078220' id='632393'>
<a class='timestamp' href='#632393'><time timestamp='2018-09-27T19:57:00Z'>19:57</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
provoostenator: it would be nice if it was possible to commit to it in such a way
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078220' id='632394'>
<a class='timestamp' href='#632394'><time timestamp='2018-09-27T19:57:00Z'>19:57</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
eg, if you could get a historical hash of the wallet state for commitments
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078220' id='632395'>
<a class='timestamp' href='#632395'><time timestamp='2018-09-27T19:57:00Z'>19:57</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
luke-jr: right, optional support for a large-scale DBM like postgres would be useful for really big users, but that&#x27;s really a long term goal I suppose, if at all
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078220' id='632396'>
<a class='timestamp' href='#632396'><time timestamp='2018-09-27T19:57:00Z'>19:57</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I&#x27;d prefer it if just ban anyone that ever directly uses the name of any database system from the channel.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078280' id='632397'>
<a class='timestamp' href='#632397'><time timestamp='2018-09-27T19:58:00Z'>19:58</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
but leveldb!
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078280' id='632398'>
<a class='timestamp' href='#632398'><time timestamp='2018-09-27T19:58:00Z'>19:58</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
except oracle, of course <b>*ducks*</b>
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078280' id='632399'>
<a class='timestamp' href='#632399'><time timestamp='2018-09-27T19:58:00Z'>19:58</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sipa: &quot;container&quot; is basically my point, if we&#x27;re just using it as a &quot;container&quot; a simple log would be a lot better.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078280' id='632400'>
<a class='timestamp' href='#632400'><time timestamp='2018-09-27T19:58:00Z'>19:58</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
heh
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078280' id='632401'>
<a class='timestamp' href='#632401'><time timestamp='2018-09-27T19:58:00Z'>19:58</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
#endmeering
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078280' id='632402'>
<a class='timestamp' href='#632402'><time timestamp='2018-09-27T19:58:00Z'>19:58</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
#endmeeting
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078280' id='632403'>
<a class='timestamp' href='#632403'><time timestamp='2018-09-27T19:58:00Z'>19:58</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Meeting ended Thu Sep 27 19:58:55 2018 UTC.  Information about MeetBot at <a href="http://wiki.debian.org/MeetBot" class="link" target="_blank">http://wiki.debian.org/MeetBot</a> . (v 0.1.4)
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078280' id='632404'>
<a class='timestamp' href='#632404'><time timestamp='2018-09-27T19:58:00Z'>19:58</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Minutes:        <a href="http://www.erisian.com.au/meetbot/bitcoin-core-dev/2018/bitcoin-core-dev.2018-09-27-19.00.html" class="link" target="_blank">http://www.erisian.com.au/meetbot/bitcoin-core-dev/2018/bitcoin-core-dev.2018-09-27-19.00.html</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078280' id='632405'>
<a class='timestamp' href='#632405'><time timestamp='2018-09-27T19:58:00Z'>19:58</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Minutes (text): <a href="http://www.erisian.com.au/meetbot/bitcoin-core-dev/2018/bitcoin-core-dev.2018-09-27-19.00.txt" class="link" target="_blank">http://www.erisian.com.au/meetbot/bitcoin-core-dev/2018/bitcoin-core-dev.2018-09-27-19.00.txt</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078280' id='632406'>
<a class='timestamp' href='#632406'><time timestamp='2018-09-27T19:58:00Z'>19:58</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Log:            <a href="http://www.erisian.com.au/meetbot/bitcoin-core-dev/2018/bitcoin-core-dev.2018-09-27-19.00.log.html" class="link" target="_blank">http://www.erisian.com.au/meetbot/bitcoin-core-dev/2018/bitcoin-core-dev.2018-09-27-19.00.log.html</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078280' id='632407'>
<a class='timestamp' href='#632407'><time timestamp='2018-09-27T19:58:00Z'>19:58</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: yes, but sqlite is essentially two layers; a well-tested safe updatable blob storing mechanism, and then a database layer on top
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078280' id='632408'>
<a class='timestamp' href='#632408'><time timestamp='2018-09-27T19:58:00Z'>19:58</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sipa: if you just dump transactions/keys into a container and then have to load them into memory and index them thats fine.. if you want to avoid having to do that, you can&#x27;t just use the storage as a container, it needs to be used as a database.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078340' id='632409'>
<a class='timestamp' href='#632409'><time timestamp='2018-09-27T19:59:00Z'>19:59</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
The append-only easyness got a bit lost since we added abandontransaction
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078340' id='632410'>
<a class='timestamp' href='#632410'><time timestamp='2018-09-27T19:59:00Z'>19:59</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
jonasschnelli: yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078340' id='632411'>
<a class='timestamp' href='#632411'><time timestamp='2018-09-27T19:59:00Z'>19:59</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Its still possible but comes at high disk-mem cost
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078340' id='632412'>
<a class='timestamp' href='#632412'><time timestamp='2018-09-27T19:59:00Z'>19:59</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
jonasschnelli: why?
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078340' id='632413'>
<a class='timestamp' href='#632413'><time timestamp='2018-09-27T19:59:00Z'>19:59</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
gmaxwell: how about aws s3? o/
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078340' id='632414'>
<a class='timestamp' href='#632414'><time timestamp='2018-09-27T19:59:00Z'>19:59</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
jonasschnelli: abandon transaction just logs the txn as abandoned.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078340' id='632415'>
<a class='timestamp' href='#632415'><time timestamp='2018-09-27T19:59:00Z'>19:59</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
^
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078340' id='632416'>
<a class='timestamp' href='#632416'><time timestamp='2018-09-27T19:59:00Z'>19:59</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: by switching to sqlite as a container and only using the low level format, you get pretty much what we need (apart from the extra code for the database stuff), but you also get the ability to later switch the db schema
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078340' id='632417'>
<a class='timestamp' href='#632417'><time timestamp='2018-09-27T19:59:00Z'>19:59</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
So we could start using sqllite as a container, but then later actually have a schema, thats a thing that could be done, but really its just two incompatible wallet formats.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078400' id='632418'>
<a class='timestamp' href='#632418'><time timestamp='2018-09-27T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-4'> jamesob</span>&gt;
ripping out bdb in favor of sqlite sounds fun... I might take a crack if no one gets around to it in the next few months. sounds like a good christmas break project :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078400' id='632419'>
<a class='timestamp' href='#632419'><time timestamp='2018-09-27T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
gmaxwell: and support log compaction?
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078400' id='632420'>
<a class='timestamp' href='#632420'><time timestamp='2018-09-27T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
gmaxwell: yeah.. but if you abandon a 10k bytes transaction you have 10k unused bytes (where only 32bytes change)
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078400' id='632421'>
<a class='timestamp' href='#632421'><time timestamp='2018-09-27T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
promag: why would that be needed?
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078400' id='632422'>
<a class='timestamp' href='#632422'><time timestamp='2018-09-27T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
log compactation is of course possible
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078400' id='632423'>
<a class='timestamp' href='#632423'><time timestamp='2018-09-27T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
jamesob: it&#x27;s not too hard to replace the database, I replaced berkeleydb with leveldb once in a day or so
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078400' id='632424'>
<a class='timestamp' href='#632424'><time timestamp='2018-09-27T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
jonasschnelli: yes so? no one cares about 10k extra data in their wallet, if they did any of these database based solutions would be unacceptable from the getgo as they&#x27;re all fairly space inefficent.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078400' id='632425'>
<a class='timestamp' href='#632425'><time timestamp='2018-09-27T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
jonasschnelli, nobody is using abandon transaction because of 10kb of disk space being used lol
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078400' id='632426'>
<a class='timestamp' href='#632426'><time timestamp='2018-09-27T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
jamesob: (that&#x27;s in a very naive way, though, proper schemas will be more work)
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078400' id='632427'>
<a class='timestamp' href='#632427'><time timestamp='2018-09-27T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i don&#x27;t see how abandomtransaction changed anything more than a transaction confirming does
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078460' id='632428'>
<a class='timestamp' href='#632428'><time timestamp='2018-09-27T20:01:00Z'>20:01</time></a>
&lt;<span class='nick nick-4'> jamesob</span>&gt;
wumpus: what&#x27;s the tricky part? providing a migration path?
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078460' id='632429'>
<a class='timestamp' href='#632429'><time timestamp='2018-09-27T20:01:00Z'>20:01</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it&#x27;s just an update &quot;this tx is now abandoned&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078460' id='632430'>
<a class='timestamp' href='#632430'><time timestamp='2018-09-27T20:01:00Z'>20:01</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
so, what does exit status &quot;1&quot; mean in the functional test suite, when shutting down a node?
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078460' id='632431'>
<a class='timestamp' href='#632431'><time timestamp='2018-09-27T20:01:00Z'>20:01</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
wumpus, jamesob: I think the hard part of the refactoring is to make two database work (which is ultimatively required for a conversion tool)
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078460' id='632432'>
<a class='timestamp' href='#632432'><time timestamp='2018-09-27T20:01:00Z'>20:01</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
why not? for systems that use bitcoin wallet in a couple of months it can be pretty large
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078460' id='632433'>
<a class='timestamp' href='#632433'><time timestamp='2018-09-27T20:01:00Z'>20:01</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jonasschnelli: i think that&#x27;s the easiest part
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078460' id='632434'>
<a class='timestamp' href='#632434'><time timestamp='2018-09-27T20:01:00Z'>20:01</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
what does -6 mean?
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078460' id='632435'>
<a class='timestamp' href='#632435'><time timestamp='2018-09-27T20:01:00Z'>20:01</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
jamesob: the &quot;don&#x27;t load everything into memory and use proper indexes&quot; part, and yes ,migration is also an issue
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078460' id='632436'>
<a class='timestamp' href='#632436'><time timestamp='2018-09-27T20:01:00Z'>20:01</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jonasschnelli: agreeing on a new database schema will be impossible, however :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078460' id='632437'>
<a class='timestamp' href='#632437'><time timestamp='2018-09-27T20:01:00Z'>20:01</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
instagibbs: 1 is EXIT_FAILURE
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078460' id='632438'>
<a class='timestamp' href='#632438'><time timestamp='2018-09-27T20:01:00Z'>20:01</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
phantomcircuit: where do you get -6?
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078460' id='632439'>
<a class='timestamp' href='#632439'><time timestamp='2018-09-27T20:01:00Z'>20:01</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
append a &quot;drop the tx&quot; command, and punch a hole where the original data was
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078460' id='632440'>
<a class='timestamp' href='#632440'><time timestamp='2018-09-27T20:01:00Z'>20:01</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
gmaxwell: Yes. I just meant the easyness (or the effectiviness) got a bit lost with state changes on transactions like abandontx
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078460' id='632441'>
<a class='timestamp' href='#632441'><time timestamp='2018-09-27T20:01:00Z'>20:01</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
jonasschnelli, that is for sure the principle issue, supporting two formats at the same time is difficult
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078520' id='632442'>
<a class='timestamp' href='#632442'><time timestamp='2018-09-27T20:02:00Z'>20:02</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jonasschnelli: i really don&#x27;t see where that comes from
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078520' id='632443'>
<a class='timestamp' href='#632443'><time timestamp='2018-09-27T20:02:00Z'>20:02</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
then it can be saved append-only in backups, and also frees the disk space (potentially)
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078520' id='632444'>
<a class='timestamp' href='#632444'><time timestamp='2018-09-27T20:02:00Z'>20:02</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jonasschnelli: a tx confirming is equally a state change
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078520' id='632445'>
<a class='timestamp' href='#632445'><time timestamp='2018-09-27T20:02:00Z'>20:02</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
achow101, ah ok, i shall hunt for this error
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078520' id='632446'>
<a class='timestamp' href='#632446'><time timestamp='2018-09-27T20:02:00Z'>20:02</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sipa: in any case, my point is that just swapping the backing store doesn&#x27;t seem to produce any real benefit, but it creates incompatiblity. I might be missing it, but it sounds like replacing a black box with a more trendy black box.  Actually making use of it to to keep stuff out of memory would potentially be a big gain, but that isn&#x27;t the discussion, and if it were done would create 
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078520' id='632447'>
<a class='timestamp' href='#632447'><time timestamp='2018-09-27T20:02:00Z'>20:02</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
effectively another new wallet format.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078520' id='632448'>
<a class='timestamp' href='#632448'><time timestamp='2018-09-27T20:02:00Z'>20:02</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
achow101, <a href="https://travis-ci.org/bitcoin/bitcoin/jobs/433891452" class="link" target="_blank">https://travis-ci.org/bitcoin/bitcoin/jobs/433891452</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078520' id='632449'>
<a class='timestamp' href='#632449'><time timestamp='2018-09-27T20:02:00Z'>20:02</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
test_framework.test_node.FailedToStartError: [node 0] bitcoind exited with status -6 during initialization
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078520' id='632450'>
<a class='timestamp' href='#632450'><time timestamp='2018-09-27T20:02:00Z'>20:02</time></a>
&lt;<span class='nick nick-4'> jamesob</span>&gt;
wumpus: as you say earlier, though, we can gradually build in better use of the database; I think it&#x27;d be nice just to shed the bdb dependency asap
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078520' id='632451'>
<a class='timestamp' href='#632451'><time timestamp='2018-09-27T20:02:00Z'>20:02</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
luke-jr: fallocate(FALLOC_FL_PUNCH_HOLE, ...)?
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078520' id='632452'>
<a class='timestamp' href='#632452'><time timestamp='2018-09-27T20:02:00Z'>20:02</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
have literally no idea what would cause that
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078580' id='632453'>
<a class='timestamp' href='#632453'><time timestamp='2018-09-27T20:03:00Z'>20:03</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: well the low-level part of sqlite looks like a well-tested implementation of what we&#x27;d want actually
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078580' id='632454'>
<a class='timestamp' href='#632454'><time timestamp='2018-09-27T20:03:00Z'>20:03</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
jonasschnelli: I&#x27;m still not seeing it, we always made changes to tx.. adding labels, or as sipa notes, confirming them.. spending their outputs, etc.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078580' id='632455'>
<a class='timestamp' href='#632455'><time timestamp='2018-09-27T20:03:00Z'>20:03</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: of course, needs investigation
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078580' id='632456'>
<a class='timestamp' href='#632456'><time timestamp='2018-09-27T20:03:00Z'>20:03</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
wumpus: I don&#x27;t have the exact APIs memorised, but probably something like that
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078580' id='632457'>
<a class='timestamp' href='#632457'><time timestamp='2018-09-27T20:03:00Z'>20:03</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
wumpus: so long as the loader ignores null bytes, it should be fairly trivial
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078640' id='632458'>
<a class='timestamp' href='#632458'><time timestamp='2018-09-27T20:04:00Z'>20:04</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
luke-jr: I remembered because it sounds so senselessly aggressive, it replaces a page in a file with a hole (all-zeros) page
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078640' id='632459'>
<a class='timestamp' href='#632459'><time timestamp='2018-09-27T20:04:00Z'>20:04</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
and frees the space used by it
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078640' id='632460'>
<a class='timestamp' href='#632460'><time timestamp='2018-09-27T20:04:00Z'>20:04</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
gmaxwell: I think confirmation is stateless from the wallet perspective (only in conjunction with the blockchain/header state)... but yes. Its non crucial.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078640' id='632461'>
<a class='timestamp' href='#632461'><time timestamp='2018-09-27T20:04:00Z'>20:04</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
aggressive in what sense?
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078700' id='632462'>
<a class='timestamp' href='#632462'><time timestamp='2018-09-27T20:05:00Z'>20:05</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
does windows do sparse files?
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078700' id='632463'>
<a class='timestamp' href='#632463'><time timestamp='2018-09-27T20:05:00Z'>20:05</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
luke-jr: I mean, as in violent
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078700' id='632464'>
<a class='timestamp' href='#632464'><time timestamp='2018-09-27T20:05:00Z'>20:05</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
gmaxwell: yes, but not sure if it has an easy punch-hole
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078700' id='632465'>
<a class='timestamp' href='#632465'><time timestamp='2018-09-27T20:05:00Z'>20:05</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jonasschnelli: ... no, we add the block hash that contains the tx to the CWalletTx record
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078760' id='632466'>
<a class='timestamp' href='#632466'><time timestamp='2018-09-27T20:06:00Z'>20:06</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
gmaxwell: modern versions of windows do
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078760' id='632467'>
<a class='timestamp' href='#632467'><time timestamp='2018-09-27T20:06:00Z'>20:06</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
phantomcircuit: I think maybe that&#x27;s a SIGABRT
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078760' id='632468'>
<a class='timestamp' href='#632468'><time timestamp='2018-09-27T20:06:00Z'>20:06</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
uh. yes. Right. There is then at least one update from mempool to in-block,... right (and eventually some reorg writes)
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078760' id='632469'>
<a class='timestamp' href='#632469'><time timestamp='2018-09-27T20:06:00Z'>20:06</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
we don&#x27;t support versions that don&#x27;t I think :p
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078880' id='632470'>
<a class='timestamp' href='#632470'><time timestamp='2018-09-27T20:08:00Z'>20:08</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
so does MacOS support sparse files?
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078880' id='632471'>
<a class='timestamp' href='#632471'><time timestamp='2018-09-27T20:08:00Z'>20:08</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
achow101: how would sigabrt show up that way? signals are normally very high exit codes
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078880' id='632472'>
<a class='timestamp' href='#632472'><time timestamp='2018-09-27T20:08:00Z'>20:08</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
promag: short answer to why not postgres; we don&#x27;t need a multi-user networked database, and we don&#x27;t need sql
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078880' id='632473'>
<a class='timestamp' href='#632473'><time timestamp='2018-09-27T20:08:00Z'>20:08</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
we need a file on disk
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078880' id='632474'>
<a class='timestamp' href='#632474'><time timestamp='2018-09-27T20:08:00Z'>20:08</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that&#x27;s safe to interact with and move around
<br>
</div>

<div class='talk op-msg' data-timestamp='1538078940' id='632475'>
<a class='timestamp' href='#632475'><time timestamp='2018-09-27T20:09:00Z'>20:09</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
requireing postgres would be really evil, though not as evil as requiring oracledb
<br>
</div>

<div class='talk op-msg' data-timestamp='1538079000' id='632476'>
<a class='timestamp' href='#632476'><time timestamp='2018-09-27T20:10:00Z'>20:10</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
besides being unnecessary it has lots of extra setup steps to get started in the first place
<br>
</div>

<div class='talk op-msg' data-timestamp='1538079000' id='632477'>
<a class='timestamp' href='#632477'><time timestamp='2018-09-27T20:10:00Z'>20:10</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
gmaxwell: exit codes are signed, so anything above 128 would be negative, right?
<br>
</div>

<div class='talk op-msg' data-timestamp='1538079000' id='632478'>
<a class='timestamp' href='#632478'><time timestamp='2018-09-27T20:10:00Z'>20:10</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
exit codes are a char?
<br>
</div>

<div class='talk op-msg' data-timestamp='1538079000' id='632479'>
<a class='timestamp' href='#632479'><time timestamp='2018-09-27T20:10:00Z'>20:10</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i think so yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1538079000' id='632480'>
<a class='timestamp' href='#632480'><time timestamp='2018-09-27T20:10:00Z'>20:10</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
on most UNIX, yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1538079000' id='632481'>
<a class='timestamp' href='#632481'><time timestamp='2018-09-27T20:10:00Z'>20:10</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
ha, if I knew that it was long since lost!
<br>
</div>

<div class='talk op-msg' data-timestamp='1538079060' id='632482'>
<a class='timestamp' href='#632482'><time timestamp='2018-09-27T20:11:00Z'>20:11</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
There are of course some other cryptocurrency projects dealing with lots of I/O. Anything useful we can use e.g. from libbitcoin, or LMDB that Monero uses?
<br>
</div>

<div class='talk op-msg' data-timestamp='1538079060' id='632483'>
<a class='timestamp' href='#632483'><time timestamp='2018-09-27T20:11:00Z'>20:11</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
okay well SIGABRT would mean he was hitting an assertion most likely.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538079060' id='632484'>
<a class='timestamp' href='#632484'><time timestamp='2018-09-27T20:11:00Z'>20:11</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
and negative values are generally only used when the process was killed with a signal
<br>
</div>

<div class='talk op-msg' data-timestamp='1538079060' id='632485'>
<a class='timestamp' href='#632485'><time timestamp='2018-09-27T20:11:00Z'>20:11</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
(not that the wallet is I/O heavy, so maybe that&#x27;s not the thing to worry about)
<br>
</div>

<div class='talk op-msg' data-timestamp='1538079060' id='632486'>
<a class='timestamp' href='#632486'><time timestamp='2018-09-27T20:11:00Z'>20:11</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
provoostenator: I have detected you mentioned a database. You are a bad person
<br>
</div>

<div class='talk op-msg' data-timestamp='1538079060' id='632487'>
<a class='timestamp' href='#632487'><time timestamp='2018-09-27T20:11:00Z'>20:11</time></a>
&lt;<span class='nick nick-4'> jamesob</span>&gt;
would it be an acceptable user experience for us to completely strip bdb out in some major release, provide an upgrade tool, and throw an error if users try to start bitcoin with bdb-format wallets?
<br>
</div>

<div class='talk op-msg' data-timestamp='1538079060' id='632488'>
<a class='timestamp' href='#632488'><time timestamp='2018-09-27T20:11:00Z'>20:11</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
jamesob: I had assumed that we would eventually do exactly that.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538079120' id='632489'>
<a class='timestamp' href='#632489'><time timestamp='2018-09-27T20:12:00Z'>20:12</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
provoostenator: monero doesn&#x27;t use LMDB for the wallet ,as far as I know, only for the block chain
<br>
</div>

<div class='talk op-msg' data-timestamp='1538079120' id='632490'>
<a class='timestamp' href='#632490'><time timestamp='2018-09-27T20:12:00Z'>20:12</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
provoostenator: we are not talking about a database. we&#x27;re talking about the wallet
<br>
</div>

<div class='talk op-msg' data-timestamp='1538079120' id='632491'>
<a class='timestamp' href='#632491'><time timestamp='2018-09-27T20:12:00Z'>20:12</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
gmaxwell: according to <a href="http://tldp.org/LDP/abs/html/exitcodes.html" class="link" target="_blank">http://tldp.org/LDP/abs/html/exitcodes.html</a>, the exit codes are 128 + n where n is the signal number
<br>
</div>

<div class='talk op-msg' data-timestamp='1538079120' id='632492'>
<a class='timestamp' href='#632492'><time timestamp='2018-09-27T20:12:00Z'>20:12</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
monero has some really simple format for the &quot;simplewallet&quot; IIRC
<br>
</div>

<div class='talk op-msg' data-timestamp='1538079120' id='632493'>
<a class='timestamp' href='#632493'><time timestamp='2018-09-27T20:12:00Z'>20:12</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
so I think that means -6 becomes just signal number 6, which is sigabrt
<br>
</div>

<div class='talk op-msg' data-timestamp='1538079120' id='632494'>
<a class='timestamp' href='#632494'><time timestamp='2018-09-27T20:12:00Z'>20:12</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
achow101: yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1538079120' id='632495'>
<a class='timestamp' href='#632495'><time timestamp='2018-09-27T20:12:00Z'>20:12</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
provoostenator: there are very different trade-offs relevant if we&#x27;re talking about the UTXO set etc, but that&#x27;s not the topic now
<br>
</div>

<div class='talk op-msg' data-timestamp='1538079120' id='632496'>
<a class='timestamp' href='#632496'><time timestamp='2018-09-27T20:12:00Z'>20:12</time></a>
&lt;<span class='nick nick-4'> jamesob</span>&gt;
gmaxwell: makes sense - didn&#x27;t know if anyone was intent on having some kind of runtime migration
<br>
</div>

<div class='talk op-msg' data-timestamp='1538079180' id='632497'>
<a class='timestamp' href='#632497'><time timestamp='2018-09-27T20:13:00Z'>20:13</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
sipa: I understand, just playing devil&#x27;s advocate
<br>
</div>

<div class='talk op-msg' data-timestamp='1538079180' id='632498'>
<a class='timestamp' href='#632498'><time timestamp='2018-09-27T20:13:00Z'>20:13</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
I just think it&#x27;s suboptimal to pull in a whole new dependency <u>_only_</u> for the wallet.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538079240' id='632499'>
<a class='timestamp' href='#632499'><time timestamp='2018-09-27T20:14:00Z'>20:14</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
So might as well think ahead a bit, unless we&#x27;re sure we never want to move away from leveldb for everything else.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538079240' id='632500'>
<a class='timestamp' href='#632500'><time timestamp='2018-09-27T20:14:00Z'>20:14</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
have you all considered rewritting the software in javascript? it has webscale. it&#x27;s very popular now, I hear nodecoin uses it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538079240' id='632501'>
<a class='timestamp' href='#632501'><time timestamp='2018-09-27T20:14:00Z'>20:14</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
provoostenator: the wallets needs are almost but not entirely unlike the needs of the system state.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538079300' id='632502'>
<a class='timestamp' href='#632502'><time timestamp='2018-09-27T20:15:00Z'>20:15</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
It&#x27;s basically an entirely different task, with very different requirements.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538079300' id='632503'>
<a class='timestamp' href='#632503'><time timestamp='2018-09-27T20:15:00Z'>20:15</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1538079300' id='632504'>
<a class='timestamp' href='#632504'><time timestamp='2018-09-27T20:15:00Z'>20:15</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
and sqlite would be a trivial dependency at least
<br>
</div>

<div class='talk op-msg' data-timestamp='1538079360' id='632505'>
<a class='timestamp' href='#632505'><time timestamp='2018-09-27T20:16:00Z'>20:16</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(as an aside, people have also tested lmdb and sqllite for what we use leveldb fore. lmdb seemed to be about the same or slightly worse, depending on hardware in use... and the report was on sqllite that no one had enough patience to let it finish syncing after the Nth day.. :) )
<br>
</div>

<div class='talk op-msg' data-timestamp='1538079420' id='632506'>
<a class='timestamp' href='#632506'><time timestamp='2018-09-27T20:17:00Z'>20:17</time></a>
&lt;<span class='nick nick-4'> jamesob</span>&gt;
leveldb strikes me as totally fine for the utxo set and uprooting it seems very dangerous (not sure if I&#x27;m attacking a strawman here)
<br>
</div>

<div class='talk op-msg' data-timestamp='1538079420' id='632507'>
<a class='timestamp' href='#632507'><time timestamp='2018-09-27T20:17:00Z'>20:17</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
s/fore/for/
<br>
</div>

<div class='talk op-msg' data-timestamp='1538079420' id='632508'>
<a class='timestamp' href='#632508'><time timestamp='2018-09-27T20:17:00Z'>20:17</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
&quot;SQLite does not use Git&quot; that&#x27;s a great start...
<br>
</div>

<div class='talk op-msg' data-timestamp='1538079420' id='632509'>
<a class='timestamp' href='#632509'><time timestamp='2018-09-27T20:17:00Z'>20:17</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
(but nothing a checksum can&#x27;t handle)
<br>
</div>

<div class='talk op-msg' data-timestamp='1538079420' id='632510'>
<a class='timestamp' href='#632510'><time timestamp='2018-09-27T20:17:00Z'>20:17</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
heh
<br>
</div>

<div class='talk op-msg' data-timestamp='1538079420' id='632511'>
<a class='timestamp' href='#632511'><time timestamp='2018-09-27T20:17:00Z'>20:17</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
what does that have to do with anything
<br>
</div>

<div class='talk op-msg' data-timestamp='1538079420' id='632512'>
<a class='timestamp' href='#632512'><time timestamp='2018-09-27T20:17:00Z'>20:17</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
SQLite isn&#x27;t consensus-critical.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538079480' id='632513'>
<a class='timestamp' href='#632513'><time timestamp='2018-09-27T20:18:00Z'>20:18</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
just pkgconfig sqlite3, done
<br>
</div>

<div class='talk op-msg' data-timestamp='1538079480' id='632514'>
<a class='timestamp' href='#632514'><time timestamp='2018-09-27T20:18:00Z'>20:18</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1538079480' id='632515'>
<a class='timestamp' href='#632515'><time timestamp='2018-09-27T20:18:00Z'>20:18</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
phantomcircuit was saying above that the safe mode of sqllite requires a seperate log file. :(
<br>
</div>

<div class='talk op-msg' data-timestamp='1538079480' id='632516'>
<a class='timestamp' href='#632516'><time timestamp='2018-09-27T20:18:00Z'>20:18</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
if so, thats a bummer.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538079480' id='632517'>
<a class='timestamp' href='#632517'><time timestamp='2018-09-27T20:18:00Z'>20:18</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
wait, huh, what happened to append-only wallet?
<br>
</div>

<div class='talk op-msg' data-timestamp='1538079480' id='632518'>
<a class='timestamp' href='#632518'><time timestamp='2018-09-27T20:18:00Z'>20:18</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
anyhow I don&#x27;t think we&#x27;re ever going to agree on this
<br>
</div>

<div class='talk op-msg' data-timestamp='1538079480' id='632519'>
<a class='timestamp' href='#632519'><time timestamp='2018-09-27T20:18:00Z'>20:18</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
gmaxwell: do we need the safe mode?
<br>
</div>

<div class='talk op-msg' data-timestamp='1538079540' id='632520'>
<a class='timestamp' href='#632520'><time timestamp='2018-09-27T20:19:00Z'>20:19</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
seems like a really, really bad idea to move from a design like that to some standard db env
<br>
</div>

<div class='talk op-msg' data-timestamp='1538079540' id='632521'>
<a class='timestamp' href='#632521'><time timestamp='2018-09-27T20:19:00Z'>20:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
BlueMatt: great idea, just discussing alternaives :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1538079540' id='632522'>
<a class='timestamp' href='#632522'><time timestamp='2018-09-27T20:19:00Z'>20:19</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
heh, we havent had enough fun with bdb?
<br>
</div>

<div class='talk op-msg' data-timestamp='1538079540' id='632523'>
<a class='timestamp' href='#632523'><time timestamp='2018-09-27T20:19:00Z'>20:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sqlite is nothing like bdb :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1538079540' id='632524'>
<a class='timestamp' href='#632524'><time timestamp='2018-09-27T20:19:00Z'>20:19</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
at least sqlite supports proper indexing and queries...
<br>
</div>

<div class='talk op-msg' data-timestamp='1538079540' id='632525'>
<a class='timestamp' href='#632525'><time timestamp='2018-09-27T20:19:00Z'>20:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
(but if what gmaxwell says is true, that makes it mch less attractive)
<br>
</div>

<div class='talk op-msg' data-timestamp='1538079540' id='632526'>
<a class='timestamp' href='#632526'><time timestamp='2018-09-27T20:19:00Z'>20:19</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
true, but still
<br>
</div>

<div class='talk op-msg' data-timestamp='1538079540' id='632527'>
<a class='timestamp' href='#632527'><time timestamp='2018-09-27T20:19:00Z'>20:19</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
which is great for finding transactions matching a certain criterion, for example
<br>
</div>

<div class='talk op-msg' data-timestamp='1538079600' id='632528'>
<a class='timestamp' href='#632528'><time timestamp='2018-09-27T20:20:00Z'>20:20</time></a>
&lt;<span class='nick nick-4'> jamesob</span>&gt;
wumpus: isn&#x27;t the sqlite logfile just some optional performance tweak?
<br>
</div>

<div class='talk op-msg' data-timestamp='1538079600' id='632529'>
<a class='timestamp' href='#632529'><time timestamp='2018-09-27T20:20:00Z'>20:20</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
wumpus: unless our way of using it is just throwing in a lot of binary blobs like we pretty much use bdb. :P
<br>
</div>

<div class='talk op-msg' data-timestamp='1538079600' id='632530'>
<a class='timestamp' href='#632530'><time timestamp='2018-09-27T20:20:00Z'>20:20</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
with keyvalue databses all that indexing has to be implemented manually
<br>
</div>

<div class='talk op-msg' data-timestamp='1538079600' id='632531'>
<a class='timestamp' href='#632531'><time timestamp='2018-09-27T20:20:00Z'>20:20</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
gmaxwell: as I said, I like how clightning uses it
<br>
</div>

<div class='talk op-msg' data-timestamp='1538079660' id='632532'>
<a class='timestamp' href='#632532'><time timestamp='2018-09-27T20:21:00Z'>20:21</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it&#x27;s really sensible and well-designed
<br>
</div>

<div class='talk op-msg' data-timestamp='1538079660' id='632533'>
<a class='timestamp' href='#632533'><time timestamp='2018-09-27T20:21:00Z'>20:21</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Problem solved then, a SQL lite binary blob inside bdb.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538079660' id='632534'>
<a class='timestamp' href='#632534'><time timestamp='2018-09-27T20:21:00Z'>20:21</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
somehow I really dislike how we ended up with a wallet embeded in our project and being unable to move away from it
<br>
</div>

<div class='talk op-msg' data-timestamp='1538079720' id='632535'>
<a class='timestamp' href='#632535'><time timestamp='2018-09-27T20:22:00Z'>20:22</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
wumpus: to be clear, I&#x27;m +1 on using it with a schema, -1 on using it in a blobby way,  neutral on blobby in general, but if we were going to stay blobby a simple thing that just writes out a change log for in memory state would probably be better (more reliable, simpler, etc.).
<br>
</div>

<div class='talk op-msg' data-timestamp='1538079720' id='632536'>
<a class='timestamp' href='#632536'><time timestamp='2018-09-27T20:22:00Z'>20:22</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I wish it was just some external thing, but that&#x27;s too much to wish for at this point
<br>
</div>

<div class='talk op-msg' data-timestamp='1538079720' id='632537'>
<a class='timestamp' href='#632537'><time timestamp='2018-09-27T20:22:00Z'>20:22</time></a>
&lt;<span class='nick nick-4'> jamesob</span>&gt;
wumpus: huge agree
<br>
</div>

<div class='talk op-msg' data-timestamp='1538079720' id='632538'>
<a class='timestamp' href='#632538'><time timestamp='2018-09-27T20:22:00Z'>20:22</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
everyone is always going to disagree how to move on from here, it&#x27;s like a really bad local maximum in evolution
<br>
</div>

<div class='talk op-msg' data-timestamp='1538079780' id='632539'>
<a class='timestamp' href='#632539'><time timestamp='2018-09-27T20:23:00Z'>20:23</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
if it were, I think bitcoin would be nearly dead... there would be very little reason for people to bother even trying to start a node.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538079780' id='632540'>
<a class='timestamp' href='#632540'><time timestamp='2018-09-27T20:23:00Z'>20:23</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Altcoins where node operations are totally distinct from using a wallet basically just don&#x27;t haver users using nodes.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538079780' id='632541'>
<a class='timestamp' href='#632541'><time timestamp='2018-09-27T20:23:00Z'>20:23</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
the node could still be shipped with some wallet
<br>
</div>

<div class='talk op-msg' data-timestamp='1538079840' id='632542'>
<a class='timestamp' href='#632542'><time timestamp='2018-09-27T20:24:00Z'>20:24</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
on that point, we do need to make it easier to pair nodes with other wallets
<br>
</div>

<div class='talk op-msg' data-timestamp='1538079840' id='632543'>
<a class='timestamp' href='#632543'><time timestamp='2018-09-27T20:24:00Z'>20:24</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
the hard part is the port forwarding stuff :/
<br>
</div>

<div class='talk op-msg' data-timestamp='1538079840' id='632544'>
<a class='timestamp' href='#632544'><time timestamp='2018-09-27T20:24:00Z'>20:24</time></a>
&lt;<span class='nick nick-4'> jamesob</span>&gt;
luke-jr: in your opinion is that an issue of making the rpc interface more granular/complete or something else?
<br>
</div>

<div class='talk op-msg' data-timestamp='1538079840' id='632545'>
<a class='timestamp' href='#632545'><time timestamp='2018-09-27T20:24:00Z'>20:24</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
or like monero simply ship with the most simple wallet possible, with no ambitions of anything more
<br>
</div>

<div class='talk op-msg' data-timestamp='1538079840' id='632546'>
<a class='timestamp' href='#632546'><time timestamp='2018-09-27T20:24:00Z'>20:24</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
luke-jr: because there is so much development surplus that it would be good to spend it on facilitating duplication of efforts that aren&#x27;t even being duplicated yet. :P
<br>
</div>

<div class='talk op-msg' data-timestamp='1538079900' id='632547'>
<a class='timestamp' href='#632547'><time timestamp='2018-09-27T20:25:00Z'>20:25</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
jamesob: RPC interface isn&#x27;t really used much for other wallets
<br>
</div>

<div class='talk op-msg' data-timestamp='1538079900' id='632548'>
<a class='timestamp' href='#632548'><time timestamp='2018-09-27T20:25:00Z'>20:25</time></a>
&lt;<span class='nick nick-4'> jamesob</span>&gt;
anecdotally, if someone just wants to transact in bitcoin they often just go to electrum/trezor/bread/etc.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538079900' id='632549'>
<a class='timestamp' href='#632549'><time timestamp='2018-09-27T20:25:00Z'>20:25</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
gmaxwell: people are using other wallets whether we facilitate it or not
<br>
</div>

<div class='talk op-msg' data-timestamp='1538079900' id='632550'>
<a class='timestamp' href='#632550'><time timestamp='2018-09-27T20:25:00Z'>20:25</time></a>
&lt;<span class='nick nick-4'> jamesob</span>&gt;
I think few people who <u>_just_</u> want a wallet go to the bother of syncing bitcoind
<br>
</div>

<div class='talk op-msg' data-timestamp='1538079960' id='632551'>
<a class='timestamp' href='#632551'><time timestamp='2018-09-27T20:26:00Z'>20:26</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
luke-jr: I don&#x27;t see how that connects to your comment.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538079960' id='632552'>
<a class='timestamp' href='#632552'><time timestamp='2018-09-27T20:26:00Z'>20:26</time></a>
&lt;<span class='nick nick-4'> jamesob</span>&gt;
though I am sympathetic to that reasoning... wish there was a way of quantifying it
<br>
</div>

<div class='talk op-msg' data-timestamp='1538079960' id='632553'>
<a class='timestamp' href='#632553'><time timestamp='2018-09-27T20:26:00Z'>20:26</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
jamesob: that&#x27;s probably because they don&#x27;t understand the privacy tradeoff
<br>
</div>

<div class='talk op-msg' data-timestamp='1538079960' id='632554'>
<a class='timestamp' href='#632554'><time timestamp='2018-09-27T20:26:00Z'>20:26</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
luke-jr: how someing using a hosted web wallet doesn&#x27;t really have anything to do with bitcoind.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538079960' id='632555'>
<a class='timestamp' href='#632555'><time timestamp='2018-09-27T20:26:00Z'>20:26</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
gmaxwell: I mean electrum/trezor/bread/etc
<br>
</div>

<div class='talk op-msg' data-timestamp='1538079960' id='632556'>
<a class='timestamp' href='#632556'><time timestamp='2018-09-27T20:26:00Z'>20:26</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
in any case, this comes back every time
<br>
</div>

<div class='talk op-msg' data-timestamp='1538080020' id='632557'>
<a class='timestamp' href='#632557'><time timestamp='2018-09-27T20:27:00Z'>20:27</time></a>
&lt;<span class='nick nick-4'> jamesob</span>&gt;
of course - but even a user like me doesn&#x27;t actually use the core wallet because it doesn&#x27;t, e.g., support hardware devices
<br>
</div>

<div class='talk op-msg' data-timestamp='1538080020' id='632558'>
<a class='timestamp' href='#632558'><time timestamp='2018-09-27T20:27:00Z'>20:27</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
the same discussions since 2012
<br>
</div>

<div class='talk op-msg' data-timestamp='1538080020' id='632559'>
<a class='timestamp' href='#632559'><time timestamp='2018-09-27T20:27:00Z'>20:27</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
ideally, they could just scan a QR code from Core, and have it use their own node
<br>
</div>

<div class='talk op-msg' data-timestamp='1538080020' id='632560'>
<a class='timestamp' href='#632560'><time timestamp='2018-09-27T20:27:00Z'>20:27</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
the trouble is getting past firewalls
<br>
</div>

<div class='talk op-msg' data-timestamp='1538080020' id='632561'>
<a class='timestamp' href='#632561'><time timestamp='2018-09-27T20:27:00Z'>20:27</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
luke-jr: and what does that hae to do with bitcoind?
<br>
</div>

<div class='talk op-msg' data-timestamp='1538080020' id='632562'>
<a class='timestamp' href='#632562'><time timestamp='2018-09-27T20:27:00Z'>20:27</time></a>
&lt;<span class='nick nick-4'> jamesob</span>&gt;
provoostenator: oops ^
<br>
</div>

<div class='talk op-msg' data-timestamp='1538080020' id='632563'>
<a class='timestamp' href='#632563'><time timestamp='2018-09-27T20:27:00Z'>20:27</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
It&#x27;s a lot more than that.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538080020' id='632564'>
<a class='timestamp' href='#632564'><time timestamp='2018-09-27T20:27:00Z'>20:27</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
even the &quot;let&#x27;s use a SQL database, oh why not postgres&quot; I&#x27;m fairly sure we alrady had back in 2012
<br>
</div>

<div class='talk op-msg' data-timestamp='1538080020' id='632565'>
<a class='timestamp' href='#632565'><time timestamp='2018-09-27T20:27:00Z'>20:27</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Trezor, for example, is effectively a hosted web wallet, though with signing using your hardware fob.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538080080' id='632566'>
<a class='timestamp' href='#632566'><time timestamp='2018-09-27T20:28:00Z'>20:28</time></a>
&lt;<span class='nick nick-4'> jamesob</span>&gt;
gmaxwell: right - which I hate but nonetheless use
<br>
</div>

<div class='talk op-msg' data-timestamp='1538080080' id='632567'>
<a class='timestamp' href='#632567'><time timestamp='2018-09-27T20:28:00Z'>20:28</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I am really frustrated by the fact that any time anyone mentions storing anything on disk there is a tiresome discussion of the trendy database things. Someone above joked mongo, but in the 2013 (IIRC) flavor of these rehashings, it would actually get suggested seriously.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538080140' id='632568'>
<a class='timestamp' href='#632568'><time timestamp='2018-09-27T20:29:00Z'>20:29</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
And because people are physically holding it, they&#x27;re less aware of that problem.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538080140' id='632569'>
<a class='timestamp' href='#632569'><time timestamp='2018-09-27T20:29:00Z'>20:29</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Everyone always saying &quot;don&#x27;t use web wallets, use a hardware wallet&quot;..
<br>
</div>

<div class='talk op-msg' data-timestamp='1538080140' id='632570'>
<a class='timestamp' href='#632570'><time timestamp='2018-09-27T20:29:00Z'>20:29</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
the other wallets aren&#x27;t better in every regard, that&#x27;s for sure, the core wallet is pretty good, I&#x27;m just tired of some kinds of discussions
<br>
</div>

<div class='talk op-msg' data-timestamp='1538080140' id='632571'>
<a class='timestamp' href='#632571'><time timestamp='2018-09-27T20:29:00Z'>20:29</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
jamesob: my point in responding to luke there, that no amount of changed to bitcoind is going to make the &#x27;trezor wallet&#x27; work with it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538080140' id='632572'>
<a class='timestamp' href='#632572'><time timestamp='2018-09-27T20:29:00Z'>20:29</time></a>
&lt;<span class='nick nick-10'> booyah</span>&gt;
hashtag nosql
<br>
</div>

<div class='talk op-msg' data-timestamp='1538080200' id='632573'>
<a class='timestamp' href='#632573'><time timestamp='2018-09-27T20:30:00Z'>20:30</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
gmaxwell: exactly... 
<br>
</div>

<div class='talk op-msg' data-timestamp='1538080200' id='632574'>
<a class='timestamp' href='#632574'><time timestamp='2018-09-27T20:30:00Z'>20:30</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
jamesob: at least there&#x27;s hope: <a href="https://gist.github.com/achow101/a9cf757d45df56753fae9d65db4d6e1d" class="link" target="_blank">https://gist.github.com/achow101/a9cf757d45df56753fae9d65db4d6e1d</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1538080200' id='632575'>
<a class='timestamp' href='#632575'><time timestamp='2018-09-27T20:30:00Z'>20:30</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(getting support for hardware wallets, OTOH, would enable people to not use the trezor wallet, and thats another matter)
<br>
</div>

<div class='talk op-msg' data-timestamp='1538080200' id='632576'>
<a class='timestamp' href='#632576'><time timestamp='2018-09-27T20:30:00Z'>20:30</time></a>
&lt;<span class='nick nick-10'> booyah</span>&gt;
gmaxwell: as for trezor, well with electrum it&#x27;s a signing engine, not webwallet at all
<br>
</div>

<div class='talk op-msg' data-timestamp='1538080200' id='632577'>
<a class='timestamp' href='#632577'><time timestamp='2018-09-27T20:30:00Z'>20:30</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
gmaxwell: Electrum already supports Trezors (altohugh to support Electrum, we need a lot more than just port forwarding)
<br>
</div>

<div class='talk op-msg' data-timestamp='1538080260' id='632578'>
<a class='timestamp' href='#632578'><time timestamp='2018-09-27T20:31:00Z'>20:31</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
booyah: right, and PSBT was a first step in getting thins so we could use devices like that.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538080260' id='632579'>
<a class='timestamp' href='#632579'><time timestamp='2018-09-27T20:31:00Z'>20:31</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I&#x27;m happy that we managed to depreacte accounts at least, to simplify things, that was also an issue running almost since satoshi left
<br>
</div>

<div class='talk op-msg' data-timestamp='1538080260' id='632580'>
<a class='timestamp' href='#632580'><time timestamp='2018-09-27T20:31:00Z'>20:31</time></a>
&lt;<span class='nick nick-10'> booyah</span>&gt;
gmaxwell: freaking finally ;)
<br>
</div>

<div class='talk op-msg' data-timestamp='1538080260' id='632581'>
<a class='timestamp' href='#632581'><time timestamp='2018-09-27T20:31:00Z'>20:31</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes hardware wallet support is something worth working on!
<br>
</div>

<div class='talk op-msg' data-timestamp='1538080260' id='632582'>
<a class='timestamp' href='#632582'><time timestamp='2018-09-27T20:31:00Z'>20:31</time></a>
&lt;<span class='nick nick-4'> jamesob</span>&gt;
gmaxwell provoostenator: I think even now you can do some bitcoind -&gt; electrum personal server -&gt; electrum -&gt; trezor thing, but I haven&#x27;t tried it because it sounds like a ton of work
<br>
</div>

<div class='talk op-msg' data-timestamp='1538080260' id='632583'>
<a class='timestamp' href='#632583'><time timestamp='2018-09-27T20:31:00Z'>20:31</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
that would be actually nice
<br>
</div>

<div class='talk op-msg' data-timestamp='1538080260' id='632584'>
<a class='timestamp' href='#632584'><time timestamp='2018-09-27T20:31:00Z'>20:31</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
in contrast to the eternal database discussion
<br>
</div>

<div class='talk op-msg' data-timestamp='1538080260' id='632585'>
<a class='timestamp' href='#632585'><time timestamp='2018-09-27T20:31:00Z'>20:31</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
booyah: unfortunately its hard going because the vendors of these things have not been helping, instead mostly just making their own custom stuff for time to market reasons.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538080260' id='632586'>
<a class='timestamp' href='#632586'><time timestamp='2018-09-27T20:31:00Z'>20:31</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
jamesob: its working and setup is easy
<br>
</div>

<div class='talk op-msg' data-timestamp='1538080260' id='632587'>
<a class='timestamp' href='#632587'><time timestamp='2018-09-27T20:31:00Z'>20:31</time></a>
&lt;<span class='nick nick-10'> booyah</span>&gt;
gmaxwell: satoshi labs was not helpful?
<br>
</div>

<div class='talk op-msg' data-timestamp='1538080260' id='632588'>
<a class='timestamp' href='#632588'><time timestamp='2018-09-27T20:31:00Z'>20:31</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
I&#x27;ve tried the electrum personal server approach. Works reasonably well. I&#x27;ve also tried the achow101 approach, which works great once you&#x27;re used to it, but too manual for now.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538080320' id='632589'>
<a class='timestamp' href='#632589'><time timestamp='2018-09-27T20:32:00Z'>20:32</time></a>
&lt;<span class='nick nick-4'> jamesob</span>&gt;
jonasschnelli: oh cool, I&#x27;ll try that then.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538080320' id='632590'>
<a class='timestamp' href='#632590'><time timestamp='2018-09-27T20:32:00Z'>20:32</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
<a href="https://github.com/romanz/electrs" class="link" target="_blank">https://github.com/romanz/electrs</a> looks really neat
<br>
</div>

<div class='talk op-msg' data-timestamp='1538080320' id='632591'>
<a class='timestamp' href='#632591'><time timestamp='2018-09-27T20:32:00Z'>20:32</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
jamesob: Bitbox has a native desktop app that can connect to EPS &lt;-&gt; Core
<br>
</div>

<div class='talk op-msg' data-timestamp='1538080320' id='632592'>
<a class='timestamp' href='#632592'><time timestamp='2018-09-27T20:32:00Z'>20:32</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
(haven&#x27;t tried it yet though)
<br>
</div>

<div class='talk op-msg' data-timestamp='1538080320' id='632593'>
<a class='timestamp' href='#632593'><time timestamp='2018-09-27T20:32:00Z'>20:32</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
jamesob: and it involves using electrum... which has plenty of its own downsides.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538080320' id='632594'>
<a class='timestamp' href='#632594'><time timestamp='2018-09-27T20:32:00Z'>20:32</time></a>
&lt;<span class='nick nick-4'> jamesob</span>&gt;
right
<br>
</div>

<div class='talk op-msg' data-timestamp='1538080380' id='632595'>
<a class='timestamp' href='#632595'><time timestamp='2018-09-27T20:33:00Z'>20:33</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I&#x27;m certantly not faulting the HW wallet vendors for focusing on time to market, it&#x27;s just what it is.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538080380' id='632596'>
<a class='timestamp' href='#632596'><time timestamp='2018-09-27T20:33:00Z'>20:33</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
I have some WIP stuff where I try to turn achow101&#x27;s HWI scripts into an RPC server, which could eventually be a universal &quot;sign something&quot; service, not necessarily restricted to hardware wallets.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538080380' id='632597'>
<a class='timestamp' href='#632597'><time timestamp='2018-09-27T20:33:00Z'>20:33</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
me neither, though they have been kind of shooting themselves in the foot by not thinking about a common standard, but maybe that&#x27;s something taht can only arise after experimentation... happy about PSBT
<br>
</div>

<div class='talk op-msg' data-timestamp='1538080440' id='632598'>
<a class='timestamp' href='#632598'><time timestamp='2018-09-27T20:34:00Z'>20:34</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
In that case all Core needs to do is make a bunch of RPC calls to a user configured URI (or a file socket maybe).
<br>
</div>

<div class='talk op-msg' data-timestamp='1538080440' id='632599'>
<a class='timestamp' href='#632599'><time timestamp='2018-09-27T20:34:00Z'>20:34</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
provoostenator: I&#x27;d suggested previously that we exeute a configured command and shove crap at it over stdin.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538080440' id='632600'>
<a class='timestamp' href='#632600'><time timestamp='2018-09-27T20:34:00Z'>20:34</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
And then it&#x27;s up to hardware wallet makers to listen for those calls.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538080500' id='632601'>
<a class='timestamp' href='#632601'><time timestamp='2018-09-27T20:35:00Z'>20:35</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(I&#x27;m less of a fan of URIs because of the security problems, e.g. when some local JS starts connecting to it...)
<br>
</div>

<div class='talk op-msg' data-timestamp='1538080500' id='632602'>
<a class='timestamp' href='#632602'><time timestamp='2018-09-27T20:35:00Z'>20:35</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
provoostenator: or PSBT and invoke a binary to sign it
<br>
</div>

<div class='talk op-msg' data-timestamp='1538080500' id='632603'>
<a class='timestamp' href='#632603'><time timestamp='2018-09-27T20:35:00Z'>20:35</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Executing commands sounds scary too
<br>
</div>

<div class='talk op-msg' data-timestamp='1538080500' id='632604'>
<a class='timestamp' href='#632604'><time timestamp='2018-09-27T20:35:00Z'>20:35</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
provoostenator: hows it scary? it&#x27;s configured explicitly.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538080500' id='632605'>
<a class='timestamp' href='#632605'><time timestamp='2018-09-27T20:35:00Z'>20:35</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
True, malware gonna malware, no matter how you do it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538080560' id='632606'>
<a class='timestamp' href='#632606'><time timestamp='2018-09-27T20:36:00Z'>20:36</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
provoostenator: the URI thing in general has a challenge that browsers can make connections to things that listen to the network. There have been a LOT of thefts in eth land, due to &#x27;wallets&#x27; that take commands from local sockets.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538080560' id='632607'>
<a class='timestamp' href='#632607'><time timestamp='2018-09-27T20:36:00Z'>20:36</time></a>
&lt;<span class='nick nick-10'> clarkmoody</span>&gt;
Apply UNIX philosophy to wallet: text is the universal interface
<br>
</div>

<div class='talk op-msg' data-timestamp='1538080560' id='632608'>
<a class='timestamp' href='#632608'><time timestamp='2018-09-27T20:36:00Z'>20:36</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
provoostenator: I&#x27;m not talking about malware running unconstrained on your host, I&#x27;m talking about just stuff in your webbrowser.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538080560' id='632609'>
<a class='timestamp' href='#632609'><time timestamp='2018-09-27T20:36:00Z'>20:36</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
in any case I think it makes sense to, in meetings, discuss the things each participant plans on working on, not wild far future plans
<br>
</div>

<div class='talk op-msg' data-timestamp='1538080560' id='632610'>
<a class='timestamp' href='#632610'><time timestamp='2018-09-27T20:36:00Z'>20:36</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
gmaxwell: c-lightning uses file sockets which at least prevent hat.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538080560' id='632611'>
<a class='timestamp' href='#632611'><time timestamp='2018-09-27T20:36:00Z'>20:36</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
provoostenator: on Windows? O.o
<br>
</div>

<div class='talk op-msg' data-timestamp='1538080560' id='632612'>
<a class='timestamp' href='#632612'><time timestamp='2018-09-27T20:36:00Z'>20:36</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
otherwise we end up discussing the same things from 2012 every time
<br>
</div>

<div class='talk op-msg' data-timestamp='1538080620' id='632613'>
<a class='timestamp' href='#632613'><time timestamp='2018-09-27T20:37:00Z'>20:37</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
luke-jr: there&#x27;s that...
<br>
</div>

<div class='talk op-msg' data-timestamp='1538080620' id='632614'>
<a class='timestamp' href='#632614'><time timestamp='2018-09-27T20:37:00Z'>20:37</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
provoostenator: okay, thats essentially the same security model as what I was talking about. didn&#x27;t know you could do that on windows.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538080680' id='632615'>
<a class='timestamp' href='#632615'><time timestamp='2018-09-27T20:38:00Z'>20:38</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
I wish browsers didn&#x27;t let websites talk to any URL in the universe, but it seems they do.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538080680' id='632616'>
<a class='timestamp' href='#632616'><time timestamp='2018-09-27T20:38:00Z'>20:38</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
wumpus: The way it seems to go though is.. &quot;I plan on working on something something something database&quot; &quot;Excuse me sir, but have you considered Monodb? It has webscale&quot;  then goto 2012;
<br>
</div>

<div class='talk op-msg' data-timestamp='1538080680' id='632617'>
<a class='timestamp' href='#632617'><time timestamp='2018-09-27T20:38:00Z'>20:38</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
maybe I just need to write a webpage to link to, with links to every other time we&#x27;ve gone through this loop.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538080680' id='632618'>
<a class='timestamp' href='#632618'><time timestamp='2018-09-27T20:38:00Z'>20:38</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
windows also has various local RPC methods
<br>
</div>

<div class='talk op-msg' data-timestamp='1538080740' id='632619'>
<a class='timestamp' href='#632619'><time timestamp='2018-09-27T20:39:00Z'>20:39</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
gmaxwell: agree, there seems to be a lack of memory in these kind of things, although it seems to slightly improve, back then we had the literal same discussion within weeks of each other with new people
<br>
</div>

<div class='talk op-msg' data-timestamp='1538080740' id='632620'>
<a class='timestamp' href='#632620'><time timestamp='2018-09-27T20:39:00Z'>20:39</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
gmaxwell: a nice use case for RPC calls would be a web based multisig service.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538080800' id='632621'>
<a class='timestamp' href='#632621'><time timestamp='2018-09-27T20:40:00Z'>20:40</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
provoostenator: in any case the model of &quot;you tell your wallet to talk to some other local program that has the task of signing things&quot; sounds great to me. It also could be used &quot;talk to some other local program that has the task of collecting other signatures for multisig&quot; easily.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538080800' id='632622'>
<a class='timestamp' href='#632622'><time timestamp='2018-09-27T20:40:00Z'>20:40</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
(I think recent windows 10 even has UNIX sockets)
<br>
</div>

<div class='talk op-msg' data-timestamp='1538080800' id='632623'>
<a class='timestamp' href='#632623'><time timestamp='2018-09-27T20:40:00Z'>20:40</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
provoostenator: I&#x27;d say jinx except this was all pointed out last time I was lobbying in that direction. ;)
<br>
</div>

<div class='talk op-msg' data-timestamp='1538080800' id='632624'>
<a class='timestamp' href='#632624'><time timestamp='2018-09-27T20:40:00Z'>20:40</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Yes, it just means those services have to ship an executable, but that trade-off might be worth it. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1538080860' id='632625'>
<a class='timestamp' href='#632625'><time timestamp='2018-09-27T20:41:00Z'>20:41</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
but in any case, if you want a <b>*secure*</b> RPC method, you will have to determine for every OS what is the best choice
<br>
</div>

<div class='talk op-msg' data-timestamp='1538080860' id='632626'>
<a class='timestamp' href='#632626'><time timestamp='2018-09-27T20:41:00Z'>20:41</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
provoostenator: &quot;Driver&quot;, it might well be the case that eventually we ship drivers for common cases ourselves.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538080860' id='632627'>
<a class='timestamp' href='#632627'><time timestamp='2018-09-27T20:41:00Z'>20:41</time></a>
&lt;<span class='nick nick-4'> jamesob</span>&gt;
gmaxwell: you know we&#x27;re trending upwards because no one <b>*seriously*</b> recommended mongodb this time around
<br>
</div>

<div class='talk op-msg' data-timestamp='1538080860' id='632628'>
<a class='timestamp' href='#632628'><time timestamp='2018-09-27T20:41:00Z'>20:41</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
just deciding for &#x27;UNIX sockets&#x27; is very UNIX-centric by default
<br>
</div>

<div class='talk op-msg' data-timestamp='1538080860' id='632629'>
<a class='timestamp' href='#632629'><time timestamp='2018-09-27T20:41:00Z'>20:41</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
jamesob: I think thats just because the world at large no longer thinks mongodb is the new hotness. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1538080920' id='632630'>
<a class='timestamp' href='#632630'><time timestamp='2018-09-27T20:42:00Z'>20:42</time></a>
&lt;<span class='nick nick-4'> jamesob</span>&gt;
heh, true
<br>
</div>

<div class='talk op-msg' data-timestamp='1538080920' id='632631'>
<a class='timestamp' href='#632631'><time timestamp='2018-09-27T20:42:00Z'>20:42</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
gmaxwell: especially if someone comes up with a proper USB protocol standard for talking with devices, so we wouldn&#x27;t have to merge device specific stuff?
<br>
</div>

<div class='talk op-msg' data-timestamp='1538080920' id='632632'>
<a class='timestamp' href='#632632'><time timestamp='2018-09-27T20:42:00Z'>20:42</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
wumpus: well thats why I liked stdio, as it does exist everwhere. :P 
<br>
</div>

<div class='talk op-msg' data-timestamp='1538080920' id='632633'>
<a class='timestamp' href='#632633'><time timestamp='2018-09-27T20:42:00Z'>20:42</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
mongodb suggestion was a reductio ad absurdum by me this time
<br>
</div>

<div class='talk op-msg' data-timestamp='1538080920' id='632634'>
<a class='timestamp' href='#632634'><time timestamp='2018-09-27T20:42:00Z'>20:42</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
provoostenator: right, but it&#x27;s not just the usb, there are UI considerations. e.g. many hardware wallets have some pin entry on the host computer or similar.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538080980' id='632635'>
<a class='timestamp' href='#632635'><time timestamp='2018-09-27T20:43:00Z'>20:43</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Basically the need to control enough of the host probably contributes to making your hardware wallet supported by creating a whole web wallet for it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538080980' id='632636'>
<a class='timestamp' href='#632636'><time timestamp='2018-09-27T20:43:00Z'>20:43</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
gmaxwell: yes, communicating through a pipe over stdin/stdout seems to be something every OS has
<br>
</div>

<div class='talk op-msg' data-timestamp='1538081040' id='632637'>
<a class='timestamp' href='#632637'><time timestamp='2018-09-27T20:44:00Z'>20:44</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
At least Ledger and Trezor these days do pin entry on device. So in that case it&#x27;s just a matter of waiting.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538081040' id='632638'>
<a class='timestamp' href='#632638'><time timestamp='2018-09-27T20:44:00Z'>20:44</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
(though on windows it&#x27;s different; stdio only exists for console applications, not for winmain ones)
<br>
</div>

<div class='talk op-msg' data-timestamp='1538081100' id='632639'>
<a class='timestamp' href='#632639'><time timestamp='2018-09-27T20:45:00Z'>20:45</time></a>
&lt;<span class='nick nick-4'> jamesob</span>&gt;
the Trezor One requires on-host software for pin entry
<br>
</div>

<div class='talk op-msg' data-timestamp='1538081100' id='632640'>
<a class='timestamp' href='#632640'><time timestamp='2018-09-27T20:45:00Z'>20:45</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it&#x27;s such a crazy labyrinth people have created, nothing is straightforward
<br>
</div>

<div class='talk op-msg' data-timestamp='1538081160' id='632641'>
<a class='timestamp' href='#632641'><time timestamp='2018-09-27T20:46:00Z'>20:46</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
jamesob: okay that one was the one that I was thinking about.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538081340' id='632642'>
<a class='timestamp' href='#632642'><time timestamp='2018-09-27T20:49:00Z'>20:49</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
There&#x27;s a bunch of ports that some browsers ban, but it&#x27;s quite narrow, and those are already used by the system (that&#x27;s why they&#x27;re blocked). I also don&#x27;t think there&#x27;s a standard.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538081580' id='632643'>
<a class='timestamp' href='#632643'><time timestamp='2018-09-27T20:53:00Z'>20:53</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
You can add authentication, maybe some tofu mechanism. But browers are extremely powerful these days.
<br>
</div>

<div class='talk op-msg' data-timestamp='1538081580' id='632644'>
<a class='timestamp' href='#632644'><time timestamp='2018-09-27T20:53:00Z'>20:53</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Even USB is no longer off limits: <a href="https://developers.google.com/web/updates/2016/03/access-usb-devices-on-the-web" class="link" target="_blank">https://developers.google.com/web/updates/2016/03/access-usb-devices-on-the-web</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1538081580' id='632645'>
<a class='timestamp' href='#632645'><time timestamp='2018-09-27T20:53:00Z'>20:53</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
gmaxwell, sqlite has a safe <b>*but slow*</b> single file mode
<br>
</div>

<div class='talk op-msg' data-timestamp='1538081640' id='632646'>
<a class='timestamp' href='#632646'><time timestamp='2018-09-27T20:54:00Z'>20:54</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
like really slow
<br>
</div>

<div class='talk op-msg' data-timestamp='1538081640' id='632647'>
<a class='timestamp' href='#632647'><time timestamp='2018-09-27T20:54:00Z'>20:54</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
cause it&#x27;s using fsync() multiple times per write
<br>
</div>

<div class='talk op-msg' data-timestamp='1538081700' id='632648'>
<a class='timestamp' href='#632648'><time timestamp='2018-09-27T20:55:00Z'>20:55</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
provoostenator: the whole HWI thing is intended for the &quot;execute a command and shove crap at it over stdin&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1538081940' id='632649'>
<a class='timestamp' href='#632649'><time timestamp='2018-09-27T20:59:00Z'>20:59</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
phantomcircuit: writes to the wallet are more or less rare, though, so it might still be ok
<br>
</div>

<div class='talk op-msg' data-timestamp='1538081940' id='632650'>
<a class='timestamp' href='#632650'><time timestamp='2018-09-27T20:59:00Z'>20:59</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
phantomcircuit: that sounds like it would probably be fine
<br>
</div>

<div class='talk op-msg' data-timestamp='1538082420' id='632651'>
<a class='timestamp' href='#632651'><time timestamp='2018-09-27T21:07:00Z'>21:07</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
by far and far, most queries will be reads
<br>
</div>

<div class='talk op-msg' data-timestamp='1538082480' id='632652'>
<a class='timestamp' href='#632652'><time timestamp='2018-09-27T21:08:00Z'>21:08</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
this is not like the utxo set where every read tends to imply a write/update
<br>
</div>

<div class='talk op-msg' data-timestamp='1538089020' id='632653'>
<a class='timestamp' href='#632653'><time timestamp='2018-09-27T22:57:00Z'>22:57</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
wumpus, reads are fast... for a sql database
<br>
</div>

<div class='talk op-msg' data-timestamp='1538089020' id='632654'>
<a class='timestamp' href='#632654'><time timestamp='2018-09-27T22:57:00Z'>22:57</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
but are significantly slower than the in memory stuff is now
<br>
</div>

<div class='talk op-msg' data-timestamp='1538089080' id='632655'>
<a class='timestamp' href='#632655'><time timestamp='2018-09-27T22:58:00Z'>22:58</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
gmaxwell, seems the issue is in the commit just before the poll() implementation actually
<br>
</div>

</div>
</section>

</body>
</html>
