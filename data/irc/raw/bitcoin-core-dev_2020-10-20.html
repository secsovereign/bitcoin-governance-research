<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2020-10-20
 — 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2020-10-20' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:17 UTC</pre>
<pre><a href="/bitcoin-core-dev/2020-09-20">&lt;</a><span class='header'>   October 2020   </span><a href="/bitcoin-core-dev/2020-11-20">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;             <a class="" href="/bitcoin-core-dev/2020-10-01">1</a>  <a class="" href="/bitcoin-core-dev/2020-10-02">2</a>  <a class="" href="/bitcoin-core-dev/2020-10-03">3</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2020-10-04">4</a>  <a class="" href="/bitcoin-core-dev/2020-10-05">5</a>  <a class="" href="/bitcoin-core-dev/2020-10-06">6</a>  <a class="" href="/bitcoin-core-dev/2020-10-07">7</a>  <a class="" href="/bitcoin-core-dev/2020-10-08">8</a>  <a class="" href="/bitcoin-core-dev/2020-10-09">9</a> <a class="" href="/bitcoin-core-dev/2020-10-10">10</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2020-10-11">11</a> <a class="" href="/bitcoin-core-dev/2020-10-12">12</a> <a class="" href="/bitcoin-core-dev/2020-10-13">13</a> <a class="" href="/bitcoin-core-dev/2020-10-14">14</a> <a class="" href="/bitcoin-core-dev/2020-10-15">15</a> <a class="" href="/bitcoin-core-dev/2020-10-16">16</a> <a class="" href="/bitcoin-core-dev/2020-10-17">17</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2020-10-18">18</a> <a class="" href="/bitcoin-core-dev/2020-10-19">19</a> <a class="current" href="/bitcoin-core-dev/2020-10-20">20</a> <a class="" href="/bitcoin-core-dev/2020-10-21">21</a> <a class="" href="/bitcoin-core-dev/2020-10-22">22</a> <a class="" href="/bitcoin-core-dev/2020-10-23">23</a> <a class="" href="/bitcoin-core-dev/2020-10-24">24</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2020-10-25">25</a> <a class="" href="/bitcoin-core-dev/2020-10-26">26</a> <a class="" href="/bitcoin-core-dev/2020-10-27">27</a> <a class="" href="/bitcoin-core-dev/2020-10-28">28</a> <a class="" href="/bitcoin-core-dev/2020-10-29">29</a> <a class="" href="/bitcoin-core-dev/2020-10-30">30</a> <a class="" href="/bitcoin-core-dev/2020-10-31">31</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1603153500' id='409001'>
<a class='timestamp' href='#409001'><time timestamp='2020-10-20T00:25:00Z'>00:25</time></a>
&lt;<span class='nick nick-16'> emzy</span>&gt;
sipa: done
<br>
</div>

<div class='talk op-msg' data-timestamp='1603153620' id='409002'>
<a class='timestamp' href='#409002'><time timestamp='2020-10-20T00:27:00Z'>00:27</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
dank
<br>
</div>

<div class='talk op-msg' data-timestamp='1603153680' id='409003'>
<a class='timestamp' href='#409003'><time timestamp='2020-10-20T00:28:00Z'>00:28</time></a>
&lt;<span class='nick nick-16'> emzy</span>&gt;
:)
<br>
</div>

<div class='talk op-msg' data-timestamp='1603154640' id='409004'>
<a class='timestamp' href='#409004'><time timestamp='2020-10-20T00:44:00Z'>00:44</time></a>
&lt;<span class='nick nick-6'> yanmaani</span>&gt;
Are there any benchmarks on Bitcoin Core&#x27;s RPC done?
<br>
</div>

<div class='talk op-msg' data-timestamp='1603154640' id='409005'>
<a class='timestamp' href='#409005'><time timestamp='2020-10-20T00:44:00Z'>00:44</time></a>
&lt;<span class='nick nick-6'> yanmaani</span>&gt;
If I make a blockchain explorer, will it pose a problem?
<br>
</div>

<div class='talk op-msg' data-timestamp='1603156560' id='409006'>
<a class='timestamp' href='#409006'><time timestamp='2020-10-20T01:16:00Z'>01:16</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
sipa: this doesn&#x27;t look exploitable?
<br>
</div>

<div class='talk op-msg' data-timestamp='1603156620' id='409007'>
<a class='timestamp' href='#409007'><time timestamp='2020-10-20T01:17:00Z'>01:17</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
yanmaani: no, you can&#x27;t rely on deprecated getrawtransaction behaviour - enable txindex instead
<br>
</div>

<div class='talk op-msg' data-timestamp='1603157160' id='409008'>
<a class='timestamp' href='#409008'><time timestamp='2020-10-20T01:26:00Z'>01:26</time></a>
&lt;<span class='nick nick-6'> yanmaani</span>&gt;
luke-jr: Thanks. Can I use that with a pruned blockchain? What RPC does that unlock?
<br>
</div>

<div class='talk op-msg' data-timestamp='1603157160' id='409009'>
<a class='timestamp' href='#409009'><time timestamp='2020-10-20T01:26:00Z'>01:26</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
no, you can&#x27;t..
<br>
</div>

<div class='talk op-msg' data-timestamp='1603157220' id='409010'>
<a class='timestamp' href='#409010'><time timestamp='2020-10-20T01:27:00Z'>01:27</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
I&#x27;m not sure the deprecated functionality would work either
<br>
</div>

<div class='talk op-msg' data-timestamp='1603157220' id='409011'>
<a class='timestamp' href='#409011'><time timestamp='2020-10-20T01:27:00Z'>01:27</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
getrawtransaction uses txindex
<br>
</div>

<div class='talk op-msg' data-timestamp='1603157220' id='409012'>
<a class='timestamp' href='#409012'><time timestamp='2020-10-20T01:27:00Z'>01:27</time></a>
&lt;<span class='nick nick-6'> yanmaani</span>&gt;
So there&#x27;s no alternative to getrawtransaction?
<br>
</div>

<div class='talk op-msg' data-timestamp='1603157280' id='409013'>
<a class='timestamp' href='#409013'><time timestamp='2020-10-20T01:28:00Z'>01:28</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
to do what?
<br>
</div>

<div class='talk op-msg' data-timestamp='1603157280' id='409014'>
<a class='timestamp' href='#409014'><time timestamp='2020-10-20T01:28:00Z'>01:28</time></a>
&lt;<span class='nick nick-6'> yanmaani</span>&gt;
Building a blockchain explorer
<br>
</div>

<div class='talk op-msg' data-timestamp='1603157340' id='409015'>
<a class='timestamp' href='#409015'><time timestamp='2020-10-20T01:29:00Z'>01:29</time></a>
&lt;<span class='nick nick-6'> yanmaani</span>&gt;
So you want functionality like: start at txid X, look at addresses A, B, C, look at their txns Y, Z, and so on. So if I want info re: txid X, then I can do getrawtransaction &lt;TXID&gt;
<br>
</div>

<div class='talk op-msg' data-timestamp='1603157340' id='409016'>
<a class='timestamp' href='#409016'><time timestamp='2020-10-20T01:29:00Z'>01:29</time></a>
&lt;<span class='nick nick-3'> aj</span>&gt;
a pruned blockchain explorer?
<br>
</div>

<div class='talk op-msg' data-timestamp='1603157340' id='409017'>
<a class='timestamp' href='#409017'><time timestamp='2020-10-20T01:29:00Z'>01:29</time></a>
&lt;<span class='nick nick-6'> yanmaani</span>&gt;
aj: Does pruning block me from doing txindex?
<br>
</div>

<div class='talk op-msg' data-timestamp='1603157400' id='409018'>
<a class='timestamp' href='#409018'><time timestamp='2020-10-20T01:30:00Z'>01:30</time></a>
&lt;<span class='nick nick-6'> yanmaani</span>&gt;
(no pun intended)
<br>
</div>

<div class='talk op-msg' data-timestamp='1603157460' id='409019'>
<a class='timestamp' href='#409019'><time timestamp='2020-10-20T01:31:00Z'>01:31</time></a>
&lt;<span class='nick nick-3'> aj</span>&gt;
pruning removes txs, so you can&#x27;t explore the whole blockchain? afaik txindex requires a full history but not sure
<br>
</div>

<div class='talk op-msg' data-timestamp='1603157520' id='409020'>
<a class='timestamp' href='#409020'><time timestamp='2020-10-20T01:32:00Z'>01:32</time></a>
&lt;<span class='nick nick-6'> yanmaani</span>&gt;
doesn&#x27;t txindex copy it over to DB?
<br>
</div>

<div class='talk op-msg' data-timestamp='1603157580' id='409021'>
<a class='timestamp' href='#409021'><time timestamp='2020-10-20T01:33:00Z'>01:33</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
yanmaani: an address should only ever have 1 transaction associated &lt;.&lt;
<br>
</div>

<div class='talk op-msg' data-timestamp='1603157580' id='409022'>
<a class='timestamp' href='#409022'><time timestamp='2020-10-20T01:33:00Z'>01:33</time></a>
&lt;<span class='nick nick-6'> yanmaani</span>&gt;
I meant that A had txn Y, and B had txn Z, of course :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1603157760' id='409023'>
<a class='timestamp' href='#409023'><time timestamp='2020-10-20T01:36:00Z'>01:36</time></a>
&lt;<span class='nick nick-3'> aj</span>&gt;
yanmaani: txindex is an index -- it helps you find stuff in the database. if you remove stuff from the database it can&#x27;t be found, no matter how good your index is
<br>
</div>

<div class='talk op-msg' data-timestamp='1603158660' id='409024'>
<a class='timestamp' href='#409024'><time timestamp='2020-10-20T01:51:00Z'>01:51</time></a>
&lt;<span class='nick nick-6'> yanmaani</span>&gt;
Is there anything like txindex for addresses?
<br>
</div>

<div class='talk op-msg' data-timestamp='1603158720' id='409025'>
<a class='timestamp' href='#409025'><time timestamp='2020-10-20T01:52:00Z'>01:52</time></a>
&lt;<span class='nick nick-3'> aj</span>&gt;
some PRs have been proposed for an address index
<br>
</div>

<div class='talk op-msg' data-timestamp='1603159500' id='409026'>
<a class='timestamp' href='#409026'><time timestamp='2020-10-20T02:05:00Z'>02:05</time></a>
&lt;<span class='nick nick-6'> yanmaani</span>&gt;
aj: anything merged?
<br>
</div>

<div class='talk op-msg' data-timestamp='1603159560' id='409027'>
<a class='timestamp' href='#409027'><time timestamp='2020-10-20T02:06:00Z'>02:06</time></a>
&lt;<span class='nick nick-3'> aj</span>&gt;
nah
<br>
</div>

<div class='talk op-msg' data-timestamp='1603159680' id='409028'>
<a class='timestamp' href='#409028'><time timestamp='2020-10-20T02:08:00Z'>02:08</time></a>
&lt;<span class='nick nick-6'> yanmaani</span>&gt;
hm, #14053 seems nice
<br>
</div>

<div class='talk op-msg' data-timestamp='1603159680' id='409029'>
<a class='timestamp' href='#409029'><time timestamp='2020-10-20T02:08:00Z'>02:08</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/14053" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/14053</a> | Add address-based index (attempt 4?) by marcinja · Pull Request #14053 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1603160820' id='409030'>
<a class='timestamp' href='#409030'><time timestamp='2020-10-20T02:27:00Z'>02:27</time></a>
&lt;<span class='nick nick-3'> aj</span>&gt;
hmm, has anyone gotten llvm memory sanitizer to work? seems to give a pretty quick failure in boost test setup for me
<br>
</div>

<div class='talk op-msg' data-timestamp='1603160880' id='409031'>
<a class='timestamp' href='#409031'><time timestamp='2020-10-20T02:28:00Z'>02:28</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
aj: Isn&#x27;t that the one that requires you to rebuild all your libraries too?
<br>
</div>

<div class='talk op-msg' data-timestamp='1603160940' id='409032'>
<a class='timestamp' href='#409032'><time timestamp='2020-10-20T02:29:00Z'>02:29</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yes it is
<br>
</div>

<div class='talk op-msg' data-timestamp='1603161120' id='409033'>
<a class='timestamp' href='#409033'><time timestamp='2020-10-20T02:32:00Z'>02:32</time></a>
&lt;<span class='nick nick-3'> aj</span>&gt;
ah, that would explain it then
<br>
</div>

<div class='talk op-msg' data-timestamp='1603161120' id='409034'>
<a class='timestamp' href='#409034'><time timestamp='2020-10-20T02:32:00Z'>02:32</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
generally you do (ubsan and asan) or (tsan) or (msan, including all libs)
<br>
</div>

<div class='talk op-msg' data-timestamp='1603161300' id='409035'>
<a class='timestamp' href='#409035'><time timestamp='2020-10-20T02:35:00Z'>02:35</time></a>
&lt;<span class='nick nick-6'> yanmaani</span>&gt;
How come gettxout works with all txids, but gettransaction only does wallet txns?
<br>
</div>

<div class='talk op-msg' data-timestamp='1603161840' id='409036'>
<a class='timestamp' href='#409036'><time timestamp='2020-10-20T02:44:00Z'>02:44</time></a>
&lt;<span class='nick nick-6'> yanmaani</span>&gt;
Is there any PR/patch to add a TXO index?
<br>
</div>

<div class='talk op-msg' data-timestamp='1603162440' id='409037'>
<a class='timestamp' href='#409037'><time timestamp='2020-10-20T02:54:00Z'>02:54</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
yanmaani: gettxout is a node rpc and accesses the txout set. it is limited to utxos. gettransaction is a wallet rpc, it accesses the wallet. it is limited to things in the wallet. you can use getrawtransaction to get arbitrary transactions, and enable txindex to get any arbitrary transaction
<br>
</div>

<div class='talk op-msg' data-timestamp='1603162440' id='409038'>
<a class='timestamp' href='#409038'><time timestamp='2020-10-20T02:54:00Z'>02:54</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
note that getrawtransaction is also a node rpc and will not retrieve wallet transactions if they are not unspent and txindex isn&#x27;t enabled
<br>
</div>

<div class='talk op-msg' data-timestamp='1603162860' id='409039'>
<a class='timestamp' href='#409039'><time timestamp='2020-10-20T03:01:00Z'>03:01</time></a>
&lt;<span class='nick nick-6'> yanmaani</span>&gt;
achow101: getrawtransaction, that&#x27;s the one thank you so much!
<br>
</div>

<div class='talk op-msg' data-timestamp='1603164780' id='409040'>
<a class='timestamp' href='#409040'><time timestamp='2020-10-20T03:33:00Z'>03:33</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] S3RK opened pull request #20191: wallet, refactor: make DescriptorScriptPubKeyMan agnostic of internal flag (master...remove_m_internal) <a href="https://github.com/bitcoin/bitcoin/pull/20191" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20191</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1603177020' id='409041'>
<a class='timestamp' href='#409041'><time timestamp='2020-10-20T06:57:00Z'>06:57</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] yash2121ja opened pull request #20192: README.md (master...master) <a href="https://github.com/bitcoin/bitcoin/pull/20192" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20192</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1603177080' id='409042'>
<a class='timestamp' href='#409042'><time timestamp='2020-10-20T06:58:00Z'>06:58</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] fanquake closed pull request #20192: README.md (master...master) <a href="https://github.com/bitcoin/bitcoin/pull/20192" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20192</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1603177380' id='409043'>
<a class='timestamp' href='#409043'><time timestamp='2020-10-20T07:03:00Z'>07:03</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jonatack opened pull request #20193: p2p: improve onion detection in AttemptToEvictConnection  (master...evict-inbound-onions) <a href="https://github.com/bitcoin/bitcoin/pull/20193" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20193</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1603179780' id='409044'>
<a class='timestamp' href='#409044'><time timestamp='2020-10-20T07:43:00Z'>07:43</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] fanquake closed pull request #20190: net: Hardcoded seeds update for 0.20.1 (master...seeds) <a href="https://github.com/bitcoin/bitcoin/pull/20190" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20190</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1603182660' id='409045'>
<a class='timestamp' href='#409045'><time timestamp='2020-10-20T08:31:00Z'>08:31</time></a>
&lt;<span class='nick nick-10'> elichai2</span>&gt;
Anyone else is getting a bunch of `-Wsuggest-override` warnings in the qt system headers?
<br>
</div>

<div class='talk op-msg' data-timestamp='1603182720' id='409046'>
<a class='timestamp' href='#409046'><time timestamp='2020-10-20T08:32:00Z'>08:32</time></a>
&lt;<span class='nick nick-10'> elichai2</span>&gt;
It&#x27;s all from the expansion of the `Q_OBJECT` macro
<br>
</div>

<div class='talk op-msg' data-timestamp='1603184220' id='409047'>
<a class='timestamp' href='#409047'><time timestamp='2020-10-20T08:57:00Z'>08:57</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
elichai2: yes, I think I got those
<br>
</div>

<div class='talk op-msg' data-timestamp='1603184340' id='409048'>
<a class='timestamp' href='#409048'><time timestamp='2020-10-20T08:59:00Z'>08:59</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
elichai2: &quot;./configure --enable-suppress-external-warnings&quot; should silence them
<br>
</div>

<div class='talk op-msg' data-timestamp='1603185840' id='409049'>
<a class='timestamp' href='#409049'><time timestamp='2020-10-20T09:24:00Z'>09:24</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
How to make a functional test that is skipped by default in CI, but make it easy to run it manually?
<br>
</div>

<div class='talk op-msg' data-timestamp='1603186500' id='409050'>
<a class='timestamp' href='#409050'><time timestamp='2020-10-20T09:35:00Z'>09:35</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
vasild: look at EXTENDED_SCRIPTS in test/functional/test_runner.py
<br>
</div>

<div class='talk op-msg' data-timestamp='1603186560' id='409051'>
<a class='timestamp' href='#409051'><time timestamp='2020-10-20T09:36:00Z'>09:36</time></a>
&lt;<span class='nick nick-3'> aj</span>&gt;
jnewbery: hey, is p2p meeting in 5h30m ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1603186560' id='409052'>
<a class='timestamp' href='#409052'><time timestamp='2020-10-20T09:36:00Z'>09:36</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
aj: that&#x27;s what I&#x27;ve got
<br>
</div>

<div class='talk op-msg' data-timestamp='1603186620' id='409053'>
<a class='timestamp' href='#409053'><time timestamp='2020-10-20T09:37:00Z'>09:37</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
Yes, it&#x27;s in 5h30min
<br>
</div>

<div class='talk op-msg' data-timestamp='1603186620' id='409054'>
<a class='timestamp' href='#409054'><time timestamp='2020-10-20T09:37:00Z'>09:37</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
Are you out of daylight savings? It might make sense to shift the time for summer/winter
<br>
</div>

<div class='talk op-msg' data-timestamp='1603186620' id='409055'>
<a class='timestamp' href='#409055'><time timestamp='2020-10-20T09:37:00Z'>09:37</time></a>
&lt;<span class='nick nick-3'> aj</span>&gt;
sydney socratic&#x27;s got daylight savings so suddenly i don&#x27;t know what time anything is
<br>
</div>

<div class='talk op-msg' data-timestamp='1603186680' id='409056'>
<a class='timestamp' href='#409056'><time timestamp='2020-10-20T09:38:00Z'>09:38</time></a>
&lt;<span class='nick nick-3'> aj</span>&gt;
jnewbery: no daylight savings here, just +1000 UTC all year
<br>
</div>

<div class='talk op-msg' data-timestamp='1603186680' id='409057'>
<a class='timestamp' href='#409057'><time timestamp='2020-10-20T09:38:00Z'>09:38</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
the east coast is a mess of daylight savings
<br>
</div>

<div class='talk op-msg' data-timestamp='1603186680' id='409058'>
<a class='timestamp' href='#409058'><time timestamp='2020-10-20T09:38:00Z'>09:38</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
jnewbery: ci/test/00_setup_env_native_qt5.sh:13:export TEST_RUNNER_EXTRA=&quot;--previous-releases --coverage --extended --exclude feature_dbcrash&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1603186740' id='409059'>
<a class='timestamp' href='#409059'><time timestamp='2020-10-20T09:39:00Z'>09:39</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
extended tests may still be run by this CI?
<br>
</div>

<div class='talk op-msg' data-timestamp='1603186800' id='409060'>
<a class='timestamp' href='#409060'><time timestamp='2020-10-20T09:40:00Z'>09:40</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
aj: so I guess you&#x27;re happy to keep it at the same time. It&#x27;ll be an hour earlier for northern hemisphere folks, which might be upsetting for those on the US west coast
<br>
</div>

<div class='talk op-msg' data-timestamp='1603186800' id='409061'>
<a class='timestamp' href='#409061'><time timestamp='2020-10-20T09:40:00Z'>09:40</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
vasild: ah, you&#x27;d also need to add the name of your test to the end of that config line
<br>
</div>

<div class='talk op-msg' data-timestamp='1603186800' id='409062'>
<a class='timestamp' href='#409062'><time timestamp='2020-10-20T09:40:00Z'>09:40</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
What I tried is: I added a custom option to the script &quot;--forcerun&quot; and if it is not set then I raise SkipTest()
<br>
</div>

<div class='talk op-msg' data-timestamp='1603186860' id='409063'>
<a class='timestamp' href='#409063'><time timestamp='2020-10-20T09:41:00Z'>09:41</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
but the test is still run by travis, and I have no clue why. It must have detected the option and run it with that option set...
<br>
</div>

<div class='talk op-msg' data-timestamp='1603186920' id='409064'>
<a class='timestamp' href='#409064'><time timestamp='2020-10-20T09:42:00Z'>09:42</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
I tried running &quot;test_runner.py --ci&quot; locally, and the test is skipped as expected
<br>
</div>

<div class='talk op-msg' data-timestamp='1603186980' id='409065'>
<a class='timestamp' href='#409065'><time timestamp='2020-10-20T09:43:00Z'>09:43</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
jnewbery: that would be quite ugly, no?
<br>
</div>

<div class='talk op-msg' data-timestamp='1603187160' id='409066'>
<a class='timestamp' href='#409066'><time timestamp='2020-10-20T09:46:00Z'>09:46</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] fanquake opened pull request #20195: build: fix mutex detection when building bdb on macOS (master...bdb_xcode12_implicit_function_decleration) <a href="https://github.com/bitcoin/bitcoin/pull/20195" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20195</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1603187520' id='409067'>
<a class='timestamp' href='#409067'><time timestamp='2020-10-20T09:52:00Z'>09:52</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
vasild: People can live with ugly travis config I think :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1603187580' id='409068'>
<a class='timestamp' href='#409068'><time timestamp='2020-10-20T09:53:00Z'>09:53</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
jnewbery: ok, maybe ugly was not the right word, but it is also fragile because it means that the test will be run whenever &quot;test_runner.py --extended&quot; is executed
<br>
</div>

<div class='talk op-msg' data-timestamp='1603187640' id='409069'>
<a class='timestamp' href='#409069'><time timestamp='2020-10-20T09:54:00Z'>09:54</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
and it will fail
<br>
</div>

<div class='talk op-msg' data-timestamp='1603187640' id='409070'>
<a class='timestamp' href='#409070'><time timestamp='2020-10-20T09:54:00Z'>09:54</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
sometimes I run &quot;test_runner.py --extended&quot; locally
<br>
</div>

<div class='talk op-msg' data-timestamp='1603187640' id='409071'>
<a class='timestamp' href='#409071'><time timestamp='2020-10-20T09:54:00Z'>09:54</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
I guess other people also do and I do not want to impose &quot;always run with --extended --exclude foo&quot; otherwise you will get failure
<br>
</div>

<div class='talk op-msg' data-timestamp='1603188120' id='409072'>
<a class='timestamp' href='#409072'><time timestamp='2020-10-20T10:02:00Z'>10:02</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] vasild opened pull request #20196: net: fix GetListenPort() to derive the proper port (master...fix_GetListenPort) <a href="https://github.com/bitcoin/bitcoin/pull/20196" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20196</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1603188300' id='409073'>
<a class='timestamp' href='#409073'><time timestamp='2020-10-20T10:05:00Z'>10:05</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
jnewbery: I renamed the option from --forcerun to --ihave1111 and opened a PR, lets see if travis will still execute the code below this line: <a href="https://github.com/bitcoin/bitcoin/pull/20196/files#diff-6b91c5b0a9bd8c4d007ea9548808ae7ba98beb22ff236324d238815c68b3b8b1R62" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20196/files#diff-6b91c5b0a9bd8c4d007ea9548808ae7ba98beb22ff236324d238815c68b3b8b1R62</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1603195740' id='409074'>
<a class='timestamp' href='#409074'><time timestamp='2020-10-20T12:09:00Z'>12:09</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
jnewbery: I figured it out - had to move the check earlier - from run_test() to setup_nodes()
<br>
</div>

<div class='talk op-msg' data-timestamp='1603198260' id='409075'>
<a class='timestamp' href='#409075'><time timestamp='2020-10-20T12:51:00Z'>12:51</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jonatack closed pull request #20193: p2p: practicalswift would like review of 19972 (master...evict-inbound-onions) <a href="https://github.com/bitcoin/bitcoin/pull/20193" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20193</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1603201380' id='409076'>
<a class='timestamp' href='#409076'><time timestamp='2020-10-20T13:43:00Z'>13:43</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
vasild: good!
<br>
</div>

<div class='talk op-msg' data-timestamp='1603201560' id='409077'>
<a class='timestamp' href='#409077'><time timestamp='2020-10-20T13:46:00Z'>13:46</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jonatack opened pull request #20197: p2p: improve onion detection in AttemptToEvictConnection() (master...AttemptToEvictConnection-identify-onions-with-m_inbound_onion) <a href="https://github.com/bitcoin/bitcoin/pull/20197" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20197</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1603202340' id='409078'>
<a class='timestamp' href='#409078'><time timestamp='2020-10-20T13:59:00Z'>13:59</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
MarcoFalke: I saw that you have merged some PRs in the GUI repository. Are you going to open a PR on the main repository? 
<br>
</div>

<div class='talk op-msg' data-timestamp='1603203840' id='409079'>
<a class='timestamp' href='#409079'><time timestamp='2020-10-20T14:24:00Z'>14:24</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
with the settings.json file: is there a way to disable loading a specific wallet that has been stored in settings.json?
<br>
</div>

<div class='talk op-msg' data-timestamp='1603204680' id='409080'>
<a class='timestamp' href='#409080'><time timestamp='2020-10-20T14:38:00Z'>14:38</time></a>
&lt;<span class='nick nick-12'> ryanofsky</span>&gt;
jonasschnelli, if you run with -nowallet on command line it resets the list and takes precedence, and you can add other wallets after like -nowallet -wallet=mywallet
<br>
</div>

<div class='talk op-msg' data-timestamp='1603204800' id='409081'>
<a class='timestamp' href='#409081'><time timestamp='2020-10-20T14:40:00Z'>14:40</time></a>
&lt;<span class='nick nick-12'> ryanofsky</span>&gt;
also wallet is removed from settings if you unload it in the gui or call an rpc with load_on_startup=False
<br>
</div>

<div class='talk op-msg' data-timestamp='1603204860' id='409082'>
<a class='timestamp' href='#409082'><time timestamp='2020-10-20T14:41:00Z'>14:41</time></a>
&lt;<span class='nick nick-12'> ryanofsky</span>&gt;
and #20186 will avoid creating the wallet, if you are trying to avoid creating, not loading
<br>
</div>

<div class='talk op-msg' data-timestamp='1603204860' id='409083'>
<a class='timestamp' href='#409083'><time timestamp='2020-10-20T14:41:00Z'>14:41</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/20186" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/20186</a> | wallet: Make -wallet setting not create wallets by ryanofsky · Pull Request #20186 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1603204860' id='409084'>
<a class='timestamp' href='#409084'><time timestamp='2020-10-20T14:41:00Z'>14:41</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
thanks ryanofsky 
<br>
</div>

<div class='talk op-msg' data-timestamp='1603204980' id='409085'>
<a class='timestamp' href='#409085'><time timestamp='2020-10-20T14:43:00Z'>14:43</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
ryanofsky: settings.json is only in conjunction with the GUI, right? RPC loadwallet will not make create that file?
<br>
</div>

<div class='talk op-msg' data-timestamp='1603204980' id='409086'>
<a class='timestamp' href='#409086'><time timestamp='2020-10-20T14:43:00Z'>14:43</time></a>
&lt;<span class='nick nick-12'> ryanofsky</span>&gt;
no problem. also you can run with -nosettings to ignore the whole file
<br>
</div>

<div class='talk op-msg' data-timestamp='1603205040' id='409087'>
<a class='timestamp' href='#409087'><time timestamp='2020-10-20T14:44:00Z'>14:44</time></a>
&lt;<span class='nick nick-12'> ryanofsky</span>&gt;
yes by default loadwallet doesn&#x27;t modify settings unless you pass load_on_startup=true or load_on_startup=false
<br>
</div>

<div class='talk op-msg' data-timestamp='1603205100' id='409088'>
<a class='timestamp' href='#409088'><time timestamp='2020-10-20T14:45:00Z'>14:45</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I guess the issue if someone creates a wallet with --wallet=mywallet in bitcoin.conf or via cli parameter, unloaded it and loads it again in the GUI (or with load_on_startup), restarts bitcoin with the same parameter will lead to a halt due to a duplicate -wallet parameter?
<br>
</div>

<div class='talk op-msg' data-timestamp='1603205100' id='409089'>
<a class='timestamp' href='#409089'><time timestamp='2020-10-20T14:45:00Z'>14:45</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
(the issue can be overlooked / edge-case)
<br>
</div>

<div class='talk op-msg' data-timestamp='1603205280' id='409090'>
<a class='timestamp' href='#409090'><time timestamp='2020-10-20T14:48:00Z'>14:48</time></a>
&lt;<span class='nick nick-12'> ryanofsky</span>&gt;
i think ideally duplicate wallet error would not be triggered by that, but it is an edge case
<br>
</div>

<div class='talk op-msg' data-timestamp='1603205400' id='409091'>
<a class='timestamp' href='#409091'><time timestamp='2020-10-20T14:50:00Z'>14:50</time></a>
&lt;<span class='nick nick-12'> ryanofsky</span>&gt;
there maybe be similar cases worth fixing. like if a bitcoin.conf specifies a wallet to load, and you unload it and reload it in the gui, that should not trigger any duplicate wallet error
<br>
</div>

<div class='talk op-msg' data-timestamp='1603205520' id='409092'>
<a class='timestamp' href='#409092'><time timestamp='2020-10-20T14:52:00Z'>14:52</time></a>
&lt;<span class='nick nick-12'> ryanofsky</span>&gt;
but in general the idea is for the gui to simply reload the same wallets you loaded last time, so you can stop using bitcoin.conf
<br>
</div>

<div class='talk op-msg' data-timestamp='1603205700' id='409093'>
<a class='timestamp' href='#409093'><time timestamp='2020-10-20T14:55:00Z'>14:55</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
ryanofsky: the reason why I look at that issue is that probably some users have specified --wallet(s) in bitcoin.conf (or CLI parameter) and will eventually run into the load/unload issue
<br>
</div>

<div class='talk op-msg' data-timestamp='1603205760' id='409094'>
<a class='timestamp' href='#409094'><time timestamp='2020-10-20T14:56:00Z'>14:56</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
They are potentially puzzled why the &quot;duplicate error&quot; pops up and core refuses to start
<br>
</div>

<div class='talk op-msg' data-timestamp='1603205760' id='409095'>
<a class='timestamp' href='#409095'><time timestamp='2020-10-20T14:56:00Z'>14:56</time></a>
&lt;<span class='nick nick-12'> ryanofsky</span>&gt;
right, i&#x27;m agreeing that should be fixed
<br>
</div>

<div class='talk op-msg' data-timestamp='1603205760' id='409096'>
<a class='timestamp' href='#409096'><time timestamp='2020-10-20T14:56:00Z'>14:56</time></a>
&lt;<span class='nick nick-14'> jonatack</span>&gt;
ryanofsky: i wonder if adding mention of -nowallet to -wallet would be helpful. like how -nosettings is documented in -settings. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1603205760' id='409097'>
<a class='timestamp' href='#409097'><time timestamp='2020-10-20T14:56:00Z'>14:56</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
it&#x27;s more an upgrade issue than a &quot;I&#x27;m new to 0.21&quot; thing
<br>
</div>

<div class='talk op-msg' data-timestamp='1603205820' id='409098'>
<a class='timestamp' href='#409098'><time timestamp='2020-10-20T14:57:00Z'>14:57</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
ryanofsky: would it hurt to just de-duplicate those entries (ignore duplicates)?
<br>
</div>

<div class='talk op-msg' data-timestamp='1603205880' id='409099'>
<a class='timestamp' href='#409099'><time timestamp='2020-10-20T14:58:00Z'>14:58</time></a>
&lt;<span class='nick nick-12'> ryanofsky</span>&gt;
jonatack, could be depending on the use case. I thought -nosettings was useful to document for a sysadmin who doesn&#x27;t wants a static configuration and doesn&#x27;t want dynamic settings being used
<br>
</div>

<div class='talk op-msg' data-timestamp='1603205940' id='409100'>
<a class='timestamp' href='#409100'><time timestamp='2020-10-20T14:59:00Z'>14:59</time></a>
&lt;<span class='nick nick-12'> ryanofsky</span>&gt;
Use cases for -nowallet are more obscure as far as I know. We use them in the testing framework, and here we are talking about using it to work around a bug that should just be fixed
<br>
</div>

<div class='talk op-msg' data-timestamp='1603205940' id='409101'>
<a class='timestamp' href='#409101'><time timestamp='2020-10-20T14:59:00Z'>14:59</time></a>
&lt;<span class='nick nick-14'> jonatack</span>&gt;
ryanofsky: oh ok. the &quot;no&quot; idiom is known, but TIL you can reset the wallet list with -nowallet
<br>
</div>

<div class='talk op-msg' data-timestamp='1603205940' id='409102'>
<a class='timestamp' href='#409102'><time timestamp='2020-10-20T14:59:00Z'>14:59</time></a>
&lt;<span class='nick nick-12'> ryanofsky</span>&gt;
s/doesn&#x27;t wants/just wants/ above
<br>
</div>

<div class='talk op-msg' data-timestamp='1603206000' id='409103'>
<a class='timestamp' href='#409103'><time timestamp='2020-10-20T15:00:00Z'>15:00</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I also wasn&#x27;t aware of the -nowallet reset in the parameter order jonatack
<br>
</div>

<div class='talk op-msg' data-timestamp='1603206000' id='409104'>
<a class='timestamp' href='#409104'><time timestamp='2020-10-20T15:00:00Z'>15:00</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
#startmeeting
<br>
</div>

<div class='talk op-msg' data-timestamp='1603206000' id='409105'>
<a class='timestamp' href='#409105'><time timestamp='2020-10-20T15:00:00Z'>15:00</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Meeting started Tue Oct 20 15:00:45 2020 UTC.  The chair is jnewbery. Information about MeetBot at <a href="http://wiki.debian.org/MeetBot" class="link" target="_blank">http://wiki.debian.org/MeetBot</a>.
<br>
</div>

<div class='talk op-msg' data-timestamp='1603206000' id='409106'>
<a class='timestamp' href='#409106'><time timestamp='2020-10-20T15:00:00Z'>15:00</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Useful Commands: #action #agreed #help #info #idea #link #topic.
<br>
</div>

<div class='talk op-msg' data-timestamp='1603206000' id='409107'>
<a class='timestamp' href='#409107'><time timestamp='2020-10-20T15:00:00Z'>15:00</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
#bitcoin-core-dev P2P Meeting: wumpus sipa gmaxwell jonasschnelli morcos luke-jr sdaftuar jtimon cfields petertodd kanzure bluematt instagibbs phantomcircuit codeshark michagogo marcofalke paveljanik NicolasDorier jl2012 achow101 meshcollider jnewbery maaku fanquake promag provoostenator aj Chris_Stewart_5 dongcarl gwillen jamesob ken281221 ryanofsky gleb moneyball kvaciral ariard digi_james 
<br>
</div>

<div class='talk op-msg' data-timestamp='1603206060' id='409108'>
<a class='timestamp' href='#409108'><time timestamp='2020-10-20T15:01:00Z'>15:01</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
amiti fjahr jeremyrubin lightlike emilengler jonatack hebasto jb55 elichai2
<br>
</div>

<div class='talk op-msg' data-timestamp='1603206060' id='409109'>
<a class='timestamp' href='#409109'><time timestamp='2020-10-20T15:01:00Z'>15:01</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1603206060' id='409110'>
<a class='timestamp' href='#409110'><time timestamp='2020-10-20T15:01:00Z'>15:01</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
hi folks!
<br>
</div>

<div class='talk op-msg' data-timestamp='1603206060' id='409111'>
<a class='timestamp' href='#409111'><time timestamp='2020-10-20T15:01:00Z'>15:01</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
Hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1603206060' id='409112'>
<a class='timestamp' href='#409112'><time timestamp='2020-10-20T15:01:00Z'>15:01</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1603206060' id='409113'>
<a class='timestamp' href='#409113'><time timestamp='2020-10-20T15:01:00Z'>15:01</time></a>
&lt;<span class='nick nick-12'> ryanofsky</span>&gt;
yeah -noXXX for a list setting clears the list. hopefully you never have to rely on this!
<br>
</div>

<div class='talk op-msg' data-timestamp='1603206060' id='409114'>
<a class='timestamp' href='#409114'><time timestamp='2020-10-20T15:01:00Z'>15:01</time></a>
&lt;<span class='nick nick-8'> amiti</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1603206060' id='409115'>
<a class='timestamp' href='#409115'><time timestamp='2020-10-20T15:01:00Z'>15:01</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1603206060' id='409116'>
<a class='timestamp' href='#409116'><time timestamp='2020-10-20T15:01:00Z'>15:01</time></a>
&lt;<span class='nick nick-10'> ariard</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1603206060' id='409117'>
<a class='timestamp' href='#409117'><time timestamp='2020-10-20T15:01:00Z'>15:01</time></a>
&lt;<span class='nick nick-14'> jonatack</span>&gt;
hallo
<br>
</div>

<div class='talk op-msg' data-timestamp='1603206060' id='409118'>
<a class='timestamp' href='#409118'><time timestamp='2020-10-20T15:01:00Z'>15:01</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
heya
<br>
</div>

<div class='talk op-msg' data-timestamp='1603206060' id='409119'>
<a class='timestamp' href='#409119'><time timestamp='2020-10-20T15:01:00Z'>15:01</time></a>
&lt;<span class='nick nick-15'> ajonas</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1603206060' id='409120'>
<a class='timestamp' href='#409120'><time timestamp='2020-10-20T15:01:00Z'>15:01</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
first of all, congrats everyone for getting so many PRs reviewed and merged before feature freeze!
<br>
</div>

<div class='talk op-msg' data-timestamp='1603206060' id='409121'>
<a class='timestamp' href='#409121'><time timestamp='2020-10-20T15:01:00Z'>15:01</time></a>
&lt;<span class='nick nick-12'> awesome_doge</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1603206120' id='409122'>
<a class='timestamp' href='#409122'><time timestamp='2020-10-20T15:02:00Z'>15:02</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
we got addrv2, transaction request overhaul, taproot and anchor connections all merged
<br>
</div>

<div class='talk op-msg' data-timestamp='1603206120' id='409123'>
<a class='timestamp' href='#409123'><time timestamp='2020-10-20T15:02:00Z'>15:02</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
Just one proposed topic today: <a href="https://github.com/bitcoin-core/bitcoin-devwiki/wiki/P2P-IRC-meetings#20-oct-2020" class="link" target="_blank">https://github.com/bitcoin-core/bitcoin-devwiki/wiki/P2P-IRC-meetings#20-oct-2020</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1603206120' id='409124'>
<a class='timestamp' href='#409124'><time timestamp='2020-10-20T15:02:00Z'>15:02</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/20" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/20</a> | JSON-RPC callback · Issue #20 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1603206120' id='409125'>
<a class='timestamp' href='#409125'><time timestamp='2020-10-20T15:02:00Z'>15:02</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
Before we do that, does anyone have any updates or want to share what they&#x27;re working on/prioritising?
<br>
</div>

<div class='talk op-msg' data-timestamp='1603206180' id='409126'>
<a class='timestamp' href='#409126'><time timestamp='2020-10-20T15:03:00Z'>15:03</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
ok, our single topic is:
<br>
</div>

<div class='talk op-msg' data-timestamp='1603206180' id='409127'>
<a class='timestamp' href='#409127'><time timestamp='2020-10-20T15:03:00Z'>15:03</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
Remove timestamps from addr messages? It seems like the timestamp is only used to leak information about our recent connectivity. It doesn&#x27;t look like we use it to make decisions about who to connect to. (sdaftuar/jnewbery)
<br>
</div>

<div class='talk op-msg' data-timestamp='1603206180' id='409128'>
<a class='timestamp' href='#409128'><time timestamp='2020-10-20T15:03:00Z'>15:03</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
sdaftuar: do you want to explain?
<br>
</div>

<div class='talk op-msg' data-timestamp='1603206240' id='409129'>
<a class='timestamp' href='#409129'><time timestamp='2020-10-20T15:04:00Z'>15:04</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
oy, i can try
<br>
</div>

<div class='talk op-msg' data-timestamp='1603206240' id='409130'>
<a class='timestamp' href='#409130'><time timestamp='2020-10-20T15:04:00Z'>15:04</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
i guess the background here is around looking at how addrman works, and what information it might leak about our peers (and whether or not that is ok, i guess)
<br>
</div>

<div class='talk op-msg' data-timestamp='1603206240' id='409131'>
<a class='timestamp' href='#409131'><time timestamp='2020-10-20T15:04:00Z'>15:04</time></a>
&lt;<span class='nick nick-16'> emzy</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1603206300' id='409132'>
<a class='timestamp' href='#409132'><time timestamp='2020-10-20T15:05:00Z'>15:05</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
i was chatting with jnewbery about the interaction specifically with block-relay-only peers, where we really don&#x27;t want to leak anything 
<br>
</div>

<div class='talk op-msg' data-timestamp='1603206300' id='409133'>
<a class='timestamp' href='#409133'><time timestamp='2020-10-20T15:05:00Z'>15:05</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
and one observation was that right now in master, we basically directly leak the time at which we were connected to a block-relay-only peer after we disconnect from that peer and then include the address in a getaddr response
<br>
</div>

<div class='talk op-msg' data-timestamp='1603206300' id='409134'>
<a class='timestamp' href='#409134'><time timestamp='2020-10-20T15:05:00Z'>15:05</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
It does indeed leak info, but I never thought about solving the issue in this fashion...
<br>
</div>

<div class='talk op-msg' data-timestamp='1603206300' id='409135'>
<a class='timestamp' href='#409135'><time timestamp='2020-10-20T15:05:00Z'>15:05</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
we can fix that, but it led to wondering: what good does this time do anyone, anyway?
<br>
</div>

<div class='talk op-msg' data-timestamp='1603206360' id='409136'>
<a class='timestamp' href='#409136'><time timestamp='2020-10-20T15:06:00Z'>15:06</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
is it actually not used for anything?
<br>
</div>

<div class='talk op-msg' data-timestamp='1603206360' id='409137'>
<a class='timestamp' href='#409137'><time timestamp='2020-10-20T15:06:00Z'>15:06</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
our own software seems to barely use those times: we use it to sometimes filter out responses to getaddr requests, and we use to sometimes to evict things from the new table
<br>
</div>

<div class='talk op-msg' data-timestamp='1603206360' id='409138'>
<a class='timestamp' href='#409138'><time timestamp='2020-10-20T15:06:00Z'>15:06</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
There is a check in IsTerrible
<br>
</div>

<div class='talk op-msg' data-timestamp='1603206360' id='409139'>
<a class='timestamp' href='#409139'><time timestamp='2020-10-20T15:06:00Z'>15:06</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
Seeing if it’s older than a month
<br>
</div>

<div class='talk op-msg' data-timestamp='1603206360' id='409140'>
<a class='timestamp' href='#409140'><time timestamp='2020-10-20T15:06:00Z'>15:06</time></a>
&lt;<span class='nick nick-10'> ariard</span>&gt;
the fact it&#x27;s not used by core addrman doesn&#x27;t mean it&#x27;s not used by some other bitcoin clients to decide its peering
<br>
</div>

<div class='talk op-msg' data-timestamp='1603206360' id='409141'>
<a class='timestamp' href='#409141'><time timestamp='2020-10-20T15:06:00Z'>15:06</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
but we do not use it for determining who to connect to, as far as i can tell.
<br>
</div>

<div class='talk op-msg' data-timestamp='1603206480' id='409142'>
<a class='timestamp' href='#409142'><time timestamp='2020-10-20T15:08:00Z'>15:08</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
From what I remember I think you are right, but those existing features are not nothing 
<br>
</div>

<div class='talk op-msg' data-timestamp='1603206480' id='409143'>
<a class='timestamp' href='#409143'><time timestamp='2020-10-20T15:08:00Z'>15:08</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
using timestamps is already a well-known way of infering network topology: <a href="https://www.cs.umd.edu/projects/coinscope/coinscope.pdf" class="link" target="_blank">https://www.cs.umd.edu/projects/coinscope/coinscope.pdf</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1603206480' id='409144'>
<a class='timestamp' href='#409144'><time timestamp='2020-10-20T15:08:00Z'>15:08</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
ariard: agreed. but i thought it might be worth polling people about how much good these timestamps can do, as they are necessarily unverifiable data?
<br>
</div>

<div class='talk op-msg' data-timestamp='1603206480' id='409145'>
<a class='timestamp' href='#409145'><time timestamp='2020-10-20T15:08:00Z'>15:08</time></a>
&lt;<span class='nick nick-14'> jonatack</span>&gt;
CAddrMan::Good: &quot;nTime is not updated here, to avoid leaking information about currently-connected peers.&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1603206540' id='409146'>
<a class='timestamp' href='#409146'><time timestamp='2020-10-20T15:09:00Z'>15:09</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sdaftuar: good question
<br>
</div>

<div class='talk op-msg' data-timestamp='1603206540' id='409147'>
<a class='timestamp' href='#409147'><time timestamp='2020-10-20T15:09:00Z'>15:09</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
gleb: i imagine we could replace their use in those two places without that much trouble
<br>
</div>

<div class='talk op-msg' data-timestamp='1603206540' id='409148'>
<a class='timestamp' href='#409148'><time timestamp='2020-10-20T15:09:00Z'>15:09</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
I think the way we use them, an adversary can’t really manipulate, because the checks are very moderate 
<br>
</div>

<div class='talk op-msg' data-timestamp='1603206600' id='409149'>
<a class='timestamp' href='#409149'><time timestamp='2020-10-20T15:10:00Z'>15:10</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
eg by using nlasttry/nlastsuccess
<br>
</div>

<div class='talk op-msg' data-timestamp='1603206600' id='409150'>
<a class='timestamp' href='#409150'><time timestamp='2020-10-20T15:10:00Z'>15:10</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
even if someone bumps their own addrs too much, they don’t really become “better”
<br>
</div>

<div class='talk op-msg' data-timestamp='1603206600' id='409151'>
<a class='timestamp' href='#409151'><time timestamp='2020-10-20T15:10:00Z'>15:10</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
sdaftuar: and that won’t propagate through the network?
<br>
</div>

<div class='talk op-msg' data-timestamp='1603206600' id='409152'>
<a class='timestamp' href='#409152'><time timestamp='2020-10-20T15:10:00Z'>15:10</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
it will have effect only locally at every node 
<br>
</div>

<div class='talk op-msg' data-timestamp='1603206660' id='409153'>
<a class='timestamp' href='#409153'><time timestamp='2020-10-20T15:11:00Z'>15:11</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
gleb: given that we don&#x27;t use them for much, it seems there is only downside to us by potentially telling our peers who we were connected to and at what time?
<br>
</div>

<div class='talk op-msg' data-timestamp='1603206720' id='409154'>
<a class='timestamp' href='#409154'><time timestamp='2020-10-20T15:12:00Z'>15:12</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
Telling that a given address we’re relaying is not one year old...
<br>
</div>

<div class='talk op-msg' data-timestamp='1603206720' id='409155'>
<a class='timestamp' href='#409155'><time timestamp='2020-10-20T15:12:00Z'>15:12</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
we could still use nlastsuccess to filter out old addresses from our getaddr responses, i think?
<br>
</div>

<div class='talk op-msg' data-timestamp='1603206720' id='409156'>
<a class='timestamp' href='#409156'><time timestamp='2020-10-20T15:12:00Z'>15:12</time></a>
&lt;<span class='nick nick-10'> ariard</span>&gt;
sdaftuar: right,  unverifiable data doesn&#x27;t mean it can be useful even if it&#x27;s gentleman-style of enforcment
<br>
</div>

<div class='talk op-msg' data-timestamp='1603206720' id='409157'>
<a class='timestamp' href='#409157'><time timestamp='2020-10-20T15:12:00Z'>15:12</time></a>
&lt;<span class='nick nick-10'> ariard</span>&gt;
a lot of alternatives p2p stack doesn&#x27;t sanitize their addrs with a feeler connection
<br>
</div>

<div class='talk op-msg' data-timestamp='1603206780' id='409158'>
<a class='timestamp' href='#409158'><time timestamp='2020-10-20T15:13:00Z'>15:13</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
and they can retell this fact to other peers without connecting by themselves. Just tell what we told 
<br>
</div>

<div class='talk op-msg' data-timestamp='1603206840' id='409159'>
<a class='timestamp' href='#409159'><time timestamp='2020-10-20T15:14:00Z'>15:14</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
interestingly, we don&#x27;t update that time field when we successfully connect to a peer via a feeler connection, i believe.
<br>
</div>

<div class='talk op-msg' data-timestamp='1603206840' id='409160'>
<a class='timestamp' href='#409160'><time timestamp='2020-10-20T15:14:00Z'>15:14</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
I need to look better at the code. I’d be very happy to get rid of this stuff 
<br>
</div>

<div class='talk op-msg' data-timestamp='1603206840' id='409161'>
<a class='timestamp' href='#409161'><time timestamp='2020-10-20T15:14:00Z'>15:14</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i&#x27;ll also have a look in more detail
<br>
</div>

<div class='talk op-msg' data-timestamp='1603206840' id='409162'>
<a class='timestamp' href='#409162'><time timestamp='2020-10-20T15:14:00Z'>15:14</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
ariard: tradeoff there seems to be between helping a [theoretical] alternative implementation make better decisions about who to connect to -vs- protecting our own privacy
<br>
</div>

<div class='talk op-msg' data-timestamp='1603206840' id='409163'>
<a class='timestamp' href='#409163'><time timestamp='2020-10-20T15:14:00Z'>15:14</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it&#x27;s very appealing
<br>
</div>

<div class='talk op-msg' data-timestamp='1603206900' id='409164'>
<a class='timestamp' href='#409164'><time timestamp='2020-10-20T15:15:00Z'>15:15</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
by default we should always lean towards protecting our own privacy, unless doing so would be detrimental to the network as a whole
<br>
</div>

<div class='talk op-msg' data-timestamp='1603206900' id='409165'>
<a class='timestamp' href='#409165'><time timestamp='2020-10-20T15:15:00Z'>15:15</time></a>
&lt;<span class='nick nick-10'> ariard</span>&gt;
jnewbery: I would favor protecting our own privacy, but as a good practice asking on the ml would be great, at least to warrant
<br>
</div>

<div class='talk op-msg' data-timestamp='1603206900' id='409166'>
<a class='timestamp' href='#409166'><time timestamp='2020-10-20T15:15:00Z'>15:15</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
jnewbery: I suggest ariard thinks more whether time stamps can help light clients a lot comparing to feeler strategy
<br>
</div>

<div class='talk op-msg' data-timestamp='1603206960' id='409167'>
<a class='timestamp' href='#409167'><time timestamp='2020-10-20T15:16:00Z'>15:16</time></a>
&lt;<span class='nick nick-8'> amiti</span>&gt;
+1 I don&#x27;t have a complete understanding of these timestamps, but when I&#x27;ve looked at them in the past I&#x27;ve come to similar conclusions where they aren&#x27;t used for much since they are unreliable and are easy to accidentally leak information
<br>
</div>

<div class='talk op-msg' data-timestamp='1603206960' id='409168'>
<a class='timestamp' href='#409168'><time timestamp='2020-10-20T15:16:00Z'>15:16</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
ariard: +1. This would be a de facto change to the p2p protocol. Circulating it on the mailing list would be good manners, at least
<br>
</div>

<div class='talk op-msg' data-timestamp='1603207020' id='409169'>
<a class='timestamp' href='#409169'><time timestamp='2020-10-20T15:17:00Z'>15:17</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
They are unreliable, but they also can’t be exploited actively I think  (only leak info, passive exploit)
<br>
</div>

<div class='talk op-msg' data-timestamp='1603207020' id='409170'>
<a class='timestamp' href='#409170'><time timestamp='2020-10-20T15:17:00Z'>15:17</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
gleb: whether they can be exploited depends on how people are using them. i agree our software seems to be designed so that this is just an information leak
<br>
</div>

<div class='talk op-msg' data-timestamp='1603207020' id='409171'>
<a class='timestamp' href='#409171'><time timestamp='2020-10-20T15:17:00Z'>15:17</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
I think another piece of (almost) useless data that we could stop sharing is the start_height in the version message, but that&#x27;s maybe a different discussion
<br>
</div>

<div class='talk op-msg' data-timestamp='1603207080' id='409172'>
<a class='timestamp' href='#409172'><time timestamp='2020-10-20T15:18:00Z'>15:18</time></a>
&lt;<span class='nick nick-8'> amiti</span>&gt;
yeah, exactly, they can&#x27;t be exploited because we write logic to not rely on it 
<br>
</div>

<div class='talk op-msg' data-timestamp='1603207080' id='409173'>
<a class='timestamp' href='#409173'><time timestamp='2020-10-20T15:18:00Z'>15:18</time></a>
&lt;<span class='nick nick-10'> ariard</span>&gt;
Even assuming they&#x27;re used by some lightclient p2p stack, inviting ecosystem-wise not relying on them due to their distrusted nature would be better
<br>
</div>

<div class='talk op-msg' data-timestamp='1603207080' id='409174'>
<a class='timestamp' href='#409174'><time timestamp='2020-10-20T15:18:00Z'>15:18</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
we can stop using the nTime field without caring about what others do... if we&#x27;d start setting them differently (all zero? just the current time? random within some window?) we may want to seek opinions on the ml
<br>
</div>

<div class='talk op-msg' data-timestamp='1603207140' id='409175'>
<a class='timestamp' href='#409175'><time timestamp='2020-10-20T15:19:00Z'>15:19</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
agreed
<br>
</div>

<div class='talk op-msg' data-timestamp='1603207140' id='409176'>
<a class='timestamp' href='#409176'><time timestamp='2020-10-20T15:19:00Z'>15:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i imagine we&#x27;d do those at different points in time anyway
<br>
</div>

<div class='talk op-msg' data-timestamp='1603207200' id='409177'>
<a class='timestamp' href='#409177'><time timestamp='2020-10-20T15:20:00Z'>15:20</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
Sipa: but Most of their use is already about setting them differently, it seems we mainly discussing dropping that :) 
<br>
</div>

<div class='talk op-msg' data-timestamp='1603207200' id='409178'>
<a class='timestamp' href='#409178'><time timestamp='2020-10-20T15:20:00Z'>15:20</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
or, well, using them to filter out responses I guess. We sort of “promised” to use them?
<br>
</div>

<div class='talk op-msg' data-timestamp='1603207200' id='409179'>
<a class='timestamp' href='#409179'><time timestamp='2020-10-20T15:20:00Z'>15:20</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
whatever, i think we’re on the same page 
<br>
</div>

<div class='talk op-msg' data-timestamp='1603207200' id='409180'>
<a class='timestamp' href='#409180'><time timestamp='2020-10-20T15:20:00Z'>15:20</time></a>
&lt;<span class='nick nick-10'> ariard</span>&gt;
just set them to zero, in case of randomness source breakup that&#x27;s not a fingerprint for your node
<br>
</div>

<div class='talk op-msg' data-timestamp='1603207260' id='409181'>
<a class='timestamp' href='#409181'><time timestamp='2020-10-20T15:21:00Z'>15:21</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
Setting them to 0 would break compatibility 
<br>
</div>

<div class='talk op-msg' data-timestamp='1603207260' id='409182'>
<a class='timestamp' href='#409182'><time timestamp='2020-10-20T15:21:00Z'>15:21</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ariard: if our RNG has issues, we have bigger problems
<br>
</div>

<div class='talk op-msg' data-timestamp='1603207320' id='409183'>
<a class='timestamp' href='#409183'><time timestamp='2020-10-20T15:22:00Z'>15:22</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
old nodes think that ntime &lt; 10000000 is trash iirc
<br>
</div>

<div class='talk op-msg' data-timestamp='1603207320' id='409184'>
<a class='timestamp' href='#409184'><time timestamp='2020-10-20T15:22:00Z'>15:22</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ariard: and setting them to 0 would actively hurt relay chances on current code
<br>
</div>

<div class='talk op-msg' data-timestamp='1603207320' id='409185'>
<a class='timestamp' href='#409185'><time timestamp='2020-10-20T15:22:00Z'>15:22</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
we probably should randomize them within a week window from now or so 
<br>
</div>

<div class='talk op-msg' data-timestamp='1603207320' id='409186'>
<a class='timestamp' href='#409186'><time timestamp='2020-10-20T15:22:00Z'>15:22</time></a>
&lt;<span class='nick nick-10'> ariard</span>&gt;
good to know, do we have other compatibility bounds to care about beyond ntime &lt; 10000000 ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1603207380' id='409187'>
<a class='timestamp' href='#409187'><time timestamp='2020-10-20T15:23:00Z'>15:23</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
gleb: if time is &lt; 100000000, we set it to some recent time: <a href="https://github.com/bitcoin/bitcoin/blob/f5bd46a4cc6d395ce71ecb99852c1774235a249c/src/net_processing.cpp#L2573-L2574" class="link" target="_blank">https://github.com/bitcoin/bitcoin/blob/f5bd46a4cc6d395ce71ecb99852c1774235a249c/src/net_processing.cpp#L2573-L2574</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1603207440' id='409188'>
<a class='timestamp' href='#409188'><time timestamp='2020-10-20T15:24:00Z'>15:24</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
Oh right, sorry, I’m on my phone
<br>
</div>

<div class='talk op-msg' data-timestamp='1603207440' id='409189'>
<a class='timestamp' href='#409189'><time timestamp='2020-10-20T15:24:00Z'>15:24</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
maybe we just set it to MAX_UINT32
<br>
</div>

<div class='talk op-msg' data-timestamp='1603207440' id='409190'>
<a class='timestamp' href='#409190'><time timestamp='2020-10-20T15:24:00Z'>15:24</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
i have another related topic to mention while we&#x27;re discussing addrman-- i opened a PR to fix some interactions between addrman and block-relay-only peers. it&#x27;s a reversal from the direction i was leaning before about how this should work, so wanted to mention it in case anyone wanted to discuss
<br>
</div>

<div class='talk op-msg' data-timestamp='1603207500' id='409191'>
<a class='timestamp' href='#409191'><time timestamp='2020-10-20T15:25:00Z'>15:25</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
cc amiti and jnewbery as this came up during a recent PR under review
<br>
</div>

<div class='talk op-msg' data-timestamp='1603207560' id='409192'>
<a class='timestamp' href='#409192'><time timestamp='2020-10-20T15:26:00Z'>15:26</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
#20187
<br>
</div>

<div class='talk op-msg' data-timestamp='1603207560' id='409193'>
<a class='timestamp' href='#409193'><time timestamp='2020-10-20T15:26:00Z'>15:26</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/20187" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/20187</a> | Addrman: test-before-evict bugfix and improvements for block-relay-only peers by sdaftuar · Pull Request #20187 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1603207560' id='409194'>
<a class='timestamp' href='#409194'><time timestamp='2020-10-20T15:26:00Z'>15:26</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
the tl;dr is that after looking into how eviction works from the new and tried tables, i decided it all works better to make sure that our block-relay-only peers in fact get moved to the tried table
<br>
</div>

<div class='talk op-msg' data-timestamp='1603207620' id='409195'>
<a class='timestamp' href='#409195'><time timestamp='2020-10-20T15:27:00Z'>15:27</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
which necessitates invoking addrman functions on those addresses and changing addrman state of course
<br>
</div>

<div class='talk op-msg' data-timestamp='1603207620' id='409196'>
<a class='timestamp' href='#409196'><time timestamp='2020-10-20T15:27:00Z'>15:27</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
the change in net_processing seems reasonable to me. I haven&#x27;t looked at the changes in net.
<br>
</div>

<div class='talk op-msg' data-timestamp='1603207620' id='409197'>
<a class='timestamp' href='#409197'><time timestamp='2020-10-20T15:27:00Z'>15:27</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
right
<br>
</div>

<div class='talk op-msg' data-timestamp='1603207620' id='409198'>
<a class='timestamp' href='#409198'><time timestamp='2020-10-20T15:27:00Z'>15:27</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
but lots of things to consider (particularly privacy issues that are hard to reason about) so if someone spots a problem i&#x27;d love to discuss
<br>
</div>

<div class='talk op-msg' data-timestamp='1603207680' id='409199'>
<a class='timestamp' href='#409199'><time timestamp='2020-10-20T15:28:00Z'>15:28</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
one particular problem is if the timestamps we return in getaddr messages for those peers will stick out somehow!
<br>
</div>

<div class='talk op-msg' data-timestamp='1603207680' id='409200'>
<a class='timestamp' href='#409200'><time timestamp='2020-10-20T15:28:00Z'>15:28</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it&#x27;s a balance beteeen not updating addrman to minimize detectability of block-only connections, and updating it to make sure we keep good ones
<br>
</div>

<div class='talk op-msg' data-timestamp='1603207680' id='409201'>
<a class='timestamp' href='#409201'><time timestamp='2020-10-20T15:28:00Z'>15:28</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jonasschnelli opened pull request #20198: Show name, format and if uses descriptors in bitcoin-wallet tool (master...2020/10/wallet_tool_sqlite) <a href="https://github.com/bitcoin/bitcoin/pull/20198" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20198</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1603207680' id='409202'>
<a class='timestamp' href='#409202'><time timestamp='2020-10-20T15:28:00Z'>15:28</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
yep
<br>
</div>

<div class='talk op-msg' data-timestamp='1603207680' id='409203'>
<a class='timestamp' href='#409203'><time timestamp='2020-10-20T15:28:00Z'>15:28</time></a>
&lt;<span class='nick nick-8'> amiti</span>&gt;
the idea makes sense, I&#x27;ll take a closer look at the code 
<br>
</div>

<div class='talk op-msg' data-timestamp='1603207740' id='409204'>
<a class='timestamp' href='#409204'><time timestamp='2020-10-20T15:29:00Z'>15:29</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
(that&#x27;s all i&#x27;ve got)
<br>
</div>

<div class='talk op-msg' data-timestamp='1603207800' id='409205'>
<a class='timestamp' href='#409205'><time timestamp='2020-10-20T15:30:00Z'>15:30</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
While we&#x27;re on the subject of addrman, it seems strange to me that it&#x27;s owned by CConnMan. I think it makes sense to pull it out into a separate component that&#x27;s owned by the node context object, so other components can access it directly.
<br>
</div>

<div class='talk op-msg' data-timestamp='1603207800' id='409206'>
<a class='timestamp' href='#409206'><time timestamp='2020-10-20T15:30:00Z'>15:30</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sdaftuar: do you believe there are more issues than fixed by your PR?
<br>
</div>

<div class='talk op-msg' data-timestamp='1603207800' id='409207'>
<a class='timestamp' href='#409207'><time timestamp='2020-10-20T15:30:00Z'>15:30</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
Is there areason not to do that?
<br>
</div>

<div class='talk op-msg' data-timestamp='1603207860' id='409208'>
<a class='timestamp' href='#409208'><time timestamp='2020-10-20T15:31:00Z'>15:31</time></a>
&lt;<span class='nick nick-10'> ariard</span>&gt;
what other components need access to addrman ? or might need in the future?
<br>
</div>

<div class='talk op-msg' data-timestamp='1603207860' id='409209'>
<a class='timestamp' href='#409209'><time timestamp='2020-10-20T15:31:00Z'>15:31</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jnewbery: whatever works
<br>
</div>

<div class='talk op-msg' data-timestamp='1603207860' id='409210'>
<a class='timestamp' href='#409210'><time timestamp='2020-10-20T15:31:00Z'>15:31</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
ariard: net_processing and rpc
<br>
</div>

<div class='talk op-msg' data-timestamp='1603207860' id='409211'>
<a class='timestamp' href='#409211'><time timestamp='2020-10-20T15:31:00Z'>15:31</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
No opinion on moving components around 
<br>
</div>

<div class='talk op-msg' data-timestamp='1603207860' id='409212'>
<a class='timestamp' href='#409212'><time timestamp='2020-10-20T15:31:00Z'>15:31</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
sipa: not at the moment, i dont&#x27; think.  the only other addrman-related thing i&#x27;m worrying about is addr relay i think
<br>
</div>

<div class='talk op-msg' data-timestamp='1603207860' id='409213'>
<a class='timestamp' href='#409213'><time timestamp='2020-10-20T15:31:00Z'>15:31</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and net
<br>
</div>

<div class='talk op-msg' data-timestamp='1603207860' id='409214'>
<a class='timestamp' href='#409214'><time timestamp='2020-10-20T15:31:00Z'>15:31</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
but that&#x27;s a different type of issue
<br>
</div>

<div class='talk op-msg' data-timestamp='1603207920' id='409215'>
<a class='timestamp' href='#409215'><time timestamp='2020-10-20T15:32:00Z'>15:32</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
currently net_processing access addrman through some forwarding functions in cconnman
<br>
</div>

<div class='talk op-msg' data-timestamp='1603207920' id='409216'>
<a class='timestamp' href='#409216'><time timestamp='2020-10-20T15:32:00Z'>15:32</time></a>
&lt;<span class='nick nick-10'> ariard</span>&gt;
sounds good to move so
<br>
</div>

<div class='talk op-msg' data-timestamp='1603207980' id='409217'>
<a class='timestamp' href='#409217'><time timestamp='2020-10-20T15:33:00Z'>15:33</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
any other topics before we wrap up? Anyone have any review begs?
<br>
</div>

<div class='talk op-msg' data-timestamp='1603208040' id='409218'>
<a class='timestamp' href='#409218'><time timestamp='2020-10-20T15:34:00Z'>15:34</time></a>
&lt;<span class='nick nick-10'> ariard</span>&gt;
what outstanding p2p bugfixs/followups are required for current release ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1603208040' id='409219'>
<a class='timestamp' href='#409219'><time timestamp='2020-10-20T15:34:00Z'>15:34</time></a>
&lt;<span class='nick nick-14'> jonatack</span>&gt;
I plan to circle back soon to finish reviewing #19858 which looks pretty close
<br>
</div>

<div class='talk op-msg' data-timestamp='1603208040' id='409220'>
<a class='timestamp' href='#409220'><time timestamp='2020-10-20T15:34:00Z'>15:34</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/19858" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/19858</a> | Periodically make block-relay connections and sync headers by sdaftuar · Pull Request #19858 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1603208100' id='409221'>
<a class='timestamp' href='#409221'><time timestamp='2020-10-20T15:35:00Z'>15:35</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
hi, I started looking into i2p support
<br>
</div>

<div class='talk op-msg' data-timestamp='1603208100' id='409222'>
<a class='timestamp' href='#409222'><time timestamp='2020-10-20T15:35:00Z'>15:35</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
jonatack: thanks -- guessing it won&#x27;t be merged until after we branch off the next release though
<br>
</div>

<div class='talk op-msg' data-timestamp='1603208100' id='409223'>
<a class='timestamp' href='#409223'><time timestamp='2020-10-20T15:35:00Z'>15:35</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
ariard: you can find current release issues/prs here: <a href="https://github.com/bitcoin/bitcoin/milestone/45" class="link" target="_blank">https://github.com/bitcoin/bitcoin/milestone/45</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1603208100' id='409224'>
<a class='timestamp' href='#409224'><time timestamp='2020-10-20T15:35:00Z'>15:35</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
in case that affects your review priorities!
<br>
</div>

<div class='talk op-msg' data-timestamp='1603208100' id='409225'>
<a class='timestamp' href='#409225'><time timestamp='2020-10-20T15:35:00Z'>15:35</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
(I have one review beg: the backport of wtxid relay to 0.20 #19606)
<br>
</div>

<div class='talk op-msg' data-timestamp='1603208100' id='409226'>
<a class='timestamp' href='#409226'><time timestamp='2020-10-20T15:35:00Z'>15:35</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/19606" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/19606</a> | Backport wtxid relay to v0.20 by jnewbery · Pull Request #19606 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1603208160' id='409227'>
<a class='timestamp' href='#409227'><time timestamp='2020-10-20T15:36:00Z'>15:36</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
ok, seems like that&#x27;s all. Thanks folks. See you in two weeks
<br>
</div>

<div class='talk op-msg' data-timestamp='1603208160' id='409228'>
<a class='timestamp' href='#409228'><time timestamp='2020-10-20T15:36:00Z'>15:36</time></a>
&lt;<span class='nick nick-14'> jonatack</span>&gt;
vasild: nice! Oh, #20120 had 3 acks by vasild promag hebasto 
<br>
</div>

<div class='talk op-msg' data-timestamp='1603208160' id='409229'>
<a class='timestamp' href='#409229'><time timestamp='2020-10-20T15:36:00Z'>15:36</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
#endmeeting
<br>
</div>

<div class='talk op-msg' data-timestamp='1603208160' id='409230'>
<a class='timestamp' href='#409230'><time timestamp='2020-10-20T15:36:00Z'>15:36</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Meeting ended Tue Oct 20 15:36:26 2020 UTC.  Information about MeetBot at <a href="http://wiki.debian.org/MeetBot" class="link" target="_blank">http://wiki.debian.org/MeetBot</a> . (v 0.1.4)
<br>
</div>

<div class='talk op-msg' data-timestamp='1603208160' id='409231'>
<a class='timestamp' href='#409231'><time timestamp='2020-10-20T15:36:00Z'>15:36</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Minutes:        <a href="http://www.erisian.com.au/meetbot/bitcoin-core-dev/2020/bitcoin-core-dev.2020-10-20-15.00.html" class="link" target="_blank">http://www.erisian.com.au/meetbot/bitcoin-core-dev/2020/bitcoin-core-dev.2020-10-20-15.00.html</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1603208160' id='409232'>
<a class='timestamp' href='#409232'><time timestamp='2020-10-20T15:36:00Z'>15:36</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Minutes (text): <a href="http://www.erisian.com.au/meetbot/bitcoin-core-dev/2020/bitcoin-core-dev.2020-10-20-15.00.txt" class="link" target="_blank">http://www.erisian.com.au/meetbot/bitcoin-core-dev/2020/bitcoin-core-dev.2020-10-20-15.00.txt</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1603208160' id='409233'>
<a class='timestamp' href='#409233'><time timestamp='2020-10-20T15:36:00Z'>15:36</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Log:            <a href="http://www.erisian.com.au/meetbot/bitcoin-core-dev/2020/bitcoin-core-dev.2020-10-20-15.00.log.html" class="link" target="_blank">http://www.erisian.com.au/meetbot/bitcoin-core-dev/2020/bitcoin-core-dev.2020-10-20-15.00.log.html</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1603208160' id='409234'>
<a class='timestamp' href='#409234'><time timestamp='2020-10-20T15:36:00Z'>15:36</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/20120" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/20120</a> | net, rpc, test, bugfix: update GetNetworkName, GetNetworksInfo, regression tests by jonatack · Pull Request #20120 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1603208220' id='409235'>
<a class='timestamp' href='#409235'><time timestamp='2020-10-20T15:37:00Z'>15:37</time></a>
&lt;<span class='nick nick-14'> jonatack</span>&gt;
(it&#x27;s more net than p2p)
<br>
</div>

<div class='talk op-msg' data-timestamp='1603208220' id='409236'>
<a class='timestamp' href='#409236'><time timestamp='2020-10-20T15:37:00Z'>15:37</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
oh sorry vasild. I missed your message. Did you have more you wanted to share/discuss?
<br>
</div>

<div class='talk op-msg' data-timestamp='1603208220' id='409237'>
<a class='timestamp' href='#409237'><time timestamp='2020-10-20T15:37:00Z'>15:37</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
no :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1603208220' id='409238'>
<a class='timestamp' href='#409238'><time timestamp='2020-10-20T15:37:00Z'>15:37</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
ok, I look forward to hearing more about it in another meeting then :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1603209420' id='409239'>
<a class='timestamp' href='#409239'><time timestamp='2020-10-20T15:57:00Z'>15:57</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jonasschnelli opened pull request #20199: Ignoring (but warn) on dublicate -wallet parameters (master...2020/10/de-duplicate-wallets) <a href="https://github.com/bitcoin/bitcoin/pull/20199" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20199</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1603211160' id='409240'>
<a class='timestamp' href='#409240'><time timestamp='2020-10-20T16:26:00Z'>16:26</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] adamjonas opened pull request #20200: doc: Remove breaking line of CODEOWNERS file (master...102020-fix-codeowners) <a href="https://github.com/bitcoin/bitcoin/pull/20200" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20200</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1603211400' id='409241'>
<a class='timestamp' href='#409241'><time timestamp='2020-10-20T16:30:00Z'>16:30</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] hebasto opened pull request #20201: build: pkg-config related cleanup (master...201020-pkg) <a href="https://github.com/bitcoin/bitcoin/pull/20201" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20201</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1603211460' id='409242'>
<a class='timestamp' href='#409242'><time timestamp='2020-10-20T16:31:00Z'>16:31</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] achow101 opened pull request #20202: wallet: Make BDB support optional (master...opt-sqlite-bdb) <a href="https://github.com/bitcoin/bitcoin/pull/20202" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20202</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1603212120' id='409243'>
<a class='timestamp' href='#409243'><time timestamp='2020-10-20T16:42:00Z'>16:42</time></a>
&lt;<span class='nick nick-14'> hebasto</span>&gt;
jonasschnelli: around?
<br>
</div>

<div class='talk op-msg' data-timestamp='1603216500' id='409244'>
<a class='timestamp' href='#409244'><time timestamp='2020-10-20T17:55:00Z'>17:55</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
achow101: did a UUID of some sort get in the SQLite wallet, to replace the BDB unique id?
<br>
</div>

<div class='talk op-msg' data-timestamp='1603216500' id='409245'>
<a class='timestamp' href='#409245'><time timestamp='2020-10-20T17:55:00Z'>17:55</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
luke-jr: no. I think we determined it wasn&#x27;t needed
<br>
</div>

<div class='talk op-msg' data-timestamp='1603216500' id='409246'>
<a class='timestamp' href='#409246'><time timestamp='2020-10-20T17:55:00Z'>17:55</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
but it is
<br>
</div>

<div class='talk op-msg' data-timestamp='1603216500' id='409247'>
<a class='timestamp' href='#409247'><time timestamp='2020-10-20T17:55:00Z'>17:55</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
ugh
<br>
</div>

<div class='talk op-msg' data-timestamp='1603216500' id='409248'>
<a class='timestamp' href='#409248'><time timestamp='2020-10-20T17:55:00Z'>17:55</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
the BDB unique id is only needed to avoid some caching problem
<br>
</div>

<div class='talk op-msg' data-timestamp='1603216500' id='409249'>
<a class='timestamp' href='#409249'><time timestamp='2020-10-20T17:55:00Z'>17:55</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
what is it needed for?
<br>
</div>

<div class='talk op-msg' data-timestamp='1603216560' id='409250'>
<a class='timestamp' href='#409250'><time timestamp='2020-10-20T17:56:00Z'>17:56</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
prune locks, at least; who knows what else in the future
<br>
</div>

<div class='talk op-msg' data-timestamp='1603216560' id='409251'>
<a class='timestamp' href='#409251'><time timestamp='2020-10-20T17:56:00Z'>17:56</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
how so?
<br>
</div>

<div class='talk op-msg' data-timestamp='1603216560' id='409252'>
<a class='timestamp' href='#409252'><time timestamp='2020-10-20T17:56:00Z'>17:56</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
to uniquely identify a wallet no matter where the user moves/renames it
<br>
</div>

<div class='talk op-msg' data-timestamp='1603216680' id='409253'>
<a class='timestamp' href='#409253'><time timestamp='2020-10-20T17:58:00Z'>17:58</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
it can be added in later
<br>
</div>

<div class='talk op-msg' data-timestamp='1603216680' id='409254'>
<a class='timestamp' href='#409254'><time timestamp='2020-10-20T17:58:00Z'>17:58</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
not really
<br>
</div>

<div class='talk op-msg' data-timestamp='1603216680' id='409255'>
<a class='timestamp' href='#409255'><time timestamp='2020-10-20T17:58:00Z'>17:58</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
backups made before the upgrade won&#x27;t have it
<br>
</div>

<div class='talk op-msg' data-timestamp='1603216980' id='409256'>
<a class='timestamp' href='#409256'><time timestamp='2020-10-20T18:03:00Z'>18:03</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
why do wallet files need to be uniquely identified?
<br>
</div>

<div class='talk op-msg' data-timestamp='1603216980' id='409257'>
<a class='timestamp' href='#409257'><time timestamp='2020-10-20T18:03:00Z'>18:03</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
I remember looking at this before but I can&#x27;t find the commit
<br>
</div>

<div class='talk op-msg' data-timestamp='1603217160' id='409258'>
<a class='timestamp' href='#409258'><time timestamp='2020-10-20T18:06:00Z'>18:06</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
achow101: eg #19463
<br>
</div>

<div class='talk op-msg' data-timestamp='1603217160' id='409259'>
<a class='timestamp' href='#409259'><time timestamp='2020-10-20T18:06:00Z'>18:06</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/19463" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/19463</a> | Prune locks by luke-jr · Pull Request #19463 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1603217160' id='409260'>
<a class='timestamp' href='#409260'><time timestamp='2020-10-20T18:06:00Z'>18:06</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
another example would be backup reminders
<br>
</div>

<div class='talk op-msg' data-timestamp='1603217400' id='409261'>
<a class='timestamp' href='#409261'><time timestamp='2020-10-20T18:10:00Z'>18:10</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
i still don&#x27;t see how not having a preexisting id is a problem. If you add the id to a wallet, and add the prune lock for that id, then we won&#x27;t prune beyond the requirement for that wallet. when the backup is restored, sure a new id is generated, but we still haven&#x27;t pruned too far
<br>
</div>

<div class='talk op-msg' data-timestamp='1603217400' id='409262'>
<a class='timestamp' href='#409262'><time timestamp='2020-10-20T18:10:00Z'>18:10</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
it&#x27;s just extra stuff in the db
<br>
</div>

<div class='talk op-msg' data-timestamp='1603217820' id='409263'>
<a class='timestamp' href='#409263'><time timestamp='2020-10-20T18:17:00Z'>18:17</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
and have a poor UX because we have the wallet twice in prune locks confusing the user
<br>
</div>

<div class='talk op-msg' data-timestamp='1603217820' id='409264'>
<a class='timestamp' href='#409264'><time timestamp='2020-10-20T18:17:00Z'>18:17</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
nevermind unknown future use cases
<br>
</div>

<div class='talk op-msg' data-timestamp='1603217940' id='409265'>
<a class='timestamp' href='#409265'><time timestamp='2020-10-20T18:19:00Z'>18:19</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
sure, but a unique wallet id should not be at the db level
<br>
</div>

<div class='talk op-msg' data-timestamp='1603218000' id='409266'>
<a class='timestamp' href='#409266'><time timestamp='2020-10-20T18:20:00Z'>18:20</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
having a warning for the user that two copies of the same wallets have been loaded seems moderately useful in any case
<br>
</div>

<div class='talk op-msg' data-timestamp='1603218000' id='409267'>
<a class='timestamp' href='#409267'><time timestamp='2020-10-20T18:20:00Z'>18:20</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
we could make the id deterministic based on active spkman
<br>
</div>

<div class='talk op-msg' data-timestamp='1603218060' id='409268'>
<a class='timestamp' href='#409268'><time timestamp='2020-10-20T18:21:00Z'>18:21</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
actually, right now users expect an error if they try to load two copies..
<br>
</div>

<div class='talk op-msg' data-timestamp='1603218060' id='409269'>
<a class='timestamp' href='#409269'><time timestamp='2020-10-20T18:21:00Z'>18:21</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
for legacy, use the current seed, or default key for the non-hd wallets as they still have default key. for descriptor, hash the active descriptors
<br>
</div>

<div class='talk op-msg' data-timestamp='1603218060' id='409270'>
<a class='timestamp' href='#409270'><time timestamp='2020-10-20T18:21:00Z'>18:21</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
luke-jr: i usually just find it annoying that i can&#x27;t load them at the same time :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1603218060' id='409271'>
<a class='timestamp' href='#409271'><time timestamp='2020-10-20T18:21:00Z'>18:21</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but a warning seems useful
<br>
</div>

<div class='talk op-msg' data-timestamp='1603218120' id='409272'>
<a class='timestamp' href='#409272'><time timestamp='2020-10-20T18:22:00Z'>18:22</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
the error for loading duplicates is because bdb has issues when duplicates are loaded, not for any functionality reason
<br>
</div>

<div class='talk op-msg' data-timestamp='1603218120' id='409273'>
<a class='timestamp' href='#409273'><time timestamp='2020-10-20T18:22:00Z'>18:22</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i know
<br>
</div>

<div class='talk op-msg' data-timestamp='1603218180' id='409274'>
<a class='timestamp' href='#409274'><time timestamp='2020-10-20T18:23:00Z'>18:23</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
achow101: &quot;current&quot; anything would be wrong since it can change
<br>
</div>

<div class='talk op-msg' data-timestamp='1603218180' id='409275'>
<a class='timestamp' href='#409275'><time timestamp='2020-10-20T18:23:00Z'>18:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
luke-jr&#x27;s argument is that users have come to rely on that behavior... i&#x27;m not convinced it is, but if it is, i think just documenting it in release notes that the same doesn&#x27;t hold for sqlite/descriptor wallets is fine
<br>
</div>

<div class='talk op-msg' data-timestamp='1603218180' id='409276'>
<a class='timestamp' href='#409276'><time timestamp='2020-10-20T18:23:00Z'>18:23</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
luke-jr: if it changes, then you have a new backup..
<br>
</div>

<div class='talk op-msg' data-timestamp='1603218240' id='409277'>
<a class='timestamp' href='#409277'><time timestamp='2020-10-20T18:24:00Z'>18:24</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
it&#x27;s arguably not the same wallet
<br>
</div>

<div class='talk op-msg' data-timestamp='1603218480' id='409278'>
<a class='timestamp' href='#409278'><time timestamp='2020-10-20T18:28:00Z'>18:28</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
luke-jr: you could also just prompt people to make a backup of their wallet(s) when they first use prune locks
<br>
</div>

<div class='talk op-msg' data-timestamp='1603218660' id='409279'>
<a class='timestamp' href='#409279'><time timestamp='2020-10-20T18:31:00Z'>18:31</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
more bad UX for no reason
<br>
</div>

<div class='talk op-msg' data-timestamp='1603218780' id='409280'>
<a class='timestamp' href='#409280'><time timestamp='2020-10-20T18:33:00Z'>18:33</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
let me rephrase my earlier suggestion: for wallets missing a unique id, compute one based on the contents of that wallet (e.g. seed, default key, descriptors) at that time.
<br>
</div>

<div class='talk op-msg' data-timestamp='1603218780' id='409281'>
<a class='timestamp' href='#409281'><time timestamp='2020-10-20T18:33:00Z'>18:33</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
for valid backups of that wallet, the id will be the same. otherwise that backup is useless
<br>
</div>

<div class='talk op-msg' data-timestamp='1603218840' id='409282'>
<a class='timestamp' href='#409282'><time timestamp='2020-10-20T18:34:00Z'>18:34</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
this id persists, so later backups will have the same id
<br>
</div>

<div class='talk op-msg' data-timestamp='1603218840' id='409283'>
<a class='timestamp' href='#409283'><time timestamp='2020-10-20T18:34:00Z'>18:34</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] luke-jr opened pull request #20204: Wallet: Generate UUID for SQLite wallets (master...sqlite_wallet_uuid) <a href="https://github.com/bitcoin/bitcoin/pull/20204" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20204</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1603218900' id='409284'>
<a class='timestamp' href='#409284'><time timestamp='2020-10-20T18:35:00Z'>18:35</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
hebasto: yes. now. But not for long.
<br>
</div>

<div class='talk op-msg' data-timestamp='1603218900' id='409285'>
<a class='timestamp' href='#409285'><time timestamp='2020-10-20T18:35:00Z'>18:35</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
achow101: but older backups might not
<br>
</div>

<div class='talk op-msg' data-timestamp='1603218900' id='409286'>
<a class='timestamp' href='#409286'><time timestamp='2020-10-20T18:35:00Z'>18:35</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
might as well just fix it now and avoid the mess later entirely
<br>
</div>

<div class='talk op-msg' data-timestamp='1603218900' id='409287'>
<a class='timestamp' href='#409287'><time timestamp='2020-10-20T18:35:00Z'>18:35</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
luke-jr: why would they not?
<br>
</div>

<div class='talk op-msg' data-timestamp='1603218960' id='409288'>
<a class='timestamp' href='#409288'><time timestamp='2020-10-20T18:36:00Z'>18:36</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
achow101: perhaps the user has rotated their seed
<br>
</div>

<div class='talk op-msg' data-timestamp='1603218960' id='409289'>
<a class='timestamp' href='#409289'><time timestamp='2020-10-20T18:36:00Z'>18:36</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
then they made a new backup with the new seed
<br>
</div>

<div class='talk op-msg' data-timestamp='1603218960' id='409290'>
<a class='timestamp' href='#409290'><time timestamp='2020-10-20T18:36:00Z'>18:36</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
and should be restoring that one
<br>
</div>

<div class='talk op-msg' data-timestamp='1603219200' id='409291'>
<a class='timestamp' href='#409291'><time timestamp='2020-10-20T18:40:00Z'>18:40</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
oh, and since Core refuses to consider compatibility with non-Core wallets, this could mean it&#x27;s not safe to use it until Core releases prune locks itself
<br>
</div>

<div class='talk op-msg' data-timestamp='1603219200' id='409292'>
<a class='timestamp' href='#409292'><time timestamp='2020-10-20T18:40:00Z'>18:40</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
huh?
<br>
</div>

<div class='talk op-msg' data-timestamp='1603219380' id='409293'>
<a class='timestamp' href='#409293'><time timestamp='2020-10-20T18:43:00Z'>18:43</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
achow101: for example, I couldn&#x27;t put sqlite wallet + prune locks in Knots without a risk Core breaks it in the future
<br>
</div>

<div class='talk op-msg' data-timestamp='1603219380' id='409294'>
<a class='timestamp' href='#409294'><time timestamp='2020-10-20T18:43:00Z'>18:43</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
Knots already has BDB + prune locks, which is safe because it doesn&#x27;t require any wallet format changes
<br>
</div>

<div class='talk op-msg' data-timestamp='1603219920' id='409295'>
<a class='timestamp' href='#409295'><time timestamp='2020-10-20T18:52:00Z'>18:52</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
achow101: do you have a clue why the wallet_hd --descriptor test is failing on bitcoinbuilds.org: <a href="https://bitcoinbuilds.org/index.php?ansilog=93718c91-dfa1-4b09-b5ac-5e82f75f4563.log#l6112" class="link" target="_blank">https://bitcoinbuilds.org/index.php?ansilog=93718c91-dfa1-4b09-b5ac-5e82f75f4563.log#l6112</a>?
<br>
</div>

<div class='talk op-msg' data-timestamp='1603220160' id='409296'>
<a class='timestamp' href='#409296'><time timestamp='2020-10-20T18:56:00Z'>18:56</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
jonasschnelli: is that master?
<br>
</div>

<div class='talk op-msg' data-timestamp='1603220160' id='409297'>
<a class='timestamp' href='#409297'><time timestamp='2020-10-20T18:56:00Z'>18:56</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
no... a PR. But it fails also on master.
<br>
</div>

<div class='talk op-msg' data-timestamp='1603220160' id='409298'>
<a class='timestamp' href='#409298'><time timestamp='2020-10-20T18:56:00Z'>18:56</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
achow101: master would be here: <a href="https://bitcoinbuilds.org/index.php?build=3771" class="link" target="_blank">https://bitcoinbuilds.org/index.php?build=3771</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1603220220' id='409299'>
<a class='timestamp' href='#409299'><time timestamp='2020-10-20T18:57:00Z'>18:57</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
(different error though)
<br>
</div>

<div class='talk op-msg' data-timestamp='1603220460' id='409300'>
<a class='timestamp' href='#409300'><time timestamp='2020-10-20T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
well the problem is this: &quot;[default_wallet] CDataStream::read(): end of data: iostream error &quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1603220520' id='409301'>
<a class='timestamp' href='#409301'><time timestamp='2020-10-20T19:02:00Z'>19:02</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
so some record is too short
<br>
</div>

<div class='talk op-msg' data-timestamp='1603220520' id='409302'>
<a class='timestamp' href='#409302'><time timestamp='2020-10-20T19:02:00Z'>19:02</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
but I can&#x27;t replicate locally
<br>
</div>

<div class='talk op-msg' data-timestamp='1603220760' id='409303'>
<a class='timestamp' href='#409303'><time timestamp='2020-10-20T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
jonasschnelli: oh, it&#x27;s luke-jr&#x27;s uuid pr. the record is not written with our CDataStream stuff so it isn&#x27;t correctly formatted
<br>
</div>

<div class='talk op-msg' data-timestamp='1603220760' id='409304'>
<a class='timestamp' href='#409304'><time timestamp='2020-10-20T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
master is a different problem
<br>
</div>

<div class='talk op-msg' data-timestamp='1603220820' id='409305'>
<a class='timestamp' href='#409305'><time timestamp='2020-10-20T19:07:00Z'>19:07</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Don&#x27;t focus on lukes PR. I just saw that all PRs fail (as well as master)...
<br>
</div>

<div class='talk op-msg' data-timestamp='1603220820' id='409306'>
<a class='timestamp' href='#409306'><time timestamp='2020-10-20T19:07:00Z'>19:07</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
so if you have a hint here (<a href="https://bitcoinbuilds.org/index.php?ansilog=25c20237-3134-4099-9b5a-d618161eae99.log#l61609" class="link" target="_blank">https://bitcoinbuilds.org/index.php?ansilog=25c20237-3134-4099-9b5a-d618161eae99.log#l61609</a>) (master) that would be great
<br>
</div>

<div class='talk op-msg' data-timestamp='1603221000' id='409307'>
<a class='timestamp' href='#409307'><time timestamp='2020-10-20T19:10:00Z'>19:10</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
achow101: huh? how isn&#x27;t it?
<br>
</div>

<div class='talk op-msg' data-timestamp='1603221240' id='409308'>
<a class='timestamp' href='#409308'><time timestamp='2020-10-20T19:14:00Z'>19:14</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
luke-jr: whoops, forgot that DBBatch does use CDataStream. something&#x27;s wrong with the length writing though
<br>
</div>

<div class='talk op-msg' data-timestamp='1603221300' id='409309'>
<a class='timestamp' href='#409309'><time timestamp='2020-10-20T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
ah, because it&#x27;s const char[5] instead of std::string
<br>
</div>

<div class='talk op-msg' data-timestamp='1603224360' id='409310'>
<a class='timestamp' href='#409310'><time timestamp='2020-10-20T20:06:00Z'>20:06</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] achow101 opened pull request #20205: wallet: Properly support a wallet id (master...wallet-id) <a href="https://github.com/bitcoin/bitcoin/pull/20205" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20205</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1603228800' id='409311'>
<a class='timestamp' href='#409311'><time timestamp='2020-10-20T21:20:00Z'>21:20</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] hebasto opened pull request #20206: wallet, refactor: Include headers instead of function declarations (master...201020-headers) <a href="https://github.com/bitcoin/bitcoin/pull/20206" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20206</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1603229940' id='409312'>
<a class='timestamp' href='#409312'><time timestamp='2020-10-20T21:39:00Z'>21:39</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
jonasschnelli: I don&#x27;t know what&#x27;s wrong with that failure
<br>
</div>

<div class='talk op-msg' data-timestamp='1603233360' id='409313'>
<a class='timestamp' href='#409313'><time timestamp='2020-10-20T22:36:00Z'>22:36</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] sipa opened pull request #20207: Follow-up extra comments on taproot code and tests (master...202010_taproot-comments) <a href="https://github.com/bitcoin/bitcoin/pull/20207" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20207</a>
<br>
</div>

</div>
</section>

</body>
</html>
