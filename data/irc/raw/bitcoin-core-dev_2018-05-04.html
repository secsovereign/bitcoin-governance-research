<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2018-05-04
 — 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2018-05-04' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:22 UTC</pre>
<pre><a href="/bitcoin-core-dev/2018-04-04">&lt;</a><span class='header'>     May 2018     </span><a href="/bitcoin-core-dev/2018-06-04">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;       <a class="" href="/bitcoin-core-dev/2018-05-01">1</a>  <a class="" href="/bitcoin-core-dev/2018-05-02">2</a>  <a class="" href="/bitcoin-core-dev/2018-05-03">3</a>  <a class="current" href="/bitcoin-core-dev/2018-05-04">4</a>  <a class="" href="/bitcoin-core-dev/2018-05-05">5</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2018-05-06">6</a>  <a class="" href="/bitcoin-core-dev/2018-05-07">7</a>  <a class="" href="/bitcoin-core-dev/2018-05-08">8</a>  <a class="" href="/bitcoin-core-dev/2018-05-09">9</a> <a class="" href="/bitcoin-core-dev/2018-05-10">10</a> <a class="" href="/bitcoin-core-dev/2018-05-11">11</a> <a class="" href="/bitcoin-core-dev/2018-05-12">12</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2018-05-13">13</a> <a class="" href="/bitcoin-core-dev/2018-05-14">14</a> <a class="" href="/bitcoin-core-dev/2018-05-15">15</a> <a class="" href="/bitcoin-core-dev/2018-05-16">16</a> <a class="" href="/bitcoin-core-dev/2018-05-17">17</a> <a class="" href="/bitcoin-core-dev/2018-05-18">18</a> <a class="" href="/bitcoin-core-dev/2018-05-19">19</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2018-05-20">20</a> <a class="" href="/bitcoin-core-dev/2018-05-21">21</a> <a class="" href="/bitcoin-core-dev/2018-05-22">22</a> <a class="" href="/bitcoin-core-dev/2018-05-23">23</a> <a class="" href="/bitcoin-core-dev/2018-05-24">24</a> <a class="" href="/bitcoin-core-dev/2018-05-25">25</a> <a class="" href="/bitcoin-core-dev/2018-05-26">26</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2018-05-27">27</a> <a class="" href="/bitcoin-core-dev/2018-05-28">28</a> <a class="" href="/bitcoin-core-dev/2018-05-29">29</a> <a class="" href="/bitcoin-core-dev/2018-05-30">30</a> <a class="" href="/bitcoin-core-dev/2018-05-31">31</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1525392360' id='611303'>
<a class='timestamp' href='#611303'><time timestamp='2018-05-04T00:06:00Z'>00:06</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
jamesob: heh, no worries
<br>
</div>

<div class='talk op-msg' data-timestamp='1525392420' id='611304'>
<a class='timestamp' href='#611304'><time timestamp='2018-05-04T00:07:00Z'>00:07</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
sipa: it just occured to me that Span is begging to be used for scatter/gather
<br>
</div>

<div class='talk op-msg' data-timestamp='1525392420' id='611305'>
<a class='timestamp' href='#611305'><time timestamp='2018-05-04T00:07:00Z'>00:07</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ha, yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1525392480' id='611306'>
<a class='timestamp' href='#611306'><time timestamp='2018-05-04T00:08:00Z'>00:08</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
Span&amp; even casts perfectly to iovec*
<br>
</div>

<div class='talk op-msg' data-timestamp='1525392540' id='611307'>
<a class='timestamp' href='#611307'><time timestamp='2018-05-04T00:09:00Z'>00:09</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
trying to decide if we should encourage that with a helper, or encourage iovec vec(span.data(), span.size()) instead.
<br>
</div>

<div class='talk op-msg' data-timestamp='1525392660' id='611308'>
<a class='timestamp' href='#611308'><time timestamp='2018-05-04T00:11:00Z'>00:11</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
<a href="https://0bin.net/paste/gRcNPbxui+WjB-jK#rXShNTSfMZHh6hZXiUbjxHBzcUwb4dXmy2J3aUYkBzR" class="link" target="_blank">https://0bin.net/paste/gRcNPbxui+WjB-jK#rXShNTSfMZHh6hZXiUbjxHBzcUwb4dXmy2J3aUYkBzR</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1525392720' id='611309'>
<a class='timestamp' href='#611309'><time timestamp='2018-05-04T00:12:00Z'>00:12</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that sounds awefully platform specific
<br>
</div>

<div class='talk op-msg' data-timestamp='1525392720' id='611310'>
<a class='timestamp' href='#611310'><time timestamp='2018-05-04T00:12:00Z'>00:12</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
*awfully?
<br>
</div>

<div class='talk op-msg' data-timestamp='1525392780' id='611311'>
<a class='timestamp' href='#611311'><time timestamp='2018-05-04T00:13:00Z'>00:13</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
i think it&#x27;s pretty universal, the struct padding is the only thing i can see practically changing...
<br>
</div>

<div class='talk op-msg' data-timestamp='1525392840' id='611312'>
<a class='timestamp' href='#611312'><time timestamp='2018-05-04T00:14:00Z'>00:14</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
but I guess you&#x27;re right, it doesn&#x27;t save much
<br>
</div>

<div class='talk op-msg' data-timestamp='1525396200' id='611313'>
<a class='timestamp' href='#611313'><time timestamp='2018-05-04T01:10:00Z'>01:10</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
pierre_rochard nice rupdates to bitcoinacks so far.
<br>
</div>

<div class='talk op-msg' data-timestamp='1525396680' id='611314'>
<a class='timestamp' href='#611314'><time timestamp='2018-05-04T01:18:00Z'>01:18</time></a>
&lt;<span class='nick nick-11'> pierre_rochard</span>&gt;
Thanks fanquake! ICYMI: <a href="https://bitcoinacks.com/" class="link" target="_blank">https://bitcoinacks.com/</a> I have a few ideas for the next big iteration ( <a href="https://github.com/PierreRochard/bitcoin-acks/blob/acks/README.md" class="link" target="_blank">https://github.com/PierreRochard/bitcoin-acks/blob/acks/README.md</a> ), happy to add more if you have anything that is dragging you down as a contributor/reviewer/maintainer. Something I was thinking about during today’s meeting was surfacing High Priority for review PRs in the UI.
<br>
</div>

<div class='talk op-msg' data-timestamp='1525397160' id='611315'>
<a class='timestamp' href='#611315'><time timestamp='2018-05-04T01:26:00Z'>01:26</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
pierre_rochard Cool, I&#x27;ll take a look. Even something as simple as a different background colour on the High Priority PRs might work.
<br>
</div>

<div class='talk op-msg' data-timestamp='1525400100' id='611316'>
<a class='timestamp' href='#611316'><time timestamp='2018-05-04T02:15:00Z'>02:15</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] fanquake opened pull request #13165: doc: Mention good first issue list in CONTRIBUTING.md (master...good-first-issue) <a href="https://github.com/bitcoin/bitcoin/pull/13165" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/13165</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1525400160' id='611317'>
<a class='timestamp' href='#611317'><time timestamp='2018-05-04T02:16:00Z'>02:16</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
pierre_rochard: not forcing the horizontal scrollbar off would be nice
<br>
</div>

<div class='talk op-msg' data-timestamp='1525400160' id='611318'>
<a class='timestamp' href='#611318'><time timestamp='2018-05-04T02:16:00Z'>02:16</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
and some way to hide closed PRs
<br>
</div>

<div class='talk op-msg' data-timestamp='1525400220' id='611319'>
<a class='timestamp' href='#611319'><time timestamp='2018-05-04T02:17:00Z'>02:17</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
not sure why adding a filter for Closed insists on the value being a date O.o
<br>
</div>

<div class='talk op-msg' data-timestamp='1525404420' id='611320'>
<a class='timestamp' href='#611320'><time timestamp='2018-05-04T03:27:00Z'>03:27</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
Not the most useful error message for Core to spit out heh: <a href="https://0bin.net/paste/fIINOwfRR9GIR-SZ#c7Sx1" class="link" target="_blank">https://0bin.net/paste/fIINOwfRR9GIR-SZ#c7Sx1</a>+EM3HJjYaTx0C6c5Exa6MYt7AIO-RweISgWZcG
<br>
</div>

<div class='talk op-msg' data-timestamp='1525404420' id='611321'>
<a class='timestamp' href='#611321'><time timestamp='2018-05-04T03:27:00Z'>03:27</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
Looking at #13161, there seems to be a case where even after a database error Core just continues on, and then segfaults at shutdown.
<br>
</div>

<div class='talk op-msg' data-timestamp='1525404420' id='611322'>
<a class='timestamp' href='#611322'><time timestamp='2018-05-04T03:27:00Z'>03:27</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/13161" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/13161</a> | wallet: Reset BerkeleyDB handle after connection fails by real-or-random · Pull Request #13161 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1525410660' id='611323'>
<a class='timestamp' href='#611323'><time timestamp='2018-05-04T05:11:00Z'>05:11</time></a>
&lt;<span class='nick nick-13'> ken2812221</span>&gt;
fanquake: That happened while I was testing #12985 if Bitcoin Core cannot write wallet file
<br>
</div>

<div class='talk op-msg' data-timestamp='1525410660' id='611324'>
<a class='timestamp' href='#611324'><time timestamp='2018-05-04T05:11:00Z'>05:11</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/12985" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/12985</a> | Windows: Avoid launching as admin when NSIS installer ends. by JeremyRand · Pull Request #12985 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1525418520' id='611325'>
<a class='timestamp' href='#611325'><time timestamp='2018-05-04T07:22:00Z'>07:22</time></a>
&lt;<span class='nick nick-12'> glaksmono</span>&gt;
hi all
<br>
</div>

<div class='talk op-msg' data-timestamp='1525418520' id='611326'>
<a class='timestamp' href='#611326'><time timestamp='2018-05-04T07:22:00Z'>07:22</time></a>
&lt;<span class='nick nick-12'> glaksmono</span>&gt;
anyone is around?
<br>
</div>

<div class='talk op-msg' data-timestamp='1525418940' id='611327'>
<a class='timestamp' href='#611327'><time timestamp='2018-05-04T07:29:00Z'>07:29</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
if you have a question, just ask; don&#x27;t ask to ask or if anyone is around (your client can show you there are 241 people here)
<br>
</div>

<div class='talk op-msg' data-timestamp='1525418940' id='611328'>
<a class='timestamp' href='#611328'><time timestamp='2018-05-04T07:29:00Z'>07:29</time></a>
&lt;<span class='nick nick-12'> glaksmono</span>&gt;
Is there a tutorial somewhere on how to fork a coin?
<br>
</div>

<div class='talk op-msg' data-timestamp='1525419000' id='611329'>
<a class='timestamp' href='#611329'><time timestamp='2018-05-04T07:30:00Z'>07:30</time></a>
&lt;<span class='nick nick-12'> glaksmono</span>&gt;
I want to learn how is Bitcoin born from the technical perspective
<br>
</div>

<div class='talk op-msg' data-timestamp='1525419000' id='611330'>
<a class='timestamp' href='#611330'><time timestamp='2018-05-04T07:30:00Z'>07:30</time></a>
&lt;<span class='nick nick-12'> glaksmono</span>&gt;
@luke-jr 
<br>
</div>

<div class='talk op-msg' data-timestamp='1525419120' id='611331'>
<a class='timestamp' href='#611331'><time timestamp='2018-05-04T07:32:00Z'>07:32</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
it wasn&#x27;t born by a fork, and such things are not on topic here
<br>
</div>

<div class='talk op-msg' data-timestamp='1525419240' id='611332'>
<a class='timestamp' href='#611332'><time timestamp='2018-05-04T07:34:00Z'>07:34</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
try ##altcoin-dev
<br>
</div>

<div class='talk op-msg' data-timestamp='1525419360' id='611333'>
<a class='timestamp' href='#611333'><time timestamp='2018-05-04T07:36:00Z'>07:36</time></a>
&lt;<span class='nick nick-12'> glaksmono</span>&gt;
thanks @sipa @luke-jr
<br>
</div>

<div class='talk op-msg' data-timestamp='1525419360' id='611334'>
<a class='timestamp' href='#611334'><time timestamp='2018-05-04T07:36:00Z'>07:36</time></a>
&lt;<span class='nick nick-12'> glaksmono</span>&gt;
in any case, how it was born?
<br>
</div>

<div class='talk op-msg' data-timestamp='1525419360' id='611335'>
<a class='timestamp' href='#611335'><time timestamp='2018-05-04T07:36:00Z'>07:36</time></a>
&lt;<span class='nick nick-12'> glaksmono</span>&gt;
so let&#x27;s assume Satoshi on the early days finish his coding.. and then compiled
<br>
</div>

<div class='talk op-msg' data-timestamp='1525419360' id='611336'>
<a class='timestamp' href='#611336'><time timestamp='2018-05-04T07:36:00Z'>07:36</time></a>
&lt;<span class='nick nick-12'> glaksmono</span>&gt;
then he deployed the first bitcoind in a server i presume? 
<br>
</div>

<div class='talk op-msg' data-timestamp='1525419420' id='611337'>
<a class='timestamp' href='#611337'><time timestamp='2018-05-04T07:37:00Z'>07:37</time></a>
&lt;<span class='nick nick-12'> glaksmono</span>&gt;
i also posted my question here: <a href="https://bitcointalk.org/index.php?topic=3526903.0" class="link" target="_blank">https://bitcointalk.org/index.php?topic=3526903.0</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1525420620' id='611338'>
<a class='timestamp' href='#611338'><time timestamp='2018-05-04T07:57:00Z'>07:57</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
glaksmono: this is a place for development, not bitcoin mythology
<br>
</div>

<div class='talk op-msg' data-timestamp='1525424940' id='611339'>
<a class='timestamp' href='#611339'><time timestamp='2018-05-04T09:09:00Z'>09:09</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
external tx index via p2p with leveldb and ~1&#x27;000&#x27;000 record mem cache: full index via p2p localhost up to block 500&#x27;000: 87m41.629s
<br>
</div>

<div class='talk op-msg' data-timestamp='1525424940' id='611340'>
<a class='timestamp' href='#611340'><time timestamp='2018-05-04T09:09:00Z'>09:09</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
(SSD)
<br>
</div>

<div class='talk op-msg' data-timestamp='1525425000' id='611341'>
<a class='timestamp' href='#611341'><time timestamp='2018-05-04T09:10:00Z'>09:10</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
PoC: <a href="https://github.com/jonasschnelli/bitcoincore-indexd" class="link" target="_blank">https://github.com/jonasschnelli/bitcoincore-indexd</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1525425600' id='611342'>
<a class='timestamp' href='#611342'><time timestamp='2018-05-04T09:20:00Z'>09:20</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
jonasschnelli: awesome!
<br>
</div>

<div class='talk op-msg' data-timestamp='1525425660' id='611343'>
<a class='timestamp' href='#611343'><time timestamp='2018-05-04T09:21:00Z'>09:21</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
jonasschnelli: is that with or without my patch at the bitcoind side?
<br>
</div>

<div class='talk op-msg' data-timestamp='1525425660' id='611344'>
<a class='timestamp' href='#611344'><time timestamp='2018-05-04T09:21:00Z'>09:21</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
without... will compare performance soon
<br>
</div>

<div class='talk op-msg' data-timestamp='1525425720' id='611345'>
<a class='timestamp' href='#611345'><time timestamp='2018-05-04T09:22:00Z'>09:22</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I&#x27;m working on a test setup where block 450&#x27;000 to 500&#x27;000 will be requested probably 100-1000 times... then print the median result
<br>
</div>

<div class='talk op-msg' data-timestamp='1525425720' id='611346'>
<a class='timestamp' href='#611346'><time timestamp='2018-05-04T09:22:00Z'>09:22</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
the client just loads the block but does not deserialize it
<br>
</div>

<div class='talk op-msg' data-timestamp='1525425720' id='611347'>
<a class='timestamp' href='#611347'><time timestamp='2018-05-04T09:22:00Z'>09:22</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
right, you have block request logic in bitcoincore-indexd, so might be an idea to start from that and make a benchmarker that just pulls blocks and drops them
<br>
</div>

<div class='talk op-msg' data-timestamp='1525425780' id='611348'>
<a class='timestamp' href='#611348'><time timestamp='2018-05-04T09:23:00Z'>09:23</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
I thought about making something based on the P2P functional test framework, but python is likely going to be a bottleneck then
<br>
</div>

<div class='talk op-msg' data-timestamp='1525426020' id='611349'>
<a class='timestamp' href='#611349'><time timestamp='2018-05-04T09:27:00Z'>09:27</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
yes. the current poc uses libbtc which is a straight forward p2p client using libevent2
<br>
</div>

<div class='talk op-msg' data-timestamp='1525428660' id='611350'>
<a class='timestamp' href='#611350'><time timestamp='2018-05-04T10:11:00Z'>10:11</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
jonasschnelli: going to try to build it
<br>
</div>

<div class='talk op-msg' data-timestamp='1525428660' id='611351'>
<a class='timestamp' href='#611351'><time timestamp='2018-05-04T10:11:00Z'>10:11</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
wumpus: great. with python?
<br>
</div>

<div class='talk op-msg' data-timestamp='1525428720' id='611352'>
<a class='timestamp' href='#611352'><time timestamp='2018-05-04T10:12:00Z'>10:12</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
jonasschnelli: I mean your indexd project
<br>
</div>

<div class='talk op-msg' data-timestamp='1525428720' id='611353'>
<a class='timestamp' href='#611353'><time timestamp='2018-05-04T10:12:00Z'>10:12</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
and try to do some benchmarking with it
<br>
</div>

<div class='talk op-msg' data-timestamp='1525428780' id='611354'>
<a class='timestamp' href='#611354'><time timestamp='2018-05-04T10:13:00Z'>10:13</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
wumpus: it&#x27;s very immature and sketchy
<br>
</div>

<div class='talk op-msg' data-timestamp='1525428780' id='611355'>
<a class='timestamp' href='#611355'><time timestamp='2018-05-04T10:13:00Z'>10:13</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
yes but I only need a very basic node framework for this, the less overhead the better
<br>
</div>

<div class='talk op-msg' data-timestamp='1525428780' id='611356'>
<a class='timestamp' href='#611356'><time timestamp='2018-05-04T10:13:00Z'>10:13</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
also... you probably need a manual -lpthread for linking... :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1525429020' id='611357'>
<a class='timestamp' href='#611357'><time timestamp='2018-05-04T10:17:00Z'>10:17</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
yes... give it a try
<br>
</div>

<div class='talk op-msg' data-timestamp='1525429020' id='611358'>
<a class='timestamp' href='#611358'><time timestamp='2018-05-04T10:17:00Z'>10:17</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
I first have to make it find my customized libevent 
<br>
</div>

<div class='talk op-msg' data-timestamp='1525429080' id='611359'>
<a class='timestamp' href='#611359'><time timestamp='2018-05-04T10:18:00Z'>10:18</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
hopefully PKG_CONFIG_PATH does just work :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1525429380' id='611360'>
<a class='timestamp' href='#611360'><time timestamp='2018-05-04T10:23:00Z'>10:23</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
jonasschnelli: a shame, looks like the libbtc libevent2 check doesn&#x27;t use pkgconfig to check where the library is
<br>
</div>

<div class='talk op-msg' data-timestamp='1525429440' id='611361'>
<a class='timestamp' href='#611361'><time timestamp='2018-05-04T10:24:00Z'>10:24</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
I&#x27;ll see if I can add that or maybe I&#x27;ll just whack in CPPFLAGS=... for now
<br>
</div>

<div class='talk op-msg' data-timestamp='1525430940' id='611362'>
<a class='timestamp' href='#611362'><time timestamp='2018-05-04T10:49:00Z'>10:49</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
wumpus: Good point. happy if you open a PR at github.com/libbtc/libbtc ;)
<br>
</div>

<div class='talk op-msg' data-timestamp='1525431360' id='611363'>
<a class='timestamp' href='#611363'><time timestamp='2018-05-04T10:56:00Z'>10:56</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] mocacinno opened pull request #13166: Master (0.14...master) <a href="https://github.com/bitcoin/bitcoin/pull/13166" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/13166</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1525431420' id='611364'>
<a class='timestamp' href='#611364'><time timestamp='2018-05-04T10:57:00Z'>10:57</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] fanquake closed pull request #13166: Master (0.14...master) <a href="https://github.com/bitcoin/bitcoin/pull/13166" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/13166</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1525432200' id='611365'>
<a class='timestamp' href='#611365'><time timestamp='2018-05-04T11:10:00Z'>11:10</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
jonasschnelli: also need to pass in -fPIC I suposse /usr/bin/ld: bitcoincore_indexd-btcnode.o: relocation R_X86_64_32 against `.rodata.str1.1&#x27; can not be used when making a shared object; recompile with -fPIC
<br>
</div>

<div class='talk op-msg' data-timestamp='1525435080' id='611366'>
<a class='timestamp' href='#611366'><time timestamp='2018-05-04T11:58:00Z'>11:58</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
jonasschnelli: where does it get the node configuration (where to connect to) from?
<br>
</div>

<div class='talk op-msg' data-timestamp='1525435080' id='611367'>
<a class='timestamp' href='#611367'><time timestamp='2018-05-04T11:58:00Z'>11:58</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
wumpus: btcnode.cpp
<br>
</div>

<div class='talk op-msg' data-timestamp='1525435080' id='611368'>
<a class='timestamp' href='#611368'><time timestamp='2018-05-04T11:58:00Z'>11:58</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
search after 127.0.0,1
<br>
</div>

<div class='talk op-msg' data-timestamp='1525435080' id='611369'>
<a class='timestamp' href='#611369'><time timestamp='2018-05-04T11:58:00Z'>11:58</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
ok I see,t hanks
<br>
</div>

<div class='talk op-msg' data-timestamp='1525435200' id='611370'>
<a class='timestamp' href='#611370'><time timestamp='2018-05-04T12:00:00Z'>12:00</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
so simply 127.0.0.1:8333, but it wasn&#x27;t connecting because my node was not listening
<br>
</div>

<div class='talk op-msg' data-timestamp='1525435500' id='611371'>
<a class='timestamp' href='#611371'><time timestamp='2018-05-04T12:05:00Z'>12:05</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
it doesn&#x27;t start requesting blocks :/
<br>
</div>

<div class='talk op-msg' data-timestamp='1525435560' id='611372'>
<a class='timestamp' href='#611372'><time timestamp='2018-05-04T12:06:00Z'>12:06</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
jonasschnelli: is there anything I need to do to make it start pulling blocks? <a href="https://0bin.net/paste/TJj0okkQanP2H++H#VgX0GogDES9a0RXqsvgyKYJC5Ed0Y-4RFQwgO2aKQYe" class="link" target="_blank">https://0bin.net/paste/TJj0okkQanP2H++H#VgX0GogDES9a0RXqsvgyKYJC5Ed0Y-4RFQwgO2aKQYe</a> is my output, seems to be idling
<br>
</div>

<div class='talk op-msg' data-timestamp='1525435680' id='611373'>
<a class='timestamp' href='#611373'><time timestamp='2018-05-04T12:08:00Z'>12:08</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
wumpus: What do you do in handshake_done()?
<br>
</div>

<div class='talk op-msg' data-timestamp='1525435680' id='611374'>
<a class='timestamp' href='#611374'><time timestamp='2018-05-04T12:08:00Z'>12:08</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
This is where you should ask for blocks
<br>
</div>

<div class='talk op-msg' data-timestamp='1525435680' id='611375'>
<a class='timestamp' href='#611375'><time timestamp='2018-05-04T12:08:00Z'>12:08</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
the current bitcoincore-indexd does sync headers first
<br>
</div>

<div class='talk op-msg' data-timestamp='1525435740' id='611376'>
<a class='timestamp' href='#611376'><time timestamp='2018-05-04T12:09:00Z'>12:09</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
jonasschnelli: haven&#x27;t changed the function
<br>
</div>

<div class='talk op-msg' data-timestamp='1525435800' id='611377'>
<a class='timestamp' href='#611377'><time timestamp='2018-05-04T12:10:00Z'>12:10</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
wumpus: it looks like it doesn request headers then
<br>
</div>

<div class='talk op-msg' data-timestamp='1525435800' id='611378'>
<a class='timestamp' href='#611378'><time timestamp='2018-05-04T12:10:00Z'>12:10</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
maybe set a breakpoint in void handshake_done(struct btc_node_ *node)
<br>
</div>

<div class='talk op-msg' data-timestamp='1525435800' id='611379'>
<a class='timestamp' href='#611379'><time timestamp='2018-05-04T12:10:00Z'>12:10</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
wumpus: wait..
<br>
</div>

<div class='talk op-msg' data-timestamp='1525435800' id='611380'>
<a class='timestamp' href='#611380'><time timestamp='2018-05-04T12:10:00Z'>12:10</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
your client-peer is sending a getheaders()
<br>
</div>

<div class='talk op-msg' data-timestamp='1525435860' id='611381'>
<a class='timestamp' href='#611381'><time timestamp='2018-05-04T12:11:00Z'>12:11</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
-()     
<br>
</div>

<div class='talk op-msg' data-timestamp='1525435860' id='611382'>
<a class='timestamp' href='#611382'><time timestamp='2018-05-04T12:11:00Z'>12:11</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
but seems like your remote node does not answer
<br>
</div>

<div class='talk op-msg' data-timestamp='1525435860' id='611383'>
<a class='timestamp' href='#611383'><time timestamp='2018-05-04T12:11:00Z'>12:11</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
will do - the node syncing from is not up to date with the chain, could that be a problem?
<br>
</div>

<div class='talk op-msg' data-timestamp='1525435860' id='611384'>
<a class='timestamp' href='#611384'><time timestamp='2018-05-04T12:11:00Z'>12:11</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Are they on the same network? Mainnet/etc.?
<br>
</div>

<div class='talk op-msg' data-timestamp='1525435860' id='611385'>
<a class='timestamp' href='#611385'><time timestamp='2018-05-04T12:11:00Z'>12:11</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
yes both on mainnet
<br>
</div>

<div class='talk op-msg' data-timestamp='1525435860' id='611386'>
<a class='timestamp' href='#611386'><time timestamp='2018-05-04T12:11:00Z'>12:11</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
I&#x27;ll look into it
<br>
</div>

<div class='talk op-msg' data-timestamp='1525435920' id='611387'>
<a class='timestamp' href='#611387'><time timestamp='2018-05-04T12:12:00Z'>12:12</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
wumpus: eventually... the client node will ask for headers from genesis... could be that your remote node is refusing that during IBD
<br>
</div>

<div class='talk op-msg' data-timestamp='1525436160' id='611388'>
<a class='timestamp' href='#611388'><time timestamp='2018-05-04T12:16:00Z'>12:16</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
jonasschnelli: indeed - seems like the old &quot;Ignoring getheaders from peer=%d because node is in initial block download&quot; plague again, adding whitelist=127.0.0.1 solved it
<br>
</div>

<div class='talk op-msg' data-timestamp='1525436160' id='611389'>
<a class='timestamp' href='#611389'><time timestamp='2018-05-04T12:16:00Z'>12:16</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
it&#x27;s rolling
<br>
</div>

<div class='talk op-msg' data-timestamp='1525436220' id='611390'>
<a class='timestamp' href='#611390'><time timestamp='2018-05-04T12:17:00Z'>12:17</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
wumpus: why did you use a custom built libevent? Did you modify the sources for performance measuring?
<br>
</div>

<div class='talk op-msg' data-timestamp='1525436280' id='611391'>
<a class='timestamp' href='#611391'><time timestamp='2018-05-04T12:18:00Z'>12:18</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
I want to have a newer one that is installed on this version of ubuntu by default, I&#x27;ve also made some http changes to make it work with UNIX domain sockets, though that part isn&#x27;t necessary here it&#x27;s the only version of libevent I have installed 
<br>
</div>

<div class='talk op-msg' data-timestamp='1525436280' id='611392'>
<a class='timestamp' href='#611392'><time timestamp='2018-05-04T12:18:00Z'>12:18</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
(and I always install manuall-compiled things into /opt/&lt;libname&gt;, not in /usr)
<br>
</div>

<div class='talk op-msg' data-timestamp='1525436340' id='611393'>
<a class='timestamp' href='#611393'><time timestamp='2018-05-04T12:19:00Z'>12:19</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I see
<br>
</div>

<div class='talk op-msg' data-timestamp='1525437060' id='611394'>
<a class='timestamp' href='#611394'><time timestamp='2018-05-04T12:31:00Z'>12:31</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
jonasschnelli: looks like it doesn&#x27;t hit the fast path, I suppose your indexer doesn&#x27;t request MSG_WITNESS_BLOCK?
<br>
</div>

<div class='talk op-msg' data-timestamp='1525437120' id='611395'>
<a class='timestamp' href='#611395'><time timestamp='2018-05-04T12:32:00Z'>12:32</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
wumpus: the indexer does send a inv with blockhashes... shouldn&#x27;t this result in a MSG_WITNESS_BLOCK?
<br>
</div>

<div class='talk op-msg' data-timestamp='1525437240' id='611396'>
<a class='timestamp' href='#611396'><time timestamp='2018-05-04T12:34:00Z'>12:34</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
jonasschnelli: ser_u32(inv_msg_cstr, 2);   &lt;- that&#x27;s MSG_BLOCK, not MSG_WITNESS_BLOCK
<br>
</div>

<div class='talk op-msg' data-timestamp='1525437300' id='611397'>
<a class='timestamp' href='#611397'><time timestamp='2018-05-04T12:35:00Z'>12:35</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
needs 1 &lt;&lt; 30 ORed in
<br>
</div>

<div class='talk op-msg' data-timestamp='1525437420' id='611398'>
<a class='timestamp' href='#611398'><time timestamp='2018-05-04T12:37:00Z'>12:37</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Right. Yes. I guess just changing to MSG_BLOCK | MSG_WITNESS_FLAG should do the job.
<br>
</div>

<div class='talk op-msg' data-timestamp='1525437480' id='611399'>
<a class='timestamp' href='#611399'><time timestamp='2018-05-04T12:38:00Z'>12:38</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
yes     
<br>
</div>

<div class='talk op-msg' data-timestamp='1525437480' id='611400'>
<a class='timestamp' href='#611400'><time timestamp='2018-05-04T12:38:00Z'>12:38</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
eh no, those constants are not defined anywhere
<br>
</div>

<div class='talk op-msg' data-timestamp='1525437540' id='611401'>
<a class='timestamp' href='#611401'><time timestamp='2018-05-04T12:39:00Z'>12:39</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
would be a good idea though
<br>
</div>

<div class='talk op-msg' data-timestamp='1525437720' id='611402'>
<a class='timestamp' href='#611402'><time timestamp='2018-05-04T12:42:00Z'>12:42</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
yes     
<br>
</div>

<div class='talk op-msg' data-timestamp='1525438200' id='611403'>
<a class='timestamp' href='#611403'><time timestamp='2018-05-04T12:50:00Z'>12:50</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
ok, hitting the fast path now on the server side, I commented out the transaction processing code on the client side - and make it quit when current block height is 473600 (arbitrary)... just a matter of waiting now
<br>
</div>

<div class='talk op-msg' data-timestamp='1525438500' id='611404'>
<a class='timestamp' href='#611404'><time timestamp='2018-05-04T12:55:00Z'>12:55</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
wumpus: I would probably start from 450000 up to 500000 for performance tests.
<br>
</div>

<div class='talk op-msg' data-timestamp='1525438560' id='611405'>
<a class='timestamp' href='#611405'><time timestamp='2018-05-04T12:56:00Z'>12:56</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
yes maybe - I don&#x27;t have any more recennt blocks on this node, so this will have to do for now
<br>
</div>

<div class='talk op-msg' data-timestamp='1525438680' id='611406'>
<a class='timestamp' href='#611406'><time timestamp='2018-05-04T12:58:00Z'>12:58</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
including the small blocks in the beginning is not very useful, probably, but should not take a lot of time
<br>
</div>

<div class='talk op-msg' data-timestamp='1525438740' id='611407'>
<a class='timestamp' href='#611407'><time timestamp='2018-05-04T12:59:00Z'>12:59</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Indeed.
<br>
</div>

<div class='talk op-msg' data-timestamp='1525438800' id='611408'>
<a class='timestamp' href='#611408'><time timestamp='2018-05-04T13:00:00Z'>13:00</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
wumpus: for performance benchmarks, what do you think in requesting 450k-500k, measure time, loop this for 1000 and calculate avg/med?
<br>
</div>

<div class='talk op-msg' data-timestamp='1525438800' id='611409'>
<a class='timestamp' href='#611409'><time timestamp='2018-05-04T13:00:00Z'>13:00</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
450-500k should take seconds
<br>
</div>

<div class='talk op-msg' data-timestamp='1525438860' id='611410'>
<a class='timestamp' href='#611410'><time timestamp='2018-05-04T13:01:00Z'>13:01</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
requesting the same blocks over again will make them end up in the disk cache, though it&#x27;s easy to average out especially when you disregard the first run
<br>
</div>

<div class='talk op-msg' data-timestamp='1525443780' id='611411'>
<a class='timestamp' href='#611411'><time timestamp='2018-05-04T14:23:00Z'>14:23</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/7eb7076f7007...627c3762ce5d" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/7eb7076f7007...627c3762ce5d</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1525443780' id='611412'>
<a class='timestamp' href='#611412'><time timestamp='2018-05-04T14:23:00Z'>14:23</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master a508091 fanquake: doc: Mention good first issue list in CONTRIBUTING.md
<br>
</div>

<div class='talk op-msg' data-timestamp='1525443780' id='611413'>
<a class='timestamp' href='#611413'><time timestamp='2018-05-04T14:23:00Z'>14:23</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 627c376 MarcoFalke: Merge #13165: doc: Mention good first issue list in CONTRIBUTING.md...
<br>
</div>

<div class='talk op-msg' data-timestamp='1525443840' id='611414'>
<a class='timestamp' href='#611414'><time timestamp='2018-05-04T14:24:00Z'>14:24</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke closed pull request #13165: doc: Mention good first issue list in CONTRIBUTING.md (master...good-first-issue) <a href="https://github.com/bitcoin/bitcoin/pull/13165" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/13165</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1525448220' id='611415'>
<a class='timestamp' href='#611415'><time timestamp='2018-05-04T15:37:00Z'>15:37</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] martinus opened pull request #13167: Refactoring: optimize SelectCoinsBnB (master...optimize-SelectCoinsBnB) <a href="https://github.com/bitcoin/bitcoin/pull/13167" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/13167</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1525451280' id='611416'>
<a class='timestamp' href='#611416'><time timestamp='2018-05-04T16:28:00Z'>16:28</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
BlueMatt: i think there might be another edge case bug in ABC that we didn&#x27;t talk about yet
<br>
</div>

<div class='talk op-msg' data-timestamp='1525451280' id='611417'>
<a class='timestamp' href='#611417'><time timestamp='2018-05-04T16:28:00Z'>16:28</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
oh? ugh
<br>
</div>

<div class='talk op-msg' data-timestamp='1525451280' id='611418'>
<a class='timestamp' href='#611418'><time timestamp='2018-05-04T16:28:00Z'>16:28</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
it seems like it might be possible for pruning to run in between cs_main lock acquisitions?
<br>
</div>

<div class='talk op-msg' data-timestamp='1525451280' id='611419'>
<a class='timestamp' href='#611419'><time timestamp='2018-05-04T16:28:00Z'>16:28</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
and it&#x27;s FindMostWorkChain&#x27;s job to deal with that
<br>
</div>

<div class='talk op-msg' data-timestamp='1525451340' id='611420'>
<a class='timestamp' href='#611420'><time timestamp='2018-05-04T16:29:00Z'>16:29</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
probably it couldn&#x27;t really happen in any &quot;normal&quot; scenario
<br>
</div>

<div class='talk op-msg' data-timestamp='1525451460' id='611421'>
<a class='timestamp' href='#611421'><time timestamp='2018-05-04T16:31:00Z'>16:31</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
anyway i think this may not be so different than other modes where pruning might fail, so i don&#x27;t know that we should worry about it, except maybe add some comments to remind ourselves
<br>
</div>

<div class='talk op-msg' data-timestamp='1525452420' id='611422'>
<a class='timestamp' href='#611422'><time timestamp='2018-05-04T16:47:00Z'>16:47</time></a>
&lt;<span class='nick nick-11'> ramzo</span>&gt;
hello
<br>
</div>

<div class='talk op-msg' data-timestamp='1525453620' id='611423'>
<a class='timestamp' href='#611423'><time timestamp='2018-05-04T17:07:00Z'>17:07</time></a>
&lt;<span class='nick nick-13'> ken2812221</span>&gt;
Is there a way to update-alternatives in gitian builder? I&#x27;m trying to bump my gitian build to 18.04, but stuck at Windows update-alternatives to posix version.
<br>
</div>

<div class='talk op-msg' data-timestamp='1525453740' id='611424'>
<a class='timestamp' href='#611424'><time timestamp='2018-05-04T17:09:00Z'>17:09</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
ken2812221: yes, you can sudo afaik
<br>
</div>

<div class='talk op-msg' data-timestamp='1525453800' id='611425'>
<a class='timestamp' href='#611425'><time timestamp='2018-05-04T17:10:00Z'>17:10</time></a>
&lt;<span class='nick nick-13'> ken2812221</span>&gt;
no, sudo or su does not work.
<br>
</div>

<div class='talk op-msg' data-timestamp='1525453980' id='611426'>
<a class='timestamp' href='#611426'><time timestamp='2018-05-04T17:13:00Z'>17:13</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
I think it&#x27;s possible to enable that in the descriptor
<br>
</div>

<div class='talk op-msg' data-timestamp='1525454040' id='611427'>
<a class='timestamp' href='#611427'><time timestamp='2018-05-04T17:14:00Z'>17:14</time></a>
&lt;<span class='nick nick-13'> ken2812221</span>&gt;
Ok, I would find it, thanks.
<br>
</div>

<div class='talk op-msg' data-timestamp='1525454220' id='611428'>
<a class='timestamp' href='#611428'><time timestamp='2018-05-04T17:17:00Z'>17:17</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
gbuild has to be run with --alow-sudo in that case, too
<br>
</div>

<div class='talk op-msg' data-timestamp='1525454340' id='611429'>
<a class='timestamp' href='#611429'><time timestamp='2018-05-04T17:19:00Z'>17:19</time></a>
&lt;<span class='nick nick-13'> ken2812221</span>&gt;
Ok. I&#x27;m trying.
<br>
</div>

<div class='talk op-msg' data-timestamp='1525454460' id='611430'>
<a class='timestamp' href='#611430'><time timestamp='2018-05-04T17:21:00Z'>17:21</time></a>
&lt;<span class='nick nick-13'> ken2812221</span>&gt;
Thanks, it does work!!
<br>
</div>

<div class='talk op-msg' data-timestamp='1525455180' id='611431'>
<a class='timestamp' href='#611431'><time timestamp='2018-05-04T17:33:00Z'>17:33</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
good!
<br>
</div>

<div class='talk op-msg' data-timestamp='1525457580' id='611432'>
<a class='timestamp' href='#611432'><time timestamp='2018-05-04T18:13:00Z'>18:13</time></a>
&lt;<span class='nick nick-13'> ken2812221</span>&gt;
Gitian-build fails due to no &#x27;rename&#x27; program. it&#x27;s a pain after it has been compiled for a long time.
<br>
</div>

<div class='talk op-msg' data-timestamp='1525457880' id='611433'>
<a class='timestamp' href='#611433'><time timestamp='2018-05-04T18:18:00Z'>18:18</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
How hard would it be to transcribe the gitian-descriptors into a docker file?
<br>
</div>

<div class='talk op-msg' data-timestamp='1525458000' id='611434'>
<a class='timestamp' href='#611434'><time timestamp='2018-05-04T18:20:00Z'>18:20</time></a>
&lt;<span class='nick nick-13'> ken2812221</span>&gt;
I&#x27;m not using docker, I&#x27;m using lxc.
<br>
</div>

<div class='talk op-msg' data-timestamp='1525458420' id='611435'>
<a class='timestamp' href='#611435'><time timestamp='2018-05-04T18:27:00Z'>18:27</time></a>
&lt;<span class='nick nick-13'> ken2812221</span>&gt;
I&#x27;ve created a PR to gitian-builder, so we can use lxc 3.0.0 to do gitian-build
<br>
</div>

<div class='talk op-msg' data-timestamp='1525460640' id='611436'>
<a class='timestamp' href='#611436'><time timestamp='2018-05-04T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
ken2812221: great!
<br>
</div>

<div class='talk op-msg' data-timestamp='1525464180' id='611437'>
<a class='timestamp' href='#611437'><time timestamp='2018-05-04T20:03:00Z'>20:03</time></a>
&lt;<span class='nick nick-6'> TheCharlatan</span>&gt;
Are there existing benchmarking results for the bench tests available between armv7 and armv8 ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1525465080' id='611438'>
<a class='timestamp' href='#611438'><time timestamp='2018-05-04T20:18:00Z'>20:18</time></a>
&lt;<span class='nick nick-16'> skeees</span>&gt;
sdaftuar: i&#x27;m unable to reproduce that genesis block failure - what are you doing to achieve?
<br>
</div>

<div class='talk op-msg' data-timestamp='1525465140' id='611439'>
<a class='timestamp' href='#611439'><time timestamp='2018-05-04T20:19:00Z'>20:19</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
while src/test/test_bitcoin -t validation_block_tests; do :; done
<br>
</div>

<div class='talk op-msg' data-timestamp='1525465140' id='611440'>
<a class='timestamp' href='#611440'><time timestamp='2018-05-04T20:19:00Z'>20:19</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
that was with a patch to try to get rid of that other error (i got rid of the BOOST_CHECK() call at line 160)
<br>
</div>

<div class='talk op-msg' data-timestamp='1525465200' id='611441'>
<a class='timestamp' href='#611441'><time timestamp='2018-05-04T20:20:00Z'>20:20</time></a>
&lt;<span class='nick nick-16'> skeees</span>&gt;
hah - yeah i&#x27;ve been doing that a bunch too - no dice. maybe platform specific
<br>
</div>

<div class='talk op-msg' data-timestamp='1525465440' id='611442'>
<a class='timestamp' href='#611442'><time timestamp='2018-05-04T20:24:00Z'>20:24</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
oh i see what you&#x27;re saying about the genesis block -- yes that does seem like a test bug
<br>
</div>

<div class='talk op-msg' data-timestamp='1525465500' id='611443'>
<a class='timestamp' href='#611443'><time timestamp='2018-05-04T20:25:00Z'>20:25</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
and i guess the callbacks are all happening in a single thread anyway, so the BOOST_CHECK calls there should be safe
<br>
</div>

<div class='talk op-msg' data-timestamp='1525465680' id='611444'>
<a class='timestamp' href='#611444'><time timestamp='2018-05-04T20:28:00Z'>20:28</time></a>
&lt;<span class='nick nick-16'> skeees</span>&gt;
even though unable to reproduce - i&#x27;ve updated pr with something that i <b>*think*</b> will fix the error you&#x27;re seeing related to that
<br>
</div>

<div class='talk op-msg' data-timestamp='1525466520' id='611445'>
<a class='timestamp' href='#611445'><time timestamp='2018-05-04T20:42:00Z'>20:42</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
skeees: i don&#x27;t know how the threading works in the boost testing framework, but i did notice that you don&#x27;t acquire cs_main before accessing chainActive.Tip() when you construct the TestSubscriber()
<br>
</div>

<div class='talk op-msg' data-timestamp='1525466520' id='611446'>
<a class='timestamp' href='#611446'><time timestamp='2018-05-04T20:42:00Z'>20:42</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
is it possible that there&#x27;s a race where you&#x27;re able to pull the value of the tip before the callback fires (very rarely?)
<br>
</div>

<div class='talk op-msg' data-timestamp='1525466640' id='611447'>
<a class='timestamp' href='#611447'><time timestamp='2018-05-04T20:44:00Z'>20:44</time></a>
&lt;<span class='nick nick-16'> skeees</span>&gt;
hmmm you still seeing this issue even after 04176fc?
<br>
</div>

<div class='talk op-msg' data-timestamp='1525466700' id='611448'>
<a class='timestamp' href='#611448'><time timestamp='2018-05-04T20:45:00Z'>20:45</time></a>
&lt;<span class='nick nick-16'> skeees</span>&gt;
didn&#x27;t acquire because I assumed I&#x27;d be the only thread running in the test framework at that point
<br>
</div>

<div class='talk op-msg' data-timestamp='1525466700' id='611449'>
<a class='timestamp' href='#611449'><time timestamp='2018-05-04T20:45:00Z'>20:45</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/627c3762ce5d...f82e1c948212" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/627c3762ce5d...f82e1c948212</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1525466700' id='611450'>
<a class='timestamp' href='#611450'><time timestamp='2018-05-04T20:45:00Z'>20:45</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master c3f34d0 practicalswift: Make it clear which functions that are intended to be translation unit local...
<br>
</div>

<div class='talk op-msg' data-timestamp='1525466700' id='611451'>
<a class='timestamp' href='#611451'><time timestamp='2018-05-04T20:45:00Z'>20:45</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master f82e1c9 MarcoFalke: Merge #13163: Make it clear which functions that are intended to be translation unit local...
<br>
</div>

<div class='talk op-msg' data-timestamp='1525466700' id='611452'>
<a class='timestamp' href='#611452'><time timestamp='2018-05-04T20:45:00Z'>20:45</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
i was still trying to reproduce, haven&#x27;t taken your fix yet
<br>
</div>

<div class='talk op-msg' data-timestamp='1525466760' id='611453'>
<a class='timestamp' href='#611453'><time timestamp='2018-05-04T20:46:00Z'>20:46</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke closed pull request #13163: Make it clear which functions that are intended to be translation unit local (master...internal-linkage) <a href="https://github.com/bitcoin/bitcoin/pull/13163" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/13163</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1525467000' id='611454'>
<a class='timestamp' href='#611454'><time timestamp='2018-05-04T20:50:00Z'>20:50</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
hmm that hypothesis doesn&#x27;t seem to be panning out (i tried adding a sleep before the BlockConnected callbacks after we connect the genesis block, to see if that would trigger it -- no dice)
<br>
</div>

<div class='talk op-msg' data-timestamp='1525467540' id='611455'>
<a class='timestamp' href='#611455'><time timestamp='2018-05-04T20:59:00Z'>20:59</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
skeees: oh, could it just be an issue of the scheduler getting to run the genesis block BlockConnected callbacks after the TestSubscriber is created?  i don&#x27;t know what the callback semantics are--
<br>
</div>

<div class='talk op-msg' data-timestamp='1525467540' id='611456'>
<a class='timestamp' href='#611456'><time timestamp='2018-05-04T20:59:00Z'>20:59</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
do we callback only the callbacks that were subscribed at the time the event was generated, or do we callback everyone who is subscribed at the time the callback is actually fired off by the scheduler?
<br>
</div>

<div class='talk op-msg' data-timestamp='1525467600' id='611457'>
<a class='timestamp' href='#611457'><time timestamp='2018-05-04T21:00:00Z'>21:00</time></a>
&lt;<span class='nick nick-16'> skeees</span>&gt;
i think it could be that
<br>
</div>

<div class='talk op-msg' data-timestamp='1525467600' id='611458'>
<a class='timestamp' href='#611458'><time timestamp='2018-05-04T21:00:00Z'>21:00</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
i can&#x27;t figure out where to stick a sleep to verify that this is the issue...
<br>
</div>

<div class='talk op-msg' data-timestamp='1525467600' id='611459'>
<a class='timestamp' href='#611459'><time timestamp='2018-05-04T21:00:00Z'>21:00</time></a>
&lt;<span class='nick nick-16'> skeees</span>&gt;
its not well defined right now because we push a callback to the scheduler that invokes the signal
<br>
</div>

<div class='talk op-msg' data-timestamp='1525467660' id='611460'>
<a class='timestamp' href='#611460'><time timestamp='2018-05-04T21:01:00Z'>21:01</time></a>
&lt;<span class='nick nick-16'> skeees</span>&gt;
so you could subscribe after you push that callback but before signal is invoked i think
<br>
</div>

<div class='talk op-msg' data-timestamp='1525467660' id='611461'>
<a class='timestamp' href='#611461'><time timestamp='2018-05-04T21:01:00Z'>21:01</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
that&#x27;s pretty weird behavior imo
<br>
</div>

<div class='talk op-msg' data-timestamp='1525467660' id='611462'>
<a class='timestamp' href='#611462'><time timestamp='2018-05-04T21:01:00Z'>21:01</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
but sort of exactly why we need these tests!
<br>
</div>

<div class='talk op-msg' data-timestamp='1525467660' id='611463'>
<a class='timestamp' href='#611463'><time timestamp='2018-05-04T21:01:00Z'>21:01</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jamesob opened pull request #13168: Thread names in logs and deadlock debug tools (take 2) (master...2018-05-threadnames-take-2) <a href="https://github.com/bitcoin/bitcoin/pull/13168" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/13168</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1525467720' id='611464'>
<a class='timestamp' href='#611464'><time timestamp='2018-05-04T21:02:00Z'>21:02</time></a>
&lt;<span class='nick nick-16'> skeees</span>&gt;
yeah - its strange - that behavior in particular starts to become a problem if you ever get into a state where you have a lot of dynamic subscription / unsubscription (e.g. may actually pose some challenges getting rid of mempool signals)
<br>
</div>

<div class='talk op-msg' data-timestamp='1525467720' id='611465'>
<a class='timestamp' href='#611465'><time timestamp='2018-05-04T21:02:00Z'>21:02</time></a>
&lt;<span class='nick nick-16'> skeees</span>&gt;
but in current use case where you just subscribe on startup and those remain fixed - its not a huge deal
<br>
</div>

<div class='talk op-msg' data-timestamp='1525467720' id='611466'>
<a class='timestamp' href='#611466'><time timestamp='2018-05-04T21:02:00Z'>21:02</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
right
<br>
</div>

<div class='talk op-msg' data-timestamp='1525468080' id='611467'>
<a class='timestamp' href='#611467'><time timestamp='2018-05-04T21:08:00Z'>21:08</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
aha! i think that&#x27;s it
<br>
</div>

<div class='talk op-msg' data-timestamp='1525468080' id='611468'>
<a class='timestamp' href='#611468'><time timestamp='2018-05-04T21:08:00Z'>21:08</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
i managed to reproduce it with a sleep added to the scheduler
<br>
</div>

<div class='talk op-msg' data-timestamp='1525468260' id='611469'>
<a class='timestamp' href='#611469'><time timestamp='2018-05-04T21:11:00Z'>21:11</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
so we should decide if we want to stick with that behavior or not...  seems kind of shitty to me.  perhaps registering with the validationinterface should require the queue to be drained first?
<br>
</div>

<div class='talk op-msg' data-timestamp='1525468260' id='611470'>
<a class='timestamp' href='#611470'><time timestamp='2018-05-04T21:11:00Z'>21:11</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
not sure if that idea works
<br>
</div>

<div class='talk op-msg' data-timestamp='1525468260' id='611471'>
<a class='timestamp' href='#611471'><time timestamp='2018-05-04T21:11:00Z'>21:11</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
BlueMatt: ^^^ 
<br>
</div>

<div class='talk op-msg' data-timestamp='1525468440' id='611472'>
<a class='timestamp' href='#611472'><time timestamp='2018-05-04T21:14:00Z'>21:14</time></a>
&lt;<span class='nick nick-16'> skeees</span>&gt;
i think that&#x27;s a separate pr - i&#x27;ll put something together
<br>
</div>

<div class='talk op-msg' data-timestamp='1525468440' id='611473'>
<a class='timestamp' href='#611473'><time timestamp='2018-05-04T21:14:00Z'>21:14</time></a>
&lt;<span class='nick nick-16'> skeees</span>&gt;
for this one - i think it&#x27;ll suffice to change some of the subscription ordering
<br>
</div>

<div class='talk op-msg' data-timestamp='1525475520' id='611474'>
<a class='timestamp' href='#611474'><time timestamp='2018-05-04T23:12:00Z'>23:12</time></a>
&lt;<span class='nick nick-7'> Gabo</span>&gt;
Hi     
<br>
</div>

</div>
</section>

</body>
</html>
