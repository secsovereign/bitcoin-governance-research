<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2017-07-11
 â€” 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2017-07-11' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:24 UTC</pre>
<pre><a href="/bitcoin-core-dev/2017-06-11">&lt;</a><span class='header'>    July 2017     </span><a href="/bitcoin-core-dev/2017-08-11">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;                   <a class="" href="/bitcoin-core-dev/2017-07-01">1</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2017-07-02">2</a>  <a class="" href="/bitcoin-core-dev/2017-07-03">3</a>  <a class="" href="/bitcoin-core-dev/2017-07-04">4</a>  <a class="" href="/bitcoin-core-dev/2017-07-05">5</a>  <a class="" href="/bitcoin-core-dev/2017-07-06">6</a>  <a class="" href="/bitcoin-core-dev/2017-07-07">7</a>  <a class="" href="/bitcoin-core-dev/2017-07-08">8</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2017-07-09">9</a> <a class="" href="/bitcoin-core-dev/2017-07-10">10</a> <a class="current" href="/bitcoin-core-dev/2017-07-11">11</a> <a class="" href="/bitcoin-core-dev/2017-07-12">12</a> <a class="" href="/bitcoin-core-dev/2017-07-13">13</a> <a class="" href="/bitcoin-core-dev/2017-07-14">14</a> <a class="" href="/bitcoin-core-dev/2017-07-15">15</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2017-07-16">16</a> <a class="" href="/bitcoin-core-dev/2017-07-17">17</a> <a class="" href="/bitcoin-core-dev/2017-07-18">18</a> <a class="" href="/bitcoin-core-dev/2017-07-19">19</a> <a class="" href="/bitcoin-core-dev/2017-07-20">20</a> <a class="" href="/bitcoin-core-dev/2017-07-21">21</a> <a class="" href="/bitcoin-core-dev/2017-07-22">22</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2017-07-23">23</a> <a class="" href="/bitcoin-core-dev/2017-07-24">24</a> <a class="" href="/bitcoin-core-dev/2017-07-25">25</a> <a class="" href="/bitcoin-core-dev/2017-07-26">26</a> <a class="" href="/bitcoin-core-dev/2017-07-27">27</a> <a class="" href="/bitcoin-core-dev/2017-07-28">28</a> <a class="" href="/bitcoin-core-dev/2017-07-29">29</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2017-07-30">30</a> <a class="" href="/bitcoin-core-dev/2017-07-31">31</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1499736900' id='555616'>
<a class='timestamp' href='#555616'><time timestamp='2017-07-11T01:35:00Z'>01:35</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] achow101 opened pull request #10788: Replace ismine with producesignature check in witnessifier (master...fix-addwitnessaddress) <a href="https://github.com/bitcoin/bitcoin/pull/10788" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10788</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1499738700' id='555617'>
<a class='timestamp' href='#555617'><time timestamp='2017-07-11T02:05:00Z'>02:05</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] stevendlander opened pull request #10789: Punctuation/grammer fixes in rpcwallet.cpp (master...cli-punctuation-standardization) <a href="https://github.com/bitcoin/bitcoin/pull/10789" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10789</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1499740920' id='555618'>
<a class='timestamp' href='#555618'><time timestamp='2017-07-11T02:42:00Z'>02:42</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
mhm, can&#x27;t I use something I have in /etc/host with -rpcallowip ? only hardcoded ips ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1499740920' id='555619'>
<a class='timestamp' href='#555619'><time timestamp='2017-07-11T02:42:00Z'>02:42</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
not even localhost it seems :(
<br>
</div>

<div class='talk op-msg' data-timestamp='1499741340' id='555620'>
<a class='timestamp' href='#555620'><time timestamp='2017-07-11T02:49:00Z'>02:49</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jtimon: it has to be a netmask, i think
<br>
</div>

<div class='talk op-msg' data-timestamp='1499741340' id='555621'>
<a class='timestamp' href='#555621'><time timestamp='2017-07-11T02:49:00Z'>02:49</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
so no
<br>
</div>

<div class='talk op-msg' data-timestamp='1499741460' id='555622'>
<a class='timestamp' href='#555622'><time timestamp='2017-07-11T02:51:00Z'>02:51</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
found getent hosts myhostname | awk &#x27;{ print $1 }&#x27;, hope it solves my issue
<br>
</div>

<div class='talk op-msg' data-timestamp='1499741520' id='555623'>
<a class='timestamp' href='#555623'><time timestamp='2017-07-11T02:52:00Z'>02:52</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
thanks for confirming
<br>
</div>

<div class='talk op-msg' data-timestamp='1499743440' id='555624'>
<a class='timestamp' href='#555624'><time timestamp='2017-07-11T03:24:00Z'>03:24</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MeshCollider opened pull request #10790: Use vector::data() instead of &amp;vch[0] in base58.cpp (master...prefer-vector-data) <a href="https://github.com/bitcoin/bitcoin/pull/10790" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10790</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1499750220' id='555625'>
<a class='timestamp' href='#555625'><time timestamp='2017-07-11T05:17:00Z'>05:17</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
hurray for protocol improvements, you can see the inv rate on this chart approve as people upgrade to 0.13+ <a href="https://statoshi.info/dashboard/db/p2p-messages?from=1453110746831&amp;to=1499750141000" class="link" target="_blank">https://statoshi.info/dashboard/db/p2p-messages?from=1453110746831&amp;to=1499750141000</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1499757780' id='555626'>
<a class='timestamp' href='#555626'><time timestamp='2017-07-11T07:23:00Z'>07:23</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
right, some of the options support host lookup as of master, but rpcallowip certainly doesn&#x27;t
<br>
</div>

<div class='talk op-msg' data-timestamp='1499757840' id='555627'>
<a class='timestamp' href='#555627'><time timestamp='2017-07-11T07:24:00Z'>07:24</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
(e.g. #9774)
<br>
</div>

<div class='talk op-msg' data-timestamp='1499757840' id='555628'>
<a class='timestamp' href='#555628'><time timestamp='2017-07-11T07:24:00Z'>07:24</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/9774" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/9774</a> | Enable host lookups for -proxy and -onion parameters by jmcorgan Â· Pull Request #9774 Â· bitcoin/bitcoin Â· GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1499757960' id='555629'>
<a class='timestamp' href='#555629'><time timestamp='2017-07-11T07:26:00Z'>07:26</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
oh yes, inv rate looks a lot more calm recently
<br>
</div>

<div class='talk op-msg' data-timestamp='1499758080' id='555630'>
<a class='timestamp' href='#555630'><time timestamp='2017-07-11T07:28:00Z'>07:28</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
the changes for inv batching and timing make it basically constant.
<br>
</div>

<div class='talk op-msg' data-timestamp='1499758740' id='555631'>
<a class='timestamp' href='#555631'><time timestamp='2017-07-11T07:39:00Z'>07:39</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 8 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/9edda0c5f5f2...21ed30a314cf" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/9edda0c5f5f2...21ed30a314cf</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1499758740' id='555632'>
<a class='timestamp' href='#555632'><time timestamp='2017-07-11T07:39:00Z'>07:39</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master ff6a834 Matt Corallo: Use TestingSetup to DRY qt rpcnestedtests
<br>
</div>

<div class='talk op-msg' data-timestamp='1499758740' id='555633'>
<a class='timestamp' href='#555633'><time timestamp='2017-07-11T07:39:00Z'>07:39</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 3a19fed Matt Corallo: Make ValidationInterface signals-type-agnostic...
<br>
</div>

<div class='talk op-msg' data-timestamp='1499758740' id='555634'>
<a class='timestamp' href='#555634'><time timestamp='2017-07-11T07:39:00Z'>07:39</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master cda1429 Matt Corallo: Give CMainSignals a reference to the global scheduler...
<br>
</div>

<div class='talk op-msg' data-timestamp='1499758740' id='555635'>
<a class='timestamp' href='#555635'><time timestamp='2017-07-11T07:39:00Z'>07:39</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj closed pull request #10179: Give CValidationInterface Support for calling notifications on the CScheduler Thread (master...2017-01-wallet-cache-inmempool-3) <a href="https://github.com/bitcoin/bitcoin/pull/10179" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10179</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1499759160' id='555636'>
<a class='timestamp' href='#555636'><time timestamp='2017-07-11T07:46:00Z'>07:46</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] maaku opened pull request #10792: Replace MAX_OPCODE for OP_NOP10. (master...max-opcode-over-nop10) <a href="https://github.com/bitcoin/bitcoin/pull/10792" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10792</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1499759640' id='555637'>
<a class='timestamp' href='#555637'><time timestamp='2017-07-11T07:54:00Z'>07:54</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
you mean it doesn&#x27;t compute the max of the last two stack variables!?!?
<br>
</div>

<div class='talk op-msg' data-timestamp='1499759640' id='555638'>
<a class='timestamp' href='#555638'><time timestamp='2017-07-11T07:54:00Z'>07:54</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
:P     
<br>
</div>

<div class='talk op-msg' data-timestamp='1499759760' id='555639'>
<a class='timestamp' href='#555639'><time timestamp='2017-07-11T07:56:00Z'>07:56</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
[OT-ish] <a href="https://pax.grsecurity.net/docs/PaXTeam-H2HC15-RAP-RIP-ROP.pdf" class="link" target="_blank">https://pax.grsecurity.net/docs/PaXTeam-H2HC15-RAP-RIP-ROP.pdf</a>  &lt; the ictp described here is neat. I wish pax stuff was open.
<br>
</div>

<div class='talk op-msg' data-timestamp='1499759820' id='555640'>
<a class='timestamp' href='#555640'><time timestamp='2017-07-11T07:57:00Z'>07:57</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: ???
<br>
</div>

<div class='talk op-msg' data-timestamp='1499759820' id='555641'>
<a class='timestamp' href='#555641'><time timestamp='2017-07-11T07:57:00Z'>07:57</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
(re: last two stack variables)
<br>
</div>

<div class='talk op-msg' data-timestamp='1499760000' id='555642'>
<a class='timestamp' href='#555642'><time timestamp='2017-07-11T08:00:00Z'>08:00</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sipa: joke on mark&#x27;s MAX_OPCODE
<br>
</div>

<div class='talk op-msg' data-timestamp='1499760060' id='555643'>
<a class='timestamp' href='#555643'><time timestamp='2017-07-11T08:01:00Z'>08:01</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
that it doesn&#x27;t compute max()
<br>
</div>

<div class='talk op-msg' data-timestamp='1499760120' id='555644'>
<a class='timestamp' href='#555644'><time timestamp='2017-07-11T08:02:00Z'>08:02</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ah     
<br>
</div>

<div class='talk op-msg' data-timestamp='1499760960' id='555645'>
<a class='timestamp' href='#555645'><time timestamp='2017-07-11T08:16:00Z'>08:16</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MeshCollider closed pull request #10790: Use vector::data() instead of &amp;vch[0] in base58.cpp (master...prefer-vector-data) <a href="https://github.com/bitcoin/bitcoin/pull/10790" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10790</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1499766240' id='555646'>
<a class='timestamp' href='#555646'><time timestamp='2017-07-11T09:44:00Z'>09:44</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/21ed30a314cf...379aed0e53a6" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/21ed30a314cf...379aed0e53a6</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1499766240' id='555647'>
<a class='timestamp' href='#555647'><time timestamp='2017-07-11T09:44:00Z'>09:44</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master f2f1d0a Gregory Sanders: document script-based return fields for validateaddress
<br>
</div>

<div class='talk op-msg' data-timestamp='1499766240' id='555648'>
<a class='timestamp' href='#555648'><time timestamp='2017-07-11T09:44:00Z'>09:44</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 379aed0 Wladimir J. van der Laan: Merge #10676: document script-based return fields for validateaddress...
<br>
</div>

<div class='talk op-msg' data-timestamp='1499766240' id='555649'>
<a class='timestamp' href='#555649'><time timestamp='2017-07-11T09:44:00Z'>09:44</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj closed pull request #10676: document script-based return fields for validateaddress (master...validatata) <a href="https://github.com/bitcoin/bitcoin/pull/10676" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10676</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1499766300' id='555650'>
<a class='timestamp' href='#555650'><time timestamp='2017-07-11T09:45:00Z'>09:45</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MeshCollider opened pull request #10793: Changing &amp;var[0] to var.data() (master...prefer-vector-data) <a href="https://github.com/bitcoin/bitcoin/pull/10793" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10793</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1499767080' id='555651'>
<a class='timestamp' href='#555651'><time timestamp='2017-07-11T09:58:00Z'>09:58</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 6 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/379aed0e53a6...104f5f21dc24" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/379aed0e53a6...104f5f21dc24</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1499767080' id='555652'>
<a class='timestamp' href='#555652'><time timestamp='2017-07-11T09:58:00Z'>09:58</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master cfaef69 Alex Morcos: remove default argument from GetMinimumFee
<br>
</div>

<div class='talk op-msg' data-timestamp='1499767080' id='555653'>
<a class='timestamp' href='#555653'><time timestamp='2017-07-11T09:58:00Z'>09:58</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master d507c30 Alex Morcos: Introduce a fee estimate mode....
<br>
</div>

<div class='talk op-msg' data-timestamp='1499767080' id='555654'>
<a class='timestamp' href='#555654'><time timestamp='2017-07-11T09:58:00Z'>09:58</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master e0738e3 Alex Morcos: remove default argument from estimateSmartFee
<br>
</div>

<div class='talk op-msg' data-timestamp='1499767080' id='555655'>
<a class='timestamp' href='#555655'><time timestamp='2017-07-11T09:58:00Z'>09:58</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj closed pull request #10589: More economical fee estimates for RBF and RPC options to control (master...rpcestimatechoice) <a href="https://github.com/bitcoin/bitcoin/pull/10589" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10589</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1499776260' id='555656'>
<a class='timestamp' href='#555656'><time timestamp='2017-07-11T12:31:00Z'>12:31</time></a>
&lt;<span class='nick nick-14'> PlaneteNamek</span>&gt;
Hello world ðŸ˜Š
<br>
</div>

<div class='talk op-msg' data-timestamp='1499776440' id='555657'>
<a class='timestamp' href='#555657'><time timestamp='2017-07-11T12:34:00Z'>12:34</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Beg for review on: <a href="https://github.com/bitcoin/bitcoin/pull/9502" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9502</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1499778720' id='555658'>
<a class='timestamp' href='#555658'><time timestamp='2017-07-11T13:12:00Z'>13:12</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
#9502
<br>
</div>

<div class='talk op-msg' data-timestamp='1499778720' id='555659'>
<a class='timestamp' href='#555659'><time timestamp='2017-07-11T13:12:00Z'>13:12</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/9502" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/9502</a> | [Qt] Add option to pause/resume block downloads by jonasschnelli Â· Pull Request #9502 Â· bitcoin/bitcoin Â· GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1499779260' id='555660'>
<a class='timestamp' href='#555660'><time timestamp='2017-07-11T13:21:00Z'>13:21</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 10 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/104f5f21dc24...e4f226a133d0" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/104f5f21dc24...e4f226a133d0</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1499779260' id='555661'>
<a class='timestamp' href='#555661'><time timestamp='2017-07-11T13:21:00Z'>13:21</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 32cffe6 John Newbery: [tests] Fix import order in getblocktemplate test
<br>
</div>

<div class='talk op-msg' data-timestamp='1499779260' id='555662'>
<a class='timestamp' href='#555662'><time timestamp='2017-07-11T13:21:00Z'>13:21</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 0a3a5ff John Newbery: [tests] Fix flake8 warnings in getblocktemplate tests
<br>
</div>

<div class='talk op-msg' data-timestamp='1499779260' id='555663'>
<a class='timestamp' href='#555663'><time timestamp='2017-07-11T13:21:00Z'>13:21</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 38b38cd John Newbery: [tests] getblocktemplate_proposals.py: add logging
<br>
</div>

<div class='talk op-msg' data-timestamp='1499779320' id='555664'>
<a class='timestamp' href='#555664'><time timestamp='2017-07-11T13:22:00Z'>13:22</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj closed pull request #10190: [tests] mining functional tests (including regression test for submitblock) (master...mining_functional_test) <a href="https://github.com/bitcoin/bitcoin/pull/10190" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10190</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1499779440' id='555665'>
<a class='timestamp' href='#555665'><time timestamp='2017-07-11T13:24:00Z'>13:24</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/e4f226a133d0...badd81bd3185" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/e4f226a133d0...badd81bd3185</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1499779440' id='555666'>
<a class='timestamp' href='#555666'><time timestamp='2017-07-11T13:24:00Z'>13:24</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master c8e29d7 Mark Friedenbach: Replace MAX_OPCODE for OP_NOP10....
<br>
</div>

<div class='talk op-msg' data-timestamp='1499779440' id='555667'>
<a class='timestamp' href='#555667'><time timestamp='2017-07-11T13:24:00Z'>13:24</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master badd81b Wladimir J. van der Laan: Merge #10792: Replace MAX_OPCODE for OP_NOP10....
<br>
</div>

<div class='talk op-msg' data-timestamp='1499779500' id='555668'>
<a class='timestamp' href='#555668'><time timestamp='2017-07-11T13:25:00Z'>13:25</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj closed pull request #10792: Replace MAX_OPCODE for OP_NOP10. (master...max-opcode-over-nop10) <a href="https://github.com/bitcoin/bitcoin/pull/10792" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10792</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1499779500' id='555669'>
<a class='timestamp' href='#555669'><time timestamp='2017-07-11T13:25:00Z'>13:25</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/badd81bd3185...cef4b5ccaa37" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/badd81bd3185...cef4b5ccaa37</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1499779500' id='555670'>
<a class='timestamp' href='#555670'><time timestamp='2017-07-11T13:25:00Z'>13:25</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 6270d62 Matt Corallo: Verify binaries from bitcoincore.org and bitcoin.org
<br>
</div>

<div class='talk op-msg' data-timestamp='1499779500' id='555671'>
<a class='timestamp' href='#555671'><time timestamp='2017-07-11T13:25:00Z'>13:25</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master cef4b5c Wladimir J. van der Laan: Merge #10651: Verify binaries from bitcoincore.org and bitcoin.org...
<br>
</div>

<div class='talk op-msg' data-timestamp='1499779500' id='555672'>
<a class='timestamp' href='#555672'><time timestamp='2017-07-11T13:25:00Z'>13:25</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj closed pull request #10651: Verify binaries from bitcoincore.org and bitcoin.org (master...2017-06-verify-coreorg) <a href="https://github.com/bitcoin/bitcoin/pull/10651" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10651</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1499780220' id='555673'>
<a class='timestamp' href='#555673'><time timestamp='2017-07-11T13:37:00Z'>13:37</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 4 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/cef4b5ccaa37...b27b004532db" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/cef4b5ccaa37...b27b004532db</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1499780220' id='555674'>
<a class='timestamp' href='#555674'><time timestamp='2017-07-11T13:37:00Z'>13:37</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 9c85b91 Alex Morcos: Change API to estimaterawfee...
<br>
</div>

<div class='talk op-msg' data-timestamp='1499780220' id='555675'>
<a class='timestamp' href='#555675'><time timestamp='2017-07-11T13:37:00Z'>13:37</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 1fafd70 Alex Morcos: Add function to report highest estimate target tracked per horizon
<br>
</div>

<div class='talk op-msg' data-timestamp='1499780220' id='555676'>
<a class='timestamp' href='#555676'><time timestamp='2017-07-11T13:37:00Z'>13:37</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 5e3b7b5 Alex Morcos: Improve error reporting for estimaterawfee
<br>
</div>

<div class='talk op-msg' data-timestamp='1499780220' id='555677'>
<a class='timestamp' href='#555677'><time timestamp='2017-07-11T13:37:00Z'>13:37</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj closed pull request #10543: Change API to estimaterawfee (master...estimaterawapi) <a href="https://github.com/bitcoin/bitcoin/pull/10543" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10543</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1499780400' id='555678'>
<a class='timestamp' href='#555678'><time timestamp='2017-07-11T13:40:00Z'>13:40</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/b27b004532db...ca4c545cc7e8" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/b27b004532db...ca4c545cc7e8</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1499780400' id='555679'>
<a class='timestamp' href='#555679'><time timestamp='2017-07-11T13:40:00Z'>13:40</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 475c08c Pieter Wuille: Add PR description to merge commit in github-merge.py
<br>
</div>

<div class='talk op-msg' data-timestamp='1499780400' id='555680'>
<a class='timestamp' href='#555680'><time timestamp='2017-07-11T13:40:00Z'>13:40</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master ca4c545 Wladimir J. van der Laan: Merge #10786: Add PR description to merge commit in github-merge.py...
<br>
</div>

<div class='talk op-msg' data-timestamp='1499780460' id='555681'>
<a class='timestamp' href='#555681'><time timestamp='2017-07-11T13:41:00Z'>13:41</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj closed pull request #10786: Add PR description to merge commit in github-merge.py (master...20170710_prbody) <a href="https://github.com/bitcoin/bitcoin/pull/10786" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10786</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1499782320' id='555682'>
<a class='timestamp' href='#555682'><time timestamp='2017-07-11T14:12:00Z'>14:12</time></a>
&lt;<span class='nick nick-12'> ryanofsky</span>&gt;
can #10235 be merged?
<br>
</div>

<div class='talk op-msg' data-timestamp='1499782320' id='555683'>
<a class='timestamp' href='#555683'><time timestamp='2017-07-11T14:12:00Z'>14:12</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/10235" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/10235</a> | Track keypool entries as internal vs external in memory by TheBlueMatt Â· Pull Request #10235 Â· bitcoin/bitcoin Â· GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1499784780' id='555684'>
<a class='timestamp' href='#555684'><time timestamp='2017-07-11T14:53:00Z'>14:53</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
I think #10712 can also be merged.  sipa: you left just a nit, were you still reviewing?  I&#x27;ll skip the nit since the current commit has 3 ack&#x27;s
<br>
</div>

<div class='talk op-msg' data-timestamp='1499784780' id='555685'>
<a class='timestamp' href='#555685'><time timestamp='2017-07-11T14:53:00Z'>14:53</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/10712" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/10712</a> | Add change output if necessary to reduce excess fee by morcos Â· Pull Request #10712 Â· bitcoin/bitcoin Â· GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1499785260' id='555686'>
<a class='timestamp' href='#555686'><time timestamp='2017-07-11T15:01:00Z'>15:01</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jonasschnelli opened pull request #10794: Add simple light-client mode (RPC only) (master...2017/07/spv) <a href="https://github.com/bitcoin/bitcoin/pull/10794" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10794</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1499785320' id='555687'>
<a class='timestamp' href='#555687'><time timestamp='2017-07-11T15:02:00Z'>15:02</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jonasschnelli closed pull request #9171: Introduce auxiliary block requests (master...2016/11/spv_step_1) <a href="https://github.com/bitcoin/bitcoin/pull/9171" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9171</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1499785920' id='555688'>
<a class='timestamp' href='#555688'><time timestamp='2017-07-11T15:12:00Z'>15:12</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
wumpus: would be nice to get a quick glance and merge on #10235
<br>
</div>

<div class='talk op-msg' data-timestamp='1499785920' id='555689'>
<a class='timestamp' href='#555689'><time timestamp='2017-07-11T15:12:00Z'>15:12</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/10235" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/10235</a> | Track keypool entries as internal vs external in memory by TheBlueMatt Â· Pull Request #10235 Â· bitcoin/bitcoin Â· GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1499787300' id='555690'>
<a class='timestamp' href='#555690'><time timestamp='2017-07-11T15:35:00Z'>15:35</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
BlueMatt: How does it know what index to create key at if the keypool is empty? (same question before your PR)
<br>
</div>

<div class='talk op-msg' data-timestamp='1499787360' id='555691'>
<a class='timestamp' href='#555691'><time timestamp='2017-07-11T15:36:00Z'>15:36</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
hmm?
<br>
</div>

<div class='talk op-msg' data-timestamp='1499787360' id='555692'>
<a class='timestamp' href='#555692'><time timestamp='2017-07-11T15:36:00Z'>15:36</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
it doesnt matter if the pool is empty, use index 0?
<br>
</div>

<div class='talk op-msg' data-timestamp='1499787420' id='555693'>
<a class='timestamp' href='#555693'><time timestamp='2017-07-11T15:37:00Z'>15:37</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
the indexes dont really have a purpose, its more of a set
<br>
</div>

<div class='talk op-msg' data-timestamp='1499787420' id='555694'>
<a class='timestamp' href='#555694'><time timestamp='2017-07-11T15:37:00Z'>15:37</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
looking at 10235
<br>
</div>

<div class='talk op-msg' data-timestamp='1499787420' id='555695'>
<a class='timestamp' href='#555695'><time timestamp='2017-07-11T15:37:00Z'>15:37</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
yeah i just figured that out, that the indices are only for keypool management
<br>
</div>

<div class='talk op-msg' data-timestamp='1499787420' id='555696'>
<a class='timestamp' href='#555696'><time timestamp='2017-07-11T15:37:00Z'>15:37</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
yea     
<br>
</div>

<div class='talk op-msg' data-timestamp='1499787420' id='555697'>
<a class='timestamp' href='#555697'><time timestamp='2017-07-11T15:37:00Z'>15:37</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
but are you sure there is not a bug now that you have two keypools
<br>
</div>

<div class='talk op-msg' data-timestamp='1499787480' id='555698'>
<a class='timestamp' href='#555698'><time timestamp='2017-07-11T15:38:00Z'>15:38</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
well afterwards you should still make sure they keyids are unique, ie creating at the max of both sets
<br>
</div>

<div class='talk op-msg' data-timestamp='1499787480' id='555699'>
<a class='timestamp' href='#555699'><time timestamp='2017-07-11T15:38:00Z'>15:38</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
if external runs out, couldn&#x27;t you create a new key in the external pool with the same index as one in the internal pool
<br>
</div>

<div class='talk op-msg' data-timestamp='1499787480' id='555700'>
<a class='timestamp' href='#555700'><time timestamp='2017-07-11T15:38:00Z'>15:38</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
i hope that pr doesnt do that
<br>
</div>

<div class='talk op-msg' data-timestamp='1499787540' id='555701'>
<a class='timestamp' href='#555701'><time timestamp='2017-07-11T15:39:00Z'>15:39</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
i&#x27;m not sure if there is a bug, i&#x27;m making my way through all this logic for the first time, but i think it would be a lot clearer if you figured out nInternalEnd and nExternalEnd and maxed them for nEnd
<br>
</div>

<div class='talk op-msg' data-timestamp='1499787600' id='555702'>
<a class='timestamp' href='#555702'><time timestamp='2017-07-11T15:40:00Z'>15:40</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
actually it seems even worse than that
<br>
</div>

<div class='talk op-msg' data-timestamp='1499787600' id='555703'>
<a class='timestamp' href='#555703'><time timestamp='2017-07-11T15:40:00Z'>15:40</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
i just don&#x27;t think this logic works with two pools
<br>
</div>

<div class='talk op-msg' data-timestamp='1499787660' id='555704'>
<a class='timestamp' href='#555704'><time timestamp='2017-07-11T15:41:00Z'>15:41</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
hmm?
<br>
</div>

<div class='talk op-msg' data-timestamp='1499787660' id='555705'>
<a class='timestamp' href='#555705'><time timestamp='2017-07-11T15:41:00Z'>15:41</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
imagine internal = {1,3} and external = {2,4}
<br>
</div>

<div class='talk op-msg' data-timestamp='1499787660' id='555706'>
<a class='timestamp' href='#555706'><time timestamp='2017-07-11T15:41:00Z'>15:41</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
then external runs out
<br>
</div>

<div class='talk op-msg' data-timestamp='1499787660' id='555707'>
<a class='timestamp' href='#555707'><time timestamp='2017-07-11T15:41:00Z'>15:41</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
you can reuse indexes
<br>
</div>

<div class='talk op-msg' data-timestamp='1499787660' id='555708'>
<a class='timestamp' href='#555708'><time timestamp='2017-07-11T15:41:00Z'>15:41</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
you&#x27;ll now generate 4 as the next internal key or external key
<br>
</div>

<div class='talk op-msg' data-timestamp='1499787660' id='555709'>
<a class='timestamp' href='#555709'><time timestamp='2017-07-11T15:41:00Z'>15:41</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
thats no problem
<br>
</div>

<div class='talk op-msg' data-timestamp='1499787660' id='555710'>
<a class='timestamp' href='#555710'><time timestamp='2017-07-11T15:41:00Z'>15:41</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
oh yeah, i guess thats ok
<br>
</div>

<div class='talk op-msg' data-timestamp='1499787720' id='555711'>
<a class='timestamp' href='#555711'><time timestamp='2017-07-11T15:42:00Z'>15:42</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
ok, so ignore me
<br>
</div>

<div class='talk op-msg' data-timestamp='1499787720' id='555712'>
<a class='timestamp' href='#555712'><time timestamp='2017-07-11T15:42:00Z'>15:42</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
maybe it&#x27;s pretty clear.
<br>
</div>

<div class='talk op-msg' data-timestamp='1499787780' id='555713'>
<a class='timestamp' href='#555713'><time timestamp='2017-07-11T15:43:00Z'>15:43</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
what about the pool on disk though?  it seems like you shouldn&#x27;t start reusining indices until you&#x27;re sure they aren&#x27;t in there?
<br>
</div>

<div class='talk op-msg' data-timestamp='1499787840' id='555714'>
<a class='timestamp' href='#555714'><time timestamp='2017-07-11T15:44:00Z'>15:44</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
hmmmmmm, yea, there is a bug there, but I didnt introduce it
<br>
</div>

<div class='talk op-msg' data-timestamp='1499787840' id='555715'>
<a class='timestamp' href='#555715'><time timestamp='2017-07-11T15:44:00Z'>15:44</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
yeah, but made it much more likely to get hit i think
<br>
</div>

<div class='talk op-msg' data-timestamp='1499787840' id='555716'>
<a class='timestamp' href='#555716'><time timestamp='2017-07-11T15:44:00Z'>15:44</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
dont think so?
<br>
</div>

<div class='talk op-msg' data-timestamp='1499787900' id='555717'>
<a class='timestamp' href='#555717'><time timestamp='2017-07-11T15:45:00Z'>15:45</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
ReserveKeyFromKeyPool, (keypool now empty), TopUpKeyPool, fucked
<br>
</div>

<div class='talk op-msg' data-timestamp='1499787900' id='555718'>
<a class='timestamp' href='#555718'><time timestamp='2017-07-11T15:45:00Z'>15:45</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
I dont think i made a real difference to the likelyhood there
<br>
</div>

<div class='talk op-msg' data-timestamp='1499787900' id='555719'>
<a class='timestamp' href='#555719'><time timestamp='2017-07-11T15:45:00Z'>15:45</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
well before you start over again at 1, so it&#x27;s unlikely the initial indices are still in disk pool
<br>
</div>

<div class='talk op-msg' data-timestamp='1499787900' id='555720'>
<a class='timestamp' href='#555720'><time timestamp='2017-07-11T15:45:00Z'>15:45</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
but with yours you could easily reuse a recent one as per my {1,3} {2,4} example above
<br>
</div>

<div class='talk op-msg' data-timestamp='1499787900' id='555721'>
<a class='timestamp' href='#555721'><time timestamp='2017-07-11T15:45:00Z'>15:45</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
depends on your keypool size
<br>
</div>

<div class='talk op-msg' data-timestamp='1499787900' id='555722'>
<a class='timestamp' href='#555722'><time timestamp='2017-07-11T15:45:00Z'>15:45</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
true
<br>
</div>

<div class='talk op-msg' data-timestamp='1499787900' id='555723'>
<a class='timestamp' href='#555723'><time timestamp='2017-07-11T15:45:00Z'>15:45</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
sure, seems like a bug either way
<br>
</div>

<div class='talk op-msg' data-timestamp='1499787960' id='555724'>
<a class='timestamp' href='#555724'><time timestamp='2017-07-11T15:46:00Z'>15:46</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
anyway, its only really likely if you have a small pool, but still not good
<br>
</div>

<div class='talk op-msg' data-timestamp='1499787960' id='555725'>
<a class='timestamp' href='#555725'><time timestamp='2017-07-11T15:46:00Z'>15:46</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
unless you object I&#x27;ll fix it in a separate pr?
<br>
</div>

<div class='talk op-msg' data-timestamp='1499788020' id='555726'>
<a class='timestamp' href='#555726'><time timestamp='2017-07-11T15:47:00Z'>15:47</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
what is the worst that can happen if an index is inadvertently reused?
<br>
</div>

<div class='talk op-msg' data-timestamp='1499788020' id='555727'>
<a class='timestamp' href='#555727'><time timestamp='2017-07-11T15:47:00Z'>15:47</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
so what happens, do you overwrite the old keypool entry with the new one on disk?  and seems like you could either return the reserved key or use it, and either case might cause problems
<br>
</div>

<div class='talk op-msg' data-timestamp='1499788020' id='555728'>
<a class='timestamp' href='#555728'><time timestamp='2017-07-11T15:47:00Z'>15:47</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
jonasschnelli: where are you on #10650? We
<br>
</div>

<div class='talk op-msg' data-timestamp='1499788020' id='555729'>
<a class='timestamp' href='#555729'><time timestamp='2017-07-11T15:47:00Z'>15:47</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/10650" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/10650</a> | Multiwallet: add RPC endpoint support by jonasschnelli Â· Pull Request #10650 Â· bitcoin/bitcoin Â· GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1499788020' id='555730'>
<a class='timestamp' href='#555730'><time timestamp='2017-07-11T15:47:00Z'>15:47</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
wumpus: not clear to me
<br>
</div>

<div class='talk op-msg' data-timestamp='1499788020' id='555731'>
<a class='timestamp' href='#555731'><time timestamp='2017-07-11T15:47:00Z'>15:47</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
re dangerously close to having multiwallet slip to 16
<br>
</div>

<div class='talk op-msg' data-timestamp='1499788080' id='555732'>
<a class='timestamp' href='#555732'><time timestamp='2017-07-11T15:48:00Z'>15:48</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
wumpus: yea, not clear to me either, intuitively it should be rather minimal, not like we&#x27;re clearing private keys or anything, but I could see it hitting an assert somewhere
<br>
</div>

<div class='talk op-msg' data-timestamp='1499788080' id='555733'>
<a class='timestamp' href='#555733'><time timestamp='2017-07-11T15:48:00Z'>15:48</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
BlueMatt: I suppose I have a slight preference for you adding another commit to that PR to fix it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1499788080' id='555734'>
<a class='timestamp' href='#555734'><time timestamp='2017-07-11T15:48:00Z'>15:48</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
is everything necessary for multiwallet tagged as 0.15?
<br>
</div>

<div class='talk op-msg' data-timestamp='1499788080' id='555735'>
<a class='timestamp' href='#555735'><time timestamp='2017-07-11T15:48:00Z'>15:48</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
i think its just 10650 at this point, no?
<br>
</div>

<div class='talk op-msg' data-timestamp='1499788140' id='555736'>
<a class='timestamp' href='#555736'><time timestamp='2017-07-11T15:49:00Z'>15:49</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes, I think so, and that one is tagged, good
<br>
</div>

<div class='talk op-msg' data-timestamp='1499788200' id='555737'>
<a class='timestamp' href='#555737'><time timestamp='2017-07-11T15:50:00Z'>15:50</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
morcos: heh, ok, I was trying to avoid polluting the bugfix-vs-not distinction, but I suppose the performance regression is somewhat bugfix-y anyway
<br>
</div>

<div class='talk op-msg' data-timestamp='1499788200' id='555738'>
<a class='timestamp' href='#555738'><time timestamp='2017-07-11T15:50:00Z'>15:50</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
64-bits is a big number.. seems pretty safe to just have an in-memory nextIndex that is initialized by taking max of the on-disk last entry in the set?  
<br>
</div>

<div class='talk op-msg' data-timestamp='1499788200' id='555739'>
<a class='timestamp' href='#555739'><time timestamp='2017-07-11T15:50:00Z'>15:50</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
sets
<br>
</div>

<div class='talk op-msg' data-timestamp='1499788260' id='555740'>
<a class='timestamp' href='#555740'><time timestamp='2017-07-11T15:51:00Z'>15:51</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
if you do that, please do make it per-wallet, not global
<br>
</div>

<div class='talk op-msg' data-timestamp='1499788260' id='555741'>
<a class='timestamp' href='#555741'><time timestamp='2017-07-11T15:51:00Z'>15:51</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
yes, that was my preferred fix
<br>
</div>

<div class='talk op-msg' data-timestamp='1499788260' id='555742'>
<a class='timestamp' href='#555742'><time timestamp='2017-07-11T15:51:00Z'>15:51</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
but if it&#x27;s 64-bit I don&#x27;t think we have to be worried about reusing
<br>
</div>

<div class='talk op-msg' data-timestamp='1499788320' id='555743'>
<a class='timestamp' href='#555743'><time timestamp='2017-07-11T15:52:00Z'>15:52</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
unless small numbers are preferable because they are more efficient for some reason
<br>
</div>

<div class='talk op-msg' data-timestamp='1499788320' id='555744'>
<a class='timestamp' href='#555744'><time timestamp='2017-07-11T15:52:00Z'>15:52</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
but I don&#x27;t think so in this case
<br>
</div>

<div class='talk op-msg' data-timestamp='1499788320' id='555745'>
<a class='timestamp' href='#555745'><time timestamp='2017-07-11T15:52:00Z'>15:52</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
ugh, no, bigger numbers better
<br>
</div>

<div class='talk op-msg' data-timestamp='1499788380' id='555746'>
<a class='timestamp' href='#555746'><time timestamp='2017-07-11T15:53:00Z'>15:53</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
ok, so hold off on merging #10235?
<br>
</div>

<div class='talk op-msg' data-timestamp='1499788380' id='555747'>
<a class='timestamp' href='#555747'><time timestamp='2017-07-11T15:53:00Z'>15:53</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/10235" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/10235</a> | Track keypool entries as internal vs external in memory by TheBlueMatt Â· Pull Request #10235 Â· bitcoin/bitcoin Â· GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1499788380' id='555748'>
<a class='timestamp' href='#555748'><time timestamp='2017-07-11T15:53:00Z'>15:53</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
i guess
<br>
</div>

<div class='talk op-msg' data-timestamp='1499788380' id='555749'>
<a class='timestamp' href='#555749'><time timestamp='2017-07-11T15:53:00Z'>15:53</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I&#x27;m not sure that&#x27;s the right thing to do if that bug was not introduced here
<br>
</div>

<div class='talk op-msg' data-timestamp='1499788380' id='555750'>
<a class='timestamp' href='#555750'><time timestamp='2017-07-11T15:53:00Z'>15:53</time></a>
&lt;<span class='nick nick-16'> * BlueMatt</span>&gt;
does care
<br>
</div>

<div class='talk op-msg' data-timestamp='1499788440' id='555751'>
<a class='timestamp' href='#555751'><time timestamp='2017-07-11T15:54:00Z'>15:54</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
wumpus: don&#x27;t hold off for my sake
<br>
</div>

<div class='talk op-msg' data-timestamp='1499788440' id='555752'>
<a class='timestamp' href='#555752'><time timestamp='2017-07-11T15:54:00Z'>15:54</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
i trust we&#x27;ll merge the fix before 0.15
<br>
</div>

<div class='talk op-msg' data-timestamp='1499788440' id='555753'>
<a class='timestamp' href='#555753'><time timestamp='2017-07-11T15:54:00Z'>15:54</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
heh, ok, how bout i just open a pr right now to fix it
<br>
</div>

<div class='talk op-msg' data-timestamp='1499788440' id='555754'>
<a class='timestamp' href='#555754'><time timestamp='2017-07-11T15:54:00Z'>15:54</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
and take 10235
<br>
</div>

<div class='talk op-msg' data-timestamp='1499788440' id='555755'>
<a class='timestamp' href='#555755'><time timestamp='2017-07-11T15:54:00Z'>15:54</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
BlueMatt: stop talking and start coding
<br>
</div>

<div class='talk op-msg' data-timestamp='1499788500' id='555756'>
<a class='timestamp' href='#555756'><time timestamp='2017-07-11T15:55:00Z'>15:55</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
std::max(nEnd, *(--setExternalKeyPool.end()) + 1);   
<br>
</div>

<div class='talk op-msg' data-timestamp='1499788560' id='555757'>
<a class='timestamp' href='#555757'><time timestamp='2017-07-11T15:56:00Z'>15:56</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
whaaaa
<br>
</div>

<div class='talk op-msg' data-timestamp='1499788560' id='555758'>
<a class='timestamp' href='#555758'><time timestamp='2017-07-11T15:56:00Z'>15:56</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
lol, i didnt introduce that
<br>
</div>

<div class='talk op-msg' data-timestamp='1499788560' id='555759'>
<a class='timestamp' href='#555759'><time timestamp='2017-07-11T15:56:00Z'>15:56</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
what is <b>*that*</b>
<br>
</div>

<div class='talk op-msg' data-timestamp='1499788560' id='555760'>
<a class='timestamp' href='#555760'><time timestamp='2017-07-11T15:56:00Z'>15:56</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
there&#x27;s no back() in set :(
<br>
</div>

<div class='talk op-msg' data-timestamp='1499788620' id='555761'>
<a class='timestamp' href='#555761'><time timestamp='2017-07-11T15:57:00Z'>15:57</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I&#x27;m not blaming you, but that&#x27;s not acceptable, certainly not without a comment
<br>
</div>

<div class='talk op-msg' data-timestamp='1499788620' id='555762'>
<a class='timestamp' href='#555762'><time timestamp='2017-07-11T15:57:00Z'>15:57</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
then add a back(set) helper function maybe
<br>
</div>

<div class='talk op-msg' data-timestamp='1499788620' id='555763'>
<a class='timestamp' href='#555763'><time timestamp='2017-07-11T15:57:00Z'>15:57</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
lol, ok, sec
<br>
</div>

<div class='talk op-msg' data-timestamp='1499788620' id='555764'>
<a class='timestamp' href='#555764'><time timestamp='2017-07-11T15:57:00Z'>15:57</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
factor this out to a sensible something
<br>
</div>

<div class='talk op-msg' data-timestamp='1499788680' id='555765'>
<a class='timestamp' href='#555765'><time timestamp='2017-07-11T15:58:00Z'>15:58</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
fwiw, I find that pretty readable, but ok
<br>
</div>

<div class='talk op-msg' data-timestamp='1499788680' id='555766'>
<a class='timestamp' href='#555766'><time timestamp='2017-07-11T15:58:00Z'>15:58</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
no, that&#x27;s not readable
<br>
</div>

<div class='talk op-msg' data-timestamp='1499788680' id='555767'>
<a class='timestamp' href='#555767'><time timestamp='2017-07-11T15:58:00Z'>15:58</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
not at all
<br>
</div>

<div class='talk op-msg' data-timestamp='1499788680' id='555768'>
<a class='timestamp' href='#555768'><time timestamp='2017-07-11T15:58:00Z'>15:58</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
why would you want to infix-decrease end()?
<br>
</div>

<div class='talk op-msg' data-timestamp='1499788680' id='555769'>
<a class='timestamp' href='#555769'><time timestamp='2017-07-11T15:58:00Z'>15:58</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
what does that even do?
<br>
</div>

<div class='talk op-msg' data-timestamp='1499788680' id='555770'>
<a class='timestamp' href='#555770'><time timestamp='2017-07-11T15:58:00Z'>15:58</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
does it move the end of the set?
<br>
</div>

<div class='talk op-msg' data-timestamp='1499788740' id='555771'>
<a class='timestamp' href='#555771'><time timestamp='2017-07-11T15:59:00Z'>15:59</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
but, then, i write iterator garbage that looks like <a href="https://github.com/bitcoinfibre/bitcoinfibre/blob/master/src/blockencodings.cpp#L281" class="link" target="_blank">https://github.com/bitcoinfibre/bitcoinfibre/blob/master/src/blockencodings.cpp#L281</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1499788800' id='555772'>
<a class='timestamp' href='#555772'><time timestamp='2017-07-11T16:00:00Z'>16:00</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
people have to be able to maintain that code, also people that are not you
<br>
</div>

<div class='talk op-msg' data-timestamp='1499788800' id='555773'>
<a class='timestamp' href='#555773'><time timestamp='2017-07-11T16:00:00Z'>16:00</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
i didnt write it
<br>
</div>

<div class='talk op-msg' data-timestamp='1499788800' id='555774'>
<a class='timestamp' href='#555774'><time timestamp='2017-07-11T16:00:00Z'>16:00</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
I&#x27;m fixing...
<br>
</div>

<div class='talk op-msg' data-timestamp='1499788860' id='555775'>
<a class='timestamp' href='#555775'><time timestamp='2017-07-11T16:01:00Z'>16:01</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
that function in fibre looks more understandable
<br>
</div>

<div class='talk op-msg' data-timestamp='1499788920' id='555776'>
<a class='timestamp' href='#555776'><time timestamp='2017-07-11T16:02:00Z'>16:02</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it doesn&#x27;t do anything really crazy and it does it step by step
<br>
</div>

<div class='talk op-msg' data-timestamp='1499788980' id='555777'>
<a class='timestamp' href='#555777'><time timestamp='2017-07-11T16:03:00Z'>16:03</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
ok, fixed on 10235
<br>
</div>

<div class='talk op-msg' data-timestamp='1499788980' id='555778'>
<a class='timestamp' href='#555778'><time timestamp='2017-07-11T16:03:00Z'>16:03</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
lol, clearly I need to try harder to write garbage iterator code in fibre then
<br>
</div>

<div class='talk op-msg' data-timestamp='1499789040' id='555779'>
<a class='timestamp' href='#555779'><time timestamp='2017-07-11T16:04:00Z'>16:04</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
well as long as you don&#x27;t inadvertently add UB
<br>
</div>

<div class='talk op-msg' data-timestamp='1499789040' id='555780'>
<a class='timestamp' href='#555780'><time timestamp='2017-07-11T16:04:00Z'>16:04</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
but if you really want to, make sure it&#x27;s all in one expression and the order of operations, as well as what applies to what isn&#x27;t clear
<br>
</div>

<div class='talk op-msg' data-timestamp='1499789100' id='555781'>
<a class='timestamp' href='#555781'><time timestamp='2017-07-11T16:05:00Z'>16:05</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes, this is much better, thanks
<br>
</div>

<div class='talk op-msg' data-timestamp='1499789100' id='555782'>
<a class='timestamp' href='#555782'><time timestamp='2017-07-11T16:05:00Z'>16:05</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
heh, I was joking, that stuff is hard enough to maintain when I go back once every three months and rewrite big chunks to get another 2 milliseconds out of it :p
<br>
</div>

<div class='talk op-msg' data-timestamp='1499789100' id='555783'>
<a class='timestamp' href='#555783'><time timestamp='2017-07-11T16:05:00Z'>16:05</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
without remembering the threading model that will cause a segfault-in-a-million if you break it
<br>
</div>

<div class='talk op-msg' data-timestamp='1499789220' id='555784'>
<a class='timestamp' href='#555784'><time timestamp='2017-07-11T16:07:00Z'>16:07</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I can imagine
<br>
</div>

<div class='talk op-msg' data-timestamp='1499789220' id='555785'>
<a class='timestamp' href='#555785'><time timestamp='2017-07-11T16:07:00Z'>16:07</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
BlueMatt: fwiw, you can use *.rend() if !empty()
<br>
</div>

<div class='talk op-msg' data-timestamp='1499789220' id='555786'>
<a class='timestamp' href='#555786'><time timestamp='2017-07-11T16:07:00Z'>16:07</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
er, rbegin
<br>
</div>

<div class='talk op-msg' data-timestamp='1499789220' id='555787'>
<a class='timestamp' href='#555787'><time timestamp='2017-07-11T16:07:00Z'>16:07</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
yea, that too
<br>
</div>

<div class='talk op-msg' data-timestamp='1499789580' id='555788'>
<a class='timestamp' href='#555788'><time timestamp='2017-07-11T16:13:00Z'>16:13</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
wumpus: err, nvm, easier to just fix the first bug than bother with simplifying that code
<br>
</div>

<div class='talk op-msg' data-timestamp='1499789580' id='555789'>
<a class='timestamp' href='#555789'><time timestamp='2017-07-11T16:13:00Z'>16:13</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I&#x27;m afraid #10712 doesn&#x27;t build on top of current master
<br>
</div>

<div class='talk op-msg' data-timestamp='1499789580' id='555790'>
<a class='timestamp' href='#555790'><time timestamp='2017-07-11T16:13:00Z'>16:13</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/10712" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/10712</a> | Add change output if necessary to reduce excess fee by morcos Â· Pull Request #10712 Â· bitcoin/bitcoin Â· GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1499789580' id='555791'>
<a class='timestamp' href='#555791'><time timestamp='2017-07-11T16:13:00Z'>16:13</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
BlueMatt: well you had simplified that code just fine imo
<br>
</div>

<div class='talk op-msg' data-timestamp='1499789580' id='555792'>
<a class='timestamp' href='#555792'><time timestamp='2017-07-11T16:13:00Z'>16:13</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
yes, but the next pr is to remove it :p
<br>
</div>

<div class='talk op-msg' data-timestamp='1499789580' id='555793'>
<a class='timestamp' href='#555793'><time timestamp='2017-07-11T16:13:00Z'>16:13</time></a>
&lt;<span class='nick nick-8'> * morcos</span>&gt;
loves it when someone elses code gets made fun of  (ha ha, wow poor timeing to say that)
<br>
</div>

<div class='talk op-msg' data-timestamp='1499789580' id='555794'>
<a class='timestamp' href='#555794'><time timestamp='2017-07-11T16:13:00Z'>16:13</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
ok will look
<br>
</div>

<div class='talk op-msg' data-timestamp='1499789640' id='555795'>
<a class='timestamp' href='#555795'><time timestamp='2017-07-11T16:14:00Z'>16:14</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
lol     
<br>
</div>

<div class='talk op-msg' data-timestamp='1499789640' id='555796'>
<a class='timestamp' href='#555796'><time timestamp='2017-07-11T16:14:00Z'>16:14</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
BlueMatt: lol, oops, that happens to me all the time
<br>
</div>

<div class='talk op-msg' data-timestamp='1499789640' id='555797'>
<a class='timestamp' href='#555797'><time timestamp='2017-07-11T16:14:00Z'>16:14</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
spend optimizing or improving some part of the code, then it&#x27;s no longer necessary :p
<br>
</div>

<div class='talk op-msg' data-timestamp='1499789700' id='555798'>
<a class='timestamp' href='#555798'><time timestamp='2017-07-11T16:15:00Z'>16:15</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
re: #10712: src/wallet/wallet.cpp:2763:151: error: too few arguments to function call, expected 7, have 5
<br>
</div>

<div class='talk op-msg' data-timestamp='1499789700' id='555799'>
<a class='timestamp' href='#555799'><time timestamp='2017-07-11T16:15:00Z'>16:15</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
CAmount fee_needed_for_change = GetMinimumFee(change_prototype_size, currentConfirmationTarget, ::mempool, ::feeEstimator, nullptr);
<br>
</div>

<div class='talk op-msg' data-timestamp='1499789700' id='555800'>
<a class='timestamp' href='#555800'><time timestamp='2017-07-11T16:15:00Z'>16:15</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/10712" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/10712</a> | Add change output if necessary to reduce excess fee by morcos Â· Pull Request #10712 Â· bitcoin/bitcoin Â· GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1499789700' id='555801'>
<a class='timestamp' href='#555801'><time timestamp='2017-07-11T16:15:00Z'>16:15</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
well, I&#x27;ll lave 10235 with the fix for now, since it should be an easy merge
<br>
</div>

<div class='talk op-msg' data-timestamp='1499789760' id='555802'>
<a class='timestamp' href='#555802'><time timestamp='2017-07-11T16:16:00Z'>16:16</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
and then it&#x27;ll get removed in the next pr, which will need a whole review cycle
<br>
</div>

<div class='talk op-msg' data-timestamp='1499789820' id='555803'>
<a class='timestamp' href='#555803'><time timestamp='2017-07-11T16:17:00Z'>16:17</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
yeah conflict with my other PR you just merged but in a newly added line, will fix 10712
<br>
</div>

<div class='talk op-msg' data-timestamp='1499789880' id='555804'>
<a class='timestamp' href='#555804'><time timestamp='2017-07-11T16:18:00Z'>16:18</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] TheBlueMatt opened pull request #10795: No longer ever reuse keypool indexes (master...2017-07-wallet-keypool-overwrite) <a href="https://github.com/bitcoin/bitcoin/pull/10795" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10795</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1499792520' id='555805'>
<a class='timestamp' href='#555805'><time timestamp='2017-07-11T17:02:00Z'>17:02</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
these are some preliminary benchmarks for a reindex-chainstate up to height 450000 (before assumevalid, so no signature checking), with infinity dbcache, for various sha256 implementations:
<br>
</div>

<div class='talk op-msg' data-timestamp='1499792580' id='555806'>
<a class='timestamp' href='#555806'><time timestamp='2017-07-11T17:03:00Z'>17:03</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
bitcoind-rorx: 4835
<br>
</div>

<div class='talk op-msg' data-timestamp='1499792580' id='555807'>
<a class='timestamp' href='#555807'><time timestamp='2017-07-11T17:03:00Z'>17:03</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
bitcoind-shani: 4297
<br>
</div>

<div class='talk op-msg' data-timestamp='1499792580' id='555808'>
<a class='timestamp' href='#555808'><time timestamp='2017-07-11T17:03:00Z'>17:03</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
bitcoind-basic: 5134
<br>
</div>

<div class='talk op-msg' data-timestamp='1499792580' id='555809'>
<a class='timestamp' href='#555809'><time timestamp='2017-07-11T17:03:00Z'>17:03</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
bitcoind-sse: 4875
<br>
</div>

<div class='talk op-msg' data-timestamp='1499792640' id='555810'>
<a class='timestamp' href='#555810'><time timestamp='2017-07-11T17:04:00Z'>17:04</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
basic is master
<br>
</div>

<div class='talk op-msg' data-timestamp='1499792640' id='555811'>
<a class='timestamp' href='#555811'><time timestamp='2017-07-11T17:04:00Z'>17:04</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 3 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/ca4c545cc7e8...e8b95239eeb0" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/ca4c545cc7e8...e8b95239eeb0</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1499792640' id='555812'>
<a class='timestamp' href='#555812'><time timestamp='2017-07-11T17:04:00Z'>17:04</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 253cd7e Alex Morcos: Only reserve key for scriptChange once in CreateTransaction...
<br>
</div>

<div class='talk op-msg' data-timestamp='1499792640' id='555813'>
<a class='timestamp' href='#555813'><time timestamp='2017-07-11T17:04:00Z'>17:04</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 0f402b9 Alex Morcos: Fix rare edge case of paying too many fees when transaction has no change....
<br>
</div>

<div class='talk op-msg' data-timestamp='1499792640' id='555814'>
<a class='timestamp' href='#555814'><time timestamp='2017-07-11T17:04:00Z'>17:04</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master e8b9523 Wladimir J. van der Laan: Merge #10712: Add change output if necessary to reduce excess fee...
<br>
</div>

<div class='talk op-msg' data-timestamp='1499792640' id='555815'>
<a class='timestamp' href='#555815'><time timestamp='2017-07-11T17:04:00Z'>17:04</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
rorx and sse are from wumpus&#x27; work to include some asm optimized versions
<br>
</div>

<div class='talk op-msg' data-timestamp='1499792640' id='555816'>
<a class='timestamp' href='#555816'><time timestamp='2017-07-11T17:04:00Z'>17:04</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj closed pull request #10712: Add change output if necessary to reduce excess fee (master...addchangehwenoverpaying) <a href="https://github.com/bitcoin/bitcoin/pull/10712" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10712</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1499792640' id='555817'>
<a class='timestamp' href='#555817'><time timestamp='2017-07-11T17:04:00Z'>17:04</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
the shani version is using code from cryptopp
<br>
</div>

<div class='talk op-msg' data-timestamp='1499792820' id='555818'>
<a class='timestamp' href='#555818'><time timestamp='2017-07-11T17:07:00Z'>17:07</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
lol, Make Bitcoin CryptoPP Again
<br>
</div>

<div class='talk op-msg' data-timestamp='1499792880' id='555819'>
<a class='timestamp' href='#555819'><time timestamp='2017-07-11T17:08:00Z'>17:08</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
thats a pretty impressive gain
<br>
</div>

<div class='talk op-msg' data-timestamp='1499792880' id='555820'>
<a class='timestamp' href='#555820'><time timestamp='2017-07-11T17:08:00Z'>17:08</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
unfortunately, very few systems right now have sha-ni instructions
<br>
</div>

<div class='talk op-msg' data-timestamp='1499792940' id='555821'>
<a class='timestamp' href='#555821'><time timestamp='2017-07-11T17:09:00Z'>17:09</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
yes, but that should change over time
<br>
</div>

<div class='talk op-msg' data-timestamp='1499792940' id='555822'>
<a class='timestamp' href='#555822'><time timestamp='2017-07-11T17:09:00Z'>17:09</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
the sha-ni in intel and amd are identical, no?
<br>
</div>

<div class='talk op-msg' data-timestamp='1499792940' id='555823'>
<a class='timestamp' href='#555823'><time timestamp='2017-07-11T17:09:00Z'>17:09</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
afaik, there is exists no &quot;sha-ni in intel&quot; yet :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1499793000' id='555824'>
<a class='timestamp' href='#555824'><time timestamp='2017-07-11T17:10:00Z'>17:10</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
that&#x27;s always the dilemma with new instructions, the systems that have that instruction probably least need the optimization :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1499793060' id='555825'>
<a class='timestamp' href='#555825'><time timestamp='2017-07-11T17:11:00Z'>17:11</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sse is present in nearly every x86_64 cpu, i think
<br>
</div>

<div class='talk op-msg' data-timestamp='1499793120' id='555826'>
<a class='timestamp' href='#555826'><time timestamp='2017-07-11T17:12:00Z'>17:12</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes, sse is present in all of them
<br>
</div>

<div class='talk op-msg' data-timestamp='1499793120' id='555827'>
<a class='timestamp' href='#555827'><time timestamp='2017-07-11T17:12:00Z'>17:12</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
even sse2 should be in all of them
<br>
</div>

<div class='talk op-msg' data-timestamp='1499793180' id='555828'>
<a class='timestamp' href='#555828'><time timestamp='2017-07-11T17:13:00Z'>17:13</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
sipa: hmm? I was under the impression they had announced something like the next arch will get it
<br>
</div>

<div class='talk op-msg' data-timestamp='1499793180' id='555829'>
<a class='timestamp' href='#555829'><time timestamp='2017-07-11T17:13:00Z'>17:13</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sse2 is required by x86_64.
<br>
</div>

<div class='talk op-msg' data-timestamp='1499793180' id='555830'>
<a class='timestamp' href='#555830'><time timestamp='2017-07-11T17:13:00Z'>17:13</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
no shipping ones, obviously
<br>
</div>

<div class='talk op-msg' data-timestamp='1499793240' id='555831'>
<a class='timestamp' href='#555831'><time timestamp='2017-07-11T17:14:00Z'>17:14</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
those are not exactly new instructions though :) anyhow supporting shani as well is nice, just takes time and it will be in near everything...
<br>
</div>

<div class='talk op-msg' data-timestamp='1499793240' id='555832'>
<a class='timestamp' href='#555832'><time timestamp='2017-07-11T17:14:00Z'>17:14</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
here is something funny: compilng bitcoin with -march=native makes the sha2 in C most of the speed of the sse one. (compiler manages to use rorx)
<br>
</div>

<div class='talk op-msg' data-timestamp='1499793300' id='555833'>
<a class='timestamp' href='#555833'><time timestamp='2017-07-11T17:15:00Z'>17:15</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Also the x86 simd support will make it easier to plug in arm versions; which will be more important for speed.
<br>
</div>

<div class='talk op-msg' data-timestamp='1499793300' id='555834'>
<a class='timestamp' href='#555834'><time timestamp='2017-07-11T17:15:00Z'>17:15</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
wow, yay compiler smarts
<br>
</div>

<div class='talk op-msg' data-timestamp='1499793360' id='555835'>
<a class='timestamp' href='#555835'><time timestamp='2017-07-11T17:16:00Z'>17:16</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sipa: there is an intel chip with sha-ni, but it&#x27;s some crappy atom processor.
<br>
</div>

<div class='talk op-msg' data-timestamp='1499793360' id='555836'>
<a class='timestamp' href='#555836'><time timestamp='2017-07-11T17:16:00Z'>17:16</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
&lt;wumpus&gt; that&#x27;s always the dilemma with new instructions, the systems that have that instruction probably least need the optimization :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1499793360' id='555837'>
<a class='timestamp' href='#555837'><time timestamp='2017-07-11T17:16:00Z'>17:16</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
heh, guess not, then
<br>
</div>

<div class='talk op-msg' data-timestamp='1499793420' id='555838'>
<a class='timestamp' href='#555838'><time timestamp='2017-07-11T17:17:00Z'>17:17</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: compiling all of bitcoind with -march=native actually makes it overall another 100s faster to sync
<br>
</div>

<div class='talk op-msg' data-timestamp='1499793420' id='555839'>
<a class='timestamp' href='#555839'><time timestamp='2017-07-11T17:17:00Z'>17:17</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
well aformentioned atom is some server atom that isn&#x27;t very widely deployed from what I can tell.
<br>
</div>

<div class='talk op-msg' data-timestamp='1499793420' id='555840'>
<a class='timestamp' href='#555840'><time timestamp='2017-07-11T17:17:00Z'>17:17</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
do you have lto benchmarks?
<br>
</div>

<div class='talk op-msg' data-timestamp='1499793420' id='555841'>
<a class='timestamp' href='#555841'><time timestamp='2017-07-11T17:17:00Z'>17:17</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
not yet, but i can create
<br>
</div>

<div class='talk op-msg' data-timestamp='1499793480' id='555842'>
<a class='timestamp' href='#555842'><time timestamp='2017-07-11T17:18:00Z'>17:18</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes, march=native is nice, everyone compiling bitcoind locally should use it
<br>
</div>

<div class='talk op-msg' data-timestamp='1499793480' id='555843'>
<a class='timestamp' href='#555843'><time timestamp='2017-07-11T17:18:00Z'>17:18</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
#9804 looks like a good change that is getting forgotten. (I say that as someone whos only concept acked so far...)
<br>
</div>

<div class='talk op-msg' data-timestamp='1499793480' id='555844'>
<a class='timestamp' href='#555844'><time timestamp='2017-07-11T17:18:00Z'>17:18</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/9804" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/9804</a> | Fixes subscript 0 ([0]) where should use (var.data()) instead. by JeremyRubin Â· Pull Request #9804 Â· bitcoin/bitcoin Â· GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1499793480' id='555845'>
<a class='timestamp' href='#555845'><time timestamp='2017-07-11T17:18:00Z'>17:18</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
with so many open PRs it&#x27;s unavoidable that some things get forgotten, unfortunately
<br>
</div>

<div class='talk op-msg' data-timestamp='1499793540' id='555846'>
<a class='timestamp' href='#555846'><time timestamp='2017-07-11T17:19:00Z'>17:19</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
but no, that one isn&#x27;t
<br>
</div>

<div class='talk op-msg' data-timestamp='1499793540' id='555847'>
<a class='timestamp' href='#555847'><time timestamp='2017-07-11T17:19:00Z'>17:19</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I just referred people to review it today (because they opened a PR that was a strict subset of it)
<br>
</div>

<div class='talk op-msg' data-timestamp='1499793600' id='555848'>
<a class='timestamp' href='#555848'><time timestamp='2017-07-11T17:20:00Z'>17:20</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
wumpus: thanks for that, i had almost forgotten about jeremy&#x27;s version
<br>
</div>

<div class='talk op-msg' data-timestamp='1499794200' id='555849'>
<a class='timestamp' href='#555849'><time timestamp='2017-07-11T17:30:00Z'>17:30</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
lolwut
<br>
</div>

<div class='talk op-msg' data-timestamp='1499794200' id='555850'>
<a class='timestamp' href='#555850'><time timestamp='2017-07-11T17:30:00Z'>17:30</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
ehh, wrong window
<br>
</div>

<div class='talk op-msg' data-timestamp='1499794260' id='555851'>
<a class='timestamp' href='#555851'><time timestamp='2017-07-11T17:31:00Z'>17:31</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
seems totally appropriate here
<br>
</div>

<div class='talk op-msg' data-timestamp='1499794320' id='555852'>
<a class='timestamp' href='#555852'><time timestamp='2017-07-11T17:32:00Z'>17:32</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
ok, then I&#x27;ll pretend I meant to
<br>
</div>

<div class='talk op-msg' data-timestamp='1499795880' id='555853'>
<a class='timestamp' href='#555853'><time timestamp='2017-07-11T17:58:00Z'>17:58</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
running benchmarks for lto and shani+lto as well now
<br>
</div>

<div class='talk op-msg' data-timestamp='1499795880' id='555854'>
<a class='timestamp' href='#555854'><time timestamp='2017-07-11T17:58:00Z'>17:58</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
will have numbers in a day...
<br>
</div>

<div class='talk op-msg' data-timestamp='1499795940' id='555855'>
<a class='timestamp' href='#555855'><time timestamp='2017-07-11T17:59:00Z'>17:59</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
interestingly, the shani+lto does not even contain any non-shani sha code, even though it&#x27;s dispatched to a modifiable pointer
<br>
</div>

<div class='talk op-msg' data-timestamp='1499795940' id='555856'>
<a class='timestamp' href='#555856'><time timestamp='2017-07-11T17:59:00Z'>17:59</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
heh     
<br>
</div>

<div class='talk op-msg' data-timestamp='1499795940' id='555857'>
<a class='timestamp' href='#555857'><time timestamp='2017-07-11T17:59:00Z'>17:59</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
oh nice
<br>
</div>

<div class='talk op-msg' data-timestamp='1499795940' id='555858'>
<a class='timestamp' href='#555858'><time timestamp='2017-07-11T17:59:00Z'>17:59</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
the compiler must notice there are no assignments to that pointer, and treats it as a constant
<br>
</div>

<div class='talk op-msg' data-timestamp='1499796000' id='555859'>
<a class='timestamp' href='#555859'><time timestamp='2017-07-11T18:00:00Z'>18:00</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
yea, lto can be clever sometimes
<br>
</div>

<div class='talk op-msg' data-timestamp='1499796480' id='555860'>
<a class='timestamp' href='#555860'><time timestamp='2017-07-11T18:08:00Z'>18:08</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
if compiler versions are still keeping up from ltoing by default perhaps we could add a --gofast configure flag to do -march=native -O3 -lto
<br>
</div>

<div class='talk op-msg' data-timestamp='1499796540' id='555861'>
<a class='timestamp' href='#555861'><time timestamp='2017-07-11T18:09:00Z'>18:09</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
is O3 a win in bitcoin?
<br>
</div>

<div class='talk op-msg' data-timestamp='1499796540' id='555862'>
<a class='timestamp' href='#555862'><time timestamp='2017-07-11T18:09:00Z'>18:09</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i guess i&#x27;ll benchmark that too :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1499796540' id='555863'>
<a class='timestamp' href='#555863'><time timestamp='2017-07-11T18:09:00Z'>18:09</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
heh     
<br>
</div>

<div class='talk op-msg' data-timestamp='1499796780' id='555864'>
<a class='timestamp' href='#555864'><time timestamp='2017-07-11T18:13:00Z'>18:13</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I don&#x27;t see why something as basic as that would need a configure fla
<br>
</div>

<div class='talk op-msg' data-timestamp='1499796840' id='555865'>
<a class='timestamp' href='#555865'><time timestamp='2017-07-11T18:14:00Z'>18:14</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
people that want to supply their own CXXFLAGS can do so already
<br>
</div>

<div class='talk op-msg' data-timestamp='1499796840' id='555866'>
<a class='timestamp' href='#555866'><time timestamp='2017-07-11T18:14:00Z'>18:14</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
could just mention it in the build document
<br>
</div>

<div class='talk op-msg' data-timestamp='1499796840' id='555867'>
<a class='timestamp' href='#555867'><time timestamp='2017-07-11T18:14:00Z'>18:14</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
a dedicated configure flag only makes sense if we use something for the gitian build, so people can do their own build with the same settings
<br>
</div>

<div class='talk op-msg' data-timestamp='1499796900' id='555868'>
<a class='timestamp' href='#555868'><time timestamp='2017-07-11T18:15:00Z'>18:15</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
wumpus: fair enough
<br>
</div>

<div class='talk op-msg' data-timestamp='1499796900' id='555869'>
<a class='timestamp' href='#555869'><time timestamp='2017-07-11T18:15:00Z'>18:15</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
but using -march=native would be a bad idea there, -flto might be a good one
<br>
</div>

<div class='talk op-msg' data-timestamp='1499796900' id='555870'>
<a class='timestamp' href='#555870'><time timestamp='2017-07-11T18:15:00Z'>18:15</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
yea, flto could use its own configure flat...doing it manually is like 6 variables long
<br>
</div>

<div class='talk op-msg' data-timestamp='1499797020' id='555871'>
<a class='timestamp' href='#555871'><time timestamp='2017-07-11T18:17:00Z'>18:17</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
well I think we should lto by default, but there was still some question of compiler support. (which I think was mooted by C++11, but perhaps I&#x27;m wrong, since we still haven&#x27;t done it.)
<br>
</div>

<div class='talk op-msg' data-timestamp='1499797080' id='555872'>
<a class='timestamp' href='#555872'><time timestamp='2017-07-11T18:18:00Z'>18:18</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I&#x27;m not convinced anything but -O2 optimization should be default
<br>
</div>

<div class='talk op-msg' data-timestamp='1499797140' id='555873'>
<a class='timestamp' href='#555873'><time timestamp='2017-07-11T18:19:00Z'>18:19</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
wumpus: why shouldn&#x27;t it be lto-ing by default?
<br>
</div>

<div class='talk op-msg' data-timestamp='1499797140' id='555874'>
<a class='timestamp' href='#555874'><time timestamp='2017-07-11T18:19:00Z'>18:19</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
cfields might have more of an opinion, but in my experience buildling open source software for lots of platforms, I&#x27;ve had lots of annoyances with software that tried to forcibly injects certain sets of optimizations flags
<br>
</div>

<div class='talk op-msg' data-timestamp='1499797140' id='555875'>
<a class='timestamp' href='#555875'><time timestamp='2017-07-11T18:19:00Z'>18:19</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it should be left up to the distribution ideally to set optimization flags
<br>
</div>

<div class='talk op-msg' data-timestamp='1499797140' id='555876'>
<a class='timestamp' href='#555876'><time timestamp='2017-07-11T18:19:00Z'>18:19</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
gmaxwell: lto does not work on moderately-recent compilers
<br>
</div>

<div class='talk op-msg' data-timestamp='1499797140' id='555877'>
<a class='timestamp' href='#555877'><time timestamp='2017-07-11T18:19:00Z'>18:19</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
well even if it did
<br>
</div>

<div class='talk op-msg' data-timestamp='1499797140' id='555878'>
<a class='timestamp' href='#555878'><time timestamp='2017-07-11T18:19:00Z'>18:19</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
eg debian jessie
<br>
</div>

<div class='talk op-msg' data-timestamp='1499797140' id='555879'>
<a class='timestamp' href='#555879'><time timestamp='2017-07-11T18:19:00Z'>18:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
works fine here, and for release builds we control the environment entirely anyway
<br>
</div>

<div class='talk op-msg' data-timestamp='1499797200' id='555880'>
<a class='timestamp' href='#555880'><time timestamp='2017-07-11T18:20:00Z'>18:20</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
well, i guess 4.9 isnt moderately-recent
<br>
</div>

<div class='talk op-msg' data-timestamp='1499797200' id='555881'>
<a class='timestamp' href='#555881'><time timestamp='2017-07-11T18:20:00Z'>18:20</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes, for release builds flto would be good
<br>
</div>

<div class='talk op-msg' data-timestamp='1499797200' id='555882'>
<a class='timestamp' href='#555882'><time timestamp='2017-07-11T18:20:00Z'>18:20</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
anyway, we support it, and lto doesnt work on it
<br>
</div>

<div class='talk op-msg' data-timestamp='1499797200' id='555883'>
<a class='timestamp' href='#555883'><time timestamp='2017-07-11T18:20:00Z'>18:20</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
wumpus: agreed. &quot;-02 -g&quot; is expected to be the default, I get really irritated when that&#x27;s not the case
<br>
</div>

<div class='talk op-msg' data-timestamp='1499797200' id='555884'>
<a class='timestamp' href='#555884'><time timestamp='2017-07-11T18:20:00Z'>18:20</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
cfields: exactly
<br>
</div>

<div class='talk op-msg' data-timestamp='1499797200' id='555885'>
<a class='timestamp' href='#555885'><time timestamp='2017-07-11T18:20:00Z'>18:20</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
benchmarking reindex with &quot;-O2&quot;, &quot;-O3&quot;, &quot;-flto -O2&quot;,  and &quot;-flto -O3&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1499797200' id='555886'>
<a class='timestamp' href='#555886'><time timestamp='2017-07-11T18:20:00Z'>18:20</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
nice
<br>
</div>

<div class='talk op-msg' data-timestamp='1499797260' id='555887'>
<a class='timestamp' href='#555887'><time timestamp='2017-07-11T18:21:00Z'>18:21</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
don&#x27;t get me wrong, flto would be great for gitian builds, and we could have a configure option for that, but adding non-standard optimization flags by default on configure tends to be really annoying in edge cases
<br>
</div>

<div class='talk op-msg' data-timestamp='1499797260' id='555888'>
<a class='timestamp' href='#555888'><time timestamp='2017-07-11T18:21:00Z'>18:21</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
cfields was concerned about having release builds deviate too much from developers-tested builds
<br>
</div>

<div class='talk op-msg' data-timestamp='1499797260' id='555889'>
<a class='timestamp' href='#555889'><time timestamp='2017-07-11T18:21:00Z'>18:21</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
I get the impression i should go ahead and wire up --enable-lto before someone sneaks in something unexpected :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1499797320' id='555890'>
<a class='timestamp' href='#555890'><time timestamp='2017-07-11T18:22:00Z'>18:22</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
BlueMatt: I do not believe that LTO fails to work on anything that can compile Bitcoin Core.   It&#x27;s been supported since GCC 4.7
<br>
</div>

<div class='talk op-msg' data-timestamp='1499797320' id='555891'>
<a class='timestamp' href='#555891'><time timestamp='2017-07-11T18:22:00Z'>18:22</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
if you want to encourage people to build with optimization flags then just document it in e.g. build-unix.md 
<br>
</div>

<div class='talk op-msg' data-timestamp='1499797320' id='555892'>
<a class='timestamp' href='#555892'><time timestamp='2017-07-11T18:22:00Z'>18:22</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
don&#x27;t do anything sneaky
<br>
</div>

<div class='talk op-msg' data-timestamp='1499797320' id='555893'>
<a class='timestamp' href='#555893'><time timestamp='2017-07-11T18:22:00Z'>18:22</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Our cflags are far from -O2 -g, though, we add about two dozen warning flags.
<br>
</div>

<div class='talk op-msg' data-timestamp='1499797320' id='555894'>
<a class='timestamp' href='#555894'><time timestamp='2017-07-11T18:22:00Z'>18:22</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
warning flags don&#x27;t do aything funny to the code
<br>
</div>

<div class='talk op-msg' data-timestamp='1499797320' id='555895'>
<a class='timestamp' href='#555895'><time timestamp='2017-07-11T18:22:00Z'>18:22</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
sipa: i think an --enable-lto alleviates that somewhat, since it makes it easy for devs to get the same results
<br>
</div>

<div class='talk op-msg' data-timestamp='1499797380' id='555896'>
<a class='timestamp' href='#555896'><time timestamp='2017-07-11T18:23:00Z'>18:23</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
gmaxwell: I dunno, I&#x27;ve been building on lto for a long time and every debian jessie server I&#x27;ve ever installed has always failed to build lto
<br>
</div>

<div class='talk op-msg' data-timestamp='1499797380' id='555897'>
<a class='timestamp' href='#555897'><time timestamp='2017-07-11T18:23:00Z'>18:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
BlueMatt: due to some boost interaction, right?
<br>
</div>

<div class='talk op-msg' data-timestamp='1499797380' id='555898'>
<a class='timestamp' href='#555898'><time timestamp='2017-07-11T18:23:00Z'>18:23</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
its an easy fix - just recompile util.cpp without lto and then it works, but its broken
<br>
</div>

<div class='talk op-msg' data-timestamp='1499797380' id='555899'>
<a class='timestamp' href='#555899'><time timestamp='2017-07-11T18:23:00Z'>18:23</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
sipa: its not boost-specific, but thats where it fails
<br>
</div>

<div class='talk op-msg' data-timestamp='1499797380' id='555900'>
<a class='timestamp' href='#555900'><time timestamp='2017-07-11T18:23:00Z'>18:23</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
it appears to be some general issue with destructors defined in headers
<br>
</div>

<div class='talk op-msg' data-timestamp='1499797380' id='555901'>
<a class='timestamp' href='#555901'><time timestamp='2017-07-11T18:23:00Z'>18:23</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
sipa: iirc i hit a boost::filesystem problem last i tried
<br>
</div>

<div class='talk op-msg' data-timestamp='1499797380' id='555902'>
<a class='timestamp' href='#555902'><time timestamp='2017-07-11T18:23:00Z'>18:23</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
BlueMatt: good datapoint then.
<br>
</div>

<div class='talk op-msg' data-timestamp='1499797380' id='555903'>
<a class='timestamp' href='#555903'><time timestamp='2017-07-11T18:23:00Z'>18:23</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
I&#x27;ve seen it fail on other things, but normally the thing you see is ~boost::filesystem()
<br>
</div>

<div class='talk op-msg' data-timestamp='1499797380' id='555904'>
<a class='timestamp' href='#555904'><time timestamp='2017-07-11T18:23:00Z'>18:23</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
but i assumed it was local
<br>
</div>

<div class='talk op-msg' data-timestamp='1499797440' id='555905'>
<a class='timestamp' href='#555905'><time timestamp='2017-07-11T18:24:00Z'>18:24</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
ehh, sorry, not filesystem
<br>
</div>

<div class='talk op-msg' data-timestamp='1499797440' id='555906'>
<a class='timestamp' href='#555906'><time timestamp='2017-07-11T18:24:00Z'>18:24</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
some boost::filesystem path ~ thing
<br>
</div>

<div class='talk op-msg' data-timestamp='1499797500' id='555907'>
<a class='timestamp' href='#555907'><time timestamp='2017-07-11T18:25:00Z'>18:25</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
sipa: ooh i know, we can wire it up with depends builds
<br>
</div>

<div class='talk op-msg' data-timestamp='1499797500' id='555908'>
<a class='timestamp' href='#555908'><time timestamp='2017-07-11T18:25:00Z'>18:25</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
cfields: didnt you tell me you were gonna wire up a &quot;trusting-trust&quot; gcc build in depends for 15? :P
<br>
</div>

<div class='talk op-msg' data-timestamp='1499797500' id='555909'>
<a class='timestamp' href='#555909'><time timestamp='2017-07-11T18:25:00Z'>18:25</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
I still dont see a PR
<br>
</div>

<div class='talk op-msg' data-timestamp='1499797560' id='555910'>
<a class='timestamp' href='#555910'><time timestamp='2017-07-11T18:26:00Z'>18:26</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
that way anyone using depends gets lto by default, and we also know what dep versions we&#x27;re dealing with
<br>
</div>

<div class='talk op-msg' data-timestamp='1499797560' id='555911'>
<a class='timestamp' href='#555911'><time timestamp='2017-07-11T18:26:00Z'>18:26</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
our good friend ubuntu trusty has gcc 4.8.4, hopefully that can do flto without probems (especially worried about windows! but we&#x27;ll see)
<br>
</div>

<div class='talk op-msg' data-timestamp='1499797560' id='555912'>
<a class='timestamp' href='#555912'><time timestamp='2017-07-11T18:26:00Z'>18:26</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
BlueMatt: i don&#x27;t think it&#x27;s going to make it :(
<br>
</div>

<div class='talk op-msg' data-timestamp='1499797560' id='555913'>
<a class='timestamp' href='#555913'><time timestamp='2017-07-11T18:26:00Z'>18:26</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
wumpus: I&#x27;d be kinda surprised if it did
<br>
</div>

<div class='talk op-msg' data-timestamp='1499797560' id='555914'>
<a class='timestamp' href='#555914'><time timestamp='2017-07-11T18:26:00Z'>18:26</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
cfields: what? by this coming sunday? yea, somehow i doubt it
<br>
</div>

<div class='talk op-msg' data-timestamp='1499797620' id='555915'>
<a class='timestamp' href='#555915'><time timestamp='2017-07-11T18:27:00Z'>18:27</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
can someone please just try instead of guess :-)
<br>
</div>

<div class='talk op-msg' data-timestamp='1499797620' id='555916'>
<a class='timestamp' href='#555916'><time timestamp='2017-07-11T18:27:00Z'>18:27</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
+1     
<br>
</div>

<div class='talk op-msg' data-timestamp='1499797620' id='555917'>
<a class='timestamp' href='#555917'><time timestamp='2017-07-11T18:27:00Z'>18:27</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
go cfields, go
<br>
</div>

<div class='talk op-msg' data-timestamp='1499797620' id='555918'>
<a class='timestamp' href='#555918'><time timestamp='2017-07-11T18:27:00Z'>18:27</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I can do it, np, but thought cfields was going to
<br>
</div>

<div class='talk op-msg' data-timestamp='1499797680' id='555919'>
<a class='timestamp' href='#555919'><time timestamp='2017-07-11T18:28:00Z'>18:28</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
add lto to configure (and see if it works) ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1499797680' id='555920'>
<a class='timestamp' href='#555920'><time timestamp='2017-07-11T18:28:00Z'>18:28</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
cfields: yes, doing a gitian build with lto (for all platforms)
<br>
</div>

<div class='talk op-msg' data-timestamp='1499797740' id='555921'>
<a class='timestamp' href='#555921'><time timestamp='2017-07-11T18:29:00Z'>18:29</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
oh, i thought we were talking about a &quot;trusting trust&quot; copy of gcc
<br>
</div>

<div class='talk op-msg' data-timestamp='1499797740' id='555922'>
<a class='timestamp' href='#555922'><time timestamp='2017-07-11T18:29:00Z'>18:29</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
then seeing where/if the result crashes
<br>
</div>

<div class='talk op-msg' data-timestamp='1499797740' id='555923'>
<a class='timestamp' href='#555923'><time timestamp='2017-07-11T18:29:00Z'>18:29</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
sure, i can do that
<br>
</div>

<div class='talk op-msg' data-timestamp='1499797740' id='555924'>
<a class='timestamp' href='#555924'><time timestamp='2017-07-11T18:29:00Z'>18:29</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
yea, ok, adding lto is much easier, that could make it
<br>
</div>

<div class='talk op-msg' data-timestamp='1499797740' id='555925'>
<a class='timestamp' href='#555925'><time timestamp='2017-07-11T18:29:00Z'>18:29</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
BlueMatt: I thoughtwe were talking about optimizations
<br>
</div>

<div class='talk op-msg' data-timestamp='1499797740' id='555926'>
<a class='timestamp' href='#555926'><time timestamp='2017-07-11T18:29:00Z'>18:29</time></a>
&lt;<span class='nick nick-3'> * wumpus</span>&gt;
confused
<br>
</div>

<div class='talk op-msg' data-timestamp='1499797800' id='555927'>
<a class='timestamp' href='#555927'><time timestamp='2017-07-11T18:30:00Z'>18:30</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
adding lto to configure now, then seeing where it works.
<br>
</div>

<div class='talk op-msg' data-timestamp='1499797920' id='555928'>
<a class='timestamp' href='#555928'><time timestamp='2017-07-11T18:32:00Z'>18:32</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
cool
<br>
</div>

<div class='talk op-msg' data-timestamp='1499798040' id='555929'>
<a class='timestamp' href='#555929'><time timestamp='2017-07-11T18:34:00Z'>18:34</time></a>
&lt;<span class='nick nick-6'> cluelessperson</span>&gt;
Hey guys, I&#x27;m looking at buying some new server hardware.
<br>
</div>

<div class='talk op-msg' data-timestamp='1499798040' id='555930'>
<a class='timestamp' href='#555930'><time timestamp='2017-07-11T18:34:00Z'>18:34</time></a>
&lt;<span class='nick nick-6'> cluelessperson</span>&gt;
<a href="https://www.asus.com/us/Commercial-Servers-Workstations/RS100-E9-PI2/specifications/" class="link" target="_blank">https://www.asus.com/us/Commercial-Servers-Workstations/RS100-E9-PI2/specifications/</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1499798100' id='555931'>
<a class='timestamp' href='#555931'><time timestamp='2017-07-11T18:35:00Z'>18:35</time></a>
&lt;<span class='nick nick-6'> cluelessperson</span>&gt;
is currently on my plate, but I was wondering if you might suggest something else that might be more beneficial towards bitcoin development, testing/QA?
<br>
</div>

<div class='talk op-msg' data-timestamp='1499798280' id='555932'>
<a class='timestamp' href='#555932'><time timestamp='2017-07-11T18:38:00Z'>18:38</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
this really isn&#x27;t the channel for server hw suggestions
<br>
</div>

<div class='talk op-msg' data-timestamp='1499798280' id='555933'>
<a class='timestamp' href='#555933'><time timestamp='2017-07-11T18:38:00Z'>18:38</time></a>
&lt;<span class='nick nick-5'> midnightmagic</span>&gt;
I sent him here.
<br>
</div>

<div class='talk op-msg' data-timestamp='1499798340' id='555934'>
<a class='timestamp' href='#555934'><time timestamp='2017-07-11T18:39:00Z'>18:39</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
cluelessperson: anything with fast disk and lots of memory
<br>
</div>

<div class='talk op-msg' data-timestamp='1499798340' id='555935'>
<a class='timestamp' href='#555935'><time timestamp='2017-07-11T18:39:00Z'>18:39</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
otherwise, O/T
<br>
</div>

<div class='talk op-msg' data-timestamp='1499798400' id='555936'>
<a class='timestamp' href='#555936'><time timestamp='2017-07-11T18:40:00Z'>18:40</time></a>
&lt;<span class='nick nick-6'> cluelessperson</span>&gt;
BlueMatt: I could do PCI-SSD, but what type of ram requirements are we talking?
<br>
</div>

<div class='talk op-msg' data-timestamp='1499798400' id='555937'>
<a class='timestamp' href='#555937'><time timestamp='2017-07-11T18:40:00Z'>18:40</time></a>
&lt;<span class='nick nick-5'> midnightmagic</span>&gt;
-- since he was hoping to help in some capacity with the development itself, and I know occasionally guidance in terms of e.g. differing hardware or stuff that would be more helpful than generic hardware is sometimes in demand.
<br>
</div>

<div class='talk op-msg' data-timestamp='1499798400' id='555938'>
<a class='timestamp' href='#555938'><time timestamp='2017-07-11T18:40:00Z'>18:40</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
ok, no big deal, lets move to #bitcoin
<br>
</div>

<div class='talk op-msg' data-timestamp='1499798580' id='555939'>
<a class='timestamp' href='#555939'><time timestamp='2017-07-11T18:43:00Z'>18:43</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jonasschnelli closed pull request #8369: [FOR LATER USE][WIP][Wallet]Â add support for a flexible &quot;set of features&quot; (master...2016/07/wallet_features) <a href="https://github.com/bitcoin/bitcoin/pull/8369" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8369</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1499799600' id='555940'>
<a class='timestamp' href='#555940'><time timestamp='2017-07-11T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
ryanofsky: #10244 is marked high-priority, but seems to me from reading the conversation that although it is now concept acked it&#x27;s targeted for post-0.15?
<br>
</div>

<div class='talk op-msg' data-timestamp='1499799600' id='555941'>
<a class='timestamp' href='#555941'><time timestamp='2017-07-11T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/10244" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/10244</a> | [qt] Add abstraction layer for accessing node and wallet functionality from gui by ryanofsky Â· Pull Request #10244 Â· bitcoin/bitcoin Â· GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1499799600' id='555942'>
<a class='timestamp' href='#555942'><time timestamp='2017-07-11T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
just want to direct my review appropriately with 0.15 coming up
<br>
</div>

<div class='talk op-msg' data-timestamp='1499799660' id='555943'>
<a class='timestamp' href='#555943'><time timestamp='2017-07-11T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
morcos: Yes. Agree. 10244 should probably removed until there is conceptual consensus (not cleat to me if we have that or not, which probably means we have not :) )
<br>
</div>

<div class='talk op-msg' data-timestamp='1499799720' id='555944'>
<a class='timestamp' href='#555944'><time timestamp='2017-07-11T19:02:00Z'>19:02</time></a>
&lt;<span class='nick nick-12'> ryanofsky</span>&gt;
i thought i had two concept acks
<br>
</div>

<div class='talk op-msg' data-timestamp='1499799720' id='555945'>
<a class='timestamp' href='#555945'><time timestamp='2017-07-11T19:02:00Z'>19:02</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Oh. Yes. Right.. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1499799720' id='555946'>
<a class='timestamp' href='#555946'><time timestamp='2017-07-11T19:02:00Z'>19:02</time></a>
&lt;<span class='nick nick-12'> ryanofsky</span>&gt;
but it&#x27;s not intended for 15. maybe search for milestone:0.15.0 
<br>
</div>

<div class='talk op-msg' data-timestamp='1499799720' id='555947'>
<a class='timestamp' href='#555947'><time timestamp='2017-07-11T19:02:00Z'>19:02</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I take back my last comment then... 
<br>
</div>

<div class='talk op-msg' data-timestamp='1499799840' id='555948'>
<a class='timestamp' href='#555948'><time timestamp='2017-07-11T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I think for 10244, it makes sense to rebase it after 0.15 has been split off and concentrate review (and hope for a merge)
<br>
</div>

<div class='talk op-msg' data-timestamp='1499799840' id='555949'>
<a class='timestamp' href='#555949'><time timestamp='2017-07-11T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
It&#x27;s a large PR though
<br>
</div>

<div class='talk op-msg' data-timestamp='1499799840' id='555950'>
<a class='timestamp' href='#555950'><time timestamp='2017-07-11T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
+2,262 âˆ’1,152
<br>
</div>

<div class='talk op-msg' data-timestamp='1499799840' id='555951'>
<a class='timestamp' href='#555951'><time timestamp='2017-07-11T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-12'> ryanofsky</span>&gt;
it&#x27;s pretty much a mechanical change
<br>
</div>

<div class='talk op-msg' data-timestamp='1499799960' id='555952'>
<a class='timestamp' href='#555952'><time timestamp='2017-07-11T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
agreed
<br>
</div>

<div class='talk op-msg' data-timestamp='1499799960' id='555953'>
<a class='timestamp' href='#555953'><time timestamp='2017-07-11T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it&#x27;s not an end-user visible change, we should prioritize those for 0.15
<br>
</div>

<div class='talk op-msg' data-timestamp='1499800020' id='555954'>
<a class='timestamp' href='#555954'><time timestamp='2017-07-11T19:07:00Z'>19:07</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
all the code cleanups pure refactorings can wait for 0.16
<br>
</div>

<div class='talk op-msg' data-timestamp='1499800260' id='555955'>
<a class='timestamp' href='#555955'><time timestamp='2017-07-11T19:11:00Z'>19:11</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
ok, i was viewing high priority as a subset of milestone:0.15, but perhaps that isn&#x27;t correct
<br>
</div>

<div class='talk op-msg' data-timestamp='1499800320' id='555956'>
<a class='timestamp' href='#555956'><time timestamp='2017-07-11T19:12:00Z'>19:12</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
wumpus, ryanofsky: Argee about it beeing mechanical, though it still require line by line review by at least 2-3 guys.
<br>
</div>

<div class='talk op-msg' data-timestamp='1499800320' id='555957'>
<a class='timestamp' href='#555957'><time timestamp='2017-07-11T19:12:00Z'>19:12</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
well maybe it is now, but in general it&#x27;s just something that people can request review if it blocks future PRs from themselves
<br>
</div>

<div class='talk op-msg' data-timestamp='1499800320' id='555958'>
<a class='timestamp' href='#555958'><time timestamp='2017-07-11T19:12:00Z'>19:12</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
but I agree ahving something high-prio that won&#x27;t make 0.15 anyway is a bad idea
<br>
</div>

<div class='talk op-msg' data-timestamp='1499800380' id='555959'>
<a class='timestamp' href='#555959'><time timestamp='2017-07-11T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
right now
<br>
</div>

<div class='talk op-msg' data-timestamp='1499800380' id='555960'>
<a class='timestamp' href='#555960'><time timestamp='2017-07-11T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Yes. I had the same feeling. High-Prio in context of holding back the individual developer / focus of the individual developer.
<br>
</div>

<div class='talk op-msg' data-timestamp='1499800440' id='555961'>
<a class='timestamp' href='#555961'><time timestamp='2017-07-11T19:14:00Z'>19:14</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
About sipa&#x27;s ser. changes (#10785), is it worth to benchmark the differences or do we expect non to little impact on performance?
<br>
</div>

<div class='talk op-msg' data-timestamp='1499800440' id='555962'>
<a class='timestamp' href='#555962'><time timestamp='2017-07-11T19:14:00Z'>19:14</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/10785" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/10785</a> | Serialization improvements by sipa Â· Pull Request #10785 Â· bitcoin/bitcoin Â· GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1499800500' id='555963'>
<a class='timestamp' href='#555963'><time timestamp='2017-07-11T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
(otherwise I can add a bench-package for the serialization code
<br>
</div>

<div class='talk op-msg' data-timestamp='1499800500' id='555964'>
<a class='timestamp' href='#555964'><time timestamp='2017-07-11T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
)     
<br>
</div>

<div class='talk op-msg' data-timestamp='1499800620' id='555965'>
<a class='timestamp' href='#555965'><time timestamp='2017-07-11T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
ryanofsky about the CAuxiliaryRequest, where do you think we have duplicated code? Also, what do you think about the points I wrote (<a href="https://github.com/bitcoin/bitcoin/pull/10794#issuecomment-314534086" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10794#issuecomment-314534086</a>)?
<br>
</div>

<div class='talk op-msg' data-timestamp='1499800680' id='555966'>
<a class='timestamp' href='#555966'><time timestamp='2017-07-11T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
(maybe its better to discuss some thing here instead of have to much discussion on the PR before we actually get reviews)
<br>
</div>

<div class='talk op-msg' data-timestamp='1499800680' id='555967'>
<a class='timestamp' href='#555967'><time timestamp='2017-07-11T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
things*
<br>
</div>

<div class='talk op-msg' data-timestamp='1499800740' id='555968'>
<a class='timestamp' href='#555968'><time timestamp='2017-07-11T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jonasschnelli: i expect 0 impact on performance
<br>
</div>

<div class='talk op-msg' data-timestamp='1499800740' id='555969'>
<a class='timestamp' href='#555969'><time timestamp='2017-07-11T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sipa: Okay. Then it&#x27;s probably not worth... 
<br>
</div>

<div class='talk op-msg' data-timestamp='1499800740' id='555970'>
<a class='timestamp' href='#555970'><time timestamp='2017-07-11T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-12'> ryanofsky</span>&gt;
it&#x27;s been months since i&#x27;ve looked at it but, i remember duplicated logic in the aux request class &amp; normal network download code
<br>
</div>

<div class='talk op-msg' data-timestamp='1499800800' id='555971'>
<a class='timestamp' href='#555971'><time timestamp='2017-07-11T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
ryanofsky: I can&#x27;t see any real duplication, maybe some lines that take care of passing to the instance and for the callback approach...
<br>
</div>

<div class='talk op-msg' data-timestamp='1499800800' id='555972'>
<a class='timestamp' href='#555972'><time timestamp='2017-07-11T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-12'> ryanofsky</span>&gt;
i&#x27;m looking up my old comments
<br>
</div>

<div class='talk op-msg' data-timestamp='1499800860' id='555973'>
<a class='timestamp' href='#555973'><time timestamp='2017-07-11T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Great. Thanks.. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1499800920' id='555974'>
<a class='timestamp' href='#555974'><time timestamp='2017-07-11T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jonasschnelli: it could be considered a bugfix though (but almost certainly not one that matters)
<br>
</div>

<div class='talk op-msg' data-timestamp='1499800920' id='555975'>
<a class='timestamp' href='#555975'><time timestamp='2017-07-11T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-12'> ryanofsky</span>&gt;
here is the comment where i point out the duplication: <a href="https://github.com/bitcoin/bitcoin/pull/9483#discussion_r100077677" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9483#discussion_r100077677</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1499800920' id='555976'>
<a class='timestamp' href='#555976'><time timestamp='2017-07-11T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sipa: you mean the &quot;cast ways the const&quot;?
<br>
</div>

<div class='talk op-msg' data-timestamp='1499800980' id='555977'>
<a class='timestamp' href='#555977'><time timestamp='2017-07-11T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
&quot;cast away&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1499801040' id='555978'>
<a class='timestamp' href='#555978'><time timestamp='2017-07-11T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-12'> ryanofsky</span>&gt;
jonasschnelli, my broader point is that i would like you to get some concept ack on your networking design from some other developers who know more about the networking code than me, before i spend more time reviewing it
<br>
</div>

<div class='talk op-msg' data-timestamp='1499801040' id='555979'>
<a class='timestamp' href='#555979'><time timestamp='2017-07-11T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
ryanofsky: Yes. Sure. That makes sense.
<br>
</div>

<div class='talk op-msg' data-timestamp='1499801100' id='555980'>
<a class='timestamp' href='#555980'><time timestamp='2017-07-11T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
About your comment, I saw that and I think its then not about duplication, it&#x27;s a slightly different approach (which seems also to make sense).
<br>
</div>

<div class='talk op-msg' data-timestamp='1499801160' id='555981'>
<a class='timestamp' href='#555981'><time timestamp='2017-07-11T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I just like the have-its-own file approach for the reasons I wrote.. but lets get other opinions
<br>
</div>

<div class='talk op-msg' data-timestamp='1499801160' id='555982'>
<a class='timestamp' href='#555982'><time timestamp='2017-07-11T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-12'> ryanofsky</span>&gt;
fillInNextBlocks is duplicative of FindNextBlocksToDownload, processWithPossibleBlock is duplicative of ProcessNewBlock was my point
<br>
</div>

<div class='talk op-msg' data-timestamp='1499801220' id='555983'>
<a class='timestamp' href='#555983'><time timestamp='2017-07-11T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-12'> ryanofsky</span>&gt;
i don&#x27;t think you are going to convince me that having two different control flows for regular downloads vs priority downloads is the way to go, but you don&#x27;t have to convince me. i&#x27;m happy to accept that if others think it is a good idea
<br>
</div>

<div class='talk op-msg' data-timestamp='1499801220' id='555984'>
<a class='timestamp' href='#555984'><time timestamp='2017-07-11T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
ryanofsky: I don&#x27;t think its duplicative, if we would eliminate the class, that logic has just to move into net_processing.cpp/validation.cpp
<br>
</div>

<div class='talk op-msg' data-timestamp='1499801280' id='555985'>
<a class='timestamp' href='#555985'><time timestamp='2017-07-11T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
ryanofsky: I think others do not think it&#x27;s a good idea, and already raised the concern.
<br>
</div>

<div class='talk op-msg' data-timestamp='1499801280' id='555986'>
<a class='timestamp' href='#555986'><time timestamp='2017-07-11T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-12'> ryanofsky</span>&gt;
iirc, more logic could be shared if they were in the same place
<br>
</div>

<div class='talk op-msg' data-timestamp='1499801280' id='555987'>
<a class='timestamp' href='#555987'><time timestamp='2017-07-11T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
When that code was first implemented; ... made sense to do for a demo or whatnot.
<br>
</div>

<div class='talk op-msg' data-timestamp='1499801280' id='555988'>
<a class='timestamp' href='#555988'><time timestamp='2017-07-11T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
just have a means to tell the network layer &quot;i need block X, and here is callback for when you have it&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1499801340' id='555989'>
<a class='timestamp' href='#555989'><time timestamp='2017-07-11T19:29:00Z'>19:29</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Okay. But the network layer hasn&#x27;t to be stuffed into a single file/class?
<br>
</div>

<div class='talk op-msg' data-timestamp='1499801340' id='555990'>
<a class='timestamp' href='#555990'><time timestamp='2017-07-11T19:29:00Z'>19:29</time></a>
&lt;<span class='nick nick-12'> ryanofsky</span>&gt;
sipa, yes that is what i requested. i think the auxilliary class is too low level
<br>
</div>

<div class='talk op-msg' data-timestamp='1499801400' id='555991'>
<a class='timestamp' href='#555991'><time timestamp='2017-07-11T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
But if the general opinion goes direction of having the logic in net_processing.cpp directly, then I&#x27;m fine with moving it there...
<br>
</div>

<div class='talk op-msg' data-timestamp='1499801400' id='555992'>
<a class='timestamp' href='#555992'><time timestamp='2017-07-11T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jonasschnelli: net_processing is already a single file
<br>
</div>

<div class='talk op-msg' data-timestamp='1499801400' id='555993'>
<a class='timestamp' href='#555993'><time timestamp='2017-07-11T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-12'> ryanofsky</span>&gt;
jonasschnelli, i think agree networking code is monolithic. but that you have to find the right way to break it up and this does not seem like the right way
<br>
</div>

<div class='talk op-msg' data-timestamp='1499801460' id='555994'>
<a class='timestamp' href='#555994'><time timestamp='2017-07-11T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sipa: Yes. And I think having specialized functions (like the light client block rquests) in dedicated files makes sense.. rebasing, patches, code-overview
<br>
</div>

<div class='talk op-msg' data-timestamp='1499801520' id='555995'>
<a class='timestamp' href='#555995'><time timestamp='2017-07-11T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jonasschnelli: i really don&#x27;t think block fetching code should be in more than 1 place
<br>
</div>

<div class='talk op-msg' data-timestamp='1499801520' id='555996'>
<a class='timestamp' href='#555996'><time timestamp='2017-07-11T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
we have a hard enough time keeping the two existing block requesting state machine functioning and maintained... really pretty ugly to add another seperate one for the wallet in another place.
<br>
</div>

<div class='talk op-msg' data-timestamp='1499801520' id='555997'>
<a class='timestamp' href='#555997'><time timestamp='2017-07-11T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it&#x27;s arguably already too spread out in net_processing (dealing with invs, direct fetching, headers fetching, async fetching ...)
<br>
</div>

<div class='talk op-msg' data-timestamp='1499801520' id='555998'>
<a class='timestamp' href='#555998'><time timestamp='2017-07-11T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sipa: it&#x27;s not fetching,.. is an object that hold information about what it should fetch and if it&#x27;s done or not and eventuall the process flow
<br>
</div>

<div class='talk op-msg' data-timestamp='1499801580' id='555999'>
<a class='timestamp' href='#555999'><time timestamp='2017-07-11T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jonasschnelli: yes, that&#x27;s probably how all the fetching code should work
<br>
</div>

<div class='talk op-msg' data-timestamp='1499801580' id='556000'>
<a class='timestamp' href='#556000'><time timestamp='2017-07-11T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
keep information on what blocks are to be downloaded
<br>
</div>

<div class='talk op-msg' data-timestamp='1499801640' id='556001'>
<a class='timestamp' href='#556001'><time timestamp='2017-07-11T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
ryanofsky gmaxwell: I think the out-of-band (auxiliary) requests need state, and therefore a class makes sense (when was the request initiated, how much is done, etc.) would you add that class into net_processing rathern then creating a new file?
<br>
</div>

<div class='talk op-msg' data-timestamp='1499801640' id='556002'>
<a class='timestamp' href='#556002'><time timestamp='2017-07-11T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-12'> ryanofsky</span>&gt;
i think if you wanted to move code <b>*out*</b> of net_processing into your new download implementation, that would be nice. but just adding the new download implementation alongside does not seem seem so nice
<br>
</div>

<div class='talk op-msg' data-timestamp='1499801640' id='556003'>
<a class='timestamp' href='#556003'><time timestamp='2017-07-11T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
jonasschnelli: all block requests need state.
<br>
</div>

<div class='talk op-msg' data-timestamp='1499801640' id='556004'>
<a class='timestamp' href='#556004'><time timestamp='2017-07-11T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
jonasschnelli: we have to track what we&#x27;ve asked for, what we need, whats been recieved... and so on.
<br>
</div>

<div class='talk op-msg' data-timestamp='1499801640' id='556005'>
<a class='timestamp' href='#556005'><time timestamp='2017-07-11T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
gmaxwell: yes. But here it is a user-requested range
<br>
</div>

<div class='talk op-msg' data-timestamp='1499801700' id='556006'>
<a class='timestamp' href='#556006'><time timestamp='2017-07-11T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jonasschnelli: in the current case, the user is the block validation logic
<br>
</div>

<div class='talk op-msg' data-timestamp='1499801700' id='556007'>
<a class='timestamp' href='#556007'><time timestamp='2017-07-11T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
you just want to add another user
<br>
</div>

<div class='talk op-msg' data-timestamp='1499801700' id='556008'>
<a class='timestamp' href='#556008'><time timestamp='2017-07-11T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
^     
<br>
</div>

<div class='talk op-msg' data-timestamp='1499801700' id='556009'>
<a class='timestamp' href='#556009'><time timestamp='2017-07-11T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sipa: can&#x27;t follow the &quot;user is the block validation logic&quot; :/
<br>
</div>

<div class='talk op-msg' data-timestamp='1499801700' id='556010'>
<a class='timestamp' href='#556010'><time timestamp='2017-07-11T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-12'> ryanofsky</span>&gt;
to make discussion more concrete, what do you think of my blocksToDownloadFirst suggestion?
<br>
</div>

<div class='talk op-msg' data-timestamp='1499801760' id='556011'>
<a class='timestamp' href='#556011'><time timestamp='2017-07-11T19:36:00Z'>19:36</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
ryanofsky: Yes. Make sense. But still, the requester (assume wallet) will need to blocks in a clear sequence (assume A, B, C, D and not C, D, A, B).
<br>
</div>

<div class='talk op-msg' data-timestamp='1499801820' id='556012'>
<a class='timestamp' href='#556012'><time timestamp='2017-07-11T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Therefore there must be something that takes care of the state of a wallet/user initiated out-of-band block request and make sure, it will be passed in in sequence
<br>
</div>

<div class='talk op-msg' data-timestamp='1499801880' id='556013'>
<a class='timestamp' href='#556013'><time timestamp='2017-07-11T19:38:00Z'>19:38</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
IMO its about &quot;requesting n amount of &quot;range of blocks&quot; rather then just requesting blocks
<br>
</div>

<div class='talk op-msg' data-timestamp='1499802000' id='556014'>
<a class='timestamp' href='#556014'><time timestamp='2017-07-11T19:40:00Z'>19:40</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
jonasschnelli: right now the consensus logic requests the block download machinery to download blocks, keep track of the requests and what not. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1499802000' id='556015'>
<a class='timestamp' href='#556015'><time timestamp='2017-07-11T19:40:00Z'>19:40</time></a>
&lt;<span class='nick nick-12'> ryanofsky</span>&gt;
i&#x27;m not sure i see the problem. that state could be tracked inside the wallet. wallet just needs to request blocks, get notifications when they come in, then request more blocks
<br>
</div>

<div class='talk op-msg' data-timestamp='1499802000' id='556016'>
<a class='timestamp' href='#556016'><time timestamp='2017-07-11T19:40:00Z'>19:40</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
jonasschnelli: sipa is pointing out that what you&#x27;re doing is just adding an addition set of callers.
<br>
</div>

<div class='talk op-msg' data-timestamp='1499802000' id='556017'>
<a class='timestamp' href='#556017'><time timestamp='2017-07-11T19:40:00Z'>19:40</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
jonasschnelli: why does the wallet need blocks in order?
<br>
</div>

<div class='talk op-msg' data-timestamp='1499802120' id='556018'>
<a class='timestamp' href='#556018'><time timestamp='2017-07-11T19:42:00Z'>19:42</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
gmaxwell: if we assume the wallet does show to the user what it had processed it would probably look strange if the wallet would update the balance, tx-list of block that come in out of order
<br>
</div>

<div class='talk op-msg' data-timestamp='1499802120' id='556019'>
<a class='timestamp' href='#556019'><time timestamp='2017-07-11T19:42:00Z'>19:42</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Also, detecting re-orgs would be difficult?
<br>
</div>

<div class='talk op-msg' data-timestamp='1499802120' id='556020'>
<a class='timestamp' href='#556020'><time timestamp='2017-07-11T19:42:00Z'>19:42</time></a>
&lt;<span class='nick nick-12'> ryanofsky</span>&gt;
can&#x27;t wallet keep track of it&#x27;s own requests and ignore anything it wants to ignore?
<br>
</div>

<div class='talk op-msg' data-timestamp='1499802180' id='556021'>
<a class='timestamp' href='#556021'><time timestamp='2017-07-11T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
if the wallet is just saying how far it had processed, couldn&#x27;t it just show the minimum height processed so far?  showing things out of order would certantly allow things faster.
<br>
</div>

<div class='talk op-msg' data-timestamp='1499802180' id='556022'>
<a class='timestamp' href='#556022'><time timestamp='2017-07-11T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
ryanofsky: Yes. If we assume only wallets want that. What about the other user cases, ZMQ, light-client &quot;middleware&quot; (Oh I had this term)
<br>
</div>

<div class='talk op-msg' data-timestamp='1499802240' id='556023'>
<a class='timestamp' href='#556023'><time timestamp='2017-07-11T19:44:00Z'>19:44</time></a>
&lt;<span class='nick nick-12'> ryanofsky</span>&gt;
jonasschnelli, that&#x27;s why i was asking for some kind of design doc, going into the what specifically you envision there
<br>
</div>

<div class='talk op-msg' data-timestamp='1499802300' id='556024'>
<a class='timestamp' href='#556024'><time timestamp='2017-07-11T19:45:00Z'>19:45</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
gmaxwell: hmm.. I guess the user would look at the transaction list and see a possible incoming transaction while a older expected incoming transaction is missing, regardless of how the wallet communicates &quot;minimum process height&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1499802300' id='556025'>
<a class='timestamp' href='#556025'><time timestamp='2017-07-11T19:45:00Z'>19:45</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jonasschnelli: right now, the only thing that &quot;needs&quot; blocks is the block validation
<br>
</div>

<div class='talk op-msg' data-timestamp='1499802300' id='556026'>
<a class='timestamp' href='#556026'><time timestamp='2017-07-11T19:45:00Z'>19:45</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
you&#x27;re adding something else that needs blocks
<br>
</div>

<div class='talk op-msg' data-timestamp='1499802360' id='556027'>
<a class='timestamp' href='#556027'><time timestamp='2017-07-11T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
ryanofsky: Not only, #10794 is purely RPC/ZMQ
<br>
</div>

<div class='talk op-msg' data-timestamp='1499802360' id='556028'>
<a class='timestamp' href='#556028'><time timestamp='2017-07-11T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/10794" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/10794</a> | Add simple light-client mode (RPC only) by jonasschnelli Â· Pull Request #10794 Â· bitcoin/bitcoin Â· GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1499802360' id='556029'>
<a class='timestamp' href='#556029'><time timestamp='2017-07-11T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
both of them should be seen as users of the block fetching logic
<br>
</div>

<div class='talk op-msg' data-timestamp='1499802360' id='556030'>
<a class='timestamp' href='#556030'><time timestamp='2017-07-11T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sipa: Ah. I understand now
<br>
</div>

<div class='talk op-msg' data-timestamp='1499802480' id='556031'>
<a class='timestamp' href='#556031'><time timestamp='2017-07-11T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sipa, ryanofsky: The idea in 10794 is to have the validation triggered download logic in tact (minimal impact) while preferring out-of-band requests. And I tried to keep the logic, state-machine outside of net_processing.cpp to allow later code splits
<br>
</div>

<div class='talk op-msg' data-timestamp='1499802540' id='556032'>
<a class='timestamp' href='#556032'><time timestamp='2017-07-11T19:49:00Z'>19:49</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i think that&#x27;s the wrong approach (though admittedly i haven&#x27;t reviewed the code)
<br>
</div>

<div class='talk op-msg' data-timestamp='1499802540' id='556033'>
<a class='timestamp' href='#556033'><time timestamp='2017-07-11T19:49:00Z'>19:49</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
(It&#x27;s good you haven&#x27;t so I can change it before you do. :) )
<br>
</div>

<div class='talk op-msg' data-timestamp='1499802540' id='556034'>
<a class='timestamp' href='#556034'><time timestamp='2017-07-11T19:49:00Z'>19:49</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sipa: what would you prefer then?
<br>
</div>

<div class='talk op-msg' data-timestamp='1499802540' id='556035'>
<a class='timestamp' href='#556035'><time timestamp='2017-07-11T19:49:00Z'>19:49</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jonasschnelli: as i explained
<br>
</div>

<div class='talk op-msg' data-timestamp='1499802600' id='556036'>
<a class='timestamp' href='#556036'><time timestamp='2017-07-11T19:50:00Z'>19:50</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
refactor the current block downloading logic to support multiple users
<br>
</div>

<div class='talk op-msg' data-timestamp='1499802600' id='556037'>
<a class='timestamp' href='#556037'><time timestamp='2017-07-11T19:50:00Z'>19:50</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
make it keep track of what blocks to download
<br>
</div>

<div class='talk op-msg' data-timestamp='1499802600' id='556038'>
<a class='timestamp' href='#556038'><time timestamp='2017-07-11T19:50:00Z'>19:50</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and what to do when they arrive
<br>
</div>

<div class='talk op-msg' data-timestamp='1499802600' id='556039'>
<a class='timestamp' href='#556039'><time timestamp='2017-07-11T19:50:00Z'>19:50</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sipa: I thought you are going to say that... I just think this is way larger but probably cleaner
<br>
</div>

<div class='talk op-msg' data-timestamp='1499802600' id='556040'>
<a class='timestamp' href='#556040'><time timestamp='2017-07-11T19:50:00Z'>19:50</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it&#x27;s much more refactoring, yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1499802660' id='556041'>
<a class='timestamp' href='#556041'><time timestamp='2017-07-11T19:51:00Z'>19:51</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but it&#x27;ll be tiny to add light client fetching on top :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1499802660' id='556042'>
<a class='timestamp' href='#556042'><time timestamp='2017-07-11T19:51:00Z'>19:51</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
heh.. Yes. After that one or two year for the block download refactoring.. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1499802720' id='556043'>
<a class='timestamp' href='#556043'><time timestamp='2017-07-11T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-12'> ryanofsky</span>&gt;
am i missing something? <a href="https://github.com/bitcoin/bitcoin/pull/9483#discussion_r100077677" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9483#discussion_r100077677</a> seems pretty straightforward and not a large amount of refactoring
<br>
</div>

<div class='talk op-msg' data-timestamp='1499802780' id='556044'>
<a class='timestamp' href='#556044'><time timestamp='2017-07-11T19:53:00Z'>19:53</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I guess I focus to much on the minimal.impact solution rather then on the clean solution because I&#x27;m too much feature driven
<br>
</div>

<div class='talk op-msg' data-timestamp='1499802840' id='556045'>
<a class='timestamp' href='#556045'><time timestamp='2017-07-11T19:54:00Z'>19:54</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
ryanofsky: Not sure if the idea in that comment fulfils sipa idea of having &quot;multiple users for the download logic&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1499802900' id='556046'>
<a class='timestamp' href='#556046'><time timestamp='2017-07-11T19:55:00Z'>19:55</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
sipa: i also like that idea, but i wonder if there is a priority difference there...  like how quickly you time out, or find someone else to deliver or penalize for bad behavior or etc...
<br>
</div>

<div class='talk op-msg' data-timestamp='1499802900' id='556047'>
<a class='timestamp' href='#556047'><time timestamp='2017-07-11T19:55:00Z'>19:55</time></a>
&lt;<span class='nick nick-12'> ryanofsky</span>&gt;
because blocksToDownloadFirst is not sufficient for multiple users?
<br>
</div>

<div class='talk op-msg' data-timestamp='1499802900' id='556048'>
<a class='timestamp' href='#556048'><time timestamp='2017-07-11T19:55:00Z'>19:55</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
who me?
<br>
</div>

<div class='talk op-msg' data-timestamp='1499802960' id='556049'>
<a class='timestamp' href='#556049'><time timestamp='2017-07-11T19:56:00Z'>19:56</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
oh him
<br>
</div>

<div class='talk op-msg' data-timestamp='1499803080' id='556050'>
<a class='timestamp' href='#556050'><time timestamp='2017-07-11T19:58:00Z'>19:58</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
ryanofsky: No I think because we would only partially (out of band request) allow multiple users for the block download. But not exactly sure to what extend sipas solution should go to
<br>
</div>

<div class='talk op-msg' data-timestamp='1499803080' id='556051'>
<a class='timestamp' href='#556051'><time timestamp='2017-07-11T19:58:00Z'>19:58</time></a>
&lt;<span class='nick nick-12'> ryanofsky</span>&gt;
oh i think i see the difference. sipa&#x27;s idea is to keep track of blocks to download and &quot;what to do when they arrive&quot;. my idea would just do the first and let client figure out what to do when blocks come
<br>
</div>

<div class='talk op-msg' data-timestamp='1499803080' id='556052'>
<a class='timestamp' href='#556052'><time timestamp='2017-07-11T19:58:00Z'>19:58</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
what do you mean with &#x27;out of band&#x27; ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1499803140' id='556053'>
<a class='timestamp' href='#556053'><time timestamp='2017-07-11T19:59:00Z'>19:59</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sipa: out-of-band is a poor multi-user approach for block download (the in-band is validation, the rest is out-of-band)
<br>
</div>

<div class='talk op-msg' data-timestamp='1499803140' id='556054'>
<a class='timestamp' href='#556054'><time timestamp='2017-07-11T19:59:00Z'>19:59</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i don&#x27;t understand what you mean with &#x27;out of band&#x27; in this context
<br>
</div>

<div class='talk op-msg' data-timestamp='1499803140' id='556055'>
<a class='timestamp' href='#556055'><time timestamp='2017-07-11T19:59:00Z'>19:59</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sipa: i guess what you meant is that the validation part uses the same block download interface then the light-client wallet? right?
<br>
</div>

<div class='talk op-msg' data-timestamp='1499803200' id='556056'>
<a class='timestamp' href='#556056'><time timestamp='2017-07-11T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yes     
<br>
</div>

<div class='talk op-msg' data-timestamp='1499803260' id='556057'>
<a class='timestamp' href='#556057'><time timestamp='2017-07-11T20:01:00Z'>20:01</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sipa: the validation requests block after it&#x27;s own logic (not to far away, etc.), out-of-band requests can request a range of blocks that make no sense for the validation (in terms of time prioritation)
<br>
</div>

<div class='talk op-msg' data-timestamp='1499803260' id='556058'>
<a class='timestamp' href='#556058'><time timestamp='2017-07-11T20:01:00Z'>20:01</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sipa: I guess ryanofsky terms `blocksToDownloadFirst` is much better
<br>
</div>

<div class='talk op-msg' data-timestamp='1499803260' id='556059'>
<a class='timestamp' href='#556059'><time timestamp='2017-07-11T20:01:00Z'>20:01</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i still don&#x27;t understand what you mean with out of band
<br>
</div>

<div class='talk op-msg' data-timestamp='1499803320' id='556060'>
<a class='timestamp' href='#556060'><time timestamp='2017-07-11T20:02:00Z'>20:02</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
there are blocks to download, there is logic to determine which ones to download in what order, they&#x27;re processed when they arrive
<br>
</div>

<div class='talk op-msg' data-timestamp='1499803320' id='556061'>
<a class='timestamp' href='#556061'><time timestamp='2017-07-11T20:02:00Z'>20:02</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I think i should call it &quot;priorizedBlockRequests&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1499803380' id='556062'>
<a class='timestamp' href='#556062'><time timestamp='2017-07-11T20:03:00Z'>20:03</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sipa: Yes. But the light client (wallet) wants to break that oder by a) preferring other blocks first, b) pass them through BlockConnected() before they are connected to the tip
<br>
</div>

<div class='talk op-msg' data-timestamp='1499803440' id='556063'>
<a class='timestamp' href='#556063'><time timestamp='2017-07-11T20:04:00Z'>20:04</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
(connected to the tip == validated, not connected == spv)
<br>
</div>

<div class='talk op-msg' data-timestamp='1499803500' id='556064'>
<a class='timestamp' href='#556064'><time timestamp='2017-07-11T20:05:00Z'>20:05</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sure
<br>
</div>

<div class='talk op-msg' data-timestamp='1499803500' id='556065'>
<a class='timestamp' href='#556065'><time timestamp='2017-07-11T20:05:00Z'>20:05</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
ryanofsky: I think sipa&#x27;s idea makes sense in the long run (don&#x27;t distinct between wallet spv block requests and the validation triggered block request), ideally the validation would then use the same interface then the (light-client) wallet would use
<br>
</div>

<div class='talk op-msg' data-timestamp='1499803560' id='556066'>
<a class='timestamp' href='#556066'><time timestamp='2017-07-11T20:06:00Z'>20:06</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
but this would be a lot of work
<br>
</div>

<div class='talk op-msg' data-timestamp='1499803560' id='556067'>
<a class='timestamp' href='#556067'><time timestamp='2017-07-11T20:06:00Z'>20:06</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sure, not everything has to happen in one go
<br>
</div>

<div class='talk op-msg' data-timestamp='1499803560' id='556068'>
<a class='timestamp' href='#556068'><time timestamp='2017-07-11T20:06:00Z'>20:06</time></a>
&lt;<span class='nick nick-12'> ryanofsky</span>&gt;
yeah, i get that now. i think that refactoring is basically orthogonal though
<br>
</div>

<div class='talk op-msg' data-timestamp='1499803620' id='556069'>
<a class='timestamp' href='#556069'><time timestamp='2017-07-11T20:07:00Z'>20:07</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I agree... 
<br>
</div>

<div class='talk op-msg' data-timestamp='1499803620' id='556070'>
<a class='timestamp' href='#556070'><time timestamp='2017-07-11T20:07:00Z'>20:07</time></a>
&lt;<span class='nick nick-12'> ryanofsky</span>&gt;
you could do that refactoring with or without prioritized downloads, or vice versa
<br>
</div>

<div class='talk op-msg' data-timestamp='1499803620' id='556071'>
<a class='timestamp' href='#556071'><time timestamp='2017-07-11T20:07:00Z'>20:07</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ryanofsky: agree
<br>
</div>

<div class='talk op-msg' data-timestamp='1499803620' id='556072'>
<a class='timestamp' href='#556072'><time timestamp='2017-07-11T20:07:00Z'>20:07</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I even think implementing the prioritized downloads gives a better feeling on how-to-refactor
<br>
</div>

<div class='talk op-msg' data-timestamp='1499803620' id='556073'>
<a class='timestamp' href='#556073'><time timestamp='2017-07-11T20:07:00Z'>20:07</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
because you refactor with a clear interface use-case
<br>
</div>

<div class='talk op-msg' data-timestamp='1499803680' id='556074'>
<a class='timestamp' href='#556074'><time timestamp='2017-07-11T20:08:00Z'>20:08</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yes, fair enough
<br>
</div>

<div class='talk op-msg' data-timestamp='1499803680' id='556075'>
<a class='timestamp' href='#556075'><time timestamp='2017-07-11T20:08:00Z'>20:08</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
But I&#x27;m still not sure if it makes then sense to implement it within net_processing or leave it in a designated file (not very different IMO)
<br>
</div>

<div class='talk op-msg' data-timestamp='1499803740' id='556076'>
<a class='timestamp' href='#556076'><time timestamp='2017-07-11T20:09:00Z'>20:09</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Probably most devs things within net_processing.cpp makes more sense...
<br>
</div>

<div class='talk op-msg' data-timestamp='1499803740' id='556077'>
<a class='timestamp' href='#556077'><time timestamp='2017-07-11T20:09:00Z'>20:09</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
*think
<br>
</div>

<div class='talk op-msg' data-timestamp='1499803740' id='556078'>
<a class='timestamp' href='#556078'><time timestamp='2017-07-11T20:09:00Z'>20:09</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Then let me do that and let me rename it from auxiliary (out-of-band) to prioritizedBlockRequests
<br>
</div>

<div class='talk op-msg' data-timestamp='1499805060' id='556079'>
<a class='timestamp' href='#556079'><time timestamp='2017-07-11T20:31:00Z'>20:31</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
ok, i managed to patch boost and fix the lto linking error...
<br>
</div>

<div class='talk op-msg' data-timestamp='1499805120' id='556080'>
<a class='timestamp' href='#556080'><time timestamp='2017-07-11T20:32:00Z'>20:32</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
anyone feel like looking at a head-scratcher?
<br>
</div>

<div class='talk op-msg' data-timestamp='1499805120' id='556081'>
<a class='timestamp' href='#556081'><time timestamp='2017-07-11T20:32:00Z'>20:32</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
really? I failed to do so previously
<br>
</div>

<div class='talk op-msg' data-timestamp='1499805120' id='556082'>
<a class='timestamp' href='#556082'><time timestamp='2017-07-11T20:32:00Z'>20:32</time></a>
&lt;<span class='nick nick-16'> * BlueMatt</span>&gt;
is curious
<br>
</div>

<div class='talk op-msg' data-timestamp='1499805180' id='556083'>
<a class='timestamp' href='#556083'><time timestamp='2017-07-11T20:33:00Z'>20:33</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
BlueMatt: was this your problem as well? <a href="https://pastebin.com/raw/kmqJVmfq" class="link" target="_blank">https://pastebin.com/raw/kmqJVmfq</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1499805180' id='556084'>
<a class='timestamp' href='#556084'><time timestamp='2017-07-11T20:33:00Z'>20:33</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
oh, no
<br>
</div>

<div class='talk op-msg' data-timestamp='1499805240' id='556085'>
<a class='timestamp' href='#556085'><time timestamp='2017-07-11T20:34:00Z'>20:34</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
oh. what&#x27;s yours?
<br>
</div>

<div class='talk op-msg' data-timestamp='1499805240' id='556086'>
<a class='timestamp' href='#556086'><time timestamp='2017-07-11T20:34:00Z'>20:34</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
i always got a link-time &quot;~boost::filesystem::path() undefined&quot; error
<br>
</div>

<div class='talk op-msg' data-timestamp='1499805240' id='556087'>
<a class='timestamp' href='#556087'><time timestamp='2017-07-11T20:34:00Z'>20:34</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
and occasionally for other destructors that were implicitly-defined in headers or explicitly defined in headers
<br>
</div>

<div class='talk op-msg' data-timestamp='1499805240' id='556088'>
<a class='timestamp' href='#556088'><time timestamp='2017-07-11T20:34:00Z'>20:34</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
oh, same thing
<br>
</div>

<div class='talk op-msg' data-timestamp='1499805240' id='556089'>
<a class='timestamp' href='#556089'><time timestamp='2017-07-11T20:34:00Z'>20:34</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
ZN5boost10filesystem4pathD1Ev is mangled destructor
<br>
</div>

<div class='talk op-msg' data-timestamp='1499805300' id='556090'>
<a class='timestamp' href='#556090'><time timestamp='2017-07-11T20:35:00Z'>20:35</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
right, so the fix was to give it an explicit destructor in the .cpp
<br>
</div>

<div class='talk op-msg' data-timestamp='1499805300' id='556091'>
<a class='timestamp' href='#556091'><time timestamp='2017-07-11T20:35:00Z'>20:35</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
heh, your linker has garbage error messages
<br>
</div>

<div class='talk op-msg' data-timestamp='1499805300' id='556092'>
<a class='timestamp' href='#556092'><time timestamp='2017-07-11T20:35:00Z'>20:35</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
yes, but boost::filesystem::path has no .cpp
<br>
</div>

<div class='talk op-msg' data-timestamp='1499805300' id='556093'>
<a class='timestamp' href='#556093'><time timestamp='2017-07-11T20:35:00Z'>20:35</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
but i&#x27;m not understanding why
<br>
</div>

<div class='talk op-msg' data-timestamp='1499805300' id='556094'>
<a class='timestamp' href='#556094'><time timestamp='2017-07-11T20:35:00Z'>20:35</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
or, i dont recall one
<br>
</div>

<div class='talk op-msg' data-timestamp='1499805300' id='556095'>
<a class='timestamp' href='#556095'><time timestamp='2017-07-11T20:35:00Z'>20:35</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
oh, i have no idea why
<br>
</div>

<div class='talk op-msg' data-timestamp='1499805300' id='556096'>
<a class='timestamp' href='#556096'><time timestamp='2017-07-11T20:35:00Z'>20:35</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
it does
<br>
</div>

<div class='talk op-msg' data-timestamp='1499805300' id='556097'>
<a class='timestamp' href='#556097'><time timestamp='2017-07-11T20:35:00Z'>20:35</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
oh, ok
<br>
</div>

<div class='talk op-msg' data-timestamp='1499805300' id='556098'>
<a class='timestamp' href='#556098'><time timestamp='2017-07-11T20:35:00Z'>20:35</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
BlueMatt: go test cfields&#x27;s fix :p
<br>
</div>

<div class='talk op-msg' data-timestamp='1499805360' id='556099'>
<a class='timestamp' href='#556099'><time timestamp='2017-07-11T20:36:00Z'>20:36</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
heh, I&#x27;ll PR as soon as I can understand why it&#x27;s a fix :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1499805360' id='556100'>
<a class='timestamp' href='#556100'><time timestamp='2017-07-11T20:36:00Z'>20:36</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
and it mostly only happens to that one place, not on other destructors-defined-in-headers
<br>
</div>

<div class='talk op-msg' data-timestamp='1499805360' id='556101'>
<a class='timestamp' href='#556101'><time timestamp='2017-07-11T20:36:00Z'>20:36</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
but i have seen it on others before
<br>
</div>

<div class='talk op-msg' data-timestamp='1499805360' id='556102'>
<a class='timestamp' href='#556102'><time timestamp='2017-07-11T20:36:00Z'>20:36</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
BlueMatt: right, there&#x27;s a particular reason for these, sec
<br>
</div>

<div class='talk op-msg' data-timestamp='1499805360' id='556103'>
<a class='timestamp' href='#556103'><time timestamp='2017-07-11T20:36:00Z'>20:36</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
there are fairly complicated rules in C++ about which object the implementation of some implicit methods goes into
<br>
</div>

<div class='talk op-msg' data-timestamp='1499805420' id='556104'>
<a class='timestamp' href='#556104'><time timestamp='2017-07-11T20:37:00Z'>20:37</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
<a href="https://github.com/boostorg/filesystem/blob/develop/src/path.cpp#L703" class="link" target="_blank">https://github.com/boostorg/filesystem/blob/develop/src/path.cpp#L703</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1499805420' id='556105'>
<a class='timestamp' href='#556105'><time timestamp='2017-07-11T20:37:00Z'>20:37</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
they&#x27;re static vars there
<br>
</div>

<div class='talk op-msg' data-timestamp='1499805480' id='556106'>
<a class='timestamp' href='#556106'><time timestamp='2017-07-11T20:38:00Z'>20:38</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
(and statics for each of the failures in the link)
<br>
</div>

<div class='talk op-msg' data-timestamp='1499805480' id='556107'>
<a class='timestamp' href='#556107'><time timestamp='2017-07-11T20:38:00Z'>20:38</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
ah, is that why? static objects with implicitly-defined destructors?
<br>
</div>

<div class='talk op-msg' data-timestamp='1499805540' id='556108'>
<a class='timestamp' href='#556108'><time timestamp='2017-07-11T20:39:00Z'>20:39</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
so my best guess is... the static vars are created there when the lib is built, so an entry for the dtor is added. But we never use those functions...
<br>
</div>

<div class='talk op-msg' data-timestamp='1499805540' id='556109'>
<a class='timestamp' href='#556109'><time timestamp='2017-07-11T20:39:00Z'>20:39</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
so i think it&#x27;s either: a gcc/lto bug, or some crazy ODR-like issue
<br>
</div>

<div class='talk op-msg' data-timestamp='1499805600' id='556110'>
<a class='timestamp' href='#556110'><time timestamp='2017-07-11T20:40:00Z'>20:40</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
oh, also, we build with fvisibility=hidden. when that&#x27;s off for boost <u>_and_</u> our build, it links fine
<br>
</div>

<div class='talk op-msg' data-timestamp='1499805660' id='556111'>
<a class='timestamp' href='#556111'><time timestamp='2017-07-11T20:41:00Z'>20:41</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
lol     
<br>
</div>

<div class='talk op-msg' data-timestamp='1499807760' id='556112'>
<a class='timestamp' href='#556112'><time timestamp='2017-07-11T21:16:00Z'>21:16</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Did Paul Sztorc talk to anyone here before publishing his thing? (except luke-jr) I want to remark on his &quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1499807760' id='556113'>
<a class='timestamp' href='#556113'><time timestamp='2017-07-11T21:16:00Z'>21:16</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I wrote the roadmap to try to be representative of a Core / developer position.&quot; -- that if so he might have wanted to talk to some of the more frequent ones, it doesn&#x27;t appear that he did.
<br>
</div>

<div class='talk op-msg' data-timestamp='1499807820' id='556114'>
<a class='timestamp' href='#556114'><time timestamp='2017-07-11T21:17:00Z'>21:17</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
But I want a fact-check before saying htat.
<br>
</div>

<div class='talk op-msg' data-timestamp='1499807820' id='556115'>
<a class='timestamp' href='#556115'><time timestamp='2017-07-11T21:17:00Z'>21:17</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
s/htat/that/
<br>
</div>

<div class='talk op-msg' data-timestamp='1499807820' id='556116'>
<a class='timestamp' href='#556116'><time timestamp='2017-07-11T21:17:00Z'>21:17</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
i havent heard from him
<br>
</div>

<div class='talk op-msg' data-timestamp='1499807820' id='556117'>
<a class='timestamp' href='#556117'><time timestamp='2017-07-11T21:17:00Z'>21:17</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
(nor speak to him specifically about that issue at any point i can recall)
<br>
</div>

<div class='talk op-msg' data-timestamp='1499809800' id='556118'>
<a class='timestamp' href='#556118'><time timestamp='2017-07-11T21:50:00Z'>21:50</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
images... <a href="https://github.com/bitcoin/bitcoin/pull/10757#issuecomment-314581913" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10757#issuecomment-314581913</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1499809980' id='556119'>
<a class='timestamp' href='#556119'><time timestamp='2017-07-11T21:53:00Z'>21:53</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
wumpus: <a href="https://github.com/UASF/bitcoin/releases/tag/v0.14.2-uasfsegwit1.0" class="link" target="_blank">https://github.com/UASF/bitcoin/releases/tag/v0.14.2-uasfsegwit1.0</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1499811900' id='556120'>
<a class='timestamp' href='#556120'><time timestamp='2017-07-11T22:25:00Z'>22:25</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
sipa: aha, you were right
<br>
</div>

<div class='talk op-msg' data-timestamp='1499812020' id='556121'>
<a class='timestamp' href='#556121'><time timestamp='2017-07-11T22:27:00Z'>22:27</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
i traced the symbol references in linker dumps. as-is, with lto, the destructor gets stuffed into util.o (because it&#x27;s one of the files where there&#x27;s a static reference)
<br>
</div>

<div class='talk op-msg' data-timestamp='1499812020' id='556122'>
<a class='timestamp' href='#556122'><time timestamp='2017-07-11T22:27:00Z'>22:27</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
but when i comment out the static references in util.cpp, it links fine, and the destructor goes into a boost object (operations.o)
<br>
</div>

<div class='talk op-msg' data-timestamp='1499812080' id='556123'>
<a class='timestamp' href='#556123'><time timestamp='2017-07-11T22:28:00Z'>22:28</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
IIRC when it&#x27;s ambiguous, the linker is free to choose where to put the symbol, as long as it&#x27;s just added to one object
<br>
</div>

<div class='talk op-msg' data-timestamp='1499812140' id='556124'>
<a class='timestamp' href='#556124'><time timestamp='2017-07-11T22:29:00Z'>22:29</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
but with lto, it gets put into util.o. then, the link-order causes boost_filesystem to be unable to find it
<br>
</div>

<div class='talk op-msg' data-timestamp='1499812140' id='556125'>
<a class='timestamp' href='#556125'><time timestamp='2017-07-11T22:29:00Z'>22:29</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
cfields: so, you fixed it?
<br>
</div>

<div class='talk op-msg' data-timestamp='1499812200' id='556126'>
<a class='timestamp' href='#556126'><time timestamp='2017-07-11T22:30:00Z'>22:30</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
i believe so
<br>
</div>

<div class='talk op-msg' data-timestamp='1499812200' id='556127'>
<a class='timestamp' href='#556127'><time timestamp='2017-07-11T22:30:00Z'>22:30</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
2 fixes: 1 quick hack to use a static string rather than a fs::path, to avoid the issue entirely. 2. the upstream boost fix
<br>
</div>

<div class='talk op-msg' data-timestamp='1499812260' id='556128'>
<a class='timestamp' href='#556128'><time timestamp='2017-07-11T22:31:00Z'>22:31</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
jtimon: please rename #10757
<br>
</div>

<div class='talk op-msg' data-timestamp='1499812260' id='556129'>
<a class='timestamp' href='#556129'><time timestamp='2017-07-11T22:31:00Z'>22:31</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/10757" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/10757</a> | RPC: Introduce getperblockstats to plot things by jtimon Â· Pull Request #10757 Â· bitcoin/bitcoin Â· GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1499812500' id='556130'>
<a class='timestamp' href='#556130'><time timestamp='2017-07-11T22:35:00Z'>22:35</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
oh, right, I did s/getperblockstats/getblockstats/ as you suggested...thanks!
<br>
</div>

<div class='talk op-msg' data-timestamp='1499812560' id='556131'>
<a class='timestamp' href='#556131'><time timestamp='2017-07-11T22:36:00Z'>22:36</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jnewbery opened pull request #10798: test bitcoin-cli (master...cli_tests) <a href="https://github.com/bitcoin/bitcoin/pull/10798" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10798</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1499813700' id='556132'>
<a class='timestamp' href='#556132'><time timestamp='2017-07-11T22:55:00Z'>22:55</time></a>
&lt;<span class='nick nick-6'> cluelessperson</span>&gt;
BlueMatt: So I&#x27;m looking at a 3.8ghz Xeon Quad Core,  256 GB PCI SSD 3200MBps Read, 1500MBps Write,   64 GB RAM DDR4, thoughts?
<br>
</div>

<div class='talk op-msg' data-timestamp='1499813700' id='556133'>
<a class='timestamp' href='#556133'><time timestamp='2017-07-11T22:55:00Z'>22:55</time></a>
&lt;<span class='nick nick-6'> cluelessperson</span>&gt;
$1400
<br>
</div>

<div class='talk op-msg' data-timestamp='1499813700' id='556134'>
<a class='timestamp' href='#556134'><time timestamp='2017-07-11T22:55:00Z'>22:55</time></a>
&lt;<span class='nick nick-6'> cluelessperson</span>&gt;
(rounded up)
<br>
</div>

<div class='talk op-msg' data-timestamp='1499813700' id='556135'>
<a class='timestamp' href='#556135'><time timestamp='2017-07-11T22:55:00Z'>22:55</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
-&gt; #bitcoin
<br>
</div>

</div>
</section>

</body>
</html>
