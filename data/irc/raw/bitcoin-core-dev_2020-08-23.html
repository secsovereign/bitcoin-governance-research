<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2020-08-23
 â€” 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2020-08-23' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:17 UTC</pre>
<pre><a href="/bitcoin-core-dev/2020-07-23">&lt;</a><span class='header'>   August 2020    </span><a href="/bitcoin-core-dev/2020-09-23">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;                   <a class="" href="/bitcoin-core-dev/2020-08-01">1</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2020-08-02">2</a>  <a class="" href="/bitcoin-core-dev/2020-08-03">3</a>  <a class="" href="/bitcoin-core-dev/2020-08-04">4</a>  <a class="" href="/bitcoin-core-dev/2020-08-05">5</a>  <a class="" href="/bitcoin-core-dev/2020-08-06">6</a>  <a class="" href="/bitcoin-core-dev/2020-08-07">7</a>  <a class="" href="/bitcoin-core-dev/2020-08-08">8</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2020-08-09">9</a> <a class="" href="/bitcoin-core-dev/2020-08-10">10</a> <a class="" href="/bitcoin-core-dev/2020-08-11">11</a> <a class="" href="/bitcoin-core-dev/2020-08-12">12</a> <a class="" href="/bitcoin-core-dev/2020-08-13">13</a> <a class="" href="/bitcoin-core-dev/2020-08-14">14</a> <a class="" href="/bitcoin-core-dev/2020-08-15">15</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2020-08-16">16</a> <a class="" href="/bitcoin-core-dev/2020-08-17">17</a> <a class="" href="/bitcoin-core-dev/2020-08-18">18</a> <a class="" href="/bitcoin-core-dev/2020-08-19">19</a> <a class="" href="/bitcoin-core-dev/2020-08-20">20</a> 21 <a class="" href="/bitcoin-core-dev/2020-08-22">22</a>  &#x000A;<a class="current" href="/bitcoin-core-dev/2020-08-23">23</a> <a class="" href="/bitcoin-core-dev/2020-08-24">24</a> <a class="" href="/bitcoin-core-dev/2020-08-25">25</a> <a class="" href="/bitcoin-core-dev/2020-08-26">26</a> <a class="" href="/bitcoin-core-dev/2020-08-27">27</a> <a class="" href="/bitcoin-core-dev/2020-08-28">28</a> <a class="" href="/bitcoin-core-dev/2020-08-29">29</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2020-08-30">30</a> <a class="" href="/bitcoin-core-dev/2020-08-31">31</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1598143080' id='399893'>
<a class='timestamp' href='#399893'><time timestamp='2020-08-23T00:38:00Z'>00:38</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] theStack opened pull request #19781: test: add parameterized constructor for msg_sendcmpct() (master...20200823-test-extend-msg_sendcmpct_ctor) <a href="https://github.com/bitcoin/bitcoin/pull/19781" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19781</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1598154660' id='399894'>
<a class='timestamp' href='#399894'><time timestamp='2020-08-23T03:51:00Z'>03:51</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
re <a href="https://github.com/bitcoin/bitcoin/pull/17509" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/17509</a>, should there be a savepsbt RPC interface which keeps track of psbts submitted? Could be useful to keep track of the idea that we have a pending spend of some outputs.
<br>
</div>

<div class='talk op-msg' data-timestamp='1598155080' id='399895'>
<a class='timestamp' href='#399895'><time timestamp='2020-08-23T03:58:00Z'>03:58</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
I think my prev message dropped
<br>
</div>

<div class='talk op-msg' data-timestamp='1598155080' id='399896'>
<a class='timestamp' href='#399896'><time timestamp='2020-08-23T03:58:00Z'>03:58</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
re <a href="https://github.com/bitcoin/bitcoin/pull/17509" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/17509</a>, should there be a savepsbt RPC interface which keeps track of psbts submitted? Could be useful to keep track of the idea that we have a pending spend of some outputs.
<br>
</div>

<div class='talk op-msg' data-timestamp='1598155080' id='399897'>
<a class='timestamp' href='#399897'><time timestamp='2020-08-23T03:58:00Z'>03:58</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
(sorry if repaste)
<br>
</div>

<div class='talk op-msg' data-timestamp='1598155500' id='399898'>
<a class='timestamp' href='#399898'><time timestamp='2020-08-23T04:05:00Z'>04:05</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
this might be something that walletsignpsbt could (maybe optionally on-by-default?) track, if we sign a spend of wallet coins?
<br>
</div>

<div class='talk op-msg' data-timestamp='1598155500' id='399899'>
<a class='timestamp' href='#399899'><time timestamp='2020-08-23T04:05:00Z'>04:05</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
I want it before then though as well
<br>
</div>

<div class='talk op-msg' data-timestamp='1598155500' id='399900'>
<a class='timestamp' href='#399900'><time timestamp='2020-08-23T04:05:00Z'>04:05</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
I don&#x27;t know if there&#x27;s an equivalent on the non-PSBT side, when we sign a raw transaction
<br>
</div>

<div class='talk op-msg' data-timestamp='1598155500' id='399901'>
<a class='timestamp' href='#399901'><time timestamp='2020-08-23T04:05:00Z'>04:05</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
You should be able to store and manage a bunch of PSBTs 
<br>
</div>

<div class='talk op-msg' data-timestamp='1598155560' id='399902'>
<a class='timestamp' href='#399902'><time timestamp='2020-08-23T04:06:00Z'>04:06</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
E.g., we could stick them in the wallet with a couple special flags to promise not to mine them till final or something...
<br>
</div>

<div class='talk op-msg' data-timestamp='1598155620' id='399903'>
<a class='timestamp' href='#399903'><time timestamp='2020-08-23T04:07:00Z'>04:07</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
It&#x27;s useful if you&#x27;re using Core as a wallet DB e.g. for a protocol. You might want to store a watchonly PSBT txn unsigned
<br>
</div>

<div class='talk op-msg' data-timestamp='1598162160' id='399904'>
<a class='timestamp' href='#399904'><time timestamp='2020-08-23T05:56:00Z'>05:56</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
jeremyrubin: there should be an option in walletcreatefundedpsbt to lock utxos after funding
<br>
</div>

<div class='talk op-msg' data-timestamp='1598162220' id='399905'>
<a class='timestamp' href='#399905'><time timestamp='2020-08-23T05:57:00Z'>05:57</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
IIRC there&#x27;s an option in fundrawtransaction to do that, and walletcreatefundedpsbt has the same options
<br>
</div>

<div class='talk op-msg' data-timestamp='1598162220' id='399906'>
<a class='timestamp' href='#399906'><time timestamp='2020-08-23T05:57:00Z'>05:57</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
hm
<br>
</div>

<div class='talk op-msg' data-timestamp='1598162220' id='399907'>
<a class='timestamp' href='#399907'><time timestamp='2020-08-23T05:57:00Z'>05:57</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
But there&#x27;s not a notion of storing the PSBT for later retrieval?
<br>
</div>

<div class='talk op-msg' data-timestamp='1598162280' id='399908'>
<a class='timestamp' href='#399908'><time timestamp='2020-08-23T05:58:00Z'>05:58</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
no
<br>
</div>

<div class='talk op-msg' data-timestamp='1598162280' id='399909'>
<a class='timestamp' href='#399909'><time timestamp='2020-08-23T05:58:00Z'>05:58</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
E.g., &quot;get me the PSBT that is locking X output&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1598162340' id='399910'>
<a class='timestamp' href='#399910'><time timestamp='2020-08-23T05:59:00Z'>05:59</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
is there a reason not to add something like this conceptually?
<br>
</div>

<div class='talk op-msg' data-timestamp='1598162340' id='399911'>
<a class='timestamp' href='#399911'><time timestamp='2020-08-23T05:59:00Z'>05:59</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
some kind of psbtindex
<br>
</div>

<div class='talk op-msg' data-timestamp='1598162340' id='399912'>
<a class='timestamp' href='#399912'><time timestamp='2020-08-23T05:59:00Z'>05:59</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
it can take up a bunch of space?
<br>
</div>

<div class='talk op-msg' data-timestamp='1598162400' id='399913'>
<a class='timestamp' href='#399913'><time timestamp='2020-08-23T06:00:00Z'>06:00</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
would probably also require reworking transaction creation to operate on PSBTs
<br>
</div>

<div class='talk op-msg' data-timestamp='1598162400' id='399914'>
<a class='timestamp' href='#399914'><time timestamp='2020-08-23T06:00:00Z'>06:00</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
Well it&#x27;s your own txns...
<br>
</div>

<div class='talk op-msg' data-timestamp='1598162400' id='399915'>
<a class='timestamp' href='#399915'><time timestamp='2020-08-23T06:00:00Z'>06:00</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
not every transaction funded is signed and broadcast though
<br>
</div>

<div class='talk op-msg' data-timestamp='1598162400' id='399916'>
<a class='timestamp' href='#399916'><time timestamp='2020-08-23T06:00:00Z'>06:00</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
Correct, so it could be optional to store them
<br>
</div>

<div class='talk op-msg' data-timestamp='1598162400' id='399917'>
<a class='timestamp' href='#399917'><time timestamp='2020-08-23T06:00:00Z'>06:00</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
although I guess locking the utxos implies that you actually plan on doing something
<br>
</div>

<div class='talk op-msg' data-timestamp='1598162460' id='399918'>
<a class='timestamp' href='#399918'><time timestamp='2020-08-23T06:01:00Z'>06:01</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
I just think it would be generically useful to store PSBTs that I expect to use in the future. Otherwise where should I store a txn waiting for a signature from a vault keu?
<br>
</div>

<div class='talk op-msg' data-timestamp='1598162520' id='399919'>
<a class='timestamp' href='#399919'><time timestamp='2020-08-23T06:02:00Z'>06:02</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
I want to send an witness-stripped PSBT to the vault key, and then finalize it later on my node
<br>
</div>

<div class='talk op-msg' data-timestamp='1598162520' id='399920'>
<a class='timestamp' href='#399920'><time timestamp='2020-08-23T06:02:00Z'>06:02</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
If I store the PSBT I can check what I got back was the same thing
<br>
</div>

<div class='talk op-msg' data-timestamp='1598162520' id='399921'>
<a class='timestamp' href='#399921'><time timestamp='2020-08-23T06:02:00Z'>06:02</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
sure
<br>
</div>

<div class='talk op-msg' data-timestamp='1598162580' id='399922'>
<a class='timestamp' href='#399922'><time timestamp='2020-08-23T06:03:00Z'>06:03</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
If they&#x27;re just locked it would prevent new txs from using them, but doesn&#x27;t guarantee the right tx uses them
<br>
</div>

<div class='talk op-msg' data-timestamp='1598162640' id='399923'>
<a class='timestamp' href='#399923'><time timestamp='2020-08-23T06:04:00Z'>06:04</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
why do you need to store it in the first place?
<br>
</div>

<div class='talk op-msg' data-timestamp='1598162640' id='399924'>
<a class='timestamp' href='#399924'><time timestamp='2020-08-23T06:04:00Z'>06:04</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
what you&#x27;ll get back from the vault will be a fully-signed transaction, no?
<br>
</div>

<div class='talk op-msg' data-timestamp='1598162700' id='399925'>
<a class='timestamp' href='#399925'><time timestamp='2020-08-23T06:05:00Z'>06:05</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
Nope!
<br>
</div>

<div class='talk op-msg' data-timestamp='1598162700' id='399926'>
<a class='timestamp' href='#399926'><time timestamp='2020-08-23T06:05:00Z'>06:05</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
i send it to the vault unsigned by anyone
<br>
</div>

<div class='talk op-msg' data-timestamp='1598162700' id='399927'>
<a class='timestamp' href='#399927'><time timestamp='2020-08-23T06:05:00Z'>06:05</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
and then only sign after the vault has signed 
<br>
</div>

<div class='talk op-msg' data-timestamp='1598162700' id='399928'>
<a class='timestamp' href='#399928'><time timestamp='2020-08-23T06:05:00Z'>06:05</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ok
<br>
</div>

<div class='talk op-msg' data-timestamp='1598162760' id='399929'>
<a class='timestamp' href='#399929'><time timestamp='2020-08-23T06:06:00Z'>06:06</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
You can imagine that this is more normally the case when dealing with e.g. 10 vault keys that you want to sign in parallel with
<br>
</div>

<div class='talk op-msg' data-timestamp='1598162760' id='399930'>
<a class='timestamp' href='#399930'><time timestamp='2020-08-23T06:06:00Z'>06:06</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i can see a use for something that keeps track of &quot;in progress&quot; transactions
<br>
</div>

<div class='talk op-msg' data-timestamp='1598162760' id='399931'>
<a class='timestamp' href='#399931'><time timestamp='2020-08-23T06:06:00Z'>06:06</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i&#x27;m not sure if the bitcoin core wallet is the right place
<br>
</div>

<div class='talk op-msg' data-timestamp='1598162820' id='399932'>
<a class='timestamp' href='#399932'><time timestamp='2020-08-23T06:07:00Z'>06:07</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
I think it&#x27;s more that bitcoin core wallet is the de-facto security perimiter for storing/handling the sensitive info and backups
<br>
</div>

<div class='talk op-msg' data-timestamp='1598162880' id='399933'>
<a class='timestamp' href='#399933'><time timestamp='2020-08-23T06:08:00Z'>06:08</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
So anything that you implemented as a diff layer you would want to likely have identical state for consistency 
<br>
</div>

<div class='talk op-msg' data-timestamp='1598162880' id='399934'>
<a class='timestamp' href='#399934'><time timestamp='2020-08-23T06:08:00Z'>06:08</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
which leads me to believe the natural place is core wallet
<br>
</div>

<div class='talk op-msg' data-timestamp='1598163060' id='399935'>
<a class='timestamp' href='#399935'><time timestamp='2020-08-23T06:11:00Z'>06:11</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
(The context in which this came up is I have a tool which creates a bitcoin smart contract, and then I create a PSBT for it, locking the outputs I need.  I then also have sub-transactions in that smart contract which i want to store somewhere, and they could be partially signed because they&#x27;re lacking e.g. a vault key or a preimage.
<br>
</div>

<div class='talk op-msg' data-timestamp='1598163120' id='399936'>
<a class='timestamp' href='#399936'><time timestamp='2020-08-23T06:12:00Z'>06:12</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
Otherwise if you lose the specific transactions you would need to re-generate from the smart contract script the binary, which is currently not possible because I&#x27;m using Policy language for creating the contract
<br>
</div>

<div class='talk op-msg' data-timestamp='1598163300' id='399937'>
<a class='timestamp' href='#399937'><time timestamp='2020-08-23T06:15:00Z'>06:15</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i&#x27;ve told you that&#x27;s the problem
<br>
</div>

<div class='talk op-msg' data-timestamp='1598163360' id='399938'>
<a class='timestamp' href='#399938'><time timestamp='2020-08-23T06:16:00Z'>06:16</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
I&#x27;m not disagreeing or countering what you&#x27;ve said previously, merely noting. Were I to use a deterministic engine, then the issue would be lesser, but still present for convenience in finalizing txns.
<br>
</div>

<div class='talk op-msg' data-timestamp='1598170440' id='399939'>
<a class='timestamp' href='#399939'><time timestamp='2020-08-23T08:14:00Z'>08:14</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] hebasto closed pull request #19780: build, qt: Add SVG support, and replace bitcoin PNG image with SVG one (master...200822-svg) <a href="https://github.com/bitcoin/bitcoin/pull/19780" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19780</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1598185320' id='399940'>
<a class='timestamp' href='#399940'><time timestamp='2020-08-23T12:22:00Z'>12:22</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] hebasto opened pull request #19783: build, doc: Correct and complete zlib info and usage (master...200823-zlib) <a href="https://github.com/bitcoin/bitcoin/pull/19783" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19783</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1598198400' id='399941'>
<a class='timestamp' href='#399941'><time timestamp='2020-08-23T16:00:00Z'>16:00</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] hebasto opened pull request #19785: build: lrelease requires xml if not cross-building (master...200823-xml) <a href="https://github.com/bitcoin/bitcoin/pull/19785" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19785</a>
<br>
</div>

</div>
</section>

</body>
</html>
