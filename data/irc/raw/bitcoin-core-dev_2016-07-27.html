<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2016-07-27
 â€” 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2016-07-27' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:26 UTC</pre>
<pre><a href="/bitcoin-core-dev/2016-06-27">&lt;</a><span class='header'>    July 2016     </span><a href="/bitcoin-core-dev/2016-08-27">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;                <a class="" href="/bitcoin-core-dev/2016-07-01">1</a>  <a class="" href="/bitcoin-core-dev/2016-07-02">2</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2016-07-03">3</a>  <a class="" href="/bitcoin-core-dev/2016-07-04">4</a>  <a class="" href="/bitcoin-core-dev/2016-07-05">5</a>  <a class="" href="/bitcoin-core-dev/2016-07-06">6</a>  <a class="" href="/bitcoin-core-dev/2016-07-07">7</a>  <a class="" href="/bitcoin-core-dev/2016-07-08">8</a>  <a class="" href="/bitcoin-core-dev/2016-07-09">9</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2016-07-10">10</a> <a class="" href="/bitcoin-core-dev/2016-07-11">11</a> <a class="" href="/bitcoin-core-dev/2016-07-12">12</a> <a class="" href="/bitcoin-core-dev/2016-07-13">13</a> <a class="" href="/bitcoin-core-dev/2016-07-14">14</a> <a class="" href="/bitcoin-core-dev/2016-07-15">15</a> <a class="" href="/bitcoin-core-dev/2016-07-16">16</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2016-07-17">17</a> <a class="" href="/bitcoin-core-dev/2016-07-18">18</a> <a class="" href="/bitcoin-core-dev/2016-07-19">19</a> <a class="" href="/bitcoin-core-dev/2016-07-20">20</a> <a class="" href="/bitcoin-core-dev/2016-07-21">21</a> <a class="" href="/bitcoin-core-dev/2016-07-22">22</a> <a class="" href="/bitcoin-core-dev/2016-07-23">23</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2016-07-24">24</a> <a class="" href="/bitcoin-core-dev/2016-07-25">25</a> <a class="" href="/bitcoin-core-dev/2016-07-26">26</a> <a class="current" href="/bitcoin-core-dev/2016-07-27">27</a> <a class="" href="/bitcoin-core-dev/2016-07-28">28</a> <a class="" href="/bitcoin-core-dev/2016-07-29">29</a> <a class="" href="/bitcoin-core-dev/2016-07-30">30</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2016-07-31">31</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1469577660' id='483213'>
<a class='timestamp' href='#483213'><time timestamp='2016-07-27T00:01:00Z'>00:01</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
<a href="https://github.com/bitcoin/libblkmaker/pull/6" class="link" target="_blank">https://github.com/bitcoin/libblkmaker/pull/6</a> review requested
<br>
</div>

<div class='talk op-msg' data-timestamp='1469579820' id='483214'>
<a class='timestamp' href='#483214'><time timestamp='2016-07-27T00:37:00Z'>00:37</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
wumpus: what else more do i need to do on <a href="https://github.com/bitcoin/bitcoin/pull/8152" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8152</a> ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1469579820' id='483215'>
<a class='timestamp' href='#483215'><time timestamp='2016-07-27T00:37:00Z'>00:37</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
jonasschnelli: same question ^
<br>
</div>

<div class='talk op-msg' data-timestamp='1469608440' id='483216'>
<a class='timestamp' href='#483216'><time timestamp='2016-07-27T08:34:00Z'>08:34</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
phantomcircuit: Looks good. I really want to run some tests. I&#x27;ll do that soon. But 8152 is definitively useful and will be merged soon.
<br>
</div>

<div class='talk op-msg' data-timestamp='1469609580' id='483217'>
<a class='timestamp' href='#483217'><time timestamp='2016-07-27T08:53:00Z'>08:53</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
wumpus: I think <a href="https://github.com/bitcoin/bitcoin/pull/8152" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8152</a> is ready for merge (into master)
<br>
</div>

<div class='talk op-msg' data-timestamp='1469609700' id='483218'>
<a class='timestamp' href='#483218'><time timestamp='2016-07-27T08:55:00Z'>08:55</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
thanks, taking a look
<br>
</div>

<div class='talk op-msg' data-timestamp='1469610000' id='483219'>
<a class='timestamp' href='#483219'><time timestamp='2016-07-27T09:00:00Z'>09:00</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I&#x27;m still not entirely convinced that it won&#x27;t reduce performance by causing more flushes to disk
<br>
</div>

<div class='talk op-msg' data-timestamp='1469610060' id='483220'>
<a class='timestamp' href='#483220'><time timestamp='2016-07-27T09:01:00Z'>09:01</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
e.g. the reason for passing those CWalletDB in the first place (it wasn&#x27;t always that way) was to prevent extraneous flushes, as sipa says in that pull
<br>
</div>

<div class='talk op-msg' data-timestamp='1469610180' id='483221'>
<a class='timestamp' href='#483221'><time timestamp='2016-07-27T09:03:00Z'>09:03</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
but if anyone can convince me that that problem has been handled in another way I&#x27;m ok with merging it
<br>
</div>

<div class='talk op-msg' data-timestamp='1469610180' id='483222'>
<a class='timestamp' href='#483222'><time timestamp='2016-07-27T09:03:00Z'>09:03</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
(or even better, benchmarks)
<br>
</div>

<div class='talk op-msg' data-timestamp='1469610240' id='483223'>
<a class='timestamp' href='#483223'><time timestamp='2016-07-27T09:04:00Z'>09:04</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
jonasschnelli: re: 8407, I think the second commit makes the code unncesarily complex; I think we can already handle all upgrade scenarios without it
<br>
</div>

<div class='talk op-msg' data-timestamp='1469610240' id='483224'>
<a class='timestamp' href='#483224'><time timestamp='2016-07-27T09:04:00Z'>09:04</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
wumpus: IMO 8152 is only a refactoring to avoid having CWalletDB access in rpc code.
<br>
</div>

<div class='talk op-msg' data-timestamp='1469610300' id='483225'>
<a class='timestamp' href='#483225'><time timestamp='2016-07-27T09:05:00Z'>09:05</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
wumpus: re 8407, I agree. I will remove the second commit asap
<br>
</div>

<div class='talk op-msg' data-timestamp='1469610360' id='483226'>
<a class='timestamp' href='#483226'><time timestamp='2016-07-27T09:06:00Z'>09:06</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes avoiding CWalletDB access in the RPC code is great; but that could also have been accomplished by adding a wrapper method in CWallet
<br>
</div>

<div class='talk op-msg' data-timestamp='1469610360' id='483227'>
<a class='timestamp' href='#483227'><time timestamp='2016-07-27T09:06:00Z'>09:06</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
that passes through the wtx to AddToWallet and opens the walletdb
<br>
</div>

<div class='talk op-msg' data-timestamp='1469610420' id='483228'>
<a class='timestamp' href='#483228'><time timestamp='2016-07-27T09:07:00Z'>09:07</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
what I&#x27;m worried about is the internal uses of AddToWallet that do pass their own walletdb
<br>
</div>

<div class='talk op-msg' data-timestamp='1469610480' id='483229'>
<a class='timestamp' href='#483229'><time timestamp='2016-07-27T09:08:00Z'>09:08</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
eh - do those exist at all?
<br>
</div>

<div class='talk op-msg' data-timestamp='1469610480' id='483230'>
<a class='timestamp' href='#483230'><time timestamp='2016-07-27T09:08:00Z'>09:08</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
wumpus: I have checked the internal AddToWallet uses. And it seems like they all open CWalletDB shortly before resulting in the ~same behavior.
<br>
</div>

<div class='talk op-msg' data-timestamp='1469610540' id='483231'>
<a class='timestamp' href='#483231'><time timestamp='2016-07-27T09:09:00Z'>09:09</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I think the change form (external calls) pwalletMain-&gt;AddToWallet(wtx, false, &amp;walletdb); to  pwalletMain-&gt;AddToWallet(wtx); is good.
<br>
</div>

<div class='talk op-msg' data-timestamp='1469610540' id='483232'>
<a class='timestamp' href='#483232'><time timestamp='2016-07-27T09:09:00Z'>09:09</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
It hides CWalletDB behind CWallet
<br>
</div>

<div class='talk op-msg' data-timestamp='1469610540' id='483233'>
<a class='timestamp' href='#483233'><time timestamp='2016-07-27T09:09:00Z'>09:09</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
hmm I agree
<br>
</div>

<div class='talk op-msg' data-timestamp='1469610540' id='483234'>
<a class='timestamp' href='#483234'><time timestamp='2016-07-27T09:09:00Z'>09:09</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
(for callers using AddToWallet)
<br>
</div>

<div class='talk op-msg' data-timestamp='1469610600' id='483235'>
<a class='timestamp' href='#483235'><time timestamp='2016-07-27T09:10:00Z'>09:10</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
LOL @ line 910
<br>
</div>

<div class='talk op-msg' data-timestamp='1469610600' id='483236'>
<a class='timestamp' href='#483236'><time timestamp='2016-07-27T09:10:00Z'>09:10</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
But as I said. I think its a refactoring PR
<br>
</div>

<div class='talk op-msg' data-timestamp='1469610600' id='483237'>
<a class='timestamp' href='#483237'><time timestamp='2016-07-27T09:10:00Z'>09:10</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
wumpus: you mean the return false at L910
<br>
</div>

<div class='talk op-msg' data-timestamp='1469610600' id='483238'>
<a class='timestamp' href='#483238'><time timestamp='2016-07-27T09:10:00Z'>09:10</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
of wallet.cpp - that line could be deleted, no one is using that walletdb :-)
<br>
</div>

<div class='talk op-msg' data-timestamp='1469610600' id='483239'>
<a class='timestamp' href='#483239'><time timestamp='2016-07-27T09:10:00Z'>09:10</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
CWalletDB walletdb(strWalletFile, &quot;r+&quot;, false);    return AddToWallet(wtx);
<br>
</div>

<div class='talk op-msg' data-timestamp='1469610660' id='483240'>
<a class='timestamp' href='#483240'><time timestamp='2016-07-27T09:11:00Z'>09:11</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I&#x27;m looking at the merged version, line numbers may be off
<br>
</div>

<div class='talk op-msg' data-timestamp='1469610660' id='483241'>
<a class='timestamp' href='#483241'><time timestamp='2016-07-27T09:11:00Z'>09:11</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Ah. Yes. That should be removed I guess.
<br>
</div>

<div class='talk op-msg' data-timestamp='1469610720' id='483242'>
<a class='timestamp' href='#483242'><time timestamp='2016-07-27T09:12:00Z'>09:12</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
so what changes here is the parameters under which walletdb is opened
<br>
</div>

<div class='talk op-msg' data-timestamp='1469610720' id='483243'>
<a class='timestamp' href='#483243'><time timestamp='2016-07-27T09:12:00Z'>09:12</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
for that AddWallet it used to be the (&quot;r+&quot;, false), but now it wil open the walletdb inside AddToWallet with default parameters
<br>
</div>

<div class='talk op-msg' data-timestamp='1469610840' id='483244'>
<a class='timestamp' href='#483244'><time timestamp='2016-07-27T09:14:00Z'>09:14</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
ok, commented on the pull
<br>
</div>

<div class='talk op-msg' data-timestamp='1469618760' id='483245'>
<a class='timestamp' href='#483245'><time timestamp='2016-07-27T11:26:00Z'>11:26</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I think this one is ready for merge <a href="https://github.com/bitcoin/bitcoin/pull/8206" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8206</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1469618760' id='483246'>
<a class='timestamp' href='#483246'><time timestamp='2016-07-27T11:26:00Z'>11:26</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Its a required 0.13 backport and relatively risk free
<br>
</div>

<div class='talk op-msg' data-timestamp='1469623260' id='483247'>
<a class='timestamp' href='#483247'><time timestamp='2016-07-27T12:41:00Z'>12:41</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
jonasschnelli: yes I was planning to test it, will do so
<br>
</div>

<div class='talk op-msg' data-timestamp='1469623260' id='483248'>
<a class='timestamp' href='#483248'><time timestamp='2016-07-27T12:41:00Z'>12:41</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Thanks
<br>
</div>

<div class='talk op-msg' data-timestamp='1469624520' id='483249'>
<a class='timestamp' href='#483249'><time timestamp='2016-07-27T13:02:00Z'>13:02</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
jonasschnelli: a small nit: cVjNjjiDXCsTZKVP3VzjH3PPdNdeS7t51RXJ6rt99GgnzaTFtrxz 2016-07-27T13:00:33Z label= # addr=mfZRKaG9dfW5xEqUWiJFFFohe8XXoW297N hdkeypath: m/0&#x27;/0&#x27;/0&#x27;
<br>
</div>

<div class='talk op-msg' data-timestamp='1469624520' id='483250'>
<a class='timestamp' href='#483250'><time timestamp='2016-07-27T13:02:00Z'>13:02</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
let&#x27;s format it hdkeypath= instead of hdkeypath:
<br>
</div>

<div class='talk op-msg' data-timestamp='1469624520' id='483251'>
<a class='timestamp' href='#483251'><time timestamp='2016-07-27T13:02:00Z'>13:02</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
that&#x27;s more consistent
<br>
</div>

<div class='talk op-msg' data-timestamp='1469624520' id='483252'>
<a class='timestamp' href='#483252'><time timestamp='2016-07-27T13:02:00Z'>13:02</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
ah. right. Let me change that directly
<br>
</div>

<div class='talk op-msg' data-timestamp='1469624580' id='483253'>
<a class='timestamp' href='#483253'><time timestamp='2016-07-27T13:03:00Z'>13:03</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
thanks
<br>
</div>

<div class='talk op-msg' data-timestamp='1469624580' id='483254'>
<a class='timestamp' href='#483254'><time timestamp='2016-07-27T13:03:00Z'>13:03</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
apart from that it works, tested with a non-HD and a HD wallet
<br>
</div>

<div class='talk op-msg' data-timestamp='1469624580' id='483255'>
<a class='timestamp' href='#483255'><time timestamp='2016-07-27T13:03:00Z'>13:03</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
wumpus: what do you think about changing &quot;oldhdmaster&quot; to &quot;inactivehdmaster&quot;?
<br>
</div>

<div class='talk op-msg' data-timestamp='1469624640' id='483256'>
<a class='timestamp' href='#483256'><time timestamp='2016-07-27T13:04:00Z'>13:04</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
oldhdmaster sound not ideal
<br>
</div>

<div class='talk op-msg' data-timestamp='1469624640' id='483257'>
<a class='timestamp' href='#483257'><time timestamp='2016-07-27T13:04:00Z'>13:04</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes seems more on-point
<br>
</div>

<div class='talk op-msg' data-timestamp='1469624640' id='483258'>
<a class='timestamp' href='#483258'><time timestamp='2016-07-27T13:04:00Z'>13:04</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
okay. Will change that as well
<br>
</div>

<div class='talk op-msg' data-timestamp='1469624700' id='483259'>
<a class='timestamp' href='#483259'><time timestamp='2016-07-27T13:05:00Z'>13:05</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it not so much matters whether old or new, just that it&#x27;s not used at the moment
<br>
</div>

<div class='talk op-msg' data-timestamp='1469624700' id='483260'>
<a class='timestamp' href='#483260'><time timestamp='2016-07-27T13:05:00Z'>13:05</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
or maybe a more heretical idea: number the master keys, and store what master key was used with the key metadata
<br>
</div>

<div class='talk op-msg' data-timestamp='1469624760' id='483261'>
<a class='timestamp' href='#483261'><time timestamp='2016-07-27T13:06:00Z'>13:06</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
maybe for 0.14
<br>
</div>

<div class='talk op-msg' data-timestamp='1469624820' id='483262'>
<a class='timestamp' href='#483262'><time timestamp='2016-07-27T13:07:00Z'>13:07</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
wumpus: yes. Though about that. But would add nother &quot;long&quot; string to each line
<br>
</div>

<div class='talk op-msg' data-timestamp='1469624820' id='483263'>
<a class='timestamp' href='#483263'><time timestamp='2016-07-27T13:07:00Z'>13:07</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
or we could add an index to each master key (for simplification)
<br>
</div>

<div class='talk op-msg' data-timestamp='1469624880' id='483264'>
<a class='timestamp' href='#483264'><time timestamp='2016-07-27T13:08:00Z'>13:08</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes indeed my idea was an index/handle, not the full master key id
<br>
</div>

<div class='talk op-msg' data-timestamp='1469624880' id='483265'>
<a class='timestamp' href='#483265'><time timestamp='2016-07-27T13:08:00Z'>13:08</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
that would indeed be ugly, and would take up significant extra space in the metadata
<br>
</div>

<div class='talk op-msg' data-timestamp='1469624940' id='483266'>
<a class='timestamp' href='#483266'><time timestamp='2016-07-27T13:09:00Z'>13:09</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Yes. This would make sense for 0.14 I guess.
<br>
</div>

<div class='talk op-msg' data-timestamp='1469624940' id='483267'>
<a class='timestamp' href='#483267'><time timestamp='2016-07-27T13:09:00Z'>13:09</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/pull/8206" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8206</a> is featureish and I think we only backport it to 0.13 because of possible complains because of lack of exporting the xpriv
<br>
</div>

<div class='talk op-msg' data-timestamp='1469625000' id='483268'>
<a class='timestamp' href='#483268'><time timestamp='2016-07-27T13:10:00Z'>13:10</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes I agree we don&#x27;t want to do this for 0.13
<br>
</div>

<div class='talk op-msg' data-timestamp='1469625000' id='483269'>
<a class='timestamp' href='#483269'><time timestamp='2016-07-27T13:10:00Z'>13:10</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it was just a wild idea
<br>
</div>

<div class='talk op-msg' data-timestamp='1469625000' id='483270'>
<a class='timestamp' href='#483270'><time timestamp='2016-07-27T13:10:00Z'>13:10</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
for 8206 let&#x27;s just fix the output format and merge it
<br>
</div>

<div class='talk op-msg' data-timestamp='1469625120' id='483271'>
<a class='timestamp' href='#483271'><time timestamp='2016-07-27T13:12:00Z'>13:12</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
wumpus: I think 8206 is ready now
<br>
</div>

<div class='talk op-msg' data-timestamp='1469625180' id='483272'>
<a class='timestamp' href='#483272'><time timestamp='2016-07-27T13:13:00Z'>13:13</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
re-testing
<br>
</div>

<div class='talk op-msg' data-timestamp='1469625480' id='483273'>
<a class='timestamp' href='#483273'><time timestamp='2016-07-27T13:18:00Z'>13:18</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
jonasschnelli: cRv7Mpp7w5vtf4y8joSPs6kwGZAuKfPa76GzhGS7Vecq3ss4t5Fh 2016-07-27T13:00:33Z reserve=1 # addr=mpEFHw5CXTi69tHcZm62x9DJgbQewP731j hdkeypath= m/0&#x27;/0&#x27;/1&#x27;
<br>
</div>

<div class='talk op-msg' data-timestamp='1469625480' id='483274'>
<a class='timestamp' href='#483274'><time timestamp='2016-07-27T13:18:00Z'>13:18</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I think that&#x27;s a space too much after = :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1469625540' id='483275'>
<a class='timestamp' href='#483275'><time timestamp='2016-07-27T13:19:00Z'>13:19</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Damit... :) force pushed.
<br>
</div>

<div class='talk op-msg' data-timestamp='1469625540' id='483276'>
<a class='timestamp' href='#483276'><time timestamp='2016-07-27T13:19:00Z'>13:19</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
ah. Forgot &quot;git add&quot;.
<br>
</div>

<div class='talk op-msg' data-timestamp='1469625540' id='483277'>
<a class='timestamp' href='#483277'><time timestamp='2016-07-27T13:19:00Z'>13:19</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
wumpus: now pushed
<br>
</div>

<div class='talk op-msg' data-timestamp='1469625960' id='483278'>
<a class='timestamp' href='#483278'><time timestamp='2016-07-27T13:26:00Z'>13:26</time></a>
&lt;<span class='nick nick-3'> GitHub44</span>&gt;
[bitcoin] laanwj pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/beadffae6d65...4d4970fe530a" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/beadffae6d65...4d4970fe530a</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1469625960' id='483279'>
<a class='timestamp' href='#483279'><time timestamp='2016-07-27T13:26:00Z'>13:26</time></a>
&lt;<span class='nick nick-3'> GitHub44</span>&gt;
bitcoin/master 77c912d Jonas Schnelli: [Wallet] add HD xpriv to dumpwallet
<br>
</div>

<div class='talk op-msg' data-timestamp='1469625960' id='483280'>
<a class='timestamp' href='#483280'><time timestamp='2016-07-27T13:26:00Z'>13:26</time></a>
&lt;<span class='nick nick-3'> GitHub44</span>&gt;
bitcoin/master 4d4970f Wladimir J. van der Laan: Merge #8206: [Wallet] Add HD xpriv to dumpwallet...
<br>
</div>

<div class='talk op-msg' data-timestamp='1469625960' id='483281'>
<a class='timestamp' href='#483281'><time timestamp='2016-07-27T13:26:00Z'>13:26</time></a>
&lt;<span class='nick nick-14'> GitHub179</span>&gt;
[bitcoin] laanwj closed pull request #8206: [Wallet] Add HD xpriv to dumpwallet (master...2016/06/hd_info) <a href="https://github.com/bitcoin/bitcoin/pull/8206" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8206</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1469626020' id='483282'>
<a class='timestamp' href='#483282'><time timestamp='2016-07-27T13:27:00Z'>13:27</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
wumpus: does 77c912d apply cleanly to 0.13 (should)? Just tell me if you want me to open a PR against 0.13
<br>
</div>

<div class='talk op-msg' data-timestamp='1469626020' id='483283'>
<a class='timestamp' href='#483283'><time timestamp='2016-07-27T13:27:00Z'>13:27</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
going to try
<br>
</div>

<div class='talk op-msg' data-timestamp='1469626140' id='483284'>
<a class='timestamp' href='#483284'><time timestamp='2016-07-27T13:29:00Z'>13:29</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
seems to just apply
<br>
</div>

<div class='talk op-msg' data-timestamp='1469626860' id='483285'>
<a class='timestamp' href='#483285'><time timestamp='2016-07-27T13:41:00Z'>13:41</time></a>
&lt;<span class='nick nick-8'> GitHub42</span>&gt;
[bitcoin] laanwj pushed 1 new commit to 0.13: <a href="https://github.com/bitcoin/bitcoin/commit/18b8ee1cd1b2c95faac53e49b9023200679f2bb1" class="link" target="_blank">https://github.com/bitcoin/bitcoin/commit/18b8ee1cd1b2c95faac53e49b9023200679f2bb1</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1469626860' id='483286'>
<a class='timestamp' href='#483286'><time timestamp='2016-07-27T13:41:00Z'>13:41</time></a>
&lt;<span class='nick nick-8'> GitHub42</span>&gt;
bitcoin/0.13 18b8ee1 Jonas Schnelli: [Wallet] add HD xpriv to dumpwallet...
<br>
</div>

<div class='talk op-msg' data-timestamp='1469627520' id='483287'>
<a class='timestamp' href='#483287'><time timestamp='2016-07-27T13:52:00Z'>13:52</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
8389 needs rebase
<br>
</div>

<div class='talk op-msg' data-timestamp='1469628180' id='483288'>
<a class='timestamp' href='#483288'><time timestamp='2016-07-27T14:03:00Z'>14:03</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
rebased
<br>
</div>

<div class='talk op-msg' data-timestamp='1469629560' id='483289'>
<a class='timestamp' href='#483289'><time timestamp='2016-07-27T14:26:00Z'>14:26</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
jonasschnelli: did you see my remark here: <a href="https://github.com/bitcoin/bitcoin/pull/8407/files#r72257114" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8407/files#r72257114</a>  ... I&#x27;m not sure what settings.value(strSettingsVersionKey) returns in the case !settings.contains(strSettingsVersionKey), but if it&#x27;s garbage or raises an exception this may be problematic
<br>
</div>

<div class='talk op-msg' data-timestamp='1469629860' id='483290'>
<a class='timestamp' href='#483290'><time timestamp='2016-07-27T14:31:00Z'>14:31</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
wumpus: yes saw it. But I thought the second expression in the if gets not executed if the first one (.contains()) fails. It&#x27;s an OR.
<br>
</div>

<div class='talk op-msg' data-timestamp='1469629860' id='483291'>
<a class='timestamp' href='#483291'><time timestamp='2016-07-27T14:31:00Z'>14:31</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes that is true, but look inside the {} there is another settings.value(strSettingsVersionKey)
<br>
</div>

<div class='talk op-msg' data-timestamp='1469629920' id='483292'>
<a class='timestamp' href='#483292'><time timestamp='2016-07-27T14:32:00Z'>14:32</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
if (settings.value(strSettingsVersionKey) &lt; 130000 &amp;&amp;  ...
<br>
</div>

<div class='talk op-msg' data-timestamp='1469629920' id='483293'>
<a class='timestamp' href='#483293'><time timestamp='2016-07-27T14:32:00Z'>14:32</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Ah. Right!
<br>
</div>

<div class='talk op-msg' data-timestamp='1469629920' id='483294'>
<a class='timestamp' href='#483294'><time timestamp='2016-07-27T14:32:00Z'>14:32</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
That needs to be fixed. Will do soon (afk/phone typing).
<br>
</div>

<div class='talk op-msg' data-timestamp='1469629920' id='483295'>
<a class='timestamp' href='#483295'><time timestamp='2016-07-27T14:32:00Z'>14:32</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes, no hurry
<br>
</div>

<div class='talk op-msg' data-timestamp='1469637180' id='483296'>
<a class='timestamp' href='#483296'><time timestamp='2016-07-27T16:33:00Z'>16:33</time></a>
&lt;<span class='nick nick-2'> GitHub191</span>&gt;
[bitcoin] laanwj pushed 1 new commit to 0.13: <a href="https://github.com/bitcoin/bitcoin/commit/0179a39f9da1fa417a592e7bf3ebbb1390a292b9" class="link" target="_blank">https://github.com/bitcoin/bitcoin/commit/0179a39f9da1fa417a592e7bf3ebbb1390a292b9</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1469637180' id='483297'>
<a class='timestamp' href='#483297'><time timestamp='2016-07-27T16:33:00Z'>16:33</time></a>
&lt;<span class='nick nick-2'> GitHub191</span>&gt;
bitcoin/0.13 0179a39 Wladimir J. van der Laan: qt: periodic translations update
<br>
</div>

<div class='talk op-msg' data-timestamp='1469642580' id='483298'>
<a class='timestamp' href='#483298'><time timestamp='2016-07-27T18:03:00Z'>18:03</time></a>
&lt;<span class='nick nick-9'> goatpig</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1469642640' id='483299'>
<a class='timestamp' href='#483299'><time timestamp='2016-07-27T18:04:00Z'>18:04</time></a>
&lt;<span class='nick nick-9'> goatpig</span>&gt;
you don&#x27;t need the mask and flag when creating a tx with only segwit outputs, do you?
<br>
</div>

<div class='talk op-msg' data-timestamp='1469642640' id='483300'>
<a class='timestamp' href='#483300'><time timestamp='2016-07-27T18:04:00Z'>18:04</time></a>
&lt;<span class='nick nick-9'> goatpig</span>&gt;
as in, no segwit inputs redeeming, only creating segwit outputs
<br>
</div>

<div class='talk op-msg' data-timestamp='1469642640' id='483301'>
<a class='timestamp' href='#483301'><time timestamp='2016-07-27T18:04:00Z'>18:04</time></a>
&lt;<span class='nick nick-9'> goatpig</span>&gt;
non nested
<br>
</div>

<div class='talk op-msg' data-timestamp='1469643180' id='483302'>
<a class='timestamp' href='#483302'><time timestamp='2016-07-27T18:13:00Z'>18:13</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
goatpig: that is my understanding, correct
<br>
</div>

<div class='talk op-msg' data-timestamp='1469643240' id='483303'>
<a class='timestamp' href='#483303'><time timestamp='2016-07-27T18:14:00Z'>18:14</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
furthermore, I think you can even include such outputs in non-segwit blocks. albeit, they would be vulnerable to easy theft until segwit activates.
<br>
</div>

<div class='talk op-msg' data-timestamp='1469643240' id='483304'>
<a class='timestamp' href='#483304'><time timestamp='2016-07-27T18:14:00Z'>18:14</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
(but it&#x27;s possible to mine non-segwit blocks even after segwit activates, so not entirely useless)
<br>
</div>

<div class='talk op-msg' data-timestamp='1469643300' id='483305'>
<a class='timestamp' href='#483305'><time timestamp='2016-07-27T18:15:00Z'>18:15</time></a>
&lt;<span class='nick nick-9'> goatpig</span>&gt;
in this case they would just behave as anyone can spend wouldn&#x27;t they? at least until miners start enforcing segwit rules
<br>
</div>

<div class='talk op-msg' data-timestamp='1469643420' id='483306'>
<a class='timestamp' href='#483306'><time timestamp='2016-07-27T18:17:00Z'>18:17</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
right
<br>
</div>

<div class='talk op-msg' data-timestamp='1469643420' id='483307'>
<a class='timestamp' href='#483307'><time timestamp='2016-07-27T18:17:00Z'>18:17</time></a>
&lt;<span class='nick nick-9'> goatpig</span>&gt;
so the proper guideline would be to add mask and flag when creating non nested segwit outputs, regardless of inputs?
<br>
</div>

<div class='talk op-msg' data-timestamp='1469643480' id='483308'>
<a class='timestamp' href='#483308'><time timestamp='2016-07-27T18:18:00Z'>18:18</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
even after segwit activates, libblkmaker will produce non-segwit blocks if there are no witness-as-input transactions being mined
<br>
</div>

<div class='talk op-msg' data-timestamp='1469643480' id='483309'>
<a class='timestamp' href='#483309'><time timestamp='2016-07-27T18:18:00Z'>18:18</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Well they&#x27;re non-standard currently.
<br>
</div>

<div class='talk op-msg' data-timestamp='1469643480' id='483310'>
<a class='timestamp' href='#483310'><time timestamp='2016-07-27T18:18:00Z'>18:18</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
goatpig: I don&#x27;t understand your question there
<br>
</div>

<div class='talk op-msg' data-timestamp='1469643480' id='483311'>
<a class='timestamp' href='#483311'><time timestamp='2016-07-27T18:18:00Z'>18:18</time></a>
&lt;<span class='nick nick-9'> goatpig</span>&gt;
im thinking for after segwit is activated, I don&#x27;t intent to allow ppl to create SW tx with Armory until a few weeks after that happens on the mainnet
<br>
</div>

<div class='talk op-msg' data-timestamp='1469643480' id='483312'>
<a class='timestamp' href='#483312'><time timestamp='2016-07-27T18:18:00Z'>18:18</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
IIRC, it&#x27;s invalid to have dummy/flag if there&#x27;s no witness data for inputs
<br>
</div>

<div class='talk op-msg' data-timestamp='1469643540' id='483313'>
<a class='timestamp' href='#483313'><time timestamp='2016-07-27T18:19:00Z'>18:19</time></a>
&lt;<span class='nick nick-9'> goatpig</span>&gt;
luke-jr: oic
<br>
</div>

<div class='talk op-msg' data-timestamp='1469643540' id='483314'>
<a class='timestamp' href='#483314'><time timestamp='2016-07-27T18:19:00Z'>18:19</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
(I could be wrong on that, but IIRC)
<br>
</div>

<div class='talk op-msg' data-timestamp='1469643540' id='483315'>
<a class='timestamp' href='#483315'><time timestamp='2016-07-27T18:19:00Z'>18:19</time></a>
&lt;<span class='nick nick-9'> goatpig</span>&gt;
wouldn&#x27;t that mean that you can&#x27;t mix regular and sw outputs in a same tx?
<br>
</div>

<div class='talk op-msg' data-timestamp='1469643540' id='483316'>
<a class='timestamp' href='#483316'><time timestamp='2016-07-27T18:19:00Z'>18:19</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
goatpig: no, you can have dummy/flag so long as at least one input needs witness data
<br>
</div>

<div class='talk op-msg' data-timestamp='1469643600' id='483317'>
<a class='timestamp' href='#483317'><time timestamp='2016-07-27T18:20:00Z'>18:20</time></a>
&lt;<span class='nick nick-9'> goatpig</span>&gt;
ok
<br>
</div>

<div class='talk op-msg' data-timestamp='1469643600' id='483318'>
<a class='timestamp' href='#483318'><time timestamp='2016-07-27T18:20:00Z'>18:20</time></a>
&lt;<span class='nick nick-9'> goatpig</span>&gt;
aight that sums it for me
<br>
</div>

<div class='talk op-msg' data-timestamp='1469643600' id='483319'>
<a class='timestamp' href='#483319'><time timestamp='2016-07-27T18:20:00Z'>18:20</time></a>
&lt;<span class='nick nick-9'> goatpig</span>&gt;
thanks for the help
<br>
</div>

<div class='talk op-msg' data-timestamp='1469648760' id='483320'>
<a class='timestamp' href='#483320'><time timestamp='2016-07-27T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
mhmm, there&#x27;s a bitcoinconsensus_SCRIPT_FLAGS_VERIFY_WITNESS but not a bitcoinconsensus_SCRIPT_VERIFY_CHECKSEQUENCEVERIFY in script/bitcoinconsensus.h...
<br>
</div>

<div class='talk op-msg' data-timestamp='1469648940' id='483321'>
<a class='timestamp' href='#483321'><time timestamp='2016-07-27T19:49:00Z'>19:49</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jtimon: good point, we should fix that
<br>
</div>

<div class='talk op-msg' data-timestamp='1469649000' id='483322'>
<a class='timestamp' href='#483322'><time timestamp='2016-07-27T19:50:00Z'>19:50</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
I&#x27;ll PR it, just wanted to confirm first
<br>
</div>

<div class='talk op-msg' data-timestamp='1469649000' id='483323'>
<a class='timestamp' href='#483323'><time timestamp='2016-07-27T19:50:00Z'>19:50</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
sipa: thanks
<br>
</div>

<div class='talk op-msg' data-timestamp='1469649060' id='483324'>
<a class='timestamp' href='#483324'><time timestamp='2016-07-27T19:51:00Z'>19:51</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
actually found out while adapting my consensus branch to ScriptFlagsFromConsensus()as discussed (WIP)
<br>
</div>

<div class='talk op-msg' data-timestamp='1469653980' id='483325'>
<a class='timestamp' href='#483325'><time timestamp='2016-07-27T21:13:00Z'>21:13</time></a>
&lt;<span class='nick nick-10'> GitHub48</span>&gt;
[bitcoin] jtimon opened pull request #8412: libconsensus: Expose a flag for BIP112 (master...0.13-consensus-bip112-flag) <a href="https://github.com/bitcoin/bitcoin/pull/8412" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8412</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1469654040' id='483326'>
<a class='timestamp' href='#483326'><time timestamp='2016-07-27T21:14:00Z'>21:14</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
does this little thing break rc1?
<br>
</div>

<div class='talk op-msg' data-timestamp='1469656140' id='483327'>
<a class='timestamp' href='#483327'><time timestamp='2016-07-27T21:49:00Z'>21:49</time></a>
&lt;<span class='nick nick-2'> GitHub132</span>&gt;
[bitcoin] jtimon opened pull request #8413: Trivial: pass Consensus::Params&amp; instead of CChainParams&amp; in ContextualCheckBlock (master...0.13-consensus-last-params) <a href="https://github.com/bitcoin/bitcoin/pull/8413" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8413</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1469657880' id='483328'>
<a class='timestamp' href='#483328'><time timestamp='2016-07-27T22:18:00Z'>22:18</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
btcdrak: quick question <a href="https://github.com/bitcoin/bitcoin/pull/8412#issuecomment-235738474" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8412#issuecomment-235738474</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1469658360' id='483329'>
<a class='timestamp' href='#483329'><time timestamp='2016-07-27T22:26:00Z'>22:26</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
never mind, updated without bip112 at the end
<br>
</div>

<div class='talk op-msg' data-timestamp='1469662320' id='483330'>
<a class='timestamp' href='#483330'><time timestamp='2016-07-27T23:32:00Z'>23:32</time></a>
&lt;<span class='nick nick-2'> GitHub43</span>&gt;
[bitcoin] kazcw opened pull request #8414: prepend license statement to indirectmap.h (master...indirectmap-license) <a href="https://github.com/bitcoin/bitcoin/pull/8414" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8414</a>
<br>
</div>

</div>
</section>

</body>
</html>
