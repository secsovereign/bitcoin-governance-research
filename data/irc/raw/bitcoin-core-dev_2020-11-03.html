<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2020-11-03
 — 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2020-11-03' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:17 UTC</pre>
<pre><a href="/bitcoin-core-dev/2020-10-03">&lt;</a><span class='header'>  November 2020   </span><a href="/bitcoin-core-dev/2020-12-03">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A; <a class="" href="/bitcoin-core-dev/2020-11-01">1</a>  <a class="" href="/bitcoin-core-dev/2020-11-02">2</a>  <a class="current" href="/bitcoin-core-dev/2020-11-03">3</a>  <a class="" href="/bitcoin-core-dev/2020-11-04">4</a>  <a class="" href="/bitcoin-core-dev/2020-11-05">5</a>  <a class="" href="/bitcoin-core-dev/2020-11-06">6</a>  <a class="" href="/bitcoin-core-dev/2020-11-07">7</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2020-11-08">8</a>  <a class="" href="/bitcoin-core-dev/2020-11-09">9</a> <a class="" href="/bitcoin-core-dev/2020-11-10">10</a> <a class="" href="/bitcoin-core-dev/2020-11-11">11</a> <a class="" href="/bitcoin-core-dev/2020-11-12">12</a> <a class="" href="/bitcoin-core-dev/2020-11-13">13</a> <a class="" href="/bitcoin-core-dev/2020-11-14">14</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2020-11-15">15</a> <a class="" href="/bitcoin-core-dev/2020-11-16">16</a> <a class="" href="/bitcoin-core-dev/2020-11-17">17</a> <a class="" href="/bitcoin-core-dev/2020-11-18">18</a> <a class="" href="/bitcoin-core-dev/2020-11-19">19</a> <a class="" href="/bitcoin-core-dev/2020-11-20">20</a> <a class="" href="/bitcoin-core-dev/2020-11-21">21</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2020-11-22">22</a> <a class="" href="/bitcoin-core-dev/2020-11-23">23</a> <a class="" href="/bitcoin-core-dev/2020-11-24">24</a> <a class="" href="/bitcoin-core-dev/2020-11-25">25</a> <a class="" href="/bitcoin-core-dev/2020-11-26">26</a> <a class="" href="/bitcoin-core-dev/2020-11-27">27</a> <a class="" href="/bitcoin-core-dev/2020-11-28">28</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2020-11-29">29</a> <a class="" href="/bitcoin-core-dev/2020-11-30">30</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1604367600' id='411224'>
<a class='timestamp' href='#411224'><time timestamp='2020-11-03T01:40:00Z'>01:40</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] fanquake pushed 5 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/ca1886056325...8387f832d693" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/ca1886056325...8387f832d693</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1604367600' id='411225'>
<a class='timestamp' href='#411225'><time timestamp='2020-11-03T01:40:00Z'>01:40</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master daf5553 Suhas Daftuar: Avoid calling CAddrMan::Connected() on block-relay-only peer addresses
<br>
</div>

<div class='talk op-msg' data-timestamp='1604367600' id='411226'>
<a class='timestamp' href='#411226'><time timestamp='2020-11-03T01:40:00Z'>01:40</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 4fe338a Suhas Daftuar: Call CAddrMan::Good() on block-relay-only peer addresses
<br>
</div>

<div class='talk op-msg' data-timestamp='1604367600' id='411227'>
<a class='timestamp' href='#411227'><time timestamp='2020-11-03T01:40:00Z'>01:40</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master e8b215a Suhas Daftuar: Refactor test for existing peer connection into own function
<br>
</div>

<div class='talk op-msg' data-timestamp='1604367600' id='411228'>
<a class='timestamp' href='#411228'><time timestamp='2020-11-03T01:40:00Z'>01:40</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] fanquake merged pull request #20187: Addrman: test-before-evict bugfix and improvements for block-relay-only peers (master...2020-10-addrman-block-relay) <a href="https://github.com/bitcoin/bitcoin/pull/20187" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20187</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1604373360' id='411229'>
<a class='timestamp' href='#411229'><time timestamp='2020-11-03T03:16:00Z'>03:16</time></a>
&lt;<span class='nick nick-6'> bosch-0</span>&gt;
Yo
<br>
</div>

<div class='talk op-msg' data-timestamp='1604373360' id='411230'>
<a class='timestamp' href='#411230'><time timestamp='2020-11-03T03:16:00Z'>03:16</time></a>
&lt;<span class='nick nick-6'> bosch-0</span>&gt;
Want to have a read of my project before I submit it? <a href="https://github.com/Bosch-0/Project-Muggle/blob/master/README.md" class="link" target="_blank">https://github.com/Bosch-0/Project-Muggle/blob/master/README.md</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1604373360' id='411231'>
<a class='timestamp' href='#411231'><time timestamp='2020-11-03T03:16:00Z'>03:16</time></a>
&lt;<span class='nick nick-6'> bosch-0</span>&gt;
If ya not too busy
<br>
</div>

<div class='talk op-msg' data-timestamp='1604379600' id='411232'>
<a class='timestamp' href='#411232'><time timestamp='2020-11-03T05:00:00Z'>05:00</time></a>
&lt;<span class='nick nick-3'> S3RK</span>&gt;
question about fuzzing. we use regtest chain params, but in corups for src/test/fuzz/descriptor_parse.cpp I see xprv keys. As a result fuzzing don&#x27;t cover code paths with valid keys for bip32 decriptors. I tried to add initial seeds with tprv, but fuzzer doesn&#x27;t detect any new edges covered. What do I miss?
<br>
</div>

<div class='talk op-msg' data-timestamp='1604391480' id='411233'>
<a class='timestamp' href='#411233'><time timestamp='2020-11-03T08:18:00Z'>08:18</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke pushed 2 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/8387f832d693...5174b534da57" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/8387f832d693...5174b534da57</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1604391480' id='411234'>
<a class='timestamp' href='#411234'><time timestamp='2020-11-03T08:18:00Z'>08:18</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master c2cf8a1 practicalswift: fuzz: Check for addrv1 compatibility before using addrv1 serializer on CSe...
<br>
</div>

<div class='talk op-msg' data-timestamp='1604391480' id='411235'>
<a class='timestamp' href='#411235'><time timestamp='2020-11-03T08:18:00Z'>08:18</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 5174b53 MarcoFalke: Merge #20289: fuzz: Check for addrv1 compatibility before using addrv1 ser...
<br>
</div>

<div class='talk op-msg' data-timestamp='1604391480' id='411236'>
<a class='timestamp' href='#411236'><time timestamp='2020-11-03T08:18:00Z'>08:18</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke merged pull request #20289: fuzz: Check for addrv1 compatibility before using addrv1 serializer/deserializer on CService (master...fuzzers-service_deserialize-addrv2) <a href="https://github.com/bitcoin/bitcoin/pull/20289" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20289</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1604393460' id='411237'>
<a class='timestamp' href='#411237'><time timestamp='2020-11-03T08:51:00Z'>08:51</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke pushed 2 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/5174b534da57...218fe60d91a9" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/5174b534da57...218fe60d91a9</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1604393460' id='411238'>
<a class='timestamp' href='#411238'><time timestamp='2020-11-03T08:51:00Z'>08:51</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 28f8cb1 practicalswift: fuzz: Fix DecodeHexTx fuzzing harness issue
<br>
</div>

<div class='talk op-msg' data-timestamp='1604393460' id='411239'>
<a class='timestamp' href='#411239'><time timestamp='2020-11-03T08:51:00Z'>08:51</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 218fe60 MarcoFalke: Merge #20290: fuzz: Fix DecodeHexTx fuzzing harness issue
<br>
</div>

<div class='talk op-msg' data-timestamp='1604393460' id='411240'>
<a class='timestamp' href='#411240'><time timestamp='2020-11-03T08:51:00Z'>08:51</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke merged pull request #20290: fuzz: Fix DecodeHexTx fuzzing harness issue (master...fuzzers-decode_tx-fixup) <a href="https://github.com/bitcoin/bitcoin/pull/20290" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20290</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1604394780' id='411241'>
<a class='timestamp' href='#411241'><time timestamp='2020-11-03T09:13:00Z'>09:13</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
the meeting topics link in the IRC topic of this channel is no longer being updated. I created a wiki entry to collect meeting topics: <a href="https://github.com/bitcoin-core/bitcoin-devwiki/wiki/General-IRC-meeting" class="link" target="_blank">https://github.com/bitcoin-core/bitcoin-devwiki/wiki/General-IRC-meeting</a> 
<br>
</div>

<div class='talk op-msg' data-timestamp='1604394840' id='411242'>
<a class='timestamp' href='#411242'><time timestamp='2020-11-03T09:14:00Z'>09:14</time></a>
&lt;<span class='nick nick-14'> jonatack</span>&gt;
MarcoFalke: <a href="http://gnusha.org/bitcoin-core-dev/proposedmeetingtopics.txt" class="link" target="_blank">http://gnusha.org/bitcoin-core-dev/proposedmeetingtopics.txt</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1604394900' id='411243'>
<a class='timestamp' href='#411243'><time timestamp='2020-11-03T09:15:00Z'>09:15</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
jonatack: Oh thanks. Didn&#x27;t know this existed
<br>
</div>

<div class='talk op-msg' data-timestamp='1604394960' id='411244'>
<a class='timestamp' href='#411244'><time timestamp='2020-11-03T09:16:00Z'>09:16</time></a>
&lt;<span class='nick nick-14'> jonatack</span>&gt;
MarcoFalke: same, I saw achow101 mention it a couple weeks ago
<br>
</div>

<div class='talk op-msg' data-timestamp='1604394960' id='411245'>
<a class='timestamp' href='#411245'><time timestamp='2020-11-03T09:16:00Z'>09:16</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
Well, could make sense to adjust the link for that then ;)
<br>
</div>

<div class='talk op-msg' data-timestamp='1604394960' id='411246'>
<a class='timestamp' href='#411246'><time timestamp='2020-11-03T09:16:00Z'>09:16</time></a>
&lt;<span class='nick nick-14'> jonatack</span>&gt;
MarcoFalke: maybe add <a href="http://gnusha.org/bitcoin-core-dev/proposedwalletmeetingtopics.txt" class="link" target="_blank">http://gnusha.org/bitcoin-core-dev/proposedwalletmeetingtopics.txt</a> too
<br>
</div>

<div class='talk op-msg' data-timestamp='1604395140' id='411247'>
<a class='timestamp' href='#411247'><time timestamp='2020-11-03T09:19:00Z'>09:19</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
anyone know who can edit the IRC topic? ping wumpus sipa
<br>
</div>

<div class='talk op-msg' data-timestamp='1604395200' id='411248'>
<a class='timestamp' href='#411248'><time timestamp='2020-11-03T09:20:00Z'>09:20</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jnewbery opened pull request #20291: [net] Consolidate logic around calling CAddrMan::Connected() (master...2020-11-consolidate-addrman-connect) <a href="https://github.com/bitcoin/bitcoin/pull/20291" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20291</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1604395260' id='411249'>
<a class='timestamp' href='#411249'><time timestamp='2020-11-03T09:21:00Z'>09:21</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jonatack closed pull request #20288: script, doc: contrib/seeds updates (master...contrib-seeds-fixups) <a href="https://github.com/bitcoin/bitcoin/pull/20288" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20288</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1604399940' id='411250'>
<a class='timestamp' href='#411250'><time timestamp='2020-11-03T10:39:00Z'>10:39</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke opened pull request #20292: test: Fix intermittent feature_taproot issue (master...2011-testFixes) <a href="https://github.com/bitcoin/bitcoin/pull/20292" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20292</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1604405640' id='411251'>
<a class='timestamp' href='#411251'><time timestamp='2020-11-03T12:14:00Z'>12:14</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke opened pull request #20294: ci: Run more ci configs on cirrus (master...2011-ciCirrus) <a href="https://github.com/bitcoin/bitcoin/pull/20294" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20294</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1604410740' id='411252'>
<a class='timestamp' href='#411252'><time timestamp='2020-11-03T13:39:00Z'>13:39</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] Sjors opened pull request #20295: rpc: getblockfrompeer (master...2020/11/getblockfrompeer) <a href="https://github.com/bitcoin/bitcoin/pull/20295" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20295</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1604410980' id='411253'>
<a class='timestamp' href='#411253'><time timestamp='2020-11-03T13:43:00Z'>13:43</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
MarcoFalke: I can, what would you like to change?
<br>
</div>

<div class='talk op-msg' data-timestamp='1604412240' id='411254'>
<a class='timestamp' href='#411254'><time timestamp='2020-11-03T14:04:00Z'>14:04</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 3 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/218fe60d91a9...95bde34a7186" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/218fe60d91a9...95bde34a7186</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1604412240' id='411255'>
<a class='timestamp' href='#411255'><time timestamp='2020-11-03T14:04:00Z'>14:04</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 36e875b RandyMcMillan: contrib: Add new versions to makeseeds.py and update gitignore
<br>
</div>

<div class='talk op-msg' data-timestamp='1604412240' id='411256'>
<a class='timestamp' href='#411256'><time timestamp='2020-11-03T14:04:00Z'>14:04</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 6866259 Wladimir J. van der Laan: net: Hardcoded seeds update for 0.21
<br>
</div>

<div class='talk op-msg' data-timestamp='1604412240' id='411257'>
<a class='timestamp' href='#411257'><time timestamp='2020-11-03T14:04:00Z'>14:04</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 95bde34 Wladimir J. van der Laan: Merge #20237: net: Hardcoded seeds update for 0.21
<br>
</div>

<div class='talk op-msg' data-timestamp='1604412300' id='411258'>
<a class='timestamp' href='#411258'><time timestamp='2020-11-03T14:05:00Z'>14:05</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj merged pull request #20237: net: Hardcoded seeds update for 0.21  (master...2020_10_seeds_update) <a href="https://github.com/bitcoin/bitcoin/pull/20237" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20237</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1604413980' id='411259'>
<a class='timestamp' href='#411259'><time timestamp='2020-11-03T14:33:00Z'>14:33</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
wumpus: replace <a href="https://gist.github.com/moneyball/071d608fdae217c2a6d7c35955881d8a" class="link" target="_blank">https://gist.github.com/moneyball/071d608fdae217c2a6d7c35955881d8a</a> with <a href="http://gnusha.org/bitcoin-core-dev/proposedmeetingtopics.txt" class="link" target="_blank">http://gnusha.org/bitcoin-core-dev/proposedmeetingtopics.txt</a> / <a href="http://gnusha.org/bitcoin-core-dev/proposedwalletmeetingtopics.txt" class="link" target="_blank">http://gnusha.org/bitcoin-core-dev/proposedwalletmeetingtopics.txt</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1604413980' id='411260'>
<a class='timestamp' href='#411260'><time timestamp='2020-11-03T14:33:00Z'>14:33</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
ok
<br>
</div>

<div class='talk op-msg' data-timestamp='1604414040' id='411261'>
<a class='timestamp' href='#411261'><time timestamp='2020-11-03T14:34:00Z'>14:34</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
Hi folks. Reminder that we have a P2P irc meeting in just under half an hour. Proposed topics are here: <a href="https://github.com/bitcoin-core/bitcoin-devwiki/wiki/P2P-IRC-meetings#03-nov-2020" class="link" target="_blank">https://github.com/bitcoin-core/bitcoin-devwiki/wiki/P2P-IRC-meetings#03-nov-2020</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1604414040' id='411262'>
<a class='timestamp' href='#411262'><time timestamp='2020-11-03T14:34:00Z'>14:34</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/03" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/03</a> | Encrypt wallet · Issue #3 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1604414640' id='411263'>
<a class='timestamp' href='#411263'><time timestamp='2020-11-03T14:44:00Z'>14:44</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
thanks
<br>
</div>

<div class='talk op-msg' data-timestamp='1604415600' id='411264'>
<a class='timestamp' href='#411264'><time timestamp='2020-11-03T15:00:00Z'>15:00</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1604415600' id='411265'>
<a class='timestamp' href='#411265'><time timestamp='2020-11-03T15:00:00Z'>15:00</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
#startmeeting
<br>
</div>

<div class='talk op-msg' data-timestamp='1604415600' id='411266'>
<a class='timestamp' href='#411266'><time timestamp='2020-11-03T15:00:00Z'>15:00</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
#bitcoin-core-dev P2P Meeting: wumpus sipa gmaxwell jonasschnelli morcos luke-jr sdaftuar jtimon cfields petertodd kanzure bluematt instagibbs phantomcircuit codeshark michagogo marcofalke paveljanik NicolasDorier jl2012 achow101 meshcollider jnewbery maaku fanquake promag provoostenator aj Chris_Stewart_5 dongcarl gwillen jamesob ken281221 ryanofsky gleb moneyball kvaciral ariard digi_james 
<br>
</div>

<div class='talk op-msg' data-timestamp='1604415600' id='411267'>
<a class='timestamp' href='#411267'><time timestamp='2020-11-03T15:00:00Z'>15:00</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1604415600' id='411268'>
<a class='timestamp' href='#411268'><time timestamp='2020-11-03T15:00:00Z'>15:00</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
amiti fjahr jeremyrubin lightlike emilengler jonatack hebasto jb55 elichai2
<br>
</div>

<div class='talk op-msg' data-timestamp='1604415600' id='411269'>
<a class='timestamp' href='#411269'><time timestamp='2020-11-03T15:00:00Z'>15:00</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1604415600' id='411270'>
<a class='timestamp' href='#411270'><time timestamp='2020-11-03T15:00:00Z'>15:00</time></a>
&lt;<span class='nick nick-16'> emzy</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1604415660' id='411271'>
<a class='timestamp' href='#411271'><time timestamp='2020-11-03T15:01:00Z'>15:01</time></a>
&lt;<span class='nick nick-3'> aj</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1604415660' id='411272'>
<a class='timestamp' href='#411272'><time timestamp='2020-11-03T15:01:00Z'>15:01</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
that ping thing is like a blockchain. It only gets longer, never shorter
<br>
</div>

<div class='talk op-msg' data-timestamp='1604415660' id='411273'>
<a class='timestamp' href='#411273'><time timestamp='2020-11-03T15:01:00Z'>15:01</time></a>
&lt;<span class='nick nick-10'> ariard</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1604415660' id='411274'>
<a class='timestamp' href='#411274'><time timestamp='2020-11-03T15:01:00Z'>15:01</time></a>
&lt;<span class='nick nick-11'> lightlike</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1604415660' id='411275'>
<a class='timestamp' href='#411275'><time timestamp='2020-11-03T15:01:00Z'>15:01</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1604415660' id='411276'>
<a class='timestamp' href='#411276'><time timestamp='2020-11-03T15:01:00Z'>15:01</time></a>
&lt;<span class='nick nick-14'> jonatack</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1604415660' id='411277'>
<a class='timestamp' href='#411277'><time timestamp='2020-11-03T15:01:00Z'>15:01</time></a>
&lt;<span class='nick nick-4'> kanzure</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1604415660' id='411278'>
<a class='timestamp' href='#411278'><time timestamp='2020-11-03T15:01:00Z'>15:01</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
proposed topics are here: <a href="https://github.com/bitcoin-core/bitcoin-devwiki/wiki/P2P-IRC-meetings#03-nov-2020" class="link" target="_blank">https://github.com/bitcoin-core/bitcoin-devwiki/wiki/P2P-IRC-meetings#03-nov-2020</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1604415660' id='411279'>
<a class='timestamp' href='#411279'><time timestamp='2020-11-03T15:01:00Z'>15:01</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/03" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/03</a> | Encrypt wallet · Issue #3 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1604415720' id='411280'>
<a class='timestamp' href='#411280'><time timestamp='2020-11-03T15:02:00Z'>15:02</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
Does anyone have any more topics that they want to propose now, or any general updates they want to give?
<br>
</div>

<div class='talk op-msg' data-timestamp='1604415720' id='411281'>
<a class='timestamp' href='#411281'><time timestamp='2020-11-03T15:02:00Z'>15:02</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
i just wanted to review beg #19858
<br>
</div>

<div class='talk op-msg' data-timestamp='1604415720' id='411282'>
<a class='timestamp' href='#411282'><time timestamp='2020-11-03T15:02:00Z'>15:02</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/19858" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/19858</a> | Periodically make block-relay connections and sync headers by sdaftuar · Pull Request #19858 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1604415780' id='411283'>
<a class='timestamp' href='#411283'><time timestamp='2020-11-03T15:03:00Z'>15:03</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
i&#x27;ve started to now page that PR out of my memory, so would like to make progress before i totally forget what ti is :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1604415780' id='411284'>
<a class='timestamp' href='#411284'><time timestamp='2020-11-03T15:03:00Z'>15:03</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
I think we haven&#x27;t branched 0.21 yet, so we&#x27;re still in feature freeze, right?
<br>
</div>

<div class='talk op-msg' data-timestamp='1604415780' id='411285'>
<a class='timestamp' href='#411285'><time timestamp='2020-11-03T15:03:00Z'>15:03</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
right
<br>
</div>

<div class='talk op-msg' data-timestamp='1604415780' id='411286'>
<a class='timestamp' href='#411286'><time timestamp='2020-11-03T15:03:00Z'>15:03</time></a>
&lt;<span class='nick nick-3'> aj</span>&gt;
branch is due pretty soon though?
<br>
</div>

<div class='talk op-msg' data-timestamp='1604415780' id='411287'>
<a class='timestamp' href='#411287'><time timestamp='2020-11-03T15:03:00Z'>15:03</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
i assume so -- but i think if we collect acks now it could merge shortly after?
<br>
</div>

<div class='talk op-msg' data-timestamp='1604415780' id='411288'>
<a class='timestamp' href='#411288'><time timestamp='2020-11-03T15:03:00Z'>15:03</time></a>
&lt;<span class='nick nick-8'> amiti</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1604415840' id='411289'>
<a class='timestamp' href='#411289'><time timestamp='2020-11-03T15:04:00Z'>15:04</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
kinda curious about the status of p2p encryption
<br>
</div>

<div class='talk op-msg' data-timestamp='1604415840' id='411290'>
<a class='timestamp' href='#411290'><time timestamp='2020-11-03T15:04:00Z'>15:04</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
but jonas isn&#x27;t here
<br>
</div>

<div class='talk op-msg' data-timestamp='1604415840' id='411291'>
<a class='timestamp' href='#411291'><time timestamp='2020-11-03T15:04:00Z'>15:04</time></a>
&lt;<span class='nick nick-10'> ariard</span>&gt;
noted, I&#x27;ll reack it
<br>
</div>

<div class='talk op-msg' data-timestamp='1604415840' id='411292'>
<a class='timestamp' href='#411292'><time timestamp='2020-11-03T15:04:00Z'>15:04</time></a>
&lt;<span class='nick nick-14'> jonatack</span>&gt;
#18242 was just rebased and it builds cleanly
<br>
</div>

<div class='talk op-msg' data-timestamp='1604415840' id='411293'>
<a class='timestamp' href='#411293'><time timestamp='2020-11-03T15:04:00Z'>15:04</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes, feature freeze is only about what is merged, not what is reviewed :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1604415840' id='411294'>
<a class='timestamp' href='#411294'><time timestamp='2020-11-03T15:04:00Z'>15:04</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/18242" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/18242</a> | Add BIP324 encrypted p2p transport de-/serializer (only used in tests) by jonasschnelli · Pull Request #18242 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1604415840' id='411295'>
<a class='timestamp' href='#411295'><time timestamp='2020-11-03T15:04:00Z'>15:04</time></a>
&lt;<span class='nick nick-3'> aj</span>&gt;
&quot;2020-11-01 split off 0.21&quot; per 18947
<br>
</div>

<div class='talk op-msg' data-timestamp='1604415840' id='411296'>
<a class='timestamp' href='#411296'><time timestamp='2020-11-03T15:04:00Z'>15:04</time></a>
&lt;<span class='nick nick-14'> jonatack</span>&gt;
(would be good to move it forward for 0.22)
<br>
</div>

<div class='talk op-msg' data-timestamp='1604415840' id='411297'>
<a class='timestamp' href='#411297'><time timestamp='2020-11-03T15:04:00Z'>15:04</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
wumpus: while you&#x27;re here, what&#x27;s your expectation for when 0.21 will be branched?
<br>
</div>

<div class='talk op-msg' data-timestamp='1604415900' id='411298'>
<a class='timestamp' href='#411298'><time timestamp='2020-11-03T15:05:00Z'>15:05</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
there&#x27;s still quite a list of PRs tagged with 0.21.0, these either need to be merged or removed from the milestone first <a href="https://github.com/bitcoin/bitcoin/pulls?q=is%3Aopen+is%3Apr+milestone%3A0.21.0" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pulls?q=is%3Aopen+is%3Apr+milestone%3A0.21.0</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1604415960' id='411299'>
<a class='timestamp' href='#411299'><time timestamp='2020-11-03T15:06:00Z'>15:06</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
but I hope some time next week
<br>
</div>

<div class='talk op-msg' data-timestamp='1604415960' id='411300'>
<a class='timestamp' href='#411300'><time timestamp='2020-11-03T15:06:00Z'>15:06</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
thanks!
<br>
</div>

<div class='talk op-msg' data-timestamp='1604415960' id='411301'>
<a class='timestamp' href='#411301'><time timestamp='2020-11-03T15:06:00Z'>15:06</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
next general meeting we should go over the list
<br>
</div>

<div class='talk op-msg' data-timestamp='1604415960' id='411302'>
<a class='timestamp' href='#411302'><time timestamp='2020-11-03T15:06:00Z'>15:06</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
ok, onto the topics
<br>
</div>

<div class='talk op-msg' data-timestamp='1604415960' id='411303'>
<a class='timestamp' href='#411303'><time timestamp='2020-11-03T15:06:00Z'>15:06</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
#topic addrman file versioning
<br>
</div>

<div class='talk op-msg' data-timestamp='1604416020' id='411304'>
<a class='timestamp' href='#411304'><time timestamp='2020-11-03T15:07:00Z'>15:07</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
jnewbery: how did you suddenly come to the realization that old versions are not guaranteed to fail the parsing, out of the blue?
<br>
</div>

<div class='talk op-msg' data-timestamp='1604416080' id='411305'>
<a class='timestamp' href='#411305'><time timestamp='2020-11-03T15:08:00Z'>15:08</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
#19954 meant that in future it won&#x27;t be possible to do forwards-compatible changes to the peers.dat format. #20284 is suggested as a way to allow that again.
<br>
</div>

<div class='talk op-msg' data-timestamp='1604416080' id='411306'>
<a class='timestamp' href='#411306'><time timestamp='2020-11-03T15:08:00Z'>15:08</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/19954" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/19954</a> | Complete the BIP155 implementation and upgrade to TORv3 by vasild · Pull Request #19954 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1604416080' id='411307'>
<a class='timestamp' href='#411307'><time timestamp='2020-11-03T15:08:00Z'>15:08</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/20284" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/20284</a> | addrman: ensure old versions dont parse peers.dat by vasild · Pull Request #20284 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1604416080' id='411308'>
<a class='timestamp' href='#411308'><time timestamp='2020-11-03T15:08:00Z'>15:08</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
vasild: I hadn&#x27;t reviewed 19954 before
<br>
</div>

<div class='talk op-msg' data-timestamp='1604416080' id='411309'>
<a class='timestamp' href='#411309'><time timestamp='2020-11-03T15:08:00Z'>15:08</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
I started looking at the addrman code this weekend
<br>
</div>

<div class='talk op-msg' data-timestamp='1604416140' id='411310'>
<a class='timestamp' href='#411310'><time timestamp='2020-11-03T15:09:00Z'>15:09</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
actually in the future it will be possible to make forward-compatible changes, but the format version must not be incremented
<br>
</div>

<div class='talk op-msg' data-timestamp='1604416140' id='411311'>
<a class='timestamp' href='#411311'><time timestamp='2020-11-03T15:09:00Z'>15:09</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
forwards compatible? do you mean backwards compatible?
<br>
</div>

<div class='talk op-msg' data-timestamp='1604416140' id='411312'>
<a class='timestamp' href='#411312'><time timestamp='2020-11-03T15:09:00Z'>15:09</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
i&#x27;m confused why we can&#x27;t write future code to parse whatever we need to
<br>
</div>

<div class='talk op-msg' data-timestamp='1604416140' id='411313'>
<a class='timestamp' href='#411313'><time timestamp='2020-11-03T15:09:00Z'>15:09</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
backward compatible
<br>
</div>

<div class='talk op-msg' data-timestamp='1604416140' id='411314'>
<a class='timestamp' href='#411314'><time timestamp='2020-11-03T15:09:00Z'>15:09</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
sdaftuar: I mean forwards compatible, i.e. you can upgrade, make changes to peers.dat and then downgrade and still parse peers.dat
<br>
</div>

<div class='talk op-msg' data-timestamp='1604416200' id='411315'>
<a class='timestamp' href='#411315'><time timestamp='2020-11-03T15:10:00Z'>15:10</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
that really sounds like backwards compatible to me, but thanks for clarifying what you mean
<br>
</div>

<div class='talk op-msg' data-timestamp='1604416200' id='411316'>
<a class='timestamp' href='#411316'><time timestamp='2020-11-03T15:10:00Z'>15:10</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
I believe we generally want to allow people to downgrade at least one version, right? So people can back out upgrades
<br>
</div>

<div class='talk op-msg' data-timestamp='1604416200' id='411317'>
<a class='timestamp' href='#411317'><time timestamp='2020-11-03T15:10:00Z'>15:10</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
the current code supports maximum format=3 and if it sees format=4 it will refuse to parse it
<br>
</div>

<div class='talk op-msg' data-timestamp='1604416200' id='411318'>
<a class='timestamp' href='#411318'><time timestamp='2020-11-03T15:10:00Z'>15:10</time></a>
&lt;<span class='nick nick-14'> hebasto</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1604416200' id='411319'>
<a class='timestamp' href='#411319'><time timestamp='2020-11-03T15:10:00Z'>15:10</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
I think backwards compatible would mean that we&#x27;re able to read old versions of peers.dat, which obviously we can always guarantee
<br>
</div>

<div class='talk op-msg' data-timestamp='1604416200' id='411320'>
<a class='timestamp' href='#411320'><time timestamp='2020-11-03T15:10:00Z'>15:10</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
forwards compatible means that we&#x27;re flexible with future peers.dat formatting
<br>
</div>

<div class='talk op-msg' data-timestamp='1604416260' id='411321'>
<a class='timestamp' href='#411321'><time timestamp='2020-11-03T15:11:00Z'>15:11</time></a>
&lt;<span class='nick nick-14'> jonatack</span>&gt;
jnewbery: yes, i was reporting issues with that (upgrading, then downgrading) in 19954 iirc
<br>
</div>

<div class='talk op-msg' data-timestamp='1604416260' id='411322'>
<a class='timestamp' href='#411322'><time timestamp='2020-11-03T15:11:00Z'>15:11</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
vasild: right, so the current code on master is not forwards compatible with formats &gt; 4
<br>
</div>

<div class='talk op-msg' data-timestamp='1604416320' id='411323'>
<a class='timestamp' href='#411323'><time timestamp='2020-11-03T15:12:00Z'>15:12</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
&gt;= 4
<br>
</div>

<div class='talk op-msg' data-timestamp='1604416320' id='411324'>
<a class='timestamp' href='#411324'><time timestamp='2020-11-03T15:12:00Z'>15:12</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
sorry yes, &gt;= 4
<br>
</div>

<div class='talk op-msg' data-timestamp='1604416320' id='411325'>
<a class='timestamp' href='#411325'><time timestamp='2020-11-03T15:12:00Z'>15:12</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
yes, if changes are made to the format it must stay at format=3 if we want 0.21 to parse it
<br>
</div>

<div class='talk op-msg' data-timestamp='1604416320' id='411326'>
<a class='timestamp' href='#411326'><time timestamp='2020-11-03T15:12:00Z'>15:12</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
(as of the current master)
<br>
</div>

<div class='talk op-msg' data-timestamp='1604416380' id='411327'>
<a class='timestamp' href='#411327'><time timestamp='2020-11-03T15:13:00Z'>15:13</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
it would be annoying if users lost their addrman upgrading or downgrading
<br>
</div>

<div class='talk op-msg' data-timestamp='1604416380' id='411328'>
<a class='timestamp' href='#411328'><time timestamp='2020-11-03T15:13:00Z'>15:13</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
pr20284 changes that
<br>
</div>

<div class='talk op-msg' data-timestamp='1604416380' id='411329'>
<a class='timestamp' href='#411329'><time timestamp='2020-11-03T15:13:00Z'>15:13</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
luke-jr: they already lost part of their addrman upgrading to 0.20 because of <a href="https://github.com/bitcoin/bitcoin/pull/16702#discussion_r515608294" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/16702#discussion_r515608294</a>, but I guess no-one noticed
<br>
</div>

<div class='talk op-msg' data-timestamp='1604416380' id='411330'>
<a class='timestamp' href='#411330'><time timestamp='2020-11-03T15:13:00Z'>15:13</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
:/
<br>
</div>

<div class='talk op-msg' data-timestamp='1604416500' id='411331'>
<a class='timestamp' href='#411331'><time timestamp='2020-11-03T15:15:00Z'>15:15</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
pr20284 makes it possible to say in peers.dat &quot;this is format=5, but anybody who can read format=3 can also read this one&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1604416560' id='411332'>
<a class='timestamp' href='#411332'><time timestamp='2020-11-03T15:16:00Z'>15:16</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
maybe the filename should just be changed if that&#x27;s not the case, in the future?
<br>
</div>

<div class='talk op-msg' data-timestamp='1604416560' id='411333'>
<a class='timestamp' href='#411333'><time timestamp='2020-11-03T15:16:00Z'>15:16</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
vasild: yes, that&#x27;s the functionality we want before the 0.21 release. Just want to make sure people are happy with repurposing nKeySize for versioning.
<br>
</div>

<div class='talk op-msg' data-timestamp='1604416620' id='411334'>
<a class='timestamp' href='#411334'><time timestamp='2020-11-03T15:17:00Z'>15:17</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
jnewbery: sorry if this is a digression, but i might be misunderstanding the issue in #16702 -- it looks like the version check there just causes potential rebucketing, not losing addresses?
<br>
</div>

<div class='talk op-msg' data-timestamp='1604416620' id='411335'>
<a class='timestamp' href='#411335'><time timestamp='2020-11-03T15:17:00Z'>15:17</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/16702" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/16702</a> | p2p: supplying and using asmap to improve IP bucketing in addrman by naumenkogs · Pull Request #16702 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1604416620' id='411336'>
<a class='timestamp' href='#411336'><time timestamp='2020-11-03T15:17:00Z'>15:17</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I think it&#x27;s a hack but also a clever way of doing so, and he also introduces a real versioning mechanism for next time, so it&#x27;s only for once
<br>
</div>

<div class='talk op-msg' data-timestamp='1604416620' id='411337'>
<a class='timestamp' href='#411337'><time timestamp='2020-11-03T15:17:00Z'>15:17</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
so the issue that does appear to be there is that downgrading after running 0.20 may be a problem
<br>
</div>

<div class='talk op-msg' data-timestamp='1604416680' id='411338'>
<a class='timestamp' href='#411338'><time timestamp='2020-11-03T15:18:00Z'>15:18</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
sdaftuar: it means that entries in new tables can only appear in one new table (or even zero if there&#x27;s a collision)
<br>
</div>

<div class='talk op-msg' data-timestamp='1604416680' id='411339'>
<a class='timestamp' href='#411339'><time timestamp='2020-11-03T15:18:00Z'>15:18</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
definitely don&#x27;t have any alternative proposals
<br>
</div>

<div class='talk op-msg' data-timestamp='1604416680' id='411340'>
<a class='timestamp' href='#411340'><time timestamp='2020-11-03T15:18:00Z'>15:18</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
the point of the serialization format is that entries can appear in multiple new tables
<br>
</div>

<div class='talk op-msg' data-timestamp='1604416680' id='411341'>
<a class='timestamp' href='#411341'><time timestamp='2020-11-03T15:18:00Z'>15:18</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
luke-jr: right, filename change is another option
<br>
</div>

<div class='talk op-msg' data-timestamp='1604416680' id='411342'>
<a class='timestamp' href='#411342'><time timestamp='2020-11-03T15:18:00Z'>15:18</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
wumpus: we could rename the peers.dat file for 0.21, and migrate data from the old file to the new one?
<br>
</div>

<div class='talk op-msg' data-timestamp='1604416740' id='411343'>
<a class='timestamp' href='#411343'><time timestamp='2020-11-03T15:19:00Z'>15:19</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
sdaftuar: that&#x27;s a good suggestion too
<br>
</div>

<div class='talk op-msg' data-timestamp='1604416740' id='411344'>
<a class='timestamp' href='#411344'><time timestamp='2020-11-03T15:19:00Z'>15:19</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
jnewbery: hmm i need to read that more carefully then.
<br>
</div>

<div class='talk op-msg' data-timestamp='1604416740' id='411345'>
<a class='timestamp' href='#411345'><time timestamp='2020-11-03T15:19:00Z'>15:19</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
sdaftuar: that would definitely prevent being able to keep your addrman data over a downgrade
<br>
</div>

<div class='talk op-msg' data-timestamp='1604416800' id='411346'>
<a class='timestamp' href='#411346'><time timestamp='2020-11-03T15:20:00Z'>15:20</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
though it&#x27;d require updating a lot of documentation all over the place describing bitcoin core&#x27;s files
<br>
</div>

<div class='talk op-msg' data-timestamp='1604416800' id='411347'>
<a class='timestamp' href='#411347'><time timestamp='2020-11-03T15:20:00Z'>15:20</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
everyone is used to &quot;peers.dat&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1604416800' id='411348'>
<a class='timestamp' href='#411348'><time timestamp='2020-11-03T15:20:00Z'>15:20</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
how often does anyone mess with peers.dat directly?
<br>
</div>

<div class='talk op-msg' data-timestamp='1604416800' id='411349'>
<a class='timestamp' href='#411349'><time timestamp='2020-11-03T15:20:00Z'>15:20</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I have no idea
<br>
</div>

<div class='talk op-msg' data-timestamp='1604416860' id='411350'>
<a class='timestamp' href='#411350'><time timestamp='2020-11-03T15:21:00Z'>15:21</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
btw, I did consider the file name change, but preferred the versioning inside the file, instead of using the filesystem for versioning
<br>
</div>

<div class='talk op-msg' data-timestamp='1604416860' id='411351'>
<a class='timestamp' href='#411351'><time timestamp='2020-11-03T15:21:00Z'>15:21</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes, I slightly prefer this as well
<br>
</div>

<div class='talk op-msg' data-timestamp='1604416860' id='411352'>
<a class='timestamp' href='#411352'><time timestamp='2020-11-03T15:21:00Z'>15:21</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
i think it&#x27;s okay if once in a while we have to give users annoying instructions for downgrading.
<br>
</div>

<div class='talk op-msg' data-timestamp='1604416860' id='411353'>
<a class='timestamp' href='#411353'><time timestamp='2020-11-03T15:21:00Z'>15:21</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
IMO it depends on compatibility
<br>
</div>

<div class='talk op-msg' data-timestamp='1604416920' id='411354'>
<a class='timestamp' href='#411354'><time timestamp='2020-11-03T15:22:00Z'>15:22</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
if downgrading doesn&#x27;t lose the address book, same filename is good; otherwise, a new name avoids losing the old addrman for the old ver
<br>
</div>

<div class='talk op-msg' data-timestamp='1604416920' id='411355'>
<a class='timestamp' href='#411355'><time timestamp='2020-11-03T15:22:00Z'>15:22</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
what would the annoying instructions be?
<br>
</div>

<div class='talk op-msg' data-timestamp='1604416920' id='411356'>
<a class='timestamp' href='#411356'><time timestamp='2020-11-03T15:22:00Z'>15:22</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
we could add a tool that either converts formats, or an RPC or something
<br>
</div>

<div class='talk op-msg' data-timestamp='1604416920' id='411357'>
<a class='timestamp' href='#411357'><time timestamp='2020-11-03T15:22:00Z'>15:22</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
^
<br>
</div>

<div class='talk op-msg' data-timestamp='1604416920' id='411358'>
<a class='timestamp' href='#411358'><time timestamp='2020-11-03T15:22:00Z'>15:22</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
sdaftuar: as I understand older versions will just ignore the incompatible peers.dat, and create a new empty one. But yes I agree. Downgrading is quite a rare event anyhow.
<br>
</div>

<div class='talk op-msg' data-timestamp='1604416920' id='411359'>
<a class='timestamp' href='#411359'><time timestamp='2020-11-03T15:22:00Z'>15:22</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
ew
<br>
</div>

<div class='talk op-msg' data-timestamp='1604416980' id='411360'>
<a class='timestamp' href='#411360'><time timestamp='2020-11-03T15:23:00Z'>15:23</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
what did we do the last time we changed block file name conventions?
<br>
</div>

<div class='talk op-msg' data-timestamp='1604416980' id='411361'>
<a class='timestamp' href='#411361'><time timestamp='2020-11-03T15:23:00Z'>15:23</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
sdaftuar: no one is going to go through that much work for their peers table
<br>
</div>

<div class='talk op-msg' data-timestamp='1604416980' id='411362'>
<a class='timestamp' href='#411362'><time timestamp='2020-11-03T15:23:00Z'>15:23</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
sdaftuar: iirc hard linked
<br>
</div>

<div class='talk op-msg' data-timestamp='1604416980' id='411363'>
<a class='timestamp' href='#411363'><time timestamp='2020-11-03T15:23:00Z'>15:23</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
luke-jr: that doesn&#x27;t sound backwards compatible?
<br>
</div>

<div class='talk op-msg' data-timestamp='1604416980' id='411364'>
<a class='timestamp' href='#411364'><time timestamp='2020-11-03T15:23:00Z'>15:23</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
why not?
<br>
</div>

<div class='talk op-msg' data-timestamp='1604417040' id='411365'>
<a class='timestamp' href='#411365'><time timestamp='2020-11-03T15:24:00Z'>15:24</time></a>
&lt;<span class='nick nick-14'> jonatack</span>&gt;
I must have lost my peers.dat a couple dozen times while testing the addrv2 PRs. within the next year, anyone still using tor v2 will be forced to upgrade to 0.21 anyway.
<br>
</div>

<div class='talk op-msg' data-timestamp='1604417040' id='411366'>
<a class='timestamp' href='#411366'><time timestamp='2020-11-03T15:24:00Z'>15:24</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
oh we hardlinked new and old filenames together, i see
<br>
</div>

<div class='talk op-msg' data-timestamp='1604417040' id='411367'>
<a class='timestamp' href='#411367'><time timestamp='2020-11-03T15:24:00Z'>15:24</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I&#x27;m not sure it makes sense to extensively describe alternatives here, we have vasild&#x27;s work, unless someone really strongly disagrees with it let&#x27;s review it and get it merged asap
<br>
</div>

<div class='talk op-msg' data-timestamp='1604417040' id='411368'>
<a class='timestamp' href='#411368'><time timestamp='2020-11-03T15:24:00Z'>15:24</time></a>
&lt;<span class='nick nick-14'> jonatack</span>&gt;
unless they don&#x27;t use tor
<br>
</div>

<div class='talk op-msg' data-timestamp='1604417040' id='411369'>
<a class='timestamp' href='#411369'><time timestamp='2020-11-03T15:24:00Z'>15:24</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
I don&#x27;t think there&#x27;s any need to change file names. It should be perfectly possible to have internal versioning for changes that are forwards compatible and not forwards compatible. I think that&#x27;s what 20284 does, but I haven&#x27;t reviewed it yet.
<br>
</div>

<div class='talk op-msg' data-timestamp='1604417100' id='411370'>
<a class='timestamp' href='#411370'><time timestamp='2020-11-03T15:25:00Z'>15:25</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
assuming this really needs to go in for 0.21.0-otherwise there&#x27;s no hurry
<br>
</div>

<div class='talk op-msg' data-timestamp='1604417100' id='411371'>
<a class='timestamp' href='#411371'><time timestamp='2020-11-03T15:25:00Z'>15:25</time></a>
&lt;<span class='nick nick-3'> aj</span>&gt;
afaics, for forwards compatible changes, we just don&#x27;t bump the version number?
<br>
</div>

<div class='talk op-msg' data-timestamp='1604417100' id='411372'>
<a class='timestamp' href='#411372'><time timestamp='2020-11-03T15:25:00Z'>15:25</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
argh, timezones
<br>
</div>

<div class='talk op-msg' data-timestamp='1604417160' id='411373'>
<a class='timestamp' href='#411373'><time timestamp='2020-11-03T15:26:00Z'>15:26</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
I started a 0.20.1 node on my new peers.dat and it parsed it without emitting errors, so it is not just &quot;theoretical&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1604417160' id='411374'>
<a class='timestamp' href='#411374'><time timestamp='2020-11-03T15:26:00Z'>15:26</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
surely it parsed everything as garbage
<br>
</div>

<div class='talk op-msg' data-timestamp='1604417160' id='411375'>
<a class='timestamp' href='#411375'><time timestamp='2020-11-03T15:26:00Z'>15:26</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it&#x27;s definitely not theoretical
<br>
</div>

<div class='talk op-msg' data-timestamp='1604417220' id='411376'>
<a class='timestamp' href='#411376'><time timestamp='2020-11-03T15:27:00Z'>15:27</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
I don&#x27;t know why during testing of that change, some weeks ago I always got some read/parse error, which fooled me that old versions fail to parse always
<br>
</div>

<div class='talk op-msg' data-timestamp='1604417220' id='411377'>
<a class='timestamp' href='#411377'><time timestamp='2020-11-03T15:27:00Z'>15:27</time></a>
&lt;<span class='nick nick-14'> jonatack</span>&gt;
vasild: same
<br>
</div>

<div class='talk op-msg' data-timestamp='1604417220' id='411378'>
<a class='timestamp' href='#411378'><time timestamp='2020-11-03T15:27:00Z'>15:27</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
:-D
<br>
</div>

<div class='talk op-msg' data-timestamp='1604417280' id='411379'>
<a class='timestamp' href='#411379'><time timestamp='2020-11-03T15:28:00Z'>15:28</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
aj: I think there needs to be versioning to show that there are semantic changes, even if they are forwards compatible
<br>
</div>

<div class='talk op-msg' data-timestamp='1604417280' id='411380'>
<a class='timestamp' href='#411380'><time timestamp='2020-11-03T15:28:00Z'>15:28</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
garbage addresses would be kind of nasty, especially if they might also be gossiped and thus pollute the rest of the network too
<br>
</div>

<div class='talk op-msg' data-timestamp='1604417280' id='411381'>
<a class='timestamp' href='#411381'><time timestamp='2020-11-03T15:28:00Z'>15:28</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
jnewbery: point being if it isn&#x27;t forwards compatible, the rename keeps the old file for the old version if you downgrade
<br>
</div>

<div class='talk op-msg' data-timestamp='1604417340' id='411382'>
<a class='timestamp' href='#411382'><time timestamp='2020-11-03T15:29:00Z'>15:29</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
luke-jr: that&#x27;s a good point
<br>
</div>

<div class='talk op-msg' data-timestamp='1604417400' id='411383'>
<a class='timestamp' href='#411383'><time timestamp='2020-11-03T15:30:00Z'>15:30</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
So the action is to review 20284, unless anyone has anything important to add
<br>
</div>

<div class='talk op-msg' data-timestamp='1604417460' id='411384'>
<a class='timestamp' href='#411384'><time timestamp='2020-11-03T15:31:00Z'>15:31</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
#topic I2P support, some background at vasild/bitcoin/wiki/I2P-connectivity (vasild)
<br>
</div>

<div class='talk op-msg' data-timestamp='1604417460' id='411385'>
<a class='timestamp' href='#411385'><time timestamp='2020-11-03T15:31:00Z'>15:31</time></a>
&lt;<span class='nick nick-14'> jonatack</span>&gt;
When you lose your peers.dat, a new one doesn&#x27;t seem to take very long to get up to a decent size (40-50k peers) 
<br>
</div>

<div class='talk op-msg' data-timestamp='1604417460' id='411386'>
<a class='timestamp' href='#411386'><time timestamp='2020-11-03T15:31:00Z'>15:31</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
<a href="https://github.com/vasild/bitcoin/wiki/I2P-connectivity" class="link" target="_blank">https://github.com/vasild/bitcoin/wiki/I2P-connectivity</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1604417520' id='411387'>
<a class='timestamp' href='#411387'><time timestamp='2020-11-03T15:32:00Z'>15:32</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
jonatack: it probably takes longer for your tried tables to get populated
<br>
</div>

<div class='talk op-msg' data-timestamp='1604417520' id='411388'>
<a class='timestamp' href='#411388'><time timestamp='2020-11-03T15:32:00Z'>15:32</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
jonatack: the whole network losing their peers.dat in the event of downgarde might be a scary idea though (imagine a bug in 0.21, say)
<br>
</div>

<div class='talk op-msg' data-timestamp='1604417520' id='411389'>
<a class='timestamp' href='#411389'><time timestamp='2020-11-03T15:32:00Z'>15:32</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jonatack: that may be deceptive though; just because you have a lot of rumoured IP addresses, they aren&#x27;t necessarily good
<br>
</div>

<div class='talk op-msg' data-timestamp='1604417520' id='411390'>
<a class='timestamp' href='#411390'><time timestamp='2020-11-03T15:32:00Z'>15:32</time></a>
&lt;<span class='nick nick-14'> jonatack</span>&gt;
good points, thanks
<br>
</div>

<div class='talk op-msg' data-timestamp='1604417520' id='411391'>
<a class='timestamp' href='#411391'><time timestamp='2020-11-03T15:32:00Z'>15:32</time></a>
&lt;<span class='nick nick-3'> aj</span>&gt;
jnewbery: if you bump the version from 5 to 6 (eg), and 6 is &quot;unknown&quot; it will be treated as non-supported, so won&#x27;t be forward compatible. you need major/minor versions if you want to do that
<br>
</div>

<div class='talk op-msg' data-timestamp='1604417580' id='411392'>
<a class='timestamp' href='#411392'><time timestamp='2020-11-03T15:33:00Z'>15:33</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
aj: I think that&#x27;s effectively what 20284 does
<br>
</div>

<div class='talk op-msg' data-timestamp='1604417580' id='411393'>
<a class='timestamp' href='#411393'><time timestamp='2020-11-03T15:33:00Z'>15:33</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
can we imagine any backward but not forward compatible change?
<br>
</div>

<div class='talk op-msg' data-timestamp='1604417580' id='411394'>
<a class='timestamp' href='#411394'><time timestamp='2020-11-03T15:33:00Z'>15:33</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
aj: 
<br>
</div>

<div class='talk op-msg' data-timestamp='1604417580' id='411395'>
<a class='timestamp' href='#411395'><time timestamp='2020-11-03T15:33:00Z'>15:33</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
16:15 &lt; vasild&gt; pr20284 makes it possible to say in peers.dat &quot;this is format=5, but anybody who can 
<br>
</div>

<div class='talk op-msg' data-timestamp='1604417640' id='411396'>
<a class='timestamp' href='#411396'><time timestamp='2020-11-03T15:34:00Z'>15:34</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
                read format=3 can also read this one&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1604417640' id='411397'>
<a class='timestamp' href='#411397'><time timestamp='2020-11-03T15:34:00Z'>15:34</time></a>
&lt;<span class='nick nick-3'> aj</span>&gt;
vasild, jnewbery: i believe you&#x27;re both mistaken... it just supports a range: &quot;this code supports versions 3..5&quot;. introducing version 6 won&#x27;t make old code support it
<br>
</div>

<div class='talk op-msg' data-timestamp='1604417640' id='411398'>
<a class='timestamp' href='#411398'><time timestamp='2020-11-03T15:34:00Z'>15:34</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
sipa: after #19954, all changes are not forward compatible (because 0.21 onwards will reject any version greater than the one they know)
<br>
</div>

<div class='talk op-msg' data-timestamp='1604417640' id='411399'>
<a class='timestamp' href='#411399'><time timestamp='2020-11-03T15:34:00Z'>15:34</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/19954" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/19954</a> | Complete the BIP155 implementation and upgrade to TORv3 by vasild · Pull Request #19954 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1604417700' id='411400'>
<a class='timestamp' href='#411400'><time timestamp='2020-11-03T15:35:00Z'>15:35</time></a>
&lt;<span class='nick nick-3'> aj</span>&gt;
sipa: backward compatible is easy: if version == 4: ... elif version == 5: ...
<br>
</div>

<div class='talk op-msg' data-timestamp='1604417700' id='411401'>
<a class='timestamp' href='#411401'><time timestamp='2020-11-03T15:35:00Z'>15:35</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
aj: +1
<br>
</div>

<div class='talk op-msg' data-timestamp='1604417700' id='411402'>
<a class='timestamp' href='#411402'><time timestamp='2020-11-03T15:35:00Z'>15:35</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jnewbery: yes, i mean semantically
<br>
</div>

<div class='talk op-msg' data-timestamp='1604417700' id='411403'>
<a class='timestamp' href='#411403'><time timestamp='2020-11-03T15:35:00Z'>15:35</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
is there any change we can imagine to peers.dat that would remain readable by new versions?
<br>
</div>

<div class='talk op-msg' data-timestamp='1604417760' id='411404'>
<a class='timestamp' href='#411404'><time timestamp='2020-11-03T15:36:00Z'>15:36</time></a>
&lt;<span class='nick nick-3'> aj</span>&gt;
sipa: readable by old code, you mean?
<br>
</div>

<div class='talk op-msg' data-timestamp='1604417760' id='411405'>
<a class='timestamp' href='#411405'><time timestamp='2020-11-03T15:36:00Z'>15:36</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
oh
<br>
</div>

<div class='talk op-msg' data-timestamp='1604417760' id='411406'>
<a class='timestamp' href='#411406'><time timestamp='2020-11-03T15:36:00Z'>15:36</time></a>
&lt;<span class='nick nick-1'> * sdaftuar</span>&gt;
is super confused
<br>
</div>

<div class='talk op-msg' data-timestamp='1604417760' id='411407'>
<a class='timestamp' href='#411407'><time timestamp='2020-11-03T15:36:00Z'>15:36</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
do i have my forward/backward mixed up?
<br>
</div>

<div class='talk op-msg' data-timestamp='1604417760' id='411408'>
<a class='timestamp' href='#411408'><time timestamp='2020-11-03T15:36:00Z'>15:36</time></a>
&lt;<span class='nick nick-3'> aj</span>&gt;
new code, old peers.dat == backwards compatible
<br>
</div>

<div class='talk op-msg' data-timestamp='1604417820' id='411409'>
<a class='timestamp' href='#411409'><time timestamp='2020-11-03T15:37:00Z'>15:37</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
sipa: i thought john has his forward/backward mixed up, for what it&#x27;s worth.  and maybe aj too.
<br>
</div>

<div class='talk op-msg' data-timestamp='1604417820' id='411410'>
<a class='timestamp' href='#411410'><time timestamp='2020-11-03T15:37:00Z'>15:37</time></a>
&lt;<span class='nick nick-3'> aj</span>&gt;
old code, new peers.dat == forwards compatible
<br>
</div>

<div class='talk op-msg' data-timestamp='1604417820' id='411411'>
<a class='timestamp' href='#411411'><time timestamp='2020-11-03T15:37:00Z'>15:37</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
awkward
<br>
</div>

<div class='talk op-msg' data-timestamp='1604417820' id='411412'>
<a class='timestamp' href='#411412'><time timestamp='2020-11-03T15:37:00Z'>15:37</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
vasild: +1
<br>
</div>

<div class='talk op-msg' data-timestamp='1604417820' id='411413'>
<a class='timestamp' href='#411413'><time timestamp='2020-11-03T15:37:00Z'>15:37</time></a>
&lt;<span class='nick nick-3'> aj</span>&gt;
&quot;the format is <u>___</u> compatible&quot; is how i&#x27;m interpreting it
<br>
</div>

<div class='talk op-msg' data-timestamp='1604417820' id='411414'>
<a class='timestamp' href='#411414'><time timestamp='2020-11-03T15:37:00Z'>15:37</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
the goal here is to make sure that new versions can keep reading old files?
<br>
</div>

<div class='talk op-msg' data-timestamp='1604417880' id='411415'>
<a class='timestamp' href='#411415'><time timestamp='2020-11-03T15:38:00Z'>15:38</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
sdaftuar: wikipedia seems to agree with our definitions: Backward compatibility (sometimes known as backwards compatibility) is a property of a system, product, or technology that allows for interoperability with an older legacy system, or with input designed for such a system
<br>
</div>

<div class='talk op-msg' data-timestamp='1604417880' id='411416'>
<a class='timestamp' href='#411416'><time timestamp='2020-11-03T15:38:00Z'>15:38</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
no
<br>
</div>

<div class='talk op-msg' data-timestamp='1604417880' id='411417'>
<a class='timestamp' href='#411417'><time timestamp='2020-11-03T15:38:00Z'>15:38</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
where the input here is peers.dat
<br>
</div>

<div class='talk op-msg' data-timestamp='1604417880' id='411418'>
<a class='timestamp' href='#411418'><time timestamp='2020-11-03T15:38:00Z'>15:38</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
sipa: new code can always read old files
<br>
</div>

<div class='talk op-msg' data-timestamp='1604417880' id='411419'>
<a class='timestamp' href='#411419'><time timestamp='2020-11-03T15:38:00Z'>15:38</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
old peers.dat, new addrman is backwards compatibility
<br>
</div>

<div class='talk op-msg' data-timestamp='1604417880' id='411420'>
<a class='timestamp' href='#411420'><time timestamp='2020-11-03T15:38:00Z'>15:38</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
new peers.dat, old addrman is forwards compatibility
<br>
</div>

<div class='talk op-msg' data-timestamp='1604417880' id='411421'>
<a class='timestamp' href='#411421'><time timestamp='2020-11-03T15:38:00Z'>15:38</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ok so this is about new files being readable by old code? can we imagine a change where that&#x27;s useful?
<br>
</div>

<div class='talk op-msg' data-timestamp='1604417880' id='411422'>
<a class='timestamp' href='#411422'><time timestamp='2020-11-03T15:38:00Z'>15:38</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
sipa: it&#x27;s about being able to downgrade
<br>
</div>

<div class='talk op-msg' data-timestamp='1604417940' id='411423'>
<a class='timestamp' href='#411423'><time timestamp='2020-11-03T15:39:00Z'>15:39</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
and not losing all your data
<br>
</div>

<div class='talk op-msg' data-timestamp='1604417940' id='411424'>
<a class='timestamp' href='#411424'><time timestamp='2020-11-03T15:39:00Z'>15:39</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
i.e. you right the code in a way that it can handle future changes to format that you don&#x27;t know about, which is potentially important for downgrades
<br>
</div>

<div class='talk op-msg' data-timestamp='1604418000' id='411425'>
<a class='timestamp' href='#411425'><time timestamp='2020-11-03T15:40:00Z'>15:40</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sdaftuar: yes, my question is: can we imagine any change to peers.dat where that&#x27;s even feasible?
<br>
</div>

<div class='talk op-msg' data-timestamp='1604418000' id='411426'>
<a class='timestamp' href='#411426'><time timestamp='2020-11-03T15:40:00Z'>15:40</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
sipa: if you don&#x27;t use Tor, this change is?
<br>
</div>

<div class='talk op-msg' data-timestamp='1604418000' id='411427'>
<a class='timestamp' href='#411427'><time timestamp='2020-11-03T15:40:00Z'>15:40</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
sipa: well it depends on what&#x27;s on the table? eg if we wrote out the old format for the addresses that are supported by the old format in a file that is readable by old software, then sure
<br>
</div>

<div class='talk op-msg' data-timestamp='1604418000' id='411428'>
<a class='timestamp' href='#411428'><time timestamp='2020-11-03T15:40:00Z'>15:40</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
yes, for example the change from 0 to 1 and 1 to 2 both allowed old versions to read new files
<br>
</div>

<div class='talk op-msg' data-timestamp='1604418060' id='411429'>
<a class='timestamp' href='#411429'><time timestamp='2020-11-03T15:41:00Z'>15:41</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jnewbery: ah, indeed!
<br>
</div>

<div class='talk op-msg' data-timestamp='1604418060' id='411430'>
<a class='timestamp' href='#411430'><time timestamp='2020-11-03T15:41:00Z'>15:41</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
thanks
<br>
</div>

<div class='talk op-msg' data-timestamp='1604418060' id='411431'>
<a class='timestamp' href='#411431'><time timestamp='2020-11-03T15:41:00Z'>15:41</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
sipa: you authored that! :-)
<br>
</div>

<div class='talk op-msg' data-timestamp='1604418060' id='411432'>
<a class='timestamp' href='#411432'><time timestamp='2020-11-03T15:41:00Z'>15:41</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
hmm, we could in theory even split a peers-torv3.dat for those, and keep peers.dat as-is and compatibel?
<br>
</div>

<div class='talk op-msg' data-timestamp='1604418060' id='411433'>
<a class='timestamp' href='#411433'><time timestamp='2020-11-03T15:41:00Z'>15:41</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
vasild: it&#x27;s early
<br>
</div>

<div class='talk op-msg' data-timestamp='1604418120' id='411434'>
<a class='timestamp' href='#411434'><time timestamp='2020-11-03T15:42:00Z'>15:42</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
luke-jr: interesting idea
<br>
</div>

<div class='talk op-msg' data-timestamp='1604418120' id='411435'>
<a class='timestamp' href='#411435'><time timestamp='2020-11-03T15:42:00Z'>15:42</time></a>
&lt;<span class='nick nick-3'> aj</span>&gt;
or put the torv3 addresses as an add-on at the end of the file or something?
<br>
</div>

<div class='talk op-msg' data-timestamp='1604418120' id='411436'>
<a class='timestamp' href='#411436'><time timestamp='2020-11-03T15:42:00Z'>15:42</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
where does that stop, though... would we have peers-i2p.dat as well?
<br>
</div>

<div class='talk op-msg' data-timestamp='1604418120' id='411437'>
<a class='timestamp' href='#411437'><time timestamp='2020-11-03T15:42:00Z'>15:42</time></a>
&lt;<span class='nick nick-14'> jonatack</span>&gt;
if anyone following along is wondering, we&#x27;re talking about enum class Format in addrman.h::L269
<br>
</div>

<div class='talk op-msg' data-timestamp='1604418120' id='411438'>
<a class='timestamp' href='#411438'><time timestamp='2020-11-03T15:42:00Z'>15:42</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
wumpus: why not?
<br>
</div>

<div class='talk op-msg' data-timestamp='1604418180' id='411439'>
<a class='timestamp' href='#411439'><time timestamp='2020-11-03T15:43:00Z'>15:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
this seems hard
<br>
</div>

<div class='talk op-msg' data-timestamp='1604418180' id='411440'>
<a class='timestamp' href='#411440'><time timestamp='2020-11-03T15:43:00Z'>15:43</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
is there a reason to throw it all in the same file?
<br>
</div>

<div class='talk op-msg' data-timestamp='1604418180' id='411441'>
<a class='timestamp' href='#411441'><time timestamp='2020-11-03T15:43:00Z'>15:43</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
jonatack: well more generally about the Serialize and Unserialize methods for CAddrMan
<br>
</div>

<div class='talk op-msg' data-timestamp='1604418180' id='411442'>
<a class='timestamp' href='#411442'><time timestamp='2020-11-03T15:43:00Z'>15:43</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
wumpus: perhaps eventually files get merged, once old software no longer is a plausible downgrade target?
<br>
</div>

<div class='talk op-msg' data-timestamp='1604418180' id='411443'>
<a class='timestamp' href='#411443'><time timestamp='2020-11-03T15:43:00Z'>15:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
peers.dat files aren&#x27;t just lists of addresses
<br>
</div>

<div class='talk op-msg' data-timestamp='1604418180' id='411444'>
<a class='timestamp' href='#411444'><time timestamp='2020-11-03T15:43:00Z'>15:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
they dump the tables and their layout too
<br>
</div>

<div class='talk op-msg' data-timestamp='1604418180' id='411445'>
<a class='timestamp' href='#411445'><time timestamp='2020-11-03T15:43:00Z'>15:43</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
we could replace peers.dat with sqlite :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1604418180' id='411446'>
<a class='timestamp' href='#411446'><time timestamp='2020-11-03T15:43:00Z'>15:43</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I&#x27;m really not sure this is worth so much worrying about, if we&#x27;re really worried about people downgrading why not make a backup at first run with 0.21.0?
<br>
</div>

<div class='talk op-msg' data-timestamp='1604418240' id='411447'>
<a class='timestamp' href='#411447'><time timestamp='2020-11-03T15:44:00Z'>15:44</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
then if people downgrade they can restore the backup and <b>*shrug*</b>
<br>
</div>

<div class='talk op-msg' data-timestamp='1604418240' id='411448'>
<a class='timestamp' href='#411448'><time timestamp='2020-11-03T15:44:00Z'>15:44</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
if you split the file in two, you can&#x27;t just merge them back without losing informatiom
<br>
</div>

<div class='talk op-msg' data-timestamp='1604418240' id='411449'>
<a class='timestamp' href='#411449'><time timestamp='2020-11-03T15:44:00Z'>15:44</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
jnewbery: that might not be a bad idea
<br>
</div>

<div class='talk op-msg' data-timestamp='1604418240' id='411450'>
<a class='timestamp' href='#411450'><time timestamp='2020-11-03T15:44:00Z'>15:44</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
wumpus: yes i agree with that type of suggestion too, along the lines of &quot;sometimes it can be annoying to downgrade&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1604418240' id='411451'>
<a class='timestamp' href='#411451'><time timestamp='2020-11-03T15:44:00Z'>15:44</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
wumpus: how is that different from just using a new filename, except requiring an extra step to downgrade?
<br>
</div>

<div class='talk op-msg' data-timestamp='1604418300' id='411452'>
<a class='timestamp' href='#411452'><time timestamp='2020-11-03T15:45:00Z'>15:45</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
luke-jr: it keeps the filename the same for the bulk of the users
<br>
</div>

<div class='talk op-msg' data-timestamp='1604418300' id='411453'>
<a class='timestamp' href='#411453'><time timestamp='2020-11-03T15:45:00Z'>15:45</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
the non-downgrading path is likely be far most popular, or at least one&#x27;d hope :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1604418300' id='411454'>
<a class='timestamp' href='#411454'><time timestamp='2020-11-03T15:45:00Z'>15:45</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
in any case, we needa solution here fairly quickly
<br>
</div>

<div class='talk op-msg' data-timestamp='1604418360' id='411455'>
<a class='timestamp' href='#411455'><time timestamp='2020-11-03T15:46:00Z'>15:46</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
wumpus: I agree that it&#x27;s more likely, but I think we should strive to make downgrades across a single version seamless, just in case we ship a bad bug and need people to roll back
<br>
</div>

<div class='talk op-msg' data-timestamp='1604418360' id='411456'>
<a class='timestamp' href='#411456'><time timestamp='2020-11-03T15:46:00Z'>15:46</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
*upgrading is the more likely path than downgrading
<br>
</div>

<div class='talk op-msg' data-timestamp='1604418360' id='411457'>
<a class='timestamp' href='#411457'><time timestamp='2020-11-03T15:46:00Z'>15:46</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
ok, we&#x27;re running out of time and there are a couple more topics, so perhaps we should move on
<br>
</div>

<div class='talk op-msg' data-timestamp='1604418360' id='411458'>
<a class='timestamp' href='#411458'><time timestamp='2020-11-03T15:46:00Z'>15:46</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I&#x27;m not sure last-minute changes lke &#x27;sort peers.dat per network&#x27; or other complete changes to handling peers database
<br>
</div>

<div class='talk op-msg' data-timestamp='1604418420' id='411459'>
<a class='timestamp' href='#411459'><time timestamp='2020-11-03T15:47:00Z'>15:47</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
wumpus: agree
<br>
</div>

<div class='talk op-msg' data-timestamp='1604418420' id='411460'>
<a class='timestamp' href='#411460'><time timestamp='2020-11-03T15:47:00Z'>15:47</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
vasild: did you have anything you wanted to add about I2P support?
<br>
</div>

<div class='talk op-msg' data-timestamp='1604418420' id='411461'>
<a class='timestamp' href='#411461'><time timestamp='2020-11-03T15:47:00Z'>15:47</time></a>
&lt;<span class='nick nick-10'> ariard</span>&gt;
jnewbery: I&#x27;m fine to report mine next time
<br>
</div>

<div class='talk op-msg' data-timestamp='1604418480' id='411462'>
<a class='timestamp' href='#411462'><time timestamp='2020-11-03T15:48:00Z'>15:48</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
ariard: thanks. Maybe a good idea so people have some time to think about it before the meeting
<br>
</div>

<div class='talk op-msg' data-timestamp='1604418480' id='411463'>
<a class='timestamp' href='#411463'><time timestamp='2020-11-03T15:48:00Z'>15:48</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
Anybody interested in I2P support - see <a href="https://github.com/vasild/bitcoin/wiki/I2P-connectivity" class="link" target="_blank">https://github.com/vasild/bitcoin/wiki/I2P-connectivity</a> and discuss here, I guess after the meeting or anytime
<br>
</div>

<div class='talk op-msg' data-timestamp='1604418480' id='411464'>
<a class='timestamp' href='#411464'><time timestamp='2020-11-03T15:48:00Z'>15:48</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
i&#x27;ve got a question about i2p (applies to any new exotic network, even tor stuff that we&#x27;re doing) - what is our undestanding for how these addresses get gossiped to peers that support the network type?
<br>
</div>

<div class='talk op-msg' data-timestamp='1604418480' id='411465'>
<a class='timestamp' href='#411465'><time timestamp='2020-11-03T15:48:00Z'>15:48</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
jnewbery: yes, agree, it&#x27;s kind of nasty that this issue comes up so last minute
<br>
</div>

<div class='talk op-msg' data-timestamp='1604418540' id='411466'>
<a class='timestamp' href='#411466'><time timestamp='2020-11-03T15:49:00Z'>15:49</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sdaftuar: i2p/cjdns do not get rumoured by the current code, at all
<br>
</div>

<div class='talk op-msg' data-timestamp='1604418600' id='411467'>
<a class='timestamp' href='#411467'><time timestamp='2020-11-03T15:50:00Z'>15:50</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
sipa: no, they would get rumored if the node has connectivity to i2p
<br>
</div>

<div class='talk op-msg' data-timestamp='1604418600' id='411468'>
<a class='timestamp' href='#411468'><time timestamp='2020-11-03T15:50:00Z'>15:50</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
or am I mistaken...
<br>
</div>

<div class='talk op-msg' data-timestamp='1604418600' id='411469'>
<a class='timestamp' href='#411469'><time timestamp='2020-11-03T15:50:00Z'>15:50</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
cjdns not because it uses IPv6 addresses in a range we consider local / unroutable?
<br>
</div>

<div class='talk op-msg' data-timestamp='1604418600' id='411470'>
<a class='timestamp' href='#411470'><time timestamp='2020-11-03T15:50:00Z'>15:50</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
vasild: which isn&#x27;t possible.on the current code :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1604418600' id='411471'>
<a class='timestamp' href='#411471'><time timestamp='2020-11-03T15:50:00Z'>15:50</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
see #20119
<br>
</div>

<div class='talk op-msg' data-timestamp='1604418600' id='411472'>
<a class='timestamp' href='#411472'><time timestamp='2020-11-03T15:50:00Z'>15:50</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/20119" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/20119</a> | BIP155 follow-ups by sipa · Pull Request #20119 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1604418600' id='411473'>
<a class='timestamp' href='#411473'><time timestamp='2020-11-03T15:50:00Z'>15:50</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
so the basic idea is that if we know how to reach a network, we&#x27;ll rumor it to 2 peers or so
<br>
</div>

<div class='talk op-msg' data-timestamp='1604418660' id='411474'>
<a class='timestamp' href='#411474'><time timestamp='2020-11-03T15:51:00Z'>15:51</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
and if we don&#x27;t, it still goes to 1 i think? is that correct?
<br>
</div>

<div class='talk op-msg' data-timestamp='1604418660' id='411475'>
<a class='timestamp' href='#411475'><time timestamp='2020-11-03T15:51:00Z'>15:51</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sdaftuar: there are classes now
<br>
</div>

<div class='talk op-msg' data-timestamp='1604418660' id='411476'>
<a class='timestamp' href='#411476'><time timestamp='2020-11-03T15:51:00Z'>15:51</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
sdaftuar: yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1604418660' id='411477'>
<a class='timestamp' href='#411477'><time timestamp='2020-11-03T15:51:00Z'>15:51</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
sdaftuar: 1.5 now I think
<br>
</div>

<div class='talk op-msg' data-timestamp='1604418660' id='411478'>
<a class='timestamp' href='#411478'><time timestamp='2020-11-03T15:51:00Z'>15:51</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
1) reachable networks get rumoured 2x
<br>
</div>

<div class='talk op-msg' data-timestamp='1604418660' id='411479'>
<a class='timestamp' href='#411479'><time timestamp='2020-11-03T15:51:00Z'>15:51</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
sdaftuar: see RelayAddress() in the case fReachable==true
<br>
</div>

<div class='talk op-msg' data-timestamp='1604418720' id='411480'>
<a class='timestamp' href='#411480'><time timestamp='2020-11-03T15:52:00Z'>15:52</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
2) unreachable ipv4/ipv6/torv2/torv3 get rumoured 1.5x
<br>
</div>

<div class='talk op-msg' data-timestamp='1604418720' id='411481'>
<a class='timestamp' href='#411481'><time timestamp='2020-11-03T15:52:00Z'>15:52</time></a>
&lt;<span class='nick nick-14'> jonatack</span>&gt;
see #19728
<br>
</div>

<div class='talk op-msg' data-timestamp='1604418720' id='411482'>
<a class='timestamp' href='#411482'><time timestamp='2020-11-03T15:52:00Z'>15:52</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/19728" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/19728</a> | Increase the ip address relay branching factor for unreachable networks by sipa · Pull Request #19728 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1604418720' id='411483'>
<a class='timestamp' href='#411483'><time timestamp='2020-11-03T15:52:00Z'>15:52</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
3) unreachable others do not get rumoured at all
<br>
</div>

<div class='talk op-msg' data-timestamp='1604418720' id='411484'>
<a class='timestamp' href='#411484'><time timestamp='2020-11-03T15:52:00Z'>15:52</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
#20254 makes i2p reachable
<br>
</div>

<div class='talk op-msg' data-timestamp='1604418720' id='411485'>
<a class='timestamp' href='#411485'><time timestamp='2020-11-03T15:52:00Z'>15:52</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/20254" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/20254</a> | Add I2P support using statically configured destinations by vasild · Pull Request #20254 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1604418840' id='411486'>
<a class='timestamp' href='#411486'><time timestamp='2020-11-03T15:54:00Z'>15:54</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
btw, in I2P we can see the peer&#x27;s address and be sure data comes from him (the address is a hash of his public key)
<br>
</div>

<div class='talk op-msg' data-timestamp='1604418840' id='411487'>
<a class='timestamp' href='#411487'><time timestamp='2020-11-03T15:54:00Z'>15:54</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
sipa: thanks. one more question, how do we decide what address to advertise ourselves as, if we&#x27;re reachable in multiple ways?
<br>
</div>

<div class='talk op-msg' data-timestamp='1604418840' id='411488'>
<a class='timestamp' href='#411488'><time timestamp='2020-11-03T15:54:00Z'>15:54</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
vasild: same for Tor? :p
<br>
</div>

<div class='talk op-msg' data-timestamp='1604418900' id='411489'>
<a class='timestamp' href='#411489'><time timestamp='2020-11-03T15:55:00Z'>15:55</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
luke-jr: no, in Tor we don&#x27;t see the address of the peer that connected to us
<br>
</div>

<div class='talk op-msg' data-timestamp='1604418900' id='411490'>
<a class='timestamp' href='#411490'><time timestamp='2020-11-03T15:55:00Z'>15:55</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
oh, right
<br>
</div>

<div class='talk op-msg' data-timestamp='1604418900' id='411491'>
<a class='timestamp' href='#411491'><time timestamp='2020-11-03T15:55:00Z'>15:55</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
&quot;tor has no from address&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1604418960' id='411492'>
<a class='timestamp' href='#411492'><time timestamp='2020-11-03T15:56:00Z'>15:56</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
XD
<br>
</div>

<div class='talk op-msg' data-timestamp='1604418960' id='411493'>
<a class='timestamp' href='#411493'><time timestamp='2020-11-03T15:56:00Z'>15:56</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
heh
<br>
</div>

<div class='talk op-msg' data-timestamp='1604418960' id='411494'>
<a class='timestamp' href='#411494'><time timestamp='2020-11-03T15:56:00Z'>15:56</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
so in I2P we have P2P encryption by default :-)
<br>
</div>

<div class='talk op-msg' data-timestamp='1604418960' id='411495'>
<a class='timestamp' href='#411495'><time timestamp='2020-11-03T15:56:00Z'>15:56</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
sdaftuar: that logic is in AdvertiseLocal() in net.cpp
<br>
</div>

<div class='talk op-msg' data-timestamp='1604418960' id='411496'>
<a class='timestamp' href='#411496'><time timestamp='2020-11-03T15:56:00Z'>15:56</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
vasild: with public identities, though :(
<br>
</div>

<div class='talk op-msg' data-timestamp='1604418960' id='411497'>
<a class='timestamp' href='#411497'><time timestamp='2020-11-03T15:56:00Z'>15:56</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1604419020' id='411498'>
<a class='timestamp' href='#411498'><time timestamp='2020-11-03T15:57:00Z'>15:57</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
kinda by design in i2p?
<br>
</div>

<div class='talk op-msg' data-timestamp='1604419020' id='411499'>
<a class='timestamp' href='#411499'><time timestamp='2020-11-03T15:57:00Z'>15:57</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1604419020' id='411500'>
<a class='timestamp' href='#411500'><time timestamp='2020-11-03T15:57:00Z'>15:57</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sdaftuar: among the local addresses compatible with that peer, the one that has received the most mentions in incomimg version messages
<br>
</div>

<div class='talk op-msg' data-timestamp='1604419080' id='411501'>
<a class='timestamp' href='#411501'><time timestamp='2020-11-03T15:58:00Z'>15:58</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
which reminds me: we can&#x27;t put torv3/i2p/cjdns in version messages, so those will never receive any mentions
<br>
</div>

<div class='talk op-msg' data-timestamp='1604419080' id='411502'>
<a class='timestamp' href='#411502'><time timestamp='2020-11-03T15:58:00Z'>15:58</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
sipa: it seems like for something like adding a new newtork type, sometimes we&#x27;ll want to advertise our i2p address instead right?
<br>
</div>

<div class='talk op-msg' data-timestamp='1604419080' id='411503'>
<a class='timestamp' href='#411503'><time timestamp='2020-11-03T15:58:00Z'>15:58</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
sipa: oh taht seems important
<br>
</div>

<div class='talk op-msg' data-timestamp='1604419080' id='411504'>
<a class='timestamp' href='#411504'><time timestamp='2020-11-03T15:58:00Z'>15:58</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
do we need a new version version? :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1604419140' id='411505'>
<a class='timestamp' href='#411505'><time timestamp='2020-11-03T15:59:00Z'>15:59</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
jnewbery: i think we can just add data on to the end and no one will mind
<br>
</div>

<div class='talk op-msg' data-timestamp='1604419140' id='411506'>
<a class='timestamp' href='#411506'><time timestamp='2020-11-03T15:59:00Z'>15:59</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i&#x27;m not sure this is useful for those networks
<br>
</div>

<div class='talk op-msg' data-timestamp='1604419200' id='411507'>
<a class='timestamp' href='#411507'><time timestamp='2020-11-03T16:00:00Z'>16:00</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
as there isn&#x27;t any useful compatibility matrix for them
<br>
</div>

<div class='talk op-msg' data-timestamp='1604419200' id='411508'>
<a class='timestamp' href='#411508'><time timestamp='2020-11-03T16:00:00Z'>16:00</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
that&#x27;s time!
<br>
</div>

<div class='talk op-msg' data-timestamp='1604419200' id='411509'>
<a class='timestamp' href='#411509'><time timestamp='2020-11-03T16:00:00Z'>16:00</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
#endmeeting
<br>
</div>

<div class='talk op-msg' data-timestamp='1604419200' id='411510'>
<a class='timestamp' href='#411510'><time timestamp='2020-11-03T16:00:00Z'>16:00</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
sipa: address rumoring isn&#x27;t useful, or something else?
<br>
</div>

<div class='talk op-msg' data-timestamp='1604419200' id='411511'>
<a class='timestamp' href='#411511'><time timestamp='2020-11-03T16:00:00Z'>16:00</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
oh.. I missed the meeting.
<br>
</div>

<div class='talk op-msg' data-timestamp='1604419200' id='411512'>
<a class='timestamp' href='#411512'><time timestamp='2020-11-03T16:00:00Z'>16:00</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
sipa: there was the idea to add that address in the &#x27;sendaddrv2&#x27; message
<br>
</div>

<div class='talk op-msg' data-timestamp='1604419200' id='411513'>
<a class='timestamp' href='#411513'><time timestamp='2020-11-03T16:00:00Z'>16:00</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
I guess sipa means the &quot;voting&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1604419200' id='411514'>
<a class='timestamp' href='#411514'><time timestamp='2020-11-03T16:00:00Z'>16:00</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
ah
<br>
</div>

<div class='talk op-msg' data-timestamp='1604419260' id='411515'>
<a class='timestamp' href='#411515'><time timestamp='2020-11-03T16:01:00Z'>16:01</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
or how many times the address receives &quot;mentions&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1604419260' id='411516'>
<a class='timestamp' href='#411516'><time timestamp='2020-11-03T16:01:00Z'>16:01</time></a>
&lt;<span class='nick nick-3'> aj</span>&gt;
zzz
<br>
</div>

<div class='talk op-msg' data-timestamp='1604419260' id='411517'>
<a class='timestamp' href='#411517'><time timestamp='2020-11-03T16:01:00Z'>16:01</time></a>
&lt;<span class='nick nick-14'> * luke-jr</span>&gt;
gives jonasschnelli the mic
<br>
</div>

<div class='talk op-msg' data-timestamp='1604419260' id='411518'>
<a class='timestamp' href='#411518'><time timestamp='2020-11-03T16:01:00Z'>16:01</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I wanted to ask about BIP324&#x27;s rekeying
<br>
</div>

<div class='talk op-msg' data-timestamp='1604419260' id='411519'>
<a class='timestamp' href='#411519'><time timestamp='2020-11-03T16:01:00Z'>16:01</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sdaftuar: scoring your local addresses using incoming version mentions isn&#x27;t useful for these separate networls
<br>
</div>

<div class='talk op-msg' data-timestamp='1604419260' id='411520'>
<a class='timestamp' href='#411520'><time timestamp='2020-11-03T16:01:00Z'>16:01</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jonasschnelli: ongoing discussion, it seems!
<br>
</div>

<div class='talk op-msg' data-timestamp='1604419260' id='411521'>
<a class='timestamp' href='#411521'><time timestamp='2020-11-03T16:01:00Z'>16:01</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
yeah i was thinking that if we are trying to bootstratp a new type of address, we need to proactively advertise that address even to peers who don&#x27;t understand it
<br>
</div>

<div class='talk op-msg' data-timestamp='1604419260' id='411522'>
<a class='timestamp' href='#411522'><time timestamp='2020-11-03T16:01:00Z'>16:01</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sipa: may you have 10 minutes for discussion the 1s rekey approach
<br>
</div>

<div class='talk op-msg' data-timestamp='1604419260' id='411523'>
<a class='timestamp' href='#411523'><time timestamp='2020-11-03T16:01:00Z'>16:01</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
so that eventually peers that do support it, receive it
<br>
</div>

<div class='talk op-msg' data-timestamp='1604419260' id='411524'>
<a class='timestamp' href='#411524'><time timestamp='2020-11-03T16:01:00Z'>16:01</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sdaftuar: that&#x27;s a good point
<br>
</div>

<div class='talk op-msg' data-timestamp='1604419260' id='411525'>
<a class='timestamp' href='#411525'><time timestamp='2020-11-03T16:01:00Z'>16:01</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
sipa: (which would be easier to add new things to than the version message, and is relevant to the same functionality)
<br>
</div>

<div class='talk op-msg' data-timestamp='1604419320' id='411526'>
<a class='timestamp' href='#411526'><time timestamp='2020-11-03T16:02:00Z'>16:02</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
sdaftuar: my thought exactly, but we decided to not relay i2p addresses by nodes that are not connected to i2p; at least in 0.21
<br>
</div>

<div class='talk op-msg' data-timestamp='1604419320' id='411527'>
<a class='timestamp' href='#411527'><time timestamp='2020-11-03T16:02:00Z'>16:02</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sipa: indeed... its ongoing. But assume a 1s rekeying interval would imply some sort of a rekey-message,.. right?
<br>
</div>

<div class='talk op-msg' data-timestamp='1604419320' id='411528'>
<a class='timestamp' href='#411528'><time timestamp='2020-11-03T16:02:00Z'>16:02</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jonasschnelli: my current thinking is that doing rekeying at the key stream level is super cheap and simple
<br>
</div>

<div class='talk op-msg' data-timestamp='1604419380' id='411529'>
<a class='timestamp' href='#411529'><time timestamp='2020-11-03T16:03:00Z'>16:03</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
rekey on every ping/pong would be less complicated to implement (rather then time based)
<br>
</div>

<div class='talk op-msg' data-timestamp='1604419380' id='411530'>
<a class='timestamp' href='#411530'><time timestamp='2020-11-03T16:03:00Z'>16:03</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jonasschnelli: and i see no reason to have it at the application level as well if we do that
<br>
</div>

<div class='talk op-msg' data-timestamp='1604419380' id='411531'>
<a class='timestamp' href='#411531'><time timestamp='2020-11-03T16:03:00Z'>16:03</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jonasschnelli: i absolutely don&#x27;t suggest rekeying every secomd :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1604419440' id='411532'>
<a class='timestamp' href='#411532'><time timestamp='2020-11-03T16:04:00Z'>16:04</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sipa: at stream level would be something like basically rekey on after message?
<br>
</div>

<div class='talk op-msg' data-timestamp='1604419440' id='411533'>
<a class='timestamp' href='#411533'><time timestamp='2020-11-03T16:04:00Z'>16:04</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
there is already one bitcoin node listening at yfsvsy467mt5xafaq7zaukkjyzehvmew445yaaejvrwpk53acejq.b32.i2p (irc gossip :-D)
<br>
</div>

<div class='talk op-msg' data-timestamp='1604419440' id='411534'>
<a class='timestamp' href='#411534'><time timestamp='2020-11-03T16:04:00Z'>16:04</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
&quot;after every message
<br>
</div>

<div class='talk op-msg' data-timestamp='1604419440' id='411535'>
<a class='timestamp' href='#411535'><time timestamp='2020-11-03T16:04:00Z'>16:04</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jonasschnelli: no, every X bytes
<br>
</div>

<div class='talk op-msg' data-timestamp='1604419440' id='411536'>
<a class='timestamp' href='#411536'><time timestamp='2020-11-03T16:04:00Z'>16:04</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
vasild: nice :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1604419440' id='411537'>
<a class='timestamp' href='#411537'><time timestamp='2020-11-03T16:04:00Z'>16:04</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sipa: okay. What we have now.. but probably smaller than 1GB
<br>
</div>

<div class='talk op-msg' data-timestamp='1604419440' id='411538'>
<a class='timestamp' href='#411538'><time timestamp='2020-11-03T16:04:00Z'>16:04</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jonasschnelli: no!
<br>
</div>

<div class='talk op-msg' data-timestamp='1604419500' id='411539'>
<a class='timestamp' href='#411539'><time timestamp='2020-11-03T16:05:00Z'>16:05</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it&#x27;s currently done at the layer above
<br>
</div>

<div class='talk op-msg' data-timestamp='1604419500' id='411540'>
<a class='timestamp' href='#411540'><time timestamp='2020-11-03T16:05:00Z'>16:05</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
this would let you just build it inside chacha
<br>
</div>

<div class='talk op-msg' data-timestamp='1604419500' id='411541'>
<a class='timestamp' href='#411541'><time timestamp='2020-11-03T16:05:00Z'>16:05</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
ah. Built into the AEAD
<br>
</div>

<div class='talk op-msg' data-timestamp='1604419500' id='411542'>
<a class='timestamp' href='#411542'><time timestamp='2020-11-03T16:05:00Z'>16:05</time></a>
&lt;<span class='nick nick-10'> ariard</span>&gt;
jonasschnelli: I think  you can pick up a value based on blocks frequency if you want something to happen every Y period of time?
<br>
</div>

<div class='talk op-msg' data-timestamp='1604419500' id='411543'>
<a class='timestamp' href='#411543'><time timestamp='2020-11-03T16:05:00Z'>16:05</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
without having a bit to signal rekeying or so
<br>
</div>

<div class='talk op-msg' data-timestamp='1604419500' id='411544'>
<a class='timestamp' href='#411544'><time timestamp='2020-11-03T16:05:00Z'>16:05</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ariard: that&#x27;s just as hard
<br>
</div>

<div class='talk op-msg' data-timestamp='1604419560' id='411545'>
<a class='timestamp' href='#411545'><time timestamp='2020-11-03T16:06:00Z'>16:06</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jonasschnelli: this would give you forward secrecy (also a weird term
<br>
</div>

<div class='talk op-msg' data-timestamp='1604419560' id='411546'>
<a class='timestamp' href='#411546'><time timestamp='2020-11-03T16:06:00Z'>16:06</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
What if the byte limit hits in the middle of a message payload?
<br>
</div>

<div class='talk op-msg' data-timestamp='1604419560' id='411547'>
<a class='timestamp' href='#411547'><time timestamp='2020-11-03T16:06:00Z'>16:06</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
for ~free, at the byte level if you wanted to
<br>
</div>

<div class='talk op-msg' data-timestamp='1604419560' id='411548'>
<a class='timestamp' href='#411548'><time timestamp='2020-11-03T16:06:00Z'>16:06</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jonasschnelli: yes, so what?
<br>
</div>

<div class='talk op-msg' data-timestamp='1604419560' id='411549'>
<a class='timestamp' href='#411549'><time timestamp='2020-11-03T16:06:00Z'>16:06</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
the stream cipher does it automatically
<br>
</div>

<div class='talk op-msg' data-timestamp='1604419620' id='411550'>
<a class='timestamp' href='#411550'><time timestamp='2020-11-03T16:07:00Z'>16:07</time></a>
&lt;<span class='nick nick-10'> ariard</span>&gt;
sipa: do you mean byte-accounting is hard to get right?
<br>
</div>

<div class='talk op-msg' data-timestamp='1604419620' id='411551'>
<a class='timestamp' href='#411551'><time timestamp='2020-11-03T16:07:00Z'>16:07</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ariard: no, byte-accounting is trivial
<br>
</div>

<div class='talk op-msg' data-timestamp='1604419620' id='411552'>
<a class='timestamp' href='#411552'><time timestamp='2020-11-03T16:07:00Z'>16:07</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sipa: hmm... but the mAC?
<br>
</div>

<div class='talk op-msg' data-timestamp='1604419620' id='411553'>
<a class='timestamp' href='#411553'><time timestamp='2020-11-03T16:07:00Z'>16:07</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jonasschnelli: the mac keys don&#x27;t cycle
<br>
</div>

<div class='talk op-msg' data-timestamp='1604419620' id='411554'>
<a class='timestamp' href='#411554'><time timestamp='2020-11-03T16:07:00Z'>16:07</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
only the encryption keys
<br>
</div>

<div class='talk op-msg' data-timestamp='1604419680' id='411555'>
<a class='timestamp' href='#411555'><time timestamp='2020-11-03T16:08:00Z'>16:08</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
but the current MAC key is derived from the chacha20 stream
<br>
</div>

<div class='talk op-msg' data-timestamp='1604419740' id='411556'>
<a class='timestamp' href='#411556'><time timestamp='2020-11-03T16:09:00Z'>16:09</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jonasschnelli: yes that&#x27;ll need to change
<br>
</div>

<div class='talk op-msg' data-timestamp='1604419740' id='411557'>
<a class='timestamp' href='#411557'><time timestamp='2020-11-03T16:09:00Z'>16:09</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sipa: hmm...
<br>
</div>

<div class='talk op-msg' data-timestamp='1604419740' id='411558'>
<a class='timestamp' href='#411558'><time timestamp='2020-11-03T16:09:00Z'>16:09</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
have a separate stream where the mac keys are drawn from, for example
<br>
</div>

<div class='talk op-msg' data-timestamp='1604419800' id='411559'>
<a class='timestamp' href='#411559'><time timestamp='2020-11-03T16:10:00Z'>16:10</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but it means you can drop the signalling of rekeying etc
<br>
</div>

<div class='talk op-msg' data-timestamp='1604419800' id='411560'>
<a class='timestamp' href='#411560'><time timestamp='2020-11-03T16:10:00Z'>16:10</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and concerns about peers not doing it, or doing it too often
<br>
</div>

<div class='talk op-msg' data-timestamp='1604420040' id='411561'>
<a class='timestamp' href='#411561'><time timestamp='2020-11-03T16:14:00Z'>16:14</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
as long as we don&#x27;t worry about secrecy in the other direction (which the current bip324 writeup doesn&#x27;t, afaik), i think this is very much preferable
<br>
</div>

<div class='talk op-msg' data-timestamp='1604420040' id='411562'>
<a class='timestamp' href='#411562'><time timestamp='2020-11-03T16:14:00Z'>16:14</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sipa: do the benefits of this justify further deviation from the &quot;well tested&quot; ChaCha20Poly1305@openssh?
<br>
</div>

<div class='talk op-msg' data-timestamp='1604420040' id='411563'>
<a class='timestamp' href='#411563'><time timestamp='2020-11-03T16:14:00Z'>16:14</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jonasschnelli: we&#x27;re already deviating from it
<br>
</div>

<div class='talk op-msg' data-timestamp='1604420040' id='411564'>
<a class='timestamp' href='#411564'><time timestamp='2020-11-03T16:14:00Z'>16:14</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sipa: but in a pretty minor way
<br>
</div>

<div class='talk op-msg' data-timestamp='1604420100' id='411565'>
<a class='timestamp' href='#411565'><time timestamp='2020-11-03T16:15:00Z'>16:15</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jonasschnelli: maybe superficially... but openssh rekeys by redoing DH, no?
<br>
</div>

<div class='talk op-msg' data-timestamp='1604420160' id='411566'>
<a class='timestamp' href='#411566'><time timestamp='2020-11-03T16:16:00Z'>16:16</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sipa: what do you think are the benefits over a rekeying signal (where we can detect DoS or exceeded limits)?
<br>
</div>

<div class='talk op-msg' data-timestamp='1604420160' id='411567'>
<a class='timestamp' href='#411567'><time timestamp='2020-11-03T16:16:00Z'>16:16</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sipa: probably... haven&#x27;t looked at their rekeying.
<br>
</div>

<div class='talk op-msg' data-timestamp='1604420160' id='411568'>
<a class='timestamp' href='#411568'><time timestamp='2020-11-03T16:16:00Z'>16:16</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
but the AEAD has no rekeying (@openssh and @Bitcoin)
<br>
</div>

<div class='talk op-msg' data-timestamp='1604420220' id='411569'>
<a class='timestamp' href='#411569'><time timestamp='2020-11-03T16:17:00Z'>16:17</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
so doing rekeying by redoing DH makes sense, as it gives you secrecy in both directions
<br>
</div>

<div class='talk op-msg' data-timestamp='1604420220' id='411570'>
<a class='timestamp' href='#411570'><time timestamp='2020-11-03T16:17:00Z'>16:17</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Yes. Our rekeying does a independent rekey per direction,... whenever the limits are reached.
<br>
</div>

<div class='talk op-msg' data-timestamp='1604420280' id='411571'>
<a class='timestamp' href='#411571'><time timestamp='2020-11-03T16:18:00Z'>16:18</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
rekeying by hashing only gives you forward secrecy, not the other direction
<br>
</div>

<div class='talk op-msg' data-timestamp='1604420280' id='411572'>
<a class='timestamp' href='#411572'><time timestamp='2020-11-03T16:18:00Z'>16:18</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but as long as we only care about forward secrecy... doing the whole signalling thing is kind of overkill
<br>
</div>

<div class='talk op-msg' data-timestamp='1604420280' id='411573'>
<a class='timestamp' href='#411573'><time timestamp='2020-11-03T16:18:00Z'>16:18</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I see
<br>
</div>

<div class='talk op-msg' data-timestamp='1604420280' id='411574'>
<a class='timestamp' href='#411574'><time timestamp='2020-11-03T16:18:00Z'>16:18</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I see what you mean with direction noew
<br>
</div>

<div class='talk op-msg' data-timestamp='1604420280' id='411575'>
<a class='timestamp' href='#411575'><time timestamp='2020-11-03T16:18:00Z'>16:18</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
*now
<br>
</div>

<div class='talk op-msg' data-timestamp='1604420340' id='411576'>
<a class='timestamp' href='#411576'><time timestamp='2020-11-03T16:19:00Z'>16:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
you can get cheap forward secrecy at the byte level, instead of at the 1 GB level
<br>
</div>

<div class='talk op-msg' data-timestamp='1604420340' id='411577'>
<a class='timestamp' href='#411577'><time timestamp='2020-11-03T16:19:00Z'>16:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
(by generating 4096 bytes of stream cipher ahead of time, rekeying, and then throwing the stream cipher bytes away as they get used)
<br>
</div>

<div class='talk op-msg' data-timestamp='1604420400' id='411578'>
<a class='timestamp' href='#411578'><time timestamp='2020-11-03T16:20:00Z'>16:20</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
you can&#x27;t do that with 1 GB of material, and can&#x27;t do that if you don&#x27;t know when the other party is going to reky
<br>
</div>

<div class='talk op-msg' data-timestamp='1604420460' id='411579'>
<a class='timestamp' href='#411579'><time timestamp='2020-11-03T16:21:00Z'>16:21</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
anyway, my point is: not redoing DH is already a big conceptual departure from the existing protocol
<br>
</div>

<div class='talk op-msg' data-timestamp='1604420460' id='411580'>
<a class='timestamp' href='#411580'><time timestamp='2020-11-03T16:21:00Z'>16:21</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I think I understand this... I&#x27;m just unsure about the MAC construct... and concerned about complication of the implementation (with its risks)
<br>
</div>

<div class='talk op-msg' data-timestamp='1604420520' id='411581'>
<a class='timestamp' href='#411581'><time timestamp='2020-11-03T16:22:00Z'>16:22</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yeah
<br>
</div>

<div class='talk op-msg' data-timestamp='1604420580' id='411582'>
<a class='timestamp' href='#411582'><time timestamp='2020-11-03T16:23:00Z'>16:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
to be honest, i habe difficulty remember the exact way the stream/keys are constructed now too
<br>
</div>

<div class='talk op-msg' data-timestamp='1604420580' id='411583'>
<a class='timestamp' href='#411583'><time timestamp='2020-11-03T16:23:00Z'>16:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
this may simplify it...
<br>
</div>

<div class='talk op-msg' data-timestamp='1604420580' id='411584'>
<a class='timestamp' href='#411584'><time timestamp='2020-11-03T16:23:00Z'>16:23</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sipa: we rekey with SHA256(SHA256(session ID || old_symmetric_cipher_key))... wouldn&#x27;t an attacker stealing the symmetric be unable to go in both directions?
<br>
</div>

<div class='talk op-msg' data-timestamp='1604420580' id='411585'>
<a class='timestamp' href='#411585'><time timestamp='2020-11-03T16:23:00Z'>16:23</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
since the &quot;session ID&quot; requires the ECDH key
<br>
</div>

<div class='talk op-msg' data-timestamp='1604420580' id='411586'>
<a class='timestamp' href='#411586'><time timestamp='2020-11-03T16:23:00Z'>16:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jonasschnelli: if an attacker knows the old key, they can also apply the hashing
<br>
</div>

<div class='talk op-msg' data-timestamp='1604420640' id='411587'>
<a class='timestamp' href='#411587'><time timestamp='2020-11-03T16:24:00Z'>16:24</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sipa: the attacked doesn&#x27;t know the session ID, right?
<br>
</div>

<div class='talk op-msg' data-timestamp='1604420640' id='411588'>
<a class='timestamp' href='#411588'><time timestamp='2020-11-03T16:24:00Z'>16:24</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
well in this scenario they do!
<br>
</div>

<div class='talk op-msg' data-timestamp='1604420700' id='411589'>
<a class='timestamp' href='#411589'><time timestamp='2020-11-03T16:25:00Z'>16:25</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sipa: So the scenario is that ECDH is broken?
<br>
</div>

<div class='talk op-msg' data-timestamp='1604420700' id='411590'>
<a class='timestamp' href='#411590'><time timestamp='2020-11-03T16:25:00Z'>16:25</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jonasschnelli: or they broke into your machine and dumped its memory
<br>
</div>

<div class='talk op-msg' data-timestamp='1604420760' id='411591'>
<a class='timestamp' href='#411591'><time timestamp='2020-11-03T16:26:00Z'>16:26</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
forward secrecy protects against that case... if an attacker does that, they <b>*still*</b> can&#x27;t decrypt old messages
<br>
</div>

<div class='talk op-msg' data-timestamp='1604420820' id='411592'>
<a class='timestamp' href='#411592'><time timestamp='2020-11-03T16:27:00Z'>16:27</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
okay.. got it
<br>
</div>

<div class='talk op-msg' data-timestamp='1604420820' id='411593'>
<a class='timestamp' href='#411593'><time timestamp='2020-11-03T16:27:00Z'>16:27</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but the other direction... you can&#x27;t prevent an attacker who read your RAM from decrypting future messages, unless you redo DH
<br>
</div>

<div class='talk op-msg' data-timestamp='1604420820' id='411594'>
<a class='timestamp' href='#411594'><time timestamp='2020-11-03T16:27:00Z'>16:27</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
including re-generation of emphemeral keys,.. right?
<br>
</div>

<div class='talk op-msg' data-timestamp='1604420820' id='411595'>
<a class='timestamp' href='#411595'><time timestamp='2020-11-03T16:27:00Z'>16:27</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yes, that&#x27;s what DH does
<br>
</div>

<div class='talk op-msg' data-timestamp='1604420880' id='411596'>
<a class='timestamp' href='#411596'><time timestamp='2020-11-03T16:28:00Z'>16:28</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
indeed. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1604420940' id='411597'>
<a class='timestamp' href='#411597'><time timestamp='2020-11-03T16:29:00Z'>16:29</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
and you think that backward secrecy (probably called different) can be achived by altering the AEAD and including a deterministic rekeying?
<br>
</div>

<div class='talk op-msg' data-timestamp='1604421000' id='411598'>
<a class='timestamp' href='#411598'><time timestamp='2020-11-03T16:30:00Z'>16:30</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
or has the AEAD-inner-rekeyng nothing to do with the secrecy directions?
<br>
</div>

<div class='talk op-msg' data-timestamp='1604421000' id='411599'>
<a class='timestamp' href='#411599'><time timestamp='2020-11-03T16:30:00Z'>16:30</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that only provides forward secrecy
<br>
</div>

<div class='talk op-msg' data-timestamp='1604421000' id='411600'>
<a class='timestamp' href='#411600'><time timestamp='2020-11-03T16:30:00Z'>16:30</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but it can do it at the byte level
<br>
</div>

<div class='talk op-msg' data-timestamp='1604421060' id='411601'>
<a class='timestamp' href='#411601'><time timestamp='2020-11-03T16:31:00Z'>16:31</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
more elegant but same level of security as the current proposal?
<br>
</div>

<div class='talk op-msg' data-timestamp='1604421060' id='411602'>
<a class='timestamp' href='#411602'><time timestamp='2020-11-03T16:31:00Z'>16:31</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
indeed
<br>
</div>

<div class='talk op-msg' data-timestamp='1604421060' id='411603'>
<a class='timestamp' href='#411603'><time timestamp='2020-11-03T16:31:00Z'>16:31</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
okay... got it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1604421060' id='411604'>
<a class='timestamp' href='#411604'><time timestamp='2020-11-03T16:31:00Z'>16:31</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
perhaps we want some affordance for redoing DH too, but we can probably just disconnect and reconnect for that...
<br>
</div>

<div class='talk op-msg' data-timestamp='1604421120' id='411605'>
<a class='timestamp' href='#411605'><time timestamp='2020-11-03T16:32:00Z'>16:32</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I haven&#x27;t seen BIP324 discussion about the missing backward secrecy of the current rekeying approach.
<br>
</div>

<div class='talk op-msg' data-timestamp='1604421120' id='411606'>
<a class='timestamp' href='#411606'><time timestamp='2020-11-03T16:32:00Z'>16:32</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i think it&#x27;s less of a concern
<br>
</div>

<div class='talk op-msg' data-timestamp='1604421120' id='411607'>
<a class='timestamp' href='#411607'><time timestamp='2020-11-03T16:32:00Z'>16:32</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but i&#x27;ll try to summerize
<br>
</div>

<div class='talk op-msg' data-timestamp='1604421120' id='411608'>
<a class='timestamp' href='#411608'><time timestamp='2020-11-03T16:32:00Z'>16:32</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
on githun
<br>
</div>

<div class='talk op-msg' data-timestamp='1604421120' id='411609'>
<a class='timestamp' href='#411609'><time timestamp='2020-11-03T16:32:00Z'>16:32</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
great,... thanks.
<br>
</div>

<div class='talk op-msg' data-timestamp='1604421180' id='411610'>
<a class='timestamp' href='#411610'><time timestamp='2020-11-03T16:33:00Z'>16:33</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I&#x27;d like to not loose to much momentum on the implementation. But also,... not urging to stop improving the protocol. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1604421240' id='411611'>
<a class='timestamp' href='#411611'><time timestamp='2020-11-03T16:34:00Z'>16:34</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
However... thanks sipa for explaining!
<br>
</div>

<div class='talk op-msg' data-timestamp='1604424480' id='411612'>
<a class='timestamp' href='#411612'><time timestamp='2020-11-03T17:28:00Z'>17:28</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
vasild: here is already one bitcoin node listening at yfsvsy467mt5xafaq7zaukkjyze hvmew445yaaejvrwpk53acejq.b32.i2p (irc gossip :-D) &lt;- good to know, i&#x27;ll have a look at setting up I2P too
<br>
</div>

<div class='talk op-msg' data-timestamp='1604438880' id='411613'>
<a class='timestamp' href='#411613'><time timestamp='2020-11-03T21:28:00Z'>21:28</time></a>
&lt;<span class='nick nick-14'> jonatack</span>&gt;
vasild: i think i&#x27;m connected to your i2p peer
<br>
</div>

<div class='talk op-msg' data-timestamp='1604440560' id='411614'>
<a class='timestamp' href='#411614'><time timestamp='2020-11-03T21:56:00Z'>21:56</time></a>
&lt;<span class='nick nick-8'> amiti</span>&gt;
hi! does anyone actively use `-loadblock` / have current use cases?
<br>
</div>

<div class='talk op-msg' data-timestamp='1604440680' id='411615'>
<a class='timestamp' href='#411615'><time timestamp='2020-11-03T21:58:00Z'>21:58</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
amiti: did yiu see my response on the issue?
<br>
</div>

<div class='talk op-msg' data-timestamp='1604440740' id='411616'>
<a class='timestamp' href='#411616'><time timestamp='2020-11-03T21:59:00Z'>21:59</time></a>
&lt;<span class='nick nick-8'> amiti</span>&gt;
yeah, you said &quot;I don&#x27;t know if those see much use still&quot;, so I thought I&#x27;d ask more people :) 
<br>
</div>

<div class='talk op-msg' data-timestamp='1604440740' id='411617'>
<a class='timestamp' href='#411617'><time timestamp='2020-11-03T21:59:00Z'>21:59</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
amiti: right
<br>
</div>

<div class='talk op-msg' data-timestamp='1604440740' id='411618'>
<a class='timestamp' href='#411618'><time timestamp='2020-11-03T21:59:00Z'>21:59</time></a>
&lt;<span class='nick nick-8'> amiti</span>&gt;
(for anyone wondering, #19594)
<br>
</div>

<div class='talk op-msg' data-timestamp='1604440740' id='411619'>
<a class='timestamp' href='#411619'><time timestamp='2020-11-03T21:59:00Z'>21:59</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/19594" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/19594</a> | refactor: Make mapBlocksUnknownParent local, and rename it by hebasto · Pull Request #19594 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1604440800' id='411620'>
<a class='timestamp' href='#411620'><time timestamp='2020-11-03T22:00:00Z'>22:00</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i mean: it was intended for supporting bootstrap.dat, and i think that&#x27;s the only use case
<br>
</div>

<div class='talk op-msg' data-timestamp='1604440800' id='411621'>
<a class='timestamp' href='#411621'><time timestamp='2020-11-03T22:00:00Z'>22:00</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
if there is anyone actively relying on that feature i don&#x27;t know
<br>
</div>

<div class='talk op-msg' data-timestamp='1604440800' id='411622'>
<a class='timestamp' href='#411622'><time timestamp='2020-11-03T22:00:00Z'>22:00</time></a>
&lt;<span class='nick nick-8'> amiti</span>&gt;
gotcha. ok maybe I could rephrase the question as- does anyone actively use bootstrap.dat?
<br>
</div>

<div class='talk op-msg' data-timestamp='1604440920' id='411623'>
<a class='timestamp' href='#411623'><time timestamp='2020-11-03T22:02:00Z'>22:02</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
it&#x27;s not even maintained anymore
<br>
</div>

<div class='talk op-msg' data-timestamp='1604440980' id='411624'>
<a class='timestamp' href='#411624'><time timestamp='2020-11-03T22:03:00Z'>22:03</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
not by us
<br>
</div>

<div class='talk op-msg' data-timestamp='1604440980' id='411625'>
<a class='timestamp' href='#411625'><time timestamp='2020-11-03T22:03:00Z'>22:03</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
though some sites provide them
<br>
</div>

<div class='talk op-msg' data-timestamp='1604441040' id='411626'>
<a class='timestamp' href='#411626'><time timestamp='2020-11-03T22:04:00Z'>22:04</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
updated? O.o
<br>
</div>

<div class='talk op-msg' data-timestamp='1604441040' id='411627'>
<a class='timestamp' href='#411627'><time timestamp='2020-11-03T22:04:00Z'>22:04</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
since the improved block download logic in 0.10 there is much less use for it, as just syncing from random peers is likely faster than downloading + processing in sequence
<br>
</div>

<div class='talk op-msg' data-timestamp='1604441040' id='411628'>
<a class='timestamp' href='#411628'><time timestamp='2020-11-03T22:04:00Z'>22:04</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
<a href="https://flo.sh/download-bitcoin-blockchain-bootstrap/" class="link" target="_blank">https://flo.sh/download-bitcoin-blockchain-bootstrap/</a> apparently has a fairly recent one
<br>
</div>

<div class='talk op-msg' data-timestamp='1604441040' id='411629'>
<a class='timestamp' href='#411629'><time timestamp='2020-11-03T22:04:00Z'>22:04</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
TIL
<br>
</div>

<div class='talk op-msg' data-timestamp='1604441100' id='411630'>
<a class='timestamp' href='#411630'><time timestamp='2020-11-03T22:05:00Z'>22:05</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
I suppose it might be handy for people syncing offline PCs
<br>
</div>

<div class='talk op-msg' data-timestamp='1604441100' id='411631'>
<a class='timestamp' href='#411631'><time timestamp='2020-11-03T22:05:00Z'>22:05</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
TIL also
<br>
</div>

<div class='talk op-msg' data-timestamp='1604441160' id='411632'>
<a class='timestamp' href='#411632'><time timestamp='2020-11-03T22:06:00Z'>22:06</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
hmm, I should probably stop parsing my entire debug.log every hour
<br>
</div>

<div class='talk op-msg' data-timestamp='1604441160' id='411633'>
<a class='timestamp' href='#411633'><time timestamp='2020-11-03T22:06:00Z'>22:06</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
it&#x27;s getting behind XD
<br>
</div>

<div class='talk op-msg' data-timestamp='1604441520' id='411634'>
<a class='timestamp' href='#411634'><time timestamp='2020-11-03T22:12:00Z'>22:12</time></a>
&lt;<span class='nick nick-8'> amiti</span>&gt;
do I understand correctly: the idea of bootstrap.dat  / loadblock is that you input a file with the sequential blocks to process. in the current state, what are the differences from importing the datadir and reindexing? / would there be any advantage? (ofc one difference is that loadblock requires the blocks to be in order) 
<br>
</div>

<div class='talk op-msg' data-timestamp='1604441580' id='411635'>
<a class='timestamp' href='#411635'><time timestamp='2020-11-03T22:13:00Z'>22:13</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i expect you can just rename a bootstrap.dat file to be blk00000.dat, and run -reindex
<br>
</div>

<div class='talk op-msg' data-timestamp='1604441640' id='411636'>
<a class='timestamp' href='#411636'><time timestamp='2020-11-03T22:14:00Z'>22:14</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
amiti: i think part is that you don&#x27;t want to encourage people copying entire datadirs, as chainstates don&#x27;t get re-verified
<br>
</div>

<div class='talk op-msg' data-timestamp='1604441700' id='411637'>
<a class='timestamp' href='#411637'><time timestamp='2020-11-03T22:15:00Z'>22:15</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and anything that involves manually messing with the datadir is probably reserved for people who know what they&#x27;re doing anyway
<br>
</div>

<div class='talk op-msg' data-timestamp='1604441940' id='411638'>
<a class='timestamp' href='#411638'><time timestamp='2020-11-03T22:19:00Z'>22:19</time></a>
&lt;<span class='nick nick-8'> amiti</span>&gt;
oh I see, so loadblock does more verification than reindexing? ok I&#x27;m not super familiar with reindexing so I&#x27;ll go learn more 
<br>
</div>

<div class='talk op-msg' data-timestamp='1604441940' id='411639'>
<a class='timestamp' href='#411639'><time timestamp='2020-11-03T22:19:00Z'>22:19</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
loadblock just treats the file as an untrusted peer
<br>
</div>

<div class='talk op-msg' data-timestamp='1604442000' id='411640'>
<a class='timestamp' href='#411640'><time timestamp='2020-11-03T22:20:00Z'>22:20</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
amiti: no, it&#x27;s exactly the same
<br>
</div>

<div class='talk op-msg' data-timestamp='1604442000' id='411641'>
<a class='timestamp' href='#411641'><time timestamp='2020-11-03T22:20:00Z'>22:20</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
amiti: but if you copy a <b>*chainstate*</b> from someone (not just block files), they don&#x27;t get re-verified (because your node wouldn&#x27;t know it&#x27;s operating on an imported copy)
<br>
</div>

<div class='talk op-msg' data-timestamp='1604442000' id='411642'>
<a class='timestamp' href='#411642'><time timestamp='2020-11-03T22:20:00Z'>22:20</time></a>
&lt;<span class='nick nick-8'> amiti</span>&gt;
ahhhh I see 
<br>
</div>

<div class='talk op-msg' data-timestamp='1604442120' id='411643'>
<a class='timestamp' href='#411643'><time timestamp='2020-11-03T22:22:00Z'>22:22</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
still, i don&#x27;t have a good answer for whether it&#x27;s worth supporting -loadblock if it is a burden to maintain... i suspect not
<br>
</div>

<div class='talk op-msg' data-timestamp='1604442120' id='411644'>
<a class='timestamp' href='#411644'><time timestamp='2020-11-03T22:22:00Z'>22:22</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i also don&#x27;t think it&#x27;s a large burden, thoug
<br>
</div>

<div class='talk op-msg' data-timestamp='1604442180' id='411645'>
<a class='timestamp' href='#411645'><time timestamp='2020-11-03T22:23:00Z'>22:23</time></a>
&lt;<span class='nick nick-12'> * midnight</span>&gt;
makes use of loadblocks still fwiw
<br>
</div>

<div class='talk op-msg' data-timestamp='1604442180' id='411646'>
<a class='timestamp' href='#411646'><time timestamp='2020-11-03T22:23:00Z'>22:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
good to know!
<br>
</div>

<div class='talk op-msg' data-timestamp='1604442180' id='411647'>
<a class='timestamp' href='#411647'><time timestamp='2020-11-03T22:23:00Z'>22:23</time></a>
&lt;<span class='nick nick-8'> amiti</span>&gt;
yeah, for me the first question is &quot;is it still useful&quot;. then the next question is &quot;is it a higher burden to maintain, or to remove?&quot; 
<br>
</div>

<div class='talk op-msg' data-timestamp='1604442180' id='411648'>
<a class='timestamp' href='#411648'><time timestamp='2020-11-03T22:23:00Z'>22:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i don&#x27;t think i&#x27;ve personally used it for many years
<br>
</div>

<div class='talk op-msg' data-timestamp='1604442180' id='411649'>
<a class='timestamp' href='#411649'><time timestamp='2020-11-03T22:23:00Z'>22:23</time></a>
&lt;<span class='nick nick-8'> amiti</span>&gt;
midnight: ooo, willing to tell us more about how/why you use it? 
<br>
</div>

<div class='talk op-msg' data-timestamp='1604442720' id='411650'>
<a class='timestamp' href='#411650'><time timestamp='2020-11-03T22:32:00Z'>22:32</time></a>
&lt;<span class='nick nick-8'> midnight</span>&gt;
sure. I use it as a way of explicitly migrating block data between machines; also occasionally to (expensively) explore early blocks and early large-block-number reorgs. Mostly as a way to ensure migrated block data is reverified with modern versions as my node instances are typically very long-lived.
<br>
</div>

<div class='talk op-msg' data-timestamp='1604442780' id='411651'>
<a class='timestamp' href='#411651'><time timestamp='2020-11-03T22:33:00Z'>22:33</time></a>
&lt;<span class='nick nick-8'> midnight</span>&gt;
I&#x27;d be completely fine with just a network-based block injector if it exists.
<br>
</div>

<div class='talk op-msg' data-timestamp='1604442900' id='411652'>
<a class='timestamp' href='#411652'><time timestamp='2020-11-03T22:35:00Z'>22:35</time></a>
&lt;<span class='nick nick-8'> amiti</span>&gt;
okay gotcha. thanks! 
<br>
</div>

<div class='talk op-msg' data-timestamp='1604442900' id='411653'>
<a class='timestamp' href='#411653'><time timestamp='2020-11-03T22:35:00Z'>22:35</time></a>
&lt;<span class='nick nick-8'> midnight</span>&gt;
\o  I wouldn&#x27;t be too broken-up about it being removed, as long as it&#x27;s still possible for me to help seed my friends with a copy of current block data from my own nodes somehow.
<br>
</div>

<div class='talk op-msg' data-timestamp='1604442960' id='411654'>
<a class='timestamp' href='#411654'><time timestamp='2020-11-03T22:36:00Z'>22:36</time></a>
&lt;<span class='nick nick-8'> midnight</span>&gt;
(so, I test it first before handing it to them)
<br>
</div>

<div class='talk op-msg' data-timestamp='1604443260' id='411655'>
<a class='timestamp' href='#411655'><time timestamp='2020-11-03T22:41:00Z'>22:41</time></a>
&lt;<span class='nick nick-8'> amiti</span>&gt;
👍
<br>
</div>

</div>
</section>

</body>
</html>
