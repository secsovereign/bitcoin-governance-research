<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2016-03-09
 — 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2016-03-09' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:27 UTC</pre>
<pre><a href="/bitcoin-core-dev/2016-02-09">&lt;</a><span class='header'>    March 2016    </span><a href="/bitcoin-core-dev/2016-04-09">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;       <a class="" href="/bitcoin-core-dev/2016-03-01">1</a>  <a class="" href="/bitcoin-core-dev/2016-03-02">2</a>  <a class="" href="/bitcoin-core-dev/2016-03-03">3</a>  <a class="" href="/bitcoin-core-dev/2016-03-04">4</a>  <a class="" href="/bitcoin-core-dev/2016-03-05">5</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2016-03-06">6</a>  <a class="" href="/bitcoin-core-dev/2016-03-07">7</a>  <a class="" href="/bitcoin-core-dev/2016-03-08">8</a>  <a class="current" href="/bitcoin-core-dev/2016-03-09">9</a> <a class="" href="/bitcoin-core-dev/2016-03-10">10</a> <a class="" href="/bitcoin-core-dev/2016-03-11">11</a> <a class="" href="/bitcoin-core-dev/2016-03-12">12</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2016-03-13">13</a> <a class="" href="/bitcoin-core-dev/2016-03-14">14</a> <a class="" href="/bitcoin-core-dev/2016-03-15">15</a> <a class="" href="/bitcoin-core-dev/2016-03-16">16</a> <a class="" href="/bitcoin-core-dev/2016-03-17">17</a> <a class="" href="/bitcoin-core-dev/2016-03-18">18</a> <a class="" href="/bitcoin-core-dev/2016-03-19">19</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2016-03-20">20</a> <a class="" href="/bitcoin-core-dev/2016-03-21">21</a> <a class="" href="/bitcoin-core-dev/2016-03-22">22</a> <a class="" href="/bitcoin-core-dev/2016-03-23">23</a> <a class="" href="/bitcoin-core-dev/2016-03-24">24</a> <a class="" href="/bitcoin-core-dev/2016-03-25">25</a> <a class="" href="/bitcoin-core-dev/2016-03-26">26</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2016-03-27">27</a> <a class="" href="/bitcoin-core-dev/2016-03-28">28</a> <a class="" href="/bitcoin-core-dev/2016-03-29">29</a> <a class="" href="/bitcoin-core-dev/2016-03-30">30</a> <a class="" href="/bitcoin-core-dev/2016-03-31">31</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1457484480' id='455535'>
<a class='timestamp' href='#455535'><time timestamp='2016-03-09T00:48:00Z'>00:48</time></a>
&lt;<span class='nick nick-12'> GitHub82</span>&gt;
[bitcoin] promag opened pull request #7656: Improve EncodeBase58 performance (master...enhancement/speedup-encodebase58) <a href="https://github.com/bitcoin/bitcoin/pull/7656" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/7656</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1457484600' id='455536'>
<a class='timestamp' href='#455536'><time timestamp='2016-03-09T00:50:00Z'>00:50</time></a>
&lt;<span class='nick nick-16'> GitHub171</span>&gt;
[bitcoin] Lewuathe closed pull request #7653: Suppress unused variable warning in automated test (master...suppress-unused-variable-warn) <a href="https://github.com/bitcoin/bitcoin/pull/7653" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/7653</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1457487540' id='455537'>
<a class='timestamp' href='#455537'><time timestamp='2016-03-09T01:39:00Z'>01:39</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
sipa: around?  
<br>
</div>

<div class='talk op-msg' data-timestamp='1457515320' id='455538'>
<a class='timestamp' href='#455538'><time timestamp='2016-03-09T09:22:00Z'>09:22</time></a>
&lt;<span class='nick nick-10'> GitHub57</span>&gt;
[bitcoin] btcdrak opened pull request #7658: Add curl to Gitian setup instrustions (master...curl) <a href="https://github.com/bitcoin/bitcoin/pull/7658" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/7658</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1457515620' id='455539'>
<a class='timestamp' href='#455539'><time timestamp='2016-03-09T09:27:00Z'>09:27</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
are we using git submodule or git subtree ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1457516100' id='455540'>
<a class='timestamp' href='#455540'><time timestamp='2016-03-09T09:35:00Z'>09:35</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
phantomcircuit: subtree
<br>
</div>

<div class='talk op-msg' data-timestamp='1457516100' id='455541'>
<a class='timestamp' href='#455541'><time timestamp='2016-03-09T09:35:00Z'>09:35</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
secp256k1, univalue, leveldb
<br>
</div>

<div class='talk op-msg' data-timestamp='1457516400' id='455542'>
<a class='timestamp' href='#455542'><time timestamp='2016-03-09T09:40:00Z'>09:40</time></a>
&lt;<span class='nick nick-8'> nsh</span>&gt;
jgarzik, is univalue de novo code or based on another library?
<br>
</div>

<div class='talk op-msg' data-timestamp='1457516400' id='455543'>
<a class='timestamp' href='#455543'><time timestamp='2016-03-09T09:40:00Z'>09:40</time></a>
&lt;<span class='nick nick-8'> nsh</span>&gt;
(parsers scare me from a software security perspective. i wonder if it should be fuzzed or otherwise audited)
<br>
</div>

<div class='talk op-msg' data-timestamp='1457516580' id='455544'>
<a class='timestamp' href='#455544'><time timestamp='2016-03-09T09:43:00Z'>09:43</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
it&#x27;s denovo. it was originally vulnerable when it was merged in bitcoin core.
<br>
</div>

<div class='talk op-msg' data-timestamp='1457516580' id='455545'>
<a class='timestamp' href='#455545'><time timestamp='2016-03-09T09:43:00Z'>09:43</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
after the first vulnerability was found extensive fuzz testing was done.
<br>
</div>

<div class='talk op-msg' data-timestamp='1457516640' id='455546'>
<a class='timestamp' href='#455546'><time timestamp='2016-03-09T09:44:00Z'>09:44</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Andytoshi implemented a functional equivilent in rust so we could do cross implementation round-trip/agreement tests, and a number of non-security bugs were found in it which haven&#x27;t been fixed yet.
<br>
</div>

<div class='talk op-msg' data-timestamp='1457516640' id='455547'>
<a class='timestamp' href='#455547'><time timestamp='2016-03-09T09:44:00Z'>09:44</time></a>
&lt;<span class='nick nick-8'> nsh</span>&gt;
ah, great
<br>
</div>

<div class='talk op-msg' data-timestamp='1457516640' id='455548'>
<a class='timestamp' href='#455548'><time timestamp='2016-03-09T09:44:00Z'>09:44</time></a>
&lt;<span class='nick nick-8'> nsh</span>&gt;
i scanned the respository for the words &#x27;grammar&#x27; &#x27;lexer&#x27; and &#x27;parser&#x27; and was disappointface but not surpriseface :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1457516700' id='455549'>
<a class='timestamp' href='#455549'><time timestamp='2016-03-09T09:45:00Z'>09:45</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
univalue was used &lt;0.12 for bitcoin-tx ... and its the default json parser/encode since 0.12
<br>
</div>

<div class='talk op-msg' data-timestamp='1457516760' id='455550'>
<a class='timestamp' href='#455550'><time timestamp='2016-03-09T09:46:00Z'>09:46</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
And by default I think there are no attack vectors for the JSON parser/encode...because you can&#x27;t parse/encode unless you can do RPC auth or unless you enabled -rest=1
<br>
</div>

<div class='talk op-msg' data-timestamp='1457516760' id='455551'>
<a class='timestamp' href='#455551'><time timestamp='2016-03-09T09:46:00Z'>09:46</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
nsh: fortunately we also do not take json from untrusted inputs.
<br>
</div>

<div class='talk op-msg' data-timestamp='1457516760' id='455552'>
<a class='timestamp' href='#455552'><time timestamp='2016-03-09T09:46:00Z'>09:46</time></a>
&lt;<span class='nick nick-8'> nsh</span>&gt;
right
<br>
</div>

<div class='talk op-msg' data-timestamp='1457516760' id='455553'>
<a class='timestamp' href='#455553'><time timestamp='2016-03-09T09:46:00Z'>09:46</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(even with rest=1)
<br>
</div>

<div class='talk op-msg' data-timestamp='1457516820' id='455554'>
<a class='timestamp' href='#455554'><time timestamp='2016-03-09T09:47:00Z'>09:47</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
so that helps too.
<br>
</div>

<div class='talk op-msg' data-timestamp='1457516820' id='455555'>
<a class='timestamp' href='#455555'><time timestamp='2016-03-09T09:47:00Z'>09:47</time></a>
&lt;<span class='nick nick-8'> nsh</span>&gt;
there may be some instances where people are running services that expose the RPC to unvalidated input
<br>
</div>

<div class='talk op-msg' data-timestamp='1457516820' id='455556'>
<a class='timestamp' href='#455556'><time timestamp='2016-03-09T09:47:00Z'>09:47</time></a>
&lt;<span class='nick nick-8'> nsh</span>&gt;
even though this would be inadvisable. we can&#x27;t really see how people use bitcoind in their services easily
<br>
</div>

<div class='talk op-msg' data-timestamp='1457516820' id='455557'>
<a class='timestamp' href='#455557'><time timestamp='2016-03-09T09:47:00Z'>09:47</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
yea, maybe but I caution against that.
<br>
</div>

<div class='talk op-msg' data-timestamp='1457516820' id='455558'>
<a class='timestamp' href='#455558'><time timestamp='2016-03-09T09:47:00Z'>09:47</time></a>
&lt;<span class='nick nick-12'> * nsh</span>&gt;
nods
<br>
</div>

<div class='talk op-msg' data-timestamp='1457516880' id='455559'>
<a class='timestamp' href='#455559'><time timestamp='2016-03-09T09:48:00Z'>09:48</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I would be kind of surprised if there werent vulnerabilities there beyond the obvious.
<br>
</div>

<div class='talk op-msg' data-timestamp='1457516880' id='455560'>
<a class='timestamp' href='#455560'><time timestamp='2016-03-09T09:48:00Z'>09:48</time></a>
&lt;<span class='nick nick-8'> nsh</span>&gt;
likewise
<br>
</div>

<div class='talk op-msg' data-timestamp='1457516880' id='455561'>
<a class='timestamp' href='#455561'><time timestamp='2016-03-09T09:48:00Z'>09:48</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(obvious being that the walletexport/backup rpcs that take files can overwrite anything bitcoind can write to.)
<br>
</div>

<div class='talk op-msg' data-timestamp='1457516940' id='455562'>
<a class='timestamp' href='#455562'><time timestamp='2016-03-09T09:49:00Z'>09:49</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
there are almost certantly memory exhaustion attacks one can perform from the RPC.
<br>
</div>

<div class='talk op-msg' data-timestamp='1457516940' id='455563'>
<a class='timestamp' href='#455563'><time timestamp='2016-03-09T09:49:00Z'>09:49</time></a>
&lt;<span class='nick nick-8'> nsh</span>&gt;
in principle bitcoind could be containerised to only have write access to the leveldb and config files it needs to overwrite
<br>
</div>

<div class='talk op-msg' data-timestamp='1457516940' id='455564'>
<a class='timestamp' href='#455564'><time timestamp='2016-03-09T09:49:00Z'>09:49</time></a>
&lt;<span class='nick nick-8'> nsh</span>&gt;
but that might not be proportionate 
<br>
</div>

<div class='talk op-msg' data-timestamp='1457516940' id='455565'>
<a class='timestamp' href='#455565'><time timestamp='2016-03-09T09:49:00Z'>09:49</time></a>
&lt;<span class='nick nick-8'> nsh</span>&gt;
(and container solutions are not mature yet)
<br>
</div>

<div class='talk op-msg' data-timestamp='1457516940' id='455566'>
<a class='timestamp' href='#455566'><time timestamp='2016-03-09T09:49:00Z'>09:49</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
it doesn&#x27;t overwrite its own config files.
<br>
</div>

<div class='talk op-msg' data-timestamp='1457516940' id='455567'>
<a class='timestamp' href='#455567'><time timestamp='2016-03-09T09:49:00Z'>09:49</time></a>
&lt;<span class='nick nick-8'> nsh</span>&gt;
ah, my bad
<br>
</div>

<div class='talk op-msg' data-timestamp='1457517000' id='455568'>
<a class='timestamp' href='#455568'><time timestamp='2016-03-09T09:50:00Z'>09:50</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
nsh, backupwallet can write anywhere
<br>
</div>

<div class='talk op-msg' data-timestamp='1457517060' id='455569'>
<a class='timestamp' href='#455569'><time timestamp='2016-03-09T09:51:00Z'>09:51</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
which makes building a selinux profile mostly useless
<br>
</div>

<div class='talk op-msg' data-timestamp='1457517060' id='455570'>
<a class='timestamp' href='#455570'><time timestamp='2016-03-09T09:51:00Z'>09:51</time></a>
&lt;<span class='nick nick-12'> * nsh</span>&gt;
nods
<br>
</div>

<div class='talk op-msg' data-timestamp='1457517060' id='455571'>
<a class='timestamp' href='#455571'><time timestamp='2016-03-09T09:51:00Z'>09:51</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
etc etc for containerization
<br>
</div>

<div class='talk op-msg' data-timestamp='1457517060' id='455572'>
<a class='timestamp' href='#455572'><time timestamp='2016-03-09T09:51:00Z'>09:51</time></a>
&lt;<span class='nick nick-8'> nsh</span>&gt;
what&#x27;s a sensible way forward in terms of least privilegeing [if that can be granted as a verb]
<br>
</div>

<div class='talk op-msg' data-timestamp='1457517120' id='455573'>
<a class='timestamp' href='#455573'><time timestamp='2016-03-09T09:52:00Z'>09:52</time></a>
&lt;<span class='nick nick-8'> nsh</span>&gt;
?
<br>
</div>

<div class='talk op-msg' data-timestamp='1457517180' id='455574'>
<a class='timestamp' href='#455574'><time timestamp='2016-03-09T09:53:00Z'>09:53</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
phantomcircuit: In case you want to check my first logdb implementation, check: <a href="https://github.com/libbtc/libbtc/pull/41" class="link" target="_blank">https://github.com/libbtc/libbtc/pull/41</a> and feel free to feedback
<br>
</div>

<div class='talk op-msg' data-timestamp='1457517180' id='455575'>
<a class='timestamp' href='#455575'><time timestamp='2016-03-09T09:53:00Z'>09:53</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
phantomcircuit: warren has been working on selinux policy that just denies that external FS access, and there is an selinux bool to reenable it if you really want it to be able to access outside of its directory.
<br>
</div>

<div class='talk op-msg' data-timestamp='1457517180' id='455576'>
<a class='timestamp' href='#455576'><time timestamp='2016-03-09T09:53:00Z'>09:53</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
format is explained here: <a href="https://github.com/jonasschnelli/libbtc/commit/319cce54c34f6c91a4f58d4bd4823c177f206579#diff-73f280355a901d2fc049af287aed9e90R29" class="link" target="_blank">https://github.com/jonasschnelli/libbtc/commit/319cce54c34f6c91a4f58d4bd4823c177f206579#diff-73f280355a901d2fc049af287aed9e90R29</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1457517240' id='455577'>
<a class='timestamp' href='#455577'><time timestamp='2016-03-09T09:54:00Z'>09:54</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
phantomcircuit: ultimately I think we should add replacements for those rpcs that send the data over the rpc... and depricate the ones that write locally. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1457517300' id='455578'>
<a class='timestamp' href='#455578'><time timestamp='2016-03-09T09:55:00Z'>09:55</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
gmaxwell, that sounds like a sound plan
<br>
</div>

<div class='talk op-msg' data-timestamp='1457519400' id='455579'>
<a class='timestamp' href='#455579'><time timestamp='2016-03-09T10:30:00Z'>10:30</time></a>
&lt;<span class='nick nick-8'> GitHub190</span>&gt;
[bitcoin] btcdrak opened pull request #7659: gitian: Add suport for deterministic armhf builds (master...arm) <a href="https://github.com/bitcoin/bitcoin/pull/7659" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/7659</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1457536980' id='455580'>
<a class='timestamp' href='#455580'><time timestamp='2016-03-09T15:23:00Z'>15:23</time></a>
&lt;<span class='nick nick-15'> GitHub137</span>&gt;
[bitcoin] MarcoFalke opened pull request #7660: [amount] Extend GetFee() by optional flag ceil (master...Mf1603-amountCeil) <a href="https://github.com/bitcoin/bitcoin/pull/7660" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/7660</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1457538960' id='455581'>
<a class='timestamp' href='#455581'><time timestamp='2016-03-09T15:56:00Z'>15:56</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
what does this mean:
<br>
</div>

<div class='talk op-msg' data-timestamp='1457538960' id='455582'>
<a class='timestamp' href='#455582'><time timestamp='2016-03-09T15:56:00Z'>15:56</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
The command &quot;if [ &quot;$RUN_TESTS&quot; = &quot;true&quot; ]; then qa/pull-tester/rpc-tests.py --coverage; fi&quot; exited with 1.
<br>
</div>

<div class='talk op-msg' data-timestamp='1457539020' id='455583'>
<a class='timestamp' href='#455583'><time timestamp='2016-03-09T15:57:00Z'>15:57</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
Some issue in the rpc test suite?
<br>
</div>

<div class='talk op-msg' data-timestamp='1457539020' id='455584'>
<a class='timestamp' href='#455584'><time timestamp='2016-03-09T15:57:00Z'>15:57</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
Likely the well know wallet issue?
<br>
</div>

<div class='talk op-msg' data-timestamp='1457539080' id='455585'>
<a class='timestamp' href='#455585'><time timestamp='2016-03-09T15:58:00Z'>15:58</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
hmm, my pull is failing this for one travis build, i barely changed the test too, before it was fine. Is it likely my fault?
<br>
</div>

<div class='talk op-msg' data-timestamp='1457539140' id='455586'>
<a class='timestamp' href='#455586'><time timestamp='2016-03-09T15:59:00Z'>15:59</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
Just look for the line with &quot;AssertionError&quot; or something like this, to see where it fails. (Or send us the link)
<br>
</div>

<div class='talk op-msg' data-timestamp='1457539140' id='455587'>
<a class='timestamp' href='#455587'><time timestamp='2016-03-09T15:59:00Z'>15:59</time></a>
&lt;<span class='nick nick-3'> warren</span>&gt;
gmaxwell: oops, I forgot about the FS access part, only the exec bool, I&#x27;ll have both.
<br>
</div>

<div class='talk op-msg' data-timestamp='1457539440' id='455588'>
<a class='timestamp' href='#455588'><time timestamp='2016-03-09T16:04:00Z'>16:04</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
MarcoFalke, nevermind, I&#x27;ll do more investigation first thanks
<br>
</div>

<div class='talk op-msg' data-timestamp='1457539560' id='455589'>
<a class='timestamp' href='#455589'><time timestamp='2016-03-09T16:06:00Z'>16:06</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
<a href="https://travis-ci.org/bitcoin/bitcoin/jobs/114248476#L4131" class="link" target="_blank">https://travis-ci.org/bitcoin/bitcoin/jobs/114248476#L4131</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1457540220' id='455590'>
<a class='timestamp' href='#455590'><time timestamp='2016-03-09T16:17:00Z'>16:17</time></a>
&lt;<span class='nick nick-14'> GitHub107</span>&gt;
[bitcoin] MarcoFalke opened pull request #7661:  [wallet] Round up to the next satoshi on odd fee rates  (master...Mf1603-walletCeil) <a href="https://github.com/bitcoin/bitcoin/pull/7661" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/7661</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1457541360' id='455591'>
<a class='timestamp' href='#455591'><time timestamp='2016-03-09T16:36:00Z'>16:36</time></a>
&lt;<span class='nick nick-15'> GitHub100</span>&gt;
[bitcoin] rat4 opened pull request #7662: remove unused NOBLKS_VERSION_{START,END} constants (master...patch) <a href="https://github.com/bitcoin/bitcoin/pull/7662" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/7662</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1457542200' id='455592'>
<a class='timestamp' href='#455592'><time timestamp='2016-03-09T16:50:00Z'>16:50</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
morcos, IsStandard depends on IsDust which depends on GetFee()
<br>
</div>

<div class='talk op-msg' data-timestamp='1457542200' id='455593'>
<a class='timestamp' href='#455593'><time timestamp='2016-03-09T16:50:00Z'>16:50</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
so making GetFee() do a ceil all the time would cause unwanted side effects prob.
<br>
</div>

<div class='talk op-msg' data-timestamp='1457542260' id='455594'>
<a class='timestamp' href='#455594'><time timestamp='2016-03-09T16:51:00Z'>16:51</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
MarcoFalke: eh..  then make it truncate all the time
<br>
</div>

<div class='talk op-msg' data-timestamp='1457542260' id='455595'>
<a class='timestamp' href='#455595'><time timestamp='2016-03-09T16:51:00Z'>16:51</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
... would introduce the regression for small fee rates
<br>
</div>

<div class='talk op-msg' data-timestamp='1457542260' id='455596'>
<a class='timestamp' href='#455596'><time timestamp='2016-03-09T16:51:00Z'>16:51</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/pull/4465#issue-37199263" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/4465#issue-37199263</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1457542260' id='455597'>
<a class='timestamp' href='#455597'><time timestamp='2016-03-09T16:51:00Z'>16:51</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
second bullet point
<br>
</div>

<div class='talk op-msg' data-timestamp='1457542260' id='455598'>
<a class='timestamp' href='#455598'><time timestamp='2016-03-09T16:51:00Z'>16:51</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
I&#x27;m not sure that really counts though, who cares if the defniition of IsDust changes microscopically.  It already changed drastically from 0.11.1 to 0.11.2 and back for 0.12.0
<br>
</div>

<div class='talk op-msg' data-timestamp='1457542380' id='455599'>
<a class='timestamp' href='#455599'><time timestamp='2016-03-09T16:53:00Z'>16:53</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
MarcoFalke: yeah i read that bullet point...  is that even how the code works now?
<br>
</div>

<div class='talk op-msg' data-timestamp='1457542380' id='455600'>
<a class='timestamp' href='#455600'><time timestamp='2016-03-09T16:53:00Z'>16:53</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
yup, I guess so: <a href="https://github.com/MarcoFalke/bitcoin/commit/1923bb13de2bb45646b3437ecfa1781df15f88e9" class="link" target="_blank">https://github.com/MarcoFalke/bitcoin/commit/1923bb13de2bb45646b3437ecfa1781df15f88e9</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1457542380' id='455601'>
<a class='timestamp' href='#455601'><time timestamp='2016-03-09T16:53:00Z'>16:53</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
if (nFeeNeeded == 0) check is still there
<br>
</div>

<div class='talk op-msg' data-timestamp='1457542380' id='455602'>
<a class='timestamp' href='#455602'><time timestamp='2016-03-09T16:53:00Z'>16:53</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
yeah
<br>
</div>

<div class='talk op-msg' data-timestamp='1457542440' id='455603'>
<a class='timestamp' href='#455603'><time timestamp='2016-03-09T16:54:00Z'>16:54</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
but that seems intended behavior right
<br>
</div>

<div class='talk op-msg' data-timestamp='1457542440' id='455604'>
<a class='timestamp' href='#455604'><time timestamp='2016-03-09T16:54:00Z'>16:54</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
at least if you change it round (neither ceil nor trunc)
<br>
</div>

<div class='talk op-msg' data-timestamp='1457542500' id='455605'>
<a class='timestamp' href='#455605'><time timestamp='2016-03-09T16:55:00Z'>16:55</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
If I `settxfee 1e-8`, I expect the wallet to go into the paytxfee-branch
<br>
</div>

<div class='talk op-msg' data-timestamp='1457542500' id='455606'>
<a class='timestamp' href='#455606'><time timestamp='2016-03-09T16:55:00Z'>16:55</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
if you say you want to pay 1 sat per 1000 bytes, and you put something of 499 bytes in there.  why should we intrepet that as you intending to pay 1 satoshi and not 0
<br>
</div>

<div class='talk op-msg' data-timestamp='1457542500' id='455607'>
<a class='timestamp' href='#455607'><time timestamp='2016-03-09T16:55:00Z'>16:55</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
we already don&#x27;t let you pay 0...  so if you specify 0 another way, why is that different
<br>
</div>

<div class='talk op-msg' data-timestamp='1457542560' id='455608'>
<a class='timestamp' href='#455608'><time timestamp='2016-03-09T16:56:00Z'>16:56</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
i don&#x27;t really care, but i just think the CFeeRate class needs to not get more convoluted
<br>
</div>

<div class='talk op-msg' data-timestamp='1457542560' id='455609'>
<a class='timestamp' href='#455609'><time timestamp='2016-03-09T16:56:00Z'>16:56</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
its already an annoying class
<br>
</div>

<div class='talk op-msg' data-timestamp='1457542560' id='455610'>
<a class='timestamp' href='#455610'><time timestamp='2016-03-09T16:56:00Z'>16:56</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
In the first case you pay fallbackfee, in the other case you pay 1 sat
<br>
</div>

<div class='talk op-msg' data-timestamp='1457542560' id='455611'>
<a class='timestamp' href='#455611'><time timestamp='2016-03-09T16:56:00Z'>16:56</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
It&#x27;s mostly not relevant for mainnet
<br>
</div>

<div class='talk op-msg' data-timestamp='1457542560' id='455612'>
<a class='timestamp' href='#455612'><time timestamp='2016-03-09T16:56:00Z'>16:56</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
but you asked to pay 0
<br>
</div>

<div class='talk op-msg' data-timestamp='1457542560' id='455613'>
<a class='timestamp' href='#455613'><time timestamp='2016-03-09T16:56:00Z'>16:56</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
make it do ceiling then, i agree we need to just look through the follow on effects
<br>
</div>

<div class='talk op-msg' data-timestamp='1457542620' id='455614'>
<a class='timestamp' href='#455614'><time timestamp='2016-03-09T16:57:00Z'>16:57</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
but i don&#x27;t see a priori why they would be a problem
<br>
</div>

<div class='talk op-msg' data-timestamp='1457542620' id='455615'>
<a class='timestamp' href='#455615'><time timestamp='2016-03-09T16:57:00Z'>16:57</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
You asked to pay 1 sat per kB and the wallet should always pay that fee rate (or slightly more)
<br>
</div>

<div class='talk op-msg' data-timestamp='1457542680' id='455616'>
<a class='timestamp' href='#455616'><time timestamp='2016-03-09T16:58:00Z'>16:58</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
Ok, I had the ceil-only patch somwhere laying around this mornig but I deleted it in the meantime
<br>
</div>

<div class='talk op-msg' data-timestamp='1457542680' id='455617'>
<a class='timestamp' href='#455617'><time timestamp='2016-03-09T16:58:00Z'>16:58</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
so are you ok with just making it always ceiling then? 
<br>
</div>

<div class='talk op-msg' data-timestamp='1457542680' id='455618'>
<a class='timestamp' href='#455618'><time timestamp='2016-03-09T16:58:00Z'>16:58</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
I will just create a pull and see what others think
<br>
</div>

<div class='talk op-msg' data-timestamp='1457542740' id='455619'>
<a class='timestamp' href='#455619'><time timestamp='2016-03-09T16:59:00Z'>16:59</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
anyway, got to run, i don&#x27;t like making that silly class more complicated though
<br>
</div>

<div class='talk op-msg' data-timestamp='1457544420' id='455620'>
<a class='timestamp' href='#455620'><time timestamp='2016-03-09T17:27:00Z'>17:27</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
back in NL
<br>
</div>

<div class='talk op-msg' data-timestamp='1457544480' id='455621'>
<a class='timestamp' href='#455621'><time timestamp='2016-03-09T17:28:00Z'>17:28</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
congrats!
<br>
</div>

<div class='talk op-msg' data-timestamp='1457544540' id='455622'>
<a class='timestamp' href='#455622'><time timestamp='2016-03-09T17:29:00Z'>17:29</time></a>
&lt;<span class='nick nick-6'> btcdrak</span>&gt;
wumpus: \o/ now for jetlag sleep :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1457544780' id='455623'>
<a class='timestamp' href='#455623'><time timestamp='2016-03-09T17:33:00Z'>17:33</time></a>
&lt;<span class='nick nick-15'> Bootvis_</span>&gt;
welcome back
<br>
</div>

<div class='talk op-msg' data-timestamp='1457545680' id='455624'>
<a class='timestamp' href='#455624'><time timestamp='2016-03-09T17:48:00Z'>17:48</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
thanks :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1457547240' id='455625'>
<a class='timestamp' href='#455625'><time timestamp='2016-03-09T18:14:00Z'>18:14</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
wumpus: welcome back, hope you had a good flight!
<br>
</div>

<div class='talk op-msg' data-timestamp='1457547900' id='455626'>
<a class='timestamp' href='#455626'><time timestamp='2016-03-09T18:25:00Z'>18:25</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i&#x27;ll be back in europe on friday
<br>
</div>

<div class='talk op-msg' data-timestamp='1457547900' id='455627'>
<a class='timestamp' href='#455627'><time timestamp='2016-03-09T18:25:00Z'>18:25</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sipa: still in Boston?
<br>
</div>

<div class='talk op-msg' data-timestamp='1457547960' id='455628'>
<a class='timestamp' href='#455628'><time timestamp='2016-03-09T18:26:00Z'>18:26</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sf now
<br>
</div>

<div class='talk op-msg' data-timestamp='1457548020' id='455629'>
<a class='timestamp' href='#455629'><time timestamp='2016-03-09T18:27:00Z'>18:27</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
hah. Globetrotter.
<br>
</div>

<div class='talk op-msg' data-timestamp='1457548080' id='455630'>
<a class='timestamp' href='#455630'><time timestamp='2016-03-09T18:28:00Z'>18:28</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
jonasschnelli: missed you in boston, we were about to split the wallet out from Core, but decided to push it off another 5 years since you weren&#x27;t there
<br>
</div>

<div class='talk op-msg' data-timestamp='1457548140' id='455631'>
<a class='timestamp' href='#455631'><time timestamp='2016-03-09T18:29:00Z'>18:29</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
haha
<br>
</div>

<div class='talk op-msg' data-timestamp='1457548560' id='455632'>
<a class='timestamp' href='#455632'><time timestamp='2016-03-09T18:36:00Z'>18:36</time></a>
&lt;<span class='nick nick-2'> Luke-Jr</span>&gt;
lol
<br>
</div>

<div class='talk op-msg' data-timestamp='1457549520' id='455633'>
<a class='timestamp' href='#455633'><time timestamp='2016-03-09T18:52:00Z'>18:52</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
sipa: did you see my other comment on versionbits.  about setting block version = 4?
<br>
</div>

<div class='talk op-msg' data-timestamp='1457549520' id='455634'>
<a class='timestamp' href='#455634'><time timestamp='2016-03-09T18:52:00Z'>18:52</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
i think it would make sense to also include in the first version bits soft fork a requirement that block version &gt; 4
<br>
</div>

<div class='talk op-msg' data-timestamp='1457549580' id='455635'>
<a class='timestamp' href='#455635'><time timestamp='2016-03-09T18:53:00Z'>18:53</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
then the warning code can ignore blocks &lt;= 4 because they will be invalid once the soft fork activates.  this is analogous to how ISM soft forks have worked
<br>
</div>

<div class='talk op-msg' data-timestamp='1457549640' id='455636'>
<a class='timestamp' href='#455636'><time timestamp='2016-03-09T18:54:00Z'>18:54</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
we should also start setting TOP_BITS immediately... yes that means that old code will be warned to upgrade potentially before any soft fork is being rolled out, but that to me only serves to be more warning time.
<br>
</div>

<div class='talk op-msg' data-timestamp='1457549640' id='455637'>
<a class='timestamp' href='#455637'><time timestamp='2016-03-09T18:54:00Z'>18:54</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
if we were going to roll out verison bits code without the soft fork included, then i could see the argument against, b/c they&#x27;d get tricked into upgrading twice.  but as long as they only need to upgrade that first time, its only a good thing that they are warned about it earlier
<br>
</div>

<div class='talk op-msg' data-timestamp='1457551320' id='455638'>
<a class='timestamp' href='#455638'><time timestamp='2016-03-09T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
morcos: haha!
<br>
</div>

<div class='talk op-msg' data-timestamp='1457551320' id='455639'>
<a class='timestamp' href='#455639'><time timestamp='2016-03-09T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
morcos: You and Suhas where there?
<br>
</div>

<div class='talk op-msg' data-timestamp='1457551500' id='455640'>
<a class='timestamp' href='#455640'><time timestamp='2016-03-09T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
yeah, just came for the day monday
<br>
</div>

<div class='talk op-msg' data-timestamp='1457551860' id='455641'>
<a class='timestamp' href='#455641'><time timestamp='2016-03-09T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
To bad I had to fly home on sunday.
<br>
</div>

<div class='talk op-msg' data-timestamp='1457551860' id='455642'>
<a class='timestamp' href='#455642'><time timestamp='2016-03-09T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
jonasschnelli: you didn&#x27;t come home and find a new baby, i hope? :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1457551920' id='455643'>
<a class='timestamp' href='#455643'><time timestamp='2016-03-09T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
cfields: Not yet. Still a couple of month to go...
<br>
</div>

<div class='talk op-msg' data-timestamp='1457551920' id='455644'>
<a class='timestamp' href='#455644'><time timestamp='2016-03-09T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
(buhh...)
<br>
</div>

<div class='talk op-msg' data-timestamp='1457551920' id='455645'>
<a class='timestamp' href='#455645'><time timestamp='2016-03-09T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
heh, good
<br>
</div>

<div class='talk op-msg' data-timestamp='1457554320' id='455646'>
<a class='timestamp' href='#455646'><time timestamp='2016-03-09T20:12:00Z'>20:12</time></a>
&lt;<span class='nick nick-14'> GitHub69</span>&gt;
[bitcoin] btcdrak closed pull request #7659: gitian: Add suport for deterministic armhf builds (master...arm) <a href="https://github.com/bitcoin/bitcoin/pull/7659" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/7659</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1457556000' id='455647'>
<a class='timestamp' href='#455647'><time timestamp='2016-03-09T20:40:00Z'>20:40</time></a>
&lt;<span class='nick nick-6'> GitHub124</span>&gt;
[bitcoin] sipa pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/87d65622996d...386f4385ab04" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/87d65622996d...386f4385ab04</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1457556000' id='455648'>
<a class='timestamp' href='#455648'><time timestamp='2016-03-09T20:40:00Z'>20:40</time></a>
&lt;<span class='nick nick-6'> GitHub124</span>&gt;
bitcoin/master 7d2f84c Pavel Vasin: remove unused NOBLKS_VERSION_{START,END} constants
<br>
</div>

<div class='talk op-msg' data-timestamp='1457556000' id='455649'>
<a class='timestamp' href='#455649'><time timestamp='2016-03-09T20:40:00Z'>20:40</time></a>
&lt;<span class='nick nick-6'> GitHub124</span>&gt;
bitcoin/master 386f438 Pieter Wuille: Merge #7662: remove unused NOBLKS_VERSION_{START,END} constants...
<br>
</div>

<div class='talk op-msg' data-timestamp='1457556000' id='455650'>
<a class='timestamp' href='#455650'><time timestamp='2016-03-09T20:40:00Z'>20:40</time></a>
&lt;<span class='nick nick-8'> GitHub8</span>&gt;
[bitcoin] sipa closed pull request #7662: remove unused NOBLKS_VERSION_{START,END} constants (master...patch) <a href="https://github.com/bitcoin/bitcoin/pull/7662" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/7662</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1457556180' id='455651'>
<a class='timestamp' href='#455651'><time timestamp='2016-03-09T20:43:00Z'>20:43</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sipa: BTW, I have written a C implementation of &quot;logdb&quot;. If you want to rain down your criticism (which is appreciated!).
<br>
</div>

<div class='talk op-msg' data-timestamp='1457556180' id='455652'>
<a class='timestamp' href='#455652'><time timestamp='2016-03-09T20:43:00Z'>20:43</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
<a href="https://github.com/libbtc/libbtc/pull/41" class="link" target="_blank">https://github.com/libbtc/libbtc/pull/41</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1457556240' id='455653'>
<a class='timestamp' href='#455653'><time timestamp='2016-03-09T20:44:00Z'>20:44</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
It will be used as wallet data-format in the SPV implementation I&#x27;m writing.
<br>
</div>

<div class='talk op-msg' data-timestamp='1457556360' id='455654'>
<a class='timestamp' href='#455654'><time timestamp='2016-03-09T20:46:00Z'>20:46</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
jonasschnelli: nice
<br>
</div>

<div class='talk op-msg' data-timestamp='1457556360' id='455655'>
<a class='timestamp' href='#455655'><time timestamp='2016-03-09T20:46:00Z'>20:46</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
cfields: a design decision would be, to use your libbtcnet implementation for the network layer.
<br>
</div>

<div class='talk op-msg' data-timestamp='1457556420' id='455656'>
<a class='timestamp' href='#455656'><time timestamp='2016-03-09T20:47:00Z'>20:47</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Though, would be C++ then.
<br>
</div>

<div class='talk op-msg' data-timestamp='1457556420' id='455657'>
<a class='timestamp' href='#455657'><time timestamp='2016-03-09T20:47:00Z'>20:47</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I guess even C++11.
<br>
</div>

<div class='talk op-msg' data-timestamp='1457556420' id='455658'>
<a class='timestamp' href='#455658'><time timestamp='2016-03-09T20:47:00Z'>20:47</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
jonasschnelli: It was designed so that a C api should be simple enough
<br>
</div>

<div class='talk op-msg' data-timestamp='1457556420' id='455659'>
<a class='timestamp' href='#455659'><time timestamp='2016-03-09T20:47:00Z'>20:47</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
But,... I don&#x27;t expect people using the net layer on a MCU device. C++ could be fine for that case...
<br>
</div>

<div class='talk op-msg' data-timestamp='1457556480' id='455660'>
<a class='timestamp' href='#455660'><time timestamp='2016-03-09T20:48:00Z'>20:48</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
jonasschnelli: so you&#x27;d end up with the c++ runtime, but it wouldn&#x27;t require a c++ compiler for your stuff
<br>
</div>

<div class='talk op-msg' data-timestamp='1457556480' id='455661'>
<a class='timestamp' href='#455661'><time timestamp='2016-03-09T20:48:00Z'>20:48</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
cfields: Hmm.. but I guess the c++ runtime is to big for atmel cortex chips...
<br>
</div>

<div class='talk op-msg' data-timestamp='1457556600' id='455662'>
<a class='timestamp' href='#455662'><time timestamp='2016-03-09T20:50:00Z'>20:50</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
jonasschnelli: unsure what spec you&#x27;re dealing with, but yes, i can see how that&#x27;d be much heavier than what you&#x27;re currently working with
<br>
</div>

<div class='talk op-msg' data-timestamp='1457556600' id='455663'>
<a class='timestamp' href='#455663'><time timestamp='2016-03-09T20:50:00Z'>20:50</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I just hope I made the right design choices... always unsure about C vs C++
<br>
</div>

<div class='talk op-msg' data-timestamp='1457556660' id='455664'>
<a class='timestamp' href='#455664'><time timestamp='2016-03-09T20:51:00Z'>20:51</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jonasschnelli: you&#x27;re not alone :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1457556660' id='455665'>
<a class='timestamp' href='#455665'><time timestamp='2016-03-09T20:51:00Z'>20:51</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
libsecp256k1 started as C++, btw :p
<br>
</div>

<div class='talk op-msg' data-timestamp='1457556660' id='455666'>
<a class='timestamp' href='#455666'><time timestamp='2016-03-09T20:51:00Z'>20:51</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
then C99, then C89
<br>
</div>

<div class='talk op-msg' data-timestamp='1457556660' id='455667'>
<a class='timestamp' href='#455667'><time timestamp='2016-03-09T20:51:00Z'>20:51</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
jonasschnelli: well c++11 adds even more into the mix. It hugely reduces allocations
<br>
</div>

<div class='talk op-msg' data-timestamp='1457556660' id='455668'>
<a class='timestamp' href='#455668'><time timestamp='2016-03-09T20:51:00Z'>20:51</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sipa: ah. Didn&#x27;t know that. But C makes certainly sense for a crypto library... not sure for a SPV library..
<br>
</div>

<div class='talk op-msg' data-timestamp='1457556720' id='455669'>
<a class='timestamp' href='#455669'><time timestamp='2016-03-09T20:52:00Z'>20:52</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
But I kinda like the simpleness and portability of C
<br>
</div>

<div class='talk op-msg' data-timestamp='1457556720' id='455670'>
<a class='timestamp' href='#455670'><time timestamp='2016-03-09T20:52:00Z'>20:52</time></a>
&lt;<span class='nick nick-10'> GitHub95</span>&gt;
[bitcoin] sipa pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/386f4385ab04...c8d2473e6cb0" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/386f4385ab04...c8d2473e6cb0</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1457556720' id='455671'>
<a class='timestamp' href='#455671'><time timestamp='2016-03-09T20:52:00Z'>20:52</time></a>
&lt;<span class='nick nick-10'> GitHub95</span>&gt;
bitcoin/master 9988554 R E Broadley: No &quot;Unknown command&quot; for getaddr command.
<br>
</div>

<div class='talk op-msg' data-timestamp='1457556720' id='455672'>
<a class='timestamp' href='#455672'><time timestamp='2016-03-09T20:52:00Z'>20:52</time></a>
&lt;<span class='nick nick-10'> GitHub95</span>&gt;
bitcoin/master c8d2473 Pieter Wuille: Merge #7642: Avoid &quot;Unknown command&quot; messages when receiving getaddr on outbound c…...
<br>
</div>

<div class='talk op-msg' data-timestamp='1457556780' id='455673'>
<a class='timestamp' href='#455673'><time timestamp='2016-03-09T20:53:00Z'>20:53</time></a>
&lt;<span class='nick nick-8'> GitHub152</span>&gt;
[bitcoin] sipa closed pull request #7642: Avoid &quot;Unknown command&quot; messages when receiving getaddr on outbound c… (master...GetAddrUnknownCommand) <a href="https://github.com/bitcoin/bitcoin/pull/7642" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/7642</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1457556900' id='455674'>
<a class='timestamp' href='#455674'><time timestamp='2016-03-09T20:55:00Z'>20:55</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
sipa: i managed to process where we were mis-aligned wrt threading models. I was far too close to the code to see what you were asking. I&#x27;ll add some notes to the design doc to explain.
<br>
</div>

<div class='talk op-msg' data-timestamp='1457556960' id='455675'>
<a class='timestamp' href='#455675'><time timestamp='2016-03-09T20:56:00Z'>20:56</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
cfields: please don&#x27;t let my comments cause you extra work
<br>
</div>

<div class='talk op-msg' data-timestamp='1457556960' id='455676'>
<a class='timestamp' href='#455676'><time timestamp='2016-03-09T20:56:00Z'>20:56</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i think the model you used is perfect as a lowest-layer replacement for the current network code, and we should work to get it in
<br>
</div>

<div class='talk op-msg' data-timestamp='1457556960' id='455677'>
<a class='timestamp' href='#455677'><time timestamp='2016-03-09T20:56:00Z'>20:56</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
sipa: tl;dr: the event loop is essentially a large wrapper around select/epoll/etc, so thread management must be done a layer above
<br>
</div>

<div class='talk op-msg' data-timestamp='1457557080' id='455678'>
<a class='timestamp' href='#455678'><time timestamp='2016-03-09T20:58:00Z'>20:58</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
sipa: no problem, i just want to be able to explain the design choices, so that discussion was helpful.
<br>
</div>

<div class='talk op-msg' data-timestamp='1457559120' id='455679'>
<a class='timestamp' href='#455679'><time timestamp='2016-03-09T21:32:00Z'>21:32</time></a>
&lt;<span class='nick nick-5'> GitHub45</span>&gt;
[bitcoin] sipa opened pull request #7663: Make the generate RPC call function for non-regtest (master...generatenonreg) <a href="https://github.com/bitcoin/bitcoin/pull/7663" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/7663</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1457559840' id='455680'>
<a class='timestamp' href='#455680'><time timestamp='2016-03-09T21:44:00Z'>21:44</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I&#x27;m concerned about this: <a href="https://github.com/bitcoin/bitcoin/issues/7657" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/7657</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1457560080' id='455681'>
<a class='timestamp' href='#455681'><time timestamp='2016-03-09T21:48:00Z'>21:48</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
My analysis on #1643 was that the change suggested there would potentially cause wallets to be more ground up into small coins; the author there did some simulation and and it least some models saw that effect. (doubling the utxo set size in test case 7, and increasing it by 40% in test case 8). 
<br>
</div>

<div class='talk op-msg' data-timestamp='1457560080' id='455682'>
<a class='timestamp' href='#455682'><time timestamp='2016-03-09T21:48:00Z'>21:48</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
And now we have a user complaining about the effect.
<br>
</div>

<div class='talk op-msg' data-timestamp='1457560260' id='455683'>
<a class='timestamp' href='#455683'><time timestamp='2016-03-09T21:51:00Z'>21:51</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I missed that we merged this.... I think immediate action may be needed to improve the situation, explosion in the utxo set size may take a long time to reverse.
<br>
</div>

<div class='talk op-msg' data-timestamp='1457560260' id='455684'>
<a class='timestamp' href='#455684'><time timestamp='2016-03-09T21:51:00Z'>21:51</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
which PR changed it?
<br>
</div>

<div class='talk op-msg' data-timestamp='1457560260' id='455685'>
<a class='timestamp' href='#455685'><time timestamp='2016-03-09T21:51:00Z'>21:51</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/pull/4906" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/4906</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1457560320' id='455686'>
<a class='timestamp' href='#455686'><time timestamp='2016-03-09T21:52:00Z'>21:52</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sipa: basically the old behavior didn&#x27;t do what it said on the tin, the coin selection would sometimes select extra coins that it technically didn&#x27;t have to select.
<br>
</div>

<div class='talk op-msg' data-timestamp='1457560320' id='455687'>
<a class='timestamp' href='#455687'><time timestamp='2016-03-09T21:52:00Z'>21:52</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
So the change fixed that to prune them out.
<br>
</div>

<div class='talk op-msg' data-timestamp='1457560440' id='455688'>
<a class='timestamp' href='#455688'><time timestamp='2016-03-09T21:54:00Z'>21:54</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
and I&#x27;m wondering if this wasn&#x27;t responsible for the increase we&#x27;ve seen in the utxo growth rate even after filtering out some of the obvious dust-spam.
<br>
</div>

<div class='talk op-msg' data-timestamp='1457560440' id='455689'>
<a class='timestamp' href='#455689'><time timestamp='2016-03-09T21:54:00Z'>21:54</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
perhaps we should make the wallet produce 2 change outputs, where one mimicks the amount sent (mimcks, not equals)
<br>
</div>

<div class='talk op-msg' data-timestamp='1457560500' id='455690'>
<a class='timestamp' href='#455690'><time timestamp='2016-03-09T21:55:00Z'>21:55</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that&#x27;s for privacy, not for utxo optimization, but i expect it to lead to a better distribution of coin sizes to pick from
<br>
</div>

<div class='talk op-msg' data-timestamp='1457560800' id='455691'>
<a class='timestamp' href='#455691'><time timestamp='2016-03-09T22:00:00Z'>22:00</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sipa: I&#x27;ve suggested a scheme before where you do two change outputs and flip a coin: either you split the change amount,  OR you copy the output amount.
<br>
</div>

<div class='talk op-msg' data-timestamp='1457560860' id='455692'>
<a class='timestamp' href='#455692'><time timestamp='2016-03-09T22:01:00Z'>22:01</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(though I suggested doing this only when the change would be fairly large)
<br>
</div>

<div class='talk op-msg' data-timestamp='1457560920' id='455693'>
<a class='timestamp' href='#455693'><time timestamp='2016-03-09T22:02:00Z'>22:02</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
in general I think we should have a scheme which does not select coins but selects &#x27;taint groups&#x27; (maybe a taint group is just a particular scriptpubkey) and spends all the coins in it, subject to some sanity limitation.
<br>
</div>

<div class='talk op-msg' data-timestamp='1457562240' id='455694'>
<a class='timestamp' href='#455694'><time timestamp='2016-03-09T22:24:00Z'>22:24</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
morcos: <a href="https://github.com/theuni/bitcoin/commit/eeda3643766b2110ecf6596d7fb24718412a043a" class="link" target="_blank">https://github.com/theuni/bitcoin/commit/eeda3643766b2110ecf6596d7fb24718412a043a</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1457565420' id='455695'>
<a class='timestamp' href='#455695'><time timestamp='2016-03-09T23:17:00Z'>23:17</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
sipa: re our aes impl. Would you prefer to remove the tables before merge? Or ok to do it as a next step?
<br>
</div>

<div class='talk op-msg' data-timestamp='1457565420' id='455696'>
<a class='timestamp' href='#455696'><time timestamp='2016-03-09T23:17:00Z'>23:17</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
(assuming it wouldn&#x27;t be worse than what we currently have with openssl)
<br>
</div>

<div class='talk op-msg' data-timestamp='1457565780' id='455697'>
<a class='timestamp' href='#455697'><time timestamp='2016-03-09T23:23:00Z'>23:23</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
sipa: by which i mean &quot;would you prefer that i remove the tables&quot; ofc :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1457565840' id='455698'>
<a class='timestamp' href='#455698'><time timestamp='2016-03-09T23:24:00Z'>23:24</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
cfields: i&#x27;m now thinking about how you would implement all of the AES steps without tables
<br>
</div>

<div class='talk op-msg' data-timestamp='1457565900' id='455699'>
<a class='timestamp' href='#455699'><time timestamp='2016-03-09T23:25:00Z'>23:25</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
AES is notoriously painful to do both sidechannel free and fast.
<br>
</div>

<div class='talk op-msg' data-timestamp='1457565900' id='455700'>
<a class='timestamp' href='#455700'><time timestamp='2016-03-09T23:25:00Z'>23:25</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
The tables could be converted into CMOV oblivious lookups, for a big speed hit.
<br>
</div>

<div class='talk op-msg' data-timestamp='1457565960' id='455701'>
<a class='timestamp' href='#455701'><time timestamp='2016-03-09T23:26:00Z'>23:26</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
sipa: ah, our discussion had me believe that there was a standard alternate approach
<br>
</div>

<div class='talk op-msg' data-timestamp='1457566020' id='455702'>
<a class='timestamp' href='#455702'><time timestamp='2016-03-09T23:27:00Z'>23:27</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
cfields: hmm, no; i think you&#x27;ll find plenty of academic work for fast &amp; sidechannel free AES, but nothing standard
<br>
</div>

<div class='talk op-msg' data-timestamp='1457566020' id='455703'>
<a class='timestamp' href='#455703'><time timestamp='2016-03-09T23:27:00Z'>23:27</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
<b>*but*</b> i think AES is trivial to do slow &amp; sidechannel free
<br>
</div>

<div class='talk op-msg' data-timestamp='1457566020' id='455704'>
<a class='timestamp' href='#455704'><time timestamp='2016-03-09T23:27:00Z'>23:27</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
well, constant-time
<br>
</div>

<div class='talk op-msg' data-timestamp='1457566140' id='455705'>
<a class='timestamp' href='#455705'><time timestamp='2016-03-09T23:29:00Z'>23:29</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
hmm, the S-box is nontrivial
<br>
</div>

<div class='talk op-msg' data-timestamp='1457566740' id='455706'>
<a class='timestamp' href='#455706'><time timestamp='2016-03-09T23:39:00Z'>23:39</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i guess you&#x27;ll need a cmov for the sbox
<br>
</div>

<div class='talk op-msg' data-timestamp='1457566800' id='455707'>
<a class='timestamp' href='#455707'><time timestamp='2016-03-09T23:40:00Z'>23:40</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
everything else can be done algebraically... the first thing besides the S-box is a GF(2^8) multiplication by 3
<br>
</div>

<div class='talk op-msg' data-timestamp='1457566800' id='455708'>
<a class='timestamp' href='#455708'><time timestamp='2016-03-09T23:40:00Z'>23:40</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
s/first thing/worst thing/
<br>
</div>

<div class='talk op-msg' data-timestamp='1457566920' id='455709'>
<a class='timestamp' href='#455709'><time timestamp='2016-03-09T23:42:00Z'>23:42</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
gmaxwell: re: #4906, i flagged that shortly after it got merged echoing your concerns.  wumpus asked us if we should revert it and you and i both told him no. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1457566980' id='455710'>
<a class='timestamp' href='#455710'><time timestamp='2016-03-09T23:43:00Z'>23:43</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
lol
<br>
</div>

<div class='talk op-msg' data-timestamp='1457566980' id='455711'>
<a class='timestamp' href='#455711'><time timestamp='2016-03-09T23:43:00Z'>23:43</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
gmaxwell: i think its unlikely that its had much of an effect on utxo set already, b/c its only been included since 0.12 right?  but this is an example of something that we&#x27;ll all forget about revisiting in time for 0.13 if we don&#x27;t put it on a list somewhere
<br>
</div>

<div class='talk op-msg' data-timestamp='1457567040' id='455712'>
<a class='timestamp' href='#455712'><time timestamp='2016-03-09T23:44:00Z'>23:44</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
morcos: it&#x27;s been merged for a while, so it may be the case that people running pre-releases have had an effect.
<br>
</div>

<div class='talk op-msg' data-timestamp='1457567040' id='455713'>
<a class='timestamp' href='#455713'><time timestamp='2016-03-09T23:44:00Z'>23:44</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
certantly if it is the cause of this user&#x27;s complaint it&#x27;s a cause for concern. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1457567040' id='455714'>
<a class='timestamp' href='#455714'><time timestamp='2016-03-09T23:44:00Z'>23:44</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
But I think we wouldn&#x27;t revert regardless, we would move forward.
<br>
</div>

<div class='talk op-msg' data-timestamp='1457567100' id='455715'>
<a class='timestamp' href='#455715'><time timestamp='2016-03-09T23:45:00Z'>23:45</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
Should we maintain an issue that includes goals for 0.13, or open a new issue and tag it with milestone 0.13 or something..  it&#x27;d be nice if we were more organized about this stuff
<br>
</div>

<div class='talk op-msg' data-timestamp='1457567160' id='455716'>
<a class='timestamp' href='#455716'><time timestamp='2016-03-09T23:46:00Z'>23:46</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I think perhaps one reason I also might have said to not revert it was a belief that we&#x27;d move forward and further fix the issue before the release but then it fell off the radar.  A milestoned issue would probably be fine.
<br>
</div>

<div class='talk op-msg' data-timestamp='1457567580' id='455717'>
<a class='timestamp' href='#455717'><time timestamp='2016-03-09T23:53:00Z'>23:53</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
ttps://github.com/bitcoin/bitcoin/issues/7664
<br>
</div>

<div class='talk op-msg' data-timestamp='1457567580' id='455718'>
<a class='timestamp' href='#455718'><time timestamp='2016-03-09T23:53:00Z'>23:53</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
oops
<br>
</div>

</div>
</section>

</body>
</html>
