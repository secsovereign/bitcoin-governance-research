<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2017-02-16
 — 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2017-02-16' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:24 UTC</pre>
<pre><a href="/bitcoin-core-dev/2017-01-16">&lt;</a><span class='header'>  February 2017   </span><a href="/bitcoin-core-dev/2017-03-16">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;          <a class="" href="/bitcoin-core-dev/2017-02-01">1</a>  <a class="" href="/bitcoin-core-dev/2017-02-02">2</a>  <a class="" href="/bitcoin-core-dev/2017-02-03">3</a>  <a class="" href="/bitcoin-core-dev/2017-02-04">4</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2017-02-05">5</a>  <a class="" href="/bitcoin-core-dev/2017-02-06">6</a>  <a class="" href="/bitcoin-core-dev/2017-02-07">7</a>  <a class="" href="/bitcoin-core-dev/2017-02-08">8</a>  <a class="" href="/bitcoin-core-dev/2017-02-09">9</a> <a class="" href="/bitcoin-core-dev/2017-02-10">10</a> <a class="" href="/bitcoin-core-dev/2017-02-11">11</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2017-02-12">12</a> <a class="" href="/bitcoin-core-dev/2017-02-13">13</a> <a class="" href="/bitcoin-core-dev/2017-02-14">14</a> <a class="" href="/bitcoin-core-dev/2017-02-15">15</a> <a class="current" href="/bitcoin-core-dev/2017-02-16">16</a> <a class="" href="/bitcoin-core-dev/2017-02-17">17</a> <a class="" href="/bitcoin-core-dev/2017-02-18">18</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2017-02-19">19</a> <a class="" href="/bitcoin-core-dev/2017-02-20">20</a> <a class="" href="/bitcoin-core-dev/2017-02-21">21</a> <a class="" href="/bitcoin-core-dev/2017-02-22">22</a> <a class="" href="/bitcoin-core-dev/2017-02-23">23</a> <a class="" href="/bitcoin-core-dev/2017-02-24">24</a> <a class="" href="/bitcoin-core-dev/2017-02-25">25</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2017-02-26">26</a> <a class="" href="/bitcoin-core-dev/2017-02-27">27</a> <a class="" href="/bitcoin-core-dev/2017-02-28">28</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1487208060' id='528361'>
<a class='timestamp' href='#528361'><time timestamp='2017-02-16T01:21:00Z'>01:21</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jmcorgan opened pull request #9774: Enable host lookups for -proxy and -onion parameters (master...hostname-lookups) <a href="https://github.com/bitcoin/bitcoin/pull/9774" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9774</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1487236980' id='528362'>
<a class='timestamp' href='#528362'><time timestamp='2017-02-16T09:23:00Z'>09:23</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I think today is a good day to wrap up 0.14
<br>
</div>

<div class='talk op-msg' data-timestamp='1487237040' id='528363'>
<a class='timestamp' href='#528363'><time timestamp='2017-02-16T09:24:00Z'>09:24</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/7a93af8340d9...1e92e041ddc8" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/7a93af8340d9...1e92e041ddc8</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1487237040' id='528364'>
<a class='timestamp' href='#528364'><time timestamp='2017-02-16T09:24:00Z'>09:24</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master ba803ef Suhas Daftuar: Harden against mistakes handling invalid blocks...
<br>
</div>

<div class='talk op-msg' data-timestamp='1487237040' id='528365'>
<a class='timestamp' href='#528365'><time timestamp='2017-02-16T09:24:00Z'>09:24</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 1e92e04 Wladimir J. van der Laan: Merge #9765: Harden against mistakes handling invalid blocks...
<br>
</div>

<div class='talk op-msg' data-timestamp='1487237040' id='528366'>
<a class='timestamp' href='#528366'><time timestamp='2017-02-16T09:24:00Z'>09:24</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj closed pull request #9765: Harden against mistakes handling invalid blocks (master...fix-checkblock-call) <a href="https://github.com/bitcoin/bitcoin/pull/9765" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9765</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1487237040' id='528367'>
<a class='timestamp' href='#528367'><time timestamp='2017-02-16T09:24:00Z'>09:24</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/1e92e041ddc8...f8af89a91820" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/1e92e041ddc8...f8af89a91820</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1487237040' id='528368'>
<a class='timestamp' href='#528368'><time timestamp='2017-02-16T09:24:00Z'>09:24</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 6c5427d Wladimir J. van der Laan: wallet: Prevent &quot;overrides a member function but is not marked &#x27;override&#x27;&quot; warnings...
<br>
</div>

<div class='talk op-msg' data-timestamp='1487237040' id='528369'>
<a class='timestamp' href='#528369'><time timestamp='2017-02-16T09:24:00Z'>09:24</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master f8af89a Wladimir J. van der Laan: Merge #9764: wallet: Prevent &quot;overrides a member function but is not marked &#x27;override&#x27;&quot; warnings...
<br>
</div>

<div class='talk op-msg' data-timestamp='1487237100' id='528370'>
<a class='timestamp' href='#528370'><time timestamp='2017-02-16T09:25:00Z'>09:25</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj closed pull request #9764: wallet: Prevent &quot;overrides a member function but is not marked &#x27;override&#x27;&quot; warnings (master...2017_02_wallet_inconsistent_missing_override) <a href="https://github.com/bitcoin/bitcoin/pull/9764" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9764</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1487237400' id='528371'>
<a class='timestamp' href='#528371'><time timestamp='2017-02-16T09:30:00Z'>09:30</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/f8af89a91820...e43a58514dd3" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/f8af89a91820...e43a58514dd3</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1487237400' id='528372'>
<a class='timestamp' href='#528372'><time timestamp='2017-02-16T09:30:00Z'>09:30</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 07afcd6 Russell Yanofsky: Add missing cs_wallet lock that triggers new lock held assertion...
<br>
</div>

<div class='talk op-msg' data-timestamp='1487237400' id='528373'>
<a class='timestamp' href='#528373'><time timestamp='2017-02-16T09:30:00Z'>09:30</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master e43a585 Wladimir J. van der Laan: Merge #9771: Add missing cs_wallet lock that triggers new lock held assertion...
<br>
</div>

<div class='talk op-msg' data-timestamp='1487237460' id='528374'>
<a class='timestamp' href='#528374'><time timestamp='2017-02-16T09:31:00Z'>09:31</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj closed pull request #9771: Add missing cs_wallet lock that triggers new lock held assertion (master...pr/loadlock) <a href="https://github.com/bitcoin/bitcoin/pull/9771" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9771</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1487237700' id='528375'>
<a class='timestamp' href='#528375'><time timestamp='2017-02-16T09:35:00Z'>09:35</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
should #9524 be marked 0.14?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487237700' id='528376'>
<a class='timestamp' href='#528376'><time timestamp='2017-02-16T09:35:00Z'>09:35</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/9524" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/9524</a> | rpc: Dont FlushStateToDisk when pruneblockchain(0) by MarcoFalke · Pull Request #9524 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1487237760' id='528377'>
<a class='timestamp' href='#528377'><time timestamp='2017-02-16T09:36:00Z'>09:36</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I don&#x27;t know. I&#x27;d say let&#x27;s not add more stuff now and try to get a rc1 wrapped up
<br>
</div>

<div class='talk op-msg' data-timestamp='1487237820' id='528378'>
<a class='timestamp' href='#528378'><time timestamp='2017-02-16T09:37:00Z'>09:37</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it&#x27;s a release candidate to get more testing
<br>
</div>

<div class='talk op-msg' data-timestamp='1487237820' id='528379'>
<a class='timestamp' href='#528379'><time timestamp='2017-02-16T09:37:00Z'>09:37</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
issues will always be found in RCs of major releases
<br>
</div>

<div class='talk op-msg' data-timestamp='1487237820' id='528380'>
<a class='timestamp' href='#528380'><time timestamp='2017-02-16T09:37:00Z'>09:37</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
sure
<br>
</div>

<div class='talk op-msg' data-timestamp='1487237820' id='528381'>
<a class='timestamp' href='#528381'><time timestamp='2017-02-16T09:37:00Z'>09:37</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
9524 looks harmless.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487237820' id='528382'>
<a class='timestamp' href='#528382'><time timestamp='2017-02-16T09:37:00Z'>09:37</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
we can keep pushing this forward indefinitely and just not do releases anymore :/
<br>
</div>

<div class='talk op-msg' data-timestamp='1487237820' id='528383'>
<a class='timestamp' href='#528383'><time timestamp='2017-02-16T09:37:00Z'>09:37</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
not saying it needs to get into rc1, just hoping to avoid thigns being overlooked before final
<br>
</div>

<div class='talk op-msg' data-timestamp='1487237820' id='528384'>
<a class='timestamp' href='#528384'><time timestamp='2017-02-16T09:37:00Z'>09:37</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
wumpus: would solve so many problems!
<br>
</div>

<div class='talk op-msg' data-timestamp='1487237880' id='528385'>
<a class='timestamp' href='#528385'><time timestamp='2017-02-16T09:38:00Z'>09:38</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
luke-jr: I don&#x27;t think that should go into 0.14.0, unless it has some effect I&#x27;m missing.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487237880' id='528386'>
<a class='timestamp' href='#528386'><time timestamp='2017-02-16T09:38:00Z'>09:38</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it&#x27;s under-discussed and under-reviewed
<br>
</div>

<div class='talk op-msg' data-timestamp='1487237880' id='528387'>
<a class='timestamp' href='#528387'><time timestamp='2017-02-16T09:38:00Z'>09:38</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
by harmless I mean don&#x27;t do it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487237880' id='528388'>
<a class='timestamp' href='#528388'><time timestamp='2017-02-16T09:38:00Z'>09:38</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
The question is &quot;what bad expirence will the user or network have as a result of this not going in&quot; if the answer is none we shouldn&#x27;t even be remotely considering it now.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487237940' id='528389'>
<a class='timestamp' href='#528389'><time timestamp='2017-02-16T09:39:00Z'>09:39</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I mean the thing it fixes does not meet the above test ^, sorry for being unclear.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487237940' id='528390'>
<a class='timestamp' href='#528390'><time timestamp='2017-02-16T09:39:00Z'>09:39</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
oh I agree then :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1487237940' id='528391'>
<a class='timestamp' href='#528391'><time timestamp='2017-02-16T09:39:00Z'>09:39</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
pruneblockchain(0) would probably delete a lot of data the user doesn&#x27;t intend
<br>
</div>

<div class='talk op-msg' data-timestamp='1487237940' id='528392'>
<a class='timestamp' href='#528392'><time timestamp='2017-02-16T09:39:00Z'>09:39</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
okay, that would be bad.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487237940' id='528393'>
<a class='timestamp' href='#528393'><time timestamp='2017-02-16T09:39:00Z'>09:39</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
wait, the argument there is what, /me looks
<br>
</div>

<div class='talk op-msg' data-timestamp='1487238000' id='528394'>
<a class='timestamp' href='#528394'><time timestamp='2017-02-16T09:40:00Z'>09:40</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
at least as I understand it, the 0 indicates the node should automatically prune up to tip minus saved-amount
<br>
</div>

<div class='talk op-msg' data-timestamp='1487238000' id='528395'>
<a class='timestamp' href='#528395'><time timestamp='2017-02-16T09:40:00Z'>09:40</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
your are misunderstanding it luke-jr
<br>
</div>

<div class='talk op-msg' data-timestamp='1487238000' id='528396'>
<a class='timestamp' href='#528396'><time timestamp='2017-02-16T09:40:00Z'>09:40</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
argument 0 means <b>*do nothing*</b>
<br>
</div>

<div class='talk op-msg' data-timestamp='1487238000' id='528397'>
<a class='timestamp' href='#528397'><time timestamp='2017-02-16T09:40:00Z'>09:40</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it doesn&#x27;t delete anythhing in that case
<br>
</div>

<div class='talk op-msg' data-timestamp='1487238000' id='528398'>
<a class='timestamp' href='#528398'><time timestamp='2017-02-16T09:40:00Z'>09:40</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it just flushes to disk
<br>
</div>

<div class='talk op-msg' data-timestamp='1487238000' id='528399'>
<a class='timestamp' href='#528399'><time timestamp='2017-02-16T09:40:00Z'>09:40</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
who cares :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1487238060' id='528400'>
<a class='timestamp' href='#528400'><time timestamp='2017-02-16T09:41:00Z'>09:41</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
That was what I got out of the PR.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487238060' id='528401'>
<a class='timestamp' href='#528401'><time timestamp='2017-02-16T09:41:00Z'>09:41</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
that PR bypasses the flush, I didn&#x27;t regard that as very important as it&#x27;s a NOOP anyway
<br>
</div>

<div class='talk op-msg' data-timestamp='1487238060' id='528402'>
<a class='timestamp' href='#528402'><time timestamp='2017-02-16T09:41:00Z'>09:41</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
If it did what luke said-- prune as hard as allowed--, that would be worth fixing before final.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487238060' id='528403'>
<a class='timestamp' href='#528403'><time timestamp='2017-02-16T09:41:00Z'>09:41</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
what am I missing?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487238060' id='528404'>
<a class='timestamp' href='#528404'><time timestamp='2017-02-16T09:41:00Z'>09:41</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
what you are missing is that pruneblockchain(0) already does nothing besides a FlushToDIsk
<br>
</div>

<div class='talk op-msg' data-timestamp='1487238120' id='528405'>
<a class='timestamp' href='#528405'><time timestamp='2017-02-16T09:42:00Z'>09:42</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
FlushStateToDisk with 0 triggers FindFilesToPrune(setFilesToPrune, chainparams.PruneAfterHeight()); etc
<br>
</div>

<div class='talk op-msg' data-timestamp='1487238120' id='528406'>
<a class='timestamp' href='#528406'><time timestamp='2017-02-16T09:42:00Z'>09:42</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
that PR takes away the FlushToDisk
<br>
</div>

<div class='talk op-msg' data-timestamp='1487238120' id='528407'>
<a class='timestamp' href='#528407'><time timestamp='2017-02-16T09:42:00Z'>09:42</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
&quot;It might cause unwanted bugs if someone refactors the code in the future.&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1487238120' id='528408'>
<a class='timestamp' href='#528408'><time timestamp='2017-02-16T09:42:00Z'>09:42</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
that&#x27;s all
<br>
</div>

<div class='talk op-msg' data-timestamp='1487238180' id='528409'>
<a class='timestamp' href='#528409'><time timestamp='2017-02-16T09:43:00Z'>09:43</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
which we can consider for 0.15, but there will be no refactors of that code in the future of 0.14, so it&#x27;s pointless there
<br>
</div>

<div class='talk op-msg' data-timestamp='1487238180' id='528410'>
<a class='timestamp' href='#528410'><time timestamp='2017-02-16T09:43:00Z'>09:43</time></a>
&lt;<span class='nick nick-2'> * gmaxwell</span>&gt;
risks his laptop node.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487238420' id='528411'>
<a class='timestamp' href='#528411'><time timestamp='2017-02-16T09:47:00Z'>09:47</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
luke-jr: so just calling that with 0 throws cannot prune because not in prune mode.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487238420' id='528412'>
<a class='timestamp' href='#528412'><time timestamp='2017-02-16T09:47:00Z'>09:47</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
what manual pruning is enabled?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487238420' id='528413'>
<a class='timestamp' href='#528413'><time timestamp='2017-02-16T09:47:00Z'>09:47</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
trying.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487238480' id='528414'>
<a class='timestamp' href='#528414'><time timestamp='2017-02-16T09:48:00Z'>09:48</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
pfft. it&#x27;s yelling at me because of txindex. @#$@
<br>
</div>

<div class='talk op-msg' data-timestamp='1487238480' id='528415'>
<a class='timestamp' href='#528415'><time timestamp='2017-02-16T09:48:00Z'>09:48</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
&gt;_&lt;     
<br>
</div>

<div class='talk op-msg' data-timestamp='1487238540' id='528416'>
<a class='timestamp' href='#528416'><time timestamp='2017-02-16T09:49:00Z'>09:49</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
so to do that test I&#x27;d have to reindex which would probably take days on this thing. :-/ and my other nodes are busy now with important test.s
<br>
</div>

<div class='talk op-msg' data-timestamp='1487238540' id='528417'>
<a class='timestamp' href='#528417'><time timestamp='2017-02-16T09:49:00Z'>09:49</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I will test before 0.14 release however, if no one else does.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487238540' id='528418'>
<a class='timestamp' href='#528418'><time timestamp='2017-02-16T09:49:00Z'>09:49</time></a>
&lt;<span class='nick nick-8'> Victorsueca</span>&gt;
need testing?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487238600' id='528419'>
<a class='timestamp' href='#528419'><time timestamp='2017-02-16T09:50:00Z'>09:50</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
if you don&#x27;t mind blowing away your blockchain if luke is right.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487238600' id='528420'>
<a class='timestamp' href='#528420'><time timestamp='2017-02-16T09:50:00Z'>09:50</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
ideally <b>*disabling*</b> txindex would not require a rescan, but meh :) I&#x27;ll test it
<br>
</div>

<div class='talk op-msg' data-timestamp='1487238600' id='528421'>
<a class='timestamp' href='#528421'><time timestamp='2017-02-16T09:50:00Z'>09:50</time></a>
&lt;<span class='nick nick-3'> * wumpus</span>&gt;
well test, has about 50 copies of the blockchain anyhow
<br>
</div>

<div class='talk op-msg' data-timestamp='1487238600' id='528422'>
<a class='timestamp' href='#528422'><time timestamp='2017-02-16T09:50:00Z'>09:50</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Start a node without txindex with prune=1, then run pruneblockchain 0 and verify all your blocks didn&#x27;t just suddenly go away (e.g. freeing up 100 GB of disk space).
<br>
</div>

<div class='talk op-msg' data-timestamp='1487238660' id='528423'>
<a class='timestamp' href='#528423'><time timestamp='2017-02-16T09:51:00Z'>09:51</time></a>
&lt;<span class='nick nick-8'> Victorsueca</span>&gt;
ummm, I&#x27;ll make a backup of my current chain, it probably won&#x27;t be in time to test this one, but i&#x27;ll be ready for future chain-blowing PRs
<br>
</div>

<div class='talk op-msg' data-timestamp='1487238720' id='528424'>
<a class='timestamp' href='#528424'><time timestamp='2017-02-16T09:52:00Z'>09:52</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
possibly no need to even copy, would hard-linking all but the latest block file work?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487238720' id='528425'>
<a class='timestamp' href='#528425'><time timestamp='2017-02-16T09:52:00Z'>09:52</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
not sure we have a way to restore such a backup without the chainstate
<br>
</div>

<div class='talk op-msg' data-timestamp='1487238720' id='528426'>
<a class='timestamp' href='#528426'><time timestamp='2017-02-16T09:52:00Z'>09:52</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
okay, definitely not going to try that at the same time
<br>
</div>

<div class='talk op-msg' data-timestamp='1487238780' id='528427'>
<a class='timestamp' href='#528427'><time timestamp='2017-02-16T09:53:00Z'>09:53</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
luke-jr: why is it a problem in this case to copy the chainstate too?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487238780' id='528428'>
<a class='timestamp' href='#528428'><time timestamp='2017-02-16T09:53:00Z'>09:53</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
wumpus: it might not be, just saying in case copying it also wasn&#x27;t obvious
<br>
</div>

<div class='talk op-msg' data-timestamp='1487238780' id='528429'>
<a class='timestamp' href='#528429'><time timestamp='2017-02-16T09:53:00Z'>09:53</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
FS with cow would be nice for some of these tests.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487238840' id='528430'>
<a class='timestamp' href='#528430'><time timestamp='2017-02-16T09:54:00Z'>09:54</time></a>
&lt;<span class='nick nick-14'> * luke-jr</span>&gt;
does have a CoW filesystem, but also has txindex enabled etc.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487238840' id='528431'>
<a class='timestamp' href='#528431'><time timestamp='2017-02-16T09:54:00Z'>09:54</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
luke-jr: if you don&#x27;t copy the chainstate, all it can do is a reindex
<br>
</div>

<div class='talk op-msg' data-timestamp='1487238900' id='528432'>
<a class='timestamp' href='#528432'><time timestamp='2017-02-16T09:55:00Z'>09:55</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
I suppose a unit test could check this, but seems probably too bug-specific
<br>
</div>

<div class='talk op-msg' data-timestamp='1487238900' id='528433'>
<a class='timestamp' href='#528433'><time timestamp='2017-02-16T09:55:00Z'>09:55</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
s/unit/rpc/
<br>
</div>

<div class='talk op-msg' data-timestamp='1487238900' id='528434'>
<a class='timestamp' href='#528434'><time timestamp='2017-02-16T09:55:00Z'>09:55</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
well if this turns out to be a regression then a regression test could be added for it, but if this never was a bug in the first place...
<br>
</div>

<div class='talk op-msg' data-timestamp='1487238900' id='528435'>
<a class='timestamp' href='#528435'><time timestamp='2017-02-16T09:55:00Z'>09:55</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
0.13 didn&#x27;t support manual pruning afaik
<br>
</div>

<div class='talk op-msg' data-timestamp='1487238960' id='528436'>
<a class='timestamp' href='#528436'><time timestamp='2017-02-16T09:56:00Z'>09:56</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
then we&#x27;re just chasing ghosts
<br>
</div>

<div class='talk op-msg' data-timestamp='1487239020' id='528437'>
<a class='timestamp' href='#528437'><time timestamp='2017-02-16T09:57:00Z'>09:57</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
though testing it in regtest instead of a live node is a very good idea
<br>
</div>

<div class='talk op-msg' data-timestamp='1487239140' id='528438'>
<a class='timestamp' href='#528438'><time timestamp='2017-02-16T09:59:00Z'>09:59</time></a>
&lt;<span class='nick nick-8'> Victorsueca</span>&gt;
so, if I copy the blocks and chainstate folder it should be enough right?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487239140' id='528439'>
<a class='timestamp' href='#528439'><time timestamp='2017-02-16T09:59:00Z'>09:59</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes     
<br>
</div>

<div class='talk op-msg' data-timestamp='1487239200' id='528440'>
<a class='timestamp' href='#528440'><time timestamp='2017-02-16T10:00:00Z'>10:00</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
Victorsueca: may need to be sure the node is stopped when you copy
<br>
</div>

<div class='talk op-msg' data-timestamp='1487239200' id='528441'>
<a class='timestamp' href='#528441'><time timestamp='2017-02-16T10:00:00Z'>10:00</time></a>
&lt;<span class='nick nick-8'> Victorsueca</span>&gt;
ok     
<br>
</div>

<div class='talk op-msg' data-timestamp='1487239260' id='528442'>
<a class='timestamp' href='#528442'><time timestamp='2017-02-16T10:01:00Z'>10:01</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
oh absolutely, don&#x27;t do anything low-level with the data files without stopping, that shouldn&#x27;t have to be said
<br>
</div>

<div class='talk op-msg' data-timestamp='1487239320' id='528443'>
<a class='timestamp' href='#528443'><time timestamp='2017-02-16T10:02:00Z'>10:02</time></a>
&lt;<span class='nick nick-8'> Victorsueca</span>&gt;
yeah it&#x27;s stopped, the windows that tells me to wait disappeared too
<br>
</div>

<div class='talk op-msg' data-timestamp='1487239320' id='528444'>
<a class='timestamp' href='#528444'><time timestamp='2017-02-16T10:02:00Z'>10:02</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
on windows, copying <b>*from*</b> the bitcoin folder while bitcoin core is running can even cause it to crash
<br>
</div>

<div class='talk op-msg' data-timestamp='1487239320' id='528445'>
<a class='timestamp' href='#528445'><time timestamp='2017-02-16T10:02:00Z'>10:02</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
stupid file locking
<br>
</div>

<div class='talk op-msg' data-timestamp='1487239320' id='528446'>
<a class='timestamp' href='#528446'><time timestamp='2017-02-16T10:02:00Z'>10:02</time></a>
&lt;<span class='nick nick-8'> Victorsueca</span>&gt;
rlly? copying?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487239320' id='528447'>
<a class='timestamp' href='#528447'><time timestamp='2017-02-16T10:02:00Z'>10:02</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/8250" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/8250</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1487239380' id='528448'>
<a class='timestamp' href='#528448'><time timestamp='2017-02-16T10:03:00Z'>10:03</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
not sure why, I&#x27;m not aware ldb does anything special while opening the files
<br>
</div>

<div class='talk op-msg' data-timestamp='1487239380' id='528449'>
<a class='timestamp' href='#528449'><time timestamp='2017-02-16T10:03:00Z'>10:03</time></a>
&lt;<span class='nick nick-8'> Victorsueca</span>&gt;
maybe something related with atomic locks?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487239440' id='528450'>
<a class='timestamp' href='#528450'><time timestamp='2017-02-16T10:04:00Z'>10:04</time></a>
&lt;<span class='nick nick-14'> * luke-jr</span>&gt;
found it curious to see a Windows user actively using a &quot;file unlocker&quot; program like it was normal
<br>
</div>

<div class='talk op-msg' data-timestamp='1487239500' id='528451'>
<a class='timestamp' href='#528451'><time timestamp='2017-02-16T10:05:00Z'>10:05</time></a>
&lt;<span class='nick nick-8'> Victorsueca</span>&gt;
windows file locking is great at preventing programs from crashing due to files that where expected to be there and now are not
<br>
</div>

<div class='talk op-msg' data-timestamp='1487239500' id='528452'>
<a class='timestamp' href='#528452'><time timestamp='2017-02-16T10:05:00Z'>10:05</time></a>
&lt;<span class='nick nick-8'> Victorsueca</span>&gt;
but it&#x27;s stupid in most cases
<br>
</div>

<div class='talk op-msg' data-timestamp='1487239500' id='528453'>
<a class='timestamp' href='#528453'><time timestamp='2017-02-16T10:05:00Z'>10:05</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes, it&#x27;s great at preventing programs from crashing... we see that :-)
<br>
</div>

<div class='talk op-msg' data-timestamp='1487239500' id='528454'>
<a class='timestamp' href='#528454'><time timestamp='2017-02-16T10:05:00Z'>10:05</time></a>
&lt;<span class='nick nick-8'> Victorsueca</span>&gt;
lol     
<br>
</div>

<div class='talk op-msg' data-timestamp='1487239560' id='528455'>
<a class='timestamp' href='#528455'><time timestamp='2017-02-16T10:06:00Z'>10:06</time></a>
&lt;<span class='nick nick-8'> Victorsueca</span>&gt;
let&#x27;s just say the remedy is worst than the ill
<br>
</div>

<div class='talk op-msg' data-timestamp='1487239560' id='528456'>
<a class='timestamp' href='#528456'><time timestamp='2017-02-16T10:06:00Z'>10:06</time></a>
&lt;<span class='nick nick-8'> Victorsueca</span>&gt;
it could be way better implemented
<br>
</div>

<div class='talk op-msg' data-timestamp='1487239560' id='528457'>
<a class='timestamp' href='#528457'><time timestamp='2017-02-16T10:06:00Z'>10:06</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it&#x27;s probably not that bad if you take extensive time to study the APIs involved and use them as they are supposed to be, but who has time to do native development for every special snowflake platform :/
<br>
</div>

<div class='talk op-msg' data-timestamp='1487239620' id='528458'>
<a class='timestamp' href='#528458'><time timestamp='2017-02-16T10:07:00Z'>10:07</time></a>
&lt;<span class='nick nick-5'> midnightmagic</span>&gt;
pure snapshotting would work just fine for this, if you could convince the software to lock all files prior to the snapshot, or guarantee a write barrier
<br>
</div>

<div class='talk op-msg' data-timestamp='1487239680' id='528459'>
<a class='timestamp' href='#528459'><time timestamp='2017-02-16T10:08:00Z'>10:08</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
the annoying thing with microsoft has always been that they take existing concepts then change them slightly, just enough to be incompatible and lock you in a bit
<br>
</div>

<div class='talk op-msg' data-timestamp='1487239680' id='528460'>
<a class='timestamp' href='#528460'><time timestamp='2017-02-16T10:08:00Z'>10:08</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
POSIX? forget it
<br>
</div>

<div class='talk op-msg' data-timestamp='1487239800' id='528461'>
<a class='timestamp' href='#528461'><time timestamp='2017-02-16T10:10:00Z'>10:10</time></a>
&lt;<span class='nick nick-5'> midnightmagic</span>&gt;
windows file locking works fine for monolithic files that are only modified by the software modifying them, even in 10,000+ user database environments far busier than I suspect bitcoin&#x27;s databases will ever be.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487239800' id='528462'>
<a class='timestamp' href='#528462'><time timestamp='2017-02-16T10:10:00Z'>10:10</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
I thought Windows was POSIX compatible?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487239800' id='528463'>
<a class='timestamp' href='#528463'><time timestamp='2017-02-16T10:10:00Z'>10:10</time></a>
&lt;<span class='nick nick-5'> midnightmagic</span>&gt;
Windows has POSIX emulation layers but they all operate differently than UNIX. For example, when a file is locked, it is a much harder lock than its POSIX-style equivalents on other systems.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487239860' id='528464'>
<a class='timestamp' href='#528464'><time timestamp='2017-02-16T10:11:00Z'>10:11</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it tries, a bit, the devil is in the details
<br>
</div>

<div class='talk op-msg' data-timestamp='1487239860' id='528465'>
<a class='timestamp' href='#528465'><time timestamp='2017-02-16T10:11:00Z'>10:11</time></a>
&lt;<span class='nick nick-5'> midnightmagic</span>&gt;
You can delete a file which is locked, which zeroes it, but you can&#x27;t subsequently recreate a file with the same *name*.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487239860' id='528466'>
<a class='timestamp' href='#528466'><time timestamp='2017-02-16T10:11:00Z'>10:11</time></a>
&lt;<span class='nick nick-5'> midnightmagic</span>&gt;
(for example)
<br>
</div>

<div class='talk op-msg' data-timestamp='1487239920' id='528467'>
<a class='timestamp' href='#528467'><time timestamp='2017-02-16T10:12:00Z'>10:12</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
O.o     
<br>
</div>

<div class='talk op-msg' data-timestamp='1487239920' id='528468'>
<a class='timestamp' href='#528468'><time timestamp='2017-02-16T10:12:00Z'>10:12</time></a>
&lt;<span class='nick nick-5'> midnightmagic</span>&gt;
(external to the program which has the file locked)
<br>
</div>

<div class='talk op-msg' data-timestamp='1487239980' id='528469'>
<a class='timestamp' href='#528469'><time timestamp='2017-02-16T10:13:00Z'>10:13</time></a>
&lt;<span class='nick nick-5'> midnightmagic</span>&gt;
There are other operations which are virtually impossible to guarantee the atomicity of, even with the POSIX compatibility layer because all the things we take for granted are emulated badly, as wumpus implies.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487239980' id='528470'>
<a class='timestamp' href='#528470'><time timestamp='2017-02-16T10:13:00Z'>10:13</time></a>
&lt;<span class='nick nick-8'> Victorsueca</span>&gt;
I think the problem is at assertions
<br>
</div>

<div class='talk op-msg' data-timestamp='1487239980' id='528471'>
<a class='timestamp' href='#528471'><time timestamp='2017-02-16T10:13:00Z'>10:13</time></a>
&lt;<span class='nick nick-8'> Victorsueca</span>&gt;
windows file lock asserts a lo of thing that are not always true
<br>
</div>

<div class='talk op-msg' data-timestamp='1487240040' id='528472'>
<a class='timestamp' href='#528472'><time timestamp='2017-02-16T10:14:00Z'>10:14</time></a>
&lt;<span class='nick nick-8'> Victorsueca</span>&gt;
lot*
<br>
</div>

<div class='talk op-msg' data-timestamp='1487240040' id='528473'>
<a class='timestamp' href='#528473'><time timestamp='2017-02-16T10:14:00Z'>10:14</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes it&#x27;s not that windows&#x27;s way doesn&#x27;t work, or even works worse in the abstract sense, it&#x27;s just that they force you to develop platform specific code for everything
<br>
</div>

<div class='talk op-msg' data-timestamp='1487240040' id='528474'>
<a class='timestamp' href='#528474'><time timestamp='2017-02-16T10:14:00Z'>10:14</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
they did that with directx/opengl, with winsock, and the list goes on
<br>
</div>

<div class='talk op-msg' data-timestamp='1487240040' id='528475'>
<a class='timestamp' href='#528475'><time timestamp='2017-02-16T10:14:00Z'>10:14</time></a>
&lt;<span class='nick nick-5'> midnightmagic</span>&gt;
Meanwhile, on Windows it&#x27;s possible to hook file open calls with e.g. realtime virus, but contrary to anti-virus checkboxes, it&#x27;s actually not possible to apply it selectively to a path and not other paths. It&#x27;s all-or-nothing. That&#x27;s why basically anyone running a database with an active realtime virus checker is sitting on a dice-rolling timeline. Eventually, their database will be 
<br>
</div>

<div class='talk op-msg' data-timestamp='1487240040' id='528476'>
<a class='timestamp' href='#528476'><time timestamp='2017-02-16T10:14:00Z'>10:14</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
anyhow, I was testing pruning
<br>
</div>

<div class='talk op-msg' data-timestamp='1487240040' id='528477'>
<a class='timestamp' href='#528477'><time timestamp='2017-02-16T10:14:00Z'>10:14</time></a>
&lt;<span class='nick nick-5'> midnightmagic</span>&gt;
destroyed. And there&#x27;s absolutely nothing anybody can do about it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487240220' id='528478'>
<a class='timestamp' href='#528478'><time timestamp='2017-02-16T10:17:00Z'>10:17</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
okay, tested: pruneblockchain 0 does nothing and returns immediately.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487240220' id='528479'>
<a class='timestamp' href='#528479'><time timestamp='2017-02-16T10:17:00Z'>10:17</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
Arguments: &quot;height&quot;       (numeric, required) The block height to prune up to. May be set to a discrete height, or to a unix timestamp to prune based on block time.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487240460' id='528480'>
<a class='timestamp' href='#528480'><time timestamp='2017-02-16T10:21:00Z'>10:21</time></a>
&lt;<span class='nick nick-8'> Victorsueca</span>&gt;
wumpus: was that on linux or windows?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487240520' id='528481'>
<a class='timestamp' href='#528481'><time timestamp='2017-02-16T10:22:00Z'>10:22</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
linux
<br>
</div>

<div class='talk op-msg' data-timestamp='1487240520' id='528482'>
<a class='timestamp' href='#528482'><time timestamp='2017-02-16T10:22:00Z'>10:22</time></a>
&lt;<span class='nick nick-14'> * luke-jr</span>&gt;
wonders why
<br>
</div>

<div class='talk op-msg' data-timestamp='1487240520' id='528483'>
<a class='timestamp' href='#528483'><time timestamp='2017-02-16T10:22:00Z'>10:22</time></a>
&lt;<span class='nick nick-8'> Victorsueca</span>&gt;
is it useful if I test it on windows now or it&#x27;s about the same for this case?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487240520' id='528484'>
<a class='timestamp' href='#528484'><time timestamp='2017-02-16T10:22:00Z'>10:22</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
well 0 is the genesis block, so pruning from there means not pruning at all
<br>
</div>

<div class='talk op-msg' data-timestamp='1487240520' id='528485'>
<a class='timestamp' href='#528485'><time timestamp='2017-02-16T10:22:00Z'>10:22</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
no, it&#x27;s not useful to test this on other OSes
<br>
</div>

<div class='talk op-msg' data-timestamp='1487240580' id='528486'>
<a class='timestamp' href='#528486'><time timestamp='2017-02-16T10:23:00Z'>10:23</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
wumpus: yes, but the code special-cases 0 as automatic
<br>
</div>

<div class='talk op-msg' data-timestamp='1487240640' id='528487'>
<a class='timestamp' href='#528487'><time timestamp='2017-02-16T10:24:00Z'>10:24</time></a>
&lt;<span class='nick nick-8'> Victorsueca</span>&gt;
maybe that automatic check thought no pruning was needed at all? or that&#x27;s not how it works?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487240640' id='528488'>
<a class='timestamp' href='#528488'><time timestamp='2017-02-16T10:24:00Z'>10:24</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
GAH I can&#x27;t get manual pruning to work at all on regtest. I created a 10000 block chain, started with prune=1, and no matter what I call  pruneblockchain with it does nothing. So I guess my test is invalid :/
<br>
</div>

<div class='talk op-msg' data-timestamp='1487240640' id='528489'>
<a class='timestamp' href='#528489'><time timestamp='2017-02-16T10:24:00Z'>10:24</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
2017-02-16 10:21:21 Prune (Manual): prune_height=1 removed 0 blk/rev pairs 2017-02-16 10:21:40 Prune (Manual): prune_height=100 removed 0 blk/rev pairs 2017-02-16 10:22:25 Prune (Manual): prune_height=1000 removed 0 blk/rev pairs 2017-02-16 10:24:40 Prune (Manual): prune_height=10000 removed 0 blk/rev pairs
<br>
</div>

<div class='talk op-msg' data-timestamp='1487240700' id='528490'>
<a class='timestamp' href='#528490'><time timestamp='2017-02-16T10:25:00Z'>10:25</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
oh shit of course, it will only prune once it gets to another block file
<br>
</div>

<div class='talk op-msg' data-timestamp='1487240700' id='528491'>
<a class='timestamp' href='#528491'><time timestamp='2017-02-16T10:25:00Z'>10:25</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
&gt;_&lt;     
<br>
</div>

<div class='talk op-msg' data-timestamp='1487240760' id='528492'>
<a class='timestamp' href='#528492'><time timestamp='2017-02-16T10:26:00Z'>10:26</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
okay, generating a ton more bloocks
<br>
</div>

<div class='talk op-msg' data-timestamp='1487240760' id='528493'>
<a class='timestamp' href='#528493'><time timestamp='2017-02-16T10:26:00Z'>10:26</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
maybe using a live chain wasn&#x27;t that bad an idea afterall, I now realize
<br>
</div>

<div class='talk op-msg' data-timestamp='1487241600' id='528494'>
<a class='timestamp' href='#528494'><time timestamp='2017-02-16T10:40:00Z'>10:40</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
The help text repeadily uses 1D1ZrZNe3JUo7ZycKEYQQiQAWd9y54F4XZ as an example address. In general I think it&#x27;s unwise to have valid example addresses, but I can&#x27;t find any information about what address it is. It&#x27;s a real working address that has been paid .2488 btc and has spent payments.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487241660' id='528495'>
<a class='timestamp' href='#528495'><time timestamp='2017-02-16T10:41:00Z'>10:41</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
the commit that added it and the related PRs seem to make no mention of the address.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487241660' id='528496'>
<a class='timestamp' href='#528496'><time timestamp='2017-02-16T10:41:00Z'>10:41</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
added by commit a6099ef319a73e2255dca77065600abb22c4f5f8 
<br>
</div>

<div class='talk op-msg' data-timestamp='1487241660' id='528497'>
<a class='timestamp' href='#528497'><time timestamp='2017-02-16T10:41:00Z'>10:41</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
bleh, I thought we got rid of that
<br>
</div>

<div class='talk op-msg' data-timestamp='1487241660' id='528498'>
<a class='timestamp' href='#528498'><time timestamp='2017-02-16T10:41:00Z'>10:41</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
might be gone now, lemme look
<br>
</div>

<div class='talk op-msg' data-timestamp='1487241660' id='528499'>
<a class='timestamp' href='#528499'><time timestamp='2017-02-16T10:41:00Z'>10:41</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
no it&#x27;s still there
<br>
</div>

<div class='talk op-msg' data-timestamp='1487241660' id='528500'>
<a class='timestamp' href='#528500'><time timestamp='2017-02-16T10:41:00Z'>10:41</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
nope, still there.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487241720' id='528501'>
<a class='timestamp' href='#528501'><time timestamp='2017-02-16T10:42:00Z'>10:42</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I vaguely remember that it was replaced with a constant defined in one place, which was not a valid address
<br>
</div>

<div class='talk op-msg' data-timestamp='1487241720' id='528502'>
<a class='timestamp' href='#528502'><time timestamp='2017-02-16T10:42:00Z'>10:42</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
but that must be on another timeline...
<br>
</div>

<div class='talk op-msg' data-timestamp='1487241720' id='528503'>
<a class='timestamp' href='#528503'><time timestamp='2017-02-16T10:42:00Z'>10:42</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I had thought some charity (&#x27;sean&#x27;s outpost&#x27;) address was used (which I also think is not great) but I don&#x27;t see any reason why I might have believed that this was that.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487241720' id='528504'>
<a class='timestamp' href='#528504'><time timestamp='2017-02-16T10:42:00Z'>10:42</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
wumpus: yea, I too spend a lot of time in alternative universes.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487241780' id='528505'>
<a class='timestamp' href='#528505'><time timestamp='2017-02-16T10:43:00Z'>10:43</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
hehe :) oh I think I know, that was for the GUI.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487241840' id='528506'>
<a class='timestamp' href='#528506'><time timestamp='2017-02-16T10:44:00Z'>10:44</time></a>
&lt;<span class='nick nick-8'> Victorsueca</span>&gt;
yeah, the e.g. on the pay to field got changed
<br>
</div>

<div class='talk op-msg' data-timestamp='1487241840' id='528507'>
<a class='timestamp' href='#528507'><time timestamp='2017-02-16T10:44:00Z'>10:44</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
it got put as an example in the pay to field? 0_o
<br>
</div>

<div class='talk op-msg' data-timestamp='1487241900' id='528508'>
<a class='timestamp' href='#528508'><time timestamp='2017-02-16T10:45:00Z'>10:45</time></a>
&lt;<span class='nick nick-8'> Victorsueca</span>&gt;
I vaguely remember some PR requesting to change it by valid looking address that is not really valid
<br>
</div>

<div class='talk op-msg' data-timestamp='1487242080' id='528509'>
<a class='timestamp' href='#528509'><time timestamp='2017-02-16T10:48:00Z'>10:48</time></a>
&lt;<span class='nick nick-8'> Victorsueca</span>&gt;
I&#x27;m using 0.13.2 and now on that field there is 1NS17iag9jJgTHD1VXjvLCEnZuQ3rJDE9L
<br>
</div>

<div class='talk op-msg' data-timestamp='1487242140' id='528510'>
<a class='timestamp' href='#528510'><time timestamp='2017-02-16T10:49:00Z'>10:49</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
yep, not valid, which is what it should be IMO.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487243340' id='528511'>
<a class='timestamp' href='#528511'><time timestamp='2017-02-16T11:09:00Z'>11:09</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes, a non-valid address was put in the pay-to field. That address, too, used to be valid at some time. Although it was terribly hard to type it over because it disappears when you start typing into the field. The RPC example is worse.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487243460' id='528512'>
<a class='timestamp' href='#528512'><time timestamp='2017-02-16T11:11:00Z'>11:11</time></a>
&lt;<span class='nick nick-5'> midnightmagic</span>&gt;
30 helens agree
<br>
</div>

<div class='talk op-msg' data-timestamp='1487243520' id='528513'>
<a class='timestamp' href='#528513'><time timestamp='2017-02-16T11:12:00Z'>11:12</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it reminds me of a dumb mistake I made when I was young, a computer manual had KILL <b>*.*</b> as example for the KILL statement, which deleted. So while trying around I typed that in. Oops, that wiped the entire floppy disk, my dad was angry and I felt really stupid. At least that would have been recoverable, if I knew back then...
<br>
</div>

<div class='talk op-msg' data-timestamp='1487243520' id='528514'>
<a class='timestamp' href='#528514'><time timestamp='2017-02-16T11:12:00Z'>11:12</time></a>
&lt;<span class='nick nick-5'> midnightmagic</span>&gt;
lol     
<br>
</div>

<div class='talk op-msg' data-timestamp='1487243580' id='528515'>
<a class='timestamp' href='#528515'><time timestamp='2017-02-16T11:13:00Z'>11:13</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I could see someone getting confused and copying from the wrong line on their screen... one address looks like any other..
<br>
</div>

<div class='talk op-msg' data-timestamp='1487243580' id='528516'>
<a class='timestamp' href='#528516'><time timestamp='2017-02-16T11:13:00Z'>11:13</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes it&#x27;s pretty easy to copy the entire example
<br>
</div>

<div class='talk op-msg' data-timestamp='1487243640' id='528517'>
<a class='timestamp' href='#528517'><time timestamp='2017-02-16T11:14:00Z'>11:14</time></a>
&lt;<span class='nick nick-5'> midnightmagic</span>&gt;
Who&#x27;s &quot;sje&quot;?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487243640' id='528518'>
<a class='timestamp' href='#528518'><time timestamp='2017-02-16T11:14:00Z'>11:14</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
at least the only sending call where it&#x27;s used is sendmany, and it only sends relatively small amounts
<br>
</div>

<div class='talk op-msg' data-timestamp='1487243700' id='528519'>
<a class='timestamp' href='#528519'><time timestamp='2017-02-16T11:15:00Z'>11:15</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
still it should be replaced with a constant that is not a valid address, likein the GUI
<br>
</div>

<div class='talk op-msg' data-timestamp='1487243760' id='528520'>
<a class='timestamp' href='#528520'><time timestamp='2017-02-16T11:16:00Z'>11:16</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/e43a58514dd3...df2f34dcad55" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/e43a58514dd3...df2f34dcad55</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1487243760' id='528521'>
<a class='timestamp' href='#528521'><time timestamp='2017-02-16T11:16:00Z'>11:16</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master d72fe44 John Newbery: Allow maxsigcachesize to be zero...
<br>
</div>

<div class='talk op-msg' data-timestamp='1487243760' id='528522'>
<a class='timestamp' href='#528522'><time timestamp='2017-02-16T11:16:00Z'>11:16</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master df2f34d Wladimir J. van der Laan: Merge #9770: Allow maxsigcachesize to be zero...
<br>
</div>

<div class='talk op-msg' data-timestamp='1487243820' id='528523'>
<a class='timestamp' href='#528523'><time timestamp='2017-02-16T11:17:00Z'>11:17</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj closed pull request #9770: Allow maxsigcachesize to be zero (master...sigcachemaxsize) <a href="https://github.com/bitcoin/bitcoin/pull/9770" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9770</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1487243820' id='528524'>
<a class='timestamp' href='#528524'><time timestamp='2017-02-16T11:17:00Z'>11:17</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
AARGH wrong PR
<br>
</div>

<div class='talk op-msg' data-timestamp='1487243940' id='528525'>
<a class='timestamp' href='#528525'><time timestamp='2017-02-16T11:19:00Z'>11:19</time></a>
&lt;<span class='nick nick-14'> Lauda</span>&gt;
lol     
<br>
</div>

<div class='talk op-msg' data-timestamp='1487243940' id='528526'>
<a class='timestamp' href='#528526'><time timestamp='2017-02-16T11:19:00Z'>11:19</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
well it could have been worse. It&#x27;s not bad enough to revert
<br>
</div>

<div class='talk op-msg' data-timestamp='1487243940' id='528527'>
<a class='timestamp' href='#528527'><time timestamp='2017-02-16T11:19:00Z'>11:19</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
what did you mean to merge instead?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487244000' id='528528'>
<a class='timestamp' href='#528528'><time timestamp='2017-02-16T11:20:00Z'>11:20</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
9770. Which was just above it on the scren, but I had already signed off on that and it was already merged
<br>
</div>

<div class='talk op-msg' data-timestamp='1487244000' id='528529'>
<a class='timestamp' href='#528529'><time timestamp='2017-02-16T11:20:00Z'>11:20</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
a matter of looking at the wrong line...
<br>
</div>

<div class='talk op-msg' data-timestamp='1487244060' id='528530'>
<a class='timestamp' href='#528530'><time timestamp='2017-02-16T11:21:00Z'>11:21</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
So effective at merging he merges things without even intending to!
<br>
</div>

<div class='talk op-msg' data-timestamp='1487244060' id='528531'>
<a class='timestamp' href='#528531'><time timestamp='2017-02-16T11:21:00Z'>11:21</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
:P     
<br>
</div>

<div class='talk op-msg' data-timestamp='1487244060' id='528532'>
<a class='timestamp' href='#528532'><time timestamp='2017-02-16T11:21:00Z'>11:21</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
#9771, sorry
<br>
</div>

<div class='talk op-msg' data-timestamp='1487244060' id='528533'>
<a class='timestamp' href='#528533'><time timestamp='2017-02-16T11:21:00Z'>11:21</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/9771" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/9771</a> | Add missing cs_wallet lock that triggers new lock held assertion by ryanofsky · Pull Request #9771 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1487244060' id='528534'>
<a class='timestamp' href='#528534'><time timestamp='2017-02-16T11:21:00Z'>11:21</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
well it was kind of a mental stack overflow, I was working on that, then testing the pruning stuff, then the RPC argument stuff came up
<br>
</div>

<div class='talk op-msg' data-timestamp='1487244120' id='528535'>
<a class='timestamp' href='#528535'><time timestamp='2017-02-16T11:22:00Z'>11:22</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
wumpus: nop nop nop nop nop nop nop nop nop nop nop nop nop nop nop nop nop nop nop nop nop nop nop nop nop nop nop nop nop nop nop nop nop nop nop nop nop nop nop nop nop nop nop nop nop nop nop nop nop nop nop send me all your money
<br>
</div>

<div class='talk op-msg' data-timestamp='1487244120' id='528536'>
<a class='timestamp' href='#528536'><time timestamp='2017-02-16T11:22:00Z'>11:22</time></a>
&lt;<span class='nick nick-4'> * Lauda</span>&gt;
offers wumpus more coffee
<br>
</div>

<div class='talk op-msg' data-timestamp='1487244180' id='528537'>
<a class='timestamp' href='#528537'><time timestamp='2017-02-16T11:23:00Z'>11:23</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
so while juggling those things, memory became lossy :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1487244180' id='528538'>
<a class='timestamp' href='#528538'><time timestamp='2017-02-16T11:23:00Z'>11:23</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
gmaxwell: LOL
<br>
</div>

<div class='talk op-msg' data-timestamp='1487244180' id='528539'>
<a class='timestamp' href='#528539'><time timestamp='2017-02-16T11:23:00Z'>11:23</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
gmaxwell: that won&#x27;t work, your address is not in any RPC examples
<br>
</div>

<div class='talk op-msg' data-timestamp='1487244360' id='528540'>
<a class='timestamp' href='#528540'><time timestamp='2017-02-16T11:26:00Z'>11:26</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
anyhow, ready to re-retry the pruning experiment with a real mainnet blockchain
<br>
</div>

<div class='talk op-msg' data-timestamp='1487244420' id='528541'>
<a class='timestamp' href='#528541'><time timestamp='2017-02-16T11:27:00Z'>11:27</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
AND ITS &lt;GONE / NOT GONE&gt;.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487244480' id='528542'>
<a class='timestamp' href='#528542'><time timestamp='2017-02-16T11:28:00Z'>11:28</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it&#x27;s doing nothing and logging nothing, so my would be &quot;NOT GONE&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1487244480' id='528543'>
<a class='timestamp' href='#528543'><time timestamp='2017-02-16T11:28:00Z'>11:28</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
genesis block is still ther
<br>
</div>

<div class='talk op-msg' data-timestamp='1487244720' id='528544'>
<a class='timestamp' href='#528544'><time timestamp='2017-02-16T11:32:00Z'>11:32</time></a>
&lt;<span class='nick nick-8'> MarcoFalke_</span>&gt;
wumpus: You need to revert ntl. The commit is not signed :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1487244780' id='528545'>
<a class='timestamp' href='#528545'><time timestamp='2017-02-16T11:33:00Z'>11:33</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I also understand why @luke-jr - in FlushStateToDisk, it only goes into the pruning flow if fCheckForPruning || nManualPruneHeight &gt; 0  ... fCheckForPruning is not set in manual pruning mode
<br>
</div>

<div class='talk op-msg' data-timestamp='1487244780' id='528546'>
<a class='timestamp' href='#528546'><time timestamp='2017-02-16T11:33:00Z'>11:33</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
huh?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487244840' id='528547'>
<a class='timestamp' href='#528547'><time timestamp='2017-02-16T11:34:00Z'>11:34</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I really don&#x27;t get it now, this was using the script, it shouldn&#x27;t push if not signed
<br>
</div>

<div class='talk op-msg' data-timestamp='1487244840' id='528548'>
<a class='timestamp' href='#528548'><time timestamp='2017-02-16T11:34:00Z'>11:34</time></a>
&lt;<span class='nick nick-3'> * wumpus</span>&gt;
isn&#x27;t sure if he&#x27;s becoming crazy or his tooling is
<br>
</div>

<div class='talk op-msg' data-timestamp='1487244900' id='528549'>
<a class='timestamp' href='#528549'><time timestamp='2017-02-16T11:35:00Z'>11:35</time></a>
&lt;<span class='nick nick-8'> MarcoFalke_</span>&gt;
maybe you `git push bitcoin` in another tab?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487244900' id='528550'>
<a class='timestamp' href='#528550'><time timestamp='2017-02-16T11:35:00Z'>11:35</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
this is the console output <a href="https://0bin.net/paste/7sVJS0k86TMWtAdf#j3QhbG9mqPTx89KN6vb2DuB7O0x7sGiZYABHsqPvZGP" class="link" target="_blank">https://0bin.net/paste/7sVJS0k86TMWtAdf#j3QhbG9mqPTx89KN6vb2DuB7O0x7sGiZYABHsqPvZGP</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1487244960' id='528551'>
<a class='timestamp' href='#528551'><time timestamp='2017-02-16T11:36:00Z'>11:36</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I did sign off and enter my passphrase
<br>
</div>

<div class='talk op-msg' data-timestamp='1487244960' id='528552'>
<a class='timestamp' href='#528552'><time timestamp='2017-02-16T11:36:00Z'>11:36</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
no, I never push manually
<br>
</div>

<div class='talk op-msg' data-timestamp='1487245020' id='528553'>
<a class='timestamp' href='#528553'><time timestamp='2017-02-16T11:37:00Z'>11:37</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
pushed by the people who secretly live under your keyboard.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487245080' id='528554'>
<a class='timestamp' href='#528554'><time timestamp='2017-02-16T11:38:00Z'>11:38</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
well it must be something I did in another tab, just not a push
<br>
</div>

<div class='talk op-msg' data-timestamp='1487245080' id='528555'>
<a class='timestamp' href='#528555'><time timestamp='2017-02-16T11:38:00Z'>11:38</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj force-pushed master from df2f34d to e43a585: <a href="https://github.com/bitcoin/bitcoin/commits/master" class="link" target="_blank">https://github.com/bitcoin/bitcoin/commits/master</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1487245140' id='528556'>
<a class='timestamp' href='#528556'><time timestamp='2017-02-16T11:39:00Z'>11:39</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
and back to e43a58514dd38dacd930aa4c94afb998d4360183
<br>
</div>

<div class='talk op-msg' data-timestamp='1487245260' id='528557'>
<a class='timestamp' href='#528557'><time timestamp='2017-02-16T11:41:00Z'>11:41</time></a>
&lt;<span class='nick nick-8'> MarcoFalke_</span>&gt;
`git commit --amend` gets rid of the signature
<br>
</div>

<div class='talk op-msg' data-timestamp='1487245260' id='528558'>
<a class='timestamp' href='#528558'><time timestamp='2017-02-16T11:41:00Z'>11:41</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
the github-merge tool should probably get a check that what it is pushing is really what it expects to be pushing, in case the current branch changed under it
<br>
</div>

<div class='talk op-msg' data-timestamp='1487245320' id='528559'>
<a class='timestamp' href='#528559'><time timestamp='2017-02-16T11:42:00Z'>11:42</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
or rather, push a specific commit, not what happens to be the current branch
<br>
</div>

<div class='talk op-msg' data-timestamp='1487245320' id='528560'>
<a class='timestamp' href='#528560'><time timestamp='2017-02-16T11:42:00Z'>11:42</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
not sure it does that
<br>
</div>

<div class='talk op-msg' data-timestamp='1487245320' id='528561'>
<a class='timestamp' href='#528561'><time timestamp='2017-02-16T11:42:00Z'>11:42</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
oh did you run the merge tool twice concurrently?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487245380' id='528562'>
<a class='timestamp' href='#528562'><time timestamp='2017-02-16T11:43:00Z'>11:43</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
blah, I wasn&#x27;t intending to dive into source code management specifics today
<br>
</div>

<div class='talk op-msg' data-timestamp='1487245380' id='528563'>
<a class='timestamp' href='#528563'><time timestamp='2017-02-16T11:43:00Z'>11:43</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
gmaxwell: that&#x27;s possible!
<br>
</div>

<div class='talk op-msg' data-timestamp='1487245380' id='528564'>
<a class='timestamp' href='#528564'><time timestamp='2017-02-16T11:43:00Z'>11:43</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
&quot;This worksite has gone [ 0 ] days since an SCM emergency.&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1487246160' id='528565'>
<a class='timestamp' href='#528565'><time timestamp='2017-02-16T11:56:00Z'>11:56</time></a>
&lt;<span class='nick nick-8'> Victorsueca</span>&gt;
any PR that would be useful to test at the moment?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487246400' id='528566'>
<a class='timestamp' href='#528566'><time timestamp='2017-02-16T12:00:00Z'>12:00</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
wumpus: all for 0.14rc1 today but i think we need to wrap up the importmulti issues...  ryanofsky opened #9773 yesterday to try to address the combination of what you and gmaxwell were asking for
<br>
</div>

<div class='talk op-msg' data-timestamp='1487246400' id='528567'>
<a class='timestamp' href='#528567'><time timestamp='2017-02-16T12:00:00Z'>12:00</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/9773" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/9773</a> | WIP: Return errors from importmulti if complete rescans are not successful by ryanofsky · Pull Request #9773 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1487246400' id='528568'>
<a class='timestamp' href='#528568'><time timestamp='2017-02-16T12:00:00Z'>12:00</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
i tihnk #9671 should also be included (it&#x27;s simple and could avoid fund loss)
<br>
</div>

<div class='talk op-msg' data-timestamp='1487246400' id='528569'>
<a class='timestamp' href='#528569'><time timestamp='2017-02-16T12:00:00Z'>12:00</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
morcos: my brain is not working today so I&#x27;ve already given up on that
<br>
</div>

<div class='talk op-msg' data-timestamp='1487246400' id='528570'>
<a class='timestamp' href='#528570'><time timestamp='2017-02-16T12:00:00Z'>12:00</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/9671" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/9671</a> | Fix super-unlikely race introduced in 236618061a445d2cb11e72 by TheBlueMatt · Pull Request #9671 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1487246460' id='528571'>
<a class='timestamp' href='#528571'><time timestamp='2017-02-16T12:01:00Z'>12:01</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
heh fair enough..   but still need to get those 2 across the finish line
<br>
</div>

<div class='talk op-msg' data-timestamp='1487246460' id='528572'>
<a class='timestamp' href='#528572'><time timestamp='2017-02-16T12:01:00Z'>12:01</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
9671 is already merged?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487246460' id='528573'>
<a class='timestamp' href='#528573'><time timestamp='2017-02-16T12:01:00Z'>12:01</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
sorry #9761
<br>
</div>

<div class='talk op-msg' data-timestamp='1487246460' id='528574'>
<a class='timestamp' href='#528574'><time timestamp='2017-02-16T12:01:00Z'>12:01</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/9761" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/9761</a> | Use 2 hour grace period for key timestamps in importmulti rescans by ryanofsky · Pull Request #9761 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1487246460' id='528575'>
<a class='timestamp' href='#528575'><time timestamp='2017-02-16T12:01:00Z'>12:01</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
i think you are contagious
<br>
</div>

<div class='talk op-msg' data-timestamp='1487246520' id='528576'>
<a class='timestamp' href='#528576'><time timestamp='2017-02-16T12:02:00Z'>12:02</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I&#x27;m okay with adding new things if they&#x27;re ready for merge, everything that requires new review should probably be pushed to after 0.14.0, at some point we have to make a cut
<br>
</div>

<div class='talk op-msg' data-timestamp='1487246520' id='528577'>
<a class='timestamp' href='#528577'><time timestamp='2017-02-16T12:02:00Z'>12:02</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I really can&#x27;t keep moving the 0.14.0 rc1 day after day forward, keeping the tree in this state is holding up more and more things that could be merged for 0.15
<br>
</div>

<div class='talk op-msg' data-timestamp='1487246520' id='528578'>
<a class='timestamp' href='#528578'><time timestamp='2017-02-16T12:02:00Z'>12:02</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
but one more day is fine, as said, I&#x27;m not up to it today anyhow
<br>
</div>

<div class='talk op-msg' data-timestamp='1487246580' id='528579'>
<a class='timestamp' href='#528579'><time timestamp='2017-02-16T12:03:00Z'>12:03</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
i don&#x27;t think ryanofsky or i have a strong opinion about it, it seems you guys were the ones saying the current state is not acceptable
<br>
</div>

<div class='talk op-msg' data-timestamp='1487246580' id='528580'>
<a class='timestamp' href='#528580'><time timestamp='2017-02-16T12:03:00Z'>12:03</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
current state is silent failure when you do importmulti on pruned node that needs to search more blocks than you have
<br>
</div>

<div class='talk op-msg' data-timestamp='1487246580' id='528581'>
<a class='timestamp' href='#528581'><time timestamp='2017-02-16T12:03:00Z'>12:03</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
at  some point you should think of it as &quot;is it acceptable for a rc1&quot;?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487246640' id='528582'>
<a class='timestamp' href='#528582'><time timestamp='2017-02-16T12:04:00Z'>12:04</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it&#x27;s certain that issues come up with user testing and have to be solved before rc2
<br>
</div>

<div class='talk op-msg' data-timestamp='1487246640' id='528583'>
<a class='timestamp' href='#528583'><time timestamp='2017-02-16T12:04:00Z'>12:04</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
we&#x27;re just trying to fix the problems
<br>
</div>

<div class='talk op-msg' data-timestamp='1487246640' id='528584'>
<a class='timestamp' href='#528584'><time timestamp='2017-02-16T12:04:00Z'>12:04</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
sure, and that&#x27;s very good, but there&#x27;s always new problems
<br>
</div>

<div class='talk op-msg' data-timestamp='1487246700' id='528585'>
<a class='timestamp' href='#528585'><time timestamp='2017-02-16T12:05:00Z'>12:05</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
but would be helpful to have you and gmaxwell take a look and say yes thats what i wanted
<br>
</div>

<div class='talk op-msg' data-timestamp='1487246820' id='528586'>
<a class='timestamp' href='#528586'><time timestamp='2017-02-16T12:07:00Z'>12:07</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes the approach in 9773 looks good to me
<br>
</div>

<div class='talk op-msg' data-timestamp='1487248020' id='528587'>
<a class='timestamp' href='#528587'><time timestamp='2017-02-16T12:27:00Z'>12:27</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
Looks like you can&#x27;t re-open a merged PR.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487248500' id='528588'>
<a class='timestamp' href='#528588'><time timestamp='2017-02-16T12:35:00Z'>12:35</time></a>
&lt;<span class='nick nick-3'> mryandao</span>&gt;
i&#x27;m having a bit of problem after updating my tree from upstream
<br>
</div>

<div class='talk op-msg' data-timestamp='1487248500' id='528589'>
<a class='timestamp' href='#528589'><time timestamp='2017-02-16T12:35:00Z'>12:35</time></a>
&lt;<span class='nick nick-3'> mryandao</span>&gt;
this is the error i&#x27;m getting
<br>
</div>

<div class='talk op-msg' data-timestamp='1487248500' id='528590'>
<a class='timestamp' href='#528590'><time timestamp='2017-02-16T12:35:00Z'>12:35</time></a>
&lt;<span class='nick nick-3'> mryandao</span>&gt;
util.cpp:834:63: error: use of undeclared identifier &#x27;COPYRIGHT_HOLDERS&#x27;
<br>
</div>

<div class='talk op-msg' data-timestamp='1487248500' id='528591'>
<a class='timestamp' href='#528591'><time timestamp='2017-02-16T12:35:00Z'>12:35</time></a>
&lt;<span class='nick nick-3'> mryandao</span>&gt;
    std::string strCopyrightHolders = strPrefix + strprintf(_(COPYRIGHT_HOLDERS), _(COPYRIGHT_HOLDERS_SUBSTITUTION));
<br>
</div>

<div class='talk op-msg' data-timestamp='1487248500' id='528592'>
<a class='timestamp' href='#528592'><time timestamp='2017-02-16T12:35:00Z'>12:35</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
fanquake true :(
<br>
</div>

<div class='talk op-msg' data-timestamp='1487248500' id='528593'>
<a class='timestamp' href='#528593'><time timestamp='2017-02-16T12:35:00Z'>12:35</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
mryandao: you need to re-run autogen.sh and configure
<br>
</div>

<div class='talk op-msg' data-timestamp='1487248500' id='528594'>
<a class='timestamp' href='#528594'><time timestamp='2017-02-16T12:35:00Z'>12:35</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
(that&#x27;s almost always the solution to such issues)
<br>
</div>

<div class='talk op-msg' data-timestamp='1487248560' id='528595'>
<a class='timestamp' href='#528595'><time timestamp='2017-02-16T12:36:00Z'>12:36</time></a>
&lt;<span class='nick nick-3'> mryandao</span>&gt;
oh I see, i thought a make would have sufficed. thanks
<br>
</div>

<div class='talk op-msg' data-timestamp='1487248560' id='528596'>
<a class='timestamp' href='#528596'><time timestamp='2017-02-16T12:36:00Z'>12:36</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
make only suffices if there are no high-level build system changes, just source changes
<br>
</div>

<div class='talk op-msg' data-timestamp='1487248620' id='528597'>
<a class='timestamp' href='#528597'><time timestamp='2017-02-16T12:37:00Z'>12:37</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
wumpus do you plan on merging any more tonight, or taking a break?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487248620' id='528598'>
<a class='timestamp' href='#528598'><time timestamp='2017-02-16T12:37:00Z'>12:37</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
otherwise you need to run ./autogen.sh - sometimes you can get away with not doing it, but it&#x27;s gambling in a way
<br>
</div>

<div class='talk op-msg' data-timestamp='1487248620' id='528599'>
<a class='timestamp' href='#528599'><time timestamp='2017-02-16T12:37:00Z'>12:37</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
fanquake: I&#x27;m taking a break from merging yes :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1487248680' id='528600'>
<a class='timestamp' href='#528600'><time timestamp='2017-02-16T12:38:00Z'>12:38</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
wumpus no worries, otherwise was going to suggest some quick merges.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487248680' id='528601'>
<a class='timestamp' href='#528601'><time timestamp='2017-02-16T12:38:00Z'>12:38</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
wumpus I&#x27;m sure I was probably the only one affected my the miss-merge heh
<br>
</div>

<div class='talk op-msg' data-timestamp='1487248740' id='528602'>
<a class='timestamp' href='#528602'><time timestamp='2017-02-16T12:39:00Z'>12:39</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
fanquake: well at first I didn&#x27;t notice that the push was unsigned, otherwise I&#x27;d have reverted it immediately
<br>
</div>

<div class='talk op-msg' data-timestamp='1487248740' id='528603'>
<a class='timestamp' href='#528603'><time timestamp='2017-02-16T12:39:00Z'>12:39</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
wumpus would you do that through the GH ui?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487248740' id='528604'>
<a class='timestamp' href='#528604'><time timestamp='2017-02-16T12:39:00Z'>12:39</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
fanquake: anyhow if you have simple and straightforward things that could be merged feel free to suggest them 
<br>
</div>

<div class='talk op-msg' data-timestamp='1487248740' id='528605'>
<a class='timestamp' href='#528605'><time timestamp='2017-02-16T12:39:00Z'>12:39</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
Or push another commit?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487248800' id='528606'>
<a class='timestamp' href='#528606'><time timestamp='2017-02-16T12:40:00Z'>12:40</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
fanquake: I first have to disable the branch locking on github, then reset --hard HEAD~1, push -f, then re-enable the branch locking
<br>
</div>

<div class='talk op-msg' data-timestamp='1487248800' id='528607'>
<a class='timestamp' href='#528607'><time timestamp='2017-02-16T12:40:00Z'>12:40</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
github doesn&#x27;t allow force-pushes, it does allow unsigned pushes unfortunately
<br>
</div>

<div class='talk op-msg' data-timestamp='1487248860' id='528608'>
<a class='timestamp' href='#528608'><time timestamp='2017-02-16T12:41:00Z'>12:41</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
at least: there&#x27;s no option to disable them at the moment
<br>
</div>

<div class='talk op-msg' data-timestamp='1487248860' id='528609'>
<a class='timestamp' href='#528609'><time timestamp='2017-02-16T12:41:00Z'>12:41</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
Right. Maybe a new tick-box to turn that off in future. Not sure about the big new header now btw.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487248920' id='528610'>
<a class='timestamp' href='#528610'><time timestamp='2017-02-16T12:42:00Z'>12:42</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I don&#x27;t really like it. I disliked it in the beginning, but thought maybe I&#x27;d get used to it, but it&#x27;s still big and ugly
<br>
</div>

<div class='talk op-msg' data-timestamp='1487248920' id='528611'>
<a class='timestamp' href='#528611'><time timestamp='2017-02-16T12:42:00Z'>12:42</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
re &quot;easy&quot; merges: #9763 #9696 #9675
<br>
</div>

<div class='talk op-msg' data-timestamp='1487248920' id='528612'>
<a class='timestamp' href='#528612'><time timestamp='2017-02-16T12:42:00Z'>12:42</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/9763" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/9763</a> | [Trivial] Update comments referencing main.cpp by CryptAxe · Pull Request #9763 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1487248920' id='528613'>
<a class='timestamp' href='#528613'><time timestamp='2017-02-16T12:42:00Z'>12:42</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/9696" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/9696</a> | [trivial] Fix recently introduced typos in comments by practicalswift · Pull Request #9696 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1487248920' id='528614'>
<a class='timestamp' href='#528614'><time timestamp='2017-02-16T12:42:00Z'>12:42</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/9675" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/9675</a> | Fix typo and spelling inconsistency in CONTRIBUTING.md by kokifpen · Pull Request #9675 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1487248980' id='528615'>
<a class='timestamp' href='#528615'><time timestamp='2017-02-16T12:43:00Z'>12:43</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I&#x27;d prefer a small bar with a few icons - making it big like this just takes up extra screen space in a site that should be focused on the code
<br>
</div>

<div class='talk op-msg' data-timestamp='1487248980' id='528616'>
<a class='timestamp' href='#528616'><time timestamp='2017-02-16T12:43:00Z'>12:43</time></a>
&lt;<span class='nick nick-8'> Victorsueca</span>&gt;
wumpus: you talking about that new black bar at the top?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487248980' id='528617'>
<a class='timestamp' href='#528617'><time timestamp='2017-02-16T12:43:00Z'>12:43</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
Indeed. Especially when your on a smallish screen. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1487248980' id='528618'>
<a class='timestamp' href='#528618'><time timestamp='2017-02-16T12:43:00Z'>12:43</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
Victorsueca: yep
<br>
</div>

<div class='talk op-msg' data-timestamp='1487249040' id='528619'>
<a class='timestamp' href='#528619'><time timestamp='2017-02-16T12:44:00Z'>12:44</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
fanquake: indeed. Well even big modern screens are usually wide, but not very high, so vertical screen space is at premium
<br>
</div>

<div class='talk op-msg' data-timestamp='1487249040' id='528620'>
<a class='timestamp' href='#528620'><time timestamp='2017-02-16T12:44:00Z'>12:44</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
fanquake: will take a look, thanks
<br>
</div>

<div class='talk op-msg' data-timestamp='1487249040' id='528621'>
<a class='timestamp' href='#528621'><time timestamp='2017-02-16T12:44:00Z'>12:44</time></a>
&lt;<span class='nick nick-8'> Victorsueca</span>&gt;
for some reason it becomes white if you logout
<br>
</div>

<div class='talk op-msg' data-timestamp='1487249040' id='528622'>
<a class='timestamp' href='#528622'><time timestamp='2017-02-16T12:44:00Z'>12:44</time></a>
&lt;<span class='nick nick-8'> Victorsueca</span>&gt;
but yeah, it&#x27;s ugly, it takes much attention and distracts people from important things
<br>
</div>

<div class='talk op-msg' data-timestamp='1487249100' id='528623'>
<a class='timestamp' href='#528623'><time timestamp='2017-02-16T12:45:00Z'>12:45</time></a>
&lt;<span class='nick nick-8'> Victorsueca</span>&gt;
it&#x27;s too big and contrasted
<br>
</div>

<div class='talk op-msg' data-timestamp='1487249100' id='528624'>
<a class='timestamp' href='#528624'><time timestamp='2017-02-16T12:45:00Z'>12:45</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
indeed
<br>
</div>

<div class='talk op-msg' data-timestamp='1487249160' id='528625'>
<a class='timestamp' href='#528625'><time timestamp='2017-02-16T12:46:00Z'>12:46</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
9763 is a no-brainer, I can do that one, at least if I get the numbers right :p
<br>
</div>

<div class='talk op-msg' data-timestamp='1487249160' id='528626'>
<a class='timestamp' href='#528626'><time timestamp='2017-02-16T12:46:00Z'>12:46</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
looks like it could use squashing though
<br>
</div>

<div class='talk op-msg' data-timestamp='1487249220' id='528627'>
<a class='timestamp' href='#528627'><time timestamp='2017-02-16T12:47:00Z'>12:47</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
Iwumpus &#x27;m also vary calling anything an &quot;easy&quot; merge, without a good way to check if they somehow break other more-important patches.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487249220' id='528628'>
<a class='timestamp' href='#528628'><time timestamp='2017-02-16T12:47:00Z'>12:47</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
*I&#x27;m always
<br>
</div>

<div class='talk op-msg' data-timestamp='1487249220' id='528629'>
<a class='timestamp' href='#528629'><time timestamp='2017-02-16T12:47:00Z'>12:47</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
three commits to make three related documentation-only changes
<br>
</div>

<div class='talk op-msg' data-timestamp='1487249220' id='528630'>
<a class='timestamp' href='#528630'><time timestamp='2017-02-16T12:47:00Z'>12:47</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
GitHub doesn&#x27;t seem to have a way to check, if I merge this, what other PR&#x27;s will it break. Would be handy when trying to cehck quickly.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487249280' id='528631'>
<a class='timestamp' href='#528631'><time timestamp='2017-02-16T12:48:00Z'>12:48</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
not sure if I&#x27;m up to such &quot;advanced&quot; git manipulation at the moment... let&#x27;s see
<br>
</div>

<div class='talk op-msg' data-timestamp='1487249280' id='528632'>
<a class='timestamp' href='#528632'><time timestamp='2017-02-16T12:48:00Z'>12:48</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
fanquake: agree, that would be great to have
<br>
</div>

<div class='talk op-msg' data-timestamp='1487249340' id='528633'>
<a class='timestamp' href='#528633'><time timestamp='2017-02-16T12:49:00Z'>12:49</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
fanquake: at a company I worked at they had a script to generate a &#x27;patch PERT&#x27; which was a diagram of which things could be merged without (code level) conflicts, and which had conflicts, that was kind of neat. Though they used a terrible SCM, IBM clearcase or something, that was less neat :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1487249400' id='528634'>
<a class='timestamp' href='#528634'><time timestamp='2017-02-16T12:50:00Z'>12:50</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
gmaxwell: can we go through exactly how you think the grace periods should work...  i never looked at manual prune before but looks like it takes a block or a height
<br>
</div>

<div class='talk op-msg' data-timestamp='1487249400' id='528635'>
<a class='timestamp' href='#528635'><time timestamp='2017-02-16T12:50:00Z'>12:50</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
sorry time
<br>
</div>

<div class='talk op-msg' data-timestamp='1487249400' id='528636'>
<a class='timestamp' href='#528636'><time timestamp='2017-02-16T12:50:00Z'>12:50</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
wumpus ah nice.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487249400' id='528637'>
<a class='timestamp' href='#528637'><time timestamp='2017-02-16T12:50:00Z'>12:50</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
wumpus I was thinking if you could have a &quot;projects&quot; like screen, in which you could stack PRs, and see what breaks what.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487249520' id='528638'>
<a class='timestamp' href='#528638'><time timestamp='2017-02-16T12:52:00Z'>12:52</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
gmaxwell: so you think if you give it a time it should automatically subtract 7200 from it and then call findEarliestAtLeast?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487249520' id='528639'>
<a class='timestamp' href='#528639'><time timestamp='2017-02-16T12:52:00Z'>12:52</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
what happens if you give it a block (no grace period?).   i think that seems reasonable&#x27;ish.   but it would be counterintuitive if it didn&#x27;t do exactly what you expect with a block i think
<br>
</div>

<div class='talk op-msg' data-timestamp='1487250120' id='528640'>
<a class='timestamp' href='#528640'><time timestamp='2017-02-16T13:02:00Z'>13:02</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/e43a58514dd3...8743320d6cb3" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/e43a58514dd3...8743320d6cb3</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1487250120' id='528641'>
<a class='timestamp' href='#528641'><time timestamp='2017-02-16T13:02:00Z'>13:02</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 00e623d CryptAxe: [Trivial] Update comments referencing main.cpp
<br>
</div>

<div class='talk op-msg' data-timestamp='1487250120' id='528642'>
<a class='timestamp' href='#528642'><time timestamp='2017-02-16T13:02:00Z'>13:02</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 8743320 Wladimir J. van der Laan: Merge #9763: [Trivial] Update comments referencing main.cpp...
<br>
</div>

<div class='talk op-msg' data-timestamp='1487250120' id='528643'>
<a class='timestamp' href='#528643'><time timestamp='2017-02-16T13:02:00Z'>13:02</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj closed pull request #9763: [Trivial] Update comments referencing main.cpp (master...comments) <a href="https://github.com/bitcoin/bitcoin/pull/9763" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9763</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1487250180' id='528644'>
<a class='timestamp' href='#528644'><time timestamp='2017-02-16T13:03:00Z'>13:03</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
wumpus git-fu back under control
<br>
</div>

<div class='talk op-msg' data-timestamp='1487250180' id='528645'>
<a class='timestamp' href='#528645'><time timestamp='2017-02-16T13:03:00Z'>13:03</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
no stupid mistakes? I&#x27;m as surprised as you are :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1487250180' id='528646'>
<a class='timestamp' href='#528646'><time timestamp='2017-02-16T13:03:00Z'>13:03</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
Maybe I didn&#x27;t look closely enough
<br>
</div>

<div class='talk op-msg' data-timestamp='1487253540' id='528647'>
<a class='timestamp' href='#528647'><time timestamp='2017-02-16T13:59:00Z'>13:59</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
hah the hardlinking trick works, both for block files and ldb files, created this script to do it: <a href="https://gist.github.com/laanwj/3c4614a23e072cbb3d39090da1834a68" class="link" target="_blank">https://gist.github.com/laanwj/3c4614a23e072cbb3d39090da1834a68</a> . Creates a &quot;copy&quot; of the whole state almost instantly. I&#x27;ve tried various things (including pruning) and the original state remains unaffected.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487253960' id='528648'>
<a class='timestamp' href='#528648'><time timestamp='2017-02-16T14:06:00Z'>14:06</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/8743320d6cb3...afae75fd3dad" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/8743320d6cb3...afae75fd3dad</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1487253960' id='528649'>
<a class='timestamp' href='#528649'><time timestamp='2017-02-16T14:06:00Z'>14:06</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 36164fa Koki Takahashi: Fix typo and spelling inconsistency in CONTRIBUTING.md...
<br>
</div>

<div class='talk op-msg' data-timestamp='1487253960' id='528650'>
<a class='timestamp' href='#528650'><time timestamp='2017-02-16T14:06:00Z'>14:06</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master afae75f Wladimir J. van der Laan: Merge #9675: Fix typo and spelling inconsistency in CONTRIBUTING.md...
<br>
</div>

<div class='talk op-msg' data-timestamp='1487253960' id='528651'>
<a class='timestamp' href='#528651'><time timestamp='2017-02-16T14:06:00Z'>14:06</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj closed pull request #9675: Fix typo and spelling inconsistency in CONTRIBUTING.md (master...fix_typo_in_contributing) <a href="https://github.com/bitcoin/bitcoin/pull/9675" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9675</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1487256900' id='528652'>
<a class='timestamp' href='#528652'><time timestamp='2017-02-16T14:55:00Z'>14:55</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jnewbery opened pull request #9777: Handle unusual maxsigcachesize gracefully (master...sigcache2) <a href="https://github.com/bitcoin/bitcoin/pull/9777" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9777</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1487261460' id='528653'>
<a class='timestamp' href='#528653'><time timestamp='2017-02-16T16:11:00Z'>16:11</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] morcos opened pull request #9778: Add two hour buffer to manual pruning (master...2hrprune) <a href="https://github.com/bitcoin/bitcoin/pull/9778" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9778</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1487270340' id='528654'>
<a class='timestamp' href='#528654'><time timestamp='2017-02-16T18:39:00Z'>18:39</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
wumpus: but fCheckForPruning is set in manual pruning mode after a new block is connected?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487270460' id='528655'>
<a class='timestamp' href='#528655'><time timestamp='2017-02-16T18:41:00Z'>18:41</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
luke-jr: it shouldn&#x27;t be
<br>
</div>

<div class='talk op-msg' data-timestamp='1487270460' id='528656'>
<a class='timestamp' href='#528656'><time timestamp='2017-02-16T18:41:00Z'>18:41</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
manual pruning is manual pruning, the check should never be enabled
<br>
</div>

<div class='talk op-msg' data-timestamp='1487270520' id='528657'>
<a class='timestamp' href='#528657'><time timestamp='2017-02-16T18:42:00Z'>18:42</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
if it is, that is a bug
<br>
</div>

<div class='talk op-msg' data-timestamp='1487270520' id='528658'>
<a class='timestamp' href='#528658'><time timestamp='2017-02-16T18:42:00Z'>18:42</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
FindBlockPos/FindUndoPos?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487270520' id='528659'>
<a class='timestamp' href='#528659'><time timestamp='2017-02-16T18:42:00Z'>18:42</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
or is fPruneMode false for manual pruning?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487270640' id='528660'>
<a class='timestamp' href='#528660'><time timestamp='2017-02-16T18:44:00Z'>18:44</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
no,that should be true if any pruning is to be done 
<br>
</div>

<div class='talk op-msg' data-timestamp='1487270640' id='528661'>
<a class='timestamp' href='#528661'><time timestamp='2017-02-16T18:44:00Z'>18:44</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
in retrospect it&#x27;d have been better to make fPruneMode an enum, which can be off, manual and auto
<br>
</div>

<div class='talk op-msg' data-timestamp='1487270640' id='528662'>
<a class='timestamp' href='#528662'><time timestamp='2017-02-16T18:44:00Z'>18:44</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
the boolean gymnastics with fCheckForPruning is kind of difficult to follow
<br>
</div>

<div class='talk op-msg' data-timestamp='1487270820' id='528663'>
<a class='timestamp' href='#528663'><time timestamp='2017-02-16T18:47:00Z'>18:47</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I assumed it would be enabled when auto pruning is enabled, but apparently it&#x27;s also enabled in a few other places
<br>
</div>

<div class='talk op-msg' data-timestamp='1487271000' id='528664'>
<a class='timestamp' href='#528664'><time timestamp='2017-02-16T18:50:00Z'>18:50</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
luke-jr: ah I got understand it now - nPruneTarget is 0 in manual pruning mode
<br>
</div>

<div class='talk op-msg' data-timestamp='1487271000' id='528665'>
<a class='timestamp' href='#528665'><time timestamp='2017-02-16T18:50:00Z'>18:50</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
luke-jr: so FindFilesToPrune does nothing in manual pruning mode
<br>
</div>

<div class='talk op-msg' data-timestamp='1487271000' id='528666'>
<a class='timestamp' href='#528666'><time timestamp='2017-02-16T18:50:00Z'>18:50</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
even though it may get called (even automatically in some cases), nothing will happen.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487271000' id='528667'>
<a class='timestamp' href='#528667'><time timestamp='2017-02-16T18:50:00Z'>18:50</time></a>
&lt;<span class='nick nick-4'> * sipa</span>&gt;
suggests adding comments to clarify these things
<br>
</div>

<div class='talk op-msg' data-timestamp='1487271000' id='528668'>
<a class='timestamp' href='#528668'><time timestamp='2017-02-16T18:50:00Z'>18:50</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
aha!
<br>
</div>

<div class='talk op-msg' data-timestamp='1487271060' id='528669'>
<a class='timestamp' href='#528669'><time timestamp='2017-02-16T18:51:00Z'>18:51</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I wish it&#x27;d simply pass parameters instead of signalling using global flags
<br>
</div>

<div class='talk op-msg' data-timestamp='1487271060' id='528670'>
<a class='timestamp' href='#528670'><time timestamp='2017-02-16T18:51:00Z'>18:51</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
well, or change to an enum.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487271120' id='528671'>
<a class='timestamp' href='#528671'><time timestamp='2017-02-16T18:52:00Z'>18:52</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
or both. I mean the global enum is fine for the mode but it shouldn&#x27;t change over time
<br>
</div>

<div class='talk op-msg' data-timestamp='1487271240' id='528672'>
<a class='timestamp' href='#528672'><time timestamp='2017-02-16T18:54:00Z'>18:54</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
these changes sound even more invasive than that PR :P
<br>
</div>

<div class='talk op-msg' data-timestamp='1487271240' id='528673'>
<a class='timestamp' href='#528673'><time timestamp='2017-02-16T18:54:00Z'>18:54</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
depending on what function ran last. This is impossible to follow. Anyhow I understand marcofalke&#x27;s rationale for #9524 now, it&#x27;s very easy to break that code and belt and suspenders wouldn&#x27;t hurt. Except that even with #9524, it will get into FindFilesToPrune  in some cases, so if that check is broken,  bad things will happen <b>*automatically*</b> too
<br>
</div>

<div class='talk op-msg' data-timestamp='1487271240' id='528674'>
<a class='timestamp' href='#528674'><time timestamp='2017-02-16T18:54:00Z'>18:54</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/9524" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/9524</a> | rpc: Dont FlushStateToDisk when pruneblockchain(0) by MarcoFalke · Pull Request #9524 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1487271240' id='528675'>
<a class='timestamp' href='#528675'><time timestamp='2017-02-16T18:54:00Z'>18:54</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/9524" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/9524</a> | rpc: Dont FlushStateToDisk when pruneblockchain(0) by MarcoFalke · Pull Request #9524 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1487271300' id='528676'>
<a class='timestamp' href='#528676'><time timestamp='2017-02-16T18:55:00Z'>18:55</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
well that PR is just covering up, it doesn&#x27;t solve the underlying problem
<br>
</div>

<div class='talk op-msg' data-timestamp='1487271300' id='528677'>
<a class='timestamp' href='#528677'><time timestamp='2017-02-16T18:55:00Z'>18:55</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
right
<br>
</div>

<div class='talk op-msg' data-timestamp='1487271300' id='528678'>
<a class='timestamp' href='#528678'><time timestamp='2017-02-16T18:55:00Z'>18:55</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it&#x27;s not urgent in any case
<br>
</div>

<div class='talk op-msg' data-timestamp='1487271300' id='528679'>
<a class='timestamp' href='#528679'><time timestamp='2017-02-16T18:55:00Z'>18:55</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
agree
<br>
</div>

<div class='talk op-msg' data-timestamp='1487271360' id='528680'>
<a class='timestamp' href='#528680'><time timestamp='2017-02-16T18:56:00Z'>18:56</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
3 more PRs marked 0.14
<br>
</div>

<div class='talk op-msg' data-timestamp='1487271420' id='528681'>
<a class='timestamp' href='#528681'><time timestamp='2017-02-16T18:57:00Z'>18:57</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
oh no
<br>
</div>

<div class='talk op-msg' data-timestamp='1487271480' id='528682'>
<a class='timestamp' href='#528682'><time timestamp='2017-02-16T18:58:00Z'>18:58</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i mean right now
<br>
</div>

<div class='talk op-msg' data-timestamp='1487271540' id='528683'>
<a class='timestamp' href='#528683'><time timestamp='2017-02-16T18:59:00Z'>18:59</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
right, yes, let&#x27;s hopefully keep it at those
<br>
</div>

<div class='talk op-msg' data-timestamp='1487271540' id='528684'>
<a class='timestamp' href='#528684'><time timestamp='2017-02-16T18:59:00Z'>18:59</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
wumpus: wait what
<br>
</div>

<div class='talk op-msg' data-timestamp='1487271540' id='528685'>
<a class='timestamp' href='#528685'><time timestamp='2017-02-16T18:59:00Z'>18:59</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
why would nPruneTarget be 0?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487271540' id='528686'>
<a class='timestamp' href='#528686'><time timestamp='2017-02-16T18:59:00Z'>18:59</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
    if (nPruneArg == 1) {  // manual pruning: -prune=1
<br>
</div>

<div class='talk op-msg' data-timestamp='1487271540' id='528687'>
<a class='timestamp' href='#528687'><time timestamp='2017-02-16T18:59:00Z'>18:59</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
        nPruneTarget = std::numeric_limits&lt;uint64_t&gt;::max();
<br>
</div>

<div class='talk op-msg' data-timestamp='1487271600' id='528688'>
<a class='timestamp' href='#528688'><time timestamp='2017-02-16T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
luke-jr: because ti should never be set to a value
<br>
</div>

<div class='talk op-msg' data-timestamp='1487271600' id='528689'>
<a class='timestamp' href='#528689'><time timestamp='2017-02-16T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
huh!?! what does setting that to uint64_t max even do. Oh wait, it&#x27;s an offset, not an absolute height. yes that does make sense
<br>
</div>

<div class='talk op-msg' data-timestamp='1487271660' id='528690'>
<a class='timestamp' href='#528690'><time timestamp='2017-02-16T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Meeting time?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487271720' id='528691'>
<a class='timestamp' href='#528691'><time timestamp='2017-02-16T19:02:00Z'>19:02</time></a>
&lt;<span class='nick nick-12'> * jonasschnelli</span>&gt;
is not sure if prune=1 (manual pruning) is a good idea while still supporting -prune=&lt;mb target&gt;
<br>
</div>

<div class='talk op-msg' data-timestamp='1487271720' id='528692'>
<a class='timestamp' href='#528692'><time timestamp='2017-02-16T19:02:00Z'>19:02</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it at least intends &#x27;we want to keep 2^64-1 blocks`. Let me re-read the code in FindFilesToPrune then 
<br>
</div>

<div class='talk op-msg' data-timestamp='1487271720' id='528693'>
<a class='timestamp' href='#528693'><time timestamp='2017-02-16T19:02:00Z'>19:02</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
#meetingstart
<br>
</div>

<div class='talk op-msg' data-timestamp='1487271720' id='528694'>
<a class='timestamp' href='#528694'><time timestamp='2017-02-16T19:02:00Z'>19:02</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
meetingh
<br>
</div>

<div class='talk op-msg' data-timestamp='1487271720' id='528695'>
<a class='timestamp' href='#528695'><time timestamp='2017-02-16T19:02:00Z'>19:02</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
meetinghh
<br>
</div>

<div class='talk op-msg' data-timestamp='1487271720' id='528696'>
<a class='timestamp' href='#528696'><time timestamp='2017-02-16T19:02:00Z'>19:02</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
#startmeeting
<br>
</div>

<div class='talk op-msg' data-timestamp='1487271720' id='528697'>
<a class='timestamp' href='#528697'><time timestamp='2017-02-16T19:02:00Z'>19:02</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Meeting started Thu Feb 16 19:02:37 2017 UTC.  The chair is wumpus. Information about MeetBot at <a href="http://wiki.debian.org/MeetBot" class="link" target="_blank">http://wiki.debian.org/MeetBot</a>.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487271720' id='528698'>
<a class='timestamp' href='#528698'><time timestamp='2017-02-16T19:02:00Z'>19:02</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Useful Commands: #action #agreed #help #info #idea #link #topic.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487271720' id='528699'>
<a class='timestamp' href='#528699'><time timestamp='2017-02-16T19:02:00Z'>19:02</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
jonasschnelli: well it&#x27;s a magic option value but it&#x27;s only for the option, it doesn&#x27;t get represented internally as 1
<br>
</div>

<div class='talk op-msg' data-timestamp='1487271780' id='528700'>
<a class='timestamp' href='#528700'><time timestamp='2017-02-16T19:03:00Z'>19:03</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
tbh, I&#x27;ve had second thoughts about the manual pruning design (seems it&#x27;d be nicer to do &quot;automatic pruning always, but with named barriers that must confirm being done up to &lt;height&gt; before pruning it&quot;), but that&#x27;s beyond this topic
<br>
</div>

<div class='talk op-msg' data-timestamp='1487271780' id='528701'>
<a class='timestamp' href='#528701'><time timestamp='2017-02-16T19:03:00Z'>19:03</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
jonasschnelli: I think the reason or choosing 1 was that -prune will work
<br>
</div>

<div class='talk op-msg' data-timestamp='1487271780' id='528702'>
<a class='timestamp' href='#528702'><time timestamp='2017-02-16T19:03:00Z'>19:03</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
luke-jr: I like the current manual pruning from an API point of view
<br>
</div>

<div class='talk op-msg' data-timestamp='1487271780' id='528703'>
<a class='timestamp' href='#528703'><time timestamp='2017-02-16T19:03:00Z'>19:03</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
s/always/always in pruning mode/
<br>
</div>

<div class='talk op-msg' data-timestamp='1487271780' id='528704'>
<a class='timestamp' href='#528704'><time timestamp='2017-02-16T19:03:00Z'>19:03</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
#bitcoin-core-dev Meeting: wumpus sipa gmaxwell jonasschnelli morcos luke-jr btcdrak sdaftuar jtimon cfields petertodd kanzure bluematt instagibbs phantomcircuit codeshark michagogo marcofalke paveljanik NicolasDorier
<br>
</div>

<div class='talk op-msg' data-timestamp='1487271780' id='528705'>
<a class='timestamp' href='#528705'><time timestamp='2017-02-16T19:03:00Z'>19:03</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
wumpus: yes, but it doesn&#x27;t scale well if you have 2 external apps using the node
<br>
</div>

<div class='talk op-msg' data-timestamp='1487271840' id='528706'>
<a class='timestamp' href='#528706'><time timestamp='2017-02-16T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
hi     
<br>
</div>

<div class='talk op-msg' data-timestamp='1487271840' id='528707'>
<a class='timestamp' href='#528707'><time timestamp='2017-02-16T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
luke-jr: it&#x27;s very simple. Automatic pruning is disabled and the client/admin can choose what to prune. Also useful for testing the pruning stuff without too much complexity
<br>
</div>

<div class='talk op-msg' data-timestamp='1487271840' id='528708'>
<a class='timestamp' href='#528708'><time timestamp='2017-02-16T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
luke-jr: the implementation is convoluted though
<br>
</div>

<div class='talk op-msg' data-timestamp='1487271840' id='528709'>
<a class='timestamp' href='#528709'><time timestamp='2017-02-16T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
wumpus: i think two more are needed for 0.14, both very small  #9760 and #9761  (9761 is already included in one of the marked ones)
<br>
</div>

<div class='talk op-msg' data-timestamp='1487271840' id='528710'>
<a class='timestamp' href='#528710'><time timestamp='2017-02-16T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/9760" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/9760</a> | [wallet] Remove importmulti always-true check by ryanofsky · Pull Request #9760 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1487271840' id='528711'>
<a class='timestamp' href='#528711'><time timestamp='2017-02-16T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
proposed topic: release status, where can we help...
<br>
</div>

<div class='talk op-msg' data-timestamp='1487271840' id='528712'>
<a class='timestamp' href='#528712'><time timestamp='2017-02-16T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/9761" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/9761</a> | Use 2 hour grace period for key timestamps in importmulti rescans by ryanofsky · Pull Request #9761 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1487271840' id='528713'>
<a class='timestamp' href='#528713'><time timestamp='2017-02-16T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
luke-jr: but I&#x27;m happy someone implemented it anyhow
<br>
</div>

<div class='talk op-msg' data-timestamp='1487271840' id='528714'>
<a class='timestamp' href='#528714'><time timestamp='2017-02-16T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-14'> * luke-jr</span>&gt;
nods
<br>
</div>

<div class='talk op-msg' data-timestamp='1487271840' id='528715'>
<a class='timestamp' href='#528715'><time timestamp='2017-02-16T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-4'> kanzure</span>&gt;
hi.     
<br>
</div>

<div class='talk op-msg' data-timestamp='1487271840' id='528716'>
<a class='timestamp' href='#528716'><time timestamp='2017-02-16T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
wumpus: same: my OpenTimestamps servers actually need this feature
<br>
</div>

<div class='talk op-msg' data-timestamp='1487271840' id='528717'>
<a class='timestamp' href='#528717'><time timestamp='2017-02-16T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
release status: running as hard as we can but staying in the same place
<br>
</div>

<div class='talk op-msg' data-timestamp='1487271900' id='528718'>
<a class='timestamp' href='#528718'><time timestamp='2017-02-16T19:05:00Z'>19:05</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i think we&#x27;re very close.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487271900' id='528719'>
<a class='timestamp' href='#528719'><time timestamp='2017-02-16T19:05:00Z'>19:05</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
wumpus: boo!  we&#x27;re not staying in the same place
<br>
</div>

<div class='talk op-msg' data-timestamp='1487271900' id='528720'>
<a class='timestamp' href='#528720'><time timestamp='2017-02-16T19:05:00Z'>19:05</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I am becoming increasingly happy with the release.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487271900' id='528721'>
<a class='timestamp' href='#528721'><time timestamp='2017-02-16T19:05:00Z'>19:05</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
let&#x27;s be optimistic: everything we&#x27;re fixing is an improvememt
<br>
</div>

<div class='talk op-msg' data-timestamp='1487271900' id='528722'>
<a class='timestamp' href='#528722'><time timestamp='2017-02-16T19:05:00Z'>19:05</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Two weeks ago I was chewing my nails feeling like we were at risk of shipping something that wouldn&#x27;t meet our standards of quality, and now I am not worried. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1487271960' id='528723'>
<a class='timestamp' href='#528723'><time timestamp='2017-02-16T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
hah. Good.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487271960' id='528724'>
<a class='timestamp' href='#528724'><time timestamp='2017-02-16T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
but I think we need to decide when we can do release candidate 1, which is a test release anyway, when rc1 is out it&#x27;s bound to find more issues
<br>
</div>

<div class='talk op-msg' data-timestamp='1487271960' id='528725'>
<a class='timestamp' href='#528725'><time timestamp='2017-02-16T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i think we can do rc1 today?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487271960' id='528726'>
<a class='timestamp' href='#528726'><time timestamp='2017-02-16T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I would be fine doing it _now_, now.  There are AFAIK not anything in the pipe which are disruptive enough issues that they&#x27;d degrade our rc1 learning, though a rc2 will be guarenteed.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487271960' id='528727'>
<a class='timestamp' href='#528727'><time timestamp='2017-02-16T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
rc1 for the weekend is fine!
<br>
</div>

<div class='talk op-msg' data-timestamp='1487271960' id='528728'>
<a class='timestamp' href='#528728'><time timestamp='2017-02-16T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
or at least branch off today
<br>
</div>

<div class='talk op-msg' data-timestamp='1487271960' id='528729'>
<a class='timestamp' href='#528729'><time timestamp='2017-02-16T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
I don&#x27;t think we have any critical problems blocking a rc1
<br>
</div>

<div class='talk op-msg' data-timestamp='1487272020' id='528730'>
<a class='timestamp' href='#528730'><time timestamp='2017-02-16T19:07:00Z'>19:07</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
sipa: why branch of if we can&#x27;t rc1 ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487272020' id='528731'>
<a class='timestamp' href='#528731'><time timestamp='2017-02-16T19:07:00Z'>19:07</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I don&#x27;t think so either
<br>
</div>

<div class='talk op-msg' data-timestamp='1487272020' id='528732'>
<a class='timestamp' href='#528732'><time timestamp='2017-02-16T19:07:00Z'>19:07</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
no more blockers from me either
<br>
</div>

<div class='talk op-msg' data-timestamp='1487272020' id='528733'>
<a class='timestamp' href='#528733'><time timestamp='2017-02-16T19:07:00Z'>19:07</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
jtimon: to begin merging for 0.15?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487272020' id='528734'>
<a class='timestamp' href='#528734'><time timestamp='2017-02-16T19:07:00Z'>19:07</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
right, because more and more pulls for 0.15 are waiting
<br>
</div>

<div class='talk op-msg' data-timestamp='1487272020' id='528735'>
<a class='timestamp' href='#528735'><time timestamp='2017-02-16T19:07:00Z'>19:07</time></a>
&lt;<span class='nick nick-2'> * jtimon</span>&gt;
nods
<br>
</div>

<div class='talk op-msg' data-timestamp='1487272020' id='528736'>
<a class='timestamp' href='#528736'><time timestamp='2017-02-16T19:07:00Z'>19:07</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
IMO the two import multi fixes are not critical and can go in after rc1 (or even in 0.15 in the worst case).
<br>
</div>

<div class='talk op-msg' data-timestamp='1487272080' id='528737'>
<a class='timestamp' href='#528737'><time timestamp='2017-02-16T19:08:00Z'>19:08</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
all you naughty people not banging away at getting 0.14 ready to go. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1487272080' id='528738'>
<a class='timestamp' href='#528738'><time timestamp='2017-02-16T19:08:00Z'>19:08</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
jonasschnelli: well lets decide that
<br>
</div>

<div class='talk op-msg' data-timestamp='1487272080' id='528739'>
<a class='timestamp' href='#528739'><time timestamp='2017-02-16T19:08:00Z'>19:08</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
jonasschnelli: I think 0.15 would be really unfortunate since they&#x27;re interface changes that users may have to accomidate in their software. (and also are covering corner cases that could result in funds losses)
<br>
</div>

<div class='talk op-msg' data-timestamp='1487272080' id='528740'>
<a class='timestamp' href='#528740'><time timestamp='2017-02-16T19:08:00Z'>19:08</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I think the fixes are all important, and should get either into 0.14.0 or backported to the 0.14 branch if they don&#x27;t, but not everything should be regarded as yet another thing to hold up rc1
<br>
</div>

<div class='talk op-msg' data-timestamp='1487272080' id='528741'>
<a class='timestamp' href='#528741'><time timestamp='2017-02-16T19:08:00Z'>19:08</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
yesterday people were saying it was bad to release with something that coudl silently not find funds
<br>
</div>

<div class='talk op-msg' data-timestamp='1487272140' id='528742'>
<a class='timestamp' href='#528742'><time timestamp='2017-02-16T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
but no reason to hold rc1 for them. They&#x27;re well understood.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487272140' id='528743'>
<a class='timestamp' href='#528743'><time timestamp='2017-02-16T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Yes. I think the should be in 0.14. Just worst case if we spun of rc1 and chaincode-labs colabses. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1487272140' id='528744'>
<a class='timestamp' href='#528744'><time timestamp='2017-02-16T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
anyhow tomorrow sounds good to me, let&#x27;s try to get in what we can get in
<br>
</div>

<div class='talk op-msg' data-timestamp='1487272140' id='528745'>
<a class='timestamp' href='#528745'><time timestamp='2017-02-16T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
it&#x27;s not like someone is going to encounter one of them running rc1 and leave us going &quot;shit was that the know issue or something else?&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1487272140' id='528746'>
<a class='timestamp' href='#528746'><time timestamp='2017-02-16T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
#9619 is a fix, but not really critical since anyone affected needs a workaround in 0.13 anyway (just pushed an amend-with-no-changes because the Travis error seems impossible)
<br>
</div>

<div class='talk op-msg' data-timestamp='1487272140' id='528747'>
<a class='timestamp' href='#528747'><time timestamp='2017-02-16T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/9619" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/9619</a> | Bugfix: RPC/Mining: GBT should return 1 MB sizelimit before segwit activates by luke-jr · Pull Request #9619 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1487272140' id='528748'>
<a class='timestamp' href='#528748'><time timestamp='2017-02-16T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
what&#x27;s the point of making an rc1 if we&#x27;re going to need rc2 anyways?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487272140' id='528749'>
<a class='timestamp' href='#528749'><time timestamp='2017-02-16T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
achow101: exposure
<br>
</div>

<div class='talk op-msg' data-timestamp='1487272140' id='528750'>
<a class='timestamp' href='#528750'><time timestamp='2017-02-16T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
achow101: to start getting people using it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487272140' id='528751'>
<a class='timestamp' href='#528751'><time timestamp='2017-02-16T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
achow101: get the code actually tested?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487272140' id='528752'>
<a class='timestamp' href='#528752'><time timestamp='2017-02-16T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
more*
<br>
</div>

<div class='talk op-msg' data-timestamp='1487272140' id='528753'>
<a class='timestamp' href='#528753'><time timestamp='2017-02-16T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
what is the point of doing rc1 at all if not?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487272140' id='528754'>
<a class='timestamp' href='#528754'><time timestamp='2017-02-16T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-4'> kanzure</span>&gt;
and seeking bug reports
<br>
</div>

<div class='talk op-msg' data-timestamp='1487272140' id='528755'>
<a class='timestamp' href='#528755'><time timestamp='2017-02-16T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I think we should plan enough time to fix stuff that gets report after rc1... 
<br>
</div>

<div class='talk op-msg' data-timestamp='1487272200' id='528756'>
<a class='timestamp' href='#528756'><time timestamp='2017-02-16T19:10:00Z'>19:10</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jonasschnelli: the release schedule already has 2 weeks left
<br>
</div>

<div class='talk op-msg' data-timestamp='1487272200' id='528757'>
<a class='timestamp' href='#528757'><time timestamp='2017-02-16T19:10:00Z'>19:10</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
achow101: I don&#x27;t think it ever happened that a major release didn&#x27;tneed a rc2
<br>
</div>

<div class='talk op-msg' data-timestamp='1487272200' id='528758'>
<a class='timestamp' href='#528758'><time timestamp='2017-02-16T19:10:00Z'>19:10</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
2 weeks can go fast
<br>
</div>

<div class='talk op-msg' data-timestamp='1487272200' id='528759'>
<a class='timestamp' href='#528759'><time timestamp='2017-02-16T19:10:00Z'>19:10</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Other can work on fixes reported in rc1.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487272200' id='528760'>
<a class='timestamp' href='#528760'><time timestamp='2017-02-16T19:10:00Z'>19:10</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
achow101: what we generally don&#x27;t want to do is to ship an RC1 with issues bad enough that it will harm the testers seriously, or which will fail in mysterious ways that we can&#x27;t learn from.  E.g. if we had a known crash fix, we would hold rc1, so that we wouldn&#x27;t worry that every user crash report might have been an unknown issue.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487272200' id='528761'>
<a class='timestamp' href='#528761'><time timestamp='2017-02-16T19:10:00Z'>19:10</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
*Others
<br>
</div>

<div class='talk op-msg' data-timestamp='1487272260' id='528762'>
<a class='timestamp' href='#528762'><time timestamp='2017-02-16T19:11:00Z'>19:11</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
my only concern is that if we do rc1 everyone will be distracted with that and not this last few remaining PR&#x27;s..  but i guess i don&#x27;t really care either way
<br>
</div>

<div class='talk op-msg' data-timestamp='1487272260' id='528763'>
<a class='timestamp' href='#528763'><time timestamp='2017-02-16T19:11:00Z'>19:11</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
wumpus: just forget the bump to v0.14 again and thereby guarantee an rc2 :p
<br>
</div>

<div class='talk op-msg' data-timestamp='1487272260' id='528764'>
<a class='timestamp' href='#528764'><time timestamp='2017-02-16T19:11:00Z'>19:11</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
cfields: lol exactly
<br>
</div>

<div class='talk op-msg' data-timestamp='1487272260' id='528765'>
<a class='timestamp' href='#528765'><time timestamp='2017-02-16T19:11:00Z'>19:11</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
seems like if someone would just review those PR&#x27;s we might be able to get them merged today
<br>
</div>

<div class='talk op-msg' data-timestamp='1487272260' id='528766'>
<a class='timestamp' href='#528766'><time timestamp='2017-02-16T19:11:00Z'>19:11</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
well I think an RC2 is already guarenteed if we do an rc1 ASAP. But thats fine. Much better than not doing the rc1.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487272260' id='528767'>
<a class='timestamp' href='#528767'><time timestamp='2017-02-16T19:11:00Z'>19:11</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
ok     
<br>
</div>

<div class='talk op-msg' data-timestamp='1487272320' id='528768'>
<a class='timestamp' href='#528768'><time timestamp='2017-02-16T19:12:00Z'>19:12</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
a RC2 is guaranteed in any case, not just if we do rc1 asap
<br>
</div>

<div class='talk op-msg' data-timestamp='1487272320' id='528769'>
<a class='timestamp' href='#528769'><time timestamp='2017-02-16T19:12:00Z'>19:12</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
that&#x27;s my point, we don&#x27;t know of all the issues yet
<br>
</div>

<div class='talk op-msg' data-timestamp='1487272320' id='528770'>
<a class='timestamp' href='#528770'><time timestamp='2017-02-16T19:12:00Z'>19:12</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
almost all the complication is in new tests.. reviewing the code changes is pretty simple
<br>
</div>

<div class='talk op-msg' data-timestamp='1487272380' id='528771'>
<a class='timestamp' href='#528771'><time timestamp='2017-02-16T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
the only one I doubt about is #9773, at it is still WIP
<br>
</div>

<div class='talk op-msg' data-timestamp='1487272380' id='528772'>
<a class='timestamp' href='#528772'><time timestamp='2017-02-16T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/9773" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/9773</a> | WIP: Return errors from importmulti if complete rescans are not successful (on top of #9761) by ryanofsky · Pull Request #9773 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1487272380' id='528773'>
<a class='timestamp' href='#528773'><time timestamp='2017-02-16T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
it&#x27;s a new feature, so we could just say &quot;don&#x27;t use this without being aware of the risks&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1487272440' id='528774'>
<a class='timestamp' href='#528774'><time timestamp='2017-02-16T19:14:00Z'>19:14</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
mark it as experimental then?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487272440' id='528775'>
<a class='timestamp' href='#528775'><time timestamp='2017-02-16T19:14:00Z'>19:14</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
paveljanik: meh, i think we&#x27;re close enough to not do that
<br>
</div>

<div class='talk op-msg' data-timestamp='1487272500' id='528776'>
<a class='timestamp' href='#528776'><time timestamp='2017-02-16T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
I mean in rc1 only
<br>
</div>

<div class='talk op-msg' data-timestamp='1487272500' id='528777'>
<a class='timestamp' href='#528777'><time timestamp='2017-02-16T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
well even with that change it can be marked as experimental
<br>
</div>

<div class='talk op-msg' data-timestamp='1487272500' id='528778'>
<a class='timestamp' href='#528778'><time timestamp='2017-02-16T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it is new code afterall
<br>
</div>

<div class='talk op-msg' data-timestamp='1487272500' id='528779'>
<a class='timestamp' href='#528779'><time timestamp='2017-02-16T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I&#x27;m not too worried about it in rc1. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1487272560' id='528780'>
<a class='timestamp' href='#528780'><time timestamp='2017-02-16T19:16:00Z'>19:16</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
there are probably still problems with it that we haven&#x27;t found, which will be found by people testing it
<br>
</div>

<div class='talk op-msg' data-timestamp='1487272560' id='528781'>
<a class='timestamp' href='#528781'><time timestamp='2017-02-16T19:16:00Z'>19:16</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
we can mark it as experimental in the release notes only...
<br>
</div>

<div class='talk op-msg' data-timestamp='1487272560' id='528782'>
<a class='timestamp' href='#528782'><time timestamp='2017-02-16T19:16:00Z'>19:16</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
so yes, experimental makes sense. Though a new major release should be considered experimental entirely
<br>
</div>

<div class='talk op-msg' data-timestamp='1487272560' id='528783'>
<a class='timestamp' href='#528783'><time timestamp='2017-02-16T19:16:00Z'>19:16</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
people running rcs are the least likely to lose funds due to a rescan limitation, and there won&#x27;t be many of them.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487272620' id='528784'>
<a class='timestamp' href='#528784'><time timestamp='2017-02-16T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
i think it is a mistake to call it experimental
<br>
</div>

<div class='talk op-msg' data-timestamp='1487272620' id='528785'>
<a class='timestamp' href='#528785'><time timestamp='2017-02-16T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
we don&#x27;t want to devalue the meaning of that word
<br>
</div>

<div class='talk op-msg' data-timestamp='1487272680' id='528786'>
<a class='timestamp' href='#528786'><time timestamp='2017-02-16T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
ok...
<br>
</div>

<div class='talk op-msg' data-timestamp='1487272680' id='528787'>
<a class='timestamp' href='#528787'><time timestamp='2017-02-16T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
sometimes we may want to have things that are actually experimental and we don&#x27;t want people to think we just always say that
<br>
</div>

<div class='talk op-msg' data-timestamp='1487272680' id='528788'>
<a class='timestamp' href='#528788'><time timestamp='2017-02-16T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
&quot;this feature is experimental level 4&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1487272680' id='528789'>
<a class='timestamp' href='#528789'><time timestamp='2017-02-16T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
haha
<br>
</div>

<div class='talk op-msg' data-timestamp='1487272680' id='528790'>
<a class='timestamp' href='#528790'><time timestamp='2017-02-16T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-4'> kanzure</span>&gt;
nasa technical readiness levels
<br>
</div>

<div class='talk op-msg' data-timestamp='1487272680' id='528791'>
<a class='timestamp' href='#528791'><time timestamp='2017-02-16T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
The whole thing is experimental :p
<br>
</div>

<div class='talk op-msg' data-timestamp='1487272680' id='528792'>
<a class='timestamp' href='#528792'><time timestamp='2017-02-16T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
this is known to the state of CA to be experimental
<br>
</div>

<div class='talk op-msg' data-timestamp='1487272680' id='528793'>
<a class='timestamp' href='#528793'><time timestamp='2017-02-16T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
morcos: &quot;dangerously experimental&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1487272740' id='528794'>
<a class='timestamp' href='#528794'><time timestamp='2017-02-16T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
morcos: lol
<br>
</div>

<div class='talk op-msg' data-timestamp='1487272740' id='528795'>
<a class='timestamp' href='#528795'><time timestamp='2017-02-16T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Yea, thats why I was not supporting expiremental.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487272740' id='528796'>
<a class='timestamp' href='#528796'><time timestamp='2017-02-16T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
morcos, accounts... deprecated!
<br>
</div>

<div class='talk op-msg' data-timestamp='1487272800' id='528797'>
<a class='timestamp' href='#528797'><time timestamp='2017-02-16T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
what..  is that an announcement? a question?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487272800' id='528798'>
<a class='timestamp' href='#528798'><time timestamp='2017-02-16T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
i hate accounts
<br>
</div>

<div class='talk op-msg' data-timestamp='1487272800' id='528799'>
<a class='timestamp' href='#528799'><time timestamp='2017-02-16T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
For rc1 we can simply say that there are in-flight improvements to that feature link to the PRs. if we really want to... in a reply to the announcement.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487272800' id='528800'>
<a class='timestamp' href='#528800'><time timestamp='2017-02-16T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
let&#x27;s just review the outstanding patches, they are tiny
<br>
</div>

<div class='talk op-msg' data-timestamp='1487272800' id='528801'>
<a class='timestamp' href='#528801'><time timestamp='2017-02-16T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
morcos, we use &quot;deprecated&quot; in things that are lasting forever in practice, bad joke
<br>
</div>

<div class='talk op-msg' data-timestamp='1487272800' id='528802'>
<a class='timestamp' href='#528802'><time timestamp='2017-02-16T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
mhm, why 9619 doesn&#x27;t go in for 0.14?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487272800' id='528803'>
<a class='timestamp' href='#528803'><time timestamp='2017-02-16T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
oh.. yeah
<br>
</div>

<div class='talk op-msg' data-timestamp='1487272800' id='528804'>
<a class='timestamp' href='#528804'><time timestamp='2017-02-16T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
with some luck we can get everything merged
<br>
</div>

<div class='talk op-msg' data-timestamp='1487272860' id='528805'>
<a class='timestamp' href='#528805'><time timestamp='2017-02-16T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
branch and rc1 tomorrow
<br>
</div>

<div class='talk op-msg' data-timestamp='1487272860' id='528806'>
<a class='timestamp' href='#528806'><time timestamp='2017-02-16T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
gmaxwell: yes, that there is still work in progress, that&#x27;s better and more clear than the word experimental
<br>
</div>

<div class='talk op-msg' data-timestamp='1487272860' id='528807'>
<a class='timestamp' href='#528807'><time timestamp='2017-02-16T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
with whatever is in
<br>
</div>

<div class='talk op-msg' data-timestamp='1487272860' id='528808'>
<a class='timestamp' href='#528808'><time timestamp='2017-02-16T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
ok, so can we just pick a time.  wumpus is going to call rc1 tomorrow morning..  it tonight we can convince people to merge a few of these other things... that&#x27;ll leave less for rc2
<br>
</div>

<div class='talk op-msg' data-timestamp='1487272920' id='528809'>
<a class='timestamp' href='#528809'><time timestamp='2017-02-16T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
that was &quot;if tonight&quot;  , if not , then ok
<br>
</div>

<div class='talk op-msg' data-timestamp='1487272920' id='528810'>
<a class='timestamp' href='#528810'><time timestamp='2017-02-16T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
wumpus: is that fine by you?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487272920' id='528811'>
<a class='timestamp' href='#528811'><time timestamp='2017-02-16T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes, that&#x27;s fine with me
<br>
</div>

<div class='talk op-msg' data-timestamp='1487272920' id='528812'>
<a class='timestamp' href='#528812'><time timestamp='2017-02-16T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I&#x27;m okay with another day, let&#x27;s just not let it slip another week, that next thursday we&#x27;re again wondering when to do the rc1 :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1487272980' id='528813'>
<a class='timestamp' href='#528813'><time timestamp='2017-02-16T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
next thursday we should be talking about doing rc2
<br>
</div>

<div class='talk op-msg' data-timestamp='1487272980' id='528814'>
<a class='timestamp' href='#528814'><time timestamp='2017-02-16T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes, ideally
<br>
</div>

<div class='talk op-msg' data-timestamp='1487272980' id='528815'>
<a class='timestamp' href='#528815'><time timestamp='2017-02-16T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
We&#x27;re at a point where beyond the couple in flight PRs little to no more improvement is happening, which is when we need more input.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487272980' id='528816'>
<a class='timestamp' href='#528816'><time timestamp='2017-02-16T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
so rc1 tomorrow regardless of whether those three prs get merged?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487273040' id='528817'>
<a class='timestamp' href='#528817'><time timestamp='2017-02-16T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
achow101: that&#x27;s what i suggest, yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1487273040' id='528818'>
<a class='timestamp' href='#528818'><time timestamp='2017-02-16T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
+1     
<br>
</div>

<div class='talk op-msg' data-timestamp='1487273040' id='528819'>
<a class='timestamp' href='#528819'><time timestamp='2017-02-16T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
^     
<br>
</div>

<div class='talk op-msg' data-timestamp='1487273160' id='528820'>
<a class='timestamp' href='#528820'><time timestamp='2017-02-16T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
are we ok with talking about things beyond 0.14?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487273160' id='528821'>
<a class='timestamp' href='#528821'><time timestamp='2017-02-16T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
sure!
<br>
</div>

<div class='talk op-msg' data-timestamp='1487273160' id='528822'>
<a class='timestamp' href='#528822'><time timestamp='2017-02-16T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
new #topic?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487273160' id='528823'>
<a class='timestamp' href='#528823'><time timestamp='2017-02-16T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i&#x27;d briefly like to talk about randomness
<br>
</div>

<div class='talk op-msg' data-timestamp='1487273160' id='528824'>
<a class='timestamp' href='#528824'><time timestamp='2017-02-16T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
#topic randomness
<br>
</div>

<div class='talk op-msg' data-timestamp='1487273160' id='528825'>
<a class='timestamp' href='#528825'><time timestamp='2017-02-16T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
that&#x27;s random.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487273220' id='528826'>
<a class='timestamp' href='#528826'><time timestamp='2017-02-16T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
we currently have 3 &quot;levels&quot; of randomnesz
<br>
</div>

<div class='talk op-msg' data-timestamp='1487273220' id='528827'>
<a class='timestamp' href='#528827'><time timestamp='2017-02-16T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
fastrandomcontext, getrandbytes, getsecurerandbytes
<br>
</div>

<div class='talk op-msg' data-timestamp='1487273220' id='528828'>
<a class='timestamp' href='#528828'><time timestamp='2017-02-16T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i&#x27;d like to have only 2
<br>
</div>

<div class='talk op-msg' data-timestamp='1487273220' id='528829'>
<a class='timestamp' href='#528829'><time timestamp='2017-02-16T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
we need a random number of levels of randomness
<br>
</div>

<div class='talk op-msg' data-timestamp='1487273220' id='528830'>
<a class='timestamp' href='#528830'><time timestamp='2017-02-16T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487273220' id='528831'>
<a class='timestamp' href='#528831'><time timestamp='2017-02-16T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
why are there three?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487273220' id='528832'>
<a class='timestamp' href='#528832'><time timestamp='2017-02-16T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
can you explain &quot;getsecurerandbytes&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1487273220' id='528833'>
<a class='timestamp' href='#528833'><time timestamp='2017-02-16T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
im going through code now but..
<br>
</div>

<div class='talk op-msg' data-timestamp='1487273220' id='528834'>
<a class='timestamp' href='#528834'><time timestamp='2017-02-16T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I mean we need one for wallet keys, I understand that
<br>
</div>

<div class='talk op-msg' data-timestamp='1487273280' id='528835'>
<a class='timestamp' href='#528835'><time timestamp='2017-02-16T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
the last one is used for privaye keys
<br>
</div>

<div class='talk op-msg' data-timestamp='1487273280' id='528836'>
<a class='timestamp' href='#528836'><time timestamp='2017-02-16T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
why 9619 doesn&#x27;t go in for 0.14?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487273280' id='528837'>
<a class='timestamp' href='#528837'><time timestamp='2017-02-16T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
jtimon: wrong topic
<br>
</div>

<div class='talk op-msg' data-timestamp='1487273280' id='528838'>
<a class='timestamp' href='#528838'><time timestamp='2017-02-16T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it&#x27;s as secure as getrandbytes if all goes well, but it&#x27;s more paranoid
<br>
</div>

<div class='talk op-msg' data-timestamp='1487273280' id='528839'>
<a class='timestamp' href='#528839'><time timestamp='2017-02-16T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
so, i&#x27;ve been playing with a chacha2p based rng instead of fastrandomcontext
<br>
</div>

<div class='talk op-msg' data-timestamp='1487273280' id='528840'>
<a class='timestamp' href='#528840'><time timestamp='2017-02-16T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
jonasschnelli: suggested topic then
<br>
</div>

<div class='talk op-msg' data-timestamp='1487273280' id='528841'>
<a class='timestamp' href='#528841'><time timestamp='2017-02-16T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I think I&#x27;m fine with an extra paranoid level for wallet keys
<br>
</div>

<div class='talk op-msg' data-timestamp='1487273280' id='528842'>
<a class='timestamp' href='#528842'><time timestamp='2017-02-16T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
*chacha20
<br>
</div>

<div class='talk op-msg' data-timestamp='1487273340' id='528843'>
<a class='timestamp' href='#528843'><time timestamp='2017-02-16T19:29:00Z'>19:29</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
which takes around 10ns for a 32-bit rand
<br>
</div>

<div class='talk op-msg' data-timestamp='1487273340' id='528844'>
<a class='timestamp' href='#528844'><time timestamp='2017-02-16T19:29:00Z'>19:29</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it&#x27;s much more important to have good randomness there then in almost any other place in computing currently
<br>
</div>

<div class='talk op-msg' data-timestamp='1487273340' id='528845'>
<a class='timestamp' href='#528845'><time timestamp='2017-02-16T19:29:00Z'>19:29</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
&quot;GetStrongRandBytes&quot; &lt;--- this it?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487273340' id='528846'>
<a class='timestamp' href='#528846'><time timestamp='2017-02-16T19:29:00Z'>19:29</time></a>
&lt;<span class='nick nick-16'> rabidus</span>&gt;
return 4
<br>
</div>

<div class='talk op-msg' data-timestamp='1487273340' id='528847'>
<a class='timestamp' href='#528847'><time timestamp='2017-02-16T19:29:00Z'>19:29</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
the current fastrandomcontext takes 1.5ns, but with extra optimizations it can be made comparablr
<br>
</div>

<div class='talk op-msg' data-timestamp='1487273400' id='528848'>
<a class='timestamp' href='#528848'><time timestamp='2017-02-16T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and if we have that, i think we can use strong randomnes for everything
<br>
</div>

<div class='talk op-msg' data-timestamp='1487273400' id='528849'>
<a class='timestamp' href='#528849'><time timestamp='2017-02-16T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
for non wallet keys we can probably do with one level
<br>
</div>

<div class='talk op-msg' data-timestamp='1487273400' id='528850'>
<a class='timestamp' href='#528850'><time timestamp='2017-02-16T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
is that your plan sipa?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487273400' id='528851'>
<a class='timestamp' href='#528851'><time timestamp='2017-02-16T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
basically i suggest making all RNGs cryptographic
<br>
</div>

<div class='talk op-msg' data-timestamp='1487273400' id='528852'>
<a class='timestamp' href='#528852'><time timestamp='2017-02-16T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but the fast one is not thread-safe, doesn&#x27;t reseed, doesn&#x27;t protect against VM reloads
<br>
</div>

<div class='talk op-msg' data-timestamp='1487273400' id='528853'>
<a class='timestamp' href='#528853'><time timestamp='2017-02-16T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
so merge the fastrandomcontext and somewhatmoresecure level, and keeping that and the ultra-paranoid one for wallet keys
<br>
</div>

<div class='talk op-msg' data-timestamp='1487273460' id='528854'>
<a class='timestamp' href='#528854'><time timestamp='2017-02-16T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i realize the &quot;only two randomness levels&quot; is a bit of an abstract goal
<br>
</div>

<div class='talk op-msg' data-timestamp='1487273460' id='528855'>
<a class='timestamp' href='#528855'><time timestamp='2017-02-16T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes the fastrandomcontext is supposed to only eb used from one thread at a time
<br>
</div>

<div class='talk op-msg' data-timestamp='1487273460' id='528856'>
<a class='timestamp' href='#528856'><time timestamp='2017-02-16T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
are there any inner loops that use random numbers?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487273460' id='528857'>
<a class='timestamp' href='#528857'><time timestamp='2017-02-16T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
wumpus: the ultra paranoid one can also use the chacha code 
<br>
</div>

<div class='talk op-msg' data-timestamp='1487273460' id='528858'>
<a class='timestamp' href='#528858'><time timestamp='2017-02-16T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
because it&#x27;s for inner loops
<br>
</div>

<div class='talk op-msg' data-timestamp='1487273520' id='528859'>
<a class='timestamp' href='#528859'><time timestamp='2017-02-16T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yes, the wallet coin selection
<br>
</div>

<div class='talk op-msg' data-timestamp='1487273520' id='528860'>
<a class='timestamp' href='#528860'><time timestamp='2017-02-16T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i benchmarked it, making it chacha20 doesn&#x27;t affect its performance
<br>
</div>

<div class='talk op-msg' data-timestamp='1487273520' id='528861'>
<a class='timestamp' href='#528861'><time timestamp='2017-02-16T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
any locking for synchronization there would be pretty bad
<br>
</div>

<div class='talk op-msg' data-timestamp='1487273520' id='528862'>
<a class='timestamp' href='#528862'><time timestamp='2017-02-16T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
there&#x27;s also an inner random loop in the address selection code IIRC
<br>
</div>

<div class='talk op-msg' data-timestamp='1487273520' id='528863'>
<a class='timestamp' href='#528863'><time timestamp='2017-02-16T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Do we need cPRNG for coin selection?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487273520' id='528864'>
<a class='timestamp' href='#528864'><time timestamp='2017-02-16T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yup     
<br>
</div>

<div class='talk op-msg' data-timestamp='1487273580' id='528865'>
<a class='timestamp' href='#528865'><time timestamp='2017-02-16T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
sipa: yes chacha20 is fast, but the problem is the thread safety
<br>
</div>

<div class='talk op-msg' data-timestamp='1487273580' id='528866'>
<a class='timestamp' href='#528866'><time timestamp='2017-02-16T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jonasschnelli: no, we don&#x27;t
<br>
</div>

<div class='talk op-msg' data-timestamp='1487273580' id='528867'>
<a class='timestamp' href='#528867'><time timestamp='2017-02-16T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sipa wants to reduce the codebase complexity.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487273580' id='528868'>
<a class='timestamp' href='#528868'><time timestamp='2017-02-16T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but chacha20 is so fast i don&#x27;t care
<br>
</div>

<div class='talk op-msg' data-timestamp='1487273580' id='528869'>
<a class='timestamp' href='#528869'><time timestamp='2017-02-16T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
if you want to be able to share a random context between threads, you end up with lots of synchronization overhead
<br>
</div>

<div class='talk op-msg' data-timestamp='1487273580' id='528870'>
<a class='timestamp' href='#528870'><time timestamp='2017-02-16T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Yes. This would be good.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487273580' id='528871'>
<a class='timestamp' href='#528871'><time timestamp='2017-02-16T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
that&#x27;s why the inner loops use a non-threadsafe random context, =which doesn&#x27;t matter as it&#x27;s only used by one thread
<br>
</div>

<div class='talk op-msg' data-timestamp='1487273640' id='528872'>
<a class='timestamp' href='#528872'><time timestamp='2017-02-16T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] gmaxwell opened pull request #9779: Update nMinimumChainWork and defaultAssumeValid. (master...update_chainparams) <a href="https://github.com/bitcoin/bitcoin/pull/9779" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9779</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1487273640' id='528873'>
<a class='timestamp' href='#528873'><time timestamp='2017-02-16T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
having clearer expectations about the rngs may simplify getting rid of openssl later
<br>
</div>

<div class='talk op-msg' data-timestamp='1487273640' id='528874'>
<a class='timestamp' href='#528874'><time timestamp='2017-02-16T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
the thread sync overhead is where the overhead would be
<br>
</div>

<div class='talk op-msg' data-timestamp='1487273640' id='528875'>
<a class='timestamp' href='#528875'><time timestamp='2017-02-16T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
though that&#x27;s not something to discuss now, i think
<br>
</div>

<div class='talk op-msg' data-timestamp='1487273640' id='528876'>
<a class='timestamp' href='#528876'><time timestamp='2017-02-16T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
so how would you cope with that sipa? or would it all be non-shared context?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487273700' id='528877'>
<a class='timestamp' href='#528877'><time timestamp='2017-02-16T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
so 1) replace fastrandomcontext with a bit more featureful chacha20 based one
<br>
</div>

<div class='talk op-msg' data-timestamp='1487273700' id='528878'>
<a class='timestamp' href='#528878'><time timestamp='2017-02-16T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes, depending on openssl for just randomness is fine, there&#x27;s no urgent reason to get rid of that, and it seems controversial for some people
<br>
</div>

<div class='talk op-msg' data-timestamp='1487273700' id='528879'>
<a class='timestamp' href='#528879'><time timestamp='2017-02-16T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
2) see where the current non-strong-getrandbytes can be replaced with fastrandcontexts, and replace everything with getstrongranbytes
<br>
</div>

<div class='talk op-msg' data-timestamp='1487273700' id='528880'>
<a class='timestamp' href='#528880'><time timestamp='2017-02-16T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
that makes sense
<br>
</div>

<div class='talk op-msg' data-timestamp='1487273760' id='528881'>
<a class='timestamp' href='#528881'><time timestamp='2017-02-16T19:36:00Z'>19:36</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
one of the harder points (beyond threading) is that we need to manage which RNGs are robust against a VM image being snapshotted and restored.  Coinselection using the same randomness again after a VM restore would be harmless.  Choosing a crypto nonce would be much less harmless.  If a RNG needs to be outputing data intially after restore there is unfortunately a runtime cost (esp on ARM).
<br>
</div>

<div class='talk op-msg' data-timestamp='1487273760' id='528882'>
<a class='timestamp' href='#528882'><time timestamp='2017-02-16T19:36:00Z'>19:36</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
also I think we need an abstraction for &#x27;kernel randomness&#x27;, this came up recently in context of OpenBSD, which doesn&#x27;t have /dev/random/urandom available in all contexts
<br>
</div>

<div class='talk op-msg' data-timestamp='1487273820' id='528883'>
<a class='timestamp' href='#528883'><time timestamp='2017-02-16T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Pieter and I have been debating this a little bit the past could days. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1487273820' id='528884'>
<a class='timestamp' href='#528884'><time timestamp='2017-02-16T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
the modern way,sandbox-proof way seems to be to use a specific system call fo that, but it differs per OS unfortunately
<br>
</div>

<div class='talk op-msg' data-timestamp='1487273820' id='528885'>
<a class='timestamp' href='#528885'><time timestamp='2017-02-16T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
wumpus: yup, that would go into the (singular) getstrongrandbytes implementation
<br>
</div>

<div class='talk op-msg' data-timestamp='1487273820' id='528886'>
<a class='timestamp' href='#528886'><time timestamp='2017-02-16T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
isn&#x27;t there an old PR for exactly that abstraction?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487273820' id='528887'>
<a class='timestamp' href='#528887'><time timestamp='2017-02-16T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
wumpus: we do have a function for OS randomness, it should be smarter of course... but it was only fairly recently introduced.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487273820' id='528888'>
<a class='timestamp' href='#528888'><time timestamp='2017-02-16T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-8'> Victorsueca</span>&gt;
maybe you could get rid of getrandbytes? so we keep the fast one for simple operations and the secure and paranoid one for important stuff and you can focus on implementing more features on those two
<br>
</div>

<div class='talk op-msg' data-timestamp='1487273820' id='528889'>
<a class='timestamp' href='#528889'><time timestamp='2017-02-16T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
GetOSRand()
<br>
</div>

<div class='talk op-msg' data-timestamp='1487273880' id='528890'>
<a class='timestamp' href='#528890'><time timestamp='2017-02-16T19:38:00Z'>19:38</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
(linux also has a &quot;getrandom&quot; system call that can be used instead of /dev/urandom, in sandboxes)
<br>
</div>

<div class='talk op-msg' data-timestamp='1487273880' id='528891'>
<a class='timestamp' href='#528891'><time timestamp='2017-02-16T19:38:00Z'>19:38</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
Victorsueca: read the above discussion, that is exactly what i am proposing
<br>
</div>

<div class='talk op-msg' data-timestamp='1487273880' id='528892'>
<a class='timestamp' href='#528892'><time timestamp='2017-02-16T19:38:00Z'>19:38</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
gmaxwell: ok
<br>
</div>

<div class='talk op-msg' data-timestamp='1487273880' id='528893'>
<a class='timestamp' href='#528893'><time timestamp='2017-02-16T19:38:00Z'>19:38</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
wumpus: yes, in newer systems. We do mention using that in the PR that implemented GetOSRand I think. (getentropy)
<br>
</div>

<div class='talk op-msg' data-timestamp='1487273880' id='528894'>
<a class='timestamp' href='#528894'><time timestamp='2017-02-16T19:38:00Z'>19:38</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
gmaxwell: in any case, that is the lowerst level, it shouldn&#x27;t be regarded as &#x27;a level of randomness&#x27;
<br>
</div>

<div class='talk op-msg' data-timestamp='1487273880' id='528895'>
<a class='timestamp' href='#528895'><time timestamp='2017-02-16T19:38:00Z'>19:38</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
so I think we know what we need to go there.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487273940' id='528896'>
<a class='timestamp' href='#528896'><time timestamp='2017-02-16T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
indeed, getentropy is bsd, getrandom is linux
<br>
</div>

<div class='talk op-msg' data-timestamp='1487273940' id='528897'>
<a class='timestamp' href='#528897'><time timestamp='2017-02-16T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-8'> Victorsueca</span>&gt;
sipa: ohh, I somehow misread that you where proposing to merge the fast and the middle one to make it simpler
<br>
</div>

<div class='talk op-msg' data-timestamp='1487273940' id='528898'>
<a class='timestamp' href='#528898'><time timestamp='2017-02-16T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
FWIW linux 4.8 also switched to chacha20 for /dev/urandom
<br>
</div>

<div class='talk op-msg' data-timestamp='1487273940' id='528899'>
<a class='timestamp' href='#528899'><time timestamp='2017-02-16T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes     
<br>
</div>

<div class='talk op-msg' data-timestamp='1487274000' id='528900'>
<a class='timestamp' href='#528900'><time timestamp='2017-02-16T19:40:00Z'>19:40</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
The framework I think about this is that we have several randomized algorithims where there are basically no cryptographic guarentees needed... coin selection, addr man buckets, and tests being some examples.  These need to be fast but can all use just a local context, need no resistance against reversal (somsone steals your ram and recovers older randomness) or prediction (vm saves repeat rando
<br>
</div>

<div class='talk op-msg' data-timestamp='1487274000' id='528901'>
<a class='timestamp' href='#528901'><time timestamp='2017-02-16T19:40:00Z'>19:40</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
gmaxwell: re: VM image being snapshotted and restored, that&#x27;s basically a case where reusing a secret is by itself harmful - is there an example in Bitcoin where that&#x27;s the case, now that we do deterministic signing?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487274000' id='528902'>
<a class='timestamp' href='#528902'><time timestamp='2017-02-16T19:40:00Z'>19:40</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
mness).
<br>
</div>

<div class='talk op-msg' data-timestamp='1487274000' id='528903'>
<a class='timestamp' href='#528903'><time timestamp='2017-02-16T19:40:00Z'>19:40</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
So thats one set of uses.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487274000' id='528904'>
<a class='timestamp' href='#528904'><time timestamp='2017-02-16T19:40:00Z'>19:40</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
Victorsueca: i&#x27;m proposing to make the fast one stronger (but not much slower), and then things using the middle one need to be judged on a case by case basis whether they can use the new fast one, or the strong one
<br>
</div>

<div class='talk op-msg' data-timestamp='1487274000' id='528905'>
<a class='timestamp' href='#528905'><time timestamp='2017-02-16T19:40:00Z'>19:40</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
Victorsueca: after that, the middle one goes away
<br>
</div>

<div class='talk op-msg' data-timestamp='1487274000' id='528906'>
<a class='timestamp' href='#528906'><time timestamp='2017-02-16T19:40:00Z'>19:40</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Then we have other uses where we have randomized behavior which does have stronger security requirements, like ping nonces which need to be strongly unforgable to prevent peers hiding their latency.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487274060' id='528907'>
<a class='timestamp' href='#528907'><time timestamp='2017-02-16T19:41:00Z'>19:41</time></a>
&lt;<span class='nick nick-8'> Victorsueca</span>&gt;
sipa: makes sense
<br>
</div>

<div class='talk op-msg' data-timestamp='1487274060' id='528908'>
<a class='timestamp' href='#528908'><time timestamp='2017-02-16T19:41:00Z'>19:41</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
But even if they&#x27;re broken it just turns into DOS attacks.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487274060' id='528909'>
<a class='timestamp' href='#528909'><time timestamp='2017-02-16T19:41:00Z'>19:41</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it&#x27;s strong, but far from as strong a requirement as wallet keys
<br>
</div>

<div class='talk op-msg' data-timestamp='1487274060' id='528910'>
<a class='timestamp' href='#528910'><time timestamp='2017-02-16T19:41:00Z'>19:41</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Then we have things like long term keys which we do infrequently and basically no cost is too high. And they have to meet basically every security characteristic we can imagine.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487274060' id='528911'>
<a class='timestamp' href='#528911'><time timestamp='2017-02-16T19:41:00Z'>19:41</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
indeed
<br>
</div>

<div class='talk op-msg' data-timestamp='1487274120' id='528912'>
<a class='timestamp' href='#528912'><time timestamp='2017-02-16T19:42:00Z'>19:42</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
suggested similar next topic: clocks
<br>
</div>

<div class='talk op-msg' data-timestamp='1487274120' id='528913'>
<a class='timestamp' href='#528913'><time timestamp='2017-02-16T19:42:00Z'>19:42</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
the second class often has to be moderately fast too. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1487274120' id='528914'>
<a class='timestamp' href='#528914'><time timestamp='2017-02-16T19:42:00Z'>19:42</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Pieter would like to collapse this class hierarchy some by making the first class use the second while making the second fast enough that it&#x27;s fine to do so.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487274180' id='528915'>
<a class='timestamp' href='#528915'><time timestamp='2017-02-16T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-8'> Victorsueca</span>&gt;
cfields: clocks as in CPU clock or as in timestamp?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487274180' id='528916'>
<a class='timestamp' href='#528916'><time timestamp='2017-02-16T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
Victorsueca: please wait until the topic is actaully started
<br>
</div>

<div class='talk op-msg' data-timestamp='1487274180' id='528917'>
<a class='timestamp' href='#528917'><time timestamp='2017-02-16T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-8'> Victorsueca</span>&gt;
ohh, sorry
<br>
</div>

<div class='talk op-msg' data-timestamp='1487274180' id='528918'>
<a class='timestamp' href='#528918'><time timestamp='2017-02-16T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
though I think we&#x27;ve wrapped up randomness
<br>
</div>

<div class='talk op-msg' data-timestamp='1487274180' id='528919'>
<a class='timestamp' href='#528919'><time timestamp='2017-02-16T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
agree
<br>
</div>

<div class='talk op-msg' data-timestamp='1487274180' id='528920'>
<a class='timestamp' href='#528920'><time timestamp='2017-02-16T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
#topic clocks
<br>
</div>

<div class='talk op-msg' data-timestamp='1487274180' id='528921'>
<a class='timestamp' href='#528921'><time timestamp='2017-02-16T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I have a little doubt that this is possible, because I think the second may need to deal with reversal resistace and prediction resistance, which cannot be done for free. (e.g. you must mix in TSC and/or RDRAND at every use.)
<br>
</div>

<div class='talk op-msg' data-timestamp='1487274180' id='528922'>
<a class='timestamp' href='#528922'><time timestamp='2017-02-16T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
he has to gavel before we can switch
<br>
</div>

<div class='talk op-msg' data-timestamp='1487274240' id='528923'>
<a class='timestamp' href='#528923'><time timestamp='2017-02-16T19:44:00Z'>19:44</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
okay!
<br>
</div>

<div class='talk op-msg' data-timestamp='1487274240' id='528924'>
<a class='timestamp' href='#528924'><time timestamp='2017-02-16T19:44:00Z'>19:44</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
gmaxwell: oh, didn&#x27;t know you were still typing, sorry
<br>
</div>

<div class='talk op-msg' data-timestamp='1487274240' id='528925'>
<a class='timestamp' href='#528925'><time timestamp='2017-02-16T19:44:00Z'>19:44</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
I have some local changes that implement the concept of different clocks/time_points/durations. The objective is for them to be incompatible with each-other.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487274240' id='528926'>
<a class='timestamp' href='#528926'><time timestamp='2017-02-16T19:44:00Z'>19:44</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
thats fine! just some things to think about.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487274240' id='528927'>
<a class='timestamp' href='#528927'><time timestamp='2017-02-16T19:44:00Z'>19:44</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
cfields: yes, that seems the way to go about it
<br>
</div>

<div class='talk op-msg' data-timestamp='1487274240' id='528928'>
<a class='timestamp' href='#528928'><time timestamp='2017-02-16T19:44:00Z'>19:44</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
cfields: f i may interject... i was thinking about creating a generic int class wrapper that supports no implicit conversioms
<br>
</div>

<div class='talk op-msg' data-timestamp='1487274240' id='528929'>
<a class='timestamp' href='#528929'><time timestamp='2017-02-16T19:44:00Z'>19:44</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
cfields: pieter and I were talking about type safty recently, and pieter suggested a scheme for introducing more integer types which will never implicitly be converted.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487274300' id='528930'>
<a class='timestamp' href='#528930'><time timestamp='2017-02-16T19:45:00Z'>19:45</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
most importantly we should start using monotonic timestamps in the network code where possible
<br>
</div>

<div class='talk op-msg' data-timestamp='1487274300' id='528931'>
<a class='timestamp' href='#528931'><time timestamp='2017-02-16T19:45:00Z'>19:45</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
that sounds fine, but i&#x27;m not sure that they&#x27;re entirely related here. The (my) objective is to stop storing time as an int, and instead as a time_value
<br>
</div>

<div class='talk op-msg' data-timestamp='1487274360' id='528932'>
<a class='timestamp' href='#528932'><time timestamp='2017-02-16T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
cfields: or are timestamps in a c++11 world not something that fit in integers?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487274360' id='528933'>
<a class='timestamp' href='#528933'><time timestamp='2017-02-16T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
that way it can be represented in sec/msec/whatever whenever it&#x27;s needed
<br>
</div>

<div class='talk op-msg' data-timestamp='1487274360' id='528934'>
<a class='timestamp' href='#528934'><time timestamp='2017-02-16T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
sipa: exactly
<br>
</div>

<div class='talk op-msg' data-timestamp='1487274360' id='528935'>
<a class='timestamp' href='#528935'><time timestamp='2017-02-16T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
it also enforces timestamps that can&#x27;t be used on the wrong clock
<br>
</div>

<div class='talk op-msg' data-timestamp='1487274360' id='528936'>
<a class='timestamp' href='#528936'><time timestamp='2017-02-16T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i&#x27;m confused
<br>
</div>

<div class='talk op-msg' data-timestamp='1487274360' id='528937'>
<a class='timestamp' href='#528937'><time timestamp='2017-02-16T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I have suggested in the past that we consider constructing a monotonic local clock, but wumpus seemed to not like the idea. which I think is orthorgonal to the type safty thing, but it would perhaps make time more sane in the codebase.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487274360' id='528938'>
<a class='timestamp' href='#528938'><time timestamp='2017-02-16T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
cfields: in general that sounds good, though in some structures such as the block index we want to use as compact types as possible
<br>
</div>

<div class='talk op-msg' data-timestamp='1487274420' id='528939'>
<a class='timestamp' href='#528939'><time timestamp='2017-02-16T19:47:00Z'>19:47</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
saftey*
<br>
</div>

<div class='talk op-msg' data-timestamp='1487274420' id='528940'>
<a class='timestamp' href='#528940'><time timestamp='2017-02-16T19:47:00Z'>19:47</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
doh     
<br>
</div>

<div class='talk op-msg' data-timestamp='1487274420' id='528941'>
<a class='timestamp' href='#528941'><time timestamp='2017-02-16T19:47:00Z'>19:47</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
wumpus: sure, you can always get an int out of it if you want
<br>
</div>

<div class='talk op-msg' data-timestamp='1487274420' id='528942'>
<a class='timestamp' href='#528942'><time timestamp='2017-02-16T19:47:00Z'>19:47</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
gmaxwell: huh I&#x27;m all for using monotonic clocks were possible, they&#x27;re just not good for everything
<br>
</div>

<div class='talk op-msg' data-timestamp='1487274420' id='528943'>
<a class='timestamp' href='#528943'><time timestamp='2017-02-16T19:47:00Z'>19:47</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
safety**
<br>
</div>

<div class='talk op-msg' data-timestamp='1487274420' id='528944'>
<a class='timestamp' href='#528944'><time timestamp='2017-02-16T19:47:00Z'>19:47</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
cfields: my point was to have a template&lt;typename tag&gt; class non_convertible_int
<br>
</div>

<div class='talk op-msg' data-timestamp='1487274420' id='528945'>
<a class='timestamp' href='#528945'><time timestamp='2017-02-16T19:47:00Z'>19:47</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
also, i believe the class is actually not bigger than an int. It&#x27;s just not convertable to int
<br>
</div>

<div class='talk op-msg' data-timestamp='1487274480' id='528946'>
<a class='timestamp' href='#528946'><time timestamp='2017-02-16T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
cfields: well if it represents micro/nanosecond it needs to be at least uint64 :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1487274480' id='528947'>
<a class='timestamp' href='#528947'><time timestamp='2017-02-16T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and then have typedef non_comvertible_int&lt;systemtime&gt; systemtime_type
<br>
</div>

<div class='talk op-msg' data-timestamp='1487274480' id='528948'>
<a class='timestamp' href='#528948'><time timestamp='2017-02-16T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and systemtype_type is what is used
<br>
</div>

<div class='talk op-msg' data-timestamp='1487274480' id='528949'>
<a class='timestamp' href='#528949'><time timestamp='2017-02-16T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
you would get_int() on the object to get an int. You would just get a conversion by surprise.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487274480' id='528950'>
<a class='timestamp' href='#528950'><time timestamp='2017-02-16T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
*systemtime_type
<br>
</div>

<div class='talk op-msg' data-timestamp='1487274480' id='528951'>
<a class='timestamp' href='#528951'><time timestamp='2017-02-16T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I would <u>_hope_</u> we can construct something that at runtime is <u>_exactly_</u> equal to using an integer.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487274540' id='528952'>
<a class='timestamp' href='#528952'><time timestamp='2017-02-16T19:49:00Z'>19:49</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
cfields: you&#x27;re being inconsistent
<br>
</div>

<div class='talk op-msg' data-timestamp='1487274540' id='528953'>
<a class='timestamp' href='#528953'><time timestamp='2017-02-16T19:49:00Z'>19:49</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
sipa: <a href="http://en.cppreference.com/w/cpp/chrono/time_point" class="link" target="_blank">http://en.cppreference.com/w/cpp/chrono/time_point</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1487274540' id='528954'>
<a class='timestamp' href='#528954'><time timestamp='2017-02-16T19:49:00Z'>19:49</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I think we should do this far more broadly than just timestamps however.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487274540' id='528955'>
<a class='timestamp' href='#528955'><time timestamp='2017-02-16T19:49:00Z'>19:49</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
we can&#x27;t use that in blocks, etc
<br>
</div>

<div class='talk op-msg' data-timestamp='1487274600' id='528956'>
<a class='timestamp' href='#528956'><time timestamp='2017-02-16T19:50:00Z'>19:50</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
indeed - block times /consensus are a special case 
<br>
</div>

<div class='talk op-msg' data-timestamp='1487274600' id='528957'>
<a class='timestamp' href='#528957'><time timestamp='2017-02-16T19:50:00Z'>19:50</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
sipa: we don&#x27;t use timeval in blocks either though, we convert from the clock
<br>
</div>

<div class='talk op-msg' data-timestamp='1487274600' id='528958'>
<a class='timestamp' href='#528958'><time timestamp='2017-02-16T19:50:00Z'>19:50</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but perhaps we should use those types in network state, measuring speed, ...
<br>
</div>

<div class='talk op-msg' data-timestamp='1487274600' id='528959'>
<a class='timestamp' href='#528959'><time timestamp='2017-02-16T19:50:00Z'>19:50</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
sipa: i&#x27;ll demonstrate with code, probably easier that way
<br>
</div>

<div class='talk op-msg' data-timestamp='1487274600' id='528960'>
<a class='timestamp' href='#528960'><time timestamp='2017-02-16T19:50:00Z'>19:50</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
right
<br>
</div>

<div class='talk op-msg' data-timestamp='1487274660' id='528961'>
<a class='timestamp' href='#528961'><time timestamp='2017-02-16T19:51:00Z'>19:51</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
cfields: what i want to address is the fact that an int or int64 can now mean microseconds, milliseconds, or seconds, and either system time, or monotonous time, or network-adjusted timr
<br>
</div>

<div class='talk op-msg' data-timestamp='1487274660' id='528962'>
<a class='timestamp' href='#528962'><time timestamp='2017-02-16T19:51:00Z'>19:51</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it&#x27;s fine that those are int-like, but they shouldn&#x27;t be convertible from one into another
<br>
</div>

<div class='talk op-msg' data-timestamp='1487274660' id='528963'>
<a class='timestamp' href='#528963'><time timestamp='2017-02-16T19:51:00Z'>19:51</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
sipa: and that&#x27;s exactly what i&#x27;ve addressed. Each of those gets its own type, and they&#x27;re not convertable to eachother. But you can do a duration_cast&lt;std::chrono::seconds&gt;(foo) and get an int64_t seconds value out
<br>
</div>

<div class='talk op-msg' data-timestamp='1487274720' id='528964'>
<a class='timestamp' href='#528964'><time timestamp='2017-02-16T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
anyway, for everything but consensus data structures, perhaps there are more c++ish ways
<br>
</div>

<div class='talk op-msg' data-timestamp='1487274720' id='528965'>
<a class='timestamp' href='#528965'><time timestamp='2017-02-16T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
cfields: let&#x27;s discuss this outside of theeeting
<br>
</div>

<div class='talk op-msg' data-timestamp='1487274720' id='528966'>
<a class='timestamp' href='#528966'><time timestamp='2017-02-16T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
This problem exists far beyond timestamps however. Use a node ID as a tx count? no problem.  Use a vin index as a block number? no problem. Use a bytes sent as a relay bool? no problem.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487274780' id='528967'>
<a class='timestamp' href='#528967'><time timestamp='2017-02-16T19:53:00Z'>19:53</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
We have multiple times had potentially serious bugs from the general issue of implicit conversions.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487274780' id='528968'>
<a class='timestamp' href='#528968'><time timestamp='2017-02-16T19:53:00Z'>19:53</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
gmaxwell: yes, agreed that the tag would be very useful
<br>
</div>

<div class='talk op-msg' data-timestamp='1487274780' id='528969'>
<a class='timestamp' href='#528969'><time timestamp='2017-02-16T19:53:00Z'>19:53</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(or in the case of sighash single, an actual consensus behavior flaw)
<br>
</div>

<div class='talk op-msg' data-timestamp='1487274780' id='528970'>
<a class='timestamp' href='#528970'><time timestamp='2017-02-16T19:53:00Z'>19:53</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
sipa: np
<br>
</div>

<div class='talk op-msg' data-timestamp='1487274780' id='528971'>
<a class='timestamp' href='#528971'><time timestamp='2017-02-16T19:53:00Z'>19:53</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jtimon had a topic as well
<br>
</div>

<div class='talk op-msg' data-timestamp='1487274780' id='528972'>
<a class='timestamp' href='#528972'><time timestamp='2017-02-16T19:53:00Z'>19:53</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
using enumerations instead of booleans would also go a long way
<br>
</div>

<div class='talk op-msg' data-timestamp='1487274840' id='528973'>
<a class='timestamp' href='#528973'><time timestamp='2017-02-16T19:54:00Z'>19:54</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
well, just a question really
<br>
</div>

<div class='talk op-msg' data-timestamp='1487274840' id='528974'>
<a class='timestamp' href='#528974'><time timestamp='2017-02-16T19:54:00Z'>19:54</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I also have a little proposal
<br>
</div>

<div class='talk op-msg' data-timestamp='1487274840' id='528975'>
<a class='timestamp' href='#528975'><time timestamp='2017-02-16T19:54:00Z'>19:54</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
all the data is there in the compile to prevent these mistakes, we&#x27;re just not exposing it right. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1487274840' id='528976'>
<a class='timestamp' href='#528976'><time timestamp='2017-02-16T19:54:00Z'>19:54</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
I guess it can wait after the meeting
<br>
</div>

<div class='talk op-msg' data-timestamp='1487274840' id='528977'>
<a class='timestamp' href='#528977'><time timestamp='2017-02-16T19:54:00Z'>19:54</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
especially for functions that have tons of boolean arguments in succession, that&#x27;s just crazy 
<br>
</div>

<div class='talk op-msg' data-timestamp='1487274840' id='528978'>
<a class='timestamp' href='#528978'><time timestamp='2017-02-16T19:54:00Z'>19:54</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
wumpus: yeah, generally useful
<br>
</div>

<div class='talk op-msg' data-timestamp='1487274840' id='528979'>
<a class='timestamp' href='#528979'><time timestamp='2017-02-16T19:54:00Z'>19:54</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
wumpus: yea, using bools, also using structs to get named parameters... lots of things we can do.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487274840' id='528980'>
<a class='timestamp' href='#528980'><time timestamp='2017-02-16T19:54:00Z'>19:54</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
wumpus: for sure
<br>
</div>

<div class='talk op-msg' data-timestamp='1487274840' id='528981'>
<a class='timestamp' href='#528981'><time timestamp='2017-02-16T19:54:00Z'>19:54</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
or answered fast enough that it doesn&#x27;t need its own topic: &quot;why 9619 doesn&#x27;t go in for 0.14?&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1487274840' id='528982'>
<a class='timestamp' href='#528982'><time timestamp='2017-02-16T19:54:00Z'>19:54</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
true false true true false die die die.  ... I hate counting aruments when changing things.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487274840' id='528983'>
<a class='timestamp' href='#528983'><time timestamp='2017-02-16T19:54:00Z'>19:54</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
jtimon: i think because there was an error reported and no explanation that it was fixed or wasn&#x27;t really a problem.  that&#x27;s at least why i haven&#x27;t looked at the PR.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487274840' id='528984'>
<a class='timestamp' href='#528984'><time timestamp='2017-02-16T19:54:00Z'>19:54</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
(well with some IDEs you can see what gets assigned to what parameter because it parses the interface, but that&#x27;s not something you can realy on that everyone has available)
<br>
</div>

<div class='talk op-msg' data-timestamp='1487274900' id='528985'>
<a class='timestamp' href='#528985'><time timestamp='2017-02-16T19:55:00Z'>19:55</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
gmaxwell: exactly
<br>
</div>

<div class='talk op-msg' data-timestamp='1487274900' id='528986'>
<a class='timestamp' href='#528986'><time timestamp='2017-02-16T19:55:00Z'>19:55</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
jtimon: what was your topic?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487274900' id='528987'>
<a class='timestamp' href='#528987'><time timestamp='2017-02-16T19:55:00Z'>19:55</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
gmaxwell, the fun really starts when you drop an arg with a default value at the end
<br>
</div>

<div class='talk op-msg' data-timestamp='1487274900' id='528988'>
<a class='timestamp' href='#528988'><time timestamp='2017-02-16T19:55:00Z'>19:55</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
(or three)
<br>
</div>

<div class='talk op-msg' data-timestamp='1487274900' id='528989'>
<a class='timestamp' href='#528989'><time timestamp='2017-02-16T19:55:00Z'>19:55</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
morcos: that explains why is not merged, not why it&#x27;s not labeled 0.14, but ok I guess
<br>
</div>

<div class='talk op-msg' data-timestamp='1487274900' id='528990'>
<a class='timestamp' href='#528990'><time timestamp='2017-02-16T19:55:00Z'>19:55</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
jtimon: let&#x27;s reverse the question: why would it need to be added for 0.14?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487274900' id='528991'>
<a class='timestamp' href='#528991'><time timestamp='2017-02-16T19:55:00Z'>19:55</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
wumpus: including 9619 in 0.14
<br>
</div>

<div class='talk op-msg' data-timestamp='1487274960' id='528992'>
<a class='timestamp' href='#528992'><time timestamp='2017-02-16T19:56:00Z'>19:56</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
it&#x27;s a bugfix and is simple enough, why not?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487274960' id='528993'>
<a class='timestamp' href='#528993'><time timestamp='2017-02-16T19:56:00Z'>19:56</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i think it can go in, it&#x27;s trivial and very small in scope
<br>
</div>

<div class='talk op-msg' data-timestamp='1487274960' id='528994'>
<a class='timestamp' href='#528994'><time timestamp='2017-02-16T19:56:00Z'>19:56</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
basically without it a plausable downstream gbt user that changes the transaction set could construct an overlarge block, is that the concern there?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487274960' id='528995'>
<a class='timestamp' href='#528995'><time timestamp='2017-02-16T19:56:00Z'>19:56</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I&#x27;m fine with merging it before 0.14, if its sufficiently reviewed and teste
<br>
</div>

<div class='talk op-msg' data-timestamp='1487274960' id='528996'>
<a class='timestamp' href='#528996'><time timestamp='2017-02-16T19:56:00Z'>19:56</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it will however not hold up rc1
<br>
</div>

<div class='talk op-msg' data-timestamp='1487275020' id='528997'>
<a class='timestamp' href='#528997'><time timestamp='2017-02-16T19:57:00Z'>19:57</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
it looks trivial and small in scope, and if my understanding is correct it should go in.. but sure, nothing should hold up rc1.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487275020' id='528998'>
<a class='timestamp' href='#528998'><time timestamp='2017-02-16T19:57:00Z'>19:57</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
at least nothing that we know of now.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487275020' id='528999'>
<a class='timestamp' href='#528999'><time timestamp='2017-02-16T19:57:00Z'>19:57</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
fair
<br>
</div>

<div class='talk op-msg' data-timestamp='1487275020' id='529000'>
<a class='timestamp' href='#529000'><time timestamp='2017-02-16T19:57:00Z'>19:57</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Not sure if this makes sense, But I propose to rename the ./qa dir to ./test (or something that sorts after ./src). I think it would be better to have the RPC tests further down in the PRs diff.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487275020' id='529001'>
<a class='timestamp' href='#529001'><time timestamp='2017-02-16T19:57:00Z'>19:57</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
sure, was simply surprised it didn&#x27;t had the 0.14 label since it&#x27;s not really that new 
<br>
</div>

<div class='talk op-msg' data-timestamp='1487275020' id='529002'>
<a class='timestamp' href='#529002'><time timestamp='2017-02-16T19:57:00Z'>19:57</time></a>
&lt;<span class='nick nick-8'> Victorsueca</span>&gt;
I see lots of utACKs but not any ACK, so trivial it doesn&#x27;t need testing I assume?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487275020' id='529003'>
<a class='timestamp' href='#529003'><time timestamp='2017-02-16T19:57:00Z'>19:57</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
short of some kind of crash eat money doom bug showing up before we manage to get it out (and even that shouldn&#x27;t delay <u>_constructing_</u> RC1; if doom shows up we can abort launch)
<br>
</div>

<div class='talk op-msg' data-timestamp='1487275080' id='529004'>
<a class='timestamp' href='#529004'><time timestamp='2017-02-16T19:58:00Z'>19:58</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
gmaxwell: sure, there are always serious enough problems possible that should postpone the release
<br>
</div>

<div class='talk op-msg' data-timestamp='1487275080' id='529005'>
<a class='timestamp' href='#529005'><time timestamp='2017-02-16T19:58:00Z'>19:58</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
jonasschnelli: On that I&#x27;d like to get into a state where make check is running those tests. They are most of our tests now, and the most valuable.. and really people building with compilers we&#x27;ve never seen before <u>_REALLY_</u> ought to be running them.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487275140' id='529006'>
<a class='timestamp' href='#529006'><time timestamp='2017-02-16T19:59:00Z'>19:59</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
jonasschnelli: don&#x27;t really have an opinion on that, does it matter much how things are sorted?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487275140' id='529007'>
<a class='timestamp' href='#529007'><time timestamp='2017-02-16T19:59:00Z'>19:59</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Why would the sorting matter?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487275140' id='529008'>
<a class='timestamp' href='#529008'><time timestamp='2017-02-16T19:59:00Z'>19:59</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
As long as review is a bottleneck I think it matters
<br>
</div>

<div class='talk op-msg' data-timestamp='1487275140' id='529009'>
<a class='timestamp' href='#529009'><time timestamp='2017-02-16T19:59:00Z'>19:59</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
But maybe I&#x27;m alone with that opinion.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487275200' id='529010'>
<a class='timestamp' href='#529010'><time timestamp='2017-02-16T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
OH so they show up lower on github.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487275200' id='529011'>
<a class='timestamp' href='#529011'><time timestamp='2017-02-16T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
/zzztest
<br>
</div>

<div class='talk op-msg' data-timestamp='1487275200' id='529012'>
<a class='timestamp' href='#529012'><time timestamp='2017-02-16T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
my biggest pet peeve is that they&#x27;re called RPC tests, not &#x27;functional tests&#x27; or such, they&#x27;re testing much more than RPC these days :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1487275200' id='529013'>
<a class='timestamp' href='#529013'><time timestamp='2017-02-16T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
./test_functional
<br>
</div>

<div class='talk op-msg' data-timestamp='1487275200' id='529014'>
<a class='timestamp' href='#529014'><time timestamp='2017-02-16T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
It is sometimes a bit confusing that the tests show up first... otoh it can be informative to read the test before the change in the cases where the test is especially good. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1487275200' id='529015'>
<a class='timestamp' href='#529015'><time timestamp='2017-02-16T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
but not serious enough to actually go on renamind directories
<br>
</div>

<div class='talk op-msg' data-timestamp='1487275200' id='529016'>
<a class='timestamp' href='#529016'><time timestamp='2017-02-16T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
also, pull-tester should be merged in rpc-tests
<br>
</div>

<div class='talk op-msg' data-timestamp='1487275200' id='529017'>
<a class='timestamp' href='#529017'><time timestamp='2017-02-16T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
wumpus: they are &quot;system tests&quot;  rpc is incidental.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487275260' id='529018'>
<a class='timestamp' href='#529018'><time timestamp='2017-02-16T20:01:00Z'>20:01</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
we don&#x27;t have pulltester anymore, and it&#x27;s annoying to always change directory :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1487275260' id='529019'>
<a class='timestamp' href='#529019'><time timestamp='2017-02-16T20:01:00Z'>20:01</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
gmaxwell: yes, it doesn&#x27;t matter what interface they use, whether it&#x27;s RPC or P2P or ZMQ or REST or command line arguments etc
<br>
</div>

<div class='talk op-msg' data-timestamp='1487275260' id='529020'>
<a class='timestamp' href='#529020'><time timestamp='2017-02-16T20:01:00Z'>20:01</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
we&#x27;re over time
<br>
</div>

<div class='talk op-msg' data-timestamp='1487275260' id='529021'>
<a class='timestamp' href='#529021'><time timestamp='2017-02-16T20:01:00Z'>20:01</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
btw     
<br>
</div>

<div class='talk op-msg' data-timestamp='1487275260' id='529022'>
<a class='timestamp' href='#529022'><time timestamp='2017-02-16T20:01:00Z'>20:01</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Okay. I&#x27;ll do a cleanup PR once we branch off.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487275260' id='529023'>
<a class='timestamp' href='#529023'><time timestamp='2017-02-16T20:01:00Z'>20:01</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
instagibbs: ah yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1487275260' id='529024'>
<a class='timestamp' href='#529024'><time timestamp='2017-02-16T20:01:00Z'>20:01</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
#endmeeting
<br>
</div>

<div class='talk op-msg' data-timestamp='1487275260' id='529025'>
<a class='timestamp' href='#529025'><time timestamp='2017-02-16T20:01:00Z'>20:01</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Meeting ended Thu Feb 16 20:01:55 2017 UTC.  Information about MeetBot at <a href="http://wiki.debian.org/MeetBot" class="link" target="_blank">http://wiki.debian.org/MeetBot</a> . (v 0.1.4)
<br>
</div>

<div class='talk op-msg' data-timestamp='1487275260' id='529026'>
<a class='timestamp' href='#529026'><time timestamp='2017-02-16T20:01:00Z'>20:01</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Minutes:        <a href="http://www.erisian.com.au/meetbot/bitcoin-core-dev/2017/bitcoin-core-dev.2017-02-16-19.02.html" class="link" target="_blank">http://www.erisian.com.au/meetbot/bitcoin-core-dev/2017/bitcoin-core-dev.2017-02-16-19.02.html</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1487275260' id='529027'>
<a class='timestamp' href='#529027'><time timestamp='2017-02-16T20:01:00Z'>20:01</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Minutes (text): <a href="http://www.erisian.com.au/meetbot/bitcoin-core-dev/2017/bitcoin-core-dev.2017-02-16-19.02.txt" class="link" target="_blank">http://www.erisian.com.au/meetbot/bitcoin-core-dev/2017/bitcoin-core-dev.2017-02-16-19.02.txt</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1487275260' id='529028'>
<a class='timestamp' href='#529028'><time timestamp='2017-02-16T20:01:00Z'>20:01</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Log:            <a href="http://www.erisian.com.au/meetbot/bitcoin-core-dev/2017/bitcoin-core-dev.2017-02-16-19.02.log.html" class="link" target="_blank">http://www.erisian.com.au/meetbot/bitcoin-core-dev/2017/bitcoin-core-dev.2017-02-16-19.02.log.html</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1487275320' id='529029'>
<a class='timestamp' href='#529029'><time timestamp='2017-02-16T20:02:00Z'>20:02</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
wumpus: Agree, and can we name it something other than pull-tester?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487275320' id='529030'>
<a class='timestamp' href='#529030'><time timestamp='2017-02-16T20:02:00Z'>20:02</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
sipa: gmaxwell So if I understand you guys, you want to create custom types for all time related structures inside of core?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487275320' id='529031'>
<a class='timestamp' href='#529031'><time timestamp='2017-02-16T20:02:00Z'>20:02</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
petertodd: nice ACK on 9779.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487275320' id='529032'>
<a class='timestamp' href='#529032'><time timestamp='2017-02-16T20:02:00Z'>20:02</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
even further, integer related structures?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487275320' id='529033'>
<a class='timestamp' href='#529033'><time timestamp='2017-02-16T20:02:00Z'>20:02</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
Chris_Stewart_5: well it seems c++11 has things like that already, and they&#x27;re more featureful than just integers
<br>
</div>

<div class='talk op-msg' data-timestamp='1487275320' id='529034'>
<a class='timestamp' href='#529034'><time timestamp='2017-02-16T20:02:00Z'>20:02</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
Chris_Stewart_5: i&#x27;m suggesting that we switch to std::chrono::duration and std::chrono::time_point
<br>
</div>

<div class='talk op-msg' data-timestamp='1487275320' id='529035'>
<a class='timestamp' href='#529035'><time timestamp='2017-02-16T20:02:00Z'>20:02</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
jnewbery: yes, pulltester is a weird name now, it&#x27;s simply a launch framework for the tests
<br>
</div>

<div class='talk op-msg' data-timestamp='1487275380' id='529036'>
<a class='timestamp' href='#529036'><time timestamp='2017-02-16T20:03:00Z'>20:03</time></a>
&lt;<span class='nick nick-8'> Victorsueca</span>&gt;
midnightmagic: &quot;and really people building with compilers we&#x27;ve never seen before <u>_REALLY_</u> ought to be running them.&quot; &lt;--- I tried it once on windows but it looks like they&#x27;re broken and only work on linux
<br>
</div>

<div class='talk op-msg' data-timestamp='1487275380' id='529037'>
<a class='timestamp' href='#529037'><time timestamp='2017-02-16T20:03:00Z'>20:03</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
Chris_Stewart_5: but yes, making ints not convertible into other int-like-types can fix bugs
<br>
</div>

<div class='talk op-msg' data-timestamp='1487275380' id='529038'>
<a class='timestamp' href='#529038'><time timestamp='2017-02-16T20:03:00Z'>20:03</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
test-launcher.py or test-runner.py seem fine
<br>
</div>

<div class='talk op-msg' data-timestamp='1487275380' id='529039'>
<a class='timestamp' href='#529039'><time timestamp='2017-02-16T20:03:00Z'>20:03</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
wumpus: re 9779, assuming that gets ACKs feel free to merge that along with the version bump. (the assumevalid was 6119 blocks behind.)
<br>
</div>

<div class='talk op-msg' data-timestamp='1487275380' id='529040'>
<a class='timestamp' href='#529040'><time timestamp='2017-02-16T20:03:00Z'>20:03</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
Victorsueca: that&#x27;s simply not true! they work on at least openbsd, freebsd, linux, and windows (in wine at least)
<br>
</div>

<div class='talk op-msg' data-timestamp='1487275380' id='529041'>
<a class='timestamp' href='#529041'><time timestamp='2017-02-16T20:03:00Z'>20:03</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
sipa: Sure, no arguments with that. Just wasn&#x27;t sure if that was <u>_exactly_</u> what you guys were saying in the meeting. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1487275380' id='529042'>
<a class='timestamp' href='#529042'><time timestamp='2017-02-16T20:03:00Z'>20:03</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
Victorsueca: oh and OSX
<br>
</div>

<div class='talk op-msg' data-timestamp='1487275440' id='529043'>
<a class='timestamp' href='#529043'><time timestamp='2017-02-16T20:04:00Z'>20:04</time></a>
&lt;<span class='nick nick-8'> Victorsueca</span>&gt;
wumpus: hmmm should try it again
<br>
</div>

<div class='talk op-msg' data-timestamp='1487275440' id='529044'>
<a class='timestamp' href='#529044'><time timestamp='2017-02-16T20:04:00Z'>20:04</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
sipa: But conversions will still be able to be done right? Just with explicit function calls instead of casting correct?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487275440' id='529045'>
<a class='timestamp' href='#529045'><time timestamp='2017-02-16T20:04:00Z'>20:04</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
Victorsueca: our tests are very well maintained on many platforms
<br>
</div>

<div class='talk op-msg' data-timestamp='1487275440' id='529046'>
<a class='timestamp' href='#529046'><time timestamp='2017-02-16T20:04:00Z'>20:04</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
Chris_Stewart_5: of course
<br>
</div>

<div class='talk op-msg' data-timestamp='1487275440' id='529047'>
<a class='timestamp' href='#529047'><time timestamp='2017-02-16T20:04:00Z'>20:04</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
otherwise it&#x27;s useless
<br>
</div>

<div class='talk op-msg' data-timestamp='1487275440' id='529048'>
<a class='timestamp' href='#529048'><time timestamp='2017-02-16T20:04:00Z'>20:04</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
Chris_Stewart_5: only to a degree. You shouldn&#x27;t be able to compare a system_clock time_point to a steady_clock one. Because that makes no sense.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487275440' id='529049'>
<a class='timestamp' href='#529049'><time timestamp='2017-02-16T20:04:00Z'>20:04</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
They tests have extra dependencies so its quite plausable that on some systems that compile the code the tests fail.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487275500' id='529050'>
<a class='timestamp' href='#529050'><time timestamp='2017-02-16T20:05:00Z'>20:05</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
cfields: or a duration to a absolute time value!
<br>
</div>

<div class='talk op-msg' data-timestamp='1487275500' id='529051'>
<a class='timestamp' href='#529051'><time timestamp='2017-02-16T20:05:00Z'>20:05</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
wumpus: right
<br>
</div>

<div class='talk op-msg' data-timestamp='1487275500' id='529052'>
<a class='timestamp' href='#529052'><time timestamp='2017-02-16T20:05:00Z'>20:05</time></a>
&lt;<span class='nick nick-8'> Victorsueca</span>&gt;
wumpus: which one should I be running to run all tests?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487275500' id='529053'>
<a class='timestamp' href='#529053'><time timestamp='2017-02-16T20:05:00Z'>20:05</time></a>
&lt;<span class='nick nick-8'> Victorsueca</span>&gt;
ahh I think I found it
<br>
</div>

<div class='talk op-msg' data-timestamp='1487275500' id='529054'>
<a class='timestamp' href='#529054'><time timestamp='2017-02-16T20:05:00Z'>20:05</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
gmaxwell: it should disable the tests in question in that case, e.g. if there&#x27;s no zmq if doesn&#x27;t run that test
<br>
</div>

<div class='talk op-msg' data-timestamp='1487275560' id='529055'>
<a class='timestamp' href='#529055'><time timestamp='2017-02-16T20:06:00Z'>20:06</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Victorsueca: ./qa/pull-tester/rpc-tests.py
<br>
</div>

<div class='talk op-msg' data-timestamp='1487275560' id='529056'>
<a class='timestamp' href='#529056'><time timestamp='2017-02-16T20:06:00Z'>20:06</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
wumpus: right, functions with many bools could use thier own flags or something perhaps (sorry, was catching up on the previous discussion)
<br>
</div>

<div class='talk op-msg' data-timestamp='1487275560' id='529057'>
<a class='timestamp' href='#529057'><time timestamp='2017-02-16T20:06:00Z'>20:06</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Victorsueca: mind the -win parameter
<br>
</div>

<div class='talk op-msg' data-timestamp='1487275560' id='529058'>
<a class='timestamp' href='#529058'><time timestamp='2017-02-16T20:06:00Z'>20:06</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
jtimon: yes, either bitfield or individual enums, everything is better than bool,bool,bool,bool
<br>
</div>

<div class='talk op-msg' data-timestamp='1487275560' id='529059'>
<a class='timestamp' href='#529059'><time timestamp='2017-02-16T20:06:00Z'>20:06</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
so instead, we get the concept of a clock, which gives you time_point&#x27;s with some meaning. a time_point, which is an absolute time (but not necessarily wall-time) on some clock, and a duration, which is the difference between 2 time_points
<br>
</div>

<div class='talk op-msg' data-timestamp='1487275620' id='529060'>
<a class='timestamp' href='#529060'><time timestamp='2017-02-16T20:07:00Z'>20:07</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
wumpus: for cases where it&#x27;s excessive you can emulate named arguments using a struct
<br>
</div>

<div class='talk op-msg' data-timestamp='1487275620' id='529061'>
<a class='timestamp' href='#529061'><time timestamp='2017-02-16T20:07:00Z'>20:07</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
jonasschnelli: My preference would be to also move the bitcoin-util-test.py and bctest.py (and data for those tests) from src/test to whatever you rename qa to. Those tests seem much more like the integration tests in qa than the unit tests in src/test
<br>
</div>

<div class='talk op-msg' data-timestamp='1487275620' id='529062'>
<a class='timestamp' href='#529062'><time timestamp='2017-02-16T20:07:00Z'>20:07</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
and I really hate we have so many bools with default values
<br>
</div>

<div class='talk op-msg' data-timestamp='1487275620' id='529063'>
<a class='timestamp' href='#529063'><time timestamp='2017-02-16T20:07:00Z'>20:07</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
wumpus: for example a struct ATMPArgs that takes in its constructor all &#x27;required&#x27; fields for ATMP, and has methods to change optionals
<br>
</div>

<div class='talk op-msg' data-timestamp='1487275620' id='529064'>
<a class='timestamp' href='#529064'><time timestamp='2017-02-16T20:07:00Z'>20:07</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
cfields: Wouldn&#x27;t that comparison have to be enforced through code review and not a compile time failure? Sorry not super familar with the data structures..
<br>
</div>

<div class='talk op-msg' data-timestamp='1487275620' id='529065'>
<a class='timestamp' href='#529065'><time timestamp='2017-02-16T20:07:00Z'>20:07</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
jnewbery: Indeed. I&#x27;ll try to move them.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487275620' id='529066'>
<a class='timestamp' href='#529066'><time timestamp='2017-02-16T20:07:00Z'>20:07</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I believe a struct for inputs can be nearly zero runtime overhead for functions with many arguments.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487275680' id='529067'>
<a class='timestamp' href='#529067'><time timestamp='2017-02-16T20:08:00Z'>20:08</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
Chris_Stewart_5: it will result in compile time failure; a timepoint for a steady clock would be a different data type
<br>
</div>

<div class='talk op-msg' data-timestamp='1487275680' id='529068'>
<a class='timestamp' href='#529068'><time timestamp='2017-02-16T20:08:00Z'>20:08</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
sipa: c99 designated struct initializers were always nice to use for emulating named arguments in C, too bad that never made it to C++
<br>
</div>

<div class='talk op-msg' data-timestamp='1487275680' id='529069'>
<a class='timestamp' href='#529069'><time timestamp='2017-02-16T20:08:00Z'>20:08</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
Chris_Stewart_5: no, it&#x27;s enforced by the compiler. A time_point knows what clock it belongs to
<br>
</div>

<div class='talk op-msg' data-timestamp='1487275680' id='529070'>
<a class='timestamp' href='#529070'><time timestamp='2017-02-16T20:08:00Z'>20:08</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
So you&#x27;d call AcceptToMemoryPool(ATMPArgs{std::move(tx)}.max_fee(fee))
<br>
</div>

<div class='talk op-msg' data-timestamp='1487275680' id='529071'>
<a class='timestamp' href='#529071'><time timestamp='2017-02-16T20:08:00Z'>20:08</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Chris_Stewart_5: enforcing things through code review that could be enforced by the machine is a losing strategy. Code review is essential but it should be focused on the bugs the machine cannot prevent.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487275680' id='529072'>
<a class='timestamp' href='#529072'><time timestamp='2017-02-16T20:08:00Z'>20:08</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
gmaxwell: heh, yeah, I wanted to make a point of what the trust model was, particularly since -assumevalid was (partly) my idea! :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1487275740' id='529073'>
<a class='timestamp' href='#529073'><time timestamp='2017-02-16T20:09:00Z'>20:09</time></a>
&lt;<span class='nick nick-8'> Victorsueca</span>&gt;
jonasschnelli: wumpus: File &quot;rpc-tests.py&quot;, line 283 print(&#x27;.&#x27;, end=&#x27;&#x27;, flush=True) SyntaxError: invalid syntax
<br>
</div>

<div class='talk op-msg' data-timestamp='1487275740' id='529074'>
<a class='timestamp' href='#529074'><time timestamp='2017-02-16T20:09:00Z'>20:09</time></a>
&lt;<span class='nick nick-8'> Victorsueca</span>&gt;
uhmm shit hit the fan?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487275740' id='529075'>
<a class='timestamp' href='#529075'><time timestamp='2017-02-16T20:09:00Z'>20:09</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
sipa: in any case, we also shouldn&#x27;t go over the top with this, trying to emulate something in c++ that it is not :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1487275740' id='529076'>
<a class='timestamp' href='#529076'><time timestamp='2017-02-16T20:09:00Z'>20:09</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Victorsueca: python3?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487275740' id='529077'>
<a class='timestamp' href='#529077'><time timestamp='2017-02-16T20:09:00Z'>20:09</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
gmaxwell: No doubt. I&#x27;m all for type safety. Compilers are our friends :-) 
<br>
</div>

<div class='talk op-msg' data-timestamp='1487275740' id='529078'>
<a class='timestamp' href='#529078'><time timestamp='2017-02-16T20:09:00Z'>20:09</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
(requires p3)
<br>
</div>

<div class='talk op-msg' data-timestamp='1487275740' id='529079'>
<a class='timestamp' href='#529079'><time timestamp='2017-02-16T20:09:00Z'>20:09</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
Victorsueca: looks like you&#x27;re trying to run with python2
<br>
</div>

<div class='talk op-msg' data-timestamp='1487275740' id='529080'>
<a class='timestamp' href='#529080'><time timestamp='2017-02-16T20:09:00Z'>20:09</time></a>
&lt;<span class='nick nick-8'> Victorsueca</span>&gt;
ahh forgot python stands for 2 and py stands for 3-2 hub
<br>
</div>

<div class='talk op-msg' data-timestamp='1487275800' id='529081'>
<a class='timestamp' href='#529081'><time timestamp='2017-02-16T20:10:00Z'>20:10</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
Victorsueca: no, the first line of the file states the interpreter to use, but i guess that only works in unix-like systems
<br>
</div>

<div class='talk op-msg' data-timestamp='1487275800' id='529082'>
<a class='timestamp' href='#529082'><time timestamp='2017-02-16T20:10:00Z'>20:10</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
you should run all the bitcoin core scripts with python 3
<br>
</div>

<div class='talk op-msg' data-timestamp='1487275800' id='529083'>
<a class='timestamp' href='#529083'><time timestamp='2017-02-16T20:10:00Z'>20:10</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
gmaxwell: ack on adding the rpc tests on make check
<br>
</div>

<div class='talk op-msg' data-timestamp='1487275860' id='529084'>
<a class='timestamp' href='#529084'><time timestamp='2017-02-16T20:11:00Z'>20:11</time></a>
&lt;<span class='nick nick-8'> Victorsueca</span>&gt;
here on windows if I run py it auto-detects whether 2 or 3 should be used
<br>
</div>

<div class='talk op-msg' data-timestamp='1487275860' id='529085'>
<a class='timestamp' href='#529085'><time timestamp='2017-02-16T20:11:00Z'>20:11</time></a>
&lt;<span class='nick nick-8'> Victorsueca</span>&gt;
it&#x27;s just i&#x27;m used to write python
<br>
</div>

<div class='talk op-msg' data-timestamp='1487275860' id='529086'>
<a class='timestamp' href='#529086'><time timestamp='2017-02-16T20:11:00Z'>20:11</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
wumpus: MISRA C (standard for safety critical C code targeting embedded systems) requires that no generic types be used, and certantly no sizeless generic types.  And that is in C where you still get the implicit conversion and can&#x27;t really avoid it, but the standard argues that static analysis tools can still catch your errors so long as you&#x27;ve exposed the type information.  Libsecp256k1 is pre
<br>
</div>

<div class='talk op-msg' data-timestamp='1487275860' id='529087'>
<a class='timestamp' href='#529087'><time timestamp='2017-02-16T20:11:00Z'>20:11</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
tty close to this now.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487275920' id='529088'>
<a class='timestamp' href='#529088'><time timestamp='2017-02-16T20:12:00Z'>20:12</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
well if the first line contains python3 it should be run with python 3, lacking that there is no general way to detect whether code is python2 or python3. But believe me, the bitcoin core python scripts need to be run with python 3.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487275980' id='529089'>
<a class='timestamp' href='#529089'><time timestamp='2017-02-16T20:13:00Z'>20:13</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
gmaxwell: the most significant non-MISRA thing about secp256k1 is probably that it allocates a context on the heap?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487276100' id='529090'>
<a class='timestamp' href='#529090'><time timestamp='2017-02-16T20:15:00Z'>20:15</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jnewbery opened pull request #9780: Suppress noisy output from qa tests in Travis (master...travislogging) <a href="https://github.com/bitcoin/bitcoin/pull/9780" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9780</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1487276160' id='529091'>
<a class='timestamp' href='#529091'><time timestamp='2017-02-16T20:16:00Z'>20:16</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
wumpus: Well MISRA doesn&#x27;t actually forbid anything but requires that for every violation you write an exception document. So the context is one where the exception document is very easy to right: this allocation is pure initilization, not runtime.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487276220' id='529092'>
<a class='timestamp' href='#529092'><time timestamp='2017-02-16T20:17:00Z'>20:17</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
What I&#x27;ve found harder to deal with is that it requires no function have multiple returns. As there are some cases where we do where fixing it feels like it would objectively worsen the code. But their argument is also pretty compelling
<br>
</div>

<div class='talk op-msg' data-timestamp='1487276280' id='529093'>
<a class='timestamp' href='#529093'><time timestamp='2017-02-16T20:18:00Z'>20:18</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes, there&#x27;s something to be said for that, especially with regard to cleanup and such
<br>
</div>

<div class='talk op-msg' data-timestamp='1487276280' id='529094'>
<a class='timestamp' href='#529094'><time timestamp='2017-02-16T20:18:00Z'>20:18</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
It would also be very easy for us to make it possible to make libsecp256k1 mallocless with ifdefs, it&#x27;s specifically structured to enable that.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487276280' id='529095'>
<a class='timestamp' href='#529095'><time timestamp='2017-02-16T20:18:00Z'>20:18</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
though in some cases it can lead to terribly verbose code when combined with error handling
<br>
</div>

<div class='talk op-msg' data-timestamp='1487276340' id='529096'>
<a class='timestamp' href='#529096'><time timestamp='2017-02-16T20:19:00Z'>20:19</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
e.g. either deeply nested if() or some status flag that is checked every other statement
<br>
</div>

<div class='talk op-msg' data-timestamp='1487276340' id='529097'>
<a class='timestamp' href='#529097'><time timestamp='2017-02-16T20:19:00Z'>20:19</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
wumpus: but those easily fixed with a goto ;)
<br>
</div>

<div class='talk op-msg' data-timestamp='1487276340' id='529098'>
<a class='timestamp' href='#529098'><time timestamp='2017-02-16T20:19:00Z'>20:19</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(My goal though not a priority is to make libsecp256k1 MISRA conformant eventually)
<br>
</div>

<div class='talk op-msg' data-timestamp='1487276340' id='529099'>
<a class='timestamp' href='#529099'><time timestamp='2017-02-16T20:19:00Z'>20:19</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
cfields: forbidden by MISRA C. (though like anything else you can make exceptions)
<br>
</div>

<div class='talk op-msg' data-timestamp='1487276340' id='529100'>
<a class='timestamp' href='#529100'><time timestamp='2017-02-16T20:19:00Z'>20:19</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
jonasschnelli: regarding your rename, if rpc-tests/ and pull-tester/ in qa (as I think sipa suggests ), it may make sense to take the opportunity to rename qa as well
<br>
</div>

<div class='talk op-msg' data-timestamp='1487276340' id='529101'>
<a class='timestamp' href='#529101'><time timestamp='2017-02-16T20:19:00Z'>20:19</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
cfields: hah! I didn&#x27;t expect those to be allowed if multiple returns are not
<br>
</div>

<div class='talk op-msg' data-timestamp='1487276400' id='529102'>
<a class='timestamp' href='#529102'><time timestamp='2017-02-16T20:20:00Z'>20:20</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
gmaxwell: was just joking about trading one thing for another
<br>
</div>

<div class='talk op-msg' data-timestamp='1487276400' id='529103'>
<a class='timestamp' href='#529103'><time timestamp='2017-02-16T20:20:00Z'>20:20</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Gotos that go backwards also forbidden by an extra rule, so at least error handling doesn&#x27;t hit those.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487276400' id='529104'>
<a class='timestamp' href='#529104'><time timestamp='2017-02-16T20:20:00Z'>20:20</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
cfields: I always tend to use goto&#x27;s in C code for cleanups, kernel style
<br>
</div>

<div class='talk op-msg' data-timestamp='1487276460' id='529105'>
<a class='timestamp' href='#529105'><time timestamp='2017-02-16T20:21:00Z'>20:21</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
cfields: well I wasn&#x27;t goto is actually an excellent way to handle error handling in C in some cases. It&#x27;s very similar to multiple returns in its downsides, and yet few people care about peppering functions with 15 returns.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487276460' id='529106'>
<a class='timestamp' href='#529106'><time timestamp='2017-02-16T20:21:00Z'>20:21</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
wumpus: yes, they seem pretty necessary after using raii for long enough
<br>
</div>

<div class='talk op-msg' data-timestamp='1487276520' id='529107'>
<a class='timestamp' href='#529107'><time timestamp='2017-02-16T20:22:00Z'>20:22</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
The MISRA document is a really good read FWIW. It&#x27;s pretty thoughtful in its recommendations.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487276520' id='529108'>
<a class='timestamp' href='#529108'><time timestamp='2017-02-16T20:22:00Z'>20:22</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
though not so applicable to C++. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1487276520' id='529109'>
<a class='timestamp' href='#529109'><time timestamp='2017-02-16T20:22:00Z'>20:22</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
gmaxwell: sure, agreed. I just used it as an example because it&#x27;s often multiple-returns and gotos blindly spouted as &quot;thou-shalt-not&quot;s in c-code
<br>
</div>

<div class='talk op-msg' data-timestamp='1487276640' id='529110'>
<a class='timestamp' href='#529110'><time timestamp='2017-02-16T20:24:00Z'>20:24</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I can&#x27;t come up with a good reason to use backwards gotos though
<br>
</div>

<div class='talk op-msg' data-timestamp='1487276640' id='529111'>
<a class='timestamp' href='#529111'><time timestamp='2017-02-16T20:24:00Z'>20:24</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
gmaxwell: well, no-multiple-returns carries some weight in c++ too as they inhibit rvo. Which can be very useful for structures that you assume move freely/cheaply
<br>
</div>

<div class='talk op-msg' data-timestamp='1487276700' id='529112'>
<a class='timestamp' href='#529112'><time timestamp='2017-02-16T20:25:00Z'>20:25</time></a>
&lt;<span class='nick nick-8'> Victorsueca</span>&gt;
ok... now this is a mess.... I use WSL to cross-compile windows binaries, now all the tests have UNIX-like paths and can&#x27;t run them on windows
<br>
</div>

<div class='talk op-msg' data-timestamp='1487276820' id='529113'>
<a class='timestamp' href='#529113'><time timestamp='2017-02-16T20:27:00Z'>20:27</time></a>
&lt;<span class='nick nick-16'> isle2983</span>&gt;
gmaxwell: do you try any clang/LLVM plugins for checking MISRA? I am just wondering if it is worthwhile exploring
<br>
</div>

<div class='talk op-msg' data-timestamp='1487276820' id='529114'>
<a class='timestamp' href='#529114'><time timestamp='2017-02-16T20:27:00Z'>20:27</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
gcc computed goto is even more evil: arrays of labels, though it&#x27;s used in e.g. the python bytecode dispatch loop for the last bits of speed optimization
<br>
</div>

<div class='talk op-msg' data-timestamp='1487276820' id='529115'>
<a class='timestamp' href='#529115'><time timestamp='2017-02-16T20:27:00Z'>20:27</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
isle2983: not clang/llvm ones, but I&#x27;ve used other static analysis tools that can check it, in particular pc-lint... They&#x27;re of some value. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1487276880' id='529116'>
<a class='timestamp' href='#529116'><time timestamp='2017-02-16T20:28:00Z'>20:28</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
Victorsueca: strange - python code doesn&#x27;t get compiled as such, it must be one of the generated py files that has a path in it. You could try explicitly setting the environment variable BITCOIND to the path of bitcoind, that will override the built-in guess
<br>
</div>

<div class='talk op-msg' data-timestamp='1487276940' id='529117'>
<a class='timestamp' href='#529117'><time timestamp='2017-02-16T20:29:00Z'>20:29</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
wumpus: some kinds of valid but complex flow control is just not expressable in C without a loss of efficiency.  So you could imagine some kind of hyper optimized inner loop that uses backwards goto.  I don&#x27;t recall any case where I&#x27;ve been forced into that, though I have run into cases where performance required do{}while() and non-trivial code inside for expressions, and forwards goto out of a
<br>
</div>

<div class='talk op-msg' data-timestamp='1487276940' id='529118'>
<a class='timestamp' href='#529118'><time timestamp='2017-02-16T20:29:00Z'>20:29</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
 loop that also had breaks and continues.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487277000' id='529119'>
<a class='timestamp' href='#529119'><time timestamp='2017-02-16T20:30:00Z'>20:30</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
gmaxwell: yes, forwards goto out of a loop makes a lot of sense, if you want to break out of multiple levels
<br>
</div>

<div class='talk op-msg' data-timestamp='1487277000' id='529120'>
<a class='timestamp' href='#529120'><time timestamp='2017-02-16T20:30:00Z'>20:30</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I wish C(++) had named continue/break.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487277060' id='529121'>
<a class='timestamp' href='#529121'><time timestamp='2017-02-16T20:31:00Z'>20:31</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
gmaxwell: and these things matter, I mean if efficiency is not important you wouldn&#x27;t be using c in the first place
<br>
</div>

<div class='talk op-msg' data-timestamp='1487277060' id='529122'>
<a class='timestamp' href='#529122'><time timestamp='2017-02-16T20:31:00Z'>20:31</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(Rust has named breaks)
<br>
</div>

<div class='talk op-msg' data-timestamp='1487277060' id='529123'>
<a class='timestamp' href='#529123'><time timestamp='2017-02-16T20:31:00Z'>20:31</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(also more important because it lacks the other options C has for that)
<br>
</div>

<div class='talk op-msg' data-timestamp='1487277060' id='529124'>
<a class='timestamp' href='#529124'><time timestamp='2017-02-16T20:31:00Z'>20:31</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes I remember quite some languages had them ,though I can&#x27;t think of any right now
<br>
</div>

<div class='talk op-msg' data-timestamp='1487277120' id='529125'>
<a class='timestamp' href='#529125'><time timestamp='2017-02-16T20:32:00Z'>20:32</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
didn&#x27;t know that rust did
<br>
</div>

<div class='talk op-msg' data-timestamp='1487277180' id='529126'>
<a class='timestamp' href='#529126'><time timestamp='2017-02-16T20:33:00Z'>20:33</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
in c++ it&#x27;s more complicated because you can&#x27;t jump over variable initializations
<br>
</div>

<div class='talk op-msg' data-timestamp='1487277240' id='529127'>
<a class='timestamp' href='#529127'><time timestamp='2017-02-16T20:34:00Z'>20:34</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
gmaxwell: i suspect that architects assumed throw/catch would be used for breaking out of multiple loops. But that&#x27;s seen as poisonous to most, i think
<br>
</div>

<div class='talk op-msg' data-timestamp='1487277240' id='529128'>
<a class='timestamp' href='#529128'><time timestamp='2017-02-16T20:34:00Z'>20:34</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
ah, java has them apparently
<br>
</div>

<div class='talk op-msg' data-timestamp='1487277240' id='529129'>
<a class='timestamp' href='#529129'><time timestamp='2017-02-16T20:34:00Z'>20:34</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
cfields: youch. :P
<br>
</div>

<div class='talk op-msg' data-timestamp='1487277240' id='529130'>
<a class='timestamp' href='#529130'><time timestamp='2017-02-16T20:34:00Z'>20:34</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
gmaxwell: my thought exactly :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1487277240' id='529131'>
<a class='timestamp' href='#529131'><time timestamp='2017-02-16T20:34:00Z'>20:34</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
cfields: exceptions as a control flow statement?  speak about shooting a fly with a thermonuclear missile :p
<br>
</div>

<div class='talk op-msg' data-timestamp='1487277300' id='529132'>
<a class='timestamp' href='#529132'><time timestamp='2017-02-16T20:35:00Z'>20:35</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
beyond the other issues with exception, they&#x27;re slow... sooo.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487277300' id='529133'>
<a class='timestamp' href='#529133'><time timestamp='2017-02-16T20:35:00Z'>20:35</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
right, they&#x27;re slow exactly because they don&#x27;t know where they&#x27;re going to be catched, so they&#x27;re a bad fit if you know exactly where you wantcontrol flow to go
<br>
</div>

<div class='talk op-msg' data-timestamp='1487277360' id='529134'>
<a class='timestamp' href='#529134'><time timestamp='2017-02-16T20:36:00Z'>20:36</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
the code for exceptions and stack unrolling is extremely complex, I looked at it some time there&#x27;s even some cute VM involved that interprets DWARF debug info
<br>
</div>

<div class='talk op-msg' data-timestamp='1487277420' id='529135'>
<a class='timestamp' href='#529135'><time timestamp='2017-02-16T20:37:00Z'>20:37</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
wumpus: heh, i once worked on some code that used it to parse some data, construct the right handler, and throw it. Then the catch was an abstract parent, and it would continue on with the newly-constructed handler
<br>
</div>

<div class='talk op-msg' data-timestamp='1487277420' id='529136'>
<a class='timestamp' href='#529136'><time timestamp='2017-02-16T20:37:00Z'>20:37</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
cfields: hahaha
<br>
</div>

<div class='talk op-msg' data-timestamp='1487277420' id='529137'>
<a class='timestamp' href='#529137'><time timestamp='2017-02-16T20:37:00Z'>20:37</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
it was ugly, but surprisingly effective :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1487277420' id='529138'>
<a class='timestamp' href='#529138'><time timestamp='2017-02-16T20:37:00Z'>20:37</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
cfields: anti-reverse-engineering?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487277480' id='529139'>
<a class='timestamp' href='#529139'><time timestamp='2017-02-16T20:38:00Z'>20:38</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
wumpus: heh, it would seem. no idea what the historical reasoning was
<br>
</div>

<div class='talk op-msg' data-timestamp='1487277480' id='529140'>
<a class='timestamp' href='#529140'><time timestamp='2017-02-16T20:38:00Z'>20:38</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
later you find out the guy that wrote it didn&#x27;t know that function pointers or virtual methods were possible. :P
<br>
</div>

<div class='talk op-msg' data-timestamp='1487277540' id='529141'>
<a class='timestamp' href='#529141'><time timestamp='2017-02-16T20:39:00Z'>20:39</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
like anytiing so evil it sounds like a hell to debug
<br>
</div>

<div class='talk op-msg' data-timestamp='1487277540' id='529142'>
<a class='timestamp' href='#529142'><time timestamp='2017-02-16T20:39:00Z'>20:39</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
gmaxwell: entirely possible :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1487277600' id='529143'>
<a class='timestamp' href='#529143'><time timestamp='2017-02-16T20:40:00Z'>20:40</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it reminds me of that saying that you should always expect that the person maintaining the code after you is a crazy axe murderer that knows where you live, this certainly classifies as inhuman cruelty to your successors
<br>
</div>

<div class='talk op-msg' data-timestamp='1487277660' id='529144'>
<a class='timestamp' href='#529144'><time timestamp='2017-02-16T20:41:00Z'>20:41</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
sorry for misisng meeting! I was off by an hour :p 
<br>
</div>

<div class='talk op-msg' data-timestamp='1487277660' id='529145'>
<a class='timestamp' href='#529145'><time timestamp='2017-02-16T20:41:00Z'>20:41</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
I think w.r.t. entropy levels we should keep 3
<br>
</div>

<div class='talk op-msg' data-timestamp='1487277660' id='529146'>
<a class='timestamp' href='#529146'><time timestamp='2017-02-16T20:41:00Z'>20:41</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
Deterministic, non-deterministic, secure
<br>
</div>

<div class='talk op-msg' data-timestamp='1487277660' id='529147'>
<a class='timestamp' href='#529147'><time timestamp='2017-02-16T20:41:00Z'>20:41</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
std::chrono::off_by_one_clock
<br>
</div>

<div class='talk op-msg' data-timestamp='1487277720' id='529148'>
<a class='timestamp' href='#529148'><time timestamp='2017-02-16T20:42:00Z'>20:42</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
deterministic is really useful for writing tests/benchmarks IMO
<br>
</div>

<div class='talk op-msg' data-timestamp='1487277720' id='529149'>
<a class='timestamp' href='#529149'><time timestamp='2017-02-16T20:42:00Z'>20:42</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it&#x27;s only useful for the tests and benchmarks, and could be in test_util.cpp
<br>
</div>

<div class='talk op-msg' data-timestamp='1487277720' id='529150'>
<a class='timestamp' href='#529150'><time timestamp='2017-02-16T20:42:00Z'>20:42</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
That&#x27;s fine to me!
<br>
</div>

<div class='talk op-msg' data-timestamp='1487277720' id='529151'>
<a class='timestamp' href='#529151'><time timestamp='2017-02-16T20:42:00Z'>20:42</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
jeremyrubin: we have siphasher, which we use for deterministic randomness, and i don&#x27;t think it really needs to care about the source of its seed?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487277780' id='529152'>
<a class='timestamp' href='#529152'><time timestamp='2017-02-16T20:43:00Z'>20:43</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
but I agree it&#x27;s useful to have fast deterministic random for some things, I manually rolled a LFSR in one place in the tests to quickly generate deterministic &quot;random&quot; numbers
<br>
</div>

<div class='talk op-msg' data-timestamp='1487277840' id='529153'>
<a class='timestamp' href='#529153'><time timestamp='2017-02-16T20:44:00Z'>20:44</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
cfields: fine too -- just having something convenient to use for this purpose is all I care for!
<br>
</div>

<div class='talk op-msg' data-timestamp='1487277900' id='529154'>
<a class='timestamp' href='#529154'><time timestamp='2017-02-16T20:45:00Z'>20:45</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
The cuckoocache tests test hit rate against deterministic data, so if the entropy changes then it <b>*could*</b> (unlikely) fail.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487277900' id='529155'>
<a class='timestamp' href='#529155'><time timestamp='2017-02-16T20:45:00Z'>20:45</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
but it depends on the variance of the hit rate... so it would be annoying if it fails say 1/100 times due to unlucky entropy
<br>
</div>

<div class='talk op-msg' data-timestamp='1487277960' id='529156'>
<a class='timestamp' href='#529156'><time timestamp='2017-02-16T20:46:00Z'>20:46</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes, that should ideally never happen
<br>
</div>

<div class='talk op-msg' data-timestamp='1487278020' id='529157'>
<a class='timestamp' href='#529157'><time timestamp='2017-02-16T20:47:00Z'>20:47</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
tests that randomly fail are extremely discouraging
<br>
</div>

<div class='talk op-msg' data-timestamp='1487278080' id='529158'>
<a class='timestamp' href='#529158'><time timestamp='2017-02-16T20:48:00Z'>20:48</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
Indeed
<br>
</div>

<div class='talk op-msg' data-timestamp='1487278080' id='529159'>
<a class='timestamp' href='#529159'><time timestamp='2017-02-16T20:48:00Z'>20:48</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
travis-gate was really a sad week for bitcoin ;) 
<br>
</div>

<div class='talk op-msg' data-timestamp='1487278320' id='529160'>
<a class='timestamp' href='#529160'><time timestamp='2017-02-16T20:52:00Z'>20:52</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
heh     
<br>
</div>

<div class='talk op-msg' data-timestamp='1487278740' id='529161'>
<a class='timestamp' href='#529161'><time timestamp='2017-02-16T20:59:00Z'>20:59</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
Speaking of tests -- any chance for putting #9495 (bugfix) and #9497 (tests) in 0.14? The CheckQueue is a pretty big piece of consensus code with almost no test coverage on it... Then again, there&#x27;s no reason these tests can&#x27;t wait for 0.15 either :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1487278740' id='529162'>
<a class='timestamp' href='#529162'><time timestamp='2017-02-16T20:59:00Z'>20:59</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/9495" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/9495</a> | Fix CCheckQueue IsIdle (potential) race condition by JeremyRubin · Pull Request #9495 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1487278740' id='529163'>
<a class='timestamp' href='#529163'><time timestamp='2017-02-16T20:59:00Z'>20:59</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/9497" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/9497</a> | CCheckQueue Unit Tests by JeremyRubin · Pull Request #9497 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1487279700' id='529164'>
<a class='timestamp' href='#529164'><time timestamp='2017-02-16T21:15:00Z'>21:15</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
jonasschnelli: I&#x27;ve got several PRs that are very disruptive to the qa directory: #9577 #9657 #9768 and the completion of #9707 (which I haven&#x27;t yet PR&#x27;ed). Can you hold off your reorganzation of the qa directory until those are merged? Perhaps open an issue now for discussion but hold off on PR&#x27;ing.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487279700' id='529165'>
<a class='timestamp' href='#529165'><time timestamp='2017-02-16T21:15:00Z'>21:15</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/9577" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/9577</a> | Fix docstrings in qa tests by jnewbery · Pull Request #9577 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1487279700' id='529166'>
<a class='timestamp' href='#529166'><time timestamp='2017-02-16T21:15:00Z'>21:15</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/9657" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/9657</a> | Improve rpc-tests.py by jnewbery · Pull Request #9657 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1487279760' id='529167'>
<a class='timestamp' href='#529167'><time timestamp='2017-02-16T21:16:00Z'>21:16</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/9768" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/9768</a> | [qa] [WIP] Add logging to test_framework.py by jnewbery · Pull Request #9768 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1487279760' id='529168'>
<a class='timestamp' href='#529168'><time timestamp='2017-02-16T21:16:00Z'>21:16</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/9707" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/9707</a> | Fix RPC failure testing by jnewbery · Pull Request #9707 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1487280660' id='529169'>
<a class='timestamp' href='#529169'><time timestamp='2017-02-16T21:31:00Z'>21:31</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
jnewbery: git can handle renames fine iirc?
<br>
</div>

<div class='talk op-msg' data-timestamp='1487280720' id='529170'>
<a class='timestamp' href='#529170'><time timestamp='2017-02-16T21:32:00Z'>21:32</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
jeremyrubin: I think you&#x27;re right. If jonas is only going to rename files then there shouldn&#x27;t be any conflicts.
<br>
</div>

<div class='talk op-msg' data-timestamp='1487280780' id='529171'>
<a class='timestamp' href='#529171'><time timestamp='2017-02-16T21:33:00Z'>21:33</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
jonasschnelli: ^^^
<br>
</div>

</div>
</section>

</body>
</html>
