<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2017-02-27
 — 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2017-02-27' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:24 UTC</pre>
<pre><a href="/bitcoin-core-dev/2017-01-27">&lt;</a><span class='header'>  February 2017   </span><a href="/bitcoin-core-dev/2017-03-27">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;          <a class="" href="/bitcoin-core-dev/2017-02-01">1</a>  <a class="" href="/bitcoin-core-dev/2017-02-02">2</a>  <a class="" href="/bitcoin-core-dev/2017-02-03">3</a>  <a class="" href="/bitcoin-core-dev/2017-02-04">4</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2017-02-05">5</a>  <a class="" href="/bitcoin-core-dev/2017-02-06">6</a>  <a class="" href="/bitcoin-core-dev/2017-02-07">7</a>  <a class="" href="/bitcoin-core-dev/2017-02-08">8</a>  <a class="" href="/bitcoin-core-dev/2017-02-09">9</a> <a class="" href="/bitcoin-core-dev/2017-02-10">10</a> <a class="" href="/bitcoin-core-dev/2017-02-11">11</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2017-02-12">12</a> <a class="" href="/bitcoin-core-dev/2017-02-13">13</a> <a class="" href="/bitcoin-core-dev/2017-02-14">14</a> <a class="" href="/bitcoin-core-dev/2017-02-15">15</a> <a class="" href="/bitcoin-core-dev/2017-02-16">16</a> <a class="" href="/bitcoin-core-dev/2017-02-17">17</a> <a class="" href="/bitcoin-core-dev/2017-02-18">18</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2017-02-19">19</a> <a class="" href="/bitcoin-core-dev/2017-02-20">20</a> <a class="" href="/bitcoin-core-dev/2017-02-21">21</a> <a class="" href="/bitcoin-core-dev/2017-02-22">22</a> <a class="" href="/bitcoin-core-dev/2017-02-23">23</a> <a class="" href="/bitcoin-core-dev/2017-02-24">24</a> <a class="" href="/bitcoin-core-dev/2017-02-25">25</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2017-02-26">26</a> <a class="current" href="/bitcoin-core-dev/2017-02-27">27</a> <a class="" href="/bitcoin-core-dev/2017-02-28">28</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1488154620' id='532019'>
<a class='timestamp' href='#532019'><time timestamp='2017-02-27T00:17:00Z'>00:17</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] sipa opened pull request #9868: Abstract out the command line options for block assembly (master...assembleroptions) <a href="https://github.com/bitcoin/bitcoin/pull/9868" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9868</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1488155100' id='532020'>
<a class='timestamp' href='#532020'><time timestamp='2017-02-27T00:25:00Z'>00:25</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] RHavar opened pull request #9869: Move comment to right spot (master...comment) <a href="https://github.com/bitcoin/bitcoin/pull/9869" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9869</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1488156480' id='532021'>
<a class='timestamp' href='#532021'><time timestamp='2017-02-27T00:48:00Z'>00:48</time></a>
&lt;<span class='nick nick-10'> rgrant</span>&gt;
if a guard node can protect old mining infrastructure, then nothing that old mining software normally produces makes its blocks invalid.  but since segwit scripts are spendable by anyone according to the old rules, some non-segwit blocks must be reliably orphaned, should an attacker get hold of segwit &quot;anyonecanspend&quot; transactions and mine them to different outputs (again, under the old rules).  w
<br>
</div>

<div class='talk op-msg' data-timestamp='1488156480' id='532022'>
<a class='timestamp' href='#532022'><time timestamp='2017-02-27T00:48:00Z'>00:48</time></a>
&lt;<span class='nick nick-10'> rgrant</span>&gt;
here in the code is this tension resolved?  
<br>
</div>

<div class='talk op-msg' data-timestamp='1488156960' id='532023'>
<a class='timestamp' href='#532023'><time timestamp='2017-02-27T00:56:00Z'>00:56</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
rgrant: segwit transactions are non-standard to old nodes
<br>
</div>

<div class='talk op-msg' data-timestamp='1488157020' id='532024'>
<a class='timestamp' href='#532024'><time timestamp='2017-02-27T00:57:00Z'>00:57</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
so unless the old miners intentionally bypass those checks, they&#x27;ll never produce segwit-invalid blocks (but they might build on top of a segwit-invalid block that someone else produced)
<br>
</div>

<div class='talk op-msg' data-timestamp='1488157080' id='532025'>
<a class='timestamp' href='#532025'><time timestamp='2017-02-27T00:58:00Z'>00:58</time></a>
&lt;<span class='nick nick-10'> rgrant</span>&gt;
yes, this describes an attack.  but what makes the attack block invalid?  
<br>
</div>

<div class='talk op-msg' data-timestamp='1488157080' id='532026'>
<a class='timestamp' href='#532026'><time timestamp='2017-02-27T00:58:00Z'>00:58</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
to whom?
<br>
</div>

<div class='talk op-msg' data-timestamp='1488157140' id='532027'>
<a class='timestamp' href='#532027'><time timestamp='2017-02-27T00:59:00Z'>00:59</time></a>
&lt;<span class='nick nick-10'> rgrant</span>&gt;
to segwit-enabled nodes and miners
<br>
</div>

<div class='talk op-msg' data-timestamp='1488157140' id='532028'>
<a class='timestamp' href='#532028'><time timestamp='2017-02-27T00:59:00Z'>00:59</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
the segwit consensus rules?
<br>
</div>

<div class='talk op-msg' data-timestamp='1488157200' id='532029'>
<a class='timestamp' href='#532029'><time timestamp='2017-02-27T01:00:00Z'>01:00</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
in script/interpreter.h there is a flag SCRIPT_VERIFY_WITNESS
<br>
</div>

<div class='talk op-msg' data-timestamp='1488157200' id='532030'>
<a class='timestamp' href='#532030'><time timestamp='2017-02-27T01:00:00Z'>01:00</time></a>
&lt;<span class='nick nick-5'> * rgrant</span>&gt;
follows along
<br>
</div>

<div class='talk op-msg' data-timestamp='1488157200' id='532031'>
<a class='timestamp' href='#532031'><time timestamp='2017-02-27T01:00:00Z'>01:00</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
the block validation code passes this flag to the script execution code when it&#x27;s invoked for a block that has BIP9 activation
<br>
</div>

<div class='talk op-msg' data-timestamp='1488157260' id='532032'>
<a class='timestamp' href='#532032'><time timestamp='2017-02-27T01:01:00Z'>01:01</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and there is conditional code that executes after the normal script execution in that case, which may fail the execution even though the normal execution succeeded
<br>
</div>

<div class='talk op-msg' data-timestamp='1488157260' id='532033'>
<a class='timestamp' href='#532033'><time timestamp='2017-02-27T01:01:00Z'>01:01</time></a>
&lt;<span class='nick nick-10'> rgrant</span>&gt;
but the attacker doesn&#x27;t set bip9 (though bip9 has activated)
<br>
</div>

<div class='talk op-msg' data-timestamp='1488157320' id='532034'>
<a class='timestamp' href='#532034'><time timestamp='2017-02-27T01:02:00Z'>01:02</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yes     
<br>
</div>

<div class='talk op-msg' data-timestamp='1488157320' id='532035'>
<a class='timestamp' href='#532035'><time timestamp='2017-02-27T01:02:00Z'>01:02</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that doesn&#x27;t matter
<br>
</div>

<div class='talk op-msg' data-timestamp='1488157320' id='532036'>
<a class='timestamp' href='#532036'><time timestamp='2017-02-27T01:02:00Z'>01:02</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
bip9 activation isn&#x27;t dependent on the signalling of the block itself
<br>
</div>

<div class='talk op-msg' data-timestamp='1488157320' id='532037'>
<a class='timestamp' href='#532037'><time timestamp='2017-02-27T01:02:00Z'>01:02</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
only on the signalling in the chain&#x27;s history
<br>
</div>

<div class='talk op-msg' data-timestamp='1488157620' id='532038'>
<a class='timestamp' href='#532038'><time timestamp='2017-02-27T01:07:00Z'>01:07</time></a>
&lt;<span class='nick nick-10'> rgrant</span>&gt;
right.  so segwit has activated, and attacker mines this bad block that rewrites a segwit transaction that otherwise hasn&#x27;t made it into a block yet.  and i&#x27;m here in interpreter.cpp VerifyScript, where in my case i believe emptyWitness will be used.
<br>
</div>

<div class='talk op-msg' data-timestamp='1488157680' id='532039'>
<a class='timestamp' href='#532039'><time timestamp='2017-02-27T01:08:00Z'>01:08</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
what do you mean by rewrites?
<br>
</div>

<div class='talk op-msg' data-timestamp='1488157740' id='532040'>
<a class='timestamp' href='#532040'><time timestamp='2017-02-27T01:09:00Z'>01:09</time></a>
&lt;<span class='nick nick-10'> rgrant</span>&gt;
well, attacker wants to use the &quot;anyonecanspend&quot; interpretation of the segwit tx, under the old rules.
<br>
</div>

<div class='talk op-msg' data-timestamp='1488157740' id='532041'>
<a class='timestamp' href='#532041'><time timestamp='2017-02-27T01:09:00Z'>01:09</time></a>
&lt;<span class='nick nick-10'> rgrant</span>&gt;
so they just thorw away the witness
<br>
</div>

<div class='talk op-msg' data-timestamp='1488157860' id='532042'>
<a class='timestamp' href='#532042'><time timestamp='2017-02-27T01:11:00Z'>01:11</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ah     
<br>
</div>

<div class='talk op-msg' data-timestamp='1488157920' id='532043'>
<a class='timestamp' href='#532043'><time timestamp='2017-02-27T01:12:00Z'>01:12</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
under segwit rules, a segwit output can only be spent by an input that has a witness
<br>
</div>

<div class='talk op-msg' data-timestamp='1488157920' id='532044'>
<a class='timestamp' href='#532044'><time timestamp='2017-02-27T01:12:00Z'>01:12</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
the attacker can&#x27;t control whether the witness flag is set in other nodes
<br>
</div>

<div class='talk op-msg' data-timestamp='1488157980' id='532045'>
<a class='timestamp' href='#532045'><time timestamp='2017-02-27T01:13:00Z'>01:13</time></a>
&lt;<span class='nick nick-10'> rgrant</span>&gt;
is that over in CheckInputs?
<br>
</div>

<div class='talk op-msg' data-timestamp='1488157980' id='532046'>
<a class='timestamp' href='#532046'><time timestamp='2017-02-27T01:13:00Z'>01:13</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
no, in the script code
<br>
</div>

<div class='talk op-msg' data-timestamp='1488157980' id='532047'>
<a class='timestamp' href='#532047'><time timestamp='2017-02-27T01:13:00Z'>01:13</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
in the case an attacker removes the witness from the spending input, you&#x27;ll still call validation with the witness flag set
<br>
</div>

<div class='talk op-msg' data-timestamp='1488158040' id='532048'>
<a class='timestamp' href='#532048'><time timestamp='2017-02-27T01:14:00Z'>01:14</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and the script execution will fail if it&#x27;s a witness output that is being spent withoit having a witness
<br>
</div>

<div class='talk op-msg' data-timestamp='1488158040' id='532049'>
<a class='timestamp' href='#532049'><time timestamp='2017-02-27T01:14:00Z'>01:14</time></a>
&lt;<span class='nick nick-10'> rgrant</span>&gt;
okay, i get the mechanism.  now i&#x27;m still trying to hunt down the code.
<br>
</div>

<div class='talk op-msg' data-timestamp='1488158100' id='532050'>
<a class='timestamp' href='#532050'><time timestamp='2017-02-27T01:15:00Z'>01:15</time></a>
&lt;<span class='nick nick-10'> rgrant</span>&gt;
(also, does this make segwit outputs viral?)
<br>
</div>

<div class='talk op-msg' data-timestamp='1488158160' id='532051'>
<a class='timestamp' href='#532051'><time timestamp='2017-02-27T01:16:00Z'>01:16</time></a>
&lt;<span class='nick nick-10'> rgrant</span>&gt;
wait, the input block needs to have a witness, or the input script?
<br>
</div>

<div class='talk op-msg' data-timestamp='1488158220' id='532052'>
<a class='timestamp' href='#532052'><time timestamp='2017-02-27T01:17:00Z'>01:17</time></a>
&lt;<span class='nick nick-5'> * rgrant</span>&gt;
is confused.  
<br>
</div>

<div class='talk op-msg' data-timestamp='1488158460' id='532053'>
<a class='timestamp' href='#532053'><time timestamp='2017-02-27T01:21:00Z'>01:21</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
the txin spending a witness output has to have a txinwitness
<br>
</div>

<div class='talk op-msg' data-timestamp='1488158520' id='532054'>
<a class='timestamp' href='#532054'><time timestamp='2017-02-27T01:22:00Z'>01:22</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
which implies that the block that that txin is in must be a witness block
<br>
</div>

<div class='talk op-msg' data-timestamp='1488158580' id='532055'>
<a class='timestamp' href='#532055'><time timestamp='2017-02-27T01:23:00Z'>01:23</time></a>
&lt;<span class='nick nick-10'> rgrant</span>&gt;
thanks.  and it can be spent to any address.  it&#x27;s not viral.
<br>
</div>

<div class='talk op-msg' data-timestamp='1488158580' id='532056'>
<a class='timestamp' href='#532056'><time timestamp='2017-02-27T01:23:00Z'>01:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
right, the outputs don&#x27;t care
<br>
</div>

<div class='talk op-msg' data-timestamp='1488159060' id='532057'>
<a class='timestamp' href='#532057'><time timestamp='2017-02-27T01:31:00Z'>01:31</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] sipa opened pull request #9871: [RFC] Add a tree sha512 hash to merge commits (master...merge_sha512) <a href="https://github.com/bitcoin/bitcoin/pull/9871" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9871</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1488167040' id='532058'>
<a class='timestamp' href='#532058'><time timestamp='2017-02-27T03:44:00Z'>03:44</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] kallewoof opened pull request #9872: [qa] Multi-chain support in test framework (master...qa-multi-chain-support) <a href="https://github.com/bitcoin/bitcoin/pull/9872" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9872</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1488167100' id='532059'>
<a class='timestamp' href='#532059'><time timestamp='2017-02-27T03:45:00Z'>03:45</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
luke-jr: are you going to rebase the remaining multiwallet support now that 0.15 has started?
<br>
</div>

<div class='talk op-msg' data-timestamp='1488167100' id='532060'>
<a class='timestamp' href='#532060'><time timestamp='2017-02-27T03:45:00Z'>03:45</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
gmaxwell: again? I just did yesterday O.o
<br>
</div>

<div class='talk op-msg' data-timestamp='1488167160' id='532061'>
<a class='timestamp' href='#532061'><time timestamp='2017-02-27T03:46:00Z'>03:46</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
oh sorry!
<br>
</div>

<div class='talk op-msg' data-timestamp='1488167160' id='532062'>
<a class='timestamp' href='#532062'><time timestamp='2017-02-27T03:46:00Z'>03:46</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
hmm, I wonder why Travis is whining
<br>
</div>

<div class='talk op-msg' data-timestamp='1488167280' id='532063'>
<a class='timestamp' href='#532063'><time timestamp='2017-02-27T03:48:00Z'>03:48</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
s/are you going to rebase/are you going to fix the travis errors/  :P
<br>
</div>

<div class='talk op-msg' data-timestamp='1488167340' id='532064'>
<a class='timestamp' href='#532064'><time timestamp='2017-02-27T03:49:00Z'>03:49</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
yes ;)
<br>
</div>

<div class='talk op-msg' data-timestamp='1488167400' id='532065'>
<a class='timestamp' href='#532065'><time timestamp='2017-02-27T03:50:00Z'>03:50</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
assuming it&#x27;s not yet another false positive anyway
<br>
</div>

<div class='talk op-msg' data-timestamp='1488173160' id='532066'>
<a class='timestamp' href='#532066'><time timestamp='2017-02-27T05:26:00Z'>05:26</time></a>
&lt;<span class='nick nick-3'> dcousens</span>&gt;
petertodd: lol,  I guess I&#x27;ll sit this one out then :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1488173220' id='532067'>
<a class='timestamp' href='#532067'><time timestamp='2017-02-27T05:27:00Z'>05:27</time></a>
&lt;<span class='nick nick-3'> dcousens</span>&gt;
Did seem difficult to find documentation/material on what you two are referring too though
<br>
</div>

<div class='talk op-msg' data-timestamp='1488173520' id='532068'>
<a class='timestamp' href='#532068'><time timestamp='2017-02-27T05:32:00Z'>05:32</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
likewise
<br>
</div>

<div class='talk op-msg' data-timestamp='1488173520' id='532069'>
<a class='timestamp' href='#532069'><time timestamp='2017-02-27T05:32:00Z'>05:32</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i was confused by the same SE answer :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1488173580' id='532070'>
<a class='timestamp' href='#532070'><time timestamp='2017-02-27T05:33:00Z'>05:33</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
dcousens: sipa: solution - dig through git&#x27;s source code: <a href="https://github.com/git/git/blob/master/gpg-interface.c#L153" class="link" target="_blank">https://github.com/git/git/blob/master/gpg-interface.c#L153</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1488173640' id='532071'>
<a class='timestamp' href='#532071'><time timestamp='2017-02-27T05:34:00Z'>05:34</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
cool
<br>
</div>

<div class='talk op-msg' data-timestamp='1488173640' id='532072'>
<a class='timestamp' href='#532072'><time timestamp='2017-02-27T05:34:00Z'>05:34</time></a>
&lt;<span class='nick nick-3'> dcousens</span>&gt;
cheers achow101 
<br>
</div>

<div class='talk op-msg' data-timestamp='1488174360' id='532073'>
<a class='timestamp' href='#532073'><time timestamp='2017-02-27T05:46:00Z'>05:46</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
achow101: it&#x27;s not perfect w.r.t. the commit, only for the tree
<br>
</div>

<div class='talk op-msg' data-timestamp='1488174360' id='532074'>
<a class='timestamp' href='#532074'><time timestamp='2017-02-27T05:46:00Z'>05:46</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
so an attack on the commit&#x27;s claimed history would still apply
<br>
</div>

<div class='talk op-msg' data-timestamp='1488174480' id='532075'>
<a class='timestamp' href='#532075'><time timestamp='2017-02-27T05:48:00Z'>05:48</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
sipa: you mean like if someone faked a commit history with a colliding parent commit hash?
<br>
</div>

<div class='talk op-msg' data-timestamp='1488174540' id='532076'>
<a class='timestamp' href='#532076'><time timestamp='2017-02-27T05:49:00Z'>05:49</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yes, and the same resulting tree
<br>
</div>

<div class='talk op-msg' data-timestamp='1488174600' id='532077'>
<a class='timestamp' href='#532077'><time timestamp='2017-02-27T05:50:00Z'>05:50</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
which is certainly much less worrying
<br>
</div>

<div class='talk op-msg' data-timestamp='1488174600' id='532078'>
<a class='timestamp' href='#532078'><time timestamp='2017-02-27T05:50:00Z'>05:50</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
ok. but isn&#x27;t the point to make sure the tree is the right tree and not some colliding tree?
<br>
</div>

<div class='talk op-msg' data-timestamp='1488174660' id='532079'>
<a class='timestamp' href='#532079'><time timestamp='2017-02-27T05:51:00Z'>05:51</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
well a commit object in git is both a resulting tree and a history for it
<br>
</div>

<div class='talk op-msg' data-timestamp='1488174660' id='532080'>
<a class='timestamp' href='#532080'><time timestamp='2017-02-27T05:51:00Z'>05:51</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
with this method we&#x27;re only avoiding SHA1 for the tree
<br>
</div>

<div class='talk op-msg' data-timestamp='1488174720' id='532081'>
<a class='timestamp' href='#532081'><time timestamp='2017-02-27T05:52:00Z'>05:52</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
right.
<br>
</div>

<div class='talk op-msg' data-timestamp='1488174960' id='532082'>
<a class='timestamp' href='#532082'><time timestamp='2017-02-27T05:56:00Z'>05:56</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
another thought: the client version contains part of the commit hash (at least for master). should that be changed to be the sha256 hash instead?
<br>
</div>

<div class='talk op-msg' data-timestamp='1488175020' id='532083'>
<a class='timestamp' href='#532083'><time timestamp='2017-02-27T05:57:00Z'>05:57</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
interesting idea
<br>
</div>

<div class='talk op-msg' data-timestamp='1488175080' id='532084'>
<a class='timestamp' href='#532084'><time timestamp='2017-02-27T05:58:00Z'>05:58</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
actually that only happens on builds of master, not any of the releases, so not particularly important
<br>
</div>

<div class='talk op-msg' data-timestamp='1488176220' id='532085'>
<a class='timestamp' href='#532085'><time timestamp='2017-02-27T06:17:00Z'>06:17</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it&#x27;s part of the commit id - which is there to be able to look up the right revision for troubleshooting. It&#x27;s not there for security. Please don&#x27;t replace it with anything else.
<br>
</div>

<div class='talk op-msg' data-timestamp='1488176340' id='532086'>
<a class='timestamp' href='#532086'><time timestamp='2017-02-27T06:19:00Z'>06:19</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
wumpus: ok
<br>
</div>

<div class='talk op-msg' data-timestamp='1488178500' id='532087'>
<a class='timestamp' href='#532087'><time timestamp='2017-02-27T06:55:00Z'>06:55</time></a>
&lt;<span class='nick nick-3'> dcousens</span>&gt;
wumpus: true, nevermind
<br>
</div>

<div class='talk op-msg' data-timestamp='1488178740' id='532088'>
<a class='timestamp' href='#532088'><time timestamp='2017-02-27T06:59:00Z'>06:59</time></a>
&lt;<span class='nick nick-3'> dcousens</span>&gt;
wumpus: my point for the for loop counter was more as a standard, use of `size_t` is the recommended type for when dealing with indexes... while I totally agree this is suitable as `unsigned int`, it was more of a standard
<br>
</div>

<div class='talk op-msg' data-timestamp='1488178740' id='532089'>
<a class='timestamp' href='#532089'><time timestamp='2017-02-27T06:59:00Z'>06:59</time></a>
&lt;<span class='nick nick-3'> dcousens</span>&gt;
(e.g <a href="https://stackoverflow.com/questions/1951519/when-should-i-use-stdsize-t)" class="link" target="_blank">https://stackoverflow.com/questions/1951519/when-should-i-use-stdsize-t)</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1488178860' id='532090'>
<a class='timestamp' href='#532090'><time timestamp='2017-02-27T07:01:00Z'>07:01</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it just doesn&#x27;t matter here
<br>
</div>

<div class='talk op-msg' data-timestamp='1488178920' id='532091'>
<a class='timestamp' href='#532091'><time timestamp='2017-02-27T07:02:00Z'>07:02</time></a>
&lt;<span class='nick nick-3'> dcousens</span>&gt;
wumpus: *shrug*, I know, just new code, might as well avoid issues if somehow this gets pulled out later to some generic function blah blah
<br>
</div>

<div class='talk op-msg' data-timestamp='1488178980' id='532092'>
<a class='timestamp' href='#532092'><time timestamp='2017-02-27T07:03:00Z'>07:03</time></a>
&lt;<span class='nick nick-3'> dcousens</span>&gt;
not worth discussing any further :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1488178980' id='532093'>
<a class='timestamp' href='#532093'><time timestamp='2017-02-27T07:03:00Z'>07:03</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
this was meant as a quick fix to get an compileissue out of the way
<br>
</div>

<div class='talk op-msg' data-timestamp='1488178980' id='532094'>
<a class='timestamp' href='#532094'><time timestamp='2017-02-27T07:03:00Z'>07:03</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
indeed, no need to drag it out
<br>
</div>

<div class='talk op-msg' data-timestamp='1488179280' id='532095'>
<a class='timestamp' href='#532095'><time timestamp='2017-02-27T07:08:00Z'>07:08</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
whoa, did I still manage to make it fail travis?
<br>
</div>

<div class='talk op-msg' data-timestamp='1488179340' id='532096'>
<a class='timestamp' href='#532096'><time timestamp='2017-02-27T07:09:00Z'>07:09</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
oh the &quot;recursive_mutex.hpp:113: void boost::recursive_mutex::lock(): Assertion `!pthread_mutex_lock(&amp;m)&#x27; failed.&quot; issue again, unrelated
<br>
</div>

<div class='talk op-msg' data-timestamp='1488179460' id='532097'>
<a class='timestamp' href='#532097'><time timestamp='2017-02-27T07:11:00Z'>07:11</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I&#x27;m in good company, even &quot;move comment&quot; pulls fail
<br>
</div>

<div class='talk op-msg' data-timestamp='1488179460' id='532098'>
<a class='timestamp' href='#532098'><time timestamp='2017-02-27T07:11:00Z'>07:11</time></a>
&lt;<span class='nick nick-3'> dcousens</span>&gt;
ha     
<br>
</div>

<div class='talk op-msg' data-timestamp='1488180120' id='532099'>
<a class='timestamp' href='#532099'><time timestamp='2017-02-27T07:22:00Z'>07:22</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
looks like there is another intermittent travis issue: timeouts in make check (probably test_bitcoin related too)
<br>
</div>

<div class='talk op-msg' data-timestamp='1488180420' id='532100'>
<a class='timestamp' href='#532100'><time timestamp='2017-02-27T07:27:00Z'>07:27</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
test_bitcoin is really slow...
<br>
</div>

<div class='talk op-msg' data-timestamp='1488180480' id='532101'>
<a class='timestamp' href='#532101'><time timestamp='2017-02-27T07:28:00Z'>07:28</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
well it hangs <b>*before*</b> the &quot;N testcases&quot; line... it&#x27;s not supposed to spend <b>*any*</b> time there
<br>
</div>

<div class='talk op-msg' data-timestamp='1488180540' id='532102'>
<a class='timestamp' href='#532102'><time timestamp='2017-02-27T07:29:00Z'>07:29</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
still haven&#x27;t managed to catch the test_bitcoin mutex issue, this may be a different symptom of it
<br>
</div>

<div class='talk op-msg' data-timestamp='1488180780' id='532103'>
<a class='timestamp' href='#532103'><time timestamp='2017-02-27T07:33:00Z'>07:33</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
this is making travis as good as useless
<br>
</div>

<div class='talk op-msg' data-timestamp='1488180960' id='532104'>
<a class='timestamp' href='#532104'><time timestamp='2017-02-27T07:36:00Z'>07:36</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
maybe we need to start making PRs with most of test_bitcoin commented out?
<br>
</div>

<div class='talk op-msg' data-timestamp='1488181020' id='532105'>
<a class='timestamp' href='#532105'><time timestamp='2017-02-27T07:37:00Z'>07:37</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
the problem is that it happens during initialization, not during run of the tests. So we&#x27;d need to be commenting out global variables and such
<br>
</div>

<div class='talk op-msg' data-timestamp='1488181020' id='532106'>
<a class='timestamp' href='#532106'><time timestamp='2017-02-27T07:37:00Z'>07:37</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
bisecting might work, though that&#x27;s difficult with unrelabile reprodicibility
<br>
</div>

<div class='talk op-msg' data-timestamp='1488181020' id='532107'>
<a class='timestamp' href='#532107'><time timestamp='2017-02-27T07:37:00Z'>07:37</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
e.g. go way back and find the commit where this started
<br>
</div>

<div class='talk op-msg' data-timestamp='1488181080' id='532108'>
<a class='timestamp' href='#532108'><time timestamp='2017-02-27T07:38:00Z'>07:38</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
the funny thing is that #9851 is passing every single time now that I added debug information
<br>
</div>

<div class='talk op-msg' data-timestamp='1488181080' id='532109'>
<a class='timestamp' href='#532109'><time timestamp='2017-02-27T07:38:00Z'>07:38</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/9851" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/9851</a> | [do not merge] travis gdb parachute for #9825 by laanwj · Pull Request #9851 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1488181140' id='532110'>
<a class='timestamp' href='#532110'><time timestamp='2017-02-27T07:39:00Z'>07:39</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
it fails enough perhaps that just retrying each step 5 times might be enough.
<br>
</div>

<div class='talk op-msg' data-timestamp='1488181140' id='532111'>
<a class='timestamp' href='#532111'><time timestamp='2017-02-27T07:39:00Z'>07:39</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
if that&#x27;s not a classic example of a heisenbug I don&#x27;t know
<br>
</div>

<div class='talk op-msg' data-timestamp='1488181200' id='532112'>
<a class='timestamp' href='#532112'><time timestamp='2017-02-27T07:40:00Z'>07:40</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it seems to fail in runs, I wonder if it somehow gets cached on a PR
<br>
</div>

<div class='talk op-msg' data-timestamp='1488181200' id='532113'>
<a class='timestamp' href='#532113'><time timestamp='2017-02-27T07:40:00Z'>07:40</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I suppose that makes sense it it&#x27;s something the C compiler/ linker does - ccache caches things, which are re-used next time
<br>
</div>

<div class='talk op-msg' data-timestamp='1488181560' id='532114'>
<a class='timestamp' href='#532114'><time timestamp='2017-02-27T07:46:00Z'>07:46</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/6206252e5073...c7e57ce98154" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/6206252e5073...c7e57ce98154</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1488181560' id='532115'>
<a class='timestamp' href='#532115'><time timestamp='2017-02-27T07:46:00Z'>07:46</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 864890a Russell Yanofsky: [qa] Make import-rescan.py watchonly check reliable...
<br>
</div>

<div class='talk op-msg' data-timestamp='1488181560' id='532116'>
<a class='timestamp' href='#532116'><time timestamp='2017-02-27T07:46:00Z'>07:46</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master c7e57ce Wladimir J. van der Laan: Merge #9839: [qa] Make import-rescan.py watchonly check reliable...
<br>
</div>

<div class='talk op-msg' data-timestamp='1488181620' id='532117'>
<a class='timestamp' href='#532117'><time timestamp='2017-02-27T07:47:00Z'>07:47</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
if it&#x27;s really an initialization order fiasco, the root cause for sometimes failing could be randomization in e.g. the linker or compiler with regard to what gets put where
<br>
</div>

<div class='talk op-msg' data-timestamp='1488181920' id='532118'>
<a class='timestamp' href='#532118'><time timestamp='2017-02-27T07:52:00Z'>07:52</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
cfields: is it possible to download a PR&#x27;s cache remotely?
<br>
</div>

<div class='talk op-msg' data-timestamp='1488182640' id='532119'>
<a class='timestamp' href='#532119'><time timestamp='2017-02-27T08:04:00Z'>08:04</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 1 new commit to 0.14: <a href="https://github.com/bitcoin/bitcoin/commit/eddaa6b35d41aefead1a57ea54e7e15ce069f79a" class="link" target="_blank">https://github.com/bitcoin/bitcoin/commit/eddaa6b35d41aefead1a57ea54e7e15ce069f79a</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1488182640' id='532120'>
<a class='timestamp' href='#532120'><time timestamp='2017-02-27T08:04:00Z'>08:04</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/0.14 eddaa6b Russell Yanofsky: [qa] Make import-rescan.py watchonly check reliable...
<br>
</div>

<div class='talk op-msg' data-timestamp='1488182640' id='532121'>
<a class='timestamp' href='#532121'><time timestamp='2017-02-27T08:04:00Z'>08:04</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
hm no, never mind, I don&#x27;t think that&#x27;s going to help at all either...
<br>
</div>

<div class='talk op-msg' data-timestamp='1488183660' id='532122'>
<a class='timestamp' href='#532122'><time timestamp='2017-02-27T08:21:00Z'>08:21</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj opened pull request #9873: [do not merge] upload test_bitcoin executable for #9825 (master...2017_02_travis_upload) <a href="https://github.com/bitcoin/bitcoin/pull/9873" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9873</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1488188700' id='532123'>
<a class='timestamp' href='#532123'><time timestamp='2017-02-27T09:45:00Z'>09:45</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
awesome, I started debugging #9825 again and all pulls start passing! Start observing and the bug goes away, stop looking and it comes back. The unobserved state is a fog of probabilities, a window of and for error.  <b>*wheee*</b>
<br>
</div>

<div class='talk op-msg' data-timestamp='1488188700' id='532124'>
<a class='timestamp' href='#532124'><time timestamp='2017-02-27T09:45:00Z'>09:45</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/9825" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/9825</a> | Intermittent FAIL: test/test_bitcoin in Travis · Issue #9825 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1488191640' id='532125'>
<a class='timestamp' href='#532125'><time timestamp='2017-02-27T10:34:00Z'>10:34</time></a>
&lt;<span class='nick nick-8'> Victorsueca</span>&gt;
wumpus: it&#x27;s a quantum bug
<br>
</div>

<div class='talk op-msg' data-timestamp='1488192360' id='532126'>
<a class='timestamp' href='#532126'><time timestamp='2017-02-27T10:46:00Z'>10:46</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
ew, we were using printf for hex strings?
<br>
</div>

<div class='talk op-msg' data-timestamp='1488193560' id='532127'>
<a class='timestamp' href='#532127'><time timestamp='2017-02-27T11:06:00Z'>11:06</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes, fairly sure that code is inherited from satoshi
<br>
</div>

<div class='talk op-msg' data-timestamp='1488194280' id='532128'>
<a class='timestamp' href='#532128'><time timestamp='2017-02-27T11:18:00Z'>11:18</time></a>
&lt;<span class='nick nick-14'> * luke-jr</span>&gt;
peers at Travis giving him a restart button that doesn&#x27;t work
<br>
</div>

<div class='talk op-msg' data-timestamp='1488194280' id='532129'>
<a class='timestamp' href='#532129'><time timestamp='2017-02-27T11:18:00Z'>11:18</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
can someone restart the two non-passing <a href="https://travis-ci.org/bitcoin/bitcoin/builds/205383975" class="link" target="_blank">https://travis-ci.org/bitcoin/bitcoin/builds/205383975</a> ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1488194280' id='532130'>
<a class='timestamp' href='#532130'><time timestamp='2017-02-27T11:18:00Z'>11:18</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
I can&#x27;t see any issue to fix
<br>
</div>

<div class='talk op-msg' data-timestamp='1488194580' id='532131'>
<a class='timestamp' href='#532131'><time timestamp='2017-02-27T11:23:00Z'>11:23</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
sure...
<br>
</div>

<div class='talk op-msg' data-timestamp='1488194580' id='532132'>
<a class='timestamp' href='#532132'><time timestamp='2017-02-27T11:23:00Z'>11:23</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
Victorsueca: either that or we need an exorcist
<br>
</div>

<div class='talk op-msg' data-timestamp='1488194640' id='532133'>
<a class='timestamp' href='#532133'><time timestamp='2017-02-27T11:24:00Z'>11:24</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
luke-jr: this doesn&#x27;t seem the typical issue &quot;test/rpc_tests.cpp(73): error: in &quot;rpc_tests/rpc_rawparams&quot;: unexpected exception thrown by CallRPC(std::string(&quot;signrawtransaction &quot;)+rawtx)&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1488194640' id='532134'>
<a class='timestamp' href='#532134'><time timestamp='2017-02-27T11:24:00Z'>11:24</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
I can&#x27;t reproduce it :/
<br>
</div>

<div class='talk op-msg' data-timestamp='1488194700' id='532135'>
<a class='timestamp' href='#532135'><time timestamp='2017-02-27T11:25:00Z'>11:25</time></a>
&lt;<span class='nick nick-8'> Victorsueca</span>&gt;
maybe the code is ok and the problem is at travis?
<br>
</div>

<div class='talk op-msg' data-timestamp='1488194700' id='532136'>
<a class='timestamp' href='#532136'><time timestamp='2017-02-27T11:25:00Z'>11:25</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
luke-jr: restarting it...
<br>
</div>

<div class='talk op-msg' data-timestamp='1488194760' id='532137'>
<a class='timestamp' href='#532137'><time timestamp='2017-02-27T11:26:00Z'>11:26</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
Victorsueca: it&#x27;s possible, though that doesn&#x27;t explain why it always fails in the same (or similar) place
<br>
</div>

<div class='talk op-msg' data-timestamp='1488194820' id='532138'>
<a class='timestamp' href='#532138'><time timestamp='2017-02-27T11:27:00Z'>11:27</time></a>
&lt;<span class='nick nick-8'> Victorsueca</span>&gt;
so either the code is bad or travis is using some non-standard compiler that throws shit at the fan when it hits that part
<br>
</div>

<div class='talk op-msg' data-timestamp='1488194820' id='532139'>
<a class='timestamp' href='#532139'><time timestamp='2017-02-27T11:27:00Z'>11:27</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
hmm, I wonder..
<br>
</div>

<div class='talk op-msg' data-timestamp='1488194940' id='532140'>
<a class='timestamp' href='#532140'><time timestamp='2017-02-27T11:29:00Z'>11:29</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it should be using stock trusty gcc - but yes it seems some non-determinism/randomization in the compiler is causing a bad test_bitcoin sometimes
<br>
</div>

<div class='talk op-msg' data-timestamp='1488195660' id='532141'>
<a class='timestamp' href='#532141'><time timestamp='2017-02-27T11:41:00Z'>11:41</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
is wallet_tests/rescan really acceptable? it&#x27;s assigning pwalletMain for a test to a stack variable, and leaving it there?
<br>
</div>

<div class='talk op-msg' data-timestamp='1488197340' id='532142'>
<a class='timestamp' href='#532142'><time timestamp='2017-02-27T12:09:00Z'>12:09</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
luke-jr: it&#x27;d be cleaner to reset it to NULL at the end of the test. Hopefully, though, that whole nonsense can go away when there&#x27;s a better way to pass in the wallet via RPC context
<br>
</div>

<div class='talk op-msg' data-timestamp='1488197400' id='532143'>
<a class='timestamp' href='#532143'><time timestamp='2017-02-27T12:10:00Z'>12:10</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
I wonder if that&#x27;s the cause - signrawtransaction can use the wallet when available
<br>
</div>

<div class='talk op-msg' data-timestamp='1488197400' id='532144'>
<a class='timestamp' href='#532144'><time timestamp='2017-02-27T12:10:00Z'>12:10</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
but yes any test after that that assumes pwalletMain is set to something will crash or do bad things
<br>
</div>

<div class='talk op-msg' data-timestamp='1488197400' id='532145'>
<a class='timestamp' href='#532145'><time timestamp='2017-02-27T12:10:00Z'>12:10</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
I just can&#x27;t reproduce to confirm
<br>
</div>

<div class='talk op-msg' data-timestamp='1488197400' id='532146'>
<a class='timestamp' href='#532146'><time timestamp='2017-02-27T12:10:00Z'>12:10</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes, thinking about it - WalletTestingSetup sets up pwalletMain. Setting it to NULL would be bad too, it needs to be restored to its original value?
<br>
</div>

<div class='talk op-msg' data-timestamp='1488197460' id='532147'>
<a class='timestamp' href='#532147'><time timestamp='2017-02-27T12:11:00Z'>12:11</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes, you might be on to something
<br>
</div>

<div class='talk op-msg' data-timestamp='1488197520' id='532148'>
<a class='timestamp' href='#532148'><time timestamp='2017-02-27T12:12:00Z'>12:12</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
the next test using the walletMain after that will corrupt
<br>
</div>

<div class='talk op-msg' data-timestamp='1488197520' id='532149'>
<a class='timestamp' href='#532149'><time timestamp='2017-02-27T12:12:00Z'>12:12</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
+the stack
<br>
</div>

<div class='talk op-msg' data-timestamp='1488197760' id='532150'>
<a class='timestamp' href='#532150'><time timestamp='2017-02-27T12:16:00Z'>12:16</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj opened pull request #9875: tests: Fix dangling pwalletMain pointer in wallet tests (master...2017_02_wallet_test_dangle) <a href="https://github.com/bitcoin/bitcoin/pull/9875" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9875</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1488199200' id='532151'>
<a class='timestamp' href='#532151'><time timestamp='2017-02-27T12:40:00Z'>12:40</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj closed pull request #9875: tests: Fix dangling pwalletMain pointer in wallet tests (master...2017_02_wallet_test_dangle) <a href="https://github.com/bitcoin/bitcoin/pull/9875" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9875</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1488199320' id='532152'>
<a class='timestamp' href='#532152'><time timestamp='2017-02-27T12:42:00Z'>12:42</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
wumpus: so now if we restart that Travis job, it should merge in with that fix and we can tell if that was the issue?
<br>
</div>

<div class='talk op-msg' data-timestamp='1488199440' id='532153'>
<a class='timestamp' href='#532153'><time timestamp='2017-02-27T12:44:00Z'>12:44</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes, will re-trigger after travis finishes on master
<br>
</div>

<div class='talk op-msg' data-timestamp='1488199980' id='532154'>
<a class='timestamp' href='#532154'><time timestamp='2017-02-27T12:53:00Z'>12:53</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
which it did
<br>
</div>

<div class='talk op-msg' data-timestamp='1488200520' id='532155'>
<a class='timestamp' href='#532155'><time timestamp='2017-02-27T13:02:00Z'>13:02</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
luke-jr: still the same issue in your pull, unfortunately: <a href="https://travis-ci.org/bitcoin/bitcoin/jobs/205383977#L2475" class="link" target="_blank">https://travis-ci.org/bitcoin/bitcoin/jobs/205383977#L2475</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1488200520' id='532156'>
<a class='timestamp' href='#532156'><time timestamp='2017-02-27T13:02:00Z'>13:02</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
:/     
<br>
</div>

<div class='talk op-msg' data-timestamp='1488200580' id='532157'>
<a class='timestamp' href='#532157'><time timestamp='2017-02-27T13:03:00Z'>13:03</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
why doesn&#x27;t it give any details on the exception?
<br>
</div>

<div class='talk op-msg' data-timestamp='1488200640' id='532158'>
<a class='timestamp' href='#532158'><time timestamp='2017-02-27T13:04:00Z'>13:04</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes pretty crappy. You could try adding your own catch{} around it temporarily
<br>
</div>

<div class='talk op-msg' data-timestamp='1488200820' id='532159'>
<a class='timestamp' href='#532159'><time timestamp='2017-02-27T13:07:00Z'>13:07</time></a>
&lt;<span class='nick nick-14'> * luke-jr</span>&gt;
ponders why this is mingw-specific
<br>
</div>

<div class='talk op-msg' data-timestamp='1488201300' id='532160'>
<a class='timestamp' href='#532160'><time timestamp='2017-02-27T13:15:00Z'>13:15</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
luke-jr: you&#x27;ll need to remove the BOOST_CHECK_NO_THROW( too
<br>
</div>

<div class='talk op-msg' data-timestamp='1488201300' id='532161'>
<a class='timestamp' href='#532161'><time timestamp='2017-02-27T13:15:00Z'>13:15</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
oh     
<br>
</div>

<div class='talk op-msg' data-timestamp='1488201300' id='532162'>
<a class='timestamp' href='#532162'><time timestamp='2017-02-27T13:15:00Z'>13:15</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
otherwise that will catch it for you
<br>
</div>

<div class='talk op-msg' data-timestamp='1488204900' id='532163'>
<a class='timestamp' href='#532163'><time timestamp='2017-02-27T14:15:00Z'>14:15</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jnewbery opened pull request #9876: Remove wildcard imports from qa (master...remove_wildcard_imports) <a href="https://github.com/bitcoin/bitcoin/pull/9876" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9876</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1488207960' id='532164'>
<a class='timestamp' href='#532164'><time timestamp='2017-02-27T15:06:00Z'>15:06</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj closed pull request #9851: [do not merge] travis gdb parachute for #9825 (master...2017_02_travisissue) <a href="https://github.com/bitcoin/bitcoin/pull/9851" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9851</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1488212220' id='532165'>
<a class='timestamp' href='#532165'><time timestamp='2017-02-27T16:17:00Z'>16:17</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
wumpus: i think #9548 has enough ACK&#x27;s if you want to merge
<br>
</div>

<div class='talk op-msg' data-timestamp='1488212220' id='532166'>
<a class='timestamp' href='#532166'><time timestamp='2017-02-27T16:17:00Z'>16:17</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/9548" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/9548</a> | Remove min reasonable fee by morcos · Pull Request #9548 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1488213420' id='532167'>
<a class='timestamp' href='#532167'><time timestamp='2017-02-27T16:37:00Z'>16:37</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] ryanofsky opened pull request #9878: Mention bumpfee in 0.14 release notes. (0.14...pr/bnote) <a href="https://github.com/bitcoin/bitcoin/pull/9878" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9878</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1488215820' id='532168'>
<a class='timestamp' href='#532168'><time timestamp='2017-02-27T17:17:00Z'>17:17</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
wumpus: with the trys added, the same stuff won&#x27;t fail :|
<br>
</div>

<div class='talk op-msg' data-timestamp='1488215880' id='532169'>
<a class='timestamp' href='#532169'><time timestamp='2017-02-27T17:18:00Z'>17:18</time></a>
&lt;<span class='nick nick-14'> * luke-jr</span>&gt;
puts them before the try &lt;.&lt;
<br>
</div>

<div class='talk op-msg' data-timestamp='1488224880' id='532170'>
<a class='timestamp' href='#532170'><time timestamp='2017-02-27T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
 I have a question about partial merkle trees and extracting matches, we have this piece of code inside of &#x27;TraverseAndExtract&#x27; <a href="https://github.com/bitcoin/bitcoin/blob/master/src/merkleblock.cpp#L121-L125" class="link" target="_blank">https://github.com/bitcoin/bitcoin/blob/master/src/merkleblock.cpp#L121-L125</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1488224940' id='532171'>
<a class='timestamp' href='#532171'><time timestamp='2017-02-27T19:49:00Z'>19:49</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
however, can&#x27;t this happen if we have to duplicate a txid to make sure a node has two leaves?
<br>
</div>

<div class='talk op-msg' data-timestamp='1488225420' id='532172'>
<a class='timestamp' href='#532172'><time timestamp='2017-02-27T19:57:00Z'>19:57</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
Chris_Stewart_5: it&#x27;s exactly designed to test that
<br>
</div>

<div class='talk op-msg' data-timestamp='1488225420' id='532173'>
<a class='timestamp' href='#532173'><time timestamp='2017-02-27T19:57:00Z'>19:57</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
duplicate txids in the tree are invalid
<br>
</div>

<div class='talk op-msg' data-timestamp='1488225600' id='532174'>
<a class='timestamp' href='#532174'><time timestamp='2017-02-27T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
sipa: Ok, and where is that duplicate txid filtered out when building the merkle tree? On this line? <a href="https://github.com/bitcoin/bitcoin/blob/master/src/merkleblock.cpp#L81-L82" class="link" target="_blank">https://github.com/bitcoin/bitcoin/blob/master/src/merkleblock.cpp#L81-L82</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1488225600' id='532175'>
<a class='timestamp' href='#532175'><time timestamp='2017-02-27T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
Chris_Stewart_5: &quot;filtered out&quot;?
<br>
</div>

<div class='talk op-msg' data-timestamp='1488225600' id='532176'>
<a class='timestamp' href='#532176'><time timestamp='2017-02-27T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
Chris_Stewart_5: a block with duplicate txids is invalid in the first place
<br>
</div>

<div class='talk op-msg' data-timestamp='1488225660' id='532177'>
<a class='timestamp' href='#532177'><time timestamp='2017-02-27T20:01:00Z'>20:01</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it can&#x27;t ever occur in any block we have
<br>
</div>

<div class='talk op-msg' data-timestamp='1488225780' id='532178'>
<a class='timestamp' href='#532178'><time timestamp='2017-02-27T20:03:00Z'>20:03</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
by definition such a block would have a double spend
<br>
</div>

<div class='talk op-msg' data-timestamp='1488225780' id='532179'>
<a class='timestamp' href='#532179'><time timestamp='2017-02-27T20:03:00Z'>20:03</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
Yeah, I guess I was getting confused with &#x27;MerkleBlocks&#x27; and just merkle tree computations
<br>
</div>

<div class='talk op-msg' data-timestamp='1488225900' id='532180'>
<a class='timestamp' href='#532180'><time timestamp='2017-02-27T20:05:00Z'>20:05</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
and they aren&#x27;t conceptually the same tree
<br>
</div>

<div class='talk op-msg' data-timestamp='1488225900' id='532181'>
<a class='timestamp' href='#532181'><time timestamp='2017-02-27T20:05:00Z'>20:05</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yes they are...
<br>
</div>

<div class='talk op-msg' data-timestamp='1488225960' id='532182'>
<a class='timestamp' href='#532182'><time timestamp='2017-02-27T20:06:00Z'>20:06</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
a MerkleBlock is just the merkle tree of a block with some branches removed
<br>
</div>

<div class='talk op-msg' data-timestamp='1488226020' id='532183'>
<a class='timestamp' href='#532183'><time timestamp='2017-02-27T20:07:00Z'>20:07</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it couldn&#x27;t prove anything if it wasn&#x27;t the same tree
<br>
</div>

<div class='talk op-msg' data-timestamp='1488226080' id='532184'>
<a class='timestamp' href='#532184'><time timestamp='2017-02-27T20:08:00Z'>20:08</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
Ok, help me understand this then. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1488226080' id='532185'>
<a class='timestamp' href='#532185'><time timestamp='2017-02-27T20:08:00Z'>20:08</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/blob/master/src/consensus/merkle.cpp#L14-L18" class="link" target="_blank">https://github.com/bitcoin/bitcoin/blob/master/src/consensus/merkle.cpp#L14-L18</a> and the example below it
<br>
</div>

<div class='talk op-msg' data-timestamp='1488226140' id='532186'>
<a class='timestamp' href='#532186'><time timestamp='2017-02-27T20:09:00Z'>20:09</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
would not be serialized as the entire tree when sending it over the network, correct? It would prune the &#x27;rightmost&#x27; branch &#x27;f&#x27; right?
<br>
</div>

<div class='talk op-msg' data-timestamp='1488226140' id='532187'>
<a class='timestamp' href='#532187'><time timestamp='2017-02-27T20:09:00Z'>20:09</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
and just provide the hash for &#x27;f&#x27;
<br>
</div>

<div class='talk op-msg' data-timestamp='1488226140' id='532188'>
<a class='timestamp' href='#532188'><time timestamp='2017-02-27T20:09:00Z'>20:09</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that&#x27;s about how the merkle root hash is computed
<br>
</div>

<div class='talk op-msg' data-timestamp='1488226140' id='532189'>
<a class='timestamp' href='#532189'><time timestamp='2017-02-27T20:09:00Z'>20:09</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
not what is in it
<br>
</div>

<div class='talk op-msg' data-timestamp='1488226140' id='532190'>
<a class='timestamp' href='#532190'><time timestamp='2017-02-27T20:09:00Z'>20:09</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it&#x27;s illegal for a transaction to be repeated inside a block
<br>
</div>

<div class='talk op-msg' data-timestamp='1488226200' id='532191'>
<a class='timestamp' href='#532191'><time timestamp='2017-02-27T20:10:00Z'>20:10</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yet, if there is at any level of the tree an odd number of entries, we duplicate the last one <u>_for the purpose of computing the root_</u>
<br>
</div>

<div class='talk op-msg' data-timestamp='1488226200' id='532192'>
<a class='timestamp' href='#532192'><time timestamp='2017-02-27T20:10:00Z'>20:10</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that case is handled in the else branch of the MerkleBlock code you linked to
<br>
</div>

<div class='talk op-msg' data-timestamp='1488226620' id='532193'>
<a class='timestamp' href='#532193'><time timestamp='2017-02-27T20:17:00Z'>20:17</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
Hmm ok, so if we have a block with 3 txs in it, and we wanted to send a merkle block to a spv node to prove a tx occurred in that block, we wouldn&#x27;t have to duplicate that 3rd txid to recompute the hash of the parent node? and thus prove to the SPV node the tx occurred? 
<br>
</div>

<div class='talk op-msg' data-timestamp='1488226620' id='532194'>
<a class='timestamp' href='#532194'><time timestamp='2017-02-27T20:17:00Z'>20:17</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
most mysterious travis failure ever: <a href="https://travis-ci.org/bitcoin/bitcoin/builds/205914634" class="link" target="_blank">https://travis-ci.org/bitcoin/bitcoin/builds/205914634</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1488226680' id='532195'>
<a class='timestamp' href='#532195'><time timestamp='2017-02-27T20:18:00Z'>20:18</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
no log?
<br>
</div>

<div class='talk op-msg' data-timestamp='1488226680' id='532196'>
<a class='timestamp' href='#532196'><time timestamp='2017-02-27T20:18:00Z'>20:18</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
Chris_Stewart_5: yes?
<br>
</div>

<div class='talk op-msg' data-timestamp='1488226680' id='532197'>
<a class='timestamp' href='#532197'><time timestamp='2017-02-27T20:18:00Z'>20:18</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
Chris_Stewart_5: but you&#x27;re not duplicating the transaction in the tree
<br>
</div>

<div class='talk op-msg' data-timestamp='1488226680' id='532198'>
<a class='timestamp' href='#532198'><time timestamp='2017-02-27T20:18:00Z'>20:18</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
Chris_Stewart_5: you&#x27;re just duplicating an entry when computing the next level
<br>
</div>

<div class='talk op-msg' data-timestamp='1488226680' id='532199'>
<a class='timestamp' href='#532199'><time timestamp='2017-02-27T20:18:00Z'>20:18</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
just read the code
<br>
</div>

<div class='talk op-msg' data-timestamp='1488226740' id='532200'>
<a class='timestamp' href='#532200'><time timestamp='2017-02-27T20:19:00Z'>20:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
Chris_Stewart_5: <a href="https://github.com/bitcoin/bitcoin/blob/master/src/merkleblock.cpp#L119-L128" class="link" target="_blank">https://github.com/bitcoin/bitcoin/blob/master/src/merkleblock.cpp#L119-L128</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1488226800' id='532201'>
<a class='timestamp' href='#532201'><time timestamp='2017-02-27T20:20:00Z'>20:20</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that if selects whether we&#x27;re in the normal case, or the &#x27;last entry of an odd-sized level&#x27; case
<br>
</div>

<div class='talk op-msg' data-timestamp='1488226800' id='532202'>
<a class='timestamp' href='#532202'><time timestamp='2017-02-27T20:20:00Z'>20:20</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
only in the first one we require the two lower level hashes to be different
<br>
</div>

<div class='talk op-msg' data-timestamp='1488226800' id='532203'>
<a class='timestamp' href='#532203'><time timestamp='2017-02-27T20:20:00Z'>20:20</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
in the second case there still is only one hash, but we duplicate it for the purpose of computing the parent level
<br>
</div>

<div class='talk op-msg' data-timestamp='1488226800' id='532204'>
<a class='timestamp' href='#532204'><time timestamp='2017-02-27T20:20:00Z'>20:20</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
yeah, that is what i was missing. Thanks. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1488227580' id='532205'>
<a class='timestamp' href='#532205'><time timestamp='2017-02-27T20:33:00Z'>20:33</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
wumpus: weird, re-pushing with a new commit-id (no code changes) passes Travis now
<br>
</div>

<div class='talk op-msg' data-timestamp='1488229980' id='532206'>
<a class='timestamp' href='#532206'><time timestamp='2017-02-27T21:13:00Z'>21:13</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
dcousens: don&#x27;t feel bad, it&#x27;s a very confusing issue; and my apologies if my answers were a bit terse! was trying to get something else done at the same time
<br>
</div>

<div class='talk op-msg' data-timestamp='1488230040' id='532207'>
<a class='timestamp' href='#532207'><time timestamp='2017-02-27T21:14:00Z'>21:14</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
dcousens, sipa: my best advice is to get a copy of the opentimestamps client and run the git integration code with the verbose switch on to see exactly what&#x27;s happening under the hood
<br>
</div>

<div class='talk op-msg' data-timestamp='1488230040' id='532208'>
<a class='timestamp' href='#532208'><time timestamp='2017-02-27T21:14:00Z'>21:14</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
petertodd: i don&#x27;t think that&#x27;s useful without reviewing that code myself :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1488230100' id='532209'>
<a class='timestamp' href='#532209'><time timestamp='2017-02-27T21:15:00Z'>21:15</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: I just mean, it&#x27;s an implementation of something that hooks into the low-level git signing code, so it&#x27;s an easy way to see exactly what&#x27;s being signed
<br>
</div>

<div class='talk op-msg' data-timestamp='1488230160' id='532210'>
<a class='timestamp' href='#532210'><time timestamp='2017-02-27T21:16:00Z'>21:16</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it seems my gpg key (which was created in 2015) used sha1 to sign the subkeys
<br>
</div>

<div class='talk op-msg' data-timestamp='1488230160' id='532211'>
<a class='timestamp' href='#532211'><time timestamp='2017-02-27T21:16:00Z'>21:16</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
horror.
<br>
</div>

<div class='talk op-msg' data-timestamp='1488230160' id='532212'>
<a class='timestamp' href='#532212'><time timestamp='2017-02-27T21:16:00Z'>21:16</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
heh, yeah, I think the defaults were changed pretty recently...
<br>
</div>

<div class='talk op-msg' data-timestamp='1488231300' id='532213'>
<a class='timestamp' href='#532213'><time timestamp='2017-02-27T21:35:00Z'>21:35</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/94e5ba9ba290...88c2ae3ed2bb" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/94e5ba9ba290...88c2ae3ed2bb</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1488231300' id='532214'>
<a class='timestamp' href='#532214'><time timestamp='2017-02-27T21:35:00Z'>21:35</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 988ce2d Chris Stewart: Adding &#x27;amount&#x27; label to tx_valid/tx_invalid.json files
<br>
</div>

<div class='talk op-msg' data-timestamp='1488231300' id='532215'>
<a class='timestamp' href='#532215'><time timestamp='2017-02-27T21:35:00Z'>21:35</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 88c2ae3 MarcoFalke: Merge #9350: [Trivial] Adding label for amount inside of tx_valid/tx_invalid.json...
<br>
</div>

<div class='talk op-msg' data-timestamp='1488231300' id='532216'>
<a class='timestamp' href='#532216'><time timestamp='2017-02-27T21:35:00Z'>21:35</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke closed pull request #9350: [Trivial] Adding label for amount inside of tx_valid/tx_invalid.json (master...master) <a href="https://github.com/bitcoin/bitcoin/pull/9350" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9350</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1488235740' id='532217'>
<a class='timestamp' href='#532217'><time timestamp='2017-02-27T22:49:00Z'>22:49</time></a>
&lt;<span class='nick nick-3'> dcousens</span>&gt;
petertodd: no problem :),  we all got there in the end :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1488238860' id='532218'>
<a class='timestamp' href='#532218'><time timestamp='2017-02-27T23:41:00Z'>23:41</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
Is anyone else kinds surprised that github didn&#x27;t have a ready to go sha256 (or whatever) version of git?
<br>
</div>

<div class='talk op-msg' data-timestamp='1488238920' id='532219'>
<a class='timestamp' href='#532219'><time timestamp='2017-02-27T23:42:00Z'>23:42</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
what does github have to do with that?
<br>
</div>

<div class='talk op-msg' data-timestamp='1488238920' id='532220'>
<a class='timestamp' href='#532220'><time timestamp='2017-02-27T23:42:00Z'>23:42</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it&#x27;s perhaps surprising that git itself never prioritized upgrading to a better hash function
<br>
</div>

<div class='talk op-msg' data-timestamp='1488238920' id='532221'>
<a class='timestamp' href='#532221'><time timestamp='2017-02-27T23:42:00Z'>23:42</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
They have a lot of money on git
<br>
</div>

<div class='talk op-msg' data-timestamp='1488238920' id='532222'>
<a class='timestamp' href='#532222'><time timestamp='2017-02-27T23:42:00Z'>23:42</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
it&#x27;s like a bitcoin company not investing in any core dev ;) 
<br>
</div>

<div class='talk op-msg' data-timestamp='1488238920' id='532223'>
<a class='timestamp' href='#532223'><time timestamp='2017-02-27T23:42:00Z'>23:42</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
no     
<br>
</div>

<div class='talk op-msg' data-timestamp='1488238980' id='532224'>
<a class='timestamp' href='#532224'><time timestamp='2017-02-27T23:43:00Z'>23:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it&#x27;s like a bitcoin company not developing their own altcoin
<br>
</div>

<div class='talk op-msg' data-timestamp='1488238980' id='532225'>
<a class='timestamp' href='#532225'><time timestamp='2017-02-27T23:43:00Z'>23:43</time></a>
&lt;<span class='nick nick-3'> dcousens</span>&gt;
haha
<br>
</div>

<div class='talk op-msg' data-timestamp='1488238980' id='532226'>
<a class='timestamp' href='#532226'><time timestamp='2017-02-27T23:43:00Z'>23:43</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
Example:
<br>
</div>

<div class='talk op-msg' data-timestamp='1488238980' id='532227'>
<a class='timestamp' href='#532227'><time timestamp='2017-02-27T23:43:00Z'>23:43</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
github could run an internal git chain
<br>
</div>

<div class='talk op-msg' data-timestamp='1488238980' id='532228'>
<a class='timestamp' href='#532228'><time timestamp='2017-02-27T23:43:00Z'>23:43</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
using upgraded hashes
<br>
</div>

<div class='talk op-msg' data-timestamp='1488238980' id='532229'>
<a class='timestamp' href='#532229'><time timestamp='2017-02-27T23:43:00Z'>23:43</time></a>
&lt;<span class='nick nick-3'> dcousens</span>&gt;
jeremyrubin: how do you know they don&#x27;t?
<br>
</div>

<div class='talk op-msg' data-timestamp='1488238980' id='532230'>
<a class='timestamp' href='#532230'><time timestamp='2017-02-27T23:43:00Z'>23:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jeremyrubin: you&#x27;re missing my point
<br>
</div>

<div class='talk op-msg' data-timestamp='1488238980' id='532231'>
<a class='timestamp' href='#532231'><time timestamp='2017-02-27T23:43:00Z'>23:43</time></a>
&lt;<span class='nick nick-3'> dcousens</span>&gt;
GitHub is about compatibility with git
<br>
</div>

<div class='talk op-msg' data-timestamp='1488238980' id='532232'>
<a class='timestamp' href='#532232'><time timestamp='2017-02-27T23:43:00Z'>23:43</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
could test it out pushing the broken pdfs :p 
<br>
</div>

<div class='talk op-msg' data-timestamp='1488239040' id='532233'>
<a class='timestamp' href='#532233'><time timestamp='2017-02-27T23:44:00Z'>23:44</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
either changing git&#x27;s hash function is easy, and a fork or branch with support for it would be sponsored, and be available, and they&#x27;d use it
<br>
</div>

<div class='talk op-msg' data-timestamp='1488239040' id='532234'>
<a class='timestamp' href='#532234'><time timestamp='2017-02-27T23:44:00Z'>23:44</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
OR switching the hash function is hard, so nobody has a working version
<br>
</div>

<div class='talk op-msg' data-timestamp='1488239100' id='532235'>
<a class='timestamp' href='#532235'><time timestamp='2017-02-27T23:45:00Z'>23:45</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
suggesting that github would do so without compatibility with git itself seems ridiculous
<br>
</div>

<div class='talk op-msg' data-timestamp='1488239160' id='532236'>
<a class='timestamp' href='#532236'><time timestamp='2017-02-27T23:46:00Z'>23:46</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
idk -- I would expect a large fraction of github users could pretty quickly migrate to &quot;git2.0&quot; if github sent them an email detailing the changes
<br>
</div>

<div class='talk op-msg' data-timestamp='1488239160' id='532237'>
<a class='timestamp' href='#532237'><time timestamp='2017-02-27T23:46:00Z'>23:46</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
Maybe I don&#x27;t use very many tools on top of git
<br>
</div>

<div class='talk op-msg' data-timestamp='1488239160' id='532238'>
<a class='timestamp' href='#532238'><time timestamp='2017-02-27T23:46:00Z'>23:46</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
you&#x27;re literally saying here that github fork their own version of git
<br>
</div>

<div class='talk op-msg' data-timestamp='1488239160' id='532239'>
<a class='timestamp' href='#532239'><time timestamp='2017-02-27T23:46:00Z'>23:46</time></a>
&lt;<span class='nick nick-16'> bsm117532</span>&gt;
jeremyrubin: I&#x27;ve been very surprised there doesn&#x27;t seem to exist a sha2 version of git.  I&#x27;ve thought about writing one myself.  Especially integrating opentimestamps and commit signing...
<br>
</div>

<div class='talk op-msg' data-timestamp='1488239220' id='532240'>
<a class='timestamp' href='#532240'><time timestamp='2017-02-27T23:47:00Z'>23:47</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
sipa:yeah, I think they should. It&#x27;s not bitcoin :p 
<br>
</div>

<div class='talk op-msg' data-timestamp='1488239220' id='532241'>
<a class='timestamp' href='#532241'><time timestamp='2017-02-27T23:47:00Z'>23:47</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jeremyrubin: I think <b>*git*</b> should support sha2
<br>
</div>

<div class='talk op-msg' data-timestamp='1488239220' id='532242'>
<a class='timestamp' href='#532242'><time timestamp='2017-02-27T23:47:00Z'>23:47</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
jeremyrubin: to rephrase: you&#x27;re saying GitHub should stop supporting git ;)
<br>
</div>

<div class='talk op-msg' data-timestamp='1488239220' id='532243'>
<a class='timestamp' href='#532243'><time timestamp='2017-02-27T23:47:00Z'>23:47</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
yeah, but it seems Linus has his head... somewhere
<br>
</div>

<div class='talk op-msg' data-timestamp='1488239220' id='532244'>
<a class='timestamp' href='#532244'><time timestamp='2017-02-27T23:47:00Z'>23:47</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
Linus&#x27; mail said it&#x27;s in the works.. does it not exist somewhere?
<br>
</div>

<div class='talk op-msg' data-timestamp='1488239220' id='532245'>
<a class='timestamp' href='#532245'><time timestamp='2017-02-27T23:47:00Z'>23:47</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
They can support both?
<br>
</div>

<div class='talk op-msg' data-timestamp='1488239280' id='532246'>
<a class='timestamp' href='#532246'><time timestamp='2017-02-27T23:48:00Z'>23:48</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
No reason to not have git and gitsha2 available simultaneously.
<br>
</div>

<div class='talk op-msg' data-timestamp='1488239280' id='532247'>
<a class='timestamp' href='#532247'><time timestamp='2017-02-27T23:48:00Z'>23:48</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i think i&#x27;d stop using github if they did that
<br>
</div>

<div class='talk op-msg' data-timestamp='1488239280' id='532248'>
<a class='timestamp' href='#532248'><time timestamp='2017-02-27T23:48:00Z'>23:48</time></a>
&lt;<span class='nick nick-3'> dcousens</span>&gt;
jeremyrubin: I suppose it depends on how its done... maybe its a soft-fork haha
<br>
</div>

<div class='talk op-msg' data-timestamp='1488239340' id='532249'>
<a class='timestamp' href='#532249'><time timestamp='2017-02-27T23:49:00Z'>23:49</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it would feel like an embrace-and-extend
<br>
</div>

<div class='talk op-msg' data-timestamp='1488239400' id='532250'>
<a class='timestamp' href='#532250'><time timestamp='2017-02-27T23:50:00Z'>23:50</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
if they truly felt sha2 is important, and willing to put money on that, they could subsidize or contribute towards sha2 support in git itself... not suddenly switch to an incompatible fork themselves
<br>
</div>

<div class='talk op-msg' data-timestamp='1488239400' id='532251'>
<a class='timestamp' href='#532251'><time timestamp='2017-02-27T23:50:00Z'>23:50</time></a>
&lt;<span class='nick nick-16'> bsm117532</span>&gt;
Hey look it&#x27;s zooko <a href="https://lwn.net/Articles/370907/" class="link" target="_blank">https://lwn.net/Articles/370907/</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1488239520' id='532252'>
<a class='timestamp' href='#532252'><time timestamp='2017-02-27T23:52:00Z'>23:52</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
I guess I should be more vocal as a customer :p
<br>
</div>

<div class='talk op-msg' data-timestamp='1488239940' id='532253'>
<a class='timestamp' href='#532253'><time timestamp='2017-02-27T23:59:00Z'>23:59</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
emailed github support asking what they&#x27;re doing :p 
<br>
</div>

</div>
</section>

</body>
</html>
