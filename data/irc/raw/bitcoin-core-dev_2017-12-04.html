<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2017-12-04
 — 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2017-12-04' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:23 UTC</pre>
<pre><a href="/bitcoin-core-dev/2017-11-04">&lt;</a><span class='header'>  December 2017   </span><a href="/bitcoin-core-dev/2018-01-04">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;                <a class="" href="/bitcoin-core-dev/2017-12-01">1</a>  <a class="" href="/bitcoin-core-dev/2017-12-02">2</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2017-12-03">3</a>  <a class="current" href="/bitcoin-core-dev/2017-12-04">4</a>  <a class="" href="/bitcoin-core-dev/2017-12-05">5</a>  <a class="" href="/bitcoin-core-dev/2017-12-06">6</a>  <a class="" href="/bitcoin-core-dev/2017-12-07">7</a>  <a class="" href="/bitcoin-core-dev/2017-12-08">8</a>  <a class="" href="/bitcoin-core-dev/2017-12-09">9</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2017-12-10">10</a> <a class="" href="/bitcoin-core-dev/2017-12-11">11</a> <a class="" href="/bitcoin-core-dev/2017-12-12">12</a> <a class="" href="/bitcoin-core-dev/2017-12-13">13</a> <a class="" href="/bitcoin-core-dev/2017-12-14">14</a> <a class="" href="/bitcoin-core-dev/2017-12-15">15</a> <a class="" href="/bitcoin-core-dev/2017-12-16">16</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2017-12-17">17</a> <a class="" href="/bitcoin-core-dev/2017-12-18">18</a> <a class="" href="/bitcoin-core-dev/2017-12-19">19</a> <a class="" href="/bitcoin-core-dev/2017-12-20">20</a> <a class="" href="/bitcoin-core-dev/2017-12-21">21</a> <a class="" href="/bitcoin-core-dev/2017-12-22">22</a> <a class="" href="/bitcoin-core-dev/2017-12-23">23</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2017-12-24">24</a> <a class="" href="/bitcoin-core-dev/2017-12-25">25</a> <a class="" href="/bitcoin-core-dev/2017-12-26">26</a> <a class="" href="/bitcoin-core-dev/2017-12-27">27</a> <a class="" href="/bitcoin-core-dev/2017-12-28">28</a> <a class="" href="/bitcoin-core-dev/2017-12-29">29</a> <a class="" href="/bitcoin-core-dev/2017-12-30">30</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2017-12-31">31</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1512354900' id='584056'>
<a class='timestamp' href='#584056'><time timestamp='2017-12-04T02:35:00Z'>02:35</time></a>
&lt;<span class='nick nick-8'> xRavenheart</span>&gt;
anyone able to assist me in my queries about a school project please?
<br>
</div>

<div class='talk op-msg' data-timestamp='1512355620' id='584057'>
<a class='timestamp' href='#584057'><time timestamp='2017-12-04T02:47:00Z'>02:47</time></a>
&lt;<span class='nick nick-14'> Randolf</span>&gt;
xRavenheart:  What&#x27;s your school project about?  Bitcoin development?
<br>
</div>

<div class='talk op-msg' data-timestamp='1512355800' id='584058'>
<a class='timestamp' href='#584058'><time timestamp='2017-12-04T02:50:00Z'>02:50</time></a>
&lt;<span class='nick nick-8'> xRavenheart</span>&gt;
hi anyone able to assist me in a school project related question?
<br>
</div>

<div class='talk op-msg' data-timestamp='1512355860' id='584059'>
<a class='timestamp' href='#584059'><time timestamp='2017-12-04T02:51:00Z'>02:51</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
02:47:32 &lt; Randolf&gt; xRavenheart:  What&#x27;s your school project about?  Bitcoin development?
<br>
</div>

<div class='talk op-msg' data-timestamp='1512355860' id='584060'>
<a class='timestamp' href='#584060'><time timestamp='2017-12-04T02:51:00Z'>02:51</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
xRavenheart: not here
<br>
</div>

<div class='talk op-msg' data-timestamp='1512356100' id='584061'>
<a class='timestamp' href='#584061'><time timestamp='2017-12-04T02:55:00Z'>02:55</time></a>
&lt;<span class='nick nick-14'> Randolf</span>&gt;
luke-jr:  You&#x27;re right.  However, they just contacted me via PM in response to my response, so they probably have a secondary account watching this channel (I suspect).
<br>
</div>

<div class='talk op-msg' data-timestamp='1512356280' id='584062'>
<a class='timestamp' href='#584062'><time timestamp='2017-12-04T02:58:00Z'>02:58</time></a>
&lt;<span class='nick nick-7'> Dizzle</span>&gt;
Randolf: he&#x27;s here, rejoined. I think luke-jr was just suggesting he ask elsewhere, e.g. #bitcoin
<br>
</div>

<div class='talk op-msg' data-timestamp='1512356280' id='584063'>
<a class='timestamp' href='#584063'><time timestamp='2017-12-04T02:58:00Z'>02:58</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i&#x27;m talking in PM to him
<br>
</div>

<div class='talk op-msg' data-timestamp='1512356700' id='584064'>
<a class='timestamp' href='#584064'><time timestamp='2017-12-04T03:05:00Z'>03:05</time></a>
&lt;<span class='nick nick-8'> xRavenheart</span>&gt;
Ok guys, it seems like i should raise the question here instead of PM-ing
<br>
</div>

<div class='talk op-msg' data-timestamp='1512356760' id='584065'>
<a class='timestamp' href='#584065'><time timestamp='2017-12-04T03:06:00Z'>03:06</time></a>
&lt;<span class='nick nick-8'> xRavenheart</span>&gt;
Basically, im a final year student doing FYP and my project scope is to modify on an existing lightweight client by bringing in optimizations from other clients (full/lightweight).
<br>
</div>

<div class='talk op-msg' data-timestamp='1512356760' id='584066'>
<a class='timestamp' href='#584066'><time timestamp='2017-12-04T03:06:00Z'>03:06</time></a>
&lt;<span class='nick nick-14'> Randolf</span>&gt;
Dizzle:  Ah, yes.  I suggested that asking here may be appropriate since it might involve core development.  I also suggested that they ask in the #bitcoin and ##altcoins channel.
<br>
</div>

<div class='talk op-msg' data-timestamp='1512356760' id='584067'>
<a class='timestamp' href='#584067'><time timestamp='2017-12-04T03:06:00Z'>03:06</time></a>
&lt;<span class='nick nick-8'> xRavenheart</span>&gt;
This optimization may be in any form such as block headers download, transacting speed, retrieving of wallet addresses, etc etc.
<br>
</div>

<div class='talk op-msg' data-timestamp='1512356820' id='584068'>
<a class='timestamp' href='#584068'><time timestamp='2017-12-04T03:07:00Z'>03:07</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
xRavenheart: you&#x27;re welcome here to ask questions about bitcoin&#x27;s design and operation
<br>
</div>

<div class='talk op-msg' data-timestamp='1512356820' id='584069'>
<a class='timestamp' href='#584069'><time timestamp='2017-12-04T03:07:00Z'>03:07</time></a>
&lt;<span class='nick nick-8'> xRavenheart</span>&gt;
E.g. For instance Bitcoin Core has optimizations 1,2 and Electrum has optimizations 3,4
<br>
</div>

<div class='talk op-msg' data-timestamp='1512356820' id='584070'>
<a class='timestamp' href='#584070'><time timestamp='2017-12-04T03:07:00Z'>03:07</time></a>
&lt;<span class='nick nick-8'> xRavenheart</span>&gt;
I&#x27;m required to bring together these optimizations into one application
<br>
</div>

<div class='talk op-msg' data-timestamp='1512356820' id='584071'>
<a class='timestamp' href='#584071'><time timestamp='2017-12-04T03:07:00Z'>03:07</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
though as i told, most of that will not be applicable to other types of clients
<br>
</div>

<div class='talk op-msg' data-timestamp='1512356820' id='584072'>
<a class='timestamp' href='#584072'><time timestamp='2017-12-04T03:07:00Z'>03:07</time></a>
&lt;<span class='nick nick-8'> xRavenheart</span>&gt;
Is anyone able to first provide me with a clear architecture diagram of bitcoin?
<br>
</div>

<div class='talk op-msg' data-timestamp='1512356880' id='584073'>
<a class='timestamp' href='#584073'><time timestamp='2017-12-04T03:08:00Z'>03:08</time></a>
&lt;<span class='nick nick-8'> xRavenheart</span>&gt;
I&#x27;ve been trying to understand the system but it is way too broad and i have no clear idea of where to start
<br>
</div>

<div class='talk op-msg' data-timestamp='1512356880' id='584074'>
<a class='timestamp' href='#584074'><time timestamp='2017-12-04T03:08:00Z'>03:08</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ii don&#x27;t think that exists
<br>
</div>

<div class='talk op-msg' data-timestamp='1512365760' id='584075'>
<a class='timestamp' href='#584075'><time timestamp='2017-12-04T05:36:00Z'>05:36</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
is there any particular reason that Core is using 26 GB of RAM during a reindex?
<br>
</div>

<div class='talk op-msg' data-timestamp='1512365760' id='584076'>
<a class='timestamp' href='#584076'><time timestamp='2017-12-04T05:36:00Z'>05:36</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
(out of 32 available on my machine)
<br>
</div>

<div class='talk op-msg' data-timestamp='1512365820' id='584077'>
<a class='timestamp' href='#584077'><time timestamp='2017-12-04T05:37:00Z'>05:37</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sipa: ^
<br>
</div>

<div class='talk op-msg' data-timestamp='1512365820' id='584078'>
<a class='timestamp' href='#584078'><time timestamp='2017-12-04T05:37:00Z'>05:37</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
my dbcache is only set to 6000
<br>
</div>

<div class='talk op-msg' data-timestamp='1512365820' id='584079'>
<a class='timestamp' href='#584079'><time timestamp='2017-12-04T05:37:00Z'>05:37</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
achow101: master, right?
<br>
</div>

<div class='talk op-msg' data-timestamp='1512365820' id='584080'>
<a class='timestamp' href='#584080'><time timestamp='2017-12-04T05:37:00Z'>05:37</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
gmaxwell: yeah
<br>
</div>

<div class='talk op-msg' data-timestamp='1512365820' id='584081'>
<a class='timestamp' href='#584081'><time timestamp='2017-12-04T05:37:00Z'>05:37</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
achow101: sipa saw this on his odroid too, thought it was a bug in master, but I think he had some reproduction problems.
<br>
</div>

<div class='talk op-msg' data-timestamp='1512365820' id='584082'>
<a class='timestamp' href='#584082'><time timestamp='2017-12-04T05:37:00Z'>05:37</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
It may be a leak that depends on particular dependency versions.
<br>
</div>

<div class='talk op-msg' data-timestamp='1512365880' id='584083'>
<a class='timestamp' href='#584083'><time timestamp='2017-12-04T05:38:00Z'>05:38</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
I can consistently reproduce it by starting it, letting it go, and then waiting for my computer to freeze up.
<br>
</div>

<div class='talk op-msg' data-timestamp='1512365880' id='584084'>
<a class='timestamp' href='#584084'><time timestamp='2017-12-04T05:38:00Z'>05:38</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
then reboot and repeat :/
<br>
</div>

<div class='talk op-msg' data-timestamp='1512366060' id='584085'>
<a class='timestamp' href='#584085'><time timestamp='2017-12-04T05:41:00Z'>05:41</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
any chance you could run in valgrind, let it obviously bloat up a bit then issue a clean stop?  if it&#x27;s a true leak valgrind will report it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1512366120' id='584086'>
<a class='timestamp' href='#584086'><time timestamp='2017-12-04T05:42:00Z'>05:42</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
Yeah, I&#x27;ll do that once I reboot it again
<br>
</div>

<div class='talk op-msg' data-timestamp='1512366120' id='584087'>
<a class='timestamp' href='#584087'><time timestamp='2017-12-04T05:42:00Z'>05:42</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(I&#x27;d bet it&#x27;s not actually a true leak... we have far too little manual memory management for that to be likely... but worth checking)
<br>
</div>

<div class='talk op-msg' data-timestamp='1512366240' id='584088'>
<a class='timestamp' href='#584088'><time timestamp='2017-12-04T05:44:00Z'>05:44</time></a>
&lt;<span class='nick nick-14'> Randolf</span>&gt;
I could try running bitcoind to confirm memory usage too -- I&#x27;ve got bitcoind v0.15.1 on Windows 10 (64-bit) handy.
<br>
</div>

<div class='talk op-msg' data-timestamp='1512366240' id='584089'>
<a class='timestamp' href='#584089'><time timestamp='2017-12-04T05:44:00Z'>05:44</time></a>
&lt;<span class='nick nick-14'> Randolf</span>&gt;
Which command-line parameters are you using?
<br>
</div>

<div class='talk op-msg' data-timestamp='1512366240' id='584090'>
<a class='timestamp' href='#584090'><time timestamp='2017-12-04T05:44:00Z'>05:44</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
0.15.1 doesn&#x27;t exhibit this behavior in any testing we&#x27;ve seen so far.
<br>
</div>

<div class='talk op-msg' data-timestamp='1512366240' id='584091'>
<a class='timestamp' href='#584091'><time timestamp='2017-12-04T05:44:00Z'>05:44</time></a>
&lt;<span class='nick nick-14'> Randolf</span>&gt;
Oh.  Which version are you using?
<br>
</div>

<div class='talk op-msg' data-timestamp='1512366300' id='584092'>
<a class='timestamp' href='#584092'><time timestamp='2017-12-04T05:45:00Z'>05:45</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
git master... the current in-development stuff.
<br>
</div>

<div class='talk op-msg' data-timestamp='1512366300' id='584093'>
<a class='timestamp' href='#584093'><time timestamp='2017-12-04T05:45:00Z'>05:45</time></a>
&lt;<span class='nick nick-14'> Randolf</span>&gt;
Oh.  I see.
<br>
</div>

<div class='talk op-msg' data-timestamp='1512366300' id='584094'>
<a class='timestamp' href='#584094'><time timestamp='2017-12-04T05:45:00Z'>05:45</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
Some build of master from sometime in the last few days
<br>
</div>

<div class='talk op-msg' data-timestamp='1512366360' id='584095'>
<a class='timestamp' href='#584095'><time timestamp='2017-12-04T05:46:00Z'>05:46</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
This is fairly recent, I think it&#x27;s from yesterday or the day before
<br>
</div>

<div class='talk op-msg' data-timestamp='1512366360' id='584096'>
<a class='timestamp' href='#584096'><time timestamp='2017-12-04T05:46:00Z'>05:46</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
Although maybe I only noticed it now because I had to reindex
<br>
</div>

<div class='talk op-msg' data-timestamp='1512366360' id='584097'>
<a class='timestamp' href='#584097'><time timestamp='2017-12-04T05:46:00Z'>05:46</time></a>
&lt;<span class='nick nick-14'> Randolf</span>&gt;
Which OS are you running on?
<br>
</div>

<div class='talk op-msg' data-timestamp='1512366360' id='584098'>
<a class='timestamp' href='#584098'><time timestamp='2017-12-04T05:46:00Z'>05:46</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
Ubuntu 17.10
<br>
</div>

<div class='talk op-msg' data-timestamp='1512366420' id='584099'>
<a class='timestamp' href='#584099'><time timestamp='2017-12-04T05:47:00Z'>05:47</time></a>
&lt;<span class='nick nick-14'> Randolf</span>&gt;
Oh, I don&#x27;t have that available.  I have a NetBSD server I could run it on if you need an extra test run.
<br>
</div>

<div class='talk op-msg' data-timestamp='1512366480' id='584100'>
<a class='timestamp' href='#584100'><time timestamp='2017-12-04T05:48:00Z'>05:48</time></a>
&lt;<span class='nick nick-14'> Randolf</span>&gt;
I&#x27;d have to get sync&#x27;d though because I don&#x27;t have bitcoind running there now.  Maybe I should see if I can get it going and get the sync started for now.
<br>
</div>

<div class='talk op-msg' data-timestamp='1512366600' id='584101'>
<a class='timestamp' href='#584101'><time timestamp='2017-12-04T05:50:00Z'>05:50</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
also, i&#x27;m running bitcoin-qt right now, not bitcoind
<br>
</div>

<div class='talk op-msg' data-timestamp='1512367020' id='584102'>
<a class='timestamp' href='#584102'><time timestamp='2017-12-04T05:57:00Z'>05:57</time></a>
&lt;<span class='nick nick-14'> Randolf</span>&gt;
These servers don&#x27;t have any GUI stuff installed.  So I won&#x27;t be able to try bitcoin-qt on them.  But I could at least try bitcoin-qt on Windows 10 to confirm whether the same problem occurs cross-platform.
<br>
</div>

<div class='talk op-msg' data-timestamp='1512367380' id='584103'>
<a class='timestamp' href='#584103'><time timestamp='2017-12-04T06:03:00Z'>06:03</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
btw I&#x27;m using commit 00d25e90db06149fa456b0a8f15b7b68005ff9c5 which is the current head of master
<br>
</div>

<div class='talk op-msg' data-timestamp='1512367740' id='584104'>
<a class='timestamp' href='#584104'><time timestamp='2017-12-04T06:09:00Z'>06:09</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
gmaxwell, sipa: when did you observe this issue on the odroid?
<br>
</div>

<div class='talk op-msg' data-timestamp='1512368220' id='584105'>
<a class='timestamp' href='#584105'><time timestamp='2017-12-04T06:17:00Z'>06:17</time></a>
&lt;<span class='nick nick-14'> Randolf</span>&gt;
Hmm, I&#x27;m running into problems getting bitcoind compiled on NetBSD, but I&#x27;ve had problems getting other things to compile due to a learning curve on my part so I&#x27;ll have to work on this.  In the meantime, I&#x27;ll look into commit 00d25e90db06149fa456b0a8f15b7b68005ff9c5 (as I continue to learn more
<br>
</div>

<div class='talk op-msg' data-timestamp='1512368340' id='584106'>
<a class='timestamp' href='#584106'><time timestamp='2017-12-04T06:19:00Z'>06:19</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
it might be useful to walk back through the commit history testing each merge until we get to one that doesn&#x27;t exhibit the leak. that would then tell us what commit introduced the problem, in theory.
<br>
</div>

<div class='talk op-msg' data-timestamp='1512368340' id='584107'>
<a class='timestamp' href='#584107'><time timestamp='2017-12-04T06:19:00Z'>06:19</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
although that will be very tedious to do
<br>
</div>

<div class='talk op-msg' data-timestamp='1512368340' id='584108'>
<a class='timestamp' href='#584108'><time timestamp='2017-12-04T06:19:00Z'>06:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
achow101: i have a difficult time reproducing it; i just saw it twice
<br>
</div>

<div class='talk op-msg' data-timestamp='1512368340' id='584109'>
<a class='timestamp' href='#584109'><time timestamp='2017-12-04T06:19:00Z'>06:19</time></a>
&lt;<span class='nick nick-14'> Randolf</span>&gt;
about GitHub) to see if there&#x27;s something in there that I can test out on Windows.
<br>
</div>

<div class='talk op-msg' data-timestamp='1512368340' id='584110'>
<a class='timestamp' href='#584110'><time timestamp='2017-12-04T06:19:00Z'>06:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it would be asome if you can bisect
<br>
</div>

<div class='talk op-msg' data-timestamp='1512368400' id='584111'>
<a class='timestamp' href='#584111'><time timestamp='2017-12-04T06:20:00Z'>06:20</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
sipa: I&#x27;m going to try that once I finish this valgrind test
<br>
</div>

<div class='talk op-msg' data-timestamp='1512368400' id='584112'>
<a class='timestamp' href='#584112'><time timestamp='2017-12-04T06:20:00Z'>06:20</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
great
<br>
</div>

<div class='talk op-msg' data-timestamp='1512368400' id='584113'>
<a class='timestamp' href='#584113'><time timestamp='2017-12-04T06:20:00Z'>06:20</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
but because it&#x27;s valgrind, it&#x27;s going slowly
<br>
</div>

<div class='talk op-msg' data-timestamp='1512368400' id='584114'>
<a class='timestamp' href='#584114'><time timestamp='2017-12-04T06:20:00Z'>06:20</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i do know 0.15.1 is unaffected
<br>
</div>

<div class='talk op-msg' data-timestamp='1512368460' id='584115'>
<a class='timestamp' href='#584115'><time timestamp='2017-12-04T06:21:00Z'>06:21</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
will bisect work with 0.15.1 even though it is not part of master&#x27;s commit history
<br>
</div>

<div class='talk op-msg' data-timestamp='1512368520' id='584116'>
<a class='timestamp' href='#584116'><time timestamp='2017-12-04T06:22:00Z'>06:22</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
if not, you can always use the last common forking point between master and 0.15.1 is goof
<br>
</div>

<div class='talk op-msg' data-timestamp='1512368520' id='584117'>
<a class='timestamp' href='#584117'><time timestamp='2017-12-04T06:22:00Z'>06:22</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
indeed
<br>
</div>

<div class='talk op-msg' data-timestamp='1512368580' id='584118'>
<a class='timestamp' href='#584118'><time timestamp='2017-12-04T06:23:00Z'>06:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
*good, not goof
<br>
</div>

<div class='talk op-msg' data-timestamp='1512369480' id='584119'>
<a class='timestamp' href='#584119'><time timestamp='2017-12-04T06:38:00Z'>06:38</time></a>
&lt;<span class='nick nick-6'> Varunram</span>&gt;
achow101: If you set the dbcache in the GUI, you might be affected by this: #11788
<br>
</div>

<div class='talk op-msg' data-timestamp='1512369480' id='584120'>
<a class='timestamp' href='#584120'><time timestamp='2017-12-04T06:38:00Z'>06:38</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/11788" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/11788</a> | Bitcoin-Qt (Settings) reports incorrect &quot;Size of database cache&quot; · Issue #11788 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1512369480' id='584121'>
<a class='timestamp' href='#584121'><time timestamp='2017-12-04T06:38:00Z'>06:38</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
Varunram: bitcoin.conf, not gui
<br>
</div>

<div class='talk op-msg' data-timestamp='1512369480' id='584122'>
<a class='timestamp' href='#584122'><time timestamp='2017-12-04T06:38:00Z'>06:38</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
I don&#x27;t use the gui for any settings at all
<br>
</div>

<div class='talk op-msg' data-timestamp='1512369540' id='584123'>
<a class='timestamp' href='#584123'><time timestamp='2017-12-04T06:39:00Z'>06:39</time></a>
&lt;<span class='nick nick-6'> Varunram</span>&gt;
phew, along those messages, I read somewhere you were running qt, so..
<br>
</div>

<div class='talk op-msg' data-timestamp='1512369540' id='584124'>
<a class='timestamp' href='#584124'><time timestamp='2017-12-04T06:39:00Z'>06:39</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
I do run qt for testing things, and I noticed this issue while running qt
<br>
</div>

<div class='talk op-msg' data-timestamp='1512369600' id='584125'>
<a class='timestamp' href='#584125'><time timestamp='2017-12-04T06:40:00Z'>06:40</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that&#x27;s very unlikely to be related
<br>
</div>

<div class='talk op-msg' data-timestamp='1512369600' id='584126'>
<a class='timestamp' href='#584126'><time timestamp='2017-12-04T06:40:00Z'>06:40</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
but I&#x27;m just running bitcoind in valgrind right now
<br>
</div>

<div class='talk op-msg' data-timestamp='1512369600' id='584127'>
<a class='timestamp' href='#584127'><time timestamp='2017-12-04T06:40:00Z'>06:40</time></a>
&lt;<span class='nick nick-6'> Varunram</span>&gt;
yep, mostly not :) just wondered
<br>
</div>

<div class='talk op-msg' data-timestamp='1512370860' id='584128'>
<a class='timestamp' href='#584128'><time timestamp='2017-12-04T07:01:00Z'>07:01</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
damn valgrind is slow
<br>
</div>

<div class='talk op-msg' data-timestamp='1512370980' id='584129'>
<a class='timestamp' href='#584129'><time timestamp='2017-12-04T07:03:00Z'>07:03</time></a>
&lt;<span class='nick nick-14'> eck</span>&gt;
should be about 10x slower
<br>
</div>

<div class='talk op-msg' data-timestamp='1512370980' id='584130'>
<a class='timestamp' href='#584130'><time timestamp='2017-12-04T07:03:00Z'>07:03</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
much worse for cryptographic code
<br>
</div>

<div class='talk op-msg' data-timestamp='1512371040' id='584131'>
<a class='timestamp' href='#584131'><time timestamp='2017-12-04T07:04:00Z'>07:04</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
It&#x27;s still in the rescanning part of init
<br>
</div>

<div class='talk op-msg' data-timestamp='1512371040' id='584132'>
<a class='timestamp' href='#584132'><time timestamp='2017-12-04T07:04:00Z'>07:04</time></a>
&lt;<span class='nick nick-14'> eck</span>&gt;
the actual numbers depend on how many memory accesses you are doing, all of the instructions that hit main memory are &quot;emulated&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1512371040' id='584133'>
<a class='timestamp' href='#584133'><time timestamp='2017-12-04T07:04:00Z'>07:04</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
all instructions are emulated
<br>
</div>

<div class='talk op-msg' data-timestamp='1512371100' id='584134'>
<a class='timestamp' href='#584134'><time timestamp='2017-12-04T07:05:00Z'>07:05</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it&#x27;s not like it&#x27;s running in a VM
<br>
</div>

<div class='talk op-msg' data-timestamp='1512371100' id='584135'>
<a class='timestamp' href='#584135'><time timestamp='2017-12-04T07:05:00Z'>07:05</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but memory access get additional instrumentation
<br>
</div>

<div class='talk op-msg' data-timestamp='1512371160' id='584136'>
<a class='timestamp' href='#584136'><time timestamp='2017-12-04T07:06:00Z'>07:06</time></a>
&lt;<span class='nick nick-14'> eck</span>&gt;
i thought it worked by rewriting all of the instructions that access main memory, and then sort of fusing the non-memory instructions, i read julian seward&#x27;s paper on it a long time ago
<br>
</div>

<div class='talk op-msg' data-timestamp='1512371160' id='584137'>
<a class='timestamp' href='#584137'><time timestamp='2017-12-04T07:06:00Z'>07:06</time></a>
&lt;<span class='nick nick-14'> eck</span>&gt;
but i certainly could be wrong
<br>
</div>

<div class='talk op-msg' data-timestamp='1512371160' id='584138'>
<a class='timestamp' href='#584138'><time timestamp='2017-12-04T07:06:00Z'>07:06</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
hmm, so could i
<br>
</div>

<div class='talk op-msg' data-timestamp='1512371280' id='584139'>
<a class='timestamp' href='#584139'><time timestamp='2017-12-04T07:08:00Z'>07:08</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i didn&#x27;t know it was that advanced, actually but it certainly could be
<br>
</div>

<div class='talk op-msg' data-timestamp='1512371580' id='584140'>
<a class='timestamp' href='#584140'><time timestamp='2017-12-04T07:13:00Z'>07:13</time></a>
&lt;<span class='nick nick-14'> eck</span>&gt;
in some cases it has to emulate cpu registers, in other cases the emulated cpu register may be the actual host cpu registers, section 3.4 <a href="http://www.valgrind.org/docs/valgrind2007.pdf" class="link" target="_blank">http://www.valgrind.org/docs/valgrind2007.pdf</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1512371640' id='584141'>
<a class='timestamp' href='#584141'><time timestamp='2017-12-04T07:14:00Z'>07:14</time></a>
&lt;<span class='nick nick-14'> eck</span>&gt;
clearly if the registers need to be emulated the overhead will be quite high
<br>
</div>

<div class='talk op-msg' data-timestamp='1512373680' id='584142'>
<a class='timestamp' href='#584142'><time timestamp='2017-12-04T07:48:00Z'>07:48</time></a>
&lt;<span class='nick nick-14'> Randolf</span>&gt;
Well, I was unsuccessful at getting bitcoind to compile on NetBSD because of problems with Berkeley DB API function naming, and Boost incompatibility problems.  I&#x27;ll have to try again when get some more time (and I will try again).
<br>
</div>

<div class='talk op-msg' data-timestamp='1512374820' id='584143'>
<a class='timestamp' href='#584143'><time timestamp='2017-12-04T08:07:00Z'>08:07</time></a>
&lt;<span class='nick nick-14'> eck</span>&gt;
fyi if you run configure with --disable-wallet you don&#x27;t need berkeleydb, which would just leave you to figure out boost
<br>
</div>

<div class='talk op-msg' data-timestamp='1512375480' id='584144'>
<a class='timestamp' href='#584144'><time timestamp='2017-12-04T08:18:00Z'>08:18</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
I gave up on valgrind. It was doing the rescanning thing and moving at one percent per hour. I&#x27;m going to do the git bisect stuff tomorrow
<br>
</div>

<div class='talk op-msg' data-timestamp='1512376020' id='584145'>
<a class='timestamp' href='#584145'><time timestamp='2017-12-04T08:27:00Z'>08:27</time></a>
&lt;<span class='nick nick-14'> eck</span>&gt;
were you using massif or memcheck?
<br>
</div>

<div class='talk op-msg' data-timestamp='1512376020' id='584146'>
<a class='timestamp' href='#584146'><time timestamp='2017-12-04T08:27:00Z'>08:27</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
memcheck
<br>
</div>

<div class='talk op-msg' data-timestamp='1512376020' id='584147'>
<a class='timestamp' href='#584147'><time timestamp='2017-12-04T08:27:00Z'>08:27</time></a>
&lt;<span class='nick nick-14'> eck</span>&gt;
massif will just straight up tell you at any given point of time, where all the allocations came from
<br>
</div>

<div class='talk op-msg' data-timestamp='1512376080' id='584148'>
<a class='timestamp' href='#584148'><time timestamp='2017-12-04T08:28:00Z'>08:28</time></a>
&lt;<span class='nick nick-14'> eck</span>&gt;
which is useful if you can&#x27;t wait for the program to run to completion
<br>
</div>

<div class='talk op-msg' data-timestamp='1512376080' id='584149'>
<a class='timestamp' href='#584149'><time timestamp='2017-12-04T08:28:00Z'>08:28</time></a>
&lt;<span class='nick nick-14'> eck</span>&gt;
iirc it&#x27;s even slower than memcheck though
<br>
</div>

<div class='talk op-msg' data-timestamp='1512376080' id='584150'>
<a class='timestamp' href='#584150'><time timestamp='2017-12-04T08:28:00Z'>08:28</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
the problem was that it wasn&#x27;t getting passed the init part. the leak is definitely coming from somwehere past the init part
<br>
</div>

<div class='talk op-msg' data-timestamp='1512376200' id='584151'>
<a class='timestamp' href='#584151'><time timestamp='2017-12-04T08:30:00Z'>08:30</time></a>
&lt;<span class='nick nick-14'> eck</span>&gt;
i have heard that ASAN is faster than valgrind but i haven&#x27;t used it
<br>
</div>

<div class='talk op-msg' data-timestamp='1512376200' id='584152'>
<a class='timestamp' href='#584152'><time timestamp='2017-12-04T08:30:00Z'>08:30</time></a>
&lt;<span class='nick nick-14'> eck</span>&gt;
<a href="http://www.chromium.org/developers/testing/addresssanitizer" class="link" target="_blank">http://www.chromium.org/developers/testing/addresssanitizer</a> <a href="http://www.chromium.org/developers/testing/leaksanitizer" class="link" target="_blank">http://www.chromium.org/developers/testing/leaksanitizer</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1512376200' id='584153'>
<a class='timestamp' href='#584153'><time timestamp='2017-12-04T08:30:00Z'>08:30</time></a>
&lt;<span class='nick nick-14'> eck</span>&gt;
it&#x27;s built into vlang
<br>
</div>

<div class='talk op-msg' data-timestamp='1512376200' id='584154'>
<a class='timestamp' href='#584154'><time timestamp='2017-12-04T08:30:00Z'>08:30</time></a>
&lt;<span class='nick nick-14'> eck</span>&gt;
*clang
<br>
</div>

<div class='talk op-msg' data-timestamp='1512376260' id='584155'>
<a class='timestamp' href='#584155'><time timestamp='2017-12-04T08:31:00Z'>08:31</time></a>
&lt;<span class='nick nick-14'> eck</span>&gt;
this is for a rescan?
<br>
</div>

<div class='talk op-msg' data-timestamp='1512376320' id='584156'>
<a class='timestamp' href='#584156'><time timestamp='2017-12-04T08:32:00Z'>08:32</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
reindex
<br>
</div>

<div class='talk op-msg' data-timestamp='1512376380' id='584157'>
<a class='timestamp' href='#584157'><time timestamp='2017-12-04T08:33:00Z'>08:33</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
the rescan I think is part of the reindex because the reindex was killed before it flushed
<br>
</div>

<div class='talk op-msg' data-timestamp='1512376500' id='584158'>
<a class='timestamp' href='#584158'><time timestamp='2017-12-04T08:35:00Z'>08:35</time></a>
&lt;<span class='nick nick-14'> eck</span>&gt;
i might take a look at that this week (if i can reproduce it), i was interested in generally profiling bitocind -reindex using systemtap
<br>
</div>

<div class='talk op-msg' data-timestamp='1512376620' id='584159'>
<a class='timestamp' href='#584159'><time timestamp='2017-12-04T08:37:00Z'>08:37</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
made an issue for this #11822
<br>
</div>

<div class='talk op-msg' data-timestamp='1512376620' id='584160'>
<a class='timestamp' href='#584160'><time timestamp='2017-12-04T08:37:00Z'>08:37</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/11822" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/11822</a> | Severe memory leak on current master · Issue #11822 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1512377940' id='584161'>
<a class='timestamp' href='#584161'><time timestamp='2017-12-04T08:59:00Z'>08:59</time></a>
&lt;<span class='nick nick-14'> Randolf</span>&gt;
eck:  Thanks.  There&#x27;s an incompatibility because I have the wrong version of Boost.
<br>
</div>

<div class='talk op-msg' data-timestamp='1512378000' id='584162'>
<a class='timestamp' href='#584162'><time timestamp='2017-12-04T09:00:00Z'>09:00</time></a>
&lt;<span class='nick nick-14'> eck</span>&gt;
it is pretty straightforward to build, if you have the patience
<br>
</div>

<div class='talk op-msg' data-timestamp='1512378060' id='584163'>
<a class='timestamp' href='#584163'><time timestamp='2017-12-04T09:01:00Z'>09:01</time></a>
&lt;<span class='nick nick-14'> Randolf</span>&gt;
eck:  I have plenty of patience, but my problem is meeting other deadlines at the moment so I&#x27;ve put this on hold for now.  I also need to learn more about compiling.
<br>
</div>

<div class='talk op-msg' data-timestamp='1512379020' id='584164'>
<a class='timestamp' href='#584164'><time timestamp='2017-12-04T09:17:00Z'>09:17</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
I fairly quick and rather unscientific git bisect says that e545dedf72bff2bd41c93c93eb576929fce37112 is the commit that introduces the problem.
<br>
</div>

<div class='talk op-msg' data-timestamp='1512379020' id='584165'>
<a class='timestamp' href='#584165'><time timestamp='2017-12-04T09:17:00Z'>09:17</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
so if you want to investigate, that commit and commits in its vicinity should be looked at. But I need to sleep, so I&#x27;ll look at it tomorrow.
<br>
</div>

<div class='talk op-msg' data-timestamp='1512387120' id='584166'>
<a class='timestamp' href='#584166'><time timestamp='2017-12-04T11:32:00Z'>11:32</time></a>
&lt;<span class='nick nick-10'> mmhhtt</span>&gt;
Hello, Is there anyone knows to how can build a exchange market for other country? Is there any request from bitcoin company to me for making exc market?
<br>
</div>

<div class='talk op-msg' data-timestamp='1512387180' id='584167'>
<a class='timestamp' href='#584167'><time timestamp='2017-12-04T11:33:00Z'>11:33</time></a>
&lt;<span class='nick nick-10'> mmhhtt</span>&gt;
also how can work payment for buy/sell btc for other country local money?
<br>
</div>

<div class='talk op-msg' data-timestamp='1512389580' id='584168'>
<a class='timestamp' href='#584168'><time timestamp='2017-12-04T12:13:00Z'>12:13</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
achow101: that&#x27;s what i feared...
<br>
</div>

<div class='talk op-msg' data-timestamp='1512393060' id='584169'>
<a class='timestamp' href='#584169'><time timestamp='2017-12-04T13:11:00Z'>13:11</time></a>
&lt;<span class='nick nick-8'> RK_</span>&gt;
Hello
<br>
</div>

<div class='talk op-msg' data-timestamp='1512393060' id='584170'>
<a class='timestamp' href='#584170'><time timestamp='2017-12-04T13:11:00Z'>13:11</time></a>
&lt;<span class='nick nick-8'> RK_</span>&gt;
I want to know about bitcoin 
<br>
</div>

<div class='talk op-msg' data-timestamp='1512394080' id='584171'>
<a class='timestamp' href='#584171'><time timestamp='2017-12-04T13:28:00Z'>13:28</time></a>
&lt;<span class='nick nick-10'> mmhhtt</span>&gt;
#bitcoin-core-dev
<br>
</div>

<div class='talk op-msg' data-timestamp='1512394080' id='584172'>
<a class='timestamp' href='#584172'><time timestamp='2017-12-04T13:28:00Z'>13:28</time></a>
&lt;<span class='nick nick-10'> mmhhtt</span>&gt;
hello
<br>
</div>

<div class='talk op-msg' data-timestamp='1512394080' id='584173'>
<a class='timestamp' href='#584173'><time timestamp='2017-12-04T13:28:00Z'>13:28</time></a>
&lt;<span class='nick nick-10'> mmhhtt</span>&gt;
Is there any one?
<br>
</div>

<div class='talk op-msg' data-timestamp='1512396960' id='584174'>
<a class='timestamp' href='#584174'><time timestamp='2017-12-04T14:16:00Z'>14:16</time></a>
&lt;<span class='nick nick-1'> notabot_</span>&gt;
mmhhtt: try #bitcoin channel or reddit
<br>
</div>

<div class='talk op-msg' data-timestamp='1512397020' id='584175'>
<a class='timestamp' href='#584175'><time timestamp='2017-12-04T14:17:00Z'>14:17</time></a>
&lt;<span class='nick nick-1'> notabot_</span>&gt;
RK_: bitcoin.org is the best place to start.
<br>
</div>

<div class='talk op-msg' data-timestamp='1512403440' id='584176'>
<a class='timestamp' href='#584176'><time timestamp='2017-12-04T16:04:00Z'>16:04</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
sipa: #11403 looks to have failed travis to to a bad iterator deref ( <a href="https://travis-ci.org/bitcoin/bitcoin/jobs/309801879#L2838" class="link" target="_blank">https://travis-ci.org/bitcoin/bitcoin/jobs/309801879#L2838</a> )
<br>
</div>

<div class='talk op-msg' data-timestamp='1512403440' id='584177'>
<a class='timestamp' href='#584177'><time timestamp='2017-12-04T16:04:00Z'>16:04</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/11403" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/11403</a> | SegWit wallet support by sipa · Pull Request #11403 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1512411960' id='584178'>
<a class='timestamp' href='#584178'><time timestamp='2017-12-04T18:26:00Z'>18:26</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
wumpus: I believe #10773 can be merge
<br>
</div>

<div class='talk op-msg' data-timestamp='1512411960' id='584179'>
<a class='timestamp' href='#584179'><time timestamp='2017-12-04T18:26:00Z'>18:26</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
d     
<br>
</div>

<div class='talk op-msg' data-timestamp='1512412020' id='584180'>
<a class='timestamp' href='#584180'><time timestamp='2017-12-04T18:27:00Z'>18:27</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/10773" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/10773</a> | Shell script cleanups by practicalswift · Pull Request #10773 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1512413220' id='584181'>
<a class='timestamp' href='#584181'><time timestamp='2017-12-04T18:47:00Z'>18:47</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
achow101: ping
<br>
</div>

<div class='talk op-msg' data-timestamp='1512413220' id='584182'>
<a class='timestamp' href='#584182'><time timestamp='2017-12-04T18:47:00Z'>18:47</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
can you reliably reproduce #11822 ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1512413220' id='584183'>
<a class='timestamp' href='#584183'><time timestamp='2017-12-04T18:47:00Z'>18:47</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/11822" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/11822</a> | Severe memory leak on current master · Issue #11822 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1512413220' id='584184'>
<a class='timestamp' href='#584184'><time timestamp='2017-12-04T18:47:00Z'>18:47</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
BlueMatt: pong-ish
<br>
</div>

<div class='talk op-msg' data-timestamp='1512413220' id='584185'>
<a class='timestamp' href='#584185'><time timestamp='2017-12-04T18:47:00Z'>18:47</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
yes     
<br>
</div>

<div class='talk op-msg' data-timestamp='1512413280' id='584186'>
<a class='timestamp' href='#584186'><time timestamp='2017-12-04T18:48:00Z'>18:48</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
I&#x27;m trying it in valgrind again, it&#x27;s still going very slowly
<br>
</div>

<div class='talk op-msg' data-timestamp='1512413400' id='584187'>
<a class='timestamp' href='#584187'><time timestamp='2017-12-04T18:50:00Z'>18:50</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
sec, I doubt its actually a leak, maybe just validation running ahead of wallet
<br>
</div>

<div class='talk op-msg' data-timestamp='1512413400' id='584188'>
<a class='timestamp' href='#584188'><time timestamp='2017-12-04T18:50:00Z'>18:50</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
do you have a big(ish) wallet?
<br>
</div>

<div class='talk op-msg' data-timestamp='1512413460' id='584189'>
<a class='timestamp' href='#584189'><time timestamp='2017-12-04T18:51:00Z'>18:51</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
achow101: can you try <a href="https://github.com/TheBlueMatt/bitcoin/tree/2017-12-11822-debug" class="link" target="_blank">https://github.com/TheBlueMatt/bitcoin/tree/2017-12-11822-debug</a> and see what debug log looks like?
<br>
</div>

<div class='talk op-msg' data-timestamp='1512413460' id='584190'>
<a class='timestamp' href='#584190'><time timestamp='2017-12-04T18:51:00Z'>18:51</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
do you get a ton of events generated and then not executed?
<br>
</div>

<div class='talk op-msg' data-timestamp='1512413460' id='584191'>
<a class='timestamp' href='#584191'><time timestamp='2017-12-04T18:51:00Z'>18:51</time></a>
&lt;<span class='nick nick-16'> * BlueMatt</span>&gt;
didnt think this bug was realistically worse than previous master, but it may be, wasnt sure...
<br>
</div>

<div class='talk op-msg' data-timestamp='1512414120' id='584192'>
<a class='timestamp' href='#584192'><time timestamp='2017-12-04T19:02:00Z'>19:02</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
BlueMatt: the wallet is literally empty
<br>
</div>

<div class='talk op-msg' data-timestamp='1512414120' id='584193'>
<a class='timestamp' href='#584193'><time timestamp='2017-12-04T19:02:00Z'>19:02</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
I haven&#x27;t used it; it&#x27;s completely fresh
<br>
</div>

<div class='talk op-msg' data-timestamp='1512414120' id='584194'>
<a class='timestamp' href='#584194'><time timestamp='2017-12-04T19:02:00Z'>19:02</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
but it has a wallet?
<br>
</div>

<div class='talk op-msg' data-timestamp='1512414180' id='584195'>
<a class='timestamp' href='#584195'><time timestamp='2017-12-04T19:03:00Z'>19:03</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
yes     
<br>
</div>

<div class='talk op-msg' data-timestamp='1512414180' id='584196'>
<a class='timestamp' href='#584196'><time timestamp='2017-12-04T19:03:00Z'>19:03</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
can you test with that patch? may be a lock issue or so
<br>
</div>

<div class='talk op-msg' data-timestamp='1512414180' id='584197'>
<a class='timestamp' href='#584197'><time timestamp='2017-12-04T19:03:00Z'>19:03</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
I&#x27;ll try as soon as it responds to the stop command
<br>
</div>

<div class='talk op-msg' data-timestamp='1512414360' id='584198'>
<a class='timestamp' href='#584198'><time timestamp='2017-12-04T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-2'> GAit</span>&gt;
am I correct if I say that the rpc doesn&#x27;t support socket file?
<br>
</div>

<div class='talk op-msg' data-timestamp='1512414360' id='584199'>
<a class='timestamp' href='#584199'><time timestamp='2017-12-04T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
GAit: what rpc?
<br>
</div>

<div class='talk op-msg' data-timestamp='1512414420' id='584200'>
<a class='timestamp' href='#584200'><time timestamp='2017-12-04T19:07:00Z'>19:07</time></a>
&lt;<span class='nick nick-2'> GAit</span>&gt;
bitcoin core rpc. Using a socket file rather than a port
<br>
</div>

<div class='talk op-msg' data-timestamp='1512414420' id='584201'>
<a class='timestamp' href='#584201'><time timestamp='2017-12-04T19:07:00Z'>19:07</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
GAit: as in unix sockets?
<br>
</div>

<div class='talk op-msg' data-timestamp='1512414420' id='584202'>
<a class='timestamp' href='#584202'><time timestamp='2017-12-04T19:07:00Z'>19:07</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
iirc there was a PR for that, but it needed a new version of libevent at the time
<br>
</div>

<div class='talk op-msg' data-timestamp='1512414420' id='584203'>
<a class='timestamp' href='#584203'><time timestamp='2017-12-04T19:07:00Z'>19:07</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
it does not (currently), I believe wumpus had some stuff to get it to work, but ...yea, libevent
<br>
</div>

<div class='talk op-msg' data-timestamp='1512414480' id='584204'>
<a class='timestamp' href='#584204'><time timestamp='2017-12-04T19:08:00Z'>19:08</time></a>
&lt;<span class='nick nick-2'> GAit</span>&gt;
yes. Thinking because of Abcore. Other apps  could connect to it. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1512414480' id='584205'>
<a class='timestamp' href='#584205'><time timestamp='2017-12-04T19:08:00Z'>19:08</time></a>
&lt;<span class='nick nick-2'> GAit</span>&gt;
with a socket file i can prevent that. android app have a different user per app
<br>
</div>

<div class='talk op-msg' data-timestamp='1512414480' id='584206'>
<a class='timestamp' href='#584206'><time timestamp='2017-12-04T19:08:00Z'>19:08</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
#9979
<br>
</div>

<div class='talk op-msg' data-timestamp='1512414480' id='584207'>
<a class='timestamp' href='#584207'><time timestamp='2017-12-04T19:08:00Z'>19:08</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/9979" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/9979</a> | p2p: Bare minimum to support UNIX sockets by laanwj · Pull Request #9979 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1512414480' id='584208'>
<a class='timestamp' href='#584208'><time timestamp='2017-12-04T19:08:00Z'>19:08</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
and #9919
<br>
</div>

<div class='talk op-msg' data-timestamp='1512414480' id='584209'>
<a class='timestamp' href='#584209'><time timestamp='2017-12-04T19:08:00Z'>19:08</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/9919" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/9919</a> | UNIX sockets support for RPC by laanwj · Pull Request #9919 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1512414480' id='584210'>
<a class='timestamp' href='#584210'><time timestamp='2017-12-04T19:08:00Z'>19:08</time></a>
&lt;<span class='nick nick-2'> GAit</span>&gt;
I managed to compile core for android with ndk by the way, which means i don&#x27;t need the glibc hack + ld library path with archlinux/debian glibc
<br>
</div>

<div class='talk op-msg' data-timestamp='1512414540' id='584211'>
<a class='timestamp' href='#584211'><time timestamp='2017-12-04T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-2'> GAit</span>&gt;
thanks sipa &amp; achow101 
<br>
</div>

<div class='talk op-msg' data-timestamp='1512414720' id='584212'>
<a class='timestamp' href='#584212'><time timestamp='2017-12-04T19:12:00Z'>19:12</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
GAit: cool!
<br>
</div>

<div class='talk op-msg' data-timestamp='1512415740' id='584213'>
<a class='timestamp' href='#584213'><time timestamp='2017-12-04T19:29:00Z'>19:29</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
BlueMatt: running your patch now. what exactly do you want?
<br>
</div>

<div class='talk op-msg' data-timestamp='1512415800' id='584214'>
<a class='timestamp' href='#584214'><time timestamp='2017-12-04T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
achow101: looking for a pattern of debug.log entries like a bunch of &quot;X event queued!&quot; but not (enough) corresponding &quot;X event executing...&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1512415800' id='584215'>
<a class='timestamp' href='#584215'><time timestamp='2017-12-04T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
s     
<br>
</div>

<div class='talk op-msg' data-timestamp='1512415860' id='584216'>
<a class='timestamp' href='#584216'><time timestamp='2017-12-04T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
(or just paste debug log
<br>
</div>

<div class='talk op-msg' data-timestamp='1512415860' id='584217'>
<a class='timestamp' href='#584217'><time timestamp='2017-12-04T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
eyballing this debug.log tail looks like each one is properly paired
<br>
</div>

<div class='talk op-msg' data-timestamp='1512415860' id='584218'>
<a class='timestamp' href='#584218'><time timestamp='2017-12-04T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
hmmm, ok, so not the issue i assumed :(
<br>
</div>

<div class='talk op-msg' data-timestamp='1512415920' id='584219'>
<a class='timestamp' href='#584219'><time timestamp='2017-12-04T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
but the memory is growing?
<br>
</div>

<div class='talk op-msg' data-timestamp='1512415920' id='584220'>
<a class='timestamp' href='#584220'><time timestamp='2017-12-04T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
yes     
<br>
</div>

<div class='talk op-msg' data-timestamp='1512415920' id='584221'>
<a class='timestamp' href='#584221'><time timestamp='2017-12-04T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
hmmmm
<br>
</div>

<div class='talk op-msg' data-timestamp='1512415920' id='584222'>
<a class='timestamp' href='#584222'><time timestamp='2017-12-04T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
not as quickly as yesterday since I dropped the dbcache, but growing much faster than it did with 0.15.1
<br>
</div>

<div class='talk op-msg' data-timestamp='1512415920' id='584223'>
<a class='timestamp' href='#584223'><time timestamp='2017-12-04T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
ok, then its news to me, have you checked a heap profile?
<br>
</div>

<div class='talk op-msg' data-timestamp='1512415920' id='584224'>
<a class='timestamp' href='#584224'><time timestamp='2017-12-04T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
no     
<br>
</div>

<div class='talk op-msg' data-timestamp='1512415980' id='584225'>
<a class='timestamp' href='#584225'><time timestamp='2017-12-04T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
well i guess thats next? (did valgrind give you any actual leaks?)
<br>
</div>

<div class='talk op-msg' data-timestamp='1512415980' id='584226'>
<a class='timestamp' href='#584226'><time timestamp='2017-12-04T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
i assuming circular shared_ptr refs
<br>
</div>

<div class='talk op-msg' data-timestamp='1512416160' id='584227'>
<a class='timestamp' href='#584227'><time timestamp='2017-12-04T19:36:00Z'>19:36</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
valgrind... died
<br>
</div>

<div class='talk op-msg' data-timestamp='1512416160' id='584228'>
<a class='timestamp' href='#584228'><time timestamp='2017-12-04T19:36:00Z'>19:36</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
(I killed it)
<br>
</div>

<div class='talk op-msg' data-timestamp='1512416220' id='584229'>
<a class='timestamp' href='#584229'><time timestamp='2017-12-04T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
ah :/
<br>
</div>

<div class='talk op-msg' data-timestamp='1512416280' id='584230'>
<a class='timestamp' href='#584230'><time timestamp='2017-12-04T19:38:00Z'>19:38</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
but while it was running it did not output anything
<br>
</div>

<div class='talk op-msg' data-timestamp='1512416340' id='584231'>
<a class='timestamp' href='#584231'><time timestamp='2017-12-04T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
I&#x27;ll try it again and be more patient this time
<br>
</div>

<div class='talk op-msg' data-timestamp='1512417060' id='584232'>
<a class='timestamp' href='#584232'><time timestamp='2017-12-04T19:51:00Z'>19:51</time></a>
&lt;<span class='nick nick-12'> ryanofsky</span>&gt;
it&#x27;s pretty use address sanitizer too. just: &quot;./configure CXX=clang++ CXXFLAGS=-fsanitize=address LDFLAGS=-fsanitize=address&quot; and run normally. it prints leaks at the end
<br>
</div>

<div class='talk op-msg' data-timestamp='1512417240' id='584233'>
<a class='timestamp' href='#584233'><time timestamp='2017-12-04T19:54:00Z'>19:54</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
ugh, fuck you cfields, you sent me down a rabbit hole to replace cvBlockChanged with CValidationInterface, but I think I decided that has to wait on replacing the signals backend with our own thing
<br>
</div>

<div class='talk op-msg' data-timestamp='1512417300' id='584234'>
<a class='timestamp' href='#584234'><time timestamp='2017-12-04T19:55:00Z'>19:55</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
cause you really end up wanting the validation interface stuff to have eg two threads where the ordering guarantees are only made per-client, and each new client that gets connected only receives events generated <b>*after*</b> when it was connected
<br>
</div>

<div class='talk op-msg' data-timestamp='1512417300' id='584235'>
<a class='timestamp' href='#584235'><time timestamp='2017-12-04T19:55:00Z'>19:55</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
BlueMatt: heh, sorry
<br>
</div>

<div class='talk op-msg' data-timestamp='1512417300' id='584236'>
<a class='timestamp' href='#584236'><time timestamp='2017-12-04T19:55:00Z'>19:55</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
(pretty easy to do, I think, you just make events eg a struct and put shared_ptrs to it in each listener&#x27;s queue)
<br>
</div>

<div class='talk op-msg' data-timestamp='1512417300' id='584237'>
<a class='timestamp' href='#584237'><time timestamp='2017-12-04T19:55:00Z'>19:55</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
but its way more work than just fixing a fucking missing cs_main
<br>
</div>

<div class='talk op-msg' data-timestamp='1512417360' id='584238'>
<a class='timestamp' href='#584238'><time timestamp='2017-12-04T19:56:00Z'>19:56</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
and is gonna have to wait for 20 other higher-priority things
<br>
</div>

<div class='talk op-msg' data-timestamp='1512417420' id='584239'>
<a class='timestamp' href='#584239'><time timestamp='2017-12-04T19:57:00Z'>19:57</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
ryanofsky: will try that at some point
<br>
</div>

<div class='talk op-msg' data-timestamp='1512417420' id='584240'>
<a class='timestamp' href='#584240'><time timestamp='2017-12-04T19:57:00Z'>19:57</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
the cvBlockChanged/csBestBlock garbage is....garbage now that we have &quot;real interfaces&quot; to get notifications of validation events
<br>
</div>

<div class='talk op-msg' data-timestamp='1512417540' id='584241'>
<a class='timestamp' href='#584241'><time timestamp='2017-12-04T19:59:00Z'>19:59</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
BlueMatt: fwiw, i was picturing just adding a cached uint256 and a function to update it rather than notifying the cv directly
<br>
</div>

<div class='talk op-msg' data-timestamp='1512417600' id='584242'>
<a class='timestamp' href='#584242'><time timestamp='2017-12-04T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
i know you were, but lets <b>*please*</b> not add more in-thread callbacks out of validation :(
<br>
</div>

<div class='talk op-msg' data-timestamp='1512417600' id='584243'>
<a class='timestamp' href='#584243'><time timestamp='2017-12-04T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
I&#x27;ve been working too hard to get rid of those things
<br>
</div>

<div class='talk op-msg' data-timestamp='1512417600' id='584244'>
<a class='timestamp' href='#584244'><time timestamp='2017-12-04T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
i understand your point about using our interfaces. but weighing quick fix against quick fix, that seems better to me
<br>
</div>

<div class='talk op-msg' data-timestamp='1512417600' id='584245'>
<a class='timestamp' href='#584245'><time timestamp='2017-12-04T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
meh, its a short cs_main, why not just take the cs_main
<br>
</div>

<div class='talk op-msg' data-timestamp='1512417720' id='584246'>
<a class='timestamp' href='#584246'><time timestamp='2017-12-04T20:02:00Z'>20:02</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
i&#x27;m worried that we&#x27;ll end up locked there for milliseconds where we wouldn&#x27;t have otherwise. Granted, the re-locking of cs_main at the bottom kinda nullifies that argument.
<br>
</div>

<div class='talk op-msg' data-timestamp='1512417780' id='584247'>
<a class='timestamp' href='#584247'><time timestamp='2017-12-04T20:03:00Z'>20:03</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
yea, we re-lock anyway
<br>
</div>

<div class='talk op-msg' data-timestamp='1512417780' id='584248'>
<a class='timestamp' href='#584248'><time timestamp='2017-12-04T20:03:00Z'>20:03</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
and, more importantly no one uses longpolling anyway
<br>
</div>

<div class='talk op-msg' data-timestamp='1512417780' id='584249'>
<a class='timestamp' href='#584249'><time timestamp='2017-12-04T20:03:00Z'>20:03</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
afaiu
<br>
</div>

<div class='talk op-msg' data-timestamp='1512417960' id='584250'>
<a class='timestamp' href='#584250'><time timestamp='2017-12-04T20:06:00Z'>20:06</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
achow101: you said you can repro by just -reindex&#x27;ing?
<br>
</div>

<div class='talk op-msg' data-timestamp='1512417960' id='584251'>
<a class='timestamp' href='#584251'><time timestamp='2017-12-04T20:06:00Z'>20:06</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
BlueMatt: yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1512419100' id='584252'>
<a class='timestamp' href='#584252'><time timestamp='2017-12-04T20:25:00Z'>20:25</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
concept review on #11799 would be appreciated - ignore the code thats there, its useless, but the question is do we want negative-lock-annotations (ie you may not hold cs_main when calling function x) when they are only enforced if the lock is taken directly in the calling function (unlike the requires-lock annotations, these ones dont require you pollute your entire codebase to fully document locking states)
<br>
</div>

<div class='talk op-msg' data-timestamp='1512419100' id='584253'>
<a class='timestamp' href='#584253'><time timestamp='2017-12-04T20:25:00Z'>20:25</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/11799" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/11799</a> | wallet: Add compile-time checking of (non-)locking assumptions for BlockUntilSyncedToCurrentChain() [wip] by practicalswift · Pull Request #11799 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1512419160' id='584254'>
<a class='timestamp' href='#584254'><time timestamp='2017-12-04T20:26:00Z'>20:26</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
someone want to close #11823 as NOTABUG
<br>
</div>

<div class='talk op-msg' data-timestamp='1512419160' id='584255'>
<a class='timestamp' href='#584255'><time timestamp='2017-12-04T20:26:00Z'>20:26</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/11823" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/11823</a> | Shouldnt this be nOut? · Issue #11823 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1512419340' id='584256'>
<a class='timestamp' href='#584256'><time timestamp='2017-12-04T20:29:00Z'>20:29</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] practicalswift closed pull request #11799: wallet: Add compile-time checking of (non-)locking assumptions for BlockUntilSyncedToCurrentChain() [wip] (master...BlockUntilSyncedToCurrentChain-compile-time-warnings) <a href="https://github.com/bitcoin/bitcoin/pull/11799" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/11799</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1512420000' id='584257'>
<a class='timestamp' href='#584257'><time timestamp='2017-12-04T20:40:00Z'>20:40</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
hmm. valgrind didn&#x27;t turn up with anything too frightetning, nor did the address sanitizer
<br>
</div>

<div class='talk op-msg' data-timestamp='1512420000' id='584258'>
<a class='timestamp' href='#584258'><time timestamp='2017-12-04T20:40:00Z'>20:40</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
only 160 bytes leaked (granted I only ran then for ~10 minutes each)
<br>
</div>

<div class='talk op-msg' data-timestamp='1512420120' id='584259'>
<a class='timestamp' href='#584259'><time timestamp='2017-12-04T20:42:00Z'>20:42</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
achow101: nvm, i got it
<br>
</div>

<div class='talk op-msg' data-timestamp='1512420120' id='584260'>
<a class='timestamp' href='#584260'><time timestamp='2017-12-04T20:42:00Z'>20:42</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
.. ok?
<br>
</div>

<div class='talk op-msg' data-timestamp='1512420180' id='584261'>
<a class='timestamp' href='#584261'><time timestamp='2017-12-04T20:43:00Z'>20:43</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
BlueMatt: got it as in reproduced or found the leak?
<br>
</div>

<div class='talk op-msg' data-timestamp='1512420240' id='584262'>
<a class='timestamp' href='#584262'><time timestamp='2017-12-04T20:44:00Z'>20:44</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
working on fix
<br>
</div>

<div class='talk op-msg' data-timestamp='1512420240' id='584263'>
<a class='timestamp' href='#584263'><time timestamp='2017-12-04T20:44:00Z'>20:44</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
sec     
<br>
</div>

<div class='talk op-msg' data-timestamp='1512420840' id='584264'>
<a class='timestamp' href='#584264'><time timestamp='2017-12-04T20:54:00Z'>20:54</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
achow101: heh, well maybe I didnt have it, can repro and ran into a seemingly-related bug, however
<br>
</div>

<div class='talk op-msg' data-timestamp='1512421500' id='584265'>
<a class='timestamp' href='#584265'><time timestamp='2017-12-04T21:05:00Z'>21:05</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
achow101: nope, nvm, my first guess was right
<br>
</div>

<div class='talk op-msg' data-timestamp='1512421500' id='584266'>
<a class='timestamp' href='#584266'><time timestamp='2017-12-04T21:05:00Z'>21:05</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
BlueMatt: care to elaborate?
<br>
</div>

<div class='talk op-msg' data-timestamp='1512421560' id='584267'>
<a class='timestamp' href='#584267'><time timestamp='2017-12-04T21:06:00Z'>21:06</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
validation running ahead of validationinterface, you end up with a deep queue of shared_ptr&lt;CBlock&gt;s of all the shit you connected
<br>
</div>

<div class='talk op-msg' data-timestamp='1512421560' id='584268'>
<a class='timestamp' href='#584268'><time timestamp='2017-12-04T21:06:00Z'>21:06</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
not normally an issue, but reindex is particularly easy to hit there
<br>
</div>

<div class='talk op-msg' data-timestamp='1512421620' id='584269'>
<a class='timestamp' href='#584269'><time timestamp='2017-12-04T21:07:00Z'>21:07</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i would guess the solution is to block progress if the queue gets too long?
<br>
</div>

<div class='talk op-msg' data-timestamp='1512421620' id='584270'>
<a class='timestamp' href='#584270'><time timestamp='2017-12-04T21:07:00Z'>21:07</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
indeed
<br>
</div>

<div class='talk op-msg' data-timestamp='1512421800' id='584271'>
<a class='timestamp' href='#584271'><time timestamp='2017-12-04T21:10:00Z'>21:10</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
BlueMatt: oh, I see now. so that&#x27;s probably why valgrind and address sanitizer wasn&#x27;t catching it
<br>
</div>

<div class='talk op-msg' data-timestamp='1512421860' id='584272'>
<a class='timestamp' href='#584272'><time timestamp='2017-12-04T21:11:00Z'>21:11</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
its not a leak, thats why :p
<br>
</div>

<div class='talk op-msg' data-timestamp='1512421860' id='584273'>
<a class='timestamp' href='#584273'><time timestamp='2017-12-04T21:11:00Z'>21:11</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
just an unbounded queue
<br>
</div>

<div class='talk op-msg' data-timestamp='1512421920' id='584274'>
<a class='timestamp' href='#584274'><time timestamp='2017-12-04T21:12:00Z'>21:12</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
was my git bisect correct?
<br>
</div>

<div class='talk op-msg' data-timestamp='1512421920' id='584275'>
<a class='timestamp' href='#584275'><time timestamp='2017-12-04T21:12:00Z'>21:12</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
yes     
<br>
</div>

<div class='talk op-msg' data-timestamp='1512421920' id='584276'>
<a class='timestamp' href='#584276'><time timestamp='2017-12-04T21:12:00Z'>21:12</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
:D     
<br>
</div>

<div class='talk op-msg' data-timestamp='1512423660' id='584277'>
<a class='timestamp' href='#584277'><time timestamp='2017-12-04T21:41:00Z'>21:41</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
BlueMatt: Hmm. doesn&#x27;t that imply that at the time something (say wallet) is running a callback, chainActive&#x27;s tip could&#x27;ve progressed significantly past the payload block?
<br>
</div>

<div class='talk op-msg' data-timestamp='1512423720' id='584278'>
<a class='timestamp' href='#584278'><time timestamp='2017-12-04T21:42:00Z'>21:42</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
cfields: yes, but that was always assumed to be allowed?
<br>
</div>

<div class='talk op-msg' data-timestamp='1512423780' id='584279'>
<a class='timestamp' href='#584279'><time timestamp='2017-12-04T21:43:00Z'>21:43</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
cfields: heh, you&#x27;re gonna murder me...the &quot;quick fix&quot; for this requires a net_processing-specific CNode boolean to be added :/
<br>
</div>

<div class='talk op-msg' data-timestamp='1512423780' id='584280'>
<a class='timestamp' href='#584280'><time timestamp='2017-12-04T21:43:00Z'>21:43</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
BlueMatt: how would that have manifested before moving to the scheduler thread?
<br>
</div>

<div class='talk op-msg' data-timestamp='1512423780' id='584281'>
<a class='timestamp' href='#584281'><time timestamp='2017-12-04T21:43:00Z'>21:43</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
well, the &quot;super quick fix&quot; is to add a bunch of std::this_thread::yield()s, butttt....
<br>
</div>

<div class='talk op-msg' data-timestamp='1512423840' id='584282'>
<a class='timestamp' href='#584282'><time timestamp='2017-12-04T21:44:00Z'>21:44</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
cfields: it wouldnt have, cause the calls are all on the thread that is generating the events
<br>
</div>

<div class='talk op-msg' data-timestamp='1512423840' id='584283'>
<a class='timestamp' href='#584283'><time timestamp='2017-12-04T21:44:00Z'>21:44</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
BlueMatt: right. I&#x27;m trying to reconsile that with &quot;yes, but that was always assumed to be allowed?&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1512423900' id='584284'>
<a class='timestamp' href='#584284'><time timestamp='2017-12-04T21:45:00Z'>21:45</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
oh, sorry, yes, just meant that that is the design of validationinterface now
<br>
</div>

<div class='talk op-msg' data-timestamp='1512423900' id='584285'>
<a class='timestamp' href='#584285'><time timestamp='2017-12-04T21:45:00Z'>21:45</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
ie shouldnt be news if you reviewed the last 5 prs :p
<br>
</div>

<div class='talk op-msg' data-timestamp='1512423960' id='584286'>
<a class='timestamp' href='#584286'><time timestamp='2017-12-04T21:46:00Z'>21:46</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
well i didn&#x27;t have this issue in mind, as I was still thinking too serially. Now I need to go re-review :(
<br>
</div>

<div class='talk op-msg' data-timestamp='1512423960' id='584287'>
<a class='timestamp' href='#584287'><time timestamp='2017-12-04T21:46:00Z'>21:46</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
heh, sorry
<br>
</div>

<div class='talk op-msg' data-timestamp='1512423960' id='584288'>
<a class='timestamp' href='#584288'><time timestamp='2017-12-04T21:46:00Z'>21:46</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
*synchronously
<br>
</div>

<div class='talk op-msg' data-timestamp='1512427860' id='584289'>
<a class='timestamp' href='#584289'><time timestamp='2017-12-04T22:51:00Z'>22:51</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
BlueMatt: see: SyncTransaction -&gt; AddToWalletIfInvolvingMe -&gt; MarkConflicted. That ends up testing against chainActive for conflicts rather than the view from the callback :(
<br>
</div>

<div class='talk op-msg' data-timestamp='1512427920' id='584290'>
<a class='timestamp' href='#584290'><time timestamp='2017-12-04T22:52:00Z'>22:52</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
cfields: heh, I know :(
<br>
</div>

<div class='talk op-msg' data-timestamp='1512427980' id='584291'>
<a class='timestamp' href='#584291'><time timestamp='2017-12-04T22:53:00Z'>22:53</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
oh, wait, sec
<br>
</div>

<div class='talk op-msg' data-timestamp='1512427980' id='584292'>
<a class='timestamp' href='#584292'><time timestamp='2017-12-04T22:53:00Z'>22:53</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
missed your point, sorry
<br>
</div>

<div class='talk op-msg' data-timestamp='1512428040' id='584293'>
<a class='timestamp' href='#584293'><time timestamp='2017-12-04T22:54:00Z'>22:54</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
BlueMatt: assuming the callbacks are lagging and chainActive is significantly ahead, MarkConflicted could be looking for conflicts on some future (or reorg&#x27;d) chain
<br>
</div>

<div class='talk op-msg' data-timestamp='1512428160' id='584294'>
<a class='timestamp' href='#584294'><time timestamp='2017-12-04T22:56:00Z'>22:56</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
(i&#x27;m just looking around for things that could accidentally be using chainActive on the callback thread)
<br>
</div>

<div class='talk op-msg' data-timestamp='1512429240' id='584295'>
<a class='timestamp' href='#584295'><time timestamp='2017-12-04T23:14:00Z'>23:14</time></a>
&lt;<span class='nick nick-4'> jamesob</span>&gt;
cfields: you&#x27;re looking into the shared_ptr&lt;CBlock&gt; backup?
<br>
</div>

<div class='talk op-msg' data-timestamp='1512429300' id='584296'>
<a class='timestamp' href='#584296'><time timestamp='2017-12-04T23:15:00Z'>23:15</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
just having another look over the change that moves the validatioininterface callbacks to the scheduler thread. I guess that&#x27;s what you mean?
<br>
</div>

<div class='talk op-msg' data-timestamp='1512429360' id='584297'>
<a class='timestamp' href='#584297'><time timestamp='2017-12-04T23:16:00Z'>23:16</time></a>
&lt;<span class='nick nick-4'> jamesob</span>&gt;
yeah
<br>
</div>

<div class='talk op-msg' data-timestamp='1512429420' id='584298'>
<a class='timestamp' href='#584298'><time timestamp='2017-12-04T23:17:00Z'>23:17</time></a>
&lt;<span class='nick nick-4'> jamesob</span>&gt;
didn&#x27;t know if there was a particular fix in mind for that yet
<br>
</div>

<div class='talk op-msg' data-timestamp='1512430200' id='584299'>
<a class='timestamp' href='#584299'><time timestamp='2017-12-04T23:30:00Z'>23:30</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
BlueMatt, cfields: if the wallet notifications can lag behind chainActive, the wallet needs its own &quot;tip&quot; to test against, no?
<br>
</div>

<div class='talk op-msg' data-timestamp='1512430440' id='584300'>
<a class='timestamp' href='#584300'><time timestamp='2017-12-04T23:34:00Z'>23:34</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
cfields: sorry, was just finishing the queue-drain branch...I do not believe that to be an issue? Specifically, in the conflicted case you mention here, the only way to hit it is if the wallet lags behind and the block that made a transaction conflict is already reorg&#x27;d off the main chain, in which case you dont want to mark it conflicted, and if its still gonna be conflicted once you get to the best chain a later callback will mark 
<br>
</div>

<div class='talk op-msg' data-timestamp='1512430440' id='584301'>
<a class='timestamp' href='#584301'><time timestamp='2017-12-04T23:34:00Z'>23:34</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
it conflicted appropriately
<br>
</div>

<div class='talk op-msg' data-timestamp='1512430440' id='584302'>
<a class='timestamp' href='#584302'><time timestamp='2017-12-04T23:34:00Z'>23:34</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
jamesob: yes, I have a branch
<br>
</div>

<div class='talk op-msg' data-timestamp='1512430500' id='584303'>
<a class='timestamp' href='#584303'><time timestamp='2017-12-04T23:35:00Z'>23:35</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
sipa: I do not believe that to be the case (currently), please prove me wrong!
<br>
</div>

<div class='talk op-msg' data-timestamp='1512430560' id='584304'>
<a class='timestamp' href='#584304'><time timestamp='2017-12-04T23:36:00Z'>23:36</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
BlueMatt: cfields: are you working on the fix for the queue thing or something else?
<br>
</div>

<div class='talk op-msg' data-timestamp='1512430560' id='584305'>
<a class='timestamp' href='#584305'><time timestamp='2017-12-04T23:36:00Z'>23:36</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
achow101: yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1512430560' id='584306'>
<a class='timestamp' href='#584306'><time timestamp='2017-12-04T23:36:00Z'>23:36</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
though cfields is trying to find other issues in the original pr
<br>
</div>

<div class='talk op-msg' data-timestamp='1512430560' id='584307'>
<a class='timestamp' href='#584307'><time timestamp='2017-12-04T23:36:00Z'>23:36</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
ok     
<br>
</div>

<div class='talk op-msg' data-timestamp='1512430680' id='584308'>
<a class='timestamp' href='#584308'><time timestamp='2017-12-04T23:38:00Z'>23:38</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
BlueMatt: it certainly sounds safer...
<br>
</div>

<div class='talk op-msg' data-timestamp='1512430680' id='584309'>
<a class='timestamp' href='#584309'><time timestamp='2017-12-04T23:38:00Z'>23:38</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
sipa: agreed
<br>
</div>

<div class='talk op-msg' data-timestamp='1512430740' id='584310'>
<a class='timestamp' href='#584310'><time timestamp='2017-12-04T23:39:00Z'>23:39</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
sipa: I agree, but to do that you&#x27;d rewrite about another 10 functions in the wallet and probably end up refactoring half of it
<br>
</div>

<div class='talk op-msg' data-timestamp='1512430740' id='584311'>
<a class='timestamp' href='#584311'><time timestamp='2017-12-04T23:39:00Z'>23:39</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
(again, please prove me wrong :p)
<br>
</div>

<div class='talk op-msg' data-timestamp='1512430740' id='584312'>
<a class='timestamp' href='#584312'><time timestamp='2017-12-04T23:39:00Z'>23:39</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
even if the conflicts aren&#x27;t an issue, i still really don&#x27;t like that we&#x27;re testing against some seemingly random chain
<br>
</div>

<div class='talk op-msg' data-timestamp='1512430800' id='584313'>
<a class='timestamp' href='#584313'><time timestamp='2017-12-04T23:40:00Z'>23:40</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
well in that one specific case its fine (and kinda the way the function was written to begin with, strangely)
<br>
</div>

<div class='talk op-msg' data-timestamp='1512430800' id='584314'>
<a class='timestamp' href='#584314'><time timestamp='2017-12-04T23:40:00Z'>23:40</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
BlueMatt: hmm, really? I would just replace every call to chainActive in the wallet with a local variable, which gets updated through the callbac
<br>
</div>

<div class='talk op-msg' data-timestamp='1512430800' id='584315'>
<a class='timestamp' href='#584315'><time timestamp='2017-12-04T23:40:00Z'>23:40</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
BlueMatt: at least for the stuff affected by callbacks, can&#x27;t we just pass a pindex around instead?
<br>
</div>

<div class='talk op-msg' data-timestamp='1512430860' id='584316'>
<a class='timestamp' href='#584316'><time timestamp='2017-12-04T23:41:00Z'>23:41</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
cfields: isnt that like the one place that matters from the callbacks (its been like 8 months since I&#x27;ve looked though)
<br>
</div>

<div class='talk op-msg' data-timestamp='1512430860' id='584317'>
<a class='timestamp' href='#584317'><time timestamp='2017-12-04T23:41:00Z'>23:41</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
BlueMatt: unsure. I&#x27;ll take a closer look before commenting further
<br>
</div>

<div class='talk op-msg' data-timestamp='1512430860' id='584318'>
<a class='timestamp' href='#584318'><time timestamp='2017-12-04T23:41:00Z'>23:41</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
sipa: the number of places I&#x27;d have to go read to make sure GetDepthInMainChain being disconnected from main chain is fine to be convinced of that is....high
<br>
</div>

<div class='talk op-msg' data-timestamp='1512430920' id='584319'>
<a class='timestamp' href='#584319'><time timestamp='2017-12-04T23:42:00Z'>23:42</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
sipa: though I&#x27;m sure ryanofsky would appreciate it greatly
<br>
</div>

<div class='talk op-msg' data-timestamp='1512431040' id='584320'>
<a class='timestamp' href='#584320'><time timestamp='2017-12-04T23:44:00Z'>23:44</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
sipa: the obvious issue is that gui would have to be aware of the wallet chain state
<br>
</div>

<div class='talk op-msg' data-timestamp='1512431040' id='584321'>
<a class='timestamp' href='#584321'><time timestamp='2017-12-04T23:44:00Z'>23:44</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
right
<br>
</div>

<div class='talk op-msg' data-timestamp='1512431040' id='584322'>
<a class='timestamp' href='#584322'><time timestamp='2017-12-04T23:44:00Z'>23:44</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and if there&#x27;s anything that looks at pcoinsTip from the wallet (is there?) that would also be affected
<br>
</div>

<div class='talk op-msg' data-timestamp='1512431100' id='584323'>
<a class='timestamp' href='#584323'><time timestamp='2017-12-04T23:45:00Z'>23:45</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
I dont think there is
<br>
</div>

<div class='talk op-msg' data-timestamp='1512431280' id='584324'>
<a class='timestamp' href='#584324'><time timestamp='2017-12-04T23:48:00Z'>23:48</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
sipa: ReacceptWalletTransactions/RelayWalletTransactions would need a only-if-caught-up-to-main-chain condition, but thats the only obvious ones in wallet.cpp...it may be much easier than I thought, but I already have too many open prs to want to do it any time soon
<br>
</div>

<div class='talk op-msg' data-timestamp='1512431520' id='584325'>
<a class='timestamp' href='#584325'><time timestamp='2017-12-04T23:52:00Z'>23:52</time></a>
&lt;<span class='nick nick-1'> D__</span>&gt;
Dd     
<br>
</div>

</div>
</section>

</body>
</html>
