<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2018-09-03
 â€” 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2018-09-03' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:21 UTC</pre>
<pre><a href="/bitcoin-core-dev/2018-08-03">&lt;</a><span class='header'>  September 2018  </span><a href="/bitcoin-core-dev/2018-10-03">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;                   <a class="" href="/bitcoin-core-dev/2018-09-01">1</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2018-09-02">2</a>  <a class="current" href="/bitcoin-core-dev/2018-09-03">3</a>  <a class="" href="/bitcoin-core-dev/2018-09-04">4</a>  <a class="" href="/bitcoin-core-dev/2018-09-05">5</a>  <a class="" href="/bitcoin-core-dev/2018-09-06">6</a>  <a class="" href="/bitcoin-core-dev/2018-09-07">7</a>  <a class="" href="/bitcoin-core-dev/2018-09-08">8</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2018-09-09">9</a> <a class="" href="/bitcoin-core-dev/2018-09-10">10</a> <a class="" href="/bitcoin-core-dev/2018-09-11">11</a> <a class="" href="/bitcoin-core-dev/2018-09-12">12</a> <a class="" href="/bitcoin-core-dev/2018-09-13">13</a> <a class="" href="/bitcoin-core-dev/2018-09-14">14</a> <a class="" href="/bitcoin-core-dev/2018-09-15">15</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2018-09-16">16</a> <a class="" href="/bitcoin-core-dev/2018-09-17">17</a> <a class="" href="/bitcoin-core-dev/2018-09-18">18</a> <a class="" href="/bitcoin-core-dev/2018-09-19">19</a> <a class="" href="/bitcoin-core-dev/2018-09-20">20</a> <a class="" href="/bitcoin-core-dev/2018-09-21">21</a> <a class="" href="/bitcoin-core-dev/2018-09-22">22</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2018-09-23">23</a> <a class="" href="/bitcoin-core-dev/2018-09-24">24</a> 25 <a class="" href="/bitcoin-core-dev/2018-09-26">26</a> <a class="" href="/bitcoin-core-dev/2018-09-27">27</a> <a class="" href="/bitcoin-core-dev/2018-09-28">28</a> <a class="" href="/bitcoin-core-dev/2018-09-29">29</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2018-09-30">30</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1535951880' id='628865'>
<a class='timestamp' href='#628865'><time timestamp='2018-09-03T05:18:00Z'>05:18</time></a>
&lt;<span class='nick nick-11'> kallewoof</span>&gt;
I&#x27;m amazed you guys let that go on for as long as it did.
<br>
</div>

<div class='talk op-msg' data-timestamp='1535955720' id='628866'>
<a class='timestamp' href='#628866'><time timestamp='2018-09-03T06:22:00Z'>06:22</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
i was baffled, as in &quot;it couldn&#x27;t be <b>*this*</b> bad, right&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1535955780' id='628867'>
<a class='timestamp' href='#628867'><time timestamp='2018-09-03T06:23:00Z'>06:23</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
despite all the rumors about toxicity in bitcoin development we have really very little drama compared to other large projects
<br>
</div>

<div class='talk op-msg' data-timestamp='1535956440' id='628868'>
<a class='timestamp' href='#628868'><time timestamp='2018-09-03T06:34:00Z'>06:34</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
heh
<br>
</div>

<div class='talk op-msg' data-timestamp='1535956440' id='628869'>
<a class='timestamp' href='#628869'><time timestamp='2018-09-03T06:34:00Z'>06:34</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
I wonder if it had gone further, if he would have demanded that payment is required for merging, via copyright stuff
<br>
</div>

<div class='talk op-msg' data-timestamp='1535956500' id='628870'>
<a class='timestamp' href='#628870'><time timestamp='2018-09-03T06:35:00Z'>06:35</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
(which tbh wouldn&#x27;t be an entirely terrible idea for open source, but it just isn&#x27;t acceptable in the current practice)
<br>
</div>

<div class='talk op-msg' data-timestamp='1535956500' id='628871'>
<a class='timestamp' href='#628871'><time timestamp='2018-09-03T06:35:00Z'>06:35</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
(thinking, if contributors and reviewers could put a $ amount on PRs, and then users paid to get them merged when ready)
<br>
</div>

<div class='talk op-msg' data-timestamp='1535956560' id='628872'>
<a class='timestamp' href='#628872'><time timestamp='2018-09-03T06:36:00Z'>06:36</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
s/$/BTC/ obviously
<br>
</div>

<div class='talk op-msg' data-timestamp='1535956620' id='628873'>
<a class='timestamp' href='#628873'><time timestamp='2018-09-03T06:37:00Z'>06:37</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
there&#x27;s the implicit requirement to submit a patch to an open source project, that it is available under the same license
<br>
</div>

<div class='talk op-msg' data-timestamp='1535956680' id='628874'>
<a class='timestamp' href='#628874'><time timestamp='2018-09-03T06:38:00Z'>06:38</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
so in any case, such a thing would have to be coordinated outside of github, beforehand
<br>
</div>

<div class='talk op-msg' data-timestamp='1535956740' id='628875'>
<a class='timestamp' href='#628875'><time timestamp='2018-09-03T06:39:00Z'>06:39</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
e.g. do a closed-source demo of something, and only if you have &gt;X mBTC/$ in donations, release it as open source
<br>
</div>

<div class='talk op-msg' data-timestamp='1535956800' id='628876'>
<a class='timestamp' href='#628876'><time timestamp='2018-09-03T06:40:00Z'>06:40</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I&#x27;ve seen this done for some music-related software, never for cryptocurrency things though :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1535957100' id='628877'>
<a class='timestamp' href='#628877'><time timestamp='2018-09-03T06:45:00Z'>06:45</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it works better if a development model revolves around plugins instead of patches
<br>
</div>

<div class='talk op-msg' data-timestamp='1535957340' id='628878'>
<a class='timestamp' href='#628878'><time timestamp='2018-09-03T06:49:00Z'>06:49</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
wumpus: I think it wouldn&#x27;t work for us regardless, simply because of the review bottleneck
<br>
</div>

<div class='talk op-msg' data-timestamp='1535957340' id='628879'>
<a class='timestamp' href='#628879'><time timestamp='2018-09-03T06:49:00Z'>06:49</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
right
<br>
</div>

<div class='talk op-msg' data-timestamp='1535957400' id='628880'>
<a class='timestamp' href='#628880'><time timestamp='2018-09-03T06:50:00Z'>06:50</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
pay for review would be interesting, though also very corruption prone
<br>
</div>

<div class='talk op-msg' data-timestamp='1535957520' id='628881'>
<a class='timestamp' href='#628881'><time timestamp='2018-09-03T06:52:00Z'>06:52</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
pay-for-review doesn&#x27;t seem too unreasonable right now even, actually
<br>
</div>

<div class='talk op-msg' data-timestamp='1535957520' id='628882'>
<a class='timestamp' href='#628882'><time timestamp='2018-09-03T06:52:00Z'>06:52</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
I wouldn&#x27;t have any complaint with users posting bounties to get PRs they like reviewed sooner
<br>
</div>

<div class='talk op-msg' data-timestamp='1535957580' id='628883'>
<a class='timestamp' href='#628883'><time timestamp='2018-09-03T06:53:00Z'>06:53</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I&#x27;d again prefer this to be coordinated outside github
<br>
</div>

<div class='talk op-msg' data-timestamp='1535965380' id='628884'>
<a class='timestamp' href='#628884'><time timestamp='2018-09-03T09:03:00Z'>09:03</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
I put a few bounties on Bountysource a while ago, that seems the right way to coordinate these kinds of things, although I&#x27;ve only had limited success.
<br>
</div>

<div class='talk op-msg' data-timestamp='1535965440' id='628885'>
<a class='timestamp' href='#628885'><time timestamp='2018-09-03T09:04:00Z'>09:04</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
And it doesn&#x27;t help that they were eaten up by some ICO with too much money.
<br>
</div>

<div class='talk op-msg' data-timestamp='1535969160' id='628886'>
<a class='timestamp' href='#628886'><time timestamp='2018-09-03T10:06:00Z'>10:06</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
bountysource supports bitcoin? TIL
<br>
</div>

<div class='talk op-msg' data-timestamp='1535985720' id='628887'>
<a class='timestamp' href='#628887'><time timestamp='2018-09-03T14:42:00Z'>14:42</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
oh, through coinbase...
<br>
</div>

<div class='talk op-msg' data-timestamp='1535995440' id='628888'>
<a class='timestamp' href='#628888'><time timestamp='2018-09-03T17:24:00Z'>17:24</time></a>
&lt;<span class='nick nick-12'> Salve</span>&gt;
Why does bitcoin use sha-512? 
<br>
</div>

<div class='talk op-msg' data-timestamp='1535995440' id='628889'>
<a class='timestamp' href='#628889'><time timestamp='2018-09-03T17:24:00Z'>17:24</time></a>
&lt;<span class='nick nick-12'> Salve</span>&gt;
o.O
<br>
</div>

<div class='talk op-msg' data-timestamp='1535997840' id='628890'>
<a class='timestamp' href='#628890'><time timestamp='2018-09-03T18:04:00Z'>18:04</time></a>
&lt;<span class='nick nick-4'> rafalcpp</span>&gt;
sipa: seems parts of his code disappeared from git? or is github acting up. following parts of that discussion re 14090 and getting into places like <a href="https://github.com/bitcoin/bitcoin/pull/14090/files/9cc9bd700e92486189695ea1cb6edafd714cb33b" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/14090/files/9cc9bd700e92486189695ea1cb6edafd714cb33b</a> and github says not found 
<br>
</div>

<div class='talk op-msg' data-timestamp='1535997960' id='628891'>
<a class='timestamp' href='#628891'><time timestamp='2018-09-03T18:06:00Z'>18:06</time></a>
&lt;<span class='nick nick-5'> maitra</span>&gt;
bitcoind in regtest mode giving out empty responses to libbitcoinrpc RPC calls. Can someone help mw out here??
<br>
</div>

<div class='talk op-msg' data-timestamp='1535998020' id='628892'>
<a class='timestamp' href='#628892'><time timestamp='2018-09-03T18:07:00Z'>18:07</time></a>
&lt;<span class='nick nick-5'> maitra</span>&gt;
while switching back to testnet works fine. Valid JSONs are returned. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1536002640' id='628893'>
<a class='timestamp' href='#628893'><time timestamp='2018-09-03T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
rafalcpp: if there were force pushes it&#x27;s possible the code is no longer there
<br>
</div>

<div class='talk op-msg' data-timestamp='1536002700' id='628894'>
<a class='timestamp' href='#628894'><time timestamp='2018-09-03T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
achow101: Is it really the case that there is no way in the rpc to take the scriptpubkey and amount from scantxoutset and use that to create/populate a PSBT?
<br>
</div>

<div class='talk op-msg' data-timestamp='1536002760' id='628895'>
<a class='timestamp' href='#628895'><time timestamp='2018-09-03T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
probably not. I haven&#x27;t looked at scantxoutset yet
<br>
</div>

<div class='talk op-msg' data-timestamp='1536002760' id='628896'>
<a class='timestamp' href='#628896'><time timestamp='2018-09-03T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
it returns output that looks like listunspent
<br>
</div>

<div class='talk op-msg' data-timestamp='1536002820' id='628897'>
<a class='timestamp' href='#628897'><time timestamp='2018-09-03T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
createpsbt ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1536002820' id='628898'>
<a class='timestamp' href='#628898'><time timestamp='2018-09-03T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
but what I mean is that the createpsbt ignores scriptpubkey and amount, even if you provide them.
<br>
</div>

<div class='talk op-msg' data-timestamp='1536002820' id='628899'>
<a class='timestamp' href='#628899'><time timestamp='2018-09-03T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
oh, i see
<br>
</div>

<div class='talk op-msg' data-timestamp='1536002820' id='628900'>
<a class='timestamp' href='#628900'><time timestamp='2018-09-03T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
right now it only updates from the wallet
<br>
</div>

<div class='talk op-msg' data-timestamp='1536002880' id='628901'>
<a class='timestamp' href='#628901'><time timestamp='2018-09-03T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
there&#x27;s an open pr to update from the node
<br>
</div>

<div class='talk op-msg' data-timestamp='1536002880' id='628902'>
<a class='timestamp' href='#628902'><time timestamp='2018-09-03T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
I can add to that updating from user provided data
<br>
</div>

<div class='talk op-msg' data-timestamp='1536002880' id='628903'>
<a class='timestamp' href='#628903'><time timestamp='2018-09-03T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
yea, at least just make it so create doesn&#x27;t ignore them would be nice.
<br>
</div>

<div class='talk op-msg' data-timestamp='1536002880' id='628904'>
<a class='timestamp' href='#628904'><time timestamp='2018-09-03T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: it would lead to hard to analyse problems if it was a non-witness output being spent
<br>
</div>

<div class='talk op-msg' data-timestamp='1536002940' id='628905'>
<a class='timestamp' href='#628905'><time timestamp='2018-09-03T19:29:00Z'>19:29</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sipa: how so?
<br>
</div>

<div class='talk op-msg' data-timestamp='1536002940' id='628906'>
<a class='timestamp' href='#628906'><time timestamp='2018-09-03T19:29:00Z'>19:29</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: for those it needs the full tx being spent, not just amount and sPK
<br>
</div>

<div class='talk op-msg' data-timestamp='1536002940' id='628907'>
<a class='timestamp' href='#628907'><time timestamp='2018-09-03T19:29:00Z'>19:29</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
There is no way to bypass that?
<br>
</div>

<div class='talk op-msg' data-timestamp='1536002940' id='628908'>
<a class='timestamp' href='#628908'><time timestamp='2018-09-03T19:29:00Z'>19:29</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
no
<br>
</div>

<div class='talk op-msg' data-timestamp='1536002940' id='628909'>
<a class='timestamp' href='#628909'><time timestamp='2018-09-03T19:29:00Z'>19:29</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
signers need that information
<br>
</div>

<div class='talk op-msg' data-timestamp='1536002940' id='628910'>
<a class='timestamp' href='#628910'><time timestamp='2018-09-03T19:29:00Z'>19:29</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
gmaxwell: no, otherwise you could be tricked into signing something else
<br>
</div>

<div class='talk op-msg' data-timestamp='1536003000' id='628911'>
<a class='timestamp' href='#628911'><time timestamp='2018-09-03T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
oh jesus. I am not going to be tricked into signing something else.
<br>
</div>

<div class='talk op-msg' data-timestamp='1536003000' id='628912'>
<a class='timestamp' href='#628912'><time timestamp='2018-09-03T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I understand how the bitcoin protocol works. I&#x27;m surprised that there isn&#x27;t any way to bypass checking the inputs.
<br>
</div>

<div class='talk op-msg' data-timestamp='1536003060' id='628913'>
<a class='timestamp' href='#628913'><time timestamp='2018-09-03T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
esp since the existing raw transaction flow provides no way to do that at all.
<br>
</div>

<div class='talk op-msg' data-timestamp='1536003060' id='628914'>
<a class='timestamp' href='#628914'><time timestamp='2018-09-03T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
heh, i guess there could be a &quot;yes_i_verified_things_myself&quot; option that skips the check in signing
<br>
</div>

<div class='talk op-msg' data-timestamp='1536003060' id='628915'>
<a class='timestamp' href='#628915'><time timestamp='2018-09-03T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(no way for the offline signer to check the fee)
<br>
</div>

<div class='talk op-msg' data-timestamp='1536003060' id='628916'>
<a class='timestamp' href='#628916'><time timestamp='2018-09-03T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but you still need an updator first that understands the script being spent from
<br>
</div>

<div class='talk op-msg' data-timestamp='1536003060' id='628917'>
<a class='timestamp' href='#628917'><time timestamp='2018-09-03T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
so just adding amount/sPK isn&#x27;t enough
<br>
</div>

<div class='talk op-msg' data-timestamp='1536003060' id='628918'>
<a class='timestamp' href='#628918'><time timestamp='2018-09-03T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
gmaxwell: sipa and I concluded that it was always safe to produce a segwit signature. so the problem is really with non-segwit
<br>
</div>

<div class='talk op-msg' data-timestamp='1536003120' id='628919'>
<a class='timestamp' href='#628919'><time timestamp='2018-09-03T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
so if all of your inputs were segwit, you could bypass that check
<br>
</div>

<div class='talk op-msg' data-timestamp='1536003180' id='628920'>
<a class='timestamp' href='#628920'><time timestamp='2018-09-03T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
my idea was to add an RPC that takes a list of descriptors, and updates using those from the UTXO set
<br>
</div>

<div class='talk op-msg' data-timestamp='1536003180' id='628921'>
<a class='timestamp' href='#628921'><time timestamp='2018-09-03T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
which would only work for segwit inputs still
<br>
</div>

<div class='talk op-msg' data-timestamp='1536003180' id='628922'>
<a class='timestamp' href='#628922'><time timestamp='2018-09-03T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Thats a good idea. You should still update non-segwit. Its up to the signer to decide if it has enough information.
<br>
</div>

<div class='talk op-msg' data-timestamp='1536003240' id='628923'>
<a class='timestamp' href='#628923'><time timestamp='2018-09-03T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
gmaxwell: we can&#x27;t because we cant always fetch full transactions
<br>
</div>

<div class='talk op-msg' data-timestamp='1536003240' id='628924'>
<a class='timestamp' href='#628924'><time timestamp='2018-09-03T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
...
<br>
</div>

<div class='talk op-msg' data-timestamp='1536003240' id='628925'>
<a class='timestamp' href='#628925'><time timestamp='2018-09-03T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
If you are updating from the UTXO set you can&#x27;t provide full transactions. Absolutely. So don&#x27;t.
<br>
</div>

<div class='talk op-msg' data-timestamp='1536003240' id='628926'>
<a class='timestamp' href='#628926'><time timestamp='2018-09-03T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: if you want to sign without checking, you don&#x27;t need any information at all in the psby
<br>
</div>

<div class='talk op-msg' data-timestamp='1536003300' id='628927'>
<a class='timestamp' href='#628927'><time timestamp='2018-09-03T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
you need the scriptpubkeys.
<br>
</div>

<div class='talk op-msg' data-timestamp='1536003300' id='628928'>
<a class='timestamp' href='#628928'><time timestamp='2018-09-03T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
righr
<br>
</div>

<div class='talk op-msg' data-timestamp='1536003300' id='628929'>
<a class='timestamp' href='#628929'><time timestamp='2018-09-03T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I was hoping that this would replace an existing raw transaction workflow, but it not only doesn&#x27;t but it seems not what you and achow are arguing with me.
<br>
</div>

<div class='talk op-msg' data-timestamp='1536003300' id='628930'>
<a class='timestamp' href='#628930'><time timestamp='2018-09-03T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but there is no way to add that information in the psbt without providing a full tx
<br>
</div>

<div class='talk op-msg' data-timestamp='1536003360' id='628931'>
<a class='timestamp' href='#628931'><time timestamp='2018-09-03T19:36:00Z'>19:36</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
there is a field for input data to a non-segwit input
<br>
</div>

<div class='talk op-msg' data-timestamp='1536003360' id='628932'>
<a class='timestamp' href='#628932'><time timestamp='2018-09-03T19:36:00Z'>19:36</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and one for input to a segwit input
<br>
</div>

<div class='talk op-msg' data-timestamp='1536003360' id='628933'>
<a class='timestamp' href='#628933'><time timestamp='2018-09-03T19:36:00Z'>19:36</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
tbe first is a full tx, the second is amount/sPK
<br>
</div>

<div class='talk op-msg' data-timestamp='1536003360' id='628934'>
<a class='timestamp' href='#628934'><time timestamp='2018-09-03T19:36:00Z'>19:36</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Then PSBT as they are today cannot replace raw transactions.
<br>
</div>

<div class='talk op-msg' data-timestamp='1536003420' id='628935'>
<a class='timestamp' href='#628935'><time timestamp='2018-09-03T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
you could fill segwit info from utxo data, even for non-segwit inputs
<br>
</div>

<div class='talk op-msg' data-timestamp='1536003420' id='628936'>
<a class='timestamp' href='#628936'><time timestamp='2018-09-03T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but i expect various pieces of software will break
<br>
</div>

<div class='talk op-msg' data-timestamp='1536003420' id='628937'>
<a class='timestamp' href='#628937'><time timestamp='2018-09-03T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
hm. it could correctly distinguish segwit from not based on the spk.
<br>
</div>

<div class='talk op-msg' data-timestamp='1536003420' id='628938'>
<a class='timestamp' href='#628938'><time timestamp='2018-09-03T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Thats ugly.
<br>
</div>

<div class='talk op-msg' data-timestamp='1536003480' id='628939'>
<a class='timestamp' href='#628939'><time timestamp='2018-09-03T19:38:00Z'>19:38</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Better would be to just add a field type for non-sw utxo information, I think.
<br>
</div>

<div class='talk op-msg' data-timestamp='1536003480' id='628940'>
<a class='timestamp' href='#628940'><time timestamp='2018-09-03T19:38:00Z'>19:38</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
no
<br>
</div>

<div class='talk op-msg' data-timestamp='1536003480' id='628941'>
<a class='timestamp' href='#628941'><time timestamp='2018-09-03T19:38:00Z'>19:38</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
with a p2sh embedded segwit you can&#x27;t tell
<br>
</div>

<div class='talk op-msg' data-timestamp='1536003480' id='628942'>
<a class='timestamp' href='#628942'><time timestamp='2018-09-03T19:38:00Z'>19:38</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
oh, indeed.
<br>
</div>

<div class='talk op-msg' data-timestamp='1536003540' id='628943'>
<a class='timestamp' href='#628943'><time timestamp='2018-09-03T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i&#x27;m really scared about workflows that rely on unverifiable data
<br>
</div>

<div class='talk op-msg' data-timestamp='1536003540' id='628944'>
<a class='timestamp' href='#628944'><time timestamp='2018-09-03T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
In any case, for what I&#x27;m doing for the moment, my choices now are: download 200GB of blockchain OR give up on using PSBT and just use a plain raw tx workflow.
<br>
</div>

<div class='talk op-msg' data-timestamp='1536003540' id='628945'>
<a class='timestamp' href='#628945'><time timestamp='2018-09-03T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
So obviously I&#x27;m going to do the latter.
<br>
</div>

<div class='talk op-msg' data-timestamp='1536003600' id='628946'>
<a class='timestamp' href='#628946'><time timestamp='2018-09-03T19:40:00Z'>19:40</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i&#x27;m sure there is another way
<br>
</div>

<div class='talk op-msg' data-timestamp='1536003600' id='628947'>
<a class='timestamp' href='#628947'><time timestamp='2018-09-03T19:40:00Z'>19:40</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I suppose I could also go to the system that already has the blockchain and do a 6 hour rescan to add the relevant inputs to the wallet.
<br>
</div>

<div class='talk op-msg' data-timestamp='1536003660' id='628948'>
<a class='timestamp' href='#628948'><time timestamp='2018-09-03T19:41:00Z'>19:41</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
gmaxwell: I don&#x27;t quite follow what you are trying to do
<br>
</div>

<div class='talk op-msg' data-timestamp='1536003720' id='628949'>
<a class='timestamp' href='#628949'><time timestamp='2018-09-03T19:42:00Z'>19:42</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
achow101: sweep a key that is on an offline machine.  There isn&#x27;t any risk of &#x27;send the coins to fees&#x27; because I know apriori how much coins are there.
<br>
</div>

<div class='talk op-msg' data-timestamp='1536003720' id='628950'>
<a class='timestamp' href='#628950'><time timestamp='2018-09-03T19:42:00Z'>19:42</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: well, right now, the implementation in bitcoin core isn&#x27;t sufficient for non-wallet operation
<br>
</div>

<div class='talk op-msg' data-timestamp='1536003720' id='628951'>
<a class='timestamp' href='#628951'><time timestamp='2018-09-03T19:42:00Z'>19:42</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
just having utxo data isn&#x27;t enough; you also meed an updator which knows the pubkeys used, the redeemscripts, ...
<br>
</div>

<div class='talk op-msg' data-timestamp='1536003780' id='628952'>
<a class='timestamp' href='#628952'><time timestamp='2018-09-03T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that could be provided by a descriptor, but isn&#x27;t implemented yet
<br>
</div>

<div class='talk op-msg' data-timestamp='1536003780' id='628953'>
<a class='timestamp' href='#628953'><time timestamp='2018-09-03T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
this is easy to do with rawtx + scantxoutset  (or rawtx + a block explorer), I was expect PSBT to simpify it at least slightly.
<br>
</div>

<div class='talk op-msg' data-timestamp='1536003840' id='628954'>
<a class='timestamp' href='#628954'><time timestamp='2018-09-03T19:44:00Z'>19:44</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i&#x27;m sure it will, once there are a few extra RPCs
<br>
</div>

<div class='talk op-msg' data-timestamp='1536003840' id='628955'>
<a class='timestamp' href='#628955'><time timestamp='2018-09-03T19:44:00Z'>19:44</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
gmaxwell: it&#x27;s only easy to do since you verified that the spk and amounts are correct. that&#x27;s not something we can easily generalize
<br>
</div>

<div class='talk op-msg' data-timestamp='1536003840' id='628956'>
<a class='timestamp' href='#628956'><time timestamp='2018-09-03T19:44:00Z'>19:44</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I don&#x27;t see how based on the above conversation? 
<br>
</div>

<div class='talk op-msg' data-timestamp='1536003840' id='628957'>
<a class='timestamp' href='#628957'><time timestamp='2018-09-03T19:44:00Z'>19:44</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: for segwit inputs, at least
<br>
</div>

<div class='talk op-msg' data-timestamp='1536003900' id='628958'>
<a class='timestamp' href='#628958'><time timestamp='2018-09-03T19:45:00Z'>19:45</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
there could also be a signer that lets you bypass safety checks
<br>
</div>

<div class='talk op-msg' data-timestamp='1536003900' id='628959'>
<a class='timestamp' href='#628959'><time timestamp='2018-09-03T19:45:00Z'>19:45</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but i&#x27;m scared about that
<br>
</div>

<div class='talk op-msg' data-timestamp='1536003960' id='628960'>
<a class='timestamp' href='#628960'><time timestamp='2018-09-03T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
you managed to fail to be scared about that for years with that being the only way to use signrawtransaction. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1536004200' id='628961'>
<a class='timestamp' href='#628961'><time timestamp='2018-09-03T19:50:00Z'>19:50</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: fair
<br>
</div>

<div class='talk op-msg' data-timestamp='1536004260' id='628962'>
<a class='timestamp' href='#628962'><time timestamp='2018-09-03T19:51:00Z'>19:51</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
though i think psbt aims at being convenient for slightly less sophisticated users
<br>
</div>

<div class='talk op-msg' data-timestamp='1536004320' id='628963'>
<a class='timestamp' href='#628963'><time timestamp='2018-09-03T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
well the alternative is implement stuff to take the uxto data and then go fetch pruned blocks from the network to get the inputs.
<br>
</div>

<div class='talk op-msg' data-timestamp='1536004320' id='628964'>
<a class='timestamp' href='#628964'><time timestamp='2018-09-03T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
so then at least there is a way to easily get the inputs.
<br>
</div>

<div class='talk op-msg' data-timestamp='1536004320' id='628965'>
<a class='timestamp' href='#628965'><time timestamp='2018-09-03T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
ew
<br>
</div>

<div class='talk op-msg' data-timestamp='1536004380' id='628966'>
<a class='timestamp' href='#628966'><time timestamp='2018-09-03T19:53:00Z'>19:53</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i don&#x27;t think there is any harm in letting createpsbt take the amount/sPK and pass them through and create a segwit tx input field with those
<br>
</div>

<div class='talk op-msg' data-timestamp='1536004380' id='628967'>
<a class='timestamp' href='#628967'><time timestamp='2018-09-03T19:53:00Z'>19:53</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
which would be enough for an unsafe signer with knowledge of scripts/pubkeys to sign
<br>
</div>

<div class='talk op-msg' data-timestamp='1536004440' id='628968'>
<a class='timestamp' href='#628968'><time timestamp='2018-09-03T19:54:00Z'>19:54</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
but as I&#x27;m saying, because of limitations in PSBT, even with being willing to modify the software to remove a check there is no way for this to replace raw tx in my existing workflow.  I wouldn&#x27;t <u>_mind_</u> it putting the inputs in there, but there is no efficent way to get them on a pruned node. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1536004500' id='628969'>
<a class='timestamp' href='#628969'><time timestamp='2018-09-03T19:55:00Z'>19:55</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: if the checks are dropped, it would work fine, no?
<br>
</div>

<div class='talk op-msg' data-timestamp='1536004500' id='628970'>
<a class='timestamp' href='#628970'><time timestamp='2018-09-03T19:55:00Z'>19:55</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
you wouldn&#x27;t expect it to work in other software, though
<br>
</div>

<div class='talk op-msg' data-timestamp='1536004560' id='628971'>
<a class='timestamp' href='#628971'><time timestamp='2018-09-03T19:56:00Z'>19:56</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Yes, if you could pass along the data and bypass the checks it would work fine.  Though a way of fetching the information on a pruned node would be more general (e.g. would work with hardware wallets that don&#x27;t have a bypass)
<br>
</div>

<div class='talk op-msg' data-timestamp='1536004620' id='628972'>
<a class='timestamp' href='#628972'><time timestamp='2018-09-03T19:57:00Z'>19:57</time></a>
&lt;<span class='nick nick-8'> andytoshi</span>&gt;
i think PSBT should have an extension to support gmaxwell&#x27;s workflow .. even if the new field names have &quot;unsafe&quot; in them or something
<br>
</div>

<div class='talk op-msg' data-timestamp='1536004620' id='628973'>
<a class='timestamp' href='#628973'><time timestamp='2018-09-03T19:57:00Z'>19:57</time></a>
&lt;<span class='nick nick-8'> andytoshi</span>&gt;
or maybe this is purely about core RPC, and not PSBT itself
<br>
</div>

<div class='talk op-msg' data-timestamp='1536004620' id='628974'>
<a class='timestamp' href='#628974'><time timestamp='2018-09-03T19:57:00Z'>19:57</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sadly it sounds like PSBT needs an extension if its to accomidate this.
<br>
</div>

<div class='talk op-msg' data-timestamp='1536004680' id='628975'>
<a class='timestamp' href='#628975'><time timestamp='2018-09-03T19:58:00Z'>19:58</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(&#x27;this&#x27; being unchecked signing)
<br>
</div>

<div class='talk op-msg' data-timestamp='1536004680' id='628976'>
<a class='timestamp' href='#628976'><time timestamp='2018-09-03T19:58:00Z'>19:58</time></a>
&lt;<span class='nick nick-8'> andytoshi</span>&gt;
right .. it would be good if there was an &quot;amount_unsafe&quot; field or something that you could fill in, and if signers had good reason to trust it, they could use it
<br>
</div>

<div class='talk op-msg' data-timestamp='1536004680' id='628977'>
<a class='timestamp' href='#628977'><time timestamp='2018-09-03T19:58:00Z'>19:58</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
there is no need for amount data
<br>
</div>

<div class='talk op-msg' data-timestamp='1536004680' id='628978'>
<a class='timestamp' href='#628978'><time timestamp='2018-09-03T19:58:00Z'>19:58</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
only scriptPubKey
<br>
</div>

<div class='talk op-msg' data-timestamp='1536004680' id='628979'>
<a class='timestamp' href='#628979'><time timestamp='2018-09-03T19:58:00Z'>19:58</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
kanzure: is there an issue with the bitcoin-dev mailing? I sent an email 7h, but got nothing back from the list
<br>
</div>

<div class='talk op-msg' data-timestamp='1536004680' id='628980'>
<a class='timestamp' href='#628980'><time timestamp='2018-09-03T19:58:00Z'>19:58</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
they can use the amount_unsafe data to display/check fees.
<br>
</div>

<div class='talk op-msg' data-timestamp='1536004680' id='628981'>
<a class='timestamp' href='#628981'><time timestamp='2018-09-03T19:58:00Z'>19:58</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: that seems unwise
<br>
</div>

<div class='talk op-msg' data-timestamp='1536004740' id='628982'>
<a class='timestamp' href='#628982'><time timestamp='2018-09-03T19:59:00Z'>19:59</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
the only reason the data is there is so it can be verified
<br>
</div>

<div class='talk op-msg' data-timestamp='1536004740' id='628983'>
<a class='timestamp' href='#628983'><time timestamp='2018-09-03T19:59:00Z'>19:59</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
if you bypass that, and are willing to vouch you yourself did sufficient checking, that doesn&#x27;t seem needed
<br>
</div>

<div class='talk op-msg' data-timestamp='1536004740' id='628984'>
<a class='timestamp' href='#628984'><time timestamp='2018-09-03T19:59:00Z'>19:59</time></a>
&lt;<span class='nick nick-8'> andytoshi</span>&gt;
sipa: it does if you want a hardware wallet that does fee-checking, and its only means of communication is by PSBT
<br>
</div>

<div class='talk op-msg' data-timestamp='1536004800' id='628985'>
<a class='timestamp' href='#628985'><time timestamp='2018-09-03T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-8'> andytoshi</span>&gt;
otherwise you need an extra transport to pass it pre-verified daa
<br>
</div>

<div class='talk op-msg' data-timestamp='1536004800' id='628986'>
<a class='timestamp' href='#628986'><time timestamp='2018-09-03T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-8'> andytoshi</span>&gt;
data
<br>
</div>

<div class='talk op-msg' data-timestamp='1536004800' id='628987'>
<a class='timestamp' href='#628987'><time timestamp='2018-09-03T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
andytoshi: it can&#x27;t fee check if the amount isn&#x27;t verified
<br>
</div>

<div class='talk op-msg' data-timestamp='1536004800' id='628988'>
<a class='timestamp' href='#628988'><time timestamp='2018-09-03T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sipa: the &#x27;checking&#x27; of that part was done at an earlier stage.
<br>
</div>

<div class='talk op-msg' data-timestamp='1536004800' id='628989'>
<a class='timestamp' href='#628989'><time timestamp='2018-09-03T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-8'> andytoshi</span>&gt;
it sounds like gmax verified it when he made the transactions, and then didn&#x27;t keep the transactions around..
<br>
</div>

<div class='talk op-msg' data-timestamp='1536004800' id='628990'>
<a class='timestamp' href='#628990'><time timestamp='2018-09-03T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i&#x27;m confused
<br>
</div>

<div class='talk op-msg' data-timestamp='1536004860' id='628991'>
<a class='timestamp' href='#628991'><time timestamp='2018-09-03T20:01:00Z'>20:01</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
if you verified the fee data outside the hsm already, why do you need to tell it the amount?
<br>
</div>

<div class='talk op-msg' data-timestamp='1536004860' id='628992'>
<a class='timestamp' href='#628992'><time timestamp='2018-09-03T20:01:00Z'>20:01</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sipa: only UI convience wise.
<br>
</div>

<div class='talk op-msg' data-timestamp='1536004860' id='628993'>
<a class='timestamp' href='#628993'><time timestamp='2018-09-03T20:01:00Z'>20:01</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: again, that seems unwise if it&#x27;s unverified
<br>
</div>

<div class='talk op-msg' data-timestamp='1536004920' id='628994'>
<a class='timestamp' href='#628994'><time timestamp='2018-09-03T20:02:00Z'>20:02</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i think the hw signer should just say &quot;unverifiable data, agree to sign anyway?&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1536004920' id='628995'>
<a class='timestamp' href='#628995'><time timestamp='2018-09-03T20:02:00Z'>20:02</time></a>
&lt;<span class='nick nick-8'> andytoshi</span>&gt;
and the user can use a pocket calculator for the fee?
<br>
</div>

<div class='talk op-msg' data-timestamp='1536004920' id='628996'>
<a class='timestamp' href='#628996'><time timestamp='2018-09-03T20:02:00Z'>20:02</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
In any case, I don&#x27;t have a specific need for an unverifyed sign. I just need EITHER an unverfied sign, or a easy way to provide using a pruned node input tx for arbritary scriptpubkey that exist in the utxo set.
<br>
</div>

<div class='talk op-msg' data-timestamp='1536004980' id='628997'>
<a class='timestamp' href='#628997'><time timestamp='2018-09-03T20:03:00Z'>20:03</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
andytoshi: the user must have checked the fee already outside, before passing it to the signer anyway
<br>
</div>

<div class='talk op-msg' data-timestamp='1536004980' id='628998'>
<a class='timestamp' href='#628998'><time timestamp='2018-09-03T20:03:00Z'>20:03</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
andytoshi: so no, not a pocket calculator; just trusting himself which he&#x27;s already doing in an unverified setting
<br>
</div>

<div class='talk op-msg' data-timestamp='1536004980' id='628999'>
<a class='timestamp' href='#628999'><time timestamp='2018-09-03T20:03:00Z'>20:03</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
e.g. the &#x27;security upgrade&#x27; of getting the inputs is fine, so long as it doesn&#x27;t cost an N hour download the whole blockchain/recan.
<br>
</div>

<div class='talk op-msg' data-timestamp='1536005040' id='629000'>
<a class='timestamp' href='#629000'><time timestamp='2018-09-03T20:04:00Z'>20:04</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: how do you imagine that to work?
<br>
</div>

<div class='talk op-msg' data-timestamp='1536005040' id='629001'>
<a class='timestamp' href='#629001'><time timestamp='2018-09-03T20:04:00Z'>20:04</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sipa: the utxo has heights. get the inputs from the blocks, if we have them, otherwise go fetch the blocks.
<br>
</div>

<div class='talk op-msg' data-timestamp='1536005100' id='629002'>
<a class='timestamp' href='#629002'><time timestamp='2018-09-03T20:05:00Z'>20:05</time></a>
&lt;<span class='nick nick-8'> andytoshi</span>&gt;
sipa: i don&#x27;t feel strongly about this, but it&#x27;s annoying that the user is being forced to compute the fee herself and verify this when she has a hw signer that is perfectly capable of addition
<br>
</div>

<div class='talk op-msg' data-timestamp='1536005100' id='629003'>
<a class='timestamp' href='#629003'><time timestamp='2018-09-03T20:05:00Z'>20:05</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ah, i see
<br>
</div>

<div class='talk op-msg' data-timestamp='1536005160' id='629004'>
<a class='timestamp' href='#629004'><time timestamp='2018-09-03T20:06:00Z'>20:06</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Aside, AFAICT walletprocesspsbt  doesn&#x27;t even show the fees. nor does decodepsbt... so using bitcoin core rpc as your HSM doesn&#x27;t even provide any security improvement from having the inputs present? or am I missing it?
<br>
</div>

<div class='talk op-msg' data-timestamp='1536005160' id='629005'>
<a class='timestamp' href='#629005'><time timestamp='2018-09-03T20:06:00Z'>20:06</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
gmaxwell: decodepsbt does if all inputs are there
<br>
</div>

<div class='talk op-msg' data-timestamp='1536005160' id='629006'>
<a class='timestamp' href='#629006'><time timestamp='2018-09-03T20:06:00Z'>20:06</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
andytoshi: in this setting the user must have done far more complex things already
<br>
</div>

<div class='talk op-msg' data-timestamp='1536005220' id='629007'>
<a class='timestamp' href='#629007'><time timestamp='2018-09-03T20:07:00Z'>20:07</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
achow101: oh okay, still nothing forces you to call decode on it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1536005220' id='629008'>
<a class='timestamp' href='#629008'><time timestamp='2018-09-03T20:07:00Z'>20:07</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
walletcreatefundedpsbt also gives you the fee.
<br>
</div>

<div class='talk op-msg' data-timestamp='1536005280' id='629009'>
<a class='timestamp' href='#629009'><time timestamp='2018-09-03T20:08:00Z'>20:08</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
achow101: yes, and? that is something that I&#x27;m running on the online host... 
<br>
</div>

<div class='talk op-msg' data-timestamp='1536005280' id='629010'>
<a class='timestamp' href='#629010'><time timestamp='2018-09-03T20:08:00Z'>20:08</time></a>
&lt;<span class='nick nick-8'> andytoshi</span>&gt;
sipa: ok, fair enough
<br>
</div>

<div class='talk op-msg' data-timestamp='1536005340' id='629011'>
<a class='timestamp' href='#629011'><time timestamp='2018-09-03T20:09:00Z'>20:09</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
in any case, the only way to exploit the file format right now to do this is to create a segwit inout field (even for non-segwit inputs), which also stores the amount
<br>
</div>

<div class='talk op-msg' data-timestamp='1536005400' id='629012'>
<a class='timestamp' href='#629012'><time timestamp='2018-09-03T20:10:00Z'>20:10</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i just think it&#x27;s a bad idea to show a user information which is not verifiable - it&#x27;s fine if they&#x27;re willing to do verification elsewhere and let them override security checks
<br>
</div>

<div class='talk op-msg' data-timestamp='1536005400' id='629013'>
<a class='timestamp' href='#629013'><time timestamp='2018-09-03T20:10:00Z'>20:10</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
well one could also set the amount to the max value.
<br>
</div>

<div class='talk op-msg' data-timestamp='1536005460' id='629014'>
<a class='timestamp' href='#629014'><time timestamp='2018-09-03T20:11:00Z'>20:11</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
AFAIK there would never need to be a reason to override if we could reliably provide the inputs without absurd burdens, but right now we can&#x27;t do that.
<br>
</div>

<div class='talk op-msg' data-timestamp='1536005460' id='629015'>
<a class='timestamp' href='#629015'><time timestamp='2018-09-03T20:11:00Z'>20:11</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but that also means you don&#x27;t need to shwow it again:; they analysed it and trust it already
<br>
</div>

<div class='talk op-msg' data-timestamp='1536006240' id='629016'>
<a class='timestamp' href='#629016'><time timestamp='2018-09-03T20:24:00Z'>20:24</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
why did signrawtransactionwithkey permute the arguments.
<br>
</div>

<div class='talk op-msg' data-timestamp='1536006420' id='629017'>
<a class='timestamp' href='#629017'><time timestamp='2018-09-03T20:27:00Z'>20:27</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
permute?
<br>
</div>

<div class='talk op-msg' data-timestamp='1536006480' id='629018'>
<a class='timestamp' href='#629018'><time timestamp='2018-09-03T20:28:00Z'>20:28</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
signrawtransaction took  &lt;tx&gt; &lt;inputs&gt; &lt;privkeys&gt;   withkey takes &lt;tx&gt; &lt;privkeys&gt; &lt;inputs&gt;
<br>
</div>

<div class='talk op-msg' data-timestamp='1536006480' id='629019'>
<a class='timestamp' href='#629019'><time timestamp='2018-09-03T20:28:00Z'>20:28</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
withkey requires keys, but not inputs
<br>
</div>

<div class='talk op-msg' data-timestamp='1536006480' id='629020'>
<a class='timestamp' href='#629020'><time timestamp='2018-09-03T20:28:00Z'>20:28</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
inputs are optional for with key, but were optional in signraw
<br>
</div>

<div class='talk op-msg' data-timestamp='1536006540' id='629021'>
<a class='timestamp' href='#629021'><time timestamp='2018-09-03T20:29:00Z'>20:29</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
keys were optional in signraw
<br>
</div>

<div class='talk op-msg' data-timestamp='1536006540' id='629022'>
<a class='timestamp' href='#629022'><time timestamp='2018-09-03T20:29:00Z'>20:29</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
just resulted in a couple minutes of confusion dealing with uninformative &quot;JSON value is not a string as expected&quot; after changing a script due to deprication.
<br>
</div>

<div class='talk op-msg' data-timestamp='1536006540' id='629023'>
<a class='timestamp' href='#629023'><time timestamp='2018-09-03T20:29:00Z'>20:29</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Okay, makes sense I guess.
<br>
</div>

<div class='talk op-msg' data-timestamp='1536017460' id='629024'>
<a class='timestamp' href='#629024'><time timestamp='2018-09-03T23:31:00Z'>23:31</time></a>
&lt;<span class='nick nick-4'> kanzure</span>&gt;
sipa: apologies. mailing list is in moderation mode since someone figured out how to spoof emails from bitcoin developers. emails were delayed due to my travel.
<br>
</div>

</div>
</section>

</body>
</html>
