<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2019-03-24
 — 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2019-03-24' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:20 UTC</pre>
<pre><a href="/bitcoin-core-dev/2019-02-24">&lt;</a><span class='header'>    March 2019    </span><a href="/bitcoin-core-dev/2019-04-24">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;                <a class="" href="/bitcoin-core-dev/2019-03-01">1</a>  <a class="" href="/bitcoin-core-dev/2019-03-02">2</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2019-03-03">3</a>  <a class="" href="/bitcoin-core-dev/2019-03-04">4</a>  <a class="" href="/bitcoin-core-dev/2019-03-05">5</a>  <a class="" href="/bitcoin-core-dev/2019-03-06">6</a>  <a class="" href="/bitcoin-core-dev/2019-03-07">7</a>  <a class="" href="/bitcoin-core-dev/2019-03-08">8</a>  <a class="" href="/bitcoin-core-dev/2019-03-09">9</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2019-03-10">10</a> <a class="" href="/bitcoin-core-dev/2019-03-11">11</a> <a class="" href="/bitcoin-core-dev/2019-03-12">12</a> <a class="" href="/bitcoin-core-dev/2019-03-13">13</a> <a class="" href="/bitcoin-core-dev/2019-03-14">14</a> <a class="" href="/bitcoin-core-dev/2019-03-15">15</a> <a class="" href="/bitcoin-core-dev/2019-03-16">16</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2019-03-17">17</a> <a class="" href="/bitcoin-core-dev/2019-03-18">18</a> <a class="" href="/bitcoin-core-dev/2019-03-19">19</a> <a class="" href="/bitcoin-core-dev/2019-03-20">20</a> <a class="" href="/bitcoin-core-dev/2019-03-21">21</a> <a class="" href="/bitcoin-core-dev/2019-03-22">22</a> <a class="" href="/bitcoin-core-dev/2019-03-23">23</a>  &#x000A;<a class="current" href="/bitcoin-core-dev/2019-03-24">24</a> <a class="" href="/bitcoin-core-dev/2019-03-25">25</a> <a class="" href="/bitcoin-core-dev/2019-03-26">26</a> <a class="" href="/bitcoin-core-dev/2019-03-27">27</a> <a class="" href="/bitcoin-core-dev/2019-03-28">28</a> <a class="" href="/bitcoin-core-dev/2019-03-29">29</a> <a class="" href="/bitcoin-core-dev/2019-03-30">30</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2019-03-31">31</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1553387220' id='659941'>
<a class='timestamp' href='#659941'><time timestamp='2019-03-24T00:27:00Z'>00:27</time></a>
&lt;<span class='nick nick-2'> belcher</span>&gt;
a slight nuance with electrum is it sends hashes of scriptpubkeys, so addresses which are never used stay hidden (of course thats not much better)
<br>
</div>

<div class='talk op-msg' data-timestamp='1553387760' id='659942'>
<a class='timestamp' href='#659942'><time timestamp='2019-03-24T00:36:00Z'>00:36</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
it does? the protocol spec just has actual addresses though?
<br>
</div>

<div class='talk op-msg' data-timestamp='1553388000' id='659943'>
<a class='timestamp' href='#659943'><time timestamp='2019-03-24T00:40:00Z'>00:40</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
belcher: Keeping your irrelevant secrets safe!
<br>
</div>

<div class='talk op-msg' data-timestamp='1553388060' id='659944'>
<a class='timestamp' href='#659944'><time timestamp='2019-03-24T00:41:00Z'>00:41</time></a>
&lt;<span class='nick nick-2'> belcher</span>&gt;
luke-jr even if the the protocol supports it, electrum only uses scripthash when requesting
<br>
</div>

<div class='talk op-msg' data-timestamp='1553388060' id='659945'>
<a class='timestamp' href='#659945'><time timestamp='2019-03-24T00:41:00Z'>00:41</time></a>
&lt;<span class='nick nick-2'> belcher</span>&gt;
gmaxwell :D
<br>
</div>

<div class='talk op-msg' data-timestamp='1553388300' id='659946'>
<a class='timestamp' href='#659946'><time timestamp='2019-03-24T00:45:00Z'>00:45</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jonasschnelli: in the v2 p2p bip, 02 pubkeys are even and 03 ones are odd
<br>
</div>

<div class='talk op-msg' data-timestamp='1553390340' id='659947'>
<a class='timestamp' href='#659947'><time timestamp='2019-03-24T01:19:00Z'>01:19</time></a>
&lt;<span class='nick nick-1'> ghost43</span>&gt;
to clarify, electrum used to send addresses to servers, but around the time bip173 was published, the protocol was changed to sha256(scriptPubKey), to abstract away addresses
<br>
</div>

<div class='talk op-msg' data-timestamp='1553391480' id='659948'>
<a class='timestamp' href='#659948'><time timestamp='2019-03-24T01:38:00Z'>01:38</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I wasn&#x27;t aware of that until belcher mentioned it above, but it doesn&#x27;t have any privacy implication.. just allows the protocol to work independantly of address encodings.
<br>
</div>

<div class='talk op-msg' data-timestamp='1553392080' id='659949'>
<a class='timestamp' href='#659949'><time timestamp='2019-03-24T01:48:00Z'>01:48</time></a>
&lt;<span class='nick nick-1'> ghost43</span>&gt;
privacy was not a motivation at all. and you are right. I could come up with contrived counterexamples though; like having an address in a forum signature that never receives a transaction, and subscribing to an electrum server; the server would not be able to tie the two identities together. :P
<br>
</div>

<div class='talk op-msg' data-timestamp='1553392080' id='659950'>
<a class='timestamp' href='#659950'><time timestamp='2019-03-24T01:48:00Z'>01:48</time></a>
&lt;<span class='nick nick-1'> ghost43</span>&gt;
oh wait that does not work either, lol
<br>
</div>

<div class='talk op-msg' data-timestamp='1553395080' id='659951'>
<a class='timestamp' href='#659951'><time timestamp='2019-03-24T02:38:00Z'>02:38</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
Lightsword: AIUI, Bitpay rejects payments if they see the transaction broadcast before they get it
<br>
</div>

<div class='talk op-msg' data-timestamp='1553395500' id='659952'>
<a class='timestamp' href='#659952'><time timestamp='2019-03-24T02:45:00Z'>02:45</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
09:03:15 &lt; wumpus&gt; gmaxwell: that said, not finding <b>*one*</b> working node in 20+ hours is unexpected I think
<br>
</div>

<div class='talk op-msg' data-timestamp='1553395500' id='659953'>
<a class='timestamp' href='#659953'><time timestamp='2019-03-24T02:45:00Z'>02:45</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
thats my thought.... if it was two hours I wouldn&#x27;t have been surprised.
<br>
</div>

<div class='talk op-msg' data-timestamp='1553395740' id='659954'>
<a class='timestamp' href='#659954'><time timestamp='2019-03-24T02:49:00Z'>02:49</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
one line review: #15474
<br>
</div>

<div class='talk op-msg' data-timestamp='1553395740' id='659955'>
<a class='timestamp' href='#659955'><time timestamp='2019-03-24T02:49:00Z'>02:49</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/15474" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/15474</a> | rest/rpc: Make mempoolinfo atomic by promag · Pull Request #15474 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1553395800' id='659956'>
<a class='timestamp' href='#659956'><time timestamp='2019-03-24T02:50:00Z'>02:50</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
really thats a hundred thousand line review... it changes locking. :P
<br>
</div>

<div class='talk op-msg' data-timestamp='1553395860' id='659957'>
<a class='timestamp' href='#659957'><time timestamp='2019-03-24T02:51:00Z'>02:51</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
x)
<br>
</div>

<div class='talk op-msg' data-timestamp='1553395860' id='659958'>
<a class='timestamp' href='#659958'><time timestamp='2019-03-24T02:51:00Z'>02:51</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
you might enjoy this one then #15463
<br>
</div>

<div class='talk op-msg' data-timestamp='1553395860' id='659959'>
<a class='timestamp' href='#659959'><time timestamp='2019-03-24T02:51:00Z'>02:51</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/15463" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/15463</a> | rpc: Speedup getaddressesbylabel by promag · Pull Request #15463 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1553395860' id='659960'>
<a class='timestamp' href='#659960'><time timestamp='2019-03-24T02:51:00Z'>02:51</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(I guess not really since presumably all the things it calls except DynamicMemoryUsage are trivial) 
<br>
</div>

<div class='talk op-msg' data-timestamp='1553404260' id='659961'>
<a class='timestamp' href='#659961'><time timestamp='2019-03-24T05:11:00Z'>05:11</time></a>
&lt;<span class='nick nick-4'> whiteface</span>&gt;
which wallet is the best?
<br>
</div>

<div class='talk op-msg' data-timestamp='1553404320' id='659962'>
<a class='timestamp' href='#659962'><time timestamp='2019-03-24T05:12:00Z'>05:12</time></a>
&lt;<span class='nick nick-14'> Randolf</span>&gt;
whiteface: That question is better-suited for the #bitcoin channel.
<br>
</div>

<div class='talk op-msg' data-timestamp='1553404320' id='659963'>
<a class='timestamp' href='#659963'><time timestamp='2019-03-24T05:12:00Z'>05:12</time></a>
&lt;<span class='nick nick-4'> whiteface</span>&gt;
thank you
<br>
</div>

<div class='talk op-msg' data-timestamp='1553404380' id='659964'>
<a class='timestamp' href='#659964'><time timestamp='2019-03-24T05:13:00Z'>05:13</time></a>
&lt;<span class='nick nick-14'> Randolf</span>&gt;
You&#x27;re welcome.
<br>
</div>

<div class='talk op-msg' data-timestamp='1553405520' id='659965'>
<a class='timestamp' href='#659965'><time timestamp='2019-03-24T05:32:00Z'>05:32</time></a>
&lt;<span class='nick nick-15'> fanquake_</span>&gt;
Chris_Stewart_5 Could you take a look at #14853? I&#x27;ve dropped the Travis related commit.
<br>
</div>

<div class='talk op-msg' data-timestamp='1553405520' id='659966'>
<a class='timestamp' href='#659966'><time timestamp='2019-03-24T05:32:00Z'>05:32</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/14853" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/14853</a> | depends: latest RapidCheck by fanquake · Pull Request #14853 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1553422800' id='659967'>
<a class='timestamp' href='#659967'><time timestamp='2019-03-24T10:20:00Z'>10:20</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] promag closed pull request #13189: Remove 2nd mapTx lookup in CTxMemPool::removeForBlock (master...2018-05-txmempool-removeforblock) <a href="https://github.com/bitcoin/bitcoin/pull/13189" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/13189</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1553435220' id='659968'>
<a class='timestamp' href='#659968'><time timestamp='2019-03-24T13:47:00Z'>13:47</time></a>
&lt;<span class='nick nick-15'> fanquake_</span>&gt;
&quot;Shutdown hangs a bit in IBD&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1553435220' id='659969'>
<a class='timestamp' href='#659969'><time timestamp='2019-03-24T13:47:00Z'>13:47</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
yes?
<br>
</div>

<div class='talk op-msg' data-timestamp='1553435220' id='659970'>
<a class='timestamp' href='#659970'><time timestamp='2019-03-24T13:47:00Z'>13:47</time></a>
&lt;<span class='nick nick-15'> fanquake_</span>&gt;
very technical promag :p
<br>
</div>

<div class='talk op-msg' data-timestamp='1553435220' id='659971'>
<a class='timestamp' href='#659971'><time timestamp='2019-03-24T13:47:00Z'>13:47</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
:D
<br>
</div>

<div class='talk op-msg' data-timestamp='1553435220' id='659972'>
<a class='timestamp' href='#659972'><time timestamp='2019-03-24T13:47:00Z'>13:47</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
you tell me :p
<br>
</div>

<div class='talk op-msg' data-timestamp='1553435280' id='659973'>
<a class='timestamp' href='#659973'><time timestamp='2019-03-24T13:48:00Z'>13:48</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
fanquake_: in the 1st log you see it hangs for 19 seconds
<br>
</div>

<div class='talk op-msg' data-timestamp='1553435340' id='659974'>
<a class='timestamp' href='#659974'><time timestamp='2019-03-24T13:49:00Z'>13:49</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
something is blocking the shutdown
<br>
</div>

<div class='talk op-msg' data-timestamp='1553435340' id='659975'>
<a class='timestamp' href='#659975'><time timestamp='2019-03-24T13:49:00Z'>13:49</time></a>
&lt;<span class='nick nick-15'> echeveria</span>&gt;
isn&#x27;t that expected, to flush the cache to disk? 
<br>
</div>

<div class='talk op-msg' data-timestamp='1553435400' id='659976'>
<a class='timestamp' href='#659976'><time timestamp='2019-03-24T13:50:00Z'>13:50</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
from a clean datadir, launch and wait for some connections, then ctrl-c
<br>
</div>

<div class='talk op-msg' data-timestamp='1553435460' id='659977'>
<a class='timestamp' href='#659977'><time timestamp='2019-03-24T13:51:00Z'>13:51</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
echeveria: I don&#x27;t think it could take 20 seconds, especially right on the begin
<br>
</div>

<div class='talk op-msg' data-timestamp='1553435520' id='659978'>
<a class='timestamp' href='#659978'><time timestamp='2019-03-24T13:52:00Z'>13:52</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
echeveria: my system is also quite fast
<br>
</div>

<div class='talk op-msg' data-timestamp='1553435700' id='659979'>
<a class='timestamp' href='#659979'><time timestamp='2019-03-24T13:55:00Z'>13:55</time></a>
&lt;<span class='nick nick-5'> harding</span>&gt;
Took 8 seconds here from after initial connections established but before the first updatetip, on a fresh datadir with master.
<br>
</div>

<div class='talk op-msg' data-timestamp='1553435760' id='659980'>
<a class='timestamp' href='#659980'><time timestamp='2019-03-24T13:56:00Z'>13:56</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
harding: thanks
<br>
</div>

<div class='talk op-msg' data-timestamp='1553435760' id='659981'>
<a class='timestamp' href='#659981'><time timestamp='2019-03-24T13:56:00Z'>13:56</time></a>
&lt;<span class='nick nick-15'> echeveria</span>&gt;
promag: I mean, I can get it to take like 4 seconds to shut down if I attempt a connection, SIGINT, and then it waits briefly for the timeout. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1553435820' id='659982'>
<a class='timestamp' href='#659982'><time timestamp='2019-03-24T13:57:00Z'>13:57</time></a>
&lt;<span class='nick nick-5'> harding</span>&gt;
Here&#x27;s the big gap in my log: 2019-03-24T13:54:31Z msghand thread exit
<br>
</div>

<div class='talk op-msg' data-timestamp='1553435820' id='659983'>
<a class='timestamp' href='#659983'><time timestamp='2019-03-24T13:57:00Z'>13:57</time></a>
&lt;<span class='nick nick-5'> harding</span>&gt;
2019-03-24T13:54:39Z opencon thread exit
<br>
</div>

<div class='talk op-msg' data-timestamp='1553435820' id='659984'>
<a class='timestamp' href='#659984'><time timestamp='2019-03-24T13:57:00Z'>13:57</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
I don&#x27;t see a reason to hold that long
<br>
</div>

<div class='talk op-msg' data-timestamp='1553435820' id='659985'>
<a class='timestamp' href='#659985'><time timestamp='2019-03-24T13:57:00Z'>13:57</time></a>
&lt;<span class='nick nick-15'> echeveria</span>&gt;
2019-03-24T13:56:37.732765Z Shutdown: In progress...
<br>
</div>

<div class='talk op-msg' data-timestamp='1553435820' id='659986'>
<a class='timestamp' href='#659986'><time timestamp='2019-03-24T13:57:00Z'>13:57</time></a>
&lt;<span class='nick nick-15'> echeveria</span>&gt;
2019-03-24T13:56:41.248476Z Shutdown: done
<br>
</div>

<div class='talk op-msg' data-timestamp='1553435880' id='659987'>
<a class='timestamp' href='#659987'><time timestamp='2019-03-24T13:58:00Z'>13:58</time></a>
&lt;<span class='nick nick-15'> echeveria</span>&gt;
sort of pales in comparison to most people&#x27;s time to dump to disk. unless its holding up tests or hitting systemd timeouts I don&#x27;t see it as an issue particularly. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1553436000' id='659988'>
<a class='timestamp' href='#659988'><time timestamp='2019-03-24T14:00:00Z'>14:00</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
echeveria: if this happens in travis/appveyor then I think it could be improved
<br>
</div>

<div class='talk op-msg' data-timestamp='1553436060' id='659989'>
<a class='timestamp' href='#659989'><time timestamp='2019-03-24T14:01:00Z'>14:01</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
there are at least 2 &quot;interruptNet.sleep_for(std::chrono::seconds&quot; in the code
<br>
</div>

<div class='talk op-msg' data-timestamp='1553436960' id='659990'>
<a class='timestamp' href='#659990'><time timestamp='2019-03-24T14:16:00Z'>14:16</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
promag: travis storage is insanely slow, flushing takes forever.
<br>
</div>

<div class='talk op-msg' data-timestamp='1553436960' id='659991'>
<a class='timestamp' href='#659991'><time timestamp='2019-03-24T14:16:00Z'>14:16</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
taking 19 seconds is expected.
<br>
</div>

<div class='talk op-msg' data-timestamp='1553436960' id='659992'>
<a class='timestamp' href='#659992'><time timestamp='2019-03-24T14:16:00Z'>14:16</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
I&#x27;m seeing this locally
<br>
</div>

<div class='talk op-msg' data-timestamp='1553437020' id='659993'>
<a class='timestamp' href='#659993'><time timestamp='2019-03-24T14:17:00Z'>14:17</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
but not always, I&#x27;m trying to figure out what is causing it
<br>
</div>

<div class='talk op-msg' data-timestamp='1553437020' id='659994'>
<a class='timestamp' href='#659994'><time timestamp='2019-03-24T14:17:00Z'>14:17</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
turn debug=1 and see if you can see the cause from that?
<br>
</div>

<div class='talk op-msg' data-timestamp='1553437020' id='659995'>
<a class='timestamp' href='#659995'><time timestamp='2019-03-24T14:17:00Z'>14:17</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
yap
<br>
</div>

<div class='talk op-msg' data-timestamp='1553437080' id='659996'>
<a class='timestamp' href='#659996'><time timestamp='2019-03-24T14:18:00Z'>14:18</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
but sometimes in travis/appveyor there are random failures when stopping test nodes
<br>
</div>

<div class='talk op-msg' data-timestamp='1553437080' id='659997'>
<a class='timestamp' href='#659997'><time timestamp='2019-03-24T14:18:00Z'>14:18</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
your statement about it doing to right away surprises me, but if you said you waited log enough for dbcache to fill I wouldn&#x27;t be shocked if it took minutes.
<br>
</div>

<div class='talk op-msg' data-timestamp='1553437200' id='659998'>
<a class='timestamp' href='#659998'><time timestamp='2019-03-24T14:20:00Z'>14:20</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
gmaxwell: first of all, I only observe this in mainnet
<br>
</div>

<div class='talk op-msg' data-timestamp='1553437260' id='659999'>
<a class='timestamp' href='#659999'><time timestamp='2019-03-24T14:21:00Z'>14:21</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
clear datadir etc
<br>
</div>

<div class='talk op-msg' data-timestamp='1553437260' id='660000'>
<a class='timestamp' href='#660000'><time timestamp='2019-03-24T14:21:00Z'>14:21</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
bitcoind -debug
<br>
</div>

<div class='talk op-msg' data-timestamp='1553437260' id='660001'>
<a class='timestamp' href='#660001'><time timestamp='2019-03-24T14:21:00Z'>14:21</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
promag: thats consistent with it being actual flushing that makes it take time.
<br>
</div>

<div class='talk op-msg' data-timestamp='1553437260' id='660002'>
<a class='timestamp' href='#660002'><time timestamp='2019-03-24T14:21:00Z'>14:21</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(and the assc. fsyncs)
<br>
</div>

<div class='talk op-msg' data-timestamp='1553437440' id='660003'>
<a class='timestamp' href='#660003'><time timestamp='2019-03-24T14:24:00Z'>14:24</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
gmaxwell: see <a href="https://github.com/bitcoin/bitcoin/issues/15657#issuecomment-475964106" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/15657#issuecomment-475964106</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1553437500' id='660004'>
<a class='timestamp' href='#660004'><time timestamp='2019-03-24T14:25:00Z'>14:25</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
so it was waiting on the dnsseed lookups to finish.
<br>
</div>

<div class='talk op-msg' data-timestamp='1553437800' id='660005'>
<a class='timestamp' href='#660005'><time timestamp='2019-03-24T14:30:00Z'>14:30</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
gmaxwell: oh, but is it LookupHost that takes so long?
<br>
</div>

<div class='talk op-msg' data-timestamp='1553437920' id='660006'>
<a class='timestamp' href='#660006'><time timestamp='2019-03-24T14:32:00Z'>14:32</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
It certantly can, it waits on the network.
<br>
</div>

<div class='talk op-msg' data-timestamp='1553438880' id='660007'>
<a class='timestamp' href='#660007'><time timestamp='2019-03-24T14:48:00Z'>14:48</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
has anyone noticed the github web ui being a lot slower recently or is it just me?
<br>
</div>

<div class='talk op-msg' data-timestamp='1553439060' id='660008'>
<a class='timestamp' href='#660008'><time timestamp='2019-03-24T14:51:00Z'>14:51</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
harding: re your question on the mailing list about the transport BIP:   it&#x27;s hard to coordinate ID assignment.   The initial BIP obviously can just do so.
<br>
</div>

<div class='talk op-msg' data-timestamp='1553439060' id='660009'>
<a class='timestamp' href='#660009'><time timestamp='2019-03-24T14:51:00Z'>14:51</time></a>
&lt;<span class='nick nick-5'> harding</span>&gt;
gmaxwell: yeah, that&#x27;s what I didn&#x27;t understand, why the initial BIP doesn&#x27;t just do it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1553439120' id='660010'>
<a class='timestamp' href='#660010'><time timestamp='2019-03-24T14:52:00Z'>14:52</time></a>
&lt;<span class='nick nick-5'> harding</span>&gt;
(Especially since it is doing it for three of the messages.)
<br>
</div>

<div class='talk op-msg' data-timestamp='1553439120' id='660011'>
<a class='timestamp' href='#660011'><time timestamp='2019-03-24T14:52:00Z'>14:52</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
harding: one alternative would be that any further assignments are negoiated at connect time, then variable length could be ignored... but expecting all future messages to get static one byte asignments wouldn&#x27;t be realistic.
<br>
</div>

<div class='talk op-msg' data-timestamp='1553439480' id='660012'>
<a class='timestamp' href='#660012'><time timestamp='2019-03-24T14:58:00Z'>14:58</time></a>
&lt;<span class='nick nick-5'> harding</span>&gt;
I guess.  I know there&#x27;s been some contention over things like getdata msg_type between different node implementations before, but 200+ free values seems like enough space that everyone could just get along (or at least specify what they expect via version messages).  Perhaps I&#x27;m being too optimistic though.
<br>
</div>

<div class='talk op-msg' data-timestamp='1553439720' id='660013'>
<a class='timestamp' href='#660013'><time timestamp='2019-03-24T15:02:00Z'>15:02</time></a>
&lt;<span class='nick nick-5'> harding</span>&gt;
Oh, I guess with encryption and, hopefully, subsequent authentication, we could be expecting to see private extensions to P2P, which could significantly increase the number of message types.  Maybe then it does make more sense to have negotiation.
<br>
</div>

<div class='talk op-msg' data-timestamp='1553439720' id='660014'>
<a class='timestamp' href='#660014'><time timestamp='2019-03-24T15:02:00Z'>15:02</time></a>
&lt;<span class='nick nick-15'> echeveria</span>&gt;
is there any actually used implementation of a bitcoin node other than btcd and bitcoin core?
<br>
</div>

<div class='talk op-msg' data-timestamp='1553439900' id='660015'>
<a class='timestamp' href='#660015'><time timestamp='2019-03-24T15:05:00Z'>15:05</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
harding: it&#x27;s just too hard process wise to allocate ids.
<br>
</div>

<div class='talk op-msg' data-timestamp='1553439900' id='660016'>
<a class='timestamp' href='#660016'><time timestamp='2019-03-24T15:05:00Z'>15:05</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
like even just cordinating expiremental use...
<br>
</div>

<div class='talk op-msg' data-timestamp='1553439900' id='660017'>
<a class='timestamp' href='#660017'><time timestamp='2019-03-24T15:05:00Z'>15:05</time></a>
&lt;<span class='nick nick-5'> harding</span>&gt;
echeveria: not that I&#x27;m aware of at the moment.  I was thinking about 2015-17 contention between Bitcoin Core and some of the stuff Unlimited was doing.  Also XT had BIP64 support and a different protocol version.
<br>
</div>

<div class='talk op-msg' data-timestamp='1553439960' id='660018'>
<a class='timestamp' href='#660018'><time timestamp='2019-03-24T15:06:00Z'>15:06</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
but negoiation is probably sufficient, I don&#x27;t really see needing to have more than 256 message types, esp since a message type can be an extended-type-message 
<br>
</div>

<div class='talk op-msg' data-timestamp='1553439960' id='660019'>
<a class='timestamp' href='#660019'><time timestamp='2019-03-24T15:06:00Z'>15:06</time></a>
&lt;<span class='nick nick-5'> harding</span>&gt;
gmaxwell: fair enough.  I&#x27;ve seen enough food fights about BIP numbers.
<br>
</div>

<div class='talk op-msg' data-timestamp='1553440020' id='660020'>
<a class='timestamp' href='#660020'><time timestamp='2019-03-24T15:07:00Z'>15:07</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
But I can see an argument that the complexity of variable types would better be spent on negoiation, since thats eventually needed in any case... but like consider a message like &quot;sendheaders&quot; ... there is really no reason to give it a shortid.
<br>
</div>

<div class='talk op-msg' data-timestamp='1553440080' id='660021'>
<a class='timestamp' href='#660021'><time timestamp='2019-03-24T15:08:00Z'>15:08</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
so even if there were no variable length types, I think there would need to be one or more &quot;option messages&quot; that could be used for things like send headers, and then thats just introducing a variable length type, but maybe at a different &#x27;layer&#x27;
<br>
</div>

<div class='talk op-msg' data-timestamp='1553440140' id='660022'>
<a class='timestamp' href='#660022'><time timestamp='2019-03-24T15:09:00Z'>15:09</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(and maybe making it a different layer is a good idea)
<br>
</div>

<div class='talk op-msg' data-timestamp='1553440260' id='660023'>
<a class='timestamp' href='#660023'><time timestamp='2019-03-24T15:11:00Z'>15:11</time></a>
&lt;<span class='nick nick-15'> echeveria</span>&gt;
harding: the only other one I was thinking of was Parity Bitcoin, and they seemed to have only been funded to create that for a very short period. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1553440500' id='660024'>
<a class='timestamp' href='#660024'><time timestamp='2019-03-24T15:15:00Z'>15:15</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
harding: aside, I kinda worry that too much debate about the shortids will just get them dropped from the protocol... because they&#x27;re not that important.  But I think that would be a bit sad.
<br>
</div>

<div class='talk op-msg' data-timestamp='1553440500' id='660025'>
<a class='timestamp' href='#660025'><time timestamp='2019-03-24T15:15:00Z'>15:15</time></a>
&lt;<span class='nick nick-5'> harding</span>&gt;
gmaxwell: thanks for explaining.  It looked to me like unnecessary complexity, but as long as there&#x27;s a reasonable use for it (eliminating developer time wasted coordinating allocation), I&#x27;m fine with it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1553440560' id='660026'>
<a class='timestamp' href='#660026'><time timestamp='2019-03-24T15:16:00Z'>15:16</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
harding: yeah, I think that serves a purpose.
<br>
</div>

<div class='talk op-msg' data-timestamp='1553440560' id='660027'>
<a class='timestamp' href='#660027'><time timestamp='2019-03-24T15:16:00Z'>15:16</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(you might want to follow up on the list, I&#x27;m not on it anymore)
<br>
</div>

<div class='talk op-msg' data-timestamp='1553440560' id='660028'>
<a class='timestamp' href='#660028'><time timestamp='2019-03-24T15:16:00Z'>15:16</time></a>
&lt;<span class='nick nick-5'> harding</span>&gt;
:-(  Ok.
<br>
</div>

<div class='talk op-msg' data-timestamp='1553440620' id='660029'>
<a class='timestamp' href='#660029'><time timestamp='2019-03-24T15:17:00Z'>15:17</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(ironically, one of the relatively few cases where I think replying would be useful happens shortly after I unsub :P )
<br>
</div>

<div class='talk op-msg' data-timestamp='1553456640' id='660030'>
<a class='timestamp' href='#660030'><time timestamp='2019-03-24T19:44:00Z'>19:44</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jonasschnelli closed pull request #14050: Add chacha20/poly1305 and chacha20poly1305_AEAD from openssh (master...2018/08/bip151_chachapoly1305) <a href="https://github.com/bitcoin/bitcoin/pull/14050" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/14050</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1553464980' id='660031'>
<a class='timestamp' href='#660031'><time timestamp='2019-03-24T22:03:00Z'>22:03</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] r8921039 opened pull request #15659: [docs] fix findFork comment (master...fix_findFork_comment) <a href="https://github.com/bitcoin/bitcoin/pull/15659" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/15659</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1553466000' id='660032'>
<a class='timestamp' href='#660032'><time timestamp='2019-03-24T22:20:00Z'>22:20</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] sdaftuar opened pull request #15660: [qa] Overhaul p2p_compactblocks.py (master...2019-03-refactor-p2p-compactblocks-2) <a href="https://github.com/bitcoin/bitcoin/pull/15660" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/15660</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1553466180' id='660033'>
<a class='timestamp' href='#660033'><time timestamp='2019-03-24T22:23:00Z'>22:23</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
harding: I wrote a reply to your mailing list mail but it seem to not appear? any ideas?
<br>
</div>

<div class='talk op-msg' data-timestamp='1553466240' id='660034'>
<a class='timestamp' href='#660034'><time timestamp='2019-03-24T22:24:00Z'>22:24</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jonasschnelli: it takes a while 
<br>
</div>

<div class='talk op-msg' data-timestamp='1553466240' id='660035'>
<a class='timestamp' href='#660035'><time timestamp='2019-03-24T22:24:00Z'>22:24</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
all mails are manually approved
<br>
</div>

<div class='talk op-msg' data-timestamp='1553466300' id='660036'>
<a class='timestamp' href='#660036'><time timestamp='2019-03-24T22:25:00Z'>22:25</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Ah. I just saw that the discussion he had with Greg was 8h ago.. okay. fine
<br>
</div>

<div class='talk op-msg' data-timestamp='1553471580' id='660037'>
<a class='timestamp' href='#660037'><time timestamp='2019-03-24T23:53:00Z'>23:53</time></a>
&lt;<span class='nick nick-15'> fanquake_</span>&gt;
Who has access to bitcoincore.org, and could address #15658 ? cfields?
<br>
</div>

<div class='talk op-msg' data-timestamp='1553471580' id='660038'>
<a class='timestamp' href='#660038'><time timestamp='2019-03-24T23:53:00Z'>23:53</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/15658" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/15658</a> | depends: files missing from bitcoincore.org fallback · Issue #15658 · bitcoin/bitcoin · GitHub
<br>
</div>

</div>
</section>

</body>
</html>
