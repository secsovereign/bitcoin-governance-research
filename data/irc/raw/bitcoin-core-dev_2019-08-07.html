<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2019-08-07
 ‚Äî 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2019-08-07' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:19 UTC</pre>
<pre><a href="/bitcoin-core-dev/2019-07-07">&lt;</a><span class='header'>   August 2019    </span><a href="/bitcoin-core-dev/2019-09-07">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;             <a class="" href="/bitcoin-core-dev/2019-08-01">1</a>  <a class="" href="/bitcoin-core-dev/2019-08-02">2</a>  <a class="" href="/bitcoin-core-dev/2019-08-03">3</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2019-08-04">4</a>  <a class="" href="/bitcoin-core-dev/2019-08-05">5</a>  <a class="" href="/bitcoin-core-dev/2019-08-06">6</a>  <a class="current" href="/bitcoin-core-dev/2019-08-07">7</a>  <a class="" href="/bitcoin-core-dev/2019-08-08">8</a>  <a class="" href="/bitcoin-core-dev/2019-08-09">9</a> <a class="" href="/bitcoin-core-dev/2019-08-10">10</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2019-08-11">11</a> <a class="" href="/bitcoin-core-dev/2019-08-12">12</a> <a class="" href="/bitcoin-core-dev/2019-08-13">13</a> <a class="" href="/bitcoin-core-dev/2019-08-14">14</a> <a class="" href="/bitcoin-core-dev/2019-08-15">15</a> <a class="" href="/bitcoin-core-dev/2019-08-16">16</a> <a class="" href="/bitcoin-core-dev/2019-08-17">17</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2019-08-18">18</a> <a class="" href="/bitcoin-core-dev/2019-08-19">19</a> <a class="" href="/bitcoin-core-dev/2019-08-20">20</a> <a class="" href="/bitcoin-core-dev/2019-08-21">21</a> <a class="" href="/bitcoin-core-dev/2019-08-22">22</a> <a class="" href="/bitcoin-core-dev/2019-08-23">23</a> <a class="" href="/bitcoin-core-dev/2019-08-24">24</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2019-08-25">25</a> <a class="" href="/bitcoin-core-dev/2019-08-26">26</a> <a class="" href="/bitcoin-core-dev/2019-08-27">27</a> <a class="" href="/bitcoin-core-dev/2019-08-28">28</a> <a class="" href="/bitcoin-core-dev/2019-08-29">29</a> <a class="" href="/bitcoin-core-dev/2019-08-30">30</a> <a class="" href="/bitcoin-core-dev/2019-08-31">31</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1565136840' id='675725'>
<a class='timestamp' href='#675725'><time timestamp='2019-08-07T00:14:00Z'>00:14</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
sipa: would you be able to address feedback in #15558 when you get a chance?
<br>
</div>

<div class='talk op-msg' data-timestamp='1565136840' id='675726'>
<a class='timestamp' href='#675726'><time timestamp='2019-08-07T00:14:00Z'>00:14</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/15558" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/15558</a> | Dont query all DNS seeds at once by sipa ¬∑ Pull Request #15558 ¬∑ bitcoin/bitcoin ¬∑ GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1565137380' id='675727'>
<a class='timestamp' href='#675727'><time timestamp='2019-08-07T00:23:00Z'>00:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
fanquake: on it
<br>
</div>

<div class='talk op-msg' data-timestamp='1565137560' id='675728'>
<a class='timestamp' href='#675728'><time timestamp='2019-08-07T00:26:00Z'>00:26</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
sipa: cheers
<br>
</div>

<div class='talk op-msg' data-timestamp='1565166360' id='675729'>
<a class='timestamp' href='#675729'><time timestamp='2019-08-07T08:26:00Z'>08:26</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
jonasschnelli: Will you be uploading some macOS sigs soonish? I can only see win sigs for 0.18.1 so far.
<br>
</div>

<div class='talk op-msg' data-timestamp='1565166480' id='675730'>
<a class='timestamp' href='#675730'><time timestamp='2019-08-07T08:28:00Z'>08:28</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
fanquake: I will take a look when I&#x27;m back in my office (3-4h).
<br>
</div>

<div class='talk op-msg' data-timestamp='1565166480' id='675731'>
<a class='timestamp' href='#675731'><time timestamp='2019-08-07T08:28:00Z'>08:28</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
jonasschnelli: thanks!
<br>
</div>

<div class='talk op-msg' data-timestamp='1565168520' id='675732'>
<a class='timestamp' href='#675732'><time timestamp='2019-08-07T09:02:00Z'>09:02</time></a>
&lt;<span class='nick nick-11'> kallewoof</span>&gt;
jnewbery: see my comment on your PR
<br>
</div>

<div class='talk op-msg' data-timestamp='1565171100' id='675733'>
<a class='timestamp' href='#675733'><time timestamp='2019-08-07T09:45:00Z'>09:45</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
promag: re steps to reproduce #16307 (sorry it&#x27;s taken so long). The best I can give you is just spam load and unload wallet actions from the GUI. &quot;Eventually&quot; it might happen.
<br>
</div>

<div class='talk op-msg' data-timestamp='1565171100' id='675734'>
<a class='timestamp' href='#675734'><time timestamp='2019-08-07T09:45:00Z'>09:45</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/16307" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/16307</a> | scheduler: crash after releasing wallet ¬∑ Issue #16307 ¬∑ bitcoin/bitcoin ¬∑ GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1565171100' id='675735'>
<a class='timestamp' href='#675735'><time timestamp='2019-08-07T09:45:00Z'>09:45</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
I saw a different, new crash today as well: <a href="https://gist.github.com/fanquake/678aea41c7d6a4f7de8e2ebf1efc3467" class="link" target="_blank">https://gist.github.com/fanquake/678aea41c7d6a4f7de8e2ebf1efc3467</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1565173500' id='675736'>
<a class='timestamp' href='#675736'><time timestamp='2019-08-07T10:25:00Z'>10:25</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Fun fact, and something to be aware of when reviewing: if Travis flags the account of a contributor, it won&#x27;t build their pull request. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1565173500' id='675737'>
<a class='timestamp' href='#675737'><time timestamp='2019-08-07T10:25:00Z'>10:25</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
This doesn&#x27;t show up as a failure! You still see a green check mark under the PR because of AppVeyor.
<br>
</div>

<div class='talk op-msg' data-timestamp='1565173560' id='675738'>
<a class='timestamp' href='#675738'><time timestamp='2019-08-07T10:26:00Z'>10:26</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Also Travis doesn&#x27;t email you when they flag your account, which is I why I didn&#x27;t found out for days, see e.g. #16555
<br>
</div>

<div class='talk op-msg' data-timestamp='1565173560' id='675739'>
<a class='timestamp' href='#675739'><time timestamp='2019-08-07T10:26:00Z'>10:26</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/16555" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/16555</a> | [doc] mention whitelist is inbound, and applies to blocksonly by Sjors ¬∑ Pull Request #16555 ¬∑ bitcoin/bitcoin ¬∑ GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1565173560' id='675740'>
<a class='timestamp' href='#675740'><time timestamp='2019-08-07T10:26:00Z'>10:26</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
(I contacted their support now to ask what happened)
<br>
</div>

<div class='talk op-msg' data-timestamp='1565173680' id='675741'>
<a class='timestamp' href='#675741'><time timestamp='2019-08-07T10:28:00Z'>10:28</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
fanquake: ok thanks, I&#x27;ll see what I can find
<br>
</div>

<div class='talk op-msg' data-timestamp='1565176860' id='675742'>
<a class='timestamp' href='#675742'><time timestamp='2019-08-07T11:21:00Z'>11:21</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] practicalswift opened pull request #16561: tests: Add test_runner.py option --parsable (master...parsable) <a href="https://github.com/bitcoin/bitcoin/pull/16561" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/16561</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1565179860' id='675743'>
<a class='timestamp' href='#675743'><time timestamp='2019-08-07T12:11:00Z'>12:11</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke closed pull request #16465: test: Test p2sh-witness and bech32 in wallet_import_rescan (master...1907-testAllAddressTypesImport) <a href="https://github.com/bitcoin/bitcoin/pull/16465" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/16465</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1565179860' id='675744'>
<a class='timestamp' href='#675744'><time timestamp='2019-08-07T12:11:00Z'>12:11</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke reopened pull request #16465: test: Test p2sh-witness and bech32 in wallet_import_rescan (master...1907-testAllAddressTypesImport) <a href="https://github.com/bitcoin/bitcoin/pull/16465" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/16465</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1565181120' id='675745'>
<a class='timestamp' href='#675745'><time timestamp='2019-08-07T12:32:00Z'>12:32</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
provoostenator: contributors&#x27; accounts have been flagged in the past because it looks like they&#x27;re using travis for mining. An email to support usually gets in unblocked pretty quickly.
<br>
</div>

<div class='talk op-msg' data-timestamp='1565181240' id='675746'>
<a class='timestamp' href='#675746'><time timestamp='2019-08-07T12:34:00Z'>12:34</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
provoostenator: Going to send them an email. I do this every couple of weeks, and I have an email template
<br>
</div>

<div class='talk op-msg' data-timestamp='1565181240' id='675747'>
<a class='timestamp' href='#675747'><time timestamp='2019-08-07T12:34:00Z'>12:34</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
God I can&#x27;t wait to get rid of travis
<br>
</div>

<div class='talk op-msg' data-timestamp='1565181240' id='675748'>
<a class='timestamp' href='#675748'><time timestamp='2019-08-07T12:34:00Z'>12:34</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Thanks, I sent them an email earlier today.
<br>
</div>

<div class='talk op-msg' data-timestamp='1565181480' id='675749'>
<a class='timestamp' href='#675749'><time timestamp='2019-08-07T12:38:00Z'>12:38</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
kallewoof: thanks. Will look at it this morning. I think behaviour is basically unchanged, except for log spam.
<br>
</div>

<div class='talk op-msg' data-timestamp='1565181540' id='675750'>
<a class='timestamp' href='#675750'><time timestamp='2019-08-07T12:39:00Z'>12:39</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
I guess it makes sense to revert the &quot;Remove redundant checks&quot; commit
<br>
</div>

<div class='talk op-msg' data-timestamp='1565181660' id='675751'>
<a class='timestamp' href='#675751'><time timestamp='2019-08-07T12:41:00Z'>12:41</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
Assuming a wallet with 100k txs, this will fill up the debug log in no time
<br>
</div>

<div class='talk op-msg' data-timestamp='1565184540' id='675752'>
<a class='timestamp' href='#675752'><time timestamp='2019-08-07T13:29:00Z'>13:29</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
OSX sigs for 0.18.1 are ready to review and merge: <a href="https://github.com/bitcoin-core/bitcoin-detached-sigs/pull/28" class="link" target="_blank">https://github.com/bitcoin-core/bitcoin-detached-sigs/pull/28</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1565184960' id='675753'>
<a class='timestamp' href='#675753'><time timestamp='2019-08-07T13:36:00Z'>13:36</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
[merged]
<br>
</div>

<div class='talk op-msg' data-timestamp='1565184960' id='675754'>
<a class='timestamp' href='#675754'><time timestamp='2019-08-07T13:36:00Z'>13:36</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
!start your gitian builders!
<br>
</div>

<div class='talk op-msg' data-timestamp='1565184960' id='675755'>
<a class='timestamp' href='#675755'><time timestamp='2019-08-07T13:36:00Z'>13:36</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
Error: &quot;start&quot; is not a valid command.
<br>
</div>

<div class='talk op-msg' data-timestamp='1565184960' id='675756'>
<a class='timestamp' href='#675756'><time timestamp='2019-08-07T13:36:00Z'>13:36</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
üöÄ
<br>
</div>

<div class='talk op-msg' data-timestamp='1565185980' id='675757'>
<a class='timestamp' href='#675757'><time timestamp='2019-08-07T13:53:00Z'>13:53</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
fanquake: wait... it&#x27;s not merged. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1565185980' id='675758'>
<a class='timestamp' href='#675758'><time timestamp='2019-08-07T13:53:00Z'>13:53</time></a>
&lt;<span class='nick nick-12'> * jonasschnelli</span>&gt;
stops his gitian build
<br>
</div>

<div class='talk op-msg' data-timestamp='1565185980' id='675759'>
<a class='timestamp' href='#675759'><time timestamp='2019-08-07T13:53:00Z'>13:53</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
<a href="https://github.com/bitcoin-core/bitcoin-detached-sigs/pull/28" class="link" target="_blank">https://github.com/bitcoin-core/bitcoin-detached-sigs/pull/28</a> still open
<br>
</div>

<div class='talk op-msg' data-timestamp='1565185980' id='675760'>
<a class='timestamp' href='#675760'><time timestamp='2019-08-07T13:53:00Z'>13:53</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
(confused it with my gitian sigs)
<br>
</div>

<div class='talk op-msg' data-timestamp='1565186400' id='675761'>
<a class='timestamp' href='#675761'><time timestamp='2019-08-07T14:00:00Z'>14:00</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
jonasschnelli: yea I only merged your sigs. Cory can check the detached.
<br>
</div>

<div class='talk op-msg' data-timestamp='1565186400' id='675762'>
<a class='timestamp' href='#675762'><time timestamp='2019-08-07T14:00:00Z'>14:00</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sure... thanks
<br>
</div>

<div class='talk op-msg' data-timestamp='1565188380' id='675763'>
<a class='timestamp' href='#675763'><time timestamp='2019-08-07T14:33:00Z'>14:33</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
fanquake: btw thanks for pointing me to the PRs I looked at at some point but never ended up reviewing :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1565188500' id='675764'>
<a class='timestamp' href='#675764'><time timestamp='2019-08-07T14:35:00Z'>14:35</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
gleb: no worries üëç
<br>
</div>

<div class='talk op-msg' data-timestamp='1565188500' id='675765'>
<a class='timestamp' href='#675765'><time timestamp='2019-08-07T14:35:00Z'>14:35</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
Thanks for following up
<br>
</div>

<div class='talk op-msg' data-timestamp='1565188920' id='675766'>
<a class='timestamp' href='#675766'><time timestamp='2019-08-07T14:42:00Z'>14:42</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jonasschnelli opened pull request #16562: Refactor message transport packaging (master...2019/06/net_refactor_2) <a href="https://github.com/bitcoin/bitcoin/pull/16562" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/16562</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1565189520' id='675767'>
<a class='timestamp' href='#675767'><time timestamp='2019-08-07T14:52:00Z'>14:52</time></a>
&lt;<span class='nick nick-16'> * provoostenator</span>&gt;
aborts gitian build
<br>
</div>

<div class='talk op-msg' data-timestamp='1565189580' id='675768'>
<a class='timestamp' href='#675768'><time timestamp='2019-08-07T14:53:00Z'>14:53</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Optech newsletter jumped the gun on &quot;Upgrade to Bitcoin Core 0.18.1&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1565189640' id='675769'>
<a class='timestamp' href='#675769'><time timestamp='2019-08-07T14:54:00Z'>14:54</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
oops. We&#x27;ll tweet a correction and update the newsletter on our site.
<br>
</div>

<div class='talk op-msg' data-timestamp='1565190420' id='675770'>
<a class='timestamp' href='#675770'><time timestamp='2019-08-07T15:07:00Z'>15:07</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] mzumsande opened pull request #16563: test: Add unit test for AddTimeData (master...201908_test_timedata) <a href="https://github.com/bitcoin/bitcoin/pull/16563" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/16563</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1565192340' id='675771'>
<a class='timestamp' href='#675771'><time timestamp='2019-08-07T15:39:00Z'>15:39</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] candrews opened pull request #16564: Always define the raii_event_tests test suite (0.18...patch-1) <a href="https://github.com/bitcoin/bitcoin/pull/16564" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/16564</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1565199360' id='675772'>
<a class='timestamp' href='#675772'><time timestamp='2019-08-07T17:36:00Z'>17:36</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
For addrv2, it seems that version messages are also affected... Not sure what the best way to resolve is. If we keep as is, then what do Torv3 senders/receivers set as their `addr_{from,recv}`? If we change to new serialization, old nodes will be confused. It seems that we need a versionv2 as well, that&#x27;s upgraded to by first sending a versionv1? (kind of messy)
<br>
</div>

<div class='talk op-msg' data-timestamp='1565201220' id='675773'>
<a class='timestamp' href='#675773'><time timestamp='2019-08-07T18:07:00Z'>18:07</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
dongcarl: good point. Maybe wumpus have made some thoughts already on this. Probably something for the thursday meeting.
<br>
</div>

<div class='talk op-msg' data-timestamp='1565201280' id='675774'>
<a class='timestamp' href='#675774'><time timestamp='2019-08-07T18:08:00Z'>18:08</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
jonasschnelli: Sounds good, I&#x27;ll bring it up
<br>
</div>

<div class='talk op-msg' data-timestamp='1565201700' id='675775'>
<a class='timestamp' href='#675775'><time timestamp='2019-08-07T18:15:00Z'>18:15</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
requesting Cory review on <a href="https://github.com/bitcoin/bitcoin/pull/16562" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/16562</a> (especially a comment on the joining of header&amp;payload as single buffer in vSendMsg)
<br>
</div>

<div class='talk op-msg' data-timestamp='1565203020' id='675776'>
<a class='timestamp' href='#675776'><time timestamp='2019-08-07T18:37:00Z'>18:37</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
achow101 is currently live streaming some wallet dev: <a href="https://www.twitch.tv/achow101/" class="link" target="_blank">https://www.twitch.tv/achow101/</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1565203380' id='675777'>
<a class='timestamp' href='#675777'><time timestamp='2019-08-07T18:43:00Z'>18:43</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
nice!
<br>
</div>

<div class='talk op-msg' data-timestamp='1565205240' id='675778'>
<a class='timestamp' href='#675778'><time timestamp='2019-08-07T19:14:00Z'>19:14</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
dongcarl: I don&#x27;t think the address in the version message is of any relevance to tor, or other protocols where there&#x27;s no known &#x27;from&#x27; address
<br>
</div>

<div class='talk op-msg' data-timestamp='1565205360' id='675779'>
<a class='timestamp' href='#675779'><time timestamp='2019-08-07T19:16:00Z'>19:16</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
wumpus: what about  `addr_recv `?
<br>
</div>

<div class='talk op-msg' data-timestamp='1565205360' id='675780'>
<a class='timestamp' href='#675780'><time timestamp='2019-08-07T19:16:00Z'>19:16</time></a>
&lt;<span class='nick nick-7'> * dongcarl</span>&gt;
is complete aware that he might be misunderstanding this whole situation
<br>
</div>

<div class='talk op-msg' data-timestamp='1565205360' id='675781'>
<a class='timestamp' href='#675781'><time timestamp='2019-08-07T19:16:00Z'>19:16</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
completely*
<br>
</div>

<div class='talk op-msg' data-timestamp='1565205420' id='675782'>
<a class='timestamp' href='#675782'><time timestamp='2019-08-07T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i think we rely on the addr in the version message to tell a peer through which address we&#x27;re connecting to them
<br>
</div>

<div class='talk op-msg' data-timestamp='1565205420' id='675783'>
<a class='timestamp' href='#675783'><time timestamp='2019-08-07T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
to figure out which incoming addresses work
<br>
</div>

<div class='talk op-msg' data-timestamp='1565205420' id='675784'>
<a class='timestamp' href='#675784'><time timestamp='2019-08-07T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
which would still exist with TorV3?
<br>
</div>

<div class='talk op-msg' data-timestamp='1565205600' id='675785'>
<a class='timestamp' href='#675785'><time timestamp='2019-08-07T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
sipa: oh, you&#x27;re right
<br>
</div>

<div class='talk op-msg' data-timestamp='1565205600' id='675786'>
<a class='timestamp' href='#675786'><time timestamp='2019-08-07T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
Oh, I&#x27;m only vaguely aware that this piece of logic exists... Is there documentation or code I can read?
<br>
</div>

<div class='talk op-msg' data-timestamp='1565205660' id='675787'>
<a class='timestamp' href='#675787'><time timestamp='2019-08-07T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i&#x27;m not sure it&#x27;s particularly useful
<br>
</div>

<div class='talk op-msg' data-timestamp='1565205720' id='675788'>
<a class='timestamp' href='#675788'><time timestamp='2019-08-07T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
dongcarl: maybe this could be part of the <a href="https://github.com/bitcoin/bips/pull/766#issuecomment-517003833" class="link" target="_blank">https://github.com/bitcoin/bips/pull/766#issuecomment-517003833</a>  sendaddrv2 message here to notify peers of addrv2 support (which was poroposed as alternative to the protocol version bump the BIP currently documents)
<br>
</div>

<div class='talk op-msg' data-timestamp='1565205780' id='675789'>
<a class='timestamp' href='#675789'><time timestamp='2019-08-07T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
dongcarl: I think the handling of the VERSION message is the only &#x27;documentation&#x27; for this
<br>
</div>

<div class='talk op-msg' data-timestamp='1565205780' id='675790'>
<a class='timestamp' href='#675790'><time timestamp='2019-08-07T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
a sendaddrv2 message would go after a version message though
<br>
</div>

<div class='talk op-msg' data-timestamp='1565205780' id='675791'>
<a class='timestamp' href='#675791'><time timestamp='2019-08-07T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-7'> * dongcarl</span>&gt;
thinking
<br>
</div>

<div class='talk op-msg' data-timestamp='1565205780' id='675792'>
<a class='timestamp' href='#675792'><time timestamp='2019-08-07T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
so maybe the proposal should be to send a specific dummy address in the version message when v2 is in use
<br>
</div>

<div class='talk op-msg' data-timestamp='1565205780' id='675793'>
<a class='timestamp' href='#675793'><time timestamp='2019-08-07T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
sipa: yes, so it can extend the version in the version message
<br>
</div>

<div class='talk op-msg' data-timestamp='1565205780' id='675794'>
<a class='timestamp' href='#675794'><time timestamp='2019-08-07T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and send the actual one inside the sendaddrv2
<br>
</div>

<div class='talk op-msg' data-timestamp='1565205780' id='675795'>
<a class='timestamp' href='#675795'><time timestamp='2019-08-07T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes, that
<br>
</div>

<div class='talk op-msg' data-timestamp='1565205780' id='675796'>
<a class='timestamp' href='#675796'><time timestamp='2019-08-07T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
sipa: Yeah that&#x27;s what I&#x27;m thinking
<br>
</div>

<div class='talk op-msg' data-timestamp='1565205840' id='675797'>
<a class='timestamp' href='#675797'><time timestamp='2019-08-07T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I don&#x27;t want to change the version message itself for this
<br>
</div>

<div class='talk op-msg' data-timestamp='1565205840' id='675798'>
<a class='timestamp' href='#675798'><time timestamp='2019-08-07T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
that&#x27;s even worse than changing the protocol version :-)
<br>
</div>

<div class='talk op-msg' data-timestamp='1565205900' id='675799'>
<a class='timestamp' href='#675799'><time timestamp='2019-08-07T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
wumpus: I&#x27;m not 100% sure why we need sendaddrv2 though, why doesn&#x27;t the protocl VERSION bump work?
<br>
</div>

<div class='talk op-msg' data-timestamp='1565205900' id='675800'>
<a class='timestamp' href='#675800'><time timestamp='2019-08-07T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
dongcarl: because protocol version bumps require monotonically increasing features
<br>
</div>

<div class='talk op-msg' data-timestamp='1565205900' id='675801'>
<a class='timestamp' href='#675801'><time timestamp='2019-08-07T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
dongcarl: please read the discussion in that PR
<br>
</div>

<div class='talk op-msg' data-timestamp='1565205900' id='675802'>
<a class='timestamp' href='#675802'><time timestamp='2019-08-07T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
dongcarl: (esp marcofalke&#x27;s point)
<br>
</div>

<div class='talk op-msg' data-timestamp='1565206200' id='675803'>
<a class='timestamp' href='#675803'><time timestamp='2019-08-07T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
wumpus: When I talked to MarcoFalke in person, he said it doesn&#x27;t matter that much... But I can see the point for feature-monotonic protocol versions
<br>
</div>

<div class='talk op-msg' data-timestamp='1565206260' id='675804'>
<a class='timestamp' href='#675804'><time timestamp='2019-08-07T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
A little uncomfortable about adding another protocol message though...
<br>
</div>

<div class='talk op-msg' data-timestamp='1565206320' id='675805'>
<a class='timestamp' href='#675805'><time timestamp='2019-08-07T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
if we need an extended-version message anyway, then this could have the two purposes at once
<br>
</div>

<div class='talk op-msg' data-timestamp='1565206320' id='675806'>
<a class='timestamp' href='#675806'><time timestamp='2019-08-07T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-7'> * dongcarl</span>&gt;
thinking
<br>
</div>

<div class='talk op-msg' data-timestamp='1565206320' id='675807'>
<a class='timestamp' href='#675807'><time timestamp='2019-08-07T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
what&#x27;s wrong with adidng another message?
<br>
</div>

<div class='talk op-msg' data-timestamp='1565206380' id='675808'>
<a class='timestamp' href='#675808'><time timestamp='2019-08-07T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
at least unknown messages are simply ignored, so they&#x27;re pretty much free
<br>
</div>

<div class='talk op-msg' data-timestamp='1565206440' id='675809'>
<a class='timestamp' href='#675809'><time timestamp='2019-08-07T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
wumpus: true... perhaps a naive thought but I was thinking maybe there needs to be a generic feature-signaling message for non-monotonic features that don&#x27;t fit in the protocol version model.
<br>
</div>

<div class='talk op-msg' data-timestamp='1565206440' id='675810'>
<a class='timestamp' href='#675810'><time timestamp='2019-08-07T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes, it&#x27;s unfortunate that that doesn&#x27;t exist, but let&#x27;s please not include that in the scope of this
<br>
</div>

<div class='talk op-msg' data-timestamp='1565206500' id='675811'>
<a class='timestamp' href='#675811'><time timestamp='2019-08-07T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
wumpus: Of course not. Could you elaborate a little on how sendaddrv2 would serve dual purpose? I think I&#x27;m close to getting it but not quite
<br>
</div>

<div class='talk op-msg' data-timestamp='1565206560' id='675812'>
<a class='timestamp' href='#675812'><time timestamp='2019-08-07T19:36:00Z'>19:36</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
so it would a) signal that the peer sending it can accept addrv2 messages, and b) can contain the wide address that was connected to (e.g. extend what was sent in the version message before it)
<br>
</div>

<div class='talk op-msg' data-timestamp='1565206620' id='675813'>
<a class='timestamp' href='#675813'><time timestamp='2019-08-07T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
wumpus: And this would be sent by the connection initiator immediately after its `version` message, right?
<br>
</div>

<div class='talk op-msg' data-timestamp='1565206680' id='675814'>
<a class='timestamp' href='#675814'><time timestamp='2019-08-07T19:38:00Z'>19:38</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
after the version handshake completes
<br>
</div>

<div class='talk op-msg' data-timestamp='1565206680' id='675815'>
<a class='timestamp' href='#675815'><time timestamp='2019-08-07T19:38:00Z'>19:38</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it&#x27;s the same as sendheaders
<br>
</div>

<div class='talk op-msg' data-timestamp='1565206740' id='675816'>
<a class='timestamp' href='#675816'><time timestamp='2019-08-07T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
wumpus: Okay, and there needs to be a stub netaddr in the version handshake if it&#x27;s a wide address then?
<br>
</div>

<div class='talk op-msg' data-timestamp='1565206800' id='675817'>
<a class='timestamp' href='#675817'><time timestamp='2019-08-07T19:40:00Z'>19:40</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1565206800' id='675818'>
<a class='timestamp' href='#675818'><time timestamp='2019-08-07T19:40:00Z'>19:40</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yes, because you don&#x27;t know whether the peer supports v2 yet by that point
<br>
</div>

<div class='talk op-msg' data-timestamp='1565206860' id='675819'>
<a class='timestamp' href='#675819'><time timestamp='2019-08-07T19:41:00Z'>19:41</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
FWIW a lot of alterntative implementations always put localhost in the version message, so that&#x27;s probably a good dummy
<br>
</div>

<div class='talk op-msg' data-timestamp='1565206860' id='675820'>
<a class='timestamp' href='#675820'><time timestamp='2019-08-07T19:41:00Z'>19:41</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
wumpus: I was gunna use the SetInternal format on the &quot;addrv2&quot; string
<br>
</div>

<div class='talk op-msg' data-timestamp='1565206920' id='675821'>
<a class='timestamp' href='#675821'><time timestamp='2019-08-07T19:42:00Z'>19:42</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
dongcarl: what do you mean?
<br>
</div>

<div class='talk op-msg' data-timestamp='1565206920' id='675822'>
<a class='timestamp' href='#675822'><time timestamp='2019-08-07T19:42:00Z'>19:42</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
which addrv2 string? what setinternal format?
<br>
</div>

<div class='talk op-msg' data-timestamp='1565206980' id='675823'>
<a class='timestamp' href='#675823'><time timestamp='2019-08-07T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
wumpus: you know the special address format we use to encode seed hostnames so that addrman knows where addresses came from?
<br>
</div>

<div class='talk op-msg' data-timestamp='1565206980' id='675824'>
<a class='timestamp' href='#675824'><time timestamp='2019-08-07T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
that will probably confuse other peers
<br>
</div>

<div class='talk op-msg' data-timestamp='1565206980' id='675825'>
<a class='timestamp' href='#675825'><time timestamp='2019-08-07T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
e.g. localhost is well known as a &#x27;ignore&#x27; value
<br>
</div>

<div class='talk op-msg' data-timestamp='1565206980' id='675826'>
<a class='timestamp' href='#675826'><time timestamp='2019-08-07T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
that isn&#x27;t
<br>
</div>

<div class='talk op-msg' data-timestamp='1565206980' id='675827'>
<a class='timestamp' href='#675827'><time timestamp='2019-08-07T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
wumpus: roger that
<br>
</div>

<div class='talk op-msg' data-timestamp='1565207040' id='675828'>
<a class='timestamp' href='#675828'><time timestamp='2019-08-07T19:44:00Z'>19:44</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
agree
<br>
</div>

<div class='talk op-msg' data-timestamp='1565207040' id='675829'>
<a class='timestamp' href='#675829'><time timestamp='2019-08-07T19:44:00Z'>19:44</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
easier for non-Core implementers too...
<br>
</div>

<div class='talk op-msg' data-timestamp='1565207100' id='675830'>
<a class='timestamp' href='#675830'><time timestamp='2019-08-07T19:45:00Z'>19:45</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
right, I think so too
<br>
</div>

<div class='talk op-msg' data-timestamp='1565207100' id='675831'>
<a class='timestamp' href='#675831'><time timestamp='2019-08-07T19:45:00Z'>19:45</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
Okay, I&#x27;ll try making a PR to the BIP repo, thanks wumpus and sipa for being patient with me
<br>
</div>

<div class='talk op-msg' data-timestamp='1565207160' id='675832'>
<a class='timestamp' href='#675832'><time timestamp='2019-08-07T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
dongcarl: we should do that, though, we might want to wait with that until we&#x27;re further along with the implementation, there seem to be many thing no one had realized (like the addresses in the version) until someone tried implementing it :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1565207280' id='675833'>
<a class='timestamp' href='#675833'><time timestamp='2019-08-07T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
wumpus: You&#x27;re right, this entire experience has taught me how important implementation is to spec iteration 
<br>
</div>

<div class='talk op-msg' data-timestamp='1565207280' id='675834'>
<a class='timestamp' href='#675834'><time timestamp='2019-08-07T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
I&#x27;ll continue the implementation then, and we&#x27;ll reconvene when I have something more testable
<br>
</div>

<div class='talk op-msg' data-timestamp='1565207280' id='675835'>
<a class='timestamp' href='#675835'><time timestamp='2019-08-07T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
same for me
<br>
</div>

<div class='talk op-msg' data-timestamp='1565207460' id='675836'>
<a class='timestamp' href='#675836'><time timestamp='2019-08-07T19:51:00Z'>19:51</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I think the PR comments on <a href="https://github.com/bitcoin/bips/pull/766" class="link" target="_blank">https://github.com/bitcoin/bips/pull/766</a> is an ok place to keep track of things we want to change to the BIP until that
<br>
</div>

<div class='talk op-msg' data-timestamp='1565207520' id='675837'>
<a class='timestamp' href='#675837'><time timestamp='2019-08-07T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
wumpus: One more thing... What will happen in the future if torv42 has 512-bit addresses or something?
<br>
</div>

<div class='talk op-msg' data-timestamp='1565207520' id='675838'>
<a class='timestamp' href='#675838'><time timestamp='2019-08-07T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I don&#x27;t follow the mailing list much
<br>
</div>

<div class='talk op-msg' data-timestamp='1565207520' id='675839'>
<a class='timestamp' href='#675839'><time timestamp='2019-08-07T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
dongcarl: this scheme is extensible
<br>
</div>

<div class='talk op-msg' data-timestamp='1565207580' id='675840'>
<a class='timestamp' href='#675840'><time timestamp='2019-08-07T19:53:00Z'>19:53</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it&#x27;s possible to add new address types to it in another BIP
<br>
</div>

<div class='talk op-msg' data-timestamp='1565207580' id='675841'>
<a class='timestamp' href='#675841'><time timestamp='2019-08-07T19:53:00Z'>19:53</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
old implementations ignore those
<br>
</div>

<div class='talk op-msg' data-timestamp='1565207580' id='675842'>
<a class='timestamp' href='#675842'><time timestamp='2019-08-07T19:53:00Z'>19:53</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
wumpus: I see, so we&#x27;d bump the max size in another BIP
<br>
</div>

<div class='talk op-msg' data-timestamp='1565207640' id='675843'>
<a class='timestamp' href='#675843'><time timestamp='2019-08-07T19:54:00Z'>19:54</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
wumpus: and the old client would ignore b/c of the max 32-byte restriction in the spec
<br>
</div>

<div class='talk op-msg' data-timestamp='1565207640' id='675844'>
<a class='timestamp' href='#675844'><time timestamp='2019-08-07T19:54:00Z'>19:54</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
there isn&#x27;t a max size, right?
<br>
</div>

<div class='talk op-msg' data-timestamp='1565207640' id='675845'>
<a class='timestamp' href='#675845'><time timestamp='2019-08-07T19:54:00Z'>19:54</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
&quot;Field &lt;code&gt;addr&lt;/code&gt; has a variable length, with a maximum of 32 bytes (256 bits). Clients SHOULD reject
<br>
</div>

<div class='talk op-msg' data-timestamp='1565207640' id='675846'>
<a class='timestamp' href='#675846'><time timestamp='2019-08-07T19:54:00Z'>19:54</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
longer addresses.
<br>
</div>

<div class='talk op-msg' data-timestamp='1565207640' id='675847'>
<a class='timestamp' href='#675847'><time timestamp='2019-08-07T19:54:00Z'>19:54</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ah
<br>
</div>

<div class='talk op-msg' data-timestamp='1565207700' id='675848'>
<a class='timestamp' href='#675848'><time timestamp='2019-08-07T19:55:00Z'>19:55</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I&#x27;ve added a maximum, might want to bump that if we realistically expect protocols with even larger addresses
<br>
</div>

<div class='talk op-msg' data-timestamp='1565207700' id='675849'>
<a class='timestamp' href='#675849'><time timestamp='2019-08-07T19:55:00Z'>19:55</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
or even remove it
<br>
</div>

<div class='talk op-msg' data-timestamp='1565207700' id='675850'>
<a class='timestamp' href='#675850'><time timestamp='2019-08-07T19:55:00Z'>19:55</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
this could be an implementation aspect &quot;Implementations MAY ignore address messages of an unknown type, or otherwise impose limits on the maximum size of addr messages for unknown types they relay.
<br>
</div>

<div class='talk op-msg' data-timestamp='1565207700' id='675851'>
<a class='timestamp' href='#675851'><time timestamp='2019-08-07T19:55:00Z'>19:55</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
though, might want to keep some bound for deserialization DoS reasons?
<br>
</div>

<div class='talk op-msg' data-timestamp='1565207700' id='675852'>
<a class='timestamp' href='#675852'><time timestamp='2019-08-07T19:55:00Z'>19:55</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yeah
<br>
</div>

<div class='talk op-msg' data-timestamp='1565207760' id='675853'>
<a class='timestamp' href='#675853'><time timestamp='2019-08-07T19:56:00Z'>19:56</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
should... implementations relay unknown types??
<br>
</div>

<div class='talk op-msg' data-timestamp='1565207820' id='675854'>
<a class='timestamp' href='#675854'><time timestamp='2019-08-07T19:57:00Z'>19:57</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
&quot;Client MAY store and gossip address formats that they do not know about. Further network ID numbers MUST be reserved in a new BIP document.&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1565207820' id='675855'>
<a class='timestamp' href='#675855'><time timestamp='2019-08-07T19:57:00Z'>19:57</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
they may
<br>
</div>

<div class='talk op-msg' data-timestamp='1565207820' id='675856'>
<a class='timestamp' href='#675856'><time timestamp='2019-08-07T19:57:00Z'>19:57</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it&#x27;s not necessary, imo
<br>
</div>

<div class='talk op-msg' data-timestamp='1565207880' id='675857'>
<a class='timestamp' href='#675857'><time timestamp='2019-08-07T19:58:00Z'>19:58</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
wumpus: yeah, so this way there&#x27;s no hard cap, but realistically there&#x27;s a cap based on the max size corresponding to defined network IDs
<br>
</div>

<div class='talk op-msg' data-timestamp='1565207880' id='675858'>
<a class='timestamp' href='#675858'><time timestamp='2019-08-07T19:58:00Z'>19:58</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
probably best to recommand not to relay/store unknown types, at which point there is an implied max size anyway
<br>
</div>

<div class='talk op-msg' data-timestamp='1565207880' id='675859'>
<a class='timestamp' href='#675859'><time timestamp='2019-08-07T19:58:00Z'>19:58</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
for bandwidth DoS you could have a max size, but it can be fairly large
<br>
</div>

<div class='talk op-msg' data-timestamp='1565207940' id='675860'>
<a class='timestamp' href='#675860'><time timestamp='2019-08-07T19:59:00Z'>19:59</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
the thing is you want to ignore individual unknown addresses even if they&#x27;re larger than the cap, but not declare the entire addrv2 message they&#x27;re in invalid
<br>
</div>

<div class='talk op-msg' data-timestamp='1565207940' id='675861'>
<a class='timestamp' href='#675861'><time timestamp='2019-08-07T19:59:00Z'>19:59</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
right
<br>
</div>

<div class='talk op-msg' data-timestamp='1565208060' id='675862'>
<a class='timestamp' href='#675862'><time timestamp='2019-08-07T20:01:00Z'>20:01</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
like the limit could be 512 bytes or whatever; it&#x27;s just so that you can instaban anyone who sends excessive things
<br>
</div>

<div class='talk op-msg' data-timestamp='1565208060' id='675863'>
<a class='timestamp' href='#675863'><time timestamp='2019-08-07T20:01:00Z'>20:01</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
ok, so if an addrv2 message contains any item larger than that, the entire message is invalid
<br>
</div>

<div class='talk op-msg' data-timestamp='1565208300' id='675864'>
<a class='timestamp' href='#675864'><time timestamp='2019-08-07T20:05:00Z'>20:05</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
<a href="https://github.com/bitcoin/bips/pull/766#issuecomment-519248699" class="link" target="_blank">https://github.com/bitcoin/bips/pull/766#issuecomment-519248699</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1565208360' id='675865'>
<a class='timestamp' href='#675865'><time timestamp='2019-08-07T20:06:00Z'>20:06</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
just to confirm, we still recommend to ignore individually for addresses that are in between MAX_KNOWN_NETWORK_ID_ADDR_LEN and 512 bytes, correct?
<br>
</div>

<div class='talk op-msg' data-timestamp='1565208420' id='675866'>
<a class='timestamp' href='#675866'><time timestamp='2019-08-07T20:07:00Z'>20:07</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1565208420' id='675867'>
<a class='timestamp' href='#675867'><time timestamp='2019-08-07T20:07:00Z'>20:07</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
sorry, more accurately, for addresses that have unknown networkID and are below 512 bytes
<br>
</div>

<div class='talk op-msg' data-timestamp='1565208480' id='675868'>
<a class='timestamp' href='#675868'><time timestamp='2019-08-07T20:08:00Z'>20:08</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
they are independent rules a) addresses of unknown type should be ignored, individually, independent of their size b) if the message contains anything larger than 512 bytes the whole message is invalid and anything in it is ignored
<br>
</div>

<div class='talk op-msg' data-timestamp='1565209080' id='675869'>
<a class='timestamp' href='#675869'><time timestamp='2019-08-07T20:18:00Z'>20:18</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
wumpus: address of unknown type + 513 bytes addr field -&gt; invalidate entire message (rule b), addr of unknown type + 512 bytes addr field -&gt; ignore individually (rule a)
<br>
</div>

<div class='talk op-msg' data-timestamp='1565209380' id='675870'>
<a class='timestamp' href='#675870'><time timestamp='2019-08-07T20:23:00Z'>20:23</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
dongcarl: yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1565209440' id='675871'>
<a class='timestamp' href='#675871'><time timestamp='2019-08-07T20:24:00Z'>20:24</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
addr of known type + wrong-sized addr field -&gt; also ignore individually, I think
<br>
</div>

<div class='talk op-msg' data-timestamp='1565209800' id='675872'>
<a class='timestamp' href='#675872'><time timestamp='2019-08-07T20:30:00Z'>20:30</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
wumpus: true
<br>
</div>

</div>
</section>

</body>
</html>
