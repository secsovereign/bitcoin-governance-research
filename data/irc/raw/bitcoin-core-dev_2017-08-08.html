<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2017-08-08
 — 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2017-08-08' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:23 UTC</pre>
<pre><a href="/bitcoin-core-dev/2017-07-08">&lt;</a><span class='header'>   August 2017    </span><a href="/bitcoin-core-dev/2017-09-08">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;       <a class="" href="/bitcoin-core-dev/2017-08-01">1</a>  <a class="" href="/bitcoin-core-dev/2017-08-02">2</a>  <a class="" href="/bitcoin-core-dev/2017-08-03">3</a>  <a class="" href="/bitcoin-core-dev/2017-08-04">4</a>  <a class="" href="/bitcoin-core-dev/2017-08-05">5</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2017-08-06">6</a>  <a class="" href="/bitcoin-core-dev/2017-08-07">7</a>  <a class="current" href="/bitcoin-core-dev/2017-08-08">8</a>  <a class="" href="/bitcoin-core-dev/2017-08-09">9</a> <a class="" href="/bitcoin-core-dev/2017-08-10">10</a> <a class="" href="/bitcoin-core-dev/2017-08-11">11</a> <a class="" href="/bitcoin-core-dev/2017-08-12">12</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2017-08-13">13</a> <a class="" href="/bitcoin-core-dev/2017-08-14">14</a> <a class="" href="/bitcoin-core-dev/2017-08-15">15</a> <a class="" href="/bitcoin-core-dev/2017-08-16">16</a> <a class="" href="/bitcoin-core-dev/2017-08-17">17</a> <a class="" href="/bitcoin-core-dev/2017-08-18">18</a> <a class="" href="/bitcoin-core-dev/2017-08-19">19</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2017-08-20">20</a> <a class="" href="/bitcoin-core-dev/2017-08-21">21</a> <a class="" href="/bitcoin-core-dev/2017-08-22">22</a> <a class="" href="/bitcoin-core-dev/2017-08-23">23</a> <a class="" href="/bitcoin-core-dev/2017-08-24">24</a> <a class="" href="/bitcoin-core-dev/2017-08-25">25</a> <a class="" href="/bitcoin-core-dev/2017-08-26">26</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2017-08-27">27</a> <a class="" href="/bitcoin-core-dev/2017-08-28">28</a> <a class="" href="/bitcoin-core-dev/2017-08-29">29</a> <a class="" href="/bitcoin-core-dev/2017-08-30">30</a> <a class="" href="/bitcoin-core-dev/2017-08-31">31</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1502152320' id='562892'>
<a class='timestamp' href='#562892'><time timestamp='2017-08-08T00:32:00Z'>00:32</time></a>
&lt;<span class='nick nick-13'> jimpo</span>&gt;
What is HSNG? (mentioned in discussion of new addr message)
<br>
</div>

<div class='talk op-msg' data-timestamp='1502152500' id='562893'>
<a class='timestamp' href='#562893'><time timestamp='2017-08-08T00:35:00Z'>00:35</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Hidden services NG. Tor HS addresses will be becoming 256 bits long.
<br>
</div>

<div class='talk op-msg' data-timestamp='1502152500' id='562894'>
<a class='timestamp' href='#562894'><time timestamp='2017-08-08T00:35:00Z'>00:35</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
NG = next gen, I assume
<br>
</div>

<div class='talk op-msg' data-timestamp='1502152560' id='562895'>
<a class='timestamp' href='#562895'><time timestamp='2017-08-08T00:36:00Z'>00:36</time></a>
&lt;<span class='nick nick-13'> jimpo</span>&gt;
interesting. thx
<br>
</div>

<div class='talk op-msg' data-timestamp='1502156040' id='562896'>
<a class='timestamp' href='#562896'><time timestamp='2017-08-08T01:34:00Z'>01:34</time></a>
&lt;<span class='nick nick-13'> jimpo</span>&gt;
is there anyone working/focussing on extracting libbitcoinconsensus?
<br>
</div>

<div class='talk op-msg' data-timestamp='1502156160' id='562897'>
<a class='timestamp' href='#562897'><time timestamp='2017-08-08T01:36:00Z'>01:36</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
jimpo: Last I knew jtimon was, not sure if he is still working on it though
<br>
</div>

<div class='talk op-msg' data-timestamp='1502156340' id='562898'>
<a class='timestamp' href='#562898'><time timestamp='2017-08-08T01:39:00Z'>01:39</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] eklitzke opened pull request #11005: Tests: Add a lint check for trailing whitespace (master...whitespace) <a href="https://github.com/bitcoin/bitcoin/pull/11005" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/11005</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1502161320' id='562899'>
<a class='timestamp' href='#562899'><time timestamp='2017-08-08T03:02:00Z'>03:02</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] promag opened pull request #11006: WIP: Improve shutdown process (master...201708-fast-shutdown) <a href="https://github.com/bitcoin/bitcoin/pull/11006" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/11006</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1502166120' id='562900'>
<a class='timestamp' href='#562900'><time timestamp='2017-08-08T04:22:00Z'>04:22</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
gmaxwell: hmm, but it makes sense to show them up top in the question page :/
<br>
</div>

<div class='talk op-msg' data-timestamp='1502166420' id='562901'>
<a class='timestamp' href='#562901'><time timestamp='2017-08-08T04:27:00Z'>04:27</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
luke-jr: so make the order different for each, questions by least answers answers by most
<br>
</div>

<div class='talk op-msg' data-timestamp='1502169600' id='562902'>
<a class='timestamp' href='#562902'><time timestamp='2017-08-08T05:20:00Z'>05:20</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
gmaxwell: done
<br>
</div>

<div class='talk op-msg' data-timestamp='1502178300' id='562903'>
<a class='timestamp' href='#562903'><time timestamp='2017-08-08T07:45:00Z'>07:45</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
hm, it&#x27;s a shame we&#x27;re releasing 0.15 without bech32 sending :x
<br>
</div>

<div class='talk op-msg' data-timestamp='1502178300' id='562904'>
<a class='timestamp' href='#562904'><time timestamp='2017-08-08T07:45:00Z'>07:45</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
luke-jr: when does segwit activate?
<br>
</div>

<div class='talk op-msg' data-timestamp='1502178360' id='562905'>
<a class='timestamp' href='#562905'><time timestamp='2017-08-08T07:46:00Z'>07:46</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
gmaxwell: Aug 21 it looks like
<br>
</div>

<div class='talk op-msg' data-timestamp='1502178360' id='562906'>
<a class='timestamp' href='#562906'><time timestamp='2017-08-08T07:46:00Z'>07:46</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
luke-jr: also it&#x27;s just not that mature yet,... a serious problem was found in the test vectors of the spec and ref implementations just a week ago.
<br>
</div>

<div class='talk op-msg' data-timestamp='1502178360' id='562907'>
<a class='timestamp' href='#562907'><time timestamp='2017-08-08T07:46:00Z'>07:46</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
:&lt;     
<br>
</div>

<div class='talk op-msg' data-timestamp='1502178420' id='562908'>
<a class='timestamp' href='#562908'><time timestamp='2017-08-08T07:47:00Z'>07:47</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
luke-jr: dunno if you read the minutes from the last meeting (or was it the one before last) but we were talkign about a short cycle release with segwit wallet support right after 15 in any case.
<br>
</div>

<div class='talk op-msg' data-timestamp='1502178420' id='562909'>
<a class='timestamp' href='#562909'><time timestamp='2017-08-08T07:47:00Z'>07:47</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
I didn&#x27;t, but newbery did mention it to me. I agree a rapid 0.16 would be good.
<br>
</div>

<div class='talk op-msg' data-timestamp='1502178420' id='562910'>
<a class='timestamp' href='#562910'><time timestamp='2017-08-08T07:47:00Z'>07:47</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
<a href="https://github.com/sipa/bech32/pull/21" class="link" target="_blank">https://github.com/sipa/bech32/pull/21</a> also re: bech32 support.
<br>
</div>

<div class='talk op-msg' data-timestamp='1502178540' id='562911'>
<a class='timestamp' href='#562911'><time timestamp='2017-08-08T07:49:00Z'>07:49</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
is there a reason to have a C++ implementation at all? seems to me the proper route to go would be to make a C libbech32, which can be used by Core…?
<br>
</div>

<div class='talk op-msg' data-timestamp='1502178660' id='562912'>
<a class='timestamp' href='#562912'><time timestamp='2017-08-08T07:51:00Z'>07:51</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
a library for 50 lines of code... what are you, a nodejs developer? lpad() ftw? :P  But seriously, a native C++ interface is typesafe. Wrappign a C implementation to give it a C++ friendly interface would probably end up being the same size as the library itself.
<br>
</div>

<div class='talk op-msg' data-timestamp='1502178660' id='562913'>
<a class='timestamp' href='#562913'><time timestamp='2017-08-08T07:51:00Z'>07:51</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
FWIW it&#x27;s much simpler to implement bech32 than base58.
<br>
</div>

<div class='talk op-msg' data-timestamp='1502178720' id='562914'>
<a class='timestamp' href='#562914'><time timestamp='2017-08-08T07:52:00Z'>07:52</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
hmm     
<br>
</div>

<div class='talk op-msg' data-timestamp='1502180700' id='562915'>
<a class='timestamp' href='#562915'><time timestamp='2017-08-08T08:25:00Z'>08:25</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
I suspect that #10982 is going to need to be locked soon due to brigading and trolling
<br>
</div>

<div class='talk op-msg' data-timestamp='1502180700' id='562916'>
<a class='timestamp' href='#562916'><time timestamp='2017-08-08T08:25:00Z'>08:25</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/10982" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/10982</a> | Disconnect network service bits 6 and 8 until Aug 1, 2018 by TheBlueMatt · Pull Request #10982 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1502180700' id='562917'>
<a class='timestamp' href='#562917'><time timestamp='2017-08-08T08:25:00Z'>08:25</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
How do we deal with the service bits 6 and 8? Should NODE_NETWORK_LIMITED avoid bit6 because something else claimed it (although not via BIP process)?
<br>
</div>

<div class='talk op-msg' data-timestamp='1502180820' id='562918'>
<a class='timestamp' href='#562918'><time timestamp='2017-08-08T08:27:00Z'>08:27</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
It was actually bits 5 and 7 that were claimed
<br>
</div>

<div class='talk op-msg' data-timestamp='1502181000' id='562919'>
<a class='timestamp' href='#562919'><time timestamp='2017-08-08T08:30:00Z'>08:30</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
kidnapped*? :P
<br>
</div>

<div class='talk op-msg' data-timestamp='1502181180' id='562920'>
<a class='timestamp' href='#562920'><time timestamp='2017-08-08T08:33:00Z'>08:33</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
achow101: Bip 7 is SW2x, right? Whats 5?
<br>
</div>

<div class='talk op-msg' data-timestamp='1502181300' id='562921'>
<a class='timestamp' href='#562921'><time timestamp='2017-08-08T08:35:00Z'>08:35</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
jonasschnelli: BCash I assume
<br>
</div>

<div class='talk op-msg' data-timestamp='1502182260' id='562922'>
<a class='timestamp' href='#562922'><time timestamp='2017-08-08T08:51:00Z'>08:51</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
achow101: sigh, would have been nice to get the commit message fixed before merging :/
<br>
</div>

<div class='talk op-msg' data-timestamp='1502182440' id='562923'>
<a class='timestamp' href='#562923'><time timestamp='2017-08-08T08:54:00Z'>08:54</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
unfortunately s2x people were spamming their slack with it and such the moment it went up.
<br>
</div>

<div class='talk op-msg' data-timestamp='1502182500' id='562924'>
<a class='timestamp' href='#562924'><time timestamp='2017-08-08T08:55:00Z'>08:55</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
it would also be nice if we didn&#x27;t merge things because of trolls :x
<br>
</div>

<div class='talk op-msg' data-timestamp='1502182980' id='562925'>
<a class='timestamp' href='#562925'><time timestamp='2017-08-08T09:03:00Z'>09:03</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
jonasschnelli: perhaps: uint16_t archival_data_flag = (servicebits &amp; NODE_NETWORK_FLAG_MASK); if (servicebits &amp; NODE_NETWORK) { … } else if (archival_data_flag == NODE_NETWORK_LIMITED_HIGH) { … } else if (archival_data_flag == NODE_NETWORK_LIMITED_LOW) { … } would fit nicely
<br>
</div>

<div class='talk op-msg' data-timestamp='1502183880' id='562926'>
<a class='timestamp' href='#562926'><time timestamp='2017-08-08T09:18:00Z'>09:18</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
Reminder to call gpg --keyserver pgp.mit.edu --refresh-keys F4316B9B
<br>
</div>

<div class='talk op-msg' data-timestamp='1502184060' id='562927'>
<a class='timestamp' href='#562927'><time timestamp='2017-08-08T09:21:00Z'>09:21</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
achow101: depends on if you count the bits starting at 0 or 1
<br>
</div>

<div class='talk op-msg' data-timestamp='1502184300' id='562928'>
<a class='timestamp' href='#562928'><time timestamp='2017-08-08T09:25:00Z'>09:25</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
gmaxwell: which has always been counted from 0..
<br>
</div>

<div class='talk op-msg' data-timestamp='1502184360' id='562929'>
<a class='timestamp' href='#562929'><time timestamp='2017-08-08T09:26:00Z'>09:26</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
NODE_NONE must surely be zero?
<br>
</div>

<div class='talk op-msg' data-timestamp='1502184360' id='562930'>
<a class='timestamp' href='#562930'><time timestamp='2017-08-08T09:26:00Z'>09:26</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
depends on your language,  &quot;first bit&quot; is 1&lt;&lt;0. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1502184480' id='562931'>
<a class='timestamp' href='#562931'><time timestamp='2017-08-08T09:28:00Z'>09:28</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
From what I read you usually start a 0
<br>
</div>

<div class='talk op-msg' data-timestamp='1502184480' id='562932'>
<a class='timestamp' href='#562932'><time timestamp='2017-08-08T09:28:00Z'>09:28</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
*at     
<br>
</div>

<div class='talk op-msg' data-timestamp='1502184480' id='562933'>
<a class='timestamp' href='#562933'><time timestamp='2017-08-08T09:28:00Z'>09:28</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 5 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/fa8a0639f7b0...627c3c0e495b" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/fa8a0639f7b0...627c3c0e495b</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1502184480' id='562934'>
<a class='timestamp' href='#562934'><time timestamp='2017-08-08T09:28:00Z'>09:28</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master dac3782 Wladimir J. van der Laan: doc: Correct AmountFromValue/ValueFromAmount names
<br>
</div>

<div class='talk op-msg' data-timestamp='1502184480' id='562935'>
<a class='timestamp' href='#562935'><time timestamp='2017-08-08T09:28:00Z'>09:28</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 46347ad Wladimir J. van der Laan: rpc: Move ValueFromAmount to core_write...
<br>
</div>

<div class='talk op-msg' data-timestamp='1502184480' id='562936'>
<a class='timestamp' href='#562936'><time timestamp='2017-08-08T09:28:00Z'>09:28</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master ec05c50 Wladimir J. van der Laan: rpc: Use ValueFromAmount instead of FormatMoney in TxToUniv...
<br>
</div>

<div class='talk op-msg' data-timestamp='1502184480' id='562937'>
<a class='timestamp' href='#562937'><time timestamp='2017-08-08T09:28:00Z'>09:28</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj closed pull request #10999: Fix amounts formatting in `decoderawtransaction` (master...2017_08_decoderawtx_amount) <a href="https://github.com/bitcoin/bitcoin/pull/10999" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10999</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1502185320' id='562938'>
<a class='timestamp' href='#562938'><time timestamp='2017-08-08T09:42:00Z'>09:42</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/627c3c0e495b...4268426b4500" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/627c3c0e495b...4268426b4500</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1502185320' id='562939'>
<a class='timestamp' href='#562939'><time timestamp='2017-08-08T09:42:00Z'>09:42</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 055d95f John Newbery: [wallet] return correct error code from resendwallettransaction
<br>
</div>

<div class='talk op-msg' data-timestamp='1502185320' id='562940'>
<a class='timestamp' href='#562940'><time timestamp='2017-08-08T09:42:00Z'>09:42</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 4268426 Wladimir J. van der Laan: Merge #11002: [wallet] return correct error code from resendwallettransaction...
<br>
</div>

<div class='talk op-msg' data-timestamp='1502185320' id='562941'>
<a class='timestamp' href='#562941'><time timestamp='2017-08-08T09:42:00Z'>09:42</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj closed pull request #11002: [wallet] return correct error code from resendwallettransaction (master...resendwallettransaction_error_code) <a href="https://github.com/bitcoin/bitcoin/pull/11002" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/11002</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1502186280' id='562942'>
<a class='timestamp' href='#562942'><time timestamp='2017-08-08T09:58:00Z'>09:58</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/4268426b4500...2507fd55568b" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/4268426b4500...2507fd55568b</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1502186280' id='562943'>
<a class='timestamp' href='#562943'><time timestamp='2017-08-08T09:58:00Z'>09:58</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 861f9a2 Matt Corallo: Skip remainder of init if upgrade is cancelled
<br>
</div>

<div class='talk op-msg' data-timestamp='1502186280' id='562944'>
<a class='timestamp' href='#562944'><time timestamp='2017-08-08T09:58:00Z'>09:58</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 2507fd5 Wladimir J. van der Laan: Merge #10998: Fix upgrade cancel warnings...
<br>
</div>

<div class='talk op-msg' data-timestamp='1502186340' id='562945'>
<a class='timestamp' href='#562945'><time timestamp='2017-08-08T09:59:00Z'>09:59</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj closed pull request #10998: Fix upgrade cancel warnings (master...2017-08-fix-upgrade-cancel-warnings) <a href="https://github.com/bitcoin/bitcoin/pull/10998" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10998</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1502188140' id='562946'>
<a class='timestamp' href='#562946'><time timestamp='2017-08-08T10:29:00Z'>10:29</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
doing last checks on 10882, after which I&#x27;ll merge it. After that I&#x27;m planning to tag 0.15.0rc1. Any objections?
<br>
</div>

<div class='talk op-msg' data-timestamp='1502188200' id='562947'>
<a class='timestamp' href='#562947'><time timestamp='2017-08-08T10:30:00Z'>10:30</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
(ah yes #10483 and #10607 too)
<br>
</div>

<div class='talk op-msg' data-timestamp='1502188200' id='562948'>
<a class='timestamp' href='#562948'><time timestamp='2017-08-08T10:30:00Z'>10:30</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/10483" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/10483</a> | scripted-diff: Use the C++11 keyword nullptr to denote the pointer literal instead of the macro NULL by practicalswift · Pull Request #10483 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1502188200' id='562949'>
<a class='timestamp' href='#562949'><time timestamp='2017-08-08T10:30:00Z'>10:30</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/10607" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/10607</a> | scripted-diff: stop using the gArgs wrappers by benma · Pull Request #10607 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1502188260' id='562950'>
<a class='timestamp' href='#562950'><time timestamp='2017-08-08T10:31:00Z'>10:31</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
then branching off 0.15, bumping version numbers, then tagging the release
<br>
</div>

<div class='talk op-msg' data-timestamp='1502188320' id='562951'>
<a class='timestamp' href='#562951'><time timestamp='2017-08-08T10:32:00Z'>10:32</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I think 10882 is still in a state where if you run getnewaddress to the pont where it exhausts your keypool then recieve a transaction your node shuts off.
<br>
</div>

<div class='talk op-msg' data-timestamp='1502188380' id='562952'>
<a class='timestamp' href='#562952'><time timestamp='2017-08-08T10:33:00Z'>10:33</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
can you coment jnewbery?
<br>
</div>

<div class='talk op-msg' data-timestamp='1502188380' id='562953'>
<a class='timestamp' href='#562953'><time timestamp='2017-08-08T10:33:00Z'>10:33</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
if so, i&#x27;m going to bump it to 0.15.1 instead
<br>
</div>

<div class='talk op-msg' data-timestamp='1502188440' id='562954'>
<a class='timestamp' href='#562954'><time timestamp='2017-08-08T10:34:00Z'>10:34</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
Yes, that&#x27;s the case - I reverted to the commit that had ACKs
<br>
</div>

<div class='talk op-msg' data-timestamp='1502188500' id='562955'>
<a class='timestamp' href='#562955'><time timestamp='2017-08-08T10:35:00Z'>10:35</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
is it enough of an improvement to merge it like this?
<br>
</div>

<div class='talk op-msg' data-timestamp='1502188500' id='562956'>
<a class='timestamp' href='#562956'><time timestamp='2017-08-08T10:35:00Z'>10:35</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
I think it&#x27;s an improvement
<br>
</div>

<div class='talk op-msg' data-timestamp='1502188500' id='562957'>
<a class='timestamp' href='#562957'><time timestamp='2017-08-08T10:35:00Z'>10:35</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
(or does it make things worse? I don&#x27;t know anymore)
<br>
</div>

<div class='talk op-msg' data-timestamp='1502188560' id='562958'>
<a class='timestamp' href='#562958'><time timestamp='2017-08-08T10:36:00Z'>10:36</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
It&#x27;s a critical improvement, but I think the sequence of events I described should block a release, just like absense of this PR.  Keep in mind that most existing already encrypted wallets have less than 500 keys in their keypool already.
<br>
</div>

<div class='talk op-msg' data-timestamp='1502188560' id='562959'>
<a class='timestamp' href='#562959'><time timestamp='2017-08-08T10:36:00Z'>10:36</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
you want to block the release on this?
<br>
</div>

<div class='talk op-msg' data-timestamp='1502188620' id='562960'>
<a class='timestamp' href='#562960'><time timestamp='2017-08-08T10:37:00Z'>10:37</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I think we need to turn HD off without this. We currently have non-trivial funds loss exposure without this.
<br>
</div>

<div class='talk op-msg' data-timestamp='1502188620' id='562961'>
<a class='timestamp' href='#562961'><time timestamp='2017-08-08T10:37:00Z'>10:37</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
is it a regression since 0.14?
<br>
</div>

<div class='talk op-msg' data-timestamp='1502188620' id='562962'>
<a class='timestamp' href='#562962'><time timestamp='2017-08-08T10:37:00Z'>10:37</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
It was introduced in 0.14 with hdwallet, though we only realized over time all the ways it could fail.
<br>
</div>

<div class='talk op-msg' data-timestamp='1502188680' id='562963'>
<a class='timestamp' href='#562963'><time timestamp='2017-08-08T10:38:00Z'>10:38</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I&#x27;d really dislike blocking 0.15
<br>
</div>

<div class='talk op-msg' data-timestamp='1502188680' id='562964'>
<a class='timestamp' href='#562964'><time timestamp='2017-08-08T10:38:00Z'>10:38</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
anyone else think we should delay 0.15?
<br>
</div>

<div class='talk op-msg' data-timestamp='1502188680' id='562965'>
<a class='timestamp' href='#562965'><time timestamp='2017-08-08T10:38:00Z'>10:38</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
as I understand, the plan is to do a 0.15.1 fairly quick after it anyway
<br>
</div>

<div class='talk op-msg' data-timestamp='1502188740' id='562966'>
<a class='timestamp' href='#562966'><time timestamp='2017-08-08T10:39:00Z'>10:39</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Agreed! but I don&#x27;t think it&#x27;s acceptable to keep shipping stuff we know will basically make people lose funds, and yet I don&#x27;t think we can ship something that will just fall over on most encrypted wallets in use right now.
<br>
</div>

<div class='talk op-msg' data-timestamp='1502188740' id='562967'>
<a class='timestamp' href='#562967'><time timestamp='2017-08-08T10:39:00Z'>10:39</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
so every day we delay here delays that, too
<br>
</div>

<div class='talk op-msg' data-timestamp='1502188740' id='562968'>
<a class='timestamp' href='#562968'><time timestamp='2017-08-08T10:39:00Z'>10:39</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I know.
<br>
</div>

<div class='talk op-msg' data-timestamp='1502188740' id='562969'>
<a class='timestamp' href='#562969'><time timestamp='2017-08-08T10:39:00Z'>10:39</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
and if it was already broken in 0.14, and still broken in 0.15, releaseing at least won&#x27;t make things worse
<br>
</div>

<div class='talk op-msg' data-timestamp='1502188740' id='562970'>
<a class='timestamp' href='#562970'><time timestamp='2017-08-08T10:39:00Z'>10:39</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
delaying just means people will keep using 0.14.x in which it is broken too
<br>
</div>

<div class='talk op-msg' data-timestamp='1502188800' id='562971'>
<a class='timestamp' href='#562971'><time timestamp='2017-08-08T10:40:00Z'>10:40</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
whatever we do next might be fast but it&#x27;s not going to be days.
<br>
</div>

<div class='talk op-msg' data-timestamp='1502188800' id='562972'>
<a class='timestamp' href='#562972'><time timestamp='2017-08-08T10:40:00Z'>10:40</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
anyhow, going back to other things then, we can postpone for another day at least
<br>
</div>

<div class='talk op-msg' data-timestamp='1502188800' id='562973'>
<a class='timestamp' href='#562973'><time timestamp='2017-08-08T10:40:00Z'>10:40</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
jnewbery: can you make a second PR with the remaining parts
<br>
</div>

<div class='talk op-msg' data-timestamp='1502188860' id='562974'>
<a class='timestamp' href='#562974'><time timestamp='2017-08-08T10:41:00Z'>10:41</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I don&#x27;t understand why that fix was removed.. it&#x27;s really pretty broken without it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1502188860' id='562975'>
<a class='timestamp' href='#562975'><time timestamp='2017-08-08T10:41:00Z'>10:41</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
I plan to
<br>
</div>

<div class='talk op-msg' data-timestamp='1502188860' id='562976'>
<a class='timestamp' href='#562976'><time timestamp='2017-08-08T10:41:00Z'>10:41</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
OK.     
<br>
</div>

<div class='talk op-msg' data-timestamp='1502188860' id='562977'>
<a class='timestamp' href='#562977'><time timestamp='2017-08-08T10:41:00Z'>10:41</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
because it and the other changes broke a test, and it was suggested I revert to a commit that already had lots of ACKs
<br>
</div>

<div class='talk op-msg' data-timestamp='1502188860' id='562978'>
<a class='timestamp' href='#562978'><time timestamp='2017-08-08T10:41:00Z'>10:41</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
jnewbery: agree that doing a new PR is better
<br>
</div>

<div class='talk op-msg' data-timestamp='1502188920' id='562979'>
<a class='timestamp' href='#562979'><time timestamp='2017-08-08T10:42:00Z'>10:42</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
let&#x27;s just merge 10882 before the review there turns even more into a mess, if some state of a PR is sufficiently accepted and reviewed ideally no new things are added
<br>
</div>

<div class='talk op-msg' data-timestamp='1502188920' id='562980'>
<a class='timestamp' href='#562980'><time timestamp='2017-08-08T10:42:00Z'>10:42</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(It&#x27;s not that I don&#x27;t think we can merge whats there, but I think we can&#x27;t release with it because it will fail very quickly for basically anyone with a pre-existing encrypted wallet)
<br>
</div>

<div class='talk op-msg' data-timestamp='1502188920' id='562981'>
<a class='timestamp' href='#562981'><time timestamp='2017-08-08T10:42:00Z'>10:42</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it will fail for anyone?
<br>
</div>

<div class='talk op-msg' data-timestamp='1502188980' id='562982'>
<a class='timestamp' href='#562982'><time timestamp='2017-08-08T10:43:00Z'>10:43</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
ok, then I&#x27;m not going to merge it, I already had half a hart attack with a &#x27;corrupted&#x27; wallet yesterday :p
<br>
</div>

<div class='talk op-msg' data-timestamp='1502188980' id='562983'>
<a class='timestamp' href='#562983'><time timestamp='2017-08-08T10:43:00Z'>10:43</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
wumpus: right now with that PR if you get a transaction while your keypool has under 500 addresses in it, you&#x27;ll shut down.
<br>
</div>

<div class='talk op-msg' data-timestamp='1502188980' id='562984'>
<a class='timestamp' href='#562984'><time timestamp='2017-08-08T10:43:00Z'>10:43</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
yes, I realise now that the combination of 10882 and increasing the keypool defaults probably breaks this for pre-existing wallets
<br>
</div>

<div class='talk op-msg' data-timestamp='1502188980' id='562985'>
<a class='timestamp' href='#562985'><time timestamp='2017-08-08T10:43:00Z'>10:43</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
jnewbery: well this was going to need a look ahead greater than 50 regardless.
<br>
</div>

<div class='talk op-msg' data-timestamp='1502189040' id='562986'>
<a class='timestamp' href='#562986'><time timestamp='2017-08-08T10:44:00Z'>10:44</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
then why does everyone ack it if it creates a broken situation
<br>
</div>

<div class='talk op-msg' data-timestamp='1502189040' id='562987'>
<a class='timestamp' href='#562987'><time timestamp='2017-08-08T10:44:00Z'>10:44</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
jnewbery: sorry for my earlier comments on it not making it adequately clear that this applies to almost everyone, I just thought that pointing out that it would go down after a getnewaddress loop was enough. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1502189160' id='562988'>
<a class='timestamp' href='#562988'><time timestamp='2017-08-08T10:46:00Z'>10:46</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
wumpus: my only possibly-not-ignored objection I think, is to breaking backward compatibility for RPC :/  (#10989)
<br>
</div>

<div class='talk op-msg' data-timestamp='1502189160' id='562989'>
<a class='timestamp' href='#562989'><time timestamp='2017-08-08T10:46:00Z'>10:46</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/10989" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/10989</a> | RPC: Restore backward compatibility, in multiwallet mode by luke-jr · Pull Request #10989 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1502189220' id='562990'>
<a class='timestamp' href='#562990'><time timestamp='2017-08-08T10:47:00Z'>10:47</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
luke-jr: I think that objection is acknoweldged and set aside. Making MW require the wallet was an intentional decision at least for now that basically everyone supported.
<br>
</div>

<div class='talk op-msg' data-timestamp='1502189220' id='562991'>
<a class='timestamp' href='#562991'><time timestamp='2017-08-08T10:47:00Z'>10:47</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
wumpus - I think because it&#x27;s been open for a long time and gone through many iterations, during which time the keypool defaults were increased. I&#x27;ve only just realised the implications from what gmaxwell said just now
<br>
</div>

<div class='talk op-msg' data-timestamp='1502189280' id='562992'>
<a class='timestamp' href='#562992'><time timestamp='2017-08-08T10:48:00Z'>10:48</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
I can hopefully get a minimal PR on top of #10882 in the next hour that includes juse the getnewaddress fix. gmaxwell, will you be able to review today?
<br>
</div>

<div class='talk op-msg' data-timestamp='1502189280' id='562993'>
<a class='timestamp' href='#562993'><time timestamp='2017-08-08T10:48:00Z'>10:48</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/10882" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/10882</a> | Keypool topup by jnewbery · Pull Request #10882 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1502189340' id='562994'>
<a class='timestamp' href='#562994'><time timestamp='2017-08-08T10:49:00Z'>10:49</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
so people will just be forced to switch to Knots to actually use MW I guess, whatever
<br>
</div>

<div class='talk op-msg' data-timestamp='1502189400' id='562995'>
<a class='timestamp' href='#562995'><time timestamp='2017-08-08T10:50:00Z'>10:50</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
I suppose that&#x27;s the same as with previous versions
<br>
</div>

<div class='talk op-msg' data-timestamp='1502189400' id='562996'>
<a class='timestamp' href='#562996'><time timestamp='2017-08-08T10:50:00Z'>10:50</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
luke-jr: come on dude, having to specify which wallet you want is not &quot;having to use&quot;.  It&#x27;s perhaps arguably less useful, but the feature is expiremental in this version.
<br>
</div>

<div class='talk op-msg' data-timestamp='1502189460' id='562997'>
<a class='timestamp' href='#562997'><time timestamp='2017-08-08T10:51:00Z'>10:51</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
multiwallet is experimental
<br>
</div>

<div class='talk op-msg' data-timestamp='1502189460' id='562998'>
<a class='timestamp' href='#562998'><time timestamp='2017-08-08T10:51:00Z'>10:51</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
even if it&#x27;s completely useless in rc1, I&#x27;m not going to block the release on that
<br>
</div>

<div class='talk op-msg' data-timestamp='1502189460' id='562999'>
<a class='timestamp' href='#562999'><time timestamp='2017-08-08T10:51:00Z'>10:51</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
(and I know for sure it&#x27;s not compltely useless)
<br>
</div>

<div class='talk op-msg' data-timestamp='1502189460' id='563000'>
<a class='timestamp' href='#563000'><time timestamp='2017-08-08T10:51:00Z'>10:51</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
gmaxwell: no existing software uses the new API, and as you point out, the new API is experimental.. so there&#x27;s basically no way to get the primary &quot;just keep wallets in sync&quot; benefit without using a new experimental API
<br>
</div>

<div class='talk op-msg' data-timestamp='1502189520' id='563001'>
<a class='timestamp' href='#563001'><time timestamp='2017-08-08T10:52:00Z'>10:52</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
luke-jr: bitcoin cli works, and many other things are easy to get working...
<br>
</div>

<div class='talk op-msg' data-timestamp='1502189520' id='563002'>
<a class='timestamp' href='#563002'><time timestamp='2017-08-08T10:52:00Z'>10:52</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
anyway, I acknowledge that this isn&#x27;t going to be fixed; I&#x27;m just not happy about it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1502189520' id='563003'>
<a class='timestamp' href='#563003'><time timestamp='2017-08-08T10:52:00Z'>10:52</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I agree it dimishes the wallet warming usecase.
<br>
</div>

<div class='talk op-msg' data-timestamp='1502189640' id='563004'>
<a class='timestamp' href='#563004'><time timestamp='2017-08-08T10:54:00Z'>10:54</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
luke-jr: the concern people have about accidentally interacting with the wrong wallet is a good one though. It&#x27;s an obvious footgun and it&#x27;s more conservative to avoid it for now.
<br>
</div>

<div class='talk op-msg' data-timestamp='1502189640' id='563005'>
<a class='timestamp' href='#563005'><time timestamp='2017-08-08T10:54:00Z'>10:54</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
luke-jr: also, perhaps that walletwarming usecase would better be met with a seperate state e.g. a scanwallet=file  where there is no risk of accidentally using it beyond getting some status about it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1502189700' id='563006'>
<a class='timestamp' href='#563006'><time timestamp='2017-08-08T10:55:00Z'>10:55</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
gmaxwell: yes, I agree that&#x27;s a reasonable concern. I don&#x27;t know a way to address it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1502189700' id='563007'>
<a class='timestamp' href='#563007'><time timestamp='2017-08-08T10:55:00Z'>10:55</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
hopefully MW will be more than warming by 0.16 anyway
<br>
</div>

<div class='talk op-msg' data-timestamp='1502189700' id='563008'>
<a class='timestamp' href='#563008'><time timestamp='2017-08-08T10:55:00Z'>10:55</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
(I actually think it might have been better to release without <b>*any*</b> RPC MW support, than with what we have now)
<br>
</div>

<div class='talk op-msg' data-timestamp='1502189760' id='563009'>
<a class='timestamp' href='#563009'><time timestamp='2017-08-08T10:56:00Z'>10:56</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
(that&#x27;d solve the footgun issue, while not breaking the warming use case)
<br>
</div>

<div class='talk op-msg' data-timestamp='1502189760' id='563010'>
<a class='timestamp' href='#563010'><time timestamp='2017-08-08T10:56:00Z'>10:56</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
luke-jr: fwiw, I think it would be more constructive on concerns like this if instead of just saying it&#x27;s wrong, if you walked us through the specific case that you care about that it screws up.  It&#x27;s a lot easier to sympatize with your concern if someone understands it, and they can&#x27;t unless you explain it.  When you just state matter of factly that it&#x27;s currently wrong or broken, it&#x27;s random c
<br>
</div>

<div class='talk op-msg' data-timestamp='1502189760' id='563011'>
<a class='timestamp' href='#563011'><time timestamp='2017-08-08T10:56:00Z'>10:56</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
hance if any given person will understand why you think that.
<br>
</div>

<div class='talk op-msg' data-timestamp='1502189760' id='563012'>
<a class='timestamp' href='#563012'><time timestamp='2017-08-08T10:56:00Z'>10:56</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
luke-jr: For many people, updating to make the calls (e.g. cli users) is trivial.
<br>
</div>

<div class='talk op-msg' data-timestamp='1502189820' id='563013'>
<a class='timestamp' href='#563013'><time timestamp='2017-08-08T10:57:00Z'>10:57</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
gmaxwell: my understanding was that it&#x27;s basically the only real use case 0.15 will support MW for
<br>
</div>

<div class='talk op-msg' data-timestamp='1502189820' id='563014'>
<a class='timestamp' href='#563014'><time timestamp='2017-08-08T10:57:00Z'>10:57</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
and being able to actually use MW will be nice.
<br>
</div>

<div class='talk op-msg' data-timestamp='1502189820' id='563015'>
<a class='timestamp' href='#563015'><time timestamp='2017-08-08T10:57:00Z'>10:57</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
luke-jr: that wasn&#x27;t my understanding. Actually, I didn&#x27;t even really know people were thinking that much about &quot;warming but not using&quot; until I read the release note text re: GUI.  Which I assume you wrote.
<br>
</div>

<div class='talk op-msg' data-timestamp='1502189880' id='563016'>
<a class='timestamp' href='#563016'><time timestamp='2017-08-08T10:58:00Z'>10:58</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Though I agree it&#x27;s a useful thing to do, esp in a world with pruning.. (also rescan times are a seriously negative part of my life these days)
<br>
</div>

<div class='talk op-msg' data-timestamp='1502189940' id='563017'>
<a class='timestamp' href='#563017'><time timestamp='2017-08-08T10:59:00Z'>10:59</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
(FWIW, Newbery wrote it)
<br>
</div>

<div class='talk op-msg' data-timestamp='1502189940' id='563018'>
<a class='timestamp' href='#563018'><time timestamp='2017-08-08T10:59:00Z'>10:59</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I manage cold wallets for myself, for blockstream, for varrious projects... and it&#x27;s not uncommon that I lose hours of waiting due to having to rescan something.
<br>
</div>

<div class='talk op-msg' data-timestamp='1502189940' id='563019'>
<a class='timestamp' href='#563019'><time timestamp='2017-08-08T10:59:00Z'>10:59</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
ah okay!
<br>
</div>

<div class='talk op-msg' data-timestamp='1502189940' id='563020'>
<a class='timestamp' href='#563020'><time timestamp='2017-08-08T10:59:00Z'>10:59</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
yeah - I think for qt-only users warming is the only use in v0.15
<br>
</div>

<div class='talk op-msg' data-timestamp='1502189940' id='563021'>
<a class='timestamp' href='#563021'><time timestamp='2017-08-08T10:59:00Z'>10:59</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
I suppose a reasonable compromise is to have a command-line option to set a default wallet, and only support it in that case. But probably too late to get it into 0.15
<br>
</div>

<div class='talk op-msg' data-timestamp='1502190000' id='563022'>
<a class='timestamp' href='#563022'><time timestamp='2017-08-08T11:00:00Z'>11:00</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
but for RPC users, multiwallet is fully supported
<br>
</div>

<div class='talk op-msg' data-timestamp='1502190000' id='563023'>
<a class='timestamp' href='#563023'><time timestamp='2017-08-08T11:00:00Z'>11:00</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
hmm. can a Qt user even access their wallet via debug console now?
<br>
</div>

<div class='talk op-msg' data-timestamp='1502190060' id='563024'>
<a class='timestamp' href='#563024'><time timestamp='2017-08-08T11:01:00Z'>11:01</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
yes, just wallet 0
<br>
</div>

<div class='talk op-msg' data-timestamp='1502190060' id='563025'>
<a class='timestamp' href='#563025'><time timestamp='2017-08-08T11:01:00Z'>11:01</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
#10870
<br>
</div>

<div class='talk op-msg' data-timestamp='1502190060' id='563026'>
<a class='timestamp' href='#563026'><time timestamp='2017-08-08T11:01:00Z'>11:01</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/10870" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/10870</a> | [Qt] Use wallet 0 in rpc console if running with multiple wallets by jonasschnelli · Pull Request #10870 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1502190180' id='563027'>
<a class='timestamp' href='#563027'><time timestamp='2017-08-08T11:03:00Z'>11:03</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
ah     
<br>
</div>

<div class='talk op-msg' data-timestamp='1502190300' id='563028'>
<a class='timestamp' href='#563028'><time timestamp='2017-08-08T11:05:00Z'>11:05</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
gmaxwell - I don&#x27;t think the getnewaddress changes you&#x27;re asking for in 10882 address the encrypted-wallet-with-fewer-than-500-keys issue that you just raised
<br>
</div>

<div class='talk op-msg' data-timestamp='1502190300' id='563029'>
<a class='timestamp' href='#563029'><time timestamp='2017-08-08T11:05:00Z'>11:05</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
basically every HD wallet now has fewer than 500 keys
<br>
</div>

<div class='talk op-msg' data-timestamp='1502190360' id='563030'>
<a class='timestamp' href='#563030'><time timestamp='2017-08-08T11:06:00Z'>11:06</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
so on upgrade, everyone with an encrypted HD wallet will have their node shut down and be presented with the &#x27;restart with bypasskeypoolcritical blah blah blah&#x27; error
<br>
</div>

<div class='talk op-msg' data-timestamp='1502190420' id='563031'>
<a class='timestamp' href='#563031'><time timestamp='2017-08-08T11:07:00Z'>11:07</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
it&#x27;s not a loss of funds risk, but it&#x27;s a terrible first user impression of v0.15
<br>
</div>

<div class='talk op-msg' data-timestamp='1502190480' id='563032'>
<a class='timestamp' href='#563032'><time timestamp='2017-08-08T11:08:00Z'>11:08</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
the whole thing is a bit weird. When the wallet is current there is no need for the keypool to have lookahead.
<br>
</div>

<div class='talk op-msg' data-timestamp='1502190600' id='563033'>
<a class='timestamp' href='#563033'><time timestamp='2017-08-08T11:10:00Z'>11:10</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
But I didn&#x27;t want to get into dictating major changes to it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1502190780' id='563034'>
<a class='timestamp' href='#563034'><time timestamp='2017-08-08T11:13:00Z'>11:13</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
maybe it should only enlarge the keypool the first time the user unlocks the wallet
<br>
</div>

<div class='talk op-msg' data-timestamp='1502190780' id='563035'>
<a class='timestamp' href='#563035'><time timestamp='2017-08-08T11:13:00Z'>11:13</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
after upgrading
<br>
</div>

<div class='talk op-msg' data-timestamp='1502190780' id='563036'>
<a class='timestamp' href='#563036'><time timestamp='2017-08-08T11:13:00Z'>11:13</time></a>
&lt;<span class='nick nick-14'> Lauda</span>&gt;
Does anyone know what the limiting factor for rescan speed is? I have been running a few imports on a fairly good machine, and I don&#x27;t see everything being utilized whilst this is taking up a lot of time (single key 2+ hours). Disk I/O maybe? 
<br>
</div>

<div class='talk op-msg' data-timestamp='1502190780' id='563037'>
<a class='timestamp' href='#563037'><time timestamp='2017-08-08T11:13:00Z'>11:13</time></a>
&lt;<span class='nick nick-14'> Lauda</span>&gt;
CPU &lt;20% on average, 2 GB of RAM out of 32 (with dbcache 12GB).
<br>
</div>

<div class='talk op-msg' data-timestamp='1502190840' id='563038'>
<a class='timestamp' href='#563038'><time timestamp='2017-08-08T11:14:00Z'>11:14</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
rescan could be a lot faster if you&#x27;d not care about transaction history, then it&#x27;d only have to scan over the utxo set instead of every single block
<br>
</div>

<div class='talk op-msg' data-timestamp='1502190900' id='563039'>
<a class='timestamp' href='#563039'><time timestamp='2017-08-08T11:15:00Z'>11:15</time></a>
&lt;<span class='nick nick-14'> Lauda</span>&gt;
I don&#x27;t, I just care about the final balance (in this case). Is there an option to ignore the TX history?
<br>
</div>

<div class='talk op-msg' data-timestamp='1502190900' id='563040'>
<a class='timestamp' href='#563040'><time timestamp='2017-08-08T11:15:00Z'>11:15</time></a>
&lt;<span class='nick nick-14'> Lauda</span>&gt;
Seems like rescan speed will keep getting much worse with time, no?
<br>
</div>

<div class='talk op-msg' data-timestamp='1502190960' id='563041'>
<a class='timestamp' href='#563041'><time timestamp='2017-08-08T11:16:00Z'>11:16</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
wumpus, the problem is that keypool_critical was changed to 500 during the iterations of this PR (when keypool was changed to 1000). We&#x27;d need a way for keypool_critical to be lowered to 50 on the first run after upgrading, or similar. I can&#x27;t think of a good way to do that
<br>
</div>

<div class='talk op-msg' data-timestamp='1502191200' id='563042'>
<a class='timestamp' href='#563042'><time timestamp='2017-08-08T11:20:00Z'>11:20</time></a>
&lt;<span class='nick nick-14'> Lauda</span>&gt;
I should also note that it is taking over 2 hours on a VPS with an SSD. I wonder how much of a difference it would make with an HDD (% duration increase).
<br>
</div>

<div class='talk op-msg' data-timestamp='1502192040' id='563043'>
<a class='timestamp' href='#563043'><time timestamp='2017-08-08T11:34:00Z'>11:34</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
the rescan is slow presumably because it deseralizes each block and each transaction and hashes each trasnaction and does dozens of memory allocations for each transactions.
<br>
</div>

<div class='talk op-msg' data-timestamp='1502192100' id='563044'>
<a class='timestamp' href='#563044'><time timestamp='2017-08-08T11:35:00Z'>11:35</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
It could probably take your scriptpubkeys and txns as bytes and scan the raw block data without deseralizing things and be 500 times faster... but it would be a fair amount of work to implement that.
<br>
</div>

<div class='talk op-msg' data-timestamp='1502192160' id='563045'>
<a class='timestamp' href='#563045'><time timestamp='2017-08-08T11:36:00Z'>11:36</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
jnewbery: keypool_criticial being 50 is not really reasonable in any case. it would miss transactions in many of my existing wallets, for example, and I doubt my usage is that atypical.
<br>
</div>

<div class='talk op-msg' data-timestamp='1502192160' id='563046'>
<a class='timestamp' href='#563046'><time timestamp='2017-08-08T11:36:00Z'>11:36</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
jnewbery: I think the bigger point though is that when the wallet is current there is no reason to shut down.
<br>
</div>

<div class='talk op-msg' data-timestamp='1502192220' id='563047'>
<a class='timestamp' href='#563047'><time timestamp='2017-08-08T11:37:00Z'>11:37</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
It doesn&#x27;t matter if there is look ahead if the wallet hasn&#x27;t fallen behind.
<br>
</div>

<div class='talk op-msg' data-timestamp='1502192220' id='563048'>
<a class='timestamp' href='#563048'><time timestamp='2017-08-08T11:37:00Z'>11:37</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes, it will get slower with time, assuming you&#x27;re donig a full rescan
<br>
</div>

<div class='talk op-msg' data-timestamp='1502192220' id='563049'>
<a class='timestamp' href='#563049'><time timestamp='2017-08-08T11:37:00Z'>11:37</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
if you rescan a more or less fixed number of blocks it should stay at the same speed
<br>
</div>

<div class='talk op-msg' data-timestamp='1502192220' id='563050'>
<a class='timestamp' href='#563050'><time timestamp='2017-08-08T11:37:00Z'>11:37</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
or at least not become much slower...
<br>
</div>

<div class='talk op-msg' data-timestamp='1502192280' id='563051'>
<a class='timestamp' href='#563051'><time timestamp='2017-08-08T11:38:00Z'>11:38</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
and yes, rescan as it is could certainly be optimized, though I doubt anyone sees it as that much of a priority
<br>
</div>

<div class='talk op-msg' data-timestamp='1502192280' id='563052'>
<a class='timestamp' href='#563052'><time timestamp='2017-08-08T11:38:00Z'>11:38</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
&quot;when the wallet is current there is no reason to shut down.&quot; - the getnewaddress change doesn&#x27;t fix that
<br>
</div>

<div class='talk op-msg' data-timestamp='1502192340' id='563053'>
<a class='timestamp' href='#563053'><time timestamp='2017-08-08T11:39:00Z'>11:39</time></a>
&lt;<span class='nick nick-14'> Lauda</span>&gt;
gmaxwell that sounds like a good optimization for the future. Thanks for the responses. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1502192340' id='563054'>
<a class='timestamp' href='#563054'><time timestamp='2017-08-08T11:39:00Z'>11:39</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
you&#x27;re welcome to give it a try of course
<br>
</div>

<div class='talk op-msg' data-timestamp='1502192400' id='563055'>
<a class='timestamp' href='#563055'><time timestamp='2017-08-08T11:40:00Z'>11:40</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
jnewbery: I realize this. When you suggested that I thought it would be simpler than another solution.
<br>
</div>

<div class='talk op-msg' data-timestamp='1502192640' id='563056'>
<a class='timestamp' href='#563056'><time timestamp='2017-08-08T11:44:00Z'>11:44</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
I must have misunderstood you in the issue. I suggested the getnewaddress change because I thought you were talking about running getnewaddress 500 times. I didn&#x27;t realise there was an upgrade issue until you mentioned it today
<br>
</div>

<div class='talk op-msg' data-timestamp='1502192760' id='563057'>
<a class='timestamp' href='#563057'><time timestamp='2017-08-08T11:46:00Z'>11:46</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I was just trying to give an example where the keypool would be below the threshold. I don&#x27;t really see them as different... end result is the same regardless of how you get there. Sorry.
<br>
</div>

<div class='talk op-msg' data-timestamp='1502192820' id='563058'>
<a class='timestamp' href='#563058'><time timestamp='2017-08-08T11:47:00Z'>11:47</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
e.g. imagine that the crit threshold were still 50, you&#x27;d still have existing wallets shut down immediately, or after the user executes a dozen getnewaddresses. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1502192820' id='563059'>
<a class='timestamp' href='#563059'><time timestamp='2017-08-08T11:47:00Z'>11:47</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Just fewer of them.
<br>
</div>

<div class='talk op-msg' data-timestamp='1502192820' id='563060'>
<a class='timestamp' href='#563060'><time timestamp='2017-08-08T11:47:00Z'>11:47</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
but they&#x27;d mostly all die eventually except for users that unlock frequently before running out.
<br>
</div>

<div class='talk op-msg' data-timestamp='1502193240' id='563061'>
<a class='timestamp' href='#563061'><time timestamp='2017-08-08T11:54:00Z'>11:54</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
ok, so how do we fix this?
<br>
</div>

<div class='talk op-msg' data-timestamp='1502193300' id='563062'>
<a class='timestamp' href='#563062'><time timestamp='2017-08-08T11:55:00Z'>11:55</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
Offline keypool topup would be <b>*really*</b> useful
<br>
</div>

<div class='talk op-msg' data-timestamp='1502193480' id='563063'>
<a class='timestamp' href='#563063'><time timestamp='2017-08-08T11:58:00Z'>11:58</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
jnewbery: Can we distinguish the case where we are current vs rescanning? If so, then we just shouldn&#x27;t perform the shutdown when we&#x27;re current.
<br>
</div>

<div class='talk op-msg' data-timestamp='1502193840' id='563064'>
<a class='timestamp' href='#563064'><time timestamp='2017-08-08T12:04:00Z'>12:04</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I think it would still be good to stop newaddresses short of the limit, so that we don&#x27;t immediately go into shutdown on any attempt to rescan when the pool is empty.. but that is a less criticial improvement.
<br>
</div>

<div class='talk op-msg' data-timestamp='1502193900' id='563065'>
<a class='timestamp' href='#563065'><time timestamp='2017-08-08T12:05:00Z'>12:05</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
We rescan from the wallet&#x27;s best block on startup. So even with that change, we&#x27;re going to barf on upgrade
<br>
</div>

<div class='talk op-msg' data-timestamp='1502193960' id='563066'>
<a class='timestamp' href='#563066'><time timestamp='2017-08-08T12:06:00Z'>12:06</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
(unless you shutdown v0.14, upgrade, start v0.15 before a block has been produced)
<br>
</div>

<div class='talk op-msg' data-timestamp='1502194020' id='563067'>
<a class='timestamp' href='#563067'><time timestamp='2017-08-08T12:07:00Z'>12:07</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
hm. but we don&#x27;t have those blocks at startup.
<br>
</div>

<div class='talk op-msg' data-timestamp='1502194020' id='563068'>
<a class='timestamp' href='#563068'><time timestamp='2017-08-08T12:07:00Z'>12:07</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
when we start, the best block should be the same... though yea, IIRC we do a rescan in any case. I think just as a belt and suspenders check.
<br>
</div>

<div class='talk op-msg' data-timestamp='1502194080' id='563069'>
<a class='timestamp' href='#563069'><time timestamp='2017-08-08T12:08:00Z'>12:08</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
oh, ok. Makes sense
<br>
</div>

<div class='talk op-msg' data-timestamp='1502194260' id='563070'>
<a class='timestamp' href='#563070'><time timestamp='2017-08-08T12:11:00Z'>12:11</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
jnewbery: gmaxwell: i dont have all the code handy, but just brainstorming a quick fix for 0.15
<br>
</div>

<div class='talk op-msg' data-timestamp='1502194260' id='563071'>
<a class='timestamp' href='#563071'><time timestamp='2017-08-08T12:11:00Z'>12:11</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
wouldn&#x27;t it be possible to take advantage of the two different limits
<br>
</div>

<div class='talk op-msg' data-timestamp='1502194320' id='563072'>
<a class='timestamp' href='#563072'><time timestamp='2017-08-08T12:12:00Z'>12:12</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I think that initial rescan can be disabled, but it&#x27;s been so long since I&#x27;ve thought about it, there may be reasons that I am not remembering.
<br>
</div>

<div class='talk op-msg' data-timestamp='1502194320' id='563073'>
<a class='timestamp' href='#563073'><time timestamp='2017-08-08T12:12:00Z'>12:12</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
if we set keypoolmin to 500 and keypoolcritical to 25, then don&#x27;t we not miss anything since our best block has stopped advancing?
<br>
</div>

<div class='talk op-msg' data-timestamp='1502194380' id='563074'>
<a class='timestamp' href='#563074'><time timestamp='2017-08-08T12:13:00Z'>12:13</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
oh. that is an interesting point, but what about wallets with empty keypools
<br>
</div>

<div class='talk op-msg' data-timestamp='1502194380' id='563075'>
<a class='timestamp' href='#563075'><time timestamp='2017-08-08T12:13:00Z'>12:13</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(below 25)
<br>
</div>

<div class='talk op-msg' data-timestamp='1502194380' id='563076'>
<a class='timestamp' href='#563076'><time timestamp='2017-08-08T12:13:00Z'>12:13</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
then with the release notes we can recommend running walletpasphrase as soon as you startup  so your keypool will top up to the new bigger amounts
<br>
</div>

<div class='talk op-msg' data-timestamp='1502194380' id='563077'>
<a class='timestamp' href='#563077'><time timestamp='2017-08-08T12:13:00Z'>12:13</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
oh wait, that doesnt work exactly...
<br>
</div>

<div class='talk op-msg' data-timestamp='1502194380' id='563078'>
<a class='timestamp' href='#563078'><time timestamp='2017-08-08T12:13:00Z'>12:13</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
shoot
<br>
</div>

<div class='talk op-msg' data-timestamp='1502194440' id='563079'>
<a class='timestamp' href='#563079'><time timestamp='2017-08-08T12:14:00Z'>12:14</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
also it would be potentially a problem for pruned nodes
<br>
</div>

<div class='talk op-msg' data-timestamp='1502194440' id='563080'>
<a class='timestamp' href='#563080'><time timestamp='2017-08-08T12:14:00Z'>12:14</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
need a third number, but then I think it does except for but what if there isn&#x27;t even 25.. and pruned.
<br>
</div>

<div class='talk op-msg' data-timestamp='1502194500' id='563081'>
<a class='timestamp' href='#563081'><time timestamp='2017-08-08T12:15:00Z'>12:15</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
i need to look at the code, but right now i actually think it is a broken state to set keypoolmin different from keypoolcritical
<br>
</div>

<div class='talk op-msg' data-timestamp='1502194500' id='563082'>
<a class='timestamp' href='#563082'><time timestamp='2017-08-08T12:15:00Z'>12:15</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
morcos: If instead we just make it so that the only time this applies is when the wallet has fallen behind the node tip (or is otherwise rescanned)-- then I think that would be fine. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1502194500' id='563083'>
<a class='timestamp' href='#563083'><time timestamp='2017-08-08T12:15:00Z'>12:15</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
You&#x27;d still get forced into topping up anytime you imported keys, moved wallets between nodes, etc.. but normal operation wouldn&#x27;t run into it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1502194620' id='563084'>
<a class='timestamp' href='#563084'><time timestamp='2017-08-08T12:17:00Z'>12:17</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I believe the reason we do rescanning at tip even when we&#x27;re in sync (assuming we still do it) was a concern about reorgs and or the wallet not getting flushed consistently with blocks in an unclean shutdown or something like that.
<br>
</div>

<div class='talk op-msg' data-timestamp='1502194620' id='563085'>
<a class='timestamp' href='#563085'><time timestamp='2017-08-08T12:17:00Z'>12:17</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
The scary thing to me is the way we turn off setting the best block, but then potentially turn it back on if we haven&#x27;t rescanned (thereby missing scanning a bunch of blocks)
<br>
</div>

<div class='talk op-msg' data-timestamp='1502194680' id='563086'>
<a class='timestamp' href='#563086'><time timestamp='2017-08-08T12:18:00Z'>12:18</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
i haven&#x27;t looked at the most recent code, and maybe ryanofsky&#x27;s suggestion fixed that i don&#x27;t remember
<br>
</div>

<div class='talk op-msg' data-timestamp='1502194680' id='563087'>
<a class='timestamp' href='#563087'><time timestamp='2017-08-08T12:18:00Z'>12:18</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
i&#x27;m going to stop giving out ideas until i look more closely at the code again
<br>
</div>

<div class='talk op-msg' data-timestamp='1502194740' id='563088'>
<a class='timestamp' href='#563088'><time timestamp='2017-08-08T12:19:00Z'>12:19</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
but for the record wumpus, my view is it would be better to delay 0.15 (even by a week or two) to get this right
<br>
</div>

<div class='talk op-msg' data-timestamp='1502194800' id='563089'>
<a class='timestamp' href='#563089'><time timestamp='2017-08-08T12:20:00Z'>12:20</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
i think we&#x27;re getting pretty well into understanding all the issues now, so would be good to fix it while it&#x27;s fresh, and it also seems like a big enough problem, that would be nice to fix before release
<br>
</div>

<div class='talk op-msg' data-timestamp='1502195040' id='563090'>
<a class='timestamp' href='#563090'><time timestamp='2017-08-08T12:24:00Z'>12:24</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
i think #10982 should be locked
<br>
</div>

<div class='talk op-msg' data-timestamp='1502195040' id='563091'>
<a class='timestamp' href='#563091'><time timestamp='2017-08-08T12:24:00Z'>12:24</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/10982" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/10982</a> | Disconnect network service bits 6 and 8 until Aug 1, 2018 by TheBlueMatt · Pull Request #10982 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1502195220' id='563092'>
<a class='timestamp' href='#563092'><time timestamp='2017-08-08T12:27:00Z'>12:27</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
:(     
<br>
</div>

<div class='talk op-msg' data-timestamp='1502195520' id='563093'>
<a class='timestamp' href='#563093'><time timestamp='2017-08-08T12:32:00Z'>12:32</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
morcos - I think ryanofsky&#x27;s change is helpful. I tried including it but it broke tests, so I rolled back to a previous commit
<br>
</div>

<div class='talk op-msg' data-timestamp='1502195640' id='563094'>
<a class='timestamp' href='#563094'><time timestamp='2017-08-08T12:34:00Z'>12:34</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
gmaxwell - ShutdownIfKeypoolCritical() is only called in CreateWalletFromFile() and AddToWalletIfInvolvingMe(). I think your change would be to remove it from CreateWalletFromFile(), and only call it from AddToWalletIfInvolvingMe() if that function was called by SyncTransaction() (and not by ScanForWalletTransactions())
<br>
</div>

<div class='talk op-msg' data-timestamp='1502195700' id='563095'>
<a class='timestamp' href='#563095'><time timestamp='2017-08-08T12:35:00Z'>12:35</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
I think I know what I need to do - re-add the getnewaddress changes, re-add ryanofksy&#x27;s changes about setting best block, and make the change above
<br>
</div>

<div class='talk op-msg' data-timestamp='1502196060' id='563096'>
<a class='timestamp' href='#563096'><time timestamp='2017-08-08T12:41:00Z'>12:41</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
MarcoFalke: thank you
<br>
</div>

<div class='talk op-msg' data-timestamp='1502196060' id='563097'>
<a class='timestamp' href='#563097'><time timestamp='2017-08-08T12:41:00Z'>12:41</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
MarcoFalke: you just beat me to it :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1502196120' id='563098'>
<a class='timestamp' href='#563098'><time timestamp='2017-08-08T12:42:00Z'>12:42</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
Too much mail spam :(
<br>
</div>

<div class='talk op-msg' data-timestamp='1502196180' id='563099'>
<a class='timestamp' href='#563099'><time timestamp='2017-08-08T12:43:00Z'>12:43</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
:-( sorry that i even commented on it at all, it just made it worse
<br>
</div>

<div class='talk op-msg' data-timestamp='1502197380' id='563100'>
<a class='timestamp' href='#563100'><time timestamp='2017-08-08T13:03:00Z'>13:03</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
~.
<br>
</div>

<div class='talk op-msg' data-timestamp='1502197380' id='563101'>
<a class='timestamp' href='#563101'><time timestamp='2017-08-08T13:03:00Z'>13:03</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
agree.
<br>
</div>

<div class='talk op-msg' data-timestamp='1502197440' id='563102'>
<a class='timestamp' href='#563102'><time timestamp='2017-08-08T13:04:00Z'>13:04</time></a>
&lt;<span class='nick nick-1'> * sdaftuar</span>&gt;
wonders what sipa&#x27;s reasoning is
<br>
</div>

<div class='talk op-msg' data-timestamp='1502203680' id='563103'>
<a class='timestamp' href='#563103'><time timestamp='2017-08-08T14:48:00Z'>14:48</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
jnewbery: maybe reverting the default mempool size increase for 0.15.0 will make this easier?
<br>
</div>

<div class='talk op-msg' data-timestamp='1502204580' id='563104'>
<a class='timestamp' href='#563104'><time timestamp='2017-08-08T15:03:00Z'>15:03</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
How long do we support gcc versions? Curious for #8469
<br>
</div>

<div class='talk op-msg' data-timestamp='1502204580' id='563105'>
<a class='timestamp' href='#563105'><time timestamp='2017-08-08T15:03:00Z'>15:03</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/8469" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/8469</a> | [POC] Introducing property based testing to Core by Christewart · Pull Request #8469 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1502204640' id='563106'>
<a class='timestamp' href='#563106'><time timestamp='2017-08-08T15:04:00Z'>15:04</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
Chris_Stewart_5: there&#x27;s no fixed policy on that - the preference is to support all compilers unless there&#x27;s a good reason not to, such as lack of c++11 support
<br>
</div>

<div class='talk op-msg' data-timestamp='1502205540' id='563107'>
<a class='timestamp' href='#563107'><time timestamp='2017-08-08T15:19:00Z'>15:19</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
wumpus: yes, that would resolve the upgrade issue, although I&#x27;m sure gmaxwell will argue against that
<br>
</div>

<div class='talk op-msg' data-timestamp='1502206380' id='563108'>
<a class='timestamp' href='#563108'><time timestamp='2017-08-08T15:33:00Z'>15:33</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
sure, I just mean maybe we can&#x27;t have everything in a timeframe soon enough for 0.15.0 and we need to make choices
<br>
</div>

<div class='talk op-msg' data-timestamp='1502206500' id='563109'>
<a class='timestamp' href='#563109'><time timestamp='2017-08-08T15:35:00Z'>15:35</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
Chris_Stewart_5: it would be pretty bad to not build on popular stable OSs
<br>
</div>

<div class='talk op-msg' data-timestamp='1502206560' id='563110'>
<a class='timestamp' href='#563110'><time timestamp='2017-08-08T15:36:00Z'>15:36</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
so I&#x27;d check Fedora, Debian, RedHat/CentOS, Gentoo, Ubuntu at least
<br>
</div>

<div class='talk op-msg' data-timestamp='1502206560' id='563111'>
<a class='timestamp' href='#563111'><time timestamp='2017-08-08T15:36:00Z'>15:36</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
IIRC typically the hold-back is CentOS
<br>
</div>

<div class='talk op-msg' data-timestamp='1502206620' id='563112'>
<a class='timestamp' href='#563112'><time timestamp='2017-08-08T15:37:00Z'>15:37</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
luke-jr: it doesn&#x27;t even work on travis
<br>
</div>

<div class='talk op-msg' data-timestamp='1502206620' id='563113'>
<a class='timestamp' href='#563113'><time timestamp='2017-08-08T15:37:00Z'>15:37</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
heh     
<br>
</div>

<div class='talk op-msg' data-timestamp='1502206680' id='563114'>
<a class='timestamp' href='#563114'><time timestamp='2017-08-08T15:38:00Z'>15:38</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
gcc 4.8 isn&#x27;t <b>*that*</b> old and crappy yet, I doubt we should drop support just to be able to do tests in a certain way
<br>
</div>

<div class='talk op-msg' data-timestamp='1502206680' id='563115'>
<a class='timestamp' href='#563115'><time timestamp='2017-08-08T15:38:00Z'>15:38</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
and the tests working on travis is kind of important, so disabling them on gcc 4.8 isn&#x27;t going to fly either
<br>
</div>

<div class='talk op-msg' data-timestamp='1502206740' id='563116'>
<a class='timestamp' href='#563116'><time timestamp='2017-08-08T15:39:00Z'>15:39</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
right
<br>
</div>

<div class='talk op-msg' data-timestamp='1502206740' id='563117'>
<a class='timestamp' href='#563117'><time timestamp='2017-08-08T15:39:00Z'>15:39</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] practicalswift opened pull request #11007: [qt] Fix memory leak when loading a corrupted wallet file (master...wallet-corrupted-leak) <a href="https://github.com/bitcoin/bitcoin/pull/11007" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/11007</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1502206740' id='563118'>
<a class='timestamp' href='#563118'><time timestamp='2017-08-08T15:39:00Z'>15:39</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
Yes, 4.8.4 was released in Dec of 2014
<br>
</div>

<div class='talk op-msg' data-timestamp='1502206800' id='563119'>
<a class='timestamp' href='#563119'><time timestamp='2017-08-08T15:40:00Z'>15:40</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
ancient in terms of bitcoin! :P 
<br>
</div>

<div class='talk op-msg' data-timestamp='1502206800' id='563120'>
<a class='timestamp' href='#563120'><time timestamp='2017-08-08T15:40:00Z'>15:40</time></a>
&lt;<span class='nick nick-7'> sam_c</span>&gt;
gentoo is about to mask 4.8
<br>
</div>

<div class='talk op-msg' data-timestamp='1502206980' id='563121'>
<a class='timestamp' href='#563121'><time timestamp='2017-08-08T15:43:00Z'>15:43</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
besides that, we already got lots of complaints that we&#x27;re requiring a c++11 compiler, I&quot;d prefer to keep the compiler requirement the same for the forseeable future  
<br>
</div>

<div class='talk op-msg' data-timestamp='1502207160' id='563122'>
<a class='timestamp' href='#563122'><time timestamp='2017-08-08T15:46:00Z'>15:46</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
wumpus: Do we have a &#x27;rough&#x27; estimate on when 0.15.0 will be done? 
<br>
</div>

<div class='talk op-msg' data-timestamp='1502207520' id='563123'>
<a class='timestamp' href='#563123'><time timestamp='2017-08-08T15:52:00Z'>15:52</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
Chris_Stewart_5: yes, rc1 was planned for the 6th, we&#x27;ve slipped two days now
<br>
</div>

<div class='talk op-msg' data-timestamp='1502207640' id='563124'>
<a class='timestamp' href='#563124'><time timestamp='2017-08-08T15:54:00Z'>15:54</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
(which is perfectly normal)
<br>
</div>

<div class='talk op-msg' data-timestamp='1502208240' id='563125'>
<a class='timestamp' href='#563125'><time timestamp='2017-08-08T16:04:00Z'>16:04</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
sam_c: is it? why?
<br>
</div>

<div class='talk op-msg' data-timestamp='1502208300' id='563126'>
<a class='timestamp' href='#563126'><time timestamp='2017-08-08T16:05:00Z'>16:05</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
actually, it looks like it&#x27;s been masked since May, just because it&#x27;s old O.o
<br>
</div>

<div class='talk op-msg' data-timestamp='1502208480' id='563127'>
<a class='timestamp' href='#563127'><time timestamp='2017-08-08T16:08:00Z'>16:08</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
cool, was just curious
<br>
</div>

<div class='talk op-msg' data-timestamp='1502218680' id='563128'>
<a class='timestamp' href='#563128'><time timestamp='2017-08-08T18:58:00Z'>18:58</time></a>
&lt;<span class='nick nick-8'> jcorgan</span>&gt;
congrats
<br>
</div>

<div class='talk op-msg' data-timestamp='1502218740' id='563129'>
<a class='timestamp' href='#563129'><time timestamp='2017-08-08T18:59:00Z'>18:59</time></a>
&lt;<span class='nick nick-16'> AaronvanW</span>&gt;
+1     
<br>
</div>

<div class='talk op-msg' data-timestamp='1502218800' id='563130'>
<a class='timestamp' href='#563130'><time timestamp='2017-08-08T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-14'> arubi</span>&gt;
when&#x27;s &quot;status&quot; going to change to &quot;locked-in&quot; ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1502218800' id='563131'>
<a class='timestamp' href='#563131'><time timestamp='2017-08-08T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-14'> arubi</span>&gt;
I mean, congrats!  :)  but also that
<br>
</div>

<div class='talk op-msg' data-timestamp='1502218800' id='563132'>
<a class='timestamp' href='#563132'><time timestamp='2017-08-08T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
oh I guess, barring no reorgs segwit lockin is now guarenteed.
<br>
</div>

<div class='talk op-msg' data-timestamp='1502218860' id='563133'>
<a class='timestamp' href='#563133'><time timestamp='2017-08-08T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
arubi: the thing happening now is that there aren&#x27;t enough blocks left to prevent a lock in, but it won&#x27;t lock in for another day or so IIRC.
<br>
</div>

<div class='talk op-msg' data-timestamp='1502218860' id='563134'>
<a class='timestamp' href='#563134'><time timestamp='2017-08-08T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-14'> arubi</span>&gt;
so I was just informed it happens at the end of the period
<br>
</div>

<div class='talk op-msg' data-timestamp='1502218860' id='563135'>
<a class='timestamp' href='#563135'><time timestamp='2017-08-08T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
so even if all blocks for the next of the window don&#x27;t signal segwit it will still lock in.
<br>
</div>

<div class='talk op-msg' data-timestamp='1502218920' id='563136'>
<a class='timestamp' href='#563136'><time timestamp='2017-08-08T19:02:00Z'>19:02</time></a>
&lt;<span class='nick nick-8'> jcorgan</span>&gt;
something like 16-17 hours from now
<br>
</div>

<div class='talk op-msg' data-timestamp='1502218920' id='563137'>
<a class='timestamp' href='#563137'><time timestamp='2017-08-08T19:02:00Z'>19:02</time></a>
&lt;<span class='nick nick-14'> arubi</span>&gt;
right, my confusion was re. the &#x27;getblockchaininfo&#x27; &quot;status&quot; filed to changing after 95% rather than at the end of the period
<br>
</div>

<div class='talk op-msg' data-timestamp='1502218920' id='563138'>
<a class='timestamp' href='#563138'><time timestamp='2017-08-08T19:02:00Z'>19:02</time></a>
&lt;<span class='nick nick-8'> jcorgan</span>&gt;
for end of period
<br>
</div>

<div class='talk op-msg' data-timestamp='1502218980' id='563139'>
<a class='timestamp' href='#563139'><time timestamp='2017-08-08T19:03:00Z'>19:03</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
Mmmm ok
<br>
</div>

<div class='talk op-msg' data-timestamp='1502219940' id='563140'>
<a class='timestamp' href='#563140'><time timestamp='2017-08-08T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
12:19:19 &lt;@betawaffle&gt; gmaxwell: can you congratulate everyone involved in segwit for us?
<br>
</div>

<div class='talk op-msg' data-timestamp='1502220000' id='563141'>
<a class='timestamp' href='#563141'><time timestamp='2017-08-08T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
i guess we can cross &quot;activate segwit&quot; off the list of action items
<br>
</div>

<div class='talk op-msg' data-timestamp='1502220060' id='563142'>
<a class='timestamp' href='#563142'><time timestamp='2017-08-08T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
\O/     
<br>
</div>

<div class='talk op-msg' data-timestamp='1502220120' id='563143'>
<a class='timestamp' href='#563143'><time timestamp='2017-08-08T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
gmaxwell morcos wumpus (and anyone else who&#x27;s interested in wallet topup). I&#x27;ve pushed a branch which I think covers gmaxwell&#x27;s requested logic:
<br>
</div>

<div class='talk op-msg' data-timestamp='1502220120' id='563144'>
<a class='timestamp' href='#563144'><time timestamp='2017-08-08T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
- don&#x27;t shutdown the node on startup if keypool is &lt; keypool_critical
<br>
</div>

<div class='talk op-msg' data-timestamp='1502220120' id='563145'>
<a class='timestamp' href='#563145'><time timestamp='2017-08-08T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
    - don&#x27;t shutdown the node if wallet is current
<br>
</div>

<div class='talk op-msg' data-timestamp='1502220120' id='563146'>
<a class='timestamp' href='#563146'><time timestamp='2017-08-08T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
    - DO shutdown the node if rescanning and keypool drops below
<br>
</div>

<div class='talk op-msg' data-timestamp='1502220120' id='563147'>
<a class='timestamp' href='#563147'><time timestamp='2017-08-08T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
    keypool_critical
<br>
</div>

<div class='talk op-msg' data-timestamp='1502220120' id='563148'>
<a class='timestamp' href='#563148'><time timestamp='2017-08-08T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
#10882
<br>
</div>

<div class='talk op-msg' data-timestamp='1502220120' id='563149'>
<a class='timestamp' href='#563149'><time timestamp='2017-08-08T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/10882" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/10882</a> | Keypool topup by jnewbery · Pull Request #10882 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1502220120' id='563150'>
<a class='timestamp' href='#563150'><time timestamp='2017-08-08T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
When does the period end? exactly, it would kinda be nice if rc1 lands just after that, so that miners running BIP-91 code can safely try rc1. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1502220120' id='563151'>
<a class='timestamp' href='#563151'><time timestamp='2017-08-08T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
getnewaddress should also be safe
<br>
</div>

<div class='talk op-msg' data-timestamp='1502220180' id='563152'>
<a class='timestamp' href='#563152'><time timestamp='2017-08-08T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sdaftuar: now we just need to get people to modulate their hashrate so that the activation coincides with the solar eclipse. It&#x27;s pretty close.
<br>
</div>

<div class='talk op-msg' data-timestamp='1502220180' id='563153'>
<a class='timestamp' href='#563153'><time timestamp='2017-08-08T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
also includes ryanofsky&#x27;s m_update_best_block 
<br>
</div>

<div class='talk op-msg' data-timestamp='1502220180' id='563154'>
<a class='timestamp' href='#563154'><time timestamp='2017-08-08T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(quick, someone make more spinoffs)
<br>
</div>

<div class='talk op-msg' data-timestamp='1502220180' id='563155'>
<a class='timestamp' href='#563155'><time timestamp='2017-08-08T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
lol     
<br>
</div>

<div class='talk op-msg' data-timestamp='1502220240' id='563156'>
<a class='timestamp' href='#563156'><time timestamp='2017-08-08T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
jnewbery: where is the branch?
<br>
</div>

<div class='talk op-msg' data-timestamp='1502220300' id='563157'>
<a class='timestamp' href='#563157'><time timestamp='2017-08-08T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
#10882
<br>
</div>

<div class='talk op-msg' data-timestamp='1502220300' id='563158'>
<a class='timestamp' href='#563158'><time timestamp='2017-08-08T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/10882" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/10882</a> | Keypool topup by jnewbery · Pull Request #10882 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1502220360' id='563159'>
<a class='timestamp' href='#563159'><time timestamp='2017-08-08T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
jnewbery: oh great
<br>
</div>

<div class='talk op-msg' data-timestamp='1502220420' id='563160'>
<a class='timestamp' href='#563160'><time timestamp='2017-08-08T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
This should fix the upgrade issue. bitcoind v0.15 won&#x27;t shutdown first time you run it with an old encrypted HD wallet
<br>
</div>

<div class='talk op-msg' data-timestamp='1502220660' id='563161'>
<a class='timestamp' href='#563161'><time timestamp='2017-08-08T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
but if you don&#x27;t unlock and topup your keypool before you shutdown the node, then I expect it&#x27;ll refuse to start the next time (since your node tip will advance but your wallet best block won&#x27;t)
<br>
</div>

<div class='talk op-msg' data-timestamp='1502220660' id='563162'>
<a class='timestamp' href='#563162'><time timestamp='2017-08-08T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Right. We may need to do a bit of warning related to this pattern still:
<br>
</div>

<div class='talk op-msg' data-timestamp='1502220660' id='563163'>
<a class='timestamp' href='#563163'><time timestamp='2017-08-08T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
wallet is below 500 because it&#x27;s old and encrypted.
<br>
</div>

<div class='talk op-msg' data-timestamp='1502220720' id='563164'>
<a class='timestamp' href='#563164'><time timestamp='2017-08-08T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
you start, life is good, but you are not updating the best block.
<br>
</div>

<div class='talk op-msg' data-timestamp='1502220720' id='563165'>
<a class='timestamp' href='#563165'><time timestamp='2017-08-08T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
then you restart, and now the wallet is behind.
<br>
</div>

<div class='talk op-msg' data-timestamp='1502220720' id='563166'>
<a class='timestamp' href='#563166'><time timestamp='2017-08-08T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
it rescans, and life becomes sad.
<br>
</div>

<div class='talk op-msg' data-timestamp='1502220780' id='563167'>
<a class='timestamp' href='#563167'><time timestamp='2017-08-08T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
yes, sad, but better than any alternative as far as I can see
<br>
</div>

<div class='talk op-msg' data-timestamp='1502220840' id='563168'>
<a class='timestamp' href='#563168'><time timestamp='2017-08-08T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
there is a warning that your keypool is below keypool_min and your best block isn&#x27;t advancing
<br>
</div>

<div class='talk op-msg' data-timestamp='1502220900' id='563169'>
<a class='timestamp' href='#563169'><time timestamp='2017-08-08T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
2017-08-08 19:19:20 Keypool has fallen below keypool_min (500). Wallet will no longer watch for new transactions and best block height will not be advanced.
<br>
</div>

<div class='talk op-msg' data-timestamp='1502220900' id='563170'>
<a class='timestamp' href='#563170'><time timestamp='2017-08-08T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
2017-08-08 19:19:20 Unlock wallet, top up keypool and rescan to resume watching for new transactions.
<br>
</div>

<div class='talk op-msg' data-timestamp='1502220900' id='563171'>
<a class='timestamp' href='#563171'><time timestamp='2017-08-08T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
Perhaps that could be made more explicit &quot;TOP UP KEYPOOL BEFORE NEXT RESTART!&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1502221140' id='563172'>
<a class='timestamp' href='#563172'><time timestamp='2017-08-08T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
Can we add a new checkpoint? (Minimally invasive way to lock Segwit in hard)
<br>
</div>

<div class='talk op-msg' data-timestamp='1502221200' id='563173'>
<a class='timestamp' href='#563173'><time timestamp='2017-08-08T19:40:00Z'>19:40</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
luke-jr: No.
<br>
</div>

<div class='talk op-msg' data-timestamp='1502221200' id='563174'>
<a class='timestamp' href='#563174'><time timestamp='2017-08-08T19:40:00Z'>19:40</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Thats not a proper or interesting thing to do.
<br>
</div>

<div class='talk op-msg' data-timestamp='1502221200' id='563175'>
<a class='timestamp' href='#563175'><time timestamp='2017-08-08T19:40:00Z'>19:40</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
just to eliminate the FUD around miners potentially reorging it out
<br>
</div>

<div class='talk op-msg' data-timestamp='1502221260' id='563176'>
<a class='timestamp' href='#563176'><time timestamp='2017-08-08T19:41:00Z'>19:41</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
luke-jr: you should do what we would eventually do, make a patch that removes the activation and just replaces it with a height comparison.
<br>
</div>

<div class='talk op-msg' data-timestamp='1502221260' id='563177'>
<a class='timestamp' href='#563177'><time timestamp='2017-08-08T19:41:00Z'>19:41</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
Isn&#x27;t it too late for that in 0.15?
<br>
</div>

<div class='talk op-msg' data-timestamp='1502221320' id='563178'>
<a class='timestamp' href='#563178'><time timestamp='2017-08-08T19:42:00Z'>19:42</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
probably, but we should still write the patch.
<br>
</div>

<div class='talk op-msg' data-timestamp='1502221380' id='563179'>
<a class='timestamp' href='#563179'><time timestamp='2017-08-08T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
to be clear: I meant the new checkpoint specifically for 0.15.0 only
<br>
</div>

<div class='talk op-msg' data-timestamp='1502221380' id='563180'>
<a class='timestamp' href='#563180'><time timestamp='2017-08-08T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
luke-jr: but just pinning the consensus isn&#x27;t a right thing to do, and especially violating the rules for setting the things.
<br>
</div>

<div class='talk op-msg' data-timestamp='1502221380' id='563181'>
<a class='timestamp' href='#563181'><time timestamp='2017-08-08T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
&quot;violating the rules for setting the things.&quot;?
<br>
</div>

<div class='talk op-msg' data-timestamp='1502221440' id='563182'>
<a class='timestamp' href='#563182'><time timestamp='2017-08-08T19:44:00Z'>19:44</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
luke-jr: there is a spec for setting that requires them to be set at least 2016 blocks in the past.
<br>
</div>

<div class='talk op-msg' data-timestamp='1502221440' id='563183'>
<a class='timestamp' href='#563183'><time timestamp='2017-08-08T19:44:00Z'>19:44</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
it will be by the time 0.15.0 is released
<br>
</div>

<div class='talk op-msg' data-timestamp='1502221440' id='563184'>
<a class='timestamp' href='#563184'><time timestamp='2017-08-08T19:44:00Z'>19:44</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
to avoid legislating the ledger state.
<br>
</div>

<div class='talk op-msg' data-timestamp='1502221440' id='563185'>
<a class='timestamp' href='#563185'><time timestamp='2017-08-08T19:44:00Z'>19:44</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
also neighter of these things will prevent the reorg around the activation and steal outputs along the way.
<br>
</div>

<div class='talk op-msg' data-timestamp='1502221500' id='563186'>
<a class='timestamp' href='#563186'><time timestamp='2017-08-08T19:45:00Z'>19:45</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
luke-jr: it&#x27;s important to enforce these things by the time we&#x27;d issue SW addresses, less so before.
<br>
</div>

<div class='talk op-msg' data-timestamp='1502221500' id='563187'>
<a class='timestamp' href='#563187'><time timestamp='2017-08-08T19:45:00Z'>19:45</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
hmm, true, I guess we&#x27;d need to be checkpointing the actual activation block for that. and there isn&#x27;t 2016 blocks there.
<br>
</div>

<div class='talk op-msg' data-timestamp='1502221560' id='563188'>
<a class='timestamp' href='#563188'><time timestamp='2017-08-08T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
gmaxwell: Core is more than just a wallet, and wallets besides Core exist..
<br>
</div>

<div class='talk op-msg' data-timestamp='1502221560' id='563189'>
<a class='timestamp' href='#563189'><time timestamp='2017-08-08T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
while on the subject of cleaning up technical debt associated with prior soft fork deployments: #10695 could use review
<br>
</div>

<div class='talk op-msg' data-timestamp='1502221560' id='563190'>
<a class='timestamp' href='#563190'><time timestamp='2017-08-08T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/10695" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/10695</a> | [qa] Rewrite BIP65/BIP66 functional tests by sdaftuar · Pull Request #10695 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1502221560' id='563191'>
<a class='timestamp' href='#563191'><time timestamp='2017-08-08T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
or merge
<br>
</div>

<div class='talk op-msg' data-timestamp='1502221560' id='563192'>
<a class='timestamp' href='#563192'><time timestamp='2017-08-08T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
we should write the csv-height-activation patch first imo
<br>
</div>

<div class='talk op-msg' data-timestamp='1502221560' id='563193'>
<a class='timestamp' href='#563193'><time timestamp='2017-08-08T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
10695 looks good to me
<br>
</div>

<div class='talk op-msg' data-timestamp='1502221680' id='563194'>
<a class='timestamp' href='#563194'><time timestamp='2017-08-08T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
jnewbery: did we ever fix the ComparisonTestFramework for the bug i mentioned in the OP of that PR?
<br>
</div>

<div class='talk op-msg' data-timestamp='1502221800' id='563195'>
<a class='timestamp' href='#563195'><time timestamp='2017-08-08T19:50:00Z'>19:50</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
I think we had buy-in for rewriting the ComparisonTestFramework scripts using the standard BitcoinTestFramework
<br>
</div>

<div class='talk op-msg' data-timestamp='1502221800' id='563196'>
<a class='timestamp' href='#563196'><time timestamp='2017-08-08T19:50:00Z'>19:50</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
In fact I&#x27;ve already done that for some of them, but it depends on TestNode and will several months of rebasing
<br>
</div>

<div class='talk op-msg' data-timestamp='1502221800' id='563197'>
<a class='timestamp' href='#563197'><time timestamp='2017-08-08T19:50:00Z'>19:50</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
*will need
<br>
</div>

<div class='talk op-msg' data-timestamp='1502221800' id='563198'>
<a class='timestamp' href='#563198'><time timestamp='2017-08-08T19:50:00Z'>19:50</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
re-reading my message there though i think there was an immediate bug that makes our comparisonTestFramework tests (perhaps including p2p-fullblocktest?) not test anything.  
<br>
</div>

<div class='talk op-msg' data-timestamp='1502221800' id='563199'>
<a class='timestamp' href='#563199'><time timestamp='2017-08-08T19:50:00Z'>19:50</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
jnewbery: I&#x27;m still feeling this solution is incomplete. For example, one of my wallets (though not hd) is a encrypted wallet I use for watching cold funds. I&#x27;m never going to unlock the darn thing, its keypool is empty right now.   Maybe what we should do for this release is merge the scan and mark as use and topup if possible but instead of shutting down, spam errors that the keypool ran out a
<br>
</div>

<div class='talk op-msg' data-timestamp='1502221800' id='563200'>
<a class='timestamp' href='#563200'><time timestamp='2017-08-08T19:50:00Z'>19:50</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
nd your wallet balance may be incorrect. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1502221860' id='563201'>
<a class='timestamp' href='#563201'><time timestamp='2017-08-08T19:51:00Z'>19:51</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
we don&#x27;t shutdown for non-HD wallets
<br>
</div>

<div class='talk op-msg' data-timestamp='1502221920' id='563202'>
<a class='timestamp' href='#563202'><time timestamp='2017-08-08T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
jnewbery: I know we don&#x27;t, but my useage pattern wouldn&#x27;t be any different if this wallet were HD.
<br>
</div>

<div class='talk op-msg' data-timestamp='1502221980' id='563203'>
<a class='timestamp' href='#563203'><time timestamp='2017-08-08T19:53:00Z'>19:53</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I still don&#x27;t think we have this handling cooked, in that we&#x27;ll make 0.15 unusable for at least some people or very awkward.  I think we can do better even if I don&#x27;t know how yet. But it&#x27;s critical we do something, because without the mark use thing there are several ways to result in serious funds loss. (including giving customers addresses you already gave to other customers, then crediting t
<br>
</div>

<div class='talk op-msg' data-timestamp='1502221980' id='563204'>
<a class='timestamp' href='#563204'><time timestamp='2017-08-08T19:53:00Z'>19:53</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
he wrong accounts when people make payments..)
<br>
</div>

<div class='talk op-msg' data-timestamp='1502222400' id='563205'>
<a class='timestamp' href='#563205'><time timestamp='2017-08-08T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
gmaxwell: in your watching cold funds example, would restarting with a -keypoolmin=0 be sufficient for the use case?
<br>
</div>

<div class='talk op-msg' data-timestamp='1502222460' id='563206'>
<a class='timestamp' href='#563206'><time timestamp='2017-08-08T20:01:00Z'>20:01</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
(perhaps i don&#x27;t quite understand the PR though, so ignore me if my question doesn&#x27;t make sense)
<br>
</div>

<div class='talk op-msg' data-timestamp='1502222580' id='563207'>
<a class='timestamp' href='#563207'><time timestamp='2017-08-08T20:03:00Z'>20:03</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Yes. It is. I suppose we can just release note that. &quot;If you want to run like this, set that.&quot; good point.
<br>
</div>

<div class='talk op-msg' data-timestamp='1502222640' id='563208'>
<a class='timestamp' href='#563208'><time timestamp='2017-08-08T20:04:00Z'>20:04</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
thanks sdaftuar. I think that covers greg&#x27;s use case
<br>
</div>

<div class='talk op-msg' data-timestamp='1502222700' id='563209'>
<a class='timestamp' href='#563209'><time timestamp='2017-08-08T20:05:00Z'>20:05</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
gmaxwell can we try to evealuate whether this fixes the immediate problem (potential funds loss). We can fix up awkward behaviour post-branch
<br>
</div>

<div class='talk op-msg' data-timestamp='1502222760' id='563210'>
<a class='timestamp' href='#563210'><time timestamp='2017-08-08T20:06:00Z'>20:06</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
my concern there is that we also need to not introduce something that leaves lots (?) of people stuck. But sdaftuar answers how it doesn&#x27;t.
<br>
</div>

<div class='talk op-msg' data-timestamp='1502223180' id='563211'>
<a class='timestamp' href='#563211'><time timestamp='2017-08-08T20:13:00Z'>20:13</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
has anyone given thought to how these keypool parameters work with multiwallet?
<br>
</div>

<div class='talk op-msg' data-timestamp='1502223300' id='563212'>
<a class='timestamp' href='#563212'><time timestamp='2017-08-08T20:15:00Z'>20:15</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
eg if we advise people to use -keypoolmin=0 to solve one situation, and they load up two wallets, are they jeopardizing themselves?
<br>
</div>

<div class='talk op-msg' data-timestamp='1502223420' id='563213'>
<a class='timestamp' href='#563213'><time timestamp='2017-08-08T20:17:00Z'>20:17</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
yes, if you use -keypoolmin=0 you can get into a state where your best block has advanced while your keypool is depleted
<br>
</div>

<div class='talk op-msg' data-timestamp='1502223480' id='563214'>
<a class='timestamp' href='#563214'><time timestamp='2017-08-08T20:18:00Z'>20:18</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
and so potentially miss transactions
<br>
</div>

<div class='talk op-msg' data-timestamp='1502223480' id='563215'>
<a class='timestamp' href='#563215'><time timestamp='2017-08-08T20:18:00Z'>20:18</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] gmaxwell opened pull request #11008: Enable disablesafemode by default. (master...no-safe-mode) <a href="https://github.com/bitcoin/bitcoin/pull/11008" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/11008</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1502223540' id='563216'>
<a class='timestamp' href='#563216'><time timestamp='2017-08-08T20:19:00Z'>20:19</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
but keypoolmin is a hidden debug option. I don&#x27;t think we&#x27;re going to be advertising it widely
<br>
</div>

<div class='talk op-msg' data-timestamp='1502223600' id='563217'>
<a class='timestamp' href='#563217'><time timestamp='2017-08-08T20:20:00Z'>20:20</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] rawodb opened pull request #11009: Add information about the next state in getblockchaininfo rpc request (master...master) <a href="https://github.com/bitcoin/bitcoin/pull/11009" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/11009</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1502223780' id='563218'>
<a class='timestamp' href='#563218'><time timestamp='2017-08-08T20:23:00Z'>20:23</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sdaftuar, luke-jr: about NODE_NETWORK_LIMITED_*. If we would treat them independently, would this mean, a peer signalling NODE_NETWORK_LIMITED_HIGH will always singal NODE_NETWORK_LIMITED_LOW?
<br>
</div>

<div class='talk op-msg' data-timestamp='1502223780' id='563219'>
<a class='timestamp' href='#563219'><time timestamp='2017-08-08T20:23:00Z'>20:23</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
And there would be no special case for a peer signaling both bits?
<br>
</div>

<div class='talk op-msg' data-timestamp='1502223840' id='563220'>
<a class='timestamp' href='#563220'><time timestamp='2017-08-08T20:24:00Z'>20:24</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I agree that would make most sense.
<br>
</div>

<div class='talk op-msg' data-timestamp='1502223840' id='563221'>
<a class='timestamp' href='#563221'><time timestamp='2017-08-08T20:24:00Z'>20:24</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
jonasschnelli: in my opinion, a peer should signal both if it offers both
<br>
</div>

<div class='talk op-msg' data-timestamp='1502223840' id='563222'>
<a class='timestamp' href='#563222'><time timestamp='2017-08-08T20:24:00Z'>20:24</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] rawodb closed pull request #11009: Add information about the next state in getblockchaininfo rpc request (master...master) <a href="https://github.com/bitcoin/bitcoin/pull/11009" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/11009</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1502223840' id='563223'>
<a class='timestamp' href='#563223'><time timestamp='2017-08-08T20:24:00Z'>20:24</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
that way if someone wants to write a bitcoin network client that only worries about one of those properties, they don&#x27;t need to do any complicated reasoning
<br>
</div>

<div class='talk op-msg' data-timestamp='1502223900' id='563224'>
<a class='timestamp' href='#563224'><time timestamp='2017-08-08T20:25:00Z'>20:25</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
We would just loose the third state for the two new bits for pure logical consistence reasons. But I guess this makes sense.
<br>
</div>

<div class='talk op-msg' data-timestamp='1502223900' id='563225'>
<a class='timestamp' href='#563225'><time timestamp='2017-08-08T20:25:00Z'>20:25</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
i would actually suggest that we rename the service bits too, if it&#x27;s not too much bikeshedding...  NODE_NETWORK is a non-descriptive term for full node to begin with
<br>
</div>

<div class='talk op-msg' data-timestamp='1502223900' id='563226'>
<a class='timestamp' href='#563226'><time timestamp='2017-08-08T20:25:00Z'>20:25</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
and putting LIMITED in the name implies denial of &quot;full&quot; services, which i think isn&#x27;t want we want
<br>
</div>

<div class='talk op-msg' data-timestamp='1502223900' id='563227'>
<a class='timestamp' href='#563227'><time timestamp='2017-08-08T20:25:00Z'>20:25</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
We only have 24 useful service bits (~10 are gone)
<br>
</div>

<div class='talk op-msg' data-timestamp='1502223960' id='563228'>
<a class='timestamp' href='#563228'><time timestamp='2017-08-08T20:26:00Z'>20:26</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] rawodb opened pull request #11010: Add information about the next state in getblockchaininfo rpc request (master...pr/getblockchaininfo) <a href="https://github.com/bitcoin/bitcoin/pull/11010" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/11010</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1502223960' id='563229'>
<a class='timestamp' href='#563229'><time timestamp='2017-08-08T20:26:00Z'>20:26</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sdaftuar: Agree with renaming
<br>
</div>

<div class='talk op-msg' data-timestamp='1502223960' id='563230'>
<a class='timestamp' href='#563230'><time timestamp='2017-08-08T20:26:00Z'>20:26</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sdaftuar: any proposals?
<br>
</div>

<div class='talk op-msg' data-timestamp='1502223960' id='563231'>
<a class='timestamp' href='#563231'><time timestamp='2017-08-08T20:26:00Z'>20:26</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
i guess i haven&#x27;t come up with good alternatives yet, but something which means &quot;NODE_RECENT_BLOCKS&quot; or &quot;NODE_REALLY_RECENT_BLOCKS&quot; is along the lines of what i&#x27;m thinking
<br>
</div>

<div class='talk op-msg' data-timestamp='1502224020' id='563232'>
<a class='timestamp' href='#563232'><time timestamp='2017-08-08T20:27:00Z'>20:27</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
(those are not actual proposals, just intuition)
<br>
</div>

<div class='talk op-msg' data-timestamp='1502224080' id='563233'>
<a class='timestamp' href='#563233'><time timestamp='2017-08-08T20:28:00Z'>20:28</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
The question is also if NODE_NETWORK implies more then just historical block responses...
<br>
</div>

<div class='talk op-msg' data-timestamp='1502224140' id='563234'>
<a class='timestamp' href='#563234'><time timestamp='2017-08-08T20:29:00Z'>20:29</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
yeah that&#x27;s a good question, it&#x27;s not obvious to me
<br>
</div>

<div class='talk op-msg' data-timestamp='1502224200' id='563235'>
<a class='timestamp' href='#563235'><time timestamp='2017-08-08T20:30:00Z'>20:30</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
ie we have non-NODE_NETWORK nodes (pruning nodes) which do all the rest, already
<br>
</div>

<div class='talk op-msg' data-timestamp='1502224260' id='563236'>
<a class='timestamp' href='#563236'><time timestamp='2017-08-08T20:31:00Z'>20:31</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I guess there is no concrete definition what a peer must confirm to to allow signalling NODE_NETWORK (expect the reference implementation)
<br>
</div>

<div class='talk op-msg' data-timestamp='1502224260' id='563237'>
<a class='timestamp' href='#563237'><time timestamp='2017-08-08T20:31:00Z'>20:31</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yeah, node_network just means &quot;all the things&quot; :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1502224260' id='563238'>
<a class='timestamp' href='#563238'><time timestamp='2017-08-08T20:31:00Z'>20:31</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
also, SPV is also ~NODE_NETWORK (!= pruned)
<br>
</div>

<div class='talk op-msg' data-timestamp='1502224260' id='563239'>
<a class='timestamp' href='#563239'><time timestamp='2017-08-08T20:31:00Z'>20:31</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
~(== bit unset)
<br>
</div>

<div class='talk op-msg' data-timestamp='1502224320' id='563240'>
<a class='timestamp' href='#563240'><time timestamp='2017-08-08T20:32:00Z'>20:32</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
right, but SPV is certainly allowed to eg relay addresses... not sure if any do.
<br>
</div>

<div class='talk op-msg' data-timestamp='1502224320' id='563241'>
<a class='timestamp' href='#563241'><time timestamp='2017-08-08T20:32:00Z'>20:32</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Which results in that NODE_NETWORK_LIMITED somehow includes tx/block relay
<br>
</div>

<div class='talk op-msg' data-timestamp='1502224500' id='563242'>
<a class='timestamp' href='#563242'><time timestamp='2017-08-08T20:35:00Z'>20:35</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i guess it&#x27;s reasonable to suggest that every node can participate in address murmuring, regardless of service flags
<br>
</div>

<div class='talk op-msg' data-timestamp='1502224500' id='563243'>
<a class='timestamp' href='#563243'><time timestamp='2017-08-08T20:35:00Z'>20:35</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it&#x27;s an ootional thing regardless
<br>
</div>

<div class='talk op-msg' data-timestamp='1502224560' id='563244'>
<a class='timestamp' href='#563244'><time timestamp='2017-08-08T20:36:00Z'>20:36</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
since compact blocks, it doesn&#x27;t really make sense to have separate services for tx relay and block relay
<br>
</div>

<div class='talk op-msg' data-timestamp='1502224560' id='563245'>
<a class='timestamp' href='#563245'><time timestamp='2017-08-08T20:36:00Z'>20:36</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
so the only question is whether we want to have a separate bit for relay vs historical fetch (even if it&#x27;s just 144 blocks deep)
<br>
</div>

<div class='talk op-msg' data-timestamp='1502224620' id='563246'>
<a class='timestamp' href='#563246'><time timestamp='2017-08-08T20:37:00Z'>20:37</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
any client right now will want both
<br>
</div>

<div class='talk op-msg' data-timestamp='1502224680' id='563247'>
<a class='timestamp' href='#563247'><time timestamp='2017-08-08T20:38:00Z'>20:38</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sipa: for a possible use case where a peer serves historical blocks but won&#x27;t relay (pure block storage)?
<br>
</div>

<div class='talk op-msg' data-timestamp='1502224680' id='563248'>
<a class='timestamp' href='#563248'><time timestamp='2017-08-08T20:38:00Z'>20:38</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
if no clients currently offer one but not the other, i don&#x27;t think it makes sense to split that now.  we can wait til someone wants to build that.
<br>
</div>

<div class='talk op-msg' data-timestamp='1502224740' id='563249'>
<a class='timestamp' href='#563249'><time timestamp='2017-08-08T20:39:00Z'>20:39</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Agree
<br>
</div>

<div class='talk op-msg' data-timestamp='1502224860' id='563250'>
<a class='timestamp' href='#563250'><time timestamp='2017-08-08T20:41:00Z'>20:41</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sdaftuar: right... the only downside is that it&#x27;d cost another bit later
<br>
</div>

<div class='talk op-msg' data-timestamp='1502224920' id='563251'>
<a class='timestamp' href='#563251'><time timestamp='2017-08-08T20:42:00Z'>20:42</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
sipa: we either take that 1 bit cost now or later, right?  unless there&#x27;s a proposal for distinguishing now that saves a bit, which i missed?
<br>
</div>

<div class='talk op-msg' data-timestamp='1502225160' id='563252'>
<a class='timestamp' href='#563252'><time timestamp='2017-08-08T20:46:00Z'>20:46</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sdaftuar: if we now have 3 bits (relay_tx_and_blocks, blocks_144, blocks_1008), we&#x27;re good. if we only have (relay_tx_and_blocks_up_to_144, blocks_1008), we may need 2 extra bits later (relay_tx_blocks, blocks_144) totalling 4 bits, where one just implies two other ones
<br>
</div>

<div class='talk op-msg' data-timestamp='1502225280' id='563253'>
<a class='timestamp' href='#563253'><time timestamp='2017-08-08T20:48:00Z'>20:48</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I think the current definition of NODE_NETWORK_LIMITED_LOW is:
<br>
</div>

<div class='talk op-msg' data-timestamp='1502225340' id='563254'>
<a class='timestamp' href='#563254'><time timestamp='2017-08-08T20:49:00Z'>20:49</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
NODE_NETWORK_LIMITED_LOW means the same as NODE_NETWORK with the limitation of only serving the last 288 (2 day) blocks
<br>
</div>

<div class='talk op-msg' data-timestamp='1502225340' id='563255'>
<a class='timestamp' href='#563255'><time timestamp='2017-08-08T20:49:00Z'>20:49</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
(coupled to the definition of NODE_NETWORK)
<br>
</div>

<div class='talk op-msg' data-timestamp='1502225340' id='563256'>
<a class='timestamp' href='#563256'><time timestamp='2017-08-08T20:49:00Z'>20:49</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Changing the block value is possible though the client/protocol version?
<br>
</div>

<div class='talk op-msg' data-timestamp='1502225400' id='563257'>
<a class='timestamp' href='#563257'><time timestamp='2017-08-08T20:50:00Z'>20:50</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
If we want relay as an extra option (assume full block SPV may want to service historical blocks but not relay) another bit would be required
<br>
</div>

<div class='talk op-msg' data-timestamp='1502225640' id='563258'>
<a class='timestamp' href='#563258'><time timestamp='2017-08-08T20:54:00Z'>20:54</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
sipa: i think blocks_144 and blocks_1008 without relay_tx_and_blocks are sort of nonsensical; by definition you&#x27;re always willing to provide the current tip, and you never have guarantees that transactions will be relayed to you eg due to policy differences, so i don&#x27;t think of that as much of a promise.
<br>
</div>

<div class='talk op-msg' data-timestamp='1502225640' id='563259'>
<a class='timestamp' href='#563259'><time timestamp='2017-08-08T20:54:00Z'>20:54</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
but putting that aside:
<br>
</div>

<div class='talk op-msg' data-timestamp='1502225640' id='563260'>
<a class='timestamp' href='#563260'><time timestamp='2017-08-08T20:54:00Z'>20:54</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
i think we could downgrade those service bits in the future to &quot;may or may not relay blocks and transactions&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1502225640' id='563261'>
<a class='timestamp' href='#563261'><time timestamp='2017-08-08T20:54:00Z'>20:54</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
if we wanted to save a bit
<br>
</div>

<div class='talk op-msg' data-timestamp='1502225640' id='563262'>
<a class='timestamp' href='#563262'><time timestamp='2017-08-08T20:54:00Z'>20:54</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
oh     
<br>
</div>

<div class='talk op-msg' data-timestamp='1502225700' id='563263'>
<a class='timestamp' href='#563263'><time timestamp='2017-08-08T20:55:00Z'>20:55</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
i guess i&#x27;m not sure what i&#x27;m comparing...
<br>
</div>

<div class='talk op-msg' data-timestamp='1502225700' id='563264'>
<a class='timestamp' href='#563264'><time timestamp='2017-08-08T20:55:00Z'>20:55</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
i&#x27;m taking jonas&#x27; proposal as relay_tx_and_blocks_up_to_144, relay_tx_and_blocks_up_to_1008
<br>
</div>

<div class='talk op-msg' data-timestamp='1502225760' id='563265'>
<a class='timestamp' href='#563265'><time timestamp='2017-08-08T20:56:00Z'>20:56</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sdaftuar: but there is a technical difference
<br>
</div>

<div class='talk op-msg' data-timestamp='1502225760' id='563266'>
<a class='timestamp' href='#563266'><time timestamp='2017-08-08T20:56:00Z'>20:56</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
and suggesting we could in the future add a single bit saying relay_tx_and_blocks
<br>
</div>

<div class='talk op-msg' data-timestamp='1502225760' id='563267'>
<a class='timestamp' href='#563267'><time timestamp='2017-08-08T20:56:00Z'>20:56</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
and at the point we add that, we say that there are no promises on the quality of service you get from older nodes that aren&#x27;t setting the new bit
<br>
</div>

<div class='talk op-msg' data-timestamp='1502225820' id='563268'>
<a class='timestamp' href='#563268'><time timestamp='2017-08-08T20:57:00Z'>20:57</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sdaftuar: for example relay_blocks_tx could imply support for tx/inv(tx)/cmpctblock/blocktxn/getdata(tx), while the other implies support for getblock/getdata(block)/inv(block)
<br>
</div>

<div class='talk op-msg' data-timestamp='1502225820' id='563269'>
<a class='timestamp' href='#563269'><time timestamp='2017-08-08T20:57:00Z'>20:57</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
cmpctblock and blocktxn are already separately negotiated
<br>
</div>

<div class='talk op-msg' data-timestamp='1502225820' id='563270'>
<a class='timestamp' href='#563270'><time timestamp='2017-08-08T20:57:00Z'>20:57</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but not advertized
<br>
</div>

<div class='talk op-msg' data-timestamp='1502225880' id='563271'>
<a class='timestamp' href='#563271'><time timestamp='2017-08-08T20:58:00Z'>20:58</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
(right?)
<br>
</div>

<div class='talk op-msg' data-timestamp='1502225880' id='563272'>
<a class='timestamp' href='#563272'><time timestamp='2017-08-08T20:58:00Z'>20:58</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
right
<br>
</div>

<div class='talk op-msg' data-timestamp='1502225880' id='563273'>
<a class='timestamp' href='#563273'><time timestamp='2017-08-08T20:58:00Z'>20:58</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
they&#x27;re implied by NODE_NETWORK + sufficient protocol version
<br>
</div>

<div class='talk op-msg' data-timestamp='1502225880' id='563274'>
<a class='timestamp' href='#563274'><time timestamp='2017-08-08T20:58:00Z'>20:58</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
well they&#x27;re implied by NODE_SEGWIT, for all practical purposes
<br>
</div>

<div class='talk op-msg' data-timestamp='1502225880' id='563275'>
<a class='timestamp' href='#563275'><time timestamp='2017-08-08T20:58:00Z'>20:58</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
but interesting point
<br>
</div>

<div class='talk op-msg' data-timestamp='1502225940' id='563276'>
<a class='timestamp' href='#563276'><time timestamp='2017-08-08T20:59:00Z'>20:59</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
i&#x27;m not sure it&#x27;s reasonable for service bits to keep up with p2p protocol improvements
<br>
</div>

<div class='talk op-msg' data-timestamp='1502225940' id='563277'>
<a class='timestamp' href='#563277'><time timestamp='2017-08-08T20:59:00Z'>20:59</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
agree
<br>
</div>

<div class='talk op-msg' data-timestamp='1502226000' id='563278'>
<a class='timestamp' href='#563278'><time timestamp='2017-08-08T21:00:00Z'>21:00</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I&#x27;m not enthused by all these flags because in general we should not be segmenting up the topology if we can avoid it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1502226060' id='563279'>
<a class='timestamp' href='#563279'><time timestamp='2017-08-08T21:01:00Z'>21:01</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
i agree with that.  i also generally want to punt on features we are not sure anyone will implement.
<br>
</div>

<div class='talk op-msg' data-timestamp='1502226120' id='563280'>
<a class='timestamp' href='#563280'><time timestamp='2017-08-08T21:02:00Z'>21:02</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
agree
<br>
</div>

<div class='talk op-msg' data-timestamp='1502226120' id='563281'>
<a class='timestamp' href='#563281'><time timestamp='2017-08-08T21:02:00Z'>21:02</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
just pointing out that it may cost us an extra bit in the future - perhaps that&#x27;s ok
<br>
</div>

<div class='talk op-msg' data-timestamp='1502226420' id='563282'>
<a class='timestamp' href='#563282'><time timestamp='2017-08-08T21:07:00Z'>21:07</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke pushed 3 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/2507fd55568b...929fd7276c0f" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/2507fd55568b...929fd7276c0f</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1502226420' id='563283'>
<a class='timestamp' href='#563283'><time timestamp='2017-08-08T21:07:00Z'>21:07</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master d4f0d87 Suhas Daftuar: [qa] Rewrite BIP65 functional tests...
<br>
</div>

<div class='talk op-msg' data-timestamp='1502226420' id='563284'>
<a class='timestamp' href='#563284'><time timestamp='2017-08-08T21:07:00Z'>21:07</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 4ccc12a Suhas Daftuar: [qa] Rewrite BIP66 functional tests...
<br>
</div>

<div class='talk op-msg' data-timestamp='1502226420' id='563285'>
<a class='timestamp' href='#563285'><time timestamp='2017-08-08T21:07:00Z'>21:07</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 929fd72 MarcoFalke: Merge #10695: [qa] Rewrite BIP65/BIP66 functional tests...
<br>
</div>

<div class='talk op-msg' data-timestamp='1502226420' id='563286'>
<a class='timestamp' href='#563286'><time timestamp='2017-08-08T21:07:00Z'>21:07</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke closed pull request #10695: [qa] Rewrite BIP65/BIP66 functional tests (master...2017-06-fix-bip65-test) <a href="https://github.com/bitcoin/bitcoin/pull/10695" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10695</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1502227620' id='563287'>
<a class='timestamp' href='#563287'><time timestamp='2017-08-08T21:27:00Z'>21:27</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Should peers avoid serving blocks above the NODE_NETWORK_LIMITED_LOW|HIGH threshold to reduce finger printing opportunities?
<br>
</div>

<div class='talk op-msg' data-timestamp='1502227680' id='563288'>
<a class='timestamp' href='#563288'><time timestamp='2017-08-08T21:28:00Z'>21:28</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Assume you have pruned down to 10k blocks and signalling NODE_NETWORK_LIMITED_HIGH, one could fingerprint by checking how deep down you can serve blocks
<br>
</div>

<div class='talk op-msg' data-timestamp='1502227800' id='563289'>
<a class='timestamp' href='#563289'><time timestamp='2017-08-08T21:30:00Z'>21:30</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yes, i think so
<br>
</div>

<div class='talk op-msg' data-timestamp='1502227800' id='563290'>
<a class='timestamp' href='#563290'><time timestamp='2017-08-08T21:30:00Z'>21:30</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Okay. Will update the BIP
<br>
</div>

<div class='talk op-msg' data-timestamp='1502227860' id='563291'>
<a class='timestamp' href='#563291'><time timestamp='2017-08-08T21:31:00Z'>21:31</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Or maybe just the implementation... need to check
<br>
</div>

<div class='talk op-msg' data-timestamp='1502228160' id='563292'>
<a class='timestamp' href='#563292'><time timestamp='2017-08-08T21:36:00Z'>21:36</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] rawodb closed pull request #11010: Add information about the next state in getblockchaininfo rpc request (master...pr/getblockchaininfo) <a href="https://github.com/bitcoin/bitcoin/pull/11010" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/11010</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1502231220' id='563293'>
<a class='timestamp' href='#563293'><time timestamp='2017-08-08T22:27:00Z'>22:27</time></a>
&lt;<span class='nick nick-4'> molz</span>&gt;
Dear Core Devs, Thank you for all your hard work!  <a href="https://i.imgflip.com/1trxh9.jpg" class="link" target="_blank">https://i.imgflip.com/1trxh9.jpg</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1502231340' id='563294'>
<a class='timestamp' href='#563294'><time timestamp='2017-08-08T22:29:00Z'>22:29</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
molz: yw!
<br>
</div>

<div class='talk op-msg' data-timestamp='1502231520' id='563295'>
<a class='timestamp' href='#563295'><time timestamp='2017-08-08T22:32:00Z'>22:32</time></a>
&lt;<span class='nick nick-3'> mryandao</span>&gt;
could anyone from here answer this: <a href="https://bitcoin.stackexchange.com/questions/57416/since-bitcoin-core-0-14-0-how-does-a-node-with-default-settings-compute-the-dus" class="link" target="_blank">https://bitcoin.stackexchange.com/questions/57416/since-bitcoin-core-0-14-0-how-does-a-node-with-default-settings-compute-the-dus</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1502231700' id='563296'>
<a class='timestamp' href='#563296'><time timestamp='2017-08-08T22:35:00Z'>22:35</time></a>
&lt;<span class='nick nick-4'> Murch</span>&gt;
sipa: Transaction overhead is 10 bytes for P2PKH transactions, since segwit adds flag and marker, which however go into the witness part am I correct to calculate the weight of the tx overhead as 42?
<br>
</div>

<div class='talk op-msg' data-timestamp='1502231760' id='563297'>
<a class='timestamp' href='#563297'><time timestamp='2017-08-08T22:36:00Z'>22:36</time></a>
&lt;<span class='nick nick-4'> Murch</span>&gt;
For a transaction that spends at least one P2SHP2PWSH input
<br>
</div>

<div class='talk op-msg' data-timestamp='1502231820' id='563298'>
<a class='timestamp' href='#563298'><time timestamp='2017-08-08T22:37:00Z'>22:37</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
Murch: looks right to me
<br>
</div>

<div class='talk op-msg' data-timestamp='1502231820' id='563299'>
<a class='timestamp' href='#563299'><time timestamp='2017-08-08T22:37:00Z'>22:37</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
mryandao: yes, will do if i find the time
<br>
</div>

<div class='talk op-msg' data-timestamp='1502231820' id='563300'>
<a class='timestamp' href='#563300'><time timestamp='2017-08-08T22:37:00Z'>22:37</time></a>
&lt;<span class='nick nick-4'> Murch</span>&gt;
thank you :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1502232780' id='563301'>
<a class='timestamp' href='#563301'><time timestamp='2017-08-08T22:53:00Z'>22:53</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
mryandao: achow101 beat me to it :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1502232780' id='563302'>
<a class='timestamp' href='#563302'><time timestamp='2017-08-08T22:53:00Z'>22:53</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
:)     
<br>
</div>

<div class='talk op-msg' data-timestamp='1502232840' id='563303'>
<a class='timestamp' href='#563303'><time timestamp='2017-08-08T22:54:00Z'>22:54</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] gmaxwell opened pull request #11011: [Trivial] Add a comment on the use of prevector in script. (master...201708-prevector-comment) <a href="https://github.com/bitcoin/bitcoin/pull/11011" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/11011</a>
<br>
</div>

</div>
</section>

</body>
</html>
