<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2018-09-11
 — 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2018-09-11' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:21 UTC</pre>
<pre><a href="/bitcoin-core-dev/2018-08-11">&lt;</a><span class='header'>  September 2018  </span><a href="/bitcoin-core-dev/2018-10-11">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;                   <a class="" href="/bitcoin-core-dev/2018-09-01">1</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2018-09-02">2</a>  <a class="" href="/bitcoin-core-dev/2018-09-03">3</a>  <a class="" href="/bitcoin-core-dev/2018-09-04">4</a>  <a class="" href="/bitcoin-core-dev/2018-09-05">5</a>  <a class="" href="/bitcoin-core-dev/2018-09-06">6</a>  <a class="" href="/bitcoin-core-dev/2018-09-07">7</a>  <a class="" href="/bitcoin-core-dev/2018-09-08">8</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2018-09-09">9</a> <a class="" href="/bitcoin-core-dev/2018-09-10">10</a> <a class="current" href="/bitcoin-core-dev/2018-09-11">11</a> <a class="" href="/bitcoin-core-dev/2018-09-12">12</a> <a class="" href="/bitcoin-core-dev/2018-09-13">13</a> <a class="" href="/bitcoin-core-dev/2018-09-14">14</a> <a class="" href="/bitcoin-core-dev/2018-09-15">15</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2018-09-16">16</a> <a class="" href="/bitcoin-core-dev/2018-09-17">17</a> <a class="" href="/bitcoin-core-dev/2018-09-18">18</a> <a class="" href="/bitcoin-core-dev/2018-09-19">19</a> <a class="" href="/bitcoin-core-dev/2018-09-20">20</a> <a class="" href="/bitcoin-core-dev/2018-09-21">21</a> <a class="" href="/bitcoin-core-dev/2018-09-22">22</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2018-09-23">23</a> <a class="" href="/bitcoin-core-dev/2018-09-24">24</a> 25 <a class="" href="/bitcoin-core-dev/2018-09-26">26</a> <a class="" href="/bitcoin-core-dev/2018-09-27">27</a> <a class="" href="/bitcoin-core-dev/2018-09-28">28</a> <a class="" href="/bitcoin-core-dev/2018-09-29">29</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2018-09-30">30</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1536629880' id='629793'>
<a class='timestamp' href='#629793'><time timestamp='2018-09-11T01:38:00Z'>01:38</time></a>
&lt;<span class='nick nick-4'> jamesob</span>&gt;
I&#x27;m no great fan of azure but maybe we should consider using some of this free compute time for things like per-commit build validation: <a href="https://azure.microsoft.com/en-us/blog/announcing-azure-pipelines-with-unlimited-ci-cd-minutes-for-open-source/" class="link" target="_blank">https://azure.microsoft.com/en-us/blog/announcing-azure-pipelines-with-unlimited-ci-cd-minutes-for-open-source/</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1536634860' id='629794'>
<a class='timestamp' href='#629794'><time timestamp='2018-09-11T03:01:00Z'>03:01</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
wumpus, achow101: so today i&#x27;ve used the PSBT implementation in 0.17.0rc2 for actual transactions, and noticed a bug or at least weird behaviour that seems fixed in master
<br>
</div>

<div class='talk op-msg' data-timestamp='1536634980' id='629795'>
<a class='timestamp' href='#629795'><time timestamp='2018-09-11T03:03:00Z'>03:03</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
the workflow was using createrawtransaction + converttopsbt + walletprocesspsbt on an online system (which just had an importaddress of a P2SH segwit address, but not the full key), which as expected produced a PSBT with no scripts, and a non-witness UTXO (as it couldn&#x27;t know whether the address was segwit or not)
<br>
</div>

<div class='talk op-msg' data-timestamp='1536635040' id='629796'>
<a class='timestamp' href='#629796'><time timestamp='2018-09-11T03:04:00Z'>03:04</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and then on an offline system i used walletprocesspsbt, which added scripts signed the transaction (as expected), but then produced a PSBT with still a non-witness UTXO is... which finalizepsbt <b>*failed to deserialize*</b>
<br>
</div>

<div class='talk op-msg' data-timestamp='1536635100' id='629797'>
<a class='timestamp' href='#629797'><time timestamp='2018-09-11T03:05:00Z'>03:05</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
maybe one of the fixes wasn&#x27;t backported?
<br>
</div>

<div class='talk op-msg' data-timestamp='1536635100' id='629798'>
<a class='timestamp' href='#629798'><time timestamp='2018-09-11T03:05:00Z'>03:05</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
the workaround was to use walletprocesspsbt on the offline system with sign=false, move it back to an online system (which had master running), which converted the non-witness UTXO to a witness UTXO, then move it back to the online system for signing + finalizing
<br>
</div>

<div class='talk op-msg' data-timestamp='1536635280' id='629799'>
<a class='timestamp' href='#629799'><time timestamp='2018-09-11T03:08:00Z'>03:08</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i think this may have been inadvertently fixed by <a href="https://github.com/bitcoin/bitcoin/pull/13723" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/13723</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1536635280' id='629800'>
<a class='timestamp' href='#629800'><time timestamp='2018-09-11T03:08:00Z'>03:08</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i won&#x27;t have time the coming week to look into this more, however
<br>
</div>

<div class='talk op-msg' data-timestamp='1536635340' id='629801'>
<a class='timestamp' href='#629801'><time timestamp='2018-09-11T03:09:00Z'>03:09</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
sipa: I&#x27;ll take a look at it
<br>
</div>

<div class='talk op-msg' data-timestamp='1536635400' id='629802'>
<a class='timestamp' href='#629802'><time timestamp='2018-09-11T03:10:00Z'>03:10</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
sipa: I think it may have to do with the checking for witness utxo stuff you did in 13723
<br>
</div>

<div class='talk op-msg' data-timestamp='1536635580' id='629803'>
<a class='timestamp' href='#629803'><time timestamp='2018-09-11T03:13:00Z'>03:13</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yes, that seems plausible
<br>
</div>

<div class='talk op-msg' data-timestamp='1536635820' id='629804'>
<a class='timestamp' href='#629804'><time timestamp='2018-09-11T03:17:00Z'>03:17</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
sipa: I see why it doesn&#x27;t replace the non-witness psbt, but you said finalizepsbt couldn&#x27;t deserialize it?
<br>
</div>

<div class='talk op-msg' data-timestamp='1536635880' id='629805'>
<a class='timestamp' href='#629805'><time timestamp='2018-09-11T03:18:00Z'>03:18</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
achow101: sanity check in the deserializer fails
<br>
</div>

<div class='talk op-msg' data-timestamp='1536635880' id='629806'>
<a class='timestamp' href='#629806'><time timestamp='2018-09-11T03:18:00Z'>03:18</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
ah
<br>
</div>

<div class='talk op-msg' data-timestamp='1536635940' id='629807'>
<a class='timestamp' href='#629807'><time timestamp='2018-09-11T03:19:00Z'>03:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i assume it&#x27;s non-witness utxo with witness final signature?
<br>
</div>

<div class='talk op-msg' data-timestamp='1536635940' id='629808'>
<a class='timestamp' href='#629808'><time timestamp='2018-09-11T03:19:00Z'>03:19</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
yeah
<br>
</div>

<div class='talk op-msg' data-timestamp='1536636060' id='629809'>
<a class='timestamp' href='#629809'><time timestamp='2018-09-11T03:21:00Z'>03:21</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
sipa: does master replace it with the non-witness utxo with the witness one?
<br>
</div>

<div class='talk op-msg' data-timestamp='1536636120' id='629810'>
<a class='timestamp' href='#629810'><time timestamp='2018-09-11T03:22:00Z'>03:22</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yup
<br>
</div>

<div class='talk op-msg' data-timestamp='1536636120' id='629811'>
<a class='timestamp' href='#629811'><time timestamp='2018-09-11T03:22:00Z'>03:22</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i ran just walletprocesspsbt on master, and it converted the non-witness utxo to a witness utxo
<br>
</div>

<div class='talk op-msg' data-timestamp='1536636120' id='629812'>
<a class='timestamp' href='#629812'><time timestamp='2018-09-11T03:22:00Z'>03:22</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
(after the scripts were filled in)
<br>
</div>

<div class='talk op-msg' data-timestamp='1536636180' id='629813'>
<a class='timestamp' href='#629813'><time timestamp='2018-09-11T03:23:00Z'>03:23</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
was that with a wallet with the utxo?
<br>
</div>

<div class='talk op-msg' data-timestamp='1536636240' id='629814'>
<a class='timestamp' href='#629814'><time timestamp='2018-09-11T03:24:00Z'>03:24</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
(i.e. online wallet)
<br>
</div>

<div class='talk op-msg' data-timestamp='1536636240' id='629815'>
<a class='timestamp' href='#629815'><time timestamp='2018-09-11T03:24:00Z'>03:24</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yes, i believe
<br>
</div>

<div class='talk op-msg' data-timestamp='1536636240' id='629816'>
<a class='timestamp' href='#629816'><time timestamp='2018-09-11T03:24:00Z'>03:24</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ah, so it may not have converted it, but instead replaced it
<br>
</div>

<div class='talk op-msg' data-timestamp='1536636240' id='629817'>
<a class='timestamp' href='#629817'><time timestamp='2018-09-11T03:24:00Z'>03:24</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1536636300' id='629818'>
<a class='timestamp' href='#629818'><time timestamp='2018-09-11T03:25:00Z'>03:25</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
hmm, so maybe it wasn&#x27;t related to 0.17/master
<br>
</div>

<div class='talk op-msg' data-timestamp='1536636300' id='629819'>
<a class='timestamp' href='#629819'><time timestamp='2018-09-11T03:25:00Z'>03:25</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
afaik, there is no conversion from non-witness to witness utxo that happens
<br>
</div>

<div class='talk op-msg' data-timestamp='1536636360' id='629820'>
<a class='timestamp' href='#629820'><time timestamp='2018-09-11T03:26:00Z'>03:26</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
I think I know how to fix this, both in master and 0.17
<br>
</div>

<div class='talk op-msg' data-timestamp='1536638040' id='629821'>
<a class='timestamp' href='#629821'><time timestamp='2018-09-11T03:54:00Z'>03:54</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
sipa: #14196 should fix that for the 0.17 branch
<br>
</div>

<div class='talk op-msg' data-timestamp='1536638040' id='629822'>
<a class='timestamp' href='#629822'><time timestamp='2018-09-11T03:54:00Z'>03:54</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/14196" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/14196</a> | [0.17][psbt] always drop the unnecessary utxo and convert non-witness utxo to witness when necessary by achow101 · Pull Request #14196 · bitcoin/bitcoin · GitHubAsset 1Asset 1
<br>
</div>

<div class='talk op-msg' data-timestamp='1536639540' id='629823'>
<a class='timestamp' href='#629823'><time timestamp='2018-09-11T04:19:00Z'>04:19</time></a>
&lt;<span class='nick nick-11'> kallewoof</span>&gt;
Several people on <a href="https://github.com/bitcoin/bips/pull/725" class="link" target="_blank">https://github.com/bitcoin/bips/pull/725</a> (Generic Signed Message Format) are suggesting I use a fake tx that the prover simply signs. I&#x27;m not sure what the benefits of doing this are, though..
<br>
</div>

<div class='talk op-msg' data-timestamp='1536639600' id='629824'>
<a class='timestamp' href='#629824'><time timestamp='2018-09-11T04:20:00Z'>04:20</time></a>
&lt;<span class='nick nick-11'> kallewoof</span>&gt;
My approach: custom sighash. Suggested: custom sighash with transaction stuff. But why?
<br>
</div>

<div class='talk op-msg' data-timestamp='1536639780' id='629825'>
<a class='timestamp' href='#629825'><time timestamp='2018-09-11T04:23:00Z'>04:23</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
kallewoof: easier to implement
<br>
</div>

<div class='talk op-msg' data-timestamp='1536639780' id='629826'>
<a class='timestamp' href='#629826'><time timestamp='2018-09-11T04:23:00Z'>04:23</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
also hacking message signing into the transaction format is something that has been discussed in the past
<br>
</div>

<div class='talk op-msg' data-timestamp='1536639900' id='629827'>
<a class='timestamp' href='#629827'><time timestamp='2018-09-11T04:25:00Z'>04:25</time></a>
&lt;<span class='nick nick-11'> kallewoof</span>&gt;
achow101: is it, really? (easier to implement) In bitcoin core, I would add a BaseSignatureChecker that took a sighash and that&#x27;s all. Just call VerifyScript with the inputs from the SignatureProof container.
<br>
</div>

<div class='talk op-msg' data-timestamp='1536639960' id='629828'>
<a class='timestamp' href='#629828'><time timestamp='2018-09-11T04:26:00Z'>04:26</time></a>
&lt;<span class='nick nick-11'> kallewoof</span>&gt;
achow101: with a tx, you would have to create the two transactions, do the custom tweakeries to ensure it is not actually sendable, then sign it
<br>
</div>

<div class='talk op-msg' data-timestamp='1536640140' id='629829'>
<a class='timestamp' href='#629829'><time timestamp='2018-09-11T04:29:00Z'>04:29</time></a>
&lt;<span class='nick nick-9'> Jmabsd</span>&gt;
What is the structure of Bitcoin Core&#x27;s HD wallet now (derivation paths); it&#x27;s not going with BIP 44/49 today is it?
<br>
</div>

<div class='talk op-msg' data-timestamp='1536640140' id='629830'>
<a class='timestamp' href='#629830'><time timestamp='2018-09-11T04:29:00Z'>04:29</time></a>
&lt;<span class='nick nick-9'> Jmabsd</span>&gt;
does Bitcoin Core do BIP 44 &quot;m / purpose&#x27; / coin_type&#x27; / account&#x27; / change / address_index&quot; form at all?
<br>
</div>

<div class='talk op-msg' data-timestamp='1536640140' id='629831'>
<a class='timestamp' href='#629831'><time timestamp='2018-09-11T04:29:00Z'>04:29</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
kallewoof: I&#x27;m not sure. I haven&#x27;t really been following the discussion there
<br>
</div>

<div class='talk op-msg' data-timestamp='1536640140' id='629832'>
<a class='timestamp' href='#629832'><time timestamp='2018-09-11T04:29:00Z'>04:29</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
Jmabsd: it uses m/0&#x27;/0&#x27;/i&#x27;
<br>
</div>

<div class='talk op-msg' data-timestamp='1536640200' id='629833'>
<a class='timestamp' href='#629833'><time timestamp='2018-09-11T04:30:00Z'>04:30</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
Jmabsd: and m/0&#x27;/1&#x27;/i&#x27;
<br>
</div>

<div class='talk op-msg' data-timestamp='1536640200' id='629834'>
<a class='timestamp' href='#629834'><time timestamp='2018-09-11T04:30:00Z'>04:30</time></a>
&lt;<span class='nick nick-9'> Jmabsd</span>&gt;
achow101: err, err, so purpose = 0 - or does it even call it purpose?
<br>
</div>

<div class='talk op-msg' data-timestamp='1536640200' id='629835'>
<a class='timestamp' href='#629835'><time timestamp='2018-09-11T04:30:00Z'>04:30</time></a>
&lt;<span class='nick nick-9'> Jmabsd</span>&gt;
achow101: and.. second level is change or account?
<br>
</div>

<div class='talk op-msg' data-timestamp='1536640200' id='629836'>
<a class='timestamp' href='#629836'><time timestamp='2018-09-11T04:30:00Z'>04:30</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
first level has no name. second is change
<br>
</div>

<div class='talk op-msg' data-timestamp='1536640260' id='629837'>
<a class='timestamp' href='#629837'><time timestamp='2018-09-11T04:31:00Z'>04:31</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
well &#x27;internal&#x27; (change) and &#x27;external&#x27; (receiving)
<br>
</div>

<div class='talk op-msg' data-timestamp='1536640260' id='629838'>
<a class='timestamp' href='#629838'><time timestamp='2018-09-11T04:31:00Z'>04:31</time></a>
&lt;<span class='nick nick-9'> Jmabsd</span>&gt;
achow101: aha so it&#x27;s an ultrareduced form of BIP 44 ha
<br>
</div>

<div class='talk op-msg' data-timestamp='1536640260' id='629839'>
<a class='timestamp' href='#629839'><time timestamp='2018-09-11T04:31:00Z'>04:31</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
no, bip44 uses unhardened derivation. Core uses all hardened
<br>
</div>

<div class='talk op-msg' data-timestamp='1536640260' id='629840'>
<a class='timestamp' href='#629840'><time timestamp='2018-09-11T04:31:00Z'>04:31</time></a>
&lt;<span class='nick nick-9'> Jmabsd</span>&gt;
achow101: so Bitcoin Core cut away the &quot;coin&quot; and the &quot;account&quot; derivation, and set purpose to 0 - that&#x27;s pretty much it yes?
<br>
</div>

<div class='talk op-msg' data-timestamp='1536640320' id='629841'>
<a class='timestamp' href='#629841'><time timestamp='2018-09-11T04:32:00Z'>04:32</time></a>
&lt;<span class='nick nick-11'> kallewoof</span>&gt;
achow101: Gotcha. Thanks for the hints though. Perhaps I am overthinking the added complexity of requiring tx creation capabilities when you&#x27;re just out to sign something using a privkey.
<br>
</div>

<div class='talk op-msg' data-timestamp='1536640380' id='629842'>
<a class='timestamp' href='#629842'><time timestamp='2018-09-11T04:33:00Z'>04:33</time></a>
&lt;<span class='nick nick-9'> Jmabsd</span>&gt;
achow101: in other words, Bitcoin Core rolled it own thing.
<br>
</div>

<div class='talk op-msg' data-timestamp='1536640380' id='629843'>
<a class='timestamp' href='#629843'><time timestamp='2018-09-11T04:33:00Z'>04:33</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
Jmabsd: or really bip44 is bip32 with stuff added onto it. the original description of suggested derivations paths is very similar to core: <a href="https://github.com/bitcoin/bips/blob/master/bip-0032.mediawiki#the-default-wallet-layout" class="link" target="_blank">https://github.com/bitcoin/bips/blob/master/bip-0032.mediawiki#the-default-wallet-layout</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1536640560' id='629844'>
<a class='timestamp' href='#629844'><time timestamp='2018-09-11T04:36:00Z'>04:36</time></a>
&lt;<span class='nick nick-9'> Jmabsd</span>&gt;
achow101: did Bitcoin Core have any particular point with <u>_not_</u> implementing an accounts abstraction - it&#x27;s just Bitcoin Core wants to provide one single wallet balance, yes?
<br>
</div>

<div class='talk op-msg' data-timestamp='1536640680' id='629845'>
<a class='timestamp' href='#629845'><time timestamp='2018-09-11T04:38:00Z'>04:38</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
Jmabsd: accounts wouldn&#x27;t have worked with Core&#x27;s wallet structure. also, the existing accounts system (which could hmaybe ave been used) was being removed and naming would have been confusing
<br>
</div>

<div class='talk op-msg' data-timestamp='1536640680' id='629846'>
<a class='timestamp' href='#629846'><time timestamp='2018-09-11T04:38:00Z'>04:38</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
in general, accounts don&#x27;t fit into core&#x27;s wallet model very well
<br>
</div>

<div class='talk op-msg' data-timestamp='1536642960' id='629847'>
<a class='timestamp' href='#629847'><time timestamp='2018-09-11T05:16:00Z'>05:16</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
kallewoof: advantage of hacking tx format: hw wallets may not need any changes to produce a signature. downside: hw wallets wouldn&#x27;t know that they&#x27;re actually signing a message rather than a tx
<br>
</div>

<div class='talk op-msg' data-timestamp='1536643020' id='629848'>
<a class='timestamp' href='#629848'><time timestamp='2018-09-11T05:17:00Z'>05:17</time></a>
&lt;<span class='nick nick-11'> kallewoof</span>&gt;
sipa: right. Yeah, maaku convinced me in PR comments
<br>
</div>

<div class='talk op-msg' data-timestamp='1536643020' id='629849'>
<a class='timestamp' href='#629849'><time timestamp='2018-09-11T05:17:00Z'>05:17</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
Jmabsd: the &quot;accounts&quot; feature as imagined by bip32/bip44 is more like what we now call multiwallet
<br>
</div>

<div class='talk op-msg' data-timestamp='1536643020' id='629850'>
<a class='timestamp' href='#629850'><time timestamp='2018-09-11T05:17:00Z'>05:17</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
kallewoof: i&#x27;m not sure whether that&#x27;s a good or a bad thing
<br>
</div>

<div class='talk op-msg' data-timestamp='1536643020' id='629851'>
<a class='timestamp' href='#629851'><time timestamp='2018-09-11T05:17:00Z'>05:17</time></a>
&lt;<span class='nick nick-11'> kallewoof</span>&gt;
I think it&#x27;s an OK downside that HW wallets don&#x27;t realize they&#x27;re not signing a tx
<br>
</div>

<div class='talk op-msg' data-timestamp='1536643080' id='629852'>
<a class='timestamp' href='#629852'><time timestamp='2018-09-11T05:18:00Z'>05:18</time></a>
&lt;<span class='nick nick-11'> kallewoof</span>&gt;
given the benefits.
<br>
</div>

<div class='talk op-msg' data-timestamp='1536643080' id='629853'>
<a class='timestamp' href='#629853'><time timestamp='2018-09-11T05:18:00Z'>05:18</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
kallewoof: i agree with luke as well that the signer actually ought to be aware that they&#x27;re signing a message rather than a tx
<br>
</div>

<div class='talk op-msg' data-timestamp='1536643140' id='629854'>
<a class='timestamp' href='#629854'><time timestamp='2018-09-11T05:19:00Z'>05:19</time></a>
&lt;<span class='nick nick-11'> kallewoof</span>&gt;
The HW firmware you mean?
<br>
</div>

<div class='talk op-msg' data-timestamp='1536643140' id='629855'>
<a class='timestamp' href='#629855'><time timestamp='2018-09-11T05:19:00Z'>05:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
well, the human
<br>
</div>

<div class='talk op-msg' data-timestamp='1536643140' id='629856'>
<a class='timestamp' href='#629856'><time timestamp='2018-09-11T05:19:00Z'>05:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but the only way to guarantee that is having the HW be aware, so it can say
<br>
</div>

<div class='talk op-msg' data-timestamp='1536643140' id='629857'>
<a class='timestamp' href='#629857'><time timestamp='2018-09-11T05:19:00Z'>05:19</time></a>
&lt;<span class='nick nick-11'> kallewoof</span>&gt;
<b>*nods*</b>
<br>
</div>

<div class='talk op-msg' data-timestamp='1536643260' id='629858'>
<a class='timestamp' href='#629858'><time timestamp='2018-09-11T05:21:00Z'>05:21</time></a>
&lt;<span class='nick nick-11'> kallewoof</span>&gt;
I guess the question then becomes: is it bad to make it possible for people to HW sign a message even before HW wallets support it?
<br>
</div>

<div class='talk op-msg' data-timestamp='1536643260' id='629859'>
<a class='timestamp' href='#629859'><time timestamp='2018-09-11T05:21:00Z'>05:21</time></a>
&lt;<span class='nick nick-11'> kallewoof</span>&gt;
maaku&#x27;s point about proof of reserve and such sound useful
<br>
</div>

<div class='talk op-msg' data-timestamp='1536643380' id='629860'>
<a class='timestamp' href='#629860'><time timestamp='2018-09-11T05:23:00Z'>05:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
oh he is suggesting to actually make it a full transaction, not just a signature
<br>
</div>

<div class='talk op-msg' data-timestamp='1536643380' id='629861'>
<a class='timestamp' href='#629861'><time timestamp='2018-09-11T05:23:00Z'>05:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that gosles even further
<br>
</div>

<div class='talk op-msg' data-timestamp='1536643380' id='629862'>
<a class='timestamp' href='#629862'><time timestamp='2018-09-11T05:23:00Z'>05:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
*goes
<br>
</div>

<div class='talk op-msg' data-timestamp='1536643440' id='629863'>
<a class='timestamp' href='#629863'><time timestamp='2018-09-11T05:24:00Z'>05:24</time></a>
&lt;<span class='nick nick-11'> kallewoof</span>&gt;
Yeah
<br>
</div>

<div class='talk op-msg' data-timestamp='1536643440' id='629864'>
<a class='timestamp' href='#629864'><time timestamp='2018-09-11T05:24:00Z'>05:24</time></a>
&lt;<span class='nick nick-11'> kallewoof</span>&gt;
2 transactions. One input tx whose output takes the scriptPubKey and one output tx spending it
<br>
</div>

<div class='talk op-msg' data-timestamp='1536643500' id='629865'>
<a class='timestamp' href='#629865'><time timestamp='2018-09-11T05:25:00Z'>05:25</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
right, but the first is constructed by the verifiedlr i suppose and not actually included in the proof
<br>
</div>

<div class='talk op-msg' data-timestamp='1536643560' id='629866'>
<a class='timestamp' href='#629866'><time timestamp='2018-09-11T05:26:00Z'>05:26</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it&#x27;s true that it&#x27;s a very straightforward way of building a forward compatible signing mechanism... but it also sounds scary that someone could be tricked into thinking they&#x27;re creating a transaction, but they&#x27;re really signing a message they don&#x27;t want to
<br>
</div>

<div class='talk op-msg' data-timestamp='1536643560' id='629867'>
<a class='timestamp' href='#629867'><time timestamp='2018-09-11T05:26:00Z'>05:26</time></a>
&lt;<span class='nick nick-11'> kallewoof</span>&gt;
I think the idea is that you provide the scriptPubKey, sigScript etc and then construct the two txs, and sign or verify them.
<br>
</div>

<div class='talk op-msg' data-timestamp='1536643560' id='629868'>
<a class='timestamp' href='#629868'><time timestamp='2018-09-11T05:26:00Z'>05:26</time></a>
&lt;<span class='nick nick-11'> kallewoof</span>&gt;
Wouldn&#x27;t the opposite be more scary? (Think you are signing a msg but creating a tx)
<br>
</div>

<div class='talk op-msg' data-timestamp='1536643620' id='629869'>
<a class='timestamp' href='#629869'><time timestamp='2018-09-11T05:27:00Z'>05:27</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
oh absolutely, but there is no risk for that in either idea
<br>
</div>

<div class='talk op-msg' data-timestamp='1536643620' id='629870'>
<a class='timestamp' href='#629870'><time timestamp='2018-09-11T05:27:00Z'>05:27</time></a>
&lt;<span class='nick nick-11'> kallewoof</span>&gt;
Right
<br>
</div>

<div class='talk op-msg' data-timestamp='1536643740' id='629871'>
<a class='timestamp' href='#629871'><time timestamp='2018-09-11T05:29:00Z'>05:29</time></a>
&lt;<span class='nick nick-11'> kallewoof</span>&gt;
What if a tx version 0xffffffff was reserved for &quot;message transactions&quot;?
<br>
</div>

<div class='talk op-msg' data-timestamp='1536643800' id='629872'>
<a class='timestamp' href='#629872'><time timestamp='2018-09-11T05:30:00Z'>05:30</time></a>
&lt;<span class='nick nick-11'> kallewoof</span>&gt;
Should be pretty straightforward to check and point out for a user.
<br>
</div>

<div class='talk op-msg' data-timestamp='1536643800' id='629873'>
<a class='timestamp' href='#629873'><time timestamp='2018-09-11T05:30:00Z'>05:30</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that&#x27;s irrelevant
<br>
</div>

<div class='talk op-msg' data-timestamp='1536643800' id='629874'>
<a class='timestamp' href='#629874'><time timestamp='2018-09-11T05:30:00Z'>05:30</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
there are many ways you can modify a tx to indicate it&#x27;s really something else
<br>
</div>

<div class='talk op-msg' data-timestamp='1536643860' id='629875'>
<a class='timestamp' href='#629875'><time timestamp='2018-09-11T05:31:00Z'>05:31</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
the question whethee you want it to be signable by a non-aware piece of software or hardware
<br>
</div>

<div class='talk op-msg' data-timestamp='1536643860' id='629876'>
<a class='timestamp' href='#629876'><time timestamp='2018-09-11T05:31:00Z'>05:31</time></a>
&lt;<span class='nick nick-11'> kallewoof</span>&gt;
I have a hard time envisioning the situation where someone is fooled into signing a msg when they meant to sign a tx
<br>
</div>

<div class='talk op-msg' data-timestamp='1536643860' id='629877'>
<a class='timestamp' href='#629877'><time timestamp='2018-09-11T05:31:00Z'>05:31</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
how so?
<br>
</div>

<div class='talk op-msg' data-timestamp='1536643860' id='629878'>
<a class='timestamp' href='#629878'><time timestamp='2018-09-11T05:31:00Z'>05:31</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
your online machine is hacked, but you trust your hw devicw
<br>
</div>

<div class='talk op-msg' data-timestamp='1536643860' id='629879'>
<a class='timestamp' href='#629879'><time timestamp='2018-09-11T05:31:00Z'>05:31</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that is exactly the scenario it is designdd for
<br>
</div>

<div class='talk op-msg' data-timestamp='1536643920' id='629880'>
<a class='timestamp' href='#629880'><time timestamp='2018-09-11T05:32:00Z'>05:32</time></a>
&lt;<span class='nick nick-11'> kallewoof</span>&gt;
Right, but what would they do with me proving I own funds X?
<br>
</div>

<div class='talk op-msg' data-timestamp='1536643920' id='629881'>
<a class='timestamp' href='#629881'><time timestamp='2018-09-11T05:32:00Z'>05:32</time></a>
&lt;<span class='nick nick-11'> kallewoof</span>&gt;
Or proving that I am behind &quot;msg=Hello World&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1536643920' id='629882'>
<a class='timestamp' href='#629882'><time timestamp='2018-09-11T05:32:00Z'>05:32</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
signing a message can be far more than proving you have funds
<br>
</div>

<div class='talk op-msg' data-timestamp='1536643920' id='629883'>
<a class='timestamp' href='#629883'><time timestamp='2018-09-11T05:32:00Z'>05:32</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
if you don&#x27;t know what you&#x27;re signing, you shouldn&#x27;t sign it
<br>
</div>

<div class='talk op-msg' data-timestamp='1536643980' id='629884'>
<a class='timestamp' href='#629884'><time timestamp='2018-09-11T05:33:00Z'>05:33</time></a>
&lt;<span class='nick nick-11'> kallewoof</span>&gt;
Fair enough. So you&#x27;re saying, don&#x27;t make it possible for HW wallets to sign these things unless the HW firmware gets an update to explicitly support it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1536644040' id='629885'>
<a class='timestamp' href='#629885'><time timestamp='2018-09-11T05:34:00Z'>05:34</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
right
<br>
</div>

<div class='talk op-msg' data-timestamp='1536644040' id='629886'>
<a class='timestamp' href='#629886'><time timestamp='2018-09-11T05:34:00Z'>05:34</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i also understand the argument that actually using a full tx structure gives a lot of compatibility options
<br>
</div>

<div class='talk op-msg' data-timestamp='1536644040' id='629887'>
<a class='timestamp' href='#629887'><time timestamp='2018-09-11T05:34:00Z'>05:34</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it also makes it bigger
<br>
</div>

<div class='talk op-msg' data-timestamp='1536644040' id='629888'>
<a class='timestamp' href='#629888'><time timestamp='2018-09-11T05:34:00Z'>05:34</time></a>
&lt;<span class='nick nick-11'> kallewoof</span>&gt;
Well, not the proof per se.
<br>
</div>

<div class='talk op-msg' data-timestamp='1536644040' id='629889'>
<a class='timestamp' href='#629889'><time timestamp='2018-09-11T05:34:00Z'>05:34</time></a>
&lt;<span class='nick nick-11'> kallewoof</span>&gt;
The temporary memory foot print, yes.
<br>
</div>

<div class='talk op-msg' data-timestamp='1536644100' id='629890'>
<a class='timestamp' href='#629890'><time timestamp='2018-09-11T05:35:00Z'>05:35</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
well i believe maaku&#x27;s idea is to actually use a tx as proof
<br>
</div>

<div class='talk op-msg' data-timestamp='1536644100' id='629891'>
<a class='timestamp' href='#629891'><time timestamp='2018-09-11T05:35:00Z'>05:35</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
so that it automatically includes whatever future structures get added to it
<br>
</div>

<div class='talk op-msg' data-timestamp='1536644160' id='629892'>
<a class='timestamp' href='#629892'><time timestamp='2018-09-11T05:36:00Z'>05:36</time></a>
&lt;<span class='nick nick-11'> kallewoof</span>&gt;
Maybe I misunderstood yeah. His talk about &#x27;deterministic&#x27; made me assume it would recreate the tx both when signing and when verifying.
<br>
</div>

<div class='talk op-msg' data-timestamp='1536644160' id='629893'>
<a class='timestamp' href='#629893'><time timestamp='2018-09-11T05:36:00Z'>05:36</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
perhaps
<br>
</div>

<div class='talk op-msg' data-timestamp='1536644160' id='629894'>
<a class='timestamp' href='#629894'><time timestamp='2018-09-11T05:36:00Z'>05:36</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it&#x27;s unclear to me
<br>
</div>

<div class='talk op-msg' data-timestamp='1536644220' id='629895'>
<a class='timestamp' href='#629895'><time timestamp='2018-09-11T05:37:00Z'>05:37</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
in any case, i agree it is very forward compatible, but i&#x27;d prefer something where the signers need to be aware 
<br>
</div>

<div class='talk op-msg' data-timestamp='1536644220' id='629896'>
<a class='timestamp' href='#629896'><time timestamp='2018-09-11T05:37:00Z'>05:37</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i&#x27;m sure you can combine the two, by using a tx like structure, but changing the sighash algorithm, for example, so it can never be a valid transaction
<br>
</div>

<div class='talk op-msg' data-timestamp='1536644280' id='629897'>
<a class='timestamp' href='#629897'><time timestamp='2018-09-11T05:38:00Z'>05:38</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
though than you also lose the ability for unaware signers to create message sigs... which i think is inevitable
<br>
</div>

<div class='talk op-msg' data-timestamp='1536644400' id='629898'>
<a class='timestamp' href='#629898'><time timestamp='2018-09-11T05:40:00Z'>05:40</time></a>
&lt;<span class='nick nick-11'> kallewoof</span>&gt;
The whole idea behind using the transaction format is so you can drop it in as is, without doing custom stuff. Making a non-tx tx sounds like it defeats the purpose.
<br>
</div>

<div class='talk op-msg' data-timestamp='1536644460' id='629899'>
<a class='timestamp' href='#629899'><time timestamp='2018-09-11T05:41:00Z'>05:41</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it still maintains all forward compatibility
<br>
</div>

<div class='talk op-msg' data-timestamp='1536644460' id='629900'>
<a class='timestamp' href='#629900'><time timestamp='2018-09-11T05:41:00Z'>05:41</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
just not backward compatibility
<br>
</div>

<div class='talk op-msg' data-timestamp='1536644520' id='629901'>
<a class='timestamp' href='#629901'><time timestamp='2018-09-11T05:42:00Z'>05:42</time></a>
&lt;<span class='nick nick-11'> kallewoof</span>&gt;
Hm..
<br>
</div>

<div class='talk op-msg' data-timestamp='1536644640' id='629902'>
<a class='timestamp' href='#629902'><time timestamp='2018-09-11T05:44:00Z'>05:44</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
my preference is still something simple that&#x27;s just a single scriptSig/witness though
<br>
</div>

<div class='talk op-msg' data-timestamp='1536645000' id='629903'>
<a class='timestamp' href='#629903'><time timestamp='2018-09-11T05:50:00Z'>05:50</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
good to catch this in the rc phase at least!
<br>
</div>

<div class='talk op-msg' data-timestamp='1536645120' id='629904'>
<a class='timestamp' href='#629904'><time timestamp='2018-09-11T05:52:00Z'>05:52</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
wumpus: it&#x27;s a weird case, and not exactly following the intended workflow... but still, ending up with a non-deserializable psbt string is definitely not acceptable
<br>
</div>

<div class='talk op-msg' data-timestamp='1536645120' id='629905'>
<a class='timestamp' href='#629905'><time timestamp='2018-09-11T05:52:00Z'>05:52</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes it shouldn&#x27;t really happen
<br>
</div>

<div class='talk op-msg' data-timestamp='1536649800' id='629906'>
<a class='timestamp' href='#629906'><time timestamp='2018-09-11T07:10:00Z'>07:10</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
Since gitian-builder started supporting docker containers, has anyone been using it directly on macOS, rather than having to run inside a VM? i.e macOS -&gt; Debian VM -&gt; gitian-builder?
<br>
</div>

<div class='talk op-msg' data-timestamp='1536649860' id='629907'>
<a class='timestamp' href='#629907'><time timestamp='2018-09-11T07:11:00Z'>07:11</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I haven&#x27;t, sounds like a cool idea though
<br>
</div>

<div class='talk op-msg' data-timestamp='1536649860' id='629908'>
<a class='timestamp' href='#629908'><time timestamp='2018-09-11T07:11:00Z'>07:11</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
I played around with getting it working today, only one issue with the macOS date command. Otherwise, seems to work ok. I&#x27;ve built 0.17.0rc3 sigs that match.
<br>
</div>

<div class='talk op-msg' data-timestamp='1536649860' id='629909'>
<a class='timestamp' href='#629909'><time timestamp='2018-09-11T07:11:00Z'>07:11</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
moving to less layers of containers means less moving parts and hopefully more reliability
<br>
</div>

<div class='talk op-msg' data-timestamp='1536649920' id='629910'>
<a class='timestamp' href='#629910'><time timestamp='2018-09-11T07:12:00Z'>07:12</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
great !
<br>
</div>

<div class='talk op-msg' data-timestamp='1536649980' id='629911'>
<a class='timestamp' href='#629911'><time timestamp='2018-09-11T07:13:00Z'>07:13</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
wumpus Yep, one of the complaints about gitian building was always that it was hard to do, and having to essentially run multiple VMs never helped.
<br>
</div>

<div class='talk op-msg' data-timestamp='1536650400' id='629912'>
<a class='timestamp' href='#629912'><time timestamp='2018-09-11T07:20:00Z'>07:20</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
if there&#x27;s anything we&#x27;ve learned from years of maintainership it&#x27;s that big redesigned always take much longer than expected and these kind of incremental improvements are worth doing, even if the long-term plan it to throw out gitian completely
<br>
</div>

<div class='talk op-msg' data-timestamp='1536650580' id='629913'>
<a class='timestamp' href='#629913'><time timestamp='2018-09-11T07:23:00Z'>07:23</time></a>
&lt;<span class='nick nick-3'> warren</span>&gt;
fanquake: what does &quot;date -u&quot; return on macos?
<br>
</div>

<div class='talk op-msg' data-timestamp='1536650580' id='629914'>
<a class='timestamp' href='#629914'><time timestamp='2018-09-11T07:23:00Z'>07:23</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
warren Tue 11 Sep 2018 07:23:21 UTC
<br>
</div>

<div class='talk op-msg' data-timestamp='1536650580' id='629915'>
<a class='timestamp' href='#629915'><time timestamp='2018-09-11T07:23:00Z'>07:23</time></a>
&lt;<span class='nick nick-3'> warren</span>&gt;
fanquake: date +%s ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1536650640' id='629916'>
<a class='timestamp' href='#629916'><time timestamp='2018-09-11T07:24:00Z'>07:24</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
warren 1536650642
<br>
</div>

<div class='talk op-msg' data-timestamp='1536650640' id='629917'>
<a class='timestamp' href='#629917'><time timestamp='2018-09-11T07:24:00Z'>07:24</time></a>
&lt;<span class='nick nick-3'> warren</span>&gt;
k th
<br>
</div>

<div class='talk op-msg' data-timestamp='1536650640' id='629918'>
<a class='timestamp' href='#629918'><time timestamp='2018-09-11T07:24:00Z'>07:24</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
fanquake: I suppose that also depends on the locale?
<br>
</div>

<div class='talk op-msg' data-timestamp='1536650760' id='629919'>
<a class='timestamp' href='#629919'><time timestamp='2018-09-11T07:26:00Z'>07:26</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
wumpus passing -u Should show the date in UTC. Otherwise if I just do &#x27;date&#x27; I&#x27;ll see &quot;Tue 11 Sep 2018 15:25:52 AWST&quot;, which does use my locale.
<br>
</div>

<div class='talk op-msg' data-timestamp='1536650760' id='629920'>
<a class='timestamp' href='#629920'><time timestamp='2018-09-11T07:26:00Z'>07:26</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
timezone, yes, but I mean the YYYY/MM/DD ordering still might be locale dependent
<br>
</div>

<div class='talk op-msg' data-timestamp='1536650760' id='629921'>
<a class='timestamp' href='#629921'><time timestamp='2018-09-11T07:26:00Z'>07:26</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
or the language of the months
<br>
</div>

<div class='talk op-msg' data-timestamp='1536650820' id='629922'>
<a class='timestamp' href='#629922'><time timestamp='2018-09-11T07:27:00Z'>07:27</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
wumpus yes probably. One problem I saw with gitian-builder was using &quot;date +&quot;%F %T&quot; -u -f -&quot;, on macOS that&#x27;ll give you &quot;date: illegal time format&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1536650880' id='629923'>
<a class='timestamp' href='#629923'><time timestamp='2018-09-11T07:28:00Z'>07:28</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
However, given that you have to install coreutils for sha256sum (which macOS doesn&#x27;t have), I just swapped to using the coreutils supplied date as well.
<br>
</div>

<div class='talk op-msg' data-timestamp='1536650940' id='629924'>
<a class='timestamp' href='#629924'><time timestamp='2018-09-11T07:29:00Z'>07:29</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
macs seem to be pretty bad all over for locale dependance issues. Have seen them before with sed as well.
<br>
</div>

<div class='talk op-msg' data-timestamp='1536651000' id='629925'>
<a class='timestamp' href='#629925'><time timestamp='2018-09-11T07:30:00Z'>07:30</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
shell script is a bad language if you want locale independence, or even architecture independence
<br>
</div>

<div class='talk op-msg' data-timestamp='1536651000' id='629926'>
<a class='timestamp' href='#629926'><time timestamp='2018-09-11T07:30:00Z'>07:30</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it relies on so many external exectubles
<br>
</div>

<div class='talk op-msg' data-timestamp='1536651240' id='629927'>
<a class='timestamp' href='#629927'><time timestamp='2018-09-11T07:34:00Z'>07:34</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
wumpus Are you proposing re-writing Core in Rust at Core-Dev?
<br>
</div>

<div class='talk op-msg' data-timestamp='1536651300' id='629928'>
<a class='timestamp' href='#629928'><time timestamp='2018-09-11T07:35:00Z'>07:35</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
noooooo :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1536651300' id='629929'>
<a class='timestamp' href='#629929'><time timestamp='2018-09-11T07:35:00Z'>07:35</time></a>
&lt;<span class='nick nick-3'> mryandao</span>&gt;
isnt blue matt already working on one?
<br>
</div>

<div class='talk op-msg' data-timestamp='1536651360' id='629930'>
<a class='timestamp' href='#629930'><time timestamp='2018-09-11T07:36:00Z'>07:36</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
mryandao: rust-bitcoin isn&#x27;t a rewrite yet, and BlueMatt isn&#x27;t the only developer
<br>
</div>

<div class='talk op-msg' data-timestamp='1536651360' id='629931'>
<a class='timestamp' href='#629931'><time timestamp='2018-09-11T07:36:00Z'>07:36</time></a>
&lt;<span class='nick nick-3'> mryandao</span>&gt;
my apologies for inappropriate attribution :(
<br>
</div>

<div class='talk op-msg' data-timestamp='1536651420' id='629932'>
<a class='timestamp' href='#629932'><time timestamp='2018-09-11T07:37:00Z'>07:37</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
rust-bitcoin is a library that implements some bitcoin primitives in rust, it&#x27;s not meant as a replacement for bitcoin core, but something like python-bitcoinlib
<br>
</div>

<div class='talk op-msg' data-timestamp='1536651420' id='629933'>
<a class='timestamp' href='#629933'><time timestamp='2018-09-11T07:37:00Z'>07:37</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
(it could be used as part of a node implementation of course)
<br>
</div>

<div class='talk op-msg' data-timestamp='1536651420' id='629934'>
<a class='timestamp' href='#629934'><time timestamp='2018-09-11T07:37:00Z'>07:37</time></a>
&lt;<span class='nick nick-3'> warren</span>&gt;
fanquake: locale in unix terms is more language than timezone which is a different name
<br>
</div>

<div class='talk op-msg' data-timestamp='1536651420' id='629935'>
<a class='timestamp' href='#629935'><time timestamp='2018-09-11T07:37:00Z'>07:37</time></a>
&lt;<span class='nick nick-11'> kallewoof</span>&gt;
I very recently discovered it, following andrew poelstra&#x27;s github trace, actually. he seems to be very active!
<br>
</div>

<div class='talk op-msg' data-timestamp='1536651480' id='629936'>
<a class='timestamp' href='#629936'><time timestamp='2018-09-11T07:38:00Z'>07:38</time></a>
&lt;<span class='nick nick-3'> mryandao</span>&gt;
anyone balsy enough to run parity-bitcoin?
<br>
</div>

<div class='talk op-msg' data-timestamp='1536651600' id='629937'>
<a class='timestamp' href='#629937'><time timestamp='2018-09-11T07:40:00Z'>07:40</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
warren thanks
<br>
</div>

<div class='talk op-msg' data-timestamp='1536651600' id='629938'>
<a class='timestamp' href='#629938'><time timestamp='2018-09-11T07:40:00Z'>07:40</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
wumpus and I talked about perhaps writing a standalone P2P bitcoin server in Rust that can FFI with bitcoind
<br>
</div>

<div class='talk op-msg' data-timestamp='1536651720' id='629939'>
<a class='timestamp' href='#629939'><time timestamp='2018-09-11T07:42:00Z'>07:42</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
The main benefit being memory safety, and zero-cost abstractions for managing all the connections
<br>
</div>

<div class='talk op-msg' data-timestamp='1536651720' id='629940'>
<a class='timestamp' href='#629940'><time timestamp='2018-09-11T07:42:00Z'>07:42</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
right, bitcoind as &#x27;consensus engine&#x27; with the network-facing parts in rust
<br>
</div>

<div class='talk op-msg' data-timestamp='1536651720' id='629941'>
<a class='timestamp' href='#629941'><time timestamp='2018-09-11T07:42:00Z'>07:42</time></a>
&lt;<span class='nick nick-3'> warren</span>&gt;
YES!!!
<br>
</div>

<div class='talk op-msg' data-timestamp='1536651720' id='629942'>
<a class='timestamp' href='#629942'><time timestamp='2018-09-11T07:42:00Z'>07:42</time></a>
&lt;<span class='nick nick-3'> mryandao</span>&gt;
any chance for a libconsensus rewrite in rust?
<br>
</div>

<div class='talk op-msg' data-timestamp='1536651780' id='629943'>
<a class='timestamp' href='#629943'><time timestamp='2018-09-11T07:43:00Z'>07:43</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
mryandao: that&#x27;s a very bad idea
<br>
</div>

<div class='talk op-msg' data-timestamp='1536651780' id='629944'>
<a class='timestamp' href='#629944'><time timestamp='2018-09-11T07:43:00Z'>07:43</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
I don&#x27;t think everything needs to be rewritten in Rust
<br>
</div>

<div class='talk op-msg' data-timestamp='1536651780' id='629945'>
<a class='timestamp' href='#629945'><time timestamp='2018-09-11T07:43:00Z'>07:43</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
libconsensus should be in C
<br>
</div>

<div class='talk op-msg' data-timestamp='1536651780' id='629946'>
<a class='timestamp' href='#629946'><time timestamp='2018-09-11T07:43:00Z'>07:43</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
as FFI to C is well-implemented for almost all languages
<br>
</div>

<div class='talk op-msg' data-timestamp='1536651780' id='629947'>
<a class='timestamp' href='#629947'><time timestamp='2018-09-11T07:43:00Z'>07:43</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
the whole point is that rewriting the consensus code in differnet language
<br>
</div>

<div class='talk op-msg' data-timestamp='1536651780' id='629948'>
<a class='timestamp' href='#629948'><time timestamp='2018-09-11T07:43:00Z'>07:43</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
is EXTREMELY DANGEROUS
<br>
</div>

<div class='talk op-msg' data-timestamp='1536651780' id='629949'>
<a class='timestamp' href='#629949'><time timestamp='2018-09-11T07:43:00Z'>07:43</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
and has a very high fork risk
<br>
</div>

<div class='talk op-msg' data-timestamp='1536651780' id='629950'>
<a class='timestamp' href='#629950'><time timestamp='2018-09-11T07:43:00Z'>07:43</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
^
<br>
</div>

<div class='talk op-msg' data-timestamp='1536651780' id='629951'>
<a class='timestamp' href='#629951'><time timestamp='2018-09-11T07:43:00Z'>07:43</time></a>
&lt;<span class='nick nick-3'> warren</span>&gt;
mryandao: Good idea only if you can faithfully reproduce all bugs, even unknown bugs
<br>
</div>

<div class='talk op-msg' data-timestamp='1536651780' id='629952'>
<a class='timestamp' href='#629952'><time timestamp='2018-09-11T07:43:00Z'>07:43</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
don&#x27;t do this
<br>
</div>

<div class='talk op-msg' data-timestamp='1536651840' id='629953'>
<a class='timestamp' href='#629953'><time timestamp='2018-09-11T07:44:00Z'>07:44</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
all the non-concensus parts are fair game though
<br>
</div>

<div class='talk op-msg' data-timestamp='1536651840' id='629954'>
<a class='timestamp' href='#629954'><time timestamp='2018-09-11T07:44:00Z'>07:44</time></a>
&lt;<span class='nick nick-3'> warren</span>&gt;
+1
<br>
</div>

<div class='talk op-msg' data-timestamp='1536651900' id='629955'>
<a class='timestamp' href='#629955'><time timestamp='2018-09-11T07:45:00Z'>07:45</time></a>
&lt;<span class='nick nick-3'> mryandao</span>&gt;
sorry, i just couldnt resist when i hear re-write
<br>
</div>

<div class='talk op-msg' data-timestamp='1536651900' id='629956'>
<a class='timestamp' href='#629956'><time timestamp='2018-09-11T07:45:00Z'>07:45</time></a>
&lt;<span class='nick nick-3'> mryandao</span>&gt;
kek
<br>
</div>

<div class='talk op-msg' data-timestamp='1536651900' id='629957'>
<a class='timestamp' href='#629957'><time timestamp='2018-09-11T07:45:00Z'>07:45</time></a>
&lt;<span class='nick nick-3'> warren</span>&gt;
mryandao: multiple people here started years ago on the side of &quot;This is crazy! We need to write a specification of what is Bitcoin.&quot; and a year or two of study later realize reimplmentations are too dangerous.
<br>
</div>

<div class='talk op-msg' data-timestamp='1536651900' id='629958'>
<a class='timestamp' href='#629958'><time timestamp='2018-09-11T07:45:00Z'>07:45</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
I&#x27;d like to eventually get to a point where bitcoind is just a consensus engine, but I think the reasonable first step is to start with just the p2p parts
<br>
</div>

<div class='talk op-msg' data-timestamp='1536651900' id='629959'>
<a class='timestamp' href='#629959'><time timestamp='2018-09-11T07:45:00Z'>07:45</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
mryandao: sarcasm doesn&#x27;t travel well over IRC, sorry
<br>
</div>

<div class='talk op-msg' data-timestamp='1536651960' id='629960'>
<a class='timestamp' href='#629960'><time timestamp='2018-09-11T07:46:00Z'>07:46</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
exactly, what warren says, you&#x27;d not be the first to propose it&#x27;s seriously
<br>
</div>

<div class='talk op-msg' data-timestamp='1536651960' id='629961'>
<a class='timestamp' href='#629961'><time timestamp='2018-09-11T07:46:00Z'>07:46</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
I believe that it would be wise to revisit libconsensus, as I know that most PRs related to it have become stale
<br>
</div>

<div class='talk op-msg' data-timestamp='1536652020' id='629962'>
<a class='timestamp' href='#629962'><time timestamp='2018-09-11T07:47:00Z'>07:47</time></a>
&lt;<span class='nick nick-3'> mryandao</span>&gt;
what if a future C++ compiler tweaks the behavior of libconsensus though
<br>
</div>

<div class='talk op-msg' data-timestamp='1536652020' id='629963'>
<a class='timestamp' href='#629963'><time timestamp='2018-09-11T07:47:00Z'>07:47</time></a>
&lt;<span class='nick nick-3'> warren</span>&gt;
Yes it would be really nice to be able to use most of bitcoin core as libraries in other projects.
<br>
</div>

<div class='talk op-msg' data-timestamp='1536652020' id='629964'>
<a class='timestamp' href='#629964'><time timestamp='2018-09-11T07:47:00Z'>07:47</time></a>
&lt;<span class='nick nick-3'> mryandao</span>&gt;
could happen?
<br>
</div>

<div class='talk op-msg' data-timestamp='1536652020' id='629965'>
<a class='timestamp' href='#629965'><time timestamp='2018-09-11T07:47:00Z'>07:47</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
revisit as in see if the API need changes, and organize an effort to actually get it done
<br>
</div>

<div class='talk op-msg' data-timestamp='1536652020' id='629966'>
<a class='timestamp' href='#629966'><time timestamp='2018-09-11T07:47:00Z'>07:47</time></a>
&lt;<span class='nick nick-3'> warren</span>&gt;
It sucks that that drags in libstdc++ as a dependency
<br>
</div>

<div class='talk op-msg' data-timestamp='1536652020' id='629967'>
<a class='timestamp' href='#629967'><time timestamp='2018-09-11T07:47:00Z'>07:47</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
mryandao: yes, even different compiler versions or CPU architectures have a slight hardfork risk - that&#x27;s a really bad reason to increase the risk even more
<br>
</div>

<div class='talk op-msg' data-timestamp='1536652080' id='629968'>
<a class='timestamp' href='#629968'><time timestamp='2018-09-11T07:48:00Z'>07:48</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
warren: at least that tends to be installed everywhere, I&#x27;d say boost is much worse
<br>
</div>

<div class='talk op-msg' data-timestamp='1536652140' id='629969'>
<a class='timestamp' href='#629969'><time timestamp='2018-09-11T07:49:00Z'>07:49</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
dongcarl, are you going to Tokyo? Maybe add that to the list of discussion topics?
<br>
</div>

<div class='talk op-msg' data-timestamp='1536652140' id='629970'>
<a class='timestamp' href='#629970'><time timestamp='2018-09-11T07:49:00Z'>07:49</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
fanquake: Yes, I was proposing that in IRC yesterday.
<br>
</div>

<div class='talk op-msg' data-timestamp='1536652140' id='629971'>
<a class='timestamp' href='#629971'><time timestamp='2018-09-11T07:49:00Z'>07:49</time></a>
&lt;<span class='nick nick-3'> warren</span>&gt;
mryandao: the bigger risk is undiscovered bugs in the dependent libraries, this blew up several times in the past. Bitcoin devs found/reported/fixed many bugs in openssl and spent years to carefully write a replacement to get rid of openssl.
<br>
</div>

<div class='talk op-msg' data-timestamp='1536652140' id='629972'>
<a class='timestamp' href='#629972'><time timestamp='2018-09-11T07:49:00Z'>07:49</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
mryandao: e.g. there has been a case in the past (in OpenSSL) where 32/64 bit architectures had different behavior and could be forked
<br>
</div>

<div class='talk op-msg' data-timestamp='1536652140' id='629973'>
<a class='timestamp' href='#629973'><time timestamp='2018-09-11T07:49:00Z'>07:49</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
fanquake: where do I add to the list?
<br>
</div>

<div class='talk op-msg' data-timestamp='1536652140' id='629974'>
<a class='timestamp' href='#629974'><time timestamp='2018-09-11T07:49:00Z'>07:49</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
dongcarl, ah sorry
<br>
</div>

<div class='talk op-msg' data-timestamp='1536652140' id='629975'>
<a class='timestamp' href='#629975'><time timestamp='2018-09-11T07:49:00Z'>07:49</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
I think the easiest way is to email the organisers. They are maintaining a list of proposed topics.
<br>
</div>

<div class='talk op-msg' data-timestamp='1536652200' id='629976'>
<a class='timestamp' href='#629976'><time timestamp='2018-09-11T07:50:00Z'>07:50</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
mryandao: these are not exactly new concerns FWIW
<br>
</div>

<div class='talk op-msg' data-timestamp='1536652260' id='629977'>
<a class='timestamp' href='#629977'><time timestamp='2018-09-11T07:51:00Z'>07:51</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
At least good progress has been made over the last 3-4 years continually dropping dependencies.
<br>
</div>

<div class='talk op-msg' data-timestamp='1536652260' id='629978'>
<a class='timestamp' href='#629978'><time timestamp='2018-09-11T07:51:00Z'>07:51</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1536652260' id='629979'>
<a class='timestamp' href='#629979'><time timestamp='2018-09-11T07:51:00Z'>07:51</time></a>
&lt;<span class='nick nick-3'> warren</span>&gt;
mryandao: other implmenetations exist, they might be good, but they would be better if you could swap out the consensus parts of their code for libconsensus from Core
<br>
</div>

<div class='talk op-msg' data-timestamp='1536652260' id='629980'>
<a class='timestamp' href='#629980'><time timestamp='2018-09-11T07:51:00Z'>07:51</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
I saw soneone talking (again) about fulling ridding the codebase of OpenSSL a few days ago.
<br>
</div>

<div class='talk op-msg' data-timestamp='1536652260' id='629981'>
<a class='timestamp' href='#629981'><time timestamp='2018-09-11T07:51:00Z'>07:51</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I think the current situation where OpenSSL is only used for randomness is ok
<br>
</div>

<div class='talk op-msg' data-timestamp='1536652320' id='629982'>
<a class='timestamp' href='#629982'><time timestamp='2018-09-11T07:52:00Z'>07:52</time></a>
&lt;<span class='nick nick-3'> warren</span>&gt;
&quot;they might be good&quot; is being polite. People here argue that they are dangerous to rely upon without also checking for consistency with a Core node.
<br>
</div>

<div class='talk op-msg' data-timestamp='1536652320' id='629983'>
<a class='timestamp' href='#629983'><time timestamp='2018-09-11T07:52:00Z'>07:52</time></a>
&lt;<span class='nick nick-3'> warren</span>&gt;
wumpus: huh, thought folks here wrote a replacement for that too years ago?
<br>
</div>

<div class='talk op-msg' data-timestamp='1536652320' id='629984'>
<a class='timestamp' href='#629984'><time timestamp='2018-09-11T07:52:00Z'>07:52</time></a>
&lt;<span class='nick nick-3'> warren</span>&gt;
maybe they don&#x27;t trust themselves
<br>
</div>

<div class='talk op-msg' data-timestamp='1536652380' id='629985'>
<a class='timestamp' href='#629985'><time timestamp='2018-09-11T07:53:00Z'>07:53</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
(sure, dropping the dependency completely would be great, but at least it doesn&#x27;t touch consensus code anymore, and replacing randomness is a huge risk)
<br>
</div>

<div class='talk op-msg' data-timestamp='1536652380' id='629986'>
<a class='timestamp' href='#629986'><time timestamp='2018-09-11T07:53:00Z'>07:53</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
warren: yes, but it&#x27;s hard to get enough confidence in it imo
<br>
</div>

<div class='talk op-msg' data-timestamp='1536652440' id='629987'>
<a class='timestamp' href='#629987'><time timestamp='2018-09-11T07:54:00Z'>07:54</time></a>
&lt;<span class='nick nick-3'> warren</span>&gt;
ah, I hadn&#x27;t heard an update on that for a while.
<br>
</div>

<div class='talk op-msg' data-timestamp='1536652440' id='629988'>
<a class='timestamp' href='#629988'><time timestamp='2018-09-11T07:54:00Z'>07:54</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I don&#x27;t think it&#x27;s actively being worked on at the moment, someone could pick it up, but it doesn&#x27;t seem like that much of a priority, certainly compared to the risks
<br>
</div>

<div class='talk op-msg' data-timestamp='1536652560' id='629989'>
<a class='timestamp' href='#629989'><time timestamp='2018-09-11T07:56:00Z'>07:56</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
There has been #5885 and #10299
<br>
</div>

<div class='talk op-msg' data-timestamp='1536652560' id='629990'>
<a class='timestamp' href='#629990'><time timestamp='2018-09-11T07:56:00Z'>07:56</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/5885" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/5885</a> | [WIP] Replace OpenSSL PRNG with built-in Fortuna implementation by sipa · Pull Request #5885 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1536652560' id='629991'>
<a class='timestamp' href='#629991'><time timestamp='2018-09-11T07:56:00Z'>07:56</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/10299" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/10299</a> | Remove OpenSSL by sipa · Pull Request #10299 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1536652560' id='629992'>
<a class='timestamp' href='#629992'><time timestamp='2018-09-11T07:56:00Z'>07:56</time></a>
&lt;<span class='nick nick-3'> warren</span>&gt;
My handler says to just rely on the hardware RNG directly without mixing other entropy. There&#x27;s a new kernel option for that.
<br>
</div>

<div class='talk op-msg' data-timestamp='1536652560' id='629993'>
<a class='timestamp' href='#629993'><time timestamp='2018-09-11T07:56:00Z'>07:56</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
thanks, yes what fanquake says, the code is there if someone wants to pick it up
<br>
</div>

<div class='talk op-msg' data-timestamp='1536652620' id='629994'>
<a class='timestamp' href='#629994'><time timestamp='2018-09-11T07:57:00Z'>07:57</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
warren: HAH
<br>
</div>

<div class='talk op-msg' data-timestamp='1536652620' id='629995'>
<a class='timestamp' href='#629995'><time timestamp='2018-09-11T07:57:00Z'>07:57</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
wumpus: pick it up as in rebase it?
<br>
</div>

<div class='talk op-msg' data-timestamp='1536652620' id='629996'>
<a class='timestamp' href='#629996'><time timestamp='2018-09-11T07:57:00Z'>07:57</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
proprietary, secret sauce random, with no-backdoor guarantee!
<br>
</div>

<div class='talk op-msg' data-timestamp='1536652680' id='629997'>
<a class='timestamp' href='#629997'><time timestamp='2018-09-11T07:58:00Z'>07:58</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
warren maybe you can write us something like BIP42 for that
<br>
</div>

<div class='talk op-msg' data-timestamp='1536652680' id='629998'>
<a class='timestamp' href='#629998'><time timestamp='2018-09-11T07:58:00Z'>07:58</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
dongcarl: rebasing would be the first step, I&#x27;m not sure what other work is involved
<br>
</div>

<div class='talk op-msg' data-timestamp='1536652680' id='629999'>
<a class='timestamp' href='#629999'><time timestamp='2018-09-11T07:58:00Z'>07:58</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
Would also need to carve openssl out of the depends system if that isn&#x27;t a part of the PRs already. See how that affects Qt/building etc.
<br>
</div>

<div class='talk op-msg' data-timestamp='1536652860' id='630000'>
<a class='timestamp' href='#630000'><time timestamp='2018-09-11T08:01:00Z'>08:01</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
you can&#x27;t remove it from the depends system as long as qt still relies on it for the payment request shit
<br>
</div>

<div class='talk op-msg' data-timestamp='1536652920' id='630001'>
<a class='timestamp' href='#630001'><time timestamp='2018-09-11T08:02:00Z'>08:02</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
Looks like provoostenator tried working on it in his branches?
<br>
</div>

<div class='talk op-msg' data-timestamp='1536652920' id='630002'>
<a class='timestamp' href='#630002'><time timestamp='2018-09-11T08:02:00Z'>08:02</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
(which I was trying to depecrate, just when bitpay got the <b>*genius*</b> idea to require it)
<br>
</div>

<div class='talk op-msg' data-timestamp='1536652980' id='630003'>
<a class='timestamp' href='#630003'><time timestamp='2018-09-11T08:03:00Z'>08:03</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
#11622
<br>
</div>

<div class='talk op-msg' data-timestamp='1536652980' id='630004'>
<a class='timestamp' href='#630004'><time timestamp='2018-09-11T08:03:00Z'>08:03</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/11622" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/11622</a> | build: Add --disable-bip70 configure option by laanwj · Pull Request #11622 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1536652980' id='630005'>
<a class='timestamp' href='#630005'><time timestamp='2018-09-11T08:03:00Z'>08:03</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
of all the PRs I tried to do and didn&#x27;t go through, I think that one hurt the most
<br>
</div>

<div class='talk op-msg' data-timestamp='1536653040' id='630006'>
<a class='timestamp' href='#630006'><time timestamp='2018-09-11T08:04:00Z'>08:04</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
:&#x27;(
<br>
</div>

<div class='talk op-msg' data-timestamp='1536653040' id='630007'>
<a class='timestamp' href='#630007'><time timestamp='2018-09-11T08:04:00Z'>08:04</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
ooof...
<br>
</div>

<div class='talk op-msg' data-timestamp='1536653280' id='630008'>
<a class='timestamp' href='#630008'><time timestamp='2018-09-11T08:08:00Z'>08:08</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
the whole move has caused bitpay to lose a lot of merchants and users, I hope they&#x27;ll be reduced enough at some point that they don&#x27;t carry much weight anymore
<br>
</div>

<div class='talk op-msg' data-timestamp='1536653280' id='630009'>
<a class='timestamp' href='#630009'><time timestamp='2018-09-11T08:08:00Z'>08:08</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
but for now, it&#x27;s realistic to drop the dependency of bitcoind on openssl, but not the bitcoin-qt one
<br>
</div>

<div class='talk op-msg' data-timestamp='1536653340' id='630010'>
<a class='timestamp' href='#630010'><time timestamp='2018-09-11T08:09:00Z'>08:09</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
(in -qt it&#x27;s used in <b>*two*</b> ways, directly to validate the payment messages, and indirectly through qt to fetch https:// URLs)
<br>
</div>

<div class='talk op-msg' data-timestamp='1536653340' id='630011'>
<a class='timestamp' href='#630011'><time timestamp='2018-09-11T08:09:00Z'>08:09</time></a>
&lt;<span class='nick nick-7'> * dongcarl</span>&gt;
facepalm
<br>
</div>

<div class='talk op-msg' data-timestamp='1536653400' id='630012'>
<a class='timestamp' href='#630012'><time timestamp='2018-09-11T08:10:00Z'>08:10</time></a>
&lt;<span class='nick nick-3'> warren</span>&gt;
wumpus: I think there is still strong enough reason to begin the deprecation process, without beginning the process we&#x27;ll NEVER get rid of openssl
<br>
</div>

<div class='talk op-msg' data-timestamp='1536653460' id='630013'>
<a class='timestamp' href='#630013'><time timestamp='2018-09-11T08:11:00Z'>08:11</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
warren: I think most scenarios that care about dependencies (e.g., on servers) already don&#x27;t involve building the GUI
<br>
</div>

<div class='talk op-msg' data-timestamp='1536653460' id='630014'>
<a class='timestamp' href='#630014'><time timestamp='2018-09-11T08:11:00Z'>08:11</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
so dropping the direct dependency for randomness will help most, there
<br>
</div>

<div class='talk op-msg' data-timestamp='1536653580' id='630015'>
<a class='timestamp' href='#630015'><time timestamp='2018-09-11T08:13:00Z'>08:13</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
but if you really want to take on deprecating BIP70 with bitpay against you, I&#x27;ll support you, but it&#x27;s not something I want to take up, I don&#x27;t have the motivation nor energy
<br>
</div>

<div class='talk op-msg' data-timestamp='1536653580' id='630016'>
<a class='timestamp' href='#630016'><time timestamp='2018-09-11T08:13:00Z'>08:13</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
From <a href="https://github.com/bitcoin/bitcoin/pull/10299#issuecomment-298785082" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10299#issuecomment-298785082</a> it seems like sipa was going to &quot;propose some other RNG changes first&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1536653580' id='630017'>
<a class='timestamp' href='#630017'><time timestamp='2018-09-11T08:13:00Z'>08:13</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
Did that end up happening?
<br>
</div>

<div class='talk op-msg' data-timestamp='1536653580' id='630018'>
<a class='timestamp' href='#630018'><time timestamp='2018-09-11T08:13:00Z'>08:13</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
no, sipa kind of dropped the project to persue other things (this was talked about at last meeting AFAIK)
<br>
</div>

<div class='talk op-msg' data-timestamp='1536653580' id='630019'>
<a class='timestamp' href='#630019'><time timestamp='2018-09-11T08:13:00Z'>08:13</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
pinging fanquake, keeper of the PRs, adder of the labels
<br>
</div>

<div class='talk op-msg' data-timestamp='1536653640' id='630020'>
<a class='timestamp' href='#630020'><time timestamp='2018-09-11T08:14:00Z'>08:14</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
I see
<br>
</div>

<div class='talk op-msg' data-timestamp='1536653700' id='630021'>
<a class='timestamp' href='#630021'><time timestamp='2018-09-11T08:15:00Z'>08:15</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
wumpus: are there other dependencies that could be dropped that aren&#x27;t yet?
<br>
</div>

<div class='talk op-msg' data-timestamp='1536653760' id='630022'>
<a class='timestamp' href='#630022'><time timestamp='2018-09-11T08:16:00Z'>08:16</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/projects/3" class="link" target="_blank">https://github.com/bitcoin/bitcoin/projects/3</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1536653760' id='630023'>
<a class='timestamp' href='#630023'><time timestamp='2018-09-11T08:16:00Z'>08:16</time></a>
&lt;<span class='nick nick-3'> warren</span>&gt;
We will be able to drop boost entirely at some point?
<br>
</div>

<div class='talk op-msg' data-timestamp='1536653820' id='630024'>
<a class='timestamp' href='#630024'><time timestamp='2018-09-11T08:17:00Z'>08:17</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
Eventually, yes, I think it&#x27;s possible. Cory has various work in process to rid out the &quot;harder&quot; to replace Boost.
<br>
</div>

<div class='talk op-msg' data-timestamp='1536653820' id='630025'>
<a class='timestamp' href='#630025'><time timestamp='2018-09-11T08:17:00Z'>08:17</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
*rip
<br>
</div>

<div class='talk op-msg' data-timestamp='1536653820' id='630026'>
<a class='timestamp' href='#630026'><time timestamp='2018-09-11T08:17:00Z'>08:17</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
there&#x27;s a lot of work in that direction, which I think would be pointless if the eventual goal is not to drop boost. It&#x27;s not close, though.
<br>
</div>

<div class='talk op-msg' data-timestamp='1536653880' id='630027'>
<a class='timestamp' href='#630027'><time timestamp='2018-09-11T08:18:00Z'>08:18</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
the toughest hurdle is the multi-index strcuture used in mempool
<br>
</div>

<div class='talk op-msg' data-timestamp='1536653880' id='630028'>
<a class='timestamp' href='#630028'><time timestamp='2018-09-11T08:18:00Z'>08:18</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
However I have been overly optimistic about removing Boost in the past, hah. <a href="https://github.com/bitcoin/bitcoin/issues/8875#issuecomment-280325296" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/8875#issuecomment-280325296</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1536653940' id='630029'>
<a class='timestamp' href='#630029'><time timestamp='2018-09-11T08:19:00Z'>08:19</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
there&#x27;s no current or future c++ standard library support planned for that as far as I know, and reimplementing it is difficult, as well as risky
<br>
</div>

<div class='talk op-msg' data-timestamp='1536653940' id='630030'>
<a class='timestamp' href='#630030'><time timestamp='2018-09-11T08:19:00Z'>08:19</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
the other things are more or less straightforward work, although some have to wait for a future c++ standard (like filesystem)
<br>
</div>

<div class='talk op-msg' data-timestamp='1536653940' id='630031'>
<a class='timestamp' href='#630031'><time timestamp='2018-09-11T08:19:00Z'>08:19</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
I&#x27;d like to do any dependency bumping pretty early on for 0.18, it got left (especially qt) until pretty late in the 0.17.0 cycle, so would prefer to do it earlier this time.
<br>
</div>

<div class='talk op-msg' data-timestamp='1536654000' id='630032'>
<a class='timestamp' href='#630032'><time timestamp='2018-09-11T08:20:00Z'>08:20</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
Also have to pull in that c++14 requirement :p
<br>
</div>

<div class='talk op-msg' data-timestamp='1536654000' id='630033'>
<a class='timestamp' href='#630033'><time timestamp='2018-09-11T08:20:00Z'>08:20</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I agree, it&#x27;s better to do such things early-on in the cycle
<br>
</div>

<div class='talk op-msg' data-timestamp='1536654060' id='630034'>
<a class='timestamp' href='#630034'><time timestamp='2018-09-11T08:21:00Z'>08:21</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
also want to get the windows unicode patches in asap, the more time is left for noticing problems with them
<br>
</div>

<div class='talk op-msg' data-timestamp='1536654300' id='630035'>
<a class='timestamp' href='#630035'><time timestamp='2018-09-11T08:25:00Z'>08:25</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
wumpus: what is the multi-index structure? a collection that can be indexed into by multiple types or have multiple indices, or both?
<br>
</div>

<div class='talk op-msg' data-timestamp='1536654360' id='630036'>
<a class='timestamp' href='#630036'><time timestamp='2018-09-11T08:26:00Z'>08:26</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
dongcarl <a href="https://www.boost.org/doc/libs/1_68_0/libs/multi_index/doc/index.html" class="link" target="_blank">https://www.boost.org/doc/libs/1_68_0/libs/multi_index/doc/index.html</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1536654420' id='630037'>
<a class='timestamp' href='#630037'><time timestamp='2018-09-11T08:27:00Z'>08:27</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
dongcarl: multiple indices, like an sql database: <a href="https://github.com/bitcoin/bitcoin/blob/master/src/txmempool.h#L461" class="link" target="_blank">https://github.com/bitcoin/bitcoin/blob/master/src/txmempool.h#L461</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1536654420' id='630038'>
<a class='timestamp' href='#630038'><time timestamp='2018-09-11T08:27:00Z'>08:27</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
wumpus I think #14184 can go in. Unrelated, but I seem to have been getting some bad Qt mirrors lately, really slow downloads.
<br>
</div>

<div class='talk op-msg' data-timestamp='1536654420' id='630039'>
<a class='timestamp' href='#630039'><time timestamp='2018-09-11T08:27:00Z'>08:27</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/14184" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/14184</a> | Scripts and tools: increased timeout downloading by cisba · Pull Request #14184 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1536654480' id='630040'>
<a class='timestamp' href='#630040'><time timestamp='2018-09-11T08:28:00Z'>08:28</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
fanquake: yes, why not
<br>
</div>

<div class='talk op-msg' data-timestamp='1536654600' id='630041'>
<a class='timestamp' href='#630041'><time timestamp='2018-09-11T08:30:00Z'>08:30</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
gh down for anyone else?
<br>
</div>

<div class='talk op-msg' data-timestamp='1536654600' id='630042'>
<a class='timestamp' href='#630042'><time timestamp='2018-09-11T08:30:00Z'>08:30</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
works for me
<br>
</div>

<div class='talk op-msg' data-timestamp='1536655080' id='630043'>
<a class='timestamp' href='#630043'><time timestamp='2018-09-11T08:38:00Z'>08:38</time></a>
&lt;<span class='nick nick-11'> kallewoof</span>&gt;
works for me as well
<br>
</div>

<div class='talk op-msg' data-timestamp='1536658980' id='630044'>
<a class='timestamp' href='#630044'><time timestamp='2018-09-11T09:43:00Z'>09:43</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
rc3 binaries up <a href="https://bitcoincore.org/bin/bitcoin-core-0.17.0/test.rc3/" class="link" target="_blank">https://bitcoincore.org/bin/bitcoin-core-0.17.0/test.rc3/</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1536662340' id='630045'>
<a class='timestamp' href='#630045'><time timestamp='2018-09-11T10:39:00Z'>10:39</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
github is sluggish here as well now
<br>
</div>

<div class='talk op-msg' data-timestamp='1536662340' id='630046'>
<a class='timestamp' href='#630046'><time timestamp='2018-09-11T10:39:00Z'>10:39</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
at least the website
<br>
</div>

<div class='talk op-msg' data-timestamp='1536662400' id='630047'>
<a class='timestamp' href='#630047'><time timestamp='2018-09-11T10:40:00Z'>10:40</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
<a href="https://github.com/zw/bitcoin-gh-meta" class="link" target="_blank">https://github.com/zw/bitcoin-gh-meta</a> stopped updating?
<br>
</div>

<div class='talk op-msg' data-timestamp='1536662880' id='630048'>
<a class='timestamp' href='#630048'><time timestamp='2018-09-11T10:48:00Z'>10:48</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
ok contacted iwilcox, they&#x27;re not on IRC but managed to find an email
<br>
</div>

<div class='talk op-msg' data-timestamp='1536664560' id='630049'>
<a class='timestamp' href='#630049'><time timestamp='2018-09-11T11:16:00Z'>11:16</time></a>
&lt;<span class='nick nick-15'> echeveria</span>&gt;
gentle reminder that it&#x27;s all on github archive as well.
<br>
</div>

<div class='talk op-msg' data-timestamp='1536665040' id='630050'>
<a class='timestamp' href='#630050'><time timestamp='2018-09-11T11:24:00Z'>11:24</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
echeveria: the problem is that my release not generation script relies on this specific layout, but sure, I could adapt it if we don&#x27;t get this running again
<br>
</div>

<div class='talk op-msg' data-timestamp='1536665160' id='630051'>
<a class='timestamp' href='#630051'><time timestamp='2018-09-11T11:26:00Z'>11:26</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
echeveria: do you know how to request issue/PR metadata from a specific project from it?
<br>
</div>

<div class='talk op-msg' data-timestamp='1536665280' id='630052'>
<a class='timestamp' href='#630052'><time timestamp='2018-09-11T11:28:00Z'>11:28</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
nah, I guess I could request it from github itself through the issue API, the useful thing was having an automatic local mirror of issue data
<br>
</div>

<div class='talk op-msg' data-timestamp='1536666240' id='630053'>
<a class='timestamp' href='#630053'><time timestamp='2018-09-11T11:44:00Z'>11:44</time></a>
&lt;<span class='nick nick-15'> echeveria</span>&gt;
wumpus: you can grep the data from it if needed, it&#x27;s just blobs of JSON data straight from the firehose. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1536666240' id='630054'>
<a class='timestamp' href='#630054'><time timestamp='2018-09-11T11:44:00Z'>11:44</time></a>
&lt;<span class='nick nick-15'> echeveria</span>&gt;
same place the other mirror came from actually.
<br>
</div>

<div class='talk op-msg' data-timestamp='1536667140' id='630055'>
<a class='timestamp' href='#630055'><time timestamp='2018-09-11T11:59:00Z'>11:59</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
github is completely AWOL here
<br>
</div>

<div class='talk op-msg' data-timestamp='1536672180' id='630056'>
<a class='timestamp' href='#630056'><time timestamp='2018-09-11T13:23:00Z'>13:23</time></a>
&lt;<span class='nick nick-13'> EucOcVrFfr2D</span>&gt;
Hi does anyone know a tool to compute P2SH from a redeem script? I tried github.com/kallewoof/btcdeb but doesn&#x27;t seem to offer that feature.
<br>
</div>

<div class='talk op-msg' data-timestamp='1536672600' id='630057'>
<a class='timestamp' href='#630057'><time timestamp='2018-09-11T13:30:00Z'>13:30</time></a>
&lt;<span class='nick nick-13'> EucOcVrFfr2D</span>&gt;
I&#x27;m asking because i can&#x27;t wrap my head around the correctness of the test in the PSBT (rpc_psbt.json) 
<br>
</div>

<div class='talk op-msg' data-timestamp='1536672720' id='630058'>
<a class='timestamp' href='#630058'><time timestamp='2018-09-11T13:32:00Z'>13:32</time></a>
&lt;<span class='nick nick-13'> EucOcVrFfr2D</span>&gt;
Oh i might just have fund the answer myself
<br>
</div>

<div class='talk op-msg' data-timestamp='1536672840' id='630059'>
<a class='timestamp' href='#630059'><time timestamp='2018-09-11T13:34:00Z'>13:34</time></a>
&lt;<span class='nick nick-13'> EucOcVrFfr2D</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/blob/v0.17.0rc3/test/functional/data/rpc_psbt.json#L90" class="link" target="_blank">https://github.com/bitcoin/bitcoin/blob/v0.17.0rc3/test/functional/data/rpc_psbt.json#L90</a> the PSBT contains a PartiallySignedInput where RedeemScript=[OP_2, 029583bf39ae0a609747ad199addd634fa6108559d6c5cd39b4c2183f1ab96e07f, 02dab61ff49a14db6a7d02b0cd1fbb78fc4b18312b5b4e54dae4dba2fbfef536d7, OP_2, OP_CHECKMULTISIGVERIFY] and the ScriptPubKey=[OP_HASH160, 0fb9463421696b82c833af241c78c17ddbde4934, OP_EQUAL]
<br>
</div>

<div class='talk op-msg' data-timestamp='1536672960' id='630060'>
<a class='timestamp' href='#630060'><time timestamp='2018-09-11T13:36:00Z'>13:36</time></a>
&lt;<span class='nick nick-13'> EucOcVrFfr2D</span>&gt;
Now, HASH160(redeemScript) != 0fb9463421696b82c833af241c78c17ddbde4934 , but interestingly if i change the OP_CHECKMULTISIGVERIFY into OP_CHECKMULTISIG ... the hash is correct!
<br>
</div>

<div class='talk op-msg' data-timestamp='1536673200' id='630061'>
<a class='timestamp' href='#630061'><time timestamp='2018-09-11T13:40:00Z'>13:40</time></a>
&lt;<span class='nick nick-13'> EucOcVrFfr2D</span>&gt;
The expected result in that test is equal to the input, the author @achow101 wanted to make sure bitcoind doesn&#x27;t &#x27;crash&#x27; on that scenario but it silently moves on. The scenario is when we&#x27;re trying to sign a PSBT input but one of the requirement fails -&gt; <a href="https://github.com/bitcoin/bips/blame/master/bip-0174.mediawiki#L342" class="link" target="_blank">https://github.com/bitcoin/bips/blame/master/bip-0174.mediawiki#L342</a> 
<br>
</div>

<div class='talk op-msg' data-timestamp='1536673500' id='630062'>
<a class='timestamp' href='#630062'><time timestamp='2018-09-11T13:45:00Z'>13:45</time></a>
&lt;<span class='nick nick-13'> EucOcVrFfr2D</span>&gt;
It&#x27;s still a bit confusing why bitcoind does not fail when calling &#x27;walletprocesspsbt&#x27; with such an ill-formed PartiallySignedInput.
<br>
</div>

<div class='talk op-msg' data-timestamp='1536673500' id='630063'>
<a class='timestamp' href='#630063'><time timestamp='2018-09-11T13:45:00Z'>13:45</time></a>
&lt;<span class='nick nick-13'> EucOcVrFfr2D</span>&gt;
/fin
<br>
</div>

<div class='talk op-msg' data-timestamp='1536673620' id='630064'>
<a class='timestamp' href='#630064'><time timestamp='2018-09-11T13:47:00Z'>13:47</time></a>
&lt;<span class='nick nick-13'> EucOcVrFfr2D</span>&gt;
any clue/help/feedback/comment highly appreciated :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1536674460' id='630065'>
<a class='timestamp' href='#630065'><time timestamp='2018-09-11T14:01:00Z'>14:01</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
EucOcVrFfr2D: the not failing is to aid with a future RPC analyzepsbt which tells you what is wrong with your psbt
<br>
</div>

<div class='talk op-msg' data-timestamp='1536674520' id='630066'>
<a class='timestamp' href='#630066'><time timestamp='2018-09-11T14:02:00Z'>14:02</time></a>
&lt;<span class='nick nick-13'> EucOcVrFfr2D</span>&gt;
achow101: Oh good to know!
<br>
</div>

<div class='talk op-msg' data-timestamp='1536674940' id='630067'>
<a class='timestamp' href='#630067'><time timestamp='2018-09-11T14:09:00Z'>14:09</time></a>
&lt;<span class='nick nick-13'> EucOcVrFfr2D</span>&gt;
achow101: By the way, i found a duplicate test for the SIGNER role (still in functional/data/rpc_psbt.json), i opened a PR to remove it <a href="https://github.com/bitcoin/bitcoin/pull/14199" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/14199</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1536676860' id='630068'>
<a class='timestamp' href='#630068'><time timestamp='2018-09-11T14:41:00Z'>14:41</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
wumpus: there&#x27;s a helluvalot more in rust-bitcoin than just primitives, but, ok, it <b>*includes*</b> primitives :p
<br>
</div>

<div class='talk op-msg' data-timestamp='1536678960' id='630069'>
<a class='timestamp' href='#630069'><time timestamp='2018-09-11T15:16:00Z'>15:16</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
BlueMatt: yes &#x27;building blocks&#x27;, I didn&#x27;t mean &#x27;primitives&#x27; in any insulting sense
<br>
</div>

<div class='talk op-msg' data-timestamp='1536679020' id='630070'>
<a class='timestamp' href='#630070'><time timestamp='2018-09-11T15:17:00Z'>15:17</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I just meant it&#x27;s not intended to be a self-contained node implementation but as a library to use from other software
<br>
</div>

<div class='talk op-msg' data-timestamp='1536687000' id='630071'>
<a class='timestamp' href='#630071'><time timestamp='2018-09-11T17:30:00Z'>17:30</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
What do people think about having bitcoind/-qt not create a default wallet on startup if one doesn&#x27;t already exist? That was one of my motivations for #13059.
<br>
</div>

<div class='talk op-msg' data-timestamp='1536687000' id='630072'>
<a class='timestamp' href='#630072'><time timestamp='2018-09-11T17:30:00Z'>17:30</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/13059" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/13059</a> | Dynamic wallet load / create / unload · Issue #13059 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1536687060' id='630073'>
<a class='timestamp' href='#630073'><time timestamp='2018-09-11T17:31:00Z'>17:31</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
The idea is that a fresh start-up of bitcoind/qt wuoldn&#x27;t crete a wallet until a user tried to carry out a task that required wallet, at which point it would prompt them to create.
<br>
</div>

<div class='talk op-msg' data-timestamp='1536687120' id='630074'>
<a class='timestamp' href='#630074'><time timestamp='2018-09-11T17:32:00Z'>17:32</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jnewbery: that sounds great to me
<br>
</div>

<div class='talk op-msg' data-timestamp='1536687120' id='630075'>
<a class='timestamp' href='#630075'><time timestamp='2018-09-11T17:32:00Z'>17:32</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
creating the wallet at run time instead of startup allows the user to specify wallet features like disableprivatekeys (#9662) and avoidreuse (#13756)
<br>
</div>

<div class='talk op-msg' data-timestamp='1536687120' id='630076'>
<a class='timestamp' href='#630076'><time timestamp='2018-09-11T17:32:00Z'>17:32</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/9662" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/9662</a> | Add createwallet &quot;disableprivatekeys&quot; option: a sane mode for watchonly-wallets by jonasschnelli · Pull Request #9662 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1536687120' id='630077'>
<a class='timestamp' href='#630077'><time timestamp='2018-09-11T17:32:00Z'>17:32</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/13756" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/13756</a> | wallet: -avoidreuse feature for improved privacy by kallewoof · Pull Request #13756 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1536687180' id='630078'>
<a class='timestamp' href='#630078'><time timestamp='2018-09-11T17:33:00Z'>17:33</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
jnewbery: been recommended several times before. achow tried to do it, prior to multwallet and there were some dumb roadblocks for running without a wallet and loading it later that should be gone.
<br>
</div>

<div class='talk op-msg' data-timestamp='1536687180' id='630079'>
<a class='timestamp' href='#630079'><time timestamp='2018-09-11T17:33:00Z'>17:33</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
I think that #13100 is really the last piece in the puzzle before we can actually do this
<br>
</div>

<div class='talk op-msg' data-timestamp='1536687180' id='630080'>
<a class='timestamp' href='#630080'><time timestamp='2018-09-11T17:33:00Z'>17:33</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/13100" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/13100</a> | gui: Add dynamic wallets support by promag · Pull Request #13100 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1536687180' id='630081'>
<a class='timestamp' href='#630081'><time timestamp='2018-09-11T17:33:00Z'>17:33</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
It&#x27;ll also allow a wallet to be &#x27;born encrypted&#x27; and not end up with a bunch of stupid never used retired keys in it from before encryption.
<br>
</div>

<div class='talk op-msg' data-timestamp='1536687240' id='630082'>
<a class='timestamp' href='#630082'><time timestamp='2018-09-11T17:34:00Z'>17:34</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
jnewbery: &#x27;promt to create&#x27; -- why prompt?
<br>
</div>

<div class='talk op-msg' data-timestamp='1536687300' id='630083'>
<a class='timestamp' href='#630083'><time timestamp='2018-09-11T17:35:00Z'>17:35</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: if you want it born encrypted you at least need to prompt for a password
<br>
</div>

<div class='talk op-msg' data-timestamp='1536687300' id='630084'>
<a class='timestamp' href='#630084'><time timestamp='2018-09-11T17:35:00Z'>17:35</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but it could also prompt for things like do you have a hw wallet you want integrated
<br>
</div>

<div class='talk op-msg' data-timestamp='1536687300' id='630085'>
<a class='timestamp' href='#630085'><time timestamp='2018-09-11T17:35:00Z'>17:35</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
gmaxwell: I guess maybe that&#x27;s the wrong wording. The user would need to create a wallet before doing any wallet activities
<br>
</div>

<div class='talk op-msg' data-timestamp='1536687300' id='630086'>
<a class='timestamp' href='#630086'><time timestamp='2018-09-11T17:35:00Z'>17:35</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sipa: no, you just choose &#x27;encrypt wallet&#x27;.. and that prompts for the password and creates it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1536687300' id='630087'>
<a class='timestamp' href='#630087'><time timestamp='2018-09-11T17:35:00Z'>17:35</time></a>
&lt;<span class='nick nick-8'> andytoshi</span>&gt;
gmaxwell: if you&#x27;re restoring a wallet and forget to load the old wallet (say), having Core silently create a new one is annoying and potentially confusing
<br>
</div>

<div class='talk op-msg' data-timestamp='1536687360' id='630088'>
<a class='timestamp' href='#630088'><time timestamp='2018-09-11T17:36:00Z'>17:36</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
andytoshi: okay, fair enough but the effect of that is that RPCs that currently wont ever fail gain a new failure condition (no wallet yet)
<br>
</div>

<div class='talk op-msg' data-timestamp='1536687360' id='630089'>
<a class='timestamp' href='#630089'><time timestamp='2018-09-11T17:36:00Z'>17:36</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
Those RPCs do fail when no wallet is loaded (eg start with -nowallet)
<br>
</div>

<div class='talk op-msg' data-timestamp='1536687420' id='630090'>
<a class='timestamp' href='#630090'><time timestamp='2018-09-11T17:37:00Z'>17:37</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Do they even show up in the rpc list when no wallet is loaded?
<br>
</div>

<div class='talk op-msg' data-timestamp='1536687420' id='630091'>
<a class='timestamp' href='#630091'><time timestamp='2018-09-11T17:37:00Z'>17:37</time></a>
&lt;<span class='nick nick-8'> andytoshi</span>&gt;
that&#x27;s frustrating from an API-stability standpoint but in some contexts &quot;succeeding&quot; with a wallet the user didn&#x27;t intend to create is even worse
<br>
</div>

<div class='talk op-msg' data-timestamp='1536687420' id='630092'>
<a class='timestamp' href='#630092'><time timestamp='2018-09-11T17:37:00Z'>17:37</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I&#x27;m convinced. I&#x27;d just imagined it another way.
<br>
</div>

<div class='talk op-msg' data-timestamp='1536687480' id='630093'>
<a class='timestamp' href='#630093'><time timestamp='2018-09-11T17:38:00Z'>17:38</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
As soon as you want to use the oppturnity to take more settings then obviously you need to run an explicit create command.
<br>
</div>

<div class='talk op-msg' data-timestamp='1536687480' id='630094'>
<a class='timestamp' href='#630094'><time timestamp='2018-09-11T17:38:00Z'>17:38</time></a>
&lt;<span class='nick nick-8'> andytoshi</span>&gt;
it may be worth adding a command-line option to automatically create a wallet, for people with automated systems (eg integration tests) that depend on the old behaviour
<br>
</div>

<div class='talk op-msg' data-timestamp='1536687480' id='630095'>
<a class='timestamp' href='#630095'><time timestamp='2018-09-11T17:38:00Z'>17:38</time></a>
&lt;<span class='nick nick-8'> andytoshi</span>&gt;
or not, those systems can just add an extra &quot;createwallet&quot; RPC call to their scripts
<br>
</div>

<div class='talk op-msg' data-timestamp='1536687480' id='630096'>
<a class='timestamp' href='#630096'><time timestamp='2018-09-11T17:38:00Z'>17:38</time></a>
&lt;<span class='nick nick-6'> * andytoshi</span>&gt;
stops bikeshedding
<br>
</div>

<div class='talk op-msg' data-timestamp='1536687600' id='630097'>
<a class='timestamp' href='#630097'><time timestamp='2018-09-11T17:40:00Z'>17:40</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
when no wallet is loaded, the wallet RPCs don&#x27;t show up in the help list. I think that&#x27;s probably not what we want
<br>
</div>

<div class='talk op-msg' data-timestamp='1536687660' id='630098'>
<a class='timestamp' href='#630098'><time timestamp='2018-09-11T17:41:00Z'>17:41</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
Actually, only the wallet &#x27;management&#x27; methods are shown: `createwallet`, `loadwallet`, `unloadwallet` and `listwallets`
<br>
</div>

<div class='talk op-msg' data-timestamp='1536687660' id='630099'>
<a class='timestamp' href='#630099'><time timestamp='2018-09-11T17:41:00Z'>17:41</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
I think that&#x27;s ok
<br>
</div>

<div class='talk op-msg' data-timestamp='1536687780' id='630100'>
<a class='timestamp' href='#630100'><time timestamp='2018-09-11T17:43:00Z'>17:43</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I think that&#x27;s fine
<br>
</div>

<div class='talk op-msg' data-timestamp='1536687780' id='630101'>
<a class='timestamp' href='#630101'><time timestamp='2018-09-11T17:43:00Z'>17:43</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
if the wallet module is not loaded, wallet RPCs don&#x27;t show up
<br>
</div>

<div class='talk op-msg' data-timestamp='1536687840' id='630102'>
<a class='timestamp' href='#630102'><time timestamp='2018-09-11T17:44:00Z'>17:44</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
you can&#x27;t use them so why would they show up
<br>
</div>

<div class='talk op-msg' data-timestamp='1536687900' id='630103'>
<a class='timestamp' href='#630103'><time timestamp='2018-09-11T17:45:00Z'>17:45</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
just like if you build with --disable-wallet, the wallet options shouldn&#x27;t show up
<br>
</div>

<div class='talk op-msg' data-timestamp='1536687960' id='630104'>
<a class='timestamp' href='#630104'><time timestamp='2018-09-11T17:46:00Z'>17:46</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
(although, yeah, if you build with wallet but have no wallet loaded, there&#x27;s no wallet to apply the wallet calls to, that&#x27;s kind of a strange case)
<br>
</div>

<div class='talk op-msg' data-timestamp='1536688020' id='630105'>
<a class='timestamp' href='#630105'><time timestamp='2018-09-11T17:47:00Z'>17:47</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
(I think that behavior was inherited from running with -disable-wallet option)
<br>
</div>

<div class='talk op-msg' data-timestamp='1536688020' id='630106'>
<a class='timestamp' href='#630106'><time timestamp='2018-09-11T17:47:00Z'>17:47</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
at run time, not compile time
<br>
</div>

<div class='talk op-msg' data-timestamp='1536688020' id='630107'>
<a class='timestamp' href='#630107'><time timestamp='2018-09-11T17:47:00Z'>17:47</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
well bitcoind can&#x27;t prompt for anything
<br>
</div>

<div class='talk op-msg' data-timestamp='1536688080' id='630108'>
<a class='timestamp' href='#630108'><time timestamp='2018-09-11T17:48:00Z'>17:48</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
so either bitcoind or &quot;bitcoin-qt -server&quot; still need to automatically create a wallet
<br>
</div>

<div class='talk op-msg' data-timestamp='1536688080' id='630109'>
<a class='timestamp' href='#630109'><time timestamp='2018-09-11T17:48:00Z'>17:48</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
or they should require configuring one
<br>
</div>

<div class='talk op-msg' data-timestamp='1536688080' id='630110'>
<a class='timestamp' href='#630110'><time timestamp='2018-09-11T17:48:00Z'>17:48</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
or-pass a password to the creation call
<br>
</div>

<div class='talk op-msg' data-timestamp='1536688080' id='630111'>
<a class='timestamp' href='#630111'><time timestamp='2018-09-11T17:48:00Z'>17:48</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
wumpus: there&#x27;s a slight distinction here. If the wallet <b>*component*</b> is not compiled in, then calls to wallet RPCs fail with &quot;method not found&quot;. If the wallet component is compiled in, but no wallet is loaded (either with -nowallet at startup or unloadwallet RPC), then calls to wallet RPCs fail with &quot;Method not found (wallet method is disabled because no wallet is loaded)&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1536688140' id='630112'>
<a class='timestamp' href='#630112'><time timestamp='2018-09-11T17:49:00Z'>17:49</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
jnewbery: yes you&#x27;re right
<br>
</div>

<div class='talk op-msg' data-timestamp='1536688140' id='630113'>
<a class='timestamp' href='#630113'><time timestamp='2018-09-11T17:49:00Z'>17:49</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
jnewbery: run-time -disablewallet is not really a thing anymore, it just means &quot;0 wallets loaded&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1536688200' id='630114'>
<a class='timestamp' href='#630114'><time timestamp='2018-09-11T17:50:00Z'>17:50</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
oh, I forgot about that option
<br>
</div>

<div class='talk op-msg' data-timestamp='1536688200' id='630115'>
<a class='timestamp' href='#630115'><time timestamp='2018-09-11T17:50:00Z'>17:50</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
the user could always decide to load a wallet later
<br>
</div>

<div class='talk op-msg' data-timestamp='1536688200' id='630116'>
<a class='timestamp' href='#630116'><time timestamp='2018-09-11T17:50:00Z'>17:50</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
or, create one
<br>
</div>

<div class='talk op-msg' data-timestamp='1536688200' id='630117'>
<a class='timestamp' href='#630117'><time timestamp='2018-09-11T17:50:00Z'>17:50</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
That would fail with &quot;method not found&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1536688200' id='630118'>
<a class='timestamp' href='#630118'><time timestamp='2018-09-11T17:50:00Z'>17:50</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
(same as if wallet had not been compiled in)
<br>
</div>

<div class='talk op-msg' data-timestamp='1536688200' id='630119'>
<a class='timestamp' href='#630119'><time timestamp='2018-09-11T17:50:00Z'>17:50</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
oh it does?
<br>
</div>

<div class='talk op-msg' data-timestamp='1536688200' id='630120'>
<a class='timestamp' href='#630120'><time timestamp='2018-09-11T17:50:00Z'>17:50</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I thought that simply meant &quot;load no wallets&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1536688260' id='630121'>
<a class='timestamp' href='#630121'><time timestamp='2018-09-11T17:51:00Z'>17:51</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
yes - -disablewallet means &quot;run without the wallet component&quot; -nowallet means &quot;run with the wallet component but no wallet loaded at startup&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1536688260' id='630122'>
<a class='timestamp' href='#630122'><time timestamp='2018-09-11T17:51:00Z'>17:51</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I&#x27;m confused as usual
<br>
</div>

<div class='talk op-msg' data-timestamp='1536688320' id='630123'>
<a class='timestamp' href='#630123'><time timestamp='2018-09-11T17:52:00Z'>17:52</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
it&#x27;s confusing because until multiwallet was implemented, -nowallet didn&#x27;t make sense
<br>
</div>

<div class='talk op-msg' data-timestamp='1536688320' id='630124'>
<a class='timestamp' href='#630124'><time timestamp='2018-09-11T17:52:00Z'>17:52</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
right
<br>
</div>

<div class='talk op-msg' data-timestamp='1536688440' id='630125'>
<a class='timestamp' href='#630125'><time timestamp='2018-09-11T17:54:00Z'>17:54</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I didn&#x27;t know those things were seperate
<br>
</div>

<div class='talk op-msg' data-timestamp='1536688560' id='630126'>
<a class='timestamp' href='#630126'><time timestamp='2018-09-11T17:56:00Z'>17:56</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it makes sense, though
<br>
</div>

<div class='talk op-msg' data-timestamp='1536688560' id='630127'>
<a class='timestamp' href='#630127'><time timestamp='2018-09-11T17:56:00Z'>17:56</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
-nowallet is kind of a hidden feature. It&#x27;s not documented and relies on the automatic `-no&lt;option&gt;` conversion.
<br>
</div>

<div class='talk op-msg' data-timestamp='1536688560' id='630128'>
<a class='timestamp' href='#630128'><time timestamp='2018-09-11T17:56:00Z'>17:56</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
disablewallet is really &quot;I have no wallet and don&#x27;t want any to be created either&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1536688560' id='630129'>
<a class='timestamp' href='#630129'><time timestamp='2018-09-11T17:56:00Z'>17:56</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
would make sense to document that one, unless it becomes the default :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1536688680' id='630130'>
<a class='timestamp' href='#630130'><time timestamp='2018-09-11T17:58:00Z'>17:58</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
well... I don&#x27;t know, you&#x27;d still want to load the default wallet by default
<br>
</div>

<div class='talk op-msg' data-timestamp='1536688680' id='630131'>
<a class='timestamp' href='#630131'><time timestamp='2018-09-11T17:58:00Z'>17:58</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
if it exists
<br>
</div>

<div class='talk op-msg' data-timestamp='1536688740' id='630132'>
<a class='timestamp' href='#630132'><time timestamp='2018-09-11T17:59:00Z'>17:59</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
Yes, -disablewallet really does completely disable the wallet component (eg, the RPC methods are not registered). It&#x27;s documented.
<br>
</div>

<div class='talk op-msg' data-timestamp='1536688740' id='630133'>
<a class='timestamp' href='#630133'><time timestamp='2018-09-11T17:59:00Z'>17:59</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
yeah, it&#x27;s slightly different from making -nowallet default. Like you say, if the wallet already exists, then it should be loaded. The proposed change is just if the wallet does not exist in the wallets directory.
<br>
</div>

<div class='talk op-msg' data-timestamp='1536688800' id='630134'>
<a class='timestamp' href='#630134'><time timestamp='2018-09-11T18:00:00Z'>18:00</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I like that idea, to make creation of the wallet a separate step
<br>
</div>

<div class='talk op-msg' data-timestamp='1536688860' id='630135'>
<a class='timestamp' href='#630135'><time timestamp='2018-09-11T18:01:00Z'>18:01</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
Great. Thanks all for the input.
<br>
</div>

<div class='talk op-msg' data-timestamp='1536688860' id='630136'>
<a class='timestamp' href='#630136'><time timestamp='2018-09-11T18:01:00Z'>18:01</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
in the GUI it could be some user friendly wizard that runs by default, in bitcoind it&#x27;d have to be a commmand, but it&#x27;s no different from RDBM software where there&#x27;s no database by default
<br>
</div>

<div class='talk op-msg' data-timestamp='1536689040' id='630137'>
<a class='timestamp' href='#630137'><time timestamp='2018-09-11T18:04:00Z'>18:04</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
this call might have a lot of optional arguments
<br>
</div>

<div class='talk op-msg' data-timestamp='1536689100' id='630138'>
<a class='timestamp' href='#630138'><time timestamp='2018-09-11T18:05:00Z'>18:05</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
(though most of the options can be changed later, setting the encryption on first run makes sense, to avoid creating and discarding a keypool)
<br>
</div>

<div class='talk op-msg' data-timestamp='1536689160' id='630139'>
<a class='timestamp' href='#630139'><time timestamp='2018-09-11T18:06:00Z'>18:06</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
Yes, I much prefer an RPC with lots of optional arguments (that can be omitted when using named args) to having a multitude of command-line arguments when calling bitcoind
<br>
</div>

<div class='talk op-msg' data-timestamp='1536689220' id='630140'>
<a class='timestamp' href='#630140'><time timestamp='2018-09-11T18:07:00Z'>18:07</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
absolutely
<br>
</div>

<div class='talk op-msg' data-timestamp='1536689280' id='630141'>
<a class='timestamp' href='#630141'><time timestamp='2018-09-11T18:08:00Z'>18:08</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
10:48:20 &lt; sipa&gt; so either bitcoind or &quot;bitcoin-qt -server&quot; still need to automatically create a wallet
<br>
</div>

<div class='talk op-msg' data-timestamp='1536689280' id='630142'>
<a class='timestamp' href='#630142'><time timestamp='2018-09-11T18:08:00Z'>18:08</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
please no
<br>
</div>

<div class='talk op-msg' data-timestamp='1536689280' id='630143'>
<a class='timestamp' href='#630143'><time timestamp='2018-09-11T18:08:00Z'>18:08</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
just make the wallet needing rpcs fail until one is created.
<br>
</div>

<div class='talk op-msg' data-timestamp='1536689340' id='630144'>
<a class='timestamp' href='#630144'><time timestamp='2018-09-11T18:09:00Z'>18:09</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes, like -nowallet
<br>
</div>

<div class='talk op-msg' data-timestamp='1536689340' id='630145'>
<a class='timestamp' href='#630145'><time timestamp='2018-09-11T18:09:00Z'>18:09</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
yes, that&#x27;s the plan
<br>
</div>

<div class='talk op-msg' data-timestamp='1536689340' id='630146'>
<a class='timestamp' href='#630146'><time timestamp='2018-09-11T18:09:00Z'>18:09</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Right now I have something like 50 wallet files, 99% of them are just never used dummy wallets. Where I managed to run bitcoind without a wallet, it created one.. then later I wasn&#x27;t <u>_sure_</u> if that wallet was ever actually used or not, so I moved it out of the way and backed it up.
<br>
</div>

<div class='talk op-msg' data-timestamp='1536689400' id='630147'>
<a class='timestamp' href='#630147'><time timestamp='2018-09-11T18:10:00Z'>18:10</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
if not creating by default were a QT only feature, it wouldn&#x27;t help me at all. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1536689400' id='630148'>
<a class='timestamp' href='#630148'><time timestamp='2018-09-11T18:10:00Z'>18:10</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
agree gmaxwell 
<br>
</div>

<div class='talk op-msg' data-timestamp='1536689460' id='630149'>
<a class='timestamp' href='#630149'><time timestamp='2018-09-11T18:11:00Z'>18:11</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
sounds like #13926 would also be helpful for you
<br>
</div>

<div class='talk op-msg' data-timestamp='1536689460' id='630150'>
<a class='timestamp' href='#630150'><time timestamp='2018-09-11T18:11:00Z'>18:11</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/13926" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/13926</a> | [Tools] bitcoin-wallet-tool by jnewbery · Pull Request #13926 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1536689460' id='630151'>
<a class='timestamp' href='#630151'><time timestamp='2018-09-11T18:11:00Z'>18:11</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
&lt;/shill&gt;
<br>
</div>

<div class='talk op-msg' data-timestamp='1536689460' id='630152'>
<a class='timestamp' href='#630152'><time timestamp='2018-09-11T18:11:00Z'>18:11</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I&#x27;m very careful to <b>*usually*</b> build bitcoind without wallet support when I don&#x27;t need a wallet, or at least run with disablewallet, still I have the same problem in lesser magnitude
<br>
</div>

<div class='talk op-msg' data-timestamp='1536689520' id='630153'>
<a class='timestamp' href='#630153'><time timestamp='2018-09-11T18:12:00Z'>18:12</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
jnewbery: I don&#x27;t think anything helps here, no tool could tell if I ever yanked a key out of a wallet and used the key for something. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1536689520' id='630154'>
<a class='timestamp' href='#630154'><time timestamp='2018-09-11T18:12:00Z'>18:12</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
oh, I can&#x27;t help you with that
<br>
</div>

<div class='talk op-msg' data-timestamp='1536689520' id='630155'>
<a class='timestamp' href='#630155'><time timestamp='2018-09-11T18:12:00Z'>18:12</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
yea, I normally run with disablewallet, but it turns out that if I do 1000 runs, in 45 of them I manage to fail to provide the argument. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1536689520' id='630156'>
<a class='timestamp' href='#630156'><time timestamp='2018-09-11T18:12:00Z'>18:12</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
you mean, yank a key from the keypool without marking it as used?
<br>
</div>

<div class='talk op-msg' data-timestamp='1536689580' id='630157'>
<a class='timestamp' href='#630157'><time timestamp='2018-09-11T18:13:00Z'>18:13</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
right
<br>
</div>

<div class='talk op-msg' data-timestamp='1536689580' id='630158'>
<a class='timestamp' href='#630158'><time timestamp='2018-09-11T18:13:00Z'>18:13</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I could have gotten keys out from a plaintext dump, unfortunately. So &#x27;used&#x27; isn&#x27;t sufficient. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1536693120' id='630159'>
<a class='timestamp' href='#630159'><time timestamp='2018-09-11T19:12:00Z'>19:12</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
gmaxwell, yeah i too have a bajillion wallets
<br>
</div>

<div class='talk op-msg' data-timestamp='1536693120' id='630160'>
<a class='timestamp' href='#630160'><time timestamp='2018-09-11T19:12:00Z'>19:12</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
99.9999% of which have never been used
<br>
</div>

<div class='talk op-msg' data-timestamp='1536694740' id='630161'>
<a class='timestamp' href='#630161'><time timestamp='2018-09-11T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
MarcoFalke, updated #14147 to fix that issue and some of the style violations
<br>
</div>

<div class='talk op-msg' data-timestamp='1536694740' id='630162'>
<a class='timestamp' href='#630162'><time timestamp='2018-09-11T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/14147" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/14147</a> | net: Refactor ThreadSocketHandler by pstratem · Pull Request #14147 · bitcoin/bitcoin · GitHubAsset 1Asset 1
<br>
</div>

<div class='talk op-msg' data-timestamp='1536697320' id='630163'>
<a class='timestamp' href='#630163'><time timestamp='2018-09-11T20:22:00Z'>20:22</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
phantomcircuit: thx looks good now
<br>
</div>

<div class='talk op-msg' data-timestamp='1536699240' id='630164'>
<a class='timestamp' href='#630164'><time timestamp='2018-09-11T20:54:00Z'>20:54</time></a>
&lt;<span class='nick nick-13'> ken2812221</span>&gt;
MarcoFalke: Is #14007 ready for merge or it needs more ACK?
<br>
</div>

<div class='talk op-msg' data-timestamp='1536699240' id='630165'>
<a class='timestamp' href='#630165'><time timestamp='2018-09-11T20:54:00Z'>20:54</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/14007" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/14007</a> | tests: Run functional test on Windows and enable it on Appveyor by ken2812221 · Pull Request #14007 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1536699300' id='630166'>
<a class='timestamp' href='#630166'><time timestamp='2018-09-11T20:55:00Z'>20:55</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
Id like to have someon else review the test changes as well
<br>
</div>

<div class='talk op-msg' data-timestamp='1536699660' id='630167'>
<a class='timestamp' href='#630167'><time timestamp='2018-09-11T21:01:00Z'>21:01</time></a>
&lt;<span class='nick nick-13'> ken2812221</span>&gt;
Fine. But it seems bitcoinack shows 0 ack on that PR. It has 2 ack for sure.
<br>
</div>

<div class='talk op-msg' data-timestamp='1536699960' id='630168'>
<a class='timestamp' href='#630168'><time timestamp='2018-09-11T21:06:00Z'>21:06</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it is a bit fiddly with spelling of acks sometimes
<br>
</div>

<div class='talk op-msg' data-timestamp='1536700620' id='630169'>
<a class='timestamp' href='#630169'><time timestamp='2018-09-11T21:17:00Z'>21:17</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
can i use #define for poll / select er selection?
<br>
</div>

<div class='talk op-msg' data-timestamp='1536700800' id='630170'>
<a class='timestamp' href='#630170'><time timestamp='2018-09-11T21:20:00Z'>21:20</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I would expect you to have a define and a configure thing that detects the availablity of poll.
<br>
</div>

<div class='talk op-msg' data-timestamp='1536700800' id='630171'>
<a class='timestamp' href='#630171'><time timestamp='2018-09-11T21:20:00Z'>21:20</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
ideally copied out of some other project that does both and has been around for a long time.
<br>
</div>

<div class='talk op-msg' data-timestamp='1536700860' id='630172'>
<a class='timestamp' href='#630172'><time timestamp='2018-09-11T21:21:00Z'>21:21</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
maybe squid cache
<br>
</div>

<div class='talk op-msg' data-timestamp='1536701040' id='630173'>
<a class='timestamp' href='#630173'><time timestamp='2018-09-11T21:24:00Z'>21:24</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
gmaxwell, it&#x27;s kind of awkward cause i want that... but not on windows
<br>
</div>

<div class='talk op-msg' data-timestamp='1536702240' id='630174'>
<a class='timestamp' href='#630174'><time timestamp='2018-09-11T21:44:00Z'>21:44</time></a>
&lt;<span class='nick nick-5'> jarthur</span>&gt;
libevent uses defines to figure out what&#x27;s available, final decision on what to use made at runtime. Python does something similar.
<br>
</div>

<div class='talk op-msg' data-timestamp='1536702300' id='630175'>
<a class='timestamp' href='#630175'><time timestamp='2018-09-11T21:45:00Z'>21:45</time></a>
&lt;<span class='nick nick-5'> jarthur</span>&gt;
<a href="https://github.com/libevent/libevent/blob/29cc8386a2f7911eaa9336692a2c5544d8b4734f/event.c#L77" class="link" target="_blank">https://github.com/libevent/libevent/blob/29cc8386a2f7911eaa9336692a2c5544d8b4734f/event.c#L77</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1536703620' id='630176'>
<a class='timestamp' href='#630176'><time timestamp='2018-09-11T22:07:00Z'>22:07</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
jarthur, good info
<br>
</div>

<div class='talk op-msg' data-timestamp='1536703740' id='630177'>
<a class='timestamp' href='#630177'><time timestamp='2018-09-11T22:09:00Z'>22:09</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
right now i have have an #ifndef WIN32 #define HAVE_POLL
<br>
</div>

<div class='talk op-msg' data-timestamp='1536703740' id='630178'>
<a class='timestamp' href='#630178'><time timestamp='2018-09-11T22:09:00Z'>22:09</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
but that&#x27;s obviously not exactly right..
<br>
</div>

<div class='talk op-msg' data-timestamp='1536703980' id='630179'>
<a class='timestamp' href='#630179'><time timestamp='2018-09-11T22:13:00Z'>22:13</time></a>
&lt;<span class='nick nick-5'> jarthur</span>&gt;
Python example, compile time - <a href="https://github.com/python/cpython/blob/e2b40f4ce954ea3d35a73541029b2253abd9d245/Modules/selectmodule.c#L1216" class="link" target="_blank">https://github.com/python/cpython/blob/e2b40f4ce954ea3d35a73541029b2253abd9d245/Modules/selectmodule.c#L1216</a> -- run time <a href="https://github.com/python/cpython/blob/3.7/Lib/selectors.py" class="link" target="_blank">https://github.com/python/cpython/blob/3.7/Lib/selectors.py</a>
<br>
</div>

</div>
</section>

</body>
</html>
