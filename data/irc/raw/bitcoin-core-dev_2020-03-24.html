<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2020-03-24
 â€” 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2020-03-24' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:18 UTC</pre>
<pre><a href="/bitcoin-core-dev/2020-02-24">&lt;</a><span class='header'>    March 2020    </span><a href="/bitcoin-core-dev/2020-04-24">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A; <a class="" href="/bitcoin-core-dev/2020-03-01">1</a>  <a class="" href="/bitcoin-core-dev/2020-03-02">2</a>  <a class="" href="/bitcoin-core-dev/2020-03-03">3</a>  <a class="" href="/bitcoin-core-dev/2020-03-04">4</a>  <a class="" href="/bitcoin-core-dev/2020-03-05">5</a>  <a class="" href="/bitcoin-core-dev/2020-03-06">6</a>  <a class="" href="/bitcoin-core-dev/2020-03-07">7</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2020-03-08">8</a>  <a class="" href="/bitcoin-core-dev/2020-03-09">9</a> <a class="" href="/bitcoin-core-dev/2020-03-10">10</a> <a class="" href="/bitcoin-core-dev/2020-03-11">11</a> <a class="" href="/bitcoin-core-dev/2020-03-12">12</a> <a class="" href="/bitcoin-core-dev/2020-03-13">13</a> <a class="" href="/bitcoin-core-dev/2020-03-14">14</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2020-03-15">15</a> <a class="" href="/bitcoin-core-dev/2020-03-16">16</a> <a class="" href="/bitcoin-core-dev/2020-03-17">17</a> <a class="" href="/bitcoin-core-dev/2020-03-18">18</a> <a class="" href="/bitcoin-core-dev/2020-03-19">19</a> <a class="" href="/bitcoin-core-dev/2020-03-20">20</a> <a class="" href="/bitcoin-core-dev/2020-03-21">21</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2020-03-22">22</a> <a class="" href="/bitcoin-core-dev/2020-03-23">23</a> <a class="current" href="/bitcoin-core-dev/2020-03-24">24</a> <a class="" href="/bitcoin-core-dev/2020-03-25">25</a> <a class="" href="/bitcoin-core-dev/2020-03-26">26</a> <a class="" href="/bitcoin-core-dev/2020-03-27">27</a> <a class="" href="/bitcoin-core-dev/2020-03-28">28</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2020-03-29">29</a> <a class="" href="/bitcoin-core-dev/2020-03-30">30</a> <a class="" href="/bitcoin-core-dev/2020-03-31">31</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1585017420' id='379561'>
<a class='timestamp' href='#379561'><time timestamp='2020-03-24T02:37:00Z'>02:37</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] 21143875584 opened pull request #18414: Create main.yml (master...patch-3) <a href="https://github.com/bitcoin/bitcoin/pull/18414" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/18414</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1585017420' id='379562'>
<a class='timestamp' href='#379562'><time timestamp='2020-03-24T02:37:00Z'>02:37</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] fanquake closed pull request #18414: Create main.yml (master...patch-3) <a href="https://github.com/bitcoin/bitcoin/pull/18414" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/18414</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1585021140' id='379563'>
<a class='timestamp' href='#379563'><time timestamp='2020-03-24T03:39:00Z'>03:39</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] kallewoof closed pull request #16411: BIP-325: Signet support (master...signet) <a href="https://github.com/bitcoin/bitcoin/pull/16411" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/16411</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1585025220' id='379564'>
<a class='timestamp' href='#379564'><time timestamp='2020-03-24T04:47:00Z'>04:47</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] fanquake opened pull request #18415: scripts: add MACHO tests to test-security-check.py (master...add_MACHO_to_security_check) <a href="https://github.com/bitcoin/bitcoin/pull/18415" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/18415</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1585031880' id='379565'>
<a class='timestamp' href='#379565'><time timestamp='2020-03-24T06:38:00Z'>06:38</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
What is the reason we store blocks in blk*.dat files in the order they are received and undos in rev*.dat files in height order? This convolutes the code a lot. If we can store in the same order (either receive or height) then some significant simplifications in the code can be done.
<br>
</div>

<div class='talk op-msg' data-timestamp='1585031940' id='379566'>
<a class='timestamp' href='#379566'><time timestamp='2020-03-24T06:39:00Z'>06:39</time></a>
&lt;<span class='nick nick-3'> aj</span>&gt;
they&#x27;re both stored in the order the data is discovered, which minimises having to shuffle the data on disk?
<br>
</div>

<div class='talk op-msg' data-timestamp='1585032060' id='379567'>
<a class='timestamp' href='#379567'><time timestamp='2020-03-24T06:41:00Z'>06:41</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i experimented with 1 file per block/undo early on 
<br>
</div>

<div class='talk op-msg' data-timestamp='1585032060' id='379568'>
<a class='timestamp' href='#379568'><time timestamp='2020-03-24T06:41:00Z'>06:41</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but most filesystems didn&#x27;t deal well with that
<br>
</div>

<div class='talk op-msg' data-timestamp='1585032120' id='379569'>
<a class='timestamp' href='#379569'><time timestamp='2020-03-24T06:42:00Z'>06:42</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
aj: is it the case that we don&#x27;t have the undo for a given block before having all prior blocks?
<br>
</div>

<div class='talk op-msg' data-timestamp='1585032120' id='379570'>
<a class='timestamp' href='#379570'><time timestamp='2020-03-24T06:42:00Z'>06:42</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
vasild: undo data is created when a block is activated
<br>
</div>

<div class='talk op-msg' data-timestamp='1585032120' id='379571'>
<a class='timestamp' href='#379571'><time timestamp='2020-03-24T06:42:00Z'>06:42</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
a block can only be activated once we have its data + its parent is active
<br>
</div>

<div class='talk op-msg' data-timestamp='1585032120' id='379572'>
<a class='timestamp' href='#379572'><time timestamp='2020-03-24T06:42:00Z'>06:42</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
sipa: right, that would be 600k small files
<br>
</div>

<div class='talk op-msg' data-timestamp='1585032180' id='379573'>
<a class='timestamp' href='#379573'><time timestamp='2020-03-24T06:43:00Z'>06:43</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
I see
<br>
</div>

<div class='talk op-msg' data-timestamp='1585032180' id='379574'>
<a class='timestamp' href='#379574'><time timestamp='2020-03-24T06:43:00Z'>06:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
so yes it requires a block + its ancestors
<br>
</div>

<div class='talk op-msg' data-timestamp='1585032240' id='379575'>
<a class='timestamp' href='#379575'><time timestamp='2020-03-24T06:44:00Z'>06:44</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but we only attempt activation in chains that would lead to a new best tip
<br>
</div>

<div class='talk op-msg' data-timestamp='1585032240' id='379576'>
<a class='timestamp' href='#379576'><time timestamp='2020-03-24T06:44:00Z'>06:44</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
so if we want (I am not sure if we do) store block and undo in the same order it means to store both in height order.
<br>
</div>

<div class='talk op-msg' data-timestamp='1585032240' id='379577'>
<a class='timestamp' href='#379577'><time timestamp='2020-03-24T06:44:00Z'>06:44</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
so it&#x27;s possible we download a block and then never activate it
<br>
</div>

<div class='talk op-msg' data-timestamp='1585032240' id='379578'>
<a class='timestamp' href='#379578'><time timestamp='2020-03-24T06:44:00Z'>06:44</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that would mean killing parallel block download
<br>
</div>

<div class='talk op-msg' data-timestamp='1585032300' id='379579'>
<a class='timestamp' href='#379579'><time timestamp='2020-03-24T06:45:00Z'>06:45</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
(which inherently downloads them in non-height order)
<br>
</div>

<div class='talk op-msg' data-timestamp='1585032300' id='379580'>
<a class='timestamp' href='#379580'><time timestamp='2020-03-24T06:45:00Z'>06:45</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
sipa: what about keeping the downloaded blocks with are not connected yet in memory and only send them to disk once we have all prior blocks, together with the undo (both in height order)?
<br>
</div>

<div class='talk op-msg' data-timestamp='1585032360' id='379581'>
<a class='timestamp' href='#379581'><time timestamp='2020-03-24T06:46:00Z'>06:46</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
s/with are/which are/
<br>
</div>

<div class='talk op-msg' data-timestamp='1585032360' id='379582'>
<a class='timestamp' href='#379582'><time timestamp='2020-03-24T06:46:00Z'>06:46</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
vasild: that&#x27;s not very realistic
<br>
</div>

<div class='talk op-msg' data-timestamp='1585032360' id='379583'>
<a class='timestamp' href='#379583'><time timestamp='2020-03-24T06:46:00Z'>06:46</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
except for big machines
<br>
</div>

<div class='talk op-msg' data-timestamp='1585032360' id='379584'>
<a class='timestamp' href='#379584'><time timestamp='2020-03-24T06:46:00Z'>06:46</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
too much memory would be required?
<br>
</div>

<div class='talk op-msg' data-timestamp='1585032420' id='379585'>
<a class='timestamp' href='#379585'><time timestamp='2020-03-24T06:47:00Z'>06:47</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
we download up to 1000 blocks simultaneously
<br>
</div>

<div class='talk op-msg' data-timestamp='1585032420' id='379586'>
<a class='timestamp' href='#379586'><time timestamp='2020-03-24T06:47:00Z'>06:47</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that number can probably be reduced
<br>
</div>

<div class='talk op-msg' data-timestamp='1585032420' id='379587'>
<a class='timestamp' href='#379587'><time timestamp='2020-03-24T06:47:00Z'>06:47</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it&#x27;s too low early on in the chain, and too large later on
<br>
</div>

<div class='talk op-msg' data-timestamp='1585032540' id='379588'>
<a class='timestamp' href='#379588'><time timestamp='2020-03-24T06:49:00Z'>06:49</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i don&#x27;t think this should be a big problem really
<br>
</div>

<div class='talk op-msg' data-timestamp='1585032540' id='379589'>
<a class='timestamp' href='#379589'><time timestamp='2020-03-24T06:49:00Z'>06:49</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
hmm, we can deduce how much memory would have been needed if we look at an existent database where blocks are stored in receive order
<br>
</div>

<div class='talk op-msg' data-timestamp='1585032540' id='379590'>
<a class='timestamp' href='#379590'><time timestamp='2020-03-24T06:49:00Z'>06:49</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i guess
<br>
</div>

<div class='talk op-msg' data-timestamp='1585032600' id='379591'>
<a class='timestamp' href='#379591'><time timestamp='2020-03-24T06:50:00Z'>06:50</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but you can&#x27;t just add gigabytes (or even 100 MB) to the memory footprint
<br>
</div>

<div class='talk op-msg' data-timestamp='1585032600' id='379592'>
<a class='timestamp' href='#379592'><time timestamp='2020-03-24T06:50:00Z'>06:50</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
people configure nodes on small devicez
<br>
</div>

<div class='talk op-msg' data-timestamp='1585032780' id='379593'>
<a class='timestamp' href='#379593'><time timestamp='2020-03-24T06:53:00Z'>06:53</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
If this turns out to be worth exploring, then I guess the download would have a buffer where out of order blocks are stored until being connected and if this buffer grows too much then some blocks evicted from it (maybe highest ones) meaning they would have to be re-downloaded because we couldnt store them in memory and couldn&#x27;t put them on disk
<br>
</div>

<div class='talk op-msg' data-timestamp='1585032780' id='379594'>
<a class='timestamp' href='#379594'><time timestamp='2020-03-24T06:53:00Z'>06:53</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gah
<br>
</div>

<div class='talk op-msg' data-timestamp='1585032780' id='379595'>
<a class='timestamp' href='#379595'><time timestamp='2020-03-24T06:53:00Z'>06:53</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
we did that in 0.9
<br>
</div>

<div class='talk op-msg' data-timestamp='1585032780' id='379596'>
<a class='timestamp' href='#379596'><time timestamp='2020-03-24T06:53:00Z'>06:53</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it was horrible
<br>
</div>

<div class='talk op-msg' data-timestamp='1585032840' id='379597'>
<a class='timestamp' href='#379597'><time timestamp='2020-03-24T06:54:00Z'>06:54</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
you&#x27;d download the same blocks over and over again
<br>
</div>

<div class='talk op-msg' data-timestamp='1585032840' id='379598'>
<a class='timestamp' href='#379598'><time timestamp='2020-03-24T06:54:00Z'>06:54</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
too many re-downloads?
<br>
</div>

<div class='talk op-msg' data-timestamp='1585032840' id='379599'>
<a class='timestamp' href='#379599'><time timestamp='2020-03-24T06:54:00Z'>06:54</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i really don&#x27;t see a reason to change that (i&#x27;m biased, i wrote the parallel block download code...)
<br>
</div>

<div class='talk op-msg' data-timestamp='1585032840' id='379600'>
<a class='timestamp' href='#379600'><time timestamp='2020-03-24T06:54:00Z'>06:54</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
how many blocks were kept in memory before starting eviction?
<br>
</div>

<div class='talk op-msg' data-timestamp='1585032900' id='379601'>
<a class='timestamp' href='#379601'><time timestamp='2020-03-24T06:55:00Z'>06:55</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
well, parallel download is a must, I am not saying to kill it
<br>
</div>

<div class='talk op-msg' data-timestamp='1585032900' id='379602'>
<a class='timestamp' href='#379602'><time timestamp='2020-03-24T06:55:00Z'>06:55</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
1000, i think - but the whole block download logic was a bunch of hacks ducktaped together back then
<br>
</div>

<div class='talk op-msg' data-timestamp='1585032900' id='379603'>
<a class='timestamp' href='#379603'><time timestamp='2020-03-24T06:55:00Z'>06:55</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it&#x27;s unfair to compare it to anything you&#x27;re suggesting now
<br>
</div>

<div class='talk op-msg' data-timestamp='1585032960' id='379604'>
<a class='timestamp' href='#379604'><time timestamp='2020-03-24T06:56:00Z'>06:56</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but i also don&#x27;t see a good motivation for changing the order
<br>
</div>

<div class='talk op-msg' data-timestamp='1585032960' id='379605'>
<a class='timestamp' href='#379605'><time timestamp='2020-03-24T06:56:00Z'>06:56</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
we could just reorder the undo data in files whenever needed too by rewriting them
<br>
</div>

<div class='talk op-msg' data-timestamp='1585032960' id='379606'>
<a class='timestamp' href='#379606'><time timestamp='2020-03-24T06:56:00Z'>06:56</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
ok, two key points from the above discussion - 1. we can&#x27;t write undo in receive order and 2. there is no strict reason to store blocks in receive order - it is being done to ease parallel download.
<br>
</div>

<div class='talk op-msg' data-timestamp='1585033020' id='379607'>
<a class='timestamp' href='#379607'><time timestamp='2020-03-24T06:57:00Z'>06:57</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
except that&#x27;d be much harder than just fixing the flushing logi  
<br>
</div>

<div class='talk op-msg' data-timestamp='1585033020' id='379608'>
<a class='timestamp' href='#379608'><time timestamp='2020-03-24T06:57:00Z'>06:57</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
well, they&#x27;re stored in order to avoid needing to rewrite things
<br>
</div>

<div class='talk op-msg' data-timestamp='1585033020' id='379609'>
<a class='timestamp' href='#379609'><time timestamp='2020-03-24T06:57:00Z'>06:57</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it&#x27;s just the easiest thing to do
<br>
</div>

<div class='talk op-msg' data-timestamp='1585033080' id='379610'>
<a class='timestamp' href='#379610'><time timestamp='2020-03-24T06:58:00Z'>06:58</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
to rewrite things you mean rewrite the source code or data on disk? :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1585033140' id='379611'>
<a class='timestamp' href='#379611'><time timestamp='2020-03-24T06:59:00Z'>06:59</time></a>
&lt;<span class='nick nick-3'> aj</span>&gt;
data on disk
<br>
</div>

<div class='talk op-msg' data-timestamp='1585033140' id='379612'>
<a class='timestamp' href='#379612'><time timestamp='2020-03-24T06:59:00Z'>06:59</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
if we buffer blocks and store them in height order on disk then nothing will be rewritten on disk?
<br>
</div>

<div class='talk op-msg' data-timestamp='1585033140' id='379613'>
<a class='timestamp' href='#379613'><time timestamp='2020-03-24T06:59:00Z'>06:59</time></a>
&lt;<span class='nick nick-3'> aj</span>&gt;
if you buffer them on disk, you&#x27;ll be rewriting them; if you buffer them in ram, you&#x27;re adding 100M-1G of extra ram which is unreasonable
<br>
</div>

<div class='talk op-msg' data-timestamp='1585033200' id='379614'>
<a class='timestamp' href='#379614'><time timestamp='2020-03-24T07:00:00Z'>07:00</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
I am talking about buffering in ram. Buffering on disk makes no sense to me.
<br>
</div>

<div class='talk op-msg' data-timestamp='1585033260' id='379615'>
<a class='timestamp' href='#379615'><time timestamp='2020-03-24T07:01:00Z'>07:01</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
buffering in ram makes no sense to me
<br>
</div>

<div class='talk op-msg' data-timestamp='1585033260' id='379616'>
<a class='timestamp' href='#379616'><time timestamp='2020-03-24T07:01:00Z'>07:01</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it&#x27;s not data we likely ever need
<br>
</div>

<div class='talk op-msg' data-timestamp='1585033380' id='379617'>
<a class='timestamp' href='#379617'><time timestamp='2020-03-24T07:03:00Z'>07:03</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
Maybe I would write a tool to analyze an existent blk/rev database and it would show max peak buffer size for that database, if it was downloaded in a way that out of order blocks are buffered in ram.
<br>
</div>

<div class='talk op-msg' data-timestamp='1585033500' id='379618'>
<a class='timestamp' href='#379618'><time timestamp='2020-03-24T07:05:00Z'>07:05</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
the max peak buffer size is 4 GB
<br>
</div>

<div class='talk op-msg' data-timestamp='1585033500' id='379619'>
<a class='timestamp' href='#379619'><time timestamp='2020-03-24T07:05:00Z'>07:05</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
1000 blocks @ 4 MB/block
<br>
</div>

<div class='talk op-msg' data-timestamp='1585033500' id='379620'>
<a class='timestamp' href='#379620'><time timestamp='2020-03-24T07:05:00Z'>07:05</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
but it feels like the similification of writing block and undo in the same order will come at a cost - complicating parallel block download with buffering out of order blocks.
<br>
</div>

<div class='talk op-msg' data-timestamp='1585033620' id='379621'>
<a class='timestamp' href='#379621'><time timestamp='2020-03-24T07:07:00Z'>07:07</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
ok, sipa, aj, thanks for the explanations!
<br>
</div>

<div class='talk op-msg' data-timestamp='1585034640' id='379622'>
<a class='timestamp' href='#379622'><time timestamp='2020-03-24T07:24:00Z'>07:24</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
vasild: yw!
<br>
</div>

<div class='talk op-msg' data-timestamp='1585035420' id='379623'>
<a class='timestamp' href='#379623'><time timestamp='2020-03-24T07:37:00Z'>07:37</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] pierreN opened pull request #18416: Prevent num op overflows in ParseScript() helper (master...fix-parsescript-numop-overflow) <a href="https://github.com/bitcoin/bitcoin/pull/18416" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/18416</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1585056120' id='379624'>
<a class='timestamp' href='#379624'><time timestamp='2020-03-24T13:22:00Z'>13:22</time></a>
&lt;<span class='nick nick-8'> fjahr</span>&gt;
sipa: when you looked into single block *.blk files did you also think about concatenating these to a larger file at a certain depth? At least there would not be too many small files or were there other issues caused by the file system? Just curious.
<br>
</div>

<div class='talk op-msg' data-timestamp='1585057500' id='379625'>
<a class='timestamp' href='#379625'><time timestamp='2020-03-24T13:45:00Z'>13:45</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] practicalswift opened pull request #18417: tests: Add fuzzing harnesses for functions in addrdb.h, net_permissions.h and timedata.h (master...fuzzers-misc) <a href="https://github.com/bitcoin/bitcoin/pull/18417" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/18417</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1585062780' id='379626'>
<a class='timestamp' href='#379626'><time timestamp='2020-03-24T15:13:00Z'>15:13</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] fjahr opened pull request #18418: wallet: Increase OUTPUT_GROUP_MAX_ENTRIES to 100 (master...groups100) <a href="https://github.com/bitcoin/bitcoin/pull/18418" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/18418</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1585062840' id='379627'>
<a class='timestamp' href='#379627'><time timestamp='2020-03-24T15:14:00Z'>15:14</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke pushed 2 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/ac579ada7e83...98fbb2a1844a" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/ac579ada7e83...98fbb2a1844a</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1585062840' id='379628'>
<a class='timestamp' href='#379628'><time timestamp='2020-03-24T15:14:00Z'>15:14</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 5aab011 Sebastian Falbesoner: test: add unit test for non-standard &quot;scriptsig-not-pushonly&quot; txs
<br>
</div>

<div class='talk op-msg' data-timestamp='1585062840' id='379629'>
<a class='timestamp' href='#379629'><time timestamp='2020-03-24T15:14:00Z'>15:14</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 98fbb2a MarcoFalke: Merge #17720: test: add unit test for non-standard &quot;scriptsig-not-pushonly...
<br>
</div>

<div class='talk op-msg' data-timestamp='1585062840' id='379630'>
<a class='timestamp' href='#379630'><time timestamp='2020-03-24T15:14:00Z'>15:14</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke merged pull request #17720: test: add unit test for non-standard &quot;scriptsig-not-pushonly&quot; txs (master...20191211-test-check-for-non-standard-txs-with-non-push-scriptsig) <a href="https://github.com/bitcoin/bitcoin/pull/17720" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/17720</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1585063260' id='379631'>
<a class='timestamp' href='#379631'><time timestamp='2020-03-24T15:21:00Z'>15:21</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
fjahr: no, i didn&#x27;t
<br>
</div>

<div class='talk op-msg' data-timestamp='1585064160' id='379632'>
<a class='timestamp' href='#379632'><time timestamp='2020-03-24T15:36:00Z'>15:36</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke pushed 4 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/98fbb2a1844a...5236b2e267a5" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/98fbb2a1844a...5236b2e267a5</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1585064160' id='379633'>
<a class='timestamp' href='#379633'><time timestamp='2020-03-24T15:36:00Z'>15:36</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master a8695db practicalswift: tests: Add fuzzing harness for functions in addrdb.h
<br>
</div>

<div class='talk op-msg' data-timestamp='1585064160' id='379634'>
<a class='timestamp' href='#379634'><time timestamp='2020-03-24T15:36:00Z'>15:36</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 43ff0d9 practicalswift: tests: Add fuzzing harness for functions in timedata.h
<br>
</div>

<div class='talk op-msg' data-timestamp='1585064160' id='379635'>
<a class='timestamp' href='#379635'><time timestamp='2020-03-24T15:36:00Z'>15:36</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 4308aa6 practicalswift: tests: Add fuzzing harness for functions in net_permissions.h
<br>
</div>

<div class='talk op-msg' data-timestamp='1585064220' id='379636'>
<a class='timestamp' href='#379636'><time timestamp='2020-03-24T15:37:00Z'>15:37</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke merged pull request #18417: tests: Add fuzzing harnesses for functions in addrdb.h, net_permissions.h and timedata.h (master...fuzzers-misc) <a href="https://github.com/bitcoin/bitcoin/pull/18417" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/18417</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1585065120' id='379637'>
<a class='timestamp' href='#379637'><time timestamp='2020-03-24T15:52:00Z'>15:52</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jonatack opened pull request #18420: test: listsinceblock block height checks (master...listsinceblock-block-height-checks) <a href="https://github.com/bitcoin/bitcoin/pull/18420" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/18420</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1585065480' id='379638'>
<a class='timestamp' href='#379638'><time timestamp='2020-03-24T15:58:00Z'>15:58</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] naumenkogs opened pull request #18421: Periodically update DNS caches for better privacy of non reachable-nodes (master...2020_03_dns_cache_update) <a href="https://github.com/bitcoin/bitcoin/pull/18421" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/18421</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1585068120' id='379639'>
<a class='timestamp' href='#379639'><time timestamp='2020-03-24T16:42:00Z'>16:42</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
is anyone else missing bitcoin/bitcoin on the travis.org sidebar (under My Repositories)?
<br>
</div>

<div class='talk op-msg' data-timestamp='1585068420' id='379640'>
<a class='timestamp' href='#379640'><time timestamp='2020-03-24T16:47:00Z'>16:47</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
oh, it looks like i&#x27;ve lost access to our travis stuff. no longer have the option to restart things. also lost access to HWI&#x27;s travis
<br>
</div>

<div class='talk op-msg' data-timestamp='1585069080' id='379641'>
<a class='timestamp' href='#379641'><time timestamp='2020-03-24T16:58:00Z'>16:58</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jnewbery opened pull request #18422: [consensus] MOVEONLY: Move single-sig checking EvalScript code to EvalChecksig (master...2020-03-evalchecksig) <a href="https://github.com/bitcoin/bitcoin/pull/18422" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/18422</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1585069740' id='379642'>
<a class='timestamp' href='#379642'><time timestamp='2020-03-24T17:09:00Z'>17:09</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] practicalswift opened pull request #18423: tests: Add fuzzing harness for classes/functions in blockfilter.h. Add integer {de,}serialization fuzzing. (master...fuzzers-misc-2) <a href="https://github.com/bitcoin/bitcoin/pull/18423" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/18423</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1585074780' id='379643'>
<a class='timestamp' href='#379643'><time timestamp='2020-03-24T18:33:00Z'>18:33</time></a>
&lt;<span class='nick nick-12'> ryanofsky</span>&gt;
I also lost travis access. related: anybody seen &quot;Mempool sync timed out&quot; from mempool_reorg.py? <a href="https://travis-ci.org/github/bitcoin/bitcoin/jobs/666384343" class="link" target="_blank">https://travis-ci.org/github/bitcoin/bitcoin/jobs/666384343</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1585074840' id='379644'>
<a class='timestamp' href='#379644'><time timestamp='2020-03-24T18:34:00Z'>18:34</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ryanofsky: yeah i&#x27;ve seen that a few times the past few days
<br>
</div>

<div class='talk op-msg' data-timestamp='1585074900' id='379645'>
<a class='timestamp' href='#379645'><time timestamp='2020-03-24T18:35:00Z'>18:35</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i&#x27;m still able to restart travis jobs it seems
<br>
</div>

<div class='talk op-msg' data-timestamp='1585075440' id='379646'>
<a class='timestamp' href='#379646'><time timestamp='2020-03-24T18:44:00Z'>18:44</time></a>
&lt;<span class='nick nick-12'> ryanofsky</span>&gt;
Thanks, signing out and in fixed it on my end too, also found <a href="https://www.traviscistatus.com/incidents/ntxbkxt8lrx9" class="link" target="_blank">https://www.traviscistatus.com/incidents/ntxbkxt8lrx9</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1585075620' id='379647'>
<a class='timestamp' href='#379647'><time timestamp='2020-03-24T18:47:00Z'>18:47</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
looks like i still have access to travis for bitcoin/bitcoin
<br>
</div>

<div class='talk op-msg' data-timestamp='1585078740' id='379648'>
<a class='timestamp' href='#379648'><time timestamp='2020-03-24T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
logging out and back in did not fix it for me
<br>
</div>

<div class='talk op-msg' data-timestamp='1585083420' id='379649'>
<a class='timestamp' href='#379649'><time timestamp='2020-03-24T20:57:00Z'>20:57</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] hebasto opened pull request #18424: qt: Use parent-child relation to manage lifetime of OptionsModel object (master...20200324-options-model) <a href="https://github.com/bitcoin/bitcoin/pull/18424" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/18424</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1585083540' id='379650'>
<a class='timestamp' href='#379650'><time timestamp='2020-03-24T20:59:00Z'>20:59</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] achow101 opened pull request #18425: releases: Update with new Windows code signing certificate (master...win-cert-3-20) <a href="https://github.com/bitcoin/bitcoin/pull/18425" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/18425</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1585088400' id='379651'>
<a class='timestamp' href='#379651'><time timestamp='2020-03-24T22:20:00Z'>22:20</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] theStack opened pull request #18426: scripts: previous_release: improve behaviour on failed download (master...20200324-scripts-previous-release-show-error-message-if-download-fails) <a href="https://github.com/bitcoin/bitcoin/pull/18426" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/18426</a>
<br>
</div>

</div>
</section>

</body>
</html>
