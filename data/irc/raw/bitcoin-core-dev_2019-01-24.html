<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2019-01-24
 — 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2019-01-24' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:20 UTC</pre>
<pre><a href="/bitcoin-core-dev/2018-12-24">&lt;</a><span class='header'>   January 2019   </span><a href="/bitcoin-core-dev/2019-02-24">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;       <a class="" href="/bitcoin-core-dev/2019-01-01">1</a>  <a class="" href="/bitcoin-core-dev/2019-01-02">2</a>  <a class="" href="/bitcoin-core-dev/2019-01-03">3</a>  <a class="" href="/bitcoin-core-dev/2019-01-04">4</a>  <a class="" href="/bitcoin-core-dev/2019-01-05">5</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2019-01-06">6</a>  <a class="" href="/bitcoin-core-dev/2019-01-07">7</a>  <a class="" href="/bitcoin-core-dev/2019-01-08">8</a>  <a class="" href="/bitcoin-core-dev/2019-01-09">9</a> <a class="" href="/bitcoin-core-dev/2019-01-10">10</a> <a class="" href="/bitcoin-core-dev/2019-01-11">11</a> <a class="" href="/bitcoin-core-dev/2019-01-12">12</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2019-01-13">13</a> <a class="" href="/bitcoin-core-dev/2019-01-14">14</a> <a class="" href="/bitcoin-core-dev/2019-01-15">15</a> <a class="" href="/bitcoin-core-dev/2019-01-16">16</a> <a class="" href="/bitcoin-core-dev/2019-01-17">17</a> <a class="" href="/bitcoin-core-dev/2019-01-18">18</a> <a class="" href="/bitcoin-core-dev/2019-01-19">19</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2019-01-20">20</a> <a class="" href="/bitcoin-core-dev/2019-01-21">21</a> <a class="" href="/bitcoin-core-dev/2019-01-22">22</a> <a class="" href="/bitcoin-core-dev/2019-01-23">23</a> <a class="current" href="/bitcoin-core-dev/2019-01-24">24</a> <a class="" href="/bitcoin-core-dev/2019-01-25">25</a> <a class="" href="/bitcoin-core-dev/2019-01-26">26</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2019-01-27">27</a> <a class="" href="/bitcoin-core-dev/2019-01-28">28</a> <a class="" href="/bitcoin-core-dev/2019-01-29">29</a> <a class="" href="/bitcoin-core-dev/2019-01-30">30</a> <a class="" href="/bitcoin-core-dev/2019-01-31">31</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1548301620' id='649688'>
<a class='timestamp' href='#649688'><time timestamp='2019-01-24T03:47:00Z'>03:47</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
descriptor question: is pkh([&lt;fingerprint&gt;/44&#x27;/0&#x27;/0&#x27;]&lt;xpub&gt;/1/*) equivalent to pkh(&lt;xpub&gt;/44&#x27;/0&#x27;/0&#x27;/1/*)?
<br>
</div>

<div class='talk op-msg' data-timestamp='1548301620' id='649689'>
<a class='timestamp' href='#649689'><time timestamp='2019-01-24T03:47:00Z'>03:47</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sipa ^
<br>
</div>

<div class='talk op-msg' data-timestamp='1548301680' id='649690'>
<a class='timestamp' href='#649690'><time timestamp='2019-01-24T03:48:00Z'>03:48</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
or does the xpub represent the key at /44&#x27;/0&#x27;/0&#x27;?
<br>
</div>

<div class='talk op-msg' data-timestamp='1548302520' id='649691'>
<a class='timestamp' href='#649691'><time timestamp='2019-01-24T04:02:00Z'>04:02</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
xpub represents the key are 44&#x27;/0&#x27;/0&#x27;
<br>
</div>

<div class='talk op-msg' data-timestamp='1548302520' id='649692'>
<a class='timestamp' href='#649692'><time timestamp='2019-01-24T04:02:00Z'>04:02</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but if so, they&#x27;re equivalent
<br>
</div>

<div class='talk op-msg' data-timestamp='1548308760' id='649693'>
<a class='timestamp' href='#649693'><time timestamp='2019-01-24T05:46:00Z'>05:46</time></a>
&lt;<span class='nick nick-14'> hebasto</span>&gt;
fanquake: hi, would you mind reviewing #13998?
<br>
</div>

<div class='talk op-msg' data-timestamp='1548308760' id='649694'>
<a class='timestamp' href='#649694'><time timestamp='2019-01-24T05:46:00Z'>05:46</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/13998" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/13998</a> | Scripts and tools: gitian-build.py improvements and corrections by hebasto · Pull Request #13998 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1548310140' id='649695'>
<a class='timestamp' href='#649695'><time timestamp='2019-01-24T06:09:00Z'>06:09</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sipa: so the [&lt;fingerprint&gt;/44&#x27;/0&#x27;/0&#x27;] part is pure metadata that is irrelevant to the child-key-derivation / script derivation?
<br>
</div>

<div class='talk op-msg' data-timestamp='1548310260' id='649696'>
<a class='timestamp' href='#649696'><time timestamp='2019-01-24T06:11:00Z'>06:11</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1548310800' id='649697'>
<a class='timestamp' href='#649697'><time timestamp='2019-01-24T06:20:00Z'>06:20</time></a>
&lt;<span class='nick nick-16'> gkrizek</span>&gt;
wumpus #15196 should be ready to merge
<br>
</div>

<div class='talk op-msg' data-timestamp='1548310800' id='649698'>
<a class='timestamp' href='#649698'><time timestamp='2019-01-24T06:20:00Z'>06:20</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/15196" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/15196</a> | [test]: Update all subprocess.check_output functions to be Python 3.4 compatible by gkrizek · Pull Request #15196 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1548312240' id='649699'>
<a class='timestamp' href='#649699'><time timestamp='2019-01-24T06:44:00Z'>06:44</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jonasschnelli pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/82cf6813a4ef...73a6bac9fffa" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/82cf6813a4ef...73a6bac9fffa</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1548312240' id='649700'>
<a class='timestamp' href='#649700'><time timestamp='2019-01-24T06:44:00Z'>06:44</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master fdf82ba Graham Krizek: Update all subprocess.check_output functions in CI scripts to be Python 3.4 compatible...
<br>
</div>

<div class='talk op-msg' data-timestamp='1548312240' id='649701'>
<a class='timestamp' href='#649701'><time timestamp='2019-01-24T06:44:00Z'>06:44</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 73a6bac Jonas Schnelli: Merge #15196: [test]: Update all subprocess.check_output functions to be Python 3.4 compatible...
<br>
</div>

<div class='talk op-msg' data-timestamp='1548312300' id='649702'>
<a class='timestamp' href='#649702'><time timestamp='2019-01-24T06:45:00Z'>06:45</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jonasschnelli closed pull request #15196: [test]: Update all subprocess.check_output functions to be Python 3.4 compatible (master...cron-ci-fix) <a href="https://github.com/bitcoin/bitcoin/pull/15196" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/15196</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1548312540' id='649703'>
<a class='timestamp' href='#649703'><time timestamp='2019-01-24T06:49:00Z'>06:49</time></a>
&lt;<span class='nick nick-16'> gkrizek</span>&gt;
Thanks jonasschnelli
<br>
</div>

<div class='talk op-msg' data-timestamp='1548312540' id='649704'>
<a class='timestamp' href='#649704'><time timestamp='2019-01-24T06:49:00Z'>06:49</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
gkrizek: thanks for the PR
<br>
</div>

<div class='talk op-msg' data-timestamp='1548314460' id='649705'>
<a class='timestamp' href='#649705'><time timestamp='2019-01-24T07:21:00Z'>07:21</time></a>
&lt;<span class='nick nick-14'> * luke-jr</span>&gt;
realises the gitian static binaries don&#x27;t actually work on non-Ubuntu systems -.-
<br>
</div>

<div class='talk op-msg' data-timestamp='1548314460' id='649706'>
<a class='timestamp' href='#649706'><time timestamp='2019-01-24T07:21:00Z'>07:21</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
bitcoin-0.17.1/bin/bitcoin-qt: relocation error: bitcoin-0.17.1/bin/bitcoin-qt: symbol __chk_fail, version GLIBC_2.3.4 not defined in file libc.so.6 with link time reference
<br>
</div>

<div class='talk op-msg' data-timestamp='1548314580' id='649707'>
<a class='timestamp' href='#649707'><time timestamp='2019-01-24T07:23:00Z'>07:23</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
apparently since 2015, which wumpus closed with no explanation? <a href="https://github.com/bitcoin/bitcoin/issues/6628" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/6628</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1548314820' id='649708'>
<a class='timestamp' href='#649708'><time timestamp='2019-01-24T07:27:00Z'>07:27</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
hebasto will do
<br>
</div>

<div class='talk op-msg' data-timestamp='1548315000' id='649709'>
<a class='timestamp' href='#649709'><time timestamp='2019-01-24T07:30:00Z'>07:30</time></a>
&lt;<span class='nick nick-3'> aj</span>&gt;
luke-jr: looks like it was required at one point for lsb compliance <a href="https://refspecs.linuxfoundation.org/LSB_5.0.0/LSB-Core-generic/LSB-Core-generic.html#TBL-LIBC-SYSTE-INTS" class="link" target="_blank">https://refspecs.linuxfoundation.org/LSB_5.0.0/LSB-Core-generic/LSB-Core-generic.html#TBL-LIBC-SYSTE-INTS</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1548316140' id='649710'>
<a class='timestamp' href='#649710'><time timestamp='2019-01-24T07:49:00Z'>07:49</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] kallewoof opened pull request #15241: travis: add --enable-debug macos build (master...travis-enable-debug-macos) <a href="https://github.com/bitcoin/bitcoin/pull/15241" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/15241</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1548317220' id='649711'>
<a class='timestamp' href='#649711'><time timestamp='2019-01-24T08:07:00Z'>08:07</time></a>
&lt;<span class='nick nick-14'> hebasto</span>&gt;
fanquake: thanks
<br>
</div>

<div class='talk op-msg' data-timestamp='1548330780' id='649712'>
<a class='timestamp' href='#649712'><time timestamp='2019-01-24T11:53:00Z'>11:53</time></a>
&lt;<span class='nick nick-8'> IZooo</span>&gt;
Hello ! 
<br>
</div>

<div class='talk op-msg' data-timestamp='1548335880' id='649713'>
<a class='timestamp' href='#649713'><time timestamp='2019-01-24T13:18:00Z'>13:18</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/73a6bac9fffa...5eb32d23841b" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/73a6bac9fffa...5eb32d23841b</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1548335880' id='649714'>
<a class='timestamp' href='#649714'><time timestamp='2019-01-24T13:18:00Z'>13:18</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 5a5ea93 David A. Harding: Doc: add information about security to the JSON-RPC doc
<br>
</div>

<div class='talk op-msg' data-timestamp='1548335880' id='649715'>
<a class='timestamp' href='#649715'><time timestamp='2019-01-24T13:18:00Z'>13:18</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 5eb32d2 Wladimir J. van der Laan: Merge #15223: Doc: add information about security to the JSON-RPC doc...
<br>
</div>

<div class='talk op-msg' data-timestamp='1548335940' id='649716'>
<a class='timestamp' href='#649716'><time timestamp='2019-01-24T13:19:00Z'>13:19</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj closed pull request #15223: Doc: add information about security to the JSON-RPC doc (master...2019-01-rpc-security) <a href="https://github.com/bitcoin/bitcoin/pull/15223" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/15223</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1548336300' id='649717'>
<a class='timestamp' href='#649717'><time timestamp='2019-01-24T13:25:00Z'>13:25</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
achow101: I&#x27;m getting &quot;libc++abi.dylib: terminating with uncaught exception of type std::__1::system_error: mutex lock failed: Invalid argument&quot; in #15225 on startup
<br>
</div>

<div class='talk op-msg' data-timestamp='1548336300' id='649718'>
<a class='timestamp' href='#649718'><time timestamp='2019-01-24T13:25:00Z'>13:25</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/15225" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/15225</a> | GUI: Change the receive button to respond to keypool state changing by achow101 · Pull Request #15225 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1548336360' id='649719'>
<a class='timestamp' href='#649719'><time timestamp='2019-01-24T13:26:00Z'>13:26</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
rebuild does&#x27;t help
<br>
</div>

<div class='talk op-msg' data-timestamp='1548336420' id='649720'>
<a class='timestamp' href='#649720'><time timestamp='2019-01-24T13:27:00Z'>13:27</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
lldb gives &quot;frame #9: 0x000000010033d532 bitcoin-qt`(anonymous namespace)::RNGState::MixExtract(this=0x000000010269af80, out=&quot;&quot;, num=4335447936, hasher=0x00007ffeefbfc4d8, strong_seed=&lt;unavailable&gt;) at random.cpp:355 [opt]&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1548336420' id='649721'>
<a class='timestamp' href='#649721'><time timestamp='2019-01-24T13:27:00Z'>13:27</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/9" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/9</a> | Fix for GUI on Macs and latest wxWidgets by gavinandresen · Pull Request #9 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1548336420' id='649722'>
<a class='timestamp' href='#649722'><time timestamp='2019-01-24T13:27:00Z'>13:27</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
should clear ccache? :/
<br>
</div>

<div class='talk op-msg' data-timestamp='1548339900' id='649723'>
<a class='timestamp' href='#649723'><time timestamp='2019-01-24T14:25:00Z'>14:25</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/5eb32d23841b...72bd4ab867e3" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/5eb32d23841b...72bd4ab867e3</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1548339900' id='649724'>
<a class='timestamp' href='#649724'><time timestamp='2019-01-24T14:25:00Z'>14:25</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master a36d97d Suhas Daftuar: Default -whitelistforcerelay to off
<br>
</div>

<div class='talk op-msg' data-timestamp='1548339900' id='649725'>
<a class='timestamp' href='#649725'><time timestamp='2019-01-24T14:25:00Z'>14:25</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 72bd4ab Wladimir J. van der Laan: Merge #15193: Default -whitelistforcerelay to off...
<br>
</div>

<div class='talk op-msg' data-timestamp='1548339960' id='649726'>
<a class='timestamp' href='#649726'><time timestamp='2019-01-24T14:26:00Z'>14:26</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj closed pull request #15193: Default -whitelistforcerelay to off (master...2019-01-forcerelayoff) <a href="https://github.com/bitcoin/bitcoin/pull/15193" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/15193</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1548341820' id='649727'>
<a class='timestamp' href='#649727'><time timestamp='2019-01-24T14:57:00Z'>14:57</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
wumpus could you block Vant13425, they are spamming at the moment
<br>
</div>

<div class='talk op-msg' data-timestamp='1548341820' id='649728'>
<a class='timestamp' href='#649728'><time timestamp='2019-01-24T14:57:00Z'>14:57</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jnewbery opened pull request #15243: [doc] add notes on release notes (master...release_notes) <a href="https://github.com/bitcoin/bitcoin/pull/15243" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/15243</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1548343140' id='649729'>
<a class='timestamp' href='#649729'><time timestamp='2019-01-24T15:19:00Z'>15:19</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
achow101: sorry, it&#x27;s not your PR, master fails for me. Looks like the problem was introduced in #14955
<br>
</div>

<div class='talk op-msg' data-timestamp='1548343140' id='649730'>
<a class='timestamp' href='#649730'><time timestamp='2019-01-24T15:19:00Z'>15:19</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/14955" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/14955</a> | Switch all RNG code to the built-in PRNG by sipa · Pull Request #14955 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1548343320' id='649731'>
<a class='timestamp' href='#649731'><time timestamp='2019-01-24T15:22:00Z'>15:22</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
promag: there is already an open PR to fix it
<br>
</div>

<div class='talk op-msg' data-timestamp='1548343320' id='649732'>
<a class='timestamp' href='#649732'><time timestamp='2019-01-24T15:22:00Z'>15:22</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
#15223
<br>
</div>

<div class='talk op-msg' data-timestamp='1548343320' id='649733'>
<a class='timestamp' href='#649733'><time timestamp='2019-01-24T15:22:00Z'>15:22</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/15223" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/15223</a> | Doc: add information about security to the JSON-RPC doc by harding · Pull Request #15223 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1548343380' id='649734'>
<a class='timestamp' href='#649734'><time timestamp='2019-01-24T15:23:00Z'>15:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
hmm, no
<br>
</div>

<div class='talk op-msg' data-timestamp='1548343380' id='649735'>
<a class='timestamp' href='#649735'><time timestamp='2019-01-24T15:23:00Z'>15:23</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
15233
<br>
</div>

<div class='talk op-msg' data-timestamp='1548343380' id='649736'>
<a class='timestamp' href='#649736'><time timestamp='2019-01-24T15:23:00Z'>15:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
#15233
<br>
</div>

<div class='talk op-msg' data-timestamp='1548343380' id='649737'>
<a class='timestamp' href='#649737'><time timestamp='2019-01-24T15:23:00Z'>15:23</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/15233" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/15233</a> | Prevent mutex lock fail even if --enable-debug by AkioNak · Pull Request #15233 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1548343440' id='649738'>
<a class='timestamp' href='#649738'><time timestamp='2019-01-24T15:24:00Z'>15:24</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
how come #14955 got merged with this problem?
<br>
</div>

<div class='talk op-msg' data-timestamp='1548343440' id='649739'>
<a class='timestamp' href='#649739'><time timestamp='2019-01-24T15:24:00Z'>15:24</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/14955" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/14955</a> | Switch all RNG code to the built-in PRNG by sipa · Pull Request #14955 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1548343500' id='649740'>
<a class='timestamp' href='#649740'><time timestamp='2019-01-24T15:25:00Z'>15:25</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
provoostenator: I think you test on macos?
<br>
</div>

<div class='talk op-msg' data-timestamp='1548344400' id='649741'>
<a class='timestamp' href='#649741'><time timestamp='2019-01-24T15:40:00Z'>15:40</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
promag: it needs --enable-debug to detect
<br>
</div>

<div class='talk op-msg' data-timestamp='1548344460' id='649742'>
<a class='timestamp' href='#649742'><time timestamp='2019-01-24T15:41:00Z'>15:41</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
right, I have configure with CPPFLAGS=-DDEBUG_LOCKORDER 
<br>
</div>

<div class='talk op-msg' data-timestamp='1548344520' id='649743'>
<a class='timestamp' href='#649743'><time timestamp='2019-01-24T15:42:00Z'>15:42</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
promag: yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1548344520' id='649744'>
<a class='timestamp' href='#649744'><time timestamp='2019-01-24T15:42:00Z'>15:42</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
actually I always have that enabled
<br>
</div>

<div class='talk op-msg' data-timestamp='1548344640' id='649745'>
<a class='timestamp' href='#649745'><time timestamp='2019-01-24T15:44:00Z'>15:44</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
That&#x27;s a good one to use next time, yes. Can we make Travis do that as well?
<br>
</div>

<div class='talk op-msg' data-timestamp='1548344640' id='649746'>
<a class='timestamp' href='#649746'><time timestamp='2019-01-24T15:44:00Z'>15:44</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
it does I think
<br>
</div>

<div class='talk op-msg' data-timestamp='1548344640' id='649747'>
<a class='timestamp' href='#649747'><time timestamp='2019-01-24T15:44:00Z'>15:44</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
it checks lock order
<br>
</div>

<div class='talk op-msg' data-timestamp='1548344700' id='649748'>
<a class='timestamp' href='#649748'><time timestamp='2019-01-24T15:45:00Z'>15:45</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
But Travis didn&#x27;t fail. Is there a test that would catch this?
<br>
</div>

<div class='talk op-msg' data-timestamp='1548344760' id='649749'>
<a class='timestamp' href='#649749'><time timestamp='2019-01-24T15:46:00Z'>15:46</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
travis doesn&#x27;t run osx, does it?
<br>
</div>

<div class='talk op-msg' data-timestamp='1548344820' id='649750'>
<a class='timestamp' href='#649750'><time timestamp='2019-01-24T15:47:00Z'>15:47</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
not sure, looks like this is macos only?
<br>
</div>

<div class='talk op-msg' data-timestamp='1548344820' id='649751'>
<a class='timestamp' href='#649751'><time timestamp='2019-01-24T15:47:00Z'>15:47</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1548344880' id='649752'>
<a class='timestamp' href='#649752'><time timestamp='2019-01-24T15:48:00Z'>15:48</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
I&#x27;ll review the fix
<br>
</div>

<div class='talk op-msg' data-timestamp='1548344940' id='649753'>
<a class='timestamp' href='#649753'><time timestamp='2019-01-24T15:49:00Z'>15:49</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Travis machine 10 cross compiles to bitcoin-x86_64-apple-darwin14, but that only compiles and doesn&#x27;t run tests (obviously).
<br>
</div>

<div class='talk op-msg' data-timestamp='1548345000' id='649754'>
<a class='timestamp' href='#649754'><time timestamp='2019-01-24T15:50:00Z'>15:50</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
There&#x27;s this though: <a href="https://docs.travis-ci.com/user/reference/osx/" class="link" target="_blank">https://docs.travis-ci.com/user/reference/osx/</a> (never tried it)
<br>
</div>

<div class='talk op-msg' data-timestamp='1548345180' id='649755'>
<a class='timestamp' href='#649755'><time timestamp='2019-01-24T15:53:00Z'>15:53</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
ok
<br>
</div>

<div class='talk op-msg' data-timestamp='1548345360' id='649756'>
<a class='timestamp' href='#649756'><time timestamp='2019-01-24T15:56:00Z'>15:56</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
See also #15241
<br>
</div>

<div class='talk op-msg' data-timestamp='1548345360' id='649757'>
<a class='timestamp' href='#649757'><time timestamp='2019-01-24T15:56:00Z'>15:56</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/15241" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/15241</a> | travis: add --enable-debug macos build by kallewoof · Pull Request #15241 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1548350940' id='649758'>
<a class='timestamp' href='#649758'><time timestamp='2019-01-24T17:29:00Z'>17:29</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
did github stop turning commit ids into links?
<br>
</div>

<div class='talk op-msg' data-timestamp='1548350940' id='649759'>
<a class='timestamp' href='#649759'><time timestamp='2019-01-24T17:29:00Z'>17:29</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
seeing a lot of (ut)ACKs with commit ids that stay plain text, see e.g. <a href="https://github.com/bitcoin/bitcoin/pull/15112" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/15112</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1548351720' id='649760'>
<a class='timestamp' href='#649760'><time timestamp='2019-01-24T17:42:00Z'>17:42</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
wumpus: I think that&#x27;s the case when the commit is garbage
<br>
</div>

<div class='talk op-msg' data-timestamp='1548351780' id='649761'>
<a class='timestamp' href='#649761'><time timestamp='2019-01-24T17:43:00Z'>17:43</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
and is no longer available
<br>
</div>

<div class='talk op-msg' data-timestamp='1548351780' id='649762'>
<a class='timestamp' href='#649762'><time timestamp='2019-01-24T17:43:00Z'>17:43</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
there&#x27;s also the case when 7chars is not enough
<br>
</div>

<div class='talk op-msg' data-timestamp='1548351840' id='649763'>
<a class='timestamp' href='#649763'><time timestamp='2019-01-24T17:44:00Z'>17:44</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
enough because there&#x27;s multiple commits with the same 7 initial chars
<br>
</div>

<div class='talk op-msg' data-timestamp='1548352800' id='649764'>
<a class='timestamp' href='#649764'><time timestamp='2019-01-24T18:00:00Z'>18:00</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
promag: I&#x27;m suddenly seeing it a lot though, did everyone suddenly start mispasting commit ids?
<br>
</div>

<div class='talk op-msg' data-timestamp='1548352860' id='649765'>
<a class='timestamp' href='#649765'><time timestamp='2019-01-24T18:01:00Z'>18:01</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
of course I know that a garbage commit ID won&#x27;t be turned into a link
<br>
</div>

<div class='talk op-msg' data-timestamp='1548352920' id='649766'>
<a class='timestamp' href='#649766'><time timestamp='2019-01-24T18:02:00Z'>18:02</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
idk, it must be a gh problem
<br>
</div>

<div class='talk op-msg' data-timestamp='1548353400' id='649767'>
<a class='timestamp' href='#649767'><time timestamp='2019-01-24T18:10:00Z'>18:10</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] instagibbs opened pull request #15244: gdb attaching to process during tests has non-sudo solution (master...gdb_ptrace) <a href="https://github.com/bitcoin/bitcoin/pull/15244" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/15244</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1548356400' id='649768'>
<a class='timestamp' href='#649768'><time timestamp='2019-01-24T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
meeting?
<br>
</div>

<div class='talk op-msg' data-timestamp='1548356400' id='649769'>
<a class='timestamp' href='#649769'><time timestamp='2019-01-24T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1548356400' id='649770'>
<a class='timestamp' href='#649770'><time timestamp='2019-01-24T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1548356400' id='649771'>
<a class='timestamp' href='#649771'><time timestamp='2019-01-24T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1548356400' id='649772'>
<a class='timestamp' href='#649772'><time timestamp='2019-01-24T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
#startmeeting
<br>
</div>

<div class='talk op-msg' data-timestamp='1548356400' id='649773'>
<a class='timestamp' href='#649773'><time timestamp='2019-01-24T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Meeting started Thu Jan 24 19:00:54 2019 UTC.  The chair is wumpus. Information about MeetBot at <a href="http://wiki.debian.org/MeetBot" class="link" target="_blank">http://wiki.debian.org/MeetBot</a>.
<br>
</div>

<div class='talk op-msg' data-timestamp='1548356400' id='649774'>
<a class='timestamp' href='#649774'><time timestamp='2019-01-24T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Useful Commands: #action #agreed #help #info #idea #link #topic.
<br>
</div>

<div class='talk op-msg' data-timestamp='1548356400' id='649775'>
<a class='timestamp' href='#649775'><time timestamp='2019-01-24T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1548356460' id='649776'>
<a class='timestamp' href='#649776'><time timestamp='2019-01-24T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-11'> moneyball</span>&gt;
topic proposed by jnewbery: Chaincode summer residency: looking for (remote) mentors and recommendations for residents
<br>
</div>

<div class='talk op-msg' data-timestamp='1548356460' id='649777'>
<a class='timestamp' href='#649777'><time timestamp='2019-01-24T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
suggested topic: globals and initialization order
<br>
</div>

<div class='talk op-msg' data-timestamp='1548356460' id='649778'>
<a class='timestamp' href='#649778'><time timestamp='2019-01-24T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-15'> promag_</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1548356460' id='649779'>
<a class='timestamp' href='#649779'><time timestamp='2019-01-24T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
#bitcoin-core-dev Meeting: wumpus sipa gmaxwell jonasschnelli morcos luke-jr sdaftuar jtimon cfields petertodd kanzure bluematt instagibbs phantomcircuit codeshark michagogo marcofalke paveljanik NicolasDorier jl2012 achow101 meshcollider jnewbery maaku fanquake promag provoostenator aj Chris_Stewart_5 dongcarl gwillen jamesob ken281221 ryanofsky gleb
<br>
</div>

<div class='talk op-msg' data-timestamp='1548356460' id='649780'>
<a class='timestamp' href='#649780'><time timestamp='2019-01-24T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1548356460' id='649781'>
<a class='timestamp' href='#649781'><time timestamp='2019-01-24T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-3'> meshcollider</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1548356460' id='649782'>
<a class='timestamp' href='#649782'><time timestamp='2019-01-24T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-4'> jamesob</span>&gt;
yo
<br>
</div>

<div class='talk op-msg' data-timestamp='1548356520' id='649783'>
<a class='timestamp' href='#649783'><time timestamp='2019-01-24T19:02:00Z'>19:02</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
\o
<br>
</div>

<div class='talk op-msg' data-timestamp='1548356520' id='649784'>
<a class='timestamp' href='#649784'><time timestamp='2019-01-24T19:02:00Z'>19:02</time></a>
&lt;<span class='nick nick-2'> marcinja</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1548356520' id='649785'>
<a class='timestamp' href='#649785'><time timestamp='2019-01-24T19:02:00Z'>19:02</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
#topic High priority for review
<br>
</div>

<div class='talk op-msg' data-timestamp='1548356580' id='649786'>
<a class='timestamp' href='#649786'><time timestamp='2019-01-24T19:03:00Z'>19:03</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
#11082 #14491 #14711 #14897 #15153 #15226
<br>
</div>

<div class='talk op-msg' data-timestamp='1548356580' id='649787'>
<a class='timestamp' href='#649787'><time timestamp='2019-01-24T19:03:00Z'>19:03</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/11082" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/11082</a> | Add new bitcoin_rw.conf file that is used for settings modified by this software itself by luke-jr · Pull Request #11082 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1548356580' id='649788'>
<a class='timestamp' href='#649788'><time timestamp='2019-01-24T19:03:00Z'>19:03</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/14491" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/14491</a> | Allow descriptor imports with importmulti by MeshCollider · Pull Request #14491 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1548356580' id='649789'>
<a class='timestamp' href='#649789'><time timestamp='2019-01-24T19:03:00Z'>19:03</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/14711" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/14711</a> | Remove uses of chainActive and mapBlockIndex in wallet code by ryanofsky · Pull Request #14711 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1548356580' id='649790'>
<a class='timestamp' href='#649790'><time timestamp='2019-01-24T19:03:00Z'>19:03</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/14897" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/14897</a> | randomize GETDATA(tx) request order and introduce bias toward outbound by naumenkogs · Pull Request #14897 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1548356580' id='649791'>
<a class='timestamp' href='#649791'><time timestamp='2019-01-24T19:03:00Z'>19:03</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/15153" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/15153</a> | gui: Add Open Wallet menu by promag · Pull Request #15153 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1548356580' id='649792'>
<a class='timestamp' href='#649792'><time timestamp='2019-01-24T19:03:00Z'>19:03</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/15226" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/15226</a> | Allow creating blank (empty) wallets (alternative) by achow101 · Pull Request #15226 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1548356580' id='649793'>
<a class='timestamp' href='#649793'><time timestamp='2019-01-24T19:03:00Z'>19:03</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
anything to be added or removed?
<br>
</div>

<div class='talk op-msg' data-timestamp='1548356640' id='649794'>
<a class='timestamp' href='#649794'><time timestamp='2019-01-24T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
can I have #15225 on hi prio?
<br>
</div>

<div class='talk op-msg' data-timestamp='1548356640' id='649795'>
<a class='timestamp' href='#649795'><time timestamp='2019-01-24T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/15225" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/15225</a> | GUI: Change the receive button to respond to keypool state changing by achow101 · Pull Request #15225 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1548356640' id='649796'>
<a class='timestamp' href='#649796'><time timestamp='2019-01-24T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
regarding open wallet menu - there are concerns regarding blocking GUI - is this something to avoid or can it be improved in 0.18.1?
<br>
</div>

<div class='talk op-msg' data-timestamp='1548356640' id='649797'>
<a class='timestamp' href='#649797'><time timestamp='2019-01-24T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-4'> jamesob</span>&gt;
#15118
<br>
</div>

<div class='talk op-msg' data-timestamp='1548356640' id='649798'>
<a class='timestamp' href='#649798'><time timestamp='2019-01-24T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/15118" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/15118</a> | Refactor block file logic by jimpo · Pull Request #15118 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1548356640' id='649799'>
<a class='timestamp' href='#649799'><time timestamp='2019-01-24T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
it&#x27;s actually a blocker for 15226
<br>
</div>

<div class='talk op-msg' data-timestamp='1548356700' id='649800'>
<a class='timestamp' href='#649800'><time timestamp='2019-01-24T19:05:00Z'>19:05</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
14711 should be almost mergeable
<br>
</div>

<div class='talk op-msg' data-timestamp='1548356700' id='649801'>
<a class='timestamp' href='#649801'><time timestamp='2019-01-24T19:05:00Z'>19:05</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
+1 for #15118. It blocks #14121
<br>
</div>

<div class='talk op-msg' data-timestamp='1548356700' id='649802'>
<a class='timestamp' href='#649802'><time timestamp='2019-01-24T19:05:00Z'>19:05</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/15118" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/15118</a> | Refactor block file logic by jimpo · Pull Request #15118 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1548356700' id='649803'>
<a class='timestamp' href='#649803'><time timestamp='2019-01-24T19:05:00Z'>19:05</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/14121" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/14121</a> | Index for BIP 157 block filters by jimpo · Pull Request #14121 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1548356700' id='649804'>
<a class='timestamp' href='#649804'><time timestamp='2019-01-24T19:05:00Z'>19:05</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
though promag keeps commenting so I&#x27;m not sure xD
<br>
</div>

<div class='talk op-msg' data-timestamp='1548356700' id='649805'>
<a class='timestamp' href='#649805'><time timestamp='2019-01-24T19:05:00Z'>19:05</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
I am hoping for movement on #13932 but I think it needs love from achow101 more than review at present
<br>
</div>

<div class='talk op-msg' data-timestamp='1548356700' id='649806'>
<a class='timestamp' href='#649806'><time timestamp='2019-01-24T19:05:00Z'>19:05</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/13932" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/13932</a> | Additional utility RPCs for PSBT by achow101 · Pull Request #13932 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1548356700' id='649807'>
<a class='timestamp' href='#649807'><time timestamp='2019-01-24T19:05:00Z'>19:05</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
gwillen: oh yeah, I forgot to update that
<br>
</div>

<div class='talk op-msg' data-timestamp='1548356760' id='649808'>
<a class='timestamp' href='#649808'><time timestamp='2019-01-24T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
wumpus: :(
<br>
</div>

<div class='talk op-msg' data-timestamp='1548356760' id='649809'>
<a class='timestamp' href='#649809'><time timestamp='2019-01-24T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
achow101: lmk if there&#x27;s any way I can help!
<br>
</div>

<div class='talk op-msg' data-timestamp='1548356820' id='649810'>
<a class='timestamp' href='#649810'><time timestamp='2019-01-24T19:07:00Z'>19:07</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
promag: I don&#x27;t mean that negatively! if there&#x27;s issues there&#x27;s issues no matter <b>*when*</b> you find them, just mean it postpones the merge if there&#x27;s new review comments
<br>
</div>

<div class='talk op-msg' data-timestamp='1548356820' id='649811'>
<a class='timestamp' href='#649811'><time timestamp='2019-01-24T19:07:00Z'>19:07</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
ok added #15225  #15118
<br>
</div>

<div class='talk op-msg' data-timestamp='1548356880' id='649812'>
<a class='timestamp' href='#649812'><time timestamp='2019-01-24T19:08:00Z'>19:08</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/15225" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/15225</a> | GUI: Change the receive button to respond to keypool state changing by achow101 · Pull Request #15225 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1548356880' id='649813'>
<a class='timestamp' href='#649813'><time timestamp='2019-01-24T19:08:00Z'>19:08</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/15118" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/15118</a> | Refactor block file logic by jimpo · Pull Request #15118 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1548356880' id='649814'>
<a class='timestamp' href='#649814'><time timestamp='2019-01-24T19:08:00Z'>19:08</time></a>
&lt;<span class='nick nick-4'> jamesob</span>&gt;
wumpus: thanks
<br>
</div>

<div class='talk op-msg' data-timestamp='1548356880' id='649815'>
<a class='timestamp' href='#649815'><time timestamp='2019-01-24T19:08:00Z'>19:08</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
let&#x27;s also try to remove (merge) a few this weke
<br>
</div>

<div class='talk op-msg' data-timestamp='1548356880' id='649816'>
<a class='timestamp' href='#649816'><time timestamp='2019-01-24T19:08:00Z'>19:08</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1548356940' id='649817'>
<a class='timestamp' href='#649817'><time timestamp='2019-01-24T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
8 is kind of a lot to have on the list, and closer to the release the focus shifts to the milestone instead of this list
<br>
</div>

<div class='talk op-msg' data-timestamp='1548357000' id='649818'>
<a class='timestamp' href='#649818'><time timestamp='2019-01-24T19:10:00Z'>19:10</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
#15141 is ready for review again btw
<br>
</div>

<div class='talk op-msg' data-timestamp='1548357000' id='649819'>
<a class='timestamp' href='#649819'><time timestamp='2019-01-24T19:10:00Z'>19:10</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
so 2019-02-01 is string freeze, 2019-02-15 is feature freeze for 0.18
<br>
</div>

<div class='talk op-msg' data-timestamp='1548357000' id='649820'>
<a class='timestamp' href='#649820'><time timestamp='2019-01-24T19:10:00Z'>19:10</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/15141" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/15141</a> | Rewrite DoS interface between validation and net_processing by sdaftuar · Pull Request #15141 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1548357000' id='649821'>
<a class='timestamp' href='#649821'><time timestamp='2019-01-24T19:10:00Z'>19:10</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
oops
<br>
</div>

<div class='talk op-msg' data-timestamp='1548357000' id='649822'>
<a class='timestamp' href='#649822'><time timestamp='2019-01-24T19:10:00Z'>19:10</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
oh, wait i did type that correcly
<br>
</div>

<div class='talk op-msg' data-timestamp='1548357000' id='649823'>
<a class='timestamp' href='#649823'><time timestamp='2019-01-24T19:10:00Z'>19:10</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sdaftuar: cool will review
<br>
</div>

<div class='talk op-msg' data-timestamp='1548357000' id='649824'>
<a class='timestamp' href='#649824'><time timestamp='2019-01-24T19:10:00Z'>19:10</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1548357060' id='649825'>
<a class='timestamp' href='#649825'><time timestamp='2019-01-24T19:11:00Z'>19:11</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
#topic Globals and initialization order (sipa)
<br>
</div>

<div class='talk op-msg' data-timestamp='1548357060' id='649826'>
<a class='timestamp' href='#649826'><time timestamp='2019-01-24T19:11:00Z'>19:11</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
hi!
<br>
</div>

<div class='talk op-msg' data-timestamp='1548357060' id='649827'>
<a class='timestamp' href='#649827'><time timestamp='2019-01-24T19:11:00Z'>19:11</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
we currently have a bit of a mix in the codebase for dealing with initialization order of globals
<br>
</div>

<div class='talk op-msg' data-timestamp='1548357120' id='649828'>
<a class='timestamp' href='#649828'><time timestamp='2019-01-24T19:12:00Z'>19:12</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
some things are explicitly initialized using init functions, called from main/test startup
<br>
</div>

<div class='talk op-msg' data-timestamp='1548357120' id='649829'>
<a class='timestamp' href='#649829'><time timestamp='2019-01-24T19:12:00Z'>19:12</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
some things are initialized just using global initializers
<br>
</div>

<div class='talk op-msg' data-timestamp='1548357180' id='649830'>
<a class='timestamp' href='#649830'><time timestamp='2019-01-24T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and some things are using once/init-on-first-use-block-scoped-statics
<br>
</div>

<div class='talk op-msg' data-timestamp='1548357180' id='649831'>
<a class='timestamp' href='#649831'><time timestamp='2019-01-24T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and mixing them is pretty fragile
<br>
</div>

<div class='talk op-msg' data-timestamp='1548357240' id='649832'>
<a class='timestamp' href='#649832'><time timestamp='2019-01-24T19:14:00Z'>19:14</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I prefer explicit initializer functions unless it&#x27;s simply setting a value, at least it&#x27;s perfectly clear what the order is in which things get initialized
<br>
</div>

<div class='talk op-msg' data-timestamp='1548357240' id='649833'>
<a class='timestamp' href='#649833'><time timestamp='2019-01-24T19:14:00Z'>19:14</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
which is very important if things depend on each other
<br>
</div>

<div class='talk op-msg' data-timestamp='1548357240' id='649834'>
<a class='timestamp' href='#649834'><time timestamp='2019-01-24T19:14:00Z'>19:14</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
also things running before main() is quite annoying for debugging
<br>
</div>

<div class='talk op-msg' data-timestamp='1548357240' id='649835'>
<a class='timestamp' href='#649835'><time timestamp='2019-01-24T19:14:00Z'>19:14</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
the problem is that with explicit initializer functions, things don&#x27;t work when called from global initializer
<br>
</div>

<div class='talk op-msg' data-timestamp='1548357360' id='649836'>
<a class='timestamp' href='#649836'><time timestamp='2019-01-24T19:16:00Z'>19:16</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
(and things that take significant time to run certainly shouldn&#x27;t be called from global initializers, as they&#x27;ll delay showing even, say, the help message, which doesn&#x27;t need any initialization at all)
<br>
</div>

<div class='talk op-msg' data-timestamp='1548357360' id='649837'>
<a class='timestamp' href='#649837'><time timestamp='2019-01-24T19:16:00Z'>19:16</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and i think we actually had a long-standing problem with the RNG, which was used possibly before being initialized (since #14955 it uses an init-on-first use construction, which should always be fine)
<br>
</div>

<div class='talk op-msg' data-timestamp='1548357360' id='649838'>
<a class='timestamp' href='#649838'><time timestamp='2019-01-24T19:16:00Z'>19:16</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/14955" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/14955</a> | Switch all RNG code to the built-in PRNG by sipa · Pull Request #14955 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1548357420' id='649839'>
<a class='timestamp' href='#649839'><time timestamp='2019-01-24T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
anyhow that&#x27;s my opinion on it, I&#x27;m aware the codebase is quite crazy in that regard, we&#x27;ve had initialation order issues since the first release...
<br>
</div>

<div class='talk op-msg' data-timestamp='1548357420' id='649840'>
<a class='timestamp' href='#649840'><time timestamp='2019-01-24T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
sipa: what&#x27;s your preference?
<br>
</div>

<div class='talk op-msg' data-timestamp='1548357420' id='649841'>
<a class='timestamp' href='#649841'><time timestamp='2019-01-24T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
so i&#x27;m getting more and more in favor of using this init-on-first-use construction in more places
<br>
</div>

<div class='talk op-msg' data-timestamp='1548357420' id='649842'>
<a class='timestamp' href='#649842'><time timestamp='2019-01-24T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
meh
<br>
</div>

<div class='talk op-msg' data-timestamp='1548357480' id='649843'>
<a class='timestamp' href='#649843'><time timestamp='2019-01-24T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
since it&#x27;s compatible with everything
<br>
</div>

<div class='talk op-msg' data-timestamp='1548357480' id='649844'>
<a class='timestamp' href='#649844'><time timestamp='2019-01-24T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it&#x27;s hard to reason about
<br>
</div>

<div class='talk op-msg' data-timestamp='1548357480' id='649845'>
<a class='timestamp' href='#649845'><time timestamp='2019-01-24T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-13'> jimpo</span>&gt;
I also like explicit initialization of non-trivial things
<br>
</div>

<div class='talk op-msg' data-timestamp='1548357480' id='649846'>
<a class='timestamp' href='#649846'><time timestamp='2019-01-24T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
accidentally using something before something else will suddenly change the initialization order
<br>
</div>

<div class='talk op-msg' data-timestamp='1548357480' id='649847'>
<a class='timestamp' href='#649847'><time timestamp='2019-01-24T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
instead of just fail
<br>
</div>

<div class='talk op-msg' data-timestamp='1548357480' id='649848'>
<a class='timestamp' href='#649848'><time timestamp='2019-01-24T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
we&#x27;ve seen that with logging, for example
<br>
</div>

<div class='talk op-msg' data-timestamp='1548357480' id='649849'>
<a class='timestamp' href='#649849'><time timestamp='2019-01-24T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that&#x27;s because logging using a global initialized
<br>
</div>

<div class='talk op-msg' data-timestamp='1548357540' id='649850'>
<a class='timestamp' href='#649850'><time timestamp='2019-01-24T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
I&#x27;m in favor of having fewer globals :-) But otherwise haven&#x27;t really developed a preference in C++
<br>
</div>

<div class='talk op-msg' data-timestamp='1548357540' id='649851'>
<a class='timestamp' href='#649851'><time timestamp='2019-01-24T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
I prefer explicit order initialization
<br>
</div>

<div class='talk op-msg' data-timestamp='1548357540' id='649852'>
<a class='timestamp' href='#649852'><time timestamp='2019-01-24T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
initializing on first use also doesn&#x27;t really regard initialization dependencies
<br>
</div>

<div class='talk op-msg' data-timestamp='1548357540' id='649853'>
<a class='timestamp' href='#649853'><time timestamp='2019-01-24T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
wumpus: in a bad way? the only time I can think of order mattering is when we&#x27;re pre-config-files-loaded
<br>
</div>

<div class='talk op-msg' data-timestamp='1548357600' id='649854'>
<a class='timestamp' href='#649854'><time timestamp='2019-01-24T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
wumpus: how so?
<br>
</div>

<div class='talk op-msg' data-timestamp='1548357600' id='649855'>
<a class='timestamp' href='#649855'><time timestamp='2019-01-24T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
like &quot;we need to have the datadirectory set before writing to it&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1548357600' id='649856'>
<a class='timestamp' href='#649856'><time timestamp='2019-01-24T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
(thinking RNG specifically)
<br>
</div>

<div class='talk op-msg' data-timestamp='1548357600' id='649857'>
<a class='timestamp' href='#649857'><time timestamp='2019-01-24T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
oh, i&#x27;m not really talking about application level things
<br>
</div>

<div class='talk op-msg' data-timestamp='1548357660' id='649858'>
<a class='timestamp' href='#649858'><time timestamp='2019-01-24T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
more things like RNG, logging objects (not actually setting the logfile, which happens later), libsecp, ...
<br>
</div>

<div class='talk op-msg' data-timestamp='1548357660' id='649859'>
<a class='timestamp' href='#649859'><time timestamp='2019-01-24T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
syncronization debugging state
<br>
</div>

<div class='talk op-msg' data-timestamp='1548357660' id='649860'>
<a class='timestamp' href='#649860'><time timestamp='2019-01-24T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
if it&#x27;s really only setting a value to a data structure I agree it&#x27;s different, but if there&#x27;s extensive work that might depend on other or OS things, it gets hairy fast
<br>
</div>

<div class='talk op-msg' data-timestamp='1548357660' id='649861'>
<a class='timestamp' href='#649861'><time timestamp='2019-01-24T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
only allocating a data structure on first use is fine...
<br>
</div>

<div class='talk op-msg' data-timestamp='1548357720' id='649862'>
<a class='timestamp' href='#649862'><time timestamp='2019-01-24T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
It&#x27;s also important to avoid undefined behavior over and above just avoiding doing the wrong thing. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1548357720' id='649863'>
<a class='timestamp' href='#649863'><time timestamp='2019-01-24T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
basically the RNG right now can&#x27;t use the SHA module, because the RNG is invoked from global constructors (and it works fine with it), and SHA needs explicit initialzation
<br>
</div>

<div class='talk op-msg' data-timestamp='1548357720' id='649864'>
<a class='timestamp' href='#649864'><time timestamp='2019-01-24T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
but I think we agree that global constructors are bad
<br>
</div>

<div class='talk op-msg' data-timestamp='1548357720' id='649865'>
<a class='timestamp' href='#649865'><time timestamp='2019-01-24T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
that&#x27;s one thing :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1548357780' id='649866'>
<a class='timestamp' href='#649866'><time timestamp='2019-01-24T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
so i think there are two solutions to that... avoid global constructors everywhere, or make everything work fine on first use
<br>
</div>

<div class='talk op-msg' data-timestamp='1548357780' id='649867'>
<a class='timestamp' href='#649867'><time timestamp='2019-01-24T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
(I here mean global constructors as &#x27;runs before main&#x27;, not the static initializers that run on first use)
<br>
</div>

<div class='talk op-msg' data-timestamp='1548357840' id='649868'>
<a class='timestamp' href='#649868'><time timestamp='2019-01-24T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
wumpus: right
<br>
</div>

<div class='talk op-msg' data-timestamp='1548357840' id='649869'>
<a class='timestamp' href='#649869'><time timestamp='2019-01-24T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
wumpus: so what&#x27;s your opinion on solving this particular issue?
<br>
</div>

<div class='talk op-msg' data-timestamp='1548357840' id='649870'>
<a class='timestamp' href='#649870'><time timestamp='2019-01-24T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Or make SHA module&#x27;s autodetect get resolved by the linker, using the GCC extension that does that. :P
<br>
</div>

<div class='talk op-msg' data-timestamp='1548357900' id='649871'>
<a class='timestamp' href='#649871'><time timestamp='2019-01-24T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(doesn&#x27;t address the general question about dependencies between global constructors)
<br>
</div>

<div class='talk op-msg' data-timestamp='1548357900' id='649872'>
<a class='timestamp' href='#649872'><time timestamp='2019-01-24T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
sipa: so move to initialization on first use or explicit initialization, whatever makes sense in the case, move away from global initializers that do anything more significant than assigning a constant value
<br>
</div>

<div class='talk op-msg' data-timestamp='1548357900' id='649873'>
<a class='timestamp' href='#649873'><time timestamp='2019-01-24T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
we can get rid of all globals whose construction needs randomness, but making the SHA256 code autodetect on first use seems a simpler change
<br>
</div>

<div class='talk op-msg' data-timestamp='1548357900' id='649874'>
<a class='timestamp' href='#649874'><time timestamp='2019-01-24T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I really like how you got rid of CInit, for example
<br>
</div>

<div class='talk op-msg' data-timestamp='1548357960' id='649875'>
<a class='timestamp' href='#649875'><time timestamp='2019-01-24T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
The downside of autodetect on first use is that it would make every call to sha256 slightly slower. :(
<br>
</div>

<div class='talk op-msg' data-timestamp='1548357960' id='649876'>
<a class='timestamp' href='#649876'><time timestamp='2019-01-24T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
One way to compensate for that would be make sure that there is a batch sha256 function that does many of them and only does the detection once, and be sure to use it where possible.
<br>
</div>

<div class='talk op-msg' data-timestamp='1548358020' id='649877'>
<a class='timestamp' href='#649877'><time timestamp='2019-01-24T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: hmm?
<br>
</div>

<div class='talk op-msg' data-timestamp='1548358020' id='649878'>
<a class='timestamp' href='#649878'><time timestamp='2019-01-24T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i benchmarked it as a 1.8ns slowdown here to use an on-first-use construction
<br>
</div>

<div class='talk op-msg' data-timestamp='1548358020' id='649879'>
<a class='timestamp' href='#649879'><time timestamp='2019-01-24T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sipa: I assume &#x27;autodetect on first use&#x27; means &quot;Check a synchronized variable every time the function is run&quot;.
<br>
</div>

<div class='talk op-msg' data-timestamp='1548358020' id='649880'>
<a class='timestamp' href='#649880'><time timestamp='2019-01-24T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: nope!
<br>
</div>

<div class='talk op-msg' data-timestamp='1548358080' id='649881'>
<a class='timestamp' href='#649881'><time timestamp='2019-01-24T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it actually compiles to both a synchronized and unsynchronized variable, and in the initialized case, only the latter is checked
<br>
</div>

<div class='talk op-msg' data-timestamp='1548358080' id='649882'>
<a class='timestamp' href='#649882'><time timestamp='2019-01-24T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Okay, 1.8ns doesn&#x27;t sound that terrible. What the runtime of the function on that host?
<br>
</div>

<div class='talk op-msg' data-timestamp='1548358080' id='649883'>
<a class='timestamp' href='#649883'><time timestamp='2019-01-24T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
nice
<br>
</div>

<div class='talk op-msg' data-timestamp='1548358080' id='649884'>
<a class='timestamp' href='#649884'><time timestamp='2019-01-24T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sipa: how does it know its initialized?
<br>
</div>

<div class='talk op-msg' data-timestamp='1548358140' id='649885'>
<a class='timestamp' href='#649885'><time timestamp='2019-01-24T19:29:00Z'>19:29</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
though this is a compiler implementation specific thing, clang and gcc might not do it the same way?
<br>
</div>

<div class='talk op-msg' data-timestamp='1548358140' id='649886'>
<a class='timestamp' href='#649886'><time timestamp='2019-01-24T19:29:00Z'>19:29</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: it&#x27;s just a boolean; when the boolean is false, it means it could be initialized or not (to be checked using synchronized primitives), if it is true, it is guaranteed to be initialized
<br>
</div>

<div class='talk op-msg' data-timestamp='1548358200' id='649887'>
<a class='timestamp' href='#649887'><time timestamp='2019-01-24T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
from cppreference.com:If multiple threads attempt to initialize the same static local variable concurrently, the initialization occurs exactly once (similar behavior can be obtained for arbitrary functions with std::call_once).
<br>
</div>

<div class='talk op-msg' data-timestamp='1548358200' id='649888'>
<a class='timestamp' href='#649888'><time timestamp='2019-01-24T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
Note: usual implementations of this feature use variants of the double-checked locking pattern, which reduces runtime overhead for already-initialized local statics to a single non-atomic boolean comparison.
<br>
</div>

<div class='talk op-msg' data-timestamp='1548358200' id='649889'>
<a class='timestamp' href='#649889'><time timestamp='2019-01-24T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
good to know
<br>
</div>

<div class='talk op-msg' data-timestamp='1548358260' id='649890'>
<a class='timestamp' href='#649890'><time timestamp='2019-01-24T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
in any case, I think that seems an obviously better way to handle it. Residual performance concerns could be handled by my above batching suggestion (which would be a win regardless because of function call overheads).  MOST places where we&#x27;d have this concern wouldn&#x27;t be a big performance bottleneck like sha256 is.
<br>
</div>

<div class='talk op-msg' data-timestamp='1548358260' id='649891'>
<a class='timestamp' href='#649891'><time timestamp='2019-01-24T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
exactly
<br>
</div>

<div class='talk op-msg' data-timestamp='1548358260' id='649892'>
<a class='timestamp' href='#649892'><time timestamp='2019-01-24T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
maybe sha256 is just special here
<br>
</div>

<div class='talk op-msg' data-timestamp='1548358260' id='649893'>
<a class='timestamp' href='#649893'><time timestamp='2019-01-24T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
and we can at least decide for the general case
<br>
</div>

<div class='talk op-msg' data-timestamp='1548358260' id='649894'>
<a class='timestamp' href='#649894'><time timestamp='2019-01-24T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
agree
<br>
</div>

<div class='talk op-msg' data-timestamp='1548358320' id='649895'>
<a class='timestamp' href='#649895'><time timestamp='2019-01-24T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
enough on this topic, i think
<br>
</div>

<div class='talk op-msg' data-timestamp='1548358320' id='649896'>
<a class='timestamp' href='#649896'><time timestamp='2019-01-24T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
ok!
<br>
</div>

<div class='talk op-msg' data-timestamp='1548358320' id='649897'>
<a class='timestamp' href='#649897'><time timestamp='2019-01-24T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
well I could see the same problem showing up for crc32 and being worse, because 1.8ns would be like a 2x slowdown for it. :P  but otherwise I can&#x27;t come up with much where a 1.8ns slowdown would matter.
<br>
</div>

<div class='talk op-msg' data-timestamp='1548358320' id='649898'>
<a class='timestamp' href='#649898'><time timestamp='2019-01-24T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
#topic Chaincode summer residency (jnewbery)
<br>
</div>

<div class='talk op-msg' data-timestamp='1548358320' id='649899'>
<a class='timestamp' href='#649899'><time timestamp='2019-01-24T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
could have the calls be pointers that get changed on initialisation (I thought we already did?)
<br>
</div>

<div class='talk op-msg' data-timestamp='1548358320' id='649900'>
<a class='timestamp' href='#649900'><time timestamp='2019-01-24T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1548358380' id='649901'>
<a class='timestamp' href='#649901'><time timestamp='2019-01-24T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
luke-jr: that means the overhead of an indirect function call every time, that&#x27;s worse than checking a boolean
<br>
</div>

<div class='talk op-msg' data-timestamp='1548358380' id='649902'>
<a class='timestamp' href='#649902'><time timestamp='2019-01-24T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
we&#x27;re hosting the next iteration of the Chaincode residency this summer
<br>
</div>

<div class='talk op-msg' data-timestamp='1548358380' id='649903'>
<a class='timestamp' href='#649903'><time timestamp='2019-01-24T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
it&#x27;ll be in our new office in Midtown Manhattan
<br>
</div>

<div class='talk op-msg' data-timestamp='1548358380' id='649904'>
<a class='timestamp' href='#649904'><time timestamp='2019-01-24T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
details are here: <a href="https://residency.chaincode.com/" class="link" target="_blank">https://residency.chaincode.com/</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1548358440' id='649905'>
<a class='timestamp' href='#649905'><time timestamp='2019-01-24T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
great!
<br>
</div>

<div class='talk op-msg' data-timestamp='1548358440' id='649906'>
<a class='timestamp' href='#649906'><time timestamp='2019-01-24T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
we&#x27;ll take care of sourcing residents, paying travel/accommodation/stipend and hosting them in our office
<br>
</div>

<div class='talk op-msg' data-timestamp='1548358440' id='649907'>
<a class='timestamp' href='#649907'><time timestamp='2019-01-24T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
nice!
<br>
</div>

<div class='talk op-msg' data-timestamp='1548358440' id='649908'>
<a class='timestamp' href='#649908'><time timestamp='2019-01-24T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
nice!
<br>
</div>

<div class='talk op-msg' data-timestamp='1548358440' id='649909'>
<a class='timestamp' href='#649909'><time timestamp='2019-01-24T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
it&#x27;s 2-3 weeks of seminars followed by 2 months of project work. We&#x27;re expecting the residents to make really meaningful contributions to Bitcoin Core and other Bitcoin/Lightning projects while they&#x27;re here
<br>
</div>

<div class='talk op-msg' data-timestamp='1548358500' id='649910'>
<a class='timestamp' href='#649910'><time timestamp='2019-01-24T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
I bring this up here because we need help for a couple of things:
<br>
</div>

<div class='talk op-msg' data-timestamp='1548358500' id='649911'>
<a class='timestamp' href='#649911'><time timestamp='2019-01-24T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
1. We (Chaincode) will be doing the heavy lifting for the seminar series and hosting, but we need (remote) mentors for the 2 month project period.
<br>
</div>

<div class='talk op-msg' data-timestamp='1548358560' id='649912'>
<a class='timestamp' href='#649912'><time timestamp='2019-01-24T19:36:00Z'>19:36</time></a>
&lt;<span class='nick nick-4'> kanzure</span>&gt;
what are the responsibilities of the mentors
<br>
</div>

<div class='talk op-msg' data-timestamp='1548358560' id='649913'>
<a class='timestamp' href='#649913'><time timestamp='2019-01-24T19:36:00Z'>19:36</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
each resident will be paired with a mentor. We&#x27;re looking for 1 hour per week video calls with the resident to help guide them in their project
<br>
</div>

<div class='talk op-msg' data-timestamp='1548358620' id='649914'>
<a class='timestamp' href='#649914'><time timestamp='2019-01-24T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
obviously chaincoders and their peers will be on hand for incidental questions during the week, and the mentor will be providing overall guidance helping with the project
<br>
</div>

<div class='talk op-msg' data-timestamp='1548358620' id='649915'>
<a class='timestamp' href='#649915'><time timestamp='2019-01-24T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-3'> meshcollider</span>&gt;
Will the peers be chosen based on areas of knowledge
<br>
</div>

<div class='talk op-msg' data-timestamp='1548358620' id='649916'>
<a class='timestamp' href='#649916'><time timestamp='2019-01-24T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
jnewbery, what&#x27;s the action item here? ping you if interested in mentoring?
<br>
</div>

<div class='talk op-msg' data-timestamp='1548358680' id='649917'>
<a class='timestamp' href='#649917'><time timestamp='2019-01-24T19:38:00Z'>19:38</time></a>
&lt;<span class='nick nick-4'> jamesob</span>&gt;
oh don&#x27;t worry instagibbs, we&#x27;ve already signed you up
<br>
</div>

<div class='talk op-msg' data-timestamp='1548358680' id='649918'>
<a class='timestamp' href='#649918'><time timestamp='2019-01-24T19:38:00Z'>19:38</time></a>
&lt;<span class='nick nick-4'> jamesob</span>&gt;
;)
<br>
</div>

<div class='talk op-msg' data-timestamp='1548358680' id='649919'>
<a class='timestamp' href='#649919'><time timestamp='2019-01-24T19:38:00Z'>19:38</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
We&#x27;ll try to pair residents with mentors who have overlapping interests obviously
<br>
</div>

<div class='talk op-msg' data-timestamp='1548358680' id='649920'>
<a class='timestamp' href='#649920'><time timestamp='2019-01-24T19:38:00Z'>19:38</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
instagibbs - I&#x27;ll be reaching out individually
<br>
</div>

<div class='talk op-msg' data-timestamp='1548358680' id='649921'>
<a class='timestamp' href='#649921'><time timestamp='2019-01-24T19:38:00Z'>19:38</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
hah
<br>
</div>

<div class='talk op-msg' data-timestamp='1548358680' id='649922'>
<a class='timestamp' href='#649922'><time timestamp='2019-01-24T19:38:00Z'>19:38</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
ok, so check e-mails DMs 
<br>
</div>

<div class='talk op-msg' data-timestamp='1548358740' id='649923'>
<a class='timestamp' href='#649923'><time timestamp='2019-01-24T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
2. We&#x27;re looking for recommendations for residents. If you know anyone who wants to immerse themselves in Bitcoin/Lightning over summer and is excited about making a real contribution to the project, please send them our way
<br>
</div>

<div class='talk op-msg' data-timestamp='1548358740' id='649924'>
<a class='timestamp' href='#649924'><time timestamp='2019-01-24T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
Adam Jonas is taking the lead on organizing this one
<br>
</div>

<div class='talk op-msg' data-timestamp='1548358740' id='649925'>
<a class='timestamp' href='#649925'><time timestamp='2019-01-24T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
So you can ping him or me if you have any questions
<br>
</div>

<div class='talk op-msg' data-timestamp='1548358800' id='649926'>
<a class='timestamp' href='#649926'><time timestamp='2019-01-24T19:40:00Z'>19:40</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
that&#x27;s it!
<br>
</div>

<div class='talk op-msg' data-timestamp='1548358800' id='649927'>
<a class='timestamp' href='#649927'><time timestamp='2019-01-24T19:40:00Z'>19:40</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
ok! thanks for organizing this
<br>
</div>

<div class='talk op-msg' data-timestamp='1548358800' id='649928'>
<a class='timestamp' href='#649928'><time timestamp='2019-01-24T19:40:00Z'>19:40</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
We&#x27;re really excited about this one. The longer format means we&#x27;re expecting to have a lot of great contributions from the residents
<br>
</div>

<div class='talk op-msg' data-timestamp='1548358860' id='649929'>
<a class='timestamp' href='#649929'><time timestamp='2019-01-24T19:41:00Z'>19:41</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
hope so!
<br>
</div>

<div class='talk op-msg' data-timestamp='1548358860' id='649930'>
<a class='timestamp' href='#649930'><time timestamp='2019-01-24T19:41:00Z'>19:41</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
any other topics?
<br>
</div>

<div class='talk op-msg' data-timestamp='1548358920' id='649931'>
<a class='timestamp' href='#649931'><time timestamp='2019-01-24T19:42:00Z'>19:42</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
one reminder: I&#x27;d encourage people to use moneyball&#x27;s #proposedmeetingtopic to propose meeting topics during the week!
<br>
</div>

<div class='talk op-msg' data-timestamp='1548358920' id='649932'>
<a class='timestamp' href='#649932'><time timestamp='2019-01-24T19:42:00Z'>19:42</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Could I nag for review on #14929 ?  it&#x27;s getting forced to rebase faster than its being reviewed...
<br>
</div>

<div class='talk op-msg' data-timestamp='1548358920' id='649933'>
<a class='timestamp' href='#649933'><time timestamp='2019-01-24T19:42:00Z'>19:42</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/14929" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/14929</a> | net: Allow connections from misbehavior banned peers by gmaxwell · Pull Request #14929 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1548358980' id='649934'>
<a class='timestamp' href='#649934'><time timestamp='2019-01-24T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
gmaxwell: yep i&#x27;m actually in the middle of re-reviewing so i can re-ack
<br>
</div>

<div class='talk op-msg' data-timestamp='1548358980' id='649935'>
<a class='timestamp' href='#649935'><time timestamp='2019-01-24T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
#action review #14929
<br>
</div>

<div class='talk op-msg' data-timestamp='1548358980' id='649936'>
<a class='timestamp' href='#649936'><time timestamp='2019-01-24T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
add to high priority?
<br>
</div>

<div class='talk op-msg' data-timestamp='1548358980' id='649937'>
<a class='timestamp' href='#649937'><time timestamp='2019-01-24T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/14929" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/14929</a> | net: Allow connections from misbehavior banned peers by gmaxwell · Pull Request #14929 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1548358980' id='649938'>
<a class='timestamp' href='#649938'><time timestamp='2019-01-24T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
ok
<br>
</div>

<div class='talk op-msg' data-timestamp='1548359040' id='649939'>
<a class='timestamp' href='#649939'><time timestamp='2019-01-24T19:44:00Z'>19:44</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Thanks.
<br>
</div>

<div class='talk op-msg' data-timestamp='1548359160' id='649940'>
<a class='timestamp' href='#649940'><time timestamp='2019-01-24T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
that... concludes the meeting, I guess
<br>
</div>

<div class='talk op-msg' data-timestamp='1548359220' id='649941'>
<a class='timestamp' href='#649941'><time timestamp='2019-01-24T19:47:00Z'>19:47</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
#endmeeting
<br>
</div>

<div class='talk op-msg' data-timestamp='1548359220' id='649942'>
<a class='timestamp' href='#649942'><time timestamp='2019-01-24T19:47:00Z'>19:47</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Meeting ended Thu Jan 24 19:47:19 2019 UTC.  Information about MeetBot at <a href="http://wiki.debian.org/MeetBot" class="link" target="_blank">http://wiki.debian.org/MeetBot</a> . (v 0.1.4)
<br>
</div>

<div class='talk op-msg' data-timestamp='1548359220' id='649943'>
<a class='timestamp' href='#649943'><time timestamp='2019-01-24T19:47:00Z'>19:47</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Minutes:        <a href="http://www.erisian.com.au/meetbot/bitcoin-core-dev/2019/bitcoin-core-dev.2019-01-24-19.00.html" class="link" target="_blank">http://www.erisian.com.au/meetbot/bitcoin-core-dev/2019/bitcoin-core-dev.2019-01-24-19.00.html</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1548359220' id='649944'>
<a class='timestamp' href='#649944'><time timestamp='2019-01-24T19:47:00Z'>19:47</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Minutes (text): <a href="http://www.erisian.com.au/meetbot/bitcoin-core-dev/2019/bitcoin-core-dev.2019-01-24-19.00.txt" class="link" target="_blank">http://www.erisian.com.au/meetbot/bitcoin-core-dev/2019/bitcoin-core-dev.2019-01-24-19.00.txt</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1548359220' id='649945'>
<a class='timestamp' href='#649945'><time timestamp='2019-01-24T19:47:00Z'>19:47</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Log:            <a href="http://www.erisian.com.au/meetbot/bitcoin-core-dev/2019/bitcoin-core-dev.2019-01-24-19.00.log.html" class="link" target="_blank">http://www.erisian.com.au/meetbot/bitcoin-core-dev/2019/bitcoin-core-dev.2019-01-24-19.00.log.html</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1548359280' id='649946'>
<a class='timestamp' href='#649946'><time timestamp='2019-01-24T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
does anyone have an opinion on whether encrypting a blank wallet should generate a seed for it?
<br>
</div>

<div class='talk op-msg' data-timestamp='1548359280' id='649947'>
<a class='timestamp' href='#649947'><time timestamp='2019-01-24T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
hmm, it might be nice to have all the security-critical stuff generated at once
<br>
</div>

<div class='talk op-msg' data-timestamp='1548359340' id='649948'>
<a class='timestamp' href='#649948'><time timestamp='2019-01-24T19:49:00Z'>19:49</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
eg, so people who have a no-RNG system can make the wallet easily on one that has a RNG and then backup/restore it
<br>
</div>

<div class='talk op-msg' data-timestamp='1548359340' id='649949'>
<a class='timestamp' href='#649949'><time timestamp='2019-01-24T19:49:00Z'>19:49</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
but that may be independent of encryption or not
<br>
</div>

<div class='talk op-msg' data-timestamp='1548359340' id='649950'>
<a class='timestamp' href='#649950'><time timestamp='2019-01-24T19:49:00Z'>19:49</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
is it even sensible
<br>
</div>

<div class='talk op-msg' data-timestamp='1548359400' id='649951'>
<a class='timestamp' href='#649951'><time timestamp='2019-01-24T19:50:00Z'>19:50</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
to encrypt a blank wallet? encryption only protects private data, after all
<br>
</div>

<div class='talk op-msg' data-timestamp='1548359400' id='649952'>
<a class='timestamp' href='#649952'><time timestamp='2019-01-24T19:50:00Z'>19:50</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
the only thing I can think of is encrypting a blank wallet and then importing privat ekeys
<br>
</div>

<div class='talk op-msg' data-timestamp='1548359400' id='649953'>
<a class='timestamp' href='#649953'><time timestamp='2019-01-24T19:50:00Z'>19:50</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
ah yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1548359520' id='649954'>
<a class='timestamp' href='#649954'><time timestamp='2019-01-24T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I like the idea that &quot;if you have a wallet file, you can back that up, and your backup is not likely to be surprise invalidated.&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1548359520' id='649955'>
<a class='timestamp' href='#649955'><time timestamp='2019-01-24T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
under that thinking: wallets should be born encrypted and also born with their master keys.
<br>
</div>

<div class='talk op-msg' data-timestamp='1548359520' id='649956'>
<a class='timestamp' href='#649956'><time timestamp='2019-01-24T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
If you import things, you invalidate backups, sucks to be you.  At least the import (docs) can warn you of this.
<br>
</div>

<div class='talk op-msg' data-timestamp='1548359580' id='649957'>
<a class='timestamp' href='#649957'><time timestamp='2019-01-24T19:53:00Z'>19:53</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I dunno if &quot;wallet which is blank except for imported keys&quot; is a case we should care much about supporting.
<br>
</div>

<div class='talk op-msg' data-timestamp='1548359640' id='649958'>
<a class='timestamp' href='#649958'><time timestamp='2019-01-24T19:54:00Z'>19:54</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
luke-jr: I&#x27;d like us to have wallet loading take the high entropy data from a loaded wallet (e.g. encrypted master key, or first key in non-encrypted wallets) and hash that into the RNG state. That would achieve what you want as a side effect.
<br>
</div>

<div class='talk op-msg' data-timestamp='1548359640' id='649959'>
<a class='timestamp' href='#649959'><time timestamp='2019-01-24T19:54:00Z'>19:54</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
since I want blank wallets as a stepping stone to born encrypted wallets, I prefer that encrypting would generate the seed
<br>
</div>

<div class='talk op-msg' data-timestamp='1548359700' id='649960'>
<a class='timestamp' href='#649960'><time timestamp='2019-01-24T19:55:00Z'>19:55</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
luke-jr: (similarly, we should also be hashing any rpcauth credentials into the RNG state)
<br>
</div>

<div class='talk op-msg' data-timestamp='1548359700' id='649961'>
<a class='timestamp' href='#649961'><time timestamp='2019-01-24T19:55:00Z'>19:55</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I see.
<br>
</div>

<div class='talk op-msg' data-timestamp='1548359700' id='649962'>
<a class='timestamp' href='#649962'><time timestamp='2019-01-24T19:55:00Z'>19:55</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
but other people may want blank wallets for other reasons, which is why I ask
<br>
</div>

<div class='talk op-msg' data-timestamp='1548359760' id='649963'>
<a class='timestamp' href='#649963'><time timestamp='2019-01-24T19:56:00Z'>19:56</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
achow101: well I don&#x27;t think it would be terrible to have blank wallets with no keys in them at all. At least they&#x27;d be obviously smaller? Long term though we should try to get it so that under normal workflows if there is a file there, thats the file you should be backing up.
<br>
</div>

<div class='talk op-msg' data-timestamp='1548359760' id='649964'>
<a class='timestamp' href='#649964'><time timestamp='2019-01-24T19:56:00Z'>19:56</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
achow101: consider that some wallets might never have a seed
<br>
</div>

<div class='talk op-msg' data-timestamp='1548359820' id='649965'>
<a class='timestamp' href='#649965'><time timestamp='2019-01-24T19:57:00Z'>19:57</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
luke-jr: we don&#x27;t make non-hd wallets anymore.
<br>
</div>

<div class='talk op-msg' data-timestamp='1548359820' id='649966'>
<a class='timestamp' href='#649966'><time timestamp='2019-01-24T19:57:00Z'>19:57</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
achow101: I&#x27;m thinking watch-JBOK-only
<br>
</div>

<div class='talk op-msg' data-timestamp='1548360060' id='649967'>
<a class='timestamp' href='#649967'><time timestamp='2019-01-24T20:01:00Z'>20:01</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
luke-jr: right. I think that&#x27;s the only case to not set a seed when encrypting
<br>
</div>

<div class='talk op-msg' data-timestamp='1548360060' id='649968'>
<a class='timestamp' href='#649968'><time timestamp='2019-01-24T20:01:00Z'>20:01</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
well, watch-only means encryption is meaningless
<br>
</div>

<div class='talk op-msg' data-timestamp='1548360060' id='649969'>
<a class='timestamp' href='#649969'><time timestamp='2019-01-24T20:01:00Z'>20:01</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
so nevermind that case
<br>
</div>

<div class='talk op-msg' data-timestamp='1548360120' id='649970'>
<a class='timestamp' href='#649970'><time timestamp='2019-01-24T20:02:00Z'>20:02</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
oh, i thought you meant importing the privkeys
<br>
</div>

<div class='talk op-msg' data-timestamp='1548360120' id='649971'>
<a class='timestamp' href='#649971'><time timestamp='2019-01-24T20:02:00Z'>20:02</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
I suppose there might be a use case for that
<br>
</div>

<div class='talk op-msg' data-timestamp='1548360120' id='649972'>
<a class='timestamp' href='#649972'><time timestamp='2019-01-24T20:02:00Z'>20:02</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
(that&#x27;s what we were taling about earlier)
<br>
</div>

<div class='talk op-msg' data-timestamp='1548360120' id='649973'>
<a class='timestamp' href='#649973'><time timestamp='2019-01-24T20:02:00Z'>20:02</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
but that seems roughly equivalent to non-HD wallets which isn&#x27;t supported
<br>
</div>

<div class='talk op-msg' data-timestamp='1548360300' id='649974'>
<a class='timestamp' href='#649974'><time timestamp='2019-01-24T20:05:00Z'>20:05</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
I mean, it still makes sense to have support for legacy imported non-HD wallets
<br>
</div>

<div class='talk op-msg' data-timestamp='1548360300' id='649975'>
<a class='timestamp' href='#649975'><time timestamp='2019-01-24T20:05:00Z'>20:05</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
gwillen: sure
<br>
</div>

<div class='talk op-msg' data-timestamp='1548360300' id='649976'>
<a class='timestamp' href='#649976'><time timestamp='2019-01-24T20:05:00Z'>20:05</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
but the topic is strictly new wallets AFAIK
<br>
</div>

<div class='talk op-msg' data-timestamp='1548360360' id='649977'>
<a class='timestamp' href='#649977'><time timestamp='2019-01-24T20:06:00Z'>20:06</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
in fact, I think in the multiwallet world, it would make sense to split wallets into like (*) normal HD wallets, (*) watchonly wallets, (*) legacy importonly wallet
<br>
</div>

<div class='talk op-msg' data-timestamp='1548360360' id='649978'>
<a class='timestamp' href='#649978'><time timestamp='2019-01-24T20:06:00Z'>20:06</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
<b>*nods*</b>
<br>
</div>

<div class='talk op-msg' data-timestamp='1548360360' id='649979'>
<a class='timestamp' href='#649979'><time timestamp='2019-01-24T20:06:00Z'>20:06</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
but if you&#x27;re going to import privkeys then you do want a blank empty wallet with no seed and encryption
<br>
</div>

<div class='talk op-msg' data-timestamp='1548360420' id='649980'>
<a class='timestamp' href='#649980'><time timestamp='2019-01-24T20:07:00Z'>20:07</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I don&#x27;t think we generally want to support that case so much as to special case it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1548360420' id='649981'>
<a class='timestamp' href='#649981'><time timestamp='2019-01-24T20:07:00Z'>20:07</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Having an extra seed and keys you don&#x27;t use is harmless.
<br>
</div>

<div class='talk op-msg' data-timestamp='1548360420' id='649982'>
<a class='timestamp' href='#649982'><time timestamp='2019-01-24T20:07:00Z'>20:07</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
well, I&#x27;m afraid of it leading to &quot;oopses&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1548360420' id='649983'>
<a class='timestamp' href='#649983'><time timestamp='2019-01-24T20:07:00Z'>20:07</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(other than making the wallet bigger, but it&#x27;s already going to be fairly big if you&#x27;re importing a bunch of keys)
<br>
</div>

<div class='talk op-msg' data-timestamp='1548360480' id='649984'>
<a class='timestamp' href='#649984'><time timestamp='2019-01-24T20:08:00Z'>20:08</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
gmaxwell: well, you don&#x27;t want to accidentally use one of the keys
<br>
</div>

<div class='talk op-msg' data-timestamp='1548360480' id='649985'>
<a class='timestamp' href='#649985'><time timestamp='2019-01-24T20:08:00Z'>20:08</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
any manual private key handling already leads to oopses, which is why we already strongly discourage it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1548360480' id='649986'>
<a class='timestamp' href='#649986'><time timestamp='2019-01-24T20:08:00Z'>20:08</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
like, when I was testing my new offline signing stuff, it autogenerated a change address using the wallet seed that I didn&#x27;t want
<br>
</div>

<div class='talk op-msg' data-timestamp='1548360480' id='649987'>
<a class='timestamp' href='#649987'><time timestamp='2019-01-24T20:08:00Z'>20:08</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
and sent my change to it, oops
<br>
</div>

<div class='talk op-msg' data-timestamp='1548360480' id='649988'>
<a class='timestamp' href='#649988'><time timestamp='2019-01-24T20:08:00Z'>20:08</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
And exactly what would an imported keys only wallet do?
<br>
</div>

<div class='talk op-msg' data-timestamp='1548360480' id='649989'>
<a class='timestamp' href='#649989'><time timestamp='2019-01-24T20:08:00Z'>20:08</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
which I realized about 10 minutes before doing a live demo and frantically sent it back ;-)
<br>
</div>

<div class='talk op-msg' data-timestamp='1548360480' id='649990'>
<a class='timestamp' href='#649990'><time timestamp='2019-01-24T20:08:00Z'>20:08</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
I mean, it would let you spend from your legacy keys from your old wallet
<br>
</div>

<div class='talk op-msg' data-timestamp='1548360540' id='649991'>
<a class='timestamp' href='#649991'><time timestamp='2019-01-24T20:09:00Z'>20:09</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
although I guess that&#x27;s messy if you don&#x27;t spend all at once
<br>
</div>

<div class='talk op-msg' data-timestamp='1548360540' id='649992'>
<a class='timestamp' href='#649992'><time timestamp='2019-01-24T20:09:00Z'>20:09</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
gmaxwell: if it has no solution, throw an error
<br>
</div>

<div class='talk op-msg' data-timestamp='1548360540' id='649993'>
<a class='timestamp' href='#649993'><time timestamp='2019-01-24T20:09:00Z'>20:09</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
because you still have to handle change <u>_somehow_</u>
<br>
</div>

<div class='talk op-msg' data-timestamp='1548360540' id='649994'>
<a class='timestamp' href='#649994'><time timestamp='2019-01-24T20:09:00Z'>20:09</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
gwillen: that implies address reuse, no?
<br>
</div>

<div class='talk op-msg' data-timestamp='1548360540' id='649995'>
<a class='timestamp' href='#649995'><time timestamp='2019-01-24T20:09:00Z'>20:09</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
gwillen: right.
<br>
</div>

<div class='talk op-msg' data-timestamp='1548360540' id='649996'>
<a class='timestamp' href='#649996'><time timestamp='2019-01-24T20:09:00Z'>20:09</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
It implies: this is just not a supported case.
<br>
</div>

<div class='talk op-msg' data-timestamp='1548360540' id='649997'>
<a class='timestamp' href='#649997'><time timestamp='2019-01-24T20:09:00Z'>20:09</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
you might have imported a keypool too
<br>
</div>

<div class='talk op-msg' data-timestamp='1548360600' id='649998'>
<a class='timestamp' href='#649998'><time timestamp='2019-01-24T20:10:00Z'>20:10</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
not sure if it&#x27;s possible to mark them as such, but we do allow manually specifying change addresses
<br>
</div>

<div class='talk op-msg' data-timestamp='1548360600' id='649999'>
<a class='timestamp' href='#649999'><time timestamp='2019-01-24T20:10:00Z'>20:10</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
If you&#x27;re going to manually specify change addresses, you don&#x27;t have gwillen&#x27;s problem.
<br>
</div>

<div class='talk op-msg' data-timestamp='1548360600' id='650000'>
<a class='timestamp' href='#650000'><time timestamp='2019-01-24T20:10:00Z'>20:10</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
gmaxwell: if you forget to, it&#x27;s better to get an exception than potentially lose funds
<br>
</div>

<div class='talk op-msg' data-timestamp='1548360720' id='650001'>
<a class='timestamp' href='#650001'><time timestamp='2019-01-24T20:12:00Z'>20:12</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
I think the question is really whether this is a case that happens frequently enough that it is something we should support
<br>
</div>

<div class='talk op-msg' data-timestamp='1548360720' id='650002'>
<a class='timestamp' href='#650002'><time timestamp='2019-01-24T20:12:00Z'>20:12</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
There are 1001 other wallet features that deserve love, attention, writing, and review...  going through and breaking the design assumption that you can always get a key from a signable wallet just to support a currently unsupported and known risky usage, seems like a really bad idea. Esp when the subject of doing it came up as an excercise in thinking about how some other case is handled, 
<br>
</div>

<div class='talk op-msg' data-timestamp='1548360720' id='650003'>
<a class='timestamp' href='#650003'><time timestamp='2019-01-24T20:12:00Z'>20:12</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
rather than someone showing up and saying &quot;it should support this and heres why&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1548360720' id='650004'>
<a class='timestamp' href='#650004'><time timestamp='2019-01-24T20:12:00Z'>20:12</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
to support it requires adding more parameters to encryptwallet and getting a born encrypted wallet needs another step
<br>
</div>

<div class='talk op-msg' data-timestamp='1548360720' id='650005'>
<a class='timestamp' href='#650005'><time timestamp='2019-01-24T20:12:00Z'>20:12</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
achow101: I can&#x27;t think of a good reason to support it
<br>
</div>

<div class='talk op-msg' data-timestamp='1548360780' id='650006'>
<a class='timestamp' href='#650006'><time timestamp='2019-01-24T20:13:00Z'>20:13</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
any case where it <b>*might*</b> make sense can also do a watch-only wallet and provide private keys to signraw as needed I think
<br>
</div>

<div class='talk op-msg' data-timestamp='1548360900' id='650007'>
<a class='timestamp' href='#650007'><time timestamp='2019-01-24T20:15:00Z'>20:15</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
agreed
<br>
</div>

<div class='talk op-msg' data-timestamp='1548361020' id='650008'>
<a class='timestamp' href='#650008'><time timestamp='2019-01-24T20:17:00Z'>20:17</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
unrelated, it would be kinda neat if there were a backupwallet rpc that made a watching wallet by playing the keypools arbritarily far forward and then writing out a wallet without private keys.
<br>
</div>

<div class='talk op-msg' data-timestamp='1548361260' id='650009'>
<a class='timestamp' href='#650009'><time timestamp='2019-01-24T20:21:00Z'>20:21</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
gmaxwell: or just use a descriptor to import whatever you want in a watch-only wallet, requires: #14075
<br>
</div>

<div class='talk op-msg' data-timestamp='1548361260' id='650010'>
<a class='timestamp' href='#650010'><time timestamp='2019-01-24T20:21:00Z'>20:21</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/14075" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/14075</a> | Import watch only pubkeys to the keypool if private keys are disabled by achow101 · Pull Request #14075 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1548361380' id='650011'>
<a class='timestamp' href='#650011'><time timestamp='2019-01-24T20:23:00Z'>20:23</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Using a single descriptor forces you to use security toxic non-hardened keys. Plus doing that (using the descriptor at all) violates the principle that directly handling keys is risky and fault prone.
<br>
</div>

<div class='talk op-msg' data-timestamp='1548361380' id='650012'>
<a class='timestamp' href='#650012'><time timestamp='2019-01-24T20:23:00Z'>20:23</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Note that descriptors don&#x27;t have checksums, a simple typo or copy-paste error can result in your funds blasting off into space. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1548361440' id='650013'>
<a class='timestamp' href='#650013'><time timestamp='2019-01-24T20:24:00Z'>20:24</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
achow: as for encrypting an empty wallet, easiest might be to just a bool param where user can decide if a seed is added
<br>
</div>

<div class='talk op-msg' data-timestamp='1548361440' id='650014'>
<a class='timestamp' href='#650014'><time timestamp='2019-01-24T20:24:00Z'>20:24</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: the idea is for descriptor wallets to contained cached pre-expanded public keys
<br>
</div>

<div class='talk op-msg' data-timestamp='1548361500' id='650015'>
<a class='timestamp' href='#650015'><time timestamp='2019-01-24T20:25:00Z'>20:25</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
gmaxwell: you could use hardened derivation too if you include a private key in the descriptor (which is not saved)
<br>
</div>

<div class='talk op-msg' data-timestamp='1548361500' id='650016'>
<a class='timestamp' href='#650016'><time timestamp='2019-01-24T20:25:00Z'>20:25</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
(and that currently doesn&#x27;t work probably)
<br>
</div>

<div class='talk op-msg' data-timestamp='1548361500' id='650017'>
<a class='timestamp' href='#650017'><time timestamp='2019-01-24T20:25:00Z'>20:25</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
so you can use hardened bip32 keys as descriptor; they need access to the private key to derive, but not to otherwise use
<br>
</div>

<div class='talk op-msg' data-timestamp='1548361560' id='650018'>
<a class='timestamp' href='#650018'><time timestamp='2019-01-24T20:26:00Z'>20:26</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
provoostenator: fair on that point, doesn&#x27;t address my second point... and that also means you&#x27;re likely leaving private keys in your shell history.
<br>
</div>

<div class='talk op-msg' data-timestamp='1548361560' id='650019'>
<a class='timestamp' href='#650019'><time timestamp='2019-01-24T20:26:00Z'>20:26</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
hrm, why do descriptors <u>_not_</u> have checksums?
<br>
</div>

<div class='talk op-msg' data-timestamp='1548361620' id='650020'>
<a class='timestamp' href='#650020'><time timestamp='2019-01-24T20:27:00Z'>20:27</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
given their intended uses it seems like maybe they should
<br>
</div>

<div class='talk op-msg' data-timestamp='1548361620' id='650021'>
<a class='timestamp' href='#650021'><time timestamp='2019-01-24T20:27:00Z'>20:27</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
because they weren&#x27;t intended to be some general construct for transporting keys around?
<br>
</div>

<div class='talk op-msg' data-timestamp='1548361620' id='650022'>
<a class='timestamp' href='#650022'><time timestamp='2019-01-24T20:27:00Z'>20:27</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gwillen: they&#x27;re human editable
<br>
</div>

<div class='talk op-msg' data-timestamp='1548361620' id='650023'>
<a class='timestamp' href='#650023'><time timestamp='2019-01-24T20:27:00Z'>20:27</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
gmaxwell: assuming the private keys are on a different device,  that device could return an array of descriptors, one for each pubkey, in import format.
<br>
</div>

<div class='talk op-msg' data-timestamp='1548361620' id='650024'>
<a class='timestamp' href='#650024'><time timestamp='2019-01-24T20:27:00Z'>20:27</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
As for checksums: that sounds solveable.
<br>
</div>

<div class='talk op-msg' data-timestamp='1548361620' id='650025'>
<a class='timestamp' href='#650025'><time timestamp='2019-01-24T20:27:00Z'>20:27</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
provoostenator: sweet, then you get a multiplicative blowup in possibilities to corrupt the data and cause funds to go off into space.
<br>
</div>

<div class='talk op-msg' data-timestamp='1548361680' id='650026'>
<a class='timestamp' href='#650026'><time timestamp='2019-01-24T20:28:00Z'>20:28</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gwillen: inside the wallet we could store them with a checksum, or even have a more efficient binary encoding
<br>
</div>

<div class='talk op-msg' data-timestamp='1548361680' id='650027'>
<a class='timestamp' href='#650027'><time timestamp='2019-01-24T20:28:00Z'>20:28</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
<b>*nods*</b>
<br>
</div>

<div class='talk op-msg' data-timestamp='1548361680' id='650028'>
<a class='timestamp' href='#650028'><time timestamp='2019-01-24T20:28:00Z'>20:28</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
which would still be human accessible for transport, if they&#x27;re intended to be treated as a black box
<br>
</div>

<div class='talk op-msg' data-timestamp='1548361680' id='650029'>
<a class='timestamp' href='#650029'><time timestamp='2019-01-24T20:28:00Z'>20:28</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sipa: but its when humans touch them that they&#x27;re most likely to get corrupted.
<br>
</div>

<div class='talk op-msg' data-timestamp='1548361740' id='650030'>
<a class='timestamp' href='#650030'><time timestamp='2019-01-24T20:29:00Z'>20:29</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(as the now hundreds of millions lost in eth land due to corrupted addresses attest to...)
<br>
</div>

<div class='talk op-msg' data-timestamp='1548361740' id='650031'>
<a class='timestamp' href='#650031'><time timestamp='2019-01-24T20:29:00Z'>20:29</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(humans and application boundaries)
<br>
</div>

<div class='talk op-msg' data-timestamp='1548361800' id='650032'>
<a class='timestamp' href='#650032'><time timestamp='2019-01-24T20:30:00Z'>20:30</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
The original descriptor work was largely wallet internal... it&#x27;s mostly later efforts that have been turning them into a general key import/export thing.  This seems ill-advised to me.
<br>
</div>

<div class='talk op-msg' data-timestamp='1548361800' id='650033'>
<a class='timestamp' href='#650033'><time timestamp='2019-01-24T20:30:00Z'>20:30</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
So we need something to replace xpub that has a better checksum? Or does that still data corruption risk? Because something goes wrong inside of Bitcoin Core during the import?
<br>
</div>

<div class='talk op-msg' data-timestamp='1548361860' id='650034'>
<a class='timestamp' href='#650034'><time timestamp='2019-01-24T20:31:00Z'>20:31</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
xpub actually has a checksum, it&#x27;s sufficient, as it was intended for use as an address.
<br>
</div>

<div class='talk op-msg' data-timestamp='1548361920' id='650035'>
<a class='timestamp' href='#650035'><time timestamp='2019-01-24T20:32:00Z'>20:32</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
In #14912 I&#x27;m using xpubs all the way. The HWI tool (achow101) gets xpub(s) from the device.
<br>
</div>

<div class='talk op-msg' data-timestamp='1548361920' id='650036'>
<a class='timestamp' href='#650036'><time timestamp='2019-01-24T20:32:00Z'>20:32</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/14912" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/14912</a> | [WIP] External signer support (e.g. hardware wallet) by Sjors · Pull Request #14912 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1548361920' id='650037'>
<a class='timestamp' href='#650037'><time timestamp='2019-01-24T20:32:00Z'>20:32</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
(though I&#x27;m not sure <u>_how_</u> they are obtained from the device, that&#x27;s probably worth double checking)
<br>
</div>

<div class='talk op-msg' data-timestamp='1548361980' id='650038'>
<a class='timestamp' href='#650038'><time timestamp='2019-01-24T20:33:00Z'>20:33</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Corruption inside bitcoin is also a concern, but a strictly less serious one than corruption by humans or across application boundaries. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1548361980' id='650039'>
<a class='timestamp' href='#650039'><time timestamp='2019-01-24T20:33:00Z'>20:33</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
If the device spits out a normal public key and the script converts it to an xpub then there&#x27;s no point.
<br>
</div>

<div class='talk op-msg' data-timestamp='1548361980' id='650040'>
<a class='timestamp' href='#650040'><time timestamp='2019-01-24T20:33:00Z'>20:33</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
provoostenator: it depends on the device. some give xpubs, other give pubkeys + chaincode which then become xpubs
<br>
</div>

<div class='talk op-msg' data-timestamp='1548361980' id='650041'>
<a class='timestamp' href='#650041'><time timestamp='2019-01-24T20:33:00Z'>20:33</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
For HWI you might want to consider an enrolling process that gets a signed message with one of the imported watch keys, to prove that the device can sign for the keys you&#x27;re importing.
<br>
</div>

<div class='talk op-msg' data-timestamp='1548361980' id='650042'>
<a class='timestamp' href='#650042'><time timestamp='2019-01-24T20:33:00Z'>20:33</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Also there&#x27;s a feature to show an address on the device display. We could make that mandatory for the receive address functionality to be on the safe side.
<br>
</div>

<div class='talk op-msg' data-timestamp='1548362040' id='650043'>
<a class='timestamp' href='#650043'><time timestamp='2019-01-24T20:34:00Z'>20:34</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Which is analogous to the process bitcoin uses internally when generating keys: it signs a message and verifies, to make sure that the generated address/key actually work.
<br>
</div>

<div class='talk op-msg' data-timestamp='1548362040' id='650044'>
<a class='timestamp' href='#650044'><time timestamp='2019-01-24T20:34:00Z'>20:34</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
gmaxwell: currently we have a displayaddress command where the address for a given derivation path is shown on the device&#x27;s screen (if it has one). you can then compare that to the address the wallet gives you for that path
<br>
</div>

<div class='talk op-msg' data-timestamp='1548362100' id='650045'>
<a class='timestamp' href='#650045'><time timestamp='2019-01-24T20:35:00Z'>20:35</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Though perhaps betetr is to 1) import using xpubs and then 2) checking all imported keys with a call to the device
<br>
</div>

<div class='talk op-msg' data-timestamp='1548362100' id='650046'>
<a class='timestamp' href='#650046'><time timestamp='2019-01-24T20:35:00Z'>20:35</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
achow101: thats good, but I think thats more effective at checking for correct pairing than checking for corruption.
<br>
</div>

<div class='talk op-msg' data-timestamp='1548362160' id='650047'>
<a class='timestamp' href='#650047'><time timestamp='2019-01-24T20:36:00Z'>20:36</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
getting the device to sign something that you can verify is probably the gold standard for corruption checking. I&#x27;m not sure about how the devices work, but is it currently possible to import a device that you don&#x27;t know the pin for, thus cannot actually sign with?
<br>
</div>

<div class='talk op-msg' data-timestamp='1548362220' id='650048'>
<a class='timestamp' href='#650048'><time timestamp='2019-01-24T20:37:00Z'>20:37</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
You can always forget the pin and lose your backup. But the normal flow is that you unlock the device with the pin before it&#x27;s willing to give your computer any pubkeys.
<br>
</div>

<div class='talk op-msg' data-timestamp='1548362220' id='650049'>
<a class='timestamp' href='#650049'><time timestamp='2019-01-24T20:37:00Z'>20:37</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
i think for all devices you need the pin/passphrase to do anything with it
<br>
</div>

<div class='talk op-msg' data-timestamp='1548362280' id='650050'>
<a class='timestamp' href='#650050'><time timestamp='2019-01-24T20:38:00Z'>20:38</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Capabilities vary per deivce, see this table: <a href="https://github.com/achow101/HWI#device-support" class="link" target="_blank">https://github.com/achow101/HWI#device-support</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1548362340' id='650051'>
<a class='timestamp' href='#650051'><time timestamp='2019-01-24T20:39:00Z'>20:39</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Okay, thats useful. I&#x27;m not sure if there are other ways that you could export keys but turn out not to be able to sign, except a device fault.
<br>
</div>

<div class='talk op-msg' data-timestamp='1548362340' id='650052'>
<a class='timestamp' href='#650052'><time timestamp='2019-01-24T20:39:00Z'>20:39</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Ideally we&#x27;d ask the device to sign something to prove it really has the keys. I don&#x27;t know if devices can do that though, especially without user interaction.
<br>
</div>

<div class='talk op-msg' data-timestamp='1548362340' id='650053'>
<a class='timestamp' href='#650053'><time timestamp='2019-01-24T20:39:00Z'>20:39</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
ISTM that it wouldn&#x27;t be too hard for the enrollment process though to ask the device to sign a message.. you&#x27;re user interacting on the import to enter the pin in any case, no?
<br>
</div>

<div class='talk op-msg' data-timestamp='1548362340' id='650054'>
<a class='timestamp' href='#650054'><time timestamp='2019-01-24T20:39:00Z'>20:39</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
signing anything requires user interaction
<br>
</div>

<div class='talk op-msg' data-timestamp='1548362400' id='650055'>
<a class='timestamp' href='#650055'><time timestamp='2019-01-24T20:40:00Z'>20:40</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
otherwise it would be a huge security hole
<br>
</div>

<div class='talk op-msg' data-timestamp='1548362400' id='650056'>
<a class='timestamp' href='#650056'><time timestamp='2019-01-24T20:40:00Z'>20:40</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
But so does the import?
<br>
</div>

<div class='talk op-msg' data-timestamp='1548362400' id='650057'>
<a class='timestamp' href='#650057'><time timestamp='2019-01-24T20:40:00Z'>20:40</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
gmaxwell: the problem is that the device probably only signs 1 thing at a time, so checking 1000 addresses would be tedious.
<br>
</div>

<div class='talk op-msg' data-timestamp='1548362400' id='650058'>
<a class='timestamp' href='#650058'><time timestamp='2019-01-24T20:40:00Z'>20:40</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I don&#x27;t think it&#x27;s necessary to check all the addresses.
<br>
</div>

<div class='talk op-msg' data-timestamp='1548362400' id='650059'>
<a class='timestamp' href='#650059'><time timestamp='2019-01-24T20:40:00Z'>20:40</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
So then the next best thing is essentially just importing again and double checking.
<br>
</div>

<div class='talk op-msg' data-timestamp='1548362400' id='650060'>
<a class='timestamp' href='#650060'><time timestamp='2019-01-24T20:40:00Z'>20:40</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
But it&#x27;s a big gain to check at least one.
<br>
</div>

<div class='talk op-msg' data-timestamp='1548362460' id='650061'>
<a class='timestamp' href='#650061'><time timestamp='2019-01-24T20:41:00Z'>20:41</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
provoostenator: importing again doesn&#x27;t tell you that the device actually can sign, however.
<br>
</div>

<div class='talk op-msg' data-timestamp='1548362460' id='650062'>
<a class='timestamp' href='#650062'><time timestamp='2019-01-24T20:41:00Z'>20:41</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
for implementation with core, you could definitely make it import then sign a message
<br>
</div>

<div class='talk op-msg' data-timestamp='1548362520' id='650063'>
<a class='timestamp' href='#650063'><time timestamp='2019-01-24T20:42:00Z'>20:42</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
right now where using HWI is manual, you do that manually
<br>
</div>

<div class='talk op-msg' data-timestamp='1548362520' id='650064'>
<a class='timestamp' href='#650064'><time timestamp='2019-01-24T20:42:00Z'>20:42</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
So for example, imagine a device doing public derrivation, botches the generation of the public key, and it caches that value (since its slow I bet all implementations store it).  Any number of imports would give keys, they&#x27;d all look fine, but the device would fail to be able to sign for any of its keys.
<br>
</div>

<div class='talk op-msg' data-timestamp='1548362580' id='650065'>
<a class='timestamp' href='#650065'><time timestamp='2019-01-24T20:43:00Z'>20:43</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
I suspect most devices don&#x27;t cache public keys, and only store the seed. So if they can derive a valid address they can sign it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1548362580' id='650066'>
<a class='timestamp' href='#650066'><time timestamp='2019-01-24T20:43:00Z'>20:43</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
With public derrivation in use, I can&#x27;t think of any likely issue where it could sign for one key but not another.
<br>
</div>

<div class='talk op-msg' data-timestamp='1548362580' id='650067'>
<a class='timestamp' href='#650067'><time timestamp='2019-01-24T20:43:00Z'>20:43</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
(until they can&#x27;t, which is where backups become important)
<br>
</div>

<div class='talk op-msg' data-timestamp='1548362640' id='650068'>
<a class='timestamp' href='#650068'><time timestamp='2019-01-24T20:44:00Z'>20:44</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
If they don&#x27;t cache the master pubkey, then indeed multiple imports would be different under that proposed failure mode.
<br>
</div>

<div class='talk op-msg' data-timestamp='1548362640' id='650069'>
<a class='timestamp' href='#650069'><time timestamp='2019-01-24T20:44:00Z'>20:44</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
I don&#x27;t think they cache the pubkeys, but that could change at any time and be different between devices
<br>
</div>

<div class='talk op-msg' data-timestamp='1548362640' id='650070'>
<a class='timestamp' href='#650070'><time timestamp='2019-01-24T20:44:00Z'>20:44</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Though a &#x27;also try to get a signed message on import&#x27; would catch faults in both implementations.
<br>
</div>

<div class='talk op-msg' data-timestamp='1548362700' id='650071'>
<a class='timestamp' href='#650071'><time timestamp='2019-01-24T20:45:00Z'>20:45</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
deriving multiple keys with just different indexes is slow as fuck on all devices
<br>
</div>

<div class='talk op-msg' data-timestamp='1548362700' id='650072'>
<a class='timestamp' href='#650072'><time timestamp='2019-01-24T20:45:00Z'>20:45</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Basically getting a signature is a fully general test to make sure signing works.
<br>
</div>

<div class='talk op-msg' data-timestamp='1548362700' id='650073'>
<a class='timestamp' href='#650073'><time timestamp='2019-01-24T20:45:00Z'>20:45</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
achow101: I was thinking they&#x27;d cache the master, not the child keys. but who knows, as you note it could change at any time.
<br>
</div>

<div class='talk op-msg' data-timestamp='1548362700' id='650074'>
<a class='timestamp' href='#650074'><time timestamp='2019-01-24T20:45:00Z'>20:45</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
To the degree cache exists, it might also be ephemeral, so in that case asking the user to unplug and replug, might help.
<br>
</div>

<div class='talk op-msg' data-timestamp='1548362700' id='650075'>
<a class='timestamp' href='#650075'><time timestamp='2019-01-24T20:45:00Z'>20:45</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
But this all varies per device. I agree signing would be better.
<br>
</div>

<div class='talk op-msg' data-timestamp='1548362760' id='650076'>
<a class='timestamp' href='#650076'><time timestamp='2019-01-24T20:46:00Z'>20:46</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
gmaxwell: they all require hardened derivation at some point IIRC, so caching the master wouldn&#x27;t be particularly helpful
<br>
</div>

<div class='talk op-msg' data-timestamp='1548362760' id='650077'>
<a class='timestamp' href='#650077'><time timestamp='2019-01-24T20:46:00Z'>20:46</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
But devices don&#x27;t like having code that can sign arbitrary stuff, for risk of an attacking abusing that.
<br>
</div>

<div class='talk op-msg' data-timestamp='1548362760' id='650078'>
<a class='timestamp' href='#650078'><time timestamp='2019-01-24T20:46:00Z'>20:46</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
right. Well we can only go so far too. :)  But the standard we&#x27;ve set internally to bitcoin core is sign-after-generate.
<br>
</div>

<div class='talk op-msg' data-timestamp='1548362760' id='650079'>
<a class='timestamp' href='#650079'><time timestamp='2019-01-24T20:46:00Z'>20:46</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
(sign arbitrary stuff without user approving, and checking all the details)
<br>
</div>

<div class='talk op-msg' data-timestamp='1548362820' id='650080'>
<a class='timestamp' href='#650080'><time timestamp='2019-01-24T20:47:00Z'>20:47</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
At enrollment time, a user approving one signature seems reasonsable.
<br>
</div>

<div class='talk op-msg' data-timestamp='1548362820' id='650081'>
<a class='timestamp' href='#650081'><time timestamp='2019-01-24T20:47:00Z'>20:47</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
&quot;internally to bitcoin core is sign-after-generate&quot; - I didn&#x27;t know we did that, that seems smart.
<br>
</div>

<div class='talk op-msg' data-timestamp='1548362880' id='650082'>
<a class='timestamp' href='#650082'><time timestamp='2019-01-24T20:48:00Z'>20:48</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
It&#x27;s a response to a real failure-- in other wallet software a few years back-- that resulted in an extreme amount funds loss (that unfortunately is non-public).
<br>
</div>

<div class='talk op-msg' data-timestamp='1548362880' id='650083'>
<a class='timestamp' href='#650083'><time timestamp='2019-01-24T20:48:00Z'>20:48</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Even devices that don&#x27;t have an official sign message feature, Bitcoin Core could just have it sign a fake transaction.
<br>
</div>

<div class='talk op-msg' data-timestamp='1548362880' id='650084'>
<a class='timestamp' href='#650084'><time timestamp='2019-01-24T20:48:00Z'>20:48</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Indeed.
<br>
</div>

<div class='talk op-msg' data-timestamp='1548362880' id='650085'>
<a class='timestamp' href='#650085'><time timestamp='2019-01-24T20:48:00Z'>20:48</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
(provably fake ideally)
<br>
</div>

<div class='talk op-msg' data-timestamp='1548362880' id='650086'>
<a class='timestamp' href='#650086'><time timestamp='2019-01-24T20:48:00Z'>20:48</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
0 value, locktimed almost-forever far in the future would be nice.
<br>
</div>

<div class='talk op-msg' data-timestamp='1548362940' id='650087'>
<a class='timestamp' href='#650087'><time timestamp='2019-01-24T20:49:00Z'>20:49</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Or with a relative lock time after the heath death of the universe.
<br>
</div>

<div class='talk op-msg' data-timestamp='1548362940' id='650088'>
<a class='timestamp' href='#650088'><time timestamp='2019-01-24T20:49:00Z'>20:49</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I think it would be nice to even do more than what Bitcoin Core currently does.. but priorities,  the sign/verify after generate is a pretty general protection at least.
<br>
</div>

<div class='talk op-msg' data-timestamp='1548362940' id='650089'>
<a class='timestamp' href='#650089'><time timestamp='2019-01-24T20:49:00Z'>20:49</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
provoostenator: that&#x27;s actually largely not possible for most devices since they verify inputs
<br>
</div>

<div class='talk op-msg' data-timestamp='1548362940' id='650090'>
<a class='timestamp' href='#650090'><time timestamp='2019-01-24T20:49:00Z'>20:49</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
oh, actually if you claim it&#x27;s segwit that&#x27;s fine
<br>
</div>

<div class='talk op-msg' data-timestamp='1548362940' id='650091'>
<a class='timestamp' href='#650091'><time timestamp='2019-01-24T20:49:00Z'>20:49</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Ah that pesky Segwit thing, but they still sign legacy transactions...
<br>
</div>

<div class='talk op-msg' data-timestamp='1548363000' id='650092'>
<a class='timestamp' href='#650092'><time timestamp='2019-01-24T20:50:00Z'>20:50</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Or you mean the other way around?
<br>
</div>

<div class='talk op-msg' data-timestamp='1548363000' id='650093'>
<a class='timestamp' href='#650093'><time timestamp='2019-01-24T20:50:00Z'>20:50</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
sign a segwit input. they don&#x27;t verify those inputs
<br>
</div>

<div class='talk op-msg' data-timestamp='1548363060' id='650094'>
<a class='timestamp' href='#650094'><time timestamp='2019-01-24T20:51:00Z'>20:51</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Ah ok, so for legacy they insist on seeing an entire transaction with inputs? That does get tedious. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1548363060' id='650095'>
<a class='timestamp' href='#650095'><time timestamp='2019-01-24T20:51:00Z'>20:51</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
yeah
<br>
</div>

<div class='talk op-msg' data-timestamp='1548363060' id='650096'>
<a class='timestamp' href='#650096'><time timestamp='2019-01-24T20:51:00Z'>20:51</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
But that could also be fake right?
<br>
</div>

<div class='talk op-msg' data-timestamp='1548363060' id='650097'>
<a class='timestamp' href='#650097'><time timestamp='2019-01-24T20:51:00Z'>20:51</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Spending non-existing coins.
<br>
</div>

<div class='talk op-msg' data-timestamp='1548363060' id='650098'>
<a class='timestamp' href='#650098'><time timestamp='2019-01-24T20:51:00Z'>20:51</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
sure, but that&#x27;s more work
<br>
</div>

<div class='talk op-msg' data-timestamp='1548363060' id='650099'>
<a class='timestamp' href='#650099'><time timestamp='2019-01-24T20:51:00Z'>20:51</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Indeed
<br>
</div>

<div class='talk op-msg' data-timestamp='1548363360' id='650100'>
<a class='timestamp' href='#650100'><time timestamp='2019-01-24T20:56:00Z'>20:56</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
So I&#x27;ll probably add something to my PR in the signerfetchkeys  RPC method, which imports the keys, to call sign message on the device with one of the keys, and then check the result.
<br>
</div>

<div class='talk op-msg' data-timestamp='1548363420' id='650101'>
<a class='timestamp' href='#650101'><time timestamp='2019-01-24T20:57:00Z'>20:57</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Although there&#x27;s no way to undo an import, at the RPC method would fail with a giant error telling the user to delete their new wallet and retry the import. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1548363420' id='650102'>
<a class='timestamp' href='#650102'><time timestamp='2019-01-24T20:57:00Z'>20:57</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
*, at least the RPC...
<br>
</div>

<div class='talk op-msg' data-timestamp='1548365340' id='650103'>
<a class='timestamp' href='#650103'><time timestamp='2019-01-24T21:29:00Z'>21:29</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] instagibbs opened pull request #15245: remove deprecated mentions of signrawtransaction from fundraw help (master...fundraw_signraw) <a href="https://github.com/bitcoin/bitcoin/pull/15245" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/15245</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1548367740' id='650104'>
<a class='timestamp' href='#650104'><time timestamp='2019-01-24T22:09:00Z'>22:09</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke opened pull request #15246: qa: Add tests for invalid message headers (master...Mf1901-qaMsgHeader) <a href="https://github.com/bitcoin/bitcoin/pull/15246" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/15246</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1548372360' id='650105'>
<a class='timestamp' href='#650105'><time timestamp='2019-01-24T23:26:00Z'>23:26</time></a>
&lt;<span class='nick nick-3'> meshcollider</span>&gt;
sipa: I&#x27;ve been thinking about your comment here: <a href="https://github.com/bitcoin/bitcoin/pull/14491#discussion_r247192015" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/14491#discussion_r247192015</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1548372360' id='650106'>
<a class='timestamp' href='#650106'><time timestamp='2019-01-24T23:26:00Z'>23:26</time></a>
&lt;<span class='nick nick-3'> meshcollider</span>&gt;
current behaviour is that all pubkeys are added as watchonly if theyre provided in the pubkeys field of importmulti, even if they appear only in subscripts
<br>
</div>

<div class='talk op-msg' data-timestamp='1548372420' id='650107'>
<a class='timestamp' href='#650107'><time timestamp='2019-01-24T23:27:00Z'>23:27</time></a>
&lt;<span class='nick nick-3'> meshcollider</span>&gt;
do we want to keep that behaviuor?
<br>
</div>

<div class='talk op-msg' data-timestamp='1548372540' id='650108'>
<a class='timestamp' href='#650108'><time timestamp='2019-01-24T23:29:00Z'>23:29</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
meshcollider: you can only specify pubkeys for importmulti when they&#x27;re actually used as pubkey hashes
<br>
</div>

<div class='talk op-msg' data-timestamp='1548372540' id='650109'>
<a class='timestamp' href='#650109'><time timestamp='2019-01-24T23:29:00Z'>23:29</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
right?
<br>
</div>

<div class='talk op-msg' data-timestamp='1548372540' id='650110'>
<a class='timestamp' href='#650110'><time timestamp='2019-01-24T23:29:00Z'>23:29</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and not for example a pubkey in a multisig
<br>
</div>

<div class='talk op-msg' data-timestamp='1548372540' id='650111'>
<a class='timestamp' href='#650111'><time timestamp='2019-01-24T23:29:00Z'>23:29</time></a>
&lt;<span class='nick nick-3'> meshcollider</span>&gt;
yeah but if you use pubkey hashes in a P2SH script is it intentionally that the pubkey itself becomes watched
<br>
</div>

<div class='talk op-msg' data-timestamp='1548372540' id='650112'>
<a class='timestamp' href='#650112'><time timestamp='2019-01-24T23:29:00Z'>23:29</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sure
<br>
</div>

<div class='talk op-msg' data-timestamp='1548372540' id='650113'>
<a class='timestamp' href='#650113'><time timestamp='2019-01-24T23:29:00Z'>23:29</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that&#x27;s ok
<br>
</div>

<div class='talk op-msg' data-timestamp='1548372540' id='650114'>
<a class='timestamp' href='#650114'><time timestamp='2019-01-24T23:29:00Z'>23:29</time></a>
&lt;<span class='nick nick-3'> meshcollider</span>&gt;
ok
<br>
</div>

<div class='talk op-msg' data-timestamp='1548372600' id='650115'>
<a class='timestamp' href='#650115'><time timestamp='2019-01-24T23:30:00Z'>23:30</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
(and inevitable for now)
<br>
</div>

<div class='talk op-msg' data-timestamp='1548372600' id='650116'>
<a class='timestamp' href='#650116'><time timestamp='2019-01-24T23:30:00Z'>23:30</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
well, it&#x27;s not ok - but it isn&#x27;t changing policy
<br>
</div>

<div class='talk op-msg' data-timestamp='1548372600' id='650117'>
<a class='timestamp' href='#650117'><time timestamp='2019-01-24T23:30:00Z'>23:30</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
if you want to watch a P2WPKH you shouldn&#x27;t need to also watch the corresponding P2PK and P2PKH, but for now that&#x27;s inevitable
<br>
</div>

<div class='talk op-msg' data-timestamp='1548372600' id='650118'>
<a class='timestamp' href='#650118'><time timestamp='2019-01-24T23:30:00Z'>23:30</time></a>
&lt;<span class='nick nick-3'> meshcollider</span>&gt;
right
<br>
</div>

<div class='talk op-msg' data-timestamp='1548372600' id='650119'>
<a class='timestamp' href='#650119'><time timestamp='2019-01-24T23:30:00Z'>23:30</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
however, if you&#x27;re able to spend the P2WPKH, you&#x27;re also able to spend the P2PK/P2PKH
<br>
</div>

<div class='talk op-msg' data-timestamp='1548372660' id='650120'>
<a class='timestamp' href='#650120'><time timestamp='2019-01-24T23:31:00Z'>23:31</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
this is not the case for multisig; if you want to watch the multisig, you shouldn&#x27;t also watch P2PKH for the keys in it
<br>
</div>

<div class='talk op-msg' data-timestamp='1548372840' id='650121'>
<a class='timestamp' href='#650121'><time timestamp='2019-01-24T23:34:00Z'>23:34</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
does that make sense?
<br>
</div>

<div class='talk op-msg' data-timestamp='1548372960' id='650122'>
<a class='timestamp' href='#650122'><time timestamp='2019-01-24T23:36:00Z'>23:36</time></a>
&lt;<span class='nick nick-3'> meshcollider</span>&gt;
yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1548372960' id='650123'>
<a class='timestamp' href='#650123'><time timestamp='2019-01-24T23:36:00Z'>23:36</time></a>
&lt;<span class='nick nick-3'> meshcollider</span>&gt;
I just wanted to check the current behaviour was correct
<br>
</div>

<div class='talk op-msg' data-timestamp='1548373500' id='650124'>
<a class='timestamp' href='#650124'><time timestamp='2019-01-24T23:45:00Z'>23:45</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke opened pull request #15247: qa: Use wallet to retrieve raw transactions (master...Mf1901-qaWalletRaw) <a href="https://github.com/bitcoin/bitcoin/pull/15247" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/15247</a>
<br>
</div>

</div>
</section>

</body>
</html>
