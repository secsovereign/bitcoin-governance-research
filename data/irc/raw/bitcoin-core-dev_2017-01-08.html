<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2017-01-08
 — 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2017-01-08' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:25 UTC</pre>
<pre><a href="/bitcoin-core-dev/2016-12-08">&lt;</a><span class='header'>   January 2017   </span><a href="/bitcoin-core-dev/2017-02-08">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A; <a class="" href="/bitcoin-core-dev/2017-01-01">1</a>  <a class="" href="/bitcoin-core-dev/2017-01-02">2</a>  <a class="" href="/bitcoin-core-dev/2017-01-03">3</a>  <a class="" href="/bitcoin-core-dev/2017-01-04">4</a>  <a class="" href="/bitcoin-core-dev/2017-01-05">5</a>  <a class="" href="/bitcoin-core-dev/2017-01-06">6</a>  <a class="" href="/bitcoin-core-dev/2017-01-07">7</a>  &#x000A; <a class="current" href="/bitcoin-core-dev/2017-01-08">8</a>  <a class="" href="/bitcoin-core-dev/2017-01-09">9</a> <a class="" href="/bitcoin-core-dev/2017-01-10">10</a> <a class="" href="/bitcoin-core-dev/2017-01-11">11</a> <a class="" href="/bitcoin-core-dev/2017-01-12">12</a> <a class="" href="/bitcoin-core-dev/2017-01-13">13</a> <a class="" href="/bitcoin-core-dev/2017-01-14">14</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2017-01-15">15</a> <a class="" href="/bitcoin-core-dev/2017-01-16">16</a> <a class="" href="/bitcoin-core-dev/2017-01-17">17</a> <a class="" href="/bitcoin-core-dev/2017-01-18">18</a> <a class="" href="/bitcoin-core-dev/2017-01-19">19</a> <a class="" href="/bitcoin-core-dev/2017-01-20">20</a> <a class="" href="/bitcoin-core-dev/2017-01-21">21</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2017-01-22">22</a> <a class="" href="/bitcoin-core-dev/2017-01-23">23</a> <a class="" href="/bitcoin-core-dev/2017-01-24">24</a> <a class="" href="/bitcoin-core-dev/2017-01-25">25</a> <a class="" href="/bitcoin-core-dev/2017-01-26">26</a> <a class="" href="/bitcoin-core-dev/2017-01-27">27</a> <a class="" href="/bitcoin-core-dev/2017-01-28">28</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2017-01-29">29</a> <a class="" href="/bitcoin-core-dev/2017-01-30">30</a> <a class="" href="/bitcoin-core-dev/2017-01-31">31</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1483833600' id='521866'>
<a class='timestamp' href='#521866'><time timestamp='2017-01-08T00:00:00Z'>00:00</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/blob/master/doc/developer-notes.md" class="link" target="_blank">https://github.com/bitcoin/bitcoin/blob/master/doc/developer-notes.md</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1483833660' id='521867'>
<a class='timestamp' href='#521867'><time timestamp='2017-01-08T00:01:00Z'>00:01</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it gives an example that include a one-line unbraced indendented conditional
<br>
</div>

<div class='talk op-msg' data-timestamp='1483833660' id='521868'>
<a class='timestamp' href='#521868'><time timestamp='2017-01-08T00:01:00Z'>00:01</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
-den
<br>
</div>

<div class='talk op-msg' data-timestamp='1483833660' id='521869'>
<a class='timestamp' href='#521869'><time timestamp='2017-01-08T00:01:00Z'>00:01</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
gmaxwell: I thoguht the same, but sipa corrected me
<br>
</div>

<div class='talk op-msg' data-timestamp='1483833660' id='521870'>
<a class='timestamp' href='#521870'><time timestamp='2017-01-08T00:01:00Z'>00:01</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
oh, wait, prohibited on single line statements? no
<br>
</div>

<div class='talk op-msg' data-timestamp='1483833660' id='521871'>
<a class='timestamp' href='#521871'><time timestamp='2017-01-08T00:01:00Z'>00:01</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
i knew that one
<br>
</div>

<div class='talk op-msg' data-timestamp='1483833660' id='521872'>
<a class='timestamp' href='#521872'><time timestamp='2017-01-08T00:01:00Z'>00:01</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
i thought we had a style guide (or someone had a preference) for the open-brace /always/ being on the line after the if
<br>
</div>

<div class='talk op-msg' data-timestamp='1483833780' id='521873'>
<a class='timestamp' href='#521873'><time timestamp='2017-01-08T00:03:00Z'>00:03</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
BlueMatt: thank you so much for commenting on #9484
<br>
</div>

<div class='talk op-msg' data-timestamp='1483833780' id='521874'>
<a class='timestamp' href='#521874'><time timestamp='2017-01-08T00:03:00Z'>00:03</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/9484" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/9484</a> | Introduce assumevalid setting to skip validation presumed valid scripts. by gmaxwell · Pull Request #9484 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1483833780' id='521875'>
<a class='timestamp' href='#521875'><time timestamp='2017-01-08T00:03:00Z'>00:03</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sipa: yea, I think that should be prohibited. But even if it&#x27;s just permitted to not do that, I&#x27;d be much happier.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483833900' id='521876'>
<a class='timestamp' href='#521876'><time timestamp='2017-01-08T00:05:00Z'>00:05</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I&#x27;m fine with &quot;if (!something) return false;&quot; too; but we&#x27;ve accepted patches that do nothing but add line breaks to code like that.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483834020' id='521877'>
<a class='timestamp' href='#521877'><time timestamp='2017-01-08T00:07:00Z'>00:07</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
but from working on software with that as a coding style, I recall that there was no way to get any of the existing formatters to enforce that rule.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483834260' id='521878'>
<a class='timestamp' href='#521878'><time timestamp='2017-01-08T00:11:00Z'>00:11</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
it would be neat if someone made a formater autoconfiguration tool that finds the formater settings that minimize the changes to your code base, then prompts you for all the settings that have no effect.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483834620' id='521879'>
<a class='timestamp' href='#521879'><time timestamp='2017-01-08T00:17:00Z'>00:17</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
hm actually clang-format has AllowShortIfStatementsOnASingleLine so it can do that, I was mistaken.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483845420' id='521880'>
<a class='timestamp' href='#521880'><time timestamp='2017-01-08T03:17:00Z'>03:17</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
It is possible to have a tx with no outputs right? It would just pay all inputs to miner fees? 
<br>
</div>

<div class='talk op-msg' data-timestamp='1483845480' id='521881'>
<a class='timestamp' href='#521881'><time timestamp='2017-01-08T03:18:00Z'>03:18</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
Chris_Stewart_5: i don&#x27;t think so
<br>
</div>

<div class='talk op-msg' data-timestamp='1483845540' id='521882'>
<a class='timestamp' href='#521882'><time timestamp='2017-01-08T03:19:00Z'>03:19</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
Trying to get my generators right on #8469 it is important that they allow every possible value 
<br>
</div>

<div class='talk op-msg' data-timestamp='1483845540' id='521883'>
<a class='timestamp' href='#521883'><time timestamp='2017-01-08T03:19:00Z'>03:19</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/8469" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/8469</a> | [POC] Introducing property based testing to Core by Christewart · Pull Request #8469 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1483845720' id='521884'>
<a class='timestamp' href='#521884'><time timestamp='2017-01-08T03:22:00Z'>03:22</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
it is not possible.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483845720' id='521885'>
<a class='timestamp' href='#521885'><time timestamp='2017-01-08T03:22:00Z'>03:22</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(I mean you can create such an encoding, but the transaction could never be valid.)
<br>
</div>

<div class='talk op-msg' data-timestamp='1483845720' id='521886'>
<a class='timestamp' href='#521886'><time timestamp='2017-01-08T03:22:00Z'>03:22</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
gmaxwell: Valid in the policy sense? 
<br>
</div>

<div class='talk op-msg' data-timestamp='1483845780' id='521887'>
<a class='timestamp' href='#521887'><time timestamp='2017-01-08T03:23:00Z'>03:23</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
no, in the consensus rules sense.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483845780' id='521888'>
<a class='timestamp' href='#521888'><time timestamp='2017-01-08T03:23:00Z'>03:23</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
the word &#x27;never&#x27; should have tipped you off. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1483845840' id='521889'>
<a class='timestamp' href='#521889'><time timestamp='2017-01-08T03:24:00Z'>03:24</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
gmaxwell: I&#x27;m not sure i&#x27;m ready to believe you yet, why isn&#x27;t it valid? Some where in validation.cpp there is a check for vout.size() &gt; 0?
<br>
</div>

<div class='talk op-msg' data-timestamp='1483845900' id='521890'>
<a class='timestamp' href='#521890'><time timestamp='2017-01-08T03:25:00Z'>03:25</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
yes.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483845900' id='521891'>
<a class='timestamp' href='#521891'><time timestamp='2017-01-08T03:25:00Z'>03:25</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
like you said, enocding/script wise it should be fine I think
<br>
</div>

<div class='talk op-msg' data-timestamp='1483845960' id='521892'>
<a class='timestamp' href='#521892'><time timestamp='2017-01-08T03:26:00Z'>03:26</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
and is it just a thing satoshi did, or is there an actual attack that would be possible
<br>
</div>

<div class='talk op-msg' data-timestamp='1483846080' id='521893'>
<a class='timestamp' href='#521893'><time timestamp='2017-01-08T03:28:00Z'>03:28</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
well it does simplify validation code when it doesn&#x27;t have to check the count before accessing the first one... but no there isn&#x27;t any special attack.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483846080' id='521894'>
<a class='timestamp' href='#521894'><time timestamp='2017-01-08T03:28:00Z'>03:28</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
gmaxwell: Thanks for the explanation :-)
<br>
</div>

<div class='talk op-msg' data-timestamp='1483846500' id='521895'>
<a class='timestamp' href='#521895'><time timestamp='2017-01-08T03:35:00Z'>03:35</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] TheBlueMatt opened pull request #9488: Parallel ThreadMessageHandler (master...2017-01-parallel-processmessages) <a href="https://github.com/bitcoin/bitcoin/pull/9488" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9488</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1483846860' id='521896'>
<a class='timestamp' href='#521896'><time timestamp='2017-01-08T03:41:00Z'>03:41</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
#7871 is sometihng I probably should have mentioned for a 0.14 target in the last meeting, it is highly complementary with importmulti. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1483846860' id='521897'>
<a class='timestamp' href='#521897'><time timestamp='2017-01-08T03:41:00Z'>03:41</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/7871" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/7871</a> | Manual block file pruning. by mrbandrews · Pull Request #7871 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1483847040' id='521898'>
<a class='timestamp' href='#521898'><time timestamp='2017-01-08T03:44:00Z'>03:44</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
though the fact that one works based on time and the other based on height is a little awkward.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483847220' id='521899'>
<a class='timestamp' href='#521899'><time timestamp='2017-01-08T03:47:00Z'>03:47</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
oh weee. thats a bug.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483849140' id='521900'>
<a class='timestamp' href='#521900'><time timestamp='2017-01-08T04:19:00Z'>04:19</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] gmaxwell opened pull request #9489: Make FindLatestBefore use GetMedianTimePast instead of GetBlockTime. (master...fix_find_latest_before) <a href="https://github.com/bitcoin/bitcoin/pull/9489" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9489</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1483849500' id='521901'>
<a class='timestamp' href='#521901'><time timestamp='2017-01-08T04:25:00Z'>04:25</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
Chris_Stewart_5: you <b>*could*</b> have a single output with zero value, note
<br>
</div>

<div class='talk op-msg' data-timestamp='1483850340' id='521902'>
<a class='timestamp' href='#521902'><time timestamp='2017-01-08T04:39:00Z'>04:39</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
luke-jr: Or even negative value 
<br>
</div>

<div class='talk op-msg' data-timestamp='1483850400' id='521903'>
<a class='timestamp' href='#521903'><time timestamp='2017-01-08T04:40:00Z'>04:40</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
I think?
<br>
</div>

<div class='talk op-msg' data-timestamp='1483850400' id='521904'>
<a class='timestamp' href='#521904'><time timestamp='2017-01-08T04:40:00Z'>04:40</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
BuildCreditingTransaction uses that inside of transaction_test.cpp any way...
<br>
</div>

<div class='talk op-msg' data-timestamp='1483850700' id='521905'>
<a class='timestamp' href='#521905'><time timestamp='2017-01-08T04:45:00Z'>04:45</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
wut?
<br>
</div>

<div class='talk op-msg' data-timestamp='1483850760' id='521906'>
<a class='timestamp' href='#521906'><time timestamp='2017-01-08T04:46:00Z'>04:46</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
negative value outputs?
<br>
</div>

<div class='talk op-msg' data-timestamp='1483851240' id='521907'>
<a class='timestamp' href='#521907'><time timestamp='2017-01-08T04:54:00Z'>04:54</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] gmaxwell closed pull request #9489: Make FindLatestBefore use GetMedianTimePast instead of GetBlockTime. (master...fix_find_latest_before) <a href="https://github.com/bitcoin/bitcoin/pull/9489" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9489</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1483851300' id='521908'>
<a class='timestamp' href='#521908'><time timestamp='2017-01-08T04:55:00Z'>04:55</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sipa: will I be hated if I make the entries in CBlockIndex 8 bytes larger? :(
<br>
</div>

<div class='talk op-msg' data-timestamp='1483851480' id='521909'>
<a class='timestamp' href='#521909'><time timestamp='2017-01-08T04:58:00Z'>04:58</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I need a &#x27;highest timestamp seen so far in this chain&#x27; for this FindLatestBefore. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1483851600' id='521910'>
<a class='timestamp' href='#521910'><time timestamp='2017-01-08T05:00:00Z'>05:00</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
obvious way to do that is to just have a maxTime in the CBlockindex which = max(nTime,prev-&gt;maxtime). sorry 4 bytes, I guess our time there is only 32bits.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483851780' id='521911'>
<a class='timestamp' href='#521911'><time timestamp='2017-01-08T05:03:00Z'>05:03</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
Chris_Stewart_5: I am relatively certain that negative value outputs are always invalid.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483854780' id='521912'>
<a class='timestamp' href='#521912'><time timestamp='2017-01-08T05:53:00Z'>05:53</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
gmaxwell: IIRC there are a good chunk more than 8 bytes available in CBlockIndex just from better packing
<br>
</div>

<div class='talk op-msg' data-timestamp='1483854780' id='521913'>
<a class='timestamp' href='#521913'><time timestamp='2017-01-08T05:53:00Z'>05:53</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
so.....
<br>
</div>

<div class='talk op-msg' data-timestamp='1483855080' id='521914'>
<a class='timestamp' href='#521914'><time timestamp='2017-01-08T05:58:00Z'>05:58</time></a>
&lt;<span class='nick nick-11'> kallewoof</span>&gt;
I always thought bitcoin was supposed to pick the chain with the most work, not the longest chain. I did some testing, and with a split network bitcoin picked the longest chain, even though the shorter-by-one chain had a much lower hash.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483855140' id='521915'>
<a class='timestamp' href='#521915'><time timestamp='2017-01-08T05:59:00Z'>05:59</time></a>
&lt;<span class='nick nick-11'> kallewoof</span>&gt;
I.e. (1) 5b6aab3f &gt; 3d697a37 &gt; 4ea2f338. (2) 5b6aab3f &gt; 0000000b. On connecting nodes, result was (1) not (2).
<br>
</div>

<div class='talk op-msg' data-timestamp='1483855380' id='521916'>
<a class='timestamp' href='#521916'><time timestamp='2017-01-08T06:03:00Z'>06:03</time></a>
&lt;<span class='nick nick-1'> kadoban</span>&gt;
kallewoof: Wouldn&#x27;t the difficulty at that point matter, not the actual hashes generated? Or did I make that up?
<br>
</div>

<div class='talk op-msg' data-timestamp='1483855380' id='521917'>
<a class='timestamp' href='#521917'><time timestamp='2017-01-08T06:03:00Z'>06:03</time></a>
&lt;<span class='nick nick-11'> kallewoof</span>&gt;
You mean nBits?
<br>
</div>

<div class='talk op-msg' data-timestamp='1483855440' id='521918'>
<a class='timestamp' href='#521918'><time timestamp='2017-01-08T06:04:00Z'>06:04</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
kadoban: correct.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483855440' id='521919'>
<a class='timestamp' href='#521919'><time timestamp='2017-01-08T06:04:00Z'>06:04</time></a>
&lt;<span class='nick nick-1'> kadoban</span>&gt;
I don&#x27;t know the block format amazingly well, I only remember some parts at a conceptual level. nBits sounds possibly right though
<br>
</div>

<div class='talk op-msg' data-timestamp='1483855440' id='521920'>
<a class='timestamp' href='#521920'><time timestamp='2017-01-08T06:04:00Z'>06:04</time></a>
&lt;<span class='nick nick-1'> kadoban</span>&gt;
Ah good
<br>
</div>

<div class='talk op-msg' data-timestamp='1483855440' id='521921'>
<a class='timestamp' href='#521921'><time timestamp='2017-01-08T06:04:00Z'>06:04</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
kadoban: other than sufficiency, the hash value doesn&#x27;t have anything to do with the work that went into it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483855500' id='521922'>
<a class='timestamp' href='#521922'><time timestamp='2017-01-08T06:05:00Z'>06:05</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
though nbits doesn&#x27;t tell you the total work, it tells you how much work was required for a particular block.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483855560' id='521923'>
<a class='timestamp' href='#521923'><time timestamp='2017-01-08T06:06:00Z'>06:06</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
the total work is represented as nChainWork in the bitcoin codebase, it isn&#x27;t seralized as part of the block.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483855560' id='521924'>
<a class='timestamp' href='#521924'><time timestamp='2017-01-08T06:06:00Z'>06:06</time></a>
&lt;<span class='nick nick-11'> kallewoof</span>&gt;
So what is the point with the whole &#x27;most work not longest chain&#x27; talk? Nbits is network-widely defined so there will not be a difference ever, will there?
<br>
</div>

<div class='talk op-msg' data-timestamp='1483855560' id='521925'>
<a class='timestamp' href='#521925'><time timestamp='2017-01-08T06:06:00Z'>06:06</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
kallewoof: difficulty changes over time.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483855560' id='521926'>
<a class='timestamp' href='#521926'><time timestamp='2017-01-08T06:06:00Z'>06:06</time></a>
&lt;<span class='nick nick-11'> kallewoof</span>&gt;
I mean, it&#x27;s retargeted, but that&#x27;s it
<br>
</div>

<div class='talk op-msg' data-timestamp='1483855560' id='521927'>
<a class='timestamp' href='#521927'><time timestamp='2017-01-08T06:06:00Z'>06:06</time></a>
&lt;<span class='nick nick-11'> kallewoof</span>&gt;
One client will not have one nbits value while another has a different one, hardly ever. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1483855620' id='521928'>
<a class='timestamp' href='#521928'><time timestamp='2017-01-08T06:07:00Z'>06:07</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
...     
<br>
</div>

<div class='talk op-msg' data-timestamp='1483855620' id='521929'>
<a class='timestamp' href='#521929'><time timestamp='2017-01-08T06:07:00Z'>06:07</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
nbits is a property of the <u>_chain_</u> not the client.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483855680' id='521930'>
<a class='timestamp' href='#521930'><time timestamp='2017-01-08T06:08:00Z'>06:08</time></a>
&lt;<span class='nick nick-11'> kallewoof</span>&gt;
I mean... the work done to a chain is dependent on the accumulated difficulties (which are the nbits values, right?). I just can&#x27;t think of a case where you would have a shorter chain being chosen due to more work.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483855740' id='521931'>
<a class='timestamp' href='#521931'><time timestamp='2017-01-08T06:09:00Z'>06:09</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
kallewoof: I can trivially go fork at block 100,000 and then hand you a chain with way more blocks then the current chain but massively less work.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483855800' id='521932'>
<a class='timestamp' href='#521932'><time timestamp='2017-01-08T06:10:00Z'>06:10</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
it&#x27;s a trivial attack, and utterly devistating to most-blocks.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483855860' id='521933'>
<a class='timestamp' href='#521933'><time timestamp='2017-01-08T06:11:00Z'>06:11</time></a>
&lt;<span class='nick nick-11'> kallewoof</span>&gt;
Ahh.. so that&#x27;s what the whole &#x27;most work&#x27; thing is about. I get it. Thanks.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483855860' id='521934'>
<a class='timestamp' href='#521934'><time timestamp='2017-01-08T06:11:00Z'>06:11</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
absent attacks, whenever there is a chain fork around a retarget, the two sides can have different amounts of work; which makes a difference though not a terribly critical one.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483855860' id='521935'>
<a class='timestamp' href='#521935'><time timestamp='2017-01-08T06:11:00Z'>06:11</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
no problem.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483855860' id='521936'>
<a class='timestamp' href='#521936'><time timestamp='2017-01-08T06:11:00Z'>06:11</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
kallewoof: lots of people miss that one, the bitcoin software was originally most blocks.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483855920' id='521937'>
<a class='timestamp' href='#521937'><time timestamp='2017-01-08T06:12:00Z'>06:12</time></a>
&lt;<span class='nick nick-11'> kallewoof</span>&gt;
It is super obvious now that you&#x27;ve described it. I wish someone had worded it that way somewhere.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483855980' id='521938'>
<a class='timestamp' href='#521938'><time timestamp='2017-01-08T06:13:00Z'>06:13</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
it&#x27;s the sort of thing that would have been described in the whitepaper, if it were known at the time. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1483856040' id='521939'>
<a class='timestamp' href='#521939'><time timestamp='2017-01-08T06:14:00Z'>06:14</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
also, consider yourself fortunate: the worst position to be in is having never been surprised by anything; from that vantage you can&#x27;t tell how subtle this stuff is... because it&#x27;s all obvious when presented clearly.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483856220' id='521940'>
<a class='timestamp' href='#521940'><time timestamp='2017-01-08T06:17:00Z'>06:17</time></a>
&lt;<span class='nick nick-11'> kallewoof</span>&gt;
gmaxwell: True enough. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1483856460' id='521941'>
<a class='timestamp' href='#521941'><time timestamp='2017-01-08T06:21:00Z'>06:21</time></a>
&lt;<span class='nick nick-11'> kallewoof</span>&gt;
Here&#x27;s the log of my fine-but-failed experiment in case anyone wants to see it, btw: <a href="https://gist.github.com/kallewoof/9b0e541366941e08e41ab1bf3e03f017" class="link" target="_blank">https://gist.github.com/kallewoof/9b0e541366941e08e41ab1bf3e03f017</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1483860180' id='521942'>
<a class='timestamp' href='#521942'><time timestamp='2017-01-08T07:23:00Z'>07:23</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] gmaxwell opened pull request #9490: Replace FindLatestBefore used by importmuti with FindEarliestAtLeast. (master...fix_find_latest_before) <a href="https://github.com/bitcoin/bitcoin/pull/9490" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9490</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1483864740' id='521943'>
<a class='timestamp' href='#521943'><time timestamp='2017-01-08T08:39:00Z'>08:39</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
wump: I think #9404 could be merged.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483864740' id='521944'>
<a class='timestamp' href='#521944'><time timestamp='2017-01-08T08:39:00Z'>08:39</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/9404" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/9404</a> | Smarter coordination of change and fee in CreateTransaction. by morcos · Pull Request #9404 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1483865820' id='521945'>
<a class='timestamp' href='#521945'><time timestamp='2017-01-08T08:57:00Z'>08:57</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
BlueMatt: I with the currently list of network messages in your parallel message handler list-- whats the point?  I also don&#x27;t see how you can handle a GETBLOCKTXN without cs_main.  Do you intend on making it peek at the message further to decide if it will be able to use the cache? 
<br>
</div>

<div class='talk op-msg' data-timestamp='1483875300' id='521946'>
<a class='timestamp' href='#521946'><time timestamp='2017-01-08T11:35:00Z'>11:35</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
paveljanik what do you mean by diff-only related changes in 9469? The changes are required to make the patches apply cleanly..
<br>
</div>

<div class='talk op-msg' data-timestamp='1483875300' id='521947'>
<a class='timestamp' href='#521947'><time timestamp='2017-01-08T11:35:00Z'>11:35</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
fanquake, and this was my question :-) So they are to make the diff apply cleanly. OK. Np with that.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483875360' id='521948'>
<a class='timestamp' href='#521948'><time timestamp='2017-01-08T11:36:00Z'>11:36</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
So we somewhere require the patch to apply cleanly?
<br>
</div>

<div class='talk op-msg' data-timestamp='1483875480' id='521949'>
<a class='timestamp' href='#521949'><time timestamp='2017-01-08T11:38:00Z'>11:38</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
The patches are applied before building the dependancies, <a href="https://github.com/bitcoin/bitcoin/blob/master/depends/packages/libevent.mk#L8" class="link" target="_blank">https://github.com/bitcoin/bitcoin/blob/master/depends/packages/libevent.mk#L8</a>. There isn&#x27;t a hard requirement that they apply perfectly, but it seems logical to update them to do so.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483875540' id='521950'>
<a class='timestamp' href='#521950'><time timestamp='2017-01-08T11:39:00Z'>11:39</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
I do not think so ;-)
<br>
</div>

<div class='talk op-msg' data-timestamp='1483875540' id='521951'>
<a class='timestamp' href='#521951'><time timestamp='2017-01-08T11:39:00Z'>11:39</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
fanquake, ad config.* files - github shows then without final newlines at the end of them...
<br>
</div>

<div class='talk op-msg' data-timestamp='1483875600' id='521952'>
<a class='timestamp' href='#521952'><time timestamp='2017-01-08T11:40:00Z'>11:40</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
paveljanik if you look at the source of them, <a href="http://git.savannah.gnu.org/gitweb/?p=config.git;a=blob_plain;f=config.guess" class="link" target="_blank">http://git.savannah.gnu.org/gitweb/?p=config.git;a=blob_plain;f=config.guess</a>, I can&#x27;t see any new lines. Maybe I&#x27;m missing something?
<br>
</div>

<div class='talk op-msg' data-timestamp='1483875780' id='521953'>
<a class='timestamp' href='#521953'><time timestamp='2017-01-08T11:43:00Z'>11:43</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
wget -O config.sub &#x27;<a href="http://git.savannah.gnu.org/gitweb/?p=config.git;a=blob_plain;f=config.sub;hb=HEAD&#x27" class="link" target="_blank">http://git.savannah.gnu.org/gitweb/?p=config.git;a=blob_plain;f=config.sub;hb=HEAD&#x27</a>; &amp;&amp; hexdump -C config.sub | tail -2
<br>
</div>

<div class='talk op-msg' data-timestamp='1483875840' id='521954'>
<a class='timestamp' href='#521954'><time timestamp='2017-01-08T11:44:00Z'>11:44</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
shows 0x0a at the end.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483875900' id='521955'>
<a class='timestamp' href='#521955'><time timestamp='2017-01-08T11:45:00Z'>11:45</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
the same for the other file.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483876020' id='521956'>
<a class='timestamp' href='#521956'><time timestamp='2017-01-08T11:47:00Z'>11:47</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
heh I can change it back, will investigate the OS X issue.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483876020' id='521957'>
<a class='timestamp' href='#521957'><time timestamp='2017-01-08T11:47:00Z'>11:47</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
paveljanik It&#x27;d be good if you could also review the contents/changelogs of the dependancy updates/hashes of said updates also.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483876080' id='521958'>
<a class='timestamp' href='#521958'><time timestamp='2017-01-08T11:48:00Z'>11:48</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
I&#x27;m in the middle of it ;-)
<br>
</div>

<div class='talk op-msg' data-timestamp='1483876140' id='521959'>
<a class='timestamp' href='#521959'><time timestamp='2017-01-08T11:49:00Z'>11:49</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
Newlines will be the least of our worries if we&#x27;ve got a borked boost version etc
<br>
</div>

<div class='talk op-msg' data-timestamp='1483876200' id='521960'>
<a class='timestamp' href='#521960'><time timestamp='2017-01-08T11:50:00Z'>11:50</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
Hmm, but we should not change the upstream files...
<br>
</div>

<div class='talk op-msg' data-timestamp='1483876260' id='521961'>
<a class='timestamp' href='#521961'><time timestamp='2017-01-08T11:51:00Z'>11:51</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
and these two are upstream files.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483876260' id='521962'>
<a class='timestamp' href='#521962'><time timestamp='2017-01-08T11:51:00Z'>11:51</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
paveljanik which files?
<br>
</div>

<div class='talk op-msg' data-timestamp='1483876260' id='521963'>
<a class='timestamp' href='#521963'><time timestamp='2017-01-08T11:51:00Z'>11:51</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
config.sub and config.guess
<br>
</div>

<div class='talk op-msg' data-timestamp='1483876320' id='521964'>
<a class='timestamp' href='#521964'><time timestamp='2017-01-08T11:52:00Z'>11:52</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
Why would we not update those?
<br>
</div>

<div class='talk op-msg' data-timestamp='1483876320' id='521965'>
<a class='timestamp' href='#521965'><time timestamp='2017-01-08T11:52:00Z'>11:52</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
we should fetch them and store as-is in the depends, not modify them after fetching.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483876320' id='521966'>
<a class='timestamp' href='#521966'><time timestamp='2017-01-08T11:52:00Z'>11:52</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
update: yes!
<br>
</div>

<div class='talk op-msg' data-timestamp='1483876320' id='521967'>
<a class='timestamp' href='#521967'><time timestamp='2017-01-08T11:52:00Z'>11:52</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
modify: no!
<br>
</div>

<div class='talk op-msg' data-timestamp='1483876320' id='521968'>
<a class='timestamp' href='#521968'><time timestamp='2017-01-08T11:52:00Z'>11:52</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
You updated (good!) and modified (wrong!).
<br>
</div>

<div class='talk op-msg' data-timestamp='1483876380' id='521969'>
<a class='timestamp' href='#521969'><time timestamp='2017-01-08T11:53:00Z'>11:53</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
but maybe the modification was not intentional...
<br>
</div>

<div class='talk op-msg' data-timestamp='1483876380' id='521970'>
<a class='timestamp' href='#521970'><time timestamp='2017-01-08T11:53:00Z'>11:53</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
some tooling or so...
<br>
</div>

<div class='talk op-msg' data-timestamp='1483876380' id='521971'>
<a class='timestamp' href='#521971'><time timestamp='2017-01-08T11:53:00Z'>11:53</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
We&#x27;re not patching/modifying them though? 
<br>
</div>

<div class='talk op-msg' data-timestamp='1483876380' id='521972'>
<a class='timestamp' href='#521972'><time timestamp='2017-01-08T11:53:00Z'>11:53</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
oh your talking about the newlines? Yes that can be fixed.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483876380' id='521973'>
<a class='timestamp' href='#521973'><time timestamp='2017-01-08T11:53:00Z'>11:53</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
You did modify the file by deleting the final newline!
<br>
</div>

<div class='talk op-msg' data-timestamp='1483876380' id='521974'>
<a class='timestamp' href='#521974'><time timestamp='2017-01-08T11:53:00Z'>11:53</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
yes     
<br>
</div>

<div class='talk op-msg' data-timestamp='1483876380' id='521975'>
<a class='timestamp' href='#521975'><time timestamp='2017-01-08T11:53:00Z'>11:53</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
BTW - why don&#x27;t we fetch them too?
<br>
</div>

<div class='talk op-msg' data-timestamp='1483876500' id='521976'>
<a class='timestamp' href='#521976'><time timestamp='2017-01-08T11:55:00Z'>11:55</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
Probably something you&#x27;d have to ask theuni.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483876500' id='521977'>
<a class='timestamp' href='#521977'><time timestamp='2017-01-08T11:55:00Z'>11:55</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
gmaxwell I think I must be missing something in #9484. Started a -reindex-chainstate with -assumevalid=&lt;default hash&gt;, and it&#x27;s working far slower than just current master.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483876500' id='521978'>
<a class='timestamp' href='#521978'><time timestamp='2017-01-08T11:55:00Z'>11:55</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/9484" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/9484</a> | Introduce assumevalid setting to skip validation presumed valid scripts. by gmaxwell · Pull Request #9484 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1483891920' id='521979'>
<a class='timestamp' href='#521979'><time timestamp='2017-01-08T16:12:00Z'>16:12</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
gmaxwell: I mean it could only respond to getblocktxn if its the top-block (ie cached one)...I&#x27;m perfectly ok with it having a chance at blocking if it happens to be a request for the wrong block
<br>
</div>

<div class='talk op-msg' data-timestamp='1483891920' id='521980'>
<a class='timestamp' href='#521980'><time timestamp='2017-01-08T16:12:00Z'>16:12</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
gmaxwell: in the common case it&#x27;ll work super well, in the rare case (or if your peer is mean) it might block
<br>
</div>

<div class='talk op-msg' data-timestamp='1483891920' id='521981'>
<a class='timestamp' href='#521981'><time timestamp='2017-01-08T16:12:00Z'>16:12</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
gmaxwell: in the future we could look deeper at the message to see if we will block
<br>
</div>

<div class='talk op-msg' data-timestamp='1483891980' id='521982'>
<a class='timestamp' href='#521982'><time timestamp='2017-01-08T16:13:00Z'>16:13</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: what does &#x27;timestamp seen in a chain&#x27; mean?
<br>
</div>

<div class='talk op-msg' data-timestamp='1483892100' id='521983'>
<a class='timestamp' href='#521983'><time timestamp='2017-01-08T16:15:00Z'>16:15</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
gmaxwell: for 0.15 I may try to push a read/upgrade/write lock model again, which would also make this useful
<br>
</div>

<div class='talk op-msg' data-timestamp='1483892340' id='521984'>
<a class='timestamp' href='#521984'><time timestamp='2017-01-08T16:19:00Z'>16:19</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
gmaxwell: with real State() fixes, we could also support FILTERLOAD/FILTERADD/FILTERCLEAR/VERACK/ADDR/SENDHEADERS/
<br>
</div>

<div class='talk op-msg' data-timestamp='1483892400' id='521985'>
<a class='timestamp' href='#521985'><time timestamp='2017-01-08T16:20:00Z'>16:20</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
which, btw, is all of our non-block/tx-download non-version messages
<br>
</div>

<div class='talk op-msg' data-timestamp='1483892400' id='521986'>
<a class='timestamp' href='#521986'><time timestamp='2017-01-08T16:20:00Z'>16:20</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
and I think we could get version too
<br>
</div>

<div class='talk op-msg' data-timestamp='1483892400' id='521987'>
<a class='timestamp' href='#521987'><time timestamp='2017-01-08T16:20:00Z'>16:20</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
but it would take a tiny bit more work
<br>
</div>

<div class='talk op-msg' data-timestamp='1483892700' id='521988'>
<a class='timestamp' href='#521988'><time timestamp='2017-01-08T16:25:00Z'>16:25</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
maybe for 15 we could even get the mempool-can-be-behind-chainActive stuff like we have for wallet now
<br>
</div>

<div class='talk op-msg' data-timestamp='1483892700' id='521989'>
<a class='timestamp' href='#521989'><time timestamp='2017-01-08T16:25:00Z'>16:25</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
which would make this really awesome
<br>
</div>

<div class='talk op-msg' data-timestamp='1483897920' id='521990'>
<a class='timestamp' href='#521990'><time timestamp='2017-01-08T17:52:00Z'>17:52</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
sipa: you were asking about easy merges? #9480, #9353
<br>
</div>

<div class='talk op-msg' data-timestamp='1483897920' id='521991'>
<a class='timestamp' href='#521991'><time timestamp='2017-01-08T17:52:00Z'>17:52</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/9480" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/9480</a> | De-duplicate SignatureCacheHasher by JeremyRubin · Pull Request #9480 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1483897920' id='521992'>
<a class='timestamp' href='#521992'><time timestamp='2017-01-08T17:52:00Z'>17:52</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/9353" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/9353</a> | Add data() method to CDataStream (and use it) by laanwj · Pull Request #9353 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1483900140' id='521993'>
<a class='timestamp' href='#521993'><time timestamp='2017-01-08T18:29:00Z'>18:29</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
sipa: oh, and the one I actually meant to refer to : #9404
<br>
</div>

<div class='talk op-msg' data-timestamp='1483900140' id='521994'>
<a class='timestamp' href='#521994'><time timestamp='2017-01-08T18:29:00Z'>18:29</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/9404" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/9404</a> | Smarter coordination of change and fee in CreateTransaction. by morcos · Pull Request #9404 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1483905480' id='521995'>
<a class='timestamp' href='#521995'><time timestamp='2017-01-08T19:58:00Z'>19:58</time></a>
&lt;<span class='nick nick-7'> jm111t</span>&gt;
just wanted to mention that about 2 months ago I reported  that I could not import a key and then by rebuilding the blockchain it worked again. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1483905540' id='521996'>
<a class='timestamp' href='#521996'><time timestamp='2017-01-08T19:59:00Z'>19:59</time></a>
&lt;<span class='nick nick-7'> jm111t</span>&gt;
well I had the problem again and found out why. The reason is the file system, the problem arises when your drive is formated with msdos.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483905540' id='521997'>
<a class='timestamp' href='#521997'><time timestamp='2017-01-08T19:59:00Z'>19:59</time></a>
&lt;<span class='nick nick-7'> jm111t</span>&gt;
just in case it might help someone.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483906080' id='521998'>
<a class='timestamp' href='#521998'><time timestamp='2017-01-08T20:08:00Z'>20:08</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
BlueMatt: I don&#x27;t think I can fix most of your nits without amending past commits..
<br>
</div>

<div class='talk op-msg' data-timestamp='1483906200' id='521999'>
<a class='timestamp' href='#521999'><time timestamp='2017-01-08T20:10:00Z'>20:10</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
luke-jr: thats fine...up to you to do that if its required (and no one has published partial reviews)...alternatively you could just add SQUASHME commits on top
<br>
</div>

<div class='talk op-msg' data-timestamp='1483906440' id='522000'>
<a class='timestamp' href='#522000'><time timestamp='2017-01-08T20:14:00Z'>20:14</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sipa: I&#x27;m not sure of the context of your question, but I presume nTime.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483906440' id='522001'>
<a class='timestamp' href='#522001'><time timestamp='2017-01-08T20:14:00Z'>20:14</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
BlueMatt: that doesn&#x27;t work for moving changes from commit X to X-1
<br>
</div>

<div class='talk op-msg' data-timestamp='1483906440' id='522002'>
<a class='timestamp' href='#522002'><time timestamp='2017-01-08T20:14:00Z'>20:14</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
ehh, i dont care if you fix that one
<br>
</div>

<div class='talk op-msg' data-timestamp='1483906440' id='522003'>
<a class='timestamp' href='#522003'><time timestamp='2017-01-08T20:14:00Z'>20:14</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
but if you get around to doing another rebase, might as well do it then
<br>
</div>

<div class='talk op-msg' data-timestamp='1483906800' id='522004'>
<a class='timestamp' href='#522004'><time timestamp='2017-01-08T20:20:00Z'>20:20</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
BlueMatt: any suggestions for removing the pointer from the debug log? there&#x27;s kinda nothing else unique..
<br>
</div>

<div class='talk op-msg' data-timestamp='1483906800' id='522005'>
<a class='timestamp' href='#522005'><time timestamp='2017-01-08T20:20:00Z'>20:20</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
maybe it&#x27;d be okay with lockwallet(0x%x) instead of a decimal number?
<br>
</div>

<div class='talk op-msg' data-timestamp='1483906860' id='522006'>
<a class='timestamp' href='#522006'><time timestamp='2017-01-08T20:21:00Z'>20:21</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
yea, I dont have any great insight into that one...what do you use for wallet ids in the final multiwallet pr?
<br>
</div>

<div class='talk op-msg' data-timestamp='1483906860' id='522007'>
<a class='timestamp' href='#522007'><time timestamp='2017-01-08T20:21:00Z'>20:21</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
no, the point is to not print a pointer into debug.log, since I could contort it into an issue for ASLR
<br>
</div>

<div class='talk op-msg' data-timestamp='1483907040' id='522008'>
<a class='timestamp' href='#522008'><time timestamp='2017-01-08T20:24:00Z'>20:24</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
BlueMatt: final multiwallet gives the wallets names, but there is no strong guarantee they won&#x27;t have the same name
<br>
</div>

<div class='talk op-msg' data-timestamp='1483907100' id='522009'>
<a class='timestamp' href='#522009'><time timestamp='2017-01-08T20:25:00Z'>20:25</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
I suppose I could use the filename if I move some parts of that into this
<br>
</div>

<div class='talk op-msg' data-timestamp='1483907100' id='522010'>
<a class='timestamp' href='#522010'><time timestamp='2017-01-08T20:25:00Z'>20:25</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
huh? if they have the same name how would you index them? dont you check name-uniqueness on load?
<br>
</div>

<div class='talk op-msg' data-timestamp='1483907160' id='522011'>
<a class='timestamp' href='#522011'><time timestamp='2017-01-08T20:26:00Z'>20:26</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
they aren&#x27;t indexed.
<br>
</div>

<div class='talk op-msg' data-timestamp='1483907160' id='522012'>
<a class='timestamp' href='#522012'><time timestamp='2017-01-08T20:26:00Z'>20:26</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
i mean for this pr you could just have a second id field in the scheduler thinggy that gets appended to the string after print
<br>
</div>

<div class='talk op-msg' data-timestamp='1483907160' id='522013'>
<a class='timestamp' href='#522013'><time timestamp='2017-01-08T20:26:00Z'>20:26</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
how do you specify the wallet?
<br>
</div>

<div class='talk op-msg' data-timestamp='1483907160' id='522014'>
<a class='timestamp' href='#522014'><time timestamp='2017-01-08T20:26:00Z'>20:26</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
there&#x27;s a dropdown box in the GUI, and for RPC by filename
<br>
</div>

<div class='talk op-msg' data-timestamp='1483907220' id='522015'>
<a class='timestamp' href='#522015'><time timestamp='2017-01-08T20:27:00Z'>20:27</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
oh, hum....
<br>
</div>

<div class='talk op-msg' data-timestamp='1483907220' id='522016'>
<a class='timestamp' href='#522016'><time timestamp='2017-01-08T20:27:00Z'>20:27</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
hm, I suppose strWalletFile is already there
<br>
</div>

<div class='talk op-msg' data-timestamp='1483907220' id='522017'>
<a class='timestamp' href='#522017'><time timestamp='2017-01-08T20:27:00Z'>20:27</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
and I guess we don&#x27;t support files outside of .bitcoin or in subdirs
<br>
</div>

<div class='talk op-msg' data-timestamp='1483907280' id='522018'>
<a class='timestamp' href='#522018'><time timestamp='2017-01-08T20:28:00Z'>20:28</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
yea, I&#x27;d be more comfortable with just using that
<br>
</div>

<div class='talk op-msg' data-timestamp='1483907280' id='522019'>
<a class='timestamp' href='#522019'><time timestamp='2017-01-08T20:28:00Z'>20:28</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
it&#x27;s not a strong guarantee, but maybe good enough
<br>
</div>

<div class='talk op-msg' data-timestamp='1483907280' id='522020'>
<a class='timestamp' href='#522020'><time timestamp='2017-01-08T20:28:00Z'>20:28</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
well you certainly cant load two wallets with the same name???
<br>
</div>

<div class='talk op-msg' data-timestamp='1483907340' id='522021'>
<a class='timestamp' href='#522021'><time timestamp='2017-01-08T20:29:00Z'>20:29</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
oh, wait, no, you also cant load two wallets in the same dir, can you?
<br>
</div>

<div class='talk op-msg' data-timestamp='1483907340' id='522022'>
<a class='timestamp' href='#522022'><time timestamp='2017-01-08T20:29:00Z'>20:29</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
does bdb barf on that?
<br>
</div>

<div class='talk op-msg' data-timestamp='1483907340' id='522023'>
<a class='timestamp' href='#522023'><time timestamp='2017-01-08T20:29:00Z'>20:29</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
you can only load two wallets in the same dir
<br>
</div>

<div class='talk op-msg' data-timestamp='1483907400' id='522024'>
<a class='timestamp' href='#522024'><time timestamp='2017-01-08T20:30:00Z'>20:30</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
oh? i guess its all the same bdb context thinggy?
<br>
</div>

<div class='talk op-msg' data-timestamp='1483907400' id='522025'>
<a class='timestamp' href='#522025'><time timestamp='2017-01-08T20:30:00Z'>20:30</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
yes     
<br>
</div>

<div class='talk op-msg' data-timestamp='1483907400' id='522026'>
<a class='timestamp' href='#522026'><time timestamp='2017-01-08T20:30:00Z'>20:30</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
we don&#x27;t actually enforce same-dir, but it&#x27;s going to use the same bdb database dir I think
<br>
</div>

<div class='talk op-msg' data-timestamp='1483907460' id='522027'>
<a class='timestamp' href='#522027'><time timestamp='2017-01-08T20:31:00Z'>20:31</time></a>
&lt;<span class='nick nick-14'> * luke-jr</span>&gt;
wonders if we should be enforcing that
<br>
</div>

<div class='talk op-msg' data-timestamp='1483907520' id='522028'>
<a class='timestamp' href='#522028'><time timestamp='2017-01-08T20:32:00Z'>20:32</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
yes, probably
<br>
</div>

<div class='talk op-msg' data-timestamp='1483907520' id='522029'>
<a class='timestamp' href='#522029'><time timestamp='2017-01-08T20:32:00Z'>20:32</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
when in doubt, enforce, I&#x27;d say here
<br>
</div>

<div class='talk op-msg' data-timestamp='1483907520' id='522030'>
<a class='timestamp' href='#522030'><time timestamp='2017-01-08T20:32:00Z'>20:32</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
given bdb.........
<br>
</div>

<div class='talk op-msg' data-timestamp='1483907760' id='522031'>
<a class='timestamp' href='#522031'><time timestamp='2017-01-08T20:36:00Z'>20:36</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
not really sure what to do with 989e352f7931f6ab9212e821e2d00e4aa0106635. Someone wanted it. :/
<br>
</div>

<div class='talk op-msg' data-timestamp='1483907820' id='522032'>
<a class='timestamp' href='#522032'><time timestamp='2017-01-08T20:37:00Z'>20:37</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
i mean the ones inside ifdef ENABLE_WALLET could be moved, and then you could #include inside an ENABLE_WALLET
<br>
</div>

<div class='talk op-msg' data-timestamp='1483907820' id='522033'>
<a class='timestamp' href='#522033'><time timestamp='2017-01-08T20:37:00Z'>20:37</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
but the include should only be inside an ENABLE_WALLET
<br>
</div>

<div class='talk op-msg' data-timestamp='1483910340' id='522034'>
<a class='timestamp' href='#522034'><time timestamp='2017-01-08T21:19:00Z'>21:19</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
BlueMatt: okay, I think I got everything
<br>
</div>

<div class='talk op-msg' data-timestamp='1483910580' id='522035'>
<a class='timestamp' href='#522035'><time timestamp='2017-01-08T21:23:00Z'>21:23</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
oh fun, master doesn&#x27;t build :x
<br>
</div>

<div class='talk op-msg' data-timestamp='1483910580' id='522036'>
<a class='timestamp' href='#522036'><time timestamp='2017-01-08T21:23:00Z'>21:23</time></a>
&lt;<span class='nick nick-14'> * luke-jr</span>&gt;
hopes his rebase went smoothly
<br>
</div>

<div class='talk op-msg' data-timestamp='1483910640' id='522037'>
<a class='timestamp' href='#522037'><time timestamp='2017-01-08T21:24:00Z'>21:24</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
huh?
<br>
</div>

<div class='talk op-msg' data-timestamp='1483910640' id='522038'>
<a class='timestamp' href='#522038'><time timestamp='2017-01-08T21:24:00Z'>21:24</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
under what settings?
<br>
</div>

<div class='talk op-msg' data-timestamp='1483910700' id='522039'>
<a class='timestamp' href='#522039'><time timestamp='2017-01-08T21:25:00Z'>21:25</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
test/raii_event_tests.cpp:39:58: error: ‘event_set_mem_functions’ was not declared in this scope
<br>
</div>

<div class='talk op-msg' data-timestamp='1483910760' id='522040'>
<a class='timestamp' href='#522040'><time timestamp='2017-01-08T21:26:00Z'>21:26</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
fanquake: doesn&#x27;t bode well for reviewing the constants; when I updated for opening the pull request, I updated the constants, and managed to put a testnet block in the mainnet default. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1483910760' id='522041'>
<a class='timestamp' href='#522041'><time timestamp='2017-01-08T21:26:00Z'>21:26</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
fengling: it&#x27;s fixed now.
<br>
</div>

</div>
</section>

</body>
</html>
