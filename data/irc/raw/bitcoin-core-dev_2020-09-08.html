<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2020-09-08
 — 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2020-09-08' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:17 UTC</pre>
<pre><a href="/bitcoin-core-dev/2020-08-08">&lt;</a><span class='header'>  September 2020  </span><a href="/bitcoin-core-dev/2020-10-08">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;       <a class="" href="/bitcoin-core-dev/2020-09-01">1</a>  <a class="" href="/bitcoin-core-dev/2020-09-02">2</a>  <a class="" href="/bitcoin-core-dev/2020-09-03">3</a>  <a class="" href="/bitcoin-core-dev/2020-09-04">4</a>  <a class="" href="/bitcoin-core-dev/2020-09-05">5</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2020-09-06">6</a>  <a class="" href="/bitcoin-core-dev/2020-09-07">7</a>  <a class="current" href="/bitcoin-core-dev/2020-09-08">8</a>  <a class="" href="/bitcoin-core-dev/2020-09-09">9</a> <a class="" href="/bitcoin-core-dev/2020-09-10">10</a> <a class="" href="/bitcoin-core-dev/2020-09-11">11</a> <a class="" href="/bitcoin-core-dev/2020-09-12">12</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2020-09-13">13</a> <a class="" href="/bitcoin-core-dev/2020-09-14">14</a> <a class="" href="/bitcoin-core-dev/2020-09-15">15</a> <a class="" href="/bitcoin-core-dev/2020-09-16">16</a> <a class="" href="/bitcoin-core-dev/2020-09-17">17</a> <a class="" href="/bitcoin-core-dev/2020-09-18">18</a> <a class="" href="/bitcoin-core-dev/2020-09-19">19</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2020-09-20">20</a> <a class="" href="/bitcoin-core-dev/2020-09-21">21</a> <a class="" href="/bitcoin-core-dev/2020-09-22">22</a> <a class="" href="/bitcoin-core-dev/2020-09-23">23</a> <a class="" href="/bitcoin-core-dev/2020-09-24">24</a> <a class="" href="/bitcoin-core-dev/2020-09-25">25</a> <a class="" href="/bitcoin-core-dev/2020-09-26">26</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2020-09-27">27</a> <a class="" href="/bitcoin-core-dev/2020-09-28">28</a> <a class="" href="/bitcoin-core-dev/2020-09-29">29</a> <a class="" href="/bitcoin-core-dev/2020-09-30">30</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1599543660' id='402541'>
<a class='timestamp' href='#402541'><time timestamp='2020-09-08T05:41:00Z'>05:41</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
Wumpus / sipa: can you block maza1374
<br>
</div>

<div class='talk op-msg' data-timestamp='1599544620' id='402542'>
<a class='timestamp' href='#402542'><time timestamp='2020-09-08T05:57:00Z'>05:57</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke opened pull request #19914: refactor: Do not pass chain params to CheckForStaleTipAndEvictPeers twice (master...2009-netNo2ChainParams) <a href="https://github.com/bitcoin/bitcoin/pull/19914" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19914</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1599547620' id='402543'>
<a class='timestamp' href='#402543'><time timestamp='2020-09-08T06:47:00Z'>06:47</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
#19895 should be closed I assume.
<br>
</div>

<div class='talk op-msg' data-timestamp='1599547620' id='402544'>
<a class='timestamp' href='#402544'><time timestamp='2020-09-08T06:47:00Z'>06:47</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/19895" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/19895</a> | I find this line very offensive. · Issue #19895 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1599547920' id='402545'>
<a class='timestamp' href='#402545'><time timestamp='2020-09-08T06:52:00Z'>06:52</time></a>
&lt;<span class='nick nick-3'> aj</span>&gt;
closed/locked
<br>
</div>

<div class='talk op-msg' data-timestamp='1599548340' id='402546'>
<a class='timestamp' href='#402546'><time timestamp='2020-09-08T06:59:00Z'>06:59</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] hebasto closed pull request #19913: refactor: Drop unused `UniqueLock(Mutex*, ...)` constructor in sync.h (master...200907-sync) <a href="https://github.com/bitcoin/bitcoin/pull/19913" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19913</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1599553800' id='402547'>
<a class='timestamp' href='#402547'><time timestamp='2020-09-08T08:30:00Z'>08:30</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] hebasto opened pull request #19915: refactor: Use Mutex type for some mutexes in CNode class (master...200908-netmx) <a href="https://github.com/bitcoin/bitcoin/pull/19915" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19915</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1599554160' id='402548'>
<a class='timestamp' href='#402548'><time timestamp='2020-09-08T08:36:00Z'>08:36</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] Crypt-iQ opened pull request #19916: build: allow user to specify DIR_FUZZ_SEED_CORPUS when invoking cov_fuzz target (master...cov_fuzz_cleanup_0908) <a href="https://github.com/bitcoin/bitcoin/pull/19916" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19916</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1599555720' id='402549'>
<a class='timestamp' href='#402549'><time timestamp='2020-09-08T09:02:00Z'>09:02</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] naumenkogs closed pull request #19697: Improvements on ADDR caching (master...2020-08-addr-cache-follow-up) <a href="https://github.com/bitcoin/bitcoin/pull/19697" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19697</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1599555720' id='402550'>
<a class='timestamp' href='#402550'><time timestamp='2020-09-08T09:02:00Z'>09:02</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] naumenkogs reopened pull request #19697: Improvements on ADDR caching (master...2020-08-addr-cache-follow-up) <a href="https://github.com/bitcoin/bitcoin/pull/19697" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19697</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1599557400' id='402551'>
<a class='timestamp' href='#402551'><time timestamp='2020-09-08T09:30:00Z'>09:30</time></a>
&lt;<span class='nick nick-3'> meshcollider</span>&gt;
I propose for discussion that fanquake be made an admin on the repo so he can block people like Wladimir and Peter can (assuming he wants the ability)
<br>
</div>

<div class='talk op-msg' data-timestamp='1599558180' id='402552'>
<a class='timestamp' href='#402552'><time timestamp='2020-09-08T09:43:00Z'>09:43</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
sgtm
<br>
</div>

<div class='talk op-msg' data-timestamp='1599558300' id='402553'>
<a class='timestamp' href='#402553'><time timestamp='2020-09-08T09:45:00Z'>09:45</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
No objection. I assume it&#x27;s announced somewhere who is blocked?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599558360' id='402554'>
<a class='timestamp' href='#402554'><time timestamp='2020-09-08T09:46:00Z'>09:46</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
(or I guess the blockee can complain via other channels, it&#x27;s not like the Black Mirror episode)
<br>
</div>

<div class='talk op-msg' data-timestamp='1599559260' id='402555'>
<a class='timestamp' href='#402555'><time timestamp='2020-09-08T10:01:00Z'>10:01</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it&#x27;s always mentioned here
<br>
</div>

<div class='talk op-msg' data-timestamp='1599559320' id='402556'>
<a class='timestamp' href='#402556'><time timestamp='2020-09-08T10:02:00Z'>10:02</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
at least, that&#x27;s what we should aim for
<br>
</div>

<div class='talk op-msg' data-timestamp='1599559740' id='402557'>
<a class='timestamp' href='#402557'><time timestamp='2020-09-08T10:09:00Z'>10:09</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
apart from the really rare persistent troll it&#x27;s only been used for obvious fake and scam and spam accounts, who never complain because they understand what they&#x27;re doing
<br>
</div>

<div class='talk op-msg' data-timestamp='1599560940' id='402558'>
<a class='timestamp' href='#402558'><time timestamp='2020-09-08T10:29:00Z'>10:29</time></a>
&lt;<span class='nick nick-14'> yonatanbl</span>&gt;
Can anyone here review the Hebrew translation for Core on Transifex?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599561360' id='402559'>
<a class='timestamp' href='#402559'><time timestamp='2020-09-08T10:36:00Z'>10:36</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
hi, not sure anyone reads Hebrew here but you never know
<br>
</div>

<div class='talk op-msg' data-timestamp='1599561420' id='402560'>
<a class='timestamp' href='#402560'><time timestamp='2020-09-08T10:37:00Z'>10:37</time></a>
&lt;<span class='nick nick-10'> elichai2</span>&gt;
yonatanbl: sure, a link?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599561600' id='402561'>
<a class='timestamp' href='#402561'><time timestamp='2020-09-08T10:40:00Z'>10:40</time></a>
&lt;<span class='nick nick-14'> yonatanbl</span>&gt;
<a href="https://www.transifex.com/bitcoin/bitcoin/language/he/" class="link" target="_blank">https://www.transifex.com/bitcoin/bitcoin/language/he/</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1599561720' id='402562'>
<a class='timestamp' href='#402562'><time timestamp='2020-09-08T10:42:00Z'>10:42</time></a>
&lt;<span class='nick nick-10'> elichai2</span>&gt;
oh I thought you meant something specific, I went over it a couple of times in the past, but it&#x27;s pretty exhausting honestly
<br>
</div>

<div class='talk op-msg' data-timestamp='1599561780' id='402563'>
<a class='timestamp' href='#402563'><time timestamp='2020-09-08T10:43:00Z'>10:43</time></a>
&lt;<span class='nick nick-14'> yonatanbl</span>&gt;
I see
<br>
</div>

<div class='talk op-msg' data-timestamp='1599562980' id='402564'>
<a class='timestamp' href='#402564'><time timestamp='2020-09-08T11:03:00Z'>11:03</time></a>
&lt;<span class='nick nick-10'> elichai2</span>&gt;
did anyone see this error while trying to compile the fuzzers? `crypto/sha256_sse4.cpp:44:9: error: expected relocatable expression`
<br>
</div>

<div class='talk op-msg' data-timestamp='1599563160' id='402565'>
<a class='timestamp' href='#402565'><time timestamp='2020-09-08T11:06:00Z'>11:06</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
never saw it before
<br>
</div>

<div class='talk op-msg' data-timestamp='1599563220' id='402566'>
<a class='timestamp' href='#402566'><time timestamp='2020-09-08T11:07:00Z'>11:07</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
apparently it cannot make the inline assembly relocatable? is that a compiler or linker error?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599563520' id='402567'>
<a class='timestamp' href='#402567'><time timestamp='2020-09-08T11:12:00Z'>11:12</time></a>
&lt;<span class='nick nick-10'> elichai2</span>&gt;
Looks like compiler, bigger output: <a href="https://pastebin.com/raw/fnV6J9MR" class="link" target="_blank">https://pastebin.com/raw/fnV6J9MR</a>. I&#x27;m trying to mix some flags to pinpoint what&#x27;s doing that (currently it&#x27;s fuzzer+debug+asan+libfuzzer+clang)
<br>
</div>

<div class='talk op-msg' data-timestamp='1599563820' id='402568'>
<a class='timestamp' href='#402568'><time timestamp='2020-09-08T11:17:00Z'>11:17</time></a>
&lt;<span class='nick nick-10'> elichai2</span>&gt;
Ok, that&#x27;s weird, it only happens with asan+fuzzer, but not with any of them alone (`AS=clang CC=clang CXX=clang++ ./configure --enable-debug --with-incompatible-bdb --enable-fuzz --with-sanitizers=address`)
<br>
</div>

<div class='talk op-msg' data-timestamp='1599563820' id='402569'>
<a class='timestamp' href='#402569'><time timestamp='2020-09-08T11:17:00Z'>11:17</time></a>
&lt;<span class='nick nick-10'> elichai2</span>&gt;
Ops, * `AS=clang CC=clang CXX=clang++ ./configure --enable-debug --with-incompatible-bdb --enable-fuzz --with-sanitizers=fuzzer,address`
<br>
</div>

<div class='talk op-msg' data-timestamp='1599564300' id='402570'>
<a class='timestamp' href='#402570'><time timestamp='2020-09-08T11:25:00Z'>11:25</time></a>
&lt;<span class='nick nick-10'> elichai2</span>&gt;
so apparently it only happens with debug, I guess i&#x27;ll live with longer compile times
<br>
</div>

<div class='talk op-msg' data-timestamp='1599564540' id='402571'>
<a class='timestamp' href='#402571'><time timestamp='2020-09-08T11:29:00Z'>11:29</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sipa, elichai2, real_or_random: what are your thoughts on the BIP342 comment here: <a href="https://gist.github.com/jonasschnelli/c530ea8421b8d0e80c51486325587c52#gistcomment-3345400" class="link" target="_blank">https://gist.github.com/jonasschnelli/c530ea8421b8d0e80c51486325587c52#gistcomment-3345400</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1599564540' id='402572'>
<a class='timestamp' href='#402572'><time timestamp='2020-09-08T11:29:00Z'>11:29</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Especially the point to retrieve further packets up to MAX_PACKET_LENGTH on an invalid MAC
<br>
</div>

<div class='talk op-msg' data-timestamp='1599564600' id='402573'>
<a class='timestamp' href='#402573'><time timestamp='2020-09-08T11:30:00Z'>11:30</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
^ ariard 
<br>
</div>

<div class='talk op-msg' data-timestamp='1599565080' id='402574'>
<a class='timestamp' href='#402574'><time timestamp='2020-09-08T11:38:00Z'>11:38</time></a>
&lt;<span class='nick nick-2'> real_or_random</span>&gt;
jonasschnelli: oh I think I missed that one, I need to read up on this first
<br>
</div>

<div class='talk op-msg' data-timestamp='1599565080' id='402575'>
<a class='timestamp' href='#402575'><time timestamp='2020-09-08T11:38:00Z'>11:38</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
would be great! thanks
<br>
</div>

<div class='talk op-msg' data-timestamp='1599565140' id='402576'>
<a class='timestamp' href='#402576'><time timestamp='2020-09-08T11:39:00Z'>11:39</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Unifying the error case for invalid MAC and MAX_PACKET_SIZE overflow makes much sense to me
<br>
</div>

<div class='talk op-msg' data-timestamp='1599566160' id='402577'>
<a class='timestamp' href='#402577'><time timestamp='2020-09-08T11:56:00Z'>11:56</time></a>
&lt;<span class='nick nick-10'> elichai2</span>&gt;
jonasschnelli: hmm I think it would still be obvious that it is an invalid MAC error, but at least it hides the size. what happens if the sender doesn&#x27;t try to send that many packets? the connection will halt until timeout? 
<br>
</div>

<div class='talk op-msg' data-timestamp='1599566880' id='402578'>
<a class='timestamp' href='#402578'><time timestamp='2020-09-08T12:08:00Z'>12:08</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
meshcollider: fine with me
<br>
</div>

<div class='talk op-msg' data-timestamp='1599567120' id='402579'>
<a class='timestamp' href='#402579'><time timestamp='2020-09-08T12:12:00Z'>12:12</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
elichai2: yes. It will lead to the timeout... (currently checking the code path)
<br>
</div>

<div class='talk op-msg' data-timestamp='1599567240' id='402580'>
<a class='timestamp' href='#402580'><time timestamp='2020-09-08T12:14:00Z'>12:14</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
elichai2: the pnode-&gt;nLastRecv is indifferent in V1/V2. So no traffic == timeout-disconnect (V1/V2)
<br>
</div>

<div class='talk op-msg' data-timestamp='1599573420' id='402581'>
<a class='timestamp' href='#402581'><time timestamp='2020-09-08T13:57:00Z'>13:57</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] promag opened pull request #19917: RemoveUnbroadcastTx requires mempool lock (master...2020-09-removeunbroadcasttx) <a href="https://github.com/bitcoin/bitcoin/pull/19917" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19917</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1599576180' id='402582'>
<a class='timestamp' href='#402582'><time timestamp='2020-09-08T14:43:00Z'>14:43</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
#17785 may be close to ready for merge
<br>
</div>

<div class='talk op-msg' data-timestamp='1599576180' id='402583'>
<a class='timestamp' href='#402583'><time timestamp='2020-09-08T14:43:00Z'>14:43</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/17785" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/17785</a> | p2p: Unify Send and Receive protocol versions by hebasto · Pull Request #17785 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1599576240' id='402584'>
<a class='timestamp' href='#402584'><time timestamp='2020-09-08T14:44:00Z'>14:44</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
sipa: not sure if you want to take a quick look. It&#x27;s somewhat adjacent (though not conflicting) with your work in #19503 and I think you mentioned something about wanting to tidy up how we handle p2p versions
<br>
</div>

<div class='talk op-msg' data-timestamp='1599576240' id='402585'>
<a class='timestamp' href='#402585'><time timestamp='2020-09-08T14:44:00Z'>14:44</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/19503" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/19503</a> | Add parameter feature to serialization and use it for CAddress by sipa · Pull Request #19503 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1599576300' id='402586'>
<a class='timestamp' href='#402586'><time timestamp='2020-09-08T14:45:00Z'>14:45</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
reminder: p2p meeting in 15 minutes. One suggested topic so far &quot;What would a good transaction propagation framework look like? See a first draw Transactions propagation design goals&quot; #19820 (ariard)
<br>
</div>

<div class='talk op-msg' data-timestamp='1599576300' id='402587'>
<a class='timestamp' href='#402587'><time timestamp='2020-09-08T14:45:00Z'>14:45</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/19820" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/19820</a> | Transactions propagation design goals · Issue #19820 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1599576360' id='402588'>
<a class='timestamp' href='#402588'><time timestamp='2020-09-08T14:46:00Z'>14:46</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
#19914 is also RFM
<br>
</div>

<div class='talk op-msg' data-timestamp='1599576360' id='402589'>
<a class='timestamp' href='#402589'><time timestamp='2020-09-08T14:46:00Z'>14:46</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/19914" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/19914</a> | refactor: Do not pass chain params to CheckForStaleTipAndEvictPeers twice by MarcoFalke · Pull Request #19914 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1599577200' id='402590'>
<a class='timestamp' href='#402590'><time timestamp='2020-09-08T15:00:00Z'>15:00</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
#startmeeting
<br>
</div>

<div class='talk op-msg' data-timestamp='1599577200' id='402591'>
<a class='timestamp' href='#402591'><time timestamp='2020-09-08T15:00:00Z'>15:00</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Meeting started Tue Sep  8 15:00:18 2020 UTC.  The chair is jnewbery. Information about MeetBot at <a href="http://wiki.debian.org/MeetBot" class="link" target="_blank">http://wiki.debian.org/MeetBot</a>.
<br>
</div>

<div class='talk op-msg' data-timestamp='1599577200' id='402592'>
<a class='timestamp' href='#402592'><time timestamp='2020-09-08T15:00:00Z'>15:00</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Useful Commands: #action #agreed #help #info #idea #link #topic.
<br>
</div>

<div class='talk op-msg' data-timestamp='1599577200' id='402593'>
<a class='timestamp' href='#402593'><time timestamp='2020-09-08T15:00:00Z'>15:00</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
hello
<br>
</div>

<div class='talk op-msg' data-timestamp='1599577200' id='402594'>
<a class='timestamp' href='#402594'><time timestamp='2020-09-08T15:00:00Z'>15:00</time></a>
&lt;<span class='nick nick-14'> hebasto</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1599577200' id='402595'>
<a class='timestamp' href='#402595'><time timestamp='2020-09-08T15:00:00Z'>15:00</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
hi!
<br>
</div>

<div class='talk op-msg' data-timestamp='1599577200' id='402596'>
<a class='timestamp' href='#402596'><time timestamp='2020-09-08T15:00:00Z'>15:00</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
#bitcoin-core-dev P2P Meeting: wumpus sipa gmaxwell jonasschnelli morcos luke-jr sdaftuar jtimon cfields petertodd kanzure bluematt instagibbs phantomcircuit codeshark michagogo marcofalke paveljanik NicolasDorier jl2012 achow101 meshcollider jnewbery maaku fanquake promag provoostenator aj Chris_Stewart_5 dongcarl gwillen jamesob ken281221 ryanofsky gleb moneyball kvaciral ariard digi_james 
<br>
</div>

<div class='talk op-msg' data-timestamp='1599577200' id='402597'>
<a class='timestamp' href='#402597'><time timestamp='2020-09-08T15:00:00Z'>15:00</time></a>
&lt;<span class='nick nick-10'> ariard</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1599577200' id='402598'>
<a class='timestamp' href='#402598'><time timestamp='2020-09-08T15:00:00Z'>15:00</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
amiti fjahr jeremyrubin lightlike emilengler jonatack hebasto jb55 elichai2
<br>
</div>

<div class='talk op-msg' data-timestamp='1599577200' id='402599'>
<a class='timestamp' href='#402599'><time timestamp='2020-09-08T15:00:00Z'>15:00</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
hi folks
<br>
</div>

<div class='talk op-msg' data-timestamp='1599577200' id='402600'>
<a class='timestamp' href='#402600'><time timestamp='2020-09-08T15:00:00Z'>15:00</time></a>
&lt;<span class='nick nick-15'> ajonas</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1599577200' id='402601'>
<a class='timestamp' href='#402601'><time timestamp='2020-09-08T15:00:00Z'>15:00</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
topic suggestion: gleb&#x27;s PR on netgroup diversity of outbound peers
<br>
</div>

<div class='talk op-msg' data-timestamp='1599577260' id='402602'>
<a class='timestamp' href='#402602'><time timestamp='2020-09-08T15:01:00Z'>15:01</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
sure :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1599577260' id='402603'>
<a class='timestamp' href='#402603'><time timestamp='2020-09-08T15:01:00Z'>15:01</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1599577260' id='402604'>
<a class='timestamp' href='#402604'><time timestamp='2020-09-08T15:01:00Z'>15:01</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1599577320' id='402605'>
<a class='timestamp' href='#402605'><time timestamp='2020-09-08T15:02:00Z'>15:02</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
one proposed topic in <a href="https://github.com/bitcoin-core/bitcoin-devwiki/wiki/P2P-IRC-meetings" class="link" target="_blank">https://github.com/bitcoin-core/bitcoin-devwiki/wiki/P2P-IRC-meetings</a>: Follow-up on last meeting&#x27;s &quot;What would a good transaction propagation framework look like? See a first draw Transactions propagation design goals #19820 (ariard)
<br>
</div>

<div class='talk op-msg' data-timestamp='1599577320' id='402606'>
<a class='timestamp' href='#402606'><time timestamp='2020-09-08T15:02:00Z'>15:02</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/19820" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/19820</a> | Transactions propagation design goals · Issue #19820 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1599577320' id='402607'>
<a class='timestamp' href='#402607'><time timestamp='2020-09-08T15:02:00Z'>15:02</time></a>
&lt;<span class='nick nick-8'> amiti</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1599577320' id='402608'>
<a class='timestamp' href='#402608'><time timestamp='2020-09-08T15:02:00Z'>15:02</time></a>
&lt;<span class='nick nick-10'> ariard</span>&gt;
we can start by gleb&#x27;s one np
<br>
</div>

<div class='talk op-msg' data-timestamp='1599577320' id='402609'>
<a class='timestamp' href='#402609'><time timestamp='2020-09-08T15:02:00Z'>15:02</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
ok, before we get started with those topics, does anyone have any general updates on what they&#x27;re working on, or what they&#x27;re prioritizing? Raise your hand if you want to give an update o/
<br>
</div>

<div class='talk op-msg' data-timestamp='1599577380' id='402610'>
<a class='timestamp' href='#402610'><time timestamp='2020-09-08T15:03:00Z'>15:03</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
Over the last 10 days I opened 4 addr-related prs… I really think addr needs some attention, and my further work is blocked on this. I know addr is not the most well-known topic. I’m willing to provide any help to facilitate that review :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1599577380' id='402611'>
<a class='timestamp' href='#402611'><time timestamp='2020-09-08T15:03:00Z'>15:03</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1599577380' id='402612'>
<a class='timestamp' href='#402612'><time timestamp='2020-09-08T15:03:00Z'>15:03</time></a>
&lt;<span class='nick nick-3'> aj</span>&gt;
oh, sdaftuar said something other than hi!
<br>
</div>

<div class='talk op-msg' data-timestamp='1599577380' id='402613'>
<a class='timestamp' href='#402613'><time timestamp='2020-09-08T15:03:00Z'>15:03</time></a>
&lt;<span class='nick nick-3'> aj</span>&gt;
holla
<br>
</div>

<div class='talk op-msg' data-timestamp='1599577380' id='402614'>
<a class='timestamp' href='#402614'><time timestamp='2020-09-08T15:03:00Z'>15:03</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
Some of them is refactoring, other have important implications and fix bugs
<br>
</div>

<div class='talk op-msg' data-timestamp='1599577380' id='402615'>
<a class='timestamp' href='#402615'><time timestamp='2020-09-08T15:03:00Z'>15:03</time></a>
&lt;<span class='nick nick-14'> jonatack</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1599577380' id='402616'>
<a class='timestamp' href='#402616'><time timestamp='2020-09-08T15:03:00Z'>15:03</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
aj: hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1599577440' id='402617'>
<a class='timestamp' href='#402617'><time timestamp='2020-09-08T15:04:00Z'>15:04</time></a>
&lt;<span class='nick nick-3'> aj</span>&gt;
sdaftuar: nack
<br>
</div>

<div class='talk op-msg' data-timestamp='1599577440' id='402618'>
<a class='timestamp' href='#402618'><time timestamp='2020-09-08T15:04:00Z'>15:04</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
ok, well if no-one else has any general updates, I&#x27;ll just share one of mine, then we can go onto proposed topics?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599577440' id='402619'>
<a class='timestamp' href='#402619'><time timestamp='2020-09-08T15:04:00Z'>15:04</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
jnewbery: ack
<br>
</div>

<div class='talk op-msg' data-timestamp='1599577440' id='402620'>
<a class='timestamp' href='#402620'><time timestamp='2020-09-08T15:04:00Z'>15:04</time></a>
&lt;<span class='nick nick-10'> ariard</span>&gt;
yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1599577440' id='402621'>
<a class='timestamp' href='#402621'><time timestamp='2020-09-08T15:04:00Z'>15:04</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
I&#x27;d still encourage review of the remaining backport #19606
<br>
</div>

<div class='talk op-msg' data-timestamp='1599577500' id='402622'>
<a class='timestamp' href='#402622'><time timestamp='2020-09-08T15:05:00Z'>15:05</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/19606" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/19606</a> | Backport wtxid relay to v0.20 by jnewbery · Pull Request #19606 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1599577500' id='402623'>
<a class='timestamp' href='#402623'><time timestamp='2020-09-08T15:05:00Z'>15:05</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
there was some confusion about Marco&#x27;s comment a few weeks ago about merge order. Is MarcoFalke here?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599577560' id='402624'>
<a class='timestamp' href='#402624'><time timestamp='2020-09-08T15:06:00Z'>15:06</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
Either way, I&#x27;d encourage review. It&#x27;s not a totally clean backport, but it shouldn&#x27;t be impossible to review
<br>
</div>

<div class='talk op-msg' data-timestamp='1599577560' id='402625'>
<a class='timestamp' href='#402625'><time timestamp='2020-09-08T15:06:00Z'>15:06</time></a>
&lt;<span class='nick nick-14'> jonatack</span>&gt;
quick reminder to review the bip155 and bip324 implementation PRs
<br>
</div>

<div class='talk op-msg' data-timestamp='1599577560' id='402626'>
<a class='timestamp' href='#402626'><time timestamp='2020-09-08T15:06:00Z'>15:06</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
#topic netgroup diversity of outbound peers (gleb)
<br>
</div>

<div class='talk op-msg' data-timestamp='1599577560' id='402627'>
<a class='timestamp' href='#402627'><time timestamp='2020-09-08T15:06:00Z'>15:06</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
#19860
<br>
</div>

<div class='talk op-msg' data-timestamp='1599577560' id='402628'>
<a class='timestamp' href='#402628'><time timestamp='2020-09-08T15:06:00Z'>15:06</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/19860" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/19860</a> | Improve diversification of new connections: privacy and stability by naumenkogs · Pull Request #19860 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1599577620' id='402629'>
<a class='timestamp' href='#402629'><time timestamp='2020-09-08T15:07:00Z'>15:07</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
i suggested that topic because some of the changes are non-obvious to me, and thought discussion would help
<br>
</div>

<div class='talk op-msg' data-timestamp='1599577620' id='402630'>
<a class='timestamp' href='#402630'><time timestamp='2020-09-08T15:07:00Z'>15:07</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
This PR has some obvious improvement: e.g. don&#x27;t look at current feelers when make new persistent connection, because feelers are temporary so shold not affect I believe.
<br>
</div>

<div class='talk op-msg' data-timestamp='1599577620' id='402631'>
<a class='timestamp' href='#402631'><time timestamp='2020-09-08T15:07:00Z'>15:07</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
I guess there is one nuance that is not obvious.
<br>
</div>

<div class='talk op-msg' data-timestamp='1599577680' id='402632'>
<a class='timestamp' href='#402632'><time timestamp='2020-09-08T15:08:00Z'>15:08</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
I suggested to not look at the <b>*existent*</b> block-relay-only conns (2 conns we have) while making <b>*new*</b> full relay conns.
<br>
</div>

<div class='talk op-msg' data-timestamp='1599577680' id='402633'>
<a class='timestamp' href='#402633'><time timestamp='2020-09-08T15:08:00Z'>15:08</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
Because block-relay-conns should be more private (we rely on them for anti-eclipse).
<br>
</div>

<div class='talk op-msg' data-timestamp='1599577740' id='402634'>
<a class='timestamp' href='#402634'><time timestamp='2020-09-08T15:09:00Z'>15:09</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
And someone controlling our AddrMan (e.g. by occupying all our full relay slots) may deduce which netgroups are existent block-relay-o conns are taking.
<br>
</div>

<div class='talk op-msg' data-timestamp='1599577800' id='402635'>
<a class='timestamp' href='#402635'><time timestamp='2020-09-08T15:10:00Z'>15:10</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
The disadvantage of this change is that we will have a little less diversity as a whole
<br>
</div>

<div class='talk op-msg' data-timestamp='1599577800' id='402636'>
<a class='timestamp' href='#402636'><time timestamp='2020-09-08T15:10:00Z'>15:10</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
(new full-relay conns may be in same net group with existent block relay only conns)
<br>
</div>

<div class='talk op-msg' data-timestamp='1599577800' id='402637'>
<a class='timestamp' href='#402637'><time timestamp='2020-09-08T15:10:00Z'>15:10</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
That last point is the one that I thought should be the primary consideration, as that seems like it has the greatest effect on our partition-resistance -- more diversity seems better
<br>
</div>

<div class='talk op-msg' data-timestamp='1599577800' id='402638'>
<a class='timestamp' href='#402638'><time timestamp='2020-09-08T15:10:00Z'>15:10</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
So I guess it&#x27;s questionable whether this privacy benefit worth sacrificing a bit of diversity. And whether this kind of privacy threat is real, in general.
<br>
</div>

<div class='talk op-msg' data-timestamp='1599577800' id='402639'>
<a class='timestamp' href='#402639'><time timestamp='2020-09-08T15:10:00Z'>15:10</time></a>
&lt;<span class='nick nick-8'> amiti</span>&gt;
if someone has taken over our addrman &amp; we&#x27;re trying to open block-relay-only conns, isn&#x27;t the bigger concern that we would just be opening connections to the poisoned addresses? 
<br>
</div>

<div class='talk op-msg' data-timestamp='1599577860' id='402640'>
<a class='timestamp' href='#402640'><time timestamp='2020-09-08T15:11:00Z'>15:11</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
amiti: I assume that at that time we still have 2 healthy block-relay-only conns, and I want to expose them as little as possible.
<br>
</div>

<div class='talk op-msg' data-timestamp='1599577920' id='402641'>
<a class='timestamp' href='#402641'><time timestamp='2020-09-08T15:12:00Z'>15:12</time></a>
&lt;<span class='nick nick-10'> ariard</span>&gt;
sdaftuar: does the design goal of block-relay-only connections was to mask better block-relay topology, thus masking netgroups of such peers should be in agreement?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599577920' id='402642'>
<a class='timestamp' href='#402642'><time timestamp='2020-09-08T15:12:00Z'>15:12</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
sdaftuar: I was fine with sacrificing diversity here, because it has so little effect. The only difference will be that <b>*just two*</b> existing block-relay-only conns may overlap with new full relay conns. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1599577980' id='402643'>
<a class='timestamp' href='#402643'><time timestamp='2020-09-08T15:13:00Z'>15:13</time></a>
&lt;<span class='nick nick-8'> amiti</span>&gt;
whats the worst attack that could be carried out if an adversary knows the netgroups of the conns? 
<br>
</div>

<div class='talk op-msg' data-timestamp='1599577980' id='402644'>
<a class='timestamp' href='#402644'><time timestamp='2020-09-08T15:13:00Z'>15:13</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
And if we have more than two in the future, we can make 2 of them private, and N-2 of them overlappable.
<br>
</div>

<div class='talk op-msg' data-timestamp='1599577980' id='402645'>
<a class='timestamp' href='#402645'><time timestamp='2020-09-08T15:13:00Z'>15:13</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
gleb: is it fair to say the effect is that we&#x27;ll have the same level of diversity as we did prior to block-relay-only peers being introduced?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599577980' id='402646'>
<a class='timestamp' href='#402646'><time timestamp='2020-09-08T15:13:00Z'>15:13</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
amiti: they can further deduce what are those peers in the network, and evict us from them.
<br>
</div>

<div class='talk op-msg' data-timestamp='1599577980' id='402647'>
<a class='timestamp' href='#402647'><time timestamp='2020-09-08T15:13:00Z'>15:13</time></a>
&lt;<span class='nick nick-8'> amiti</span>&gt;
gleb: how? 
<br>
</div>

<div class='talk op-msg' data-timestamp='1599578040' id='402648'>
<a class='timestamp' href='#402648'><time timestamp='2020-09-08T15:14:00Z'>15:14</time></a>
&lt;<span class='nick nick-10'> ariard</span>&gt;
amiti: I think about looking among available public peers in this netgroup and open connection to them to try to evict inbound slot of your victim
<br>
</div>

<div class='talk op-msg' data-timestamp='1599578040' id='402649'>
<a class='timestamp' href='#402649'><time timestamp='2020-09-08T15:14:00Z'>15:14</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
jnewbery: Yes, I think it&#x27;s fair. sdaftuar?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599578040' id='402650'>
<a class='timestamp' href='#402650'><time timestamp='2020-09-08T15:14:00Z'>15:14</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
gleb: we do have keyed network groups, so i am curious what you have in mind there?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599578040' id='402651'>
<a class='timestamp' href='#402651'><time timestamp='2020-09-08T15:14:00Z'>15:14</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
jnewbery: yes, i think that&#x27;s likely true
<br>
</div>

<div class='talk op-msg' data-timestamp='1599578040' id='402652'>
<a class='timestamp' href='#402652'><time timestamp='2020-09-08T15:14:00Z'>15:14</time></a>
&lt;<span class='nick nick-8'> amiti</span>&gt;
ariard: thanks!
<br>
</div>

<div class='talk op-msg' data-timestamp='1599578100' id='402653'>
<a class='timestamp' href='#402653'><time timestamp='2020-09-08T15:15:00Z'>15:15</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
ariard: the goal of the connections is twofold:
<br>
</div>

<div class='talk op-msg' data-timestamp='1599578100' id='402654'>
<a class='timestamp' href='#402654'><time timestamp='2020-09-08T15:15:00Z'>15:15</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
- the main goal is to increase the difficulty/cost/power of an adversary required to carry out a network partitioning attack against a target node
<br>
</div>

<div class='talk op-msg' data-timestamp='1599578160' id='402655'>
<a class='timestamp' href='#402655'><time timestamp='2020-09-08T15:16:00Z'>15:16</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
and the specific motivation was that our existing full-relay connections leak topology information, and fixing that is sort of hopeless in the long run, though we certainly can and should make improvements where possible
<br>
</div>

<div class='talk op-msg' data-timestamp='1599578160' id='402656'>
<a class='timestamp' href='#402656'><time timestamp='2020-09-08T15:16:00Z'>15:16</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
the questions I&#x27;d ask are: was diversity a problem to block-relay-only peers being introduced? Did block-relay-only peers make it measurably better? I guess there aren&#x27;t answers to those except &quot;more is generally better&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1599578160' id='402657'>
<a class='timestamp' href='#402657'><time timestamp='2020-09-08T15:16:00Z'>15:16</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
- the second goal is a bit more nebulous, but my thinking is that it&#x27;s easier to get the anti-DoS tradeoffs right if we focus on the different aspects of network traffic separately
<br>
</div>

<div class='talk op-msg' data-timestamp='1599578220' id='402658'>
<a class='timestamp' href='#402658'><time timestamp='2020-09-08T15:17:00Z'>15:17</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
so for instance i think the design goals around transaction relay may leads us to different peering strategies than the design goals around block relay
<br>
</div>

<div class='talk op-msg' data-timestamp='1599578220' id='402659'>
<a class='timestamp' href='#402659'><time timestamp='2020-09-08T15:17:00Z'>15:17</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
jnewbery: In my opinion, block-relay-only connections wasn&#x27;t intended to improve diversity at all. I&#x27;d say it was a side-effect benefit we got for free.
<br>
</div>

<div class='talk op-msg' data-timestamp='1599578280' id='402660'>
<a class='timestamp' href='#402660'><time timestamp='2020-09-08T15:18:00Z'>15:18</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
gleb: i think i agree, but that benefit seems so substantial that i think taking it away for the sake of privacy is hard for me to imagine, without a concrete understanding of where the privacy would be lost
<br>
</div>

<div class='talk op-msg' data-timestamp='1599578280' id='402661'>
<a class='timestamp' href='#402661'><time timestamp='2020-09-08T15:18:00Z'>15:18</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
sdaftuar: an attacker just forces us to connect to a peer from some netgroup, sees that we refuses, and deduces that our block-relay-only is in that group.
<br>
</div>

<div class='talk op-msg' data-timestamp='1599578280' id='402662'>
<a class='timestamp' href='#402662'><time timestamp='2020-09-08T15:18:00Z'>15:18</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sdaftuar: i think you&#x27;re missing one point: block-only connections increase partition resistance without the bandwidth overhead that full connections have
<br>
</div>

<div class='talk op-msg' data-timestamp='1599578280' id='402663'>
<a class='timestamp' href='#402663'><time timestamp='2020-09-08T15:18:00Z'>15:18</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
sipa: yes, thank you
<br>
</div>

<div class='talk op-msg' data-timestamp='1599578280' id='402664'>
<a class='timestamp' href='#402664'><time timestamp='2020-09-08T15:18:00Z'>15:18</time></a>
&lt;<span class='nick nick-10'> ariard</span>&gt;
wrt to increase the difficulty/cost/power, I think you can achieve this by either more diversity and/or more non-observability of your peerings, what gleb&#x27;s PR is underscoring IMO is a potential trade-off between them
<br>
</div>

<div class='talk op-msg' data-timestamp='1599578340' id='402665'>
<a class='timestamp' href='#402665'><time timestamp='2020-09-08T15:19:00Z'>15:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gleb: how can they force us to connect somewhere?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599578400' id='402666'>
<a class='timestamp' href='#402666'><time timestamp='2020-09-08T15:20:00Z'>15:20</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
sipa: have all our full relay slots, feed only selected addr records of their sybils, drop connections and see us connect to one of their sybils
<br>
</div>

<div class='talk op-msg' data-timestamp='1599578400' id='402667'>
<a class='timestamp' href='#402667'><time timestamp='2020-09-08T15:20:00Z'>15:20</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
gleb: &#x27;just forces us to connect to a peer from some netgroup&#x27; sounds very difficult. If an attacker can already do that, I think we&#x27;re in a lot of trouble already
<br>
</div>

<div class='talk op-msg' data-timestamp='1599578400' id='402668'>
<a class='timestamp' href='#402668'><time timestamp='2020-09-08T15:20:00Z'>15:20</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gleb: that sounds like they&#x27;ve already succesfully pattitioned us?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599578400' id='402669'>
<a class='timestamp' href='#402669'><time timestamp='2020-09-08T15:20:00Z'>15:20</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
I assume a scenario when we lost all our full relay slots, but still have 2 block-relay-only slots.
<br>
</div>

<div class='talk op-msg' data-timestamp='1599578400' id='402670'>
<a class='timestamp' href='#402670'><time timestamp='2020-09-08T15:20:00Z'>15:20</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
or are trivially able to do so as well
<br>
</div>

<div class='talk op-msg' data-timestamp='1599578460' id='402671'>
<a class='timestamp' href='#402671'><time timestamp='2020-09-08T15:21:00Z'>15:21</time></a>
&lt;<span class='nick nick-10'> ariard</span>&gt;
do we assume that our full-relay can be discovered through transaction relay in that way you can learn their netgroups and exclude block-relay-o to be there
<br>
</div>

<div class='talk op-msg' data-timestamp='1599578460' id='402672'>
<a class='timestamp' href='#402672'><time timestamp='2020-09-08T15:21:00Z'>15:21</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
b-r-o slots don&#x27;t answer addr queries i believe, so they won&#x27;t help to sanitize our addr man
<br>
</div>

<div class='talk op-msg' data-timestamp='1599578460' id='402673'>
<a class='timestamp' href='#402673'><time timestamp='2020-09-08T15:21:00Z'>15:21</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
correct, or rather we ignore addr messages from our block-relay peers 
<br>
</div>

<div class='talk op-msg' data-timestamp='1599578460' id='402674'>
<a class='timestamp' href='#402674'><time timestamp='2020-09-08T15:21:00Z'>15:21</time></a>
&lt;<span class='nick nick-3'> aj</span>&gt;
sipa: if we had (say) 10 blocks-only connectoins and 6 tx-relay connections, it might make sense to have separate netgroups for each blocks-only peer and separate netgroups for each tx-relay peer, but not worry about overlap between the two?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599578460' id='402675'>
<a class='timestamp' href='#402675'><time timestamp='2020-09-08T15:21:00Z'>15:21</time></a>
&lt;<span class='nick nick-10'> ariard</span>&gt;
if you can learn the full-relay peers of your victim, you can try to influence peering of those full-relay by exploiting their inbound eviction logic
<br>
</div>

<div class='talk op-msg' data-timestamp='1599578460' id='402676'>
<a class='timestamp' href='#402676'><time timestamp='2020-09-08T15:21:00Z'>15:21</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
aj: isn&#x27;t more diversity still better?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599578520' id='402677'>
<a class='timestamp' href='#402677'><time timestamp='2020-09-08T15:22:00Z'>15:22</time></a>
&lt;<span class='nick nick-14'> jonatack</span>&gt;
sdaftuar: separate design goals make sense to me as well given the very different characteristics of tx relay and block relay. for instance, from what i see, last tx is frequent, many/most peers, and often in seconds. last block is rare, comes from only a few peers, over minutes and hours. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1599578520' id='402678'>
<a class='timestamp' href='#402678'><time timestamp='2020-09-08T15:22:00Z'>15:22</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
my thinking (but i haven&#x27;t thought/looked too much) is that you want to maximize diversity of (full+blockonly), and of (full) alone
<br>
</div>

<div class='talk op-msg' data-timestamp='1599578580' id='402679'>
<a class='timestamp' href='#402679'><time timestamp='2020-09-08T15:23:00Z'>15:23</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
sipa: that lines up with my intuition as well
<br>
</div>

<div class='talk op-msg' data-timestamp='1599578580' id='402680'>
<a class='timestamp' href='#402680'><time timestamp='2020-09-08T15:23:00Z'>15:23</time></a>
&lt;<span class='nick nick-10'> ariard</span>&gt;
aj: I agree with these logic, but as of today full-relay we have an overlap between connections types, that&#x27;s more how we address this while moving in this direction
<br>
</div>

<div class='talk op-msg' data-timestamp='1599578580' id='402681'>
<a class='timestamp' href='#402681'><time timestamp='2020-09-08T15:23:00Z'>15:23</time></a>
&lt;<span class='nick nick-10'> ariard</span>&gt;
*this
<br>
</div>

<div class='talk op-msg' data-timestamp='1599578580' id='402682'>
<a class='timestamp' href='#402682'><time timestamp='2020-09-08T15:23:00Z'>15:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
the former for partition resistance, the second for actual short-term efficient connectivity
<br>
</div>

<div class='talk op-msg' data-timestamp='1599578640' id='402683'>
<a class='timestamp' href='#402683'><time timestamp='2020-09-08T15:24:00Z'>15:24</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
I just thought that the impact of dropping block-relay-only from the full relay diversity set would be fine. It&#x27;s just 2 peers. And they still be diverse among themselves.
<br>
</div>

<div class='talk op-msg' data-timestamp='1599578640' id='402684'>
<a class='timestamp' href='#402684'><time timestamp='2020-09-08T15:24:00Z'>15:24</time></a>
&lt;<span class='nick nick-3'> aj</span>&gt;
sdaftuar: i guess my gut feel is that once you have sufficient diversity, then having them be independent gets you more robustness as well since one network can&#x27;t interfere with the other?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599578640' id='402685'>
<a class='timestamp' href='#402685'><time timestamp='2020-09-08T15:24:00Z'>15:24</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
And block-relay-only will be diverse w.r.t existent full-relay conns. Just not vice versa :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1599578640' id='402686'>
<a class='timestamp' href='#402686'><time timestamp='2020-09-08T15:24:00Z'>15:24</time></a>
&lt;<span class='nick nick-3'> aj</span>&gt;
sdaftuar: (2 peers not being sufficiently diverse, 6-10 maybe being sufficiently diverse)
<br>
</div>

<div class='talk op-msg' data-timestamp='1599578640' id='402687'>
<a class='timestamp' href='#402687'><time timestamp='2020-09-08T15:24:00Z'>15:24</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
aj: that seems like a good end-goal. Totally separating logic for the connection types allows us to reason about each individually and prevents potentially privacy/exploitability by not allowing information to leak between the two.
<br>
</div>

<div class='talk op-msg' data-timestamp='1599578700' id='402688'>
<a class='timestamp' href='#402688'><time timestamp='2020-09-08T15:25:00Z'>15:25</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
gleb: that part of the logic is strange to me, because the peering logic is not symmetric depending on what order you connect in?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599578700' id='402689'>
<a class='timestamp' href='#402689'><time timestamp='2020-09-08T15:25:00Z'>15:25</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jnewbery: hmm, i see the appeal for that too
<br>
</div>

<div class='talk op-msg' data-timestamp='1599578700' id='402690'>
<a class='timestamp' href='#402690'><time timestamp='2020-09-08T15:25:00Z'>15:25</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
sdaftuar: I don&#x27;t see symmetry as a good goal :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1599578760' id='402691'>
<a class='timestamp' href='#402691'><time timestamp='2020-09-08T15:26:00Z'>15:26</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
aj: yeah so i guess there are two goals, one is how we minimize the likelihood of being partitioned, but then maybe once we&#x27;re close enough on that point, we can choose other tradeoffs e.g. for robustness/design clarity as jnewbery suggested
<br>
</div>

<div class='talk op-msg' data-timestamp='1599578760' id='402692'>
<a class='timestamp' href='#402692'><time timestamp='2020-09-08T15:26:00Z'>15:26</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
Maybe we should keep this until more block-relay-only, and then make part of them private and part of them diverse?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599578820' id='402693'>
<a class='timestamp' href='#402693'><time timestamp='2020-09-08T15:27:00Z'>15:27</time></a>
&lt;<span class='nick nick-8'> amiti</span>&gt;
I&#x27;m still trying to wrap my head around the attack vectors in the scenario (full-relay taken over, block-relay safe). I think ofc diversity is good, but the small decrease might be worthwhile if its offering protection. but I need to understand exactly what its protecting against in order to evaluate that tradeoff. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1599578820' id='402694'>
<a class='timestamp' href='#402694'><time timestamp='2020-09-08T15:27:00Z'>15:27</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
it does seem like we&#x27;re a long way from truly separating connection types, as long as addrman is firmly in the middle here
<br>
</div>

<div class='talk op-msg' data-timestamp='1599578820' id='402695'>
<a class='timestamp' href='#402695'><time timestamp='2020-09-08T15:27:00Z'>15:27</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sdaftuar: looking at full only when making a new full connection, and looking at both when making a blocksonly connection... isn&#x27;t that how you&#x27;d implememt maximization of diversity for (blocksonly+full) and for (full) alone?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599578820' id='402696'>
<a class='timestamp' href='#402696'><time timestamp='2020-09-08T15:27:00Z'>15:27</time></a>
&lt;<span class='nick nick-10'> ariard</span>&gt;
sdaftuar: non-observability of victim&#x27;s connections likely minimizes the likelihood of being partitioned
<br>
</div>

<div class='talk op-msg' data-timestamp='1599578880' id='402697'>
<a class='timestamp' href='#402697'><time timestamp='2020-09-08T15:28:00Z'>15:28</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
sipa: this is my exact suggestion btw.
<br>
</div>

<div class='talk op-msg' data-timestamp='1599578880' id='402698'>
<a class='timestamp' href='#402698'><time timestamp='2020-09-08T15:28:00Z'>15:28</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
amiti: i&#x27;m not there is a concrete attack beyond &quot;8 connections is easier to partition than 10&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1599578880' id='402699'>
<a class='timestamp' href='#402699'><time timestamp='2020-09-08T15:28:00Z'>15:28</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
sipa: i was going to point out that achieving maximum diversity for blocksonly+full is sufficient to achieve maximum diversity for full alone
<br>
</div>

<div class='talk op-msg' data-timestamp='1599578880' id='402700'>
<a class='timestamp' href='#402700'><time timestamp='2020-09-08T15:28:00Z'>15:28</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sdaftuar: hmm!
<br>
</div>

<div class='talk op-msg' data-timestamp='1599578940' id='402701'>
<a class='timestamp' href='#402701'><time timestamp='2020-09-08T15:29:00Z'>15:29</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
of course
<br>
</div>

<div class='talk op-msg' data-timestamp='1599579000' id='402702'>
<a class='timestamp' href='#402702'><time timestamp='2020-09-08T15:30:00Z'>15:30</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
it seems like it&#x27;s ok for information about full connections to leak into our blocksonly connection logic, since blocksonly are meant to be private?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599579000' id='402703'>
<a class='timestamp' href='#402703'><time timestamp='2020-09-08T15:30:00Z'>15:30</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
i think this comes down to whether we think this attack -- can we observe keyed-netgroup collisions from observed outbound connections -- is practical for some kind of attacker we&#x27;re concerned about?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599579000' id='402704'>
<a class='timestamp' href='#402704'><time timestamp='2020-09-08T15:30:00Z'>15:30</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
jnewbery: yeah, I think so. Because there are probably better ways to learn full conns anyway
<br>
</div>

<div class='talk op-msg' data-timestamp='1599579060' id='402705'>
<a class='timestamp' href='#402705'><time timestamp='2020-09-08T15:31:00Z'>15:31</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
sdaftuar: do you accept the setting where we lost all our full conns, but 2 block-relay-only are still healthy?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599579060' id='402706'>
<a class='timestamp' href='#402706'><time timestamp='2020-09-08T15:31:00Z'>15:31</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
or you think it&#x27;s unrealistic
<br>
</div>

<div class='talk op-msg' data-timestamp='1599579060' id='402707'>
<a class='timestamp' href='#402707'><time timestamp='2020-09-08T15:31:00Z'>15:31</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
if our addrman starts off healthy, then i think we&#x27;re probably ok in that scenario
<br>
</div>

<div class='talk op-msg' data-timestamp='1599579120' id='402708'>
<a class='timestamp' href='#402708'><time timestamp='2020-09-08T15:32:00Z'>15:32</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
if our addrman is already poisoned but for the two block-relay only connections, i think that&#x27;s a very edge-case scenario to try to optimize for
<br>
</div>

<div class='talk op-msg' data-timestamp='1599579120' id='402709'>
<a class='timestamp' href='#402709'><time timestamp='2020-09-08T15:32:00Z'>15:32</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
(i think we&#x27;re ok because of feelers, maybe that&#x27;s wrong)
<br>
</div>

<div class='talk op-msg' data-timestamp='1599579120' id='402710'>
<a class='timestamp' href='#402710'><time timestamp='2020-09-08T15:32:00Z'>15:32</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
i see.
<br>
</div>

<div class='talk op-msg' data-timestamp='1599579120' id='402711'>
<a class='timestamp' href='#402711'><time timestamp='2020-09-08T15:32:00Z'>15:32</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i have a hard time imagining how that&#x27;s not a problem
<br>
</div>

<div class='talk op-msg' data-timestamp='1599579180' id='402712'>
<a class='timestamp' href='#402712'><time timestamp='2020-09-08T15:33:00Z'>15:33</time></a>
&lt;<span class='nick nick-10'> ariard</span>&gt;
gleb: when you assume addrman poisoning, do you scope knocking-out the feeler logic by an attacker?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599579180' id='402713'>
<a class='timestamp' href='#402713'><time timestamp='2020-09-08T15:33:00Z'>15:33</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
does anchor connections make gleb&#x27;s scenario more likely?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599579180' id='402714'>
<a class='timestamp' href='#402714'><time timestamp='2020-09-08T15:33:00Z'>15:33</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
sipa: i guess one thing that goes wrong is that eventually nodes go offline, and so in the long run you lose all your honest peers?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599579180' id='402715'>
<a class='timestamp' href='#402715'><time timestamp='2020-09-08T15:33:00Z'>15:33</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
because with all normal connections sybilled, the attacker can probably start poisoning addrman, and leave you no way to recover
<br>
</div>

<div class='talk op-msg' data-timestamp='1599579180' id='402716'>
<a class='timestamp' href='#402716'><time timestamp='2020-09-08T15:33:00Z'>15:33</time></a>
&lt;<span class='nick nick-8'> amiti</span>&gt;
jnewbery: was wondering that. I think so 
<br>
</div>

<div class='talk op-msg' data-timestamp='1599579180' id='402717'>
<a class='timestamp' href='#402717'><time timestamp='2020-09-08T15:33:00Z'>15:33</time></a>
&lt;<span class='nick nick-10'> ariard</span>&gt;
jnewbery: I think it makes it easier to observe them as block-relay-o become more stable?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599579240' id='402718'>
<a class='timestamp' href='#402718'><time timestamp='2020-09-08T15:34:00Z'>15:34</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
(#17428)
<br>
</div>

<div class='talk op-msg' data-timestamp='1599579240' id='402719'>
<a class='timestamp' href='#402719'><time timestamp='2020-09-08T15:34:00Z'>15:34</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/17428" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/17428</a> | p2p: Try to preserve outbound block-relay-only connections during restart by hebasto · Pull Request #17428 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1599579240' id='402720'>
<a class='timestamp' href='#402720'><time timestamp='2020-09-08T15:34:00Z'>15:34</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
sipa: does this problem get solved if we introduce some level of rotation of tx-relay peers?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599579240' id='402721'>
<a class='timestamp' href='#402721'><time timestamp='2020-09-08T15:34:00Z'>15:34</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
Yeah I don&#x27;t have big faith in feelers once we lost all our full conns
<br>
</div>

<div class='talk op-msg' data-timestamp='1599579240' id='402722'>
<a class='timestamp' href='#402722'><time timestamp='2020-09-08T15:34:00Z'>15:34</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
We don&#x27;t even send GETADDR to feelers iirc?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599579300' id='402723'>
<a class='timestamp' href='#402723'><time timestamp='2020-09-08T15:35:00Z'>15:35</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
sorry, i don&#x27;t mean feelers
<br>
</div>

<div class='talk op-msg' data-timestamp='1599579300' id='402724'>
<a class='timestamp' href='#402724'><time timestamp='2020-09-08T15:35:00Z'>15:35</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
what i mean is the tried-table-collision resolution algorithm
<br>
</div>

<div class='talk op-msg' data-timestamp='1599579300' id='402725'>
<a class='timestamp' href='#402725'><time timestamp='2020-09-08T15:35:00Z'>15:35</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that&#x27;s feelers, no?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599579300' id='402726'>
<a class='timestamp' href='#402726'><time timestamp='2020-09-08T15:35:00Z'>15:35</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
oh, that&#x27;s interesting.
<br>
</div>

<div class='talk op-msg' data-timestamp='1599579300' id='402727'>
<a class='timestamp' href='#402727'><time timestamp='2020-09-08T15:35:00Z'>15:35</time></a>
&lt;<span class='nick nick-10'> ariard</span>&gt;
that&#x27;s done by feelers connection
<br>
</div>

<div class='talk op-msg' data-timestamp='1599579300' id='402728'>
<a class='timestamp' href='#402728'><time timestamp='2020-09-08T15:35:00Z'>15:35</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
no, feelers are for connecting to NEW table entries and trying to mive them to tried
<br>
</div>

<div class='talk op-msg' data-timestamp='1599579300' id='402729'>
<a class='timestamp' href='#402729'><time timestamp='2020-09-08T15:35:00Z'>15:35</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
Not sure how that thing is effective.
<br>
</div>

<div class='talk op-msg' data-timestamp='1599579300' id='402730'>
<a class='timestamp' href='#402730'><time timestamp='2020-09-08T15:35:00Z'>15:35</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
yes, we call them feelers too
<br>
</div>

<div class='talk op-msg' data-timestamp='1599579300' id='402731'>
<a class='timestamp' href='#402731'><time timestamp='2020-09-08T15:35:00Z'>15:35</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
but it&#x27;s confusing
<br>
</div>

<div class='talk op-msg' data-timestamp='1599579300' id='402732'>
<a class='timestamp' href='#402732'><time timestamp='2020-09-08T15:35:00Z'>15:35</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
mive?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599579300' id='402733'>
<a class='timestamp' href='#402733'><time timestamp='2020-09-08T15:35:00Z'>15:35</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
move*
<br>
</div>

<div class='talk op-msg' data-timestamp='1599579300' id='402734'>
<a class='timestamp' href='#402734'><time timestamp='2020-09-08T15:35:00Z'>15:35</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
I do like the concept of not allowing any information at all to leak from our blocksonly connections into our other connection logic. Even if this particular scenario is unlikely, it&#x27;s still nice to be able to count out any such similar attacks.
<br>
</div>

<div class='talk op-msg' data-timestamp='1599579300' id='402735'>
<a class='timestamp' href='#402735'><time timestamp='2020-09-08T15:35:00Z'>15:35</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ah, move
<br>
</div>

<div class='talk op-msg' data-timestamp='1599579360' id='402736'>
<a class='timestamp' href='#402736'><time timestamp='2020-09-08T15:36:00Z'>15:36</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
thinking ahout this, i wonder if we need addr-only connections too
<br>
</div>

<div class='talk op-msg' data-timestamp='1599579360' id='402737'>
<a class='timestamp' href='#402737'><time timestamp='2020-09-08T15:36:00Z'>15:36</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
The worst diversity degradation here btw: 2 newly selected full peers are from the same netgroup as 2 existent block-relay-only conns
<br>
</div>

<div class='talk op-msg' data-timestamp='1599579420' id='402738'>
<a class='timestamp' href='#402738'><time timestamp='2020-09-08T15:37:00Z'>15:37</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
sipa: working on that stuff.
<br>
</div>

<div class='talk op-msg' data-timestamp='1599579420' id='402739'>
<a class='timestamp' href='#402739'><time timestamp='2020-09-08T15:37:00Z'>15:37</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
sipa: yeah i was thinking about that a bit as well
<br>
</div>

<div class='talk op-msg' data-timestamp='1599579420' id='402740'>
<a class='timestamp' href='#402740'><time timestamp='2020-09-08T15:37:00Z'>15:37</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
it&#x27;s blocked by my 4 addr-related prs :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1599579420' id='402741'>
<a class='timestamp' href='#402741'><time timestamp='2020-09-08T15:37:00Z'>15:37</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i&#x27;m not worried about information leakage of our selection of full/blockonly connections
<br>
</div>

<div class='talk op-msg' data-timestamp='1599579420' id='402742'>
<a class='timestamp' href='#402742'><time timestamp='2020-09-08T15:37:00Z'>15:37</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but our partitition resistance gained (assuming blockonly is diverse wrt full) is only for block connectivity
<br>
</div>

<div class='talk op-msg' data-timestamp='1599579420' id='402743'>
<a class='timestamp' href='#402743'><time timestamp='2020-09-08T15:37:00Z'>15:37</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
not for addrmam health
<br>
</div>

<div class='talk op-msg' data-timestamp='1599579480' id='402744'>
<a class='timestamp' href='#402744'><time timestamp='2020-09-08T15:38:00Z'>15:38</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
which is valuable, but shorter term
<br>
</div>

<div class='talk op-msg' data-timestamp='1599579480' id='402745'>
<a class='timestamp' href='#402745'><time timestamp='2020-09-08T15:38:00Z'>15:38</time></a>
&lt;<span class='nick nick-3'> aj</span>&gt;
sipa: maybe addr-only connections should mean occassionally requery dns-seeds too (once a day or once a week, poisson&#x27;ed eg) ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599579480' id='402746'>
<a class='timestamp' href='#402746'><time timestamp='2020-09-08T15:38:00Z'>15:38</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
maybe
<br>
</div>

<div class='talk op-msg' data-timestamp='1599579480' id='402747'>
<a class='timestamp' href='#402747'><time timestamp='2020-09-08T15:38:00Z'>15:38</time></a>
&lt;<span class='nick nick-10'> ariard</span>&gt;
sipa: you mean an attacker can&#x27;t interfere with victim&#x27;s blockonly connections if it learns their netgroups?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599579480' id='402748'>
<a class='timestamp' href='#402748'><time timestamp='2020-09-08T15:38:00Z'>15:38</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
aj: that leaks different information that people are concerend about i think?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599579480' id='402749'>
<a class='timestamp' href='#402749'><time timestamp='2020-09-08T15:38:00Z'>15:38</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
aj: this is a follow-up for #18421
<br>
</div>

<div class='talk op-msg' data-timestamp='1599579480' id='402750'>
<a class='timestamp' href='#402750'><time timestamp='2020-09-08T15:38:00Z'>15:38</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/18421" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/18421</a> | Periodically update DNS caches for better privacy of non-reachable nodes by naumenkogs · Pull Request #18421 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1599579540' id='402751'>
<a class='timestamp' href='#402751'><time timestamp='2020-09-08T15:39:00Z'>15:39</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
I gave up on periodic DNS queries for now :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1599579540' id='402752'>
<a class='timestamp' href='#402752'><time timestamp='2020-09-08T15:39:00Z'>15:39</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ariard: i think that if all connections that convey addr informarion are sybilled, it&#x27;s game over for addrman sanity
<br>
</div>

<div class='talk op-msg' data-timestamp='1599579540' id='402753'>
<a class='timestamp' href='#402753'><time timestamp='2020-09-08T15:39:00Z'>15:39</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ariard: and blocksonly connections cannot help with that
<br>
</div>

<div class='talk op-msg' data-timestamp='1599579540' id='402754'>
<a class='timestamp' href='#402754'><time timestamp='2020-09-08T15:39:00Z'>15:39</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
sipa: but we&#x27;re not eclipsed at least?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599579600' id='402755'>
<a class='timestamp' href='#402755'><time timestamp='2020-09-08T15:40:00Z'>15:40</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
sipa: one alternate implementation idea i had for syncing our chain tip with more peers, was to couple that with addrman updates
<br>
</div>

<div class='talk op-msg' data-timestamp='1599579600' id='402756'>
<a class='timestamp' href='#402756'><time timestamp='2020-09-08T15:40:00Z'>15:40</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gleb: not eclipsed wrt to block propagation
<br>
</div>

<div class='talk op-msg' data-timestamp='1599579600' id='402757'>
<a class='timestamp' href='#402757'><time timestamp='2020-09-08T15:40:00Z'>15:40</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
sipa: sure.
<br>
</div>

<div class='talk op-msg' data-timestamp='1599579600' id='402758'>
<a class='timestamp' href='#402758'><time timestamp='2020-09-08T15:40:00Z'>15:40</time></a>
&lt;<span class='nick nick-10'> ariard</span>&gt;
sipa: you might still be okay for a while more until your current block-relay-only are stable, and this is already a gain
<br>
</div>

<div class='talk op-msg' data-timestamp='1599579600' id='402759'>
<a class='timestamp' href='#402759'><time timestamp='2020-09-08T15:40:00Z'>15:40</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gleb: but you are eclipsed wrt addr relay, which means addrman will (if the situation persists) become attacker controlled
<br>
</div>

<div class='talk op-msg' data-timestamp='1599579600' id='402760'>
<a class='timestamp' href='#402760'><time timestamp='2020-09-08T15:40:00Z'>15:40</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
sipa: so that we bump a peer&#x27;s status (maybe just updating its times in the tried table) only if their tip was synced to something with as much work as ours, or something like that
<br>
</div>

<div class='talk op-msg' data-timestamp='1599579720' id='402761'>
<a class='timestamp' href='#402761'><time timestamp='2020-09-08T15:42:00Z'>15:42</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
so i think this means we want full connections, blockonly connections, addronly connections... and diversity of (full+blockonly) and of (full+addronly) ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599579720' id='402762'>
<a class='timestamp' href='#402762'><time timestamp='2020-09-08T15:42:00Z'>15:42</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
i think it would be helpful to run some simulations on that point
<br>
</div>

<div class='talk op-msg' data-timestamp='1599579720' id='402763'>
<a class='timestamp' href='#402763'><time timestamp='2020-09-08T15:42:00Z'>15:42</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
or just diversity of everything, really
<br>
</div>

<div class='talk op-msg' data-timestamp='1599579720' id='402764'>
<a class='timestamp' href='#402764'><time timestamp='2020-09-08T15:42:00Z'>15:42</time></a>
&lt;<span class='nick nick-10'> ariard</span>&gt;
sdaftuar: if you take this info for future peers selections, you might favor even more performant peers, and tight network topology ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599579780' id='402765'>
<a class='timestamp' href='#402765'><time timestamp='2020-09-08T15:43:00Z'>15:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ariard: being more or less in sync isn&#x27;t a very strong preference for.performamt peers
<br>
</div>

<div class='talk op-msg' data-timestamp='1599579780' id='402766'>
<a class='timestamp' href='#402766'><time timestamp='2020-09-08T15:43:00Z'>15:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
just an aversion for broken ones
<br>
</div>

<div class='talk op-msg' data-timestamp='1599579840' id='402767'>
<a class='timestamp' href='#402767'><time timestamp='2020-09-08T15:44:00Z'>15:44</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
right, we could put in a tolerance of being a block or two behind, that&#x27;s very different from having no knowledge of their chain
<br>
</div>

<div class='talk op-msg' data-timestamp='1599579840' id='402768'>
<a class='timestamp' href='#402768'><time timestamp='2020-09-08T15:44:00Z'>15:44</time></a>
&lt;<span class='nick nick-10'> ariard</span>&gt;
sipa: aren&#x27;t low-grades peers really likely to be late on tip view ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599579840' id='402769'>
<a class='timestamp' href='#402769'><time timestamp='2020-09-08T15:44:00Z'>15:44</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] ryanofsky opened pull request #19918: sync: Replace LockAssertion with WeaklyAssertLockHeld (master...pr/lockb) <a href="https://github.com/bitcoin/bitcoin/pull/19918" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19918</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1599579840' id='402770'>
<a class='timestamp' href='#402770'><time timestamp='2020-09-08T15:44:00Z'>15:44</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ariard: by a few seconds maybe
<br>
</div>

<div class='talk op-msg' data-timestamp='1599579900' id='402771'>
<a class='timestamp' href='#402771'><time timestamp='2020-09-08T15:45:00Z'>15:45</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
sipa: it seems a shame to not relay blocks on addronly links
<br>
</div>

<div class='talk op-msg' data-timestamp='1599579900' id='402772'>
<a class='timestamp' href='#402772'><time timestamp='2020-09-08T15:45:00Z'>15:45</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
(or at least headers)
<br>
</div>

<div class='talk op-msg' data-timestamp='1599579900' id='402773'>
<a class='timestamp' href='#402773'><time timestamp='2020-09-08T15:45:00Z'>15:45</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
sdaftuar: agree.
<br>
</div>

<div class='talk op-msg' data-timestamp='1599579900' id='402774'>
<a class='timestamp' href='#402774'><time timestamp='2020-09-08T15:45:00Z'>15:45</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
gleb: one of your concerns was about an attackers knowing about which netgroups you&#x27;re connected to. Would it make sense for each node to have their own way of dividing the address space into netgroups (eg by clustering ASs differently)
<br>
</div>

<div class='talk op-msg' data-timestamp='1599579960' id='402775'>
<a class='timestamp' href='#402775'><time timestamp='2020-09-08T15:46:00Z'>15:46</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
jnewbery: we do that already, don&#x27;t we?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599579960' id='402776'>
<a class='timestamp' href='#402776'><time timestamp='2020-09-08T15:46:00Z'>15:46</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jnewbery: we do!
<br>
</div>

<div class='talk op-msg' data-timestamp='1599579960' id='402777'>
<a class='timestamp' href='#402777'><time timestamp='2020-09-08T15:46:00Z'>15:46</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
oh! Good!
<br>
</div>

<div class='talk op-msg' data-timestamp='1599579960' id='402778'>
<a class='timestamp' href='#402778'><time timestamp='2020-09-08T15:46:00Z'>15:46</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
there is an addrman key for that
<br>
</div>

<div class='talk op-msg' data-timestamp='1599579960' id='402779'>
<a class='timestamp' href='#402779'><time timestamp='2020-09-08T15:46:00Z'>15:46</time></a>
&lt;<span class='nick nick-10'> ariard</span>&gt;
should we have a hierarchy of types of traffic, i.e it&#x27;s okay to relay public informations like block on more private ones (tx/addr) but not the reverse ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599579960' id='402780'>
<a class='timestamp' href='#402780'><time timestamp='2020-09-08T15:46:00Z'>15:46</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
that&#x27;s what i said before about keyed network groups
<br>
</div>

<div class='talk op-msg' data-timestamp='1599579960' id='402781'>
<a class='timestamp' href='#402781'><time timestamp='2020-09-08T15:46:00Z'>15:46</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
I should have reviewed the AS PRs
<br>
</div>

<div class='talk op-msg' data-timestamp='1599579960' id='402782'>
<a class='timestamp' href='#402782'><time timestamp='2020-09-08T15:46:00Z'>15:46</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
sdaftuar: got it. Thanks!
<br>
</div>

<div class='talk op-msg' data-timestamp='1599579960' id='402783'>
<a class='timestamp' href='#402783'><time timestamp='2020-09-08T15:46:00Z'>15:46</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jnewbery: this was part of the original addrman :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1599580020' id='402784'>
<a class='timestamp' href='#402784'><time timestamp='2020-09-08T15:47:00Z'>15:47</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
Yeah, this part makes it a bit less realistic.
<br>
</div>

<div class='talk op-msg' data-timestamp='1599580020' id='402785'>
<a class='timestamp' href='#402785'><time timestamp='2020-09-08T15:47:00Z'>15:47</time></a>
&lt;<span class='nick nick-14'> jonatack</span>&gt;
question: how effective is -seednode/-addnode to trusted peers as an anti-eclipse tactic?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599580020' id='402786'>
<a class='timestamp' href='#402786'><time timestamp='2020-09-08T15:47:00Z'>15:47</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
sipa: ah, ok. I guess I should just review more of the code in general then :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1599580020' id='402787'>
<a class='timestamp' href='#402787'><time timestamp='2020-09-08T15:47:00Z'>15:47</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jonatack: assuming no network-level attacker, addnode is great for that
<br>
</div>

<div class='talk op-msg' data-timestamp='1599580020' id='402788'>
<a class='timestamp' href='#402788'><time timestamp='2020-09-08T15:47:00Z'>15:47</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
well, hopefully your trusted peer is also not eclipsed :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1599580080' id='402789'>
<a class='timestamp' href='#402789'><time timestamp='2020-09-08T15:48:00Z'>15:48</time></a>
&lt;<span class='nick nick-10'> ariard</span>&gt;
jonatack: really depends of the capabilites of your eclipse attacker
<br>
</div>

<div class='talk op-msg' data-timestamp='1599580080' id='402790'>
<a class='timestamp' href='#402790'><time timestamp='2020-09-08T15:48:00Z'>15:48</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i see no reason why you wouldn&#x27;t also send blocks over addr links, agree
<br>
</div>

<div class='talk op-msg' data-timestamp='1599580080' id='402791'>
<a class='timestamp' href='#402791'><time timestamp='2020-09-08T15:48:00Z'>15:48</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
sipa: so perhaps we should have two kinds of block-relay links then
<br>
</div>

<div class='talk op-msg' data-timestamp='1599580080' id='402792'>
<a class='timestamp' href='#402792'><time timestamp='2020-09-08T15:48:00Z'>15:48</time></a>
&lt;<span class='nick nick-14'> jonatack</span>&gt;
thanks. i seem to recall matt tweeting about doing that a while back
<br>
</div>

<div class='talk op-msg' data-timestamp='1599580140' id='402793'>
<a class='timestamp' href='#402793'><time timestamp='2020-09-08T15:49:00Z'>15:49</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
sdaftuar: I&#x27;m lost. Which kinds?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599580140' id='402794'>
<a class='timestamp' href='#402794'><time timestamp='2020-09-08T15:49:00Z'>15:49</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gleb: blocksonly and addrplusblocksonly
<br>
</div>

<div class='talk op-msg' data-timestamp='1599580200' id='402795'>
<a class='timestamp' href='#402795'><time timestamp='2020-09-08T15:50:00Z'>15:50</time></a>
&lt;<span class='nick nick-3'> aj</span>&gt;
is the idea that addr-relay nodes are long-lived or short-lived (like feelers) ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599580200' id='402796'>
<a class='timestamp' href='#402796'><time timestamp='2020-09-08T15:50:00Z'>15:50</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
long-lived, i&#x27;d say
<br>
</div>

<div class='talk op-msg' data-timestamp='1599580200' id='402797'>
<a class='timestamp' href='#402797'><time timestamp='2020-09-08T15:50:00Z'>15:50</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
aj: i think they could be long lived?  they would be very low bandwidth
<br>
</div>

<div class='talk op-msg' data-timestamp='1599580200' id='402798'>
<a class='timestamp' href='#402798'><time timestamp='2020-09-08T15:50:00Z'>15:50</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
I have a branch with short-lived self-announcement addr links :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1599580200' id='402799'>
<a class='timestamp' href='#402799'><time timestamp='2020-09-08T15:50:00Z'>15:50</time></a>
&lt;<span class='nick nick-10'> ariard</span>&gt;
even if they&#x27;re short-lived you want to do headers-sync on them
<br>
</div>

<div class='talk op-msg' data-timestamp='1599580200' id='402800'>
<a class='timestamp' href='#402800'><time timestamp='2020-09-08T15:50:00Z'>15:50</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
But that&#x27;s different from what was discussed.
<br>
</div>

<div class='talk op-msg' data-timestamp='1599580260' id='402801'>
<a class='timestamp' href='#402801'><time timestamp='2020-09-08T15:51:00Z'>15:51</time></a>
&lt;<span class='nick nick-11'> lightlike</span>&gt;
hi - we probably can&#x27;t rely much on our addr-links staying private, or can we?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599580260' id='402802'>
<a class='timestamp' href='#402802'><time timestamp='2020-09-08T15:51:00Z'>15:51</time></a>
&lt;<span class='nick nick-3'> aj</span>&gt;
so blocks-only is eclipse prevention, addr+blocks is low-bw extra diversity, tx-relay is tx relay?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599580260' id='402803'>
<a class='timestamp' href='#402803'><time timestamp='2020-09-08T15:51:00Z'>15:51</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
i&#x27;m actually not sure if it&#x27;s better to use a connection slot on a long-lived addr+block-relay peer, than it is to just rotate our full-relay peers some and get addrman updates from the getaddr message we send
<br>
</div>

<div class='talk op-msg' data-timestamp='1599580260' id='402804'>
<a class='timestamp' href='#402804'><time timestamp='2020-09-08T15:51:00Z'>15:51</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
We have 10 minutes left and one other topic (What would a good transaction propagation framework look like? See a first draw Transactions propagation design goals)
<br>
</div>

<div class='talk op-msg' data-timestamp='1599580260' id='402805'>
<a class='timestamp' href='#402805'><time timestamp='2020-09-08T15:51:00Z'>15:51</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
ariard: are you happy to punt that to the next meeting?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599580320' id='402806'>
<a class='timestamp' href='#402806'><time timestamp='2020-09-08T15:52:00Z'>15:52</time></a>
&lt;<span class='nick nick-10'> ariard</span>&gt;
aj: being eclipsed at the tx-relay level is really bad for offchain stuff
<br>
</div>

<div class='talk op-msg' data-timestamp='1599580320' id='402807'>
<a class='timestamp' href='#402807'><time timestamp='2020-09-08T15:52:00Z'>15:52</time></a>
&lt;<span class='nick nick-10'> ariard</span>&gt;
jnewbery: I feel we need it better to end on this topics
<br>
</div>

<div class='talk op-msg' data-timestamp='1599580320' id='402808'>
<a class='timestamp' href='#402808'><time timestamp='2020-09-08T15:52:00Z'>15:52</time></a>
&lt;<span class='nick nick-3'> aj</span>&gt;
ariard: not as bad as being eclipsed from the most-work chain though
<br>
</div>

<div class='talk op-msg' data-timestamp='1599580320' id='402809'>
<a class='timestamp' href='#402809'><time timestamp='2020-09-08T15:52:00Z'>15:52</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
lightlike: agreed, addr relay likely leaks topology
<br>
</div>

<div class='talk op-msg' data-timestamp='1599580320' id='402810'>
<a class='timestamp' href='#402810'><time timestamp='2020-09-08T15:52:00Z'>15:52</time></a>
&lt;<span class='nick nick-3'> aj</span>&gt;
sipa: (what&#x27;s the blocker for getting tx relay overhaul rebased/out-of-draft?)
<br>
</div>

<div class='talk op-msg' data-timestamp='1599580380' id='402811'>
<a class='timestamp' href='#402811'><time timestamp='2020-09-08T15:53:00Z'>15:53</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
sdaftuar: have you checked out caches yet? It&#x27;s getting better!
<br>
</div>

<div class='talk op-msg' data-timestamp='1599580380' id='402812'>
<a class='timestamp' href='#402812'><time timestamp='2020-09-08T15:53:00Z'>15:53</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ariard: parse error
<br>
</div>

<div class='talk op-msg' data-timestamp='1599580380' id='402813'>
<a class='timestamp' href='#402813'><time timestamp='2020-09-08T15:53:00Z'>15:53</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
ariard: does that mean punt to next meeting?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599580380' id='402814'>
<a class='timestamp' href='#402814'><time timestamp='2020-09-08T15:53:00Z'>15:53</time></a>
&lt;<span class='nick nick-10'> ariard</span>&gt;
aj: in fact I think that&#x27;s a bit more subtle, you can close your channels without knowing what the state chain is ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599580380' id='402815'>
<a class='timestamp' href='#402815'><time timestamp='2020-09-08T15:53:00Z'>15:53</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
gleb: no idea what you&#x27;re referring to...
<br>
</div>

<div class='talk op-msg' data-timestamp='1599580380' id='402816'>
<a class='timestamp' href='#402816'><time timestamp='2020-09-08T15:53:00Z'>15:53</time></a>
&lt;<span class='nick nick-10'> ariard</span>&gt;
jnewbery: yes next meeting :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1599580440' id='402817'>
<a class='timestamp' href='#402817'><time timestamp='2020-09-08T15:54:00Z'>15:54</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
sdaftuar: #18991
<br>
</div>

<div class='talk op-msg' data-timestamp='1599580440' id='402818'>
<a class='timestamp' href='#402818'><time timestamp='2020-09-08T15:54:00Z'>15:54</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/18991" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/18991</a> | Cache responses to GETADDR to prevent topology leaks by naumenkogs · Pull Request #18991 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1599580440' id='402819'>
<a class='timestamp' href='#402819'><time timestamp='2020-09-08T15:54:00Z'>15:54</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
gleb: oh, addr-relay privacy leaks
<br>
</div>

<div class='talk op-msg' data-timestamp='1599580440' id='402820'>
<a class='timestamp' href='#402820'><time timestamp='2020-09-08T15:54:00Z'>15:54</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
great. Thanks. That&#x27;ll also give people a bit more time to read your doc here: <a href="https://github.com/bitcoin/bitcoin/issues/19820" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/19820</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1599580440' id='402821'>
<a class='timestamp' href='#402821'><time timestamp='2020-09-08T15:54:00Z'>15:54</time></a>
&lt;<span class='nick nick-10'> ariard</span>&gt;
sipa: if a LN node can&#x27;t broadcast its punishment transaction that&#x27;s worthless to see a revoked commitment transaction on the most-valid PoW chain
<br>
</div>

<div class='talk op-msg' data-timestamp='1599580500' id='402822'>
<a class='timestamp' href='#402822'><time timestamp='2020-09-08T15:55:00Z'>15:55</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ariard: you know my thinking on that
<br>
</div>

<div class='talk op-msg' data-timestamp='1599580500' id='402823'>
<a class='timestamp' href='#402823'><time timestamp='2020-09-08T15:55:00Z'>15:55</time></a>
&lt;<span class='nick nick-3'> aj</span>&gt;
ariard: if you see the revoked commitment tx, you can aggressively try connecting to many peers to find one that relays honestly; if you don&#x27;t see the commitment tx at all, your opportunity to do a punishment can time out
<br>
</div>

<div class='talk op-msg' data-timestamp='1599580500' id='402824'>
<a class='timestamp' href='#402824'><time timestamp='2020-09-08T15:55:00Z'>15:55</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
aj: i have a branch where it&#x27;s half done, but i got preempted by bip340/taproot stuff
<br>
</div>

<div class='talk op-msg' data-timestamp='1599580560' id='402825'>
<a class='timestamp' href='#402825'><time timestamp='2020-09-08T15:56:00Z'>15:56</time></a>
&lt;<span class='nick nick-10'> ariard</span>&gt;
sipa: I know, I know that&#x27;s the reason to talk about #19820 next time :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1599580560' id='402826'>
<a class='timestamp' href='#402826'><time timestamp='2020-09-08T15:56:00Z'>15:56</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/19820" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/19820</a> | Transactions propagation design goals · Issue #19820 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1599580620' id='402827'>
<a class='timestamp' href='#402827'><time timestamp='2020-09-08T15:57:00Z'>15:57</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
Alright, so I think i&#x27;ll turn that PR into a harmless refactoring (don&#x27;t diversify by current feeler or oneshot/addr_fetch), and keep the non-diverse/more-private idea for future.
<br>
</div>

<div class='talk op-msg' data-timestamp='1599580620' id='402828'>
<a class='timestamp' href='#402828'><time timestamp='2020-09-08T15:57:00Z'>15:57</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
gleb: that sounds good to me.  thanks for the discussion!
<br>
</div>

<div class='talk op-msg' data-timestamp='1599580680' id='402829'>
<a class='timestamp' href='#402829'><time timestamp='2020-09-08T15:58:00Z'>15:58</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gleb: sounds good
<br>
</div>

<div class='talk op-msg' data-timestamp='1599580680' id='402830'>
<a class='timestamp' href='#402830'><time timestamp='2020-09-08T15:58:00Z'>15:58</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
Thanks gleb!
<br>
</div>

<div class='talk op-msg' data-timestamp='1599580680' id='402831'>
<a class='timestamp' href='#402831'><time timestamp='2020-09-08T15:58:00Z'>15:58</time></a>
&lt;<span class='nick nick-10'> ariard</span>&gt;
aj: you can probalistically close your channel, if you don&#x27;t see block for a hour, that&#x27;s likely something is wrong (but more an open question how offchain stuff  should react in case of block eclipse)
<br>
</div>

<div class='talk op-msg' data-timestamp='1599580680' id='402832'>
<a class='timestamp' href='#402832'><time timestamp='2020-09-08T15:58:00Z'>15:58</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
Any final topics before we end? Remember it&#x27;s feature freeze in 5 weeks (<a href="https://github.com/bitcoin/bitcoin/issues/18947)" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/18947)</a> so it&#x27;s a great time to shill your PRs!
<br>
</div>

<div class='talk op-msg' data-timestamp='1599580740' id='402833'>
<a class='timestamp' href='#402833'><time timestamp='2020-09-08T15:59:00Z'>15:59</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
if we&#x27;re shilling, i&#x27;d love review on #19858
<br>
</div>

<div class='talk op-msg' data-timestamp='1599580740' id='402834'>
<a class='timestamp' href='#402834'><time timestamp='2020-09-08T15:59:00Z'>15:59</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/19858" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/19858</a> | Periodically make block-relay connections and sync headers by sdaftuar · Pull Request #19858 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1599580740' id='402835'>
<a class='timestamp' href='#402835'><time timestamp='2020-09-08T15:59:00Z'>15:59</time></a>
&lt;<span class='nick nick-10'> ariard</span>&gt;
sdaftuar: updated #19871 in the hope to clarify outbound eviction
<br>
</div>

<div class='talk op-msg' data-timestamp='1599580740' id='402836'>
<a class='timestamp' href='#402836'><time timestamp='2020-09-08T15:59:00Z'>15:59</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/19871" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/19871</a> | doc: Clarify scope of eviction protection of outbound block-relay peers by ariard · Pull Request #19871 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1599580740' id='402837'>
<a class='timestamp' href='#402837'><time timestamp='2020-09-08T15:59:00Z'>15:59</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
ariard: thanks, i&#x27;ll take a look
<br>
</div>

<div class='talk op-msg' data-timestamp='1599580740' id='402838'>
<a class='timestamp' href='#402838'><time timestamp='2020-09-08T15:59:00Z'>15:59</time></a>
&lt;<span class='nick nick-14'> hebasto</span>&gt;
o/
<br>
</div>

<div class='talk op-msg' data-timestamp='1599580740' id='402839'>
<a class='timestamp' href='#402839'><time timestamp='2020-09-08T15:59:00Z'>15:59</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i have been succesfully shilled
<br>
</div>

<div class='talk op-msg' data-timestamp='1599580740' id='402840'>
<a class='timestamp' href='#402840'><time timestamp='2020-09-08T15:59:00Z'>15:59</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
any advances on one shilling?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599580740' id='402841'>
<a class='timestamp' href='#402841'><time timestamp='2020-09-08T15:59:00Z'>15:59</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
going once
<br>
</div>

<div class='talk op-msg' data-timestamp='1599580740' id='402842'>
<a class='timestamp' href='#402842'><time timestamp='2020-09-08T15:59:00Z'>15:59</time></a>
&lt;<span class='nick nick-14'> hebasto</span>&gt;
#17785
<br>
</div>

<div class='talk op-msg' data-timestamp='1599580740' id='402843'>
<a class='timestamp' href='#402843'><time timestamp='2020-09-08T15:59:00Z'>15:59</time></a>
&lt;<span class='nick nick-14'> jonatack</span>&gt;
It would be great to have #19643 in master and it seems RFM
<br>
</div>

<div class='talk op-msg' data-timestamp='1599580740' id='402844'>
<a class='timestamp' href='#402844'><time timestamp='2020-09-08T15:59:00Z'>15:59</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/17785" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/17785</a> | p2p: Unify Send and Receive protocol versions by hebasto · Pull Request #17785 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1599580740' id='402845'>
<a class='timestamp' href='#402845'><time timestamp='2020-09-08T15:59:00Z'>15:59</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
going twice
<br>
</div>

<div class='talk op-msg' data-timestamp='1599580740' id='402846'>
<a class='timestamp' href='#402846'><time timestamp='2020-09-08T15:59:00Z'>15:59</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/19643" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/19643</a> | Add -netinfo peer connections dashboard by jonatack · Pull Request #19643 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1599580740' id='402847'>
<a class='timestamp' href='#402847'><time timestamp='2020-09-08T15:59:00Z'>15:59</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
super-easy little refactoring which will unlock my future work #19843
<br>
</div>

<div class='talk op-msg' data-timestamp='1599580740' id='402848'>
<a class='timestamp' href='#402848'><time timestamp='2020-09-08T15:59:00Z'>15:59</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/19843" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/19843</a> | Refactoring and minor improvement for self-advertisements by naumenkogs · Pull Request #19843 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1599580740' id='402849'>
<a class='timestamp' href='#402849'><time timestamp='2020-09-08T15:59:00Z'>15:59</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
#endmeeting
<br>
</div>

<div class='talk op-msg' data-timestamp='1599580800' id='402850'>
<a class='timestamp' href='#402850'><time timestamp='2020-09-08T16:00:00Z'>16:00</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Meeting ended Tue Sep  8 15:59:59 2020 UTC.  Information about MeetBot at <a href="http://wiki.debian.org/MeetBot" class="link" target="_blank">http://wiki.debian.org/MeetBot</a> . (v 0.1.4)
<br>
</div>

<div class='talk op-msg' data-timestamp='1599580800' id='402851'>
<a class='timestamp' href='#402851'><time timestamp='2020-09-08T16:00:00Z'>16:00</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Minutes:        <a href="http://www.erisian.com.au/meetbot/bitcoin-core-dev/2020/bitcoin-core-dev.2020-09-08-15.00.html" class="link" target="_blank">http://www.erisian.com.au/meetbot/bitcoin-core-dev/2020/bitcoin-core-dev.2020-09-08-15.00.html</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1599580800' id='402852'>
<a class='timestamp' href='#402852'><time timestamp='2020-09-08T16:00:00Z'>16:00</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Minutes (text): <a href="http://www.erisian.com.au/meetbot/bitcoin-core-dev/2020/bitcoin-core-dev.2020-09-08-15.00.txt" class="link" target="_blank">http://www.erisian.com.au/meetbot/bitcoin-core-dev/2020/bitcoin-core-dev.2020-09-08-15.00.txt</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1599580800' id='402853'>
<a class='timestamp' href='#402853'><time timestamp='2020-09-08T16:00:00Z'>16:00</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Log:            <a href="http://www.erisian.com.au/meetbot/bitcoin-core-dev/2020/bitcoin-core-dev.2020-09-08-15.00.log.html" class="link" target="_blank">http://www.erisian.com.au/meetbot/bitcoin-core-dev/2020/bitcoin-core-dev.2020-09-08-15.00.log.html</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1599580800' id='402854'>
<a class='timestamp' href='#402854'><time timestamp='2020-09-08T16:00:00Z'>16:00</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
two shillings
<br>
</div>

<div class='talk op-msg' data-timestamp='1599580800' id='402855'>
<a class='timestamp' href='#402855'><time timestamp='2020-09-08T16:00:00Z'>16:00</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
sold!
<br>
</div>

<div class='talk op-msg' data-timestamp='1599580800' id='402856'>
<a class='timestamp' href='#402856'><time timestamp='2020-09-08T16:00:00Z'>16:00</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
i forgot what i was bidding on
<br>
</div>

<div class='talk op-msg' data-timestamp='1599581100' id='402857'>
<a class='timestamp' href='#402857'><time timestamp='2020-09-08T16:05:00Z'>16:05</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
leading the next core pr review
<br>
</div>

<div class='talk op-msg' data-timestamp='1599581160' id='402858'>
<a class='timestamp' href='#402858'><time timestamp='2020-09-08T16:06:00Z'>16:06</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
sweet, instagibbs i pick you
<br>
</div>

<div class='talk op-msg' data-timestamp='1599581220' id='402859'>
<a class='timestamp' href='#402859'><time timestamp='2020-09-08T16:07:00Z'>16:07</time></a>
&lt;<span class='nick nick-3'> aj</span>&gt;
&quot;tangy and quite full-bodied, with a lasting, mostly pleasant, aftertaste&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1599581220' id='402860'>
<a class='timestamp' href='#402860'><time timestamp='2020-09-08T16:07:00Z'>16:07</time></a>
&lt;<span class='nick nick-4'> * aj</span>&gt;
reviews instagibbs now to get it out of the way
<br>
</div>

<div class='talk op-msg' data-timestamp='1599581340' id='402861'>
<a class='timestamp' href='#402861'><time timestamp='2020-09-08T16:09:00Z'>16:09</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
aj: is that how we&#x27;ll describe connection types in getpeerinfo ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599581340' id='402862'>
<a class='timestamp' href='#402862'><time timestamp='2020-09-08T16:09:00Z'>16:09</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
block-relay peers: mostly pleasant?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599581400' id='402863'>
<a class='timestamp' href='#402863'><time timestamp='2020-09-08T16:10:00Z'>16:10</time></a>
&lt;<span class='nick nick-3'> aj</span>&gt;
sipa: full-bodied: relays tx; tangy: relays addresses; lasting aftertase: longlived; mostly pleasant: low but nonzero discouragement score?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599581400' id='402864'>
<a class='timestamp' href='#402864'><time timestamp='2020-09-08T16:10:00Z'>16:10</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
something like that
<br>
</div>

<div class='talk op-msg' data-timestamp='1599581460' id='402865'>
<a class='timestamp' href='#402865'><time timestamp='2020-09-08T16:11:00Z'>16:11</time></a>
&lt;<span class='nick nick-3'> aj</span>&gt;
bool IsTangy(conn_type ct);
<br>
</div>

<div class='talk op-msg' data-timestamp='1599581580' id='402866'>
<a class='timestamp' href='#402866'><time timestamp='2020-09-08T16:13:00Z'>16:13</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
aj: aftertaste implies you stopped using it..?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599581580' id='402867'>
<a class='timestamp' href='#402867'><time timestamp='2020-09-08T16:13:00Z'>16:13</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
addr-relay peers really have the best aftertaste imo
<br>
</div>

<div class='talk op-msg' data-timestamp='1599581580' id='402868'>
<a class='timestamp' href='#402868'><time timestamp='2020-09-08T16:13:00Z'>16:13</time></a>
&lt;<span class='nick nick-3'> aj</span>&gt;
luke-jr: pause inbetween uses works to i think?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599581580' id='402869'>
<a class='timestamp' href='#402869'><time timestamp='2020-09-08T16:13:00Z'>16:13</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
not enough to tell that the aftertaste is lasting
<br>
</div>

<div class='talk op-msg' data-timestamp='1599581640' id='402870'>
<a class='timestamp' href='#402870'><time timestamp='2020-09-08T16:14:00Z'>16:14</time></a>
&lt;<span class='nick nick-3'> aj</span>&gt;
luke-jr: unrelated, any thoughts on <a href="https://github.com/bitcoin/bitcoin/pull/19401#pullrequestreview-482271390" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19401#pullrequestreview-482271390</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1599581700' id='402871'>
<a class='timestamp' href='#402871'><time timestamp='2020-09-08T16:15:00Z'>16:15</time></a>
&lt;<span class='nick nick-3'> aj</span>&gt;
(or anyone else, re: gbt for test chains)
<br>
</div>

<div class='talk op-msg' data-timestamp='1599581700' id='402872'>
<a class='timestamp' href='#402872'><time timestamp='2020-09-08T16:15:00Z'>16:15</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
aj: I think it&#x27;s better to avoid special casing test code in the main codebase
<br>
</div>

<div class='talk op-msg' data-timestamp='1599581820' id='402873'>
<a class='timestamp' href='#402873'><time timestamp='2020-09-08T16:17:00Z'>16:17</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
(not sure if we do, but we <b>*should*</b> have a test that one node by itself can&#x27;t mine)
<br>
</div>

<div class='talk op-msg' data-timestamp='1599581940' id='402874'>
<a class='timestamp' href='#402874'><time timestamp='2020-09-08T16:19:00Z'>16:19</time></a>
&lt;<span class='nick nick-3'> aj</span>&gt;
luke-jr: regtest nodes can trivially mine on their own via generate
<br>
</div>

<div class='talk op-msg' data-timestamp='1599581940' id='402875'>
<a class='timestamp' href='#402875'><time timestamp='2020-09-08T16:19:00Z'>16:19</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
ok?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599581940' id='402876'>
<a class='timestamp' href='#402876'><time timestamp='2020-09-08T16:19:00Z'>16:19</time></a>
&lt;<span class='nick nick-3'> aj</span>&gt;
luke-jr: not being able to mine without being connected matters for mainnet, sure; but not for anything else
<br>
</div>

<div class='talk op-msg' data-timestamp='1599581940' id='402877'>
<a class='timestamp' href='#402877'><time timestamp='2020-09-08T16:19:00Z'>16:19</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
mainnet is all that matters in the end
<br>
</div>

<div class='talk op-msg' data-timestamp='1599583560' id='402878'>
<a class='timestamp' href='#402878'><time timestamp='2020-09-08T16:46:00Z'>16:46</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] AkioNak opened pull request #19919: bugfix: make LoadWallet assigns status always (master...set_databasestatus) <a href="https://github.com/bitcoin/bitcoin/pull/19919" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19919</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1599584700' id='402879'>
<a class='timestamp' href='#402879'><time timestamp='2020-09-08T17:05:00Z'>17:05</time></a>
&lt;<span class='nick nick-15'> darosior</span>&gt;
jnewbery: you were right regarding #18766: it&#x27;s much nicer by keeping the feeEstimator as a separate component :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1599584700' id='402880'>
<a class='timestamp' href='#402880'><time timestamp='2020-09-08T17:05:00Z'>17:05</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/18766" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/18766</a> | Disable fee estimation in blocksonly mode (by removing the fee estimates global) by darosior · Pull Request #18766 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1599585840' id='402881'>
<a class='timestamp' href='#402881'><time timestamp='2020-09-08T17:24:00Z'>17:24</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
darosior: cool. Thanks for being open to trying it both ways. Hopefully I&#x27;ll have time to review the new version this week.
<br>
</div>

<div class='talk op-msg' data-timestamp='1599593460' id='402882'>
<a class='timestamp' href='#402882'><time timestamp='2020-09-08T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-12'> shesek</span>&gt;
does bitcoin core ever verify merkle inclusion proofs? (I assume not, it only verifies that the merkle root matches the set of txids. but maybe I&#x27;m missing some other ways its being used?)
<br>
</div>

<div class='talk op-msg' data-timestamp='1599593520' id='402883'>
<a class='timestamp' href='#402883'><time timestamp='2020-09-08T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gettxoutproof will let you construct one
<br>
</div>

<div class='talk op-msg' data-timestamp='1599593520' id='402884'>
<a class='timestamp' href='#402884'><time timestamp='2020-09-08T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i don&#x27;t think anything verifies them
<br>
</div>

<div class='talk op-msg' data-timestamp='1599593520' id='402885'>
<a class='timestamp' href='#402885'><time timestamp='2020-09-08T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
shesek, why?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599593640' id='402886'>
<a class='timestamp' href='#402886'><time timestamp='2020-09-08T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-12'> shesek</span>&gt;
just curious. I was writing about that in a comment in the context of me claiming that merkle trees aren&#x27;t an essential component of Bitcoin&#x27;s breakthrough, and someone saying that they are (and being wrong :p)
<br>
</div>

<div class='talk op-msg' data-timestamp='1599593640' id='402887'>
<a class='timestamp' href='#402887'><time timestamp='2020-09-08T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-4'> pinheadmz</span>&gt;
sipa isnt there a verifytxoutproof rpc ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599593640' id='402888'>
<a class='timestamp' href='#402888'><time timestamp='2020-09-08T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-12'> shesek</span>&gt;
I wanted to write that full nodes don&#x27;t ever verify merkle inclusion proofs at all, and wanted to be sure I&#x27;m not wrong
<br>
</div>

<div class='talk op-msg' data-timestamp='1599593640' id='402889'>
<a class='timestamp' href='#402889'><time timestamp='2020-09-08T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
pinheadmz: oh, there is!
<br>
</div>

<div class='talk op-msg' data-timestamp='1599593700' id='402890'>
<a class='timestamp' href='#402890'><time timestamp='2020-09-08T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
shesek: no, they don&#x27;t even ever receive any
<br>
</div>

<div class='talk op-msg' data-timestamp='1599593700' id='402891'>
<a class='timestamp' href='#402891'><time timestamp='2020-09-08T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-12'> shesek</span>&gt;
I was thinking more in the context of the protocol and p2p interaction, not the user facing rpcs
<br>
</div>

<div class='talk op-msg' data-timestamp='1599593700' id='402892'>
<a class='timestamp' href='#402892'><time timestamp='2020-09-08T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
though they were an essential part of BIP37
<br>
</div>

<div class='talk op-msg' data-timestamp='1599593700' id='402893'>
<a class='timestamp' href='#402893'><time timestamp='2020-09-08T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-12'> shesek</span>&gt;
(if anyone is curious: <a href="https://news.ycombinator.com/item?id=24407196" class="link" target="_blank">https://news.ycombinator.com/item?id=24407196</a>)
<br>
</div>

<div class='talk op-msg' data-timestamp='1599593700' id='402894'>
<a class='timestamp' href='#402894'><time timestamp='2020-09-08T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
shesek, for a full node theres no real difference between receiving a merkle tree and a hash of a list
<br>
</div>

<div class='talk op-msg' data-timestamp='1599593760' id='402895'>
<a class='timestamp' href='#402895'><time timestamp='2020-09-08T19:36:00Z'>19:36</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
but for spvish clients its very different
<br>
</div>

<div class='talk op-msg' data-timestamp='1599593760' id='402896'>
<a class='timestamp' href='#402896'><time timestamp='2020-09-08T19:36:00Z'>19:36</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yeah, for a full-blocks-only bitcoin like protocol, the &quot;merkle root&quot; stored in the block header could just be a flat hash of all txids
<br>
</div>

<div class='talk op-msg' data-timestamp='1599593760' id='402897'>
<a class='timestamp' href='#402897'><time timestamp='2020-09-08T19:36:00Z'>19:36</time></a>
&lt;<span class='nick nick-12'> shesek</span>&gt;
right, my claim was that the SPV model isn&#x27;t all that important, and that if Satoshi released Bitcoin without considering light clients at all it would still be the incredible breakthrough that it is
<br>
</div>

<div class='talk op-msg' data-timestamp='1599593820' id='402898'>
<a class='timestamp' href='#402898'><time timestamp='2020-09-08T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-12'> shesek</span>&gt;
I&#x27;m aware. :) &quot;If light SPV clients weren&#x27;t a consideration, we could just concatenate all txids together and use the hash of that in the block header instead of a merkle root, and get the same effect. ... For a full node that has the full list of txids regardless, this is basically meaningless.&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1599593820' id='402899'>
<a class='timestamp' href='#402899'><time timestamp='2020-09-08T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-6'> yanmaani</span>&gt;
is txn noninclusion proofs something bitcoin core intends to include?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599593820' id='402900'>
<a class='timestamp' href='#402900'><time timestamp='2020-09-08T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-6'> yanmaani</span>&gt;
&#x27;UTXO X did/did not exist in the UTXO set as of this block&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1599593880' id='402901'>
<a class='timestamp' href='#402901'><time timestamp='2020-09-08T19:38:00Z'>19:38</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yanmaani: the current bitcoin protocol does not permit compact proofs for that
<br>
</div>

<div class='talk op-msg' data-timestamp='1599594120' id='402902'>
<a class='timestamp' href='#402902'><time timestamp='2020-09-08T19:42:00Z'>19:42</time></a>
&lt;<span class='nick nick-6'> yanmaani</span>&gt;
I know, but is there any research being done? Like on BIPs or stuff? I know about utreexo
<br>
</div>

<div class='talk op-msg' data-timestamp='1599594120' id='402903'>
<a class='timestamp' href='#402903'><time timestamp='2020-09-08T19:42:00Z'>19:42</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
in that case, you&#x27;re asking about proposal bitcoin protocol changes, not bitcoin core
<br>
</div>

<div class='talk op-msg' data-timestamp='1599594180' id='402904'>
<a class='timestamp' href='#402904'><time timestamp='2020-09-08T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
utreexo doesn&#x27;t permit this, as it&#x27;s insertion ordered
<br>
</div>

<div class='talk op-msg' data-timestamp='1599594180' id='402905'>
<a class='timestamp' href='#402905'><time timestamp='2020-09-08T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
probably better for #bitcoin-wizards
<br>
</div>

<div class='talk op-msg' data-timestamp='1599596220' id='402906'>
<a class='timestamp' href='#402906'><time timestamp='2020-09-08T20:17:00Z'>20:17</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke pushed 2 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/147d50d63e07...4f229d8904f8" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/147d50d63e07...4f229d8904f8</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1599596220' id='402907'>
<a class='timestamp' href='#402907'><time timestamp='2020-09-08T20:17:00Z'>20:17</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master fa7e407 MarcoFalke: Do not pass chain params to CheckForStaleTipAndEvictPeers twice
<br>
</div>

<div class='talk op-msg' data-timestamp='1599596220' id='402908'>
<a class='timestamp' href='#402908'><time timestamp='2020-09-08T20:17:00Z'>20:17</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 4f229d8 MarcoFalke: Merge #19914: refactor: Do not pass chain params to CheckForStaleTipAndEvi...
<br>
</div>

<div class='talk op-msg' data-timestamp='1599596220' id='402909'>
<a class='timestamp' href='#402909'><time timestamp='2020-09-08T20:17:00Z'>20:17</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke merged pull request #19914: refactor: Do not pass chain params to CheckForStaleTipAndEvictPeers twice (master...2009-netNo2ChainParams) <a href="https://github.com/bitcoin/bitcoin/pull/19914" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19914</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1599600540' id='402910'>
<a class='timestamp' href='#402910'><time timestamp='2020-09-08T21:29:00Z'>21:29</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] elichai opened pull request #19920: test: Fuzzing siphash against reference implementation [Request for feedback] (master...2020-fuzzing-siphash) <a href="https://github.com/bitcoin/bitcoin/pull/19920" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19920</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1599606240' id='402911'>
<a class='timestamp' href='#402911'><time timestamp='2020-09-08T23:04:00Z'>23:04</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] dr-orlovsky closed pull request #19907: util: add psbt combiner role (master...feat/psbt-combiner) <a href="https://github.com/bitcoin/bitcoin/pull/19907" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19907</a>
<br>
</div>

</div>
</section>

</body>
</html>
