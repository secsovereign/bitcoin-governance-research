<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2020-12-07
 — 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2020-12-07' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:17 UTC</pre>
<pre><a href="/bitcoin-core-dev/2020-11-07">&lt;</a><span class='header'>  December 2020   </span><a href="/bitcoin-core-dev/2021-01-07">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;       <a class="" href="/bitcoin-core-dev/2020-12-01">1</a>  <a class="" href="/bitcoin-core-dev/2020-12-02">2</a>  <a class="" href="/bitcoin-core-dev/2020-12-03">3</a>  <a class="" href="/bitcoin-core-dev/2020-12-04">4</a>  <a class="" href="/bitcoin-core-dev/2020-12-05">5</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2020-12-06">6</a>  <a class="current" href="/bitcoin-core-dev/2020-12-07">7</a>  <a class="" href="/bitcoin-core-dev/2020-12-08">8</a>  <a class="" href="/bitcoin-core-dev/2020-12-09">9</a> <a class="" href="/bitcoin-core-dev/2020-12-10">10</a> <a class="" href="/bitcoin-core-dev/2020-12-11">11</a> <a class="" href="/bitcoin-core-dev/2020-12-12">12</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2020-12-13">13</a> <a class="" href="/bitcoin-core-dev/2020-12-14">14</a> <a class="" href="/bitcoin-core-dev/2020-12-15">15</a> <a class="" href="/bitcoin-core-dev/2020-12-16">16</a> <a class="" href="/bitcoin-core-dev/2020-12-17">17</a> <a class="" href="/bitcoin-core-dev/2020-12-18">18</a> <a class="" href="/bitcoin-core-dev/2020-12-19">19</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2020-12-20">20</a> <a class="" href="/bitcoin-core-dev/2020-12-21">21</a> <a class="" href="/bitcoin-core-dev/2020-12-22">22</a> <a class="" href="/bitcoin-core-dev/2020-12-23">23</a> <a class="" href="/bitcoin-core-dev/2020-12-24">24</a> <a class="" href="/bitcoin-core-dev/2020-12-25">25</a> <a class="" href="/bitcoin-core-dev/2020-12-26">26</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2020-12-27">27</a> <a class="" href="/bitcoin-core-dev/2020-12-28">28</a> <a class="" href="/bitcoin-core-dev/2020-12-29">29</a> <a class="" href="/bitcoin-core-dev/2020-12-30">30</a> <a class="" href="/bitcoin-core-dev/2020-12-31">31</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1607307480' id='417541'>
<a class='timestamp' href='#417541'><time timestamp='2020-12-07T02:18:00Z'>02:18</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] fanquake pushed 2 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/64156ad4d1f5...cef2efafcecc" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/64156ad4d1f5...cef2efafcecc</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1607307480' id='417542'>
<a class='timestamp' href='#417542'><time timestamp='2020-12-07T02:18:00Z'>02:18</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master cb0b712 Sebastian Falbesoner: doc: libbitcoinconsensus: add missing error code description, fix NBitcoin...
<br>
</div>

<div class='talk op-msg' data-timestamp='1607307480' id='417543'>
<a class='timestamp' href='#417543'><time timestamp='2020-12-07T02:18:00Z'>02:18</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master cef2efa fanquake: Merge #20577: doc: libconsensus: add missing error code description, fix N...
<br>
</div>

<div class='talk op-msg' data-timestamp='1607307480' id='417544'>
<a class='timestamp' href='#417544'><time timestamp='2020-12-07T02:18:00Z'>02:18</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] fanquake merged pull request #20577: doc: libconsensus: add missing error code description, fix NBitcoin link (master...201212-doc-libbitcoinconsensus-fixes) <a href="https://github.com/bitcoin/bitcoin/pull/20577" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20577</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1607314860' id='417545'>
<a class='timestamp' href='#417545'><time timestamp='2020-12-07T04:21:00Z'>04:21</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] wodry opened pull request #20587: [doc] Tidy up Tor doc (more stringent) (master...patch-2) <a href="https://github.com/bitcoin/bitcoin/pull/20587" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20587</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1607326440' id='417546'>
<a class='timestamp' href='#417546'><time timestamp='2020-12-07T07:34:00Z'>07:34</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] fanquake pushed 3 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/cef2efafcecc...d0ca394596cf" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/cef2efafcecc...d0ca394596cf</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1607326440' id='417547'>
<a class='timestamp' href='#417547'><time timestamp='2020-12-07T07:34:00Z'>07:34</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 5bab08d Wladimir J. van der Laan: contrib: Add test for ELF symbol-check
<br>
</div>

<div class='talk op-msg' data-timestamp='1607326440' id='417548'>
<a class='timestamp' href='#417548'><time timestamp='2020-12-07T07:34:00Z'>07:34</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master ed1bbce fanquake: contrib: add MACHO tests to symbol-check tests
<br>
</div>

<div class='talk op-msg' data-timestamp='1607326440' id='417549'>
<a class='timestamp' href='#417549'><time timestamp='2020-12-07T07:34:00Z'>07:34</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master d0ca394 fanquake: Merge #20476: contrib: Add test for ELF symbol-check
<br>
</div>

<div class='talk op-msg' data-timestamp='1607326440' id='417550'>
<a class='timestamp' href='#417550'><time timestamp='2020-12-07T07:34:00Z'>07:34</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] fanquake merged pull request #20476: contrib: Add test for ELF symbol-check (master...2020_11_test_symbol_check) <a href="https://github.com/bitcoin/bitcoin/pull/20476" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20476</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1607328600' id='417551'>
<a class='timestamp' href='#417551'><time timestamp='2020-12-07T08:10:00Z'>08:10</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke pushed 2 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/d0ca394596cf...1a04f45fe967" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/d0ca394596cf...1a04f45fe967</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1607328600' id='417552'>
<a class='timestamp' href='#417552'><time timestamp='2020-12-07T08:10:00Z'>08:10</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 1816327 Hennadii Stepanov: p2p: Put disconnecting logs into BCLog::NET category
<br>
</div>

<div class='talk op-msg' data-timestamp='1607328600' id='417553'>
<a class='timestamp' href='#417553'><time timestamp='2020-12-07T08:10:00Z'>08:10</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 1a04f45 MarcoFalke: Merge #19832: p2p: Put disconnecting logs into BCLog::NET category
<br>
</div>

<div class='talk op-msg' data-timestamp='1607328600' id='417554'>
<a class='timestamp' href='#417554'><time timestamp='2020-12-07T08:10:00Z'>08:10</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke merged pull request #19832: p2p: Put disconnecting logs into BCLog::NET category (master...200829-log) <a href="https://github.com/bitcoin/bitcoin/pull/19832" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19832</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1607329020' id='417555'>
<a class='timestamp' href='#417555'><time timestamp='2020-12-07T08:17:00Z'>08:17</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jonasschnelli pushed 3 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/1a04f45fe967...eab63b971d5f" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/1a04f45fe967...eab63b971d5f</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1607329020' id='417556'>
<a class='timestamp' href='#417556'><time timestamp='2020-12-07T08:17:00Z'>08:17</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 73dc19a João Barbosa: rpc, refactor: Avoid duplicate set lookup in gettxoutproof
<br>
</div>

<div class='talk op-msg' data-timestamp='1607329020' id='417557'>
<a class='timestamp' href='#417557'><time timestamp='2020-12-07T08:17:00Z'>08:17</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 52fc399 João Barbosa: rpc: Reject empty txids in gettxoutproof
<br>
</div>

<div class='talk op-msg' data-timestamp='1607329020' id='417558'>
<a class='timestamp' href='#417558'><time timestamp='2020-12-07T08:17:00Z'>08:17</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master eab63b9 Jonas Schnelli: Merge #19847: rpc, refactor: Avoid duplicate set lookup in gettxoutproof
<br>
</div>

<div class='talk op-msg' data-timestamp='1607329080' id='417559'>
<a class='timestamp' href='#417559'><time timestamp='2020-12-07T08:18:00Z'>08:18</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jonasschnelli merged pull request #19847: rpc, refactor: Avoid duplicate set lookup in gettxoutproof (master...2020-08-gettxoutproof) <a href="https://github.com/bitcoin/bitcoin/pull/19847" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19847</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1607332140' id='417560'>
<a class='timestamp' href='#417560'><time timestamp='2020-12-07T09:09:00Z'>09:09</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 2 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/eab63b971d5f...31438cc8184f" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/eab63b971d5f...31438cc8184f</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1607332140' id='417561'>
<a class='timestamp' href='#417561'><time timestamp='2020-12-07T09:09:00Z'>09:09</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master c23f6f8 Jonas Schnelli: Add depends qt fix for ARM macs
<br>
</div>

<div class='talk op-msg' data-timestamp='1607332140' id='417562'>
<a class='timestamp' href='#417562'><time timestamp='2020-12-07T09:09:00Z'>09:09</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 31438cc Wladimir J. van der Laan: Merge #20482: Add depends qt fix for ARM macs
<br>
</div>

<div class='talk op-msg' data-timestamp='1607332200' id='417563'>
<a class='timestamp' href='#417563'><time timestamp='2020-12-07T09:10:00Z'>09:10</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj merged pull request #20482: Add depends qt fix for ARM macs (master...2020/11/qt_mac_arm) <a href="https://github.com/bitcoin/bitcoin/pull/20482" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20482</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1607334720' id='417564'>
<a class='timestamp' href='#417564'><time timestamp='2020-12-07T09:52:00Z'>09:52</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 2 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/31438cc8184f...f3e17686b37a" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/31438cc8184f...f3e17686b37a</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1607334720' id='417565'>
<a class='timestamp' href='#417565'><time timestamp='2020-12-07T09:52:00Z'>09:52</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 6690adb Tyler Chambers: Warn when binaries are built from a dirty branch.
<br>
</div>

<div class='talk op-msg' data-timestamp='1607334720' id='417566'>
<a class='timestamp' href='#417566'><time timestamp='2020-12-07T09:52:00Z'>09:52</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master f3e1768 Wladimir J. van der Laan: Merge #20468: build: warn when generating man pages for binaries built fro...
<br>
</div>

<div class='talk op-msg' data-timestamp='1607334720' id='417567'>
<a class='timestamp' href='#417567'><time timestamp='2020-12-07T09:52:00Z'>09:52</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj merged pull request #20468: build: warn when generating man pages for binaries built from a dirty branch (master...fix-20412) <a href="https://github.com/bitcoin/bitcoin/pull/20468" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20468</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1607335620' id='417568'>
<a class='timestamp' href='#417568'><time timestamp='2020-12-07T10:07:00Z'>10:07</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj closed pull request #20434: contrib: Parse ELF directly for symbol and security checks (master...2020_11_pixie) <a href="https://github.com/bitcoin/bitcoin/pull/20434" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20434</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1607335620' id='417569'>
<a class='timestamp' href='#417569'><time timestamp='2020-12-07T10:07:00Z'>10:07</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj reopened pull request #20434: contrib: Parse ELF directly for symbol and security checks (master...2020_11_pixie) <a href="https://github.com/bitcoin/bitcoin/pull/20434" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20434</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1607336220' id='417570'>
<a class='timestamp' href='#417570'><time timestamp='2020-12-07T10:17:00Z'>10:17</time></a>
&lt;<span class='nick nick-10'> elichai2</span>&gt;
hebasto: are you going to port `std::to_array`?
<br>
</div>

<div class='talk op-msg' data-timestamp='1607336580' id='417571'>
<a class='timestamp' href='#417571'><time timestamp='2020-12-07T10:23:00Z'>10:23</time></a>
&lt;<span class='nick nick-16'> theStack</span>&gt;
pp
<br>
</div>

<div class='talk op-msg' data-timestamp='1607336640' id='417572'>
<a class='timestamp' href='#417572'><time timestamp='2020-12-07T10:24:00Z'>10:24</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke opened pull request #20588: Remove unused and confusing CTransaction constructor (master...2012-txConstructor) <a href="https://github.com/bitcoin/bitcoin/pull/20588" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20588</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1607338260' id='417573'>
<a class='timestamp' href='#417573'><time timestamp='2020-12-07T10:51:00Z'>10:51</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
nice
<br>
</div>

<div class='talk op-msg' data-timestamp='1607338620' id='417574'>
<a class='timestamp' href='#417574'><time timestamp='2020-12-07T10:57:00Z'>10:57</time></a>
&lt;<span class='nick nick-14'> hebasto</span>&gt;
elichai2: no
<br>
</div>

<div class='talk op-msg' data-timestamp='1607341860' id='417575'>
<a class='timestamp' href='#417575'><time timestamp='2020-12-07T11:51:00Z'>11:51</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke pushed 2 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/f3e17686b37a...00f4dcd5520e" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/f3e17686b37a...00f4dcd5520e</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1607341860' id='417576'>
<a class='timestamp' href='#417576'><time timestamp='2020-12-07T11:51:00Z'>11:51</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master fa0f415 MarcoFalke: net: Assume that SetCommonVersion is called at most once per peer
<br>
</div>

<div class='talk op-msg' data-timestamp='1607341860' id='417577'>
<a class='timestamp' href='#417577'><time timestamp='2020-12-07T11:51:00Z'>11:51</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 00f4dcd MarcoFalke: Merge #20138: net: Assume that SetCommonVersion is called at most once per...
<br>
</div>

<div class='talk op-msg' data-timestamp='1607341860' id='417578'>
<a class='timestamp' href='#417578'><time timestamp='2020-12-07T11:51:00Z'>11:51</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke merged pull request #20138: net: Assume that SetCommonVersion is called at most once per peer (master...2010-netVersionOnlyOnce) <a href="https://github.com/bitcoin/bitcoin/pull/20138" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20138</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1607342520' id='417579'>
<a class='timestamp' href='#417579'><time timestamp='2020-12-07T12:02:00Z'>12:02</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke pushed 5 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/00f4dcd5520e...03b1db611495" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/00f4dcd5520e...03b1db611495</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1607342520' id='417580'>
<a class='timestamp' href='#417580'><time timestamp='2020-12-07T12:02:00Z'>12:02</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 03bfeee Antoine Poinsot: interface: remove unused estimateSmartFee method from node
<br>
</div>

<div class='talk op-msg' data-timestamp='1607342520' id='417581'>
<a class='timestamp' href='#417581'><time timestamp='2020-12-07T12:02:00Z'>12:02</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 86ff2cf Antoine Poinsot: Remove the remaining fee estimation globals
<br>
</div>

<div class='talk op-msg' data-timestamp='1607342520' id='417582'>
<a class='timestamp' href='#417582'><time timestamp='2020-12-07T12:02:00Z'>12:02</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master e8ea6ad Antoine Poinsot: init: don&#x27;t create a CBlockPolicyEstimator if we don&#x27;t relay transactions
<br>
</div>

<div class='talk op-msg' data-timestamp='1607342520' id='417583'>
<a class='timestamp' href='#417583'><time timestamp='2020-12-07T12:02:00Z'>12:02</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke merged pull request #18766: Disable fee estimation in blocksonly mode (by removing the fee estimates global) (master...disable_feeest_blocksonly) <a href="https://github.com/bitcoin/bitcoin/pull/18766" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/18766</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1607344140' id='417584'>
<a class='timestamp' href='#417584'><time timestamp='2020-12-07T12:29:00Z'>12:29</time></a>
&lt;<span class='nick nick-14'> hebasto</span>&gt;
jonasschnelli: <a href="https://bitcoinbuilds.org/" class="link" target="_blank">https://bitcoinbuilds.org/</a> reports about two builds for the same master head. Is it intended?
<br>
</div>

<div class='talk op-msg' data-timestamp='1607345460' id='417585'>
<a class='timestamp' href='#417585'><time timestamp='2020-12-07T12:51:00Z'>12:51</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
hebasto: yes. For now.
<br>
</div>

<div class='talk op-msg' data-timestamp='1607345460' id='417586'>
<a class='timestamp' href='#417586'><time timestamp='2020-12-07T12:51:00Z'>12:51</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
one is the GUI repo one the main
<br>
</div>

<div class='talk op-msg' data-timestamp='1607345460' id='417587'>
<a class='timestamp' href='#417587'><time timestamp='2020-12-07T12:51:00Z'>12:51</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
It&#x27;s currently like this because the GUI repo has bitcoinbuilds integerated
<br>
</div>

<div class='talk op-msg' data-timestamp='1607345460' id='417588'>
<a class='timestamp' href='#417588'><time timestamp='2020-12-07T12:51:00Z'>12:51</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
But I will fix this soon
<br>
</div>

<div class='talk op-msg' data-timestamp='1607346600' id='417589'>
<a class='timestamp' href='#417589'><time timestamp='2020-12-07T13:10:00Z'>13:10</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 2 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/03b1db611495...5c4911e7e752" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/03b1db611495...5c4911e7e752</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1607346600' id='417590'>
<a class='timestamp' href='#417590'><time timestamp='2020-12-07T13:10:00Z'>13:10</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master fa8abdc MarcoFalke: rpc: Use FeeModes doc helper in estimatesmartfee
<br>
</div>

<div class='talk op-msg' data-timestamp='1607346600' id='417591'>
<a class='timestamp' href='#417591'><time timestamp='2020-12-07T13:10:00Z'>13:10</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 5c4911e Wladimir J. van der Laan: Merge #20568: doc: Use FeeModes doc helper in estimatesmartfee
<br>
</div>

<div class='talk op-msg' data-timestamp='1607346600' id='417592'>
<a class='timestamp' href='#417592'><time timestamp='2020-12-07T13:10:00Z'>13:10</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj merged pull request #20568: doc: Use FeeModes doc helper in estimatesmartfee (master...2012-rpcDocFee) <a href="https://github.com/bitcoin/bitcoin/pull/20568" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20568</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1607346840' id='417593'>
<a class='timestamp' href='#417593'><time timestamp='2020-12-07T13:14:00Z'>13:14</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke opened pull request #20589: log: Clarify that failure to read/write fee_estimates.dat is non-fatal (master...2012-logFeeest) <a href="https://github.com/bitcoin/bitcoin/pull/20589" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20589</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1607354400' id='417594'>
<a class='timestamp' href='#417594'><time timestamp='2020-12-07T15:20:00Z'>15:20</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
sipa: wumpus: wrt sending sendaddrv2 and the difference between the code and the BIP, I opened <a href="https://github.com/bitcoin/bips/pull/1043" class="link" target="_blank">https://github.com/bitcoin/bips/pull/1043</a> to change the BIP.
<br>
</div>

<div class='talk op-msg' data-timestamp='1607354400' id='417595'>
<a class='timestamp' href='#417595'><time timestamp='2020-12-07T15:20:00Z'>15:20</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
maybe changing the code to conform to the BIP also makes sense (except maybe it is too late in rc cycle)
<br>
</div>

<div class='talk op-msg' data-timestamp='1607355060' id='417596'>
<a class='timestamp' href='#417596'><time timestamp='2020-12-07T15:31:00Z'>15:31</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
vasild: thanks, yes, that probably makes most sense
<br>
</div>

<div class='talk op-msg' data-timestamp='1607355300' id='417597'>
<a class='timestamp' href='#417597'><time timestamp='2020-12-07T15:35:00Z'>15:35</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
Lets pick a random number N between 10 and 50 and send sendaddrv2 after receiving N messages from the peer.
<br>
</div>

<div class='talk op-msg' data-timestamp='1607355420' id='417598'>
<a class='timestamp' href='#417598'><time timestamp='2020-12-07T15:37:00Z'>15:37</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
maybe send it out of band by entangling a qubit
<br>
</div>

<div class='talk op-msg' data-timestamp='1607355480' id='417599'>
<a class='timestamp' href='#417599'><time timestamp='2020-12-07T15:38:00Z'>15:38</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
:-D
<br>
</div>

<div class='talk op-msg' data-timestamp='1607355540' id='417600'>
<a class='timestamp' href='#417600'><time timestamp='2020-12-07T15:39:00Z'>15:39</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
in a way I like signaling the different extensions in the same way, instead of setting on a different one for each one which seems like a jumble
<br>
</div>

<div class='talk op-msg' data-timestamp='1607355600' id='417601'>
<a class='timestamp' href='#417601'><time timestamp='2020-12-07T15:40:00Z'>15:40</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
that said this yea shouldn&#x27;t have come up so late
<br>
</div>

<div class='talk op-msg' data-timestamp='1607355720' id='417602'>
<a class='timestamp' href='#417602'><time timestamp='2020-12-07T15:42:00Z'>15:42</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
wumpus: what about doing that in 0.21.1?
<br>
</div>

<div class='talk op-msg' data-timestamp='1607355720' id='417603'>
<a class='timestamp' href='#417603'><time timestamp='2020-12-07T15:42:00Z'>15:42</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
right now, addrv2 is is no releases, so we can still change everything, once it&#x27;s in 0.21.0 release, compatibility is an issu
<br>
</div>

<div class='talk op-msg' data-timestamp='1607355780' id='417604'>
<a class='timestamp' href='#417604'><time timestamp='2020-12-07T15:43:00Z'>15:43</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
0.21.0 &lt;-&gt; 0.21.1 would work just fine
<br>
</div>

<div class='talk op-msg' data-timestamp='1607355780' id='417605'>
<a class='timestamp' href='#417605'><time timestamp='2020-12-07T15:43:00Z'>15:43</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
I mean - it really does not matter when sendaddrv2 is being sent and anything would work
<br>
</div>

<div class='talk op-msg' data-timestamp='1607355840' id='417606'>
<a class='timestamp' href='#417606'><time timestamp='2020-12-07T15:44:00Z'>15:44</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
that&#x27;s good
<br>
</div>

<div class='talk op-msg' data-timestamp='1607355900' id='417607'>
<a class='timestamp' href='#417607'><time timestamp='2020-12-07T15:45:00Z'>15:45</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
right now bitcoin core is the only implementation that exists, I guess. I would be a problem if another implementation arrives that expects sendaddrv2 at a certain time and is upset otherwise
<br>
</div>

<div class='talk op-msg' data-timestamp='1607355960' id='417608'>
<a class='timestamp' href='#417608'><time timestamp='2020-12-07T15:46:00Z'>15:46</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
(unnecessary strict)
<br>
</div>

<div class='talk op-msg' data-timestamp='1607356020' id='417609'>
<a class='timestamp' href='#417609'><time timestamp='2020-12-07T15:47:00Z'>15:47</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
What about changing the BIP to &quot;sendaddrv2 can be sent at any time&quot;?
<br>
</div>

<div class='talk op-msg' data-timestamp='1607356080' id='417610'>
<a class='timestamp' href='#417610'><time timestamp='2020-12-07T15:48:00Z'>15:48</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I prefer being specific in the BIP
<br>
</div>

<div class='talk op-msg' data-timestamp='1607356080' id='417611'>
<a class='timestamp' href='#417611'><time timestamp='2020-12-07T15:48:00Z'>15:48</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
and possible more lenient in the implementation
<br>
</div>

<div class='talk op-msg' data-timestamp='1607356080' id='417612'>
<a class='timestamp' href='#417612'><time timestamp='2020-12-07T15:48:00Z'>15:48</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
ok
<br>
</div>

<div class='talk op-msg' data-timestamp='1607356140' id='417613'>
<a class='timestamp' href='#417613'><time timestamp='2020-12-07T15:49:00Z'>15:49</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I also think that establishing this during some negotiation phase is a good idea, instead of it being possible to switch it any time during a connection
<br>
</div>

<div class='talk op-msg' data-timestamp='1607356260' id='417614'>
<a class='timestamp' href='#417614'><time timestamp='2020-12-07T15:51:00Z'>15:51</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
it just does not make sense to flip it after exchanging 47 messages
<br>
</div>

<div class='talk op-msg' data-timestamp='1607357580' id='417615'>
<a class='timestamp' href='#417615'><time timestamp='2020-12-07T16:13:00Z'>16:13</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it doesn&#x27;t, but if it&#x27;s specified in the BIP that it&#x27;s not allowed then implementations don&#x27;t have to take it into account, which might allow for optimizations that wouldn&#x27;t be possible if it&#x27;s possible to switch at any time
<br>
</div>

<div class='talk op-msg' data-timestamp='1607358120' id='417616'>
<a class='timestamp' href='#417616'><time timestamp='2020-12-07T16:22:00Z'>16:22</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
also, it makes it possible to recognize peers that don&#x27;t support addrv2 for sure, e.g. for a future time where addrv1 becomes phased out
<br>
</div>

<div class='talk op-msg' data-timestamp='1607358300' id='417617'>
<a class='timestamp' href='#417617'><time timestamp='2020-12-07T16:25:00Z'>16:25</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
right
<br>
</div>

<div class='talk op-msg' data-timestamp='1607358420' id='417618'>
<a class='timestamp' href='#417618'><time timestamp='2020-12-07T16:27:00Z'>16:27</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
actually, if we want to recognize peers that don&#x27;t support addrv2 we must mandate that sendaddrv2 is sent before sending some message X, so that we would know that if we receive X from the peer without sendaddrv2 before that, then that peer does not support it
<br>
</div>

<div class='talk op-msg' data-timestamp='1607358660' id='417619'>
<a class='timestamp' href='#417619'><time timestamp='2020-12-07T16:31:00Z'>16:31</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
I guess that is an extra argument to do it before sending verack (like wtxidrelay)
<br>
</div>

<div class='talk op-msg' data-timestamp='1607359140' id='417620'>
<a class='timestamp' href='#417620'><time timestamp='2020-12-07T16:39:00Z'>16:39</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
Looks like we&#x27;ll need to work on other bugfixes #20579 , so I&#x27;d also argue to move sendaddrv2 to pre-verack
<br>
</div>

<div class='talk op-msg' data-timestamp='1607359140' id='417621'>
<a class='timestamp' href='#417621'><time timestamp='2020-12-07T16:39:00Z'>16:39</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/20579" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/20579</a> | invalid transaction decoding · Issue #20579 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1607359980' id='417622'>
<a class='timestamp' href='#417622'><time timestamp='2020-12-07T16:53:00Z'>16:53</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
wumpus: want me to change my PR to send sendaddrv2 before sending verack?
<br>
</div>

<div class='talk op-msg' data-timestamp='1607360520' id='417623'>
<a class='timestamp' href='#417623'><time timestamp='2020-12-07T17:02:00Z'>17:02</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
sipa: thanks, yes imo
<br>
</div>

<div class='talk op-msg' data-timestamp='1607360880' id='417624'>
<a class='timestamp' href='#417624'><time timestamp='2020-12-07T17:08:00Z'>17:08</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
updated <a href="https://github.com/bitcoin/bips/pull/1043" class="link" target="_blank">https://github.com/bitcoin/bips/pull/1043</a> - &quot;send sendaddrv2 berfore sending verack&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1607361120' id='417625'>
<a class='timestamp' href='#417625'><time timestamp='2020-12-07T17:12:00Z'>17:12</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
woho! managed to connect two nodes via i2p and they both see their i2p addresses: <a href="https://bpa.st/RK3Q" class="link" target="_blank">https://bpa.st/RK3Q</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1607361180' id='417626'>
<a class='timestamp' href='#417626'><time timestamp='2020-12-07T17:13:00Z'>17:13</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
vasild: that&#x27;s awesome! i should install i2p some time and join in the experiments
<br>
</div>

<div class='talk op-msg' data-timestamp='1607361240' id='417627'>
<a class='timestamp' href='#417627'><time timestamp='2020-12-07T17:14:00Z'>17:14</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
vasild: very nice
<br>
</div>

<div class='talk op-msg' data-timestamp='1607361420' id='417628'>
<a class='timestamp' href='#417628'><time timestamp='2020-12-07T17:17:00Z'>17:17</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
unlike tor we can see who is connecting to us, and while it is cheap to generate i2p addresses and banning i2p bad actors makes little sense (because they can generate new address) -- we are sure that the guy connecting to us has the private key that corresponds to that address
<br>
</div>

<div class='talk op-msg' data-timestamp='1607361480' id='417629'>
<a class='timestamp' href='#417629'><time timestamp='2020-12-07T17:18:00Z'>17:18</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
ie no stealing of addresses
<br>
</div>

<div class='talk op-msg' data-timestamp='1607362260' id='417630'>
<a class='timestamp' href='#417630'><time timestamp='2020-12-07T17:31:00Z'>17:31</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] BitcoinTsunami opened pull request #20591: wallet, bugfix: fix ComputeTimeSmart function during rescanning process. fixes #20181 (master...fix-computetimesmart) <a href="https://github.com/bitcoin/bitcoin/pull/20591" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20591</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1607362980' id='417631'>
<a class='timestamp' href='#417631'><time timestamp='2020-12-07T17:43:00Z'>17:43</time></a>
&lt;<span class='nick nick-14'> jonatack</span>&gt;
vasild: i have i2p running (and sent a patch a while back in your PR to update -netinfo for it), lmk if you want to try to connect to each other  
<br>
</div>

<div class='talk op-msg' data-timestamp='1607365560' id='417632'>
<a class='timestamp' href='#417632'><time timestamp='2020-12-07T18:26:00Z'>18:26</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
vasild wumpus: someone should send an update to the mailing list to notify people that the BIP is being changed. I&#x27;m happy to do that, but I don&#x27;t want to step on your toes if you&#x27;d prefer to do it yourselves. Let me know which you&#x27;d prefer.
<br>
</div>

<div class='talk op-msg' data-timestamp='1607365560' id='417633'>
<a class='timestamp' href='#417633'><time timestamp='2020-12-07T18:26:00Z'>18:26</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
sipa: if we&#x27;re going to receive a sendaddrv2 before verack, can we delay advertising our local address until after receiving verack as well?  that would be nice to have in 0.20 to help with torv3 address propagation, though we may have so many obstacles on that front that perhaps not required
<br>
</div>

<div class='talk op-msg' data-timestamp='1607365680' id='417634'>
<a class='timestamp' href='#417634'><time timestamp='2020-12-07T18:28:00Z'>18:28</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
the issue i&#x27;ve observed right now is that my torv3 node often sends its initial address advertisement before receiving a sendaddrv2, which means the initial self-advertisement is lost serialization fails, and it can be days before the bloom filter rolls over so that we can try again
<br>
</div>

<div class='talk op-msg' data-timestamp='1607365680' id='417635'>
<a class='timestamp' href='#417635'><time timestamp='2020-12-07T18:28:00Z'>18:28</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
when serialization fails*
<br>
</div>

<div class='talk op-msg' data-timestamp='1607365680' id='417636'>
<a class='timestamp' href='#417636'><time timestamp='2020-12-07T18:28:00Z'>18:28</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sdaftuar: hmm, i see no downside really, except changing more at the last minute
<br>
</div>

<div class='talk op-msg' data-timestamp='1607365680' id='417637'>
<a class='timestamp' href='#417637'><time timestamp='2020-12-07T18:28:00Z'>18:28</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i&#x27;ll open a PR; it&#x27;s useful even if it doesn&#x27;t go into 0.21
<br>
</div>

<div class='talk op-msg' data-timestamp='1607365680' id='417638'>
<a class='timestamp' href='#417638'><time timestamp='2020-12-07T18:28:00Z'>18:28</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
thanks!
<br>
</div>

<div class='talk op-msg' data-timestamp='1607365740' id='417639'>
<a class='timestamp' href='#417639'><time timestamp='2020-12-07T18:29:00Z'>18:29</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
sdaftuar: I don&#x27;t see any problem with sending our self-announcement after receiving the verack. Seems like a good change
<br>
</div>

<div class='talk op-msg' data-timestamp='1607365800' id='417640'>
<a class='timestamp' href='#417640'><time timestamp='2020-12-07T18:30:00Z'>18:30</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
jnewbery: I&#x27;m ok with you doing that thanks
<br>
</div>

<div class='talk op-msg' data-timestamp='1607365860' id='417641'>
<a class='timestamp' href='#417641'><time timestamp='2020-12-07T18:31:00Z'>18:31</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jonatack opened pull request #20592: p2p:  update wtxidrelay documentation per BIP339 (master...update-wtxid-documentation-per-BIP339) <a href="https://github.com/bitcoin/bitcoin/pull/20592" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20592</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1607365860' id='417642'>
<a class='timestamp' href='#417642'><time timestamp='2020-12-07T18:31:00Z'>18:31</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
I think sending the getaddr should also be sent after receiving the verack
<br>
</div>

<div class='talk op-msg' data-timestamp='1607365920' id='417643'>
<a class='timestamp' href='#417643'><time timestamp='2020-12-07T18:32:00Z'>18:32</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
i think it just needs to be sent after sending our own verack?
<br>
</div>

<div class='talk op-msg' data-timestamp='1607365980' id='417644'>
<a class='timestamp' href='#417644'><time timestamp='2020-12-07T18:33:00Z'>18:33</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
doesn&#x27;t matter whether a peer sends us a sendaddrv2 or not, i mean
<br>
</div>

<div class='talk op-msg' data-timestamp='1607365980' id='417645'>
<a class='timestamp' href='#417645'><time timestamp='2020-12-07T18:33:00Z'>18:33</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
Indeed, but keeping that functionality together as a block seems easiest
<br>
</div>

<div class='talk op-msg' data-timestamp='1607365980' id='417646'>
<a class='timestamp' href='#417646'><time timestamp='2020-12-07T18:33:00Z'>18:33</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
indeed; i think we should just make sure it arrives at the receiver after our potential sendadrv2
<br>
</div>

<div class='talk op-msg' data-timestamp='1607365980' id='417647'>
<a class='timestamp' href='#417647'><time timestamp='2020-12-07T18:33:00Z'>18:33</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
Indeed!
<br>
</div>

<div class='talk op-msg' data-timestamp='1607365980' id='417648'>
<a class='timestamp' href='#417648'><time timestamp='2020-12-07T18:33:00Z'>18:33</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
ha
<br>
</div>

<div class='talk op-msg' data-timestamp='1607367960' id='417649'>
<a class='timestamp' href='#417649'><time timestamp='2020-12-07T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1607368800' id='417650'>
<a class='timestamp' href='#417650'><time timestamp='2020-12-07T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sdaftuar: i don&#x27;t think any code changes are needed; SendMessages (which handles both local address announcement and actual sending out of the addr messages) doesn&#x27;t run until fSuccessfullyConnected is true
<br>
</div>

<div class='talk op-msg' data-timestamp='1607368860' id='417651'>
<a class='timestamp' href='#417651'><time timestamp='2020-12-07T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
which means it can only run after verack is received
<br>
</div>

<div class='talk op-msg' data-timestamp='1607368920' id='417652'>
<a class='timestamp' href='#417652'><time timestamp='2020-12-07T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
Oh, right!
<br>
</div>

<div class='talk op-msg' data-timestamp='1607368980' id='417653'>
<a class='timestamp' href='#417653'><time timestamp='2020-12-07T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
nice 
<br>
</div>

<div class='talk op-msg' data-timestamp='1607368980' id='417654'>
<a class='timestamp' href='#417654'><time timestamp='2020-12-07T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
thanks for checking that
<br>
</div>

<div class='talk op-msg' data-timestamp='1607369040' id='417655'>
<a class='timestamp' href='#417655'><time timestamp='2020-12-07T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i started adding &quot;if (pto-&gt;fSuccessfullyConnected) {&quot; in a few places, and then noticed the function starts with &quot;if (!pto-&gt;fSuccessfullyConnected) return true;&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1607369100' id='417656'>
<a class='timestamp' href='#417656'><time timestamp='2020-12-07T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
i kept getting confused that PushAddress doesn&#x27;t actually cause an addr message to go out immediately
<br>
</div>

<div class='talk op-msg' data-timestamp='1607369160' id='417657'>
<a class='timestamp' href='#417657'><time timestamp='2020-12-07T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
so i was thinking we needed to move the code in our ::VERSION handler to wait to invoke that until after verack, but there is indeed no need to do so
<br>
</div>

<div class='talk op-msg' data-timestamp='1607369220' id='417658'>
<a class='timestamp' href='#417658'><time timestamp='2020-12-07T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
oh wait
<br>
</div>

<div class='talk op-msg' data-timestamp='1607369220' id='417659'>
<a class='timestamp' href='#417659'><time timestamp='2020-12-07T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
there is a PushAddress in the version handling too
<br>
</div>

<div class='talk op-msg' data-timestamp='1607369220' id='417660'>
<a class='timestamp' href='#417660'><time timestamp='2020-12-07T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
yes that&#x27;s fine though
<br>
</div>

<div class='talk op-msg' data-timestamp='1607369220' id='417661'>
<a class='timestamp' href='#417661'><time timestamp='2020-12-07T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that needs changing
<br>
</div>

<div class='talk op-msg' data-timestamp='1607369220' id='417662'>
<a class='timestamp' href='#417662'><time timestamp='2020-12-07T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
as all it does is queue up an addr to go out later
<br>
</div>

<div class='talk op-msg' data-timestamp='1607369220' id='417663'>
<a class='timestamp' href='#417663'><time timestamp='2020-12-07T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
in SendMessages, as you point out
<br>
</div>

<div class='talk op-msg' data-timestamp='1607369280' id='417664'>
<a class='timestamp' href='#417664'><time timestamp='2020-12-07T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
no, because PushAddress itself will filter the addr if it&#x27;s not v1 compatible
<br>
</div>

<div class='talk op-msg' data-timestamp='1607369280' id='417665'>
<a class='timestamp' href='#417665'><time timestamp='2020-12-07T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
no, that happens in serialization, i&#x27;m pretty sure
<br>
</div>

<div class='talk op-msg' data-timestamp='1607369340' id='417666'>
<a class='timestamp' href='#417666'><time timestamp='2020-12-07T19:29:00Z'>19:29</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
oh!
<br>
</div>

<div class='talk op-msg' data-timestamp='1607369340' id='417667'>
<a class='timestamp' href='#417667'><time timestamp='2020-12-07T19:29:00Z'>19:29</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
i missed the if at the top of that function
<br>
</div>

<div class='talk op-msg' data-timestamp='1607369340' id='417668'>
<a class='timestamp' href='#417668'><time timestamp='2020-12-07T19:29:00Z'>19:29</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
you are right
<br>
</div>

<div class='talk op-msg' data-timestamp='1607369340' id='417669'>
<a class='timestamp' href='#417669'><time timestamp='2020-12-07T19:29:00Z'>19:29</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
lol
<br>
</div>

<div class='talk op-msg' data-timestamp='1607369400' id='417670'>
<a class='timestamp' href='#417670'><time timestamp='2020-12-07T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
is it even useful to do local addr announcement inside version handling?
<br>
</div>

<div class='talk op-msg' data-timestamp='1607369400' id='417671'>
<a class='timestamp' href='#417671'><time timestamp='2020-12-07T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
the SendMessages code will do it automatically
<br>
</div>

<div class='talk op-msg' data-timestamp='1607369400' id='417672'>
<a class='timestamp' href='#417672'><time timestamp='2020-12-07T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
i had a question for you along those lines!
<br>
</div>

<div class='talk op-msg' data-timestamp='1607369400' id='417673'>
<a class='timestamp' href='#417673'><time timestamp='2020-12-07T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
it looked to me like there was special code designed to figure out which &quot;local&quot; address to use, that is different from AdvertiseLocal
<br>
</div>

<div class='talk op-msg' data-timestamp='1607369400' id='417674'>
<a class='timestamp' href='#417674'><time timestamp='2020-12-07T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
and i wondered whether that was important
<br>
</div>

<div class='talk op-msg' data-timestamp='1607369460' id='417675'>
<a class='timestamp' href='#417675'><time timestamp='2020-12-07T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
otherwise, it seems redundant with the initial AdvertiseLocal we do the firs ttime we run SendMessages for a peer
<br>
</div>

<div class='talk op-msg' data-timestamp='1607369460' id='417676'>
<a class='timestamp' href='#417676'><time timestamp='2020-12-07T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
(because we initialize the first local advertisement time to 0, i think)
<br>
</div>

<div class='talk op-msg' data-timestamp='1607369520' id='417677'>
<a class='timestamp' href='#417677'><time timestamp='2020-12-07T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
there are some differences between the two
<br>
</div>

<div class='talk op-msg' data-timestamp='1607369580' id='417678'>
<a class='timestamp' href='#417678'><time timestamp='2020-12-07T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but the initial version-based local addr relay doesn&#x27;t set m_next_local_addr_send
<br>
</div>

<div class='talk op-msg' data-timestamp='1607369580' id='417679'>
<a class='timestamp' href='#417679'><time timestamp='2020-12-07T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
right, so we invoke AdvertiseLocal immediately anyway
<br>
</div>

<div class='talk op-msg' data-timestamp='1607369580' id='417680'>
<a class='timestamp' href='#417680'><time timestamp='2020-12-07T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
so from reading the code, i would think that most normal connections will get the local addr twice
<br>
</div>

<div class='talk op-msg' data-timestamp='1607369580' id='417681'>
<a class='timestamp' href='#417681'><time timestamp='2020-12-07T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
which might advertise a different address, but i don&#x27;t know the circumstances that would happen
<br>
</div>

<div class='talk op-msg' data-timestamp='1607369580' id='417682'>
<a class='timestamp' href='#417682'><time timestamp='2020-12-07T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
no, because of the bloom filter
<br>
</div>

<div class='talk op-msg' data-timestamp='1607369580' id='417683'>
<a class='timestamp' href='#417683'><time timestamp='2020-12-07T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
oh, it&#x27;ll be deduplicated i guess
<br>
</div>

<div class='talk op-msg' data-timestamp='1607369640' id='417684'>
<a class='timestamp' href='#417684'><time timestamp='2020-12-07T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it also meams that addr relay of torv3 will mostly work without code changes
<br>
</div>

<div class='talk op-msg' data-timestamp='1607369640' id='417685'>
<a class='timestamp' href='#417685'><time timestamp='2020-12-07T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
the first will get squelched, and the second will work?
<br>
</div>

<div class='talk op-msg' data-timestamp='1607369640' id='417686'>
<a class='timestamp' href='#417686'><time timestamp='2020-12-07T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yeah
<br>
</div>

<div class='talk op-msg' data-timestamp='1607369640' id='417687'>
<a class='timestamp' href='#417687'><time timestamp='2020-12-07T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
at least under the conditions that the SendMessages one triggers
<br>
</div>

<div class='talk op-msg' data-timestamp='1607369700' id='417688'>
<a class='timestamp' href='#417688'><time timestamp='2020-12-07T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
that does seem to be true.  pretty gross though!
<br>
</div>

<div class='talk op-msg' data-timestamp='1607369700' id='417689'>
<a class='timestamp' href='#417689'><time timestamp='2020-12-07T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
that does make the change for 0.21 to move this to pre-verack to be extra good i think
<br>
</div>

<div class='talk op-msg' data-timestamp='1607369760' id='417690'>
<a class='timestamp' href='#417690'><time timestamp='2020-12-07T19:36:00Z'>19:36</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
indeed
<br>
</div>

<div class='talk op-msg' data-timestamp='1607369880' id='417691'>
<a class='timestamp' href='#417691'><time timestamp='2020-12-07T19:38:00Z'>19:38</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 2 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/5c4911e7e752...d38feb6134e2" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/5c4911e7e752...d38feb6134e2</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1607369880' id='417692'>
<a class='timestamp' href='#417692'><time timestamp='2020-12-07T19:38:00Z'>19:38</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master fa275e1 MarcoFalke: test: Fix intermittent feature_taproot issue
<br>
</div>

<div class='talk op-msg' data-timestamp='1607369880' id='417693'>
<a class='timestamp' href='#417693'><time timestamp='2020-12-07T19:38:00Z'>19:38</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master d38feb6 Wladimir J. van der Laan: Merge #20535: test: Fix intermittent feature_taproot issue
<br>
</div>

<div class='talk op-msg' data-timestamp='1607369880' id='417694'>
<a class='timestamp' href='#417694'><time timestamp='2020-12-07T19:38:00Z'>19:38</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
for a future change we may want to look at merging these two local addr announcement code paths
<br>
</div>

<div class='talk op-msg' data-timestamp='1607369880' id='417695'>
<a class='timestamp' href='#417695'><time timestamp='2020-12-07T19:38:00Z'>19:38</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj merged pull request #20535: test: Fix intermittent feature_taproot issue (master...2011-testTapInt) <a href="https://github.com/bitcoin/bitcoin/pull/20535" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20535</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1607369940' id='417696'>
<a class='timestamp' href='#417696'><time timestamp='2020-12-07T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
sipa: agreed
<br>
</div>

<div class='talk op-msg' data-timestamp='1607370060' id='417697'>
<a class='timestamp' href='#417697'><time timestamp='2020-12-07T19:41:00Z'>19:41</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
hmm, GETADDR wipes the vAddrToSend list
<br>
</div>

<div class='talk op-msg' data-timestamp='1607370120' id='417698'>
<a class='timestamp' href='#417698'><time timestamp='2020-12-07T19:42:00Z'>19:42</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
so if that arrives at the wrong time, our self-announcement would be dropped?
<br>
</div>

<div class='talk op-msg' data-timestamp='1607370420' id='417699'>
<a class='timestamp' href='#417699'><time timestamp='2020-12-07T19:47:00Z'>19:47</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
that&#x27;s only an issue for inbound peers right?
<br>
</div>

<div class='talk op-msg' data-timestamp='1607370480' id='417700'>
<a class='timestamp' href='#417700'><time timestamp='2020-12-07T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
and we wouldn&#x27;t push our address to them anyway in the version handler
<br>
</div>

<div class='talk op-msg' data-timestamp='1607370540' id='417701'>
<a class='timestamp' href='#417701'><time timestamp='2020-12-07T19:49:00Z'>19:49</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ah, good point
<br>
</div>

<div class='talk op-msg' data-timestamp='1607371560' id='417702'>
<a class='timestamp' href='#417702'><time timestamp='2020-12-07T20:06:00Z'>20:06</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
wumpus: I tried to update the crc32c subtree but it looks like our subtree has a commit unknown to upstream (<a href="https://github.com/bitcoin/bitcoin/commit/2e1819311a59fb5cb26e3ca50a510bfe01358350)" class="link" target="_blank">https://github.com/bitcoin/bitcoin/commit/2e1819311a59fb5cb26e3ca50a510bfe01358350)</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1607371560' id='417703'>
<a class='timestamp' href='#417703'><time timestamp='2020-12-07T20:06:00Z'>20:06</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
(I&#x27;d like to update it due to apple arm support commit)
<br>
</div>

<div class='talk op-msg' data-timestamp='1607371680' id='417704'>
<a class='timestamp' href='#417704'><time timestamp='2020-12-07T20:08:00Z'>20:08</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jonasschnelli: looking
<br>
</div>

<div class='talk op-msg' data-timestamp='1607371740' id='417705'>
<a class='timestamp' href='#417705'><time timestamp='2020-12-07T20:09:00Z'>20:09</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
oh that was the initial subtree
<br>
</div>

<div class='talk op-msg' data-timestamp='1607371800' id='417706'>
<a class='timestamp' href='#417706'><time timestamp='2020-12-07T20:10:00Z'>20:10</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it&#x27;s not <a href="https://github.com/bitcoin-core/crc32c" class="link" target="_blank">https://github.com/bitcoin-core/crc32c</a> ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1607371800' id='417707'>
<a class='timestamp' href='#417707'><time timestamp='2020-12-07T20:10:00Z'>20:10</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
oh!
<br>
</div>

<div class='talk op-msg' data-timestamp='1607371860' id='417708'>
<a class='timestamp' href='#417708'><time timestamp='2020-12-07T20:11:00Z'>20:11</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yes, it is
<br>
</div>

<div class='talk op-msg' data-timestamp='1607371920' id='417709'>
<a class='timestamp' href='#417709'><time timestamp='2020-12-07T20:12:00Z'>20:12</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
(there&#x27;s some commit in there to prevent subtreeing a whole bunch of google test stuff and such)
<br>
</div>

<div class='talk op-msg' data-timestamp='1607371980' id='417710'>
<a class='timestamp' href='#417710'><time timestamp='2020-12-07T20:13:00Z'>20:13</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
jonasschnelli: I think you missed it, see <a href="https://github.com/bitcoin-core/crc32c" class="link" target="_blank">https://github.com/bitcoin-core/crc32c</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1607372040' id='417711'>
<a class='timestamp' href='#417711'><time timestamp='2020-12-07T20:14:00Z'>20:14</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it merges cleanly with google crc32c master, if you ignore the files we deleted in our local copy
<br>
</div>

<div class='talk op-msg' data-timestamp='1607372040' id='417712'>
<a class='timestamp' href='#417712'><time timestamp='2020-12-07T20:14:00Z'>20:14</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
wumpus: ah.. I didn&#x27;t know we have a fork... was looking at google/crc32c
<br>
</div>

<div class='talk op-msg' data-timestamp='1607372040' id='417713'>
<a class='timestamp' href='#417713'><time timestamp='2020-12-07T20:14:00Z'>20:14</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jonasschnelli: i can update if you want
<br>
</div>

<div class='talk op-msg' data-timestamp='1607372040' id='417714'>
<a class='timestamp' href='#417714'><time timestamp='2020-12-07T20:14:00Z'>20:14</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
plz.
<br>
</div>

<div class='talk op-msg' data-timestamp='1607372040' id='417715'>
<a class='timestamp' href='#417715'><time timestamp='2020-12-07T20:14:00Z'>20:14</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Your commit/PR is also missing in master
<br>
</div>

<div class='talk op-msg' data-timestamp='1607372100' id='417716'>
<a class='timestamp' href='#417716'><time timestamp='2020-12-07T20:15:00Z'>20:15</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
which one?
<br>
</div>

<div class='talk op-msg' data-timestamp='1607372100' id='417717'>
<a class='timestamp' href='#417717'><time timestamp='2020-12-07T20:15:00Z'>20:15</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I&#x27;m mostly interested in the latest commit (<a href="https://github.com/google/crc32c)" class="link" target="_blank">https://github.com/google/crc32c)</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1607372100' id='417718'>
<a class='timestamp' href='#417718'><time timestamp='2020-12-07T20:15:00Z'>20:15</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
wumpus: <a href="https://github.com/google/crc32c/commit/2e97ab26b1321b655d29c5d1d4b9e9055ff7543f" class="link" target="_blank">https://github.com/google/crc32c/commit/2e97ab26b1321b655d29c5d1d4b9e9055ff7543f</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1607372100' id='417719'>
<a class='timestamp' href='#417719'><time timestamp='2020-12-07T20:15:00Z'>20:15</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jonasschnelli: we use the &quot;bitcoin-fork&quot; branch i think
<br>
</div>

<div class='talk op-msg' data-timestamp='1607372160' id='417720'>
<a class='timestamp' href='#417720'><time timestamp='2020-12-07T20:16:00Z'>20:16</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I doubt these changes would be merged upstream
<br>
</div>

<div class='talk op-msg' data-timestamp='1607372160' id='417721'>
<a class='timestamp' href='#417721'><time timestamp='2020-12-07T20:16:00Z'>20:16</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I only saw that sipas &quot;Fix (unused) ReadUint64LE for BE machines (#41)&quot; is newer than our latest crc32c subtree
<br>
</div>

<div class='talk op-msg' data-timestamp='1607372220' id='417722'>
<a class='timestamp' href='#417722'><time timestamp='2020-12-07T20:17:00Z'>20:17</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/41" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/41</a> | Display version in help by mhanne · Pull Request #41 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1607372220' id='417723'>
<a class='timestamp' href='#417723'><time timestamp='2020-12-07T20:17:00Z'>20:17</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes, bitcoin-fork is the branch we use
<br>
</div>

<div class='talk op-msg' data-timestamp='1607372280' id='417724'>
<a class='timestamp' href='#417724'><time timestamp='2020-12-07T20:18:00Z'>20:18</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Related to that though different: I think commit <a href="https://github.com/bitcoin/bitcoin/commit/330cb33985d0ce97c20f4a0f0bbda0fbffe098d4" class="link" target="_blank">https://github.com/bitcoin/bitcoin/commit/330cb33985d0ce97c20f4a0f0bbda0fbffe098d4</a> did had no effect
<br>
</div>

<div class='talk op-msg' data-timestamp='1607372280' id='417725'>
<a class='timestamp' href='#417725'><time timestamp='2020-12-07T20:18:00Z'>20:18</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
(no-one spotted it though)
<br>
</div>

<div class='talk op-msg' data-timestamp='1607372340' id='417726'>
<a class='timestamp' href='#417726'><time timestamp='2020-12-07T20:19:00Z'>20:19</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
heh sipa committed to upstream crc32s but not to our fork
<br>
</div>

<div class='talk op-msg' data-timestamp='1607372340' id='417727'>
<a class='timestamp' href='#417727'><time timestamp='2020-12-07T20:19:00Z'>20:19</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
heh
<br>
</div>

<div class='talk op-msg' data-timestamp='1607372340' id='417728'>
<a class='timestamp' href='#417728'><time timestamp='2020-12-07T20:19:00Z'>20:19</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
jonasschnelli: it had no effect? not even for uclibc?
<br>
</div>

<div class='talk op-msg' data-timestamp='1607372340' id='417729'>
<a class='timestamp' href='#417729'><time timestamp='2020-12-07T20:19:00Z'>20:19</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
he betrayed us
<br>
</div>

<div class='talk op-msg' data-timestamp='1607372340' id='417730'>
<a class='timestamp' href='#417730'><time timestamp='2020-12-07T20:19:00Z'>20:19</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
wumpus: I don&#x27;t think so
<br>
</div>

<div class='talk op-msg' data-timestamp='1607372400' id='417731'>
<a class='timestamp' href='#417731'><time timestamp='2020-12-07T20:20:00Z'>20:20</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Because of a missing AC_DEFINE for HAVE_STRONG_GETAUXVAL
<br>
</div>

<div class='talk op-msg' data-timestamp='1607372400' id='417732'>
<a class='timestamp' href='#417732'><time timestamp='2020-12-07T20:20:00Z'>20:20</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I&#x27;m really confused now, the change makes sense though in itself I think
<br>
</div>

<div class='talk op-msg' data-timestamp='1607372400' id='417733'>
<a class='timestamp' href='#417733'><time timestamp='2020-12-07T20:20:00Z'>20:20</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
We only set it as CPPFLAG for the crc32 code
<br>
</div>

<div class='talk op-msg' data-timestamp='1607372400' id='417734'>
<a class='timestamp' href='#417734'><time timestamp='2020-12-07T20:20:00Z'>20:20</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
The change makes sense,... but I would really wonder if that would work
<br>
</div>

<div class='talk op-msg' data-timestamp='1607372400' id='417735'>
<a class='timestamp' href='#417735'><time timestamp='2020-12-07T20:20:00Z'>20:20</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
better to check presence of specific checks than <u>__linux__</u>
<br>
</div>

<div class='talk op-msg' data-timestamp='1607372460' id='417736'>
<a class='timestamp' href='#417736'><time timestamp='2020-12-07T20:21:00Z'>20:21</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
<a href="https://github.com/bitcoin-core/crc32c/pull/1" class="link" target="_blank">https://github.com/bitcoin-core/crc32c/pull/1</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1607372460' id='417737'>
<a class='timestamp' href='#417737'><time timestamp='2020-12-07T20:21:00Z'>20:21</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I couldn&#x27;t check, I guess that&#x27;s the problem with obscure platforms
<br>
</div>

<div class='talk op-msg' data-timestamp='1607372460' id='417738'>
<a class='timestamp' href='#417738'><time timestamp='2020-12-07T20:21:00Z'>20:21</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
indeed
<br>
</div>

<div class='talk op-msg' data-timestamp='1607372460' id='417739'>
<a class='timestamp' href='#417739'><time timestamp='2020-12-07T20:21:00Z'>20:21</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
12:19:05 &lt; wumpus&gt; heh sipa committed to upstream crc32s but not to our fork   &lt;-  where did i commit?
<br>
</div>

<div class='talk op-msg' data-timestamp='1607372520' id='417740'>
<a class='timestamp' href='#417740'><time timestamp='2020-12-07T20:22:00Z'>20:22</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jonasschnelli: plz test if it actually works with bitcoin core before acking :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1607372520' id='417741'>
<a class='timestamp' href='#417741'><time timestamp='2020-12-07T20:22:00Z'>20:22</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it&#x27;s untested
<br>
</div>

<div class='talk op-msg' data-timestamp='1607372520' id='417742'>
<a class='timestamp' href='#417742'><time timestamp='2020-12-07T20:22:00Z'>20:22</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
its just the fork! ;)
<br>
</div>

<div class='talk op-msg' data-timestamp='1607372520' id='417743'>
<a class='timestamp' href='#417743'><time timestamp='2020-12-07T20:22:00Z'>20:22</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
<a href="https://github.com/bitcoin-core/crc32c/pull/1/commits/2e97ab26b1321b655d29c5d1d4b9e9055ff7543f" class="link" target="_blank">https://github.com/bitcoin-core/crc32c/pull/1/commits/2e97ab26b1321b655d29c5d1d4b9e9055ff7543f</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1607372520' id='417744'>
<a class='timestamp' href='#417744'><time timestamp='2020-12-07T20:22:00Z'>20:22</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I&#x27;ll test the PR you&#x27;ll do on the main repository. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1607372580' id='417745'>
<a class='timestamp' href='#417745'><time timestamp='2020-12-07T20:23:00Z'>20:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
oh, lol
<br>
</div>

<div class='talk op-msg' data-timestamp='1607373840' id='417746'>
<a class='timestamp' href='#417746'><time timestamp='2020-12-07T20:44:00Z'>20:44</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jonasschnelli opened pull request #20594: Fix getauxval calls in randomenv.cpp (master...2020/12/getauxval) <a href="https://github.com/bitcoin/bitcoin/pull/20594" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20594</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1607374560' id='417747'>
<a class='timestamp' href='#417747'><time timestamp='2020-12-07T20:56:00Z'>20:56</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jonasschnelli: have you verified that it&#x27;s actually using crc hardware accel?
<br>
</div>

<div class='talk op-msg' data-timestamp='1607374620' id='417748'>
<a class='timestamp' href='#417748'><time timestamp='2020-12-07T20:57:00Z'>20:57</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I saw that it uses the codepath defined in crc32c_arm64.cc
<br>
</div>

<div class='talk op-msg' data-timestamp='1607374620' id='417749'>
<a class='timestamp' href='#417749'><time timestamp='2020-12-07T20:57:00Z'>20:57</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
iok, great
<br>
</div>

<div class='talk op-msg' data-timestamp='1607374680' id='417750'>
<a class='timestamp' href='#417750'><time timestamp='2020-12-07T20:58:00Z'>20:58</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I also wrote a similar patch before I figured out someone wrote that already upstream
<br>
</div>

<div class='talk op-msg' data-timestamp='1607375040' id='417751'>
<a class='timestamp' href='#417751'><time timestamp='2020-12-07T21:04:00Z'>21:04</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
i&#x27;m really confused by #20594
<br>
</div>

<div class='talk op-msg' data-timestamp='1607375040' id='417752'>
<a class='timestamp' href='#417752'><time timestamp='2020-12-07T21:04:00Z'>21:04</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/20594" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/20594</a> | Fix getauxval calls in randomenv.cpp by jonasschnelli · Pull Request #20594 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1607375100' id='417753'>
<a class='timestamp' href='#417753'><time timestamp='2020-12-07T21:05:00Z'>21:05</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
i mean usually you check that some feature is available <b>*or*</b> that you&#x27;re compiling for the OS that the feature is on
<br>
</div>

<div class='talk op-msg' data-timestamp='1607375100' id='417754'>
<a class='timestamp' href='#417754'><time timestamp='2020-12-07T21:05:00Z'>21:05</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
now you&#x27;re doing both!
<br>
</div>

<div class='talk op-msg' data-timestamp='1607375100' id='417755'>
<a class='timestamp' href='#417755'><time timestamp='2020-12-07T21:05:00Z'>21:05</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
yeah.. I see.
<br>
</div>

<div class='talk op-msg' data-timestamp='1607375160' id='417756'>
<a class='timestamp' href='#417756'><time timestamp='2020-12-07T21:06:00Z'>21:06</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
i feel that&#x27;s wrong, you shouldn&#x27;t even detect getauxval on macos
<br>
</div>

<div class='talk op-msg' data-timestamp='1607375160' id='417757'>
<a class='timestamp' href='#417757'><time timestamp='2020-12-07T21:06:00Z'>21:06</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
wumpus: the problem is the weak-link check...
<br>
</div>

<div class='talk op-msg' data-timestamp='1607375160' id='417758'>
<a class='timestamp' href='#417758'><time timestamp='2020-12-07T21:06:00Z'>21:06</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I probably have to fix that.
<br>
</div>

<div class='talk op-msg' data-timestamp='1607375160' id='417759'>
<a class='timestamp' href='#417759'><time timestamp='2020-12-07T21:06:00Z'>21:06</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
But how would you fix that when weak-linking on macOS works (nature of weak linking)
<br>
</div>

<div class='talk op-msg' data-timestamp='1607375160' id='417760'>
<a class='timestamp' href='#417760'><time timestamp='2020-12-07T21:06:00Z'>21:06</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
i think that would be possible, though agree that weak-linking makes checking difficult
<br>
</div>

<div class='talk op-msg' data-timestamp='1607375160' id='417761'>
<a class='timestamp' href='#417761'><time timestamp='2020-12-07T21:06:00Z'>21:06</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1607375220' id='417762'>
<a class='timestamp' href='#417762'><time timestamp='2020-12-07T21:07:00Z'>21:07</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I think at least the weak linking symbol HAVE_WEAK_GETAUXVAL needs a &amp;&amp; <u>__linux__</u>
<br>
</div>

<div class='talk op-msg' data-timestamp='1607375220' id='417763'>
<a class='timestamp' href='#417763'><time timestamp='2020-12-07T21:07:00Z'>21:07</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
you could move the <u>__linux__</u> to the weak check in configure.ac
<br>
</div>

<div class='talk op-msg' data-timestamp='1607375220' id='417764'>
<a class='timestamp' href='#417764'><time timestamp='2020-12-07T21:07:00Z'>21:07</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1607375220' id='417765'>
<a class='timestamp' href='#417765'><time timestamp='2020-12-07T21:07:00Z'>21:07</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
indeed. That would be cleaner
<br>
</div>

<div class='talk op-msg' data-timestamp='1607375220' id='417766'>
<a class='timestamp' href='#417766'><time timestamp='2020-12-07T21:07:00Z'>21:07</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
android has <u>__linux__</u> right?
<br>
</div>

<div class='talk op-msg' data-timestamp='1607375220' id='417767'>
<a class='timestamp' href='#417767'><time timestamp='2020-12-07T21:07:00Z'>21:07</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
AFAIK
<br>
</div>

<div class='talk op-msg' data-timestamp='1607375220' id='417768'>
<a class='timestamp' href='#417768'><time timestamp='2020-12-07T21:07:00Z'>21:07</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
(fwiw the weak check is there for android)
<br>
</div>

<div class='talk op-msg' data-timestamp='1607375280' id='417769'>
<a class='timestamp' href='#417769'><time timestamp='2020-12-07T21:08:00Z'>21:08</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
pretty sure too
<br>
</div>

<div class='talk op-msg' data-timestamp='1607375280' id='417770'>
<a class='timestamp' href='#417770'><time timestamp='2020-12-07T21:08:00Z'>21:08</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Yes. That part was added for android
<br>
</div>

<div class='talk op-msg' data-timestamp='1607375400' id='417771'>
<a class='timestamp' href='#417771'><time timestamp='2020-12-07T21:10:00Z'>21:10</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
for the strong check it shouldn&#x27;t matter, though it&#x27;s interesting that it seems to be specialized to ARM
<br>
</div>

<div class='talk op-msg' data-timestamp='1607375460' id='417772'>
<a class='timestamp' href='#417772'><time timestamp='2020-12-07T21:11:00Z'>21:11</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
getauxval(AT_HWCAP) doesn&#x27;t really need arm_acle.h nor arm_neon.h, it&#x27;s also a thing on many other architectures such as RISC-V
<br>
</div>

<div class='talk op-msg' data-timestamp='1607375520' id='417773'>
<a class='timestamp' href='#417773'><time timestamp='2020-12-07T21:12:00Z'>21:12</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
but that&#x27;s out of scope for your fix I guess
<br>
</div>

<div class='talk op-msg' data-timestamp='1607375520' id='417774'>
<a class='timestamp' href='#417774'><time timestamp='2020-12-07T21:12:00Z'>21:12</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it&#x27;s not relevant to us as long as we&#x27;re not using special instruction sets onthose platforms
<br>
</div>

<div class='talk op-msg' data-timestamp='1607375580' id='417775'>
<a class='timestamp' href='#417775'><time timestamp='2020-12-07T21:13:00Z'>21:13</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
wumpus: It looks like they using getauxval to detect whether the intrinsics are supported.
<br>
</div>

<div class='talk op-msg' data-timestamp='1607375640' id='417776'>
<a class='timestamp' href='#417776'><time timestamp='2020-12-07T21:14:00Z'>21:14</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
that makes sense
<br>
</div>

<div class='talk op-msg' data-timestamp='1607375700' id='417777'>
<a class='timestamp' href='#417777'><time timestamp='2020-12-07T21:15:00Z'>21:15</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
the meaning of bits in getauxval(AT_HWCAP) is specific per CPU architecture
<br>
</div>

<div class='talk op-msg' data-timestamp='1607375700' id='417778'>
<a class='timestamp' href='#417778'><time timestamp='2020-12-07T21:15:00Z'>21:15</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it&#x27;s a nice way to detect if certain instruction sets are supported, better than say—the brute force way of trying then catching SIGILL
<br>
</div>

<div class='talk op-msg' data-timestamp='1607375820' id='417779'>
<a class='timestamp' href='#417779'><time timestamp='2020-12-07T21:17:00Z'>21:17</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
(which more or less works, is used by openssl, but is especially annoying when running a binary in a debugger, it will always trap on that)
<br>
</div>

<div class='talk op-msg' data-timestamp='1607375880' id='417780'>
<a class='timestamp' href='#417780'><time timestamp='2020-12-07T21:18:00Z'>21:18</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
(and then people report that as the problem instead of the real issue)
<br>
</div>

<div class='talk op-msg' data-timestamp='1607375880' id='417781'>
<a class='timestamp' href='#417781'><time timestamp='2020-12-07T21:18:00Z'>21:18</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
wumpus: why doesn&#x27;t __get_cpuid work in this case?
<br>
</div>

<div class='talk op-msg' data-timestamp='1607375880' id='417782'>
<a class='timestamp' href='#417782'><time timestamp='2020-12-07T21:18:00Z'>21:18</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
like with sse4.2
<br>
</div>

<div class='talk op-msg' data-timestamp='1607375880' id='417783'>
<a class='timestamp' href='#417783'><time timestamp='2020-12-07T21:18:00Z'>21:18</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
that only exists on i?86 and x86_64
<br>
</div>

<div class='talk op-msg' data-timestamp='1607375880' id='417784'>
<a class='timestamp' href='#417784'><time timestamp='2020-12-07T21:18:00Z'>21:18</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
ah... I see.
<br>
</div>

<div class='talk op-msg' data-timestamp='1607375880' id='417785'>
<a class='timestamp' href='#417785'><time timestamp='2020-12-07T21:18:00Z'>21:18</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
no other architecture has that information available to user space from the CPU directly
<br>
</div>

<div class='talk op-msg' data-timestamp='1607375940' id='417786'>
<a class='timestamp' href='#417786'><time timestamp='2020-12-07T21:19:00Z'>21:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
cpuid also doesn&#x27;t tell you whether support in enabled for certain CPU features, only if it&#x27;s present
<br>
</div>

<div class='talk op-msg' data-timestamp='1607375940' id='417787'>
<a class='timestamp' href='#417787'><time timestamp='2020-12-07T21:19:00Z'>21:19</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
right
<br>
</div>

<div class='talk op-msg' data-timestamp='1607375940' id='417788'>
<a class='timestamp' href='#417788'><time timestamp='2020-12-07T21:19:00Z'>21:19</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
#20594 should now be cleaner
<br>
</div>

<div class='talk op-msg' data-timestamp='1607375940' id='417789'>
<a class='timestamp' href='#417789'><time timestamp='2020-12-07T21:19:00Z'>21:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
AVX2 for example requires the OS to have enabled support (as it needs to save/restore the extra registers)
<br>
</div>

<div class='talk op-msg' data-timestamp='1607376000' id='417790'>
<a class='timestamp' href='#417790'><time timestamp='2020-12-07T21:20:00Z'>21:20</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/20594" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/20594</a> | Fix getauxval calls in randomenv.cpp by jonasschnelli · Pull Request #20594 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1607376060' id='417791'>
<a class='timestamp' href='#417791'><time timestamp='2020-12-07T21:21:00Z'>21:21</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
jonasschnelli: lgtm now
<br>
</div>

<div class='talk op-msg' data-timestamp='1607376780' id='417792'>
<a class='timestamp' href='#417792'><time timestamp='2020-12-07T21:33:00Z'>21:33</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
sipa: TIL
<br>
</div>

<div class='talk op-msg' data-timestamp='1607376900' id='417793'>
<a class='timestamp' href='#417793'><time timestamp='2020-12-07T21:35:00Z'>21:35</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I wonder if x86 has HWCAPS bits as well, I guess it does
<br>
</div>

<div class='talk op-msg' data-timestamp='1607376960' id='417794'>
<a class='timestamp' href='#417794'><time timestamp='2020-12-07T21:36:00Z'>21:36</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
wumpus: see src/crypto/sha256.cpp&#x27;s AVXEnabled()
<br>
</div>

<div class='talk op-msg' data-timestamp='1607376960' id='417795'>
<a class='timestamp' href='#417795'><time timestamp='2020-12-07T21:36:00Z'>21:36</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
only HWCAP2_RING3MWAIT it seems nothing relevant?
<br>
</div>

<div class='talk op-msg' data-timestamp='1607377080' id='417796'>
<a class='timestamp' href='#417796'><time timestamp='2020-12-07T21:38:00Z'>21:38</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
sipa sdaftuar: you may want to review #19843
<br>
</div>

<div class='talk op-msg' data-timestamp='1607377080' id='417797'>
<a class='timestamp' href='#417797'><time timestamp='2020-12-07T21:38:00Z'>21:38</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/19843" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/19843</a> | Refactoring and minor improvement for self-advertisements by naumenkogs · Pull Request #19843 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1607377140' id='417798'>
<a class='timestamp' href='#417798'><time timestamp='2020-12-07T21:39:00Z'>21:39</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
sipa: xgetbv, ok, yes wouldn&#x27;t have guessed that
<br>
</div>

<div class='talk op-msg' data-timestamp='1607380740' id='417799'>
<a class='timestamp' href='#417799'><time timestamp='2020-12-07T22:39:00Z'>22:39</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] sipa opened pull request #20595: Improve heuristic hex decoding (master...202012_fancy_tx_hex_decode) <a href="https://github.com/bitcoin/bitcoin/pull/20595" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20595</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1607381940' id='417800'>
<a class='timestamp' href='#417800'><time timestamp='2020-12-07T22:59:00Z'>22:59</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 2 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/d38feb6134e2...1a9fa4c5ba27" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/d38feb6134e2...1a9fa4c5ba27</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1607381940' id='417801'>
<a class='timestamp' href='#417801'><time timestamp='2020-12-07T22:59:00Z'>22:59</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 65273fa Suhas Daftuar: Clear m_addr_known before our periodic self-advertisement
<br>
</div>

<div class='talk op-msg' data-timestamp='1607381940' id='417802'>
<a class='timestamp' href='#417802'><time timestamp='2020-12-07T22:59:00Z'>22:59</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 1a9fa4c Wladimir J. van der Laan: Merge #20561: p2p: periodically clear m_addr_known
<br>
</div>

<div class='talk op-msg' data-timestamp='1607381940' id='417803'>
<a class='timestamp' href='#417803'><time timestamp='2020-12-07T22:59:00Z'>22:59</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj merged pull request #20561: p2p: periodically clear m_addr_known (master...2020-12-moar-addrz) <a href="https://github.com/bitcoin/bitcoin/pull/20561" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20561</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1607382600' id='417804'>
<a class='timestamp' href='#417804'><time timestamp='2020-12-07T23:10:00Z'>23:10</time></a>
&lt;<span class='nick nick-14'> hebasto</span>&gt;
what if p2p protocol will  have a new rule -- &quot;during handshaking, i.e. before verack, unknown messages from peers are allowed without subsequent sender peer disconnection&quot;; it will allow feature negotiation. Another new rule -- &quot;node is free in its behaviour in case of receiving unknown message after verack, i.e. it can drop message and/or disconnect peer&quot;. This suggestion seem a good tradeoff with other 
<br>
</div>

<div class='talk op-msg' data-timestamp='1607382600' id='417805'>
<a class='timestamp' href='#417805'><time timestamp='2020-12-07T23:10:00Z'>23:10</time></a>
&lt;<span class='nick nick-14'> hebasto</span>&gt;
implementations with a strong basement for future features.
<br>
</div>

<div class='talk op-msg' data-timestamp='1607382780' id='417806'>
<a class='timestamp' href='#417806'><time timestamp='2020-12-07T23:13:00Z'>23:13</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
hebasto: i think you&#x27;re preaching to the choir here
<br>
</div>

<div class='talk op-msg' data-timestamp='1607382780' id='417807'>
<a class='timestamp' href='#417807'><time timestamp='2020-12-07T23:13:00Z'>23:13</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
the opposition to that idea was on the bitcoin-dev mailing list
<br>
</div>

<div class='talk op-msg' data-timestamp='1607382840' id='417808'>
<a class='timestamp' href='#417808'><time timestamp='2020-12-07T23:14:00Z'>23:14</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
you&#x27;re definitely preaching to the choire here, I haven&#x27;t heard any objection to &#x27;allowing&#x27; unknown messages at all here
<br>
</div>

<div class='talk op-msg' data-timestamp='1607382960' id='417809'>
<a class='timestamp' href='#417809'><time timestamp='2020-12-07T23:16:00Z'>23:16</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
the title &#x27;heuristic hex decoding&#x27; sounded really weird to me
<br>
</div>

<div class='talk op-msg' data-timestamp='1607383020' id='417810'>
<a class='timestamp' href='#417810'><time timestamp='2020-12-07T23:17:00Z'>23:17</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
wumpus: any suggestion?
<br>
</div>

<div class='talk op-msg' data-timestamp='1607383020' id='417811'>
<a class='timestamp' href='#417811'><time timestamp='2020-12-07T23:17:00Z'>23:17</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
sipa: I don&#x27;t mean I have a problem with it, it just sounded funny
<br>
</div>

<div class='talk op-msg' data-timestamp='1607383020' id='417812'>
<a class='timestamp' href='#417812'><time timestamp='2020-12-07T23:17:00Z'>23:17</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ah, ok
<br>
</div>

<div class='talk op-msg' data-timestamp='1607383140' id='417813'>
<a class='timestamp' href='#417813'><time timestamp='2020-12-07T23:19:00Z'>23:19</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I guess because it was not immediately clear to me it was about transactions
<br>
</div>

<div class='talk op-msg' data-timestamp='1607383200' id='417814'>
<a class='timestamp' href='#417814'><time timestamp='2020-12-07T23:20:00Z'>23:20</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes better :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1607383260' id='417815'>
<a class='timestamp' href='#417815'><time timestamp='2020-12-07T23:21:00Z'>23:21</time></a>
&lt;<span class='nick nick-14'> hebasto</span>&gt;
sipa&gt; Pieter Wuille hebasto: 01:13:58 the opposition to that idea was on the bitcoin-dev mailing list -- mind point out?
<br>
</div>

<div class='talk op-msg' data-timestamp='1607383320' id='417816'>
<a class='timestamp' href='#417816'><time timestamp='2020-12-07T23:22:00Z'>23:22</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
hebasto: <a href="https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2020-August/018084.html" class="link" target="_blank">https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2020-August/018084.html</a> and the whole thread that follows
<br>
</div>

<div class='talk op-msg' data-timestamp='1607383320' id='417817'>
<a class='timestamp' href='#417817'><time timestamp='2020-12-07T23:22:00Z'>23:22</time></a>
&lt;<span class='nick nick-14'> hebasto</span>&gt;
thanks!
<br>
</div>

<div class='talk op-msg' data-timestamp='1607383380' id='417818'>
<a class='timestamp' href='#417818'><time timestamp='2020-12-07T23:23:00Z'>23:23</time></a>
&lt;<span class='nick nick-14'> hebasto</span>&gt;
oh, I&#x27;ve read that many times :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1607383440' id='417819'>
<a class='timestamp' href='#417819'><time timestamp='2020-12-07T23:24:00Z'>23:24</time></a>
&lt;<span class='nick nick-14'> hebasto</span>&gt;
maybe, should read it again
<br>
</div>

<div class='talk op-msg' data-timestamp='1607385360' id='417820'>
<a class='timestamp' href='#417820'><time timestamp='2020-12-07T23:56:00Z'>23:56</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jnewbery, sdaftuar: so it seems we currently send our own address (a) once, for outbound non-blockonly connections (b) periodically for non-blockonly connections after IBD is done
<br>
</div>

</div>
</section>

</body>
</html>
