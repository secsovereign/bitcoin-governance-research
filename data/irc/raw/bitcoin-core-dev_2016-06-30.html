<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2016-06-30
 â€” 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2016-06-30' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:26 UTC</pre>
<pre><a href="/bitcoin-core-dev/2016-05-30">&lt;</a><span class='header'>    June 2016     </span><a href="/bitcoin-core-dev/2016-07-30">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;          <a class="" href="/bitcoin-core-dev/2016-06-01">1</a>  <a class="" href="/bitcoin-core-dev/2016-06-02">2</a>  <a class="" href="/bitcoin-core-dev/2016-06-03">3</a>  <a class="" href="/bitcoin-core-dev/2016-06-04">4</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2016-06-05">5</a>  <a class="" href="/bitcoin-core-dev/2016-06-06">6</a>  <a class="" href="/bitcoin-core-dev/2016-06-07">7</a>  <a class="" href="/bitcoin-core-dev/2016-06-08">8</a>  <a class="" href="/bitcoin-core-dev/2016-06-09">9</a> <a class="" href="/bitcoin-core-dev/2016-06-10">10</a> <a class="" href="/bitcoin-core-dev/2016-06-11">11</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2016-06-12">12</a> <a class="" href="/bitcoin-core-dev/2016-06-13">13</a> <a class="" href="/bitcoin-core-dev/2016-06-14">14</a> <a class="" href="/bitcoin-core-dev/2016-06-15">15</a> <a class="" href="/bitcoin-core-dev/2016-06-16">16</a> <a class="" href="/bitcoin-core-dev/2016-06-17">17</a> <a class="" href="/bitcoin-core-dev/2016-06-18">18</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2016-06-19">19</a> <a class="" href="/bitcoin-core-dev/2016-06-20">20</a> <a class="" href="/bitcoin-core-dev/2016-06-21">21</a> <a class="" href="/bitcoin-core-dev/2016-06-22">22</a> <a class="" href="/bitcoin-core-dev/2016-06-23">23</a> <a class="" href="/bitcoin-core-dev/2016-06-24">24</a> <a class="" href="/bitcoin-core-dev/2016-06-25">25</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2016-06-26">26</a> <a class="" href="/bitcoin-core-dev/2016-06-27">27</a> <a class="" href="/bitcoin-core-dev/2016-06-28">28</a> <a class="" href="/bitcoin-core-dev/2016-06-29">29</a> <a class="current" href="/bitcoin-core-dev/2016-06-30">30</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1467251520' id='476624'>
<a class='timestamp' href='#476624'><time timestamp='2016-06-30T01:52:00Z'>01:52</time></a>
&lt;<span class='nick nick-1'> GitHub64</span>&gt;
[bitcoin] luke-jr opened pull request #8293: Bugfix: Allow building libbitcoinconsensus without any univalue (master...sys_univalue_opt) <a href="https://github.com/bitcoin/bitcoin/pull/8293" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8293</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1467296400' id='476625'>
<a class='timestamp' href='#476625'><time timestamp='2016-06-30T14:20:00Z'>14:20</time></a>
&lt;<span class='nick nick-4'> GitHub96</span>&gt;
[bitcoin] jmcorgan closed pull request #8284: Backport remaining commits for out-of-tree builds from master to 0.12 branch (0.12...build-oot-0.12) <a href="https://github.com/bitcoin/bitcoin/pull/8284" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8284</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1467298860' id='476626'>
<a class='timestamp' href='#476626'><time timestamp='2016-06-30T15:01:00Z'>15:01</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
proposed topic for the meeting today: wrapping up the mining-related changes to 0.13.0 (please see #8294)
<br>
</div>

<div class='talk op-msg' data-timestamp='1467303000' id='476627'>
<a class='timestamp' href='#476627'><time timestamp='2016-06-30T16:10:00Z'>16:10</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
since then does AcceptToMemoryPoolWorker take a bool* pfMissingInputs parameter instead of just logging a validation error and returning false?
<br>
</div>

<div class='talk op-msg' data-timestamp='1467303060' id='476628'>
<a class='timestamp' href='#476628'><time timestamp='2016-06-30T16:11:00Z'>16:11</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
that&#x27;s a consensus check, do we plan to pass bool* pfMissingInputs to libconsensus&#x27; veryfyTx too?
<br>
</div>

<div class='talk op-msg' data-timestamp='1467303120' id='476629'>
<a class='timestamp' href='#476629'><time timestamp='2016-06-30T16:12:00Z'>16:12</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
since 0.1.0
<br>
</div>

<div class='talk op-msg' data-timestamp='1467303120' id='476630'>
<a class='timestamp' href='#476630'><time timestamp='2016-06-30T16:12:00Z'>16:12</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it&#x27;s literally been there in every release ever
<br>
</div>

<div class='talk op-msg' data-timestamp='1467303300' id='476631'>
<a class='timestamp' href='#476631'><time timestamp='2016-06-30T16:15:00Z'>16:15</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
mhmm, somehow I remember return state.DoS(missing inputs) in <a href="https://github.com/bitcoin/bitcoin/blob/master/src/main.cpp#L1236" class="link" target="_blank">https://github.com/bitcoin/bitcoin/blob/master/src/main.cpp#L1236</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1467303300' id='476632'>
<a class='timestamp' href='#476632'><time timestamp='2016-06-30T16:15:00Z'>16:15</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
may have been in one of my consensus branches...
<br>
</div>

<div class='talk op-msg' data-timestamp='1467303420' id='476633'>
<a class='timestamp' href='#476633'><time timestamp='2016-06-30T16:17:00Z'>16:17</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
never mind, I must have dreamed it or something
<br>
</div>

<div class='talk op-msg' data-timestamp='1467303480' id='476634'>
<a class='timestamp' href='#476634'><time timestamp='2016-06-30T16:18:00Z'>16:18</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
Sounds like a nice dream.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467303720' id='476635'>
<a class='timestamp' href='#476635'><time timestamp='2016-06-30T16:22:00Z'>16:22</time></a>
&lt;<span class='nick nick-1'> GitHub6</span>&gt;
[bitcoin] sdaftuar opened pull request #8295: Mining-related fixups for 0.13.0 (master...cnb-segwit) <a href="https://github.com/bitcoin/bitcoin/pull/8295" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8295</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1467309300' id='476636'>
<a class='timestamp' href='#476636'><time timestamp='2016-06-30T17:55:00Z'>17:55</time></a>
&lt;<span class='nick nick-16'> GitHub138</span>&gt;
[bitcoin] MarcoFalke opened pull request #8296: [qa] Make setup_chain private (master...Mf1607-qaSetupChain) <a href="https://github.com/bitcoin/bitcoin/pull/8296" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8296</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1467313200' id='476637'>
<a class='timestamp' href='#476637'><time timestamp='2016-06-30T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
no meeting?
<br>
</div>

<div class='talk op-msg' data-timestamp='1467313200' id='476638'>
<a class='timestamp' href='#476638'><time timestamp='2016-06-30T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
i&#x27;m here!
<br>
</div>

<div class='talk op-msg' data-timestamp='1467313200' id='476639'>
<a class='timestamp' href='#476639'><time timestamp='2016-06-30T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Yes meeting.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467313260' id='476640'>
<a class='timestamp' href='#476640'><time timestamp='2016-06-30T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i &#x27; m   h e r e
<br>
</div>

<div class='talk op-msg' data-timestamp='1467313260' id='476641'>
<a class='timestamp' href='#476641'><time timestamp='2016-06-30T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
#startmeeting
<br>
</div>

<div class='talk op-msg' data-timestamp='1467313260' id='476642'>
<a class='timestamp' href='#476642'><time timestamp='2016-06-30T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Meeting started Thu Jun 30 19:01:10 2016 UTC.  The chair is gmaxwell. Information about MeetBot at <a href="http://wiki.debian.org/MeetBot" class="link" target="_blank">http://wiki.debian.org/MeetBot</a>.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467313260' id='476643'>
<a class='timestamp' href='#476643'><time timestamp='2016-06-30T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Useful Commands: #action #agreed #help #info #idea #link #topic.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467313260' id='476644'>
<a class='timestamp' href='#476644'><time timestamp='2016-06-30T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-6'> btcdrak</span>&gt;
ping
<br>
</div>

<div class='talk op-msg' data-timestamp='1467313260' id='476645'>
<a class='timestamp' href='#476645'><time timestamp='2016-06-30T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
pong
<br>
</div>

<div class='talk op-msg' data-timestamp='1467313260' id='476646'>
<a class='timestamp' href='#476646'><time timestamp='2016-06-30T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
pang
<br>
</div>

<div class='talk op-msg' data-timestamp='1467313260' id='476647'>
<a class='timestamp' href='#476647'><time timestamp='2016-06-30T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Welcome to the meeting. Hard start today, sorry to not get pings out earlier.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467313260' id='476648'>
<a class='timestamp' href='#476648'><time timestamp='2016-06-30T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
pong
<br>
</div>

<div class='talk op-msg' data-timestamp='1467313260' id='476649'>
<a class='timestamp' href='#476649'><time timestamp='2016-06-30T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
&lt;sdaftuar&gt; proposed topic for the meeting today: wrapping up the mining-related changes to 0.13.0 (please see #8294)
<br>
</div>

<div class='talk op-msg' data-timestamp='1467313320' id='476650'>
<a class='timestamp' href='#476650'><time timestamp='2016-06-30T19:02:00Z'>19:02</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
wumpus: jtimon: jonasschnelli: petertodd: morcos: MarcoFalke: NicolasDorier: paveljanik: 
<br>
</div>

<div class='talk op-msg' data-timestamp='1467313320' id='476651'>
<a class='timestamp' href='#476651'><time timestamp='2016-06-30T19:02:00Z'>19:02</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
pong
<br>
</div>

<div class='talk op-msg' data-timestamp='1467313320' id='476652'>
<a class='timestamp' href='#476652'><time timestamp='2016-06-30T19:02:00Z'>19:02</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
#topic wrapping up the mining-related changes to 0.13.0 (please see #8294)
<br>
</div>

<div class='talk op-msg' data-timestamp='1467313320' id='476653'>
<a class='timestamp' href='#476653'><time timestamp='2016-06-30T19:02:00Z'>19:02</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
also segwit 0.12 backport status, maybe
<br>
</div>

<div class='talk op-msg' data-timestamp='1467313320' id='476654'>
<a class='timestamp' href='#476654'><time timestamp='2016-06-30T19:02:00Z'>19:02</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
unstarted.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467313380' id='476655'>
<a class='timestamp' href='#476655'><time timestamp='2016-06-30T19:03:00Z'>19:03</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
so i mentioned a few things in that issue that i think we need to address for 0.13.0
<br>
</div>

<div class='talk op-msg' data-timestamp='1467313380' id='476656'>
<a class='timestamp' href='#476656'><time timestamp='2016-06-30T19:03:00Z'>19:03</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1467313380' id='476657'>
<a class='timestamp' href='#476657'><time timestamp='2016-06-30T19:03:00Z'>19:03</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
a couple should be non-controversial bugfixes
<br>
</div>

<div class='talk op-msg' data-timestamp='1467313380' id='476658'>
<a class='timestamp' href='#476658'><time timestamp='2016-06-30T19:03:00Z'>19:03</time></a>
&lt;<span class='nick nick-4'> kanzure</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1467313380' id='476659'>
<a class='timestamp' href='#476659'><time timestamp='2016-06-30T19:03:00Z'>19:03</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sdaftuar: blockminsize  should just go
<br>
</div>

<div class='talk op-msg' data-timestamp='1467313380' id='476660'>
<a class='timestamp' href='#476660'><time timestamp='2016-06-30T19:03:00Z'>19:03</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
two things i wanted feedback on were (a) removing the old mining algorithm (&quot;addScoreTxs&quot;) and (b) -blockminsize
<br>
</div>

<div class='talk op-msg' data-timestamp='1467313440' id='476661'>
<a class='timestamp' href='#476661'><time timestamp='2016-06-30T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
ok great, that&#x27;s what i think too
<br>
</div>

<div class='talk op-msg' data-timestamp='1467313440' id='476662'>
<a class='timestamp' href='#476662'><time timestamp='2016-06-30T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
in favor of just dropping -blockminsize
<br>
</div>

<div class='talk op-msg' data-timestamp='1467313440' id='476663'>
<a class='timestamp' href='#476663'><time timestamp='2016-06-30T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sdaftuar: &quot;Should we remove the old transaction selection algorithm&quot;   I&#x27;m indifferent to favoring removing code.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467313440' id='476664'>
<a class='timestamp' href='#476664'><time timestamp='2016-06-30T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
luke-jr: your thoughts?
<br>
</div>

<div class='talk op-msg' data-timestamp='1467313440' id='476665'>
<a class='timestamp' href='#476665'><time timestamp='2016-06-30T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
if the code is not used, it should be removed
<br>
</div>

<div class='talk op-msg' data-timestamp='1467313440' id='476666'>
<a class='timestamp' href='#476666'><time timestamp='2016-06-30T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(like to sdaftuar&#x27;s issue: <a href="https://github.com/bitcoin/bitcoin/issues/8294" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/8294</a> )
<br>
</div>

<div class='talk op-msg' data-timestamp='1467313440' id='476667'>
<a class='timestamp' href='#476667'><time timestamp='2016-06-30T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i think we shouldn&#x27;t keep the old algorithm just because we&#x27;re not sure if the new one works
<br>
</div>

<div class='talk op-msg' data-timestamp='1467313500' id='476668'>
<a class='timestamp' href='#476668'><time timestamp='2016-06-30T19:05:00Z'>19:05</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
we can always revert code if needed
<br>
</div>

<div class='talk op-msg' data-timestamp='1467313500' id='476669'>
<a class='timestamp' href='#476669'><time timestamp='2016-06-30T19:05:00Z'>19:05</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
the current reason for keeping is because when -blockminsiz or -blockmaxsize are -blockprioritysize are given, the new algorithm does not work (due to missing accounting)
<br>
</div>

<div class='talk op-msg' data-timestamp='1467313500' id='476670'>
<a class='timestamp' href='#476670'><time timestamp='2016-06-30T19:05:00Z'>19:05</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
if we fix the accounting, and make the new algorithm support those parameters, the old algorithm can go
<br>
</div>

<div class='talk op-msg' data-timestamp='1467313500' id='476671'>
<a class='timestamp' href='#476671'><time timestamp='2016-06-30T19:05:00Z'>19:05</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
sipa: right, and that is addressed in the first commit of #8295
<br>
</div>

<div class='talk op-msg' data-timestamp='1467313500' id='476672'>
<a class='timestamp' href='#476672'><time timestamp='2016-06-30T19:05:00Z'>19:05</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
the only gain I see is if there is some stupidity in the new one the old one is a switch away... but the new one has a reasonable amount of testing and if it has some issue it seems unlikely that its so major that just fixing it wouldn&#x27;t be the prefered solution.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467313560' id='476673'>
<a class='timestamp' href='#476673'><time timestamp='2016-06-30T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ok, grea;t i haven&#x27;t looked
<br>
</div>

<div class='talk op-msg' data-timestamp='1467313560' id='476674'>
<a class='timestamp' href='#476674'><time timestamp='2016-06-30T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
I don&#x27;t remember addScoreTx, but ack on removing blockminsize
<br>
</div>

<div class='talk op-msg' data-timestamp='1467313560' id='476675'>
<a class='timestamp' href='#476675'><time timestamp='2016-06-30T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
it&#x27;s a bit late in the release to be removing arguments, on the other hand it was already not working so let&#x27;s do it...
<br>
</div>

<div class='talk op-msg' data-timestamp='1467313620' id='476676'>
<a class='timestamp' href='#476676'><time timestamp='2016-06-30T19:07:00Z'>19:07</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
as long as it&#x27;s documented in the release notes
<br>
</div>

<div class='talk op-msg' data-timestamp='1467313620' id='476677'>
<a class='timestamp' href='#476677'><time timestamp='2016-06-30T19:07:00Z'>19:07</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
it should be removed but not cause the daemon to fail to start if specified.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467313620' id='476678'>
<a class='timestamp' href='#476678'><time timestamp='2016-06-30T19:07:00Z'>19:07</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
wumpus: agree, the release notes need a bunch of writeup for all the mining changes
<br>
</div>

<div class='talk op-msg' data-timestamp='1467313620' id='476679'>
<a class='timestamp' href='#476679'><time timestamp='2016-06-30T19:07:00Z'>19:07</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
or e.g. emit a warning/error if it is provided
<br>
</div>

<div class='talk op-msg' data-timestamp='1467313620' id='476680'>
<a class='timestamp' href='#476680'><time timestamp='2016-06-30T19:07:00Z'>19:07</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i am perfectly fine with just making -blockminsize work for 0.13 with CPFP, and removing it in 0.14
<br>
</div>

<div class='talk op-msg' data-timestamp='1467313620' id='476681'>
<a class='timestamp' href='#476681'><time timestamp='2016-06-30T19:07:00Z'>19:07</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sdaftuar: unless you think that would be much more work (i think it would be deleting 2 lines to stop supporting it)
<br>
</div>

<div class='talk op-msg' data-timestamp='1467313680' id='476682'>
<a class='timestamp' href='#476682'><time timestamp='2016-06-30T19:08:00Z'>19:08</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
sounds like that would be a waste of work, if it is going to be removed anyway, but I don&#x27;t know how much work it is
<br>
</div>

<div class='talk op-msg' data-timestamp='1467313680' id='476683'>
<a class='timestamp' href='#476683'><time timestamp='2016-06-30T19:08:00Z'>19:08</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
sipa: it&#x27;d be adding code to support it.  i think it&#x27;s probably easy, but i haven&#x27;t thought carefully about it.  probably a one line change.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467313680' id='476684'>
<a class='timestamp' href='#476684'><time timestamp='2016-06-30T19:08:00Z'>19:08</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i expect it to be trivial to make it work, and also trivial to remove
<br>
</div>

<div class='talk op-msg' data-timestamp='1467313680' id='476685'>
<a class='timestamp' href='#476685'><time timestamp='2016-06-30T19:08:00Z'>19:08</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
if it&#x27;s trivial to make it work, let&#x27;s go for that
<br>
</div>

<div class='talk op-msg' data-timestamp='1467313680' id='476686'>
<a class='timestamp' href='#476686'><time timestamp='2016-06-30T19:08:00Z'>19:08</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
also, i think it&#x27;s utterly pointless in the current mining encironment
<br>
</div>

<div class='talk op-msg' data-timestamp='1467313680' id='476687'>
<a class='timestamp' href='#476687'><time timestamp='2016-06-30T19:08:00Z'>19:08</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
sipa: agreed.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467313740' id='476688'>
<a class='timestamp' href='#476688'><time timestamp='2016-06-30T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
emit warning seems a good option
<br>
</div>

<div class='talk op-msg' data-timestamp='1467313740' id='476689'>
<a class='timestamp' href='#476689'><time timestamp='2016-06-30T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I think it&#x27;s a goofy option.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467313740' id='476690'>
<a class='timestamp' href='#476690'><time timestamp='2016-06-30T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
if it&#x27;s not trivial, or annoying to test, let&#x27;s get rid of it
<br>
</div>

<div class='talk op-msg' data-timestamp='1467313740' id='476691'>
<a class='timestamp' href='#476691'><time timestamp='2016-06-30T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
less options good.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467313740' id='476692'>
<a class='timestamp' href='#476692'><time timestamp='2016-06-30T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ack, we could just test for its value, and fail at startup if a nonzero value is passed
<br>
</div>

<div class='talk op-msg' data-timestamp='1467313740' id='476693'>
<a class='timestamp' href='#476693'><time timestamp='2016-06-30T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
we have no tests for it now, i believe.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467313740' id='476694'>
<a class='timestamp' href='#476694'><time timestamp='2016-06-30T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it has no tests
<br>
</div>

<div class='talk op-msg' data-timestamp='1467313740' id='476695'>
<a class='timestamp' href='#476695'><time timestamp='2016-06-30T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
pretty sure
<br>
</div>

<div class='talk op-msg' data-timestamp='1467313740' id='476696'>
<a class='timestamp' href='#476696'><time timestamp='2016-06-30T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
my preference would be to get rid of it, rather than add a test to make sure it works.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467313800' id='476697'>
<a class='timestamp' href='#476697'><time timestamp='2016-06-30T19:10:00Z'>19:10</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sdaftuar: will review your patch
<br>
</div>

<div class='talk op-msg' data-timestamp='1467313800' id='476698'>
<a class='timestamp' href='#476698'><time timestamp='2016-06-30T19:10:00Z'>19:10</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
right, that&#x27;s fine
<br>
</div>

<div class='talk op-msg' data-timestamp='1467313800' id='476699'>
<a class='timestamp' href='#476699'><time timestamp='2016-06-30T19:10:00Z'>19:10</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
gmaxwell: why you don&#x27;t want it to fail if the argument is provided ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1467313860' id='476700'>
<a class='timestamp' href='#476700'><time timestamp='2016-06-30T19:11:00Z'>19:11</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
#bitcoin-core-dev Meeting: wumpus sipa gmaxwell jonasschnelli morcos luke-jr btcdrak sdaftuar jtimon luke-jr cfields petertodd kanzure bluematt instagibbs phantomcircuit codeshark michagogo marcofalke paveljanik NicolasDorier
<br>
</div>

<div class='talk op-msg' data-timestamp='1467313860' id='476701'>
<a class='timestamp' href='#476701'><time timestamp='2016-06-30T19:11:00Z'>19:11</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(sorry, just creating a ping macro for future use)
<br>
</div>

<div class='talk op-msg' data-timestamp='1467313860' id='476702'>
<a class='timestamp' href='#476702'><time timestamp='2016-06-30T19:11:00Z'>19:11</time></a>
&lt;<span class='nick nick-10'> michagogo</span>&gt;
Oh
<br>
</div>

<div class='talk op-msg' data-timestamp='1467313860' id='476703'>
<a class='timestamp' href='#476703'><time timestamp='2016-06-30T19:11:00Z'>19:11</time></a>
&lt;<span class='nick nick-10'> michagogo</span>&gt;
Hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1467313860' id='476704'>
<a class='timestamp' href='#476704'><time timestamp='2016-06-30T19:11:00Z'>19:11</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
jtimon: my preference for not causing failure is that that would be extra code to write/test/review.  silent failure seems easier, and harmless in this situation.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467313860' id='476705'>
<a class='timestamp' href='#476705'><time timestamp='2016-06-30T19:11:00Z'>19:11</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
jtimon: because it&#x27;s a mostly meaningless setting that some people are going to have by virtue of copy and pasting things.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467313860' id='476706'>
<a class='timestamp' href='#476706'><time timestamp='2016-06-30T19:11:00Z'>19:11</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
meh, ok
<br>
</div>

<div class='talk op-msg' data-timestamp='1467313860' id='476707'>
<a class='timestamp' href='#476707'><time timestamp='2016-06-30T19:11:00Z'>19:11</time></a>
&lt;<span class='nick nick-4'> kanzure</span>&gt;
i nominate jtimon for double inclusion in the ping, but otherwise ACK
<br>
</div>

<div class='talk op-msg' data-timestamp='1467313920' id='476708'>
<a class='timestamp' href='#476708'><time timestamp='2016-06-30T19:12:00Z'>19:12</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
I don&#x27;t really like ignoring options, that can be really frustrating
<br>
</div>

<div class='talk op-msg' data-timestamp='1467313920' id='476709'>
<a class='timestamp' href='#476709'><time timestamp='2016-06-30T19:12:00Z'>19:12</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
&#x27;wtf doesn&#x27;t this work&#x27;, oh, then after an hour of debugging you notice that the functionality has been removed
<br>
</div>

<div class='talk op-msg' data-timestamp='1467313920' id='476710'>
<a class='timestamp' href='#476710'><time timestamp='2016-06-30T19:12:00Z'>19:12</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
agree
<br>
</div>

<div class='talk op-msg' data-timestamp='1467313920' id='476711'>
<a class='timestamp' href='#476711'><time timestamp='2016-06-30T19:12:00Z'>19:12</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
wumpus: in this case though, you wouldn&#x27;t have been noticing the old behavior &quot;working&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1467313920' id='476712'>
<a class='timestamp' href='#476712'><time timestamp='2016-06-30T19:12:00Z'>19:12</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
at least add a warning, I don&#x27;t care about failing
<br>
</div>

<div class='talk op-msg' data-timestamp='1467313920' id='476713'>
<a class='timestamp' href='#476713'><time timestamp='2016-06-30T19:12:00Z'>19:12</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
I&#x27;m fine with either failing or giving a warning
<br>
</div>

<div class='talk op-msg' data-timestamp='1467313920' id='476714'>
<a class='timestamp' href='#476714'><time timestamp='2016-06-30T19:12:00Z'>19:12</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
i can add a warning, sure.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467313920' id='476715'>
<a class='timestamp' href='#476715'><time timestamp='2016-06-30T19:12:00Z'>19:12</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
let&#x27;s discuss this when the actual PR is created
<br>
</div>

<div class='talk op-msg' data-timestamp='1467313980' id='476716'>
<a class='timestamp' href='#476716'><time timestamp='2016-06-30T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
fair enough
<br>
</div>

<div class='talk op-msg' data-timestamp='1467313980' id='476717'>
<a class='timestamp' href='#476717'><time timestamp='2016-06-30T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
i included removal of -blockminsize in 8295
<br>
</div>

<div class='talk op-msg' data-timestamp='1467313980' id='476718'>
<a class='timestamp' href='#476718'><time timestamp='2016-06-30T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
i can fix to warn if the argument is given
<br>
</div>

<div class='talk op-msg' data-timestamp='1467313980' id='476719'>
<a class='timestamp' href='#476719'><time timestamp='2016-06-30T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
great
<br>
</div>

<div class='talk op-msg' data-timestamp='1467313980' id='476720'>
<a class='timestamp' href='#476720'><time timestamp='2016-06-30T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
okay warning fine.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467314040' id='476721'>
<a class='timestamp' href='#476721'><time timestamp='2016-06-30T19:14:00Z'>19:14</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
one thing i wanted to mention, if we do decide to remove addScoreTxs(), we could also remove the mining_score from the mempool multiindex
<br>
</div>

<div class='talk op-msg' data-timestamp='1467314040' id='476722'>
<a class='timestamp' href='#476722'><time timestamp='2016-06-30T19:14:00Z'>19:14</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
wumpus: I agree in principle except for the fact that a LOT of people have copied the &quot;example config&quot; from the bitcoin wiki and are setting all kinds of crazy things. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1467314040' id='476723'>
<a class='timestamp' href='#476723'><time timestamp='2016-06-30T19:14:00Z'>19:14</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
i didn&#x27;t incldue that in 8295, but wanted to mention it in case we want to remove for 0.13
<br>
</div>

<div class='talk op-msg' data-timestamp='1467314040' id='476724'>
<a class='timestamp' href='#476724'><time timestamp='2016-06-30T19:14:00Z'>19:14</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
it would give us a small memory savings in the mempool, but not sure if that&#x27;s a change that we&#x27;d rather wait for 0.14 tomake
<br>
</div>

<div class='talk op-msg' data-timestamp='1467314040' id='476725'>
<a class='timestamp' href='#476725'><time timestamp='2016-06-30T19:14:00Z'>19:14</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
i don&#x27;t have a preference 
<br>
</div>

<div class='talk op-msg' data-timestamp='1467314040' id='476726'>
<a class='timestamp' href='#476726'><time timestamp='2016-06-30T19:14:00Z'>19:14</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ENOCARE
<br>
</div>

<div class='talk op-msg' data-timestamp='1467314100' id='476727'>
<a class='timestamp' href='#476727'><time timestamp='2016-06-30T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
sdaftuar: can&#x27;t <a href="https://github.com/bitcoin/bitcoin/pull/8295/commits/27362dda4d583a43ebf687ae097d2f45ba1c4c32" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8295/commits/27362dda4d583a43ebf687ae097d2f45ba1c4c32</a> be a trivial to review separate PR ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1467314100' id='476728'>
<a class='timestamp' href='#476728'><time timestamp='2016-06-30T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
gmaxwell: yes, indeed, it&#x27;s an option that&#x27;s bound to be misinterpreted/misused anyway
<br>
</div>

<div class='talk op-msg' data-timestamp='1467314100' id='476729'>
<a class='timestamp' href='#476729'><time timestamp='2016-06-30T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
&lt;meme text=&quot;Delete all the code.&quot;/&gt;
<br>
</div>

<div class='talk op-msg' data-timestamp='1467314100' id='476730'>
<a class='timestamp' href='#476730'><time timestamp='2016-06-30T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
jtimon: it builds on removing addScoreTxs i think?
<br>
</div>

<div class='talk op-msg' data-timestamp='1467314100' id='476731'>
<a class='timestamp' href='#476731'><time timestamp='2016-06-30T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
sdaftuar: oh, I see
<br>
</div>

<div class='talk op-msg' data-timestamp='1467314100' id='476732'>
<a class='timestamp' href='#476732'><time timestamp='2016-06-30T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
jtimon: but yes i could have split those two commits out
<br>
</div>

<div class='talk op-msg' data-timestamp='1467314100' id='476733'>
<a class='timestamp' href='#476733'><time timestamp='2016-06-30T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
mhmm
<br>
</div>

<div class='talk op-msg' data-timestamp='1467314160' id='476734'>
<a class='timestamp' href='#476734'><time timestamp='2016-06-30T19:16:00Z'>19:16</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Okay, anything more on this that needs to happen in the meeting?
<br>
</div>

<div class='talk op-msg' data-timestamp='1467314160' id='476735'>
<a class='timestamp' href='#476735'><time timestamp='2016-06-30T19:16:00Z'>19:16</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
whatever, minor point, I just don&#x27;t think I can ack the pr like that because I haven&#x27;t been following some of the refactors in miner much
<br>
</div>

<div class='talk op-msg' data-timestamp='1467314220' id='476736'>
<a class='timestamp' href='#476736'><time timestamp='2016-06-30T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
i think we can move on, thanks
<br>
</div>

<div class='talk op-msg' data-timestamp='1467314220' id='476737'>
<a class='timestamp' href='#476737'><time timestamp='2016-06-30T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
well, refactors and changes
<br>
</div>

<div class='talk op-msg' data-timestamp='1467314220' id='476738'>
<a class='timestamp' href='#476738'><time timestamp='2016-06-30T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
sdaftuar: I&#x27;d say if they are after your changes remove the mempool fields, it&#x27;s not much of a risk, if everything is alright the compiler checks that nothing is referring to it
<br>
</div>

<div class='talk op-msg' data-timestamp='1467314220' id='476739'>
<a class='timestamp' href='#476739'><time timestamp='2016-06-30T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
wumpus: ok great, thanks
<br>
</div>

<div class='talk op-msg' data-timestamp='1467314280' id='476740'>
<a class='timestamp' href='#476740'><time timestamp='2016-06-30T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
i&#x27;ll defer that until after 8295 is merged anyway
<br>
</div>

<div class='talk op-msg' data-timestamp='1467314280' id='476741'>
<a class='timestamp' href='#476741'><time timestamp='2016-06-30T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
right, it&#x27;s not a priority
<br>
</div>

<div class='talk op-msg' data-timestamp='1467314280' id='476742'>
<a class='timestamp' href='#476742'><time timestamp='2016-06-30T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
yep
<br>
</div>

<div class='talk op-msg' data-timestamp='1467314280' id='476743'>
<a class='timestamp' href='#476743'><time timestamp='2016-06-30T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
any other topics for today?
<br>
</div>

<div class='talk op-msg' data-timestamp='1467314280' id='476744'>
<a class='timestamp' href='#476744'><time timestamp='2016-06-30T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
hmm
<br>
</div>

<div class='talk op-msg' data-timestamp='1467314340' id='476745'>
<a class='timestamp' href='#476745'><time timestamp='2016-06-30T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
anyone get a chnace to look at <a href="https://github.com/bitcoin/bitcoin/issues/8279" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/8279</a> ? at a conf right now 
<br>
</div>

<div class='talk op-msg' data-timestamp='1467314340' id='476746'>
<a class='timestamp' href='#476746'><time timestamp='2016-06-30T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
petertodd: yes, i think it is a good point
<br>
</div>

<div class='talk op-msg' data-timestamp='1467314340' id='476747'>
<a class='timestamp' href='#476747'><time timestamp='2016-06-30T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: cool, thanks
<br>
</div>

<div class='talk op-msg' data-timestamp='1467314340' id='476748'>
<a class='timestamp' href='#476748'><time timestamp='2016-06-30T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
sipa: you noticed a related issue as well, right?
<br>
</div>

<div class='talk op-msg' data-timestamp='1467314340' id='476749'>
<a class='timestamp' href='#476749'><time timestamp='2016-06-30T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: (mainly wanted to know if I needed to post a retraction!)
<br>
</div>

<div class='talk op-msg' data-timestamp='1467314400' id='476750'>
<a class='timestamp' href='#476750'><time timestamp='2016-06-30T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sdaftuar: the sigops counting? i believe that is not vulnerable to mauling (the verb related to &#x27;malleability&#x27;, apparently)
<br>
</div>

<div class='talk op-msg' data-timestamp='1467314400' id='476751'>
<a class='timestamp' href='#476751'><time timestamp='2016-06-30T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
(also not found by me)
<br>
</div>

<div class='talk op-msg' data-timestamp='1467314400' id='476752'>
<a class='timestamp' href='#476752'><time timestamp='2016-06-30T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
#topic segwit
<br>
</div>

<div class='talk op-msg' data-timestamp='1467314460' id='476753'>
<a class='timestamp' href='#476753'><time timestamp='2016-06-30T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
sipa: it is, because we don&#x27;t verify that the witness script matches the commitment in the pubkey output
<br>
</div>

<div class='talk op-msg' data-timestamp='1467314460' id='476754'>
<a class='timestamp' href='#476754'><time timestamp='2016-06-30T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
right?
<br>
</div>

<div class='talk op-msg' data-timestamp='1467314460' id='476755'>
<a class='timestamp' href='#476755'><time timestamp='2016-06-30T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sdaftuar: no, I think we do that prior to sigops checking
<br>
</div>

<div class='talk op-msg' data-timestamp='1467314460' id='476756'>
<a class='timestamp' href='#476756'><time timestamp='2016-06-30T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
i&#x27;ll take another look.  pretty sure sipa and i discussed and concluded that we didn&#x27;t.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467314460' id='476757'>
<a class='timestamp' href='#476757'><time timestamp='2016-06-30T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sdaftuar: something to look into
<br>
</div>

<div class='talk op-msg' data-timestamp='1467314520' id='476758'>
<a class='timestamp' href='#476758'><time timestamp='2016-06-30T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sdaftuar: yeah, wouldn&#x27;t hurt to take another look - that review was a bunch of owrk and I may have been a bit faded by the end :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1467314520' id='476759'>
<a class='timestamp' href='#476759'><time timestamp='2016-06-30T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i don&#x27;t think these are serious problems (it allows preventing a node from getting a transaction, but there are other means for that, like announcing it and not responding)
<br>
</div>

<div class='talk op-msg' data-timestamp='1467314520' id='476760'>
<a class='timestamp' href='#476760'><time timestamp='2016-06-30T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
petertodd: i&#x27;m specifically referring to the sigopcount checks in accepttomemorypool, not consensus level checking
<br>
</div>

<div class='talk op-msg' data-timestamp='1467314520' id='476761'>
<a class='timestamp' href='#476761'><time timestamp='2016-06-30T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but they should be understood
<br>
</div>

<div class='talk op-msg' data-timestamp='1467314580' id='476762'>
<a class='timestamp' href='#476762'><time timestamp='2016-06-30T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sdaftuar: yeah, I <u>_thought_</u> I looked at that, but may have missed it - mempool was the last thing I looked at
<br>
</div>

<div class='talk op-msg' data-timestamp='1467314580' id='476763'>
<a class='timestamp' href='#476763'><time timestamp='2016-06-30T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
petertodd: i&#x27;m really glad you did that review, by the way - the writeup makes a lot of things more communicatable
<br>
</div>

<div class='talk op-msg' data-timestamp='1467314640' id='476764'>
<a class='timestamp' href='#476764'><time timestamp='2016-06-30T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: thanks! yeah, mainly wanted to demystify the process of doing review
<br>
</div>

<div class='talk op-msg' data-timestamp='1467314640' id='476765'>
<a class='timestamp' href='#476765'><time timestamp='2016-06-30T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I don&#x27;t think its of major importance, but &quot;Bitcoin XT&quot; recently started making only outbound connections to other XT nodes.  In combination with segwit, I believe this will partition them.  Because they are such a small number of nodes I don&#x27;t think it warrents much attention, but something to be aware of.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467314700' id='476766'>
<a class='timestamp' href='#476766'><time timestamp='2016-06-30T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
petertodd: yea, nice work.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467314700' id='476767'>
<a class='timestamp' href='#476767'><time timestamp='2016-06-30T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
gmaxwell: we have a little time before that will happen, as we haven&#x27;t yet activated the preferential peering yet
<br>
</div>

<div class='talk op-msg' data-timestamp='1467314700' id='476768'>
<a class='timestamp' href='#476768'><time timestamp='2016-06-30T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sdaftuar: indeed.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467314760' id='476769'>
<a class='timestamp' href='#476769'><time timestamp='2016-06-30T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
gmaxwell: ...
<br>
</div>

<div class='talk op-msg' data-timestamp='1467314760' id='476770'>
<a class='timestamp' href='#476770'><time timestamp='2016-06-30T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
segwit by the way does not <u>_only_</u> make outbound connections to segwit
<br>
</div>

<div class='talk op-msg' data-timestamp='1467314760' id='476771'>
<a class='timestamp' href='#476771'><time timestamp='2016-06-30T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but it strongly prefers them
<br>
</div>

<div class='talk op-msg' data-timestamp='1467314820' id='476772'>
<a class='timestamp' href='#476772'><time timestamp='2016-06-30T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: yeah, I noticed that - after 40 tries you connect to non-segwit outgoing
<br>
</div>

<div class='talk op-msg' data-timestamp='1467314820' id='476773'>
<a class='timestamp' href='#476773'><time timestamp='2016-06-30T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sipa: right, I think that would be sufficient to partition there.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467314820' id='476774'>
<a class='timestamp' href='#476774'><time timestamp='2016-06-30T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
petertodd: yes, totally arbitrary number
<br>
</div>

<div class='talk op-msg' data-timestamp='1467314880' id='476775'>
<a class='timestamp' href='#476775'><time timestamp='2016-06-30T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-11'> jl2012</span>&gt;
gmaxwell: they should fix that. We just need to let them know
<br>
</div>

<div class='talk op-msg' data-timestamp='1467314880' id='476776'>
<a class='timestamp' href='#476776'><time timestamp='2016-06-30T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
wouln&#x27;t be a crazy idea to have a mode that disabled the DoS banning for incoming nodes btw...
<br>
</div>

<div class='talk op-msg' data-timestamp='1467314880' id='476777'>
<a class='timestamp' href='#476777'><time timestamp='2016-06-30T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
petertodd: DoS banning, or also DoS disconnection?
<br>
</div>

<div class='talk op-msg' data-timestamp='1467314880' id='476778'>
<a class='timestamp' href='#476778'><time timestamp='2016-06-30T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
petertodd: one can set that threshold arbritarily high at least.  
<br>
</div>

<div class='talk op-msg' data-timestamp='1467314880' id='476779'>
<a class='timestamp' href='#476779'><time timestamp='2016-06-30T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: both, to be able to (at least temproarily) work around bugs related to DoS banning
<br>
</div>

<div class='talk op-msg' data-timestamp='1467314940' id='476780'>
<a class='timestamp' href='#476780'><time timestamp='2016-06-30T19:29:00Z'>19:29</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: equally, have a small subset of nodes that can be set to ignore the DoS banning
<br>
</div>

<div class='talk op-msg' data-timestamp='1467314940' id='476781'>
<a class='timestamp' href='#476781'><time timestamp='2016-06-30T19:29:00Z'>19:29</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Patch accepted to make low-dos-score a ranking criteria in eviction protection logic, which would also make running with a very high dos threshold more reasonable. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1467314940' id='476782'>
<a class='timestamp' href='#476782'><time timestamp='2016-06-30T19:29:00Z'>19:29</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
gmaxwell: good idea
<br>
</div>

<div class='talk op-msg' data-timestamp='1467315000' id='476783'>
<a class='timestamp' href='#476783'><time timestamp='2016-06-30T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
jl2012: I was just made aware of it, but sure.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467315060' id='476784'>
<a class='timestamp' href='#476784'><time timestamp='2016-06-30T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
my past expirence with that project has not been very good.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467315060' id='476785'>
<a class='timestamp' href='#476785'><time timestamp='2016-06-30T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
so a different ban thrshold for incoming versus outgoing connections?
<br>
</div>

<div class='talk op-msg' data-timestamp='1467315060' id='476786'>
<a class='timestamp' href='#476786'><time timestamp='2016-06-30T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
jl2012: there&#x27;s a issue open in the XT repo for it already
<br>
</div>

<div class='talk op-msg' data-timestamp='1467315060' id='476787'>
<a class='timestamp' href='#476787'><time timestamp='2016-06-30T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-6'> btcdrak</span>&gt;
jl2012: there is a ticket open already
<br>
</div>

<div class='talk op-msg' data-timestamp='1467315060' id='476788'>
<a class='timestamp' href='#476788'><time timestamp='2016-06-30T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
petertodd: we should probably just brainstorm some about connection management stuff, there are a number of neat improvements we can make.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467315120' id='476789'>
<a class='timestamp' href='#476789'><time timestamp='2016-06-30T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
if we&#x27;re thinking about such refactors, the DoS score should probably also attenuate over time
<br>
</div>

<div class='talk op-msg' data-timestamp='1467315120' id='476790'>
<a class='timestamp' href='#476790'><time timestamp='2016-06-30T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
wumpus: I think the main thing, is just to have different thresholds period for some nodes, so that while you won&#x27;t wast bandwidth on everyone, keep a few peers connected regardless in case you&#x27;re dealing with a DoS-related bug and should be distributing the data anyway
<br>
</div>

<div class='talk op-msg' data-timestamp='1467315120' id='476791'>
<a class='timestamp' href='#476791'><time timestamp='2016-06-30T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
otherwise longer-lived connections will accumulate a score they don&#x27;t deserve
<br>
</div>

<div class='talk op-msg' data-timestamp='1467315120' id='476792'>
<a class='timestamp' href='#476792'><time timestamp='2016-06-30T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
petertodd: so a sort of halfway-whitelisting
<br>
</div>

<div class='talk op-msg' data-timestamp='1467315120' id='476793'>
<a class='timestamp' href='#476793'><time timestamp='2016-06-30T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
wumpus: also, along those lines, distributing invalid blocks with valid PoW isn&#x27;t a crazy idea
<br>
</div>

<div class='talk op-msg' data-timestamp='1467315120' id='476794'>
<a class='timestamp' href='#476794'><time timestamp='2016-06-30T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
wumpus: yup
<br>
</div>

<div class='talk op-msg' data-timestamp='1467315120' id='476795'>
<a class='timestamp' href='#476795'><time timestamp='2016-06-30T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
petertodd: such a thing could also turn those peers into blocksonly. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1467315120' id='476796'>
<a class='timestamp' href='#476796'><time timestamp='2016-06-30T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
since thats all we care about for anti-partitioning.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467315120' id='476797'>
<a class='timestamp' href='#476797'><time timestamp='2016-06-30T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
gmaxwell: yeah, that&#x27;s a good idea
<br>
</div>

<div class='talk op-msg' data-timestamp='1467315180' id='476798'>
<a class='timestamp' href='#476798'><time timestamp='2016-06-30T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
and yet it almost completely eliminates dos concerns.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467315240' id='476799'>
<a class='timestamp' href='#476799'><time timestamp='2016-06-30T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
blocksonly on-DoS + relaying of invalid blocks w/ valid PoW in a separate &quot;may be invalid&quot; message would satisfy everything I think
<br>
</div>

<div class='talk op-msg' data-timestamp='1467315240' id='476800'>
<a class='timestamp' href='#476800'><time timestamp='2016-06-30T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
sipa: attentuating theDoS score over time makes sense, a very slow DoS attack isn&#x27;t really a DoS attack (apart from keeping a connection slot open, but that&#x27;s not what the score is to protect against)
<br>
</div>

<div class='talk op-msg' data-timestamp='1467315300' id='476801'>
<a class='timestamp' href='#476801'><time timestamp='2016-06-30T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
theDos? sister of GLaDoS?
<br>
</div>

<div class='talk op-msg' data-timestamp='1467315300' id='476802'>
<a class='timestamp' href='#476802'><time timestamp='2016-06-30T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: lol
<br>
</div>

<div class='talk op-msg' data-timestamp='1467315300' id='476803'>
<a class='timestamp' href='#476803'><time timestamp='2016-06-30T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-6'> btcdrak</span>&gt;
omg
<br>
</div>

<div class='talk op-msg' data-timestamp='1467315360' id='476804'>
<a class='timestamp' href='#476804'><time timestamp='2016-06-30T19:36:00Z'>19:36</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
then again it&#x27;s not really a anti-DoS score is it, it won&#x27;t get triggered on accidental over-use of resources, more a misbehavior score
<br>
</div>

<div class='talk op-msg' data-timestamp='1467315360' id='476805'>
<a class='timestamp' href='#476805'><time timestamp='2016-06-30T19:36:00Z'>19:36</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
hehe
<br>
</div>

<div class='talk op-msg' data-timestamp='1467315360' id='476806'>
<a class='timestamp' href='#476806'><time timestamp='2016-06-30T19:36:00Z'>19:36</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yes, i think there may be reasons to introduce something like a &quot;resource usage score&quot; which is distinct from &quot;misbehaviour&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1467315360' id='476807'>
<a class='timestamp' href='#476807'><time timestamp='2016-06-30T19:36:00Z'>19:36</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
the cake is a lie
<br>
</div>

<div class='talk op-msg' data-timestamp='1467315360' id='476808'>
<a class='timestamp' href='#476808'><time timestamp='2016-06-30T19:36:00Z'>19:36</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and which gets used to decide which peers to disconnect in favor of others
<br>
</div>

<div class='talk op-msg' data-timestamp='1467315360' id='476809'>
<a class='timestamp' href='#476809'><time timestamp='2016-06-30T19:36:00Z'>19:36</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but never causes a ban
<br>
</div>

<div class='talk op-msg' data-timestamp='1467315420' id='476810'>
<a class='timestamp' href='#476810'><time timestamp='2016-06-30T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
yes, indeed
<br>
</div>

<div class='talk op-msg' data-timestamp='1467315420' id='476811'>
<a class='timestamp' href='#476811'><time timestamp='2016-06-30T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
not a disconnection, unless there is a pressing reason to disconnect someone anyway
<br>
</div>

<div class='talk op-msg' data-timestamp='1467315420' id='476812'>
<a class='timestamp' href='#476812'><time timestamp='2016-06-30T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
wumpus: might not be a bad idea to go through the DoS stuff and remove bans in cases where the misbehavior doesn&#x27;t take much cpu time to detect (and then use it in the anti-partitioning score instead)
<br>
</div>

<div class='talk op-msg' data-timestamp='1467315420' id='476813'>
<a class='timestamp' href='#476813'><time timestamp='2016-06-30T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
yea, I think there is a lot we can do here.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467315480' id='476814'>
<a class='timestamp' href='#476814'><time timestamp='2016-06-30T19:38:00Z'>19:38</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
So-- the issue of dbcache that I brought up last week can we talk about that for a bit?
<br>
</div>

<div class='talk op-msg' data-timestamp='1467315480' id='476815'>
<a class='timestamp' href='#476815'><time timestamp='2016-06-30T19:38:00Z'>19:38</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ack topic
<br>
</div>

<div class='talk op-msg' data-timestamp='1467315480' id='476816'>
<a class='timestamp' href='#476816'><time timestamp='2016-06-30T19:38:00Z'>19:38</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
sure
<br>
</div>

<div class='talk op-msg' data-timestamp='1467315480' id='476817'>
<a class='timestamp' href='#476817'><time timestamp='2016-06-30T19:38:00Z'>19:38</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
#topic dbcache
<br>
</div>

<div class='talk op-msg' data-timestamp='1467315480' id='476818'>
<a class='timestamp' href='#476818'><time timestamp='2016-06-30T19:38:00Z'>19:38</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
petertodd: agreed
<br>
</div>

<div class='talk op-msg' data-timestamp='1467315480' id='476819'>
<a class='timestamp' href='#476819'><time timestamp='2016-06-30T19:38:00Z'>19:38</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Last week I brought up that reindex with defaults was SUPER slow on my laptop, been a while since I&#x27;d reindexed with default dbcache. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1467315540' id='476820'>
<a class='timestamp' href='#476820'><time timestamp='2016-06-30T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
This resulted in more benchmarking, and wumpus has a PR to increase the default dbcache to 300mb and also clamp the leveldb cache usage (so that it doesn&#x27;t go gigantic as dbcache increases)
<br>
</div>

<div class='talk op-msg' data-timestamp='1467315540' id='476821'>
<a class='timestamp' href='#476821'><time timestamp='2016-06-30T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
the pull request to bump default dbcache to 300MiB is ready: <a href="https://github.com/bitcoin/bitcoin/pull/8273" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8273</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1467315540' id='476822'>
<a class='timestamp' href='#476822'><time timestamp='2016-06-30T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I did testing to confirm that the leveldb cache sizes don&#x27;t have much effect.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467315540' id='476823'>
<a class='timestamp' href='#476823'><time timestamp='2016-06-30T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
they seem like they have more effect with txindex enabled, however.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467315600' id='476824'>
<a class='timestamp' href='#476824'><time timestamp='2016-06-30T19:40:00Z'>19:40</time></a>
&lt;<span class='nick nick-12'> * jonasschnelli</span>&gt;
will test 8273
<br>
</div>

<div class='talk op-msg' data-timestamp='1467315600' id='476825'>
<a class='timestamp' href='#476825'><time timestamp='2016-06-30T19:40:00Z'>19:40</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
which makes sense, txindex has a completely different access pattern than the utxo set
<br>
</div>

<div class='talk op-msg' data-timestamp='1467315600' id='476826'>
<a class='timestamp' href='#476826'><time timestamp='2016-06-30T19:40:00Z'>19:40</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
it&#x27;s almost write-only
<br>
</div>

<div class='talk op-msg' data-timestamp='1467315600' id='476827'>
<a class='timestamp' href='#476827'><time timestamp='2016-06-30T19:40:00Z'>19:40</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
morcos: no more work on #6936?
<br>
</div>

<div class='talk op-msg' data-timestamp='1467315600' id='476828'>
<a class='timestamp' href='#476828'><time timestamp='2016-06-30T19:40:00Z'>19:40</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
As a related aside txindex performance is fairly slow, makes an &#x27;infinite&#x27; dbcache reindex by about 25%. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1467315600' id='476829'>
<a class='timestamp' href='#476829'><time timestamp='2016-06-30T19:40:00Z'>19:40</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
so we could cap that at a different value
<br>
</div>

<div class='talk op-msg' data-timestamp='1467315660' id='476830'>
<a class='timestamp' href='#476830'><time timestamp='2016-06-30T19:41:00Z'>19:41</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
txindex adds many many more writes
<br>
</div>

<div class='talk op-msg' data-timestamp='1467315660' id='476831'>
<a class='timestamp' href='#476831'><time timestamp='2016-06-30T19:41:00Z'>19:41</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
wumpus: yes, ran a test with 32mb which has finished but I didn&#x27;t have time before the meeting to collect the results, will shortly after.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467315660' id='476832'>
<a class='timestamp' href='#476832'><time timestamp='2016-06-30T19:41:00Z'>19:41</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
though they should be configured to bypass all caches
<br>
</div>

<div class='talk op-msg' data-timestamp='1467315660' id='476833'>
<a class='timestamp' href='#476833'><time timestamp='2016-06-30T19:41:00Z'>19:41</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
yes txindex is very slow, just a lot of data
<br>
</div>

<div class='talk op-msg' data-timestamp='1467315660' id='476834'>
<a class='timestamp' href='#476834'><time timestamp='2016-06-30T19:41:00Z'>19:41</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
my testing is on a fast spinning disk system, which I think is probaby the right thing to test for on this.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467315720' id='476835'>
<a class='timestamp' href='#476835'><time timestamp='2016-06-30T19:42:00Z'>19:42</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
sipa: oh, morcos and i were just talking about whether there were things we were working on that used the mining score index, but i think we had both forgotten about #6936.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467315720' id='476836'>
<a class='timestamp' href='#476836'><time timestamp='2016-06-30T19:42:00Z'>19:42</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
even the idea of indexing every transaction on the block chain is crazy
<br>
</div>

<div class='talk op-msg' data-timestamp='1467315720' id='476837'>
<a class='timestamp' href='#476837'><time timestamp='2016-06-30T19:42:00Z'>19:42</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
My last tests showd me that a reindex (master) was twice as long as a a normal IDB (from rnd peers) from the scratch... 
<br>
</div>

<div class='talk op-msg' data-timestamp='1467315720' id='476838'>
<a class='timestamp' href='#476838'><time timestamp='2016-06-30T19:42:00Z'>19:42</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
there&#x27;s much slower implementations possible though, like stashing everything into mysql :-)
<br>
</div>

<div class='talk op-msg' data-timestamp='1467315720' id='476839'>
<a class='timestamp' href='#476839'><time timestamp='2016-06-30T19:42:00Z'>19:42</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jonasschnelli: wut?!
<br>
</div>

<div class='talk op-msg' data-timestamp='1467315720' id='476840'>
<a class='timestamp' href='#476840'><time timestamp='2016-06-30T19:42:00Z'>19:42</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
One result of my testing is showing that even the 300MB dbcache is really not big enough to give good reindex performance.  We should consider something for 0.14 to give mempool memory to dbcache during ibd/reindex or something.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467315780' id='476841'>
<a class='timestamp' href='#476841'><time timestamp='2016-06-30T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
jonasschnelli: that last test was before the signature checking fix?
<br>
</div>

<div class='talk op-msg' data-timestamp='1467315780' id='476842'>
<a class='timestamp' href='#476842'><time timestamp='2016-06-30T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sipa: 5.5h reindex against ~3h IBD
<br>
</div>

<div class='talk op-msg' data-timestamp='1467315780' id='476843'>
<a class='timestamp' href='#476843'><time timestamp='2016-06-30T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
jonasschnelli: whoa
<br>
</div>

<div class='talk op-msg' data-timestamp='1467315780' id='476844'>
<a class='timestamp' href='#476844'><time timestamp='2016-06-30T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I&#x27;m redoing it now...
<br>
</div>

<div class='talk op-msg' data-timestamp='1467315780' id='476845'>
<a class='timestamp' href='#476845'><time timestamp='2016-06-30T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
jonasschnelli: when was it?
<br>
</div>

<div class='talk op-msg' data-timestamp='1467315780' id='476846'>
<a class='timestamp' href='#476846'><time timestamp='2016-06-30T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jonasschnelli: what part of that was real reindex, and what was chainstate rebuilding?
<br>
</div>

<div class='talk op-msg' data-timestamp='1467315780' id='476847'>
<a class='timestamp' href='#476847'><time timestamp='2016-06-30T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
I thought we solved that recently
<br>
</div>

<div class='talk op-msg' data-timestamp='1467315780' id='476848'>
<a class='timestamp' href='#476848'><time timestamp='2016-06-30T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
a couple of weeks ago after sipas work
<br>
</div>

<div class='talk op-msg' data-timestamp='1467315780' id='476849'>
<a class='timestamp' href='#476849'><time timestamp='2016-06-30T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sipa: just a plain -reindex
<br>
</div>

<div class='talk op-msg' data-timestamp='1467315780' id='476850'>
<a class='timestamp' href='#476850'><time timestamp='2016-06-30T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
wth dbcache=8000
<br>
</div>

<div class='talk op-msg' data-timestamp='1467315840' id='476851'>
<a class='timestamp' href='#476851'><time timestamp='2016-06-30T19:44:00Z'>19:44</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that&#x27;s painful
<br>
</div>

<div class='talk op-msg' data-timestamp='1467315840' id='476852'>
<a class='timestamp' href='#476852'><time timestamp='2016-06-30T19:44:00Z'>19:44</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Reindex now has that header scan, it adds about 20 minutes on my test hosts that a sync wouldn&#x27;t have. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1467315840' id='476853'>
<a class='timestamp' href='#476853'><time timestamp='2016-06-30T19:44:00Z'>19:44</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jonasschnelli: can you benchmark -reindex-chainstate vs IBD?
<br>
</div>

<div class='talk op-msg' data-timestamp='1467315840' id='476854'>
<a class='timestamp' href='#476854'><time timestamp='2016-06-30T19:44:00Z'>19:44</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
that can&#x27;t make the difference between 3h and 5.5h though
<br>
</div>

<div class='talk op-msg' data-timestamp='1467315840' id='476855'>
<a class='timestamp' href='#476855'><time timestamp='2016-06-30T19:44:00Z'>19:44</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
but I tested with and without signature checking, and in both cases reindex in master is faster than 0.12.1.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467315840' id='476856'>
<a class='timestamp' href='#476856'><time timestamp='2016-06-30T19:44:00Z'>19:44</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sipa: okay. Will do.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467315840' id='476857'>
<a class='timestamp' href='#476857'><time timestamp='2016-06-30T19:44:00Z'>19:44</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
20 minutes difference would be ok
<br>
</div>

<div class='talk op-msg' data-timestamp='1467315900' id='476858'>
<a class='timestamp' href='#476858'><time timestamp='2016-06-30T19:45:00Z'>19:45</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it may depend on your disk
<br>
</div>

<div class='talk op-msg' data-timestamp='1467315900' id='476859'>
<a class='timestamp' href='#476859'><time timestamp='2016-06-30T19:45:00Z'>19:45</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I didn&#x27;t test an IBD but I can easily do that. We do probably lose some time due to out of order blocks.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467315900' id='476860'>
<a class='timestamp' href='#476860'><time timestamp='2016-06-30T19:45:00Z'>19:45</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Also there is the potential_deadlock_detected that stops my node (-debug) every couple of minutes..
<br>
</div>

<div class='talk op-msg' data-timestamp='1467315900' id='476861'>
<a class='timestamp' href='#476861'><time timestamp='2016-06-30T19:45:00Z'>19:45</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
if it&#x27;s a VM with a file-backed storage which is on a network filesystem stored on an encrypted ZFS container...
<br>
</div>

<div class='talk op-msg' data-timestamp='1467315960' id='476862'>
<a class='timestamp' href='#476862'><time timestamp='2016-06-30T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jonasschnelli: i hope your normal benchmarks are not with -debug builds
<br>
</div>

<div class='talk op-msg' data-timestamp='1467315960' id='476863'>
<a class='timestamp' href='#476863'><time timestamp='2016-06-30T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
lock debugging slows down the sync too
<br>
</div>

<div class='talk op-msg' data-timestamp='1467315960' id='476864'>
<a class='timestamp' href='#476864'><time timestamp='2016-06-30T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
additionally, we need to fix that bug
<br>
</div>

<div class='talk op-msg' data-timestamp='1467315960' id='476865'>
<a class='timestamp' href='#476865'><time timestamp='2016-06-30T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i&#x27;ll look into that lockorder
<br>
</div>

<div class='talk op-msg' data-timestamp='1467315960' id='476866'>
<a class='timestamp' href='#476866'><time timestamp='2016-06-30T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
but yes, the deadlock detected in the network code seems to be a real deadlock
<br>
</div>

<div class='talk op-msg' data-timestamp='1467315960' id='476867'>
<a class='timestamp' href='#476867'><time timestamp='2016-06-30T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
wumpus: yes. Agree. But i have compare -debug IBD against -debug reindex
<br>
</div>

<div class='talk op-msg' data-timestamp='1467316020' id='476868'>
<a class='timestamp' href='#476868'><time timestamp='2016-06-30T19:47:00Z'>19:47</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jonasschnelli: meh, don&#x27;t do that
<br>
</div>

<div class='talk op-msg' data-timestamp='1467316020' id='476869'>
<a class='timestamp' href='#476869'><time timestamp='2016-06-30T19:47:00Z'>19:47</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
debug is not ever going to give you a realistic benchmark
<br>
</div>

<div class='talk op-msg' data-timestamp='1467316020' id='476870'>
<a class='timestamp' href='#476870'><time timestamp='2016-06-30T19:47:00Z'>19:47</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
developer are supposed to run --enable-debug software! :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1467316020' id='476871'>
<a class='timestamp' href='#476871'><time timestamp='2016-06-30T19:47:00Z'>19:47</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
do we have an issue open for that deadlock issue btw?
<br>
</div>

<div class='talk op-msg' data-timestamp='1467316020' id='476872'>
<a class='timestamp' href='#476872'><time timestamp='2016-06-30T19:47:00Z'>19:47</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jonasschnelli: yes, but not for benchmarking
<br>
</div>

<div class='talk op-msg' data-timestamp='1467316020' id='476873'>
<a class='timestamp' href='#476873'><time timestamp='2016-06-30T19:47:00Z'>19:47</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
#topic net deadlock
<br>
</div>

<div class='talk op-msg' data-timestamp='1467316020' id='476874'>
<a class='timestamp' href='#476874'><time timestamp='2016-06-30T19:47:00Z'>19:47</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
wumpus: no. Let me open one.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467316020' id='476875'>
<a class='timestamp' href='#476875'><time timestamp='2016-06-30T19:47:00Z'>19:47</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jonasschnelli: thanks
<br>
</div>

<div class='talk op-msg' data-timestamp='1467316080' id='476876'>
<a class='timestamp' href='#476876'><time timestamp='2016-06-30T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sipa: Yes. Agree... will benchmark again without -debug
<br>
</div>

<div class='talk op-msg' data-timestamp='1467316080' id='476877'>
<a class='timestamp' href='#476877'><time timestamp='2016-06-30T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jonasschnelli: please list your exact commit (so we can identify the line numbers)
<br>
</div>

<div class='talk op-msg' data-timestamp='1467316080' id='476878'>
<a class='timestamp' href='#476878'><time timestamp='2016-06-30T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
okay. Good point.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467316140' id='476879'>
<a class='timestamp' href='#476879'><time timestamp='2016-06-30T19:49:00Z'>19:49</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
#action jonasschnelli to open issue on lockorder deadlock report that he&#x27;s seeing
<br>
</div>

<div class='talk op-msg' data-timestamp='1467316140' id='476880'>
<a class='timestamp' href='#476880'><time timestamp='2016-06-30T19:49:00Z'>19:49</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Any other topics?
<br>
</div>

<div class='talk op-msg' data-timestamp='1467316200' id='476881'>
<a class='timestamp' href='#476881'><time timestamp='2016-06-30T19:50:00Z'>19:50</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
okay Seems quiet, perhaps we can end a bit early.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467316200' id='476882'>
<a class='timestamp' href='#476882'><time timestamp='2016-06-30T19:50:00Z'>19:50</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
maybe bip152?
<br>
</div>

<div class='talk op-msg' data-timestamp='1467316200' id='476883'>
<a class='timestamp' href='#476883'><time timestamp='2016-06-30T19:50:00Z'>19:50</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
seemingly not :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1467316200' id='476884'>
<a class='timestamp' href='#476884'><time timestamp='2016-06-30T19:50:00Z'>19:50</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
ah okay!
<br>
</div>

<div class='talk op-msg' data-timestamp='1467316200' id='476885'>
<a class='timestamp' href='#476885'><time timestamp='2016-06-30T19:50:00Z'>19:50</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
not sure if that&#x27;s worht bringing up here
<br>
</div>

<div class='talk op-msg' data-timestamp='1467316200' id='476886'>
<a class='timestamp' href='#476886'><time timestamp='2016-06-30T19:50:00Z'>19:50</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
#topic BIP152
<br>
</div>

<div class='talk op-msg' data-timestamp='1467316200' id='476887'>
<a class='timestamp' href='#476887'><time timestamp='2016-06-30T19:50:00Z'>19:50</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
So sipa has SW BIP 152 working on testnet and a number of people testing it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467316260' id='476888'>
<a class='timestamp' href='#476888'><time timestamp='2016-06-30T19:51:00Z'>19:51</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
good to hear
<br>
</div>

<div class='talk op-msg' data-timestamp='1467316260' id='476889'>
<a class='timestamp' href='#476889'><time timestamp='2016-06-30T19:51:00Z'>19:51</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
gmaxwell: as in, segwit bip152 right? +1
<br>
</div>

<div class='talk op-msg' data-timestamp='1467316260' id='476890'>
<a class='timestamp' href='#476890'><time timestamp='2016-06-30T19:51:00Z'>19:51</time></a>
&lt;<span class='nick nick-6'> btcdrak</span>&gt;
I dont recall seeing a PR for that yet?
<br>
</div>

<div class='talk op-msg' data-timestamp='1467316260' id='476891'>
<a class='timestamp' href='#476891'><time timestamp='2016-06-30T19:51:00Z'>19:51</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
petertodd: yes.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467316260' id='476892'>
<a class='timestamp' href='#476892'><time timestamp='2016-06-30T19:51:00Z'>19:51</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
there&#x27;s no PR for that
<br>
</div>

<div class='talk op-msg' data-timestamp='1467316260' id='476893'>
<a class='timestamp' href='#476893'><time timestamp='2016-06-30T19:51:00Z'>19:51</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
btcdrak: intentionally not
<br>
</div>

<div class='talk op-msg' data-timestamp='1467316320' id='476894'>
<a class='timestamp' href='#476894'><time timestamp='2016-06-30T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
1) this allows us to test interaction between non-SW-BIP152 testnet and changed
<br>
</div>

<div class='talk op-msg' data-timestamp='1467316320' id='476895'>
<a class='timestamp' href='#476895'><time timestamp='2016-06-30T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
2) needs some BIP changes (in BIP144, BIP152, or a separate bip entirely)
<br>
</div>

<div class='talk op-msg' data-timestamp='1467316320' id='476896'>
<a class='timestamp' href='#476896'><time timestamp='2016-06-30T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: +1
<br>
</div>

<div class='talk op-msg' data-timestamp='1467316320' id='476897'>
<a class='timestamp' href='#476897'><time timestamp='2016-06-30T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
3) not necessary before the segwit softfork
<br>
</div>

<div class='talk op-msg' data-timestamp='1467316380' id='476898'>
<a class='timestamp' href='#476898'><time timestamp='2016-06-30T19:53:00Z'>19:53</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
branch: github.com/sipa/bitcoin/commits/segwitcb
<br>
</div>

<div class='talk op-msg' data-timestamp='1467316380' id='476899'>
<a class='timestamp' href='#476899'><time timestamp='2016-06-30T19:53:00Z'>19:53</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
not necessary, but would be good to have it before the activation, otherwise CB will suddenly disable
<br>
</div>

<div class='talk op-msg' data-timestamp='1467316380' id='476900'>
<a class='timestamp' href='#476900'><time timestamp='2016-06-30T19:53:00Z'>19:53</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
indeed; it is necessary imho before activation in mastdr
<br>
</div>

<div class='talk op-msg' data-timestamp='1467316440' id='476901'>
<a class='timestamp' href='#476901'><time timestamp='2016-06-30T19:54:00Z'>19:54</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Thats my view.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467316440' id='476902'>
<a class='timestamp' href='#476902'><time timestamp='2016-06-30T19:54:00Z'>19:54</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
right, for 0.12 it makes no different, there&#x27;s no cb there anyhow
<br>
</div>

<div class='talk op-msg' data-timestamp='1467316440' id='476903'>
<a class='timestamp' href='#476903'><time timestamp='2016-06-30T19:54:00Z'>19:54</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
jinx
<br>
</div>

<div class='talk op-msg' data-timestamp='1467316500' id='476904'>
<a class='timestamp' href='#476904'><time timestamp='2016-06-30T19:55:00Z'>19:55</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
agree
<br>
</div>

<div class='talk op-msg' data-timestamp='1467316500' id='476905'>
<a class='timestamp' href='#476905'><time timestamp='2016-06-30T19:55:00Z'>19:55</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
In any case, it&#x27;s working, didn&#x27;t require anything too complicated. (says the guy who didn&#x27;t write it)
<br>
</div>

<div class='talk op-msg' data-timestamp='1467316560' id='476906'>
<a class='timestamp' href='#476906'><time timestamp='2016-06-30T19:56:00Z'>19:56</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
sipa, gmaxwell: i still think it&#x27;d be better if the information in a blocktxn message could be understood without any state. did i make any progress trying to convince you?
<br>
</div>

<div class='talk op-msg' data-timestamp='1467316560' id='476907'>
<a class='timestamp' href='#476907'><time timestamp='2016-06-30T19:56:00Z'>19:56</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
there&#x27;s no need to hurry it anyhow, CB and segwit separately are already huge changes, better to test them in isolation for now
<br>
</div>

<div class='talk op-msg' data-timestamp='1467316560' id='476908'>
<a class='timestamp' href='#476908'><time timestamp='2016-06-30T19:56:00Z'>19:56</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sdaftuar: only a very small amount. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1467316620' id='476909'>
<a class='timestamp' href='#476909'><time timestamp='2016-06-30T19:57:00Z'>19:57</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sdaftuar: no strong opinion yet
<br>
</div>

<div class='talk op-msg' data-timestamp='1467316620' id='476910'>
<a class='timestamp' href='#476910'><time timestamp='2016-06-30T19:57:00Z'>19:57</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sdaftuar: we can talk more post meeting.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467316620' id='476911'>
<a class='timestamp' href='#476911'><time timestamp='2016-06-30T19:57:00Z'>19:57</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
sure
<br>
</div>

<div class='talk op-msg' data-timestamp='1467316680' id='476912'>
<a class='timestamp' href='#476912'><time timestamp='2016-06-30T19:58:00Z'>19:58</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
okay, Anything else, we&#x27;re almost out of time? :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1467316680' id='476913'>
<a class='timestamp' href='#476913'><time timestamp='2016-06-30T19:58:00Z'>19:58</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
ack endmeeting
<br>
</div>

<div class='talk op-msg' data-timestamp='1467316680' id='476914'>
<a class='timestamp' href='#476914'><time timestamp='2016-06-30T19:58:00Z'>19:58</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
#endmeeting
<br>
</div>

<div class='talk op-msg' data-timestamp='1467316680' id='476915'>
<a class='timestamp' href='#476915'><time timestamp='2016-06-30T19:58:00Z'>19:58</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Meeting ended Thu Jun 30 19:58:51 2016 UTC.  Information about MeetBot at <a href="http://wiki.debian.org/MeetBot" class="link" target="_blank">http://wiki.debian.org/MeetBot</a> . (v 0.1.4)
<br>
</div>

<div class='talk op-msg' data-timestamp='1467316680' id='476916'>
<a class='timestamp' href='#476916'><time timestamp='2016-06-30T19:58:00Z'>19:58</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Minutes:        <a href="http://www.erisian.com.au/meetbot/bitcoin-core-dev/2016/bitcoin-core-dev.2016-06-30-19.01.html" class="link" target="_blank">http://www.erisian.com.au/meetbot/bitcoin-core-dev/2016/bitcoin-core-dev.2016-06-30-19.01.html</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1467316680' id='476917'>
<a class='timestamp' href='#476917'><time timestamp='2016-06-30T19:58:00Z'>19:58</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Minutes (text): <a href="http://www.erisian.com.au/meetbot/bitcoin-core-dev/2016/bitcoin-core-dev.2016-06-30-19.01.txt" class="link" target="_blank">http://www.erisian.com.au/meetbot/bitcoin-core-dev/2016/bitcoin-core-dev.2016-06-30-19.01.txt</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1467316680' id='476918'>
<a class='timestamp' href='#476918'><time timestamp='2016-06-30T19:58:00Z'>19:58</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Log:            <a href="http://www.erisian.com.au/meetbot/bitcoin-core-dev/2016/bitcoin-core-dev.2016-06-30-19.01.log.html" class="link" target="_blank">http://www.erisian.com.au/meetbot/bitcoin-core-dev/2016/bitcoin-core-dev.2016-06-30-19.01.log.html</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1467316680' id='476919'>
<a class='timestamp' href='#476919'><time timestamp='2016-06-30T19:58:00Z'>19:58</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Hurrah we ended early.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467316740' id='476920'>
<a class='timestamp' href='#476920'><time timestamp='2016-06-30T19:59:00Z'>19:59</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
:P
<br>
</div>

<div class='talk op-msg' data-timestamp='1467316740' id='476921'>
<a class='timestamp' href='#476921'><time timestamp='2016-06-30T19:59:00Z'>19:59</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
1min! :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1467316740' id='476922'>
<a class='timestamp' href='#476922'><time timestamp='2016-06-30T19:59:00Z'>19:59</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
May your usage of the remaining minute be productive.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467316740' id='476923'>
<a class='timestamp' href='#476923'><time timestamp='2016-06-30T19:59:00Z'>19:59</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
heh, my clock must be off... :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1467316740' id='476924'>
<a class='timestamp' href='#476924'><time timestamp='2016-06-30T19:59:00Z'>19:59</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
brb, gonna fix ntp :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1467316800' id='476925'>
<a class='timestamp' href='#476925'><time timestamp='2016-06-30T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
doh, too late
<br>
</div>

<div class='talk op-msg' data-timestamp='1467316860' id='476926'>
<a class='timestamp' href='#476926'><time timestamp='2016-06-30T20:01:00Z'>20:01</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sdaftuar: So; I&#x27;m still trying to come up with a case where the offsets would be useful where were are not already keeping an equiivlent amount of state.  There are DOS reasons why we can&#x27;t, say,  loadbalance getblocktxn fragments to all peers that have inved. But even if we have, keeping a list of indexes per peer is negligible additional state.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467316920' id='476927'>
<a class='timestamp' href='#476927'><time timestamp='2016-06-30T20:02:00Z'>20:02</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
sipa: btw morcos was away from his desk, but says he can look at the coins cache stuff again after 0.13 is branched off
<br>
</div>

<div class='talk op-msg' data-timestamp='1467316920' id='476928'>
<a class='timestamp' href='#476928'><time timestamp='2016-06-30T20:02:00Z'>20:02</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sdaftuar: sounds good
<br>
</div>

<div class='talk op-msg' data-timestamp='1467316920' id='476929'>
<a class='timestamp' href='#476929'><time timestamp='2016-06-30T20:02:00Z'>20:02</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
gmaxwell: basically you&#x27;d be tracking your last getblocktxn request to each peer
<br>
</div>

<div class='talk op-msg' data-timestamp='1467316980' id='476930'>
<a class='timestamp' href='#476930'><time timestamp='2016-06-30T20:03:00Z'>20:03</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
i agree you could do something like that, but this is also complicated, as you&#x27;d have to ensure you don&#x27;t have more than one in-flight 
<br>
</div>

<div class='talk op-msg' data-timestamp='1467317040' id='476931'>
<a class='timestamp' href='#476931'><time timestamp='2016-06-30T20:04:00Z'>20:04</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
right, effectively the same information the peer would send back over the wire, you&#x27;d keep in memory.  You can have more than one in-flight per peer but not more than one for a given block.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467317040' id='476932'>
<a class='timestamp' href='#476932'><time timestamp='2016-06-30T20:04:00Z'>20:04</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
i guess my point is that it&#x27;s a trivial amount of bandwidth use in order to do less bookkeeping in code
<br>
</div>

<div class='talk op-msg' data-timestamp='1467317040' id='476933'>
<a class='timestamp' href='#476933'><time timestamp='2016-06-30T20:04:00Z'>20:04</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
But at the same time we could probably even DOS a peer that getblocktxned the same block multiple times. (and we should perhaps consider doing that)
<br>
</div>

<div class='talk op-msg' data-timestamp='1467317100' id='476934'>
<a class='timestamp' href='#476934'><time timestamp='2016-06-30T20:05:00Z'>20:05</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
i think that&#x27;s a bit too aggressive -- there are legitimate reasons you could do that i think
<br>
</div>

<div class='talk op-msg' data-timestamp='1467317100' id='476935'>
<a class='timestamp' href='#476935'><time timestamp='2016-06-30T20:05:00Z'>20:05</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
ie if block reconstruction failed in an unexpected place
<br>
</div>

<div class='talk op-msg' data-timestamp='1467317100' id='476936'>
<a class='timestamp' href='#476936'><time timestamp='2016-06-30T20:05:00Z'>20:05</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
it&#x27;s maybe 0.4% overhead 
<br>
</div>

<div class='talk op-msg' data-timestamp='1467317100' id='476937'>
<a class='timestamp' href='#476937'><time timestamp='2016-06-30T20:05:00Z'>20:05</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
but you got insight from another peer
<br>
</div>

<div class='talk op-msg' data-timestamp='1467317160' id='476938'>
<a class='timestamp' href='#476938'><time timestamp='2016-06-30T20:06:00Z'>20:06</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
i just don&#x27;t want to overly limit what we can do with the p2p messages we&#x27;re adding
<br>
</div>

<div class='talk op-msg' data-timestamp='1467317220' id='476939'>
<a class='timestamp' href='#476939'><time timestamp='2016-06-30T20:07:00Z'>20:07</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
.4% is probably an upperbound on the overhead
<br>
</div>

<div class='talk op-msg' data-timestamp='1467317220' id='476940'>
<a class='timestamp' href='#476940'><time timestamp='2016-06-30T20:07:00Z'>20:07</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
yes.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467317280' id='476941'>
<a class='timestamp' href='#476941'><time timestamp='2016-06-30T20:08:00Z'>20:08</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sdaftuar: I agree on not limiting the usefulness but I really am just trying to get a case where I agree that it&#x27;s actually helpful beyond reducing the state size slightly in an already stateful exchange.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467317340' id='476942'>
<a class='timestamp' href='#476942'><time timestamp='2016-06-30T20:09:00Z'>20:09</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Because there is a cost-- the admitably trivial overhead, and the extra error conditions to test for. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1467317340' id='476943'>
<a class='timestamp' href='#476943'><time timestamp='2016-06-30T20:09:00Z'>20:09</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
yeah, it&#x27;d be more useful if i had an implementation of something that used it that i could point to, which i sadly don&#x27;t
<br>
</div>

<div class='talk op-msg' data-timestamp='1467317340' id='476944'>
<a class='timestamp' href='#476944'><time timestamp='2016-06-30T20:09:00Z'>20:09</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I had a couple ideas, but then found that they didn&#x27;t actually work. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1467317400' id='476945'>
<a class='timestamp' href='#476945'><time timestamp='2016-06-30T20:10:00Z'>20:10</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
my intuition is that messages which can be interpreted on their own is more helpful for writing code.  this isn&#x27;t super relevant for bitcoind, but imagine how much better it would be to look at historical data that can stand on its own, versus require state
<br>
</div>

<div class='talk op-msg' data-timestamp='1467317400' id='476946'>
<a class='timestamp' href='#476946'><time timestamp='2016-06-30T20:10:00Z'>20:10</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
or writing tests that do strange things
<br>
</div>

<div class='talk op-msg' data-timestamp='1467317460' id='476947'>
<a class='timestamp' href='#476947'><time timestamp='2016-06-30T20:11:00Z'>20:11</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
hah but thats part of my point: it adds more corner cases that need to be tested. E.g. what happens when the indexes weren&#x27;t what you asked for but were correct, what happens if the txn are what you asked for but the indexes are correct?
<br>
</div>

<div class='talk op-msg' data-timestamp='1467317460' id='476948'>
<a class='timestamp' href='#476948'><time timestamp='2016-06-30T20:11:00Z'>20:11</time></a>
&lt;<span class='nick nick-2'> * gmaxwell</span>&gt;
steps out for lunch and to ruminate.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467317460' id='476949'>
<a class='timestamp' href='#476949'><time timestamp='2016-06-30T20:11:00Z'>20:11</time></a>
&lt;<span class='nick nick-1'> * sdaftuar</span>&gt;
has to leave to catch a train anyway, will think about it some more
<br>
</div>

<div class='talk op-msg' data-timestamp='1467317760' id='476950'>
<a class='timestamp' href='#476950'><time timestamp='2016-06-30T20:16:00Z'>20:16</time></a>
&lt;<span class='nick nick-5'> midnightmagic</span>&gt;
hrm.. I like meetbot.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467317820' id='476951'>
<a class='timestamp' href='#476951'><time timestamp='2016-06-30T20:17:00Z'>20:17</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
sipa: yes i&#x27;m happy to take another pass at keeping the cache warm.  but whats your current state of thinking with keeping the utxos by txid instead of by individual utxo?  we had discussed at one point changing that?
<br>
</div>

<div class='talk op-msg' data-timestamp='1467317880' id='476952'>
<a class='timestamp' href='#476952'><time timestamp='2016-06-30T20:18:00Z'>20:18</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i think we should switch to individual utxo
<br>
</div>

<div class='talk op-msg' data-timestamp='1467317880' id='476953'>
<a class='timestamp' href='#476953'><time timestamp='2016-06-30T20:18:00Z'>20:18</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but it&#x27;s a pretty nontrivial change
<br>
</div>

<div class='talk op-msg' data-timestamp='1467317880' id='476954'>
<a class='timestamp' href='#476954'><time timestamp='2016-06-30T20:18:00Z'>20:18</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
yeah...
<br>
</div>

<div class='talk op-msg' data-timestamp='1467317880' id='476955'>
<a class='timestamp' href='#476955'><time timestamp='2016-06-30T20:18:00Z'>20:18</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
i wonder what the current overhead is
<br>
</div>

<div class='talk op-msg' data-timestamp='1467317880' id='476956'>
<a class='timestamp' href='#476956'><time timestamp='2016-06-30T20:18:00Z'>20:18</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
the one pain point is storage of per-tx information (height and coinbaseness)
<br>
</div>

<div class='talk op-msg' data-timestamp='1467317940' id='476957'>
<a class='timestamp' href='#476957'><time timestamp='2016-06-30T20:19:00Z'>20:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and nversion
<br>
</div>

<div class='talk op-msg' data-timestamp='1467317940' id='476958'>
<a class='timestamp' href='#476958'><time timestamp='2016-06-30T20:19:00Z'>20:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
copied into each utxo, or still have some per txid state
<br>
</div>

<div class='talk op-msg' data-timestamp='1467318060' id='476959'>
<a class='timestamp' href='#476959'><time timestamp='2016-06-30T20:21:00Z'>20:21</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
 yeah maybe there is some hybrid that makes the most sense..   anyway, ok, just food for thought
<br>
</div>

<div class='talk op-msg' data-timestamp='1467318120' id='476960'>
<a class='timestamp' href='#476960'><time timestamp='2016-06-30T20:22:00Z'>20:22</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
in the storage format that means refcounting per txid, though
<br>
</div>

<div class='talk op-msg' data-timestamp='1467318180' id='476961'>
<a class='timestamp' href='#476961'><time timestamp='2016-06-30T20:23:00Z'>20:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yuckness
<br>
</div>

<div class='talk op-msg' data-timestamp='1467318180' id='476962'>
<a class='timestamp' href='#476962'><time timestamp='2016-06-30T20:23:00Z'>20:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
or a read after write to see if any entries remain, and if not, delete the txid data
<br>
</div>

<div class='talk op-msg' data-timestamp='1467318240' id='476963'>
<a class='timestamp' href='#476963'><time timestamp='2016-06-30T20:24:00Z'>20:24</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
yeah, i was thinking more the latter, we kind of already do that right?
<br>
</div>

<div class='talk op-msg' data-timestamp='1467318240' id='476964'>
<a class='timestamp' href='#476964'><time timestamp='2016-06-30T20:24:00Z'>20:24</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
at the disk level for pruning
<br>
</div>

<div class='talk op-msg' data-timestamp='1467318240' id='476965'>
<a class='timestamp' href='#476965'><time timestamp='2016-06-30T20:24:00Z'>20:24</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
ugh sorry, bad choice of words, but think its called that in the code
<br>
</div>

<div class='talk op-msg' data-timestamp='1467318360' id='476966'>
<a class='timestamp' href='#476966'><time timestamp='2016-06-30T20:26:00Z'>20:26</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
maybe you could keep a bit field of the spentness of various vout#s in the txid level state, so when its in memory, you know whether any uncached vout#s are still unspent.   
<br>
</div>

<div class='talk op-msg' data-timestamp='1467322200' id='476967'>
<a class='timestamp' href='#476967'><time timestamp='2016-06-30T21:30:00Z'>21:30</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
own&#x27;t the key overhead make the dataset much larger? whats the average outputs per key in the database today?
<br>
</div>

<div class='talk op-msg' data-timestamp='1467322620' id='476968'>
<a class='timestamp' href='#476968'><time timestamp='2016-06-30T21:37:00Z'>21:37</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
I don&#x27;t see why the new algorithm can&#x27;t work with blockmaxsize etc?
<br>
</div>

<div class='talk op-msg' data-timestamp='1467322620' id='476969'>
<a class='timestamp' href='#476969'><time timestamp='2016-06-30T21:37:00Z'>21:37</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
because it will produce wrong results if blockmaxsize is the limited commodity.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467322680' id='476970'>
<a class='timestamp' href='#476970'><time timestamp='2016-06-30T21:38:00Z'>21:38</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
wrong in the sense of not picking the optimal block subject to that constraint.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467323220' id='476971'>
<a class='timestamp' href='#476971'><time timestamp='2016-06-30T21:47:00Z'>21:47</time></a>
&lt;<span class='nick nick-7'> zooko</span>&gt;
Hey Bitcoin core devs. Over in the Zcash project we occasionally do things which might be independently useful to Bitcoin core.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467323280' id='476972'>
<a class='timestamp' href='#476972'><time timestamp='2016-06-30T21:48:00Z'>21:48</time></a>
&lt;<span class='nick nick-7'> zooko</span>&gt;
One of those is a performance measurement of a transaction with the maximal number of inputs.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467323280' id='476973'>
<a class='timestamp' href='#476973'><time timestamp='2016-06-30T21:48:00Z'>21:48</time></a>
&lt;<span class='nick nick-7'> zooko</span>&gt;
We&#x27;re currently talking about that test/measurement over in #zcash and Nathan mentioned that it might be of use to core.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467324120' id='476974'>
<a class='timestamp' href='#476974'><time timestamp='2016-06-30T22:02:00Z'>22:02</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
gmaxwell: if we&#x27;re hoping to see that constraint unnecessary in the next year, I don&#x27;t think we need it to be &quot;ideal&quot;; but if sdaftuar wants to support it better, that&#x27;s fine with me too
<br>
</div>

<div class='talk op-msg' data-timestamp='1467324300' id='476975'>
<a class='timestamp' href='#476975'><time timestamp='2016-06-30T22:05:00Z'>22:05</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I think its fine if its not ideal. given the current climate we can expect people to just turn it as high as possible in any case.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467324360' id='476976'>
<a class='timestamp' href='#476976'><time timestamp='2016-06-30T22:06:00Z'>22:06</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
just as they&#x27;re doing with the current target.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467324780' id='476977'>
<a class='timestamp' href='#476977'><time timestamp='2016-06-30T22:13:00Z'>22:13</time></a>
&lt;<span class='nick nick-3'> dgenr8</span>&gt;
regarding gmaxwell statement on XT above <a href="https://github.com/bitcoinxt/bitcoinxt/issues/153#issuecomment-229793755" class="link" target="_blank">https://github.com/bitcoinxt/bitcoinxt/issues/153#issuecomment-229793755</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1467325980' id='476978'>
<a class='timestamp' href='#476978'><time timestamp='2016-06-30T22:33:00Z'>22:33</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
dgenr8: your intended behavior will partition the network and leave XT isolated.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467326100' id='476979'>
<a class='timestamp' href='#476979'><time timestamp='2016-06-30T22:35:00Z'>22:35</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
as your only connections from core nodes will be inbound and after segwit activates core will avoid making outbound connections to non-segwit enabled hosts; already that behavior is dangerous because there are relatively few hosts that it is willing to outbound connect to, making chance partitioning and vulnerability to sybil attacks worse.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467327060' id='476980'>
<a class='timestamp' href='#476980'><time timestamp='2016-06-30T22:51:00Z'>22:51</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: that&#x27;s not the reason. the algorithm needs per-package byte sizes, which are not counted currently
<br>
</div>

<div class='talk op-msg' data-timestamp='1467327060' id='476981'>
<a class='timestamp' href='#476981'><time timestamp='2016-06-30T22:51:00Z'>22:51</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: it&#x27;s not just that it&#x27;s suboptinal
<br>
</div>

<div class='talk op-msg' data-timestamp='1467327060' id='476982'>
<a class='timestamp' href='#476982'><time timestamp='2016-06-30T22:51:00Z'>22:51</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
without adding package-accounted sizes, it just cannot work
<br>
</div>

<div class='talk op-msg' data-timestamp='1467327060' id='476983'>
<a class='timestamp' href='#476983'><time timestamp='2016-06-30T22:51:00Z'>22:51</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sipa: hm why doesn&#x27;t it just construct assuming that there is no size limit then truncate when the block is full.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467327060' id='476984'>
<a class='timestamp' href='#476984'><time timestamp='2016-06-30T22:51:00Z'>22:51</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
[pp.getblock(pp.getblockhash(x))[&#x27;size&#x27;] for x in range(353213,417725)]  ... man rpc from python is slow, thats running at 9 blocks per second and is going to take two hours to finish.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467330180' id='476985'>
<a class='timestamp' href='#476985'><time timestamp='2016-06-30T23:43:00Z'>23:43</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
sipa: gmaxwell: i think the fix is straightforward, please see <a href="https://github.com/bitcoin/bitcoin/pull/8295/commits/f15c2cde455174c7c899833fd5792460ed49a472" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8295/commits/f15c2cde455174c7c899833fd5792460ed49a472</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1467330180' id='476986'>
<a class='timestamp' href='#476986'><time timestamp='2016-06-30T23:43:00Z'>23:43</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
i guess i didn&#x27;t test it very well though!
<br>
</div>

<div class='talk op-msg' data-timestamp='1467330180' id='476987'>
<a class='timestamp' href='#476987'><time timestamp='2016-06-30T23:43:00Z'>23:43</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
oops, i should go back and do that more carefully
<br>
</div>

<div class='talk op-msg' data-timestamp='1467330180' id='476988'>
<a class='timestamp' href='#476988'><time timestamp='2016-06-30T23:43:00Z'>23:43</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
also, that silly function name gets improved in the next commit of the PR, which adds witness checking as well.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467330180' id='476989'>
<a class='timestamp' href='#476989'><time timestamp='2016-06-30T23:43:00Z'>23:43</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
#8295
<br>
</div>

</div>
</section>

</body>
</html>
