<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2019-12-24
 â€” 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2019-12-24' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:19 UTC</pre>
<pre><a href="/bitcoin-core-dev/2019-11-24">&lt;</a><span class='header'>  December 2019   </span><a href="/bitcoin-core-dev/2020-01-24">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A; <a class="" href="/bitcoin-core-dev/2019-12-01">1</a>  <a class="" href="/bitcoin-core-dev/2019-12-02">2</a>  <a class="" href="/bitcoin-core-dev/2019-12-03">3</a>  <a class="" href="/bitcoin-core-dev/2019-12-04">4</a>  <a class="" href="/bitcoin-core-dev/2019-12-05">5</a>  <a class="" href="/bitcoin-core-dev/2019-12-06">6</a>  <a class="" href="/bitcoin-core-dev/2019-12-07">7</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2019-12-08">8</a>  <a class="" href="/bitcoin-core-dev/2019-12-09">9</a> <a class="" href="/bitcoin-core-dev/2019-12-10">10</a> <a class="" href="/bitcoin-core-dev/2019-12-11">11</a> <a class="" href="/bitcoin-core-dev/2019-12-12">12</a> <a class="" href="/bitcoin-core-dev/2019-12-13">13</a> <a class="" href="/bitcoin-core-dev/2019-12-14">14</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2019-12-15">15</a> <a class="" href="/bitcoin-core-dev/2019-12-16">16</a> <a class="" href="/bitcoin-core-dev/2019-12-17">17</a> <a class="" href="/bitcoin-core-dev/2019-12-18">18</a> <a class="" href="/bitcoin-core-dev/2019-12-19">19</a> <a class="" href="/bitcoin-core-dev/2019-12-20">20</a> <a class="" href="/bitcoin-core-dev/2019-12-21">21</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2019-12-22">22</a> <a class="" href="/bitcoin-core-dev/2019-12-23">23</a> <a class="current" href="/bitcoin-core-dev/2019-12-24">24</a> <a class="" href="/bitcoin-core-dev/2019-12-25">25</a> <a class="" href="/bitcoin-core-dev/2019-12-26">26</a> <a class="" href="/bitcoin-core-dev/2019-12-27">27</a> <a class="" href="/bitcoin-core-dev/2019-12-28">28</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2019-12-29">29</a> <a class="" href="/bitcoin-core-dev/2019-12-30">30</a> <a class="" href="/bitcoin-core-dev/2019-12-31">31</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1577148900' id='688937'>
<a class='timestamp' href='#688937'><time timestamp='2019-12-24T00:55:00Z'>00:55</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] thomcari81 opened pull request #17798: 0.19 (master...0.19) <a href="https://github.com/bitcoin/bitcoin/pull/17798" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/17798</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1577149260' id='688938'>
<a class='timestamp' href='#688938'><time timestamp='2019-12-24T01:01:00Z'>01:01</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] fanquake closed pull request #17798: 0.19 (master...0.19) <a href="https://github.com/bitcoin/bitcoin/pull/17798" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/17798</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1577156220' id='688939'>
<a class='timestamp' href='#688939'><time timestamp='2019-12-24T02:57:00Z'>02:57</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] thomcari81 opened pull request #17799: Create 1 (master...master) <a href="https://github.com/bitcoin/bitcoin/pull/17799" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/17799</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1577156280' id='688940'>
<a class='timestamp' href='#688940'><time timestamp='2019-12-24T02:58:00Z'>02:58</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] fanquake closed pull request #17799: Create 1 (master...master) <a href="https://github.com/bitcoin/bitcoin/pull/17799" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/17799</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1577159220' id='688941'>
<a class='timestamp' href='#688941'><time timestamp='2019-12-24T03:47:00Z'>03:47</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] fanquake opened pull request #17800: random: don&#x27;t special case clock usage on macOS (master...random_macos_clocks) <a href="https://github.com/bitcoin/bitcoin/pull/17800" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/17800</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1577198460' id='688942'>
<a class='timestamp' href='#688942'><time timestamp='2019-12-24T14:41:00Z'>14:41</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] fanquake closed pull request #17055: [0.19] Backport of #15706 (0.19...check-qt-version-0.19) <a href="https://github.com/bitcoin/bitcoin/pull/17055" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/17055</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1577209920' id='688943'>
<a class='timestamp' href='#688943'><time timestamp='2019-12-24T17:52:00Z'>17:52</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
Is there a way to trick functional tests to think that nodes are not connected locally? Like, so that addr is not 127.0.0.1
<br>
</div>

<div class='talk op-msg' data-timestamp='1577210220' id='688944'>
<a class='timestamp' href='#688944'><time timestamp='2019-12-24T17:57:00Z'>17:57</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
gleb: I don&#x27;t know if they&#x27;re checking for 127.0.0.1 specifically, but you can use anything in 127.* and it will work as localhost
<br>
</div>

<div class='talk op-msg' data-timestamp='1577210220' id='688945'>
<a class='timestamp' href='#688945'><time timestamp='2019-12-24T17:57:00Z'>17:57</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
if that doesn&#x27;t work, you can also use your own external IP, and see if it is able to catch that
<br>
</div>

<div class='talk op-msg' data-timestamp='1577210280' id='688946'>
<a class='timestamp' href='#688946'><time timestamp='2019-12-24T17:58:00Z'>17:58</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
No, it&#x27;s like <b>*I need*</b> the node to think that a connection between 2 regtest nodes is not local. So that they see each other as something from the internet
<br>
</div>

<div class='talk op-msg' data-timestamp='1577210340' id='688947'>
<a class='timestamp' href='#688947'><time timestamp='2019-12-24T17:59:00Z'>17:59</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
right, that&#x27;s what I&#x27;m saying -- try giving it 127.0.0.2 to connect to, and see if it believes that&#x27;s not local
<br>
</div>

<div class='talk op-msg' data-timestamp='1577210340' id='688948'>
<a class='timestamp' href='#688948'><time timestamp='2019-12-24T17:59:00Z'>17:59</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
or if your LAN IP is 192.168.1.99, try giving it that
<br>
</div>

<div class='talk op-msg' data-timestamp='1577210340' id='688949'>
<a class='timestamp' href='#688949'><time timestamp='2019-12-24T17:59:00Z'>17:59</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
it will still connect locally but the IP will be different
<br>
</div>

<div class='talk op-msg' data-timestamp='1577210400' id='688950'>
<a class='timestamp' href='#688950'><time timestamp='2019-12-24T18:00:00Z'>18:00</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
(but if it&#x27;s connecting to itself automatically and you don&#x27;t supply the IP, then I&#x27;m not sure)
<br>
</div>

<div class='talk op-msg' data-timestamp='1577212320' id='688951'>
<a class='timestamp' href='#688951'><time timestamp='2019-12-24T18:32:00Z'>18:32</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
gwillen: Thanks. I gave up and tested manually. If you have a bit more time, perhaps looking at the last comment in 16702 would let you know what I want to achieve better, cuz it&#x27;s hard to explain without context. If not -- no worries, at this point I feel like there is no good answer anyway =\
<br>
</div>

<div class='talk op-msg' data-timestamp='1577215560' id='688952'>
<a class='timestamp' href='#688952'><time timestamp='2019-12-24T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
gleb: I do see what you mean (and it turns out that none of my suggestions would work anyway, since all of the addresses I suggested will identify as &quot;local&quot;)
<br>
</div>

<div class='talk op-msg' data-timestamp='1577215560' id='688953'>
<a class='timestamp' href='#688953'><time timestamp='2019-12-24T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
or rather as !routable
<br>
</div>

<div class='talk op-msg' data-timestamp='1577215800' id='688954'>
<a class='timestamp' href='#688954'><time timestamp='2019-12-24T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
I&#x27;m having a little trouble tracing the code you&#x27;re describing because I can&#x27;t find what the thing is that you&#x27;re calling an asmap
<br>
</div>

<div class='talk op-msg' data-timestamp='1577215800' id='688955'>
<a class='timestamp' href='#688955'><time timestamp='2019-12-24T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
I assume that&#x27;s &quot;AS map&quot; but I couldn&#x27;t turn anything up searching
<br>
</div>

<div class='talk op-msg' data-timestamp='1577215860' id='688956'>
<a class='timestamp' href='#688956'><time timestamp='2019-12-24T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
<a href="https://github.com/sipa/asmap" class="link" target="_blank">https://github.com/sipa/asmap</a> ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1577215920' id='688957'>
<a class='timestamp' href='#688957'><time timestamp='2019-12-24T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
where is the codepath in core that deals in those?
<br>
</div>

<div class='talk op-msg' data-timestamp='1577215920' id='688958'>
<a class='timestamp' href='#688958'><time timestamp='2019-12-24T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
(also thanks)
<br>
</div>

<div class='talk op-msg' data-timestamp='1577216580' id='688959'>
<a class='timestamp' href='#688959'><time timestamp='2019-12-24T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gwillen: #16702
<br>
</div>

<div class='talk op-msg' data-timestamp='1577216580' id='688960'>
<a class='timestamp' href='#688960'><time timestamp='2019-12-24T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/16702" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/16702</a> | p2p: supplying and using asmap to improve IP bucketing in addrman by naumenkogs . Pull Request #16702 . bitcoin/bitcoin . GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1577227980' id='688961'>
<a class='timestamp' href='#688961'><time timestamp='2019-12-24T22:53:00Z'>22:53</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
oh, it was new in the PR, that&#x27;s why I couldn&#x27;t find it. XD thanks.
<br>
</div>

<div class='talk op-msg' data-timestamp='1577230680' id='688962'>
<a class='timestamp' href='#688962'><time timestamp='2019-12-24T23:38:00Z'>23:38</time></a>
&lt;<span class='nick nick-4'> pinheadmz</span>&gt;
gleb: is there any sense in &quot;allowing&quot; local connections in regtest mode only? you&#x27;d still have to shim in a ASN number for 127.0.0.1 ...
<br>
</div>

<div class='talk op-msg' data-timestamp='1577230860' id='688963'>
<a class='timestamp' href='#688963'><time timestamp='2019-12-24T23:41:00Z'>23:41</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
pinheadmz: I&#x27;m not sure what you&#x27;re asking. But it seems like you agree that testing this behaviour is too complicated that we probably can omit it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1577231040' id='688964'>
<a class='timestamp' href='#688964'><time timestamp='2019-12-24T23:44:00Z'>23:44</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
pinheadmz: it seems like you&#x27;d have to shim multiple ones, to test meaningfully
<br>
</div>

<div class='talk op-msg' data-timestamp='1577231100' id='688965'>
<a class='timestamp' href='#688965'><time timestamp='2019-12-24T23:45:00Z'>23:45</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
but I guess you could do that with a fake asmap data file
<br>
</div>

<div class='talk op-msg' data-timestamp='1577231100' id='688966'>
<a class='timestamp' href='#688966'><time timestamp='2019-12-24T23:45:00Z'>23:45</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
in the code, you would just need to disable the check for local addresses for testing
<br>
</div>

<div class='talk op-msg' data-timestamp='1577231100' id='688967'>
<a class='timestamp' href='#688967'><time timestamp='2019-12-24T23:45:00Z'>23:45</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
and it does make <u>_some_</u> sense to just remove all the nonroutable checks in regtest, potentially
<br>
</div>

<div class='talk op-msg' data-timestamp='1577231700' id='688968'>
<a class='timestamp' href='#688968'><time timestamp='2019-12-24T23:55:00Z'>23:55</time></a>
&lt;<span class='nick nick-4'> pinheadmz</span>&gt;
yeah agreed, and the rpc output isnt the point of the PR anyway :-)
<br>
</div>

</div>
</section>

</body>
</html>
