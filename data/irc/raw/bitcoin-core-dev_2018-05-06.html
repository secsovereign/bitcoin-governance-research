<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2018-05-06
 — 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2018-05-06' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:22 UTC</pre>
<pre><a href="/bitcoin-core-dev/2018-04-06">&lt;</a><span class='header'>     May 2018     </span><a href="/bitcoin-core-dev/2018-06-06">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;       <a class="" href="/bitcoin-core-dev/2018-05-01">1</a>  <a class="" href="/bitcoin-core-dev/2018-05-02">2</a>  <a class="" href="/bitcoin-core-dev/2018-05-03">3</a>  <a class="" href="/bitcoin-core-dev/2018-05-04">4</a>  <a class="" href="/bitcoin-core-dev/2018-05-05">5</a>  &#x000A; <a class="current" href="/bitcoin-core-dev/2018-05-06">6</a>  <a class="" href="/bitcoin-core-dev/2018-05-07">7</a>  <a class="" href="/bitcoin-core-dev/2018-05-08">8</a>  <a class="" href="/bitcoin-core-dev/2018-05-09">9</a> <a class="" href="/bitcoin-core-dev/2018-05-10">10</a> <a class="" href="/bitcoin-core-dev/2018-05-11">11</a> <a class="" href="/bitcoin-core-dev/2018-05-12">12</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2018-05-13">13</a> <a class="" href="/bitcoin-core-dev/2018-05-14">14</a> <a class="" href="/bitcoin-core-dev/2018-05-15">15</a> <a class="" href="/bitcoin-core-dev/2018-05-16">16</a> <a class="" href="/bitcoin-core-dev/2018-05-17">17</a> <a class="" href="/bitcoin-core-dev/2018-05-18">18</a> <a class="" href="/bitcoin-core-dev/2018-05-19">19</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2018-05-20">20</a> <a class="" href="/bitcoin-core-dev/2018-05-21">21</a> <a class="" href="/bitcoin-core-dev/2018-05-22">22</a> <a class="" href="/bitcoin-core-dev/2018-05-23">23</a> <a class="" href="/bitcoin-core-dev/2018-05-24">24</a> <a class="" href="/bitcoin-core-dev/2018-05-25">25</a> <a class="" href="/bitcoin-core-dev/2018-05-26">26</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2018-05-27">27</a> <a class="" href="/bitcoin-core-dev/2018-05-28">28</a> <a class="" href="/bitcoin-core-dev/2018-05-29">29</a> <a class="" href="/bitcoin-core-dev/2018-05-30">30</a> <a class="" href="/bitcoin-core-dev/2018-05-31">31</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1525585800' id='611513'>
<a class='timestamp' href='#611513'><time timestamp='2018-05-06T05:50:00Z'>05:50</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
Anyone want to throw an ACK onto #13093, pretty trivial backport to get 0.15 Qt depends building again on macOS
<br>
</div>

<div class='talk op-msg' data-timestamp='1525585800' id='611514'>
<a class='timestamp' href='#611514'><time timestamp='2018-05-06T05:50:00Z'>05:50</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/13093" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/13093</a> | [0.15] backport: depends qt patches by fanquake · Pull Request #13093 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1525599360' id='611515'>
<a class='timestamp' href='#611515'><time timestamp='2018-05-06T09:36:00Z'>09:36</time></a>
&lt;<span class='nick nick-8'> murrayn</span>&gt;
utACK, I&#x27;m not able to test it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1525600440' id='611516'>
<a class='timestamp' href='#611516'><time timestamp='2018-05-06T09:54:00Z'>09:54</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
#13160 &lt;- is this considered bug fix? also backport? needs release note?
<br>
</div>

<div class='talk op-msg' data-timestamp='1525600440' id='611517'>
<a class='timestamp' href='#611517'><time timestamp='2018-05-06T09:54:00Z'>09:54</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/13160" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/13160</a> | Unlock spent outputs by promag · Pull Request #13160 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1525608960' id='611518'>
<a class='timestamp' href='#611518'><time timestamp='2018-05-06T12:16:00Z'>12:16</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] martinus opened pull request #13176: Improve CRollingBloomFilter performance: replace modulus with FastMod (master...optimize-CRollingBloomFilter) <a href="https://github.com/bitcoin/bitcoin/pull/13176" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/13176</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1525617060' id='611519'>
<a class='timestamp' href='#611519'><time timestamp='2018-05-06T14:31:00Z'>14:31</time></a>
&lt;<span class='nick nick-10'> booyah</span>&gt;
-Copyright (C) 2009-2017 The Bitcoin developers
<br>
</div>

<div class='talk op-msg' data-timestamp='1525617060' id='611520'>
<a class='timestamp' href='#611520'><time timestamp='2018-05-06T14:31:00Z'>14:31</time></a>
&lt;<span class='nick nick-10'> booyah</span>&gt;
-Copyright (C) 2009-2017 The Bitcoin Core developers
<br>
</div>

<div class='talk op-msg' data-timestamp='1525617060' id='611521'>
<a class='timestamp' href='#611521'><time timestamp='2018-05-06T14:31:00Z'>14:31</time></a>
&lt;<span class='nick nick-10'> booyah</span>&gt;
+Copyright (C) 2009-2018 The Bitcoin developers
<br>
</div>

<div class='talk op-msg' data-timestamp='1525617060' id='611522'>
<a class='timestamp' href='#611522'><time timestamp='2018-05-06T14:31:00Z'>14:31</time></a>
&lt;<span class='nick nick-10'> booyah</span>&gt;
just fyi.  in other project. in  <a href="https://github.com/Bitcoin-ABC/bitcoin-abc/commit/d29d325e97eeff3feac456d1014e00d5d697fe9f#diff-9e9f66b5b2833c022b0408b81a17cfd9R516" class="link" target="_blank">https://github.com/Bitcoin-ABC/bitcoin-abc/commit/d29d325e97eeff3feac456d1014e00d5d697fe9f#diff-9e9f66b5b2833c022b0408b81a17cfd9R516</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1525619700' id='611523'>
<a class='timestamp' href='#611523'><time timestamp='2018-05-06T15:15:00Z'>15:15</time></a>
&lt;<span class='nick nick-12'> jojeyh</span>&gt;
am i correct in assuming that the &quot;bestblock&quot; field in the output from `bitcoin-cli gettxout` is the block hash of the block that includes the &quot;txid&quot; passed into the argument ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1525619760' id='611524'>
<a class='timestamp' href='#611524'><time timestamp='2018-05-06T15:16:00Z'>15:16</time></a>
&lt;<span class='nick nick-12'> jojeyh</span>&gt;
if i am, i think something is wrong
<br>
</div>

<div class='talk op-msg' data-timestamp='1525619880' id='611525'>
<a class='timestamp' href='#611525'><time timestamp='2018-05-06T15:18:00Z'>15:18</time></a>
&lt;<span class='nick nick-12'> jojeyh</span>&gt;
the block hash printed out does not match the block where the txid is
<br>
</div>

<div class='talk op-msg' data-timestamp='1525622400' id='611526'>
<a class='timestamp' href='#611526'><time timestamp='2018-05-06T16:00:00Z'>16:00</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
fanquake: done. You may return the favor by testing #12404 :-)
<br>
</div>

<div class='talk op-msg' data-timestamp='1525622400' id='611527'>
<a class='timestamp' href='#611527'><time timestamp='2018-05-06T16:00:00Z'>16:00</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/12404" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/12404</a> | Prune more aggressively during IBD by Sjors · Pull Request #12404 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1525622460' id='611528'>
<a class='timestamp' href='#611528'><time timestamp='2018-05-06T16:01:00Z'>16:01</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
I also got the bright idea of making my ccache larger (~/.ccache/ccache.conf) and moving it to my SSD drive...
<br>
</div>

<div class='talk op-msg' data-timestamp='1525622940' id='611529'>
<a class='timestamp' href='#611529'><time timestamp='2018-05-06T16:09:00Z'>16:09</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] ken2812221 opened pull request #13177: GCC-7 and glibc-2.27 compat code (master...compat) <a href="https://github.com/bitcoin/bitcoin/pull/13177" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/13177</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1525634040' id='611530'>
<a class='timestamp' href='#611530'><time timestamp='2018-05-06T19:14:00Z'>19:14</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] donaloconnor opened pull request #13180: Fix re-declared scoped enum as unscoped (Causes issues with some compilers) (master...06052018_unscoped_enum) <a href="https://github.com/bitcoin/bitcoin/pull/13180" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/13180</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1525635120' id='611531'>
<a class='timestamp' href='#611531'><time timestamp='2018-05-06T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Am I correct that during IBD the bulk of random read/write disk activity is for /blocks/index and /chainstate? Whereas /blocks gets written in larger batches?
<br>
</div>

<div class='talk op-msg' data-timestamp='1525635240' id='611532'>
<a class='timestamp' href='#611532'><time timestamp='2018-05-06T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
eh     
<br>
</div>

<div class='talk op-msg' data-timestamp='1525635300' id='611533'>
<a class='timestamp' href='#611533'><time timestamp='2018-05-06T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Totally wrong?
<br>
</div>

<div class='talk op-msg' data-timestamp='1525635300' id='611534'>
<a class='timestamp' href='#611534'><time timestamp='2018-05-06T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
blocks are written to more frequently (every block), where index/chainstate only when the cache fills up
<br>
</div>

<div class='talk op-msg' data-timestamp='1525635300' id='611535'>
<a class='timestamp' href='#611535'><time timestamp='2018-05-06T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
blocks and index are generally never read
<br>
</div>

<div class='talk op-msg' data-timestamp='1525635360' id='611536'>
<a class='timestamp' href='#611536'><time timestamp='2018-05-06T19:36:00Z'>19:36</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
(blocks are read for rescan and serving to peers; index is only read at startup)
<br>
</div>

<div class='talk op-msg' data-timestamp='1525635360' id='611537'>
<a class='timestamp' href='#611537'><time timestamp='2018-05-06T19:36:00Z'>19:36</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
chainstate is read/write and sorta random access, due to leveldb most of the writes are sequential
<br>
</div>

<div class='talk op-msg' data-timestamp='1525635480' id='611538'>
<a class='timestamp' href='#611538'><time timestamp='2018-05-06T19:38:00Z'>19:38</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
For context, I&#x27;m trying to figure what the ultimate IBD EC2 instance would look like, in order to produce a small pruned result, which I would then copy to a low-end machine. Particularly what needs a RAM drive.
<br>
</div>

<div class='talk op-msg' data-timestamp='1525635540' id='611539'>
<a class='timestamp' href='#611539'><time timestamp='2018-05-06T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
much RAM
<br>
</div>

<div class='talk op-msg' data-timestamp='1525635600' id='611540'>
<a class='timestamp' href='#611540'><time timestamp='2018-05-06T19:40:00Z'>19:40</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
run with large dbcache
<br>
</div>

<div class='talk op-msg' data-timestamp='1525635600' id='611541'>
<a class='timestamp' href='#611541'><time timestamp='2018-05-06T19:40:00Z'>19:40</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
if your dbcache is 6G or so, there are no ransom access reads or weites at all
<br>
</div>

<div class='talk op-msg' data-timestamp='1525635660' id='611542'>
<a class='timestamp' href='#611542'><time timestamp='2018-05-06T19:41:00Z'>19:41</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
The x1e.2xlarge has 244 GB RAM, so I can store the whole chain. But if &gt; 6 GB has extremely dimishing returns I&#x27;d rather get more CPU&#x27;s probably.
<br>
</div>

<div class='talk op-msg' data-timestamp='1525635780' id='611543'>
<a class='timestamp' href='#611543'><time timestamp='2018-05-06T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yes     
<br>
</div>

<div class='talk op-msg' data-timestamp='1525635780' id='611544'>
<a class='timestamp' href='#611544'><time timestamp='2018-05-06T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
get 8G or so
<br>
</div>

<div class='talk op-msg' data-timestamp='1525635780' id='611545'>
<a class='timestamp' href='#611545'><time timestamp='2018-05-06T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
storing the chain itself in RAM is useless
<br>
</div>

<div class='talk op-msg' data-timestamp='1525635780' id='611546'>
<a class='timestamp' href='#611546'><time timestamp='2018-05-06T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it&#x27;s not accessed during sync
<br>
</div>

<div class='talk op-msg' data-timestamp='1525636080' id='611547'>
<a class='timestamp' href='#611547'><time timestamp='2018-05-06T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Has anyone ever plotted IBD vs. number of CPU&#x27;s? I assume that flattens off at some point. EC2 can do up 72 CPUs :-)
<br>
</div>

<div class='talk op-msg' data-timestamp='1525636080' id='611548'>
<a class='timestamp' href='#611548'><time timestamp='2018-05-06T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
bitcoin core won&#x27;t even use more than 16
<br>
</div>

<div class='talk op-msg' data-timestamp='1525636080' id='611549'>
<a class='timestamp' href='#611549'><time timestamp='2018-05-06T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
lock contention because worse than the gains
<br>
</div>

<div class='talk op-msg' data-timestamp='1525636140' id='611550'>
<a class='timestamp' href='#611550'><time timestamp='2018-05-06T19:49:00Z'>19:49</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i doubt it matters much if you use more than 8
<br>
</div>

<div class='talk op-msg' data-timestamp='1525636560' id='611551'>
<a class='timestamp' href='#611551'><time timestamp='2018-05-06T19:56:00Z'>19:56</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
And it doesn&#x27;t use GPU, right?
<br>
</div>

<div class='talk op-msg' data-timestamp='1525636620' id='611552'>
<a class='timestamp' href='#611552'><time timestamp='2018-05-06T19:57:00Z'>19:57</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
nope
<br>
</div>

<div class='talk op-msg' data-timestamp='1525636800' id='611553'>
<a class='timestamp' href='#611553'><time timestamp='2018-05-06T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
But a local SSD drive might? Alright, I picked four machine with 8 CPU&#x27;s each and some differences otherwise: t2.2xlarge, m5.2xlarge, c5.2xlarge and i3.2xlarge. I&#x27;ll let them race eachother tonight...
<br>
</div>

<div class='talk op-msg' data-timestamp='1525636800' id='611554'>
<a class='timestamp' href='#611554'><time timestamp='2018-05-06T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
if your dbcache is big enough, disk doesn&#x27;t matter at all
<br>
</div>

<div class='talk op-msg' data-timestamp='1525636860' id='611555'>
<a class='timestamp' href='#611555'><time timestamp='2018-05-06T20:01:00Z'>20:01</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
you&#x27;re configuring dbcache as large as possible on each?
<br>
</div>

<div class='talk op-msg' data-timestamp='1525636860' id='611556'>
<a class='timestamp' href='#611556'><time timestamp='2018-05-06T20:01:00Z'>20:01</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Oh ok, I&#x27;ll stick to the first three then (with massive dbcache).
<br>
</div>

<div class='talk op-msg' data-timestamp='1525636860' id='611557'>
<a class='timestamp' href='#611557'><time timestamp='2018-05-06T20:01:00Z'>20:01</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it won&#x27;t automatically use more than 450M unless instructed
<br>
</div>

<div class='talk op-msg' data-timestamp='1525636860' id='611558'>
<a class='timestamp' href='#611558'><time timestamp='2018-05-06T20:01:00Z'>20:01</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
numbers would be interesting, though
<br>
</div>

<div class='talk op-msg' data-timestamp='1525636920' id='611559'>
<a class='timestamp' href='#611559'><time timestamp='2018-05-06T20:02:00Z'>20:02</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Any branch other than master you&#x27;re interested in?
<br>
</div>

<div class='talk op-msg' data-timestamp='1525636980' id='611560'>
<a class='timestamp' href='#611560'><time timestamp='2018-05-06T20:03:00Z'>20:03</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
if dbcache is not sufficiently large to fit the entire sync in ram, random access read speed of disk does start mattering
<br>
</div>

<div class='talk op-msg' data-timestamp='1525637040' id='611561'>
<a class='timestamp' href='#611561'><time timestamp='2018-05-06T20:04:00Z'>20:04</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
These machines all have about 60 GB of RAM, so I&#x27;ll set -dbcache=50000
<br>
</div>

<div class='talk op-msg' data-timestamp='1525637340' id='611562'>
<a class='timestamp' href='#611562'><time timestamp='2018-05-06T20:09:00Z'>20:09</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
When I did my benchmarking last year I never ticked the &quot;allow burst above baseline&quot; options, so I probably got nowhere near max CPU performance.
<br>
</div>

<div class='talk op-msg' data-timestamp='1525637400' id='611563'>
<a class='timestamp' href='#611563'><time timestamp='2018-05-06T20:10:00Z'>20:10</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
provoostenator: EC2 has terrible terrible terrible IO latency in general.
<br>
</div>

<div class='talk op-msg' data-timestamp='1525637400' id='611564'>
<a class='timestamp' href='#611564'><time timestamp='2018-05-06T20:10:00Z'>20:10</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
and it slaughters performance unless your dbcache is big enough for the whole UTXO set (perhaps around 6GB or so)
<br>
</div>

<div class='talk op-msg' data-timestamp='1525637400' id='611565'>
<a class='timestamp' href='#611565'><time timestamp='2018-05-06T20:10:00Z'>20:10</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(similar for most other VPS providers)
<br>
</div>

<div class='talk op-msg' data-timestamp='1525637400' id='611566'>
<a class='timestamp' href='#611566'><time timestamp='2018-05-06T20:10:00Z'>20:10</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Amazon seems to assume that most applications only need short CPU burst and so they make you &quot;save&quot; credits for these incidental burst. But obviously IBD is bit more intense.
<br>
</div>

<div class='talk op-msg' data-timestamp='1525637520' id='611567'>
<a class='timestamp' href='#611567'><time timestamp='2018-05-06T20:12:00Z'>20:12</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
I used -dbcache=8000 back then <a href="https://medium.com/provoost-on-crypto/historical-bitcoin-core-client-performance-c5f16e1f8ccb" class="link" target="_blank">https://medium.com/provoost-on-crypto/historical-bitcoin-core-client-performance-c5f16e1f8ccb</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1525637520' id='611568'>
<a class='timestamp' href='#611568'><time timestamp='2018-05-06T20:12:00Z'>20:12</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
well verify that it isn&#x27;t actually flushing
<br>
</div>

<div class='talk op-msg' data-timestamp='1525637520' id='611569'>
<a class='timestamp' href='#611569'><time timestamp='2018-05-06T20:12:00Z'>20:12</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
How do I reduce the log output to only show flushes?
<br>
</div>

<div class='talk op-msg' data-timestamp='1525637520' id='611570'>
<a class='timestamp' href='#611570'><time timestamp='2018-05-06T20:12:00Z'>20:12</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
(you&#x27;ll see the cache size field in the UodateTip line drop to ~0)
<br>
</div>

<div class='talk op-msg' data-timestamp='1525637580' id='611571'>
<a class='timestamp' href='#611571'><time timestamp='2018-05-06T20:13:00Z'>20:13</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
you can tell from the updatetip lies.
<br>
</div>

<div class='talk op-msg' data-timestamp='1525637580' id='611572'>
<a class='timestamp' href='#611572'><time timestamp='2018-05-06T20:13:00Z'>20:13</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
er lines
<br>
</div>

<div class='talk op-msg' data-timestamp='1525637580' id='611573'>
<a class='timestamp' href='#611573'><time timestamp='2018-05-06T20:13:00Z'>20:13</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
:-)     
<br>
</div>

<div class='talk op-msg' data-timestamp='1525637700' id='611574'>
<a class='timestamp' href='#611574'><time timestamp='2018-05-06T20:15:00Z'>20:15</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
(sorrry for typos, in a plane, bad lag)
<br>
</div>

<div class='talk op-msg' data-timestamp='1525639020' id='611575'>
<a class='timestamp' href='#611575'><time timestamp='2018-05-06T20:37:00Z'>20:37</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Clock started at 20:30 UTC. The t2.2xlarge just crossed the 200K block line and is slightly ahead of the other two.
<br>
</div>

<div class='talk op-msg' data-timestamp='1525639080' id='611576'>
<a class='timestamp' href='#611576'><time timestamp='2018-05-06T20:38:00Z'>20:38</time></a>
&lt;<span class='nick nick-7'> spudowiar</span>&gt;
provoostenator: Do one with Bitcoin-ABC :P
<br>
</div>

<div class='talk op-msg' data-timestamp='1525639080' id='611577'>
<a class='timestamp' href='#611577'><time timestamp='2018-05-06T20:38:00Z'>20:38</time></a>
&lt;<span class='nick nick-7'> spudowiar</span>&gt;
I would say do Ethereum but... :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1525639200' id='611578'>
<a class='timestamp' href='#611578'><time timestamp='2018-05-06T20:40:00Z'>20:40</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Someone else is welcome to do that. Apparantly Etherehum is cloud resistant, according to a recent Noded podcast with Jameson Lopp. Due to relatively heavy I/O, if you fully validate.
<br>
</div>

<div class='talk op-msg' data-timestamp='1525639260' id='611579'>
<a class='timestamp' href='#611579'><time timestamp='2018-05-06T20:41:00Z'>20:41</time></a>
&lt;<span class='nick nick-7'> spudowiar</span>&gt;
Apparently Ethereum is validation-resistant
<br>
</div>

<div class='talk op-msg' data-timestamp='1525639260' id='611580'>
<a class='timestamp' href='#611580'><time timestamp='2018-05-06T20:41:00Z'>20:41</time></a>
&lt;<span class='nick nick-7'> spudowiar</span>&gt;
I wonder how Anduck&#x27;s sync is getting on
<br>
</div>

<div class='talk op-msg' data-timestamp='1525639320' id='611581'>
<a class='timestamp' href='#611581'><time timestamp='2018-05-06T20:42:00Z'>20:42</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
he gave up afaik, but this is getting pretty off topic
<br>
</div>

<div class='talk op-msg' data-timestamp='1525639320' id='611582'>
<a class='timestamp' href='#611582'><time timestamp='2018-05-06T20:42:00Z'>20:42</time></a>
&lt;<span class='nick nick-5'> * spudowiar</span>&gt;
is a bad influence :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1525639320' id='611583'>
<a class='timestamp' href='#611583'><time timestamp='2018-05-06T20:42:00Z'>20:42</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Indeed, I&#x27;ll post the result tomorrow morning.
<br>
</div>

<div class='talk op-msg' data-timestamp='1525639500' id='611584'>
<a class='timestamp' href='#611584'><time timestamp='2018-05-06T20:45:00Z'>20:45</time></a>
&lt;<span class='nick nick-7'> spudowiar</span>&gt;
provoostenator: There&#x27;s no networking difference between instances, is there?
<br>
</div>

<div class='talk op-msg' data-timestamp='1525639620' id='611585'>
<a class='timestamp' href='#611585'><time timestamp='2018-05-06T20:47:00Z'>20:47</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
I don&#x27;t think networking is a bottleneck with these machines, but it could explain small differences in the beginning. Things don&#x27;t get interesting until ~2015 when the UTXO set grows.
<br>
</div>

<div class='talk op-msg' data-timestamp='1525640160' id='611586'>
<a class='timestamp' href='#611586'><time timestamp='2018-05-06T20:56:00Z'>20:56</time></a>
&lt;<span class='nick nick-13'> Anduck</span>&gt;
spudowiar: my machine ran out of space for non-pruned eth sync, got frustrated and haven&#x27;t since done it again. it synced at some pace (my estimation is 4-5 weeks for full sync) with 3x ssd in raid0, with hdd would be impossible.
<br>
</div>

<div class='talk op-msg' data-timestamp='1525640220' id='611587'>
<a class='timestamp' href='#611587'><time timestamp='2018-05-06T20:57:00Z'>20:57</time></a>
&lt;<span class='nick nick-7'> spudowiar</span>&gt;
nice
<br>
</div>

<div class='talk op-msg' data-timestamp='1525640220' id='611588'>
<a class='timestamp' href='#611588'><time timestamp='2018-05-06T20:57:00Z'>20:57</time></a>
&lt;<span class='nick nick-13'> Anduck</span>&gt;
this is the 2nd test. initial one i gave up as it was clearly impossible to never get it synced
<br>
</div>

<div class='talk op-msg' data-timestamp='1525640520' id='611589'>
<a class='timestamp' href='#611589'><time timestamp='2018-05-06T21:02:00Z'>21:02</time></a>
&lt;<span class='nick nick-12'> jojeyh</span>&gt;
i had to stop running an eth node cuz it made my laptop completely unusable
<br>
</div>

<div class='talk op-msg' data-timestamp='1525642560' id='611590'>
<a class='timestamp' href='#611590'><time timestamp='2018-05-06T21:36:00Z'>21:36</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
provoostenator, you cant actually fully validate ethereum anymore
<br>
</div>

<div class='talk op-msg' data-timestamp='1525642620' id='611591'>
<a class='timestamp' href='#611591'><time timestamp='2018-05-06T21:37:00Z'>21:37</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
there&#x27;s a stretch of blocks which are effectively impossible to validate on anything
<br>
</div>

<div class='talk op-msg' data-timestamp='1525642620' id='611592'>
<a class='timestamp' href='#611592'><time timestamp='2018-05-06T21:37:00Z'>21:37</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
besides they just make up the rules randomly anyways
<br>
</div>

<div class='talk op-msg' data-timestamp='1525642740' id='611593'>
<a class='timestamp' href='#611593'><time timestamp='2018-05-06T21:39:00Z'>21:39</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
phantomcircuit: let&#x27;s not go too far off topic. I&#x27;ll post the result here, but unless there&#x27;s a PR that can improve it, this is probably not the right place.
<br>
</div>

<div class='talk op-msg' data-timestamp='1525642980' id='611594'>
<a class='timestamp' href='#611594'><time timestamp='2018-05-06T21:43:00Z'>21:43</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Just created #blockchain-sync, let&#x27;s move there.
<br>
</div>

<div class='talk op-msg' data-timestamp='1525643340' id='611595'>
<a class='timestamp' href='#611595'><time timestamp='2018-05-06T21:49:00Z'>21:49</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] donaloconnor closed pull request #13180: Fix re-declared scoped enum as unscoped (Causes issues with some compilers) (master...06052018_unscoped_enum) <a href="https://github.com/bitcoin/bitcoin/pull/13180" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/13180</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1525643520' id='611596'>
<a class='timestamp' href='#611596'><time timestamp='2018-05-06T21:52:00Z'>21:52</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] donaloconnor reopened pull request #13180: Fix re-declared scoped enum as unscoped (Causes issues with some compilers) (master...06052018_unscoped_enum) <a href="https://github.com/bitcoin/bitcoin/pull/13180" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/13180</a>
<br>
</div>

</div>
</section>

</body>
</html>
