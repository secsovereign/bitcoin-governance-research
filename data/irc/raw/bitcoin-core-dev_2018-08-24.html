<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2018-08-24
 — 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2018-08-24' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:21 UTC</pre>
<pre><a href="/bitcoin-core-dev/2018-07-24">&lt;</a><span class='header'>   August 2018    </span><a href="/bitcoin-core-dev/2018-09-24">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;          <a class="" href="/bitcoin-core-dev/2018-08-01">1</a>  <a class="" href="/bitcoin-core-dev/2018-08-02">2</a>  <a class="" href="/bitcoin-core-dev/2018-08-03">3</a>  <a class="" href="/bitcoin-core-dev/2018-08-04">4</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2018-08-05">5</a>  <a class="" href="/bitcoin-core-dev/2018-08-06">6</a>  <a class="" href="/bitcoin-core-dev/2018-08-07">7</a>  <a class="" href="/bitcoin-core-dev/2018-08-08">8</a>  <a class="" href="/bitcoin-core-dev/2018-08-09">9</a> <a class="" href="/bitcoin-core-dev/2018-08-10">10</a> <a class="" href="/bitcoin-core-dev/2018-08-11">11</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2018-08-12">12</a> <a class="" href="/bitcoin-core-dev/2018-08-13">13</a> <a class="" href="/bitcoin-core-dev/2018-08-14">14</a> <a class="" href="/bitcoin-core-dev/2018-08-15">15</a> <a class="" href="/bitcoin-core-dev/2018-08-16">16</a> <a class="" href="/bitcoin-core-dev/2018-08-17">17</a> <a class="" href="/bitcoin-core-dev/2018-08-18">18</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2018-08-19">19</a> <a class="" href="/bitcoin-core-dev/2018-08-20">20</a> <a class="" href="/bitcoin-core-dev/2018-08-21">21</a> <a class="" href="/bitcoin-core-dev/2018-08-22">22</a> <a class="" href="/bitcoin-core-dev/2018-08-23">23</a> <a class="current" href="/bitcoin-core-dev/2018-08-24">24</a> <a class="" href="/bitcoin-core-dev/2018-08-25">25</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2018-08-26">26</a> <a class="" href="/bitcoin-core-dev/2018-08-27">27</a> <a class="" href="/bitcoin-core-dev/2018-08-28">28</a> <a class="" href="/bitcoin-core-dev/2018-08-29">29</a> <a class="" href="/bitcoin-core-dev/2018-08-30">30</a> <a class="" href="/bitcoin-core-dev/2018-08-31">31</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1535084220' id='627015'>
<a class='timestamp' href='#627015'><time timestamp='2018-08-24T04:17:00Z'>04:17</time></a>
&lt;<span class='nick nick-13'> ken2812221</span>&gt;
Is there any existing document that teach us how to add new source files?
<br>
</div>

<div class='talk op-msg' data-timestamp='1535084400' id='627016'>
<a class='timestamp' href='#627016'><time timestamp='2018-08-24T04:20:00Z'>04:20</time></a>
&lt;<span class='nick nick-13'> ken2812221</span>&gt;
I think I can add those for MSVC.
<br>
</div>

<div class='talk op-msg' data-timestamp='1535099160' id='627017'>
<a class='timestamp' href='#627017'><time timestamp='2018-08-24T08:26:00Z'>08:26</time></a>
&lt;<span class='nick nick-14'> * luke-jr</span>&gt;
wonders why gitian builds seem to ignore cached depends sometimes
<br>
</div>

<div class='talk op-msg' data-timestamp='1535117820' id='627018'>
<a class='timestamp' href='#627018'><time timestamp='2018-08-24T13:37:00Z'>13:37</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
luke-jr: rc2 required rebuilding qt to fix determinism. Is that what you&#x27;re seeing?
<br>
</div>

<div class='talk op-msg' data-timestamp='1535117880' id='627019'>
<a class='timestamp' href='#627019'><time timestamp='2018-08-24T13:38:00Z'>13:38</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
jonasschnelli: macOS detached signature reminder :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1535120220' id='627020'>
<a class='timestamp' href='#627020'><time timestamp='2018-08-24T14:17:00Z'>14:17</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
ken2812221: A new section in developer notes?
<br>
</div>

<div class='talk op-msg' data-timestamp='1535120460' id='627021'>
<a class='timestamp' href='#627021'><time timestamp='2018-08-24T14:21:00Z'>14:21</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
cfields: I&#x27;m seeing all the deps being rebuilt for basically the same commit
<br>
</div>

<div class='talk op-msg' data-timestamp='1535121540' id='627022'>
<a class='timestamp' href='#627022'><time timestamp='2018-08-24T14:39:00Z'>14:39</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
cfields: oh. One sec
<br>
</div>

<div class='talk op-msg' data-timestamp='1535121840' id='627023'>
<a class='timestamp' href='#627023'><time timestamp='2018-08-24T14:44:00Z'>14:44</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
luke-jr: hmm, yea, that&#x27;s not right
<br>
</div>

<div class='talk op-msg' data-timestamp='1535121900' id='627024'>
<a class='timestamp' href='#627024'><time timestamp='2018-08-24T14:45:00Z'>14:45</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
cfields: done -&gt; <a href="https://github.com/bitcoin-core/bitcoin-detached-sigs/pull/11" class="link" target="_blank">https://github.com/bitcoin-core/bitcoin-detached-sigs/pull/11</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1535121900' id='627025'>
<a class='timestamp' href='#627025'><time timestamp='2018-08-24T14:45:00Z'>14:45</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
cfields: is there any way to get debug output to see why it&#x27;s not using the cached builds?
<br>
</div>

<div class='talk op-msg' data-timestamp='1535121900' id='627026'>
<a class='timestamp' href='#627026'><time timestamp='2018-08-24T14:45:00Z'>14:45</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
jonasschnelli: thanks!
<br>
</div>

<div class='talk op-msg' data-timestamp='1535121960' id='627027'>
<a class='timestamp' href='#627027'><time timestamp='2018-08-24T14:46:00Z'>14:46</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
luke-jr: sure, but gitian makes it kinda tough. Can you drop to a shell in the builder?
<br>
</div>

<div class='talk op-msg' data-timestamp='1535122020' id='627028'>
<a class='timestamp' href='#627028'><time timestamp='2018-08-24T14:47:00Z'>14:47</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
luke-jr: first thing, try building one more time and seeing if it happens again
<br>
</div>

<div class='talk op-msg' data-timestamp='1535122020' id='627029'>
<a class='timestamp' href='#627029'><time timestamp='2018-08-24T14:47:00Z'>14:47</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
IIRC bionic&#x27;s glibc was updated this/last week, so that might&#x27;ve triggered it
<br>
</div>

<div class='talk op-msg' data-timestamp='1535122140' id='627030'>
<a class='timestamp' href='#627030'><time timestamp='2018-08-24T14:49:00Z'>14:49</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
oh
<br>
</div>

<div class='talk op-msg' data-timestamp='1535122320' id='627031'>
<a class='timestamp' href='#627031'><time timestamp='2018-08-24T14:52:00Z'>14:52</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
pretty sure I&#x27;ve seen it multiple times in the last few days, but I haven&#x27;t been watching closely enough to be sure
<br>
</div>

<div class='talk op-msg' data-timestamp='1535122320' id='627032'>
<a class='timestamp' href='#627032'><time timestamp='2018-08-24T14:52:00Z'>14:52</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
(depends does something like COMPILER_SEED=`$CC --version --verbose`
<br>
</div>

<div class='talk op-msg' data-timestamp='1535122320' id='627033'>
<a class='timestamp' href='#627033'><time timestamp='2018-08-24T14:52:00Z'>14:52</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
so I&#x27;ll do a few more just in case
<br>
</div>

<div class='talk op-msg' data-timestamp='1535122320' id='627034'>
<a class='timestamp' href='#627034'><time timestamp='2018-08-24T14:52:00Z'>14:52</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
)
<br>
</div>

<div class='talk op-msg' data-timestamp='1535122320' id='627035'>
<a class='timestamp' href='#627035'><time timestamp='2018-08-24T14:52:00Z'>14:52</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
and if it changes, it invalidates all current builds
<br>
</div>

<div class='talk op-msg' data-timestamp='1535122320' id='627036'>
<a class='timestamp' href='#627036'><time timestamp='2018-08-24T14:52:00Z'>14:52</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
ok
<br>
</div>

<div class='talk op-msg' data-timestamp='1535122380' id='627037'>
<a class='timestamp' href='#627037'><time timestamp='2018-08-24T14:53:00Z'>14:53</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
(also, the cache files are replaced with the same filename)
<br>
</div>

<div class='talk op-msg' data-timestamp='1535122380' id='627038'>
<a class='timestamp' href='#627038'><time timestamp='2018-08-24T14:53:00Z'>14:53</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
oh, that&#x27;s weird
<br>
</div>

<div class='talk op-msg' data-timestamp='1535122380' id='627039'>
<a class='timestamp' href='#627039'><time timestamp='2018-08-24T14:53:00Z'>14:53</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
the filename contains the hash of the determined build recipe. So that shouldn&#x27;t be happening.
<br>
</div>

<div class='talk op-msg' data-timestamp='1535122440' id='627040'>
<a class='timestamp' href='#627040'><time timestamp='2018-08-24T14:54:00Z'>14:54</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
maybe some filesystem thing keeps them from sending correctly to the builder?
<br>
</div>

<div class='talk op-msg' data-timestamp='1535122500' id='627041'>
<a class='timestamp' href='#627041'><time timestamp='2018-08-24T14:55:00Z'>14:55</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
no sign of trouble there that I could tell
<br>
</div>

<div class='talk op-msg' data-timestamp='1535122560' id='627042'>
<a class='timestamp' href='#627042'><time timestamp='2018-08-24T14:56:00Z'>14:56</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
hmm
<br>
</div>

<div class='talk op-msg' data-timestamp='1535122620' id='627043'>
<a class='timestamp' href='#627043'><time timestamp='2018-08-24T14:57:00Z'>14:57</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
I have cache/bitcoin-linux-0.17/bitcoin-linux-0.17/, possibly from manual copy-from-target on failures
<br>
</div>

<div class='talk op-msg' data-timestamp='1535122620' id='627044'>
<a class='timestamp' href='#627044'><time timestamp='2018-08-24T14:57:00Z'>14:57</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
it&#x27;s possible since the glibc bump, I&#x27;ve only had failures..
<br>
</div>

<div class='talk op-msg' data-timestamp='1535122620' id='627045'>
<a class='timestamp' href='#627045'><time timestamp='2018-08-24T14:57:00Z'>14:57</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
hmm?
<br>
</div>

<div class='talk op-msg' data-timestamp='1535122680' id='627046'>
<a class='timestamp' href='#627046'><time timestamp='2018-08-24T14:58:00Z'>14:58</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
cfields: when gitian fails, it doesn&#x27;t copy cache changes back to the host; I&#x27;d intended to manually do that, but it&#x27;s possible they ended up in the wrong place
<br>
</div>

<div class='talk op-msg' data-timestamp='1535122680' id='627047'>
<a class='timestamp' href='#627047'><time timestamp='2018-08-24T14:58:00Z'>14:58</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
combined with the glibc update you mentioned, that may explain why it&#x27;s rebuilding every time
<br>
</div>

<div class='talk op-msg' data-timestamp='1535122680' id='627048'>
<a class='timestamp' href='#627048'><time timestamp='2018-08-24T14:58:00Z'>14:58</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
ah, makes sense
<br>
</div>

<div class='talk op-msg' data-timestamp='1535123460' id='627049'>
<a class='timestamp' href='#627049'><time timestamp='2018-08-24T15:11:00Z'>15:11</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
gitian builders: detached sigs for 0.17.0rc2 are up
<br>
</div>

<div class='talk op-msg' data-timestamp='1535123580' id='627050'>
<a class='timestamp' href='#627050'><time timestamp='2018-08-24T15:13:00Z'>15:13</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
fanquake/achow101/jonasschnelli/provoostenator/luke-jr/wumpus/MarcoFalke/fivepiece: ^^
<br>
</div>

<div class='talk op-msg' data-timestamp='1535123580' id='627051'>
<a class='timestamp' href='#627051'><time timestamp='2018-08-24T15:13:00Z'>15:13</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
 /o/
<br>
</div>

<div class='talk op-msg' data-timestamp='1535123640' id='627052'>
<a class='timestamp' href='#627052'><time timestamp='2018-08-24T15:14:00Z'>15:14</time></a>
&lt;<span class='nick nick-16'> MaxHastings_</span>&gt;
Hey. I just have a quick question. Are all the known vulnerabilities for SPV wallets listed here? <a href="https://bitcoin.org/en/developer-guide#simplified-payment-verification-spv" class="link" target="_blank">https://bitcoin.org/en/developer-guide#simplified-payment-verification-spv</a> I&#x27;ve been told on the Bitcoin slack that there are more.
<br>
</div>

<div class='talk op-msg' data-timestamp='1535123880' id='627053'>
<a class='timestamp' href='#627053'><time timestamp='2018-08-24T15:18:00Z'>15:18</time></a>
&lt;<span class='nick nick-7'> as1nc</span>&gt;
Hello guys, just published a 2018 simple guide to set up a bitcoin core node on, feedback really appreciated. <a href="https://gist.github.com/larafale/b4df34a97c7134cf1579539caf2db2c2" class="link" target="_blank">https://gist.github.com/larafale/b4df34a97c7134cf1579539caf2db2c2</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1535123940' id='627054'>
<a class='timestamp' href='#627054'><time timestamp='2018-08-24T15:19:00Z'>15:19</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
MaxHastings_: does it mention that the current used bloomfilter false-positive-rates do not protect privacy? (See Jonas Nicks master thesis from 2015)
<br>
</div>

<div class='talk op-msg' data-timestamp='1535124000' id='627055'>
<a class='timestamp' href='#627055'><time timestamp='2018-08-24T15:20:00Z'>15:20</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
MaxHastings_: there are eventually non-protocol vulnerabilities (implementation issues)
<br>
</div>

<div class='talk op-msg' data-timestamp='1535124000' id='627056'>
<a class='timestamp' href='#627056'><time timestamp='2018-08-24T15:20:00Z'>15:20</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
as1nc: nice. You could mention pruning?
<br>
</div>

<div class='talk op-msg' data-timestamp='1535124060' id='627057'>
<a class='timestamp' href='#627057'><time timestamp='2018-08-24T15:21:00Z'>15:21</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
(and or electrum personal server)
<br>
</div>

<div class='talk op-msg' data-timestamp='1535124060' id='627058'>
<a class='timestamp' href='#627058'><time timestamp='2018-08-24T15:21:00Z'>15:21</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
But its OT in this channel... so use #bitcoin
<br>
</div>

<div class='talk op-msg' data-timestamp='1535124240' id='627059'>
<a class='timestamp' href='#627059'><time timestamp='2018-08-24T15:24:00Z'>15:24</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
cfields: can you sign PPC Windows builds too?
<br>
</div>

<div class='talk op-msg' data-timestamp='1535124240' id='627060'>
<a class='timestamp' href='#627060'><time timestamp='2018-08-24T15:24:00Z'>15:24</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
jk ;)
<br>
</div>

<div class='talk op-msg' data-timestamp='1535124300' id='627061'>
<a class='timestamp' href='#627061'><time timestamp='2018-08-24T15:25:00Z'>15:25</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
luke-jr: eh? does that exist?
<br>
</div>

<div class='talk op-msg' data-timestamp='1535124300' id='627062'>
<a class='timestamp' href='#627062'><time timestamp='2018-08-24T15:25:00Z'>15:25</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
cfields: dunno, hence jk
<br>
</div>

<div class='talk op-msg' data-timestamp='1535124300' id='627063'>
<a class='timestamp' href='#627063'><time timestamp='2018-08-24T15:25:00Z'>15:25</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
oh, phew
<br>
</div>

<div class='talk op-msg' data-timestamp='1535124300' id='627064'>
<a class='timestamp' href='#627064'><time timestamp='2018-08-24T15:25:00Z'>15:25</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
XD
<br>
</div>

<div class='talk op-msg' data-timestamp='1535124360' id='627065'>
<a class='timestamp' href='#627065'><time timestamp='2018-08-24T15:26:00Z'>15:26</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
(working on POWER8+ gitian binaries)
<br>
</div>

<div class='talk op-msg' data-timestamp='1535124360' id='627066'>
<a class='timestamp' href='#627066'><time timestamp='2018-08-24T15:26:00Z'>15:26</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
(for Linux)
<br>
</div>

<div class='talk op-msg' data-timestamp='1535124360' id='627067'>
<a class='timestamp' href='#627067'><time timestamp='2018-08-24T15:26:00Z'>15:26</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
because if they couldn&#x27;t pull off small-endian arm, BE ppc wouldn&#x27;t stand a chance :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1535124360' id='627068'>
<a class='timestamp' href='#627068'><time timestamp='2018-08-24T15:26:00Z'>15:26</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
who said BE?
<br>
</div>

<div class='talk op-msg' data-timestamp='1535124360' id='627069'>
<a class='timestamp' href='#627069'><time timestamp='2018-08-24T15:26:00Z'>15:26</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
afaik even when Windows did support PPC, it was LE
<br>
</div>

<div class='talk op-msg' data-timestamp='1535124360' id='627070'>
<a class='timestamp' href='#627070'><time timestamp='2018-08-24T15:26:00Z'>15:26</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
yeah yeah, that&#x27;s why I specified
<br>
</div>

<div class='talk op-msg' data-timestamp='1535124360' id='627071'>
<a class='timestamp' href='#627071'><time timestamp='2018-08-24T15:26:00Z'>15:26</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
wait, they actually did support PPC at one point?
<br>
</div>

<div class='talk op-msg' data-timestamp='1535124360' id='627072'>
<a class='timestamp' href='#627072'><time timestamp='2018-08-24T15:26:00Z'>15:26</time></a>
&lt;<span class='nick nick-16'> MaxHastings_</span>&gt;
jonasschnelli: Ah I see I did not know bloom filters were ineffective for keeping user privacy. Are there any other missing vulnerabilities on that page other than privacy concerns? I was told on Bitcoin slack that the SPV client could be tricked to change its consensus rules by malicious nodes.
<br>
</div>

<div class='talk op-msg' data-timestamp='1535124420' id='627073'>
<a class='timestamp' href='#627073'><time timestamp='2018-08-24T15:27:00Z'>15:27</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
cfields: NT supported a lot of archs
<br>
</div>

<div class='talk op-msg' data-timestamp='1535124420' id='627074'>
<a class='timestamp' href='#627074'><time timestamp='2018-08-24T15:27:00Z'>15:27</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
MaxHastings_: by definition, yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1535124480' id='627075'>
<a class='timestamp' href='#627075'><time timestamp='2018-08-24T15:28:00Z'>15:28</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
huh. I used win embedded a few places, so I guess that makes sense. I never would&#x27;ve thought ppc though.
<br>
</div>

<div class='talk op-msg' data-timestamp='1535124480' id='627076'>
<a class='timestamp' href='#627076'><time timestamp='2018-08-24T15:28:00Z'>15:28</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
MaxHastings_: they rely on the majority of the hashrate
<br>
</div>

<div class='talk op-msg' data-timestamp='1535124480' id='627077'>
<a class='timestamp' href='#627077'><time timestamp='2018-08-24T15:28:00Z'>15:28</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
&quot;Windows NT 3.51 added support for the PowerPC processor in 1995, specifically PReP-compliant systems such as the IBM Power Series desktops/laptops and Motorola PowerStack series; but despite meetings between Michael Spindler and Bill Gates, not on the Power Macintosh as the PReP compliant Power Macintosh project failed to ship.&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1535124540' id='627078'>
<a class='timestamp' href='#627078'><time timestamp='2018-08-24T15:29:00Z'>15:29</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
not really sure what that means XD
<br>
</div>

<div class='talk op-msg' data-timestamp='1535124540' id='627079'>
<a class='timestamp' href='#627079'><time timestamp='2018-08-24T15:29:00Z'>15:29</time></a>
&lt;<span class='nick nick-7'> as1nc</span>&gt;
jonasschnelli, yes but i really want to incite people to txindex their chain so they can benefit the full spectrum of bitcoin capabilities. lightning for exemple require a txindexed chain right ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1535124600' id='627080'>
<a class='timestamp' href='#627080'><time timestamp='2018-08-24T15:30:00Z'>15:30</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
as1nc: i don&#x27;t think so (or that&#x27;s temporary in any case)
<br>
</div>

<div class='talk op-msg' data-timestamp='1535124600' id='627081'>
<a class='timestamp' href='#627081'><time timestamp='2018-08-24T15:30:00Z'>15:30</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Not sure. C-Lightning doesn&#x27;t IMO
<br>
</div>

<div class='talk op-msg' data-timestamp='1535124600' id='627082'>
<a class='timestamp' href='#627082'><time timestamp='2018-08-24T15:30:00Z'>15:30</time></a>
&lt;<span class='nick nick-7'> as1nc</span>&gt;
lnd does i think
<br>
</div>

<div class='talk op-msg' data-timestamp='1535124660' id='627083'>
<a class='timestamp' href='#627083'><time timestamp='2018-08-24T15:31:00Z'>15:31</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i&#x27;m sure that&#x27;s temporary until better protocols to communicate exist
<br>
</div>

<div class='talk op-msg' data-timestamp='1535124720' id='627084'>
<a class='timestamp' href='#627084'><time timestamp='2018-08-24T15:32:00Z'>15:32</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
(like bip157)
<br>
</div>

<div class='talk op-msg' data-timestamp='1535124840' id='627085'>
<a class='timestamp' href='#627085'><time timestamp='2018-08-24T15:34:00Z'>15:34</time></a>
&lt;<span class='nick nick-16'> MaxHastings_</span>&gt;
sipa: Good to know.
<br>
</div>

<div class='talk op-msg' data-timestamp='1535125020' id='627086'>
<a class='timestamp' href='#627086'><time timestamp='2018-08-24T15:37:00Z'>15:37</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
c-lightning doesn&#x27;t.
<br>
</div>

<div class='talk op-msg' data-timestamp='1535125020' id='627087'>
<a class='timestamp' href='#627087'><time timestamp='2018-08-24T15:37:00Z'>15:37</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
as1nc: txindex is non-viable long term.
<br>
</div>

<div class='talk op-msg' data-timestamp='1535125020' id='627088'>
<a class='timestamp' href='#627088'><time timestamp='2018-08-24T15:37:00Z'>15:37</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Anytime you think &quot;X <u>_requires_</u> txindex&quot; you should think &quot;X will eventually force people to depend on a centeralized service&quot;.
<br>
</div>

<div class='talk op-msg' data-timestamp='1535125080' id='627089'>
<a class='timestamp' href='#627089'><time timestamp='2018-08-24T15:38:00Z'>15:38</time></a>
&lt;<span class='nick nick-4'> molz</span>&gt;
lnd doesn&#x27;t require txindex anymore
<br>
</div>

<div class='talk op-msg' data-timestamp='1535125260' id='627090'>
<a class='timestamp' href='#627090'><time timestamp='2018-08-24T15:41:00Z'>15:41</time></a>
&lt;<span class='nick nick-7'> as1nc</span>&gt;
ok interesting, I&#x27;m txindexing because I want to provide services for people. but the only case i find indexing worth it for personnal use is SPV wallets. does it makes sense ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1535125260' id='627091'>
<a class='timestamp' href='#627091'><time timestamp='2018-08-24T15:41:00Z'>15:41</time></a>
&lt;<span class='nick nick-7'> as1nc</span>&gt;
i use electrum pointed to my node
<br>
</div>

<div class='talk op-msg' data-timestamp='1535125260' id='627092'>
<a class='timestamp' href='#627092'><time timestamp='2018-08-24T15:41:00Z'>15:41</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
as1nc: txindex is purely a local feature; it is not exposed over the network
<br>
</div>

<div class='talk op-msg' data-timestamp='1535125380' id='627093'>
<a class='timestamp' href='#627093'><time timestamp='2018-08-24T15:43:00Z'>15:43</time></a>
&lt;<span class='nick nick-7'> as1nc</span>&gt;
sipa, yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1535126940' id='627094'>
<a class='timestamp' href='#627094'><time timestamp='2018-08-24T16:09:00Z'>16:09</time></a>
&lt;<span class='nick nick-7'> Dizzle</span>&gt;
as1nc: yep, it makes sense, for both personal use or providing centralized services. As for lnd, if you don&#x27;t have a txindex, lnd basically falls back to rescanning blocks when it needs to know a tx&#x27;s status, so a bit of a performance drag in some cases.
<br>
</div>

<div class='talk op-msg' data-timestamp='1535127060' id='627095'>
<a class='timestamp' href='#627095'><time timestamp='2018-08-24T16:11:00Z'>16:11</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
how is scanning blocks going to be a performance drag? thats how a node works anyways.
<br>
</div>

<div class='talk op-msg' data-timestamp='1535127660' id='627096'>
<a class='timestamp' href='#627096'><time timestamp='2018-08-24T16:21:00Z'>16:21</time></a>
&lt;<span class='nick nick-7'> Dizzle</span>&gt;
gmaxwell: at lnd level, it&#x27;s done manually instead of regularly i.e. specifically to find what may have befallen the tx - <a href="https://github.com/lightningnetwork/lnd/blob/c9bead7c21b1b83d69894935f4e1269ceffbecc7/chainntnfs/bitcoindnotify/bitcoind.go#L535" class="link" target="_blank">https://github.com/lightningnetwork/lnd/blob/c9bead7c21b1b83d69894935f4e1269ceffbecc7/chainntnfs/bitcoindnotify/bitcoind.go#L535</a> - so instead of a quick index lookup in Core or btcd, it&#x27;s back and forth RPC and comparison looping.
<br>
</div>

<div class='talk op-msg' data-timestamp='1535127900' id='627097'>
<a class='timestamp' href='#627097'><time timestamp='2018-08-24T16:25:00Z'>16:25</time></a>
&lt;<span class='nick nick-7'> as1nc</span>&gt;
Dizzle: thx, so it make sense to txindex your chain for personnal use, even if, like gmaxwell said, its not viable long run
<br>
</div>

<div class='talk op-msg' data-timestamp='1535128920' id='627098'>
<a class='timestamp' href='#627098'><time timestamp='2018-08-24T16:42:00Z'>16:42</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Dizzle: I don&#x27;t see any back and forth there, it just gets the block.
<br>
</div>

<div class='talk op-msg' data-timestamp='1535128980' id='627099'>
<a class='timestamp' href='#627099'><time timestamp='2018-08-24T16:43:00Z'>16:43</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
txindex lowers performance a lot, so I&#x27;m still not seeing how you&#x27;re saying the lnd performance is worth without it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1535129040' id='627100'>
<a class='timestamp' href='#627100'><time timestamp='2018-08-24T16:44:00Z'>16:44</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
if only bech32 addresses were shorter, we could have called it belch32
<br>
</div>

<div class='talk op-msg' data-timestamp='1535129700' id='627101'>
<a class='timestamp' href='#627101'><time timestamp='2018-08-24T16:55:00Z'>16:55</time></a>
&lt;<span class='nick nick-7'> Dizzle</span>&gt;
gmaxwell: only saying the performance is worse without txindex for the cases when historical lookup of a tx&#x27;s status is needed. I mean, that&#x27;s what the index is useful for. The back and forth I&#x27;m referring to is getblockhash+getblock RPC calls for each height in turn, check for a match, repeat.
<br>
</div>

<div class='talk op-msg' data-timestamp='1535130060' id='627102'>
<a class='timestamp' href='#627102'><time timestamp='2018-08-24T17:01:00Z'>17:01</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Dizzle: and my point is that you&#x27;re missing the forrest for the trees. fetching the list of transactions in a block is cheap. maintaining the txindex slows down block processing a lot.
<br>
</div>

<div class='talk op-msg' data-timestamp='1535130120' id='627103'>
<a class='timestamp' href='#627103'><time timestamp='2018-08-24T17:02:00Z'>17:02</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
So I think what you&#x27;re describing costs several milliseconds per block to save a millisecond on some blocks.
<br>
</div>

<div class='talk op-msg' data-timestamp='1535130600' id='627104'>
<a class='timestamp' href='#627104'><time timestamp='2018-08-24T17:10:00Z'>17:10</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
how does symbol-check not complain about aarch using symbols from glibc 2.17?
<br>
</div>

<div class='talk op-msg' data-timestamp='1535130840' id='627105'>
<a class='timestamp' href='#627105'><time timestamp='2018-08-24T17:14:00Z'>17:14</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
…oh, gitian disables it for aarch XD
<br>
</div>

<div class='talk op-msg' data-timestamp='1535133720' id='627106'>
<a class='timestamp' href='#627106'><time timestamp='2018-08-24T18:02:00Z'>18:02</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
gmaxell: &quot;txindex lowers performance a lot&quot; - is that still true after #13033 ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1535133720' id='627107'>
<a class='timestamp' href='#627107'><time timestamp='2018-08-24T18:02:00Z'>18:02</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/13033" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/13033</a> | Build txindex in parallel with validation by jimpo · Pull Request #13033 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1535134080' id='627108'>
<a class='timestamp' href='#627108'><time timestamp='2018-08-24T18:08:00Z'>18:08</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
jnewbery: maybe it is no longer &quot;a lot&quot;, but it will still be more costly than checking the txids in a block, since it does that and a lot more.
<br>
</div>

<div class='talk op-msg' data-timestamp='1535134140' id='627109'>
<a class='timestamp' href='#627109'><time timestamp='2018-08-24T18:09:00Z'>18:09</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
jnewbery: I missed that PR, so thanks for pointing that otu.
<br>
</div>

<div class='talk op-msg' data-timestamp='1535134140' id='627110'>
<a class='timestamp' href='#627110'><time timestamp='2018-08-24T18:09:00Z'>18:09</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
I mean I dunno what the IOPS cost of it is, but if you&#x27;re running with huge dbcache it should be almost free modulo the fact that we fsync the block files all the time (which we should stop doing, really)
<br>
</div>

<div class='talk op-msg' data-timestamp='1535134200' id='627111'>
<a class='timestamp' href='#627111'><time timestamp='2018-08-24T18:10:00Z'>18:10</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
BlueMatt: once per hour
<br>
</div>

<div class='talk op-msg' data-timestamp='1535134200' id='627112'>
<a class='timestamp' href='#627112'><time timestamp='2018-08-24T18:10:00Z'>18:10</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and only the ones written to afaik
<br>
</div>

<div class='talk op-msg' data-timestamp='1535134200' id='627113'>
<a class='timestamp' href='#627113'><time timestamp='2018-08-24T18:10:00Z'>18:10</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
not for block files, no, every time we move to a new one
<br>
</div>

<div class='talk op-msg' data-timestamp='1535134200' id='627114'>
<a class='timestamp' href='#627114'><time timestamp='2018-08-24T18:10:00Z'>18:10</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
last I checked
<br>
</div>

<div class='talk op-msg' data-timestamp='1535134260' id='627115'>
<a class='timestamp' href='#627115'><time timestamp='2018-08-24T18:11:00Z'>18:11</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
yea, every time we move to a new file we FlushBlockFile
<br>
</div>

<div class='talk op-msg' data-timestamp='1535134260' id='627116'>
<a class='timestamp' href='#627116'><time timestamp='2018-08-24T18:11:00Z'>18:11</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
which fsync&#x27;s, afaics
<br>
</div>

<div class='talk op-msg' data-timestamp='1535134260' id='627117'>
<a class='timestamp' href='#627117'><time timestamp='2018-08-24T18:11:00Z'>18:11</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
BlueMatt: your comment is frustrating me. Above we are having a discussion where the argument was made that a whole txindex should be enabled to replace simply checking each block for a transaction.
<br>
</div>

<div class='talk op-msg' data-timestamp='1535134260' id='627118'>
<a class='timestamp' href='#627118'><time timestamp='2018-08-24T18:11:00Z'>18:11</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
ah, I missed context, sorry
<br>
</div>

<div class='talk op-msg' data-timestamp='1535134260' id='627119'>
<a class='timestamp' href='#627119'><time timestamp='2018-08-24T18:11:00Z'>18:11</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
yea, obviously not
<br>
</div>

<div class='talk op-msg' data-timestamp='1535134320' id='627120'>
<a class='timestamp' href='#627120'><time timestamp='2018-08-24T18:12:00Z'>18:12</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
perhaps txindex no longer slows down reindex by 20% or whatever. but yea...
<br>
</div>

<div class='talk op-msg' data-timestamp='1535134320' id='627121'>
<a class='timestamp' href='#627121'><time timestamp='2018-08-24T18:12:00Z'>18:12</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
performance isn&#x27;t really the reason not to use it - it just doesn&#x27;t scale well
<br>
</div>

<div class='talk op-msg' data-timestamp='1535134320' id='627122'>
<a class='timestamp' href='#627122'><time timestamp='2018-08-24T18:12:00Z'>18:12</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
anyway, as a separate point, spinning-rust-ibd-with-huge-dbcache the hang after each &quot;Leaving block file&quot; entry is really annoying
<br>
</div>

<div class='talk op-msg' data-timestamp='1535134320' id='627123'>
<a class='timestamp' href='#627123'><time timestamp='2018-08-24T18:12:00Z'>18:12</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
sipa: well, <b>*also*</b> performance :p
<br>
</div>

<div class='talk op-msg' data-timestamp='1535134980' id='627124'>
<a class='timestamp' href='#627124'><time timestamp='2018-08-24T18:23:00Z'>18:23</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
sipa: wait, isnt extended-encoding the <b>*only*</b> way you can encode a 0-input 1-output transaction?
<br>
</div>

<div class='talk op-msg' data-timestamp='1535134980' id='627125'>
<a class='timestamp' href='#627125'><time timestamp='2018-08-24T18:23:00Z'>18:23</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
reliably, at least
<br>
</div>

<div class='talk op-msg' data-timestamp='1535134980' id='627126'>
<a class='timestamp' href='#627126'><time timestamp='2018-08-24T18:23:00Z'>18:23</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
short of psbt
<br>
</div>

<div class='talk op-msg' data-timestamp='1535135100' id='627127'>
<a class='timestamp' href='#627127'><time timestamp='2018-08-24T18:25:00Z'>18:25</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
BlueMatt: there is no reliable way to encode 0-input transactions
<br>
</div>

<div class='talk op-msg' data-timestamp='1535135100' id='627128'>
<a class='timestamp' href='#627128'><time timestamp='2018-08-24T18:25:00Z'>18:25</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
sure, if you use extended-encoding
<br>
</div>

<div class='talk op-msg' data-timestamp='1535135160' id='627129'>
<a class='timestamp' href='#627129'><time timestamp='2018-08-24T18:26:00Z'>18:26</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that&#x27;s still potentially ambiguous
<br>
</div>

<div class='talk op-msg' data-timestamp='1535135160' id='627130'>
<a class='timestamp' href='#627130'><time timestamp='2018-08-24T18:26:00Z'>18:26</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
the use-all-data heuristic should handle it fine
<br>
</div>

<div class='talk op-msg' data-timestamp='1535135160' id='627131'>
<a class='timestamp' href='#627131'><time timestamp='2018-08-24T18:26:00Z'>18:26</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
and doesnt-need-to-be-backwards-compatible APIs (eg rust-bitcoin&#x27;s deserializer) can <b>*only*</b> handle it that way
<br>
</div>

<div class='talk op-msg' data-timestamp='1535135220' id='627132'>
<a class='timestamp' href='#627132'><time timestamp='2018-08-24T18:27:00Z'>18:27</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i&#x27;m confused
<br>
</div>

<div class='talk op-msg' data-timestamp='1535135220' id='627133'>
<a class='timestamp' href='#627133'><time timestamp='2018-08-24T18:27:00Z'>18:27</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it is not legal to encode a tx without witnesses using extended encoding
<br>
</div>

<div class='talk op-msg' data-timestamp='1535135220' id='627134'>
<a class='timestamp' href='#627134'><time timestamp='2018-08-24T18:27:00Z'>18:27</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
so there should never be any ambiguity
<br>
</div>

<div class='talk op-msg' data-timestamp='1535135220' id='627135'>
<a class='timestamp' href='#627135'><time timestamp='2018-08-24T18:27:00Z'>18:27</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
but every deserializer I&#x27;ve ever seen handles it fine, and its the only way to have no ambiguity in decoding 0-input txn
<br>
</div>

<div class='talk op-msg' data-timestamp='1535135220' id='627136'>
<a class='timestamp' href='#627136'><time timestamp='2018-08-24T18:27:00Z'>18:27</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
so I think we should revise the spec to match implementations?
<br>
</div>

<div class='talk op-msg' data-timestamp='1535135280' id='627137'>
<a class='timestamp' href='#627137'><time timestamp='2018-08-24T18:28:00Z'>18:28</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
or am I confusing myself
<br>
</div>

<div class='talk op-msg' data-timestamp='1535135280' id='627138'>
<a class='timestamp' href='#627138'><time timestamp='2018-08-24T18:28:00Z'>18:28</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sigh, so make an exception to the only-extended-if-has-witness rule in case there are 0 inputs?
<br>
</div>

<div class='talk op-msg' data-timestamp='1535135340' id='627139'>
<a class='timestamp' href='#627139'><time timestamp='2018-08-24T18:29:00Z'>18:29</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that&#x27;s fine by me - i mostly care about only having a single encoding for actual transactions
<br>
</div>

<div class='talk op-msg' data-timestamp='1535135340' id='627140'>
<a class='timestamp' href='#627140'><time timestamp='2018-08-24T18:29:00Z'>18:29</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
using the raw tx format for partial transactions was always a hack at best
<br>
</div>

<div class='talk op-msg' data-timestamp='1535135340' id='627141'>
<a class='timestamp' href='#627141'><time timestamp='2018-08-24T18:29:00Z'>18:29</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
yes, agreed, but the only reliably hack is always-use-extended, sadly :(
<br>
</div>

<div class='talk op-msg' data-timestamp='1535135400' id='627142'>
<a class='timestamp' href='#627142'><time timestamp='2018-08-24T18:30:00Z'>18:30</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
but, ok, fair, only doing it for 0-inputs seems reasonable to me
<br>
</div>

<div class='talk op-msg' data-timestamp='1535135400' id='627143'>
<a class='timestamp' href='#627143'><time timestamp='2018-08-24T18:30:00Z'>18:30</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
we can also make the serializer do the same
<br>
</div>

<div class='talk op-msg' data-timestamp='1535135400' id='627144'>
<a class='timestamp' href='#627144'><time timestamp='2018-08-24T18:30:00Z'>18:30</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
always use extended encoding when 0 inputs
<br>
</div>

<div class='talk op-msg' data-timestamp='1535135400' id='627145'>
<a class='timestamp' href='#627145'><time timestamp='2018-08-24T18:30:00Z'>18:30</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
would seem prudent to me :(
<br>
</div>

<div class='talk op-msg' data-timestamp='1535135400' id='627146'>
<a class='timestamp' href='#627146'><time timestamp='2018-08-24T18:30:00Z'>18:30</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
... or psbt
<br>
</div>

<div class='talk op-msg' data-timestamp='1535135400' id='627147'>
<a class='timestamp' href='#627147'><time timestamp='2018-08-24T18:30:00Z'>18:30</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but everything at its time
<br>
</div>

<div class='talk op-msg' data-timestamp='1535135400' id='627148'>
<a class='timestamp' href='#627148'><time timestamp='2018-08-24T18:30:00Z'>18:30</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
yea, well hopefully people migrate to psbt
<br>
</div>

<div class='talk op-msg' data-timestamp='1535135400' id='627149'>
<a class='timestamp' href='#627149'><time timestamp='2018-08-24T18:30:00Z'>18:30</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
yea
<br>
</div>

<div class='talk op-msg' data-timestamp='1535136300' id='627150'>
<a class='timestamp' href='#627150'><time timestamp='2018-08-24T18:45:00Z'>18:45</time></a>
&lt;<span class='nick nick-8'> andytoshi</span>&gt;
achow101: how do you use PSBT when nobody knows the full set of inputs up front?
<br>
</div>

<div class='talk op-msg' data-timestamp='1535136360' id='627151'>
<a class='timestamp' href='#627151'><time timestamp='2018-08-24T18:46:00Z'>18:46</time></a>
&lt;<span class='nick nick-8'> andytoshi</span>&gt;
in particular, can you use PSBT to avoid the 0-input serialization ambiguity
<br>
</div>

<div class='talk op-msg' data-timestamp='1535136360' id='627152'>
<a class='timestamp' href='#627152'><time timestamp='2018-08-24T18:46:00Z'>18:46</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
right
<br>
</div>

<div class='talk op-msg' data-timestamp='1535136420' id='627153'>
<a class='timestamp' href='#627153'><time timestamp='2018-08-24T18:47:00Z'>18:47</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
for 0-input things people should just use a list of amounts/scriptpubkeys
<br>
</div>

<div class='talk op-msg' data-timestamp='1535136420' id='627154'>
<a class='timestamp' href='#627154'><time timestamp='2018-08-24T18:47:00Z'>18:47</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
(i&#x27;ve mentioned extended psbt to support 0 inputs just as a container format, though)
<br>
</div>

<div class='talk op-msg' data-timestamp='1535136480' id='627155'>
<a class='timestamp' href='#627155'><time timestamp='2018-08-24T18:48:00Z'>18:48</time></a>
&lt;<span class='nick nick-8'> andytoshi</span>&gt;
if we&#x27;re going to propose an extension BIP to add p2c fields and industry/private reserved IDs, we should throw that in the pile
<br>
</div>

<div class='talk op-msg' data-timestamp='1535136540' id='627156'>
<a class='timestamp' href='#627156'><time timestamp='2018-08-24T18:49:00Z'>18:49</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
in any case, PSBT&#x27;s serialization supports 0 inputs fine
<br>
</div>

<div class='talk op-msg' data-timestamp='1535136540' id='627157'>
<a class='timestamp' href='#627157'><time timestamp='2018-08-24T18:49:00Z'>18:49</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
(because it specifies using non-witness serialization for the tx, there is never any ambiguity)
<br>
</div>

<div class='talk op-msg' data-timestamp='1535136540' id='627158'>
<a class='timestamp' href='#627158'><time timestamp='2018-08-24T18:49:00Z'>18:49</time></a>
&lt;<span class='nick nick-8'> andytoshi</span>&gt;
oh right
<br>
</div>

<div class='talk op-msg' data-timestamp='1535136600' id='627159'>
<a class='timestamp' href='#627159'><time timestamp='2018-08-24T18:50:00Z'>18:50</time></a>
&lt;<span class='nick nick-8'> andytoshi</span>&gt;
ok i forgot that, never mind me, sorry
<br>
</div>

<div class='talk op-msg' data-timestamp='1535136600' id='627160'>
<a class='timestamp' href='#627160'><time timestamp='2018-08-24T18:50:00Z'>18:50</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it&#x27;s not really usable to use for the various PSBT roles just because there isn&#x27;t anything to be done with it
<br>
</div>

<div class='talk op-msg' data-timestamp='1535136600' id='627161'>
<a class='timestamp' href='#627161'><time timestamp='2018-08-24T18:50:00Z'>18:50</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
<a href="https://bitcoinperf.com/timeline/#/" class="link" target="_blank">https://bitcoinperf.com/timeline/#/</a>?exe=3,4,2,1&amp;base=1+23&amp;ben=reindex.522000.dbcache=2048.mem-usage&amp;env=1&amp;revs=50&amp;equid=off&amp;quarts=on&amp;extr=on  &lt; I think this should be blocking 0.17.
<br>
</div>

<div class='talk op-msg' data-timestamp='1535136600' id='627162'>
<a class='timestamp' href='#627162'><time timestamp='2018-08-24T18:50:00Z'>18:50</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
20% memory usage increase for unknown reasons isn&#x27;t cool.
<br>
</div>

<div class='talk op-msg' data-timestamp='1535136660' id='627163'>
<a class='timestamp' href='#627163'><time timestamp='2018-08-24T18:51:00Z'>18:51</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
sipa: wait, so psbt is not usable with the existing deserializer?
<br>
</div>

<div class='talk op-msg' data-timestamp='1535136720' id='627164'>
<a class='timestamp' href='#627164'><time timestamp='2018-08-24T18:52:00Z'>18:52</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
BlueMatt: yes it is
<br>
</div>

<div class='talk op-msg' data-timestamp='1535136720' id='627165'>
<a class='timestamp' href='#627165'><time timestamp='2018-08-24T18:52:00Z'>18:52</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
cause 0-input non-witness is ambiguous?
<br>
</div>

<div class='talk op-msg' data-timestamp='1535136720' id='627166'>
<a class='timestamp' href='#627166'><time timestamp='2018-08-24T18:52:00Z'>18:52</time></a>
&lt;<span class='nick nick-4'> jamesob</span>&gt;
gmaxwell: still bisecting
<br>
</div>

<div class='talk op-msg' data-timestamp='1535136720' id='627167'>
<a class='timestamp' href='#627167'><time timestamp='2018-08-24T18:52:00Z'>18:52</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
BlueMatt: not if it is known to be non-witness
<br>
</div>

<div class='talk op-msg' data-timestamp='1535136720' id='627168'>
<a class='timestamp' href='#627168'><time timestamp='2018-08-24T18:52:00Z'>18:52</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
unless you give it a flag saying &quot;it is 0-input, and not-witness-encoded, i promise&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1535136720' id='627169'>
<a class='timestamp' href='#627169'><time timestamp='2018-08-24T18:52:00Z'>18:52</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
ah, i guess we have that flag, other deserializers need it, though
<br>
</div>

<div class='talk op-msg' data-timestamp='1535136720' id='627170'>
<a class='timestamp' href='#627170'><time timestamp='2018-08-24T18:52:00Z'>18:52</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
BlueMatt: which is what the implementation in core does
<br>
</div>

<div class='talk op-msg' data-timestamp='1535136720' id='627171'>
<a class='timestamp' href='#627171'><time timestamp='2018-08-24T18:52:00Z'>18:52</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
which is super obnoxious
<br>
</div>

<div class='talk op-msg' data-timestamp='1535136720' id='627172'>
<a class='timestamp' href='#627172'><time timestamp='2018-08-24T18:52:00Z'>18:52</time></a>
&lt;<span class='nick nick-4'> jamesob</span>&gt;
running some tests to ensure increased mem usage isn&#x27;t some quirk with the benchmarking framework 
<br>
</div>

<div class='talk op-msg' data-timestamp='1535136780' id='627173'>
<a class='timestamp' href='#627173'><time timestamp='2018-08-24T18:53:00Z'>18:53</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
BlueMatt: well, deal with it
<br>
</div>

<div class='talk op-msg' data-timestamp='1535136840' id='627174'>
<a class='timestamp' href='#627174'><time timestamp='2018-08-24T18:54:00Z'>18:54</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
lolk, but why doesnt it just serialize a list of outputs?
<br>
</div>

<div class='talk op-msg' data-timestamp='1535136840' id='627175'>
<a class='timestamp' href='#627175'><time timestamp='2018-08-24T18:54:00Z'>18:54</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
BlueMatt: because it needs to serialize inputs too
<br>
</div>

<div class='talk op-msg' data-timestamp='1535136900' id='627176'>
<a class='timestamp' href='#627176'><time timestamp='2018-08-24T18:55:00Z'>18:55</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
I mean in no-input cases
<br>
</div>

<div class='talk op-msg' data-timestamp='1535136900' id='627177'>
<a class='timestamp' href='#627177'><time timestamp='2018-08-24T18:55:00Z'>18:55</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
PSBT isn&#x27;t designed for no-input cases
<br>
</div>

<div class='talk op-msg' data-timestamp='1535136900' id='627178'>
<a class='timestamp' href='#627178'><time timestamp='2018-08-24T18:55:00Z'>18:55</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
I thought psbt was supposed to simplify the deserialization ambiguity, not work around it with more flags :(
<br>
</div>

<div class='talk op-msg' data-timestamp='1535136900' id='627179'>
<a class='timestamp' href='#627179'><time timestamp='2018-08-24T18:55:00Z'>18:55</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it&#x27;s to simplify the signing procedure
<br>
</div>

<div class='talk op-msg' data-timestamp='1535136900' id='627180'>
<a class='timestamp' href='#627180'><time timestamp='2018-08-24T18:55:00Z'>18:55</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
BlueMatt: i don&#x27;t understand why this is hard
<br>
</div>

<div class='talk op-msg' data-timestamp='1535136900' id='627181'>
<a class='timestamp' href='#627181'><time timestamp='2018-08-24T18:55:00Z'>18:55</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
its not &quot;hard&quot;, just really annoying
<br>
</div>

<div class='talk op-msg' data-timestamp='1535136900' id='627182'>
<a class='timestamp' href='#627182'><time timestamp='2018-08-24T18:55:00Z'>18:55</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
you know there is no witness, don&#x27;t try to deserialize as a witness
<br>
</div>

<div class='talk op-msg' data-timestamp='1535136960' id='627183'>
<a class='timestamp' href='#627183'><time timestamp='2018-08-24T18:56:00Z'>18:56</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
yes, well I presume most deserializers dont have a flag for that
<br>
</div>

<div class='talk op-msg' data-timestamp='1535136960' id='627184'>
<a class='timestamp' href='#627184'><time timestamp='2018-08-24T18:56:00Z'>18:56</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
cause they dont need it
<br>
</div>

<div class='talk op-msg' data-timestamp='1535136960' id='627185'>
<a class='timestamp' href='#627185'><time timestamp='2018-08-24T18:56:00Z'>18:56</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
at least rust-bitcoin currently doesnt
<br>
</div>

<div class='talk op-msg' data-timestamp='1535136960' id='627186'>
<a class='timestamp' href='#627186'><time timestamp='2018-08-24T18:56:00Z'>18:56</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
?
<br>
</div>

<div class='talk op-msg' data-timestamp='1535136960' id='627187'>
<a class='timestamp' href='#627187'><time timestamp='2018-08-24T18:56:00Z'>18:56</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
which means plumbing through a ton of flags stuff
<br>
</div>

<div class='talk op-msg' data-timestamp='1535136960' id='627188'>
<a class='timestamp' href='#627188'><time timestamp='2018-08-24T18:56:00Z'>18:56</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
how do you deal with a tx from a non-witness peer?
<br>
</div>

<div class='talk op-msg' data-timestamp='1535136960' id='627189'>
<a class='timestamp' href='#627189'><time timestamp='2018-08-24T18:56:00Z'>18:56</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
jamesob: well I also recently noticed the infinite dbcache case using much more dbcache size than I remember.
<br>
</div>

<div class='talk op-msg' data-timestamp='1535136960' id='627190'>
<a class='timestamp' href='#627190'><time timestamp='2018-08-24T18:56:00Z'>18:56</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
you never see 0-input txn on peer network?
<br>
</div>

<div class='talk op-msg' data-timestamp='1535136960' id='627191'>
<a class='timestamp' href='#627191'><time timestamp='2018-08-24T18:56:00Z'>18:56</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
so no ambiguity there
<br>
</div>

<div class='talk op-msg' data-timestamp='1535137020' id='627192'>
<a class='timestamp' href='#627192'><time timestamp='2018-08-24T18:57:00Z'>18:57</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yes, but you should reject if it were to contain a witness
<br>
</div>

<div class='talk op-msg' data-timestamp='1535137020' id='627193'>
<a class='timestamp' href='#627193'><time timestamp='2018-08-24T18:57:00Z'>18:57</time></a>
&lt;<span class='nick nick-4'> jamesob</span>&gt;
gmaxwell: ah okay, so that corroborates
<br>
</div>

<div class='talk op-msg' data-timestamp='1535137020' id='627194'>
<a class='timestamp' href='#627194'><time timestamp='2018-08-24T18:57:00Z'>18:57</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i guess that can be done after deserialization, fine
<br>
</div>

<div class='talk op-msg' data-timestamp='1535137020' id='627195'>
<a class='timestamp' href='#627195'><time timestamp='2018-08-24T18:57:00Z'>18:57</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but really, is this worth arguing over?
<br>
</div>

<div class='talk op-msg' data-timestamp='1535137020' id='627196'>
<a class='timestamp' href='#627196'><time timestamp='2018-08-24T18:57:00Z'>18:57</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
deserialization of 0-input is a pain, i&#x27;m sorry for that
<br>
</div>

<div class='talk op-msg' data-timestamp='1535137080' id='627197'>
<a class='timestamp' href='#627197'><time timestamp='2018-08-24T18:58:00Z'>18:58</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
I mean is it too late to fix the psbt spec? its just annoying to have so many serialization/deserialization modes
<br>
</div>

<div class='talk op-msg' data-timestamp='1535137080' id='627198'>
<a class='timestamp' href='#627198'><time timestamp='2018-08-24T18:58:00Z'>18:58</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yes, it is far too late
<br>
</div>

<div class='talk op-msg' data-timestamp='1535137080' id='627199'>
<a class='timestamp' href='#627199'><time timestamp='2018-08-24T18:58:00Z'>18:58</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
if the thing already has a &quot;this is a 0-input tx&quot; indicator, then why not have just used a list of outputs instead
<br>
</div>

<div class='talk op-msg' data-timestamp='1535137080' id='627200'>
<a class='timestamp' href='#627200'><time timestamp='2018-08-24T18:58:00Z'>18:58</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
plus nVserion/nLockTime
<br>
</div>

<div class='talk op-msg' data-timestamp='1535137080' id='627201'>
<a class='timestamp' href='#627201'><time timestamp='2018-08-24T18:58:00Z'>18:58</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
no it doesn&#x27;t have a this is a 0-input tx
<br>
</div>

<div class='talk op-msg' data-timestamp='1535137140' id='627202'>
<a class='timestamp' href='#627202'><time timestamp='2018-08-24T18:59:00Z'>18:59</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that indicator is the lack of inputs
<br>
</div>

<div class='talk op-msg' data-timestamp='1535137140' id='627203'>
<a class='timestamp' href='#627203'><time timestamp='2018-08-24T18:59:00Z'>18:59</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
ehh, whatever, I guess can be dealt with
<br>
</div>

<div class='talk op-msg' data-timestamp='1535137140' id='627204'>
<a class='timestamp' href='#627204'><time timestamp='2018-08-24T18:59:00Z'>18:59</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and again, psbt isn&#x27;t designed for 0 inputs; it&#x27;s designed to simplify coordination of signing, which by definition needs at least 1 input
<br>
</div>

<div class='talk op-msg' data-timestamp='1535137140' id='627205'>
<a class='timestamp' href='#627205'><time timestamp='2018-08-24T18:59:00Z'>18:59</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it just so happens that it is unambiguous even with 0 inputs
<br>
</div>

<div class='talk op-msg' data-timestamp='1535137200' id='627206'>
<a class='timestamp' href='#627206'><time timestamp='2018-08-24T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sipa: uh, isn&#x27;t &quot;I create a PSBT with the outputs I want, and give it to you so you can add inputs (and your change)&quot; a supported use case
<br>
</div>

<div class='talk op-msg' data-timestamp='1535137200' id='627207'>
<a class='timestamp' href='#627207'><time timestamp='2018-08-24T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
BlueMatt: there are no flags in psbt. the global unsigned tx is always non-witness
<br>
</div>

<div class='talk op-msg' data-timestamp='1535137200' id='627208'>
<a class='timestamp' href='#627208'><time timestamp='2018-08-24T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
the input txs are self descriptive as to witness or not as they are always valid network txs
<br>
</div>

<div class='talk op-msg' data-timestamp='1535137260' id='627209'>
<a class='timestamp' href='#627209'><time timestamp='2018-08-24T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: not initially no, but there is no reason why it couldn&#x27;t
<br>
</div>

<div class='talk op-msg' data-timestamp='1535137260' id='627210'>
<a class='timestamp' href='#627210'><time timestamp='2018-08-24T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
achow101: wait, huh? 0-input isnt &quot;valid network txs&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1535137260' id='627211'>
<a class='timestamp' href='#627211'><time timestamp='2018-08-24T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
BlueMatt: input txs are txs that already exist on the network .they cannot be 0-input
<br>
</div>

<div class='talk op-msg' data-timestamp='1535137260' id='627212'>
<a class='timestamp' href='#627212'><time timestamp='2018-08-24T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
BlueMatt: he&#x27;s talking about prevout inputs.
<br>
</div>

<div class='talk op-msg' data-timestamp='1535137260' id='627213'>
<a class='timestamp' href='#627213'><time timestamp='2018-08-24T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
BlueMatt: the inputs
<br>
</div>

<div class='talk op-msg' data-timestamp='1535137260' id='627214'>
<a class='timestamp' href='#627214'><time timestamp='2018-08-24T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
for checking fees.
<br>
</div>

<div class='talk op-msg' data-timestamp='1535137260' id='627215'>
<a class='timestamp' href='#627215'><time timestamp='2018-08-24T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
ah
<br>
</div>

<div class='talk op-msg' data-timestamp='1535137320' id='627216'>
<a class='timestamp' href='#627216'><time timestamp='2018-08-24T19:02:00Z'>19:02</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
anyway, I&#x27;ll stop complaining since I obviously didnt read the spec in detail
<br>
</div>

<div class='talk op-msg' data-timestamp='1535137320' id='627217'>
<a class='timestamp' href='#627217'><time timestamp='2018-08-24T19:02:00Z'>19:02</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: in PSBT role terminology that would be someone who takes the output of a Creator, and then &quot;creates&quot; a new PSBT for a different transaction
<br>
</div>

<div class='talk op-msg' data-timestamp='1535137320' id='627218'>
<a class='timestamp' href='#627218'><time timestamp='2018-08-24T19:02:00Z'>19:02</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: but in the workflow, all steps operate on the same &quot;proposed transaction&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1535137380' id='627219'>
<a class='timestamp' href='#627219'><time timestamp='2018-08-24T19:03:00Z'>19:03</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
when there are 0 inputs, there isn&#x27;t really a proposed transaction
<br>
</div>

<div class='talk op-msg' data-timestamp='1535137380' id='627220'>
<a class='timestamp' href='#627220'><time timestamp='2018-08-24T19:03:00Z'>19:03</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
though the same format could easily be used to support that
<br>
</div>

<div class='talk op-msg' data-timestamp='1535137440' id='627221'>
<a class='timestamp' href='#627221'><time timestamp='2018-08-24T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
gmaxwell: psbt&#x27;s workflows are currently only defined for the signing stage. it assumes that all inputs and outputs have been decided and negotiated in some previous step
<br>
</div>

<div class='talk op-msg' data-timestamp='1535137440' id='627222'>
<a class='timestamp' href='#627222'><time timestamp='2018-08-24T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
ah, so there are never any 0-input txn encoded in it at all?
<br>
</div>

<div class='talk op-msg' data-timestamp='1535137440' id='627223'>
<a class='timestamp' href='#627223'><time timestamp='2018-08-24T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
BlueMatt: in the PSBT workflow, no
<br>
</div>

<div class='talk op-msg' data-timestamp='1535137440' id='627224'>
<a class='timestamp' href='#627224'><time timestamp='2018-08-24T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
but you could still use psbt for negotiating the inputs. I&#x27;m not sure why you would though
<br>
</div>

<div class='talk op-msg' data-timestamp='1535137500' id='627225'>
<a class='timestamp' href='#627225'><time timestamp='2018-08-24T19:05:00Z'>19:05</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
sipa: why didnt you say that in the first place? :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1535137500' id='627226'>
<a class='timestamp' href='#627226'><time timestamp='2018-08-24T19:05:00Z'>19:05</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but the format can be used for that, if you want
<br>
</div>

<div class='talk op-msg' data-timestamp='1535137500' id='627227'>
<a class='timestamp' href='#627227'><time timestamp='2018-08-24T19:05:00Z'>19:05</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
BlueMatt: no, there is not. but it technically still works and will be deserialized properly
<br>
</div>

<div class='talk op-msg' data-timestamp='1535137500' id='627228'>
<a class='timestamp' href='#627228'><time timestamp='2018-08-24T19:05:00Z'>19:05</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
18:55:17 &lt; sipa&gt; PSBT isn&#x27;t designed for no-input cases
<br>
</div>

<div class='talk op-msg' data-timestamp='1535137500' id='627229'>
<a class='timestamp' href='#627229'><time timestamp='2018-08-24T19:05:00Z'>19:05</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
18:55:35 &lt; sipa&gt; it&#x27;s to simplify the signing procedure
<br>
</div>

<div class='talk op-msg' data-timestamp='1535137620' id='627230'>
<a class='timestamp' href='#627230'><time timestamp='2018-08-24T19:07:00Z'>19:07</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it&#x27;s kind of annyong to think about PSBT-the-container-format (which supports 0 input fine, if you&#x27;re willing to do the decode-knowing-there-is-no-witness thing) and PSBT-the-procedure-for-signing (which clearly doesn&#x27;t) as separate
<br>
</div>

<div class='talk op-msg' data-timestamp='1535137680' id='627231'>
<a class='timestamp' href='#627231'><time timestamp='2018-08-24T19:08:00Z'>19:08</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
well I mean tell me to shut up cause I havent read it in detail, but I think in a new container-format we should be encoding 0-input with extended serialization
<br>
</div>

<div class='talk op-msg' data-timestamp='1535137740' id='627232'>
<a class='timestamp' href='#627232'><time timestamp='2018-08-24T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
cause thats what we just said, above, too
<br>
</div>

<div class='talk op-msg' data-timestamp='1535137740' id='627233'>
<a class='timestamp' href='#627233'><time timestamp='2018-08-24T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i think that&#x27;s insane.
<br>
</div>

<div class='talk op-msg' data-timestamp='1535137800' id='627234'>
<a class='timestamp' href='#627234'><time timestamp='2018-08-24T19:10:00Z'>19:10</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
PSBT implementations aren&#x27;t even required to support segwit
<br>
</div>

<div class='talk op-msg' data-timestamp='1535137800' id='627235'>
<a class='timestamp' href='#627235'><time timestamp='2018-08-24T19:10:00Z'>19:10</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
BlueMatt: why? there are no witnesses to serialize ever
<br>
</div>

<div class='talk op-msg' data-timestamp='1535137800' id='627236'>
<a class='timestamp' href='#627236'><time timestamp='2018-08-24T19:10:00Z'>19:10</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
just add a flag to your deserializer
<br>
</div>

<div class='talk op-msg' data-timestamp='1535137800' id='627237'>
<a class='timestamp' href='#627237'><time timestamp='2018-08-24T19:10:00Z'>19:10</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
BlueMatt: a psbt has two types of txs: the unsigned tx (the one you want to sign) and the input txs (ones already on the network).
<br>
</div>

<div class='talk op-msg' data-timestamp='1535137800' id='627238'>
<a class='timestamp' href='#627238'><time timestamp='2018-08-24T19:10:00Z'>19:10</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
the unsigned tx, by definition, has no signatures. therefore it never has witnesses
<br>
</div>

<div class='talk op-msg' data-timestamp='1535137860' id='627239'>
<a class='timestamp' href='#627239'><time timestamp='2018-08-24T19:11:00Z'>19:11</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
thus it is completely unnecessary to serialize the unsigned tx with extended serialization as it can never have a witness
<br>
</div>

<div class='talk op-msg' data-timestamp='1535137860' id='627240'>
<a class='timestamp' href='#627240'><time timestamp='2018-08-24T19:11:00Z'>19:11</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
sipa: we just discussed, above, encoding 0-input with extended serialization, since thats the <b>*only*</b> way to do it that is non-ambiguous
<br>
</div>

<div class='talk op-msg' data-timestamp='1535137860' id='627241'>
<a class='timestamp' href='#627241'><time timestamp='2018-08-24T19:11:00Z'>19:11</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
and otherwise createrawtransaction+fundrawtransaction are...not ideal
<br>
</div>

<div class='talk op-msg' data-timestamp='1535137860' id='627242'>
<a class='timestamp' href='#627242'><time timestamp='2018-08-24T19:11:00Z'>19:11</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I&#x27;m just really confused by this discussion.  I expected that PSBT was the fix for the createrawtransaction ambiguity case.
<br>
</div>

<div class='talk op-msg' data-timestamp='1535137920' id='627243'>
<a class='timestamp' href='#627243'><time timestamp='2018-08-24T19:12:00Z'>19:12</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
and now you&#x27;re saying that it isn&#x27;t but it is?
<br>
</div>

<div class='talk op-msg' data-timestamp='1535137920' id='627244'>
<a class='timestamp' href='#627244'><time timestamp='2018-08-24T19:12:00Z'>19:12</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
BlueMatt: it is completely unambiguous because the unsigned tx is always non-witness
<br>
</div>

<div class='talk op-msg' data-timestamp='1535137920' id='627245'>
<a class='timestamp' href='#627245'><time timestamp='2018-08-24T19:12:00Z'>19:12</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
so this discussion is pointless.
<br>
</div>

<div class='talk op-msg' data-timestamp='1535137920' id='627246'>
<a class='timestamp' href='#627246'><time timestamp='2018-08-24T19:12:00Z'>19:12</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
BlueMatt: this is the <b>*first*</b> time ever in my life i hear the suggestion to use extended serialization for 0 input
<br>
</div>

<div class='talk op-msg' data-timestamp='1535137920' id='627247'>
<a class='timestamp' href='#627247'><time timestamp='2018-08-24T19:12:00Z'>19:12</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
s/unsigned/no-input/
<br>
</div>

<div class='talk op-msg' data-timestamp='1535137980' id='627248'>
<a class='timestamp' href='#627248'><time timestamp='2018-08-24T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
BlueMatt: it&#x27;s a cool trick, i admit
<br>
</div>

<div class='talk op-msg' data-timestamp='1535137980' id='627249'>
<a class='timestamp' href='#627249'><time timestamp='2018-08-24T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
sipa: well its either that or we have to pass a flag into signrawtransaction (and any equivalent APIs in any bitcoin library anywhere)
<br>
</div>

<div class='talk op-msg' data-timestamp='1535137980' id='627250'>
<a class='timestamp' href='#627250'><time timestamp='2018-08-24T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but i had always lived under the assumption that our deserializer failed on that
<br>
</div>

<div class='talk op-msg' data-timestamp='1535137980' id='627251'>
<a class='timestamp' href='#627251'><time timestamp='2018-08-24T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it was just accidentally removed in a refactor
<br>
</div>

<div class='talk op-msg' data-timestamp='1535137980' id='627252'>
<a class='timestamp' href='#627252'><time timestamp='2018-08-24T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
of which there are many, any I generally dont trust most bitcoin libraries...for obvious reasons
<br>
</div>

<div class='talk op-msg' data-timestamp='1535137980' id='627253'>
<a class='timestamp' href='#627253'><time timestamp='2018-08-24T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
BlueMatt: why are you signing a 0-input tx?
<br>
</div>

<div class='talk op-msg' data-timestamp='1535137980' id='627254'>
<a class='timestamp' href='#627254'><time timestamp='2018-08-24T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
what is there to even sign?
<br>
</div>

<div class='talk op-msg' data-timestamp='1535137980' id='627255'>
<a class='timestamp' href='#627255'><time timestamp='2018-08-24T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
achow101: not the point
<br>
</div>

<div class='talk op-msg' data-timestamp='1535137980' id='627256'>
<a class='timestamp' href='#627256'><time timestamp='2018-08-24T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
sipa: for p2p, it probably should, because, you know, 0-input is bogus on the p2p/consensus layer
<br>
</div>

<div class='talk op-msg' data-timestamp='1535138040' id='627257'>
<a class='timestamp' href='#627257'><time timestamp='2018-08-24T19:14:00Z'>19:14</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
achow101: not signing, funding
<br>
</div>

<div class='talk op-msg' data-timestamp='1535138040' id='627258'>
<a class='timestamp' href='#627258'><time timestamp='2018-08-24T19:14:00Z'>19:14</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
achow101: right now the suggested workflow of createrawtransaction, fundrawtransaction, signrawtransaction, sendrawtransaction is hit by the ambiguity bug
<br>
</div>

<div class='talk op-msg' data-timestamp='1535138040' id='627259'>
<a class='timestamp' href='#627259'><time timestamp='2018-08-24T19:14:00Z'>19:14</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
achow101: See our rpc, &quot;fundrawtransaction&quot;  --- that isn&#x27;t  &quot;Fun! Draw Transaction.&quot; :P
<br>
</div>

<div class='talk op-msg' data-timestamp='1535138040' id='627260'>
<a class='timestamp' href='#627260'><time timestamp='2018-08-24T19:14:00Z'>19:14</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
BlueMatt: createraw and fundraw are merged into one in PSBT workflow
<br>
</div>

<div class='talk op-msg' data-timestamp='1535138040' id='627261'>
<a class='timestamp' href='#627261'><time timestamp='2018-08-24T19:14:00Z'>19:14</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
its (mostly) fine right now, but my understanding was the psbt was addressing exactly that use-case but across multiple signers like multisig and the like
<br>
</div>

<div class='talk op-msg' data-timestamp='1535138100' id='627262'>
<a class='timestamp' href='#627262'><time timestamp='2018-08-24T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
achow101: you don&#x27;t know it&#x27;s zero input yet
<br>
</div>

<div class='talk op-msg' data-timestamp='1535138100' id='627263'>
<a class='timestamp' href='#627263'><time timestamp='2018-08-24T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
the reason they exist seperately to begin with is that there are workflows where they need to be seperate. E.g. coinjoins.
<br>
</div>

<div class='talk op-msg' data-timestamp='1535138100' id='627264'>
<a class='timestamp' href='#627264'><time timestamp='2018-08-24T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
FFS people
<br>
</div>

<div class='talk op-msg' data-timestamp='1535138100' id='627265'>
<a class='timestamp' href='#627265'><time timestamp='2018-08-24T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
sipa: fair, but you just mentioned that the existing container could be extended to split that out, and my point is, &quot;is the container well-defined for the ambiguity bug&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1535138100' id='627266'>
<a class='timestamp' href='#627266'><time timestamp='2018-08-24T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
or partial coincontrols. (&quot;spend <u>_this_</u> coin plus, whatever is needed&quot;)
<br>
</div>

<div class='talk op-msg' data-timestamp='1535138100' id='627267'>
<a class='timestamp' href='#627267'><time timestamp='2018-08-24T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
can you have commented on this 9 months ago?
<br>
</div>

<div class='talk op-msg' data-timestamp='1535138160' id='627268'>
<a class='timestamp' href='#627268'><time timestamp='2018-08-24T19:16:00Z'>19:16</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
BlueMatt: YES IT IS. NO WITNESSES IN THE UNSIGNED PSBT TRANSACTION
<br>
</div>

<div class='talk op-msg' data-timestamp='1535138160' id='627269'>
<a class='timestamp' href='#627269'><time timestamp='2018-08-24T19:16:00Z'>19:16</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i&#x27;m tired of this discussion
<br>
</div>

<div class='talk op-msg' data-timestamp='1535138160' id='627270'>
<a class='timestamp' href='#627270'><time timestamp='2018-08-24T19:16:00Z'>19:16</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sipa:  I read the spec and saw no evidence that 0 inputs wasn&#x27;t a supported case!
<br>
</div>

<div class='talk op-msg' data-timestamp='1535138160' id='627271'>
<a class='timestamp' href='#627271'><time timestamp='2018-08-24T19:16:00Z'>19:16</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
the fact that you want to reuse your heuristic decoder for raw transactions in PSBT may mean you need to add a flag to disable that feature
<br>
</div>

<div class='talk op-msg' data-timestamp='1535138160' id='627272'>
<a class='timestamp' href='#627272'><time timestamp='2018-08-24T19:16:00Z'>19:16</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
in a post-PSBT world, nobody ever needs to implement such a heuristic again
<br>
</div>

<div class='talk op-msg' data-timestamp='1535138220' id='627273'>
<a class='timestamp' href='#627273'><time timestamp='2018-08-24T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
&quot;Type: Unsigned Transaction PSBT_GLOBAL_UNSIGNED_TX = 0x00 ... The transaction must be in the old serialization format (without witnesses)&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1535138220' id='627274'>
<a class='timestamp' href='#627274'><time timestamp='2018-08-24T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
because actual transactions will always have witnesses (or use unambiguously old serialization for things without)
<br>
</div>

<div class='talk op-msg' data-timestamp='1535138220' id='627275'>
<a class='timestamp' href='#627275'><time timestamp='2018-08-24T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and PSBTs will never have witnesses
<br>
</div>

<div class='talk op-msg' data-timestamp='1535138220' id='627276'>
<a class='timestamp' href='#627276'><time timestamp='2018-08-24T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
it&#x27;s surprising to me that you and achow didn&#x27;t except PSBT to be a superset of the applications of the existing raw transactions.
<br>
</div>

<div class='talk op-msg' data-timestamp='1535138280' id='627277'>
<a class='timestamp' href='#627277'><time timestamp='2018-08-24T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
achow101: great, and the old tx format supports 0 inputs.
<br>
</div>

<div class='talk op-msg' data-timestamp='1535138280' id='627278'>
<a class='timestamp' href='#627278'><time timestamp='2018-08-24T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
gmaxwell: exactly
<br>
</div>

<div class='talk op-msg' data-timestamp='1535138280' id='627279'>
<a class='timestamp' href='#627279'><time timestamp='2018-08-24T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: not... really
<br>
</div>

<div class='talk op-msg' data-timestamp='1535138280' id='627280'>
<a class='timestamp' href='#627280'><time timestamp='2018-08-24T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
gmaxwell: but it is <u>_always_</u> the old serialization. no ambiguity there
<br>
</div>

<div class='talk op-msg' data-timestamp='1535138340' id='627281'>
<a class='timestamp' href='#627281'><time timestamp='2018-08-24T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
this discussion only happened because someone only has a heuristic tx decoder in their software, and finds it annoying to add a way to disable that heuristic
<br>
</div>

<div class='talk op-msg' data-timestamp='1535138340' id='627282'>
<a class='timestamp' href='#627282'><time timestamp='2018-08-24T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
achow101: sure, I agree.  Sipa was asking why wasn&#x27;t this commented on 9 months ago.  And my reply is because the shortfall (that 0 input PSBT aren&#x27;t a supported usecase) isn&#x27;t something I could extract from the spec.
<br>
</div>

<div class='talk op-msg' data-timestamp='1535138400' id='627283'>
<a class='timestamp' href='#627283'><time timestamp='2018-08-24T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
achow101: the ambiguity is because you don&#x27;t know if it&#x27;s 0-input or 1+ input segwit until you parse it correctly
<br>
</div>

<div class='talk op-msg' data-timestamp='1535138400' id='627284'>
<a class='timestamp' href='#627284'><time timestamp='2018-08-24T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
luke-jr: you&#x27;re missing context
<br>
</div>

<div class='talk op-msg' data-timestamp='1535138400' id='627285'>
<a class='timestamp' href='#627285'><time timestamp='2018-08-24T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
luke-jr: it&#x27;s not ambigius in PSBT.
<br>
</div>

<div class='talk op-msg' data-timestamp='1535138400' id='627286'>
<a class='timestamp' href='#627286'><time timestamp='2018-08-24T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
ok
<br>
</div>

<div class='talk op-msg' data-timestamp='1535138400' id='627287'>
<a class='timestamp' href='#627287'><time timestamp='2018-08-24T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
In PSBT the internal tx never has witnesses.
<br>
</div>

<div class='talk op-msg' data-timestamp='1535138460' id='627288'>
<a class='timestamp' href='#627288'><time timestamp='2018-08-24T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
gmaxwell: the format supports 0-inputs just fine. I think there&#x27;s even a test for it. the processes that we also defined in the bip do not.
<br>
</div>

<div class='talk op-msg' data-timestamp='1535138460' id='627289'>
<a class='timestamp' href='#627289'><time timestamp='2018-08-24T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: i think i always thought of PSBT as a better unambiguous serialization... but the BIP describes both a serialization and the procedures around it
<br>
</div>

<div class='talk op-msg' data-timestamp='1535138520' id='627290'>
<a class='timestamp' href='#627290'><time timestamp='2018-08-24T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
but the processes don&#x27;t matter that much. you can use the psbt format for whatever steps that occur before signing and then use the processes defined in the bip
<br>
</div>

<div class='talk op-msg' data-timestamp='1535138520' id='627291'>
<a class='timestamp' href='#627291'><time timestamp='2018-08-24T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and those procedures don&#x27;t really map well to the part where you&#x27;re still deciding what exactly to sign
<br>
</div>

<div class='talk op-msg' data-timestamp='1535138520' id='627292'>
<a class='timestamp' href='#627292'><time timestamp='2018-08-24T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I never read that stuff, it&#x27;s not normative (doesn&#x27;t change the meaning of the datastructures), and expirence from other BIPs suggests tha people ignore them. (see, for example BIP32)
<br>
</div>

<div class='talk op-msg' data-timestamp='1535138520' id='627293'>
<a class='timestamp' href='#627293'><time timestamp='2018-08-24T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(or at least don&#x27;t read it carefully)
<br>
</div>

<div class='talk op-msg' data-timestamp='1535138520' id='627294'>
<a class='timestamp' href='#627294'><time timestamp='2018-08-24T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: well, then you were right
<br>
</div>

<div class='talk op-msg' data-timestamp='1535138520' id='627295'>
<a class='timestamp' href='#627295'><time timestamp='2018-08-24T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that part of PSBT supports 0 inputs fine :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1535139660' id='627296'>
<a class='timestamp' href='#627296'><time timestamp='2018-08-24T19:41:00Z'>19:41</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sipa: thanks! confusion resolved!!
<br>
</div>

<div class='talk op-msg' data-timestamp='1535141580' id='627297'>
<a class='timestamp' href='#627297'><time timestamp='2018-08-24T20:13:00Z'>20:13</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
sipa: performance isn&#x27;t really the reason not to use it - [txindex] just doesn&#x27;t scale well&quot; - scale well in what regard? Space requirements should be linear with blockchain size for a full archival node, right?
<br>
</div>

<div class='talk op-msg' data-timestamp='1535141700' id='627298'>
<a class='timestamp' href='#627298'><time timestamp='2018-08-24T20:15:00Z'>20:15</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jnewbery: i don&#x27;t think it is realistic that everyone needs to store the whole chain
<br>
</div>

<div class='talk op-msg' data-timestamp='1535141760' id='627299'>
<a class='timestamp' href='#627299'><time timestamp='2018-08-24T20:16:00Z'>20:16</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
or have fast access to it
<br>
</div>

<div class='talk op-msg' data-timestamp='1535141760' id='627300'>
<a class='timestamp' href='#627300'><time timestamp='2018-08-24T20:16:00Z'>20:16</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
I agree! But for those that do, txindex is just a constant factor increase in space requirements
<br>
</div>

<div class='talk op-msg' data-timestamp='1535141760' id='627301'>
<a class='timestamp' href='#627301'><time timestamp='2018-08-24T20:16:00Z'>20:16</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sure
<br>
</div>

<div class='talk op-msg' data-timestamp='1535141760' id='627302'>
<a class='timestamp' href='#627302'><time timestamp='2018-08-24T20:16:00Z'>20:16</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
ie txindex scales as well as archival nodes scale
<br>
</div>

<div class='talk op-msg' data-timestamp='1535141820' id='627303'>
<a class='timestamp' href='#627303'><time timestamp='2018-08-24T20:17:00Z'>20:17</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but building solutions that rely on having a fully-indexed blockchain available isn&#x27;t scalable
<br>
</div>

<div class='talk op-msg' data-timestamp='1535141820' id='627304'>
<a class='timestamp' href='#627304'><time timestamp='2018-08-24T20:17:00Z'>20:17</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
you don&#x27;t need many archival nodes
<br>
</div>

<div class='talk op-msg' data-timestamp='1535141880' id='627305'>
<a class='timestamp' href='#627305'><time timestamp='2018-08-24T20:18:00Z'>20:18</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
furthermore, nothing really <u>_needs_</u> access to the full chain if designed well, in my opinion
<br>
</div>

<div class='talk op-msg' data-timestamp='1535141880' id='627306'>
<a class='timestamp' href='#627306'><time timestamp='2018-08-24T20:18:00Z'>20:18</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
except for debugging purposes
<br>
</div>

<div class='talk op-msg' data-timestamp='1535141880' id='627307'>
<a class='timestamp' href='#627307'><time timestamp='2018-08-24T20:18:00Z'>20:18</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
a block explorer?
<br>
</div>

<div class='talk op-msg' data-timestamp='1535141880' id='627308'>
<a class='timestamp' href='#627308'><time timestamp='2018-08-24T20:18:00Z'>20:18</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
for example
<br>
</div>

<div class='talk op-msg' data-timestamp='1535141940' id='627309'>
<a class='timestamp' href='#627309'><time timestamp='2018-08-24T20:19:00Z'>20:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
(i count that as debug purposes)
<br>
</div>

<div class='talk op-msg' data-timestamp='1535141940' id='627310'>
<a class='timestamp' href='#627310'><time timestamp='2018-08-24T20:19:00Z'>20:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
not something to rely upon for production
<br>
</div>

<div class='talk op-msg' data-timestamp='1535142000' id='627311'>
<a class='timestamp' href='#627311'><time timestamp='2018-08-24T20:20:00Z'>20:20</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
I agree that products shouldn&#x27;t <b>*rely*</b> on block explorers, but there&#x27;s demand for them now and I can&#x27;t imagine there&#x27;d ever not be demand for them
<br>
</div>

<div class='talk op-msg' data-timestamp='1535142000' id='627312'>
<a class='timestamp' href='#627312'><time timestamp='2018-08-24T20:20:00Z'>20:20</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sadly enough :(
<br>
</div>

<div class='talk op-msg' data-timestamp='1535142120' id='627313'>
<a class='timestamp' href='#627313'><time timestamp='2018-08-24T20:22:00Z'>20:22</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
however, in general i think we should discourage building on things like txindex
<br>
</div>

<div class='talk op-msg' data-timestamp='1535142120' id='627314'>
<a class='timestamp' href='#627314'><time timestamp='2018-08-24T20:22:00Z'>20:22</time></a>
&lt;<span class='nick nick-4'> jamesob</span>&gt;
and in any case it seems like there&#x27;ll always be use-cases which require rescan; ie when you become interested in an output you weren&#x27;t keeping tabs on before
<br>
</div>

<div class='talk op-msg' data-timestamp='1535142180' id='627315'>
<a class='timestamp' href='#627315'><time timestamp='2018-08-24T20:23:00Z'>20:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
as i fear we may end up with a less scalable ecosystem if everyone assumes it&#x27;s easy to just look up whatever transaction
<br>
</div>

<div class='talk op-msg' data-timestamp='1535142180' id='627316'>
<a class='timestamp' href='#627316'><time timestamp='2018-08-24T20:23:00Z'>20:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and of course there are use cases - it wouldn&#x27;t be there otherwise
<br>
</div>

<div class='talk op-msg' data-timestamp='1535142240' id='627317'>
<a class='timestamp' href='#627317'><time timestamp='2018-08-24T20:24:00Z'>20:24</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jamesob: i think that&#x27;s either sign of a badly designed system, or an emergency (for which i think it&#x27;s fine to need some index, you could also pay someone to look things up for you)
<br>
</div>

<div class='talk op-msg' data-timestamp='1535142300' id='627318'>
<a class='timestamp' href='#627318'><time timestamp='2018-08-24T20:25:00Z'>20:25</time></a>
&lt;<span class='nick nick-4'> jamesob</span>&gt;
yeah, maybe so
<br>
</div>

<div class='talk op-msg' data-timestamp='1535142360' id='627319'>
<a class='timestamp' href='#627319'><time timestamp='2018-08-24T20:26:00Z'>20:26</time></a>
&lt;<span class='nick nick-1'> roasbeef</span>&gt;
lnd doesn&#x27;t require the txindex, it&#x27;ll detect if the full node has it on or not, and fall back to just fetching blocks it needs manually, eventually if the gcs filters are exposed on RPC it could also fetch those before going for the full block it needs 
<br>
</div>

<div class='talk op-msg' data-timestamp='1535142540' id='627320'>
<a class='timestamp' href='#627320'><time timestamp='2018-08-24T20:29:00Z'>20:29</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
It&#x27;s fair to say that &#x27;assuming that it&#x27;s easy to just look up whatever transaction&#x27; isn&#x27;t a scalable architecture to build a product on, but I don&#x27;t think the txindex in itself is unscalable now that we #13033
<br>
</div>

<div class='talk op-msg' data-timestamp='1535142540' id='627321'>
<a class='timestamp' href='#627321'><time timestamp='2018-08-24T20:29:00Z'>20:29</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/13033" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/13033</a> | Build txindex in parallel with validation by jimpo · Pull Request #13033 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1535142660' id='627322'>
<a class='timestamp' href='#627322'><time timestamp='2018-08-24T20:31:00Z'>20:31</time></a>
&lt;<span class='nick nick-1'> roasbeef</span>&gt;
jnewbery: things could also be split up into distinct database, or even really just like memory mapped direct hash tables, shoving everything in leveldb makes other routine stuff slower as you end up with thousands of files that all need to be memory mapped and also to watch out for fd limits, then on top of that you end up with a handfull of disk seeks due to the file and sstable structure to read something like the offset of a txid in a block 
<br>
</div>

<div class='talk op-msg' data-timestamp='1535142780' id='627323'>
<a class='timestamp' href='#627323'><time timestamp='2018-08-24T20:33:00Z'>20:33</time></a>
&lt;<span class='nick nick-4'> jamesob</span>&gt;
roasbeef: jimpo&#x27;s txindex change already moves indices into separate leveldbs
<br>
</div>

<div class='talk op-msg' data-timestamp='1535142780' id='627324'>
<a class='timestamp' href='#627324'><time timestamp='2018-08-24T20:33:00Z'>20:33</time></a>
&lt;<span class='nick nick-1'> roasbeef</span>&gt;
Dizzle: we now continually also update a &quot;height hint&quot; so really a checkpoint of the state of that outpoint/txid of its best known state, so like if we know it isn&#x27;t conf&#x27;d at height 100, but it was broadcast at height 10 we know now to start at height 10
<br>
</div>

<div class='talk op-msg' data-timestamp='1535142780' id='627325'>
<a class='timestamp' href='#627325'><time timestamp='2018-08-24T20:33:00Z'>20:33</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
roasbeef: BIP157 will improve things further, i assume?
<br>
</div>

<div class='talk op-msg' data-timestamp='1535142780' id='627326'>
<a class='timestamp' href='#627326'><time timestamp='2018-08-24T20:33:00Z'>20:33</time></a>
&lt;<span class='nick nick-7'> Dizzle</span>&gt;
roasbeef: nice
<br>
</div>

<div class='talk op-msg' data-timestamp='1535142900' id='627327'>
<a class='timestamp' href='#627327'><time timestamp='2018-08-24T20:35:00Z'>20:35</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
ok, yes - that is fair, although in practice I&#x27;m not sure how much performance impact there is. If it&#x27;s truly a performance bottleneck, then I assume #13243 gives us the infrastructure to store txindex somewhere else
<br>
</div>

<div class='talk op-msg' data-timestamp='1535142900' id='627328'>
<a class='timestamp' href='#627328'><time timestamp='2018-08-24T20:35:00Z'>20:35</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/13243" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/13243</a> | Make reusable base class for auxiliary indices by jimpo · Pull Request #13243 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1535142900' id='627329'>
<a class='timestamp' href='#627329'><time timestamp='2018-08-24T20:35:00Z'>20:35</time></a>
&lt;<span class='nick nick-1'> roasbeef</span>&gt;
sipa: yeh, either if it&#x27;s going over p2p network, or just even getting the filters over rpc from the full node, as it can fetch the filters in batch, and also cache filters on its end
<br>
</div>

<div class='talk op-msg' data-timestamp='1535143020' id='627330'>
<a class='timestamp' href='#627330'><time timestamp='2018-08-24T20:37:00Z'>20:37</time></a>
&lt;<span class='nick nick-4'> jamesob</span>&gt;
jnewbery: indexes are already isolated from other dbs in /datadir/indexes/[index name]
<br>
</div>

<div class='talk op-msg' data-timestamp='1535143020' id='627331'>
<a class='timestamp' href='#627331'><time timestamp='2018-08-24T20:37:00Z'>20:37</time></a>
&lt;<span class='nick nick-1'> roasbeef</span>&gt;
also eventually the stuff about creating larger like hierarchical multi-block filters can help as well when the node has been offline for a long-ish time 
<br>
</div>

<div class='talk op-msg' data-timestamp='1535143500' id='627332'>
<a class='timestamp' href='#627332'><time timestamp='2018-08-24T20:45:00Z'>20:45</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Under a no-address reuse assumption (lol), hierarchical filters are never a win.
<br>
</div>

<div class='talk op-msg' data-timestamp='1535143560' id='627333'>
<a class='timestamp' href='#627333'><time timestamp='2018-08-24T20:46:00Z'>20:46</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
13:16:57 &lt; jnewbery&gt; ie txindex scales as well as archival nodes scale
<br>
</div>

<div class='talk op-msg' data-timestamp='1535143560' id='627334'>
<a class='timestamp' href='#627334'><time timestamp='2018-08-24T20:46:00Z'>20:46</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I don&#x27;t expect that archive nodes will be a thing in 10 years, outside of academic curiousity and what not.
<br>
</div>

<div class='talk op-msg' data-timestamp='1535143620' id='627335'>
<a class='timestamp' href='#627335'><time timestamp='2018-08-24T20:47:00Z'>20:47</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
No more than traces of all announced transactions from all peers in the network are a thing now.
<br>
</div>

<div class='talk op-msg' data-timestamp='1535143680' id='627336'>
<a class='timestamp' href='#627336'><time timestamp='2018-08-24T20:48:00Z'>20:48</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I expect that new nodes will sync up using a months old UTXO state thats vallidated according to the assumevalid model, then catch up.
<br>
</div>

<div class='talk op-msg' data-timestamp='1535143920' id='627337'>
<a class='timestamp' href='#627337'><time timestamp='2018-08-24T20:52:00Z'>20:52</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
Seems possible, but for the next 10 years I expect at least some people will want to run archival nodes!
<br>
</div>

<div class='talk op-msg' data-timestamp='1535143920' id='627338'>
<a class='timestamp' href='#627338'><time timestamp='2018-08-24T20:52:00Z'>20:52</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
oh absolutely, and we should do what we can to make that work well too.
<br>
</div>

<div class='talk op-msg' data-timestamp='1535143920' id='627339'>
<a class='timestamp' href='#627339'><time timestamp='2018-08-24T20:52:00Z'>20:52</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i hope they do.
<br>
</div>

<div class='talk op-msg' data-timestamp='1535143920' id='627340'>
<a class='timestamp' href='#627340'><time timestamp='2018-08-24T20:52:00Z'>20:52</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but i hope no services realpy need them
<br>
</div>

<div class='talk op-msg' data-timestamp='1535143980' id='627341'>
<a class='timestamp' href='#627341'><time timestamp='2018-08-24T20:53:00Z'>20:53</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I&#x27;ve pushed a lot on optimizations related to e.g. reindex/ibd in the last year specifically because once we&#x27;re syncing from AV-UTXO there will be much less motivation to improve these things.
<br>
</div>

<div class='talk op-msg' data-timestamp='1535144040' id='627342'>
<a class='timestamp' href='#627342'><time timestamp='2018-08-24T20:54:00Z'>20:54</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
to be clear - I&#x27;m not arguing that we should <b>*encourage*</b> the use of txindex or needing a full blockchain. I just wanted understand what was meant by &quot;txindex is unscalable&quot;.
<br>
</div>

<div class='talk op-msg' data-timestamp='1535144160' id='627343'>
<a class='timestamp' href='#627343'><time timestamp='2018-08-24T20:56:00Z'>20:56</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
right; i think it&#x27;s more &quot;an ecosystem relying on txindex doesn&#x27;t scale well&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1535144160' id='627344'>
<a class='timestamp' href='#627344'><time timestamp='2018-08-24T20:56:00Z'>20:56</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
yes, makes sense
<br>
</div>

<div class='talk op-msg' data-timestamp='1535144160' id='627345'>
<a class='timestamp' href='#627345'><time timestamp='2018-08-24T20:56:00Z'>20:56</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
txindex as an algorithmic thing itself scales as well as it could i think
<br>
</div>

<div class='talk op-msg' data-timestamp='1535144220' id='627346'>
<a class='timestamp' href='#627346'><time timestamp='2018-08-24T20:57:00Z'>20:57</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Well I&#x27;m sure it&#x27;s lacking a ton of possible optimizations.
<br>
</div>

<div class='talk op-msg' data-timestamp='1535144220' id='627347'>
<a class='timestamp' href='#627347'><time timestamp='2018-08-24T20:57:00Z'>20:57</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sure, but no dramatic complexity changes
<br>
</div>

<div class='talk op-msg' data-timestamp='1535144280' id='627348'>
<a class='timestamp' href='#627348'><time timestamp='2018-08-24T20:58:00Z'>20:58</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
no, just constant factors.
<br>
</div>

<div class='talk op-msg' data-timestamp='1535144280' id='627349'>
<a class='timestamp' href='#627349'><time timestamp='2018-08-24T20:58:00Z'>20:58</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
it&#x27;s not the txindex structure itself isn&#x27;t scable, it&#x27;s that operations over the chain history aren&#x27;t scalable. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1535144400' id='627350'>
<a class='timestamp' href='#627350'><time timestamp='2018-08-24T21:00:00Z'>21:00</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
sipa, has your opinion changed at all since this: I both hate and love this patch. I hate making it easy to build infrastructure that relies on a fully-indexed blockchain (which shouldn&#x27;t be necessary), as it may remove the incentive to build more scalable solutions. On the other hand, in cases where the alternative is relying on a trusted third party, this approach is certainly preferable, and 
<br>
</div>

<div class='talk op-msg' data-timestamp='1535144400' id='627351'>
<a class='timestamp' href='#627351'><time timestamp='2018-08-24T21:00:00Z'>21:00</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
would allow an RPC-based blockexplorer, for example.
<br>
</div>

<div class='talk op-msg' data-timestamp='1535144400' id='627352'>
<a class='timestamp' href='#627352'><time timestamp='2018-08-24T21:00:00Z'>21:00</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
(#2802)
<br>
</div>

<div class='talk op-msg' data-timestamp='1535144400' id='627353'>
<a class='timestamp' href='#627353'><time timestamp='2018-08-24T21:00:00Z'>21:00</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/2802" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/2802</a> | Add an address-based transaction index by sipa · Pull Request #2802 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1535144460' id='627354'>
<a class='timestamp' href='#627354'><time timestamp='2018-08-24T21:01:00Z'>21:01</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
RPC based explorer also needs a reversed spentness index.
<br>
</div>

<div class='talk op-msg' data-timestamp='1535144580' id='627355'>
<a class='timestamp' href='#627355'><time timestamp='2018-08-24T21:03:00Z'>21:03</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
jnewbery: it&#x27;s an interesting question of if people would actually use it if it was provided.  If they would I think it would be good to have. ... at least for the next 10 years, <u>_some_</u> users would stop bleeding privacy wise.
<br>
</div>

<div class='talk op-msg' data-timestamp='1535144820' id='627356'>
<a class='timestamp' href='#627356'><time timestamp='2018-08-24T21:07:00Z'>21:07</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jnewbery: i have the same love-hate relation with it :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1535144940' id='627357'>
<a class='timestamp' href='#627357'><time timestamp='2018-08-24T21:09:00Z'>21:09</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
good to know. Thanks!
<br>
</div>

<div class='talk op-msg' data-timestamp='1535144940' id='627358'>
<a class='timestamp' href='#627358'><time timestamp='2018-08-24T21:09:00Z'>21:09</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/pull/14055" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/14055</a> :( another RC?
<br>
</div>

<div class='talk op-msg' data-timestamp='1535145000' id='627359'>
<a class='timestamp' href='#627359'><time timestamp='2018-08-24T21:10:00Z'>21:10</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
we(not me clearly, someone else) kind of broke the call. Probably is a way around it(walletupdatepsbt?)
<br>
</div>

<div class='talk op-msg' data-timestamp='1535145000' id='627360'>
<a class='timestamp' href='#627360'><time timestamp='2018-08-24T21:10:00Z'>21:10</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
walletprocesspsbt
<br>
</div>

<div class='talk op-msg' data-timestamp='1535145060' id='627361'>
<a class='timestamp' href='#627361'><time timestamp='2018-08-24T21:11:00Z'>21:11</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Well I think unless it turns out that the memory usage increase is fictional, we&#x27;ll have another RC anyways.
<br>
</div>

<div class='talk op-msg' data-timestamp='1535145120' id='627362'>
<a class='timestamp' href='#627362'><time timestamp='2018-08-24T21:12:00Z'>21:12</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
phew
<br>
</div>

<div class='talk op-msg' data-timestamp='1535148300' id='627363'>
<a class='timestamp' href='#627363'><time timestamp='2018-08-24T22:05:00Z'>22:05</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
woo finally got powerpc64 builds out of gitian working
<br>
</div>

<div class='talk op-msg' data-timestamp='1535148360' id='627364'>
<a class='timestamp' href='#627364'><time timestamp='2018-08-24T22:06:00Z'>22:06</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
just in time for bluematt to close his PR :x
<br>
</div>

<div class='talk op-msg' data-timestamp='1535153040' id='627365'>
<a class='timestamp' href='#627365'><time timestamp='2018-08-24T23:24:00Z'>23:24</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
is it preferable to de-bundle libpng from depends/qt, or patch the libpng bundled with depends/qt?
<br>
</div>

<div class='talk op-msg' data-timestamp='1535153100' id='627366'>
<a class='timestamp' href='#627366'><time timestamp='2018-08-24T23:25:00Z'>23:25</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
cfields: ^
<br>
</div>

<div class='talk op-msg' data-timestamp='1535154480' id='627367'>
<a class='timestamp' href='#627367'><time timestamp='2018-08-24T23:48:00Z'>23:48</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
probably debundling, since Qt&#x27;s copy is missing the files needed :/
<br>
</div>

<div class='talk op-msg' data-timestamp='1535154480' id='627368'>
<a class='timestamp' href='#627368'><time timestamp='2018-08-24T23:48:00Z'>23:48</time></a>
&lt;<span class='nick nick-14'> * luke-jr</span>&gt;
ponders using virtfs for gitian cache
<br>
</div>

<div class='talk op-msg' data-timestamp='1535154660' id='627369'>
<a class='timestamp' href='#627369'><time timestamp='2018-08-24T23:51:00Z'>23:51</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
jonasschnelli: so this protocol&#x27;s use of a seperate chacha20 for the sizes is effectively halving the performance of our cypher.
<br>
</div>

<div class='talk op-msg' data-timestamp='1535154780' id='627370'>
<a class='timestamp' href='#627370'><time timestamp='2018-08-24T23:53:00Z'>23:53</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
jonasschnelli: the use of a message number as the nonce (instead of using a continious stream) will also decrease our performance for AVX by maybe 20%. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1535154840' id='627371'>
<a class='timestamp' href='#627371'><time timestamp='2018-08-24T23:54:00Z'>23:54</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: that&#x27;s a strange gratuitous performance reduction, indeed
<br>
</div>

<div class='talk op-msg' data-timestamp='1535154840' id='627372'>
<a class='timestamp' href='#627372'><time timestamp='2018-08-24T23:54:00Z'>23:54</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i wonder why openssh did that
<br>
</div>

<div class='talk op-msg' data-timestamp='1535154900' id='627373'>
<a class='timestamp' href='#627373'><time timestamp='2018-08-24T23:55:00Z'>23:55</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
maybe because they thought they would read ahead lengths and thus schedule the other runs more efficiently?
<br>
</div>

<div class='talk op-msg' data-timestamp='1535155020' id='627374'>
<a class='timestamp' href='#627374'><time timestamp='2018-08-24T23:57:00Z'>23:57</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
<a href="https://tools.ietf.org/html/draft-josefsson-ssh-chacha20-poly1305-openssh-00#section-3" class="link" target="_blank">https://tools.ietf.org/html/draft-josefsson-ssh-chacha20-poly1305-openssh-00#section-3</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1535155140' id='627375'>
<a class='timestamp' href='#627375'><time timestamp='2018-08-24T23:59:00Z'>23:59</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
the separation of the length and data cipher makes sense, but there&#x27;s no need to discard 28 bytes from each output of K_1
<br>
</div>

</div>
</section>

</body>
</html>
