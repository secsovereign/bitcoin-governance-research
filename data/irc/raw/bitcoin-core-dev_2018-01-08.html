<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2018-01-08
 — 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2018-01-08' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:22 UTC</pre>
<pre><a href="/bitcoin-core-dev/2017-12-08">&lt;</a><span class='header'>   January 2018   </span><a href="/bitcoin-core-dev/2018-02-08">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;    <a class="" href="/bitcoin-core-dev/2018-01-01">1</a>  <a class="" href="/bitcoin-core-dev/2018-01-02">2</a>  <a class="" href="/bitcoin-core-dev/2018-01-03">3</a>  <a class="" href="/bitcoin-core-dev/2018-01-04">4</a>  <a class="" href="/bitcoin-core-dev/2018-01-05">5</a>  <a class="" href="/bitcoin-core-dev/2018-01-06">6</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2018-01-07">7</a>  <a class="current" href="/bitcoin-core-dev/2018-01-08">8</a>  <a class="" href="/bitcoin-core-dev/2018-01-09">9</a> <a class="" href="/bitcoin-core-dev/2018-01-10">10</a> <a class="" href="/bitcoin-core-dev/2018-01-11">11</a> <a class="" href="/bitcoin-core-dev/2018-01-12">12</a> <a class="" href="/bitcoin-core-dev/2018-01-13">13</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2018-01-14">14</a> <a class="" href="/bitcoin-core-dev/2018-01-15">15</a> <a class="" href="/bitcoin-core-dev/2018-01-16">16</a> <a class="" href="/bitcoin-core-dev/2018-01-17">17</a> <a class="" href="/bitcoin-core-dev/2018-01-18">18</a> <a class="" href="/bitcoin-core-dev/2018-01-19">19</a> <a class="" href="/bitcoin-core-dev/2018-01-20">20</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2018-01-21">21</a> <a class="" href="/bitcoin-core-dev/2018-01-22">22</a> <a class="" href="/bitcoin-core-dev/2018-01-23">23</a> <a class="" href="/bitcoin-core-dev/2018-01-24">24</a> <a class="" href="/bitcoin-core-dev/2018-01-25">25</a> <a class="" href="/bitcoin-core-dev/2018-01-26">26</a> <a class="" href="/bitcoin-core-dev/2018-01-27">27</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2018-01-28">28</a> <a class="" href="/bitcoin-core-dev/2018-01-29">29</a> <a class="" href="/bitcoin-core-dev/2018-01-30">30</a> <a class="" href="/bitcoin-core-dev/2018-01-31">31</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1515372720' id='592313'>
<a class='timestamp' href='#592313'><time timestamp='2018-01-08T00:52:00Z'>00:52</time></a>
&lt;<span class='nick nick-16'> go1111111</span>&gt;
is it a known issue that the input selection UI is super unresponsive while Core 0.15.1 is syncing the blockchain? it&#x27;s taking over 5 seconds to respond to mouse actions (I&#x27;m using Linux Mint 18.2). If not, could someone try to repro it to verify its not something weird in my machine?
<br>
</div>

<div class='talk op-msg' data-timestamp='1515372780' id='592314'>
<a class='timestamp' href='#592314'><time timestamp='2018-01-08T00:53:00Z'>00:53</time></a>
&lt;<span class='nick nick-16'> go1111111</span>&gt;
once Core is fully synced, the input selection UI responds quickly
<br>
</div>

<div class='talk op-msg' data-timestamp='1515373260' id='592315'>
<a class='timestamp' href='#592315'><time timestamp='2018-01-08T01:01:00Z'>01:01</time></a>
&lt;<span class='nick nick-8'> eu-Robert</span>&gt;
sounds like a low priority problem
<br>
</div>

<div class='talk op-msg' data-timestamp='1515373260' id='592316'>
<a class='timestamp' href='#592316'><time timestamp='2018-01-08T01:01:00Z'>01:01</time></a>
&lt;<span class='nick nick-8'> eu-Robert</span>&gt;
as in low priority to fix
<br>
</div>

<div class='talk op-msg' data-timestamp='1515376560' id='592317'>
<a class='timestamp' href='#592317'><time timestamp='2018-01-08T01:56:00Z'>01:56</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
yay, Gentoo finally addressed that 2015 miniupnpc buffer overflow <a href="https://security.gentoo.org/glsa/201801-08" class="link" target="_blank">https://security.gentoo.org/glsa/201801-08</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1515377880' id='592318'>
<a class='timestamp' href='#592318'><time timestamp='2018-01-08T02:18:00Z'>02:18</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jackycjh opened pull request #12112: Docs: Remove the ending slashes from RPC URI format. (master...docs/multi-wallet_RPC_interface_correction) <a href="https://github.com/bitcoin/bitcoin/pull/12112" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/12112</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1515380940' id='592319'>
<a class='timestamp' href='#592319'><time timestamp='2018-01-08T03:09:00Z'>03:09</time></a>
&lt;<span class='nick nick-13'> tri333</span>&gt;
hi     
<br>
</div>

<div class='talk op-msg' data-timestamp='1515393660' id='592320'>
<a class='timestamp' href='#592320'><time timestamp='2018-01-08T06:41:00Z'>06:41</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] AjkP opened pull request #12113: Qt: Fixed styling in modaloverlay.cpp (master...ajkp/modaloverlay_styling) <a href="https://github.com/bitcoin/bitcoin/pull/12113" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/12113</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1515398880' id='592321'>
<a class='timestamp' href='#592321'><time timestamp='2018-01-08T08:08:00Z'>08:08</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] TexasSooner opened pull request #12114: update jan 8 (master...master) <a href="https://github.com/bitcoin/bitcoin/pull/12114" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/12114</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1515398940' id='592322'>
<a class='timestamp' href='#592322'><time timestamp='2018-01-08T08:09:00Z'>08:09</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] TexasSooner closed pull request #12114: update jan 8 (master...master) <a href="https://github.com/bitcoin/bitcoin/pull/12114" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/12114</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1515404820' id='592323'>
<a class='timestamp' href='#592323'><time timestamp='2018-01-08T09:47:00Z'>09:47</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
BlueMatt: feel like having a look at #11403 again?
<br>
</div>

<div class='talk op-msg' data-timestamp='1515404820' id='592324'>
<a class='timestamp' href='#592324'><time timestamp='2018-01-08T09:47:00Z'>09:47</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/11403" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/11403</a> | SegWit wallet support by sipa · Pull Request #11403 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1515405000' id='592325'>
<a class='timestamp' href='#592325'><time timestamp='2018-01-08T09:50:00Z'>09:50</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke closed pull request #12113: Qt: Fixed styling in modaloverlay.cpp (master...ajkp/modaloverlay_styling) <a href="https://github.com/bitcoin/bitcoin/pull/12113" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/12113</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1515423480' id='592326'>
<a class='timestamp' href='#592326'><time timestamp='2018-01-08T14:58:00Z'>14:58</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
sipa: yep, will do today
<br>
</div>

<div class='talk op-msg' data-timestamp='1515427380' id='592327'>
<a class='timestamp' href='#592327'><time timestamp='2018-01-08T16:03:00Z'>16:03</time></a>
&lt;<span class='nick nick-9'> Schwineigel</span>&gt;
help
<br>
</div>

<div class='talk op-msg' data-timestamp='1515427440' id='592328'>
<a class='timestamp' href='#592328'><time timestamp='2018-01-08T16:04:00Z'>16:04</time></a>
&lt;<span class='nick nick-9'> Schwineigel</span>&gt;
first transaction did not go through. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1515427440' id='592329'>
<a class='timestamp' href='#592329'><time timestamp='2018-01-08T16:04:00Z'>16:04</time></a>
&lt;<span class='nick nick-9'> Schwineigel</span>&gt;
it was sent 6 jan 18
<br>
</div>

<div class='talk op-msg' data-timestamp='1515427500' id='592330'>
<a class='timestamp' href='#592330'><time timestamp='2018-01-08T16:05:00Z'>16:05</time></a>
&lt;<span class='nick nick-9'> Schwineigel</span>&gt;
what do i do
<br>
</div>

<div class='talk op-msg' data-timestamp='1515427500' id='592331'>
<a class='timestamp' href='#592331'><time timestamp='2018-01-08T16:05:00Z'>16:05</time></a>
&lt;<span class='nick nick-14'> Lauda</span>&gt;
Schwineigel: #bitcoin
<br>
</div>

<div class='talk op-msg' data-timestamp='1515427500' id='592332'>
<a class='timestamp' href='#592332'><time timestamp='2018-01-08T16:05:00Z'>16:05</time></a>
&lt;<span class='nick nick-9'> Schwineigel</span>&gt;
hi     
<br>
</div>

<div class='talk op-msg' data-timestamp='1515427620' id='592333'>
<a class='timestamp' href='#592333'><time timestamp='2018-01-08T16:07:00Z'>16:07</time></a>
&lt;<span class='nick nick-9'> Schwineigel</span>&gt;
My first transaction sending satoshi out did not work what do i do?
<br>
</div>

<div class='talk op-msg' data-timestamp='1515427620' id='592334'>
<a class='timestamp' href='#592334'><time timestamp='2018-01-08T16:07:00Z'>16:07</time></a>
&lt;<span class='nick nick-9'> Schwineigel</span>&gt;
It was sent 6 Jan 18 it is still pending
<br>
</div>

<div class='talk op-msg' data-timestamp='1515427800' id='592335'>
<a class='timestamp' href='#592335'><time timestamp='2018-01-08T16:10:00Z'>16:10</time></a>
&lt;<span class='nick nick-9'> Schwineigel</span>&gt;
i guess i came to the wrong place for help
<br>
</div>

<div class='talk op-msg' data-timestamp='1515427920' id='592336'>
<a class='timestamp' href='#592336'><time timestamp='2018-01-08T16:12:00Z'>16:12</time></a>
&lt;<span class='nick nick-9'> Schwineigel</span>&gt;
i came here to find help
<br>
</div>

<div class='talk op-msg' data-timestamp='1515427980' id='592337'>
<a class='timestamp' href='#592337'><time timestamp='2018-01-08T16:13:00Z'>16:13</time></a>
&lt;<span class='nick nick-9'> Schwineigel</span>&gt;
My trasnaction has not gone through, i made it on 6 jan
<br>
</div>

<div class='talk op-msg' data-timestamp='1515427980' id='592338'>
<a class='timestamp' href='#592338'><time timestamp='2018-01-08T16:13:00Z'>16:13</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
Schwineigel: this channel is for Bitcoin Core development, not for helping users
<br>
</div>

<div class='talk op-msg' data-timestamp='1515427980' id='592339'>
<a class='timestamp' href='#592339'><time timestamp='2018-01-08T16:13:00Z'>16:13</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
for general help, go to #bitcoin
<br>
</div>

<div class='talk op-msg' data-timestamp='1515428040' id='592340'>
<a class='timestamp' href='#592340'><time timestamp='2018-01-08T16:14:00Z'>16:14</time></a>
&lt;<span class='nick nick-9'> Schwineigel</span>&gt;
ok sorry to bother you. thanks for the info
<br>
</div>

<div class='talk op-msg' data-timestamp='1515430080' id='592341'>
<a class='timestamp' href='#592341'><time timestamp='2018-01-08T16:48:00Z'>16:48</time></a>
&lt;<span class='nick nick-15'> ossifrage</span>&gt;
still no love building bitcoin-qt with -flto: ./libtool: line 1720: 18164 Segmentation fault      (core dumped) /usr/bin/gcc-ranlib .libs/libsecp256k1.a
<br>
</div>

<div class='talk op-msg' data-timestamp='1515430440' id='592342'>
<a class='timestamp' href='#592342'><time timestamp='2018-01-08T16:54:00Z'>16:54</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
ossifrage: segfault in ranlib sounds like a gcc bug to be reported upstream, no?
<br>
</div>

<div class='talk op-msg' data-timestamp='1515433500' id='592343'>
<a class='timestamp' href='#592343'><time timestamp='2018-01-08T17:45:00Z'>17:45</time></a>
&lt;<span class='nick nick-15'> ossifrage</span>&gt;
BlueMatt, yeah it should be reported upstream, but I haven&#x27;t put the effort in to find a clean testcase
<br>
</div>

<div class='talk op-msg' data-timestamp='1515437940' id='592344'>
<a class='timestamp' href='#592344'><time timestamp='2018-01-08T18:59:00Z'>18:59</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] sdaftuar opened pull request #12118: Sort mempool by min(feerate, ancestor_feerate) (master...2018-01-fix-mempool-score) <a href="https://github.com/bitcoin/bitcoin/pull/12118" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/12118</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1515439500' id='592345'>
<a class='timestamp' href='#592345'><time timestamp='2018-01-08T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] Sjors opened pull request #12119:  [wallet] use bech32 change address if all destinations are bech32 (master...bech32-change) <a href="https://github.com/bitcoin/bitcoin/pull/12119" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/12119</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1515440040' id='592346'>
<a class='timestamp' href='#592346'><time timestamp='2018-01-08T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] TheBlueMatt opened pull request #12120: Add dev guideline limiting auto usage. (master...2018-01-auto-devnotes) <a href="https://github.com/bitcoin/bitcoin/pull/12120" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/12120</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1515440040' id='592347'>
<a class='timestamp' href='#592347'><time timestamp='2018-01-08T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-16'> * BlueMatt</span>&gt;
is gonna have to start a policy of auto-nacking anything with auto that doesnt save at least 30 chars of typing
<br>
</div>

<div class='talk op-msg' data-timestamp='1515440520' id='592348'>
<a class='timestamp' href='#592348'><time timestamp='2018-01-08T19:42:00Z'>19:42</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
BlueMatt: :(
<br>
</div>

<div class='talk op-msg' data-timestamp='1515440580' id='592349'>
<a class='timestamp' href='#592349'><time timestamp='2018-01-08T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-13'> * achow101</span>&gt;
replaces every word in the repo with auto
<br>
</div>

<div class='talk op-msg' data-timestamp='1515440700' id='592350'>
<a class='timestamp' href='#592350'><time timestamp='2018-01-08T19:45:00Z'>19:45</time></a>
&lt;<span class='nick nick-6'> TD-Linux</span>&gt;
#define let const auto
<br>
</div>

<div class='talk op-msg' data-timestamp='1515440940' id='592351'>
<a class='timestamp' href='#592351'><time timestamp='2018-01-08T19:49:00Z'>19:49</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
Does the bitcoin core software dump txs back into the mempool when a chain is clearly orphaned? 
<br>
</div>

<div class='talk op-msg' data-timestamp='1515440940' id='592352'>
<a class='timestamp' href='#592352'><time timestamp='2018-01-08T19:49:00Z'>19:49</time></a>
&lt;<span class='nick nick-16'> * BlueMatt</span>&gt;
is an auto-kermudgen
<br>
</div>

<div class='talk op-msg' data-timestamp='1515440940' id='592353'>
<a class='timestamp' href='#592353'><time timestamp='2018-01-08T19:49:00Z'>19:49</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
BlueMatt: i don&#x27;t understand the rationale for that. in the case you reference, just see it as a replacement for inlining
<br>
</div>

<div class='talk op-msg' data-timestamp='1515441000' id='592354'>
<a class='timestamp' href='#592354'><time timestamp='2018-01-08T19:50:00Z'>19:50</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
(you could replace the two instances of &#x27;key&#x27; with a call to GetKeyForDestination)
<br>
</div>

<div class='talk op-msg' data-timestamp='1515441060' id='592355'>
<a class='timestamp' href='#592355'><time timestamp='2018-01-08T19:51:00Z'>19:51</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
anyway, i don&#x27;t feel strongly and if you insist i&#x27;ll gladly change it... but i think making the type explicit there is less readable
<br>
</div>

<div class='talk op-msg' data-timestamp='1515441240' id='592356'>
<a class='timestamp' href='#592356'><time timestamp='2018-01-08T19:54:00Z'>19:54</time></a>
&lt;<span class='nick nick-7'> Dizzle</span>&gt;
Chris_Stewart_5: yep! It will not automatically rebroadcast them though. It will of course send along its revised mempool to any other peer that asks for it though.
<br>
</div>

<div class='talk op-msg' data-timestamp='1515441300' id='592357'>
<a class='timestamp' href='#592357'><time timestamp='2018-01-08T19:55:00Z'>19:55</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
I can see places where auto can help readability, and also places where it can hurt readability.
<br>
</div>

<div class='talk op-msg' data-timestamp='1515441300' id='592358'>
<a class='timestamp' href='#592358'><time timestamp='2018-01-08T19:55:00Z'>19:55</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
sipa: I mean my objection in cases like that is if i want to go audit what IsNull does, I now have to go lookup two things, indeed there is a tradeoff because there may be a type conversion hiding in the = (evil, evil C++), but...
<br>
</div>

<div class='talk op-msg' data-timestamp='1515441300' id='592359'>
<a class='timestamp' href='#592359'><time timestamp='2018-01-08T19:55:00Z'>19:55</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
with auto you know no implciit type conversion can happen :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1515441360' id='592360'>
<a class='timestamp' href='#592360'><time timestamp='2018-01-08T19:56:00Z'>19:56</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
(and, yes, I do look up things like what IsNull() does quite often in review, but of course it depends on what the type is of if I know what it does already....)
<br>
</div>

<div class='talk op-msg' data-timestamp='1515441360' id='592361'>
<a class='timestamp' href='#592361'><time timestamp='2018-01-08T19:56:00Z'>19:56</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
indeed, thats the tradeoff...I wish there were a &quot;this type, and no fucking conversion you piece of shit compiler&quot; option in C++
<br>
</div>

<div class='talk op-msg' data-timestamp='1515441360' id='592362'>
<a class='timestamp' href='#592362'><time timestamp='2018-01-08T19:56:00Z'>19:56</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
or make all type conversions explicit :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1515441360' id='592363'>
<a class='timestamp' href='#592363'><time timestamp='2018-01-08T19:56:00Z'>19:56</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
well, yea
<br>
</div>

<div class='talk op-msg' data-timestamp='1515441420' id='592364'>
<a class='timestamp' href='#592364'><time timestamp='2018-01-08T19:57:00Z'>19:57</time></a>
&lt;<span class='nick nick-16'> * BlueMatt</span>&gt;
hates surprises
<br>
</div>

<div class='talk op-msg' data-timestamp='1515441420' id='592365'>
<a class='timestamp' href='#592365'><time timestamp='2018-01-08T19:57:00Z'>19:57</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
with the auto in the case mentioned, I have to go do a speculative lookup of the type and use that to speculatively lookup what IsNull() does....waiiiitttttt
<br>
</div>

<div class='talk op-msg' data-timestamp='1515441480' id='592366'>
<a class='timestamp' href='#592366'><time timestamp='2018-01-08T19:58:00Z'>19:58</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
right... but if thete was only one instance of &#x27;key&#x27; in the function, and the GetKeyForDestination clal was inlined into it.... would you complain about that too?
<br>
</div>

<div class='talk op-msg' data-timestamp='1515441480' id='592367'>
<a class='timestamp' href='#592367'><time timestamp='2018-01-08T19:58:00Z'>19:58</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
this is just a more efficient way of doing that
<br>
</div>

<div class='talk op-msg' data-timestamp='1515441600' id='592368'>
<a class='timestamp' href='#592368'><time timestamp='2018-01-08T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-16'> * BlueMatt</span>&gt;
has been reading too many spectre posts this weekend, clearly
<br>
</div>

<div class='talk op-msg' data-timestamp='1515441600' id='592369'>
<a class='timestamp' href='#592369'><time timestamp='2018-01-08T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-7'> cncr04s</span>&gt;
Is it possible to implement working mainnet LN on my service?
<br>
</div>

<div class='talk op-msg' data-timestamp='1515441660' id='592370'>
<a class='timestamp' href='#592370'><time timestamp='2018-01-08T20:01:00Z'>20:01</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
Dizzle: Is there a specific amount of confirmations required to do this? I.e. one chain is ahead of the orphaned chain by 6 confirmations
<br>
</div>

<div class='talk op-msg' data-timestamp='1515441720' id='592371'>
<a class='timestamp' href='#592371'><time timestamp='2018-01-08T20:02:00Z'>20:02</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
BlueMatt: happen to find a usable workaround? :x
<br>
</div>

<div class='talk op-msg' data-timestamp='1515441780' id='592372'>
<a class='timestamp' href='#592372'><time timestamp='2018-01-08T20:03:00Z'>20:03</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
sipa: no, in that case I likely wouldnt have looked up the type, but I probably should have to check for implicit conversion, but mostly in that case I would have just go read the function taking it as argument and found the type in the signature, the issue is that its actually used for more than the pass-through
<br>
</div>

<div class='talk op-msg' data-timestamp='1515441780' id='592373'>
<a class='timestamp' href='#592373'><time timestamp='2018-01-08T20:03:00Z'>20:03</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
BlueMatt: you misunderstand
<br>
</div>

<div class='talk op-msg' data-timestamp='1515441840' id='592374'>
<a class='timestamp' href='#592374'><time timestamp='2018-01-08T20:04:00Z'>20:04</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
luke-jr: depends on how many syscalls you do....also, the fucking intel microcode updates are all-but-undocumented
<br>
</div>

<div class='talk op-msg' data-timestamp='1515441840' id='592375'>
<a class='timestamp' href='#592375'><time timestamp='2018-01-08T20:04:00Z'>20:04</time></a>
&lt;<span class='nick nick-3'> CryptAxe</span>&gt;
Chris_Stewart_5 : <a href="https://github.com/bitcoin/bitcoin/blob/master/src/validation.cpp#L2199-L2243" class="link" target="_blank">https://github.com/bitcoin/bitcoin/blob/master/src/validation.cpp#L2199-L2243</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1515441840' id='592376'>
<a class='timestamp' href='#592376'><time timestamp='2018-01-08T20:04:00Z'>20:04</time></a>
&lt;<span class='nick nick-3'> CryptAxe</span>&gt;
specifically: <a href="https://github.com/bitcoin/bitcoin/blob/master/src/validation.cpp#L2223-L2234" class="link" target="_blank">https://github.com/bitcoin/bitcoin/blob/master/src/validation.cpp#L2223-L2234</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1515441840' id='592377'>
<a class='timestamp' href='#592377'><time timestamp='2018-01-08T20:04:00Z'>20:04</time></a>
&lt;<span class='nick nick-3'> CryptAxe</span>&gt;
Looks like they are added to the mempool right when the block is disconnected 
<br>
</div>

<div class='talk op-msg' data-timestamp='1515441900' id='592378'>
<a class='timestamp' href='#592378'><time timestamp='2018-01-08T20:05:00Z'>20:05</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
BlueMatt: imagine that instead of key.IsNull() it was GetKeyForDestination(*pwallet, dest).IsNull()
<br>
</div>

<div class='talk op-msg' data-timestamp='1515441900' id='592379'>
<a class='timestamp' href='#592379'><time timestamp='2018-01-08T20:05:00Z'>20:05</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
CryptAxe, Chris_Stewart_5: yes, immediately... what else?
<br>
</div>

<div class='talk op-msg' data-timestamp='1515441900' id='592380'>
<a class='timestamp' href='#592380'><time timestamp='2018-01-08T20:05:00Z'>20:05</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
then I&#x27;d have to do the same lookup as the auto, but possibly wouldnt have complained, no, it still sucks just as much
<br>
</div>

<div class='talk op-msg' data-timestamp='1515441960' id='592381'>
<a class='timestamp' href='#592381'><time timestamp='2018-01-08T20:06:00Z'>20:06</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
okay :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1515441960' id='592382'>
<a class='timestamp' href='#592382'><time timestamp='2018-01-08T20:06:00Z'>20:06</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
so you&#x27;re basically saying that every intermediate expression should be annotated explicitly with its type (apart from that being unreasonable)
<br>
</div>

<div class='talk op-msg' data-timestamp='1515442020' id='592383'>
<a class='timestamp' href='#592383'><time timestamp='2018-01-08T20:07:00Z'>20:07</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
it would assist with review, and were it roughly as readable, I&#x27;d highly, highly prefer that
<br>
</div>

<div class='talk op-msg' data-timestamp='1515442020' id='592384'>
<a class='timestamp' href='#592384'><time timestamp='2018-01-08T20:07:00Z'>20:07</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
CryptAxe: Thanks! 
<br>
</div>

<div class='talk op-msg' data-timestamp='1515442020' id='592385'>
<a class='timestamp' href='#592385'><time timestamp='2018-01-08T20:07:00Z'>20:07</time></a>
&lt;<span class='nick nick-16'> * BlueMatt</span>&gt;
hates surprises :p
<br>
</div>

<div class='talk op-msg' data-timestamp='1515442080' id='592386'>
<a class='timestamp' href='#592386'><time timestamp='2018-01-08T20:08:00Z'>20:08</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
BlueMatt: fair; i guess i just disagree that that is more readable :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1515442080' id='592387'>
<a class='timestamp' href='#592387'><time timestamp='2018-01-08T20:08:00Z'>20:08</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
its all of 4 chars longer on a short line :(
<br>
</div>

<div class='talk op-msg' data-timestamp='1515442140' id='592388'>
<a class='timestamp' href='#592388'><time timestamp='2018-01-08T20:09:00Z'>20:09</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
maybe I just need to hack my editor to pull shit out of the C++ ast and display the types :p
<br>
</div>

<div class='talk op-msg' data-timestamp='1515443820' id='592389'>
<a class='timestamp' href='#592389'><time timestamp='2018-01-08T20:37:00Z'>20:37</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
sipa: wait, for bech32 addresses, why do we need to add the p2sh-wrapped segwit thinggy to the wallet?
<br>
</div>

<div class='talk op-msg' data-timestamp='1515443940' id='592390'>
<a class='timestamp' href='#592390'><time timestamp='2018-01-08T20:39:00Z'>20:39</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
BlueMatt: because the IsMine logic added in 0.13.1 (for maximal conservativeness at the time) requires the presence of the redeemscript in the keystore even for native segwit output
<br>
</div>

<div class='talk op-msg' data-timestamp='1515444000' id='592391'>
<a class='timestamp' href='#592391'><time timestamp='2018-01-08T20:40:00Z'>20:40</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
ah, ok, didnt realize that
<br>
</div>

<div class='talk op-msg' data-timestamp='1515444000' id='592392'>
<a class='timestamp' href='#592392'><time timestamp='2018-01-08T20:40:00Z'>20:40</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
or...recall that
<br>
</div>

<div class='talk op-msg' data-timestamp='1515444000' id='592393'>
<a class='timestamp' href='#592393'><time timestamp='2018-01-08T20:40:00Z'>20:40</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
this was to make sure we don&#x27;t accidentally treat outputs to uncompressed keys in witness versionas ours
<br>
</div>

<div class='talk op-msg' data-timestamp='1515444000' id='592394'>
<a class='timestamp' href='#592394'><time timestamp='2018-01-08T20:40:00Z'>20:40</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
yea     
<br>
</div>

<div class='talk op-msg' data-timestamp='1515444060' id='592395'>
<a class='timestamp' href='#592395'><time timestamp='2018-01-08T20:41:00Z'>20:41</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i think that was overkill now, but it was not a bad strategy to need something explicit to mark a partocular output as ours
<br>
</div>

<div class='talk op-msg' data-timestamp='1515444060' id='592396'>
<a class='timestamp' href='#592396'><time timestamp='2018-01-08T20:41:00Z'>20:41</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
yea     
<br>
</div>

<div class='talk op-msg' data-timestamp='1515444120' id='592397'>
<a class='timestamp' href='#592397'><time timestamp='2018-01-08T20:42:00Z'>20:42</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
oh, while you&#x27;re here, have you tested adding a bech32 address to the addressbook and then trying to open the wallet with 0.15 qt?
<br>
</div>

<div class='talk op-msg' data-timestamp='1515444180' id='592398'>
<a class='timestamp' href='#592398'><time timestamp='2018-01-08T20:43:00Z'>20:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
no, i haven&#x27;t tried qt
<br>
</div>

<div class='talk op-msg' data-timestamp='1515444240' id='592399'>
<a class='timestamp' href='#592399'><time timestamp='2018-01-08T20:44:00Z'>20:44</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i&#x27;ve made necessary changes for it to compile, but there may be other changes necessary (especially if we want bech32 error detection in the gui)
<br>
</div>

<div class='talk op-msg' data-timestamp='1515444240' id='592400'>
<a class='timestamp' href='#592400'><time timestamp='2018-01-08T20:44:00Z'>20:44</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
well, ok, have you tested adding a bech32 address to the addressbook and then calling 0.15 getaddressesbyaccount on the same wallet?
<br>
</div>

<div class='talk op-msg' data-timestamp='1515444360' id='592401'>
<a class='timestamp' href='#592401'><time timestamp='2018-01-08T20:46:00Z'>20:46</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
no, i haven&#x27;t tested anything with the gui
<br>
</div>

<div class='talk op-msg' data-timestamp='1515444360' id='592402'>
<a class='timestamp' href='#592402'><time timestamp='2018-01-08T20:46:00Z'>20:46</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
not gui
<br>
</div>

<div class='talk op-msg' data-timestamp='1515444360' id='592403'>
<a class='timestamp' href='#592403'><time timestamp='2018-01-08T20:46:00Z'>20:46</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
rpc     
<br>
</div>

<div class='talk op-msg' data-timestamp='1515444480' id='592404'>
<a class='timestamp' href='#592404'><time timestamp='2018-01-08T20:48:00Z'>20:48</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ah     
<br>
</div>

<div class='talk op-msg' data-timestamp='1515444540' id='592405'>
<a class='timestamp' href='#592405'><time timestamp='2018-01-08T20:49:00Z'>20:49</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
does it blow up? I really have no idea, it just looks like it should blow up or UB or do something strange
<br>
</div>

<div class='talk op-msg' data-timestamp='1515444540' id='592406'>
<a class='timestamp' href='#592406'><time timestamp='2018-01-08T20:49:00Z'>20:49</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
p2sh certainly is tested, as most rpc tests use the default addresstype
<br>
</div>

<div class='talk op-msg' data-timestamp='1515444540' id='592407'>
<a class='timestamp' href='#592407'><time timestamp='2018-01-08T20:49:00Z'>20:49</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
how s?
<br>
</div>

<div class='talk op-msg' data-timestamp='1515444540' id='592408'>
<a class='timestamp' href='#592408'><time timestamp='2018-01-08T20:49:00Z'>20:49</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
what happens when you blindly cast from a variant&lt;CNoDestination&gt; to a CBitcoinAddress?
<br>
</div>

<div class='talk op-msg' data-timestamp='1515444600' id='592409'>
<a class='timestamp' href='#592409'><time timestamp='2018-01-08T20:50:00Z'>20:50</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
cast?
<br>
</div>

<div class='talk op-msg' data-timestamp='1515444600' id='592410'>
<a class='timestamp' href='#592410'><time timestamp='2018-01-08T20:50:00Z'>20:50</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
those are not compatible types
<br>
</div>

<div class='talk op-msg' data-timestamp='1515444600' id='592411'>
<a class='timestamp' href='#592411'><time timestamp='2018-01-08T20:50:00Z'>20:50</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
yes, thats what I thought, but we do a for (pair&lt;CBitcoinAddress, CAddressBookData&gt;&amp; : mapAddressBook)
<br>
</div>

<div class='talk op-msg' data-timestamp='1515444660' id='592412'>
<a class='timestamp' href='#592412'><time timestamp='2018-01-08T20:51:00Z'>20:51</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
which reads to me as &quot;wat&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1515444660' id='592413'>
<a class='timestamp' href='#592413'><time timestamp='2018-01-08T20:51:00Z'>20:51</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
and if you put bech32 in the address book, I think 0.15 will end up with a CNoDestination in your mapAddressBook
<br>
</div>

<div class='talk op-msg' data-timestamp='1515444840' id='592414'>
<a class='timestamp' href='#592414'><time timestamp='2018-01-08T20:54:00Z'>20:54</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
BlueMatt: oh, on downgrade!
<br>
</div>

<div class='talk op-msg' data-timestamp='1515444840' id='592415'>
<a class='timestamp' href='#592415'><time timestamp='2018-01-08T20:54:00Z'>20:54</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ouch
<br>
</div>

<div class='talk op-msg' data-timestamp='1515444840' id='592416'>
<a class='timestamp' href='#592416'><time timestamp='2018-01-08T20:54:00Z'>20:54</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
yes, I think we&#x27;re like...kinda fucked
<br>
</div>

<div class='talk op-msg' data-timestamp='1515444840' id='592417'>
<a class='timestamp' href='#592417'><time timestamp='2018-01-08T20:54:00Z'>20:54</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
I dunno how to fix that aside from a whole new map for segwit address labels :/
<br>
</div>

<div class='talk op-msg' data-timestamp='1515444900' id='592418'>
<a class='timestamp' href='#592418'><time timestamp='2018-01-08T20:55:00Z'>20:55</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
(which isnt the worst idea, but its a big change)
<br>
</div>

<div class='talk op-msg' data-timestamp='1515444900' id='592419'>
<a class='timestamp' href='#592419'><time timestamp='2018-01-08T20:55:00Z'>20:55</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
should check if my reading is actually correct, I&#x27;m still a bit foggy
<br>
</div>

<div class='talk op-msg' data-timestamp='1515444900' id='592420'>
<a class='timestamp' href='#592420'><time timestamp='2018-01-08T20:55:00Z'>20:55</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
well, as soon as you request a bech32 address - which is always an explicit action - you can&#x27;t downgrade anymore i guess
<br>
</div>

<div class='talk op-msg' data-timestamp='1515444900' id='592421'>
<a class='timestamp' href='#592421'><time timestamp='2018-01-08T20:55:00Z'>20:55</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
maybe that means we neeed an uogradewallet to permit bech32
<br>
</div>

<div class='talk op-msg' data-timestamp='1515444960' id='592422'>
<a class='timestamp' href='#592422'><time timestamp='2018-01-08T20:56:00Z'>20:56</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
yea, but we also cant do an upgradwallet without doing an hd upgrade.....
<br>
</div>

<div class='talk op-msg' data-timestamp='1515444960' id='592423'>
<a class='timestamp' href='#592423'><time timestamp='2018-01-08T20:56:00Z'>20:56</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
or without introducing heaps of stupid hacks
<br>
</div>

<div class='talk op-msg' data-timestamp='1515444960' id='592424'>
<a class='timestamp' href='#592424'><time timestamp='2018-01-08T20:56:00Z'>20:56</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
well it could be like uogradewallet
<br>
</div>

<div class='talk op-msg' data-timestamp='1515444960' id='592425'>
<a class='timestamp' href='#592425'><time timestamp='2018-01-08T20:56:00Z'>20:56</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
yea, i mean could, but it sucks
<br>
</div>

<div class='talk op-msg' data-timestamp='1515444960' id='592426'>
<a class='timestamp' href='#592426'><time timestamp='2018-01-08T20:56:00Z'>20:56</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
similar to how encryption a walletade it incompatible with 0.3
<br>
</div>

<div class='talk op-msg' data-timestamp='1515444960' id='592427'>
<a class='timestamp' href='#592427'><time timestamp='2018-01-08T20:56:00Z'>20:56</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sorry, walking
<br>
</div>

<div class='talk op-msg' data-timestamp='1515444960' id='592428'>
<a class='timestamp' href='#592428'><time timestamp='2018-01-08T20:56:00Z'>20:56</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
my typing sucks
<br>
</div>

<div class='talk op-msg' data-timestamp='1515445320' id='592429'>
<a class='timestamp' href='#592429'><time timestamp='2018-01-08T21:02:00Z'>21:02</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
also, it does seem weird to let someone have a different label for the bech32, the p2sh-wrapped and the p2ph versions of a pubkey -&gt; address mapping :(
<br>
</div>

<div class='talk op-msg' data-timestamp='1515445440' id='592430'>
<a class='timestamp' href='#592430'><time timestamp='2018-01-08T21:04:00Z'>21:04</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
why?
<br>
</div>

<div class='talk op-msg' data-timestamp='1515445500' id='592431'>
<a class='timestamp' href='#592431'><time timestamp='2018-01-08T21:05:00Z'>21:05</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that&#x27;s certainly how it should be in the long term (when IsMine is also not related anymore)
<br>
</div>

<div class='talk op-msg' data-timestamp='1515445560' id='592432'>
<a class='timestamp' href='#592432'><time timestamp='2018-01-08T21:06:00Z'>21:06</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it&#x27;s kinda hacky that for some things we need labels on just one of them, and sometimes all
<br>
</div>

<div class='talk op-msg' data-timestamp='1515445560' id='592433'>
<a class='timestamp' href='#592433'><time timestamp='2018-01-08T21:06:00Z'>21:06</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
well, it shouldn&#x27;t be possible to have more than one address style per key really
<br>
</div>

<div class='talk op-msg' data-timestamp='1515445620' id='592434'>
<a class='timestamp' href='#592434'><time timestamp='2018-01-08T21:07:00Z'>21:07</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
right; eventually that will be the case i think
<br>
</div>

<div class='talk op-msg' data-timestamp='1515445620' id='592435'>
<a class='timestamp' href='#592435'><time timestamp='2018-01-08T21:07:00Z'>21:07</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
though right now it&#x27;s impossible to do that - our IsMine logoc will happily accept anything it can sign for
<br>
</div>

<div class='talk op-msg' data-timestamp='1515446220' id='592436'>
<a class='timestamp' href='#592436'><time timestamp='2018-01-08T21:17:00Z'>21:17</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
sipa: what luke said, the fact that we have multiple pubkey-&gt;addr mappings right now is kinda a hack which will be for backwards compat eventually
<br>
</div>

<div class='talk op-msg' data-timestamp='1515446220' id='592437'>
<a class='timestamp' href='#592437'><time timestamp='2018-01-08T21:17:00Z'>21:17</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
sipa: I mention it because if we did labels only for the P2PH version of an address then we&#x27;d sidestep the above issue
<br>
</div>

<div class='talk op-msg' data-timestamp='1515446280' id='592438'>
<a class='timestamp' href='#592438'><time timestamp='2018-01-08T21:18:00Z'>21:18</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
ofc there&#x27;s still the issue of people who already have entries for the p2sh wrapped version which mismatch the p2ph version :/
<br>
</div>

<div class='talk op-msg' data-timestamp='1515446940' id='592439'>
<a class='timestamp' href='#592439'><time timestamp='2018-01-08T21:29:00Z'>21:29</time></a>
&lt;<span class='nick nick-14'> Lauda</span>&gt;
BlueMatt: What was that with adding bech32 to the address book? I can test that right now in the GUI
<br>
</div>

<div class='talk op-msg' data-timestamp='1515447060' id='592440'>
<a class='timestamp' href='#592440'><time timestamp='2018-01-08T21:31:00Z'>21:31</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
Lauda: give a bech32 address a label, then downgrade
<br>
</div>

<div class='talk op-msg' data-timestamp='1515447060' id='592441'>
<a class='timestamp' href='#592441'><time timestamp='2018-01-08T21:31:00Z'>21:31</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
what is in address book window?
<br>
</div>

<div class='talk op-msg' data-timestamp='1515447060' id='592442'>
<a class='timestamp' href='#592442'><time timestamp='2018-01-08T21:31:00Z'>21:31</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and does it even start at all
<br>
</div>

<div class='talk op-msg' data-timestamp='1515447120' id='592443'>
<a class='timestamp' href='#592443'><time timestamp='2018-01-08T21:32:00Z'>21:32</time></a>
&lt;<span class='nick nick-14'> Lauda</span>&gt;
You mean create wallet with the PR, add a label to bech and try opening with 0.15.1?
<br>
</div>

<div class='talk op-msg' data-timestamp='1515447120' id='592444'>
<a class='timestamp' href='#592444'><time timestamp='2018-01-08T21:32:00Z'>21:32</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
indeed, use getnewaddress with addresstype=bech32
<br>
</div>

<div class='talk op-msg' data-timestamp='1515447120' id='592445'>
<a class='timestamp' href='#592445'><time timestamp='2018-01-08T21:32:00Z'>21:32</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and then downgrade to 0.15.1
<br>
</div>

<div class='talk op-msg' data-timestamp='1515447180' id='592446'>
<a class='timestamp' href='#592446'><time timestamp='2018-01-08T21:33:00Z'>21:33</time></a>
&lt;<span class='nick nick-14'> Lauda</span>&gt;
Error loading wallet.dat: Wallet requires newer version of Bitcoin Core.
<br>
</div>

<div class='talk op-msg' data-timestamp='1515447180' id='592447'>
<a class='timestamp' href='#592447'><time timestamp='2018-01-08T21:33:00Z'>21:33</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
ryanofsky: points out if anything it may be most likely to simply have a dummy entry from a default-constructed temporary
<br>
</div>

<div class='talk op-msg' data-timestamp='1515447180' id='592448'>
<a class='timestamp' href='#592448'><time timestamp='2018-01-08T21:33:00Z'>21:33</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
heh, why is that
<br>
</div>

<div class='talk op-msg' data-timestamp='1515447240' id='592449'>
<a class='timestamp' href='#592449'><time timestamp='2018-01-08T21:34:00Z'>21:34</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
have to create with 15.1
<br>
</div>

<div class='talk op-msg' data-timestamp='1515447240' id='592450'>
<a class='timestamp' href='#592450'><time timestamp='2018-01-08T21:34:00Z'>21:34</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
then upgrade, then get addr, then downgrade
<br>
</div>

<div class='talk op-msg' data-timestamp='1515447240' id='592451'>
<a class='timestamp' href='#592451'><time timestamp='2018-01-08T21:34:00Z'>21:34</time></a>
&lt;<span class='nick nick-14'> Lauda</span>&gt;
Oh     
<br>
</div>

<div class='talk op-msg' data-timestamp='1515447240' id='592452'>
<a class='timestamp' href='#592452'><time timestamp='2018-01-08T21:34:00Z'>21:34</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
oh, the default key thing?
<br>
</div>

<div class='talk op-msg' data-timestamp='1515447240' id='592453'>
<a class='timestamp' href='#592453'><time timestamp='2018-01-08T21:34:00Z'>21:34</time></a>
&lt;<span class='nick nick-14'> Lauda</span>&gt;
sec, let me try that
<br>
</div>

<div class='talk op-msg' data-timestamp='1515447240' id='592454'>
<a class='timestamp' href='#592454'><time timestamp='2018-01-08T21:34:00Z'>21:34</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
Lauda: thanks!
<br>
</div>

<div class='talk op-msg' data-timestamp='1515447360' id='592455'>
<a class='timestamp' href='#592455'><time timestamp='2018-01-08T21:36:00Z'>21:36</time></a>
&lt;<span class='nick nick-14'> Lauda</span>&gt;
sipa: yw!
<br>
</div>

<div class='talk op-msg' data-timestamp='1515447360' id='592456'>
<a class='timestamp' href='#592456'><time timestamp='2018-01-08T21:36:00Z'>21:36</time></a>
&lt;<span class='nick nick-14'> Lauda</span>&gt;
It does open..
<br>
</div>

<div class='talk op-msg' data-timestamp='1515447420' id='592457'>
<a class='timestamp' href='#592457'><time timestamp='2018-01-08T21:37:00Z'>21:37</time></a>
&lt;<span class='nick nick-14'> Lauda</span>&gt;
label is not working and address is just &#x27;3QJmnh&#x27;
<br>
</div>

<div class='talk op-msg' data-timestamp='1515447420' id='592458'>
<a class='timestamp' href='#592458'><time timestamp='2018-01-08T21:37:00Z'>21:37</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ugh.
<br>
</div>

<div class='talk op-msg' data-timestamp='1515447420' id='592459'>
<a class='timestamp' href='#592459'><time timestamp='2018-01-08T21:37:00Z'>21:37</time></a>
&lt;<span class='nick nick-14'> Lauda</span>&gt;
&#x27;3QJmnh&#x27; <b>*is*</b> the bech32 I generated.. weird cut-off
<br>
</div>

<div class='talk op-msg' data-timestamp='1515447420' id='592460'>
<a class='timestamp' href='#592460'><time timestamp='2018-01-08T21:37:00Z'>21:37</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
what if you have multiple bech32 addresses in the wallet?
<br>
</div>

<div class='talk op-msg' data-timestamp='1515447420' id='592461'>
<a class='timestamp' href='#592461'><time timestamp='2018-01-08T21:37:00Z'>21:37</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
yea, so ryanofsky was right
<br>
</div>

<div class='talk op-msg' data-timestamp='1515447420' id='592462'>
<a class='timestamp' href='#592462'><time timestamp='2018-01-08T21:37:00Z'>21:37</time></a>
&lt;<span class='nick nick-14'> Lauda</span>&gt;
testing brb
<br>
</div>

<div class='talk op-msg' data-timestamp='1515447420' id='592463'>
<a class='timestamp' href='#592463'><time timestamp='2018-01-08T21:37:00Z'>21:37</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
lauda: that&#x27;s not a bech32 address
<br>
</div>

<div class='talk op-msg' data-timestamp='1515447420' id='592464'>
<a class='timestamp' href='#592464'><time timestamp='2018-01-08T21:37:00Z'>21:37</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
sipa: I&#x27;m pretty sure just 1 entry
<br>
</div>

<div class='talk op-msg' data-timestamp='1515447480' id='592465'>
<a class='timestamp' href='#592465'><time timestamp='2018-01-08T21:38:00Z'>21:38</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
cause the map is indexed then by a CNoDestination
<br>
</div>

<div class='talk op-msg' data-timestamp='1515447480' id='592466'>
<a class='timestamp' href='#592466'><time timestamp='2018-01-08T21:38:00Z'>21:38</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that&#x27;s p2sh
<br>
</div>

<div class='talk op-msg' data-timestamp='1515447480' id='592467'>
<a class='timestamp' href='#592467'><time timestamp='2018-01-08T21:38:00Z'>21:38</time></a>
&lt;<span class='nick nick-14'> Lauda</span>&gt;
sipa it was bech32, after downgrade all I saw was &quot;3QJmnh&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1515447480' id='592468'>
<a class='timestamp' href='#592468'><time timestamp='2018-01-08T21:38:00Z'>21:38</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
oh     
<br>
</div>

<div class='talk op-msg' data-timestamp='1515447480' id='592469'>
<a class='timestamp' href='#592469'><time timestamp='2018-01-08T21:38:00Z'>21:38</time></a>
&lt;<span class='nick nick-14'> Lauda</span>&gt;
Let me generate a few of them
<br>
</div>

<div class='talk op-msg' data-timestamp='1515447480' id='592470'>
<a class='timestamp' href='#592470'><time timestamp='2018-01-08T21:38:00Z'>21:38</time></a>
&lt;<span class='nick nick-14'> Lauda</span>&gt;
and I&#x27;ll screen
<br>
</div>

<div class='talk op-msg' data-timestamp='1515447480' id='592471'>
<a class='timestamp' href='#592471'><time timestamp='2018-01-08T21:38:00Z'>21:38</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that&#x27;s probabpy the empty array converted to base58
<br>
</div>

<div class='talk op-msg' data-timestamp='1515447540' id='592472'>
<a class='timestamp' href='#592472'><time timestamp='2018-01-08T21:39:00Z'>21:39</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
sipa: sure its not just the checksum
<br>
</div>

<div class='talk op-msg' data-timestamp='1515447540' id='592473'>
<a class='timestamp' href='#592473'><time timestamp='2018-01-08T21:39:00Z'>21:39</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
?     
<br>
</div>

<div class='talk op-msg' data-timestamp='1515447540' id='592474'>
<a class='timestamp' href='#592474'><time timestamp='2018-01-08T21:39:00Z'>21:39</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
yea     
<br>
</div>

<div class='talk op-msg' data-timestamp='1515447540' id='592475'>
<a class='timestamp' href='#592475'><time timestamp='2018-01-08T21:39:00Z'>21:39</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
right
<br>
</div>

<div class='talk op-msg' data-timestamp='1515447660' id='592476'>
<a class='timestamp' href='#592476'><time timestamp='2018-01-08T21:41:00Z'>21:41</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
well, better than crash
<br>
</div>

<div class='talk op-msg' data-timestamp='1515447660' id='592477'>
<a class='timestamp' href='#592477'><time timestamp='2018-01-08T21:41:00Z'>21:41</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
i mean i guess not so bad, but still worth fixing, problem is any fix is ugly
<br>
</div>

<div class='talk op-msg' data-timestamp='1515447720' id='592478'>
<a class='timestamp' href='#592478'><time timestamp='2018-01-08T21:42:00Z'>21:42</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
unless we want to not support more than one address book entry per pubkey
<br>
</div>

<div class='talk op-msg' data-timestamp='1515447720' id='592479'>
<a class='timestamp' href='#592479'><time timestamp='2018-01-08T21:42:00Z'>21:42</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
which I dont mind, but....
<br>
</div>

<div class='talk op-msg' data-timestamp='1515447720' id='592480'>
<a class='timestamp' href='#592480'><time timestamp='2018-01-08T21:42:00Z'>21:42</time></a>
&lt;<span class='nick nick-14'> Lauda</span>&gt;
uhm sipa
<br>
</div>

<div class='talk op-msg' data-timestamp='1515447720' id='592481'>
<a class='timestamp' href='#592481'><time timestamp='2018-01-08T21:42:00Z'>21:42</time></a>
&lt;<span class='nick nick-14'> Lauda</span>&gt;
I made multiple bech
<br>
</div>

<div class='talk op-msg' data-timestamp='1515447720' id='592482'>
<a class='timestamp' href='#592482'><time timestamp='2018-01-08T21:42:00Z'>21:42</time></a>
&lt;<span class='nick nick-14'> Lauda</span>&gt;
after downgrade
<br>
</div>

<div class='talk op-msg' data-timestamp='1515447720' id='592483'>
<a class='timestamp' href='#592483'><time timestamp='2018-01-08T21:42:00Z'>21:42</time></a>
&lt;<span class='nick nick-14'> Lauda</span>&gt;
all are gone
<br>
</div>

<div class='talk op-msg' data-timestamp='1515447720' id='592484'>
<a class='timestamp' href='#592484'><time timestamp='2018-01-08T21:42:00Z'>21:42</time></a>
&lt;<span class='nick nick-14'> Lauda</span>&gt;
o.o     
<br>
</div>

<div class='talk op-msg' data-timestamp='1515447720' id='592485'>
<a class='timestamp' href='#592485'><time timestamp='2018-01-08T21:42:00Z'>21:42</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that&#x27;s kind of expected
<br>
</div>

<div class='talk op-msg' data-timestamp='1515447780' id='592486'>
<a class='timestamp' href='#592486'><time timestamp='2018-01-08T21:43:00Z'>21:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
though i think that if you had incoming payments to those bech32 addresses, you&#x27;d still have the balance
<br>
</div>

<div class='talk op-msg' data-timestamp='1515447780' id='592487'>
<a class='timestamp' href='#592487'><time timestamp='2018-01-08T21:43:00Z'>21:43</time></a>
&lt;<span class='nick nick-14'> Lauda</span>&gt;
Alright, so when making one and adding label it is weird. When I make multiple and add labels, they disappear. Anything else I should check?
<br>
</div>

<div class='talk op-msg' data-timestamp='1515447780' id='592488'>
<a class='timestamp' href='#592488'><time timestamp='2018-01-08T21:43:00Z'>21:43</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
it should still have the one 3QJmnh
<br>
</div>

<div class='talk op-msg' data-timestamp='1515447780' id='592489'>
<a class='timestamp' href='#592489'><time timestamp='2018-01-08T21:43:00Z'>21:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but the transaction list and address book woild be cut off
<br>
</div>

<div class='talk op-msg' data-timestamp='1515447780' id='592490'>
<a class='timestamp' href='#592490'><time timestamp='2018-01-08T21:43:00Z'>21:43</time></a>
&lt;<span class='nick nick-14'> Lauda</span>&gt;
BlueMatt: New wallet
<br>
</div>

<div class='talk op-msg' data-timestamp='1515447780' id='592491'>
<a class='timestamp' href='#592491'><time timestamp='2018-01-08T21:43:00Z'>21:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
*messed up
<br>
</div>

<div class='talk op-msg' data-timestamp='1515447900' id='592492'>
<a class='timestamp' href='#592492'><time timestamp='2018-01-08T21:45:00Z'>21:45</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
Lauda: no, if you do the same thing again the address should not change
<br>
</div>

<div class='talk op-msg' data-timestamp='1515447960' id='592493'>
<a class='timestamp' href='#592493'><time timestamp='2018-01-08T21:46:00Z'>21:46</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
and if you have multiple, it should still be the same, one, address in the address book in 0.15
<br>
</div>

<div class='talk op-msg' data-timestamp='1515448020' id='592494'>
<a class='timestamp' href='#592494'><time timestamp='2018-01-08T21:47:00Z'>21:47</time></a>
&lt;<span class='nick nick-14'> Lauda</span>&gt;
Sec, reproducing
<br>
</div>

<div class='talk op-msg' data-timestamp='1515448080' id='592495'>
<a class='timestamp' href='#592495'><time timestamp='2018-01-08T21:48:00Z'>21:48</time></a>
&lt;<span class='nick nick-14'> Lauda</span>&gt;
New wallet, generated bech again (so diff. address) and it still turned into &#x27;3QJmnh&#x27;.
<br>
</div>

<div class='talk op-msg' data-timestamp='1515448140' id='592496'>
<a class='timestamp' href='#592496'><time timestamp='2018-01-08T21:49:00Z'>21:49</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
yes, ok
<br>
</div>

<div class='talk op-msg' data-timestamp='1515448140' id='592497'>
<a class='timestamp' href='#592497'><time timestamp='2018-01-08T21:49:00Z'>21:49</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
maybe we should just delete the defaultkey thing whenever a bech32 address is generator
<br>
</div>

<div class='talk op-msg' data-timestamp='1515448140' id='592498'>
<a class='timestamp' href='#592498'><time timestamp='2018-01-08T21:49:00Z'>21:49</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
please no such hacks
<br>
</div>

<div class='talk op-msg' data-timestamp='1515448140' id='592499'>
<a class='timestamp' href='#592499'><time timestamp='2018-01-08T21:49:00Z'>21:49</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
why not?
<br>
</div>

<div class='talk op-msg' data-timestamp='1515448200' id='592500'>
<a class='timestamp' href='#592500'><time timestamp='2018-01-08T21:50:00Z'>21:50</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it&#x27;s not very different from the wallet version, except we can&#x27;t really do that due to the HD thing
<br>
</div>

<div class='talk op-msg' data-timestamp='1515448200' id='592501'>
<a class='timestamp' href='#592501'><time timestamp='2018-01-08T21:50:00Z'>21:50</time></a>
&lt;<span class='nick nick-14'> Lauda</span>&gt;
Back with that wallet to 15.99, (2nd) bech address. Back to 15.1 
<br>
</div>

<div class='talk op-msg' data-timestamp='1515448200' id='592502'>
<a class='timestamp' href='#592502'><time timestamp='2018-01-08T21:50:00Z'>21:50</time></a>
&lt;<span class='nick nick-14'> Lauda</span>&gt;
now both have 3QJmnh and no labels
<br>
</div>

<div class='talk op-msg' data-timestamp='1515448200' id='592503'>
<a class='timestamp' href='#592503'><time timestamp='2018-01-08T21:50:00Z'>21:50</time></a>
&lt;<span class='nick nick-14'> Lauda</span>&gt;
uh.     
<br>
</div>

<div class='talk op-msg' data-timestamp='1515448200' id='592504'>
<a class='timestamp' href='#592504'><time timestamp='2018-01-08T21:50:00Z'>21:50</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
such a hack, and I&#x27;d kinda rather have the 3QJmnh bug than completely blow up backwards compat
<br>
</div>

<div class='talk op-msg' data-timestamp='1515448260' id='592505'>
<a class='timestamp' href='#592505'><time timestamp='2018-01-08T21:51:00Z'>21:51</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
well i guess it depends on how we deal with transactions to bech32 addresses and then downgrade
<br>
</div>

<div class='talk op-msg' data-timestamp='1515448320' id='592506'>
<a class='timestamp' href='#592506'><time timestamp='2018-01-08T21:52:00Z'>21:52</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
I dont (think) the 3QJmnh bug will break on-disk state, only in-memory/display
<br>
</div>

<div class='talk op-msg' data-timestamp='1515448320' id='592507'>
<a class='timestamp' href='#592507'><time timestamp='2018-01-08T21:52:00Z'>21:52</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
agree
<br>
</div>

<div class='talk op-msg' data-timestamp='1515448320' id='592508'>
<a class='timestamp' href='#592508'><time timestamp='2018-01-08T21:52:00Z'>21:52</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
so its not the end of the world, but we should fix it, breaking backwards compat is a huge hammer to fix one small bug, and is really ugly for ux
<br>
</div>

<div class='talk op-msg' data-timestamp='1515448320' id='592509'>
<a class='timestamp' href='#592509'><time timestamp='2018-01-08T21:52:00Z'>21:52</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
I mean we&#x27;d have to at least make it explicit
<br>
</div>

<div class='talk op-msg' data-timestamp='1515448380' id='592510'>
<a class='timestamp' href='#592510'><time timestamp='2018-01-08T21:53:00Z'>21:53</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
-upgradewallettobech32segwit
<br>
</div>

<div class='talk op-msg' data-timestamp='1515448440' id='592511'>
<a class='timestamp' href='#592511'><time timestamp='2018-01-08T21:54:00Z'>21:54</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
for 0.16?
<br>
</div>

<div class='talk op-msg' data-timestamp='1515448440' id='592512'>
<a class='timestamp' href='#592512'><time timestamp='2018-01-08T21:54:00Z'>21:54</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
or later?
<br>
</div>

<div class='talk op-msg' data-timestamp='1515448500' id='592513'>
<a class='timestamp' href='#592513'><time timestamp='2018-01-08T21:55:00Z'>21:55</time></a>
&lt;<span class='nick nick-14'> Lauda</span>&gt;
If I import a privkey from a bech32 wallet (0.15.99) created, into the old one
<br>
</div>

<div class='talk op-msg' data-timestamp='1515448500' id='592514'>
<a class='timestamp' href='#592514'><time timestamp='2018-01-08T21:55:00Z'>21:55</time></a>
&lt;<span class='nick nick-14'> Lauda</span>&gt;
it gives me 3 addresses. Is this supposed to happen?
<br>
</div>

<div class='talk op-msg' data-timestamp='1515448500' id='592515'>
<a class='timestamp' href='#592515'><time timestamp='2018-01-08T21:55:00Z'>21:55</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yes, unfortunately
<br>
</div>

<div class='talk op-msg' data-timestamp='1515448560' id='592516'>
<a class='timestamp' href='#592516'><time timestamp='2018-01-08T21:56:00Z'>21:56</time></a>
&lt;<span class='nick nick-14'> Lauda</span>&gt;
:&lt;     
<br>
</div>

<div class='talk op-msg' data-timestamp='1515448620' id='592517'>
<a class='timestamp' href='#592517'><time timestamp='2018-01-08T21:57:00Z'>21:57</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
when importing there is no way to know which of the addresses you want to use
<br>
</div>

<div class='talk op-msg' data-timestamp='1515448620' id='592518'>
<a class='timestamp' href='#592518'><time timestamp='2018-01-08T21:57:00Z'>21:57</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
importmulti doesn&#x27;t have that problem as you must explicitly state the address or script as well 
<br>
</div>

<div class='talk op-msg' data-timestamp='1515448620' id='592519'>
<a class='timestamp' href='#592519'><time timestamp='2018-01-08T21:57:00Z'>21:57</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
(but importmulti doesn&#x27;t support segwit yet, that needs a follow-up pr)
<br>
</div>

<div class='talk op-msg' data-timestamp='1515448740' id='592520'>
<a class='timestamp' href='#592520'><time timestamp='2018-01-08T21:59:00Z'>21:59</time></a>
&lt;<span class='nick nick-14'> Lauda</span>&gt;
I added a bech address that has coins on it without rescan, downgraded and will rescan now
<br>
</div>

<div class='talk op-msg' data-timestamp='1515448800' id='592521'>
<a class='timestamp' href='#592521'><time timestamp='2018-01-08T22:00:00Z'>22:00</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
sipa: for 0.16?
<br>
</div>

<div class='talk op-msg' data-timestamp='1515448920' id='592522'>
<a class='timestamp' href='#592522'><time timestamp='2018-01-08T22:02:00Z'>22:02</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
cfields: so when libevent? #12123
<br>
</div>

<div class='talk op-msg' data-timestamp='1515448980' id='592523'>
<a class='timestamp' href='#592523'><time timestamp='2018-01-08T22:03:00Z'>22:03</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/12123" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/12123</a> | [Performance] LevelDB options.max_open_files = 64 parameter (Windows 10) · Issue #12123 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1515449040' id='592524'>
<a class='timestamp' href='#592524'><time timestamp='2018-01-08T22:04:00Z'>22:04</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
BlueMatt: i&#x27;m not following 
<br>
</div>

<div class='talk op-msg' data-timestamp='1515449040' id='592525'>
<a class='timestamp' href='#592525'><time timestamp='2018-01-08T22:04:00Z'>22:04</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
sipa: nor am I
<br>
</div>

<div class='talk op-msg' data-timestamp='1515449040' id='592526'>
<a class='timestamp' href='#592526'><time timestamp='2018-01-08T22:04:00Z'>22:04</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i thought you just said you prefer the 3QJmnh bug
<br>
</div>

<div class='talk op-msg' data-timestamp='1515449040' id='592527'>
<a class='timestamp' href='#592527'><time timestamp='2018-01-08T22:04:00Z'>22:04</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and don&#x27;t want to break backward compatibility
<br>
</div>

<div class='talk op-msg' data-timestamp='1515449100' id='592528'>
<a class='timestamp' href='#592528'><time timestamp='2018-01-08T22:05:00Z'>22:05</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
I said I prefer the 3QJmnh to blindly deleting the default key...if we want to break backwards compat, which I dont like at all, then we&#x27;d have to require a manual upgrade
<br>
</div>

<div class='talk op-msg' data-timestamp='1515449100' id='592529'>
<a class='timestamp' href='#592529'><time timestamp='2018-01-08T22:05:00Z'>22:05</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
I&#x27;d prefer we fix the bug
<br>
</div>

<div class='talk op-msg' data-timestamp='1515449100' id='592530'>
<a class='timestamp' href='#592530'><time timestamp='2018-01-08T22:05:00Z'>22:05</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
oh, i mean deleting the default whenever you decide you want bech32
<br>
</div>

<div class='talk op-msg' data-timestamp='1515449100' id='592531'>
<a class='timestamp' href='#592531'><time timestamp='2018-01-08T22:05:00Z'>22:05</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
whether that&#x27;s explicit or implicit i don&#x27;t care much
<br>
</div>

<div class='talk op-msg' data-timestamp='1515449160' id='592532'>
<a class='timestamp' href='#592532'><time timestamp='2018-01-08T22:06:00Z'>22:06</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
it absolutely should not be implicit
<br>
</div>

<div class='talk op-msg' data-timestamp='1515449160' id='592533'>
<a class='timestamp' href='#592533'><time timestamp='2018-01-08T22:06:00Z'>22:06</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
s/should/can/
<br>
</div>

<div class='talk op-msg' data-timestamp='1515449160' id='592534'>
<a class='timestamp' href='#592534'><time timestamp='2018-01-08T22:06:00Z'>22:06</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ok, if you feel strongly
<br>
</div>

<div class='talk op-msg' data-timestamp='1515449160' id='592535'>
<a class='timestamp' href='#592535'><time timestamp='2018-01-08T22:06:00Z'>22:06</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
since when do we blindly break downgrade implicitly on random actions?
<br>
</div>

<div class='talk op-msg' data-timestamp='1515449160' id='592536'>
<a class='timestamp' href='#592536'><time timestamp='2018-01-08T22:06:00Z'>22:06</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
encrpytion was one
<br>
</div>

<div class='talk op-msg' data-timestamp='1515449220' id='592537'>
<a class='timestamp' href='#592537'><time timestamp='2018-01-08T22:07:00Z'>22:07</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
was that not documented? and thats a much less random action, imo, you can get a bech32 wallet in any one of 5 places...
<br>
</div>

<div class='talk op-msg' data-timestamp='1515449220' id='592538'>
<a class='timestamp' href='#592538'><time timestamp='2018-01-08T22:07:00Z'>22:07</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
also importing a private key...
<br>
</div>

<div class='talk op-msg' data-timestamp='1515449220' id='592539'>
<a class='timestamp' href='#592539'><time timestamp='2018-01-08T22:07:00Z'>22:07</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sure it needs to be documented
<br>
</div>

<div class='talk op-msg' data-timestamp='1515449280' id='592540'>
<a class='timestamp' href='#592540'><time timestamp='2018-01-08T22:08:00Z'>22:08</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but i don&#x27;t think it&#x27;s unreasonable to say &quot;if you generate a bech32 address, you can&#x27;t open the wallet anymore in software that doesn&#x27;t support bech32 addresses&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1515449280' id='592541'>
<a class='timestamp' href='#592541'><time timestamp='2018-01-08T22:08:00Z'>22:08</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yeah, importprivkey is annoying
<br>
</div>

<div class='talk op-msg' data-timestamp='1515449280' id='592542'>
<a class='timestamp' href='#592542'><time timestamp='2018-01-08T22:08:00Z'>22:08</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
anyway, so options to fix the bug: a) store bech32 address book entries in a different db key space, b) dont allow multiple address book entries per public key
<br>
</div>

<div class='talk op-msg' data-timestamp='1515449280' id='592543'>
<a class='timestamp' href='#592543'><time timestamp='2018-01-08T22:08:00Z'>22:08</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
bah     
<br>
</div>

<div class='talk op-msg' data-timestamp='1515449280' id='592544'>
<a class='timestamp' href='#592544'><time timestamp='2018-01-08T22:08:00Z'>22:08</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
if there wer only one place you can &quot;generate a bech32 address&quot; I might agree, but there&#x27;s many...
<br>
</div>

<div class='talk op-msg' data-timestamp='1515449280' id='592545'>
<a class='timestamp' href='#592545'><time timestamp='2018-01-08T22:08:00Z'>22:08</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
I mean we will eventually implicitly have b
<br>
</div>

<div class='talk op-msg' data-timestamp='1515449280' id='592546'>
<a class='timestamp' href='#592546'><time timestamp='2018-01-08T22:08:00Z'>22:08</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
b is not possible without breaking importprivkey
<br>
</div>

<div class='talk op-msg' data-timestamp='1515449340' id='592547'>
<a class='timestamp' href='#592547'><time timestamp='2018-01-08T22:09:00Z'>22:09</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
well by &quot;allow&quot; I mean look things up by their implied P2PH form
<br>
</div>

<div class='talk op-msg' data-timestamp='1515449340' id='592548'>
<a class='timestamp' href='#592548'><time timestamp='2018-01-08T22:09:00Z'>22:09</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
god no please
<br>
</div>

<div class='talk op-msg' data-timestamp='1515449340' id='592549'>
<a class='timestamp' href='#592549'><time timestamp='2018-01-08T22:09:00Z'>22:09</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
no more hacks
<br>
</div>

<div class='talk op-msg' data-timestamp='1515449400' id='592550'>
<a class='timestamp' href='#592550'><time timestamp='2018-01-08T22:10:00Z'>22:10</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
how is that a hack?
<br>
</div>

<div class='talk op-msg' data-timestamp='1515449400' id='592551'>
<a class='timestamp' href='#592551'><time timestamp='2018-01-08T22:10:00Z'>22:10</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
we jsut switch address book entries to be per-pubkey
<br>
</div>

<div class='talk op-msg' data-timestamp='1515449400' id='592552'>
<a class='timestamp' href='#592552'><time timestamp='2018-01-08T22:10:00Z'>22:10</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
what the map is indexed by, who cares
<br>
</div>

<div class='talk op-msg' data-timestamp='1515449400' id='592553'>
<a class='timestamp' href='#592553'><time timestamp='2018-01-08T22:10:00Z'>22:10</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
bah     
<br>
</div>

<div class='talk op-msg' data-timestamp='1515449400' id='592554'>
<a class='timestamp' href='#592554'><time timestamp='2018-01-08T22:10:00Z'>22:10</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
we will get that implicitly eventually anyway...
<br>
</div>

<div class='talk op-msg' data-timestamp='1515449400' id='592555'>
<a class='timestamp' href='#592555'><time timestamp='2018-01-08T22:10:00Z'>22:10</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
no?     
<br>
</div>

<div class='talk op-msg' data-timestamp='1515449460' id='592556'>
<a class='timestamp' href='#592556'><time timestamp='2018-01-08T22:11:00Z'>22:11</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
labels are for an address
<br>
</div>

<div class='talk op-msg' data-timestamp='1515449460' id='592557'>
<a class='timestamp' href='#592557'><time timestamp='2018-01-08T22:11:00Z'>22:11</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
not for a key
<br>
</div>

<div class='talk op-msg' data-timestamp='1515449460' id='592558'>
<a class='timestamp' href='#592558'><time timestamp='2018-01-08T22:11:00Z'>22:11</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
yes, but if you only have one address per key, you also only have one label per key
<br>
</div>

<div class='talk op-msg' data-timestamp='1515449460' id='592559'>
<a class='timestamp' href='#592559'><time timestamp='2018-01-08T22:11:00Z'>22:11</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
you can have labels for p2sh multisig too
<br>
</div>

<div class='talk op-msg' data-timestamp='1515449460' id='592560'>
<a class='timestamp' href='#592560'><time timestamp='2018-01-08T22:11:00Z'>22:11</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
there is no good key there
<br>
</div>

<div class='talk op-msg' data-timestamp='1515449460' id='592561'>
<a class='timestamp' href='#592561'><time timestamp='2018-01-08T22:11:00Z'>22:11</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
and, really, I think its super weird that you can do importprivkey on a key, get three address book entries, edit one address book entry and....
<br>
</div>

<div class='talk op-msg' data-timestamp='1515449460' id='592562'>
<a class='timestamp' href='#592562'><time timestamp='2018-01-08T22:11:00Z'>22:11</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laudaa opened pull request #12124: [wallet] Remove segwit status check (master...master) <a href="https://github.com/bitcoin/bitcoin/pull/12124" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/12124</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1515449520' id='592563'>
<a class='timestamp' href='#592563'><time timestamp='2018-01-08T22:12:00Z'>22:12</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
you can have lavels for addresses you don&#x27;t have a key for even (watch only)
<br>
</div>

<div class='talk op-msg' data-timestamp='1515449520' id='592564'>
<a class='timestamp' href='#592564'><time timestamp='2018-01-08T22:12:00Z'>22:12</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
or only have a pubkey for
<br>
</div>

<div class='talk op-msg' data-timestamp='1515449520' id='592565'>
<a class='timestamp' href='#592565'><time timestamp='2018-01-08T22:12:00Z'>22:12</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
or p2sh
<br>
</div>

<div class='talk op-msg' data-timestamp='1515449520' id='592566'>
<a class='timestamp' href='#592566'><time timestamp='2018-01-08T22:12:00Z'>22:12</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
yes, I&#x27;m aware
<br>
</div>

<div class='talk op-msg' data-timestamp='1515449520' id='592567'>
<a class='timestamp' href='#592567'><time timestamp='2018-01-08T22:12:00Z'>22:12</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
ah, dont have a key for is annoying
<br>
</div>

<div class='talk op-msg' data-timestamp='1515449520' id='592568'>
<a class='timestamp' href='#592568'><time timestamp='2018-01-08T22:12:00Z'>22:12</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
having the label be associated with the key is just the wrong way to do it
<br>
</div>

<div class='talk op-msg' data-timestamp='1515449580' id='592569'>
<a class='timestamp' href='#592569'><time timestamp='2018-01-08T22:13:00Z'>22:13</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
wrong way or not the result is much nicer in practice
<br>
</div>

<div class='talk op-msg' data-timestamp='1515449580' id='592570'>
<a class='timestamp' href='#592570'><time timestamp='2018-01-08T22:13:00Z'>22:13</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
but, indeed, not having a key for it kinda blows that up
<br>
</div>

<div class='talk op-msg' data-timestamp='1515449580' id='592571'>
<a class='timestamp' href='#592571'><time timestamp='2018-01-08T22:13:00Z'>22:13</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
keys are things you spend with
<br>
</div>

<div class='talk op-msg' data-timestamp='1515449580' id='592572'>
<a class='timestamp' href='#592572'><time timestamp='2018-01-08T22:13:00Z'>22:13</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
addresses are things you receive with
<br>
</div>

<div class='talk op-msg' data-timestamp='1515449580' id='592573'>
<a class='timestamp' href='#592573'><time timestamp='2018-01-08T22:13:00Z'>22:13</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
labels belong to the latter
<br>
</div>

<div class='talk op-msg' data-timestamp='1515449640' id='592574'>
<a class='timestamp' href='#592574'><time timestamp='2018-01-08T22:14:00Z'>22:14</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
I agree, but practice != theory, in any case, it doesnt work in practice either :p
<br>
</div>

<div class='talk op-msg' data-timestamp='1515449640' id='592575'>
<a class='timestamp' href='#592575'><time timestamp='2018-01-08T22:14:00Z'>22:14</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
how do you mean?
<br>
</div>

<div class='talk op-msg' data-timestamp='1515449640' id='592576'>
<a class='timestamp' href='#592576'><time timestamp='2018-01-08T22:14:00Z'>22:14</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
the bug is that 0.15 doesn&#x27;t support bech32 addresses
<br>
</div>

<div class='talk op-msg' data-timestamp='1515449640' id='592577'>
<a class='timestamp' href='#592577'><time timestamp='2018-01-08T22:14:00Z'>22:14</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
in the case you want to add a label to a dont-have-pubkey bech32 address
<br>
</div>

<div class='talk op-msg' data-timestamp='1515449700' id='592578'>
<a class='timestamp' href='#592578'><time timestamp='2018-01-08T22:15:00Z'>22:15</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and that we don&#x27;t have a good way to mark a wallet to support bech32
<br>
</div>

<div class='talk op-msg' data-timestamp='1515449700' id='592579'>
<a class='timestamp' href='#592579'><time timestamp='2018-01-08T22:15:00Z'>22:15</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
err, no it still workrs
<br>
</div>

<div class='talk op-msg' data-timestamp='1515449760' id='592580'>
<a class='timestamp' href='#592580'><time timestamp='2018-01-08T22:16:00Z'>22:16</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i think we&#x27;re spending an extraordinary amount of time here on compatibility with older software
<br>
</div>

<div class='talk op-msg' data-timestamp='1515449760' id='592581'>
<a class='timestamp' href='#592581'><time timestamp='2018-01-08T22:16:00Z'>22:16</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and i wish we had better procedures for dealing with that
<br>
</div>

<div class='talk op-msg' data-timestamp='1515449820' id='592582'>
<a class='timestamp' href='#592582'><time timestamp='2018-01-08T22:17:00Z'>22:17</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
we do have better procedures, but we blew then up with hd
<br>
</div>

<div class='talk op-msg' data-timestamp='1515449820' id='592583'>
<a class='timestamp' href='#592583'><time timestamp='2018-01-08T22:17:00Z'>22:17</time></a>
&lt;<span class='nick nick-12'> ryanofsky</span>&gt;
haven&#x27;t followed everything above, but shouldn&#x27;t it be possible to fix this with a simple change to serialization code in walletdb?
<br>
</div>

<div class='talk op-msg' data-timestamp='1515449820' id='592584'>
<a class='timestamp' href='#592584'><time timestamp='2018-01-08T22:17:00Z'>22:17</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ryanofsky: how so?
<br>
</div>

<div class='talk op-msg' data-timestamp='1515449820' id='592585'>
<a class='timestamp' href='#592585'><time timestamp='2018-01-08T22:17:00Z'>22:17</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
ryanofsky: that was my (a), above
<br>
</div>

<div class='talk op-msg' data-timestamp='1515449820' id='592586'>
<a class='timestamp' href='#592586'><time timestamp='2018-01-08T22:17:00Z'>22:17</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
&lt;BlueMatt&gt; anyway, so options to fix the bug: a) store bech32 address book entries in a different db key space, b) dont allow multiple address book entries per public key
<br>
</div>

<div class='talk op-msg' data-timestamp='1515449820' id='592587'>
<a class='timestamp' href='#592587'><time timestamp='2018-01-08T22:17:00Z'>22:17</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
meh     
<br>
</div>

<div class='talk op-msg' data-timestamp='1515449820' id='592588'>
<a class='timestamp' href='#592588'><time timestamp='2018-01-08T22:17:00Z'>22:17</time></a>
&lt;<span class='nick nick-12'> ryanofsky</span>&gt;
by serializing new addressbook entries with a different bdb key
<br>
</div>

<div class='talk op-msg' data-timestamp='1515449820' id='592589'>
<a class='timestamp' href='#592589'><time timestamp='2018-01-08T22:17:00Z'>22:17</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
you&#x27;re much better off just making the wallet file incompatibe
<br>
</div>

<div class='talk op-msg' data-timestamp='1515449880' id='592590'>
<a class='timestamp' href='#592590'><time timestamp='2018-01-08T22:18:00Z'>22:18</time></a>
&lt;<span class='nick nick-12'> ryanofsky</span>&gt;
seems simple, and would require no change to regular wallet code
<br>
</div>

<div class='talk op-msg' data-timestamp='1515449880' id='592591'>
<a class='timestamp' href='#592591'><time timestamp='2018-01-08T22:18:00Z'>22:18</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
moving it to a different key space will not actually make things work - you&#x27;ll still not see the labels in an old version
<br>
</div>

<div class='talk op-msg' data-timestamp='1515449880' id='592592'>
<a class='timestamp' href='#592592'><time timestamp='2018-01-08T22:18:00Z'>22:18</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that&#x27;s not desirable
<br>
</div>

<div class='talk op-msg' data-timestamp='1515449880' id='592593'>
<a class='timestamp' href='#592593'><time timestamp='2018-01-08T22:18:00Z'>22:18</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
if it&#x27;s not going to actually work, it should actually not work
<br>
</div>

<div class='talk op-msg' data-timestamp='1515449880' id='592594'>
<a class='timestamp' href='#592594'><time timestamp='2018-01-08T22:18:00Z'>22:18</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
man I miss the original plan of &quot;fix hd upgrade, require walletupgrade for segwit wallet&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1515449940' id='592595'>
<a class='timestamp' href='#592595'><time timestamp='2018-01-08T22:19:00Z'>22:19</time></a>
&lt;<span class='nick nick-12'> ryanofsky</span>&gt;
oh, i didn&#x27;t think that would be possible at all
<br>
</div>

<div class='talk op-msg' data-timestamp='1515449940' id='592596'>
<a class='timestamp' href='#592596'><time timestamp='2018-01-08T22:19:00Z'>22:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
having 3QJmnh show up is IMHO better than silently hiding things :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1515450000' id='592597'>
<a class='timestamp' href='#592597'><time timestamp='2018-01-08T22:20:00Z'>22:20</time></a>
&lt;<span class='nick nick-12'> ryanofsky</span>&gt;
i see. really any of these options seem not that bad to me
<br>
</div>

<div class='talk op-msg' data-timestamp='1515450000' id='592598'>
<a class='timestamp' href='#592598'><time timestamp='2018-01-08T22:20:00Z'>22:20</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
agree
<br>
</div>

<div class='talk op-msg' data-timestamp='1515450000' id='592599'>
<a class='timestamp' href='#592599'><time timestamp='2018-01-08T22:20:00Z'>22:20</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
which options?
<br>
</div>

<div class='talk op-msg' data-timestamp='1515450060' id='592600'>
<a class='timestamp' href='#592600'><time timestamp='2018-01-08T22:21:00Z'>22:21</time></a>
&lt;<span class='nick nick-12'> ryanofsky</span>&gt;
hiding keys, showing mangled keys, different keyspace workaround, collapsed keyspace workaround, or requiring explicit upgrade
<br>
</div>

<div class='talk op-msg' data-timestamp='1515450120' id='592601'>
<a class='timestamp' href='#592601'><time timestamp='2018-01-08T22:22:00Z'>22:22</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
my preference is either doing nothing and giving a nice big release notes warning that you may lose labels when downgrading after creating bech32 addresses
<br>
</div>

<div class='talk op-msg' data-timestamp='1515450180' id='592602'>
<a class='timestamp' href='#592602'><time timestamp='2018-01-08T22:23:00Z'>22:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
or making the wallet file backward incompatible whenever the first bech32 address is created
<br>
</div>

<div class='talk op-msg' data-timestamp='1515450180' id='592603'>
<a class='timestamp' href='#592603'><time timestamp='2018-01-08T22:23:00Z'>22:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
(explicitly with an action, or not)
<br>
</div>

<div class='talk op-msg' data-timestamp='1515450300' id='592604'>
<a class='timestamp' href='#592604'><time timestamp='2018-01-08T22:25:00Z'>22:25</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
labels arent copied anywhere else, right? so there&#x27;s no other way for it to break your on-disk state?
<br>
</div>

<div class='talk op-msg' data-timestamp='1515450360' id='592605'>
<a class='timestamp' href='#592605'><time timestamp='2018-01-08T22:26:00Z'>22:26</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i don&#x27;t think so, no
<br>
</div>

<div class='talk op-msg' data-timestamp='1515450360' id='592606'>
<a class='timestamp' href='#592606'><time timestamp='2018-01-08T22:26:00Z'>22:26</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
after upgrading again everything should be fine 
<br>
</div>

<div class='talk op-msg' data-timestamp='1515450360' id='592607'>
<a class='timestamp' href='#592607'><time timestamp='2018-01-08T22:26:00Z'>22:26</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
you can even create a bach32 address, give it out, downgrade, receive a transaction, upgrade... and all will work fine without rescan
<br>
</div>

<div class='talk op-msg' data-timestamp='1515450420' id='592608'>
<a class='timestamp' href='#592608'><time timestamp='2018-01-08T22:27:00Z'>22:27</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
yes, thats my impression
<br>
</div>

<div class='talk op-msg' data-timestamp='1515450480' id='592609'>
<a class='timestamp' href='#592609'><time timestamp='2018-01-08T22:28:00Z'>22:28</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
also, when using importprivkey things will work as expected as long as you don&#x27;t actually use the bech32 address
<br>
</div>

<div class='talk op-msg' data-timestamp='1515450480' id='592610'>
<a class='timestamp' href='#592610'><time timestamp='2018-01-08T22:28:00Z'>22:28</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
yea, that really sucks, but there&#x27;s nothing we can do to support any such workflows anyway, the transaction as displayed in 0.15.1 will always be missing the label anyway
<br>
</div>

<div class='talk op-msg' data-timestamp='1515450540' id='592611'>
<a class='timestamp' href='#592611'><time timestamp='2018-01-08T22:29:00Z'>22:29</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
there&#x27;ll (from old software perspective) just be a weird unrelated addressbook entry added as well
<br>
</div>

<div class='talk op-msg' data-timestamp='1515453120' id='592612'>
<a class='timestamp' href='#592612'><time timestamp='2018-01-08T23:12:00Z'>23:12</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
sipa: heh, AddAndGetDestinationForScript is only called in one place, but a AddAndGetDestinationForKey would be used in a bunch of places
<br>
</div>

<div class='talk op-msg' data-timestamp='1515453960' id='592613'>
<a class='timestamp' href='#592613'><time timestamp='2018-01-08T23:26:00Z'>23:26</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
BlueMatt: yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1515454020' id='592614'>
<a class='timestamp' href='#592614'><time timestamp='2018-01-08T23:27:00Z'>23:27</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
is that a problem?
<br>
</div>

<div class='talk op-msg' data-timestamp='1515454140' id='592615'>
<a class='timestamp' href='#592615'><time timestamp='2018-01-08T23:29:00Z'>23:29</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it&#x27;s different because AddAndGetScript is harder to split up without doing double work
<br>
</div>

<div class='talk op-msg' data-timestamp='1515454200' id='592616'>
<a class='timestamp' href='#592616'><time timestamp='2018-01-08T23:30:00Z'>23:30</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
its not a problem, just found it funny
<br>
</div>

<div class='talk op-msg' data-timestamp='1515454200' id='592617'>
<a class='timestamp' href='#592617'><time timestamp='2018-01-08T23:30:00Z'>23:30</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
i guess we dont care about wtf importwallet does?
<br>
</div>

<div class='talk op-msg' data-timestamp='1515454260' id='592618'>
<a class='timestamp' href='#592618'><time timestamp='2018-01-08T23:31:00Z'>23:31</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
todo for a follow up PR
<br>
</div>

<div class='talk op-msg' data-timestamp='1515454260' id='592619'>
<a class='timestamp' href='#592619'><time timestamp='2018-01-08T23:31:00Z'>23:31</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
just like signmessage and importmulti
<br>
</div>

<div class='talk op-msg' data-timestamp='1515454260' id='592620'>
<a class='timestamp' href='#592620'><time timestamp='2018-01-08T23:31:00Z'>23:31</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
I mean I dont think it&#x27;ll <b>*break*</b> anything, ....ah ok
<br>
</div>

<div class='talk op-msg' data-timestamp='1515454260' id='592621'>
<a class='timestamp' href='#592621'><time timestamp='2018-01-08T23:31:00Z'>23:31</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
(it&#x27;s listed as such in the PR description, i think!)
<br>
</div>

<div class='talk op-msg' data-timestamp='1515454320' id='592622'>
<a class='timestamp' href='#592622'><time timestamp='2018-01-08T23:32:00Z'>23:32</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but i also think it&#x27;ll just work, apart from maybe birthdates and labels
<br>
</div>

<div class='talk op-msg' data-timestamp='1515454320' id='592623'>
<a class='timestamp' href='#592623'><time timestamp='2018-01-08T23:32:00Z'>23:32</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
heh, text? ewwww why would i read that
<br>
</div>

<div class='talk op-msg' data-timestamp='1515454920' id='592624'>
<a class='timestamp' href='#592624'><time timestamp='2018-01-08T23:42:00Z'>23:42</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i know
<br>
</div>

</div>
</section>

</body>
</html>
