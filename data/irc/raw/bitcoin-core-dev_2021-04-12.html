<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2021-04-12
 — 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2021-04-12' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:16 UTC</pre>
<pre><a href="/bitcoin-core-dev/2021-03-12">&lt;</a><span class='header'>    April 2021    </span><a href="/bitcoin-core-dev/2021-05-12">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;             <a class="" href="/bitcoin-core-dev/2021-04-01">1</a>  <a class="" href="/bitcoin-core-dev/2021-04-02">2</a>  <a class="" href="/bitcoin-core-dev/2021-04-03">3</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2021-04-04">4</a>  <a class="" href="/bitcoin-core-dev/2021-04-05">5</a>  <a class="" href="/bitcoin-core-dev/2021-04-06">6</a>  <a class="" href="/bitcoin-core-dev/2021-04-07">7</a>  <a class="" href="/bitcoin-core-dev/2021-04-08">8</a>  <a class="" href="/bitcoin-core-dev/2021-04-09">9</a> <a class="" href="/bitcoin-core-dev/2021-04-10">10</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2021-04-11">11</a> <a class="current" href="/bitcoin-core-dev/2021-04-12">12</a> <a class="" href="/bitcoin-core-dev/2021-04-13">13</a> <a class="" href="/bitcoin-core-dev/2021-04-14">14</a> <a class="" href="/bitcoin-core-dev/2021-04-15">15</a> <a class="" href="/bitcoin-core-dev/2021-04-16">16</a> <a class="" href="/bitcoin-core-dev/2021-04-17">17</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2021-04-18">18</a> <a class="" href="/bitcoin-core-dev/2021-04-19">19</a> <a class="" href="/bitcoin-core-dev/2021-04-20">20</a> <a class="" href="/bitcoin-core-dev/2021-04-21">21</a> <a class="" href="/bitcoin-core-dev/2021-04-22">22</a> <a class="" href="/bitcoin-core-dev/2021-04-23">23</a> <a class="" href="/bitcoin-core-dev/2021-04-24">24</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2021-04-25">25</a> <a class="" href="/bitcoin-core-dev/2021-04-26">26</a> <a class="" href="/bitcoin-core-dev/2021-04-27">27</a> <a class="" href="/bitcoin-core-dev/2021-04-28">28</a> <a class="" href="/bitcoin-core-dev/2021-04-29">29</a> <a class="" href="/bitcoin-core-dev/2021-04-30">30</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1618190940' id='360724'>
<a class='timestamp' href='#360724'><time timestamp='2021-04-12T01:29:00Z'>01:29</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] fanquake pushed 3 commits to 0.21: <a href="https://github.com/bitcoin/bitcoin/compare/0b9a046c1ae0...e358b43f7d89" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/0b9a046c1ae0...e358b43f7d89</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1618190940' id='360725'>
<a class='timestamp' href='#360725'><time timestamp='2021-04-12T01:29:00Z'>01:29</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/0.21 7de019b Andrew Chow: Introduce DeferringSignatureChecker and inherit with SignatureExtractor
<br>
</div>

<div class='talk op-msg' data-timestamp='1618190940' id='360726'>
<a class='timestamp' href='#360726'><time timestamp='2021-04-12T01:29:00Z'>01:29</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/0.21 f79189c Andrew Chow: Test that signrawtx works when a signed CSV and CLTV inputs are present
<br>
</div>

<div class='talk op-msg' data-timestamp='1618190940' id='360727'>
<a class='timestamp' href='#360727'><time timestamp='2021-04-12T01:29:00Z'>01:29</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/0.21 e358b43 fanquake: Merge #21640: [0.21] Introduce DeferredSignatureChecker and have Signature...
<br>
</div>

<div class='talk op-msg' data-timestamp='1618190940' id='360728'>
<a class='timestamp' href='#360728'><time timestamp='2021-04-12T01:29:00Z'>01:29</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] fanquake merged pull request #21640: [0.21] Introduce DeferredSignatureChecker and have SignatureExtractorClass subclass it (0.21...0.21-sig-ext) <a href="https://github.com/bitcoin/bitcoin/pull/21640" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/21640</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1618192320' id='360729'>
<a class='timestamp' href='#360729'><time timestamp='2021-04-12T01:52:00Z'>01:52</time></a>
&lt;<span class='nick nick-3'> aj</span>&gt;
&quot;Canceled because of an ongoing incident!&quot; well, that&#x27;s a novel test result
<br>
</div>

<div class='talk op-msg' data-timestamp='1618193220' id='360730'>
<a class='timestamp' href='#360730'><time timestamp='2021-04-12T02:07:00Z'>02:07</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
?
<br>
</div>

<div class='talk op-msg' data-timestamp='1618194180' id='360731'>
<a class='timestamp' href='#360731'><time timestamp='2021-04-12T02:23:00Z'>02:23</time></a>
&lt;<span class='nick nick-5'> jarthur</span>&gt;
Am I a dummy? I configure with --enable-shared and still end up bitcoind being made dynamically linked
<br>
</div>

<div class='talk op-msg' data-timestamp='1618194240' id='360732'>
<a class='timestamp' href='#360732'><time timestamp='2021-04-12T02:24:00Z'>02:24</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
shared means dynamically linked
<br>
</div>

<div class='talk op-msg' data-timestamp='1618194240' id='360733'>
<a class='timestamp' href='#360733'><time timestamp='2021-04-12T02:24:00Z'>02:24</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
no?
<br>
</div>

<div class='talk op-msg' data-timestamp='1618194240' id='360734'>
<a class='timestamp' href='#360734'><time timestamp='2021-04-12T02:24:00Z'>02:24</time></a>
&lt;<span class='nick nick-5'> jarthur</span>&gt;
Yes, sorry, sipa. I meant --enable-static :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1618194240' id='360735'>
<a class='timestamp' href='#360735'><time timestamp='2021-04-12T02:24:00Z'>02:24</time></a>
&lt;<span class='nick nick-5'> jarthur</span>&gt;
same problem
<br>
</div>

<div class='talk op-msg' data-timestamp='1618194300' id='360736'>
<a class='timestamp' href='#360736'><time timestamp='2021-04-12T02:25:00Z'>02:25</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
is everything dynamically linked, or just system libraries?
<br>
</div>

<div class='talk op-msg' data-timestamp='1618194300' id='360737'>
<a class='timestamp' href='#360737'><time timestamp='2021-04-12T02:25:00Z'>02:25</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
because iirc those can&#x27;t be statically linked
<br>
</div>

<div class='talk op-msg' data-timestamp='1618194360' id='360740'>
<a class='timestamp' href='#360740'><time timestamp='2021-04-12T02:26:00Z'>02:26</time></a>
&lt;<span class='nick nick-5'> jarthur</span>&gt;
According to ldd, I see libpthread, libboost*, libevent, libc all dynamically linked
<br>
</div>

<div class='talk op-msg' data-timestamp='1618194360' id='360741'>
<a class='timestamp' href='#360741'><time timestamp='2021-04-12T02:26:00Z'>02:26</time></a>
&lt;<span class='nick nick-5'> jarthur</span>&gt;
Is there a bug open for the issue?
<br>
</div>

<div class='talk op-msg' data-timestamp='1618194420' id='360742'>
<a class='timestamp' href='#360742'><time timestamp='2021-04-12T02:27:00Z'>02:27</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
tbh, i have no idea what --enable-shared and --enable-static are supposed to do
<br>
</div>

<div class='talk op-msg' data-timestamp='1618194420' id='360743'>
<a class='timestamp' href='#360743'><time timestamp='2021-04-12T02:27:00Z'>02:27</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i just vaguely recall it was a bit more complicated than that to get the static binaries we build for releases
<br>
</div>

<div class='talk op-msg' data-timestamp='1618194480' id='360744'>
<a class='timestamp' href='#360744'><time timestamp='2021-04-12T02:28:00Z'>02:28</time></a>
&lt;<span class='nick nick-5'> jarthur</span>&gt;
Maybe I don&#x27;t either. jgarzik hinted it ought to do what I&#x27;m trying to do in this comment <a href="https://github.com/bitcoin/bitcoin/issues/3781#issuecomment-36507746" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/3781#issuecomment-36507746</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1618194780' id='360745'>
<a class='timestamp' href='#360745'><time timestamp='2021-04-12T02:33:00Z'>02:33</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
afaik --enable-static/shared is all about what libraries we <b>*produce*</b>
<br>
</div>

<div class='talk op-msg' data-timestamp='1618194840' id='360746'>
<a class='timestamp' href='#360746'><time timestamp='2021-04-12T02:34:00Z'>02:34</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jarthur: i think you can safely ignore anything said about the build system over 7 years ago :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1618194840' id='360747'>
<a class='timestamp' href='#360747'><time timestamp='2021-04-12T02:34:00Z'>02:34</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
XD
<br>
</div>

<div class='talk op-msg' data-timestamp='1618194840' id='360748'>
<a class='timestamp' href='#360748'><time timestamp='2021-04-12T02:34:00Z'>02:34</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
jarthur: do you actually have static libraries to use installed?
<br>
</div>

<div class='talk op-msg' data-timestamp='1618195080' id='360749'>
<a class='timestamp' href='#360749'><time timestamp='2021-04-12T02:38:00Z'>02:38</time></a>
&lt;<span class='nick nick-5'> jarthur</span>&gt;
I believe so. I see a libca and using the Debian -dev packages for the deps.
<br>
</div>

<div class='talk op-msg' data-timestamp='1618195080' id='360750'>
<a class='timestamp' href='#360750'><time timestamp='2021-04-12T02:38:00Z'>02:38</time></a>
&lt;<span class='nick nick-5'> jarthur</span>&gt;
*libc.a
<br>
</div>

<div class='talk op-msg' data-timestamp='1618195620' id='360751'>
<a class='timestamp' href='#360751'><time timestamp='2021-04-12T02:47:00Z'>02:47</time></a>
&lt;<span class='nick nick-5'> jarthur</span>&gt;
I see other projects have added a custom --enable-static-exec or --fully-static ./configure args, so maybe --enable-static means you only get static libbitcoin and libtest. Also tried adding --disable-shared without luck. I&#x27;ll see if I can whip something up from older gitian when it built a static bitcoin core distributable.
<br>
</div>

<div class='talk op-msg' data-timestamp='1618195680' id='360752'>
<a class='timestamp' href='#360752'><time timestamp='2021-04-12T02:48:00Z'>02:48</time></a>
&lt;<span class='nick nick-5'> jarthur</span>&gt;
My use case is tinier and more secure bitcoind Linux container images.
<br>
</div>

<div class='talk op-msg' data-timestamp='1618195680' id='360753'>
<a class='timestamp' href='#360753'><time timestamp='2021-04-12T02:48:00Z'>02:48</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
can&#x27;t you use the release binaries?
<br>
</div>

<div class='talk op-msg' data-timestamp='1618195680' id='360754'>
<a class='timestamp' href='#360754'><time timestamp='2021-04-12T02:48:00Z'>02:48</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
they&#x27;re statically linked
<br>
</div>

<div class='talk op-msg' data-timestamp='1618195740' id='360755'>
<a class='timestamp' href='#360755'><time timestamp='2021-04-12T02:49:00Z'>02:49</time></a>
&lt;<span class='nick nick-5'> jarthur</span>&gt;
Including glibc?
<br>
</div>

<div class='talk op-msg' data-timestamp='1618195740' id='360756'>
<a class='timestamp' href='#360756'><time timestamp='2021-04-12T02:49:00Z'>02:49</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
glibc doesn&#x27;t support static linking…?
<br>
</div>

<div class='talk op-msg' data-timestamp='1618195740' id='360757'>
<a class='timestamp' href='#360757'><time timestamp='2021-04-12T02:49:00Z'>02:49</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i don&#x27;t think so; i&#x27;m not sure that you can
<br>
</div>

<div class='talk op-msg' data-timestamp='1618195800' id='360758'>
<a class='timestamp' href='#360758'><time timestamp='2021-04-12T02:50:00Z'>02:50</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
jarthur: static linking isn&#x27;t more secure (nor tinier if you have more than one binary)
<br>
</div>

<div class='talk op-msg' data-timestamp='1618195860' id='360759'>
<a class='timestamp' href='#360759'><time timestamp='2021-04-12T02:51:00Z'>02:51</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
the only real use case for it, is portability, and apparently that&#x27;s defeated by us using Boost anyway :/
<br>
</div>

<div class='talk op-msg' data-timestamp='1618195860' id='360760'>
<a class='timestamp' href='#360760'><time timestamp='2021-04-12T02:51:00Z'>02:51</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
we&#x27;re pretty close to only having compile-tike boost dependencies
<br>
</div>

<div class='talk op-msg' data-timestamp='1618195920' id='360761'>
<a class='timestamp' href='#360761'><time timestamp='2021-04-12T02:52:00Z'>02:52</time></a>
&lt;<span class='nick nick-5'> jarthur</span>&gt;
The idea is to remove bash and other distribution toolchain from the container&#x27;s execution environment so that say a buffer overflow exploit has less toolchain available for further exploitation.
<br>
</div>

<div class='talk op-msg' data-timestamp='1618195920' id='360762'>
<a class='timestamp' href='#360762'><time timestamp='2021-04-12T02:52:00Z'>02:52</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
sipa: that doesn&#x27;t help
<br>
</div>

<div class='talk op-msg' data-timestamp='1618195920' id='360763'>
<a class='timestamp' href='#360763'><time timestamp='2021-04-12T02:52:00Z'>02:52</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
sipa: boost compiles to code that only promises to work on the system that compiled it
<br>
</div>

<div class='talk op-msg' data-timestamp='1618195980' id='360764'>
<a class='timestamp' href='#360764'><time timestamp='2021-04-12T02:53:00Z'>02:53</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
jarthur: sure, but that&#x27;s not related to static linking
<br>
</div>

<div class='talk op-msg' data-timestamp='1618196040' id='360765'>
<a class='timestamp' href='#360765'><time timestamp='2021-04-12T02:54:00Z'>02:54</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
sipa: and not even then sometimes ☺ (when I encountered this, the bitcoind was built on the same machine it was broken on!)
<br>
</div>

<div class='talk op-msg' data-timestamp='1618196040' id='360766'>
<a class='timestamp' href='#360766'><time timestamp='2021-04-12T02:54:00Z'>02:54</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
luke-jr: the statx call thing?
<br>
</div>

<div class='talk op-msg' data-timestamp='1618196040' id='360767'>
<a class='timestamp' href='#360767'><time timestamp='2021-04-12T02:54:00Z'>02:54</time></a>
&lt;<span class='nick nick-5'> jarthur</span>&gt;
luke-jr it is if it&#x27;s my path to that execution environment, e.g. docker&#x27;s scratch layer giving you pretty much just kernel-&gt;bitcoind in the execution environment. I&#x27;m definitely open to other ideas you have for getting there.
<br>
</div>

<div class='talk op-msg' data-timestamp='1618196040' id='360768'>
<a class='timestamp' href='#360768'><time timestamp='2021-04-12T02:54:00Z'>02:54</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
yeah
<br>
</div>

<div class='talk op-msg' data-timestamp='1618196100' id='360769'>
<a class='timestamp' href='#360769'><time timestamp='2021-04-12T02:55:00Z'>02:55</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jarthur: you should just use release binaries
<br>
</div>

<div class='talk op-msg' data-timestamp='1618196100' id='360770'>
<a class='timestamp' href='#360770'><time timestamp='2021-04-12T02:55:00Z'>02:55</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
(^ and build those yourself)
<br>
</div>

<div class='talk op-msg' data-timestamp='1618196100' id='360771'>
<a class='timestamp' href='#360771'><time timestamp='2021-04-12T02:55:00Z'>02:55</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
luke-jr: that seems to be a pretty isolated case, imo
<br>
</div>

<div class='talk op-msg' data-timestamp='1618196160' id='360772'>
<a class='timestamp' href='#360772'><time timestamp='2021-04-12T02:56:00Z'>02:56</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
(and specific to the filesystem library, which we&#x27;ll droo)
<br>
</div>

<div class='talk op-msg' data-timestamp='1618196160' id='360773'>
<a class='timestamp' href='#360773'><time timestamp='2021-04-12T02:56:00Z'>02:56</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
sipa: apparently other people with the issue are encountering it trying to run things in Docker
<br>
</div>

<div class='talk op-msg' data-timestamp='1618196160' id='360774'>
<a class='timestamp' href='#360774'><time timestamp='2021-04-12T02:56:00Z'>02:56</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
because older Docker doesn&#x27;t allow statx calls
<br>
</div>

<div class='talk op-msg' data-timestamp='1618196220' id='360775'>
<a class='timestamp' href='#360775'><time timestamp='2021-04-12T02:57:00Z'>02:57</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yeah, it&#x27;s pretty annoying
<br>
</div>

<div class='talk op-msg' data-timestamp='1618196220' id='360776'>
<a class='timestamp' href='#360776'><time timestamp='2021-04-12T02:57:00Z'>02:57</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
or you meant the issue itself was isolate
<br>
</div>

<div class='talk op-msg' data-timestamp='1618196220' id='360777'>
<a class='timestamp' href='#360777'><time timestamp='2021-04-12T02:57:00Z'>02:57</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but also, at leasst this specific case (statx) we&#x27;ll get rid of by just dropping boost filesystem
<br>
</div>

<div class='talk op-msg' data-timestamp='1618196280' id='360778'>
<a class='timestamp' href='#360778'><time timestamp='2021-04-12T02:58:00Z'>02:58</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
the scary thing is, I&#x27;m not sure we&#x27;d necessarily notice issues like this
<br>
</div>

<div class='talk op-msg' data-timestamp='1618196280' id='360779'>
<a class='timestamp' href='#360779'><time timestamp='2021-04-12T02:58:00Z'>02:58</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
this time it happened to result in an exception that aborted early..
<br>
</div>

<div class='talk op-msg' data-timestamp='1618196280' id='360780'>
<a class='timestamp' href='#360780'><time timestamp='2021-04-12T02:58:00Z'>02:58</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
well we&#x27;d presumably hear about stuff that doesn&#x27;t work
<br>
</div>

<div class='talk op-msg' data-timestamp='1618196280' id='360781'>
<a class='timestamp' href='#360781'><time timestamp='2021-04-12T02:58:00Z'>02:58</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
but who knows what other system calls missing might result in
<br>
</div>

<div class='talk op-msg' data-timestamp='1618196280' id='360782'>
<a class='timestamp' href='#360782'><time timestamp='2021-04-12T02:58:00Z'>02:58</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
I&#x27;m glad we ban boost in consensus code :P
<br>
</div>

<div class='talk op-msg' data-timestamp='1618196340' id='360783'>
<a class='timestamp' href='#360783'><time timestamp='2021-04-12T02:59:00Z'>02:59</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
are you sure stdc++ doesn&#x27;t make similar assumptions? :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1618196400' id='360784'>
<a class='timestamp' href='#360784'><time timestamp='2021-04-12T03:00:00Z'>03:00</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
pretty sure
<br>
</div>

<div class='talk op-msg' data-timestamp='1618196400' id='360785'>
<a class='timestamp' href='#360785'><time timestamp='2021-04-12T03:00:00Z'>03:00</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yeah, i assume so.too
<br>
</div>

<div class='talk op-msg' data-timestamp='1618196400' id='360786'>
<a class='timestamp' href='#360786'><time timestamp='2021-04-12T03:00:00Z'>03:00</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but i don&#x27;t actually know
<br>
</div>

<div class='talk op-msg' data-timestamp='1618196400' id='360787'>
<a class='timestamp' href='#360787'><time timestamp='2021-04-12T03:00:00Z'>03:00</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
glibc at least actually insists you have a newer linux-headers than the kernel, in some cases
<br>
</div>

<div class='talk op-msg' data-timestamp='1618196460' id='360788'>
<a class='timestamp' href='#360788'><time timestamp='2021-04-12T03:01:00Z'>03:01</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
as it doesn&#x27;t have compile-time fallbacks, only runtime)(
<br>
</div>

<div class='talk op-msg' data-timestamp='1618196460' id='360789'>
<a class='timestamp' href='#360789'><time timestamp='2021-04-12T03:01:00Z'>03:01</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
good
<br>
</div>

<div class='talk op-msg' data-timestamp='1618196520' id='360790'>
<a class='timestamp' href='#360790'><time timestamp='2021-04-12T03:02:00Z'>03:02</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
the combination means that 2.6 system would have to switch to linux-headers-latest for glibc builds, and linux-headers-2.6.32 for boost builds &gt;_&lt;
<br>
</div>

<div class='talk op-msg' data-timestamp='1618196520' id='360791'>
<a class='timestamp' href='#360791'><time timestamp='2021-04-12T03:02:00Z'>03:02</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
of course, 2.6 being as old as it is, my end conclusion was he&#x27;s just gonna have to upgrade it :P
<br>
</div>

<div class='talk op-msg' data-timestamp='1618196520' id='360792'>
<a class='timestamp' href='#360792'><time timestamp='2021-04-12T03:02:00Z'>03:02</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
one way or another
<br>
</div>

<div class='talk op-msg' data-timestamp='1618196640' id='360793'>
<a class='timestamp' href='#360793'><time timestamp='2021-04-12T03:04:00Z'>03:04</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
statx was introduced in linux 4.11, which is from 2017
<br>
</div>

<div class='talk op-msg' data-timestamp='1618196640' id='360794'>
<a class='timestamp' href='#360794'><time timestamp='2021-04-12T03:04:00Z'>03:04</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that&#x27;s not very old
<br>
</div>

<div class='talk op-msg' data-timestamp='1618196700' id='360795'>
<a class='timestamp' href='#360795'><time timestamp='2021-04-12T03:05:00Z'>03:05</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
hmm
<br>
</div>

<div class='talk op-msg' data-timestamp='1618196700' id='360796'>
<a class='timestamp' href='#360796'><time timestamp='2021-04-12T03:05:00Z'>03:05</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
I think glibc allows linux-headers back to 3.2
<br>
</div>

<div class='talk op-msg' data-timestamp='1618196760' id='360797'>
<a class='timestamp' href='#360797'><time timestamp='2021-04-12T03:06:00Z'>03:06</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that&#x27;s from 2012
<br>
</div>

<div class='talk op-msg' data-timestamp='1618196880' id='360798'>
<a class='timestamp' href='#360798'><time timestamp='2021-04-12T03:08:00Z'>03:08</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
kinda sad there isn&#x27;t really a comparable solution in 2021 (for Linux containers)
<br>
</div>

<div class='talk op-msg' data-timestamp='1618197060' id='360799'>
<a class='timestamp' href='#360799'><time timestamp='2021-04-12T03:11:00Z'>03:11</time></a>
&lt;<span class='nick nick-5'> jarthur</span>&gt;
Just tried the release binary, is dynamically linked to libc unfortunately. It looks like it stopped being fully static after this: <a href="https://github.com/bitcoin/bitcoin/pull/4042" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/4042</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1618197120' id='360800'>
<a class='timestamp' href='#360800'><time timestamp='2021-04-12T03:12:00Z'>03:12</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jarthur: glibc doesn&#x27;t support linking statically
<br>
</div>

<div class='talk op-msg' data-timestamp='1618197120' id='360801'>
<a class='timestamp' href='#360801'><time timestamp='2021-04-12T03:12:00Z'>03:12</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
(you can make it work apparently, but it&#x27;s very discouraged)
<br>
</div>

<div class='talk op-msg' data-timestamp='1618197180' id='360802'>
<a class='timestamp' href='#360802'><time timestamp='2021-04-12T03:13:00Z'>03:13</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
why do you insist on statically linked libc?
<br>
</div>

<div class='talk op-msg' data-timestamp='1618197240' id='360803'>
<a class='timestamp' href='#360803'><time timestamp='2021-04-12T03:14:00Z'>03:14</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
the release binaries are intended to work on fairly ancient libc versions, fwiw; way older than the ones of the system it&#x27;s built on
<br>
</div>

<div class='talk op-msg' data-timestamp='1618197480' id='360804'>
<a class='timestamp' href='#360804'><time timestamp='2021-04-12T03:18:00Z'>03:18</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
(not that you&#x27;d want to use an obsolete glibc)
<br>
</div>

<div class='talk op-msg' data-timestamp='1618197480' id='360805'>
<a class='timestamp' href='#360805'><time timestamp='2021-04-12T03:18:00Z'>03:18</time></a>
&lt;<span class='nick nick-5'> jarthur</span>&gt;
Minimal docker image without distro toolchain, or any part of the FHS file system really. It&#x27;s not the end of the world if I have to include a copy of libc in the image, just would rather not. It&#x27;s a common practice for small programs. I&#x27;m trying to apply it to bitcoind. The fact that fully static bitcoind binaries used to be distributed gave me hope it might be simple
<br>
</div>

<div class='talk op-msg' data-timestamp='1618197540' id='360806'>
<a class='timestamp' href='#360806'><time timestamp='2021-04-12T03:19:00Z'>03:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
oh i see
<br>
</div>

<div class='talk op-msg' data-timestamp='1618197540' id='360807'>
<a class='timestamp' href='#360807'><time timestamp='2021-04-12T03:19:00Z'>03:19</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
afaik we&#x27;ve always had to dynamic link to glibc?
<br>
</div>

<div class='talk op-msg' data-timestamp='1618197540' id='360808'>
<a class='timestamp' href='#360808'><time timestamp='2021-04-12T03:19:00Z'>03:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
there was some disgussion of playing around with uclibc or some other more minimalistic libc, which would allow that
<br>
</div>

<div class='talk op-msg' data-timestamp='1618197600' id='360809'>
<a class='timestamp' href='#360809'><time timestamp='2021-04-12T03:20:00Z'>03:20</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
right now, i wouldn&#x27;t recommend straying from dynamic glibc
<br>
</div>

<div class='talk op-msg' data-timestamp='1618197720' id='360810'>
<a class='timestamp' href='#360810'><time timestamp='2021-04-12T03:22:00Z'>03:22</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
luke-jr: the commit jarthur linked to earlier apparently reverted an earlier commit that made release binaries fully static
<br>
</div>

<div class='talk op-msg' data-timestamp='1618197720' id='360811'>
<a class='timestamp' href='#360811'><time timestamp='2021-04-12T03:22:00Z'>03:22</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but i don&#x27;t know if that was ever used in a release
<br>
</div>

<div class='talk op-msg' data-timestamp='1618198200' id='360812'>
<a class='timestamp' href='#360812'><time timestamp='2021-04-12T03:30:00Z'>03:30</time></a>
&lt;<span class='nick nick-5'> jarthur</span>&gt;
I believe 0.9.1 and possibly 0.9.2 distributables had binaries with statically linked glibc. Can&#x27;t check now though as bitcoin.org took them down for security reasons.
<br>
</div>

<div class='talk op-msg' data-timestamp='1618198320' id='360813'>
<a class='timestamp' href='#360813'><time timestamp='2021-04-12T03:32:00Z'>03:32</time></a>
&lt;<span class='nick nick-3'> aj</span>&gt;
jarthur: <a href="https://bitcoin.org/bin/insecure/bitcoin-core-0.9.1/" class="link" target="_blank">https://bitcoin.org/bin/insecure/bitcoin-core-0.9.1/</a> ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1618198320' id='360814'>
<a class='timestamp' href='#360814'><time timestamp='2021-04-12T03:32:00Z'>03:32</time></a>
&lt;<span class='nick nick-5'> jarthur</span>&gt;
ty :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1618198680' id='360815'>
<a class='timestamp' href='#360815'><time timestamp='2021-04-12T03:38:00Z'>03:38</time></a>
&lt;<span class='nick nick-5'> jarthur</span>&gt;
Looks like it was only Bitcoin Core 0.9.1     $file bitcoin-0.9.1-linux/bin/64/bitcoind.static
<br>
</div>

<div class='talk op-msg' data-timestamp='1618198680' id='360816'>
<a class='timestamp' href='#360816'><time timestamp='2021-04-12T03:38:00Z'>03:38</time></a>
&lt;<span class='nick nick-5'> jarthur</span>&gt;
bitcoin-0.9.1-linux/bin/64/bitcoind.static: ELF 64-bit LSB executable, x86-64, version 1 (SYSV), statically linked, for GNU/Linux 2.6.24, BuildID[sha1]=8b02de16c470e9de817d6c551325517d2ad16a05, stripped
<br>
</div>

<div class='talk op-msg' data-timestamp='1618198860' id='360817'>
<a class='timestamp' href='#360817'><time timestamp='2021-04-12T03:41:00Z'>03:41</time></a>
&lt;<span class='nick nick-5'> jarthur</span>&gt;
Is the biggest risk to issues stemming from kernel compatibility (and licensing if you distribute the binary outside of LGPL)? IMO you&#x27;re already taking the kernel compatibility risk with shared glibc in your container image.
<br>
</div>

<div class='talk op-msg' data-timestamp='1618198920' id='360818'>
<a class='timestamp' href='#360818'><time timestamp='2021-04-12T03:42:00Z'>03:42</time></a>
&lt;<span class='nick nick-3'> aj</span>&gt;
if you statically link glibc then use it against a different version of the nss libraries (i think?) it fails; kernel licensing isn&#x27;t an issue afaik
<br>
</div>

<div class='talk op-msg' data-timestamp='1618199400' id='360819'>
<a class='timestamp' href='#360819'><time timestamp='2021-04-12T03:50:00Z'>03:50</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
yeah, Linux&#x27;s syscall interface is widely recognised as not considered a derivative work thus immune to GPL
<br>
</div>

<div class='talk op-msg' data-timestamp='1618200300' id='360820'>
<a class='timestamp' href='#360820'><time timestamp='2021-04-12T04:05:00Z'>04:05</time></a>
&lt;<span class='nick nick-5'> jarthur</span>&gt;
aj I think the issues are with glibc licensing and not kernel licensing since you will technically be distributing glibc if you distribute your binary.
<br>
</div>

<div class='talk op-msg' data-timestamp='1618201740' id='360821'>
<a class='timestamp' href='#360821'><time timestamp='2021-04-12T04:29:00Z'>04:29</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
true
<br>
</div>

<div class='talk op-msg' data-timestamp='1618201800' id='360822'>
<a class='timestamp' href='#360822'><time timestamp='2021-04-12T04:30:00Z'>04:30</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
afaik it doesn&#x27;t add any restrictions over Qt tho
<br>
</div>

<div class='talk op-msg' data-timestamp='1618210500' id='360823'>
<a class='timestamp' href='#360823'><time timestamp='2021-04-12T06:55:00Z'>06:55</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
someone ban chew917 here <a href="https://github.com/bitcoin/bitcoin/pull/21464" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/21464</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1618210500' id='360824'>
<a class='timestamp' href='#360824'><time timestamp='2021-04-12T06:55:00Z'>06:55</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
thanks
<br>
</div>

<div class='talk op-msg' data-timestamp='1618212840' id='360825'>
<a class='timestamp' href='#360825'><time timestamp='2021-04-12T07:34:00Z'>07:34</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] hebasto closed pull request #21591: build, qt: Fix wrong cross-compiling detection on macOS (master...210403-cross) <a href="https://github.com/bitcoin/bitcoin/pull/21591" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/21591</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1618212840' id='360826'>
<a class='timestamp' href='#360826'><time timestamp='2021-04-12T07:34:00Z'>07:34</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] hebasto reopened pull request #21591: build, qt: Fix wrong cross-compiling detection on macOS (master...210403-cross) <a href="https://github.com/bitcoin/bitcoin/pull/21591" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/21591</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1618217880' id='360827'>
<a class='timestamp' href='#360827'><time timestamp='2021-04-12T08:58:00Z'>08:58</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] fanquake closed pull request #19242: Add -uaappend option to append a literal string to user agent (master...uaappend) <a href="https://github.com/bitcoin/bitcoin/pull/19242" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19242</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1618222980' id='360828'>
<a class='timestamp' href='#360828'><time timestamp='2021-04-12T10:23:00Z'>10:23</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
instagibbs: done
<br>
</div>

<div class='talk op-msg' data-timestamp='1618227960' id='360829'>
<a class='timestamp' href='#360829'><time timestamp='2021-04-12T11:46:00Z'>11:46</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] AlbanAndrieu closed pull request #21646: -daemonwait change to -daemon (master...master) <a href="https://github.com/bitcoin/bitcoin/pull/21646" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/21646</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1618235460' id='360830'>
<a class='timestamp' href='#360830'><time timestamp='2021-04-12T13:51:00Z'>13:51</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] vasild opened pull request #21659: net: flag relevant Sock methods with [[nodiscard]] (master...Sock_nodiscard) <a href="https://github.com/bitcoin/bitcoin/pull/21659" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/21659</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1618250100' id='360831'>
<a class='timestamp' href='#360831'><time timestamp='2021-04-12T17:55:00Z'>17:55</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] Emzy opened pull request #21661: doc: Fix name of script guix-build (master...patch-2) <a href="https://github.com/bitcoin/bitcoin/pull/21661" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/21661</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1618251300' id='360832'>
<a class='timestamp' href='#360832'><time timestamp='2021-04-12T18:15:00Z'>18:15</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] fdoving opened pull request #21662: build,boost: update download url. (master...fdov-boost-url) <a href="https://github.com/bitcoin/bitcoin/pull/21662" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/21662</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1618253760' id='360833'>
<a class='timestamp' href='#360833'><time timestamp='2021-04-12T18:56:00Z'>18:56</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] hebasto opened pull request #21663: ci: Fix macOS brew install command (master...210412-brew) <a href="https://github.com/bitcoin/bitcoin/pull/21663" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/21663</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1618254780' id='360834'>
<a class='timestamp' href='#360834'><time timestamp='2021-04-12T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
we really need to fix the CI it&#x27;s failling on almost everything
<br>
</div>

<div class='talk op-msg' data-timestamp='1618254840' id='360835'>
<a class='timestamp' href='#360835'><time timestamp='2021-04-12T19:14:00Z'>19:14</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
oh something with macos, looks like there is a PR for it #21663
<br>
</div>

<div class='talk op-msg' data-timestamp='1618254840' id='360836'>
<a class='timestamp' href='#360836'><time timestamp='2021-04-12T19:14:00Z'>19:14</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/21663" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/21663</a> | ci: Fix macOS brew install command by hebasto · Pull Request #21663 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1618254900' id='360837'>
<a class='timestamp' href='#360837'><time timestamp='2021-04-12T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-4'> jakesyl</span>&gt;
Anyone have any idea why a transaction version would be negative? <a href="https://github.com/btcsuite/btcd/pull/1701#issuecomment-817995493" class="link" target="_blank">https://github.com/btcsuite/btcd/pull/1701#issuecomment-817995493</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1618255140' id='360838'>
<a class='timestamp' href='#360838'><time timestamp='2021-04-12T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jakesyl: it&#x27;s a number, it can be anything
<br>
</div>

<div class='talk op-msg' data-timestamp='1618255140' id='360839'>
<a class='timestamp' href='#360839'><time timestamp='2021-04-12T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
probably just someone playing around
<br>
</div>

<div class='talk op-msg' data-timestamp='1618255140' id='360840'>
<a class='timestamp' href='#360840'><time timestamp='2021-04-12T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
jakesyl: see BIP 68
<br>
</div>

<div class='talk op-msg' data-timestamp='1618255140' id='360841'>
<a class='timestamp' href='#360841'><time timestamp='2021-04-12T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-14'> hebasto</span>&gt;
wumpus: yeah, 21663 fixed brew, but ci log shows ridiculous configure failure
<br>
</div>

<div class='talk op-msg' data-timestamp='1618255200' id='360842'>
<a class='timestamp' href='#360842'><time timestamp='2021-04-12T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
ie, it&#x27;s not really signed
<br>
</div>

<div class='talk op-msg' data-timestamp='1618255200' id='360843'>
<a class='timestamp' href='#360843'><time timestamp='2021-04-12T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-14'> * luke-jr</span>&gt;
wonders if there&#x27;s anything that <b>*does*</b> treat it as signed
<br>
</div>

<div class='talk op-msg' data-timestamp='1618255260' id='360844'>
<a class='timestamp' href='#360844'><time timestamp='2021-04-12T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
luke-jr: BIP68 treats it as signed, afaik
<br>
</div>

<div class='talk op-msg' data-timestamp='1618255260' id='360845'>
<a class='timestamp' href='#360845'><time timestamp='2021-04-12T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
sipa: it explicitly doesn&#x27;t…?
<br>
</div>

<div class='talk op-msg' data-timestamp='1618255260' id='360846'>
<a class='timestamp' href='#360846'><time timestamp='2021-04-12T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-14'> hebasto</span>&gt;
wumpus: probably, it is related to new Autoconf 2.71
<br>
</div>

<div class='talk op-msg' data-timestamp='1618255260' id='360847'>
<a class='timestamp' href='#360847'><time timestamp='2021-04-12T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
luke-jr: you are right
<br>
</div>

<div class='talk op-msg' data-timestamp='1618255260' id='360848'>
<a class='timestamp' href='#360848'><time timestamp='2021-04-12T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
luke-jr: standardness rules may treat it as signed
<br>
</div>

<div class='talk op-msg' data-timestamp='1618255320' id='360849'>
<a class='timestamp' href='#360849'><time timestamp='2021-04-12T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
src/policy/policy.cpp:    if (tx.nVersion &gt; CTransaction::MAX_STANDARD_VERSION || tx.nVersion &lt; 1) {
<br>
</div>

<div class='talk op-msg' data-timestamp='1618255320' id='360850'>
<a class='timestamp' href='#360850'><time timestamp='2021-04-12T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
I&#x27;m not sure the sign matters for that
<br>
</div>

<div class='talk op-msg' data-timestamp='1618255380' id='360851'>
<a class='timestamp' href='#360851'><time timestamp='2021-04-12T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it does
<br>
</div>

<div class='talk op-msg' data-timestamp='1618255380' id='360852'>
<a class='timestamp' href='#360852'><time timestamp='2021-04-12T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
how?
<br>
</div>

<div class='talk op-msg' data-timestamp='1618255380' id='360853'>
<a class='timestamp' href='#360853'><time timestamp='2021-04-12T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
O.o even RPC treats it as unsigned: src/core_write.cpp:    entry.pushKV(&quot;version&quot;, static_cast&lt;int64_t&gt;(static_cast&lt;uint32_t&gt;(tx.nVersion)));
<br>
</div>

<div class='talk op-msg' data-timestamp='1618255380' id='360854'>
<a class='timestamp' href='#360854'><time timestamp='2021-04-12T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-4'> jakesyl</span>&gt;
it looks like bip 68 casts nVersion to a uint32 (fEnforceBIP68)
<br>
</div>

<div class='talk op-msg' data-timestamp='1618255380' id='360855'>
<a class='timestamp' href='#360855'><time timestamp='2021-04-12T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
luke-jr: nVersion is an int32_t
<br>
</div>

<div class='talk op-msg' data-timestamp='1618255440' id='360856'>
<a class='timestamp' href='#360856'><time timestamp='2021-04-12T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
so if the serialization is 0xffffffff, it&#x27;d be interpreted as -1, and which be &quot;&lt; 1&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1618255440' id='360857'>
<a class='timestamp' href='#360857'><time timestamp='2021-04-12T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
sipa: yes, but if it were interpreted as 0xffffffff it would be &gt;CTransaction::MAX_STANDARD_VERSION
<br>
</div>

<div class='talk op-msg' data-timestamp='1618255440' id='360858'>
<a class='timestamp' href='#360858'><time timestamp='2021-04-12T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
luke-jr: ah, good point!
<br>
</div>

<div class='talk op-msg' data-timestamp='1618255440' id='360859'>
<a class='timestamp' href='#360859'><time timestamp='2021-04-12T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
indeed, it doesn&#x27;t matter
<br>
</div>

<div class='talk op-msg' data-timestamp='1618255500' id='360860'>
<a class='timestamp' href='#360860'><time timestamp='2021-04-12T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
at least with the current CTransaction::MAX_STANDARD_VERSION value
<br>
</div>

<div class='talk op-msg' data-timestamp='1618255500' id='360861'>
<a class='timestamp' href='#360861'><time timestamp='2021-04-12T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
quickly glancing over the code, I think we treat it as unsigned everywhere XD
<br>
</div>

<div class='talk op-msg' data-timestamp='1618255500' id='360862'>
<a class='timestamp' href='#360862'><time timestamp='2021-04-12T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
because the only two qualifying values are 1 and 2, and their serialization in signed and unsigned is identical
<br>
</div>

<div class='talk op-msg' data-timestamp='1618255500' id='360863'>
<a class='timestamp' href='#360863'><time timestamp='2021-04-12T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-4'> jakesyl</span>&gt;
only exception I can think of <b>*might*</b> be the rpc interface
<br>
</div>

<div class='talk op-msg' data-timestamp='1618255500' id='360864'>
<a class='timestamp' href='#360864'><time timestamp='2021-04-12T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
jakesyl: see above
<br>
</div>

<div class='talk op-msg' data-timestamp='1618255560' id='360865'>
<a class='timestamp' href='#360865'><time timestamp='2021-04-12T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i vaguely recall that the RPC interface was changed a few years ago, precisely because it&#x27;s semantically unsigned everywhere already
<br>
</div>

<div class='talk op-msg' data-timestamp='1618255560' id='360866'>
<a class='timestamp' href='#360866'><time timestamp='2021-04-12T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but somehow didn&#x27;t want to touch the actual data type for fear of consensus implications
<br>
</div>

<div class='talk op-msg' data-timestamp='1618255560' id='360867'>
<a class='timestamp' href='#360867'><time timestamp='2021-04-12T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-4'> jakesyl</span>&gt;
oh read that wrong. Got it - thanks!
<br>
</div>

<div class='talk op-msg' data-timestamp='1618255560' id='360868'>
<a class='timestamp' href='#360868'><time timestamp='2021-04-12T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
yeah, I&#x27;d want to do a lot more in-depth review before messing with it for that reason
<br>
</div>

<div class='talk op-msg' data-timestamp='1618255620' id='360869'>
<a class='timestamp' href='#360869'><time timestamp='2021-04-12T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-4'> jakesyl</span>&gt;
yeah - on btcd think we&#x27;ll just match the bitcoin-core rpc interface there
<br>
</div>

<div class='talk op-msg' data-timestamp='1618255620' id='360870'>
<a class='timestamp' href='#360870'><time timestamp='2021-04-12T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
and frankly probably not worth it
<br>
</div>

<div class='talk op-msg' data-timestamp='1618255620' id='360871'>
<a class='timestamp' href='#360871'><time timestamp='2021-04-12T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but at least at first glance i agree that it most likely doesn&#x27;t affect anything
<br>
</div>

<div class='talk op-msg' data-timestamp='1618255620' id='360872'>
<a class='timestamp' href='#360872'><time timestamp='2021-04-12T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-4'> jakesyl</span>&gt;
(it&#x27;s currently signed in our return)
<br>
</div>

<div class='talk op-msg' data-timestamp='1618255620' id='360873'>
<a class='timestamp' href='#360873'><time timestamp='2021-04-12T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
but as far as documentation, IMO we should just say it&#x27;s unsigned
<br>
</div>

<div class='talk op-msg' data-timestamp='1618255620' id='360874'>
<a class='timestamp' href='#360874'><time timestamp='2021-04-12T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yes, makes sense
<br>
</div>

<div class='talk op-msg' data-timestamp='1618257180' id='360875'>
<a class='timestamp' href='#360875'><time timestamp='2021-04-12T19:53:00Z'>19:53</time></a>
&lt;<span class='nick nick-4'> jakesyl</span>&gt;
oh interesting - btw  likely reason this is the first time we&#x27;re seeing it (and it&#x27;s on testnet) is b/c `IsStandardTx`isn&#x27;t called w/ `-testnet`
<br>
</div>

<div class='talk op-msg' data-timestamp='1618257180' id='360876'>
<a class='timestamp' href='#360876'><time timestamp='2021-04-12T19:53:00Z'>19:53</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yeah
<br>
</div>

<div class='talk op-msg' data-timestamp='1618257180' id='360877'>
<a class='timestamp' href='#360877'><time timestamp='2021-04-12T19:53:00Z'>19:53</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
you&#x27;re unlikely to see that on mainnet
<br>
</div>

<div class='talk op-msg' data-timestamp='1618258920' id='360878'>
<a class='timestamp' href='#360878'><time timestamp='2021-04-12T20:22:00Z'>20:22</time></a>
&lt;<span class='nick nick-4'> jamesob</span>&gt;
Anyone seen these 403 forbidden errors during CI runs before? <a href="https://github.com/bitcoin/bitcoin/pull/21526/checks?check_run_id=2327358485" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/21526/checks?check_run_id=2327358485</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1618259100' id='360879'>
<a class='timestamp' href='#360879'><time timestamp='2021-04-12T20:25:00Z'>20:25</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
only recently; but I didn&#x27;t find a solution
<br>
</div>

<div class='talk op-msg' data-timestamp='1618259100' id='360880'>
<a class='timestamp' href='#360880'><time timestamp='2021-04-12T20:25:00Z'>20:25</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
jamesob: yes, see #21663
<br>
</div>

<div class='talk op-msg' data-timestamp='1618259100' id='360881'>
<a class='timestamp' href='#360881'><time timestamp='2021-04-12T20:25:00Z'>20:25</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/21663" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/21663</a> | ci: Fix macOS brew install command by hebasto · Pull Request #21663 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1618259160' id='360882'>
<a class='timestamp' href='#360882'><time timestamp='2021-04-12T20:26:00Z'>20:26</time></a>
&lt;<span class='nick nick-4'> jamesob</span>&gt;
wumpus: thanks
<br>
</div>

<div class='talk op-msg' data-timestamp='1618259220' id='360883'>
<a class='timestamp' href='#360883'><time timestamp='2021-04-12T20:27:00Z'>20:27</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
we should merge that soon but first waiting for CI to be green
<br>
</div>

<div class='talk op-msg' data-timestamp='1618259340' id='360884'>
<a class='timestamp' href='#360884'><time timestamp='2021-04-12T20:29:00Z'>20:29</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
oh, that&#x27;s the same one?
<br>
</div>

<div class='talk op-msg' data-timestamp='1618259760' id='360885'>
<a class='timestamp' href='#360885'><time timestamp='2021-04-12T20:36:00Z'>20:36</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
i think so
<br>
</div>

<div class='talk op-msg' data-timestamp='1618260000' id='360886'>
<a class='timestamp' href='#360886'><time timestamp='2021-04-12T20:40:00Z'>20:40</time></a>
&lt;<span class='nick nick-4'> jamesob</span>&gt;
wumpus: I ACK&#x27;d only on the basis of the macOS CI run being green
<br>
</div>

<div class='talk op-msg' data-timestamp='1618263120' id='360887'>
<a class='timestamp' href='#360887'><time timestamp='2021-04-12T21:32:00Z'>21:32</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 2 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/f6c44e999b7d...708517b2dd64" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/f6c44e999b7d...708517b2dd64</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1618263120' id='360888'>
<a class='timestamp' href='#360888'><time timestamp='2021-04-12T21:32:00Z'>21:32</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master b738155 Hennadii Stepanov: ci: Fix macOS brew install command
<br>
</div>

<div class='talk op-msg' data-timestamp='1618263120' id='360889'>
<a class='timestamp' href='#360889'><time timestamp='2021-04-12T21:32:00Z'>21:32</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 708517b W. J. van der Laan: Merge #21663: ci: Fix macOS brew install command
<br>
</div>

<div class='talk op-msg' data-timestamp='1618263120' id='360890'>
<a class='timestamp' href='#360890'><time timestamp='2021-04-12T21:32:00Z'>21:32</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj merged pull request #21663: ci: Fix macOS brew install command (master...210412-brew) <a href="https://github.com/bitcoin/bitcoin/pull/21663" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/21663</a>
<br>
</div>

</div>
</section>

</body>
</html>
