<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2016-10-24
 — 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2016-10-24' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:25 UTC</pre>
<pre><a href="/bitcoin-core-dev/2016-09-24">&lt;</a><span class='header'>   October 2016   </span><a href="/bitcoin-core-dev/2016-11-24">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;                   <a class="" href="/bitcoin-core-dev/2016-10-01">1</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2016-10-02">2</a>  <a class="" href="/bitcoin-core-dev/2016-10-03">3</a>  <a class="" href="/bitcoin-core-dev/2016-10-04">4</a>  <a class="" href="/bitcoin-core-dev/2016-10-05">5</a>  <a class="" href="/bitcoin-core-dev/2016-10-06">6</a>  <a class="" href="/bitcoin-core-dev/2016-10-07">7</a>  <a class="" href="/bitcoin-core-dev/2016-10-08">8</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2016-10-09">9</a> <a class="" href="/bitcoin-core-dev/2016-10-10">10</a> <a class="" href="/bitcoin-core-dev/2016-10-11">11</a> <a class="" href="/bitcoin-core-dev/2016-10-12">12</a> <a class="" href="/bitcoin-core-dev/2016-10-13">13</a> <a class="" href="/bitcoin-core-dev/2016-10-14">14</a> <a class="" href="/bitcoin-core-dev/2016-10-15">15</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2016-10-16">16</a> <a class="" href="/bitcoin-core-dev/2016-10-17">17</a> <a class="" href="/bitcoin-core-dev/2016-10-18">18</a> <a class="" href="/bitcoin-core-dev/2016-10-19">19</a> <a class="" href="/bitcoin-core-dev/2016-10-20">20</a> <a class="" href="/bitcoin-core-dev/2016-10-21">21</a> <a class="" href="/bitcoin-core-dev/2016-10-22">22</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2016-10-23">23</a> <a class="current" href="/bitcoin-core-dev/2016-10-24">24</a> <a class="" href="/bitcoin-core-dev/2016-10-25">25</a> <a class="" href="/bitcoin-core-dev/2016-10-26">26</a> <a class="" href="/bitcoin-core-dev/2016-10-27">27</a> <a class="" href="/bitcoin-core-dev/2016-10-28">28</a> <a class="" href="/bitcoin-core-dev/2016-10-29">29</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2016-10-30">30</a> <a class="" href="/bitcoin-core-dev/2016-10-31">31</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1477272240' id='505144'>
<a class='timestamp' href='#505144'><time timestamp='2016-10-24T01:24:00Z'>01:24</time></a>
&lt;<span class='nick nick-8'> GitHub14</span>&gt;
[bitcoin] gmaxwell opened pull request #9002: Make connect=0 disable automatic outbound connections. (master...connect0) <a href="https://github.com/bitcoin/bitcoin/pull/9002" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9002</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1477276140' id='505145'>
<a class='timestamp' href='#505145'><time timestamp='2016-10-24T02:29:00Z'>02:29</time></a>
&lt;<span class='nick nick-5'> midnightmagic</span>&gt;
:-/     
<br>
</div>

<div class='talk op-msg' data-timestamp='1477282260' id='505146'>
<a class='timestamp' href='#505146'><time timestamp='2016-10-24T04:11:00Z'>04:11</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
does it not do that again? :x
<br>
</div>

<div class='talk op-msg' data-timestamp='1477282500' id='505147'>
<a class='timestamp' href='#505147'><time timestamp='2016-10-24T04:15:00Z'>04:15</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
do what?
<br>
</div>

<div class='talk op-msg' data-timestamp='1477282680' id='505148'>
<a class='timestamp' href='#505148'><time timestamp='2016-10-24T04:18:00Z'>04:18</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
sipa: disable outbound connections.
<br>
</div>

<div class='talk op-msg' data-timestamp='1477282680' id='505149'>
<a class='timestamp' href='#505149'><time timestamp='2016-10-24T04:18:00Z'>04:18</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
it used to do so at least, and seemed to work when I recently did it for testing
<br>
</div>

<div class='talk op-msg' data-timestamp='1477283520' id='505150'>
<a class='timestamp' href='#505150'><time timestamp='2016-10-24T04:32:00Z'>04:32</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
My belief is that it used to work, but what it does right now is just loop continually trying to connect to &#x27;0&#x27; and on my system this manages to connect to myself.
<br>
</div>

<div class='talk op-msg' data-timestamp='1477283520' id='505151'>
<a class='timestamp' href='#505151'><time timestamp='2016-10-24T04:32:00Z'>04:32</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
this, indeed, does prevent it from connecting to other parties...
<br>
</div>

<div class='talk op-msg' data-timestamp='1477283580' id='505152'>
<a class='timestamp' href='#505152'><time timestamp='2016-10-24T04:33:00Z'>04:33</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
O.o     
<br>
</div>

<div class='talk op-msg' data-timestamp='1477283580' id='505153'>
<a class='timestamp' href='#505153'><time timestamp='2016-10-24T04:33:00Z'>04:33</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
but in a fairly log spammy way (esp with debugging turned up)
<br>
</div>

<div class='talk op-msg' data-timestamp='1477283640' id='505154'>
<a class='timestamp' href='#505154'><time timestamp='2016-10-24T04:34:00Z'>04:34</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
any theory why &#x27;0&#x27; results in a connect to self? :s
<br>
</div>

<div class='talk op-msg' data-timestamp='1477283640' id='505155'>
<a class='timestamp' href='#505155'><time timestamp='2016-10-24T04:34:00Z'>04:34</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that shouldn&#x27;t even resolve to a valid ip
<br>
</div>

<div class='talk op-msg' data-timestamp='1477283640' id='505156'>
<a class='timestamp' href='#505156'><time timestamp='2016-10-24T04:34:00Z'>04:34</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
sipa: most integers are a valid IP
<br>
</div>

<div class='talk op-msg' data-timestamp='1477283700' id='505157'>
<a class='timestamp' href='#505157'><time timestamp='2016-10-24T04:35:00Z'>04:35</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I didn&#x27;t bother checking my belief that it used to behave better.
<br>
</div>

<div class='talk op-msg' data-timestamp='1477283700' id='505158'>
<a class='timestamp' href='#505158'><time timestamp='2016-10-24T04:35:00Z'>04:35</time></a>
&lt;<span class='nick nick-3'> aj</span>&gt;
sipa: telnet 0 22 -&gt; 0.0.0.0:22 -&gt; ssh to localhost
<br>
</div>

<div class='talk op-msg' data-timestamp='1477283700' id='505159'>
<a class='timestamp' href='#505159'><time timestamp='2016-10-24T04:35:00Z'>04:35</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
$ telnet 0 8333
<br>
</div>

<div class='talk op-msg' data-timestamp='1477283700' id='505160'>
<a class='timestamp' href='#505160'><time timestamp='2016-10-24T04:35:00Z'>04:35</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Trying 0.0.0.0...                                                                                                                           
<br>
</div>

<div class='talk op-msg' data-timestamp='1477283700' id='505161'>
<a class='timestamp' href='#505161'><time timestamp='2016-10-24T04:35:00Z'>04:35</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Connected to 0.                                                                                                                             
<br>
</div>

<div class='talk op-msg' data-timestamp='1477283700' id='505162'>
<a class='timestamp' href='#505162'><time timestamp='2016-10-24T04:35:00Z'>04:35</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Escape character is &#x27;^]&#x27;.                                                                                                                   
<br>
</div>

<div class='talk op-msg' data-timestamp='1477283700' id='505163'>
<a class='timestamp' href='#505163'><time timestamp='2016-10-24T04:35:00Z'>04:35</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
^]                                                                                                                                          
<br>
</div>

<div class='talk op-msg' data-timestamp='1477283700' id='505164'>
<a class='timestamp' href='#505164'><time timestamp='2016-10-24T04:35:00Z'>04:35</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
telnet&gt; close
<br>
</div>

<div class='talk op-msg' data-timestamp='1477283700' id='505165'>
<a class='timestamp' href='#505165'><time timestamp='2016-10-24T04:35:00Z'>04:35</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
well i knew it&#x27;d resolve to 0.0.0.0
<br>
</div>

<div class='talk op-msg' data-timestamp='1477283700' id='505166'>
<a class='timestamp' href='#505166'><time timestamp='2016-10-24T04:35:00Z'>04:35</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i&#x27;m surprised 0.0.0.0 is a valid thing to connect to
<br>
</div>

<div class='talk op-msg' data-timestamp='1477283700' id='505167'>
<a class='timestamp' href='#505167'><time timestamp='2016-10-24T04:35:00Z'>04:35</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
This surprised me too. I figured it was some quirk of my system... but in any case, better to just not have the useless thread.
<br>
</div>

<div class='talk op-msg' data-timestamp='1477283760' id='505168'>
<a class='timestamp' href='#505168'><time timestamp='2016-10-24T04:36:00Z'>04:36</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
ping 2130706433
<br>
</div>

<div class='talk op-msg' data-timestamp='1477283760' id='505169'>
<a class='timestamp' href='#505169'><time timestamp='2016-10-24T04:36:00Z'>04:36</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
(this is 0x7f000001)
<br>
</div>

<div class='talk op-msg' data-timestamp='1477283760' id='505170'>
<a class='timestamp' href='#505170'><time timestamp='2016-10-24T04:36:00Z'>04:36</time></a>
&lt;<span class='nick nick-3'> aj</span>&gt;
0.0.0.0 means &quot;all ipv4 addresses on the local machine&quot;, so seems kinda plausible
<br>
</div>

<div class='talk op-msg' data-timestamp='1477283760' id='505171'>
<a class='timestamp' href='#505171'><time timestamp='2016-10-24T04:36:00Z'>04:36</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
luke-jr: some browsers even allow much larger integers (up to 2^1000-ish), resolving them modulo 2^32
<br>
</div>

<div class='talk op-msg' data-timestamp='1477283820' id='505172'>
<a class='timestamp' href='#505172'><time timestamp='2016-10-24T04:37:00Z'>04:37</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
&gt;_&lt;     
<br>
</div>

<div class='talk op-msg' data-timestamp='1477283880' id='505173'>
<a class='timestamp' href='#505173'><time timestamp='2016-10-24T04:38:00Z'>04:38</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
as to why anyone ever tbought to support that: i believe a naive decimal-to-uint32 converter will actually behave that way
<br>
</div>

<div class='talk op-msg' data-timestamp='1477283880' id='505174'>
<a class='timestamp' href='#505174'><time timestamp='2016-10-24T04:38:00Z'>04:38</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
we it would stop at 2^1000 isn&#x27;t clear. :P
<br>
</div>

<div class='talk op-msg' data-timestamp='1477283940' id='505175'>
<a class='timestamp' href='#505175'><time timestamp='2016-10-24T04:39:00Z'>04:39</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
I should access my KVMoIP by decimal. I don&#x27;t have DNS on it anyway. :p
<br>
</div>

<div class='talk op-msg' data-timestamp='1477284240' id='505176'>
<a class='timestamp' href='#505176'><time timestamp='2016-10-24T04:44:00Z'>04:44</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: ish
<br>
</div>

<div class='talk op-msg' data-timestamp='1477284300' id='505177'>
<a class='timestamp' href='#505177'><time timestamp='2016-10-24T04:45:00Z'>04:45</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it&#x27;s probably just an input buffer size limit
<br>
</div>

<div class='talk op-msg' data-timestamp='1477284660' id='505178'>
<a class='timestamp' href='#505178'><time timestamp='2016-10-24T04:51:00Z'>04:51</time></a>
&lt;<span class='nick nick-5'> midnightmagic</span>&gt;
0 is the inaddr_any wildcard/alias address, and in some systems (the ones I&#x27;m familiar with) it means &quot;the first interface that was ifconfig&#x27;d at boot&quot; -- in other words, it&#x27;s <b>*not*</b> guaranteed to be 127.0.0.1.
<br>
</div>

<div class='talk op-msg' data-timestamp='1477284720' id='505179'>
<a class='timestamp' href='#505179'><time timestamp='2016-10-24T04:52:00Z'>04:52</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
I would have expected 0.0.0.0 to be a blackhole :/
<br>
</div>

<div class='talk op-msg' data-timestamp='1477284720' id='505180'>
<a class='timestamp' href='#505180'><time timestamp='2016-10-24T04:52:00Z'>04:52</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
midnightmagic: what if you ifconfig the first interface with 0.0.0.0? &lt;.&lt;
<br>
</div>

<div class='talk op-msg' data-timestamp='1477284900' id='505181'>
<a class='timestamp' href='#505181'><time timestamp='2016-10-24T04:55:00Z'>04:55</time></a>
&lt;<span class='nick nick-5'> midnightmagic</span>&gt;
luke-jr: i dunno, can you ifconfig an interface to 0.0.0.0?
<br>
</div>

<div class='talk op-msg' data-timestamp='1477284900' id='505182'>
<a class='timestamp' href='#505182'><time timestamp='2016-10-24T04:55:00Z'>04:55</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
probably not
<br>
</div>

<div class='talk op-msg' data-timestamp='1477284900' id='505183'>
<a class='timestamp' href='#505183'><time timestamp='2016-10-24T04:55:00Z'>04:55</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
I think that means unconfigure
<br>
</div>

<div class='talk op-msg' data-timestamp='1477289700' id='505184'>
<a class='timestamp' href='#505184'><time timestamp='2016-10-24T06:15:00Z'>06:15</time></a>
&lt;<span class='nick nick-5'> midnightmagic</span>&gt;
or on some machines you get:
<br>
</div>

<div class='talk op-msg' data-timestamp='1477289700' id='505185'>
<a class='timestamp' href='#505185'><time timestamp='2016-10-24T06:15:00Z'>06:15</time></a>
&lt;<span class='nick nick-5'> midnightmagic</span>&gt;
:dom13:06:14:57 ~# telnet 0 22
<br>
</div>

<div class='talk op-msg' data-timestamp='1477289700' id='505186'>
<a class='timestamp' href='#505186'><time timestamp='2016-10-24T06:15:00Z'>06:15</time></a>
&lt;<span class='nick nick-5'> midnightmagic</span>&gt;
0: No address associated with hostname
<br>
</div>

<div class='talk op-msg' data-timestamp='1477290300' id='505187'>
<a class='timestamp' href='#505187'><time timestamp='2016-10-24T06:25:00Z'>06:25</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
IP parsing is not guaranteed to parse &#x27;0&#x27; as &#x27;0.0.0.0&#x27;, in this csae it just thinks it&#x27;s a hostname
<br>
</div>

<div class='talk op-msg' data-timestamp='1477290420' id='505188'>
<a class='timestamp' href='#505188'><time timestamp='2016-10-24T06:27:00Z'>06:27</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
any other 0.x.y.z IP seems to give &quot;invalid argument&quot; on linux
<br>
</div>

<div class='talk op-msg' data-timestamp='1477290600' id='505189'>
<a class='timestamp' href='#505189'><time timestamp='2016-10-24T06:30:00Z'>06:30</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
anyhow the problem here is that bitcoin core uses the OS&#x27;s IP parsing, this has resulted in confusion before
<br>
</div>

<div class='talk op-msg' data-timestamp='1477290600' id='505190'>
<a class='timestamp' href='#505190'><time timestamp='2016-10-24T06:30:00Z'>06:30</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I don&#x27;t ~think~ special casing &quot;0&quot; is too ugly, but I am open to that idea. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1477290660' id='505191'>
<a class='timestamp' href='#505191'><time timestamp='2016-10-24T06:31:00Z'>06:31</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
but it&#x27;s not just 0, some IP parsers will happily parse any int32 into a IPv4
<br>
</div>

<div class='talk op-msg' data-timestamp='1477290720' id='505192'>
<a class='timestamp' href='#505192'><time timestamp='2016-10-24T06:32:00Z'>06:32</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
+have other OS/libc specific quirks
<br>
</div>

<div class='talk op-msg' data-timestamp='1477290780' id='505193'>
<a class='timestamp' href='#505193'><time timestamp='2016-10-24T06:33:00Z'>06:33</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
right, this discussion is inspired by my patch that special cases &quot;0&quot; to disable connect. Which itself was inspired by me getting irritated with my logs being flooded with connects to self after setting connect=0 to disable automatic outbound connections.
<br>
</div>

<div class='talk op-msg' data-timestamp='1477290840' id='505194'>
<a class='timestamp' href='#505194'><time timestamp='2016-10-24T06:34:00Z'>06:34</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes, the reason to special-case 0 would be for -noconnect
<br>
</div>

<div class='talk op-msg' data-timestamp='1477290840' id='505195'>
<a class='timestamp' href='#505195'><time timestamp='2016-10-24T06:34:00Z'>06:34</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
which is fine with me
<br>
</div>

<div class='talk op-msg' data-timestamp='1477290840' id='505196'>
<a class='timestamp' href='#505196'><time timestamp='2016-10-24T06:34:00Z'>06:34</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Yes, right now, my PR doesn&#x27;t handle -noconnect (I believe), good point on that.
<br>
</div>

<div class='talk op-msg' data-timestamp='1477290840' id='505197'>
<a class='timestamp' href='#505197'><time timestamp='2016-10-24T06:34:00Z'>06:34</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
noconnect should automatically get converted to connect=0
<br>
</div>

<div class='talk op-msg' data-timestamp='1477290900' id='505198'>
<a class='timestamp' href='#505198'><time timestamp='2016-10-24T06:35:00Z'>06:35</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
you shoudln&#x27;t have to do anything special for that
<br>
</div>

<div class='talk op-msg' data-timestamp='1477290900' id='505199'>
<a class='timestamp' href='#505199'><time timestamp='2016-10-24T06:35:00Z'>06:35</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
-noX bcomes X=1 in the low-level arg handling
<br>
</div>

<div class='talk op-msg' data-timestamp='1477290900' id='505200'>
<a class='timestamp' href='#505200'><time timestamp='2016-10-24T06:35:00Z'>06:35</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
ehhh X=0
<br>
</div>

<div class='talk op-msg' data-timestamp='1477290960' id='505201'>
<a class='timestamp' href='#505201'><time timestamp='2016-10-24T06:36:00Z'>06:36</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Will test.
<br>
</div>

<div class='talk op-msg' data-timestamp='1477290960' id='505202'>
<a class='timestamp' href='#505202'><time timestamp='2016-10-24T06:36:00Z'>06:36</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
in any case special-casing 0 makes sense because the argument handling special-cases 0 for &#x27;no&#x27;
<br>
</div>

<div class='talk op-msg' data-timestamp='1477291080' id='505203'>
<a class='timestamp' href='#505203'><time timestamp='2016-10-24T06:38:00Z'>06:38</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
we do that in plenty of places in init.cpp, and adding one more is not a problem at all. If someone really wants to connect to 0.0.0.0, let them specify 0.0.0.0
<br>
</div>

<div class='talk op-msg' data-timestamp='1477291140' id='505204'>
<a class='timestamp' href='#505204'><time timestamp='2016-10-24T06:39:00Z'>06:39</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
-noconnect should ideally mean &quot;no outgoing connections&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1477291200' id='505205'>
<a class='timestamp' href='#505205'><time timestamp='2016-10-24T06:40:00Z'>06:40</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
ooh rowhammer on ARM, we&#x27;re nowhere safe are we
<br>
</div>

<div class='talk op-msg' data-timestamp='1477291200' id='505206'>
<a class='timestamp' href='#505206'><time timestamp='2016-10-24T06:40:00Z'>06:40</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
positive news, now that ECC memory will be needed to prevent users from controlling their own devices, we might get ecc memory in more devices.
<br>
</div>

<div class='talk op-msg' data-timestamp='1477291260' id='505207'>
<a class='timestamp' href='#505207'><time timestamp='2016-10-24T06:41:00Z'>06:41</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
so I thought about &quot;should it imply nodnsseed&quot; and &quot;what if you are goofy and combine connect=0 and addnode? should it still addnode?&quot;.
<br>
</div>

<div class='talk op-msg' data-timestamp='1477291320' id='505208'>
<a class='timestamp' href='#505208'><time timestamp='2016-10-24T06:42:00Z'>06:42</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
the former seems like a harmless and reasonable thing to do, the latter... I dunno if it should touch the addnode behavior, I think probably not.
<br>
</div>

<div class='talk op-msg' data-timestamp='1477291320' id='505209'>
<a class='timestamp' href='#505209'><time timestamp='2016-10-24T06:42:00Z'>06:42</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I guess it should mean &quot;no automatic connections&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1477291320' id='505210'>
<a class='timestamp' href='#505210'><time timestamp='2016-10-24T06:42:00Z'>06:42</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Yes. No automatic connections makes sense.
<br>
</div>

<div class='talk op-msg' data-timestamp='1477291320' id='505211'>
<a class='timestamp' href='#505211'><time timestamp='2016-10-24T06:42:00Z'>06:42</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
if you really want to force a connection using addnode, I don&#x27;t see why it should stop it
<br>
</div>

<div class='talk op-msg' data-timestamp='1477291320' id='505212'>
<a class='timestamp' href='#505212'><time timestamp='2016-10-24T06:42:00Z'>06:42</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Okay, I&#x27;ll add the imply on dnsseed.
<br>
</div>

<div class='talk op-msg' data-timestamp='1477291380' id='505213'>
<a class='timestamp' href='#505213'><time timestamp='2016-10-24T06:43:00Z'>06:43</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes stopping dnsseed is an optimiziation that makes sense
<br>
</div>

<div class='talk op-msg' data-timestamp='1477291380' id='505214'>
<a class='timestamp' href='#505214'><time timestamp='2016-10-24T06:43:00Z'>06:43</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
why dnsseed if you&#x27;re going to ignore the result
<br>
</div>

<div class='talk op-msg' data-timestamp='1477291380' id='505215'>
<a class='timestamp' href='#505215'><time timestamp='2016-10-24T06:43:00Z'>06:43</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
hardly likely to cause a negative surprise... you won&#x27;t know if you got seeded or not, with no automatic connections. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1477291380' id='505216'>
<a class='timestamp' href='#505216'><time timestamp='2016-10-24T06:43:00Z'>06:43</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
well it&#x27;s not a total no-op as it does update your peers.dat. If a tree falls in the forrest...
<br>
</div>

<div class='talk op-msg' data-timestamp='1477291440' id='505217'>
<a class='timestamp' href='#505217'><time timestamp='2016-10-24T06:44:00Z'>06:44</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
well if you really insist on that you can still override it to true right? I suppose you&#x27;re using &#x27;soft&#x27; parameter interaction?
<br>
</div>

<div class='talk op-msg' data-timestamp='1477291440' id='505218'>
<a class='timestamp' href='#505218'><time timestamp='2016-10-24T06:44:00Z'>06:44</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Yep.
<br>
</div>

<div class='talk op-msg' data-timestamp='1477291560' id='505219'>
<a class='timestamp' href='#505219'><time timestamp='2016-10-24T06:46:00Z'>06:46</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
oh actually any seting of connect already softsets dnsseed to off, even -noconnect.  (also listen too, which is potentially confusing, but historic, and conservative)
<br>
</div>

<div class='talk op-msg' data-timestamp='1477291560' id='505220'>
<a class='timestamp' href='#505220'><time timestamp='2016-10-24T06:46:00Z'>06:46</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
re: android I&#x27;m happy that these kind of exploits allow full control of the device by their owner, on the other hand, OSes such as android <b>*invite*</b> people to install all kinds of bullshit apps because of their claimed secure sandbox, and all of those can take full control of the device too, that worries me
<br>
</div>

<div class='talk op-msg' data-timestamp='1477291620' id='505221'>
<a class='timestamp' href='#505221'><time timestamp='2016-10-24T06:47:00Z'>06:47</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
ah yes that&#x27;s true
<br>
</div>

<div class='talk op-msg' data-timestamp='1477291800' id='505222'>
<a class='timestamp' href='#505222'><time timestamp='2016-10-24T06:50:00Z'>06:50</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
although the DRM-on-IoT thing is perverse, if someone hacks your phone (or toaster) through a rogue app, they will have root, but you can&#x27;t get control yourself to chase them off again
<br>
</div>

<div class='talk op-msg' data-timestamp='1477291860' id='505223'>
<a class='timestamp' href='#505223'><time timestamp='2016-10-24T06:51:00Z'>06:51</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
&quot;how to hand the world to blackhats with one easy trick&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1477291980' id='505224'>
<a class='timestamp' href='#505224'><time timestamp='2016-10-24T06:53:00Z'>06:53</time></a>
&lt;<span class='nick nick-5'> midnightmagic</span>&gt;
wumpus: you&#x27;re talking about rowhammer?
<br>
</div>

<div class='talk op-msg' data-timestamp='1477292040' id='505225'>
<a class='timestamp' href='#505225'><time timestamp='2016-10-24T06:54:00Z'>06:54</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
part of the reson we have this problem is due to technical illiteracy-- to Joe Blow, he doesn&#x27;t know how to control his device in a meaningful way no matter how much root you give him;  so to actually take control from him (even while still accidentally giving it to hackers) doesn&#x27;t seem like that big of a loss.
<br>
</div>

<div class='talk op-msg' data-timestamp='1477292040' id='505226'>
<a class='timestamp' href='#505226'><time timestamp='2016-10-24T06:54:00Z'>06:54</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes rowhammer, though it similarly applies to dirty cow, or still-undisclosed-exploit-of-the-day
<br>
</div>

<div class='talk op-msg' data-timestamp='1477292340' id='505227'>
<a class='timestamp' href='#505227'><time timestamp='2016-10-24T06:59:00Z'>06:59</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
technical illiteracy is certainly part of the problem - another one would be lack of standards in regard to gaining control of a device by someone with technical literacy
<br>
</div>

<div class='talk op-msg' data-timestamp='1477292340' id='505228'>
<a class='timestamp' href='#505228'><time timestamp='2016-10-24T06:59:00Z'>06:59</time></a>
&lt;<span class='nick nick-5'> midnightmagic</span>&gt;
&quot;It&#x27;s okay I&#x27;m just going to root your phone..&quot; &quot;Uh, okay Jim. Would you like another beer too?&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1477292460' id='505229'>
<a class='timestamp' href='#505229'><time timestamp='2016-10-24T07:01:00Z'>07:01</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
+ stupid laws that disallow circumventing &quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1477292460' id='505230'>
<a class='timestamp' href='#505230'><time timestamp='2016-10-24T07:01:00Z'>07:01</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
security measures&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1477292460' id='505231'>
<a class='timestamp' href='#505231'><time timestamp='2016-10-24T07:01:00Z'>07:01</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
all to protect mickey mouse, of course
<br>
</div>

<div class='talk op-msg' data-timestamp='1477292760' id='505232'>
<a class='timestamp' href='#505232'><time timestamp='2016-10-24T07:06:00Z'>07:06</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
&quot;International Journal of Proof-of-Concept or Get The Fuck Out&quot; hah I&#x27;d never seen that one written out
<br>
</div>

<div class='talk op-msg' data-timestamp='1477293300' id='505233'>
<a class='timestamp' href='#505233'><time timestamp='2016-10-24T07:15:00Z'>07:15</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
-noconnect seems to work fine w/ 9002
<br>
</div>

<div class='talk op-msg' data-timestamp='1477293480' id='505234'>
<a class='timestamp' href='#505234'><time timestamp='2016-10-24T07:18:00Z'>07:18</time></a>
&lt;<span class='nick nick-9'> GitHub101</span>&gt;
[bitcoin] laanwj pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/f08222e882b1...fd29348dbe82" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/f08222e882b1...fd29348dbe82</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1477293480' id='505235'>
<a class='timestamp' href='#505235'><time timestamp='2016-10-24T07:18:00Z'>07:18</time></a>
&lt;<span class='nick nick-9'> GitHub101</span>&gt;
bitcoin/master 1d8e12b Pavel Janík: Fix doxygen comment: the transaction is returned in txOut
<br>
</div>

<div class='talk op-msg' data-timestamp='1477293480' id='505236'>
<a class='timestamp' href='#505236'><time timestamp='2016-10-24T07:18:00Z'>07:18</time></a>
&lt;<span class='nick nick-9'> GitHub101</span>&gt;
bitcoin/master fd29348 Wladimir J. van der Laan: Merge #8993: Trivial: Fix doxygen comment: the transaction is returned in txOut...
<br>
</div>

<div class='talk op-msg' data-timestamp='1477293540' id='505237'>
<a class='timestamp' href='#505237'><time timestamp='2016-10-24T07:19:00Z'>07:19</time></a>
&lt;<span class='nick nick-6'> GitHub145</span>&gt;
[bitcoin] laanwj closed pull request #8993: Trivial: Fix doxygen comment: the transaction is returned in txOut (master...20161021_fix_GetTransaction_comment) <a href="https://github.com/bitcoin/bitcoin/pull/8993" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8993</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1477295400' id='505238'>
<a class='timestamp' href='#505238'><time timestamp='2016-10-24T07:50:00Z'>07:50</time></a>
&lt;<span class='nick nick-5'> GitHub87</span>&gt;
[bitcoin] unsystemizer opened pull request #9004: Clarify `listenonion` (master...patch-3) <a href="https://github.com/bitcoin/bitcoin/pull/9004" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9004</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1477296840' id='505239'>
<a class='timestamp' href='#505239'><time timestamp='2016-10-24T08:14:00Z'>08:14</time></a>
&lt;<span class='nick nick-14'> da2ce7</span>&gt;
Hello, is there a overview of this blocksign feature that is being developed?
<br>
</div>

<div class='talk op-msg' data-timestamp='1477296900' id='505240'>
<a class='timestamp' href='#505240'><time timestamp='2016-10-24T08:15:00Z'>08:15</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
da2ce7: I presume it would be a cut down port of whats in elements alpha.
<br>
</div>

<div class='talk op-msg' data-timestamp='1477296960' id='505241'>
<a class='timestamp' href='#505241'><time timestamp='2016-10-24T08:16:00Z'>08:16</time></a>
&lt;<span class='nick nick-14'> da2ce7</span>&gt;
I can only suppose it is only to be used for testnet.
<br>
</div>

<div class='talk op-msg' data-timestamp='1477296960' id='505242'>
<a class='timestamp' href='#505242'><time timestamp='2016-10-24T08:16:00Z'>08:16</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
the motivation is just to have testnets that are less unreliable than a very small pow blockchain for use for testing that doesn&#x27;t really care about the consensus mechenism.
<br>
</div>

<div class='talk op-msg' data-timestamp='1477296960' id='505243'>
<a class='timestamp' href='#505243'><time timestamp='2016-10-24T08:16:00Z'>08:16</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
yea, of course.
<br>
</div>

<div class='talk op-msg' data-timestamp='1477296960' id='505244'>
<a class='timestamp' href='#505244'><time timestamp='2016-10-24T08:16:00Z'>08:16</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I&#x27;m curious where you heard about it where that wasn&#x27;t clear?
<br>
</div>

<div class='talk op-msg' data-timestamp='1477296960' id='505245'>
<a class='timestamp' href='#505245'><time timestamp='2016-10-24T08:16:00Z'>08:16</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes, which is the only thing that makes the implementation difficult in practice
<br>
</div>

<div class='talk op-msg' data-timestamp='1477297080' id='505246'>
<a class='timestamp' href='#505246'><time timestamp='2016-10-24T08:18:00Z'>08:18</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
if you are looking for a proposal to enable it on mainnet, there&#x27;s none, no chance
<br>
</div>

<div class='talk op-msg' data-timestamp='1477297080' id='505247'>
<a class='timestamp' href='#505247'><time timestamp='2016-10-24T08:18:00Z'>08:18</time></a>
&lt;<span class='nick nick-14'> da2ce7</span>&gt;
I&#x27;m curious as it is similar to a feature that where a miner signs their block with a random key (with the pk fingerprint included in the coin base), where after-the-fact the miner could prove that he/she mined that block.
<br>
</div>

<div class='talk op-msg' data-timestamp='1477297080' id='505248'>
<a class='timestamp' href='#505248'><time timestamp='2016-10-24T08:18:00Z'>08:18</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
that doesn&#x27;t make a lot of sense, someone signing something doesn&#x27;t demonstrate authorship
<br>
</div>

<div class='talk op-msg' data-timestamp='1477297140' id='505249'>
<a class='timestamp' href='#505249'><time timestamp='2016-10-24T08:19:00Z'>08:19</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
instead, to achieve what you describe needs only a commitment to a public key in the block.
<br>
</div>

<div class='talk op-msg' data-timestamp='1477297140' id='505250'>
<a class='timestamp' href='#505250'><time timestamp='2016-10-24T08:19:00Z'>08:19</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Though it&#x27;s somewhat important to the system that miners operate anonymously, to reduce their exposure to coersion.
<br>
</div>

<div class='talk op-msg' data-timestamp='1477297200' id='505251'>
<a class='timestamp' href='#505251'><time timestamp='2016-10-24T08:20:00Z'>08:20</time></a>
&lt;<span class='nick nick-14'> da2ce7</span>&gt;
well it dose prove that you own that public key, so it means that I cannot put <u>_your_</u> public key in my block.
<br>
</div>

<div class='talk op-msg' data-timestamp='1477297260' id='505252'>
<a class='timestamp' href='#505252'><time timestamp='2016-10-24T08:21:00Z'>08:21</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
not necessarily. you could sign the template and ask me to mine it for you :p
<br>
</div>

<div class='talk op-msg' data-timestamp='1477297260' id='505253'>
<a class='timestamp' href='#505253'><time timestamp='2016-10-24T08:21:00Z'>08:21</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
If the key is random and used once it doesn&#x27;t really matter.
<br>
</div>

<div class='talk op-msg' data-timestamp='1477297380' id='505254'>
<a class='timestamp' href='#505254'><time timestamp='2016-10-24T08:23:00Z'>08:23</time></a>
&lt;<span class='nick nick-14'> da2ce7</span>&gt;
however then you would need a mechanism to enforce using a different key eveyblock.  Otherwise, BadMiner could put a GoodMiner public key, and be a nuance.
<br>
</div>

<div class='talk op-msg' data-timestamp='1477297440' id='505255'>
<a class='timestamp' href='#505255'><time timestamp='2016-10-24T08:24:00Z'>08:24</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
da2ce7: huh? no... if you care about that you just ignore reuse.
<br>
</div>

<div class='talk op-msg' data-timestamp='1477297440' id='505256'>
<a class='timestamp' href='#505256'><time timestamp='2016-10-24T08:24:00Z'>08:24</time></a>
&lt;<span class='nick nick-14'> da2ce7</span>&gt;
*nuisance
<br>
</div>

<div class='talk op-msg' data-timestamp='1477297440' id='505257'>
<a class='timestamp' href='#505257'><time timestamp='2016-10-24T08:24:00Z'>08:24</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
same as someone not providing a key at all.
<br>
</div>

<div class='talk op-msg' data-timestamp='1477297620' id='505258'>
<a class='timestamp' href='#505258'><time timestamp='2016-10-24T08:27:00Z'>08:27</time></a>
&lt;<span class='nick nick-14'> da2ce7</span>&gt;
well anyway, maybe there is no demand (or it isn&#x27;t a wise thing at all), for there to be a standard way for miners to prove they made a particular block.
<br>
</div>

<div class='talk op-msg' data-timestamp='1477297740' id='505259'>
<a class='timestamp' href='#505259'><time timestamp='2016-10-24T08:29:00Z'>08:29</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Sort of the opposite. I think it&#x27;s extremely risky for the system for miners to be attaching any kind of identity to blocks at all.
<br>
</div>

<div class='talk op-msg' data-timestamp='1477297740' id='505260'>
<a class='timestamp' href='#505260'><time timestamp='2016-10-24T08:29:00Z'>08:29</time></a>
&lt;<span class='nick nick-14'> da2ce7</span>&gt;
it could/would make miner/share statistics more reliable if used, again, if that is a wise idea is very debatable.
<br>
</div>

<div class='talk op-msg' data-timestamp='1477297740' id='505261'>
<a class='timestamp' href='#505261'><time timestamp='2016-10-24T08:29:00Z'>08:29</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
There are ways to do that without any publication of info to the general public though.
<br>
</div>

<div class='talk op-msg' data-timestamp='1477297920' id='505262'>
<a class='timestamp' href='#505262'><time timestamp='2016-10-24T08:32:00Z'>08:32</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(presumably we&#x27;ll see a change to miners self identifying the first time after someone gets sued because someone was unhappy about which transactions they happened to confirm. :( )
<br>
</div>

<div class='talk op-msg' data-timestamp='1477297920' id='505263'>
<a class='timestamp' href='#505263'><time timestamp='2016-10-24T08:32:00Z'>08:32</time></a>
&lt;<span class='nick nick-14'> da2ce7</span>&gt;
I can imagine that it could be useful in the case the network was under a 51% attack, if miners could attach pseudo-anonymous identities to blocks. However it would be much preferable to never be in such a dystopian state.
<br>
</div>

<div class='talk op-msg' data-timestamp='1477298040' id='505264'>
<a class='timestamp' href='#505264'><time timestamp='2016-10-24T08:34:00Z'>08:34</time></a>
&lt;<span class='nick nick-14'> da2ce7</span>&gt;
anyway, off-topic.  Blocksign for testnet is good for testing :).
<br>
</div>

<div class='talk op-msg' data-timestamp='1477298280' id='505265'>
<a class='timestamp' href='#505265'><time timestamp='2016-10-24T08:38:00Z'>08:38</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
yes, centeralizing the system can make it more secure against many kinds of attacks... :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1477300620' id='505266'>
<a class='timestamp' href='#505266'><time timestamp='2016-10-24T09:17:00Z'>09:17</time></a>
&lt;<span class='nick nick-8'> GitHub42</span>&gt;
[bitcoin] laanwj pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/fd29348dbe82...ced22d035ac0" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/fd29348dbe82...ced22d035ac0</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1477300620' id='505267'>
<a class='timestamp' href='#505267'><time timestamp='2016-10-24T09:17:00Z'>09:17</time></a>
&lt;<span class='nick nick-8'> GitHub42</span>&gt;
bitcoin/master dfe7906 Matt Corallo: Add missing cs_main lock to ::GETBLOCKTXN processing...
<br>
</div>

<div class='talk op-msg' data-timestamp='1477300620' id='505268'>
<a class='timestamp' href='#505268'><time timestamp='2016-10-24T09:17:00Z'>09:17</time></a>
&lt;<span class='nick nick-8'> GitHub42</span>&gt;
bitcoin/master ced22d0 Wladimir J. van der Laan: Merge #8995: Add missing cs_main lock to ::GETBLOCKTXN processing...
<br>
</div>

<div class='talk op-msg' data-timestamp='1477300620' id='505269'>
<a class='timestamp' href='#505269'><time timestamp='2016-10-24T09:17:00Z'>09:17</time></a>
&lt;<span class='nick nick-15'> GitHub156</span>&gt;
[bitcoin] laanwj closed pull request #8995: Add missing cs_main lock to ::GETBLOCKTXN processing (master...2016-10-fix-getblocktxn-locks) <a href="https://github.com/bitcoin/bitcoin/pull/8995" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8995</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1477306020' id='505270'>
<a class='timestamp' href='#505270'><time timestamp='2016-10-24T10:47:00Z'>10:47</time></a>
&lt;<span class='nick nick-14'> arubi</span>&gt;
wumpus, so specifically re. parsing partial transactions as pre-segwit (#8837), I actually hit this issue in my own toy parser and it shows in core too: <a href="http://paste.debian.net/plainh/8c80d8cd" class="link" target="_blank">http://paste.debian.net/plainh/8c80d8cd</a>  so having some flag would be great
<br>
</div>

<div class='talk op-msg' data-timestamp='1477306020' id='505271'>
<a class='timestamp' href='#505271'><time timestamp='2016-10-24T10:47:00Z'>10:47</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
thanks, so I wasn&#x27;t being overly paranoid about that
<br>
</div>

<div class='talk op-msg' data-timestamp='1477306080' id='505272'>
<a class='timestamp' href='#505272'><time timestamp='2016-10-24T10:48:00Z'>10:48</time></a>
&lt;<span class='nick nick-14'> arubi</span>&gt;
yea those 0 inputs pre segwit are something to think about when fundrawtransaction
<br>
</div>

<div class='talk op-msg' data-timestamp='1477306140' id='505273'>
<a class='timestamp' href='#505273'><time timestamp='2016-10-24T10:49:00Z'>10:49</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
please comment on the issue too
<br>
</div>

<div class='talk op-msg' data-timestamp='1477306140' id='505274'>
<a class='timestamp' href='#505274'><time timestamp='2016-10-24T10:49:00Z'>10:49</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
ah yes :(
<br>
</div>

<div class='talk op-msg' data-timestamp='1477306200' id='505275'>
<a class='timestamp' href='#505275'><time timestamp='2016-10-24T10:50:00Z'>10:50</time></a>
&lt;<span class='nick nick-14'> arubi</span>&gt;
well those fivepiece comments are mine :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1477306200' id='505276'>
<a class='timestamp' href='#505276'><time timestamp='2016-10-24T10:50:00Z'>10:50</time></a>
&lt;<span class='nick nick-14'> arubi</span>&gt;
I&#x27;ll copy this comment too
<br>
</div>

<div class='talk op-msg' data-timestamp='1477307040' id='505277'>
<a class='timestamp' href='#505277'><time timestamp='2016-10-24T11:04:00Z'>11:04</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
does anyone care about DecodeBase58 performance? If so, please review/test <a href="https://github.com/bitcoin/bitcoin/pull/8736" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8736</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1477309740' id='505278'>
<a class='timestamp' href='#505278'><time timestamp='2016-10-24T11:49:00Z'>11:49</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
during IBD, there is &quot;chainActive&quot; like (CChain) object that contains the headers-only chain?
<br>
</div>

<div class='talk op-msg' data-timestamp='1477309740' id='505279'>
<a class='timestamp' href='#505279'><time timestamp='2016-10-24T11:49:00Z'>11:49</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
*there is no &quot;chainActive&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1477309800' id='505280'>
<a class='timestamp' href='#505280'><time timestamp='2016-10-24T11:50:00Z'>11:50</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
It looks like that getchaintips is ripping out the headers-tip from setOrphans
<br>
</div>

<div class='talk op-msg' data-timestamp='1477310640' id='505281'>
<a class='timestamp' href='#505281'><time timestamp='2016-10-24T12:04:00Z'>12:04</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
nm: I think pindexBestHeader is acceptable for my usecase
<br>
</div>

<div class='talk op-msg' data-timestamp='1477310700' id='505282'>
<a class='timestamp' href='#505282'><time timestamp='2016-10-24T12:05:00Z'>12:05</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
ok :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1477311060' id='505283'>
<a class='timestamp' href='#505283'><time timestamp='2016-10-24T12:11:00Z'>12:11</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
hmm.. why points pindexBestHeader-&gt;pprev to pindexBestHeader?!
<br>
</div>

<div class='talk op-msg' data-timestamp='1477311120' id='505284'>
<a class='timestamp' href='#505284'><time timestamp='2016-10-24T12:12:00Z'>12:12</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
looks like it not traversable
<br>
</div>

<div class='talk op-msg' data-timestamp='1477311120' id='505285'>
<a class='timestamp' href='#505285'><time timestamp='2016-10-24T12:12:00Z'>12:12</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
again... nm! local issue.
<br>
</div>

<div class='talk op-msg' data-timestamp='1477326300' id='505286'>
<a class='timestamp' href='#505286'><time timestamp='2016-10-24T16:25:00Z'>16:25</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
wait, what?
<br>
</div>

<div class='talk op-msg' data-timestamp='1477326300' id='505287'>
<a class='timestamp' href='#505287'><time timestamp='2016-10-24T16:25:00Z'>16:25</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
argh, we did break addnode :(
<br>
</div>

<div class='talk op-msg' data-timestamp='1477326360' id='505288'>
<a class='timestamp' href='#505288'><time timestamp='2016-10-24T16:26:00Z'>16:26</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
how so?
<br>
</div>

<div class='talk op-msg' data-timestamp='1477326360' id='505289'>
<a class='timestamp' href='#505289'><time timestamp='2016-10-24T16:26:00Z'>16:26</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
i was just trying to use it for fibre and the hostname as both ipv4 and ipv6 but it will only try to connect to one resolved addr even though the other one will work
<br>
</div>

<div class='talk op-msg' data-timestamp='1477326420' id='505290'>
<a class='timestamp' href='#505290'><time timestamp='2016-10-24T16:27:00Z'>16:27</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
hmm     
<br>
</div>

<div class='talk op-msg' data-timestamp='1477326420' id='505291'>
<a class='timestamp' href='#505291'><time timestamp='2016-10-24T16:27:00Z'>16:27</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
i didnt realize we broke the pick-different-address-if-it-doesnt-connect logic :(
<br>
</div>

<div class='talk op-msg' data-timestamp='1477326480' id='505292'>
<a class='timestamp' href='#505292'><time timestamp='2016-10-24T16:28:00Z'>16:28</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i didn&#x27;t think so either
<br>
</div>

<div class='talk op-msg' data-timestamp='1477326480' id='505293'>
<a class='timestamp' href='#505293'><time timestamp='2016-10-24T16:28:00Z'>16:28</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
there doesnt seem to be any handling for it
<br>
</div>

<div class='talk op-msg' data-timestamp='1477326540' id='505294'>
<a class='timestamp' href='#505294'><time timestamp='2016-10-24T16:29:00Z'>16:29</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ConnectSocketByName should pick a random resolved address for each attempt
<br>
</div>

<div class='talk op-msg' data-timestamp='1477326540' id='505295'>
<a class='timestamp' href='#505295'><time timestamp='2016-10-24T16:29:00Z'>16:29</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
ThreadOpenAddedConnections does a LooupNumeric before calling OpenNetworkConnection
<br>
</div>

<div class='talk op-msg' data-timestamp='1477326600' id='505296'>
<a class='timestamp' href='#505296'><time timestamp='2016-10-24T16:30:00Z'>16:30</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
lol, the client in question doesnt even have a v6 default route...bitcoind was trying (and failing) to connect to the v6 host, it seems :/
<br>
</div>

<div class='talk op-msg' data-timestamp='1477326600' id='505297'>
<a class='timestamp' href='#505297'><time timestamp='2016-10-24T16:30:00Z'>16:30</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and LookupNuumeric will fail if it&#x27;s not a x.y.z.w or aaaa::bbbb:ccc or .onion style string
<br>
</div>

<div class='talk op-msg' data-timestamp='1477326600' id='505298'>
<a class='timestamp' href='#505298'><time timestamp='2016-10-24T16:30:00Z'>16:30</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
ahh     
<br>
</div>

<div class='talk op-msg' data-timestamp='1477326660' id='505299'>
<a class='timestamp' href='#505299'><time timestamp='2016-10-24T16:31:00Z'>16:31</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
hmm, maybe they just didnt wait long enough
<br>
</div>

<div class='talk op-msg' data-timestamp='1477326660' id='505300'>
<a class='timestamp' href='#505300'><time timestamp='2016-10-24T16:31:00Z'>16:31</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
but it did try to connect to v6, get a network unreachable error, and give up :(
<br>
</div>

<div class='talk op-msg' data-timestamp='1477326720' id='505301'>
<a class='timestamp' href='#505301'><time timestamp='2016-10-24T16:32:00Z'>16:32</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it will only retry 2 minutes later, i think
<br>
</div>

<div class='talk op-msg' data-timestamp='1477326720' id='505302'>
<a class='timestamp' href='#505302'><time timestamp='2016-10-24T16:32:00Z'>16:32</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
yes, it did, and tried again to ipv6
<br>
</div>

<div class='talk op-msg' data-timestamp='1477326780' id='505303'>
<a class='timestamp' href='#505303'><time timestamp='2016-10-24T16:33:00Z'>16:33</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
though if its random i suppose he could have waited longer and maybe it would have worked
<br>
</div>

<div class='talk op-msg' data-timestamp='1477326780' id='505304'>
<a class='timestamp' href='#505304'><time timestamp='2016-10-24T16:33:00Z'>16:33</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
though its possible the hosts ipv6-preference logic is bad?
<br>
</div>

<div class='talk op-msg' data-timestamp='1477326780' id='505305'>
<a class='timestamp' href='#505305'><time timestamp='2016-10-24T16:33:00Z'>16:33</time></a>
&lt;<span class='nick nick-16'> Lightsword</span>&gt;
it’s a fairly standard EC2 ubuntu 16.04 VPS
<br>
</div>

<div class='talk op-msg' data-timestamp='1477326840' id='505306'>
<a class='timestamp' href='#505306'><time timestamp='2016-10-24T16:34:00Z'>16:34</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
maybe it only resolves to IPv6 addresses for some reason?
<br>
</div>

<div class='talk op-msg' data-timestamp='1477326840' id='505307'>
<a class='timestamp' href='#505307'><time timestamp='2016-10-24T16:34:00Z'>16:34</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
Lightsword: can you disconnect the ipv4 peer and just addnode the hostname and wait a few sets of 2 minutes?
<br>
</div>

<div class='talk op-msg' data-timestamp='1477327440' id='505308'>
<a class='timestamp' href='#505308'><time timestamp='2016-10-24T16:44:00Z'>16:44</time></a>
&lt;<span class='nick nick-16'> Lightsword</span>&gt;
BlueMatt, yeah not seeing any connection
<br>
</div>

<div class='talk op-msg' data-timestamp='1477327440' id='505309'>
<a class='timestamp' href='#505309'><time timestamp='2016-10-24T16:44:00Z'>16:44</time></a>
&lt;<span class='nick nick-16'> Lightsword</span>&gt;
2016-10-24 16:40:07.057232 trying connection us-west.fibre.bitcoinrelaynetwork.org lastseen=0.0hrs
<br>
</div>

<div class='talk op-msg' data-timestamp='1477327440' id='505310'>
<a class='timestamp' href='#505310'><time timestamp='2016-10-24T16:44:00Z'>16:44</time></a>
&lt;<span class='nick nick-16'> Lightsword</span>&gt;
2016-10-24 16:40:07.237914 connect() to [2607:f0d0:2002:169::2]:8333 failed: Network is unreachable (101)
<br>
</div>

<div class='talk op-msg' data-timestamp='1477327500' id='505311'>
<a class='timestamp' href='#505311'><time timestamp='2016-10-24T16:45:00Z'>16:45</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
yea, so it seems broken :(
<br>
</div>

<div class='talk op-msg' data-timestamp='1477327560' id='505312'>
<a class='timestamp' href='#505312'><time timestamp='2016-10-24T16:46:00Z'>16:46</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
argh, someone wanna tag <a href="https://github.com/bitcoin/bitcoin/issues/9007" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/9007</a> 0.13.1?
<br>
</div>

<div class='talk op-msg' data-timestamp='1477327740' id='505313'>
<a class='timestamp' href='#505313'><time timestamp='2016-10-24T16:49:00Z'>16:49</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
I can&#x27;t do so, sorry.
<br>
</div>

<div class='talk op-msg' data-timestamp='1477327920' id='505314'>
<a class='timestamp' href='#505314'><time timestamp='2016-10-24T16:52:00Z'>16:52</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
already done
<br>
</div>

<div class='talk op-msg' data-timestamp='1477327980' id='505315'>
<a class='timestamp' href='#505315'><time timestamp='2016-10-24T16:53:00Z'>16:53</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
another assert that should be removed, like 1ab21cf344ed0547de5ae679b7e479cb4b1a923b I guess...
<br>
</div>

<div class='talk op-msg' data-timestamp='1477327980' id='505316'>
<a class='timestamp' href='#505316'><time timestamp='2016-10-24T16:53:00Z'>16:53</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
should check there&#x27;s no other weird asserts added
<br>
</div>

<div class='talk op-msg' data-timestamp='1477327980' id='505317'>
<a class='timestamp' href='#505317'><time timestamp='2016-10-24T16:53:00Z'>16:53</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
is 9007 in 0.13?
<br>
</div>

<div class='talk op-msg' data-timestamp='1477328040' id='505318'>
<a class='timestamp' href='#505318'><time timestamp='2016-10-24T16:54:00Z'>16:54</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes     
<br>
</div>

<div class='talk op-msg' data-timestamp='1477328160' id='505319'>
<a class='timestamp' href='#505319'><time timestamp='2016-10-24T16:56:00Z'>16:56</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/blob/0.13/src/net.cpp#L1024" class="link" target="_blank">https://github.com/bitcoin/bitcoin/blob/0.13/src/net.cpp#L1024</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1477328160' id='505320'>
<a class='timestamp' href='#505320'><time timestamp='2016-10-24T16:56:00Z'>16:56</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ah, caused by feelers?
<br>
</div>

<div class='talk op-msg' data-timestamp='1477328220' id='505321'>
<a class='timestamp' href='#505321'><time timestamp='2016-10-24T16:57:00Z'>16:57</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes, maxconnections cannot be lower than maxoutbound+maxfeeler, I suppose if he&#x27;d just set maxconnections=9 it&#x27;d be ok
<br>
</div>

<div class='talk op-msg' data-timestamp='1477328280' id='505322'>
<a class='timestamp' href='#505322'><time timestamp='2016-10-24T16:58:00Z'>16:58</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
addnode can take you beyond the nMaxOutbound count.
<br>
</div>

<div class='talk op-msg' data-timestamp='1477328280' id='505323'>
<a class='timestamp' href='#505323'><time timestamp='2016-10-24T16:58:00Z'>16:58</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
that&#x27;s not what that assert is checking though
<br>
</div>

<div class='talk op-msg' data-timestamp='1477328340' id='505324'>
<a class='timestamp' href='#505324'><time timestamp='2016-10-24T16:59:00Z'>16:59</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it doesn&#x27;t look at your actual connections, just the max possible
<br>
</div>

<div class='talk op-msg' data-timestamp='1477328340' id='505325'>
<a class='timestamp' href='#505325'><time timestamp='2016-10-24T16:59:00Z'>16:59</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
ah, indeed.
<br>
</div>

<div class='talk op-msg' data-timestamp='1477328340' id='505326'>
<a class='timestamp' href='#505326'><time timestamp='2016-10-24T16:59:00Z'>16:59</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
that should be a return, not an assert, in any case.
<br>
</div>

<div class='talk op-msg' data-timestamp='1477328340' id='505327'>
<a class='timestamp' href='#505327'><time timestamp='2016-10-24T16:59:00Z'>16:59</time></a>
&lt;<span class='nick nick-2'> * gmaxwell</span>&gt;
feels stupid for missing that.
<br>
</div>

<div class='talk op-msg' data-timestamp='1477328640' id='505328'>
<a class='timestamp' href='#505328'><time timestamp='2016-10-24T17:04:00Z'>17:04</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
There was another inappropriate assert added in the same commit, but it was already removed by PR 8944.
<br>
</div>

<div class='talk op-msg' data-timestamp='1477328640' id='505329'>
<a class='timestamp' href='#505329'><time timestamp='2016-10-24T17:04:00Z'>17:04</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
well the previous assert based bug was that
<br>
</div>

<div class='talk op-msg' data-timestamp='1477328640' id='505330'>
<a class='timestamp' href='#505330'><time timestamp='2016-10-24T17:04:00Z'>17:04</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
right
<br>
</div>

<div class='talk op-msg' data-timestamp='1477328820' id='505331'>
<a class='timestamp' href='#505331'><time timestamp='2016-10-24T17:07:00Z'>17:07</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sipa: I can&#x27;t see how that couldn&#x27;t be reproduced in rc2.
<br>
</div>

<div class='talk op-msg' data-timestamp='1477329000' id='505332'>
<a class='timestamp' href='#505332'><time timestamp='2016-10-24T17:10:00Z'>17:10</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
even returning there wouldn&#x27;t be right.
<br>
</div>

<div class='talk op-msg' data-timestamp='1477329000' id='505333'>
<a class='timestamp' href='#505333'><time timestamp='2016-10-24T17:10:00Z'>17:10</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
lets say I set -connect=1.2.3.4 and maxconnections=4 ... I should still be able to accept 3 connections.
<br>
</div>

<div class='talk op-msg' data-timestamp='1477329060' id='505334'>
<a class='timestamp' href='#505334'><time timestamp='2016-10-24T17:11:00Z'>17:11</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
if you set -connect, isn&#x27;t listening disabled by default?
<br>
</div>

<div class='talk op-msg' data-timestamp='1477329120' id='505335'>
<a class='timestamp' href='#505335'><time timestamp='2016-10-24T17:12:00Z'>17:12</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
its softset off.
<br>
</div>

<div class='talk op-msg' data-timestamp='1477329120' id='505336'>
<a class='timestamp' href='#505336'><time timestamp='2016-10-24T17:12:00Z'>17:12</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
so if you -connect + listen=1 to be precise. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1477329180' id='505337'>
<a class='timestamp' href='#505337'><time timestamp='2016-10-24T17:13:00Z'>17:13</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ok     
<br>
</div>

<div class='talk op-msg' data-timestamp='1477329240' id='505338'>
<a class='timestamp' href='#505338'><time timestamp='2016-10-24T17:14:00Z'>17:14</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I was about to suggest that maxconnections&lt;8 should hard force listen off, because then it would make it easier to troubleshoot why things aren&#x27;t connecting; then realized that no actually in some configs inbounds should still be working even with low max connections.
<br>
</div>

<div class='talk op-msg' data-timestamp='1477329360' id='505339'>
<a class='timestamp' href='#505339'><time timestamp='2016-10-24T17:16:00Z'>17:16</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
wait.. what.. is eviction now broken?!
<br>
</div>

<div class='talk op-msg' data-timestamp='1477329480' id='505340'>
<a class='timestamp' href='#505340'><time timestamp='2016-10-24T17:18:00Z'>17:18</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
okay, its not, just kind of stupid.
<br>
</div>

<div class='talk op-msg' data-timestamp='1477329600' id='505341'>
<a class='timestamp' href='#505341'><time timestamp='2016-10-24T17:20:00Z'>17:20</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
without the insert, the -noconnect + listen=1 case with maxconnections&lt;8 will continually try evicting a connection and fail.
<br>
</div>

<div class='talk op-msg' data-timestamp='1477332360' id='505342'>
<a class='timestamp' href='#505342'><time timestamp='2016-10-24T18:06:00Z'>18:06</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
sipa: sorry for the annoying questions here..  it appears to me that the dynamic memory usage tracking in CCoinsViewCache assumes that the memory usage of a pruned coins is 0.  i&#x27;m guess this is usually the case, but its not guaranteed right?   (depends on capacity = 0)
<br>
</div>

<div class='talk op-msg' data-timestamp='1477332420' id='505343'>
<a class='timestamp' href='#505343'><time timestamp='2016-10-24T18:07:00Z'>18:07</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
morcos: i believe we actually always call CCoins::Cleanup()
<br>
</div>

<div class='talk op-msg' data-timestamp='1477332420' id='505344'>
<a class='timestamp' href='#505344'><time timestamp='2016-10-24T18:07:00Z'>18:07</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
which sets the capacity to 0
<br>
</div>

<div class='talk op-msg' data-timestamp='1477332420' id='505345'>
<a class='timestamp' href='#505345'><time timestamp='2016-10-24T18:07:00Z'>18:07</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
i was trying to track down some signficant variations between actual usage and the tracked usage that appear in my code.. and am starting by trying to understand why the existing code is correct
<br>
</div>

<div class='talk op-msg' data-timestamp='1477332420' id='505346'>
<a class='timestamp' href='#505346'><time timestamp='2016-10-24T18:07:00Z'>18:07</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
well it calls a new vector and swaps
<br>
</div>

<div class='talk op-msg' data-timestamp='1477332480' id='505347'>
<a class='timestamp' href='#505347'><time timestamp='2016-10-24T18:08:00Z'>18:08</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yes, that was the C++03 trick to set the capacity to 0
<br>
</div>

<div class='talk op-msg' data-timestamp='1477332480' id='505348'>
<a class='timestamp' href='#505348'><time timestamp='2016-10-24T18:08:00Z'>18:08</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
but from my googling it seems implementation dependent whether a new vector has capacity 0?
<br>
</div>

<div class='talk op-msg' data-timestamp='1477332480' id='505349'>
<a class='timestamp' href='#505349'><time timestamp='2016-10-24T18:08:00Z'>18:08</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ok, i agree there is in theory a standard-compliant implementations which doesn&#x27;t have that behaviour
<br>
</div>

<div class='talk op-msg' data-timestamp='1477332540' id='505350'>
<a class='timestamp' href='#505350'><time timestamp='2016-10-24T18:09:00Z'>18:09</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
ok..  i noticed that a while ago.. and its probably not the cause of my problem, but just wanted to understand
<br>
</div>

<div class='talk op-msg' data-timestamp='1477332540' id='505351'>
<a class='timestamp' href='#505351'><time timestamp='2016-10-24T18:09:00Z'>18:09</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
second , kind of unrelated question
<br>
</div>

<div class='talk op-msg' data-timestamp='1477332540' id='505352'>
<a class='timestamp' href='#505352'><time timestamp='2016-10-24T18:09:00Z'>18:09</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
prevector.resize(0) doesn&#x27;t seem like the fastest way to clean up a prevector&lt;unsigned char&gt; does it?
<br>
</div>

<div class='talk op-msg' data-timestamp='1477332540' id='505353'>
<a class='timestamp' href='#505353'><time timestamp='2016-10-24T18:09:00Z'>18:09</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
the c++11 way is std::vector::shrink_to_fit() btw
<br>
</div>

<div class='talk op-msg' data-timestamp='1477332600' id='505354'>
<a class='timestamp' href='#505354'><time timestamp='2016-10-24T18:10:00Z'>18:10</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
looking at the resize code, it calls erase, which iterates the elements destructing them
<br>
</div>

<div class='talk op-msg' data-timestamp='1477332600' id='505355'>
<a class='timestamp' href='#505355'><time timestamp='2016-10-24T18:10:00Z'>18:10</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
but in our case where we&#x27;re always using unsigned chars and we want to clear the whole thing.. couldn&#x27;t we do that faster?
<br>
</div>

<div class='talk op-msg' data-timestamp='1477332660' id='505356'>
<a class='timestamp' href='#505356'><time timestamp='2016-10-24T18:11:00Z'>18:11</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
so there is a question of what prevector should support
<br>
</div>

<div class='talk op-msg' data-timestamp='1477332660' id='505357'>
<a class='timestamp' href='#505357'><time timestamp='2016-10-24T18:11:00Z'>18:11</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
if it can only contain POD types, i think more complexity can go away
<br>
</div>

<div class='talk op-msg' data-timestamp='1477332720' id='505358'>
<a class='timestamp' href='#505358'><time timestamp='2016-10-24T18:12:00Z'>18:12</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but if it&#x27;s to be value for any movable c++ type (as it does now), it has to call erase (which may still be optimized out, when instanciated for simple types)
<br>
</div>

<div class='talk op-msg' data-timestamp='1477332720' id='505359'>
<a class='timestamp' href='#505359'><time timestamp='2016-10-24T18:12:00Z'>18:12</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i thought cfields_ was working on some improvements to prevector?
<br>
</div>

<div class='talk op-msg' data-timestamp='1477332720' id='505360'>
<a class='timestamp' href='#505360'><time timestamp='2016-10-24T18:12:00Z'>18:12</time></a>
&lt;<span class='nick nick-3'> cfields_</span>&gt;
sipa: one of many things that got to 90% and shelved.
<br>
</div>

<div class='talk op-msg' data-timestamp='1477332780' id='505361'>
<a class='timestamp' href='#505361'><time timestamp='2016-10-24T18:13:00Z'>18:13</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
s/erase/destructors/
<br>
</div>

<div class='talk op-msg' data-timestamp='1477332780' id='505362'>
<a class='timestamp' href='#505362'><time timestamp='2016-10-24T18:13:00Z'>18:13</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
maybe.. i&#x27;m not sure.   seems like it might be nice to at least optimize that one particular case, would we subtemplate or something that particular call.  
<br>
</div>

<div class='talk op-msg' data-timestamp='1477332780' id='505363'>
<a class='timestamp' href='#505363'><time timestamp='2016-10-24T18:13:00Z'>18:13</time></a>
&lt;<span class='nick nick-3'> cfields_</span>&gt;
sipa: in particular, I was doing a specialiazation for size=1
<br>
</div>

<div class='talk op-msg' data-timestamp='1477332780' id='505364'>
<a class='timestamp' href='#505364'><time timestamp='2016-10-24T18:13:00Z'>18:13</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yes, in c++11 you can use templates to figure out whether it&#x27;s POD, and use a simpler implementation in that case or something
<br>
</div>

<div class='talk op-msg' data-timestamp='1477332780' id='505365'>
<a class='timestamp' href='#505365'><time timestamp='2016-10-24T18:13:00Z'>18:13</time></a>
&lt;<span class='nick nick-3'> cfields_</span>&gt;
since that&#x27;s our main use-case, and you can get huge speedups with that assumption
<br>
</div>

<div class='talk op-msg' data-timestamp='1477332840' id='505366'>
<a class='timestamp' href='#505366'><time timestamp='2016-10-24T18:14:00Z'>18:14</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
ok..   thanks for the thoughts..  
<br>
</div>

<div class='talk op-msg' data-timestamp='1477339980' id='505367'>
<a class='timestamp' href='#505367'><time timestamp='2016-10-24T20:13:00Z'>20:13</time></a>
&lt;<span class='nick nick-16'> GitHub49</span>&gt;
[bitcoin] MarcoFalke opened pull request #9008: [net] Remove assert(nMaxInbound &gt; 0) (master...Mf1610-netAssert) <a href="https://github.com/bitcoin/bitcoin/pull/9008" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9008</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1477342080' id='505368'>
<a class='timestamp' href='#505368'><time timestamp='2016-10-24T20:48:00Z'>20:48</time></a>
&lt;<span class='nick nick-6'> btcdrak</span>&gt;
<a href="https://github.com/bitcoin-core/bitcoincore.org/pull/239" class="link" target="_blank">https://github.com/bitcoin-core/bitcoincore.org/pull/239</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1477346280' id='505369'>
<a class='timestamp' href='#505369'><time timestamp='2016-10-24T21:58:00Z'>21:58</time></a>
&lt;<span class='nick nick-7'> nibor</span>&gt;
Could someone let me know what they think about:  <a href="https://gist.github.com/n1bor/d5b0330a9addb0bf5e0f869518883522" class="link" target="_blank">https://gist.github.com/n1bor/d5b0330a9addb0bf5e0f869518883522</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1477346340' id='505370'>
<a class='timestamp' href='#505370'><time timestamp='2016-10-24T21:59:00Z'>21:59</time></a>
&lt;<span class='nick nick-7'> nibor</span>&gt;
Is a functioning proof of concept of chainstate only sync. Syncs in about 30mins to a pruned full node state.
<br>
</div>

<div class='talk op-msg' data-timestamp='1477346400' id='505371'>
<a class='timestamp' href='#505371'><time timestamp='2016-10-24T22:00:00Z'>22:00</time></a>
&lt;<span class='nick nick-7'> nibor</span>&gt;
Obviously need a soft-fork to be any use.
<br>
</div>

<div class='talk op-msg' data-timestamp='1477347000' id='505372'>
<a class='timestamp' href='#505372'><time timestamp='2016-10-24T22:10:00Z'>22:10</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
nibor: it&#x27;s more frequent than the model I&#x27;ve been thinking of. For security reasons you really don&#x27;t want to have a case where miners could make a 100 block fork and then forward print themselves a lot of coins. :)  Also it&#x27;s quite common for nodes to be offline for 1-2 weeks, so if nodes aren&#x27;t keeping that much in blocks easily available, then security redegrades to SPV history (new chainstat
<br>
</div>

<div class='talk op-msg' data-timestamp='1477347000' id='505373'>
<a class='timestamp' href='#505373'><time timestamp='2016-10-24T22:10:00Z'>22:10</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
e sync). ... and downloading and syncing a few thousand blocks isn&#x27;t really slow compared to 100 (relative to current sync times).
<br>
</div>

<div class='talk op-msg' data-timestamp='1477347000' id='505374'>
<a class='timestamp' href='#505374'><time timestamp='2016-10-24T22:10:00Z'>22:10</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
This is all particular relevant because the snapshot management means that different peers really can&#x27;t choose their own checking time.
<br>
</div>

<div class='talk op-msg' data-timestamp='1477347000' id='505375'>
<a class='timestamp' href='#505375'><time timestamp='2016-10-24T22:10:00Z'>22:10</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I&#x27;d been thinking of something that was more like a 3 month interval.
<br>
</div>

<div class='talk op-msg' data-timestamp='1477347060' id='505376'>
<a class='timestamp' href='#505376'><time timestamp='2016-10-24T22:11:00Z'>22:11</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Petertodd will protest that requring a particular UTXO set construction will be a hard barrier to even more scalable things like STXO commitments in the future.  I came up with a solution to that which you might want to use:
<br>
</div>

<div class='talk op-msg' data-timestamp='1477347120' id='505377'>
<a class='timestamp' href='#505377'><time timestamp='2016-10-24T22:12:00Z'>22:12</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Two softfork rules: (1) if the commitment is present, it must be correct. and (2) the commitment must be present from activation until block XXX.   If halfway to XXX everyone is still happy with the scheme, a new softfork is applied that says the commitment must be presnet until YYY.
<br>
</div>

<div class='talk op-msg' data-timestamp='1477347120' id='505378'>
<a class='timestamp' href='#505378'><time timestamp='2016-10-24T22:12:00Z'>22:12</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
That way if someothing better comes along, the commitment can eventually be dropped in a smooth and compatible manner.
<br>
</div>

<div class='talk op-msg' data-timestamp='1477347180' id='505379'>
<a class='timestamp' href='#505379'><time timestamp='2016-10-24T22:13:00Z'>22:13</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(perhaps making new installs of old software take a long time to sync :) )
<br>
</div>

<div class='talk op-msg' data-timestamp='1477347240' id='505380'>
<a class='timestamp' href='#505380'><time timestamp='2016-10-24T22:14:00Z'>22:14</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
nibor: the hash chunking thing should use some kind of tree hash, it probably doesn&#x27;t need to go down to the indivigual entry, but if I fetch chunks from N peers in parallel and one peer gives me garbage, I should be able to tell <u>_which_</u> peer gave me garbage, otherwise you get DOS attacks.
<br>
</div>

<div class='talk op-msg' data-timestamp='1477347300' id='505381'>
<a class='timestamp' href='#505381'><time timestamp='2016-10-24T22:15:00Z'>22:15</time></a>
&lt;<span class='nick nick-7'> nibor</span>&gt;
Could not see how tree helped. The snapshot message contains hash of all the chunks. So you know if a node is nasty after the 1st chunk.
<br>
</div>

<div class='talk op-msg' data-timestamp='1477347360' id='505382'>
<a class='timestamp' href='#505382'><time timestamp='2016-10-24T22:16:00Z'>22:16</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
okay, that potentially makes the snapshot message quite large, the only difference that a tree would make is that the snapshot value is just the single hash in the blockchain, and the chunks give you enough to verify membership.
<br>
</div>

<div class='talk op-msg' data-timestamp='1477347420' id='505383'>
<a class='timestamp' href='#505383'><time timestamp='2016-10-24T22:17:00Z'>22:17</time></a>
&lt;<span class='nick nick-7'> nibor</span>&gt;
Regarding gap between snapshots problem with going too long is that the chainstate grows quite fast. Keeping snapshot from 300 blocks back makes chainstate 2.4G vs 1.7G with no snapshots.
<br>
</div>

<div class='talk op-msg' data-timestamp='1477347420' id='505384'>
<a class='timestamp' href='#505384'><time timestamp='2016-10-24T22:17:00Z'>22:17</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
The other important thing about this proposal is that it needs to be very upfront about this being a signficant change to the Bitcoin security model, and justify it.  I believe it is a nessary one.
<br>
</div>

<div class='talk op-msg' data-timestamp='1477347480' id='505385'>
<a class='timestamp' href='#505385'><time timestamp='2016-10-24T22:18:00Z'>22:18</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
We generally need to engineer for the worst case, so we should probably just assume that they&#x27;re maximum size even though fancy COW handling could reduce that.
<br>
</div>

<div class='talk op-msg' data-timestamp='1477347480' id='505386'>
<a class='timestamp' href='#505386'><time timestamp='2016-10-24T22:18:00Z'>22:18</time></a>
&lt;<span class='nick nick-7'> nibor</span>&gt;
Current snapshot message is about 200k and chunks are about 200k each. So msgs small so should scale by factor of 10..
<br>
</div>

<div class='talk op-msg' data-timestamp='1477347480' id='505387'>
<a class='timestamp' href='#505387'><time timestamp='2016-10-24T22:18:00Z'>22:18</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
reorginizing chainstate into &#x27;old&#x27; and &#x27;new&#x27; could help with that churn fwiw.
<br>
</div>

<div class='talk op-msg' data-timestamp='1477347540' id='505388'>
<a class='timestamp' href='#505388'><time timestamp='2016-10-24T22:19:00Z'>22:19</time></a>
&lt;<span class='nick nick-7'> nibor</span>&gt;
Annoyingly the leveldb snapshots are only held in RAM. So with a big gap node would really need to do a bit rewind to check state.
<br>
</div>

<div class='talk op-msg' data-timestamp='1477347540' id='505389'>
<a class='timestamp' href='#505389'><time timestamp='2016-10-24T22:19:00Z'>22:19</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
yea, I was surprised you got this working using leveldb snapshots.
<br>
</div>

<div class='talk op-msg' data-timestamp='1477347600' id='505390'>
<a class='timestamp' href='#505390'><time timestamp='2016-10-24T22:20:00Z'>22:20</time></a>
&lt;<span class='nick nick-7'> nibor</span>&gt;
s/bit/big/
<br>
</div>

<div class='talk op-msg' data-timestamp='1477347600' id='505391'>
<a class='timestamp' href='#505391'><time timestamp='2016-10-24T22:20:00Z'>22:20</time></a>
&lt;<span class='nick nick-7'> nibor</span>&gt;
Not sure I understand your 1st comment though. About miners creating big fork?
<br>
</div>

<div class='talk op-msg' data-timestamp='1477347660' id='505392'>
<a class='timestamp' href='#505392'><time timestamp='2016-10-24T22:21:00Z'>22:21</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
no rewind should be needed however, you should compute the hash as it goes by, e.g. snapshot at the height as you validate it, then at two blocks after, start computing the hash, and just save it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1477347720' id='505393'>
<a class='timestamp' href='#505393'><time timestamp='2016-10-24T22:22:00Z'>22:22</time></a>
&lt;<span class='nick nick-7'> nibor</span>&gt;
Sorry - yes you are right. Was thinking of putting hash 20 blocks after chainstate. So have time to compute even when chainstate say 50gig.
<br>
</div>

<div class='talk op-msg' data-timestamp='1477347720' id='505394'>
<a class='timestamp' href='#505394'><time timestamp='2016-10-24T22:22:00Z'>22:22</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(50 gb chainstate is likely unworkable with leveldb :(  but thats an aside. :) )
<br>
</div>

<div class='talk op-msg' data-timestamp='1477347780' id='505395'>
<a class='timestamp' href='#505395'><time timestamp='2016-10-24T22:23:00Z'>22:23</time></a>
&lt;<span class='nick nick-7'> nibor</span>&gt;
Prob ok with 64Gig RAM... In day job just order 2 boxes with 2Tb so not so much..
<br>
</div>

<div class='talk op-msg' data-timestamp='1477347780' id='505396'>
<a class='timestamp' href='#505396'><time timestamp='2016-10-24T22:23:00Z'>22:23</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
nibor: majority hashpower can make their new commitment say that a million bitcoin that wasn&#x27;t theirs is now theirs. Then all newly joining nodes will get the new chainstate, and eventually all old nodes will think they&#x27;ve hit a reorg larger than people have blocks available, and so they&#x27;ll do a chainstate sync too... 
<br>
</div>

<div class='talk op-msg' data-timestamp='1477347840' id='505397'>
<a class='timestamp' href='#505397'><time timestamp='2016-10-24T22:24:00Z'>22:24</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
nibor: we&#x27;d like to have a decenteralized system you know, :P 
<br>
</div>

<div class='talk op-msg' data-timestamp='1477347960' id='505398'>
<a class='timestamp' href='#505398'><time timestamp='2016-10-24T22:26:00Z'>22:26</time></a>
&lt;<span class='nick nick-7'> nibor</span>&gt;
With a 100gig download?...
<br>
</div>

<div class='talk op-msg' data-timestamp='1477347960' id='505399'>
<a class='timestamp' href='#505399'><time timestamp='2016-10-24T22:26:00Z'>22:26</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
nibor: did you understand my &quot;phase out&quot; suggestion? (the line refereincing petertodd)
<br>
</div>

<div class='talk op-msg' data-timestamp='1477348020' id='505400'>
<a class='timestamp' href='#505400'><time timestamp='2016-10-24T22:27:00Z'>22:27</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
nibor: more people handle a 100 GB download today than have more than 8GB ram available. (in particular hosted systems, VPSes, are often quite ram starved) but we&#x27;re on a tangent.
<br>
</div>

<div class='talk op-msg' data-timestamp='1477348080' id='505401'>
<a class='timestamp' href='#505401'><time timestamp='2016-10-24T22:28:00Z'>22:28</time></a>
&lt;<span class='nick nick-7'> nibor</span>&gt;
Not sure I do.. but might in a bit...
<br>
</div>

<div class='talk op-msg' data-timestamp='1477348140' id='505402'>
<a class='timestamp' href='#505402'><time timestamp='2016-10-24T22:29:00Z'>22:29</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
OKAY.
<br>
</div>

<div class='talk op-msg' data-timestamp='1477348140' id='505403'>
<a class='timestamp' href='#505403'><time timestamp='2016-10-24T22:29:00Z'>22:29</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
In any case, exciting work
<br>
</div>

<div class='talk op-msg' data-timestamp='1477348140' id='505404'>
<a class='timestamp' href='#505404'><time timestamp='2016-10-24T22:29:00Z'>22:29</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Your POC is awesome.
<br>
</div>

<div class='talk op-msg' data-timestamp='1477348140' id='505405'>
<a class='timestamp' href='#505405'><time timestamp='2016-10-24T22:29:00Z'>22:29</time></a>
&lt;<span class='nick nick-7'> nibor</span>&gt;
Thinking about a 3month interval. That is quite easy. Just copy the whole chainstate to another leveldb. Is not more work than hashing it really.
<br>
</div>

<div class='talk op-msg' data-timestamp='1477348200' id='505406'>
<a class='timestamp' href='#505406'><time timestamp='2016-10-24T22:30:00Z'>22:30</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Or not another leveldb but just a seralized flat blob. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1477348200' id='505407'>
<a class='timestamp' href='#505407'><time timestamp='2016-10-24T22:30:00Z'>22:30</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
It would be faster and more space efficient. And random access is not needed, except to chunks.
<br>
</div>

<div class='talk op-msg' data-timestamp='1477348200' id='505408'>
<a class='timestamp' href='#505408'><time timestamp='2016-10-24T22:30:00Z'>22:30</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(could be one file per chunk. Though 8000 chunks is a bit excessive for that.) 
<br>
</div>

<div class='talk op-msg' data-timestamp='1477348260' id='505409'>
<a class='timestamp' href='#505409'><time timestamp='2016-10-24T22:31:00Z'>22:31</time></a>
&lt;<span class='nick nick-7'> nibor</span>&gt;
Not really - leveldb is up to 1000 files.
<br>
</div>

<div class='talk op-msg' data-timestamp='1477348260' id='505410'>
<a class='timestamp' href='#505410'><time timestamp='2016-10-24T22:31:00Z'>22:31</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I believe that only needs two snapshots at any time too... 
<br>
</div>

<div class='talk op-msg' data-timestamp='1477348320' id='505411'>
<a class='timestamp' href='#505411'><time timestamp='2016-10-24T22:32:00Z'>22:32</time></a>
&lt;<span class='nick nick-7'> nibor</span>&gt;
Yes - I only had 3 cos was short gap. And did not want a client that took over 100 blocks to download be left with nothing to find.
<br>
</div>

<div class='talk op-msg' data-timestamp='1477348380' id='505412'>
<a class='timestamp' href='#505412'><time timestamp='2016-10-24T22:33:00Z'>22:33</time></a>
&lt;<span class='nick nick-7'> nibor</span>&gt;
Will think about Petertodd issue to. Is nasty to cause future issues.
<br>
</div>

<div class='talk op-msg' data-timestamp='1477348440' id='505413'>
<a class='timestamp' href='#505413'><time timestamp='2016-10-24T22:34:00Z'>22:34</time></a>
&lt;<span class='nick nick-7'> nibor</span>&gt;
I guess some of the 100fork issues would be reduced if client back populated blocks over time.
<br>
</div>

<div class='talk op-msg' data-timestamp='1477348440' id='505414'>
<a class='timestamp' href='#505414'><time timestamp='2016-10-24T22:34:00Z'>22:34</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
There is a longer term proposal that would eliminate the utxo set, effectively, that we don&#x27;t want to block.
<br>
</div>

<div class='talk op-msg' data-timestamp='1477348440' id='505415'>
<a class='timestamp' href='#505415'><time timestamp='2016-10-24T22:34:00Z'>22:34</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
nibor: yes, though if we just want the fastest possible start, it could start immediately as SPV, and then back populate.. irrespective of the snapshotting behavior.
<br>
</div>

<div class='talk op-msg' data-timestamp='1477348560' id='505416'>
<a class='timestamp' href='#505416'><time timestamp='2016-10-24T22:36:00Z'>22:36</time></a>
&lt;<span class='nick nick-7'> nibor</span>&gt;
Thanks for thoughts... am off now. Will see what others think..
<br>
</div>

<div class='talk op-msg' data-timestamp='1477348560' id='505417'>
<a class='timestamp' href='#505417'><time timestamp='2016-10-24T22:36:00Z'>22:36</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(just as background for you: the way the utxo set is eliminated, is that there is a small, perhaps fixed size utxo set, and transactions are expired out of it and commited into an insertion ordered hash tree... then when spending one of those outputs the spending transaction must provide a membership and update proof that lets nodes verify it was there and mark the entry as spent)
<br>
</div>

<div class='talk op-msg' data-timestamp='1477348560' id='505418'>
<a class='timestamp' href='#505418'><time timestamp='2016-10-24T22:36:00Z'>22:36</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Great!
<br>
</div>

<div class='talk op-msg' data-timestamp='1477348680' id='505419'>
<a class='timestamp' href='#505419'><time timestamp='2016-10-24T22:38:00Z'>22:38</time></a>
&lt;<span class='nick nick-8'> murch</span>&gt;
Hey gmaxwell, I was missing you at Scaling Bitcoin. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1477348740' id='505420'>
<a class='timestamp' href='#505420'><time timestamp='2016-10-24T22:39:00Z'>22:39</time></a>
&lt;<span class='nick nick-8'> murch</span>&gt;
I was curios what you&#x27;d say about my coin selection talk after we had chatted here about it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1477349280' id='505421'>
<a class='timestamp' href='#505421'><time timestamp='2016-10-24T22:48:00Z'>22:48</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
molz: I was sad to see that wider-match only made a fairly modest improvement!
<br>
</div>

<div class='talk op-msg' data-timestamp='1477349340' id='505422'>
<a class='timestamp' href='#505422'><time timestamp='2016-10-24T22:49:00Z'>22:49</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
s/molz/murch/
<br>
</div>

<div class='talk op-msg' data-timestamp='1477349340' id='505423'>
<a class='timestamp' href='#505423'><time timestamp='2016-10-24T22:49:00Z'>22:49</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
oops!
<br>
</div>

<div class='talk op-msg' data-timestamp='1477349340' id='505424'>
<a class='timestamp' href='#505424'><time timestamp='2016-10-24T22:49:00Z'>22:49</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
murch:
<br>
</div>

<div class='talk op-msg' data-timestamp='1477349340' id='505425'>
<a class='timestamp' href='#505425'><time timestamp='2016-10-24T22:49:00Z'>22:49</time></a>
&lt;<span class='nick nick-4'> molz</span>&gt;
haha i was scratching my head &quot;what&#x27;s the wider-match&quot; lol 
<br>
</div>

<div class='talk op-msg' data-timestamp='1477349400' id='505426'>
<a class='timestamp' href='#505426'><time timestamp='2016-10-24T22:50:00Z'>22:50</time></a>
&lt;<span class='nick nick-8'> murch</span>&gt;
gmaxwell: After Scaling Bitcoin I came up with a new algorithm. I&#x27;m still running experiments on it (and writing my evaluation chapter, thesis is due next week), but it looks pretty promising in all aspects.
<br>
</div>

<div class='talk op-msg' data-timestamp='1477349400' id='505427'>
<a class='timestamp' href='#505427'><time timestamp='2016-10-24T22:50:00Z'>22:50</time></a>
&lt;<span class='nick nick-4'> molz</span>&gt;
gmaxwell, btw, is there a way to load the ban list into my node or do i have to type each line manually?  
<br>
</div>

<div class='talk op-msg' data-timestamp='1477349400' id='505428'>
<a class='timestamp' href='#505428'><time timestamp='2016-10-24T22:50:00Z'>22:50</time></a>
&lt;<span class='nick nick-8'> murch</span>&gt;
It has a much higher rate of direct matches than the current core coin selection and is less computationally expensive.
<br>
</div>

<div class='talk op-msg' data-timestamp='1477349400' id='505429'>
<a class='timestamp' href='#505429'><time timestamp='2016-10-24T22:50:00Z'>22:50</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
molz: they&#x27;re remembered across restarts already
<br>
</div>

<div class='talk op-msg' data-timestamp='1477349400' id='505430'>
<a class='timestamp' href='#505430'><time timestamp='2016-10-24T22:50:00Z'>22:50</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
bans.dat
<br>
</div>

<div class='talk op-msg' data-timestamp='1477349460' id='505431'>
<a class='timestamp' href='#505431'><time timestamp='2016-10-24T22:51:00Z'>22:51</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
murch: one thing your framework doesn&#x27;t consider is patalogical cases, in the past, people actually attacked litecoin wallets by paying them lots of dust, with enough of it, the subset sum solver would come up with solutions so bad that it couldn&#x27;t transact.
<br>
</div>

<div class='talk op-msg' data-timestamp='1477349460' id='505432'>
<a class='timestamp' href='#505432'><time timestamp='2016-10-24T22:51:00Z'>22:51</time></a>
&lt;<span class='nick nick-4'> molz</span>&gt;
sipa but i haven&#x27;t banned any bad nodes
<br>
</div>

<div class='talk op-msg' data-timestamp='1477349460' id='505433'>
<a class='timestamp' href='#505433'><time timestamp='2016-10-24T22:51:00Z'>22:51</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
They &#x27;solved&#x27; this in a really kludgy way just making the wallet ignore payments below a dust threshold.
<br>
</div>

<div class='talk op-msg' data-timestamp='1477349460' id='505434'>
<a class='timestamp' href='#505434'><time timestamp='2016-10-24T22:51:00Z'>22:51</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
molz: just paste the lines in a sutiable format.
<br>
</div>

<div class='talk op-msg' data-timestamp='1477349520' id='505435'>
<a class='timestamp' href='#505435'><time timestamp='2016-10-24T22:52:00Z'>22:52</time></a>
&lt;<span class='nick nick-4'> molz</span>&gt;
yea i meant copy and paste, ok thanks 
<br>
</div>

<div class='talk op-msg' data-timestamp='1477349520' id='505436'>
<a class='timestamp' href='#505436'><time timestamp='2016-10-24T22:52:00Z'>22:52</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
murch: so I think SRD would suffer badly from that.  But I think that could be addressed by trying multiple strategies and taking the &#x27;best&#x27;.
<br>
</div>

<div class='talk op-msg' data-timestamp='1477349520' id='505437'>
<a class='timestamp' href='#505437'><time timestamp='2016-10-24T22:52:00Z'>22:52</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
molz: I put up pastbins with the commands in cli format as well as sutiable for pasting into the debug console..
<br>
</div>

<div class='talk op-msg' data-timestamp='1477349520' id='505438'>
<a class='timestamp' href='#505438'><time timestamp='2016-10-24T22:52:00Z'>22:52</time></a>
&lt;<span class='nick nick-8'> murch</span>&gt;
gmaxwell: Yeah, that&#x27;s true. My new algorithm uses a two phase approach. First it purposefully looks for direct matches. It will not consider inputs there that have a negative payload (more fees than value), but after that it falls back to random selection, which may spend small inputs over time.
<br>
</div>

<div class='talk op-msg' data-timestamp='1477349580' id='505439'>
<a class='timestamp' href='#505439'><time timestamp='2016-10-24T22:53:00Z'>22:53</time></a>
&lt;<span class='nick nick-8'> murch</span>&gt;
(Experiment is still running, can&#x27;t give you good details on the final set composition yet)
<br>
</div>

<div class='talk op-msg' data-timestamp='1477349640' id='505440'>
<a class='timestamp' href='#505440'><time timestamp='2016-10-24T22:54:00Z'>22:54</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
By direct matches, you mean no change created--but possible &#x27;extra fee&#x27;, not one-input only, right?
<br>
</div>

<div class='talk op-msg' data-timestamp='1477349640' id='505441'>
<a class='timestamp' href='#505441'><time timestamp='2016-10-24T22:54:00Z'>22:54</time></a>
&lt;<span class='nick nick-8'> murch</span>&gt;
gmaxwell: yeah, that
<br>
</div>

<div class='talk op-msg' data-timestamp='1477349640' id='505442'>
<a class='timestamp' href='#505442'><time timestamp='2016-10-24T22:54:00Z'>22:54</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Good! sounds reasonable to me.
<br>
</div>

<div class='talk op-msg' data-timestamp='1477349640' id='505443'>
<a class='timestamp' href='#505443'><time timestamp='2016-10-24T22:54:00Z'>22:54</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Then again lots of things that didn&#x27;t work sounded reasonable to me.
<br>
</div>

<div class='talk op-msg' data-timestamp='1477349700' id='505444'>
<a class='timestamp' href='#505444'><time timestamp='2016-10-24T22:55:00Z'>22:55</time></a>
&lt;<span class='nick nick-8'> murch</span>&gt;
Since a change output causes an additional output on creation, then an additional input some time in the future. So I allow up to the cost of one input + one output as a padding for the &quot;exact&quot; match.
<br>
</div>

<div class='talk op-msg' data-timestamp='1477349760' id='505445'>
<a class='timestamp' href='#505445'><time timestamp='2016-10-24T22:56:00Z'>22:56</time></a>
&lt;<span class='nick nick-8'> murch</span>&gt;
gmaxwell: Is a &quot;flood with dust&quot; attack still reasonable? I thought that transactions with dust outputs are considered non-standard and they&#x27;d have a hard time getting confirmed?
<br>
</div>

<div class='talk op-msg' data-timestamp='1477349760' id='505446'>
<a class='timestamp' href='#505446'><time timestamp='2016-10-24T22:56:00Z'>22:56</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Good, that is a rational way to set it. (arguably, even more would be justified either on the basis of of fees being higher in the future, or on the basis of that you may get faster confirmation for it... but your approach sounds reasonably conservative)
<br>
</div>

<div class='talk op-msg' data-timestamp='1477349820' id='505447'>
<a class='timestamp' href='#505447'><time timestamp='2016-10-24T22:57:00Z'>22:57</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
murch: That particular one, perhaps less so (well a miner could do it fine)-- but I meant it more of a concrete example that patalogical cases could be created and it is desirable if the wallet doesn&#x27;t behave badly in any situation easily setup by an attacker.
<br>
</div>

<div class='talk op-msg' data-timestamp='1477349880' id='505448'>
<a class='timestamp' href='#505448'><time timestamp='2016-10-24T22:58:00Z'>22:58</time></a>
&lt;<span class='nick nick-8'> murch</span>&gt;
mh.     
<br>
</div>

<div class='talk op-msg' data-timestamp='1477349880' id='505449'>
<a class='timestamp' href='#505449'><time timestamp='2016-10-24T22:58:00Z'>22:58</time></a>
&lt;<span class='nick nick-8'> murch</span>&gt;
I haven&#x27;t considered that attack scenario too much yet.
<br>
</div>

<div class='talk op-msg' data-timestamp='1477349880' id='505450'>
<a class='timestamp' href='#505450'><time timestamp='2016-10-24T22:58:00Z'>22:58</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
e.g. if you have one 50 btc input and 200 0.00001 inputs (still above dust threshold!) ... then the random selection would pick a pretty bad solution.
<br>
</div>

<div class='talk op-msg' data-timestamp='1477349880' id='505451'>
<a class='timestamp' href='#505451'><time timestamp='2016-10-24T22:58:00Z'>22:58</time></a>
&lt;<span class='nick nick-8'> murch</span>&gt;
I was thinking to replace the SDR fall back with 7 random drawings and the median input set size
<br>
</div>

<div class='talk op-msg' data-timestamp='1477349880' id='505452'>
<a class='timestamp' href='#505452'><time timestamp='2016-10-24T22:58:00Z'>22:58</time></a>
&lt;<span class='nick nick-8'> murch</span>&gt;
or some similar scheme
<br>
</div>

<div class='talk op-msg' data-timestamp='1477349940' id='505453'>
<a class='timestamp' href='#505453'><time timestamp='2016-10-24T22:59:00Z'>22:59</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(er my example just now should have also said &quot;and you try to pay 1 btc&quot;)
<br>
</div>

<div class='talk op-msg' data-timestamp='1477349940' id='505454'>
<a class='timestamp' href='#505454'><time timestamp='2016-10-24T22:59:00Z'>22:59</time></a>
&lt;<span class='nick nick-8'> murch</span>&gt;
random drawing should have nice privacy properties though, and generates a wider range of utxos which are beneficial for finding direct matches
<br>
</div>

<div class='talk op-msg' data-timestamp='1477349940' id='505455'>
<a class='timestamp' href='#505455'><time timestamp='2016-10-24T22:59:00Z'>22:59</time></a>
&lt;<span class='nick nick-8'> murch</span>&gt;
gmaxwell: Yes, of course.
<br>
</div>

<div class='talk op-msg' data-timestamp='1477350000' id='505456'>
<a class='timestamp' href='#505456'><time timestamp='2016-10-24T23:00:00Z'>23:00</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I agree, well you don&#x27;t have data for it too, but I think all cases the selection should try to spend all inputs paid to a particular scriptpubkey to limit linkage graph inflation, but that can be layered right on top of your ideas by treating a input set as an input. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1477350000' id='505457'>
<a class='timestamp' href='#505457'><time timestamp='2016-10-24T23:00:00Z'>23:00</time></a>
&lt;<span class='nick nick-8'> murch</span>&gt;
exactly
<br>
</div>

<div class='talk op-msg' data-timestamp='1477350060' id='505458'>
<a class='timestamp' href='#505458'><time timestamp='2016-10-24T23:01:00Z'>23:01</time></a>
&lt;<span class='nick nick-8'> murch</span>&gt;
I&#x27;m planning to put addresses in my simulation in the future, but right now I&#x27;m focusing on writing up what I have. ;)
<br>
</div>

<div class='talk op-msg' data-timestamp='1477350060' id='505459'>
<a class='timestamp' href='#505459'><time timestamp='2016-10-24T23:01:00Z'>23:01</time></a>
&lt;<span class='nick nick-8'> murch</span>&gt;
I have to print next wednesday. :D
<br>
</div>

<div class='talk op-msg' data-timestamp='1477350060' id='505460'>
<a class='timestamp' href='#505460'><time timestamp='2016-10-24T23:01:00Z'>23:01</time></a>
&lt;<span class='nick nick-8'> murch</span>&gt;
gmaxwell: <a href="https://github.com/Xekyo/CoinSelectionSimulator/blob/master/src/BnBWallet.scala#L59" class="link" target="_blank">https://github.com/Xekyo/CoinSelectionSimulator/blob/master/src/BnBWallet.scala#L59</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1477350060' id='505461'>
<a class='timestamp' href='#505461'><time timestamp='2016-10-24T23:01:00Z'>23:01</time></a>
&lt;<span class='nick nick-8'> murch</span>&gt;
This is the new algorithm I have come up with, in case you want to take a look
<br>
</div>

<div class='talk op-msg' data-timestamp='1477350120' id='505462'>
<a class='timestamp' href='#505462'><time timestamp='2016-10-24T23:02:00Z'>23:02</time></a>
&lt;<span class='nick nick-8'> murch</span>&gt;
gmaxwell: some preliminary results on the same data set I talked about at Scaling Bitcoin: <a href="https://docs.google.com/spreadsheets/d/1dzugGnAw2nBNL_BwpFR44jci8rO3RkkF5M9OcP2ESN0/pubhtml" class="link" target="_blank">https://docs.google.com/spreadsheets/d/1dzugGnAw2nBNL_BwpFR44jci8rO3RkkF5M9OcP2ESN0/pubhtml</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1477350180' id='505463'>
<a class='timestamp' href='#505463'><time timestamp='2016-10-24T23:03:00Z'>23:03</time></a>
&lt;<span class='nick nick-8'> murch</span>&gt;
the perpetrator is &quot;BranchAndBoundWallet&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1477350240' id='505464'>
<a class='timestamp' href='#505464'><time timestamp='2016-10-24T23:04:00Z'>23:04</time></a>
&lt;<span class='nick nick-8'> murch</span>&gt;
What I also like is that it has a very low standard deviation in the input set. (Although, as you have pointed out, I have not considered pathological cases yet.)
<br>
</div>

</div>
</section>

</body>
</html>
