<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2016-07-01
 â€” 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2016-07-01' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:26 UTC</pre>
<pre><a href="/bitcoin-core-dev/2016-06-01">&lt;</a><span class='header'>    July 2016     </span><a href="/bitcoin-core-dev/2016-08-01">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;                <a class="current" href="/bitcoin-core-dev/2016-07-01">1</a>  <a class="" href="/bitcoin-core-dev/2016-07-02">2</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2016-07-03">3</a>  <a class="" href="/bitcoin-core-dev/2016-07-04">4</a>  <a class="" href="/bitcoin-core-dev/2016-07-05">5</a>  <a class="" href="/bitcoin-core-dev/2016-07-06">6</a>  <a class="" href="/bitcoin-core-dev/2016-07-07">7</a>  <a class="" href="/bitcoin-core-dev/2016-07-08">8</a>  <a class="" href="/bitcoin-core-dev/2016-07-09">9</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2016-07-10">10</a> <a class="" href="/bitcoin-core-dev/2016-07-11">11</a> <a class="" href="/bitcoin-core-dev/2016-07-12">12</a> <a class="" href="/bitcoin-core-dev/2016-07-13">13</a> <a class="" href="/bitcoin-core-dev/2016-07-14">14</a> <a class="" href="/bitcoin-core-dev/2016-07-15">15</a> <a class="" href="/bitcoin-core-dev/2016-07-16">16</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2016-07-17">17</a> <a class="" href="/bitcoin-core-dev/2016-07-18">18</a> <a class="" href="/bitcoin-core-dev/2016-07-19">19</a> <a class="" href="/bitcoin-core-dev/2016-07-20">20</a> <a class="" href="/bitcoin-core-dev/2016-07-21">21</a> <a class="" href="/bitcoin-core-dev/2016-07-22">22</a> <a class="" href="/bitcoin-core-dev/2016-07-23">23</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2016-07-24">24</a> <a class="" href="/bitcoin-core-dev/2016-07-25">25</a> <a class="" href="/bitcoin-core-dev/2016-07-26">26</a> <a class="" href="/bitcoin-core-dev/2016-07-27">27</a> <a class="" href="/bitcoin-core-dev/2016-07-28">28</a> <a class="" href="/bitcoin-core-dev/2016-07-29">29</a> <a class="" href="/bitcoin-core-dev/2016-07-30">30</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2016-07-31">31</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1467332280' id='476990'>
<a class='timestamp' href='#476990'><time timestamp='2016-07-01T00:18:00Z'>00:18</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
oddly, travis doesn&#x27;t appear to have run #8295
<br>
</div>

<div class='talk op-msg' data-timestamp='1467337080' id='476991'>
<a class='timestamp' href='#476991'><time timestamp='2016-07-01T01:38:00Z'>01:38</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
fwiw, there appears to be no changes affecting bitcoin-cli between 0.12.0 and 0.12.1
<br>
</div>

<div class='talk op-msg' data-timestamp='1467349140' id='476992'>
<a class='timestamp' href='#476992'><time timestamp='2016-07-01T04:59:00Z'>04:59</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Can anyone think of why we&#x27;d get a &quot;CommitTransaction(): Error: Transaction not valid&quot;  on a new transaction being created that paid twice the nodes minrelay fee, ... and then managed to broadcast when the rebroadcast ran?
<br>
</div>

<div class='talk op-msg' data-timestamp='1467349140' id='476993'>
<a class='timestamp' href='#476993'><time timestamp='2016-07-01T04:59:00Z'>04:59</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
it looks like it was spending an unconfirmed input.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467349800' id='476994'>
<a class='timestamp' href='#476994'><time timestamp='2016-07-01T05:10:00Z'>05:10</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
okay I think the issue was he managed to make a 25 deep unconfirmed chain, and got the last txn in it rejected.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467349800' id='476995'>
<a class='timestamp' href='#476995'><time timestamp='2016-07-01T05:10:00Z'>05:10</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Doesn&#x27;t look like the wallet handles that well.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467349980' id='476996'>
<a class='timestamp' href='#476996'><time timestamp='2016-07-01T05:13:00Z'>05:13</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I think we should avoid using coins that are at the unconfirmed limit maximum unless not otherwise possible.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467349980' id='476997'>
<a class='timestamp' href='#476997'><time timestamp='2016-07-01T05:13:00Z'>05:13</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Also ooRBF to sendmany would have eliminated 25 transactions here.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467359520' id='476998'>
<a class='timestamp' href='#476998'><time timestamp='2016-07-01T07:52:00Z'>07:52</time></a>
&lt;<span class='nick nick-12'> GitHub68</span>&gt;
[bitcoin] laanwj pushed 3 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/6a87eb0e4b47...da50997a3ee7" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/6a87eb0e4b47...da50997a3ee7</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1467359520' id='476999'>
<a class='timestamp' href='#476999'><time timestamp='2016-07-01T07:52:00Z'>07:52</time></a>
&lt;<span class='nick nick-12'> GitHub68</span>&gt;
bitcoin/master 0ce8e99 Wladimir J. van der Laan: windows: Add testnet link to installer
<br>
</div>

<div class='talk op-msg' data-timestamp='1467359520' id='477000'>
<a class='timestamp' href='#477000'><time timestamp='2016-07-01T07:52:00Z'>07:52</time></a>
&lt;<span class='nick nick-12'> GitHub68</span>&gt;
bitcoin/master 975a41d Wladimir J. van der Laan: windows: Add testnet icon for testnet link...
<br>
</div>

<div class='talk op-msg' data-timestamp='1467359520' id='477001'>
<a class='timestamp' href='#477001'><time timestamp='2016-07-01T07:52:00Z'>07:52</time></a>
&lt;<span class='nick nick-12'> GitHub68</span>&gt;
bitcoin/master da50997 Wladimir J. van der Laan: Merge #8285: windows: Add testnet link to installer...
<br>
</div>

<div class='talk op-msg' data-timestamp='1467359520' id='477002'>
<a class='timestamp' href='#477002'><time timestamp='2016-07-01T07:52:00Z'>07:52</time></a>
&lt;<span class='nick nick-9'> GitHub129</span>&gt;
[bitcoin] laanwj closed pull request #8285: windows: Add testnet link to installer (master...2016_06_testnet_link_windows) <a href="https://github.com/bitcoin/bitcoin/pull/8285" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8285</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1467360600' id='477003'>
<a class='timestamp' href='#477003'><time timestamp='2016-07-01T08:10:00Z'>08:10</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
gmaxwell, yes the maximum ancestor/descendant stuff means that the transaction will be marked invalid and the funds deducted from your wallet until rescan :/
<br>
</div>

<div class='talk op-msg' data-timestamp='1467360600' id='477004'>
<a class='timestamp' href='#477004'><time timestamp='2016-07-01T08:10:00Z'>08:10</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
err reindex or something
<br>
</div>

<div class='talk op-msg' data-timestamp='1467360660' id='477005'>
<a class='timestamp' href='#477005'><time timestamp='2016-07-01T08:11:00Z'>08:11</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
instagibbs: in this case the transaction when through after the parents confirmed.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467360660' id='477006'>
<a class='timestamp' href='#477006'><time timestamp='2016-07-01T08:11:00Z'>08:11</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
the wallet rebroadcast accepted it the next time around and tada.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467360720' id='477007'>
<a class='timestamp' href='#477007'><time timestamp='2016-07-01T08:12:00Z'>08:12</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
probably the coinselection process, when it considers 0conf inputs should only consider thoes with a low enough depth.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467360720' id='477008'>
<a class='timestamp' href='#477008'><time timestamp='2016-07-01T08:12:00Z'>08:12</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(perhaps two below the maximum to leave room for CPFP), and only if it&#x27;s unable to meet that should it fall back to considering all inputs.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467360840' id='477009'>
<a class='timestamp' href='#477009'><time timestamp='2016-07-01T08:14:00Z'>08:14</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
gmaxwell, oh so even in failure it rebroadcasts?
<br>
</div>

<div class='talk op-msg' data-timestamp='1467360840' id='477010'>
<a class='timestamp' href='#477010'><time timestamp='2016-07-01T08:14:00Z'>08:14</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
yea, it saves it in the wallet before it tries to mempool it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467360900' id='477011'>
<a class='timestamp' href='#477011'><time timestamp='2016-07-01T08:15:00Z'>08:15</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
and since its saved, it keeps trying to rebroadcast.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467360900' id='477012'>
<a class='timestamp' href='#477012'><time timestamp='2016-07-01T08:15:00Z'>08:15</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
as long as the transaction is in the wallet it rebroadcasts
<br>
</div>

<div class='talk op-msg' data-timestamp='1467360900' id='477013'>
<a class='timestamp' href='#477013'><time timestamp='2016-07-01T08:15:00Z'>08:15</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I dunno if the depth of an unconfirmed coin is easily discernable though from the wallet.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467361200' id='477014'>
<a class='timestamp' href='#477014'><time timestamp='2016-07-01T08:20:00Z'>08:20</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
not at is, it would need another (ugly) mempool dependency
<br>
</div>

<div class='talk op-msg' data-timestamp='1467361260' id='477015'>
<a class='timestamp' href='#477015'><time timestamp='2016-07-01T08:21:00Z'>08:21</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
bleh
<br>
</div>

<div class='talk op-msg' data-timestamp='1467361320' id='477016'>
<a class='timestamp' href='#477016'><time timestamp='2016-07-01T08:22:00Z'>08:22</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
then again we already do an InMempool() check in IsTrusted, which determines whether the outputs of an transaction are considered spendable, so...
<br>
</div>

<div class='talk op-msg' data-timestamp='1467361380' id='477017'>
<a class='timestamp' href='#477017'><time timestamp='2016-07-01T08:23:00Z'>08:23</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
if looking up the depth in the mempool is relatiely cheap that could be added too
<br>
</div>

<div class='talk op-msg' data-timestamp='1467361440' id='477018'>
<a class='timestamp' href='#477018'><time timestamp='2016-07-01T08:24:00Z'>08:24</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
but yes I agree with the &#x27;bleh&#x27; sentiment
<br>
</div>

<div class='talk op-msg' data-timestamp='1467361440' id='477019'>
<a class='timestamp' href='#477019'><time timestamp='2016-07-01T08:24:00Z'>08:24</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
ideally mempool implementation details shouldn&#x27;t matter to the wallet
<br>
</div>

<div class='talk op-msg' data-timestamp='1467361500' id='477020'>
<a class='timestamp' href='#477020'><time timestamp='2016-07-01T08:25:00Z'>08:25</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
&quot;if it cannot be submitted yet due to depth, try again later&quot; seems a better approach
<br>
</div>

<div class='talk op-msg' data-timestamp='1467361500' id='477021'>
<a class='timestamp' href='#477021'><time timestamp='2016-07-01T08:25:00Z'>08:25</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
the wallet already tries to avoid generating chains of unconfirmed
<br>
</div>

<div class='talk op-msg' data-timestamp='1467361500' id='477022'>
<a class='timestamp' href='#477022'><time timestamp='2016-07-01T08:25:00Z'>08:25</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
so if it does, it really needs to
<br>
</div>

<div class='talk op-msg' data-timestamp='1467361560' id='477023'>
<a class='timestamp' href='#477023'><time timestamp='2016-07-01T08:26:00Z'>08:26</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
it doesn&#x27;t really: so it tries to avoid spending unconfirmed coins, but if it must it treats short and long chains the same.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467361560' id='477024'>
<a class='timestamp' href='#477024'><time timestamp='2016-07-01T08:26:00Z'>08:26</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
So in the example with the user I was supposting today, they had plenty of unconfirmed coins that were only 1 deep.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467361620' id='477025'>
<a class='timestamp' href='#477025'><time timestamp='2016-07-01T08:27:00Z'>08:27</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
yes I don&#x27;t mean to imply that it looks at the mempool depth, it obviously doesn&#x27;t
<br>
</div>

<div class='talk op-msg' data-timestamp='1467361620' id='477026'>
<a class='timestamp' href='#477026'><time timestamp='2016-07-01T08:27:00Z'>08:27</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
and one chain of 25.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467361620' id='477027'>
<a class='timestamp' href='#477027'><time timestamp='2016-07-01T08:27:00Z'>08:27</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
yes that would make sense - count <b>*unconfirmed*</b> depth
<br>
</div>

<div class='talk op-msg' data-timestamp='1467361680' id='477028'>
<a class='timestamp' href='#477028'><time timestamp='2016-07-01T08:28:00Z'>08:28</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
then prefer coins that are shallow
<br>
</div>

<div class='talk op-msg' data-timestamp='1467361680' id='477029'>
<a class='timestamp' href='#477029'><time timestamp='2016-07-01T08:28:00Z'>08:28</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
it ended up that way because they had multiple unconfirmed few-bitcoin outputs, and then a 1 bitcoin output and were making many not huge payments... so it decided to keep reusing the change because it considered them all equal.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467361680' id='477030'>
<a class='timestamp' href='#477030'><time timestamp='2016-07-01T08:28:00Z'>08:28</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
that wouldn&#x27;t require asking the mempool at all
<br>
</div>

<div class='talk op-msg' data-timestamp='1467361680' id='477031'>
<a class='timestamp' href='#477031'><time timestamp='2016-07-01T08:28:00Z'>08:28</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
yea, don&#x27;t&#x27; really care about the mempool, the ismine tracing could count the depth until confirmed I guess.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467361740' id='477032'>
<a class='timestamp' href='#477032'><time timestamp='2016-07-01T08:29:00Z'>08:29</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
coins with a smaller unconfirmed depth could get some advantage in selection
<br>
</div>

<div class='talk op-msg' data-timestamp='1467361740' id='477033'>
<a class='timestamp' href='#477033'><time timestamp='2016-07-01T08:29:00Z'>08:29</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
another thing in the long list of things that could be better in coin selection
<br>
</div>

<div class='talk op-msg' data-timestamp='1467361860' id='477034'>
<a class='timestamp' href='#477034'><time timestamp='2016-07-01T08:31:00Z'>08:31</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
well the way to do the advantage is the same way it prefers confirmed coins.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467361920' id='477035'>
<a class='timestamp' href='#477035'><time timestamp='2016-07-01T08:32:00Z'>08:32</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
try the selection first with any too-deep coins excluded, and only if it fails attempt without that restriction.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467361920' id='477036'>
<a class='timestamp' href='#477036'><time timestamp='2016-07-01T08:32:00Z'>08:32</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
that&#x27;s a possiblity, yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1467362160' id='477037'>
<a class='timestamp' href='#477037'><time timestamp='2016-07-01T08:36:00Z'>08:36</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
though at some point the &#x27;exclude these coins and do the selection again&#x27; list would become very long, and is less suited for non-boolean properties like input size (<a href="https://github.com/bitcoin/bitcoin/issues/7664)" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/7664)</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1467362160' id='477038'>
<a class='timestamp' href='#477038'><time timestamp='2016-07-01T08:36:00Z'>08:36</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
but sure, this could be bolted on too :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1467362220' id='477039'>
<a class='timestamp' href='#477039'><time timestamp='2016-07-01T08:37:00Z'>08:37</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
well, it fits here since the failure results in an (temporarily) invalid transaction. ... just leaving them out is the right call for max depth, at least.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467362220' id='477040'>
<a class='timestamp' href='#477040'><time timestamp='2016-07-01T08:37:00Z'>08:37</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
I think at some point it would be nice to have a per-coin scoring system, then make the coin selection use that
<br>
</div>

<div class='talk op-msg' data-timestamp='1467362280' id='477041'>
<a class='timestamp' href='#477041'><time timestamp='2016-07-01T08:38:00Z'>08:38</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
yes, for some things, but a score for this should be infinite unless there is no other choice... since it guarentees the txn will not relay until its ancestors confirm some. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1467362280' id='477042'>
<a class='timestamp' href='#477042'><time timestamp='2016-07-01T08:38:00Z'>08:38</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
but you make assumptions about other people&#x27;s mempool depth
<br>
</div>

<div class='talk op-msg' data-timestamp='1467362280' id='477043'>
<a class='timestamp' href='#477043'><time timestamp='2016-07-01T08:38:00Z'>08:38</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
I think a better approach would just be to <b>*prefer*</b> shallower transactions
<br>
</div>

<div class='talk op-msg' data-timestamp='1467362280' id='477044'>
<a class='timestamp' href='#477044'><time timestamp='2016-07-01T08:38:00Z'>08:38</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
without an absolute theshold
<br>
</div>

<div class='talk op-msg' data-timestamp='1467362340' id='477045'>
<a class='timestamp' href='#477045'><time timestamp='2016-07-01T08:39:00Z'>08:39</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
They&#x27;re not exclusive, prefer shorter but absolute threshold at the point where you won&#x27;t relay the thing yourself anymore.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467362340' id='477046'>
<a class='timestamp' href='#477046'><time timestamp='2016-07-01T08:39:00Z'>08:39</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
this usecase would actually have been better off with some kind of replacement, as they could have saved a good 20 transactions.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467362340' id='477047'>
<a class='timestamp' href='#477047'><time timestamp='2016-07-01T08:39:00Z'>08:39</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
and if it does manage to generates a temporarily invalid transaction, handle that more friendly, e.g. a warning instead of an error
<br>
</div>

<div class='talk op-msg' data-timestamp='1467362460' id='477048'>
<a class='timestamp' href='#477048'><time timestamp='2016-07-01T08:41:00Z'>08:41</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
having the wallet have a hard dependency on a property of the mempool seems really brittle
<br>
</div>

<div class='talk op-msg' data-timestamp='1467362520' id='477049'>
<a class='timestamp' href='#477049'><time timestamp='2016-07-01T08:42:00Z'>08:42</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
and it&#x27;s not a solution that wallets that don&#x27;t have such a close coupling to a node could use
<br>
</div>

<div class='talk op-msg' data-timestamp='1467362520' id='477050'>
<a class='timestamp' href='#477050'><time timestamp='2016-07-01T08:42:00Z'>08:42</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I don&#x27;t think this is really a mempool dependency.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467362520' id='477051'>
<a class='timestamp' href='#477051'><time timestamp='2016-07-01T08:42:00Z'>08:42</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
in principle it&#x27;s a matter of optimizing the speed at which the transaction can be submitted, longer chains result in slower confirmation times
<br>
</div>

<div class='talk op-msg' data-timestamp='1467362520' id='477052'>
<a class='timestamp' href='#477052'><time timestamp='2016-07-01T08:42:00Z'>08:42</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
very long chains even in temporary rejection
<br>
</div>

<div class='talk op-msg' data-timestamp='1467362520' id='477053'>
<a class='timestamp' href='#477053'><time timestamp='2016-07-01T08:42:00Z'>08:42</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
If it&#x27;s spending here the transaction is ismine, which means all unconfirmed ancestors are wallet txn.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467362580' id='477054'>
<a class='timestamp' href='#477054'><time timestamp='2016-07-01T08:43:00Z'>08:43</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
So it just needs to know the longest depth.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467362580' id='477055'>
<a class='timestamp' href='#477055'><time timestamp='2016-07-01T08:43:00Z'>08:43</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
but long chains, even if they are accepted, are not a good thing in itself
<br>
</div>

<div class='talk op-msg' data-timestamp='1467362640' id='477056'>
<a class='timestamp' href='#477056'><time timestamp='2016-07-01T08:44:00Z'>08:44</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(er not IsMine, but IsFromMe)
<br>
</div>

<div class='talk op-msg' data-timestamp='1467362760' id='477057'>
<a class='timestamp' href='#477057'><time timestamp='2016-07-01T08:46:00Z'>08:46</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
wumpus: they&#x27;re not that bad, esp with ancestor feerate mining; and relay being not totally broken for them in 0.13.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467362760' id='477058'>
<a class='timestamp' href='#477058'><time timestamp='2016-07-01T08:46:00Z'>08:46</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
but I hope you agree that they are worse than shallow transaction chains
<br>
</div>

<div class='talk op-msg' data-timestamp='1467362760' id='477059'>
<a class='timestamp' href='#477059'><time timestamp='2016-07-01T08:46:00Z'>08:46</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
&#x27;not that bad&#x27; yes there are always much worse things :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1467362760' id='477060'>
<a class='timestamp' href='#477060'><time timestamp='2016-07-01T08:46:00Z'>08:46</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
all things equal... but compared to a choice that is less private or pays more fees? 
<br>
</div>

<div class='talk op-msg' data-timestamp='1467362820' id='477061'>
<a class='timestamp' href='#477061'><time timestamp='2016-07-01T08:47:00Z'>08:47</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
well the individual scoring weights would have to be determined, yes, or even depend on some setting
<br>
</div>

<div class='talk op-msg' data-timestamp='1467362820' id='477062'>
<a class='timestamp' href='#477062'><time timestamp='2016-07-01T08:47:00Z'>08:47</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
paying more fees may be ok if it means the transaction has a larger chance of being picked
<br>
</div>

<div class='talk op-msg' data-timestamp='1467362820' id='477063'>
<a class='timestamp' href='#477063'><time timestamp='2016-07-01T08:47:00Z'>08:47</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
because we never split large change output, a lot of usage patterns result in no real choice in any case.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467362880' id='477064'>
<a class='timestamp' href='#477064'><time timestamp='2016-07-01T08:48:00Z'>08:48</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
less private, well long transaction chains are a great way to say &#x27;hey this is a wallet sending out transactions serially&#x27;
<br>
</div>

<div class='talk op-msg' data-timestamp='1467362940' id='477065'>
<a class='timestamp' href='#477065'><time timestamp='2016-07-01T08:49:00Z'>08:49</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sure, but often better to just respend change than join a dozen otherwise unrelated inputs. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1467363060' id='477066'>
<a class='timestamp' href='#477066'><time timestamp='2016-07-01T08:51:00Z'>08:51</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
if it requires joining them, yes I agree
<br>
</div>

<div class='talk op-msg' data-timestamp='1467363120' id='477067'>
<a class='timestamp' href='#477067'><time timestamp='2016-07-01T08:52:00Z'>08:52</time></a>
&lt;<span class='nick nick-3'> * wumpus</span>&gt;
wishes someone would do a serious study about what wallet behavior would make sense
<br>
</div>

<div class='talk op-msg' data-timestamp='1467363300' id='477068'>
<a class='timestamp' href='#477068'><time timestamp='2016-07-01T08:55:00Z'>08:55</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Would we do anything with it?... a while back someone proposed a change (to remove extranious inputs), I suggested that it might result in wallets grinding down coins into small amouts more often. He made a simulator that showed it would, then we took the change. Then later users showed up complaining about the wallet grinding down inputs when they didn&#x27;t use to... 
<br>
</div>

<div class='talk op-msg' data-timestamp='1467363360' id='477069'>
<a class='timestamp' href='#477069'><time timestamp='2016-07-01T08:56:00Z'>08:56</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
well the problem is that we&#x27;re too busy running from issue to issue to look at a higher level
<br>
</div>

<div class='talk op-msg' data-timestamp='1467363360' id='477070'>
<a class='timestamp' href='#477070'><time timestamp='2016-07-01T08:56:00Z'>08:56</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
well at least I am
<br>
</div>

<div class='talk op-msg' data-timestamp='1467363360' id='477071'>
<a class='timestamp' href='#477071'><time timestamp='2016-07-01T08:56:00Z'>08:56</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
right. I agree with that.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467363420' id='477072'>
<a class='timestamp' href='#477072'><time timestamp='2016-07-01T08:57:00Z'>08:57</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
just collectively we are.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467363420' id='477073'>
<a class='timestamp' href='#477073'><time timestamp='2016-07-01T08:57:00Z'>08:57</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
so now long chains are an issue, long chains are fixed by adding yet another special case, but without considering impact on other things
<br>
</div>

<div class='talk op-msg' data-timestamp='1467363420' id='477074'>
<a class='timestamp' href='#477074'><time timestamp='2016-07-01T08:57:00Z'>08:57</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
You&#x27;re right that someone looking at it more holistically would be good, part of the problem in that issue was that even there it was only asking a very narrow question.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467363420' id='477075'>
<a class='timestamp' href='#477075'><time timestamp='2016-07-01T08:57:00Z'>08:57</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
at some point I just worry all those hacks make things worse, instead of picking some simple algorithm that does fine in most cases
<br>
</div>

<div class='talk op-msg' data-timestamp='1467363480' id='477076'>
<a class='timestamp' href='#477076'><time timestamp='2016-07-01T08:58:00Z'>08:58</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I don&#x27;t really think there is much to consider on the subject of &quot;avoid going over your own maximum chain depth if at all possible&quot;.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467363480' id='477077'>
<a class='timestamp' href='#477077'><time timestamp='2016-07-01T08:58:00Z'>08:58</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
but I don&#x27;t know, I don&#x27;t have the ovierview
<br>
</div>

<div class='talk op-msg' data-timestamp='1467363480' id='477078'>
<a class='timestamp' href='#477078'><time timestamp='2016-07-01T08:58:00Z'>08:58</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
since producing a txn even you won&#x27;t relay when you could have avoided it seems clearly wrong.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467363480' id='477079'>
<a class='timestamp' href='#477079'><time timestamp='2016-07-01T08:58:00Z'>08:58</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
gmaxwell: the wallet should probably have all of the unconfirmed depdencies of a transaction
<br>
</div>

<div class='talk op-msg' data-timestamp='1467363540' id='477080'>
<a class='timestamp' href='#477080'><time timestamp='2016-07-01T08:59:00Z'>08:59</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
so dropping of extraneous inputs was bad?
<br>
</div>

<div class='talk op-msg' data-timestamp='1467363540' id='477081'>
<a class='timestamp' href='#477081'><time timestamp='2016-07-01T08:59:00Z'>08:59</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
and then remove the dependencies after some high number of confirms which aren&#x27;t relevant
<br>
</div>

<div class='talk op-msg' data-timestamp='1467363600' id='477082'>
<a class='timestamp' href='#477082'><time timestamp='2016-07-01T09:00:00Z'>09:00</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
phantomcircuit: in these cases all the unconfirmed dependencies will be wallet transactions-- IsFromMe otherwise it won&#x27;t spend the coin!
<br>
</div>

<div class='talk op-msg' data-timestamp='1467363600' id='477083'>
<a class='timestamp' href='#477083'><time timestamp='2016-07-01T09:00:00Z'>09:00</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
normally you&#x27;d say that choosing a minimum set that covers the value to be spent would be optimal
<br>
</div>

<div class='talk op-msg' data-timestamp='1467363600' id='477084'>
<a class='timestamp' href='#477084'><time timestamp='2016-07-01T09:00:00Z'>09:00</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
but yeah you&#x27;re right it has to pass IsMine which means the wallet already has all the info you need to calculate depth with just coins view
<br>
</div>

<div class='talk op-msg' data-timestamp='1467363600' id='477085'>
<a class='timestamp' href='#477085'><time timestamp='2016-07-01T09:00:00Z'>09:00</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
but yes, I&#x27;m sure there are lots of other contraints and scores that should be taken in to account
<br>
</div>

<div class='talk op-msg' data-timestamp='1467363600' id='477086'>
<a class='timestamp' href='#477086'><time timestamp='2016-07-01T09:00:00Z'>09:00</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
reading top down so my comments might be already worked out :P
<br>
</div>

<div class='talk op-msg' data-timestamp='1467363600' id='477087'>
<a class='timestamp' href='#477087'><time timestamp='2016-07-01T09:00:00Z'>09:00</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
wumpus: the result ends up being the smallest possible change. so it breaks your wallet into lots of tiny little coins.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467363600' id='477088'>
<a class='timestamp' href='#477088'><time timestamp='2016-07-01T09:00:00Z'>09:00</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
which was my point before
<br>
</div>

<div class='talk op-msg' data-timestamp='1467363660' id='477089'>
<a class='timestamp' href='#477089'><time timestamp='2016-07-01T09:01:00Z'>09:01</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
so why wasn&#x27;t that reverted?
<br>
</div>

<div class='talk op-msg' data-timestamp='1467363720' id='477090'>
<a class='timestamp' href='#477090'><time timestamp='2016-07-01T09:02:00Z'>09:02</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I don&#x27;t know/understand why it wasn&#x27;t.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467363720' id='477091'>
<a class='timestamp' href='#477091'><time timestamp='2016-07-01T09:02:00Z'>09:02</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I think when it went in there was some expectation that further improvements would come, and they didn&#x27;t. Then it was released. Then people showed up and complaints (opening an issue) and we figured out that the behavior change was due to removing extranious inputs.. and then?  I don&#x27;t know
<br>
</div>

<div class='talk op-msg' data-timestamp='1467363720' id='477092'>
<a class='timestamp' href='#477092'><time timestamp='2016-07-01T09:02:00Z'>09:02</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
we just have too much on our plate
<br>
</div>

<div class='talk op-msg' data-timestamp='1467363720' id='477093'>
<a class='timestamp' href='#477093'><time timestamp='2016-07-01T09:02:00Z'>09:02</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
then something else caught fire.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467363780' id='477094'>
<a class='timestamp' href='#477094'><time timestamp='2016-07-01T09:03:00Z'>09:03</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
sometimes I really want to run around screaming with my hands on my head
<br>
</div>

<div class='talk op-msg' data-timestamp='1467363780' id='477095'>
<a class='timestamp' href='#477095'><time timestamp='2016-07-01T09:03:00Z'>09:03</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
wumpus: that sounds like fun
<br>
</div>

<div class='talk op-msg' data-timestamp='1467363780' id='477096'>
<a class='timestamp' href='#477096'><time timestamp='2016-07-01T09:03:00Z'>09:03</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
it&#x27;s not possible to handle this all anymore
<br>
</div>

<div class='talk op-msg' data-timestamp='1467363840' id='477097'>
<a class='timestamp' href='#477097'><time timestamp='2016-07-01T09:04:00Z'>09:04</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
we really need someone that focuses on wallet improvements
<br>
</div>

<div class='talk op-msg' data-timestamp='1467363840' id='477098'>
<a class='timestamp' href='#477098'><time timestamp='2016-07-01T09:04:00Z'>09:04</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(privacy wants you to spend all payments to a single address at once, so that you don&#x27;t get a rolling linkage that eventually cross taints every address in your wallet--- so maybe just attempting to do this would counteract most of the grinding. thats the kind of thing you want tne step back and overview to answer)
<br>
</div>

<div class='talk op-msg' data-timestamp='1467363960' id='477099'>
<a class='timestamp' href='#477099'><time timestamp='2016-07-01T09:06:00Z'>09:06</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
someone that has an overview of what the heck is happening in the wallet
<br>
</div>

<div class='talk op-msg' data-timestamp='1467363960' id='477100'>
<a class='timestamp' href='#477100'><time timestamp='2016-07-01T09:06:00Z'>09:06</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
There are a number of positive wallet things going on, at least. But there is a lot of time spent twiddling things in the weeds rather than setting up prioties and identifying larger scale issues.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467363960' id='477101'>
<a class='timestamp' href='#477101'><time timestamp='2016-07-01T09:06:00Z'>09:06</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
but how to sort &#x27;bad&#x27; improvements from good ones?
<br>
</div>

<div class='talk op-msg' data-timestamp='1467363960' id='477102'>
<a class='timestamp' href='#477102'><time timestamp='2016-07-01T09:06:00Z'>09:06</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
I don&#x27;t know anymore
<br>
</div>

<div class='talk op-msg' data-timestamp='1467364020' id='477103'>
<a class='timestamp' href='#477103'><time timestamp='2016-07-01T09:07:00Z'>09:07</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
i&#x27;ve been trying to improve the wallet
<br>
</div>

<div class='talk op-msg' data-timestamp='1467364020' id='477104'>
<a class='timestamp' href='#477104'><time timestamp='2016-07-01T09:07:00Z'>09:07</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
yes, thanks for that
<br>
</div>

<div class='talk op-msg' data-timestamp='1467364080' id='477105'>
<a class='timestamp' href='#477105'><time timestamp='2016-07-01T09:08:00Z'>09:08</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
unfortunately yeah it&#x27;s a lot of running around in the weeds trying to fix things up... to make it easier to do bigger things
<br>
</div>

<div class='talk op-msg' data-timestamp='1467364080' id='477106'>
<a class='timestamp' href='#477106'><time timestamp='2016-07-01T09:08:00Z'>09:08</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
all in all the utxo/coin based approach does cause a lot of non-trivial difficulties, both at the node (utxo set sprawl) level as in the wallet
<br>
</div>

<div class='talk op-msg' data-timestamp='1467364080' id='477107'>
<a class='timestamp' href='#477107'><time timestamp='2016-07-01T09:08:00Z'>09:08</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
in any case, I didn&#x27;t bring any of this up here to complain-- I brought it up because initially I couldn&#x27;t figure out the cause, and then updated when I did.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467364140' id='477108'>
<a class='timestamp' href='#477108'><time timestamp='2016-07-01T09:09:00Z'>09:09</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
it avoids a lot of replay problems however, which avoids other kinds of sprawl
<br>
</div>

<div class='talk op-msg' data-timestamp='1467364140' id='477109'>
<a class='timestamp' href='#477109'><time timestamp='2016-07-01T09:09:00Z'>09:09</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
no, I&#x27;m not trying to complain either, but sometimes I just don&#x27;t know anymroe
<br>
</div>

<div class='talk op-msg' data-timestamp='1467364200' id='477110'>
<a class='timestamp' href='#477110'><time timestamp='2016-07-01T09:10:00Z'>09:10</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
well, from another perspective-- we have no deadline. These same issues existed in 2011 (actually, much worse), but it didn&#x27;t matter because hardly anyone used the system. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1467364260' id='477111'>
<a class='timestamp' href='#477111'><time timestamp='2016-07-01T09:11:00Z'>09:11</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
but that&#x27;s part of what worries me, yes these same issues existed in 2011
<br>
</div>

<div class='talk op-msg' data-timestamp='1467364260' id='477112'>
<a class='timestamp' href='#477112'><time timestamp='2016-07-01T09:11:00Z'>09:11</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
no, no deadline, but e.g. the utxo growth is worrying
<br>
</div>

<div class='talk op-msg' data-timestamp='1467364320' id='477113'>
<a class='timestamp' href='#477113'><time timestamp='2016-07-01T09:12:00Z'>09:12</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
we&#x27;re running against (soft) walls
<br>
</div>

<div class='talk op-msg' data-timestamp='1467364320' id='477114'>
<a class='timestamp' href='#477114'><time timestamp='2016-07-01T09:12:00Z'>09:12</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
yes, I&#x27;m concerned about utxo growth.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467364320' id='477115'>
<a class='timestamp' href='#477115'><time timestamp='2016-07-01T09:12:00Z'>09:12</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I happened to chart data from all those reindexing tests I just did, and the time to verify a block is increasing (for the same amount of txn data).
<br>
</div>

<div class='talk op-msg' data-timestamp='1467364380' id='477116'>
<a class='timestamp' href='#477116'><time timestamp='2016-07-01T09:13:00Z'>09:13</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
and all the while joe user is complaining about lack of *scaling*, while the system is already seemingly bursting at its seems
<br>
</div>

<div class='talk op-msg' data-timestamp='1467364380' id='477117'>
<a class='timestamp' href='#477117'><time timestamp='2016-07-01T09:13:00Z'>09:13</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I was theorizing that this was from polylog behavior in the database and worrying, but phantomcircuit gave an alternative argument that the reduction in spammy transactions relative to non-spammy ones may be resulting in lower cache hitrates.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467364380' id='477118'>
<a class='timestamp' href='#477118'><time timestamp='2016-07-01T09:13:00Z'>09:13</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
so I&#x27;m going to try to figure out if thats the case.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467364440' id='477119'>
<a class='timestamp' href='#477119'><time timestamp='2016-07-01T09:14:00Z'>09:14</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(by increasing, I mean increasing enough that it was clearly visible on a last-8064 block plot)
<br>
</div>

<div class='talk op-msg' data-timestamp='1467364500' id='477120'>
<a class='timestamp' href='#477120'><time timestamp='2016-07-01T09:15:00Z'>09:15</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
&quot;the time to verify a block is increasing (for the same amount of txn data&quot; yes, indeed, I also intended to plot time per block, but that much was clear just from looking at timestamps :(
<br>
</div>

<div class='talk op-msg' data-timestamp='1467364560' id='477121'>
<a class='timestamp' href='#477121'><time timestamp='2016-07-01T09:16:00Z'>09:16</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
well the difference between 1MB and smaller blocks was expected, but the increase still existed when looking at only large blocks.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467364560' id='477122'>
<a class='timestamp' href='#477122'><time timestamp='2016-07-01T09:16:00Z'>09:16</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1467364560' id='477123'>
<a class='timestamp' href='#477123'><time timestamp='2016-07-01T09:16:00Z'>09:16</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
recent blocks verify slower
<br>
</div>

<div class='talk op-msg' data-timestamp='1467364620' id='477124'>
<a class='timestamp' href='#477124'><time timestamp='2016-07-01T09:17:00Z'>09:17</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
even of the same size
<br>
</div>

<div class='talk op-msg' data-timestamp='1467364620' id='477125'>
<a class='timestamp' href='#477125'><time timestamp='2016-07-01T09:17:00Z'>09:17</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
so <b>*let alone*</b> what bigger blocks would do
<br>
</div>

<div class='talk op-msg' data-timestamp='1467364620' id='477126'>
<a class='timestamp' href='#477126'><time timestamp='2016-07-01T09:17:00Z'>09:17</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
At least segwit doesn&#x27;t increase the worst case amount of utxo growth or accessing...
<br>
</div>

<div class='talk op-msg' data-timestamp='1467366960' id='477127'>
<a class='timestamp' href='#477127'><time timestamp='2016-07-01T09:56:00Z'>09:56</time></a>
&lt;<span class='nick nick-7'> pedrobranco</span>&gt;
sipa: hi, when you have the time can you help on the doubts in <a href="https://github.com/bitcoin/bitcoin/pull/7551" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/7551</a>? Thanks :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1467367440' id='477128'>
<a class='timestamp' href='#477128'><time timestamp='2016-07-01T10:04:00Z'>10:04</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
pedrobranco: i answered quickly
<br>
</div>

<div class='talk op-msg' data-timestamp='1467367440' id='477129'>
<a class='timestamp' href='#477129'><time timestamp='2016-07-01T10:04:00Z'>10:04</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
pedrobranco: feel free to disagree by the way... if my view is not obvious here, perhaps the semantics should be different and more clear
<br>
</div>

<div class='talk op-msg' data-timestamp='1467367740' id='477130'>
<a class='timestamp' href='#477130'><time timestamp='2016-07-01T10:09:00Z'>10:09</time></a>
&lt;<span class='nick nick-7'> pedrobranco</span>&gt;
sipa: thanks.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467369420' id='477131'>
<a class='timestamp' href='#477131'><time timestamp='2016-07-01T10:37:00Z'>10:37</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
wow, that wallet drop-unnecessary-inputs-from-best-subset change had been open from sep 2014
<br>
</div>

<div class='talk op-msg' data-timestamp='1467369480' id='477132'>
<a class='timestamp' href='#477132'><time timestamp='2016-07-01T10:38:00Z'>10:38</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/pull/4906" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/4906</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1467369600' id='477133'>
<a class='timestamp' href='#477133'><time timestamp='2016-07-01T10:40:00Z'>10:40</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
it has not yet made it into any release
<br>
</div>

<div class='talk op-msg' data-timestamp='1467369660' id='477134'>
<a class='timestamp' href='#477134'><time timestamp='2016-07-01T10:41:00Z'>10:41</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
it has
<br>
</div>

<div class='talk op-msg' data-timestamp='1467369660' id='477135'>
<a class='timestamp' href='#477135'><time timestamp='2016-07-01T10:41:00Z'>10:41</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
it was backported to .12
<br>
</div>

<div class='talk op-msg' data-timestamp='1467369660' id='477136'>
<a class='timestamp' href='#477136'><time timestamp='2016-07-01T10:41:00Z'>10:41</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
fuck
<br>
</div>

<div class='talk op-msg' data-timestamp='1467369660' id='477137'>
<a class='timestamp' href='#477137'><time timestamp='2016-07-01T10:41:00Z'>10:41</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
yes I see: 96e8d120336cf4312cd5f42ba2f9aff17d4ad414
<br>
</div>

<div class='talk op-msg' data-timestamp='1467369720' id='477138'>
<a class='timestamp' href='#477138'><time timestamp='2016-07-01T10:42:00Z'>10:42</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
that was my own stupid idea probably
<br>
</div>

<div class='talk op-msg' data-timestamp='1467369780' id='477139'>
<a class='timestamp' href='#477139'><time timestamp='2016-07-01T10:43:00Z'>10:43</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
Up to now I have not seen proof that this made things considerably worse
<br>
</div>

<div class='talk op-msg' data-timestamp='1467369840' id='477140'>
<a class='timestamp' href='#477140'><time timestamp='2016-07-01T10:44:00Z'>10:44</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
Someone should come up with a framwork that mimics common wallet use cases
<br>
</div>

<div class='talk op-msg' data-timestamp='1467369840' id='477141'>
<a class='timestamp' href='#477141'><time timestamp='2016-07-01T10:44:00Z'>10:44</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
ok
<br>
</div>

<div class='talk op-msg' data-timestamp='1467369840' id='477142'>
<a class='timestamp' href='#477142'><time timestamp='2016-07-01T10:44:00Z'>10:44</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
e.g &#x27;exchange&#x27;: something with a huge in-out volume/count
<br>
</div>

<div class='talk op-msg' data-timestamp='1467369840' id='477143'>
<a class='timestamp' href='#477143'><time timestamp='2016-07-01T10:44:00Z'>10:44</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
then a &quot;normal user&quot;: always waits for confirmations, low volume
<br>
</div>

<div class='talk op-msg' data-timestamp='1467369900' id='477144'>
<a class='timestamp' href='#477144'><time timestamp='2016-07-01T10:45:00Z'>10:45</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
right, that would make sense, for a project taking the wallet part seriously
<br>
</div>

<div class='talk op-msg' data-timestamp='1467369900' id='477145'>
<a class='timestamp' href='#477145'><time timestamp='2016-07-01T10:45:00Z'>10:45</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
and then different behaviors like &#x27;always send small coins&#x27; (pay for coffee each day)
<br>
</div>

<div class='talk op-msg' data-timestamp='1467369960' id='477146'>
<a class='timestamp' href='#477146'><time timestamp='2016-07-01T10:46:00Z'>10:46</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
and &#x27;receive large coins&#x27; (get payed in btc)
<br>
</div>

<div class='talk op-msg' data-timestamp='1467369960' id='477147'>
<a class='timestamp' href='#477147'><time timestamp='2016-07-01T10:46:00Z'>10:46</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
etc
<br>
</div>

<div class='talk op-msg' data-timestamp='1467370020' id='477148'>
<a class='timestamp' href='#477148'><time timestamp='2016-07-01T10:47:00Z'>10:47</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
right.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467370140' id='477149'>
<a class='timestamp' href='#477149'><time timestamp='2016-07-01T10:49:00Z'>10:49</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
gmaxwell mentioned above that he did see some reports of worse behavior after the change
<br>
</div>

<div class='talk op-msg' data-timestamp='1467370140' id='477150'>
<a class='timestamp' href='#477150'><time timestamp='2016-07-01T10:49:00Z'>10:49</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
now it&#x27;s not clear whether to revert it or not
<br>
</div>

<div class='talk op-msg' data-timestamp='1467370200' id='477151'>
<a class='timestamp' href='#477151'><time timestamp='2016-07-01T10:50:00Z'>10:50</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
We recieved an issue with a business with a large wallet reporting specifically the expected behavior there.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467370200' id='477152'>
<a class='timestamp' href='#477152'><time timestamp='2016-07-01T10:50:00Z'>10:50</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
why don&#x27;t businesses with large wallets never help with the wallet development?
<br>
</div>

<div class='talk op-msg' data-timestamp='1467370260' id='477153'>
<a class='timestamp' href='#477153'><time timestamp='2016-07-01T10:51:00Z'>10:51</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
it seems it would be in their best interest
<br>
</div>

<div class='talk op-msg' data-timestamp='1467370260' id='477154'>
<a class='timestamp' href='#477154'><time timestamp='2016-07-01T10:51:00Z'>10:51</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
because there are very few left, most are using fully hosted things that have custom software.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467370260' id='477155'>
<a class='timestamp' href='#477155'><time timestamp='2016-07-01T10:51:00Z'>10:51</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
but I don&#x27;t think this was even reported on github
<br>
</div>

<div class='talk op-msg' data-timestamp='1467370260' id='477156'>
<a class='timestamp' href='#477156'><time timestamp='2016-07-01T10:51:00Z'>10:51</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I thought it was.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467370260' id='477157'>
<a class='timestamp' href='#477157'><time timestamp='2016-07-01T10:51:00Z'>10:51</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
it&#x27;s just frustrating
<br>
</div>

<div class='talk op-msg' data-timestamp='1467370260' id='477158'>
<a class='timestamp' href='#477158'><time timestamp='2016-07-01T10:51:00Z'>10:51</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
it was
<br>
</div>

<div class='talk op-msg' data-timestamp='1467370260' id='477159'>
<a class='timestamp' href='#477159'><time timestamp='2016-07-01T10:51:00Z'>10:51</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
oh?
<br>
</div>

<div class='talk op-msg' data-timestamp='1467370260' id='477160'>
<a class='timestamp' href='#477160'><time timestamp='2016-07-01T10:51:00Z'>10:51</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
And utxo growth coincided with it. This was previously discussed in meetings IIRC and then ... I&#x27;m not sure what happened. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1467370320' id='477161'>
<a class='timestamp' href='#477161'><time timestamp='2016-07-01T10:52:00Z'>10:52</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
that&#x27;s not important. What is important is what to do now
<br>
</div>

<div class='talk op-msg' data-timestamp='1467370320' id='477162'>
<a class='timestamp' href='#477162'><time timestamp='2016-07-01T10:52:00Z'>10:52</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
revert it?
<br>
</div>

<div class='talk op-msg' data-timestamp='1467370320' id='477163'>
<a class='timestamp' href='#477163'><time timestamp='2016-07-01T10:52:00Z'>10:52</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
#7664 #7657
<br>
</div>

<div class='talk op-msg' data-timestamp='1467370380' id='477164'>
<a class='timestamp' href='#477164'><time timestamp='2016-07-01T10:53:00Z'>10:53</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
maybe it was dropped for good reason. I just can&#x27;t recall.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467370440' id='477165'>
<a class='timestamp' href='#477165'><time timestamp='2016-07-01T10:54:00Z'>10:54</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
At the end of the day, the pruning itself was correcting a bug. The potential issue is that the bug was covering up that the non-bugged behavior is bad (and the simulations showed that it, as I said, would grind down wallets into lots of tiny coins)
<br>
</div>

<div class='talk op-msg' data-timestamp='1467370440' id='477166'>
<a class='timestamp' href='#477166'><time timestamp='2016-07-01T10:54:00Z'>10:54</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
Imo it shouldn&#x27;t matter if we revert it or not. I haven&#x27;t yet seen simulations which prove that either would place an advatage/disatvantage
<br>
</div>

<div class='talk op-msg' data-timestamp='1467370440' id='477167'>
<a class='timestamp' href='#477167'><time timestamp='2016-07-01T10:54:00Z'>10:54</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
MarcoFalke: IIRC there were simulations posted that showed that the behavior caused far more utxo.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467370500' id='477168'>
<a class='timestamp' href='#477168'><time timestamp='2016-07-01T10:55:00Z'>10:55</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
No one verified that the simulations were implemented according to the current coin selection code
<br>
</div>

<div class='talk op-msg' data-timestamp='1467370500' id='477169'>
<a class='timestamp' href='#477169'><time timestamp='2016-07-01T10:55:00Z'>10:55</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
I have seen single satoshi outputs in those simulations
<br>
</div>

<div class='talk op-msg' data-timestamp='1467370500' id='477170'>
<a class='timestamp' href='#477170'><time timestamp='2016-07-01T10:55:00Z'>10:55</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
which does not happen with our code
<br>
</div>

<div class='talk op-msg' data-timestamp='1467370500' id='477171'>
<a class='timestamp' href='#477171'><time timestamp='2016-07-01T10:55:00Z'>10:55</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
Also the author found a bug in the implementation about two weeks ago or so
<br>
</div>

<div class='talk op-msg' data-timestamp='1467370500' id='477172'>
<a class='timestamp' href='#477172'><time timestamp='2016-07-01T10:55:00Z'>10:55</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
The result is also intutive to me. It results in making the smallest possible outputs. This is pessimal when you consider that avoiding utxo size wants, for a given users balance, the largest value outputs. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1467370560' id='477173'>
<a class='timestamp' href='#477173'><time timestamp='2016-07-01T10:56:00Z'>10:56</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
Ideally, we&#x27;d implement the wallet benchmark framework in cpp and have it just use our wallet code?
<br>
</div>

<div class='talk op-msg' data-timestamp='1467370620' id='477174'>
<a class='timestamp' href='#477174'><time timestamp='2016-07-01T10:57:00Z'>10:57</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
if it would be modular enough for that :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1467370620' id='477175'>
<a class='timestamp' href='#477175'><time timestamp='2016-07-01T10:57:00Z'>10:57</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
possibly separate the coin selection logic out to a separate file, which could also be used by the simulation framework
<br>
</div>

<div class='talk op-msg' data-timestamp='1467370680' id='477176'>
<a class='timestamp' href='#477176'><time timestamp='2016-07-01T10:58:00Z'>10:58</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
it could use an abstraction of a list of coins with some properties instead of a wallet as input
<br>
</div>

<div class='talk op-msg' data-timestamp='1467370680' id='477177'>
<a class='timestamp' href='#477177'><time timestamp='2016-07-01T10:58:00Z'>10:58</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
it would make some things a lot easier, like trying out what the algo does in certain circumstances, without actually having to fake a wallet
<br>
</div>

<div class='talk op-msg' data-timestamp='1467370740' id='477178'>
<a class='timestamp' href='#477178'><time timestamp='2016-07-01T10:59:00Z'>10:59</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
An even better behavior would be to add all other inputs to the same addresses being spent, up to some limit to prevent very large transactions, to sweep them up. This is a privacy improving strategy, as well as a fee minimizing strategy under an assumption that fees will increase in the future.   My guess is that I didn&#x27;t NO DONT the pruning change because in and of itself it was right, and the
<br>
</div>

<div class='talk op-msg' data-timestamp='1467370740' id='477179'>
<a class='timestamp' href='#477179'><time timestamp='2016-07-01T10:59:00Z'>10:59</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
 grinding should be fixed by something like this.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467370800' id='477180'>
<a class='timestamp' href='#477180'><time timestamp='2016-07-01T11:00:00Z'>11:00</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
but it went off my radar, also changes to coinselection are a pain because a bunch of th tests freeking hard code the behavior.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467370800' id='477181'>
<a class='timestamp' href='#477181'><time timestamp='2016-07-01T11:00:00Z'>11:00</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
if that was the only thing making changes to coin selection a pain :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1467370860' id='477182'>
<a class='timestamp' href='#477182'><time timestamp='2016-07-01T11:01:00Z'>11:01</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
it&#x27;s just almost impossible to agree what is better behavior, which is what talled #4906 for so long and resulted in it eventually being merged, probably wrongly
<br>
</div>

<div class='talk op-msg' data-timestamp='1467370920' id='477183'>
<a class='timestamp' href='#477183'><time timestamp='2016-07-01T11:02:00Z'>11:02</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
so a) it should be better behavior b) it needs to be implemented correctly, and indeed, we have no good tests or simulation framework
<br>
</div>

<div class='talk op-msg' data-timestamp='1467371040' id='477184'>
<a class='timestamp' href='#477184'><time timestamp='2016-07-01T11:04:00Z'>11:04</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
sweeping up as many as possible inputs to the same address would make sense
<br>
</div>

<div class='talk op-msg' data-timestamp='1467371040' id='477185'>
<a class='timestamp' href='#477185'><time timestamp='2016-07-01T11:04:00Z'>11:04</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
there is no privacy benefit from having more spends to one address
<br>
</div>

<div class='talk op-msg' data-timestamp='1467371040' id='477186'>
<a class='timestamp' href='#477186'><time timestamp='2016-07-01T11:04:00Z'>11:04</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
then again it assumes bad-case behavior from the user, reusing addresses
<br>
</div>

<div class='talk op-msg' data-timestamp='1467371100' id='477187'>
<a class='timestamp' href='#477187'><time timestamp='2016-07-01T11:05:00Z'>11:05</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I don&#x27;t want to be hard on you, but Xekyo ran simulations which showed 25% to 400% increase in the UTXO set size under some simulation loads. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1467371100' id='477188'>
<a class='timestamp' href='#477188'><time timestamp='2016-07-01T11:05:00Z'>11:05</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
I think it would make sense to design a standard interface for wallet coin selection algorithms, separately from any sepecific wallet
<br>
</div>

<div class='talk op-msg' data-timestamp='1467371100' id='477189'>
<a class='timestamp' href='#477189'><time timestamp='2016-07-01T11:05:00Z'>11:05</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
We had simulations, they might not have been ideal.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467371100' id='477190'>
<a class='timestamp' href='#477190'><time timestamp='2016-07-01T11:05:00Z'>11:05</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
so that research and simuation can be done outside of the specific scope of bitcoin core
<br>
</div>

<div class='talk op-msg' data-timestamp='1467371160' id='477191'>
<a class='timestamp' href='#477191'><time timestamp='2016-07-01T11:06:00Z'>11:06</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
They showed bad behavior from this change. From intution I predited specifically this bad behavior and asked for the simulations.  Our issue is not that we need more simulations.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467371160' id='477192'>
<a class='timestamp' href='#477192'><time timestamp='2016-07-01T11:06:00Z'>11:06</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(well we do, but that didn&#x27;t help here!)
<br>
</div>

<div class='talk op-msg' data-timestamp='1467371160' id='477193'>
<a class='timestamp' href='#477193'><time timestamp='2016-07-01T11:06:00Z'>11:06</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
ok, never mind then
<br>
</div>

<div class='talk op-msg' data-timestamp='1467371160' id='477194'>
<a class='timestamp' href='#477194'><time timestamp='2016-07-01T11:06:00Z'>11:06</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
and still MarcoFalke is not agreeing that there is a potential issue.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467371160' id='477195'>
<a class='timestamp' href='#477195'><time timestamp='2016-07-01T11:06:00Z'>11:06</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
just trying to think of some things that might help, out of the blue
<br>
</div>

<div class='talk op-msg' data-timestamp='1467371160' id='477196'>
<a class='timestamp' href='#477196'><time timestamp='2016-07-01T11:06:00Z'>11:06</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
yea.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467371160' id='477197'>
<a class='timestamp' href='#477197'><time timestamp='2016-07-01T11:06:00Z'>11:06</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
if it&#x27;s all hopeless I&#x27;ll just shut up
<br>
</div>

<div class='talk op-msg' data-timestamp='1467371220' id='477198'>
<a class='timestamp' href='#477198'><time timestamp='2016-07-01T11:07:00Z'>11:07</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
xekyo also identifyied a useful strategy, making the coinselection target double the value instead of the value. This results in change of useful sizes. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1467371220' id='477199'>
<a class='timestamp' href='#477199'><time timestamp='2016-07-01T11:07:00Z'>11:07</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
<b>*more*</b> simulations may not be a solution, but better, correctly implemented ones would
<br>
</div>

<div class='talk op-msg' data-timestamp='1467371280' id='477200'>
<a class='timestamp' href='#477200'><time timestamp='2016-07-01T11:08:00Z'>11:08</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
if the answer of this is up to whether the simulation is implemented correctly, then we&#x27;re not really helped a bit, I agree
<br>
</div>

<div class='talk op-msg' data-timestamp='1467371340' id='477201'>
<a class='timestamp' href='#477201'><time timestamp='2016-07-01T11:09:00Z'>11:09</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
re: assumes bad-case behavior from the user, well, indeed, it&#x27;s no effect if the user doesn&#x27;t reuse. But no harm, and reuse is ubiquitious. The (vast?) majority of bitcoins in circulation are held in reused addresses.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467371340' id='477202'>
<a class='timestamp' href='#477202'><time timestamp='2016-07-01T11:09:00Z'>11:09</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
the vast majority of those may not  be using bitcoin core in the first place
<br>
</div>

<div class='talk op-msg' data-timestamp='1467371400' id='477203'>
<a class='timestamp' href='#477203'><time timestamp='2016-07-01T11:10:00Z'>11:10</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
many wallets encourage address reuse, or can only do address resuse
<br>
</div>

<div class='talk op-msg' data-timestamp='1467371400' id='477204'>
<a class='timestamp' href='#477204'><time timestamp='2016-07-01T11:10:00Z'>11:10</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
that rule may help them a lot :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1467371460' id='477205'>
<a class='timestamp' href='#477205'><time timestamp='2016-07-01T11:11:00Z'>11:11</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
pretty much every active user has some reuse though, consider that thing that sends tips for commits.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467371460' id='477206'>
<a class='timestamp' href='#477206'><time timestamp='2016-07-01T11:11:00Z'>11:11</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
anyhow that speaks too of generalizing the coin selection algorithm beyond the specific software level
<br>
</div>

<div class='talk op-msg' data-timestamp='1467371460' id='477207'>
<a class='timestamp' href='#477207'><time timestamp='2016-07-01T11:11:00Z'>11:11</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
means that all of us have reuse, even if we otherwise act perfectly ourselves. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1467371460' id='477208'>
<a class='timestamp' href='#477208'><time timestamp='2016-07-01T11:11:00Z'>11:11</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
yes, that is true, ideally that should use some BIP32 construction
<br>
</div>

<div class='talk op-msg' data-timestamp='1467371520' id='477209'>
<a class='timestamp' href='#477209'><time timestamp='2016-07-01T11:12:00Z'>11:12</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
to be honest I always use manual coin selection
<br>
</div>

<div class='talk op-msg' data-timestamp='1467371520' id='477210'>
<a class='timestamp' href='#477210'><time timestamp='2016-07-01T11:12:00Z'>11:12</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
(apart from testing)
<br>
</div>

<div class='talk op-msg' data-timestamp='1467371580' id='477211'>
<a class='timestamp' href='#477211'><time timestamp='2016-07-01T11:13:00Z'>11:13</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I do too. (and always spend all the coins connected to an address, when I spend any)
<br>
</div>

<div class='talk op-msg' data-timestamp='1467371640' id='477212'>
<a class='timestamp' href='#477212'><time timestamp='2016-07-01T11:14:00Z'>11:14</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
and that hould ideally coincide with changing the donation address
<br>
</div>

<div class='talk op-msg' data-timestamp='1467371640' id='477213'>
<a class='timestamp' href='#477213'><time timestamp='2016-07-01T11:14:00Z'>11:14</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
they&#x27;ve gotta get spent someday or the coins are lost, fees are likely lower now than in the future... and spending at once avoids privacy harm from constantly interlinking inside the wallet.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467371640' id='477214'>
<a class='timestamp' href='#477214'><time timestamp='2016-07-01T11:14:00Z'>11:14</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
yea, I do that with my bct address. change the one on the site, when I spend all the coins.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467371700' id='477215'>
<a class='timestamp' href='#477215'><time timestamp='2016-07-01T11:15:00Z'>11:15</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
for that tip commit thing, I just haven&#x27;t been spending its payments, I think... as I dunno how to change it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467371760' id='477216'>
<a class='timestamp' href='#477216'><time timestamp='2016-07-01T11:16:00Z'>11:16</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
they have a little web interface where you can log in and change the address IIRC
<br>
</div>

<div class='talk op-msg' data-timestamp='1467371880' id='477217'>
<a class='timestamp' href='#477217'><time timestamp='2016-07-01T11:18:00Z'>11:18</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I wonder what the average coin value is in the utxo set and how thats evolved over time. (it&#x27;s not quite as simple as the set size evolution over time, since more coins have also been introduced)
<br>
</div>

<div class='talk op-msg' data-timestamp='1467371940' id='477218'>
<a class='timestamp' href='#477218'><time timestamp='2016-07-01T11:19:00Z'>11:19</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
  &quot;errors&quot;: &quot;WARNING: abnormally high number of blocks generated, 4477 blocks received in the last 4 hours (24 expected)&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1467371940' id='477219'>
<a class='timestamp' href='#477219'><time timestamp='2016-07-01T11:19:00Z'>11:19</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
lol
<br>
</div>

<div class='talk op-msg' data-timestamp='1467372000' id='477220'>
<a class='timestamp' href='#477220'><time timestamp='2016-07-01T11:20:00Z'>11:20</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
yes that would be an interesting utxo statistic
<br>
</div>

<div class='talk op-msg' data-timestamp='1467372000' id='477221'>
<a class='timestamp' href='#477221'><time timestamp='2016-07-01T11:20:00Z'>11:20</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
gmaxwell: <a href="https://github.com/bitcoin/bitcoin/pull/8275" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8275</a> :p
<br>
</div>

<div class='talk op-msg' data-timestamp='1467372420' id='477222'>
<a class='timestamp' href='#477222'><time timestamp='2016-07-01T11:27:00Z'>11:27</time></a>
&lt;<span class='nick nick-11'> GitHub78</span>&gt;
[bitcoin] laanwj opened pull request #8298: wallet: Revert input selection post-pruning (master...2016_06_revert_wallet_input_postprune) <a href="https://github.com/bitcoin/bitcoin/pull/8298" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8298</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1467373020' id='477223'>
<a class='timestamp' href='#477223'><time timestamp='2016-07-01T11:37:00Z'>11:37</time></a>
&lt;<span class='nick nick-7'> sturles</span>&gt;
I can see some HD related pull requests with no milestone set.  Any chance of HD support in 0.13, or is it 0.14 material?
<br>
</div>

<div class='talk op-msg' data-timestamp='1467373020' id='477224'>
<a class='timestamp' href='#477224'><time timestamp='2016-07-01T11:37:00Z'>11:37</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
basic HD support has been merged for 0.13
<br>
</div>

<div class='talk op-msg' data-timestamp='1467373080' id='477225'>
<a class='timestamp' href='#477225'><time timestamp='2016-07-01T11:38:00Z'>11:38</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
the feature freeze for 0.13 is long past now though, so everything else is for 0.14 soonest
<br>
</div>

<div class='talk op-msg' data-timestamp='1467373080' id='477226'>
<a class='timestamp' href='#477226'><time timestamp='2016-07-01T11:38:00Z'>11:38</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
feel free to help testing them though, that helps a lot
<br>
</div>

<div class='talk op-msg' data-timestamp='1467373080' id='477227'>
<a class='timestamp' href='#477227'><time timestamp='2016-07-01T11:38:00Z'>11:38</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
if anything there&#x27;s a lack of involvement and testing and review for wallet PRs, especially UI oriented ones
<br>
</div>

<div class='talk op-msg' data-timestamp='1467373140' id='477228'>
<a class='timestamp' href='#477228'><time timestamp='2016-07-01T11:39:00Z'>11:39</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
we certantly had wallet features slip due to lack of love.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467373320' id='477229'>
<a class='timestamp' href='#477229'><time timestamp='2016-07-01T11:42:00Z'>11:42</time></a>
&lt;<span class='nick nick-7'> sturles</span>&gt;
I haven&#x27;t used the UI for years..  Will start testing HD stuff.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467373860' id='477230'>
<a class='timestamp' href='#477230'><time timestamp='2016-07-01T11:51:00Z'>11:51</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
at least for BIP32, in contrast to coin selection, the goal is well-defined and delimited :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1467374160' id='477231'>
<a class='timestamp' href='#477231'><time timestamp='2016-07-01T11:56:00Z'>11:56</time></a>
&lt;<span class='nick nick-8'> murch</span>&gt;
wumpus: I&#x27;m working on the latter. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1467374220' id='477232'>
<a class='timestamp' href='#477232'><time timestamp='2016-07-01T11:57:00Z'>11:57</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
murch: awesome!
<br>
</div>

<div class='talk op-msg' data-timestamp='1467374280' id='477233'>
<a class='timestamp' href='#477233'><time timestamp='2016-07-01T11:58:00Z'>11:58</time></a>
&lt;<span class='nick nick-8'> murch</span>&gt;
I&#x27;m writing a Master thesis on Coin Selection. I&#x27;ve been talking about that to some people here before.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467374280' id='477234'>
<a class='timestamp' href='#477234'><time timestamp='2016-07-01T11:58:00Z'>11:58</time></a>
&lt;<span class='nick nick-8'> murch</span>&gt;
(Pieter, Greg, Greg, Marco)
<br>
</div>

<div class='talk op-msg' data-timestamp='1467374340' id='477235'>
<a class='timestamp' href='#477235'><time timestamp='2016-07-01T11:59:00Z'>11:59</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
great, some more general reserach there would be very welcome
<br>
</div>

<div class='talk op-msg' data-timestamp='1467374340' id='477236'>
<a class='timestamp' href='#477236'><time timestamp='2016-07-01T11:59:00Z'>11:59</time></a>
&lt;<span class='nick nick-8'> murch</span>&gt;
One focus will be trying to analyze goals, prerequisites and constraints, then the results of varying approaches for selection
<br>
</div>

<div class='talk op-msg' data-timestamp='1467374400' id='477237'>
<a class='timestamp' href='#477237'><time timestamp='2016-07-01T12:00:00Z'>12:00</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
yea exactly, what I posted here <a href="https://github.com/bitcoin/bitcoin/pull/8298#issuecomment-229928583" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8298#issuecomment-229928583</a>  I think what is needed first is a list of criteria to judge coin selection algorithms by
<br>
</div>

<div class='talk op-msg' data-timestamp='1467374400' id='477238'>
<a class='timestamp' href='#477238'><time timestamp='2016-07-01T12:00:00Z'>12:00</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
right now we can&#x27;t tell up from down
<br>
</div>

<div class='talk op-msg' data-timestamp='1467374460' id='477239'>
<a class='timestamp' href='#477239'><time timestamp='2016-07-01T12:01:00Z'>12:01</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
(unless it is obvious breakage)
<br>
</div>

<div class='talk op-msg' data-timestamp='1467374580' id='477240'>
<a class='timestamp' href='#477240'><time timestamp='2016-07-01T12:03:00Z'>12:03</time></a>
&lt;<span class='nick nick-8'> murch</span>&gt;
Thanks, I hadn&#x27;t seen that one yet.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467374640' id='477241'>
<a class='timestamp' href='#477241'><time timestamp='2016-07-01T12:04:00Z'>12:04</time></a>
&lt;<span class='nick nick-8'> murch</span>&gt;
I was actually the one that provided the simulation in 4096
<br>
</div>

<div class='talk op-msg' data-timestamp='1467374700' id='477242'>
<a class='timestamp' href='#477242'><time timestamp='2016-07-01T12:05:00Z'>12:05</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
I mean there are obvious concerns such as CPU usage and memory usage, fee minimization, but also more &#x27;tragedy of the commons&#x27; issues such as privacy concerns, utxo growth concerns (though that also coincides with performance a bit, keeping the wallet&#x27;s utxo set small keeps the global set also smaller)
<br>
</div>

<div class='talk op-msg' data-timestamp='1467374760' id='477243'>
<a class='timestamp' href='#477243'><time timestamp='2016-07-01T12:06:00Z'>12:06</time></a>
&lt;<span class='nick nick-8'> murch</span>&gt;
Actually, I think that the pruning should have had little effect, as there should only be anything to prune when a second pass is needed. Otherwise, since the last added UTXO would be the smallest, there should not be any UTXO prunable.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467374760' id='477244'>
<a class='timestamp' href='#477244'><time timestamp='2016-07-01T12:06:00Z'>12:06</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
it has very little effect
<br>
</div>

<div class='talk op-msg' data-timestamp='1467374760' id='477245'>
<a class='timestamp' href='#477245'><time timestamp='2016-07-01T12:06:00Z'>12:06</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
(but apparantly visible in some cases)
<br>
</div>

<div class='talk op-msg' data-timestamp='1467374880' id='477246'>
<a class='timestamp' href='#477246'><time timestamp='2016-07-01T12:08:00Z'>12:08</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
though of course it&#x27;s not entirely certain whether the reported problems were due to this change, or another change, or a change in the general usage of bitcoin not directly related to a change in our wallet
<br>
</div>

<div class='talk op-msg' data-timestamp='1467374880' id='477247'>
<a class='timestamp' href='#477247'><time timestamp='2016-07-01T12:08:00Z'>12:08</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
or a combination of factors including this change
<br>
</div>

<div class='talk op-msg' data-timestamp='1467374940' id='477248'>
<a class='timestamp' href='#477248'><time timestamp='2016-07-01T12:09:00Z'>12:09</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
in any case, if it has &#x27;little effect&#x27; that&#x27;s also enough reason to revert, I think. If it achieves hardly anything good, it shouldn&#x27;t have been changed.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467375000' id='477249'>
<a class='timestamp' href='#477249'><time timestamp='2016-07-01T12:10:00Z'>12:10</time></a>
&lt;<span class='nick nick-8'> murch</span>&gt;
wumpus: Completely agree.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467375060' id='477250'>
<a class='timestamp' href='#477250'><time timestamp='2016-07-01T12:11:00Z'>12:11</time></a>
&lt;<span class='nick nick-8'> murch</span>&gt;
Well, I hope that I&#x27;ll be able to provide some real improvements in the following months. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1467375120' id='477251'>
<a class='timestamp' href='#477251'><time timestamp='2016-07-01T12:12:00Z'>12:12</time></a>
&lt;<span class='nick nick-8'> murch</span>&gt;
Although I was surprised how well the current implementation does. It&#x27;s not trivial to improve on it, and not make it deterministic in some fashion. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1467375180' id='477252'>
<a class='timestamp' href='#477252'><time timestamp='2016-07-01T12:13:00Z'>12:13</time></a>
&lt;<span class='nick nick-8'> murch</span>&gt;
Oh, and providing some metrics to compare Coin Selection approaches is the focus of the work
<br>
</div>

<div class='talk op-msg' data-timestamp='1467375180' id='477253'>
<a class='timestamp' href='#477253'><time timestamp='2016-07-01T12:13:00Z'>12:13</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
I hope so too!
<br>
</div>

<div class='talk op-msg' data-timestamp='1467375240' id='477254'>
<a class='timestamp' href='#477254'><time timestamp='2016-07-01T12:14:00Z'>12:14</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
good to hear the current approach is fairly good, on the other hand, that is going to make it even harder to replace by something better :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1467375240' id='477255'>
<a class='timestamp' href='#477255'><time timestamp='2016-07-01T12:14:00Z'>12:14</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
I think the most common complaints are that it does bad with very large wallets, or containing lots of small inputs
<br>
</div>

<div class='talk op-msg' data-timestamp='1467375240' id='477256'>
<a class='timestamp' href='#477256'><time timestamp='2016-07-01T12:14:00Z'>12:14</time></a>
&lt;<span class='nick nick-8'> murch</span>&gt;
By the way, wumpus, do you know of any other wallet usage data? I got the moneypot.com wallet from #4096, but more good testcases would be grand.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467375240' id='477257'>
<a class='timestamp' href='#477257'><time timestamp='2016-07-01T12:14:00Z'>12:14</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
apart from that it&#x27;s not something people usually stumble upon
<br>
</div>

<div class='talk op-msg' data-timestamp='1467375300' id='477258'>
<a class='timestamp' href='#477258'><time timestamp='2016-07-01T12:15:00Z'>12:15</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
no, unfortunately not
<br>
</div>

<div class='talk op-msg' data-timestamp='1467375360' id='477259'>
<a class='timestamp' href='#477259'><time timestamp='2016-07-01T12:16:00Z'>12:16</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
I don&#x27;t have any realistic big wallets
<br>
</div>

<div class='talk op-msg' data-timestamp='1467375360' id='477260'>
<a class='timestamp' href='#477260'><time timestamp='2016-07-01T12:16:00Z'>12:16</time></a>
&lt;<span class='nick nick-8'> murch</span>&gt;
Okay, too bad. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1467375360' id='477261'>
<a class='timestamp' href='#477261'><time timestamp='2016-07-01T12:16:00Z'>12:16</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
(this is also an issue which has existed from 2011, which affects both coin selection and general wallet scaling work, people with big wallets are very reluctant to share them even with developers :-) )
<br>
</div>

<div class='talk op-msg' data-timestamp='1467375420' id='477262'>
<a class='timestamp' href='#477262'><time timestamp='2016-07-01T12:17:00Z'>12:17</time></a>
&lt;<span class='nick nick-8'> murch</span>&gt;
Yeah, I&#x27;d imagine. :-/
<br>
</div>

<div class='talk op-msg' data-timestamp='1467375480' id='477263'>
<a class='timestamp' href='#477263'><time timestamp='2016-07-01T12:18:00Z'>12:18</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
which is also why I always encourage companies which have to cope with them to get involved in development themselves, that avoids having to share anything with third parties
<br>
</div>

<div class='talk op-msg' data-timestamp='1467375480' id='477264'>
<a class='timestamp' href='#477264'><time timestamp='2016-07-01T12:18:00Z'>12:18</time></a>
&lt;<span class='nick nick-8'> murch</span>&gt;
The code in wallet.cpp is pretty hard to understand, too. I&#x27;d love to refactor it, maybe even to just understand it properlyâ€¦
<br>
</div>

<div class='talk op-msg' data-timestamp='1467375480' id='477265'>
<a class='timestamp' href='#477265'><time timestamp='2016-07-01T12:18:00Z'>12:18</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
phantomcircuit is working on that too
<br>
</div>

<div class='talk op-msg' data-timestamp='1467375480' id='477266'>
<a class='timestamp' href='#477266'><time timestamp='2016-07-01T12:18:00Z'>12:18</time></a>
&lt;<span class='nick nick-8'> murch</span>&gt;
oh really?!
<br>
</div>

<div class='talk op-msg' data-timestamp='1467375540' id='477267'>
<a class='timestamp' href='#477267'><time timestamp='2016-07-01T12:19:00Z'>12:19</time></a>
&lt;<span class='nick nick-8'> murch</span>&gt;
mh, just refactoring it, or also improving?
<br>
</div>

<div class='talk op-msg' data-timestamp='1467375540' id='477268'>
<a class='timestamp' href='#477268'><time timestamp='2016-07-01T12:19:00Z'>12:19</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
in a way it&#x27;s kind of a chicken and egg problem though, people rarely dare to change things <b>*becuase*</b> they&#x27;re not sure how they work exactly, but evaluating refactors is also made hard by that because it&#x27;s non-trivial to see that behavior stays the same
<br>
</div>

<div class='talk op-msg' data-timestamp='1467375600' id='477269'>
<a class='timestamp' href='#477269'><time timestamp='2016-07-01T12:20:00Z'>12:20</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
both, but not coin selection AFAIK
<br>
</div>

<div class='talk op-msg' data-timestamp='1467375600' id='477270'>
<a class='timestamp' href='#477270'><time timestamp='2016-07-01T12:20:00Z'>12:20</time></a>
&lt;<span class='nick nick-8'> murch</span>&gt;
Yeah, on the other hand it&#x27;s in a state where it is really hard to add unittests to check whether the behavior remains unchanged.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467375600' id='477271'>
<a class='timestamp' href='#477271'><time timestamp='2016-07-01T12:20:00Z'>12:20</time></a>
&lt;<span class='nick nick-8'> murch</span>&gt;
okay, excellent
<br>
</div>

<div class='talk op-msg' data-timestamp='1467375600' id='477272'>
<a class='timestamp' href='#477272'><time timestamp='2016-07-01T12:20:00Z'>12:20</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
yes, that too.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467375780' id='477273'>
<a class='timestamp' href='#477273'><time timestamp='2016-07-01T12:23:00Z'>12:23</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
and years of proposals of doing things differently have made me think that it being hard to understand is not so much a result of the organizatin of wallet.cpp, but that the underlying subject matter is hard
<br>
</div>

<div class='talk op-msg' data-timestamp='1467375840' id='477274'>
<a class='timestamp' href='#477274'><time timestamp='2016-07-01T12:24:00Z'>12:24</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
people tend to read the code and then blame that the code is difficult, but it&#x27;s not entirely clear whether it is <b>*unnecessarily*</b> difficult
<br>
</div>

<div class='talk op-msg' data-timestamp='1467375900' id='477275'>
<a class='timestamp' href='#477275'><time timestamp='2016-07-01T12:25:00Z'>12:25</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
it&#x27;s clearly a complex problem too
<br>
</div>

<div class='talk op-msg' data-timestamp='1467375900' id='477276'>
<a class='timestamp' href='#477276'><time timestamp='2016-07-01T12:25:00Z'>12:25</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
maybe it could be divided up into better manageb;e sub-problems though
<br>
</div>

<div class='talk op-msg' data-timestamp='1467375900' id='477277'>
<a class='timestamp' href='#477277'><time timestamp='2016-07-01T12:25:00Z'>12:25</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
manageable*
<br>
</div>

<div class='talk op-msg' data-timestamp='1467376020' id='477278'>
<a class='timestamp' href='#477278'><time timestamp='2016-07-01T12:27:00Z'>12:27</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
the thing is, before wallet.cpp was written, cryptocurrency wallets was a problem no one ever considered before, it was necessarily ad-hoc
<br>
</div>

<div class='talk op-msg' data-timestamp='1467376080' id='477279'>
<a class='timestamp' href='#477279'><time timestamp='2016-07-01T12:28:00Z'>12:28</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
this is very different from say, a web server, where everyone knows what is expected from it, how it usually should be structured, and so on
<br>
</div>

<div class='talk op-msg' data-timestamp='1467376200' id='477280'>
<a class='timestamp' href='#477280'><time timestamp='2016-07-01T12:30:00Z'>12:30</time></a>
&lt;<span class='nick nick-8'> murch</span>&gt;
wumpus: It&#x27;s surely complicated, but there are some methods that could be extract, and some things are just somewhat obfuscated by very brief variable names. E.g. I&#x27;ve been looking at how and when the fee gets decided for the transaction and it&#x27;s still baffling me.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467376200' id='477281'>
<a class='timestamp' href='#477281'><time timestamp='2016-07-01T12:30:00Z'>12:30</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
so the refactor is also a discovery process, learning how to best structure this novel application
<br>
</div>

<div class='talk op-msg' data-timestamp='1467376320' id='477282'>
<a class='timestamp' href='#477282'><time timestamp='2016-07-01T12:32:00Z'>12:32</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
well yes it&#x27;s complicated - but does it need to be complicated, is there a less complex way that would be just as good ,or better? would that simpler way still satisfy the requirements? (and in some cases: what are the requirements, even?)
<br>
</div>

<div class='talk op-msg' data-timestamp='1467376440' id='477283'>
<a class='timestamp' href='#477283'><time timestamp='2016-07-01T12:34:00Z'>12:34</time></a>
&lt;<span class='nick nick-8'> murch</span>&gt;
wumpus: I think it could be more comprehensible if key management and coin selection were separated into different classe for example. They are pretty far apart for being part of one class.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467376440' id='477284'>
<a class='timestamp' href='#477284'><time timestamp='2016-07-01T12:34:00Z'>12:34</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
things like variable names are trivialities, sure, on first reading of the code it helps to have better names, but once you learn what they are it doesn&#x27;t really matter what they are anymore (e.g. mathematicians do fine with names such as a b c :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1467376440' id='477285'>
<a class='timestamp' href='#477285'><time timestamp='2016-07-01T12:34:00Z'>12:34</time></a>
&lt;<span class='nick nick-8'> murch</span>&gt;
Most of Coin Selection could actually be completely static, as it basically is just reliant on the spending target, the UTXO set and the desired fee level.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467376440' id='477286'>
<a class='timestamp' href='#477286'><time timestamp='2016-07-01T12:34:00Z'>12:34</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
yes coin selection is a clear unit
<br>
</div>

<div class='talk op-msg' data-timestamp='1467376500' id='477287'>
<a class='timestamp' href='#477287'><time timestamp='2016-07-01T12:35:00Z'>12:35</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
I think it would be nice to factor it out to a separate unit with a separate interface, that just gets the information that it needs and returns the selected list
<br>
</div>

<div class='talk op-msg' data-timestamp='1467376500' id='477288'>
<a class='timestamp' href='#477288'><time timestamp='2016-07-01T12:35:00Z'>12:35</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
this would also be useful for simulations
<br>
</div>

<div class='talk op-msg' data-timestamp='1467376500' id='477289'>
<a class='timestamp' href='#477289'><time timestamp='2016-07-01T12:35:00Z'>12:35</time></a>
&lt;<span class='nick nick-8'> murch</span>&gt;
well, wallet.cpp is just a bit of a moloch to delve into at 3500 LOC. ;)
<br>
</div>

<div class='talk op-msg' data-timestamp='1467376500' id='477290'>
<a class='timestamp' href='#477290'><time timestamp='2016-07-01T12:35:00Z'>12:35</time></a>
&lt;<span class='nick nick-8'> murch</span>&gt;
wumpus: exactly
<br>
</div>

<div class='talk op-msg' data-timestamp='1467376500' id='477291'>
<a class='timestamp' href='#477291'><time timestamp='2016-07-01T12:35:00Z'>12:35</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
I&#x27;ve seen so much worse at some companies I&#x27;ve worked at :-)
<br>
</div>

<div class='talk op-msg' data-timestamp='1467376560' id='477292'>
<a class='timestamp' href='#477292'><time timestamp='2016-07-01T12:36:00Z'>12:36</time></a>
&lt;<span class='nick nick-8'> murch</span>&gt;
Also, adding, watching and tracking UTXO could probably be separated off
<br>
</div>

<div class='talk op-msg' data-timestamp='1467376560' id='477293'>
<a class='timestamp' href='#477293'><time timestamp='2016-07-01T12:36:00Z'>12:36</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
yes, that would make sense
<br>
</div>

<div class='talk op-msg' data-timestamp='1467376620' id='477294'>
<a class='timestamp' href='#477294'><time timestamp='2016-07-01T12:37:00Z'>12:37</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
did you see <a href="https://github.com/bitcoin/bitcoin/pull/7823" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/7823</a> ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1467376680' id='477295'>
<a class='timestamp' href='#477295'><time timestamp='2016-07-01T12:38:00Z'>12:38</time></a>
&lt;<span class='nick nick-8'> murch</span>&gt;
nope, but I just subscribed.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467376680' id='477296'>
<a class='timestamp' href='#477296'><time timestamp='2016-07-01T12:38:00Z'>12:38</time></a>
&lt;<span class='nick nick-8'> murch</span>&gt;
I am not nearly as familiar with the github repository as I&#x27;d like. :-/
<br>
</div>

<div class='talk op-msg' data-timestamp='1467376680' id='477297'>
<a class='timestamp' href='#477297'><time timestamp='2016-07-01T12:38:00Z'>12:38</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
the idea is quite nice, but it&#x27;s <b>*hard*</b> to see what its interaction with different things would be, such as reorganizations and conflicts
<br>
</div>

<div class='talk op-msg' data-timestamp='1467376680' id='477298'>
<a class='timestamp' href='#477298'><time timestamp='2016-07-01T12:38:00Z'>12:38</time></a>
&lt;<span class='nick nick-8'> murch</span>&gt;
I should probably check out all issues tagged with &quot;wallet&quot; soon.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467376680' id='477299'>
<a class='timestamp' href='#477299'><time timestamp='2016-07-01T12:38:00Z'>12:38</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
yes :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1467376740' id='477300'>
<a class='timestamp' href='#477300'><time timestamp='2016-07-01T12:39:00Z'>12:39</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
in any case, coin selection in itself is enough of a subject to fill a master&#x27;s thesis I think, I&#x27;d warn against scope creep, or trying to fix the world at once :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1467376740' id='477301'>
<a class='timestamp' href='#477301'><time timestamp='2016-07-01T12:39:00Z'>12:39</time></a>
&lt;<span class='nick nick-8'> murch</span>&gt;
hehe
<br>
</div>

<div class='talk op-msg' data-timestamp='1467376860' id='477302'>
<a class='timestamp' href='#477302'><time timestamp='2016-07-01T12:41:00Z'>12:41</time></a>
&lt;<span class='nick nick-8'> murch</span>&gt;
yeah, it&#x27;s a bit overwhelming at times. I&#x27;ve been reading about Subset Sum solvers the past days, and delving through wallet.cpp to understand how fees are handled.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467376920' id='477303'>
<a class='timestamp' href='#477303'><time timestamp='2016-07-01T12:42:00Z'>12:42</time></a>
&lt;<span class='nick nick-8'> murch</span>&gt;
Anyway, back to work. ;) TTYL
<br>
</div>

<div class='talk op-msg' data-timestamp='1467376980' id='477304'>
<a class='timestamp' href='#477304'><time timestamp='2016-07-01T12:43:00Z'>12:43</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
later :) hope you manage to make head and tail of it
<br>
</div>

<div class='talk op-msg' data-timestamp='1467376980' id='477305'>
<a class='timestamp' href='#477305'><time timestamp='2016-07-01T12:43:00Z'>12:43</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
hm the new option -blockmaxcost is going to give user understanding problems: <a href="https://github.com/bitcoin/bitcoin/blob/master/src/init.cpp#L455" class="link" target="_blank">https://github.com/bitcoin/bitcoin/blob/master/src/init.cpp#L455</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1467376980' id='477306'>
<a class='timestamp' href='#477306'><time timestamp='2016-07-01T12:43:00Z'>12:43</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
should this be a hidden/debug option? if not, it should be documented better
<br>
</div>

<div class='talk op-msg' data-timestamp='1467379080' id='477307'>
<a class='timestamp' href='#477307'><time timestamp='2016-07-01T13:18:00Z'>13:18</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sipa, wumpus: Do I get this right: -reindex does re-create the block index and recreates the utxo set (including all signature validation)    while -reindex-chainstate will only recreate the utxo set with the current block index?
<br>
</div>

<div class='talk op-msg' data-timestamp='1467379200' id='477308'>
<a class='timestamp' href='#477308'><time timestamp='2016-07-01T13:20:00Z'>13:20</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
wumpus: -blockmaxcost is supposed to be the recommended way to configure the mining code, going forward
<br>
</div>

<div class='talk op-msg' data-timestamp='1467379260' id='477309'>
<a class='timestamp' href='#477309'><time timestamp='2016-07-01T13:21:00Z'>13:21</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
wumpus: and -blockmaxsize is in the we-want-to-deprecate-in-the-future category
<br>
</div>

<div class='talk op-msg' data-timestamp='1467379260' id='477310'>
<a class='timestamp' href='#477310'><time timestamp='2016-07-01T13:21:00Z'>13:21</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
(the mining code is optimizing for fee-per-block-cost, not fee-per-serialized-byte)
<br>
</div>

<div class='talk op-msg' data-timestamp='1467379320' id='477311'>
<a class='timestamp' href='#477311'><time timestamp='2016-07-01T13:22:00Z'>13:22</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
but yes, we need to document all this before release
<br>
</div>

<div class='talk op-msg' data-timestamp='1467379320' id='477312'>
<a class='timestamp' href='#477312'><time timestamp='2016-07-01T13:22:00Z'>13:22</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
heh, yeah that --help message text is not very informative
<br>
</div>

<div class='talk op-msg' data-timestamp='1467379800' id='477313'>
<a class='timestamp' href='#477313'><time timestamp='2016-07-01T13:30:00Z'>13:30</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
sdaftuar: a translator was wondering what kind of cost this was, I think they assume that it&#x27;s something with fee
<br>
</div>

<div class='talk op-msg' data-timestamp='1467379860' id='477314'>
<a class='timestamp' href='#477314'><time timestamp='2016-07-01T13:31:00Z'>13:31</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
jonasschnelli: correct
<br>
</div>

<div class='talk op-msg' data-timestamp='1467379860' id='477315'>
<a class='timestamp' href='#477315'><time timestamp='2016-07-01T13:31:00Z'>13:31</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
oops.  yeah that is bad language
<br>
</div>

<div class='talk op-msg' data-timestamp='1467379860' id='477316'>
<a class='timestamp' href='#477316'><time timestamp='2016-07-01T13:31:00Z'>13:31</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
what&#x27;s the timeline for improving that text, is it too late for making changes now that affect translation?
<br>
</div>

<div class='talk op-msg' data-timestamp='1467379920' id='477317'>
<a class='timestamp' href='#477317'><time timestamp='2016-07-01T13:32:00Z'>13:32</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
i guess we can just document in the release notes?
<br>
</div>

<div class='talk op-msg' data-timestamp='1467379920' id='477318'>
<a class='timestamp' href='#477318'><time timestamp='2016-07-01T13:32:00Z'>13:32</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
well given that translators are confused by it (and hence unable to translate it effectiely) I wouldn&#x27;t mind changing the message
<br>
</div>

<div class='talk op-msg' data-timestamp='1467379980' id='477319'>
<a class='timestamp' href='#477319'><time timestamp='2016-07-01T13:33:00Z'>13:33</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
there also needs to be mention in the release notes, but release notes aren&#x27;t really documentation, just &#x27;news&#x27;
<br>
</div>

<div class='talk op-msg' data-timestamp='1467379980' id='477320'>
<a class='timestamp' href='#477320'><time timestamp='2016-07-01T13:33:00Z'>13:33</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
e.g. you wouldn&#x27;t assume that someone that is looking for documentation for an option to go through all previous release notes to find it documented
<br>
</div>

<div class='talk op-msg' data-timestamp='1467379980' id='477321'>
<a class='timestamp' href='#477321'><time timestamp='2016-07-01T13:33:00Z'>13:33</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
a simple change might just be to reference the BIP where it&#x27;s defined; that wouldn&#x27;t necessarily impose an additional burden on translators if it&#x27;s just &quot;(BIP 141)&quot; or something at the end of it
<br>
</div>

<div class='talk op-msg' data-timestamp='1467380040' id='477322'>
<a class='timestamp' href='#477322'><time timestamp='2016-07-01T13:34:00Z'>13:34</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
what needs to be made clear is that this is just an abstract cost
<br>
</div>

<div class='talk op-msg' data-timestamp='1467380040' id='477323'>
<a class='timestamp' href='#477323'><time timestamp='2016-07-01T13:34:00Z'>13:34</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
referencing the BIp would make sense, yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1467380040' id='477324'>
<a class='timestamp' href='#477324'><time timestamp='2016-07-01T13:34:00Z'>13:34</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
in any case, even if it&#x27;s too late for this to be translated, a better english documentation message would go further than a confusing translated one :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1467380100' id='477325'>
<a class='timestamp' href='#477325'><time timestamp='2016-07-01T13:35:00Z'>13:35</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
agreed!
<br>
</div>

<div class='talk op-msg' data-timestamp='1467380100' id='477326'>
<a class='timestamp' href='#477326'><time timestamp='2016-07-01T13:35:00Z'>13:35</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
perhaps block cost shouldn&#x27;t be translated at all actually, if we&#x27;re referencing the BIP
<br>
</div>

<div class='talk op-msg' data-timestamp='1467380340' id='477327'>
<a class='timestamp' href='#477327'><time timestamp='2016-07-01T13:39:00Z'>13:39</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
i updated #8294 so we don&#x27;t forget this
<br>
</div>

<div class='talk op-msg' data-timestamp='1467380580' id='477328'>
<a class='timestamp' href='#477328'><time timestamp='2016-07-01T13:43:00Z'>13:43</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
gmaxwell: I don&#x27;t think lack of progress in improving of coinselection is due to the test hardcoding the behavior.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467380580' id='477329'>
<a class='timestamp' href='#477329'><time timestamp='2016-07-01T13:43:00Z'>13:43</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
Right now they save us from introducing accidental regressions, which is nice
<br>
</div>

<div class='talk op-msg' data-timestamp='1467380640' id='477330'>
<a class='timestamp' href='#477330'><time timestamp='2016-07-01T13:44:00Z'>13:44</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
If someone comes up with a new idea, the unit test need to go anyway and will be replaced by new ones, so not really an issue
<br>
</div>

<div class='talk op-msg' data-timestamp='1467380700' id='477331'>
<a class='timestamp' href='#477331'><time timestamp='2016-07-01T13:45:00Z'>13:45</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
Also the 25% to 400% performance loss may be flawed, as the coin generator was not adjusted to what happens in the real network
<br>
</div>

<div class='talk op-msg' data-timestamp='1467380700' id='477332'>
<a class='timestamp' href='#477332'><time timestamp='2016-07-01T13:45:00Z'>13:45</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
(re simulation)
<br>
</div>

<div class='talk op-msg' data-timestamp='1467380820' id='477333'>
<a class='timestamp' href='#477333'><time timestamp='2016-07-01T13:47:00Z'>13:47</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
I remember there was a site which put every address which was ever in a wallet. (Combining whenever two addresses happen to be used in the inputs of the same tx)
<br>
</div>

<div class='talk op-msg' data-timestamp='1467380820' id='477334'>
<a class='timestamp' href='#477334'><time timestamp='2016-07-01T13:47:00Z'>13:47</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
This could be useful to verify coin generators in simulations are doing their job properly
<br>
</div>

<div class='talk op-msg' data-timestamp='1467385200' id='477335'>
<a class='timestamp' href='#477335'><time timestamp='2016-07-01T15:00:00Z'>15:00</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
wumpus: gmaxwell: i donâ€™t feel strongly enough to make a big argument about it, but if it was up to me i wouldnâ€™t bother reverting 4906.  I agree that we didnâ€™t have sufficient justification to merge it in the first place, but we already crossed that bridge, and discussed it after the fact (more than once).   Iâ€™m not sure weâ€™re confident enough that its clearly worse to risk making the same mistake in the other directi
<br>
</div>

<div class='talk op-msg' data-timestamp='1467385260' id='477336'>
<a class='timestamp' href='#477336'><time timestamp='2016-07-01T15:01:00Z'>15:01</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
direction by reverting it
<br>
</div>

<div class='talk op-msg' data-timestamp='1467385260' id='477337'>
<a class='timestamp' href='#477337'><time timestamp='2016-07-01T15:01:00Z'>15:01</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
I suppose my point is Iâ€™d err on the side of being conservative with changes to coin selection and only making them when someone has put in the effort to really study them.  Since 0.12 has been out for a while running with 4906, it now seems like a change to me to revert it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467386040' id='477338'>
<a class='timestamp' href='#477338'><time timestamp='2016-07-01T15:14:00Z'>15:14</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sipa: A full IBD (against random peers) with current master took ~3h4min, a -reindex-chainstate took ~1h10min
<br>
</div>

<div class='talk op-msg' data-timestamp='1467386100' id='477339'>
<a class='timestamp' href='#477339'><time timestamp='2016-07-01T15:15:00Z'>15:15</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
<a href="http://bitcoinsrv.jonasschnelli.ch/log.reindex-chainstate.nodebug.da5099.txt" class="link" target="_blank">http://bitcoinsrv.jonasschnelli.ch/log.reindex-chainstate.nodebug.da5099.txt</a>, <a href="http://bitcoinsrv.jonasschnelli.ch/log.reindex-chainstate.nodebug.da5099.full.txt" class="link" target="_blank">http://bitcoinsrv.jonasschnelli.ch/log.reindex-chainstate.nodebug.da5099.full.txt</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1467386100' id='477340'>
<a class='timestamp' href='#477340'><time timestamp='2016-07-01T15:15:00Z'>15:15</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
IBD: <a href="http://bitcoinsrv.jonasschnelli.ch/log.ibd.nodebug.da5099.txt" class="link" target="_blank">http://bitcoinsrv.jonasschnelli.ch/log.ibd.nodebug.da5099.txt</a>, <a href="http://bitcoinsrv.jonasschnelli.ch/log.ibd.nodebug.da5099.full.txt" class="link" target="_blank">http://bitcoinsrv.jonasschnelli.ch/log.ibd.nodebug.da5099.full.txt</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1467386100' id='477341'>
<a class='timestamp' href='#477341'><time timestamp='2016-07-01T15:15:00Z'>15:15</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
now doing a full -reindex
<br>
</div>

<div class='talk op-msg' data-timestamp='1467386100' id='477342'>
<a class='timestamp' href='#477342'><time timestamp='2016-07-01T15:15:00Z'>15:15</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Used -dbcache=8000 for both runs
<br>
</div>

<div class='talk op-msg' data-timestamp='1467387420' id='477343'>
<a class='timestamp' href='#477343'><time timestamp='2016-07-01T15:37:00Z'>15:37</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
morcos: I don&#x27;t think &#x27;we crossed that bridge&#x27; is a good argument, if this was no improvement, it should not have been merged, and it should be reverted (it should have been reverted a long time ago!)
<br>
</div>

<div class='talk op-msg' data-timestamp='1467387420' id='477344'>
<a class='timestamp' href='#477344'><time timestamp='2016-07-01T15:37:00Z'>15:37</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
morcos: I don&#x27;t see any reason to keep the code if it i not an improvement
<br>
</div>

<div class='talk op-msg' data-timestamp='1467387420' id='477345'>
<a class='timestamp' href='#477345'><time timestamp='2016-07-01T15:37:00Z'>15:37</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
and if we should be conservative about changes to coin selection, which we should have been in the first place, then again we shouldn&#x27;t have this change without understanding it
<br>
</div>

<div class='talk op-msg' data-timestamp='1467387480' id='477346'>
<a class='timestamp' href='#477346'><time timestamp='2016-07-01T15:38:00Z'>15:38</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
wumpus: ok like i said i won&#x27;t argue, it just makes me nervous that somehow reverting could be worse (interaction with something else that changed that we&#x27;re not considering), but i don&#x27;t have any reason to believe that
<br>
</div>

<div class='talk op-msg' data-timestamp='1467387480' id='477347'>
<a class='timestamp' href='#477347'><time timestamp='2016-07-01T15:38:00Z'>15:38</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
I don&#x27;t think having the mistake out in 0.12 is  a reason to keep it now
<br>
</div>

<div class='talk op-msg' data-timestamp='1467387480' id='477348'>
<a class='timestamp' href='#477348'><time timestamp='2016-07-01T15:38:00Z'>15:38</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
don&#x27;t get attached to your mistakes :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1467387480' id='477349'>
<a class='timestamp' href='#477349'><time timestamp='2016-07-01T15:38:00Z'>15:38</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
i won&#x27;t get attached to somebody&#x27;s mistakes  :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1467387540' id='477350'>
<a class='timestamp' href='#477350'><time timestamp='2016-07-01T15:39:00Z'>15:39</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
then again I don&#x27;t feel strongly about it either, but I&#x27;m tired of it coming up every time
<br>
</div>

<div class='talk op-msg' data-timestamp='1467387540' id='477351'>
<a class='timestamp' href='#477351'><time timestamp='2016-07-01T15:39:00Z'>15:39</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
let&#x27;s just make a damn decision about it
<br>
</div>

<div class='talk op-msg' data-timestamp='1467387540' id='477352'>
<a class='timestamp' href='#477352'><time timestamp='2016-07-01T15:39:00Z'>15:39</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
I&#x27;m sure if we decide not to revert it now, then someone will bring it up again after a month or so
<br>
</div>

<div class='talk op-msg' data-timestamp='1467387540' id='477353'>
<a class='timestamp' href='#477353'><time timestamp='2016-07-01T15:39:00Z'>15:39</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
I don&#x27;t want this following me around forever
<br>
</div>

<div class='talk op-msg' data-timestamp='1467387660' id='477354'>
<a class='timestamp' href='#477354'><time timestamp='2016-07-01T15:41:00Z'>15:41</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
I don&#x27;t see how this could interact with anything else
<br>
</div>

<div class='talk op-msg' data-timestamp='1467387840' id='477355'>
<a class='timestamp' href='#477355'><time timestamp='2016-07-01T15:44:00Z'>15:44</time></a>
&lt;<span class='nick nick-6'> bsm1175321</span>&gt;
Woah.  I just built github master and on testnet something has gone horribly wrong: I have a negative balance!
<br>
</div>

<div class='talk op-msg' data-timestamp='1467387900' id='477356'>
<a class='timestamp' href='#477356'><time timestamp='2016-07-01T15:45:00Z'>15:45</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
bsm1175321: checked how?
<br>
</div>

<div class='talk op-msg' data-timestamp='1467387900' id='477357'>
<a class='timestamp' href='#477357'><time timestamp='2016-07-01T15:45:00Z'>15:45</time></a>
&lt;<span class='nick nick-6'> bsm1175321</span>&gt;
|mcelrath@jane:~&gt; bitcoin-cli -testnet getbalance &#x27;&#x27;
<br>
</div>

<div class='talk op-msg' data-timestamp='1467387900' id='477358'>
<a class='timestamp' href='#477358'><time timestamp='2016-07-01T15:45:00Z'>15:45</time></a>
&lt;<span class='nick nick-6'> bsm1175321</span>&gt;
-56.85287200
<br>
</div>

<div class='talk op-msg' data-timestamp='1467387900' id='477359'>
<a class='timestamp' href='#477359'><time timestamp='2016-07-01T15:45:00Z'>15:45</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
drop the &#x27;&#x27;
<br>
</div>

<div class='talk op-msg' data-timestamp='1467387900' id='477360'>
<a class='timestamp' href='#477360'><time timestamp='2016-07-01T15:45:00Z'>15:45</time></a>
&lt;<span class='nick nick-6'> bsm1175321</span>&gt;
It seems to have suddenly fixed itself.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467387900' id='477361'>
<a class='timestamp' href='#477361'><time timestamp='2016-07-01T15:45:00Z'>15:45</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
you&#x27;re computing an account balance
<br>
</div>

<div class='talk op-msg' data-timestamp='1467387900' id='477362'>
<a class='timestamp' href='#477362'><time timestamp='2016-07-01T15:45:00Z'>15:45</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
not the wallet balance
<br>
</div>

<div class='talk op-msg' data-timestamp='1467387900' id='477363'>
<a class='timestamp' href='#477363'><time timestamp='2016-07-01T15:45:00Z'>15:45</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
you used to wrong way to query your balance! woe you!
<br>
</div>

<div class='talk op-msg' data-timestamp='1467387960' id='477364'>
<a class='timestamp' href='#477364'><time timestamp='2016-07-01T15:46:00Z'>15:46</time></a>
&lt;<span class='nick nick-6'> bsm1175321</span>&gt;
Without the quotes I got:
<br>
</div>

<div class='talk op-msg' data-timestamp='1467387960' id='477365'>
<a class='timestamp' href='#477365'><time timestamp='2016-07-01T15:46:00Z'>15:46</time></a>
&lt;<span class='nick nick-6'> bsm1175321</span>&gt;
|mcelrath@jane:~&gt; bitcoin-cli -testnet getbalance 
<br>
</div>

<div class='talk op-msg' data-timestamp='1467387960' id='477366'>
<a class='timestamp' href='#477366'><time timestamp='2016-07-01T15:46:00Z'>15:46</time></a>
&lt;<span class='nick nick-6'> bsm1175321</span>&gt;
0.00000000
<br>
</div>

<div class='talk op-msg' data-timestamp='1467387960' id='477367'>
<a class='timestamp' href='#477367'><time timestamp='2016-07-01T15:46:00Z'>15:46</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
i hesitate to ask this question, but can we finally remove accounts for 0.14
<br>
</div>

<div class='talk op-msg' data-timestamp='1467387960' id='477368'>
<a class='timestamp' href='#477368'><time timestamp='2016-07-01T15:46:00Z'>15:46</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
(we&#x27;re crazy that there are so many, including wrong ways to query your balance)
<br>
</div>

<div class='talk op-msg' data-timestamp='1467387960' id='477369'>
<a class='timestamp' href='#477369'><time timestamp='2016-07-01T15:46:00Z'>15:46</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
talk about having an issue follow us around
<br>
</div>

<div class='talk op-msg' data-timestamp='1467387960' id='477370'>
<a class='timestamp' href='#477370'><time timestamp='2016-07-01T15:46:00Z'>15:46</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
morcos: I tried to push for a label API to replace it
<br>
</div>

<div class='talk op-msg' data-timestamp='1467387960' id='477371'>
<a class='timestamp' href='#477371'><time timestamp='2016-07-01T15:46:00Z'>15:46</time></a>
&lt;<span class='nick nick-6'> bsm1175321</span>&gt;
Which is also wrong.  A few minutes later it seems to have synced up...and is now showing correct balances.  What happened?
<br>
</div>

<div class='talk op-msg' data-timestamp='1467387960' id='477372'>
<a class='timestamp' href='#477372'><time timestamp='2016-07-01T15:46:00Z'>15:46</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
there was a 4000 deep reorg
<br>
</div>

<div class='talk op-msg' data-timestamp='1467387960' id='477373'>
<a class='timestamp' href='#477373'><time timestamp='2016-07-01T15:46:00Z'>15:46</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
morcos: unnecessary to say, it didn&#x27;t get enough attention, and is still lingering, I hope to pick it up again for 0.14
<br>
</div>

<div class='talk op-msg' data-timestamp='1467388020' id='477374'>
<a class='timestamp' href='#477374'><time timestamp='2016-07-01T15:47:00Z'>15:47</time></a>
&lt;<span class='nick nick-6'> bsm1175321</span>&gt;
+1 for getting rid of accounts...
<br>
</div>

<div class='talk op-msg' data-timestamp='1467388020' id='477375'>
<a class='timestamp' href='#477375'><time timestamp='2016-07-01T15:47:00Z'>15:47</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
morcos: <a href="https://github.com/bitcoin/bitcoin/pull/7729" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/7729</a>   I think the release after that we can really remove the account functionality
<br>
</div>

<div class='talk op-msg' data-timestamp='1467388020' id='477376'>
<a class='timestamp' href='#477376'><time timestamp='2016-07-01T15:47:00Z'>15:47</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
wumpus: ok 3rd topic. i thought i head you guys mention that something has gotten slower recently.  is it just reindex, or actually something with connecting blocks?
<br>
</div>

<div class='talk op-msg' data-timestamp='1467388080' id='477377'>
<a class='timestamp' href='#477377'><time timestamp='2016-07-01T15:48:00Z'>15:48</time></a>
&lt;<span class='nick nick-6'> bsm1175321</span>&gt;
Next question: I need to fund transactions and be sure that their txid is not malleable.  I was hoping &#x27;fundrawtransaction&#x27; had an option to take only segwit inputs, but it seems it does not.  What&#x27;s the best way to achieve this?
<br>
</div>

<div class='talk op-msg' data-timestamp='1467388080' id='477378'>
<a class='timestamp' href='#477378'><time timestamp='2016-07-01T15:48:00Z'>15:48</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
morcos: AFAIK the summary there was: gmaxwell accidentally -txindex
<br>
</div>

<div class='talk op-msg' data-timestamp='1467388080' id='477379'>
<a class='timestamp' href='#477379'><time timestamp='2016-07-01T15:48:00Z'>15:48</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
morcos: and nobody recently tested -reindex with default -dbcache
<br>
</div>

<div class='talk op-msg' data-timestamp='1467388080' id='477380'>
<a class='timestamp' href='#477380'><time timestamp='2016-07-01T15:48:00Z'>15:48</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
wumpus: oh i definitely missed that conclusion. :)  
<br>
</div>

<div class='talk op-msg' data-timestamp='1467388080' id='477381'>
<a class='timestamp' href='#477381'><time timestamp='2016-07-01T15:48:00Z'>15:48</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
morcos: yes, more recent blocks are slower to validate, comapred to older blocks of the same size - but this isn&#x27;t a reversion in the code
<br>
</div>

<div class='talk op-msg' data-timestamp='1467388140' id='477382'>
<a class='timestamp' href='#477382'><time timestamp='2016-07-01T15:49:00Z'>15:49</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
wumpus: wait, yes its that last thing i&#x27;m asking about
<br>
</div>

<div class='talk op-msg' data-timestamp='1467388140' id='477383'>
<a class='timestamp' href='#477383'><time timestamp='2016-07-01T15:49:00Z'>15:49</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
why is that?
<br>
</div>

<div class='talk op-msg' data-timestamp='1467388140' id='477384'>
<a class='timestamp' href='#477384'><time timestamp='2016-07-01T15:49:00Z'>15:49</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
it&#x27;s likely a by-product of increasing utxo size
<br>
</div>

<div class='talk op-msg' data-timestamp='1467388200' id='477385'>
<a class='timestamp' href='#477385'><time timestamp='2016-07-01T15:50:00Z'>15:50</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
and that affecting cache hit rate?
<br>
</div>

<div class='talk op-msg' data-timestamp='1467388200' id='477386'>
<a class='timestamp' href='#477386'><time timestamp='2016-07-01T15:50:00Z'>15:50</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
and the utxo database is reaching the size that leveldb can handle w/ good performance, e.g. now lots of crazy seeking and reading all over your disk, can&#x27;t be good for performance
<br>
</div>

<div class='talk op-msg' data-timestamp='1467388200' id='477387'>
<a class='timestamp' href='#477387'><time timestamp='2016-07-01T15:50:00Z'>15:50</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
oh
<br>
</div>

<div class='talk op-msg' data-timestamp='1467388200' id='477388'>
<a class='timestamp' href='#477388'><time timestamp='2016-07-01T15:50:00Z'>15:50</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
yes that was another hypothesis
<br>
</div>

<div class='talk op-msg' data-timestamp='1467388200' id='477389'>
<a class='timestamp' href='#477389'><time timestamp='2016-07-01T15:50:00Z'>15:50</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
&lt;gmaxwell&gt; I was theorizing that this was from polylog behavior in the database and worrying, but phantomcircuit gave an alternative argument that the reduction in spammy transactions relative to non-spammy ones may be resulting in lower cache hitrates.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467388200' id='477390'>
<a class='timestamp' href='#477390'><time timestamp='2016-07-01T15:50:00Z'>15:50</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
eyeballing the numbers i&#x27;m not seeing a noticeable slowdown since march
<br>
</div>

<div class='talk op-msg' data-timestamp='1467388260' id='477391'>
<a class='timestamp' href='#477391'><time timestamp='2016-07-01T15:51:00Z'>15:51</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
which probably means it&#x27;s a combination of both
<br>
</div>

<div class='talk op-msg' data-timestamp='1467388320' id='477392'>
<a class='timestamp' href='#477392'><time timestamp='2016-07-01T15:52:00Z'>15:52</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
in any case the increased default dbcache should alleviate either problem, at least for a while
<br>
</div>

<div class='talk op-msg' data-timestamp='1467388380' id='477393'>
<a class='timestamp' href='#477393'><time timestamp='2016-07-01T15:53:00Z'>15:53</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
ok, yeah my numbers are with a big dbcache (2G)
<br>
</div>

<div class='talk op-msg' data-timestamp='1467388380' id='477394'>
<a class='timestamp' href='#477394'><time timestamp='2016-07-01T15:53:00Z'>15:53</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
there may be a better way to structure the utxo set on disk - but having looked into other databases it seems that leveldb has the best performance for our use, at least during sync
<br>
</div>

<div class='talk op-msg' data-timestamp='1467388440' id='477395'>
<a class='timestamp' href='#477395'><time timestamp='2016-07-01T15:54:00Z'>15:54</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
if you set a huge dbcache you won&#x27;t notice much, as sipa says it&#x27;s probably why the surprise that indexing was so slow with default dbcache
<br>
</div>

<div class='talk op-msg' data-timestamp='1467388440' id='477396'>
<a class='timestamp' href='#477396'><time timestamp='2016-07-01T15:54:00Z'>15:54</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
for 0.14 we should prioritize working on chainstate backups
<br>
</div>

<div class='talk op-msg' data-timestamp='1467388500' id='477397'>
<a class='timestamp' href='#477397'><time timestamp='2016-07-01T15:55:00Z'>15:55</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
(and vigorously fight the potential push for servers with &#x27;helpful&#x27; backups to download...)
<br>
</div>

<div class='talk op-msg' data-timestamp='1467388680' id='477398'>
<a class='timestamp' href='#477398'><time timestamp='2016-07-01T15:58:00Z'>15:58</time></a>
&lt;<span class='nick nick-6'> bsm1175321</span>&gt;
I need to fund transactions and be sure that their txid is not malleable.  I was hoping &#x27;fundrawtransaction&#x27; had an option to take only segwit inputs, but it seems it does not.  What&#x27;s the best way to achieve this?  (I&#x27;m willing to write such an option if there isn&#x27;t a better way) @sipa?
<br>
</div>

<div class='talk op-msg' data-timestamp='1467388740' id='477399'>
<a class='timestamp' href='#477399'><time timestamp='2016-07-01T15:59:00Z'>15:59</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
bsm1175321: patches welcome :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1467388740' id='477400'>
<a class='timestamp' href='#477400'><time timestamp='2016-07-01T15:59:00Z'>15:59</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
seems like a very useful feature
<br>
</div>

<div class='talk op-msg' data-timestamp='1467388740' id='477401'>
<a class='timestamp' href='#477401'><time timestamp='2016-07-01T15:59:00Z'>15:59</time></a>
&lt;<span class='nick nick-6'> bsm1175321</span>&gt;
Ok so the answer is that this isn&#x27;t possible currently?
<br>
</div>

<div class='talk op-msg' data-timestamp='1467388740' id='477402'>
<a class='timestamp' href='#477402'><time timestamp='2016-07-01T15:59:00Z'>15:59</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
for now, you&#x27;ll need listunspent
<br>
</div>

<div class='talk op-msg' data-timestamp='1467388740' id='477403'>
<a class='timestamp' href='#477403'><time timestamp='2016-07-01T15:59:00Z'>15:59</time></a>
&lt;<span class='nick nick-6'> bsm1175321</span>&gt;
Cool, I&#x27;ll see what I can do.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467388800' id='477404'>
<a class='timestamp' href='#477404'><time timestamp='2016-07-01T16:00:00Z'>16:00</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i believe i&#x27;ve heard someone else ask for the same feature
<br>
</div>

<div class='talk op-msg' data-timestamp='1467389340' id='477405'>
<a class='timestamp' href='#477405'><time timestamp='2016-07-01T16:09:00Z'>16:09</time></a>
&lt;<span class='nick nick-6'> bsm1175321</span>&gt;
One complication with such an option is that it&#x27;s possible for your wallet to have enough funds to fund the transaction, but not enough segregated witness inputs.  A solution would be to create an intermediate transaction whose outputs have segregated witness.  Thoughts?
<br>
</div>

<div class='talk op-msg' data-timestamp='1467389340' id='477406'>
<a class='timestamp' href='#477406'><time timestamp='2016-07-01T16:09:00Z'>16:09</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
fundrawtransaction shouldn&#x27;t do such thing
<br>
</div>

<div class='talk op-msg' data-timestamp='1467389340' id='477407'>
<a class='timestamp' href='#477407'><time timestamp='2016-07-01T16:09:00Z'>16:09</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
imho
<br>
</div>

<div class='talk op-msg' data-timestamp='1467389400' id='477408'>
<a class='timestamp' href='#477408'><time timestamp='2016-07-01T16:10:00Z'>16:10</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but it can fail with a nice error code, instructing you to clean up your wallet
<br>
</div>

<div class='talk op-msg' data-timestamp='1467389400' id='477409'>
<a class='timestamp' href='#477409'><time timestamp='2016-07-01T16:10:00Z'>16:10</time></a>
&lt;<span class='nick nick-6'> bsm1175321</span>&gt;
You&#x27;d rather it fail in such a case?  That&#x27;s fine with me too...
<br>
</div>

<div class='talk op-msg' data-timestamp='1467389400' id='477410'>
<a class='timestamp' href='#477410'><time timestamp='2016-07-01T16:10:00Z'>16:10</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yes, insufficient funds :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1467389400' id='477411'>
<a class='timestamp' href='#477411'><time timestamp='2016-07-01T16:10:00Z'>16:10</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
(or perhaps you should use separate wallets if dealing with that situation is hard)
<br>
</div>

<div class='talk op-msg' data-timestamp='1467389400' id='477412'>
<a class='timestamp' href='#477412'><time timestamp='2016-07-01T16:10:00Z'>16:10</time></a>
&lt;<span class='nick nick-6'> bsm1175321</span>&gt;
What would you expect a user to do in such a case?  Is there a procedure to &quot;clean up your wallet&quot;?  That people will know?
<br>
</div>

<div class='talk op-msg' data-timestamp='1467389460' id='477413'>
<a class='timestamp' href='#477413'><time timestamp='2016-07-01T16:11:00Z'>16:11</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it&#x27;s no different from the situation where you have a wallet with some watchonly coins, and the non-watchonly together are not enough to pay
<br>
</div>

<div class='talk op-msg' data-timestamp='1467389520' id='477414'>
<a class='timestamp' href='#477414'><time timestamp='2016-07-01T16:12:00Z'>16:12</time></a>
&lt;<span class='nick nick-6'> bsm1175321</span>&gt;
True, sort of, except you have the funds.  I&#x27;ll make a descriptive error message.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467389700' id='477415'>
<a class='timestamp' href='#477415'><time timestamp='2016-07-01T16:15:00Z'>16:15</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i think the real solution is that if you have a need for segwit-only inputs, you run with a segwit-only wallet
<br>
</div>

<div class='talk op-msg' data-timestamp='1467389820' id='477416'>
<a class='timestamp' href='#477416'><time timestamp='2016-07-01T16:17:00Z'>16:17</time></a>
&lt;<span class='nick nick-6'> bsm1175321</span>&gt;
In effect that&#x27;s what I&#x27;ll do.  But have to start from a non-segwit wallet.  Or is there a spent-to-myself-segwit-out wallet RPC call?
<br>
</div>

<div class='talk op-msg' data-timestamp='1467389880' id='477417'>
<a class='timestamp' href='#477417'><time timestamp='2016-07-01T16:18:00Z'>16:18</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
you can just use sendtoaddress to send from the old wallet to the new?
<br>
</div>

<div class='talk op-msg' data-timestamp='1467389940' id='477418'>
<a class='timestamp' href='#477418'><time timestamp='2016-07-01T16:19:00Z'>16:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
also, wallet integration of segwit is really preliminary at this point
<br>
</div>

<div class='talk op-msg' data-timestamp='1467389940' id='477419'>
<a class='timestamp' href='#477419'><time timestamp='2016-07-01T16:19:00Z'>16:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
for example, change outputs won&#x27;t be segwit
<br>
</div>

<div class='talk op-msg' data-timestamp='1467389940' id='477420'>
<a class='timestamp' href='#477420'><time timestamp='2016-07-01T16:19:00Z'>16:19</time></a>
&lt;<span class='nick nick-6'> bsm1175321</span>&gt;
ooohhh...hmmm...
<br>
</div>

<div class='talk op-msg' data-timestamp='1467390000' id='477421'>
<a class='timestamp' href='#477421'><time timestamp='2016-07-01T16:20:00Z'>16:20</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
(which they should be when it becomes ready for production, but that&#x27;s not done yet)
<br>
</div>

<div class='talk op-msg' data-timestamp='1467390060' id='477422'>
<a class='timestamp' href='#477422'><time timestamp='2016-07-01T16:21:00Z'>16:21</time></a>
&lt;<span class='nick nick-6'> bsm1175321</span>&gt;
Well if you &#x27;fundrawtransaction ... segwitOnly&#x27; I can make it use a segwit change address.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467390060' id='477423'>
<a class='timestamp' href='#477423'><time timestamp='2016-07-01T16:21:00Z'>16:21</time></a>
&lt;<span class='nick nick-6'> bsm1175321</span>&gt;
Or you can add an explicit change address
<br>
</div>

<div class='talk op-msg' data-timestamp='1467390120' id='477424'>
<a class='timestamp' href='#477424'><time timestamp='2016-07-01T16:22:00Z'>16:22</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
true
<br>
</div>

<div class='talk op-msg' data-timestamp='1467390120' id='477425'>
<a class='timestamp' href='#477425'><time timestamp='2016-07-01T16:22:00Z'>16:22</time></a>
&lt;<span class='nick nick-6'> bsm1175321</span>&gt;
If no objections, I&#x27;ll make the &#x27;segwitOnly&#x27; option take only segwit inputs, and generate segwit change.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467390900' id='477426'>
<a class='timestamp' href='#477426'><time timestamp='2016-07-01T16:35:00Z'>16:35</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
what is/is there a way to link to an external secp library during compilation?
<br>
</div>

<div class='talk op-msg' data-timestamp='1467391260' id='477427'>
<a class='timestamp' href='#477427'><time timestamp='2016-07-01T16:41:00Z'>16:41</time></a>
&lt;<span class='nick nick-6'> bsm1175321</span>&gt;
sipa: do you have a &quot;wallet wishlist&quot; for segwit?  I&#x27;m seeing that a lot of infrastructure is missing here.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467391380' id='477428'>
<a class='timestamp' href='#477428'><time timestamp='2016-07-01T16:43:00Z'>16:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
bsm1175321: thinks like default witness addresses
<br>
</div>

<div class='talk op-msg' data-timestamp='1467391380' id='477429'>
<a class='timestamp' href='#477429'><time timestamp='2016-07-01T16:43:00Z'>16:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
post softfork
<br>
</div>

<div class='talk op-msg' data-timestamp='1467391980' id='477430'>
<a class='timestamp' href='#477430'><time timestamp='2016-07-01T16:53:00Z'>16:53</time></a>
&lt;<span class='nick nick-6'> bsm1175321</span>&gt;
I&#x27;m confused regarding addresses.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467392040' id='477431'>
<a class='timestamp' href='#477431'><time timestamp='2016-07-01T16:54:00Z'>16:54</time></a>
&lt;<span class='nick nick-6'> bsm1175321</span>&gt;
What is the output of &#x27;addwitnessaddress&#x27;?  (what kind of address is that?)
<br>
</div>

<div class='talk op-msg' data-timestamp='1467392220' id='477432'>
<a class='timestamp' href='#477432'><time timestamp='2016-07-01T16:57:00Z'>16:57</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
p2sh
<br>
</div>

<div class='talk op-msg' data-timestamp='1467392280' id='477433'>
<a class='timestamp' href='#477433'><time timestamp='2016-07-01T16:58:00Z'>16:58</time></a>
&lt;<span class='nick nick-6'> bsm1175321</span>&gt;
Ok, duh.  (hadn&#x27;t made a testnet p2sh before, was confused by the 2)
<br>
</div>

<div class='talk op-msg' data-timestamp='1467392640' id='477434'>
<a class='timestamp' href='#477434'><time timestamp='2016-07-01T17:04:00Z'>17:04</time></a>
&lt;<span class='nick nick-6'> bsm1175321</span>&gt;
Ok I think I understand.  A wallet bitcoin.conf really should have 3 possible values then: non-segwit, segwit, and segwit-in-p2sh.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467392640' id='477435'>
<a class='timestamp' href='#477435'><time timestamp='2016-07-01T17:04:00Z'>17:04</time></a>
&lt;<span class='nick nick-6'> bsm1175321</span>&gt;
*wallet setting
<br>
</div>

<div class='talk op-msg' data-timestamp='1467392700' id='477436'>
<a class='timestamp' href='#477436'><time timestamp='2016-07-01T17:05:00Z'>17:05</time></a>
&lt;<span class='nick nick-6'> bsm1175321</span>&gt;
Do I understand correctly: The point of P2SH nesting is that non-upgraded wallets will check the destinations (though not the signatures)?
<br>
</div>

<div class='talk op-msg' data-timestamp='1467393300' id='477437'>
<a class='timestamp' href='#477437'><time timestamp='2016-07-01T17:15:00Z'>17:15</time></a>
&lt;<span class='nick nick-11'> jl2012</span>&gt;
bsm1175321: I&#x27;d say the point of P2SH nesting is to allow non-upgraded wallets to send money to upgraded wallet
<br>
</div>

<div class='talk op-msg' data-timestamp='1467393600' id='477438'>
<a class='timestamp' href='#477438'><time timestamp='2016-07-01T17:20:00Z'>17:20</time></a>
&lt;<span class='nick nick-6'> bsm1175321</span>&gt;
Can&#x27;t they always do that though?  Do you mean the other way around?
<br>
</div>

<div class='talk op-msg' data-timestamp='1467393660' id='477439'>
<a class='timestamp' href='#477439'><time timestamp='2016-07-01T17:21:00Z'>17:21</time></a>
&lt;<span class='nick nick-14'> arubi</span>&gt;
it&#x27;s made for upgraded nodes to be able to accept payment from unupgraded nodes to a segwit scriptpubkey, yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1467393780' id='477440'>
<a class='timestamp' href='#477440'><time timestamp='2016-07-01T17:23:00Z'>17:23</time></a>
&lt;<span class='nick nick-11'> jl2012</span>&gt;
for upgraded -&gt; not upgraded, you just use P2PKH address (1xyz......)
<br>
</div>

<div class='talk op-msg' data-timestamp='1467393900' id='477441'>
<a class='timestamp' href='#477441'><time timestamp='2016-07-01T17:25:00Z'>17:25</time></a>
&lt;<span class='nick nick-14'> arubi</span>&gt;
bsm1175321, I&#x27;m curious, what kind of malleability are you trying to avoid?  are you the one signing the transaction?  can&#x27;t you use normal inputs too and just sign it properly?
<br>
</div>

<div class='talk op-msg' data-timestamp='1467393960' id='477442'>
<a class='timestamp' href='#477442'><time timestamp='2016-07-01T17:26:00Z'>17:26</time></a>
&lt;<span class='nick nick-6'> bsm1175321</span>&gt;
arubi: I&#x27;m going to be handing out txids, including txids that may be in the mempool, not mined yet.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467394020' id='477443'>
<a class='timestamp' href='#477443'><time timestamp='2016-07-01T17:27:00Z'>17:27</time></a>
&lt;<span class='nick nick-14'> arubi</span>&gt;
signed by you and you only?  you could still &quot;maul&quot;(?) if you wanted to, even with segwit
<br>
</div>

<div class='talk op-msg' data-timestamp='1467394080' id='477444'>
<a class='timestamp' href='#477444'><time timestamp='2016-07-01T17:28:00Z'>17:28</time></a>
&lt;<span class='nick nick-11'> jl2012</span>&gt;
arubi: without BIP62, that&#x27;s not reliable
<br>
</div>

<div class='talk op-msg' data-timestamp='1467394080' id='477445'>
<a class='timestamp' href='#477445'><time timestamp='2016-07-01T17:28:00Z'>17:28</time></a>
&lt;<span class='nick nick-6'> bsm1175321</span>&gt;
The non-upgraded nodes that receive funds from an upgraded node doesn&#x27;t verify signatures though.  (correct?)
<br>
</div>

<div class='talk op-msg' data-timestamp='1467394140' id='477446'>
<a class='timestamp' href='#477446'><time timestamp='2016-07-01T17:29:00Z'>17:29</time></a>
&lt;<span class='nick nick-14'> arubi</span>&gt;
jl2012, talking about the anyonecanpay|single sighash, sign once, permute how many you&#x27;d like
<br>
</div>

<div class='talk op-msg' data-timestamp='1467394200' id='477447'>
<a class='timestamp' href='#477447'><time timestamp='2016-07-01T17:30:00Z'>17:30</time></a>
&lt;<span class='nick nick-14'> arubi</span>&gt;
bsm1175321, the script that they see doesn&#x27;t talk about checksigs, so they don&#x27;t check any signatures
<br>
</div>

<div class='talk op-msg' data-timestamp='1467394200' id='477448'>
<a class='timestamp' href='#477448'><time timestamp='2016-07-01T17:30:00Z'>17:30</time></a>
&lt;<span class='nick nick-11'> jl2012</span>&gt;
arubi: there are still other forms of third party malleability, e.g. non-canonical push
<br>
</div>

<div class='talk op-msg' data-timestamp='1467394200' id='477449'>
<a class='timestamp' href='#477449'><time timestamp='2016-07-01T17:30:00Z'>17:30</time></a>
&lt;<span class='nick nick-6'> bsm1175321</span>&gt;
arubi: signed by me and me only.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467394260' id='477450'>
<a class='timestamp' href='#477450'><time timestamp='2016-07-01T17:31:00Z'>17:31</time></a>
&lt;<span class='nick nick-14'> arubi</span>&gt;
jl2012, sure, using standard scripts is a must here if you don&#x27;t want 3rd parties doing things, but as a single signer, you could still do it to your own txs, even with segwit
<br>
</div>

<div class='talk op-msg' data-timestamp='1467394380' id='477451'>
<a class='timestamp' href='#477451'><time timestamp='2016-07-01T17:33:00Z'>17:33</time></a>
&lt;<span class='nick nick-11'> jl2012</span>&gt;
well, if you want to guarantee non-malleability to only yourself, segwit is the only way
<br>
</div>

<div class='talk op-msg' data-timestamp='1467394380' id='477452'>
<a class='timestamp' href='#477452'><time timestamp='2016-07-01T17:33:00Z'>17:33</time></a>
&lt;<span class='nick nick-6'> bsm1175321</span>&gt;
jl2012: can you elaborate?  Malleation of the script (which is part of the witness data) doesn&#x27;t change the txid, and I don&#x27;t think I care about that.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467394440' id='477453'>
<a class='timestamp' href='#477453'><time timestamp='2016-07-01T17:34:00Z'>17:34</time></a>
&lt;<span class='nick nick-14'> arubi</span>&gt;
jl2012, true.  I am asking because bsm1175321 explains that he will hand out txids (not the transactions themselves, as I understand)
<br>
</div>

<div class='talk op-msg' data-timestamp='1467394440' id='477454'>
<a class='timestamp' href='#477454'><time timestamp='2016-07-01T17:34:00Z'>17:34</time></a>
&lt;<span class='nick nick-14'> arubi</span>&gt;
so as a single signer, he could still cause malleability, even if he manages to convince the other party all inputs are segwit
<br>
</div>

<div class='talk op-msg' data-timestamp='1467394440' id='477455'>
<a class='timestamp' href='#477455'><time timestamp='2016-07-01T17:34:00Z'>17:34</time></a>
&lt;<span class='nick nick-14'> arubi</span>&gt;
*and standard scripts, or even better, even only with p2wpkh
<br>
</div>

<div class='talk op-msg' data-timestamp='1467394440' id='477456'>
<a class='timestamp' href='#477456'><time timestamp='2016-07-01T17:34:00Z'>17:34</time></a>
&lt;<span class='nick nick-11'> jl2012</span>&gt;
arubi: that&#x27;s double-spending
<br>
</div>

<div class='talk op-msg' data-timestamp='1467394500' id='477457'>
<a class='timestamp' href='#477457'><time timestamp='2016-07-01T17:35:00Z'>17:35</time></a>
&lt;<span class='nick nick-11'> jl2012</span>&gt;
not malleability
<br>
</div>

<div class='talk op-msg' data-timestamp='1467394500' id='477458'>
<a class='timestamp' href='#477458'><time timestamp='2016-07-01T17:35:00Z'>17:35</time></a>
&lt;<span class='nick nick-14'> arubi</span>&gt;
how so?  payments are still paid, but it&#x27;s the order of the inputs outputs that&#x27;s changed
<br>
</div>

<div class='talk op-msg' data-timestamp='1467394500' id='477459'>
<a class='timestamp' href='#477459'><time timestamp='2016-07-01T17:35:00Z'>17:35</time></a>
&lt;<span class='nick nick-14'> arubi</span>&gt;
you&#x27;re using the same inputs
<br>
</div>

<div class='talk op-msg' data-timestamp='1467394560' id='477460'>
<a class='timestamp' href='#477460'><time timestamp='2016-07-01T17:36:00Z'>17:36</time></a>
&lt;<span class='nick nick-6'> bsm1175321</span>&gt;
arubi: Are you saying I could change the order of outputs, keeping the same segwit txid?
<br>
</div>

<div class='talk op-msg' data-timestamp='1467394560' id='477461'>
<a class='timestamp' href='#477461'><time timestamp='2016-07-01T17:36:00Z'>17:36</time></a>
&lt;<span class='nick nick-14'> arubi</span>&gt;
no, you&#x27;re changing it
<br>
</div>

<div class='talk op-msg' data-timestamp='1467394620' id='477462'>
<a class='timestamp' href='#477462'><time timestamp='2016-07-01T17:37:00Z'>17:37</time></a>
&lt;<span class='nick nick-6'> bsm1175321</span>&gt;
Ok then someone looking for one txid I handed them won&#x27;t see it at all, and there&#x27;s no point in me giving the wrong txid to someone.  (A txid which never get mined because I malleated it is useless)
<br>
</div>

<div class='talk op-msg' data-timestamp='1467394680' id='477463'>
<a class='timestamp' href='#477463'><time timestamp='2016-07-01T17:38:00Z'>17:38</time></a>
&lt;<span class='nick nick-14'> arubi</span>&gt;
right
<br>
</div>

<div class='talk op-msg' data-timestamp='1467394740' id='477464'>
<a class='timestamp' href='#477464'><time timestamp='2016-07-01T17:39:00Z'>17:39</time></a>
&lt;<span class='nick nick-14'> arubi</span>&gt;
they should be checking their addresses for incoming transactions, and that&#x27;s it.  txid is something that&#x27;s only relevant when spending
<br>
</div>

<div class='talk op-msg' data-timestamp='1467394740' id='477465'>
<a class='timestamp' href='#477465'><time timestamp='2016-07-01T17:39:00Z'>17:39</time></a>
&lt;<span class='nick nick-14'> arubi</span>&gt;
*should only be, I guess
<br>
</div>

<div class='talk op-msg' data-timestamp='1467394740' id='477466'>
<a class='timestamp' href='#477466'><time timestamp='2016-07-01T17:39:00Z'>17:39</time></a>
&lt;<span class='nick nick-6'> bsm1175321</span>&gt;
However if they act on a txid in the mempool, and then I broadcast a malleated version which gets mined.  That&#x27;s your usual double spend.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467394800' id='477467'>
<a class='timestamp' href='#477467'><time timestamp='2016-07-01T17:40:00Z'>17:40</time></a>
&lt;<span class='nick nick-14'> arubi</span>&gt;
how is it a double spend?  there is no spending from the malleated version
<br>
</div>

<div class='talk op-msg' data-timestamp='1467394800' id='477468'>
<a class='timestamp' href='#477468'><time timestamp='2016-07-01T17:40:00Z'>17:40</time></a>
&lt;<span class='nick nick-9'> pigeons</span>&gt;
well if you only malleate the signature its not a double spend
<br>
</div>

<div class='talk op-msg' data-timestamp='1467394800' id='477469'>
<a class='timestamp' href='#477469'><time timestamp='2016-07-01T17:40:00Z'>17:40</time></a>
&lt;<span class='nick nick-6'> bsm1175321</span>&gt;
Let&#x27;s say I malleate the output order.  This is a weird thing to do.  I&#x27;ll have to think on it...
<br>
</div>

<div class='talk op-msg' data-timestamp='1467394860' id='477470'>
<a class='timestamp' href='#477470'><time timestamp='2016-07-01T17:41:00Z'>17:41</time></a>
&lt;<span class='nick nick-14'> arubi</span>&gt;
same can be done for inputs
<br>
</div>

<div class='talk op-msg' data-timestamp='1467394920' id='477471'>
<a class='timestamp' href='#477471'><time timestamp='2016-07-01T17:42:00Z'>17:42</time></a>
&lt;<span class='nick nick-9'> pigeons</span>&gt;
if you have someone taking action on the txid of the unconfirmed transaction they will be affected, otherwise, not right
<br>
</div>

<div class='talk op-msg' data-timestamp='1467394980' id='477472'>
<a class='timestamp' href='#477472'><time timestamp='2016-07-01T17:43:00Z'>17:43</time></a>
&lt;<span class='nick nick-14'> arubi</span>&gt;
a spender still has to reference a txid as input, so even if the outputs order isn&#x27;t changed, the input is invalid in case of malleability
<br>
</div>

<div class='talk op-msg' data-timestamp='1467394980' id='477473'>
<a class='timestamp' href='#477473'><time timestamp='2016-07-01T17:43:00Z'>17:43</time></a>
&lt;<span class='nick nick-14'> arubi</span>&gt;
oh you mean if the bad one wasn&#x27;t mined, right
<br>
</div>

<div class='talk op-msg' data-timestamp='1467395280' id='477474'>
<a class='timestamp' href='#477474'><time timestamp='2016-07-01T17:48:00Z'>17:48</time></a>
&lt;<span class='nick nick-6'> bsm1175321</span>&gt;
In this case, I&#x27;m proving control of coins.  Malleating my own txn is shooting myself in the foot.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467395880' id='477475'>
<a class='timestamp' href='#477475'><time timestamp='2016-07-01T17:58:00Z'>17:58</time></a>
&lt;<span class='nick nick-14'> arubi</span>&gt;
I&#x27;m guessing, you&#x27;re proving control by announcing the txid before the transaction is seen on the network?
<br>
</div>

<div class='talk op-msg' data-timestamp='1467396480' id='477476'>
<a class='timestamp' href='#477476'><time timestamp='2016-07-01T18:08:00Z'>18:08</time></a>
&lt;<span class='nick nick-6'> bsm1175321</span>&gt;
Not <b>*before*</b> but it could be simultaneous.  And I&#x27;m wondering what the consequences are of fiddling around...
<br>
</div>

<div class='talk op-msg' data-timestamp='1467396540' id='477477'>
<a class='timestamp' href='#477477'><time timestamp='2016-07-01T18:09:00Z'>18:09</time></a>
&lt;<span class='nick nick-6'> bsm1175321</span>&gt;
But If I claim to prove something with a txid, and you look for it on the network, I&#x27;m only hurting myself by messing with it.  I&#x27;m having trouble thinking of any negative consequences here.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467396660' id='477478'>
<a class='timestamp' href='#477478'><time timestamp='2016-07-01T18:11:00Z'>18:11</time></a>
&lt;<span class='nick nick-14'> arubi</span>&gt;
why not use signed messages to prove ownership of addresses?  as long you commit to an address, which is kinda like commiting to specific coins
<br>
</div>

<div class='talk op-msg' data-timestamp='1467397020' id='477479'>
<a class='timestamp' href='#477479'><time timestamp='2016-07-01T18:17:00Z'>18:17</time></a>
&lt;<span class='nick nick-14'> arubi</span>&gt;
hm.  I guess if it&#x27;s a p2sh that&#x27;s not so simple, because you&#x27;d have to disclose the redeemscript
<br>
</div>

<div class='talk op-msg' data-timestamp='1467402300' id='477480'>
<a class='timestamp' href='#477480'><time timestamp='2016-07-01T19:45:00Z'>19:45</time></a>
&lt;<span class='nick nick-6'> adiabat</span>&gt;
hey, I&#x27;m spamming testnet and have some unexpected behavior
<br>
</div>

<div class='talk op-msg' data-timestamp='1467402360' id='477481'>
<a class='timestamp' href='#477481'><time timestamp='2016-07-01T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-6'> adiabat</span>&gt;
I think I get what &quot;size&quot;, &quot;cost&quot;, &quot;strippedsize&quot;, &quot;Vsize&quot; all mean
<br>
</div>

<div class='talk op-msg' data-timestamp='1467402360' id='477482'>
<a class='timestamp' href='#477482'><time timestamp='2016-07-01T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-6'> adiabat</span>&gt;
&quot;cost&quot; is basically &quot;Vsize&quot; * 4
<br>
</div>

<div class='talk op-msg' data-timestamp='1467402420' id='477483'>
<a class='timestamp' href='#477483'><time timestamp='2016-07-01T19:47:00Z'>19:47</time></a>
&lt;<span class='nick nick-6'> adiabat</span>&gt;
so a block &quot;cost&quot; must be &lt; 4M
<br>
</div>

<div class='talk op-msg' data-timestamp='1467402420' id='477484'>
<a class='timestamp' href='#477484'><time timestamp='2016-07-01T19:47:00Z'>19:47</time></a>
&lt;<span class='nick nick-6'> adiabat</span>&gt;
(&lt;=, whatever)
<br>
</div>

<div class='talk op-msg' data-timestamp='1467402480' id='477485'>
<a class='timestamp' href='#477485'><time timestamp='2016-07-01T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-6'> adiabat</span>&gt;
so in .conf, blockmaxsize should set the cost limit of created blocks
<br>
</div>

<div class='talk op-msg' data-timestamp='1467402480' id='477486'>
<a class='timestamp' href='#477486'><time timestamp='2016-07-01T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-6'> adiabat</span>&gt;
but it seems to be targeting &quot;size&quot; instead
<br>
</div>

<div class='talk op-msg' data-timestamp='1467402540' id='477487'>
<a class='timestamp' href='#477487'><time timestamp='2016-07-01T19:49:00Z'>19:49</time></a>
&lt;<span class='nick nick-6'> bsm1175321</span>&gt;
arubi: I want to be able to commit to coins regardless of the address type, and as you say, I&#x27;d need the redeemScript.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467402840' id='477488'>
<a class='timestamp' href='#477488'><time timestamp='2016-07-01T19:54:00Z'>19:54</time></a>
&lt;<span class='nick nick-16'> kvnn</span>&gt;
Hello everyone. I&#x27;m offering a 1BTC bounty for 3&amp;4 here: <a href="https://github.com/drivechain-project/docs" class="link" target="_blank">https://github.com/drivechain-project/docs</a> . Please let me know if you are interested. (if this is not okay in this channel I apologize &amp; will discontinue posting about it)
<br>
</div>

<div class='talk op-msg' data-timestamp='1467403320' id='477489'>
<a class='timestamp' href='#477489'><time timestamp='2016-07-01T20:02:00Z'>20:02</time></a>
&lt;<span class='nick nick-7'> sdaftuar_</span>&gt;
adiabat: -blockmaxsize continues to refer to total serialized bytes of a block, counting witness and non-witness parts the same. -blockmaxcost is the option that specifies the limit you probably want here.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467403440' id='477490'>
<a class='timestamp' href='#477490'><time timestamp='2016-07-01T20:04:00Z'>20:04</time></a>
&lt;<span class='nick nick-6'> adiabat</span>&gt;
hmmm ok
<br>
</div>

<div class='talk op-msg' data-timestamp='1467403440' id='477491'>
<a class='timestamp' href='#477491'><time timestamp='2016-07-01T20:04:00Z'>20:04</time></a>
&lt;<span class='nick nick-6'> adiabat</span>&gt;
so there&#x27;s both
<br>
</div>

<div class='talk op-msg' data-timestamp='1467403740' id='477492'>
<a class='timestamp' href='#477492'><time timestamp='2016-07-01T20:09:00Z'>20:09</time></a>
&lt;<span class='nick nick-7'> sdaftuar_</span>&gt;
Yeah.  The hope is that -blockmaxsize is deprecated in the future.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467403800' id='477493'>
<a class='timestamp' href='#477493'><time timestamp='2016-07-01T20:10:00Z'>20:10</time></a>
&lt;<span class='nick nick-7'> sdaftuar_</span>&gt;
(My preference was to change the semantics of -blockmaxsize to refer to segwit&#x27;s virtual size, but that&#x27;s not what we ended up with)
<br>
</div>

<div class='talk op-msg' data-timestamp='1467403860' id='477494'>
<a class='timestamp' href='#477494'><time timestamp='2016-07-01T20:11:00Z'>20:11</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
well, depends what you want to limit
<br>
</div>

<div class='talk op-msg' data-timestamp='1467403860' id='477495'>
<a class='timestamp' href='#477495'><time timestamp='2016-07-01T20:11:00Z'>20:11</time></a>
&lt;<span class='nick nick-1'> roasbeef</span>&gt;
segwit miners on testnet seem to be limiting to ~750k cost
<br>
</div>

<div class='talk op-msg' data-timestamp='1467403860' id='477496'>
<a class='timestamp' href='#477496'><time timestamp='2016-07-01T20:11:00Z'>20:11</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
sdaftuar_: then miners would need to set blockmaxsize to 250k to avoid making blocks &gt;1M
<br>
</div>

<div class='talk op-msg' data-timestamp='1467403860' id='477497'>
<a class='timestamp' href='#477497'><time timestamp='2016-07-01T20:11:00Z'>20:11</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
06:43 &lt; MarcoFalke&gt; gmaxwell: I don&#x27;t think lack of progress in improving of coinselection is due to the test hardcoding the behavior.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467403920' id='477498'>
<a class='timestamp' href='#477498'><time timestamp='2016-07-01T20:12:00Z'>20:12</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
the goal of blockmaxsize is to avoid blocks larger than the size. cost/vsize doesn&#x27;t matter here
<br>
</div>

<div class='talk op-msg' data-timestamp='1467403920' id='477499'>
<a class='timestamp' href='#477499'><time timestamp='2016-07-01T20:12:00Z'>20:12</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I can tell you that personally I&#x27;ve written improvements that I haven&#x27;t PRed because they required throwing out all the existing tests.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467403920' id='477500'>
<a class='timestamp' href='#477500'><time timestamp='2016-07-01T20:12:00Z'>20:12</time></a>
&lt;<span class='nick nick-7'> sdaftuar_</span>&gt;
My preference was to introduce a new option that would control serialized bytes
<br>
</div>

<div class='talk op-msg' data-timestamp='1467403920' id='477501'>
<a class='timestamp' href='#477501'><time timestamp='2016-07-01T20:12:00Z'>20:12</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
sdaftuar_: why a new oppppption when we have one for it already?
<br>
</div>

<div class='talk op-msg' data-timestamp='1467403980' id='477502'>
<a class='timestamp' href='#477502'><time timestamp='2016-07-01T20:13:00Z'>20:13</time></a>
&lt;<span class='nick nick-7'> sdaftuar_</span>&gt;
Because the mining code doesn&#x27;t optimize for it
<br>
</div>

<div class='talk op-msg' data-timestamp='1467403980' id='477503'>
<a class='timestamp' href='#477503'><time timestamp='2016-07-01T20:13:00Z'>20:13</time></a>
&lt;<span class='nick nick-7'> sdaftuar_</span>&gt;
So it&#x27;s misleading to suggest it&#x27;s supported
<br>
</div>

<div class='talk op-msg' data-timestamp='1467404040' id='477504'>
<a class='timestamp' href='#477504'><time timestamp='2016-07-01T20:14:00Z'>20:14</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
it does what it&#x27;s supposed to do.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467404040' id='477505'>
<a class='timestamp' href='#477505'><time timestamp='2016-07-01T20:14:00Z'>20:14</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I don&#x27;t think it makes sense to even have a seralized size setting, we don&#x27;t have a setting to limit the size of the sighashed bytes, or a setting to limit the size of the block&#x27;s CTransaction encoding.  We don&#x27;t have a limit to control the size of the compactblock form, or a limit to control the size of a zlib compressed block.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467404040' id='477506'>
<a class='timestamp' href='#477506'><time timestamp='2016-07-01T20:14:00Z'>20:14</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
But I don&#x27;t bother complaining because luke was going pyric over this before, and it shouldn&#x27;t hurt that much having it either.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467404040' id='477507'>
<a class='timestamp' href='#477507'><time timestamp='2016-07-01T20:14:00Z'>20:14</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
gmaxwell: at this time, serialised size is a critical factor in practice
<br>
</div>

<div class='talk op-msg' data-timestamp='1467404100' id='477508'>
<a class='timestamp' href='#477508'><time timestamp='2016-07-01T20:15:00Z'>20:15</time></a>
&lt;<span class='nick nick-7'> sdaftuar_</span>&gt;
gmaxwell: +1
<br>
</div>

<div class='talk op-msg' data-timestamp='1467404100' id='477509'>
<a class='timestamp' href='#477509'><time timestamp='2016-07-01T20:15:00Z'>20:15</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
luke-jr: critical for what? it doesn&#x27;t reflect block propagation time especially well. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1467404100' id='477510'>
<a class='timestamp' href='#477510'><time timestamp='2016-07-01T20:15:00Z'>20:15</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
on the p2p network it sure does..
<br>
</div>

<div class='talk op-msg' data-timestamp='1467404160' id='477511'>
<a class='timestamp' href='#477511'><time timestamp='2016-07-01T20:16:00Z'>20:16</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
validation time is more closely related to the number of utxo operations and how well relayed the txn in hte block were.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467404160' id='477512'>
<a class='timestamp' href='#477512'><time timestamp='2016-07-01T20:16:00Z'>20:16</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
luke-jr: we have BIP152 now.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467404160' id='477513'>
<a class='timestamp' href='#477513'><time timestamp='2016-07-01T20:16:00Z'>20:16</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
not deployed, unfortunately.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467404220' id='477514'>
<a class='timestamp' href='#477514'><time timestamp='2016-07-01T20:17:00Z'>20:17</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
to be clear, I&#x27;m all for removing blockmaxsize once it doesn&#x27;t matter and isn&#x27;t used.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467404220' id='477515'>
<a class='timestamp' href='#477515'><time timestamp='2016-07-01T20:17:00Z'>20:17</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
hence why I don&#x27;t think optimising block creation for it is important
<br>
</div>

<div class='talk op-msg' data-timestamp='1467404220' id='477516'>
<a class='timestamp' href='#477516'><time timestamp='2016-07-01T20:17:00Z'>20:17</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(but even without it, seralized size is still not the ideal predictor of propagation time.)
<br>
</div>

<div class='talk op-msg' data-timestamp='1467404280' id='477517'>
<a class='timestamp' href='#477517'><time timestamp='2016-07-01T20:18:00Z'>20:18</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
I just worry that we&#x27;ll end up with &gt;1 MB blocks before the network can handle it sanely
<br>
</div>

<div class='talk op-msg' data-timestamp='1467404280' id='477518'>
<a class='timestamp' href='#477518'><time timestamp='2016-07-01T20:18:00Z'>20:18</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
K. indeed 0.12 doesn&#x27;t have BIP152. Perhaps that does suggest that it should default to four million in 0.13?
<br>
</div>

<div class='talk op-msg' data-timestamp='1467404280' id='477519'>
<a class='timestamp' href='#477519'><time timestamp='2016-07-01T20:18:00Z'>20:18</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
luke-jr: thats inevitable...
<br>
</div>

<div class='talk op-msg' data-timestamp='1467404280' id='477520'>
<a class='timestamp' href='#477520'><time timestamp='2016-07-01T20:18:00Z'>20:18</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
see also the utxo comments by wumpus last night.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467406020' id='477521'>
<a class='timestamp' href='#477521'><time timestamp='2016-07-01T20:47:00Z'>20:47</time></a>
&lt;<span class='nick nick-7'> sturles</span>&gt;
Am I correct that the 0.13 HD wallet implementation will only support new wallets, and only support hardened keys?
<br>
</div>

<div class='talk op-msg' data-timestamp='1467406020' id='477522'>
<a class='timestamp' href='#477522'><time timestamp='2016-07-01T20:47:00Z'>20:47</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sturles: correct.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467406080' id='477523'>
<a class='timestamp' href='#477523'><time timestamp='2016-07-01T20:48:00Z'>20:48</time></a>
&lt;<span class='nick nick-7'> sturles</span>&gt;
Will it support importing private keys from an old style wallet?
<br>
</div>

<div class='talk op-msg' data-timestamp='1467406080' id='477524'>
<a class='timestamp' href='#477524'><time timestamp='2016-07-01T20:48:00Z'>20:48</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I believe it does, I&#x27;ve not actually tested that!
<br>
</div>

<div class='talk op-msg' data-timestamp='1467406380' id='477525'>
<a class='timestamp' href='#477525'><time timestamp='2016-07-01T20:53:00Z'>20:53</time></a>
&lt;<span class='nick nick-7'> sturles</span>&gt;
A HD wallet won&#x27;t work with older versions, right?  Should use the opportunity to switch DB for the wallet to something &gt; libdb 4.8?
<br>
</div>

<div class='talk op-msg' data-timestamp='1467406440' id='477526'>
<a class='timestamp' href='#477526'><time timestamp='2016-07-01T20:54:00Z'>20:54</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Do you want software that never makes progress? Thats how you get software that never makes progress.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467406440' id='477527'>
<a class='timestamp' href='#477527'><time timestamp='2016-07-01T20:54:00Z'>20:54</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
It can&#x27;t use a later libdb or it will make all non-HD wallets also unreadable by other versions.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467406500' id='477528'>
<a class='timestamp' href='#477528'><time timestamp='2016-07-01T20:55:00Z'>20:55</time></a>
&lt;<span class='nick nick-13'> helo</span>&gt;
i believe a hd wallet should work with older versions
<br>
</div>

<div class='talk op-msg' data-timestamp='1467406560' id='477529'>
<a class='timestamp' href='#477529'><time timestamp='2016-07-01T20:56:00Z'>20:56</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
helo: hows that?
<br>
</div>

<div class='talk op-msg' data-timestamp='1467406560' id='477530'>
<a class='timestamp' href='#477530'><time timestamp='2016-07-01T20:56:00Z'>20:56</time></a>
&lt;<span class='nick nick-7'> sturles</span>&gt;
Yes, I know.  I guess it is impossible to use different versions depending on wallet type, e.g. via dlopen?
<br>
</div>

<div class='talk op-msg' data-timestamp='1467406620' id='477531'>
<a class='timestamp' href='#477531'><time timestamp='2016-07-01T20:57:00Z'>20:57</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sturles: in theory possible but that would be a lot of work without any benefit.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467406620' id='477532'>
<a class='timestamp' href='#477532'><time timestamp='2016-07-01T20:57:00Z'>20:57</time></a>
&lt;<span class='nick nick-13'> helo</span>&gt;
it will work to a limited extent... hd keys already added will be visible
<br>
</div>

<div class='talk op-msg' data-timestamp='1467406620' id='477533'>
<a class='timestamp' href='#477533'><time timestamp='2016-07-01T20:57:00Z'>20:57</time></a>
&lt;<span class='nick nick-13'> helo</span>&gt;
untested, ofc
<br>
</div>

<div class='talk op-msg' data-timestamp='1467406620' id='477534'>
<a class='timestamp' href='#477534'><time timestamp='2016-07-01T20:57:00Z'>20:57</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
if so, thats a bug. it should get rejected due to having a too new version.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467406680' id='477535'>
<a class='timestamp' href='#477535'><time timestamp='2016-07-01T20:58:00Z'>20:58</time></a>
&lt;<span class='nick nick-16'> Lightsword</span>&gt;
can we just migrate to sqlite?
<br>
</div>

<div class='talk op-msg' data-timestamp='1467406680' id='477536'>
<a class='timestamp' href='#477536'><time timestamp='2016-07-01T20:58:00Z'>20:58</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
if it isn&#x27;t then you could put yourself in a weird state.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467406680' id='477537'>
<a class='timestamp' href='#477537'><time timestamp='2016-07-01T20:58:00Z'>20:58</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I will have to start stabbing people.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467406740' id='477538'>
<a class='timestamp' href='#477538'><time timestamp='2016-07-01T20:59:00Z'>20:59</time></a>
&lt;<span class='nick nick-13'> helo</span>&gt;
nah, that&#x27;s not necessary. the version check probably functions as intended :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1467406740' id='477539'>
<a class='timestamp' href='#477539'><time timestamp='2016-07-01T20:59:00Z'>20:59</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
hah
<br>
</div>

<div class='talk op-msg' data-timestamp='1467406860' id='477540'>
<a class='timestamp' href='#477540'><time timestamp='2016-07-01T21:01:00Z'>21:01</time></a>
&lt;<span class='nick nick-7'> sturles</span>&gt;
I&#x27;d say it is benificial to switch to a newer, supported version of libdb
<br>
</div>

<div class='talk op-msg' data-timestamp='1467406920' id='477541'>
<a class='timestamp' href='#477541'><time timestamp='2016-07-01T21:02:00Z'>21:02</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
the latest versions have incompatible licenses.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467407040' id='477542'>
<a class='timestamp' href='#477542'><time timestamp='2016-07-01T21:04:00Z'>21:04</time></a>
&lt;<span class='nick nick-7'> sturles</span>&gt;
Oh.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467407100' id='477543'>
<a class='timestamp' href='#477543'><time timestamp='2016-07-01T21:05:00Z'>21:05</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
there is newer than 4.8 that is okay, but the latest stuff has a much stronger copyleft than we&#x27;d normally use.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467407220' id='477544'>
<a class='timestamp' href='#477544'><time timestamp='2016-07-01T21:07:00Z'>21:07</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
really the &#x27;database&#x27; isn&#x27;t actually used for much--- the wallet is largely entirely in memory, and the database is only really used for persistance.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467407640' id='477545'>
<a class='timestamp' href='#477545'><time timestamp='2016-07-01T21:14:00Z'>21:14</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
eh, -walletupgrade won&#x27;t work? O.o
<br>
</div>

<div class='talk op-msg' data-timestamp='1467408960' id='477546'>
<a class='timestamp' href='#477546'><time timestamp='2016-07-01T21:36:00Z'>21:36</time></a>
&lt;<span class='nick nick-16'> Lightsword</span>&gt;
would working on migrating the wallet to sqlite be something worthwhile at this point?
<br>
</div>

<div class='talk op-msg' data-timestamp='1467409140' id='477547'>
<a class='timestamp' href='#477547'><time timestamp='2016-07-01T21:39:00Z'>21:39</time></a>
&lt;<span class='nick nick-16'> CubicEarth</span>&gt;
Block validation is, theoretically, very amenable to parallelization, correct?  Is the main serial component the depth of the merkel tree?
<br>
</div>

<div class='talk op-msg' data-timestamp='1467409380' id='477548'>
<a class='timestamp' href='#477548'><time timestamp='2016-07-01T21:43:00Z'>21:43</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
signature validation is, and bitcoin core runs that in paralle... but normally almost all of the signatures in a block are already validated before it shows up.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467409440' id='477549'>
<a class='timestamp' href='#477549'><time timestamp='2016-07-01T21:44:00Z'>21:44</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
parallel*
<br>
</div>

<div class='talk op-msg' data-timestamp='1467409440' id='477550'>
<a class='timestamp' href='#477550'><time timestamp='2016-07-01T21:44:00Z'>21:44</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
the general database handling ends up taking much of the time, which isn&#x27;t really paralizable. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1467410700' id='477551'>
<a class='timestamp' href='#477551'><time timestamp='2016-07-01T22:05:00Z'>22:05</time></a>
&lt;<span class='nick nick-16'> CubicEarth</span>&gt;
gmaxwell: so thinking about the initial chain sync and validation, it could (with lots and lots of careful work) be made to harness GPU&#x27;s, and spread the signature validation across <b>*many*</b> cores?  I&#x27;m not familiar with the nature of the general database handling you are referring to, but for the initial sync is that mainly keeping track of the utxo&#x27;s as it increments tough the blocks?
<br>
</div>

<div class='talk op-msg' data-timestamp='1467410820' id='477552'>
<a class='timestamp' href='#477552'><time timestamp='2016-07-01T22:07:00Z'>22:07</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I&#x27;ve seen no reason to believe that a gpu would help at all, GPU cores aren&#x27;t particularly good at the work of validating. (64 bit arithmetic helps a lot!)
<br>
</div>

<div class='talk op-msg' data-timestamp='1467410880' id='477553'>
<a class='timestamp' href='#477553'><time timestamp='2016-07-01T22:08:00Z'>22:08</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
and nodes don&#x27;t even verify the signatures far back in the chain.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467410940' id='477554'>
<a class='timestamp' href='#477554'><time timestamp='2016-07-01T22:09:00Z'>22:09</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
but sure more work could be done to extract more parallelism out of it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467411060' id='477555'>
<a class='timestamp' href='#477555'><time timestamp='2016-07-01T22:11:00Z'>22:11</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
but even with signature validation turned off completely, with default settings a reindex takes almost 9 hours currently.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467411180' id='477556'>
<a class='timestamp' href='#477556'><time timestamp='2016-07-01T22:13:00Z'>22:13</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
increasing the db cache to a really huge size (such that the sync runs entirely out of ram) lets the whole sync <u>_with_</u> signature checking run in about 3.5 hours. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1467411360' id='477557'>
<a class='timestamp' href='#477557'><time timestamp='2016-07-01T22:16:00Z'>22:16</time></a>
&lt;<span class='nick nick-16'> CubicEarth</span>&gt;
Is the default 100MB?  I never knew that!!  I&#x27;ll be curious too see what kind of speedup I can achieve on an i5 - dual core.  Are we talking 100GB of ram here, or would setting it to 4 or 8 GB make a substantial difference?
<br>
</div>

<div class='talk op-msg' data-timestamp='1467411420' id='477558'>
<a class='timestamp' href='#477558'><time timestamp='2016-07-01T22:17:00Z'>22:17</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
setting it to 2 GB is more than sufficient
<br>
</div>

<div class='talk op-msg' data-timestamp='1467411420' id='477559'>
<a class='timestamp' href='#477559'><time timestamp='2016-07-01T22:17:00Z'>22:17</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
higher numbers don&#x27;t matter much
<br>
</div>

<div class='talk op-msg' data-timestamp='1467411540' id='477560'>
<a class='timestamp' href='#477560'><time timestamp='2016-07-01T22:19:00Z'>22:19</time></a>
&lt;<span class='nick nick-16'> CubicEarth</span>&gt;
Is it a rolling-window thing?
<br>
</div>

<div class='talk op-msg' data-timestamp='1467411540' id='477561'>
<a class='timestamp' href='#477561'><time timestamp='2016-07-01T22:19:00Z'>22:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
no
<br>
</div>

<div class='talk op-msg' data-timestamp='1467411540' id='477562'>
<a class='timestamp' href='#477562'><time timestamp='2016-07-01T22:19:00Z'>22:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it&#x27;s a cache
<br>
</div>

<div class='talk op-msg' data-timestamp='1467411540' id='477563'>
<a class='timestamp' href='#477563'><time timestamp='2016-07-01T22:19:00Z'>22:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
when the cache is full, we write it to disk
<br>
</div>

<div class='talk op-msg' data-timestamp='1467411540' id='477564'>
<a class='timestamp' href='#477564'><time timestamp='2016-07-01T22:19:00Z'>22:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and start over
<br>
</div>

<div class='talk op-msg' data-timestamp='1467411540' id='477565'>
<a class='timestamp' href='#477565'><time timestamp='2016-07-01T22:19:00Z'>22:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
very silly
<br>
</div>

<div class='talk op-msg' data-timestamp='1467411720' id='477566'>
<a class='timestamp' href='#477566'><time timestamp='2016-07-01T22:22:00Z'>22:22</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I think you actually need more than 2GB now to get full performance, but 8GB is more than enough.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467411720' id='477567'>
<a class='timestamp' href='#477567'><time timestamp='2016-07-01T22:22:00Z'>22:22</time></a>
&lt;<span class='nick nick-5'> midnightmagic</span>&gt;
maybe an iovec scatter write might help some systems write faster
<br>
</div>

<div class='talk op-msg' data-timestamp='1467411840' id='477568'>
<a class='timestamp' href='#477568'><time timestamp='2016-07-01T22:24:00Z'>22:24</time></a>
&lt;<span class='nick nick-5'> midnightmagic</span>&gt;
or is it just a plain sequential write thing and the rest is leveldb
<br>
</div>

<div class='talk op-msg' data-timestamp='1467411840' id='477569'>
<a class='timestamp' href='#477569'><time timestamp='2016-07-01T22:24:00Z'>22:24</time></a>
&lt;<span class='nick nick-16'> CubicEarth</span>&gt;
Well it&#x27;s easy enough to set it higher.  I just never knew.  A default of 100MB can make sense for older systems, but if there was place for &#x27;performance tips&#x27;, that would be a good place to let people know.  Maybe everyone already (node operators) knows except for me.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467411900' id='477570'>
<a class='timestamp' href='#477570'><time timestamp='2016-07-01T22:25:00Z'>22:25</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I think a lot of people don&#x27;t realize what a big difference it makes.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467411900' id='477571'>
<a class='timestamp' href='#477571'><time timestamp='2016-07-01T22:25:00Z'>22:25</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
looks like we&#x27;ll increase the default to 300MB.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467411960' id='477572'>
<a class='timestamp' href='#477572'><time timestamp='2016-07-01T22:26:00Z'>22:26</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
wumpus: on the leveldb stuff, without txindex, I&#x27;d suggest making that 4mb instead of 2. 4MB was something like 1% faster for me when testing leveldb in isolation.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467412020' id='477573'>
<a class='timestamp' href='#477573'><time timestamp='2016-07-01T22:27:00Z'>22:27</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
maybe 2 is a win at the 300mb limit, but with it bumped 4mb would be... and probably is more conservative overall.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467412740' id='477574'>
<a class='timestamp' href='#477574'><time timestamp='2016-07-01T22:39:00Z'>22:39</time></a>
&lt;<span class='nick nick-16'> CubicEarth</span>&gt;
I did a fresh sync a week ago, 2013-era i5 dual core laptop.  Ubuntu, 4GB of ram, spinning HD.  75Mbps cable internet.  It took about 20 hours to finish.  What was interesting though was how the last 20 weeks just crawled.  Seemed less than linear, even estimating about the effects of fuller blocks.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467412920' id='477575'>
<a class='timestamp' href='#477575'><time timestamp='2016-07-01T22:42:00Z'>22:42</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yeah, try dbcache 4000 or so
<br>
</div>

<div class='talk op-msg' data-timestamp='1467412980' id='477576'>
<a class='timestamp' href='#477576'><time timestamp='2016-07-01T22:43:00Z'>22:43</time></a>
&lt;<span class='nick nick-16'> CubicEarth</span>&gt;
after I order more ram :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1467413220' id='477577'>
<a class='timestamp' href='#477577'><time timestamp='2016-07-01T22:47:00Z'>22:47</time></a>
&lt;<span class='nick nick-16'> CubicEarth</span>&gt;
gmaxwell: earlier you wrote &quot;and nodes don&#x27;t even verify the signatures far back in the chain.&quot;.  That&#x27;s due to checkpoints, right?  They don&#x27;t seem like a good thing to rely on.  I understand their practicality, but yeah.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467413340' id='477578'>
<a class='timestamp' href='#477578'><time timestamp='2016-07-01T22:49:00Z'>22:49</time></a>
&lt;<span class='nick nick-16'> CubicEarth</span>&gt;
I&#x27;m just trying to understand the theoretical performance limits... I&#x27;m not crusading against checkpoints
<br>
</div>

<div class='talk op-msg' data-timestamp='1467413520' id='477579'>
<a class='timestamp' href='#477579'><time timestamp='2016-07-01T22:52:00Z'>22:52</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
well you&#x27;d be welcome here to do that, I want them gone and have for years.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467413580' id='477580'>
<a class='timestamp' href='#477580'><time timestamp='2016-07-01T22:53:00Z'>22:53</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
But even with them gone, one can avoid skipping signature validation during the initial sync for blocks burried by thousands of additional blocks with negligible risk-- consider, if miners went rogue enough to reorg thousands of blocks the system is already screwed... and if its only during initial sync they&#x27;d only trick new nodes in any case.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467413640' id='477581'>
<a class='timestamp' href='#477581'><time timestamp='2016-07-01T22:54:00Z'>22:54</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
if it makes a difference between a user running a node or not-- the best choice is clear.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467413640' id='477582'>
<a class='timestamp' href='#477582'><time timestamp='2016-07-01T22:54:00Z'>22:54</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Meanwhile bitcoinxt and classic have disabled signature checking for any block where the miner supplied timestamp is a day back or more... meaning they can be fooled without a reorg at all. And no one seems to care.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467413760' id='477583'>
<a class='timestamp' href='#477583'><time timestamp='2016-07-01T22:56:00Z'>22:56</time></a>
&lt;<span class='nick nick-16'> CubicEarth</span>&gt;
Arn&#x27;t miners only afforded the option to have their timestamp be off by more than 2-hours?
<br>
</div>

<div class='talk op-msg' data-timestamp='1467413820' id='477584'>
<a class='timestamp' href='#477584'><time timestamp='2016-07-01T22:57:00Z'>22:57</time></a>
&lt;<span class='nick nick-16'> CubicEarth</span>&gt;
(as an aside)
<br>
</div>

<div class='talk op-msg' data-timestamp='1467413820' id='477585'>
<a class='timestamp' href='#477585'><time timestamp='2016-07-01T22:57:00Z'>22:57</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
no, not in the past direction. In the future direction yes.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467413880' id='477586'>
<a class='timestamp' href='#477586'><time timestamp='2016-07-01T22:58:00Z'>22:58</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
The past direction is limited by the median of the last 11 blocks-- but that median can be arbritarily far back.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467413940' id='477587'>
<a class='timestamp' href='#477587'><time timestamp='2016-07-01T22:59:00Z'>22:59</time></a>
&lt;<span class='nick nick-16'> CubicEarth</span>&gt;
So practically speaking, the way to detect the issue is when the client said it was &#x27;synced&#x27; and you noticed that is was reporting yesterdays date?
<br>
</div>

<div class='talk op-msg' data-timestamp='1467413940' id='477588'>
<a class='timestamp' href='#477588'><time timestamp='2016-07-01T22:59:00Z'>22:59</time></a>
&lt;<span class='nick nick-5'> midnightmagic</span>&gt;
..  did they actually commit that change? the &gt;24hr non-t-verify change?
<br>
</div>

<div class='talk op-msg' data-timestamp='1467414060' id='477589'>
<a class='timestamp' href='#477589'><time timestamp='2016-07-01T23:01:00Z'>23:01</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
CubicEarth: no, because miners can simply add a correctly timed block immediately after.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467414120' id='477590'>
<a class='timestamp' href='#477590'><time timestamp='2016-07-01T23:02:00Z'>23:02</time></a>
&lt;<span class='nick nick-16'> CubicEarth</span>&gt;
That would appear as if the hashrate had fallen precipitously... not blocks for 24hr!
<br>
</div>

<div class='talk op-msg' data-timestamp='1467414180' id='477591'>
<a class='timestamp' href='#477591'><time timestamp='2016-07-01T23:03:00Z'>23:03</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
midnightmagic: XT did and released, it&#x27;s merged in classic, but I don&#x27;t know if it made it into a release yet.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467414180' id='477592'>
<a class='timestamp' href='#477592'><time timestamp='2016-07-01T23:03:00Z'>23:03</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
These folks are extremely and dangerously incompetent.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467414240' id='477593'>
<a class='timestamp' href='#477593'><time timestamp='2016-07-01T23:04:00Z'>23:04</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
CubicEarth: no, just a wonky timestamp, miners provide the timestamps and sometimes they&#x27;re pretty wonky.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467414240' id='477594'>
<a class='timestamp' href='#477594'><time timestamp='2016-07-01T23:04:00Z'>23:04</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
and while <u>_syncing_</u> you have no idea that the timestamps were wonky. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1467414300' id='477595'>
<a class='timestamp' href='#477595'><time timestamp='2016-07-01T23:05:00Z'>23:05</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
e.g. someone can produce blocks that are -24h, -23h, -22h .... normal.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467414300' id='477596'>
<a class='timestamp' href='#477596'><time timestamp='2016-07-01T23:05:00Z'>23:05</time></a>
&lt;<span class='nick nick-5'> midnightmagic</span>&gt;
so.. the peer preference thing means some of the alt-branch software will soon start disconnecting the only nodes that are immune to the attack, making themselves <b>*more*</b> vulnerable to it?
<br>
</div>

<div class='talk op-msg' data-timestamp='1467414420' id='477597'>
<a class='timestamp' href='#477597'><time timestamp='2016-07-01T23:07:00Z'>23:07</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
midnightmagic: I don&#x27;t think that matters that much, but right now bitcoin &quot;xt&quot; is only not totally partitioned due to inbound connections from core to XT, but part of segwit is that segwit capable nodes will strongly prefer to connect out to only non-segwit nodes (because they must in order to get blocks once segwit is activated)-- the result will be making that partition complete.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467414480' id='477598'>
<a class='timestamp' href='#477598'><time timestamp='2016-07-01T23:08:00Z'>23:08</time></a>
&lt;<span class='nick nick-5'> midnightmagic</span>&gt;
i thought -classic was now disconnecting non-classic nodes
<br>
</div>

<div class='talk op-msg' data-timestamp='1467414540' id='477599'>
<a class='timestamp' href='#477599'><time timestamp='2016-07-01T23:09:00Z'>23:09</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
no, Xt. I don&#x27;t think classic is doing that yet.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467414600' id='477600'>
<a class='timestamp' href='#477600'><time timestamp='2016-07-01T23:10:00Z'>23:10</time></a>
&lt;<span class='nick nick-5'> slackircbridge1</span>&gt;
&lt;alp&gt; let them lose money for people
<br>
</div>

<div class='talk op-msg' data-timestamp='1467414600' id='477601'>
<a class='timestamp' href='#477601'><time timestamp='2016-07-01T23:10:00Z'>23:10</time></a>
&lt;<span class='nick nick-5'> slackircbridge1</span>&gt;
&lt;alp&gt; its the only way theyll learn
<br>
</div>

<div class='talk op-msg' data-timestamp='1467414600' id='477602'>
<a class='timestamp' href='#477602'><time timestamp='2016-07-01T23:10:00Z'>23:10</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
It&#x27;s not that simple. See also: Ethereum and DAO.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467414660' id='477603'>
<a class='timestamp' href='#477603'><time timestamp='2016-07-01T23:11:00Z'>23:11</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
which adversely impacted the bitcoin price even though many of us have been pointing out the related risks and distinguishing bitcoin on the basis of them for some time.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467414780' id='477604'>
<a class='timestamp' href='#477604'><time timestamp='2016-07-01T23:13:00Z'>23:13</time></a>
&lt;<span class='nick nick-5'> slackircbridge1</span>&gt;
&lt;brg444&gt; :O
<br>
</div>

<div class='talk op-msg' data-timestamp='1467414780' id='477605'>
<a class='timestamp' href='#477605'><time timestamp='2016-07-01T23:13:00Z'>23:13</time></a>
&lt;<span class='nick nick-16'> CubicEarth</span>&gt;
gmaxwell: well I&#x27;m pretty sure the rise of ETH was hurting the bitcoin price to some extent.  I think this event was a decoupling, where Bitcoin shakes the monkey off its back.
<br>
</div>

<div class='talk op-msg' data-timestamp='1467414780' id='477606'>
<a class='timestamp' href='#477606'><time timestamp='2016-07-01T23:13:00Z'>23:13</time></a>
&lt;<span class='nick nick-5'> slackircbridge1</span>&gt;
&lt;brg444&gt; did he read your post :O
<br>
</div>

<div class='talk op-msg' data-timestamp='1467415440' id='477607'>
<a class='timestamp' href='#477607'><time timestamp='2016-07-01T23:24:00Z'>23:24</time></a>
&lt;<span class='nick nick-5'> slackircbridge1</span>&gt;
&lt;alp&gt; Short term pain, long term gain
<br>
</div>

<div class='talk op-msg' data-timestamp='1467415620' id='477608'>
<a class='timestamp' href='#477608'><time timestamp='2016-07-01T23:27:00Z'>23:27</time></a>
&lt;<span class='nick nick-5'> slackircbridge1</span>&gt;
&lt;moli&gt; guys, we can read your posts on IRC lol
<br>
</div>

<div class='talk op-msg' data-timestamp='1467415980' id='477609'>
<a class='timestamp' href='#477609'><time timestamp='2016-07-01T23:33:00Z'>23:33</time></a>
&lt;<span class='nick nick-15'>@btcdrak</span>&gt;
wait that&#x27;s wrong. I&#x27;m trying to set slackircbridge1 +q
<br>
</div>

<div class='talk op-msg' data-timestamp='1467415980' id='477610'>
<a class='timestamp' href='#477610'><time timestamp='2016-07-01T23:33:00Z'>23:33</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
lol
<br>
</div>

<div class='talk op-msg' data-timestamp='1467416040' id='477611'>
<a class='timestamp' href='#477611'><time timestamp='2016-07-01T23:34:00Z'>23:34</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
undo the damage first.
<br>
</div>

</div>
</section>

</body>
</html>
