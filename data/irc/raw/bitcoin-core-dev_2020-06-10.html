<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2020-06-10
 ‚Äî 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2020-06-10' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:18 UTC</pre>
<pre><a href="/bitcoin-core-dev/2020-05-10">&lt;</a><span class='header'>    June 2020     </span><a href="/bitcoin-core-dev/2020-07-10">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;    <a class="" href="/bitcoin-core-dev/2020-06-01">1</a>  <a class="" href="/bitcoin-core-dev/2020-06-02">2</a>  <a class="" href="/bitcoin-core-dev/2020-06-03">3</a>  <a class="" href="/bitcoin-core-dev/2020-06-04">4</a>  <a class="" href="/bitcoin-core-dev/2020-06-05">5</a>  <a class="" href="/bitcoin-core-dev/2020-06-06">6</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2020-06-07">7</a>  <a class="" href="/bitcoin-core-dev/2020-06-08">8</a>  <a class="" href="/bitcoin-core-dev/2020-06-09">9</a> <a class="current" href="/bitcoin-core-dev/2020-06-10">10</a> <a class="" href="/bitcoin-core-dev/2020-06-11">11</a> <a class="" href="/bitcoin-core-dev/2020-06-12">12</a> <a class="" href="/bitcoin-core-dev/2020-06-13">13</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2020-06-14">14</a> <a class="" href="/bitcoin-core-dev/2020-06-15">15</a> <a class="" href="/bitcoin-core-dev/2020-06-16">16</a> <a class="" href="/bitcoin-core-dev/2020-06-17">17</a> <a class="" href="/bitcoin-core-dev/2020-06-18">18</a> <a class="" href="/bitcoin-core-dev/2020-06-19">19</a> <a class="" href="/bitcoin-core-dev/2020-06-20">20</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2020-06-21">21</a> <a class="" href="/bitcoin-core-dev/2020-06-22">22</a> <a class="" href="/bitcoin-core-dev/2020-06-23">23</a> <a class="" href="/bitcoin-core-dev/2020-06-24">24</a> <a class="" href="/bitcoin-core-dev/2020-06-25">25</a> <a class="" href="/bitcoin-core-dev/2020-06-26">26</a> <a class="" href="/bitcoin-core-dev/2020-06-27">27</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2020-06-28">28</a> <a class="" href="/bitcoin-core-dev/2020-06-29">29</a> <a class="" href="/bitcoin-core-dev/2020-06-30">30</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1591750320' id='391469'>
<a class='timestamp' href='#391469'><time timestamp='2020-06-10T00:52:00Z'>00:52</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] sipa opened pull request #19230: [TESTS] Move base58 to own module to break circular dependency (master...202006_addr_base58) <a href="https://github.com/bitcoin/bitcoin/pull/19230" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19230</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1591753020' id='391470'>
<a class='timestamp' href='#391470'><time timestamp='2020-06-10T01:37:00Z'>01:37</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
qt/bitcoin.cpp: In function ‚Äòint GuiMain(int, char**)‚Äô:
<br>
</div>

<div class='talk op-msg' data-timestamp='1591753020' id='391471'>
<a class='timestamp' href='#391471'><time timestamp='2020-06-10T01:37:00Z'>01:37</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
qt/bitcoin.cpp:460:35: error: ‚ÄòUntranslated‚Äô was not declared in this scope
<br>
</div>

<div class='talk op-msg' data-timestamp='1591753020' id='391472'>
<a class='timestamp' href='#391472'><time timestamp='2020-06-10T01:37:00Z'>01:37</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
         node-&gt;initError(strprintf(Untranslated(&quot;Error parsing command line arguments: %s\n&quot;), error));
<br>
</div>

<div class='talk op-msg' data-timestamp='1591753020' id='391473'>
<a class='timestamp' href='#391473'><time timestamp='2020-06-10T01:37:00Z'>01:37</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
                                   ^~~~~~~~~~~~
<br>
</div>

<div class='talk op-msg' data-timestamp='1591753200' id='391474'>
<a class='timestamp' href='#391474'><time timestamp='2020-06-10T01:40:00Z'>01:40</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
Looks like #19176 was merged even though broken for one of the builds
<br>
</div>

<div class='talk op-msg' data-timestamp='1591753200' id='391475'>
<a class='timestamp' href='#391475'><time timestamp='2020-06-10T01:40:00Z'>01:40</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/19176" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/19176</a> | refactor: Error message bilingual_str consistency by laanwj ¬∑ Pull Request #19176 ¬∑ bitcoin/bitcoin ¬∑ GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1591753440' id='391476'>
<a class='timestamp' href='#391476'><time timestamp='2020-06-10T01:44:00Z'>01:44</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
fanquake: ci looks green for that PR?
<br>
</div>

<div class='talk op-msg' data-timestamp='1591753440' id='391477'>
<a class='timestamp' href='#391477'><time timestamp='2020-06-10T01:44:00Z'>01:44</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
also i can&#x27;t reproduce this locally
<br>
</div>

<div class='talk op-msg' data-timestamp='1591753500' id='391478'>
<a class='timestamp' href='#391478'><time timestamp='2020-06-10T01:45:00Z'>01:45</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
Yea green for the PR, but one build failed in the merge: <a href="https://travis-ci.org/github/bitcoin/bitcoin/builds/696627533" class="link" target="_blank">https://travis-ci.org/github/bitcoin/bitcoin/builds/696627533</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1591753500' id='391479'>
<a class='timestamp' href='#391479'><time timestamp='2020-06-10T01:45:00Z'>01:45</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
I also am not seeing it locally
<br>
</div>

<div class='talk op-msg' data-timestamp='1591754460' id='391480'>
<a class='timestamp' href='#391480'><time timestamp='2020-06-10T02:01:00Z'>02:01</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
Reproduced in a bionic container.
<br>
</div>

<div class='talk op-msg' data-timestamp='1591754520' id='391481'>
<a class='timestamp' href='#391481'><time timestamp='2020-06-10T02:02:00Z'>02:02</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
Will probably PR a fix
<br>
</div>

<div class='talk op-msg' data-timestamp='1591755180' id='391482'>
<a class='timestamp' href='#391482'><time timestamp='2020-06-10T02:13:00Z'>02:13</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] fanquake opened pull request #19231: gui: add missing translation.h include to fix build (master...translations_gui_fixup) <a href="https://github.com/bitcoin/bitcoin/pull/19231" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19231</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1591780380' id='391483'>
<a class='timestamp' href='#391483'><time timestamp='2020-06-10T09:13:00Z'>09:13</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] fanquake pushed 2 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/f8364df25070...20e95313790c" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/f8364df25070...20e95313790c</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1591780380' id='391484'>
<a class='timestamp' href='#391484'><time timestamp='2020-06-10T09:13:00Z'>09:13</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 948f113 fanquake: gui: add missing translation.h include to fix build
<br>
</div>

<div class='talk op-msg' data-timestamp='1591780380' id='391485'>
<a class='timestamp' href='#391485'><time timestamp='2020-06-10T09:13:00Z'>09:13</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 20e9531 fanquake: Merge #19231: gui: add missing translation.h include to fix build
<br>
</div>

<div class='talk op-msg' data-timestamp='1591780380' id='391486'>
<a class='timestamp' href='#391486'><time timestamp='2020-06-10T09:13:00Z'>09:13</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] fanquake merged pull request #19231: gui: add missing translation.h include to fix build (master...translations_gui_fixup) <a href="https://github.com/bitcoin/bitcoin/pull/19231" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19231</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1591782540' id='391487'>
<a class='timestamp' href='#391487'><time timestamp='2020-06-10T09:49:00Z'>09:49</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] hebasto opened pull request #19233: Make SetMiscWarning() accept bilingual_str argument (master...200610-bi-warn) <a href="https://github.com/bitcoin/bitcoin/pull/19233" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19233</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1591789860' id='391488'>
<a class='timestamp' href='#391488'><time timestamp='2020-06-10T11:51:00Z'>11:51</time></a>
&lt;<span class='nick nick-12'> shesek</span>&gt;
0.20.0 does not appear to report descriptor information in getaddressinfo. is this a known bug? or am I missing something? here&#x27;s a simple reproduction script (basically a simple `importmulti` followed by a `getaddressinfo`) and the output I&#x27;m seeing for 0.19.1 and 0.20.0: <a href="https://gist.github.com/shesek/cecfe7f154f7a0356d8882f694713e20" class="link" target="_blank">https://gist.github.com/shesek/cecfe7f154f7a0356d8882f694713e20</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1591790100' id='391489'>
<a class='timestamp' href='#391489'><time timestamp='2020-06-10T11:55:00Z'>11:55</time></a>
&lt;<span class='nick nick-12'> shesek</span>&gt;
oh wait, I&#x27;m using pk() and treating it as a base58 address, which it isn&#x27;t
<br>
</div>

<div class='talk op-msg' data-timestamp='1591790160' id='391490'>
<a class='timestamp' href='#391490'><time timestamp='2020-06-10T11:56:00Z'>11:56</time></a>
&lt;<span class='nick nick-5'> harding</span>&gt;
Yeah, I think the question is why bitcoin-cli -regtest deriveaddresses &#x27;pk(0279be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798)#gn28ywm7&#x27; returns a P2PKH address.
<br>
</div>

<div class='talk op-msg' data-timestamp='1591790340' id='391491'>
<a class='timestamp' href='#391491'><time timestamp='2020-06-10T11:59:00Z'>11:59</time></a>
&lt;<span class='nick nick-12'> shesek</span>&gt;
is that for 0.19, 0.20 or both?
<br>
</div>

<div class='talk op-msg' data-timestamp='1591790400' id='391492'>
<a class='timestamp' href='#391492'><time timestamp='2020-06-10T12:00:00Z'>12:00</time></a>
&lt;<span class='nick nick-5'> harding</span>&gt;
Both 0.19.0.1 and 0.20.0 (just tested).
<br>
</div>

<div class='talk op-msg' data-timestamp='1591790400' id='391493'>
<a class='timestamp' href='#391493'><time timestamp='2020-06-10T12:00:00Z'>12:00</time></a>
&lt;<span class='nick nick-12'> shesek</span>&gt;
the missing descriptor info was indeed due to using pk() and then requesting the base58 address, it does work as expected with pkh()
<br>
</div>

<div class='talk op-msg' data-timestamp='1591790460' id='391494'>
<a class='timestamp' href='#391494'><time timestamp='2020-06-10T12:01:00Z'>12:01</time></a>
&lt;<span class='nick nick-12'> shesek</span>&gt;
harding, yes, it definitely shouldn&#x27;t do that :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1591790640' id='391495'>
<a class='timestamp' href='#391495'><time timestamp='2020-06-10T12:04:00Z'>12:04</time></a>
&lt;<span class='nick nick-12'> shesek</span>&gt;
so what changed between 0.19 and 0.20? it seems like something in 0.20 no longer considers pk() to be p2pkh-like-base58-encodeable
<br>
</div>

<div class='talk op-msg' data-timestamp='1591791720' id='391496'>
<a class='timestamp' href='#391496'><time timestamp='2020-06-10T12:22:00Z'>12:22</time></a>
&lt;<span class='nick nick-12'> shesek</span>&gt;
not treating p2pk as base58 encodable in esplora is probably the #1 cause for complaints I&#x27;m hearing from people, especially around times when old stashes move around and everyone wants to look them up on the explorers. its hard enough to explain that other block explorers are wrong, but bitcoind doing it too makes this quite more challenging :p (in some other places too)
<br>
</div>

<div class='talk op-msg' data-timestamp='1591791720' id='391497'>
<a class='timestamp' href='#391497'><time timestamp='2020-06-10T12:22:00Z'>12:22</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/1" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/1</a> | JSON-RPC support for mobile devices (&quot;ultra-lightweight&quot; clients) ¬∑ Issue #1 ¬∑ bitcoin/bitcoin ¬∑ GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1591791900' id='391498'>
<a class='timestamp' href='#391498'><time timestamp='2020-06-10T12:25:00Z'>12:25</time></a>
&lt;<span class='nick nick-12'> shesek</span>&gt;
harding, oddly enough, it seems like importing a pk() descriptor with a label on 0.20, then calling getaddressesbylabel with that label, does return the p2pkh address. and the label does show up in `getaddressinfo` for the p2pkh address, while the `ismine`/`iswatchonly` fields are set to `false`
<br>
</div>

<div class='talk op-msg' data-timestamp='1591792020' id='391499'>
<a class='timestamp' href='#391499'><time timestamp='2020-06-10T12:27:00Z'>12:27</time></a>
&lt;<span class='nick nick-12'> shesek</span>&gt;
importing with a label and using getaddressesbylabel is actually how I found myself using the p2pkh address format of a p2pk script in the first place
<br>
</div>

<div class='talk op-msg' data-timestamp='1591793040' id='391500'>
<a class='timestamp' href='#391500'><time timestamp='2020-06-10T12:44:00Z'>12:44</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
fanquake: thanks for fixing the build after #19176, it&#x27;s kind of strange, pretty sure the PR passed all the checks
<br>
</div>

<div class='talk op-msg' data-timestamp='1591793100' id='391501'>
<a class='timestamp' href='#391501'><time timestamp='2020-06-10T12:45:00Z'>12:45</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/19176" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/19176</a> | refactor: Error message bilingual_str consistency by laanwj ¬∑ Pull Request #19176 ¬∑ bitcoin/bitcoin ¬∑ GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1591793880' id='391502'>
<a class='timestamp' href='#391502'><time timestamp='2020-06-10T12:58:00Z'>12:58</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
wumpus: no worries üëç
<br>
</div>

<div class='talk op-msg' data-timestamp='1591795500' id='391503'>
<a class='timestamp' href='#391503'><time timestamp='2020-06-10T13:25:00Z'>13:25</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 2 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/20e95313790c...bc933aeaf044" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/20e95313790c...bc933aeaf044</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1591795500' id='391504'>
<a class='timestamp' href='#391504'><time timestamp='2020-06-10T13:25:00Z'>13:25</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master fa7b46c MarcoFalke: test: Add BerkeleyDatabase tsan suppression
<br>
</div>

<div class='talk op-msg' data-timestamp='1591795500' id='391505'>
<a class='timestamp' href='#391505'><time timestamp='2020-06-10T13:25:00Z'>13:25</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master bc933ae Wladimir J. van der Laan: Merge #19226: test: Add BerkeleyDatabase tsan suppression
<br>
</div>

<div class='talk op-msg' data-timestamp='1591795560' id='391506'>
<a class='timestamp' href='#391506'><time timestamp='2020-06-10T13:26:00Z'>13:26</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj merged pull request #19226: test: Add BerkeleyDatabase tsan suppression (master...2006-ciTsanSupWallet) <a href="https://github.com/bitcoin/bitcoin/pull/19226" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19226</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1591796040' id='391507'>
<a class='timestamp' href='#391507'><time timestamp='2020-06-10T13:34:00Z'>13:34</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] Sjors closed pull request #13818: More intuitive GUI settings behavior when -proxy is set (master...2018/07/gui-proxy) <a href="https://github.com/bitcoin/bitcoin/pull/13818" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/13818</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1591796280' id='391508'>
<a class='timestamp' href='#391508'><time timestamp='2020-06-10T13:38:00Z'>13:38</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Review nag for #18030; one of those situations where just documenting the confusion seems faster than fixing it :-)
<br>
</div>

<div class='talk op-msg' data-timestamp='1591796280' id='391509'>
<a class='timestamp' href='#391509'><time timestamp='2020-06-10T13:38:00Z'>13:38</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/18030" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/18030</a> | doc: Coin::IsSpent() can also mean never existed by Sjors ¬∑ Pull Request #18030 ¬∑ bitcoin/bitcoin ¬∑ GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1591796460' id='391510'>
<a class='timestamp' href='#391510'><time timestamp='2020-06-10T13:41:00Z'>13:41</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Somehwat similar, though this  one requires action within the next decade :-) #13875
<br>
</div>

<div class='talk op-msg' data-timestamp='1591796460' id='391511'>
<a class='timestamp' href='#391511'><time timestamp='2020-06-10T13:41:00Z'>13:41</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/13875" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/13875</a> | [doc] nChainTx needs to become a 64-bit earlier due to SegWit by Sjors ¬∑ Pull Request #13875 ¬∑ bitcoin/bitcoin ¬∑ GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1591797120' id='391512'>
<a class='timestamp' href='#391512'><time timestamp='2020-06-10T13:52:00Z'>13:52</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke pushed 4 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/bc933aeaf044...371a73e94043" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/bc933aeaf044...371a73e94043</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1591797120' id='391513'>
<a class='timestamp' href='#391513'><time timestamp='2020-06-10T13:52:00Z'>13:52</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 38e33aa Hennadii Stepanov: refactor: Make GetWarnings() bilingual_str aware internally
<br>
</div>

<div class='talk op-msg' data-timestamp='1591797120' id='391514'>
<a class='timestamp' href='#391514'><time timestamp='2020-06-10T13:52:00Z'>13:52</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master d1ae7c0 Hennadii Stepanov: Make GetWarnings() return bilingual_str
<br>
</div>

<div class='talk op-msg' data-timestamp='1591797120' id='391515'>
<a class='timestamp' href='#391515'><time timestamp='2020-06-10T13:52:00Z'>13:52</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master d49612f Hennadii Stepanov: Make SetMiscWarning() accept bilingual_str argument
<br>
</div>

<div class='talk op-msg' data-timestamp='1591797180' id='391516'>
<a class='timestamp' href='#391516'><time timestamp='2020-06-10T13:53:00Z'>13:53</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke merged pull request #19233: Make SetMiscWarning() accept bilingual_str argument (master...200610-bi-warn) <a href="https://github.com/bitcoin/bitcoin/pull/19233" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19233</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1591798140' id='391517'>
<a class='timestamp' href='#391517'><time timestamp='2020-06-10T14:09:00Z'>14:09</time></a>
&lt;<span class='nick nick-12'> shesek</span>&gt;
harding, I reported this at <a href="https://github.com/bitcoin/bitcoin/issues/19236" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/19236</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1591798500' id='391518'>
<a class='timestamp' href='#391518'><time timestamp='2020-06-10T14:15:00Z'>14:15</time></a>
&lt;<span class='nick nick-12'> shesek</span>&gt;
is there a customary notation for referring to the nth script of a descriptor identified by its checksum? something like &lt;checksum&gt;/&lt;index&gt;, akin to &lt;bip32-fingerprint&gt;/&lt;index&gt;?
<br>
</div>

<div class='talk op-msg' data-timestamp='1591798740' id='391519'>
<a class='timestamp' href='#391519'><time timestamp='2020-06-10T14:19:00Z'>14:19</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Hardware wallet support write up: <a href="https://gist.github.com/Sjors/29d06728c685e6182828c1ce9b74483d" class="link" target="_blank">https://gist.github.com/Sjors/29d06728c685e6182828c1ce9b74483d</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1591799100' id='391520'>
<a class='timestamp' href='#391520'><time timestamp='2020-06-10T14:25:00Z'>14:25</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke pushed 2 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/371a73e94043...6762a627ecb8" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/371a73e94043...6762a627ecb8</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1591799100' id='391521'>
<a class='timestamp' href='#391521'><time timestamp='2020-06-10T14:25:00Z'>14:25</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master c75de5d Pieter Wuille: [TESTS] Move base58 to own module to break circular dependency
<br>
</div>

<div class='talk op-msg' data-timestamp='1591799100' id='391522'>
<a class='timestamp' href='#391522'><time timestamp='2020-06-10T14:25:00Z'>14:25</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 6762a62 MarcoFalke: Merge #19230: [TESTS] Move base58 to own module to break circular dependen...
<br>
</div>

<div class='talk op-msg' data-timestamp='1591799160' id='391523'>
<a class='timestamp' href='#391523'><time timestamp='2020-06-10T14:26:00Z'>14:26</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke merged pull request #19230: [TESTS] Move base58 to own module to break circular dependency (master...202006_addr_base58) <a href="https://github.com/bitcoin/bitcoin/pull/19230" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19230</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1591800000' id='391524'>
<a class='timestamp' href='#391524'><time timestamp='2020-06-10T14:40:00Z'>14:40</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] elichai opened pull request #19237: Check size after unserializing a pubkey (master...2020-06-pubkey) <a href="https://github.com/bitcoin/bitcoin/pull/19237" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19237</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1591802640' id='391525'>
<a class='timestamp' href='#391525'><time timestamp='2020-06-10T15:24:00Z'>15:24</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
For some reason Travis isn&#x27;t running on #15382, but I don&#x27;t think my account is flagged (this time)...
<br>
</div>

<div class='talk op-msg' data-timestamp='1591802640' id='391526'>
<a class='timestamp' href='#391526'><time timestamp='2020-06-10T15:24:00Z'>15:24</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/15382" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/15382</a> | util: add runCommandParseJSON by Sjors ¬∑ Pull Request #15382 ¬∑ bitcoin/bitcoin ¬∑ GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1591802640' id='391527'>
<a class='timestamp' href='#391527'><time timestamp='2020-06-10T15:24:00Z'>15:24</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
provoostenator: nice, thanks for writing that up
<br>
</div>

<div class='talk op-msg' data-timestamp='1591802760' id='391528'>
<a class='timestamp' href='#391528'><time timestamp='2020-06-10T15:26:00Z'>15:26</time></a>
&lt;<span class='nick nick-14'> jonatack</span>&gt;
thanks provoostenator
<br>
</div>

<div class='talk op-msg' data-timestamp='1591803600' id='391529'>
<a class='timestamp' href='#391529'><time timestamp='2020-06-10T15:40:00Z'>15:40</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] hebasto opened pull request #19238: refactor: Replace RecursiveMutex with Mutex in CAddrMan (master...200610-addrman-mx) <a href="https://github.com/bitcoin/bitcoin/pull/19238" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19238</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1591804560' id='391530'>
<a class='timestamp' href='#391530'><time timestamp='2020-06-10T15:56:00Z'>15:56</time></a>
&lt;<span class='nick nick-12'> Kiminuo</span>&gt;
wumpus, Hi, I have been investigating std::filesystem in c++17 a bit (see <a href="https://github.com/bitcoin/bitcoin/pull/19183#issuecomment-641321318" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19183#issuecomment-641321318</a>) and I would like to lay the groundwork for a worthy PR. I&#x27;m just wondering whether you would be willing to answer a few questions along the way - given that you know the old issues with boost::filesystem. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1591805580' id='391531'>
<a class='timestamp' href='#391531'><time timestamp='2020-06-10T16:13:00Z'>16:13</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jnewbery opened pull request #19239: tests: move generate_wif_key to wallet_util.py (master...2020-06-generate-wif-key) <a href="https://github.com/bitcoin/bitcoin/pull/19239" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19239</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1591806900' id='391532'>
<a class='timestamp' href='#391532'><time timestamp='2020-06-10T16:35:00Z'>16:35</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
Kiminuo: sure! though, I&#x27;m not sure I&#x27;m aware of all the old issues with boost::filesystem, just that there&#x27;s a long history of them
<br>
</div>

<div class='talk op-msg' data-timestamp='1591807020' id='391533'>
<a class='timestamp' href='#391533'><time timestamp='2020-06-10T16:37:00Z'>16:37</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
(and as said I&#x27;m most worried about windows support, it tends to be that the mingw c++ library support lags beind unix/linux ‚Äî but if it passes all the unit and functional tests even on that platform it&#x27;s a good indication at least )
<br>
</div>

<div class='talk op-msg' data-timestamp='1591807980' id='391534'>
<a class='timestamp' href='#391534'><time timestamp='2020-06-10T16:53:00Z'>16:53</time></a>
&lt;<span class='nick nick-12'> Kiminuo</span>&gt;
wumpus, well, I have two projects in MSVS, one with boost and one with c++17 and so far I have problems with unicode in boost project but c++17 &amp; unicode works well for me - I use fs::u8path (<a href="https://en.cppreference.com/w/cpp/filesystem/path/u8path)" class="link" target="_blank">https://en.cppreference.com/w/cpp/filesystem/path/u8path)</a> and not fs::path. This makes me believe that c++17 may actually help with unicode issues. No guarantees at this point though. It&#x27;s just it may not be that crazy idea to change fs::path -&gt; fs:u8path. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1591807980' id='391535'>
<a class='timestamp' href='#391535'><time timestamp='2020-06-10T16:53:00Z'>16:53</time></a>
&lt;<span class='nick nick-12'> Kiminuo</span>&gt;
But it&#x27;s very hard for me to assess whether it&#x27;s a good idea or not and if it sounds good whether there are corner cases (different platforms, different Bitcoin features,...)
<br>
</div>

<div class='talk op-msg' data-timestamp='1591808160' id='391536'>
<a class='timestamp' href='#391536'><time timestamp='2020-06-10T16:56:00Z'>16:56</time></a>
&lt;<span class='nick nick-12'> Kiminuo</span>&gt;
One notable new issue with c++17 is that fs::unique_path is not implemented because <a href="https://stackoverflow.com/questions/43316527/what-is-the-c17-equivalent-to-boostfilesystemunique-path" class="link" target="_blank">https://stackoverflow.com/questions/43316527/what-is-the-c17-equivalent-to-boostfilesystemunique-path</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1591808220' id='391537'>
<a class='timestamp' href='#391537'><time timestamp='2020-06-10T16:57:00Z'>16:57</time></a>
&lt;<span class='nick nick-12'> Kiminuo</span>&gt;
However, the implementation is not that hard <a href="https://github.com/boostorg/filesystem/blob/boost-1.73.0/src/unique_path.cpp#L127" class="link" target="_blank">https://github.com/boostorg/filesystem/blob/boost-1.73.0/src/unique_path.cpp#L127</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1591808220' id='391538'>
<a class='timestamp' href='#391538'><time timestamp='2020-06-10T16:57:00Z'>16:57</time></a>
&lt;<span class='nick nick-12'> Kiminuo</span>&gt;
Lot&#x27;s of things :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1591811280' id='391539'>
<a class='timestamp' href='#391539'><time timestamp='2020-06-10T17:48:00Z'>17:48</time></a>
&lt;<span class='nick nick-4'> sipsorcery</span>&gt;
Kiminuo: If you need I can check/help with changes to the file path logic on Windows.
<br>
</div>

<div class='talk op-msg' data-timestamp='1591811340' id='391540'>
<a class='timestamp' href='#391540'><time timestamp='2020-06-10T17:49:00Z'>17:49</time></a>
&lt;<span class='nick nick-4'> sipsorcery</span>&gt;
iirc there were a few PR&#x27;s to fix some Windows unicode issues a year or so ago.
<br>
</div>

<div class='talk op-msg' data-timestamp='1591811340' id='391541'>
<a class='timestamp' href='#391541'><time timestamp='2020-06-10T17:49:00Z'>17:49</time></a>
&lt;<span class='nick nick-12'> Kiminuo</span>&gt;
sipsorcery, great! I&#x27;ll try to prepare a draft PR in coming days and it will be great to collaborate on that then :-)
<br>
</div>

<div class='talk op-msg' data-timestamp='1591811400' id='391542'>
<a class='timestamp' href='#391542'><time timestamp='2020-06-10T17:50:00Z'>17:50</time></a>
&lt;<span class='nick nick-12'> Kiminuo</span>&gt;
sipsorcery, if you know about any of that issue, could you send a link? It would be helpful to compile a list of those issues to make review easier
<br>
</div>

<div class='talk op-msg' data-timestamp='1591811400' id='391543'>
<a class='timestamp' href='#391543'><time timestamp='2020-06-10T17:50:00Z'>17:50</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
Kiminuo: i briefly looked into replacing fs with something std::filesystem based, but didn&#x27;t get very far
<br>
</div>

<div class='talk op-msg' data-timestamp='1591811460' id='391544'>
<a class='timestamp' href='#391544'><time timestamp='2020-06-10T17:51:00Z'>17:51</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i did notice that it&#x27;d require a separate unique_path
<br>
</div>

<div class='talk op-msg' data-timestamp='1591811460' id='391545'>
<a class='timestamp' href='#391545'><time timestamp='2020-06-10T17:51:00Z'>17:51</time></a>
&lt;<span class='nick nick-4'> sipsorcery</span>&gt;
It&#x27;d be great to get rid of the Win32 CreateDirectoryA/CreateDirectoryW etc calls and replace with std library calls.
<br>
</div>

<div class='talk op-msg' data-timestamp='1591811460' id='391546'>
<a class='timestamp' href='#391546'><time timestamp='2020-06-10T17:51:00Z'>17:51</time></a>
&lt;<span class='nick nick-4'> sipsorcery</span>&gt;
I&#x27;ll dig up the PR&#x27;s.
<br>
</div>

<div class='talk op-msg' data-timestamp='1591811460' id='391547'>
<a class='timestamp' href='#391547'><time timestamp='2020-06-10T17:51:00Z'>17:51</time></a>
&lt;<span class='nick nick-12'> Kiminuo</span>&gt;
sipa, Yes, it&#x27;s true about the unique_path, unfortunately. But given a random generator, one can generate a random file name, right?
<br>
</div>

<div class='talk op-msg' data-timestamp='1591811520' id='391548'>
<a class='timestamp' href='#391548'><time timestamp='2020-06-10T17:52:00Z'>17:52</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sure
<br>
</div>

<div class='talk op-msg' data-timestamp='1591811520' id='391549'>
<a class='timestamp' href='#391549'><time timestamp='2020-06-10T17:52:00Z'>17:52</time></a>
&lt;<span class='nick nick-12'> Kiminuo</span>&gt;
sipsorcery, thank you
<br>
</div>

<div class='talk op-msg' data-timestamp='1591811580' id='391550'>
<a class='timestamp' href='#391550'><time timestamp='2020-06-10T17:53:00Z'>17:53</time></a>
&lt;<span class='nick nick-4'> sipsorcery</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/13103" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/13103</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1591811580' id='391551'>
<a class='timestamp' href='#391551'><time timestamp='2020-06-10T17:53:00Z'>17:53</time></a>
&lt;<span class='nick nick-4'> sipsorcery</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/pull/13787" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/13787</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1591811700' id='391552'>
<a class='timestamp' href='#391552'><time timestamp='2020-06-10T17:55:00Z'>17:55</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
#13103 #13787 (for previews)
<br>
</div>

<div class='talk op-msg' data-timestamp='1591811700' id='391553'>
<a class='timestamp' href='#391553'><time timestamp='2020-06-10T17:55:00Z'>17:55</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/13103" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/13103</a> | Invalid wallet path with Chinese characters in windows ¬∑ Issue #13103 ¬∑ bitcoin/bitcoin ¬∑ GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1591811700' id='391554'>
<a class='timestamp' href='#391554'><time timestamp='2020-06-10T17:55:00Z'>17:55</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/13787" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/13787</a> | Test for Windows encoding issue by ken2812221 ¬∑ Pull Request #13787 ¬∑ bitcoin/bitcoin ¬∑ GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1591811760' id='391555'>
<a class='timestamp' href='#391555'><time timestamp='2020-06-10T17:56:00Z'>17:56</time></a>
&lt;<span class='nick nick-12'> Kiminuo</span>&gt;
I know about this: <a href="https://github.com/bitcoin/bitcoin/pull/6093" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/6093</a> it&#x27;s very old though
<br>
</div>

<div class='talk op-msg' data-timestamp='1591811880' id='391556'>
<a class='timestamp' href='#391556'><time timestamp='2020-06-10T17:58:00Z'>17:58</time></a>
&lt;<span class='nick nick-4'> sipsorcery</span>&gt;
Upstream PR from leveldb that has been merged into Bitcoin Core <a href="https://github.com/google/leveldb/pull/760" class="link" target="_blank">https://github.com/google/leveldb/pull/760</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1591815120' id='391557'>
<a class='timestamp' href='#391557'><time timestamp='2020-06-10T18:52:00Z'>18:52</time></a>
&lt;<span class='nick nick-12'> Kiminuo</span>&gt;
<b>*thumbs up*</b>
<br>
</div>

<div class='talk op-msg' data-timestamp='1591817880' id='391558'>
<a class='timestamp' href='#391558'><time timestamp='2020-06-10T19:38:00Z'>19:38</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
i have a possibly very dumb idea: hack sqlite&#x27;s btree module to use the bdb file format
<br>
</div>

<div class='talk op-msg' data-timestamp='1591818300' id='391559'>
<a class='timestamp' href='#391559'><time timestamp='2020-06-10T19:45:00Z'>19:45</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
why...?
<br>
</div>

<div class='talk op-msg' data-timestamp='1591818480' id='391560'>
<a class='timestamp' href='#391560'><time timestamp='2020-06-10T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
to keep backwards compatibility and avoid all of the issues with refactoring existing bdb handling code
<br>
</div>

<div class='talk op-msg' data-timestamp='1591818480' id='391561'>
<a class='timestamp' href='#391561'><time timestamp='2020-06-10T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
i also haven&#x27;t thought this through at all
<br>
</div>

<div class='talk op-msg' data-timestamp='1591818480' id='391562'>
<a class='timestamp' href='#391562'><time timestamp='2020-06-10T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it sounds like combining the worst of all worlds :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1591818540' id='391563'>
<a class='timestamp' href='#391563'><time timestamp='2020-06-10T19:49:00Z'>19:49</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
bdb dependency, complexity of sqlite, and still have a new file format that&#x27;s not compatible with old software
<br>
</div>

<div class='talk op-msg' data-timestamp='1591818600' id='391564'>
<a class='timestamp' href='#391564'><time timestamp='2020-06-10T19:50:00Z'>19:50</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
I think it would be compatible with old software and still remove the bdb dependency
<br>
</div>

<div class='talk op-msg' data-timestamp='1591818600' id='391565'>
<a class='timestamp' href='#391565'><time timestamp='2020-06-10T19:50:00Z'>19:50</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
O.o
<br>
</div>

<div class='talk op-msg' data-timestamp='1591818600' id='391566'>
<a class='timestamp' href='#391566'><time timestamp='2020-06-10T19:50:00Z'>19:50</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
the only reason I thought of this was because I found sqlightning which is sqlite but using lmdb as the btree module
<br>
</div>

<div class='talk op-msg' data-timestamp='1591818660' id='391567'>
<a class='timestamp' href='#391567'><time timestamp='2020-06-10T19:51:00Z'>19:51</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
so you mean reimplementing bdb?
<br>
</div>

<div class='talk op-msg' data-timestamp='1591818660' id='391568'>
<a class='timestamp' href='#391568'><time timestamp='2020-06-10T19:51:00Z'>19:51</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
only the file format
<br>
</div>

<div class='talk op-msg' data-timestamp='1591818660' id='391569'>
<a class='timestamp' href='#391569'><time timestamp='2020-06-10T19:51:00Z'>19:51</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
also, bdb has no concept of tables/etc
<br>
</div>

<div class='talk op-msg' data-timestamp='1591818720' id='391570'>
<a class='timestamp' href='#391570'><time timestamp='2020-06-10T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
2) sqlite doesn&#x27;t accept outside patches, 3) it would take years for distros to release this version
<br>
</div>

<div class='talk op-msg' data-timestamp='1591818720' id='391571'>
<a class='timestamp' href='#391571'><time timestamp='2020-06-10T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
if you seriously want to implement bdb&#x27;s file format, please revive logdb instead
<br>
</div>

<div class='talk op-msg' data-timestamp='1591818780' id='391572'>
<a class='timestamp' href='#391572'><time timestamp='2020-06-10T19:53:00Z'>19:53</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
the idea was to just be able to toss out the existing bdb handling code without breaking existing compatibility
<br>
</div>

<div class='talk op-msg' data-timestamp='1591818840' id='391573'>
<a class='timestamp' href='#391573'><time timestamp='2020-06-10T19:54:00Z'>19:54</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i&#x27;m very confused by what you&#x27;re suggesting then
<br>
</div>

<div class='talk op-msg' data-timestamp='1591818840' id='391574'>
<a class='timestamp' href='#391574'><time timestamp='2020-06-10T19:54:00Z'>19:54</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
basically use sqlite but have it read and write bdb format files. so new wallets can still be opened by old software and old wallets opened by new
<br>
</div>

<div class='talk op-msg' data-timestamp='1591818900' id='391575'>
<a class='timestamp' href='#391575'><time timestamp='2020-06-10T19:55:00Z'>19:55</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
so we can use sqlite&#x27;s acid guarantees and easier implementation but still remain compatible
<br>
</div>

<div class='talk op-msg' data-timestamp='1591818900' id='391576'>
<a class='timestamp' href='#391576'><time timestamp='2020-06-10T19:55:00Z'>19:55</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
and not have to maintain the separate stuff to deal with bdb
<br>
</div>

<div class='talk op-msg' data-timestamp='1591818960' id='391577'>
<a class='timestamp' href='#391577'><time timestamp='2020-06-10T19:56:00Z'>19:56</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
that was the half baked idea
<br>
</div>

<div class='talk op-msg' data-timestamp='1591819140' id='391578'>
<a class='timestamp' href='#391578'><time timestamp='2020-06-10T19:59:00Z'>19:59</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
achow101: I don&#x27;t see how sqlite is easier to implement.. or what problems we have from bdb
<br>
</div>

<div class='talk op-msg' data-timestamp='1591819140' id='391579'>
<a class='timestamp' href='#391579'><time timestamp='2020-06-10T19:59:00Z'>19:59</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
it seems to be working fine
<br>
</div>

<div class='talk op-msg' data-timestamp='1591819200' id='391580'>
<a class='timestamp' href='#391580'><time timestamp='2020-06-10T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
luke-jr: in the refactor to prepare for other db systems, there&#x27;s a few questions about whether that has introduced regressions because it&#x27;s difficult to work out the exact flushing and closing behavior
<br>
</div>

<div class='talk op-msg' data-timestamp='1591819200' id='391581'>
<a class='timestamp' href='#391581'><time timestamp='2020-06-10T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
achow101: i&#x27;m baffled how you think introducing sqlite would not break compatibility
<br>
</div>

<div class='talk op-msg' data-timestamp='1591819200' id='391582'>
<a class='timestamp' href='#391582'><time timestamp='2020-06-10T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
sipa: because we would be modifying it to write data in the same way bdb does
<br>
</div>

<div class='talk op-msg' data-timestamp='1591819200' id='391583'>
<a class='timestamp' href='#391583'><time timestamp='2020-06-10T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
achow101: okay, but the fact is right now we have years of no problems
<br>
</div>

<div class='talk op-msg' data-timestamp='1591819260' id='391584'>
<a class='timestamp' href='#391584'><time timestamp='2020-06-10T20:01:00Z'>20:01</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
luke-jr: no?
<br>
</div>

<div class='talk op-msg' data-timestamp='1591819260' id='391585'>
<a class='timestamp' href='#391585'><time timestamp='2020-06-10T20:01:00Z'>20:01</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
achow101: then what&#x27;s the point?
<br>
</div>

<div class='talk op-msg' data-timestamp='1591819260' id='391586'>
<a class='timestamp' href='#391586'><time timestamp='2020-06-10T20:01:00Z'>20:01</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that seems like a huge task for no gain
<br>
</div>

<div class='talk op-msg' data-timestamp='1591819260' id='391587'>
<a class='timestamp' href='#391587'><time timestamp='2020-06-10T20:01:00Z'>20:01</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
achow101: ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1591819260' id='391588'>
<a class='timestamp' href='#391588'><time timestamp='2020-06-10T20:01:00Z'>20:01</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
sipa: then old software would still be able to read those files
<br>
</div>

<div class='talk op-msg' data-timestamp='1591819260' id='391589'>
<a class='timestamp' href='#391589'><time timestamp='2020-06-10T20:01:00Z'>20:01</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
achow101: i must be missing something
<br>
</div>

<div class='talk op-msg' data-timestamp='1591819320' id='391590'>
<a class='timestamp' href='#391590'><time timestamp='2020-06-10T20:02:00Z'>20:02</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
sipa: sqlite does a bunch of other things unrelated to the storage format to guarantee consistency
<br>
</div>

<div class='talk op-msg' data-timestamp='1591819320' id='391591'>
<a class='timestamp' href='#391591'><time timestamp='2020-06-10T20:02:00Z'>20:02</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
so we would be able to take advantage of those
<br>
</div>

<div class='talk op-msg' data-timestamp='1591819320' id='391592'>
<a class='timestamp' href='#391592'><time timestamp='2020-06-10T20:02:00Z'>20:02</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
and just have a different file format
<br>
</div>

<div class='talk op-msg' data-timestamp='1591819380' id='391593'>
<a class='timestamp' href='#391593'><time timestamp='2020-06-10T20:03:00Z'>20:03</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it seems the cost/benefit of such an effort are about 100x worse than staying with bdb, or switching to logdb
<br>
</div>

<div class='talk op-msg' data-timestamp='1591819500' id='391594'>
<a class='timestamp' href='#391594'><time timestamp='2020-06-10T20:05:00Z'>20:05</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
it seemed to me to be easier to implement/copy a file format implementation than to logic my way through when and how to flush and close bdb for the refactor
<br>
</div>

<div class='talk op-msg' data-timestamp='1591819500' id='391595'>
<a class='timestamp' href='#391595'><time timestamp='2020-06-10T20:05:00Z'>20:05</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
achow101: what problems do you think need solving?
<br>
</div>

<div class='talk op-msg' data-timestamp='1591819560' id='391596'>
<a class='timestamp' href='#391596'><time timestamp='2020-06-10T20:06:00Z'>20:06</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
making (a) a new backend to sqlite and (b) making and keeping it compatible with bdb eaxh individually seem like far more work (in implementation+testing/qa combined) then just creating a dumb key/value store from scratch
<br>
</div>

<div class='talk op-msg' data-timestamp='1591819620' id='391597'>
<a class='timestamp' href='#391597'><time timestamp='2020-06-10T20:07:00Z'>20:07</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
the advantage of sqlite is getting a well-tested robust format and implementation for free; if it needs large customization, i don&#x27;t see why we&#x27;d even pick it in the first place
<br>
</div>

<div class='talk op-msg' data-timestamp='1591819680' id='391598'>
<a class='timestamp' href='#391598'><time timestamp='2020-06-10T20:08:00Z'>20:08</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
sipa: bdb4.8 is currently/already well-tested and robust in our usage though
<br>
</div>

<div class='talk op-msg' data-timestamp='1591819680' id='391599'>
<a class='timestamp' href='#391599'><time timestamp='2020-06-10T20:08:00Z'>20:08</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
only point in switching to sqlite IMO is if we want to use the relational features
<br>
</div>

<div class='talk op-msg' data-timestamp='1591819860' id='391600'>
<a class='timestamp' href='#391600'><time timestamp='2020-06-10T20:11:00Z'>20:11</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
sipa: to take advantage of how they do atomic commits, do locking and concurrency, etc. the things which are independent of the file format itself.
<br>
</div>

<div class='talk op-msg' data-timestamp='1591819860' id='391601'>
<a class='timestamp' href='#391601'><time timestamp='2020-06-10T20:11:00Z'>20:11</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i don&#x27;t comprehend how that can seem worth it
<br>
</div>

<div class='talk op-msg' data-timestamp='1591819980' id='391602'>
<a class='timestamp' href='#391602'><time timestamp='2020-06-10T20:13:00Z'>20:13</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
for example, sqlite flushes to the database file after every write. this behavior is independent of the database file. because it does this, we could remove the need for PeriodicFlush. We would remove the need for WalletDatabase::Flush entirely
<br>
</div>

<div class='talk op-msg' data-timestamp='1591819980' id='391603'>
<a class='timestamp' href='#391603'><time timestamp='2020-06-10T20:13:00Z'>20:13</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ok?
<br>
</div>

<div class='talk op-msg' data-timestamp='1591820040' id='391604'>
<a class='timestamp' href='#391604'><time timestamp='2020-06-10T20:14:00Z'>20:14</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and that&#x27;s worth a huge engineering effort to develop and maintain a new backend to sqlite?
<br>
</div>

<div class='talk op-msg' data-timestamp='1591820040' id='391605'>
<a class='timestamp' href='#391605'><time timestamp='2020-06-10T20:14:00Z'>20:14</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
to avoid a wrapper in our logic?
<br>
</div>

<div class='talk op-msg' data-timestamp='1591820100' id='391606'>
<a class='timestamp' href='#391606'><time timestamp='2020-06-10T20:15:00Z'>20:15</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
one advantage of bdb is since it isn&#x27;t maintained, what we learn about its inner workings <b>*won&#x27;t*</b> change :p
<br>
</div>

<div class='talk op-msg' data-timestamp='1591820100' id='391607'>
<a class='timestamp' href='#391607'><time timestamp='2020-06-10T20:15:00Z'>20:15</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
depends on how huge the engineering effort is
<br>
</div>

<div class='talk op-msg' data-timestamp='1591820100' id='391608'>
<a class='timestamp' href='#391608'><time timestamp='2020-06-10T20:15:00Z'>20:15</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
we have a lot of very confusing logic in our code related to flushing
<br>
</div>

<div class='talk op-msg' data-timestamp='1591820100' id='391609'>
<a class='timestamp' href='#391609'><time timestamp='2020-06-10T20:15:00Z'>20:15</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
achow101: we <b>*could*</b> just flush on every change to bdb
<br>
</div>

<div class='talk op-msg' data-timestamp='1591820100' id='391610'>
<a class='timestamp' href='#391610'><time timestamp='2020-06-10T20:15:00Z'>20:15</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
there might be reasons we don&#x27;t, but if so, then switching to sqlite would have the same problems
<br>
</div>

<div class='talk op-msg' data-timestamp='1591820160' id='391611'>
<a class='timestamp' href='#391611'><time timestamp='2020-06-10T20:16:00Z'>20:16</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
and the flushing logic is the cause of a lot of confusion in the refactor
<br>
</div>

<div class='talk op-msg' data-timestamp='1591820160' id='391612'>
<a class='timestamp' href='#391612'><time timestamp='2020-06-10T20:16:00Z'>20:16</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i&#x27;m sure we&#x27;ll get through that
<br>
</div>

<div class='talk op-msg' data-timestamp='1591820160' id='391613'>
<a class='timestamp' href='#391613'><time timestamp='2020-06-10T20:16:00Z'>20:16</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
luke-jr: we do &quot;flush&quot;, but it flushes to the transaction log, not the database file
<br>
</div>

<div class='talk op-msg' data-timestamp='1591820160' id='391614'>
<a class='timestamp' href='#391614'><time timestamp='2020-06-10T20:16:00Z'>20:16</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I like using sqlite, to be honest, I don&#x27;t think rolling a new database just for bitcoin core&#x27;s database is a good idea, yes a dumb store would be enough for key storage, but for transactions it&#x27;s likely that some more advanced query functionality would be useful at some point
<br>
</div>

<div class='talk op-msg' data-timestamp='1591820220' id='391615'>
<a class='timestamp' href='#391615'><time timestamp='2020-06-10T20:17:00Z'>20:17</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
wumpus: i just sqlite because it&#x27;s so well tested
<br>
</div>

<div class='talk op-msg' data-timestamp='1591820220' id='391616'>
<a class='timestamp' href='#391616'><time timestamp='2020-06-10T20:17:00Z'>20:17</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
*like
<br>
</div>

<div class='talk op-msg' data-timestamp='1591820220' id='391617'>
<a class='timestamp' href='#391617'><time timestamp='2020-06-10T20:17:00Z'>20:17</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
and getting it to flush into the database file is, apparently, a major task and pain in the ass
<br>
</div>

<div class='talk op-msg' data-timestamp='1591820220' id='391618'>
<a class='timestamp' href='#391618'><time timestamp='2020-06-10T20:17:00Z'>20:17</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
but trivial for sqlite
<br>
</div>

<div class='talk op-msg' data-timestamp='1591820220' id='391619'>
<a class='timestamp' href='#391619'><time timestamp='2020-06-10T20:17:00Z'>20:17</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it&#x27;s also very well tested
<br>
</div>

<div class='talk op-msg' data-timestamp='1591820220' id='391620'>
<a class='timestamp' href='#391620'><time timestamp='2020-06-10T20:17:00Z'>20:17</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
agree
<br>
</div>

<div class='talk op-msg' data-timestamp='1591820280' id='391621'>
<a class='timestamp' href='#391621'><time timestamp='2020-06-10T20:18:00Z'>20:18</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
sipa: but so is db4.8 specifically in our use
<br>
</div>

<div class='talk op-msg' data-timestamp='1591820340' id='391622'>
<a class='timestamp' href='#391622'><time timestamp='2020-06-10T20:19:00Z'>20:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and maintained
<br>
</div>

<div class='talk op-msg' data-timestamp='1591820340' id='391623'>
<a class='timestamp' href='#391623'><time timestamp='2020-06-10T20:19:00Z'>20:19</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
achow101: yes, the flush has never really been a flush but &#x27;database consolidation&#x27;
<br>
</div>

<div class='talk op-msg' data-timestamp='1591820340' id='391624'>
<a class='timestamp' href='#391624'><time timestamp='2020-06-10T20:19:00Z'>20:19</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
(which happens to also do a flush, but that&#x27;s not the point, the point was to have things in one file)
<br>
</div>

<div class='talk op-msg' data-timestamp='1591820400' id='391625'>
<a class='timestamp' href='#391625'><time timestamp='2020-06-10T20:20:00Z'>20:20</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
if you want things in one file, look at what backupwallet does
<br>
</div>

<div class='talk op-msg' data-timestamp='1591820520' id='391626'>
<a class='timestamp' href='#391626'><time timestamp='2020-06-10T20:22:00Z'>20:22</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] dongcarl opened pull request #19240: 2020 06 macos sdkgen simplify (master...2020-06-macos-sdkgen-simplify) <a href="https://github.com/bitcoin/bitcoin/pull/19240" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19240</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1591820700' id='391627'>
<a class='timestamp' href='#391627'><time timestamp='2020-06-10T20:25:00Z'>20:25</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] dongcarl closed pull request #18072: Use `libc++` headers from macOS SDK instead of from clang (master...2020-01-macos-sdk-with-headers) <a href="https://github.com/bitcoin/bitcoin/pull/18072" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/18072</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1591821120' id='391628'>
<a class='timestamp' href='#391628'><time timestamp='2020-06-10T20:32:00Z'>20:32</time></a>
&lt;<span class='nick nick-4'> ycshao</span>&gt;
Anyone has suggestions to how to fix travis failure of <a href="https://github.com/bitcoin/bitcoin/pull/19208" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19208</a>? I took a look and don&#x27;t think the failure is caused by my change. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1591821480' id='391629'>
<a class='timestamp' href='#391629'><time timestamp='2020-06-10T20:38:00Z'>20:38</time></a>
&lt;<span class='nick nick-4'> ycshao</span>&gt;
A related question is do all CIs have to pass before PR can be merged? I saw a few PRs merged with failed CI, like this one <a href="https://github.com/bitcoin/bitcoin/pull/19201#partial-pull-merging" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19201#partial-pull-merging</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1591821540' id='391630'>
<a class='timestamp' href='#391630'><time timestamp='2020-06-10T20:39:00Z'>20:39</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ycshao: there currently are two unrelated issues that break CI regularly in master
<br>
</div>

<div class='talk op-msg' data-timestamp='1591821540' id='391631'>
<a class='timestamp' href='#391631'><time timestamp='2020-06-10T20:39:00Z'>20:39</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
they&#x27;ll be fixed soon
<br>
</div>

<div class='talk op-msg' data-timestamp='1591821540' id='391632'>
<a class='timestamp' href='#391632'><time timestamp='2020-06-10T20:39:00Z'>20:39</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
they&#x27;re not your fault
<br>
</div>

<div class='talk op-msg' data-timestamp='1591821600' id='391633'>
<a class='timestamp' href='#391633'><time timestamp='2020-06-10T20:40:00Z'>20:40</time></a>
&lt;<span class='nick nick-4'> ycshao</span>&gt;
Got it sipa. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1591821900' id='391634'>
<a class='timestamp' href='#391634'><time timestamp='2020-06-10T20:45:00Z'>20:45</time></a>
&lt;<span class='nick nick-4'> ycshao</span>&gt;
I always got disconnected from the channel after some time. Is this a channel setting or on my client side? 
<br>
</div>

<div class='talk op-msg' data-timestamp='1591822020' id='391635'>
<a class='timestamp' href='#391635'><time timestamp='2020-06-10T20:47:00Z'>20:47</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it seems like a problem on your side
<br>
</div>

<div class='talk op-msg' data-timestamp='1591833540' id='391636'>
<a class='timestamp' href='#391636'><time timestamp='2020-06-10T23:59:00Z'>23:59</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
ycshao: if you rebase on master  both of those issues should now be fixed
<br>
</div>

</div>
</section>

</body>
</html>
