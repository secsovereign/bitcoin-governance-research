<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2020-07-20
 — 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2020-07-20' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:18 UTC</pre>
<pre><a href="/bitcoin-core-dev/2020-06-20">&lt;</a><span class='header'>    July 2020     </span><a href="/bitcoin-core-dev/2020-08-20">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;          <a class="" href="/bitcoin-core-dev/2020-07-01">1</a>  2  3  4  &#x000A; <a class="" href="/bitcoin-core-dev/2020-07-05">5</a>  <a class="" href="/bitcoin-core-dev/2020-07-06">6</a>  <a class="" href="/bitcoin-core-dev/2020-07-07">7</a>  <a class="" href="/bitcoin-core-dev/2020-07-08">8</a>  <a class="" href="/bitcoin-core-dev/2020-07-09">9</a> <a class="" href="/bitcoin-core-dev/2020-07-10">10</a> <a class="" href="/bitcoin-core-dev/2020-07-11">11</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2020-07-12">12</a> <a class="" href="/bitcoin-core-dev/2020-07-13">13</a> <a class="" href="/bitcoin-core-dev/2020-07-14">14</a> <a class="" href="/bitcoin-core-dev/2020-07-15">15</a> <a class="" href="/bitcoin-core-dev/2020-07-16">16</a> <a class="" href="/bitcoin-core-dev/2020-07-17">17</a> <a class="" href="/bitcoin-core-dev/2020-07-18">18</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2020-07-19">19</a> <a class="current" href="/bitcoin-core-dev/2020-07-20">20</a> <a class="" href="/bitcoin-core-dev/2020-07-21">21</a> <a class="" href="/bitcoin-core-dev/2020-07-22">22</a> <a class="" href="/bitcoin-core-dev/2020-07-23">23</a> <a class="" href="/bitcoin-core-dev/2020-07-24">24</a> <a class="" href="/bitcoin-core-dev/2020-07-25">25</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2020-07-26">26</a> <a class="" href="/bitcoin-core-dev/2020-07-27">27</a> <a class="" href="/bitcoin-core-dev/2020-07-28">28</a> <a class="" href="/bitcoin-core-dev/2020-07-29">29</a> <a class="" href="/bitcoin-core-dev/2020-07-30">30</a> <a class="" href="/bitcoin-core-dev/2020-07-31">31</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1595232060' id='395809'>
<a class='timestamp' href='#395809'><time timestamp='2020-07-20T08:01:00Z'>08:01</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] fanquake opened pull request #19558: build: split pthread flags out of ldflags and dont use when building libconsensus (master...split_out_pthread_flags) <a href="https://github.com/bitcoin/bitcoin/pull/19558" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19558</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1595252460' id='395810'>
<a class='timestamp' href='#395810'><time timestamp='2020-07-20T13:41:00Z'>13:41</time></a>
&lt;<span class='nick nick-10'> elichai2</span>&gt;
fanquake: about bitcoin#19559 and secp #768, will I be able to reproduce this in a OpenBSD 6.7 VM with clang 8.0.1 installed and that&#x27;s it?
<br>
</div>

<div class='talk op-msg' data-timestamp='1595252460' id='395811'>
<a class='timestamp' href='#395811'><time timestamp='2020-07-20T13:41:00Z'>13:41</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/19559" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/19559</a> | build: cannot compile on OpenBSD since libsecp256k1 subtree update · Issue #19559 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1595252460' id='395812'>
<a class='timestamp' href='#395812'><time timestamp='2020-07-20T13:41:00Z'>13:41</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/768" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/768</a> | Update seednodes, pick long-uptime nodes with version &gt;= 0.4.0 by nanotube · Pull Request #768 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1595252460' id='395813'>
<a class='timestamp' href='#395813'><time timestamp='2020-07-20T13:41:00Z'>13:41</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
elichai2 yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1595252520' id='395814'>
<a class='timestamp' href='#395814'><time timestamp='2020-07-20T13:42:00Z'>13:42</time></a>
&lt;<span class='nick nick-10'> elichai2</span>&gt;
kk, will try probing it later
<br>
</div>

<div class='talk op-msg' data-timestamp='1595252580' id='395815'>
<a class='timestamp' href='#395815'><time timestamp='2020-07-20T13:43:00Z'>13:43</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
Not really expecting anything to change in libsecp, as the underlying problem is the macro and the fact that OpenBSD still bundles an ancient GCC
<br>
</div>

<div class='talk op-msg' data-timestamp='1595252580' id='395816'>
<a class='timestamp' href='#395816'><time timestamp='2020-07-20T13:43:00Z'>13:43</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
Likely we&#x27;ll just  end up updating out OpenBSD build doc
<br>
</div>

<div class='talk op-msg' data-timestamp='1595263980' id='395817'>
<a class='timestamp' href='#395817'><time timestamp='2020-07-20T16:53:00Z'>16:53</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
jonatack: is your preference for me to fix these style changes and you&#x27;ll re-ack?
<br>
</div>

<div class='talk op-msg' data-timestamp='1595264040' id='395818'>
<a class='timestamp' href='#395818'><time timestamp='2020-07-20T16:54:00Z'>16:54</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
Or prefer an add-on commit fixing whitespace?
<br>
</div>

<div class='talk op-msg' data-timestamp='1595265660' id='395819'>
<a class='timestamp' href='#395819'><time timestamp='2020-07-20T17:21:00Z'>17:21</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj closed pull request #19542: Revert &quot;refactor: replace CConnman pointers by references in net_processing.cpp&quot; (master...2020_07_revert_19174) <a href="https://github.com/bitcoin/bitcoin/pull/19542" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19542</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1595266860' id='395820'>
<a class='timestamp' href='#395820'><time timestamp='2020-07-20T17:41:00Z'>17:41</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
Ok I just added some refactor only commits to fix the spacing and make some variables &#x27;modernized&#x27;
<br>
</div>

<div class='talk op-msg' data-timestamp='1595268720' id='395821'>
<a class='timestamp' href='#395821'><time timestamp='2020-07-20T18:12:00Z'>18:12</time></a>
&lt;<span class='nick nick-14'> jonatack</span>&gt;
jeremyrubin: fix and re-ack :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1595268780' id='395822'>
<a class='timestamp' href='#395822'><time timestamp='2020-07-20T18:13:00Z'>18:13</time></a>
&lt;<span class='nick nick-14'> jonatack</span>&gt;
jeremyrubin: i do try to re-ack quickly when authors take feedback
<br>
</div>

<div class='talk op-msg' data-timestamp='1595268840' id='395823'>
<a class='timestamp' href='#395823'><time timestamp='2020-07-20T18:14:00Z'>18:14</time></a>
&lt;<span class='nick nick-14'> jonatack</span>&gt;
(nice work on that pr btw)
<br>
</div>

<div class='talk op-msg' data-timestamp='1595272800' id='395824'>
<a class='timestamp' href='#395824'><time timestamp='2020-07-20T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-16'> CubicEarth</span>&gt;
Is the Bicoin Core fee estimator more or less broken? There isn&#x27;t any change in estimated fee regardless of the timeframe selected, with the exception of &#x27;within 2 blocks&#x27;, which is currently showing about 70x the fee as everything else
<br>
</div>

<div class='talk op-msg' data-timestamp='1595272800' id='395825'>
<a class='timestamp' href='#395825'><time timestamp='2020-07-20T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-16'> CubicEarth</span>&gt;
at least on my machine
<br>
</div>

<div class='talk op-msg' data-timestamp='1595272800' id='395826'>
<a class='timestamp' href='#395826'><time timestamp='2020-07-20T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
how long has your node been running?
<br>
</div>

<div class='talk op-msg' data-timestamp='1595272860' id='395827'>
<a class='timestamp' href='#395827'><time timestamp='2020-07-20T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-16'> CubicEarth</span>&gt;
Oh, and I&#x27;m running 19.0.1 ... so perhaps it&#x27;s fixed on 20!
<br>
</div>

<div class='talk op-msg' data-timestamp='1595272920' id='395828'>
<a class='timestamp' href='#395828'><time timestamp='2020-07-20T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
CubicEarth: You should try upgrading to the latest minor release instead of major
<br>
</div>

<div class='talk op-msg' data-timestamp='1595272980' id='395829'>
<a class='timestamp' href='#395829'><time timestamp='2020-07-20T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
Can double check if any fee estimation fixes are in that one
<br>
</div>

<div class='talk op-msg' data-timestamp='1595272980' id='395830'>
<a class='timestamp' href='#395830'><time timestamp='2020-07-20T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-16'> CubicEarth</span>&gt;
sipa: I was synced as of yesterday, and then off overnight. Then I fired it up just 15 minutes ago to make a transaction. Does it actually need to be live for some period of time (like many hours?) before the estimator works well?
<br>
</div>

<div class='talk op-msg' data-timestamp='1595273040' id='395831'>
<a class='timestamp' href='#395831'><time timestamp='2020-07-20T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
(that&#x27;s 19.1)
<br>
</div>

<div class='talk op-msg' data-timestamp='1595273040' id='395832'>
<a class='timestamp' href='#395832'><time timestamp='2020-07-20T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
iirc there haven&#x27;t been any changes to fee estimation for a long time
<br>
</div>

<div class='talk op-msg' data-timestamp='1595273100' id='395833'>
<a class='timestamp' href='#395833'><time timestamp='2020-07-20T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
yeah I don&#x27;t see any in either release notes
<br>
</div>

<div class='talk op-msg' data-timestamp='1595273100' id='395834'>
<a class='timestamp' href='#395834'><time timestamp='2020-07-20T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
CubicEarth: rulw of thumb is that to get reliable N-block estimates, your node needs to be up for at least the past 2N blocms
<br>
</div>

<div class='talk op-msg' data-timestamp='1595273160' id='395835'>
<a class='timestamp' href='#395835'><time timestamp='2020-07-20T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-16'> CubicEarth</span>&gt;
sipa: I see. Is that because it&#x27;s comparing its own mempool observations with what ends up on chain?
<br>
</div>

<div class='talk op-msg' data-timestamp='1595273160' id='395836'>
<a class='timestamp' href='#395836'><time timestamp='2020-07-20T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1595273220' id='395837'>
<a class='timestamp' href='#395837'><time timestamp='2020-07-20T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
sipa: is that derived from nyquist???
<br>
</div>

<div class='talk op-msg' data-timestamp='1595273280' id='395838'>
<a class='timestamp' href='#395838'><time timestamp='2020-07-20T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jeremyrubin: no
<br>
</div>

<div class='talk op-msg' data-timestamp='1595273340' id='395839'>
<a class='timestamp' href='#395839'><time timestamp='2020-07-20T19:29:00Z'>19:29</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
;) 
<br>
</div>

<div class='talk op-msg' data-timestamp='1595273580' id='395840'>
<a class='timestamp' href='#395840'><time timestamp='2020-07-20T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-16'> CubicEarth</span>&gt;
It&#x27;s a tempting for there to be a way to instruct your node to request fee data from somewhere else, to bootstrap the estimator. Understood that introduces an element of trust... but perhaps there could be safeguards?
<br>
</div>

<div class='talk op-msg' data-timestamp='1595273640' id='395841'>
<a class='timestamp' href='#395841'><time timestamp='2020-07-20T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
CubicEarth: no need for a node in that case, just use a website
<br>
</div>

<div class='talk op-msg' data-timestamp='1595273640' id='395842'>
<a class='timestamp' href='#395842'><time timestamp='2020-07-20T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
if you&#x27;re happy to trust someone else to gether the information, just ask them directly
<br>
</div>

<div class='talk op-msg' data-timestamp='1595273760' id='395843'>
<a class='timestamp' href='#395843'><time timestamp='2020-07-20T19:36:00Z'>19:36</time></a>
&lt;<span class='nick nick-16'> CubicEarth</span>&gt;
sipa: I was just thinking of a way to not be typing in more numbers or manually copying and pasting, which I worry about the fat finger
<br>
</div>

<div class='talk op-msg' data-timestamp='1595274060' id='395844'>
<a class='timestamp' href='#395844'><time timestamp='2020-07-20T19:41:00Z'>19:41</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
well bitcoin core isn&#x27;t going to contact a trusted third party
<br>
</div>

<div class='talk op-msg' data-timestamp='1595274060' id='395845'>
<a class='timestamp' href='#395845'><time timestamp='2020-07-20T19:41:00Z'>19:41</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
at least not by default
<br>
</div>

<div class='talk op-msg' data-timestamp='1595274660' id='395846'>
<a class='timestamp' href='#395846'><time timestamp='2020-07-20T19:51:00Z'>19:51</time></a>
&lt;<span class='nick nick-16'> CubicEarth</span>&gt;
sipa: definitely not by default!
<br>
</div>

<div class='talk op-msg' data-timestamp='1595275620' id='395847'>
<a class='timestamp' href='#395847'><time timestamp='2020-07-20T20:07:00Z'>20:07</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
CubicEarth: I&#x27;m curious, does it seem like the fees it&#x27;s showing were reasonable as of the block you were synced to, or were they crazier than that?
<br>
</div>

<div class='talk op-msg' data-timestamp='1595276040' id='395848'>
<a class='timestamp' href='#395848'><time timestamp='2020-07-20T20:14:00Z'>20:14</time></a>
&lt;<span class='nick nick-16'> CubicEarth</span>&gt;
A few minutes (5?) after turning on my node, it was suggesting a fee of 0.01252 mBTC/kB for all time frames, which at the moment is much too low. It seems like as it gets more data, it progressively recalibrates for the longer / less urgent time frames. But for sure it jumped from recommending 0.0125 up to 0.719 for the 4 block window once it got more current data
<br>
</div>

<div class='talk op-msg' data-timestamp='1595276100' id='395849'>
<a class='timestamp' href='#395849'><time timestamp='2020-07-20T20:15:00Z'>20:15</time></a>
&lt;<span class='nick nick-16'> CubicEarth</span>&gt;
* much too low for anything to happen in the next few hours
<br>
</div>

<div class='talk op-msg' data-timestamp='1595276160' id='395850'>
<a class='timestamp' href='#395850'><time timestamp='2020-07-20T20:16:00Z'>20:16</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
mostly what I&#x27;m wondering is, does Core always seem to present estimates that are reasonable based on what it knows, or does it sometimes present estimates that are disastrously bad for which it clearly should know better
<br>
</div>

<div class='talk op-msg' data-timestamp='1595276220' id='395851'>
<a class='timestamp' href='#395851'><time timestamp='2020-07-20T20:17:00Z'>20:17</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it probably should give an error for time frames too long for it to have data on
<br>
</div>

<div class='talk op-msg' data-timestamp='1595276220' id='395852'>
<a class='timestamp' href='#395852'><time timestamp='2020-07-20T20:17:00Z'>20:17</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
(e.g. it seems like probably any estimate should come with a warning if you can see a header chain that is way past where you can see the blocks)
<br>
</div>

<div class='talk op-msg' data-timestamp='1595276220' id='395853'>
<a class='timestamp' href='#395853'><time timestamp='2020-07-20T20:17:00Z'>20:17</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
yeah
<br>
</div>

<div class='talk op-msg' data-timestamp='1595276220' id='395854'>
<a class='timestamp' href='#395854'><time timestamp='2020-07-20T20:17:00Z'>20:17</time></a>
&lt;<span class='nick nick-16'> CubicEarth</span>&gt;
exactly 
<br>
</div>

<div class='talk op-msg' data-timestamp='1595276400' id='395855'>
<a class='timestamp' href='#395855'><time timestamp='2020-07-20T20:20:00Z'>20:20</time></a>
&lt;<span class='nick nick-16'> CubicEarth</span>&gt;
The longer times seem like they could function somewhat reliably even if the node was only on intermittently during a similar period extending into the past. And reliable estimates for getting a tx into the next few blocks should be able to be build quickly :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1595276460' id='395856'>
<a class='timestamp' href='#395856'><time timestamp='2020-07-20T20:21:00Z'>20:21</time></a>
&lt;<span class='nick nick-16'> CubicEarth</span>&gt;
I know I would rather have no estimate than a very bad estimate... and then I can look elsewhere or wait
<br>
</div>

<div class='talk op-msg' data-timestamp='1595276820' id='395857'>
<a class='timestamp' href='#395857'><time timestamp='2020-07-20T20:27:00Z'>20:27</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
CubicEarth: of course
<br>
</div>

<div class='talk op-msg' data-timestamp='1595277300' id='395858'>
<a class='timestamp' href='#395858'><time timestamp='2020-07-20T20:35:00Z'>20:35</time></a>
&lt;<span class='nick nick-16'> CubicEarth</span>&gt;
on a related note... I tried to used the RBF mechanism ;) And I was surprised that there was only one option presented as to how much of an increased fee to pay. again, NVM is this has been changed in 0.20.
<br>
</div>

</div>
</section>

</body>
</html>
