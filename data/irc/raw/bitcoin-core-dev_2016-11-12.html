<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2016-11-12
 — 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2016-11-12' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:25 UTC</pre>
<pre><a href="/bitcoin-core-dev/2016-10-12">&lt;</a><span class='header'>  November 2016   </span><a href="/bitcoin-core-dev/2016-12-12">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;       <a class="" href="/bitcoin-core-dev/2016-11-01">1</a>  <a class="" href="/bitcoin-core-dev/2016-11-02">2</a>  <a class="" href="/bitcoin-core-dev/2016-11-03">3</a>  <a class="" href="/bitcoin-core-dev/2016-11-04">4</a>  <a class="" href="/bitcoin-core-dev/2016-11-05">5</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2016-11-06">6</a>  <a class="" href="/bitcoin-core-dev/2016-11-07">7</a>  <a class="" href="/bitcoin-core-dev/2016-11-08">8</a>  <a class="" href="/bitcoin-core-dev/2016-11-09">9</a> <a class="" href="/bitcoin-core-dev/2016-11-10">10</a> <a class="" href="/bitcoin-core-dev/2016-11-11">11</a> <a class="current" href="/bitcoin-core-dev/2016-11-12">12</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2016-11-13">13</a> <a class="" href="/bitcoin-core-dev/2016-11-14">14</a> <a class="" href="/bitcoin-core-dev/2016-11-15">15</a> <a class="" href="/bitcoin-core-dev/2016-11-16">16</a> <a class="" href="/bitcoin-core-dev/2016-11-17">17</a> <a class="" href="/bitcoin-core-dev/2016-11-18">18</a> <a class="" href="/bitcoin-core-dev/2016-11-19">19</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2016-11-20">20</a> <a class="" href="/bitcoin-core-dev/2016-11-21">21</a> <a class="" href="/bitcoin-core-dev/2016-11-22">22</a> <a class="" href="/bitcoin-core-dev/2016-11-23">23</a> <a class="" href="/bitcoin-core-dev/2016-11-24">24</a> <a class="" href="/bitcoin-core-dev/2016-11-25">25</a> <a class="" href="/bitcoin-core-dev/2016-11-26">26</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2016-11-27">27</a> <a class="" href="/bitcoin-core-dev/2016-11-28">28</a> <a class="" href="/bitcoin-core-dev/2016-11-29">29</a> <a class="" href="/bitcoin-core-dev/2016-11-30">30</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1478908980' id='510501'>
<a class='timestamp' href='#510501'><time timestamp='2016-11-12T00:03:00Z'>00:03</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
cfields: hum, why do we even need fSuccessfullyConnected?
<br>
</div>

<div class='talk op-msg' data-timestamp='1478909040' id='510502'>
<a class='timestamp' href='#510502'><time timestamp='2016-11-12T00:04:00Z'>00:04</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
cfields: cant we just set nVersion at that location in ::VERSION processing and just keep using nVersion != 0
<br>
</div>

<div class='talk op-msg' data-timestamp='1478909040' id='510503'>
<a class='timestamp' href='#510503'><time timestamp='2016-11-12T00:04:00Z'>00:04</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
cfields: alternatively, shouldnt fSuccessfullyConnected be set in ::VERACK, not ::VERSION?
<br>
</div>

<div class='talk op-msg' data-timestamp='1478909040' id='510504'>
<a class='timestamp' href='#510504'><time timestamp='2016-11-12T00:04:00Z'>00:04</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
BlueMatt: see the commit message. Sometimes we bail before fully finishing version
<br>
</div>

<div class='talk op-msg' data-timestamp='1478909100' id='510505'>
<a class='timestamp' href='#510505'><time timestamp='2016-11-12T00:05:00Z'>00:05</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
cfields: yes, I&#x27;m saying move that setting down
<br>
</div>

<div class='talk op-msg' data-timestamp='1478909100' id='510506'>
<a class='timestamp' href='#510506'><time timestamp='2016-11-12T00:05:00Z'>00:05</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
BlueMatt: i think the confusion comes from trying to repurpose that var. What it really means is fCanSendToPeer
<br>
</div>

<div class='talk op-msg' data-timestamp='1478909100' id='510507'>
<a class='timestamp' href='#510507'><time timestamp='2016-11-12T00:05:00Z'>00:05</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
how about renaming to that?
<br>
</div>

<div class='talk op-msg' data-timestamp='1478909100' id='510508'>
<a class='timestamp' href='#510508'><time timestamp='2016-11-12T00:05:00Z'>00:05</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
cfields: I&#x27;m asking if its redundant
<br>
</div>

<div class='talk op-msg' data-timestamp='1478909160' id='510509'>
<a class='timestamp' href='#510509'><time timestamp='2016-11-12T00:06:00Z'>00:06</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
the confusion is that it seems redundant
<br>
</div>

<div class='talk op-msg' data-timestamp='1478909220' id='510510'>
<a class='timestamp' href='#510510'><time timestamp='2016-11-12T00:07:00Z'>00:07</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
BlueMatt: I suppose with the fDisconnect completely worked out, yes, it&#x27;s redundant
<br>
</div>

<div class='talk op-msg' data-timestamp='1478909280' id='510511'>
<a class='timestamp' href='#510511'><time timestamp='2016-11-12T00:08:00Z'>00:08</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
BlueMatt: the issue before was that sometimes we&#x27;d bail halfway through processing VERSION, leaving nVersion set, but we wouldn&#x27;t want to send any new outgoing messages. But because some places didn&#x27;t check for fDisconnected, outgoing messages got through anyway
<br>
</div>

<div class='talk op-msg' data-timestamp='1478909280' id='510512'>
<a class='timestamp' href='#510512'><time timestamp='2016-11-12T00:08:00Z'>00:08</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
I believe that&#x27;s fixed in that PR. So in that case, yes, they should be redundant. Will fix.
<br>
</div>

<div class='talk op-msg' data-timestamp='1478909340' id='510513'>
<a class='timestamp' href='#510513'><time timestamp='2016-11-12T00:09:00Z'>00:09</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
cfields: yes, i see that, but how hard is it to move the pfrom-&gt;nVersion = ... thing down 50 lines and do PushWithVersion for everything in between (is there anything)
<br>
</div>

<div class='talk op-msg' data-timestamp='1478909340' id='510514'>
<a class='timestamp' href='#510514'><time timestamp='2016-11-12T00:09:00Z'>00:09</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
ok     
<br>
</div>

<div class='talk op-msg' data-timestamp='1478909340' id='510515'>
<a class='timestamp' href='#510515'><time timestamp='2016-11-12T00:09:00Z'>00:09</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
thanks
<br>
</div>

<div class='talk op-msg' data-timestamp='1478918400' id='510516'>
<a class='timestamp' href='#510516'><time timestamp='2016-11-12T02:40:00Z'>02:40</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
cfields: if you want to be extra super duper awesome for me you could even add a skip_bytes method in your CVectorWriter (see <a href="https://github.com/bitcoinfibre/bitcoinfibre/commit/70673283326f0ab7b542dfb16da32dd81f70176d)" class="link" target="_blank">https://github.com/bitcoinfibre/bitcoinfibre/commit/70673283326f0ab7b542dfb16da32dd81f70176d)</a> but thats not really a comment, just a note since I have a similar class in FIBRE and it would be useful
<br>
</div>

<div class='talk op-msg' data-timestamp='1478918580' id='510517'>
<a class='timestamp' href='#510517'><time timestamp='2016-11-12T02:43:00Z'>02:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
BlueMatt: that just increments the write pointer?
<br>
</div>

<div class='talk op-msg' data-timestamp='1478918580' id='510518'>
<a class='timestamp' href='#510518'><time timestamp='2016-11-12T02:43:00Z'>02:43</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
essentially, yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1478918580' id='510519'>
<a class='timestamp' href='#510519'><time timestamp='2016-11-12T02:43:00Z'>02:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
the equivalent of writing zeroes, i guess?
<br>
</div>

<div class='talk op-msg' data-timestamp='1478918580' id='510520'>
<a class='timestamp' href='#510520'><time timestamp='2016-11-12T02:43:00Z'>02:43</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
sipa: yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1478918640' id='510521'>
<a class='timestamp' href='#510521'><time timestamp='2016-11-12T02:44:00Z'>02:44</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
sipa: though for my use-case i couldnt care less if its 0s or garbage
<br>
</div>

<div class='talk op-msg' data-timestamp='1478918640' id='510522'>
<a class='timestamp' href='#510522'><time timestamp='2016-11-12T02:44:00Z'>02:44</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
what is it used for?
<br>
</div>

<div class='talk op-msg' data-timestamp='1478918640' id='510523'>
<a class='timestamp' href='#510523'><time timestamp='2016-11-12T02:44:00Z'>02:44</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
though, i guess, sending un-init&#x27;d memory over the wire is generally frowned upon
<br>
</div>

<div class='talk op-msg' data-timestamp='1478918760' id='510524'>
<a class='timestamp' href='#510524'><time timestamp='2016-11-12T02:46:00Z'>02:46</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
cfields: didnt really read in too much detail, but the concept looks like what i was asking for
<br>
</div>

<div class='talk op-msg' data-timestamp='1478919000' id='510525'>
<a class='timestamp' href='#510525'><time timestamp='2016-11-12T02:50:00Z'>02:50</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
BlueMatt: why do want to send (don&#x27;t care) bytes over the wire?
<br>
</div>

<div class='talk op-msg' data-timestamp='1478919000' id='510526'>
<a class='timestamp' href='#510526'><time timestamp='2016-11-12T02:50:00Z'>02:50</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
sipa: pad transactions out so that they (often) start on packet/fec-chunk boundaries
<br>
</div>

<div class='talk op-msg' data-timestamp='1478919000' id='510527'>
<a class='timestamp' href='#510527'><time timestamp='2016-11-12T02:50:00Z'>02:50</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
you end up with null space
<br>
</div>

<div class='talk op-msg' data-timestamp='1478919000' id='510528'>
<a class='timestamp' href='#510528'><time timestamp='2016-11-12T02:50:00Z'>02:50</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
in an earlier implementation it even sent shorter packets to not send the null space, but you still use it for fec-coding
<br>
</div>

<div class='talk op-msg' data-timestamp='1478919000' id='510529'>
<a class='timestamp' href='#510529'><time timestamp='2016-11-12T02:50:00Z'>02:50</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
i think the current code sends the 0s just because it was annoying to try to code
<br>
</div>

<div class='talk op-msg' data-timestamp='1478923380' id='510530'>
<a class='timestamp' href='#510530'><time timestamp='2016-11-12T04:03:00Z'>04:03</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
BlueMatt: hmm, it may make more sense to do that at the point where we&#x27;re actually writing to the net?
<br>
</div>

<div class='talk op-msg' data-timestamp='1478923440' id='510531'>
<a class='timestamp' href='#510531'><time timestamp='2016-11-12T04:04:00Z'>04:04</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
s/net/socket
<br>
</div>

<div class='talk op-msg' data-timestamp='1478923440' id='510532'>
<a class='timestamp' href='#510532'><time timestamp='2016-11-12T04:04:00Z'>04:04</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
no problem adding it to CVectorWriter though, if that&#x27;s the approach that makes sense
<br>
</div>

<div class='talk op-msg' data-timestamp='1478923560' id='510533'>
<a class='timestamp' href='#510533'><time timestamp='2016-11-12T04:06:00Z'>04:06</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
BlueMatt: it surprises me that you&#x27;d see the benefits of padding like that though, considering how many layers of caching there are to get through on the OS side
<br>
</div>

<div class='talk op-msg' data-timestamp='1478923680' id='510534'>
<a class='timestamp' href='#510534'><time timestamp='2016-11-12T04:08:00Z'>04:08</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
BlueMatt: and thanks for looking, btw
<br>
</div>

<div class='talk op-msg' data-timestamp='1478926680' id='510535'>
<a class='timestamp' href='#510535'><time timestamp='2016-11-12T04:58:00Z'>04:58</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
matt&#x27;s data neeeds to be padded in memory, not for the net.
<br>
</div>

<div class='talk op-msg' data-timestamp='1478926740' id='510536'>
<a class='timestamp' href='#510536'><time timestamp='2016-11-12T04:59:00Z'>04:59</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
he seralizes the block into memory and then runs forward error correction over it. The padding is added so that transactions begin on FEC packet bundaries.
<br>
</div>

<div class='talk op-msg' data-timestamp='1478926860' id='510537'>
<a class='timestamp' href='#510537'><time timestamp='2016-11-12T05:01:00Z'>05:01</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
The reason for this is that when using the mempool for reconstruction when a txn is missing the whole packet containing is missing. To prevent miss amplification there is some padding to get txn onto packet boundaries. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1478926860' id='510538'>
<a class='timestamp' href='#510538'><time timestamp='2016-11-12T05:01:00Z'>05:01</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
cfields: note that if you&#x27;ve gotten to the point where you&#x27;re sending tx data over the wire, you&#x27;ve failed horribly....at that point you&#x27;ve already sent a ton of fec data
<br>
</div>

<div class='talk op-msg' data-timestamp='1478926860' id='510539'>
<a class='timestamp' href='#510539'><time timestamp='2016-11-12T05:01:00Z'>05:01</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
also what gmaxwell said
<br>
</div>

<div class='talk op-msg' data-timestamp='1478926860' id='510540'>
<a class='timestamp' href='#510540'><time timestamp='2016-11-12T05:01:00Z'>05:01</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
if matt&#x27;s FEC stuff was more optimized he&#x27;d probably never send the original packets at all ever. :P
<br>
</div>

<div class='talk op-msg' data-timestamp='1478926860' id='510541'>
<a class='timestamp' href='#510541'><time timestamp='2016-11-12T05:01:00Z'>05:01</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
ah, i see
<br>
</div>

<div class='talk op-msg' data-timestamp='1478926920' id='510542'>
<a class='timestamp' href='#510542'><time timestamp='2016-11-12T05:02:00Z'>05:02</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
i mean i could just do that, but since i already have the data and all the plumbing for using it since the header stuff does...might as well send it :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1478926920' id='510543'>
<a class='timestamp' href='#510543'><time timestamp='2016-11-12T05:02:00Z'>05:02</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
completely misunderstood what you were getting at, thanks for the explanation
<br>
</div>

<div class='talk op-msg' data-timestamp='1478931720' id='510544'>
<a class='timestamp' href='#510544'><time timestamp='2016-11-12T06:22:00Z'>06:22</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
I keep getting on master ./bench/data/block413567.raw.h:124989:40: error: redefinition of ‘const unsigned char block_bench::block413567 []’
<br>
</div>

<div class='talk op-msg' data-timestamp='1478931720' id='510545'>
<a class='timestamp' href='#510545'><time timestamp='2016-11-12T06:22:00Z'>06:22</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
have to manually delete the file and try again
<br>
</div>

<div class='talk op-msg' data-timestamp='1478931780' id='510546'>
<a class='timestamp' href='#510546'><time timestamp='2016-11-12T06:23:00Z'>06:23</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
the rules to generate it only append, shouldn&#x27;t the first create anew?
<br>
</div>

<div class='talk op-msg' data-timestamp='1478931780' id='510547'>
<a class='timestamp' href='#510547'><time timestamp='2016-11-12T06:23:00Z'>06:23</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
(and does make do the deletion of files when the rule fails, or must we?)
<br>
</div>

<div class='talk op-msg' data-timestamp='1478931840' id='510548'>
<a class='timestamp' href='#510548'><time timestamp='2016-11-12T06:24:00Z'>06:24</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
looks like we need to do it..
<br>
</div>

<div class='talk op-msg' data-timestamp='1478934180' id='510549'>
<a class='timestamp' href='#510549'><time timestamp='2016-11-12T07:03:00Z'>07:03</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
luke-jr: strange, I just copied that rule from the tests, so I&#x27;d expect it would work as-is. But indeed it should create the file anew, not append to it, that&#x27;s weird
<br>
</div>

<div class='talk op-msg' data-timestamp='1478934180' id='510550'>
<a class='timestamp' href='#510550'><time timestamp='2016-11-12T07:03:00Z'>07:03</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
is there one of these in the tests I should fix too?
<br>
</div>

<div class='talk op-msg' data-timestamp='1478934240' id='510551'>
<a class='timestamp' href='#510551'><time timestamp='2016-11-12T07:04:00Z'>07:04</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
no, I think it&#x27;s my fault, I removed the namespace{} around it, the first line in the test is probably ok
<br>
</div>

<div class='talk op-msg' data-timestamp='1478934240' id='510552'>
<a class='timestamp' href='#510552'><time timestamp='2016-11-12T07:04:00Z'>07:04</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
should just change the first  &gt;&gt; $@ to &gt; $@
<br>
</div>

<div class='talk op-msg' data-timestamp='1478934240' id='510553'>
<a class='timestamp' href='#510553'><time timestamp='2016-11-12T07:04:00Z'>07:04</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
are you going to do it or should I?
<br>
</div>

<div class='talk op-msg' data-timestamp='1478934240' id='510554'>
<a class='timestamp' href='#510554'><time timestamp='2016-11-12T07:04:00Z'>07:04</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
well, if any of these steps fails, we need to delete the file too :x
<br>
</div>

<div class='talk op-msg' data-timestamp='1478934300' id='510555'>
<a class='timestamp' href='#510555'><time timestamp='2016-11-12T07:05:00Z'>07:05</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
(or else make will think it&#x27;s up to date next run)
<br>
</div>

<div class='talk op-msg' data-timestamp='1478934420' id='510556'>
<a class='timestamp' href='#510556'><time timestamp='2016-11-12T07:07:00Z'>07:07</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
the best option then would be to write to a temporary file
<br>
</div>

<div class='talk op-msg' data-timestamp='1478934420' id='510557'>
<a class='timestamp' href='#510557'><time timestamp='2016-11-12T07:07:00Z'>07:07</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
then at the end mv it over atomically
<br>
</div>

<div class='talk op-msg' data-timestamp='1478934420' id='510558'>
<a class='timestamp' href='#510558'><time timestamp='2016-11-12T07:07:00Z'>07:07</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
eg write to $@.tmp 
<br>
</div>

<div class='talk op-msg' data-timestamp='1478934480' id='510559'>
<a class='timestamp' href='#510559'><time timestamp='2016-11-12T07:08:00Z'>07:08</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
in that case you need to do it in Makefile.test.include too
<br>
</div>

<div class='talk op-msg' data-timestamp='1478934480' id='510560'>
<a class='timestamp' href='#510560'><time timestamp='2016-11-12T07:08:00Z'>07:08</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
hm, I was thinking <a href="http://codepad.org/SXhNyVzI" class="link" target="_blank">http://codepad.org/SXhNyVzI</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1478934540' id='510561'>
<a class='timestamp' href='#510561'><time timestamp='2016-11-12T07:09:00Z'>07:09</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
meh, with my solution you never actually need to delete anything
<br>
</div>

<div class='talk op-msg' data-timestamp='1478934540' id='510562'>
<a class='timestamp' href='#510562'><time timestamp='2016-11-12T07:09:00Z'>07:09</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
it&#x27;s just not created if naything fails
<br>
</div>

<div class='talk op-msg' data-timestamp='1478934540' id='510563'>
<a class='timestamp' href='#510563'><time timestamp='2016-11-12T07:09:00Z'>07:09</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
true
<br>
</div>

<div class='talk op-msg' data-timestamp='1478934600' id='510564'>
<a class='timestamp' href='#510564'><time timestamp='2016-11-12T07:10:00Z'>07:10</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
or ... isn&#x27;t that the case for yours too?
<br>
</div>

<div class='talk op-msg' data-timestamp='1478934600' id='510565'>
<a class='timestamp' href='#510565'><time timestamp='2016-11-12T07:10:00Z'>07:10</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
you write the output to a pipe
<br>
</div>

<div class='talk op-msg' data-timestamp='1478934600' id='510566'>
<a class='timestamp' href='#510566'><time timestamp='2016-11-12T07:10:00Z'>07:10</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
oh wait, yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1478934600' id='510567'>
<a class='timestamp' href='#510567'><time timestamp='2016-11-12T07:10:00Z'>07:10</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
<a href="http://codepad.org/Glnudlpw" class="link" target="_blank">http://codepad.org/Glnudlpw</a> ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1478934600' id='510568'>
<a class='timestamp' href='#510568'><time timestamp='2016-11-12T07:10:00Z'>07:10</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
the pipe doesn&#x27;t &#x27;wait&#x27;. SO yes a temporary file then atomic move is probably better
<br>
</div>

<div class='talk op-msg' data-timestamp='1478934660' id='510569'>
<a class='timestamp' href='#510569'><time timestamp='2016-11-12T07:11:00Z'>07:11</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
yes     
<br>
</div>

<div class='talk op-msg' data-timestamp='1478935020' id='510570'>
<a class='timestamp' href='#510570'><time timestamp='2016-11-12T07:17:00Z'>07:17</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] luke-jr opened pull request #9140: Bugfix: Correctly replace generated headers and fail cleanly (master...bugfix_genheaders) <a href="https://github.com/bitcoin/bitcoin/pull/9140" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9140</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1478936100' id='510571'>
<a class='timestamp' href='#510571'><time timestamp='2016-11-12T07:35:00Z'>07:35</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] luke-jr closed pull request #7534: Minimal RPC &amp; wallet support for CLTV-enabled multisig addresses (master...cltv_address) <a href="https://github.com/bitcoin/bitcoin/pull/7534" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/7534</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1478936220' id='510572'>
<a class='timestamp' href='#510572'><time timestamp='2016-11-12T07:37:00Z'>07:37</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] luke-jr closed pull request #8388: [0.13] mining: Optimise for typical mining use with blockmaxsize (0.13...blockmaxsize_opti-0.13) <a href="https://github.com/bitcoin/bitcoin/pull/8388" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8388</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1478939700' id='510573'>
<a class='timestamp' href='#510573'><time timestamp='2016-11-12T08:35:00Z'>08:35</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
cfields: ouch, lets avoid any copies? I dont see why we should ever need that...once you PushMessage, PushMessage should just take the message, not the send code
<br>
</div>

<div class='talk op-msg' data-timestamp='1478941800' id='510574'>
<a class='timestamp' href='#510574'><time timestamp='2016-11-12T09:10:00Z'>09:10</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jonasschnelli opened pull request #9141: Remove unnecessary calls to CheckFinalTx (master...2016/11/istrusted) <a href="https://github.com/bitcoin/bitcoin/pull/9141" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9141</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1478942760' id='510575'>
<a class='timestamp' href='#510575'><time timestamp='2016-11-12T09:26:00Z'>09:26</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jonasschnelli opened pull request #9142: Move -salvagewallet, -zap(wtx) to where they belong (master...2016/11/wallet_init) <a href="https://github.com/bitcoin/bitcoin/pull/9142" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9142</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1478944620' id='510576'>
<a class='timestamp' href='#510576'><time timestamp='2016-11-12T09:57:00Z'>09:57</time></a>
&lt;<span class='nick nick-8'> Victorsueca</span>&gt;
morning
<br>
</div>

<div class='talk op-msg' data-timestamp='1478944740' id='510577'>
<a class='timestamp' href='#510577'><time timestamp='2016-11-12T09:59:00Z'>09:59</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jonasschnelli opened pull request #9143: Refactor ZapWalletTxes to avoid layer vialotions (master...2016/11/wallet_db_refactoring_1) <a href="https://github.com/bitcoin/bitcoin/pull/9143" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9143</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1478954340' id='510578'>
<a class='timestamp' href='#510578'><time timestamp='2016-11-12T12:39:00Z'>12:39</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] fanquake opened pull request #9144: [Trivial] Correct waitforblockheight example help text (master...rpc-commands) <a href="https://github.com/bitcoin/bitcoin/pull/9144" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9144</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1478954400' id='510579'>
<a class='timestamp' href='#510579'><time timestamp='2016-11-12T12:40:00Z'>12:40</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
Excuse the PRs/issue closing, going to try and clean up a lot of issues.
<br>
</div>

<div class='talk op-msg' data-timestamp='1478954520' id='510580'>
<a class='timestamp' href='#510580'><time timestamp='2016-11-12T12:42:00Z'>12:42</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
fanquake, no need to apologise, good work!
<br>
</div>

<div class='talk op-msg' data-timestamp='1478958720' id='510581'>
<a class='timestamp' href='#510581'><time timestamp='2016-11-12T13:52:00Z'>13:52</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke opened pull request #9145: [qt] Make network disabled icon 50% opaque (master...Mf1611-qtNetworkIcon) <a href="https://github.com/bitcoin/bitcoin/pull/9145" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9145</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1478960280' id='510582'>
<a class='timestamp' href='#510582'><time timestamp='2016-11-12T14:18:00Z'>14:18</time></a>
&lt;<span class='nick nick-11'>@wumpus</span>&gt;
fanquake: yes, thanks a lot
<br>
</div>

<div class='talk op-msg' data-timestamp='1478989260' id='510583'>
<a class='timestamp' href='#510583'><time timestamp='2016-11-12T22:21:00Z'>22:21</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
someone wanna tag #9148 0.14?
<br>
</div>

<div class='talk op-msg' data-timestamp='1478989260' id='510584'>
<a class='timestamp' href='#510584'><time timestamp='2016-11-12T22:21:00Z'>22:21</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/9148" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/9148</a> | Wallet RPCs can return stale info due to ProcessNewBlock Race · Issue #9148 · bitcoin/bitcoin · GitHub
<br>
</div>

</div>
</section>

</body>
</html>
