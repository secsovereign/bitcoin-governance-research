<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2017-06-03
 â€” 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2017-06-03' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:24 UTC</pre>
<pre><a href="/bitcoin-core-dev/2017-05-03">&lt;</a><span class='header'>    June 2017     </span><a href="/bitcoin-core-dev/2017-07-03">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;             <a class="" href="/bitcoin-core-dev/2017-06-01">1</a>  <a class="" href="/bitcoin-core-dev/2017-06-02">2</a>  <a class="current" href="/bitcoin-core-dev/2017-06-03">3</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2017-06-04">4</a>  <a class="" href="/bitcoin-core-dev/2017-06-05">5</a>  <a class="" href="/bitcoin-core-dev/2017-06-06">6</a>  <a class="" href="/bitcoin-core-dev/2017-06-07">7</a>  <a class="" href="/bitcoin-core-dev/2017-06-08">8</a>  <a class="" href="/bitcoin-core-dev/2017-06-09">9</a> <a class="" href="/bitcoin-core-dev/2017-06-10">10</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2017-06-11">11</a> <a class="" href="/bitcoin-core-dev/2017-06-12">12</a> <a class="" href="/bitcoin-core-dev/2017-06-13">13</a> <a class="" href="/bitcoin-core-dev/2017-06-14">14</a> <a class="" href="/bitcoin-core-dev/2017-06-15">15</a> <a class="" href="/bitcoin-core-dev/2017-06-16">16</a> <a class="" href="/bitcoin-core-dev/2017-06-17">17</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2017-06-18">18</a> <a class="" href="/bitcoin-core-dev/2017-06-19">19</a> <a class="" href="/bitcoin-core-dev/2017-06-20">20</a> <a class="" href="/bitcoin-core-dev/2017-06-21">21</a> <a class="" href="/bitcoin-core-dev/2017-06-22">22</a> <a class="" href="/bitcoin-core-dev/2017-06-23">23</a> <a class="" href="/bitcoin-core-dev/2017-06-24">24</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2017-06-25">25</a> <a class="" href="/bitcoin-core-dev/2017-06-26">26</a> <a class="" href="/bitcoin-core-dev/2017-06-27">27</a> <a class="" href="/bitcoin-core-dev/2017-06-28">28</a> <a class="" href="/bitcoin-core-dev/2017-06-29">29</a> <a class="" href="/bitcoin-core-dev/2017-06-30">30</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1496448300' id='548534'>
<a class='timestamp' href='#548534'><time timestamp='2017-06-03T00:05:00Z'>00:05</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
spudI think you&#x27;ll get arguments for using pb at all
<br>
</div>

<div class='talk op-msg' data-timestamp='1496456640' id='548535'>
<a class='timestamp' href='#548535'><time timestamp='2017-06-03T02:24:00Z'>02:24</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
wumpus: considering there&#x27;s already an 0.14.1rc1, I&#x27;d prefer not to sign the binaries with incorrect version
<br>
</div>

<div class='talk op-msg' data-timestamp='1496456640' id='548536'>
<a class='timestamp' href='#548536'><time timestamp='2017-06-03T02:24:00Z'>02:24</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
i&#x27;d say just go ahead with release without signature
<br>
</div>

<div class='talk op-msg' data-timestamp='1496465400' id='548537'>
<a class='timestamp' href='#548537'><time timestamp='2017-06-03T04:50:00Z'>04:50</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jimmysong opened pull request #10515: [test] Add test for getchaintxstats (master...test_getchaintxstats) <a href="https://github.com/bitcoin/bitcoin/pull/10515" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10515</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1496465520' id='548538'>
<a class='timestamp' href='#548538'><time timestamp='2017-06-03T04:52:00Z'>04:52</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
does anyone know if the waitforblock/waitfornewblock RPCs are used or will be used sometime in the future?
<br>
</div>

<div class='talk op-msg' data-timestamp='1496465520' id='548539'>
<a class='timestamp' href='#548539'><time timestamp='2017-06-03T04:52:00Z'>04:52</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
The PR that adds them says that they are for testing and travis, but I don&#x27;t see anything which actually uses those commands.
<br>
</div>

<div class='talk op-msg' data-timestamp='1496465520' id='548540'>
<a class='timestamp' href='#548540'><time timestamp='2017-06-03T04:52:00Z'>04:52</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
cfields: ^^^ (you&#x27;re the one who added them)
<br>
</div>

<div class='talk op-msg' data-timestamp='1496466360' id='548541'>
<a class='timestamp' href='#548541'><time timestamp='2017-06-03T05:06:00Z'>05:06</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] luke-jr opened pull request #10516: Backports for 0.14.2 (0.14...0.14.2_fixes) <a href="https://github.com/bitcoin/bitcoin/pull/10516" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10516</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1496476080' id='548542'>
<a class='timestamp' href='#548542'><time timestamp='2017-06-03T07:48:00Z'>07:48</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jonasschnelli opened pull request #10517: Factor out CCoinsView based AreInputsStandard/IsWitnessStandard (master...2017/06/policy_compile) <a href="https://github.com/bitcoin/bitcoin/pull/10517" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10517</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1496486460' id='548543'>
<a class='timestamp' href='#548543'><time timestamp='2017-06-03T10:41:00Z'>10:41</time></a>
&lt;<span class='nick nick-7'> spudowiar</span>&gt;
luke-jr: I meant changing the use of Protocol Buffers in Payment Requests
<br>
</div>

<div class='talk op-msg' data-timestamp='1496486580' id='548544'>
<a class='timestamp' href='#548544'><time timestamp='2017-06-03T10:43:00Z'>10:43</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
spudowiar, the payments protocol stuff is basically just broken
<br>
</div>

<div class='talk op-msg' data-timestamp='1496486580' id='548545'>
<a class='timestamp' href='#548545'><time timestamp='2017-06-03T10:43:00Z'>10:43</time></a>
&lt;<span class='nick nick-7'> spudowiar</span>&gt;
I was just suggesting switching from Google Protocol Buffers to nanopb, because nanopb generates nicer code
<br>
</div>

<div class='talk op-msg' data-timestamp='1496486580' id='548546'>
<a class='timestamp' href='#548546'><time timestamp='2017-06-03T10:43:00Z'>10:43</time></a>
&lt;<span class='nick nick-7'> spudowiar</span>&gt;
(It&#x27;s a protoc plugin)
<br>
</div>

<div class='talk op-msg' data-timestamp='1496488020' id='548547'>
<a class='timestamp' href='#548547'><time timestamp='2017-06-03T11:07:00Z'>11:07</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
spudowiar: is nanopb a dropin replacement for protoc?
<br>
</div>

<div class='talk op-msg' data-timestamp='1496488320' id='548548'>
<a class='timestamp' href='#548548'><time timestamp='2017-06-03T11:12:00Z'>11:12</time></a>
&lt;<span class='nick nick-7'> spudowiar</span>&gt;
jonasschnelli: It&#x27;s a plugin for protoc. It generates different code but nicer code. It&#x27;s primarily designed for C and microcontrollers though so it might not be that good a fit. Something to take a look at though.
<br>
</div>

<div class='talk op-msg' data-timestamp='1496488380' id='548549'>
<a class='timestamp' href='#548549'><time timestamp='2017-06-03T11:13:00Z'>11:13</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Thanks... will take a closer look soon.
<br>
</div>

<div class='talk op-msg' data-timestamp='1496490300' id='548550'>
<a class='timestamp' href='#548550'><time timestamp='2017-06-03T11:45:00Z'>11:45</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Just curios,.. whats the reason for including ctaes.c in aes.c and adding CT_AES to EXTRA_DIST? instead of compiling/linking it regularly?
<br>
</div>

<div class='talk op-msg' data-timestamp='1496490480' id='548551'>
<a class='timestamp' href='#548551'><time timestamp='2017-06-03T11:48:00Z'>11:48</time></a>
&lt;<span class='nick nick-7'> spudowiar</span>&gt;
Has anyone tested secp256k1 with ctgrind?
<br>
</div>

<div class='talk op-msg' data-timestamp='1496490540' id='548552'>
<a class='timestamp' href='#548552'><time timestamp='2017-06-03T11:49:00Z'>11:49</time></a>
&lt;<span class='nick nick-7'> spudowiar</span>&gt;
(Valgrind constant time checker by Adam Langley)
<br>
</div>

<div class='talk op-msg' data-timestamp='1496490600' id='548553'>
<a class='timestamp' href='#548553'><time timestamp='2017-06-03T11:50:00Z'>11:50</time></a>
&lt;<span class='nick nick-7'> spudowiar</span>&gt;
I mean libsecp256k1
<br>
</div>

<div class='talk op-msg' data-timestamp='1496490960' id='548554'>
<a class='timestamp' href='#548554'><time timestamp='2017-06-03T11:56:00Z'>11:56</time></a>
&lt;<span class='nick nick-7'> spudowiar</span>&gt;
Actually, looking at the Modern Crypto mailing list, looks gmaxwell or someone did something similar
<br>
</div>

<div class='talk op-msg' data-timestamp='1496493600' id='548555'>
<a class='timestamp' href='#548555'><time timestamp='2017-06-03T12:40:00Z'>12:40</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
jnewbery: perhaps if we can&#x27;t agree on changing the current make check we can at least start by adding new targets that could replace it, check-functional, check-all or something
<br>
</div>

<div class='talk op-msg' data-timestamp='1496493600' id='548556'>
<a class='timestamp' href='#548556'><time timestamp='2017-06-03T12:40:00Z'>12:40</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
I would love to run the functional tests from the makefile
<br>
</div>

<div class='talk op-msg' data-timestamp='1496500140' id='548557'>
<a class='timestamp' href='#548557'><time timestamp='2017-06-03T14:29:00Z'>14:29</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] biniek opened pull request #10518: Fix translation error (master...patch-1) <a href="https://github.com/bitcoin/bitcoin/pull/10518" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10518</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1496501040' id='548558'>
<a class='timestamp' href='#548558'><time timestamp='2017-06-03T14:44:00Z'>14:44</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
achow101: they were needed at one point to fix a race with the wallet. They&#x27;re probably unnecessary now.
<br>
</div>

<div class='talk op-msg' data-timestamp='1496501160' id='548559'>
<a class='timestamp' href='#548559'><time timestamp='2017-06-03T14:46:00Z'>14:46</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
jonasschnelli: it&#x27;s a .c file, but we want to make sure it gets compiled as c++, to avoid accidentally mixing in c flags
<br>
</div>

<div class='talk op-msg' data-timestamp='1496501220' id='548560'>
<a class='timestamp' href='#548560'><time timestamp='2017-06-03T14:47:00Z'>14:47</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
jonasschnelli: because we add everything to cxxflags. We might forget to (for ex) add fPIC/fPIE to CFLAGS
<br>
</div>

<div class='talk op-msg' data-timestamp='1496502960' id='548561'>
<a class='timestamp' href='#548561'><time timestamp='2017-06-03T15:16:00Z'>15:16</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
cfields: thanks. I see.
<br>
</div>

<div class='talk op-msg' data-timestamp='1496505060' id='548562'>
<a class='timestamp' href='#548562'><time timestamp='2017-06-03T15:51:00Z'>15:51</time></a>
&lt;<span class='nick nick-7'> spudowiar</span>&gt;
jonasschnelli: So, if Core RPC doesn&#x27;t have a method for getting the xpub, should I just create one for my HWW support?
<br>
</div>

<div class='talk op-msg' data-timestamp='1496505120' id='548563'>
<a class='timestamp' href='#548563'><time timestamp='2017-06-03T15:52:00Z'>15:52</time></a>
&lt;<span class='nick nick-7'> spudowiar</span>&gt;
Basically, I&#x27;m going to do a HWW plugin that&#x27;s either a command or a server and supports JSON-RPC
<br>
</div>

<div class='talk op-msg' data-timestamp='1496505120' id='548564'>
<a class='timestamp' href='#548564'><time timestamp='2017-06-03T15:52:00Z'>15:52</time></a>
&lt;<span class='nick nick-7'> spudowiar</span>&gt;
e.g. You could do `bitcoin-qt -hww-cmd=bitcoin-hww-trezor`
<br>
</div>

<div class='talk op-msg' data-timestamp='1496505180' id='548565'>
<a class='timestamp' href='#548565'><time timestamp='2017-06-03T15:53:00Z'>15:53</time></a>
&lt;<span class='nick nick-7'> spudowiar</span>&gt;
Or even `bitcoin-qt -hww-server=http://user:password@othermachine:8332` and connect to another bitcoind
<br>
</div>

<div class='talk op-msg' data-timestamp='1496505180' id='548566'>
<a class='timestamp' href='#548566'><time timestamp='2017-06-03T15:53:00Z'>15:53</time></a>
&lt;<span class='nick nick-7'> spudowiar</span>&gt;
So, I guess I should just create another method or smth
<br>
</div>

<div class='talk op-msg' data-timestamp='1496507760' id='548567'>
<a class='timestamp' href='#548567'><time timestamp='2017-06-03T16:36:00Z'>16:36</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] achow101 opened pull request #10519: [RPC] Remove waitforblock and waitfornewblock (master...rm-waitforblock-rpcs) <a href="https://github.com/bitcoin/bitcoin/pull/10519" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10519</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1496507880' id='548568'>
<a class='timestamp' href='#548568'><time timestamp='2017-06-03T16:38:00Z'>16:38</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
spudowiar: for HWW support, Core needs flexible keypath (BIP44) with support for pub-key-derivation (currently only hardened derivation is supported), there is a PR from NicolasDorier (check it out).
<br>
</div>

<div class='talk op-msg' data-timestamp='1496507880' id='548569'>
<a class='timestamp' href='#548569'><time timestamp='2017-06-03T16:38:00Z'>16:38</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
You don&#x27;t want to mix xpriv with support for single child key private key exports
<br>
</div>

<div class='talk op-msg' data-timestamp='1496507940' id='548570'>
<a class='timestamp' href='#548570'><time timestamp='2017-06-03T16:39:00Z'>16:39</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
mixing non hardened derivation with private child key export is kinda careless
<br>
</div>

<div class='talk op-msg' data-timestamp='1496508720' id='548571'>
<a class='timestamp' href='#548571'><time timestamp='2017-06-03T16:52:00Z'>16:52</time></a>
&lt;<span class='nick nick-7'> spudowiar</span>&gt;
jonasschnelli: I have all the necessary patches from NicolasDorier applied to my tree
<br>
</div>

<div class='talk op-msg' data-timestamp='1496508780' id='548572'>
<a class='timestamp' href='#548572'><time timestamp='2017-06-03T16:53:00Z'>16:53</time></a>
&lt;<span class='nick nick-7'> spudowiar</span>&gt;
jonasschnelli: Anyway, the HWW plugin has an RPC method gethwwinfo
<br>
</div>

<div class='talk op-msg' data-timestamp='1496508780' id='548573'>
<a class='timestamp' href='#548573'><time timestamp='2017-06-03T16:53:00Z'>16:53</time></a>
&lt;<span class='nick nick-7'> spudowiar</span>&gt;
That contains some information about the hardware wallet
<br>
</div>

<div class='talk op-msg' data-timestamp='1496508780' id='548574'>
<a class='timestamp' href='#548574'><time timestamp='2017-06-03T16:53:00Z'>16:53</time></a>
&lt;<span class='nick nick-7'> spudowiar</span>&gt;
Like the xpub
<br>
</div>

<div class='talk op-msg' data-timestamp='1496508960' id='548575'>
<a class='timestamp' href='#548575'><time timestamp='2017-06-03T16:56:00Z'>16:56</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
spudowiar: So you are adding those methods to Core? Or do you have a &quot;middleware&quot; between Core and the HWW?
<br>
</div>

<div class='talk op-msg' data-timestamp='1496508960' id='548576'>
<a class='timestamp' href='#548576'><time timestamp='2017-06-03T16:56:00Z'>16:56</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Do you intend to PR that stuff?
<br>
</div>

<div class='talk op-msg' data-timestamp='1496508960' id='548577'>
<a class='timestamp' href='#548577'><time timestamp='2017-06-03T16:56:00Z'>16:56</time></a>
&lt;<span class='nick nick-7'> spudowiar</span>&gt;
So, I have a HWW plugin (a command called bitcoin-hww-trezor)
<br>
</div>

<div class='talk op-msg' data-timestamp='1496508960' id='548578'>
<a class='timestamp' href='#548578'><time timestamp='2017-06-03T16:56:00Z'>16:56</time></a>
&lt;<span class='nick nick-7'> spudowiar</span>&gt;
And CWallet starts that process
<br>
</div>

<div class='talk op-msg' data-timestamp='1496509020' id='548579'>
<a class='timestamp' href='#548579'><time timestamp='2017-06-03T16:57:00Z'>16:57</time></a>
&lt;<span class='nick nick-7'> spudowiar</span>&gt;
Then I can send RPC requests over stdio to the process and it can send RPC requests back to Core
<br>
</div>

<div class='talk op-msg' data-timestamp='1496509020' id='548580'>
<a class='timestamp' href='#548580'><time timestamp='2017-06-03T16:57:00Z'>16:57</time></a>
&lt;<span class='nick nick-7'> spudowiar</span>&gt;
So, when something is signed, it sends signrawtransaction to the HWW plugin
<br>
</div>

<div class='talk op-msg' data-timestamp='1496509020' id='548581'>
<a class='timestamp' href='#548581'><time timestamp='2017-06-03T16:57:00Z'>16:57</time></a>
&lt;<span class='nick nick-7'> spudowiar</span>&gt;
And the HWW plugin will do stuff like send validateaddress (to get the keypath) and decoderawtransaction, etc.
<br>
</div>

<div class='talk op-msg' data-timestamp='1496509080' id='548582'>
<a class='timestamp' href='#548582'><time timestamp='2017-06-03T16:58:00Z'>16:58</time></a>
&lt;<span class='nick nick-7'> spudowiar</span>&gt;
Also, there&#x27;s a gethwwinfo which is sent by Core right at the start to get the xpub, etc.
<br>
</div>

<div class='talk op-msg' data-timestamp='1496509260' id='548583'>
<a class='timestamp' href='#548583'><time timestamp='2017-06-03T17:01:00Z'>17:01</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
cool stuff
<br>
</div>

<div class='talk op-msg' data-timestamp='1496509260' id='548584'>
<a class='timestamp' href='#548584'><time timestamp='2017-06-03T17:01:00Z'>17:01</time></a>
&lt;<span class='nick nick-7'> spudowiar</span>&gt;
Although this is quite a bit more complicated than my previous method so I&#x27;m not sure how good an idea it is
<br>
</div>

<div class='talk op-msg' data-timestamp='1496509260' id='548585'>
<a class='timestamp' href='#548585'><time timestamp='2017-06-03T17:01:00Z'>17:01</time></a>
&lt;<span class='nick nick-7'> spudowiar</span>&gt;
Previous method was just start the process when signing needs to happen and pipe a JSON representation of the transaction, with some metadata
<br>
</div>

<div class='talk op-msg' data-timestamp='1496509320' id='548586'>
<a class='timestamp' href='#548586'><time timestamp='2017-06-03T17:02:00Z'>17:02</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
IMO working with watchonlys on the Core side and send out the unsigned transaction to a plugin could make more sense?
<br>
</div>

<div class='talk op-msg' data-timestamp='1496509320' id='548587'>
<a class='timestamp' href='#548587'><time timestamp='2017-06-03T17:02:00Z'>17:02</time></a>
&lt;<span class='nick nick-7'> spudowiar</span>&gt;
That&#x27;s what it does
<br>
</div>

<div class='talk op-msg' data-timestamp='1496509320' id='548588'>
<a class='timestamp' href='#548588'><time timestamp='2017-06-03T17:02:00Z'>17:02</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
ah! cool
<br>
</div>

<div class='talk op-msg' data-timestamp='1496509320' id='548589'>
<a class='timestamp' href='#548589'><time timestamp='2017-06-03T17:02:00Z'>17:02</time></a>
&lt;<span class='nick nick-7'> spudowiar</span>&gt;
So, if it&#x27;s a hardware wallet, CWallet::IsMine will treat watch only as normal keys
<br>
</div>

<div class='talk op-msg' data-timestamp='1496509380' id='548590'>
<a class='timestamp' href='#548590'><time timestamp='2017-06-03T17:03:00Z'>17:03</time></a>
&lt;<span class='nick nick-7'> spudowiar</span>&gt;
e.g. ISMINE_WATCH_UNSOLVABLE =&gt; ISMINE_NO and ISMINE_WATCH_SOLVABLE =&gt; ISMINE_SPENDABLE
<br>
</div>

<div class='talk op-msg' data-timestamp='1496513700' id='548591'>
<a class='timestamp' href='#548591'><time timestamp='2017-06-03T18:15:00Z'>18:15</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] sipa closed pull request #10518: Fix translation error (master...patch-1) <a href="https://github.com/bitcoin/bitcoin/pull/10518" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10518</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1496517420' id='548592'>
<a class='timestamp' href='#548592'><time timestamp='2017-06-03T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-7'> spudowiar</span>&gt;
jonasschnelli: What do you think about using a file descriptor for the child? Because having bi directional JSON-RPC gets a bit messy
<br>
</div>

<div class='talk op-msg' data-timestamp='1496517480' id='548593'>
<a class='timestamp' href='#548593'><time timestamp='2017-06-03T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-7'> spudowiar</span>&gt;
But I could do stdin, stdout and a file descriptor for a socket (to the Bitcoin daemon RPC server)
<br>
</div>

<div class='talk op-msg' data-timestamp='1496517480' id='548594'>
<a class='timestamp' href='#548594'><time timestamp='2017-06-03T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-7'> spudowiar</span>&gt;
Hmm, maybe not actually
<br>
</div>

<div class='talk op-msg' data-timestamp='1496517480' id='548595'>
<a class='timestamp' href='#548595'><time timestamp='2017-06-03T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-7'> spudowiar</span>&gt;
To be honest, only when you want to sign something should it handle the messages
<br>
</div>

<div class='talk op-msg' data-timestamp='1496517480' id='548596'>
<a class='timestamp' href='#548596'><time timestamp='2017-06-03T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-7'> spudowiar</span>&gt;
nvm     
<br>
</div>

<div class='talk op-msg' data-timestamp='1496517480' id='548597'>
<a class='timestamp' href='#548597'><time timestamp='2017-06-03T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-7'> spudowiar</span>&gt;
:)     
<br>
</div>

<div class='talk op-msg' data-timestamp='1496517780' id='548598'>
<a class='timestamp' href='#548598'><time timestamp='2017-06-03T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
spudowiar: why do you need bi-directional?
<br>
</div>

<div class='talk op-msg' data-timestamp='1496518020' id='548599'>
<a class='timestamp' href='#548599'><time timestamp='2017-06-03T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-7'> spudowiar</span>&gt;
luke-jr: Because then you can do &quot;Bitcoin Core asks HWW signrawtransaction&quot;, &quot;HWW asks Bitcoin Core gettransaction&quot;, &quot;HWW responds to signrawtransaction&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1496518020' id='548600'>
<a class='timestamp' href='#548600'><time timestamp='2017-06-03T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
ah     
<br>
</div>

<div class='talk op-msg' data-timestamp='1496518140' id='548601'>
<a class='timestamp' href='#548601'><time timestamp='2017-06-03T19:29:00Z'>19:29</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
spudowiar: I think it should be safe to assume the wallet needs the inputs and just pass them. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1496518140' id='548602'>
<a class='timestamp' href='#548602'><time timestamp='2017-06-03T19:29:00Z'>19:29</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
it can just drop them if it doesn&#x27;t need them.
<br>
</div>

<div class='talk op-msg' data-timestamp='1496518200' id='548603'>
<a class='timestamp' href='#548603'><time timestamp='2017-06-03T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-7'> spudowiar</span>&gt;
gmaxwell: I was thinking of mimicking an API like signrawtransaction though
<br>
</div>

<div class='talk op-msg' data-timestamp='1496518200' id='548604'>
<a class='timestamp' href='#548604'><time timestamp='2017-06-03T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
apparently not, since that api doesn&#x27;t have two way communication. :P
<br>
</div>

<div class='talk op-msg' data-timestamp='1496518260' id='548605'>
<a class='timestamp' href='#548605'><time timestamp='2017-06-03T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-7'> spudowiar</span>&gt;
Well, it&#x27;s going to be over stdio :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1496518260' id='548606'>
<a class='timestamp' href='#548606'><time timestamp='2017-06-03T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-7'> spudowiar</span>&gt;
It&#x27;s basically mimicking the API, because you could just as easily have the HWW plugin connect to the Bitcoin Core over HTTP RPC
<br>
</div>

<div class='talk op-msg' data-timestamp='1496518260' id='548607'>
<a class='timestamp' href='#548607'><time timestamp='2017-06-03T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-7'> spudowiar</span>&gt;
Except it&#x27;s doing it over stdio
<br>
</div>

<div class='talk op-msg' data-timestamp='1496518260' id='548608'>
<a class='timestamp' href='#548608'><time timestamp='2017-06-03T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-7'> spudowiar</span>&gt;
Which happens to be where the other call came from :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1496518260' id='548609'>
<a class='timestamp' href='#548609'><time timestamp='2017-06-03T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
thinking further, it seems strange that the HW/wrapper would need to know what it&#x27;s missing
<br>
</div>

<div class='talk op-msg' data-timestamp='1496518320' id='548610'>
<a class='timestamp' href='#548610'><time timestamp='2017-06-03T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-7'> spudowiar</span>&gt;
What do you mean?
<br>
</div>

<div class='talk op-msg' data-timestamp='1496518320' id='548611'>
<a class='timestamp' href='#548611'><time timestamp='2017-06-03T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
especially if we ever get schnorr multisig or even aggregation
<br>
</div>

<div class='talk op-msg' data-timestamp='1496518320' id='548612'>
<a class='timestamp' href='#548612'><time timestamp='2017-06-03T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
the signrawtransaction API is &quot;pass it in partially signed transactions, and do with it what you can&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1496518380' id='548613'>
<a class='timestamp' href='#548613'><time timestamp='2017-06-03T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i think that&#x27;s a good approach, also for HW wallets
<br>
</div>

<div class='talk op-msg' data-timestamp='1496518380' id='548614'>
<a class='timestamp' href='#548614'><time timestamp='2017-06-03T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-7'> spudowiar</span>&gt;
Yeah, but it needs to have the input transactions
<br>
</div>

<div class='talk op-msg' data-timestamp='1496518380' id='548615'>
<a class='timestamp' href='#548615'><time timestamp='2017-06-03T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
so pass them
<br>
</div>

<div class='talk op-msg' data-timestamp='1496518380' id='548616'>
<a class='timestamp' href='#548616'><time timestamp='2017-06-03T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
the wallet knows whether the HW wallet needs them
<br>
</div>

<div class='talk op-msg' data-timestamp='1496518380' id='548617'>
<a class='timestamp' href='#548617'><time timestamp='2017-06-03T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-7'> spudowiar</span>&gt;
Right, so don&#x27;t bother with the JSON-RPC emulation then?
<br>
</div>

<div class='talk op-msg' data-timestamp='1496518380' id='548618'>
<a class='timestamp' href='#548618'><time timestamp='2017-06-03T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i think that&#x27;s unnecessarily complicating the API
<br>
</div>

<div class='talk op-msg' data-timestamp='1496518440' id='548619'>
<a class='timestamp' href='#548619'><time timestamp='2017-06-03T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-7'> spudowiar</span>&gt;
Well, I kept my old branch behind (without this stuff), so that&#x27;s fine :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1496518440' id='548620'>
<a class='timestamp' href='#548620'><time timestamp='2017-06-03T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-7'> spudowiar</span>&gt;
This was just an experiment :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1496526120' id='548621'>
<a class='timestamp' href='#548621'><time timestamp='2017-06-03T21:42:00Z'>21:42</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] practicalswift opened pull request #10521: Limit variable scope (master...tighten-scope) <a href="https://github.com/bitcoin/bitcoin/pull/10521" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10521</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1496526900' id='548622'>
<a class='timestamp' href='#548622'><time timestamp='2017-06-03T21:55:00Z'>21:55</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] practicalswift opened pull request #10522: Remove unused variables (master...unused-strings) <a href="https://github.com/bitcoin/bitcoin/pull/10522" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10522</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1496532000' id='548623'>
<a class='timestamp' href='#548623'><time timestamp='2017-06-03T23:20:00Z'>23:20</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] practicalswift opened pull request #10523: Perform member initialization in initialization lists where possible (master...initialization-list) <a href="https://github.com/bitcoin/bitcoin/pull/10523" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10523</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1496532660' id='548624'>
<a class='timestamp' href='#548624'><time timestamp='2017-06-03T23:31:00Z'>23:31</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] practicalswift opened pull request #10524: Fix incorrect format strings (master...u-for-unsigned-int) <a href="https://github.com/bitcoin/bitcoin/pull/10524" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10524</a>
<br>
</div>

</div>
</section>

</body>
</html>
