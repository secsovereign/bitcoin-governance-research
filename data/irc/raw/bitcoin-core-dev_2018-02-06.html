<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2018-02-06
 — 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2018-02-06' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:22 UTC</pre>
<pre><a href="/bitcoin-core-dev/2018-01-06">&lt;</a><span class='header'>  February 2018   </span><a href="/bitcoin-core-dev/2018-03-06">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;             <a class="" href="/bitcoin-core-dev/2018-02-01">1</a>  <a class="" href="/bitcoin-core-dev/2018-02-02">2</a>  <a class="" href="/bitcoin-core-dev/2018-02-03">3</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2018-02-04">4</a>  <a class="" href="/bitcoin-core-dev/2018-02-05">5</a>  <a class="current" href="/bitcoin-core-dev/2018-02-06">6</a>  <a class="" href="/bitcoin-core-dev/2018-02-07">7</a>  <a class="" href="/bitcoin-core-dev/2018-02-08">8</a>  <a class="" href="/bitcoin-core-dev/2018-02-09">9</a> <a class="" href="/bitcoin-core-dev/2018-02-10">10</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2018-02-11">11</a> <a class="" href="/bitcoin-core-dev/2018-02-12">12</a> <a class="" href="/bitcoin-core-dev/2018-02-13">13</a> <a class="" href="/bitcoin-core-dev/2018-02-14">14</a> <a class="" href="/bitcoin-core-dev/2018-02-15">15</a> <a class="" href="/bitcoin-core-dev/2018-02-16">16</a> <a class="" href="/bitcoin-core-dev/2018-02-17">17</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2018-02-18">18</a> <a class="" href="/bitcoin-core-dev/2018-02-19">19</a> <a class="" href="/bitcoin-core-dev/2018-02-20">20</a> <a class="" href="/bitcoin-core-dev/2018-02-21">21</a> <a class="" href="/bitcoin-core-dev/2018-02-22">22</a> <a class="" href="/bitcoin-core-dev/2018-02-23">23</a> <a class="" href="/bitcoin-core-dev/2018-02-24">24</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2018-02-25">25</a> <a class="" href="/bitcoin-core-dev/2018-02-26">26</a> <a class="" href="/bitcoin-core-dev/2018-02-27">27</a> <a class="" href="/bitcoin-core-dev/2018-02-28">28</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1517877000' id='597957'>
<a class='timestamp' href='#597957'><time timestamp='2018-02-06T00:30:00Z'>00:30</time></a>
&lt;<span class='nick nick-1'> conman</span>&gt;
heh is there a testnet explorer that recognises bech32 addresses? I&#x27;ve mined a few and can&#x27;t see anything on any explorers
<br>
</div>

<div class='talk op-msg' data-timestamp='1517877180' id='597958'>
<a class='timestamp' href='#597958'><time timestamp='2018-02-06T00:33:00Z'>00:33</time></a>
&lt;<span class='nick nick-1'> conman</span>&gt;
I guess it doesnt matter if my bitcoind shows it as present
<br>
</div>

<div class='talk op-msg' data-timestamp='1517877720' id='597959'>
<a class='timestamp' href='#597959'><time timestamp='2018-02-06T00:42:00Z'>00:42</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
conman: smartbits shows them like this <a href="https://testnet.smartbit.com.au/tx/794bd7016aa9f70eea3138d231c22c981f68badc33ec037c38c356a812dd3958" class="link" target="_blank">https://testnet.smartbit.com.au/tx/794bd7016aa9f70eea3138d231c22c981f68badc33ec037c38c356a812dd3958</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1517877840' id='597960'>
<a class='timestamp' href='#597960'><time timestamp='2018-02-06T00:44:00Z'>00:44</time></a>
&lt;<span class='nick nick-1'> conman</span>&gt;
<a href="https://testnet.smartbit.com.au/tx/252b673ff3af4a3282881137d3f3212b30dc758d9b86f38754c36a9a4f67688f" class="link" target="_blank">https://testnet.smartbit.com.au/tx/252b673ff3af4a3282881137d3f3212b30dc758d9b86f38754c36a9a4f67688f</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1517877840' id='597961'>
<a class='timestamp' href='#597961'><time timestamp='2018-02-06T00:44:00Z'>00:44</time></a>
&lt;<span class='nick nick-1'> conman</span>&gt;
there&#x27;s one I mined to a tb1 address
<br>
</div>

<div class='talk op-msg' data-timestamp='1517877900' id='597962'>
<a class='timestamp' href='#597962'><time timestamp='2018-02-06T00:45:00Z'>00:45</time></a>
&lt;<span class='nick nick-1'> conman</span>&gt;
seems okay, but it can&#x27;t decipher the address
<br>
</div>

<div class='talk op-msg' data-timestamp='1517878020' id='597963'>
<a class='timestamp' href='#597963'><time timestamp='2018-02-06T00:47:00Z'>00:47</time></a>
&lt;<span class='nick nick-1'> conman</span>&gt;
does anyone have a sample testnet bech32 script address I can try?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517878080' id='597964'>
<a class='timestamp' href='#597964'><time timestamp='2018-02-06T00:48:00Z'>00:48</time></a>
&lt;<span class='nick nick-1'> conman</span>&gt;
oh there are samples online, nm
<br>
</div>

<div class='talk op-msg' data-timestamp='1517878200' id='597965'>
<a class='timestamp' href='#597965'><time timestamp='2018-02-06T00:50:00Z'>00:50</time></a>
&lt;<span class='nick nick-1'> conman</span>&gt;
<a href="https://testnet.smartbit.com.au/tx/2f94872811ca3855cb7a5069bf2f4ea75377c3310d47a3ce36c082de19c205c3" class="link" target="_blank">https://testnet.smartbit.com.au/tx/2f94872811ca3855cb7a5069bf2f4ea75377c3310d47a3ce36c082de19c205c3</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1517878200' id='597966'>
<a class='timestamp' href='#597966'><time timestamp='2018-02-06T00:50:00Z'>00:50</time></a>
&lt;<span class='nick nick-1'> conman</span>&gt;
there, mined a script one too
<br>
</div>

<div class='talk op-msg' data-timestamp='1517878200' id='597967'>
<a class='timestamp' href='#597967'><time timestamp='2018-02-06T00:50:00Z'>00:50</time></a>
&lt;<span class='nick nick-1'> conman</span>&gt;
great, thanks everyone for your help
<br>
</div>

<div class='talk op-msg' data-timestamp='1517878200' id='597968'>
<a class='timestamp' href='#597968'><time timestamp='2018-02-06T00:50:00Z'>00:50</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Did you make sure you handle version 0 vs later versions correctly?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517878200' id='597969'>
<a class='timestamp' href='#597969'><time timestamp='2018-02-06T00:50:00Z'>00:50</time></a>
&lt;<span class='nick nick-1'> conman</span>&gt;
no, I only handled v0 for now
<br>
</div>

<div class='talk op-msg' data-timestamp='1517878260' id='597970'>
<a class='timestamp' href='#597970'><time timestamp='2018-02-06T00:51:00Z'>00:51</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
ugh.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517878260' id='597971'>
<a class='timestamp' href='#597971'><time timestamp='2018-02-06T00:51:00Z'>00:51</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
wtf dude.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517878260' id='597972'>
<a class='timestamp' href='#597972'><time timestamp='2018-02-06T00:51:00Z'>00:51</time></a>
&lt;<span class='nick nick-1'> conman</span>&gt;
I&#x27;m still coding ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517878260' id='597973'>
<a class='timestamp' href='#597973'><time timestamp='2018-02-06T00:51:00Z'>00:51</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
oh okay.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517878260' id='597974'>
<a class='timestamp' href='#597974'><time timestamp='2018-02-06T00:51:00Z'>00:51</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
:P     
<br>
</div>

<div class='talk op-msg' data-timestamp='1517878260' id='597975'>
<a class='timestamp' href='#597975'><time timestamp='2018-02-06T00:51:00Z'>00:51</time></a>
&lt;<span class='nick nick-1'> conman</span>&gt;
haha
<br>
</div>

<div class='talk op-msg' data-timestamp='1517878320' id='597976'>
<a class='timestamp' href='#597976'><time timestamp='2018-02-06T00:52:00Z'>00:52</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Back to work!
<br>
</div>

<div class='talk op-msg' data-timestamp='1517878320' id='597977'>
<a class='timestamp' href='#597977'><time timestamp='2018-02-06T00:52:00Z'>00:52</time></a>
&lt;<span class='nick nick-1'> conman</span>&gt;
sir yes sir o\
<br>
</div>

<div class='talk op-msg' data-timestamp='1517878620' id='597978'>
<a class='timestamp' href='#597978'><time timestamp='2018-02-06T00:57:00Z'>00:57</time></a>
&lt;<span class='nick nick-1'> conman</span>&gt;
and v &gt; 0 needs 0x50 I was told... just looking to figure out where exactly Mr. 0x50 goes
<br>
</div>

<div class='talk op-msg' data-timestamp='1517878680' id='597979'>
<a class='timestamp' href='#597979'><time timestamp='2018-02-06T00:58:00Z'>00:58</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
conman: BIP173 (<a href="https://github.com/bitcoin/bips/blob/master/bip-0173.mediawiki)" class="link" target="_blank">https://github.com/bitcoin/bips/blob/master/bip-0173.mediawiki)</a> under &quot;The following list gives valid segwit addresses and the scriptPubKey that they translate to in hex&quot; gives you what you need
<br>
</div>

<div class='talk op-msg' data-timestamp='1517878740' id='597980'>
<a class='timestamp' href='#597980'><time timestamp='2018-02-06T00:59:00Z'>00:59</time></a>
&lt;<span class='nick nick-1'> conman</span>&gt;
ty again
<br>
</div>

<div class='talk op-msg' data-timestamp='1517878860' id='597981'>
<a class='timestamp' href='#597981'><time timestamp='2018-02-06T01:01:00Z'>01:01</time></a>
&lt;<span class='nick nick-1'> conman</span>&gt;
are versions &gt; 0 currently valid on the network?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517878920' id='597982'>
<a class='timestamp' href='#597982'><time timestamp='2018-02-06T01:02:00Z'>01:02</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
they&#x27;re nonstandard, but valid by consensus rules (otherwise introducing a  new version would require a hard fork)
<br>
</div>

<div class='talk op-msg' data-timestamp='1517878920' id='597983'>
<a class='timestamp' href='#597983'><time timestamp='2018-02-06T01:02:00Z'>01:02</time></a>
&lt;<span class='nick nick-1'> conman</span>&gt;
great
<br>
</div>

<div class='talk op-msg' data-timestamp='1517878980' id='597984'>
<a class='timestamp' href='#597984'><time timestamp='2018-02-06T01:03:00Z'>01:03</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ideally wallets don&#x27;t need an upgrade to be able to send to future versions, though
<br>
</div>

<div class='talk op-msg' data-timestamp='1517878980' id='597985'>
<a class='timestamp' href='#597985'><time timestamp='2018-02-06T01:03:00Z'>01:03</time></a>
&lt;<span class='nick nick-1'> conman</span>&gt;
sure but I&#x27;m not creating a wallet per se
<br>
</div>

<div class='talk op-msg' data-timestamp='1517879220' id='597986'>
<a class='timestamp' href='#597986'><time timestamp='2018-02-06T01:07:00Z'>01:07</time></a>
&lt;<span class='nick nick-1'> conman</span>&gt;
where does the op_reserved go for v&gt;0 ? After the witness program?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517879220' id='597987'>
<a class='timestamp' href='#597987'><time timestamp='2018-02-06T01:07:00Z'>01:07</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
what op_reserved?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517879280' id='597988'>
<a class='timestamp' href='#597988'><time timestamp='2018-02-06T01:08:00Z'>01:08</time></a>
&lt;<span class='nick nick-1'> conman</span>&gt;
‎[15:56] ‎&lt;‎luke-jr‎&gt;‎ oh, right, you need to add 0x50 to any witver != 0
<br>
</div>

<div class='talk op-msg' data-timestamp='1517879280' id='597989'>
<a class='timestamp' href='#597989'><time timestamp='2018-02-06T01:08:00Z'>01:08</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
witver 1 = OP_1 + witness program push
<br>
</div>

<div class='talk op-msg' data-timestamp='1517879280' id='597990'>
<a class='timestamp' href='#597990'><time timestamp='2018-02-06T01:08:00Z'>01:08</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
witver 0 = OP_0 + witness program push
<br>
</div>

<div class='talk op-msg' data-timestamp='1517879280' id='597991'>
<a class='timestamp' href='#597991'><time timestamp='2018-02-06T01:08:00Z'>01:08</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
etc     
<br>
</div>

<div class='talk op-msg' data-timestamp='1517879280' id='597992'>
<a class='timestamp' href='#597992'><time timestamp='2018-02-06T01:08:00Z'>01:08</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
OP_1 is just 0x51
<br>
</div>

<div class='talk op-msg' data-timestamp='1517879280' id='597993'>
<a class='timestamp' href='#597993'><time timestamp='2018-02-06T01:08:00Z'>01:08</time></a>
&lt;<span class='nick nick-1'> conman</span>&gt;
oh doh
<br>
</div>

<div class='talk op-msg' data-timestamp='1517879280' id='597994'>
<a class='timestamp' href='#597994'><time timestamp='2018-02-06T01:08:00Z'>01:08</time></a>
&lt;<span class='nick nick-1'> conman</span>&gt;
lol     
<br>
</div>

<div class='talk op-msg' data-timestamp='1517879280' id='597995'>
<a class='timestamp' href='#597995'><time timestamp='2018-02-06T01:08:00Z'>01:08</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
while OP_0 is 0x00
<br>
</div>

<div class='talk op-msg' data-timestamp='1517879280' id='597996'>
<a class='timestamp' href='#597996'><time timestamp='2018-02-06T01:08:00Z'>01:08</time></a>
&lt;<span class='nick nick-14'> * conman</span>&gt;
facepalms
<br>
</div>

<div class='talk op-msg' data-timestamp='1517879280' id='597997'>
<a class='timestamp' href='#597997'><time timestamp='2018-02-06T01:08:00Z'>01:08</time></a>
&lt;<span class='nick nick-1'> conman</span>&gt;
thanks, now I know what you mean by add
<br>
</div>

<div class='talk op-msg' data-timestamp='1517879340' id='597998'>
<a class='timestamp' href='#597998'><time timestamp='2018-02-06T01:09:00Z'>01:09</time></a>
&lt;<span class='nick nick-1'> conman</span>&gt;
thanks
<br>
</div>

<div class='talk op-msg' data-timestamp='1517879340' id='597999'>
<a class='timestamp' href='#597999'><time timestamp='2018-02-06T01:09:00Z'>01:09</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yw     
<br>
</div>

<div class='talk op-msg' data-timestamp='1517880420' id='598000'>
<a class='timestamp' href='#598000'><time timestamp='2018-02-06T01:27:00Z'>01:27</time></a>
&lt;<span class='nick nick-1'> conman</span>&gt;
well I made up a random v1 and it got mined
<br>
</div>

<div class='talk op-msg' data-timestamp='1517880420' id='598001'>
<a class='timestamp' href='#598001'><time timestamp='2018-02-06T01:27:00Z'>01:27</time></a>
&lt;<span class='nick nick-1'> conman</span>&gt;
so that&#x27;s good I guess
<br>
</div>

<div class='talk op-msg' data-timestamp='1517880420' id='598002'>
<a class='timestamp' href='#598002'><time timestamp='2018-02-06T01:27:00Z'>01:27</time></a>
&lt;<span class='nick nick-1'> conman</span>&gt;
<a href="https://testnet.smartbit.com.au/tx/8f3fb2cba3deeb57d9432ca13b03306aac40638a99cce3fc06c6240ca65ac25f" class="link" target="_blank">https://testnet.smartbit.com.au/tx/8f3fb2cba3deeb57d9432ca13b03306aac40638a99cce3fc06c6240ca65ac25f</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1517880660' id='598003'>
<a class='timestamp' href='#598003'><time timestamp='2018-02-06T01:31:00Z'>01:31</time></a>
&lt;<span class='nick nick-1'> conman</span>&gt;
alright, it&#x27;s a wrap, I&#x27;ve pushed mine-to-bech32 support into my master branch
<br>
</div>

<div class='talk op-msg' data-timestamp='1517880720' id='598004'>
<a class='timestamp' href='#598004'><time timestamp='2018-02-06T01:32:00Z'>01:32</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
conman: link the commit.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517880720' id='598005'>
<a class='timestamp' href='#598005'><time timestamp='2018-02-06T01:32:00Z'>01:32</time></a>
&lt;<span class='nick nick-1'> conman</span>&gt;
<a href="https://bitbucket.org/ckolivas/ckpool/commits/61513a765b12947fae30535179194b1672dc82b5" class="link" target="_blank">https://bitbucket.org/ckolivas/ckpool/commits/61513a765b12947fae30535179194b1672dc82b5</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1517880780' id='598006'>
<a class='timestamp' href='#598006'><time timestamp='2018-02-06T01:33:00Z'>01:33</time></a>
&lt;<span class='nick nick-1'> conman</span>&gt;
the address is first checked against bitcoind
<br>
</div>

<div class='talk op-msg' data-timestamp='1517880780' id='598007'>
<a class='timestamp' href='#598007'><time timestamp='2018-02-06T01:33:00Z'>01:33</time></a>
&lt;<span class='nick nick-1'> conman</span>&gt;
hence why there&#x27;s no error checking in that code
<br>
</div>

<div class='talk op-msg' data-timestamp='1517881560' id='598008'>
<a class='timestamp' href='#598008'><time timestamp='2018-02-06T01:46:00Z'>01:46</time></a>
&lt;<span class='nick nick-2'> windsok</span>&gt;
conman: this explorer is pretty good too <a href="https://tchain.btc.com/2f94872811ca3855cb7a5069bf2f4ea75377c3310d47a3ce36c082de19c205c3" class="link" target="_blank">https://tchain.btc.com/2f94872811ca3855cb7a5069bf2f4ea75377c3310d47a3ce36c082de19c205c3</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1517882760' id='598009'>
<a class='timestamp' href='#598009'><time timestamp='2018-02-06T02:06:00Z'>02:06</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
conman: anything can get mined. the trick is when you go to spend it
<br>
</div>

<div class='talk op-msg' data-timestamp='1517882940' id='598010'>
<a class='timestamp' href='#598010'><time timestamp='2018-02-06T02:09:00Z'>02:09</time></a>
&lt;<span class='nick nick-1'> conman</span>&gt;
windsok: thanks :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1517883060' id='598011'>
<a class='timestamp' href='#598011'><time timestamp='2018-02-06T02:11:00Z'>02:11</time></a>
&lt;<span class='nick nick-1'> conman</span>&gt;
didn&#x27;t know those scumbags had testnet explorer, I couldn&#x27;t see the link initially
<br>
</div>

<div class='talk op-msg' data-timestamp='1517883720' id='598012'>
<a class='timestamp' href='#598012'><time timestamp='2018-02-06T02:22:00Z'>02:22</time></a>
&lt;<span class='nick nick-2'> windsok</span>&gt;
I&#x27;m no fan of bitmain, but I enjoy that explorer
<br>
</div>

<div class='talk op-msg' data-timestamp='1517883900' id='598013'>
<a class='timestamp' href='#598013'><time timestamp='2018-02-06T02:25:00Z'>02:25</time></a>
&lt;<span class='nick nick-1'> conman</span>&gt;
yeah it is actually good
<br>
</div>

<div class='talk op-msg' data-timestamp='1517889180' id='598014'>
<a class='timestamp' href='#598014'><time timestamp='2018-02-06T03:53:00Z'>03:53</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
I don&#x27;t know how serious it is, but I&#x27;ve observed a new corrupted double-linked list error in master and v0.16rc2
<br>
</div>

<div class='talk op-msg' data-timestamp='1517889180' id='598015'>
<a class='timestamp' href='#598015'><time timestamp='2018-02-06T03:53:00Z'>03:53</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
#12362
<br>
</div>

<div class='talk op-msg' data-timestamp='1517889240' id='598016'>
<a class='timestamp' href='#598016'><time timestamp='2018-02-06T03:54:00Z'>03:54</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/12362" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/12362</a> | bitcoind hits corrupted double-linked list error when running multiple wallet_multiwallet.py tests in parallel · Issue #12362 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1517889240' id='598017'>
<a class='timestamp' href='#598017'><time timestamp='2018-02-06T03:54:00Z'>03:54</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
I&#x27;ve bisected it to a commit in the last couple of weeks or so
<br>
</div>

<div class='talk op-msg' data-timestamp='1517889300' id='598018'>
<a class='timestamp' href='#598018'><time timestamp='2018-02-06T03:55:00Z'>03:55</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
only observed when running multiple multiwallet.py tests in parallel
<br>
</div>

<div class='talk op-msg' data-timestamp='1517889300' id='598019'>
<a class='timestamp' href='#598019'><time timestamp='2018-02-06T03:55:00Z'>03:55</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
(or rather, when running multiwallet.py in parallel with other tests)
<br>
</div>

<div class='talk op-msg' data-timestamp='1517892720' id='598020'>
<a class='timestamp' href='#598020'><time timestamp='2018-02-06T04:52:00Z'>04:52</time></a>
&lt;<span class='nick nick-7'> esotericnonsense</span>&gt;
hm. has anyone used libjson-rpc-cpp with bitcoind?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517892720' id='598021'>
<a class='timestamp' href='#598021'><time timestamp='2018-02-06T04:52:00Z'>04:52</time></a>
&lt;<span class='nick nick-7'> esotericnonsense</span>&gt;
I get a &quot;The response is invalid&quot; exception but it looks like perfectly cromulent json to me
<br>
</div>

<div class='talk op-msg' data-timestamp='1517893140' id='598022'>
<a class='timestamp' href='#598022'><time timestamp='2018-02-06T04:59:00Z'>04:59</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
can you paste it somewhere?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517893140' id='598023'>
<a class='timestamp' href='#598023'><time timestamp='2018-02-06T04:59:00Z'>04:59</time></a>
&lt;<span class='nick nick-7'> esotericnonsense</span>&gt;
<a href="https://0bin.net/paste/XIEvc4xwV48k262L#AhFeXj9gcTlR-kcpU10eycgTuRaJ5HvS3TGT31wVyrn" class="link" target="_blank">https://0bin.net/paste/XIEvc4xwV48k262L#AhFeXj9gcTlR-kcpU10eycgTuRaJ5HvS3TGT31wVyrn</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1517893200' id='598024'>
<a class='timestamp' href='#598024'><time timestamp='2018-02-06T05:00:00Z'>05:00</time></a>
&lt;<span class='nick nick-7'> esotericnonsense</span>&gt;
the rpc passwords and stuff don&#x27;t need to be censored btw. :P
<br>
</div>

<div class='talk op-msg' data-timestamp='1517893200' id='598025'>
<a class='timestamp' href='#598025'><time timestamp='2018-02-06T05:00:00Z'>05:00</time></a>
&lt;<span class='nick nick-16'> * esotericnonsense</span>&gt;
changes it to make that more explicit
<br>
</div>

<div class='talk op-msg' data-timestamp='1517893320' id='598026'>
<a class='timestamp' href='#598026'><time timestamp='2018-02-06T05:02:00Z'>05:02</time></a>
&lt;<span class='nick nick-7'> esotericnonsense</span>&gt;
using basically their example code it just seems to explode.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517893620' id='598027'>
<a class='timestamp' href='#598027'><time timestamp='2018-02-06T05:07:00Z'>05:07</time></a>
&lt;<span class='nick nick-7'> esotericnonsense</span>&gt;
(same happens for anything, getmininginfo for example, it pulls out the response but raises an exception)
<br>
</div>

<div class='talk op-msg' data-timestamp='1517893620' id='598028'>
<a class='timestamp' href='#598028'><time timestamp='2018-02-06T05:07:00Z'>05:07</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
looks fine to me
<br>
</div>

<div class='talk op-msg' data-timestamp='1517893740' id='598029'>
<a class='timestamp' href='#598029'><time timestamp='2018-02-06T05:09:00Z'>05:09</time></a>
&lt;<span class='nick nick-7'> esotericnonsense</span>&gt;
yeah. i&#x27;m trying to figure out where the exception originates from like whether it&#x27;s trying to parse the json and failing somehow.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517894640' id='598030'>
<a class='timestamp' href='#598030'><time timestamp='2018-02-06T05:24:00Z'>05:24</time></a>
&lt;<span class='nick nick-7'> esotericnonsense</span>&gt;
bah. it&#x27;s json-rpc 1.0 not 2.0.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517894700' id='598031'>
<a class='timestamp' href='#598031'><time timestamp='2018-02-06T05:25:00Z'>05:25</time></a>
&lt;<span class='nick nick-7'> esotericnonsense</span>&gt;
<a href="https://github.com/cinemast/libjson-rpc-cpp/blob/e960bf5c00489dd2451be087ac4f05c9e5a47aa4/src/jsonrpccpp/client/rpcprotocolclient.cpp#L109" class="link" target="_blank">https://github.com/cinemast/libjson-rpc-cpp/blob/e960bf5c00489dd2451be087ac4f05c9e5a47aa4/src/jsonrpccpp/client/rpcprotocolclient.cpp#L109</a> this is where it borked. changing to v1.0 client works fine. thanks anyway sipa :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1517908380' id='598032'>
<a class='timestamp' href='#598032'><time timestamp='2018-02-06T09:13:00Z'>09:13</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
wumpus: is this updated <a href="https://github.com/bitcoin/bitcoin/pulls?utf8=%E2%9C%93&amp;q=is%3Aopen+project%3Abitcoin%2Fbitcoin%2F8+" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pulls?utf8=%E2%9C%93&amp;q=is%3Aopen+project%3Abitcoin%2Fbitcoin%2F8+</a> ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517908380' id='598033'>
<a class='timestamp' href='#598033'><time timestamp='2018-02-06T09:13:00Z'>09:13</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
which is/are more important?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517908440' id='598034'>
<a class='timestamp' href='#598034'><time timestamp='2018-02-06T09:14:00Z'>09:14</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
#10740 is wip, not sure if it should be in that list
<br>
</div>

<div class='talk op-msg' data-timestamp='1517908440' id='598035'>
<a class='timestamp' href='#598035'><time timestamp='2018-02-06T09:14:00Z'>09:14</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/10740" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/10740</a> | [WIP] [wallet] dynamic loading/unloading of wallets by jnewbery · Pull Request #10740 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1517909820' id='598036'>
<a class='timestamp' href='#598036'><time timestamp='2018-02-06T09:37:00Z'>09:37</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
promag: no, that hasn&#x27;t been updated for weeks, as the 0.16 milestone was effectively &#x27;high priority for review&#x27;, so we&#x27;ll want to go over it next meeting and determine what still belongs there and what not
<br>
</div>

<div class='talk op-msg' data-timestamp='1517909880' id='598037'>
<a class='timestamp' href='#598037'><time timestamp='2018-02-06T09:38:00Z'>09:38</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I agree it&#x27;s somewhat strange to have a WIP there
<br>
</div>

<div class='talk op-msg' data-timestamp='1517910000' id='598038'>
<a class='timestamp' href='#598038'><time timestamp='2018-02-06T09:40:00Z'>09:40</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
are we done regarding feature freeze?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517910420' id='598039'>
<a class='timestamp' href='#598039'><time timestamp='2018-02-06T09:47:00Z'>09:47</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes, 0.16 is forked off
<br>
</div>

<div class='talk op-msg' data-timestamp='1517910420' id='598040'>
<a class='timestamp' href='#598040'><time timestamp='2018-02-06T09:47:00Z'>09:47</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
so we can merge new features into master, if they&#x27;re ready
<br>
</div>

<div class='talk op-msg' data-timestamp='1517911560' id='598041'>
<a class='timestamp' href='#598041'><time timestamp='2018-02-06T10:06:00Z'>10:06</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj closed pull request #12359: Update license year range to 2018 (master...master) <a href="https://github.com/bitcoin/bitcoin/pull/12359" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/12359</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1517911740' id='598042'>
<a class='timestamp' href='#598042'><time timestamp='2018-02-06T10:09:00Z'>10:09</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
wumpus: assuming no other issues come up do you think we&#x27;ll release RC2 as final (now that we know that qt assert is not new and really fringe) or do you think we&#x27;d do an RC3 for that alone?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517911860' id='598043'>
<a class='timestamp' href='#598043'><time timestamp='2018-02-06T10:11:00Z'>10:11</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
gmaxwell: as it&#x27;s only a crash on shutdown and happens only in certain circumstances, I&#x27;d say we shouldn&#x27;t hold up the release just for that
<br>
</div>

<div class='talk op-msg' data-timestamp='1517911920' id='598044'>
<a class='timestamp' href='#598044'><time timestamp='2018-02-06T10:12:00Z'>10:12</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
thats my view. it&#x27;s an assert and it looks like it requires lucky timing and a shutdown when started with reindex.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517911920' id='598045'>
<a class='timestamp' href='#598045'><time timestamp='2018-02-06T10:12:00Z'>10:12</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
right, an assertion fail, not even a proper &#x27;crash&#x27;
<br>
</div>

<div class='talk op-msg' data-timestamp='1517912340' id='598046'>
<a class='timestamp' href='#598046'><time timestamp='2018-02-06T10:19:00Z'>10:19</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
anyone else see a bunch of connections from 23.92.36.0/24 ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517912340' id='598047'>
<a class='timestamp' href='#598047'><time timestamp='2018-02-06T10:19:00Z'>10:19</time></a>
&lt;<span class='nick nick-8'> Sentineo</span>&gt;
let me check
<br>
</div>

<div class='talk op-msg' data-timestamp='1517912460' id='598048'>
<a class='timestamp' href='#598048'><time timestamp='2018-02-06T10:21:00Z'>10:21</time></a>
&lt;<span class='nick nick-8'> Sentineo</span>&gt;
gmaxwell: yes, 5
<br>
</div>

<div class='talk op-msg' data-timestamp='1517912520' id='598049'>
<a class='timestamp' href='#598049'><time timestamp='2018-02-06T10:22:00Z'>10:22</time></a>
&lt;<span class='nick nick-8'> Sentineo</span>&gt;
but I see it from tor and all bitcoinj:0.14.5
<br>
</div>

<div class='talk op-msg' data-timestamp='1517912580' id='598050'>
<a class='timestamp' href='#598050'><time timestamp='2018-02-06T10:23:00Z'>10:23</time></a>
&lt;<span class='nick nick-7'> esotericnonsense</span>&gt;
same
<br>
</div>

<div class='talk op-msg' data-timestamp='1517912580' id='598051'>
<a class='timestamp' href='#598051'><time timestamp='2018-02-06T10:23:00Z'>10:23</time></a>
&lt;<span class='nick nick-7'> esotericnonsense</span>&gt;
i also have 5
<br>
</div>

<div class='talk op-msg' data-timestamp='1517912640' id='598052'>
<a class='timestamp' href='#598052'><time timestamp='2018-02-06T10:24:00Z'>10:24</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Sentineo: what do you mean &#x27;from tor&#x27;?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517912700' id='598053'>
<a class='timestamp' href='#598053'><time timestamp='2018-02-06T10:25:00Z'>10:25</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
connections from tor hs would come from 127.0.0.1
<br>
</div>

<div class='talk op-msg' data-timestamp='1517912760' id='598054'>
<a class='timestamp' href='#598054'><time timestamp='2018-02-06T10:26:00Z'>10:26</time></a>
&lt;<span class='nick nick-7'> esotericnonsense</span>&gt;
i also seem to have a ton of spy nodes or something odd like that lately
<br>
</div>

<div class='talk op-msg' data-timestamp='1517912760' id='598055'>
<a class='timestamp' href='#598055'><time timestamp='2018-02-06T10:26:00Z'>10:26</time></a>
&lt;<span class='nick nick-3'> * wumpus</span>&gt;
keeps typing listpeers instead of getpeerinfo now, argh
<br>
</div>

<div class='talk op-msg' data-timestamp='1517912820' id='598056'>
<a class='timestamp' href='#598056'><time timestamp='2018-02-06T10:27:00Z'>10:27</time></a>
&lt;<span class='nick nick-7'> esotericnonsense</span>&gt;
actually perhaps not, i think i&#x27;m actually getting inbound peers where before i&#x27;d only get like 10 :op
<br>
</div>

<div class='talk op-msg' data-timestamp='1517912820' id='598057'>
<a class='timestamp' href='#598057'><time timestamp='2018-02-06T10:27:00Z'>10:27</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
gmaxwell: yes, five here on two nodes  checked
<br>
</div>

<div class='talk op-msg' data-timestamp='1517913000' id='598058'>
<a class='timestamp' href='#598058'><time timestamp='2018-02-06T10:30:00Z'>10:30</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
a .2 .51 .62 .52  .59 b .2  .54 .57 .59. .61
<br>
</div>

<div class='talk op-msg' data-timestamp='1517913120' id='598059'>
<a class='timestamp' href='#598059'><time timestamp='2018-02-06T10:32:00Z'>10:32</time></a>
&lt;<span class='nick nick-8'> Sentineo</span>&gt;
ah true for tor wumpus, but I do see the local address as 127.0.0.1:8333 for all of them.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517913120' id='598060'>
<a class='timestamp' href='#598060'><time timestamp='2018-02-06T10:32:00Z'>10:32</time></a>
&lt;<span class='nick nick-8'> Sentineo</span>&gt;
so that is why I thought tor, but yeh it would come through tor socks ... 
<br>
</div>

<div class='talk op-msg' data-timestamp='1517913240' id='598061'>
<a class='timestamp' href='#598061'><time timestamp='2018-02-06T10:34:00Z'>10:34</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
wumpus: interesting, different hosts than I see too.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517913240' id='598062'>
<a class='timestamp' href='#598062'><time timestamp='2018-02-06T10:34:00Z'>10:34</time></a>
&lt;<span class='nick nick-7'> esotericnonsense</span>&gt;
i have 2, 51, 44, 42, 41
<br>
</div>

<div class='talk op-msg' data-timestamp='1517913240' id='598063'>
<a class='timestamp' href='#598063'><time timestamp='2018-02-06T10:34:00Z'>10:34</time></a>
&lt;<span class='nick nick-8'> Sentineo</span>&gt;
not sure why some connections show for addrlocal my public IP, some show 127.0.0.1:8333 and some the ipv6 one. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1517913240' id='598064'>
<a class='timestamp' href='#598064'><time timestamp='2018-02-06T10:34:00Z'>10:34</time></a>
&lt;<span class='nick nick-7'> esotericnonsense</span>&gt;
<a href="https://esotericnonsense.com/" class="link" target="_blank">https://esotericnonsense.com/</a> peers tab
<br>
</div>

<div class='talk op-msg' data-timestamp='1517913300' id='598065'>
<a class='timestamp' href='#598065'><time timestamp='2018-02-06T10:35:00Z'>10:35</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
anyone see any outside of 23.92.36/24 but inside 23.92.32/20 ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517913360' id='598066'>
<a class='timestamp' href='#598066'><time timestamp='2018-02-06T10:36:00Z'>10:36</time></a>
&lt;<span class='nick nick-8'> Sentineo</span>&gt;
nope
<br>
</div>

<div class='talk op-msg' data-timestamp='1517913360' id='598067'>
<a class='timestamp' href='#598067'><time timestamp='2018-02-06T10:36:00Z'>10:36</time></a>
&lt;<span class='nick nick-8'> Sentineo</span>&gt;
<a href="http://node.ispol.sk/#!/overview" class="link" target="_blank">http://node.ispol.sk/#!/overview</a> - just the /24
<br>
</div>

<div class='talk op-msg' data-timestamp='1517913360' id='598068'>
<a class='timestamp' href='#598068'><time timestamp='2018-02-06T10:36:00Z'>10:36</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
nope, all .36
<br>
</div>

<div class='talk op-msg' data-timestamp='1517913420' id='598069'>
<a class='timestamp' href='#598069'><time timestamp='2018-02-06T10:37:00Z'>10:37</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I think this is the first time I&#x27;ve added a subnet to my banlist.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517913420' id='598070'>
<a class='timestamp' href='#598070'><time timestamp='2018-02-06T10:37:00Z'>10:37</time></a>
&lt;<span class='nick nick-8'> Sentineo</span>&gt;
34,32,2,30,29
<br>
</div>

<div class='talk op-msg' data-timestamp='1517913660' id='598071'>
<a class='timestamp' href='#598071'><time timestamp='2018-02-06T10:41:00Z'>10:41</time></a>
&lt;<span class='nick nick-16'> rabidus</span>&gt;
.2, .56, .58, .59, .60
<br>
</div>

<div class='talk op-msg' data-timestamp='1517913900' id='598072'>
<a class='timestamp' href='#598072'><time timestamp='2018-02-06T10:45:00Z'>10:45</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Updated my banlists:
<br>
</div>

<div class='talk op-msg' data-timestamp='1517913900' id='598073'>
<a class='timestamp' href='#598073'><time timestamp='2018-02-06T10:45:00Z'>10:45</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
<a href="https://people.xiph.org/~greg/banlist.cli.txt" class="link" target="_blank">https://people.xiph.org/~greg/banlist.cli.txt</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1517913900' id='598074'>
<a class='timestamp' href='#598074'><time timestamp='2018-02-06T10:45:00Z'>10:45</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
<a href="https://people.xiph.org/~greg/banlist.gui.txt" class="link" target="_blank">https://people.xiph.org/~greg/banlist.gui.txt</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1517914080' id='598075'>
<a class='timestamp' href='#598075'><time timestamp='2018-02-06T10:48:00Z'>10:48</time></a>
&lt;<span class='nick nick-16'> rabidus</span>&gt;
entered those, 5 new ip address were banned
<br>
</div>

<div class='talk op-msg' data-timestamp='1517914080' id='598076'>
<a class='timestamp' href='#598076'><time timestamp='2018-02-06T10:48:00Z'>10:48</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
rabidus: you mean 5 got disconnected as a result of loading those?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517914140' id='598077'>
<a class='timestamp' href='#598077'><time timestamp='2018-02-06T10:49:00Z'>10:49</time></a>
&lt;<span class='nick nick-16'> rabidus</span>&gt;
yep     
<br>
</div>

<div class='talk op-msg' data-timestamp='1517914140' id='598078'>
<a class='timestamp' href='#598078'><time timestamp='2018-02-06T10:49:00Z'>10:49</time></a>
&lt;<span class='nick nick-16'> rabidus</span>&gt;
i used your list ~6 months ago
<br>
</div>

<div class='talk op-msg' data-timestamp='1517914140' id='598079'>
<a class='timestamp' href='#598079'><time timestamp='2018-02-06T10:49:00Z'>10:49</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
::nods::
<br>
</div>

<div class='talk op-msg' data-timestamp='1517914200' id='598080'>
<a class='timestamp' href='#598080'><time timestamp='2018-02-06T10:50:00Z'>10:50</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
esotericnonsense: just curious, what features prevent json rpc 2.0 from working?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517914260' id='598081'>
<a class='timestamp' href='#598081'><time timestamp='2018-02-06T10:51:00Z'>10:51</time></a>
&lt;<span class='nick nick-8'> Sentineo</span>&gt;
is there a list for ipv6 gmaxwell ? 
<br>
</div>

<div class='talk op-msg' data-timestamp='1517914440' id='598082'>
<a class='timestamp' href='#598082'><time timestamp='2018-02-06T10:54:00Z'>10:54</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
ipv6 nodes could be included in this list, there just aren&#x27;t any  in it at the moment
<br>
</div>

<div class='talk op-msg' data-timestamp='1517914500' id='598083'>
<a class='timestamp' href='#598083'><time timestamp='2018-02-06T10:55:00Z'>10:55</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I don&#x27;t run v6 nodes currently, so I can&#x27;t gather data on them.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517914560' id='598084'>
<a class='timestamp' href='#598084'><time timestamp='2018-02-06T10:56:00Z'>10:56</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
fwiw I have one node on ipv6
<br>
</div>

<div class='talk op-msg' data-timestamp='1517914560' id='598085'>
<a class='timestamp' href='#598085'><time timestamp='2018-02-06T10:56:00Z'>10:56</time></a>
&lt;<span class='nick nick-7'> esotericnonsense</span>&gt;
wumpus: i believe it&#x27;s the client being strict about the spec
<br>
</div>

<div class='talk op-msg' data-timestamp='1517914560' id='598086'>
<a class='timestamp' href='#598086'><time timestamp='2018-02-06T10:56:00Z'>10:56</time></a>
&lt;<span class='nick nick-7'> esotericnonsense</span>&gt;
wumpus: see <a href="http://www.jsonrpc.org/specification#response_object" class="link" target="_blank">http://www.jsonrpc.org/specification#response_object</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1517914620' id='598087'>
<a class='timestamp' href='#598087'><time timestamp='2018-02-06T10:57:00Z'>10:57</time></a>
&lt;<span class='nick nick-7'> esotericnonsense</span>&gt;
jsonrpc: A String specifying the version of the JSON-RPC protocol. MUST be exactly &quot;2.0&quot;.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517914620' id='598088'>
<a class='timestamp' href='#598088'><time timestamp='2018-02-06T10:57:00Z'>10:57</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
esotericnonsense: sure, ok, but do you know what <b>*specifically*</b> it fails on
<br>
</div>

<div class='talk op-msg' data-timestamp='1517914620' id='598089'>
<a class='timestamp' href='#598089'><time timestamp='2018-02-06T10:57:00Z'>10:57</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
oh simply the version number
<br>
</div>

<div class='talk op-msg' data-timestamp='1517914620' id='598090'>
<a class='timestamp' href='#598090'><time timestamp='2018-02-06T10:57:00Z'>10:57</time></a>
&lt;<span class='nick nick-7'> esotericnonsense</span>&gt;
there are other bits in the spec that are REQUIRED but at least in the core dev docs they&#x27;re not REQUIRED (for the requests at least if not the responses)
<br>
</div>

<div class='talk op-msg' data-timestamp='1517914620' id='598091'>
<a class='timestamp' href='#598091'><time timestamp='2018-02-06T10:57:00Z'>10:57</time></a>
&lt;<span class='nick nick-7'> esotericnonsense</span>&gt;
but I know that the developer docs are often outdated
<br>
</div>

<div class='talk op-msg' data-timestamp='1517914620' id='598092'>
<a class='timestamp' href='#598092'><time timestamp='2018-02-06T10:57:00Z'>10:57</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
can you try to lolpatch that to 2.0 and see if it works?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517914680' id='598093'>
<a class='timestamp' href='#598093'><time timestamp='2018-02-06T10:58:00Z'>10:58</time></a>
&lt;<span class='nick nick-7'> esotericnonsense</span>&gt;
it doesn&#x27;t even respond with jsonrpc
<br>
</div>

<div class='talk op-msg' data-timestamp='1517914680' id='598094'>
<a class='timestamp' href='#598094'><time timestamp='2018-02-06T10:58:00Z'>10:58</time></a>
&lt;<span class='nick nick-7'> esotericnonsense</span>&gt;
i.e. it&#x27;s not jsonrpc 1.0, it&#x27;s just not there :P
<br>
</div>

<div class='talk op-msg' data-timestamp='1517914680' id='598095'>
<a class='timestamp' href='#598095'><time timestamp='2018-02-06T10:58:00Z'>10:58</time></a>
&lt;<span class='nick nick-7'> esotericnonsense</span>&gt;
i can yeah but not immediately (a lolhack I suppose would be to reply with whatever was in the request :P)
<br>
</div>

<div class='talk op-msg' data-timestamp='1517914680' id='598096'>
<a class='timestamp' href='#598096'><time timestamp='2018-02-06T10:58:00Z'>10:58</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
we pretty much do 2.0, there might be some small things missing
<br>
</div>

<div class='talk op-msg' data-timestamp='1517914800' id='598097'>
<a class='timestamp' href='#598097'><time timestamp='2018-02-06T11:00:00Z'>11:00</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
for example features such as batching are 2.0 afaik
<br>
</div>

<div class='talk op-msg' data-timestamp='1517914980' id='598098'>
<a class='timestamp' href='#598098'><time timestamp='2018-02-06T11:03:00Z'>11:03</time></a>
&lt;<span class='nick nick-7'> esotericnonsense</span>&gt;
indeed
<br>
</div>

<div class='talk op-msg' data-timestamp='1517914980' id='598099'>
<a class='timestamp' href='#598099'><time timestamp='2018-02-06T11:03:00Z'>11:03</time></a>
&lt;<span class='nick nick-16'> * esotericnonsense</span>&gt;
now has coffee which was the important bit before trying to rpc2.0ise it
<br>
</div>

<div class='talk op-msg' data-timestamp='1517916060' id='598100'>
<a class='timestamp' href='#598100'><time timestamp='2018-02-06T11:21:00Z'>11:21</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/2a30e67d20f7...eaeaa2d0b4e8" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/2a30e67d20f7...eaeaa2d0b4e8</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1517916060' id='598101'>
<a class='timestamp' href='#598101'><time timestamp='2018-02-06T11:21:00Z'>11:21</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master c887f87 Clem Taylor: Extend #11583 to include the most common message generated by non-contributing peers (port scanners?)...
<br>
</div>

<div class='talk op-msg' data-timestamp='1517916060' id='598102'>
<a class='timestamp' href='#598102'><time timestamp='2018-02-06T11:21:00Z'>11:21</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master eaeaa2d Wladimir J. van der Laan: Merge #12342: Extend #11583 to include &quot;version handshake timeout&quot; message...
<br>
</div>

<div class='talk op-msg' data-timestamp='1517916060' id='598103'>
<a class='timestamp' href='#598103'><time timestamp='2018-02-06T11:21:00Z'>11:21</time></a>
&lt;<span class='nick nick-7'> esotericnonsense</span>&gt;
wumpus: nah that doesn&#x27;t work. from looking at the code above (github link) it&#x27;s clear why
<br>
</div>

<div class='talk op-msg' data-timestamp='1517916060' id='598104'>
<a class='timestamp' href='#598104'><time timestamp='2018-02-06T11:21:00Z'>11:21</time></a>
&lt;<span class='nick nick-7'> esotericnonsense</span>&gt;
it interprets the spec very literally. we send error: null when it wants the error field to not exist if there&#x27;s a result
<br>
</div>

<div class='talk op-msg' data-timestamp='1517916120' id='598105'>
<a class='timestamp' href='#598105'><time timestamp='2018-02-06T11:22:00Z'>11:22</time></a>
&lt;<span class='nick nick-7'> esotericnonsense</span>&gt;
from memory i think we might also send result: null when the error is non-null
<br>
</div>

<div class='talk op-msg' data-timestamp='1517916120' id='598106'>
<a class='timestamp' href='#598106'><time timestamp='2018-02-06T11:22:00Z'>11:22</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj closed pull request #12342: Extend #11583 to include &quot;version handshake timeout&quot; message (master...master) <a href="https://github.com/bitcoin/bitcoin/pull/12342" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/12342</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1517916120' id='598107'>
<a class='timestamp' href='#598107'><time timestamp='2018-02-06T11:22:00Z'>11:22</time></a>
&lt;<span class='nick nick-16'> * esotericnonsense</span>&gt;
tries hacking error to not exist ...
<br>
</div>

<div class='talk op-msg' data-timestamp='1517916120' id='598108'>
<a class='timestamp' href='#598108'><time timestamp='2018-02-06T11:22:00Z'>11:22</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
in the long run we should move toward compliance with the spec, maybe first a command line option (for backwards compatiblity)
<br>
</div>

<div class='talk op-msg' data-timestamp='1517916180' id='598109'>
<a class='timestamp' href='#598109'><time timestamp='2018-02-06T11:23:00Z'>11:23</time></a>
&lt;<span class='nick nick-7'> esotericnonsense</span>&gt;
yes that works
<br>
</div>

<div class='talk op-msg' data-timestamp='1517916240' id='598110'>
<a class='timestamp' href='#598110'><time timestamp='2018-02-06T11:24:00Z'>11:24</time></a>
&lt;<span class='nick nick-7'> esotericnonsense</span>&gt;
lolpatch required to make it work in this specific instance: <a href="https://0bin.net/paste/d4-gThuaT2e1ZRk7#rsIjxU2jNyfmuWZHDaM76BRiVYOE723m7sP5vzVILEt" class="link" target="_blank">https://0bin.net/paste/d4-gThuaT2e1ZRk7#rsIjxU2jNyfmuWZHDaM76BRiVYOE723m7sP5vzVILEt</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1517916240' id='598111'>
<a class='timestamp' href='#598111'><time timestamp='2018-02-06T11:24:00Z'>11:24</time></a>
&lt;<span class='nick nick-7'> esotericnonsense</span>&gt;
i agree, you&#x27;d need to track the client version though
<br>
</div>

<div class='talk op-msg' data-timestamp='1517916360' id='598112'>
<a class='timestamp' href='#598112'><time timestamp='2018-02-06T11:26:00Z'>11:26</time></a>
&lt;<span class='nick nick-7'> esotericnonsense</span>&gt;
it would have to be a commandline option because I think it would make sense to enforce the restrictions on the client at the same time
<br>
</div>

<div class='talk op-msg' data-timestamp='1517916360' id='598113'>
<a class='timestamp' href='#598113'><time timestamp='2018-02-06T11:26:00Z'>11:26</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I mean to moving to strict json rpc 2.0 only, and keep the hack-1.0 compatibility as a command line option for the forseeable future for backwards compatiblity
<br>
</div>

<div class='talk op-msg' data-timestamp='1517916420' id='598114'>
<a class='timestamp' href='#598114'><time timestamp='2018-02-06T11:27:00Z'>11:27</time></a>
&lt;<span class='nick nick-7'> esotericnonsense</span>&gt;
ah sure
<br>
</div>

<div class='talk op-msg' data-timestamp='1517916420' id='598115'>
<a class='timestamp' href='#598115'><time timestamp='2018-02-06T11:27:00Z'>11:27</time></a>
&lt;<span class='nick nick-7'> esotericnonsense</span>&gt;
that might be something I could look at in the next few weeks :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1517916480' id='598116'>
<a class='timestamp' href='#598116'><time timestamp='2018-02-06T11:28:00Z'>11:28</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
the way it is now is pretty much a historical mistake, but as a lot of software is written against our peculiar json-rpc dialect we can&#x27;t and shouldn&#x27;t completely drop it, but having a spec-compliant mode would be great 
<br>
</div>

<div class='talk op-msg' data-timestamp='1517916600' id='598117'>
<a class='timestamp' href='#598117'><time timestamp='2018-02-06T11:30:00Z'>11:30</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
awesome
<br>
</div>

<div class='talk op-msg' data-timestamp='1517916660' id='598118'>
<a class='timestamp' href='#598118'><time timestamp='2018-02-06T11:31:00Z'>11:31</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
btcd has this option: --rpcquirks             Mirror some JSON-RPC quirks of Bitcoin Core -- NOTE: Discouraged unless interoperability issues need to be worked around   -- O dpm
<br>
</div>

<div class='talk op-msg' data-timestamp='1517916720' id='598119'>
<a class='timestamp' href='#598119'><time timestamp='2018-02-06T11:32:00Z'>11:32</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I don&#x27;t know what it exactly changes
<br>
</div>

<div class='talk op-msg' data-timestamp='1517916780' id='598120'>
<a class='timestamp' href='#598120'><time timestamp='2018-02-06T11:33:00Z'>11:33</time></a>
&lt;<span class='nick nick-7'> esotericnonsense</span>&gt;
the JSONRPCReplyObj function seems to encapsulate all the problems if you could assume the client is jsonrpc 2.0
<br>
</div>

<div class='talk op-msg' data-timestamp='1517916840' id='598121'>
<a class='timestamp' href='#598121'><time timestamp='2018-02-06T11:34:00Z'>11:34</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
ok     
<br>
</div>

<div class='talk op-msg' data-timestamp='1517916840' id='598122'>
<a class='timestamp' href='#598122'><time timestamp='2018-02-06T11:34:00Z'>11:34</time></a>
&lt;<span class='nick nick-7'> esotericnonsense</span>&gt;
on the response side at least
<br>
</div>

<div class='talk op-msg' data-timestamp='1517916900' id='598123'>
<a class='timestamp' href='#598123'><time timestamp='2018-02-06T11:35:00Z'>11:35</time></a>
&lt;<span class='nick nick-7'> esotericnonsense</span>&gt;
i guess it&#x27;s less important to be strict about what clients send you, but then you don&#x27;t want to later have a &#x27;really really jsonrpc2.0&#x27; flag
<br>
</div>

<div class='talk op-msg' data-timestamp='1517916900' id='598124'>
<a class='timestamp' href='#598124'><time timestamp='2018-02-06T11:35:00Z'>11:35</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
right might be that bitcoin-cli needs changes as well
<br>
</div>

<div class='talk op-msg' data-timestamp='1517916900' id='598125'>
<a class='timestamp' href='#598125'><time timestamp='2018-02-06T11:35:00Z'>11:35</time></a>
&lt;<span class='nick nick-7'> esotericnonsense</span>&gt;
:P     
<br>
</div>

<div class='talk op-msg' data-timestamp='1517916900' id='598126'>
<a class='timestamp' href='#598126'><time timestamp='2018-02-06T11:35:00Z'>11:35</time></a>
&lt;<span class='nick nick-7'> esotericnonsense</span>&gt;
yes\
<br>
</div>

<div class='talk op-msg' data-timestamp='1517916900' id='598127'>
<a class='timestamp' href='#598127'><time timestamp='2018-02-06T11:35:00Z'>11:35</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
haha no
<br>
</div>

<div class='talk op-msg' data-timestamp='1517916960' id='598128'>
<a class='timestamp' href='#598128'><time timestamp='2018-02-06T11:36:00Z'>11:36</time></a>
&lt;<span class='nick nick-16'> * esotericnonsense</span>&gt;
wonders if bitcoind-ncurses would explode if the server were compliant
<br>
</div>

<div class='talk op-msg' data-timestamp='1517917020' id='598129'>
<a class='timestamp' href='#598129'><time timestamp='2018-02-06T11:37:00Z'>11:37</time></a>
&lt;<span class='nick nick-16'> * esotericnonsense</span>&gt;
smashes himself in the face with a hammer after remembering how he handles rpc in general
<br>
</div>

<div class='talk op-msg' data-timestamp='1517917740' id='598130'>
<a class='timestamp' href='#598130'><time timestamp='2018-02-06T11:49:00Z'>11:49</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/eaeaa2d0b4e8...9a32114626fc" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/eaeaa2d0b4e8...9a32114626fc</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1517917740' id='598131'>
<a class='timestamp' href='#598131'><time timestamp='2018-02-06T11:49:00Z'>11:49</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master d3a185a Wladimir J. van der Laan: net: Move misbehaving logging to net logging category...
<br>
</div>

<div class='talk op-msg' data-timestamp='1517917740' id='598132'>
<a class='timestamp' href='#598132'><time timestamp='2018-02-06T11:49:00Z'>11:49</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 9a32114 Wladimir J. van der Laan: Merge #12218: net: Move misbehaving logging to net logging category...
<br>
</div>

<div class='talk op-msg' data-timestamp='1517917800' id='598133'>
<a class='timestamp' href='#598133'><time timestamp='2018-02-06T11:50:00Z'>11:50</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj closed pull request #12218: net: Move misbehaving logging to net logging category (master...2018_01_misbehaving_logging) <a href="https://github.com/bitcoin/bitcoin/pull/12218" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/12218</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1517918040' id='598134'>
<a class='timestamp' href='#598134'><time timestamp='2018-02-06T11:54:00Z'>11:54</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/9a32114626fc...c3451483d283" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/9a32114626fc...c3451483d283</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1517918040' id='598135'>
<a class='timestamp' href='#598135'><time timestamp='2018-02-06T11:54:00Z'>11:54</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master eeeb416 murrayn: Remove suggestion to make cloned repository world-writable for Windows build.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517918040' id='598136'>
<a class='timestamp' href='#598136'><time timestamp='2018-02-06T11:54:00Z'>11:54</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master c345148 Wladimir J. van der Laan: Merge #12322: Docs: Remove step making cloned repository world-writable for Windows build....
<br>
</div>

<div class='talk op-msg' data-timestamp='1517918100' id='598137'>
<a class='timestamp' href='#598137'><time timestamp='2018-02-06T11:55:00Z'>11:55</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj closed pull request #12322: Docs: Remove step making cloned repository world-writable for Windows build. (master...doc_change) <a href="https://github.com/bitcoin/bitcoin/pull/12322" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/12322</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1517920740' id='598138'>
<a class='timestamp' href='#598138'><time timestamp='2018-02-06T12:39:00Z'>12:39</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj closed pull request #12325: Use dynamic_cast for downcasting instead of static_cast. (master...use_dynamic_cast_to_downcast) <a href="https://github.com/bitcoin/bitcoin/pull/12325" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/12325</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1517928360' id='598139'>
<a class='timestamp' href='#598139'><time timestamp='2018-02-06T14:46:00Z'>14:46</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] conscott opened pull request #12363: Update README after filename change (master...test-readme-update) <a href="https://github.com/bitcoin/bitcoin/pull/12363" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/12363</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1517928840' id='598140'>
<a class='timestamp' href='#598140'><time timestamp='2018-02-06T14:54:00Z'>14:54</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 3 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/c3451483d283...88971352f610" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/c3451483d283...88971352f610</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1517928840' id='598141'>
<a class='timestamp' href='#598141'><time timestamp='2018-02-06T14:54:00Z'>14:54</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master faeab66 MarcoFalke: contrib: Replace developer keys with list of pgp fingerprints
<br>
</div>

<div class='talk op-msg' data-timestamp='1517928840' id='598142'>
<a class='timestamp' href='#598142'><time timestamp='2018-02-06T14:54:00Z'>14:54</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master fabb72b MarcoFalke: contrib: Remove xpired 522739F6 key
<br>
</div>

<div class='talk op-msg' data-timestamp='1517928840' id='598143'>
<a class='timestamp' href='#598143'><time timestamp='2018-02-06T14:54:00Z'>14:54</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 8897135 Wladimir J. van der Laan: Merge #11909: contrib: Replace developer keys with list of pgp fingerprints...
<br>
</div>

<div class='talk op-msg' data-timestamp='1517928900' id='598144'>
<a class='timestamp' href='#598144'><time timestamp='2018-02-06T14:55:00Z'>14:55</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj closed pull request #11909: contrib: Replace developer keys with list of pgp fingerprints (master...Mf1712-gitianKeysDel) <a href="https://github.com/bitcoin/bitcoin/pull/11909" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/11909</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1517930040' id='598145'>
<a class='timestamp' href='#598145'><time timestamp='2018-02-06T15:14:00Z'>15:14</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 3 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/88971352f610...f6cd41d93e12" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/88971352f610...f6cd41d93e12</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1517930040' id='598146'>
<a class='timestamp' href='#598146'><time timestamp='2018-02-06T15:14:00Z'>15:14</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master a1e1305 James O&#x27;Beirne: Clarify help messages for path args to mention datadir prefix...
<br>
</div>

<div class='talk op-msg' data-timestamp='1517930040' id='598147'>
<a class='timestamp' href='#598147'><time timestamp='2018-02-06T15:14:00Z'>15:14</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 5460460 James O&#x27;Beirne: Add AbsPathForConfigVal to consolidate datadir prefixing for path args...
<br>
</div>

<div class='talk op-msg' data-timestamp='1517930040' id='598148'>
<a class='timestamp' href='#598148'><time timestamp='2018-02-06T15:14:00Z'>15:14</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master f6cd41d Wladimir J. van der Laan: Merge #12305: [docs] [refactor] Add help messages for datadir path mangling...
<br>
</div>

<div class='talk op-msg' data-timestamp='1517930100' id='598149'>
<a class='timestamp' href='#598149'><time timestamp='2018-02-06T15:15:00Z'>15:15</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj closed pull request #12305: [docs] [refactor] Add help messages for datadir path mangling (master...jamesob/conf-flag-path-help) <a href="https://github.com/bitcoin/bitcoin/pull/12305" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/12305</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1517932440' id='598150'>
<a class='timestamp' href='#598150'><time timestamp='2018-02-06T15:54:00Z'>15:54</time></a>
&lt;<span class='nick nick-15'> ossifrage</span>&gt;
 Has anyone noticed a reduction in the number of connections with v0.16.x? Normally after ~3ish days of uptime I&#x27;d be upto 90 or so peers and with the new version I&#x27;m having a hard time keeping 60 connections?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517932620' id='598151'>
<a class='timestamp' href='#598151'><time timestamp='2018-02-06T15:57:00Z'>15:57</time></a>
&lt;<span class='nick nick-14'> Dudley</span>&gt;
Should  DEFAULT_WALLET_RBF be set to TRUE in wallet.h for version 0.16?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517932980' id='598152'>
<a class='timestamp' href='#598152'><time timestamp='2018-02-06T16:03:00Z'>16:03</time></a>
&lt;<span class='nick nick-14'> Randolf</span>&gt;
ossifrage:  I wonder if some folks have simply stopped running Bitcoin nodes given the recent downturn in price.  Or are you seeing the same number of initial connections as you did before?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517933100' id='598153'>
<a class='timestamp' href='#598153'><time timestamp='2018-02-06T16:05:00Z'>16:05</time></a>
&lt;<span class='nick nick-15'> ossifrage</span>&gt;
Randolf, previously I had no problem hitting ~100 connections in a few days and often &gt;120
<br>
</div>

<div class='talk op-msg' data-timestamp='1517933100' id='598154'>
<a class='timestamp' href='#598154'><time timestamp='2018-02-06T16:05:00Z'>16:05</time></a>
&lt;<span class='nick nick-15'> ossifrage</span>&gt;
Now I&#x27;m only hitting 50-60
<br>
</div>

<div class='talk op-msg' data-timestamp='1517933160' id='598155'>
<a class='timestamp' href='#598155'><time timestamp='2018-02-06T16:06:00Z'>16:06</time></a>
&lt;<span class='nick nick-14'> Randolf</span>&gt;
I suppose you&#x27;ve been checking your logs?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517933160' id='598156'>
<a class='timestamp' href='#598156'><time timestamp='2018-02-06T16:06:00Z'>16:06</time></a>
&lt;<span class='nick nick-6'> adiabat</span>&gt;
ossifrage: I&#x27;ve also seen a big dropoff in nodes and also network traffic, down 50% or so in the last 2 weeks
<br>
</div>

<div class='talk op-msg' data-timestamp='1517933220' id='598157'>
<a class='timestamp' href='#598157'><time timestamp='2018-02-06T16:07:00Z'>16:07</time></a>
&lt;<span class='nick nick-15'> ossifrage</span>&gt;
it could just be fall off in price results in a fall off in the number of nodes
<br>
</div>

<div class='talk op-msg' data-timestamp='1517933280' id='598158'>
<a class='timestamp' href='#598158'><time timestamp='2018-02-06T16:08:00Z'>16:08</time></a>
&lt;<span class='nick nick-14'> Randolf</span>&gt;
Markets have been down a lot over the past few weeks (more than two weeks), and so I&#x27;m guessing that a number of folks might have chosen to stop running their nodes because of that.  I&#x27;ve certainly seen some chatter about that with other cryptocurrencies too from folks getting out while the markets
<br>
</div>

<div class='talk op-msg' data-timestamp='1517933280' id='598159'>
<a class='timestamp' href='#598159'><time timestamp='2018-02-06T16:08:00Z'>16:08</time></a>
&lt;<span class='nick nick-14'> Randolf</span>&gt;
drop.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517933340' id='598160'>
<a class='timestamp' href='#598160'><time timestamp='2018-02-06T16:09:00Z'>16:09</time></a>
&lt;<span class='nick nick-14'> Randolf</span>&gt;
It could be interesting to find out which countries are seeing the most drops in node runners.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517933340' id='598161'>
<a class='timestamp' href='#598161'><time timestamp='2018-02-06T16:09:00Z'>16:09</time></a>
&lt;<span class='nick nick-14'> Randolf</span>&gt;
...assuming that&#x27;s what&#x27;s happening.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517933340' id='598162'>
<a class='timestamp' href='#598162'><time timestamp='2018-02-06T16:09:00Z'>16:09</time></a>
&lt;<span class='nick nick-14'> Randolf</span>&gt;
It would also be nice to know whether some major ISPs have actively started blocking Bitcoin node traffic.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517933340' id='598163'>
<a class='timestamp' href='#598163'><time timestamp='2018-02-06T16:09:00Z'>16:09</time></a>
&lt;<span class='nick nick-16'> rabidus</span>&gt;
i haven&#x27;t seen any drop in my node peer count (.fi)
<br>
</div>

<div class='talk op-msg' data-timestamp='1517933400' id='598164'>
<a class='timestamp' href='#598164'><time timestamp='2018-02-06T16:10:00Z'>16:10</time></a>
&lt;<span class='nick nick-14'> Randolf</span>&gt;
rabidus:  Are you using v0.16?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517933400' id='598165'>
<a class='timestamp' href='#598165'><time timestamp='2018-02-06T16:10:00Z'>16:10</time></a>
&lt;<span class='nick nick-16'> rabidus</span>&gt;
ah, sry, no.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517933400' id='598166'>
<a class='timestamp' href='#598166'><time timestamp='2018-02-06T16:10:00Z'>16:10</time></a>
&lt;<span class='nick nick-14'> Randolf</span>&gt;
rabidus:  It&#x27;s still good to know that you haven&#x27;t seen a drop.  :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1517933460' id='598167'>
<a class='timestamp' href='#598167'><time timestamp='2018-02-06T16:11:00Z'>16:11</time></a>
&lt;<span class='nick nick-16'> rabidus</span>&gt;
hmmm, well now i&#x27;m very curious to test that
<br>
</div>

<div class='talk op-msg' data-timestamp='1517933460' id='598168'>
<a class='timestamp' href='#598168'><time timestamp='2018-02-06T16:11:00Z'>16:11</time></a>
&lt;<span class='nick nick-16'> * Randolf</span>&gt;
smiles
<br>
</div>

<div class='talk op-msg' data-timestamp='1517933520' id='598169'>
<a class='timestamp' href='#598169'><time timestamp='2018-02-06T16:12:00Z'>16:12</time></a>
&lt;<span class='nick nick-14'> Randolf</span>&gt;
Maybe I&#x27;ll set up a node too, and let it run for a week.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517933520' id='598170'>
<a class='timestamp' href='#598170'><time timestamp='2018-02-06T16:12:00Z'>16:12</time></a>
&lt;<span class='nick nick-14'> Randolf</span>&gt;
...at least.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517933580' id='598171'>
<a class='timestamp' href='#598171'><time timestamp='2018-02-06T16:13:00Z'>16:13</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
I belive #12273 needs an 0.16 tag
<br>
</div>

<div class='talk op-msg' data-timestamp='1517933580' id='598172'>
<a class='timestamp' href='#598172'><time timestamp='2018-02-06T16:13:00Z'>16:13</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/12273" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/12273</a> | rpc: Add back missing cs_main lock in getrawmempool by MarcoFalke · Pull Request #12273 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1517933700' id='598173'>
<a class='timestamp' href='#598173'><time timestamp='2018-02-06T16:15:00Z'>16:15</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
wumpus: #12337 has two bugs, the first is a regression (so should likely be tagged 0.16, but should be an easy fix), the second is not a regression, though should also be an easy fix so dunno why we shouldnt just fix it
<br>
</div>

<div class='talk op-msg' data-timestamp='1517933700' id='598174'>
<a class='timestamp' href='#598174'><time timestamp='2018-02-06T16:15:00Z'>16:15</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/12337" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/12337</a> | 0.16 Shutdown assertion · Issue #12337 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1517933700' id='598175'>
<a class='timestamp' href='#598175'><time timestamp='2018-02-06T16:15:00Z'>16:15</time></a>
&lt;<span class='nick nick-14'> Dudley</span>&gt;
Command line options help displays   &quot;walletrbf Send transactions with full-RBF opt-in enabled (RPC only, default: 0)&quot; for version 0.16rc2
<br>
</div>

<div class='talk op-msg' data-timestamp='1517933700' id='598176'>
<a class='timestamp' href='#598176'><time timestamp='2018-02-06T16:15:00Z'>16:15</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
#12273 is a regression
<br>
</div>

<div class='talk op-msg' data-timestamp='1517933700' id='598177'>
<a class='timestamp' href='#598177'><time timestamp='2018-02-06T16:15:00Z'>16:15</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/12273" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/12273</a> | rpc: Add back missing cs_main lock in getrawmempool by MarcoFalke · Pull Request #12273 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1517933760' id='598178'>
<a class='timestamp' href='#598178'><time timestamp='2018-02-06T16:16:00Z'>16:16</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
BlueMatt: we removed the 0.16 tag from 12337, it doesn&#x27;t warrant doing another r
<br>
</div>

<div class='talk op-msg' data-timestamp='1517933760' id='598179'>
<a class='timestamp' href='#598179'><time timestamp='2018-02-06T16:16:00Z'>16:16</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
rc     
<br>
</div>

<div class='talk op-msg' data-timestamp='1517933820' id='598180'>
<a class='timestamp' href='#598180'><time timestamp='2018-02-06T16:17:00Z'>16:17</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
(which I also explained in my post there)
<br>
</div>

<div class='talk op-msg' data-timestamp='1517933820' id='598181'>
<a class='timestamp' href='#598181'><time timestamp='2018-02-06T16:17:00Z'>16:17</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
a regression causing a scarry assert on shutdown?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517933820' id='598182'>
<a class='timestamp' href='#598182'><time timestamp='2018-02-06T16:17:00Z'>16:17</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it&#x27;s very rare
<br>
</div>

<div class='talk op-msg' data-timestamp='1517933820' id='598183'>
<a class='timestamp' href='#598183'><time timestamp='2018-02-06T16:17:00Z'>16:17</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
and it&#x27;s only an assert, and only on shutdown
<br>
</div>

<div class='talk op-msg' data-timestamp='1517933820' id='598184'>
<a class='timestamp' href='#598184'><time timestamp='2018-02-06T16:17:00Z'>16:17</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
I mean I ran into it like 3 times during testing yesterday
<br>
</div>

<div class='talk op-msg' data-timestamp='1517933820' id='598185'>
<a class='timestamp' href='#598185'><time timestamp='2018-02-06T16:17:00Z'>16:17</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
its only rare if you never quit during startup, afaict
<br>
</div>

<div class='talk op-msg' data-timestamp='1517933820' id='598186'>
<a class='timestamp' href='#598186'><time timestamp='2018-02-06T16:17:00Z'>16:17</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yeah...
<br>
</div>

<div class='talk op-msg' data-timestamp='1517933880' id='598187'>
<a class='timestamp' href='#598187'><time timestamp='2018-02-06T16:18:00Z'>16:18</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
(and other stuff probably does merit an rc3, so might as well, imo)
<br>
</div>

<div class='talk op-msg' data-timestamp='1517933940' id='598188'>
<a class='timestamp' href='#598188'><time timestamp='2018-02-06T16:19:00Z'>16:19</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes, if an rc3 turns out to be needed we can include the fix
<br>
</div>

<div class='talk op-msg' data-timestamp='1517934000' id='598189'>
<a class='timestamp' href='#598189'><time timestamp='2018-02-06T16:20:00Z'>16:20</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
#12273 could be rather annoying for a user who doesnt notice...it probably doesnt itself warrant an rc3 but that + the two bugs in 12337 might
<br>
</div>

<div class='talk op-msg' data-timestamp='1517934000' id='598190'>
<a class='timestamp' href='#598190'><time timestamp='2018-02-06T16:20:00Z'>16:20</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/12273" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/12273</a> | rpc: Add back missing cs_main lock in getrawmempool by MarcoFalke · Pull Request #12273 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1517934000' id='598191'>
<a class='timestamp' href='#598191'><time timestamp='2018-02-06T16:20:00Z'>16:20</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
and 12362 may by itself warrant one
<br>
</div>

<div class='talk op-msg' data-timestamp='1517934000' id='598192'>
<a class='timestamp' href='#598192'><time timestamp='2018-02-06T16:20:00Z'>16:20</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
12273 affects more than just the tests?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517934060' id='598193'>
<a class='timestamp' href='#598193'><time timestamp='2018-02-06T16:21:00Z'>16:21</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
its a race between eg sendrawtransaction and getrawmempool....someone who does a sendrawtransaction followed by an immediate getrawmempool to...test for something or check fee or something may suddenly start failing
<br>
</div>

<div class='talk op-msg' data-timestamp='1517934060' id='598194'>
<a class='timestamp' href='#598194'><time timestamp='2018-02-06T16:21:00Z'>16:21</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
its not exactly critical, especially since it doesnt effect wallet
<br>
</div>

<div class='talk op-msg' data-timestamp='1517934060' id='598195'>
<a class='timestamp' href='#598195'><time timestamp='2018-02-06T16:21:00Z'>16:21</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
right, it seems far-fetched
<br>
</div>

<div class='talk op-msg' data-timestamp='1517934060' id='598196'>
<a class='timestamp' href='#598196'><time timestamp='2018-02-06T16:21:00Z'>16:21</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
but its kinda gross
<br>
</div>

<div class='talk op-msg' data-timestamp='1517934120' id='598197'>
<a class='timestamp' href='#598197'><time timestamp='2018-02-06T16:22:00Z'>16:22</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
needs to be fixed but does not warrant another rc
<br>
</div>

<div class='talk op-msg' data-timestamp='1517934120' id='598198'>
<a class='timestamp' href='#598198'><time timestamp='2018-02-06T16:22:00Z'>16:22</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
agreed (by itself)
<br>
</div>

<div class='talk op-msg' data-timestamp='1517934180' id='598199'>
<a class='timestamp' href='#598199'><time timestamp='2018-02-06T16:23:00Z'>16:23</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
#12362 is scary though, it&#x27;s exactly what I was afraid of merging #12266 last minute :/
<br>
</div>

<div class='talk op-msg' data-timestamp='1517934180' id='598200'>
<a class='timestamp' href='#598200'><time timestamp='2018-02-06T16:23:00Z'>16:23</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/12362" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/12362</a> | bitcoind hits corrupted double-linked list error when running multiple wallet_multiwallet.py tests in parallel · Issue #12362 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1517934180' id='598201'>
<a class='timestamp' href='#598201'><time timestamp='2018-02-06T16:23:00Z'>16:23</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/12266" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/12266</a> | Move scheduler/threadGroup into common-init instead of per-app by TheBlueMatt · Pull Request #12266 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1517934240' id='598202'>
<a class='timestamp' href='#598202'><time timestamp='2018-02-06T16:24:00Z'>16:24</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
yea, its rather surprising to me...something is really sketchy there :(
<br>
</div>

<div class='talk op-msg' data-timestamp='1517934300' id='598203'>
<a class='timestamp' href='#598203'><time timestamp='2018-02-06T16:25:00Z'>16:25</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
I mean this is why I wanted a full cycle of testing on all the parallell/background stuff, turns out even that seems like it wasnt enough :(
<br>
</div>

<div class='talk op-msg' data-timestamp='1517934600' id='598204'>
<a class='timestamp' href='#598204'><time timestamp='2018-02-06T16:30:00Z'>16:30</time></a>
&lt;<span class='nick nick-14'> Dudley</span>&gt;
Discard my question.     I guess default for walletrbf is different for RPC then the GUI
<br>
</div>

<div class='talk op-msg' data-timestamp='1517934660' id='598205'>
<a class='timestamp' href='#598205'><time timestamp='2018-02-06T16:31:00Z'>16:31</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
Dudley: yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1517936340' id='598206'>
<a class='timestamp' href='#598206'><time timestamp='2018-02-06T16:59:00Z'>16:59</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
I&#x27;m making a fresh Debian 8 VM for Gitian to see which of the issues that I encountered last week are Debian 9 specific (probably still worth fixing at some point). 
<br>
</div>

<div class='talk op-msg' data-timestamp='1517936340' id='598207'>
<a class='timestamp' href='#598207'><time timestamp='2018-02-06T16:59:00Z'>16:59</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
(for rc3)
<br>
</div>

<div class='talk op-msg' data-timestamp='1517936400' id='598208'>
<a class='timestamp' href='#598208'><time timestamp='2018-02-06T17:00:00Z'>17:00</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/f6cd41d93e12...5ad320598f06" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/f6cd41d93e12...5ad320598f06</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1517936400' id='598209'>
<a class='timestamp' href='#598209'><time timestamp='2018-02-06T17:00:00Z'>17:00</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 8a6c62b Conor Scott: [tests] Update README after filename change
<br>
</div>

<div class='talk op-msg' data-timestamp='1517936400' id='598210'>
<a class='timestamp' href='#598210'><time timestamp='2018-02-06T17:00:00Z'>17:00</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 5ad3205 Wladimir J. van der Laan: Merge #12363: Update README after filename change...
<br>
</div>

<div class='talk op-msg' data-timestamp='1517936460' id='598211'>
<a class='timestamp' href='#598211'><time timestamp='2018-02-06T17:01:00Z'>17:01</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj closed pull request #12363: Update README after filename change (master...test-readme-update) <a href="https://github.com/bitcoin/bitcoin/pull/12363" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/12363</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1517936580' id='598212'>
<a class='timestamp' href='#598212'><time timestamp='2018-02-06T17:03:00Z'>17:03</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
provoostenator: yeah it would help a lot if someone worked through that guide and fixed the things that are no longer correct, it&#x27;s been too long
<br>
</div>

<div class='talk op-msg' data-timestamp='1517936580' id='598213'>
<a class='timestamp' href='#598213'><time timestamp='2018-02-06T17:03:00Z'>17:03</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
most people who have a working gitian environment dread to touch it again
<br>
</div>

<div class='talk op-msg' data-timestamp='1517936580' id='598214'>
<a class='timestamp' href='#598214'><time timestamp='2018-02-06T17:03:00Z'>17:03</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
I already left about 10 issues on the docs repo, but I suspect some of it was Debian 9 related.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517936700' id='598215'>
<a class='timestamp' href='#598215'><time timestamp='2018-02-06T17:05:00Z'>17:05</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
ok cool
<br>
</div>

<div class='talk op-msg' data-timestamp='1517936700' id='598216'>
<a class='timestamp' href='#598216'><time timestamp='2018-02-06T17:05:00Z'>17:05</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/5ad320598f06...1462bde767a1" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/5ad320598f06...1462bde767a1</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1517936700' id='598217'>
<a class='timestamp' href='#598217'><time timestamp='2018-02-06T17:05:00Z'>17:05</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master bdb3231 251: Implements a virtual destructor on the BaseRequestHandler class....
<br>
</div>

<div class='talk op-msg' data-timestamp='1517936700' id='598218'>
<a class='timestamp' href='#598218'><time timestamp='2018-02-06T17:05:00Z'>17:05</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 1462bde Wladimir J. van der Laan: Merge #12050: [trivial] Implements a virtual destructor on the BaseRequestHandler class....
<br>
</div>

<div class='talk op-msg' data-timestamp='1517936760' id='598219'>
<a class='timestamp' href='#598219'><time timestamp='2018-02-06T17:06:00Z'>17:06</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
I&#x27;m also looking at clarifying how to build on the VM, but sign on the host machine.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517936760' id='598220'>
<a class='timestamp' href='#598220'><time timestamp='2018-02-06T17:06:00Z'>17:06</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
As well as push to github fro the host machine.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517936760' id='598221'>
<a class='timestamp' href='#598221'><time timestamp='2018-02-06T17:06:00Z'>17:06</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj closed pull request #12050: [trivial] Implements a virtual destructor on the BaseRequestHandler class. (master...patch/BaseRequestHandler-virtual-dtor) <a href="https://github.com/bitcoin/bitcoin/pull/12050" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/12050</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1517936820' id='598222'>
<a class='timestamp' href='#598222'><time timestamp='2018-02-06T17:07:00Z'>17:07</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
I already have a bash script for that, but need to combine that with the existing script (before or after someone converts that to Python).
<br>
</div>

<div class='talk op-msg' data-timestamp='1517937240' id='598223'>
<a class='timestamp' href='#598223'><time timestamp='2018-02-06T17:14:00Z'>17:14</time></a>
&lt;<span class='nick nick-14'> arubi</span>&gt;
provoostenator, I&#x27;m successfully building w/ debian 9 as the host VM, here are my notes if it helps <a href="https://gist.github.com/fivepiece/4c5cd8733973b9821dba9c9c42958209" class="link" target="_blank">https://gist.github.com/fivepiece/4c5cd8733973b9821dba9c9c42958209</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1517937300' id='598224'>
<a class='timestamp' href='#598224'><time timestamp='2018-02-06T17:15:00Z'>17:15</time></a>
&lt;<span class='nick nick-14'> arubi</span>&gt;
it&#x27;s also possible to set up the bridge stuff using the new `ip` commands, but I wasn&#x27;t sure if the gitian builder scripts look for ifconfig and friends so I&#x27;m also pulling the net-tools package
<br>
</div>

<div class='talk op-msg' data-timestamp='1517937360' id='598225'>
<a class='timestamp' href='#598225'><time timestamp='2018-02-06T17:16:00Z'>17:16</time></a>
&lt;<span class='nick nick-14'> arubi</span>&gt;
one plus is that it doesn&#x27;t require installing an old vmbuilder as root
<br>
</div>

<div class='talk op-msg' data-timestamp='1517939700' id='598226'>
<a class='timestamp' href='#598226'><time timestamp='2018-02-06T17:55:00Z'>17:55</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
ok, so found the issue in #12362...trying to find minimal patch
<br>
</div>

<div class='talk op-msg' data-timestamp='1517939760' id='598227'>
<a class='timestamp' href='#598227'><time timestamp='2018-02-06T17:56:00Z'>17:56</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/12362" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/12362</a> | bitcoind hits corrupted double-linked list error when running multiple wallet_multiwallet.py tests in parallel · Issue #12362 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1517939760' id='598228'>
<a class='timestamp' href='#598228'><time timestamp='2018-02-06T17:56:00Z'>17:56</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
wumpus: you still around? you know this code much better than I
<br>
</div>

<div class='talk op-msg' data-timestamp='1517939760' id='598229'>
<a class='timestamp' href='#598229'><time timestamp='2018-02-06T17:56:00Z'>17:56</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
BlueMatt: yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1517939820' id='598230'>
<a class='timestamp' href='#598230'><time timestamp='2018-02-06T17:57:00Z'>17:57</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
(as in still around, not sure about knowing the code better)
<br>
</div>

<div class='talk op-msg' data-timestamp='1517939820' id='598231'>
<a class='timestamp' href='#598231'><time timestamp='2018-02-06T17:57:00Z'>17:57</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
issue is simple: HTTPWorkQueueRun starting in a new thread may take longer to get to the queue-&gt;Run() call than it takes for us to go through InterruptHTTPServer(); StopHTTPServer()
<br>
</div>

<div class='talk op-msg' data-timestamp='1517939820' id='598232'>
<a class='timestamp' href='#598232'><time timestamp='2018-02-06T17:57:00Z'>17:57</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
so the thread will start after the underlying queue has been deleted
<br>
</div>

<div class='talk op-msg' data-timestamp='1517939820' id='598233'>
<a class='timestamp' href='#598233'><time timestamp='2018-02-06T17:57:00Z'>17:57</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
resulting in garbage
<br>
</div>

<div class='talk op-msg' data-timestamp='1517939820' id='598234'>
<a class='timestamp' href='#598234'><time timestamp='2018-02-06T17:57:00Z'>17:57</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
looks like we need a lock
<br>
</div>

<div class='talk op-msg' data-timestamp='1517939820' id='598235'>
<a class='timestamp' href='#598235'><time timestamp='2018-02-06T17:57:00Z'>17:57</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
prior to the commit to move the threadGroup to interrupt later, the only thing between VerifyWallets() was threadGroup.interrupt_all(), which was enough to keep from seeing this
<br>
</div>

<div class='talk op-msg' data-timestamp='1517939880' id='598236'>
<a class='timestamp' href='#598236'><time timestamp='2018-02-06T17:58:00Z'>17:58</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
but once that was removed if VerifyWallets() fails you essentially just immediately call InterruptHTTPServer() and then StopHTTPRPC(), StopREST(), StopRPC() and StopHTTPServer()
<br>
</div>

<div class='talk op-msg' data-timestamp='1517939880' id='598237'>
<a class='timestamp' href='#598237'><time timestamp='2018-02-06T17:58:00Z'>17:58</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
so you just get into a simple race there
<br>
</div>

<div class='talk op-msg' data-timestamp='1517939940' id='598238'>
<a class='timestamp' href='#598238'><time timestamp='2018-02-06T17:59:00Z'>17:59</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes, so when interrupthttpserver is run, we first need to wait that it is actually running
<br>
</div>

<div class='talk op-msg' data-timestamp='1517939940' id='598239'>
<a class='timestamp' href='#598239'><time timestamp='2018-02-06T17:59:00Z'>17:59</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
easy to test for - add a sleep at the top of HTTPWorkQueueRun and run in valgrind
<br>
</div>

<div class='talk op-msg' data-timestamp='1517939940' id='598240'>
<a class='timestamp' href='#598240'><time timestamp='2018-02-06T17:59:00Z'>17:59</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
you&#x27;ll see it immediately
<br>
</div>

<div class='talk op-msg' data-timestamp='1517939940' id='598241'>
<a class='timestamp' href='#598241'><time timestamp='2018-02-06T17:59:00Z'>17:59</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
yea, just need to somehow pause until stuff is running
<br>
</div>

<div class='talk op-msg' data-timestamp='1517939940' id='598242'>
<a class='timestamp' href='#598242'><time timestamp='2018-02-06T17:59:00Z'>17:59</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
the stupid patch at <a href="https://github.com/bitcoin/bitcoin/issues/12362#issuecomment-363503855" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/12362#issuecomment-363503855</a> apparently works
<br>
</div>

<div class='talk op-msg' data-timestamp='1517939940' id='598243'>
<a class='timestamp' href='#598243'><time timestamp='2018-02-06T17:59:00Z'>17:59</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
also, queue-&gt;run shouldn&#x27;t run if it is already terminated
<br>
</div>

<div class='talk op-msg' data-timestamp='1517940060' id='598244'>
<a class='timestamp' href='#598244'><time timestamp='2018-02-06T18:01:00Z'>18:01</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
yea, i think that would be an equivalent fix
<br>
</div>

<div class='talk op-msg' data-timestamp='1517940060' id='598245'>
<a class='timestamp' href='#598245'><time timestamp='2018-02-06T18:01:00Z'>18:01</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
but does this fix the race?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517940120' id='598246'>
<a class='timestamp' href='#598246'><time timestamp='2018-02-06T18:02:00Z'>18:02</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
there&#x27;s still a small window where threads_running is incrased but queue-&gt;run is not yet executed
<br>
</div>

<div class='talk op-msg' data-timestamp='1517940120' id='598247'>
<a class='timestamp' href='#598247'><time timestamp='2018-02-06T18:02:00Z'>18:02</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
oh yea I mean its not a sufficient fix
<br>
</div>

<div class='talk op-msg' data-timestamp='1517940120' id='598248'>
<a class='timestamp' href='#598248'><time timestamp='2018-02-06T18:02:00Z'>18:02</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
its just a hack for testing
<br>
</div>

<div class='talk op-msg' data-timestamp='1517940120' id='598249'>
<a class='timestamp' href='#598249'><time timestamp='2018-02-06T18:02:00Z'>18:02</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
right
<br>
</div>

<div class='talk op-msg' data-timestamp='1517940180' id='598250'>
<a class='timestamp' href='#598250'><time timestamp='2018-02-06T18:03:00Z'>18:03</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
wumpus: do you understand the qt init stuff well enough to fix #12337? (it just needs to have its shutdown match bitcoind - Shutdown() should always get called if AppInitMain() gets called, even if it fails)
<br>
</div>

<div class='talk op-msg' data-timestamp='1517940180' id='598251'>
<a class='timestamp' href='#598251'><time timestamp='2018-02-06T18:03:00Z'>18:03</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/12337" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/12337</a> | 0.16 Shutdown assertion · Issue #12337 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1517940240' id='598252'>
<a class='timestamp' href='#598252'><time timestamp='2018-02-06T18:04:00Z'>18:04</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
I mean I can do a dirty hack for an rc3 that just does it directly but I dont understand the lifetimes well enough to not break things
<br>
</div>

<div class='talk op-msg' data-timestamp='1517940240' id='598253'>
<a class='timestamp' href='#598253'><time timestamp='2018-02-06T18:04:00Z'>18:04</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I lost track of the qt init stuff to be honest, I used to understand it, but a lot changed
<br>
</div>

<div class='talk op-msg' data-timestamp='1517940240' id='598254'>
<a class='timestamp' href='#598254'><time timestamp='2018-02-06T18:04:00Z'>18:04</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
:(     
<br>
</div>

<div class='talk op-msg' data-timestamp='1517940240' id='598255'>
<a class='timestamp' href='#598255'><time timestamp='2018-02-06T18:04:00Z'>18:04</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
oh that part, yes that should be easy
<br>
</div>

<div class='talk op-msg' data-timestamp='1517940240' id='598256'>
<a class='timestamp' href='#598256'><time timestamp='2018-02-06T18:04:00Z'>18:04</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it&#x27;s interesting because it used to be exactly the other way around
<br>
</div>

<div class='talk op-msg' data-timestamp='1517940300' id='598257'>
<a class='timestamp' href='#598257'><time timestamp='2018-02-06T18:05:00Z'>18:05</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
ok, well I&#x27;d propose we do that and just fix the 4 outstanding issues and do an rc3, then
<br>
</div>

<div class='talk op-msg' data-timestamp='1517940300' id='598258'>
<a class='timestamp' href='#598258'><time timestamp='2018-02-06T18:05:00Z'>18:05</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
yea, that stuff got confused and bitcoind and qt diverged introducing the bug in 12337 :(
<br>
</div>

<div class='talk op-msg' data-timestamp='1517940300' id='598259'>
<a class='timestamp' href='#598259'><time timestamp='2018-02-06T18:05:00Z'>18:05</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I think that switched around a few times
<br>
</div>

<div class='talk op-msg' data-timestamp='1517940300' id='598260'>
<a class='timestamp' href='#598260'><time timestamp='2018-02-06T18:05:00Z'>18:05</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
well also AppInit got split.....
<br>
</div>

<div class='talk op-msg' data-timestamp='1517940360' id='598261'>
<a class='timestamp' href='#598261'><time timestamp='2018-02-06T18:06:00Z'>18:06</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
that shouldn&#x27;t change this
<br>
</div>

<div class='talk op-msg' data-timestamp='1517940360' id='598262'>
<a class='timestamp' href='#598262'><time timestamp='2018-02-06T18:06:00Z'>18:06</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
the earlier appinits shouldn&#x27;t require a shutdown
<br>
</div>

<div class='talk op-msg' data-timestamp='1517940360' id='598263'>
<a class='timestamp' href='#598263'><time timestamp='2018-02-06T18:06:00Z'>18:06</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
only the last one
<br>
</div>

<div class='talk op-msg' data-timestamp='1517940360' id='598264'>
<a class='timestamp' href='#598264'><time timestamp='2018-02-06T18:06:00Z'>18:06</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
yea, well when there was only one appinit... :p
<br>
</div>

<div class='talk op-msg' data-timestamp='1517940360' id='598265'>
<a class='timestamp' href='#598265'><time timestamp='2018-02-06T18:06:00Z'>18:06</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
as that is what is executed in the daemon process
<br>
</div>

<div class='talk op-msg' data-timestamp='1517940420' id='598266'>
<a class='timestamp' href='#598266'><time timestamp='2018-02-06T18:07:00Z'>18:07</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
the other ones are preparation
<br>
</div>

<div class='talk op-msg' data-timestamp='1517940420' id='598267'>
<a class='timestamp' href='#598267'><time timestamp='2018-02-06T18:07:00Z'>18:07</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
so one thing we should maybe consider is a test framework that changes shutdownrequested to just start shutdown after being called N times, and then run for all N 0...inf to make sure we handle all these cases well
<br>
</div>

<div class='talk op-msg' data-timestamp='1517940480' id='598268'>
<a class='timestamp' href='#598268'><time timestamp='2018-02-06T18:08:00Z'>18:08</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
cause we now have, what, 2 issues that would be caught by a test like that
<br>
</div>

<div class='talk op-msg' data-timestamp='1517940480' id='598269'>
<a class='timestamp' href='#598269'><time timestamp='2018-02-06T18:08:00Z'>18:08</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes it definitely needs tests
<br>
</div>

<div class='talk op-msg' data-timestamp='1517940480' id='598270'>
<a class='timestamp' href='#598270'><time timestamp='2018-02-06T18:08:00Z'>18:08</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
the initialization sequence and shutdown are really undertested
<br>
</div>

<div class='talk op-msg' data-timestamp='1517940840' id='598271'>
<a class='timestamp' href='#598271'><time timestamp='2018-02-06T18:14:00Z'>18:14</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
so for the queue-&gt;Run() I don&#x27;t understand why interrupting it before the Run is hit is a problem, interrupt should set the stopped flag on the queue, so it should just fall through and exit the thread immediately
<br>
</div>

<div class='talk op-msg' data-timestamp='1517940900' id='598272'>
<a class='timestamp' href='#598272'><time timestamp='2018-02-06T18:15:00Z'>18:15</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
or does deletion (which should happen in ShutdownHTTPServer, not Interrupt) somehow not wait for the threads to have stopped?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517940960' id='598273'>
<a class='timestamp' href='#598273'><time timestamp='2018-02-06T18:16:00Z'>18:16</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
wumpus: I do not believe ShutdownHTTPServer does any meaningful waiting, no
<br>
</div>

<div class='talk op-msg' data-timestamp='1517941020' id='598274'>
<a class='timestamp' href='#598274'><time timestamp='2018-02-06T18:17:00Z'>18:17</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
then that is likely the issue, let me see
<br>
</div>

<div class='talk op-msg' data-timestamp='1517941020' id='598275'>
<a class='timestamp' href='#598275'><time timestamp='2018-02-06T18:17:00Z'>18:17</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
yea, I dont think Interrupt is the issue, I think its Shutdown
<br>
</div>

<div class='talk op-msg' data-timestamp='1517941020' id='598276'>
<a class='timestamp' href='#598276'><time timestamp='2018-02-06T18:17:00Z'>18:17</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it does workqueue-&gt;WaitExit()
<br>
</div>

<div class='talk op-msg' data-timestamp='1517941020' id='598277'>
<a class='timestamp' href='#598277'><time timestamp='2018-02-06T18:17:00Z'>18:17</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
in Shutdown
<br>
</div>

<div class='talk op-msg' data-timestamp='1517941080' id='598278'>
<a class='timestamp' href='#598278'><time timestamp='2018-02-06T18:18:00Z'>18:18</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
yea, but if the thread hasnt joined (ie is still waiting to call numThreads++) then the wait is null
<br>
</div>

<div class='talk op-msg' data-timestamp='1517941080' id='598279'>
<a class='timestamp' href='#598279'><time timestamp='2018-02-06T18:18:00Z'>18:18</time></a>
&lt;<span class='nick nick-12'> ryanofsky</span>&gt;
#11625 adds some testing for qt init code, fwiw
<br>
</div>

<div class='talk op-msg' data-timestamp='1517941080' id='598280'>
<a class='timestamp' href='#598280'><time timestamp='2018-02-06T18:18:00Z'>18:18</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/11625" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/11625</a> | Add BitcoinApplication &amp; RPCConsole tests by ryanofsky · Pull Request #11625 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1517941140' id='598281'>
<a class='timestamp' href='#598281'><time timestamp='2018-02-06T18:19:00Z'>18:19</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
ah apparently it doesn&#x27;t actually join the thread objects
<br>
</div>

<div class='talk op-msg' data-timestamp='1517941140' id='598282'>
<a class='timestamp' href='#598282'><time timestamp='2018-02-06T18:19:00Z'>18:19</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
ryanofsky: good!
<br>
</div>

<div class='talk op-msg' data-timestamp='1517941200' id='598283'>
<a class='timestamp' href='#598283'><time timestamp='2018-02-06T18:20:00Z'>18:20</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
the threads are detached and the handle is thrown away
<br>
</div>

<div class='talk op-msg' data-timestamp='1517941200' id='598284'>
<a class='timestamp' href='#598284'><time timestamp='2018-02-06T18:20:00Z'>18:20</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
yea     
<br>
</div>

<div class='talk op-msg' data-timestamp='1517941260' id='598285'>
<a class='timestamp' href='#598285'><time timestamp='2018-02-06T18:21:00Z'>18:21</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
ok this is easy to solve
<br>
</div>

<div class='talk op-msg' data-timestamp='1517941320' id='598286'>
<a class='timestamp' href='#598286'><time timestamp='2018-02-06T18:22:00Z'>18:22</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
will PR in a minute
<br>
</div>

<div class='talk op-msg' data-timestamp='1517941440' id='598287'>
<a class='timestamp' href='#598287'><time timestamp='2018-02-06T18:24:00Z'>18:24</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
thanks for finding this, I wonder if I introduced this bug or it somehow snuck in when going from boost::thread to std::thread (probably the former)
<br>
</div>

<div class='talk op-msg' data-timestamp='1517941740' id='598288'>
<a class='timestamp' href='#598288'><time timestamp='2018-02-06T18:29:00Z'>18:29</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
alright, well I propose we fix all 4 bugs here and then rc3
<br>
</div>

<div class='talk op-msg' data-timestamp='1517941740' id='598289'>
<a class='timestamp' href='#598289'><time timestamp='2018-02-06T18:29:00Z'>18:29</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
wait, i may have another....
<br>
</div>

<div class='talk op-msg' data-timestamp='1517941800' id='598290'>
<a class='timestamp' href='#598290'><time timestamp='2018-02-06T18:30:00Z'>18:30</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
yup, ok, 5 bugs
<br>
</div>

<div class='talk op-msg' data-timestamp='1517941920' id='598291'>
<a class='timestamp' href='#598291'><time timestamp='2018-02-06T18:32:00Z'>18:32</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj opened pull request #12366: http: Join worker threads before deleting work queue (master...2017_02_httpserver_join) <a href="https://github.com/bitcoin/bitcoin/pull/12366" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/12366</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1517942220' id='598292'>
<a class='timestamp' href='#598292'><time timestamp='2018-02-06T18:37:00Z'>18:37</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
as for qt, it seems it&#x27;s already supposed to call Shutdown() even if AppInitMain() fails, don&#x27;t know what goes wrong
<br>
</div>

<div class='talk op-msg' data-timestamp='1517942280' id='598293'>
<a class='timestamp' href='#598293'><time timestamp='2018-02-06T18:38:00Z'>18:38</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
wumpus: [13:15:15] &lt;cfields&gt; BlueMatt: i think i might see the issue
<br>
</div>

<div class='talk op-msg' data-timestamp='1517942280' id='598294'>
<a class='timestamp' href='#598294'><time timestamp='2018-02-06T18:38:00Z'>18:38</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
[13:16:58] &lt;cfields&gt; BlueMatt: BitcoinApplication connects requestedShutdown to shutdown(), but SplashScreen connects it to close()
<br>
</div>

<div class='talk op-msg' data-timestamp='1517942280' id='598295'>
<a class='timestamp' href='#598295'><time timestamp='2018-02-06T18:38:00Z'>18:38</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
[13:17:32] &lt;cfields&gt; so it looks like we should re-route that after AppInitMain has started
<br>
</div>

<div class='talk op-msg' data-timestamp='1517942340' id='598296'>
<a class='timestamp' href='#598296'><time timestamp='2018-02-06T18:39:00Z'>18:39</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
a signal can be connected to two handlers, I don&#x27;t see the problem
<br>
</div>

<div class='talk op-msg' data-timestamp='1517942400' id='598297'>
<a class='timestamp' href='#598297'><time timestamp='2018-02-06T18:40:00Z'>18:40</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
that just makes sure that the splash screen is hidden when the shutdown window is shown
<br>
</div>

<div class='talk op-msg' data-timestamp='1517942400' id='598298'>
<a class='timestamp' href='#598298'><time timestamp='2018-02-06T18:40:00Z'>18:40</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
ahh, well I didnt look into it that deeply, but if Shutdown() is called, nThreadsServicingQueue should be pretty clearly 0
<br>
</div>

<div class='talk op-msg' data-timestamp='1517942400' id='598299'>
<a class='timestamp' href='#598299'><time timestamp='2018-02-06T18:40:00Z'>18:40</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
as it join()s
<br>
</div>

<div class='talk op-msg' data-timestamp='1517942400' id='598300'>
<a class='timestamp' href='#598300'><time timestamp='2018-02-06T18:40:00Z'>18:40</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I&#x27;m fairly sure that this has always worked, when closing during the splash screen the shutdown window is shown and it waits for proper shutdown
<br>
</div>

<div class='talk op-msg' data-timestamp='1517942460' id='598301'>
<a class='timestamp' href='#598301'><time timestamp='2018-02-06T18:41:00Z'>18:41</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
no idea wtf messed this up...
<br>
</div>

<div class='talk op-msg' data-timestamp='1517942580' id='598302'>
<a class='timestamp' href='#598302'><time timestamp='2018-02-06T18:43:00Z'>18:43</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
so the assertion is triggered after exiting main()?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517942640' id='598303'>
<a class='timestamp' href='#598303'><time timestamp='2018-02-06T18:44:00Z'>18:44</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
yes     
<br>
</div>

<div class='talk op-msg' data-timestamp='1517942640' id='598304'>
<a class='timestamp' href='#598304'><time timestamp='2018-02-06T18:44:00Z'>18:44</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
static-deinit
<br>
</div>

<div class='talk op-msg' data-timestamp='1517942700' id='598305'>
<a class='timestamp' href='#598305'><time timestamp='2018-02-06T18:45:00Z'>18:45</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] TheBlueMatt opened pull request #12367: Fix two fast-shutdown bugs (master...2018-02-wait-genesis-exit) <a href="https://github.com/bitcoin/bitcoin/pull/12367" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/12367</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1517942760' id='598306'>
<a class='timestamp' href='#598306'><time timestamp='2018-02-06T18:46:00Z'>18:46</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
^ fixes two fast-shutdown bugs, hopefully with really-simple patches
<br>
</div>

<div class='talk op-msg' data-timestamp='1517942760' id='598307'>
<a class='timestamp' href='#598307'><time timestamp='2018-02-06T18:46:00Z'>18:46</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
rc2 is basically rc1
<br>
</div>

<div class='talk op-msg' data-timestamp='1517942760' id='598308'>
<a class='timestamp' href='#598308'><time timestamp='2018-02-06T18:46:00Z'>18:46</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
As we need to give users time to test, there is no downside in rc3
<br>
</div>

<div class='talk op-msg' data-timestamp='1517943180' id='598309'>
<a class='timestamp' href='#598309'><time timestamp='2018-02-06T18:53:00Z'>18:53</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
Hi all, I&#x27;ve been trying to get gitian on LXC working to no avail. I&#x27;m running into the same issues kallewoof ran into on Dec 1st, 2017. where the error is &quot;sudo: unable to resolve host gitian / cannot set terminal process group (1): Inappropriate ioctl for device / no job control in this shell&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1517943180' id='598310'>
<a class='timestamp' href='#598310'><time timestamp='2018-02-06T18:53:00Z'>18:53</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
I fixed the unable to resolve host error by modifying the /etc/hosts of the base image
<br>
</div>

<div class='talk op-msg' data-timestamp='1517943180' id='598311'>
<a class='timestamp' href='#598311'><time timestamp='2018-02-06T18:53:00Z'>18:53</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
unable to resolve host is harmless at least
<br>
</div>

<div class='talk op-msg' data-timestamp='1517943240' id='598312'>
<a class='timestamp' href='#598312'><time timestamp='2018-02-06T18:54:00Z'>18:54</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
that&#x27;s just a warning
<br>
</div>

<div class='talk op-msg' data-timestamp='1517943240' id='598313'>
<a class='timestamp' href='#598313'><time timestamp='2018-02-06T18:54:00Z'>18:54</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] TheBlueMatt opened pull request #12368: Hold mempool.cs for the duration of ATMP. (master...2018-02-getrawmempool-race) <a href="https://github.com/bitcoin/bitcoin/pull/12368" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/12368</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1517943240' id='598314'>
<a class='timestamp' href='#598314'><time timestamp='2018-02-06T18:54:00Z'>18:54</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
MarcoFalke: ^
<br>
</div>

<div class='talk op-msg' data-timestamp='1517943240' id='598315'>
<a class='timestamp' href='#598315'><time timestamp='2018-02-06T18:54:00Z'>18:54</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
never saw the others though
<br>
</div>

<div class='talk op-msg' data-timestamp='1517943300' id='598316'>
<a class='timestamp' href='#598316'><time timestamp='2018-02-06T18:55:00Z'>18:55</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
wumpus: thanks, it seems like there were case before where this happened as well, e.g. <a href="https://github.com/devrandom/gitian-builder/issues/63" class="link" target="_blank">https://github.com/devrandom/gitian-builder/issues/63</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1517943300' id='598317'>
<a class='timestamp' href='#598317'><time timestamp='2018-02-06T18:55:00Z'>18:55</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke closed pull request #12273: rpc: Add back missing cs_main lock in getrawmempool (master...Mf1801-rpcMempoolGetLock) <a href="https://github.com/bitcoin/bitcoin/pull/12273" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/12273</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1517943360' id='598318'>
<a class='timestamp' href='#598318'><time timestamp='2018-02-06T18:56:00Z'>18:56</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
What happens with the error is that I get dropped into a root shell, and when I ctrl-d, a loop of &quot;sudo: unknown user: ubuntu&quot; and &quot;sudo: unable to initialize policy plugin&quot; pops up
<br>
</div>

<div class='talk op-msg' data-timestamp='1517943360' id='598319'>
<a class='timestamp' href='#598319'><time timestamp='2018-02-06T18:56:00Z'>18:56</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
ok, so #12368 + #12367 + #12366 + the qt bug and then rc3? I think all of those except the last are at least super-trivial patches...and at this rate getting an extra week on testing cycles seems to make sense
<br>
</div>

<div class='talk op-msg' data-timestamp='1517943360' id='598320'>
<a class='timestamp' href='#598320'><time timestamp='2018-02-06T18:56:00Z'>18:56</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/12368" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/12368</a> | Hold mempool.cs for the duration of ATMP. by TheBlueMatt · Pull Request #12368 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1517943360' id='598321'>
<a class='timestamp' href='#598321'><time timestamp='2018-02-06T18:56:00Z'>18:56</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/12367" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/12367</a> | Fix two fast-shutdown bugs by TheBlueMatt · Pull Request #12367 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1517943360' id='598322'>
<a class='timestamp' href='#598322'><time timestamp='2018-02-06T18:56:00Z'>18:56</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/12366" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/12366</a> | http: Join worker threads before deleting work queue by laanwj · Pull Request #12366 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1517943360' id='598323'>
<a class='timestamp' href='#598323'><time timestamp='2018-02-06T18:56:00Z'>18:56</time></a>
&lt;<span class='nick nick-7'> * dongcarl</span>&gt;
waits patiently for a savior
<br>
</div>

<div class='talk op-msg' data-timestamp='1517944500' id='598324'>
<a class='timestamp' href='#598324'><time timestamp='2018-02-06T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
dongcarl: is that perhaps with debian 9?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517944500' id='598325'>
<a class='timestamp' href='#598325'><time timestamp='2018-02-06T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
wumpus: the base image is trusty
<br>
</div>

<div class='talk op-msg' data-timestamp='1517944500' id='598326'>
<a class='timestamp' href='#598326'><time timestamp='2018-02-06T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
no, I mean the outer VM
<br>
</div>

<div class='talk op-msg' data-timestamp='1517944500' id='598327'>
<a class='timestamp' href='#598327'><time timestamp='2018-02-06T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
I&#x27;m on Arch right now
<br>
</div>

<div class='talk op-msg' data-timestamp='1517944560' id='598328'>
<a class='timestamp' href='#598328'><time timestamp='2018-02-06T19:16:00Z'>19:16</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
am I understanding this wrong? I thought there were two layers, my laptop (Arch) and the lxc container (Trusty)
<br>
</div>

<div class='talk op-msg' data-timestamp='1517944560' id='598329'>
<a class='timestamp' href='#598329'><time timestamp='2018-02-06T19:16:00Z'>19:16</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
heh you might be the first that tries running gitian on arch
<br>
</div>

<div class='talk op-msg' data-timestamp='1517944560' id='598330'>
<a class='timestamp' href='#598330'><time timestamp='2018-02-06T19:16:00Z'>19:16</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
wumpus: yeah I wanted to make a PR on how to workaround the kinks
<br>
</div>

<div class='talk op-msg' data-timestamp='1517944560' id='598331'>
<a class='timestamp' href='#598331'><time timestamp='2018-02-06T19:16:00Z'>19:16</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
dongcarl: I&#x27;ve only used the Debian VM. Not sure if it&#x27;s worth maintaining documentation for 2 distros.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517944620' id='598332'>
<a class='timestamp' href='#598332'><time timestamp='2018-02-06T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Although I suppose it would make the scripts more robust.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517944620' id='598333'>
<a class='timestamp' href='#598333'><time timestamp='2018-02-06T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
provoostenator: We already have it for fedora as well
<br>
</div>

<div class='talk op-msg' data-timestamp='1517944620' id='598334'>
<a class='timestamp' href='#598334'><time timestamp='2018-02-06T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
provoostenator: I think it&#x27;ll be nice if the scripts are distro-agnostic
<br>
</div>

<div class='talk op-msg' data-timestamp='1517944620' id='598335'>
<a class='timestamp' href='#598335'><time timestamp='2018-02-06T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-7'> esotericnonsense</span>&gt;
bah run debian or whatever in a vm and run the lxc within that. solved. :P
<br>
</div>

<div class='talk op-msg' data-timestamp='1517944620' id='598336'>
<a class='timestamp' href='#598336'><time timestamp='2018-02-06T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
yeah
<br>
</div>

<div class='talk op-msg' data-timestamp='1517944620' id='598337'>
<a class='timestamp' href='#598337'><time timestamp='2018-02-06T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
well iI assumed you were following the gitian-building md, it starts out with debian VM in which the LXC based gitian is run
<br>
</div>

<div class='talk op-msg' data-timestamp='1517944620' id='598338'>
<a class='timestamp' href='#598338'><time timestamp='2018-02-06T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it would be nice, but not realistic I think
<br>
</div>

<div class='talk op-msg' data-timestamp='1517944620' id='598339'>
<a class='timestamp' href='#598339'><time timestamp='2018-02-06T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
we have lots of trouble keeping it working in just debian
<br>
</div>

<div class='talk op-msg' data-timestamp='1517944680' id='598340'>
<a class='timestamp' href='#598340'><time timestamp='2018-02-06T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
:-/     
<br>
</div>

<div class='talk op-msg' data-timestamp='1517944680' id='598341'>
<a class='timestamp' href='#598341'><time timestamp='2018-02-06T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
I&#x27;m getting better at it though, having nuked and rebuilt a Gitian VM half a dozen times now.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517944680' id='598342'>
<a class='timestamp' href='#598342'><time timestamp='2018-02-06T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
So I know the zcash people use gitian+vagrant
<br>
</div>

<div class='talk op-msg' data-timestamp='1517944680' id='598343'>
<a class='timestamp' href='#598343'><time timestamp='2018-02-06T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
and vagrant is pretty portable across hosts and drivers
<br>
</div>

<div class='talk op-msg' data-timestamp='1517944680' id='598344'>
<a class='timestamp' href='#598344'><time timestamp='2018-02-06T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
but that&#x27;s a whole other thing
<br>
</div>

<div class='talk op-msg' data-timestamp='1517944740' id='598345'>
<a class='timestamp' href='#598345'><time timestamp='2018-02-06T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
I think I know where the problem lies...
<br>
</div>

<div class='talk op-msg' data-timestamp='1517944740' id='598346'>
<a class='timestamp' href='#598346'><time timestamp='2018-02-06T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
Maybe we can get rid of gitian ...
<br>
</div>

<div class='talk op-msg' data-timestamp='1517944740' id='598347'>
<a class='timestamp' href='#598347'><time timestamp='2018-02-06T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
in theory there shouldn&#x27;t be that much dependece on the outer host
<br>
</div>

<div class='talk op-msg' data-timestamp='1517944740' id='598348'>
<a class='timestamp' href='#598348'><time timestamp='2018-02-06T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but that&#x27;s theory...
<br>
</div>

<div class='talk op-msg' data-timestamp='1517944740' id='598349'>
<a class='timestamp' href='#598349'><time timestamp='2018-02-06T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
hahaha
<br>
</div>

<div class='talk op-msg' data-timestamp='1517944740' id='598350'>
<a class='timestamp' href='#598350'><time timestamp='2018-02-06T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
in theory
<br>
</div>

<div class='talk op-msg' data-timestamp='1517944740' id='598351'>
<a class='timestamp' href='#598351'><time timestamp='2018-02-06T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
sipa: The lxc bridge thing usually breaks
<br>
</div>

<div class='talk op-msg' data-timestamp='1517944740' id='598352'>
<a class='timestamp' href='#598352'><time timestamp='2018-02-06T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
the difference between theory and practice is of course that in theory there is nome, but in practice...
<br>
</div>

<div class='talk op-msg' data-timestamp='1517944800' id='598353'>
<a class='timestamp' href='#598353'><time timestamp='2018-02-06T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
the lxc setup is quite fragile
<br>
</div>

<div class='talk op-msg' data-timestamp='1517944800' id='598354'>
<a class='timestamp' href='#598354'><time timestamp='2018-02-06T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
yeah
<br>
</div>

<div class='talk op-msg' data-timestamp='1517944800' id='598355'>
<a class='timestamp' href='#598355'><time timestamp='2018-02-06T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
maybe it&#x27;s easier with vagrant or another container hoster, I don&#x27;t know
<br>
</div>

<div class='talk op-msg' data-timestamp='1517944800' id='598356'>
<a class='timestamp' href='#598356'><time timestamp='2018-02-06T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
if someone has time to play around with that it&#x27;d be appreciated
<br>
</div>

<div class='talk op-msg' data-timestamp='1517944860' id='598357'>
<a class='timestamp' href='#598357'><time timestamp='2018-02-06T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-14'> arubi</span>&gt;
vagrant requires virtualbox right?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517944860' id='598358'>
<a class='timestamp' href='#598358'><time timestamp='2018-02-06T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
arubi: no
<br>
</div>

<div class='talk op-msg' data-timestamp='1517944860' id='598359'>
<a class='timestamp' href='#598359'><time timestamp='2018-02-06T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
it can take a lot of drivers
<br>
</div>

<div class='talk op-msg' data-timestamp='1517944860' id='598360'>
<a class='timestamp' href='#598360'><time timestamp='2018-02-06T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I thought it was just another user of linux containers, just like lxc and docker
<br>
</div>

<div class='talk op-msg' data-timestamp='1517944860' id='598361'>
<a class='timestamp' href='#598361'><time timestamp='2018-02-06T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-14'> arubi</span>&gt;
oic     
<br>
</div>

<div class='talk op-msg' data-timestamp='1517944860' id='598362'>
<a class='timestamp' href='#598362'><time timestamp='2018-02-06T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-14'> arubi</span>&gt;
I was using qemu for mine
<br>
</div>

<div class='talk op-msg' data-timestamp='1517944860' id='598363'>
<a class='timestamp' href='#598363'><time timestamp='2018-02-06T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
it&#x27;s orchestration layer on top of multiple drivers, lxc, qemu, etc
<br>
</div>

<div class='talk op-msg' data-timestamp='1517944860' id='598364'>
<a class='timestamp' href='#598364'><time timestamp='2018-02-06T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-14'> arubi</span>&gt;
oh cool
<br>
</div>

<div class='talk op-msg' data-timestamp='1517944860' id='598365'>
<a class='timestamp' href='#598365'><time timestamp='2018-02-06T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
quite easy to write extensions
<br>
</div>

<div class='talk op-msg' data-timestamp='1517944920' id='598366'>
<a class='timestamp' href='#598366'><time timestamp='2018-02-06T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
that sounds like another layer of complexity
<br>
</div>

<div class='talk op-msg' data-timestamp='1517944920' id='598367'>
<a class='timestamp' href='#598367'><time timestamp='2018-02-06T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
wumpus: right, that&#x27;s why I don&#x27;t know if people would want vagrant
<br>
</div>

<div class='talk op-msg' data-timestamp='1517944920' id='598368'>
<a class='timestamp' href='#598368'><time timestamp='2018-02-06T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
the problem is that lxc is hard to set up, so switch to something that is another abstraction layer over multiple kinds of virtualization, just like gitian is already trying to be
<br>
</div>

<div class='talk op-msg' data-timestamp='1517944920' id='598369'>
<a class='timestamp' href='#598369'><time timestamp='2018-02-06T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
wumpus: but it&#x27;s quite well-tested and easy to set up
<br>
</div>

<div class='talk op-msg' data-timestamp='1517944980' id='598370'>
<a class='timestamp' href='#598370'><time timestamp='2018-02-06T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
gitian as-is can also be used with qemu, lxc or even virtualbox (though no one is doing the latter anymore since Gavin left, I think)
<br>
</div>

<div class='talk op-msg' data-timestamp='1517944980' id='598371'>
<a class='timestamp' href='#598371'><time timestamp='2018-02-06T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-14'> arubi</span>&gt;
maybe aboriginal linux -&gt; mkroot -&gt; build? :P
<br>
</div>

<div class='talk op-msg' data-timestamp='1517944980' id='598372'>
<a class='timestamp' href='#598372'><time timestamp='2018-02-06T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
wumpus: I think the end goal is for gitian to target vagrant, and for vagrant to handle interacting with the drivers
<br>
</div>

<div class='talk op-msg' data-timestamp='1517944980' id='598373'>
<a class='timestamp' href='#598373'><time timestamp='2018-02-06T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
which would make gitian work much easier
<br>
</div>

<div class='talk op-msg' data-timestamp='1517945040' id='598374'>
<a class='timestamp' href='#598374'><time timestamp='2018-02-06T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
anyways, I&#x27;ll play around with it and see if it actually delivers
<br>
</div>

<div class='talk op-msg' data-timestamp='1517945040' id='598375'>
<a class='timestamp' href='#598375'><time timestamp='2018-02-06T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
(or just makes things more complicated)
<br>
</div>

<div class='talk op-msg' data-timestamp='1517945100' id='598376'>
<a class='timestamp' href='#598376'><time timestamp='2018-02-06T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
right, that could work I guess
<br>
</div>

<div class='talk op-msg' data-timestamp='1517945160' id='598377'>
<a class='timestamp' href='#598377'><time timestamp='2018-02-06T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
quick question: is anyone allowed to submit their gitian sigs or just a limited group of people?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517945220' id='598378'>
<a class='timestamp' href='#598378'><time timestamp='2018-02-06T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
dongcarl: if you plan to regularly dongitian builds foe bitcoin core releases, you&#x27;re very mufh encouraged to upload your key and do so:)
<br>
</div>

<div class='talk op-msg' data-timestamp='1517945220' id='598379'>
<a class='timestamp' href='#598379'><time timestamp='2018-02-06T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that n between do and gitian is a typo, i swear!
<br>
</div>

<div class='talk op-msg' data-timestamp='1517945220' id='598380'>
<a class='timestamp' href='#598380'><time timestamp='2018-02-06T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
sipa: I&#x27;m definitely going to name my PR branch dongitian now ;-)
<br>
</div>

<div class='talk op-msg' data-timestamp='1517945220' id='598381'>
<a class='timestamp' href='#598381'><time timestamp='2018-02-06T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke closed pull request #12349: shutdown: fix crash on shutdown with reindex-chainstate (master...fix-qt-shutdown) <a href="https://github.com/bitcoin/bitcoin/pull/12349" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/12349</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1517945280' id='598382'>
<a class='timestamp' href='#598382'><time timestamp='2018-02-06T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
everyone is allowed to submit gitian sigs, the more the better
<br>
</div>

<div class='talk op-msg' data-timestamp='1517945400' id='598383'>
<a class='timestamp' href='#598383'><time timestamp='2018-02-06T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
&lt;3     
<br>
</div>

<div class='talk op-msg' data-timestamp='1517945520' id='598384'>
<a class='timestamp' href='#598384'><time timestamp='2018-02-06T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
the only requirement is that you get the build working :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1517945580' id='598385'>
<a class='timestamp' href='#598385'><time timestamp='2018-02-06T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
wumpus: did you have any idea why the qt shit isnt calling Shutdown() reliably or should I try to decipher qt
<br>
</div>

<div class='talk op-msg' data-timestamp='1517945580' id='598386'>
<a class='timestamp' href='#598386'><time timestamp='2018-02-06T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
no, I have no idea right now
<br>
</div>

<div class='talk op-msg' data-timestamp='1517945580' id='598387'>
<a class='timestamp' href='#598387'><time timestamp='2018-02-06T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
k     
<br>
</div>

<div class='talk op-msg' data-timestamp='1517945640' id='598388'>
<a class='timestamp' href='#598388'><time timestamp='2018-02-06T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
from what I see it should simply work
<br>
</div>

<div class='talk op-msg' data-timestamp='1517945820' id='598389'>
<a class='timestamp' href='#598389'><time timestamp='2018-02-06T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
BlueMatt: see my last comment on that ticket, I think I&#x27;m in the right ballpark
<br>
</div>

<div class='talk op-msg' data-timestamp='1517945820' id='598390'>
<a class='timestamp' href='#598390'><time timestamp='2018-02-06T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
cfields: wumpus indicated that didnt seem likely
<br>
</div>

<div class='talk op-msg' data-timestamp='1517945820' id='598391'>
<a class='timestamp' href='#598391'><time timestamp='2018-02-06T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
though admittedly, I tried a million theories and probably crossed myself up in the process
<br>
</div>

<div class='talk op-msg' data-timestamp='1517945820' id='598392'>
<a class='timestamp' href='#598392'><time timestamp='2018-02-06T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
oh?     
<br>
</div>

<div class='talk op-msg' data-timestamp='1517945820' id='598393'>
<a class='timestamp' href='#598393'><time timestamp='2018-02-06T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
lol well I currently cant build qt due to the moc bug, so...ugh
<br>
</div>

<div class='talk op-msg' data-timestamp='1517945820' id='598394'>
<a class='timestamp' href='#598394'><time timestamp='2018-02-06T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
wumpus: change looks good. I can&#x27;t reproduce 12362 with your PR
<br>
</div>

<div class='talk op-msg' data-timestamp='1517945820' id='598395'>
<a class='timestamp' href='#598395'><time timestamp='2018-02-06T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
eh? still?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517945820' id='598396'>
<a class='timestamp' href='#598396'><time timestamp='2018-02-06T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
cfields had a different theory there, I haven&#x27;t checked that one
<br>
</div>

<div class='talk op-msg' data-timestamp='1517945880' id='598397'>
<a class='timestamp' href='#598397'><time timestamp='2018-02-06T19:38:00Z'>19:38</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
jnewbery: great!
<br>
</div>

<div class='talk op-msg' data-timestamp='1517945880' id='598398'>
<a class='timestamp' href='#598398'><time timestamp='2018-02-06T19:38:00Z'>19:38</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
cfields: well I never found any resolution to it? moc doesnt build bitcoin-qt right now....no idea why
<br>
</div>

<div class='talk op-msg' data-timestamp='1517945940' id='598399'>
<a class='timestamp' href='#598399'><time timestamp='2018-02-06T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
cfields: just that the one about re-attaching the signal was not correct, because it&#x27;s perfectly valid to attach multiple listeners to a signal (or did I misunderstand what you meant?)
<br>
</div>

<div class='talk op-msg' data-timestamp='1517945940' id='598400'>
<a class='timestamp' href='#598400'><time timestamp='2018-02-06T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
cfields: is it just me or is the issue simply that BitcoinCore::initialize() calls initializeResult(false) if AppInitMain() fails, which calls quit() directly instead of calling shutdown() (which would call Interrupt(), Shutdown(), and then shutdownResult() which calls quit())?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517945940' id='598401'>
<a class='timestamp' href='#598401'><time timestamp='2018-02-06T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
quit() just exits the main loop
<br>
</div>

<div class='talk op-msg' data-timestamp='1517945940' id='598402'>
<a class='timestamp' href='#598402'><time timestamp='2018-02-06T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
yes, but we thus wont call Shutdown(), I think
<br>
</div>

<div class='talk op-msg' data-timestamp='1517945940' id='598403'>
<a class='timestamp' href='#598403'><time timestamp='2018-02-06T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
after that it starts the shutdown sequence in a new main loop
<br>
</div>

<div class='talk op-msg' data-timestamp='1517945940' id='598404'>
<a class='timestamp' href='#598404'><time timestamp='2018-02-06T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
oh     
<br>
</div>

<div class='talk op-msg' data-timestamp='1517946000' id='598405'>
<a class='timestamp' href='#598405'><time timestamp='2018-02-06T19:40:00Z'>19:40</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
after showing the shutdown window
<br>
</div>

<div class='talk op-msg' data-timestamp='1517946000' id='598406'>
<a class='timestamp' href='#598406'><time timestamp='2018-02-06T19:40:00Z'>19:40</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
funny because shutdown() will call Interrupt() and then Shutdown() and then quit()
<br>
</div>

<div class='talk op-msg' data-timestamp='1517946000' id='598407'>
<a class='timestamp' href='#598407'><time timestamp='2018-02-06T19:40:00Z'>19:40</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
that should just work, I tested it a zillion times
<br>
</div>

<div class='talk op-msg' data-timestamp='1517946000' id='598408'>
<a class='timestamp' href='#598408'><time timestamp='2018-02-06T19:40:00Z'>19:40</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes it calls quit again
<br>
</div>

<div class='talk op-msg' data-timestamp='1517946000' id='598409'>
<a class='timestamp' href='#598409'><time timestamp='2018-02-06T19:40:00Z'>19:40</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
to exit the new mainloop (which handles exiting)
<br>
</div>

<div class='talk op-msg' data-timestamp='1517946000' id='598410'>
<a class='timestamp' href='#598410'><time timestamp='2018-02-06T19:40:00Z'>19:40</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
hmm, ok, well I guess I&#x27;m just confused
<br>
</div>

<div class='talk op-msg' data-timestamp='1517946300' id='598411'>
<a class='timestamp' href='#598411'><time timestamp='2018-02-06T19:45:00Z'>19:45</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
FWIW it&#x27;s structured like this because existing the main window will exit the main loop, so we need a new main loop instance to handle the shutdown window while it&#x27;s shutting down (in the background). There&#x27;s certainly different ways to do it, but this used to work at least.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517946360' id='598412'>
<a class='timestamp' href='#598412'><time timestamp='2018-02-06T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
well I&#x27;ll debug moc a bit more and see if I can get that working again
<br>
</div>

<div class='talk op-msg' data-timestamp='1517946420' id='598413'>
<a class='timestamp' href='#598413'><time timestamp='2018-02-06T19:47:00Z'>19:47</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
BlueMatt: the problem as i saw it was that quit() is called <u>_both_</u> by the failed AppInitMain(), as well as when it gets the shutdown signal.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517946480' id='598414'>
<a class='timestamp' href='#598414'><time timestamp='2018-02-06T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
I can only defer to wumpus as to whether that&#x27;s an issue or not.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517946540' id='598415'>
<a class='timestamp' href='#598415'><time timestamp='2018-02-06T19:49:00Z'>19:49</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
but yes, in all of my tests, exit does wait on the shutdown procedure to finish. I can&#x27;t force any other result :\
<br>
</div>

<div class='talk op-msg' data-timestamp='1517946600' id='598416'>
<a class='timestamp' href='#598416'><time timestamp='2018-02-06T19:50:00Z'>19:50</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
cfields: wait, we don&#x27;t stop the shutdown poll timer while shutting down?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517946600' id='598417'>
<a class='timestamp' href='#598417'><time timestamp='2018-02-06T19:50:00Z'>19:50</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
hmm?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517946600' id='598418'>
<a class='timestamp' href='#598418'><time timestamp='2018-02-06T19:50:00Z'>19:50</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
BitcoinGUI::detectShutdown()
<br>
</div>

<div class='talk op-msg' data-timestamp='1517946660' id='598419'>
<a class='timestamp' href='#598419'><time timestamp='2018-02-06T19:51:00Z'>19:51</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
does that run while it&#x27;s in the second main loop (while the shutdown window is visible)?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517946660' id='598420'>
<a class='timestamp' href='#598420'><time timestamp='2018-02-06T19:51:00Z'>19:51</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
if so it will prematurely end that loop becuase, yes, it&#x27;s shut down
<br>
</div>

<div class='talk op-msg' data-timestamp='1517946720' id='598421'>
<a class='timestamp' href='#598421'><time timestamp='2018-02-06T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
wumpus: ugh, no clue. I didn&#x27;t even look at that.
<br>
</div>

<div class='talk op-msg' data-timestamp='1517946720' id='598422'>
<a class='timestamp' href='#598422'><time timestamp='2018-02-06T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
cfields: I thought that&#x27;s what you mean with &#x27;when it gets the shutdown signal&#x27;
<br>
</div>

<div class='talk op-msg' data-timestamp='1517946840' id='598423'>
<a class='timestamp' href='#598423'><time timestamp='2018-02-06T19:54:00Z'>19:54</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
the other one (in shutdownResult) is for <b>*after Shutdown() finished*</b> so that&#x27;s ok
<br>
</div>

<div class='talk op-msg' data-timestamp='1517946840' id='598424'>
<a class='timestamp' href='#598424'><time timestamp='2018-02-06T19:54:00Z'>19:54</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
and the one in initializeResult() is ok too, it means it goes into the shutdown sequence
<br>
</div>

<div class='talk op-msg' data-timestamp='1517946840' id='598425'>
<a class='timestamp' href='#598425'><time timestamp='2018-02-06T19:54:00Z'>19:54</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
but the timer might create such a weird race issue
<br>
</div>

<div class='talk op-msg' data-timestamp='1517946900' id='598426'>
<a class='timestamp' href='#598426'><time timestamp='2018-02-06T19:55:00Z'>19:55</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
ah, pollShutdownTimer is stopped
<br>
</div>

<div class='talk op-msg' data-timestamp='1517946900' id='598427'>
<a class='timestamp' href='#598427'><time timestamp='2018-02-06T19:55:00Z'>19:55</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
in requestShutdown
<br>
</div>

<div class='talk op-msg' data-timestamp='1517946960' id='598428'>
<a class='timestamp' href='#598428'><time timestamp='2018-02-06T19:56:00Z'>19:56</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
no, that should be ok
<br>
</div>

<div class='talk op-msg' data-timestamp='1517947200' id='598429'>
<a class='timestamp' href='#598429'><time timestamp='2018-02-06T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
wumpus: ah, so the timer sees StartShutdown() and fires requestedShutdown(). I see. I thought that was coming from the close button. So shutdown() isn&#x27;t an overridden qt function?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517947200' id='598430'>
<a class='timestamp' href='#598430'><time timestamp='2018-02-06T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
cfields: no :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1517947260' id='598431'>
<a class='timestamp' href='#598431'><time timestamp='2018-02-06T20:01:00Z'>20:01</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
heh ok
<br>
</div>

<div class='talk op-msg' data-timestamp='1517947260' id='598432'>
<a class='timestamp' href='#598432'><time timestamp='2018-02-06T20:01:00Z'>20:01</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
shutdown() is just the background thread function that actually calls Interrupt() and Shutdown()
<br>
</div>

<div class='talk op-msg' data-timestamp='1517947320' id='598433'>
<a class='timestamp' href='#598433'><time timestamp='2018-02-06T20:02:00Z'>20:02</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
this is bound to the signal requestedShutdown(), coming from the GUI thread
<br>
</div>

<div class='talk op-msg' data-timestamp='1517947320' id='598434'>
<a class='timestamp' href='#598434'><time timestamp='2018-02-06T20:02:00Z'>20:02</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
right. I know we call it, but I thought qt emitted it too as some life-cycle callback
<br>
</div>

<div class='talk op-msg' data-timestamp='1517947380' id='598435'>
<a class='timestamp' href='#598435'><time timestamp='2018-02-06T20:03:00Z'>20:03</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
yes, I have a much better idea now, thanks
<br>
</div>

<div class='talk op-msg' data-timestamp='1517948520' id='598436'>
<a class='timestamp' href='#598436'><time timestamp='2018-02-06T20:22:00Z'>20:22</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
If anyone has a working LXC Trusty gitian container, could they show me `ls -la /dev/tty*&#x27;?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517949060' id='598437'>
<a class='timestamp' href='#598437'><time timestamp='2018-02-06T20:31:00Z'>20:31</time></a>
&lt;<span class='nick nick-14'> arubi</span>&gt;
dongcarl, are you running a nested lxc then?  lxc host and gitian builder lxc inside it?  if so fwiw it&#x27;s not so straight forward
<br>
</div>

<div class='talk op-msg' data-timestamp='1517949720' id='598438'>
<a class='timestamp' href='#598438'><time timestamp='2018-02-06T20:42:00Z'>20:42</time></a>
&lt;<span class='nick nick-14'> arubi</span>&gt;
if anybody&#x27;s up for it, please kill the current running #25110 travis job.  it&#x27;s obsolete a waste to keep folks waiting
<br>
</div>

<div class='talk op-msg' data-timestamp='1517949720' id='598439'>
<a class='timestamp' href='#598439'><time timestamp='2018-02-06T20:42:00Z'>20:42</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/25110" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/25110</a> | HTTP Error 404: Not Found
<br>
</div>

<div class='talk op-msg' data-timestamp='1517949780' id='598440'>
<a class='timestamp' href='#598440'><time timestamp='2018-02-06T20:43:00Z'>20:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
do you have URL?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517949780' id='598441'>
<a class='timestamp' href='#598441'><time timestamp='2018-02-06T20:43:00Z'>20:43</time></a>
&lt;<span class='nick nick-14'> arubi</span>&gt;
sipa, <a href="https://travis-ci.org/bitcoin/bitcoin/builds/338165077" class="link" target="_blank">https://travis-ci.org/bitcoin/bitcoin/builds/338165077</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1517950560' id='598442'>
<a class='timestamp' href='#598442'><time timestamp='2018-02-06T20:56:00Z'>20:56</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
arubi: done
<br>
</div>

<div class='talk op-msg' data-timestamp='1517950560' id='598443'>
<a class='timestamp' href='#598443'><time timestamp='2018-02-06T20:56:00Z'>20:56</time></a>
&lt;<span class='nick nick-14'> arubi</span>&gt;
cheers
<br>
</div>

<div class='talk op-msg' data-timestamp='1517952720' id='598444'>
<a class='timestamp' href='#598444'><time timestamp='2018-02-06T21:32:00Z'>21:32</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
MarcoFalke: you can just close #12365 its a launchpad security issue that launchpad appears to give 0 fucks about fixing
<br>
</div>

<div class='talk op-msg' data-timestamp='1517952720' id='598445'>
<a class='timestamp' href='#598445'><time timestamp='2018-02-06T21:32:00Z'>21:32</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/12365" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/12365</a> | Add ppa:bitcoin/bitcoin repository on linux problem · Issue #12365 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1517952720' id='598446'>
<a class='timestamp' href='#598446'><time timestamp='2018-02-06T21:32:00Z'>21:32</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
yay ubuntu dgaf about security, apparently
<br>
</div>

<div class='talk op-msg' data-timestamp='1517952720' id='598447'>
<a class='timestamp' href='#598447'><time timestamp='2018-02-06T21:32:00Z'>21:32</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
well, i guess we knew that
<br>
</div>

<div class='talk op-msg' data-timestamp='1517952780' id='598448'>
<a class='timestamp' href='#598448'><time timestamp='2018-02-06T21:33:00Z'>21:33</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
dgaf?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517952780' id='598449'>
<a class='timestamp' href='#598449'><time timestamp='2018-02-06T21:33:00Z'>21:33</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
dont give a fuck
<br>
</div>

<div class='talk op-msg' data-timestamp='1517952780' id='598450'>
<a class='timestamp' href='#598450'><time timestamp='2018-02-06T21:33:00Z'>21:33</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
(kids these days)
<br>
</div>

<div class='talk op-msg' data-timestamp='1517952900' id='598451'>
<a class='timestamp' href='#598451'><time timestamp='2018-02-06T21:35:00Z'>21:35</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
arubi: no, it&#x27;s just that I&#x27;ve isolated the problem down to the fact that &#x27;sudo lxc-execute -n gitian -f var/lxc.config -- bash&#x27; doesn&#x27;t work
<br>
</div>

<div class='talk op-msg' data-timestamp='1517952900' id='598452'>
<a class='timestamp' href='#598452'><time timestamp='2018-02-06T21:35:00Z'>21:35</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
it says &#x27;bash: cannot set terminal process group (1): Inappropriate ioctl for device&#x27;
<br>
</div>

<div class='talk op-msg' data-timestamp='1517952960' id='598453'>
<a class='timestamp' href='#598453'><time timestamp='2018-02-06T21:36:00Z'>21:36</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
when i do s/bash/sh/
<br>
</div>

<div class='talk op-msg' data-timestamp='1517952960' id='598454'>
<a class='timestamp' href='#598454'><time timestamp='2018-02-06T21:36:00Z'>21:36</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
it says &#x27;sh: 0: can&#x27;t access tty; job control turned off&#x27;
<br>
</div>

<div class='talk op-msg' data-timestamp='1517952960' id='598455'>
<a class='timestamp' href='#598455'><time timestamp='2018-02-06T21:36:00Z'>21:36</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
so something&#x27;s wrong with tty somewhere...
<br>
</div>

<div class='talk op-msg' data-timestamp='1517953020' id='598456'>
<a class='timestamp' href='#598456'><time timestamp='2018-02-06T21:37:00Z'>21:37</time></a>
&lt;<span class='nick nick-14'> arubi</span>&gt;
I see, sorry, I didn&#x27;t get this error here
<br>
</div>

<div class='talk op-msg' data-timestamp='1517953020' id='598457'>
<a class='timestamp' href='#598457'><time timestamp='2018-02-06T21:37:00Z'>21:37</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
I think it&#x27;s to do with me running a newer version of lxc
<br>
</div>

<div class='talk op-msg' data-timestamp='1517953080' id='598458'>
<a class='timestamp' href='#598458'><time timestamp='2018-02-06T21:38:00Z'>21:38</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
it complains about the config file being an old format too and I had to look at what key names changed
<br>
</div>

<div class='talk op-msg' data-timestamp='1517953140' id='598459'>
<a class='timestamp' href='#598459'><time timestamp='2018-02-06T21:39:00Z'>21:39</time></a>
&lt;<span class='nick nick-14'> arubi</span>&gt;
oh man that sounds like a lot of work once non bleeding edge os&#x27;s are updated to newer lxc..
<br>
</div>

<div class='talk op-msg' data-timestamp='1517953140' id='598460'>
<a class='timestamp' href='#598460'><time timestamp='2018-02-06T21:39:00Z'>21:39</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
arubi: yup, which is why I&#x27;m starting now...
<br>
</div>

<div class='talk op-msg' data-timestamp='1517953140' id='598461'>
<a class='timestamp' href='#598461'><time timestamp='2018-02-06T21:39:00Z'>21:39</time></a>
&lt;<span class='nick nick-14'> arubi</span>&gt;
good luck
<br>
</div>

<div class='talk op-msg' data-timestamp='1517953140' id='598462'>
<a class='timestamp' href='#598462'><time timestamp='2018-02-06T21:39:00Z'>21:39</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
&lt;3     
<br>
</div>

<div class='talk op-msg' data-timestamp='1517955180' id='598463'>
<a class='timestamp' href='#598463'><time timestamp='2018-02-06T22:13:00Z'>22:13</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
cfields: were you ever able to materially reproduce #12337?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517955180' id='598464'>
<a class='timestamp' href='#598464'><time timestamp='2018-02-06T22:13:00Z'>22:13</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/12337" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/12337</a> | 0.16 Shutdown assertion · Issue #12337 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1517955180' id='598465'>
<a class='timestamp' href='#598465'><time timestamp='2018-02-06T22:13:00Z'>22:13</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
BlueMatt: no :(
<br>
</div>

<div class='talk op-msg' data-timestamp='1517955240' id='598466'>
<a class='timestamp' href='#598466'><time timestamp='2018-02-06T22:14:00Z'>22:14</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
you &quot;killed&quot; by just closing window?
<br>
</div>

<div class='talk op-msg' data-timestamp='1517955240' id='598467'>
<a class='timestamp' href='#598467'><time timestamp='2018-02-06T22:14:00Z'>22:14</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
BlueMatt: i can confirm that Shutdown() wasn&#x27;t called though
<br>
</div>

<div class='talk op-msg' data-timestamp='1517955240' id='598468'>
<a class='timestamp' href='#598468'><time timestamp='2018-02-06T22:14:00Z'>22:14</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
yep     
<br>
</div>

<div class='talk op-msg' data-timestamp='1517955300' id='598469'>
<a class='timestamp' href='#598469'><time timestamp='2018-02-06T22:15:00Z'>22:15</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
BlueMatt: I tried all kinds of sleeps/early returns to try to hit it again, but no luck
<br>
</div>

<div class='talk op-msg' data-timestamp='1517955420' id='598470'>
<a class='timestamp' href='#598470'><time timestamp='2018-02-06T22:17:00Z'>22:17</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
tail of log:
<br>
</div>

<div class='talk op-msg' data-timestamp='1517955420' id='598471'>
<a class='timestamp' href='#598471'><time timestamp='2018-02-06T22:17:00Z'>22:17</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
2018-02-02 20:39:50 Upgrading utxo-set database...
<br>
</div>

<div class='talk op-msg' data-timestamp='1517955420' id='598472'>
<a class='timestamp' href='#598472'><time timestamp='2018-02-06T22:17:00Z'>22:17</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
2018-02-02 20:39:50 [0%]...[CANCELLED].
<br>
</div>

<div class='talk op-msg' data-timestamp='1517955420' id='598473'>
<a class='timestamp' href='#598473'><time timestamp='2018-02-06T22:17:00Z'>22:17</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
2018-02-02 20:39:50 Shutdown requested. Exiting
<br>
</div>

<div class='talk op-msg' data-timestamp='1517955540' id='598474'>
<a class='timestamp' href='#598474'><time timestamp='2018-02-06T22:19:00Z'>22:19</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] akx20000a opened pull request #12371: Add gitian PGP key: akx20000 (master...gitian-key) <a href="https://github.com/bitcoin/bitcoin/pull/12371" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/12371</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1517955540' id='598475'>
<a class='timestamp' href='#598475'><time timestamp='2018-02-06T22:19:00Z'>22:19</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
hmm, k
<br>
</div>

<div class='talk op-msg' data-timestamp='1517955600' id='598476'>
<a class='timestamp' href='#598476'><time timestamp='2018-02-06T22:20:00Z'>22:20</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
BlueMatt: <a href="https://github.com/bitcoin/bitcoin/pull/12368#issuecomment-363584547" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/12368#issuecomment-363584547</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1517955840' id='598477'>
<a class='timestamp' href='#598477'><time timestamp='2018-02-06T22:24:00Z'>22:24</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
promag: the validationinterface background-thread stuff breaks lock-order =D
<br>
</div>

<div class='talk op-msg' data-timestamp='1517956440' id='598478'>
<a class='timestamp' href='#598478'><time timestamp='2018-02-06T22:34:00Z'>22:34</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
BlueMatt: got it, forgot about that X)
<br>
</div>

<div class='talk op-msg' data-timestamp='1517958420' id='598479'>
<a class='timestamp' href='#598479'><time timestamp='2018-02-06T23:07:00Z'>23:07</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
ugh, alright cfields I give up :/ at least I found #12372 in the process
<br>
</div>

<div class='talk op-msg' data-timestamp='1517958420' id='598480'>
<a class='timestamp' href='#598480'><time timestamp='2018-02-06T23:07:00Z'>23:07</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/12372" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/12372</a> | Qt Splash Screen is deleted (and accesses wallet) after Shutdown() (and wallets are deleted). · Issue #12372 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1517958420' id='598481'>
<a class='timestamp' href='#598481'><time timestamp='2018-02-06T23:07:00Z'>23:07</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
hopefully it doesnt show up again in rc3
<br>
</div>

<div class='talk op-msg' data-timestamp='1517958480' id='598482'>
<a class='timestamp' href='#598482'><time timestamp='2018-02-06T23:08:00Z'>23:08</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
heh     
<br>
</div>

<div class='talk op-msg' data-timestamp='1517958480' id='598483'>
<a class='timestamp' href='#598483'><time timestamp='2018-02-06T23:08:00Z'>23:08</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
BlueMatt: i never saw that one :\
<br>
</div>

<div class='talk op-msg' data-timestamp='1517958540' id='598484'>
<a class='timestamp' href='#598484'><time timestamp='2018-02-06T23:09:00Z'>23:09</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
I have no idea how realistic it is
<br>
</div>

<div class='talk op-msg' data-timestamp='1517958540' id='598485'>
<a class='timestamp' href='#598485'><time timestamp='2018-02-06T23:09:00Z'>23:09</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
I was just putting sleeps in the middle of AppInitMain and closing splashscreen
<br>
</div>

<div class='talk op-msg' data-timestamp='1517958780' id='598486'>
<a class='timestamp' href='#598486'><time timestamp='2018-02-06T23:13:00Z'>23:13</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
BlueMatt: how long are the sleeps? anywhere near reasonable?
<br>
</div>

</div>
</section>

</body>
</html>
