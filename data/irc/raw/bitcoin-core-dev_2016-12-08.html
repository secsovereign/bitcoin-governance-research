<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2016-12-08
 — 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2016-12-08' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:25 UTC</pre>
<pre><a href="/bitcoin-core-dev/2016-11-08">&lt;</a><span class='header'>  December 2016   </span><a href="/bitcoin-core-dev/2017-01-08">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;             <a class="" href="/bitcoin-core-dev/2016-12-01">1</a>  <a class="" href="/bitcoin-core-dev/2016-12-02">2</a>  <a class="" href="/bitcoin-core-dev/2016-12-03">3</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2016-12-04">4</a>  <a class="" href="/bitcoin-core-dev/2016-12-05">5</a>  <a class="" href="/bitcoin-core-dev/2016-12-06">6</a>  <a class="" href="/bitcoin-core-dev/2016-12-07">7</a>  <a class="current" href="/bitcoin-core-dev/2016-12-08">8</a>  <a class="" href="/bitcoin-core-dev/2016-12-09">9</a> <a class="" href="/bitcoin-core-dev/2016-12-10">10</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2016-12-11">11</a> <a class="" href="/bitcoin-core-dev/2016-12-12">12</a> <a class="" href="/bitcoin-core-dev/2016-12-13">13</a> <a class="" href="/bitcoin-core-dev/2016-12-14">14</a> <a class="" href="/bitcoin-core-dev/2016-12-15">15</a> <a class="" href="/bitcoin-core-dev/2016-12-16">16</a> <a class="" href="/bitcoin-core-dev/2016-12-17">17</a>  &#x000A;18 <a class="" href="/bitcoin-core-dev/2016-12-19">19</a> <a class="" href="/bitcoin-core-dev/2016-12-20">20</a> <a class="" href="/bitcoin-core-dev/2016-12-21">21</a> <a class="" href="/bitcoin-core-dev/2016-12-22">22</a> <a class="" href="/bitcoin-core-dev/2016-12-23">23</a> <a class="" href="/bitcoin-core-dev/2016-12-24">24</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2016-12-25">25</a> <a class="" href="/bitcoin-core-dev/2016-12-26">26</a> <a class="" href="/bitcoin-core-dev/2016-12-27">27</a> <a class="" href="/bitcoin-core-dev/2016-12-28">28</a> <a class="" href="/bitcoin-core-dev/2016-12-29">29</a> <a class="" href="/bitcoin-core-dev/2016-12-30">30</a> <a class="" href="/bitcoin-core-dev/2016-12-31">31</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1481160120' id='516709'>
<a class='timestamp' href='#516709'><time timestamp='2016-12-08T01:22:00Z'>01:22</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
morcos: yup, that was my intention
<br>
</div>

<div class='talk op-msg' data-timestamp='1481160120' id='516710'>
<a class='timestamp' href='#516710'><time timestamp='2016-12-08T01:22:00Z'>01:22</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
totally just wanted to highlight that bug
<br>
</div>

<div class='talk op-msg' data-timestamp='1481175540' id='516711'>
<a class='timestamp' href='#516711'><time timestamp='2016-12-08T05:39:00Z'>05:39</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] rebroad opened pull request #9300: Check for oversized getblocktxn message. (master...CheckOversizedGetblocktxns) <a href="https://github.com/bitcoin/bitcoin/pull/9300" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9300</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1481179860' id='516712'>
<a class='timestamp' href='#516712'><time timestamp='2016-12-08T06:51:00Z'>06:51</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 4 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/09c4fd157c5b...ea33f197ef1e" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/09c4fd157c5b...ea33f197ef1e</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1481179860' id='516713'>
<a class='timestamp' href='#516713'><time timestamp='2016-12-08T06:51:00Z'>06:51</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master e2184cc Alex Morcos: Reorder RPC tests for running time
<br>
</div>

<div class='talk op-msg' data-timestamp='1481179860' id='516714'>
<a class='timestamp' href='#516714'><time timestamp='2016-12-08T06:51:00Z'>06:51</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 2a99522 Alex Morcos: remove relaypriority from rpc tests
<br>
</div>

<div class='talk op-msg' data-timestamp='1481179860' id='516715'>
<a class='timestamp' href='#516715'><time timestamp='2016-12-08T06:51:00Z'>06:51</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 30b620c Alex Morcos: remove obsolete run-bitcoind-for-test.sh
<br>
</div>

<div class='talk op-msg' data-timestamp='1481179860' id='516716'>
<a class='timestamp' href='#516716'><time timestamp='2016-12-08T06:51:00Z'>06:51</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj closed pull request #9276: Some minor testing cleanups (master...rpccleanup) <a href="https://github.com/bitcoin/bitcoin/pull/9276" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9276</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1481179860' id='516717'>
<a class='timestamp' href='#516717'><time timestamp='2016-12-08T06:51:00Z'>06:51</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/ea33f197ef1e...d52ce89bd220" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/ea33f197ef1e...d52ce89bd220</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1481179860' id='516718'>
<a class='timestamp' href='#516718'><time timestamp='2016-12-08T06:51:00Z'>06:51</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master b919179 Alex Morcos: remove no longer needed check for premature v2 txs
<br>
</div>

<div class='talk op-msg' data-timestamp='1481179860' id='516719'>
<a class='timestamp' href='#516719'><time timestamp='2016-12-08T06:51:00Z'>06:51</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master d52ce89 Wladimir J. van der Laan: Merge #9299: Remove no longer needed check for premature v2 txs...
<br>
</div>

<div class='talk op-msg' data-timestamp='1481179920' id='516720'>
<a class='timestamp' href='#516720'><time timestamp='2016-12-08T06:52:00Z'>06:52</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj closed pull request #9299: Remove no longer needed check for premature v2 txs (master...morev2txstuff) <a href="https://github.com/bitcoin/bitcoin/pull/9299" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9299</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1481180220' id='516721'>
<a class='timestamp' href='#516721'><time timestamp='2016-12-08T06:57:00Z'>06:57</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
whew, I was going through merge withdraw.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481180940' id='516722'>
<a class='timestamp' href='#516722'><time timestamp='2016-12-08T07:09:00Z'>07:09</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes me too
<br>
</div>

<div class='talk op-msg' data-timestamp='1481181180' id='516723'>
<a class='timestamp' href='#516723'><time timestamp='2016-12-08T07:13:00Z'>07:13</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/d52ce89bd220...2044e37bebc6" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/d52ce89bd220...2044e37bebc6</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1481181180' id='516724'>
<a class='timestamp' href='#516724'><time timestamp='2016-12-08T07:13:00Z'>07:13</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master df17fe0 Luke Dashjr: Bugfix: Qt/RPCConsole: Put column enum in the right places...
<br>
</div>

<div class='talk op-msg' data-timestamp='1481181180' id='516725'>
<a class='timestamp' href='#516725'><time timestamp='2016-12-08T07:13:00Z'>07:13</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 2044e37 Wladimir J. van der Laan: Merge #9266: Bugfix: Qt/RPCConsole: Put column enum in the right places...
<br>
</div>

<div class='talk op-msg' data-timestamp='1481181180' id='516726'>
<a class='timestamp' href='#516726'><time timestamp='2016-12-08T07:13:00Z'>07:13</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj closed pull request #9266: Bugfix: Qt/RPCConsole: Put column enum in the right places (master...bugfix_datarole) <a href="https://github.com/bitcoin/bitcoin/pull/9266" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9266</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1481181240' id='516727'>
<a class='timestamp' href='#516727'><time timestamp='2016-12-08T07:14:00Z'>07:14</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 3 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/2044e37bebc6...9851a8461d52" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/2044e37bebc6...9851a8461d52</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1481181240' id='516728'>
<a class='timestamp' href='#516728'><time timestamp='2016-12-08T07:14:00Z'>07:14</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 297cc20 Wladimir J. van der Laan: qt: layoutAboutToChange signal is called layoutAboutToBeChanged...
<br>
</div>

<div class='talk op-msg' data-timestamp='1481181240' id='516729'>
<a class='timestamp' href='#516729'><time timestamp='2016-12-08T07:14:00Z'>07:14</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master f36349e Wladimir J. van der Laan: qt: Remove on_toggleNetworkActiveButton_clicked from RPCConsole...
<br>
</div>

<div class='talk op-msg' data-timestamp='1481181240' id='516730'>
<a class='timestamp' href='#516730'><time timestamp='2016-12-08T07:14:00Z'>07:14</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 9851a84 Wladimir J. van der Laan: Merge #9255: qt: layoutAboutToChange signal is called layoutAboutToBeChanged...
<br>
</div>

<div class='talk op-msg' data-timestamp='1481181240' id='516731'>
<a class='timestamp' href='#516731'><time timestamp='2016-12-08T07:14:00Z'>07:14</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj closed pull request #9255: qt: layoutAboutToChange signal is called layoutAboutToBeChanged (master...2016_12_qt_signals_warnings) <a href="https://github.com/bitcoin/bitcoin/pull/9255" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9255</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1481182680' id='516732'>
<a class='timestamp' href='#516732'><time timestamp='2016-12-08T07:38:00Z'>07:38</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/9851a8461d52...86017842d6ef" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/9851a8461d52...86017842d6ef</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1481182680' id='516733'>
<a class='timestamp' href='#516733'><time timestamp='2016-12-08T07:38:00Z'>07:38</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 819ca3f Pieter Wuille: Remove mapOrphanTransactionsByPrev from DoS_tests...
<br>
</div>

<div class='talk op-msg' data-timestamp='1481182680' id='516734'>
<a class='timestamp' href='#516734'><time timestamp='2016-12-08T07:38:00Z'>07:38</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 8601784 Wladimir J. van der Laan: Merge #9291: Remove mapOrphanTransactionsByPrev from DoS_tests...
<br>
</div>

<div class='talk op-msg' data-timestamp='1481182680' id='516735'>
<a class='timestamp' href='#516735'><time timestamp='2016-12-08T07:38:00Z'>07:38</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj closed pull request #9291: Remove mapOrphanTransactionsByPrev from DoS_tests (master...reallyoneorphan) <a href="https://github.com/bitcoin/bitcoin/pull/9291" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9291</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1481198880' id='516736'>
<a class='timestamp' href='#516736'><time timestamp='2016-12-08T12:08:00Z'>12:08</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
sipa: seed.bitcoin.sipa.be is not returning any results here
<br>
</div>

<div class='talk op-msg' data-timestamp='1481199120' id='516737'>
<a class='timestamp' href='#516737'><time timestamp='2016-12-08T12:12:00Z'>12:12</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 5 new commits to 0.13: <a href="https://github.com/bitcoin/bitcoin/compare/0a4aa876230c...e591c1049fe5" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/0a4aa876230c...e591c1049fe5</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1481199120' id='516738'>
<a class='timestamp' href='#516738'><time timestamp='2016-12-08T12:12:00Z'>12:12</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/0.13 4c71fc4 Matt Corallo: Remove duplicate nBlocksEstimate cmp (we already checked IsIBD())...
<br>
</div>

<div class='talk op-msg' data-timestamp='1481199120' id='516739'>
<a class='timestamp' href='#516739'><time timestamp='2016-12-08T12:12:00Z'>12:12</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/0.13 ad20cdd Gregory Maxwell: IBD check uses minimumchain work instead of checkpoints....
<br>
</div>

<div class='talk op-msg' data-timestamp='1481199120' id='516740'>
<a class='timestamp' href='#516740'><time timestamp='2016-12-08T12:12:00Z'>12:12</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/0.13 5b93eee Gregory Maxwell: Remove GetTotalBlocksEstimate and checkpoint tests that test nothing....
<br>
</div>

<div class='talk op-msg' data-timestamp='1481202540' id='516741'>
<a class='timestamp' href='#516741'><time timestamp='2016-12-08T13:09:00Z'>13:09</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
wait...wut
<br>
</div>

<div class='talk op-msg' data-timestamp='1481202540' id='516742'>
<a class='timestamp' href='#516742'><time timestamp='2016-12-08T13:09:00Z'>13:09</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
why did that get backported???
<br>
</div>

<div class='talk op-msg' data-timestamp='1481202720' id='516743'>
<a class='timestamp' href='#516743'><time timestamp='2016-12-08T13:12:00Z'>13:12</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
BlueMatt: <a href="https://github.com/bitcoin/bitcoin/pull/9293" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9293</a> also there was some discussino here earlier
<br>
</div>

<div class='talk op-msg' data-timestamp='1481202780' id='516744'>
<a class='timestamp' href='#516744'><time timestamp='2016-12-08T13:13:00Z'>13:13</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
wumpus: I meant specifically my commit there
<br>
</div>

<div class='talk op-msg' data-timestamp='1481202840' id='516745'>
<a class='timestamp' href='#516745'><time timestamp='2016-12-08T13:14:00Z'>13:14</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
maybe was needed to make the commits apply cleanly
<br>
</div>

<div class='talk op-msg' data-timestamp='1481202840' id='516746'>
<a class='timestamp' href='#516746'><time timestamp='2016-12-08T13:14:00Z'>13:14</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
it just surprised me
<br>
</div>

<div class='talk op-msg' data-timestamp='1481202900' id='516747'>
<a class='timestamp' href='#516747'><time timestamp='2016-12-08T13:15:00Z'>13:15</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I wouldn&#x27;t know that, best to ask gmaxwell 
<br>
</div>

<div class='talk op-msg' data-timestamp='1481203020' id='516748'>
<a class='timestamp' href='#516748'><time timestamp='2016-12-08T13:17:00Z'>13:17</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
but I suppose his reason for grabbing just that commit is that it intersected with #9053 in some way
<br>
</div>

<div class='talk op-msg' data-timestamp='1481203020' id='516749'>
<a class='timestamp' href='#516749'><time timestamp='2016-12-08T13:17:00Z'>13:17</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/9053" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/9053</a> | IBD using chainwork instead of height and not using header timestamps by gmaxwell · Pull Request #9053 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1481203200' id='516750'>
<a class='timestamp' href='#516750'><time timestamp='2016-12-08T13:20:00Z'>13:20</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
wumpus: yes, that was my guess
<br>
</div>

<div class='talk op-msg' data-timestamp='1481203200' id='516751'>
<a class='timestamp' href='#516751'><time timestamp='2016-12-08T13:20:00Z'>13:20</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
nbd anyway
<br>
</div>

<div class='talk op-msg' data-timestamp='1481204520' id='516752'>
<a class='timestamp' href='#516752'><time timestamp='2016-12-08T13:42:00Z'>13:42</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
fyi, BlueMatt and I won&#x27;t make it to the meeting today, we&#x27;re on the other side of the world
<br>
</div>

<div class='talk op-msg' data-timestamp='1481204580' id='516753'>
<a class='timestamp' href='#516753'><time timestamp='2016-12-08T13:43:00Z'>13:43</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
also a bit slow to work through pr comments/review. certainly not ignoring though :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1481207460' id='516754'>
<a class='timestamp' href='#516754'><time timestamp='2016-12-08T14:31:00Z'>14:31</time></a>
&lt;<span class='nick nick-6'> btcdrak</span>&gt;
wumpus: #7562 is ready for merge
<br>
</div>

<div class='talk op-msg' data-timestamp='1481207460' id='516755'>
<a class='timestamp' href='#516755'><time timestamp='2016-12-08T14:31:00Z'>14:31</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/7562" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/7562</a> | Bump transaction version default to 2 by btcdrak · Pull Request #7562 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1481208540' id='516756'>
<a class='timestamp' href='#516756'><time timestamp='2016-12-08T14:49:00Z'>14:49</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
btcdrak: i&#x27;m fine with you leaving that commit out, but how coudl that cause those errors?
<br>
</div>

<div class='talk op-msg' data-timestamp='1481208600' id='516757'>
<a class='timestamp' href='#516757'><time timestamp='2016-12-08T14:50:00Z'>14:50</time></a>
&lt;<span class='nick nick-6'> btcdrak</span>&gt;
morcos: It was totally fine locally, Travis threw up and it&#x27;s just not worth my time fighting with it. Will have another go once merged.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481208600' id='516758'>
<a class='timestamp' href='#516758'><time timestamp='2016-12-08T14:50:00Z'>14:50</time></a>
&lt;<span class='nick nick-6'> btcdrak</span>&gt;
even paveljanik was ok with it locally :/
<br>
</div>

<div class='talk op-msg' data-timestamp='1481208600' id='516759'>
<a class='timestamp' href='#516759'><time timestamp='2016-12-08T14:50:00Z'>14:50</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
weird..
<br>
</div>

<div class='talk op-msg' data-timestamp='1481214780' id='516760'>
<a class='timestamp' href='#516760'><time timestamp='2016-12-08T16:33:00Z'>16:33</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
sipa: this is minor, but i&#x27;m curious in loadmempool why you chose to use state.IsValid for reporting # of successes, it&#x27;s certainly possible for the state to be valid but the tx not be accepted
<br>
</div>

<div class='talk op-msg' data-timestamp='1481216460' id='516761'>
<a class='timestamp' href='#516761'><time timestamp='2016-12-08T17:01:00Z'>17:01</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
btcdrak: unfortunately it still fails for me locally...  since i gave you a weasly non-review of that json test data stuff, i&#x27;ll see if i can track down the issue .  especially weird that it passes travis sometimes
<br>
</div>

<div class='talk op-msg' data-timestamp='1481216520' id='516762'>
<a class='timestamp' href='#516762'><time timestamp='2016-12-08T17:02:00Z'>17:02</time></a>
&lt;<span class='nick nick-6'> btcdrak</span>&gt;
Did we update Univalue at all recently?
<br>
</div>

<div class='talk op-msg' data-timestamp='1481216580' id='516763'>
<a class='timestamp' href='#516763'><time timestamp='2016-12-08T17:03:00Z'>17:03</time></a>
&lt;<span class='nick nick-6'> btcdrak</span>&gt;
I fixed a bug in it which will break those json tests when we sync up
<br>
</div>

<div class='talk op-msg' data-timestamp='1481216580' id='516764'>
<a class='timestamp' href='#516764'><time timestamp='2016-12-08T17:03:00Z'>17:03</time></a>
&lt;<span class='nick nick-6'> btcdrak</span>&gt;
<a href="https://github.com/jgarzik/univalue/pull/29" class="link" target="_blank">https://github.com/jgarzik/univalue/pull/29</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1481216640' id='516765'>
<a class='timestamp' href='#516765'><time timestamp='2016-12-08T17:04:00Z'>17:04</time></a>
&lt;<span class='nick nick-8'> MarcoFalke_</span>&gt;
btcdrak: We can do that some time before 0.14, if necessary.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481216640' id='516766'>
<a class='timestamp' href='#516766'><time timestamp='2016-12-08T17:04:00Z'>17:04</time></a>
&lt;<span class='nick nick-8'> MarcoFalke_</span>&gt;
See <a href="https://github.com/bitcoin-core/univalue/pull/4" class="link" target="_blank">https://github.com/bitcoin-core/univalue/pull/4</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1481216700' id='516767'>
<a class='timestamp' href='#516767'><time timestamp='2016-12-08T17:05:00Z'>17:05</time></a>
&lt;<span class='nick nick-8'> MarcoFalke_</span>&gt;
We might want to wait for some of the fixes after testing with the JSONtestSuite
<br>
</div>

<div class='talk op-msg' data-timestamp='1481216760' id='516768'>
<a class='timestamp' href='#516768'><time timestamp='2016-12-08T17:06:00Z'>17:06</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
morcos: re state.IsValid for loadmempool... good point, i just didn&#x27;t realize that
<br>
</div>

<div class='talk op-msg' data-timestamp='1481217300' id='516769'>
<a class='timestamp' href='#516769'><time timestamp='2016-12-08T17:15:00Z'>17:15</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
btcdrak: the reason it sometimes passes travis is somethign later changed in master to cause your PR to break
<br>
</div>

<div class='talk op-msg' data-timestamp='1481217300' id='516770'>
<a class='timestamp' href='#516770'><time timestamp='2016-12-08T17:15:00Z'>17:15</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
the merge that travis ran on for the PR that is up there now is an old merge, i think if you locally checkout a new merge it&#x27;ll probably break for you
<br>
</div>

<div class='talk op-msg' data-timestamp='1481217300' id='516771'>
<a class='timestamp' href='#516771'><time timestamp='2016-12-08T17:15:00Z'>17:15</time></a>
&lt;<span class='nick nick-6'> btcdrak</span>&gt;
morcos: oh, thank you for looking at that. If that can be solved, I&#x27;ll push the rebased version with your other fix in
<br>
</div>

<div class='talk op-msg' data-timestamp='1481217360' id='516772'>
<a class='timestamp' href='#516772'><time timestamp='2016-12-08T17:16:00Z'>17:16</time></a>
&lt;<span class='nick nick-6'> btcdrak</span>&gt;
oh, ofc, I&#x27;m not rebased to master... makes sense now
<br>
</div>

<div class='talk op-msg' data-timestamp='1481217720' id='516773'>
<a class='timestamp' href='#516773'><time timestamp='2016-12-08T17:22:00Z'>17:22</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
yeah but ideally travis would be running on your PR merged with master, its not clear to me how that works exactly or why its not the case here
<br>
</div>

<div class='talk op-msg' data-timestamp='1481217720' id='516774'>
<a class='timestamp' href='#516774'><time timestamp='2016-12-08T17:22:00Z'>17:22</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
i don&#x27;t know the details of when travis decides it needs to rerun the merge
<br>
</div>

<div class='talk op-msg' data-timestamp='1481218200' id='516775'>
<a class='timestamp' href='#516775'><time timestamp='2016-12-08T17:30:00Z'>17:30</time></a>
&lt;<span class='nick nick-6'> btcdrak</span>&gt;
morcos: ok I can replicate it now locally! 
<br>
</div>

<div class='talk op-msg' data-timestamp='1481218200' id='516776'>
<a class='timestamp' href='#516776'><time timestamp='2016-12-08T17:30:00Z'>17:30</time></a>
&lt;<span class='nick nick-6'> btcdrak</span>&gt;
at least with something to replicate I can investigate
<br>
</div>

<div class='talk op-msg' data-timestamp='1481218560' id='516777'>
<a class='timestamp' href='#516777'><time timestamp='2016-12-08T17:36:00Z'>17:36</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
btcdrak: maybe something to do with <a href="https://github.com/bitcoin/bitcoin/pull/9100" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9100</a> ?  
<br>
</div>

<div class='talk op-msg' data-timestamp='1481218740' id='516778'>
<a class='timestamp' href='#516778'><time timestamp='2016-12-08T17:39:00Z'>17:39</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
btcdrak: oh never mind, i should read the errors more closly
<br>
</div>

<div class='talk op-msg' data-timestamp='1481218740' id='516779'>
<a class='timestamp' href='#516779'><time timestamp='2016-12-08T17:39:00Z'>17:39</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
it&#x27;s #8837
<br>
</div>

<div class='talk op-msg' data-timestamp='1481218740' id='516780'>
<a class='timestamp' href='#516780'><time timestamp='2016-12-08T17:39:00Z'>17:39</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/8837" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/8837</a> | allow bitcoin-tx to parse partial transactions by jnewbery · Pull Request #8837 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1481218740' id='516781'>
<a class='timestamp' href='#516781'><time timestamp='2016-12-08T17:39:00Z'>17:39</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
there were two new tests added
<br>
</div>

<div class='talk op-msg' data-timestamp='1481218860' id='516782'>
<a class='timestamp' href='#516782'><time timestamp='2016-12-08T17:41:00Z'>17:41</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
morcos: i think the version travis test is always a merge with master at the time of the last push
<br>
</div>

<div class='talk op-msg' data-timestamp='1481218980' id='516783'>
<a class='timestamp' href='#516783'><time timestamp='2016-12-08T17:43:00Z'>17:43</time></a>
&lt;<span class='nick nick-6'> btcdrak</span>&gt;
what happened to #9023 I thought it produced diffs when I reviewed it, now it doesnt.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481218980' id='516784'>
<a class='timestamp' href='#516784'><time timestamp='2016-12-08T17:43:00Z'>17:43</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/9023" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/9023</a> | Add logging to bitcoin-util-test.py by jnewbery · Pull Request #9023 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1481218980' id='516785'>
<a class='timestamp' href='#516785'><time timestamp='2016-12-08T17:43:00Z'>17:43</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
sipa: so it&#x27;s surprising that bugs like this don&#x27;t happen more often
<br>
</div>

<div class='talk op-msg' data-timestamp='1481219040' id='516786'>
<a class='timestamp' href='#516786'><time timestamp='2016-12-08T17:44:00Z'>17:44</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
the only reason we caught this is btcdrak tried to do a new push...  but if he hadn&#x27;t, there would have been no merge conflict and it wouldn&#x27;t have been caught...  luckily in this case it resulted in a test failing
<br>
</div>

<div class='talk op-msg' data-timestamp='1481219100' id='516787'>
<a class='timestamp' href='#516787'><time timestamp='2016-12-08T17:45:00Z'>17:45</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
btcdrak: it&#x27;s definitely 8837 and its a trivial fix fo ryou
<br>
</div>

<div class='talk op-msg' data-timestamp='1481219820' id='516788'>
<a class='timestamp' href='#516788'><time timestamp='2016-12-08T17:57:00Z'>17:57</time></a>
&lt;<span class='nick nick-8'> MarcoFalke_</span>&gt;
morcos: We have merge conflicts every couple of weeks. I&#x27;d propose to invalidate travis results after 2 or 3 weeks.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481219880' id='516789'>
<a class='timestamp' href='#516789'><time timestamp='2016-12-08T17:58:00Z'>17:58</time></a>
&lt;<span class='nick nick-8'> MarcoFalke_</span>&gt;
* silent merge conflicts
<br>
</div>

<div class='talk op-msg' data-timestamp='1481220060' id='516790'>
<a class='timestamp' href='#516790'><time timestamp='2016-12-08T18:01:00Z'>18:01</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
MarcoFalke_: could there be a pre-merge button which reruns travis when wumpus or whoever thinks the PR is ready for merge?  i guess it would be annoying to revisit it a second time, and scary to auto-merge if it passes
<br>
</div>

<div class='talk op-msg' data-timestamp='1481220120' id='516791'>
<a class='timestamp' href='#516791'><time timestamp='2016-12-08T18:02:00Z'>18:02</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
maybe someone else could be in charge or pressing the pre-merge button on almost ready to be merged PR&#x27;s even if it doesn&#x27;t catch them all, if it catches some and doesn&#x27;t slow down wumpus, it&#x27;ll be good
<br>
</div>

<div class='talk op-msg' data-timestamp='1481220300' id='516792'>
<a class='timestamp' href='#516792'><time timestamp='2016-12-08T18:05:00Z'>18:05</time></a>
&lt;<span class='nick nick-8'> MarcoFalke_</span>&gt;
I was more thinking of something automated. for pull in pulls: rerun if travis_result.age &gt; 14 days;
<br>
</div>

<div class='talk op-msg' data-timestamp='1481220420' id='516793'>
<a class='timestamp' href='#516793'><time timestamp='2016-12-08T18:07:00Z'>18:07</time></a>
&lt;<span class='nick nick-6'> btcdrak</span>&gt;
morcos: great. I&#x27;ll take a look in a bit
<br>
</div>

<div class='talk op-msg' data-timestamp='1481220720' id='516794'>
<a class='timestamp' href='#516794'><time timestamp='2016-12-08T18:12:00Z'>18:12</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
MarcoFalke_: yeah i was just thinking its more useful if its close to actual merge and unnecessary if its not
<br>
</div>

<div class='talk op-msg' data-timestamp='1481220960' id='516795'>
<a class='timestamp' href='#516795'><time timestamp='2016-12-08T18:16:00Z'>18:16</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
it would be helpful if we could figure out the causes of varrious bits of failed dependency tracking, since it also effects users and not just travis.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481220960' id='516796'>
<a class='timestamp' href='#516796'><time timestamp='2016-12-08T18:16:00Z'>18:16</time></a>
&lt;<span class='nick nick-8'> MarcoFalke_</span>&gt;
Would still catch some of the silent merge conflicts. If it is only done pre merge, it would slow down the merge process unnecessarily.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481221020' id='516797'>
<a class='timestamp' href='#516797'><time timestamp='2016-12-08T18:17:00Z'>18:17</time></a>
&lt;<span class='nick nick-8'> MarcoFalke_</span>&gt;
If it passed, it is just wasted time. If it fails, the pull author needs go back anyway.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481221080' id='516798'>
<a class='timestamp' href='#516798'><time timestamp='2016-12-08T18:18:00Z'>18:18</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
BlueMatt: Because the thing actually being backported eliminated the checkpoint estimate of the number of blocks; so it needed that change of yours that eliminated a call to it. Otherwise the change was trivial and wouldn&#x27;t have been backported.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481221440' id='516799'>
<a class='timestamp' href='#516799'><time timestamp='2016-12-08T18:24:00Z'>18:24</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
If we&#x27;re doign a wallet opperation, whats the rule of thumb with whether we open our CWalletDB with fFlushOnClose true or not?
<br>
</div>

<div class='talk op-msg' data-timestamp='1481221620' id='516800'>
<a class='timestamp' href='#516800'><time timestamp='2016-12-08T18:27:00Z'>18:27</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
depends on whether data loss would lead to funds loss IIRC
<br>
</div>

<div class='talk op-msg' data-timestamp='1481221620' id='516801'>
<a class='timestamp' href='#516801'><time timestamp='2016-12-08T18:27:00Z'>18:27</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
For instance in AbandonTransaction I copied MarkConflicted which doesn&#x27;t flush on close &quot;for performance reasons&quot; but in retrospect it seems almost everything else does flush on close and maybe is only because MarkConflicted gets called inside a loop
<br>
</div>

<div class='talk op-msg' data-timestamp='1481221680' id='516802'>
<a class='timestamp' href='#516802'><time timestamp='2016-12-08T18:28:00Z'>18:28</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
in case of doubt, flush on close
<br>
</div>

<div class='talk op-msg' data-timestamp='1481221740' id='516803'>
<a class='timestamp' href='#516803'><time timestamp='2016-12-08T18:29:00Z'>18:29</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
so perhaps in the markconflicted case we should do a specific flush after all the conflicting has been done?  (seems more important than abandon anyway)
<br>
</div>

<div class='talk op-msg' data-timestamp='1481221860' id='516804'>
<a class='timestamp' href='#516804'><time timestamp='2016-12-08T18:31:00Z'>18:31</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
but is it critical? e.g., not just something that could be repeated after starting the client?
<br>
</div>

<div class='talk op-msg' data-timestamp='1481222040' id='516805'>
<a class='timestamp' href='#516805'><time timestamp='2016-12-08T18:34:00Z'>18:34</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
though I don&#x27;t think it hurts to do an explicit flush afterwards 
<br>
</div>

<div class='talk op-msg' data-timestamp='1481222100' id='516806'>
<a class='timestamp' href='#516806'><time timestamp='2016-12-08T18:35:00Z'>18:35</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
wumpus: i don&#x27;t know i&#x27;m out of my depth...  
<br>
</div>

<div class='talk op-msg' data-timestamp='1481222100' id='516807'>
<a class='timestamp' href='#516807'><time timestamp='2016-12-08T18:35:00Z'>18:35</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
although the wallet is being flushed+consolidated all the time, periodically, by the wallet flush thread if an update has been done - the point of flushonclose is just to do a flush immediately, for critical things
<br>
</div>

<div class='talk op-msg' data-timestamp='1481222100' id='516808'>
<a class='timestamp' href='#516808'><time timestamp='2016-12-08T18:35:00Z'>18:35</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
i&#x27;m not sure what how wallet state and chainstate are kept in sync
<br>
</div>

<div class='talk op-msg' data-timestamp='1481222160' id='516809'>
<a class='timestamp' href='#516809'><time timestamp='2016-12-08T18:36:00Z'>18:36</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
the wallet stores the last position that it is synced to, it will rescan from there on on client start
<br>
</div>

<div class='talk op-msg' data-timestamp='1481222280' id='516810'>
<a class='timestamp' href='#516810'><time timestamp='2016-12-08T18:38:00Z'>18:38</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
yeah ok, thats what i was just seeing, so yeah maybe you&#x27;re right... it not an issue.. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1481223600' id='516811'>
<a class='timestamp' href='#516811'><time timestamp='2016-12-08T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
meeting time?
<br>
</div>

<div class='talk op-msg' data-timestamp='1481223600' id='516812'>
<a class='timestamp' href='#516812'><time timestamp='2016-12-08T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
yes     
<br>
</div>

<div class='talk op-msg' data-timestamp='1481223600' id='516813'>
<a class='timestamp' href='#516813'><time timestamp='2016-12-08T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
#startmeeting
<br>
</div>

<div class='talk op-msg' data-timestamp='1481223600' id='516814'>
<a class='timestamp' href='#516814'><time timestamp='2016-12-08T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Meeting started Thu Dec  8 19:00:40 2016 UTC.  The chair is wumpus. Information about MeetBot at <a href="http://wiki.debian.org/MeetBot" class="link" target="_blank">http://wiki.debian.org/MeetBot</a>.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481223600' id='516815'>
<a class='timestamp' href='#516815'><time timestamp='2016-12-08T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Useful Commands: #action #agreed #help #info #idea #link #topic.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481223660' id='516816'>
<a class='timestamp' href='#516816'><time timestamp='2016-12-08T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
proposed topics?
<br>
</div>

<div class='talk op-msg' data-timestamp='1481223720' id='516817'>
<a class='timestamp' href='#516817'><time timestamp='2016-12-08T19:02:00Z'>19:02</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
#bitcoin-core-dev Meeting: wumpus sipa gmaxwell jonasschnelli morcos luke-jr btcdrak sdaftuar jtimon cfields petertodd kanzure bluematt instagibbs phantomcircuit codeshark michagogo marcofalke paveljanik NicolasDorier
<br>
</div>

<div class='talk op-msg' data-timestamp='1481223720' id='516818'>
<a class='timestamp' href='#516818'><time timestamp='2016-12-08T19:02:00Z'>19:02</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
here
<br>
</div>

<div class='talk op-msg' data-timestamp='1481223720' id='516819'>
<a class='timestamp' href='#516819'><time timestamp='2016-12-08T19:02:00Z'>19:02</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
hi     
<br>
</div>

<div class='talk op-msg' data-timestamp='1481223720' id='516820'>
<a class='timestamp' href='#516820'><time timestamp='2016-12-08T19:02:00Z'>19:02</time></a>
&lt;<span class='nick nick-6'> btcdrak</span>&gt;
sort of here
<br>
</div>

<div class='talk op-msg' data-timestamp='1481223720' id='516821'>
<a class='timestamp' href='#516821'><time timestamp='2016-12-08T19:02:00Z'>19:02</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
hello
<br>
</div>

<div class='talk op-msg' data-timestamp='1481223780' id='516822'>
<a class='timestamp' href='#516822'><time timestamp='2016-12-08T19:03:00Z'>19:03</time></a>
&lt;<span class='nick nick-4'> kanzure</span>&gt;
hi.     
<br>
</div>

<div class='talk op-msg' data-timestamp='1481223780' id='516823'>
<a class='timestamp' href='#516823'><time timestamp='2016-12-08T19:03:00Z'>19:03</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I&#x27;d like to briefly talk about #9290
<br>
</div>

<div class='talk op-msg' data-timestamp='1481223780' id='516824'>
<a class='timestamp' href='#516824'><time timestamp='2016-12-08T19:03:00Z'>19:03</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/9290" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/9290</a> | Make RelayWalletTransaction attempt to AcceptToMemoryPool. by gmaxwell · Pull Request #9290 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1481223780' id='516825'>
<a class='timestamp' href='#516825'><time timestamp='2016-12-08T19:03:00Z'>19:03</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
i&#x27;d like to discuss increasing mempool tx expiry time but nto sure if thats a meeting topic
<br>
</div>

<div class='talk op-msg' data-timestamp='1481223840' id='516826'>
<a class='timestamp' href='#516826'><time timestamp='2016-12-08T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
#topic #9290 Make RelayWalletTransaction attempt to AcceptToMemoryPool
<br>
</div>

<div class='talk op-msg' data-timestamp='1481223840' id='516827'>
<a class='timestamp' href='#516827'><time timestamp='2016-12-08T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/9290" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/9290</a> | Make RelayWalletTransaction attempt to AcceptToMemoryPool. by gmaxwell · Pull Request #9290 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1481223900' id='516828'>
<a class='timestamp' href='#516828'><time timestamp='2016-12-08T19:05:00Z'>19:05</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
There was previously a concern expressed (sorry, I forget who); that trying to reaccept to mempool all unconfirmed txn might be a cpu load for some wallet gunked up with unconfirmed transactions.  I made this PR anyways, noting that it doesn&#x27;t apply to abandoned or known conflicted txn, and I don&#x27;t believe gunked up wallets exist at any real rate-- if they do, then that is its own problem.. and 
<br>
</div>

<div class='talk op-msg' data-timestamp='1481223900' id='516829'>
<a class='timestamp' href='#516829'><time timestamp='2016-12-08T19:05:00Z'>19:05</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
they could avoid a performance issue by abandoning.  I hope this is convincing but I haven&#x27;t had feedback on that point.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481223960' id='516830'>
<a class='timestamp' href='#516830'><time timestamp='2016-12-08T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Beyond that question, this is a really obvious bugfix for a somewhat embarassing misbehavior.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481223960' id='516831'>
<a class='timestamp' href='#516831'><time timestamp='2016-12-08T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
well at least it&#x27;s now possible to get rid of unconfirmed transactions by abandoning them
<br>
</div>

<div class='talk op-msg' data-timestamp='1481223960' id='516832'>
<a class='timestamp' href='#516832'><time timestamp='2016-12-08T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
gmaxwell: that was (at least) me, but i made my mark on your PR..  suhas beat me down into being unable to succesfully argue my position
<br>
</div>

<div class='talk op-msg' data-timestamp='1481223960' id='516833'>
<a class='timestamp' href='#516833'><time timestamp='2016-12-08T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
there should be no need to have excessive numbers of unconfirmed transactinons
<br>
</div>

<div class='talk op-msg' data-timestamp='1481224020' id='516834'>
<a class='timestamp' href='#516834'><time timestamp='2016-12-08T19:07:00Z'>19:07</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
gmaxwell: i agree with the PR and the backport, fwiw
<br>
</div>

<div class='talk op-msg' data-timestamp='1481224020' id='516835'>
<a class='timestamp' href='#516835'><time timestamp='2016-12-08T19:07:00Z'>19:07</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
morcos: hah. I missed the was here. okay thats precisely what I was looking for.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481224020' id='516836'>
<a class='timestamp' href='#516836'><time timestamp='2016-12-08T19:07:00Z'>19:07</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
but as for backporting... 
<br>
</div>

<div class='talk op-msg' data-timestamp='1481224020' id='516837'>
<a class='timestamp' href='#516837'><time timestamp='2016-12-08T19:07:00Z'>19:07</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
maybe ok for that one... but i&#x27;m not so sure about #9262
<br>
</div>

<div class='talk op-msg' data-timestamp='1481224020' id='516838'>
<a class='timestamp' href='#516838'><time timestamp='2016-12-08T19:07:00Z'>19:07</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I just felt a little uncomfortable doing something I knew someone had expressed concern with; without making sure that we heard if concerns remained.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481224080' id='516839'>
<a class='timestamp' href='#516839'><time timestamp='2016-12-08T19:08:00Z'>19:08</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/9262" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/9262</a> | Prefer coins that have fewer ancestors, sanity check txn before ATMP by instagibbs · Pull Request #9262 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1481224080' id='516840'>
<a class='timestamp' href='#516840'><time timestamp='2016-12-08T19:08:00Z'>19:08</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
i feel like although these are definitely fixing poor behavior... they&#x27;re also fairly large changes in behavior and it worries me that in a backport, they wont&#x27; get enough testing to be sure they don&#x27;t raise new issues
<br>
</div>

<div class='talk op-msg' data-timestamp='1481224080' id='516841'>
<a class='timestamp' href='#516841'><time timestamp='2016-12-08T19:08:00Z'>19:08</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
personally i think we backport too much
<br>
</div>

<div class='talk op-msg' data-timestamp='1481224080' id='516842'>
<a class='timestamp' href='#516842'><time timestamp='2016-12-08T19:08:00Z'>19:08</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Well I think we must backport at least one of 9262 or 9290.  If you backport 9290 I think there is less need to backport 9262 and if we only do one I&#x27;d prefer it be 9290.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481224080' id='516843'>
<a class='timestamp' href='#516843'><time timestamp='2016-12-08T19:08:00Z'>19:08</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
backports should be for either critical or simple bugs
<br>
</div>

<div class='talk op-msg' data-timestamp='1481224140' id='516844'>
<a class='timestamp' href='#516844'><time timestamp='2016-12-08T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
gmaxwell: why? that behavior has been like that for several major versions no?
<br>
</div>

<div class='talk op-msg' data-timestamp='1481224140' id='516845'>
<a class='timestamp' href='#516845'><time timestamp='2016-12-08T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
do we think it is more of an issue now b/c of occasional mempool backlogs?
<br>
</div>

<div class='talk op-msg' data-timestamp='1481224140' id='516846'>
<a class='timestamp' href='#516846'><time timestamp='2016-12-08T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
The issue that these are collectively fixing are stuck coins in wallets which combined with user error can lead to funds loss.  We are currently having resports from multiple users encountering it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481224140' id='516847'>
<a class='timestamp' href='#516847'><time timestamp='2016-12-08T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
morcos: ding ding.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481224140' id='516848'>
<a class='timestamp' href='#516848'><time timestamp='2016-12-08T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
backporting all bugfixes is fine if we do RCs IMO; critical/simple criteria mainly makes sense for security stuff
<br>
</div>

<div class='talk op-msg' data-timestamp='1481224140' id='516849'>
<a class='timestamp' href='#516849'><time timestamp='2016-12-08T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
i think 9290 is simple, and implements the behavior we all thought was already happening
<br>
</div>

<div class='talk op-msg' data-timestamp='1481224200' id='516850'>
<a class='timestamp' href='#516850'><time timestamp='2016-12-08T19:10:00Z'>19:10</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
luke-jr: thats going offtopic but I don&#x27;t fully agree.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481224200' id='516851'>
<a class='timestamp' href='#516851'><time timestamp='2016-12-08T19:10:00Z'>19:10</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
yes, 9290 is pretty simple
<br>
</div>

<div class='talk op-msg' data-timestamp='1481224200' id='516852'>
<a class='timestamp' href='#516852'><time timestamp='2016-12-08T19:10:00Z'>19:10</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
for 9262 if 9290 is in place there is an argument that the default behavior should change (don&#x27;t refuse to create the failing txn.)
<br>
</div>

<div class='talk op-msg' data-timestamp='1481224200' id='516853'>
<a class='timestamp' href='#516853'><time timestamp='2016-12-08T19:10:00Z'>19:10</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
which is another question.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481224200' id='516854'>
<a class='timestamp' href='#516854'><time timestamp='2016-12-08T19:10:00Z'>19:10</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
i&#x27;d feel a bit easier about that one i guess...  , and although i have no idea what might go wrong with 9262, you never know
<br>
</div>

<div class='talk op-msg' data-timestamp='1481224260' id='516855'>
<a class='timestamp' href='#516855'><time timestamp='2016-12-08T19:11:00Z'>19:11</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
do we have a patch that deal with ATMP failing in createtransactionm
<br>
</div>

<div class='talk op-msg' data-timestamp='1481224260' id='516856'>
<a class='timestamp' href='#516856'><time timestamp='2016-12-08T19:11:00Z'>19:11</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
?     
<br>
</div>

<div class='talk op-msg' data-timestamp='1481224260' id='516857'>
<a class='timestamp' href='#516857'><time timestamp='2016-12-08T19:11:00Z'>19:11</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
well as is 9262 adds another reason for a send rpc to fail, which is user visible.  With 9290 there is a lot less reason for that. I felt that that behavior change was not very sutiable for backport which is why I created 9290.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481224260' id='516858'>
<a class='timestamp' href='#516858'><time timestamp='2016-12-08T19:11:00Z'>19:11</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
yes, if we can briefly dive into that other question...  one argument for refusing to create a failing tx is that if you try again you might succeed...  
<br>
</div>

<div class='talk op-msg' data-timestamp='1481224260' id='516859'>
<a class='timestamp' href='#516859'><time timestamp='2016-12-08T19:11:00Z'>19:11</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that would be much less invasive to backport
<br>
</div>

<div class='talk op-msg' data-timestamp='1481224260' id='516860'>
<a class='timestamp' href='#516860'><time timestamp='2016-12-08T19:11:00Z'>19:11</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
but not sure how deterministic the coin selection is
<br>
</div>

<div class='talk op-msg' data-timestamp='1481224320' id='516861'>
<a class='timestamp' href='#516861'><time timestamp='2016-12-08T19:12:00Z'>19:12</time></a>
&lt;<span class='nick nick-10'> michagogo</span>&gt;
o/     
<br>
</div>

<div class='talk op-msg' data-timestamp='1481224320' id='516862'>
<a class='timestamp' href='#516862'><time timestamp='2016-12-08T19:12:00Z'>19:12</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
morcos: since unconfirmed coins are a last resort already your odds are not good. with the rest of 9262 in place... your odds are probably nearly zero.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481224320' id='516863'>
<a class='timestamp' href='#516863'><time timestamp='2016-12-08T19:12:00Z'>19:12</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
sipa: 9262 makes it much less likely that you will get to ATMP fail at least for the reason of chains.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481224320' id='516864'>
<a class='timestamp' href='#516864'><time timestamp='2016-12-08T19:12:00Z'>19:12</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
morcos: i know, but it is not fully generic
<br>
</div>

<div class='talk op-msg' data-timestamp='1481224380' id='516865'>
<a class='timestamp' href='#516865'><time timestamp='2016-12-08T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
gmaxwell: i disagree i think... since it all depends on how many coins you end up using as inputs, which is not a factor in our logic now
<br>
</div>

<div class='talk op-msg' data-timestamp='1481224380' id='516866'>
<a class='timestamp' href='#516866'><time timestamp='2016-12-08T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
fully generic would be something like justCheck ATMP
<br>
</div>

<div class='talk op-msg' data-timestamp='1481224380' id='516867'>
<a class='timestamp' href='#516867'><time timestamp='2016-12-08T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
morcos: i would be much more confortable with something that deals correctly with an occasional failurr, rather than trying our best to avoid failures
<br>
</div>

<div class='talk op-msg' data-timestamp='1481224380' id='516868'>
<a class='timestamp' href='#516868'><time timestamp='2016-12-08T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
The mempool chain limit change is transitory, which is why I believe avoid + rebroadcast is the right solution.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481224380' id='516869'>
<a class='timestamp' href='#516869'><time timestamp='2016-12-08T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
sipa: but as gmaxwell would probably argue, depending ont he reason for your failure you might want to do different things, so its maybe not a simple patch
<br>
</div>

<div class='talk op-msg' data-timestamp='1481224440' id='516870'>
<a class='timestamp' href='#516870'><time timestamp='2016-12-08T19:14:00Z'>19:14</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
morcos: well we can still use whatever logic to avoid the failure
<br>
</div>

<div class='talk op-msg' data-timestamp='1481224440' id='516871'>
<a class='timestamp' href='#516871'><time timestamp='2016-12-08T19:14:00Z'>19:14</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but knowing that we don&#x27;t get into hard-to-recover states would give more peace of mind
<br>
</div>

<div class='talk op-msg' data-timestamp='1481224440' id='516872'>
<a class='timestamp' href='#516872'><time timestamp='2016-12-08T19:14:00Z'>19:14</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
morcos: for 9262 I say very low because if it was possible to avoid the failure it likely would have due to the prior selectcoins runs.  the only time where a retry would work is where it couldn&#x27;t be done with low count coins, could be done with midcount coins and the retry gets lucky.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481224500' id='516873'>
<a class='timestamp' href='#516873'><time timestamp='2016-12-08T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sipa: transitory failure is not a hard to recover state.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481224500' id='516874'>
<a class='timestamp' href='#516874'><time timestamp='2016-12-08T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
at least not any worse than &quot;I paid too little fee&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1481224500' id='516875'>
<a class='timestamp' href='#516875'><time timestamp='2016-12-08T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
gmaxwell: no i don&#x27;t think so..  some of your low count coins may have ancestors with other descendants.. you may choose a lot of low value low count coins, vs just 1 high value one.. etc..
<br>
</div>

<div class='talk op-msg' data-timestamp='1481224500' id='516876'>
<a class='timestamp' href='#516876'><time timestamp='2016-12-08T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I believe (someone can correct) that there is now no way to get a failure there except a transitory one. But belt and suspenders could be fine.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481224560' id='516877'>
<a class='timestamp' href='#516877'><time timestamp='2016-12-08T19:16:00Z'>19:16</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: well at least you&#x27;d know your transaction was not broadcast immediately
<br>
</div>

<div class='talk op-msg' data-timestamp='1481224560' id='516878'>
<a class='timestamp' href='#516878'><time timestamp='2016-12-08T19:16:00Z'>19:16</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: and i&#x27;m talking more generically than chain depth limits
<br>
</div>

<div class='talk op-msg' data-timestamp='1481224560' id='516879'>
<a class='timestamp' href='#516879'><time timestamp='2016-12-08T19:16:00Z'>19:16</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
gmaxwell: definitely can get non-transitory failures... i have some wallet that everytime i start the node tries to broadcast a too high fee tx
<br>
</div>

<div class='talk op-msg' data-timestamp='1481224560' id='516880'>
<a class='timestamp' href='#516880'><time timestamp='2016-12-08T19:16:00Z'>19:16</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sipa: you never really know that, since we have no monitoring to tell if the broadcasts were successful.  I think we should seperately track successful broadcasts in the wallet. some lite wallets do this.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481224560' id='516881'>
<a class='timestamp' href='#516881'><time timestamp='2016-12-08T19:16:00Z'>19:16</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: ATMP is complicated
<br>
</div>

<div class='talk op-msg' data-timestamp='1481224620' id='516882'>
<a class='timestamp' href='#516882'><time timestamp='2016-12-08T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
if it wasn&#x27;t ATMP, then it wasn&#x27;t broadcast
<br>
</div>

<div class='talk op-msg' data-timestamp='1481224620' id='516883'>
<a class='timestamp' href='#516883'><time timestamp='2016-12-08T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
morcos: yes but it can be ATMP and never broadcast.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481224620' id='516884'>
<a class='timestamp' href='#516884'><time timestamp='2016-12-08T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: i mean: since we <b>*can*</b> recover from failure to ATMP, we should
<br>
</div>

<div class='talk op-msg' data-timestamp='1481224620' id='516885'>
<a class='timestamp' href='#516885'><time timestamp='2016-12-08T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
perhaps a simple backport would be to return the txid of the failed to ATMP transaction back to the RPC caller, once it&#x27;s been added to the wallet?
<br>
</div>

<div class='talk op-msg' data-timestamp='1481224620' id='516886'>
<a class='timestamp' href='#516886'><time timestamp='2016-12-08T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-8'> MarcoFalke_</span>&gt;
I am not against backporting 9290, but if we do, I&#x27;d prefer a small section in the release notes. Previously one could just resend the tx and figure out the problem later. Now, it might cause you to fund the same recipient twice.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481224620' id='516887'>
<a class='timestamp' href='#516887'><time timestamp='2016-12-08T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sipa: &quot;recover&quot;, I don&#x27;t think I agree.  Backing out a send and returning an error is not recovery.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481224620' id='516888'>
<a class='timestamp' href='#516888'><time timestamp='2016-12-08T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
that seems strictly better than prior behavior
<br>
</div>

<div class='talk op-msg' data-timestamp='1481224680' id='516889'>
<a class='timestamp' href='#516889'><time timestamp='2016-12-08T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
and after 9290, semi-reasonable
<br>
</div>

<div class='talk op-msg' data-timestamp='1481224680' id='516890'>
<a class='timestamp' href='#516890'><time timestamp='2016-12-08T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
It just pushes error handling downstream to a caller that likely has none.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481224680' id='516891'>
<a class='timestamp' href='#516891'><time timestamp='2016-12-08T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
are we sure that every ATMP failure is temporary?
<br>
</div>

<div class='talk op-msg' data-timestamp='1481224680' id='516892'>
<a class='timestamp' href='#516892'><time timestamp='2016-12-08T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
to bring it back to what we should backport.. i&#x27;d say at most 9290 ..   and lets concentrate on the more robust fix for 0.14
<br>
</div>

<div class='talk op-msg' data-timestamp='1481224680' id='516893'>
<a class='timestamp' href='#516893'><time timestamp='2016-12-08T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
MarcoFalke_: I am confused as to what you believe the effect of 9290 is.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481224680' id='516894'>
<a class='timestamp' href='#516894'><time timestamp='2016-12-08T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
sipa, I have some memory of absurd fee issue, but not on hand
<br>
</div>

<div class='talk op-msg' data-timestamp='1481224740' id='516895'>
<a class='timestamp' href='#516895'><time timestamp='2016-12-08T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sipa: I believed that was the case, though morcos just pointed out something about a too-high-fee txn.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481224740' id='516896'>
<a class='timestamp' href='#516896'><time timestamp='2016-12-08T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I would agree that returning an error on non-temporary failures would be good.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481224740' id='516897'>
<a class='timestamp' href='#516897'><time timestamp='2016-12-08T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
the high fee code did change, so not sure if that got fixed
<br>
</div>

<div class='talk op-msg' data-timestamp='1481224740' id='516898'>
<a class='timestamp' href='#516898'><time timestamp='2016-12-08T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
morcos: i disagree with just doing 9290.  the rpc situation is a disaster when you get an RPC failure for a created tx
<br>
</div>

<div class='talk op-msg' data-timestamp='1481224740' id='516899'>
<a class='timestamp' href='#516899'><time timestamp='2016-12-08T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: sendtoaddress can already fail in various ways before even attempting ATMP (for example, tx too large, insufficient funds, ..) that the caller needs to deal with
<br>
</div>

<div class='talk op-msg' data-timestamp='1481224800' id='516900'>
<a class='timestamp' href='#516900'><time timestamp='2016-12-08T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
sdaftuar: its been like that forever though!   i agree we should fix it, but we shouldn&#x27;t be just now designing a fix to push out in a backport
<br>
</div>

<div class='talk op-msg' data-timestamp='1481224800' id='516901'>
<a class='timestamp' href='#516901'><time timestamp='2016-12-08T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
it will not get sufficient testing
<br>
</div>

<div class='talk op-msg' data-timestamp='1481224800' id='516902'>
<a class='timestamp' href='#516902'><time timestamp='2016-12-08T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
morcos: it hasn&#x27;t been like that forever because the failures are modulated by network conditions.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481224800' id='516903'>
<a class='timestamp' href='#516903'><time timestamp='2016-12-08T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-8'> MarcoFalke_</span>&gt;
gmaxwell: 9290 will put tx in your mempool that previously failed to be accepted while running. We did never do that. (only after restart)
<br>
</div>

<div class='talk op-msg' data-timestamp='1481224860' id='516904'>
<a class='timestamp' href='#516904'><time timestamp='2016-12-08T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
some people that never built unconfirmed chains are building them now.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481224860' id='516905'>
<a class='timestamp' href='#516905'><time timestamp='2016-12-08T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
i guess i just think we are close enough to 0.14, that we should concetnrate on a good and well tested fix for that
<br>
</div>

<div class='talk op-msg' data-timestamp='1481224920' id='516906'>
<a class='timestamp' href='#516906'><time timestamp='2016-12-08T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
MarcoFalke_: We did it at every restart. So you couldn&#x27;t have counted on the behavior. And you also would have had no way of knowing that it failed on the very first try.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481224920' id='516907'>
<a class='timestamp' href='#516907'><time timestamp='2016-12-08T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
i&#x27;m always worried about unintended consequences of these things
<br>
</div>

<div class='talk op-msg' data-timestamp='1481224920' id='516908'>
<a class='timestamp' href='#516908'><time timestamp='2016-12-08T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
morcos: what is your objection to my proposal above, of returning the txid of the failed-to-accept-tomempool transaction, that is now in your wallet?
<br>
</div>

<div class='talk op-msg' data-timestamp='1481224920' id='516909'>
<a class='timestamp' href='#516909'><time timestamp='2016-12-08T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
i think that should be a simple change, and just tells the users what is going on
<br>
</div>

<div class='talk op-msg' data-timestamp='1481224920' id='516910'>
<a class='timestamp' href='#516910'><time timestamp='2016-12-08T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I tend to agree with morcos - better to focus on a good solution for 0.14, then try to rush something for 0.13.2 last minute
<br>
</div>

<div class='talk op-msg' data-timestamp='1481224980' id='516911'>
<a class='timestamp' href='#516911'><time timestamp='2016-12-08T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
well I don&#x27;t feel this is rushed. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1481224980' id='516912'>
<a class='timestamp' href='#516912'><time timestamp='2016-12-08T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sdaftuar: if we expect every such failure to be temporary, and start retrying automatically, i agree
<br>
</div>

<div class='talk op-msg' data-timestamp='1481224980' id='516913'>
<a class='timestamp' href='#516913'><time timestamp='2016-12-08T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
sdaftuar: maybe nothing, but what do users do with it?  abandon?  (what if they&#x27;ve waited 20 mins and 9290 rebroadcasted it)  i don&#x27; tknow it just seems ..  like a band-aid
<br>
</div>

<div class='talk op-msg' data-timestamp='1481224980' id='516914'>
<a class='timestamp' href='#516914'><time timestamp='2016-12-08T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
fwiw, in all my stuff I&#x27;ve separated the equivalent of &quot;sendtoaddress&quot; into at least two separate calls
<br>
</div>

<div class='talk op-msg' data-timestamp='1481224980' id='516915'>
<a class='timestamp' href='#516915'><time timestamp='2016-12-08T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it&#x27;s not even merged to master yet, and we&#x27;re not sure of the consequences
<br>
</div>

<div class='talk op-msg' data-timestamp='1481224980' id='516916'>
<a class='timestamp' href='#516916'><time timestamp='2016-12-08T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
so yes it feels rushed
<br>
</div>

<div class='talk op-msg' data-timestamp='1481224980' id='516917'>
<a class='timestamp' href='#516917'><time timestamp='2016-12-08T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
CodeShark: yes, so do we in the raw tx api
<br>
</div>

<div class='talk op-msg' data-timestamp='1481224980' id='516918'>
<a class='timestamp' href='#516918'><time timestamp='2016-12-08T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
morcos: right now though users are confused and think their money is gone -- at least this way they can see where it is
<br>
</div>

<div class='talk op-msg' data-timestamp='1481225040' id='516919'>
<a class='timestamp' href='#516919'><time timestamp='2016-12-08T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
sdaftuar: were you proposing that it looks different than if it did get accepted, or you can&#x27;t tell from the rpc return value
<br>
</div>

<div class='talk op-msg' data-timestamp='1481225040' id='516920'>
<a class='timestamp' href='#516920'><time timestamp='2016-12-08T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-8'> MarcoFalke_</span>&gt;
gmaxwell: The rpc returns an error if it failed on the very first try, no?
<br>
</div>

<div class='talk op-msg' data-timestamp='1481225040' id='516921'>
<a class='timestamp' href='#516921'><time timestamp='2016-12-08T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i did not know we did not report a txid if ATMP fails
<br>
</div>

<div class='talk op-msg' data-timestamp='1481225040' id='516922'>
<a class='timestamp' href='#516922'><time timestamp='2016-12-08T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
simple fixes and things we&#x27;re really sure about can be merged+backported last minute
<br>
</div>

<div class='talk op-msg' data-timestamp='1481225040' id='516923'>
<a class='timestamp' href='#516923'><time timestamp='2016-12-08T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
but it doesn&#x27;t look to be the case here, given this discussion already
<br>
</div>

<div class='talk op-msg' data-timestamp='1481225040' id='516924'>
<a class='timestamp' href='#516924'><time timestamp='2016-12-08T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
sipa, it&#x27;s a very scary and useless message
<br>
</div>

<div class='talk op-msg' data-timestamp='1481225040' id='516925'>
<a class='timestamp' href='#516925'><time timestamp='2016-12-08T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
well, now it propagates more
<br>
</div>

<div class='talk op-msg' data-timestamp='1481225040' id='516926'>
<a class='timestamp' href='#516926'><time timestamp='2016-12-08T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
it seems to me you&#x27;d want to distinguish between it got ATMP and it didn&#x27;t
<br>
</div>

<div class='talk op-msg' data-timestamp='1481225040' id='516927'>
<a class='timestamp' href='#516927'><time timestamp='2016-12-08T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
but still scary
<br>
</div>

<div class='talk op-msg' data-timestamp='1481225040' id='516928'>
<a class='timestamp' href='#516928'><time timestamp='2016-12-08T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
well i think we should either delete wallet txs that fail to ATMP at creation time, OR report the txid anyway
<br>
</div>

<div class='talk op-msg' data-timestamp='1481225100' id='516929'>
<a class='timestamp' href='#516929'><time timestamp='2016-12-08T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
now people think the tx failed, but they&#x27;re still rebroadcasting it
<br>
</div>

<div class='talk op-msg' data-timestamp='1481225100' id='516930'>
<a class='timestamp' href='#516930'><time timestamp='2016-12-08T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
sipa: i agree with that, though i&#x27;d be nervous about doing the first (delete wallet tx) in a backport
<br>
</div>

<div class='talk op-msg' data-timestamp='1481225100' id='516931'>
<a class='timestamp' href='#516931'><time timestamp='2016-12-08T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes that makes no sense to the user
<br>
</div>

<div class='talk op-msg' data-timestamp='1481225100' id='516932'>
<a class='timestamp' href='#516932'><time timestamp='2016-12-08T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sdaftuar: agree
<br>
</div>

<div class='talk op-msg' data-timestamp='1481225100' id='516933'>
<a class='timestamp' href='#516933'><time timestamp='2016-12-08T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sipa: not just that, but it is holding coins up in their wallet.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481225100' id='516934'>
<a class='timestamp' href='#516934'><time timestamp='2016-12-08T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
ideally the API should be atomic, either it succeeds or fails, not fails and still make a transaction
<br>
</div>

<div class='talk op-msg' data-timestamp='1481225160' id='516935'>
<a class='timestamp' href='#516935'><time timestamp='2016-12-08T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
morcos: i agree it&#x27;d be better to indicate somehow that the new tx isn&#x27;t in the mempool,but perhaps we can&#x27;t change the API like that in a backport... reporting the txid still seems better than current behavior though
<br>
</div>

<div class='talk op-msg' data-timestamp='1481225160' id='516936'>
<a class='timestamp' href='#516936'><time timestamp='2016-12-08T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
no different than if the tx was acepted and then evicted before relay
<br>
</div>

<div class='talk op-msg' data-timestamp='1481225160' id='516937'>
<a class='timestamp' href='#516937'><time timestamp='2016-12-08T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
MarcoFalke_: you&#x27;re right. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1481225160' id='516938'>
<a class='timestamp' href='#516938'><time timestamp='2016-12-08T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
but it may be too much to fix in a backport in a release that we want out as soon as possible
<br>
</div>

<div class='talk op-msg' data-timestamp='1481225160' id='516939'>
<a class='timestamp' href='#516939'><time timestamp='2016-12-08T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
sdaftuar: but that doesn&#x27;t work very well for a tx that&#x27;ll never go anywhere ...
<br>
</div>

<div class='talk op-msg' data-timestamp='1481225160' id='516940'>
<a class='timestamp' href='#516940'><time timestamp='2016-12-08T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
can we do rebroadcast + report txid anyway in a backport?
<br>
</div>

<div class='talk op-msg' data-timestamp='1481225160' id='516941'>
<a class='timestamp' href='#516941'><time timestamp='2016-12-08T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
current behavior is even worse though for a tx that won&#x27;t go anywhere
<br>
</div>

<div class='talk op-msg' data-timestamp='1481225220' id='516942'>
<a class='timestamp' href='#516942'><time timestamp='2016-12-08T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
you don&#x27;t even know what tx to inspect/abandon!
<br>
</div>

<div class='talk op-msg' data-timestamp='1481225220' id='516943'>
<a class='timestamp' href='#516943'><time timestamp='2016-12-08T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and for 0.14 consider long chain avoidance + deletion of failed creations?
<br>
</div>

<div class='talk op-msg' data-timestamp='1481225220' id='516944'>
<a class='timestamp' href='#516944'><time timestamp='2016-12-08T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
although I&#x27;m not entirely sure when we want to do 0.13.2
<br>
</div>

<div class='talk op-msg' data-timestamp='1481225220' id='516945'>
<a class='timestamp' href='#516945'><time timestamp='2016-12-08T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
wumpus: I want to do 0.13.2
<br>
</div>

<div class='talk op-msg' data-timestamp='1481225220' id='516946'>
<a class='timestamp' href='#516946'><time timestamp='2016-12-08T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
i mean if we do think this is such a large problem that it HAS to be addressed in a back port... then i&#x27;d argue we should include 9262, because at least if that works right, it means all the other functionality we&#x27;ll backport will get used much less often
<br>
</div>

<div class='talk op-msg' data-timestamp='1481225220' id='516947'>
<a class='timestamp' href='#516947'><time timestamp='2016-12-08T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
gmaxwell: I&#x27;m asking when, not whether
<br>
</div>

<div class='talk op-msg' data-timestamp='1481225220' id='516948'>
<a class='timestamp' href='#516948'><time timestamp='2016-12-08T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
morcos: that was my thinking.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481225280' id='516949'>
<a class='timestamp' href='#516949'><time timestamp='2016-12-08T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
i lean towards backporting 9262, myself
<br>
</div>

<div class='talk op-msg' data-timestamp='1481225280' id='516950'>
<a class='timestamp' href='#516950'><time timestamp='2016-12-08T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
wumpus: oops, I missed the word when.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481225280' id='516951'>
<a class='timestamp' href='#516951'><time timestamp='2016-12-08T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
i&#x27;d rather have a lot less people asking about rpc calls that look like they work but theres no tx in mempool or random rebroadcasts a day later when parts of the chain confirm
<br>
</div>

<div class='talk op-msg' data-timestamp='1481225280' id='516952'>
<a class='timestamp' href='#516952'><time timestamp='2016-12-08T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
imho not reporting the txid of a tx that was added to your wallet is the worat bug here
<br>
</div>

<div class='talk op-msg' data-timestamp='1481225280' id='516953'>
<a class='timestamp' href='#516953'><time timestamp='2016-12-08T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
*worst
<br>
</div>

<div class='talk op-msg' data-timestamp='1481225280' id='516954'>
<a class='timestamp' href='#516954'><time timestamp='2016-12-08T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
sipa: agree!
<br>
</div>

<div class='talk op-msg' data-timestamp='1481225280' id='516955'>
<a class='timestamp' href='#516955'><time timestamp='2016-12-08T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Agree
<br>
</div>

<div class='talk op-msg' data-timestamp='1481225280' id='516956'>
<a class='timestamp' href='#516956'><time timestamp='2016-12-08T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Reporting the txid seems worth a backport
<br>
</div>

<div class='talk op-msg' data-timestamp='1481225340' id='516957'>
<a class='timestamp' href='#516957'><time timestamp='2016-12-08T19:29:00Z'>19:29</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
And the API change is accaptable
<br>
</div>

<div class='talk op-msg' data-timestamp='1481225340' id='516958'>
<a class='timestamp' href='#516958'><time timestamp='2016-12-08T19:29:00Z'>19:29</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes     
<br>
</div>

<div class='talk op-msg' data-timestamp='1481225340' id='516959'>
<a class='timestamp' href='#516959'><time timestamp='2016-12-08T19:29:00Z'>19:29</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i don&#x27;t have much opinion on 9262
<br>
</div>

<div class='talk op-msg' data-timestamp='1481225340' id='516960'>
<a class='timestamp' href='#516960'><time timestamp='2016-12-08T19:29:00Z'>19:29</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
morcos: I am unsure of how much reduction it will get. It will be a reduction, but at least 2 out of 3 people I&#x27;ve directly helped in this condition had no other coins in their wallet, as the wallet was created with a single large lump payment.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481225340' id='516961'>
<a class='timestamp' href='#516961'><time timestamp='2016-12-08T19:29:00Z'>19:29</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
then a separate call to check whether it failed to broadcast?
<br>
</div>

<div class='talk op-msg' data-timestamp='1481225340' id='516962'>
<a class='timestamp' href='#516962'><time timestamp='2016-12-08T19:29:00Z'>19:29</time></a>
&lt;<span class='nick nick-8'> MarcoFalke_</span>&gt;
So reporting the txid would hide the fact that ATMP failed?
<br>
</div>

<div class='talk op-msg' data-timestamp='1481225340' id='516963'>
<a class='timestamp' href='#516963'><time timestamp='2016-12-08T19:29:00Z'>19:29</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
the third, however, was making large chains pointlessly and their problem would have been avoided by 9262.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481225400' id='516964'>
<a class='timestamp' href='#516964'><time timestamp='2016-12-08T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
CodeShark: we can&#x27;t make people change the way they use the api
<br>
</div>

<div class='talk op-msg' data-timestamp='1481225400' id='516965'>
<a class='timestamp' href='#516965'><time timestamp='2016-12-08T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
not in the short term
<br>
</div>

<div class='talk op-msg' data-timestamp='1481225400' id='516966'>
<a class='timestamp' href='#516966'><time timestamp='2016-12-08T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
9262 is great. But whats the reason for a backport? Is a wallet function, users can and should upgrade to 0.14?
<br>
</div>

<div class='talk op-msg' data-timestamp='1481225400' id='516967'>
<a class='timestamp' href='#516967'><time timestamp='2016-12-08T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
imho, sendtoaddress should be deprecated in the long run
<br>
</div>

<div class='talk op-msg' data-timestamp='1481225400' id='516968'>
<a class='timestamp' href='#516968'><time timestamp='2016-12-08T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
realistically speaking what&#x27;s the date when 13.2 would be out vs 14.0..  and would people be more likely to want 13.2
<br>
</div>

<div class='talk op-msg' data-timestamp='1481225400' id='516969'>
<a class='timestamp' href='#516969'><time timestamp='2016-12-08T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
not in a backport at least
<br>
</div>

<div class='talk op-msg' data-timestamp='1481225400' id='516970'>
<a class='timestamp' href='#516970'><time timestamp='2016-12-08T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
but yeah, nearterm compatibility is important
<br>
</div>

<div class='talk op-msg' data-timestamp='1481225400' id='516971'>
<a class='timestamp' href='#516971'><time timestamp='2016-12-08T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
CodeShark: we&#x27;re talking about what to do in a backport
<br>
</div>

<div class='talk op-msg' data-timestamp='1481225400' id='516972'>
<a class='timestamp' href='#516972'><time timestamp='2016-12-08T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
CodeShark: maybe, but that&#x27;s totally off topic in this discussion
<br>
</div>

<div class='talk op-msg' data-timestamp='1481225400' id='516973'>
<a class='timestamp' href='#516973'><time timestamp='2016-12-08T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
My view on what we should eventually do:  If a failure is perminante we should fail the send, and not save the txn.  If the failure is temporary, we should return the txid and rebroadcast when we can. We should try to avoid creating temporary failures.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481225400' id='516974'>
<a class='timestamp' href='#516974'><time timestamp='2016-12-08T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
not what to do in the long run
<br>
</div>

<div class='talk op-msg' data-timestamp='1481225400' id='516975'>
<a class='timestamp' href='#516975'><time timestamp='2016-12-08T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
right
<br>
</div>

<div class='talk op-msg' data-timestamp='1481225460' id='516976'>
<a class='timestamp' href='#516976'><time timestamp='2016-12-08T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I was of the view that the case where we will ever create a non-temporary failure now is basically non-existant already.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481225460' id='516977'>
<a class='timestamp' href='#516977'><time timestamp='2016-12-08T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: it certainly seems infrequent
<br>
</div>

<div class='talk op-msg' data-timestamp='1481225460' id='516978'>
<a class='timestamp' href='#516978'><time timestamp='2016-12-08T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
so I haven&#x27;t given any thought to the &#x27;not save the txn&#x27; branch above.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481225520' id='516979'>
<a class='timestamp' href='#516979'><time timestamp='2016-12-08T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
There may be fringe cases, so belt and suspenders would be good for robustness.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481225520' id='516980'>
<a class='timestamp' href='#516980'><time timestamp='2016-12-08T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
hmm.. not saving the tx would mean, the wallet rpc functions depend fully on the mempool policy?
<br>
</div>

<div class='talk op-msg' data-timestamp='1481225520' id='516981'>
<a class='timestamp' href='#516981'><time timestamp='2016-12-08T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
so rebroadcast + avoid long chains + report txid anyway... all for 0.13.2?
<br>
</div>

<div class='talk op-msg' data-timestamp='1481225520' id='516982'>
<a class='timestamp' href='#516982'><time timestamp='2016-12-08T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
if its really rare, it might be we just track failures to reaccept and when they hit a cerain number, stop trying and have a way of reproting those txs for manual abandonment
<br>
</div>

<div class='talk op-msg' data-timestamp='1481225520' id='516983'>
<a class='timestamp' href='#516983'><time timestamp='2016-12-08T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
when do we want to do 0.13.2?
<br>
</div>

<div class='talk op-msg' data-timestamp='1481225580' id='516984'>
<a class='timestamp' href='#516984'><time timestamp='2016-12-08T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
is it some short term thing or januari?
<br>
</div>

<div class='talk op-msg' data-timestamp='1481225580' id='516985'>
<a class='timestamp' href='#516985'><time timestamp='2016-12-08T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
As far as when 0.13.2 I&#x27;ve personally been spending almost all my recent attention on the remaining things I thought 0.13.2 needed.  I had hoped in december.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481225580' id='516986'>
<a class='timestamp' href='#516986'><time timestamp='2016-12-08T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
sipa: it seems thats what people are arguing for
<br>
</div>

<div class='talk op-msg' data-timestamp='1481225580' id='516987'>
<a class='timestamp' href='#516987'><time timestamp='2016-12-08T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
wumpus: +1 month after 0.14?
<br>
</div>

<div class='talk op-msg' data-timestamp='1481225580' id='516988'>
<a class='timestamp' href='#516988'><time timestamp='2016-12-08T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
this sounds like it still needs a lot of work and testing and new things
<br>
</div>

<div class='talk op-msg' data-timestamp='1481225580' id='516989'>
<a class='timestamp' href='#516989'><time timestamp='2016-12-08T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
wumpus: reporting the txid anyway is probably super simple... just a question of thinking about the consequences
<br>
</div>

<div class='talk op-msg' data-timestamp='1481225580' id='516990'>
<a class='timestamp' href='#516990'><time timestamp='2016-12-08T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jonasschnelli: a new 0.13 after 0.14 makes little sense
<br>
</div>

<div class='talk op-msg' data-timestamp='1481225580' id='516991'>
<a class='timestamp' href='#516991'><time timestamp='2016-12-08T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
cfields also thought it was this week, he felt guilty he couldn&#x27;t sign it this week :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1481225580' id='516992'>
<a class='timestamp' href='#516992'><time timestamp='2016-12-08T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
These things (and the open backport PR) are the only things I&#x27;m perosnally tracking for 0.13.2  (I made a call in #bitcoin this morning for bugreports against 0.13.1 with an eye towards getting 0.13.2 ready).
<br>
</div>

<div class='talk op-msg' data-timestamp='1481225640' id='516993'>
<a class='timestamp' href='#516993'><time timestamp='2016-12-08T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
so not unheard of that all these things could be merged into master by tomorrow
<br>
</div>

<div class='talk op-msg' data-timestamp='1481225640' id='516994'>
<a class='timestamp' href='#516994'><time timestamp='2016-12-08T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
morcos: they&#x27;re not even in master yet, I&#x27;m not sure of merging so much new stuff into a backport
<br>
</div>

<div class='talk op-msg' data-timestamp='1481225700' id='516995'>
<a class='timestamp' href='#516995'><time timestamp='2016-12-08T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
wumpus: well neither am i... i personally favor less emphasis on backports..  but i&#x27;m saying if we are going to do it, well lets get to it...  
<br>
</div>

<div class='talk op-msg' data-timestamp='1481225700' id='516996'>
<a class='timestamp' href='#516996'><time timestamp='2016-12-08T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I really think we should make a choice here and solve the worst problems for 0.13.2 instead of trying to rush everything into it
<br>
</div>

<div class='talk op-msg' data-timestamp='1481225700' id='516997'>
<a class='timestamp' href='#516997'><time timestamp='2016-12-08T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I didn&#x27;t even know about the rebroadcast behavior that 9290 fixed until discussion about this subject. :(
<br>
</div>

<div class='talk op-msg' data-timestamp='1481225700' id='516998'>
<a class='timestamp' href='#516998'><time timestamp='2016-12-08T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
could always do a 0.13.3 later
<br>
</div>

<div class='talk op-msg' data-timestamp='1481225760' id='516999'>
<a class='timestamp' href='#516999'><time timestamp='2016-12-08T19:36:00Z'>19:36</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
jonasschnelli: I think the idea was to do it before 0.14. If after, none of these things are a problem
<br>
</div>

<div class='talk op-msg' data-timestamp='1481225760' id='517000'>
<a class='timestamp' href='#517000'><time timestamp='2016-12-08T19:36:00Z'>19:36</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
This discussion revealed that we also need the return txid anyways change, that is also a serious bug.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481225760' id='517001'>
<a class='timestamp' href='#517001'><time timestamp='2016-12-08T19:36:00Z'>19:36</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
i guess i believe that all or nothing makes sense, simply b/c anything less than the all sipa mentioned still leaves a big problem &quot;rebroadcast + avoid long chains + report txid anyway.&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1481225760' id='517002'>
<a class='timestamp' href='#517002'><time timestamp='2016-12-08T19:36:00Z'>19:36</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
wumpus: Yes. Right.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481225820' id='517003'>
<a class='timestamp' href='#517003'><time timestamp='2016-12-08T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
i would vote nothing, but i recognize i am outvoted
<br>
</div>

<div class='talk op-msg' data-timestamp='1481225820' id='517004'>
<a class='timestamp' href='#517004'><time timestamp='2016-12-08T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
morcos: i think the long chain avoidance is the least important in that set
<br>
</div>

<div class='talk op-msg' data-timestamp='1481225820' id='517005'>
<a class='timestamp' href='#517005'><time timestamp='2016-12-08T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
but does the wallet get enough testing on 0.13.2 to warrant this?
<br>
</div>

<div class='talk op-msg' data-timestamp='1481225820' id='517006'>
<a class='timestamp' href='#517006'><time timestamp='2016-12-08T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I do believe we could leave the avoidance out and at least not be buggy in any risky way. Just potentially creating a needlessly bad performance.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481225820' id='517007'>
<a class='timestamp' href='#517007'><time timestamp='2016-12-08T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I sometimes even doubt it gets enough testing on master
<br>
</div>

<div class='talk op-msg' data-timestamp='1481225820' id='517008'>
<a class='timestamp' href='#517008'><time timestamp='2016-12-08T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-8'> MarcoFalke_</span>&gt;
The rc1 for 0.13.2 should probably happen in Dec, otherwise it will &quot;overlap&quot; with 0.14
<br>
</div>

<div class='talk op-msg' data-timestamp='1481225820' id='517009'>
<a class='timestamp' href='#517009'><time timestamp='2016-12-08T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
wumpus: I think wallet sometimes gets more testing on backport than on master.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481225880' id='517010'>
<a class='timestamp' href='#517010'><time timestamp='2016-12-08T19:38:00Z'>19:38</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
MarcoFalke_: agreed, and people will probably be away lot later this month
<br>
</div>

<div class='talk op-msg' data-timestamp='1481225880' id='517011'>
<a class='timestamp' href='#517011'><time timestamp='2016-12-08T19:38:00Z'>19:38</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
I think there&#x27;d be value in 0.13.x beyond 0.14, but realistically it won&#x27;t get enough testing, so if we want a well-tested 0.13.x we should aim for before 0.14
<br>
</div>

<div class='talk op-msg' data-timestamp='1481225880' id='517012'>
<a class='timestamp' href='#517012'><time timestamp='2016-12-08T19:38:00Z'>19:38</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
wumpus: perhaps we should table this and (1) get the things we have open into master. (2) get a return txid fix. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1481225880' id='517013'>
<a class='timestamp' href='#517013'><time timestamp='2016-12-08T19:38:00Z'>19:38</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
sipa: my reason for including the avoidance would be to limit the number of people affected by the other two changes..  but i guess i&#x27;m not sure how helpful it will be.. sure
<br>
</div>

<div class='talk op-msg' data-timestamp='1481225940' id='517014'>
<a class='timestamp' href='#517014'><time timestamp='2016-12-08T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
it always worries me when we change the behavior
<br>
</div>

<div class='talk op-msg' data-timestamp='1481226000' id='517015'>
<a class='timestamp' href='#517015'><time timestamp='2016-12-08T19:40:00Z'>19:40</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
it seems people are always dependent on existing behvaior or using the bitcoind in a way we didn&#x27;t anticipate
<br>
</div>

<div class='talk op-msg' data-timestamp='1481226000' id='517016'>
<a class='timestamp' href='#517016'><time timestamp='2016-12-08T19:40:00Z'>19:40</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
why not preserve the current behavior for the existing API call and instead create a new API call that has the desired behavior?
<br>
</div>

<div class='talk op-msg' data-timestamp='1481226000' id='517017'>
<a class='timestamp' href='#517017'><time timestamp='2016-12-08T19:40:00Z'>19:40</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
CodeShark: bugfix with a new feature? :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1481226000' id='517018'>
<a class='timestamp' href='#517018'><time timestamp='2016-12-08T19:40:00Z'>19:40</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
gmaxwell: I suppose what is in 0.13.2 right now is already enough for a release? we could do the wallet stuff in a 0.13.3
<br>
</div>

<div class='talk op-msg' data-timestamp='1481226000' id='517019'>
<a class='timestamp' href='#517019'><time timestamp='2016-12-08T19:40:00Z'>19:40</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Let my summarize the bug and why I think it&#x27;s important to fix.  Right now normal use of the wallet for some users can suffer inexplicible failures due to creating long transactions. These long transactions will look like the send failed, but it will still go into the wallet and <u>_still_</u> be broadcast later potentially (After a restart).  Users lose access to their funds and may falsely believe a 
<br>
</div>

<div class='talk op-msg' data-timestamp='1481226000' id='517020'>
<a class='timestamp' href='#517020'><time timestamp='2016-12-08T19:40:00Z'>19:40</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
the avoidance (if its not buggy) just works magic behind the scenes
<br>
</div>

<div class='talk op-msg' data-timestamp='1481226000' id='517021'>
<a class='timestamp' href='#517021'><time timestamp='2016-12-08T19:40:00Z'>19:40</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
wallet is empty. Users may double pay as a result.  
<br>
</div>

<div class='talk op-msg' data-timestamp='1481226000' id='517022'>
<a class='timestamp' href='#517022'><time timestamp='2016-12-08T19:40:00Z'>19:40</time></a>
&lt;<span class='nick nick-8'> MarcoFalke_</span>&gt;
CodeShark: We&#x27;d end with an new API every release. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1481226060' id='517023'>
<a class='timestamp' href='#517023'><time timestamp='2016-12-08T19:41:00Z'>19:41</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
lol     
<br>
</div>

<div class='talk op-msg' data-timestamp='1481226060' id='517024'>
<a class='timestamp' href='#517024'><time timestamp='2016-12-08T19:41:00Z'>19:41</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
These are all serious money losing bugs. And are the most reported issue I&#x27;ve dealt with users for existing software.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481226060' id='517025'>
<a class='timestamp' href='#517025'><time timestamp='2016-12-08T19:41:00Z'>19:41</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
CodeShark: I think the point is fixing the current behavior
<br>
</div>

<div class='talk op-msg' data-timestamp='1481226060' id='517026'>
<a class='timestamp' href='#517026'><time timestamp='2016-12-08T19:41:00Z'>19:41</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
the current behavior is it still stores the transaction in the wallet even if ATMP fails?
<br>
</div>

<div class='talk op-msg' data-timestamp='1481226060' id='517027'>
<a class='timestamp' href='#517027'><time timestamp='2016-12-08T19:41:00Z'>19:41</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
CodeShark: this is all besides the issue. the current behaviour is clearly broken in numerous ways, and it should be fixed
<br>
</div>

<div class='talk op-msg' data-timestamp='1481226120' id='517028'>
<a class='timestamp' href='#517028'><time timestamp='2016-12-08T19:42:00Z'>19:42</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
if not for that, I wouldn&#x27;t bother with wanting any of this backported.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481226120' id='517029'>
<a class='timestamp' href='#517029'><time timestamp='2016-12-08T19:42:00Z'>19:42</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
CodeShark: new APIs are possible that avoid some of the pitfalls we&#x27;ve learned about in earlier designs
<br>
</div>

<div class='talk op-msg' data-timestamp='1481226120' id='517030'>
<a class='timestamp' href='#517030'><time timestamp='2016-12-08T19:42:00Z'>19:42</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(not for the fact that people are hitting it and can lose money as a result)
<br>
</div>

<div class='talk op-msg' data-timestamp='1481226120' id='517031'>
<a class='timestamp' href='#517031'><time timestamp='2016-12-08T19:42:00Z'>19:42</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
gmaxwell: &#x27;long chains of txs&#x27; or just large txs for inexplicable failures?
<br>
</div>

<div class='talk op-msg' data-timestamp='1481226180' id='517032'>
<a class='timestamp' href='#517032'><time timestamp='2016-12-08T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Chris_Stewart_5: large transactions will not cause the behavior I described.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481226180' id='517033'>
<a class='timestamp' href='#517033'><time timestamp='2016-12-08T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
CodeShark: yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1481226180' id='517034'>
<a class='timestamp' href='#517034'><time timestamp='2016-12-08T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-8'> MarcoFalke_</span>&gt;
Chris_Stewart_5: mempool chains.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481226180' id='517035'>
<a class='timestamp' href='#517035'><time timestamp='2016-12-08T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Agree with gmaxwell: But I think we must at least offer a way how to detect this on the RPC consumer side and mention it in the release nots
<br>
</div>

<div class='talk op-msg' data-timestamp='1481226180' id='517036'>
<a class='timestamp' href='#517036'><time timestamp='2016-12-08T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
The send mail fail but the failure is clean and won&#x27;t freeze the users funds and/or send anyways.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481226180' id='517037'>
<a class='timestamp' href='#517037'><time timestamp='2016-12-08T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Reporting txid seems to be the sane way for a backport IMO
<br>
</div>

<div class='talk op-msg' data-timestamp='1481226180' id='517038'>
<a class='timestamp' href='#517038'><time timestamp='2016-12-08T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I think reporting the txid is correct too. I agree.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481226240' id='517039'>
<a class='timestamp' href='#517039'><time timestamp='2016-12-08T19:44:00Z'>19:44</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
If its possible that the send will go through we must report the txid. Right now we don&#x27;t.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481226240' id='517040'>
<a class='timestamp' href='#517040'><time timestamp='2016-12-08T19:44:00Z'>19:44</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
another potential way to address this particular case, would be to simply toggle the default of -spendzeroconfchange I think?
<br>
</div>

<div class='talk op-msg' data-timestamp='1481226240' id='517041'>
<a class='timestamp' href='#517041'><time timestamp='2016-12-08T19:44:00Z'>19:44</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes, if the transaction is added to the wallet it should be reported
<br>
</div>

<div class='talk op-msg' data-timestamp='1481226240' id='517042'>
<a class='timestamp' href='#517042'><time timestamp='2016-12-08T19:44:00Z'>19:44</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
not the best way, but perhaps good enough to solve the critical part of the issue
<br>
</div>

<div class='talk op-msg' data-timestamp='1481226300' id='517043'>
<a class='timestamp' href='#517043'><time timestamp='2016-12-08T19:45:00Z'>19:45</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
I&#x27;d rather spend less days arguing about it and more days testing the RC that fixes it...   so can someone add the report txid anyway PR and lets merge that, #9262 and #9290 into master
<br>
</div>

<div class='talk op-msg' data-timestamp='1481226300' id='517044'>
<a class='timestamp' href='#517044'><time timestamp='2016-12-08T19:45:00Z'>19:45</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/9262" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/9262</a> | Prefer coins that have fewer ancestors, sanity check txn before ATMP by instagibbs · Pull Request #9262 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1481226300' id='517045'>
<a class='timestamp' href='#517045'><time timestamp='2016-12-08T19:45:00Z'>19:45</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/9290" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/9290</a> | Make RelayWalletTransaction attempt to AcceptToMemoryPool. by gmaxwell · Pull Request #9290 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1481226300' id='517046'>
<a class='timestamp' href='#517046'><time timestamp='2016-12-08T19:45:00Z'>19:45</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
None of the users reporting issues I worked with had been tripped up by the failure to return a txid (at least not that they noticed).
<br>
</div>

<div class='talk op-msg' data-timestamp='1481226300' id='517047'>
<a class='timestamp' href='#517047'><time timestamp='2016-12-08T19:45:00Z'>19:45</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
and that doesn&#x27;t sound like a very risky or large change
<br>
</div>

<div class='talk op-msg' data-timestamp='1481226300' id='517048'>
<a class='timestamp' href='#517048'><time timestamp='2016-12-08T19:45:00Z'>19:45</time></a>
&lt;<span class='nick nick-8'> MarcoFalke_</span>&gt;
#action create report txid patch
<br>
</div>

<div class='talk op-msg' data-timestamp='1481226300' id='517049'>
<a class='timestamp' href='#517049'><time timestamp='2016-12-08T19:45:00Z'>19:45</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
MarcoFalke_: already on it
<br>
</div>

<div class='talk op-msg' data-timestamp='1481226300' id='517050'>
<a class='timestamp' href='#517050'><time timestamp='2016-12-08T19:45:00Z'>19:45</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sipa: nice!
<br>
</div>

<div class='talk op-msg' data-timestamp='1481226300' id='517051'>
<a class='timestamp' href='#517051'><time timestamp='2016-12-08T19:45:00Z'>19:45</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
(just wanted to start) :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1481226300' id='517052'>
<a class='timestamp' href='#517052'><time timestamp='2016-12-08T19:45:00Z'>19:45</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
sipa: are you typing one-handed, its taking you a while
<br>
</div>

<div class='talk op-msg' data-timestamp='1481226360' id='517053'>
<a class='timestamp' href='#517053'><time timestamp='2016-12-08T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
morcos: i just switched to my laptop
<br>
</div>

<div class='talk op-msg' data-timestamp='1481226360' id='517054'>
<a class='timestamp' href='#517054'><time timestamp='2016-12-08T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
luke-jr: I think szcc=0 is a huge disruptive and surprising change. :(
<br>
</div>

<div class='talk op-msg' data-timestamp='1481226360' id='517055'>
<a class='timestamp' href='#517055'><time timestamp='2016-12-08T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it&#x27;s throwing out the baby with the bath water too
<br>
</div>

<div class='talk op-msg' data-timestamp='1481226420' id='517056'>
<a class='timestamp' href='#517056'><time timestamp='2016-12-08T19:47:00Z'>19:47</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
gmaxwell: but it can&#x27;t result in losing money (I agree a proper fix would be better though)
<br>
</div>

<div class='talk op-msg' data-timestamp='1481226420' id='517057'>
<a class='timestamp' href='#517057'><time timestamp='2016-12-08T19:47:00Z'>19:47</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
it&#x27;s almost like &quot;we could make sendtoaddress always fail.&quot; :) yes, that would fix the problem.. but..
<br>
</div>

<div class='talk op-msg' data-timestamp='1481226420' id='517058'>
<a class='timestamp' href='#517058'><time timestamp='2016-12-08T19:47:00Z'>19:47</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
if it is really a critical problem we could consider that
<br>
</div>

<div class='talk op-msg' data-timestamp='1481226420' id='517059'>
<a class='timestamp' href='#517059'><time timestamp='2016-12-08T19:47:00Z'>19:47</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
but I suppose I would consider it if we really felt we couldn&#x27;t do a better fix soon.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481226420' id='517060'>
<a class='timestamp' href='#517060'><time timestamp='2016-12-08T19:47:00Z'>19:47</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I remember we&#x27;ve done that before, in the time of the malleability problem
<br>
</div>

<div class='talk op-msg' data-timestamp='1481226480' id='517061'>
<a class='timestamp' href='#517061'><time timestamp='2016-12-08T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
but preferably not, no
<br>
</div>

<div class='talk op-msg' data-timestamp='1481226480' id='517062'>
<a class='timestamp' href='#517062'><time timestamp='2016-12-08T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
but I think we have a collection of better fixes which (with the txid return) will be more than sufficient. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1481226480' id='517063'>
<a class='timestamp' href='#517063'><time timestamp='2016-12-08T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
so I&#x27;d rather not think about szcc=0. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1481226480' id='517064'>
<a class='timestamp' href='#517064'><time timestamp='2016-12-08T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
k     
<br>
</div>

<div class='talk op-msg' data-timestamp='1481226540' id='517065'>
<a class='timestamp' href='#517065'><time timestamp='2016-12-08T19:49:00Z'>19:49</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
actually i guess its not as simple as i thought
<br>
</div>

<div class='talk op-msg' data-timestamp='1481226600' id='517066'>
<a class='timestamp' href='#517066'><time timestamp='2016-12-08T19:50:00Z'>19:50</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
morcos: returning a txid?
<br>
</div>

<div class='talk op-msg' data-timestamp='1481226600' id='517067'>
<a class='timestamp' href='#517067'><time timestamp='2016-12-08T19:50:00Z'>19:50</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] sipa opened pull request #9302: Return txid even if ATMP fails for new transaction (master...failedtxid) <a href="https://github.com/bitcoin/bitcoin/pull/9302" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9302</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1481226600' id='517068'>
<a class='timestamp' href='#517068'><time timestamp='2016-12-08T19:50:00Z'>19:50</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I believe thats as simple as
<br>
</div>

<div class='talk op-msg' data-timestamp='1481226600' id='517069'>
<a class='timestamp' href='#517069'><time timestamp='2016-12-08T19:50:00Z'>19:50</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
^ yep, thats the change I imagined.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481226600' id='517070'>
<a class='timestamp' href='#517070'><time timestamp='2016-12-08T19:50:00Z'>19:50</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
I never thought sendtoaddress was a reliable call as far as error handling so I sort of stopped thinking about how to do the error handling from the app side - not sure what issues people have had because of this behavior
<br>
</div>

<div class='talk op-msg' data-timestamp='1481226660' id='517071'>
<a class='timestamp' href='#517071'><time timestamp='2016-12-08T19:51:00Z'>19:51</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
ha ha ha
<br>
</div>

<div class='talk op-msg' data-timestamp='1481226660' id='517072'>
<a class='timestamp' href='#517072'><time timestamp='2016-12-08T19:51:00Z'>19:51</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sipa: I think you should also change the logprint (&quot;CommitTransaction(): Error: Transaction not valid, %s\n&quot;), but meh, OT.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481226660' id='517073'>
<a class='timestamp' href='#517073'><time timestamp='2016-12-08T19:51:00Z'>19:51</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
jonasschnelli: +1 :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1481226660' id='517074'>
<a class='timestamp' href='#517074'><time timestamp='2016-12-08T19:51:00Z'>19:51</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jonasschnelli: we don&#x27;t know if it&#x27;s not valid
<br>
</div>

<div class='talk op-msg' data-timestamp='1481226720' id='517075'>
<a class='timestamp' href='#517075'><time timestamp='2016-12-08T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jonasschnelli: wait, i don&#x27;t see the change
<br>
</div>

<div class='talk op-msg' data-timestamp='1481226720' id='517076'>
<a class='timestamp' href='#517076'><time timestamp='2016-12-08T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
&quot;ATMP failed&quot; or something.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481226720' id='517077'>
<a class='timestamp' href='#517077'><time timestamp='2016-12-08T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sipa: maybe that was the point of jonasschnelli&#x27;s comment
<br>
</div>

<div class='talk op-msg' data-timestamp='1481226720' id='517078'>
<a class='timestamp' href='#517078'><time timestamp='2016-12-08T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ah!     
<br>
</div>

<div class='talk op-msg' data-timestamp='1481226720' id='517079'>
<a class='timestamp' href='#517079'><time timestamp='2016-12-08T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i thought you said &quot;change it TO ...&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1481226720' id='517080'>
<a class='timestamp' href='#517080'><time timestamp='2016-12-08T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
thanks sipa
<br>
</div>

<div class='talk op-msg' data-timestamp='1481226780' id='517081'>
<a class='timestamp' href='#517081'><time timestamp='2016-12-08T19:53:00Z'>19:53</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
No. Just criticised the current one.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481226780' id='517082'>
<a class='timestamp' href='#517082'><time timestamp='2016-12-08T19:53:00Z'>19:53</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Yes. Thanks sipa.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481226780' id='517083'>
<a class='timestamp' href='#517083'><time timestamp='2016-12-08T19:53:00Z'>19:53</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Next time please faster
<br>
</div>

<div class='talk op-msg' data-timestamp='1481226780' id='517084'>
<a class='timestamp' href='#517084'><time timestamp='2016-12-08T19:53:00Z'>19:53</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
so: action proposed, 9302, 9290, 9262 and help get them into master.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481226780' id='517085'>
<a class='timestamp' href='#517085'><time timestamp='2016-12-08T19:53:00Z'>19:53</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
._.     
<br>
</div>

<div class='talk op-msg' data-timestamp='1481226780' id='517086'>
<a class='timestamp' href='#517086'><time timestamp='2016-12-08T19:53:00Z'>19:53</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
gmaxwell: concur
<br>
</div>

<div class='talk op-msg' data-timestamp='1481226780' id='517087'>
<a class='timestamp' href='#517087'><time timestamp='2016-12-08T19:53:00Z'>19:53</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
gmaxwell: sgtm
<br>
</div>

<div class='talk op-msg' data-timestamp='1481226840' id='517088'>
<a class='timestamp' href='#517088'><time timestamp='2016-12-08T19:54:00Z'>19:54</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
gmaxwell: i think thats the stable equilibrium... if 9262 seems dicey we can ditch, but i think its good
<br>
</div>

<div class='talk op-msg' data-timestamp='1481226840' id='517089'>
<a class='timestamp' href='#517089'><time timestamp='2016-12-08T19:54:00Z'>19:54</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
can we briefly discuss tx expiry if no one else has another unrelated topic
<br>
</div>

<div class='talk op-msg' data-timestamp='1481226840' id='517090'>
<a class='timestamp' href='#517090'><time timestamp='2016-12-08T19:54:00Z'>19:54</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
yes, 9262 is the most optional, esp with the first two in.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481226840' id='517091'>
<a class='timestamp' href='#517091'><time timestamp='2016-12-08T19:54:00Z'>19:54</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
at least 9290 and 9302
<br>
</div>

<div class='talk op-msg' data-timestamp='1481226840' id='517092'>
<a class='timestamp' href='#517092'><time timestamp='2016-12-08T19:54:00Z'>19:54</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
morcos: I would like to discuss expiry.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481226840' id='517093'>
<a class='timestamp' href='#517093'><time timestamp='2016-12-08T19:54:00Z'>19:54</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
the latter should obv get into master but not sure about 0.13.2
<br>
</div>

<div class='talk op-msg' data-timestamp='1481226840' id='517094'>
<a class='timestamp' href='#517094'><time timestamp='2016-12-08T19:54:00Z'>19:54</time></a>
&lt;<span class='nick nick-8'> MarcoFalke_</span>&gt;
#action 9302, 9290, 9262 for master (and backport), 9262 optional backport
<br>
</div>

<div class='talk op-msg' data-timestamp='1481226900' id='517095'>
<a class='timestamp' href='#517095'><time timestamp='2016-12-08T19:55:00Z'>19:55</time></a>
&lt;<span class='nick nick-8'> MarcoFalke_</span>&gt;
^fine this way?
<br>
</div>

<div class='talk op-msg' data-timestamp='1481226900' id='517096'>
<a class='timestamp' href='#517096'><time timestamp='2016-12-08T19:55:00Z'>19:55</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
#topic mempool expiry time increase
<br>
</div>

<div class='talk op-msg' data-timestamp='1481226900' id='517097'>
<a class='timestamp' href='#517097'><time timestamp='2016-12-08T19:55:00Z'>19:55</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
I still think preferential coin choosing should go in, even if we drop the abort
<br>
</div>

<div class='talk op-msg' data-timestamp='1481226900' id='517098'>
<a class='timestamp' href='#517098'><time timestamp='2016-12-08T19:55:00Z'>19:55</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
5 minutes to go ^^
<br>
</div>

<div class='talk op-msg' data-timestamp='1481226900' id='517099'>
<a class='timestamp' href='#517099'><time timestamp='2016-12-08T19:55:00Z'>19:55</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
sorry, continue
<br>
</div>

<div class='talk op-msg' data-timestamp='1481226900' id='517100'>
<a class='timestamp' href='#517100'><time timestamp='2016-12-08T19:55:00Z'>19:55</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
i&#x27;d like to raise the time to at least 1 week... although we could use a few more heads thinking about whether there are any issues.. obv after 9290, it doesn&#x27;t matter as much for gtting yhour own txs confirmed
<br>
</div>

<div class='talk op-msg' data-timestamp='1481226900' id='517101'>
<a class='timestamp' href='#517101'><time timestamp='2016-12-08T19:55:00Z'>19:55</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
instagibbs: I&#x27;d like to default the abort to off, with the rest it won&#x27;t be needed. We can discuss later.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481226900' id='517102'>
<a class='timestamp' href='#517102'><time timestamp='2016-12-08T19:55:00Z'>19:55</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
but i think if we want to be able to fully utilize weekly cycles in the tx volume, then we need to have txs which sit around for a week or more to measure how long it takes them to get confirmed
<br>
</div>

<div class='talk op-msg' data-timestamp='1481226960' id='517103'>
<a class='timestamp' href='#517103'><time timestamp='2016-12-08T19:56:00Z'>19:56</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
morcos: would it make much of a difference in practice? wouldn&#x27;t the transactions be evicted due to the mempool limit first?
<br>
</div>

<div class='talk op-msg' data-timestamp='1481226960' id='517104'>
<a class='timestamp' href='#517104'><time timestamp='2016-12-08T19:56:00Z'>19:56</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
morcos: I can&#x27;t think of any reason this wouldn&#x27;t be okay. (but haven&#x27;t given it thought before now)
<br>
</div>

<div class='talk op-msg' data-timestamp='1481226960' id='517105'>
<a class='timestamp' href='#517105'><time timestamp='2016-12-08T19:56:00Z'>19:56</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
i&#x27;m not really sure that the problems that expiry were meant to protect against are actually any more prevent with 3 days vs say 14
<br>
</div>

<div class='talk op-msg' data-timestamp='1481226960' id='517106'>
<a class='timestamp' href='#517106'><time timestamp='2016-12-08T19:56:00Z'>19:56</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
morcos: I do believe I made the argument for a week way back when on this basis.  OTOH, the mempool is simply not large enough to exploit the weekly cycle currently.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481226960' id='517107'>
<a class='timestamp' href='#517107'><time timestamp='2016-12-08T19:56:00Z'>19:56</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
morcos: apart from that I don&#x27;t see any problems with it
<br>
</div>

<div class='talk op-msg' data-timestamp='1481227020' id='517108'>
<a class='timestamp' href='#517108'><time timestamp='2016-12-08T19:57:00Z'>19:57</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
wumpus: no.. any tx with fee rate &gt; 1.5 sat / byte gets evicted b/c of 3 day limit and would otherwise get mined within a week (and usually does b/c of rebroadcast)
<br>
</div>

<div class='talk op-msg' data-timestamp='1481227020' id='517109'>
<a class='timestamp' href='#517109'><time timestamp='2016-12-08T19:57:00Z'>19:57</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
does the wallet &quot;abort&quot; if it drops from mempool, or does it resubmit
<br>
</div>

<div class='talk op-msg' data-timestamp='1481227020' id='517110'>
<a class='timestamp' href='#517110'><time timestamp='2016-12-08T19:57:00Z'>19:57</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
luke-jr: i think the expectation should be that everything in the mempool leaves it either due to accept/conflict or fee based eviction
<br>
</div>

<div class='talk op-msg' data-timestamp='1481227020' id='517111'>
<a class='timestamp' href='#517111'><time timestamp='2016-12-08T19:57:00Z'>19:57</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
I assume resubmits
<br>
</div>

<div class='talk op-msg' data-timestamp='1481227020' id='517112'>
<a class='timestamp' href='#517112'><time timestamp='2016-12-08T19:57:00Z'>19:57</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
My view on the expiration is that it removes high fee cruft that got softforked out but is taking up your mempool. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1481227020' id='517113'>
<a class='timestamp' href='#517113'><time timestamp='2016-12-08T19:57:00Z'>19:57</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
gmaxwell: its way more than big enough for a week cycle
<br>
</div>

<div class='talk op-msg' data-timestamp='1481227020' id='517114'>
<a class='timestamp' href='#517114'><time timestamp='2016-12-08T19:57:00Z'>19:57</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
b/c remember it only has to hodl backlog
<br>
</div>

<div class='talk op-msg' data-timestamp='1481227020' id='517115'>
<a class='timestamp' href='#517115'><time timestamp='2016-12-08T19:57:00Z'>19:57</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
luke-jr: expiration is for things that somehow linger much longer
<br>
</div>

<div class='talk op-msg' data-timestamp='1481227020' id='517116'>
<a class='timestamp' href='#517116'><time timestamp='2016-12-08T19:57:00Z'>19:57</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
gmaxwell: yeah, but if thats actually happening 3 days is way too long, and is breaking yoru fee estimates already
<br>
</div>

<div class='talk op-msg' data-timestamp='1481227080' id='517117'>
<a class='timestamp' href='#517117'><time timestamp='2016-12-08T19:58:00Z'>19:58</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
morcos: okay point so long as it is at least as big as the daily cycle, txn can persist through the week.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481227080' id='517118'>
<a class='timestamp' href='#517118'><time timestamp='2016-12-08T19:58:00Z'>19:58</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
hmm     
<br>
</div>

<div class='talk op-msg' data-timestamp='1481227080' id='517119'>
<a class='timestamp' href='#517119'><time timestamp='2016-12-08T19:58:00Z'>19:58</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
instagibbs: abort right now, the idea of #9290 is to change that and make it reaccept on rebroadcast
<br>
</div>

<div class='talk op-msg' data-timestamp='1481227080' id='517120'>
<a class='timestamp' href='#517120'><time timestamp='2016-12-08T19:58:00Z'>19:58</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/9290" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/9290</a> | Make RelayWalletTransaction attempt to AcceptToMemoryPool. by gmaxwell · Pull Request #9290 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1481227080' id='517121'>
<a class='timestamp' href='#517121'><time timestamp='2016-12-08T19:58:00Z'>19:58</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
ok, i&#x27;d propose 14 days, so we don&#x27;t have this problem again... and lets just think about whether anyone can think of any problems with it
<br>
</div>

<div class='talk op-msg' data-timestamp='1481227080' id='517122'>
<a class='timestamp' href='#517122'><time timestamp='2016-12-08T19:58:00Z'>19:58</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
morcos: in terms of fee estimates, we can address that by using a narrower filter... e.g. only consider transactions which are structurally similar to our own.. but a seperate topic.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481227140' id='517123'>
<a class='timestamp' href='#517123'><time timestamp='2016-12-08T19:59:00Z'>19:59</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
also the expiration hardly works now in any case.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481227140' id='517124'>
<a class='timestamp' href='#517124'><time timestamp='2016-12-08T19:59:00Z'>19:59</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
there&#x27;s one other advantage of 3 days versusu a week, which is being able to double-spend a too-low-fee tx.  after fee bumping, i think this reason largely goes away
<br>
</div>

<div class='talk op-msg' data-timestamp='1481227140' id='517125'>
<a class='timestamp' href='#517125'><time timestamp='2016-12-08T19:59:00Z'>19:59</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
i don&#x27;t think we can really take advantage of it until we change fee estimates...  but i&#x27;d rather have more of the network behaving similarilyh
<br>
</div>

<div class='talk op-msg' data-timestamp='1481227140' id='517126'>
<a class='timestamp' href='#517126'><time timestamp='2016-12-08T19:59:00Z'>19:59</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
and after 9290
<br>
</div>

<div class='talk op-msg' data-timestamp='1481227140' id='517127'>
<a class='timestamp' href='#517127'><time timestamp='2016-12-08T19:59:00Z'>19:59</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
if you are connectable there are &#x27;helpful&#x27; parties that connect and spam you with a zillion old txn.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481227140' id='517128'>
<a class='timestamp' href='#517128'><time timestamp='2016-12-08T19:59:00Z'>19:59</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
morcos, that&#x27;s too weeks of nodes not accepting fee bumps if you mess up and don&#x27;t do bip125 (not sure how big an issue that is but still)
<br>
</div>

<div class='talk op-msg' data-timestamp='1481227140' id='517129'>
<a class='timestamp' href='#517129'><time timestamp='2016-12-08T19:59:00Z'>19:59</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
you have a tiny windo
<br>
</div>

<div class='talk op-msg' data-timestamp='1481227140' id='517130'>
<a class='timestamp' href='#517130'><time timestamp='2016-12-08T19:59:00Z'>19:59</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
morcos: good point
<br>
</div>

<div class='talk op-msg' data-timestamp='1481227140' id='517131'>
<a class='timestamp' href='#517131'><time timestamp='2016-12-08T19:59:00Z'>19:59</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
even with manual bumping*
<br>
</div>

<div class='talk op-msg' data-timestamp='1481227200' id='517132'>
<a class='timestamp' href='#517132'><time timestamp='2016-12-08T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
instagibbs: I think it doesn&#x27;t matter for replacement.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481227200' id='517133'>
<a class='timestamp' href='#517133'><time timestamp='2016-12-08T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
instagibbs: but after 9290 your tx comes again anyway, you just lose the information that its old
<br>
</div>

<div class='talk op-msg' data-timestamp='1481227200' id='517134'>
<a class='timestamp' href='#517134'><time timestamp='2016-12-08T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Right now replacement of non-replacable transactions works even a day later fine, due to restarts and fullrbf miners.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481227200' id='517135'>
<a class='timestamp' href='#517135'><time timestamp='2016-12-08T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
i want to retain that information
<br>
</div>

<div class='talk op-msg' data-timestamp='1481227200' id='517136'>
<a class='timestamp' href='#517136'><time timestamp='2016-12-08T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
instagibbs: if the fee is that excessively small though, it will get bumped out by non-conflicting transactions sooner probably
<br>
</div>

<div class='talk op-msg' data-timestamp='1481227200' id='517137'>
<a class='timestamp' href='#517137'><time timestamp='2016-12-08T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
instagibbs: also what luke said.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481227200' id='517138'>
<a class='timestamp' href='#517138'><time timestamp='2016-12-08T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
nothing with a fee rate &gt; 1.5 sat / byte as ever been evicted due to low fee rate
<br>
</div>

<div class='talk op-msg' data-timestamp='1481227200' id='517139'>
<a class='timestamp' href='#517139'><time timestamp='2016-12-08T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
morcos: does it need to be 14 days or is 7 sufficient to exploit the weekly cycle?
<br>
</div>

<div class='talk op-msg' data-timestamp='1481227260' id='517140'>
<a class='timestamp' href='#517140'><time timestamp='2016-12-08T20:01:00Z'>20:01</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
i don&#x27;t know... maybe 7.. but maybe you need more data points that are older than that to know things that don&#x27;t get confirmed in 7 days
<br>
</div>

<div class='talk op-msg' data-timestamp='1481227260' id='517141'>
<a class='timestamp' href='#517141'><time timestamp='2016-12-08T20:01:00Z'>20:01</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
which is kind of importnat
<br>
</div>

<div class='talk op-msg' data-timestamp='1481227260' id='517142'>
<a class='timestamp' href='#517142'><time timestamp='2016-12-08T20:01:00Z'>20:01</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
oh I see, for the estimator.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481227320' id='517143'>
<a class='timestamp' href='#517143'><time timestamp='2016-12-08T20:02:00Z'>20:02</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
very short announcement: github now supports listing reviewers for your PR... always feel free to list me
<br>
</div>

<div class='talk op-msg' data-timestamp='1481227320' id='517144'>
<a class='timestamp' href='#517144'><time timestamp='2016-12-08T20:02:00Z'>20:02</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
anyway, all i wanted to do is raise the topic, so other people cna think of potential problems
<br>
</div>

<div class='talk op-msg' data-timestamp='1481227320' id='517145'>
<a class='timestamp' href='#517145'><time timestamp='2016-12-08T20:02:00Z'>20:02</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
morcos: OKAY!
<br>
</div>

<div class='talk op-msg' data-timestamp='1481227320' id='517146'>
<a class='timestamp' href='#517146'><time timestamp='2016-12-08T20:02:00Z'>20:02</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
morcos: just open an PR and set sipa as the reviewer. Done.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481227320' id='517147'>
<a class='timestamp' href='#517147'><time timestamp='2016-12-08T20:02:00Z'>20:02</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
#endmeeting
<br>
</div>

<div class='talk op-msg' data-timestamp='1481227320' id='517148'>
<a class='timestamp' href='#517148'><time timestamp='2016-12-08T20:02:00Z'>20:02</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Meeting ended Thu Dec  8 20:02:43 2016 UTC.  Information about MeetBot at <a href="http://wiki.debian.org/MeetBot" class="link" target="_blank">http://wiki.debian.org/MeetBot</a> . (v 0.1.4)
<br>
</div>

<div class='talk op-msg' data-timestamp='1481227320' id='517149'>
<a class='timestamp' href='#517149'><time timestamp='2016-12-08T20:02:00Z'>20:02</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Minutes:        <a href="http://www.erisian.com.au/meetbot/bitcoin-core-dev/2016/bitcoin-core-dev.2016-12-08-19.00.html" class="link" target="_blank">http://www.erisian.com.au/meetbot/bitcoin-core-dev/2016/bitcoin-core-dev.2016-12-08-19.00.html</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1481227320' id='517150'>
<a class='timestamp' href='#517150'><time timestamp='2016-12-08T20:02:00Z'>20:02</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Minutes (text): <a href="http://www.erisian.com.au/meetbot/bitcoin-core-dev/2016/bitcoin-core-dev.2016-12-08-19.00.txt" class="link" target="_blank">http://www.erisian.com.au/meetbot/bitcoin-core-dev/2016/bitcoin-core-dev.2016-12-08-19.00.txt</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1481227320' id='517151'>
<a class='timestamp' href='#517151'><time timestamp='2016-12-08T20:02:00Z'>20:02</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Log:            <a href="http://www.erisian.com.au/meetbot/bitcoin-core-dev/2016/bitcoin-core-dev.2016-12-08-19.00.log.html" class="link" target="_blank">http://www.erisian.com.au/meetbot/bitcoin-core-dev/2016/bitcoin-core-dev.2016-12-08-19.00.log.html</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1481227440' id='517152'>
<a class='timestamp' href='#517152'><time timestamp='2016-12-08T20:04:00Z'>20:04</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
instagibbs: I think of the 9262 &quot;failure&quot; case as a lot like spendzeroconfchange-- basically we replace a messy error with an even worse error but one which is cleaner to deal with.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481227440' id='517153'>
<a class='timestamp' href='#517153'><time timestamp='2016-12-08T20:04:00Z'>20:04</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(at least assuming the rebroadcast and txid return problems are solved)
<br>
</div>

<div class='talk op-msg' data-timestamp='1481227440' id='517154'>
<a class='timestamp' href='#517154'><time timestamp='2016-12-08T20:04:00Z'>20:04</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
sure, I don&#x27;t mind if there&#x27;s something better in place removing it or turning it off by default
<br>
</div>

<div class='talk op-msg' data-timestamp='1481227500' id='517155'>
<a class='timestamp' href='#517155'><time timestamp='2016-12-08T20:05:00Z'>20:05</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
what does the acronym ATMP stand for? 
<br>
</div>

<div class='talk op-msg' data-timestamp='1481227500' id='517156'>
<a class='timestamp' href='#517156'><time timestamp='2016-12-08T20:05:00Z'>20:05</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
AcceptToMemoryPool
<br>
</div>

<div class='talk op-msg' data-timestamp='1481227500' id='517157'>
<a class='timestamp' href='#517157'><time timestamp='2016-12-08T20:05:00Z'>20:05</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
instagibbs: I think a proper mental model is that ignoring out of funds conditions-- which are likely &quot;handled&quot; by running getbalance before the send--, callers have no error handling on sendtoaddress.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481227500' id='517158'>
<a class='timestamp' href='#517158'><time timestamp='2016-12-08T20:05:00Z'>20:05</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
ah, thanks instagibbs 
<br>
</div>

<div class='talk op-msg' data-timestamp='1481227560' id='517159'>
<a class='timestamp' href='#517159'><time timestamp='2016-12-08T20:06:00Z'>20:06</time></a>
&lt;<span class='nick nick-6'> btcdrak</span>&gt;
Can I scrounge some urgent review for <a href="https://github.com/bitcoin/libblkmaker/pull/6" class="link" target="_blank">https://github.com/bitcoin/libblkmaker/pull/6</a> please. It&#x27;s required for some downstream miners for segwit.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481227560' id='517160'>
<a class='timestamp' href='#517160'><time timestamp='2016-12-08T20:06:00Z'>20:06</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
or another way of thinking about it: Users will have no error handling for an error condition which isn&#x27;t either Obvious (out of funds) or Very easily encountered in practice (also out of funds)... even fairly advanced users will not handle errors unless we either have an error simulator that returns them or very clear documentation which says &quot;here are all the errors you will have to handle&quot;.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481227620' id='517161'>
<a class='timestamp' href='#517161'><time timestamp='2016-12-08T20:07:00Z'>20:07</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
So given that I think we should assume the best handling users commonly have for sendtoaddress failure of &quot;stop the world, something unexpected happened.&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1481228340' id='517162'>
<a class='timestamp' href='#517162'><time timestamp='2016-12-08T20:19:00Z'>20:19</time></a>
&lt;<span class='nick nick-6'> btcdrak</span>&gt;
morcos: ok I think I fixed that PR. Fingers crossed on Travis.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481228760' id='517163'>
<a class='timestamp' href='#517163'><time timestamp='2016-12-08T20:26:00Z'>20:26</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
btcdrak: i guess we won&#x27;t be in favor of any soft forks that depend on tx version again
<br>
</div>

<div class='talk op-msg' data-timestamp='1481230020' id='517164'>
<a class='timestamp' href='#517164'><time timestamp='2016-12-08T20:47:00Z'>20:47</time></a>
&lt;<span class='nick nick-6'> btcdrak</span>&gt;
morcos: I wouldnt say that necessarily, it&#x27;s just we never did and were relying of default values.
<br>
</div>

<div class='talk op-msg' data-timestamp='1481230140' id='517165'>
<a class='timestamp' href='#517165'><time timestamp='2016-12-08T20:49:00Z'>20:49</time></a>
&lt;<span class='nick nick-6'> btcdrak</span>&gt;
It reminds me that one shouldn&#x27;t use API defaults for versioning.
<br>
</div>

</div>
</section>

</body>
</html>
