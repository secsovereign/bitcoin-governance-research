<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2016-04-26
 â€” 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2016-04-26' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:26 UTC</pre>
<pre><a href="/bitcoin-core-dev/2016-03-26">&lt;</a><span class='header'>    April 2016    </span><a href="/bitcoin-core-dev/2016-05-26">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;                <a class="" href="/bitcoin-core-dev/2016-04-01">1</a>  <a class="" href="/bitcoin-core-dev/2016-04-02">2</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2016-04-03">3</a>  <a class="" href="/bitcoin-core-dev/2016-04-04">4</a>  <a class="" href="/bitcoin-core-dev/2016-04-05">5</a>  <a class="" href="/bitcoin-core-dev/2016-04-06">6</a>  <a class="" href="/bitcoin-core-dev/2016-04-07">7</a>  <a class="" href="/bitcoin-core-dev/2016-04-08">8</a>  <a class="" href="/bitcoin-core-dev/2016-04-09">9</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2016-04-10">10</a> <a class="" href="/bitcoin-core-dev/2016-04-11">11</a> <a class="" href="/bitcoin-core-dev/2016-04-12">12</a> <a class="" href="/bitcoin-core-dev/2016-04-13">13</a> <a class="" href="/bitcoin-core-dev/2016-04-14">14</a> <a class="" href="/bitcoin-core-dev/2016-04-15">15</a> <a class="" href="/bitcoin-core-dev/2016-04-16">16</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2016-04-17">17</a> <a class="" href="/bitcoin-core-dev/2016-04-18">18</a> <a class="" href="/bitcoin-core-dev/2016-04-19">19</a> <a class="" href="/bitcoin-core-dev/2016-04-20">20</a> <a class="" href="/bitcoin-core-dev/2016-04-21">21</a> <a class="" href="/bitcoin-core-dev/2016-04-22">22</a> <a class="" href="/bitcoin-core-dev/2016-04-23">23</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2016-04-24">24</a> <a class="" href="/bitcoin-core-dev/2016-04-25">25</a> <a class="current" href="/bitcoin-core-dev/2016-04-26">26</a> <a class="" href="/bitcoin-core-dev/2016-04-27">27</a> <a class="" href="/bitcoin-core-dev/2016-04-28">28</a> <a class="" href="/bitcoin-core-dev/2016-04-29">29</a> <a class="" href="/bitcoin-core-dev/2016-04-30">30</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1461633540' id='465796'>
<a class='timestamp' href='#465796'><time timestamp='2016-04-26T01:19:00Z'>01:19</time></a>
&lt;<span class='nick nick-9'> GitHub160</span>&gt;
[bitcoin] kazcw opened pull request #7942: lock cs_main for State/Misbehaving/chainActive (master...locking) <a href="https://github.com/bitcoin/bitcoin/pull/7942" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/7942</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1461635880' id='465797'>
<a class='timestamp' href='#465797'><time timestamp='2016-04-26T01:58:00Z'>01:58</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
zmq notifications don&#x27;t seem to be working in windows
<br>
</div>

<div class='talk op-msg' data-timestamp='1461643020' id='465798'>
<a class='timestamp' href='#465798'><time timestamp='2016-04-26T03:57:00Z'>03:57</time></a>
&lt;<span class='nick nick-6'> btcdrak</span>&gt;
sipa: looks like a typo
<br>
</div>

<div class='talk op-msg' data-timestamp='1461643260' id='465799'>
<a class='timestamp' href='#465799'><time timestamp='2016-04-26T04:01:00Z'>04:01</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
kanzure: it&#x27;s intentional incompetence in bitcoinj... it used to be worse, google up the bitcoin-dev logs for this lovely conversation
<br>
</div>

<div class='talk op-msg' data-timestamp='1461643260' id='465800'>
<a class='timestamp' href='#465800'><time timestamp='2016-04-26T04:01:00Z'>04:01</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
09:04 &lt; gmaxwell&gt; BlueMatt: someone was saying in here that bitcoinj used a ping interval of 200ms the other day? is that so?
<br>
</div>

<div class='talk op-msg' data-timestamp='1461643260' id='465801'>
<a class='timestamp' href='#465801'><time timestamp='2016-04-26T04:01:00Z'>04:01</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
09:05 &lt; gmaxwell&gt; (200ms * 124 peers = 620 pps = about 400kbit/sec before adding in whatever the ping itself takes)
<br>
</div>

<div class='talk op-msg' data-timestamp='1461643320' id='465802'>
<a class='timestamp' href='#465802'><time timestamp='2016-04-26T04:02:00Z'>04:02</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
09:12 &lt; TD&gt; a ping every 200msec is not even going to stress a pocket calculator, but yeah, i&#x27;ll see what&#x27;s going on there
<br>
</div>

<div class='talk op-msg' data-timestamp='1461643320' id='465803'>
<a class='timestamp' href='#465803'><time timestamp='2016-04-26T04:02:00Z'>04:02</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
...
<br>
</div>

<div class='talk op-msg' data-timestamp='1461643320' id='465804'>
<a class='timestamp' href='#465804'><time timestamp='2016-04-26T04:02:00Z'>04:02</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
09:19 &lt; TD&gt; how about making the default 1 second. 44 bytes once a second is trivial compared to the cost of running a full node, even if you have a large number of peers.
<br>
</div>

<div class='talk op-msg' data-timestamp='1461643380' id='465805'>
<a class='timestamp' href='#465805'><time timestamp='2016-04-26T04:03:00Z'>04:03</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
09:21 &lt; gmaxwell&gt; TD: Any reason it needs to be that fast? The network radius is many seconds now. I was thinking of conferring DOS when pings come faster than once per second, so actually sending at once per second would be right on the wire.
<br>
</div>

<div class='talk op-msg' data-timestamp='1461643380' id='465806'>
<a class='timestamp' href='#465806'><time timestamp='2016-04-26T04:03:00Z'>04:03</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
09:24 &lt; TD&gt; because responsiveness matters, a ton. it&#x27;s trying to figure out which of the peers it was able to find can shovel it the chain fastest, ie, is not overloaded
<br>
</div>

<div class='talk op-msg' data-timestamp='1461643380' id='465807'>
<a class='timestamp' href='#465807'><time timestamp='2016-04-26T04:03:00Z'>04:03</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
09:25 &lt; TD&gt; pings are super cheap. if we go up to even a pathetic level of traffic like 5-6 transactions per second, invs will be far more expensive bandwidth and cpu wise
<br>
</div>

<div class='talk op-msg' data-timestamp='1461643380' id='465808'>
<a class='timestamp' href='#465808'><time timestamp='2016-04-26T04:03:00Z'>04:03</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
09:30 &lt; gmaxwell&gt; TD: nothing on the network happens within a one second time frame. The time it takes to get a message across the network is multiple seconds. Any sane peer has multiple connections. 1 second is still on the order of (20+28+12+32)*8*125 = 92kbit/sec for a node with 125 peers.
<br>
</div>

<div class='talk op-msg' data-timestamp='1461643380' id='465809'>
<a class='timestamp' href='#465809'><time timestamp='2016-04-26T04:03:00Z'>04:03</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
09:31 &lt; gmaxwell&gt; I do not think this is reasonable in the general case.
<br>
</div>

<div class='talk op-msg' data-timestamp='1461643380' id='465810'>
<a class='timestamp' href='#465810'><time timestamp='2016-04-26T04:03:00Z'>04:03</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
09:32 &lt; gmaxwell&gt; esp unlike blocks and such, pings are not reduced by recieving one first from another peer.
<br>
</div>

<div class='talk op-msg' data-timestamp='1461643440' id='465811'>
<a class='timestamp' href='#465811'><time timestamp='2016-04-26T04:04:00Z'>04:04</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
09:36 &lt; gmaxwell&gt; TD: it&#x27;s also as much as we&#x27;ll spend transmitting the blockchain on average when all our peers are full nodes.
<br>
</div>

<div class='talk op-msg' data-timestamp='1461643440' id='465812'>
<a class='timestamp' href='#465812'><time timestamp='2016-04-26T04:04:00Z'>04:04</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
09:36 &lt; gmaxwell&gt; (or at least within a small factor of it)
<br>
</div>

<div class='talk op-msg' data-timestamp='1461643500' id='465813'>
<a class='timestamp' href='#465813'><time timestamp='2016-04-26T04:05:00Z'>04:05</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
yadda yadda.
<br>
</div>

<div class='talk op-msg' data-timestamp='1461644280' id='465814'>
<a class='timestamp' href='#465814'><time timestamp='2016-04-26T04:18:00Z'>04:18</time></a>
&lt;<span class='nick nick-6'> btcdrak</span>&gt;
maybe andreas would be willing to dial that down a bit.
<br>
</div>

<div class='talk op-msg' data-timestamp='1461644340' id='465815'>
<a class='timestamp' href='#465815'><time timestamp='2016-04-26T04:19:00Z'>04:19</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
wouldn&#x27;t have a choice if we release code that bans misbehaving peers &lt;.&lt;
<br>
</div>

<div class='talk op-msg' data-timestamp='1461644400' id='465816'>
<a class='timestamp' href='#465816'><time timestamp='2016-04-26T04:20:00Z'>04:20</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
but yeah, probably better to try the polite approach first
<br>
</div>

<div class='talk op-msg' data-timestamp='1461645180' id='465817'>
<a class='timestamp' href='#465817'><time timestamp='2016-04-26T04:33:00Z'>04:33</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I wrote code a while back that banned when it got a new ping less than a second after the last pong response, and it immediately banned all bitcoinj peers, which is what started that discussion.
<br>
</div>

<div class='talk op-msg' data-timestamp='1461645240' id='465818'>
<a class='timestamp' href='#465818'><time timestamp='2016-04-26T04:34:00Z'>04:34</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
even with bitcoinj backed off, and the banning backed off, it still had false positives due to nodes continuing to send pings when they hadn&#x27;t had a response, resulting in a backlog... and so whenever the network burped a bunch of pings would come in a burst.
<br>
</div>

<div class='talk op-msg' data-timestamp='1461645240' id='465819'>
<a class='timestamp' href='#465819'><time timestamp='2016-04-26T04:34:00Z'>04:34</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
so I think banning can&#x27;t be done unless we also specify that a peer shall not have multiple pings in flight.
<br>
</div>

<div class='talk op-msg' data-timestamp='1461645780' id='465820'>
<a class='timestamp' href='#465820'><time timestamp='2016-04-26T04:43:00Z'>04:43</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
sipa: still around, by chance?
<br>
</div>

<div class='talk op-msg' data-timestamp='1461645780' id='465821'>
<a class='timestamp' href='#465821'><time timestamp='2016-04-26T04:43:00Z'>04:43</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I hope not.
<br>
</div>

<div class='talk op-msg' data-timestamp='1461645780' id='465822'>
<a class='timestamp' href='#465822'><time timestamp='2016-04-26T04:43:00Z'>04:43</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
heh, I never know what continent he&#x27;s on
<br>
</div>

<div class='talk op-msg' data-timestamp='1461645900' id='465823'>
<a class='timestamp' href='#465823'><time timestamp='2016-04-26T04:45:00Z'>04:45</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
the switch is flipped travis-side. I&#x27;m working on getting everything to turn green so that we can merge the Trusty change. Until then, things will be wonky. I might have to disable qt on a few builds, seems to take longer to build on Trusty. We can re-enable after some experimentation
<br>
</div>

<div class='talk op-msg' data-timestamp='1461645960' id='465824'>
<a class='timestamp' href='#465824'><time timestamp='2016-04-26T04:46:00Z'>04:46</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
\O/
<br>
</div>

<div class='talk op-msg' data-timestamp='1461648060' id='465825'>
<a class='timestamp' href='#465825'><time timestamp='2016-04-26T05:21:00Z'>05:21</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
cfields: \o/
<br>
</div>

<div class='talk op-msg' data-timestamp='1461648120' id='465826'>
<a class='timestamp' href='#465826'><time timestamp='2016-04-26T05:22:00Z'>05:22</time></a>
&lt;<span class='nick nick-2'> * gmaxwell</span>&gt;
looks at the clock
<br>
</div>

<div class='talk op-msg' data-timestamp='1461648180' id='465827'>
<a class='timestamp' href='#465827'><time timestamp='2016-04-26T05:23:00Z'>05:23</time></a>
&lt;<span class='nick nick-14'> * luke-jr</span>&gt;
replaces gmaxwell&#x27;s clock with a tonal one
<br>
</div>

<div class='talk op-msg' data-timestamp='1461648240' id='465828'>
<a class='timestamp' href='#465828'><time timestamp='2016-04-26T05:24:00Z'>05:24</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
sipa: almost ready, maybe 1 more hour
<br>
</div>

<div class='talk op-msg' data-timestamp='1461648360' id='465829'>
<a class='timestamp' href='#465829'><time timestamp='2016-04-26T05:26:00Z'>05:26</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
luke-jr: your tonal time is useless to me since there is no such thing as tonal atomic time.
<br>
</div>

<div class='talk op-msg' data-timestamp='1461648360' id='465830'>
<a class='timestamp' href='#465830'><time timestamp='2016-04-26T05:26:00Z'>05:26</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
:&lt;
<br>
</div>

<div class='talk op-msg' data-timestamp='1461648660' id='465831'>
<a class='timestamp' href='#465831'><time timestamp='2016-04-26T05:31:00Z'>05:31</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
luke-jr: btw, you might want to keep an eye on <a href="https://github.com/travis-ci/travis-build/pull/706" class="link" target="_blank">https://github.com/travis-ci/travis-build/pull/706</a>, since you use a similar hack iirc
<br>
</div>

<div class='talk op-msg' data-timestamp='1461648720' id='465832'>
<a class='timestamp' href='#465832'><time timestamp='2016-04-26T05:32:00Z'>05:32</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
(and ignore my stupid first comment, I didn&#x27;t realize at first that the change is being made specifically for us :p)
<br>
</div>

<div class='talk op-msg' data-timestamp='1461648840' id='465833'>
<a class='timestamp' href='#465833'><time timestamp='2016-04-26T05:34:00Z'>05:34</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
cfields: I don&#x27;t suppose you know a way to get GCC to link to a library from a specific directory btw?
<br>
</div>

<div class='talk op-msg' data-timestamp='1461648840' id='465834'>
<a class='timestamp' href='#465834'><time timestamp='2016-04-26T05:34:00Z'>05:34</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
without knowing the library filenames which vary by platform :/
<br>
</div>

<div class='talk op-msg' data-timestamp='1461648900' id='465835'>
<a class='timestamp' href='#465835'><time timestamp='2016-04-26T05:35:00Z'>05:35</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
specify the .a directly as a source file?
<br>
</div>

<div class='talk op-msg' data-timestamp='1461648960' id='465836'>
<a class='timestamp' href='#465836'><time timestamp='2016-04-26T05:36:00Z'>05:36</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
sipa: .so, except sometimes it&#x27;s .dll, and sometimes it has a lib prefix and sometimes it has a -NNN suffix etc
<br>
</div>

<div class='talk op-msg' data-timestamp='1461649020' id='465837'>
<a class='timestamp' href='#465837'><time timestamp='2016-04-26T05:37:00Z'>05:37</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
oh, and don&#x27;t forget Cygwin where it&#x27;s a &quot;cyg&quot; prefix :x
<br>
</div>

<div class='talk op-msg' data-timestamp='1461649080' id='465838'>
<a class='timestamp' href='#465838'><time timestamp='2016-04-26T05:38:00Z'>05:38</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
luke-jr: ac_search_libs :(
<br>
</div>

<div class='talk op-msg' data-timestamp='1461649080' id='465839'>
<a class='timestamp' href='#465839'><time timestamp='2016-04-26T05:38:00Z'>05:38</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
:x
<br>
</div>

<div class='talk op-msg' data-timestamp='1461649080' id='465840'>
<a class='timestamp' href='#465840'><time timestamp='2016-04-26T05:38:00Z'>05:38</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
hmm
<br>
</div>

<div class='talk op-msg' data-timestamp='1461650700' id='465841'>
<a class='timestamp' href='#465841'><time timestamp='2016-04-26T06:05:00Z'>06:05</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
cfields: AC_SEARCH_LIBS doesn&#x27;t seem to have a way to get the filename?
<br>
</div>

<div class='talk op-msg' data-timestamp='1461650820' id='465842'>
<a class='timestamp' href='#465842'><time timestamp='2016-04-26T06:07:00Z'>06:07</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
luke-jr: no, not really. But using it with [foo foo-NNN etc] would get you part of the way there, since that will also take care of .so/.dll
<br>
</div>

<div class='talk op-msg' data-timestamp='1461650940' id='465843'>
<a class='timestamp' href='#465843'><time timestamp='2016-04-26T06:09:00Z'>06:09</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
cfields: it won&#x27;t tell me the .so/.dll, so not really
<br>
</div>

<div class='talk op-msg' data-timestamp='1461650940' id='465844'>
<a class='timestamp' href='#465844'><time timestamp='2016-04-26T06:09:00Z'>06:09</time></a>
&lt;<span class='nick nick-14'> * luke-jr</span>&gt;
ponders
<br>
</div>

<div class='talk op-msg' data-timestamp='1461650940' id='465845'>
<a class='timestamp' href='#465845'><time timestamp='2016-04-26T06:09:00Z'>06:09</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
luke-jr: you actually need the filename? Or you just need it to link against one of the possibilities?
<br>
</div>

<div class='talk op-msg' data-timestamp='1461651000' id='465846'>
<a class='timestamp' href='#465846'><time timestamp='2016-04-26T06:10:00Z'>06:10</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
cfields: well, I don&#x27;t know how to get GCC to do it without the absolute filename
<br>
</div>

<div class='talk op-msg' data-timestamp='1461651000' id='465847'>
<a class='timestamp' href='#465847'><time timestamp='2016-04-26T06:10:00Z'>06:10</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
problem is it&#x27;s using -L/usr/local/lib for -lbase58, and the latter -L for libblkmaker is ignored because and older libblkmaker is in /usr/local/lib also
<br>
</div>

<div class='talk op-msg' data-timestamp='1461651000' id='465848'>
<a class='timestamp' href='#465848'><time timestamp='2016-04-26T06:10:00Z'>06:10</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
I could reverse the order of the lib stuff, but then it&#x27;d have the problem in the opposite situation
<br>
</div>

<div class='talk op-msg' data-timestamp='1461651060' id='465849'>
<a class='timestamp' href='#465849'><time timestamp='2016-04-26T06:11:00Z'>06:11</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
luke-jr: pkg-config ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1461651120' id='465850'>
<a class='timestamp' href='#465850'><time timestamp='2016-04-26T06:12:00Z'>06:12</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
cfields: this is with pkg-config
<br>
</div>

<div class='talk op-msg' data-timestamp='1461651120' id='465851'>
<a class='timestamp' href='#465851'><time timestamp='2016-04-26T06:12:00Z'>06:12</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
-L/usr/local/lib -lbase58 from libbase58.pc, and -L/path/to/other/lib -lblkmaker from libblkmaker.pc
<br>
</div>

<div class='talk op-msg' data-timestamp='1461651240' id='465852'>
<a class='timestamp' href='#465852'><time timestamp='2016-04-26T06:14:00Z'>06:14</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
luke-jr: doesn&#x27;t libblkmaker depend on libbase58?
<br>
</div>

<div class='talk op-msg' data-timestamp='1461651300' id='465853'>
<a class='timestamp' href='#465853'><time timestamp='2016-04-26T06:15:00Z'>06:15</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
cfields: yep
<br>
</div>

<div class='talk op-msg' data-timestamp='1461651300' id='465854'>
<a class='timestamp' href='#465854'><time timestamp='2016-04-26T06:15:00Z'>06:15</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
both /usr/local/lib/libblkmaker and /path/to/other/lib/libblkmaker use /usr/local/lib/libbase58
<br>
</div>

<div class='talk op-msg' data-timestamp='1461651360' id='465855'>
<a class='timestamp' href='#465855'><time timestamp='2016-04-26T06:16:00Z'>06:16</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
luke-jr: i&#x27;m missing something then. It seems like libbase58 should be private in the .pc&#x27;s, and not added to the linker path since it&#x27;s an indirect dep
<br>
</div>

<div class='talk op-msg' data-timestamp='1461651420' id='465856'>
<a class='timestamp' href='#465856'><time timestamp='2016-04-26T06:17:00Z'>06:17</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
luke-jr: can you point me to what&#x27;s linking them both in?
<br>
</div>

<div class='talk op-msg' data-timestamp='1461651420' id='465857'>
<a class='timestamp' href='#465857'><time timestamp='2016-04-26T06:17:00Z'>06:17</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
cfields: BFGMiner also directly depends on both
<br>
</div>

<div class='talk op-msg' data-timestamp='1461651600' id='465858'>
<a class='timestamp' href='#465858'><time timestamp='2016-04-26T06:20:00Z'>06:20</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
luke-jr: ah. Not sure what to tell you, then :\
<br>
</div>

<div class='talk op-msg' data-timestamp='1461651660' id='465859'>
<a class='timestamp' href='#465859'><time timestamp='2016-04-26T06:21:00Z'>06:21</time></a>
&lt;<span class='nick nick-14'> * luke-jr</span>&gt;
would have thought libtool and pkg-config solved this by now :\
<br>
</div>

<div class='talk op-msg' data-timestamp='1461651660' id='465860'>
<a class='timestamp' href='#465860'><time timestamp='2016-04-26T06:21:00Z'>06:21</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
luke-jr: well i&#x27;m pretty sure you don&#x27;t actually need to link against libblkmaker, since the syms will be resolved recursively at runtime
<br>
</div>

<div class='talk op-msg' data-timestamp='1461651720' id='465861'>
<a class='timestamp' href='#465861'><time timestamp='2016-04-26T06:22:00Z'>06:22</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
er sorry, link against libbase58
<br>
</div>

<div class='talk op-msg' data-timestamp='1461651720' id='465862'>
<a class='timestamp' href='#465862'><time timestamp='2016-04-26T06:22:00Z'>06:22</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
3hmm
<br>
</div>

<div class='talk op-msg' data-timestamp='1461651780' id='465863'>
<a class='timestamp' href='#465863'><time timestamp='2016-04-26T06:23:00Z'>06:23</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
but i&#x27;m not sure if ld will whine about unresolved symbols, assuming you&#x27;re handling visibility
<br>
</div>

<div class='talk op-msg' data-timestamp='1461652020' id='465864'>
<a class='timestamp' href='#465864'><time timestamp='2016-04-26T06:27:00Z'>06:27</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
sipa: is it possible to reduce the secp256k1 test runs for 32bit? They take several minutes for travis
<br>
</div>

<div class='talk op-msg' data-timestamp='1461652200' id='465865'>
<a class='timestamp' href='#465865'><time timestamp='2016-04-26T06:30:00Z'>06:30</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
cfields: i think so
<br>
</div>

<div class='talk op-msg' data-timestamp='1461652620' id='465866'>
<a class='timestamp' href='#465866'><time timestamp='2016-04-26T06:37:00Z'>06:37</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
sipa: ah, it takes a count arg :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1461652740' id='465867'>
<a class='timestamp' href='#465867'><time timestamp='2016-04-26T06:39:00Z'>06:39</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
cfields: yes, though the count might not really get it low enough, due to imbalances.
<br>
</div>

<div class='talk op-msg' data-timestamp='1461652980' id='465868'>
<a class='timestamp' href='#465868'><time timestamp='2016-04-26T06:43:00Z'>06:43</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
imbalances?
<br>
</div>

<div class='talk op-msg' data-timestamp='1461653100' id='465869'>
<a class='timestamp' href='#465869'><time timestamp='2016-04-26T06:45:00Z'>06:45</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: but there is also a really huge count of tests run
<br>
</div>

<div class='talk op-msg' data-timestamp='1461653100' id='465870'>
<a class='timestamp' href='#465870'><time timestamp='2016-04-26T06:45:00Z'>06:45</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
cfields: is this for the secp repo, or the tests ran inside the bitcoind repo?
<br>
</div>

<div class='talk op-msg' data-timestamp='1461653160' id='465871'>
<a class='timestamp' href='#465871'><time timestamp='2016-04-26T06:46:00Z'>06:46</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
sipa: in the bitcoin repo. They&#x27;re pretty redundant, I should think
<br>
</div>

<div class='talk op-msg' data-timestamp='1461653220' id='465872'>
<a class='timestamp' href='#465872'><time timestamp='2016-04-26T06:47:00Z'>06:47</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
at least there no huge number of different test combinations is tried
<br>
</div>

<div class='talk op-msg' data-timestamp='1461653220' id='465873'>
<a class='timestamp' href='#465873'><time timestamp='2016-04-26T06:47:00Z'>06:47</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
cfields: we should not disable tests, since differences in build configuration are meaningful, but their count could be cut down. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1461653340' id='465874'>
<a class='timestamp' href='#465874'><time timestamp='2016-04-26T06:49:00Z'>06:49</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
gmaxwell: we could make sure the bitcoin configs are covered in the downstream matrix, but yea, I suppose it&#x27;s best to keep them running in case we get out of sync
<br>
</div>

<div class='talk op-msg' data-timestamp='1461653340' id='465875'>
<a class='timestamp' href='#465875'><time timestamp='2016-04-26T06:49:00Z'>06:49</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
cfields: it&#x27;s not even the same code, so---- 
<br>
</div>

<div class='talk op-msg' data-timestamp='1461653400' id='465876'>
<a class='timestamp' href='#465876'><time timestamp='2016-04-26T06:50:00Z'>06:50</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
gmaxwell: well i sure hope the code that&#x27;s coming in via merge points has been tested at least once :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1461653400' id='465877'>
<a class='timestamp' href='#465877'><time timestamp='2016-04-26T06:50:00Z'>06:50</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
but sure, point taken
<br>
</div>

<div class='talk op-msg' data-timestamp='1461653460' id='465878'>
<a class='timestamp' href='#465878'><time timestamp='2016-04-26T06:51:00Z'>06:51</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: how do you mean it is not the same code?
<br>
</div>

<div class='talk op-msg' data-timestamp='1461653520' id='465879'>
<a class='timestamp' href='#465879'><time timestamp='2016-04-26T06:52:00Z'>06:52</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sipa: I mean upstream moves ahead.
<br>
</div>

<div class='talk op-msg' data-timestamp='1461654000' id='465880'>
<a class='timestamp' href='#465880'><time timestamp='2016-04-26T07:00:00Z'>07:00</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
cfields: how does this change make travis unusually slow?
<br>
</div>

<div class='talk op-msg' data-timestamp='1461654000' id='465881'>
<a class='timestamp' href='#465881'><time timestamp='2016-04-26T07:00:00Z'>07:00</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
cfields: before it is merged
<br>
</div>

<div class='talk op-msg' data-timestamp='1461654060' id='465882'>
<a class='timestamp' href='#465882'><time timestamp='2016-04-26T07:01:00Z'>07:01</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
?
<br>
</div>

<div class='talk op-msg' data-timestamp='1461654060' id='465883'>
<a class='timestamp' href='#465883'><time timestamp='2016-04-26T07:01:00Z'>07:01</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
some cache interaction between old and new PRs?
<br>
</div>

<div class='talk op-msg' data-timestamp='1461654120' id='465884'>
<a class='timestamp' href='#465884'><time timestamp='2016-04-26T07:02:00Z'>07:02</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
sipa: our special cache flag has been removed, so I&#x27;m afraid of that interaction, yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1461654180' id='465885'>
<a class='timestamp' href='#465885'><time timestamp='2016-04-26T07:03:00Z'>07:03</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
sipa: in theory it&#x27;s supposed to work, but i get the impression this path hasn&#x27;t been tested on their end
<br>
</div>

<div class='talk op-msg' data-timestamp='1461654180' id='465886'>
<a class='timestamp' href='#465886'><time timestamp='2016-04-26T07:03:00Z'>07:03</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ah, i see
<br>
</div>

<div class='talk op-msg' data-timestamp='1461654180' id='465887'>
<a class='timestamp' href='#465887'><time timestamp='2016-04-26T07:03:00Z'>07:03</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
sipa: I&#x27;ll bump a PR real quick to test
<br>
</div>

<div class='talk op-msg' data-timestamp='1461656820' id='465888'>
<a class='timestamp' href='#465888'><time timestamp='2016-04-26T07:47:00Z'>07:47</time></a>
&lt;<span class='nick nick-12'> GitHub178</span>&gt;
[bitcoin] randy-waterhouse opened pull request #7944: Re-instate TARGET_OS=linux in configure.ac. Removed by 351abf9e035. (master...master) <a href="https://github.com/bitcoin/bitcoin/pull/7944" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/7944</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1461656880' id='465889'>
<a class='timestamp' href='#465889'><time timestamp='2016-04-26T07:48:00Z'>07:48</time></a>
&lt;<span class='nick nick-7'> randy-waterhouse</span>&gt;
wumpus: cfields : <a href="https://github.com/bitcoin/bitcoin/pull/7944" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/7944</a> 
<br>
</div>

<div class='talk op-msg' data-timestamp='1461656940' id='465890'>
<a class='timestamp' href='#465890'><time timestamp='2016-04-26T07:49:00Z'>07:49</time></a>
&lt;<span class='nick nick-7'> randy-waterhouse</span>&gt;
without this gives a weird runttime qt error (core dump) not linking to xcb plugin correctly (depends build)
<br>
</div>

<div class='talk op-msg' data-timestamp='1461664980' id='465891'>
<a class='timestamp' href='#465891'><time timestamp='2016-04-26T10:03:00Z'>10:03</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
the signal UpdatedBlockTip() is called without holding cs_main, SyncWithWallets() is called while holding cs_main
<br>
</div>

<div class='talk op-msg' data-timestamp='1461664980' id='465892'>
<a class='timestamp' href='#465892'><time timestamp='2016-04-26T10:03:00Z'>10:03</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I guess the signal listeners do also hold cs_main during the signal callback function?
<br>
</div>

<div class='talk op-msg' data-timestamp='1461665040' id='465893'>
<a class='timestamp' href='#465893'><time timestamp='2016-04-26T10:04:00Z'>10:04</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i think no callbacks should happen while holding a lock
<br>
</div>

<div class='talk op-msg' data-timestamp='1461665040' id='465894'>
<a class='timestamp' href='#465894'><time timestamp='2016-04-26T10:04:00Z'>10:04</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Yes. Agree. But ConnectTip is under cs_main, right?
<br>
</div>

<div class='talk op-msg' data-timestamp='1461665100' id='465895'>
<a class='timestamp' href='#465895'><time timestamp='2016-04-26T10:05:00Z'>10:05</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sipa: and connectTip calls SyncWithWallets()
<br>
</div>

<div class='talk op-msg' data-timestamp='1461665100' id='465896'>
<a class='timestamp' href='#465896'><time timestamp='2016-04-26T10:05:00Z'>10:05</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yes, should; not saying they are :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1461665160' id='465897'>
<a class='timestamp' href='#465897'><time timestamp='2016-04-26T10:06:00Z'>10:06</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I guess a dirty RAII breaking LEAVE_CRITICAL_SECTION() is not the way to go...
<br>
</div>

<div class='talk op-msg' data-timestamp='1461666900' id='465898'>
<a class='timestamp' href='#465898'><time timestamp='2016-04-26T10:35:00Z'>10:35</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
guess we better use Q_EMIT
<br>
</div>

<div class='talk op-msg' data-timestamp='1461666900' id='465899'>
<a class='timestamp' href='#465899'><time timestamp='2016-04-26T10:35:00Z'>10:35</time></a>
&lt;<span class='nick nick-14'> * luke-jr</span>&gt;
hides
<br>
</div>

<div class='talk op-msg' data-timestamp='1461666960' id='465900'>
<a class='timestamp' href='#465900'><time timestamp='2016-04-26T10:36:00Z'>10:36</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
how about using dbus?
<br>
</div>

<div class='talk op-msg' data-timestamp='1461667020' id='465901'>
<a class='timestamp' href='#465901'><time timestamp='2016-04-26T10:37:00Z'>10:37</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
that actually would make sense to add, even if not for internal use :x
<br>
</div>

<div class='talk op-msg' data-timestamp='1461668100' id='465902'>
<a class='timestamp' href='#465902'><time timestamp='2016-04-26T10:55:00Z'>10:55</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
what about kdbus, obviously we should aim to bring it all into the kernel
<br>
</div>

<div class='talk op-msg' data-timestamp='1461668340' id='465903'>
<a class='timestamp' href='#465903'><time timestamp='2016-04-26T10:59:00Z'>10:59</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
btw, Q_EMIT works the same as boost signals if it&#x27;s used within one thread, the event handler is called synchronously. It becomes more interesting if you use it between thread, or somehow with Qt::QueuedConnection, then it will be called later in that event loop
<br>
</div>

<div class='talk op-msg' data-timestamp='1461668340' id='465904'>
<a class='timestamp' href='#465904'><time timestamp='2016-04-26T10:59:00Z'>10:59</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
wumpus: i tried uses the ShowProgress signal for better reindex information, but it seems that using that while the main window is up makes it irresponsive (and a non-colored small window shows up)
<br>
</div>

<div class='talk op-msg' data-timestamp='1461668400' id='465905'>
<a class='timestamp' href='#465905'><time timestamp='2016-04-26T11:00:00Z'>11:00</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
sipa: the problem is that something in the GUI may try to get a cs_main lock in response to the signal
<br>
</div>

<div class='talk op-msg' data-timestamp='1461668400' id='465906'>
<a class='timestamp' href='#465906'><time timestamp='2016-04-26T11:00:00Z'>11:00</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
so i guess the reindex progress should be reported by extendid UodateTi
<br>
</div>

<div class='talk op-msg' data-timestamp='1461668400' id='465907'>
<a class='timestamp' href='#465907'><time timestamp='2016-04-26T11:00:00Z'>11:00</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
e.g. inthe GUI thrad
<br>
</div>

<div class='talk op-msg' data-timestamp='1461668400' id='465908'>
<a class='timestamp' href='#465908'><time timestamp='2016-04-26T11:00:00Z'>11:00</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
if your code is hogging that signal, it will only proceed after releasing the lock
<br>
</div>

<div class='talk op-msg' data-timestamp='1461668400' id='465909'>
<a class='timestamp' href='#465909'><time timestamp='2016-04-26T11:00:00Z'>11:00</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
hogging that lock, I mean
<br>
</div>

<div class='talk op-msg' data-timestamp='1461668400' id='465910'>
<a class='timestamp' href='#465910'><time timestamp='2016-04-26T11:00:00Z'>11:00</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
why does ShowProgress need a lock?
<br>
</div>

<div class='talk op-msg' data-timestamp='1461668400' id='465911'>
<a class='timestamp' href='#465911'><time timestamp='2016-04-26T11:00:00Z'>11:00</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I don&#x27;t know
<br>
</div>

<div class='talk op-msg' data-timestamp='1461668400' id='465912'>
<a class='timestamp' href='#465912'><time timestamp='2016-04-26T11:00:00Z'>11:00</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it may not actually need it, maybe it&#x27;s a mistake
<br>
</div>

<div class='talk op-msg' data-timestamp='1461668460' id='465913'>
<a class='timestamp' href='#465913'><time timestamp='2016-04-26T11:01:00Z'>11:01</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
ideally the GUI thread would never aquire cs_main at all, unfortunately we&#x27;re not there yet
<br>
</div>

<div class='talk op-msg' data-timestamp='1461668460' id='465914'>
<a class='timestamp' href='#465914'><time timestamp='2016-04-26T11:01:00Z'>11:01</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it&#x27;s only used for the startup check now, i think
<br>
</div>

<div class='talk op-msg' data-timestamp='1461668460' id='465915'>
<a class='timestamp' href='#465915'><time timestamp='2016-04-26T11:01:00Z'>11:01</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
maybe it&#x27;s just not or badly implemented for the main window
<br>
</div>

<div class='talk op-msg' data-timestamp='1461668460' id='465916'>
<a class='timestamp' href='#465916'><time timestamp='2016-04-26T11:01:00Z'>11:01</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
but sometimes the GUI wants to fetch some additional statistics from the core, which are not passed in the signal parameters, which require the lock
<br>
</div>

<div class='talk op-msg' data-timestamp='1461668520' id='465917'>
<a class='timestamp' href='#465917'><time timestamp='2016-04-26T11:02:00Z'>11:02</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
right
<br>
</div>

<div class='talk op-msg' data-timestamp='1461668520' id='465918'>
<a class='timestamp' href='#465918'><time timestamp='2016-04-26T11:02:00Z'>11:02</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I don&#x27;t know for sure but it is usually the explanation for &#x27;GUI stuck&#x27; issues
<br>
</div>

<div class='talk op-msg' data-timestamp='1461668520' id='465919'>
<a class='timestamp' href='#465919'><time timestamp='2016-04-26T11:02:00Z'>11:02</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
some of the additional statistics fetches are actually under try_locks to avoid this
<br>
</div>

<div class='talk op-msg' data-timestamp='1461668520' id='465920'>
<a class='timestamp' href='#465920'><time timestamp='2016-04-26T11:02:00Z'>11:02</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
but sometimes there&#x27;s something sneaky that aquires a cs_main lock deep in the code
<br>
</div>

<div class='talk op-msg' data-timestamp='1461668580' id='465921'>
<a class='timestamp' href='#465921'><time timestamp='2016-04-26T11:03:00Z'>11:03</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I&#x27;m now removing the cs_main lock from the SyncWithWallets signal
<br>
</div>

<div class='talk op-msg' data-timestamp='1461668580' id='465922'>
<a class='timestamp' href='#465922'><time timestamp='2016-04-26T11:03:00Z'>11:03</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
in any case I could take a look at it later
<br>
</div>

<div class='talk op-msg' data-timestamp='1461668580' id='465923'>
<a class='timestamp' href='#465923'><time timestamp='2016-04-26T11:03:00Z'>11:03</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
just push the code somewhere and tell me how to reproduce it
<br>
</div>

<div class='talk op-msg' data-timestamp='1461668580' id='465924'>
<a class='timestamp' href='#465924'><time timestamp='2016-04-26T11:03:00Z'>11:03</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
And I agree with wumpus: we should not allows cs_main locks from the GUI logic itself.
<br>
</div>

<div class='talk op-msg' data-timestamp='1461668580' id='465925'>
<a class='timestamp' href='#465925'><time timestamp='2016-04-26T11:03:00Z'>11:03</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Though, the GUI can call something from the core classes that acquires cs_main
<br>
</div>

<div class='talk op-msg' data-timestamp='1461668640' id='465926'>
<a class='timestamp' href='#465926'><time timestamp='2016-04-26T11:04:00Z'>11:04</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
jonasschnelli: that should be the eventual goal; it&#x27;s pretty hard to do at the moment though, e.g. sending coins and such should happen in an auxiliary thread
<br>
</div>

<div class='talk op-msg' data-timestamp='1461668640' id='465927'>
<a class='timestamp' href='#465927'><time timestamp='2016-04-26T11:04:00Z'>11:04</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
getting data from the core should also happen in an auxiliary thread, and be passed using signals
<br>
</div>

<div class='talk op-msg' data-timestamp='1461668640' id='465928'>
<a class='timestamp' href='#465928'><time timestamp='2016-04-26T11:04:00Z'>11:04</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Right. We already have something that could work: RPC. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1461668640' id='465929'>
<a class='timestamp' href='#465929'><time timestamp='2016-04-26T11:04:00Z'>11:04</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it&#x27;s not rocket science but not trivial to get entirely right
<br>
</div>

<div class='talk op-msg' data-timestamp='1461668640' id='465930'>
<a class='timestamp' href='#465930'><time timestamp='2016-04-26T11:04:00Z'>11:04</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes, you need exactly the same changes if the core were to be remotely
<br>
</div>

<div class='talk op-msg' data-timestamp='1461668700' id='465931'>
<a class='timestamp' href='#465931'><time timestamp='2016-04-26T11:05:00Z'>11:05</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
that&#x27;s a bonus.
<br>
</div>

<div class='talk op-msg' data-timestamp='1461668700' id='465932'>
<a class='timestamp' href='#465932'><time timestamp='2016-04-26T11:05:00Z'>11:05</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I think the only change that is worth is to fully process separete the GUI.
<br>
</div>

<div class='talk op-msg' data-timestamp='1461668700' id='465933'>
<a class='timestamp' href='#465933'><time timestamp='2016-04-26T11:05:00Z'>11:05</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
First It could be only the node-GUI (non wallet)
<br>
</div>

<div class='talk op-msg' data-timestamp='1461668700' id='465934'>
<a class='timestamp' href='#465934'><time timestamp='2016-04-26T11:05:00Z'>11:05</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
well it would be a step there
<br>
</div>

<div class='talk op-msg' data-timestamp='1461668700' id='465935'>
<a class='timestamp' href='#465935'><time timestamp='2016-04-26T11:05:00Z'>11:05</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
if all communication to the core hapepns through signals, detaching it is almost trivial
<br>
</div>

<div class='talk op-msg' data-timestamp='1461668700' id='465936'>
<a class='timestamp' href='#465936'><time timestamp='2016-04-26T11:05:00Z'>11:05</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Right. You need similar/same changes.
<br>
</div>

<div class='talk op-msg' data-timestamp='1461668760' id='465937'>
<a class='timestamp' href='#465937'><time timestamp='2016-04-26T11:06:00Z'>11:06</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
in any case it&#x27;s been on my todo list for years
<br>
</div>

<div class='talk op-msg' data-timestamp='1461668760' id='465938'>
<a class='timestamp' href='#465938'><time timestamp='2016-04-26T11:06:00Z'>11:06</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I could focus on it again, but playing around with databases is so much more fun :p
<br>
</div>

<div class='talk op-msg' data-timestamp='1461668880' id='465939'>
<a class='timestamp' href='#465939'><time timestamp='2016-04-26T11:08:00Z'>11:08</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
and for years I believed the GUI would eventually be removed anyway, so didn&#x27;t feel like spending effort on it
<br>
</div>

<div class='talk op-msg' data-timestamp='1461668880' id='465940'>
<a class='timestamp' href='#465940'><time timestamp='2016-04-26T11:08:00Z'>11:08</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
but you changed things around jonasschnelli :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1461668880' id='465941'>
<a class='timestamp' href='#465941'><time timestamp='2016-04-26T11:08:00Z'>11:08</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i&#x27;m sure bitcoin 0.13 will ship with the ability to maintain the utxo set in RAM, in LevelDB, in LMDB, in BDB and in CSV files.
<br>
</div>

<div class='talk op-msg' data-timestamp='1461668940' id='465942'>
<a class='timestamp' href='#465942'><time timestamp='2016-04-26T11:09:00Z'>11:09</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
hahahahah you&#x27;re on the right track sipa
<br>
</div>

<div class='talk op-msg' data-timestamp='1461668940' id='465943'>
<a class='timestamp' href='#465943'><time timestamp='2016-04-26T11:09:00Z'>11:09</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
hehe...
<br>
</div>

<div class='talk op-msg' data-timestamp='1461668940' id='465944'>
<a class='timestamp' href='#465944'><time timestamp='2016-04-26T11:09:00Z'>11:09</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
wumpus: interesting... the Qt GUI was what brought you into bitcoin development in the first place, no?
<br>
</div>

<div class='talk op-msg' data-timestamp='1461668940' id='465945'>
<a class='timestamp' href='#465945'><time timestamp='2016-04-26T11:09:00Z'>11:09</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
sipa: yes, it was
<br>
</div>

<div class='talk op-msg' data-timestamp='1461669000' id='465946'>
<a class='timestamp' href='#465946'><time timestamp='2016-04-26T11:10:00Z'>11:10</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
pedrobranco: hi there
<br>
</div>

<div class='talk op-msg' data-timestamp='1461669000' id='465947'>
<a class='timestamp' href='#465947'><time timestamp='2016-04-26T11:10:00Z'>11:10</time></a>
&lt;<span class='nick nick-7'> pedrobranco</span>&gt;
hi sipa :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1461669000' id='465948'>
<a class='timestamp' href='#465948'><time timestamp='2016-04-26T11:10:00Z'>11:10</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I was really optimistic about it in the beginning, but it turned out to be more than I bargained for, I chose qt (with a standard approach) because it is a well-known toolkit in the hope it would attract more developers to it
<br>
</div>

<div class='talk op-msg' data-timestamp='1461669000' id='465949'>
<a class='timestamp' href='#465949'><time timestamp='2016-04-26T11:10:00Z'>11:10</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I think the Qt GUI is great! Sure, we could use some UX designers. But one step after the other..
<br>
</div>

<div class='talk op-msg' data-timestamp='1461669060' id='465950'>
<a class='timestamp' href='#465950'><time timestamp='2016-04-26T11:11:00Z'>11:11</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
... but that didn&#x27;t really happen, and myself I was countinously distracted by other changes that had to be done
<br>
</div>

<div class='talk op-msg' data-timestamp='1461669120' id='465951'>
<a class='timestamp' href='#465951'><time timestamp='2016-04-26T11:12:00Z'>11:12</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
so at some point with all the complaints about the GUI, and with most developers not interested in it anyway, I didn&#x27;t give it much time before someone would decide to remove it completely
<br>
</div>

<div class='talk op-msg' data-timestamp='1461669120' id='465952'>
<a class='timestamp' href='#465952'><time timestamp='2016-04-26T11:12:00Z'>11:12</time></a>
&lt;<span class='nick nick-7'> pedrobranco</span>&gt;
sipa: whats up?
<br>
</div>

<div class='talk op-msg' data-timestamp='1461669120' id='465953'>
<a class='timestamp' href='#465953'><time timestamp='2016-04-26T11:12:00Z'>11:12</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
pedrobranco: sorry for all the noise on your importmulti call... i really think we should have such a call
<br>
</div>

<div class='talk op-msg' data-timestamp='1461669180' id='465954'>
<a class='timestamp' href='#465954'><time timestamp='2016-04-26T11:13:00Z'>11:13</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
Interesting, we didn&#x27;t yet switch to trusty or py3, yet <a href="https://github.com/bitcoin/bitcoin/pull/7944" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/7944</a> fails due to <a href="https://github.com/bitcoin/bitcoin/issues/7893" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/7893</a> ...
<br>
</div>

<div class='talk op-msg' data-timestamp='1461669240' id='465955'>
<a class='timestamp' href='#465955'><time timestamp='2016-04-26T11:14:00Z'>11:14</time></a>
&lt;<span class='nick nick-7'> pedrobranco</span>&gt;
sipa: no need to sorry, i thank you for the feedback. yes, i think we should too. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1461669240' id='465956'>
<a class='timestamp' href='#465956'><time timestamp='2016-04-26T11:14:00Z'>11:14</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
but anyhow, things changed, also with many of the other desktop wallets effectively dead in the water
<br>
</div>

<div class='talk op-msg' data-timestamp='1461669300' id='465957'>
<a class='timestamp' href='#465957'><time timestamp='2016-04-26T11:15:00Z'>11:15</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
MarcoFalke: maybe someone at Travis pushed The Button
<br>
</div>

<div class='talk op-msg' data-timestamp='1461669300' id='465958'>
<a class='timestamp' href='#465958'><time timestamp='2016-04-26T11:15:00Z'>11:15</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
wumpus: yes, the new cache flag was enabled for our repo
<br>
</div>

<div class='talk op-msg' data-timestamp='1461669300' id='465959'>
<a class='timestamp' href='#465959'><time timestamp='2016-04-26T11:15:00Z'>11:15</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
we can merge #7920
<br>
</div>

<div class='talk op-msg' data-timestamp='1461669360' id='465960'>
<a class='timestamp' href='#465960'><time timestamp='2016-04-26T11:16:00Z'>11:16</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
Agree, right now things seem to be broken without it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1461669360' id='465961'>
<a class='timestamp' href='#465961'><time timestamp='2016-04-26T11:16:00Z'>11:16</time></a>
&lt;<span class='nick nick-7'> pedrobranco</span>&gt;
sipa: your proposal is more accurate on the expected result. looks good to me.
<br>
</div>

<div class='talk op-msg' data-timestamp='1461669540' id='465962'>
<a class='timestamp' href='#465962'><time timestamp='2016-04-26T11:19:00Z'>11:19</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
+1 for 7920
<br>
</div>

<div class='talk op-msg' data-timestamp='1461669600' id='465963'>
<a class='timestamp' href='#465963'><time timestamp='2016-04-26T11:20:00Z'>11:20</time></a>
&lt;<span class='nick nick-3'> GitHub154</span>&gt;
[bitcoin] laanwj pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/46880ed2fd96...a4078071e0b4" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/46880ed2fd96...a4078071e0b4</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1461669600' id='465964'>
<a class='timestamp' href='#465964'><time timestamp='2016-04-26T11:20:00Z'>11:20</time></a>
&lt;<span class='nick nick-3'> GitHub154</span>&gt;
bitcoin/master 89c844d randy-waterhouse: Re-instate TARGET_OS=linux in configure.ac. Removed by 351abf9e035.
<br>
</div>

<div class='talk op-msg' data-timestamp='1461669600' id='465965'>
<a class='timestamp' href='#465965'><time timestamp='2016-04-26T11:20:00Z'>11:20</time></a>
&lt;<span class='nick nick-3'> GitHub154</span>&gt;
bitcoin/master a407807 Wladimir J. van der Laan: Merge #7944: Re-instate TARGET_OS=linux in configure.ac. Removed by 351abf9e035....
<br>
</div>

<div class='talk op-msg' data-timestamp='1461669600' id='465966'>
<a class='timestamp' href='#465966'><time timestamp='2016-04-26T11:20:00Z'>11:20</time></a>
&lt;<span class='nick nick-9'> GitHub26</span>&gt;
[bitcoin] laanwj closed pull request #7944: Re-instate TARGET_OS=linux in configure.ac. Removed by 351abf9e035. (master...master) <a href="https://github.com/bitcoin/bitcoin/pull/7944" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/7944</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1461669600' id='465967'>
<a class='timestamp' href='#465967'><time timestamp='2016-04-26T11:20:00Z'>11:20</time></a>
&lt;<span class='nick nick-10'> GitHub111</span>&gt;
[bitcoin] laanwj pushed 7 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/a4078071e0b4...c3e3cfb5d1ea" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/a4078071e0b4...c3e3cfb5d1ea</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1461669600' id='465968'>
<a class='timestamp' href='#465968'><time timestamp='2016-04-26T11:20:00Z'>11:20</time></a>
&lt;<span class='nick nick-10'> GitHub111</span>&gt;
bitcoin/master a6666b2 Wladimir J. van der Laan: depends: mac deploy Py3 compatibility...
<br>
</div>

<div class='talk op-msg' data-timestamp='1461669600' id='465969'>
<a class='timestamp' href='#465969'><time timestamp='2016-04-26T11:20:00Z'>11:20</time></a>
&lt;<span class='nick nick-10'> GitHub111</span>&gt;
bitcoin/master 06fdffd Cory Fields: travis: switch to Trusty
<br>
</div>

<div class='talk op-msg' data-timestamp='1461669600' id='465970'>
<a class='timestamp' href='#465970'><time timestamp='2016-04-26T11:20:00Z'>11:20</time></a>
&lt;<span class='nick nick-10'> GitHub111</span>&gt;
bitcoin/master 9267a47 Cory Fields: depends: enable pre-compiled headers for qt...
<br>
</div>

<div class='talk op-msg' data-timestamp='1461669660' id='465971'>
<a class='timestamp' href='#465971'><time timestamp='2016-04-26T11:21:00Z'>11:21</time></a>
&lt;<span class='nick nick-8'> GitHub8</span>&gt;
[bitcoin] laanwj closed pull request #7920: Switch Travis to Trusty (master...travis-trusty) <a href="https://github.com/bitcoin/bitcoin/pull/7920" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/7920</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1461669720' id='465972'>
<a class='timestamp' href='#465972'><time timestamp='2016-04-26T11:22:00Z'>11:22</time></a>
&lt;<span class='nick nick-6'> GitHub0</span>&gt;
[bitcoin] laanwj pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/c3e3cfb5d1ea...0ea394188611" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/c3e3cfb5d1ea...0ea394188611</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1461669720' id='465973'>
<a class='timestamp' href='#465973'><time timestamp='2016-04-26T11:22:00Z'>11:22</time></a>
&lt;<span class='nick nick-6'> GitHub0</span>&gt;
bitcoin/master 62a9abd Chris Stewart: Fixing comment in script_test.json test case
<br>
</div>

<div class='talk op-msg' data-timestamp='1461669720' id='465974'>
<a class='timestamp' href='#465974'><time timestamp='2016-04-26T11:22:00Z'>11:22</time></a>
&lt;<span class='nick nick-6'> GitHub0</span>&gt;
bitcoin/master 0ea3941 Wladimir J. van der Laan: Merge #7941: Fixing comment in script_test.json test case...
<br>
</div>

<div class='talk op-msg' data-timestamp='1461669720' id='465975'>
<a class='timestamp' href='#465975'><time timestamp='2016-04-26T11:22:00Z'>11:22</time></a>
&lt;<span class='nick nick-5'> GitHub188</span>&gt;
[bitcoin] laanwj closed pull request #7941: Fixing comment in script_test.json test case (master...fix_script_test_comment) <a href="https://github.com/bitcoin/bitcoin/pull/7941" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/7941</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1461669780' id='465976'>
<a class='timestamp' href='#465976'><time timestamp='2016-04-26T11:23:00Z'>11:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
do we backport it to 0.12? PRs against 0.12 may be very slow otherwise
<br>
</div>

<div class='talk op-msg' data-timestamp='1461669780' id='465977'>
<a class='timestamp' href='#465977'><time timestamp='2016-04-26T11:23:00Z'>11:23</time></a>
&lt;<span class='nick nick-3'> GitHub135</span>&gt;
[bitcoin] laanwj pushed 6 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/0ea394188611...e26b62093ae2" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/0ea394188611...e26b62093ae2</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1461669780' id='465978'>
<a class='timestamp' href='#465978'><time timestamp='2016-04-26T11:23:00Z'>11:23</time></a>
&lt;<span class='nick nick-3'> GitHub135</span>&gt;
bitcoin/master f8e6fb1 Pieter Wuille: Introduce constant for maximum CScript length
<br>
</div>

<div class='talk op-msg' data-timestamp='1461669780' id='465979'>
<a class='timestamp' href='#465979'><time timestamp='2016-04-26T11:23:00Z'>11:23</time></a>
&lt;<span class='nick nick-3'> GitHub135</span>&gt;
bitcoin/master 4f87af6 Pieter Wuille: Treat overly long scriptPubKeys as unspendable
<br>
</div>

<div class='talk op-msg' data-timestamp='1461669780' id='465980'>
<a class='timestamp' href='#465980'><time timestamp='2016-04-26T11:23:00Z'>11:23</time></a>
&lt;<span class='nick nick-3'> GitHub135</span>&gt;
bitcoin/master 4bf631e Patrick Strateman: CDataStream::ignore Throw exception instead of assert on negative nSize....
<br>
</div>

<div class='talk op-msg' data-timestamp='1461669840' id='465981'>
<a class='timestamp' href='#465981'><time timestamp='2016-04-26T11:24:00Z'>11:24</time></a>
&lt;<span class='nick nick-3'> GitHub86</span>&gt;
[bitcoin] laanwj closed pull request #7933: Fix OOM when deserializing UTXO entries with invalid length (master...fixcompressoroom) <a href="https://github.com/bitcoin/bitcoin/pull/7933" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/7933</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1461669840' id='465982'>
<a class='timestamp' href='#465982'><time timestamp='2016-04-26T11:24:00Z'>11:24</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
sipa, looks like we have to
<br>
</div>

<div class='talk op-msg' data-timestamp='1461669960' id='465983'>
<a class='timestamp' href='#465983'><time timestamp='2016-04-26T11:26:00Z'>11:26</time></a>
&lt;<span class='nick nick-15'> GitHub38</span>&gt;
[bitcoin] laanwj closed pull request #7936: CDataStream::ignore Throw exception instead of assert on negative nSize. (master...2016-04-24-cdatastream-ignore) <a href="https://github.com/bitcoin/bitcoin/pull/7936" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/7936</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1461669960' id='465984'>
<a class='timestamp' href='#465984'><time timestamp='2016-04-26T11:26:00Z'>11:26</time></a>
&lt;<span class='nick nick-6'> btcdrak</span>&gt;
so does this mean we can merge #7165?
<br>
</div>

<div class='talk op-msg' data-timestamp='1461670020' id='465985'>
<a class='timestamp' href='#465985'><time timestamp='2016-04-26T11:27:00Z'>11:27</time></a>
&lt;<span class='nick nick-9'> GitHub157</span>&gt;
[bitcoin] MarcoFalke opened pull request #7945: Revert &quot;travis: temporarily disable qt to avoid timeouts&quot; (master...Mf1604-travisQtCache) <a href="https://github.com/bitcoin/bitcoin/pull/7945" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/7945</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1461670020' id='465986'>
<a class='timestamp' href='#465986'><time timestamp='2016-04-26T11:27:00Z'>11:27</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
let&#x27;s first see if the travis passes btcdrak
<br>
</div>

<div class='talk op-msg' data-timestamp='1461670320' id='465987'>
<a class='timestamp' href='#465987'><time timestamp='2016-04-26T11:32:00Z'>11:32</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
sipa: yes, I think the test changes should be backported to 0.12
<br>
</div>

<div class='talk op-msg' data-timestamp='1461670320' id='465988'>
<a class='timestamp' href='#465988'><time timestamp='2016-04-26T11:32:00Z'>11:32</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
but let&#x27;s make sure it&#x27;s stable on master first
<br>
</div>

<div class='talk op-msg' data-timestamp='1461670320' id='465989'>
<a class='timestamp' href='#465989'><time timestamp='2016-04-26T11:32:00Z'>11:32</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
then do that in one go
<br>
</div>

<div class='talk op-msg' data-timestamp='1461670380' id='465990'>
<a class='timestamp' href='#465990'><time timestamp='2016-04-26T11:33:00Z'>11:33</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
agree
<br>
</div>

<div class='talk op-msg' data-timestamp='1461670380' id='465991'>
<a class='timestamp' href='#465991'><time timestamp='2016-04-26T11:33:00Z'>11:33</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
no hurry for the backports
<br>
</div>

<div class='talk op-msg' data-timestamp='1461672180' id='465992'>
<a class='timestamp' href='#465992'><time timestamp='2016-04-26T12:03:00Z'>12:03</time></a>
&lt;<span class='nick nick-16'> GitHub138</span>&gt;
[bitcoin] jonasschnelli opened pull request #7946: Reduce cs_main locks during ConnectTip/SyncWithWallets (master...2016/04/cs_main_wallet) <a href="https://github.com/bitcoin/bitcoin/pull/7946" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/7946</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1461672840' id='465993'>
<a class='timestamp' href='#465993'><time timestamp='2016-04-26T12:14:00Z'>12:14</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Okay. Am besten nimmst Du dann auch noch Taxi/Zug/Essen kosten obendrauf.
<br>
</div>

<div class='talk op-msg' data-timestamp='1461672840' id='465994'>
<a class='timestamp' href='#465994'><time timestamp='2016-04-26T12:14:00Z'>12:14</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
arg.. wrong window. Sry.
<br>
</div>

<div class='talk op-msg' data-timestamp='1461672840' id='465995'>
<a class='timestamp' href='#465995'><time timestamp='2016-04-26T12:14:00Z'>12:14</time></a>
&lt;<span class='nick nick-10'> GitHub95</span>&gt;
[bitcoin] hmel opened pull request #7947: Global params cleanup (master...global-params-cleanup) <a href="https://github.com/bitcoin/bitcoin/pull/7947" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/7947</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1461673680' id='465996'>
<a class='timestamp' href='#465996'><time timestamp='2016-04-26T12:28:00Z'>12:28</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sipa: during ActivateBestChainStep, connectTip can only be get  the pblock pointer (CBlock* pblock from ActivateBestChainStep()) or NULL? Right?
<br>
</div>

<div class='talk op-msg' data-timestamp='1461673740' id='465997'>
<a class='timestamp' href='#465997'><time timestamp='2016-04-26T12:29:00Z'>12:29</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
So we can only sync the transactions from the block passed into ActivateBestChainStep()?
<br>
</div>

<div class='talk op-msg' data-timestamp='1461673740' id='465998'>
<a class='timestamp' href='#465998'><time timestamp='2016-04-26T12:29:00Z'>12:29</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
heh, no
<br>
</div>

<div class='talk op-msg' data-timestamp='1461673800' id='465999'>
<a class='timestamp' href='#465999'><time timestamp='2016-04-26T12:30:00Z'>12:30</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
activatebestchainstep can activate or deactivate multiple blocks
<br>
</div>

<div class='talk op-msg' data-timestamp='1461673800' id='466000'>
<a class='timestamp' href='#466000'><time timestamp='2016-04-26T12:30:00Z'>12:30</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that pblock is just an optimization
<br>
</div>

<div class='talk op-msg' data-timestamp='1461673800' id='466001'>
<a class='timestamp' href='#466001'><time timestamp='2016-04-26T12:30:00Z'>12:30</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Right!
<br>
</div>

<div class='talk op-msg' data-timestamp='1461673800' id='466002'>
<a class='timestamp' href='#466002'><time timestamp='2016-04-26T12:30:00Z'>12:30</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
There is a ReadBlockFromDisk...
<br>
</div>

<div class='talk op-msg' data-timestamp='1461673800' id='466003'>
<a class='timestamp' href='#466003'><time timestamp='2016-04-26T12:30:00Z'>12:30</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
okay... will fix it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1461673800' id='466004'>
<a class='timestamp' href='#466004'><time timestamp='2016-04-26T12:30:00Z'>12:30</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
so it doesn&#x27;t need to load that specific block again from disk if we already habe it
<br>
</div>

<div class='talk op-msg' data-timestamp='1461673920' id='466005'>
<a class='timestamp' href='#466005'><time timestamp='2016-04-26T12:32:00Z'>12:32</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Right. I think I form a std::list with all relevant transactions... should not exhaust the memory I guess.
<br>
</div>

<div class='talk op-msg' data-timestamp='1461674160' id='466006'>
<a class='timestamp' href='#466006'><time timestamp='2016-04-26T12:36:00Z'>12:36</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
a vector will be more efficient
<br>
</div>

<div class='talk op-msg' data-timestamp='1461674340' id='466007'>
<a class='timestamp' href='#466007'><time timestamp='2016-04-26T12:39:00Z'>12:39</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sipa: because it doesn&#x27;t need to check for duplicates?
<br>
</div>

<div class='talk op-msg' data-timestamp='1461674400' id='466008'>
<a class='timestamp' href='#466008'><time timestamp='2016-04-26T12:40:00Z'>12:40</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
s/for duplicates/if item already exists
<br>
</div>

<div class='talk op-msg' data-timestamp='1461674400' id='466009'>
<a class='timestamp' href='#466009'><time timestamp='2016-04-26T12:40:00Z'>12:40</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
because it doesn&#x27;t need to allocate a new memory block for each item
<br>
</div>

<div class='talk op-msg' data-timestamp='1461674820' id='466010'>
<a class='timestamp' href='#466010'><time timestamp='2016-04-26T12:47:00Z'>12:47</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Arg.. why does the SyncWithWallet signal requires a &quot;const CBlock* pblock&quot;!
<br>
</div>

<div class='talk op-msg' data-timestamp='1461674880' id='466011'>
<a class='timestamp' href='#466011'><time timestamp='2016-04-26T12:48:00Z'>12:48</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
to know which block it came from :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1461674940' id='466012'>
<a class='timestamp' href='#466012'><time timestamp='2016-04-26T12:49:00Z'>12:49</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sipa: But the hash should enough?!
<br>
</div>

<div class='talk op-msg' data-timestamp='1461674940' id='466013'>
<a class='timestamp' href='#466013'><time timestamp='2016-04-26T12:49:00Z'>12:49</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
since we removed the merkle branches, i think that&#x27;s correct
<br>
</div>

<div class='talk op-msg' data-timestamp='1461675000' id='466014'>
<a class='timestamp' href='#466014'><time timestamp='2016-04-26T12:50:00Z'>12:50</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
the only problematic part would be: <a href="https://github.com/bitcoin/bitcoin/blob/master/src/wallet/wallet.cpp#L3288" class="link" target="_blank">https://github.com/bitcoin/bitcoin/blob/master/src/wallet/wallet.cpp#L3288</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1461675060' id='466015'>
<a class='timestamp' href='#466015'><time timestamp='2016-04-26T12:51:00Z'>12:51</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that&#x27;s just a sanity check, i think
<br>
</div>

<div class='talk op-msg' data-timestamp='1461675060' id='466016'>
<a class='timestamp' href='#466016'><time timestamp='2016-04-26T12:51:00Z'>12:51</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
oh, no, it is not
<br>
</div>

<div class='talk op-msg' data-timestamp='1461675060' id='466017'>
<a class='timestamp' href='#466017'><time timestamp='2016-04-26T12:51:00Z'>12:51</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
we could change the signal to pass a CBlockIndex* and the position in the vtx vector
<br>
</div>

<div class='talk op-msg' data-timestamp='1461675060' id='466018'>
<a class='timestamp' href='#466018'><time timestamp='2016-04-26T12:51:00Z'>12:51</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Right!
<br>
</div>

<div class='talk op-msg' data-timestamp='1461675120' id='466019'>
<a class='timestamp' href='#466019'><time timestamp='2016-04-26T12:52:00Z'>12:52</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I try that.
<br>
</div>

<div class='talk op-msg' data-timestamp='1461675540' id='466020'>
<a class='timestamp' href='#466020'><time timestamp='2016-04-26T12:59:00Z'>12:59</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sipa: I think the wallet does not need to know at which position the transaction is in the block. Only if it in a block or not.
<br>
</div>

<div class='talk op-msg' data-timestamp='1461675540' id='466021'>
<a class='timestamp' href='#466021'><time timestamp='2016-04-26T12:59:00Z'>12:59</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I don&#x27;t see a usage of nIndex
<br>
</div>

<div class='talk op-msg' data-timestamp='1461675600' id='466022'>
<a class='timestamp' href='#466022'><time timestamp='2016-04-26T13:00:00Z'>13:00</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
well,... there is one.
<br>
</div>

<div class='talk op-msg' data-timestamp='1461675660' id='466023'>
<a class='timestamp' href='#466023'><time timestamp='2016-04-26T13:01:00Z'>13:01</time></a>
&lt;<span class='nick nick-12'> * jonasschnelli</span>&gt;
hates when touching a single thing results in touching the whole codebase.
<br>
</div>

<div class='talk op-msg' data-timestamp='1461676020' id='466024'>
<a class='timestamp' href='#466024'><time timestamp='2016-04-26T13:07:00Z'>13:07</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jonasschnelli: we use nIndex==-1 to indicate &quot;conflicted&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1461676020' id='466025'>
<a class='timestamp' href='#466025'><time timestamp='2016-04-26T13:07:00Z'>13:07</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
also, it may be useful in the future
<br>
</div>

<div class='talk op-msg' data-timestamp='1461676260' id='466026'>
<a class='timestamp' href='#466026'><time timestamp='2016-04-26T13:11:00Z'>13:11</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sipa: Yes. And we use the position for &quot;merges&quot; <a href="https://github.com/bitcoin/bitcoin/blob/master/src/wallet/wallet.cpp#L715" class="link" target="_blank">https://github.com/bitcoin/bitcoin/blob/master/src/wallet/wallet.cpp#L715</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1461678180' id='466027'>
<a class='timestamp' href='#466027'><time timestamp='2016-04-26T13:43:00Z'>13:43</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I think this should work now as intended: <a href="https://github.com/bitcoin/bitcoin/pull/7946/files" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/7946/files</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1461678180' id='466028'>
<a class='timestamp' href='#466028'><time timestamp='2016-04-26T13:43:00Z'>13:43</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Lets see what travis thinks about it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1461681660' id='466029'>
<a class='timestamp' href='#466029'><time timestamp='2016-04-26T14:41:00Z'>14:41</time></a>
&lt;<span class='nick nick-13'> GitHub176</span>&gt;
[bitcoin] mruddy opened pull request #7948: RPC: add locked_in block hash to getblockchaininfo bip9_softforks data (master...version_bits_locked_in_block) <a href="https://github.com/bitcoin/bitcoin/pull/7948" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/7948</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1461682680' id='466030'>
<a class='timestamp' href='#466030'><time timestamp='2016-04-26T14:58:00Z'>14:58</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
[A
<br>
</div>

<div class='talk op-msg' data-timestamp='1461682680' id='466031'>
<a class='timestamp' href='#466031'><time timestamp='2016-04-26T14:58:00Z'>14:58</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
[A
<br>
</div>

<div class='talk op-msg' data-timestamp='1461682680' id='466032'>
<a class='timestamp' href='#466032'><time timestamp='2016-04-26T14:58:00Z'>14:58</time></a>
&lt;<span class='nick nick-13'> helo</span>&gt;
:D
<br>
</div>

<div class='talk op-msg' data-timestamp='1461684780' id='466033'>
<a class='timestamp' href='#466033'><time timestamp='2016-04-26T15:33:00Z'>15:33</time></a>
&lt;<span class='nick nick-9'> GitHub26</span>&gt;
[bitcoin] jonasschnelli opened pull request #7949: [RPC] Add RPC long poll notifications (master...2016/04/rpc_signals) <a href="https://github.com/bitcoin/bitcoin/pull/7949" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/7949</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1461686160' id='466034'>
<a class='timestamp' href='#466034'><time timestamp='2016-04-26T15:56:00Z'>15:56</time></a>
&lt;<span class='nick nick-6'> btcdrak</span>&gt;
looks like that Travis merge went ok
<br>
</div>

<div class='talk op-msg' data-timestamp='1461686400' id='466035'>
<a class='timestamp' href='#466035'><time timestamp='2016-04-26T16:00:00Z'>16:00</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
btcdrak: yea, but there&#x27;s a big backlog atm :(
<br>
</div>

<div class='talk op-msg' data-timestamp='1461686460' id='466036'>
<a class='timestamp' href='#466036'><time timestamp='2016-04-26T16:01:00Z'>16:01</time></a>
&lt;<span class='nick nick-6'> btcdrak</span>&gt;
cfields: 15 PRs, heh. Do they all need to rebase to take advantage as well?
<br>
</div>

<div class='talk op-msg' data-timestamp='1461686520' id='466037'>
<a class='timestamp' href='#466037'><time timestamp='2016-04-26T16:02:00Z'>16:02</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
btcdrak: no, cache is built now. But anything going into 0.12 will take forever until the travis change is backported.
<br>
</div>

<div class='talk op-msg' data-timestamp='1461686580' id='466038'>
<a class='timestamp' href='#466038'><time timestamp='2016-04-26T16:03:00Z'>16:03</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
I didn&#x27;t think that would be an immediate issue.. should&#x27;ve PR&#x27;d them in parallel
<br>
</div>

<div class='talk op-msg' data-timestamp='1461686640' id='466039'>
<a class='timestamp' href='#466039'><time timestamp='2016-04-26T16:04:00Z'>16:04</time></a>
&lt;<span class='nick nick-6'> btcdrak</span>&gt;
cfields: exciting :) nicely done!
<br>
</div>

<div class='talk op-msg' data-timestamp='1461686700' id='466040'>
<a class='timestamp' href='#466040'><time timestamp='2016-04-26T16:05:00Z'>16:05</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
btcdrak: thanks. Now to work on speeding things up
<br>
</div>

<div class='talk op-msg' data-timestamp='1461686760' id='466041'>
<a class='timestamp' href='#466041'><time timestamp='2016-04-26T16:06:00Z'>16:06</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
MarcoFalke: wasn&#x27;t there some discussion a while back about running the rpc tests in parallel?
<br>
</div>

<div class='talk op-msg' data-timestamp='1461686940' id='466042'>
<a class='timestamp' href='#466042'><time timestamp='2016-04-26T16:09:00Z'>16:09</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
jonasschnelli: I was wishing for a polling interface recently as well. I&#x27;d be curious to know how much it could speed up rpc tests
<br>
</div>

<div class='talk op-msg' data-timestamp='1461687000' id='466043'>
<a class='timestamp' href='#466043'><time timestamp='2016-04-26T16:10:00Z'>16:10</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
cfields: hm... haven&#x27;t though about that. But right, this might be capable of speeding up the tests
<br>
</div>

<div class='talk op-msg' data-timestamp='1461687000' id='466044'>
<a class='timestamp' href='#466044'><time timestamp='2016-04-26T16:10:00Z'>16:10</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
adding now multiple listeners support
<br>
</div>

<div class='talk op-msg' data-timestamp='1461687060' id='466045'>
<a class='timestamp' href='#466045'><time timestamp='2016-04-26T16:11:00Z'>16:11</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
jonasschnelli: all of the tests that constantly ping for blockcount, received tx, etc. There are lots of while(1){wait(0.1)}&#x27;s around, iirc
<br>
</div>

<div class='talk op-msg' data-timestamp='1461687060' id='466046'>
<a class='timestamp' href='#466046'><time timestamp='2016-04-26T16:11:00Z'>16:11</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
cfields: Yes. Would be interesting to see if these could be avoided with the RPC signals pull.
<br>
</div>

<div class='talk op-msg' data-timestamp='1461687120' id='466047'>
<a class='timestamp' href='#466047'><time timestamp='2016-04-26T16:12:00Z'>16:12</time></a>
&lt;<span class='nick nick-10'> GitHub57</span>&gt;
[bitcoin] MarcoFalke opened pull request #7950: [0.12] travis: switch to Trusty (0.12...Mf1604-012travisTrusty) <a href="https://github.com/bitcoin/bitcoin/pull/7950" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/7950</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1461687360' id='466048'>
<a class='timestamp' href='#466048'><time timestamp='2016-04-26T16:16:00Z'>16:16</time></a>
&lt;<span class='nick nick-3'> GitHub25</span>&gt;
[bitcoin] MarcoFalke opened pull request #7951: [qa] test_framework: Properly print exception (master...Mf1604-qaMinorFixes) <a href="https://github.com/bitcoin/bitcoin/pull/7951" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/7951</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1461700380' id='466049'>
<a class='timestamp' href='#466049'><time timestamp='2016-04-26T19:53:00Z'>19:53</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
anyone having problem on testnet with &quot;block is marked invalid&quot; right now?
<br>
</div>

<div class='talk op-msg' data-timestamp='1461700440' id='466050'>
<a class='timestamp' href='#466050'><time timestamp='2016-04-26T19:54:00Z'>19:54</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
my node is not able to finish IBD
<br>
</div>

<div class='talk op-msg' data-timestamp='1461700440' id='466051'>
<a class='timestamp' href='#466051'><time timestamp='2016-04-26T19:54:00Z'>19:54</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
2016-04-26 19:53:40 received: headers (32808 bytes) peer=1
<br>
</div>

<div class='talk op-msg' data-timestamp='1461700440' id='466052'>
<a class='timestamp' href='#466052'><time timestamp='2016-04-26T19:54:00Z'>19:54</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
2016-04-26 19:53:40 ERROR: AcceptBlockHeader: block is marked invalid
<br>
</div>

<div class='talk op-msg' data-timestamp='1461700440' id='466053'>
<a class='timestamp' href='#466053'><time timestamp='2016-04-26T19:54:00Z'>19:54</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
2016-04-26 19:53:40 ERROR: invalid header received
<br>
</div>

<div class='talk op-msg' data-timestamp='1461700440' id='466054'>
<a class='timestamp' href='#466054'><time timestamp='2016-04-26T19:54:00Z'>19:54</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
2016-04-26 19:53:40 ProcessMessages(headers, 32808 bytes) FAILED peer=1
<br>
</div>

<div class='talk op-msg' data-timestamp='1461700680' id='466055'>
<a class='timestamp' href='#466055'><time timestamp='2016-04-26T19:58:00Z'>19:58</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
paveljanik: IBD takes a while if your initial headers sync is from a bad peer (in this case, a peer that is on a chain you think is invalid)
<br>
</div>

<div class='talk op-msg' data-timestamp='1461700680' id='466056'>
<a class='timestamp' href='#466056'><time timestamp='2016-04-26T19:58:00Z'>19:58</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
paveljanik: it should clear up on its own after one of your other peers announces a new block.
<br>
</div>

<div class='talk op-msg' data-timestamp='1461700740' id='466057'>
<a class='timestamp' href='#466057'><time timestamp='2016-04-26T19:59:00Z'>19:59</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
(at least, that&#x27;s my guess)
<br>
</div>

<div class='talk op-msg' data-timestamp='1461700740' id='466058'>
<a class='timestamp' href='#466058'><time timestamp='2016-04-26T19:59:00Z'>19:59</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
ok, I&#x27;ll wait a bit.
<br>
</div>

<div class='talk op-msg' data-timestamp='1461700740' id='466059'>
<a class='timestamp' href='#466059'><time timestamp='2016-04-26T19:59:00Z'>19:59</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
Thanks
<br>
</div>

<div class='talk op-msg' data-timestamp='1461700920' id='466060'>
<a class='timestamp' href='#466060'><time timestamp='2016-04-26T20:02:00Z'>20:02</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
paveljanik: hm.  after slightly more investigation, i don&#x27;t have a good explanation of what you&#x27;re seeing after all -- looks like the bad peer should have been disconnected, and then you should have requested headers from one of your other peers...
<br>
</div>

<div class='talk op-msg' data-timestamp='1461701220' id='466061'>
<a class='timestamp' href='#466061'><time timestamp='2016-04-26T20:07:00Z'>20:07</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
I did disconnect peers one by one
<br>
</div>

<div class='talk op-msg' data-timestamp='1461701220' id='466062'>
<a class='timestamp' href='#466062'><time timestamp='2016-04-26T20:07:00Z'>20:07</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
and now the same for other peer
<br>
</div>

<div class='talk op-msg' data-timestamp='1461701280' id='466063'>
<a class='timestamp' href='#466063'><time timestamp='2016-04-26T20:08:00Z'>20:08</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
interesting
<br>
</div>

<div class='talk op-msg' data-timestamp='1461701280' id='466064'>
<a class='timestamp' href='#466064'><time timestamp='2016-04-26T20:08:00Z'>20:08</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
looks to me like if you have 2 peers on the same bad chain
<br>
</div>

<div class='talk op-msg' data-timestamp='1461701340' id='466065'>
<a class='timestamp' href='#466065'><time timestamp='2016-04-26T20:09:00Z'>20:09</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
and the first one feeds you an invalid header, you&#x27;ll disconnect from it
<br>
</div>

<div class='talk op-msg' data-timestamp='1461701340' id='466066'>
<a class='timestamp' href='#466066'><time timestamp='2016-04-26T20:09:00Z'>20:09</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
but then if the second one feeds the same bad header to you, you&#x27;ll get exactly the error message you pasted, but no disconnect
<br>
</div>

<div class='talk op-msg' data-timestamp='1461701400' id='466067'>
<a class='timestamp' href='#466067'><time timestamp='2016-04-26T20:10:00Z'>20:10</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
that seems unfortunate
<br>
</div>

<div class='talk op-msg' data-timestamp='1461701400' id='466068'>
<a class='timestamp' href='#466068'><time timestamp='2016-04-26T20:10:00Z'>20:10</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
what height are you at?
<br>
</div>

<div class='talk op-msg' data-timestamp='1461701460' id='466069'>
<a class='timestamp' href='#466069'><time timestamp='2016-04-26T20:11:00Z'>20:11</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
787628
<br>
</div>

<div class='talk op-msg' data-timestamp='1461701460' id='466070'>
<a class='timestamp' href='#466070'><time timestamp='2016-04-26T20:11:00Z'>20:11</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
I&#x27;ll print the block hash of the invalid block to the log to see more...
<br>
</div>

<div class='talk op-msg' data-timestamp='1461701520' id='466071'>
<a class='timestamp' href='#466071'><time timestamp='2016-04-26T20:12:00Z'>20:12</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
I&#x27;m at 787628
<br>
</div>

<div class='talk op-msg' data-timestamp='1461701520' id='466072'>
<a class='timestamp' href='#466072'><time timestamp='2016-04-26T20:12:00Z'>20:12</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
checking my logs for invalid block headers...
<br>
</div>

<div class='talk op-msg' data-timestamp='1461701520' id='466073'>
<a class='timestamp' href='#466073'><time timestamp='2016-04-26T20:12:00Z'>20:12</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
and the logged message is: ERROR: AcceptBlockHeader: block 00000000000005354772cb50ea2decd1e9176724c41eb3427197943aea33194e is marked invalid
<br>
</div>

<div class='talk op-msg' data-timestamp='1461701580' id='466074'>
<a class='timestamp' href='#466074'><time timestamp='2016-04-26T20:13:00Z'>20:13</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
this is 787391
<br>
</div>

<div class='talk op-msg' data-timestamp='1461701580' id='466075'>
<a class='timestamp' href='#466075'><time timestamp='2016-04-26T20:13:00Z'>20:13</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
8)
<br>
</div>

<div class='talk op-msg' data-timestamp='1461701580' id='466076'>
<a class='timestamp' href='#466076'><time timestamp='2016-04-26T20:13:00Z'>20:13</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
yeah i see a big invalidchainfound message about that
<br>
</div>

<div class='talk op-msg' data-timestamp='1461701820' id='466077'>
<a class='timestamp' href='#466077'><time timestamp='2016-04-26T20:17:00Z'>20:17</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
looks like maybe the chain forked after CSV deployed on testnet
<br>
</div>

<div class='talk op-msg' data-timestamp='1461701820' id='466078'>
<a class='timestamp' href='#466078'><time timestamp='2016-04-26T20:17:00Z'>20:17</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
ERROR: ConnectBlock: contains a non-BIP68-final transaction
<br>
</div>

<div class='talk op-msg' data-timestamp='1461701880' id='466079'>
<a class='timestamp' href='#466079'><time timestamp='2016-04-26T20:18:00Z'>20:18</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
sounds like you need some 0.12.1 peers...
<br>
</div>

<div class='talk op-msg' data-timestamp='1461701940' id='466080'>
<a class='timestamp' href='#466080'><time timestamp='2016-04-26T20:19:00Z'>20:19</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
8) OK, I&#x27;ll disconnect all nodes but 0.12.99
<br>
</div>

<div class='talk op-msg' data-timestamp='1461702060' id='466081'>
<a class='timestamp' href='#466081'><time timestamp='2016-04-26T20:21:00Z'>20:21</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
looks like everyone moved from testnet to segnets ;-)
<br>
</div>

<div class='talk op-msg' data-timestamp='1461702060' id='466082'>
<a class='timestamp' href='#466082'><time timestamp='2016-04-26T20:21:00Z'>20:21</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
heh maybe!
<br>
</div>

<div class='talk op-msg' data-timestamp='1461702360' id='466083'>
<a class='timestamp' href='#466083'><time timestamp='2016-04-26T20:26:00Z'>20:26</time></a>
&lt;<span class='nick nick-2'> GitHub9</span>&gt;
[bitcoin] paveljanik opened pull request #7952: Log invalid block hash to make debugging easier. (master...20160426_Log_invalid_block) <a href="https://github.com/bitcoin/bitcoin/pull/7952" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/7952</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1461705780' id='466084'>
<a class='timestamp' href='#466084'><time timestamp='2016-04-26T21:23:00Z'>21:23</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
Shouldn&#x27;t this be a INVALID_STACK_OPERATION instead of a BAD_OPCODE?
<br>
</div>

<div class='talk op-msg' data-timestamp='1461705780' id='466085'>
<a class='timestamp' href='#466085'><time timestamp='2016-04-26T21:23:00Z'>21:23</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/blob/master/src/test/data/script_tests.json#L719" class="link" target="_blank">https://github.com/bitcoin/bitcoin/blob/master/src/test/data/script_tests.json#L719</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1461709200' id='466086'>
<a class='timestamp' href='#466086'><time timestamp='2016-04-26T22:20:00Z'>22:20</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
also, are there not any CHECKSEQUENCEVERIFY tests inside of script_tests?
<br>
</div>

</div>
</section>

</body>
</html>
