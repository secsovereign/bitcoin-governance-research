<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2016-09-29
 â€” 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2016-09-29' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:25 UTC</pre>
<pre><a href="/bitcoin-core-dev/2016-08-29">&lt;</a><span class='header'>  September 2016  </span><a href="/bitcoin-core-dev/2016-10-29">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;             <a class="" href="/bitcoin-core-dev/2016-09-01">1</a>  <a class="" href="/bitcoin-core-dev/2016-09-02">2</a>  <a class="" href="/bitcoin-core-dev/2016-09-03">3</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2016-09-04">4</a>  <a class="" href="/bitcoin-core-dev/2016-09-05">5</a>  <a class="" href="/bitcoin-core-dev/2016-09-06">6</a>  <a class="" href="/bitcoin-core-dev/2016-09-07">7</a>  <a class="" href="/bitcoin-core-dev/2016-09-08">8</a>  <a class="" href="/bitcoin-core-dev/2016-09-09">9</a> <a class="" href="/bitcoin-core-dev/2016-09-10">10</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2016-09-11">11</a> <a class="" href="/bitcoin-core-dev/2016-09-12">12</a> <a class="" href="/bitcoin-core-dev/2016-09-13">13</a> <a class="" href="/bitcoin-core-dev/2016-09-14">14</a> <a class="" href="/bitcoin-core-dev/2016-09-15">15</a> <a class="" href="/bitcoin-core-dev/2016-09-16">16</a> <a class="" href="/bitcoin-core-dev/2016-09-17">17</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2016-09-18">18</a> <a class="" href="/bitcoin-core-dev/2016-09-19">19</a> <a class="" href="/bitcoin-core-dev/2016-09-20">20</a> <a class="" href="/bitcoin-core-dev/2016-09-21">21</a> <a class="" href="/bitcoin-core-dev/2016-09-22">22</a> <a class="" href="/bitcoin-core-dev/2016-09-23">23</a> <a class="" href="/bitcoin-core-dev/2016-09-24">24</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2016-09-25">25</a> <a class="" href="/bitcoin-core-dev/2016-09-26">26</a> <a class="" href="/bitcoin-core-dev/2016-09-27">27</a> <a class="" href="/bitcoin-core-dev/2016-09-28">28</a> <a class="current" href="/bitcoin-core-dev/2016-09-29">29</a> <a class="" href="/bitcoin-core-dev/2016-09-30">30</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1475128680' id='497234'>
<a class='timestamp' href='#497234'><time timestamp='2016-09-29T05:58:00Z'>05:58</time></a>
&lt;<span class='nick nick-8'> GitHub190</span>&gt;
[bitcoin] laanwj pushed 5 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/dc641415e75e...d675984fdfa4" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/dc641415e75e...d675984fdfa4</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1475128680' id='497235'>
<a class='timestamp' href='#497235'><time timestamp='2016-09-29T05:58:00Z'>05:58</time></a>
&lt;<span class='nick nick-8'> GitHub190</span>&gt;
bitcoin/master f4dffdd Luke Dashjr: Add MIT license to Makefiles
<br>
</div>

<div class='talk op-msg' data-timestamp='1475128680' id='497236'>
<a class='timestamp' href='#497236'><time timestamp='2016-09-29T05:58:00Z'>05:58</time></a>
&lt;<span class='nick nick-8'> GitHub190</span>&gt;
bitcoin/master 3b4b6dc Luke Dashjr: Add MIT license to autogen.sh and share/genbuild.sh
<br>
</div>

<div class='talk op-msg' data-timestamp='1475128680' id='497237'>
<a class='timestamp' href='#497237'><time timestamp='2016-09-29T05:58:00Z'>05:58</time></a>
&lt;<span class='nick nick-8'> GitHub190</span>&gt;
bitcoin/master 3f8a5d8 Luke Dashjr: Trivial: build-aux/m4/l_atomic: Fix typo
<br>
</div>

<div class='talk op-msg' data-timestamp='1475128680' id='497238'>
<a class='timestamp' href='#497238'><time timestamp='2016-09-29T05:58:00Z'>05:58</time></a>
&lt;<span class='nick nick-5'> GitHub162</span>&gt;
[bitcoin] laanwj closed pull request #8784: Copyright headers for build scripts (master...license_build) <a href="https://github.com/bitcoin/bitcoin/pull/8784" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8784</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1475128860' id='497239'>
<a class='timestamp' href='#497239'><time timestamp='2016-09-29T06:01:00Z'>06:01</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
this is strange, <a href="https://github.com/bitcoin/bitcoin/pull/8832" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8832</a>   &quot;waxmihs2902 approved these changes 10 hours ago&quot;   clicking on that users name gives a 404 page
<br>
</div>

<div class='talk op-msg' data-timestamp='1475128980' id='497240'>
<a class='timestamp' href='#497240'><time timestamp='2016-09-29T06:03:00Z'>06:03</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
User deleted himself?
<br>
</div>

<div class='talk op-msg' data-timestamp='1475128980' id='497241'>
<a class='timestamp' href='#497241'><time timestamp='2016-09-29T06:03:00Z'>06:03</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I guess
<br>
</div>

<div class='talk op-msg' data-timestamp='1475129040' id='497242'>
<a class='timestamp' href='#497242'><time timestamp='2016-09-29T06:04:00Z'>06:04</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
or github deleted him
<br>
</div>

<div class='talk op-msg' data-timestamp='1475129160' id='497243'>
<a class='timestamp' href='#497243'><time timestamp='2016-09-29T06:06:00Z'>06:06</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
as it is impossible to remove approvals, random-approval-spamming trolls wouldn&#x27;t be unthinkable. Note that for normal posts, the user gets changed to &#x27;ghost&#x27; if they disappear, so the link doesn&#x27;t break.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475129280' id='497244'>
<a class='timestamp' href='#497244'><time timestamp='2016-09-29T06:08:00Z'>06:08</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
I think the approval stuff is half-baked...
<br>
</div>

<div class='talk op-msg' data-timestamp='1475129340' id='497245'>
<a class='timestamp' href='#497245'><time timestamp='2016-09-29T06:09:00Z'>06:09</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
So maybe someone is trying DoS on us...
<br>
</div>

<div class='talk op-msg' data-timestamp='1475129340' id='497246'>
<a class='timestamp' href='#497246'><time timestamp='2016-09-29T06:09:00Z'>06:09</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it&#x27;s only on one issue AFAIK, so I doubt it&#x27;d be targetted on us :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1475129400' id='497247'>
<a class='timestamp' href='#497247'><time timestamp='2016-09-29T06:10:00Z'>06:10</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
./DoS ... and then while :; do ./DoS; done ;-)
<br>
</div>

<div class='talk op-msg' data-timestamp='1475129400' id='497248'>
<a class='timestamp' href='#497248'><time timestamp='2016-09-29T06:10:00Z'>06:10</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
or they got caught <b>*really*</b> early; more likely such a troll/bot would just randomly approve pulls all over the site 
<br>
</div>

<div class='talk op-msg' data-timestamp='1475129460' id='497249'>
<a class='timestamp' href='#497249'><time timestamp='2016-09-29T06:11:00Z'>06:11</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
wumpus, search for the username on the github...
<br>
</div>

<div class='talk op-msg' data-timestamp='1475129460' id='497250'>
<a class='timestamp' href='#497250'><time timestamp='2016-09-29T06:11:00Z'>06:11</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
complete github...
<br>
</div>

<div class='talk op-msg' data-timestamp='1475129520' id='497251'>
<a class='timestamp' href='#497251'><time timestamp='2016-09-29T06:12:00Z'>06:12</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
luckily they didn&#x27;t add a message, the message added with review approval is also un-removable/un-editable IIRC
<br>
</div>

<div class='talk op-msg' data-timestamp='1475129520' id='497252'>
<a class='timestamp' href='#497252'><time timestamp='2016-09-29T06:12:00Z'>06:12</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes its half-baked :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1475129520' id='497253'>
<a class='timestamp' href='#497253'><time timestamp='2016-09-29T06:12:00Z'>06:12</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I&#x27;m sure they&#x27;ll fix this eventually
<br>
</div>

<div class='talk op-msg' data-timestamp='1475129580' id='497254'>
<a class='timestamp' href='#497254'><time timestamp='2016-09-29T06:13:00Z'>06:13</time></a>
&lt;<span class='nick nick-12'> GitHub131</span>&gt;
[bitcoin] laanwj pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/d675984fdfa4...7d563cc16d64" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/d675984fdfa4...7d563cc16d64</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1475129580' id='497255'>
<a class='timestamp' href='#497255'><time timestamp='2016-09-29T06:13:00Z'>06:13</time></a>
&lt;<span class='nick nick-12'> GitHub131</span>&gt;
bitcoin/master fa05cfd MarcoFalke: [rpc] throw JSONRPCError when utxo set can not be read
<br>
</div>

<div class='talk op-msg' data-timestamp='1475129580' id='497256'>
<a class='timestamp' href='#497256'><time timestamp='2016-09-29T06:13:00Z'>06:13</time></a>
&lt;<span class='nick nick-12'> GitHub131</span>&gt;
bitcoin/master 7d563cc Wladimir J. van der Laan: Merge #8832: [rpc] throw JSONRPCError when utxo set can not be read...
<br>
</div>

<div class='talk op-msg' data-timestamp='1475129580' id='497257'>
<a class='timestamp' href='#497257'><time timestamp='2016-09-29T06:13:00Z'>06:13</time></a>
&lt;<span class='nick nick-13'> GitHub93</span>&gt;
[bitcoin] laanwj closed pull request #8832: [rpc] throw JSONRPCError when utxo set can not be read (master...Mf1610-rpcUtxoFail) <a href="https://github.com/bitcoin/bitcoin/pull/8832" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8832</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1475133540' id='497258'>
<a class='timestamp' href='#497258'><time timestamp='2016-09-29T07:19:00Z'>07:19</time></a>
&lt;<span class='nick nick-16'> GitHub3</span>&gt;
[bitcoin] laanwj pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/7d563cc16d64...489a6ab5073c" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/7d563cc16d64...489a6ab5073c</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1475133540' id='497259'>
<a class='timestamp' href='#497259'><time timestamp='2016-09-29T07:19:00Z'>07:19</time></a>
&lt;<span class='nick nick-16'> GitHub3</span>&gt;
bitcoin/master 64047f8 Wladimir J. van der Laan: depends: Add libevent compatibility patch for windows...
<br>
</div>

<div class='talk op-msg' data-timestamp='1475133540' id='497260'>
<a class='timestamp' href='#497260'><time timestamp='2016-09-29T07:19:00Z'>07:19</time></a>
&lt;<span class='nick nick-16'> GitHub3</span>&gt;
bitcoin/master 489a6ab Wladimir J. van der Laan: Merge #8730: depends: Add libevent compatibility patch for windows...
<br>
</div>

<div class='talk op-msg' data-timestamp='1475133540' id='497261'>
<a class='timestamp' href='#497261'><time timestamp='2016-09-29T07:19:00Z'>07:19</time></a>
&lt;<span class='nick nick-8'> GitHub165</span>&gt;
[bitcoin] laanwj closed pull request #8730: depends: Add libevent compatibility patch for windows (master...2016_09_libevent_windows_gcc_531) <a href="https://github.com/bitcoin/bitcoin/pull/8730" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8730</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1475133660' id='497262'>
<a class='timestamp' href='#497262'><time timestamp='2016-09-29T07:21:00Z'>07:21</time></a>
&lt;<span class='nick nick-5'> GitHub162</span>&gt;
[bitcoin] laanwj closed pull request #7522: Bugfix: Only use git for build info if the repository is actually the right one (master...bugfix_gitdir) <a href="https://github.com/bitcoin/bitcoin/pull/7522" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/7522</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1475133840' id='497263'>
<a class='timestamp' href='#497263'><time timestamp='2016-09-29T07:24:00Z'>07:24</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
cfields_: I&#x27;ve assigned some build-system issues to you, hope you don&#x27;t mind
<br>
</div>

<div class='talk op-msg' data-timestamp='1475139000' id='497264'>
<a class='timestamp' href='#497264'><time timestamp='2016-09-29T08:50:00Z'>08:50</time></a>
&lt;<span class='nick nick-5'> GitHub87</span>&gt;
[bitcoin] MarcoFalke pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/489a6ab5073c...8ca69a2a88a7" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/489a6ab5073c...8ca69a2a88a7</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1475139000' id='497265'>
<a class='timestamp' href='#497265'><time timestamp='2016-09-29T08:50:00Z'>08:50</time></a>
&lt;<span class='nick nick-5'> GitHub87</span>&gt;
bitcoin/master 54e5d7c jnewbery: Add bitcoin-tx JSON tests
<br>
</div>

<div class='talk op-msg' data-timestamp='1475139000' id='497266'>
<a class='timestamp' href='#497266'><time timestamp='2016-09-29T08:50:00Z'>08:50</time></a>
&lt;<span class='nick nick-5'> GitHub87</span>&gt;
bitcoin/master 8ca69a2 MarcoFalke: Merge #8829: Add bitcoin-tx JSON tests...
<br>
</div>

<div class='talk op-msg' data-timestamp='1475139060' id='497267'>
<a class='timestamp' href='#497267'><time timestamp='2016-09-29T08:51:00Z'>08:51</time></a>
&lt;<span class='nick nick-12'> GitHub21</span>&gt;
[bitcoin] MarcoFalke closed pull request #8829: Add bitcoin-tx JSON tests (master...test-bitcoin-tx-json) <a href="https://github.com/bitcoin/bitcoin/pull/8829" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8829</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1475139600' id='497268'>
<a class='timestamp' href='#497268'><time timestamp='2016-09-29T09:00:00Z'>09:00</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
weird, I&#x27;m on testnet and trying to rebroadcast a transaction using &quot;sendrawtransaction&quot; but it&#x27;s not working, I don&#x27;t see anything appear in my wireshark session
<br>
</div>

<div class='talk op-msg' data-timestamp='1475139660' id='497269'>
<a class='timestamp' href='#497269'><time timestamp='2016-09-29T09:01:00Z'>09:01</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
maybe all the current nodes already know of it, otoh the &quot;broadcast through 1 node(s)&quot; in status doesn&#x27;t increase either
<br>
</div>

<div class='talk op-msg' data-timestamp='1475139780' id='497270'>
<a class='timestamp' href='#497270'><time timestamp='2016-09-29T09:03:00Z'>09:03</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
could it be that your peers knew about it, but evicted it?
<br>
</div>

<div class='talk op-msg' data-timestamp='1475139780' id='497271'>
<a class='timestamp' href='#497271'><time timestamp='2016-09-29T09:03:00Z'>09:03</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
but for they they&#x27;d have to request it first
<br>
</div>

<div class='talk op-msg' data-timestamp='1475139840' id='497272'>
<a class='timestamp' href='#497272'><time timestamp='2016-09-29T09:04:00Z'>09:04</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
What about resendwallettransactions
<br>
</div>

<div class='talk op-msg' data-timestamp='1475139840' id='497273'>
<a class='timestamp' href='#497273'><time timestamp='2016-09-29T09:04:00Z'>09:04</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
not necessarily from you
<br>
</div>

<div class='talk op-msg' data-timestamp='1475139900' id='497274'>
<a class='timestamp' href='#497274'><time timestamp='2016-09-29T09:05:00Z'>09:05</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
MarcoFalke: this should work with sendrawtransaction
<br>
</div>

<div class='talk op-msg' data-timestamp='1475139900' id='497275'>
<a class='timestamp' href='#497275'><time timestamp='2016-09-29T09:05:00Z'>09:05</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
could be that the net refactoring work changed the assumptions, will add some debugging...
<br>
</div>

<div class='talk op-msg' data-timestamp='1475139960' id='497276'>
<a class='timestamp' href='#497276'><time timestamp='2016-09-29T09:06:00Z'>09:06</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i don&#x27;t think so
<br>
</div>

<div class='talk op-msg' data-timestamp='1475139960' id='497277'>
<a class='timestamp' href='#497277'><time timestamp='2016-09-29T09:06:00Z'>09:06</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
its a noop when fHaveMempool?
<br>
</div>

<div class='talk op-msg' data-timestamp='1475140020' id='497278'>
<a class='timestamp' href='#497278'><time timestamp='2016-09-29T09:07:00Z'>09:07</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
no     
<br>
</div>

<div class='talk op-msg' data-timestamp='1475140020' id='497279'>
<a class='timestamp' href='#497279'><time timestamp='2016-09-29T09:07:00Z'>09:07</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I don&#x27;t hope so
<br>
</div>

<div class='talk op-msg' data-timestamp='1475140020' id='497280'>
<a class='timestamp' href='#497280'><time timestamp='2016-09-29T09:07:00Z'>09:07</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
sendrawtransaction will only put in in your mempool
<br>
</div>

<div class='talk op-msg' data-timestamp='1475140020' id='497281'>
<a class='timestamp' href='#497281'><time timestamp='2016-09-29T09:07:00Z'>09:07</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and then loop over all peers 
<br>
</div>

<div class='talk op-msg' data-timestamp='1475140020' id='497282'>
<a class='timestamp' href='#497282'><time timestamp='2016-09-29T09:07:00Z'>09:07</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and call PushInventory
<br>
</div>

<div class='talk op-msg' data-timestamp='1475140020' id='497283'>
<a class='timestamp' href='#497283'><time timestamp='2016-09-29T09:07:00Z'>09:07</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
oh     
<br>
</div>

<div class='talk op-msg' data-timestamp='1475140080' id='497284'>
<a class='timestamp' href='#497284'><time timestamp='2016-09-29T09:08:00Z'>09:08</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but PushInventory is a noop if filterInventoryKnown for that peer already contains the tx
<br>
</div>

<div class='talk op-msg' data-timestamp='1475140140' id='497285'>
<a class='timestamp' href='#497285'><time timestamp='2016-09-29T09:09:00Z'>09:09</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
but it can&#x27;t be there unless the peer requested it from *us*right?
<br>
</div>

<div class='talk op-msg' data-timestamp='1475140140' id='497286'>
<a class='timestamp' href='#497286'><time timestamp='2016-09-29T09:09:00Z'>09:09</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
hm or if they inved it for relay to us, I guess
<br>
</div>

<div class='talk op-msg' data-timestamp='1475140200' id='497287'>
<a class='timestamp' href='#497287'><time timestamp='2016-09-29T09:10:00Z'>09:10</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I don&#x27;t have a capture of the whole session so we&#x27;ll never know for sure
<br>
</div>

<div class='talk op-msg' data-timestamp='1475140200' id='497288'>
<a class='timestamp' href='#497288'><time timestamp='2016-09-29T09:10:00Z'>09:10</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
well you can enable -debug=net and see if any messages go out in response to sendrawtransaction
<br>
</div>

<div class='talk op-msg' data-timestamp='1475140200' id='497289'>
<a class='timestamp' href='#497289'><time timestamp='2016-09-29T09:10:00Z'>09:10</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
oh     
<br>
</div>

<div class='talk op-msg' data-timestamp='1475140260' id='497290'>
<a class='timestamp' href='#497290'><time timestamp='2016-09-29T09:11:00Z'>09:11</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
you&#x27;re already doing that
<br>
</div>

<div class='talk op-msg' data-timestamp='1475140260' id='497291'>
<a class='timestamp' href='#497291'><time timestamp='2016-09-29T09:11:00Z'>09:11</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
no, no messages went out
<br>
</div>

<div class='talk op-msg' data-timestamp='1475140260' id='497292'>
<a class='timestamp' href='#497292'><time timestamp='2016-09-29T09:11:00Z'>09:11</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
and according to the tx metadata apparently one peer ever requested the transaction
<br>
</div>

<div class='talk op-msg' data-timestamp='1475140260' id='497293'>
<a class='timestamp' href='#497293'><time timestamp='2016-09-29T09:11:00Z'>09:11</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
but that was before I started logging
<br>
</div>

<div class='talk op-msg' data-timestamp='1475140380' id='497294'>
<a class='timestamp' href='#497294'><time timestamp='2016-09-29T09:13:00Z'>09:13</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it could also be that that counter is broken, of course, I don&#x27;t think that functionality is tested anywhere it&#x27;s UI only
<br>
</div>

<div class='talk op-msg' data-timestamp='1475141580' id='497295'>
<a class='timestamp' href='#497295'><time timestamp='2016-09-29T09:33:00Z'>09:33</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
ok, seems the behaviour was correct. After restart the transaction is no longer in the filter, so I do sendrawtransaction again, it sends out an inv to every node.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475141580' id='497296'>
<a class='timestamp' href='#497296'><time timestamp='2016-09-29T09:33:00Z'>09:33</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i wonder if we should add some random memory/cpu intensive task occasionally during block validation (so it doesn&#x27;t consume more than 1% cpu rate or so)
<br>
</div>

<div class='talk op-msg' data-timestamp='1475141580' id='497297'>
<a class='timestamp' href='#497297'><time timestamp='2016-09-29T09:33:00Z'>09:33</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and if that fails, tell the user their hardware is too unreliable
<br>
</div>

<div class='talk op-msg' data-timestamp='1475141580' id='497298'>
<a class='timestamp' href='#497298'><time timestamp='2016-09-29T09:33:00Z'>09:33</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes, some games have that, it&#x27;s not a bad idea
<br>
</div>

<div class='talk op-msg' data-timestamp='1475141580' id='497299'>
<a class='timestamp' href='#497299'><time timestamp='2016-09-29T09:33:00Z'>09:33</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it allows distinguishing bugs from hw failures
<br>
</div>

<div class='talk op-msg' data-timestamp='1475141640' id='497300'>
<a class='timestamp' href='#497300'><time timestamp='2016-09-29T09:34:00Z'>09:34</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
we have the same problem, &#x27;support&#x27; is overflowed with issues that are probably hw failures but we can&#x27;t be sure so it wastes a lot of time
<br>
</div>

<div class='talk op-msg' data-timestamp='1475141880' id='497301'>
<a class='timestamp' href='#497301'><time timestamp='2016-09-29T09:38:00Z'>09:38</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
We could ask users for the result of bitcoind -sanitychecks or something if we suspect HW issue...
<br>
</div>

<div class='talk op-msg' data-timestamp='1475141940' id='497302'>
<a class='timestamp' href='#497302'><time timestamp='2016-09-29T09:39:00Z'>09:39</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
paveljanik: the problem is that such a sanitycheck would need to run for several hours or so to be reliable
<br>
</div>

<div class='talk op-msg' data-timestamp='1475142000' id='497303'>
<a class='timestamp' href='#497303'><time timestamp='2016-09-29T09:40:00Z'>09:40</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
sure, but 90% rule...
<br>
</div>

<div class='talk op-msg' data-timestamp='1475142000' id='497304'>
<a class='timestamp' href='#497304'><time timestamp='2016-09-29T09:40:00Z'>09:40</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
if a failure is detectable within minutes, it also means their block validation like fails within minutes
<br>
</div>

<div class='talk op-msg' data-timestamp='1475142000' id='497305'>
<a class='timestamp' href='#497305'><time timestamp='2016-09-29T09:40:00Z'>09:40</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and many other things
<br>
</div>

<div class='talk op-msg' data-timestamp='1475142060' id='497306'>
<a class='timestamp' href='#497306'><time timestamp='2016-09-29T09:41:00Z'>09:41</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
most random failure i hear about happen after several hours of sync
<br>
</div>

<div class='talk op-msg' data-timestamp='1475142120' id='497307'>
<a class='timestamp' href='#497307'><time timestamp='2016-09-29T09:42:00Z'>09:42</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
the sanity check definitely needs to run automatically and periodically for it to be useful
<br>
</div>

<div class='talk op-msg' data-timestamp='1475142120' id='497308'>
<a class='timestamp' href='#497308'><time timestamp='2016-09-29T09:42:00Z'>09:42</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
because otherwise it won&#x27;t run in the right conditinos
<br>
</div>

<div class='talk op-msg' data-timestamp='1475142180' id='497309'>
<a class='timestamp' href='#497309'><time timestamp='2016-09-29T09:43:00Z'>09:43</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
we should start selling a hardware quality certificates: has synced the bitcoin block chain succesfully
<br>
</div>

<div class='talk op-msg' data-timestamp='1475142180' id='497310'>
<a class='timestamp' href='#497310'><time timestamp='2016-09-29T09:43:00Z'>09:43</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
if it can do that, it won&#x27;t crash on games either. Well. Maybe after GPU secp256k1 verification is implemented ;)
<br>
</div>

<div class='talk op-msg' data-timestamp='1475142240' id='497311'>
<a class='timestamp' href='#497311'><time timestamp='2016-09-29T09:44:00Z'>09:44</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
maybe we should instead just market secp256k1 asics
<br>
</div>

<div class='talk op-msg' data-timestamp='1475142300' id='497312'>
<a class='timestamp' href='#497312'><time timestamp='2016-09-29T09:45:00Z'>09:45</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
would be a very interesting project if there&#x27;s a market for that
<br>
</div>

<div class='talk op-msg' data-timestamp='1475142360' id='497313'>
<a class='timestamp' href='#497313'><time timestamp='2016-09-29T09:46:00Z'>09:46</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
hm, scrap that. THe market for that is key-cracking :(
<br>
</div>

<div class='talk op-msg' data-timestamp='1475142600' id='497314'>
<a class='timestamp' href='#497314'><time timestamp='2016-09-29T09:50:00Z'>09:50</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
searching around a bit, apparently, many people <b>*started*</b> on a verilog/vhdl FPGA implementation of secp256k1, but there&#x27;s no code to be found anywhere
<br>
</div>

<div class='talk op-msg' data-timestamp='1475143080' id='497315'>
<a class='timestamp' href='#497315'><time timestamp='2016-09-29T09:58:00Z'>09:58</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I&#x27;m pleasantly surprised how well the wireshark dissector for the bitcoin protocol works, can just do &quot;tcp port 18333&quot; then use a display filter of &quot;bitcoin&quot; and gets a running list of bitcoin packets easy to inspect using the tree structure
<br>
</div>

<div class='talk op-msg' data-timestamp='1475143260' id='497316'>
<a class='timestamp' href='#497316'><time timestamp='2016-09-29T10:01:00Z'>10:01</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
compared to trying to mentally parse debug.log output this is a breeze
<br>
</div>

<div class='talk op-msg' data-timestamp='1475143320' id='497317'>
<a class='timestamp' href='#497317'><time timestamp='2016-09-29T10:02:00Z'>10:02</time></a>
&lt;<span class='nick nick-4'> waxwing</span>&gt;
wumpus: they&#x27;ve had that dissector for years, i remember being pleasantly surprised in like 2013/14
<br>
</div>

<div class='talk op-msg' data-timestamp='1475143320' id='497318'>
<a class='timestamp' href='#497318'><time timestamp='2016-09-29T10:02:00Z'>10:02</time></a>
&lt;<span class='nick nick-4'> waxwing</span>&gt;
not that i need it or anything, but it&#x27;s cool :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1475143320' id='497319'>
<a class='timestamp' href='#497319'><time timestamp='2016-09-29T10:02:00Z'>10:02</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yeah yeah it&#x27;s probably not new
<br>
</div>

<div class='talk op-msg' data-timestamp='1475143380' id='497320'>
<a class='timestamp' href='#497320'><time timestamp='2016-09-29T10:03:00Z'>10:03</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
but just in case someone didn&#x27;t discover it 20 years ago yet, there you go...
<br>
</div>

<div class='talk op-msg' data-timestamp='1475143380' id='497321'>
<a class='timestamp' href='#497321'><time timestamp='2016-09-29T10:03:00Z'>10:03</time></a>
&lt;<span class='nick nick-4'> waxwing</span>&gt;
sorry wasn&#x27;t trying to be a hipster :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1475143380' id='497322'>
<a class='timestamp' href='#497322'><time timestamp='2016-09-29T10:03:00Z'>10:03</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
:-)     
<br>
</div>

<div class='talk op-msg' data-timestamp='1475143380' id='497323'>
<a class='timestamp' href='#497323'><time timestamp='2016-09-29T10:03:00Z'>10:03</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
damn. i believe this is a blocker for bip151.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475143440' id='497324'>
<a class='timestamp' href='#497324'><time timestamp='2016-09-29T10:04:00Z'>10:04</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
agree sipa
<br>
</div>

<div class='talk op-msg' data-timestamp='1475143680' id='497325'>
<a class='timestamp' href='#497325'><time timestamp='2016-09-29T10:08:00Z'>10:08</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
though it is possible to have dissectors with parameters, such as a key, but it&#x27;s so much less user friendly!
<br>
</div>

<div class='talk op-msg' data-timestamp='1475143920' id='497326'>
<a class='timestamp' href='#497326'><time timestamp='2016-09-29T10:12:00Z'>10:12</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
a more practical way to go at this, post-bip151, would be add functionality to dump packets to disk after decryption on receive and before encryption on send, it&#x27;s for debugging anyhow not snooping
<br>
</div>

<div class='talk op-msg' data-timestamp='1475144040' id='497327'>
<a class='timestamp' href='#497327'><time timestamp='2016-09-29T10:14:00Z'>10:14</time></a>
&lt;<span class='nick nick-4'> waxwing</span>&gt;
iirc there are per-dissector settings, for ssl you can enter the session key there etc.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475144040' id='497328'>
<a class='timestamp' href='#497328'><time timestamp='2016-09-29T10:14:00Z'>10:14</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes     
<br>
</div>

<div class='talk op-msg' data-timestamp='1475144040' id='497329'>
<a class='timestamp' href='#497329'><time timestamp='2016-09-29T10:14:00Z'>10:14</time></a>
&lt;<span class='nick nick-4'> waxwing</span>&gt;
there&#x27;s an env variable you can set when running firefox that dumps the keys for you, and you can import it in
<br>
</div>

<div class='talk op-msg' data-timestamp='1475144040' id='497330'>
<a class='timestamp' href='#497330'><time timestamp='2016-09-29T10:14:00Z'>10:14</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
implementing bip151 in wireshark will be fu 
<br>
</div>

<div class='talk op-msg' data-timestamp='1475144040' id='497331'>
<a class='timestamp' href='#497331'><time timestamp='2016-09-29T10:14:00Z'>10:14</time></a>
&lt;<span class='nick nick-4'> waxwing</span>&gt;
and chrome i think
<br>
</div>

<div class='talk op-msg' data-timestamp='1475144040' id='497332'>
<a class='timestamp' href='#497332'><time timestamp='2016-09-29T10:14:00Z'>10:14</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
waxwing: but if you deal with lots of different sessions, or sessions that are created on the fly
<br>
</div>

<div class='talk op-msg' data-timestamp='1475144100' id='497333'>
<a class='timestamp' href='#497333'><time timestamp='2016-09-29T10:15:00Z'>10:15</time></a>
&lt;<span class='nick nick-4'> waxwing</span>&gt;
right, which i guess might be of particular import in your case (/me hasn&#x27;t read bip151 tho)
<br>
</div>

<div class='talk op-msg' data-timestamp='1475144100' id='497334'>
<a class='timestamp' href='#497334'><time timestamp='2016-09-29T10:15:00Z'>10:15</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it&#x27;s certainly possible, the only remark I was making was in regard to what was the most practical way :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1475144160' id='497335'>
<a class='timestamp' href='#497335'><time timestamp='2016-09-29T10:16:00Z'>10:16</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
one advantage of doing the decryption in the dissector would be that it could detect crypto problems
<br>
</div>

<div class='talk op-msg' data-timestamp='1475144280' id='497336'>
<a class='timestamp' href='#497336'><time timestamp='2016-09-29T10:18:00Z'>10:18</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i don&#x27;t know what language wireshark uses... but reimplementing sha256, chacha20 and poly1305 doesn&#x27;t sound trivial
<br>
</div>

<div class='talk op-msg' data-timestamp='1475144280' id='497337'>
<a class='timestamp' href='#497337'><time timestamp='2016-09-29T10:18:00Z'>10:18</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
(unless those are already available as primitives)
<br>
</div>

<div class='talk op-msg' data-timestamp='1475144280' id='497338'>
<a class='timestamp' href='#497338'><time timestamp='2016-09-29T10:18:00Z'>10:18</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
C     
<br>
</div>

<div class='talk op-msg' data-timestamp='1475144340' id='497339'>
<a class='timestamp' href='#497339'><time timestamp='2016-09-29T10:19:00Z'>10:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
oh, the filters too?
<br>
</div>

<div class='talk op-msg' data-timestamp='1475144340' id='497340'>
<a class='timestamp' href='#497340'><time timestamp='2016-09-29T10:19:00Z'>10:19</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it&#x27;s also possible to write dissectors in lua, but that&#x27;s only recommended for one-off projects, as performance is abysmal
<br>
</div>

<div class='talk op-msg' data-timestamp='1475144340' id='497341'>
<a class='timestamp' href='#497341'><time timestamp='2016-09-29T10:19:00Z'>10:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i thought those would be in a plugin language like lua or so
<br>
</div>

<div class='talk op-msg' data-timestamp='1475144340' id='497342'>
<a class='timestamp' href='#497342'><time timestamp='2016-09-29T10:19:00Z'>10:19</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes, most of them
<br>
</div>

<div class='talk op-msg' data-timestamp='1475144340' id='497343'>
<a class='timestamp' href='#497343'><time timestamp='2016-09-29T10:19:00Z'>10:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ah.     
<br>
</div>

<div class='talk op-msg' data-timestamp='1475144400' id='497344'>
<a class='timestamp' href='#497344'><time timestamp='2016-09-29T10:20:00Z'>10:20</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
the bitcoin dissector is in c currently?
<br>
</div>

<div class='talk op-msg' data-timestamp='1475144400' id='497345'>
<a class='timestamp' href='#497345'><time timestamp='2016-09-29T10:20:00Z'>10:20</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
let me see
<br>
</div>

<div class='talk op-msg' data-timestamp='1475144460' id='497346'>
<a class='timestamp' href='#497346'><time timestamp='2016-09-29T10:21:00Z'>10:21</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i vaguely remember seeing the code for it, years ago
<br>
</div>

<div class='talk op-msg' data-timestamp='1475144520' id='497347'>
<a class='timestamp' href='#497347'><time timestamp='2016-09-29T10:22:00Z'>10:22</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
<a href="https://github.com/wireshark/wireshark/blob/master/epan/dissectors/packet-bitcoin.c" class="link" target="_blank">https://github.com/wireshark/wireshark/blob/master/epan/dissectors/packet-bitcoin.c</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1475144640' id='497348'>
<a class='timestamp' href='#497348'><time timestamp='2016-09-29T10:24:00Z'>10:24</time></a>
&lt;<span class='nick nick-15'> GitHub156</span>&gt;
[bitcoin] MarcoFalke opened pull request #8834: [qa] blockstore: Switch to dumb dbm (master...Mf1610-qaBlockstoreDumb) <a href="https://github.com/bitcoin/bitcoin/pull/8834" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8834</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1475144640' id='497349'>
<a class='timestamp' href='#497349'><time timestamp='2016-09-29T10:24:00Z'>10:24</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
apparently it&#x27;s not yet updated for 0.12.0+, no handler for sendheaders, feefilter etc
<br>
</div>

<div class='talk op-msg' data-timestamp='1475144820' id='497350'>
<a class='timestamp' href='#497350'><time timestamp='2016-09-29T10:27:00Z'>10:27</time></a>
&lt;<span class='nick nick-4'> mmeijeri</span>&gt;
The same environment variable (SSLKEYLOGFILE) also works for Chrome.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475144940' id='497351'>
<a class='timestamp' href='#497351'><time timestamp='2016-09-29T10:29:00Z'>10:29</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
oh it&#x27;s a dynamic file? that&#x27;s a good idea
<br>
</div>

<div class='talk op-msg' data-timestamp='1475144940' id='497352'>
<a class='timestamp' href='#497352'><time timestamp='2016-09-29T10:29:00Z'>10:29</time></a>
&lt;<span class='nick nick-4'> waxwing</span>&gt;
mmeijeri: it&#x27;s coming back to me, i have a feeling that it handles multiple sessions transparently, by just checking which key material works for which session. not that this matters, sorry for OT :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1475145000' id='497353'>
<a class='timestamp' href='#497353'><time timestamp='2016-09-29T10:30:00Z'>10:30</time></a>
&lt;<span class='nick nick-4'> waxwing</span>&gt;
ah yes that was it, i think it stores the premaster secrets for all sessions, then in each handshake it tries them out until it finds what works. something like that.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475147400' id='497354'>
<a class='timestamp' href='#497354'><time timestamp='2016-09-29T11:10:00Z'>11:10</time></a>
&lt;<span class='nick nick-9'> GitHub26</span>&gt;
[bitcoin] MarcoFalke pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/8ca69a2a88a7...cc9e8aca5f95" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/8ca69a2a88a7...cc9e8aca5f95</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1475147400' id='497355'>
<a class='timestamp' href='#497355'><time timestamp='2016-09-29T11:10:00Z'>11:10</time></a>
&lt;<span class='nick nick-9'> GitHub26</span>&gt;
bitcoin/master a0f8482 Suhas Daftuar: [qa] Split up slow RPC calls to avoid pruning test timeouts
<br>
</div>

<div class='talk op-msg' data-timestamp='1475147400' id='497356'>
<a class='timestamp' href='#497356'><time timestamp='2016-09-29T11:10:00Z'>11:10</time></a>
&lt;<span class='nick nick-9'> GitHub26</span>&gt;
bitcoin/master cc9e8ac MarcoFalke: Merge #8827: [qa] Split up slow RPC calls to avoid pruning test timeouts...
<br>
</div>

<div class='talk op-msg' data-timestamp='1475147400' id='497357'>
<a class='timestamp' href='#497357'><time timestamp='2016-09-29T11:10:00Z'>11:10</time></a>
&lt;<span class='nick nick-1'> GitHub122</span>&gt;
[bitcoin] MarcoFalke closed pull request #8827: [qa] Split up slow RPC calls to avoid pruning test timeouts (master...fix-pruning-timeout) <a href="https://github.com/bitcoin/bitcoin/pull/8827" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8827</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1475147940' id='497358'>
<a class='timestamp' href='#497358'><time timestamp='2016-09-29T11:19:00Z'>11:19</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
any reason for me to NOT switch to 64-bit after I sleep?
<br>
</div>

<div class='talk op-msg' data-timestamp='1475148120' id='497359'>
<a class='timestamp' href='#497359'><time timestamp='2016-09-29T11:22:00Z'>11:22</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
luke-jr: something about  #8828 results in a null pointer dereference
<br>
</div>

<div class='talk op-msg' data-timestamp='1475148120' id='497360'>
<a class='timestamp' href='#497360'><time timestamp='2016-09-29T11:22:00Z'>11:22</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
afaict i just moved code around basically
<br>
</div>

<div class='talk op-msg' data-timestamp='1475148180' id='497361'>
<a class='timestamp' href='#497361'><time timestamp='2016-09-29T11:23:00Z'>11:23</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
you wrote the original method
<br>
</div>

<div class='talk op-msg' data-timestamp='1475148180' id='497362'>
<a class='timestamp' href='#497362'><time timestamp='2016-09-29T11:23:00Z'>11:23</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
can you take a look?
<br>
</div>

<div class='talk op-msg' data-timestamp='1475148180' id='497363'>
<a class='timestamp' href='#497363'><time timestamp='2016-09-29T11:23:00Z'>11:23</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
phantomcircuit: too sleepy now, can you ask me after I finish switching into 64-bit (probably tomorrow)? :x
<br>
</div>

<div class='talk op-msg' data-timestamp='1475148240' id='497364'>
<a class='timestamp' href='#497364'><time timestamp='2016-09-29T11:24:00Z'>11:24</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
luke-jr: whoa now
<br>
</div>

<div class='talk op-msg' data-timestamp='1475148240' id='497365'>
<a class='timestamp' href='#497365'><time timestamp='2016-09-29T11:24:00Z'>11:24</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
you&#x27;re moving to 64bit?
<br>
</div>

<div class='talk op-msg' data-timestamp='1475148240' id='497366'>
<a class='timestamp' href='#497366'><time timestamp='2016-09-29T11:24:00Z'>11:24</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
phantomcircuit: unless someone stops me before I wake up
<br>
</div>

<div class='talk op-msg' data-timestamp='1475148240' id='497367'>
<a class='timestamp' href='#497367'><time timestamp='2016-09-29T11:24:00Z'>11:24</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
also the line gdb thinks it&#x27;s segfaulting on makes no sense
<br>
</div>

<div class='talk op-msg' data-timestamp='1475148300' id='497368'>
<a class='timestamp' href='#497368'><time timestamp='2016-09-29T11:25:00Z'>11:25</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
?     
<br>
</div>

<div class='talk op-msg' data-timestamp='1475148300' id='497369'>
<a class='timestamp' href='#497369'><time timestamp='2016-09-29T11:25:00Z'>11:25</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
nOrderPosNext = 0;
<br>
</div>

<div class='talk op-msg' data-timestamp='1475148300' id='497370'>
<a class='timestamp' href='#497370'><time timestamp='2016-09-29T11:25:00Z'>11:25</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
so this is NULL? O.o
<br>
</div>

<div class='talk op-msg' data-timestamp='1475148300' id='497371'>
<a class='timestamp' href='#497371'><time timestamp='2016-09-29T11:25:00Z'>11:25</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
+    int64_t&amp; nOrderPosNext = nOrderPosNext;
<br>
</div>

<div class='talk op-msg' data-timestamp='1475148300' id='497372'>
<a class='timestamp' href='#497372'><time timestamp='2016-09-29T11:25:00Z'>11:25</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
wtf is this
<br>
</div>

<div class='talk op-msg' data-timestamp='1475148360' id='497373'>
<a class='timestamp' href='#497373'><time timestamp='2016-09-29T11:26:00Z'>11:26</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
bet that&#x27;s your problem, it makes no sense
<br>
</div>

<div class='talk op-msg' data-timestamp='1475148360' id='497374'>
<a class='timestamp' href='#497374'><time timestamp='2016-09-29T11:26:00Z'>11:26</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
prob undefined behaviour
<br>
</div>

<div class='talk op-msg' data-timestamp='1475148360' id='497375'>
<a class='timestamp' href='#497375'><time timestamp='2016-09-29T11:26:00Z'>11:26</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
but I&#x27;m half asleep, so who knows
<br>
</div>

<div class='talk op-msg' data-timestamp='1475150100' id='497376'>
<a class='timestamp' href='#497376'><time timestamp='2016-09-29T11:55:00Z'>11:55</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
oh well, hope that helped, otherwise ping me tomorrow I guess :x
<br>
</div>

<div class='talk op-msg' data-timestamp='1475150100' id='497377'>
<a class='timestamp' href='#497377'><time timestamp='2016-09-29T11:55:00Z'>11:55</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
night
<br>
</div>

<div class='talk op-msg' data-timestamp='1475150460' id='497378'>
<a class='timestamp' href='#497378'><time timestamp='2016-09-29T12:01:00Z'>12:01</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
luke-jr: that&#x27;s weird but apparently correct
<br>
</div>

<div class='talk op-msg' data-timestamp='1475151000' id='497379'>
<a class='timestamp' href='#497379'><time timestamp='2016-09-29T12:10:00Z'>12:10</time></a>
&lt;<span class='nick nick-5'> midnightmagic</span>&gt;
that&#x27;s a weird scoping problem
<br>
</div>

<div class='talk op-msg' data-timestamp='1475151000' id='497380'>
<a class='timestamp' href='#497380'><time timestamp='2016-09-29T12:10:00Z'>12:10</time></a>
&lt;<span class='nick nick-5'> midnightmagic</span>&gt;
lol     
<br>
</div>

<div class='talk op-msg' data-timestamp='1475154000' id='497381'>
<a class='timestamp' href='#497381'><time timestamp='2016-09-29T13:00:00Z'>13:00</time></a>
&lt;<span class='nick nick-7'> GitHub52</span>&gt;
[bitcoin] laanwj pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/cc9e8aca5f95...9b94cca41f3e" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/cc9e8aca5f95...9b94cca41f3e</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1475154000' id='497382'>
<a class='timestamp' href='#497382'><time timestamp='2016-09-29T13:00:00Z'>13:00</time></a>
&lt;<span class='nick nick-7'> GitHub52</span>&gt;
bitcoin/master 64d9507 Pavel JanÃ­k: [WIP] Remove unused statement in serialization
<br>
</div>

<div class='talk op-msg' data-timestamp='1475154000' id='497383'>
<a class='timestamp' href='#497383'><time timestamp='2016-09-29T13:00:00Z'>13:00</time></a>
&lt;<span class='nick nick-7'> GitHub52</span>&gt;
bitcoin/master 9b94cca Wladimir J. van der Laan: Merge #8658: Remove unused statements in serialization...
<br>
</div>

<div class='talk op-msg' data-timestamp='1475154000' id='497384'>
<a class='timestamp' href='#497384'><time timestamp='2016-09-29T13:00:00Z'>13:00</time></a>
&lt;<span class='nick nick-14'> GitHub41</span>&gt;
[bitcoin] laanwj closed pull request #8658: Remove unused statements in serialization (master...20160902_nVersion_serialization_cleanup) <a href="https://github.com/bitcoin/bitcoin/pull/8658" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8658</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1475154120' id='497385'>
<a class='timestamp' href='#497385'><time timestamp='2016-09-29T13:02:00Z'>13:02</time></a>
&lt;<span class='nick nick-4'> kanzure</span>&gt;
wumpus: tcpdump if you want to generate .pcap files without wireshark&#x27;s gui
<br>
</div>

<div class='talk op-msg' data-timestamp='1475154300' id='497386'>
<a class='timestamp' href='#497386'><time timestamp='2016-09-29T13:05:00Z'>13:05</time></a>
&lt;<span class='nick nick-14'> GitHub166</span>&gt;
[bitcoin] jgarzik closed pull request #6451: BIP 102: Increase block size limit to 2MB (master...2015_2mb_blocksize) <a href="https://github.com/bitcoin/bitcoin/pull/6451" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/6451</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1475154360' id='497387'>
<a class='timestamp' href='#497387'><time timestamp='2016-09-29T13:06:00Z'>13:06</time></a>
&lt;<span class='nick nick-4'> * midnightmagic</span>&gt;
stabs wireshark&#x27;s gui
<br>
</div>

<div class='talk op-msg' data-timestamp='1475156160' id='497388'>
<a class='timestamp' href='#497388'><time timestamp='2016-09-29T13:36:00Z'>13:36</time></a>
&lt;<span class='nick nick-7'> GitHub180</span>&gt;
[bitcoin] MarcoFalke opened pull request #8835: [qa] nulldummy.py: Don&#x27;t run unused code (master...Mf1610-qaNulldummyUnused) <a href="https://github.com/bitcoin/bitcoin/pull/8835" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8835</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1475158920' id='497389'>
<a class='timestamp' href='#497389'><time timestamp='2016-09-29T14:22:00Z'>14:22</time></a>
&lt;<span class='nick nick-8'> GitHub8</span>&gt;
[bitcoin] jnewbery opened pull request #8836: bitcoin-util-test.py should fail if the output file is empty (master...bitcoin-tx-no-empty-outputs) <a href="https://github.com/bitcoin/bitcoin/pull/8836" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8836</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1475159220' id='497390'>
<a class='timestamp' href='#497390'><time timestamp='2016-09-29T14:27:00Z'>14:27</time></a>
&lt;<span class='nick nick-15'> GitHub100</span>&gt;
[bitcoin] jnewbery opened pull request #8837: allow bitcoin-tx to parse partial transactions (master...bitcoin-tx-partial-transactions) <a href="https://github.com/bitcoin/bitcoin/pull/8837" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8837</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1475159640' id='497391'>
<a class='timestamp' href='#497391'><time timestamp='2016-09-29T14:34:00Z'>14:34</time></a>
&lt;<span class='nick nick-12'> GitHub16</span>&gt;
[bitcoin] jnewbery opened pull request #8838: Only log block size if block size is being accounted (master...dont_log_size) <a href="https://github.com/bitcoin/bitcoin/pull/8838" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8838</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1475160360' id='497392'>
<a class='timestamp' href='#497392'><time timestamp='2016-09-29T14:46:00Z'>14:46</time></a>
&lt;<span class='nick nick-11'> GitHub177</span>&gt;
[bitcoin] laanwj pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/9b94cca41f3e...2dd57e4f9f58" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/9b94cca41f3e...2dd57e4f9f58</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1475160360' id='497393'>
<a class='timestamp' href='#497393'><time timestamp='2016-09-29T14:46:00Z'>14:46</time></a>
&lt;<span class='nick nick-11'> GitHub177</span>&gt;
bitcoin/master fa156c6 MarcoFalke: [qa] nulldummy: Don&#x27;t run unused code
<br>
</div>

<div class='talk op-msg' data-timestamp='1475160360' id='497394'>
<a class='timestamp' href='#497394'><time timestamp='2016-09-29T14:46:00Z'>14:46</time></a>
&lt;<span class='nick nick-11'> GitHub177</span>&gt;
bitcoin/master 2dd57e4 Wladimir J. van der Laan: Merge #8835: [qa] nulldummy.py: Don&#x27;t run unused code...
<br>
</div>

<div class='talk op-msg' data-timestamp='1475160360' id='497395'>
<a class='timestamp' href='#497395'><time timestamp='2016-09-29T14:46:00Z'>14:46</time></a>
&lt;<span class='nick nick-15'> GitHub194</span>&gt;
[bitcoin] laanwj closed pull request #8835: [qa] nulldummy.py: Don&#x27;t run unused code (master...Mf1610-qaNulldummyUnused) <a href="https://github.com/bitcoin/bitcoin/pull/8835" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8835</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1475161440' id='497396'>
<a class='timestamp' href='#497396'><time timestamp='2016-09-29T15:04:00Z'>15:04</time></a>
&lt;<span class='nick nick-3'> GitHub44</span>&gt;
[bitcoin] laanwj opened pull request #8839: test: Avoid ConnectionResetErrors during RPC tests (master...2016_09_freebsd_rpctest_fix) <a href="https://github.com/bitcoin/bitcoin/pull/8839" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8839</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1475161680' id='497397'>
<a class='timestamp' href='#497397'><time timestamp='2016-09-29T15:08:00Z'>15:08</time></a>
&lt;<span class='nick nick-8'> GitHub42</span>&gt;
[bitcoin] laanwj pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/2dd57e4f9f58...c84181665f34" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/2dd57e4f9f58...c84181665f34</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1475161680' id='497398'>
<a class='timestamp' href='#497398'><time timestamp='2016-09-29T15:08:00Z'>15:08</time></a>
&lt;<span class='nick nick-8'> GitHub42</span>&gt;
bitcoin/master 16f8823 fanquake: [depends] Boost 1.61.0
<br>
</div>

<div class='talk op-msg' data-timestamp='1475161680' id='497399'>
<a class='timestamp' href='#497399'><time timestamp='2016-09-29T15:08:00Z'>15:08</time></a>
&lt;<span class='nick nick-8'> GitHub42</span>&gt;
bitcoin/master c841816 Wladimir J. van der Laan: Merge #8819: [depends] Boost 1.61.0...
<br>
</div>

<div class='talk op-msg' data-timestamp='1475161740' id='497400'>
<a class='timestamp' href='#497400'><time timestamp='2016-09-29T15:09:00Z'>15:09</time></a>
&lt;<span class='nick nick-5'> GitHub98</span>&gt;
[bitcoin] laanwj closed pull request #8819: [depends] Boost 1.61.0 (master...depends-boost-1-61-0) <a href="https://github.com/bitcoin/bitcoin/pull/8819" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8819</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1475162580' id='497401'>
<a class='timestamp' href='#497401'><time timestamp='2016-09-29T15:23:00Z'>15:23</time></a>
&lt;<span class='nick nick-1'> GitHub53</span>&gt;
[bitcoin] laanwj pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/c84181665f34...c9d7b0de2fc9" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/c84181665f34...c9d7b0de2fc9</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1475162580' id='497402'>
<a class='timestamp' href='#497402'><time timestamp='2016-09-29T15:23:00Z'>15:23</time></a>
&lt;<span class='nick nick-1'> GitHub53</span>&gt;
bitcoin/master fa9cd25 MarcoFalke: [qa] blockstore: Switch to dumb dbm
<br>
</div>

<div class='talk op-msg' data-timestamp='1475162580' id='497403'>
<a class='timestamp' href='#497403'><time timestamp='2016-09-29T15:23:00Z'>15:23</time></a>
&lt;<span class='nick nick-1'> GitHub53</span>&gt;
bitcoin/master c9d7b0d Wladimir J. van der Laan: Merge #8834: [qa] blockstore: Switch to dumb dbm...
<br>
</div>

<div class='talk op-msg' data-timestamp='1475162580' id='497404'>
<a class='timestamp' href='#497404'><time timestamp='2016-09-29T15:23:00Z'>15:23</time></a>
&lt;<span class='nick nick-10'> GitHub36</span>&gt;
[bitcoin] laanwj closed pull request #8834: [qa] blockstore: Switch to dumb dbm (master...Mf1610-qaBlockstoreDumb) <a href="https://github.com/bitcoin/bitcoin/pull/8834" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8834</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1475162820' id='497405'>
<a class='timestamp' href='#497405'><time timestamp='2016-09-29T15:27:00Z'>15:27</time></a>
&lt;<span class='nick nick-14'> GitHub17</span>&gt;
[bitcoin] laanwj pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/c9d7b0de2fc9...f560d9564f74" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/c9d7b0de2fc9...f560d9564f74</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1475162820' id='497406'>
<a class='timestamp' href='#497406'><time timestamp='2016-09-29T15:27:00Z'>15:27</time></a>
&lt;<span class='nick nick-14'> GitHub17</span>&gt;
bitcoin/master 7e5fd71 Pavel JanÃ­k: Do not include env_win.cc on non-Windows systems
<br>
</div>

<div class='talk op-msg' data-timestamp='1475162820' id='497407'>
<a class='timestamp' href='#497407'><time timestamp='2016-09-29T15:27:00Z'>15:27</time></a>
&lt;<span class='nick nick-14'> GitHub17</span>&gt;
bitcoin/master f560d95 Wladimir J. van der Laan: Merge #8826: Do not include env_win.cc on non-Windows systems...
<br>
</div>

<div class='talk op-msg' data-timestamp='1475162820' id='497408'>
<a class='timestamp' href='#497408'><time timestamp='2016-09-29T15:27:00Z'>15:27</time></a>
&lt;<span class='nick nick-8'> GitHub75</span>&gt;
[bitcoin] laanwj closed pull request #8826: Do not include env_win.cc on non-Windows systems (master...20160928_leveldb_no_win) <a href="https://github.com/bitcoin/bitcoin/pull/8826" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8826</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1475165100' id='497409'>
<a class='timestamp' href='#497409'><time timestamp='2016-09-29T16:05:00Z'>16:05</time></a>
&lt;<span class='nick nick-13'> GitHub51</span>&gt;
[bitcoin] laanwj opened pull request #8840: test: Explicitly set encoding to utf8 when opening text files (master...2016_09_textfiles_locale) <a href="https://github.com/bitcoin/bitcoin/pull/8840" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8840</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1475166180' id='497410'>
<a class='timestamp' href='#497410'><time timestamp='2016-09-29T16:23:00Z'>16:23</time></a>
&lt;<span class='nick nick-10'> GitHub57</span>&gt;
[bitcoin] jl2012 opened pull request #8841: [qa] fix nulldummy test (master...nulldummytest) <a href="https://github.com/bitcoin/bitcoin/pull/8841" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8841</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1475169360' id='497411'>
<a class='timestamp' href='#497411'><time timestamp='2016-09-29T17:16:00Z'>17:16</time></a>
&lt;<span class='nick nick-3'> cfields_</span>&gt;
wumpus: no problem
<br>
</div>

<div class='talk op-msg' data-timestamp='1475169420' id='497412'>
<a class='timestamp' href='#497412'><time timestamp='2016-09-29T17:17:00Z'>17:17</time></a>
&lt;<span class='nick nick-3'> cfields_</span>&gt;
jonasschnelli: i had a look at your circular dep issue. No luck here. The (hack) solution is to use grouping libs, but I&#x27;d really rather not go down that road. I&#x27;ve started untangling dependencies instead.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475169900' id='497413'>
<a class='timestamp' href='#497413'><time timestamp='2016-09-29T17:25:00Z'>17:25</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
which dependencies are the problem there? the circular dependency between libbitcoin_server and libbitcoin_wallet?
<br>
</div>

<div class='talk op-msg' data-timestamp='1475169960' id='497414'>
<a class='timestamp' href='#497414'><time timestamp='2016-09-29T17:26:00Z'>17:26</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
that would &quot;just&quot; require solving <a href="https://github.com/bitcoin/bitcoin/issues/7965" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/7965</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1475169960' id='497415'>
<a class='timestamp' href='#497415'><time timestamp='2016-09-29T17:26:00Z'>17:26</time></a>
&lt;<span class='nick nick-14'> arubi</span>&gt;
jnewbery, :)  I was just about to whine about &#x27;if (!DecodeHexTx(txDecodeTmp, strHexTx)&#x27;  
<br>
</div>

<div class='talk op-msg' data-timestamp='1475169960' id='497416'>
<a class='timestamp' href='#497416'><time timestamp='2016-09-29T17:26:00Z'>17:26</time></a>
&lt;<span class='nick nick-14'> arubi</span>&gt;
thanks!
<br>
</div>

<div class='talk op-msg' data-timestamp='1475171820' id='497417'>
<a class='timestamp' href='#497417'><time timestamp='2016-09-29T17:57:00Z'>17:57</time></a>
&lt;<span class='nick nick-14'> arubi</span>&gt;
too bad, I wanted to ask him about it here
<br>
</div>

<div class='talk op-msg' data-timestamp='1475173200' id='497418'>
<a class='timestamp' href='#497418'><time timestamp='2016-09-29T18:20:00Z'>18:20</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
wumpus, cfields_: Yes. I think we need to complete 7965 first
<br>
</div>

<div class='talk op-msg' data-timestamp='1475174220' id='497419'>
<a class='timestamp' href='#497419'><time timestamp='2016-09-29T18:37:00Z'>18:37</time></a>
&lt;<span class='nick nick-11'> jl2012</span>&gt;
Travis test failed for #8841 with an unrelated test
<br>
</div>

<div class='talk op-msg' data-timestamp='1475174220' id='497420'>
<a class='timestamp' href='#497420'><time timestamp='2016-09-29T18:37:00Z'>18:37</time></a>
&lt;<span class='nick nick-11'> jl2012</span>&gt;
<a href="https://www.irccloud.com/pastebin/pWEgvccJ/" class="link" target="_blank">https://www.irccloud.com/pastebin/pWEgvccJ/</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1475174280' id='497421'>
<a class='timestamp' href='#497421'><time timestamp='2016-09-29T18:38:00Z'>18:38</time></a>
&lt;<span class='nick nick-11'> jl2012</span>&gt;
<a href="https://travis-ci.org/bitcoin/bitcoin/jobs/163788152" class="link" target="_blank">https://travis-ci.org/bitcoin/bitcoin/jobs/163788152</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1475174400' id='497422'>
<a class='timestamp' href='#497422'><time timestamp='2016-09-29T18:40:00Z'>18:40</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
phantomcircuit: correct for what?
<br>
</div>

<div class='talk op-msg' data-timestamp='1475174400' id='497423'>
<a class='timestamp' href='#497423'><time timestamp='2016-09-29T18:40:00Z'>18:40</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
jl2012: We should probably create an issue for those failures
<br>
</div>

<div class='talk op-msg' data-timestamp='1475174640' id='497424'>
<a class='timestamp' href='#497424'><time timestamp='2016-09-29T18:44:00Z'>18:44</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
and a minor nit: I think the if(msg) is redundant. (The empty string already evaluates to false in python)
<br>
</div>

<div class='talk op-msg' data-timestamp='1475174820' id='497425'>
<a class='timestamp' href='#497425'><time timestamp='2016-09-29T18:47:00Z'>18:47</time></a>
&lt;<span class='nick nick-11'> jl2012</span>&gt;
indeed
<br>
</div>

<div class='talk op-msg' data-timestamp='1475175600' id='497426'>
<a class='timestamp' href='#497426'><time timestamp='2016-09-29T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
bingbong
<br>
</div>

<div class='talk op-msg' data-timestamp='1475175600' id='497427'>
<a class='timestamp' href='#497427'><time timestamp='2016-09-29T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
hi     
<br>
</div>

<div class='talk op-msg' data-timestamp='1475175600' id='497428'>
<a class='timestamp' href='#497428'><time timestamp='2016-09-29T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ovatobat
<br>
</div>

<div class='talk op-msg' data-timestamp='1475175600' id='497429'>
<a class='timestamp' href='#497429'><time timestamp='2016-09-29T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
yo     
<br>
</div>

<div class='talk op-msg' data-timestamp='1475175660' id='497430'>
<a class='timestamp' href='#497430'><time timestamp='2016-09-29T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
#startmeeting
<br>
</div>

<div class='talk op-msg' data-timestamp='1475175660' id='497431'>
<a class='timestamp' href='#497431'><time timestamp='2016-09-29T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Meeting started Thu Sep 29 19:01:19 2016 UTC.  The chair is wumpus. Information about MeetBot at <a href="http://wiki.debian.org/MeetBot" class="link" target="_blank">http://wiki.debian.org/MeetBot</a>.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475175660' id='497432'>
<a class='timestamp' href='#497432'><time timestamp='2016-09-29T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Useful Commands: #action #agreed #help #info #idea #link #topic.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475175660' id='497433'>
<a class='timestamp' href='#497433'><time timestamp='2016-09-29T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-2'> BakSAj</span>&gt;
hi     
<br>
</div>

<div class='talk op-msg' data-timestamp='1475175660' id='497434'>
<a class='timestamp' href='#497434'><time timestamp='2016-09-29T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
meeting time!
<br>
</div>

<div class='talk op-msg' data-timestamp='1475175660' id='497435'>
<a class='timestamp' href='#497435'><time timestamp='2016-09-29T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
meeting!
<br>
</div>

<div class='talk op-msg' data-timestamp='1475175660' id='497436'>
<a class='timestamp' href='#497436'><time timestamp='2016-09-29T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
#bitcoin-core-dev Meeting: wumpus sipa gmaxwell jonasschnelli morcos luke-jr btcdrak sdaftuar jtimon cfields petertodd kanzure bluematt instagibbs phantomcircuit codeshark michagogo marcofalke paveljanik NicolasDorier
<br>
</div>

<div class='talk op-msg' data-timestamp='1475175720' id='497437'>
<a class='timestamp' href='#497437'><time timestamp='2016-09-29T19:02:00Z'>19:02</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
(oh already started)
<br>
</div>

<div class='talk op-msg' data-timestamp='1475175720' id='497438'>
<a class='timestamp' href='#497438'><time timestamp='2016-09-29T19:02:00Z'>19:02</time></a>
&lt;<span class='nick nick-6'> btcdrak</span>&gt;
here
<br>
</div>

<div class='talk op-msg' data-timestamp='1475175720' id='497439'>
<a class='timestamp' href='#497439'><time timestamp='2016-09-29T19:02:00Z'>19:02</time></a>
&lt;<span class='nick nick-3'> cfields_</span>&gt;
hi     
<br>
</div>

<div class='talk op-msg' data-timestamp='1475175720' id='497440'>
<a class='timestamp' href='#497440'><time timestamp='2016-09-29T19:02:00Z'>19:02</time></a>
&lt;<span class='nick nick-4'> kanzure</span>&gt;
hi     
<br>
</div>

<div class='talk op-msg' data-timestamp='1475175720' id='497441'>
<a class='timestamp' href='#497441'><time timestamp='2016-09-29T19:02:00Z'>19:02</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
any proposed topics?
<br>
</div>

<div class='talk op-msg' data-timestamp='1475175720' id='497442'>
<a class='timestamp' href='#497442'><time timestamp='2016-09-29T19:02:00Z'>19:02</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
topic proposal: pruning and blockrelay
<br>
</div>

<div class='talk op-msg' data-timestamp='1475175720' id='497443'>
<a class='timestamp' href='#497443'><time timestamp='2016-09-29T19:02:00Z'>19:02</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
hi     
<br>
</div>

<div class='talk op-msg' data-timestamp='1475175720' id='497444'>
<a class='timestamp' href='#497444'><time timestamp='2016-09-29T19:02:00Z'>19:02</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
policy against uncompressed keys or not
<br>
</div>

<div class='talk op-msg' data-timestamp='1475175780' id='497445'>
<a class='timestamp' href='#497445'><time timestamp='2016-09-29T19:03:00Z'>19:03</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
#topic pruning and blockrelay
<br>
</div>

<div class='talk op-msg' data-timestamp='1475175780' id='497446'>
<a class='timestamp' href='#497446'><time timestamp='2016-09-29T19:03:00Z'>19:03</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I think we should add a service flag for block relay with a min-height
<br>
</div>

<div class='talk op-msg' data-timestamp='1475175780' id='497447'>
<a class='timestamp' href='#497447'><time timestamp='2016-09-29T19:03:00Z'>19:03</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
NODE_PRUNENETWORK or something
<br>
</div>

<div class='talk op-msg' data-timestamp='1475175780' id='497448'>
<a class='timestamp' href='#497448'><time timestamp='2016-09-29T19:03:00Z'>19:03</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
there have been multiple ideas around that
<br>
</div>

<div class='talk op-msg' data-timestamp='1475175840' id='497449'>
<a class='timestamp' href='#497449'><time timestamp='2016-09-29T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
IMO whatever we do, we should recognise that w/ segwit&#x27;s larger blocks we can expect a lot of full nodes to run out of disk space quite soon
<br>
</div>

<div class='talk op-msg' data-timestamp='1475175840' id='497450'>
<a class='timestamp' href='#497450'><time timestamp='2016-09-29T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
the easiest is just to add a flag that says you relay valid blocks and transactions, but not historical blocks more than a few deep
<br>
</div>

<div class='talk op-msg' data-timestamp='1475175840' id='497451'>
<a class='timestamp' href='#497451'><time timestamp='2016-09-29T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I guess people slowly start to prune the blockchain to a max of 80GB or similar... but I guess not everyone is aware of the fact that you don&#x27;t relay then
<br>
</div>

<div class='talk op-msg' data-timestamp='1475175840' id='497452'>
<a class='timestamp' href='#497452'><time timestamp='2016-09-29T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it would be nice to support more than one range, e.g. also archive nodes that host part of the old blocks
<br>
</div>

<div class='talk op-msg' data-timestamp='1475175840' id='497453'>
<a class='timestamp' href='#497453'><time timestamp='2016-09-29T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it becomes harder when you want multiple ranger
<br>
</div>

<div class='talk op-msg' data-timestamp='1475175840' id='497454'>
<a class='timestamp' href='#497454'><time timestamp='2016-09-29T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
do we have a reason for more than one range?
<br>
</div>

<div class='talk op-msg' data-timestamp='1475175900' id='497455'>
<a class='timestamp' href='#497455'><time timestamp='2016-09-29T19:05:00Z'>19:05</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
We could introduce another message type... blockrange  or so
<br>
</div>

<div class='talk op-msg' data-timestamp='1475175900' id='497456'>
<a class='timestamp' href='#497456'><time timestamp='2016-09-29T19:05:00Z'>19:05</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it becomes even harder when you want to support sharding in an efficient way
<br>
</div>

<div class='talk op-msg' data-timestamp='1475175900' id='497457'>
<a class='timestamp' href='#497457'><time timestamp='2016-09-29T19:05:00Z'>19:05</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I&#x27;m not sure why itb ecomes hard, just add a query message that returns what ranges are supported
<br>
</div>

<div class='talk op-msg' data-timestamp='1475175900' id='497458'>
<a class='timestamp' href='#497458'><time timestamp='2016-09-29T19:05:00Z'>19:05</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: what do you mean by sharding exactly?
<br>
</div>

<div class='talk op-msg' data-timestamp='1475175900' id='497459'>
<a class='timestamp' href='#497459'><time timestamp='2016-09-29T19:05:00Z'>19:05</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
petertodd: you&#x27;d configure your node to maintain a certain % of blocks
<br>
</div>

<div class='talk op-msg' data-timestamp='1475175900' id='497460'>
<a class='timestamp' href='#497460'><time timestamp='2016-09-29T19:05:00Z'>19:05</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
wumpus: query, yes, why not, or just inform like we do with sendheaders
<br>
</div>

<div class='talk op-msg' data-timestamp='1475175900' id='497461'>
<a class='timestamp' href='#497461'><time timestamp='2016-09-29T19:05:00Z'>19:05</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: see, given that the bitcoin protocol can&#x27;t be safely sharded right now, I think we can safely say that we don&#x27;t need to support sharding in block relay yet
<br>
</div>

<div class='talk op-msg' data-timestamp='1475175900' id='497462'>
<a class='timestamp' href='#497462'><time timestamp='2016-09-29T19:05:00Z'>19:05</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: doing so might even be dangerous if people start using it
<br>
</div>

<div class='talk op-msg' data-timestamp='1475175960' id='497463'>
<a class='timestamp' href='#497463'><time timestamp='2016-09-29T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
petertodd: not in block relay
<br>
</div>

<div class='talk op-msg' data-timestamp='1475175960' id='497464'>
<a class='timestamp' href='#497464'><time timestamp='2016-09-29T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
petertodd: for block archival
<br>
</div>

<div class='talk op-msg' data-timestamp='1475175960' id='497465'>
<a class='timestamp' href='#497465'><time timestamp='2016-09-29T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: but why shard vs. keep ranges?
<br>
</div>

<div class='talk op-msg' data-timestamp='1475175960' id='497466'>
<a class='timestamp' href='#497466'><time timestamp='2016-09-29T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: (ranges of full blocks)
<br>
</div>

<div class='talk op-msg' data-timestamp='1475175960' id='497467'>
<a class='timestamp' href='#497467'><time timestamp='2016-09-29T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
BitTorrent already does this. Surely we can learn from that?
<br>
</div>

<div class='talk op-msg' data-timestamp='1475175960' id='497468'>
<a class='timestamp' href='#497468'><time timestamp='2016-09-29T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
luke-jr: I don&#x27;t think so - bittorrent is a very different problem than bitcoin
<br>
</div>

<div class='talk op-msg' data-timestamp='1475175960' id='497469'>
<a class='timestamp' href='#497469'><time timestamp='2016-09-29T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
this is for letting other peers know what ranges of blocks are hosted, I don&#x27;t think this should affect releay
<br>
</div>

<div class='talk op-msg' data-timestamp='1475175960' id='497470'>
<a class='timestamp' href='#497470'><time timestamp='2016-09-29T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
so, i&#x27;ve been running statistics on what block depths are being requested from nodes
<br>
</div>

<div class='talk op-msg' data-timestamp='1475175960' id='497471'>
<a class='timestamp' href='#497471'><time timestamp='2016-09-29T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
petertodd: learn from it, not use it directly
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176020' id='497472'>
<a class='timestamp' href='#497472'><time timestamp='2016-09-29T19:07:00Z'>19:07</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
petertodd: BitTorrent&#x27;s problem isn&#x27;t very different from IBD
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176020' id='497473'>
<a class='timestamp' href='#497473'><time timestamp='2016-09-29T19:07:00Z'>19:07</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sipa: interesting.. do you have the stats public available somewhere
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176020' id='497474'>
<a class='timestamp' href='#497474'><time timestamp='2016-09-29T19:07:00Z'>19:07</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I wanted to do this a long time
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176020' id='497475'>
<a class='timestamp' href='#497475'><time timestamp='2016-09-29T19:07:00Z'>19:07</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
luke-jr: so, the thing is bittorrent has the problem of a diverse set of files, we just don&#x27;t have that problem and can optimise differently because everyone needs access t othe same set of data
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176080' id='497476'>
<a class='timestamp' href='#497476'><time timestamp='2016-09-29T19:08:00Z'>19:08</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
there are something like 4 meaningful &#x27;ranges&#x27; 1) the top 2 blocks (just relay) 2) up to ~2500 blocks deep... requested very often 3) up to ~10000 deep... requested a few times more than the next range 4) the rest
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176080' id='497477'>
<a class='timestamp' href='#497477'><time timestamp='2016-09-29T19:08:00Z'>19:08</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
otoh bittorrent has a fixed block size :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176080' id='497478'>
<a class='timestamp' href='#497478'><time timestamp='2016-09-29T19:08:00Z'>19:08</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
wumpus: so do we <b>*ducks*</b>
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176080' id='497479'>
<a class='timestamp' href='#497479'><time timestamp='2016-09-29T19:08:00Z'>19:08</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: that probably corresponds to how long people leave their nodes offline :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176080' id='497480'>
<a class='timestamp' href='#497480'><time timestamp='2016-09-29T19:08:00Z'>19:08</time></a>
&lt;<span class='nick nick-6'> btcdrak</span>&gt;
inb4 Bittorrent XT
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176140' id='497481'>
<a class='timestamp' href='#497481'><time timestamp='2016-09-29T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jonasschnelli: they&#x27;re not available, and the ranges i gave above are just from me quickly glancing over the result
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176140' id='497482'>
<a class='timestamp' href='#497482'><time timestamp='2016-09-29T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
btcdrak: I use Bittorrent Unlimited myself
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176140' id='497483'>
<a class='timestamp' href='#497483'><time timestamp='2016-09-29T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
What about fingerprinting issued in conjunction with available ranges?
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176140' id='497484'>
<a class='timestamp' href='#497484'><time timestamp='2016-09-29T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
*issues
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176140' id='497485'>
<a class='timestamp' href='#497485'><time timestamp='2016-09-29T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
jonasschnelli: make them powers of two?
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176140' id='497486'>
<a class='timestamp' href='#497486'><time timestamp='2016-09-29T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
well 4 ranges can be done with 2 service bit flags
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176140' id='497487'>
<a class='timestamp' href='#497487'><time timestamp='2016-09-29T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: you&#x27;ve worked on these ideas before, comments?
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176140' id='497488'>
<a class='timestamp' href='#497488'><time timestamp='2016-09-29T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
But would that work with the flexible pruning option based on MB?
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176200' id='497489'>
<a class='timestamp' href='#497489'><time timestamp='2016-09-29T19:10:00Z'>19:10</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
jonasschnelli: sure, just find the biggest range less than the pruning amount
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176200' id='497490'>
<a class='timestamp' href='#497490'><time timestamp='2016-09-29T19:10:00Z'>19:10</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jonasschnelli: you&#x27;d change your service bits on the fly
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176200' id='497491'>
<a class='timestamp' href='#497491'><time timestamp='2016-09-29T19:10:00Z'>19:10</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
why would the ranges need to be in the flags?
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176200' id='497492'>
<a class='timestamp' href='#497492'><time timestamp='2016-09-29T19:10:00Z'>19:10</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sorry, I missed that the meeting started.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176200' id='497493'>
<a class='timestamp' href='#497493'><time timestamp='2016-09-29T19:10:00Z'>19:10</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Yes. Why? Better add an explicit message for the range
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176200' id='497494'>
<a class='timestamp' href='#497494'><time timestamp='2016-09-29T19:10:00Z'>19:10</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
how would you otherwise discover what nodes to connect to?
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176200' id='497495'>
<a class='timestamp' href='#497495'><time timestamp='2016-09-29T19:10:00Z'>19:10</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
just randomly try?
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176200' id='497496'>
<a class='timestamp' href='#497496'><time timestamp='2016-09-29T19:10:00Z'>19:10</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
jonasschnelli: oh right, you mean if MB != blocks... sorry.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176200' id='497497'>
<a class='timestamp' href='#497497'><time timestamp='2016-09-29T19:10:00Z'>19:10</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I think you&#x27;ll need a service flag to show support for the protocol, but not what ranges you have
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176200' id='497498'>
<a class='timestamp' href='#497498'><time timestamp='2016-09-29T19:10:00Z'>19:10</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
query or inform the other node if proto-ver &gt; NODE_PRUNENETWORK
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176260' id='497499'>
<a class='timestamp' href='#497499'><time timestamp='2016-09-29T19:11:00Z'>19:11</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
well that can be negotiated later, like bittorrent does I guess
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176260' id='497500'>
<a class='timestamp' href='#497500'><time timestamp='2016-09-29T19:11:00Z'>19:11</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
wumpus: well you do want addr messages to contain this information
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176260' id='497501'>
<a class='timestamp' href='#497501'><time timestamp='2016-09-29T19:11:00Z'>19:11</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I doubt bitcoin has &#x27;service flags&#x27; in its tracker what blocks nodes have
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176260' id='497502'>
<a class='timestamp' href='#497502'><time timestamp='2016-09-29T19:11:00Z'>19:11</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: so the nice thing about bitcoin, is just randomly try will probably work fairly often due to the low number of ranges out there
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176260' id='497503'>
<a class='timestamp' href='#497503'><time timestamp='2016-09-29T19:11:00Z'>19:11</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
as that changes all the time anyhow
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176260' id='497504'>
<a class='timestamp' href='#497504'><time timestamp='2016-09-29T19:11:00Z'>19:11</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I was strongly of the view that we needed to signal at least two ranges. Sipa&#x27;s latest measurements make me think at least three are needed.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176260' id='497505'>
<a class='timestamp' href='#497505'><time timestamp='2016-09-29T19:11:00Z'>19:11</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
s/bitcoin/bittorrent/
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176260' id='497506'>
<a class='timestamp' href='#497506'><time timestamp='2016-09-29T19:11:00Z'>19:11</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I think informing other nodes ranges over addr is another thing...
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176260' id='497507'>
<a class='timestamp' href='#497507'><time timestamp='2016-09-29T19:11:00Z'>19:11</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
A first step would be a information after connect
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176260' id='497508'>
<a class='timestamp' href='#497508'><time timestamp='2016-09-29T19:11:00Z'>19:11</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes, addr is another thing
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176320' id='497509'>
<a class='timestamp' href='#497509'><time timestamp='2016-09-29T19:12:00Z'>19:12</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I think ranges in service bits are no big deal, the harder question is what to do about the history. having nodes with 150GB of history in order to serve the last range is not very viable. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176320' id='497510'>
<a class='timestamp' href='#497510'><time timestamp='2016-09-29T19:12:00Z'>19:12</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
could be done later if an efficient way is needed to <b>*locate*</b> peers with certain ranges
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176320' id='497511'>
<a class='timestamp' href='#497511'><time timestamp='2016-09-29T19:12:00Z'>19:12</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
but that seems premature optimization
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176320' id='497512'>
<a class='timestamp' href='#497512'><time timestamp='2016-09-29T19:12:00Z'>19:12</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
We will need to redo addr sometime relatively soon in any case, as our messages are not compatible with HS-NG.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176320' id='497513'>
<a class='timestamp' href='#497513'><time timestamp='2016-09-29T19:12:00Z'>19:12</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
gmaxwell: oh, you mean Tor&#x27;s new hidden services standard right?
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176320' id='497514'>
<a class='timestamp' href='#497514'><time timestamp='2016-09-29T19:12:00Z'>19:12</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
petertodd: yes.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176380' id='497515'>
<a class='timestamp' href='#497515'><time timestamp='2016-09-29T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(also I2P though thats not new)
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176380' id='497516'>
<a class='timestamp' href='#497516'><time timestamp='2016-09-29T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I think the number of ranges should be variable
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176380' id='497517'>
<a class='timestamp' href='#497517'><time timestamp='2016-09-29T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
redesigning addr is a different topic
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176380' id='497518'>
<a class='timestamp' href='#497518'><time timestamp='2016-09-29T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
also necessary, but again, doesn&#x27;t need to be on one heap
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176380' id='497519'>
<a class='timestamp' href='#497519'><time timestamp='2016-09-29T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
wumpus: when I&#x27;m saying ranges I am specifically referring to the top-N zomes.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176440' id='497520'>
<a class='timestamp' href='#497520'><time timestamp='2016-09-29T19:14:00Z'>19:14</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
well, so if we add service bits for recent history ranges, that should be possible to implement as a separate feature to archival history ranges, and it&#x27;d be a big first step
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176440' id='497521'>
<a class='timestamp' href='#497521'><time timestamp='2016-09-29T19:14:00Z'>19:14</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I think it should be possible to, say, only host the first 20GB of blocks
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176440' id='497522'>
<a class='timestamp' href='#497522'><time timestamp='2016-09-29T19:14:00Z'>19:14</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
historic only nodes
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176440' id='497523'>
<a class='timestamp' href='#497523'><time timestamp='2016-09-29T19:14:00Z'>19:14</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I don&#x27;t see why it should be restricted to only recent history
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176440' id='497524'>
<a class='timestamp' href='#497524'><time timestamp='2016-09-29T19:14:00Z'>19:14</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
I don&#x27;t think it&#x27;s likely we&#x27;ll see the two different features collide, so maybe implement recent history ranges first
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176440' id='497525'>
<a class='timestamp' href='#497525'><time timestamp='2016-09-29T19:14:00Z'>19:14</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
or I mean first 20GB + last 144 blocks 
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176500' id='497526'>
<a class='timestamp' href='#497526'><time timestamp='2016-09-29T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
For history storage, I was previously working on a proposal where nodes could signal a small (32 bit) seed and a size and from that everyone would know what parts of the history they would store.  I was so far unable to unify two different schemes, one which was computationally efficient to figure out who had what, and one which never required a peer to fetch a block it had previously deleted.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176500' id='497527'>
<a class='timestamp' href='#497527'><time timestamp='2016-09-29T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
so very quick breakdown: out of 7M requested blocks, 100k were for the tip, range 2-2500 has around 200-2000 requests per block, and from 10000 to genesis deep there are around 20 per block
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176560' id='497528'>
<a class='timestamp' href='#497528'><time timestamp='2016-09-29T19:16:00Z'>19:16</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I think for now we should not worry about the old history part and only worry about Top-n vs everything, as that fits into the pruning we already have and can be accomplished purely with service bits.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176560' id='497529'>
<a class='timestamp' href='#497529'><time timestamp='2016-09-29T19:16:00Z'>19:16</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
the bittorrent problem is different in that there the goal of each node is to have everything
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176560' id='497530'>
<a class='timestamp' href='#497530'><time timestamp='2016-09-29T19:16:00Z'>19:16</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
so a social consideration here, is we can think in terms of recent history as &quot;if there&#x27;s a flaw, how much would we ever reorg w/o just saying bitcoin has failed?&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176560' id='497531'>
<a class='timestamp' href='#497531'><time timestamp='2016-09-29T19:16:00Z'>19:16</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
petertodd: thats partly why we have the 288 block maximum amount of pruning.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176620' id='497532'>
<a class='timestamp' href='#497532'><time timestamp='2016-09-29T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
gmaxwell: indeed, and that&#x27;s only two days...
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176620' id='497533'>
<a class='timestamp' href='#497533'><time timestamp='2016-09-29T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Using multiple service bits for 4 ranges seems to be a hackish-design IMO
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176620' id='497534'>
<a class='timestamp' href='#497534'><time timestamp='2016-09-29T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
at 100 blocks any reorg will <u>_necessarily_</u> cause unrecoverable losses. So 288 basically gives a day plus an extra day for overhead. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176620' id='497535'>
<a class='timestamp' href='#497535'><time timestamp='2016-09-29T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
there&#x27;s also a natural time criteria from how the difficulty adjustments reduce your resistance to 51% attack - if your node is offline longer, the minimum attacker size to fool you goes down
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176620' id='497536'>
<a class='timestamp' href='#497536'><time timestamp='2016-09-29T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
strangely enough: i see much more requests around 1000 deep than around 100 deep
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176680' id='497537'>
<a class='timestamp' href='#497537'><time timestamp='2016-09-29T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
jonasschnelli: I don&#x27;t see anything hackish.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176680' id='497538'>
<a class='timestamp' href='#497538'><time timestamp='2016-09-29T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
jonasschnelli: I also think it&#x27;s a strange use of service bits
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176680' id='497539'>
<a class='timestamp' href='#497539'><time timestamp='2016-09-29T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I&#x27;d prefere using a single service bit to state pruned blockchain and then a new message (or append something to version?)
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176680' id='497540'>
<a class='timestamp' href='#497540'><time timestamp='2016-09-29T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: probably because people don&#x27;t turn their nodes on and off every day
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176680' id='497541'>
<a class='timestamp' href='#497541'><time timestamp='2016-09-29T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sipa: you probably want to filter out the bitnodes spider, as I believe it requests a block to check the node is working.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176680' id='497542'>
<a class='timestamp' href='#497542'><time timestamp='2016-09-29T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: ah.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176680' id='497543'>
<a class='timestamp' href='#497543'><time timestamp='2016-09-29T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
petertodd: someone who hasn&#x27;t turned their node on will request all of 0 to -1000. so it will not make 1000 greater.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176740' id='497544'>
<a class='timestamp' href='#497544'><time timestamp='2016-09-29T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
jonasschnelli: NAK.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176740' id='497545'>
<a class='timestamp' href='#497545'><time timestamp='2016-09-29T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
gmaxwell: oh! I didn&#x27;t know we did that
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176740' id='497546'>
<a class='timestamp' href='#497546'><time timestamp='2016-09-29T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i&#x27;m a bit surprised people think there is no need to have the available block ranges indicated in addr messages
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176740' id='497547'>
<a class='timestamp' href='#497547'><time timestamp='2016-09-29T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
(whether through service bits, or some extension)
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176740' id='497548'>
<a class='timestamp' href='#497548'><time timestamp='2016-09-29T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I think there is a need... but it could be a second step
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176740' id='497549'>
<a class='timestamp' href='#497549'><time timestamp='2016-09-29T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
jonasschnelli: appending to version should be unnecessary, that&#x27;s also a hack :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176740' id='497550'>
<a class='timestamp' href='#497550'><time timestamp='2016-09-29T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jonasschnelli: if it&#x27;s a second step, we need to extend addr, and the whole management of addresses
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176740' id='497551'>
<a class='timestamp' href='#497551'><time timestamp='2016-09-29T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Okay. Agree. What about a new message type?
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176740' id='497552'>
<a class='timestamp' href='#497552'><time timestamp='2016-09-29T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
blockrange
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176740' id='497553'>
<a class='timestamp' href='#497553'><time timestamp='2016-09-29T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jonasschnelli: you don&#x27;t understand.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176800' id='497554'>
<a class='timestamp' href='#497554'><time timestamp='2016-09-29T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
jonasschnelli: look at pieter&#x27;s request figures, if nodes are effectively forced to go to peers that have everything whenever they connect becuase if they don&#x27;t know they&#x27;ll be able to fetch any blocks at all, then it will put lots more load on them.. causing people to stop offering blocks... causing more pressure on what remains.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176800' id='497555'>
<a class='timestamp' href='#497555'><time timestamp='2016-09-29T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jonasschnelli: the point of having it in service bits is so nodes can find peers that have the range they need
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176800' id='497556'>
<a class='timestamp' href='#497556'><time timestamp='2016-09-29T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
but addr information gets old really fast
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176860' id='497557'>
<a class='timestamp' href='#497557'><time timestamp='2016-09-29T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
wumpus: much less so with feeler connections
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176860' id='497558'>
<a class='timestamp' href='#497558'><time timestamp='2016-09-29T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
nodes may dynamically change what blocks they have, so there will always be cases of nodes connecting and realizing they have nothing to offer each other
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176860' id='497559'>
<a class='timestamp' href='#497559'><time timestamp='2016-09-29T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Okay. I see the point.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176860' id='497560'>
<a class='timestamp' href='#497560'><time timestamp='2016-09-29T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
(presumably, i don&#x27;t have numbers)
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176860' id='497561'>
<a class='timestamp' href='#497561'><time timestamp='2016-09-29T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
just like currently nodes will try to connect into black holes that no longer host a node
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176920' id='497562'>
<a class='timestamp' href='#497562'><time timestamp='2016-09-29T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
so another interesting thing here is that ranges are queried linearly - you download blocks in a roughly linear fashion - so we could take advantage of that by making sure that nodes with one range keep track of nodes with adjacent ranges
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176920' id='497563'>
<a class='timestamp' href='#497563'><time timestamp='2016-09-29T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
sipa: sure, feeler connections make it somewhat better
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176920' id='497564'>
<a class='timestamp' href='#497564'><time timestamp='2016-09-29T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
wumpus: yes, sometimes the data is wrong. But there is a big difference between having 80% of the nodes on the network giving you no idea if they&#x27;ll be useful at all until after you connect, vs a suggestion that might sometimes be wrong.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176920' id='497565'>
<a class='timestamp' href='#497565'><time timestamp='2016-09-29T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
but I don&#x27;t think addr is a very up-to-date information source
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176920' id='497566'>
<a class='timestamp' href='#497566'><time timestamp='2016-09-29T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
thus, as you sync the first time, ask nodes with the range you&#x27;re syncing at this moment for the next range you need
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176980' id='497567'>
<a class='timestamp' href='#497567'><time timestamp='2016-09-29T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
wumpus: if ranges are deterministic, they don&#x27;t need to be up to date
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176980' id='497568'>
<a class='timestamp' href='#497568'><time timestamp='2016-09-29T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
petertodd: yes, any sharding plan wouldn&#x27;t randomly distribute the kept blocks, but keep randomly distributed ranges
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176980' id='497569'>
<a class='timestamp' href='#497569'><time timestamp='2016-09-29T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
wumpus: I don&#x27;t know if you realize that sipa and I are not thinking in terms of absolute ranges here. but nodes saying &quot;I keep the last 288&quot; or &quot;I keep the last 2016&quot; or &quot;I have all of history&quot;. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176980' id='497570'>
<a class='timestamp' href='#497570'><time timestamp='2016-09-29T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
gmaxwell: but indeed this is a different problem from the bittorrent problem where everyone&#x27;s goal is to have everything
<br>
</div>

<div class='talk op-msg' data-timestamp='1475176980' id='497571'>
<a class='timestamp' href='#497571'><time timestamp='2016-09-29T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: well that&#x27;s sharding... maybe that is something to postpone for later
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177040' id='497572'>
<a class='timestamp' href='#497572'><time timestamp='2016-09-29T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: sure, I&#x27;m more talking about how the linearity affects the network p2p design - prefentially peering with peers with the adjacent range may even be a reasonable design
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177040' id='497573'>
<a class='timestamp' href='#497573'><time timestamp='2016-09-29T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
wumpus: eh, everyone needs to get everything
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177040' id='497574'>
<a class='timestamp' href='#497574'><time timestamp='2016-09-29T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
there, nodes can just connect randomly and have a high change the other nodes has something to offer them
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177040' id='497575'>
<a class='timestamp' href='#497575'><time timestamp='2016-09-29T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
wumpus: and I wouldn&#x27;t expect that data to go out of date fast.. pretty much only when nodes go up and down.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177040' id='497576'>
<a class='timestamp' href='#497576'><time timestamp='2016-09-29T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
oh, nvm, i&#x27;m misreading
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177040' id='497577'>
<a class='timestamp' href='#497577'><time timestamp='2016-09-29T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
luke-jr: only initially
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177040' id='497578'>
<a class='timestamp' href='#497578'><time timestamp='2016-09-29T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
oh, I see the distinction
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177040' id='497579'>
<a class='timestamp' href='#497579'><time timestamp='2016-09-29T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
luke-jr: bittorrent nodes don&#x27;t throw away blocks, generally
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177040' id='497580'>
<a class='timestamp' href='#497580'><time timestamp='2016-09-29T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
f(best-height, seed-in-addr) -&gt; ranges
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177100' id='497581'>
<a class='timestamp' href='#497581'><time timestamp='2016-09-29T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
for the spreading the history around, as mentioned I came up with concrete schemes (based on consistent hashes) that have nice properties. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177100' id='497582'>
<a class='timestamp' href='#497582'><time timestamp='2016-09-29T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i wonder whether we need to have that in the first go at this
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177160' id='497583'>
<a class='timestamp' href='#497583'><time timestamp='2016-09-29T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I think a first simple solution that allow to extend it further would be appriciated.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177160' id='497584'>
<a class='timestamp' href='#497584'><time timestamp='2016-09-29T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
even just having serve-everything and server-the-last-288-and-relay-at-tip would be a good addition
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177160' id='497585'>
<a class='timestamp' href='#497585'><time timestamp='2016-09-29T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
making the ranges deterministic makes some sense, on the other hand, it does restrict the flexibilty of nodes to choose what ranges they host, it means everything has to be got right in first try
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177160' id='497586'>
<a class='timestamp' href='#497586'><time timestamp='2016-09-29T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sipa: thats what I am saying.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177160' id='497587'>
<a class='timestamp' href='#497587'><time timestamp='2016-09-29T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sipa: agree
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177160' id='497588'>
<a class='timestamp' href='#497588'><time timestamp='2016-09-29T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I do not think we can do better immediately anyways.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177160' id='497589'>
<a class='timestamp' href='#497589'><time timestamp='2016-09-29T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
21:18:07 &lt; jonasschnelli&gt; I&#x27;d prefere using a single service bit to state pruned blockchain and then a new message (or append something to version?)
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177160' id='497590'>
<a class='timestamp' href='#497590'><time timestamp='2016-09-29T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sipa: though your latest figures suggest that the 2016 depth is important too.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177160' id='497591'>
<a class='timestamp' href='#497591'><time timestamp='2016-09-29T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
21:19:07 &lt; gmaxwell&gt; jonasschnelli: NAK.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177220' id='497592'>
<a class='timestamp' href='#497592'><time timestamp='2016-09-29T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
if nodes attempt to maintain a few connections to peers that have the next range after they have, maybe it doesn&#x27;t matter exactly what the ranges actually are? any given node would have a few connections to the next range, and anyone syncing from them could ask for those connections
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177220' id='497593'>
<a class='timestamp' href='#497593'><time timestamp='2016-09-29T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sipa: my understanding of jonasschnelli comment was there should be a bit that says &quot;I relay blocks but don&#x27;t have history&quot; I am NAK on that.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177220' id='497594'>
<a class='timestamp' href='#497594'><time timestamp='2016-09-29T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
as there is no scope for later optimization, because all nodes have to agree what ranges are implied
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177220' id='497595'>
<a class='timestamp' href='#497595'><time timestamp='2016-09-29T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
We could add a service bit that says &quot;I relay only the last 288 blocks&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177220' id='497596'>
<a class='timestamp' href='#497596'><time timestamp='2016-09-29T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
jannes: yes that would be the initial idea
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177220' id='497597'>
<a class='timestamp' href='#497597'><time timestamp='2016-09-29T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
jonasschnelli*
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177280' id='497598'>
<a class='timestamp' href='#497598'><time timestamp='2016-09-29T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: how is that different from what i suggested?
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177280' id='497599'>
<a class='timestamp' href='#497599'><time timestamp='2016-09-29T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
21:26:10 &lt; sipa&gt; even just having serve-everything and server-the-last-288-and-relay-at-tip would be a good addition
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177280' id='497600'>
<a class='timestamp' href='#497600'><time timestamp='2016-09-29T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I think my initial idea with the general pruning sevice bit and a new message type is to complex and inflexible
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177280' id='497601'>
<a class='timestamp' href='#497601'><time timestamp='2016-09-29T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
jonasschnelli: yes, that would be better, though pieter&#x27;s data suggests that there are a LOT of requests at 1000. I think if I had that data I would have been suggesting the maximum pruning should be 2016, and then had the bit at that dep. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177280' id='497602'>
<a class='timestamp' href='#497602'><time timestamp='2016-09-29T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sipa: the ability to relay blocks at depth -10.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177340' id='497603'>
<a class='timestamp' href='#497603'><time timestamp='2016-09-29T19:29:00Z'>19:29</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: less than 2% of blocks requested from my node are at the tip
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177340' id='497604'>
<a class='timestamp' href='#497604'><time timestamp='2016-09-29T19:29:00Z'>19:29</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
(but the tip is still 100x more frequent than any other individual depth)
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177340' id='497605'>
<a class='timestamp' href='#497605'><time timestamp='2016-09-29T19:29:00Z'>19:29</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: &quot;a service bit to indicate pruned blockchain&quot; implies you can serve 288 deep :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177400' id='497606'>
<a class='timestamp' href='#497606'><time timestamp='2016-09-29T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
gmaxwell: re: maximum pruning depth, it&#x27;s reasonable for that to be a similar % of the total data that storing the UTXO set takes - if you have 10GB of UTXO, 2GB of block data isn&#x27;t a big change
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177400' id='497607'>
<a class='timestamp' href='#497607'><time timestamp='2016-09-29T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes, you could define it as that
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177400' id='497608'>
<a class='timestamp' href='#497608'><time timestamp='2016-09-29T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I don&#x27;t think there is any remaining disagreement on using bit(s) to signal I have a top-n.  But I have some doubt on N. it needs to capture the largest amount of the block realy bandwidth without being unduely pruning incompatible.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177400' id='497609'>
<a class='timestamp' href='#497609'><time timestamp='2016-09-29T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
288 is the minimum pruning amount in bitcoin core already so it&#x27;d be a valid choice
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177400' id='497610'>
<a class='timestamp' href='#497610'><time timestamp='2016-09-29T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
as a first pass, i wonder if you preferentially downloaded from pruned peers whenever you were behind by less than 288 blocks, that would take enough load of peers serving full history?
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177400' id='497611'>
<a class='timestamp' href='#497611'><time timestamp='2016-09-29T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
morcos: absolutely.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177460' id='497612'>
<a class='timestamp' href='#497612'><time timestamp='2016-09-29T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Good idea
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177460' id='497613'>
<a class='timestamp' href='#497613'><time timestamp='2016-09-29T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes, that would make sense
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177460' id='497614'>
<a class='timestamp' href='#497614'><time timestamp='2016-09-29T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
unfortunately, sipa&#x27;s data suggests that 288 sheds less traffic than measurements years ago suggested.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177460' id='497615'>
<a class='timestamp' href='#497615'><time timestamp='2016-09-29T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
maybe i should compute statistics in bytes rather than blocks
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177460' id='497616'>
<a class='timestamp' href='#497616'><time timestamp='2016-09-29T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
gmaxwell: it wasn&#x27;t clear to me what the integral from 1 to 288 was compared to 288 to inf
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177460' id='497617'>
<a class='timestamp' href='#497617'><time timestamp='2016-09-29T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
well it is a compromise
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177460' id='497618'>
<a class='timestamp' href='#497618'><time timestamp='2016-09-29T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
putting the threshold higher makes some peers completely useless
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177460' id='497619'>
<a class='timestamp' href='#497619'><time timestamp='2016-09-29T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
to see what percentage of bandwidth is needed in 1-288
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177460' id='497620'>
<a class='timestamp' href='#497620'><time timestamp='2016-09-29T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
which reduces morcos &#x27;s argument
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177520' id='497621'>
<a class='timestamp' href='#497621'><time timestamp='2016-09-29T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Yes. I guess you convinced me to use two service bits then. -288 and -2016
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177520' id='497622'>
<a class='timestamp' href='#497622'><time timestamp='2016-09-29T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
which is why it might be useful to use two bits and be able to signal 1-288, 1-2016... and perhaps start encouraging people to not prune shorter than 2016.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177520' id='497623'>
<a class='timestamp' href='#497623'><time timestamp='2016-09-29T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i think we&#x27;re getting into a design discussion here
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177520' id='497624'>
<a class='timestamp' href='#497624'><time timestamp='2016-09-29T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
my number are very premature and not well analysed
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177520' id='497625'>
<a class='timestamp' href='#497625'><time timestamp='2016-09-29T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it&#x27;d also be possible to add a 288-flag now, and then consider a 2016 flag later
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177520' id='497626'>
<a class='timestamp' href='#497626'><time timestamp='2016-09-29T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sipa: indeed, thought that was the input you requested from me. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177520' id='497627'>
<a class='timestamp' href='#497627'><time timestamp='2016-09-29T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
wumpus: yes, thats what i&#x27;m saying
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177520' id='497628'>
<a class='timestamp' href='#497628'><time timestamp='2016-09-29T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
wumpus: yes! indeed.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177580' id='497629'>
<a class='timestamp' href='#497629'><time timestamp='2016-09-29T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Agree with wumpus 
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177580' id='497630'>
<a class='timestamp' href='#497630'><time timestamp='2016-09-29T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
if it turns out to be necessary
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177580' id='497631'>
<a class='timestamp' href='#497631'><time timestamp='2016-09-29T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
wumpus: ACK
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177580' id='497632'>
<a class='timestamp' href='#497632'><time timestamp='2016-09-29T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yes, i think just a 1-288 one seems useful
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177580' id='497633'>
<a class='timestamp' href='#497633'><time timestamp='2016-09-29T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
good :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177580' id='497634'>
<a class='timestamp' href='#497634'><time timestamp='2016-09-29T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Start with a simple tip-288 relay, and get some experience
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177580' id='497635'>
<a class='timestamp' href='#497635'><time timestamp='2016-09-29T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
wumpus: it looks pretty clearly necessary but no need to do everything at once.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177580' id='497636'>
<a class='timestamp' href='#497636'><time timestamp='2016-09-29T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
wumpus: basically advice is, turn your node on at least once every two days
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177580' id='497637'>
<a class='timestamp' href='#497637'><time timestamp='2016-09-29T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
petertodd: yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177580' id='497638'>
<a class='timestamp' href='#497638'><time timestamp='2016-09-29T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
petertodd: we really should have cron mode for the daemon where it just syncs up and shuts off. :P
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177640' id='497639'>
<a class='timestamp' href='#497639'><time timestamp='2016-09-29T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
bitcoind -oneshot
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177640' id='497640'>
<a class='timestamp' href='#497640'><time timestamp='2016-09-29T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
:P     
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177640' id='497641'>
<a class='timestamp' href='#497641'><time timestamp='2016-09-29T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
gmaxwell: heh, that&#x27;s not a crazy idea - I&#x27;d use it on my laptop
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177640' id='497642'>
<a class='timestamp' href='#497642'><time timestamp='2016-09-29T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
didn&#x27;t we once had a proposal for the pause option?
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177640' id='497643'>
<a class='timestamp' href='#497643'><time timestamp='2016-09-29T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
right, there&#x27;s a flag that quits after reindex, but none that exits after sync
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177640' id='497644'>
<a class='timestamp' href='#497644'><time timestamp='2016-09-29T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
would be easy to add tho
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177640' id='497645'>
<a class='timestamp' href='#497645'><time timestamp='2016-09-29T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
we could just ask for the utxo set, shoudl we discuss ideas how to do that
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177640' id='497646'>
<a class='timestamp' href='#497646'><time timestamp='2016-09-29T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
^ yes :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177640' id='497647'>
<a class='timestamp' href='#497647'><time timestamp='2016-09-29T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
make -oneshot run in the foreground with a progress bar :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177640' id='497648'>
<a class='timestamp' href='#497648'><time timestamp='2016-09-29T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
without utxo commitment that&#x27;s a no-go
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177700' id='497649'>
<a class='timestamp' href='#497649'><time timestamp='2016-09-29T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
thanks codeshark
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177700' id='497650'>
<a class='timestamp' href='#497650'><time timestamp='2016-09-29T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
wumpus: +1
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177700' id='497651'>
<a class='timestamp' href='#497651'><time timestamp='2016-09-29T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
morcos: pointless when we were unable to get past the discussion for the security model change to not validate the past history based on proof of work. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177700' id='497652'>
<a class='timestamp' href='#497652'><time timestamp='2016-09-29T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
and lets not underestimate how dangerous UTXO commitments can be - I&#x27;m very dubious about committing to the (U)TXO set more recently than maybe a month or two
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177700' id='497653'>
<a class='timestamp' href='#497653'><time timestamp='2016-09-29T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
would be great to query utxo for quick sync, then go backwards in time fetching blocks to increase security...but yes, this is a design discussion
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177700' id='497654'>
<a class='timestamp' href='#497654'><time timestamp='2016-09-29T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
i was making a joke, sorry
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177760' id='497655'>
<a class='timestamp' href='#497655'><time timestamp='2016-09-29T19:36:00Z'>19:36</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
alas, quick sync doesn&#x27;t look feasible in the nearterm
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177760' id='497656'>
<a class='timestamp' href='#497656'><time timestamp='2016-09-29T19:36:00Z'>19:36</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
ok, next topic?
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177760' id='497657'>
<a class='timestamp' href='#497657'><time timestamp='2016-09-29T19:36:00Z'>19:36</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
but since that was brought up... Can we talk about removing checkpoints? 
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177760' id='497658'>
<a class='timestamp' href='#497658'><time timestamp='2016-09-29T19:36:00Z'>19:36</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
#topic removing checkpoints
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177760' id='497659'>
<a class='timestamp' href='#497659'><time timestamp='2016-09-29T19:36:00Z'>19:36</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
what % of transactions are before the last checkpoint
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177820' id='497660'>
<a class='timestamp' href='#497660'><time timestamp='2016-09-29T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
does anyone know?
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177820' id='497661'>
<a class='timestamp' href='#497661'><time timestamp='2016-09-29T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
someone should write up a design proposal for that to be evaluated
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177820' id='497662'>
<a class='timestamp' href='#497662'><time timestamp='2016-09-29T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Right now they&#x27;re used for two things, preventing header flooding with low difficulty headers; and skipping signatures in earlier blocks.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177820' id='497663'>
<a class='timestamp' href='#497663'><time timestamp='2016-09-29T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
gmaxwell: just removing checkpoints, or assuming sigs are valid if buried deep enough?
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177820' id='497664'>
<a class='timestamp' href='#497664'><time timestamp='2016-09-29T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: and 3) estimating progress
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177820' id='497665'>
<a class='timestamp' href='#497665'><time timestamp='2016-09-29T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
keeping something for estimating progress would make sense
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177820' id='497666'>
<a class='timestamp' href='#497666'><time timestamp='2016-09-29T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i think 1) remains needed and 3) remains useful
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177820' id='497667'>
<a class='timestamp' href='#497667'><time timestamp='2016-09-29T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
that doesn&#x27;t need to be checkpoints
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177880' id='497668'>
<a class='timestamp' href='#497668'><time timestamp='2016-09-29T19:38:00Z'>19:38</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
because very few percentage of the transactions are below the checkpoint .. since libsecp256k1 (and I expect the checkqueue)-- my point two is basically pointless, and I think it could just be removed
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177880' id='497669'>
<a class='timestamp' href='#497669'><time timestamp='2016-09-29T19:38:00Z'>19:38</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I think on a desktop it only adds 15-20 minutes to the sync.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177880' id='497670'>
<a class='timestamp' href='#497670'><time timestamp='2016-09-29T19:38:00Z'>19:38</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
gmaxwell: I&#x27;d ACK simply removing checkpoints entirely; I&#x27;m not happy to see them replaced with another scheme to skip sig checking
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177880' id='497671'>
<a class='timestamp' href='#497671'><time timestamp='2016-09-29T19:38:00Z'>19:38</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
a block-height-to-relative-difficulty map would have much less of a stigma
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177880' id='497672'>
<a class='timestamp' href='#497672'><time timestamp='2016-09-29T19:38:00Z'>19:38</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
eh, verification difficulty that is
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177880' id='497673'>
<a class='timestamp' href='#497673'><time timestamp='2016-09-29T19:38:00Z'>19:38</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: really?
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177880' id='497674'>
<a class='timestamp' href='#497674'><time timestamp='2016-09-29T19:38:00Z'>19:38</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
petertodd: I think we could remove CP from reason two without implementing the replcement.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177940' id='497675'>
<a class='timestamp' href='#497675'><time timestamp='2016-09-29T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
petertodd: morcos is right that needs a design proposal outside of the meeting.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177940' id='497676'>
<a class='timestamp' href='#497676'><time timestamp='2016-09-29T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
i&#x27;m a bit confused about how to think about checkpoints for signature skipping
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177940' id='497677'>
<a class='timestamp' href='#497677'><time timestamp='2016-09-29T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sipa: I benchmarked before but I&#x27;m going off of memory, I could be wildly wrong. I will test again if there is interest.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177940' id='497678'>
<a class='timestamp' href='#497678'><time timestamp='2016-09-29T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Removing checkpoints would slow down (maybe insignificant) a scan in a possible SPV hybrid mode?
<br>
</div>

<div class='talk op-msg' data-timestamp='1475177940' id='497679'>
<a class='timestamp' href='#497679'><time timestamp='2016-09-29T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
For reason (1) the only answer I have is that I think we should proposal a bit to perpetually increase the minimum difficulty from 1 to something else.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178000' id='497680'>
<a class='timestamp' href='#497680'><time timestamp='2016-09-29T19:40:00Z'>19:40</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
for instance the recent ISM change caused us to do less validation for certain blocks in our history (blocks in a softfork between the 75% and 95% thresholds)
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178000' id='497681'>
<a class='timestamp' href='#497681'><time timestamp='2016-09-29T19:40:00Z'>19:40</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jonasschnelli: SPV mode won&#x27;t validate <b>*anything*</b> at all
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178000' id='497682'>
<a class='timestamp' href='#497682'><time timestamp='2016-09-29T19:40:00Z'>19:40</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(with a checkpoint like bypass of that new rule, for existing blocks that break it) As little as 100,000 would eliminate the header flooding vulenrablity.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178000' id='497683'>
<a class='timestamp' href='#497683'><time timestamp='2016-09-29T19:40:00Z'>19:40</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Yes. But assume we would add an SPV hibrid mode in oder to received payment during IBD
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178000' id='497684'>
<a class='timestamp' href='#497684'><time timestamp='2016-09-29T19:40:00Z'>19:40</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
One would need to download 400k headers without a checkpoint at h400k
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178000' id='497685'>
<a class='timestamp' href='#497685'><time timestamp='2016-09-29T19:40:00Z'>19:40</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
maybe checkpoints should just be disabled by default before complete removal?
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178060' id='497686'>
<a class='timestamp' href='#497686'><time timestamp='2016-09-29T19:41:00Z'>19:41</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jonasschnelli: i think you&#x27;re confused
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178060' id='497687'>
<a class='timestamp' href='#497687'><time timestamp='2016-09-29T19:41:00Z'>19:41</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
for Sipa&#x27;s (3) reason for &#x27;checkpoints&#x27; I don&#x27;t give a darn, use chicken bones for progress estimation for all I care. :P it&#x27;s historical accident that checkpoints and progress use the same data structure.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178060' id='497688'>
<a class='timestamp' href='#497688'><time timestamp='2016-09-29T19:41:00Z'>19:41</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
gmaxwell: :) +1
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178060' id='497689'>
<a class='timestamp' href='#497689'><time timestamp='2016-09-29T19:41:00Z'>19:41</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
gmaxwell: yes, my point too
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178060' id='497690'>
<a class='timestamp' href='#497690'><time timestamp='2016-09-29T19:41:00Z'>19:41</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: agree, those could be completely separated
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178060' id='497691'>
<a class='timestamp' href='#497691'><time timestamp='2016-09-29T19:41:00Z'>19:41</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
gmaxwell: ACK checken bones
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178060' id='497692'>
<a class='timestamp' href='#497692'><time timestamp='2016-09-29T19:41:00Z'>19:41</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Might as well fit a cubic spline to the height vs txn count... and store the parameters.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178060' id='497693'>
<a class='timestamp' href='#497693'><time timestamp='2016-09-29T19:41:00Z'>19:41</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
right
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178120' id='497694'>
<a class='timestamp' href='#497694'><time timestamp='2016-09-29T19:42:00Z'>19:42</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
gmaxwell: heh, if we do that with floating point math that has the advantage that it <u>_can&#x27;t_</u> be used for consensus :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178120' id='497695'>
<a class='timestamp' href='#497695'><time timestamp='2016-09-29T19:42:00Z'>19:42</time></a>
&lt;<span class='nick nick-4'> * sipa</span>&gt;
now remembers a song our student organization wrote to the melody of staying alive, called &#x27;cubic spline&#x27;
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178120' id='497696'>
<a class='timestamp' href='#497696'><time timestamp='2016-09-29T19:42:00Z'>19:42</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
so my proposal, if there is interest, is that I&#x27;ll measure the performance impact of removing the signature skippingentirely (esp post checkqueue). And if it&#x27;s not awful, we&#x27;ll remove.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178120' id='497697'>
<a class='timestamp' href='#497697'><time timestamp='2016-09-29T19:42:00Z'>19:42</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
+1     
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178120' id='497698'>
<a class='timestamp' href='#497698'><time timestamp='2016-09-29T19:42:00Z'>19:42</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: i&#x27;m unconvinced
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178120' id='497699'>
<a class='timestamp' href='#497699'><time timestamp='2016-09-29T19:42:00Z'>19:42</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it doesn&#x27;t hurt to benchmark
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178180' id='497700'>
<a class='timestamp' href='#497700'><time timestamp='2016-09-29T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
and maybe I&#x27;ll tender a proposal to up the minimum difficulty, but I&#x27;d like to know what people think about that.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178180' id='497701'>
<a class='timestamp' href='#497701'><time timestamp='2016-09-29T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
measuring is always better than making assumptions
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178180' id='497702'>
<a class='timestamp' href='#497702'><time timestamp='2016-09-29T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
with a replacement for sig skipping that isn&#x27;t based on checkpoints we could significantly improve things
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178180' id='497703'>
<a class='timestamp' href='#497703'><time timestamp='2016-09-29T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: I don&#x27;t think such a replacement can exist without changing the security assumptions; I&#x27;d <b>*rather*</b> have checkpoints than trusting hashing power for that
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178180' id='497704'>
<a class='timestamp' href='#497704'><time timestamp='2016-09-29T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
the last checkpoint currently is very old for the very reason that we&#x27;ve been planning to replace it
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178180' id='497705'>
<a class='timestamp' href='#497705'><time timestamp='2016-09-29T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sipa: would you like to help work on a proposal for that? it has been controversial in the past. I&#x27;d like to do something good, because otherwise imprudent attempts will be adopted instead.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178240' id='497706'>
<a class='timestamp' href='#497706'><time timestamp='2016-09-29T19:44:00Z'>19:44</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
so it&#x27;s unfair to use the &quot;the last checkpoint is old&quot; as a given; it&#x27;s something we&#x27;ve affected indirectly
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178240' id='497707'>
<a class='timestamp' href='#497707'><time timestamp='2016-09-29T19:44:00Z'>19:44</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: though what checkpoints should do is say &quot;Something big has changed; you can disable checkpoints with --no-checkpoints, but you should find out what this means before doing so.&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178240' id='497708'>
<a class='timestamp' href='#497708'><time timestamp='2016-09-29T19:44:00Z'>19:44</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(for example Bitcoin Classic&#x27;s current behavior simply looks at block header timestamps and ignores signatures when they&#x27;re more than 24 hours (*par) old by the local clock. It&#x27;s easily exploited and makes me sad.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178240' id='497709'>
<a class='timestamp' href='#497709'><time timestamp='2016-09-29T19:44:00Z'>19:44</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
petertodd: it&#x27;s my opinion that on a timescale of months, it doesn&#x27;t matter
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178240' id='497710'>
<a class='timestamp' href='#497710'><time timestamp='2016-09-29T19:44:00Z'>19:44</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
IF you can guarantee it&#x27;s actually a timescale of months
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178240' id='497711'>
<a class='timestamp' href='#497711'><time timestamp='2016-09-29T19:44:00Z'>19:44</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes that makes me sad too
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178240' id='497712'>
<a class='timestamp' href='#497712'><time timestamp='2016-09-29T19:44:00Z'>19:44</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: on a timescale of months, checkpoints shouldn&#x27;t matter either...
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178300' id='497713'>
<a class='timestamp' href='#497713'><time timestamp='2016-09-29T19:45:00Z'>19:45</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
anything based on time seems very brittle
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178300' id='497714'>
<a class='timestamp' href='#497714'><time timestamp='2016-09-29T19:45:00Z'>19:45</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
petertodd: look at the current hashrate; what&#x27;s 3 months worth of chain work at that hashrate
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178300' id='497715'>
<a class='timestamp' href='#497715'><time timestamp='2016-09-29T19:45:00Z'>19:45</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
wumpus: and anything based on work isn&#x27;t much better if you&#x27;re running an old client, and mining has advanced significantly
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178300' id='497716'>
<a class='timestamp' href='#497716'><time timestamp='2016-09-29T19:45:00Z'>19:45</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sipa: I (hope) I&#x27;m not confused. If we would add a SPV hybrid mode directly fetch blocks at the tip (in order to received payments), no available checkpoint would result in downloading all headers <b>*losing*</b> maybe 3-4mins before you can start using SPV... minor issue though, I agree
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178300' id='497717'>
<a class='timestamp' href='#497717'><time timestamp='2016-09-29T19:45:00Z'>19:45</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: that assumes you know what the current hashrate is
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178300' id='497718'>
<a class='timestamp' href='#497718'><time timestamp='2016-09-29T19:45:00Z'>19:45</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
wumpus: the prior proposals were based on work,  e.g. skip if the best chain you see dominates the next conflicted chain at that hight by N months of work.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178300' id='497719'>
<a class='timestamp' href='#497719'><time timestamp='2016-09-29T19:45:00Z'>19:45</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
gmaxwell: How have we solved the problem that checkpoints were originally created for? You have an excerpt in here: <a href="https://en.bitcoin.it/wiki/Bitcoin_Core_0.11_(ch_5):_Initial_Block_Download#Checkpoints" class="link" target="_blank">https://en.bitcoin.it/wiki/Bitcoin_Core_0.11_(ch_5):_Initial_Block_Download#Checkpoints</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178300' id='497720'>
<a class='timestamp' href='#497720'><time timestamp='2016-09-29T19:45:00Z'>19:45</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sipa: your node might be surrounded by sybils
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178300' id='497721'>
<a class='timestamp' href='#497721'><time timestamp='2016-09-29T19:45:00Z'>19:45</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
wumpus: with a &#x27;minimum total work&#x27; coded in as part of the release proces.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178360' id='497722'>
<a class='timestamp' href='#497722'><time timestamp='2016-09-29T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
Chris_Stewart_5: headers first sync
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178360' id='497723'>
<a class='timestamp' href='#497723'><time timestamp='2016-09-29T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
Chris_Stewart_5: 0.10
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178360' id='497724'>
<a class='timestamp' href='#497724'><time timestamp='2016-09-29T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Chris_Stewart_5: headers first sync.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178360' id='497725'>
<a class='timestamp' href='#497725'><time timestamp='2016-09-29T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
gmaxwell: right. Well, at the least it should be measured whether such a change is really worth it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178360' id='497726'>
<a class='timestamp' href='#497726'><time timestamp='2016-09-29T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
petertodd: yes, i know...
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178360' id='497727'>
<a class='timestamp' href='#497727'><time timestamp='2016-09-29T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
so, let&#x27;s measure.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178360' id='497728'>
<a class='timestamp' href='#497728'><time timestamp='2016-09-29T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and discuss later
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178360' id='497729'>
<a class='timestamp' href='#497729'><time timestamp='2016-09-29T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Chris_Stewart_5: and the signature skipping behavior in checkpoints was actually a result of a bug fixed years ago.. mlock being used on all allocations making script validation INSANELY slow.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178360' id='497730'>
<a class='timestamp' href='#497730'><time timestamp='2016-09-29T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
so much of the verification overhead is looking up UTXOs
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178360' id='497731'>
<a class='timestamp' href='#497731'><time timestamp='2016-09-29T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sipa: okay.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178360' id='497732'>
<a class='timestamp' href='#497732'><time timestamp='2016-09-29T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
something you&#x27;ll not avoid
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178420' id='497733'>
<a class='timestamp' href='#497733'><time timestamp='2016-09-29T19:47:00Z'>19:47</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Chris_Stewart_5: but then with chain growth we became dependant on it to keep sync times reasonable. but libsecp256k1 made signature validation &gt;5x faster.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178420' id='497734'>
<a class='timestamp' href='#497734'><time timestamp='2016-09-29T19:47:00Z'>19:47</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
especially for recent blocks
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178420' id='497735'>
<a class='timestamp' href='#497735'><time timestamp='2016-09-29T19:47:00Z'>19:47</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
if you do any benchmarking please look at the recent blocks, not the first N
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178480' id='497736'>
<a class='timestamp' href='#497736'><time timestamp='2016-09-29T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
wumpus: it&#x27;s still a major speed up on existing blocks.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178480' id='497737'>
<a class='timestamp' href='#497737'><time timestamp='2016-09-29T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
in a side node: i&#x27;ve already updated my logging to measure bandwidth vs blockdepth instead of just count.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178480' id='497738'>
<a class='timestamp' href='#497738'><time timestamp='2016-09-29T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
So header sync solves the attack of flooding disk space, but not having your entire network hijacked, correct?
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178480' id='497739'>
<a class='timestamp' href='#497739'><time timestamp='2016-09-29T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
Chris_Stewart_5: huh?
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178480' id='497740'>
<a class='timestamp' href='#497740'><time timestamp='2016-09-29T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
gmaxwell: sure, could be
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178480' id='497741'>
<a class='timestamp' href='#497741'><time timestamp='2016-09-29T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Chris_Stewart_5: isolation can be resolved by simply knowing what the total work of the best chain was at release.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178540' id='497742'>
<a class='timestamp' href='#497742'><time timestamp='2016-09-29T19:49:00Z'>19:49</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Chris_Stewart_5: sorry, this was discussed prior times removing checkpoints had come up, I haven&#x27;t completely described the background.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178540' id='497743'>
<a class='timestamp' href='#497743'><time timestamp='2016-09-29T19:49:00Z'>19:49</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
gmaxwell: Thanks for the explanation, i&#x27;ll keep digging. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178540' id='497744'>
<a class='timestamp' href='#497744'><time timestamp='2016-09-29T19:49:00Z'>19:49</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
Chris_Stewart_5: ah, you mean being isolated and being fed a wrong chain, sorry I was imaginging some wacky things at having your network hijacked :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178600' id='497745'>
<a class='timestamp' href='#497745'><time timestamp='2016-09-29T19:50:00Z'>19:50</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
ok, next topic?
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178600' id='497746'>
<a class='timestamp' href='#497746'><time timestamp='2016-09-29T19:50:00Z'>19:50</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
wumpus: just the &quot;you got a faithful bitcoin core download but the attacker controls your network&quot;... but that doesn&#x27;t need a checkpoint to fix, a simple partitioning detction that knows the total work of the best chain at releast time is sufficient.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178600' id='497747'>
<a class='timestamp' href='#497747'><time timestamp='2016-09-29T19:50:00Z'>19:50</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Thanks for the discussion.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178660' id='497748'>
<a class='timestamp' href='#497748'><time timestamp='2016-09-29T19:51:00Z'>19:51</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
#topic segwit against uncompressed keys or not
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178660' id='497749'>
<a class='timestamp' href='#497749'><time timestamp='2016-09-29T19:51:00Z'>19:51</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
(10 minutes to go)
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178660' id='497750'>
<a class='timestamp' href='#497750'><time timestamp='2016-09-29T19:51:00Z'>19:51</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
(9 minutes to go)
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178660' id='497751'>
<a class='timestamp' href='#497751'><time timestamp='2016-09-29T19:51:00Z'>19:51</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
so to be clear, <b>*just*</b> segwit right?
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178660' id='497752'>
<a class='timestamp' href='#497752'><time timestamp='2016-09-29T19:51:00Z'>19:51</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
does anyone still use uncompressed keys?
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178660' id='497753'>
<a class='timestamp' href='#497753'><time timestamp='2016-09-29T19:51:00Z'>19:51</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes, only segwit
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178660' id='497754'>
<a class='timestamp' href='#497754'><time timestamp='2016-09-29T19:51:00Z'>19:51</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
CodeShark: armory does
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178660' id='497755'>
<a class='timestamp' href='#497755'><time timestamp='2016-09-29T19:51:00Z'>19:51</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
seems uncontroversial
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178660' id='497756'>
<a class='timestamp' href='#497756'><time timestamp='2016-09-29T19:51:00Z'>19:51</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
I&#x27;m happy to ACK that given just segwit
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178660' id='497757'>
<a class='timestamp' href='#497757'><time timestamp='2016-09-29T19:51:00Z'>19:51</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
having segwit enforce uncompressed keys would delay segwit adoption for armory users
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178720' id='497758'>
<a class='timestamp' href='#497758'><time timestamp='2016-09-29T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
*compressed
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178720' id='497759'>
<a class='timestamp' href='#497759'><time timestamp='2016-09-29T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-2'> jl2012_</span>&gt;
it&#x27;s in #8499
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178720' id='497760'>
<a class='timestamp' href='#497760'><time timestamp='2016-09-29T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
achow101: why? just compress them
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178720' id='497761'>
<a class='timestamp' href='#497761'><time timestamp='2016-09-29T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
gmaxwell: yes, though we had a lot of trouble with partitioning detection, I remember some code being stripped out and such. But anyhow, yes that&#x27;s the better approach if it can be gotten to work.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178720' id='497762'>
<a class='timestamp' href='#497762'><time timestamp='2016-09-29T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
achow101: sigh, does armory still not do that?
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178720' id='497763'>
<a class='timestamp' href='#497763'><time timestamp='2016-09-29T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
luke-jr: we have to change the whole wallet structure (it&#x27;s still going to happen anyways)
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178720' id='497764'>
<a class='timestamp' href='#497764'><time timestamp='2016-09-29T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
gmaxwell: without too much false positives
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178720' id='497765'>
<a class='timestamp' href='#497765'><time timestamp='2016-09-29T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
achow101: why?
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178720' id='497766'>
<a class='timestamp' href='#497766'><time timestamp='2016-09-29T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
achow101: alan said somewhere in 2013 he was implementing it...
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178720' id='497767'>
<a class='timestamp' href='#497767'><time timestamp='2016-09-29T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
alan&#x27;s gone now..
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178720' id='497768'>
<a class='timestamp' href='#497768'><time timestamp='2016-09-29T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
afaik the only downside to using compressed keys is it changes the address, which segwit is changing anyway
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178720' id='497769'>
<a class='timestamp' href='#497769'><time timestamp='2016-09-29T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
it&#x27;s not a very complicated change
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178720' id='497770'>
<a class='timestamp' href='#497770'><time timestamp='2016-09-29T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
armory still uses uncompressed keys?!
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178780' id='497771'>
<a class='timestamp' href='#497771'><time timestamp='2016-09-29T19:53:00Z'>19:53</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
there&#x27;s no reason you&#x27;d need to change the wallet structure I can see
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178780' id='497772'>
<a class='timestamp' href='#497772'><time timestamp='2016-09-29T19:53:00Z'>19:53</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
in any case this only applies to segwit, not to old transactions
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178780' id='497773'>
<a class='timestamp' href='#497773'><time timestamp='2016-09-29T19:53:00Z'>19:53</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
the plan is to have a new wallet structure with bip32 that supports segwit and compressed keys
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178780' id='497774'>
<a class='timestamp' href='#497774'><time timestamp='2016-09-29T19:53:00Z'>19:53</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
wumpus: &quot;you&#x27;re partitioned until you see a header chain with at least work X&quot; is a pretty simple critera. :P
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178780' id='497775'>
<a class='timestamp' href='#497775'><time timestamp='2016-09-29T19:53:00Z'>19:53</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
luke-jr: it had fixed size records in its wallet format for pubkeys
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178840' id='497776'>
<a class='timestamp' href='#497776'><time timestamp='2016-09-29T19:54:00Z'>19:54</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
achow101: well if a new wallet format is needed for segwit anyway, it doesn&#x27;t matter right?
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178840' id='497777'>
<a class='timestamp' href='#497777'><time timestamp='2016-09-29T19:54:00Z'>19:54</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
achow101: oh god please do not use uncompressed keys with segwit. why would you do that?
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178840' id='497778'>
<a class='timestamp' href='#497778'><time timestamp='2016-09-29T19:54:00Z'>19:54</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
sipa: zero-pad it?
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178840' id='497779'>
<a class='timestamp' href='#497779'><time timestamp='2016-09-29T19:54:00Z'>19:54</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
sipa: well no, we don&#x27;t need a new wallet for segwit as it could still work with the old one with a little bit of hacking
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178840' id='497780'>
<a class='timestamp' href='#497780'><time timestamp='2016-09-29T19:54:00Z'>19:54</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
that was the original plan
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178840' id='497781'>
<a class='timestamp' href='#497781'><time timestamp='2016-09-29T19:54:00Z'>19:54</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
achow101: no less than compressed could
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178900' id='497782'>
<a class='timestamp' href='#497782'><time timestamp='2016-09-29T19:55:00Z'>19:55</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
sipa: or store the uncompressed key, and compress it at address-generation/signing
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178900' id='497783'>
<a class='timestamp' href='#497783'><time timestamp='2016-09-29T19:55:00Z'>19:55</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
achow101: why cant the same hack that indicates segwit is in use indicate compressed.. you just chop off some bytes of the key pretty much.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178900' id='497784'>
<a class='timestamp' href='#497784'><time timestamp='2016-09-29T19:55:00Z'>19:55</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
btw, uncompressed keys account for 0.7% of used keys in succesful sigs on the network (in the past 2 hours)
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178900' id='497785'>
<a class='timestamp' href='#497785'><time timestamp='2016-09-29T19:55:00Z'>19:55</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
it could be done entirely inside the process that seralizes the segwit scriptpubkey.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178900' id='497786'>
<a class='timestamp' href='#497786'><time timestamp='2016-09-29T19:55:00Z'>19:55</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
gmaxwell: idk. ask goatpig
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178960' id='497787'>
<a class='timestamp' href='#497787'><time timestamp='2016-09-29T19:56:00Z'>19:56</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
achow101: okay
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178960' id='497788'>
<a class='timestamp' href='#497788'><time timestamp='2016-09-29T19:56:00Z'>19:56</time></a>
&lt;<span class='nick nick-12'> * michagogo</span>&gt;
pokes his head in belatedly
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178960' id='497789'>
<a class='timestamp' href='#497789'><time timestamp='2016-09-29T19:56:00Z'>19:56</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
I think we should encourage all wallets to use compressed keys - achow101, if you need help with this I&#x27;d be willing to help
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178960' id='497790'>
<a class='timestamp' href='#497790'><time timestamp='2016-09-29T19:56:00Z'>19:56</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
agree - we should help
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178960' id='497791'>
<a class='timestamp' href='#497791'><time timestamp='2016-09-29T19:56:00Z'>19:56</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
yes, lots of people would be glad to help.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178960' id='497792'>
<a class='timestamp' href='#497792'><time timestamp='2016-09-29T19:56:00Z'>19:56</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
instead of just yell
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178960' id='497793'>
<a class='timestamp' href='#497793'><time timestamp='2016-09-29T19:56:00Z'>19:56</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
well I offered to help armory move off uncompressed keys to alan several times, including offering to pay to do it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475178960' id='497794'>
<a class='timestamp' href='#497794'><time timestamp='2016-09-29T19:56:00Z'>19:56</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
so please don&#x27;t say anyone just yelled.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475179080' id='497795'>
<a class='timestamp' href='#497795'><time timestamp='2016-09-29T19:58:00Z'>19:58</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
I initially designed my account structures to only use compressed keys - but later added a compressed bit to support legacy stuff
<br>
</div>

<div class='talk op-msg' data-timestamp='1475179140' id='497796'>
<a class='timestamp' href='#497796'><time timestamp='2016-09-29T19:59:00Z'>19:59</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
CodeShark: what legacy stuff specifically? legacy armory users?
<br>
</div>

<div class='talk op-msg' data-timestamp='1475179140' id='497797'>
<a class='timestamp' href='#497797'><time timestamp='2016-09-29T19:59:00Z'>19:59</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
CodeShark: bah,it&#x27;s kind of sad that to hear some things seem to be going back instead of forward :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1475179140' id='497798'>
<a class='timestamp' href='#497798'><time timestamp='2016-09-29T19:59:00Z'>19:59</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
yes, to support other wallets
<br>
</div>

<div class='talk op-msg' data-timestamp='1475179140' id='497799'>
<a class='timestamp' href='#497799'><time timestamp='2016-09-29T19:59:00Z'>19:59</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it&#x27;s time
<br>
</div>

<div class='talk op-msg' data-timestamp='1475179140' id='497800'>
<a class='timestamp' href='#497800'><time timestamp='2016-09-29T19:59:00Z'>19:59</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
but I think we really do need to prod all wallets to move to compressed keys
<br>
</div>

<div class='talk op-msg' data-timestamp='1475179200' id='497801'>
<a class='timestamp' href='#497801'><time timestamp='2016-09-29T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
there&#x27;s really no reason to continue to support uncompressed keys - other than perhaps some migration tools
<br>
</div>

<div class='talk op-msg' data-timestamp='1475179200' id='497802'>
<a class='timestamp' href='#497802'><time timestamp='2016-09-29T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
#endmeeting
<br>
</div>

<div class='talk op-msg' data-timestamp='1475179200' id='497803'>
<a class='timestamp' href='#497803'><time timestamp='2016-09-29T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
CodeShark: as pieter notes, virutally nothing is already.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475179200' id='497804'>
<a class='timestamp' href='#497804'><time timestamp='2016-09-29T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Meeting ended Thu Sep 29 20:00:15 2016 UTC.  Information about MeetBot at <a href="http://wiki.debian.org/MeetBot" class="link" target="_blank">http://wiki.debian.org/MeetBot</a> . (v 0.1.4)
<br>
</div>

<div class='talk op-msg' data-timestamp='1475179200' id='497805'>
<a class='timestamp' href='#497805'><time timestamp='2016-09-29T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Minutes:        <a href="http://www.erisian.com.au/meetbot/bitcoin-core-dev/2016/bitcoin-core-dev.2016-09-29-19.01.html" class="link" target="_blank">http://www.erisian.com.au/meetbot/bitcoin-core-dev/2016/bitcoin-core-dev.2016-09-29-19.01.html</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1475179200' id='497806'>
<a class='timestamp' href='#497806'><time timestamp='2016-09-29T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Minutes (text): <a href="http://www.erisian.com.au/meetbot/bitcoin-core-dev/2016/bitcoin-core-dev.2016-09-29-19.01.txt" class="link" target="_blank">http://www.erisian.com.au/meetbot/bitcoin-core-dev/2016/bitcoin-core-dev.2016-09-29-19.01.txt</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1475179200' id='497807'>
<a class='timestamp' href='#497807'><time timestamp='2016-09-29T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Log:            <a href="http://www.erisian.com.au/meetbot/bitcoin-core-dev/2016/bitcoin-core-dev.2016-09-29-19.01.log.html" class="link" target="_blank">http://www.erisian.com.au/meetbot/bitcoin-core-dev/2016/bitcoin-core-dev.2016-09-29-19.01.log.html</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1475179200' id='497808'>
<a class='timestamp' href='#497808'><time timestamp='2016-09-29T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
0.7% percent
<br>
</div>

<div class='talk op-msg' data-timestamp='1475179200' id='497809'>
<a class='timestamp' href='#497809'><time timestamp='2016-09-29T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-1'> anchow101</span>&gt;
Yes, help would be appreciated
<br>
</div>

<div class='talk op-msg' data-timestamp='1475179260' id='497810'>
<a class='timestamp' href='#497810'><time timestamp='2016-09-29T20:01:00Z'>20:01</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
well supporting it in consensus for the normal network keeps making sense, but segwit is just such a great oppertunity to get rid of it
<br>
</div>

<div class='talk op-msg' data-timestamp='1475179260' id='497811'>
<a class='timestamp' href='#497811'><time timestamp='2016-09-29T20:01:00Z'>20:01</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
wumpus: yeah, I don&#x27;t see how we can remove backwards compatibility for it w/o confiscating funds, but no reason to not remove support in new addresses
<br>
</div>

<div class='talk op-msg' data-timestamp='1475179260' id='497812'>
<a class='timestamp' href='#497812'><time timestamp='2016-09-29T20:01:00Z'>20:01</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
petertodd: indeed
<br>
</div>

<div class='talk op-msg' data-timestamp='1475179260' id='497813'>
<a class='timestamp' href='#497813'><time timestamp='2016-09-29T20:01:00Z'>20:01</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
yes, thats why its important to get rid of now. otherwise I wouldn&#x27;t care if action were taken n months later.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475179260' id='497814'>
<a class='timestamp' href='#497814'><time timestamp='2016-09-29T20:01:00Z'>20:01</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
if anything, we should be discussing whether to make it a consensus rule rather than a policy ;)
<br>
</div>

<div class='talk op-msg' data-timestamp='1475179320' id='497815'>
<a class='timestamp' href='#497815'><time timestamp='2016-09-29T20:02:00Z'>20:02</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
luke-jr: I like to but many people feel that addining an additional consensus rule for segwit now wouldn&#x27;t be prudent.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475179320' id='497816'>
<a class='timestamp' href='#497816'><time timestamp='2016-09-29T20:02:00Z'>20:02</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
making it non-standard is sufficient in my view, such that we&#x27;d be able to make it a consensus rule later.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475179320' id='497817'>
<a class='timestamp' href='#497817'><time timestamp='2016-09-29T20:02:00Z'>20:02</time></a>
&lt;<span class='nick nick-6'> btcdrak</span>&gt;
achow101 seems to be having connection problems
<br>
</div>

<div class='talk op-msg' data-timestamp='1475179320' id='497818'>
<a class='timestamp' href='#497818'><time timestamp='2016-09-29T20:02:00Z'>20:02</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
sure
<br>
</div>

<div class='talk op-msg' data-timestamp='1475179320' id='497819'>
<a class='timestamp' href='#497819'><time timestamp='2016-09-29T20:02:00Z'>20:02</time></a>
&lt;<span class='nick nick-9'> achow101_</span>&gt;
btcdrak: just a little bit. switching computers
<br>
</div>

<div class='talk op-msg' data-timestamp='1475179320' id='497820'>
<a class='timestamp' href='#497820'><time timestamp='2016-09-29T20:02:00Z'>20:02</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
gmaxwell: having to deal with the additional case complicates implementations
<br>
</div>

<div class='talk op-msg' data-timestamp='1475179320' id='497821'>
<a class='timestamp' href='#497821'><time timestamp='2016-09-29T20:02:00Z'>20:02</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
just saying the rule shouldn&#x27;t be controversial itself really
<br>
</div>

<div class='talk op-msg' data-timestamp='1475179380' id='497822'>
<a class='timestamp' href='#497822'><time timestamp='2016-09-29T20:03:00Z'>20:03</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
not very much, but still
<br>
</div>

<div class='talk op-msg' data-timestamp='1475179380' id='497823'>
<a class='timestamp' href='#497823'><time timestamp='2016-09-29T20:03:00Z'>20:03</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
gmaxwell: well, so long as we loudly warn that this is intended to become unspendable later if you bypass the standardness
<br>
</div>

<div class='talk op-msg' data-timestamp='1475179380' id='497824'>
<a class='timestamp' href='#497824'><time timestamp='2016-09-29T20:03:00Z'>20:03</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
gmaxwell: if so, we should be as clear about it being not allowed now as if we were to make it a consensus rule now.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475179380' id='497825'>
<a class='timestamp' href='#497825'><time timestamp='2016-09-29T20:03:00Z'>20:03</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
for those thinking that we have to verify all the old stuff for all time, that might be true for bitcoin core, but in the future I could imagine some implementations just not bothering to verify old stuff. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1475179440' id='497826'>
<a class='timestamp' href='#497826'><time timestamp='2016-09-29T20:04:00Z'>20:04</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
morcos: petertodd: agreed for sure. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1475179440' id='497827'>
<a class='timestamp' href='#497827'><time timestamp='2016-09-29T20:04:00Z'>20:04</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
petertodd: ntoe that it&#x27;s standard to create an output with an uncompressed pubkey hash, as we can&#x27;t detect the issue until a spend attempt (right?)
<br>
</div>

<div class='talk op-msg' data-timestamp='1475179440' id='497828'>
<a class='timestamp' href='#497828'><time timestamp='2016-09-29T20:04:00Z'>20:04</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
I agree with luke-jr on not seeing the controversy in it being consensus rule with the rest of segwit
<br>
</div>

<div class='talk op-msg' data-timestamp='1475179440' id='497829'>
<a class='timestamp' href='#497829'><time timestamp='2016-09-29T20:04:00Z'>20:04</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
gmaxwell: I don&#x27;t mean verifying old stuff, I mean verifying new txs spending old coins
<br>
</div>

<div class='talk op-msg' data-timestamp='1475179440' id='497830'>
<a class='timestamp' href='#497830'><time timestamp='2016-09-29T20:04:00Z'>20:04</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
sdaftuar: yes, nothing we can do about that though
<br>
</div>

<div class='talk op-msg' data-timestamp='1475179500' id='497831'>
<a class='timestamp' href='#497831'><time timestamp='2016-09-29T20:05:00Z'>20:05</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
jtimon: well in the case of low-S which we also wanted to make a consensus rule, jl2012 discovered that there were corner conditions we wanted to think about more carefully before making it a consensus rule.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475179500' id='497832'>
<a class='timestamp' href='#497832'><time timestamp='2016-09-29T20:05:00Z'>20:05</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
petertodd: right; just want to make sure we&#x27;re all on the same page as i think communicating this widely/loudly is important
<br>
</div>

<div class='talk op-msg' data-timestamp='1475179500' id='497833'>
<a class='timestamp' href='#497833'><time timestamp='2016-09-29T20:05:00Z'>20:05</time></a>
&lt;<span class='nick nick-7'> petertodd</span>&gt;
for example, we&#x27;ve made hybrid pubkeys non-standard, and given basically no-one&#x27;s ever used them in production for anything I&#x27;d have no issues with making them unspendable in a soft-fork
<br>
</div>

<div class='talk op-msg' data-timestamp='1475179500' id='497834'>
<a class='timestamp' href='#497834'><time timestamp='2016-09-29T20:05:00Z'>20:05</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
gmaxwell: thanks
<br>
</div>

<div class='talk op-msg' data-timestamp='1475179560' id='497835'>
<a class='timestamp' href='#497835'><time timestamp='2016-09-29T20:06:00Z'>20:06</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
jtimon: I don&#x27;t think the same applies to uncompressed keys, because the criteria there is even simpler. but the lowS reason is part of why we punted this collection of improvements to policy for now.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475179560' id='497836'>
<a class='timestamp' href='#497836'><time timestamp='2016-09-29T20:06:00Z'>20:06</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
mhmm
<br>
</div>

<div class='talk op-msg' data-timestamp='1475179560' id='497837'>
<a class='timestamp' href='#497837'><time timestamp='2016-09-29T20:06:00Z'>20:06</time></a>
&lt;<span class='nick nick-10'> michagogo</span>&gt;
I saw a movie that depicts a form of distributed/decentralized system, to avoid it getting shut down. Or in the words of the character that explains it, &quot;everyone that logs on is a server&quot;. It&#x27;s said to be &quot;open source&quot;, but then that&#x27;s explained as &quot;anyone can edit the code, like Wikipedia.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475179620' id='497838'>
<a class='timestamp' href='#497838'><time timestamp='2016-09-29T20:07:00Z'>20:07</time></a>
&lt;<span class='nick nick-9'> achow101_</span>&gt;
so if anyone wants to help armory with segwit support, bip32, compressed keys, we accept PRs. All our work happens in the dev branch, not master
<br>
</div>

<div class='talk op-msg' data-timestamp='1475179620' id='497839'>
<a class='timestamp' href='#497839'><time timestamp='2016-09-29T20:07:00Z'>20:07</time></a>
&lt;<span class='nick nick-10'> michagogo</span>&gt;
And the code is deployed when a majority of users approve it
<br>
</div>

<div class='talk op-msg' data-timestamp='1475179680' id='497840'>
<a class='timestamp' href='#497840'><time timestamp='2016-09-29T20:08:00Z'>20:08</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
michagogo: heh, open source in some weird twisted mirror world
<br>
</div>

<div class='talk op-msg' data-timestamp='1475179680' id='497841'>
<a class='timestamp' href='#497841'><time timestamp='2016-09-29T20:08:00Z'>20:08</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
achow101: is there a IRC channel where things are discussed? E.g. where should I ask goatpig about compressed pubkeys in segwit.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475179680' id='497842'>
<a class='timestamp' href='#497842'><time timestamp='2016-09-29T20:08:00Z'>20:08</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
michagogo: i believe they&#x27;re mistakingly not describing a computer network, but politics.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475179680' id='497843'>
<a class='timestamp' href='#497843'><time timestamp='2016-09-29T20:08:00Z'>20:08</time></a>
&lt;<span class='nick nick-9'> achow101_</span>&gt;
#bitcoin-armory
<br>
</div>

<div class='talk op-msg' data-timestamp='1475179680' id='497844'>
<a class='timestamp' href='#497844'><time timestamp='2016-09-29T20:08:00Z'>20:08</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
michagogo: that is, when sybil decides so...
<br>
</div>

<div class='talk op-msg' data-timestamp='1475179680' id='497845'>
<a class='timestamp' href='#497845'><time timestamp='2016-09-29T20:08:00Z'>20:08</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
achow101_: meh, should just collapse that into #bitcoin-dev :p
<br>
</div>

<div class='talk op-msg' data-timestamp='1475179740' id='497846'>
<a class='timestamp' href='#497846'><time timestamp='2016-09-29T20:09:00Z'>20:09</time></a>
&lt;<span class='nick nick-10'> michagogo</span>&gt;
And it&#x27;s completely vulnerable to Sybil attacksâ€¦
<br>
</div>

<div class='talk op-msg' data-timestamp='1475179740' id='497847'>
<a class='timestamp' href='#497847'><time timestamp='2016-09-29T20:09:00Z'>20:09</time></a>
&lt;<span class='nick nick-10'> michagogo</span>&gt;
Gah, lagging
<br>
</div>

<div class='talk op-msg' data-timestamp='1475179740' id='497848'>
<a class='timestamp' href='#497848'><time timestamp='2016-09-29T20:09:00Z'>20:09</time></a>
&lt;<span class='nick nick-10'> michagogo</span>&gt;
Yeah
<br>
</div>

<div class='talk op-msg' data-timestamp='1475179800' id='497849'>
<a class='timestamp' href='#497849'><time timestamp='2016-09-29T20:10:00Z'>20:10</time></a>
&lt;<span class='nick nick-10'> michagogo</span>&gt;
And of course, when the last user logs off, it doesn&#x27;t just stop working
<br>
</div>

<div class='talk op-msg' data-timestamp='1475179800' id='497850'>
<a class='timestamp' href='#497850'><time timestamp='2016-09-29T20:10:00Z'>20:10</time></a>
&lt;<span class='nick nick-10'> michagogo</span>&gt;
The sybil attackers are able to watch it dramatically implode with special effects, &quot;graphical corruption&quot; type stuff
<br>
</div>

<div class='talk op-msg' data-timestamp='1475179860' id='497851'>
<a class='timestamp' href='#497851'><time timestamp='2016-09-29T20:11:00Z'>20:11</time></a>
&lt;<span class='nick nick-10'> michagogo</span>&gt;
And there&#x27;s the obligatory &quot;they&#x27;re blocking all our foreign IPs&quot; and that kind of stuff, with no explanation of who &quot;they&quot; are
<br>
</div>

<div class='talk op-msg' data-timestamp='1475179920' id='497852'>
<a class='timestamp' href='#497852'><time timestamp='2016-09-29T20:12:00Z'>20:12</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
so what was there a conclusion for the range service bits? nothing/top-288/everything? 
<br>
</div>

<div class='talk op-msg' data-timestamp='1475179920' id='497853'>
<a class='timestamp' href='#497853'><time timestamp='2016-09-29T20:12:00Z'>20:12</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
what about the getrange message and &quot;sharding&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1475179920' id='497854'>
<a class='timestamp' href='#497854'><time timestamp='2016-09-29T20:12:00Z'>20:12</time></a>
&lt;<span class='nick nick-16'> GitHub159</span>&gt;
[bitcoin] laanwj opened pull request #8843: rpc: Handle `getinfo` client-side in bitcoin-cli w/ `-getinfo` (master...2016_09_getinfo_clientside) <a href="https://github.com/bitcoin/bitcoin/pull/8843" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8843</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1475179920' id='497855'>
<a class='timestamp' href='#497855'><time timestamp='2016-09-29T20:12:00Z'>20:12</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
conclusion was to add one service bit: last-288-served
<br>
</div>

<div class='talk op-msg' data-timestamp='1475179980' id='497856'>
<a class='timestamp' href='#497856'><time timestamp='2016-09-29T20:13:00Z'>20:13</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
and maybe later one for last-1000-served
<br>
</div>

<div class='talk op-msg' data-timestamp='1475179980' id='497857'>
<a class='timestamp' href='#497857'><time timestamp='2016-09-29T20:13:00Z'>20:13</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
wumpus: I see, and leave the rest for later, thanks
<br>
</div>

<div class='talk op-msg' data-timestamp='1475179980' id='497858'>
<a class='timestamp' href='#497858'><time timestamp='2016-09-29T20:13:00Z'>20:13</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
1024 would be rounder. â˜º
<br>
</div>

<div class='talk op-msg' data-timestamp='1475179980' id='497859'>
<a class='timestamp' href='#497859'><time timestamp='2016-09-29T20:13:00Z'>20:13</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
and a jackpot for whoever enabled both at once
<br>
</div>

<div class='talk op-msg' data-timestamp='1475179980' id='497860'>
<a class='timestamp' href='#497860'><time timestamp='2016-09-29T20:13:00Z'>20:13</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
if you set both, does it mean last 288000? :P
<br>
</div>

<div class='talk op-msg' data-timestamp='1475180040' id='497861'>
<a class='timestamp' href='#497861'><time timestamp='2016-09-29T20:14:00Z'>20:14</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
would it be crazy to just have last-1024 without last-288 and just change prunning&#x27;s default?
<br>
</div>

<div class='talk op-msg' data-timestamp='1475180040' id='497862'>
<a class='timestamp' href='#497862'><time timestamp='2016-09-29T20:14:00Z'>20:14</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
288 is not just the default, it&#x27;s the minimum
<br>
</div>

<div class='talk op-msg' data-timestamp='1475180100' id='497863'>
<a class='timestamp' href='#497863'><time timestamp='2016-09-29T20:15:00Z'>20:15</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I&#x27;d be okay with changing the default not the minimum, but that&#x27;d keep some nodes completely useless
<br>
</div>

<div class='talk op-msg' data-timestamp='1475180100' id='497864'>
<a class='timestamp' href='#497864'><time timestamp='2016-09-29T20:15:00Z'>20:15</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
whereas by far most requests are in the last 288
<br>
</div>

<div class='talk op-msg' data-timestamp='1475180100' id='497865'>
<a class='timestamp' href='#497865'><time timestamp='2016-09-29T20:15:00Z'>20:15</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
wumpus: useless for syncing*
<br>
</div>

<div class='talk op-msg' data-timestamp='1475180100' id='497866'>
<a class='timestamp' href='#497866'><time timestamp='2016-09-29T20:15:00Z'>20:15</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
frankly, there are enough full-archive nodes out there that we really don&#x27;t <b>*need*</b> to do anything right now, so meh :p
<br>
</div>

<div class='talk op-msg' data-timestamp='1475180160' id='497867'>
<a class='timestamp' href='#497867'><time timestamp='2016-09-29T20:16:00Z'>20:16</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
wumpus: actually, not true.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475180160' id='497868'>
<a class='timestamp' href='#497868'><time timestamp='2016-09-29T20:16:00Z'>20:16</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
well, the users know what to do to stop being useless...
<br>
</div>

<div class='talk op-msg' data-timestamp='1475180160' id='497869'>
<a class='timestamp' href='#497869'><time timestamp='2016-09-29T20:16:00Z'>20:16</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
which, as morcos remarked, preferentially downloading the last blocks from would take a lot of load of nodes that do keep more blocks
<br>
</div>

<div class='talk op-msg' data-timestamp='1475180160' id='497870'>
<a class='timestamp' href='#497870'><time timestamp='2016-09-29T20:16:00Z'>20:16</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
there are more requests in 101-1000 deep then 2-100 deep
<br>
</div>

<div class='talk op-msg' data-timestamp='1475180160' id='497871'>
<a class='timestamp' href='#497871'><time timestamp='2016-09-29T20:16:00Z'>20:16</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
ok...
<br>
</div>

<div class='talk op-msg' data-timestamp='1475180160' id='497872'>
<a class='timestamp' href='#497872'><time timestamp='2016-09-29T20:16:00Z'>20:16</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
*than
<br>
</div>

<div class='talk op-msg' data-timestamp='1475180160' id='497873'>
<a class='timestamp' href='#497873'><time timestamp='2016-09-29T20:16:00Z'>20:16</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I misremembered apparently, never mind
<br>
</div>

<div class='talk op-msg' data-timestamp='1475180160' id='497874'>
<a class='timestamp' href='#497874'><time timestamp='2016-09-29T20:16:00Z'>20:16</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
an unsyncable-from node is still more useful than a syncable node that isn&#x27;t used for a wallet
<br>
</div>

<div class='talk op-msg' data-timestamp='1475180220' id='497875'>
<a class='timestamp' href='#497875'><time timestamp='2016-09-29T20:17:00Z'>20:17</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
syncable-from*
<br>
</div>

<div class='talk op-msg' data-timestamp='1475180220' id='497876'>
<a class='timestamp' href='#497876'><time timestamp='2016-09-29T20:17:00Z'>20:17</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
maybe we can changethe prunning minimum if that simplifies things?
<br>
</div>

<div class='talk op-msg' data-timestamp='1475180220' id='497877'>
<a class='timestamp' href='#497877'><time timestamp='2016-09-29T20:17:00Z'>20:17</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
wumpus: well, sample of 1 long-term-running node over the course of a few weeks of data
<br>
</div>

<div class='talk op-msg' data-timestamp='1475180220' id='497878'>
<a class='timestamp' href='#497878'><time timestamp='2016-09-29T20:17:00Z'>20:17</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
wumpus: more samples welcome
<br>
</div>

<div class='talk op-msg' data-timestamp='1475180220' id='497879'>
<a class='timestamp' href='#497879'><time timestamp='2016-09-29T20:17:00Z'>20:17</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
sipa: do you have a special patch for statistics collection?
<br>
</div>

<div class='talk op-msg' data-timestamp='1475180280' id='497880'>
<a class='timestamp' href='#497880'><time timestamp='2016-09-29T20:18:00Z'>20:18</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sipa: need to filter out bitnotes. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1475180280' id='497881'>
<a class='timestamp' href='#497881'><time timestamp='2016-09-29T20:18:00Z'>20:18</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: right; how do you suggest to do that?
<br>
</div>

<div class='talk op-msg' data-timestamp='1475180280' id='497882'>
<a class='timestamp' href='#497882'><time timestamp='2016-09-29T20:18:00Z'>20:18</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
sipa: or a script for parsing logs?
<br>
</div>

<div class='talk op-msg' data-timestamp='1475180280' id='497883'>
<a class='timestamp' href='#497883'><time timestamp='2016-09-29T20:18:00Z'>20:18</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
wumpus: both; i&#x27;ll publish them after a little cleanup
<br>
</div>

<div class='talk op-msg' data-timestamp='1475180280' id='497884'>
<a class='timestamp' href='#497884'><time timestamp='2016-09-29T20:18:00Z'>20:18</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I could put it up on a few nodes, no problem
<br>
</div>

<div class='talk op-msg' data-timestamp='1475180340' id='497885'>
<a class='timestamp' href='#497885'><time timestamp='2016-09-29T20:19:00Z'>20:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it just logs an extra line with depth and block size for each requested block
<br>
</div>

<div class='talk op-msg' data-timestamp='1475180340' id='497886'>
<a class='timestamp' href='#497886'><time timestamp='2016-09-29T20:19:00Z'>20:19</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
nice
<br>
</div>

<div class='talk op-msg' data-timestamp='1475180340' id='497887'>
<a class='timestamp' href='#497887'><time timestamp='2016-09-29T20:19:00Z'>20:19</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
I guess it&#x27;s not completely crazy, but nobody seem to specially like it
<br>
</div>

<div class='talk op-msg' data-timestamp='1475180340' id='497888'>
<a class='timestamp' href='#497888'><time timestamp='2016-09-29T20:19:00Z'>20:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
en then
<br>
</div>

<div class='talk op-msg' data-timestamp='1475180340' id='497889'>
<a class='timestamp' href='#497889'><time timestamp='2016-09-29T20:19:00Z'>20:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
S=0; fgrep DEEP ~/.bitcoin/debug.log | cut -d &#x27; &#x27; -f 4 | sort -g | uniq -c | tac | while read C D; do S=$(($S+$C)); echo &quot;$D $C $S&quot;; done | tac | less
<br>
</div>

<div class='talk op-msg' data-timestamp='1475180340' id='497890'>
<a class='timestamp' href='#497890'><time timestamp='2016-09-29T20:19:00Z'>20:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
to inspect :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1475180400' id='497891'>
<a class='timestamp' href='#497891'><time timestamp='2016-09-29T20:20:00Z'>20:20</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
jtimon: no, it&#x27;s not completely crazy, using only one service bit is kind of elegant
<br>
</div>

<div class='talk op-msg' data-timestamp='1475180460' id='497892'>
<a class='timestamp' href='#497892'><time timestamp='2016-09-29T20:21:00Z'>20:21</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
:)     
<br>
</div>

<div class='talk op-msg' data-timestamp='1475180520' id='497893'>
<a class='timestamp' href='#497893'><time timestamp='2016-09-29T20:22:00Z'>20:22</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
jtimon: if 1000 is really one-size-fits-all, and &lt;1000-keeping nodes may as well be ignored. It&#x27;s just hard to say without better statistics.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475180520' id='497894'>
<a class='timestamp' href='#497894'><time timestamp='2016-09-29T20:22:00Z'>20:22</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
also statistics about what pruning sizes people prefer
<br>
</div>

<div class='talk op-msg' data-timestamp='1475180520' id='497895'>
<a class='timestamp' href='#497895'><time timestamp='2016-09-29T20:22:00Z'>20:22</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I mean if everyone prefers the minimum and no one sets 1000 in practice
<br>
</div>

<div class='talk op-msg' data-timestamp='1475180580' id='497896'>
<a class='timestamp' href='#497896'><time timestamp='2016-09-29T20:23:00Z'>20:23</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sipa: just do Satoshi:(recent) useragents.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475180580' id='497897'>
<a class='timestamp' href='#497897'><time timestamp='2016-09-29T20:23:00Z'>20:23</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
well, independenlty of the statistics we will eventually need a more generic solution for flexible sharding, right?
<br>
</div>

<div class='talk op-msg' data-timestamp='1475180580' id='497898'>
<a class='timestamp' href='#497898'><time timestamp='2016-09-29T20:23:00Z'>20:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jtimon: maybe
<br>
</div>

<div class='talk op-msg' data-timestamp='1475180640' id='497899'>
<a class='timestamp' href='#497899'><time timestamp='2016-09-29T20:24:00Z'>20:24</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
&quot;need&quot; is a big word imho
<br>
</div>

<div class='talk op-msg' data-timestamp='1475180640' id='497900'>
<a class='timestamp' href='#497900'><time timestamp='2016-09-29T20:24:00Z'>20:24</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but i agree it would be nice
<br>
</div>

<div class='talk op-msg' data-timestamp='1475180640' id='497901'>
<a class='timestamp' href='#497901'><time timestamp='2016-09-29T20:24:00Z'>20:24</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
jtimon: I think we do, would you like to finish the solution for that I started on?
<br>
</div>

<div class='talk op-msg' data-timestamp='1475180640' id='497902'>
<a class='timestamp' href='#497902'><time timestamp='2016-09-29T20:24:00Z'>20:24</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
jtimon: well there needs to be a different solution for historical block hosting IMO, but that&#x27;s a different thing
<br>
</div>

<div class='talk op-msg' data-timestamp='1475180700' id='497903'>
<a class='timestamp' href='#497903'><time timestamp='2016-09-29T20:25:00Z'>20:25</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sipa: I think excepting participants to keep around hundreds of gigs of blockchain is not conducive to the surival of the network, the alternative I see is a hardfork that drops off the history past some point. (e.g. just restarts the chain from a utxo commitment made a year before)
<br>
</div>

<div class='talk op-msg' data-timestamp='1475180760' id='497904'>
<a class='timestamp' href='#497904'><time timestamp='2016-09-29T20:26:00Z'>20:26</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: well, or just stop supporting historical block fetching more than 1 year or whatever number back on the p2p protocol, and use http
<br>
</div>

<div class='talk op-msg' data-timestamp='1475180760' id='497905'>
<a class='timestamp' href='#497905'><time timestamp='2016-09-29T20:26:00Z'>20:26</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
or bittorrent <b>*ducks*</b>
<br>
</div>

<div class='talk op-msg' data-timestamp='1475180760' id='497906'>
<a class='timestamp' href='#497906'><time timestamp='2016-09-29T20:26:00Z'>20:26</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
wumpus: yeah, historical hosting is what I mean
<br>
</div>

<div class='talk op-msg' data-timestamp='1475180820' id='497907'>
<a class='timestamp' href='#497907'><time timestamp='2016-09-29T20:27:00Z'>20:27</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
gmaxwell: maybe, but it sounded deterministic like luke-jr proposed instead of flexible like wumpus wanted
<br>
</div>

<div class='talk op-msg' data-timestamp='1475180820' id='497908'>
<a class='timestamp' href='#497908'><time timestamp='2016-09-29T20:27:00Z'>20:27</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it could be anything that supports downloading ranges of data...
<br>
</div>

<div class='talk op-msg' data-timestamp='1475180820' id='497909'>
<a class='timestamp' href='#497909'><time timestamp='2016-09-29T20:27:00Z'>20:27</time></a>
&lt;<span class='nick nick-4'> brainwave</span>&gt;
Under overview, balances, on the right side of  available, pending, total, add ~ exchange rate for dollars, pounds, euro 
<br>
</div>

<div class='talk op-msg' data-timestamp='1475180880' id='497910'>
<a class='timestamp' href='#497910'><time timestamp='2016-09-29T20:28:00Z'>20:28</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
brainwave: bitcoin core does not and cannot know exchange rates
<br>
</div>

<div class='talk op-msg' data-timestamp='1475180880' id='497911'>
<a class='timestamp' href='#497911'><time timestamp='2016-09-29T20:28:00Z'>20:28</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
(because it would require contacting a centralized service, which we don&#x27;t do by design)
<br>
</div>

<div class='talk op-msg' data-timestamp='1475180940' id='497912'>
<a class='timestamp' href='#497912'><time timestamp='2016-09-29T20:29:00Z'>20:29</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes or someone would need to commit them to the chain, but that&#x27;d still be trusting a central issuer/signer of the information
<br>
</div>

<div class='talk op-msg' data-timestamp='1475180940' id='497913'>
<a class='timestamp' href='#497913'><time timestamp='2016-09-29T20:29:00Z'>20:29</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it&#x27;s just a no-go
<br>
</div>

<div class='talk op-msg' data-timestamp='1475181300' id='497914'>
<a class='timestamp' href='#497914'><time timestamp='2016-09-29T20:35:00Z'>20:35</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
well if the users of bitcoin accepted that kind of security model change, what I would suggest is something like every 26280 blocks the block is required to have a commitment to the utxo set (could be a linear hash) as of 2016 blocks prior. and then six months of work after that, that commitment becomes usable for initial sync. and so then no one need process more than a year of blocks at sync. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1475181300' id='497915'>
<a class='timestamp' href='#497915'><time timestamp='2016-09-29T20:35:00Z'>20:35</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
.. though you would have to store three copies of the utxo set (though perhaps deduplicated)
<br>
</div>

<div class='talk op-msg' data-timestamp='1475181360' id='497916'>
<a class='timestamp' href='#497916'><time timestamp='2016-09-29T20:36:00Z'>20:36</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
jtimon: I don&#x27;t know why anyone would find determinstic less desirable.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475181420' id='497917'>
<a class='timestamp' href='#497917'><time timestamp='2016-09-29T20:37:00Z'>20:37</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: well i expect the controversy to not be about the change in security model, but about the perpetual requirement of having a utxo set
<br>
</div>

<div class='talk op-msg' data-timestamp='1475181600' id='497918'>
<a class='timestamp' href='#497918'><time timestamp='2016-09-29T20:40:00Z'>20:40</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
gmaxwell: I explained that: if you make it deterministic you have to be sure of the parameters in advance, there is no room for tweaking or optimizing later on
<br>
</div>

<div class='talk op-msg' data-timestamp='1475181720' id='497919'>
<a class='timestamp' href='#497919'><time timestamp='2016-09-29T20:42:00Z'>20:42</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
wumpus: well you simply extend the protocol to have a new signaling mechenism for the tweaked thing.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475181720' id='497920'>
<a class='timestamp' href='#497920'><time timestamp='2016-09-29T20:42:00Z'>20:42</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
sipa: yes the bigger problem is the ever-growing UTXO set
<br>
</div>

<div class='talk op-msg' data-timestamp='1475181720' id='497921'>
<a class='timestamp' href='#497921'><time timestamp='2016-09-29T20:42:00Z'>20:42</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
gmaxwell: but then it loses backwards compatibility every time
<br>
</div>

<div class='talk op-msg' data-timestamp='1475181780' id='497922'>
<a class='timestamp' href='#497922'><time timestamp='2016-09-29T20:43:00Z'>20:43</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
something that just signals absolute heights has the problem that the communicated information will always be out of date. .. or if nodes don&#x27;t change the ranges they host, we will end up with highly irregular distributions of information.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475181780' id='497923'>
<a class='timestamp' href='#497923'><time timestamp='2016-09-29T20:43:00Z'>20:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
the type of tweaking needed, and the potentially aging problem depend on the specific proposal
<br>
</div>

<div class='talk op-msg' data-timestamp='1475181840' id='497924'>
<a class='timestamp' href='#497924'><time timestamp='2016-09-29T20:44:00Z'>20:44</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i&#x27;m sure we can come up with something that seems reasonable to all
<br>
</div>

<div class='talk op-msg' data-timestamp='1475181840' id='497925'>
<a class='timestamp' href='#497925'><time timestamp='2016-09-29T20:44:00Z'>20:44</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
agree, there may be a compromise that is somewhat flexible and still deterministic
<br>
</div>

<div class='talk op-msg' data-timestamp='1475181840' id='497926'>
<a class='timestamp' href='#497926'><time timestamp='2016-09-29T20:44:00Z'>20:44</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
well what I suggested might not be viable after all too. I&#x27;m not sure, I wasn&#x27;t successful in achieving all my goals at once.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475181900' id='497927'>
<a class='timestamp' href='#497927'><time timestamp='2016-09-29T20:45:00Z'>20:45</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I just don&#x27;t think setting it all in stone in advance is a good idea, for the whole reason that it&#x27;s so hard to achieve all your goals all at once
<br>
</div>

<div class='talk op-msg' data-timestamp='1475181900' id='497928'>
<a class='timestamp' href='#497928'><time timestamp='2016-09-29T20:45:00Z'>20:45</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
especially if you don&#x27;t know some of those goals yet
<br>
</div>

<div class='talk op-msg' data-timestamp='1475181900' id='497929'>
<a class='timestamp' href='#497929'><time timestamp='2016-09-29T20:45:00Z'>20:45</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I wanted a scheme that would result in a uniform distribution of blocks, that didn&#x27;t depend on peers to look to see what other peers had (because that could be spoofed), required minimal communication (not a long list of blocks in an addr message).. and retainined uniformity as the chain grew, without causing peers to redownload blocks they already forgot.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475182020' id='497930'>
<a class='timestamp' href='#497930'><time timestamp='2016-09-29T20:47:00Z'>20:47</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
So I had found two schemes, one where peers had a ID and the amount of blocks they would store, and from that they could determine which they would store, and as new blocks came in they might store then and drop some group of old ones.  The problem with it was that to figure out if a particular peer had block X you had to do computation linear in the number of blocks in the chain.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475182020' id='497931'>
<a class='timestamp' href='#497931'><time timestamp='2016-09-29T20:47:00Z'>20:47</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
darn, also fingerprinting will be hard to avoid
<br>
</div>

<div class='talk op-msg' data-timestamp='1475182020' id='497932'>
<a class='timestamp' href='#497932'><time timestamp='2016-09-29T20:47:00Z'>20:47</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Then I had another scheme that was sublinerar work, BUT a peer might drop a block but later have to go fetch it again. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1475182020' id='497933'>
<a class='timestamp' href='#497933'><time timestamp='2016-09-29T20:47:00Z'>20:47</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
wumpus: thats unavoidable with any split up scheme.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475182080' id='497934'>
<a class='timestamp' href='#497934'><time timestamp='2016-09-29T20:48:00Z'>20:48</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes     
<br>
</div>

<div class='talk op-msg' data-timestamp='1475182080' id='497935'>
<a class='timestamp' href='#497935'><time timestamp='2016-09-29T20:48:00Z'>20:48</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
make the IP address part of the seed
<br>
</div>

<div class='talk op-msg' data-timestamp='1475182080' id='497936'>
<a class='timestamp' href='#497936'><time timestamp='2016-09-29T20:48:00Z'>20:48</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
if your dhcp changes, you have to resync, sorry.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475182080' id='497937'>
<a class='timestamp' href='#497937'><time timestamp='2016-09-29T20:48:00Z'>20:48</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
unless a substantial part of nodes are the same
<br>
</div>

<div class='talk op-msg' data-timestamp='1475182080' id='497938'>
<a class='timestamp' href='#497938'><time timestamp='2016-09-29T20:48:00Z'>20:48</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sipa: then when you change IP, you have to go download a different set of blocks.. :P hah
<br>
</div>

<div class='talk op-msg' data-timestamp='1475182080' id='497939'>
<a class='timestamp' href='#497939'><time timestamp='2016-09-29T20:48:00Z'>20:48</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
e.g. there are only 8 IDs, pick one
<br>
</div>

<div class='talk op-msg' data-timestamp='1475182080' id='497940'>
<a class='timestamp' href='#497940'><time timestamp='2016-09-29T20:48:00Z'>20:48</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
wumpus: well I was thinking 32 bits, but perhaps a smaller collection would be fine. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1475182140' id='497941'>
<a class='timestamp' href='#497941'><time timestamp='2016-09-29T20:49:00Z'>20:49</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
but that gives you at best only 1/8th spitting storage. :( maybe fine now, but not in the long term.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475182140' id='497942'>
<a class='timestamp' href='#497942'><time timestamp='2016-09-29T20:49:00Z'>20:49</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
maybe the number of groups can grow over time, a doubling every so many blocks :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1475182200' id='497943'>
<a class='timestamp' href='#497943'><time timestamp='2016-09-29T20:50:00Z'>20:50</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
hah: if you get a request through an IP that doesn&#x27;t correspond to your local storage, just proxy all requests through to another node which does, and use that to gradually resync for the new seed.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475182200' id='497944'>
<a class='timestamp' href='#497944'><time timestamp='2016-09-29T20:50:00Z'>20:50</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Part of why I haven&#x27;t given this that much more thought is because I think bitcoin will need to move to the commit state and forget history model; the ever growing sync time is too big a tide to stand against.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475182200' id='497945'>
<a class='timestamp' href='#497945'><time timestamp='2016-09-29T20:50:00Z'>20:50</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sipa: lol!
<br>
</div>

<div class='talk op-msg' data-timestamp='1475182200' id='497946'>
<a class='timestamp' href='#497946'><time timestamp='2016-09-29T20:50:00Z'>20:50</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sipa: I think thats actually how the freenet location swapping works, funny enough.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475182200' id='497947'>
<a class='timestamp' href='#497947'><time timestamp='2016-09-29T20:50:00Z'>20:50</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
hehe
<br>
</div>

<div class='talk op-msg' data-timestamp='1475182200' id='497948'>
<a class='timestamp' href='#497948'><time timestamp='2016-09-29T20:50:00Z'>20:50</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
downside: if you want this to be fingerprint resistant, you have no way to determine how many proxies your blocks actually went through
<br>
</div>

<div class='talk op-msg' data-timestamp='1475182200' id='497949'>
<a class='timestamp' href='#497949'><time timestamp='2016-09-29T20:50:00Z'>20:50</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
=&gt; instant mixnet
<br>
</div>

<div class='talk op-msg' data-timestamp='1475182260' id='497950'>
<a class='timestamp' href='#497950'><time timestamp='2016-09-29T20:51:00Z'>20:51</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sipa: freenet nodes change position over time, and they do it by swapping their location with a direct neighbor, when that location swap makes them both closer to where they want to be, ... when requests come in for the new location, they don&#x27;t have the data, but it&#x27;s only one hop away..
<br>
</div>

<div class='talk op-msg' data-timestamp='1475182320' id='497951'>
<a class='timestamp' href='#497951'><time timestamp='2016-09-29T20:52:00Z'>20:52</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
gmaxwell: I&#x27;ve always thought that, it&#x27;s hard to imagine this continuing for 10&#x27;s of years, but where to put the anchor...
<br>
</div>

<div class='talk op-msg' data-timestamp='1475182320' id='497952'>
<a class='timestamp' href='#497952'><time timestamp='2016-09-29T20:52:00Z'>20:52</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
in any case. if there were only 8 flavors of nodes, then it all becomes simple, block_height//1000 % 8 = flavor. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1475182380' id='497953'>
<a class='timestamp' href='#497953'><time timestamp='2016-09-29T20:53:00Z'>20:53</time></a>
&lt;<span class='nick nick-2'> * gmaxwell</span>&gt;
lunch
<br>
</div>

<div class='talk op-msg' data-timestamp='1475182440' id='497954'>
<a class='timestamp' href='#497954'><time timestamp='2016-09-29T20:54:00Z'>20:54</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
that seems kind of elegant and straightforward, there must be a catch
<br>
</div>

<div class='talk op-msg' data-timestamp='1475182740' id='497955'>
<a class='timestamp' href='#497955'><time timestamp='2016-09-29T20:59:00Z'>20:59</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
gmaxwell: sorry, well the deterministic seems to come at the cost of less flexibility
<br>
</div>

<div class='talk op-msg' data-timestamp='1475182800' id='497956'>
<a class='timestamp' href='#497956'><time timestamp='2016-09-29T21:00:00Z'>21:00</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
wumpus: i&#x27;m trying to think about why 8 isn&#x27;t enough
<br>
</div>

<div class='talk op-msg' data-timestamp='1475182800' id='497957'>
<a class='timestamp' href='#497957'><time timestamp='2016-09-29T21:00:00Z'>21:00</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
if you want to automatically scale the number of flavors up with height you could divide height 0..N into X flavors, the N..3N into 2*N flavors, and so on, where each flavor gets flavor (x&lt;&lt;1)+randbit()
<br>
</div>

<div class='talk op-msg' data-timestamp='1475182860' id='497958'>
<a class='timestamp' href='#497958'><time timestamp='2016-09-29T21:01:00Z'>21:01</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
only 8 flavors requires you to store 1/8 of the blockchain
<br>
</div>

<div class='talk op-msg' data-timestamp='1475182860' id='497959'>
<a class='timestamp' href='#497959'><time timestamp='2016-09-29T21:01:00Z'>21:01</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and we could have names for the first 8 top-level flavours or so... so your wallet could report &quot;Looking for a bittersweet node...&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1475182860' id='497960'>
<a class='timestamp' href='#497960'><time timestamp='2016-09-29T21:01:00Z'>21:01</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
(well those numbers are arbitrary but the idea is that if a doubling of the # is needed, the new flavor, a member of a twice as big set, would contain the previous one)
<br>
</div>

<div class='talk op-msg' data-timestamp='1475182920' id='497961'>
<a class='timestamp' href='#497961'><time timestamp='2016-09-29T21:02:00Z'>21:02</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
hehe, yes assigning names would be nice
<br>
</div>

<div class='talk op-msg' data-timestamp='1475185560' id='497962'>
<a class='timestamp' href='#497962'><time timestamp='2016-09-29T21:46:00Z'>21:46</time></a>
&lt;<span class='nick nick-12'> GitHub131</span>&gt;
[bitcoin] jnewbery opened pull request #8844: change sigops cost to sigops weight (master...sigops_weight) <a href="https://github.com/bitcoin/bitcoin/pull/8844" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8844</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1475185740' id='497963'>
<a class='timestamp' href='#497963'><time timestamp='2016-09-29T21:49:00Z'>21:49</time></a>
&lt;<span class='nick nick-5'> GitHub72</span>&gt;
[bitcoin] jnewbery opened pull request #8845: Don&#x27;t return the address of a P2SH of a P2SH (master...trivial-P2SH-P2SH) <a href="https://github.com/bitcoin/bitcoin/pull/8845" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8845</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1475185860' id='497964'>
<a class='timestamp' href='#497964'><time timestamp='2016-09-29T21:51:00Z'>21:51</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
jtimon: &quot;less flexible&quot; -- everything is less flexible short of sending someone arbritary x86 bytecode that they run.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475185980' id='497965'>
<a class='timestamp' href='#497965'><time timestamp='2016-09-29T21:53:00Z'>21:53</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
less flexible in the amount of data you store, but maybe 8 flavors can be subidivided in 16 flavors half the size as wumpus was suggeting, then 16 to 32, etc. That may be flexible enough
<br>
</div>

<div class='talk op-msg' data-timestamp='1475186040' id='497966'>
<a class='timestamp' href='#497966'><time timestamp='2016-09-29T21:54:00Z'>21:54</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
jtimon: I was recommending 2^32 &#x27;flavors&#x27; but wumpus was concerned about reducing fingerprinting.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475186100' id='497967'>
<a class='timestamp' href='#497967'><time timestamp='2016-09-29T21:55:00Z'>21:55</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
the whole reason to reduce the amount was to make it more difficult to follow a node around as it changes network identity.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475186100' id='497968'>
<a class='timestamp' href='#497968'><time timestamp='2016-09-29T21:55:00Z'>21:55</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sipa: 8 isn&#x27;t enough if the chain is perpetually growing.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475186160' id='497969'>
<a class='timestamp' href='#497969'><time timestamp='2016-09-29T21:56:00Z'>21:56</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
I see
<br>
</div>

<div class='talk op-msg' data-timestamp='1475186160' id='497970'>
<a class='timestamp' href='#497970'><time timestamp='2016-09-29T21:56:00Z'>21:56</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yeah, increasing number, the further back you go, may make sense
<br>
</div>

<div class='talk op-msg' data-timestamp='1475186160' id='497971'>
<a class='timestamp' href='#497971'><time timestamp='2016-09-29T21:56:00Z'>21:56</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
a year from now the chain will be 200 gb, a year after 300 gb-- at that size it is larger than the most common ssd size currently. a year after that 400gb.... and at that point an 8 way split is again running common hosts out of disk even if the common ssd size has moved up to 500gb by then.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475186160' id='497972'>
<a class='timestamp' href='#497972'><time timestamp='2016-09-29T21:56:00Z'>21:56</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
well, maybe archive nodes that don&#x27;t want to store everything have to get a privacy hit
<br>
</div>

<div class='talk op-msg' data-timestamp='1475186220' id='497973'>
<a class='timestamp' href='#497973'><time timestamp='2016-09-29T21:57:00Z'>21:57</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
who will bother running one if it takes speical effort above and beyond running a node, and draws more resources? 
<br>
</div>

<div class='talk op-msg' data-timestamp='1475186220' id='497974'>
<a class='timestamp' href='#497974'><time timestamp='2016-09-29T21:57:00Z'>21:57</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
well if only we&#x27;d have a separate network for archivsl
<br>
</div>

<div class='talk op-msg' data-timestamp='1475186220' id='497975'>
<a class='timestamp' href='#497975'><time timestamp='2016-09-29T21:57:00Z'>21:57</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
there are no privacy issues at all then
<br>
</div>

<div class='talk op-msg' data-timestamp='1475186760' id='497976'>
<a class='timestamp' href='#497976'><time timestamp='2016-09-29T22:06:00Z'>22:06</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
and no one run them.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475186760' id='497977'>
<a class='timestamp' href='#497977'><time timestamp='2016-09-29T22:06:00Z'>22:06</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
s/run/running/
<br>
</div>

<div class='talk op-msg' data-timestamp='1475186820' id='497978'>
<a class='timestamp' href='#497978'><time timestamp='2016-09-29T22:07:00Z'>22:07</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i was about to say that separate network doesn&#x27;t need to imply separate nodes
<br>
</div>

<div class='talk op-msg' data-timestamp='1475186820' id='497979'>
<a class='timestamp' href='#497979'><time timestamp='2016-09-29T22:07:00Z'>22:07</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but of course, that doesn&#x27;t work because you&#x27;d get a privacy leak from correlating
<br>
</div>

<div class='talk op-msg' data-timestamp='1475186880' id='497980'>
<a class='timestamp' href='#497980'><time timestamp='2016-09-29T22:08:00Z'>22:08</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
however, you can reconcile those by only having nodes with a long-term IP provide archival further back than some threshold
<br>
</div>

<div class='talk op-msg' data-timestamp='1475187000' id='497981'>
<a class='timestamp' href='#497981'><time timestamp='2016-09-29T22:10:00Z'>22:10</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sipa: not just that, but if it&#x27;s a special very resource intensive mode.. few will do it, pliling more resources onto it... causing fewer to do it...
<br>
</div>

<div class='talk op-msg' data-timestamp='1475187000' id='497982'>
<a class='timestamp' href='#497982'><time timestamp='2016-09-29T22:10:00Z'>22:10</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it&#x27;s true that it&#x27;s resource intensive, but it&#x27;s a different kind of resources than most of the rest of running a node
<br>
</div>

<div class='talk op-msg' data-timestamp='1475187000' id='497983'>
<a class='timestamp' href='#497983'><time timestamp='2016-09-29T22:10:00Z'>22:10</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it needs disk space and bandwidth
<br>
</div>

<div class='talk op-msg' data-timestamp='1475187000' id='497984'>
<a class='timestamp' href='#497984'><time timestamp='2016-09-29T22:10:00Z'>22:10</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I might think it&#x27;s not over the threshold of that, except already people don&#x27;t run regular nodes due to costs. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1475187060' id='497985'>
<a class='timestamp' href='#497985'><time timestamp='2016-09-29T22:11:00Z'>22:11</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
rather than memory and cpu
<br>
</div>

<div class='talk op-msg' data-timestamp='1475187060' id='497986'>
<a class='timestamp' href='#497986'><time timestamp='2016-09-29T22:11:00Z'>22:11</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
which are what people usually complain about.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475187060' id='497987'>
<a class='timestamp' href='#497987'><time timestamp='2016-09-29T22:11:00Z'>22:11</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
then why aren&#x27;t we seeing more pruned nodes?
<br>
</div>

<div class='talk op-msg' data-timestamp='1475187060' id='497988'>
<a class='timestamp' href='#497988'><time timestamp='2016-09-29T22:11:00Z'>22:11</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
one reason may be that pruned nodes don&#x27;t advertize, so we just don&#x27;t know about them
<br>
</div>

<div class='talk op-msg' data-timestamp='1475187120' id='497989'>
<a class='timestamp' href='#497989'><time timestamp='2016-09-29T22:12:00Z'>22:12</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
because you have to edit a config file or change an obscure setting, we don&#x27;t advertise it, and it breaks rescan and reindex. (which is part of why we don&#x27;t really advertise it)
<br>
</div>

<div class='talk op-msg' data-timestamp='1475187240' id='497990'>
<a class='timestamp' href='#497990'><time timestamp='2016-09-29T22:14:00Z'>22:14</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
well people mostly complain about the sync time for a node
<br>
</div>

<div class='talk op-msg' data-timestamp='1475187300' id='497991'>
<a class='timestamp' href='#497991'><time timestamp='2016-09-29T22:15:00Z'>22:15</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
yes, though I think thats most because so many stop there and give up before they get a chance to complain about the rest.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475187300' id='497992'>
<a class='timestamp' href='#497992'><time timestamp='2016-09-29T22:15:00Z'>22:15</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
perhaps
<br>
</div>

<div class='talk op-msg' data-timestamp='1475187480' id='497993'>
<a class='timestamp' href='#497993'><time timestamp='2016-09-29T22:18:00Z'>22:18</time></a>
&lt;<span class='nick nick-6'> TD-Linux</span>&gt;
a first-run dialog box with a slider for disk usage and an estimated sync time would be very nice
<br>
</div>

<div class='talk op-msg' data-timestamp='1475187480' id='497994'>
<a class='timestamp' href='#497994'><time timestamp='2016-09-29T22:18:00Z'>22:18</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
except the sync time does not depend on the value of the slider
<br>
</div>

<div class='talk op-msg' data-timestamp='1475187540' id='497995'>
<a class='timestamp' href='#497995'><time timestamp='2016-09-29T22:19:00Z'>22:19</time></a>
&lt;<span class='nick nick-6'> TD-Linux</span>&gt;
yes, I meant it there so it&#x27;d appear at start. I guess having it in the status bar is sufficient
<br>
</div>

<div class='talk op-msg' data-timestamp='1475187600' id='497996'>
<a class='timestamp' href='#497996'><time timestamp='2016-09-29T22:20:00Z'>22:20</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ah     
<br>
</div>

<div class='talk op-msg' data-timestamp='1475187600' id='497997'>
<a class='timestamp' href='#497997'><time timestamp='2016-09-29T22:20:00Z'>22:20</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
well there will be an overlay with sync time indication in 0.14
<br>
</div>

<div class='talk op-msg' data-timestamp='1475187660' id='497998'>
<a class='timestamp' href='#497998'><time timestamp='2016-09-29T22:21:00Z'>22:21</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
doesn&#x27;t it still incorrectly say you can&#x27;t transact while syncing?
<br>
</div>

<div class='talk op-msg' data-timestamp='1475187660' id='497999'>
<a class='timestamp' href='#497999'><time timestamp='2016-09-29T22:21:00Z'>22:21</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
we still have a lot time until 0.14
<br>
</div>

<div class='talk op-msg' data-timestamp='1475187780' id='498000'>
<a class='timestamp' href='#498000'><time timestamp='2016-09-29T22:23:00Z'>22:23</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
:)     
<br>
</div>

<div class='talk op-msg' data-timestamp='1475187780' id='498001'>
<a class='timestamp' href='#498001'><time timestamp='2016-09-29T22:23:00Z'>22:23</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
well you can, but most people probably shouldn&#x27;t do so
<br>
</div>

<div class='talk op-msg' data-timestamp='1475187780' id='498002'>
<a class='timestamp' href='#498002'><time timestamp='2016-09-29T22:23:00Z'>22:23</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
yes they should
<br>
</div>

<div class='talk op-msg' data-timestamp='1475187780' id='498003'>
<a class='timestamp' href='#498003'><time timestamp='2016-09-29T22:23:00Z'>22:23</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
during the initial sync they won&#x27;t have any coins to send anyway, and receiving them is a bad idea as they&#x27;ll only see them when the entire thing is done
<br>
</div>

<div class='talk op-msg' data-timestamp='1475187780' id='498004'>
<a class='timestamp' href='#498004'><time timestamp='2016-09-29T22:23:00Z'>22:23</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
oh?     
<br>
</div>

<div class='talk op-msg' data-timestamp='1475187840' id='498005'>
<a class='timestamp' href='#498005'><time timestamp='2016-09-29T22:24:00Z'>22:24</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
why?
<br>
</div>

<div class='talk op-msg' data-timestamp='1475187840' id='498006'>
<a class='timestamp' href='#498006'><time timestamp='2016-09-29T22:24:00Z'>22:24</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
initial sync isn&#x27;t my concern there:
<br>
</div>

<div class='talk op-msg' data-timestamp='1475187840' id='498007'>
<a class='timestamp' href='#498007'><time timestamp='2016-09-29T22:24:00Z'>22:24</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
probably one of the most common usage patterns for a wallet user is that you start your wallet up in order to pay someone, and it&#x27;s three weeks behind. You can go ahead and pay, no problems.. why wouldn&#x27;t you?
<br>
</div>

<div class='talk op-msg' data-timestamp='1475187840' id='498008'>
<a class='timestamp' href='#498008'><time timestamp='2016-09-29T22:24:00Z'>22:24</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
during initial sync you just won&#x27;t have any coins, indeed. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1475187840' id='498009'>
<a class='timestamp' href='#498009'><time timestamp='2016-09-29T22:24:00Z'>22:24</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
the biggest problem is people giving out addresses during initial sync
<br>
</div>

<div class='talk op-msg' data-timestamp='1475187840' id='498010'>
<a class='timestamp' href='#498010'><time timestamp='2016-09-29T22:24:00Z'>22:24</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
then realizing how long it takes
<br>
</div>

<div class='talk op-msg' data-timestamp='1475187900' id='498011'>
<a class='timestamp' href='#498011'><time timestamp='2016-09-29T22:25:00Z'>22:25</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
this is what the overlay is designed to prevent
<br>
</div>

<div class='talk op-msg' data-timestamp='1475187900' id='498012'>
<a class='timestamp' href='#498012'><time timestamp='2016-09-29T22:25:00Z'>22:25</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
sure, you can send coins if you&#x27;re three weeks behind, no problem, although fee computation could be off
<br>
</div>

<div class='talk op-msg' data-timestamp='1475187900' id='498013'>
<a class='timestamp' href='#498013'><time timestamp='2016-09-29T22:25:00Z'>22:25</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
yes, that is a large source of complaints, but we shouldn&#x27;t tell people that they cant send funds already in their wallet when they start up and they&#x27;re a bit behind, it&#x27;s already a common mistaken belief that they cant (and then they complain about how long it takes to catch up a month of blcks)
<br>
</div>

<div class='talk op-msg' data-timestamp='1475187900' id='498014'>
<a class='timestamp' href='#498014'><time timestamp='2016-09-29T22:25:00Z'>22:25</time></a>
&lt;<span class='nick nick-6'> TD-Linux</span>&gt;
the warning could be conditional on having zero funds
<br>
</div>

<div class='talk op-msg' data-timestamp='1475187960' id='498015'>
<a class='timestamp' href='#498015'><time timestamp='2016-09-29T22:26:00Z'>22:26</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
TD-Linux: the earlier warning text was fine-- saying that you won&#x27;t see payments to you yet, but for some reason it was changed to say that you cannot send funds.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475187960' id='498016'>
<a class='timestamp' href='#498016'><time timestamp='2016-09-29T22:26:00Z'>22:26</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yeah fix one thing and they&#x27;ll start complaining about another, it&#x27;s a never ending source of fun...
<br>
</div>

<div class='talk op-msg' data-timestamp='1475187960' id='498017'>
<a class='timestamp' href='#498017'><time timestamp='2016-09-29T22:26:00Z'>22:26</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i don&#x27;t think anyone will read the text anyway
<br>
</div>

<div class='talk op-msg' data-timestamp='1475187960' id='498018'>
<a class='timestamp' href='#498018'><time timestamp='2016-09-29T22:26:00Z'>22:26</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I also complained that the text is now too long and won&#x27;t get read.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475187960' id='498019'>
<a class='timestamp' href='#498019'><time timestamp='2016-09-29T22:26:00Z'>22:26</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
of course people will read it
<br>
</div>

<div class='talk op-msg' data-timestamp='1475187960' id='498020'>
<a class='timestamp' href='#498020'><time timestamp='2016-09-29T22:26:00Z'>22:26</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
the important thing is that it&#x27;s in the way, and gives accurate (by then, hopefully) information
<br>
</div>

<div class='talk op-msg' data-timestamp='1475187960' id='498021'>
<a class='timestamp' href='#498021'><time timestamp='2016-09-29T22:26:00Z'>22:26</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
heck, users aren&#x27;t stupid
<br>
</div>

<div class='talk op-msg' data-timestamp='1475187960' id='498022'>
<a class='timestamp' href='#498022'><time timestamp='2016-09-29T22:26:00Z'>22:26</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
The first text was better.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475188020' id='498023'>
<a class='timestamp' href='#498023'><time timestamp='2016-09-29T22:27:00Z'>22:27</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: PR welcome
<br>
</div>

<div class='talk op-msg' data-timestamp='1475188020' id='498024'>
<a class='timestamp' href='#498024'><time timestamp='2016-09-29T22:27:00Z'>22:27</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
maybe some are, but not all of them, some will actually read and understand
<br>
</div>

<div class='talk op-msg' data-timestamp='1475188020' id='498025'>
<a class='timestamp' href='#498025'><time timestamp='2016-09-29T22:27:00Z'>22:27</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Well I&#x27;m stupid, and looked at the notice in its updated state and didn&#x27;t read the list line.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475188020' id='498026'>
<a class='timestamp' href='#498026'><time timestamp='2016-09-29T22:27:00Z'>22:27</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
first*
<br>
</div>

<div class='talk op-msg' data-timestamp='1475188020' id='498027'>
<a class='timestamp' href='#498027'><time timestamp='2016-09-29T22:27:00Z'>22:27</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
because when there is too much text many people go a bit banner blind and skim past headings and such.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475188020' id='498028'>
<a class='timestamp' href='#498028'><time timestamp='2016-09-29T22:27:00Z'>22:27</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
if we don&#x27;t believe peopel actually pay attention then why do anything at all
<br>
</div>

<div class='talk op-msg' data-timestamp='1475188080' id='498029'>
<a class='timestamp' href='#498029'><time timestamp='2016-09-29T22:28:00Z'>22:28</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
saying that a wall of text is too much is not saying that people don&#x27;t pay attention.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475188080' id='498030'>
<a class='timestamp' href='#498030'><time timestamp='2016-09-29T22:28:00Z'>22:28</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I think it&#x27;s an improvement to what was there, indeed, if you want to imrpvoe further then pulls are welcome
<br>
</div>

<div class='talk op-msg' data-timestamp='1475188080' id='498031'>
<a class='timestamp' href='#498031'><time timestamp='2016-09-29T22:28:00Z'>22:28</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
right, that&#x27;s what i&#x27;m saying - having there being an overlay at all is more important than what the text says
<br>
</div>

<div class='talk op-msg' data-timestamp='1475188080' id='498032'>
<a class='timestamp' href='#498032'><time timestamp='2016-09-29T22:28:00Z'>22:28</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
and re: being able to send, people already complain that they have to wait a long time after starting to send because they already frequently mistakingly believe they can&#x27;t.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475188080' id='498033'>
<a class='timestamp' href='#498033'><time timestamp='2016-09-29T22:28:00Z'>22:28</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and we have time to improve the latter
<br>
</div>

<div class='talk op-msg' data-timestamp='1475188140' id='498034'>
<a class='timestamp' href='#498034'><time timestamp='2016-09-29T22:29:00Z'>22:29</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
but I&#x27;m a bit tired of people always saying &quot;users won&#x27;t read anyway&quot; to everything that adds documentation , help or warnings
<br>
</div>

<div class='talk op-msg' data-timestamp='1475188140' id='498035'>
<a class='timestamp' href='#498035'><time timestamp='2016-09-29T22:29:00Z'>22:29</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
a lot of users are definitely looking for more help and guidance when they first open the program, and a bit of text helps there
<br>
</div>

<div class='talk op-msg' data-timestamp='1475188140' id='498036'>
<a class='timestamp' href='#498036'><time timestamp='2016-09-29T22:29:00Z'>22:29</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
wumpus: why should I waste my time when I point out that THE TEXT IS OUTRIGHT UNTRUE and your response is to accuse me of thinking users are stupid?  my comment was that the earlier version of the text which was simple and NOT UNTRUE was better.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475188140' id='498037'>
<a class='timestamp' href='#498037'><time timestamp='2016-09-29T22:29:00Z'>22:29</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
please guys
<br>
</div>

<div class='talk op-msg' data-timestamp='1475188200' id='498038'>
<a class='timestamp' href='#498038'><time timestamp='2016-09-29T22:30:00Z'>22:30</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: go propose something
<br>
</div>

<div class='talk op-msg' data-timestamp='1475188200' id='498039'>
<a class='timestamp' href='#498039'><time timestamp='2016-09-29T22:30:00Z'>22:30</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I did!
<br>
</div>

<div class='talk op-msg' data-timestamp='1475188200' id='498040'>
<a class='timestamp' href='#498040'><time timestamp='2016-09-29T22:30:00Z'>22:30</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
gmaxwell: well if the text is wrong then it should be fixed obviously, change it to a better text
<br>
</div>

<div class='talk op-msg' data-timestamp='1475188200' id='498041'>
<a class='timestamp' href='#498041'><time timestamp='2016-09-29T22:30:00Z'>22:30</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I don&#x27;t know what the previous version of the text was
<br>
</div>

<div class='talk op-msg' data-timestamp='1475188260' id='498042'>
<a class='timestamp' href='#498042'><time timestamp='2016-09-29T22:31:00Z'>22:31</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it&#x27;s been changed a dozen times in the lifetime of the pull
<br>
</div>

<div class='talk op-msg' data-timestamp='1475188380' id='498043'>
<a class='timestamp' href='#498043'><time timestamp='2016-09-29T22:33:00Z'>22:33</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
also, it says &quot;Spending bitcoins may not be possible until synchronization has finished.&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1475188380' id='498044'>
<a class='timestamp' href='#498044'><time timestamp='2016-09-29T22:33:00Z'>22:33</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
which is not untrue.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475188440' id='498045'>
<a class='timestamp' href='#498045'><time timestamp='2016-09-29T22:34:00Z'>22:34</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
okay, it was changed after I last saw it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475188500' id='498046'>
<a class='timestamp' href='#498046'><time timestamp='2016-09-29T22:35:00Z'>22:35</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
ok that was useless :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1475188500' id='498047'>
<a class='timestamp' href='#498047'><time timestamp='2016-09-29T22:35:00Z'>22:35</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
by saying &#x27;may&#x27; which is still misleading, but worse, that text is the bold. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1475188500' id='498048'>
<a class='timestamp' href='#498048'><time timestamp='2016-09-29T22:35:00Z'>22:35</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
er is the only bold part.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475188500' id='498049'>
<a class='timestamp' href='#498049'><time timestamp='2016-09-29T22:35:00Z'>22:35</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
well, improvements welcome
<br>
</div>

<div class='talk op-msg' data-timestamp='1475188500' id='498050'>
<a class='timestamp' href='#498050'><time timestamp='2016-09-29T22:35:00Z'>22:35</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
So now it says &quot;mumble mumble mumble  Spending bitcoins may not be possible during that phase!&quot; :-/
<br>
</div>

<div class='talk op-msg' data-timestamp='1475188560' id='498051'>
<a class='timestamp' href='#498051'><time timestamp='2016-09-29T22:36:00Z'>22:36</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
it&#x27;s a waste of my time, I already raised these issues and it was then merged.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475188560' id='498052'>
<a class='timestamp' href='#498052'><time timestamp='2016-09-29T22:36:00Z'>22:36</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it had to be merged at some point, with the idea it could be improved later
<br>
</div>

<div class='talk op-msg' data-timestamp='1475188560' id='498053'>
<a class='timestamp' href='#498053'><time timestamp='2016-09-29T22:36:00Z'>22:36</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
well to be fair the last change did improve it, its true.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475188620' id='498054'>
<a class='timestamp' href='#498054'><time timestamp='2016-09-29T22:37:00Z'>22:37</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
but created the problem that if you skim it is that all you extract is that you can&#x27;t spend, .. which misses the really critical thing: which is that you wallet may look empty when it isn&#x27;t.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475188620' id='498055'>
<a class='timestamp' href='#498055'><time timestamp='2016-09-29T22:37:00Z'>22:37</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
that doesn&#x27;t mean it&#x27;s final, most will only see the message when it is merged, and can improve it then, there are already some pulls open to improve that overlay
<br>
</div>

<div class='talk op-msg' data-timestamp='1475188680' id='498056'>
<a class='timestamp' href='#498056'><time timestamp='2016-09-29T22:38:00Z'>22:38</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
but okay, I can open a PR.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475188680' id='498057'>
<a class='timestamp' href='#498057'><time timestamp='2016-09-29T22:38:00Z'>22:38</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
(but I don&#x27;t think they change that message)
<br>
</div>

<div class='talk op-msg' data-timestamp='1475188740' id='498058'>
<a class='timestamp' href='#498058'><time timestamp='2016-09-29T22:39:00Z'>22:39</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: i think people didn&#x27;t really understand the point of your concern (i didn&#x27;t): if you&#x27;re looking at it from a point of view that this would be be mostly seen (and intended to convey information) during IBD, it&#x27;s perfectly reasonable to warn users they won&#x27;t be able to spend the money they&#x27;re still to receive... and a simplification to reduce the length of the text may be warranted
<br>
</div>

<div class='talk op-msg' data-timestamp='1475188740' id='498059'>
<a class='timestamp' href='#498059'><time timestamp='2016-09-29T22:39:00Z'>22:39</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it&#x27;s a good point that it&#x27;s also seen during non-IBD
<br>
</div>

<div class='talk op-msg' data-timestamp='1475188740' id='498060'>
<a class='timestamp' href='#498060'><time timestamp='2016-09-29T22:39:00Z'>22:39</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
It will mostly not be seen during IBD.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475188740' id='498061'>
<a class='timestamp' href='#498061'><time timestamp='2016-09-29T22:39:00Z'>22:39</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
during IBD sure someone will see it then, say of course I knew that (even if they didn&#x27;t) minimize and go on with life. :P
<br>
</div>

<div class='talk op-msg' data-timestamp='1475188800' id='498062'>
<a class='timestamp' href='#498062'><time timestamp='2016-09-29T22:40:00Z'>22:40</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
but then users will see it every single time they start.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475188800' id='498063'>
<a class='timestamp' href='#498063'><time timestamp='2016-09-29T22:40:00Z'>22:40</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i&#x27;m aware, you don&#x27;t need to argue about this
<br>
</div>

<div class='talk op-msg' data-timestamp='1475188800' id='498064'>
<a class='timestamp' href='#498064'><time timestamp='2016-09-29T22:40:00Z'>22:40</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i&#x27;m just explaining why maybe you felt misunderstood
<br>
</div>

<div class='talk op-msg' data-timestamp='1475188800' id='498065'>
<a class='timestamp' href='#498065'><time timestamp='2016-09-29T22:40:00Z'>22:40</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sorry, not arguing-- clarifying.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475188800' id='498066'>
<a class='timestamp' href='#498066'><time timestamp='2016-09-29T22:40:00Z'>22:40</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Yes, I see that and I didn&#x27;t before.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475188860' id='498067'>
<a class='timestamp' href='#498067'><time timestamp='2016-09-29T22:41:00Z'>22:41</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
when I first saw this PR I even took the time to go through the code carefully to check to see if there was anything that made it IBD only.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475188920' id='498068'>
<a class='timestamp' href='#498068'><time timestamp='2016-09-29T22:42:00Z'>22:42</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
because I couldn&#x27;t understand why people wanted the text that it had.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475188920' id='498069'>
<a class='timestamp' href='#498069'><time timestamp='2016-09-29T22:42:00Z'>22:42</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
it did not occure to me that other people might be only thinking about IBD.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475188920' id='498070'>
<a class='timestamp' href='#498070'><time timestamp='2016-09-29T22:42:00Z'>22:42</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sorry for being thoughtless there.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475188920' id='498071'>
<a class='timestamp' href='#498071'><time timestamp='2016-09-29T22:42:00Z'>22:42</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
#8805 fixed a few minor grammar nits, #8821 fixes a blocking problem with the overlay, there are no pulls yet that improve the message
<br>
</div>

<div class='talk op-msg' data-timestamp='1475188980' id='498072'>
<a class='timestamp' href='#498072'><time timestamp='2016-09-29T22:43:00Z'>22:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sorry, we (including me) aren&#x27;t being careful with terminology here... IBD is also used for syncup when you were previously synced to a month ago
<br>
</div>

<div class='talk op-msg' data-timestamp='1475188980' id='498073'>
<a class='timestamp' href='#498073'><time timestamp='2016-09-29T22:43:00Z'>22:43</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it&#x27;s very easy to forget about catching up nodes
<br>
</div>

<div class='talk op-msg' data-timestamp='1475189040' id='498074'>
<a class='timestamp' href='#498074'><time timestamp='2016-09-29T22:44:00Z'>22:44</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
but yes we shouldn&#x27;t
<br>
</div>

<div class='talk op-msg' data-timestamp='1475189040' id='498075'>
<a class='timestamp' href='#498075'><time timestamp='2016-09-29T22:44:00Z'>22:44</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
well it&#x27;s mostly designed to help with that first sync
<br>
</div>

<div class='talk op-msg' data-timestamp='1475189100' id='498076'>
<a class='timestamp' href='#498076'><time timestamp='2016-09-29T22:45:00Z'>22:45</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
more obvious to me just by chance of hering more people complain about it, also I&#x27;ve stopped running a node 24/7 on my laptop because I&#x27;ve been watching the battlestar galactica series in evenings and bitcoin interupts video playback. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1475189100' id='498077'>
<a class='timestamp' href='#498077'><time timestamp='2016-09-29T22:45:00Z'>22:45</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
during catch-up it&#x27;s reasonably useful too, people may not know they won&#x27;t see transactions newer than their sync point and worry, but yes it&#x27;s mostly important for the initial IBD (lol)
<br>
</div>

<div class='talk op-msg' data-timestamp='1475189100' id='498078'>
<a class='timestamp' href='#498078'><time timestamp='2016-09-29T22:45:00Z'>22:45</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
so every time I go to use bitcoin I&#x27;m stuck waiting for it to catch up.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475189100' id='498079'>
<a class='timestamp' href='#498079'><time timestamp='2016-09-29T22:45:00Z'>22:45</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
yes, we should have this message during catch up. But it&#x27;s important to not make people think they can&#x27;t spend funds that they can see.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475189160' id='498080'>
<a class='timestamp' href='#498080'><time timestamp='2016-09-29T22:46:00Z'>22:46</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
The important message is that you may not see all payments to you yet (and you can&#x27;t spend what you can&#x27;t see).
<br>
</div>

<div class='talk op-msg' data-timestamp='1475189160' id='498081'>
<a class='timestamp' href='#498081'><time timestamp='2016-09-29T22:46:00Z'>22:46</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
bitcoin interrupts video playback? even in steady state mode?
<br>
</div>

<div class='talk op-msg' data-timestamp='1475189160' id='498082'>
<a class='timestamp' href='#498082'><time timestamp='2016-09-29T22:46:00Z'>22:46</time></a>
&lt;<span class='nick nick-6'> TD-Linux</span>&gt;
one option would be to put it on the payment request generation page instead. but even in its current state it&#x27;s far better than what was there before (nothing)
<br>
</div>

<div class='talk op-msg' data-timestamp='1475189220' id='498083'>
<a class='timestamp' href='#498083'><time timestamp='2016-09-29T22:47:00Z'>22:47</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
wumpus: yes. on my laptop... playback from a local file. The issue is IO or cpu related, probably the former but I haven&#x27;t tested extensively to know for sure.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475189280' id='498084'>
<a class='timestamp' href='#498084'><time timestamp='2016-09-29T22:48:00Z'>22:48</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
that&#x27;s very strange. I&#x27;d expect that during intial sync when it maxes out CPU and I/O usage, but not when it&#x27;s up to date
<br>
</div>

<div class='talk op-msg' data-timestamp='1475189280' id='498085'>
<a class='timestamp' href='#498085'><time timestamp='2016-09-29T22:48:00Z'>22:48</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
TD-Linux: the big problem we should be solving here is that people see a balance of zero then delete the wallet. I think thats the priority because any other issue doesn&#x27;t cause irrecoverable loss.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475189280' id='498086'>
<a class='timestamp' href='#498086'><time timestamp='2016-09-29T22:48:00Z'>22:48</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
wumpus: I notice it during ordinary computer use.. causes IO hangs, but its not irritating except when watching video.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475189340' id='498087'>
<a class='timestamp' href='#498087'><time timestamp='2016-09-29T22:49:00Z'>22:49</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
do you have a lot of mlocked memory? is it swapping?
<br>
</div>

<div class='talk op-msg' data-timestamp='1475189400' id='498088'>
<a class='timestamp' href='#498088'><time timestamp='2016-09-29T22:50:00Z'>22:50</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
no, not swapping 8gb ram. I think that when a bunch of random writes happen it causes long delays for garbage collection in the SSD.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475189400' id='498089'>
<a class='timestamp' href='#498089'><time timestamp='2016-09-29T22:50:00Z'>22:50</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
swapping seems to be the foremost cause of I/O related hangs here, as essentially the memory subsystem has to wait for I/O to complete
<br>
</div>

<div class='talk op-msg' data-timestamp='1475189400' id='498090'>
<a class='timestamp' href='#498090'><time timestamp='2016-09-29T22:50:00Z'>22:50</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
heh as if 8gb ram means no swapping these days :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1475189400' id='498091'>
<a class='timestamp' href='#498091'><time timestamp='2016-09-29T22:50:00Z'>22:50</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
well on my laptop its enough most of the time.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475189460' id='498092'>
<a class='timestamp' href='#498092'><time timestamp='2016-09-29T22:51:00Z'>22:51</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
The stalls seemed to get better for a while after I freed up a bunch of space and trimmed the drive, but got worse after which is why I think SSD GC plays a roll.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475189460' id='498093'>
<a class='timestamp' href='#498093'><time timestamp='2016-09-29T22:51:00Z'>22:51</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
but in any case, while watching the show every block arrival causes a second-long pause in playback.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475189460' id='498094'>
<a class='timestamp' href='#498094'><time timestamp='2016-09-29T22:51:00Z'>22:51</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
maybe someone is requesting a lot of blocks from you with a bloom filter? :-) it would be interesting to find out what your node is actually doing at those times
<br>
</div>

<div class='talk op-msg' data-timestamp='1475189520' id='498095'>
<a class='timestamp' href='#498095'><time timestamp='2016-09-29T22:52:00Z'>22:52</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
nah, outbound only.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475189520' id='498096'>
<a class='timestamp' href='#498096'><time timestamp='2016-09-29T22:52:00Z'>22:52</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I know its at the same time as blocks showing up.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475189520' id='498097'>
<a class='timestamp' href='#498097'><time timestamp='2016-09-29T22:52:00Z'>22:52</time></a>
&lt;<span class='nick nick-6'> TD-Linux</span>&gt;
gmaxwell, easy way to verify that would be to increase your video player&#x27;s lookahead cache
<br>
</div>

<div class='talk op-msg' data-timestamp='1475189520' id='498098'>
<a class='timestamp' href='#498098'><time timestamp='2016-09-29T22:52:00Z'>22:52</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
ok so it&#x27;s block verification, leveldb seeks
<br>
</div>

<div class='talk op-msg' data-timestamp='1475189520' id='498099'>
<a class='timestamp' href='#498099'><time timestamp='2016-09-29T22:52:00Z'>22:52</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
TD-Linux: think mpv uses non-blocking reads of the disk?
<br>
</div>

<div class='talk op-msg' data-timestamp='1475189580' id='498100'>
<a class='timestamp' href='#498100'><time timestamp='2016-09-29T22:53:00Z'>22:53</time></a>
&lt;<span class='nick nick-6'> TD-Linux</span>&gt;
gmaxwell, yup it does. I&#x27;ve increase the setting to 10s when using sshfs and it works fine
<br>
</div>

<div class='talk op-msg' data-timestamp='1475189640' id='498101'>
<a class='timestamp' href='#498101'><time timestamp='2016-09-29T22:54:00Z'>22:54</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
in any case, performance distraction aside, when this happens I shut down bitcoind then it may stay off for a week before I need to do something with it, then waiting for it to catch up is irritating.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475189700' id='498102'>
<a class='timestamp' href='#498102'><time timestamp='2016-09-29T22:55:00Z'>22:55</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(and of course my systems performance is seriously impacted while it catches up)
<br>
</div>

<div class='talk op-msg' data-timestamp='1475189700' id='498103'>
<a class='timestamp' href='#498103'><time timestamp='2016-09-29T22:55:00Z'>22:55</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes, nothing to do about that, I guess if hybrid SPV mode is implemented it could also work during catch-up
<br>
</div>

<div class='talk op-msg' data-timestamp='1475189700' id='498104'>
<a class='timestamp' href='#498104'><time timestamp='2016-09-29T22:55:00Z'>22:55</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
indeed, it&#x27;s either slow down the catch up or tolerate it hogging the whole system
<br>
</div>

<div class='talk op-msg' data-timestamp='1475189880' id='498105'>
<a class='timestamp' href='#498105'><time timestamp='2016-09-29T22:58:00Z'>22:58</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I have wondered if it might be useful to split the chainstate into two parts, one with txouts created in the most recent N blocks, and one with the rest. Then on start we could just load the whole first one into the cache.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475189880' id='498106'>
<a class='timestamp' href='#498106'><time timestamp='2016-09-29T22:58:00Z'>22:58</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
the default setting of hogging all cores during IBD/catch-up is a bit rude, certainly if it is a background process
<br>
</div>

<div class='talk op-msg' data-timestamp='1475189940' id='498107'>
<a class='timestamp' href='#498107'><time timestamp='2016-09-29T22:59:00Z'>22:59</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
if we did that much of the cost would then be signature valdation instead of random IO, and signature validation could run in the background, following behind the blocks.. and at lower priority.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475189940' id='498108'>
<a class='timestamp' href='#498108'><time timestamp='2016-09-29T22:59:00Z'>22:59</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
so that would be like a &#x27;prefer keeping recent UTXOs&#x27; cache policy?
<br>
</div>

<div class='talk op-msg' data-timestamp='1475190000' id='498109'>
<a class='timestamp' href='#498109'><time timestamp='2016-09-29T23:00:00Z'>23:00</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I guess thats a stat that I still haven&#x27;t collected.  &quot;what is the average age-in-blocks of inputs that are consumed&quot; (/what is the distribution of that age)
<br>
</div>

<div class='talk op-msg' data-timestamp='1475190000' id='498110'>
<a class='timestamp' href='#498110'><time timestamp='2016-09-29T23:00:00Z'>23:00</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
we know recent ones are spent more often but I don&#x27;t have good numbers on it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475190000' id='498111'>
<a class='timestamp' href='#498111'><time timestamp='2016-09-29T23:00:00Z'>23:00</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
wumpus: yes.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475190120' id='498112'>
<a class='timestamp' href='#498112'><time timestamp='2016-09-29T23:02:00Z'>23:02</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
probably not the highest priority improvement in any case.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475190120' id='498113'>
<a class='timestamp' href='#498113'><time timestamp='2016-09-29T23:02:00Z'>23:02</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
well, currently the whole cache is emptied at a write, I think there are many eviction policies that would do better
<br>
</div>

<div class='talk op-msg' data-timestamp='1475190180' id='498114'>
<a class='timestamp' href='#498114'><time timestamp='2016-09-29T23:03:00Z'>23:03</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
right, also the in memory representation of the cache entries is quite inefficient.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475190240' id='498115'>
<a class='timestamp' href='#498115'><time timestamp='2016-09-29T23:04:00Z'>23:04</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
so its effective size could potentially be doubled if its entries were flat allocated.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475190240' id='498116'>
<a class='timestamp' href='#498116'><time timestamp='2016-09-29T23:04:00Z'>23:04</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
though that helps it actually being an efficient cache, a more efficient representation shouldn&#x27;t come at a higher access cost
<br>
</div>

<div class='talk op-msg' data-timestamp='1475190360' id='498117'>
<a class='timestamp' href='#498117'><time timestamp='2016-09-29T23:06:00Z'>23:06</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I did an experiment once with storing the UTXOs in serialized form in memory: <a href="https://github.com/laanwj/bitcoin/tree/2016_04_dummy_db" class="link" target="_blank">https://github.com/laanwj/bitcoin/tree/2016_04_dummy_db</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1475190540' id='498118'>
<a class='timestamp' href='#498118'><time timestamp='2016-09-29T23:09:00Z'>23:09</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
interesting!
<br>
</div>

<div class='talk op-msg' data-timestamp='1475190540' id='498119'>
<a class='timestamp' href='#498119'><time timestamp='2016-09-29T23:09:00Z'>23:09</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
although that&#x27;s for the entire UTXO set, not just a limited cache
<br>
</div>

<div class='talk op-msg' data-timestamp='1475190600' id='498120'>
<a class='timestamp' href='#498120'><time timestamp='2016-09-29T23:10:00Z'>23:10</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
yea, the on disk seralization is most efficient, but not fast.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475190660' id='498121'>
<a class='timestamp' href='#498121'><time timestamp='2016-09-29T23:11:00Z'>23:11</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I wouldn&#x27;t be surprised though for the current in memory representation if there wasn&#x27;t more bytes spend in malloc/container overhead than actual transaction data though.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475190660' id='498122'>
<a class='timestamp' href='#498122'><time timestamp='2016-09-29T23:11:00Z'>23:11</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
but given that most time is wasted on disk seeks anyway, it may not make too much difference in practice
<br>
</div>

<div class='talk op-msg' data-timestamp='1475190660' id='498123'>
<a class='timestamp' href='#498123'><time timestamp='2016-09-29T23:11:00Z'>23:11</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
depends on the system...
<br>
</div>

<div class='talk op-msg' data-timestamp='1475190720' id='498124'>
<a class='timestamp' href='#498124'><time timestamp='2016-09-29T23:12:00Z'>23:12</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes, the malloc overhead is somewhat bad
<br>
</div>

<div class='talk op-msg' data-timestamp='1475190840' id='498125'>
<a class='timestamp' href='#498125'><time timestamp='2016-09-29T23:14:00Z'>23:14</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
but not more than the actual data size, from what I remember
<br>
</div>

<div class='talk op-msg' data-timestamp='1475190900' id='498126'>
<a class='timestamp' href='#498126'><time timestamp='2016-09-29T23:15:00Z'>23:15</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
in any case improvements are certainly possible there, without any rocket science, it&#x27;s just that it&#x27;s such risky code to change
<br>
</div>

<div class='talk op-msg' data-timestamp='1475190900' id='498127'>
<a class='timestamp' href='#498127'><time timestamp='2016-09-29T23:15:00Z'>23:15</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
if it was any other project people would have optimized the shit out of it by now
<br>
</div>

<div class='talk op-msg' data-timestamp='1475191260' id='498128'>
<a class='timestamp' href='#498128'><time timestamp='2016-09-29T23:21:00Z'>23:21</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
unfortunately the damages of a bug there are unfathomable, not just skipping a few video frames
<br>
</div>

<div class='talk op-msg' data-timestamp='1475191320' id='498129'>
<a class='timestamp' href='#498129'><time timestamp='2016-09-29T23:22:00Z'>23:22</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
well the hope I had there was that with making the cache more efficient, it could be increased in size and avoid more disk IO. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1475191440' id='498130'>
<a class='timestamp' href='#498130'><time timestamp='2016-09-29T23:24:00Z'>23:24</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
on the earlier subject of &#x27;alt&#x27; implementations doing inadvisable things, some of them have a genius performance optimization which they&#x27;re crowing about, -- where they only validate transactions that weren&#x27;t already in the mempool; something we explicity decided not to do because of the long history of subtle mempool corruption issues.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475191500' id='498131'>
<a class='timestamp' href='#498131'><time timestamp='2016-09-29T23:25:00Z'>23:25</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
exactly, there are tons of ways to optimize and get things just slightly wrong
<br>
</div>

<div class='talk op-msg' data-timestamp='1475191500' id='498132'>
<a class='timestamp' href='#498132'><time timestamp='2016-09-29T23:25:00Z'>23:25</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I worry that there will be a race to the bottom, where by making risky / security reducing optimizations implementations will gain significant performance advantages, and suffer no cost until the inevitable spectacular failure that results.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475191560' id='498133'>
<a class='timestamp' href='#498133'><time timestamp='2016-09-29T23:26:00Z'>23:26</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
which doesn&#x27;t matter if no one runs your code anyway, but we have to be really careful
<br>
</div>

<div class='talk op-msg' data-timestamp='1475191560' id='498134'>
<a class='timestamp' href='#498134'><time timestamp='2016-09-29T23:26:00Z'>23:26</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
and being safe doesn&#x27;t matter if peopel don&#x27;t run it in favor of things that are faster.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475191560' id='498135'>
<a class='timestamp' href='#498135'><time timestamp='2016-09-29T23:26:00Z'>23:26</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
people*
<br>
</div>

<div class='talk op-msg' data-timestamp='1475191560' id='498136'>
<a class='timestamp' href='#498136'><time timestamp='2016-09-29T23:26:00Z'>23:26</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
we also shouldn&#x27;t overestimate how important the performance is to most users, many just run it on a server or otherwise unused computer
<br>
</div>

<div class='talk op-msg' data-timestamp='1475191620' id='498137'>
<a class='timestamp' href='#498137'><time timestamp='2016-09-29T23:27:00Z'>23:27</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
well you&#x27;d say safeness is really important, if the inevitable spectacular failure happens you don&#x27;t want to be at the center of it
<br>
</div>

<div class='talk op-msg' data-timestamp='1475191680' id='498138'>
<a class='timestamp' href='#498138'><time timestamp='2016-09-29T23:28:00Z'>23:28</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
well sure. indeed.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475191680' id='498139'>
<a class='timestamp' href='#498139'><time timestamp='2016-09-29T23:28:00Z'>23:28</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
better slow than dead :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1475191740' id='498140'>
<a class='timestamp' href='#498140'><time timestamp='2016-09-29T23:29:00Z'>23:29</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
but for things like the security model change to use a 6 month old utxo commitment instead of syncing the history... the potential for a spectacular failure there which a more conservative approach could have stopped is negligible.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475191740' id='498141'>
<a class='timestamp' href='#498141'><time timestamp='2016-09-29T23:29:00Z'>23:29</time></a>
&lt;<span class='nick nick-6'> TD-Linux</span>&gt;
gmaxwell, still think you should verify that it&#x27;s actually IO that&#x27;s the problem before going too deep :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1475191740' id='498142'>
<a class='timestamp' href='#498142'><time timestamp='2016-09-29T23:29:00Z'>23:29</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
And if we don&#x27;t investgate things like that, someone will do something dumber.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475191800' id='498143'>
<a class='timestamp' href='#498143'><time timestamp='2016-09-29T23:30:00Z'>23:30</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
TD-Linux: yes, measuring is better than assumptions :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1475191800' id='498144'>
<a class='timestamp' href='#498144'><time timestamp='2016-09-29T23:30:00Z'>23:30</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
TD-Linux: Oh IO is an issue for sure regardless of whats causing my mpv stalls. I&#x27;ll find out tonight (I&#x27;m not going to sit here and watch video for an hour just to check)
<br>
</div>

<div class='talk op-msg' data-timestamp='1475191860' id='498145'>
<a class='timestamp' href='#498145'><time timestamp='2016-09-29T23:31:00Z'>23:31</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
TD-Linux: SSD vs a fast spinning disk with small dbcache here is a &lt;4 hour sync (from a local peer) vs a &gt;9hour sync.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475191920' id='498146'>
<a class='timestamp' href='#498146'><time timestamp='2016-09-29T23:32:00Z'>23:32</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
and sure, it&#x27;s good to investigate things like that
<br>
</div>

<div class='talk op-msg' data-timestamp='1475191980' id='498147'>
<a class='timestamp' href='#498147'><time timestamp='2016-09-29T23:33:00Z'>23:33</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I/O is absolutely a problem sometimes, leveldb generates <b>*tons*</b> of seeks and small reads, better caching would help avoid some of that
<br>
</div>

<div class='talk op-msg' data-timestamp='1475192040' id='498148'>
<a class='timestamp' href='#498148'><time timestamp='2016-09-29T23:34:00Z'>23:34</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I had no luck with other databases, I remember trying with lmdb at some point, which was faster in reading, but instead... does tons of seeks and small writes at write, so it just moves the problem
<br>
</div>

<div class='talk op-msg' data-timestamp='1475192100' id='498149'>
<a class='timestamp' href='#498149'><time timestamp='2016-09-29T23:35:00Z'>23:35</time></a>
&lt;<span class='nick nick-6'> TD-Linux</span>&gt;
yeah, on a SSD at least, the former is much less detrimental to system latency
<br>
</div>

<div class='talk op-msg' data-timestamp='1475192100' id='498150'>
<a class='timestamp' href='#498150'><time timestamp='2016-09-29T23:35:00Z'>23:35</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
indeed!
<br>
</div>

<div class='talk op-msg' data-timestamp='1475192100' id='498151'>
<a class='timestamp' href='#498151'><time timestamp='2016-09-29T23:35:00Z'>23:35</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
for operation at the tip, using the mempool instead of validating would be a big aid... but the safty of that remains dubious. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1475192160' id='498152'>
<a class='timestamp' href='#498152'><time timestamp='2016-09-29T23:36:00Z'>23:36</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: i believe for the mempool it&#x27;s approximately a factor 2 overhead
<br>
</div>

<div class='talk op-msg' data-timestamp='1475192160' id='498153'>
<a class='timestamp' href='#498153'><time timestamp='2016-09-29T23:36:00Z'>23:36</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: that that is also indexes, orderings, accounting, ...
<br>
</div>

<div class='talk op-msg' data-timestamp='1475192280' id='498154'>
<a class='timestamp' href='#498154'><time timestamp='2016-09-29T23:38:00Z'>23:38</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes that remains dubious, especially with regard to isFinal and such
<br>
</div>

<div class='talk op-msg' data-timestamp='1475192280' id='498155'>
<a class='timestamp' href='#498155'><time timestamp='2016-09-29T23:38:00Z'>23:38</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I mean there is a part of transaction validation that can be obviously cached, and a part that may change in time
<br>
</div>

<div class='talk op-msg' data-timestamp='1475192340' id='498156'>
<a class='timestamp' href='#498156'><time timestamp='2016-09-29T23:39:00Z'>23:39</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
fortunately the MTP change made that much safer.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475192460' id='498157'>
<a class='timestamp' href='#498157'><time timestamp='2016-09-29T23:41:00Z'>23:41</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
e.g. before a block could come in with a time before your local time, and contain txn which are isfinal invalid according to the block but okay with respect to the local time, and you&#x27;d accept it. I wonder if the alt implementations had that bug.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475192880' id='498158'>
<a class='timestamp' href='#498158'><time timestamp='2016-09-29T23:48:00Z'>23:48</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I remember that one, tricky... and there may be more problems of that kind not yet found
<br>
</div>

<div class='talk op-msg' data-timestamp='1475192940' id='498159'>
<a class='timestamp' href='#498159'><time timestamp='2016-09-29T23:49:00Z'>23:49</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
looks like their change dodged it, because the finality test is in the ContextualCheckBlock, and the bypass patch only bypasses checkinputs...
<br>
</div>

<div class='talk op-msg' data-timestamp='1475192940' id='498160'>
<a class='timestamp' href='#498160'><time timestamp='2016-09-29T23:49:00Z'>23:49</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(which also means that it doesn&#x27;t manage to avoid accessing the utxo cache entries)
<br>
</div>

<div class='talk op-msg' data-timestamp='1475193060' id='498161'>
<a class='timestamp' href='#498161'><time timestamp='2016-09-29T23:51:00Z'>23:51</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I just realized, if the problem is that the block validation hiccups other things happening on your PC, the solution may be actually to slow it down :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1475193120' id='498162'>
<a class='timestamp' href='#498162'><time timestamp='2016-09-29T23:52:00Z'>23:52</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
put a small sleep between each UTXO lookup, limit the validation to one thread
<br>
</div>

<div class='talk op-msg' data-timestamp='1475193120' id='498163'>
<a class='timestamp' href='#498163'><time timestamp='2016-09-29T23:52:00Z'>23:52</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
not something you&#x27;d want to do during initial sync if you&#x27;re waiting for it, but if you don&#x27;t care and it runs in the background...
<br>
</div>

<div class='talk op-msg' data-timestamp='1475193240' id='498164'>
<a class='timestamp' href='#498164'><time timestamp='2016-09-29T23:54:00Z'>23:54</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
after all you run it to keep up, you don&#x27;t need to outrace it
<br>
</div>

<div class='talk op-msg' data-timestamp='1475193360' id='498165'>
<a class='timestamp' href='#498165'><time timestamp='2016-09-29T23:56:00Z'>23:56</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I&#x27;ve thought before that if we have bandwidth limiting enabled we should delay announcement of new blocks to reduce the number of peers that request them from us... but slowing down the validation would work as well.
<br>
</div>

<div class='talk op-msg' data-timestamp='1475193360' id='498166'>
<a class='timestamp' href='#498166'><time timestamp='2016-09-29T23:56:00Z'>23:56</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
small sleeps perhaps aren&#x27;t so good because it may busy spin. :P
<br>
</div>

<div class='talk op-msg' data-timestamp='1475193420' id='498167'>
<a class='timestamp' href='#498167'><time timestamp='2016-09-29T23:57:00Z'>23:57</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
heh, not that small
<br>
</div>

<div class='talk op-msg' data-timestamp='1475193480' id='498168'>
<a class='timestamp' href='#498168'><time timestamp='2016-09-29T23:58:00Z'>23:58</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
or use some OS-dependent way to reduce the I/O priority
<br>
</div>

<div class='talk op-msg' data-timestamp='1475193540' id='498169'>
<a class='timestamp' href='#498169'><time timestamp='2016-09-29T23:59:00Z'>23:59</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
as long as it&#x27;s done by the time the next block comes in, so taking 10 minutes would take it too far :)
<br>
</div>

</div>
</section>

</body>
</html>
