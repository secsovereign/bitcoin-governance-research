<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2020-07-18
 — 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2020-07-18' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:18 UTC</pre>
<pre><a href="/bitcoin-core-dev/2020-06-18">&lt;</a><span class='header'>    July 2020     </span><a href="/bitcoin-core-dev/2020-08-18">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;          <a class="" href="/bitcoin-core-dev/2020-07-01">1</a>  2  3  4  &#x000A; <a class="" href="/bitcoin-core-dev/2020-07-05">5</a>  <a class="" href="/bitcoin-core-dev/2020-07-06">6</a>  <a class="" href="/bitcoin-core-dev/2020-07-07">7</a>  <a class="" href="/bitcoin-core-dev/2020-07-08">8</a>  <a class="" href="/bitcoin-core-dev/2020-07-09">9</a> <a class="" href="/bitcoin-core-dev/2020-07-10">10</a> <a class="" href="/bitcoin-core-dev/2020-07-11">11</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2020-07-12">12</a> <a class="" href="/bitcoin-core-dev/2020-07-13">13</a> <a class="" href="/bitcoin-core-dev/2020-07-14">14</a> <a class="" href="/bitcoin-core-dev/2020-07-15">15</a> <a class="" href="/bitcoin-core-dev/2020-07-16">16</a> <a class="" href="/bitcoin-core-dev/2020-07-17">17</a> <a class="current" href="/bitcoin-core-dev/2020-07-18">18</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2020-07-19">19</a> <a class="" href="/bitcoin-core-dev/2020-07-20">20</a> <a class="" href="/bitcoin-core-dev/2020-07-21">21</a> <a class="" href="/bitcoin-core-dev/2020-07-22">22</a> <a class="" href="/bitcoin-core-dev/2020-07-23">23</a> <a class="" href="/bitcoin-core-dev/2020-07-24">24</a> <a class="" href="/bitcoin-core-dev/2020-07-25">25</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2020-07-26">26</a> <a class="" href="/bitcoin-core-dev/2020-07-27">27</a> <a class="" href="/bitcoin-core-dev/2020-07-28">28</a> <a class="" href="/bitcoin-core-dev/2020-07-29">29</a> <a class="" href="/bitcoin-core-dev/2020-07-30">30</a> <a class="" href="/bitcoin-core-dev/2020-07-31">31</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1595039760' id='395749'>
<a class='timestamp' href='#395749'><time timestamp='2020-07-18T02:36:00Z'>02:36</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
just catching up, but fwiw we&#x27;ve seen that, or a very similar looking diff in genisomage before.
<br>
</div>

<div class='talk op-msg' data-timestamp='1595039820' id='395750'>
<a class='timestamp' href='#395750'><time timestamp='2020-07-18T02:37:00Z'>02:37</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
I think this was when we were building 0.20.0: <a href="https://gist.github.com/fanquake/0189129764edd9aa9d89fd274f790176" class="link" target="_blank">https://gist.github.com/fanquake/0189129764edd9aa9d89fd274f790176</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1595057220' id='395751'>
<a class='timestamp' href='#395751'><time timestamp='2020-07-18T07:27:00Z'>07:27</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke pushed 9 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/fd59670642f5...090d87716074" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/fd59670642f5...090d87716074</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1595057220' id='395752'>
<a class='timestamp' href='#395752'><time timestamp='2020-07-18T07:27:00Z'>07:27</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 9dbcd68 practicalswift: tests: Add FuzzedFileProvider which provides a FILE* interface to FuzzedDa...
<br>
</div>

<div class='talk op-msg' data-timestamp='1595057220' id='395753'>
<a class='timestamp' href='#395753'><time timestamp='2020-07-18T07:27:00Z'>07:27</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master e48094a practicalswift: tests: Add FuzzedAutoFileProvider which provides a CAutoFile interface to ...
<br>
</div>

<div class='talk op-msg' data-timestamp='1595057220' id='395754'>
<a class='timestamp' href='#395754'><time timestamp='2020-07-18T07:27:00Z'>07:27</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master e507c07 practicalswift: tests: Add serialization/deserialization fuzzing helpers WriteToStream(…)/...
<br>
</div>

<div class='talk op-msg' data-timestamp='1595057280' id='395755'>
<a class='timestamp' href='#395755'><time timestamp='2020-07-18T07:28:00Z'>07:28</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke merged pull request #19143: tests: Add fuzzing harnesses for CAutoFile, CBufferedFile, LoadExternalBlockFile and other FILE* consumers (master...fuzzers-FILE) <a href="https://github.com/bitcoin/bitcoin/pull/19143" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19143</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1595061420' id='395756'>
<a class='timestamp' href='#395756'><time timestamp='2020-07-18T08:37:00Z'>08:37</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
ok... I did nothing different from last version
<br>
</div>

<div class='talk op-msg' data-timestamp='1595061480' id='395757'>
<a class='timestamp' href='#395757'><time timestamp='2020-07-18T08:38:00Z'>08:38</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
looks like there was a small update to gitian-builder but it&#x27;s only a hashbang change nothing that could impact the build substantially
<br>
</div>

<div class='talk op-msg' data-timestamp='1595061600' id='395758'>
<a class='timestamp' href='#395758'><time timestamp='2020-07-18T08:40:00Z'>08:40</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I&#x27;ll try regenerating the base image and wiping the caches again
<br>
</div>

<div class='talk op-msg' data-timestamp='1595061600' id='395759'>
<a class='timestamp' href='#395759'><time timestamp='2020-07-18T08:40:00Z'>08:40</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it seems increasingly difficult to build deterministically for osx
<br>
</div>

<div class='talk op-msg' data-timestamp='1595061600' id='395760'>
<a class='timestamp' href='#395760'><time timestamp='2020-07-18T08:40:00Z'>08:40</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
why is genisoimage, a host executable part of the build result anyway?
<br>
</div>

<div class='talk op-msg' data-timestamp='1595061660' id='395761'>
<a class='timestamp' href='#395761'><time timestamp='2020-07-18T08:41:00Z'>08:41</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
fwiw I build using lxc on debian
<br>
</div>

<div class='talk op-msg' data-timestamp='1595066220' id='395762'>
<a class='timestamp' href='#395762'><time timestamp='2020-07-18T09:57:00Z'>09:57</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
after a complete rebuild I also get 5c1f306192674c607bf44dad4a864e99fcfbef262934d19f93ea5af710595096 bitcoin-0.20.1rc1-osx-unsigned.tar.gz
<br>
</div>

<div class='talk op-msg' data-timestamp='1595069580' id='395763'>
<a class='timestamp' href='#395763'><time timestamp='2020-07-18T10:53:00Z'>10:53</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
wumpus: good to know
<br>
</div>

<div class='talk op-msg' data-timestamp='1595073180' id='395764'>
<a class='timestamp' href='#395764'><time timestamp='2020-07-18T11:53:00Z'>11:53</time></a>
&lt;<span class='nick nick-14'> hebasto</span>&gt;
I&#x27;ve re-built 0.20.0 (point zero) with cache after 0.20.1 build and got different rezult
<br>
</div>

<div class='talk op-msg' data-timestamp='1595073180' id='395765'>
<a class='timestamp' href='#395765'><time timestamp='2020-07-18T11:53:00Z'>11:53</time></a>
&lt;<span class='nick nick-14'> hebasto</span>&gt;
aae0b7e3a457a808335113f70448559d9d3b5414fa640e40f0ff7a31b390e2fa  bitcoin-0.20.0-osx-unsigned.tar.gz
<br>
</div>

<div class='talk op-msg' data-timestamp='1595074860' id='395766'>
<a class='timestamp' href='#395766'><time timestamp='2020-07-18T12:21:00Z'>12:21</time></a>
&lt;<span class='nick nick-14'> hebasto</span>&gt;
just re-built 0.20.0 (point zero) with <b>*clear*</b> cache and got aae0b7e3a457a808335113f70448559d9d3b5414fa640e40f0ff7a31b390e2fa  bitcoin-0.20.0-osx-unsigned.tar.gz
<br>
</div>

<div class='talk op-msg' data-timestamp='1595074920' id='395767'>
<a class='timestamp' href='#395767'><time timestamp='2020-07-18T12:22:00Z'>12:22</time></a>
&lt;<span class='nick nick-14'> hebasto</span>&gt;
it seems no gitian builder clears cache while building the previous 0.20.0 for macOS
<br>
</div>

<div class='talk op-msg' data-timestamp='1595084880' id='395768'>
<a class='timestamp' href='#395768'><time timestamp='2020-07-18T15:08:00Z'>15:08</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] hebasto opened pull request #19547: doc: Update macOS cross compilation dependencies for Focal (master...200718-mac-dep) <a href="https://github.com/bitcoin/bitcoin/pull/19547" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19547</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1595086140' id='395769'>
<a class='timestamp' href='#395769'><time timestamp='2020-07-18T15:29:00Z'>15:29</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
genisoimage is part of the build result because it&#x27;s needed to make the code signed dmg
<br>
</div>

<div class='talk op-msg' data-timestamp='1595086200' id='395770'>
<a class='timestamp' href='#395770'><time timestamp='2020-07-18T15:30:00Z'>15:30</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
I wonder if it is a significant enough change to result in a different code-signed binary
<br>
</div>

<div class='talk op-msg' data-timestamp='1595086560' id='395771'>
<a class='timestamp' href='#395771'><time timestamp='2020-07-18T15:36:00Z'>15:36</time></a>
&lt;<span class='nick nick-14'> hebasto</span>&gt;
I wonder why genisoimage build is not deterministic
<br>
</div>

<div class='talk op-msg' data-timestamp='1595089620' id='395772'>
<a class='timestamp' href='#395772'><time timestamp='2020-07-18T16:27:00Z'>16:27</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
achow101: I guess it would be possible to build genisoimage independently for the normal osx build and the signing, don&#x27;t know how long it takes to build but can&#x27;t be that bad?
<br>
</div>

<div class='talk op-msg' data-timestamp='1595089680' id='395773'>
<a class='timestamp' href='#395773'><time timestamp='2020-07-18T16:28:00Z'>16:28</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I agree it should ideally not matter, but it seeems this binary that is built for the host is the source of non-determinism every time, is it built with debug info perhaps? the chance of non-determinism in debug info seems to be slightly larger than in the stripped code
<br>
</div>

<div class='talk op-msg' data-timestamp='1595089740' id='395774'>
<a class='timestamp' href='#395774'><time timestamp='2020-07-18T16:29:00Z'>16:29</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
alternatively #19068 just removes it entirely, along with all of the other dmg building stuff
<br>
</div>

<div class='talk op-msg' data-timestamp='1595089740' id='395775'>
<a class='timestamp' href='#395775'><time timestamp='2020-07-18T16:29:00Z'>16:29</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/19068" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/19068</a> | build: Use a zip instead of dmg for macOS releases by fanquake · Pull Request #19068 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1595089800' id='395776'>
<a class='timestamp' href='#395776'><time timestamp='2020-07-18T16:30:00Z'>16:30</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
tthe difference doesn&#x27;t result in a different dmg, btw
<br>
</div>

<div class='talk op-msg' data-timestamp='1595089800' id='395777'>
<a class='timestamp' href='#395777'><time timestamp='2020-07-18T16:30:00Z'>16:30</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
interesting
<br>
</div>

<div class='talk op-msg' data-timestamp='1595089860' id='395778'>
<a class='timestamp' href='#395778'><time timestamp='2020-07-18T16:31:00Z'>16:31</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
but that doesn&#x27;t say much, if you compile genisoimage with gcc 4 and gcc 5 you&#x27;ll likely also not get a different result - the logic wlil be the same
<br>
</div>

<div class='talk op-msg' data-timestamp='1595089860' id='395779'>
<a class='timestamp' href='#395779'><time timestamp='2020-07-18T16:31:00Z'>16:31</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
I think it makes sense to build that as needed, it&#x27;ll just add to the build time of the signing step
<br>
</div>

<div class='talk op-msg' data-timestamp='1595089860' id='395780'>
<a class='timestamp' href='#395780'><time timestamp='2020-07-18T16:31:00Z'>16:31</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
or maybe we can make another inputs package that isn&#x27;t part of the gitian signed result
<br>
</div>

<div class='talk op-msg' data-timestamp='1595089920' id='395781'>
<a class='timestamp' href='#395781'><time timestamp='2020-07-18T16:32:00Z'>16:32</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I know about #19068 but I don&#x27;t think there is entirely agreement to stop with making dmgs in favor of zips 
<br>
</div>

<div class='talk op-msg' data-timestamp='1595089920' id='395782'>
<a class='timestamp' href='#395782'><time timestamp='2020-07-18T16:32:00Z'>16:32</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/19068" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/19068</a> | build: Use a zip instead of dmg for macOS releases by fanquake · Pull Request #19068 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1595089980' id='395783'>
<a class='timestamp' href='#395783'><time timestamp='2020-07-18T16:33:00Z'>16:33</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it is definitely the easiest option
<br>
</div>

<div class='talk op-msg' data-timestamp='1595098260' id='395784'>
<a class='timestamp' href='#395784'><time timestamp='2020-07-18T18:51:00Z'>18:51</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
macOS 0.20.1.rc1 signatues are up (windows as well)
<br>
</div>

<div class='talk op-msg' data-timestamp='1595098260' id='395785'>
<a class='timestamp' href='#395785'><time timestamp='2020-07-18T18:51:00Z'>18:51</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
green light to build the code signed parts
<br>
</div>

<div class='talk op-msg' data-timestamp='1595098320' id='395786'>
<a class='timestamp' href='#395786'><time timestamp='2020-07-18T18:52:00Z'>18:52</time></a>
&lt;<span class='nick nick-8'> midnight</span>&gt;
\o thanks
<br>
</div>

<div class='talk op-msg' data-timestamp='1595099340' id='395787'>
<a class='timestamp' href='#395787'><time timestamp='2020-07-18T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jonatack opened pull request #19548: fuzz: add missing overrides to signature_checker (master...signature-checker-missing-overrides) <a href="https://github.com/bitcoin/bitcoin/pull/19548" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19548</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1595110920' id='395788'>
<a class='timestamp' href='#395788'><time timestamp='2020-07-18T22:22:00Z'>22:22</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] fjahr opened pull request #19550: rpc: Add listindices RPC (master...index_rpc) <a href="https://github.com/bitcoin/bitcoin/pull/19550" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19550</a>
<br>
</div>

</div>
</section>

</body>
</html>
