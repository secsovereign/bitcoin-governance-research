<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2019-06-26
 — 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2019-06-26' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:20 UTC</pre>
<pre><a href="/bitcoin-core-dev/2019-05-26">&lt;</a><span class='header'>    June 2019     </span><a href="/bitcoin-core-dev/2019-07-26">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;                   <a class="" href="/bitcoin-core-dev/2019-06-01">1</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2019-06-02">2</a>  <a class="" href="/bitcoin-core-dev/2019-06-03">3</a>  <a class="" href="/bitcoin-core-dev/2019-06-04">4</a>  <a class="" href="/bitcoin-core-dev/2019-06-05">5</a>  <a class="" href="/bitcoin-core-dev/2019-06-06">6</a>  <a class="" href="/bitcoin-core-dev/2019-06-07">7</a>  <a class="" href="/bitcoin-core-dev/2019-06-08">8</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2019-06-09">9</a> <a class="" href="/bitcoin-core-dev/2019-06-10">10</a> <a class="" href="/bitcoin-core-dev/2019-06-11">11</a> <a class="" href="/bitcoin-core-dev/2019-06-12">12</a> <a class="" href="/bitcoin-core-dev/2019-06-13">13</a> <a class="" href="/bitcoin-core-dev/2019-06-14">14</a> <a class="" href="/bitcoin-core-dev/2019-06-15">15</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2019-06-16">16</a> <a class="" href="/bitcoin-core-dev/2019-06-17">17</a> <a class="" href="/bitcoin-core-dev/2019-06-18">18</a> <a class="" href="/bitcoin-core-dev/2019-06-19">19</a> <a class="" href="/bitcoin-core-dev/2019-06-20">20</a> <a class="" href="/bitcoin-core-dev/2019-06-21">21</a> <a class="" href="/bitcoin-core-dev/2019-06-22">22</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2019-06-23">23</a> <a class="" href="/bitcoin-core-dev/2019-06-24">24</a> <a class="" href="/bitcoin-core-dev/2019-06-25">25</a> <a class="current" href="/bitcoin-core-dev/2019-06-26">26</a> <a class="" href="/bitcoin-core-dev/2019-06-27">27</a> <a class="" href="/bitcoin-core-dev/2019-06-28">28</a> <a class="" href="/bitcoin-core-dev/2019-06-29">29</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2019-06-30">30</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1561507680' id='670149'>
<a class='timestamp' href='#670149'><time timestamp='2019-06-26T00:08:00Z'>00:08</time></a>
&lt;<span class='nick nick-14'> * luke-jr</span>&gt;
suggests &quot;if you can articulate a good reason why, it&#x27;s okay to have mid-commits fail&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1561509660' id='670150'>
<a class='timestamp' href='#670150'><time timestamp='2019-06-26T00:41:00Z'>00:41</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
meshcollider: I&#x27;m fine with doing that. The question is do <b>*you*</b> want to review that commit?
<br>
</div>

<div class='talk op-msg' data-timestamp='1561510200' id='670151'>
<a class='timestamp' href='#670151'><time timestamp='2019-06-26T00:50:00Z'>00:50</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
achow101: i think meshcollider&#x27;s was suggesting that promag would squash the commits himself, before local review
<br>
</div>

<div class='talk op-msg' data-timestamp='1561510260' id='670152'>
<a class='timestamp' href='#670152'><time timestamp='2019-06-26T00:51:00Z'>00:51</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
luke-jr: do you consider &quot;it would be a huge pain in the ass&quot; to be a good reason
<br>
</div>

<div class='talk op-msg' data-timestamp='1561510260' id='670153'>
<a class='timestamp' href='#670153'><time timestamp='2019-06-26T00:51:00Z'>00:51</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
my sense is that&#x27;s maybe the case here
<br>
</div>

<div class='talk op-msg' data-timestamp='1561510260' id='670154'>
<a class='timestamp' href='#670154'><time timestamp='2019-06-26T00:51:00Z'>00:51</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
it&#x27;s probably better to avoid that case but I&#x27;m sympathetic because I&#x27;ve gotten into it before
<br>
</div>

<div class='talk op-msg' data-timestamp='1561510260' id='670155'>
<a class='timestamp' href='#670155'><time timestamp='2019-06-26T00:51:00Z'>00:51</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
sipa: is it possible to have the changes since a bdb cursor?
<br>
</div>

<div class='talk op-msg' data-timestamp='1561510320' id='670156'>
<a class='timestamp' href='#670156'><time timestamp='2019-06-26T00:52:00Z'>00:52</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
gwillen: if it&#x27;s not just laziness ;)
<br>
</div>

<div class='talk op-msg' data-timestamp='1561510320' id='670157'>
<a class='timestamp' href='#670157'><time timestamp='2019-06-26T00:52:00Z'>00:52</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
otoh, we&#x27;re making our test system more fragile, so dunno, maybe we should just ignore test failrues :/
<br>
</div>

<div class='talk op-msg' data-timestamp='1561510380' id='670158'>
<a class='timestamp' href='#670158'><time timestamp='2019-06-26T00:53:00Z'>00:53</time></a>
&lt;<span class='nick nick-3'> meshcollider</span>&gt;
achow101: I prefer smaller commits over 1 massive one even if bisect breaks
<br>
</div>

<div class='talk op-msg' data-timestamp='1561510560' id='670159'>
<a class='timestamp' href='#670159'><time timestamp='2019-06-26T00:56:00Z'>00:56</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
gwillen: luke-jr: it&#x27;s just super hard to follow if it is one gigantic diff. I tried doing that and quickly got lost in my own changes before I even committed it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1561510560' id='670160'>
<a class='timestamp' href='#670160'><time timestamp='2019-06-26T00:56:00Z'>00:56</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
promag: ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1561510620' id='670161'>
<a class='timestamp' href='#670161'><time timestamp='2019-06-26T00:57:00Z'>00:57</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
achow101: incoming refactor? be gentle :P
<br>
</div>

<div class='talk op-msg' data-timestamp='1561510620' id='670162'>
<a class='timestamp' href='#670162'><time timestamp='2019-06-26T00:57:00Z'>00:57</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
achow101: that seems like a plenty strong reason to ignore the rule
<br>
</div>

<div class='talk op-msg' data-timestamp='1561510620' id='670163'>
<a class='timestamp' href='#670163'><time timestamp='2019-06-26T00:57:00Z'>00:57</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
sipa: scantxoutset takes a cursor then iterates it
<br>
</div>

<div class='talk op-msg' data-timestamp='1561510620' id='670164'>
<a class='timestamp' href='#670164'><time timestamp='2019-06-26T00:57:00Z'>00:57</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
achow101: though even better would be small commits that don&#x27;t break it :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1561510620' id='670165'>
<a class='timestamp' href='#670165'><time timestamp='2019-06-26T00:57:00Z'>00:57</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
sipa: is is possible to to make then following scantxoutset incremental?
<br>
</div>

<div class='talk op-msg' data-timestamp='1561510620' id='670166'>
<a class='timestamp' href='#670166'><time timestamp='2019-06-26T00:57:00Z'>00:57</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
yeah I think small commits with breakage &gt; large commits that are hard to understand, indeed
<br>
</div>

<div class='talk op-msg' data-timestamp='1561510620' id='670167'>
<a class='timestamp' href='#670167'><time timestamp='2019-06-26T00:57:00Z'>00:57</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
promag: what does bdb have to do with it?
<br>
</div>

<div class='talk op-msg' data-timestamp='1561510620' id='670168'>
<a class='timestamp' href='#670168'><time timestamp='2019-06-26T00:57:00Z'>00:57</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that&#x27;s a wallet thing
<br>
</div>

<div class='talk op-msg' data-timestamp='1561510680' id='670169'>
<a class='timestamp' href='#670169'><time timestamp='2019-06-26T00:58:00Z'>00:58</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
scantxoutset has nothing to do with the wallet
<br>
</div>

<div class='talk op-msg' data-timestamp='1561510680' id='670170'>
<a class='timestamp' href='#670170'><time timestamp='2019-06-26T00:58:00Z'>00:58</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
promag: ah, i see what you mean
<br>
</div>

<div class='talk op-msg' data-timestamp='1561510740' id='670171'>
<a class='timestamp' href='#670171'><time timestamp='2019-06-26T00:59:00Z'>00:59</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
you can have an incremental scantxoutset by filtering only entries with a blockheight later than your previous scan
<br>
</div>

<div class='talk op-msg' data-timestamp='1561510740' id='670172'>
<a class='timestamp' href='#670172'><time timestamp='2019-06-26T00:59:00Z'>00:59</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
sipa: I don&#x27;t think it is possible to make small commits that don&#x27;t break tests. all this wallet stuff is tied to each other extremely tightly
<br>
</div>

<div class='talk op-msg' data-timestamp='1561510740' id='670173'>
<a class='timestamp' href='#670173'><time timestamp='2019-06-26T00:59:00Z'>00:59</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but that wouldn&#x27;t speed anything up
<br>
</div>

<div class='talk op-msg' data-timestamp='1561510740' id='670174'>
<a class='timestamp' href='#670174'><time timestamp='2019-06-26T00:59:00Z'>00:59</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
achow101: yeah, i believe that
<br>
</div>

<div class='talk op-msg' data-timestamp='1561510800' id='670175'>
<a class='timestamp' href='#670175'><time timestamp='2019-06-26T01:00:00Z'>01:00</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
sipa: right, I thought the same
<br>
</div>

<div class='talk op-msg' data-timestamp='1561510860' id='670176'>
<a class='timestamp' href='#670176'><time timestamp='2019-06-26T01:01:00Z'>01:01</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
btw, scantxoutset doesn&#x27;t take into account mempool, is that intended?
<br>
</div>

<div class='talk op-msg' data-timestamp='1561510920' id='670177'>
<a class='timestamp' href='#670177'><time timestamp='2019-06-26T01:02:00Z'>01:02</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
we could add an option to include the mempool i guess
<br>
</div>

<div class='talk op-msg' data-timestamp='1561511100' id='670178'>
<a class='timestamp' href='#670178'><time timestamp='2019-06-26T01:05:00Z'>01:05</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
achow101: you could add [skip ci] in the commit message, travis only reads this in the HEAD commit but we could use it in broken commits
<br>
</div>

<div class='talk op-msg' data-timestamp='1561511100' id='670179'>
<a class='timestamp' href='#670179'><time timestamp='2019-06-26T01:05:00Z'>01:05</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
promag: ah, good idea
<br>
</div>

<div class='talk op-msg' data-timestamp='1561517220' id='670180'>
<a class='timestamp' href='#670180'><time timestamp='2019-06-26T02:47:00Z'>02:47</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
meshcollider are you about to merge that PR. I&#x27;m in the middle of doing the same..
<br>
</div>

<div class='talk op-msg' data-timestamp='1561517280' id='670181'>
<a class='timestamp' href='#670181'><time timestamp='2019-06-26T02:48:00Z'>02:48</time></a>
&lt;<span class='nick nick-3'> meshcollider</span>&gt;
Oh yes I am lol
<br>
</div>

<div class='talk op-msg' data-timestamp='1561517280' id='670182'>
<a class='timestamp' href='#670182'><time timestamp='2019-06-26T02:48:00Z'>02:48</time></a>
&lt;<span class='nick nick-3'> meshcollider</span>&gt;
Do you want to continue or shall I do it?
<br>
</div>

<div class='talk op-msg' data-timestamp='1561517280' id='670183'>
<a class='timestamp' href='#670183'><time timestamp='2019-06-26T02:48:00Z'>02:48</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
I&#x27;m basically at sign and push hah
<br>
</div>

<div class='talk op-msg' data-timestamp='1561517340' id='670184'>
<a class='timestamp' href='#670184'><time timestamp='2019-06-26T02:49:00Z'>02:49</time></a>
&lt;<span class='nick nick-3'> meshcollider</span>&gt;
Ok go for it :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1561517400' id='670185'>
<a class='timestamp' href='#670185'><time timestamp='2019-06-26T02:50:00Z'>02:50</time></a>
&lt;<span class='nick nick-3'> meshcollider</span>&gt;
It&#x27;s safe to assume I&#x27;ll see and merge anything tagged with wallet which is RTM within half a day or so, but you beat me to it this time
<br>
</div>

<div class='talk op-msg' data-timestamp='1561517460' id='670186'>
<a class='timestamp' href='#670186'><time timestamp='2019-06-26T02:51:00Z'>02:51</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
cheers, no worries
<br>
</div>

<div class='talk op-msg' data-timestamp='1561517640' id='670187'>
<a class='timestamp' href='#670187'><time timestamp='2019-06-26T02:54:00Z'>02:54</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] fanquake pushed 2 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/332c6134bb15...ca80fec973f0" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/332c6134bb15...ca80fec973f0</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1561517640' id='670188'>
<a class='timestamp' href='#670188'><time timestamp='2019-06-26T02:54:00Z'>02:54</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master d8bd97d Hennadii Stepanov: Fix GCC 7.4.0 warning
<br>
</div>

<div class='talk op-msg' data-timestamp='1561517640' id='670189'>
<a class='timestamp' href='#670189'><time timestamp='2019-06-26T02:54:00Z'>02:54</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master ca80fec fanquake: Merge #16286: refactoring: wallet: Fix GCC 7.4.0 warning
<br>
</div>

<div class='talk op-msg' data-timestamp='1561517700' id='670190'>
<a class='timestamp' href='#670190'><time timestamp='2019-06-26T02:55:00Z'>02:55</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] fanquake merged pull request #16286: refactoring: wallet: Fix GCC 7.4.0 warning (master...20190625-fix-warning) <a href="https://github.com/bitcoin/bitcoin/pull/16286" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/16286</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1561532160' id='670191'>
<a class='timestamp' href='#670191'><time timestamp='2019-06-26T06:56:00Z'>06:56</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
NicolasDorier: Restarted the test for you.
<br>
</div>

<div class='talk op-msg' data-timestamp='1561541700' id='670192'>
<a class='timestamp' href='#670192'><time timestamp='2019-06-26T09:35:00Z'>09:35</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jonasschnelli opened pull request #16289: Add missing ECC_Stop(); in GUI rpcnestedtests.cpp (master...2019/06/fix_rpcnested_test) <a href="https://github.com/bitcoin/bitcoin/pull/16289" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/16289</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1561542060' id='670193'>
<a class='timestamp' href='#670193'><time timestamp='2019-06-26T09:41:00Z'>09:41</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
MarcoFalke: how is travis caching .ccache? Per job? Or does it combine/merge files in that cache folder?
<br>
</div>

<div class='talk op-msg' data-timestamp='1561542180' id='670194'>
<a class='timestamp' href='#670194'><time timestamp='2019-06-26T09:43:00Z'>09:43</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] Bushstar opened pull request #16290: NULL to nullptr (master...null-to-nullptr) <a href="https://github.com/bitcoin/bitcoin/pull/16290" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/16290</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1561545060' id='670195'>
<a class='timestamp' href='#670195'><time timestamp='2019-06-26T10:31:00Z'>10:31</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] fanquake closed pull request #16290: NULL to nullptr (master...null-to-nullptr) <a href="https://github.com/bitcoin/bitcoin/pull/16290" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/16290</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1561545600' id='670196'>
<a class='timestamp' href='#670196'><time timestamp='2019-06-26T10:40:00Z'>10:40</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
Be good to get some eyes over #16035. A couple of unclean cherry-picks, important bug fixes etc for 0.18.1.
<br>
</div>

<div class='talk op-msg' data-timestamp='1561545600' id='670197'>
<a class='timestamp' href='#670197'><time timestamp='2019-06-26T10:40:00Z'>10:40</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/16035" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/16035</a> | 0.18.1: Backports by MarcoFalke · Pull Request #16035 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1561546140' id='670198'>
<a class='timestamp' href='#670198'><time timestamp='2019-06-26T10:49:00Z'>10:49</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
If anyone is interested in some build system review. Cory has a PR open on the bitcoin-core/univalue repo: <a href="https://github.com/bitcoin-core/univalue/pull/19" class="link" target="_blank">https://github.com/bitcoin-core/univalue/pull/19</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1561554360' id='670199'>
<a class='timestamp' href='#670199'><time timestamp='2019-06-26T13:06:00Z'>13:06</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
fanquake: will look those backports
<br>
</div>

<div class='talk op-msg' data-timestamp='1561555020' id='670200'>
<a class='timestamp' href='#670200'><time timestamp='2019-06-26T13:17:00Z'>13:17</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke pushed 2 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/ca80fec973f0...1b28bca04c27" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/ca80fec973f0...1b28bca04c27</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1561555020' id='670201'>
<a class='timestamp' href='#670201'><time timestamp='2019-06-26T13:17:00Z'>13:17</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 9824a0d RJ Rybarczyk: Remove extra CBlockIndex declaration
<br>
</div>

<div class='talk op-msg' data-timestamp='1561555020' id='670202'>
<a class='timestamp' href='#670202'><time timestamp='2019-06-26T13:17:00Z'>13:17</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 1b28bca MarcoFalke: Merge #16287: refactor: remove extra CBlockIndex declaration
<br>
</div>

<div class='talk op-msg' data-timestamp='1561555080' id='670203'>
<a class='timestamp' href='#670203'><time timestamp='2019-06-26T13:18:00Z'>13:18</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke merged pull request #16287: refactor: remove extra CBlockIndex declaration (master...remove-extra-cblockindex) <a href="https://github.com/bitcoin/bitcoin/pull/16287" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/16287</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1561561860' id='670204'>
<a class='timestamp' href='#670204'><time timestamp='2019-06-26T15:11:00Z'>15:11</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke opened pull request #16291: gui: Stop translating PACKAGE_NAME (master...1906-noTranslatePackageName) <a href="https://github.com/bitcoin/bitcoin/pull/16291" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/16291</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1561570140' id='670205'>
<a class='timestamp' href='#670205'><time timestamp='2019-06-26T17:29:00Z'>17:29</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] instagibbs opened pull request #16292: wallet_resendwallettransaction.py: fix coinbase height (master...resend_test_height) <a href="https://github.com/bitcoin/bitcoin/pull/16292" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/16292</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1561570500' id='670206'>
<a class='timestamp' href='#670206'><time timestamp='2019-06-26T17:35:00Z'>17:35</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
regarding <a href="https://github.com/bitcoin/bitcoin/pull/8994" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8994</a> I&#x27;m not sure it needs conceptual review (I&#x27;m sure there&#x27;s many concept acks buried in the comments), but mostly review and re-review
<br>
</div>

<div class='talk op-msg' data-timestamp='1561571400' id='670207'>
<a class='timestamp' href='#670207'><time timestamp='2019-06-26T17:50:00Z'>17:50</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] practicalswift closed pull request #16045: Skip redundant memset(p, 0, 0) calls where p is not valid for writing (master...redundant-memsets) <a href="https://github.com/bitcoin/bitcoin/pull/16045" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/16045</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1561571580' id='670208'>
<a class='timestamp' href='#670208'><time timestamp='2019-06-26T17:53:00Z'>17:53</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke opened pull request #16293: test: Make test cases separate functions (master...1906-testNoScopeLeak) <a href="https://github.com/bitcoin/bitcoin/pull/16293" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/16293</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1561571820' id='670209'>
<a class='timestamp' href='#670209'><time timestamp='2019-06-26T17:57:00Z'>17:57</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
[05:41] &lt;jonasschnelli&gt; MarcoFalke: how is travis caching .ccache? Per job? Or does it combine/merge files in that cache folder?
<br>
</div>

<div class='talk op-msg' data-timestamp='1561571820' id='670210'>
<a class='timestamp' href='#670210'><time timestamp='2019-06-26T17:57:00Z'>17:57</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
It should be per job
<br>
</div>

<div class='talk op-msg' data-timestamp='1561571880' id='670211'>
<a class='timestamp' href='#670211'><time timestamp='2019-06-26T17:58:00Z'>17:58</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
so per build? per job would not make much sense?
<br>
</div>

<div class='talk op-msg' data-timestamp='1561571880' id='670212'>
<a class='timestamp' href='#670212'><time timestamp='2019-06-26T17:58:00Z'>17:58</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
I think they run something like $(env | md5sum) to get the cache name, so that should be different for each entry in the matrix
<br>
</div>

<div class='talk op-msg' data-timestamp='1561571880' id='670213'>
<a class='timestamp' href='#670213'><time timestamp='2019-06-26T17:58:00Z'>17:58</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I see...
<br>
</div>

<div class='talk op-msg' data-timestamp='1561571880' id='670214'>
<a class='timestamp' href='#670214'><time timestamp='2019-06-26T17:58:00Z'>17:58</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
yes. Makes sense
<br>
</div>

<div class='talk op-msg' data-timestamp='1561571880' id='670215'>
<a class='timestamp' href='#670215'><time timestamp='2019-06-26T17:58:00Z'>17:58</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
each HOST should have their own cache
<br>
</div>

<div class='talk op-msg' data-timestamp='1561571940' id='670216'>
<a class='timestamp' href='#670216'><time timestamp='2019-06-26T17:59:00Z'>17:59</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
maybe based on the job name or so
<br>
</div>

<div class='talk op-msg' data-timestamp='1561571940' id='670217'>
<a class='timestamp' href='#670217'><time timestamp='2019-06-26T17:59:00Z'>17:59</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
(or as you said a hash of the env)
<br>
</div>

<div class='talk op-msg' data-timestamp='1561572240' id='670218'>
<a class='timestamp' href='#670218'><time timestamp='2019-06-26T18:04:00Z'>18:04</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
E.g the arm hash: <a href="https://travis-ci.org/bitcoin/bitcoin/jobs/550863420#L160" class="link" target="_blank">https://travis-ci.org/bitcoin/bitcoin/jobs/550863420#L160</a> is 42c149c5429f559658e55580a560c8f631c5a8c8bb2db228b3b73635f0e90558
<br>
</div>

<div class='talk op-msg' data-timestamp='1561572240' id='670219'>
<a class='timestamp' href='#670219'><time timestamp='2019-06-26T18:04:00Z'>18:04</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
And the win64 hash: <a href="https://travis-ci.org/bitcoin/bitcoin/jobs/550927504#L159" class="link" target="_blank">https://travis-ci.org/bitcoin/bitcoin/jobs/550927504#L159</a> is d42e27fad05b3f827b638d9dda4edcac0b86aeefd6658d03f48468bbde9b1845
<br>
</div>

<div class='talk op-msg' data-timestamp='1561572360' id='670220'>
<a class='timestamp' href='#670220'><time timestamp='2019-06-26T18:06:00Z'>18:06</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
doc: <a href="https://docs.travis-ci.com/user/caching/#caches-and-build-matrices" class="link" target="_blank">https://docs.travis-ci.com/user/caching/#caches-and-build-matrices</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1561573560' id='670221'>
<a class='timestamp' href='#670221'><time timestamp='2019-06-26T18:26:00Z'>18:26</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
For #13989, I&#x27;m wondering what the policy is for adding intrinsics like this. According to jamesob&#x27;s benchmarks here <a href="https://github.com/bitcoin/bitcoin/pull/13989#issuecomment-497381424" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/13989#issuecomment-497381424</a>. I see that: 1. The PR significantly improves SHA-intensive microbenchmarks: `micro.gcc.MerkleRoot` and `micro.gcc.SHA256D64_1024`. 2. It does not speed up IBD performance significantly.
<br>
</div>

<div class='talk op-msg' data-timestamp='1561573560' id='670222'>
<a class='timestamp' href='#670222'><time timestamp='2019-06-26T18:26:00Z'>18:26</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/13989" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/13989</a> | add avx512 instrinsic by fingera · Pull Request #13989 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1561573620' id='670223'>
<a class='timestamp' href='#670223'><time timestamp='2019-06-26T18:27:00Z'>18:27</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
Is this something that&#x27;s worth keeping maintained in the codebase? I see that there&#x27;s precedent already with AVX(2)
<br>
</div>

<div class='talk op-msg' data-timestamp='1561573680' id='670224'>
<a class='timestamp' href='#670224'><time timestamp='2019-06-26T18:28:00Z'>18:28</time></a>
&lt;<span class='nick nick-4'> jamesob</span>&gt;
imo we shouldn&#x27;t trust chip manufacturers with SHA implementations unless there&#x27;s a really compelling performance reason to do so
<br>
</div>

<div class='talk op-msg' data-timestamp='1561573800' id='670225'>
<a class='timestamp' href='#670225'><time timestamp='2019-06-26T18:30:00Z'>18:30</time></a>
&lt;<span class='nick nick-4'> jamesob</span>&gt;
let me amend that to &quot;imo we shouldn&#x27;t trust chip manufacturers with SHA implementations&quot; :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1561573920' id='670226'>
<a class='timestamp' href='#670226'><time timestamp='2019-06-26T18:32:00Z'>18:32</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
dongcarl: SHA256 performance mainly affects propagation speed, not IBD
<br>
</div>

<div class='talk op-msg' data-timestamp='1561573920' id='670227'>
<a class='timestamp' href='#670227'><time timestamp='2019-06-26T18:32:00Z'>18:32</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
which we don&#x27;t have good benchmarks for
<br>
</div>

<div class='talk op-msg' data-timestamp='1561573980' id='670228'>
<a class='timestamp' href='#670228'><time timestamp='2019-06-26T18:33:00Z'>18:33</time></a>
&lt;<span class='nick nick-7'> * dongcarl</span>&gt;
thinking
<br>
</div>

<div class='talk op-msg' data-timestamp='1561573980' id='670229'>
<a class='timestamp' href='#670229'><time timestamp='2019-06-26T18:33:00Z'>18:33</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
sipa: the total CheckBlock time in IBD isn&#x27;t 0, though?
<br>
</div>

<div class='talk op-msg' data-timestamp='1561573980' id='670230'>
<a class='timestamp' href='#670230'><time timestamp='2019-06-26T18:33:00Z'>18:33</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
especially with assumevalid
<br>
</div>

<div class='talk op-msg' data-timestamp='1561574040' id='670231'>
<a class='timestamp' href='#670231'><time timestamp='2019-06-26T18:34:00Z'>18:34</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
BlueMatt: yeah, true
<br>
</div>

<div class='talk op-msg' data-timestamp='1561574100' id='670232'>
<a class='timestamp' href='#670232'><time timestamp='2019-06-26T18:35:00Z'>18:35</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
still, i don&#x27;t expect IBD to be bottlenecked by sha256
<br>
</div>

<div class='talk op-msg' data-timestamp='1561574100' id='670233'>
<a class='timestamp' href='#670233'><time timestamp='2019-06-26T18:35:00Z'>18:35</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
it is (for now) critical-path, though I do want to change that.....
<br>
</div>

<div class='talk op-msg' data-timestamp='1561574160' id='670234'>
<a class='timestamp' href='#670234'><time timestamp='2019-06-26T18:36:00Z'>18:36</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
So is there consensus around whether to continue maintaining intrinsics? Should they be phased out over time, or we just don&#x27;t add new ones?
<br>
</div>

<div class='talk op-msg' data-timestamp='1561574160' id='670235'>
<a class='timestamp' href='#670235'><time timestamp='2019-06-26T18:36:00Z'>18:36</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
dongcarl: i suggest you try comparing performance with versions without any intrinsics :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1561574220' id='670236'>
<a class='timestamp' href='#670236'><time timestamp='2019-06-26T18:37:00Z'>18:37</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
(we have sse4, avx2, and shani based optimized code already, which you may be seeing)
<br>
</div>

<div class='talk op-msg' data-timestamp='1561574220' id='670237'>
<a class='timestamp' href='#670237'><time timestamp='2019-06-26T18:37:00Z'>18:37</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i don&#x27;t see any reason why we&#x27;d drop them?
<br>
</div>

<div class='talk op-msg' data-timestamp='1561574340' id='670238'>
<a class='timestamp' href='#670238'><time timestamp='2019-06-26T18:39:00Z'>18:39</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
perhaps I&#x27;m misunderstanding but jamesob brought up the point that we might not want to trust chip manufacturers with SHA implementations?
<br>
</div>

<div class='talk op-msg' data-timestamp='1561574340' id='670239'>
<a class='timestamp' href='#670239'><time timestamp='2019-06-26T18:39:00Z'>18:39</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
we&#x27;re trusting them entirely for everything else already?
<br>
</div>

<div class='talk op-msg' data-timestamp='1561574340' id='670240'>
<a class='timestamp' href='#670240'><time timestamp='2019-06-26T18:39:00Z'>18:39</time></a>
&lt;<span class='nick nick-4'> jamesob</span>&gt;
nvm, I think <b>*I*</b> misunderstood there - I thought the intrinsics were doing more than they rae
<br>
</div>

<div class='talk op-msg' data-timestamp='1561574460' id='670241'>
<a class='timestamp' href='#670241'><time timestamp='2019-06-26T18:41:00Z'>18:41</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
sipa: true
<br>
</div>

<div class='talk op-msg' data-timestamp='1561574520' id='670242'>
<a class='timestamp' href='#670242'><time timestamp='2019-06-26T18:42:00Z'>18:42</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
have there been previous attempts at benchmarking propagation speed? (what would that even entail?)
<br>
</div>

<div class='talk op-msg' data-timestamp='1561574820' id='670243'>
<a class='timestamp' href='#670243'><time timestamp='2019-06-26T18:47:00Z'>18:47</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jamesob: they&#x27;re just syntactic C sugar for platform-specific assembly instructions
<br>
</div>

<div class='talk op-msg' data-timestamp='1561574880' id='670244'>
<a class='timestamp' href='#670244'><time timestamp='2019-06-26T18:48:00Z'>18:48</time></a>
&lt;<span class='nick nick-4'> jamesob</span>&gt;
sipa: gotcha; for some reason I had it in my head that we may be wanting to make use of some sha256 native instruction
<br>
</div>

<div class='talk op-msg' data-timestamp='1561574940' id='670245'>
<a class='timestamp' href='#670245'><time timestamp='2019-06-26T18:49:00Z'>18:49</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
we are; through intrinsics in some cases :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1561576320' id='670246'>
<a class='timestamp' href='#670246'><time timestamp='2019-06-26T19:12:00Z'>19:12</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
sipa: The rationale here is that SHA-NI seems to be faster than SSE4/AVX2 in all cases? <a href="https://github.com/bitcoin/bitcoin/pull/13386/files#diff-cf563899256ae1ec7ee78b61806e40caR608" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/13386/files#diff-cf563899256ae1ec7ee78b61806e40caR608</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1561576320' id='670247'>
<a class='timestamp' href='#670247'><time timestamp='2019-06-26T19:12:00Z'>19:12</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1561576500' id='670248'>
<a class='timestamp' href='#670248'><time timestamp='2019-06-26T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
dongcarl: it could have been written as an else branch instead
<br>
</div>

<div class='talk op-msg' data-timestamp='1561576500' id='670249'>
<a class='timestamp' href='#670249'><time timestamp='2019-06-26T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but it&#x27;s kinda hard with all the conditional compilation
<br>
</div>

<div class='talk op-msg' data-timestamp='1561576560' id='670250'>
<a class='timestamp' href='#670250'><time timestamp='2019-06-26T19:16:00Z'>19:16</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
once you&#x27;ve installed a sha-ni based hasher, you don&#x27;t want it to be overwritten afterwards with a measly sse4-based one
<br>
</div>

<div class='talk op-msg' data-timestamp='1561576620' id='670251'>
<a class='timestamp' href='#670251'><time timestamp='2019-06-26T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
sipa: Right... So when we add AVX512 we should also disable it like you did? Or are benchmarks required before that call can be made?
<br>
</div>

<div class='talk op-msg' data-timestamp='1561576800' id='670252'>
<a class='timestamp' href='#670252'><time timestamp='2019-06-26T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
dongcarl: AVX512 only lets you speed up 16-way hashing; not 8-way, 4-way, 2-way, 1-way, or double-64byte :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1561576800' id='670253'>
<a class='timestamp' href='#670253'><time timestamp='2019-06-26T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
so no
<br>
</div>

<div class='talk op-msg' data-timestamp='1561576860' id='670254'>
<a class='timestamp' href='#670254'><time timestamp='2019-06-26T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
AVX2 code right now is also only used for 8-way hashing, but 4-way is still done using the sse4 based code
<br>
</div>

<div class='talk op-msg' data-timestamp='1561576860' id='670255'>
<a class='timestamp' href='#670255'><time timestamp='2019-06-26T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
this is different from sha-ni which gives you a faster 1-way hash
<br>
</div>

<div class='talk op-msg' data-timestamp='1561577100' id='670256'>
<a class='timestamp' href='#670256'><time timestamp='2019-06-26T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
dongcarl: maybe this isn&#x27;t obvious, but the AVX2/AVX512 instructions really just give you a fast way to implement the computation of 8/16 (for avx2/avx512) hashes simultaneously
<br>
</div>

<div class='talk op-msg' data-timestamp='1561577100' id='670257'>
<a class='timestamp' href='#670257'><time timestamp='2019-06-26T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
if you&#x27;d use AVX512 based code to compute just one hash, you&#x27;d need to fill the buffers with 15 pieces of dummy input, and hash those at the same time still
<br>
</div>

<div class='talk op-msg' data-timestamp='1561577100' id='670258'>
<a class='timestamp' href='#670258'><time timestamp='2019-06-26T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-7'> * dongcarl</span>&gt;
digesting and thinking
<br>
</div>

<div class='talk op-msg' data-timestamp='1561577160' id='670259'>
<a class='timestamp' href='#670259'><time timestamp='2019-06-26T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but the AVX512 code for 16 hashes is slower than just using naive non-optimized SHA
<br>
</div>

<div class='talk op-msg' data-timestamp='1561577160' id='670260'>
<a class='timestamp' href='#670260'><time timestamp='2019-06-26T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
so it&#x27;s only worth it when you actually have 16 things to hash
<br>
</div>

<div class='talk op-msg' data-timestamp='1561577220' id='670261'>
<a class='timestamp' href='#670261'><time timestamp='2019-06-26T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it&#x27;s very likely that AVX512 (for 16 hashes) is also slower than AVX2 (for 8 hashes)
<br>
</div>

<div class='talk op-msg' data-timestamp='1561577220' id='670262'>
<a class='timestamp' href='#670262'><time timestamp='2019-06-26T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
same as AVX2 (for 8 hashes) is usually slower than using SSE4 (for 4 hashes)
<br>
</div>

<div class='talk op-msg' data-timestamp='1561577220' id='670263'>
<a class='timestamp' href='#670263'><time timestamp='2019-06-26T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
slower in clock time; per hash it&#x27;s obviously faster, or we wouldn&#x27;t have the code at all
<br>
</div>

<div class='talk op-msg' data-timestamp='1561577220' id='670264'>
<a class='timestamp' href='#670264'><time timestamp='2019-06-26T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
does that make sense?
<br>
</div>

<div class='talk op-msg' data-timestamp='1561577280' id='670265'>
<a class='timestamp' href='#670265'><time timestamp='2019-06-26T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
sipa: I guess I&#x27;m not understanding why we disable SSE4/AVX2 when SHA-NI is present, but you&#x27;re saying we shouldn&#x27;t disable AVX512?
<br>
</div>

<div class='talk op-msg' data-timestamp='1561577340' id='670266'>
<a class='timestamp' href='#670266'><time timestamp='2019-06-26T19:29:00Z'>19:29</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
dongcarl: because SHA-NI just gives you superfast code to compute <b>*one*</b> hash
<br>
</div>

<div class='talk op-msg' data-timestamp='1561577340' id='670267'>
<a class='timestamp' href='#670267'><time timestamp='2019-06-26T19:29:00Z'>19:29</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
you can&#x27;t even implement computing <b>*one*</b> hash with AVX512; you always compute 16
<br>
</div>

<div class='talk op-msg' data-timestamp='1561577400' id='670268'>
<a class='timestamp' href='#670268'><time timestamp='2019-06-26T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
so if you have SHA-NI you want to use it for everything
<br>
</div>

<div class='talk op-msg' data-timestamp='1561577400' id='670269'>
<a class='timestamp' href='#670269'><time timestamp='2019-06-26T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
with AVX512 you don&#x27;t only don&#x27;t want to use it for everything; you can&#x27;t
<br>
</div>

<div class='talk op-msg' data-timestamp='1561577460' id='670270'>
<a class='timestamp' href='#670270'><time timestamp='2019-06-26T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
Right I believe I understand that. But thinking along this line of logic, shouldn&#x27;t we disable AVX512 when SHA-NI is present?
<br>
</div>

<div class='talk op-msg' data-timestamp='1561577460' id='670271'>
<a class='timestamp' href='#670271'><time timestamp='2019-06-26T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
oh!
<br>
</div>

<div class='talk op-msg' data-timestamp='1561577460' id='670272'>
<a class='timestamp' href='#670272'><time timestamp='2019-06-26T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1561577520' id='670273'>
<a class='timestamp' href='#670273'><time timestamp='2019-06-26T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i thought you were asking if we shouldn&#x27;t disable SSE4/AVX2 when AVX512 is present; the answer there is no
<br>
</div>

<div class='talk op-msg' data-timestamp='1561577520' id='670274'>
<a class='timestamp' href='#670274'><time timestamp='2019-06-26T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
SHA-NI will likely be faster than AVX512 code, even for 16 hashes
<br>
</div>

<div class='talk op-msg' data-timestamp='1561577520' id='670275'>
<a class='timestamp' href='#670275'><time timestamp='2019-06-26T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
Haha okay cool that makes perfect sense! Thanks for your patience!
<br>
</div>

<div class='talk op-msg' data-timestamp='1561577520' id='670276'>
<a class='timestamp' href='#670276'><time timestamp='2019-06-26T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
np!
<br>
</div>

<div class='talk op-msg' data-timestamp='1561577700' id='670277'>
<a class='timestamp' href='#670277'><time timestamp='2019-06-26T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that&#x27;s actually something you may want to benchmark, whether 16-way AVX512 isn&#x27;t faster per hash than SHA-NI
<br>
</div>

<div class='talk op-msg' data-timestamp='1561577700' id='670278'>
<a class='timestamp' href='#670278'><time timestamp='2019-06-26T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
unfortunately, I don&#x27;t think any hardware exists with both AVX512 and SHA-NI :p
<br>
</div>

<div class='talk op-msg' data-timestamp='1561577820' id='670279'>
<a class='timestamp' href='#670279'><time timestamp='2019-06-26T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
sipa: True. Why aren&#x27;t there overlaps in hardware?
<br>
</div>

<div class='talk op-msg' data-timestamp='1561577880' id='670280'>
<a class='timestamp' href='#670280'><time timestamp='2019-06-26T19:38:00Z'>19:38</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
for some reason AMD has been much faster with rolling out SHA-NI support than Intel... which is surprising as SHA-NI was designed and proposed by Intel
<br>
</div>

<div class='talk op-msg' data-timestamp='1561577940' id='670281'>
<a class='timestamp' href='#670281'><time timestamp='2019-06-26T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
sipa: Ahhh... probably doesn&#x27;t make much sense to benchmark when there isn&#x27;t a machine that supports both then...
<br>
</div>

<div class='talk op-msg' data-timestamp='1561578000' id='670282'>
<a class='timestamp' href='#670282'><time timestamp='2019-06-26T19:40:00Z'>19:40</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
sipa: AFAIK there must have been hardware issues, as earlier Intel CPUs were advertised to have it, then they backed out
<br>
</div>

<div class='talk op-msg' data-timestamp='1561578000' id='670283'>
<a class='timestamp' href='#670283'><time timestamp='2019-06-26T19:40:00Z'>19:40</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
actually, I would think some Atoms have both?
<br>
</div>

<div class='talk op-msg' data-timestamp='1561578060' id='670284'>
<a class='timestamp' href='#670284'><time timestamp='2019-06-26T19:41:00Z'>19:41</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
luke-jr: atoms have avx512?
<br>
</div>

<div class='talk op-msg' data-timestamp='1561578060' id='670285'>
<a class='timestamp' href='#670285'><time timestamp='2019-06-26T19:41:00Z'>19:41</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
unsure
<br>
</div>

<div class='talk op-msg' data-timestamp='1561578120' id='670286'>
<a class='timestamp' href='#670286'><time timestamp='2019-06-26T19:42:00Z'>19:42</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
nah, looks like Intel left it out of them
<br>
</div>

<div class='talk op-msg' data-timestamp='1561578240' id='670287'>
<a class='timestamp' href='#670287'><time timestamp='2019-06-26T19:44:00Z'>19:44</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
fwiw, what BFGMiner did for CPU mining, is benchmark all algorithms in separate processes, then use the best performing
<br>
</div>

<div class='talk op-msg' data-timestamp='1561578300' id='670288'>
<a class='timestamp' href='#670288'><time timestamp='2019-06-26T19:45:00Z'>19:45</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
(at startup)
<br>
</div>

<div class='talk op-msg' data-timestamp='1561578480' id='670289'>
<a class='timestamp' href='#670289'><time timestamp='2019-06-26T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yeah
<br>
</div>

<div class='talk op-msg' data-timestamp='1561578480' id='670290'>
<a class='timestamp' href='#670290'><time timestamp='2019-06-26T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that may be necessary at some point
<br>
</div>

<div class='talk op-msg' data-timestamp='1561581360' id='670291'>
<a class='timestamp' href='#670291'><time timestamp='2019-06-26T20:36:00Z'>20:36</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke opened pull request #16294: qt: test: Create at most one testing setup (master...1906-qtTestOnlyOneTestingSetup) <a href="https://github.com/bitcoin/bitcoin/pull/16294" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/16294</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1561582680' id='670292'>
<a class='timestamp' href='#670292'><time timestamp='2019-06-26T20:58:00Z'>20:58</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
how do people feel about getting rid of dumpwallet and the import* commands except for importmulti?
<br>
</div>

<div class='talk op-msg' data-timestamp='1561582800' id='670293'>
<a class='timestamp' href='#670293'><time timestamp='2019-06-26T21:00:00Z'>21:00</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
for now dumpwallet is kind of the only way to actually see everything you&#x27;ve imported in the past
<br>
</div>

<div class='talk op-msg' data-timestamp='1561582860' id='670294'>
<a class='timestamp' href='#670294'><time timestamp='2019-06-26T21:01:00Z'>21:01</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
it kind of gets in the way of all of these wallet changes
<br>
</div>

<div class='talk op-msg' data-timestamp='1561583280' id='670295'>
<a class='timestamp' href='#670295'><time timestamp='2019-06-26T21:08:00Z'>21:08</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
they can keep working on top of the legacy spkprovider i think?
<br>
</div>

<div class='talk op-msg' data-timestamp='1561584540' id='670296'>
<a class='timestamp' href='#670296'><time timestamp='2019-06-26T21:29:00Z'>21:29</time></a>
&lt;<span class='nick nick-2'> promag__</span>&gt;
achow101: really? don&#x27;t people use dumpwallet and importwallet for backups?
<br>
</div>

<div class='talk op-msg' data-timestamp='1561584600' id='670297'>
<a class='timestamp' href='#670297'><time timestamp='2019-06-26T21:30:00Z'>21:30</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
achow101: really? don&#x27;t people use dumpwallet and importwallet for backups?
<br>
</div>

<div class='talk op-msg' data-timestamp='1561584600' id='670298'>
<a class='timestamp' href='#670298'><time timestamp='2019-06-26T21:30:00Z'>21:30</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
promag: they shouldn&#x27;t...
<br>
</div>

<div class='talk op-msg' data-timestamp='1561584600' id='670299'>
<a class='timestamp' href='#670299'><time timestamp='2019-06-26T21:30:00Z'>21:30</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
breaking change alert :P
<br>
</div>

<div class='talk op-msg' data-timestamp='1561584660' id='670300'>
<a class='timestamp' href='#670300'><time timestamp='2019-06-26T21:31:00Z'>21:31</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
do you have that refactor pushed?
<br>
</div>

<div class='talk op-msg' data-timestamp='1561584660' id='670301'>
<a class='timestamp' href='#670301'><time timestamp='2019-06-26T21:31:00Z'>21:31</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
achow101: that&#x27;s not a good reason :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1561584720' id='670302'>
<a class='timestamp' href='#670302'><time timestamp='2019-06-26T21:32:00Z'>21:32</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
there are plenty of things supported that are Bad Ideas (tm)
<br>
</div>

<div class='talk op-msg' data-timestamp='1561584780' id='670303'>
<a class='timestamp' href='#670303'><time timestamp='2019-06-26T21:33:00Z'>21:33</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
promag: <a href="https://github.com/achow101/bitcoin/tree/box-the-wallet" class="link" target="_blank">https://github.com/achow101/bitcoin/tree/box-the-wallet</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1561584780' id='670304'>
<a class='timestamp' href='#670304'><time timestamp='2019-06-26T21:33:00Z'>21:33</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
sipa: or Were Good Ideas (tm)
<br>
</div>

<div class='talk op-msg' data-timestamp='1561584780' id='670305'>
<a class='timestamp' href='#670305'><time timestamp='2019-06-26T21:33:00Z'>21:33</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
they can certainly be deprecated if there are alternatives, but i suspect here that the expected workflow will be that once you upgrade to a Shiny Descriptor Wallet certain RPCs stop being available, but remain supported on legacy wallets
<br>
</div>

<div class='talk op-msg' data-timestamp='1561585080' id='670306'>
<a class='timestamp' href='#670306'><time timestamp='2019-06-26T21:38:00Z'>21:38</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
achow101: oh nice, lots of commits :D
<br>
</div>

<div class='talk op-msg' data-timestamp='1561585080' id='670307'>
<a class='timestamp' href='#670307'><time timestamp='2019-06-26T21:38:00Z'>21:38</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
i&#x27;m going to reorganize them after I get the thing to actually work
<br>
</div>

<div class='talk op-msg' data-timestamp='1561586280' id='670308'>
<a class='timestamp' href='#670308'><time timestamp='2019-06-26T21:58:00Z'>21:58</time></a>
&lt;<span class='nick nick-6'> jb55</span>&gt;
achow101: why do you need [ci skip], does CI run on every commit? I thought it only ran on the tip.
<br>
</div>

<div class='talk op-msg' data-timestamp='1561586340' id='670309'>
<a class='timestamp' href='#670309'><time timestamp='2019-06-26T21:59:00Z'>21:59</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
jb55: it&#x27;s just to note that those commits won&#x27;t compile/won&#x27;t pass tests
<br>
</div>

<div class='talk op-msg' data-timestamp='1561586340' id='670310'>
<a class='timestamp' href='#670310'><time timestamp='2019-06-26T21:59:00Z'>21:59</time></a>
&lt;<span class='nick nick-6'> jb55</span>&gt;
I see
<br>
</div>

<div class='talk op-msg' data-timestamp='1561586340' id='670311'>
<a class='timestamp' href='#670311'><time timestamp='2019-06-26T21:59:00Z'>21:59</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
the order is kind of screwed up right now
<br>
</div>

<div class='talk op-msg' data-timestamp='1561586340' id='670312'>
<a class='timestamp' href='#670312'><time timestamp='2019-06-26T21:59:00Z'>21:59</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
all the [ci skip] commits should be at the end
<br>
</div>

<div class='talk op-msg' data-timestamp='1561587360' id='670313'>
<a class='timestamp' href='#670313'><time timestamp='2019-06-26T22:16:00Z'>22:16</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
eh, why wouldn&#x27;t they compile at least?
<br>
</div>

<div class='talk op-msg' data-timestamp='1561587840' id='670314'>
<a class='timestamp' href='#670314'><time timestamp='2019-06-26T22:24:00Z'>22:24</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
cause I fucked up. they&#x27;ll compile later when I reorganize everything
<br>
</div>

<div class='talk op-msg' data-timestamp='1561588320' id='670315'>
<a class='timestamp' href='#670315'><time timestamp='2019-06-26T22:32:00Z'>22:32</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke pushed 2 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/1b28bca04c27...3077f11dadff" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/1b28bca04c27...3077f11dadff</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1561588320' id='670316'>
<a class='timestamp' href='#670316'><time timestamp='2019-06-26T22:32:00Z'>22:32</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master f466c4c Jonas Schnelli: Add missing ECC_Stop(); in GUI rpcnestedtests.cpp
<br>
</div>

<div class='talk op-msg' data-timestamp='1561588320' id='670317'>
<a class='timestamp' href='#670317'><time timestamp='2019-06-26T22:32:00Z'>22:32</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 3077f11 MarcoFalke: Merge #16289: test: Add missing ECC_Stop() in GUI rpcnestedtests.cpp
<br>
</div>

<div class='talk op-msg' data-timestamp='1561588380' id='670318'>
<a class='timestamp' href='#670318'><time timestamp='2019-06-26T22:33:00Z'>22:33</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke merged pull request #16289: test: Add missing ECC_Stop() in GUI rpcnestedtests.cpp (master...2019/06/fix_rpcnested_test) <a href="https://github.com/bitcoin/bitcoin/pull/16289" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/16289</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1561592700' id='670319'>
<a class='timestamp' href='#670319'><time timestamp='2019-06-26T23:45:00Z'>23:45</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke closed pull request #16294: qt: test: Create at most one testing setup (master...1906-qtTestOnlyOneTestingSetup) <a href="https://github.com/bitcoin/bitcoin/pull/16294" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/16294</a>
<br>
</div>

</div>
</section>

</body>
</html>
