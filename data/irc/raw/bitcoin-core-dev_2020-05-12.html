<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2020-05-12
 — 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2020-05-12' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:18 UTC</pre>
<pre><a href="/bitcoin-core-dev/2020-04-12">&lt;</a><span class='header'>     May 2020     </span><a href="/bitcoin-core-dev/2020-06-12">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;                <a class="" href="/bitcoin-core-dev/2020-05-01">1</a>  <a class="" href="/bitcoin-core-dev/2020-05-02">2</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2020-05-03">3</a>  <a class="" href="/bitcoin-core-dev/2020-05-04">4</a>  <a class="" href="/bitcoin-core-dev/2020-05-05">5</a>  <a class="" href="/bitcoin-core-dev/2020-05-06">6</a>  <a class="" href="/bitcoin-core-dev/2020-05-07">7</a>  <a class="" href="/bitcoin-core-dev/2020-05-08">8</a>  <a class="" href="/bitcoin-core-dev/2020-05-09">9</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2020-05-10">10</a> <a class="" href="/bitcoin-core-dev/2020-05-11">11</a> <a class="current" href="/bitcoin-core-dev/2020-05-12">12</a> <a class="" href="/bitcoin-core-dev/2020-05-13">13</a> <a class="" href="/bitcoin-core-dev/2020-05-14">14</a> <a class="" href="/bitcoin-core-dev/2020-05-15">15</a> <a class="" href="/bitcoin-core-dev/2020-05-16">16</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2020-05-17">17</a> <a class="" href="/bitcoin-core-dev/2020-05-18">18</a> <a class="" href="/bitcoin-core-dev/2020-05-19">19</a> <a class="" href="/bitcoin-core-dev/2020-05-20">20</a> <a class="" href="/bitcoin-core-dev/2020-05-21">21</a> <a class="" href="/bitcoin-core-dev/2020-05-22">22</a> <a class="" href="/bitcoin-core-dev/2020-05-23">23</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2020-05-24">24</a> <a class="" href="/bitcoin-core-dev/2020-05-25">25</a> <a class="" href="/bitcoin-core-dev/2020-05-26">26</a> <a class="" href="/bitcoin-core-dev/2020-05-27">27</a> <a class="" href="/bitcoin-core-dev/2020-05-28">28</a> <a class="" href="/bitcoin-core-dev/2020-05-29">29</a> <a class="" href="/bitcoin-core-dev/2020-05-30">30</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2020-05-31">31</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1589245920' id='386891'>
<a class='timestamp' href='#386891'><time timestamp='2020-05-12T01:12:00Z'>01:12</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jnewbery opened pull request #18955: net processing: requeue transaction GETDATA requests more frequently (master...2020-05-requeue-txrequest) <a href="https://github.com/bitcoin/bitcoin/pull/18955" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/18955</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1589245920' id='386892'>
<a class='timestamp' href='#386892'><time timestamp='2020-05-12T01:12:00Z'>01:12</time></a>
&lt;<span class='nick nick-3'> meshcollider</span>&gt;
wumpus: re #18700 what do you mean by not quite ready yet?
<br>
</div>

<div class='talk op-msg' data-timestamp='1589245920' id='386893'>
<a class='timestamp' href='#386893'><time timestamp='2020-05-12T01:12:00Z'>01:12</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/18700" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/18700</a> | Fix locking on WSL using flock instead of fcntl by meshcollider · Pull Request #18700 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1589246040' id='386894'>
<a class='timestamp' href='#386894'><time timestamp='2020-05-12T01:14:00Z'>01:14</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] fanquake pushed 5 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/eb2ffbb7c134...7a5767423f37" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/eb2ffbb7c134...7a5767423f37</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1589246040' id='386895'>
<a class='timestamp' href='#386895'><time timestamp='2020-05-12T01:14:00Z'>01:14</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 047ceac Amiti Uttarwar: [net processing] ignore tx GETDATA from blocks-only peers
<br>
</div>

<div class='talk op-msg' data-timestamp='1589246040' id='386896'>
<a class='timestamp' href='#386896'><time timestamp='2020-05-12T01:14:00Z'>01:14</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master e257cf7 Amiti Uttarwar: [net processing] ignore unknown INV types in GETDATA messages
<br>
</div>

<div class='talk op-msg' data-timestamp='1589246040' id='386897'>
<a class='timestamp' href='#386897'><time timestamp='2020-05-12T01:14:00Z'>01:14</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 2f03255 Amiti Uttarwar: [test] test that an invalid GETDATA doesn&#x27;t prevent processing of future m...
<br>
</div>

<div class='talk op-msg' data-timestamp='1589246040' id='386898'>
<a class='timestamp' href='#386898'><time timestamp='2020-05-12T01:14:00Z'>01:14</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] fanquake merged pull request #18808: [net processing] Drop unknown types in getdata (master...2020-04-getdata) <a href="https://github.com/bitcoin/bitcoin/pull/18808" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/18808</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1589246520' id='386899'>
<a class='timestamp' href='#386899'><time timestamp='2020-05-12T01:22:00Z'>01:22</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jnewbery closed pull request #18955: net processing: requeue transaction GETDATA requests more frequently (master...2020-05-requeue-txrequest) <a href="https://github.com/bitcoin/bitcoin/pull/18955" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/18955</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1589251620' id='386900'>
<a class='timestamp' href='#386900'><time timestamp='2020-05-12T02:47:00Z'>02:47</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] andrewtoth reopened pull request #18941: validation: Persist coins cache to disk and load on startup (master...persist-coinscache) <a href="https://github.com/bitcoin/bitcoin/pull/18941" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/18941</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1589253540' id='386901'>
<a class='timestamp' href='#386901'><time timestamp='2020-05-12T03:19:00Z'>03:19</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
would be nice if Travis sent an email to the PR creator when it failed :x
<br>
</div>

<div class='talk op-msg' data-timestamp='1589263620' id='386902'>
<a class='timestamp' href='#386902'><time timestamp='2020-05-12T06:07:00Z'>06:07</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] practicalswift closed pull request #18432: util: Make our stringstream usage locale independent (master...cpp-locale) <a href="https://github.com/bitcoin/bitcoin/pull/18432" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/18432</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1589263680' id='386903'>
<a class='timestamp' href='#386903'><time timestamp='2020-05-12T06:08:00Z'>06:08</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] practicalswift closed pull request #18450: util: Use locale independent ToString(…) instead of locale dependent strprintf(…) for low-level string formatting (master...locale-independence) <a href="https://github.com/bitcoin/bitcoin/pull/18450" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/18450</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1589263680' id='386904'>
<a class='timestamp' href='#386904'><time timestamp='2020-05-12T06:08:00Z'>06:08</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] practicalswift closed pull request #18539: Avoid using locale-dependent boost trim functions in RPCAuthorized(…) and bitcoin-tx (master...avoid-locale-dependent-trim) <a href="https://github.com/bitcoin/bitcoin/pull/18539" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/18539</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1589270340' id='386905'>
<a class='timestamp' href='#386905'><time timestamp='2020-05-12T07:59:00Z'>07:59</time></a>
&lt;<span class='nick nick-10'> elichai2</span>&gt;
jonatack: <a href="https://github.com/bitcoin/bitcoin/pull/18949#issuecomment-626901015" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/18949#issuecomment-626901015</a> that&#x27;s the main reason why I suggested this will be a thing anyone can add themselves, I don&#x27;t think we have good metrics to choose reviewers ourselves
<br>
</div>

<div class='talk op-msg' data-timestamp='1589270400' id='386906'>
<a class='timestamp' href='#386906'><time timestamp='2020-05-12T08:00:00Z'>08:00</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] fanquake opened pull request #18956: build: enforce minumim required Windows version (7) (master...window_enforce_runtime_version) <a href="https://github.com/bitcoin/bitcoin/pull/18956" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/18956</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1589270940' id='386907'>
<a class='timestamp' href='#386907'><time timestamp='2020-05-12T08:09:00Z'>08:09</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] meeDamian opened pull request #18957: Add a link from ZMQ doc to ZMQ example in contrib/ (master...zmq-doc-link) <a href="https://github.com/bitcoin/bitcoin/pull/18957" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/18957</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1589271420' id='386908'>
<a class='timestamp' href='#386908'><time timestamp='2020-05-12T08:17:00Z'>08:17</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] fanquake pushed 2 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/7a5767423f37...49d237ce3230" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/7a5767423f37...49d237ce3230</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1589271420' id='386909'>
<a class='timestamp' href='#386909'><time timestamp='2020-05-12T08:17:00Z'>08:17</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 89fea68 fanquake: build: don&#x27;t pass -w when building for Windows
<br>
</div>

<div class='talk op-msg' data-timestamp='1589271420' id='386910'>
<a class='timestamp' href='#386910'><time timestamp='2020-05-12T08:17:00Z'>08:17</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 49d237c fanquake: Merge #18928: build: don&#x27;t pass -w when building for Windows
<br>
</div>

<div class='talk op-msg' data-timestamp='1589271480' id='386911'>
<a class='timestamp' href='#386911'><time timestamp='2020-05-12T08:18:00Z'>08:18</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] fanquake merged pull request #18928: build: don&#x27;t pass -w when building for Windows (master...dont_try_suppress_all_warnings_win) <a href="https://github.com/bitcoin/bitcoin/pull/18928" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/18928</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1589272980' id='386912'>
<a class='timestamp' href='#386912'><time timestamp='2020-05-12T08:43:00Z'>08:43</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] fanquake pushed 2 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/49d237ce3230...ad1b7b18177a" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/49d237ce3230...ad1b7b18177a</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1589272980' id='386913'>
<a class='timestamp' href='#386913'><time timestamp='2020-05-12T08:43:00Z'>08:43</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master d97fac4 Damian Mee: Add a link from ZMQ doc to ZMQ example in contrib/
<br>
</div>

<div class='talk op-msg' data-timestamp='1589272980' id='386914'>
<a class='timestamp' href='#386914'><time timestamp='2020-05-12T08:43:00Z'>08:43</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master ad1b7b1 fanquake: Merge #18957: Add a link from ZMQ doc to ZMQ example in contrib/
<br>
</div>

<div class='talk op-msg' data-timestamp='1589272980' id='386915'>
<a class='timestamp' href='#386915'><time timestamp='2020-05-12T08:43:00Z'>08:43</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] fanquake merged pull request #18957: Add a link from ZMQ doc to ZMQ example in contrib/ (master...zmq-doc-link) <a href="https://github.com/bitcoin/bitcoin/pull/18957" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/18957</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1589274240' id='386916'>
<a class='timestamp' href='#386916'><time timestamp='2020-05-12T09:04:00Z'>09:04</time></a>
&lt;<span class='nick nick-14'> jonatack</span>&gt;
gleb: interesting about bitpeers. seems there is the original one in go and a rewrite in python. which one did you try?
<br>
</div>

<div class='talk op-msg' data-timestamp='1589274360' id='386917'>
<a class='timestamp' href='#386917'><time timestamp='2020-05-12T09:06:00Z'>09:06</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] fanquake pushed 2 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/ad1b7b18177a...0f2fa599aee0" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/ad1b7b18177a...0f2fa599aee0</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1589274360' id='386918'>
<a class='timestamp' href='#386918'><time timestamp='2020-05-12T09:06:00Z'>09:06</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 83da576 Jon Atack: net: use CMessageHeader::HEADER_SIZE, add missing include
<br>
</div>

<div class='talk op-msg' data-timestamp='1589274360' id='386919'>
<a class='timestamp' href='#386919'><time timestamp='2020-05-12T09:06:00Z'>09:06</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 0f2fa59 fanquake: Merge #18931: net: use CMessageHeader::HEADER_SIZE, add missing include
<br>
</div>

<div class='talk op-msg' data-timestamp='1589274360' id='386920'>
<a class='timestamp' href='#386920'><time timestamp='2020-05-12T09:06:00Z'>09:06</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] fanquake merged pull request #18931: net: use CMessageHeader::HEADER_SIZE, add missing include (master...netcpp-use-CMessageHeader_HEADER_SIZE) <a href="https://github.com/bitcoin/bitcoin/pull/18931" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/18931</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1589274420' id='386921'>
<a class='timestamp' href='#386921'><time timestamp='2020-05-12T09:07:00Z'>09:07</time></a>
&lt;<span class='nick nick-14'> jonatack</span>&gt;
elichai2: right. I suppose it&#x27;s worth trying. I like your idea of subscribing to labels you&#x27;re interested in.
<br>
</div>

<div class='talk op-msg' data-timestamp='1589283600' id='386922'>
<a class='timestamp' href='#386922'><time timestamp='2020-05-12T11:40:00Z'>11:40</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke pushed 4 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/0f2fa599aee0...4fa31570144e" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/0f2fa599aee0...4fa31570144e</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1589283600' id='386923'>
<a class='timestamp' href='#386923'><time timestamp='2020-05-12T11:40:00Z'>11:40</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 3333cb9 MarcoFalke: fuzz: Pass down MAKEJOBS to test_runner
<br>
</div>

<div class='talk op-msg' data-timestamp='1589283600' id='386924'>
<a class='timestamp' href='#386924'><time timestamp='2020-05-12T11:40:00Z'>11:40</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master fa35c34 MarcoFalke: Remove unused ci configs that have been moved elsewhere
<br>
</div>

<div class='talk op-msg' data-timestamp='1589283600' id='386925'>
<a class='timestamp' href='#386925'><time timestamp='2020-05-12T11:40:00Z'>11:40</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master cbd6611 Russell Yanofsky: Set LD_LIBRARY_PATH consistently in travis tests
<br>
</div>

<div class='talk op-msg' data-timestamp='1589283600' id='386926'>
<a class='timestamp' href='#386926'><time timestamp='2020-05-12T11:40:00Z'>11:40</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke merged pull request #18929: ci: Pass down LD_LIBRARY_PATH and MAKEJOBS to fuzz test_runner (master...2005-fuzzMakejobs) <a href="https://github.com/bitcoin/bitcoin/pull/18929" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/18929</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1589288760' id='386927'>
<a class='timestamp' href='#386927'><time timestamp='2020-05-12T13:06:00Z'>13:06</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke pushed 4 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/4fa31570144e...e45fb7e0d276" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/4fa31570144e...e45fb7e0d276</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1589288760' id='386928'>
<a class='timestamp' href='#386928'><time timestamp='2020-05-12T13:06:00Z'>13:06</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 9ccaaba Jim Posen: [init] Add -peerblockfilters option
<br>
</div>

<div class='talk op-msg' data-timestamp='1589288760' id='386929'>
<a class='timestamp' href='#386929'><time timestamp='2020-05-12T13:06:00Z'>13:06</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master f9e00bb Jim Posen: [net processing] Message handling for getcfcheckpt.
<br>
</div>

<div class='talk op-msg' data-timestamp='1589288760' id='386930'>
<a class='timestamp' href='#386930'><time timestamp='2020-05-12T13:06:00Z'>13:06</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 2308385 Jim Posen: [test] Add test for cfcheckpt
<br>
</div>

<div class='talk op-msg' data-timestamp='1589288760' id='386931'>
<a class='timestamp' href='#386931'><time timestamp='2020-05-12T13:06:00Z'>13:06</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke merged pull request #18877: Serve cfcheckpt requests (master...2020-04-serve-getcfcheckpt) <a href="https://github.com/bitcoin/bitcoin/pull/18877" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/18877</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1589290560' id='386932'>
<a class='timestamp' href='#386932'><time timestamp='2020-05-12T13:36:00Z'>13:36</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] practicalswift reopened pull request #18450: util: Use locale independent ToString(…) instead of locale dependent strprintf(…) for low-level string formatting (master...locale-independence) <a href="https://github.com/bitcoin/bitcoin/pull/18450" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/18450</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1589291220' id='386933'>
<a class='timestamp' href='#386933'><time timestamp='2020-05-12T13:47:00Z'>13:47</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] fanquake pushed 3 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/e45fb7e0d276...8da1e43b63cb" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/e45fb7e0d276...8da1e43b63cb</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1589291220' id='386934'>
<a class='timestamp' href='#386934'><time timestamp='2020-05-12T13:47:00Z'>13:47</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 25d8264 tryphe: p2p: add MAX_FEELER_CONNECTIONS constant
<br>
</div>

<div class='talk op-msg' data-timestamp='1589291220' id='386935'>
<a class='timestamp' href='#386935'><time timestamp='2020-05-12T13:47:00Z'>13:47</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master e3047ed fanquake: test: use p2p constants in denial of service tests
<br>
</div>

<div class='talk op-msg' data-timestamp='1589291220' id='386936'>
<a class='timestamp' href='#386936'><time timestamp='2020-05-12T13:47:00Z'>13:47</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 8da1e43 fanquake: Merge #18910: p2p: add MAX_FEELER_CONNECTIONS constant
<br>
</div>

<div class='talk op-msg' data-timestamp='1589291220' id='386937'>
<a class='timestamp' href='#386937'><time timestamp='2020-05-12T13:47:00Z'>13:47</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] fanquake merged pull request #18910: p2p: add MAX_FEELER_CONNECTIONS constant (master...add_max_feeler_connections) <a href="https://github.com/bitcoin/bitcoin/pull/18910" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/18910</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1589292540' id='386938'>
<a class='timestamp' href='#386938'><time timestamp='2020-05-12T14:09:00Z'>14:09</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] dongcarl opened pull request #18958: guix: Make V=1 more powerful for debugging (master...2020-05-guix-improvements) <a href="https://github.com/bitcoin/bitcoin/pull/18958" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/18958</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1589293140' id='386939'>
<a class='timestamp' href='#386939'><time timestamp='2020-05-12T14:19:00Z'>14:19</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj merged pull request #18945: build: Ensure source tarball has leading directory name (0.20) (0.20...2020_11_0.20_tarball_prefix) <a href="https://github.com/bitcoin/bitcoin/pull/18945" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/18945</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1589295900' id='386940'>
<a class='timestamp' href='#386940'><time timestamp='2020-05-12T15:05:00Z'>15:05</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jnewbery opened pull request #18960: [indexes] Add compact block filter headers cache (master...2020-05-cfcheckpts-cache) <a href="https://github.com/bitcoin/bitcoin/pull/18960" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/18960</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1589297160' id='386941'>
<a class='timestamp' href='#386941'><time timestamp='2020-05-12T15:26:00Z'>15:26</time></a>
&lt;<span class='nick nick-6'> jb55</span>&gt;
I was thinking about hacking BroadcastTransaction to only send to tor peers (when configured) as an alternative to the less granular onlynet=onion. surprised this isn&#x27;t implemented? looks easy?
<br>
</div>

<div class='talk op-msg' data-timestamp='1589297280' id='386942'>
<a class='timestamp' href='#386942'><time timestamp='2020-05-12T15:28:00Z'>15:28</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
sounds fragile
<br>
</div>

<div class='talk op-msg' data-timestamp='1589297280' id='386943'>
<a class='timestamp' href='#386943'><time timestamp='2020-05-12T15:28:00Z'>15:28</time></a>
&lt;<span class='nick nick-6'> jb55</span>&gt;
reasoning: I want low block receive/relay latency but still want transaction broadcast privacy
<br>
</div>

<div class='talk op-msg' data-timestamp='1589297460' id='386944'>
<a class='timestamp' href='#386944'><time timestamp='2020-05-12T15:31:00Z'>15:31</time></a>
&lt;<span class='nick nick-6'> jb55</span>&gt;
luke-jr: fragile in the sense of broadcast failing if there are no available tor peers or something?
<br>
</div>

<div class='talk op-msg' data-timestamp='1589297580' id='386945'>
<a class='timestamp' href='#386945'><time timestamp='2020-05-12T15:33:00Z'>15:33</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
jb55: I think it&#x27;s a good idea if implemented well, but the details need discussing. For example, if you&#x27;re one of the very few nodes using that feature, a handful of peers can cluster your transactions together.
<br>
</div>

<div class='talk op-msg' data-timestamp='1589297640' id='386946'>
<a class='timestamp' href='#386946'><time timestamp='2020-05-12T15:34:00Z'>15:34</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
jb55: in the sense that a non-tor peer might find a way to make you leak the info
<br>
</div>

<div class='talk op-msg' data-timestamp='1589297640' id='386947'>
<a class='timestamp' href='#386947'><time timestamp='2020-05-12T15:34:00Z'>15:34</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
a handful of tor sybil peers :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1589297640' id='386948'>
<a class='timestamp' href='#386948'><time timestamp='2020-05-12T15:34:00Z'>15:34</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
even non-tor peers
<br>
</div>

<div class='talk op-msg' data-timestamp='1589297640' id='386949'>
<a class='timestamp' href='#386949'><time timestamp='2020-05-12T15:34:00Z'>15:34</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
if everyone relays that tx except your IPv4 address…
<br>
</div>

<div class='talk op-msg' data-timestamp='1589297820' id='386950'>
<a class='timestamp' href='#386950'><time timestamp='2020-05-12T15:37:00Z'>15:37</time></a>
&lt;<span class='nick nick-6'> jb55</span>&gt;
yeah so it would need to still relay it eventually, I was just thinking of hiding the initial source broadcast which might be easier to trace?
<br>
</div>

<div class='talk op-msg' data-timestamp='1589298000' id='386951'>
<a class='timestamp' href='#386951'><time timestamp='2020-05-12T15:40:00Z'>15:40</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
You probably want a new circuit for every relay then? Depends on how widely this is used, tor network may be unhappy :p
<br>
</div>

<div class='talk op-msg' data-timestamp='1589298120' id='386952'>
<a class='timestamp' href='#386952'><time timestamp='2020-05-12T15:42:00Z'>15:42</time></a>
&lt;<span class='nick nick-6'> jb55</span>&gt;
well I&#x27;m just thinking about tackling the easiest things first: hide initial broadcast but relay as usual like it some other person&#x27;s tx. tor sybil attacks seems like a harder problem?
<br>
</div>

<div class='talk op-msg' data-timestamp='1589300220' id='386953'>
<a class='timestamp' href='#386953'><time timestamp='2020-05-12T16:17:00Z'>16:17</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
jb55: tor sybil is not something abstract, they are probably already in place. And i&#x27;m saying this issue might make transactions <b>*less private*</b> after your idea. IP will be probably hidden (if done well), but then other issues arise. It&#x27;s just not that trivial in my mind, so we need to be careful. I would ask other opinions before implementing,
<br>
</div>

<div class='talk op-msg' data-timestamp='1589300220' id='386954'>
<a class='timestamp' href='#386954'><time timestamp='2020-05-12T16:17:00Z'>16:17</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
maybe a mailing list post?
<br>
</div>

<div class='talk op-msg' data-timestamp='1589300280' id='386955'>
<a class='timestamp' href='#386955'><time timestamp='2020-05-12T16:18:00Z'>16:18</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
Like, would you relay to all your tor peers? Maybe relaying to just one works better in this case, since Tor relay part is already less &quot;reliable&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1589300340' id='386956'>
<a class='timestamp' href='#386956'><time timestamp='2020-05-12T16:19:00Z'>16:19</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
Probably you even want to relay to a <b>*random*</b> tor peer in the net?
<br>
</div>

<div class='talk op-msg' data-timestamp='1589300400' id='386957'>
<a class='timestamp' href='#386957'><time timestamp='2020-05-12T16:20:00Z'>16:20</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ideally you open a new tor connection, relay the tx, and disconnect
<br>
</div>

<div class='talk op-msg' data-timestamp='1589300400' id='386958'>
<a class='timestamp' href='#386958'><time timestamp='2020-05-12T16:20:00Z'>16:20</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
any other communication you do with them lets them correlate the tx with your other traffic
<br>
</div>

<div class='talk op-msg' data-timestamp='1589300760' id='386959'>
<a class='timestamp' href='#386959'><time timestamp='2020-05-12T16:26:00Z'>16:26</time></a>
&lt;<span class='nick nick-6'> jb55</span>&gt;
let&#x27;s say I send a tx to a tor peer, they would have some custom code that correlates encrypted bitcoin-p2p traffic with transactions coming out of exit nodes somehow? 
<br>
</div>

<div class='talk op-msg' data-timestamp='1589300820' id='386960'>
<a class='timestamp' href='#386960'><time timestamp='2020-05-12T16:27:00Z'>16:27</time></a>
&lt;<span class='nick nick-6'> jb55</span>&gt;
trying to understand how likely this is...
<br>
</div>

<div class='talk op-msg' data-timestamp='1589300880' id='386961'>
<a class='timestamp' href='#386961'><time timestamp='2020-05-12T16:28:00Z'>16:28</time></a>
&lt;<span class='nick nick-6'> jb55</span>&gt;
I guess if I connected to a tor peer that controlled exit nodes as well, and could correlate that way?
<br>
</div>

<div class='talk op-msg' data-timestamp='1589301000' id='386962'>
<a class='timestamp' href='#386962'><time timestamp='2020-05-12T16:30:00Z'>16:30</time></a>
&lt;<span class='nick nick-10'> nothingmuch</span>&gt;
FWIW JoinMarket does has opt in tor broadcasting which connects to new random node: <a href="https://github.com/JoinMarket-Org/joinmarket/pull/662" class="link" target="_blank">https://github.com/JoinMarket-Org/joinmarket/pull/662</a> and Wasabi picks node that is already connected, transmits to it and then disconnects from it: 
<br>
</div>

<div class='talk op-msg' data-timestamp='1589301000' id='386963'>
<a class='timestamp' href='#386963'><time timestamp='2020-05-12T16:30:00Z'>16:30</time></a>
&lt;<span class='nick nick-10'> nothingmuch</span>&gt;
<a href="https://github.com/zkSNACKs/WalletWasabi/blob/387f9761aa06f89c5be615270115534fb68a9e45/WalletWasabi/Blockchain/TransactionBroadcasting/TransactionBroadcaster.cs#L133-L156" class="link" target="_blank">https://github.com/zkSNACKs/WalletWasabi/blob/387f9761aa06f89c5be615270115534fb68a9e45/WalletWasabi/Blockchain/TransactionBroadcasting/TransactionBroadcaster.cs#L133-L156</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1589301360' id='386964'>
<a class='timestamp' href='#386964'><time timestamp='2020-05-12T16:36:00Z'>16:36</time></a>
&lt;<span class='nick nick-15'> andrewtoth_</span>&gt;
EPS also does what sipa describes <a href="https://github.com/chris-belcher/electrum-personal-server/pull/124" class="link" target="_blank">https://github.com/chris-belcher/electrum-personal-server/pull/124</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1589301420' id='386965'>
<a class='timestamp' href='#386965'><time timestamp='2020-05-12T16:37:00Z'>16:37</time></a>
&lt;<span class='nick nick-15'> andrewtoth_</span>&gt;
mostly copied from JoinMarket
<br>
</div>

<div class='talk op-msg' data-timestamp='1589301720' id='386966'>
<a class='timestamp' href='#386966'><time timestamp='2020-05-12T16:42:00Z'>16:42</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] tarboss opened pull request #18961: remove assert in walletcontroller &amp; run setparent in gui-qt main thread (master...master) <a href="https://github.com/bitcoin/bitcoin/pull/18961" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/18961</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1589307840' id='386967'>
<a class='timestamp' href='#386967'><time timestamp='2020-05-12T18:24:00Z'>18:24</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
sipa, i&#x27;m thinking about adding a filter index for script pushes to support fast wallet rescans for legacy wallets, any thoughts on that
<br>
</div>

<div class='talk op-msg' data-timestamp='1589307840' id='386968'>
<a class='timestamp' href='#386968'><time timestamp='2020-05-12T18:24:00Z'>18:24</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
aj, ^ same question
<br>
</div>

<div class='talk op-msg' data-timestamp='1589308080' id='386969'>
<a class='timestamp' href='#386969'><time timestamp='2020-05-12T18:28:00Z'>18:28</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
phantomcircuit: unless you really need support for raw multisig (which i think the wallet doesn&#x27;t even support anymore), you could use the bip158 filter
<br>
</div>

<div class='talk op-msg' data-timestamp='1589308140' id='386970'>
<a class='timestamp' href='#386970'><time timestamp='2020-05-12T18:29:00Z'>18:29</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and in descriptor wallets it should be even easier (as for those, the set of IsMine outputs is exactly equal to an explicitly constructed set)
<br>
</div>

<div class='talk op-msg' data-timestamp='1589308140' id='386971'>
<a class='timestamp' href='#386971'><time timestamp='2020-05-12T18:29:00Z'>18:29</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
sipa, for non-legacy wallets using the existing bip158 &quot;basic&quot; filter (which is the entire script) is definitely preferable
<br>
</div>

<div class='talk op-msg' data-timestamp='1589308200' id='386972'>
<a class='timestamp' href='#386972'><time timestamp='2020-05-12T18:30:00Z'>18:30</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
for legacy wallets too
<br>
</div>

<div class='talk op-msg' data-timestamp='1589308200' id='386973'>
<a class='timestamp' href='#386973'><time timestamp='2020-05-12T18:30:00Z'>18:30</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
you can enumerate all watched addresses for those, actually
<br>
</div>

<div class='talk op-msg' data-timestamp='1589308200' id='386974'>
<a class='timestamp' href='#386974'><time timestamp='2020-05-12T18:30:00Z'>18:30</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it&#x27;s just trickier
<br>
</div>

<div class='talk op-msg' data-timestamp='1589308200' id='386975'>
<a class='timestamp' href='#386975'><time timestamp='2020-05-12T18:30:00Z'>18:30</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
since 0.17 bare multisig is not automatically watched anymore; you need to explicitly import it
<br>
</div>

<div class='talk op-msg' data-timestamp='1589308260' id='386976'>
<a class='timestamp' href='#386976'><time timestamp='2020-05-12T18:31:00Z'>18:31</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
sipa, for older wallets my issue with constructing the scriptPubKey for each key is two fold, one i cannot at all support raw multisig, which possibly someone actually used, and two that will significantly effect the false positive rate of the filter
<br>
</div>

<div class='talk op-msg' data-timestamp='1589308320' id='386977'>
<a class='timestamp' href='#386977'><time timestamp='2020-05-12T18:32:00Z'>18:32</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
you can also go the other way... build a separate ephemeral bloom filter for just the watched scriptPubKeys, and then iterate through blocks matching every sPK in it agains the filter
<br>
</div>

<div class='talk op-msg' data-timestamp='1589308320' id='386978'>
<a class='timestamp' href='#386978'><time timestamp='2020-05-12T18:32:00Z'>18:32</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that doesn&#x27;t have the same I/O savings as using an explicitly constructed filter, but it&#x27;s certainly logistically a lot easier
<br>
</div>

<div class='talk op-msg' data-timestamp='1589308320' id='386979'>
<a class='timestamp' href='#386979'><time timestamp='2020-05-12T18:32:00Z'>18:32</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and probably a lot faster than the current rescanning already
<br>
</div>

<div class='talk op-msg' data-timestamp='1589308380' id='386980'>
<a class='timestamp' href='#386980'><time timestamp='2020-05-12T18:33:00Z'>18:33</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
the bare multisig problem doesn&#x27;t exist anymore since 0.17
<br>
</div>

<div class='talk op-msg' data-timestamp='1589308380' id='386981'>
<a class='timestamp' href='#386981'><time timestamp='2020-05-12T18:33:00Z'>18:33</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
sipa, why was support for raw multisig changed? significant performance issue?
<br>
</div>

<div class='talk op-msg' data-timestamp='1589308440' id='386982'>
<a class='timestamp' href='#386982'><time timestamp='2020-05-12T18:34:00Z'>18:34</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
in fact, quite possibly that&#x27;s how the wallet should work always
<br>
</div>

<div class='talk op-msg' data-timestamp='1589308440' id='386983'>
<a class='timestamp' href='#386983'><time timestamp='2020-05-12T18:34:00Z'>18:34</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
actually found the #13002 pr
<br>
</div>

<div class='talk op-msg' data-timestamp='1589308440' id='386984'>
<a class='timestamp' href='#386984'><time timestamp='2020-05-12T18:34:00Z'>18:34</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
just maintain a bloom filter of its watched sPKs, and match things against it
<br>
</div>

<div class='talk op-msg' data-timestamp='1589308440' id='386985'>
<a class='timestamp' href='#386985'><time timestamp='2020-05-12T18:34:00Z'>18:34</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/13002" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/13002</a> | Do not treat bare multisig outputs as IsMine unless watched by sipa · Pull Request #13002 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1589308680' id='386986'>
<a class='timestamp' href='#386986'><time timestamp='2020-05-12T18:38:00Z'>18:38</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
sipa, my problem with that for legacy wallets is that we don&#x27;t really have a way to list all of the sPKs for the wallet except to walk the private keys and calculate every sPK we have ever supported generating addresses for
<br>
</div>

<div class='talk op-msg' data-timestamp='1589308680' id='386987'>
<a class='timestamp' href='#386987'><time timestamp='2020-05-12T18:38:00Z'>18:38</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
or am i getting that really wrong
<br>
</div>

<div class='talk op-msg' data-timestamp='1589308680' id='386988'>
<a class='timestamp' href='#386988'><time timestamp='2020-05-12T18:38:00Z'>18:38</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1589308740' id='386989'>
<a class='timestamp' href='#386989'><time timestamp='2020-05-12T18:39:00Z'>18:39</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
walk all the private keys, public keys, scripts, watched things, ...
<br>
</div>

<div class='talk op-msg' data-timestamp='1589308740' id='386990'>
<a class='timestamp' href='#386990'><time timestamp='2020-05-12T18:39:00Z'>18:39</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
which will end up being a list that&#x27;s substantially larger than you&#x27;d want
<br>
</div>

<div class='talk op-msg' data-timestamp='1589308740' id='386991'>
<a class='timestamp' href='#386991'><time timestamp='2020-05-12T18:39:00Z'>18:39</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
how so?
<br>
</div>

<div class='talk op-msg' data-timestamp='1589308740' id='386992'>
<a class='timestamp' href='#386992'><time timestamp='2020-05-12T18:39:00Z'>18:39</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it is exactly what you want
<br>
</div>

<div class='talk op-msg' data-timestamp='1589308800' id='386993'>
<a class='timestamp' href='#386993'><time timestamp='2020-05-12T18:40:00Z'>18:40</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
if you do anything else, you risk missing things
<br>
</div>

<div class='talk op-msg' data-timestamp='1589308800' id='386994'>
<a class='timestamp' href='#386994'><time timestamp='2020-05-12T18:40:00Z'>18:40</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
possibly i add a new GCS filter index and se it in the wallet only when it&#x27;s available?
<br>
</div>

<div class='talk op-msg' data-timestamp='1589308860' id='386995'>
<a class='timestamp' href='#386995'><time timestamp='2020-05-12T18:41:00Z'>18:41</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
im not sure the performance of walking the chain to build an in memory bloomfilter would be great either honestly
<br>
</div>

<div class='talk op-msg' data-timestamp='1589308860' id='386996'>
<a class='timestamp' href='#386996'><time timestamp='2020-05-12T18:41:00Z'>18:41</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
not the chain; the wallet
<br>
</div>

<div class='talk op-msg' data-timestamp='1589308860' id='386997'>
<a class='timestamp' href='#386997'><time timestamp='2020-05-12T18:41:00Z'>18:41</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ah, for a GCS filter, yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1589308860' id='386998'>
<a class='timestamp' href='#386998'><time timestamp='2020-05-12T18:41:00Z'>18:41</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
sipa, oh so build a filter of the wallet and then walk the chain checking against the filter
<br>
</div>

<div class='talk op-msg' data-timestamp='1589308920' id='386999'>
<a class='timestamp' href='#386999'><time timestamp='2020-05-12T18:42:00Z'>18:42</time></a>
&lt;<span class='nick nick-4'> yevaud</span>&gt;
sipa: unfortunately walking all the permutations, while required for a legacy wallet, drives up the false positive rate substantially. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1589308920' id='387000'>
<a class='timestamp' href='#387000'><time timestamp='2020-05-12T18:42:00Z'>18:42</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
i think we&#x27;re talking about slightly different things here
<br>
</div>

<div class='talk op-msg' data-timestamp='1589308920' id='387001'>
<a class='timestamp' href='#387001'><time timestamp='2020-05-12T18:42:00Z'>18:42</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yevaud: you can set the FP rate to whatever you want
<br>
</div>

<div class='talk op-msg' data-timestamp='1589308920' id='387002'>
<a class='timestamp' href='#387002'><time timestamp='2020-05-12T18:42:00Z'>18:42</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
phantomcircuit: you&#x27;re talking about walking the chain (once) to build a GCS filter, and then when rescanning match every block&#x27;s filter against the wallet
<br>
</div>

<div class='talk op-msg' data-timestamp='1589308980' id='387003'>
<a class='timestamp' href='#387003'><time timestamp='2020-05-12T18:43:00Z'>18:43</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
i was talking about adding a permanent gcs filter index, in addition to the &quot;basic&quot; one and then using the MatchAny method to do high speed checking
<br>
</div>

<div class='talk op-msg' data-timestamp='1589308980' id='387004'>
<a class='timestamp' href='#387004'><time timestamp='2020-05-12T18:43:00Z'>18:43</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
sipa, yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1589308980' id='387005'>
<a class='timestamp' href='#387005'><time timestamp='2020-05-12T18:43:00Z'>18:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i&#x27;m talking about at rescan time building a bloom filter once from the wallet, and then walking the (full) chain and matching all sPKs in it against that filter
<br>
</div>

<div class='talk op-msg' data-timestamp='1589308980' id='387006'>
<a class='timestamp' href='#387006'><time timestamp='2020-05-12T18:43:00Z'>18:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and then suggesting that maybe that&#x27;s how the wallet should always do output detection
<br>
</div>

<div class='talk op-msg' data-timestamp='1589308980' id='387007'>
<a class='timestamp' href='#387007'><time timestamp='2020-05-12T18:43:00Z'>18:43</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
which i would expect to be faster than building a bloom filter and then walking the chain, since presumably there&#x27;s going to be many more items in the chain filter than the wallet filter
<br>
</div>

<div class='talk op-msg' data-timestamp='1589309040' id='387008'>
<a class='timestamp' href='#387008'><time timestamp='2020-05-12T18:44:00Z'>18:44</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
or maybe i have that wrong and i should benchmark it?
<br>
</div>

<div class='talk op-msg' data-timestamp='1589309040' id='387009'>
<a class='timestamp' href='#387009'><time timestamp='2020-05-12T18:44:00Z'>18:44</time></a>
&lt;<span class='nick nick-4'> yevaud</span>&gt;
the way the filters are defined, aren&#x27;t they salted with the block hash? 
<br>
</div>

<div class='talk op-msg' data-timestamp='1589309100' id='387010'>
<a class='timestamp' href='#387010'><time timestamp='2020-05-12T18:45:00Z'>18:45</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
phantomcircuit: matching against a bloom filter is way faster than a gcd filter
<br>
</div>

<div class='talk op-msg' data-timestamp='1589309100' id='387011'>
<a class='timestamp' href='#387011'><time timestamp='2020-05-12T18:45:00Z'>18:45</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
*gcs
<br>
</div>

<div class='talk op-msg' data-timestamp='1589309100' id='387012'>
<a class='timestamp' href='#387012'><time timestamp='2020-05-12T18:45:00Z'>18:45</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
yes the MatchAny function accepts an ElementSet which is just a list of byte vectors basically and i expect would be generally faster than parsing the blocks for scriptpubkeys
<br>
</div>

<div class='talk op-msg' data-timestamp='1589309160' id='387013'>
<a class='timestamp' href='#387013'><time timestamp='2020-05-12T18:46:00Z'>18:46</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
sipa, hmm
<br>
</div>

<div class='talk op-msg' data-timestamp='1589309160' id='387014'>
<a class='timestamp' href='#387014'><time timestamp='2020-05-12T18:46:00Z'>18:46</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
matching a set against a gcs filter is literally decoding all the elements in the gcs filter in order, and seeing if they&#x27;re in your set
<br>
</div>

<div class='talk op-msg' data-timestamp='1589309160' id='387015'>
<a class='timestamp' href='#387015'><time timestamp='2020-05-12T18:46:00Z'>18:46</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
actually, this may be faster than a bloom filter - it depends on the relative sizes of the filter and the set
<br>
</div>

<div class='talk op-msg' data-timestamp='1589309220' id='387016'>
<a class='timestamp' href='#387016'><time timestamp='2020-05-12T18:47:00Z'>18:47</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
a wallet filter/set would have 1000-10000ish elements, think (2000 keys by default, 3 address types for each?)
<br>
</div>

<div class='talk op-msg' data-timestamp='1589312340' id='387017'>
<a class='timestamp' href='#387017'><time timestamp='2020-05-12T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
wumpus: #18902 is still needed to avoid a regression, so cutting up #18818 didn&#x27;t actually save any time :/
<br>
</div>

<div class='talk op-msg' data-timestamp='1589312340' id='387018'>
<a class='timestamp' href='#387018'><time timestamp='2020-05-12T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/18902" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/18902</a> | Bugfix: Only use git for build info if the repository is actually the right one by luke-jr · Pull Request #18902 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1589312340' id='387019'>
<a class='timestamp' href='#387019'><time timestamp='2020-05-12T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/18818" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/18818</a> | Fix release tarball generated by gitian by luke-jr · Pull Request #18818 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1589314920' id='387020'>
<a class='timestamp' href='#387020'><time timestamp='2020-05-12T20:22:00Z'>20:22</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
sipa, there&#x27;s: P2PK, P2PKH, P2WPKH (though i dont see why the wallet even cares about witnesses in this context?), P2SH, P2WSH (same thing), and all of the watch only things
<br>
</div>

<div class='talk op-msg' data-timestamp='1589314980' id='387021'>
<a class='timestamp' href='#387021'><time timestamp='2020-05-12T20:23:00Z'>20:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
phantomcircuit: the wallet supports segwit?
<br>
</div>

<div class='talk op-msg' data-timestamp='1589315040' id='387022'>
<a class='timestamp' href='#387022'><time timestamp='2020-05-12T20:24:00Z'>20:24</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
sipa, im looking at the IsMineInner function now and there&#x27;s distinction between witness and not-witness
<br>
</div>

<div class='talk op-msg' data-timestamp='1589315040' id='387023'>
<a class='timestamp' href='#387023'><time timestamp='2020-05-12T20:24:00Z'>20:24</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
im not sure why, i think you did this probably so maybe you can help me understand?
<br>
</div>

<div class='talk op-msg' data-timestamp='1589315100' id='387024'>
<a class='timestamp' href='#387024'><time timestamp='2020-05-12T20:25:00Z'>20:25</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
what distinction exactly?
<br>
</div>

<div class='talk op-msg' data-timestamp='1589315160' id='387025'>
<a class='timestamp' href='#387025'><time timestamp='2020-05-12T20:26:00Z'>20:26</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
oh, the requirement that we don&#x27;t match P2WPKH unless the P2SH-P2WPKH would be acceptable as well?
<br>
</div>

<div class='talk op-msg' data-timestamp='1589315160' id='387026'>
<a class='timestamp' href='#387026'><time timestamp='2020-05-12T20:26:00Z'>20:26</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
well the solver returns both TX_SCRIPTHASH or TX_WITNESS_V0_SCRIPTHASH and the handling of them is slightly different
<br>
</div>

<div class='talk op-msg' data-timestamp='1589315160' id='387027'>
<a class='timestamp' href='#387027'><time timestamp='2020-05-12T20:26:00Z'>20:26</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
the first is P2SH, the second is P2WSH
<br>
</div>

<div class='talk op-msg' data-timestamp='1589315220' id='387028'>
<a class='timestamp' href='#387028'><time timestamp='2020-05-12T20:27:00Z'>20:27</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
for P2SH-P2WSH it will return P2SH, and the caller will then recurse into it
<br>
</div>

<div class='talk op-msg' data-timestamp='1589315400' id='387029'>
<a class='timestamp' href='#387029'><time timestamp='2020-05-12T20:30:00Z'>20:30</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jnewbery opened pull request #18962: net processing: Only send a getheaders for one block in an INV (master...2020-05-limit-block-inv) <a href="https://github.com/bitcoin/bitcoin/pull/18962" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/18962</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1589315700' id='387030'>
<a class='timestamp' href='#387030'><time timestamp='2020-05-12T20:35:00Z'>20:35</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
sipa, is TX_WITNESS_V0_SCRIPTHASH valid with a P2SH... or is it not even possible to trigger that with the solver
<br>
</div>

<div class='talk op-msg' data-timestamp='1589315760' id='387031'>
<a class='timestamp' href='#387031'><time timestamp='2020-05-12T20:36:00Z'>20:36</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
s/with/within/
<br>
</div>

<div class='talk op-msg' data-timestamp='1589315820' id='387032'>
<a class='timestamp' href='#387032'><time timestamp='2020-05-12T20:37:00Z'>20:37</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
phantomcircuit: yes, that&#x27;s P2SH-P2WSH, and it&#x27;s the default address format for multisig even
<br>
</div>

<div class='talk op-msg' data-timestamp='1589315820' id='387033'>
<a class='timestamp' href='#387033'><time timestamp='2020-05-12T20:37:00Z'>20:37</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
or was for a long time
<br>
</div>

<div class='talk op-msg' data-timestamp='1589315820' id='387034'>
<a class='timestamp' href='#387034'><time timestamp='2020-05-12T20:37:00Z'>20:37</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
maybe it&#x27;s native P2WSH now
<br>
</div>

<div class='talk op-msg' data-timestamp='1589316960' id='387035'>
<a class='timestamp' href='#387035'><time timestamp='2020-05-12T20:56:00Z'>20:56</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] dongcarl opened pull request #18963: [WIP] rebase: Call ProcessNewBlock() asynchronously (master...2020-05-async-pnb) <a href="https://github.com/bitcoin/bitcoin/pull/18963" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/18963</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1589323380' id='387036'>
<a class='timestamp' href='#387036'><time timestamp='2020-05-12T22:43:00Z'>22:43</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] promag opened pull request #18964: rpc, wallet: Scan mempool after import* (master...2020-05-fix-18954) <a href="https://github.com/bitcoin/bitcoin/pull/18964" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/18964</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1589323800' id='387037'>
<a class='timestamp' href='#387037'><time timestamp='2020-05-12T22:50:00Z'>22:50</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
fanquake: is it me or you have your boots swapepd (in GH picture)?
<br>
</div>

<div class='talk op-msg' data-timestamp='1589324160' id='387038'>
<a class='timestamp' href='#387038'><time timestamp='2020-05-12T22:56:00Z'>22:56</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
promag: there&#x27;s every chance I&#x27;ve got em on backwards there
<br>
</div>

<div class='talk op-msg' data-timestamp='1589324460' id='387039'>
<a class='timestamp' href='#387039'><time timestamp='2020-05-12T23:01:00Z'>23:01</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
sipa, im seeing Lloop1_35 in `perf report` output with a debug build any idea what that is?
<br>
</div>

<div class='talk op-msg' data-timestamp='1589324520' id='387040'>
<a class='timestamp' href='#387040'><time timestamp='2020-05-12T23:02:00Z'>23:02</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
fanquake: :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1589324580' id='387041'>
<a class='timestamp' href='#387041'><time timestamp='2020-05-12T23:03:00Z'>23:03</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
phantomcircuit: possibly something in the avx2/sse4/shani SHA256 code
<br>
</div>

<div class='talk op-msg' data-timestamp='1589324640' id='387042'>
<a class='timestamp' href='#387042'><time timestamp='2020-05-12T23:04:00Z'>23:04</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
if so it&#x27;s just a goto target that the perf measurement tool misinterprets as a dymbol namr
<br>
</div>

<div class='talk op-msg' data-timestamp='1589324640' id='387043'>
<a class='timestamp' href='#387043'><time timestamp='2020-05-12T23:04:00Z'>23:04</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
*symbol name
<br>
</div>

<div class='talk op-msg' data-timestamp='1589324820' id='387044'>
<a class='timestamp' href='#387044'><time timestamp='2020-05-12T23:07:00Z'>23:07</time></a>
&lt;<span class='nick nick-8'> midnight</span>&gt;
Seriously, thanks for your graphs sipa. Please never stop making them. Or, alternatively, please give us lots of notice if you decide to shut them down. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1589324820' id='387045'>
<a class='timestamp' href='#387045'><time timestamp='2020-05-12T23:07:00Z'>23:07</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
the code is open source
<br>
</div>

<div class='talk op-msg' data-timestamp='1589324940' id='387046'>
<a class='timestamp' href='#387046'><time timestamp='2020-05-12T23:09:00Z'>23:09</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
sipa, ooh it&#x27;s sha256
<br>
</div>

<div class='talk op-msg' data-timestamp='1589325000' id='387047'>
<a class='timestamp' href='#387047'><time timestamp='2020-05-12T23:10:00Z'>23:10</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
looks to be a specific loop in the sha256 code that it&#x27;s decided to annotate like that
<br>
</div>

<div class='talk op-msg' data-timestamp='1589325000' id='387048'>
<a class='timestamp' href='#387048'><time timestamp='2020-05-12T23:10:00Z'>23:10</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yeah, the name looked familiar
<br>
</div>

<div class='talk op-msg' data-timestamp='1589325540' id='387049'>
<a class='timestamp' href='#387049'><time timestamp='2020-05-12T23:19:00Z'>23:19</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
sipa, right and the performance profile of the debug build is substantially different as to be useless
<br>
</div>

<div class='talk op-msg' data-timestamp='1589325600' id='387050'>
<a class='timestamp' href='#387050'><time timestamp='2020-05-12T23:20:00Z'>23:20</time></a>
&lt;<span class='nick nick-6'> jb55</span>&gt;
sounds about right
<br>
</div>

<div class='talk op-msg' data-timestamp='1589325660' id='387051'>
<a class='timestamp' href='#387051'><time timestamp='2020-05-12T23:21:00Z'>23:21</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
phantomcircuit: haha yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1589326140' id='387052'>
<a class='timestamp' href='#387052'><time timestamp='2020-05-12T23:29:00Z'>23:29</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
sipa, this seems to be spending most of it&#x27;s cpu time running sha256
<br>
</div>

<div class='talk op-msg' data-timestamp='1589326140' id='387053'>
<a class='timestamp' href='#387053'><time timestamp='2020-05-12T23:29:00Z'>23:29</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
i guess no matter what we want block data for we check the merkle tree?
<br>
</div>

<div class='talk op-msg' data-timestamp='1589326500' id='387054'>
<a class='timestamp' href='#387054'><time timestamp='2020-05-12T23:35:00Z'>23:35</time></a>
&lt;<span class='nick nick-8'> midnight</span>&gt;
sipa: what&#x27;s alist.h from?
<br>
</div>

<div class='talk op-msg' data-timestamp='1589326620' id='387055'>
<a class='timestamp' href='#387055'><time timestamp='2020-05-12T23:37:00Z'>23:37</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
something i wrote in early 2000s i think :p
<br>
</div>

<div class='talk op-msg' data-timestamp='1589326620' id='387056'>
<a class='timestamp' href='#387056'><time timestamp='2020-05-12T23:37:00Z'>23:37</time></a>
&lt;<span class='nick nick-8'> midnight</span>&gt;
where do I get it. :-)
<br>
</div>

<div class='talk op-msg' data-timestamp='1589327040' id='387057'>
<a class='timestamp' href='#387057'><time timestamp='2020-05-12T23:44:00Z'>23:44</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
midnight: it boggles my mind that i&#x27;ve had this site on github since 2013, and never committed that file... and kept the site running despite moving it 2 or 3 times since
<br>
</div>

<div class='talk op-msg' data-timestamp='1589327100' id='387058'>
<a class='timestamp' href='#387058'><time timestamp='2020-05-12T23:45:00Z'>23:45</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
pushed now
<br>
</div>

<div class='talk op-msg' data-timestamp='1589327100' id='387059'>
<a class='timestamp' href='#387059'><time timestamp='2020-05-12T23:45:00Z'>23:45</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
maybe...
<br>
</div>

</div>
</section>

</body>
</html>
