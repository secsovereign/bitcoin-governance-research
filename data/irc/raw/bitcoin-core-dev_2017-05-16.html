<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2017-05-16
 â€” 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2017-05-16' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:24 UTC</pre>
<pre><a href="/bitcoin-core-dev/2017-04-16">&lt;</a><span class='header'>     May 2017     </span><a href="/bitcoin-core-dev/2017-06-16">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;    <a class="" href="/bitcoin-core-dev/2017-05-01">1</a>  <a class="" href="/bitcoin-core-dev/2017-05-02">2</a>  <a class="" href="/bitcoin-core-dev/2017-05-03">3</a>  <a class="" href="/bitcoin-core-dev/2017-05-04">4</a>  <a class="" href="/bitcoin-core-dev/2017-05-05">5</a>  <a class="" href="/bitcoin-core-dev/2017-05-06">6</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2017-05-07">7</a>  <a class="" href="/bitcoin-core-dev/2017-05-08">8</a>  <a class="" href="/bitcoin-core-dev/2017-05-09">9</a> <a class="" href="/bitcoin-core-dev/2017-05-10">10</a> <a class="" href="/bitcoin-core-dev/2017-05-11">11</a> <a class="" href="/bitcoin-core-dev/2017-05-12">12</a> <a class="" href="/bitcoin-core-dev/2017-05-13">13</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2017-05-14">14</a> <a class="" href="/bitcoin-core-dev/2017-05-15">15</a> <a class="current" href="/bitcoin-core-dev/2017-05-16">16</a> <a class="" href="/bitcoin-core-dev/2017-05-17">17</a> <a class="" href="/bitcoin-core-dev/2017-05-18">18</a> <a class="" href="/bitcoin-core-dev/2017-05-19">19</a> <a class="" href="/bitcoin-core-dev/2017-05-20">20</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2017-05-21">21</a> <a class="" href="/bitcoin-core-dev/2017-05-22">22</a> <a class="" href="/bitcoin-core-dev/2017-05-23">23</a> <a class="" href="/bitcoin-core-dev/2017-05-24">24</a> <a class="" href="/bitcoin-core-dev/2017-05-25">25</a> <a class="" href="/bitcoin-core-dev/2017-05-26">26</a> <a class="" href="/bitcoin-core-dev/2017-05-27">27</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2017-05-28">28</a> <a class="" href="/bitcoin-core-dev/2017-05-29">29</a> <a class="" href="/bitcoin-core-dev/2017-05-30">30</a> <a class="" href="/bitcoin-core-dev/2017-05-31">31</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1494915000' id='545615'>
<a class='timestamp' href='#545615'><time timestamp='2017-05-16T06:10:00Z'>06:10</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/b6ee855b411e...d0c37ee78984" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/b6ee855b411e...d0c37ee78984</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1494915000' id='545616'>
<a class='timestamp' href='#545616'><time timestamp='2017-05-16T06:10:00Z'>06:10</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 761392d John Newbery: [logging] log system time and mock time
<br>
</div>

<div class='talk op-msg' data-timestamp='1494915000' id='545617'>
<a class='timestamp' href='#545617'><time timestamp='2017-05-16T06:10:00Z'>06:10</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master d0c37ee Wladimir J. van der Laan: Merge #10383: [logging] log system time and mock time...
<br>
</div>

<div class='talk op-msg' data-timestamp='1494915000' id='545618'>
<a class='timestamp' href='#545618'><time timestamp='2017-05-16T06:10:00Z'>06:10</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj closed pull request #10383: [logging] log system time and mock time (master...log_mocktime) <a href="https://github.com/bitcoin/bitcoin/pull/10383" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10383</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1494915840' id='545619'>
<a class='timestamp' href='#545619'><time timestamp='2017-05-16T06:24:00Z'>06:24</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] str4d opened pull request #10408: Net: Improvements to Tor control port parser (master...torcontrol-parser-patches) <a href="https://github.com/bitcoin/bitcoin/pull/10408" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10408</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1494917700' id='545620'>
<a class='timestamp' href='#545620'><time timestamp='2017-05-16T06:55:00Z'>06:55</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jonasschnelli pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/d0c37ee78984...95546c859b71" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/d0c37ee78984...95546c859b71</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1494917700' id='545621'>
<a class='timestamp' href='#545621'><time timestamp='2017-05-16T06:55:00Z'>06:55</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 012fa9b Spencer Lievens: Add OSX keystroke to clear RPCConsole...
<br>
</div>

<div class='talk op-msg' data-timestamp='1494917700' id='545622'>
<a class='timestamp' href='#545622'><time timestamp='2017-05-16T06:55:00Z'>06:55</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 95546c8 Jonas Schnelli: Merge #10362: [GUI] Add OSX keystroke to RPCConsole info...
<br>
</div>

<div class='talk op-msg' data-timestamp='1494917700' id='545623'>
<a class='timestamp' href='#545623'><time timestamp='2017-05-16T06:55:00Z'>06:55</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jonasschnelli closed pull request #10362: [GUI] Add OSX keystroke to RPCConsole info (master...RPC-OSX-Keystroke) <a href="https://github.com/bitcoin/bitcoin/pull/10362" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10362</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1494917880' id='545624'>
<a class='timestamp' href='#545624'><time timestamp='2017-05-16T06:58:00Z'>06:58</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Can someone working on the net-code give a final ACK/NACK for <a href="https://github.com/bitcoin/bitcoin/pull/9502" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9502</a>? sipa, cfields?
<br>
</div>

<div class='talk op-msg' data-timestamp='1494918360' id='545625'>
<a class='timestamp' href='#545625'><time timestamp='2017-05-16T07:06:00Z'>07:06</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
jonasschnelli: I&#x27;ll give it a detailed look in the morning (getting ready for bed atm). Looks ok at a glance, though. Though, I&#x27;m a bit confused about nBlocksInFlight being atomic.
<br>
</div>

<div class='talk op-msg' data-timestamp='1494918420' id='545626'>
<a class='timestamp' href='#545626'><time timestamp='2017-05-16T07:07:00Z'>07:07</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
cfields: Okay. Thanks... have a rest (it&#x27;s not urgent). And yes, I would like to hear why you think nBlocksInFlight as an atomic may be confusing.
<br>
</div>

<div class='talk op-msg' data-timestamp='1494918480' id='545627'>
<a class='timestamp' href='#545627'><time timestamp='2017-05-16T07:08:00Z'>07:08</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
jonasschnelli: just looks like it should either be non-atomic and require the lock, or be atomic and possibly out of sync.
<br>
</div>

<div class='talk op-msg' data-timestamp='1494918540' id='545628'>
<a class='timestamp' href='#545628'><time timestamp='2017-05-16T07:09:00Z'>07:09</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Okay... let me check that again. Thanks for pointing out.
<br>
</div>

<div class='talk op-msg' data-timestamp='1494918600' id='545629'>
<a class='timestamp' href='#545629'><time timestamp='2017-05-16T07:10:00Z'>07:10</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
jonasschnelli: (i haven&#x27;t looked deeply, so no idea if it makes sense), maybe useful to trigger a gui event for mapBlocksInFlight.erase(), similar to the other recent changes like that?
<br>
</div>

<div class='talk op-msg' data-timestamp='1494918600' id='545630'>
<a class='timestamp' href='#545630'><time timestamp='2017-05-16T07:10:00Z'>07:10</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
that way you&#x27;d keep it cached at the gui and not have to query the other way?
<br>
</div>

<div class='talk op-msg' data-timestamp='1494918660' id='545631'>
<a class='timestamp' href='#545631'><time timestamp='2017-05-16T07:11:00Z'>07:11</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
cfields: But wouldn&#x27;t mapBlocksInFlight.erase() not result in still downloading the blocks?
<br>
</div>

<div class='talk op-msg' data-timestamp='1494918660' id='545632'>
<a class='timestamp' href='#545632'><time timestamp='2017-05-16T07:11:00Z'>07:11</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
IMO what the GUI should know is how many blocks are still &quot;in transit&quot; when someone pressed &quot;pause&quot;...
<br>
</div>

<div class='talk op-msg' data-timestamp='1494918660' id='545633'>
<a class='timestamp' href='#545633'><time timestamp='2017-05-16T07:11:00Z'>07:11</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
because you won&#x27;t stop a peer of sending you the already requestes blocks...
<br>
</div>

<div class='talk op-msg' data-timestamp='1494918720' id='545634'>
<a class='timestamp' href='#545634'><time timestamp='2017-05-16T07:12:00Z'>07:12</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
and you should accept them,...
<br>
</div>

<div class='talk op-msg' data-timestamp='1494918720' id='545635'>
<a class='timestamp' href='#545635'><time timestamp='2017-05-16T07:12:00Z'>07:12</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
*the peer should accept them
<br>
</div>

<div class='talk op-msg' data-timestamp='1494918780' id='545636'>
<a class='timestamp' href='#545636'><time timestamp='2017-05-16T07:13:00Z'>07:13</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
jonasschnelli: i just mean add a gui event for when mapBlocksInFlight is added to or removed. that way the gui gets notifications for each change, and doesn&#x27;t have to try to query
<br>
</div>

<div class='talk op-msg' data-timestamp='1494918780' id='545637'>
<a class='timestamp' href='#545637'><time timestamp='2017-05-16T07:13:00Z'>07:13</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
aha... yeah. That would work.. though seems a bit an overkill to add a signal for that... but maybe not.
<br>
</div>

<div class='talk op-msg' data-timestamp='1494918840' id='545638'>
<a class='timestamp' href='#545638'><time timestamp='2017-05-16T07:14:00Z'>07:14</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
jonasschnelli: yea, that&#x27;s the part i wasn&#x27;t sure about. I only mentioned because it&#x27;s the direction things have been going in lately.
<br>
</div>

<div class='talk op-msg' data-timestamp='1494918900' id='545639'>
<a class='timestamp' href='#545639'><time timestamp='2017-05-16T07:15:00Z'>07:15</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Yes. That&#x27;s true. Maybe its useful for other stuff as well..
<br>
</div>

<div class='talk op-msg' data-timestamp='1494918900' id='545640'>
<a class='timestamp' href='#545640'><time timestamp='2017-05-16T07:15:00Z'>07:15</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
What are the downside of the atomic approach? Calling the getter in the middle of an &quot;update sequence&quot;?
<br>
</div>

<div class='talk op-msg' data-timestamp='1494919140' id='545641'>
<a class='timestamp' href='#545641'><time timestamp='2017-05-16T07:19:00Z'>07:19</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
yea, possible off-by-one in some future code i guess. unlikely to be an actual issue probably, just feels a bit icky to introduce a race strictly because the non-racy path would require the slow lock :(
<br>
</div>

<div class='talk op-msg' data-timestamp='1494919200' id='545642'>
<a class='timestamp' href='#545642'><time timestamp='2017-05-16T07:20:00Z'>07:20</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
s/race/de-sync/, i suppose
<br>
</div>

<div class='talk op-msg' data-timestamp='1494946260' id='545643'>
<a class='timestamp' href='#545643'><time timestamp='2017-05-16T14:51:00Z'>14:51</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] practicalswift opened pull request #10409: [tests] Add fuzz testing for BlockTransactions (BLOCKTXN) and BlockTransactionsRequest (GETBLOCKTXN) deserialization (master...fuzz-blocktransactions) <a href="https://github.com/bitcoin/bitcoin/pull/10409" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10409</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1494949680' id='545644'>
<a class='timestamp' href='#545644'><time timestamp='2017-05-16T15:48:00Z'>15:48</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] ryanofsky opened pull request #10410: Fix importwallet edge case rescan bug (master...pr/scanimp) <a href="https://github.com/bitcoin/bitcoin/pull/10410" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10410</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1494963840' id='545645'>
<a class='timestamp' href='#545645'><time timestamp='2017-05-16T19:44:00Z'>19:44</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
If I have a transaction that spends a raw witness spk and the input is already signed on the spending tx, and then I&#x27;m trying to call fundrawtransaction to add a fee. Is this currently unsupported in bitcoin core? Do I need to use P2SH(P2WSH)? 
<br>
</div>

<div class='talk op-msg' data-timestamp='1494965040' id='545646'>
<a class='timestamp' href='#545646'><time timestamp='2017-05-16T20:04:00Z'>20:04</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] ryanofsky opened pull request #10412: Improve wallet rescan API (master...pr/scanclean) <a href="https://github.com/bitcoin/bitcoin/pull/10412" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10412</a>
<br>
</div>

</div>
</section>

</body>
</html>
