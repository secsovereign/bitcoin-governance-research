<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2018-08-16
 — 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2018-08-16' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:21 UTC</pre>
<pre><a href="/bitcoin-core-dev/2018-07-16">&lt;</a><span class='header'>   August 2018    </span><a href="/bitcoin-core-dev/2018-09-16">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;          <a class="" href="/bitcoin-core-dev/2018-08-01">1</a>  <a class="" href="/bitcoin-core-dev/2018-08-02">2</a>  <a class="" href="/bitcoin-core-dev/2018-08-03">3</a>  <a class="" href="/bitcoin-core-dev/2018-08-04">4</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2018-08-05">5</a>  <a class="" href="/bitcoin-core-dev/2018-08-06">6</a>  <a class="" href="/bitcoin-core-dev/2018-08-07">7</a>  <a class="" href="/bitcoin-core-dev/2018-08-08">8</a>  <a class="" href="/bitcoin-core-dev/2018-08-09">9</a> <a class="" href="/bitcoin-core-dev/2018-08-10">10</a> <a class="" href="/bitcoin-core-dev/2018-08-11">11</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2018-08-12">12</a> <a class="" href="/bitcoin-core-dev/2018-08-13">13</a> <a class="" href="/bitcoin-core-dev/2018-08-14">14</a> <a class="" href="/bitcoin-core-dev/2018-08-15">15</a> <a class="current" href="/bitcoin-core-dev/2018-08-16">16</a> <a class="" href="/bitcoin-core-dev/2018-08-17">17</a> <a class="" href="/bitcoin-core-dev/2018-08-18">18</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2018-08-19">19</a> <a class="" href="/bitcoin-core-dev/2018-08-20">20</a> <a class="" href="/bitcoin-core-dev/2018-08-21">21</a> <a class="" href="/bitcoin-core-dev/2018-08-22">22</a> <a class="" href="/bitcoin-core-dev/2018-08-23">23</a> <a class="" href="/bitcoin-core-dev/2018-08-24">24</a> <a class="" href="/bitcoin-core-dev/2018-08-25">25</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2018-08-26">26</a> <a class="" href="/bitcoin-core-dev/2018-08-27">27</a> <a class="" href="/bitcoin-core-dev/2018-08-28">28</a> <a class="" href="/bitcoin-core-dev/2018-08-29">29</a> <a class="" href="/bitcoin-core-dev/2018-08-30">30</a> <a class="" href="/bitcoin-core-dev/2018-08-31">31</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1534381800' id='625324'>
<a class='timestamp' href='#625324'><time timestamp='2018-08-16T01:10:00Z'>01:10</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
jonasschnelli: maybe when you post a patch for the encryption, I&#x27;ll go and quickly staple newhope to it and we see how we feel about the combination.
<br>
</div>

<div class='talk op-msg' data-timestamp='1534400940' id='625325'>
<a class='timestamp' href='#625325'><time timestamp='2018-08-16T06:29:00Z'>06:29</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
gmaxwell: Sure. My current priority is encryption, then auth, then NH/PQ. I can also try the NH stuff earlier..
<br>
</div>

<div class='talk op-msg' data-timestamp='1534405740' id='625326'>
<a class='timestamp' href='#625326'><time timestamp='2018-08-16T07:49:00Z'>07:49</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sipa: 13989 is doing avx512 sha256d64, and gets a 19% speedup for the MerkleRoot benchmark.
<br>
</div>

<div class='talk op-msg' data-timestamp='1534407900' id='625327'>
<a class='timestamp' href='#625327'><time timestamp='2018-08-16T08:25:00Z'>08:25</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
time to tag rc1?
<br>
</div>

<div class='talk op-msg' data-timestamp='1534408020' id='625328'>
<a class='timestamp' href='#625328'><time timestamp='2018-08-16T08:27:00Z'>08:27</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I&#x27;m sure enough issues will come up during gitian building (although I was able to do so succesfully) for the first time with bionic, but I think it makes sense to start testing?
<br>
</div>

<div class='talk op-msg' data-timestamp='1534412640' id='625329'>
<a class='timestamp' href='#625329'><time timestamp='2018-08-16T09:44:00Z'>09:44</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
wumpus sounds good
<br>
</div>

<div class='talk op-msg' data-timestamp='1534412880' id='625330'>
<a class='timestamp' href='#625330'><time timestamp='2018-08-16T09:48:00Z'>09:48</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
ok! let&#x27;s do it then
<br>
</div>

<div class='talk op-msg' data-timestamp='1534413360' id='625331'>
<a class='timestamp' href='#625331'><time timestamp='2018-08-16T09:56:00Z'>09:56</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yesterday no one protested either so...
<br>
</div>

<div class='talk op-msg' data-timestamp='1534413480' id='625332'>
<a class='timestamp' href='#625332'><time timestamp='2018-08-16T09:58:00Z'>09:58</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
Just take that as silent optimism/agreement or something
<br>
</div>

<div class='talk op-msg' data-timestamp='1534413720' id='625333'>
<a class='timestamp' href='#625333'><time timestamp='2018-08-16T10:02:00Z'>10:02</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I&#x27;m just trying to avoid forgetting a dumb step (yes, version has been bumped)
<br>
</div>

<div class='talk op-msg' data-timestamp='1534414080' id='625334'>
<a class='timestamp' href='#625334'><time timestamp='2018-08-16T10:08:00Z'>10:08</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
 * [new tag]                                                                           v0.17.0rc1 -&gt; v0.17.0rc1
<br>
</div>

<div class='talk op-msg' data-timestamp='1534414200' id='625335'>
<a class='timestamp' href='#625335'><time timestamp='2018-08-16T10:10:00Z'>10:10</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
there we go
<br>
</div>

<div class='talk op-msg' data-timestamp='1534414260' id='625336'>
<a class='timestamp' href='#625336'><time timestamp='2018-08-16T10:11:00Z'>10:11</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
That&#x27;s what rc&#x27;s are for anyways. Wouldn&#x27;t be the first time we&#x27;ve fixed something up quickly with an rc2 etc.
<br>
</div>

<div class='talk op-msg' data-timestamp='1534414260' id='625337'>
<a class='timestamp' href='#625337'><time timestamp='2018-08-16T10:11:00Z'>10:11</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
wew!
<br>
</div>

<div class='talk op-msg' data-timestamp='1534420380' id='625338'>
<a class='timestamp' href='#625338'><time timestamp='2018-08-16T11:53:00Z'>11:53</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
0.17.0rc1 gitian sigs (unsigned) up, wonder if anyone reproduces
<br>
</div>

<div class='talk op-msg' data-timestamp='1534420620' id='625339'>
<a class='timestamp' href='#625339'><time timestamp='2018-08-16T11:57:00Z'>11:57</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
wumpus: still building: <a href="https://bitcoin.jonasschnelli.ch/build/743" class="link" target="_blank">https://bitcoin.jonasschnelli.ch/build/743</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1534420680' id='625340'>
<a class='timestamp' href='#625340'><time timestamp='2018-08-16T11:58:00Z'>11:58</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
windows and osx match though... linux: will see
<br>
</div>

<div class='talk op-msg' data-timestamp='1534421640' id='625341'>
<a class='timestamp' href='#625341'><time timestamp='2018-08-16T12:14:00Z'>12:14</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
awesome !
<br>
</div>

<div class='talk op-msg' data-timestamp='1534422300' id='625342'>
<a class='timestamp' href='#625342'><time timestamp='2018-08-16T12:25:00Z'>12:25</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
linux is a match as well
<br>
</div>

<div class='talk op-msg' data-timestamp='1534424280' id='625343'>
<a class='timestamp' href='#625343'><time timestamp='2018-08-16T12:58:00Z'>12:58</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Benchmarks for v2 message format composing (encrypted):
<br>
</div>

<div class='talk op-msg' data-timestamp='1534424340' id='625344'>
<a class='timestamp' href='#625344'><time timestamp='2018-08-16T12:59:00Z'>12:59</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
100 blocks: V1 legacy (dblSHA): 1.43978, V2 (ChaCha20/Poly1305): 1.42594
<br>
</div>

<div class='talk op-msg' data-timestamp='1534424340' id='625345'>
<a class='timestamp' href='#625345'><time timestamp='2018-08-16T12:59:00Z'>12:59</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
(and this is with SHA SSE4.1/AVX versus non NI acceletarted chacha)
<br>
</div>

<div class='talk op-msg' data-timestamp='1534425720' id='625346'>
<a class='timestamp' href='#625346'><time timestamp='2018-08-16T13:22:00Z'>13:22</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
thanks for the quick build ken2812221, more matching sigs
<br>
</div>

<div class='talk op-msg' data-timestamp='1534426080' id='625347'>
<a class='timestamp' href='#625347'><time timestamp='2018-08-16T13:28:00Z'>13:28</time></a>
&lt;<span class='nick nick-13'> ken2812221</span>&gt;
fanquake: nice
<br>
</div>

<div class='talk op-msg' data-timestamp='1534426560' id='625348'>
<a class='timestamp' href='#625348'><time timestamp='2018-08-16T13:36:00Z'>13:36</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
jonasschnelli: nice
<br>
</div>

<div class='talk op-msg' data-timestamp='1534429320' id='625349'>
<a class='timestamp' href='#625349'><time timestamp='2018-08-16T14:22:00Z'>14:22</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
with 0.17 branched, #13529 can be reviewed
<br>
</div>

<div class='talk op-msg' data-timestamp='1534429380' id='625350'>
<a class='timestamp' href='#625350'><time timestamp='2018-08-16T14:23:00Z'>14:23</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/13529" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/13529</a> | Use new Qt5 connect syntax by promag · Pull Request #13529 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1534429380' id='625351'>
<a class='timestamp' href='#625351'><time timestamp='2018-08-16T14:23:00Z'>14:23</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
wumpus: ^
<br>
</div>

<div class='talk op-msg' data-timestamp='1534429380' id='625352'>
<a class='timestamp' href='#625352'><time timestamp='2018-08-16T14:23:00Z'>14:23</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
maybe I should push a rebased commit?
<br>
</div>

<div class='talk op-msg' data-timestamp='1534430280' id='625353'>
<a class='timestamp' href='#625353'><time timestamp='2018-08-16T14:38:00Z'>14:38</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
promag: will review
<br>
</div>

<div class='talk op-msg' data-timestamp='1534430340' id='625354'>
<a class='timestamp' href='#625354'><time timestamp='2018-08-16T14:39:00Z'>14:39</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
looks like you first need to address the issues, apparently you did break some things!
<br>
</div>

<div class='talk op-msg' data-timestamp='1534432260' id='625355'>
<a class='timestamp' href='#625355'><time timestamp='2018-08-16T15:11:00Z'>15:11</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
wumpus: yeah I saw that after writing the above :(
<br>
</div>

<div class='talk op-msg' data-timestamp='1534433580' id='625356'>
<a class='timestamp' href='#625356'><time timestamp='2018-08-16T15:33:00Z'>15:33</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
jonasschnelli: well the reason I was offering to try sticking on newhope is that I <u>_think_</u> I can add it in with only a few lines code change.  If we&#x27;re of the view that we&#x27;ll want it long term, then maybe it&#x27;ll make sense to do up front if it really does turn out to be that simple.
<br>
</div>

<div class='talk op-msg' data-timestamp='1534433700' id='625357'>
<a class='timestamp' href='#625357'><time timestamp='2018-08-16T15:35:00Z'>15:35</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
gmaxwell: Yes. Agree. I just too deep into implementing the ecdh/chachapoly stuff right now... but as soon as some tests are finished, I&#x27;m happy to try the NH implementation.
<br>
</div>

<div class='talk op-msg' data-timestamp='1534433700' id='625358'>
<a class='timestamp' href='#625358'><time timestamp='2018-08-16T15:35:00Z'>15:35</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I need to research (or ask you) a bit more, though
<br>
</div>

<div class='talk op-msg' data-timestamp='1534433700' id='625359'>
<a class='timestamp' href='#625359'><time timestamp='2018-08-16T15:35:00Z'>15:35</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
OKAY but thats why I was offering to help. :P
<br>
</div>

<div class='talk op-msg' data-timestamp='1534433700' id='625360'>
<a class='timestamp' href='#625360'><time timestamp='2018-08-16T15:35:00Z'>15:35</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Sure. Fortunately it&#x27;s really simple.
<br>
</div>

<div class='talk op-msg' data-timestamp='1534433760' id='625361'>
<a class='timestamp' href='#625361'><time timestamp='2018-08-16T15:36:00Z'>15:36</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
What implementation are you looking at?
<br>
</div>

<div class='talk op-msg' data-timestamp='1534433820' id='625362'>
<a class='timestamp' href='#625362'><time timestamp='2018-08-16T15:37:00Z'>15:37</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Doesn&#x27;t it also require SHA3?
<br>
</div>

<div class='talk op-msg' data-timestamp='1534433820' id='625363'>
<a class='timestamp' href='#625363'><time timestamp='2018-08-16T15:37:00Z'>15:37</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
<a href="https://github.com/newhopecrypto/newhope-usenix/tree/master/ref" class="link" target="_blank">https://github.com/newhopecrypto/newhope-usenix/tree/master/ref</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1534433820' id='625364'>
<a class='timestamp' href='#625364'><time timestamp='2018-08-16T15:37:00Z'>15:37</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
No.
<br>
</div>

<div class='talk op-msg' data-timestamp='1534433820' id='625365'>
<a class='timestamp' href='#625365'><time timestamp='2018-08-16T15:37:00Z'>15:37</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
ok
<br>
</div>

<div class='talk op-msg' data-timestamp='1534433820' id='625366'>
<a class='timestamp' href='#625366'><time timestamp='2018-08-16T15:37:00Z'>15:37</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
it uses chacha20 internally just as a random number generator.
<br>
</div>

<div class='talk op-msg' data-timestamp='1534433880' id='625367'>
<a class='timestamp' href='#625367'><time timestamp='2018-08-16T15:38:00Z'>15:38</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
oh actually there is a sha3 impl there too. I guess it&#x27;s using that to hash the final state.
<br>
</div>

<div class='talk op-msg' data-timestamp='1534433880' id='625368'>
<a class='timestamp' href='#625368'><time timestamp='2018-08-16T15:38:00Z'>15:38</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
gmaxwell: replace that with sha2? -&gt; <a href="https://github.com/newhopecrypto/newhope-usenix/blob/master/ref/newhope.c#L58" class="link" target="_blank">https://github.com/newhopecrypto/newhope-usenix/blob/master/ref/newhope.c#L58</a>?
<br>
</div>

<div class='talk op-msg' data-timestamp='1534433940' id='625369'>
<a class='timestamp' href='#625369'><time timestamp='2018-08-16T15:39:00Z'>15:39</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
yes, we can just replace that with sha2.
<br>
</div>

<div class='talk op-msg' data-timestamp='1534434660' id='625370'>
<a class='timestamp' href='#625370'><time timestamp='2018-08-16T15:51:00Z'>15:51</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
You see how it works though? <a href="https://github.com/newhopecrypto/newhope-usenix/blob/master/ref/test/test_newhope.c#L36" class="link" target="_blank">https://github.com/newhopecrypto/newhope-usenix/blob/master/ref/test/test_newhope.c#L36</a>  Initator runs newhope_keygen and sticks senda on their message, responder runs newhope_sharedb with that as an argument and gets the shared keyb and sendb to send, intiator gets sendb and feeds it to newhope_shareda and gets the same shared secret out.
<br>
</div>

<div class='talk op-msg' data-timestamp='1534434780' id='625371'>
<a class='timestamp' href='#625371'><time timestamp='2018-08-16T15:53:00Z'>15:53</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
The messages are constant length (1824 and 2048 bytes IIRC).
<br>
</div>

<div class='talk op-msg' data-timestamp='1534434900' id='625372'>
<a class='timestamp' href='#625372'><time timestamp='2018-08-16T15:55:00Z'>15:55</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
And we&#x27;d probably go and change the API slightly so that it takes randomness as an argument rather than reading /dev/urandom itself.
<br>
</div>

<div class='talk op-msg' data-timestamp='1534435020' id='625373'>
<a class='timestamp' href='#625373'><time timestamp='2018-08-16T15:57:00Z'>15:57</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
though for an intial test that could be ignored.
<br>
</div>

<div class='talk op-msg' data-timestamp='1534435680' id='625374'>
<a class='timestamp' href='#625374'><time timestamp='2018-08-16T16:08:00Z'>16:08</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
gmaxwell: so it basically works the same as DH (in terms of network interactions)?
<br>
</div>

<div class='talk op-msg' data-timestamp='1534435740' id='625375'>
<a class='timestamp' href='#625375'><time timestamp='2018-08-16T16:09:00Z'>16:09</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Could we append send_a (the message) to the ecdh-32byte-pubkey?
<br>
</div>

<div class='talk op-msg' data-timestamp='1534435800' id='625376'>
<a class='timestamp' href='#625376'><time timestamp='2018-08-16T16:10:00Z'>16:10</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I guess the NH handshake doesn&#x27;t have to follow under the ECDH encrypted channel?
<br>
</div>

<div class='talk op-msg' data-timestamp='1534435980' id='625377'>
<a class='timestamp' href='#625377'><time timestamp='2018-08-16T16:13:00Z'>16:13</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Correct on all counts.
<br>
</div>

<div class='talk op-msg' data-timestamp='1534435980' id='625378'>
<a class='timestamp' href='#625378'><time timestamp='2018-08-16T16:13:00Z'>16:13</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
It&#x27;s not <u>_exactly_</u> the same as DH in terms of network interactions because in DH  both alice and bob can send their pubkeys at the same time, but in newhope alice sends then bob sends. But we&#x27;re not using DH that way anways.
<br>
</div>

<div class='talk op-msg' data-timestamp='1534436040' id='625379'>
<a class='timestamp' href='#625379'><time timestamp='2018-08-16T16:14:00Z'>16:14</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
So we can implement it just by appending send_a to the initator pubkey, and send_b to the responder pubkey.
<br>
</div>

<div class='talk op-msg' data-timestamp='1534436100' id='625380'>
<a class='timestamp' href='#625380'><time timestamp='2018-08-16T16:15:00Z'>16:15</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
then we just hash the secrets that come out of both DH and newhope.
<br>
</div>

<div class='talk op-msg' data-timestamp='1534436220' id='625381'>
<a class='timestamp' href='#625381'><time timestamp='2018-08-16T16:17:00Z'>16:17</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
gmaxwell: I see. Whats the length of the newhope secret output? 32b?
<br>
</div>

<div class='talk op-msg' data-timestamp='1534436460' id='625382'>
<a class='timestamp' href='#625382'><time timestamp='2018-08-16T16:21:00Z'>16:21</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
32 bytes, yes.
<br>
</div>

<div class='talk op-msg' data-timestamp='1534436580' id='625383'>
<a class='timestamp' href='#625383'><time timestamp='2018-08-16T16:23:00Z'>16:23</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Okay. From a protocol level, this seems easy.
<br>
</div>

<div class='talk op-msg' data-timestamp='1534436640' id='625384'>
<a class='timestamp' href='#625384'><time timestamp='2018-08-16T16:24:00Z'>16:24</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Are the NH messagedsidentifiable (DPIish)?
<br>
</div>

<div class='talk op-msg' data-timestamp='1534436700' id='625385'>
<a class='timestamp' href='#625385'><time timestamp='2018-08-16T16:25:00Z'>16:25</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
No, not more than the secp256k1 public keys.
<br>
</div>

<div class='talk op-msg' data-timestamp='1534436760' id='625386'>
<a class='timestamp' href='#625386'><time timestamp='2018-08-16T16:26:00Z'>16:26</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
ok. then ECDH doesn&#x27;t need to go first
<br>
</div>

<div class='talk op-msg' data-timestamp='1534437120' id='625387'>
<a class='timestamp' href='#625387'><time timestamp='2018-08-16T16:32:00Z'>16:32</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
yeah. I don&#x27;t see a reason why we should not add newhope to the handshake (unless I completely must understand it)
<br>
</div>

<div class='talk op-msg' data-timestamp='1534437300' id='625388'>
<a class='timestamp' href='#625388'><time timestamp='2018-08-16T16:35:00Z'>16:35</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
The only arguments I can make against it are that (1) it might turn out to not add much security (e.g. if newhope gets broken), and then we&#x27;re stuck carrying it around buring bytes, loc, and cpu cycles on it  (2) implementers that insist on writing everything from scratch instead of using public domain C code will have a harder time, (3) more stuff to integrate.
<br>
</div>

<div class='talk op-msg' data-timestamp='1534437360' id='625389'>
<a class='timestamp' href='#625389'><time timestamp='2018-08-16T16:36:00Z'>16:36</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
For other applications, like using it in SSL the size and speed impacts matter more. For us, I think they&#x27;re basically irrelevant. Newhope is as fast as (or maybe even faster than, with AVX in use) ECDH. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1534437540' id='625390'>
<a class='timestamp' href='#625390'><time timestamp='2018-08-16T16:39:00Z'>16:39</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I hope my implementation for detecting a version message or a key-handshake will still work since it&#x27;s now longer then 32b
<br>
</div>

<div class='talk op-msg' data-timestamp='1534437600' id='625391'>
<a class='timestamp' href='#625391'><time timestamp='2018-08-16T16:40:00Z'>16:40</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
You should just be able to read the first N bytes and decide, then keep reading.
<br>
</div>

<div class='talk op-msg' data-timestamp='1534437840' id='625392'>
<a class='timestamp' href='#625392'><time timestamp='2018-08-16T16:44:00Z'>16:44</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
yeah... avoid pubkeys with netmagic, read 4 bytes and continue with handshake when not equal the net magic
<br>
</div>

<div class='talk op-msg' data-timestamp='1534437960' id='625393'>
<a class='timestamp' href='#625393'><time timestamp='2018-08-16T16:46:00Z'>16:46</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
RISC-V node (on actual hw) started syncing
<br>
</div>

<div class='talk op-msg' data-timestamp='1534438140' id='625394'>
<a class='timestamp' href='#625394'><time timestamp='2018-08-16T16:49:00Z'>16:49</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
wooho
<br>
</div>

<div class='talk op-msg' data-timestamp='1534438140' id='625395'>
<a class='timestamp' href='#625395'><time timestamp='2018-08-16T16:49:00Z'>16:49</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
wumpus: \O/
<br>
</div>

<div class='talk op-msg' data-timestamp='1534438200' id='625396'>
<a class='timestamp' href='#625396'><time timestamp='2018-08-16T16:50:00Z'>16:50</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
now just submit some patches upstream to add hardware SHA2 and ECC so that the next one will finish in reasonable time. :P
<br>
</div>

<div class='talk op-msg' data-timestamp='1534438380' id='625397'>
<a class='timestamp' href='#625397'><time timestamp='2018-08-16T16:53:00Z'>16:53</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
just add a HW instruction vrfybtcnblk
<br>
</div>

<div class='talk op-msg' data-timestamp='1534438380' id='625398'>
<a class='timestamp' href='#625398'><time timestamp='2018-08-16T16:53:00Z'>16:53</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
wait, what did the R in RISC stand for again?
<br>
</div>

<div class='talk op-msg' data-timestamp='1534438380' id='625399'>
<a class='timestamp' href='#625399'><time timestamp='2018-08-16T16:53:00Z'>16:53</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
hehe
<br>
</div>

<div class='talk op-msg' data-timestamp='1534438440' id='625400'>
<a class='timestamp' href='#625400'><time timestamp='2018-08-16T16:54:00Z'>16:54</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
well, brainfuck has fewer operations, so clearly RISCV isn&#x27;t RISC? :P
<br>
</div>

<div class='talk op-msg' data-timestamp='1534438440' id='625401'>
<a class='timestamp' href='#625401'><time timestamp='2018-08-16T16:54:00Z'>16:54</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it stands for Rich Instruction Set Computing
<br>
</div>

<div class='talk op-msg' data-timestamp='1534438440' id='625402'>
<a class='timestamp' href='#625402'><time timestamp='2018-08-16T16:54:00Z'>16:54</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ah.
<br>
</div>

<div class='talk op-msg' data-timestamp='1534438440' id='625403'>
<a class='timestamp' href='#625403'><time timestamp='2018-08-16T16:54:00Z'>16:54</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: try whitespace
<br>
</div>

<div class='talk op-msg' data-timestamp='1534438500' id='625404'>
<a class='timestamp' href='#625404'><time timestamp='2018-08-16T16:55:00Z'>16:55</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i guess whitespace has more instructions, but just encoded in 3 characters
<br>
</div>

<div class='talk op-msg' data-timestamp='1534438500' id='625405'>
<a class='timestamp' href='#625405'><time timestamp='2018-08-16T16:55:00Z'>16:55</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
wumpus: as opposed to constrained instruction set computing?
<br>
</div>

<div class='talk op-msg' data-timestamp='1534438560' id='625406'>
<a class='timestamp' href='#625406'><time timestamp='2018-08-16T16:56:00Z'>16:56</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
though tbh at this point I&#x27;m less worried about performance than about obscure chip and compiler issues
<br>
</div>

<div class='talk op-msg' data-timestamp='1534438560' id='625407'>
<a class='timestamp' href='#625407'><time timestamp='2018-08-16T16:56:00Z'>16:56</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
gmaxwell: exactly!
<br>
</div>

<div class='talk op-msg' data-timestamp='1534438740' id='625408'>
<a class='timestamp' href='#625408'><time timestamp='2018-08-16T16:59:00Z'>16:59</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
jonasschnelli: in any case, newhope is a member of the class of fast PQ schemes that are newer and more likely to turn out to be insecure against even classical computers.  But the only alternatives that aren&#x27;t have properties that would make us not use them.. e.g. the McEliece public keys are like 1MB. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1534440780' id='625409'>
<a class='timestamp' href='#625409'><time timestamp='2018-08-16T17:33:00Z'>17:33</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
jonasschnelli: oh, actually we&#x27;d want to be using this implementation <a href="https://github.com/newhopecrypto/newhope/tree/master/ref" class="link" target="_blank">https://github.com/newhopecrypto/newhope/tree/master/ref</a>  as it&#x27;s their NIST submission, and has a substantial simplifcation to the protocol innards.
<br>
</div>

<div class='talk op-msg' data-timestamp='1534442400' id='625410'>
<a class='timestamp' href='#625410'><time timestamp='2018-08-16T18:00:00Z'>18:00</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
ok. thanks... I&#x27;ll look into it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1534442520' id='625411'>
<a class='timestamp' href='#625411'><time timestamp='2018-08-16T18:02:00Z'>18:02</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
apparently the MMC interface on the HiFive unleashed is really slow, either due to the current kernel version, or due to some hardware limitation
<br>
</div>

<div class='talk op-msg' data-timestamp='1534442640' id='625412'>
<a class='timestamp' href='#625412'><time timestamp='2018-08-16T18:04:00Z'>18:04</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
the debian/fedora developers use nbd, though currently I have a 100mbit switch connected for the embedded LAN so that&#x27;s not going to be great either :-)
<br>
</div>

<div class='talk op-msg' data-timestamp='1534442880' id='625413'>
<a class='timestamp' href='#625413'><time timestamp='2018-08-16T18:08:00Z'>18:08</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
but all in all I&#x27;m quite happy with this, for the first larger-scale ASIC implementation of a new architecture it&#x27;s cool how far this gets
<br>
</div>

<div class='talk op-msg' data-timestamp='1534442880' id='625414'>
<a class='timestamp' href='#625414'><time timestamp='2018-08-16T18:08:00Z'>18:08</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
the risc-v instrunction encoding is pretty cool
<br>
</div>

<div class='talk op-msg' data-timestamp='1534442940' id='625415'>
<a class='timestamp' href='#625415'><time timestamp='2018-08-16T18:09:00Z'>18:09</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
everything is natively a 32 bit instruction, but there are optional extensions that compress certain instructions down
<br>
</div>

<div class='talk op-msg' data-timestamp='1534442940' id='625416'>
<a class='timestamp' href='#625416'><time timestamp='2018-08-16T18:09:00Z'>18:09</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes how they do variable-length is interesting
<br>
</div>

<div class='talk op-msg' data-timestamp='1534442940' id='625417'>
<a class='timestamp' href='#625417'><time timestamp='2018-08-16T18:09:00Z'>18:09</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but that compression can be implemented as a pure postprocessing step in the assembler
<br>
</div>

<div class='talk op-msg' data-timestamp='1534443000' id='625418'>
<a class='timestamp' href='#625418'><time timestamp='2018-08-16T18:10:00Z'>18:10</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
isa : rv64imafdc  I think -c is the 16-bit compressed instruction extension, so it has that
<br>
</div>

<div class='talk op-msg' data-timestamp='1534443120' id='625419'>
<a class='timestamp' href='#625419'><time timestamp='2018-08-16T18:12:00Z'>18:12</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
M=Integer
<br>
</div>

<div class='talk op-msg' data-timestamp='1534443180' id='625420'>
<a class='timestamp' href='#625420'><time timestamp='2018-08-16T18:13:00Z'>18:13</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
Multiplication and Division, A=Atomic instructions, F=32-bit fp, D=64-bit fp, C=Compressed instructions
<br>
</div>

<div class='talk op-msg' data-timestamp='1534443180' id='625421'>
<a class='timestamp' href='#625421'><time timestamp='2018-08-16T18:13:00Z'>18:13</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
no B=bit manipulation?
<br>
</div>

<div class='talk op-msg' data-timestamp='1534443180' id='625422'>
<a class='timestamp' href='#625422'><time timestamp='2018-08-16T18:13:00Z'>18:13</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
apparently not!
<br>
</div>

<div class='talk op-msg' data-timestamp='1534443240' id='625423'>
<a class='timestamp' href='#625423'><time timestamp='2018-08-16T18:14:00Z'>18:14</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
&quot;This chapter is a placeholder for a future standard extension to provide bit manipulation instruc-
<br>
</div>

<div class='talk op-msg' data-timestamp='1534443300' id='625424'>
<a class='timestamp' href='#625424'><time timestamp='2018-08-16T18:15:00Z'>18:15</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ah
<br>
</div>

<div class='talk op-msg' data-timestamp='1534443300' id='625425'>
<a class='timestamp' href='#625425'><time timestamp='2018-08-16T18:15:00Z'>18:15</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
the version of the spec I have calls it future, at least
<br>
</div>

<div class='talk op-msg' data-timestamp='1534443300' id='625426'>
<a class='timestamp' href='#625426'><time timestamp='2018-08-16T18:15:00Z'>18:15</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i guess basic bit manipulation is available in the base set of instructions
<br>
</div>

<div class='talk op-msg' data-timestamp='1534443360' id='625427'>
<a class='timestamp' href='#625427'><time timestamp='2018-08-16T18:16:00Z'>18:16</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes: ANDI/ORI/XORI
<br>
</div>

<div class='talk op-msg' data-timestamp='1534443420' id='625428'>
<a class='timestamp' href='#625428'><time timestamp='2018-08-16T18:17:00Z'>18:17</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
they&#x27;re in the mandatory part
<br>
</div>

<div class='talk op-msg' data-timestamp='1534443480' id='625429'>
<a class='timestamp' href='#625429'><time timestamp='2018-08-16T18:18:00Z'>18:18</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I guess the idea of -B will be to provide a more extensive set, say for direct injection/extraction of bit sequences, popcount, count leading/trailing bits, etc
<br>
</div>

<div class='talk op-msg' data-timestamp='1534444920' id='625430'>
<a class='timestamp' href='#625430'><time timestamp='2018-08-16T18:42:00Z'>18:42</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
gmaxwell: I guess a configuration option that would allow ecdh only handshake would make little sense?
<br>
</div>

<div class='talk op-msg' data-timestamp='1534444920' id='625431'>
<a class='timestamp' href='#625431'><time timestamp='2018-08-16T18:42:00Z'>18:42</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I down side with newhope could be the implementation burden if we also want SPV clients to adopt it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1534445100' id='625432'>
<a class='timestamp' href='#625432'><time timestamp='2018-08-16T18:45:00Z'>18:45</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
jonasschnelli: I don&#x27;t think it would make sense to make it optional.
<br>
</div>

<div class='talk op-msg' data-timestamp='1534445160' id='625433'>
<a class='timestamp' href='#625433'><time timestamp='2018-08-16T18:46:00Z'>18:46</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
jonasschnelli: there are, for example, java implementations and whatnot.
<br>
</div>

<div class='talk op-msg' data-timestamp='1534446060' id='625434'>
<a class='timestamp' href='#625434'><time timestamp='2018-08-16T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
meeting?
<br>
</div>

<div class='talk op-msg' data-timestamp='1534446060' id='625435'>
<a class='timestamp' href='#625435'><time timestamp='2018-08-16T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-14'> * luke-jr</span>&gt;
pokes wumpus
<br>
</div>

<div class='talk op-msg' data-timestamp='1534446180' id='625436'>
<a class='timestamp' href='#625436'><time timestamp='2018-08-16T19:03:00Z'>19:03</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
hello
<br>
</div>

<div class='talk op-msg' data-timestamp='1534446180' id='625437'>
<a class='timestamp' href='#625437'><time timestamp='2018-08-16T19:03:00Z'>19:03</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1534446180' id='625438'>
<a class='timestamp' href='#625438'><time timestamp='2018-08-16T19:03:00Z'>19:03</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
#startmeeting
<br>
</div>

<div class='talk op-msg' data-timestamp='1534446180' id='625439'>
<a class='timestamp' href='#625439'><time timestamp='2018-08-16T19:03:00Z'>19:03</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Meeting started Thu Aug 16 19:03:54 2018 UTC.  The chair is wumpus. Information about MeetBot at <a href="http://wiki.debian.org/MeetBot" class="link" target="_blank">http://wiki.debian.org/MeetBot</a>.
<br>
</div>

<div class='talk op-msg' data-timestamp='1534446180' id='625440'>
<a class='timestamp' href='#625440'><time timestamp='2018-08-16T19:03:00Z'>19:03</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Useful Commands: #action #agreed #help #info #idea #link #topic.
<br>
</div>

<div class='talk op-msg' data-timestamp='1534446180' id='625441'>
<a class='timestamp' href='#625441'><time timestamp='2018-08-16T19:03:00Z'>19:03</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Yeah... hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1534446240' id='625442'>
<a class='timestamp' href='#625442'><time timestamp='2018-08-16T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-3'> meshcollider</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1534446240' id='625443'>
<a class='timestamp' href='#625443'><time timestamp='2018-08-16T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1534446240' id='625444'>
<a class='timestamp' href='#625444'><time timestamp='2018-08-16T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
#bitcoin-core-dev Meeting: wumpus sipa gmaxwell jonasschnelli morcos luke-jr btcdrak sdaftuar jtimon cfields petertodd kanzure bluematt instagibbs phantomcircuit codeshark mi
<br>
</div>

<div class='talk op-msg' data-timestamp='1534446240' id='625445'>
<a class='timestamp' href='#625445'><time timestamp='2018-08-16T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
chagogo marcofalke paveljanik NicolasDorier jl2012 achow101 meshcollider jnewbery maaku fanquake promag provoostenator
<br>
</div>

<div class='talk op-msg' data-timestamp='1534446240' id='625446'>
<a class='timestamp' href='#625446'><time timestamp='2018-08-16T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
darn, just beat me to it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1534446240' id='625447'>
<a class='timestamp' href='#625447'><time timestamp='2018-08-16T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1534446240' id='625448'>
<a class='timestamp' href='#625448'><time timestamp='2018-08-16T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1534446240' id='625449'>
<a class='timestamp' href='#625449'><time timestamp='2018-08-16T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
apparently I divided michagogo in two
<br>
</div>

<div class='talk op-msg' data-timestamp='1534446240' id='625450'>
<a class='timestamp' href='#625450'><time timestamp='2018-08-16T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
ouch
<br>
</div>

<div class='talk op-msg' data-timestamp='1534446300' id='625451'>
<a class='timestamp' href='#625451'><time timestamp='2018-08-16T19:05:00Z'>19:05</time></a>
&lt;<span class='nick nick-3'> meshcollider</span>&gt;
Hope he&#x27;s not too cut up about it
<br>
</div>

<div class='talk op-msg' data-timestamp='1534446300' id='625452'>
<a class='timestamp' href='#625452'><time timestamp='2018-08-16T19:05:00Z'>19:05</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
PSA: we&#x27;ve tagged 0.17.0rc1, let us know if you have any trouble gitian-building due to the upgrade of the guest to Ubuntu 18.04/bionic
<br>
</div>

<div class='talk op-msg' data-timestamp='1534446360' id='625453'>
<a class='timestamp' href='#625453'><time timestamp='2018-08-16T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
As mentioned its a bit sad that we dropped debian 9 (newest version) as gitian host,... but apparently compiling lxc was simpler then expected
<br>
</div>

<div class='talk op-msg' data-timestamp='1534446360' id='625454'>
<a class='timestamp' href='#625454'><time timestamp='2018-08-16T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
now that 0.17 release cycle is started, it might be time to bring back &quot;high priority for review&quot; as a topic
<br>
</div>

<div class='talk op-msg' data-timestamp='1534446420' id='625455'>
<a class='timestamp' href='#625455'><time timestamp='2018-08-16T19:07:00Z'>19:07</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I have some instructions for debian 9 here: <a href="https://gist.github.com/laanwj/c62e101bfd68718f0686926dfd10666b" class="link" target="_blank">https://gist.github.com/laanwj/c62e101bfd68718f0686926dfd10666b</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1534446420' id='625456'>
<a class='timestamp' href='#625456'><time timestamp='2018-08-16T19:07:00Z'>19:07</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1534446420' id='625457'>
<a class='timestamp' href='#625457'><time timestamp='2018-08-16T19:07:00Z'>19:07</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
(yes, you need to build lxc and debootstrap from source)
<br>
</div>

<div class='talk op-msg' data-timestamp='1534446420' id='625458'>
<a class='timestamp' href='#625458'><time timestamp='2018-08-16T19:07:00Z'>19:07</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Nice wumpus 
<br>
</div>

<div class='talk op-msg' data-timestamp='1534446420' id='625459'>
<a class='timestamp' href='#625459'><time timestamp='2018-08-16T19:07:00Z'>19:07</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
we should probably integrate that into the documentation
<br>
</div>

<div class='talk op-msg' data-timestamp='1534446480' id='625460'>
<a class='timestamp' href='#625460'><time timestamp='2018-08-16T19:08:00Z'>19:08</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Yes. Until lxc 2.1.1 is supported by debians apt
<br>
</div>

<div class='talk op-msg' data-timestamp='1534446480' id='625461'>
<a class='timestamp' href='#625461'><time timestamp='2018-08-16T19:08:00Z'>19:08</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes, 3.x is probably overkill
<br>
</div>

<div class='talk op-msg' data-timestamp='1534446480' id='625462'>
<a class='timestamp' href='#625462'><time timestamp='2018-08-16T19:08:00Z'>19:08</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
wumpus: did we ever get a solution for making a bionic base VM? :/
<br>
</div>

<div class='talk op-msg' data-timestamp='1534446480' id='625463'>
<a class='timestamp' href='#625463'><time timestamp='2018-08-16T19:08:00Z'>19:08</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Works fine here with 2.1.1
<br>
</div>

<div class='talk op-msg' data-timestamp='1534446540' id='625464'>
<a class='timestamp' href='#625464'><time timestamp='2018-08-16T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
(for qemu)
<br>
</div>

<div class='talk op-msg' data-timestamp='1534446540' id='625465'>
<a class='timestamp' href='#625465'><time timestamp='2018-08-16T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
also, with the suite bump, don&#x27;t forget to do bin/make-base-vm again
<br>
</div>

<div class='talk op-msg' data-timestamp='1534446540' id='625466'>
<a class='timestamp' href='#625466'><time timestamp='2018-08-16T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
luke-jr: I don&#x27;t think so, I think LXC and Docker are the only options at the moment
<br>
</div>

<div class='talk op-msg' data-timestamp='1534446540' id='625467'>
<a class='timestamp' href='#625467'><time timestamp='2018-08-16T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
achow101: last I checked that doesn&#x27;t work
<br>
</div>

<div class='talk op-msg' data-timestamp='1534446540' id='625468'>
<a class='timestamp' href='#625468'><time timestamp='2018-08-16T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
luke-jr: there&#x27;s a fork of vmbuilder that works for bionic
<br>
</div>

<div class='talk op-msg' data-timestamp='1534446540' id='625469'>
<a class='timestamp' href='#625469'><time timestamp='2018-08-16T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
luke-jr: <a href="https://github.com/newroco/vmbuilder" class="link" target="_blank">https://github.com/newroco/vmbuilder</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1534446600' id='625470'>
<a class='timestamp' href='#625470'><time timestamp='2018-08-16T19:10:00Z'>19:10</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
#link <a href="https://github.com/newroco/vmbuilder" class="link" target="_blank">https://github.com/newroco/vmbuilder</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1534446600' id='625471'>
<a class='timestamp' href='#625471'><time timestamp='2018-08-16T19:10:00Z'>19:10</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
but the fork might be worth a try !
<br>
</div>

<div class='talk op-msg' data-timestamp='1534446600' id='625472'>
<a class='timestamp' href='#625472'><time timestamp='2018-08-16T19:10:00Z'>19:10</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
luke-jr: see also <a href="https://github.com/devrandom/gitian-builder/issues/191" class="link" target="_blank">https://github.com/devrandom/gitian-builder/issues/191</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1534446660' id='625473'>
<a class='timestamp' href='#625473'><time timestamp='2018-08-16T19:11:00Z'>19:11</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
anyhow -- please ask in this channel if you have any problems getting gitian running
<br>
</div>

<div class='talk op-msg' data-timestamp='1534446720' id='625474'>
<a class='timestamp' href='#625474'><time timestamp='2018-08-16T19:12:00Z'>19:12</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
#topic High priority for review
<br>
</div>

<div class='talk op-msg' data-timestamp='1534446720' id='625475'>
<a class='timestamp' href='#625475'><time timestamp='2018-08-16T19:12:00Z'>19:12</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/projects/8" class="link" target="_blank">https://github.com/bitcoin/bitcoin/projects/8</a>  there&#x27;s only one PR in there at the moment, #13100
<br>
</div>

<div class='talk op-msg' data-timestamp='1534446720' id='625476'>
<a class='timestamp' href='#625476'><time timestamp='2018-08-16T19:12:00Z'>19:12</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/13100" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/13100</a> | gui: Add dynamic wallets support by promag · Pull Request #13100 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1534446720' id='625477'>
<a class='timestamp' href='#625477'><time timestamp='2018-08-16T19:12:00Z'>19:12</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i&#x27;d like #13723
<br>
</div>

<div class='talk op-msg' data-timestamp='1534446720' id='625478'>
<a class='timestamp' href='#625478'><time timestamp='2018-08-16T19:12:00Z'>19:12</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/13723" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/13723</a> | PSBT key path cleanups by sipa · Pull Request #13723 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1534446780' id='625479'>
<a class='timestamp' href='#625479'><time timestamp='2018-08-16T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
(it&#x27;s the basis for further psbt/descript integration)
<br>
</div>

<div class='talk op-msg' data-timestamp='1534446780' id='625480'>
<a class='timestamp' href='#625480'><time timestamp='2018-08-16T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/pull/13968" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/13968</a> bugfixes for psbt stuff too(0.17 backport)
<br>
</div>

<div class='talk op-msg' data-timestamp='1534446780' id='625481'>
<a class='timestamp' href='#625481'><time timestamp='2018-08-16T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
#13968
<br>
</div>

<div class='talk op-msg' data-timestamp='1534446780' id='625482'>
<a class='timestamp' href='#625482'><time timestamp='2018-08-16T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/13968" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/13968</a> | [wallet] couple of walletcreatefundedpsbt fixes by instagibbs · Pull Request #13968 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1534446840' id='625483'>
<a class='timestamp' href='#625483'><time timestamp='2018-08-16T19:14:00Z'>19:14</time></a>
&lt;<span class='nick nick-13'> ken2812221</span>&gt;
#13866
<br>
</div>

<div class='talk op-msg' data-timestamp='1534446840' id='625484'>
<a class='timestamp' href='#625484'><time timestamp='2018-08-16T19:14:00Z'>19:14</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/13866" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/13866</a> | utils: Use _wfopen and _wfreopen on Windows by ken2812221 · Pull Request #13866 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1534446840' id='625485'>
<a class='timestamp' href='#625485'><time timestamp='2018-08-16T19:14:00Z'>19:14</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
13723 added
<br>
</div>

<div class='talk op-msg' data-timestamp='1534446900' id='625486'>
<a class='timestamp' href='#625486'><time timestamp='2018-08-16T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
if high priority is still for blockers, <a href="https://github.com/bitcoin/bitcoin/pull/13311" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/13311</a> is kind of a blocker for <a href="https://github.com/bitcoin/bitcoin/pull/8994" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8994</a> which is itself a blocker for toher things I wanted to do
<br>
</div>

<div class='talk op-msg' data-timestamp='1534446900' id='625487'>
<a class='timestamp' href='#625487'><time timestamp='2018-08-16T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
the other two as well
<br>
</div>

<div class='talk op-msg' data-timestamp='1534446900' id='625488'>
<a class='timestamp' href='#625488'><time timestamp='2018-08-16T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
#13311
<br>
</div>

<div class='talk op-msg' data-timestamp='1534446900' id='625489'>
<a class='timestamp' href='#625489'><time timestamp='2018-08-16T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/13311" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/13311</a> | Dont edit Chainparams after initialization by jtimon · Pull Request #13311 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1534446960' id='625490'>
<a class='timestamp' href='#625490'><time timestamp='2018-08-16T19:16:00Z'>19:16</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
wumpus: can you replace 13100 with #13529?
<br>
</div>

<div class='talk op-msg' data-timestamp='1534446960' id='625491'>
<a class='timestamp' href='#625491'><time timestamp='2018-08-16T19:16:00Z'>19:16</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/13529" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/13529</a> | Use new Qt5 connect syntax by promag · Pull Request #13529 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1534447020' id='625492'>
<a class='timestamp' href='#625492'><time timestamp='2018-08-16T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
promag: ok
<br>
</div>

<div class='talk op-msg' data-timestamp='1534447020' id='625493'>
<a class='timestamp' href='#625493'><time timestamp='2018-08-16T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
jtimon: added
<br>
</div>

<div class='talk op-msg' data-timestamp='1534447020' id='625494'>
<a class='timestamp' href='#625494'><time timestamp='2018-08-16T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
yeah, thanks
<br>
</div>

<div class='talk op-msg' data-timestamp='1534447020' id='625495'>
<a class='timestamp' href='#625495'><time timestamp='2018-08-16T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
I would like #12493
<br>
</div>

<div class='talk op-msg' data-timestamp='1534447020' id='625496'>
<a class='timestamp' href='#625496'><time timestamp='2018-08-16T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/12493" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/12493</a> | [wallet] Reopen CDBEnv after encryption instead of shutting down by achow101 · Pull Request #12493 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1534447020' id='625497'>
<a class='timestamp' href='#625497'><time timestamp='2018-08-16T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
ty
<br>
</div>

<div class='talk op-msg' data-timestamp='1534447020' id='625498'>
<a class='timestamp' href='#625498'><time timestamp='2018-08-16T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
achow101: ok, yes, probably makes sense to merge that early in the 0.18 cycle
<br>
</div>

<div class='talk op-msg' data-timestamp='1534447080' id='625499'>
<a class='timestamp' href='#625499'><time timestamp='2018-08-16T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
achow101: it sounds sort of--risky
<br>
</div>

<div class='talk op-msg' data-timestamp='1534447080' id='625500'>
<a class='timestamp' href='#625500'><time timestamp='2018-08-16T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
achow101: did we ever work through the problems that were preventing &quot;don&#x27;t create a wallet until a key is requested or until encryption is added&quot; ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1534447080' id='625501'>
<a class='timestamp' href='#625501'><time timestamp='2018-08-16T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
As that would also get rid of the shutdown on encryption for many users.
<br>
</div>

<div class='talk op-msg' data-timestamp='1534447080' id='625502'>
<a class='timestamp' href='#625502'><time timestamp='2018-08-16T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
gmaxwell: the problems with that were backups IIRC
<br>
</div>

<div class='talk op-msg' data-timestamp='1534447140' id='625503'>
<a class='timestamp' href='#625503'><time timestamp='2018-08-16T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
gmaxwell: actually that problem was with generate keys on use, not create wallet on use
<br>
</div>

<div class='talk op-msg' data-timestamp='1534447140' id='625504'>
<a class='timestamp' href='#625504'><time timestamp='2018-08-16T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
in that case, I don&#x27;t think so. but I also don&#x27;t remember the problems with create wallet on use. I think I just never got around to implementing it
<br>
</div>

<div class='talk op-msg' data-timestamp='1534447200' id='625505'>
<a class='timestamp' href='#625505'><time timestamp='2018-08-16T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
right. I thought there were some dumb bugs with create on use that were going to get fixed as a side effect of pending multiwallet work.
<br>
</div>

<div class='talk op-msg' data-timestamp='1534447260' id='625506'>
<a class='timestamp' href='#625506'><time timestamp='2018-08-16T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
any other proposed topics?
<br>
</div>

<div class='talk op-msg' data-timestamp='1534447380' id='625507'>
<a class='timestamp' href='#625507'><time timestamp='2018-08-16T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
short announcement: we&#x27;re working on an extension to descriptors to support nested and/or/threshold constructions
<br>
</div>

<div class='talk op-msg' data-timestamp='1534447500' id='625508'>
<a class='timestamp' href='#625508'><time timestamp='2018-08-16T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
cool!
<br>
</div>

<div class='talk op-msg' data-timestamp='1534447500' id='625509'>
<a class='timestamp' href='#625509'><time timestamp='2018-08-16T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
topic suggestion: open floor for people to share what they
<br>
</div>

<div class='talk op-msg' data-timestamp='1534447500' id='625510'>
<a class='timestamp' href='#625510'><time timestamp='2018-08-16T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
nice
<br>
</div>

<div class='talk op-msg' data-timestamp='1534447500' id='625511'>
<a class='timestamp' href='#625511'><time timestamp='2018-08-16T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
re wokring on
<br>
</div>

<div class='talk op-msg' data-timestamp='1534447560' id='625512'>
<a class='timestamp' href='#625512'><time timestamp='2018-08-16T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
(since we don&#x27;t have any other topics apparently :P)
<br>
</div>

<div class='talk op-msg' data-timestamp='1534447560' id='625513'>
<a class='timestamp' href='#625513'><time timestamp='2018-08-16T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i like wok rings
<br>
</div>

<div class='talk op-msg' data-timestamp='1534447560' id='625514'>
<a class='timestamp' href='#625514'><time timestamp='2018-08-16T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
#topic open floor for people to share what they are working on
<br>
</div>

<div class='talk op-msg' data-timestamp='1534447560' id='625515'>
<a class='timestamp' href='#625515'><time timestamp='2018-08-16T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Working on p2p level encryption since a couple of weeks (thats why I&#x27;m pretty quite on github). Will open PR in 1-2 weeks.
<br>
</div>

<div class='talk op-msg' data-timestamp='1534447620' id='625516'>
<a class='timestamp' href='#625516'><time timestamp='2018-08-16T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
sipa: so this is for further improvements to scantxoutset I suppose?
<br>
</div>

<div class='talk op-msg' data-timestamp='1534447620' id='625517'>
<a class='timestamp' href='#625517'><time timestamp='2018-08-16T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
wumpus: and all the things :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1534447620' id='625518'>
<a class='timestamp' href='#625518'><time timestamp='2018-08-16T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
right
<br>
</div>

<div class='talk op-msg' data-timestamp='1534447620' id='625519'>
<a class='timestamp' href='#625519'><time timestamp='2018-08-16T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
wumpus: so you can import and(xpub/...,or(xpub/...,xpub/...)) into your wallet as watch-only chain for example
<br>
</div>

<div class='talk op-msg' data-timestamp='1534447620' id='625520'>
<a class='timestamp' href='#625520'><time timestamp='2018-08-16T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
wumpus: hopefully for eventually a replacement-ish thing to the wallet
<br>
</div>

<div class='talk op-msg' data-timestamp='1534447620' id='625521'>
<a class='timestamp' href='#625521'><time timestamp='2018-08-16T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and get psbt to sign for it
<br>
</div>

<div class='talk op-msg' data-timestamp='1534447680' id='625522'>
<a class='timestamp' href='#625522'><time timestamp='2018-08-16T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
so excite
<br>
</div>

<div class='talk op-msg' data-timestamp='1534447680' id='625523'>
<a class='timestamp' href='#625523'><time timestamp='2018-08-16T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
that&#x27;s neat
<br>
</div>

<div class='talk op-msg' data-timestamp='1534447680' id='625524'>
<a class='timestamp' href='#625524'><time timestamp='2018-08-16T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sipa: how would/could that lead to xpub watch only wallets?
<br>
</div>

<div class='talk op-msg' data-timestamp='1534447680' id='625525'>
<a class='timestamp' href='#625525'><time timestamp='2018-08-16T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jonasschnelli: yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1534447740' id='625526'>
<a class='timestamp' href='#625526'><time timestamp='2018-08-16T19:29:00Z'>19:29</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that&#x27;s the goal of the descriptors
<br>
</div>

<div class='talk op-msg' data-timestamp='1534447740' id='625527'>
<a class='timestamp' href='#625527'><time timestamp='2018-08-16T19:29:00Z'>19:29</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
achow101, not sure if he was joking, but he said he wouldnt have to implement it if I did the HWI version. I&#x27;ll keep leaning on him
<br>
</div>

<div class='talk op-msg' data-timestamp='1534447740' id='625528'>
<a class='timestamp' href='#625528'><time timestamp='2018-08-16T19:29:00Z'>19:29</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
That would be a great feature... could also be extended to the GUI including coin selection (send screen), but don&#x27;t sign/broadcast (obviously) but will create a PSBT (file)
<br>
</div>

<div class='talk op-msg' data-timestamp='1534447800' id='625529'>
<a class='timestamp' href='#625529'><time timestamp='2018-08-16T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
my guess is for any hope of Core support of HWW, we want to not have to support a bunch of PSBT drivers...
<br>
</div>

<div class='talk op-msg' data-timestamp='1534447800' id='625530'>
<a class='timestamp' href='#625530'><time timestamp='2018-08-16T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
oh sorry wrong window
<br>
</div>

<div class='talk op-msg' data-timestamp='1534447800' id='625531'>
<a class='timestamp' href='#625531'><time timestamp='2018-08-16T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
instagibbs: you mean more support then the PSBT?
<br>
</div>

<div class='talk op-msg' data-timestamp='1534447860' id='625532'>
<a class='timestamp' href='#625532'><time timestamp='2018-08-16T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jonasschnelli: seems reasonable yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1534447860' id='625533'>
<a class='timestamp' href='#625533'><time timestamp='2018-08-16T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i need to think through how to integrate things in the wallet itself, so you can import descriptors
<br>
</div>

<div class='talk op-msg' data-timestamp='1534447860' id='625534'>
<a class='timestamp' href='#625534'><time timestamp='2018-08-16T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and how to make it compatible with all existing RPCs etc
<br>
</div>

<div class='talk op-msg' data-timestamp='1534447920' id='625535'>
<a class='timestamp' href='#625535'><time timestamp='2018-08-16T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sipa: not just and/or/threshold but also CSV and hashlocks?
<br>
</div>

<div class='talk op-msg' data-timestamp='1534447920' id='625536'>
<a class='timestamp' href='#625536'><time timestamp='2018-08-16T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
gmaxwell, yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1534447920' id='625537'>
<a class='timestamp' href='#625537'><time timestamp='2018-08-16T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: oh yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1534447920' id='625538'>
<a class='timestamp' href='#625538'><time timestamp='2018-08-16T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
(oh rhetorical)
<br>
</div>

<div class='talk op-msg' data-timestamp='1534447920' id='625539'>
<a class='timestamp' href='#625539'><time timestamp='2018-08-16T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but my goal is that the wallet eventually consists of a bunch of descriptors with metadata (and labels and transactions, and precomputed pubkeys to replace keypools)
<br>
</div>

<div class='talk op-msg' data-timestamp='1534447980' id='625540'>
<a class='timestamp' href='#625540'><time timestamp='2018-08-16T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
If lots of people can help sipa finish that work it would be good. :P
<br>
</div>

<div class='talk op-msg' data-timestamp='1534448040' id='625541'>
<a class='timestamp' href='#625541'><time timestamp='2018-08-16T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but independently andytoshi and i started looking into how we can efficiently compile arbitrary and/or/k-of-n/locktime/hash expressions to script
<br>
</div>

<div class='talk op-msg' data-timestamp='1534448040' id='625542'>
<a class='timestamp' href='#625542'><time timestamp='2018-08-16T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
which would just plug into descriptors, and then be available to everything that uses them
<br>
</div>

<div class='talk op-msg' data-timestamp='1534448160' id='625543'>
<a class='timestamp' href='#625543'><time timestamp='2018-08-16T19:36:00Z'>19:36</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
so I&quot;ve been working on the RISC-V support, today I was able to do basic bring-up of the hardware (HiFive Unleashed) and test the gitian-built executables, which work!
<br>
</div>

<div class='talk op-msg' data-timestamp='1534448160' id='625544'>
<a class='timestamp' href='#625544'><time timestamp='2018-08-16T19:36:00Z'>19:36</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
been able to run the test_bitcoin succesfully and sync part of the chain, I&#x27;ll keep the node running
<br>
</div>

<div class='talk op-msg' data-timestamp='1534448160' id='625545'>
<a class='timestamp' href='#625545'><time timestamp='2018-08-16T19:36:00Z'>19:36</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
probably the first RISC-V bitcoin node in the world
<br>
</div>

<div class='talk op-msg' data-timestamp='1534448220' id='625546'>
<a class='timestamp' href='#625546'><time timestamp='2018-08-16T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
\o/ nice!
<br>
</div>

<div class='talk op-msg' data-timestamp='1534448220' id='625547'>
<a class='timestamp' href='#625547'><time timestamp='2018-08-16T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
nmkgl and I have been working on reconciliation based transaction relay.  (With sipa&#x27;s help too, that why I want people to help finish the descriptor work, ... :P )
<br>
</div>

<div class='talk op-msg' data-timestamp='1534448280' id='625548'>
<a class='timestamp' href='#625548'><time timestamp='2018-08-16T19:38:00Z'>19:38</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
gmaxwell: as in set reconciliation, eg to sync mempools?
<br>
</div>

<div class='talk op-msg' data-timestamp='1534448280' id='625549'>
<a class='timestamp' href='#625549'><time timestamp='2018-08-16T19:38:00Z'>19:38</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sdaftuar: yup
<br>
</div>

<div class='talk op-msg' data-timestamp='1534448340' id='625550'>
<a class='timestamp' href='#625550'><time timestamp='2018-08-16T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sdaftuar: Yes, but I believed we found a better design that doesn&#x27;t sync the mempools directly.
<br>
</div>

<div class='talk op-msg' data-timestamp='1534448340' id='625551'>
<a class='timestamp' href='#625551'><time timestamp='2018-08-16T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
neat, i&#x27;d be interested in learning more if you guys have a summary at some point.
<br>
</div>

<div class='talk op-msg' data-timestamp='1534448340' id='625552'>
<a class='timestamp' href='#625552'><time timestamp='2018-08-16T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sdaftuar: it uses a more computationally expensive set reconcilation protocol than IBLT, but it&#x27;s much more space efficient
<br>
</div>

<div class='talk op-msg' data-timestamp='1534448400' id='625553'>
<a class='timestamp' href='#625553'><time timestamp='2018-08-16T19:40:00Z'>19:40</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
muuuch more.
<br>
</div>

<div class='talk op-msg' data-timestamp='1534448400' id='625554'>
<a class='timestamp' href='#625554'><time timestamp='2018-08-16T19:40:00Z'>19:40</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
(basically the amount of data transferred is equal to the expected difference between the two sets)
<br>
</div>

<div class='talk op-msg' data-timestamp='1534448460' id='625555'>
<a class='timestamp' href='#625555'><time timestamp='2018-08-16T19:41:00Z'>19:41</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but it&#x27;s in the order of 40ms here to find 300 differences
<br>
</div>

<div class='talk op-msg' data-timestamp='1534448460' id='625556'>
<a class='timestamp' href='#625556'><time timestamp='2018-08-16T19:41:00Z'>19:41</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I also came up with a new reconcilation protocol with a different performance tradeoff (much faster to decode, but slightly less space efficient), though it doesn&#x27;t look like we&#x27;ll have cause to use it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1534448520' id='625557'>
<a class='timestamp' href='#625557'><time timestamp='2018-08-16T19:42:00Z'>19:42</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sdaftuar: in any case the short summary of what we&#x27;re thinking now vs before is that instead of reconciling mempools, reconcile the transactions that the peers would have otherwise INVed to each other.
<br>
</div>

<div class='talk op-msg' data-timestamp='1534448520' id='625558'>
<a class='timestamp' href='#625558'><time timestamp='2018-08-16T19:42:00Z'>19:42</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
this avoids cases like a mempool policy difference causing transations to get &#x27;stuck&#x27; in the difference set forever until they get mined.
<br>
</div>

<div class='talk op-msg' data-timestamp='1534448520' id='625559'>
<a class='timestamp' href='#625559'><time timestamp='2018-08-16T19:42:00Z'>19:42</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
oooh nice
<br>
</div>

<div class='talk op-msg' data-timestamp='1534448520' id='625560'>
<a class='timestamp' href='#625560'><time timestamp='2018-08-16T19:42:00Z'>19:42</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i missed that
<br>
</div>

<div class='talk op-msg' data-timestamp='1534448580' id='625561'>
<a class='timestamp' href='#625561'><time timestamp='2018-08-16T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Then it can just be coupled with some simple mechenism to fast-start an empty or stale mempool.
<br>
</div>

<div class='talk op-msg' data-timestamp='1534448580' id='625562'>
<a class='timestamp' href='#625562'><time timestamp='2018-08-16T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(I have a proposal for that too, just a simple one/two message protocol)
<br>
</div>

<div class='talk op-msg' data-timestamp='1534448640' id='625563'>
<a class='timestamp' href='#625563'><time timestamp='2018-08-16T19:44:00Z'>19:44</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
would this be complementary to a ip-hiding protocol like dandelion?
<br>
</div>

<div class='talk op-msg' data-timestamp='1534448640' id='625564'>
<a class='timestamp' href='#625564'><time timestamp='2018-08-16T19:44:00Z'>19:44</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
ah, that sounds neat
<br>
</div>

<div class='talk op-msg' data-timestamp='1534448640' id='625565'>
<a class='timestamp' href='#625565'><time timestamp='2018-08-16T19:44:00Z'>19:44</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
hmm, and then you could bucket and do reconciliation slowly for low-feerate buckets, or no reason to do that anymore?
<br>
</div>

<div class='talk op-msg' data-timestamp='1534448640' id='625566'>
<a class='timestamp' href='#625566'><time timestamp='2018-08-16T19:44:00Z'>19:44</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
instagibbs: I&#x27;d presume so, this would be during fluff-faze :p
<br>
</div>

<div class='talk op-msg' data-timestamp='1534448640' id='625567'>
<a class='timestamp' href='#625567'><time timestamp='2018-08-16T19:44:00Z'>19:44</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
instagibbs: yes, orthogonal
<br>
</div>

<div class='talk op-msg' data-timestamp='1534448700' id='625568'>
<a class='timestamp' href='#625568'><time timestamp='2018-08-16T19:45:00Z'>19:45</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
this is changing the diffusion phase
<br>
</div>

<div class='talk op-msg' data-timestamp='1534448700' id='625569'>
<a class='timestamp' href='#625569'><time timestamp='2018-08-16T19:45:00Z'>19:45</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
not the stem
<br>
</div>

<div class='talk op-msg' data-timestamp='1534448700' id='625570'>
<a class='timestamp' href='#625570'><time timestamp='2018-08-16T19:45:00Z'>19:45</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
BlueMatt, not exactly fluffing anymore :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1534448700' id='625571'>
<a class='timestamp' href='#625571'><time timestamp='2018-08-16T19:45:00Z'>19:45</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
instagibbs: it&#x27;s orthorgonal, the main motivation is getting rid of the really high bandwidth overhead for rumoring.
<br>
</div>

<div class='talk op-msg' data-timestamp='1534448700' id='625572'>
<a class='timestamp' href='#625572'><time timestamp='2018-08-16T19:45:00Z'>19:45</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
sipa understood
<br>
</div>

<div class='talk op-msg' data-timestamp='1534448700' id='625573'>
<a class='timestamp' href='#625573'><time timestamp='2018-08-16T19:45:00Z'>19:45</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Probably some differences in context here. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1534448700' id='625574'>
<a class='timestamp' href='#625574'><time timestamp='2018-08-16T19:45:00Z'>19:45</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Right now, ignoring peers that IBD, the vast majority of node bandwidth is wasted on INV rumoring.
<br>
</div>

<div class='talk op-msg' data-timestamp='1534448700' id='625575'>
<a class='timestamp' href='#625575'><time timestamp='2018-08-16T19:45:00Z'>19:45</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
gmaxwell: wait, was that a response to my question?
<br>
</div>

<div class='talk op-msg' data-timestamp='1534448760' id='625576'>
<a class='timestamp' href='#625576'><time timestamp='2018-08-16T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
BlueMatt: sure, it could be split by feerate too, though I&#x27;m not sure we&#x27;ll have a reason to because the reconcilation is so efficient.
<br>
</div>

<div class='talk op-msg' data-timestamp='1534448760' id='625577'>
<a class='timestamp' href='#625577'><time timestamp='2018-08-16T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
hmm, guess I need to think about this more
<br>
</div>

<div class='talk op-msg' data-timestamp='1534448760' id='625578'>
<a class='timestamp' href='#625578'><time timestamp='2018-08-16T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
do you have an estimate on the bandwidth reduction?
<br>
</div>

<div class='talk op-msg' data-timestamp='1534448820' id='625579'>
<a class='timestamp' href='#625579'><time timestamp='2018-08-16T19:47:00Z'>19:47</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
No, don&#x27;t have a mature enough simulator yet. Also I haven&#x27;t measured overheads since we improved inv batching.
<br>
</div>

<div class='talk op-msg' data-timestamp='1534448940' id='625580'>
<a class='timestamp' href='#625580'><time timestamp='2018-08-16T19:49:00Z'>19:49</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
But previously INV overhead was something like 80% of node bandwidth (excluding IBDing peers).
<br>
</div>

<div class='talk op-msg' data-timestamp='1534448940' id='625581'>
<a class='timestamp' href='#625581'><time timestamp='2018-08-16T19:49:00Z'>19:49</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
And this should mostly eliminate that overhead.
<br>
</div>

<div class='talk op-msg' data-timestamp='1534449120' id='625582'>
<a class='timestamp' href='#625582'><time timestamp='2018-08-16T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
looks like we&#x27;ve run out of topics, but not out of time yet
<br>
</div>

<div class='talk op-msg' data-timestamp='1534449120' id='625583'>
<a class='timestamp' href='#625583'><time timestamp='2018-08-16T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
In any case, we&#x27;ve been largely off in number theory land optimizing the recon itself... but I think we&#x27;ve got what we need there now. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1534449180' id='625584'>
<a class='timestamp' href='#625584'><time timestamp='2018-08-16T19:53:00Z'>19:53</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
btw i&#x27;ve been thinking about dandelion recently, trying to work through anti-DoS measures for stem routing
<br>
</div>

<div class='talk op-msg' data-timestamp='1534449420' id='625585'>
<a class='timestamp' href='#625585'><time timestamp='2018-08-16T19:57:00Z'>19:57</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sdaftuar: Good!  This seems to be one of those things that is easy in theory (if either you ignore getting it right or ignore how hard it is to implement) but hard in practice. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1534449420' id='625586'>
<a class='timestamp' href='#625586'><time timestamp='2018-08-16T19:57:00Z'>19:57</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
would be good to reduce the DoS surface there, yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1534449600' id='625587'>
<a class='timestamp' href='#625587'><time timestamp='2018-08-16T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
PLOINKIDOOF
<br>
</div>

<div class='talk op-msg' data-timestamp='1534449600' id='625588'>
<a class='timestamp' href='#625588'><time timestamp='2018-08-16T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
#endmeeting
<br>
</div>

<div class='talk op-msg' data-timestamp='1534449600' id='625589'>
<a class='timestamp' href='#625589'><time timestamp='2018-08-16T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Meeting ended Thu Aug 16 20:00:03 2018 UTC.  Information about MeetBot at <a href="http://wiki.debian.org/MeetBot" class="link" target="_blank">http://wiki.debian.org/MeetBot</a> . (v 0.1.4)
<br>
</div>

<div class='talk op-msg' data-timestamp='1534449600' id='625590'>
<a class='timestamp' href='#625590'><time timestamp='2018-08-16T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Minutes:        <a href="http://www.erisian.com.au/meetbot/bitcoin-core-dev/2018/bitcoin-core-dev.2018-08-16-19.03.html" class="link" target="_blank">http://www.erisian.com.au/meetbot/bitcoin-core-dev/2018/bitcoin-core-dev.2018-08-16-19.03.html</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1534449600' id='625591'>
<a class='timestamp' href='#625591'><time timestamp='2018-08-16T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Minutes (text): <a href="http://www.erisian.com.au/meetbot/bitcoin-core-dev/2018/bitcoin-core-dev.2018-08-16-19.03.txt" class="link" target="_blank">http://www.erisian.com.au/meetbot/bitcoin-core-dev/2018/bitcoin-core-dev.2018-08-16-19.03.txt</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1534449600' id='625592'>
<a class='timestamp' href='#625592'><time timestamp='2018-08-16T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Log:            <a href="http://www.erisian.com.au/meetbot/bitcoin-core-dev/2018/bitcoin-core-dev.2018-08-16-19.03.log.html" class="link" target="_blank">http://www.erisian.com.au/meetbot/bitcoin-core-dev/2018/bitcoin-core-dev.2018-08-16-19.03.log.html</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1534449660' id='625593'>
<a class='timestamp' href='#625593'><time timestamp='2018-08-16T20:01:00Z'>20:01</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
ploinkidoof?
<br>
</div>

<div class='talk op-msg' data-timestamp='1534450380' id='625594'>
<a class='timestamp' href='#625594'><time timestamp='2018-08-16T20:13:00Z'>20:13</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
rekeying and message queues is a nightmare
<br>
</div>

<div class='talk op-msg' data-timestamp='1534450560' id='625595'>
<a class='timestamp' href='#625595'><time timestamp='2018-08-16T20:16:00Z'>20:16</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it would be much easier if it wrre deterministic rather than negotiated
<br>
</div>

<div class='talk op-msg' data-timestamp='1534450680' id='625596'>
<a class='timestamp' href='#625596'><time timestamp='2018-08-16T20:18:00Z'>20:18</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sipa: not sure. Since you need to decrypt the length in chacha20poly1305@openssh
<br>
</div>

<div class='talk op-msg' data-timestamp='1534450740' id='625597'>
<a class='timestamp' href='#625597'><time timestamp='2018-08-16T20:19:00Z'>20:19</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Or maybe whenever a message exceeds the limit, the following one will be encrypted with the new key
<br>
</div>

<div class='talk op-msg' data-timestamp='1534450740' id='625598'>
<a class='timestamp' href='#625598'><time timestamp='2018-08-16T20:19:00Z'>20:19</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
but the time limit could be tricky,... the byte limit probably not
<br>
</div>

<div class='talk op-msg' data-timestamp='1534450920' id='625599'>
<a class='timestamp' href='#625599'><time timestamp='2018-08-16T20:22:00Z'>20:22</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
wait why is rekeying and message queues a nightmare.
<br>
</div>

<div class='talk op-msg' data-timestamp='1534450980' id='625600'>
<a class='timestamp' href='#625600'><time timestamp='2018-08-16T20:23:00Z'>20:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: because parsing protocol messages happens before processing them
<br>
</div>

<div class='talk op-msg' data-timestamp='1534450980' id='625601'>
<a class='timestamp' href='#625601'><time timestamp='2018-08-16T20:23:00Z'>20:23</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
gmaxwell: because decomposing and queuing (where you decrypt) is done before processing
<br>
</div>

<div class='talk op-msg' data-timestamp='1534450980' id='625602'>
<a class='timestamp' href='#625602'><time timestamp='2018-08-16T20:23:00Z'>20:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
a rekey means you need to undo the parsing for unprocessed things
<br>
</div>

<div class='talk op-msg' data-timestamp='1534450980' id='625603'>
<a class='timestamp' href='#625603'><time timestamp='2018-08-16T20:23:00Z'>20:23</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
the rekeying should be handled at the decryption layer, when you decrypt and find a rekey message then the very next bytes out you decrypt with the new stuff.
<br>
</div>

<div class='talk op-msg' data-timestamp='1534451040' id='625604'>
<a class='timestamp' href='#625604'><time timestamp='2018-08-16T20:24:00Z'>20:24</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I currently try to approach where I pause the read channel when I&#x27;m detecting a rekey during parsing
<br>
</div>

<div class='talk op-msg' data-timestamp='1534451100' id='625605'>
<a class='timestamp' href='#625605'><time timestamp='2018-08-16T20:25:00Z'>20:25</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i guess it would be easier if rekeying was done at a meta layer
<br>
</div>

<div class='talk op-msg' data-timestamp='1534451100' id='625606'>
<a class='timestamp' href='#625606'><time timestamp='2018-08-16T20:25:00Z'>20:25</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
say a flag bit in the encrypted packet
<br>
</div>

<div class='talk op-msg' data-timestamp='1534451100' id='625607'>
<a class='timestamp' href='#625607'><time timestamp='2018-08-16T20:25:00Z'>20:25</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
rather than an actual protocol message
<br>
</div>

<div class='talk op-msg' data-timestamp='1534451100' id='625608'>
<a class='timestamp' href='#625608'><time timestamp='2018-08-16T20:25:00Z'>20:25</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Is the e.g. an out of range length.
<br>
</div>

<div class='talk op-msg' data-timestamp='1534451160' id='625609'>
<a class='timestamp' href='#625609'><time timestamp='2018-08-16T20:26:00Z'>20:26</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Rekeying when the decrypted length is oor seems fragile though,...
<br>
</div>

<div class='talk op-msg' data-timestamp='1534451160' id='625610'>
<a class='timestamp' href='#625610'><time timestamp='2018-08-16T20:26:00Z'>20:26</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I kinda like gmaxwell approach of putting the rekeyin logic in the decryption handler
<br>
</div>

<div class='talk op-msg' data-timestamp='1534451160' id='625611'>
<a class='timestamp' href='#625611'><time timestamp='2018-08-16T20:26:00Z'>20:26</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Why?
<br>
</div>

<div class='talk op-msg' data-timestamp='1534451160' id='625612'>
<a class='timestamp' href='#625612'><time timestamp='2018-08-16T20:26:00Z'>20:26</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
gmaxwell: isn&#x27;t it technically possible that you get a valid length (&lt;MAX_LENGTH) even with an invalid key?
<br>
</div>

<div class='talk op-msg' data-timestamp='1534451220' id='625613'>
<a class='timestamp' href='#625613'><time timestamp='2018-08-16T20:27:00Z'>20:27</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
so? if your stream is corrupted you&#x27;ll dsync, fail auth, and disconnect.
<br>
</div>

<div class='talk op-msg' data-timestamp='1534451400' id='625614'>
<a class='timestamp' href='#625614'><time timestamp='2018-08-16T20:30:00Z'>20:30</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
gmaxwell: is the probability very of an valid length with an unexpected key that low that a reconnect would be an acceptable workaround?
<br>
</div>

<div class='talk op-msg' data-timestamp='1534451400' id='625615'>
<a class='timestamp' href='#625615'><time timestamp='2018-08-16T20:30:00Z'>20:30</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
*very low
<br>
</div>

<div class='talk op-msg' data-timestamp='1534451460' id='625616'>
<a class='timestamp' href='#625616'><time timestamp='2018-08-16T20:31:00Z'>20:31</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I think we&#x27;re probably talking past each other.
<br>
</div>

<div class='talk op-msg' data-timestamp='1534451460' id='625617'>
<a class='timestamp' href='#625617'><time timestamp='2018-08-16T20:31:00Z'>20:31</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
heh...
<br>
</div>

<div class='talk op-msg' data-timestamp='1534451460' id='625618'>
<a class='timestamp' href='#625618'><time timestamp='2018-08-16T20:31:00Z'>20:31</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
what I&#x27;m trying to suggest is that to signal rekeying, under the old key, you send a specific length value which we would otherwise never use (due to it being out of range)
<br>
</div>

<div class='talk op-msg' data-timestamp='1534451520' id='625619'>
<a class='timestamp' href='#625619'><time timestamp='2018-08-16T20:32:00Z'>20:32</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Assume when I rekey in case of decrypting to an invalid length... i guess there is a probability that the decrypted length with the now invalid key is within the MAX_SIZE boundary.... right?
<br>
</div>

<div class='talk op-msg' data-timestamp='1534451520' id='625620'>
<a class='timestamp' href='#625620'><time timestamp='2018-08-16T20:32:00Z'>20:32</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
No.
<br>
</div>

<div class='talk op-msg' data-timestamp='1534451520' id='625621'>
<a class='timestamp' href='#625621'><time timestamp='2018-08-16T20:32:00Z'>20:32</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
aha! I see
<br>
</div>

<div class='talk op-msg' data-timestamp='1534451580' id='625622'>
<a class='timestamp' href='#625622'><time timestamp='2018-08-16T20:33:00Z'>20:33</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Wait..
<br>
</div>

<div class='talk op-msg' data-timestamp='1534451580' id='625623'>
<a class='timestamp' href='#625623'><time timestamp='2018-08-16T20:33:00Z'>20:33</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
You don&#x27;t decrypt the same data again. You see an invalid length, you rekey and throw out that length and continue.
<br>
</div>

<div class='talk op-msg' data-timestamp='1534451640' id='625624'>
<a class='timestamp' href='#625624'><time timestamp='2018-08-16T20:34:00Z'>20:34</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
So... peer A asking for a rekey by setting an invalid length encrypted under the old key, then next message will use the new key?`
<br>
</div>

<div class='talk op-msg' data-timestamp='1534451640' id='625625'>
<a class='timestamp' href='#625625'><time timestamp='2018-08-16T20:34:00Z'>20:34</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Yes.
<br>
</div>

<div class='talk op-msg' data-timestamp='1534451640' id='625626'>
<a class='timestamp' href='#625626'><time timestamp='2018-08-16T20:34:00Z'>20:34</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
So the message with the invalid length is a dummy, right?
<br>
</div>

<div class='talk op-msg' data-timestamp='1534451640' id='625627'>
<a class='timestamp' href='#625627'><time timestamp='2018-08-16T20:34:00Z'>20:34</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
yes.
<br>
</div>

<div class='talk op-msg' data-timestamp='1534451640' id='625628'>
<a class='timestamp' href='#625628'><time timestamp='2018-08-16T20:34:00Z'>20:34</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I dunno if thats easier than just handling the rekey message at the decryption layer.
<br>
</div>

<div class='talk op-msg' data-timestamp='1534451640' id='625629'>
<a class='timestamp' href='#625629'><time timestamp='2018-08-16T20:34:00Z'>20:34</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Could the dummy message be a rekey message. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1534451700' id='625630'>
<a class='timestamp' href='#625630'><time timestamp='2018-08-16T20:35:00Z'>20:35</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I was just presenting it as an alternative. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1534451700' id='625631'>
<a class='timestamp' href='#625631'><time timestamp='2018-08-16T20:35:00Z'>20:35</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sure. But it could also, for example be an empty message (length 0) which maybe is easier structurally to handle.
<br>
</div>

<div class='talk op-msg' data-timestamp='1534451700' id='625632'>
<a class='timestamp' href='#625632'><time timestamp='2018-08-16T20:35:00Z'>20:35</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Yes. I like the invalid length approach since it doesn&#x27;t require the parsing message logic
<br>
</div>

<div class='talk op-msg' data-timestamp='1534451760' id='625633'>
<a class='timestamp' href='#625633'><time timestamp='2018-08-16T20:36:00Z'>20:36</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Length 0 would be an option and would not be confused with a real invalid decryption 
<br>
</div>

<div class='talk op-msg' data-timestamp='1534451760' id='625634'>
<a class='timestamp' href='#625634'><time timestamp='2018-08-16T20:36:00Z'>20:36</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
But length 0 would also be prone to DPI I guess
<br>
</div>

<div class='talk op-msg' data-timestamp='1534451760' id='625635'>
<a class='timestamp' href='#625635'><time timestamp='2018-08-16T20:36:00Z'>20:36</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Since it would be the smalles package always
<br>
</div>

<div class='talk op-msg' data-timestamp='1534451760' id='625636'>
<a class='timestamp' href='#625636'><time timestamp='2018-08-16T20:36:00Z'>20:36</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
(could artificial blow up though)
<br>
</div>

<div class='talk op-msg' data-timestamp='1534451820' id='625637'>
<a class='timestamp' href='#625637'><time timestamp='2018-08-16T20:37:00Z'>20:37</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sdaftuar: my one line summary: we have a way to compute a &#x27;sketch&#x27; from a set of N bit elements, with a size of M*N (so equal in size to M elements), in such a way that you can recover the contents from a sketch as long as there aren&#x27;t more than M elements in it. Now, XORing two sketches gives you a sketch of the set of elements that are in one of the two input sets (but not both)
<br>
</div>

<div class='talk op-msg' data-timestamp='1534451820' id='625638'>
<a class='timestamp' href='#625638'><time timestamp='2018-08-16T20:37:00Z'>20:37</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
this protocol doesn&#x27;t resist traffic analysis.
<br>
</div>

<div class='talk op-msg' data-timestamp='1534451820' id='625639'>
<a class='timestamp' href='#625639'><time timestamp='2018-08-16T20:37:00Z'>20:37</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Yes... right,..
<br>
</div>

<div class='talk op-msg' data-timestamp='1534451880' id='625640'>
<a class='timestamp' href='#625640'><time timestamp='2018-08-16T20:38:00Z'>20:38</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
But with the 32byte pure pubkey handshake and the encrypted length, we are pretty stealth and make lives a bit harder for DPI configurators
<br>
</div>

<div class='talk op-msg' data-timestamp='1534451880' id='625641'>
<a class='timestamp' href='#625641'><time timestamp='2018-08-16T20:38:00Z'>20:38</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
jonasschnelli: I don&#x27;t see how the length0 thing changes anything.
<br>
</div>

<div class='talk op-msg' data-timestamp='1534451880' id='625642'>
<a class='timestamp' href='#625642'><time timestamp='2018-08-16T20:38:00Z'>20:38</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
the length is still encrypted.
<br>
</div>

<div class='talk op-msg' data-timestamp='1534451880' id='625643'>
<a class='timestamp' href='#625643'><time timestamp='2018-08-16T20:38:00Z'>20:38</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I think the length 0 package could still contain a payload of the size of an inv
<br>
</div>

<div class='talk op-msg' data-timestamp='1534451940' id='625644'>
<a class='timestamp' href='#625644'><time timestamp='2018-08-16T20:39:00Z'>20:39</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Yes. I just though the size of that package (if someone analyses package burst) a rekey if the payload would be length 0 would be easy to identify ... but probably so other commands.
<br>
</div>

<div class='talk op-msg' data-timestamp='1534452000' id='625645'>
<a class='timestamp' href='#625645'><time timestamp='2018-08-16T20:40:00Z'>20:40</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
*with
<br>
</div>

<div class='talk op-msg' data-timestamp='1534452000' id='625646'>
<a class='timestamp' href='#625646'><time timestamp='2018-08-16T20:40:00Z'>20:40</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
But I guess my point is weak... length 0 seems to be the most advance idea how to tigger a rekey on the encryption layer
<br>
</div>

<div class='talk op-msg' data-timestamp='1534452000' id='625647'>
<a class='timestamp' href='#625647'><time timestamp='2018-08-16T20:40:00Z'>20:40</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Sending a minimum length (just len and auth tag) message is no more or less identifable than any other size. If socket handling merges multiple messages, they&#x27;re not identifyable at all, and if socket handling splits every message, the lengths are implicitly visible.
<br>
</div>

<div class='talk op-msg' data-timestamp='1534452060' id='625648'>
<a class='timestamp' href='#625648'><time timestamp='2018-08-16T20:41:00Z'>20:41</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
the only downside I see to length 0 is that we might otherwise want to use them for keepalives. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1534452060' id='625649'>
<a class='timestamp' href='#625649'><time timestamp='2018-08-16T20:41:00Z'>20:41</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(which you might want to send more often than once per ten minutes)
<br>
</div>

<div class='talk op-msg' data-timestamp='1534452060' id='625650'>
<a class='timestamp' href='#625650'><time timestamp='2018-08-16T20:41:00Z'>20:41</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
but I guess we ping at the protocol level, so nevermind. :P
<br>
</div>

<div class='talk op-msg' data-timestamp='1534452120' id='625651'>
<a class='timestamp' href='#625651'><time timestamp='2018-08-16T20:42:00Z'>20:42</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
We could also use MAX_INT32 for the rekey
<br>
</div>

<div class='talk op-msg' data-timestamp='1534452120' id='625652'>
<a class='timestamp' href='#625652'><time timestamp='2018-08-16T20:42:00Z'>20:42</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I forget how the length is encoded. Is it encoded with a variable length encoding?
<br>
</div>

<div class='talk op-msg' data-timestamp='1534452240' id='625653'>
<a class='timestamp' href='#625653'><time timestamp='2018-08-16T20:44:00Z'>20:44</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sipa, sdaftuar: An astute reader might notice that a set of M  N bit elements can be communicated in log2(2^N choose M) bits. so this scheme is not quite perfectly efficient, but it&#x27;s close. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1534452300' id='625654'>
<a class='timestamp' href='#625654'><time timestamp='2018-08-16T20:45:00Z'>20:45</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
gmaxwell: length is a fix 4 byte uint32
<br>
</div>

<div class='talk op-msg' data-timestamp='1534452300' id='625655'>
<a class='timestamp' href='#625655'><time timestamp='2018-08-16T20:45:00Z'>20:45</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
encrypted with a key only used for chacha20-crypt the length
<br>
</div>

<div class='talk op-msg' data-timestamp='1534452360' id='625656'>
<a class='timestamp' href='#625656'><time timestamp='2018-08-16T20:46:00Z'>20:46</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
jonasschnelli: oh, okay, for some reason I thought we had something with lower overhead there. I guess it doesn&#x27;t matter much since most of our messages are fairly long.
<br>
</div>

<div class='talk op-msg' data-timestamp='1534452420' id='625657'>
<a class='timestamp' href='#625657'><time timestamp='2018-08-16T20:47:00Z'>20:47</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
jonasschnelli: indeed MAX_UINT32 could just be a length 0 message that triggers rekey.
<br>
</div>

<div class='talk op-msg' data-timestamp='1534452420' id='625658'>
<a class='timestamp' href='#625658'><time timestamp='2018-08-16T20:47:00Z'>20:47</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
sipa gmaxwell: what&#x27;s the failure mode/fallback scenario if a sketch can&#x27;t be reconciled?
<br>
</div>

<div class='talk op-msg' data-timestamp='1534452480' id='625659'>
<a class='timestamp' href='#625659'><time timestamp='2018-08-16T20:48:00Z'>20:48</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sdaftuar: Sketch data can be incrementally sent. so if M wasn&#x27;t enough I can just send you one more value and now you have M+1.
<br>
</div>

<div class='talk op-msg' data-timestamp='1534452480' id='625660'>
<a class='timestamp' href='#625660'><time timestamp='2018-08-16T20:48:00Z'>20:48</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
oh neat
<br>
</div>

<div class='talk op-msg' data-timestamp='1534452540' id='625661'>
<a class='timestamp' href='#625661'><time timestamp='2018-08-16T20:49:00Z'>20:49</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it can even be incrementally computed
<br>
</div>

<div class='talk op-msg' data-timestamp='1534452540' id='625662'>
<a class='timestamp' href='#625662'><time timestamp='2018-08-16T20:49:00Z'>20:49</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
does that require saving the old sketch?
<br>
</div>

<div class='talk op-msg' data-timestamp='1534452540' id='625663'>
<a class='timestamp' href='#625663'><time timestamp='2018-08-16T20:49:00Z'>20:49</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
oh
<br>
</div>

<div class='talk op-msg' data-timestamp='1534452540' id='625664'>
<a class='timestamp' href='#625664'><time timestamp='2018-08-16T20:49:00Z'>20:49</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
(but computing a sketch is very cheap, recovering data form one is expensive)
<br>
</div>

<div class='talk op-msg' data-timestamp='1534452540' id='625665'>
<a class='timestamp' href='#625665'><time timestamp='2018-08-16T20:49:00Z'>20:49</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
gmaxwell: ideally, there would be a way to flag the rekey in a non-extra message,.. so flag in the first message using the new key
<br>
</div>

<div class='talk op-msg' data-timestamp='1534452540' id='625666'>
<a class='timestamp' href='#625666'><time timestamp='2018-08-16T20:49:00Z'>20:49</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
In practice we&#x27;ll have a limit on the maximum M, both for memory reasons storing the sketches and computation (decode is quadratic). ... so if we exceeded that, you&#x27;d just fail to relay those transactions since the last reconcile with that peer, better luck next time around.
<br>
</div>

<div class='talk op-msg' data-timestamp='1534452540' id='625667'>
<a class='timestamp' href='#625667'><time timestamp='2018-08-16T20:49:00Z'>20:49</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
(to avoid accessing the push message logic from with the encryption logic)
<br>
</div>

<div class='talk op-msg' data-timestamp='1534452600' id='625668'>
<a class='timestamp' href='#625668'><time timestamp='2018-08-16T20:50:00Z'>20:50</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sdaftuar: The sketch decode has two steps, the first step is perfectly incremental. So we waste no cpu getting the sketch data a little at a time.  The second step is not incremental, though we can arrange things so that we can be pretty sure if it&#x27;ll be successful or not before starting it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1534452660' id='625669'>
<a class='timestamp' href='#625669'><time timestamp='2018-08-16T20:51:00Z'>20:51</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
jonasschnelli: well just steal the most significant bit of the length.
<br>
</div>

<div class='talk op-msg' data-timestamp='1534452660' id='625670'>
<a class='timestamp' href='#625670'><time timestamp='2018-08-16T20:51:00Z'>20:51</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
2^31 byte messages should be enough for anyone.
<br>
</div>

<div class='talk op-msg' data-timestamp='1534452720' id='625671'>
<a class='timestamp' href='#625671'><time timestamp='2018-08-16T20:52:00Z'>20:52</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
But megablocks!
<br>
</div>

<div class='talk op-msg' data-timestamp='1534452720' id='625672'>
<a class='timestamp' href='#625672'><time timestamp='2018-08-16T20:52:00Z'>20:52</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Yes. Great idea
<br>
</div>

<div class='talk op-msg' data-timestamp='1534452720' id='625673'>
<a class='timestamp' href='#625673'><time timestamp='2018-08-16T20:52:00Z'>20:52</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
2^31 is still 2GB. :P 
<br>
</div>

<div class='talk op-msg' data-timestamp='1534452720' id='625674'>
<a class='timestamp' href='#625674'><time timestamp='2018-08-16T20:52:00Z'>20:52</time></a>
&lt;<span class='nick nick-12'> * jonasschnelli</span>&gt;
got called to bed
<br>
</div>

<div class='talk op-msg' data-timestamp='1534452780' id='625675'>
<a class='timestamp' href='#625675'><time timestamp='2018-08-16T20:53:00Z'>20:53</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
night
<br>
</div>

<div class='talk op-msg' data-timestamp='1534452960' id='625676'>
<a class='timestamp' href='#625676'><time timestamp='2018-08-16T20:56:00Z'>20:56</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sdaftuar: the actual construction of this system is a binary BCH code, with a message 2^n bits long which has up to M &#x27;errors&#x27; (the set difference) in it that we need to correct.  So obviously, we should call it something like BCH faulting transaction relay. :P
<br>
</div>

<div class='talk op-msg' data-timestamp='1534453080' id='625677'>
<a class='timestamp' href='#625677'><time timestamp='2018-08-16T20:58:00Z'>20:58</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
just bch relay sounds nice and concise
<br>
</div>

<div class='talk op-msg' data-timestamp='1534453140' id='625678'>
<a class='timestamp' href='#625678'><time timestamp='2018-08-16T20:59:00Z'>20:59</time></a>
&lt;<span class='nick nick-16'> * warren</span>&gt;
blinked hard upon reading BCH
<br>
</div>

<div class='talk op-msg' data-timestamp='1534453200' id='625679'>
<a class='timestamp' href='#625679'><time timestamp='2018-08-16T21:00:00Z'>21:00</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
anyway that sounds awesome, i assume it&#x27;s close enough that we can hope to have it for 0.18?
<br>
</div>

<div class='talk op-msg' data-timestamp='1534453260' id='625680'>
<a class='timestamp' href='#625680'><time timestamp='2018-08-16T21:01:00Z'>21:01</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I don&#x27;t see why it couldn&#x27;t be done in a couple months, assuming that as we implement we don&#x27;t get stuck on stupid protocol issues.
<br>
</div>

<div class='talk op-msg' data-timestamp='1534453320' id='625681'>
<a class='timestamp' href='#625681'><time timestamp='2018-08-16T21:02:00Z'>21:02</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
or fall too far down the number theory rathole of microoptimizing the set reconcillation.
<br>
</div>

<div class='talk op-msg' data-timestamp='1534453320' id='625682'>
<a class='timestamp' href='#625682'><time timestamp='2018-08-16T21:02:00Z'>21:02</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
:)
<br>
</div>

<div class='talk op-msg' data-timestamp='1534453320' id='625683'>
<a class='timestamp' href='#625683'><time timestamp='2018-08-16T21:02:00Z'>21:02</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sdaftuar: the algorithm is based on a project called &#x27;pinsketch&#x27;, which relies on a library called NTL, which is LGPL and a lot of code
<br>
</div>

<div class='talk op-msg' data-timestamp='1534453380' id='625684'>
<a class='timestamp' href='#625684'><time timestamp='2018-08-16T21:03:00Z'>21:03</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
it&#x27;s really quite a lovely problem to work on. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1534453380' id='625685'>
<a class='timestamp' href='#625685'><time timestamp='2018-08-16T21:03:00Z'>21:03</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sdaftuar: so we reimplemented inlt from scratch in a few hundred lines, and it&#x27;s faster too :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1534453380' id='625686'>
<a class='timestamp' href='#625686'><time timestamp='2018-08-16T21:03:00Z'>21:03</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
yeah i look forward to being nerdsniped when you share your results
<br>
</div>

<div class='talk op-msg' data-timestamp='1534453380' id='625687'>
<a class='timestamp' href='#625687'><time timestamp='2018-08-16T21:03:00Z'>21:03</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
sipa: lol
<br>
</div>

<div class='talk op-msg' data-timestamp='1534453380' id='625688'>
<a class='timestamp' href='#625688'><time timestamp='2018-08-16T21:03:00Z'>21:03</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
and came up with a bunch of moderately smart optimizations...
<br>
</div>

<div class='talk op-msg' data-timestamp='1534453440' id='625689'>
<a class='timestamp' href='#625689'><time timestamp='2018-08-16T21:04:00Z'>21:04</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
i was about to groan about dealing with a 3rd party library and lgpl, i should have known better than to think you&#x27;d let that be a problem :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1534453500' id='625690'>
<a class='timestamp' href='#625690'><time timestamp='2018-08-16T21:05:00Z'>21:05</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sdaftuar: that was what held me off from doing more of this a year ago.
<br>
</div>

<div class='talk op-msg' data-timestamp='1534454580' id='625691'>
<a class='timestamp' href='#625691'><time timestamp='2018-08-16T21:23:00Z'>21:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sdaftuar: curiously, the author of pinsketch is someone i&#x27;ve met at real world crypto; he did a talk on UTXO commitment data structures
<br>
</div>

<div class='talk op-msg' data-timestamp='1534460820' id='625692'>
<a class='timestamp' href='#625692'><time timestamp='2018-08-16T23:07:00Z'>23:07</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
achow101: MarcoFalke: that VMBuilder fork doesn&#x27;t actually work :&lt;
<br>
</div>

<div class='talk op-msg' data-timestamp='1534460820' id='625693'>
<a class='timestamp' href='#625693'><time timestamp='2018-08-16T23:07:00Z'>23:07</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
at least not for bionic
<br>
</div>

<div class='talk op-msg' data-timestamp='1534461840' id='625694'>
<a class='timestamp' href='#625694'><time timestamp='2018-08-16T23:24:00Z'>23:24</time></a>
&lt;<span class='nick nick-1'> kevink</span>&gt;
I&#x27;m using Bitcoin Core&#x27;s API and am wondering whats the difference between `duplicate-inconclusive` and `duplicate` when calling `submitblock`. I&#x27;m just trying to verify that a block exists in the blockchain and `submitblock` seems like the simplest way to do that. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1534462020' id='625695'>
<a class='timestamp' href='#625695'><time timestamp='2018-08-16T23:27:00Z'>23:27</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
kevink: try getblockheader instead
<br>
</div>

<div class='talk op-msg' data-timestamp='1534462140' id='625696'>
<a class='timestamp' href='#625696'><time timestamp='2018-08-16T23:29:00Z'>23:29</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
kevink, submit block is definitely not the way to do that, getblockheader is
<br>
</div>

<div class='talk op-msg' data-timestamp='1534462560' id='625697'>
<a class='timestamp' href='#625697'><time timestamp='2018-08-16T23:36:00Z'>23:36</time></a>
&lt;<span class='nick nick-1'> kevink</span>&gt;
The reason I wanted to use submitblock was because I&#x27;m encoding and decoding the blockdata into an image using <a href="https://gist.github.com/laanwj/51f276c44ba9882bb4b27cc6f3a499a4" class="link" target="_blank">https://gist.github.com/laanwj/51f276c44ba9882bb4b27cc6f3a499a4</a> and wanted to check that it also remained a valid block after being decoded.  
<br>
</div>

<div class='talk op-msg' data-timestamp='1534463040' id='625698'>
<a class='timestamp' href='#625698'><time timestamp='2018-08-16T23:44:00Z'>23:44</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
compute its hash, and query for it
<br>
</div>

<div class='talk op-msg' data-timestamp='1534463280' id='625699'>
<a class='timestamp' href='#625699'><time timestamp='2018-08-16T23:48:00Z'>23:48</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I guess we don&#x27;t have a decoderawblock rpc that would construct the hash for you!
<br>
</div>

</div>
</section>

</body>
</html>
