<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2016-05-27
 — 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2016-05-27' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:26 UTC</pre>
<pre><a href="/bitcoin-core-dev/2016-04-27">&lt;</a><span class='header'>     May 2016     </span><a href="/bitcoin-core-dev/2016-06-27">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A; <a class="" href="/bitcoin-core-dev/2016-05-01">1</a>  <a class="" href="/bitcoin-core-dev/2016-05-02">2</a>  <a class="" href="/bitcoin-core-dev/2016-05-03">3</a>  <a class="" href="/bitcoin-core-dev/2016-05-04">4</a>  <a class="" href="/bitcoin-core-dev/2016-05-05">5</a>  <a class="" href="/bitcoin-core-dev/2016-05-06">6</a>  <a class="" href="/bitcoin-core-dev/2016-05-07">7</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2016-05-08">8</a>  <a class="" href="/bitcoin-core-dev/2016-05-09">9</a> <a class="" href="/bitcoin-core-dev/2016-05-10">10</a> <a class="" href="/bitcoin-core-dev/2016-05-11">11</a> <a class="" href="/bitcoin-core-dev/2016-05-12">12</a> <a class="" href="/bitcoin-core-dev/2016-05-13">13</a> <a class="" href="/bitcoin-core-dev/2016-05-14">14</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2016-05-15">15</a> <a class="" href="/bitcoin-core-dev/2016-05-16">16</a> <a class="" href="/bitcoin-core-dev/2016-05-17">17</a> <a class="" href="/bitcoin-core-dev/2016-05-18">18</a> <a class="" href="/bitcoin-core-dev/2016-05-19">19</a> <a class="" href="/bitcoin-core-dev/2016-05-20">20</a> <a class="" href="/bitcoin-core-dev/2016-05-21">21</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2016-05-22">22</a> <a class="" href="/bitcoin-core-dev/2016-05-23">23</a> <a class="" href="/bitcoin-core-dev/2016-05-24">24</a> <a class="" href="/bitcoin-core-dev/2016-05-25">25</a> <a class="" href="/bitcoin-core-dev/2016-05-26">26</a> <a class="current" href="/bitcoin-core-dev/2016-05-27">27</a> <a class="" href="/bitcoin-core-dev/2016-05-28">28</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2016-05-29">29</a> <a class="" href="/bitcoin-core-dev/2016-05-30">30</a> <a class="" href="/bitcoin-core-dev/2016-05-31">31</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1464317160' id='470366'>
<a class='timestamp' href='#470366'><time timestamp='2016-05-27T02:46:00Z'>02:46</time></a>
&lt;<span class='nick nick-13'> GitHub117</span>&gt;
[bitcoin] yurizhykin opened pull request #8107: bench: Added base58 encoding/decoding benchmarks (master...benchmarks) <a href="https://github.com/bitcoin/bitcoin/pull/8107" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8107</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1464328200' id='470367'>
<a class='timestamp' href='#470367'><time timestamp='2016-05-27T05:50:00Z'>05:50</time></a>
&lt;<span class='nick nick-14'> GitHub166</span>&gt;
[bitcoin] paveljanik opened pull request #8108: Trivial: Remove unused local variable shadowing upper local (master...20160527_trivial_sighash_tests) <a href="https://github.com/bitcoin/bitcoin/pull/8108" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8108</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1464329040' id='470368'>
<a class='timestamp' href='#470368'><time timestamp='2016-05-27T06:04:00Z'>06:04</time></a>
&lt;<span class='nick nick-10'> GitHub57</span>&gt;
[bitcoin] paveljanik opened pull request #8109: Do not shadow member variables (master...20160527_shadow_httpserver) <a href="https://github.com/bitcoin/bitcoin/pull/8109" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8109</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1464330120' id='470369'>
<a class='timestamp' href='#470369'><time timestamp='2016-05-27T06:22:00Z'>06:22</time></a>
&lt;<span class='nick nick-7'> GitHub90</span>&gt;
[bitcoin] MarcoFalke pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/425278d17bd0...06bd4f637f15" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/425278d17bd0...06bd4f637f15</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1464330120' id='470370'>
<a class='timestamp' href='#470370'><time timestamp='2016-05-27T06:22:00Z'>06:22</time></a>
&lt;<span class='nick nick-7'> GitHub90</span>&gt;
bitcoin/master fa57b0c MarcoFalke: [qa] test_framework: Append portseed to tmpdir...
<br>
</div>

<div class='talk op-msg' data-timestamp='1464330120' id='470371'>
<a class='timestamp' href='#470371'><time timestamp='2016-05-27T06:22:00Z'>06:22</time></a>
&lt;<span class='nick nick-7'> GitHub90</span>&gt;
bitcoin/master 06bd4f6 MarcoFalke: Merge #8098: [qa] test_framework: Append portseed to tmpdir...
<br>
</div>

<div class='talk op-msg' data-timestamp='1464330120' id='470372'>
<a class='timestamp' href='#470372'><time timestamp='2016-05-27T06:22:00Z'>06:22</time></a>
&lt;<span class='nick nick-14'> GitHub20</span>&gt;
[bitcoin] MarcoFalke closed pull request #8098: [qa] test_framework: Append portseed to tmpdir (master...Mf1605-qatmpdir) <a href="https://github.com/bitcoin/bitcoin/pull/8098" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8098</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1464331740' id='470373'>
<a class='timestamp' href='#470373'><time timestamp='2016-05-27T06:49:00Z'>06:49</time></a>
&lt;<span class='nick nick-14'> GitHub193</span>&gt;
[bitcoin] MarcoFalke pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/06bd4f637f15...a80de1511316" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/06bd4f637f15...a80de1511316</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1464331740' id='470374'>
<a class='timestamp' href='#470374'><time timestamp='2016-05-27T06:49:00Z'>06:49</time></a>
&lt;<span class='nick nick-14'> GitHub193</span>&gt;
bitcoin/master 13c4558 Pavel Janík: Remove unused local variable shadowing upper local
<br>
</div>

<div class='talk op-msg' data-timestamp='1464331740' id='470375'>
<a class='timestamp' href='#470375'><time timestamp='2016-05-27T06:49:00Z'>06:49</time></a>
&lt;<span class='nick nick-14'> GitHub193</span>&gt;
bitcoin/master a80de15 MarcoFalke: Merge #8108: Trivial: Remove unused local variable shadowing upper local...
<br>
</div>

<div class='talk op-msg' data-timestamp='1464331740' id='470376'>
<a class='timestamp' href='#470376'><time timestamp='2016-05-27T06:49:00Z'>06:49</time></a>
&lt;<span class='nick nick-10'> GitHub95</span>&gt;
[bitcoin] MarcoFalke closed pull request #8108: Trivial: Remove unused local variable shadowing upper local (master...20160527_trivial_sighash_tests) <a href="https://github.com/bitcoin/bitcoin/pull/8108" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8108</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1464336180' id='470377'>
<a class='timestamp' href='#470377'><time timestamp='2016-05-27T08:03:00Z'>08:03</time></a>
&lt;<span class='nick nick-13'> GitHub4</span>&gt;
[bitcoin] fanquake opened pull request #8110: [Doc] Add benchmarking notes (master...mention_bench) <a href="https://github.com/bitcoin/bitcoin/pull/8110" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8110</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1464341160' id='470378'>
<a class='timestamp' href='#470378'><time timestamp='2016-05-27T09:26:00Z'>09:26</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
kanzure, how many parallel discussion are you able to type? Thanks for the Zurich log! I&#x27;ll read it all weekend ;-)
<br>
</div>

<div class='talk op-msg' data-timestamp='1464342300' id='470379'>
<a class='timestamp' href='#470379'><time timestamp='2016-05-27T09:45:00Z'>09:45</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
paveljanik: on tuesday we were separated into groups, and kanzure was only in one at a time
<br>
</div>

<div class='talk op-msg' data-timestamp='1464342300' id='470380'>
<a class='timestamp' href='#470380'><time timestamp='2016-05-27T09:45:00Z'>09:45</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
eh, on saturday
<br>
</div>

<div class='talk op-msg' data-timestamp='1464342300' id='470381'>
<a class='timestamp' href='#470381'><time timestamp='2016-05-27T09:45:00Z'>09:45</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
otherwise, i think he transcribed most
<br>
</div>

<div class='talk op-msg' data-timestamp='1464342360' id='470382'>
<a class='timestamp' href='#470382'><time timestamp='2016-05-27T09:46:00Z'>09:46</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
anyway, unbelievable :-)
<br>
</div>

<div class='talk op-msg' data-timestamp='1464342360' id='470383'>
<a class='timestamp' href='#470383'><time timestamp='2016-05-27T09:46:00Z'>09:46</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and he types faster than most people can speak
<br>
</div>

<div class='talk op-msg' data-timestamp='1464342420' id='470384'>
<a class='timestamp' href='#470384'><time timestamp='2016-05-27T09:47:00Z'>09:47</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
happy that the transcript is useful
<br>
</div>

<div class='talk op-msg' data-timestamp='1464342420' id='470385'>
<a class='timestamp' href='#470385'><time timestamp='2016-05-27T09:47:00Z'>09:47</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i&#x27;ve wanted to go through it and annotate with context and clarifications
<br>
</div>

<div class='talk op-msg' data-timestamp='1464342420' id='470386'>
<a class='timestamp' href='#470386'><time timestamp='2016-05-27T09:47:00Z'>09:47</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but it&#x27;s so huge...
<br>
</div>

<div class='talk op-msg' data-timestamp='1464342420' id='470387'>
<a class='timestamp' href='#470387'><time timestamp='2016-05-27T09:47:00Z'>09:47</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
13 printed pages of 4 A4 on 1 A4...
<br>
</div>

<div class='talk op-msg' data-timestamp='1464342600' id='470388'>
<a class='timestamp' href='#470388'><time timestamp='2016-05-27T09:50:00Z'>09:50</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
feel free to ask questions though
<br>
</div>

<div class='talk op-msg' data-timestamp='1464342600' id='470389'>
<a class='timestamp' href='#470389'><time timestamp='2016-05-27T09:50:00Z'>09:50</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it&#x27;s sometimes hard to follow
<br>
</div>

<div class='talk op-msg' data-timestamp='1464342660' id='470390'>
<a class='timestamp' href='#470390'><time timestamp='2016-05-27T09:51:00Z'>09:51</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
spoken word is not always very consistent :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1464342660' id='470391'>
<a class='timestamp' href='#470391'><time timestamp='2016-05-27T09:51:00Z'>09:51</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
thanks. I&#x27;ll read it in the silent evening, in the wild, without connectivity 8)
<br>
</div>

<div class='talk op-msg' data-timestamp='1464355920' id='470392'>
<a class='timestamp' href='#470392'><time timestamp='2016-05-27T13:32:00Z'>13:32</time></a>
&lt;<span class='nick nick-3'> cfields_</span>&gt;
jonasschnelli: ping
<br>
</div>

<div class='talk op-msg' data-timestamp='1464355920' id='470393'>
<a class='timestamp' href='#470393'><time timestamp='2016-05-27T13:32:00Z'>13:32</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
cfields_: pong
<br>
</div>

<div class='talk op-msg' data-timestamp='1464355920' id='470394'>
<a class='timestamp' href='#470394'><time timestamp='2016-05-27T13:32:00Z'>13:32</time></a>
&lt;<span class='nick nick-3'> cfields_</span>&gt;
jonasschnelli: ooh, that was quick :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1464355920' id='470395'>
<a class='timestamp' href='#470395'><time timestamp='2016-05-27T13:32:00Z'>13:32</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
latency?
<br>
</div>

<div class='talk op-msg' data-timestamp='1464355920' id='470396'>
<a class='timestamp' href='#470396'><time timestamp='2016-05-27T13:32:00Z'>13:32</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
:-)
<br>
</div>

<div class='talk op-msg' data-timestamp='1464355980' id='470397'>
<a class='timestamp' href='#470397'><time timestamp='2016-05-27T13:33:00Z'>13:33</time></a>
&lt;<span class='nick nick-3'> cfields_</span>&gt;
jonasschnelli: i&#x27;d be grateful if i could get a quick opinion on the qt part of the net refactor, when you have a few min to spare
<br>
</div>

<div class='talk op-msg' data-timestamp='1464355980' id='470398'>
<a class='timestamp' href='#470398'><time timestamp='2016-05-27T13:33:00Z'>13:33</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
cfields_: sure... is there a PR or a branch I can look at?
<br>
</div>

<div class='talk op-msg' data-timestamp='1464355980' id='470399'>
<a class='timestamp' href='#470399'><time timestamp='2016-05-27T13:33:00Z'>13:33</time></a>
&lt;<span class='nick nick-3'> cfields_</span>&gt;
jonasschnelli: for now, qt is using one global everywhere. That works for now, but it&#x27;s not ideal. I&#x27;m not sure where to start with passing it around properly
<br>
</div>

<div class='talk op-msg' data-timestamp='1464355980' id='470400'>
<a class='timestamp' href='#470400'><time timestamp='2016-05-27T13:33:00Z'>13:33</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
cfields_: clientmodel ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1464356040' id='470401'>
<a class='timestamp' href='#470401'><time timestamp='2016-05-27T13:34:00Z'>13:34</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and perhaps walletmodel
<br>
</div>

<div class='talk op-msg' data-timestamp='1464356040' id='470402'>
<a class='timestamp' href='#470402'><time timestamp='2016-05-27T13:34:00Z'>13:34</time></a>
&lt;<span class='nick nick-3'> cfields_</span>&gt;
sipa: that seemed too easy, i was hoping that&#x27;d be the answer :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1464356040' id='470403'>
<a class='timestamp' href='#470403'><time timestamp='2016-05-27T13:34:00Z'>13:34</time></a>
&lt;<span class='nick nick-3'> cfields_</span>&gt;
jonasschnelli: <a href="https://github.com/theuni/bitcoin/commits/net-refactor13" class="link" target="_blank">https://github.com/theuni/bitcoin/commits/net-refactor13</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1464356040' id='470404'>
<a class='timestamp' href='#470404'><time timestamp='2016-05-27T13:34:00Z'>13:34</time></a>
&lt;<span class='nick nick-12'> * jonasschnelli</span>&gt;
is looking at the code...
<br>
</div>

<div class='talk op-msg' data-timestamp='1464356040' id='470405'>
<a class='timestamp' href='#470405'><time timestamp='2016-05-27T13:34:00Z'>13:34</time></a>
&lt;<span class='nick nick-3'> cfields_</span>&gt;
jonasschnelli: <a href="https://github.com/theuni/bitcoin/commit/52b8c0758f0be0f0163b7f8c773f3fa5990e0ac5" class="link" target="_blank">https://github.com/theuni/bitcoin/commit/52b8c0758f0be0f0163b7f8c773f3fa5990e0ac5</a> as an example of how it was done for the wallet code
<br>
</div>

<div class='talk op-msg' data-timestamp='1464356100' id='470406'>
<a class='timestamp' href='#470406'><time timestamp='2016-05-27T13:35:00Z'>13:35</time></a>
&lt;<span class='nick nick-3'> cfields_</span>&gt;
(that&#x27;s no ideal, i discussed some potential future work with wumpus. I think you&#x27;ve previously discussed more of a pull model for broadcasting txs, this would fit in nicely with that)
<br>
</div>

<div class='talk op-msg' data-timestamp='1464356160' id='470407'>
<a class='timestamp' href='#470407'><time timestamp='2016-05-27T13:36:00Z'>13:36</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
cfields_: So, CConnman is the p2p abstraction from the wallet perspective?
<br>
</div>

<div class='talk op-msg' data-timestamp='1464356160' id='470408'>
<a class='timestamp' href='#470408'><time timestamp='2016-05-27T13:36:00Z'>13:36</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Ideally I&#x27;d like to see a node abstraction from the wallet perspective.
<br>
</div>

<div class='talk op-msg' data-timestamp='1464356160' id='470409'>
<a class='timestamp' href='#470409'><time timestamp='2016-05-27T13:36:00Z'>13:36</time></a>
&lt;<span class='nick nick-3'> cfields_</span>&gt;
jonasschnelli: yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1464356160' id='470410'>
<a class='timestamp' href='#470410'><time timestamp='2016-05-27T13:36:00Z'>13:36</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
like node-&gt;estimatefee, node-&gt;broadcastsomething, etc.
<br>
</div>

<div class='talk op-msg' data-timestamp='1464356160' id='470411'>
<a class='timestamp' href='#470411'><time timestamp='2016-05-27T13:36:00Z'>13:36</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
but your step seems right.
<br>
</div>

<div class='talk op-msg' data-timestamp='1464356160' id='470412'>
<a class='timestamp' href='#470412'><time timestamp='2016-05-27T13:36:00Z'>13:36</time></a>
&lt;<span class='nick nick-12'> * jonasschnelli</span>&gt;
is looking how we interact with that in the GUI part
<br>
</div>

<div class='talk op-msg' data-timestamp='1464356220' id='470413'>
<a class='timestamp' href='#470413'><time timestamp='2016-05-27T13:37:00Z'>13:37</time></a>
&lt;<span class='nick nick-3'> cfields_</span>&gt;
jonasschnelli: well, this takes care of the 2nd, but not the first. For ex, you may be running without networking, but still want to commit a tx for later broadcasting
<br>
</div>

<div class='talk op-msg' data-timestamp='1464356220' id='470414'>
<a class='timestamp' href='#470414'><time timestamp='2016-05-27T13:37:00Z'>13:37</time></a>
&lt;<span class='nick nick-3'> cfields_</span>&gt;
jonasschnelli: sec for an example there
<br>
</div>

<div class='talk op-msg' data-timestamp='1464356280' id='470415'>
<a class='timestamp' href='#470415'><time timestamp='2016-05-27T13:38:00Z'>13:38</time></a>
&lt;<span class='nick nick-3'> cfields_</span>&gt;
sipa: btw, I know I owe you some reviews/acks/PRs. Not forgotten.
<br>
</div>

<div class='talk op-msg' data-timestamp='1464356280' id='470416'>
<a class='timestamp' href='#470416'><time timestamp='2016-05-27T13:38:00Z'>13:38</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
cfields_: the GUI also uses wallet-&gt;CommitTransaction directly
<br>
</div>

<div class='talk op-msg' data-timestamp='1464356280' id='470417'>
<a class='timestamp' href='#470417'><time timestamp='2016-05-27T13:38:00Z'>13:38</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
walletmodel.cpp
<br>
</div>

<div class='talk op-msg' data-timestamp='1464356340' id='470418'>
<a class='timestamp' href='#470418'><time timestamp='2016-05-27T13:39:00Z'>13:39</time></a>
&lt;<span class='nick nick-3'> cfields_</span>&gt;
jonasschnelli: <a href="https://github.com/theuni/bitcoin/commit/1a39dd2c4c054bab1aa5fcfce4b2d0ef13d5a69f#diff-b2fd932827da713e319b8f797b7b3795" class="link" target="_blank">https://github.com/theuni/bitcoin/commit/1a39dd2c4c054bab1aa5fcfce4b2d0ef13d5a69f#diff-b2fd932827da713e319b8f797b7b3795</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1464356340' id='470419'>
<a class='timestamp' href='#470419'><time timestamp='2016-05-27T13:39:00Z'>13:39</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it should not!
<br>
</div>

<div class='talk op-msg' data-timestamp='1464356340' id='470420'>
<a class='timestamp' href='#470420'><time timestamp='2016-05-27T13:39:00Z'>13:39</time></a>
&lt;<span class='nick nick-3'> cfields_</span>&gt;
there&#x27;s a good simple example
<br>
</div>

<div class='talk op-msg' data-timestamp='1464356400' id='470421'>
<a class='timestamp' href='#470421'><time timestamp='2016-05-27T13:40:00Z'>13:40</time></a>
&lt;<span class='nick nick-3'> cfields_</span>&gt;
jonasschnelli: for now, I&#x27;m just using a global there because I&#x27;m not sure how to pass the instance properly. Should it be as sipa suggested, in clientmodel?
<br>
</div>

<div class='talk op-msg' data-timestamp='1464356400' id='470422'>
<a class='timestamp' href='#470422'><time timestamp='2016-05-27T13:40:00Z'>13:40</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
cfields_: looks good!
<br>
</div>

<div class='talk op-msg' data-timestamp='1464356400' id='470423'>
<a class='timestamp' href='#470423'><time timestamp='2016-05-27T13:40:00Z'>13:40</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
cfields_: none of the gui code should know anything core related, ideally
<br>
</div>

<div class='talk op-msg' data-timestamp='1464356400' id='470424'>
<a class='timestamp' href='#470424'><time timestamp='2016-05-27T13:40:00Z'>13:40</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
so certainly not about connman
<br>
</div>

<div class='talk op-msg' data-timestamp='1464356460' id='470425'>
<a class='timestamp' href='#470425'><time timestamp='2016-05-27T13:41:00Z'>13:41</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I think walletmodel is fine...
<br>
</div>

<div class='talk op-msg' data-timestamp='1464356460' id='470426'>
<a class='timestamp' href='#470426'><time timestamp='2016-05-27T13:41:00Z'>13:41</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
&quot;developers adding conman to bitcoin core&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1464356460' id='470427'>
<a class='timestamp' href='#470427'><time timestamp='2016-05-27T13:41:00Z'>13:41</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i think the connman connnnman
<br>
</div>

<div class='talk op-msg' data-timestamp='1464356520' id='470428'>
<a class='timestamp' href='#470428'><time timestamp='2016-05-27T13:42:00Z'>13:42</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
:P
<br>
</div>

<div class='talk op-msg' data-timestamp='1464356520' id='470429'>
<a class='timestamp' href='#470429'><time timestamp='2016-05-27T13:42:00Z'>13:42</time></a>
&lt;<span class='nick nick-3'> cfields_</span>&gt;
sipa: hmm, why not? It&#x27;s cleanly separated from the rest of bitcoin, and knows nothing of transactions/blocks/etc. Seems abstract enough for the gui to deal with directly?
<br>
</div>

<div class='talk op-msg' data-timestamp='1464356520' id='470430'>
<a class='timestamp' href='#470430'><time timestamp='2016-05-27T13:42:00Z'>13:42</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
cfields_: so right? the wallet does not keep track of the conman?
<br>
</div>

<div class='talk op-msg' data-timestamp='1464356520' id='470431'>
<a class='timestamp' href='#470431'><time timestamp='2016-05-27T13:42:00Z'>13:42</time></a>
&lt;<span class='nick nick-3'> cfields_</span>&gt;
sipa: or do you have in mind an abstraction layer on top of that?
<br>
</div>

<div class='talk op-msg' data-timestamp='1464356580' id='470432'>
<a class='timestamp' href='#470432'><time timestamp='2016-05-27T13:43:00Z'>13:43</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
the wallet object itself is not capable of broadcasting a transaction?
<br>
</div>

<div class='talk op-msg' data-timestamp='1464356640' id='470433'>
<a class='timestamp' href='#470433'><time timestamp='2016-05-27T13:44:00Z'>13:44</time></a>
&lt;<span class='nick nick-3'> cfields_</span>&gt;
jonasschnelli: for now, the wallet is passed an instance of connman. Ideally in the next refactor round, we&#x27;d switch to a pull model, where the application layer requests tx&#x27;s to be broadcast, and sends them to its connman instance
<br>
</div>

<div class='talk op-msg' data-timestamp='1464356640' id='470434'>
<a class='timestamp' href='#470434'><time timestamp='2016-05-27T13:44:00Z'>13:44</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
What about having some glue-code that abstracts the &quot;node&quot;. Chain could be &lt;core&gt;-&lt;connman&gt;-&lt;node-api&gt;-&lt;GUI/clientmodel&gt;-&lt;GUI/gui&gt;?
<br>
</div>

<div class='talk op-msg' data-timestamp='1464356700' id='470435'>
<a class='timestamp' href='#470435'><time timestamp='2016-05-27T13:45:00Z'>13:45</time></a>
&lt;<span class='nick nick-3'> cfields_</span>&gt;
cfields_: maybe the pull model ^^ is what you had in mind?
<br>
</div>

<div class='talk op-msg' data-timestamp='1464356760' id='470436'>
<a class='timestamp' href='#470436'><time timestamp='2016-05-27T13:46:00Z'>13:46</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
cfields_: g_connman is a global singleton?
<br>
</div>

<div class='talk op-msg' data-timestamp='1464356760' id='470437'>
<a class='timestamp' href='#470437'><time timestamp='2016-05-27T13:46:00Z'>13:46</time></a>
&lt;<span class='nick nick-3'> cfields_</span>&gt;
jonasschnelli: by node, you mean a remote peer like CNode? I&#x27;m not sure what you mean by that chain, really
<br>
</div>

<div class='talk op-msg' data-timestamp='1464356820' id='470438'>
<a class='timestamp' href='#470438'><time timestamp='2016-05-27T13:47:00Z'>13:47</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
ConnmanWrapperFactorySingleton.
<br>
</div>

<div class='talk op-msg' data-timestamp='1464356820' id='470439'>
<a class='timestamp' href='#470439'><time timestamp='2016-05-27T13:47:00Z'>13:47</time></a>
&lt;<span class='nick nick-3'> cfields_</span>&gt;
jonasschnelli: It&#x27;s a global now simply for convenience. The global needs to go away though, that&#x27;s the part I&#x27;m working on
<br>
</div>

<div class='talk op-msg' data-timestamp='1464356820' id='470440'>
<a class='timestamp' href='#470440'><time timestamp='2016-05-27T13:47:00Z'>13:47</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
cfields_: Sorry. Confusing. With &quot;node glue code&quot; I was not thinking of a CNode object,... with &quot;node glue code&quot; I was more thinking of a full-node abstraction that could expose &quot;boardcast&quot;, &quot;estimatefee&quot;, &quot;syncblocks&quot;, etc.
<br>
</div>

<div class='talk op-msg' data-timestamp='1464356880' id='470441'>
<a class='timestamp' href='#470441'><time timestamp='2016-05-27T13:48:00Z'>13:48</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
cfields_: maybe for now you access g_connman from clientmodel.cpp and broadcast from there?
<br>
</div>

<div class='talk op-msg' data-timestamp='1464356880' id='470442'>
<a class='timestamp' href='#470442'><time timestamp='2016-05-27T13:48:00Z'>13:48</time></a>
&lt;<span class='nick nick-3'> cfields_</span>&gt;
jonasschnelli: the global is used only in the qt code and rpc, simply because I haven&#x27;t done the work yet to pass the instance properly. It&#x27;s a temporary hack.
<br>
</div>

<div class='talk op-msg' data-timestamp='1464356880' id='470443'>
<a class='timestamp' href='#470443'><time timestamp='2016-05-27T13:48:00Z'>13:48</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Or an alternative solution would be to use g_connman from walletmodel.cpp
<br>
</div>

<div class='talk op-msg' data-timestamp='1464356940' id='470444'>
<a class='timestamp' href='#470444'><time timestamp='2016-05-27T13:49:00Z'>13:49</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Ideally the wallet should only share base classes and only talk to the core code over a single api (node-glue-code).
<br>
</div>

<div class='talk op-msg' data-timestamp='1464356940' id='470445'>
<a class='timestamp' href='#470445'><time timestamp='2016-05-27T13:49:00Z'>13:49</time></a>
&lt;<span class='nick nick-3'> cfields_</span>&gt;
ok, thanks. I&#x27;ll have a look at that.
<br>
</div>

<div class='talk op-msg' data-timestamp='1464356940' id='470446'>
<a class='timestamp' href='#470446'><time timestamp='2016-05-27T13:49:00Z'>13:49</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
the api/glue-code could then once be replaced with RPC/ZMQ or similar.
<br>
</div>

<div class='talk op-msg' data-timestamp='1464356940' id='470447'>
<a class='timestamp' href='#470447'><time timestamp='2016-05-27T13:49:00Z'>13:49</time></a>
&lt;<span class='nick nick-3'> cfields_</span>&gt;
jonasschnelli: yes, I see what you&#x27;re getting at
<br>
</div>

<div class='talk op-msg' data-timestamp='1464357000' id='470448'>
<a class='timestamp' href='#470448'><time timestamp='2016-05-27T13:50:00Z'>13:50</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
[15:47:01]  &lt;gmaxwell&gt;ConnmanWrapperFactorySingleton.
<br>
</div>

<div class='talk op-msg' data-timestamp='1464357000' id='470449'>
<a class='timestamp' href='#470449'><time timestamp='2016-05-27T13:50:00Z'>13:50</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
cfields_: why does the gui itself need to know anything about connman?
<br>
</div>

<div class='talk op-msg' data-timestamp='1464357000' id='470450'>
<a class='timestamp' href='#470450'><time timestamp='2016-05-27T13:50:00Z'>13:50</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
lol
<br>
</div>

<div class='talk op-msg' data-timestamp='1464357000' id='470451'>
<a class='timestamp' href='#470451'><time timestamp='2016-05-27T13:50:00Z'>13:50</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
cfields_: all interactions with it should already be going through clientmodel
<br>
</div>

<div class='talk op-msg' data-timestamp='1464357000' id='470452'>
<a class='timestamp' href='#470452'><time timestamp='2016-05-27T13:50:00Z'>13:50</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sipa: because there is no glue-code. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1464357000' id='470453'>
<a class='timestamp' href='#470453'><time timestamp='2016-05-27T13:50:00Z'>13:50</time></a>
&lt;<span class='nick nick-3'> cfields_</span>&gt;
sipa: i&#x27;m pretty sure the problem is simply that I have no idea how the gui code is structured
<br>
</div>

<div class='talk op-msg' data-timestamp='1464357060' id='470454'>
<a class='timestamp' href='#470454'><time timestamp='2016-05-27T13:51:00Z'>13:51</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
cfields_: the idea is that clientmodel &quot;talks&quot; to the core objects.
<br>
</div>

<div class='talk op-msg' data-timestamp='1464357060' id='470455'>
<a class='timestamp' href='#470455'><time timestamp='2016-05-27T13:51:00Z'>13:51</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
But IIRC there are many places where the GUI talks directly with a core object/instance.
<br>
</div>

<div class='talk op-msg' data-timestamp='1464357060' id='470456'>
<a class='timestamp' href='#470456'><time timestamp='2016-05-27T13:51:00Z'>13:51</time></a>
&lt;<span class='nick nick-3'> cfields_</span>&gt;
i see. So rather than using g_connman to ban a peer, it should be requesting that the clientmodel bans on its behalf?
<br>
</div>

<div class='talk op-msg' data-timestamp='1464357060' id='470457'>
<a class='timestamp' href='#470457'><time timestamp='2016-05-27T13:51:00Z'>13:51</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
cfields_: Yes!
<br>
</div>

<div class='talk op-msg' data-timestamp='1464357120' id='470458'>
<a class='timestamp' href='#470458'><time timestamp='2016-05-27T13:52:00Z'>13:52</time></a>
&lt;<span class='nick nick-3'> cfields_</span>&gt;
jonasschnelli: light bulb! That makes perfect sense. I should just be extending that, then.
<br>
</div>

<div class='talk op-msg' data-timestamp='1464357120' id='470459'>
<a class='timestamp' href='#470459'><time timestamp='2016-05-27T13:52:00Z'>13:52</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
cfields_: yes!
<br>
</div>

<div class='talk op-msg' data-timestamp='1464357180' id='470460'>
<a class='timestamp' href='#470460'><time timestamp='2016-05-27T13:53:00Z'>13:53</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
If all core interaction goes over clientmodel.cpp, we have great readability and good base for detaching possibilities.
<br>
</div>

<div class='talk op-msg' data-timestamp='1464357240' id='470461'>
<a class='timestamp' href='#470461'><time timestamp='2016-05-27T13:54:00Z'>13:54</time></a>
&lt;<span class='nick nick-3'> cfields_</span>&gt;
sipa: when you said &quot;clientmodel&quot;, i agreed because my plan was just to stuff a connman instance in there and call it as needed. I see now what you really meant.
<br>
</div>

<div class='talk op-msg' data-timestamp='1464357240' id='470462'>
<a class='timestamp' href='#470462'><time timestamp='2016-05-27T13:54:00Z'>13:54</time></a>
&lt;<span class='nick nick-3'> cfields_</span>&gt;
jonasschnelli: roger.
<br>
</div>

<div class='talk op-msg' data-timestamp='1464357240' id='470463'>
<a class='timestamp' href='#470463'><time timestamp='2016-05-27T13:54:00Z'>13:54</time></a>
&lt;<span class='nick nick-3'> cfields_</span>&gt;
sipa / jonasschnelli: thanks a bunch, that was very helpful.
<br>
</div>

<div class='talk op-msg' data-timestamp='1464357240' id='470464'>
<a class='timestamp' href='#470464'><time timestamp='2016-05-27T13:54:00Z'>13:54</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
np, thanks for asking
<br>
</div>

<div class='talk op-msg' data-timestamp='1464357300' id='470465'>
<a class='timestamp' href='#470465'><time timestamp='2016-05-27T13:55:00Z'>13:55</time></a>
&lt;<span class='nick nick-3'> cfields_</span>&gt;
jonasschnelli: could I convince you to allow the g_connman hack for now, with a plan to fix it up in a follow-up PR? I&#x27;m afraid it&#x27;ll never get merged if I try to get it all in the first go.
<br>
</div>

<div class='talk op-msg' data-timestamp='1464357300' id='470466'>
<a class='timestamp' href='#470466'><time timestamp='2016-05-27T13:55:00Z'>13:55</time></a>
&lt;<span class='nick nick-3'> cfields_</span>&gt;
(rpc needs to be dealt with similarly, and that will be less fun)
<br>
</div>

<div class='talk op-msg' data-timestamp='1464357420' id='470467'>
<a class='timestamp' href='#470467'><time timestamp='2016-05-27T13:57:00Z'>13:57</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i think keeping a global initially is fine
<br>
</div>

<div class='talk op-msg' data-timestamp='1464357480' id='470468'>
<a class='timestamp' href='#470468'><time timestamp='2016-05-27T13:58:00Z'>13:58</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Yes. IMO there are no multiple connman&#x27;s possible for now? If so, then I don&#x27;t see a reason to make it <u>_not_</u> global.
<br>
</div>

<div class='talk op-msg' data-timestamp='1464357540' id='470469'>
<a class='timestamp' href='#470469'><time timestamp='2016-05-27T13:59:00Z'>13:59</time></a>
&lt;<span class='nick nick-3'> cfields_</span>&gt;
jonasschnelli: yes, it was written with the intention of using multiple connmans in the future
<br>
</div>

<div class='talk op-msg' data-timestamp='1464357540' id='470470'>
<a class='timestamp' href='#470470'><time timestamp='2016-05-27T13:59:00Z'>13:59</time></a>
&lt;<span class='nick nick-3'> cfields_</span>&gt;
though obviously we only have 1 now
<br>
</div>

<div class='talk op-msg' data-timestamp='1464357540' id='470471'>
<a class='timestamp' href='#470471'><time timestamp='2016-05-27T13:59:00Z'>13:59</time></a>
&lt;<span class='nick nick-3'> cfields_</span>&gt;
s/using/being able to use/
<br>
</div>

<div class='talk op-msg' data-timestamp='1464357540' id='470472'>
<a class='timestamp' href='#470472'><time timestamp='2016-05-27T13:59:00Z'>13:59</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
cfields_: maybe later with have a global conmanMan. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1464357540' id='470473'>
<a class='timestamp' href='#470473'><time timestamp='2016-05-27T13:59:00Z'>13:59</time></a>
&lt;<span class='nick nick-3'> cfields_</span>&gt;
haha
<br>
</div>

<div class='talk op-msg' data-timestamp='1464357600' id='470474'>
<a class='timestamp' href='#470474'><time timestamp='2016-05-27T14:00:00Z'>14:00</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
abstractconmanfactory
<br>
</div>

<div class='talk op-msg' data-timestamp='1464357720' id='470475'>
<a class='timestamp' href='#470475'><time timestamp='2016-05-27T14:02:00Z'>14:02</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
BBC, is that you?
<br>
</div>

<div class='talk op-msg' data-timestamp='1464358560' id='470476'>
<a class='timestamp' href='#470476'><time timestamp='2016-05-27T14:16:00Z'>14:16</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
?
<br>
</div>

<div class='talk op-msg' data-timestamp='1464358560' id='470477'>
<a class='timestamp' href='#470477'><time timestamp='2016-05-27T14:16:00Z'>14:16</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
sipa doesn&#x27;t catch anything but pure tech puns, sorry 
<br>
</div>

<div class='talk op-msg' data-timestamp='1464358620' id='470478'>
<a class='timestamp' href='#470478'><time timestamp='2016-05-27T14:17:00Z'>14:17</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
ugh @ calling part of Core by a well-known OS component?
<br>
</div>

<div class='talk op-msg' data-timestamp='1464359640' id='470479'>
<a class='timestamp' href='#470479'><time timestamp='2016-05-27T14:34:00Z'>14:34</time></a>
&lt;<span class='nick nick-1'> GitHub122</span>&gt;
[bitcoin] CodeShark closed pull request #8101: Disable mining on nonrelease branches. (master...disable_mining_on_nonrelease_branches) <a href="https://github.com/bitcoin/bitcoin/pull/8101" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8101</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1464359880' id='470480'>
<a class='timestamp' href='#470480'><time timestamp='2016-05-27T14:38:00Z'>14:38</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
luke-jr: ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1464359880' id='470481'>
<a class='timestamp' href='#470481'><time timestamp='2016-05-27T14:38:00Z'>14:38</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
sipa: connman
<br>
</div>

<div class='talk op-msg' data-timestamp='1464359880' id='470482'>
<a class='timestamp' href='#470482'><time timestamp='2016-05-27T14:38:00Z'>14:38</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
<a href="https://01.org/connman" class="link" target="_blank">https://01.org/connman</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1464360360' id='470483'>
<a class='timestamp' href='#470483'><time timestamp='2016-05-27T14:46:00Z'>14:46</time></a>
&lt;<span class='nick nick-3'> cfields_</span>&gt;
luke-jr: it&#x27;s CConnman :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1464360420' id='470484'>
<a class='timestamp' href='#470484'><time timestamp='2016-05-27T14:47:00Z'>14:47</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
&gt;_&lt;
<br>
</div>

<div class='talk op-msg' data-timestamp='1464360480' id='470485'>
<a class='timestamp' href='#470485'><time timestamp='2016-05-27T14:48:00Z'>14:48</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
more importantly: I can still build without glib, right? &lt;.&lt;
<br>
</div>

<div class='talk op-msg' data-timestamp='1464360480' id='470486'>
<a class='timestamp' href='#470486'><time timestamp='2016-05-27T14:48:00Z'>14:48</time></a>
&lt;<span class='nick nick-3'> cfields_</span>&gt;
heh, yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1464361260' id='470487'>
<a class='timestamp' href='#470487'><time timestamp='2016-05-27T15:01:00Z'>15:01</time></a>
&lt;<span class='nick nick-11'> ebfull</span>&gt;
sipa: at the moment we&#x27;re stuck with old libsecp256k1 code (from before 0.12 where it was updated from upstream and enabled for verification)
<br>
</div>

<div class='talk op-msg' data-timestamp='1464361260' id='470488'>
<a class='timestamp' href='#470488'><time timestamp='2016-05-27T15:01:00Z'>15:01</time></a>
&lt;<span class='nick nick-11'> ebfull</span>&gt;
did that code support verification of compact signatures?
<br>
</div>

<div class='talk op-msg' data-timestamp='1464361260' id='470489'>
<a class='timestamp' href='#470489'><time timestamp='2016-05-27T15:01:00Z'>15:01</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
ebfull: yes. it does
<br>
</div>

<div class='talk op-msg' data-timestamp='1464361320' id='470490'>
<a class='timestamp' href='#470490'><time timestamp='2016-05-27T15:02:00Z'>15:02</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
ebfull: use secp256k1_ecdsa_verify
<br>
</div>

<div class='talk op-msg' data-timestamp='1464361320' id='470491'>
<a class='timestamp' href='#470491'><time timestamp='2016-05-27T15:02:00Z'>15:02</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
ebfull: the signatures are in a struct called secp256k1_ecdsa_signature
<br>
</div>

<div class='talk op-msg' data-timestamp='1464361380' id='470492'>
<a class='timestamp' href='#470492'><time timestamp='2016-05-27T15:03:00Z'>15:03</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
you can &quot;fill it up&quot; with a compact signature over secp256k1_ecdsa_signature_parse_compact
<br>
</div>

<div class='talk op-msg' data-timestamp='1464361380' id='470493'>
<a class='timestamp' href='#470493'><time timestamp='2016-05-27T15:03:00Z'>15:03</time></a>
&lt;<span class='nick nick-11'> ebfull</span>&gt;
this was before `secp256k1_ecdsa_signature` was introduced
<br>
</div>

<div class='talk op-msg' data-timestamp='1464361380' id='470494'>
<a class='timestamp' href='#470494'><time timestamp='2016-05-27T15:03:00Z'>15:03</time></a>
&lt;<span class='nick nick-11'> ebfull</span>&gt;
as far as i can tell
<br>
</div>

<div class='talk op-msg' data-timestamp='1464361380' id='470495'>
<a class='timestamp' href='#470495'><time timestamp='2016-05-27T15:03:00Z'>15:03</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
or with a def: secp256k1_ecdsa_signature_parse_der
<br>
</div>

<div class='talk op-msg' data-timestamp='1464361380' id='470496'>
<a class='timestamp' href='#470496'><time timestamp='2016-05-27T15:03:00Z'>15:03</time></a>
&lt;<span class='nick nick-11'> ebfull</span>&gt;
at least in the exposed api
<br>
</div>

<div class='talk op-msg' data-timestamp='1464361380' id='470497'>
<a class='timestamp' href='#470497'><time timestamp='2016-05-27T15:03:00Z'>15:03</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
s/def/DER
<br>
</div>

<div class='talk op-msg' data-timestamp='1464361440' id='470498'>
<a class='timestamp' href='#470498'><time timestamp='2016-05-27T15:04:00Z'>15:04</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Not sure what version you use... but it is like this since ~6month.
<br>
</div>

<div class='talk op-msg' data-timestamp='1464361440' id='470499'>
<a class='timestamp' href='#470499'><time timestamp='2016-05-27T15:04:00Z'>15:04</time></a>
&lt;<span class='nick nick-11'> ebfull</span>&gt;
yeah, from before that :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1464361440' id='470500'>
<a class='timestamp' href='#470500'><time timestamp='2016-05-27T15:04:00Z'>15:04</time></a>
&lt;<span class='nick nick-11'> ebfull</span>&gt;
secp256k1_ecdsa_verify doesn&#x27;t appear to parse the compact signatures unless my code is wrong
<br>
</div>

<div class='talk op-msg' data-timestamp='1464361620' id='470501'>
<a class='timestamp' href='#470501'><time timestamp='2016-05-27T15:07:00Z'>15:07</time></a>
&lt;<span class='nick nick-11'> ebfull</span>&gt;
or maybe it requires a version byte at the beginning :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1464361920' id='470502'>
<a class='timestamp' href='#470502'><time timestamp='2016-05-27T15:12:00Z'>15:12</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ebfull: of course it does support it
<br>
</div>

<div class='talk op-msg' data-timestamp='1464361980' id='470503'>
<a class='timestamp' href='#470503'><time timestamp='2016-05-27T15:13:00Z'>15:13</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ebfull: it&#x27;s used for signature verification
<br>
</div>

<div class='talk op-msg' data-timestamp='1464362580' id='470504'>
<a class='timestamp' href='#470504'><time timestamp='2016-05-27T15:23:00Z'>15:23</time></a>
&lt;<span class='nick nick-11'> ebfull</span>&gt;
sipa: maybe i&#x27;m using the wrong terminology. in the old code, secp256k1_ecdsa_sign_compact produces a 64-byte (r, s), which secp256k1_ecdsa_sig_parse (as used by secp256k1_ecdsa_verify) does not appear to parse
<br>
</div>

<div class='talk op-msg' data-timestamp='1464362640' id='470505'>
<a class='timestamp' href='#470505'><time timestamp='2016-05-27T15:24:00Z'>15:24</time></a>
&lt;<span class='nick nick-11'> ebfull</span>&gt;
i can see how to use the new api to do it, but not the old api
<br>
</div>

<div class='talk op-msg' data-timestamp='1464362760' id='470506'>
<a class='timestamp' href='#470506'><time timestamp='2016-05-27T15:26:00Z'>15:26</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ebfull: 0.12 used libsecp for message signature validation, which used compact format
<br>
</div>

<div class='talk op-msg' data-timestamp='1464362760' id='470507'>
<a class='timestamp' href='#470507'><time timestamp='2016-05-27T15:26:00Z'>15:26</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
so just look up how that worked
<br>
</div>

<div class='talk op-msg' data-timestamp='1464362760' id='470508'>
<a class='timestamp' href='#470508'><time timestamp='2016-05-27T15:26:00Z'>15:26</time></a>
&lt;<span class='nick nick-11'> ebfull</span>&gt;
we&#x27;re using the libsecp from before that :(
<br>
</div>

<div class='talk op-msg' data-timestamp='1464362760' id='470509'>
<a class='timestamp' href='#470509'><time timestamp='2016-05-27T15:26:00Z'>15:26</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
oh
<br>
</div>

<div class='talk op-msg' data-timestamp='1464362760' id='470510'>
<a class='timestamp' href='#470510'><time timestamp='2016-05-27T15:26:00Z'>15:26</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
well, update it
<br>
</div>

<div class='talk op-msg' data-timestamp='1464362760' id='470511'>
<a class='timestamp' href='#470511'><time timestamp='2016-05-27T15:26:00Z'>15:26</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
we fixed bugs
<br>
</div>

<div class='talk op-msg' data-timestamp='1464362820' id='470512'>
<a class='timestamp' href='#470512'><time timestamp='2016-05-27T15:27:00Z'>15:27</time></a>
&lt;<span class='nick nick-11'> ebfull</span>&gt;
i&#x27;ll have to explore the feasibility of that
<br>
</div>

<div class='talk op-msg' data-timestamp='1464362940' id='470513'>
<a class='timestamp' href='#470513'><time timestamp='2016-05-27T15:29:00Z'>15:29</time></a>
&lt;<span class='nick nick-11'> ebfull</span>&gt;
last time i looked into it i had a rough time following the trail of github UI bugs in the pull requests involved
<br>
</div>

<div class='talk op-msg' data-timestamp='1464363720' id='470514'>
<a class='timestamp' href='#470514'><time timestamp='2016-05-27T15:42:00Z'>15:42</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
sipa: After generating script_tests.json.gen do you need to manually copy it over to data/script_tests.json?
<br>
</div>

<div class='talk op-msg' data-timestamp='1464364320' id='470515'>
<a class='timestamp' href='#470515'><time timestamp='2016-05-27T15:52:00Z'>15:52</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yup
<br>
</div>

<div class='talk op-msg' data-timestamp='1464364380' id='470516'>
<a class='timestamp' href='#470516'><time timestamp='2016-05-27T15:53:00Z'>15:53</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ebfull: meh, just copy it over
<br>
</div>

<div class='talk op-msg' data-timestamp='1464364560' id='470517'>
<a class='timestamp' href='#470517'><time timestamp='2016-05-27T15:56:00Z'>15:56</time></a>
&lt;<span class='nick nick-11'> ebfull</span>&gt;
at that point i think it&#x27;s probably way easier for us to use ed25519 for what we&#x27;re implementing anyway
<br>
</div>

<div class='talk op-msg' data-timestamp='1464375060' id='470518'>
<a class='timestamp' href='#470518'><time timestamp='2016-05-27T18:51:00Z'>18:51</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
lol bitcoin core under valgrind is an absolute shitshow now
<br>
</div>

<div class='talk op-msg' data-timestamp='1464375120' id='470519'>
<a class='timestamp' href='#470519'><time timestamp='2016-05-27T18:52:00Z'>18:52</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
I turn around and two minutes later valgrind is all like &quot;More than 1000 different errors detected. Go fix your program!&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1464375120' id='470520'>
<a class='timestamp' href='#470520'><time timestamp='2016-05-27T18:52:00Z'>18:52</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ouch :(
<br>
</div>

<div class='talk op-msg' data-timestamp='1464375120' id='470521'>
<a class='timestamp' href='#470521'><time timestamp='2016-05-27T18:52:00Z'>18:52</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i haven&#x27;t run valgrind in a while
<br>
</div>

<div class='talk op-msg' data-timestamp='1464375120' id='470522'>
<a class='timestamp' href='#470522'><time timestamp='2016-05-27T18:52:00Z'>18:52</time></a>
&lt;<span class='nick nick-16'> Lightsword</span>&gt;
memory leaks everywhere?
<br>
</div>

<div class='talk op-msg' data-timestamp='1464375180' id='470523'>
<a class='timestamp' href='#470523'><time timestamp='2016-05-27T18:53:00Z'>18:53</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
uninitialized values everywhere
<br>
</div>

<div class='talk op-msg' data-timestamp='1464375180' id='470524'>
<a class='timestamp' href='#470524'><time timestamp='2016-05-27T18:53:00Z'>18:53</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
its actually probably just C++11 confusing valgrind
<br>
</div>

<div class='talk op-msg' data-timestamp='1464375180' id='470525'>
<a class='timestamp' href='#470525'><time timestamp='2016-05-27T18:53:00Z'>18:53</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
I tried pre-cpp11 and had a similar number of complaints
<br>
</div>

<div class='talk op-msg' data-timestamp='1464375240' id='470526'>
<a class='timestamp' href='#470526'><time timestamp='2016-05-27T18:54:00Z'>18:54</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
ouch
<br>
</div>

<div class='talk op-msg' data-timestamp='1464375240' id='470527'>
<a class='timestamp' href='#470527'><time timestamp='2016-05-27T18:54:00Z'>18:54</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
sipa: also lots from secp
<br>
</div>

<div class='talk op-msg' data-timestamp='1464377340' id='470528'>
<a class='timestamp' href='#470528'><time timestamp='2016-05-27T19:29:00Z'>19:29</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
lolnvm
<br>
</div>

<div class='talk op-msg' data-timestamp='1464377340' id='470529'>
<a class='timestamp' href='#470529'><time timestamp='2016-05-27T19:29:00Z'>19:29</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
just make random not use openssl and literally every single warning goes away
<br>
</div>

<div class='talk op-msg' data-timestamp='1464377400' id='470530'>
<a class='timestamp' href='#470530'><time timestamp='2016-05-27T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-3'> cfields_</span>&gt;
BlueMatt: there&#x27;s a build-switch for openssl
<br>
</div>

<div class='talk op-msg' data-timestamp='1464377460' id='470531'>
<a class='timestamp' href='#470531'><time timestamp='2016-05-27T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-3'> cfields_</span>&gt;
BlueMatt: it seeds with uninit data by default
<br>
</div>

<div class='talk op-msg' data-timestamp='1464377460' id='470532'>
<a class='timestamp' href='#470532'><time timestamp='2016-05-27T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
cfields_: yes, I would have to rebuild openssl for that
<br>
</div>

<div class='talk op-msg' data-timestamp='1464377460' id='470533'>
<a class='timestamp' href='#470533'><time timestamp='2016-05-27T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
cfields_: its impressive how far some of the errors go, though....everything anywhere that is seeded with random values, so you get lots of shit in ccoins/mempool/bloom/etc
<br>
</div>

<div class='talk op-msg' data-timestamp='1464377520' id='470534'>
<a class='timestamp' href='#470534'><time timestamp='2016-05-27T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-3'> cfields_</span>&gt;
heh
<br>
</div>

<div class='talk op-msg' data-timestamp='1464377520' id='470535'>
<a class='timestamp' href='#470535'><time timestamp='2016-05-27T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-3'> cfields_</span>&gt;
boost tends to piss off sanitizing tools as well
<br>
</div>

<div class='talk op-msg' data-timestamp='1464377580' id='470536'>
<a class='timestamp' href='#470536'><time timestamp='2016-05-27T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
havent seen anything blow up except on shutdown yet
<br>
</div>

<div class='talk op-msg' data-timestamp='1464382800' id='470537'>
<a class='timestamp' href='#470537'><time timestamp='2016-05-27T21:00:00Z'>21:00</time></a>
&lt;<span class='nick nick-4'> kanzure</span>&gt;
&quot;Multi-party channels&quot; <a href="https://lists.linuxfoundation.org/pipermail/lightning-dev/2016-May/000543.html" class="link" target="_blank">https://lists.linuxfoundation.org/pipermail/lightning-dev/2016-May/000543.html</a>
<br>
</div>

</div>
</section>

</body>
</html>
