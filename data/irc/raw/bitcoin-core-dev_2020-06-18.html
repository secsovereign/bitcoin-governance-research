<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2020-06-18
 — 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2020-06-18' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:18 UTC</pre>
<pre><a href="/bitcoin-core-dev/2020-05-18">&lt;</a><span class='header'>    June 2020     </span><a href="/bitcoin-core-dev/2020-07-18">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;    <a class="" href="/bitcoin-core-dev/2020-06-01">1</a>  <a class="" href="/bitcoin-core-dev/2020-06-02">2</a>  <a class="" href="/bitcoin-core-dev/2020-06-03">3</a>  <a class="" href="/bitcoin-core-dev/2020-06-04">4</a>  <a class="" href="/bitcoin-core-dev/2020-06-05">5</a>  <a class="" href="/bitcoin-core-dev/2020-06-06">6</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2020-06-07">7</a>  <a class="" href="/bitcoin-core-dev/2020-06-08">8</a>  <a class="" href="/bitcoin-core-dev/2020-06-09">9</a> <a class="" href="/bitcoin-core-dev/2020-06-10">10</a> <a class="" href="/bitcoin-core-dev/2020-06-11">11</a> <a class="" href="/bitcoin-core-dev/2020-06-12">12</a> <a class="" href="/bitcoin-core-dev/2020-06-13">13</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2020-06-14">14</a> <a class="" href="/bitcoin-core-dev/2020-06-15">15</a> <a class="" href="/bitcoin-core-dev/2020-06-16">16</a> <a class="" href="/bitcoin-core-dev/2020-06-17">17</a> <a class="current" href="/bitcoin-core-dev/2020-06-18">18</a> <a class="" href="/bitcoin-core-dev/2020-06-19">19</a> <a class="" href="/bitcoin-core-dev/2020-06-20">20</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2020-06-21">21</a> <a class="" href="/bitcoin-core-dev/2020-06-22">22</a> <a class="" href="/bitcoin-core-dev/2020-06-23">23</a> <a class="" href="/bitcoin-core-dev/2020-06-24">24</a> <a class="" href="/bitcoin-core-dev/2020-06-25">25</a> <a class="" href="/bitcoin-core-dev/2020-06-26">26</a> <a class="" href="/bitcoin-core-dev/2020-06-27">27</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2020-06-28">28</a> <a class="" href="/bitcoin-core-dev/2020-06-29">29</a> <a class="" href="/bitcoin-core-dev/2020-06-30">30</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1592443140' id='392649'>
<a class='timestamp' href='#392649'><time timestamp='2020-06-18T01:19:00Z'>01:19</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
hebasto: is their a motivation for replacing recursivemutex with mutex?
<br>
</div>

<div class='talk op-msg' data-timestamp='1592443140' id='392650'>
<a class='timestamp' href='#392650'><time timestamp='2020-06-18T01:19:00Z'>01:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
recursive mutexes are evil
<br>
</div>

<div class='talk op-msg' data-timestamp='1592443200' id='392651'>
<a class='timestamp' href='#392651'><time timestamp='2020-06-18T01:20:00Z'>01:20</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
mutices?
<br>
</div>

<div class='talk op-msg' data-timestamp='1592443260' id='392652'>
<a class='timestamp' href='#392652'><time timestamp='2020-06-18T01:21:00Z'>01:21</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
(context #19306)
<br>
</div>

<div class='talk op-msg' data-timestamp='1592443260' id='392653'>
<a class='timestamp' href='#392653'><time timestamp='2020-06-18T01:21:00Z'>01:21</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/19306" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/19306</a> | refactor: Replace RecursiveMutex with Mutex in CTxMemPool by hebasto · Pull Request #19306 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1592443260' id='392654'>
<a class='timestamp' href='#392654'><time timestamp='2020-06-18T01:21:00Z'>01:21</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
there is probably a place for them, like goto
<br>
</div>

<div class='talk op-msg' data-timestamp='1592443260' id='392655'>
<a class='timestamp' href='#392655'><time timestamp='2020-06-18T01:21:00Z'>01:21</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but almost always, they just lead to badly designed abstractions
<br>
</div>

<div class='talk op-msg' data-timestamp='1592443320' id='392656'>
<a class='timestamp' href='#392656'><time timestamp='2020-06-18T01:22:00Z'>01:22</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
a clear design should have code that operates outside the critical section, and code that operates inside
<br>
</div>

<div class='talk op-msg' data-timestamp='1592443320' id='392657'>
<a class='timestamp' href='#392657'><time timestamp='2020-06-18T01:22:00Z'>01:22</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but not code that works in both
<br>
</div>

<div class='talk op-msg' data-timestamp='1592443320' id='392658'>
<a class='timestamp' href='#392658'><time timestamp='2020-06-18T01:22:00Z'>01:22</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
my impression is that the usual better approach is to have Foo() which calls Foo_locked(), and callers who already hold the mutex can call the latter directly
<br>
</div>

<div class='talk op-msg' data-timestamp='1592443320' id='392659'>
<a class='timestamp' href='#392659'><time timestamp='2020-06-18T01:22:00Z'>01:22</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
indeed
<br>
</div>

<div class='talk op-msg' data-timestamp='1592443380' id='392660'>
<a class='timestamp' href='#392660'><time timestamp='2020-06-18T01:23:00Z'>01:23</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
I agree with this in general, but am trying to understand the specific issues we&#x27;re solving in the mempool  rather than general API design
<br>
</div>

<div class='talk op-msg' data-timestamp='1592443380' id='392661'>
<a class='timestamp' href='#392661'><time timestamp='2020-06-18T01:23:00Z'>01:23</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
It seems to get rid of recursive mutex in favor of our own implementation of it
<br>
</div>

<div class='talk op-msg' data-timestamp='1592443380' id='392662'>
<a class='timestamp' href='#392662'><time timestamp='2020-06-18T01:23:00Z'>01:23</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
which seems worse
<br>
</div>

<div class='talk op-msg' data-timestamp='1592443380' id='392663'>
<a class='timestamp' href='#392663'><time timestamp='2020-06-18T01:23:00Z'>01:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
oh
<br>
</div>

<div class='talk op-msg' data-timestamp='1592443380' id='392664'>
<a class='timestamp' href='#392664'><time timestamp='2020-06-18T01:23:00Z'>01:23</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
So I&#x27;m trying to understand hebasto&#x27;s motive in the PR to be able to provide constructive feedback :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1592443380' id='392665'>
<a class='timestamp' href='#392665'><time timestamp='2020-06-18T01:23:00Z'>01:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i have not looked at the code
<br>
</div>

<div class='talk op-msg' data-timestamp='1592443440' id='392666'>
<a class='timestamp' href='#392666'><time timestamp='2020-06-18T01:24:00Z'>01:24</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
eh, i agree - that change isn&#x27;t a step in the right direction
<br>
</div>

<div class='talk op-msg' data-timestamp='1592443740' id='392667'>
<a class='timestamp' href='#392667'><time timestamp='2020-06-18T01:29:00Z'>01:29</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] andrewtoth closed pull request #18941: validation: Persist coins cache to disk and load on startup (master...persist-coinscache) <a href="https://github.com/bitcoin/bitcoin/pull/18941" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/18941</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1592443980' id='392668'>
<a class='timestamp' href='#392668'><time timestamp='2020-06-18T01:33:00Z'>01:33</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
sipa: recursive mutexes just guarantees that &lt;this&gt; code always operates inside, no matter the scope of the lock
<br>
</div>

<div class='talk op-msg' data-timestamp='1592444040' id='392669'>
<a class='timestamp' href='#392669'><time timestamp='2020-06-18T01:34:00Z'>01:34</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
gwillen: what good is adding a wrapper for every method that just takes a lock before calling the real one?
<br>
</div>

<div class='talk op-msg' data-timestamp='1592444100' id='392670'>
<a class='timestamp' href='#392670'><time timestamp='2020-06-18T01:35:00Z'>01:35</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
luke-jr: making the separation between inside/outside critical section clear
<br>
</div>

<div class='talk op-msg' data-timestamp='1592444100' id='392671'>
<a class='timestamp' href='#392671'><time timestamp='2020-06-18T01:35:00Z'>01:35</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
I think recursive mutexs and lock annotations have a slight redundancy 
<br>
</div>

<div class='talk op-msg' data-timestamp='1592444100' id='392672'>
<a class='timestamp' href='#392672'><time timestamp='2020-06-18T01:35:00Z'>01:35</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
run time v.s. compile time lock checking
<br>
</div>

<div class='talk op-msg' data-timestamp='1592444100' id='392673'>
<a class='timestamp' href='#392673'><time timestamp='2020-06-18T01:35:00Z'>01:35</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
run time should be strictly more flexible, but also permits some undesirable behaviors 
<br>
</div>

<div class='talk op-msg' data-timestamp='1592444100' id='392674'>
<a class='timestamp' href='#392674'><time timestamp='2020-06-18T01:35:00Z'>01:35</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
(non-recursive mutexes are also slightly more efficient, but not enough to justify changing things just because of that imo)
<br>
</div>

<div class='talk op-msg' data-timestamp='1592444100' id='392675'>
<a class='timestamp' href='#392675'><time timestamp='2020-06-18T01:35:00Z'>01:35</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
luke-jr: recursive mutexes are often used when people want to call the same method while sometimes holding the lock it wants, and sometimes not
<br>
</div>

<div class='talk op-msg' data-timestamp='1592444160' id='392676'>
<a class='timestamp' href='#392676'><time timestamp='2020-06-18T01:36:00Z'>01:36</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
a better approach is to have two methods, and have them call the correct one
<br>
</div>

<div class='talk op-msg' data-timestamp='1592444160' id='392677'>
<a class='timestamp' href='#392677'><time timestamp='2020-06-18T01:36:00Z'>01:36</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
sure, the lock annotations are a reasonable alternative to recursive mutex - but I don&#x27;t think a wrapper for every method just to add a lock is reasonable
<br>
</div>

<div class='talk op-msg' data-timestamp='1592444160' id='392678'>
<a class='timestamp' href='#392678'><time timestamp='2020-06-18T01:36:00Z'>01:36</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
luke-jr: most methods are only called in one context
<br>
</div>

<div class='talk op-msg' data-timestamp='1592444160' id='392679'>
<a class='timestamp' href='#392679'><time timestamp='2020-06-18T01:36:00Z'>01:36</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
sipa: not all though
<br>
</div>

<div class='talk op-msg' data-timestamp='1592444160' id='392680'>
<a class='timestamp' href='#392680'><time timestamp='2020-06-18T01:36:00Z'>01:36</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
fwiw, addrman has this design
<br>
</div>

<div class='talk op-msg' data-timestamp='1592444160' id='392681'>
<a class='timestamp' href='#392681'><time timestamp='2020-06-18T01:36:00Z'>01:36</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
right, the point is that you only need a wrapper for methods which are called in both contexts, not every method
<br>
</div>

<div class='talk op-msg' data-timestamp='1592444160' id='392682'>
<a class='timestamp' href='#392682'><time timestamp='2020-06-18T01:36:00Z'>01:36</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it has all code running inside the cs in the .cpp file
<br>
</div>

<div class='talk op-msg' data-timestamp='1592444220' id='392683'>
<a class='timestamp' href='#392683'><time timestamp='2020-06-18T01:37:00Z'>01:37</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
gwillen: some abstractions would have it for most methods
<br>
</div>

<div class='talk op-msg' data-timestamp='1592444220' id='392684'>
<a class='timestamp' href='#392684'><time timestamp='2020-06-18T01:37:00Z'>01:37</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
it is relatively rare (and probably sometimes a code smell) to need this
<br>
</div>

<div class='talk op-msg' data-timestamp='1592444220' id='392685'>
<a class='timestamp' href='#392685'><time timestamp='2020-06-18T01:37:00Z'>01:37</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and then all publicly accessible code grabs the lock, and calls the internals
<br>
</div>

<div class='talk op-msg' data-timestamp='1592444220' id='392686'>
<a class='timestamp' href='#392686'><time timestamp='2020-06-18T01:37:00Z'>01:37</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
but if you do need it, having two methods is better than using recursive mutexes, the existence of which is a mistake
<br>
</div>

<div class='talk op-msg' data-timestamp='1592444280' id='392687'>
<a class='timestamp' href='#392687'><time timestamp='2020-06-18T01:38:00Z'>01:38</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
(instead of having two methods, you can also take a parameter indicating whether the lock is held or not, which is how some of the code under discussion does it, but I disprefer that approach)
<br>
</div>

<div class='talk op-msg' data-timestamp='1592444280' id='392688'>
<a class='timestamp' href='#392688'><time timestamp='2020-06-18T01:38:00Z'>01:38</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
the benefit of annotations is that you force the caller to be aware it&#x27;s using a lock
<br>
</div>

<div class='talk op-msg' data-timestamp='1592444280' id='392689'>
<a class='timestamp' href='#392689'><time timestamp='2020-06-18T01:38:00Z'>01:38</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
you lose that with wrappers
<br>
</div>

<div class='talk op-msg' data-timestamp='1592444280' id='392690'>
<a class='timestamp' href='#392690'><time timestamp='2020-06-18T01:38:00Z'>01:38</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
Everyone enjoy your evenings ;) 
<br>
</div>

<div class='talk op-msg' data-timestamp='1592444280' id='392691'>
<a class='timestamp' href='#392691'><time timestamp='2020-06-18T01:38:00Z'>01:38</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gwillen: agree
<br>
</div>

<div class='talk op-msg' data-timestamp='1592444280' id='392692'>
<a class='timestamp' href='#392692'><time timestamp='2020-06-18T01:38:00Z'>01:38</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
wrappers and annotations are not mutually exclusive, you should definitely still use annotations
<br>
</div>

<div class='talk op-msg' data-timestamp='1592444280' id='392693'>
<a class='timestamp' href='#392693'><time timestamp='2020-06-18T01:38:00Z'>01:38</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
you can&#x27;t use annotations with a wrapper..
<br>
</div>

<div class='talk op-msg' data-timestamp='1592444280' id='392694'>
<a class='timestamp' href='#392694'><time timestamp='2020-06-18T01:38:00Z'>01:38</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
luke-jr: huh?
<br>
</div>

<div class='talk op-msg' data-timestamp='1592444280' id='392695'>
<a class='timestamp' href='#392695'><time timestamp='2020-06-18T01:38:00Z'>01:38</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
(unless it&#x27;s a recursive mutex)
<br>
</div>

<div class='talk op-msg' data-timestamp='1592444340' id='392696'>
<a class='timestamp' href='#392696'><time timestamp='2020-06-18T01:39:00Z'>01:39</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
I didn&#x27;t realize this would be such a <b>*contentious*</b> topic
<br>
</div>

<div class='talk op-msg' data-timestamp='1592444340' id='392697'>
<a class='timestamp' href='#392697'><time timestamp='2020-06-18T01:39:00Z'>01:39</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
you&#x27;d have the internal function annotated with require_lock, and and the wrapper with a lock_excluded annotation
<br>
</div>

<div class='talk op-msg' data-timestamp='1592444340' id='392698'>
<a class='timestamp' href='#392698'><time timestamp='2020-06-18T01:39:00Z'>01:39</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
is this a feature of the particular annotations that happen to be available in the bitcoin core codebase? It&#x27;s certainly not a feature of annotations in general.
<br>
</div>

<div class='talk op-msg' data-timestamp='1592444340' id='392699'>
<a class='timestamp' href='#392699'><time timestamp='2020-06-18T01:39:00Z'>01:39</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
sipa: okay, but that defeats the point
<br>
</div>

<div class='talk op-msg' data-timestamp='1592444340' id='392700'>
<a class='timestamp' href='#392700'><time timestamp='2020-06-18T01:39:00Z'>01:39</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
luke-jr: i don&#x27;t see how?
<br>
</div>

<div class='talk op-msg' data-timestamp='1592444340' id='392701'>
<a class='timestamp' href='#392701'><time timestamp='2020-06-18T01:39:00Z'>01:39</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
this is my preferred approach
<br>
</div>

<div class='talk op-msg' data-timestamp='1592444340' id='392702'>
<a class='timestamp' href='#392702'><time timestamp='2020-06-18T01:39:00Z'>01:39</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
sipa: the code calling the wrapper no longer self-documents/makes the developer aware of using the lock
<br>
</div>

<div class='talk op-msg' data-timestamp='1592444400' id='392703'>
<a class='timestamp' href='#392703'><time timestamp='2020-06-18T01:40:00Z'>01:40</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
external code should only be seeing the wrapper
<br>
</div>

<div class='talk op-msg' data-timestamp='1592444400' id='392704'>
<a class='timestamp' href='#392704'><time timestamp='2020-06-18T01:40:00Z'>01:40</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
internal code should only ever call the non-wrapped function
<br>
</div>

<div class='talk op-msg' data-timestamp='1592444400' id='392705'>
<a class='timestamp' href='#392705'><time timestamp='2020-06-18T01:40:00Z'>01:40</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
thus providing a perfectly clear separation between the two
<br>
</div>

<div class='talk op-msg' data-timestamp='1592444400' id='392706'>
<a class='timestamp' href='#392706'><time timestamp='2020-06-18T01:40:00Z'>01:40</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
and what if the external code needs to hold the lock longer than just the call?
<br>
</div>

<div class='talk op-msg' data-timestamp='1592444460' id='392707'>
<a class='timestamp' href='#392707'><time timestamp='2020-06-18T01:41:00Z'>01:41</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
rewrite the code :p
<br>
</div>

<div class='talk op-msg' data-timestamp='1592444460' id='392708'>
<a class='timestamp' href='#392708'><time timestamp='2020-06-18T01:41:00Z'>01:41</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
luke-jr: use an external lock?
<br>
</div>

<div class='talk op-msg' data-timestamp='1592444460' id='392709'>
<a class='timestamp' href='#392709'><time timestamp='2020-06-18T01:41:00Z'>01:41</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
(i know that&#x27;s not always possible - but in many cases it is)
<br>
</div>

<div class='talk op-msg' data-timestamp='1592444460' id='392710'>
<a class='timestamp' href='#392710'><time timestamp='2020-06-18T01:41:00Z'>01:41</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
eg, with a wallet, it&#x27;s pretty reasonable to want atomic operations
<br>
</div>

<div class='talk op-msg' data-timestamp='1592444520' id='392711'>
<a class='timestamp' href='#392711'><time timestamp='2020-06-18T01:42:00Z'>01:42</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
doing multiple things to the wallet with the lock held
<br>
</div>

<div class='talk op-msg' data-timestamp='1592444520' id='392712'>
<a class='timestamp' href='#392712'><time timestamp='2020-06-18T01:42:00Z'>01:42</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
you <b>*could*</b> just move the entire logic into the wallet, but that&#x27;s a bad design in some cases
<br>
</div>

<div class='talk op-msg' data-timestamp='1592444520' id='392713'>
<a class='timestamp' href='#392713'><time timestamp='2020-06-18T01:42:00Z'>01:42</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
luke-jr: yeah, that&#x27;s a good example of an exception
<br>
</div>

<div class='talk op-msg' data-timestamp='1592444580' id='392714'>
<a class='timestamp' href='#392714'><time timestamp='2020-06-18T01:43:00Z'>01:43</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
btw jeremyrubin it&#x27;s not switching to a homebrewed mutex, if you chase down the types it&#x27;s switching from AnnotatedMixin&lt;std::recursive_mutex&gt; to AnnotatedMixin&lt;std::mutex&gt;, which seems like the right thing
<br>
</div>

<div class='talk op-msg' data-timestamp='1592444580' id='392715'>
<a class='timestamp' href='#392715'><time timestamp='2020-06-18T01:43:00Z'>01:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gwillen: i think it&#x27;s referring to the &quot;if locked then unlock else assertlocknotheld&quot; pattern that i see some times
<br>
</div>

<div class='talk op-msg' data-timestamp='1592444640' id='392716'>
<a class='timestamp' href='#392716'><time timestamp='2020-06-18T01:44:00Z'>01:44</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
sipa: gwillen: yes, that&#x27;s what I meant
<br>
</div>

<div class='talk op-msg' data-timestamp='1592444640' id='392717'>
<a class='timestamp' href='#392717'><time timestamp='2020-06-18T01:44:00Z'>01:44</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
luke-jr: i think a reasonable approach for that may be having a publicly visible lock for synchronizing a consistent view, which is distinct from the internal wallet&#x27;s lock (which protects internal data structure correctness, not externally visible consistency)
<br>
</div>

<div class='talk op-msg' data-timestamp='1592444640' id='392718'>
<a class='timestamp' href='#392718'><time timestamp='2020-06-18T01:44:00Z'>01:44</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
well, adding an argument for whether the mutex is held is equivalent to a wrapper, just uglier, which I think is what&#x27;s going on here
<br>
</div>

<div class='talk op-msg' data-timestamp='1592444640' id='392719'>
<a class='timestamp' href='#392719'><time timestamp='2020-06-18T01:44:00Z'>01:44</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
I dislike it because it means you are not using RAII
<br>
</div>

<div class='talk op-msg' data-timestamp='1592444700' id='392720'>
<a class='timestamp' href='#392720'><time timestamp='2020-06-18T01:45:00Z'>01:45</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gwillen: indeed
<br>
</div>

<div class='talk op-msg' data-timestamp='1592444700' id='392721'>
<a class='timestamp' href='#392721'><time timestamp='2020-06-18T01:45:00Z'>01:45</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
and if you take an exception the world ends
<br>
</div>

<div class='talk op-msg' data-timestamp='1592444760' id='392722'>
<a class='timestamp' href='#392722'><time timestamp='2020-06-18T01:46:00Z'>01:46</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
I think it&#x27;s basically getting rid of a recursive mutex for code that&#x27;s still designed to take a recursive mutex
<br>
</div>

<div class='talk op-msg' data-timestamp='1592444760' id='392723'>
<a class='timestamp' href='#392723'><time timestamp='2020-06-18T01:46:00Z'>01:46</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
it&#x27;s better than a true recursive mutex because it&#x27;s not possible to recurse by accident, you have to declare at call time which behavior you want (although better if you had to declare statically at compile time)
<br>
</div>

<div class='talk op-msg' data-timestamp='1592444760' id='392724'>
<a class='timestamp' href='#392724'><time timestamp='2020-06-18T01:46:00Z'>01:46</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it looks like that
<br>
</div>

<div class='talk op-msg' data-timestamp='1592444760' id='392725'>
<a class='timestamp' href='#392725'><time timestamp='2020-06-18T01:46:00Z'>01:46</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
The correct refactor would be to make the code not do anything fancy with locks, or to just leave it
<br>
</div>

<div class='talk op-msg' data-timestamp='1592444820' id='392726'>
<a class='timestamp' href='#392726'><time timestamp='2020-06-18T01:47:00Z'>01:47</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
gwillen: I think the chances of a bug or error in custom logic is higher than a recursive mutex
<br>
</div>

<div class='talk op-msg' data-timestamp='1592444820' id='392727'>
<a class='timestamp' href='#392727'><time timestamp='2020-06-18T01:47:00Z'>01:47</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
accidental recursion seems unlikely...
<br>
</div>

<div class='talk op-msg' data-timestamp='1592444820' id='392728'>
<a class='timestamp' href='#392728'><time timestamp='2020-06-18T01:47:00Z'>01:47</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
and accidental recursion would be a bug lock or no
<br>
</div>

<div class='talk op-msg' data-timestamp='1592444880' id='392729'>
<a class='timestamp' href='#392729'><time timestamp='2020-06-18T01:48:00Z'>01:48</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
(sorry I mean, accidental mutex recursion, that is, calling a function while holding a mutex, not expecting the callee to also lock it, resulting in the callee violating the caller&#x27;s invariants)
<br>
</div>

<div class='talk op-msg' data-timestamp='1592444880' id='392730'>
<a class='timestamp' href='#392730'><time timestamp='2020-06-18T01:48:00Z'>01:48</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
(this is the fundamental problem of recursive mutexes)
<br>
</div>

<div class='talk op-msg' data-timestamp='1592444940' id='392731'>
<a class='timestamp' href='#392731'><time timestamp='2020-06-18T01:49:00Z'>01:49</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
(and I assume the motivation behind hebasto&#x27;s refactor)
<br>
</div>

<div class='talk op-msg' data-timestamp='1592444940' id='392732'>
<a class='timestamp' href='#392732'><time timestamp='2020-06-18T01:49:00Z'>01:49</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
Ah sure. But the code in the callee could also just not lock at all and modify the protected variables?
<br>
</div>

<div class='talk op-msg' data-timestamp='1592444940' id='392733'>
<a class='timestamp' href='#392733'><time timestamp='2020-06-18T01:49:00Z'>01:49</time></a>
&lt;<span class='nick nick-3'> * jeremyrubin</span>&gt;
pines for rust
<br>
</div>

<div class='talk op-msg' data-timestamp='1592445000' id='392734'>
<a class='timestamp' href='#392734'><time timestamp='2020-06-18T01:50:00Z'>01:50</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
but that would be an obvious bug in the callee, whereas with recursive mutexes you can have a caller and a callee that both appear to be correct by local inspection (they take a mutex while modifying the protected variables)
<br>
</div>

<div class='talk op-msg' data-timestamp='1592445000' id='392735'>
<a class='timestamp' href='#392735'><time timestamp='2020-06-18T01:50:00Z'>01:50</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
but if the caller calls the callee in the middle of doing so, the result can violate the mutex invariant surprisingly
<br>
</div>

<div class='talk op-msg' data-timestamp='1592445060' id='392736'>
<a class='timestamp' href='#392736'><time timestamp='2020-06-18T01:51:00Z'>01:51</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
would it be? it depends on how pervasive locking annotations are in your code
<br>
</div>

<div class='talk op-msg' data-timestamp='1592445060' id='392737'>
<a class='timestamp' href='#392737'><time timestamp='2020-06-18T01:51:00Z'>01:51</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
It&#x27;s entirely reasonable to write a helper which doesn&#x27;t assert which locks it expects
<br>
</div>

<div class='talk op-msg' data-timestamp='1592445060' id='392738'>
<a class='timestamp' href='#392738'><time timestamp='2020-06-18T01:51:00Z'>01:51</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
Well, it would be nice if it weren&#x27;t. :-)
<br>
</div>

<div class='talk op-msg' data-timestamp='1592445060' id='392739'>
<a class='timestamp' href='#392739'><time timestamp='2020-06-18T01:51:00Z'>01:51</time></a>
&lt;<span class='nick nick-3'> * jeremyrubin</span>&gt;
pines for rust
<br>
</div>

<div class='talk op-msg' data-timestamp='1592445060' id='392740'>
<a class='timestamp' href='#392740'><time timestamp='2020-06-18T01:51:00Z'>01:51</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
gwillen: it&#x27;d be nice if C/C++ added non-scoping conditionals :P
<br>
</div>

<div class='talk op-msg' data-timestamp='1592445120' id='392741'>
<a class='timestamp' href='#392741'><time timestamp='2020-06-18T01:52:00Z'>01:52</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
anyway that&#x27;s the story of the theoretical basis for getting rid of recursive mutexes, as I understand it... but adding annotations is probably a higher priority, yeah.
<br>
</div>

<div class='talk op-msg' data-timestamp='1592445120' id='392742'>
<a class='timestamp' href='#392742'><time timestamp='2020-06-18T01:52:00Z'>01:52</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
jeremyrubin: Rust needs to fix its problems with bootstrap and shared libraries
<br>
</div>

<div class='talk op-msg' data-timestamp='1592445180' id='392743'>
<a class='timestamp' href='#392743'><time timestamp='2020-06-18T01:53:00Z'>01:53</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
c++ needs to fix... everything else basically :p
<br>
</div>

<div class='talk op-msg' data-timestamp='1592445240' id='392744'>
<a class='timestamp' href='#392744'><time timestamp='2020-06-18T01:54:00Z'>01:54</time></a>
&lt;<span class='nick nick-4'> * sipa</span>&gt;
grabs popcorn
<br>
</div>

<div class='talk op-msg' data-timestamp='1592445360' id='392745'>
<a class='timestamp' href='#392745'><time timestamp='2020-06-18T01:56:00Z'>01:56</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
C++ isn&#x27;t broken, even if it doesn&#x27;t provide features some might idealise
<br>
</div>

<div class='talk op-msg' data-timestamp='1592445480' id='392746'>
<a class='timestamp' href='#392746'><time timestamp='2020-06-18T01:58:00Z'>01:58</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
anyways bootsrap stuff I think is more in dongcarl&#x27;s weelhouse so I&#x27;ll tag out for him ;)
<br>
</div>

<div class='talk op-msg' data-timestamp='1592445600' id='392747'>
<a class='timestamp' href='#392747'><time timestamp='2020-06-18T02:00:00Z'>02:00</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
IMO it&#x27;s still in Rust developers&#x27; court; they haven&#x27;t made it practical
<br>
</div>

<div class='talk op-msg' data-timestamp='1592445660' id='392748'>
<a class='timestamp' href='#392748'><time timestamp='2020-06-18T02:01:00Z'>02:01</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
and frankly seem to be actively trying to make it difficult
<br>
</div>

<div class='talk op-msg' data-timestamp='1592445660' id='392749'>
<a class='timestamp' href='#392749'><time timestamp='2020-06-18T02:01:00Z'>02:01</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
my understanding is that bootstrapping from a C compiler using mrustc is annoying but functional, and guix has this working
<br>
</div>

<div class='talk op-msg' data-timestamp='1592445660' id='392750'>
<a class='timestamp' href='#392750'><time timestamp='2020-06-18T02:01:00Z'>02:01</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
gwillen: oh? it does?
<br>
</div>

<div class='talk op-msg' data-timestamp='1592445660' id='392751'>
<a class='timestamp' href='#392751'><time timestamp='2020-06-18T02:01:00Z'>02:01</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
<a href="https://guix.gnu.org/blog/2018/bootstrapping-rust/" class="link" target="_blank">https://guix.gnu.org/blog/2018/bootstrapping-rust/</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1592445660' id='392752'>
<a class='timestamp' href='#392752'><time timestamp='2020-06-18T02:01:00Z'>02:01</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
that&#x27;s new progress I hadn&#x27;t heard of
<br>
</div>

<div class='talk op-msg' data-timestamp='1592445660' id='392753'>
<a class='timestamp' href='#392753'><time timestamp='2020-06-18T02:01:00Z'>02:01</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
that&#x27;s 2018..
<br>
</div>

<div class='talk op-msg' data-timestamp='1592445720' id='392754'>
<a class='timestamp' href='#392754'><time timestamp='2020-06-18T02:02:00Z'>02:02</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
and still convoluted
<br>
</div>

<div class='talk op-msg' data-timestamp='1592445720' id='392755'>
<a class='timestamp' href='#392755'><time timestamp='2020-06-18T02:02:00Z'>02:02</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
(things have gotten worse since 2018)
<br>
</div>

<div class='talk op-msg' data-timestamp='1592445780' id='392756'>
<a class='timestamp' href='#392756'><time timestamp='2020-06-18T02:03:00Z'>02:03</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
it looks to me like they&#x27;ve gotten better, mrustc can build rust 1.29 now, so the entire chain of rustc-rustc bootstrapping from that page is outdated
<br>
</div>

<div class='talk op-msg' data-timestamp='1592445780' id='392757'>
<a class='timestamp' href='#392757'><time timestamp='2020-06-18T02:03:00Z'>02:03</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
I don&#x27;t know whether guix takes advantage of this, though, I have not used it
<br>
</div>

<div class='talk op-msg' data-timestamp='1592445840' id='392758'>
<a class='timestamp' href='#392758'><time timestamp='2020-06-18T02:04:00Z'>02:04</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
I&#x27;d also like to know what has &quot;gotten worse&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1592445900' id='392759'>
<a class='timestamp' href='#392759'><time timestamp='2020-06-18T02:05:00Z'>02:05</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
fanquake: Rust seems to make no effort to be backward compatible, so ~every release adds another step you have to compile
<br>
</div>

<div class='talk op-msg' data-timestamp='1592445900' id='392760'>
<a class='timestamp' href='#392760'><time timestamp='2020-06-18T02:05:00Z'>02:05</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
eg, you can&#x27;t just mrustc a stable rustc, then use that to get the latest rustc
<br>
</div>

<div class='talk op-msg' data-timestamp='1592445900' id='392761'>
<a class='timestamp' href='#392761'><time timestamp='2020-06-18T02:05:00Z'>02:05</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
in fact, assuming it still works, mrustc appears to ship a shell script that demos bootstrapping from a C compiler through mrustc and rustc 1.29.0 to rustc 1.30.0 (it stops there, but it&#x27;s a proof of concept that you can build later versions)
<br>
</div>

<div class='talk op-msg' data-timestamp='1592445960' id='392762'>
<a class='timestamp' href='#392762'><time timestamp='2020-06-18T02:06:00Z'>02:06</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
I assume you do not actually have to crawl one version at a time, but it would be nice to have a compatibility matrix to see how many compiles it takes
<br>
</div>

<div class='talk op-msg' data-timestamp='1592445960' id='392763'>
<a class='timestamp' href='#392763'><time timestamp='2020-06-18T02:06:00Z'>02:06</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
it would be nice if Rust devs stopped breaking the language compatibility :p
<br>
</div>

<div class='talk op-msg' data-timestamp='1592446080' id='392764'>
<a class='timestamp' href='#392764'><time timestamp='2020-06-18T02:08:00Z'>02:08</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
There&#x27;s also <a href="https://github.com/dtolnay/bootstrap" class="link" target="_blank">https://github.com/dtolnay/bootstrap</a>, which seems to crawl through each version
<br>
</div>

<div class='talk op-msg' data-timestamp='1592446140' id='392765'>
<a class='timestamp' href='#392765'><time timestamp='2020-06-18T02:09:00Z'>02:09</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
if you just wnat a proof of concept, probably easier to do that than to work out the full matrix
<br>
</div>

<div class='talk op-msg' data-timestamp='1592446140' id='392766'>
<a class='timestamp' href='#392766'><time timestamp='2020-06-18T02:09:00Z'>02:09</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
oh, I do like the point made in the README here, which is that once there is full reproducibility, you don&#x27;t need to do this every time, you just need to do it once and check that the hash of the result matches the official build
<br>
</div>

<div class='talk op-msg' data-timestamp='1592446380' id='392767'>
<a class='timestamp' href='#392767'><time timestamp='2020-06-18T02:13:00Z'>02:13</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
luke-jr, the issue of doing atomic things like that is more or less analogous to database consistency issues
<br>
</div>

<div class='talk op-msg' data-timestamp='1592446380' id='392768'>
<a class='timestamp' href='#392768'><time timestamp='2020-06-18T02:13:00Z'>02:13</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
no real solution here just a thought
<br>
</div>

<div class='talk op-msg' data-timestamp='1592447460' id='392769'>
<a class='timestamp' href='#392769'><time timestamp='2020-06-18T02:31:00Z'>02:31</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i was curious what the bootstrapping cycle for modern GCC is like
<br>
</div>

<div class='talk op-msg' data-timestamp='1592447820' id='392770'>
<a class='timestamp' href='#392770'><time timestamp='2020-06-18T02:37:00Z'>02:37</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
based on <a href="https://gcc.gnu.org/install/prerequisites.html" class="link" target="_blank">https://gcc.gnu.org/install/prerequisites.html</a>, it seems K&amp;R C compiler -&gt; GCC 3.3 -&gt; GCC 10 could work
<br>
</div>

<div class='talk op-msg' data-timestamp='1592447820' id='392771'>
<a class='timestamp' href='#392771'><time timestamp='2020-06-18T02:37:00Z'>02:37</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
potentially with GCC 4.7 in between (unless how good C++98 support in GCC 3.3 was)
<br>
</div>

<div class='talk op-msg' data-timestamp='1592447880' id='392772'>
<a class='timestamp' href='#392772'><time timestamp='2020-06-18T02:38:00Z'>02:38</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
I assume C/C++ (as implementd in GCC) has changed substantially in that time, so the real issue is not so much language change, as the compiler being overly aggressive in taking advantage of the latest features of the language
<br>
</div>

<div class='talk op-msg' data-timestamp='1592447880' id='392773'>
<a class='timestamp' href='#392773'><time timestamp='2020-06-18T02:38:00Z'>02:38</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
which GCC is presumably fairly careful to avoid, if you can really bootstrap it that directly
<br>
</div>

<div class='talk op-msg' data-timestamp='1592447940' id='392774'>
<a class='timestamp' href='#392774'><time timestamp='2020-06-18T02:39:00Z'>02:39</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yeah, GCC switched to C89 in GCC 3.4, to C++98 in GCC 4.8, to C++11 in GCC 11
<br>
</div>

<div class='talk op-msg' data-timestamp='1592448000' id='392775'>
<a class='timestamp' href='#392775'><time timestamp='2020-06-18T02:40:00Z'>02:40</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
they&#x27;re slower in adopting language changes than bitcoin core :p
<br>
</div>

<div class='talk op-msg' data-timestamp='1592448000' id='392776'>
<a class='timestamp' href='#392776'><time timestamp='2020-06-18T02:40:00Z'>02:40</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
heh
<br>
</div>

<div class='talk op-msg' data-timestamp='1592448000' id='392777'>
<a class='timestamp' href='#392777'><time timestamp='2020-06-18T02:40:00Z'>02:40</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
though, that&#x27;s an unfair comparison with rust, which just changes much more rapidly by virtue of being younger
<br>
</div>

<div class='talk op-msg' data-timestamp='1592448060' id='392778'>
<a class='timestamp' href='#392778'><time timestamp='2020-06-18T02:41:00Z'>02:41</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
Somewhat related, there&#x27;s also a shoutout to Carl in here: <a href="https://guix.gnu.org/blog/2020/guix-further-reduces-bootstrap-seed-to-25/" class="link" target="_blank">https://guix.gnu.org/blog/2020/guix-further-reduces-bootstrap-seed-to-25/</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1592448060' id='392779'>
<a class='timestamp' href='#392779'><time timestamp='2020-06-18T02:41:00Z'>02:41</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
The Guix bootstrap seed is now even smaller
<br>
</div>

<div class='talk op-msg' data-timestamp='1592448060' id='392780'>
<a class='timestamp' href='#392780'><time timestamp='2020-06-18T02:41:00Z'>02:41</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
Targeting another 50% reduction during the next round of work
<br>
</div>

<div class='talk op-msg' data-timestamp='1592448420' id='392781'>
<a class='timestamp' href='#392781'><time timestamp='2020-06-18T02:47:00Z'>02:47</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
nice
<br>
</div>

<div class='talk op-msg' data-timestamp='1592449800' id='392782'>
<a class='timestamp' href='#392782'><time timestamp='2020-06-18T03:10:00Z'>03:10</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jamesgmorgan opened pull request #19317: Add a left-justified width field to log2_work component for a uniform debug.log output (master...jmorgan-updatetipfmt) <a href="https://github.com/bitcoin/bitcoin/pull/19317" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19317</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1592451840' id='392783'>
<a class='timestamp' href='#392783'><time timestamp='2020-06-18T03:44:00Z'>03:44</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
sipa: compilers <b>*should*</b> be very slow with adopting new features
<br>
</div>

<div class='talk op-msg' data-timestamp='1592451840' id='392784'>
<a class='timestamp' href='#392784'><time timestamp='2020-06-18T03:44:00Z'>03:44</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
for anything else, you can always just upgrade the compiler so long as the new compiler builds
<br>
</div>

<div class='talk op-msg' data-timestamp='1592457540' id='392785'>
<a class='timestamp' href='#392785'><time timestamp='2020-06-18T05:19:00Z'>05:19</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] fanquake pushed 2 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/35ed88f187c9...931035b60830" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/35ed88f187c9...931035b60830</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1592457540' id='392786'>
<a class='timestamp' href='#392786'><time timestamp='2020-06-18T05:19:00Z'>05:19</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master fa84edb fanquake: build: don&#x27;t warn when doxygen isn&#x27;t found
<br>
</div>

<div class='talk op-msg' data-timestamp='1592457540' id='392787'>
<a class='timestamp' href='#392787'><time timestamp='2020-06-18T05:19:00Z'>05:19</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 931035b fanquake: Merge #19301: build: don&#x27;t warn when doxygen isn&#x27;t found
<br>
</div>

<div class='talk op-msg' data-timestamp='1592457540' id='392788'>
<a class='timestamp' href='#392788'><time timestamp='2020-06-18T05:19:00Z'>05:19</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] fanquake merged pull request #19301: build: don&#x27;t warn when doxygen isn&#x27;t found (master...no_warn_doxygen_missing) <a href="https://github.com/bitcoin/bitcoin/pull/19301" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19301</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1592457660' id='392789'>
<a class='timestamp' href='#392789'><time timestamp='2020-06-18T05:21:00Z'>05:21</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] fanquake closed pull request #18942: doc: Increase minimum required GCC to 5.1 (master...gcc_5_1_for_codecvt) <a href="https://github.com/bitcoin/bitcoin/pull/18942" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/18942</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1592464080' id='392790'>
<a class='timestamp' href='#392790'><time timestamp='2020-06-18T07:08:00Z'>07:08</time></a>
&lt;<span class='nick nick-4'> dburkett</span>&gt;
A little late, but one &quot;self-documenting&quot; RAII way of handling locks is taking in a lock reference like: `void func_locked(const std::unique_lock&lt;std::mutex&gt;&amp; lock)`
<br>
</div>

<div class='talk op-msg' data-timestamp='1592464140' id='392791'>
<a class='timestamp' href='#392791'><time timestamp='2020-06-18T07:09:00Z'>07:09</time></a>
&lt;<span class='nick nick-4'> dburkett</span>&gt;
It&#x27;s not as easy to misuse, and doesn&#x27;t require relying on non-compiler-enforced annotations. The only shortfall is you still need to document which mutex must be locked in cases where there are multiple. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1592464320' id='392792'>
<a class='timestamp' href='#392792'><time timestamp='2020-06-18T07:12:00Z'>07:12</time></a>
&lt;<span class='nick nick-4'> dburkett</span>&gt;
You could even solve that by defining a unique type for each mutex or something, but that&#x27;s going a little overboard. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1592464920' id='392793'>
<a class='timestamp' href='#392793'><time timestamp='2020-06-18T07:22:00Z'>07:22</time></a>
&lt;<span class='nick nick-3'> aj</span>&gt;
dburkett: having a unique type for each mutex would probably work fine for globals/module-level mutexes, but not for mutexes that are members of an object. could also do an AssertLockHeld(mutex,guard); that checks the guard corresponds to the mutex and isn&#x27;t random garbage
<br>
</div>

<div class='talk op-msg' data-timestamp='1592464980' id='392794'>
<a class='timestamp' href='#392794'><time timestamp='2020-06-18T07:23:00Z'>07:23</time></a>
&lt;<span class='nick nick-4'> dburkett</span>&gt;
AssertLockHeld is only runtime enforceable, but yes that&#x27;s an improvement.
<br>
</div>

<div class='talk op-msg' data-timestamp='1592465100' id='392795'>
<a class='timestamp' href='#392795'><time timestamp='2020-06-18T07:25:00Z'>07:25</time></a>
&lt;<span class='nick nick-4'> dburkett</span>&gt;
The mere existence of a lock parameter at all though is an improvement over the current situation. Any assertions/annotations/custom mutexes beyond that are a bonus 
<br>
</div>

<div class='talk op-msg' data-timestamp='1592480460' id='392796'>
<a class='timestamp' href='#392796'><time timestamp='2020-06-18T11:41:00Z'>11:41</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke pushed 2 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/931035b60830...343c0bfbf1e5" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/931035b60830...343c0bfbf1e5</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1592480460' id='392797'>
<a class='timestamp' href='#392797'><time timestamp='2020-06-18T11:41:00Z'>11:41</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 80d4423 Troy Giorshev: Test buffered valid message
<br>
</div>

<div class='talk op-msg' data-timestamp='1592480460' id='392798'>
<a class='timestamp' href='#392798'><time timestamp='2020-06-18T11:41:00Z'>11:41</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 343c0bf MarcoFalke: Merge #19304: test: Check that message sends successfully when header is s...
<br>
</div>

<div class='talk op-msg' data-timestamp='1592480520' id='392799'>
<a class='timestamp' href='#392799'><time timestamp='2020-06-18T11:42:00Z'>11:42</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke merged pull request #19304: test: Check that message sends successfully when header is split across two buffers (master...2020-06-test-partial) <a href="https://github.com/bitcoin/bitcoin/pull/19304" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19304</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1592482320' id='392800'>
<a class='timestamp' href='#392800'><time timestamp='2020-06-18T12:12:00Z'>12:12</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 6 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/343c0bfbf1e5...b8740d6737b4" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/343c0bfbf1e5...b8740d6737b4</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1592482320' id='392801'>
<a class='timestamp' href='#392801'><time timestamp='2020-06-18T12:12:00Z'>12:12</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 1f790a1 Pieter Wuille: Make Span size type unsigned
<br>
</div>

<div class='talk op-msg' data-timestamp='1592482320' id='392802'>
<a class='timestamp' href='#392802'><time timestamp='2020-06-18T12:12:00Z'>12:12</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master bb3d38f Pieter Wuille: Make pointer-based Span construction safer
<br>
</div>

<div class='talk op-msg' data-timestamp='1592482320' id='392803'>
<a class='timestamp' href='#392803'><time timestamp='2020-06-18T12:12:00Z'>12:12</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master ab303a1 Pieter Wuille: Add Span constructors for arrays and vectors
<br>
</div>

<div class='talk op-msg' data-timestamp='1592482380' id='392804'>
<a class='timestamp' href='#392804'><time timestamp='2020-06-18T12:13:00Z'>12:13</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj merged pull request #18468: Span improvements (master...202003_conv_span) <a href="https://github.com/bitcoin/bitcoin/pull/18468" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/18468</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1592482920' id='392805'>
<a class='timestamp' href='#392805'><time timestamp='2020-06-18T12:22:00Z'>12:22</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
achow101: is #19292 the next step in #18971? if so, would it make sense to put that in high prio for review first?
<br>
</div>

<div class='talk op-msg' data-timestamp='1592482920' id='392806'>
<a class='timestamp' href='#392806'><time timestamp='2020-06-18T12:22:00Z'>12:22</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/19292" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/19292</a> | wallet: Refactor BerkeleyBatch Read, Write, Erase, and Exists functions into non-template functions by achow101 · Pull Request #19292 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1592482920' id='392807'>
<a class='timestamp' href='#392807'><time timestamp='2020-06-18T12:22:00Z'>12:22</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/18971" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/18971</a> | wallet: Refactor the classes in wallet/db.{cpp/h} by achow101 · Pull Request #18971 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1592487660' id='392808'>
<a class='timestamp' href='#392808'><time timestamp='2020-06-18T13:41:00Z'>13:41</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] fanquake opened pull request #19318: build: disable -stack-clash-protection on Windows (master...disable_stack_clash_windows) <a href="https://github.com/bitcoin/bitcoin/pull/19318" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19318</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1592489640' id='392809'>
<a class='timestamp' href='#392809'><time timestamp='2020-06-18T14:14:00Z'>14:14</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
wumpus: yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1592490300' id='392810'>
<a class='timestamp' href='#392810'><time timestamp='2020-06-18T14:25:00Z'>14:25</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
achow101: ok, replaced
<br>
</div>

<div class='talk op-msg' data-timestamp='1592490300' id='392811'>
<a class='timestamp' href='#392811'><time timestamp='2020-06-18T14:25:00Z'>14:25</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
although #19292, #19308, and #19310 shouldn&#x27;t conflict with each other so they can be merged in any order
<br>
</div>

<div class='talk op-msg' data-timestamp='1592490300' id='392812'>
<a class='timestamp' href='#392812'><time timestamp='2020-06-18T14:25:00Z'>14:25</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/19292" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/19292</a> | wallet: Refactor BerkeleyBatch Read, Write, Erase, and Exists functions into non-template functions by achow101 · Pull Request #19292 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1592490300' id='392813'>
<a class='timestamp' href='#392813'><time timestamp='2020-06-18T14:25:00Z'>14:25</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/19308" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/19308</a> | wallet: BerkeleyBatch Handle cursor internally by achow101 · Pull Request #19308 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1592490300' id='392814'>
<a class='timestamp' href='#392814'><time timestamp='2020-06-18T14:25:00Z'>14:25</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/19310" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/19310</a> | wallet: BerkeleyDatabase make BerkeleyDatabase::Create, CreateMock, and CreateDummy non-static functions by achow101 · Pull Request #19310 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1592490480' id='392815'>
<a class='timestamp' href='#392815'><time timestamp='2020-06-18T14:28:00Z'>14:28</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke pushed 2 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/b8740d6737b4...c7ebab12f941" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/b8740d6737b4...c7ebab12f941</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1592490480' id='392816'>
<a class='timestamp' href='#392816'><time timestamp='2020-06-18T14:28:00Z'>14:28</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master a389ed5 Andrew Chow: walletdb: refactor Read, Write, Erase, and Exists into non-template func
<br>
</div>

<div class='talk op-msg' data-timestamp='1592490480' id='392817'>
<a class='timestamp' href='#392817'><time timestamp='2020-06-18T14:28:00Z'>14:28</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master c7ebab1 MarcoFalke: Merge #19292: wallet: Refactor BerkeleyBatch Read, Write, Erase, and Exist...
<br>
</div>

<div class='talk op-msg' data-timestamp='1592490480' id='392818'>
<a class='timestamp' href='#392818'><time timestamp='2020-06-18T14:28:00Z'>14:28</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke merged pull request #19292: wallet: Refactor BerkeleyBatch Read, Write, Erase, and Exists functions into non-template functions (master...refactor-bdb-read) <a href="https://github.com/bitcoin/bitcoin/pull/19292" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19292</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1592490480' id='392819'>
<a class='timestamp' href='#392819'><time timestamp='2020-06-18T14:28:00Z'>14:28</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
achow101: true, I do think that it&#x27;s better to have a smaller PR on there if you have split up things anyway
<br>
</div>

<div class='talk op-msg' data-timestamp='1592490540' id='392820'>
<a class='timestamp' href='#392820'><time timestamp='2020-06-18T14:29:00Z'>14:29</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
next in line is 19308
<br>
</div>

<div class='talk op-msg' data-timestamp='1592490660' id='392821'>
<a class='timestamp' href='#392821'><time timestamp='2020-06-18T14:31:00Z'>14:31</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
ok, I&#x27;ll leave it to someone else to replace that, I&#x27;m done for it for a bit :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1592490660' id='392822'>
<a class='timestamp' href='#392822'><time timestamp='2020-06-18T14:31:00Z'>14:31</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
i&#x27;ll wait for the meeting
<br>
</div>

<div class='talk op-msg' data-timestamp='1592491440' id='392823'>
<a class='timestamp' href='#392823'><time timestamp='2020-06-18T14:44:00Z'>14:44</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
nah already swapped it
<br>
</div>

<div class='talk op-msg' data-timestamp='1592491620' id='392824'>
<a class='timestamp' href='#392824'><time timestamp='2020-06-18T14:47:00Z'>14:47</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke opened pull request #19320: wallet: Replace CDataStream&amp; with Span&lt;char&gt; where possible (master...2006-walletSpan) <a href="https://github.com/bitcoin/bitcoin/pull/19320" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19320</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1592492580' id='392825'>
<a class='timestamp' href='#392825'><time timestamp='2020-06-18T15:03:00Z'>15:03</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
MarcoFalke: re:  #19033, you added the &quot;waiting for author&quot; tag, what is it waiting on?
<br>
</div>

<div class='talk op-msg' data-timestamp='1592492580' id='392826'>
<a class='timestamp' href='#392826'><time timestamp='2020-06-18T15:03:00Z'>15:03</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/19033" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/19033</a> | http: Release work queue after event base finish by promag · Pull Request #19033 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1592492700' id='392827'>
<a class='timestamp' href='#392827'><time timestamp='2020-06-18T15:05:00Z'>15:05</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
for me to fix it
<br>
</div>

<div class='talk op-msg' data-timestamp='1592493000' id='392828'>
<a class='timestamp' href='#392828'><time timestamp='2020-06-18T15:10:00Z'>15:10</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it&#x27;s broken? that wasn&#x27;t clear to me
<br>
</div>

<div class='talk op-msg' data-timestamp='1592493060' id='392829'>
<a class='timestamp' href='#392829'><time timestamp='2020-06-18T15:11:00Z'>15:11</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
yeah it is :(
<br>
</div>

<div class='talk op-msg' data-timestamp='1592493060' id='392830'>
<a class='timestamp' href='#392830'><time timestamp='2020-06-18T15:11:00Z'>15:11</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
let&#x27;s remove it from high priority for review for now, then
<br>
</div>

<div class='talk op-msg' data-timestamp='1592493060' id='392831'>
<a class='timestamp' href='#392831'><time timestamp='2020-06-18T15:11:00Z'>15:11</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
doesn&#x27;t make sense for people to review it if it&#x27;s broken :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1592493480' id='392832'>
<a class='timestamp' href='#392832'><time timestamp='2020-06-18T15:18:00Z'>15:18</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
okay, yes I see why now
<br>
</div>

<div class='talk op-msg' data-timestamp='1592493780' id='392833'>
<a class='timestamp' href='#392833'><time timestamp='2020-06-18T15:23:00Z'>15:23</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it&#x27;s unfortunate that it turns out to be so difficult to get the http shutdown correct, I remember lots of times it was &#x27;fixed&#x27;, I wish libevent-http just came with a multi-threaded web server itself instead of us having to hack it on top of it
<br>
</div>

<div class='talk op-msg' data-timestamp='1592493840' id='392834'>
<a class='timestamp' href='#392834'><time timestamp='2020-06-18T15:24:00Z'>15:24</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
wumpus: re HP, sure
<br>
</div>

<div class='talk op-msg' data-timestamp='1592493900' id='392835'>
<a class='timestamp' href='#392835'><time timestamp='2020-06-18T15:25:00Z'>15:25</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
wumpus: there&#x27;s also corner cases regarding shutdown and ongoing rpc responses
<br>
</div>

<div class='talk op-msg' data-timestamp='1592493900' id='392836'>
<a class='timestamp' href='#392836'><time timestamp='2020-06-18T15:25:00Z'>15:25</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes, ther&#x27;s always been
<br>
</div>

<div class='talk op-msg' data-timestamp='1592493900' id='392837'>
<a class='timestamp' href='#392837'><time timestamp='2020-06-18T15:25:00Z'>15:25</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
and also not being able to discard lots of incoming requests
<br>
</div>

<div class='talk op-msg' data-timestamp='1592493960' id='392838'>
<a class='timestamp' href='#392838'><time timestamp='2020-06-18T15:26:00Z'>15:26</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
or at the least, defer accept()
<br>
</div>

<div class='talk op-msg' data-timestamp='1592494020' id='392839'>
<a class='timestamp' href='#392839'><time timestamp='2020-06-18T15:27:00Z'>15:27</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
but no it accepts every connection immediately without some kind of fd quota
<br>
</div>

<div class='talk op-msg' data-timestamp='1592494080' id='392840'>
<a class='timestamp' href='#392840'><time timestamp='2020-06-18T15:28:00Z'>15:28</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
well, switching to it from boost::asio seemed like a good idea at the time (it at least solved some issues)
<br>
</div>

<div class='talk op-msg' data-timestamp='1592494440' id='392841'>
<a class='timestamp' href='#392841'><time timestamp='2020-06-18T15:34:00Z'>15:34</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I&#x27;ll have a look at it too some time
<br>
</div>

<div class='talk op-msg' data-timestamp='1592497200' id='392842'>
<a class='timestamp' href='#392842'><time timestamp='2020-06-18T16:20:00Z'>16:20</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
#11082 rebased yet again
<br>
</div>

<div class='talk op-msg' data-timestamp='1592497200' id='392843'>
<a class='timestamp' href='#392843'><time timestamp='2020-06-18T16:20:00Z'>16:20</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/11082" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/11082</a> | Add new bitcoin_rw.conf file that is used for settings modified by this software itself by luke-jr · Pull Request #11082 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1592499660' id='392844'>
<a class='timestamp' href='#392844'><time timestamp='2020-06-18T17:01:00Z'>17:01</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke pushed 2 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/c7ebab12f941...0865a8881d39" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/c7ebab12f941...0865a8881d39</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1592499660' id='392845'>
<a class='timestamp' href='#392845'><time timestamp='2020-06-18T17:01:00Z'>17:01</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 25f3554 Hennadii Stepanov: scripted-diff: Make SeparatorStyle a scoped enum
<br>
</div>

<div class='talk op-msg' data-timestamp='1592499660' id='392846'>
<a class='timestamp' href='#392846'><time timestamp='2020-06-18T17:01:00Z'>17:01</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 0865a88 MarcoFalke: Merge bitcoin-core/gui#3: scripted-diff: Make SeparatorStyle a scoped enum...
<br>
</div>

<div class='talk op-msg' data-timestamp='1592499660' id='392847'>
<a class='timestamp' href='#392847'><time timestamp='2020-06-18T17:01:00Z'>17:01</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
Just merged the first pull from the gui repository. Hope nothing caught fire
<br>
</div>

<div class='talk op-msg' data-timestamp='1592499720' id='392848'>
<a class='timestamp' href='#392848'><time timestamp='2020-06-18T17:02:00Z'>17:02</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
oh noes my computer is on fire
<br>
</div>

<div class='talk op-msg' data-timestamp='1592500740' id='392849'>
<a class='timestamp' href='#392849'><time timestamp='2020-06-18T17:19:00Z'>17:19</time></a>
&lt;<span class='nick nick-9'> troygiorshev</span>&gt;
does anyone have experience with our Optional?  I&#x27;m looking to use it with a CNetMessage but I&#x27;m worried about the performance.  Looks like it doesn&#x27;t have move semantics until 1.56.0.  Has anyone run into this before?
<br>
</div>

<div class='talk op-msg' data-timestamp='1592500800' id='392850'>
<a class='timestamp' href='#392850'><time timestamp='2020-06-18T17:20:00Z'>17:20</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
So how does Gribble link to GUI issues now?
<br>
</div>

<div class='talk op-msg' data-timestamp='1592500860' id='392851'>
<a class='timestamp' href='#392851'><time timestamp='2020-06-18T17:21:00Z'>17:21</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
hrm, might be annoying to have a different # namespace :/
<br>
</div>

<div class='talk op-msg' data-timestamp='1592500980' id='392852'>
<a class='timestamp' href='#392852'><time timestamp='2020-06-18T17:23:00Z'>17:23</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Maybe prefix it? E.g. #gui-2
<br>
</div>

<div class='talk op-msg' data-timestamp='1592501040' id='392853'>
<a class='timestamp' href='#392853'><time timestamp='2020-06-18T17:24:00Z'>17:24</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
In github the normalized and absolute identifier is &quot;bitcoin-core/gui#3&quot; or &quot;bitcoin/bitcoin#3&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1592501040' id='392854'>
<a class='timestamp' href='#392854'><time timestamp='2020-06-18T17:24:00Z'>17:24</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/3" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/3</a> | Encrypt wallet · Issue #3 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1592501040' id='392855'>
<a class='timestamp' href='#392855'><time timestamp='2020-06-18T17:24:00Z'>17:24</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/3" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/3</a> | Encrypt wallet · Issue #3 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1592501040' id='392856'>
<a class='timestamp' href='#392856'><time timestamp='2020-06-18T17:24:00Z'>17:24</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
but indeed that seems a bit verbose for IRC
<br>
</div>

<div class='talk op-msg' data-timestamp='1592501040' id='392857'>
<a class='timestamp' href='#392857'><time timestamp='2020-06-18T17:24:00Z'>17:24</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
Might as well post the full link
<br>
</div>

<div class='talk op-msg' data-timestamp='1592501160' id='392858'>
<a class='timestamp' href='#392858'><time timestamp='2020-06-18T17:26:00Z'>17:26</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Oh well at least the github normalized method works, TIL
<br>
</div>

<div class='talk op-msg' data-timestamp='1592501160' id='392859'>
<a class='timestamp' href='#392859'><time timestamp='2020-06-18T17:26:00Z'>17:26</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Oh no it doesn&#x27;t
<br>
</div>

<div class='talk op-msg' data-timestamp='1592501220' id='392860'>
<a class='timestamp' href='#392860'><time timestamp='2020-06-18T17:27:00Z'>17:27</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
not for gribble
<br>
</div>

<div class='talk op-msg' data-timestamp='1592502060' id='392861'>
<a class='timestamp' href='#392861'><time timestamp='2020-06-18T17:41:00Z'>17:41</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
gui#3?
<br>
</div>

<div class='talk op-msg' data-timestamp='1592502060' id='392862'>
<a class='timestamp' href='#392862'><time timestamp='2020-06-18T17:41:00Z'>17:41</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/3" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/3</a> | Encrypt wallet · Issue #3 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1592502060' id='392863'>
<a class='timestamp' href='#392863'><time timestamp='2020-06-18T17:41:00Z'>17:41</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
someone should fix gribble for whatever we do :P
<br>
</div>

<div class='talk op-msg' data-timestamp='1592502060' id='392864'>
<a class='timestamp' href='#392864'><time timestamp='2020-06-18T17:41:00Z'>17:41</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Where does Gribble&#x27;s source live?
<br>
</div>

<div class='talk op-msg' data-timestamp='1592502120' id='392865'>
<a class='timestamp' href='#392865'><time timestamp='2020-06-18T17:42:00Z'>17:42</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
nanotube&#x27;s repo on gitlab iirc
<br>
</div>

<div class='talk op-msg' data-timestamp='1592503140' id='392866'>
<a class='timestamp' href='#392866'><time timestamp='2020-06-18T17:59:00Z'>17:59</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
Looks like I have missed a fun, popcorn-worthy convo above, just to add what I know: the mrustc support is solid, and development of it is very active in Guix, and just 6 days after the release of mrustc 0.9 (equiv of rustc 1.29.0), patches were being reviewed for taking advantage of the newer version and shortening the bootstrap chain by 10 steps
<br>
</div>

<div class='talk op-msg' data-timestamp='1592503140' id='392867'>
<a class='timestamp' href='#392867'><time timestamp='2020-06-18T17:59:00Z'>17:59</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
(1.19.0...1.29.0).
<br>
</div>

<div class='talk op-msg' data-timestamp='1592503140' id='392868'>
<a class='timestamp' href='#392868'><time timestamp='2020-06-18T17:59:00Z'>17:59</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
The current method crawls through one minor version at a time (which is probably the safe way to do it), and there&#x27;s a substantial number of rust package users in Guix who will notice if the bootstrap chain breaks.
<br>
</div>

<div class='talk op-msg' data-timestamp='1592503920' id='392869'>
<a class='timestamp' href='#392869'><time timestamp='2020-06-18T18:12:00Z'>18:12</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] Sjors closed pull request #16546: External signer support - Wallet Box edition (master...2019/08/hww-box2) <a href="https://github.com/bitcoin/bitcoin/pull/16546" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/16546</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1592503920' id='392870'>
<a class='timestamp' href='#392870'><time timestamp='2020-06-18T18:12:00Z'>18:12</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] Sjors reopened pull request #16546: External signer support - Wallet Box edition (master...2019/08/hww-box2) <a href="https://github.com/bitcoin/bitcoin/pull/16546" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/16546</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1592503920' id='392871'>
<a class='timestamp' href='#392871'><time timestamp='2020-06-18T18:12:00Z'>18:12</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
^ oops, wrong one
<br>
</div>

<div class='talk op-msg' data-timestamp='1592504160' id='392872'>
<a class='timestamp' href='#392872'><time timestamp='2020-06-18T18:16:00Z'>18:16</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
I moved the HWW GUI PR to  the GUI repo, since there wasn&#x27;t much discussion on it yet
<br>
</div>

<div class='talk op-msg' data-timestamp='1592504340' id='392873'>
<a class='timestamp' href='#392873'><time timestamp='2020-06-18T18:19:00Z'>18:19</time></a>
&lt;<span class='nick nick-11'> moneyball</span>&gt;
#proposedmeetingtopic taproot implementation plan; is v0.21 realistic?
<br>
</div>

<div class='talk op-msg' data-timestamp='1592504460' id='392874'>
<a class='timestamp' href='#392874'><time timestamp='2020-06-18T18:21:00Z'>18:21</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke pushed 3 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/0865a8881d39...c2bcb99c1d11" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/0865a8881d39...c2bcb99c1d11</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1592504460' id='392875'>
<a class='timestamp' href='#392875'><time timestamp='2020-06-18T18:21:00Z'>18:21</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master faceed7 MarcoFalke: doc: Add redirect for GUI issues and pull requests
<br>
</div>

<div class='talk op-msg' data-timestamp='1592504460' id='392876'>
<a class='timestamp' href='#392876'><time timestamp='2020-06-18T18:21:00Z'>18:21</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 66666d5 MarcoFalke: doc: Mention repo split in the READMEs
<br>
</div>

<div class='talk op-msg' data-timestamp='1592504460' id='392877'>
<a class='timestamp' href='#392877'><time timestamp='2020-06-18T18:21:00Z'>18:21</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master c2bcb99 MarcoFalke: Merge #19071: doc: Separate repository for the gui
<br>
</div>

<div class='talk op-msg' data-timestamp='1592504520' id='392878'>
<a class='timestamp' href='#392878'><time timestamp='2020-06-18T18:22:00Z'>18:22</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke merged pull request #19071: doc: Separate repository for the gui (master...2005-splitRepoGui) <a href="https://github.com/bitcoin/bitcoin/pull/19071" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19071</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1592505780' id='392879'>
<a class='timestamp' href='#392879'><time timestamp='2020-06-18T18:43:00Z'>18:43</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke opened pull request #19321: ci: Run asan ci config on cirrus (master...2006-ciCirrusAsan) <a href="https://github.com/bitcoin/bitcoin/pull/19321" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19321</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1592506800' id='392880'>
<a class='timestamp' href='#392880'><time timestamp='2020-06-18T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
#startmeeting
<br>
</div>

<div class='talk op-msg' data-timestamp='1592506800' id='392881'>
<a class='timestamp' href='#392881'><time timestamp='2020-06-18T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Meeting started Thu Jun 18 19:00:14 2020 UTC.  The chair is wumpus. Information about MeetBot at <a href="http://wiki.debian.org/MeetBot" class="link" target="_blank">http://wiki.debian.org/MeetBot</a>.
<br>
</div>

<div class='talk op-msg' data-timestamp='1592506800' id='392882'>
<a class='timestamp' href='#392882'><time timestamp='2020-06-18T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Useful Commands: #action #agreed #help #info #idea #link #topic.
<br>
</div>

<div class='talk op-msg' data-timestamp='1592506800' id='392883'>
<a class='timestamp' href='#392883'><time timestamp='2020-06-18T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1592506800' id='392884'>
<a class='timestamp' href='#392884'><time timestamp='2020-06-18T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-11'> moneyball</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1592506800' id='392885'>
<a class='timestamp' href='#392885'><time timestamp='2020-06-18T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1592506800' id='392886'>
<a class='timestamp' href='#392886'><time timestamp='2020-06-18T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
#bitcoin-core-dev Meeting: wumpus sipa gmaxwell jonasschnelli morcos luke-jr sdaftuar jtimon cfields petertodd kanzure bluematt instagibbs phantomcircuit codeshark michagogo marcofalke paveljanik NicolasDorier jl2012 achow101 meshcollider jnewbery maaku fanquake promag provoostenator aj Chris_Stewart_5 dongcarl gwillen jamesob ken281221 ryanofsky gleb moneyball kvaciral ariard digi_james amiti fjahr
<br>
</div>

<div class='talk op-msg' data-timestamp='1592506800' id='392887'>
<a class='timestamp' href='#392887'><time timestamp='2020-06-18T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
jeremyrubin lightlike emilengler jonatack hebasto jb55 elichai2
<br>
</div>

<div class='talk op-msg' data-timestamp='1592506800' id='392888'>
<a class='timestamp' href='#392888'><time timestamp='2020-06-18T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1592506800' id='392889'>
<a class='timestamp' href='#392889'><time timestamp='2020-06-18T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1592506800' id='392890'>
<a class='timestamp' href='#392890'><time timestamp='2020-06-18T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1592506800' id='392891'>
<a class='timestamp' href='#392891'><time timestamp='2020-06-18T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-8'> fjahr</span>&gt;
Hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1592506860' id='392892'>
<a class='timestamp' href='#392892'><time timestamp='2020-06-18T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-15'> ajonas</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1592506860' id='392893'>
<a class='timestamp' href='#392893'><time timestamp='2020-06-18T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-3'> meshcollider</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1592506860' id='392894'>
<a class='timestamp' href='#392894'><time timestamp='2020-06-18T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
one proposed meeting topic for today: taproot implementation plan (moneyball)
<br>
</div>

<div class='talk op-msg' data-timestamp='1592506860' id='392895'>
<a class='timestamp' href='#392895'><time timestamp='2020-06-18T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
any last minute topics?
<br>
</div>

<div class='talk op-msg' data-timestamp='1592506920' id='392896'>
<a class='timestamp' href='#392896'><time timestamp='2020-06-18T19:02:00Z'>19:02</time></a>
&lt;<span class='nick nick-10'> ariard</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1592506920' id='392897'>
<a class='timestamp' href='#392897'><time timestamp='2020-06-18T19:02:00Z'>19:02</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1592506980' id='392898'>
<a class='timestamp' href='#392898'><time timestamp='2020-06-18T19:03:00Z'>19:03</time></a>
&lt;<span class='nick nick-4'> kanzure</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1592506980' id='392899'>
<a class='timestamp' href='#392899'><time timestamp='2020-06-18T19:03:00Z'>19:03</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
#topic High priority for review
<br>
</div>

<div class='talk op-msg' data-timestamp='1592506980' id='392900'>
<a class='timestamp' href='#392900'><time timestamp='2020-06-18T19:03:00Z'>19:03</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
hola
<br>
</div>

<div class='talk op-msg' data-timestamp='1592506980' id='392901'>
<a class='timestamp' href='#392901'><time timestamp='2020-06-18T19:03:00Z'>19:03</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/projects/8" class="link" target="_blank">https://github.com/bitcoin/bitcoin/projects/8</a>  currently: 12 blockers, 3 chasing concept ACK
<br>
</div>

<div class='talk op-msg' data-timestamp='1592506980' id='392902'>
<a class='timestamp' href='#392902'><time timestamp='2020-06-18T19:03:00Z'>19:03</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
anything to add/remove?
<br>
</div>

<div class='talk op-msg' data-timestamp='1592506980' id='392903'>
<a class='timestamp' href='#392903'><time timestamp='2020-06-18T19:03:00Z'>19:03</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
I&#x27;d like to add #19028 
<br>
</div>

<div class='talk op-msg' data-timestamp='1592506980' id='392904'>
<a class='timestamp' href='#392904'><time timestamp='2020-06-18T19:03:00Z'>19:03</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/19028" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/19028</a> | test: Set -logthreadnames in unit tests by MarcoFalke · Pull Request #19028 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1592506980' id='392905'>
<a class='timestamp' href='#392905'><time timestamp='2020-06-18T19:03:00Z'>19:03</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
wumpus: #18818 should probably be under Bugfixes, not Blockers? not sure on categorisation
<br>
</div>

<div class='talk op-msg' data-timestamp='1592506980' id='392906'>
<a class='timestamp' href='#392906'><time timestamp='2020-06-18T19:03:00Z'>19:03</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/18818" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/18818</a> | Fix release tarball generated by gitian by luke-jr · Pull Request #18818 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1592507040' id='392907'>
<a class='timestamp' href='#392907'><time timestamp='2020-06-18T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
MarcoFalke: added
<br>
</div>

<div class='talk op-msg' data-timestamp='1592507040' id='392908'>
<a class='timestamp' href='#392908'><time timestamp='2020-06-18T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-4'> jamesob</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1592507040' id='392909'>
<a class='timestamp' href='#392909'><time timestamp='2020-06-18T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
thx
<br>
</div>

<div class='talk op-msg' data-timestamp='1592507040' id='392910'>
<a class='timestamp' href='#392910'><time timestamp='2020-06-18T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
luke-jr: ok moved
<br>
</div>

<div class='talk op-msg' data-timestamp='1592507100' id='392911'>
<a class='timestamp' href='#392911'><time timestamp='2020-06-18T19:05:00Z'>19:05</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
luke-jr: gah, sorry, forgot about that one. Will take a look regardless of how it&#x27;s tagged.
<br>
</div>

<div class='talk op-msg' data-timestamp='1592507100' id='392912'>
<a class='timestamp' href='#392912'><time timestamp='2020-06-18T19:05:00Z'>19:05</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
cfields: thanks
<br>
</div>

<div class='talk op-msg' data-timestamp='1592507100' id='392913'>
<a class='timestamp' href='#392913'><time timestamp='2020-06-18T19:05:00Z'>19:05</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1592507100' id='392914'>
<a class='timestamp' href='#392914'><time timestamp='2020-06-18T19:05:00Z'>19:05</time></a>
&lt;<span class='nick nick-4'> jamesob</span>&gt;
tangential to 19028, maybe we should set logthreadnames=1 by default if we can show there isn&#x27;t a performance hit
<br>
</div>

<div class='talk op-msg' data-timestamp='1592507160' id='392915'>
<a class='timestamp' href='#392915'><time timestamp='2020-06-18T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
I did notice #18818 was insufficient for Knots, but only because Knots is distributing files rendered from SVGs at dist-time - shouldn&#x27;t affect Core&#x27;s needs
<br>
</div>

<div class='talk op-msg' data-timestamp='1592507160' id='392916'>
<a class='timestamp' href='#392916'><time timestamp='2020-06-18T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/18818" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/18818</a> | Fix release tarball generated by gitian by luke-jr · Pull Request #18818 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1592507160' id='392917'>
<a class='timestamp' href='#392917'><time timestamp='2020-06-18T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
no strong opinion, but I&#x27;m not sure the thread names are useful to most non-developers
<br>
</div>

<div class='talk op-msg' data-timestamp='1592507160' id='392918'>
<a class='timestamp' href='#392918'><time timestamp='2020-06-18T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
for running the tests it makes sense though
<br>
</div>

<div class='talk op-msg' data-timestamp='1592507220' id='392919'>
<a class='timestamp' href='#392919'><time timestamp='2020-06-18T19:07:00Z'>19:07</time></a>
&lt;<span class='nick nick-4'> jamesob</span>&gt;
I&#x27;m thinking it could be useful when we ask for debug.logs in bug reports
<br>
</div>

<div class='talk op-msg' data-timestamp='1592507220' id='392920'>
<a class='timestamp' href='#392920'><time timestamp='2020-06-18T19:07:00Z'>19:07</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
but we had a similar discussion at the time about adding microseconds by default to the log - like okay, for some things it might be useful, but it just widens the log messages 
<br>
</div>

<div class='talk op-msg' data-timestamp='1592507220' id='392921'>
<a class='timestamp' href='#392921'><time timestamp='2020-06-18T19:07:00Z'>19:07</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
luke-jr: I think after exploring a bit in the `tarfiles` python module (quite powerful, and shipped with python by default), we can use it to &quot;union&quot; the `make dist` archive, and the `git-archive` archives, happy for yours to be merged in first, just wanted to mention it here.
<br>
</div>

<div class='talk op-msg' data-timestamp='1592507280' id='392922'>
<a class='timestamp' href='#392922'><time timestamp='2020-06-18T19:08:00Z'>19:08</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
dongcarl: GNU tar can do it too, but I&#x27;m not sure it&#x27;s worth the complexity
<br>
</div>

<div class='talk op-msg' data-timestamp='1592507280' id='392923'>
<a class='timestamp' href='#392923'><time timestamp='2020-06-18T19:08:00Z'>19:08</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
jamesob: can you show a specific example where it helps? are there many log messages that are ambigious as to where they originate?
<br>
</div>

<div class='talk op-msg' data-timestamp='1592507340' id='392924'>
<a class='timestamp' href='#392924'><time timestamp='2020-06-18T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
(especially of those enabled by default)
<br>
</div>

<div class='talk op-msg' data-timestamp='1592507340' id='392925'>
<a class='timestamp' href='#392925'><time timestamp='2020-06-18T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-4'> jamesob</span>&gt;
wumpus: fair point, will raise again if I can
<br>
</div>

<div class='talk op-msg' data-timestamp='1592507340' id='392926'>
<a class='timestamp' href='#392926'><time timestamp='2020-06-18T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
jamesob: thanks
<br>
</div>

<div class='talk op-msg' data-timestamp='1592507400' id='392927'>
<a class='timestamp' href='#392927'><time timestamp='2020-06-18T19:10:00Z'>19:10</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
luke-jr: last time I tried it with GNU tar I remember it had weird behaviour, anyway, I&#x27;ll shut up until I have code :-)
<br>
</div>

<div class='talk op-msg' data-timestamp='1592507400' id='392928'>
<a class='timestamp' href='#392928'><time timestamp='2020-06-18T19:10:00Z'>19:10</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
dongcarl: also, I had originally made 18818 to do that, but I was uncertain of the ramifications of having different timestamps for the modified files
<br>
</div>

<div class='talk op-msg' data-timestamp='1592507460' id='392929'>
<a class='timestamp' href='#392929'><time timestamp='2020-06-18T19:11:00Z'>19:11</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
(iirc, git-archive is using a timestamp potentially after the gitian reference timestamp, so the source files would appear &quot;newer&quot; possibly)
<br>
</div>

<div class='talk op-msg' data-timestamp='1592507460' id='392930'>
<a class='timestamp' href='#392930'><time timestamp='2020-06-18T19:11:00Z'>19:11</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
I don&#x27;t see any downside to logging thread names by default (unless there&#x27;s a performance hit). It does make tracing what&#x27;s going on in the log files a lot easier
<br>
</div>

<div class='talk op-msg' data-timestamp='1592507520' id='392931'>
<a class='timestamp' href='#392931'><time timestamp='2020-06-18T19:12:00Z'>19:12</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
jnewbery: do you have any specific examples where it wouldh elp or would have helped?
<br>
</div>

<div class='talk op-msg' data-timestamp='1592507520' id='392932'>
<a class='timestamp' href='#392932'><time timestamp='2020-06-18T19:12:00Z'>19:12</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
luke-jr: true, but with the `tarfiles` python module we can make decisions on that programmatically ourselves, instead of GNU tar doing what its default conflict resolution is
<br>
</div>

<div class='talk op-msg' data-timestamp='1592507520' id='392933'>
<a class='timestamp' href='#392933'><time timestamp='2020-06-18T19:12:00Z'>19:12</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
the default amount of logging shouldn&#x27;t be a performance hit in any way, adding a field isn&#x27;t going to make it noticably worse
<br>
</div>

<div class='talk op-msg' data-timestamp='1592507580' id='392934'>
<a class='timestamp' href='#392934'><time timestamp='2020-06-18T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
so I&#x27;m more concerned about making the log unneceessarily spammy/verbose than performance hit here
<br>
</div>

<div class='talk op-msg' data-timestamp='1592507580' id='392935'>
<a class='timestamp' href='#392935'><time timestamp='2020-06-18T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
thread names are non-unique, right? it might be nice to log thread IDs in addition or instead.
<br>
</div>

<div class='talk op-msg' data-timestamp='1592507640' id='392936'>
<a class='timestamp' href='#392936'><time timestamp='2020-06-18T19:14:00Z'>19:14</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
otherwise all the worker threads will log the same name and it still won&#x27;t help to tell them apart.
<br>
</div>

<div class='talk op-msg' data-timestamp='1592507640' id='392937'>
<a class='timestamp' href='#392937'><time timestamp='2020-06-18T19:14:00Z'>19:14</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
all the names are unique
<br>
</div>

<div class='talk op-msg' data-timestamp='1592507640' id='392938'>
<a class='timestamp' href='#392938'><time timestamp='2020-06-18T19:14:00Z'>19:14</time></a>
&lt;<span class='nick nick-4'> jamesob</span>&gt;
gwillen: I think they&#x27;re unique at the moment; those that aren&#x27;t have an increasing suffix
<br>
</div>

<div class='talk op-msg' data-timestamp='1592507640' id='392939'>
<a class='timestamp' href='#392939'><time timestamp='2020-06-18T19:14:00Z'>19:14</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
ah okay great, nevermind
<br>
</div>

<div class='talk op-msg' data-timestamp='1592507700' id='392940'>
<a class='timestamp' href='#392940'><time timestamp='2020-06-18T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
wumpus: it&#x27;s just easier when you&#x27;re eyeballing the log to get an idea of what&#x27;s going on. Obviously if you know or look up the location of every log call in the source, you can work it out.
<br>
</div>

<div class='talk op-msg' data-timestamp='1592507700' id='392941'>
<a class='timestamp' href='#392941'><time timestamp='2020-06-18T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i just git grep the log message :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1592507700' id='392942'>
<a class='timestamp' href='#392942'><time timestamp='2020-06-18T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
sipa: same, it&#x27;s the only way to be sure :) log messages tend to be unique enough
<br>
</div>

<div class='talk op-msg' data-timestamp='1592507700' id='392943'>
<a class='timestamp' href='#392943'><time timestamp='2020-06-18T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
(no objection to logging thread names by default if it has no performance impact, though)
<br>
</div>

<div class='talk op-msg' data-timestamp='1592507820' id='392944'>
<a class='timestamp' href='#392944'><time timestamp='2020-06-18T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
(hi)
<br>
</div>

<div class='talk op-msg' data-timestamp='1592507820' id='392945'>
<a class='timestamp' href='#392945'><time timestamp='2020-06-18T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
but if everyone wants to add tghat field and I&#x27;m the only one slightly sceptical about it, just add it, no strong opinion
<br>
</div>

<div class='talk op-msg' data-timestamp='1592507820' id='392946'>
<a class='timestamp' href='#392946'><time timestamp='2020-06-18T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
let&#x27;s first benchmark?
<br>
</div>

<div class='talk op-msg' data-timestamp='1592507880' id='392947'>
<a class='timestamp' href='#392947'><time timestamp='2020-06-18T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
validation interface logging is also super helpful if you haven&#x27;t played around with it. It&#x27;s nice to see when the signals being added to the callback queue and when they&#x27;re serviced by the scheduler thread
<br>
</div>

<div class='talk op-msg' data-timestamp='1592507880' id='392948'>
<a class='timestamp' href='#392948'><time timestamp='2020-06-18T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
if looking up a thread name really causes a performance hit something is really wrong btw
<br>
</div>

<div class='talk op-msg' data-timestamp='1592507880' id='392949'>
<a class='timestamp' href='#392949'><time timestamp='2020-06-18T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
if logging is on the performance critical path (with the default amount of logging) in the first place
<br>
</div>

<div class='talk op-msg' data-timestamp='1592507880' id='392950'>
<a class='timestamp' href='#392950'><time timestamp='2020-06-18T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
agree, but haven&#x27;t we had surprising experiencing with this in the past?
<br>
</div>

<div class='talk op-msg' data-timestamp='1592507880' id='392951'>
<a class='timestamp' href='#392951'><time timestamp='2020-06-18T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-4'> jamesob</span>&gt;
wumpus: yeah I reckon you&#x27;re right. couldn&#x27;t hurt to see if something&#x27;s really wrong though
<br>
</div>

<div class='talk op-msg' data-timestamp='1592507940' id='392952'>
<a class='timestamp' href='#392952'><time timestamp='2020-06-18T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-4'> jamesob</span>&gt;
MarcoFalke has proposed to add a logging benchmark re: the previous issue, which I think is still open?
<br>
</div>

<div class='talk op-msg' data-timestamp='1592507940' id='392953'>
<a class='timestamp' href='#392953'><time timestamp='2020-06-18T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
make it it isn&#x27;t looking up the thread name for log categories that are disbaled
<br>
</div>

<div class='talk op-msg' data-timestamp='1592507940' id='392954'>
<a class='timestamp' href='#392954'><time timestamp='2020-06-18T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
sipa: there was some worry about enabling TLS causing a performance hit (independent of whether it was actually used frequently)
<br>
</div>

<div class='talk op-msg' data-timestamp='1592507940' id='392955'>
<a class='timestamp' href='#392955'><time timestamp='2020-06-18T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
sipa: but this turned out not to be the case
<br>
</div>

<div class='talk op-msg' data-timestamp='1592507940' id='392956'>
<a class='timestamp' href='#392956'><time timestamp='2020-06-18T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
(TLS as in Thread Local Storage, not the other thing)
<br>
</div>

<div class='talk op-msg' data-timestamp='1592508000' id='392957'>
<a class='timestamp' href='#392957'><time timestamp='2020-06-18T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
jup the log bench is still open
<br>
</div>

<div class='talk op-msg' data-timestamp='1592508000' id='392958'>
<a class='timestamp' href='#392958'><time timestamp='2020-06-18T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
imo it can be merged. The risk should be zero
<br>
</div>

<div class='talk op-msg' data-timestamp='1592508000' id='392959'>
<a class='timestamp' href='#392959'><time timestamp='2020-06-18T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I implemented the thread name lookup using a map but then it turned out to not be the problem at all
<br>
</div>

<div class='talk op-msg' data-timestamp='1592508000' id='392960'>
<a class='timestamp' href='#392960'><time timestamp='2020-06-18T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-4'> jamesob</span>&gt;
MarcoFalke: agree, think I&#x27;ve acked it
<br>
</div>

<div class='talk op-msg' data-timestamp='1592508000' id='392961'>
<a class='timestamp' href='#392961'><time timestamp='2020-06-18T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ok
<br>
</div>

<div class='talk op-msg' data-timestamp='1592508000' id='392962'>
<a class='timestamp' href='#392962'><time timestamp='2020-06-18T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
in any case please do not log on the critical path
<br>
</div>

<div class='talk op-msg' data-timestamp='1592508000' id='392963'>
<a class='timestamp' href='#392963'><time timestamp='2020-06-18T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
definitely not by default (with debug flags is fine)
<br>
</div>

<div class='talk op-msg' data-timestamp='1592508060' id='392964'>
<a class='timestamp' href='#392964'><time timestamp='2020-06-18T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
but if it&#x27;s logging in an inner loop or something that really affects, say, validation performance, that&#x27;s not how logigng should be used
<br>
</div>

<div class='talk op-msg' data-timestamp='1592508120' id='392965'>
<a class='timestamp' href='#392965'><time timestamp='2020-06-18T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it&#x27;s why I find a logging benchmark kind of weird, we&#x27;re not trying to optimize logging throughput
<br>
</div>

<div class='talk op-msg' data-timestamp='1592508180' id='392966'>
<a class='timestamp' href='#392966'><time timestamp='2020-06-18T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-4'> jamesob</span>&gt;
it&#x27;s less for optimization and more just an assurance we&#x27;re not doing anything totally dumb
<br>
</div>

<div class='talk op-msg' data-timestamp='1592508180' id='392967'>
<a class='timestamp' href='#392967'><time timestamp='2020-06-18T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
jamesob: agree
<br>
</div>

<div class='talk op-msg' data-timestamp='1592508180' id='392968'>
<a class='timestamp' href='#392968'><time timestamp='2020-06-18T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
the benchmark also checks that <b>*disabled*</b> logs don&#x27;t affect performance
<br>
</div>

<div class='talk op-msg' data-timestamp='1592508180' id='392969'>
<a class='timestamp' href='#392969'><time timestamp='2020-06-18T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
maybe I should call is nolog bench
<br>
</div>

<div class='talk op-msg' data-timestamp='1592508180' id='392970'>
<a class='timestamp' href='#392970'><time timestamp='2020-06-18T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
*it
<br>
</div>

<div class='talk op-msg' data-timestamp='1592508180' id='392971'>
<a class='timestamp' href='#392971'><time timestamp='2020-06-18T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
that&#x27;s a good idea
<br>
</div>

<div class='talk op-msg' data-timestamp='1592508240' id='392972'>
<a class='timestamp' href='#392972'><time timestamp='2020-06-18T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
logprintf arguments shouldn&#x27;t even be evaluated in that case
<br>
</div>

<div class='talk op-msg' data-timestamp='1592508300' id='392973'>
<a class='timestamp' href='#392973'><time timestamp='2020-06-18T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
jup (I broke that once)
<br>
</div>

<div class='talk op-msg' data-timestamp='1592508300' id='392974'>
<a class='timestamp' href='#392974'><time timestamp='2020-06-18T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-5'> * MarcoFalke</span>&gt;
hides
<br>
</div>

<div class='talk op-msg' data-timestamp='1592508300' id='392975'>
<a class='timestamp' href='#392975'><time timestamp='2020-06-18T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
heh
<br>
</div>

<div class='talk op-msg' data-timestamp='1592508360' id='392976'>
<a class='timestamp' href='#392976'><time timestamp='2020-06-18T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
#topic Taproot implementation plan (moneyball)
<br>
</div>

<div class='talk op-msg' data-timestamp='1592508360' id='392977'>
<a class='timestamp' href='#392977'><time timestamp='2020-06-18T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-11'> moneyball</span>&gt;
Hi everyone, I wanted to check in here to get a sense for whether contributors are imagining the taproot implementation making it into v.21 or not. If yes, then it is likely the case that there needs to be pretty extreme focus in order to make it in time.
<br>
</div>

<div class='talk op-msg' data-timestamp='1592508420' id='392978'>
<a class='timestamp' href='#392978'><time timestamp='2020-06-18T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-11'> moneyball</span>&gt;
Here is a draft document that compiles a list of things that (arguably) need to be done for taproot to be complete. Would love feedback on this: is everything listed required? Is anything missing? <a href="https://docs.google.com/document/d/1DAMV9csW9k7vDh118_e65-IPJd4AcCImkvsB0b3gbNw/edit" class="link" target="_blank">https://docs.google.com/document/d/1DAMV9csW9k7vDh118_e65-IPJd4AcCImkvsB0b3gbNw/edit</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1592508480' id='392979'>
<a class='timestamp' href='#392979'><time timestamp='2020-06-18T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-11'> moneyball</span>&gt;
(feel free to comment in the doc)
<br>
</div>

<div class='talk op-msg' data-timestamp='1592508480' id='392980'>
<a class='timestamp' href='#392980'><time timestamp='2020-06-18T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-11'> moneyball</span>&gt;
or here
<br>
</div>

<div class='talk op-msg' data-timestamp='1592508480' id='392981'>
<a class='timestamp' href='#392981'><time timestamp='2020-06-18T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
moneyball: activation isn&#x27;t required
<br>
</div>

<div class='talk op-msg' data-timestamp='1592508540' id='392982'>
<a class='timestamp' href='#392982'><time timestamp='2020-06-18T19:29:00Z'>19:29</time></a>
&lt;<span class='nick nick-11'> moneyball</span>&gt;
ok
<br>
</div>

<div class='talk op-msg' data-timestamp='1592508540' id='392983'>
<a class='timestamp' href='#392983'><time timestamp='2020-06-18T19:29:00Z'>19:29</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
typically our process would be merging in a 0.x.0 release, and then implementating activation whenever in a 0.x.1
<br>
</div>

<div class='talk op-msg' data-timestamp='1592508540' id='392984'>
<a class='timestamp' href='#392984'><time timestamp='2020-06-18T19:29:00Z'>19:29</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
associated PR would be #17977 I guess
<br>
</div>

<div class='talk op-msg' data-timestamp='1592508540' id='392985'>
<a class='timestamp' href='#392985'><time timestamp='2020-06-18T19:29:00Z'>19:29</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/17977" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/17977</a> | [WIP] Implement BIP 340-342 validation (Schnorr/taproot/tapscript) by sipa · Pull Request #17977 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1592508540' id='392986'>
<a class='timestamp' href='#392986'><time timestamp='2020-06-18T19:29:00Z'>19:29</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
signet isn&#x27;t required
<br>
</div>

<div class='talk op-msg' data-timestamp='1592508540' id='392987'>
<a class='timestamp' href='#392987'><time timestamp='2020-06-18T19:29:00Z'>19:29</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
yeah I think we don&#x27;t usually aim for major releases to have forks, should be a minor
<br>
</div>

<div class='talk op-msg' data-timestamp='1592508600' id='392988'>
<a class='timestamp' href='#392988'><time timestamp='2020-06-18T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
So there really isn&#x27;t any release window time crunch to push for
<br>
</div>

<div class='talk op-msg' data-timestamp='1592508600' id='392989'>
<a class='timestamp' href='#392989'><time timestamp='2020-06-18T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
But I agree in principal with trying to figure out a path for activation
<br>
</div>

<div class='talk op-msg' data-timestamp='1592508600' id='392990'>
<a class='timestamp' href='#392990'><time timestamp='2020-06-18T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-11'> moneyball</span>&gt;
luke-jr, sipa: well there is including the activation code and then separately configuring the activation parameters. right?
<br>
</div>

<div class='talk op-msg' data-timestamp='1592508600' id='392991'>
<a class='timestamp' href='#392991'><time timestamp='2020-06-18T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
moneyball: depends on the activation mechanism
<br>
</div>

<div class='talk op-msg' data-timestamp='1592508660' id='392992'>
<a class='timestamp' href='#392992'><time timestamp='2020-06-18T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
if a new activation mechanism needs code, then yes that needs code :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1592508660' id='392993'>
<a class='timestamp' href='#392993'><time timestamp='2020-06-18T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-11'> moneyball</span>&gt;
ha :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1592508660' id='392994'>
<a class='timestamp' href='#392994'><time timestamp='2020-06-18T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
One thing I&#x27;m curious to look at is if the recent changes to the sighash &amp; the recent hardware wallet issues are informing or suggesting any other sighash changes we should be doing concurrently.
<br>
</div>

<div class='talk op-msg' data-timestamp='1592508660' id='392995'>
<a class='timestamp' href='#392995'><time timestamp='2020-06-18T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-11'> moneyball</span>&gt;
ok my understanding of that is that a new activation method is planned to be proposed to the mailing list, and IF there is consensus around that, then yes, that code would need to be added to Core
<br>
</div>

<div class='talk op-msg' data-timestamp='1592508660' id='392996'>
<a class='timestamp' href='#392996'><time timestamp='2020-06-18T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-10'> ariard</span>&gt;
haven&#x27;t reviewed yet 17977 yet, what&#x27;s the test coverage of it ? do we need to add more support for testing taproot tree composition in fuzzing or test framework?
<br>
</div>

<div class='talk op-msg' data-timestamp='1592508720' id='392997'>
<a class='timestamp' href='#392997'><time timestamp='2020-06-18T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ariard: the python code is effectively an extensive generate-random cases with lots of edge cases, and compare the python-created signatures against block/tx validation
<br>
</div>

<div class='talk op-msg' data-timestamp='1592508720' id='392998'>
<a class='timestamp' href='#392998'><time timestamp='2020-06-18T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ariard: more testing is absolutely welcome of course
<br>
</div>

<div class='talk op-msg' data-timestamp='1592508780' id='392999'>
<a class='timestamp' href='#392999'><time timestamp='2020-06-18T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
moneyball: fwiw I&#x27;ve talked with a bunch of contributors and I think Modern Soft Fork Activation is far from a universally loved approach. That conversation should probably be had more exentsively before you hitch taproot onto that wagon
<br>
</div>

<div class='talk op-msg' data-timestamp='1592508780' id='393000'>
<a class='timestamp' href='#393000'><time timestamp='2020-06-18T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
moneyball: that sounds like it needs ML discussion first
<br>
</div>

<div class='talk op-msg' data-timestamp='1592508780' id='393001'>
<a class='timestamp' href='#393001'><time timestamp='2020-06-18T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-11'> moneyball</span>&gt;
luke-jr: ok i guess i understand that signet is not required per se, but, some kind of test plan would be. has there been much discussion and consensus for how to test this in Core?
<br>
</div>

<div class='talk op-msg' data-timestamp='1592508780' id='393002'>
<a class='timestamp' href='#393002'><time timestamp='2020-06-18T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-11'> moneyball</span>&gt;
sipa: yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1592508780' id='393003'>
<a class='timestamp' href='#393003'><time timestamp='2020-06-18T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it&#x27;s hard to ask people here what they think about an approach that hasn&#x27;t even been published yet
<br>
</div>

<div class='talk op-msg' data-timestamp='1592508900' id='393004'>
<a class='timestamp' href='#393004'><time timestamp='2020-06-18T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-11'> moneyball</span>&gt;
my hope was to focus on non-activation method work needed in Core
<br>
</div>

<div class='talk op-msg' data-timestamp='1592508900' id='393005'>
<a class='timestamp' href='#393005'><time timestamp='2020-06-18T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yeah, that makes sense
<br>
</div>

<div class='talk op-msg' data-timestamp='1592508900' id='393006'>
<a class='timestamp' href='#393006'><time timestamp='2020-06-18T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-11'> moneyball</span>&gt;
perhaps it was a mistake having line item one in that doc 
<br>
</div>

<div class='talk op-msg' data-timestamp='1592508900' id='393007'>
<a class='timestamp' href='#393007'><time timestamp='2020-06-18T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Although not required, it would be really nice to have a Taproot Signet.
<br>
</div>

<div class='talk op-msg' data-timestamp='1592508960' id='393008'>
<a class='timestamp' href='#393008'><time timestamp='2020-06-18T19:36:00Z'>19:36</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i think implementation wise that list pretty much covers it
<br>
</div>

<div class='talk op-msg' data-timestamp='1592508960' id='393009'>
<a class='timestamp' href='#393009'><time timestamp='2020-06-18T19:36:00Z'>19:36</time></a>
&lt;<span class='nick nick-11'> moneyball</span>&gt;
ok i just deleted that line item from the doc :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1592509020' id='393010'>
<a class='timestamp' href='#393010'><time timestamp='2020-06-18T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-11'> moneyball</span>&gt;
i would love to hear more discussion about testing approach. what is there general agreement on? what are open questions that need to be discussed?
<br>
</div>

<div class='talk op-msg' data-timestamp='1592509140' id='393011'>
<a class='timestamp' href='#393011'><time timestamp='2020-06-18T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
I think that running on signet doesn&#x27;t really do anything by itself
<br>
</div>

<div class='talk op-msg' data-timestamp='1592509140' id='393012'>
<a class='timestamp' href='#393012'><time timestamp='2020-06-18T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
provoostenator: sure, I was just answering moneyball&#x27;s request for things not required :P
<br>
</div>

<div class='talk op-msg' data-timestamp='1592509140' id='393013'>
<a class='timestamp' href='#393013'><time timestamp='2020-06-18T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
The real challenge is to get integration tests somewhere
<br>
</div>

<div class='talk op-msg' data-timestamp='1592509140' id='393014'>
<a class='timestamp' href='#393014'><time timestamp='2020-06-18T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
moneyball: having a signet explorer somewhere can help with testing too
<br>
</div>

<div class='talk op-msg' data-timestamp='1592509200' id='393015'>
<a class='timestamp' href='#393015'><time timestamp='2020-06-18T19:40:00Z'>19:40</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
E.g., people attempting to integrate it and acutally use taproot
<br>
</div>

<div class='talk op-msg' data-timestamp='1592509200' id='393016'>
<a class='timestamp' href='#393016'><time timestamp='2020-06-18T19:40:00Z'>19:40</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
I would put more stock in, e.g., an LND fork with taproot support against regtest than signet (but signet would be great too)
<br>
</div>

<div class='talk op-msg' data-timestamp='1592509200' id='393017'>
<a class='timestamp' href='#393017'><time timestamp='2020-06-18T19:40:00Z'>19:40</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jeremyrubin: that would be great, but i fear that it&#x27;s a bit of a chicken and egg problem
<br>
</div>

<div class='talk op-msg' data-timestamp='1592509200' id='393018'>
<a class='timestamp' href='#393018'><time timestamp='2020-06-18T19:40:00Z'>19:40</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
segnet worked okay AFAIR
<br>
</div>

<div class='talk op-msg' data-timestamp='1592509200' id='393019'>
<a class='timestamp' href='#393019'><time timestamp='2020-06-18T19:40:00Z'>19:40</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
testing should be before merge anyway
<br>
</div>

<div class='talk op-msg' data-timestamp='1592509260' id='393020'>
<a class='timestamp' href='#393020'><time timestamp='2020-06-18T19:41:00Z'>19:41</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
luke-jr: signet could be in a release and completely changed in the next release though
<br>
</div>

<div class='talk op-msg' data-timestamp='1592509260' id='393021'>
<a class='timestamp' href='#393021'><time timestamp='2020-06-18T19:41:00Z'>19:41</time></a>
&lt;<span class='nick nick-10'> ariard</span>&gt;
sipa: does feature_taproot.py attempt any coverage-guided like a fuzzer?
<br>
</div>

<div class='talk op-msg' data-timestamp='1592509260' id='393022'>
<a class='timestamp' href='#393022'><time timestamp='2020-06-18T19:41:00Z'>19:41</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yeah, if not signet we can create a (normal) testnet with it activated too (i think signet would be preferable, but if it somehow doesn&#x27;t make it in time, i don&#x27;t think that would be a blocker)
<br>
</div>

<div class='talk op-msg' data-timestamp='1592509260' id='393023'>
<a class='timestamp' href='#393023'><time timestamp='2020-06-18T19:41:00Z'>19:41</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ariard: no
<br>
</div>

<div class='talk op-msg' data-timestamp='1592509260' id='393024'>
<a class='timestamp' href='#393024'><time timestamp='2020-06-18T19:41:00Z'>19:41</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Or we could release a taproot signet binary seperately
<br>
</div>

<div class='talk op-msg' data-timestamp='1592509260' id='393025'>
<a class='timestamp' href='#393025'><time timestamp='2020-06-18T19:41:00Z'>19:41</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
sipa: indeed it&#x27;s hard. I think if signet comes out then people will integrate test against it
<br>
</div>

<div class='talk op-msg' data-timestamp='1592509260' id='393026'>
<a class='timestamp' href='#393026'><time timestamp='2020-06-18T19:41:00Z'>19:41</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
provoostenator: that seems like a given
<br>
</div>

<div class='talk op-msg' data-timestamp='1592509320' id='393027'>
<a class='timestamp' href='#393027'><time timestamp='2020-06-18T19:42:00Z'>19:42</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
Just more noting that just getting signet out doesn&#x27;t do anything in terms of progress alone
<br>
</div>

<div class='talk op-msg' data-timestamp='1592509320' id='393028'>
<a class='timestamp' href='#393028'><time timestamp='2020-06-18T19:42:00Z'>19:42</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
provoostenator: otherwise we&#x27;d be merging taproot before testing it
<br>
</div>

<div class='talk op-msg' data-timestamp='1592509320' id='393029'>
<a class='timestamp' href='#393029'><time timestamp='2020-06-18T19:42:00Z'>19:42</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ariard: fuzzing definitely makes sense to test for things like memory violations and UB
<br>
</div>

<div class='talk op-msg' data-timestamp='1592509320' id='393030'>
<a class='timestamp' href='#393030'><time timestamp='2020-06-18T19:42:00Z'>19:42</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
well if it helps getting more attention to testing taproot, that&#x27;s progress
<br>
</div>

<div class='talk op-msg' data-timestamp='1592509320' id='393031'>
<a class='timestamp' href='#393031'><time timestamp='2020-06-18T19:42:00Z'>19:42</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
luke-jr: i think there are different stages of testing, and different stages of getting attention to it
<br>
</div>

<div class='talk op-msg' data-timestamp='1592509380' id='393032'>
<a class='timestamp' href='#393032'><time timestamp='2020-06-18T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-10'> ariard</span>&gt;
sipa: right you may have nast edges cases we wide trees and oversized tapscripts?
<br>
</div>

<div class='talk op-msg' data-timestamp='1592509380' id='393033'>
<a class='timestamp' href='#393033'><time timestamp='2020-06-18T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jnewbery opened pull request #19322: [net] split PushInventory() (master...2020-06-split-push-inventory) <a href="https://github.com/bitcoin/bitcoin/pull/19322" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19322</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1592509380' id='393034'>
<a class='timestamp' href='#393034'><time timestamp='2020-06-18T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ariard: there is a test for the max depth of the tree, if that&#x27;s what you&#x27;re asking for
<br>
</div>

<div class='talk op-msg' data-timestamp='1592509380' id='393035'>
<a class='timestamp' href='#393035'><time timestamp='2020-06-18T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
luke-jr: and at some point it will need to be merged for people to test against a kind of testnet, which hopefully informs discussions on activation
<br>
</div>

<div class='talk op-msg' data-timestamp='1592509380' id='393036'>
<a class='timestamp' href='#393036'><time timestamp='2020-06-18T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-10'> ariard</span>&gt;
okay great
<br>
</div>

<div class='talk op-msg' data-timestamp='1592509440' id='393037'>
<a class='timestamp' href='#393037'><time timestamp='2020-06-18T19:44:00Z'>19:44</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it can&#x27;t be testnet/signet tested before being merged - but different kinds of testing are obviously necessary before that point
<br>
</div>

<div class='talk op-msg' data-timestamp='1592509440' id='393038'>
<a class='timestamp' href='#393038'><time timestamp='2020-06-18T19:44:00Z'>19:44</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
I think the issue with signet is it doesn&#x27;t add a new message type/storage place for the signatures
<br>
</div>

<div class='talk op-msg' data-timestamp='1592509440' id='393039'>
<a class='timestamp' href='#393039'><time timestamp='2020-06-18T19:44:00Z'>19:44</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
I understand why kallewoof did it that way and it makes sense
<br>
</div>

<div class='talk op-msg' data-timestamp='1592509440' id='393040'>
<a class='timestamp' href='#393040'><time timestamp='2020-06-18T19:44:00Z'>19:44</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
But it just makes it difficult for people to want to merge it
<br>
</div>

<div class='talk op-msg' data-timestamp='1592509440' id='393041'>
<a class='timestamp' href='#393041'><time timestamp='2020-06-18T19:44:00Z'>19:44</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jeremyrubin: this seems orthogonal
<br>
</div>

<div class='talk op-msg' data-timestamp='1592509440' id='393042'>
<a class='timestamp' href='#393042'><time timestamp='2020-06-18T19:44:00Z'>19:44</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
slightly
<br>
</div>

<div class='talk op-msg' data-timestamp='1592509500' id='393043'>
<a class='timestamp' href='#393043'><time timestamp='2020-06-18T19:45:00Z'>19:45</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i don&#x27;t think taproot should be blocked by signet in any case
<br>
</div>

<div class='talk op-msg' data-timestamp='1592509500' id='393044'>
<a class='timestamp' href='#393044'><time timestamp='2020-06-18T19:45:00Z'>19:45</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
sipa: but I think we want tapnet before merging?
<br>
</div>

<div class='talk op-msg' data-timestamp='1592509500' id='393045'>
<a class='timestamp' href='#393045'><time timestamp='2020-06-18T19:45:00Z'>19:45</time></a>
&lt;<span class='nick nick-14'> jonatack</span>&gt;
hi... fwiw MarcoFalke, fjahr, brakmic and I were testing signet for some time and going back and forth with kallewoof on improvements... iirc it&#x27;s the PR is in pretty good shape
<br>
</div>

<div class='talk op-msg' data-timestamp='1592509500' id='393046'>
<a class='timestamp' href='#393046'><time timestamp='2020-06-18T19:45:00Z'>19:45</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
luke-jr: perhaps
<br>
</div>

<div class='talk op-msg' data-timestamp='1592509500' id='393047'>
<a class='timestamp' href='#393047'><time timestamp='2020-06-18T19:45:00Z'>19:45</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
luke-jr: i think that may make sense
<br>
</div>

<div class='talk op-msg' data-timestamp='1592509500' id='393048'>
<a class='timestamp' href='#393048'><time timestamp='2020-06-18T19:45:00Z'>19:45</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
What about just flag daying testnet?
<br>
</div>

<div class='talk op-msg' data-timestamp='1592509500' id='393049'>
<a class='timestamp' href='#393049'><time timestamp='2020-06-18T19:45:00Z'>19:45</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
there aren&#x27;t any associated P2P changes, so i think the need for that level of testing may be lower than with segwit
<br>
</div>

<div class='talk op-msg' data-timestamp='1592509560' id='393050'>
<a class='timestamp' href='#393050'><time timestamp='2020-06-18T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
as said, testnet needs to be compatible between releases, so there&#x27;s not much scope for experimentation there
<br>
</div>

<div class='talk op-msg' data-timestamp='1592509560' id='393051'>
<a class='timestamp' href='#393051'><time timestamp='2020-06-18T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-14'> * luke-jr</span>&gt;
glad to hear brakmic hasn&#x27;t given up on us completely :x
<br>
</div>

<div class='talk op-msg' data-timestamp='1592509560' id='393052'>
<a class='timestamp' href='#393052'><time timestamp='2020-06-18T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
wumpus: doesn&#x27;t need to be..
<br>
</div>

<div class='talk op-msg' data-timestamp='1592509620' id='393053'>
<a class='timestamp' href='#393053'><time timestamp='2020-06-18T19:47:00Z'>19:47</time></a>
&lt;<span class='nick nick-10'> ariard</span>&gt;
do we expect to introduce new standard rules on taproot witness?
<br>
</div>

<div class='talk op-msg' data-timestamp='1592509620' id='393054'>
<a class='timestamp' href='#393054'><time timestamp='2020-06-18T19:47:00Z'>19:47</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I mean, I think there should be a flag day on testnet before considering activation on mainnet, but only after the protocol and implementation is virtually finalized
<br>
</div>

<div class='talk op-msg' data-timestamp='1592509620' id='393055'>
<a class='timestamp' href='#393055'><time timestamp='2020-06-18T19:47:00Z'>19:47</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
lol, wasn&#x27;t testnet hardforked for segwit? 
<br>
</div>

<div class='talk op-msg' data-timestamp='1592509680' id='393056'>
<a class='timestamp' href='#393056'><time timestamp='2020-06-18T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
I mean silent hardfork. &quot;hardfork&quot; is probably the wrong word
<br>
</div>

<div class='talk op-msg' data-timestamp='1592509680' id='393057'>
<a class='timestamp' href='#393057'><time timestamp='2020-06-18T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
wumpus: ah I see. I thought we can just reset testnet if we want. Does anyone care?
<br>
</div>

<div class='talk op-msg' data-timestamp='1592509680' id='393058'>
<a class='timestamp' href='#393058'><time timestamp='2020-06-18T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
wumpus: you can also make a soft fork flag day that a rule is enforced for N blocks only
<br>
</div>

<div class='talk op-msg' data-timestamp='1592509680' id='393059'>
<a class='timestamp' href='#393059'><time timestamp='2020-06-18T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
jeremyrubin: it&#x27;s possible but should probably be avoided
<br>
</div>

<div class='talk op-msg' data-timestamp='1592509680' id='393060'>
<a class='timestamp' href='#393060'><time timestamp='2020-06-18T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ariard: yes, though they&#x27;re pretty weak; upgradability (annex, new leaf versions, ...), and max stack item size
<br>
</div>

<div class='talk op-msg' data-timestamp='1592509740' id='393061'>
<a class='timestamp' href='#393061'><time timestamp='2020-06-18T19:49:00Z'>19:49</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ariard: <a href="https://github.com/bitcoin/bitcoin/pull/17977/commits/fa2b4fded614ef2424404b22a07bfbdb2d77ea6c" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/17977/commits/fa2b4fded614ef2424404b22a07bfbdb2d77ea6c</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1592509740' id='393062'>
<a class='timestamp' href='#393062'><time timestamp='2020-06-18T19:49:00Z'>19:49</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
doing things like &#x27;reset testnet&#x27; isn&#x27;t going to make changes more popular
<br>
</div>

<div class='talk op-msg' data-timestamp='1592509740' id='393063'>
<a class='timestamp' href='#393063'><time timestamp='2020-06-18T19:49:00Z'>19:49</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
wumpus: what about flag day testnet and rule only valid for 6 mos of blocks?
<br>
</div>

<div class='talk op-msg' data-timestamp='1592509800' id='393064'>
<a class='timestamp' href='#393064'><time timestamp='2020-06-18T19:50:00Z'>19:50</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
I find it hard to believe a non-trivial change to testnet is more difficult than signet.
<br>
</div>

<div class='talk op-msg' data-timestamp='1592509800' id='393065'>
<a class='timestamp' href='#393065'><time timestamp='2020-06-18T19:50:00Z'>19:50</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
Would make it easier to do sort of rolling releases on testnet if there&#x27;s a worry about wanting to permanently be in step with core
<br>
</div>

<div class='talk op-msg' data-timestamp='1592509800' id='393066'>
<a class='timestamp' href='#393066'><time timestamp='2020-06-18T19:50:00Z'>19:50</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
meh, we can just create specialized testnets
<br>
</div>

<div class='talk op-msg' data-timestamp='1592509860' id='393067'>
<a class='timestamp' href='#393067'><time timestamp='2020-06-18T19:51:00Z'>19:51</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
before or after merge
<br>
</div>

<div class='talk op-msg' data-timestamp='1592509860' id='393068'>
<a class='timestamp' href='#393068'><time timestamp='2020-06-18T19:51:00Z'>19:51</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
contention to resetting testnet, is a reason to reset testnet :P
<br>
</div>

<div class='talk op-msg' data-timestamp='1592509860' id='393069'>
<a class='timestamp' href='#393069'><time timestamp='2020-06-18T19:51:00Z'>19:51</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
testnet has compatbility requirements
<br>
</div>

<div class='talk op-msg' data-timestamp='1592509860' id='393070'>
<a class='timestamp' href='#393070'><time timestamp='2020-06-18T19:51:00Z'>19:51</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
specialized things don&#x27;t
<br>
</div>

<div class='talk op-msg' data-timestamp='1592509920' id='393071'>
<a class='timestamp' href='#393071'><time timestamp='2020-06-18T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
right, a specialized testnet would make sense, that&#x27;s basically what signet is anyway (except the mining part)
<br>
</div>

<div class='talk op-msg' data-timestamp='1592509920' id='393072'>
<a class='timestamp' href='#393072'><time timestamp='2020-06-18T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
indeed
<br>
</div>

<div class='talk op-msg' data-timestamp='1592509920' id='393073'>
<a class='timestamp' href='#393073'><time timestamp='2020-06-18T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-11'> moneyball</span>&gt;
do we consider this PR required for taproot? <a href="https://github.com/bitcoin/bitcoin/pull/18044" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/18044</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1592509920' id='393074'>
<a class='timestamp' href='#393074'><time timestamp='2020-06-18T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-11'> moneyball</span>&gt;
and this one? <a href="https://github.com/bitcoin/bitcoin/pull/19184" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19184</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1592509920' id='393075'>
<a class='timestamp' href='#393075'><time timestamp='2020-06-18T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
moneyball: i believe sdaftuar has some thoughts on that
<br>
</div>

<div class='talk op-msg' data-timestamp='1592509980' id='393076'>
<a class='timestamp' href='#393076'><time timestamp='2020-06-18T19:53:00Z'>19:53</time></a>
&lt;<span class='nick nick-10'> ariard</span>&gt;
sipa: indeed all of them are constraints on new data structure so no risk to tamper with network/break existent applications
<br>
</div>

<div class='talk op-msg' data-timestamp='1592510040' id='393077'>
<a class='timestamp' href='#393077'><time timestamp='2020-06-18T19:54:00Z'>19:54</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
network stuff isn&#x27;t required
<br>
</div>

<div class='talk op-msg' data-timestamp='1592510040' id='393078'>
<a class='timestamp' href='#393078'><time timestamp='2020-06-18T19:54:00Z'>19:54</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
It can be done after
<br>
</div>

<div class='talk op-msg' data-timestamp='1592510040' id='393079'>
<a class='timestamp' href='#393079'><time timestamp='2020-06-18T19:54:00Z'>19:54</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jeremyrubin: read the wtxid relay PR
<br>
</div>

<div class='talk op-msg' data-timestamp='1592510040' id='393080'>
<a class='timestamp' href='#393080'><time timestamp='2020-06-18T19:54:00Z'>19:54</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it gives a justification
<br>
</div>

<div class='talk op-msg' data-timestamp='1592510100' id='393081'>
<a class='timestamp' href='#393081'><time timestamp='2020-06-18T19:55:00Z'>19:55</time></a>
&lt;<span class='nick nick-10'> ariard</span>&gt;
right because v0 segwit nodes are going to waste bandwidth constantly redownloading taproot txn they can&#x27;t verify
<br>
</div>

<div class='talk op-msg' data-timestamp='1592510100' id='393082'>
<a class='timestamp' href='#393082'><time timestamp='2020-06-18T19:55:00Z'>19:55</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
indeed
<br>
</div>

<div class='talk op-msg' data-timestamp='1592510100' id='393083'>
<a class='timestamp' href='#393083'><time timestamp='2020-06-18T19:55:00Z'>19:55</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
this depends on how upgraded nodes are at the time of activation of course
<br>
</div>

<div class='talk op-msg' data-timestamp='1592510160' id='393084'>
<a class='timestamp' href='#393084'><time timestamp='2020-06-18T19:56:00Z'>19:56</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
so it may not be a big issue, but having a way to reduce that impact beforehand sounds like an improvement
<br>
</div>

<div class='talk op-msg' data-timestamp='1592510160' id='393085'>
<a class='timestamp' href='#393085'><time timestamp='2020-06-18T19:56:00Z'>19:56</time></a>
&lt;<span class='nick nick-10'> ariard</span>&gt;
ofc how long it takes to get 80% of segwit nodes ? or similar number based on previous forks?
<br>
</div>

<div class='talk op-msg' data-timestamp='1592510160' id='393086'>
<a class='timestamp' href='#393086'><time timestamp='2020-06-18T19:56:00Z'>19:56</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
yeah I am familiar. It&#x27;s not great, but I personally don&#x27;t think it&#x27;s blocking
<br>
</div>

<div class='talk op-msg' data-timestamp='1592510160' id='393087'>
<a class='timestamp' href='#393087'><time timestamp='2020-06-18T19:56:00Z'>19:56</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ok
<br>
</div>

<div class='talk op-msg' data-timestamp='1592510220' id='393088'>
<a class='timestamp' href='#393088'><time timestamp='2020-06-18T19:57:00Z'>19:57</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
I could be wrong on that though
<br>
</div>

<div class='talk op-msg' data-timestamp='1592510220' id='393089'>
<a class='timestamp' href='#393089'><time timestamp='2020-06-18T19:57:00Z'>19:57</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
moneyball: i think wtxid could be done before 19184
<br>
</div>

<div class='talk op-msg' data-timestamp='1592510280' id='393090'>
<a class='timestamp' href='#393090'><time timestamp='2020-06-18T19:58:00Z'>19:58</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
(but i&#x27;m obviously biased in liking 19184 to get in)
<br>
</div>

<div class='talk op-msg' data-timestamp='1592510280' id='393091'>
<a class='timestamp' href='#393091'><time timestamp='2020-06-18T19:58:00Z'>19:58</time></a>
&lt;<span class='nick nick-10'> ariard</span>&gt;
jeremyrubin: don&#x27;t you have a bad effect as we see more taproot txn ande nodes relaying them the cost is increasing non-linearly for non-upgraded nodes?
<br>
</div>

<div class='talk op-msg' data-timestamp='1592510280' id='393092'>
<a class='timestamp' href='#393092'><time timestamp='2020-06-18T19:58:00Z'>19:58</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
meeting time about to end
<br>
</div>

<div class='talk op-msg' data-timestamp='1592510280' id='393093'>
<a class='timestamp' href='#393093'><time timestamp='2020-06-18T19:58:00Z'>19:58</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ariard: well, it&#x27;s linear, but with a possibly big constant factor
<br>
</div>

<div class='talk op-msg' data-timestamp='1592510340' id='393094'>
<a class='timestamp' href='#393094'><time timestamp='2020-06-18T19:59:00Z'>19:59</time></a>
&lt;<span class='nick nick-11'> moneyball</span>&gt;
ok thank you for the feedback. this has been valuable. lots to follow-up on though!
<br>
</div>

<div class='talk op-msg' data-timestamp='1592510400' id='393095'>
<a class='timestamp' href='#393095'><time timestamp='2020-06-18T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
#endmeeting
<br>
</div>

<div class='talk op-msg' data-timestamp='1592510400' id='393096'>
<a class='timestamp' href='#393096'><time timestamp='2020-06-18T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Meeting ended Thu Jun 18 20:00:18 2020 UTC.  Information about MeetBot at <a href="http://wiki.debian.org/MeetBot" class="link" target="_blank">http://wiki.debian.org/MeetBot</a> . (v 0.1.4)
<br>
</div>

<div class='talk op-msg' data-timestamp='1592510400' id='393097'>
<a class='timestamp' href='#393097'><time timestamp='2020-06-18T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Minutes:        <a href="http://www.erisian.com.au/meetbot/bitcoin-core-dev/2020/bitcoin-core-dev.2020-06-18-19.00.html" class="link" target="_blank">http://www.erisian.com.au/meetbot/bitcoin-core-dev/2020/bitcoin-core-dev.2020-06-18-19.00.html</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1592510400' id='393098'>
<a class='timestamp' href='#393098'><time timestamp='2020-06-18T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Minutes (text): <a href="http://www.erisian.com.au/meetbot/bitcoin-core-dev/2020/bitcoin-core-dev.2020-06-18-19.00.txt" class="link" target="_blank">http://www.erisian.com.au/meetbot/bitcoin-core-dev/2020/bitcoin-core-dev.2020-06-18-19.00.txt</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1592510400' id='393099'>
<a class='timestamp' href='#393099'><time timestamp='2020-06-18T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Log:            <a href="http://www.erisian.com.au/meetbot/bitcoin-core-dev/2020/bitcoin-core-dev.2020-06-18-19.00.log.html" class="link" target="_blank">http://www.erisian.com.au/meetbot/bitcoin-core-dev/2020/bitcoin-core-dev.2020-06-18-19.00.log.html</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1592510400' id='393100'>
<a class='timestamp' href='#393100'><time timestamp='2020-06-18T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] hebasto opened pull request #19323: gui: Fix regression in <b>*txoutset*</b> in GUI console (master...200618-utxo) <a href="https://github.com/bitcoin/bitcoin/pull/19323" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19323</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1592511300' id='393101'>
<a class='timestamp' href='#393101'><time timestamp='2020-06-18T20:15:00Z'>20:15</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
I&#x27;ll retract on 18044 being required; I was quibbling over whether or not we could release without it or whether we should. We should definitely release with a fix, I just don&#x27;t think it&#x27;s required insofar as it&#x27;s a blocker for e.g. testnet
<br>
</div>

<div class='talk op-msg' data-timestamp='1592511660' id='393102'>
<a class='timestamp' href='#393102'><time timestamp='2020-06-18T20:21:00Z'>20:21</time></a>
&lt;<span class='nick nick-14'> hebasto</span>&gt;
MarcoFalke: could you suggest a comment for #19323?
<br>
</div>

<div class='talk op-msg' data-timestamp='1592511720' id='393103'>
<a class='timestamp' href='#393103'><time timestamp='2020-06-18T20:22:00Z'>20:22</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/19323" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/19323</a> | gui: Fix regression in <b>*txoutset*</b> in GUI console by hebasto · Pull Request #19323 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1592512260' id='393104'>
<a class='timestamp' href='#393104'><time timestamp='2020-06-18T20:31:00Z'>20:31</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke pushed 4 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/c2bcb99c1d11...dbd7a91fdf3f" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/c2bcb99c1d11...dbd7a91fdf3f</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1592512260' id='393105'>
<a class='timestamp' href='#393105'><time timestamp='2020-06-18T20:31:00Z'>20:31</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 45c08f8 Andrew Chow: Add Create*WalletDatabase functions
<br>
</div>

<div class='talk op-msg' data-timestamp='1592512260' id='393106'>
<a class='timestamp' href='#393106'><time timestamp='2020-06-18T20:31:00Z'>20:31</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master d6045d0 Andrew Chow: scripted-diff: Replace WalletDatabase::Create* with CreateWalletDatabase
<br>
</div>

<div class='talk op-msg' data-timestamp='1592512260' id='393107'>
<a class='timestamp' href='#393107'><time timestamp='2020-06-18T20:31:00Z'>20:31</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master da7a83c Andrew Chow: Remove WalletDatabase::Create, CreateMock, and CreateDummy
<br>
</div>

<div class='talk op-msg' data-timestamp='1592512320' id='393108'>
<a class='timestamp' href='#393108'><time timestamp='2020-06-18T20:32:00Z'>20:32</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke merged pull request #19310: wallet: BerkeleyDatabase make BerkeleyDatabase::Create, CreateMock, and CreateDummy non-static functions (master...bdb-refactor-create) <a href="https://github.com/bitcoin/bitcoin/pull/19310" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19310</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1592514120' id='393109'>
<a class='timestamp' href='#393109'><time timestamp='2020-06-18T21:02:00Z'>21:02</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] achow101 opened pull request #19324: wallet: Move BerkeleyBatch static functions to BerkeleyDatabase (master...bdb-batch-rm-statics) <a href="https://github.com/bitcoin/bitcoin/pull/19324" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19324</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1592514180' id='393110'>
<a class='timestamp' href='#393110'><time timestamp='2020-06-18T21:03:00Z'>21:03</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] achow101 opened pull request #19325: wallet: Refactor BerkeleyDatabase to introduce DatabaseBatch abstract class (master...bdb-add-dbbatch) <a href="https://github.com/bitcoin/bitcoin/pull/19325" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19325</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1592515380' id='393111'>
<a class='timestamp' href='#393111'><time timestamp='2020-06-18T21:23:00Z'>21:23</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
Can someone with the right permissions move <a href="https://github.com/theuni/apple-sdk-tools" class="link" target="_blank">https://github.com/theuni/apple-sdk-tools</a> over to the bitcoin-core org?
<br>
</div>

<div class='talk op-msg' data-timestamp='1592515440' id='393112'>
<a class='timestamp' href='#393112'><time timestamp='2020-06-18T21:24:00Z'>21:24</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
dongcarl: the current repo owner needs to initiaite it. then a bitcoin-core admin needs to approve it
<br>
</div>

<div class='talk op-msg' data-timestamp='1592515500' id='393113'>
<a class='timestamp' href='#393113'><time timestamp='2020-06-18T21:25:00Z'>21:25</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
I see
<br>
</div>

<div class='talk op-msg' data-timestamp='1592515500' id='393114'>
<a class='timestamp' href='#393114'><time timestamp='2020-06-18T21:25:00Z'>21:25</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
cfields: Could you initiate it?
<br>
</div>

<div class='talk op-msg' data-timestamp='1592515500' id='393115'>
<a class='timestamp' href='#393115'><time timestamp='2020-06-18T21:25:00Z'>21:25</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
oh and the repo owner needs to have create permissions in the bitcoin-core org
<br>
</div>

<div class='talk op-msg' data-timestamp='1592515500' id='393116'>
<a class='timestamp' href='#393116'><time timestamp='2020-06-18T21:25:00Z'>21:25</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
forgot the most important part
<br>
</div>

<div class='talk op-msg' data-timestamp='1592515560' id='393117'>
<a class='timestamp' href='#393117'><time timestamp='2020-06-18T21:26:00Z'>21:26</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
when I moved HWI, wumpus had to grant some permission to all members, then remove that permission
<br>
</div>

<div class='talk op-msg' data-timestamp='1592515620' id='393118'>
<a class='timestamp' href='#393118'><time timestamp='2020-06-18T21:27:00Z'>21:27</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
:-/
<br>
</div>

<div class='talk op-msg' data-timestamp='1592515620' id='393119'>
<a class='timestamp' href='#393119'><time timestamp='2020-06-18T21:27:00Z'>21:27</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
Seems easier just to start afresh and push to the repo?
<br>
</div>

<div class='talk op-msg' data-timestamp='1592515620' id='393120'>
<a class='timestamp' href='#393120'><time timestamp='2020-06-18T21:27:00Z'>21:27</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
then you lose any existing issues and PRs
<br>
</div>

<div class='talk op-msg' data-timestamp='1592515740' id='393121'>
<a class='timestamp' href='#393121'><time timestamp='2020-06-18T21:29:00Z'>21:29</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
It&#x27;s just 1 file :p
<br>
</div>

<div class='talk op-msg' data-timestamp='1592515800' id='393122'>
<a class='timestamp' href='#393122'><time timestamp='2020-06-18T21:30:00Z'>21:30</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
maybe just add it to the packaging repo then? it&#x27;s kind of packaging related
<br>
</div>

<div class='talk op-msg' data-timestamp='1592515980' id='393123'>
<a class='timestamp' href='#393123'><time timestamp='2020-06-18T21:33:00Z'>21:33</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
I have absolutely no preference. I only created a repo for it because I hoped someone better with python would take it and rewrite it, heh.
<br>
</div>

<div class='talk op-msg' data-timestamp='1592516040' id='393124'>
<a class='timestamp' href='#393124'><time timestamp='2020-06-18T21:34:00Z'>21:34</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
achow101: I think the hope is that other projects that cross-compile for mac might find this useful, as it does the job of 2 separate programs in one python script
<br>
</div>

<div class='talk op-msg' data-timestamp='1592516940' id='393125'>
<a class='timestamp' href='#393125'><time timestamp='2020-06-18T21:49:00Z'>21:49</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
I&#x27;ll just initiate the xfer. Let me try to figure that out.
<br>
</div>

<div class='talk op-msg' data-timestamp='1592517000' id='393126'>
<a class='timestamp' href='#393126'><time timestamp='2020-06-18T21:50:00Z'>21:50</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
can i help?
<br>
</div>

<div class='talk op-msg' data-timestamp='1592517120' id='393127'>
<a class='timestamp' href='#393127'><time timestamp='2020-06-18T21:52:00Z'>21:52</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
&quot;You don’t have the permission to create public repositories on bitcoin-core&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1592517180' id='393128'>
<a class='timestamp' href='#393128'><time timestamp='2020-06-18T21:53:00Z'>21:53</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
Yeah, let&#x27;s not worry about moving it. It&#x27;s not worth the effort.
<br>
</div>

<div class='talk op-msg' data-timestamp='1592517240' id='393129'>
<a class='timestamp' href='#393129'><time timestamp='2020-06-18T21:54:00Z'>21:54</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
Either new repo or packaging repo are fine.
<br>
</div>

<div class='talk op-msg' data-timestamp='1592517300' id='393130'>
<a class='timestamp' href='#393130'><time timestamp='2020-06-18T21:55:00Z'>21:55</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
sipa: can you create a new repo in bitcoin-core ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1592517480' id='393131'>
<a class='timestamp' href='#393131'><time timestamp='2020-06-18T21:58:00Z'>21:58</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1592517660' id='393132'>
<a class='timestamp' href='#393132'><time timestamp='2020-06-18T22:01:00Z'>22:01</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
sipa: eh on second thought, maybe best not to create some weird fork history. I&#x27;ll just invite you as an owner of my repo and you can initiate the move?
<br>
</div>

<div class='talk op-msg' data-timestamp='1592517660' id='393133'>
<a class='timestamp' href='#393133'><time timestamp='2020-06-18T22:01:00Z'>22:01</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sgtm
<br>
</div>

<div class='talk op-msg' data-timestamp='1592518020' id='393134'>
<a class='timestamp' href='#393134'><time timestamp='2020-06-18T22:07:00Z'>22:07</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
cfields: i don&#x27;t have ownership rights on your repo
<br>
</div>

<div class='talk op-msg' data-timestamp='1592518740' id='393135'>
<a class='timestamp' href='#393135'><time timestamp='2020-06-18T22:19:00Z'>22:19</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
sipa: many thanks!
<br>
</div>

<div class='talk op-msg' data-timestamp='1592518920' id='393136'>
<a class='timestamp' href='#393136'><time timestamp='2020-06-18T22:22:00Z'>22:22</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ok, all done, i think
<br>
</div>

<div class='talk op-msg' data-timestamp='1592519040' id='393137'>
<a class='timestamp' href='#393137'><time timestamp='2020-06-18T22:24:00Z'>22:24</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
sipa: thanks!
<br>
</div>

<div class='talk op-msg' data-timestamp='1592519040' id='393138'>
<a class='timestamp' href='#393138'><time timestamp='2020-06-18T22:24:00Z'>22:24</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
I just commented on the lone migrated issue to make this all seem worthwhile.
<br>
</div>

<div class='talk op-msg' data-timestamp='1592519040' id='393139'>
<a class='timestamp' href='#393139'><time timestamp='2020-06-18T22:24:00Z'>22:24</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yw
<br>
</div>

</div>
</section>

</body>
</html>
