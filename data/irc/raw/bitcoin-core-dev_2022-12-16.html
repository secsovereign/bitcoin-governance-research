<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2022-12-16
 — 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2022-12-16' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:12 UTC</pre>
<pre><a href="/bitcoin-core-dev/2022-11-16">&lt;</a><span class='header'>  December 2022   </span><a href="/bitcoin-core-dev/2023-01-16">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;             <a class="" href="/bitcoin-core-dev/2022-12-01">1</a>  <a class="" href="/bitcoin-core-dev/2022-12-02">2</a>  <a class="" href="/bitcoin-core-dev/2022-12-03">3</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2022-12-04">4</a>  <a class="" href="/bitcoin-core-dev/2022-12-05">5</a>  <a class="" href="/bitcoin-core-dev/2022-12-06">6</a>  <a class="" href="/bitcoin-core-dev/2022-12-07">7</a>  <a class="" href="/bitcoin-core-dev/2022-12-08">8</a>  <a class="" href="/bitcoin-core-dev/2022-12-09">9</a> <a class="" href="/bitcoin-core-dev/2022-12-10">10</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2022-12-11">11</a> <a class="" href="/bitcoin-core-dev/2022-12-12">12</a> <a class="" href="/bitcoin-core-dev/2022-12-13">13</a> <a class="" href="/bitcoin-core-dev/2022-12-14">14</a> <a class="" href="/bitcoin-core-dev/2022-12-15">15</a> <a class="current" href="/bitcoin-core-dev/2022-12-16">16</a> <a class="" href="/bitcoin-core-dev/2022-12-17">17</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2022-12-18">18</a> <a class="" href="/bitcoin-core-dev/2022-12-19">19</a> <a class="" href="/bitcoin-core-dev/2022-12-20">20</a> <a class="" href="/bitcoin-core-dev/2022-12-21">21</a> <a class="" href="/bitcoin-core-dev/2022-12-22">22</a> <a class="" href="/bitcoin-core-dev/2022-12-23">23</a> <a class="" href="/bitcoin-core-dev/2022-12-24">24</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2022-12-25">25</a> <a class="" href="/bitcoin-core-dev/2022-12-26">26</a> <a class="" href="/bitcoin-core-dev/2022-12-27">27</a> <a class="" href="/bitcoin-core-dev/2022-12-28">28</a> <a class="" href="/bitcoin-core-dev/2022-12-29">29</a> <a class="" href="/bitcoin-core-dev/2022-12-30">30</a> <a class="" href="/bitcoin-core-dev/2022-12-31">31</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='info op-join' data-timestamp='1671149174' id='878339'>
<a class='timestamp' href='#878339'><time timestamp='2022-12-16T00:06:14Z'>00:06</time></a>
sipsorcery has joined #bitcoin-core-dev
<br>
</div>

<div class='info op-quit' data-timestamp='1671149620' id='878340'>
<a class='timestamp' href='#878340'><time timestamp='2022-12-16T00:13:40Z'>00:13</time></a>
gnaf has quit [Ping timeout: 252 seconds]
<br>
</div>

<div class='info op-quit' data-timestamp='1671151240' id='878341'>
<a class='timestamp' href='#878341'><time timestamp='2022-12-16T00:40:40Z'>00:40</time></a>
sipsorcery has quit [Ping timeout: 252 seconds]
<br>
</div>

<div class='talk op-msg' data-timestamp='1671153398' id='878342'>
<a class='timestamp' href='#878342'><time timestamp='2022-12-16T01:16:38Z'>01:16</time></a>
&lt;<span class='nick nick-9'>ariard</span>&gt;
yes you could construct txC has conflicting with multiple inputs from unrelated chain of transactions, that way gaining a batching effect as an adversary
<br>
</div>

<div class='info op-join' data-timestamp='1671154230' id='878343'>
<a class='timestamp' href='#878343'><time timestamp='2022-12-16T01:30:30Z'>01:30</time></a>
sdhsdsj has joined #bitcoin-core-dev
<br>
</div>

<div class='info op-join' data-timestamp='1671160327' id='878344'>
<a class='timestamp' href='#878344'><time timestamp='2022-12-16T03:12:07Z'>03:12</time></a>
tun4 has joined #bitcoin-core-dev
<br>
</div>

<div class='info op-join' data-timestamp='1671163317' id='878345'>
<a class='timestamp' href='#878345'><time timestamp='2022-12-16T04:01:57Z'>04:01</time></a>
<u>_andrewtoth_</u> has joined #bitcoin-core-dev
<br>
</div>

<div class='info op-quit' data-timestamp='1671163394' id='878346'>
<a class='timestamp' href='#878346'><time timestamp='2022-12-16T04:03:14Z'>04:03</time></a>
andrewtoth_ has quit [Remote host closed the connection]
<br>
</div>

<div class='info op-quit' data-timestamp='1671163409' id='878347'>
<a class='timestamp' href='#878347'><time timestamp='2022-12-16T04:03:29Z'>04:03</time></a>
ghost43 has quit [Ping timeout: 255 seconds]
<br>
</div>

<div class='info op-join' data-timestamp='1671163431' id='878348'>
<a class='timestamp' href='#878348'><time timestamp='2022-12-16T04:03:51Z'>04:03</time></a>
ghost43 has joined #bitcoin-core-dev
<br>
</div>

<div class='info op-quit' data-timestamp='1671163717' id='878349'>
<a class='timestamp' href='#878349'><time timestamp='2022-12-16T04:08:37Z'>04:08</time></a>
tun4 has quit [Quit: Client closed]
<br>
</div>

<div class='info op-join' data-timestamp='1671164017' id='878350'>
<a class='timestamp' href='#878350'><time timestamp='2022-12-16T04:13:37Z'>04:13</time></a>
jonatack2 has joined #bitcoin-core-dev
<br>
</div>

<div class='info op-quit' data-timestamp='1671164043' id='878351'>
<a class='timestamp' href='#878351'><time timestamp='2022-12-16T04:14:03Z'>04:14</time></a>
jonatack1 has quit [Ping timeout: 260 seconds]
<br>
</div>

<div class='info op-quit' data-timestamp='1671164404' id='878352'>
<a class='timestamp' href='#878352'><time timestamp='2022-12-16T04:20:04Z'>04:20</time></a>
b_101 has quit [Ping timeout: 252 seconds]
<br>
</div>

<div class='info op-join' data-timestamp='1671165134' id='878353'>
<a class='timestamp' href='#878353'><time timestamp='2022-12-16T04:32:14Z'>04:32</time></a>
b_101 has joined #bitcoin-core-dev
<br>
</div>

<div class='info op-quit' data-timestamp='1671166303' id='878354'>
<a class='timestamp' href='#878354'><time timestamp='2022-12-16T04:51:43Z'>04:51</time></a>
sdhsdsj has quit [Quit: Client closed]
<br>
</div>

<div class='info op-join' data-timestamp='1671166328' id='878355'>
<a class='timestamp' href='#878355'><time timestamp='2022-12-16T04:52:08Z'>04:52</time></a>
sdhsdsj has joined #bitcoin-core-dev
<br>
</div>

<div class='info op-quit' data-timestamp='1671166861' id='878356'>
<a class='timestamp' href='#878356'><time timestamp='2022-12-16T05:01:01Z'>05:01</time></a>
cmirror has quit [Remote host closed the connection]
<br>
</div>

<div class='info op-join' data-timestamp='1671166892' id='878357'>
<a class='timestamp' href='#878357'><time timestamp='2022-12-16T05:01:32Z'>05:01</time></a>
cmirror has joined #bitcoin-core-dev
<br>
</div>

<div class='info op-quit' data-timestamp='1671167695' id='878358'>
<a class='timestamp' href='#878358'><time timestamp='2022-12-16T05:14:55Z'>05:14</time></a>
sdhsdsj has quit [Quit: Client closed]
<br>
</div>

<div class='info op-join' data-timestamp='1671170508' id='878359'>
<a class='timestamp' href='#878359'><time timestamp='2022-12-16T06:01:48Z'>06:01</time></a>
b_101_ has joined #bitcoin-core-dev
<br>
</div>

<div class='info op-quit' data-timestamp='1671170652' id='878360'>
<a class='timestamp' href='#878360'><time timestamp='2022-12-16T06:04:12Z'>06:04</time></a>
b_101 has quit [Ping timeout: 252 seconds]
<br>
</div>

<div class='info op-quit' data-timestamp='1671170684' id='878361'>
<a class='timestamp' href='#878361'><time timestamp='2022-12-16T06:04:44Z'>06:04</time></a>
sudoforge has quit [Quit: 404]
<br>
</div>

<div class='info op-quit' data-timestamp='1671172497' id='878362'>
<a class='timestamp' href='#878362'><time timestamp='2022-12-16T06:34:57Z'>06:34</time></a>
yanmaani1 has quit [Remote host closed the connection]
<br>
</div>

<div class='info op-join' data-timestamp='1671172620' id='878363'>
<a class='timestamp' href='#878363'><time timestamp='2022-12-16T06:37:00Z'>06:37</time></a>
yanmaani1 has joined #bitcoin-core-dev
<br>
</div>

<div class='info op-join' data-timestamp='1671173181' id='878364'>
<a class='timestamp' href='#878364'><time timestamp='2022-12-16T06:46:21Z'>06:46</time></a>
bitdex_ has joined #bitcoin-core-dev
<br>
</div>

<div class='info op-quit' data-timestamp='1671173183' id='878365'>
<a class='timestamp' href='#878365'><time timestamp='2022-12-16T06:46:23Z'>06:46</time></a>
bitdex has quit [Ping timeout: 255 seconds]
<br>
</div>

<div class='info op-join' data-timestamp='1671177353' id='878366'>
<a class='timestamp' href='#878366'><time timestamp='2022-12-16T07:55:53Z'>07:55</time></a>
andrewtoth_ has joined #bitcoin-core-dev
<br>
</div>

<div class='info op-quit' data-timestamp='1671177372' id='878367'>
<a class='timestamp' href='#878367'><time timestamp='2022-12-16T07:56:12Z'>07:56</time></a>
<u>_andrewtoth_</u> has quit [Remote host closed the connection]
<br>
</div>

<div class='info op-quit' data-timestamp='1671177428' id='878368'>
<a class='timestamp' href='#878368'><time timestamp='2022-12-16T07:57:08Z'>07:57</time></a>
b_101_ has quit [Ping timeout: 252 seconds]
<br>
</div>

<div class='info op-quit' data-timestamp='1671178042' id='878369'>
<a class='timestamp' href='#878369'><time timestamp='2022-12-16T08:07:22Z'>08:07</time></a>
as2333 has quit [Quit: as2333]
<br>
</div>

<div class='info op-join' data-timestamp='1671178218' id='878370'>
<a class='timestamp' href='#878370'><time timestamp='2022-12-16T08:10:18Z'>08:10</time></a>
Guyver2 has joined #bitcoin-core-dev
<br>
</div>

<div class='talk op-msg' data-timestamp='1671178651' id='878371'>
<a class='timestamp' href='#878371'><time timestamp='2022-12-16T08:17:31Z'>08:17</time></a>
&lt;<span class='nick nick-2'>bitcoin-git</span>&gt;
[bitcoin] MarcoFalke pushed 2 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/03708dac0ac6...5055d07edf46" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/03708dac0ac6...5055d07edf46</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1671178652' id='878372'>
<a class='timestamp' href='#878372'><time timestamp='2022-12-16T08:17:32Z'>08:17</time></a>
&lt;<span class='nick nick-2'>bitcoin-git</span>&gt;
bitcoin/master c39619e Hennadii Stepanov: clang-tidy: Fix `readability-redundant-string-init` in headers
<br>
</div>

<div class='talk op-msg' data-timestamp='1671178652' id='878373'>
<a class='timestamp' href='#878373'><time timestamp='2022-12-16T08:17:32Z'>08:17</time></a>
&lt;<span class='nick nick-2'>bitcoin-git</span>&gt;
bitcoin/master 5055d07 MarcoFalke: Merge bitcoin-core/gui#685: clang-tidy: Fix `readability-redundant-string-...
<br>
</div>

<div class='talk op-msg' data-timestamp='1671178652' id='878374'>
<a class='timestamp' href='#878374'><time timestamp='2022-12-16T08:17:32Z'>08:17</time></a>
&lt;<span class='nick nick-2'>bitcoin-git</span>&gt;
[gui] MarcoFalke merged pull request #685: clang-tidy: Fix `readability-redundant-string-init` in headers (master...221215-tidy-string) <a href="https://github.com/bitcoin-core/gui/pull/685" class="link" target="_blank">https://github.com/bitcoin-core/gui/pull/685</a>
<br>
</div>

<div class='info op-quit' data-timestamp='1671181204' id='878375'>
<a class='timestamp' href='#878375'><time timestamp='2022-12-16T09:00:04Z'>09:00</time></a>
euclid[m] has quit [Quit: You have been kicked for being idle]
<br>
</div>

<div class='info op-leave' data-timestamp='1671181781' id='878376'>
<a class='timestamp' href='#878376'><time timestamp='2022-12-16T09:09:41Z'>09:09</time></a>
Guyver2 has left #bitcoin-core-dev [Closing Window]
<br>
</div>

<div class='talk op-msg' data-timestamp='1671183472' id='878377'>
<a class='timestamp' href='#878377'><time timestamp='2022-12-16T09:37:52Z'>09:37</time></a>
&lt;<span class='nick nick-4'>fanquake</span>&gt;
* [new tag]             v23.1 -&gt; v23.1
<br>
</div>

<div class='talk op-msg' data-timestamp='1671183479' id='878378'>
<a class='timestamp' href='#878378'><time timestamp='2022-12-16T09:37:59Z'>09:37</time></a>
&lt;<span class='nick nick-2'>bitcoin-git</span>&gt;
[bitcoin] fanquake pushed tag v23.1: <a href="https://github.com/bitcoin/bitcoin/compare/v23.1" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/v23.1</a>
<br>
</div>

<div class='info op-quit' data-timestamp='1671185016' id='878379'>
<a class='timestamp' href='#878379'><time timestamp='2022-12-16T10:03:36Z'>10:03</time></a>
kexkey has quit [Ping timeout: 272 seconds]
<br>
</div>

<div class='info op-join' data-timestamp='1671185054' id='878380'>
<a class='timestamp' href='#878380'><time timestamp='2022-12-16T10:04:14Z'>10:04</time></a>
kexkey has joined #bitcoin-core-dev
<br>
</div>

<div class='info op-quit' data-timestamp='1671185981' id='878381'>
<a class='timestamp' href='#878381'><time timestamp='2022-12-16T10:19:41Z'>10:19</time></a>
yanmaani1 has quit [Ping timeout: 255 seconds]
<br>
</div>

<div class='info op-join' data-timestamp='1671186090' id='878382'>
<a class='timestamp' href='#878382'><time timestamp='2022-12-16T10:21:30Z'>10:21</time></a>
yanmaani1 has joined #bitcoin-core-dev
<br>
</div>

<div class='info op-quit' data-timestamp='1671186212' id='878383'>
<a class='timestamp' href='#878383'><time timestamp='2022-12-16T10:23:32Z'>10:23</time></a>
AaronvanW has quit [Remote host closed the connection]
<br>
</div>

<div class='info op-quit' data-timestamp='1671187739' id='878384'>
<a class='timestamp' href='#878384'><time timestamp='2022-12-16T10:48:59Z'>10:48</time></a>
andrewtoth_ has quit [Remote host closed the connection]
<br>
</div>

<div class='info op-join' data-timestamp='1671187806' id='878385'>
<a class='timestamp' href='#878385'><time timestamp='2022-12-16T10:50:06Z'>10:50</time></a>
andrewtoth_ has joined #bitcoin-core-dev
<br>
</div>

<div class='info op-join' data-timestamp='1671188077' id='878386'>
<a class='timestamp' href='#878386'><time timestamp='2022-12-16T10:54:37Z'>10:54</time></a>
AaronvanW has joined #bitcoin-core-dev
<br>
</div>

<div class='talk op-msg' data-timestamp='1671188159' id='878387'>
<a class='timestamp' href='#878387'><time timestamp='2022-12-16T10:55:59Z'>10:55</time></a>
&lt;<span class='nick nick-2'>bitcoin-git</span>&gt;
[bitcoin] hebasto opened pull request #26710: clang-tidy: Fix `performance-for-range-copy` in headers (master...221216-tidy-range) <a href="https://github.com/bitcoin/bitcoin/pull/26710" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/26710</a>
<br>
</div>

<div class='info op-nick' data-timestamp='1671188598' id='878388'>
<a class='timestamp' href='#878388'><time timestamp='2022-12-16T11:03:18Z'>11:03</time></a>
jespada_ is now known as jespada
<br>
</div>

<div class='info op-join' data-timestamp='1671189025' id='878389'>
<a class='timestamp' href='#878389'><time timestamp='2022-12-16T11:10:25Z'>11:10</time></a>
szkl has joined #bitcoin-core-dev
<br>
</div>

<div class='info op-join' data-timestamp='1671189559' id='878390'>
<a class='timestamp' href='#878390'><time timestamp='2022-12-16T11:19:19Z'>11:19</time></a>
brunoerg has joined #bitcoin-core-dev
<br>
</div>

<div class='talk op-msg' data-timestamp='1671190024' id='878391'>
<a class='timestamp' href='#878391'><time timestamp='2022-12-16T11:27:04Z'>11:27</time></a>
&lt;<span class='nick nick-2'>bitcoin-git</span>&gt;
[bitcoin] glozow opened pull request #26711: [WIP] validate package transactions with their in-package ancestor sets (master...2022-12-subpackages) <a href="https://github.com/bitcoin/bitcoin/pull/26711" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/26711</a>
<br>
</div>

<div class='info op-quit' data-timestamp='1671190088' id='878392'>
<a class='timestamp' href='#878392'><time timestamp='2022-12-16T11:28:08Z'>11:28</time></a>
AaronvanW has quit [Ping timeout: 265 seconds]
<br>
</div>

<div class='info op-join' data-timestamp='1671190486' id='878393'>
<a class='timestamp' href='#878393'><time timestamp='2022-12-16T11:34:46Z'>11:34</time></a>
<u>_andrewtoth_</u> has joined #bitcoin-core-dev
<br>
</div>

<div class='info op-quit' data-timestamp='1671190544' id='878394'>
<a class='timestamp' href='#878394'><time timestamp='2022-12-16T11:35:44Z'>11:35</time></a>
andrewtoth_ has quit [Ping timeout: 255 seconds]
<br>
</div>

<div class='info op-quit' data-timestamp='1671190544' id='878395'>
<a class='timestamp' href='#878395'><time timestamp='2022-12-16T11:35:44Z'>11:35</time></a>
yanmaani1 has quit [Ping timeout: 255 seconds]
<br>
</div>

<div class='talk op-msg' data-timestamp='1671191946' id='878396'>
<a class='timestamp' href='#878396'><time timestamp='2022-12-16T11:59:06Z'>11:59</time></a>
&lt;<span class='nick nick-2'>bitcoin-git</span>&gt;
[gui] hebasto opened pull request #686: clang-tidy, qt: Force checks for headers in `src/qt` (master...221216-tidy) <a href="https://github.com/bitcoin-core/gui/pull/686" class="link" target="_blank">https://github.com/bitcoin-core/gui/pull/686</a>
<br>
</div>

<div class='info op-join' data-timestamp='1671192068' id='878397'>
<a class='timestamp' href='#878397'><time timestamp='2022-12-16T12:01:08Z'>12:01</time></a>
yanmaani1 has joined #bitcoin-core-dev
<br>
</div>

<div class='info op-quit' data-timestamp='1671193598' id='878398'>
<a class='timestamp' href='#878398'><time timestamp='2022-12-16T12:26:38Z'>12:26</time></a>
<u>_andrewtoth_</u> has quit [Remote host closed the connection]
<br>
</div>

<div class='info op-join' data-timestamp='1671193626' id='878399'>
<a class='timestamp' href='#878399'><time timestamp='2022-12-16T12:27:06Z'>12:27</time></a>
<u>_andrewtoth_</u> has joined #bitcoin-core-dev
<br>
</div>

<div class='info op-quit' data-timestamp='1671194302' id='878400'>
<a class='timestamp' href='#878400'><time timestamp='2022-12-16T12:38:22Z'>12:38</time></a>
jonatack2 has quit [Ping timeout: 252 seconds]
<br>
</div>

<div class='talk op-msg' data-timestamp='1671195347' id='878401'>
<a class='timestamp' href='#878401'><time timestamp='2022-12-16T12:55:47Z'>12:55</time></a>
&lt;<span class='nick nick-9'>sdaftuar</span>&gt;
glozow: i was thinking more about package validation (re: package feerate definition and #26711)
<br>
</div>

<div class='talk op-msg' data-timestamp='1671195348' id='878402'>
<a class='timestamp' href='#878402'><time timestamp='2022-12-16T12:55:48Z'>12:55</time></a>
&lt;<span class='nick nick-10'>gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/26711" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/26711</a> | [WIP] validate package transactions with their in-package ancestor sets by glozow · Pull Request #26711 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1671195379' id='878403'>
<a class='timestamp' href='#878403'><time timestamp='2022-12-16T12:56:19Z'>12:56</time></a>
&lt;<span class='nick nick-9'>sdaftuar</span>&gt;
glozow: can we say that it should never be the case that the &quot;package feerate&quot; of a transaction should never exceed the transaction&#x27;s own feerate?
<br>
</div>

<div class='talk op-msg' data-timestamp='1671195510' id='878404'>
<a class='timestamp' href='#878404'><time timestamp='2022-12-16T12:58:30Z'>12:58</time></a>
&lt;<span class='nick nick-9'>sdaftuar</span>&gt;
conceptually i assume that even after #26711, that would still be possible -- imagine a &quot;diamond&quot; transaction chain, where you have a low fee parent A, 2 children B and C that each can&#x27;t quite pay for A on their own, but once joined via a transactin D that spends them both, results in the package making it in.
<br>
</div>

<div class='talk op-msg' data-timestamp='1671195511' id='878405'>
<a class='timestamp' href='#878405'><time timestamp='2022-12-16T12:58:31Z'>12:58</time></a>
&lt;<span class='nick nick-10'>gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/26711" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/26711</a> | [WIP] validate package transactions with their in-package ancestor sets by glozow · Pull Request #26711 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1671195543' id='878406'>
<a class='timestamp' href='#878406'><time timestamp='2022-12-16T12:59:03Z'>12:59</time></a>
&lt;<span class='nick nick-9'>sdaftuar</span>&gt;
it&#x27;s not clear to me whether we want those diamond transaction packages in our mempool or not!
<br>
</div>

<div class='talk op-msg' data-timestamp='1671196490' id='878407'>
<a class='timestamp' href='#878407'><time timestamp='2022-12-16T13:14:50Z'>13:14</time></a>
&lt;<span class='nick nick-9'>sdaftuar</span>&gt;
on further thought, letting in diamond chains can be bad, because you could imagine in the worst case that our mempool could be full of transactions that we wouldn&#x27;t ever mine.
<br>
</div>

<div class='talk op-msg' data-timestamp='1671196530' id='878408'>
<a class='timestamp' href='#878408'><time timestamp='2022-12-16T13:15:30Z'>13:15</time></a>
&lt;<span class='nick nick-9'>sdaftuar</span>&gt;
so maybe the easiest protection is just to require that when evaluating ancestor packages for mempool inclusion, if the child transaction&#x27;s own feerate is not 
<br>
</div>

<div class='talk op-msg' data-timestamp='1671196537' id='878409'>
<a class='timestamp' href='#878409'><time timestamp='2022-12-16T13:15:37Z'>13:15</time></a>
&lt;<span class='nick nick-9'>sdaftuar</span>&gt;
at least as big as the package feerate, that we abort
<br>
</div>

<div class='info op-join' data-timestamp='1671197152' id='878410'>
<a class='timestamp' href='#878410'><time timestamp='2022-12-16T13:25:52Z'>13:25</time></a>
AaronvanW has joined #bitcoin-core-dev
<br>
</div>

<div class='info op-quit' data-timestamp='1671198003' id='878411'>
<a class='timestamp' href='#878411'><time timestamp='2022-12-16T13:40:03Z'>13:40</time></a>
brunoerg has quit [Remote host closed the connection]
<br>
</div>

<div class='info op-join' data-timestamp='1671198030' id='878412'>
<a class='timestamp' href='#878412'><time timestamp='2022-12-16T13:40:30Z'>13:40</time></a>
brunoerg has joined #bitcoin-core-dev
<br>
</div>

<div class='info op-quit' data-timestamp='1671198289' id='878413'>
<a class='timestamp' href='#878413'><time timestamp='2022-12-16T13:44:49Z'>13:44</time></a>
brunoerg has quit [Ping timeout: 252 seconds]
<br>
</div>

<div class='talk op-msg' data-timestamp='1671199296' id='878414'>
<a class='timestamp' href='#878414'><time timestamp='2022-12-16T14:01:36Z'>14:01</time></a>
&lt;<span class='nick nick-10'>glozow</span>&gt;
sdaftuar: I suppose one could say the diamond shouldn&#x27;t get in - similar idea to a long chain of 0-fee transactions with a big fee-bumper at the bottom. I&#x27;m not sure &quot;if the child transaction&#x27;s own feerate is not at least as big as the package feerate, that we abort&quot; is sufficient. If we have 2 parents, 1 bumping the other, and a low-feerate child spending both, we should keep the parents.
<br>
</div>

<div class='talk op-msg' data-timestamp='1671199731' id='878415'>
<a class='timestamp' href='#878415'><time timestamp='2022-12-16T14:08:51Z'>14:08</time></a>
&lt;<span class='nick nick-9'>sdaftuar</span>&gt;
yes i agree with that. i was just thinking that whenever we consider a (sub-)package for validation, that a final sanity check would be that the child tx feerate exceed the (sub-)package feerate, or else we reject/move on
<br>
</div>

<div class='talk op-msg' data-timestamp='1671199772' id='878416'>
<a class='timestamp' href='#878416'><time timestamp='2022-12-16T14:09:32Z'>14:09</time></a>
&lt;<span class='nick nick-9'>sdaftuar</span>&gt;
so that&#x27;s still consistent with the idea of 26711
<br>
</div>

<div class='talk op-msg' data-timestamp='1671199959' id='878417'>
<a class='timestamp' href='#878417'><time timestamp='2022-12-16T14:12:39Z'>14:12</time></a>
&lt;<span class='nick nick-9'>sdaftuar</span>&gt;
one concern i have is that even with a check like this, there may be some topologies we still shoulnd&#x27;t let in for some sort of DoS reason
<br>
</div>

<div class='info op-join' data-timestamp='1671200047' id='878418'>
<a class='timestamp' href='#878418'><time timestamp='2022-12-16T14:14:07Z'>14:14</time></a>
brunoerg has joined #bitcoin-core-dev
<br>
</div>

<div class='talk op-msg' data-timestamp='1671200055' id='878419'>
<a class='timestamp' href='#878419'><time timestamp='2022-12-16T14:14:15Z'>14:14</time></a>
&lt;<span class='nick nick-2'>bitcoin-git</span>&gt;
[bitcoin] fanquake pushed 2 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/5055d07edf46...7386da7a0b08" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/5055d07edf46...7386da7a0b08</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1671200055' id='878420'>
<a class='timestamp' href='#878420'><time timestamp='2022-12-16T14:14:15Z'>14:14</time></a>
&lt;<span class='nick nick-2'>bitcoin-git</span>&gt;
bitcoin/master a272480 fanquake: doc: add 23.1 release notes
<br>
</div>

<div class='talk op-msg' data-timestamp='1671200056' id='878421'>
<a class='timestamp' href='#878421'><time timestamp='2022-12-16T14:14:16Z'>14:14</time></a>
&lt;<span class='nick nick-2'>bitcoin-git</span>&gt;
bitcoin/master 7386da7 fanquake: Merge bitcoin/bitcoin#26709: doc: add 23.1 release notes
<br>
</div>

<div class='talk op-msg' data-timestamp='1671200067' id='878422'>
<a class='timestamp' href='#878422'><time timestamp='2022-12-16T14:14:27Z'>14:14</time></a>
&lt;<span class='nick nick-2'>bitcoin-git</span>&gt;
[bitcoin] fanquake merged pull request #26709: doc: add 23.1 release notes (master...historical_rel_notes_23_1) <a href="https://github.com/bitcoin/bitcoin/pull/26709" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/26709</a>
<br>
</div>

<div class='info op-quit' data-timestamp='1671200311' id='878423'>
<a class='timestamp' href='#878423'><time timestamp='2022-12-16T14:18:31Z'>14:18</time></a>
brunoerg has quit [Ping timeout: 252 seconds]
<br>
</div>

<div class='info op-join' data-timestamp='1671200527' id='878424'>
<a class='timestamp' href='#878424'><time timestamp='2022-12-16T14:22:07Z'>14:22</time></a>
brunoerg has joined #bitcoin-core-dev
<br>
</div>

<div class='talk op-msg' data-timestamp='1671200651' id='878425'>
<a class='timestamp' href='#878425'><time timestamp='2022-12-16T14:24:11Z'>14:24</time></a>
&lt;<span class='nick nick-10'>glozow</span>&gt;
sdaftuar: ah yes, that makes sense to me
<br>
</div>

<div class='talk op-msg' data-timestamp='1671200772' id='878426'>
<a class='timestamp' href='#878426'><time timestamp='2022-12-16T14:26:12Z'>14:26</time></a>
&lt;<span class='nick nick-9'>sdaftuar</span>&gt;
in thinking about potential DoS vectors i have a new concern that i&#x27;m not quite sure how to think about, relating to package validation:
<br>
</div>

<div class='talk op-msg' data-timestamp='1671200803' id='878427'>
<a class='timestamp' href='#878427'><time timestamp='2022-12-16T14:26:43Z'>14:26</time></a>
&lt;<span class='nick nick-9'>sdaftuar</span>&gt;
package validation gives us a way to have (eg) a zero fee tx in the mempool, if it comes in with a child that pays for it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1671200829' id='878428'>
<a class='timestamp' href='#878428'><time timestamp='2022-12-16T14:27:09Z'>14:27</time></a>
&lt;<span class='nick nick-9'>sdaftuar</span>&gt;
if that child were to get RBF&#x27;ed by a replacement tx that drops the zero fee parent, then we&#x27;ll end up with a transaction in the mempool that will never be mined
<br>
</div>

<div class='talk op-msg' data-timestamp='1671200837' id='878429'>
<a class='timestamp' href='#878429'><time timestamp='2022-12-16T14:27:17Z'>14:27</time></a>
&lt;<span class='nick nick-8'>instagibbs</span>&gt;
unless it&#x27;s trimmed
<br>
</div>

<div class='talk op-msg' data-timestamp='1671200838' id='878430'>
<a class='timestamp' href='#878430'><time timestamp='2022-12-16T14:27:18Z'>14:27</time></a>
&lt;<span class='nick nick-8'>instagibbs</span>&gt;
yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1671200846' id='878431'>
<a class='timestamp' href='#878431'><time timestamp='2022-12-16T14:27:26Z'>14:27</time></a>
&lt;<span class='nick nick-9'>sdaftuar</span>&gt;
if that transaction is large, it could be used as a parent of incoming transacitons which will also never be mined
<br>
</div>

<div class='talk op-msg' data-timestamp='1671200865' id='878432'>
<a class='timestamp' href='#878432'><time timestamp='2022-12-16T14:27:45Z'>14:27</time></a>
&lt;<span class='nick nick-9'>sdaftuar</span>&gt;
this only works when the mempool is not full -- or else as instagibbs notes it would be trimmed
<br>
</div>

<div class='talk op-msg' data-timestamp='1671200870' id='878433'>
<a class='timestamp' href='#878433'><time timestamp='2022-12-16T14:27:50Z'>14:27</time></a>
&lt;<span class='nick nick-9'>sdaftuar</span>&gt;
but this still seems vaguely bad?
<br>
</div>

<div class='talk op-msg' data-timestamp='1671200922' id='878434'>
<a class='timestamp' href='#878434'><time timestamp='2022-12-16T14:28:42Z'>14:28</time></a>
&lt;<span class='nick nick-10'>glozow</span>&gt;
I was thinking about this the other day as well. let me find my writeup...
<br>
</div>

<div class='talk op-msg' data-timestamp='1671200945' id='878435'>
<a class='timestamp' href='#878435'><time timestamp='2022-12-16T14:29:05Z'>14:29</time></a>
&lt;<span class='nick nick-10'>glozow</span>&gt;
<a href="https://gist.github.com/glozow/f0ddaa36290d7263a67e64bd7c0b8a92" class="link" target="_blank">https://gist.github.com/glozow/f0ddaa36290d7263a67e64bd7c0b8a92</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1671200990' id='878436'>
<a class='timestamp' href='#878436'><time timestamp='2022-12-16T14:29:50Z'>14:29</time></a>
&lt;<span class='nick nick-8'>instagibbs</span>&gt;
actually it relies on the mempool being pretty much empty?
<br>
</div>

<div class='talk op-msg' data-timestamp='1671200998' id='878437'>
<a class='timestamp' href='#878437'><time timestamp='2022-12-16T14:29:58Z'>14:29</time></a>
&lt;<span class='nick nick-9'>sdaftuar</span>&gt;
instagibbs: yeah
<br>
</div>

<div class='talk op-msg' data-timestamp='1671201002' id='878438'>
<a class='timestamp' href='#878438'><time timestamp='2022-12-16T14:30:02Z'>14:30</time></a>
&lt;<span class='nick nick-8'>instagibbs</span>&gt;
otherwise the only difference is min relay vs free
<br>
</div>

<div class='talk op-msg' data-timestamp='1671201037' id='878439'>
<a class='timestamp' href='#878439'><time timestamp='2022-12-16T14:30:37Z'>14:30</time></a>
&lt;<span class='nick nick-9'>sdaftuar</span>&gt;
i think my concern is that the mempool shouldn&#x27;t have things in it that would never get mined, eg because they&#x27;re below minrelay fee (which we compare against in the mining code iirc)
<br>
</div>

<div class='talk op-msg' data-timestamp='1671201050' id='878440'>
<a class='timestamp' href='#878440'><time timestamp='2022-12-16T14:30:50Z'>14:30</time></a>
&lt;<span class='nick nick-8'>instagibbs</span>&gt;
Yeah I get it
<br>
</div>

<div class='talk op-msg' data-timestamp='1671201076' id='878441'>
<a class='timestamp' href='#878441'><time timestamp='2022-12-16T14:31:16Z'>14:31</time></a>
&lt;<span class='nick nick-10'>glozow</span>&gt;
I suppose then, in `TrimToSize()`, we should evict low-descendant-feerate junk even when we are not at capacity
<br>
</div>

<div class='talk op-msg' data-timestamp='1671201149' id='878442'>
<a class='timestamp' href='#878442'><time timestamp='2022-12-16T14:32:29Z'>14:32</time></a>
&lt;<span class='nick nick-9'>sdaftuar</span>&gt;
specifically things below minrelayfee (i think its ok if things are below mempool minfee). that may work, not sure if there are any downsides to that
<br>
</div>

<div class='talk op-msg' data-timestamp='1671201240' id='878443'>
<a class='timestamp' href='#878443'><time timestamp='2022-12-16T14:34:00Z'>14:34</time></a>
&lt;<span class='nick nick-10'>glozow</span>&gt;
that makes sense to me. apart from TrimToSize, do we want to try to calculate the txns that will be below minrelay fee due to replacement?
<br>
</div>

<div class='talk op-msg' data-timestamp='1671201247' id='878444'>
<a class='timestamp' href='#878444'><time timestamp='2022-12-16T14:34:07Z'>14:34</time></a>
&lt;<span class='nick nick-8'>instagibbs</span>&gt;
unpaid-for-things getting evicted from a wallet perspective is fine, we&#x27;ll just send a package again
<br>
</div>

<div class='talk op-msg' data-timestamp='1671201339' id='878445'>
<a class='timestamp' href='#878445'><time timestamp='2022-12-16T14:35:39Z'>14:35</time></a>
&lt;<span class='nick nick-9'>sdaftuar</span>&gt;
glozow: reading your gist now... i guess the worst case is that we drop 2400 additional transactions from the mempool due to this type of behavior?
<br>
</div>

<div class='talk op-msg' data-timestamp='1671201444' id='878446'>
<a class='timestamp' href='#878446'><time timestamp='2022-12-16T14:37:24Z'>14:37</time></a>
&lt;<span class='nick nick-8'>instagibbs</span>&gt;
so is there two concepts: allowing existing child-less txns to hang around for 2 weeks, vs letting a <b>*new*</b> tx in that we wouldn&#x27;t mine?
<br>
</div>

<div class='talk op-msg' data-timestamp='1671201464' id='878447'>
<a class='timestamp' href='#878447'><time timestamp='2022-12-16T14:37:44Z'>14:37</time></a>
&lt;<span class='nick nick-8'>instagibbs</span>&gt;
one we&#x27;ve already validated, holding onto it isn&#x27;t that expensive(?)
<br>
</div>

<div class='talk op-msg' data-timestamp='1671201488' id='878448'>
<a class='timestamp' href='#878448'><time timestamp='2022-12-16T14:38:08Z'>14:38</time></a>
&lt;<span class='nick nick-9'>sdaftuar</span>&gt;
instagibbs: i think that&#x27;s fair but its complicated to stop a new tx from chaining off it, at first glance
<br>
</div>

<div class='talk op-msg' data-timestamp='1671201525' id='878449'>
<a class='timestamp' href='#878449'><time timestamp='2022-12-16T14:38:45Z'>14:38</time></a>
&lt;<span class='nick nick-8'>instagibbs</span>&gt;
right, single txn evaluation would have to be modified 
<br>
</div>

<div class='talk op-msg' data-timestamp='1671201582' id='878450'>
<a class='timestamp' href='#878450'><time timestamp='2022-12-16T14:39:42Z'>14:39</time></a>
&lt;<span class='nick nick-9'>sdaftuar</span>&gt;
instagibbs: yes and in a way that i think isn&#x27;t really possible. imagine the same scenario of leaving a zero fee transaction in, but before you drop the child which paid for it, you first add a bunch of small lowfeerate children
<br>
</div>

<div class='talk op-msg' data-timestamp='1671201592' id='878451'>
<a class='timestamp' href='#878451'><time timestamp='2022-12-16T14:39:52Z'>14:39</time></a>
&lt;<span class='nick nick-8'>instagibbs</span>&gt;
mhmm yeah
<br>
</div>

<div class='talk op-msg' data-timestamp='1671201597' id='878452'>
<a class='timestamp' href='#878452'><time timestamp='2022-12-16T14:39:57Z'>14:39</time></a>
&lt;<span class='nick nick-9'>sdaftuar</span>&gt;
it would be hard to tell (after the large fee paying child is replaced) whether the parent should be allowed or not
<br>
</div>

<div class='talk op-msg' data-timestamp='1671201598' id='878453'>
<a class='timestamp' href='#878453'><time timestamp='2022-12-16T14:39:58Z'>14:39</time></a>
&lt;<span class='nick nick-8'>instagibbs</span>&gt;
i can see
<br>
</div>

<div class='talk op-msg' data-timestamp='1671201603' id='878454'>
<a class='timestamp' href='#878454'><time timestamp='2022-12-16T14:40:03Z'>14:40</time></a>
&lt;<span class='nick nick-10'>glozow</span>&gt;
sdaftuar: yes, that&#x27;s the worst case I could come up with is 50 packages, 1 child each bumping 24 parents. replacement conflicts directly with 1 parent from each package. 100 total to meet Rule 5, 23*50=1150 total txns that are now below minrelay fee but weren&#x27;t counted in the 100.
<br>
</div>

<div class='talk op-msg' data-timestamp='1671201638' id='878455'>
<a class='timestamp' href='#878455'><time timestamp='2022-12-16T14:40:38Z'>14:40</time></a>
&lt;<span class='nick nick-8'>instagibbs</span>&gt;
from a usability perspective I think dropping is fine, so now it would &quot;just&quot; be a DoS thing
<br>
</div>

<div class='talk op-msg' data-timestamp='1671201724' id='878456'>
<a class='timestamp' href='#878456'><time timestamp='2022-12-16T14:42:04Z'>14:42</time></a>
&lt;<span class='nick nick-9'>sdaftuar</span>&gt;
glozow: nitpicking but i believe 100 packages should be possible, each of which has 1 child bumping 24 parents and another input that is confirmed. replacement can conflict with each of the 100 children (double spending the confirmed input only, and dropping the package), resulting in 100 conflicts total and 2400 additional low fee parents that would have to be dropped
<br>
</div>

<div class='talk op-msg' data-timestamp='1671201742' id='878457'>
<a class='timestamp' href='#878457'><time timestamp='2022-12-16T14:42:22Z'>14:42</time></a>
&lt;<span class='nick nick-9'>sdaftuar</span>&gt;
new tx would ahve no in-mempool parents
<br>
</div>

<div class='talk op-msg' data-timestamp='1671201768' id='878458'>
<a class='timestamp' href='#878458'><time timestamp='2022-12-16T14:42:48Z'>14:42</time></a>
&lt;<span class='nick nick-10'>glozow</span>&gt;
ahhh good point yes! 100 packages is possible
<br>
</div>

<div class='talk op-msg' data-timestamp='1671201866' id='878459'>
<a class='timestamp' href='#878459'><time timestamp='2022-12-16T14:44:26Z'>14:44</time></a>
&lt;<span class='nick nick-9'>sdaftuar</span>&gt;
it may be worth a standalone PR that adds removal of txs below the minrelayfee to TrimToSize and see if any reviewers spot an issue with that?
<br>
</div>

<div class='talk op-msg' data-timestamp='1671201884' id='878460'>
<a class='timestamp' href='#878460'><time timestamp='2022-12-16T14:44:44Z'>14:44</time></a>
&lt;<span class='nick nick-9'>sdaftuar</span>&gt;
though i guess it&#x27;ll be the interaction of that and package validation that we need to really evaluate
<br>
</div>

<div class='talk op-msg' data-timestamp='1671201943' id='878461'>
<a class='timestamp' href='#878461'><time timestamp='2022-12-16T14:45:43Z'>14:45</time></a>
&lt;<span class='nick nick-9'>sdaftuar</span>&gt;
another option is that TrimToSize() can just bail early after a certain number of evictions, and continue again later
<br>
</div>

<div class='talk op-msg' data-timestamp='1671201959' id='878462'>
<a class='timestamp' href='#878462'><time timestamp='2022-12-16T14:45:59Z'>14:45</time></a>
&lt;<span class='nick nick-9'>sdaftuar</span>&gt;
it&#x27;s probably not critical that we evict everything immediately (if we&#x27;re not full)
<br>
</div>

<div class='talk op-msg' data-timestamp='1671201982' id='878463'>
<a class='timestamp' href='#878463'><time timestamp='2022-12-16T14:46:22Z'>14:46</time></a>
&lt;<span class='nick nick-8'>instagibbs</span>&gt;
Sorry, what does doing it in stages accomplish?
<br>
</div>

<div class='talk op-msg' data-timestamp='1671201985' id='878464'>
<a class='timestamp' href='#878464'><time timestamp='2022-12-16T14:46:25Z'>14:46</time></a>
&lt;<span class='nick nick-10'>glozow</span>&gt;
bail early because we don&#x27;t want `TrimToSize()` to take a long time?
<br>
</div>

<div class='talk op-msg' data-timestamp='1671201991' id='878465'>
<a class='timestamp' href='#878465'><time timestamp='2022-12-16T14:46:31Z'>14:46</time></a>
&lt;<span class='nick nick-9'>sdaftuar</span>&gt;
glozow: yeah
<br>
</div>

<div class='talk op-msg' data-timestamp='1671201994' id='878466'>
<a class='timestamp' href='#878466'><time timestamp='2022-12-16T14:46:34Z'>14:46</time></a>
&lt;<span class='nick nick-8'>instagibbs</span>&gt;
ah :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1671202005' id='878467'>
<a class='timestamp' href='#878467'><time timestamp='2022-12-16T14:46:45Z'>14:46</time></a>
&lt;<span class='nick nick-9'>sdaftuar</span>&gt;
i dunno, maybe it&#x27;s fast, i have no idea :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1671202037' id='878468'>
<a class='timestamp' href='#878468'><time timestamp='2022-12-16T14:47:17Z'>14:47</time></a>
&lt;<span class='nick nick-10'>glozow</span>&gt;
we would want to finish these evictions before we validate another transaction for acceptance, right?
<br>
</div>

<div class='talk op-msg' data-timestamp='1671202111' id='878469'>
<a class='timestamp' href='#878469'><time timestamp='2022-12-16T14:48:31Z'>14:48</time></a>
&lt;<span class='nick nick-9'>sdaftuar</span>&gt;
glozow: i agree that would be simplest
<br>
</div>

<div class='talk op-msg' data-timestamp='1671202188' id='878470'>
<a class='timestamp' href='#878470'><time timestamp='2022-12-16T14:49:48Z'>14:49</time></a>
&lt;<span class='nick nick-9'>sdaftuar</span>&gt;
the alternative would be to add complexity to our logic to prevent relay of a transaction that we ultimately drop
<br>
</div>

<div class='talk op-msg' data-timestamp='1671202267' id='878471'>
<a class='timestamp' href='#878471'><time timestamp='2022-12-16T14:51:07Z'>14:51</time></a>
&lt;<span class='nick nick-10'>glozow</span>&gt;
what would preventing relay look like? it would fail a fee filter when we announce (though it&#x27;s possible we&#x27;ve already announced it). would we add another filtering step when we respond to getdata?
<br>
</div>

<div class='talk op-msg' data-timestamp='1671202321' id='878472'>
<a class='timestamp' href='#878472'><time timestamp='2022-12-16T14:52:01Z'>14:52</time></a>
&lt;<span class='nick nick-9'>sdaftuar</span>&gt;
i don&#x27;t really know - i was just imagining coming up with a special case for what happens when we validate a transaction at a time when we know TrimToSize() didn&#x27;t finish, and needing a way to delay relay of anything until that completes
<br>
</div>

<div class='talk op-msg' data-timestamp='1671202332' id='878473'>
<a class='timestamp' href='#878473'><time timestamp='2022-12-16T14:52:12Z'>14:52</time></a>
&lt;<span class='nick nick-9'>sdaftuar</span>&gt;
seems messy
<br>
</div>

<div class='talk op-msg' data-timestamp='1671202363' id='878474'>
<a class='timestamp' href='#878474'><time timestamp='2022-12-16T14:52:43Z'>14:52</time></a>
&lt;<span class='nick nick-9'>sdaftuar</span>&gt;
the issue here being transactinos whose own feerates pass feefilter, but with a (eg) zero-fee parent that shouldn&#x27;t be in the mempool, would not be accepted
<br>
</div>

<div class='talk op-msg' data-timestamp='1671202412' id='878475'>
<a class='timestamp' href='#878475'><time timestamp='2022-12-16T14:53:32Z'>14:53</time></a>
&lt;<span class='nick nick-9'>sdaftuar</span>&gt;
hopefully evicting 2500 transactions is fast enough, relative to transaction validation, that we can ignore this question
<br>
</div>

<div class='talk op-msg' data-timestamp='1671202431' id='878476'>
<a class='timestamp' href='#878476'><time timestamp='2022-12-16T14:53:51Z'>14:53</time></a>
&lt;<span class='nick nick-10'>glozow</span>&gt;
if we&#x27;re confident that it&#x27;s bounded (2400 seems somewhat ok), it seems like evicting in TrimToSize() seems like the simplest approach. another would be for CTxMemPool to mark things as &quot;to be lazily removed&quot; and not hand those entries out
<br>
</div>

<div class='talk op-msg' data-timestamp='1671202454' id='878477'>
<a class='timestamp' href='#878477'><time timestamp='2022-12-16T14:54:14Z'>14:54</time></a>
&lt;<span class='nick nick-9'>sdaftuar</span>&gt;
makes sense
<br>
</div>

<div class='talk op-msg' data-timestamp='1671202547' id='878478'>
<a class='timestamp' href='#878478'><time timestamp='2022-12-16T14:55:47Z'>14:55</time></a>
&lt;<span class='nick nick-8'>instagibbs</span>&gt;
eviction benchmark needs some beefing :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1671202608' id='878479'>
<a class='timestamp' href='#878479'><time timestamp='2022-12-16T14:56:48Z'>14:56</time></a>
&lt;<span class='nick nick-10'>glozow</span>&gt;
yeah, can write a bench
<br>
</div>

<div class='talk op-msg' data-timestamp='1671202655' id='878480'>
<a class='timestamp' href='#878480'><time timestamp='2022-12-16T14:57:35Z'>14:57</time></a>
&lt;<span class='nick nick-8'>instagibbs</span>&gt;
one exists, it&#x27;s just very trivial
<br>
</div>

<div class='talk op-msg' data-timestamp='1671202656' id='878481'>
<a class='timestamp' href='#878481'><time timestamp='2022-12-16T14:57:36Z'>14:57</time></a>
&lt;<span class='nick nick-9'>sdaftuar</span>&gt;
i think the right metric is as a percentage of transaction validation time... unfortunately that can be slow for a tx with a lot of inputs, and very slow if an adversary wants it to be... but from that perspective taking a little more time in the mempool will seem minor
<br>
</div>

<div class='info op-join' data-timestamp='1671203272' id='878482'>
<a class='timestamp' href='#878482'><time timestamp='2022-12-16T15:07:52Z'>15:07</time></a>
jonatack2 has joined #bitcoin-core-dev
<br>
</div>

<div class='talk op-msg' data-timestamp='1671205250' id='878483'>
<a class='timestamp' href='#878483'><time timestamp='2022-12-16T15:40:50Z'>15:40</time></a>
&lt;<span class='nick nick-9'>sdaftuar</span>&gt;
oh... i just realized that TrimToSize() can&#x27;t really do what we need here, for the same reason as why it would be hard to change single-tx validation to not allow using a parent that should have been removed
<br>
</div>

<div class='talk op-msg' data-timestamp='1671205318' id='878484'>
<a class='timestamp' href='#878484'><time timestamp='2022-12-16T15:41:58Z'>15:41</time></a>
&lt;<span class='nick nick-9'>sdaftuar</span>&gt;
it&#x27;s the same scenario i wrote above: imagine zero-fee txA arrives with txB, which pays for it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1671205335' id='878485'>
<a class='timestamp' href='#878485'><time timestamp='2022-12-16T15:42:15Z'>15:42</time></a>
&lt;<span class='nick nick-9'>sdaftuar</span>&gt;
before txB is removed from the mempool via an RBF that drops A as a parent, imagine that txC and txD arrive and are children of txA.
<br>
</div>

<div class='talk op-msg' data-timestamp='1671205365' id='878486'>
<a class='timestamp' href='#878486'><time timestamp='2022-12-16T15:42:45Z'>15:42</time></a>
&lt;<span class='nick nick-9'>sdaftuar</span>&gt;
you can construct txC and txD so that the descendant feerate of A is greater than the minrelayfee, but neither C nor D have an ancestor feerate greater than the minrelayfee
<br>
</div>

<div class='talk op-msg' data-timestamp='1671205397' id='878487'>
<a class='timestamp' href='#878487'><time timestamp='2022-12-16T15:43:17Z'>15:43</time></a>
&lt;<span class='nick nick-9'>sdaftuar</span>&gt;
so again we&#x27;d end up with transactions in the mempool that never get mined.
<br>
</div>

<div class='talk op-msg' data-timestamp='1671205466' id='878488'>
<a class='timestamp' href='#878488'><time timestamp='2022-12-16T15:44:26Z'>15:44</time></a>
&lt;<span class='nick nick-9'>sdaftuar</span>&gt;
i&#x27;m starting to wonder if we should try to staple packages together, so taht if any part get RBF&#x27;ed out, the whole package has to go
<br>
</div>

<div class='talk op-msg' data-timestamp='1671205475' id='878489'>
<a class='timestamp' href='#878489'><time timestamp='2022-12-16T15:44:35Z'>15:44</time></a>
&lt;<span class='nick nick-9'>sdaftuar</span>&gt;
that would be akin to how single-transactionv alidation works today
<br>
</div>

<div class='talk op-msg' data-timestamp='1671205536' id='878490'>
<a class='timestamp' href='#878490'><time timestamp='2022-12-16T15:45:36Z'>15:45</time></a>
&lt;<span class='nick nick-8'>instagibbs</span>&gt;
basically track how sub-packages get accepted together
<br>
</div>

<div class='talk op-msg' data-timestamp='1671205547' id='878491'>
<a class='timestamp' href='#878491'><time timestamp='2022-12-16T15:45:47Z'>15:45</time></a>
&lt;<span class='nick nick-9'>sdaftuar</span>&gt;
right
<br>
</div>

<div class='talk op-msg' data-timestamp='1671205567' id='878492'>
<a class='timestamp' href='#878492'><time timestamp='2022-12-16T15:46:07Z'>15:46</time></a>
&lt;<span class='nick nick-9'>sdaftuar</span>&gt;
if we could implement taht, i think it would solve DoS concenrs, but raise potential incentive compatibility concerns
<br>
</div>

<div class='talk op-msg' data-timestamp='1671205655' id='878493'>
<a class='timestamp' href='#878493'><time timestamp='2022-12-16T15:47:35Z'>15:47</time></a>
&lt;<span class='nick nick-8'>instagibbs</span>&gt;
things getting kicked out when they would have improved the next template?
<br>
</div>

<div class='talk op-msg' data-timestamp='1671205658' id='878494'>
<a class='timestamp' href='#878494'><time timestamp='2022-12-16T15:47:38Z'>15:47</time></a>
&lt;<span class='nick nick-8'>instagibbs</span>&gt;
or something else
<br>
</div>

<div class='talk op-msg' data-timestamp='1671205674' id='878495'>
<a class='timestamp' href='#878495'><time timestamp='2022-12-16T15:47:54Z'>15:47</time></a>
&lt;<span class='nick nick-9'>sdaftuar</span>&gt;
yeah something like that. an RBF that doens&#x27;t pay for the whole package&#x27;s eviction but just a small piece of it, etc.
<br>
</div>

<div class='talk op-msg' data-timestamp='1671205741' id='878496'>
<a class='timestamp' href='#878496'><time timestamp='2022-12-16T15:49:01Z'>15:49</time></a>
&lt;<span class='nick nick-9'>sdaftuar</span>&gt;
oh i guess the way i stated it, you&#x27;d get logical contradictions too. sigh.
<br>
</div>

<div class='talk op-msg' data-timestamp='1671205747' id='878497'>
<a class='timestamp' href='#878497'><time timestamp='2022-12-16T15:49:07Z'>15:49</time></a>
&lt;<span class='nick nick-9'>sdaftuar</span>&gt;
not sure how to solve this
<br>
</div>

<div class='talk op-msg' data-timestamp='1671205758' id='878498'>
<a class='timestamp' href='#878498'><time timestamp='2022-12-16T15:49:18Z'>15:49</time></a>
&lt;<span class='nick nick-10'>glozow</span>&gt;
I do think it could be beneficial to track what transactions got in together, or somehow keep track of/update &quot;fee dependencies&quot; between `CTxMemPoolEntry`s? it would also help with persisting packages through a dump/load
<br>
</div>

<div class='talk op-msg' data-timestamp='1671205760' id='878499'>
<a class='timestamp' href='#878499'><time timestamp='2022-12-16T15:49:20Z'>15:49</time></a>
&lt;<span class='nick nick-2'>bitcoin-git</span>&gt;
[bitcoin] JeremyRubin closed pull request #23309: [WIP] Add a basic python REST API Server Wrapper (master...rest-python) <a href="https://github.com/bitcoin/bitcoin/pull/23309" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/23309</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1671205760' id='878500'>
<a class='timestamp' href='#878500'><time timestamp='2022-12-16T15:49:20Z'>15:49</time></a>
&lt;<span class='nick nick-2'>bitcoin-git</span>&gt;
[bitcoin] JeremyRubin closed pull request #22954: [TESTS] Allow tx_invalid.json tests to include flag rules for if_unset: [A,B,C] then_unset: [D] (master...if_unset_then_unset) <a href="https://github.com/bitcoin/bitcoin/pull/22954" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/22954</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1671205761' id='878501'>
<a class='timestamp' href='#878501'><time timestamp='2022-12-16T15:49:21Z'>15:49</time></a>
&lt;<span class='nick nick-2'>bitcoin-git</span>&gt;
[bitcoin] JeremyRubin closed pull request #22876: [TESTS] Update Transaction Tests to permit setting a flag as always on and disabling the exhaustive failure test (master...update-txvalid-json) <a href="https://github.com/bitcoin/bitcoin/pull/22876" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/22876</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1671205846' id='878502'>
<a class='timestamp' href='#878502'><time timestamp='2022-12-16T15:50:46Z'>15:50</time></a>
&lt;<span class='nick nick-9'>sdaftuar</span>&gt;
glozow: gets tricky with RBF. imagine a package comes in, and then the child is replaced with a new child (which has the same ancestry). you&#x27;d swap out the old child for the new child in your package tracking?
<br>
</div>

<div class='talk op-msg' data-timestamp='1671205856' id='878503'>
<a class='timestamp' href='#878503'><time timestamp='2022-12-16T15:50:56Z'>15:50</time></a>
&lt;<span class='nick nick-9'>sdaftuar</span>&gt;
now imagine it has a somewhat different ancestry...
<br>
</div>

<div class='talk op-msg' data-timestamp='1671206182' id='878504'>
<a class='timestamp' href='#878504'><time timestamp='2022-12-16T15:56:22Z'>15:56</time></a>
&lt;<span class='nick nick-10'>glozow</span>&gt;
yeah...
<br>
</div>

<div class='info op-quit' data-timestamp='1671206339' id='878505'>
<a class='timestamp' href='#878505'><time timestamp='2022-12-16T15:58:59Z'>15:58</time></a>
yanmaani1 has quit [Ping timeout: 255 seconds]
<br>
</div>

<div class='talk op-msg' data-timestamp='1671206424' id='878506'>
<a class='timestamp' href='#878506'><time timestamp='2022-12-16T16:00:24Z'>16:00</time></a>
&lt;<span class='nick nick-8'>_aj_</span>&gt;
glozow, sdaftuar: what do you think of a &quot;mempoolreplace&quot; rpc, that allows you to add a tx package [A,B,C] to your mempool, despite conflicts X,Y,Z, ignoring all rbf rules (at most optionally trying to read X,Y,.. to the mempool and doing so if they&#x27;re valid rbf replacements of A,B,C..)
<br>
</div>

<div class='info op-join' data-timestamp='1671206554' id='878507'>
<a class='timestamp' href='#878507'><time timestamp='2022-12-16T16:02:34Z'>16:02</time></a>
yanmaani1 has joined #bitcoin-core-dev
<br>
</div>

<div class='talk op-msg' data-timestamp='1671206659' id='878508'>
<a class='timestamp' href='#878508'><time timestamp='2022-12-16T16:04:19Z'>16:04</time></a>
&lt;<span class='nick nick-10'>glozow</span>&gt;
correct me if i&#x27;m wrong - today, you could have a parent + 2 children at the bottom of the mempool, where the parent&#x27;s descendant feerate is above mempool min feerate but each child&#x27;s ancestor package is below mempool min feerate. so not evicted, but also not great. though everything is above min relay fee, so not entirely wasted space
<br>
</div>

<div class='talk op-msg' data-timestamp='1671206774' id='878509'>
<a class='timestamp' href='#878509'><time timestamp='2022-12-16T16:06:14Z'>16:06</time></a>
&lt;<span class='nick nick-10'>glozow</span>&gt;
_aj_: do you mean that, after the RPC finishes, all 6 transactions would be in our mempool?
<br>
</div>

<div class='talk op-msg' data-timestamp='1671206814' id='878510'>
<a class='timestamp' href='#878510'><time timestamp='2022-12-16T16:06:54Z'>16:06</time></a>
&lt;<span class='nick nick-9'>sdaftuar</span>&gt;
glozow: yeah i think there&#x27;s a distinction in my mind between mempool min fee and minrelayfee, because once you go below minrelayfee the mining code will always ignore it
<br>
</div>

<div class='talk op-msg' data-timestamp='1671206859' id='878511'>
<a class='timestamp' href='#878511'><time timestamp='2022-12-16T16:07:39Z'>16:07</time></a>
&lt;<span class='nick nick-9'>sdaftuar</span>&gt;
so if you are able to get stuff in below minrelayfee, that is a free relay DoS on the network. seems like it&#x27;s bounded because once the mempool fills up, it goes away, but i wonder if we can do better
<br>
</div>

<div class='talk op-msg' data-timestamp='1671206892' id='878512'>
<a class='timestamp' href='#878512'><time timestamp='2022-12-16T16:08:12Z'>16:08</time></a>
&lt;<span class='nick nick-8'>_aj_</span>&gt;
glozow: after the RPC finishes, either (a) A,B,C are in your mempool or, (b) it&#x27;s as-if you had A,B,C in your mempool and then received X,Y,... via (package) relay
<br>
</div>

<div class='talk op-msg' data-timestamp='1671206961' id='878513'>
<a class='timestamp' href='#878513'><time timestamp='2022-12-16T16:09:21Z'>16:09</time></a>
&lt;<span class='nick nick-8'>_aj_</span>&gt;
glozow: X,Y,.. conflicts with A,B,C so you should never have all of them in your mempool
<br>
</div>

<div class='talk op-msg' data-timestamp='1671206997' id='878514'>
<a class='timestamp' href='#878514'><time timestamp='2022-12-16T16:09:57Z'>16:09</time></a>
&lt;<span class='nick nick-9'>sdaftuar</span>&gt;
_aj_: i don&#x27;t think i understand the problem you&#x27;re trying to solve
<br>
</div>

<div class='talk op-msg' data-timestamp='1671207006' id='878515'>
<a class='timestamp' href='#878515'><time timestamp='2022-12-16T16:10:06Z'>16:10</time></a>
&lt;<span class='nick nick-8'>_aj_</span>&gt;
glozow: (the idea being that this would allow you to build an alternative layer 2 relay network and populate your mempool using it, if there&#x27;s some subset of transactions where regular rbf is sub-optimal)
<br>
</div>

<div class='talk op-msg' data-timestamp='1671207044' id='878516'>
<a class='timestamp' href='#878516'><time timestamp='2022-12-16T16:10:44Z'>16:10</time></a>
&lt;<span class='nick nick-9'>sdaftuar</span>&gt;
would those transactions then be relayed on the p2p network, once accepted to the mempool?
<br>
</div>

<div class='talk op-msg' data-timestamp='1671207067' id='878517'>
<a class='timestamp' href='#878517'><time timestamp='2022-12-16T16:11:07Z'>16:11</time></a>
&lt;<span class='nick nick-8'>_aj_</span>&gt;
sdaftuar: not sure, i&#x27;m assuming &quot;no&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1671207106' id='878518'>
<a class='timestamp' href='#878518'><time timestamp='2022-12-16T16:11:46Z'>16:11</time></a>
&lt;<span class='nick nick-9'>sdaftuar</span>&gt;
ok i definitely do not understand what would be achieved then :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1671207123' id='878519'>
<a class='timestamp' href='#878519'><time timestamp='2022-12-16T16:12:03Z'>16:12</time></a>
&lt;<span class='nick nick-10'>glozow</span>&gt;
sdaftuar: right so if, as a short term workaround, all transactions have to meet min relay fee but packages can cpfp things below mempool min fee, seems like we would be on par with current situation? not ideal, but trying to get a sense of what -0 looks like.
<br>
</div>

<div class='talk op-msg' data-timestamp='1671207123' id='878520'>
<a class='timestamp' href='#878520'><time timestamp='2022-12-16T16:12:03Z'>16:12</time></a>
&lt;<span class='nick nick-9'>sdaftuar</span>&gt;
a transaction relay network that is separate from the one we maintain?
<br>
</div>

<div class='talk op-msg' data-timestamp='1671207200' id='878521'>
<a class='timestamp' href='#878521'><time timestamp='2022-12-16T16:13:20Z'>16:13</time></a>
&lt;<span class='nick nick-9'>sdaftuar</span>&gt;
glozow: are you suggesting that we rewrite TrimToSize() to look at ancestor packages and evict ones that are below minrelayfee?
<br>
</div>

<div class='talk op-msg' data-timestamp='1671207206' id='878522'>
<a class='timestamp' href='#878522'><time timestamp='2022-12-16T16:13:26Z'>16:13</time></a>
&lt;<span class='nick nick-8'>_aj_</span>&gt;
sdaftuar: if you have a tx X which you want mined, you relay it over p2p but it&#x27;s pinned by Y and goes nowhere. so you also relay it over L2-relay, and hope that a miner is on L2-relay. i think this is what would be necessary to make that possible
<br>
</div>

<div class='talk op-msg' data-timestamp='1671207220' id='878523'>
<a class='timestamp' href='#878523'><time timestamp='2022-12-16T16:13:40Z'>16:13</time></a>
&lt;<span class='nick nick-9'>sdaftuar</span>&gt;
_aj_: got it, now i understand
<br>
</div>

<div class='talk op-msg' data-timestamp='1671207294' id='878524'>
<a class='timestamp' href='#878524'><time timestamp='2022-12-16T16:14:54Z'>16:14</time></a>
&lt;<span class='nick nick-10'>glozow</span>&gt;
_aj_: if it&#x27;s a fee-related pin, prioritisetransaction() may help?
<br>
</div>

<div class='talk op-msg' data-timestamp='1671207395' id='878525'>
<a class='timestamp' href='#878525'><time timestamp='2022-12-16T16:16:35Z'>16:16</time></a>
&lt;<span class='nick nick-9'>sdaftuar</span>&gt;
_aj_: i think you&#x27;ll run into the same issues we have in Bitcoin Core&#x27;s logic wrt DoS. fundamentally we don&#x27;t have a total ordering on transaction desirability, and that leads to the DoS concerns we have
<br>
</div>

<div class='talk op-msg' data-timestamp='1671207401' id='878526'>
<a class='timestamp' href='#878526'><time timestamp='2022-12-16T16:16:41Z'>16:16</time></a>
&lt;<span class='nick nick-8'>_aj_</span>&gt;
glozow: could be a non fee-related pin, but also seems like that would also allow you to prevent D,E,F at higher feerates from replacing A,B,C in the normal way, which would be annoying (i guess you could prioritisetransaction, sendrawtx, de-prioritisetransaction?)
<br>
</div>

<div class='talk op-msg' data-timestamp='1671207405' id='878527'>
<a class='timestamp' href='#878527'><time timestamp='2022-12-16T16:16:45Z'>16:16</time></a>
&lt;<span class='nick nick-10'>glozow</span>&gt;
sdaftuar: I guess I&#x27;m (lightly) suggesting / wondering what it looks like to only use package feerate for the mempool min feerate, and not min relay fee check. so you could bump a 1sat/vB tx when the mempool&#x27;s full, but you can&#x27;t bump a 0sat/vB tx.
<br>
</div>

<div class='talk op-msg' data-timestamp='1671207436' id='878528'>
<a class='timestamp' href='#878528'><time timestamp='2022-12-16T16:17:16Z'>16:17</time></a>
&lt;<span class='nick nick-9'>sdaftuar</span>&gt;
glozow: ahh i see
<br>
</div>

<div class='talk op-msg' data-timestamp='1671207455' id='878529'>
<a class='timestamp' href='#878529'><time timestamp='2022-12-16T16:17:35Z'>16:17</time></a>
&lt;<span class='nick nick-10'>glozow</span>&gt;
_aj_: yeah if you want it to be replaceable normally afterwards, you could just undo the prioritisetransaction after it&#x27;s in.
<br>
</div>

<div class='talk op-msg' data-timestamp='1671207457' id='878530'>
<a class='timestamp' href='#878530'><time timestamp='2022-12-16T16:17:37Z'>16:17</time></a>
&lt;<span class='nick nick-8'>_aj_</span>&gt;
sdaftuar: that would then be L2-relay&#x27;s problem, the idea being you only apply L2-relay to some very limited subset of txs where you can come up with a sane solution to that problem (and this is just an rpc for such a thing to use)
<br>
</div>

<div class='talk op-msg' data-timestamp='1671207471' id='878531'>
<a class='timestamp' href='#878531'><time timestamp='2022-12-16T16:17:51Z'>16:17</time></a>
&lt;<span class='nick nick-9'>sdaftuar</span>&gt;
glozow: yeah i think that works?
<br>
</div>

<div class='talk op-msg' data-timestamp='1671207513' id='878532'>
<a class='timestamp' href='#878532'><time timestamp='2022-12-16T16:18:33Z'>16:18</time></a>
&lt;<span class='nick nick-10'>glozow</span>&gt;
sdaftuar: (though I know that makes package acceptance much less cool...)
<br>
</div>

<div class='talk op-msg' data-timestamp='1671207535' id='878533'>
<a class='timestamp' href='#878533'><time timestamp='2022-12-16T16:18:55Z'>16:18</time></a>
&lt;<span class='nick nick-9'>sdaftuar</span>&gt;
glozow: if we can get anything that works i think we should call it a win :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1671207546' id='878534'>
<a class='timestamp' href='#878534'><time timestamp='2022-12-16T16:19:06Z'>16:19</time></a>
&lt;<span class='nick nick-9'>sdaftuar</span>&gt;
all this rbf/package stuff seems too hard...
<br>
</div>

<div class='talk op-msg' data-timestamp='1671207591' id='878535'>
<a class='timestamp' href='#878535'><time timestamp='2022-12-16T16:19:51Z'>16:19</time></a>
&lt;<span class='nick nick-9'>sdaftuar</span>&gt;
_aj_: fundamentally i&#x27;d agree that we could offer infrastructure (such as RPCs) to allow for off-network transaction relay, and outsource the DoS problems 
<br>
</div>

<div class='talk op-msg' data-timestamp='1671207596' id='878536'>
<a class='timestamp' href='#878536'><time timestamp='2022-12-16T16:19:56Z'>16:19</time></a>
&lt;<span class='nick nick-8'>_aj_</span>&gt;
&quot;can&#x27;t bump a 0sat/vb tx&quot; ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1671207648' id='878537'>
<a class='timestamp' href='#878537'><time timestamp='2022-12-16T16:20:48Z'>16:20</time></a>
&lt;<span class='nick nick-10'>glozow</span>&gt;
okay so then we&#x27;d be at -0. and let&#x27;s say we then loosen to &quot;with package relay, you can bump a v3 transaction below min relay fee&quot; ? then we could do all our evictions inside of `TrimToSize()` - there can only be 100 i think, and none of them can have descendants.
<br>
</div>

<div class='talk op-msg' data-timestamp='1671207870' id='878538'>
<a class='timestamp' href='#878538'><time timestamp='2022-12-16T16:24:30Z'>16:24</time></a>
&lt;<span class='nick nick-9'>sdaftuar</span>&gt;
i can&#x27;t recall if we require that rbf&#x27;ing a v3 transaction requires the replacement to be v3 itself?
<br>
</div>

<div class='talk op-msg' data-timestamp='1671207886' id='878539'>
<a class='timestamp' href='#878539'><time timestamp='2022-12-16T16:24:46Z'>16:24</time></a>
&lt;<span class='nick nick-10'>glozow</span>&gt;
sdaftuar: it doesn&#x27;t, no
<br>
</div>

<div class='talk op-msg' data-timestamp='1671207899' id='878540'>
<a class='timestamp' href='#878540'><time timestamp='2022-12-16T16:24:59Z'>16:24</time></a>
&lt;<span class='nick nick-9'>sdaftuar</span>&gt;
i guess either way, you can&#x27;t chain a v2 child on a v3 0fee transaction so maybe doens&#x27;t matter
<br>
</div>

<div class='talk op-msg' data-timestamp='1671207935' id='878541'>
<a class='timestamp' href='#878541'><time timestamp='2022-12-16T16:25:35Z'>16:25</time></a>
&lt;<span class='nick nick-9'>sdaftuar</span>&gt;
so the rule is that non-v3 transactions must always have minrelayfee on them?
<br>
</div>

<div class='talk op-msg' data-timestamp='1671207948' id='878542'>
<a class='timestamp' href='#878542'><time timestamp='2022-12-16T16:25:48Z'>16:25</time></a>
&lt;<span class='nick nick-10'>glozow</span>&gt;
yep
<br>
</div>

<div class='talk op-msg' data-timestamp='1671207973' id='878543'>
<a class='timestamp' href='#878543'><time timestamp='2022-12-16T16:26:13Z'>16:26</time></a>
&lt;<span class='nick nick-9'>sdaftuar</span>&gt;
i think that works... will give it more thought
<br>
</div>

<div class='talk op-msg' data-timestamp='1671208073' id='878544'>
<a class='timestamp' href='#878544'><time timestamp='2022-12-16T16:27:53Z'>16:27</time></a>
&lt;<span class='nick nick-10'>glozow</span>&gt;
yeah. so any 0-fee transaction can only be in a package of size 2. Limit 100 replacements = limit 100 such 0-fee transactions afterwards. None of them can have any other descendants.
<br>
</div>

<div class='talk op-msg' data-timestamp='1671208121' id='878545'>
<a class='timestamp' href='#878545'><time timestamp='2022-12-16T16:28:41Z'>16:28</time></a>
&lt;<span class='nick nick-8'>_aj_</span>&gt;
glozow: can&#x27;t you have n 0-fee txs as a package of size n+1 ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1671208181' id='878546'>
<a class='timestamp' href='#878546'><time timestamp='2022-12-16T16:29:41Z'>16:29</time></a>
&lt;<span class='nick nick-10'>glozow</span>&gt;
_aj_: no, because of other v3 rules. v3 can only have v3 ancestors, and only v3 descendants.
<br>
</div>

<div class='talk op-msg' data-timestamp='1671208192' id='878547'>
<a class='timestamp' href='#878547'><time timestamp='2022-12-16T16:29:52Z'>16:29</time></a>
&lt;<span class='nick nick-10'>glozow</span>&gt;
and a v3 can only have 1 child
<br>
</div>

<div class='talk op-msg' data-timestamp='1671208211' id='878548'>
<a class='timestamp' href='#878548'><time timestamp='2022-12-16T16:30:11Z'>16:30</time></a>
&lt;<span class='nick nick-10'>glozow</span>&gt;
and only 1 parent
<br>
</div>

<div class='talk op-msg' data-timestamp='1671208211' id='878549'>
<a class='timestamp' href='#878549'><time timestamp='2022-12-16T16:30:11Z'>16:30</time></a>
&lt;<span class='nick nick-8'>_aj_</span>&gt;
glozow: right, so n 0-fee parents and 1 hihg-fee child that cpfp&#x27;s all of them?
<br>
</div>

<div class='talk op-msg' data-timestamp='1671208284' id='878550'>
<a class='timestamp' href='#878550'><time timestamp='2022-12-16T16:31:24Z'>16:31</time></a>
&lt;<span class='nick nick-10'>glozow</span>&gt;
_aj_: ancestor limit = 2: <a href="https://github.com/bitcoin/bitcoin/pull/25038/files#diff-526d4fd6bad9d82601d03afcb3e250f1476b0f650b96d75dd702354ec2ae8cf6R23" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/25038/files#diff-526d4fd6bad9d82601d03afcb3e250f1476b0f650b96d75dd702354ec2ae8cf6R23</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1671208311' id='878551'>
<a class='timestamp' href='#878551'><time timestamp='2022-12-16T16:31:51Z'>16:31</time></a>
&lt;<span class='nick nick-10'>glozow</span>&gt;
(this is new from the last ~month)
<br>
</div>

<div class='talk op-msg' data-timestamp='1671208416' id='878552'>
<a class='timestamp' href='#878552'><time timestamp='2022-12-16T16:33:36Z'>16:33</time></a>
&lt;<span class='nick nick-8'>_aj_</span>&gt;
is there doc/rationale for that? it seems pretty limiting?
<br>
</div>

<div class='talk op-msg' data-timestamp='1671208455' id='878553'>
<a class='timestamp' href='#878553'><time timestamp='2022-12-16T16:34:15Z'>16:34</time></a>
&lt;<span class='nick nick-10'>glozow</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/pull/25038#issuecomment-1320295394" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/25038#issuecomment-1320295394</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1671208621' id='878554'>
<a class='timestamp' href='#878554'><time timestamp='2022-12-16T16:37:01Z'>16:37</time></a>
&lt;<span class='nick nick-8'>instagibbs</span>&gt;
there&#x27;s a pin behind every blade of grass
<br>
</div>

<div class='talk op-msg' data-timestamp='1671208635' id='878555'>
<a class='timestamp' href='#878555'><time timestamp='2022-12-16T16:37:15Z'>16:37</time></a>
&lt;<span class='nick nick-10'>glozow</span>&gt;
(in case the comment doesn&#x27;t load) Let&#x27;s say an adversary wants to pin a tx B (make it hard to replace). They add a high-fee descendant of B that also spends from a large, low-feerate mempool transaction, C. The child may pay a very large fee but not actually be fee-bumping B if its overall ancestor feerate is still lower than B&#x27;s individual feerate. For example, assuming the default ancestor size limit is 101KvB, B is 1000vB paying 2sat/vB, 
<br>
</div>

<div class='talk op-msg' data-timestamp='1671208635' id='878556'>
<a class='timestamp' href='#878556'><time timestamp='2022-12-16T16:37:15Z'>16:37</time></a>
&lt;<span class='nick nick-10'>glozow</span>&gt;
and C is 99KvB paying 1sat/vB, adding a 1000vB child of B and C increases the cost to replace B by 101Ksat.
<br>
</div>

<div class='talk op-msg' data-timestamp='1671208644' id='878557'>
<a class='timestamp' href='#878557'><time timestamp='2022-12-16T16:37:24Z'>16:37</time></a>
&lt;<span class='nick nick-8'>_aj_</span>&gt;
okay, goes in my &quot;makes package acceptance much less cool...&quot; but &quot;if we can get anything that works i think we should call it a win&quot; bucket
<br>
</div>

<div class='talk op-msg' data-timestamp='1671208674' id='878558'>
<a class='timestamp' href='#878558'><time timestamp='2022-12-16T16:37:54Z'>16:37</time></a>
&lt;<span class='nick nick-10'>glozow</span>&gt;
instagibbs: hashtag v3 fixes this
<br>
</div>

<div class='talk op-msg' data-timestamp='1671208700' id='878559'>
<a class='timestamp' href='#878559'><time timestamp='2022-12-16T16:38:20Z'>16:38</time></a>
&lt;<span class='nick nick-8'>instagibbs</span>&gt;
reasoning about this stuff is so hard :(
<br>
</div>

<div class='talk op-msg' data-timestamp='1671208711' id='878560'>
<a class='timestamp' href='#878560'><time timestamp='2022-12-16T16:38:31Z'>16:38</time></a>
&lt;<span class='nick nick-8'>_aj_</span>&gt;
not being able to pay for multiple parents means v3-ephemeral isn&#x27;t a replacement for sighash_group anymore
<br>
</div>

<div class='talk op-msg' data-timestamp='1671208728' id='878561'>
<a class='timestamp' href='#878561'><time timestamp='2022-12-16T16:38:48Z'>16:38</time></a>
&lt;<span class='nick nick-8'>_aj_</span>&gt;
(not that sighash_group doesn&#x27;t have all the same pinning issues itself)
<br>
</div>

<div class='talk op-msg' data-timestamp='1671208733' id='878562'>
<a class='timestamp' href='#878562'><time timestamp='2022-12-16T16:38:53Z'>16:38</time></a>
&lt;<span class='nick nick-8'>instagibbs</span>&gt;
yeah
<br>
</div>

<div class='talk op-msg' data-timestamp='1671208762' id='878563'>
<a class='timestamp' href='#878563'><time timestamp='2022-12-16T16:39:22Z'>16:39</time></a>
&lt;<span class='nick nick-8'>_aj_</span>&gt;
huh
<br>
</div>

<div class='talk op-msg' data-timestamp='1671208816' id='878564'>
<a class='timestamp' href='#878564'><time timestamp='2022-12-16T16:40:16Z'>16:40</time></a>
&lt;<span class='nick nick-8'>_aj_</span>&gt;
hmm, un-&quot;huh&quot;, that was a dumb thought bubble
<br>
</div>

<div class='info op-join' data-timestamp='1671208857' id='878565'>
<a class='timestamp' href='#878565'><time timestamp='2022-12-16T16:40:57Z'>16:40</time></a>
ajonas_ has joined #bitcoin-core-dev
<br>
</div>

<div class='talk op-msg' data-timestamp='1671208931' id='878566'>
<a class='timestamp' href='#878566'><time timestamp='2022-12-16T16:42:11Z'>16:42</time></a>
&lt;<span class='nick nick-8'>_aj_</span>&gt;
glozow: is it interesting to test this on signet/inquisition in general; or only in the context of eltoo btw? (the cpfp 0-fee txs stuff needs miner support presumably)
<br>
</div>

<div class='talk op-msg' data-timestamp='1671208993' id='878567'>
<a class='timestamp' href='#878567'><time timestamp='2022-12-16T16:43:13Z'>16:43</time></a>
&lt;<span class='nick nick-8'>instagibbs</span>&gt;
V3 is still interesting for anything that isn&#x27;t batching, imo
<br>
</div>

<div class='talk op-msg' data-timestamp='1671209002' id='878568'>
<a class='timestamp' href='#878568'><time timestamp='2022-12-16T16:43:22Z'>16:43</time></a>
&lt;<span class='nick nick-8'>instagibbs</span>&gt;
batch bumps* I mean
<br>
</div>

<div class='talk op-msg' data-timestamp='1671209008' id='878569'>
<a class='timestamp' href='#878569'><time timestamp='2022-12-16T16:43:28Z'>16:43</time></a>
&lt;<span class='nick nick-8'>instagibbs</span>&gt;
batched payouts, still interesting
<br>
</div>

<div class='talk op-msg' data-timestamp='1671209365' id='878570'>
<a class='timestamp' href='#878570'><time timestamp='2022-12-16T16:49:25Z'>16:49</time></a>
&lt;<span class='nick nick-8'>_aj_</span>&gt;
just not sure what parts are fine to just test on mainnet vs are worth exploring in something more controlled that&#x27;s not just regtest
<br>
</div>

<div class='talk op-msg' data-timestamp='1671209378' id='878571'>
<a class='timestamp' href='#878571'><time timestamp='2022-12-16T16:49:38Z'>16:49</time></a>
&lt;<span class='nick nick-10'>glozow</span>&gt;
v3 in general should make stuff less pinnable and our rbf heuristics more accurate. replacing a v3 transaction doesn&#x27;t require the RBF carve out (where if we have 1 conflict, we add its descendant size to the descendant count to avoid overestimating). we might also be able to get rid of cpfp carve out if double anchor outputs are no longer necessary
<br>
</div>

<div class='talk op-msg' data-timestamp='1671209462' id='878572'>
<a class='timestamp' href='#878572'><time timestamp='2022-12-16T16:51:02Z'>16:51</time></a>
&lt;<span class='nick nick-8'>_aj_</span>&gt;
i don&#x27;t think we could get rid of cpfp-carveout until there were ~0 old ln channels remaining; ie years and years away?
<br>
</div>

<div class='talk op-msg' data-timestamp='1671209470' id='878573'>
<a class='timestamp' href='#878573'><time timestamp='2022-12-16T16:51:10Z'>16:51</time></a>
&lt;<span class='nick nick-8'>instagibbs</span>&gt;
correct
<br>
</div>

<div class='talk op-msg' data-timestamp='1671209505' id='878574'>
<a class='timestamp' href='#878574'><time timestamp='2022-12-16T16:51:45Z'>16:51</time></a>
&lt;<span class='nick nick-8'>instagibbs</span>&gt;
well.... maybe they gave up on using the carveout
<br>
</div>

<div class='talk op-msg' data-timestamp='1671209508' id='878575'>
<a class='timestamp' href='#878575'><time timestamp='2022-12-16T16:51:48Z'>16:51</time></a>
&lt;<span class='nick nick-8'>instagibbs</span>&gt;
can&#x27;t recall
<br>
</div>

<div class='talk op-msg' data-timestamp='1671209556' id='878576'>
<a class='timestamp' href='#878576'><time timestamp='2022-12-16T16:52:36Z'>16:52</time></a>
&lt;<span class='nick nick-8'>_aj_</span>&gt;
the carveout&#x27;s there so you can always use your anchor, even if your counterparty is trying to otherwise hit descendant limits
<br>
</div>

<div class='talk op-msg' data-timestamp='1671209598' id='878577'>
<a class='timestamp' href='#878577'><time timestamp='2022-12-16T16:53:18Z'>16:53</time></a>
&lt;<span class='nick nick-8'>_aj_</span>&gt;
(iirc)
<br>
</div>

<div class='talk op-msg' data-timestamp='1671209600' id='878578'>
<a class='timestamp' href='#878578'><time timestamp='2022-12-16T16:53:20Z'>16:53</time></a>
&lt;<span class='nick nick-8'>instagibbs</span>&gt;
you&#x27;re assuming you see the other&#x27;s commit tx in mempool, then spend the anchor
<br>
</div>

<div class='talk op-msg' data-timestamp='1671209613' id='878579'>
<a class='timestamp' href='#878579'><time timestamp='2022-12-16T16:53:33Z'>16:53</time></a>
&lt;<span class='nick nick-8'>instagibbs</span>&gt;
or attacker does the other side 
<br>
</div>

<div class='talk op-msg' data-timestamp='1671209634' id='878580'>
<a class='timestamp' href='#878580'><time timestamp='2022-12-16T16:53:54Z'>16:53</time></a>
&lt;<span class='nick nick-8'>instagibbs</span>&gt;
if no one actually implements it, we can probably speed up removal...
<br>
</div>

<div class='talk op-msg' data-timestamp='1671209642' id='878581'>
<a class='timestamp' href='#878581'><time timestamp='2022-12-16T16:54:02Z'>16:54</time></a>
&lt;<span class='nick nick-8'>_aj_</span>&gt;
yeah; i don&#x27;t believe in ignoring the mempool :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1671209704' id='878582'>
<a class='timestamp' href='#878582'><time timestamp='2022-12-16T16:55:04Z'>16:55</time></a>
&lt;<span class='nick nick-8'>instagibbs</span>&gt;
feel free to yell at LN implementations :D 
<br>
</div>

<div class='talk op-msg' data-timestamp='1671209800' id='878583'>
<a class='timestamp' href='#878583'><time timestamp='2022-12-16T16:56:40Z'>16:56</time></a>
&lt;<span class='nick nick-10'>glozow</span>&gt;
yes sorry i should have said &quot;if double anchor outputs are no longer *used*&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1671209842' id='878584'>
<a class='timestamp' href='#878584'><time timestamp='2022-12-16T16:57:22Z'>16:57</time></a>
&lt;<span class='nick nick-8'>instagibbs</span>&gt;
I guess the risk is evil nodes run by <u>_aj_</u> <b>*would*</b> scrape the mempool and pin honest users
<br>
</div>

<div class='talk op-msg' data-timestamp='1671209857' id='878585'>
<a class='timestamp' href='#878585'><time timestamp='2022-12-16T16:57:37Z'>16:57</time></a>
&lt;<span class='nick nick-8'>instagibbs</span>&gt;
when trying to submit their own commit tx
<br>
</div>

<div class='talk op-msg' data-timestamp='1671210196' id='878586'>
<a class='timestamp' href='#878586'><time timestamp='2022-12-16T17:03:16Z'>17:03</time></a>
&lt;<span class='nick nick-8'>_aj_</span>&gt;
instagibbs: anchors are only relevant if the mempool&#x27;s not empty (otherwise the native fee on the commitment will get it mined) and the dual anchors are only needed in case your counterparty is trying to prevent the channel from actually closing for some reason (waiting for a htlc to expire? keeping your funds hostage?). if both those things are true, you either need an L2-relay to bypass the 
<br>
</div>

<div class='talk op-msg' data-timestamp='1671210196' id='878587'>
<a class='timestamp' href='#878587'><time timestamp='2022-12-16T17:03:16Z'>17:03</time></a>
&lt;<span class='nick nick-8'>_aj_</span>&gt;
pinning, or need to see what&#x27;s going on in the mempool to add your own anchor... i think you know the txid of their commitment, so you could construct a spend for your anchor tx off their commitment despite not having their signature for their commitment, and just optimistically broadcast that to random nodes
<br>
</div>

<div class='info op-join' data-timestamp='1671210817' id='878588'>
<a class='timestamp' href='#878588'><time timestamp='2022-12-16T17:13:37Z'>17:13</time></a>
as2333 has joined #bitcoin-core-dev
<br>
</div>

<div class='talk op-msg' data-timestamp='1671211289' id='878589'>
<a class='timestamp' href='#878589'><time timestamp='2022-12-16T17:21:29Z'>17:21</time></a>
&lt;<span class='nick nick-8'>instagibbs</span>&gt;
gossip over LN p2p is kinda interesting, you won&#x27;t know necessarily any old commit tx txid(?) but if a LN peer sees it, they might take your bump of it 
<br>
</div>

<div class='info op-join' data-timestamp='1671211433' id='878590'>
<a class='timestamp' href='#878590'><time timestamp='2022-12-16T17:23:53Z'>17:23</time></a>
b_101 has joined #bitcoin-core-dev
<br>
</div>

<div class='info op-quit' data-timestamp='1671211533' id='878591'>
<a class='timestamp' href='#878591'><time timestamp='2022-12-16T17:25:33Z'>17:25</time></a>
jespada has quit [Quit: Textual IRC Client: <a href="http://www.textualapp.com" class="link" target="_blank">www.textualapp.com</a>]
<br>
</div>

<div class='talk op-msg' data-timestamp='1671211993' id='878592'>
<a class='timestamp' href='#878592'><time timestamp='2022-12-16T17:33:13Z'>17:33</time></a>
&lt;<span class='nick nick-8'>_aj_</span>&gt;
if it&#x27;s an old commit, you claim all the funds as soon as it hits the blockchain, and it doesn&#x27;t really much matter when that happens?
<br>
</div>

<div class='talk op-msg' data-timestamp='1671212154' id='878593'>
<a class='timestamp' href='#878593'><time timestamp='2022-12-16T17:35:54Z'>17:35</time></a>
&lt;<span class='nick nick-8'>instagibbs</span>&gt;
my point was you can&#x27;t blindly spam the spend of the latest commit tx based on knowing the txid. If it&#x27;s in your mempool you&#x27;re good to go of course
<br>
</div>

<div class='talk op-msg' data-timestamp='1671212156' id='878594'>
<a class='timestamp' href='#878594'><time timestamp='2022-12-16T17:35:56Z'>17:35</time></a>
&lt;<span class='nick nick-8'>instagibbs</span>&gt;
or gossiped
<br>
</div>

<div class='talk op-msg' data-timestamp='1671212226' id='878595'>
<a class='timestamp' href='#878595'><time timestamp='2022-12-16T17:37:06Z'>17:37</time></a>
&lt;<span class='nick nick-8'>_aj_</span>&gt;
sure you can? if an old commitment was posted, it&#x27;ll just be ignored
<br>
</div>

<div class='talk op-msg' data-timestamp='1671212274' id='878596'>
<a class='timestamp' href='#878596'><time timestamp='2022-12-16T17:37:54Z'>17:37</time></a>
&lt;<span class='nick nick-8'>instagibbs</span>&gt;
We must be talking about different things
<br>
</div>

<div class='talk op-msg' data-timestamp='1671212326' id='878597'>
<a class='timestamp' href='#878597'><time timestamp='2022-12-16T17:38:46Z'>17:38</time></a>
&lt;<span class='nick nick-8'>_aj_</span>&gt;
if they haven&#x27;t posted a commitment tx, yours relays; if they&#x27;ve posted their current version and pinned it, your anchor spend spamming works; if they posted an old one, then you wait and punish. you win in each case?
<br>
</div>

<div class='talk op-msg' data-timestamp='1671212374' id='878598'>
<a class='timestamp' href='#878598'><time timestamp='2022-12-16T17:39:34Z'>17:39</time></a>
&lt;<span class='nick nick-8'>_aj_</span>&gt;
(spamming the anchor tx pointlessly while waiting is fine, since you can&#x27;t distinguish the latter two cases)
<br>
</div>

<div class='info op-quit' data-timestamp='1671212414' id='878599'>
<a class='timestamp' href='#878599'><time timestamp='2022-12-16T17:40:14Z'>17:40</time></a>
b_101 has quit [Ping timeout: 272 seconds]
<br>
</div>

<div class='info op-join' data-timestamp='1671212421' id='878600'>
<a class='timestamp' href='#878600'><time timestamp='2022-12-16T17:40:21Z'>17:40</time></a>
b_101 has joined #bitcoin-core-dev
<br>
</div>

<div class='info op-quit' data-timestamp='1671212686' id='878601'>
<a class='timestamp' href='#878601'><time timestamp='2022-12-16T17:44:46Z'>17:44</time></a>
b_101 has quit [Ping timeout: 252 seconds]
<br>
</div>

<div class='info op-join' data-timestamp='1671212722' id='878602'>
<a class='timestamp' href='#878602'><time timestamp='2022-12-16T17:45:22Z'>17:45</time></a>
b_101 has joined #bitcoin-core-dev
<br>
</div>

<div class='talk op-msg' data-timestamp='1671212846' id='878603'>
<a class='timestamp' href='#878603'><time timestamp='2022-12-16T17:47:26Z'>17:47</time></a>
&lt;<span class='nick nick-2'>bitcoin-git</span>&gt;
[bitcoin] brunoerg opened pull request #26714: test: add coverage for unparsable `-maxuploadtarget` (master...2022-12-maxuploadtarget-parse-test) <a href="https://github.com/bitcoin/bitcoin/pull/26714" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/26714</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1671212904' id='878604'>
<a class='timestamp' href='#878604'><time timestamp='2022-12-16T17:48:24Z'>17:48</time></a>
&lt;<span class='nick nick-8'>instagibbs</span>&gt;
If you mean old commit tx are too dangerous for attacker to use a a pin, sure
<br>
</div>

<div class='talk op-msg' data-timestamp='1671212914' id='878605'>
<a class='timestamp' href='#878605'><time timestamp='2022-12-16T17:48:34Z'>17:48</time></a>
&lt;<span class='nick nick-8'>instagibbs</span>&gt;
they could still do it, but then their risk goes through the roof
<br>
</div>

<div class='talk op-msg' data-timestamp='1671212922' id='878606'>
<a class='timestamp' href='#878606'><time timestamp='2022-12-16T17:48:42Z'>17:48</time></a>
&lt;<span class='nick nick-8'>_aj_</span>&gt;
i mean, if they successfully use it as a pin, you don&#x27;t lose any money?
<br>
</div>

<div class='talk op-msg' data-timestamp='1671212934' id='878607'>
<a class='timestamp' href='#878607'><time timestamp='2022-12-16T17:48:54Z'>17:48</time></a>
&lt;<span class='nick nick-8'>_aj_</span>&gt;
for ln-penalty, not eltoo of course
<br>
</div>

<div class='talk op-msg' data-timestamp='1671212946' id='878608'>
<a class='timestamp' href='#878608'><time timestamp='2022-12-16T17:49:06Z'>17:49</time></a>
&lt;<span class='nick nick-8'>instagibbs</span>&gt;
if you never see it, you can&#x27;t penalize it
<br>
</div>

<div class='talk op-msg' data-timestamp='1671212954' id='878609'>
<a class='timestamp' href='#878609'><time timestamp='2022-12-16T17:49:14Z'>17:49</time></a>
&lt;<span class='nick nick-8'>instagibbs</span>&gt;
if it gets mined game over
<br>
</div>

<div class='talk op-msg' data-timestamp='1671212958' id='878610'>
<a class='timestamp' href='#878610'><time timestamp='2022-12-16T17:49:18Z'>17:49</time></a>
&lt;<span class='nick nick-8'>instagibbs</span>&gt;
(for attacker)
<br>
</div>

<div class='talk op-msg' data-timestamp='1671213068' id='878611'>
<a class='timestamp' href='#878611'><time timestamp='2022-12-16T17:51:08Z'>17:51</time></a>
&lt;<span class='nick nick-8'>_aj_</span>&gt;
i suppose (1. pin old commitment. 2. wait for htlcs to timeout. 3. let old commitment expire, unmined. 4. publish current commitment, claim expired htlcs) works, if successful
<br>
</div>

<div class='info op-join' data-timestamp='1671213085' id='878612'>
<a class='timestamp' href='#878612'><time timestamp='2022-12-16T17:51:25Z'>17:51</time></a>
pablomartin has joined #bitcoin-core-dev
<br>
</div>

<div class='info op-join' data-timestamp='1671214024' id='878613'>
<a class='timestamp' href='#878613'><time timestamp='2022-12-16T18:07:04Z'>18:07</time></a>
Hercules1 has joined #bitcoin-core-dev
<br>
</div>

<div class='talk op-msg' data-timestamp='1671215306' id='878614'>
<a class='timestamp' href='#878614'><time timestamp='2022-12-16T18:28:26Z'>18:28</time></a>
&lt;<span class='nick nick-2'>bitcoin-git</span>&gt;
[bitcoin] achow101 opened pull request #26715: Introduce `MockableDatabase` for wallet unit tests (master...test-wallet-corrupt) <a href="https://github.com/bitcoin/bitcoin/pull/26715" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/26715</a>
<br>
</div>

<div class='info op-quit' data-timestamp='1671215912' id='878615'>
<a class='timestamp' href='#878615'><time timestamp='2022-12-16T18:38:32Z'>18:38</time></a>
bomb-on has quit [Quit: aллилѹіа!]
<br>
</div>

<div class='info op-quit' data-timestamp='1671216275' id='878616'>
<a class='timestamp' href='#878616'><time timestamp='2022-12-16T18:44:35Z'>18:44</time></a>
yanmaani1 has quit [Ping timeout: 255 seconds]
<br>
</div>

<div class='info op-quit' data-timestamp='1671216991' id='878617'>
<a class='timestamp' href='#878617'><time timestamp='2022-12-16T18:56:31Z'>18:56</time></a>
jonatack2 has quit [Quit: WeeChat 3.7.1]
<br>
</div>

<div class='info op-join' data-timestamp='1671217197' id='878618'>
<a class='timestamp' href='#878618'><time timestamp='2022-12-16T18:59:57Z'>18:59</time></a>
yanmaani1 has joined #bitcoin-core-dev
<br>
</div>

<div class='talk op-msg' data-timestamp='1671217222' id='878619'>
<a class='timestamp' href='#878619'><time timestamp='2022-12-16T19:00:22Z'>19:00</time></a>
&lt;<span class='nick nick-5'>achow101</span>&gt;
#startmeeting
<br>
</div>

<div class='talk op-msg' data-timestamp='1671217222' id='878620'>
<a class='timestamp' href='#878620'><time timestamp='2022-12-16T19:00:22Z'>19:00</time></a>
&lt;<span class='nick nick-15'>core-meetingbot</span>&gt;
Meeting started Fri Dec 16 19:00:22 2022 UTC.  The chair is achow101. Information about MeetBot at <a href="https://bitcoin.jonasschnelli.ch/ircmeetings" class="link" target="_blank">https://bitcoin.jonasschnelli.ch/ircmeetings</a>.
<br>
</div>

<div class='talk op-msg' data-timestamp='1671217222' id='878621'>
<a class='timestamp' href='#878621'><time timestamp='2022-12-16T19:00:22Z'>19:00</time></a>
&lt;<span class='nick nick-15'>core-meetingbot</span>&gt;
Available commands: action commands idea info link nick
<br>
</div>

<div class='talk op-msg' data-timestamp='1671217228' id='878622'>
<a class='timestamp' href='#878622'><time timestamp='2022-12-16T19:00:28Z'>19:00</time></a>
&lt;<span class='nick nick-5'>achow101</span>&gt;
#bitcoin-core-dev Wallet Meeting: achow101 <u>_aj_</u> amiti ariard BlueMatt cfields Chris_Stewart_5 darosior digi_james dongcarl elichai2 emilengler fanquake fjahr furszy gleb glozow gmaxwell gwillen hebasto instagibbs jamesob jarolrod jb55 jeremyrubin jl2012 jnewbery jonasschnelli jonatack josibake jtimon kallewoof kanzure kvaciral laanwj larryruane lightlike luke-jr maaku marcofalke meshcollider michagogo moneyball morcos Murch nehan NicolasDorier 
<br>
</div>

<div class='talk op-msg' data-timestamp='1671217228' id='878623'>
<a class='timestamp' href='#878623'><time timestamp='2022-12-16T19:00:28Z'>19:00</time></a>
&lt;<span class='nick nick-5'>achow101</span>&gt;
paveljanik petertodd phantomcircuit promag provoostenator ryanofsky sdaftuar S3RK sipa vasild
<br>
</div>

<div class='talk op-msg' data-timestamp='1671217253' id='878624'>
<a class='timestamp' href='#878624'><time timestamp='2022-12-16T19:00:53Z'>19:00</time></a>
&lt;<span class='nick nick-3'>kanzure</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1671217263' id='878625'>
<a class='timestamp' href='#878625'><time timestamp='2022-12-16T19:01:03Z'>19:01</time></a>
&lt;<span class='nick nick-5'>achow101</span>&gt;
There are no pre-proposed wallet meeting topics. Does anyone have anything to discuss this week?
<br>
</div>

<div class='talk op-msg' data-timestamp='1671217270' id='878626'>
<a class='timestamp' href='#878626'><time timestamp='2022-12-16T19:01:10Z'>19:01</time></a>
&lt;<span class='nick nick-11'>darosior</span>&gt;
Hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1671217281' id='878627'>
<a class='timestamp' href='#878627'><time timestamp='2022-12-16T19:01:21Z'>19:01</time></a>
&lt;<span class='nick nick-10'>sipa</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1671217295' id='878628'>
<a class='timestamp' href='#878628'><time timestamp='2022-12-16T19:01:35Z'>19:01</time></a>
&lt;<span class='nick nick-3'>brunoerg</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1671217320' id='878629'>
<a class='timestamp' href='#878629'><time timestamp='2022-12-16T19:02:00Z'>19:02</time></a>
&lt;<span class='nick nick-2'>furszy</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1671217322' id='878630'>
<a class='timestamp' href='#878630'><time timestamp='2022-12-16T19:02:02Z'>19:02</time></a>
&lt;<span class='nick nick-11'>darosior</span>&gt;
I guess i&#x27;m curious if people have thought about using descriptors for estimating the size of inputs
<br>
</div>

<div class='talk op-msg' data-timestamp='1671217346' id='878631'>
<a class='timestamp' href='#878631'><time timestamp='2022-12-16T19:02:26Z'>19:02</time></a>
&lt;<span class='nick nick-11'>darosior</span>&gt;
Rather than doing a dry run of the signing logic every time
<br>
</div>

<div class='talk op-msg' data-timestamp='1671217357' id='878632'>
<a class='timestamp' href='#878632'><time timestamp='2022-12-16T19:02:37Z'>19:02</time></a>
&lt;<span class='nick nick-5'>achow101</span>&gt;
That seems reasonable
<br>
</div>

<div class='talk op-msg' data-timestamp='1671217361' id='878633'>
<a class='timestamp' href='#878633'><time timestamp='2022-12-16T19:02:41Z'>19:02</time></a>
&lt;<span class='nick nick-6'>Murch1</span>&gt;
Hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1671217364' id='878634'>
<a class='timestamp' href='#878634'><time timestamp='2022-12-16T19:02:44Z'>19:02</time></a>
&lt;<span class='nick nick-11'>darosior</span>&gt;
It would really simplify things moving forward with more advanced scripts
<br>
</div>

<div class='talk op-msg' data-timestamp='1671217390' id='878635'>
<a class='timestamp' href='#878635'><time timestamp='2022-12-16T19:03:10Z'>19:03</time></a>
&lt;<span class='nick nick-5'>achow101</span>&gt;
would it just use the worst case size estimation?
<br>
</div>

<div class='talk op-msg' data-timestamp='1671217391' id='878636'>
<a class='timestamp' href='#878636'><time timestamp='2022-12-16T19:03:11Z'>19:03</time></a>
&lt;<span class='nick nick-6'>Murch1</span>&gt;
Also the wallet should keep track of its UTXOs
<br>
</div>

<div class='talk op-msg' data-timestamp='1671217393' id='878637'>
<a class='timestamp' href='#878637'><time timestamp='2022-12-16T19:03:13Z'>19:03</time></a>
&lt;<span class='nick nick-11'>darosior</span>&gt;
Context:  #26567 and #24149
<br>
</div>

<div class='talk op-msg' data-timestamp='1671217394' id='878638'>
<a class='timestamp' href='#878638'><time timestamp='2022-12-16T19:03:14Z'>19:03</time></a>
&lt;<span class='nick nick-10'>gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/26567" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/26567</a> | Wallet: estimate the size of signed inputs using descriptors by darosior · Pull Request #26567 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1671217397' id='878639'>
<a class='timestamp' href='#878639'><time timestamp='2022-12-16T19:03:17Z'>19:03</time></a>
&lt;<span class='nick nick-10'>gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/24149" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/24149</a> | Signing support for Miniscript Descriptors by darosior · Pull Request #24149 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1671217412' id='878640'>
<a class='timestamp' href='#878640'><time timestamp='2022-12-16T19:03:32Z'>19:03</time></a>
&lt;<span class='nick nick-11'>darosior</span>&gt;
achow101: yes but eventually we should tweak that for Taproot
<br>
</div>

<div class='info op-join' data-timestamp='1671217438' id='878641'>
<a class='timestamp' href='#878641'><time timestamp='2022-12-16T19:03:58Z'>19:03</time></a>
kmartin has joined #bitcoin-core-dev
<br>
</div>

<div class='talk op-msg' data-timestamp='1671217453' id='878642'>
<a class='timestamp' href='#878642'><time timestamp='2022-12-16T19:04:13Z'>19:04</time></a>
&lt;<span class='nick nick-10'>sipa</span>&gt;
One old idea was that descriptors could contain annotations about which keys/subtrees are available or not.
<br>
</div>

<div class='talk op-msg' data-timestamp='1671217472' id='878643'>
<a class='timestamp' href='#878643'><time timestamp='2022-12-16T19:04:32Z'>19:04</time></a>
&lt;<span class='nick nick-10'>sipa</span>&gt;
Or might be available.
<br>
</div>

<div class='talk op-msg' data-timestamp='1671217484' id='878644'>
<a class='timestamp' href='#878644'><time timestamp='2022-12-16T19:04:44Z'>19:04</time></a>
&lt;<span class='nick nick-10'>sipa</span>&gt;
The miniscript logic can do size estimation with that information, though there is no way to encode that in descriptors now.
<br>
</div>

<div class='talk op-msg' data-timestamp='1671217495' id='878645'>
<a class='timestamp' href='#878645'><time timestamp='2022-12-16T19:04:55Z'>19:04</time></a>
&lt;<span class='nick nick-11'>darosior</span>&gt;
Yeah. Also rust-miniscript is experimenting with another approach: <a href="https://github.com/rust-bitcoin/rust-miniscript/pull/481" class="link" target="_blank">https://github.com/rust-bitcoin/rust-miniscript/pull/481</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1671217564' id='878646'>
<a class='timestamp' href='#878646'><time timestamp='2022-12-16T19:06:04Z'>19:06</time></a>
&lt;<span class='nick nick-11'>darosior</span>&gt;
I didn&#x27;t look into it, but on the surface it sounds similar to having annotations within the descriptor directly.
<br>
</div>

<div class='talk op-msg' data-timestamp='1671217714' id='878647'>
<a class='timestamp' href='#878647'><time timestamp='2022-12-16T19:08:34Z'>19:08</time></a>
&lt;<span class='nick nick-5'>achow101</span>&gt;
how would that information would get from the user to the size estimation?
<br>
</div>

<div class='talk op-msg' data-timestamp='1671217724' id='878648'>
<a class='timestamp' href='#878648'><time timestamp='2022-12-16T19:08:44Z'>19:08</time></a>
&lt;<span class='nick nick-5'>achow101</span>&gt;
since it could change per transaction
<br>
</div>

<div class='talk op-msg' data-timestamp='1671217743' id='878649'>
<a class='timestamp' href='#878649'><time timestamp='2022-12-16T19:09:03Z'>19:09</time></a>
&lt;<span class='nick nick-11'>darosior</span>&gt;
Yeah, a downside is that it would be static
<br>
</div>

<div class='talk op-msg' data-timestamp='1671217761' id='878650'>
<a class='timestamp' href='#878650'><time timestamp='2022-12-16T19:09:21Z'>19:09</time></a>
&lt;<span class='nick nick-11'>darosior</span>&gt;
(A downside to hardcoding it within the descriptor)
<br>
</div>

<div class='talk op-msg' data-timestamp='1671217818' id='878651'>
<a class='timestamp' href='#878651'><time timestamp='2022-12-16T19:10:18Z'>19:10</time></a>
&lt;<span class='nick nick-10'>sipa</span>&gt;
yeah it&#x27;s more flexible if it can be done on a per-signature level, but that&#x27;s a UX nightmare
<br>
</div>

<div class='talk op-msg' data-timestamp='1671217834' id='878652'>
<a class='timestamp' href='#878652'><time timestamp='2022-12-16T19:10:34Z'>19:10</time></a>
&lt;<span class='nick nick-10'>sipa</span>&gt;
but there may be useful static information as well
<br>
</div>

<div class='talk op-msg' data-timestamp='1671217878' id='878653'>
<a class='timestamp' href='#878653'><time timestamp='2022-12-16T19:11:18Z'>19:11</time></a>
&lt;<span class='nick nick-11'>darosior</span>&gt;
But i guess it&#x27;s already an improvement in some potential common usecases with Taproot like have keyspend for day-to-day and a timelocked cold key for recovery. You can tell the wallet you use day-to-day to expect that all transactions you will be creating with it will be for the keyspend, and to not overestimate.
<br>
</div>

<div class='talk op-msg' data-timestamp='1671217897' id='878654'>
<a class='timestamp' href='#878654'><time timestamp='2022-12-16T19:11:37Z'>19:11</time></a>
&lt;<span class='nick nick-10'>sipa</span>&gt;
e.g. you know that any signature that your bitcoin core wallet will be involved in, will have access to that wallet&#x27;s private key
<br>
</div>

<div class='talk op-msg' data-timestamp='1671217903' id='878655'>
<a class='timestamp' href='#878655'><time timestamp='2022-12-16T19:11:43Z'>19:11</time></a>
&lt;<span class='nick nick-10'>sipa</span>&gt;
if it&#x27;s not in a hardware wallet
<br>
</div>

<div class='talk op-msg' data-timestamp='1671217945' id='878656'>
<a class='timestamp' href='#878656'><time timestamp='2022-12-16T19:12:25Z'>19:12</time></a>
&lt;<span class='nick nick-5'>achow101</span>&gt;
it would definitely be useful to indicate that the keypath is never going to be used
<br>
</div>

<div class='talk op-msg' data-timestamp='1671217951' id='878657'>
<a class='timestamp' href='#878657'><time timestamp='2022-12-16T19:12:31Z'>19:12</time></a>
&lt;<span class='nick nick-11'>darosior</span>&gt;
Hmm you could emulate that with partial descriptors? Only import the complete descriptor for the branches you may use on this wallet. And when estimating the size the wallet ignores unknown branches.
<br>
</div>

<div class='talk op-msg' data-timestamp='1671217966' id='878658'>
<a class='timestamp' href='#878658'><time timestamp='2022-12-16T19:12:46Z'>19:12</time></a>
&lt;<span class='nick nick-10'>sipa</span>&gt;
opr even better: the key path is always is going to be used
<br>
</div>

<div class='talk op-msg' data-timestamp='1671217997' id='878659'>
<a class='timestamp' href='#878659'><time timestamp='2022-12-16T19:13:17Z'>19:13</time></a>
&lt;<span class='nick nick-10'>sipa</span>&gt;
darosior: Yeah, you could, but I think that&#x27;s only part of the picture, because within one script the same thing applies
<br>
</div>

<div class='talk op-msg' data-timestamp='1671218014' id='878660'>
<a class='timestamp' href='#878660'><time timestamp='2022-12-16T19:13:34Z'>19:13</time></a>
&lt;<span class='nick nick-10'>sipa</span>&gt;
And there you very much may want to know everything, even informaton about execution branches you won&#x27;t use.
<br>
</div>

<div class='talk op-msg' data-timestamp='1671218059' id='878661'>
<a class='timestamp' href='#878661'><time timestamp='2022-12-16T19:14:19Z'>19:14</time></a>
&lt;<span class='nick nick-2'>furszy</span>&gt;
separate thing,about the overpaying topic: if we overpay, coin selection would increase its chances to create a change output, which is something that we usually try to avoid.
<br>
</div>

<div class='talk op-msg' data-timestamp='1671218074' id='878662'>
<a class='timestamp' href='#878662'><time timestamp='2022-12-16T19:14:34Z'>19:14</time></a>
&lt;<span class='nick nick-11'>darosior</span>&gt;
sipa: wouldn&#x27;t it be uncommon to have different paths within a single branch?
<br>
</div>

<div class='talk op-msg' data-timestamp='1671218087' id='878663'>
<a class='timestamp' href='#878663'><time timestamp='2022-12-16T19:14:47Z'>19:14</time></a>
&lt;<span class='nick nick-11'>darosior</span>&gt;
And for pre-Taproot you don&#x27;t care, since you always publish the whole script anyway
<br>
</div>

<div class='talk op-msg' data-timestamp='1671218149' id='878664'>
<a class='timestamp' href='#878664'><time timestamp='2022-12-16T19:15:49Z'>19:15</time></a>
&lt;<span class='nick nick-10'>sipa</span>&gt;
But even pre-taproot your witness estimation may very much depend on which keys are available.
<br>
</div>

<div class='talk op-msg' data-timestamp='1671218406' id='878665'>
<a class='timestamp' href='#878665'><time timestamp='2022-12-16T19:20:06Z'>19:20</time></a>
&lt;<span class='nick nick-5'>achow101</span>&gt;
can we use descriptors to remove the need for the dummy signer entirely? Even with size estimation, we still need the dummy signer for filling PSBTs
<br>
</div>

<div class='talk op-msg' data-timestamp='1671218472' id='878666'>
<a class='timestamp' href='#878666'><time timestamp='2022-12-16T19:21:12Z'>19:21</time></a>
&lt;<span class='nick nick-10'>sipa</span>&gt;
I think post-partial-descriptors we can actually move the signing logic into descriptors, rather than the other way around.
<br>
</div>

<div class='talk op-msg' data-timestamp='1671218477' id='878667'>
<a class='timestamp' href='#878667'><time timestamp='2022-12-16T19:21:17Z'>19:21</time></a>
&lt;<span class='nick nick-10'>sipa</span>&gt;
And anything that interacts with signing like size estimation too.
<br>
</div>

<div class='talk op-msg' data-timestamp='1671218492' id='878668'>
<a class='timestamp' href='#878668'><time timestamp='2022-12-16T19:21:32Z'>19:21</time></a>
&lt;<span class='nick nick-11'>darosior</span>&gt;
Yes i was thinking of going in this direction too.
<br>
</div>

<div class='talk op-msg' data-timestamp='1671218561' id='878669'>
<a class='timestamp' href='#878669'><time timestamp='2022-12-16T19:22:41Z'>19:22</time></a>
&lt;<span class='nick nick-5'>achow101</span>&gt;
that could be useful
<br>
</div>

<div class='talk op-msg' data-timestamp='1671218678' id='878670'>
<a class='timestamp' href='#878670'><time timestamp='2022-12-16T19:24:38Z'>19:24</time></a>
&lt;<span class='nick nick-5'>achow101</span>&gt;
anything else to discuss?
<br>
</div>

<div class='talk op-msg' data-timestamp='1671218679' id='878671'>
<a class='timestamp' href='#878671'><time timestamp='2022-12-16T19:24:39Z'>19:24</time></a>
&lt;<span class='nick nick-11'>darosior</span>&gt;
I need to leave unfortunately. Thank you all for the discussion, happy to see there is interest in this. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1671218720' id='878672'>
<a class='timestamp' href='#878672'><time timestamp='2022-12-16T19:25:20Z'>19:25</time></a>
&lt;<span class='nick nick-10'>sipa</span>&gt;
Murch had a topic I think
<br>
</div>

<div class='talk op-msg' data-timestamp='1671218752' id='878673'>
<a class='timestamp' href='#878673'><time timestamp='2022-12-16T19:25:52Z'>19:25</time></a>
&lt;<span class='nick nick-2'>furszy</span>&gt;
i have a one too.
<br>
</div>

<div class='talk op-msg' data-timestamp='1671218780' id='878674'>
<a class='timestamp' href='#878674'><time timestamp='2022-12-16T19:26:20Z'>19:26</time></a>
&lt;<span class='nick nick-5'>achow101</span>&gt;
Murch1: what was your topic?
<br>
</div>

<div class='talk op-msg' data-timestamp='1671218824' id='878675'>
<a class='timestamp' href='#878675'><time timestamp='2022-12-16T19:27:04Z'>19:27</time></a>
&lt;<span class='nick nick-6'>Murch1</span>&gt;
Ah
<br>
</div>

<div class='talk op-msg' data-timestamp='1671218852' id='878676'>
<a class='timestamp' href='#878676'><time timestamp='2022-12-16T19:27:32Z'>19:27</time></a>
&lt;<span class='nick nick-6'>Murch1</span>&gt;
No, just a ceterum censeo
<br>
</div>

<div class='talk op-msg' data-timestamp='1671218862' id='878677'>
<a class='timestamp' href='#878677'><time timestamp='2022-12-16T19:27:42Z'>19:27</time></a>
&lt;<span class='nick nick-6'>Murch1</span>&gt;
The Bitcoin Core wallet should really keep track of its UTXO pool instead of recalculating it from its list of transactions every time it needs it
<br>
</div>

<div class='talk op-msg' data-timestamp='1671218872' id='878678'>
<a class='timestamp' href='#878678'><time timestamp='2022-12-16T19:27:52Z'>19:27</time></a>
&lt;<span class='nick nick-5'>achow101</span>&gt;
furszy: go ahead
<br>
</div>

<div class='talk op-msg' data-timestamp='1671218940' id='878679'>
<a class='timestamp' href='#878679'><time timestamp='2022-12-16T19:29:00Z'>19:29</time></a>
&lt;<span class='nick nick-2'>furszy</span>&gt;
Murch1: agree, I actually have a card in my board to move into that direction too.
<br>
</div>

<div class='talk op-msg' data-timestamp='1671218941' id='878680'>
<a class='timestamp' href='#878680'><time timestamp='2022-12-16T19:29:01Z'>19:29</time></a>
&lt;<span class='nick nick-2'>furszy</span>&gt;
so
<br>
</div>

<div class='talk op-msg' data-timestamp='1671218959' id='878681'>
<a class='timestamp' href='#878681'><time timestamp='2022-12-16T19:29:19Z'>19:29</time></a>
&lt;<span class='nick nick-2'>furszy</span>&gt;
my topic arose here
<br>
</div>

<div class='talk op-msg' data-timestamp='1671218961' id='878682'>
<a class='timestamp' href='#878682'><time timestamp='2022-12-16T19:29:21Z'>19:29</time></a>
&lt;<span class='nick nick-2'>furszy</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/pull/26661#issuecomment-1353087751" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/26661#issuecomment-1353087751</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1671218971' id='878683'>
<a class='timestamp' href='#878683'><time timestamp='2022-12-16T19:29:31Z'>19:29</time></a>
&lt;<span class='nick nick-2'>furszy</span>&gt;
it&#x27;s the &quot;Second point&quot; there
<br>
</div>

<div class='talk op-msg' data-timestamp='1671218984' id='878684'>
<a class='timestamp' href='#878684'><time timestamp='2022-12-16T19:29:44Z'>19:29</time></a>
&lt;<span class='nick nick-2'>furszy</span>&gt;
and S3RK answer to it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1671219023' id='878685'>
<a class='timestamp' href='#878685'><time timestamp='2022-12-16T19:30:23Z'>19:30</time></a>
&lt;<span class='nick nick-2'>furszy</span>&gt;
if we agree, could &quot;standardize&quot; it and create a guideline for it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1671219090' id='878686'>
<a class='timestamp' href='#878686'><time timestamp='2022-12-16T19:31:30Z'>19:31</time></a>
&lt;<span class='nick nick-5'>achow101</span>&gt;
I&#x27;ve actually tended to avoid using exceptions since we don&#x27;t have general exception handling
<br>
</div>

<div class='talk op-msg' data-timestamp='1671219105' id='878687'>
<a class='timestamp' href='#878687'><time timestamp='2022-12-16T19:31:45Z'>19:31</time></a>
&lt;<span class='nick nick-5'>achow101</span>&gt;
I&#x27;ve only really used them in places where there was no other way to return an error
<br>
</div>

<div class='talk op-msg' data-timestamp='1671219146' id='878688'>
<a class='timestamp' href='#878688'><time timestamp='2022-12-16T19:32:26Z'>19:32</time></a>
&lt;<span class='nick nick-5'>achow101</span>&gt;
IIRC an exception will kill the gui
<br>
</div>

<div class='talk op-msg' data-timestamp='1671219166' id='878689'>
<a class='timestamp' href='#878689'><time timestamp='2022-12-16T19:32:46Z'>19:32</time></a>
&lt;<span class='nick nick-6'>Murch1</span>&gt;
furszy: Awesome!
<br>
</div>

<div class='talk op-msg' data-timestamp='1671219195' id='878690'>
<a class='timestamp' href='#878690'><time timestamp='2022-12-16T19:33:15Z'>19:33</time></a>
&lt;<span class='nick nick-5'>achow101</span>&gt;
but having some guidelines would probably be useful
<br>
</div>

<div class='talk op-msg' data-timestamp='1671219229' id='878691'>
<a class='timestamp' href='#878691'><time timestamp='2022-12-16T19:33:49Z'>19:33</time></a>
&lt;<span class='nick nick-6'>Murch1</span>&gt;
Err, just to be clear, that was directed at furszy&#x27;s UTXO pool plans
<br>
</div>

<div class='talk op-msg' data-timestamp='1671219236' id='878692'>
<a class='timestamp' href='#878692'><time timestamp='2022-12-16T19:33:56Z'>19:33</time></a>
&lt;<span class='nick nick-2'>furszy</span>&gt;
yeah, I know achow101. I ended up adding a try catch to the GUI create tx flow because of it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1671219281' id='878693'>
<a class='timestamp' href='#878693'><time timestamp='2022-12-16T19:34:41Z'>19:34</time></a>
&lt;<span class='nick nick-2'>furszy</span>&gt;
but.. it sounds that we are avoiding having a somewhat &quot;good&quot; library structure because our qt framework can handle exceptions in a generic manner
<br>
</div>

<div class='talk op-msg' data-timestamp='1671219292' id='878694'>
<a class='timestamp' href='#878694'><time timestamp='2022-12-16T19:34:52Z'>19:34</time></a>
&lt;<span class='nick nick-2'>furszy</span>&gt;
*can&#x27;t
<br>
</div>

<div class='talk op-msg' data-timestamp='1671219334' id='878695'>
<a class='timestamp' href='#878695'><time timestamp='2022-12-16T19:35:34Z'>19:35</time></a>
&lt;<span class='nick nick-2'>furszy</span>&gt;
which isn&#x27;t something related to the wallet&#x27;s module. It&#x27;s a GUI issue.
<br>
</div>

<div class='talk op-msg' data-timestamp='1671219373' id='878696'>
<a class='timestamp' href='#878696'><time timestamp='2022-12-16T19:36:13Z'>19:36</time></a>
&lt;<span class='nick nick-5'>achow101</span>&gt;
sure, but we need to consider the effects of throwing exceptions on the rest of the software
<br>
</div>

<div class='talk op-msg' data-timestamp='1671219405' id='878697'>
<a class='timestamp' href='#878697'><time timestamp='2022-12-16T19:36:45Z'>19:36</time></a>
&lt;<span class='nick nick-5'>achow101</span>&gt;
it would be worthwhile to write up some guidelines and fix qt simultaneously
<br>
</div>

<div class='talk op-msg' data-timestamp='1671219422' id='878698'>
<a class='timestamp' href='#878698'><time timestamp='2022-12-16T19:37:02Z'>19:37</time></a>
&lt;<span class='nick nick-5'>achow101</span>&gt;
given that we already do throw exceptions in some places that can already be problematic for the gui
<br>
</div>

<div class='talk op-msg' data-timestamp='1671219504' id='878699'>
<a class='timestamp' href='#878699'><time timestamp='2022-12-16T19:38:24Z'>19:38</time></a>
&lt;<span class='nick nick-2'>furszy</span>&gt;
by fixing at you mean the place that require to catch the exception?
<br>
</div>

<div class='talk op-msg' data-timestamp='1671219529' id='878700'>
<a class='timestamp' href='#878700'><time timestamp='2022-12-16T19:38:49Z'>19:38</time></a>
&lt;<span class='nick nick-2'>furszy</span>&gt;
or by trying to find a way to catch them all at once
<br>
</div>

<div class='talk op-msg' data-timestamp='1671219542' id='878701'>
<a class='timestamp' href='#878701'><time timestamp='2022-12-16T19:39:02Z'>19:39</time></a>
&lt;<span class='nick nick-5'>achow101</span>&gt;
trying to catch them all generically
<br>
</div>

<div class='talk op-msg' data-timestamp='1671219545' id='878702'>
<a class='timestamp' href='#878702'><time timestamp='2022-12-16T19:39:05Z'>19:39</time></a>
&lt;<span class='nick nick-5'>achow101</span>&gt;
like we do for the rpc
<br>
</div>

<div class='talk op-msg' data-timestamp='1671219641' id='878703'>
<a class='timestamp' href='#878703'><time timestamp='2022-12-16T19:40:41Z'>19:40</time></a>
&lt;<span class='nick nick-2'>furszy</span>&gt;
yeah ok, I briefly tried it in the past but IIRC, there wasn&#x27;t a way to catch exceptions on slots generically (at least not a way that worked fine on that time..)
<br>
</div>

<div class='talk op-msg' data-timestamp='1671219704' id='878704'>
<a class='timestamp' href='#878704'><time timestamp='2022-12-16T19:41:44Z'>19:41</time></a>
&lt;<span class='nick nick-2'>furszy</span>&gt;
thus why ended up coding <a href="https://github.com/bitcoin-core/gui/pull/666" class="link" target="_blank">https://github.com/bitcoin-core/gui/pull/666</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1671219830' id='878705'>
<a class='timestamp' href='#878705'><time timestamp='2022-12-16T19:43:50Z'>19:43</time></a>
&lt;<span class='nick nick-5'>achow101</span>&gt;
hmm, that&#x27;s something to look into again
<br>
</div>

<div class='talk op-msg' data-timestamp='1671219846' id='878706'>
<a class='timestamp' href='#878706'><time timestamp='2022-12-16T19:44:06Z'>19:44</time></a>
&lt;<span class='nick nick-5'>achow101</span>&gt;
just generally though, we should try to avoid things that will cause crashes
<br>
</div>

<div class='talk op-msg' data-timestamp='1671219873' id='878707'>
<a class='timestamp' href='#878707'><time timestamp='2022-12-16T19:44:33Z'>19:44</time></a>
&lt;<span class='nick nick-2'>furszy</span>&gt;
well. another possibility is to move all the gui backend calls to be done on a generic worker that catches all the exceptions.
<br>
</div>

<div class='talk op-msg' data-timestamp='1671219920' id='878708'>
<a class='timestamp' href='#878708'><time timestamp='2022-12-16T19:45:20Z'>19:45</time></a>
&lt;<span class='nick nick-2'>furszy</span>&gt;
that could also helps in terms of the gui freezing time
<br>
</div>

<div class='talk op-msg' data-timestamp='1671219961' id='878709'>
<a class='timestamp' href='#878709'><time timestamp='2022-12-16T19:46:01Z'>19:46</time></a>
&lt;<span class='nick nick-2'>furszy</span>&gt;
sort of &quot;dispatcher&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1671219963' id='878710'>
<a class='timestamp' href='#878710'><time timestamp='2022-12-16T19:46:03Z'>19:46</time></a>
&lt;<span class='nick nick-5'>achow101</span>&gt;
yeah, there&#x27;s definitely improvements that could be made there
<br>
</div>

<div class='talk op-msg' data-timestamp='1671219988' id='878711'>
<a class='timestamp' href='#878711'><time timestamp='2022-12-16T19:46:28Z'>19:46</time></a>
&lt;<span class='nick nick-2'>furszy</span>&gt;
yep. Will see if can cook something up for it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1671219998' id='878712'>
<a class='timestamp' href='#878712'><time timestamp='2022-12-16T19:46:38Z'>19:46</time></a>
&lt;<span class='nick nick-5'>achow101</span>&gt;
my main point was that when we write guidelines for how errors should be emitted, we need to keep in mind how the rest of the project will handle those
<br>
</div>

<div class='talk op-msg' data-timestamp='1671220015' id='878713'>
<a class='timestamp' href='#878713'><time timestamp='2022-12-16T19:46:55Z'>19:46</time></a>
&lt;<span class='nick nick-5'>achow101</span>&gt;
and what we could do to make those parts handle them better
<br>
</div>

<div class='talk op-msg' data-timestamp='1671220039' id='878714'>
<a class='timestamp' href='#878714'><time timestamp='2022-12-16T19:47:19Z'>19:47</time></a>
&lt;<span class='nick nick-5'>achow101</span>&gt;
any other topics to discuss?
<br>
</div>

<div class='talk op-msg' data-timestamp='1671220229' id='878715'>
<a class='timestamp' href='#878715'><time timestamp='2022-12-16T19:50:29Z'>19:50</time></a>
&lt;<span class='nick nick-5'>achow101</span>&gt;
#endmeeting
<br>
</div>

<div class='talk op-msg' data-timestamp='1671220229' id='878716'>
<a class='timestamp' href='#878716'><time timestamp='2022-12-16T19:50:29Z'>19:50</time></a>
&lt;<span class='nick nick-15'>core-meetingbot</span>&gt;
topic: Bitcoin Core development discussion and commit log | Feel free to watch, but please take commentary and usage questions to #bitcoin | Channel logs: <a href="http://www.erisian.com.au/bitcoin-core-dev/" class="link" target="_blank">http://www.erisian.com.au/bitcoin-core-dev/</a>, <a href="http://gnusha.org/bitcoin-core-dev/" class="link" target="_blank">http://gnusha.org/bitcoin-core-dev/</a> | Meeting topics <a href="http://gnusha.org/bitcoin-core-dev/proposedmeetingtopics.txt" class="link" target="_blank">http://gnusha.org/bitcoin-core-dev/proposedmeetingtopics.txt</a> / <a href="http://gnusha.org/bitcoin-core-dev/proposedwalletmeetingtopics.txt" class="link" target="_blank">http://gnusha.org/bitcoin-core-dev/proposedwalletmeetingtopics.txt</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1671220229' id='878717'>
<a class='timestamp' href='#878717'><time timestamp='2022-12-16T19:50:29Z'>19:50</time></a>
&lt;<span class='nick nick-15'>core-meetingbot</span>&gt;
Meeting ended Fri Dec 16 19:50:29 2022 UTC.  
<br>
</div>

<div class='talk op-msg' data-timestamp='1671220229' id='878718'>
<a class='timestamp' href='#878718'><time timestamp='2022-12-16T19:50:29Z'>19:50</time></a>
&lt;<span class='nick nick-15'>core-meetingbot</span>&gt;
Minutes:        <a href="https://bitcoin.jonasschnelli.ch/ircmeetings/logs/bitcoin-core-dev/2022/bitcoin-core-dev.2022-12-16-19.00.moin.txt" class="link" target="_blank">https://bitcoin.jonasschnelli.ch/ircmeetings/logs/bitcoin-core-dev/2022/bitcoin-core-dev.2022-12-16-19.00.moin.txt</a>
<br>
</div>

<div class='info op-join' data-timestamp='1671220506' id='878719'>
<a class='timestamp' href='#878719'><time timestamp='2022-12-16T19:55:06Z'>19:55</time></a>
sipsorcery has joined #bitcoin-core-dev
<br>
</div>

<div class='info op-join' data-timestamp='1671220592' id='878720'>
<a class='timestamp' href='#878720'><time timestamp='2022-12-16T19:56:32Z'>19:56</time></a>
jonatack has joined #bitcoin-core-dev
<br>
</div>

<div class='info op-quit' data-timestamp='1671220710' id='878721'>
<a class='timestamp' href='#878721'><time timestamp='2022-12-16T19:58:30Z'>19:58</time></a>
Hercules1 has quit [Quit: Leaving]
<br>
</div>

<div class='info op-quit' data-timestamp='1671221148' id='878722'>
<a class='timestamp' href='#878722'><time timestamp='2022-12-16T20:05:48Z'>20:05</time></a>
kmartin has quit [Quit: Client closed]
<br>
</div>

<div class='info op-quit' data-timestamp='1671221297' id='878723'>
<a class='timestamp' href='#878723'><time timestamp='2022-12-16T20:08:17Z'>20:08</time></a>
vasild has quit [Ping timeout: 255 seconds]
<br>
</div>

<div class='info op-quit' data-timestamp='1671221911' id='878724'>
<a class='timestamp' href='#878724'><time timestamp='2022-12-16T20:18:31Z'>20:18</time></a>
brunoerg has quit []
<br>
</div>

<div class='info op-quit' data-timestamp='1671221987' id='878725'>
<a class='timestamp' href='#878725'><time timestamp='2022-12-16T20:19:47Z'>20:19</time></a>
ajonas_ has quit [Quit: Connection closed for inactivity]
<br>
</div>

<div class='info op-join' data-timestamp='1671222148' id='878726'>
<a class='timestamp' href='#878726'><time timestamp='2022-12-16T20:22:28Z'>20:22</time></a>
vasild has joined #bitcoin-core-dev
<br>
</div>

<div class='info op-join' data-timestamp='1671222696' id='878727'>
<a class='timestamp' href='#878727'><time timestamp='2022-12-16T20:31:36Z'>20:31</time></a>
MrFrancis has joined #bitcoin-core-dev
<br>
</div>

<div class='info op-quit' data-timestamp='1671223345' id='878728'>
<a class='timestamp' href='#878728'><time timestamp='2022-12-16T20:42:25Z'>20:42</time></a>
MrFrancis has quit [Ping timeout: 252 seconds]
<br>
</div>

<div class='info op-join' data-timestamp='1671224062' id='878729'>
<a class='timestamp' href='#878729'><time timestamp='2022-12-16T20:54:22Z'>20:54</time></a>
bomb-on has joined #bitcoin-core-dev
<br>
</div>

<div class='info op-quit' data-timestamp='1671226319' id='878730'>
<a class='timestamp' href='#878730'><time timestamp='2022-12-16T21:31:59Z'>21:31</time></a>
yanmaani1 has quit [Ping timeout: 255 seconds]
<br>
</div>

<div class='info op-join' data-timestamp='1671227617' id='878731'>
<a class='timestamp' href='#878731'><time timestamp='2022-12-16T21:53:37Z'>21:53</time></a>
yanmaani1 has joined #bitcoin-core-dev
<br>
</div>

<div class='info op-join' data-timestamp='1671228928' id='878732'>
<a class='timestamp' href='#878732'><time timestamp='2022-12-16T22:15:28Z'>22:15</time></a>
MrFrancis has joined #bitcoin-core-dev
<br>
</div>

<div class='info op-join' data-timestamp='1671229569' id='878733'>
<a class='timestamp' href='#878733'><time timestamp='2022-12-16T22:26:09Z'>22:26</time></a>
andrewtoth_ has joined #bitcoin-core-dev
<br>
</div>

<div class='info op-quit' data-timestamp='1671229654' id='878734'>
<a class='timestamp' href='#878734'><time timestamp='2022-12-16T22:27:34Z'>22:27</time></a>
<u>_andrewtoth_</u> has quit [Remote host closed the connection]
<br>
</div>

<div class='talk op-msg' data-timestamp='1671229870' id='878735'>
<a class='timestamp' href='#878735'><time timestamp='2022-12-16T22:31:10Z'>22:31</time></a>
&lt;<span class='nick nick-2'>bitcoin-git</span>&gt;
[bitcoin] achow101 pushed 4 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/7386da7a0b08...66c08e741dc8" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/7386da7a0b08...66c08e741dc8</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1671229871' id='878736'>
<a class='timestamp' href='#878736'><time timestamp='2022-12-16T22:31:11Z'>22:31</time></a>
&lt;<span class='nick nick-2'>bitcoin-git</span>&gt;
bitcoin/master e6906fc Aurèle Oulès: rpc: Enable wallet import on pruned nodes
<br>
</div>

<div class='talk op-msg' data-timestamp='1671229871' id='878737'>
<a class='timestamp' href='#878737'><time timestamp='2022-12-16T22:31:11Z'>22:31</time></a>
&lt;<span class='nick nick-2'>bitcoin-git</span>&gt;
bitcoin/master 564b580 Aurèle Oulès: test: Introduce MIN_BLOCKS_TO_KEEP constant
<br>
</div>

<div class='talk op-msg' data-timestamp='1671229871' id='878738'>
<a class='timestamp' href='#878738'><time timestamp='2022-12-16T22:31:11Z'>22:31</time></a>
&lt;<span class='nick nick-2'>bitcoin-git</span>&gt;
bitcoin/master 71d9a7c Aurèle Oulès: test: Wallet imports on pruned nodes
<br>
</div>

<div class='talk op-msg' data-timestamp='1671229884' id='878739'>
<a class='timestamp' href='#878739'><time timestamp='2022-12-16T22:31:24Z'>22:31</time></a>
&lt;<span class='nick nick-2'>bitcoin-git</span>&gt;
[bitcoin] achow101 merged pull request #24865: rpc: Enable wallet import on pruned nodes and add test (master...2022-04-importwallet-pruned) <a href="https://github.com/bitcoin/bitcoin/pull/24865" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/24865</a>
<br>
</div>

<div class='info op-join' data-timestamp='1671231037' id='878740'>
<a class='timestamp' href='#878740'><time timestamp='2022-12-16T22:50:37Z'>22:50</time></a>
jon_atack has joined #bitcoin-core-dev
<br>
</div>

<div class='info op-quit' data-timestamp='1671231139' id='878741'>
<a class='timestamp' href='#878741'><time timestamp='2022-12-16T22:52:19Z'>22:52</time></a>
jonatack has quit [Ping timeout: 260 seconds]
<br>
</div>

<div class='info op-quit' data-timestamp='1671231562' id='878742'>
<a class='timestamp' href='#878742'><time timestamp='2022-12-16T22:59:22Z'>22:59</time></a>
MrFrancis has quit [Ping timeout: 252 seconds]
<br>
</div>

<div class='info op-quit' data-timestamp='1671232494' id='878743'>
<a class='timestamp' href='#878743'><time timestamp='2022-12-16T23:14:54Z'>23:14</time></a>
pablomartin has quit [Ping timeout: 252 seconds]
<br>
</div>

<div class='info op-quit' data-timestamp='1671233609' id='878744'>
<a class='timestamp' href='#878744'><time timestamp='2022-12-16T23:33:29Z'>23:33</time></a>
andrewtoth_ has quit [Ping timeout: 255 seconds]
<br>
</div>

<div class='info op-join' data-timestamp='1671233611' id='878745'>
<a class='timestamp' href='#878745'><time timestamp='2022-12-16T23:33:31Z'>23:33</time></a>
<u>_andrewtoth_</u> has joined #bitcoin-core-dev
<br>
</div>

<div class='info op-quit' data-timestamp='1671234324' id='878746'>
<a class='timestamp' href='#878746'><time timestamp='2022-12-16T23:45:24Z'>23:45</time></a>
AaronvanW has quit [Quit: Leaving...]
<br>
</div>

</div>
</section>

</body>
</html>
