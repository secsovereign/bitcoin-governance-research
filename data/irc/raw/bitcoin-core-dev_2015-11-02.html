<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2015-11-02
 â€” 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2015-11-02' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:27 UTC</pre>
<pre><a href="/bitcoin-core-dev/2015-10-02">&lt;</a><span class='header'>  November 2015   </span><a href="/bitcoin-core-dev/2015-12-02">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A; <a class="" href="/bitcoin-core-dev/2015-11-01">1</a>  <a class="current" href="/bitcoin-core-dev/2015-11-02">2</a>  <a class="" href="/bitcoin-core-dev/2015-11-03">3</a>  <a class="" href="/bitcoin-core-dev/2015-11-04">4</a>  <a class="" href="/bitcoin-core-dev/2015-11-05">5</a>  <a class="" href="/bitcoin-core-dev/2015-11-06">6</a>  <a class="" href="/bitcoin-core-dev/2015-11-07">7</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2015-11-08">8</a>  <a class="" href="/bitcoin-core-dev/2015-11-09">9</a> <a class="" href="/bitcoin-core-dev/2015-11-10">10</a> <a class="" href="/bitcoin-core-dev/2015-11-11">11</a> <a class="" href="/bitcoin-core-dev/2015-11-12">12</a> <a class="" href="/bitcoin-core-dev/2015-11-13">13</a> <a class="" href="/bitcoin-core-dev/2015-11-14">14</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2015-11-15">15</a> <a class="" href="/bitcoin-core-dev/2015-11-16">16</a> <a class="" href="/bitcoin-core-dev/2015-11-17">17</a> <a class="" href="/bitcoin-core-dev/2015-11-18">18</a> <a class="" href="/bitcoin-core-dev/2015-11-19">19</a> <a class="" href="/bitcoin-core-dev/2015-11-20">20</a> <a class="" href="/bitcoin-core-dev/2015-11-21">21</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2015-11-22">22</a> <a class="" href="/bitcoin-core-dev/2015-11-23">23</a> <a class="" href="/bitcoin-core-dev/2015-11-24">24</a> <a class="" href="/bitcoin-core-dev/2015-11-25">25</a> <a class="" href="/bitcoin-core-dev/2015-11-26">26</a> <a class="" href="/bitcoin-core-dev/2015-11-27">27</a> <a class="" href="/bitcoin-core-dev/2015-11-28">28</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2015-11-29">29</a> <a class="" href="/bitcoin-core-dev/2015-11-30">30</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1446430620' id='434142'>
<a class='timestamp' href='#434142'><time timestamp='2015-11-02T02:17:00Z'>02:17</time></a>
&lt;<span class='nick nick-10'> GitHub36</span>&gt;
[bitcoin] laanwj opened pull request #6930: build: don&#x27;t distribute tests_config.py (master...2015_11_testsconfig_nodist) <a href="https://github.com/bitcoin/bitcoin/pull/6930" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/6930</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1446431100' id='434143'>
<a class='timestamp' href='#434143'><time timestamp='2015-11-02T02:25:00Z'>02:25</time></a>
&lt;<span class='nick nick-2'> GitHub164</span>&gt;
[bitcoin] laanwj closed pull request #6925: Added zmq flag for owned transactions (master...master) <a href="https://github.com/bitcoin/bitcoin/pull/6925" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/6925</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1446431400' id='434144'>
<a class='timestamp' href='#434144'><time timestamp='2015-11-02T02:30:00Z'>02:30</time></a>
&lt;<span class='nick nick-15'> GitHub27</span>&gt;
[bitcoin] laanwj pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/02a95be97759...a6d0d623fc95" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/02a95be97759...a6d0d623fc95</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1446431400' id='434145'>
<a class='timestamp' href='#434145'><time timestamp='2015-11-02T02:30:00Z'>02:30</time></a>
&lt;<span class='nick nick-15'> GitHub27</span>&gt;
bitcoin/master 7497e80 Wladimir J. van der Laan: tests: Initialize networking on windows
<br>
</div>

<div class='talk op-msg' data-timestamp='1446431400' id='434146'>
<a class='timestamp' href='#434146'><time timestamp='2015-11-02T02:30:00Z'>02:30</time></a>
&lt;<span class='nick nick-15'> GitHub27</span>&gt;
bitcoin/master a6d0d62 Wladimir J. van der Laan: Merge pull request #6926...
<br>
</div>

<div class='talk op-msg' data-timestamp='1446431400' id='434147'>
<a class='timestamp' href='#434147'><time timestamp='2015-11-02T02:30:00Z'>02:30</time></a>
&lt;<span class='nick nick-1'> GitHub122</span>&gt;
[bitcoin] laanwj closed pull request #6926: tests: Initialize networking on windows (master...2015_10_tests_networking_init) <a href="https://github.com/bitcoin/bitcoin/pull/6926" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/6926</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1446431580' id='434148'>
<a class='timestamp' href='#434148'><time timestamp='2015-11-02T02:33:00Z'>02:33</time></a>
&lt;<span class='nick nick-6'> GitHub198</span>&gt;
[bitcoin] laanwj closed pull request #6839: clang-format: Recently added files (master...MarcoFalke-2015-clangFormatRecent) <a href="https://github.com/bitcoin/bitcoin/pull/6839" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/6839</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1446431880' id='434149'>
<a class='timestamp' href='#434149'><time timestamp='2015-11-02T02:38:00Z'>02:38</time></a>
&lt;<span class='nick nick-5'> GitHub87</span>&gt;
[bitcoin] laanwj closed pull request #6902: policy:  Add new constant MAX_STANDARD_MULTISIG_KEYS (master...multisig_keys) <a href="https://github.com/bitcoin/bitcoin/pull/6902" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/6902</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1446432300' id='434150'>
<a class='timestamp' href='#434150'><time timestamp='2015-11-02T02:45:00Z'>02:45</time></a>
&lt;<span class='nick nick-3'> GitHub99</span>&gt;
[bitcoin] laanwj pushed 3 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/a6d0d623fc95...8fe30fb4d130" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/a6d0d623fc95...8fe30fb4d130</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1446432300' id='434151'>
<a class='timestamp' href='#434151'><time timestamp='2015-11-02T02:45:00Z'>02:45</time></a>
&lt;<span class='nick nick-3'> GitHub99</span>&gt;
bitcoin/master 8537ecd Gregory Maxwell: Revert &quot;Enable policy enforcing GetMedianTimePast as the end point of lock-time constraints&quot;...
<br>
</div>

<div class='talk op-msg' data-timestamp='1446432300' id='434152'>
<a class='timestamp' href='#434152'><time timestamp='2015-11-02T02:45:00Z'>02:45</time></a>
&lt;<span class='nick nick-3'> GitHub99</span>&gt;
bitcoin/master 40cd32e Gregory Maxwell: Revert &quot;Add rules--presently disabled--for using GetMedianTimePast as endpoint for lock-time calculations&quot;...
<br>
</div>

<div class='talk op-msg' data-timestamp='1446432300' id='434153'>
<a class='timestamp' href='#434153'><time timestamp='2015-11-02T02:45:00Z'>02:45</time></a>
&lt;<span class='nick nick-3'> GitHub99</span>&gt;
bitcoin/master 8fe30fb Wladimir J. van der Laan: Merge pull request #6928...
<br>
</div>

<div class='talk op-msg' data-timestamp='1446432300' id='434154'>
<a class='timestamp' href='#434154'><time timestamp='2015-11-02T02:45:00Z'>02:45</time></a>
&lt;<span class='nick nick-10'> GitHub48</span>&gt;
[bitcoin] laanwj closed pull request #6928: Revert MedianTimePast / mempool-only BIP113 (master...undo_113) <a href="https://github.com/bitcoin/bitcoin/pull/6928" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/6928</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1446471660' id='434155'>
<a class='timestamp' href='#434155'><time timestamp='2015-11-02T13:41:00Z'>13:41</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
sipa: i have a few questions for you when you have a couple mins
<br>
</div>

<div class='talk op-msg' data-timestamp='1446471780' id='434156'>
<a class='timestamp' href='#434156'><time timestamp='2015-11-02T13:43:00Z'>13:43</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
1) secp256k1, i&#x27;ve been doing my benchmarking on ConnectBlock and CreateNewBlock improvements assuming that might be released and merged for 0.12.  It&#x27;s fine either way, but do you have a sense of status?
<br>
</div>

<div class='talk op-msg' data-timestamp='1446471840' id='434157'>
<a class='timestamp' href='#434157'><time timestamp='2015-11-02T13:44:00Z'>13:44</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
2) I&#x27;d like to create a modification to UpdateCoins so that when you are explicitly creating the outputs for a new tx you don&#x27;t touch the database.  Should this be a flag to ModifyCoins or a new function NewCoins.
<br>
</div>

<div class='talk op-msg' data-timestamp='1446471900' id='434158'>
<a class='timestamp' href='#434158'><time timestamp='2015-11-02T13:45:00Z'>13:45</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
the reaosn I believe this is safe is you blow away the old coins immediately afterwards anyway with FromTx, so if there were some reason those old coins existed (which they shouldn&#x27;t because then you would no longer have the inputs available anyway) it would already be broken.
<br>
</div>

<div class='talk op-msg' data-timestamp='1446471900' id='434159'>
<a class='timestamp' href='#434159'><time timestamp='2015-11-02T13:45:00Z'>13:45</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I&#x27;m also interested in status of secp256k1 verification :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1446471960' id='434160'>
<a class='timestamp' href='#434160'><time timestamp='2015-11-02T13:46:00Z'>13:46</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
but in the depths of brokenness, one difference is whether the new coins i&#x27;m creating are marked FRESH or not.  since i&#x27;m just assuming they don&#x27;t exist i&#x27;d like to mark my new coins as FRESH, but in the circumstance where these were then spent, then the conflicting coins would never be written over the underlying databases coins, unlike what would happen now.
<br>
</div>

<div class='talk op-msg' data-timestamp='1446472020' id='434161'>
<a class='timestamp' href='#434161'><time timestamp='2015-11-02T13:47:00Z'>13:47</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
Since this is a slight change in behavior (that should never happen) I wanted hour thoughts on that.  
<br>
</div>

<div class='talk op-msg' data-timestamp='1446472080' id='434162'>
<a class='timestamp' href='#434162'><time timestamp='2015-11-02T13:48:00Z'>13:48</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
Also this question is for everyone.  Thanks to Luke-Jr and gmaxwell I realized you can actually do the priority portion of the block relatively quickly in CreateNewBlock as well.  But to do this I need to be able to get priority without accessing inputs.  I can think of 3 options:
<br>
</div>

<div class='talk op-msg' data-timestamp='1446472140' id='434163'>
<a class='timestamp' href='#434163'><time timestamp='2015-11-02T13:49:00Z'>13:49</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
a) use current CTxMemPoolEntry::GetPriority() which is an upper bound on the possible actual priority (seems bad as it&#x27;s gameable)
<br>
</div>

<div class='talk op-msg' data-timestamp='1446472200' id='434164'>
<a class='timestamp' href='#434164'><time timestamp='2015-11-02T13:50:00Z'>13:50</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
b) take the part of 6357 which calculates inchainInputValue when a mempool entry is created and use that to have a lower bound on actual priority (don&#x27;t update when further inputs are confirmed)  (the downside of this approach is it could be slightly broken during a reorg)
<br>
</div>

<div class='talk op-msg' data-timestamp='1446472260' id='434165'>
<a class='timestamp' href='#434165'><time timestamp='2015-11-02T13:51:00Z'>13:51</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
c) use 6357 to dynamically calculate priority.  I rebased this and will push. I think its reasonably efficient, but its adding more machinary to support priority, thats also a bit complicated.  Is priority here for the forseaeable future?
<br>
</div>

<div class='talk op-msg' data-timestamp='1446472320' id='434166'>
<a class='timestamp' href='#434166'><time timestamp='2015-11-02T13:52:00Z'>13:52</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
Oh and one more question sipa.  Is 6914 something that you are about to change, should I also benchmark with that included, or hold off?
<br>
</div>

<div class='talk op-msg' data-timestamp='1446476220' id='434167'>
<a class='timestamp' href='#434167'><time timestamp='2015-11-02T14:57:00Z'>14:57</time></a>
&lt;<span class='nick nick-2'> GitHub153</span>&gt;
[bitcoin] laanwj reopened pull request #6248: Fix Qt build on arch by setting -fPIC (master...archbuild) <a href="https://github.com/bitcoin/bitcoin/pull/6248" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/6248</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1446481440' id='434168'>
<a class='timestamp' href='#434168'><time timestamp='2015-11-02T16:24:00Z'>16:24</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
gmaxwell and sipa: re point 2 above.  So correct me if I&#x27;m wrong.  the existing 2 cases of duplicate coin bases are just that only duplicate coin bases.  the first coinbase is now overwritten and lost, and as of yet, the second has not been spent.
<br>
</div>

<div class='talk op-msg' data-timestamp='1446481500' id='434169'>
<a class='timestamp' href='#434169'><time timestamp='2015-11-02T16:25:00Z'>16:25</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
so in order to preserve correct behavior with that, i do need to make sure I overwrite the existing coins in those 2 cases when we&#x27;re processing the chain from the beginning.  
<br>
</div>

<div class='talk op-msg' data-timestamp='1446481560' id='434170'>
<a class='timestamp' href='#434170'><time timestamp='2015-11-02T16:26:00Z'>16:26</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
it seems the best way to do this is to special case coinbase outputs being created (UpdateCoins already special cases coinbases).  And in the case of coinbase outputs being created either still do the txdb lookup, or don&#x27;t mark the new coins as FRESH to force them to be written
<br>
</div>

<div class='talk op-msg' data-timestamp='1446481620' id='434171'>
<a class='timestamp' href='#434171'><time timestamp='2015-11-02T16:27:00Z'>16:27</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
i realize this is getting a tad hacky, but it seems its well worth it to avoid all these database lookups
<br>
</div>

<div class='talk op-msg' data-timestamp='1446481680' id='434172'>
<a class='timestamp' href='#434172'><time timestamp='2015-11-02T16:28:00Z'>16:28</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
any other thoughts on how to properly accomplish this?
<br>
</div>

<div class='talk op-msg' data-timestamp='1446505860' id='434173'>
<a class='timestamp' href='#434173'><time timestamp='2015-11-02T23:11:00Z'>23:11</time></a>
&lt;<span class='nick nick-13'> helo</span>&gt;
second time today, sync.cpp:112: void potential_deadlock_detected(const std::pair&lt;void*, void*&gt;&amp;, const LockStack&amp;, const LockStack&amp;): Assertion `onlyMaybeDeadlock&#x27; failed.
<br>
</div>

<div class='talk op-msg' data-timestamp='1446505920' id='434174'>
<a class='timestamp' href='#434174'><time timestamp='2015-11-02T23:12:00Z'>23:12</time></a>
&lt;<span class='nick nick-13'> helo</span>&gt;
at 725539e, and 8fe30fb4 (~current head)
<br>
</div>

<div class='talk op-msg' data-timestamp='1446506040' id='434175'>
<a class='timestamp' href='#434175'><time timestamp='2015-11-02T23:14:00Z'>23:14</time></a>
&lt;<span class='nick nick-13'> helo</span>&gt;
built/running on ubuntu 15.10 with boost 1.58 fwiw
<br>
</div>

</div>
</section>

</body>
</html>
