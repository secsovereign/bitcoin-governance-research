<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2017-12-02
 — 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2017-12-02' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:23 UTC</pre>
<pre><a href="/bitcoin-core-dev/2017-11-02">&lt;</a><span class='header'>  December 2017   </span><a href="/bitcoin-core-dev/2018-01-02">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;                <a class="" href="/bitcoin-core-dev/2017-12-01">1</a>  <a class="current" href="/bitcoin-core-dev/2017-12-02">2</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2017-12-03">3</a>  <a class="" href="/bitcoin-core-dev/2017-12-04">4</a>  <a class="" href="/bitcoin-core-dev/2017-12-05">5</a>  <a class="" href="/bitcoin-core-dev/2017-12-06">6</a>  <a class="" href="/bitcoin-core-dev/2017-12-07">7</a>  <a class="" href="/bitcoin-core-dev/2017-12-08">8</a>  <a class="" href="/bitcoin-core-dev/2017-12-09">9</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2017-12-10">10</a> <a class="" href="/bitcoin-core-dev/2017-12-11">11</a> <a class="" href="/bitcoin-core-dev/2017-12-12">12</a> <a class="" href="/bitcoin-core-dev/2017-12-13">13</a> <a class="" href="/bitcoin-core-dev/2017-12-14">14</a> <a class="" href="/bitcoin-core-dev/2017-12-15">15</a> <a class="" href="/bitcoin-core-dev/2017-12-16">16</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2017-12-17">17</a> <a class="" href="/bitcoin-core-dev/2017-12-18">18</a> <a class="" href="/bitcoin-core-dev/2017-12-19">19</a> <a class="" href="/bitcoin-core-dev/2017-12-20">20</a> <a class="" href="/bitcoin-core-dev/2017-12-21">21</a> <a class="" href="/bitcoin-core-dev/2017-12-22">22</a> <a class="" href="/bitcoin-core-dev/2017-12-23">23</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2017-12-24">24</a> <a class="" href="/bitcoin-core-dev/2017-12-25">25</a> <a class="" href="/bitcoin-core-dev/2017-12-26">26</a> <a class="" href="/bitcoin-core-dev/2017-12-27">27</a> <a class="" href="/bitcoin-core-dev/2017-12-28">28</a> <a class="" href="/bitcoin-core-dev/2017-12-29">29</a> <a class="" href="/bitcoin-core-dev/2017-12-30">30</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2017-12-31">31</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1512175140' id='584002'>
<a class='timestamp' href='#584002'><time timestamp='2017-12-02T00:39:00Z'>00:39</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
jimpo: likely they&#x27;re never linked together.. test_bitcoin_main would be linked into test_bitcoin, and init.cpp into bitcoind/bitcoin-qt
<br>
</div>

<div class='talk op-msg' data-timestamp='1512175800' id='584003'>
<a class='timestamp' href='#584003'><time timestamp='2017-12-02T00:50:00Z'>00:50</time></a>
&lt;<span class='nick nick-15'> Cooper_</span>&gt;
Hey y&#x27;all.
<br>
</div>

<div class='talk op-msg' data-timestamp='1512176220' id='584004'>
<a class='timestamp' href='#584004'><time timestamp='2017-12-02T00:57:00Z'>00:57</time></a>
&lt;<span class='nick nick-13'> jimpo</span>&gt;
luke-jr: That makes sense conceptually, but I don&#x27;t understand make tools well enough to understand why. From what is looks like here, <a href="https://github.com/bitcoin/bitcoin/blob/master/src/Makefile.test.include#L105" class="link" target="_blank">https://github.com/bitcoin/bitcoin/blob/master/src/Makefile.test.include#L105</a>, the test is linked against the LIBBITCOIN_SERVER sources, which includes init.cpp.
<br>
</div>

<div class='talk op-msg' data-timestamp='1512179760' id='584005'>
<a class='timestamp' href='#584005'><time timestamp='2017-12-02T01:56:00Z'>01:56</time></a>
&lt;<span class='nick nick-13'> jimpo</span>&gt;
I figured it out. I added a definition of a new global to init.cpp and didn&#x27;t add to test/test_bitcoin_main.cpp, which forced init.cpp to get linked and caused the conflict. Feels a little brittle to me, but it&#x27;s easy to work around.
<br>
</div>

<div class='talk op-msg' data-timestamp='1512200580' id='584006'>
<a class='timestamp' href='#584006'><time timestamp='2017-12-02T07:43:00Z'>07:43</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
right, to be clear I certainly think the current testnet should stay, to test miners and as a &#x27;wildtestnet&#x27;. If anything more reliable is introduced it should not replace it but be a choice.
<br>
</div>

<div class='talk op-msg' data-timestamp='1512200640' id='584007'>
<a class='timestamp' href='#584007'><time timestamp='2017-12-02T07:44:00Z'>07:44</time></a>
&lt;<span class='nick nick-14'> Randolf</span>&gt;
That seems reasonable.
<br>
</div>

<div class='talk op-msg' data-timestamp='1512204960' id='584008'>
<a class='timestamp' href='#584008'><time timestamp='2017-12-02T08:56:00Z'>08:56</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
wildnet!
<br>
</div>

<div class='talk op-msg' data-timestamp='1512205560' id='584009'>
<a class='timestamp' href='#584009'><time timestamp='2017-12-02T09:06:00Z'>09:06</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
sipa:  Provoostenator came with that I think it&#x27; great
<br>
</div>

<div class='talk op-msg' data-timestamp='1512205620' id='584010'>
<a class='timestamp' href='#584010'><time timestamp='2017-12-02T09:07:00Z'>09:07</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ha     
<br>
</div>

<div class='talk op-msg' data-timestamp='1512205680' id='584011'>
<a class='timestamp' href='#584011'><time timestamp='2017-12-02T09:08:00Z'>09:08</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
a reliable testnet would be more like a simnet
<br>
</div>

<div class='talk op-msg' data-timestamp='1512205680' id='584012'>
<a class='timestamp' href='#584012'><time timestamp='2017-12-02T09:08:00Z'>09:08</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
simulate circumstances on the real chain
<br>
</div>

<div class='talk op-msg' data-timestamp='1512212820' id='584013'>
<a class='timestamp' href='#584013'><time timestamp='2017-12-02T11:07:00Z'>11:07</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
the more stable thing I think would be interesting to do is a singned block testnet where it accepts two keys and there is a regular standard parttern of reorgs that it does, and if you don&#x27;t want to see the reorgs, you change your settings to ignore one of the keys, which is the one used for blocks which are going to get reorged out.  Unfortunately, the signed block approach used in elements at
<br>
</div>

<div class='talk op-msg' data-timestamp='1512212820' id='584014'>
<a class='timestamp' href='#584014'><time timestamp='2017-12-02T11:07:00Z'>11:07</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
 least makes the blockindex datastructures in memory larger... so they&#x27;d be ugly to have for us because the same binary is testnet and mainnet. :(
<br>
</div>

<div class='talk op-msg' data-timestamp='1512212880' id='584015'>
<a class='timestamp' href='#584015'><time timestamp='2017-12-02T11:08:00Z'>11:08</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
We could, of course, have a seperate build for this signed block testnet, but I think that would make it less accessible and useful.
<br>
</div>

<div class='talk op-msg' data-timestamp='1512214500' id='584016'>
<a class='timestamp' href='#584016'><time timestamp='2017-12-02T11:35:00Z'>11:35</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
indeed, doing a predictable cycle of reorgs makes sense, otherwise it&#x27;s not much of a test
<br>
</div>

<div class='talk op-msg' data-timestamp='1512214560' id='584017'>
<a class='timestamp' href='#584017'><time timestamp='2017-12-02T11:36:00Z'>11:36</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
within the limits of what is realistically encountered on mainnet
<br>
</div>

<div class='talk op-msg' data-timestamp='1512214560' id='584018'>
<a class='timestamp' href='#584018'><time timestamp='2017-12-02T11:36:00Z'>11:36</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes, that&#x27;s what I don&#x27;t like, the same code is used on mainnet and testnet and this would add extra overhead, as well as more potentially buggy code inthe consensus path
<br>
</div>

<div class='talk op-msg' data-timestamp='1512214620' id='584019'>
<a class='timestamp' href='#584019'><time timestamp='2017-12-02T11:37:00Z'>11:37</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
the only way around that would be to template all the code which is not a simple change either :/
<br>
</div>

<div class='talk op-msg' data-timestamp='1512214680' id='584020'>
<a class='timestamp' href='#584020'><time timestamp='2017-12-02T11:38:00Z'>11:38</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
this really needs to be zero overhead for the mainnet case
<br>
</div>

<div class='talk op-msg' data-timestamp='1512215040' id='584021'>
<a class='timestamp' href='#584021'><time timestamp='2017-12-02T11:44:00Z'>11:44</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I suspect it probably could be done with no runtime overhead, but some lack of cleanness (like having to turn one of the fields in the block index into a union).
<br>
</div>

<div class='talk op-msg' data-timestamp='1512231660' id='584022'>
<a class='timestamp' href='#584022'><time timestamp='2017-12-02T16:21:00Z'>16:21</time></a>
&lt;<span class='nick nick-1'> webuser323</span>&gt;
Just wondering if this is relevant bitcoin-core: <a href="https://github.com/google/oss-fuzz/" class="link" target="_blank">https://github.com/google/oss-fuzz/</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1512232020' id='584023'>
<a class='timestamp' href='#584023'><time timestamp='2017-12-02T16:27:00Z'>16:27</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jnewbery opened pull request #11817: [tests] Change bip68-112-113-p2p to use BitcoinTestFramework (master...refactor_bip68-112-113-p2p) <a href="https://github.com/bitcoin/bitcoin/pull/11817" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/11817</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1512232500' id='584024'>
<a class='timestamp' href='#584024'><time timestamp='2017-12-02T16:35:00Z'>16:35</time></a>
&lt;<span class='nick nick-1'> webuser323</span>&gt;
pinging wumpus, maybe worth adding the project there, the trophy list is very impressive!
<br>
</div>

<div class='talk op-msg' data-timestamp='1512241680' id='584025'>
<a class='timestamp' href='#584025'><time timestamp='2017-12-02T19:08:00Z'>19:08</time></a>
&lt;<span class='nick nick-3'> meshcollider</span>&gt;
webuser323: OSS-fuzz was discussed in #11045, you might want to check that out :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1512241680' id='584026'>
<a class='timestamp' href='#584026'><time timestamp='2017-12-02T19:08:00Z'>19:08</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/11045" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/11045</a> | Offering my Bitcoin fuzzers · Issue #11045 · bitcoin/bitcoin · GitHub
<br>
</div>

</div>
</section>

</body>
</html>
