<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2015-12-11
 â€” 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2015-12-11' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:27 UTC</pre>
<pre><a href="/bitcoin-core-dev/2015-11-11">&lt;</a><span class='header'>  December 2015   </span><a href="/bitcoin-core-dev/2016-01-11">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;       <a class="" href="/bitcoin-core-dev/2015-12-01">1</a>  <a class="" href="/bitcoin-core-dev/2015-12-02">2</a>  <a class="" href="/bitcoin-core-dev/2015-12-03">3</a>  <a class="" href="/bitcoin-core-dev/2015-12-04">4</a>  <a class="" href="/bitcoin-core-dev/2015-12-05">5</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2015-12-06">6</a>  <a class="" href="/bitcoin-core-dev/2015-12-07">7</a>  <a class="" href="/bitcoin-core-dev/2015-12-08">8</a>  <a class="" href="/bitcoin-core-dev/2015-12-09">9</a> <a class="" href="/bitcoin-core-dev/2015-12-10">10</a> <a class="current" href="/bitcoin-core-dev/2015-12-11">11</a> <a class="" href="/bitcoin-core-dev/2015-12-12">12</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2015-12-13">13</a> <a class="" href="/bitcoin-core-dev/2015-12-14">14</a> <a class="" href="/bitcoin-core-dev/2015-12-15">15</a> <a class="" href="/bitcoin-core-dev/2015-12-16">16</a> <a class="" href="/bitcoin-core-dev/2015-12-17">17</a> <a class="" href="/bitcoin-core-dev/2015-12-18">18</a> <a class="" href="/bitcoin-core-dev/2015-12-19">19</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2015-12-20">20</a> <a class="" href="/bitcoin-core-dev/2015-12-21">21</a> <a class="" href="/bitcoin-core-dev/2015-12-22">22</a> <a class="" href="/bitcoin-core-dev/2015-12-23">23</a> <a class="" href="/bitcoin-core-dev/2015-12-24">24</a> <a class="" href="/bitcoin-core-dev/2015-12-25">25</a> <a class="" href="/bitcoin-core-dev/2015-12-26">26</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2015-12-27">27</a> <a class="" href="/bitcoin-core-dev/2015-12-28">28</a> <a class="" href="/bitcoin-core-dev/2015-12-29">29</a> <a class="" href="/bitcoin-core-dev/2015-12-30">30</a> <a class="" href="/bitcoin-core-dev/2015-12-31">31</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1449820740' id='443658'>
<a class='timestamp' href='#443658'><time timestamp='2015-12-11T07:59:00Z'>07:59</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Luke-Jr: IIRC right, modifying .DS_Stores is non trivial. I guess you can&#x27;t just change it with hexeditor like things. But i&#x27;m happy to try if you pass me over a .DS_Store.
<br>
</div>

<div class='talk op-msg' data-timestamp='1449820740' id='443659'>
<a class='timestamp' href='#443659'><time timestamp='2015-12-11T07:59:00Z'>07:59</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I guess there are tools to modify a DS_Store (which is a non-open apple binary format)
<br>
</div>

<div class='talk op-msg' data-timestamp='1449820800' id='443660'>
<a class='timestamp' href='#443660'><time timestamp='2015-12-11T08:00:00Z'>08:00</time></a>
&lt;<span class='nick nick-2'> Luke-Jr</span>&gt;
<a href="http://luke.dashjr.org/tmp/code/DS_Store" class="link" target="_blank">http://luke.dashjr.org/tmp/code/DS_Store</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1449821520' id='443661'>
<a class='timestamp' href='#443661'><time timestamp='2015-12-11T08:12:00Z'>08:12</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Luke-Jr: it looks like its easier to test if you add it to your PR (i can do a gitian build). Okay?
<br>
</div>

<div class='talk op-msg' data-timestamp='1449821520' id='443662'>
<a class='timestamp' href='#443662'><time timestamp='2015-12-11T08:12:00Z'>08:12</time></a>
&lt;<span class='nick nick-2'> Luke-Jr</span>&gt;
ok, pushed
<br>
</div>

<div class='talk op-msg' data-timestamp='1449821640' id='443663'>
<a class='timestamp' href='#443663'><time timestamp='2015-12-11T08:14:00Z'>08:14</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Okay. Building caa7c8fabef027b9640561dff8472766f5e3296d (takes 30-40mins)
<br>
</div>

<div class='talk op-msg' data-timestamp='1449821640' id='443664'>
<a class='timestamp' href='#443664'><time timestamp='2015-12-11T08:14:00Z'>08:14</time></a>
&lt;<span class='nick nick-2'> Luke-Jr</span>&gt;
jonasschnelli: that&#x27;s not the top commit
<br>
</div>

<div class='talk op-msg' data-timestamp='1449821640' id='443665'>
<a class='timestamp' href='#443665'><time timestamp='2015-12-11T08:14:00Z'>08:14</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Sorry. Meant: c903ae4d6794bb448d72100744036b7835481450
<br>
</div>

<div class='talk op-msg' data-timestamp='1449821700' id='443666'>
<a class='timestamp' href='#443666'><time timestamp='2015-12-11T08:15:00Z'>08:15</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I skip win and linux builds... so 12mins will it be~.
<br>
</div>

<div class='talk op-msg' data-timestamp='1449821940' id='443667'>
<a class='timestamp' href='#443667'><time timestamp='2015-12-11T08:19:00Z'>08:19</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
gmaxwell: so should we revert #4906?
<br>
</div>

<div class='talk op-msg' data-timestamp='1449822180' id='443668'>
<a class='timestamp' href='#443668'><time timestamp='2015-12-11T08:23:00Z'>08:23</time></a>
&lt;<span class='nick nick-6'> GitHub187</span>&gt;
[bitcoin] laanwj closed pull request #7196: Doxygen (master...doxygen-a) <a href="https://github.com/bitcoin/bitcoin/pull/7196" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/7196</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1449822300' id='443669'>
<a class='timestamp' href='#443669'><time timestamp='2015-12-11T08:25:00Z'>08:25</time></a>
&lt;<span class='nick nick-9'> GitHub39</span>&gt;
[bitcoin] laanwj pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/5dc63ed1ca8a...f7f44b1bdd15" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/5dc63ed1ca8a...f7f44b1bdd15</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1449822300' id='443670'>
<a class='timestamp' href='#443670'><time timestamp='2015-12-11T08:25:00Z'>08:25</time></a>
&lt;<span class='nick nick-9'> GitHub39</span>&gt;
bitcoin/master 00423e1 Suriyaa Kudo: Set link from http:// to https://...
<br>
</div>

<div class='talk op-msg' data-timestamp='1449822300' id='443671'>
<a class='timestamp' href='#443671'><time timestamp='2015-12-11T08:25:00Z'>08:25</time></a>
&lt;<span class='nick nick-9'> GitHub39</span>&gt;
bitcoin/master f7f44b1 Wladimir J. van der Laan: Merge pull request #7197...
<br>
</div>

<div class='talk op-msg' data-timestamp='1449822300' id='443672'>
<a class='timestamp' href='#443672'><time timestamp='2015-12-11T08:25:00Z'>08:25</time></a>
&lt;<span class='nick nick-12'> GitHub16</span>&gt;
[bitcoin] laanwj closed pull request #7197: Set link from http:// to https:// (master...patch-1) <a href="https://github.com/bitcoin/bitcoin/pull/7197" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/7197</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1449822600' id='443673'>
<a class='timestamp' href='#443673'><time timestamp='2015-12-11T08:30:00Z'>08:30</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Luke-Jr: seems to have build issues on OSX: <a href="https://bitcoin.jonasschnelli.ch/pulls/7192/build-osx.log" class="link" target="_blank">https://bitcoin.jonasschnelli.ch/pulls/7192/build-osx.log</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1449822660' id='443674'>
<a class='timestamp' href='#443674'><time timestamp='2015-12-11T08:31:00Z'>08:31</time></a>
&lt;<span class='nick nick-2'> Luke-Jr</span>&gt;
your SSL is still broken :/
<br>
</div>

<div class='talk op-msg' data-timestamp='1449822660' id='443675'>
<a class='timestamp' href='#443675'><time timestamp='2015-12-11T08:31:00Z'>08:31</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Yes. I know... need to fix it. Will do *soon*.
<br>
</div>

<div class='talk op-msg' data-timestamp='1449822720' id='443676'>
<a class='timestamp' href='#443676'><time timestamp='2015-12-11T08:32:00Z'>08:32</time></a>
&lt;<span class='nick nick-2'> Luke-Jr</span>&gt;
I guess I can hopefully reproduce it in gitian myself :x
<br>
</div>

<div class='talk op-msg' data-timestamp='1449822780' id='443677'>
<a class='timestamp' href='#443677'><time timestamp='2015-12-11T08:33:00Z'>08:33</time></a>
&lt;<span class='nick nick-4'> * Luke-Jr</span>&gt;
wonders why gitian has started demanding he enter a password
<br>
</div>

<div class='talk op-msg' data-timestamp='1449822900' id='443678'>
<a class='timestamp' href='#443678'><time timestamp='2015-12-11T08:35:00Z'>08:35</time></a>
&lt;<span class='nick nick-2'> Luke-Jr</span>&gt;
debug1: Skipping ssh-dss key ./var/id_dsa for not in PubkeyAcceptedKeyTypes
<br>
</div>

<div class='talk op-msg' data-timestamp='1449823320' id='443679'>
<a class='timestamp' href='#443679'><time timestamp='2015-12-11T08:42:00Z'>08:42</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
bleh, can you bisect it to a change in gitian?
<br>
</div>

<div class='talk op-msg' data-timestamp='1449823320' id='443680'>
<a class='timestamp' href='#443680'><time timestamp='2015-12-11T08:42:00Z'>08:42</time></a>
&lt;<span class='nick nick-2'> Luke-Jr</span>&gt;
looks like it&#x27;s OpenSSH 7.0
<br>
</div>

<div class='talk op-msg' data-timestamp='1449823380' id='443681'>
<a class='timestamp' href='#443681'><time timestamp='2015-12-11T08:43:00Z'>08:43</time></a>
&lt;<span class='nick nick-2'> Luke-Jr</span>&gt;
no longer accepts DSS keys by default
<br>
</div>

<div class='talk op-msg' data-timestamp='1449823380' id='443682'>
<a class='timestamp' href='#443682'><time timestamp='2015-12-11T08:43:00Z'>08:43</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
oh that&#x27;s good to know
<br>
</div>

<div class='talk op-msg' data-timestamp='1449823440' id='443683'>
<a class='timestamp' href='#443683'><time timestamp='2015-12-11T08:44:00Z'>08:44</time></a>
&lt;<span class='nick nick-2'> Luke-Jr</span>&gt;
 * Support for ssh-dss, ssh-dss-cert-* host and user keys is disabled by default at run-time. These may be re-enabled using the instructions at <a href="http://www.openssh.com/legacy.html" class="link" target="_blank">http://www.openssh.com/legacy.html</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1449823440' id='443684'>
<a class='timestamp' href='#443684'><time timestamp='2015-12-11T08:44:00Z'>08:44</time></a>
&lt;<span class='nick nick-3'> * wumpus</span>&gt;
quickly checks if he has any servers/VPSes with dss keys he could lose access to
<br>
</div>

<div class='talk op-msg' data-timestamp='1449823680' id='443685'>
<a class='timestamp' href='#443685'><time timestamp='2015-12-11T08:48:00Z'>08:48</time></a>
&lt;<span class='nick nick-2'> Luke-Jr</span>&gt;
looks like I&#x27;m updating Qt in gitian
<br>
</div>

<div class='talk op-msg' data-timestamp='1449823740' id='443686'>
<a class='timestamp' href='#443686'><time timestamp='2015-12-11T08:49:00Z'>08:49</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
also wonder why gitian insists on creating a dsa key in the first place
<br>
</div>

<div class='talk op-msg' data-timestamp='1449823800' id='443687'>
<a class='timestamp' href='#443687'><time timestamp='2015-12-11T08:50:00Z'>08:50</time></a>
&lt;<span class='nick nick-2'> Luke-Jr</span>&gt;
devrandom: ^
<br>
</div>

<div class='talk op-msg' data-timestamp='1449823860' id='443688'>
<a class='timestamp' href='#443688'><time timestamp='2015-12-11T08:51:00Z'>08:51</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
it would be fast.
<br>
</div>

<div class='talk op-msg' data-timestamp='1449823920' id='443689'>
<a class='timestamp' href='#443689'><time timestamp='2015-12-11T08:52:00Z'>08:52</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
maybe switch to ssh-ed25519
<br>
</div>

<div class='talk op-msg' data-timestamp='1449823980' id='443690'>
<a class='timestamp' href='#443690'><time timestamp='2015-12-11T08:53:00Z'>08:53</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I dunno how widely supported that is, but perhaps that doesn&#x27;t matter. E.g. centos won&#x27;t have support for it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1449824040' id='443691'>
<a class='timestamp' href='#443691'><time timestamp='2015-12-11T08:54:00Z'>08:54</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
what matters for gitian is what ubuntu versions support it, at least 14.04 does, but don&#x27;t know if e.g. 12.04 does
<br>
</div>

<div class='talk op-msg' data-timestamp='1449824160' id='443692'>
<a class='timestamp' href='#443692'><time timestamp='2015-12-11T08:56:00Z'>08:56</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
then again, as this is only used to communciate with a vm on the local host, may be good enough to just add the force-use-dss option. Heck, using no cipher and auth would probably be acceptable...
<br>
</div>

<div class='talk op-msg' data-timestamp='1449824220' id='443693'>
<a class='timestamp' href='#443693'><time timestamp='2015-12-11T08:57:00Z'>08:57</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
or just set it to use 2kbit rsa, the generation time is probably not that bad on anything that can compile bitcoin.
<br>
</div>

<div class='talk op-msg' data-timestamp='1449824220' id='443694'>
<a class='timestamp' href='#443694'><time timestamp='2015-12-11T08:57:00Z'>08:57</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
(using ssh to communicate with something running on localhost is kind of redundant :-) )
<br>
</div>

<div class='talk op-msg' data-timestamp='1449824280' id='443695'>
<a class='timestamp' href='#443695'><time timestamp='2015-12-11T08:58:00Z'>08:58</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
changing that would mean regenerating all the base images though
<br>
</div>

<div class='talk op-msg' data-timestamp='1449824580' id='443696'>
<a class='timestamp' href='#443696'><time timestamp='2015-12-11T09:03:00Z'>09:03</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
Luke-Jr: if you change the ssh line in libexec/on-target to include -oHostKeyAlgorithms=+ssh-dss , does that work around the issue?
<br>
</div>

<div class='talk op-msg' data-timestamp='1449824580' id='443697'>
<a class='timestamp' href='#443697'><time timestamp='2015-12-11T09:03:00Z'>09:03</time></a>
&lt;<span class='nick nick-2'> Luke-Jr</span>&gt;
you want PubkeyAcceptedKeyTypes=+ssh-dss
<br>
</div>

<div class='talk op-msg' data-timestamp='1449824640' id='443698'>
<a class='timestamp' href='#443698'><time timestamp='2015-12-11T09:04:00Z'>09:04</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
ok
<br>
</div>

<div class='talk op-msg' data-timestamp='1449824700' id='443699'>
<a class='timestamp' href='#443699'><time timestamp='2015-12-11T09:05:00Z'>09:05</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
but in this case it&#x27;s about what your ssh *sends*, not what is accepted, which shouldn&#x27;t have changed
<br>
</div>

<div class='talk op-msg' data-timestamp='1449824760' id='443700'>
<a class='timestamp' href='#443700'><time timestamp='2015-12-11T09:06:00Z'>09:06</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
none of the ubuntu versions used for gitian building has OpenSSH 7.0+, it must be the outer ssh refusing to send a dss key
<br>
</div>

<div class='talk op-msg' data-timestamp='1449824820' id='443701'>
<a class='timestamp' href='#443701'><time timestamp='2015-12-11T09:07:00Z'>09:07</time></a>
&lt;<span class='nick nick-2'> Luke-Jr</span>&gt;
yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1449824880' id='443702'>
<a class='timestamp' href='#443702'><time timestamp='2015-12-11T09:08:00Z'>09:08</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
so does it work?
<br>
</div>

<div class='talk op-msg' data-timestamp='1449824880' id='443703'>
<a class='timestamp' href='#443703'><time timestamp='2015-12-11T09:08:00Z'>09:08</time></a>
&lt;<span class='nick nick-2'> Luke-Jr</span>&gt;
yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1449824940' id='443704'>
<a class='timestamp' href='#443704'><time timestamp='2015-12-11T09:09:00Z'>09:09</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
great
<br>
</div>

<div class='talk op-msg' data-timestamp='1449825360' id='443705'>
<a class='timestamp' href='#443705'><time timestamp='2015-12-11T09:16:00Z'>09:16</time></a>
&lt;<span class='nick nick-2'> Luke-Jr</span>&gt;
ugh, the build failure blocks caching the Qt? :/
<br>
</div>

<div class='talk op-msg' data-timestamp='1449825480' id='443706'>
<a class='timestamp' href='#443706'><time timestamp='2015-12-11T09:18:00Z'>09:18</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes that&#x27;s kind of annoying
<br>
</div>

<div class='talk op-msg' data-timestamp='1449825480' id='443707'>
<a class='timestamp' href='#443707'><time timestamp='2015-12-11T09:18:00Z'>09:18</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
any build failure prevents caching of anything
<br>
</div>

<div class='talk op-msg' data-timestamp='1449825540' id='443708'>
<a class='timestamp' href='#443708'><time timestamp='2015-12-11T09:19:00Z'>09:19</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
cached dependencies are not handled separately from the build product, if it fails, it fails completely
<br>
</div>

<div class='talk op-msg' data-timestamp='1449825600' id='443709'>
<a class='timestamp' href='#443709'><time timestamp='2015-12-11T09:20:00Z'>09:20</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
may be possible to split up between a descriptor that just builds the dependencies and one that builds bitcoin, or some other trick
<br>
</div>

<div class='talk op-msg' data-timestamp='1449825660' id='443710'>
<a class='timestamp' href='#443710'><time timestamp='2015-12-11T09:21:00Z'>09:21</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
the idea behind the current design is AFAIK that you use gitian <b>*if*</b> you are virtually sure that the build will pass, as a gitian build is/should be equivalent to a depends builds outside gitian
<br>
</div>

<div class='talk op-msg' data-timestamp='1449825720' id='443711'>
<a class='timestamp' href='#443711'><time timestamp='2015-12-11T09:22:00Z'>09:22</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
(of course, subtle issues with e.g. the VM setup can always interfere so it&#x27;s a bit brittle...)
<br>
</div>

<div class='talk op-msg' data-timestamp='1449827640' id='443712'>
<a class='timestamp' href='#443712'><time timestamp='2015-12-11T09:54:00Z'>09:54</time></a>
&lt;<span class='nick nick-13'> GitHub18</span>&gt;
[bitcoin] laanwj pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/f7f44b1bdd15...d1e17ff6408c" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/f7f44b1bdd15...d1e17ff6408c</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1449827640' id='443713'>
<a class='timestamp' href='#443713'><time timestamp='2015-12-11T09:54:00Z'>09:54</time></a>
&lt;<span class='nick nick-13'> GitHub18</span>&gt;
bitcoin/master 9bbe71b Wladimir J. van der Laan: net: Add and document network messages in protocol.h...
<br>
</div>

<div class='talk op-msg' data-timestamp='1449827640' id='443714'>
<a class='timestamp' href='#443714'><time timestamp='2015-12-11T09:54:00Z'>09:54</time></a>
&lt;<span class='nick nick-13'> GitHub18</span>&gt;
bitcoin/master d1e17ff Wladimir J. van der Laan: Merge pull request #7181...
<br>
</div>

<div class='talk op-msg' data-timestamp='1449827640' id='443715'>
<a class='timestamp' href='#443715'><time timestamp='2015-12-11T09:54:00Z'>09:54</time></a>
&lt;<span class='nick nick-11'> GitHub31</span>&gt;
[bitcoin] laanwj closed pull request #7181: net: Add and document network messages in protocol.h (master...2015_12_network_messages) <a href="https://github.com/bitcoin/bitcoin/pull/7181" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/7181</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1449829140' id='443716'>
<a class='timestamp' href='#443716'><time timestamp='2015-12-11T10:19:00Z'>10:19</time></a>
&lt;<span class='nick nick-13'> GitHub141</span>&gt;
[bitcoin] laanwj pushed 1 new commit to 0.12: <a href="https://github.com/bitcoin/bitcoin/commit/8fc174aae64882d43549ad57bece0c23805e567b" class="link" target="_blank">https://github.com/bitcoin/bitcoin/commit/8fc174aae64882d43549ad57bece0c23805e567b</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1449829140' id='443717'>
<a class='timestamp' href='#443717'><time timestamp='2015-12-11T10:19:00Z'>10:19</time></a>
&lt;<span class='nick nick-13'> GitHub141</span>&gt;
bitcoin/0.12 8fc174a Wladimir J. van der Laan: net: Add and document network messages in protocol.h...
<br>
</div>

<div class='talk op-msg' data-timestamp='1449831120' id='443718'>
<a class='timestamp' href='#443718'><time timestamp='2015-12-11T10:52:00Z'>10:52</time></a>
&lt;<span class='nick nick-4'> * Luke-Jr</span>&gt;
ponders if the cache ought to be a sshfs mount so it doesn&#x27;t copy all 1 GB of files that don&#x27;t get used every time
<br>
</div>

<div class='talk op-msg' data-timestamp='1449831240' id='443719'>
<a class='timestamp' href='#443719'><time timestamp='2015-12-11T10:54:00Z'>10:54</time></a>
&lt;<span class='nick nick-2'> Luke-Jr</span>&gt;
hm, KVM can do a builtin SMB server for the host..
<br>
</div>

<div class='talk op-msg' data-timestamp='1449833100' id='443720'>
<a class='timestamp' href='#443720'><time timestamp='2015-12-11T11:25:00Z'>11:25</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yea - if there is some built-in way to share filesystems in the virtualization solution, I think that makes more sense than using sshfs, which is slow
<br>
</div>

<div class='talk op-msg' data-timestamp='1449833160' id='443721'>
<a class='timestamp' href='#443721'><time timestamp='2015-12-11T11:26:00Z'>11:26</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
lxc can simply mount &#x27;host&#x27; directories as well
<br>
</div>

<div class='talk op-msg' data-timestamp='1449833160' id='443722'>
<a class='timestamp' href='#443722'><time timestamp='2015-12-11T11:26:00Z'>11:26</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
so using a scratchpad instead of copying everything every time could work
<br>
</div>

<div class='talk op-msg' data-timestamp='1449833280' id='443723'>
<a class='timestamp' href='#443723'><time timestamp='2015-12-11T11:28:00Z'>11:28</time></a>
&lt;<span class='nick nick-2'> Luke-Jr</span>&gt;
right
<br>
</div>

<div class='talk op-msg' data-timestamp='1449833400' id='443724'>
<a class='timestamp' href='#443724'><time timestamp='2015-12-11T11:30:00Z'>11:30</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
avoids both the ssh and copy overhead - but it&#x27;s work, no one ever got around to implementing that, and testing all that
<br>
</div>

<div class='talk op-msg' data-timestamp='1449833520' id='443725'>
<a class='timestamp' href='#443725'><time timestamp='2015-12-11T11:32:00Z'>11:32</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
btw apparently marcofalke had already switched the key type to rsa with <a href="https://github.com/devrandom/gitian-builder/pull/107" class="link" target="_blank">https://github.com/devrandom/gitian-builder/pull/107</a>, I do think it should carry a clearer warning that now all the base vms have to be regenerated
<br>
</div>

<div class='talk op-msg' data-timestamp='1449833580' id='443726'>
<a class='timestamp' href='#443726'><time timestamp='2015-12-11T11:33:00Z'>11:33</time></a>
&lt;<span class='nick nick-2'> Luke-Jr</span>&gt;
:x
<br>
</div>

<div class='talk op-msg' data-timestamp='1449833580' id='443727'>
<a class='timestamp' href='#443727'><time timestamp='2015-12-11T11:33:00Z'>11:33</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
although re: dependencies, arguably the copy overhead is minimal compared to the time it takes to build, or even prepare a VM for building (all this package upgrading..) so I&#x27;m not sure it&#x27;s that much of a win in practice compared to the work
<br>
</div>

<div class='talk op-msg' data-timestamp='1449833820' id='443728'>
<a class='timestamp' href='#443728'><time timestamp='2015-12-11T11:37:00Z'>11:37</time></a>
&lt;<span class='nick nick-2'> Luke-Jr</span>&gt;
maybe not, just annoying ;)
<br>
</div>

<div class='talk op-msg' data-timestamp='1449833820' id='443729'>
<a class='timestamp' href='#443729'><time timestamp='2015-12-11T11:37:00Z'>11:37</time></a>
&lt;<span class='nick nick-2'> Luke-Jr</span>&gt;
perhaps I&#x27;ll just change it to use rsync so the download-to-host step is quicker
<br>
</div>

<div class='talk op-msg' data-timestamp='1449833940' id='443730'>
<a class='timestamp' href='#443730'><time timestamp='2015-12-11T11:39:00Z'>11:39</time></a>
&lt;<span class='nick nick-2'> Luke-Jr</span>&gt;
oh blah, we&#x27;re on ancient Ubuntu
<br>
</div>

<div class='talk op-msg' data-timestamp='1449834540' id='443731'>
<a class='timestamp' href='#443731'><time timestamp='2015-12-11T11:49:00Z'>11:49</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
using rsync would already be nice
<br>
</div>

<div class='talk op-msg' data-timestamp='1449834540' id='443732'>
<a class='timestamp' href='#443732'><time timestamp='2015-12-11T11:49:00Z'>11:49</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
not to ancient to have rsync I suppose?
<br>
</div>

<div class='talk op-msg' data-timestamp='1449836100' id='443733'>
<a class='timestamp' href='#443733'><time timestamp='2015-12-11T12:15:00Z'>12:15</time></a>
&lt;<span class='nick nick-12'> * jonasschnelli</span>&gt;
is a fan of rsync/rdiff and rdiff backup
<br>
</div>

<div class='talk op-msg' data-timestamp='1449837180' id='443734'>
<a class='timestamp' href='#443734'><time timestamp='2015-12-11T12:33:00Z'>12:33</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
wumpus: 7156 looks like it has a lot of ACK&#x27;s (remove cs_main from createrawtransaction)
<br>
</div>

<div class='talk op-msg' data-timestamp='1449837240' id='443735'>
<a class='timestamp' href='#443735'><time timestamp='2015-12-11T12:34:00Z'>12:34</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
morcos: thanks
<br>
</div>

<div class='talk op-msg' data-timestamp='1449838020' id='443736'>
<a class='timestamp' href='#443736'><time timestamp='2015-12-11T12:47:00Z'>12:47</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I agree. It&#x27;s merge ready.
<br>
</div>

<div class='talk op-msg' data-timestamp='1449842160' id='443737'>
<a class='timestamp' href='#443737'><time timestamp='2015-12-11T13:56:00Z'>13:56</time></a>
&lt;<span class='nick nick-11'> GitHub177</span>&gt;
[bitcoin] laanwj pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/d1e17ff6408c...9ee02cf564d1" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/d1e17ff6408c...9ee02cf564d1</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1449842160' id='443738'>
<a class='timestamp' href='#443738'><time timestamp='2015-12-11T13:56:00Z'>13:56</time></a>
&lt;<span class='nick nick-11'> GitHub177</span>&gt;
bitcoin/master 6e76587 Wladimir J. van der Laan: rpc: remove cs_main lock from `createrawtransaction`...
<br>
</div>

<div class='talk op-msg' data-timestamp='1449842160' id='443739'>
<a class='timestamp' href='#443739'><time timestamp='2015-12-11T13:56:00Z'>13:56</time></a>
&lt;<span class='nick nick-11'> GitHub177</span>&gt;
bitcoin/master 9ee02cf Wladimir J. van der Laan: Merge pull request #7156...
<br>
</div>

<div class='talk op-msg' data-timestamp='1449842160' id='443740'>
<a class='timestamp' href='#443740'><time timestamp='2015-12-11T13:56:00Z'>13:56</time></a>
&lt;<span class='nick nick-16'> GitHub94</span>&gt;
[bitcoin] laanwj closed pull request #7156: rpc: remove cs_main lock from `createrawtransaction` (master...2015_12_createrawtransaction_nolock) <a href="https://github.com/bitcoin/bitcoin/pull/7156" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/7156</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1449851880' id='443741'>
<a class='timestamp' href='#443741'><time timestamp='2015-12-11T16:38:00Z'>16:38</time></a>
&lt;<span class='nick nick-4'> jamesob</span>&gt;
anyone have suggestions for parts of core that are under-unittested?
<br>
</div>

<div class='talk op-msg' data-timestamp='1449852120' id='443742'>
<a class='timestamp' href='#443742'><time timestamp='2015-12-11T16:42:00Z'>16:42</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
jamesob: AcceptToMemoryPool but its one of the more difficult thngs to test.
<br>
</div>

<div class='talk op-msg' data-timestamp='1449852180' id='443743'>
<a class='timestamp' href='#443743'><time timestamp='2015-12-11T16:43:00Z'>16:43</time></a>
&lt;<span class='nick nick-4'> jamesob</span>&gt;
in terms of getting the necessary fixture context set up, or something else?
<br>
</div>

<div class='talk op-msg' data-timestamp='1449852180' id='443744'>
<a class='timestamp' href='#443744'><time timestamp='2015-12-11T16:43:00Z'>16:43</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
I was going to rework miner_test.cpp at some point, b/c many of them were designed to make sure the mining code did not assume the mempool contained txs that couldn&#x27;t be mined, but now the mining code does assume that
<br>
</div>

<div class='talk op-msg' data-timestamp='1449852180' id='443745'>
<a class='timestamp' href='#443745'><time timestamp='2015-12-11T16:43:00Z'>16:43</time></a>
&lt;<span class='nick nick-4'> jamesob</span>&gt;
hah, I see
<br>
</div>

<div class='talk op-msg' data-timestamp='1449852240' id='443746'>
<a class='timestamp' href='#443746'><time timestamp='2015-12-11T16:44:00Z'>16:44</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
yes, in terms of setup.  i think there is a test that uses ATMP, but does it on regtest.
<br>
</div>

<div class='talk op-msg' data-timestamp='1449852240' id='443747'>
<a class='timestamp' href='#443747'><time timestamp='2015-12-11T16:44:00Z'>16:44</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
which isn&#x27;t really the right thing for more general ATMP tests
<br>
</div>

<div class='talk op-msg' data-timestamp='1449852240' id='443748'>
<a class='timestamp' href='#443748'><time timestamp='2015-12-11T16:44:00Z'>16:44</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
the miner_tests actually construct blocks that can be used on mainnet i think
<br>
</div>

<div class='talk op-msg' data-timestamp='1449852240' id='443749'>
<a class='timestamp' href='#443749'><time timestamp='2015-12-11T16:44:00Z'>16:44</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
so maybe that should be abstracted out into a setup that other tests can use
<br>
</div>

<div class='talk op-msg' data-timestamp='1449852300' id='443750'>
<a class='timestamp' href='#443750'><time timestamp='2015-12-11T16:45:00Z'>16:45</time></a>
&lt;<span class='nick nick-4'> jamesob</span>&gt;
ATMP?
<br>
</div>

<div class='talk op-msg' data-timestamp='1449852300' id='443751'>
<a class='timestamp' href='#443751'><time timestamp='2015-12-11T16:45:00Z'>16:45</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
AcceptToMemoryPool
<br>
</div>

<div class='talk op-msg' data-timestamp='1449852300' id='443752'>
<a class='timestamp' href='#443752'><time timestamp='2015-12-11T16:45:00Z'>16:45</time></a>
&lt;<span class='nick nick-4'> jamesob</span>&gt;
ah
<br>
</div>

<div class='talk op-msg' data-timestamp='1449852300' id='443753'>
<a class='timestamp' href='#443753'><time timestamp='2015-12-11T16:45:00Z'>16:45</time></a>
&lt;<span class='nick nick-4'> jamesob</span>&gt;
(first cup of coffee has yet to make it down ;)
<br>
</div>

<div class='talk op-msg' data-timestamp='1449852360' id='443754'>
<a class='timestamp' href='#443754'><time timestamp='2015-12-11T16:46:00Z'>16:46</time></a>
&lt;<span class='nick nick-4'> jamesob</span>&gt;
yeah, I&#x27;ll take a look, see if I can grok. may PM you if I get any ideas.
<br>
</div>

<div class='talk op-msg' data-timestamp='1449852360' id='443755'>
<a class='timestamp' href='#443755'><time timestamp='2015-12-11T16:46:00Z'>16:46</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
sure
<br>
</div>

<div class='talk op-msg' data-timestamp='1449861300' id='443756'>
<a class='timestamp' href='#443756'><time timestamp='2015-12-11T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
wumpus: No, we shouldn&#x27;t revert #4906 we should just move forward from it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1449876420' id='443757'>
<a class='timestamp' href='#443757'><time timestamp='2015-12-11T23:27:00Z'>23:27</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I&#x27;ve been giving some though to bringing back the tiered fee behavior bitcoin had untul mid 2012. The earlier logic had a rate table where transactions were added in arrival order, with the required fee gradually going up as the non-fee-sorted candidate block became bigger. In 2012 it was changed to the sorting based selection on the basis that this was the rational behavior to miners, and the &#x27;
<br>
</div>

<div class='talk op-msg' data-timestamp='1449876420' id='443758'>
<a class='timestamp' href='#443758'><time timestamp='2015-12-11T23:27:00Z'>23:27</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
fullness&#x27; of a candidate block was pretty opaque to users.  
<br>
</div>

<div class='talk op-msg' data-timestamp='1449876480' id='443759'>
<a class='timestamp' href='#443759'><time timestamp='2015-12-11T23:28:00Z'>23:28</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
What the logic was was that up to half the target size, the ordinary fee behavior applied. above half the target the required fee was multiplied by target/(target-current). 
<br>
</div>

<div class='talk op-msg' data-timestamp='1449876540' id='443760'>
<a class='timestamp' href='#443760'><time timestamp='2015-12-11T23:29:00Z'>23:29</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
What we lost in that change is any backpressure at all, until the limit was met.  The belief that this was good for miners was mistaken in any case, since fees relative to orphan impact are small. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1449876660' id='443761'>
<a class='timestamp' href='#443761'><time timestamp='2015-12-11T23:31:00Z'>23:31</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
And then the need to constantly keep bumping the soft limit to avoid that cliff from the system being poorly stabalized also meant that blocks found fast would glup down a pile of spamflood.
<br>
</div>

<div class='talk op-msg' data-timestamp='1449877020' id='443762'>
<a class='timestamp' href='#443762'><time timestamp='2015-12-11T23:37:00Z'>23:37</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I think we&#x27;ve probably not given this enough thought due to paying too much attention to what short term rational miner behavior would be; when probably really optimizing miner behavior would already not be including most of the transactions today at current feerates.
<br>
</div>

<div class='talk op-msg' data-timestamp='1449877320' id='443763'>
<a class='timestamp' href='#443763'><time timestamp='2015-12-11T23:42:00Z'>23:42</time></a>
&lt;<span class='nick nick-2'> zookolaptop</span>&gt;
Right. Bounded rationality. I&#x27;m a businessman, and if there are two sources of revenue, one of which gives 100X what the other one gives, then I would tend to say &quot;FUCK that other one! Don&#x27;t bother me. Don&#x27;t spend your time thinking about that other one.&quot;.
<br>
</div>

<div class='talk op-msg' data-timestamp='1449877380' id='443764'>
<a class='timestamp' href='#443764'><time timestamp='2015-12-11T23:43:00Z'>23:43</time></a>
&lt;<span class='nick nick-2'> zookolaptop</span>&gt;
100X is correct, currently, right? 
<br>
</div>

<div class='talk op-msg' data-timestamp='1449877500' id='443765'>
<a class='timestamp' href='#443765'><time timestamp='2015-12-11T23:45:00Z'>23:45</time></a>
&lt;<span class='nick nick-2'> zookolaptop</span>&gt;
That&#x27;s what I wrote on twitter the other day, on my way home from Hong Kong. <a href="https://twitter.com/zooko/status/674422815299231744" class="link" target="_blank">https://twitter.com/zooko/status/674422815299231744</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1449878160' id='443766'>
<a class='timestamp' href='#443766'><time timestamp='2015-12-11T23:56:00Z'>23:56</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
The other thing is that the rational marginal feerate needed to add an attitional transaction to a block actually goes down at the block gets bigger; not up.
<br>
</div>

<div class='talk op-msg' data-timestamp='1449878280' id='443767'>
<a class='timestamp' href='#443767'><time timestamp='2015-12-11T23:58:00Z'>23:58</time></a>
&lt;<span class='nick nick-2'> zookolaptop</span>&gt;
Good point.
<br>
</div>

<div class='talk op-msg' data-timestamp='1449878280' id='443768'>
<a class='timestamp' href='#443768'><time timestamp='2015-12-11T23:58:00Z'>23:58</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
This is because the possion distributions of blocks, has an exponential distribution of interblock intervals, which has a slope that decreases with more delay.  Basically, if you&#x27;re already screwed latency wise, the marginal harm of including another transaction is less.
<br>
</div>

</div>
</section>

</body>
</html>
