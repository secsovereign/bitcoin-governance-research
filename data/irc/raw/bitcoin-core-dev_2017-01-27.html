<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2017-01-27
 — 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2017-01-27' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:25 UTC</pre>
<pre><a href="/bitcoin-core-dev/2016-12-27">&lt;</a><span class='header'>   January 2017   </span><a href="/bitcoin-core-dev/2017-02-27">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A; <a class="" href="/bitcoin-core-dev/2017-01-01">1</a>  <a class="" href="/bitcoin-core-dev/2017-01-02">2</a>  <a class="" href="/bitcoin-core-dev/2017-01-03">3</a>  <a class="" href="/bitcoin-core-dev/2017-01-04">4</a>  <a class="" href="/bitcoin-core-dev/2017-01-05">5</a>  <a class="" href="/bitcoin-core-dev/2017-01-06">6</a>  <a class="" href="/bitcoin-core-dev/2017-01-07">7</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2017-01-08">8</a>  <a class="" href="/bitcoin-core-dev/2017-01-09">9</a> <a class="" href="/bitcoin-core-dev/2017-01-10">10</a> <a class="" href="/bitcoin-core-dev/2017-01-11">11</a> <a class="" href="/bitcoin-core-dev/2017-01-12">12</a> <a class="" href="/bitcoin-core-dev/2017-01-13">13</a> <a class="" href="/bitcoin-core-dev/2017-01-14">14</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2017-01-15">15</a> <a class="" href="/bitcoin-core-dev/2017-01-16">16</a> <a class="" href="/bitcoin-core-dev/2017-01-17">17</a> <a class="" href="/bitcoin-core-dev/2017-01-18">18</a> <a class="" href="/bitcoin-core-dev/2017-01-19">19</a> <a class="" href="/bitcoin-core-dev/2017-01-20">20</a> <a class="" href="/bitcoin-core-dev/2017-01-21">21</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2017-01-22">22</a> <a class="" href="/bitcoin-core-dev/2017-01-23">23</a> <a class="" href="/bitcoin-core-dev/2017-01-24">24</a> <a class="" href="/bitcoin-core-dev/2017-01-25">25</a> <a class="" href="/bitcoin-core-dev/2017-01-26">26</a> <a class="current" href="/bitcoin-core-dev/2017-01-27">27</a> <a class="" href="/bitcoin-core-dev/2017-01-28">28</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2017-01-29">29</a> <a class="" href="/bitcoin-core-dev/2017-01-30">30</a> <a class="" href="/bitcoin-core-dev/2017-01-31">31</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1485475980' id='526425'>
<a class='timestamp' href='#526425'><time timestamp='2017-01-27T00:13:00Z'>00:13</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
another question about gitian, why are there signed and unsigned builds for win and osx in <a href="https://github.com/bitcoin-core/gitian.sigs" class="link" target="_blank">https://github.com/bitcoin-core/gitian.sigs</a> ? (according to the guide it seems I should build and sign the unsigned ones)
<br>
</div>

<div class='talk op-msg' data-timestamp='1485475980' id='526426'>
<a class='timestamp' href='#526426'><time timestamp='2017-01-27T00:13:00Z'>00:13</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jtimon: because the signed ones require a key that is not public
<br>
</div>

<div class='talk op-msg' data-timestamp='1485476040' id='526427'>
<a class='timestamp' href='#526427'><time timestamp='2017-01-27T00:14:00Z'>00:14</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
so people can build the unsigned one, compare results, then the person with the key can produce the detached signatures
<br>
</div>

<div class='talk op-msg' data-timestamp='1485476040' id='526428'>
<a class='timestamp' href='#526428'><time timestamp='2017-01-27T00:14:00Z'>00:14</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and then people can build the signed one from the earlier unsigned result plus downloaded detached signature
<br>
</div>

<div class='talk op-msg' data-timestamp='1485476100' id='526429'>
<a class='timestamp' href='#526429'><time timestamp='2017-01-27T00:15:00Z'>00:15</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I am proud to work with people who come up with such slick procedures. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1485476160' id='526430'>
<a class='timestamp' href='#526430'><time timestamp='2017-01-27T00:16:00Z'>00:16</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
why do the signed ones require a key that&#x27;s not public?
<br>
</div>

<div class='talk op-msg' data-timestamp='1485476220' id='526431'>
<a class='timestamp' href='#526431'><time timestamp='2017-01-27T00:17:00Z'>00:17</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
jtimon: signed in this case refers to the windows and apple code signing keys.
<br>
</div>

<div class='talk op-msg' data-timestamp='1485476220' id='526432'>
<a class='timestamp' href='#526432'><time timestamp='2017-01-27T00:17:00Z'>00:17</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
which are used to prevent ugly warning boxes on those OSes.
<br>
</div>

<div class='talk op-msg' data-timestamp='1485476220' id='526433'>
<a class='timestamp' href='#526433'><time timestamp='2017-01-27T00:17:00Z'>00:17</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
to anyone who pays the piper. :P
<br>
</div>

<div class='talk op-msg' data-timestamp='1485476280' id='526434'>
<a class='timestamp' href='#526434'><time timestamp='2017-01-27T00:18:00Z'>00:18</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
ohh, right
<br>
</div>

<div class='talk op-msg' data-timestamp='1485476400' id='526435'>
<a class='timestamp' href='#526435'><time timestamp='2017-01-27T00:20:00Z'>00:20</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
I&#x27;m having problems building osx, I think I did all well, <a href="https://0bin.net/paste/U+Sqgot+Xk0VO-kL#cQl5R4xNHgCBRNxC5IoHZd7aW-dPJKTNO2ghEPVm0rz" class="link" target="_blank">https://0bin.net/paste/U+Sqgot+Xk0VO-kL#cQl5R4xNHgCBRNxC5IoHZd7aW-dPJKTNO2ghEPVm0rz</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1485476460' id='526436'>
<a class='timestamp' href='#526436'><time timestamp='2017-01-27T00:21:00Z'>00:21</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jtimon: you don&#x27;t have the MacOSX SDK
<br>
</div>

<div class='talk op-msg' data-timestamp='1485476460' id='526437'>
<a class='timestamp' href='#526437'><time timestamp='2017-01-27T00:21:00Z'>00:21</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
tar: MacOSX10.11.sdk.tar.gz: Cannot stat: No such file or directory
<br>
</div>

<div class='talk op-msg' data-timestamp='1485476520' id='526438'>
<a class='timestamp' href='#526438'><time timestamp='2017-01-27T00:22:00Z'>00:22</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
oh, I thought it would download it by itself or something, I see
<br>
</div>

<div class='talk op-msg' data-timestamp='1485476520' id='526439'>
<a class='timestamp' href='#526439'><time timestamp='2017-01-27T00:22:00Z'>00:22</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
no, it can&#x27;t, license issues
<br>
</div>

<div class='talk op-msg' data-timestamp='1485476580' id='526440'>
<a class='timestamp' href='#526440'><time timestamp='2017-01-27T00:23:00Z'>00:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
you need to register for an mac developer account, i think
<br>
</div>

<div class='talk op-msg' data-timestamp='1485476580' id='526441'>
<a class='timestamp' href='#526441'><time timestamp='2017-01-27T00:23:00Z'>00:23</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
I see, thanks again
<br>
</div>

<div class='talk op-msg' data-timestamp='1485478440' id='526442'>
<a class='timestamp' href='#526442'><time timestamp='2017-01-27T00:54:00Z'>00:54</time></a>
&lt;<span class='nick nick-10'> michagogo</span>&gt;
Yep     
<br>
</div>

<div class='talk op-msg' data-timestamp='1485478440' id='526443'>
<a class='timestamp' href='#526443'><time timestamp='2017-01-27T00:54:00Z'>00:54</time></a>
&lt;<span class='nick nick-10'> michagogo</span>&gt;
You need to log into developer.apple.com
<br>
</div>

<div class='talk op-msg' data-timestamp='1485478440' id='526444'>
<a class='timestamp' href='#526444'><time timestamp='2017-01-27T00:54:00Z'>00:54</time></a>
&lt;<span class='nick nick-10'> michagogo</span>&gt;
(You don&#x27;t need the $99 membership, a free account is enough)
<br>
</div>

<div class='talk op-msg' data-timestamp='1485478500' id='526445'>
<a class='timestamp' href='#526445'><time timestamp='2017-01-27T00:55:00Z'>00:55</time></a>
&lt;<span class='nick nick-10'> michagogo</span>&gt;
Then you need to download Xcode, and pull out the SDK directory from within that
<br>
</div>

<div class='talk op-msg' data-timestamp='1485478500' id='526446'>
<a class='timestamp' href='#526446'><time timestamp='2017-01-27T00:55:00Z'>00:55</time></a>
&lt;<span class='nick nick-10'> michagogo</span>&gt;
Unfortunately that can only be done (as of the last I heard) on a Mac
<br>
</div>

<div class='talk op-msg' data-timestamp='1485478620' id='526447'>
<a class='timestamp' href='#526447'><time timestamp='2017-01-27T00:57:00Z'>00:57</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
michagogo: I posted some doc to the git repo with non-Mac instructions IIRC
<br>
</div>

<div class='talk op-msg' data-timestamp='1485478680' id='526448'>
<a class='timestamp' href='#526448'><time timestamp='2017-01-27T00:58:00Z'>00:58</time></a>
&lt;<span class='nick nick-10'> michagogo</span>&gt;
Oh, really?
<br>
</div>

<div class='talk op-msg' data-timestamp='1485478680' id='526449'>
<a class='timestamp' href='#526449'><time timestamp='2017-01-27T00:58:00Z'>00:58</time></a>
&lt;<span class='nick nick-12'> * michagogo</span>&gt;
looks
<br>
</div>

<div class='talk op-msg' data-timestamp='1485478680' id='526450'>
<a class='timestamp' href='#526450'><time timestamp='2017-01-27T00:58:00Z'>00:58</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
luke-jr: is it included in the bitcoin repo?
<br>
</div>

<div class='talk op-msg' data-timestamp='1485478680' id='526451'>
<a class='timestamp' href='#526451'><time timestamp='2017-01-27T00:58:00Z'>00:58</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
+core
<br>
</div>

<div class='talk op-msg' data-timestamp='1485478740' id='526452'>
<a class='timestamp' href='#526452'><time timestamp='2017-01-27T00:59:00Z'>00:59</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/blob/master/doc/README_osx.md" class="link" target="_blank">https://github.com/bitcoin/bitcoin/blob/master/doc/README_osx.md</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1485478740' id='526453'>
<a class='timestamp' href='#526453'><time timestamp='2017-01-27T00:59:00Z'>00:59</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
sipa: yes ^
<br>
</div>

<div class='talk op-msg' data-timestamp='1485478740' id='526454'>
<a class='timestamp' href='#526454'><time timestamp='2017-01-27T00:59:00Z'>00:59</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
&quot;Alternatively, you can use 7zip and SleuthKit to extract the files one by one. The script contrib/macdeploy/extract-osx-sdk.sh automates this. First ensure the dmg file is in the current directory, and then run the script. You may wish to delete the intermediate 5.hfs file and MacOSX10.11.sdk (the directory) when you&#x27;ve confirmed the extraction succeeded.&quot; …
<br>
</div>

<div class='talk op-msg' data-timestamp='1485478740' id='526455'>
<a class='timestamp' href='#526455'><time timestamp='2017-01-27T00:59:00Z'>00:59</time></a>
&lt;<span class='nick nick-10'> michagogo</span>&gt;
Ah, yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1485478800' id='526456'>
<a class='timestamp' href='#526456'><time timestamp='2017-01-27T01:00:00Z'>01:00</time></a>
&lt;<span class='nick nick-10'> michagogo</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/blob/master/contrib/macdeploy/extract-osx-sdk.sh" class="link" target="_blank">https://github.com/bitcoin/bitcoin/blob/master/contrib/macdeploy/extract-osx-sdk.sh</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1485478800' id='526457'>
<a class='timestamp' href='#526457'><time timestamp='2017-01-27T01:00:00Z'>01:00</time></a>
&lt;<span class='nick nick-10'> michagogo</span>&gt;
Nice!
<br>
</div>

<div class='talk op-msg' data-timestamp='1485478860' id='526458'>
<a class='timestamp' href='#526458'><time timestamp='2017-01-27T01:01:00Z'>01:01</time></a>
&lt;<span class='nick nick-10'> michagogo</span>&gt;
August?
<br>
</div>

<div class='talk op-msg' data-timestamp='1485478860' id='526459'>
<a class='timestamp' href='#526459'><time timestamp='2017-01-27T01:01:00Z'>01:01</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
luke-jr: ok, thanks
<br>
</div>

<div class='talk op-msg' data-timestamp='1485478860' id='526460'>
<a class='timestamp' href='#526460'><time timestamp='2017-01-27T01:01:00Z'>01:01</time></a>
&lt;<span class='nick nick-10'> michagogo</span>&gt;
Wow, I&#x27;ve been out of the loop for a long time.
<br>
</div>

<div class='talk op-msg' data-timestamp='1485478860' id='526461'>
<a class='timestamp' href='#526461'><time timestamp='2017-01-27T01:01:00Z'>01:01</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
luke-jr: i remember you finding this, but i wasn&#x27;t aware it actually got pred
<br>
</div>

<div class='talk op-msg' data-timestamp='1485479280' id='526462'>
<a class='timestamp' href='#526462'><time timestamp='2017-01-27T01:08:00Z'>01:08</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] luke-jr opened pull request #9642: [Hardfork] Safe block size limit (master...bip-blksize) <a href="https://github.com/bitcoin/bitcoin/pull/9642" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9642</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1485505080' id='526463'>
<a class='timestamp' href='#526463'><time timestamp='2017-01-27T08:18:00Z'>08:18</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] kallewoof opened pull request #9643: [refactor] Remove using namespace &lt;xxx&gt; from wallet/ &amp; util* (master...no-using-namespace-wallet-util) <a href="https://github.com/bitcoin/bitcoin/pull/9643" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9643</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1485508140' id='526464'>
<a class='timestamp' href='#526464'><time timestamp='2017-01-27T09:09:00Z'>09:09</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] kallewoof opened pull request #9644: [refactor] Remove using namespace &lt;xxx&gt; from src/ (master...no-using-namespace-src) <a href="https://github.com/bitcoin/bitcoin/pull/9644" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9644</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1485508980' id='526465'>
<a class='timestamp' href='#526465'><time timestamp='2017-01-27T09:23:00Z'>09:23</time></a>
&lt;<span class='nick nick-14'> Eliel_</span>&gt;
25     
<br>
</div>

<div class='talk op-msg' data-timestamp='1485513240' id='526466'>
<a class='timestamp' href='#526466'><time timestamp='2017-01-27T10:34:00Z'>10:34</time></a>
&lt;<span class='nick nick-10'> rgrant</span>&gt;
can someone point me at the function that backfills local blockchain blocks to include witness data if user upgrades to a segwit full node after segwit activation?
<br>
</div>

<div class='talk op-msg' data-timestamp='1485514380' id='526467'>
<a class='timestamp' href='#526467'><time timestamp='2017-01-27T10:53:00Z'>10:53</time></a>
&lt;<span class='nick nick-10'> rgrant</span>&gt;
it looks like BLOCK_OPT_WITNESS stores some activation data for the block, but it also looks like this is not queried to see if backfill is necessary.  i could also use some help tracking down what happens if a segwit-capable node only finds itself connected to non-segwit nodes while receiving a block.
<br>
</div>

<div class='talk op-msg' data-timestamp='1485523020' id='526468'>
<a class='timestamp' href='#526468'><time timestamp='2017-01-27T13:17:00Z'>13:17</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
rgrant: see RewindBlockIndex, in validation.cpp (assuming you&#x27;re looking at master)
<br>
</div>

<div class='talk op-msg' data-timestamp='1485523620' id='526469'>
<a class='timestamp' href='#526469'><time timestamp='2017-01-27T13:27:00Z'>13:27</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
rgrant: after segwit activates, segwit-capable nodes will only attempt to download blocks from segwit-capable peers (which is why 0.13.1 introduced outbound peering logic that would specifically seek out segwit-capable peers)
<br>
</div>

<div class='talk op-msg' data-timestamp='1485524820' id='526470'>
<a class='timestamp' href='#526470'><time timestamp='2017-01-27T13:47:00Z'>13:47</time></a>
&lt;<span class='nick nick-10'> rgrant</span>&gt;
sdaftuar: thx!  it does use BLOCK_OPT_WITNESS, too.  not sure how i missed that in my search.
<br>
</div>

<div class='talk op-msg' data-timestamp='1485530280' id='526471'>
<a class='timestamp' href='#526471'><time timestamp='2017-01-27T15:18:00Z'>15:18</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/9b4d2673b775...d9e4d1d9fbd9" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/9b4d2673b775...d9e4d1d9fbd9</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1485530280' id='526472'>
<a class='timestamp' href='#526472'><time timestamp='2017-01-27T15:18:00Z'>15:18</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 04b8773 Jonas Schnelli: [Qt] fix transaction details output-index to reflect vout index
<br>
</div>

<div class='talk op-msg' data-timestamp='1485530280' id='526473'>
<a class='timestamp' href='#526473'><time timestamp='2017-01-27T15:18:00Z'>15:18</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master d9e4d1d Wladimir J. van der Laan: Merge #9637: [Qt] fix transaction details output-index to reflect vout index...
<br>
</div>

<div class='talk op-msg' data-timestamp='1485530280' id='526474'>
<a class='timestamp' href='#526474'><time timestamp='2017-01-27T15:18:00Z'>15:18</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj closed pull request #9637: [Qt] fix transaction details output-index to reflect vout index (master...2017/01/qt_vout) <a href="https://github.com/bitcoin/bitcoin/pull/9637" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9637</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1485531180' id='526475'>
<a class='timestamp' href='#526475'><time timestamp='2017-01-27T15:33:00Z'>15:33</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/d9e4d1d9fbd9...a7ea2f8fdbe9" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/d9e4d1d9fbd9...a7ea2f8fdbe9</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1485531180' id='526476'>
<a class='timestamp' href='#526476'><time timestamp='2017-01-27T15:33:00Z'>15:33</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master fab035f MarcoFalke: qa: Actually test assertions in pruning.py...
<br>
</div>

<div class='talk op-msg' data-timestamp='1485531180' id='526477'>
<a class='timestamp' href='#526477'><time timestamp='2017-01-27T15:33:00Z'>15:33</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master a7ea2f8 Wladimir J. van der Laan: Merge #9638: qa: Actually test assertions in pruning.py...
<br>
</div>

<div class='talk op-msg' data-timestamp='1485531180' id='526478'>
<a class='timestamp' href='#526478'><time timestamp='2017-01-27T15:33:00Z'>15:33</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj closed pull request #9638: qa: Actually test assertions in pruning.py (master...Mf1701-qaPruning_try) <a href="https://github.com/bitcoin/bitcoin/pull/9638" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9638</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1485547620' id='526479'>
<a class='timestamp' href='#526479'><time timestamp='2017-01-27T20:07:00Z'>20:07</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
is anyone else working on #9493? (I wish github let us self-assign stuff..)
<br>
</div>

<div class='talk op-msg' data-timestamp='1485547620' id='526480'>
<a class='timestamp' href='#526480'><time timestamp='2017-01-27T20:07:00Z'>20:07</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/9493" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/9493</a> | event_set_mem_functions is not available on all libevents · Issue #9493 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1485548340' id='526481'>
<a class='timestamp' href='#526481'><time timestamp='2017-01-27T20:19:00Z'>20:19</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
luke-jr: looks like not? its either you or cfields probably
<br>
</div>

<div class='talk op-msg' data-timestamp='1485548400' id='526482'>
<a class='timestamp' href='#526482'><time timestamp='2017-01-27T20:20:00Z'>20:20</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
luke-jr: last i looked you had a fix for it?
<br>
</div>

<div class='talk op-msg' data-timestamp='1485548460' id='526483'>
<a class='timestamp' href='#526483'><time timestamp='2017-01-27T20:21:00Z'>20:21</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
yea, i assumed that define was all it took. If there&#x27;s more to it, i&#x27;m happy to take a look
<br>
</div>

<div class='talk op-msg' data-timestamp='1485549120' id='526484'>
<a class='timestamp' href='#526484'><time timestamp='2017-01-27T20:32:00Z'>20:32</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
it&#x27;s probably not difficult, just didn&#x27;t want to step on any toes
<br>
</div>

<div class='talk op-msg' data-timestamp='1485549180' id='526485'>
<a class='timestamp' href='#526485'><time timestamp='2017-01-27T20:33:00Z'>20:33</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
just gotta figure out how to indicate a skipped test I guess
<br>
</div>

<div class='talk op-msg' data-timestamp='1485554820' id='526486'>
<a class='timestamp' href='#526486'><time timestamp='2017-01-27T22:07:00Z'>22:07</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
cfields: what do you want to do about hSocket?
<br>
</div>

<div class='talk op-msg' data-timestamp='1485554880' id='526487'>
<a class='timestamp' href='#526487'><time timestamp='2017-01-27T22:08:00Z'>22:08</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
BlueMatt: races, you mean?
<br>
</div>

<div class='talk op-msg' data-timestamp='1485554880' id='526488'>
<a class='timestamp' href='#526488'><time timestamp='2017-01-27T22:08:00Z'>22:08</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
yes     
<br>
</div>

<div class='talk op-msg' data-timestamp='1485554880' id='526489'>
<a class='timestamp' href='#526489'><time timestamp='2017-01-27T22:08:00Z'>22:08</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
well &quot;races&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1485554880' id='526490'>
<a class='timestamp' href='#526490'><time timestamp='2017-01-27T22:08:00Z'>22:08</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
not that they actually are, but....
<br>
</div>

<div class='talk op-msg' data-timestamp='1485554880' id='526491'>
<a class='timestamp' href='#526491'><time timestamp='2017-01-27T22:08:00Z'>22:08</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
well, concurrent access
<br>
</div>

<div class='talk op-msg' data-timestamp='1485554940' id='526492'>
<a class='timestamp' href='#526492'><time timestamp='2017-01-27T22:09:00Z'>22:09</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
BlueMatt: going forward, it&#x27;ll all be contained to one thread. So again, it&#x27;s just a matter of what we do for 0.14
<br>
</div>

<div class='talk op-msg' data-timestamp='1485554940' id='526493'>
<a class='timestamp' href='#526493'><time timestamp='2017-01-27T22:09:00Z'>22:09</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
it will?
<br>
</div>

<div class='talk op-msg' data-timestamp='1485554940' id='526494'>
<a class='timestamp' href='#526494'><time timestamp='2017-01-27T22:09:00Z'>22:09</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
sec, taking a look. iirc it&#x27;s mostly just disconnection that&#x27;s problematic?
<br>
</div>

<div class='talk op-msg' data-timestamp='1485554940' id='526495'>
<a class='timestamp' href='#526495'><time timestamp='2017-01-27T22:09:00Z'>22:09</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
oh, you mean CloseSocketDisconnect will be? yea, ok
<br>
</div>

<div class='talk op-msg' data-timestamp='1485555000' id='526496'>
<a class='timestamp' href='#526496'><time timestamp='2017-01-27T22:10:00Z'>22:10</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
its entirely only CloseSocketDisconnect thats problematic, iirc
<br>
</div>

<div class='talk op-msg' data-timestamp='1485555060' id='526497'>
<a class='timestamp' href='#526497'><time timestamp='2017-01-27T22:11:00Z'>22:11</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
oh, and optimistic sends
<br>
</div>

<div class='talk op-msg' data-timestamp='1485555180' id='526498'>
<a class='timestamp' href='#526498'><time timestamp='2017-01-27T22:13:00Z'>22:13</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
BlueMatt: with my async refactors, CloseSocketDisconnect always happens on the sockethandler thread, the others just set fDisconnect
<br>
</div>

<div class='talk op-msg' data-timestamp='1485555240' id='526499'>
<a class='timestamp' href='#526499'><time timestamp='2017-01-27T22:14:00Z'>22:14</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
yea, ok, that sounds like what we /should/ do....but what about 0.14?
<br>
</div>

<div class='talk op-msg' data-timestamp='1485555240' id='526500'>
<a class='timestamp' href='#526500'><time timestamp='2017-01-27T22:14:00Z'>22:14</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
i wonder if we could do a simplified version of that for 0.14
<br>
</div>

<div class='talk op-msg' data-timestamp='1485555240' id='526501'>
<a class='timestamp' href='#526501'><time timestamp='2017-01-27T22:14:00Z'>22:14</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
I havent looked, can we do that easily in 14?
<br>
</div>

<div class='talk op-msg' data-timestamp='1485555300' id='526502'>
<a class='timestamp' href='#526502'><time timestamp='2017-01-27T22:15:00Z'>22:15</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
uhmm, just looking at it quickly, it seems so
<br>
</div>

<div class='talk op-msg' data-timestamp='1485555360' id='526503'>
<a class='timestamp' href='#526503'><time timestamp='2017-01-27T22:16:00Z'>22:16</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
if the behavior involved doesn&#x27;t block, add a lock and move on.
<br>
</div>

<div class='talk op-msg' data-timestamp='1485555360' id='526504'>
<a class='timestamp' href='#526504'><time timestamp='2017-01-27T22:16:00Z'>22:16</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
gmaxwell: might as well fix it right, though
<br>
</div>

<div class='talk op-msg' data-timestamp='1485555480' id='526505'>
<a class='timestamp' href='#526505'><time timestamp='2017-01-27T22:18:00Z'>22:18</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
BlueMatt: i think we&#x27;ll still need a lock for the optimistic send :(
<br>
</div>

<div class='talk op-msg' data-timestamp='1485555480' id='526506'>
<a class='timestamp' href='#526506'><time timestamp='2017-01-27T22:18:00Z'>22:18</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
oh valid point, yea, likely
<br>
</div>

<div class='talk op-msg' data-timestamp='1485555540' id='526507'>
<a class='timestamp' href='#526507'><time timestamp='2017-01-27T22:19:00Z'>22:19</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
has anyone ever figured out how much optimistic send saves us?
<br>
</div>

<div class='talk op-msg' data-timestamp='1485555540' id='526508'>
<a class='timestamp' href='#526508'><time timestamp='2017-01-27T22:19:00Z'>22:19</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
like, notifying the other thread and having it do the send is like a few extra syscalls
<br>
</div>

<div class='talk op-msg' data-timestamp='1485555540' id='526509'>
<a class='timestamp' href='#526509'><time timestamp='2017-01-27T22:19:00Z'>22:19</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
so what
<br>
</div>

<div class='talk op-msg' data-timestamp='1485555660' id='526510'>
<a class='timestamp' href='#526510'><time timestamp='2017-01-27T22:21:00Z'>22:21</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
BlueMatt: i think the only downside is you can end up at the tail of the sendqueue for that loop as opposed to sending immediately
<br>
</div>

<div class='talk op-msg' data-timestamp='1485555660' id='526511'>
<a class='timestamp' href='#526511'><time timestamp='2017-01-27T22:21:00Z'>22:21</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
&quot;meh&quot; ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1485555660' id='526512'>
<a class='timestamp' href='#526512'><time timestamp='2017-01-27T22:21:00Z'>22:21</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
but with the locks cleaned up now, i doubt there&#x27;s much consequence there
<br>
</div>

<div class='talk op-msg' data-timestamp='1485555660' id='526513'>
<a class='timestamp' href='#526513'><time timestamp='2017-01-27T22:21:00Z'>22:21</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
oh, true, without the lock cleanups that would&#x27;ve been hell
<br>
</div>

<div class='talk op-msg' data-timestamp='1485555660' id='526514'>
<a class='timestamp' href='#526514'><time timestamp='2017-01-27T22:21:00Z'>22:21</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
BlueMatt: well i think that could&#x27;ve been substantial before, with a long hold on the send lock
<br>
</div>

<div class='talk op-msg' data-timestamp='1485555660' id='526515'>
<a class='timestamp' href='#526515'><time timestamp='2017-01-27T22:21:00Z'>22:21</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
but, alright, lets call that a 0.15 optimization and just add a lock for 0.14?
<br>
</div>

<div class='talk op-msg' data-timestamp='1485555720' id='526516'>
<a class='timestamp' href='#526516'><time timestamp='2017-01-27T22:22:00Z'>22:22</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
BlueMatt: yes, afraid so :(
<br>
</div>

<div class='talk op-msg' data-timestamp='1485555720' id='526517'>
<a class='timestamp' href='#526517'><time timestamp='2017-01-27T22:22:00Z'>22:22</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
ok, well shouldnt be a big deal
<br>
</div>

<div class='talk op-msg' data-timestamp='1485555780' id='526518'>
<a class='timestamp' href='#526518'><time timestamp='2017-01-27T22:23:00Z'>22:23</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
if your send() is blocking, you have bigger problems :p
<br>
</div>

<div class='talk op-msg' data-timestamp='1485555780' id='526519'>
<a class='timestamp' href='#526519'><time timestamp='2017-01-27T22:23:00Z'>22:23</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
heh     
<br>
</div>

<div class='talk op-msg' data-timestamp='1485555780' id='526520'>
<a class='timestamp' href='#526520'><time timestamp='2017-01-27T22:23:00Z'>22:23</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
true i suppose. Scope can basically be limited to send/recv/close, right?
<br>
</div>

<div class='talk op-msg' data-timestamp='1485555840' id='526521'>
<a class='timestamp' href='#526521'><time timestamp='2017-01-27T22:24:00Z'>22:24</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
I&#x27;d hope so?
<br>
</div>

<div class='talk op-msg' data-timestamp='1485555840' id='526522'>
<a class='timestamp' href='#526522'><time timestamp='2017-01-27T22:24:00Z'>22:24</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
I havent looked in a while
<br>
</div>

<div class='talk op-msg' data-timestamp='1485555840' id='526523'>
<a class='timestamp' href='#526523'><time timestamp='2017-01-27T22:24:00Z'>22:24</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
mm, worth looking at select/fd_set&#x27;s safety guarantees
<br>
</div>

<div class='talk op-msg' data-timestamp='1485555900' id='526524'>
<a class='timestamp' href='#526524'><time timestamp='2017-01-27T22:25:00Z'>22:25</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
BlueMatt: heh, hint taken. I&#x27;ll work up a patch for discussion.
<br>
</div>

<div class='talk op-msg' data-timestamp='1485555900' id='526525'>
<a class='timestamp' href='#526525'><time timestamp='2017-01-27T22:25:00Z'>22:25</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
are we close()ing in CloseSocketDisconnect, or just disconnect()?
<br>
</div>

<div class='talk op-msg' data-timestamp='1485555900' id='526526'>
<a class='timestamp' href='#526526'><time timestamp='2017-01-27T22:25:00Z'>22:25</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
sorry, wasnt a hint, just saying
<br>
</div>

<div class='talk op-msg' data-timestamp='1485555960' id='526527'>
<a class='timestamp' href='#526527'><time timestamp='2017-01-27T22:26:00Z'>22:26</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
oh, hum, we are
<br>
</div>

<div class='talk op-msg' data-timestamp='1485555960' id='526528'>
<a class='timestamp' href='#526528'><time timestamp='2017-01-27T22:26:00Z'>22:26</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
yea, that sucks
<br>
</div>

<div class='talk op-msg' data-timestamp='1485555960' id='526529'>
<a class='timestamp' href='#526529'><time timestamp='2017-01-27T22:26:00Z'>22:26</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
close/closesocket
<br>
</div>

<div class='talk op-msg' data-timestamp='1485556080' id='526530'>
<a class='timestamp' href='#526530'><time timestamp='2017-01-27T22:28:00Z'>22:28</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
cfields: ouch, yea, then maybe we do need the full patch now, then
<br>
</div>

<div class='talk op-msg' data-timestamp='1485556080' id='526531'>
<a class='timestamp' href='#526531'><time timestamp='2017-01-27T22:28:00Z'>22:28</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
to avoid calling CloseSocketDisconnect on any thread but ThreadSocketHandler
<br>
</div>

<div class='talk op-msg' data-timestamp='1485556080' id='526532'>
<a class='timestamp' href='#526532'><time timestamp='2017-01-27T22:28:00Z'>22:28</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
hum...orrrr...no, because select will just return and we&#x27;ll still get the lock when we recv or send?
<br>
</div>

<div class='talk op-msg' data-timestamp='1485556080' id='526533'>
<a class='timestamp' href='#526533'><time timestamp='2017-01-27T22:28:00Z'>22:28</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
i mean i guess it should be fine, but might prefer not to?
<br>
</div>

<div class='talk op-msg' data-timestamp='1485556800' id='526534'>
<a class='timestamp' href='#526534'><time timestamp='2017-01-27T22:40:00Z'>22:40</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
BlueMatt: just for the sake of covering all angles... this concurrent access isn&#x27;t new, right? much more likely maybe, but i&#x27;m pretty sure this has always been the case
<br>
</div>

<div class='talk op-msg' data-timestamp='1485556860' id='526535'>
<a class='timestamp' href='#526535'><time timestamp='2017-01-27T22:41:00Z'>22:41</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
yes, I believe this is very, very, very old
<br>
</div>

<div class='talk op-msg' data-timestamp='1485556920' id='526536'>
<a class='timestamp' href='#526536'><time timestamp='2017-01-27T22:42:00Z'>22:42</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
but havent gone back to make sure
<br>
</div>

</div>
</section>

</body>
</html>
