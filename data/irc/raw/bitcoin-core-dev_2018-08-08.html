<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2018-08-08
 — 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2018-08-08' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:21 UTC</pre>
<pre><a href="/bitcoin-core-dev/2018-07-08">&lt;</a><span class='header'>   August 2018    </span><a href="/bitcoin-core-dev/2018-09-08">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;          <a class="" href="/bitcoin-core-dev/2018-08-01">1</a>  <a class="" href="/bitcoin-core-dev/2018-08-02">2</a>  <a class="" href="/bitcoin-core-dev/2018-08-03">3</a>  <a class="" href="/bitcoin-core-dev/2018-08-04">4</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2018-08-05">5</a>  <a class="" href="/bitcoin-core-dev/2018-08-06">6</a>  <a class="" href="/bitcoin-core-dev/2018-08-07">7</a>  <a class="current" href="/bitcoin-core-dev/2018-08-08">8</a>  <a class="" href="/bitcoin-core-dev/2018-08-09">9</a> <a class="" href="/bitcoin-core-dev/2018-08-10">10</a> <a class="" href="/bitcoin-core-dev/2018-08-11">11</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2018-08-12">12</a> <a class="" href="/bitcoin-core-dev/2018-08-13">13</a> <a class="" href="/bitcoin-core-dev/2018-08-14">14</a> <a class="" href="/bitcoin-core-dev/2018-08-15">15</a> <a class="" href="/bitcoin-core-dev/2018-08-16">16</a> <a class="" href="/bitcoin-core-dev/2018-08-17">17</a> <a class="" href="/bitcoin-core-dev/2018-08-18">18</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2018-08-19">19</a> <a class="" href="/bitcoin-core-dev/2018-08-20">20</a> <a class="" href="/bitcoin-core-dev/2018-08-21">21</a> <a class="" href="/bitcoin-core-dev/2018-08-22">22</a> <a class="" href="/bitcoin-core-dev/2018-08-23">23</a> <a class="" href="/bitcoin-core-dev/2018-08-24">24</a> <a class="" href="/bitcoin-core-dev/2018-08-25">25</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2018-08-26">26</a> <a class="" href="/bitcoin-core-dev/2018-08-27">27</a> <a class="" href="/bitcoin-core-dev/2018-08-28">28</a> <a class="" href="/bitcoin-core-dev/2018-08-29">29</a> <a class="" href="/bitcoin-core-dev/2018-08-30">30</a> <a class="" href="/bitcoin-core-dev/2018-08-31">31</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1533713280' id='623923'>
<a class='timestamp' href='#623923'><time timestamp='2018-08-08T07:28:00Z'>07:28</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
what is the best strategy to deserialize a varlen string from a stream with unknown length (burst read)
<br>
</div>

<div class='talk op-msg' data-timestamp='1533713340' id='623924'>
<a class='timestamp' href='#623924'><time timestamp='2018-08-08T07:29:00Z'>07:29</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
NetMessage reads in bytes with unknown length, so it is unknown if the varstring is complete in buffer
<br>
</div>

<div class='talk op-msg' data-timestamp='1533713340' id='623925'>
<a class='timestamp' href='#623925'><time timestamp='2018-08-08T07:29:00Z'>07:29</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I&#x27;d like to figure out if the all bytes for the varlen-string are copied to the buffer
<br>
</div>

<div class='talk op-msg' data-timestamp='1533715080' id='623926'>
<a class='timestamp' href='#623926'><time timestamp='2018-08-08T07:58:00Z'>07:58</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
wumpus 13796 and 13852 (both 0.16) should be able to go in.
<br>
</div>

<div class='talk op-msg' data-timestamp='1533716160' id='623927'>
<a class='timestamp' href='#623927'><time timestamp='2018-08-08T08:16:00Z'>08:16</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
jonasschnelli: I&#x27;m confused--the normal varstring is unknown length isn&#x27;t it?
<br>
</div>

<div class='talk op-msg' data-timestamp='1533716160' id='623928'>
<a class='timestamp' href='#623928'><time timestamp='2018-08-08T08:16:00Z'>08:16</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
fanquake: thanks will take a look
<br>
</div>

<div class='talk op-msg' data-timestamp='1533716220' id='623929'>
<a class='timestamp' href='#623929'><time timestamp='2018-08-08T08:17:00Z'>08:17</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
wumpus: the problem is more complicated. I&#x27;m reading in bytes from a socket and I&#x27;d like to deserialize a varstring,... but need to know how many bytes I need to read from the socket
<br>
</div>

<div class='talk op-msg' data-timestamp='1533716280' id='623930'>
<a class='timestamp' href='#623930'><time timestamp='2018-08-08T08:18:00Z'>08:18</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
So I need to look at the varint part of the varstring to know when I have finished readin the buffer that contains the whole varstring
<br>
</div>

<div class='talk op-msg' data-timestamp='1533716280' id='623931'>
<a class='timestamp' href='#623931'><time timestamp='2018-08-08T08:18:00Z'>08:18</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Since it can be 1 byte to n bytes
<br>
</div>

<div class='talk op-msg' data-timestamp='1533716280' id='623932'>
<a class='timestamp' href='#623932'><time timestamp='2018-08-08T08:18:00Z'>08:18</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
not n but a verstring of 64bit length
<br>
</div>

<div class='talk op-msg' data-timestamp='1533716460' id='623933'>
<a class='timestamp' href='#623933'><time timestamp='2018-08-08T08:21:00Z'>08:21</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
the only way to do that would be to have a fixed-sized header that specifies the length to read, although this is typically DoS-prone especially if the buffer is allocated at once and remote can specify a very large buffer
<br>
</div>

<div class='talk op-msg' data-timestamp='1533716520' id='623934'>
<a class='timestamp' href='#623934'><time timestamp='2018-08-08T08:22:00Z'>08:22</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
wumpus: Yes. But nevermind. I think i&#x27;m creating a non-existing problem
<br>
</div>

<div class='talk op-msg' data-timestamp='1533716520' id='623935'>
<a class='timestamp' href='#623935'><time timestamp='2018-08-08T08:22:00Z'>08:22</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I&#x27;m implementing BIP151 message structures: <a href="https://github.com/bitcoin/bips/blob/master/bip-0151.mediawiki#encrypted-messages-structure" class="link" target="_blank">https://github.com/bitcoin/bips/blob/master/bip-0151.mediawiki#encrypted-messages-structure</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1533716580' id='623936'>
<a class='timestamp' href='#623936'><time timestamp='2018-08-08T08:23:00Z'>08:23</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
And the varstring command made me some problems... But I forgot that the inner message structure is always present at complete length (since it&#x27;s MAC has must been checked beforehand)
<br>
</div>

<div class='talk op-msg' data-timestamp='1533740580' id='623937'>
<a class='timestamp' href='#623937'><time timestamp='2018-08-08T15:03:00Z'>15:03</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
lordcow in #bitcoin reports a compile failure on freebsd: <a href="https://pastebin.com/wBN0YChc" class="link" target="_blank">https://pastebin.com/wBN0YChc</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1533740640' id='623938'>
<a class='timestamp' href='#623938'><time timestamp='2018-08-08T15:04:00Z'>15:04</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
08:02:23 &lt; LordCow&gt; gmaxwell: FreeBSD clang version 3.4.1  (tags/RELEASE_34/dot1-final 208032) 20140512
<br>
</div>

<div class='talk op-msg' data-timestamp='1533741240' id='623939'>
<a class='timestamp' href='#623939'><time timestamp='2018-08-08T15:14:00Z'>15:14</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
hmm let me try
<br>
</div>

<div class='talk op-msg' data-timestamp='1533741300' id='623940'>
<a class='timestamp' href='#623940'><time timestamp='2018-08-08T15:15:00Z'>15:15</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I did a recompile on freebsd yesterday so I&#x27;d be surprised
<br>
</div>

<div class='talk op-msg' data-timestamp='1533741420' id='623941'>
<a class='timestamp' href='#623941'><time timestamp='2018-08-08T15:17:00Z'>15:17</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
of master, though
<br>
</div>

<div class='talk op-msg' data-timestamp='1533741720' id='623942'>
<a class='timestamp' href='#623942'><time timestamp='2018-08-08T15:22:00Z'>15:22</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
anyhow probably best for them to create an issue w/ all the version information
<br>
</div>

<div class='talk op-msg' data-timestamp='1533741780' id='623943'>
<a class='timestamp' href='#623943'><time timestamp='2018-08-08T15:23:00Z'>15:23</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it is possible that #13442 fixes it because it converts the failing inline assembly to intrinsice
<br>
</div>

<div class='talk op-msg' data-timestamp='1533741780' id='623944'>
<a class='timestamp' href='#623944'><time timestamp='2018-08-08T15:23:00Z'>15:23</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/13442" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/13442</a> | Convert the 1-way SSE4 SHA256 code from asm to intrinsics by sipa · Pull Request #13442 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1533752640' id='623945'>
<a class='timestamp' href='#623945'><time timestamp='2018-08-08T18:24:00Z'>18:24</time></a>
&lt;<span class='nick nick-13'> jimpo</span>&gt;
Would love more reviews on #12254
<br>
</div>

<div class='talk op-msg' data-timestamp='1533752640' id='623946'>
<a class='timestamp' href='#623946'><time timestamp='2018-08-08T18:24:00Z'>18:24</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/12254" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/12254</a> | BIP 158: Compact Block Filters for Light Clients by jimpo · Pull Request #12254 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1533752760' id='623947'>
<a class='timestamp' href='#623947'><time timestamp='2018-08-08T18:26:00Z'>18:26</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
jimpo: Will do... almost forgot about it. But I guess its something for 0.18 which means its not pressing
<br>
</div>

<div class='talk op-msg' data-timestamp='1533752820' id='623948'>
<a class='timestamp' href='#623948'><time timestamp='2018-08-08T18:27:00Z'>18:27</time></a>
&lt;<span class='nick nick-13'> jimpo</span>&gt;
thx
<br>
</div>

<div class='talk op-msg' data-timestamp='1533753420' id='623949'>
<a class='timestamp' href='#623949'><time timestamp='2018-08-08T18:37:00Z'>18:37</time></a>
&lt;<span class='nick nick-13'> jimpo</span>&gt;
Not sure about the release schedule, but it&#x27;s blocking further progress on block filter indexing and ultimately BIP 157 P2P support
<br>
</div>

<div class='talk op-msg' data-timestamp='1533753600' id='623950'>
<a class='timestamp' href='#623950'><time timestamp='2018-08-08T18:40:00Z'>18:40</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
jimpo: Yes. Review can always happen,.. a merge though requires spun off of the 0.17 branch (since we are in feature-freeze currently)
<br>
</div>

<div class='talk op-msg' data-timestamp='1533753600' id='623951'>
<a class='timestamp' href='#623951'><time timestamp='2018-08-08T18:40:00Z'>18:40</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
But we all want to see progress on BIP157...
<br>
</div>

<div class='talk op-msg' data-timestamp='1533765720' id='623952'>
<a class='timestamp' href='#623952'><time timestamp='2018-08-08T22:02:00Z'>22:02</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
MarcoFalke: sipa: is anyone running 13907 on a listening node?  I need feedback on if I&#x27;m going to have to increase the limit to 100 or not.
<br>
</div>

<div class='talk op-msg' data-timestamp='1533766020' id='623953'>
<a class='timestamp' href='#623953'><time timestamp='2018-08-08T22:07:00Z'>22:07</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
will run
<br>
</div>

<div class='talk op-msg' data-timestamp='1533766080' id='623954'>
<a class='timestamp' href='#623954'><time timestamp='2018-08-08T22:08:00Z'>22:08</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(i just don&#x27;t want to bother updating it to pull the tests without knowing what threshold we&#x27;re going to use)
<br>
</div>

<div class='talk op-msg' data-timestamp='1533766620' id='623955'>
<a class='timestamp' href='#623955'><time timestamp='2018-08-08T22:17:00Z'>22:17</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
running
<br>
</div>

<div class='talk op-msg' data-timestamp='1533767160' id='623956'>
<a class='timestamp' href='#623956'><time timestamp='2018-08-08T22:26:00Z'>22:26</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sipa: thanks
<br>
</div>

<div class='talk op-msg' data-timestamp='1533767160' id='623957'>
<a class='timestamp' href='#623957'><time timestamp='2018-08-08T22:26:00Z'>22:26</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sipa: grep log for &quot;locator&quot; after a bit
<br>
</div>

</div>
</section>

</body>
</html>
