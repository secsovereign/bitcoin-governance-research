<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2020-09-10
 — 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2020-09-10' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:17 UTC</pre>
<pre><a href="/bitcoin-core-dev/2020-08-10">&lt;</a><span class='header'>  September 2020  </span><a href="/bitcoin-core-dev/2020-10-10">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;       <a class="" href="/bitcoin-core-dev/2020-09-01">1</a>  <a class="" href="/bitcoin-core-dev/2020-09-02">2</a>  <a class="" href="/bitcoin-core-dev/2020-09-03">3</a>  <a class="" href="/bitcoin-core-dev/2020-09-04">4</a>  <a class="" href="/bitcoin-core-dev/2020-09-05">5</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2020-09-06">6</a>  <a class="" href="/bitcoin-core-dev/2020-09-07">7</a>  <a class="" href="/bitcoin-core-dev/2020-09-08">8</a>  <a class="" href="/bitcoin-core-dev/2020-09-09">9</a> <a class="current" href="/bitcoin-core-dev/2020-09-10">10</a> <a class="" href="/bitcoin-core-dev/2020-09-11">11</a> <a class="" href="/bitcoin-core-dev/2020-09-12">12</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2020-09-13">13</a> <a class="" href="/bitcoin-core-dev/2020-09-14">14</a> <a class="" href="/bitcoin-core-dev/2020-09-15">15</a> <a class="" href="/bitcoin-core-dev/2020-09-16">16</a> <a class="" href="/bitcoin-core-dev/2020-09-17">17</a> <a class="" href="/bitcoin-core-dev/2020-09-18">18</a> <a class="" href="/bitcoin-core-dev/2020-09-19">19</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2020-09-20">20</a> <a class="" href="/bitcoin-core-dev/2020-09-21">21</a> <a class="" href="/bitcoin-core-dev/2020-09-22">22</a> <a class="" href="/bitcoin-core-dev/2020-09-23">23</a> <a class="" href="/bitcoin-core-dev/2020-09-24">24</a> <a class="" href="/bitcoin-core-dev/2020-09-25">25</a> <a class="" href="/bitcoin-core-dev/2020-09-26">26</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2020-09-27">27</a> <a class="" href="/bitcoin-core-dev/2020-09-28">28</a> <a class="" href="/bitcoin-core-dev/2020-09-29">29</a> <a class="" href="/bitcoin-core-dev/2020-09-30">30</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1599712080' id='403163'>
<a class='timestamp' href='#403163'><time timestamp='2020-09-10T04:28:00Z'>04:28</time></a>
&lt;<span class='nick nick-11'> kallewoof</span>&gt;
Signet review beg -- no more changes planned, probably RFM: <a href="https://github.com/bitcoin/bitcoin/pull/18267" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/18267</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1599712740' id='403164'>
<a class='timestamp' href='#403164'><time timestamp='2020-09-10T04:39:00Z'>04:39</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
sipa, 563,289,128
<br>
</div>

<div class='talk op-msg' data-timestamp='1599712800' id='403165'>
<a class='timestamp' href='#403165'><time timestamp='2020-09-10T04:40:00Z'>04:40</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
phantomcircuit: that&#x27;s unpossible
<br>
</div>

<div class='talk op-msg' data-timestamp='1599712800' id='403166'>
<a class='timestamp' href='#403166'><time timestamp='2020-09-10T04:40:00Z'>04:40</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
txouts?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599712800' id='403167'>
<a class='timestamp' href='#403167'><time timestamp='2020-09-10T04:40:00Z'>04:40</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
wait did i count transactions
<br>
</div>

<div class='talk op-msg' data-timestamp='1599712860' id='403168'>
<a class='timestamp' href='#403168'><time timestamp='2020-09-10T04:41:00Z'>04:41</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i count 566823026 transactions
<br>
</div>

<div class='talk op-msg' data-timestamp='1599712860' id='403169'>
<a class='timestamp' href='#403169'><time timestamp='2020-09-10T04:41:00Z'>04:41</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
damn it
<br>
</div>

<div class='talk op-msg' data-timestamp='1599712920' id='403170'>
<a class='timestamp' href='#403170'><time timestamp='2020-09-10T04:42:00Z'>04:42</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
sipa, yeha i counted short at 99.4% done
<br>
</div>

<div class='talk op-msg' data-timestamp='1599712920' id='403171'>
<a class='timestamp' href='#403171'><time timestamp='2020-09-10T04:42:00Z'>04:42</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
lets try that again
<br>
</div>

<div class='talk op-msg' data-timestamp='1599713460' id='403172'>
<a class='timestamp' href='#403172'><time timestamp='2020-09-10T04:51:00Z'>04:51</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
2020-09-10T04:49:27Z FlushStateToDisk: write coins cache to disk (72011604 coins, 9823747kB) started
<br>
</div>

<div class='talk op-msg' data-timestamp='1599713460' id='403173'>
<a class='timestamp' href='#403173'><time timestamp='2020-09-10T04:51:00Z'>04:51</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
ok lets try that in 10-20 minutes
<br>
</div>

<div class='talk op-msg' data-timestamp='1599713820' id='403174'>
<a class='timestamp' href='#403174'><time timestamp='2020-09-10T04:57:00Z'>04:57</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
only took 411.70s
<br>
</div>

<div class='talk op-msg' data-timestamp='1599714060' id='403175'>
<a class='timestamp' href='#403175'><time timestamp='2020-09-10T05:01:00Z'>05:01</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i hope my numbers are accurated, i have a script that maintains a database with some per-block statistics
<br>
</div>

<div class='talk op-msg' data-timestamp='1599714120' id='403176'>
<a class='timestamp' href='#403176'><time timestamp='2020-09-10T05:02:00Z'>05:02</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
so i just added all the numbers in it
<br>
</div>

<div class='talk op-msg' data-timestamp='1599715740' id='403177'>
<a class='timestamp' href='#403177'><time timestamp='2020-09-10T05:29:00Z'>05:29</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
sipa, 1,506,642,276
<br>
</div>

<div class='talk op-msg' data-timestamp='1599715920' id='403178'>
<a class='timestamp' href='#403178'><time timestamp='2020-09-10T05:32:00Z'>05:32</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that&#x27;s more like it
<br>
</div>

<div class='talk op-msg' data-timestamp='1599716280' id='403179'>
<a class='timestamp' href='#403179'><time timestamp='2020-09-10T05:38:00Z'>05:38</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
sipa, yeah so this guy has no hope <a href="https://github.com/bitcoin/bitcoin/issues/19921" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/19921</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1599716340' id='403180'>
<a class='timestamp' href='#403180'><time timestamp='2020-09-10T05:39:00Z'>05:39</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
phantomcircuit: it&#x27;s not O(m*n)
<br>
</div>

<div class='talk op-msg' data-timestamp='1599716400' id='403181'>
<a class='timestamp' href='#403181'><time timestamp='2020-09-10T05:40:00Z'>05:40</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
IsMine is O(log n) in the number of keys you have, i think
<br>
</div>

<div class='talk op-msg' data-timestamp='1599716580' id='403182'>
<a class='timestamp' href='#403182'><time timestamp='2020-09-10T05:43:00Z'>05:43</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
sipa, there&#x27;s a mapWallet.count, IsMine, IsFromMe, all of which will run if the transaction doesn&#x27;t involve your wallet
<br>
</div>

<div class='talk op-msg' data-timestamp='1599716640' id='403183'>
<a class='timestamp' href='#403183'><time timestamp='2020-09-10T05:44:00Z'>05:44</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
phantomcircuit: yes, but they run once per transaction, not per transactions*keycount
<br>
</div>

<div class='talk op-msg' data-timestamp='1599716700' id='403184'>
<a class='timestamp' href='#403184'><time timestamp='2020-09-10T05:45:00Z'>05:45</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
only the lookups in the keystore have a time that scales with the number of keys, but it&#x27;s not linear
<br>
</div>

<div class='talk op-msg' data-timestamp='1599717060' id='403185'>
<a class='timestamp' href='#403185'><time timestamp='2020-09-10T05:51:00Z'>05:51</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
sipa, right so it&#x27;s O(m log n) for m transactions and n keys
<br>
</div>

<div class='talk op-msg' data-timestamp='1599717120' id='403186'>
<a class='timestamp' href='#403186'><time timestamp='2020-09-10T05:52:00Z'>05:52</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
or something close to that
<br>
</div>

<div class='talk op-msg' data-timestamp='1599717120' id='403187'>
<a class='timestamp' href='#403187'><time timestamp='2020-09-10T05:52:00Z'>05:52</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
transaction outputs not transactions
<br>
</div>

<div class='talk op-msg' data-timestamp='1599717240' id='403188'>
<a class='timestamp' href='#403188'><time timestamp='2020-09-10T05:54:00Z'>05:54</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1599717240' id='403189'>
<a class='timestamp' href='#403189'><time timestamp='2020-09-10T05:54:00Z'>05:54</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
O(outputs+inputs)
<br>
</div>

<div class='talk op-msg' data-timestamp='1599717240' id='403190'>
<a class='timestamp' href='#403190'><time timestamp='2020-09-10T05:54:00Z'>05:54</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
O((outputs+inputs)*log(keys))
<br>
</div>

<div class='talk op-msg' data-timestamp='1599718140' id='403191'>
<a class='timestamp' href='#403191'><time timestamp='2020-09-10T06:09:00Z'>06:09</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
it&#x27;ll just take a long time
<br>
</div>

<div class='talk op-msg' data-timestamp='1599718200' id='403192'>
<a class='timestamp' href='#403192'><time timestamp='2020-09-10T06:10:00Z'>06:10</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
probably a bit faster if mapKeys was unordered map instead of map
<br>
</div>

<div class='talk op-msg' data-timestamp='1599718260' id='403193'>
<a class='timestamp' href='#403193'><time timestamp='2020-09-10T06:11:00Z'>06:11</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yeah
<br>
</div>

<div class='talk op-msg' data-timestamp='1599718320' id='403194'>
<a class='timestamp' href='#403194'><time timestamp='2020-09-10T06:12:00Z'>06:12</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and way faster if it was a map of scriptPubKeys ;)
<br>
</div>

<div class='talk op-msg' data-timestamp='1599718320' id='403195'>
<a class='timestamp' href='#403195'><time timestamp='2020-09-10T06:12:00Z'>06:12</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
I suppose he could try #16910
<br>
</div>

<div class='talk op-msg' data-timestamp='1599718320' id='403196'>
<a class='timestamp' href='#403196'><time timestamp='2020-09-10T06:12:00Z'>06:12</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/16910" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/16910</a> | wallet: reduce loading time by using unordered maps by achow101 · Pull Request #16910 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1599718320' id='403197'>
<a class='timestamp' href='#403197'><time timestamp='2020-09-10T06:12:00Z'>06:12</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
changes a bunch of things to unordered_map/unordered_set
<br>
</div>

<div class='talk op-msg' data-timestamp='1599721800' id='403198'>
<a class='timestamp' href='#403198'><time timestamp='2020-09-10T07:10:00Z'>07:10</time></a>
&lt;<span class='nick nick-14'> hebasto</span>&gt;
who is interested in today&#x27;s meeting topic suggested by jnewbery mind considering the overview gist <a href="https://gist.github.com/hebasto/072ad3a9370641b035a36d08607a3d34" class="link" target="_blank">https://gist.github.com/hebasto/072ad3a9370641b035a36d08607a3d34</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1599723060' id='403199'>
<a class='timestamp' href='#403199'><time timestamp='2020-09-10T07:31:00Z'>07:31</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] sipa opened pull request #19931: Change CSipHasher&#x27;s count variable to uint8_t (master...202009_siphash_sillyness) <a href="https://github.com/bitcoin/bitcoin/pull/19931" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19931</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1599726780' id='403200'>
<a class='timestamp' href='#403200'><time timestamp='2020-09-10T08:33:00Z'>08:33</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] hebasto closed pull request #19926: gui: Add Tor icon (master...200909-tor) <a href="https://github.com/bitcoin/bitcoin/pull/19926" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19926</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1599734460' id='403201'>
<a class='timestamp' href='#403201'><time timestamp='2020-09-10T10:41:00Z'>10:41</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
#proposedmeetingtopic review the experience of 3 month bitcoin-core/gui repository
<br>
</div>

<div class='talk op-msg' data-timestamp='1599748200' id='403202'>
<a class='timestamp' href='#403202'><time timestamp='2020-09-10T14:30:00Z'>14:30</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] Saibato opened pull request #19933: wallet: bugfix; if datadir has a trailing &#x27;/&#x27;  listwalletdir would strip lead char of walletname (master...wallet-fix-missing-chars-boost-1.47) <a href="https://github.com/bitcoin/bitcoin/pull/19933" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19933</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1599748680' id='403203'>
<a class='timestamp' href='#403203'><time timestamp='2020-09-10T14:38:00Z'>14:38</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 4 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/564e1ab0f3dc...a47e5964861d" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/564e1ab0f3dc...a47e5964861d</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1599748680' id='403204'>
<a class='timestamp' href='#403204'><time timestamp='2020-09-10T14:38:00Z'>14:38</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 2ac8bf9 Pieter Wuille: Implement keccak-f[1600] and SHA3-256
<br>
</div>

<div class='talk op-msg' data-timestamp='1599748680' id='403205'>
<a class='timestamp' href='#403205'><time timestamp='2020-09-10T14:38:00Z'>14:38</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 3f01ddb Pieter Wuille: Add SHA3 benchmark
<br>
</div>

<div class='talk op-msg' data-timestamp='1599748680' id='403206'>
<a class='timestamp' href='#403206'><time timestamp='2020-09-10T14:38:00Z'>14:38</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master ab654c7 Pieter Wuille: Unroll Keccak-f implementation
<br>
</div>

<div class='talk op-msg' data-timestamp='1599748740' id='403207'>
<a class='timestamp' href='#403207'><time timestamp='2020-09-10T14:39:00Z'>14:39</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj merged pull request #19841: Implement Keccak and SHA3_256 (master...202008_sha3) <a href="https://github.com/bitcoin/bitcoin/pull/19841" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19841</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1599749820' id='403208'>
<a class='timestamp' href='#403208'><time timestamp='2020-09-10T14:57:00Z'>14:57</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] practicalswift opened pull request #19934: tests: Add fuzzing harness for Keccak and SHA3_256 (master...fuzzers-keccak-and-sha3_256) <a href="https://github.com/bitcoin/bitcoin/pull/19934" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19934</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1599751980' id='403209'>
<a class='timestamp' href='#403209'><time timestamp='2020-09-10T15:33:00Z'>15:33</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] achow101 opened pull request #19935: Move SaltedHashers to separate file and add some new ones (master...mv-saltedhash) <a href="https://github.com/bitcoin/bitcoin/pull/19935" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19935</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1599757980' id='403210'>
<a class='timestamp' href='#403210'><time timestamp='2020-09-10T17:13:00Z'>17:13</time></a>
&lt;<span class='nick nick-13'> robertnnms</span>&gt;
Hi,I need to do advanced testing on testnet, but I would need between 10-15 BTC, could someone send me to the following address: tb1qs25dr4e8k29rwclxvnxedfdtprh5e89jtp5wleMany thanks
<br>
</div>

<div class='talk op-msg' data-timestamp='1599758040' id='403211'>
<a class='timestamp' href='#403211'><time timestamp='2020-09-10T17:14:00Z'>17:14</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
Anyone know what the `UnloadBlockIndex` call here does in the context of initialization? <a href="https://github.com/bitcoin/bitcoin/blob/master/src/init.cpp#L1562" class="link" target="_blank">https://github.com/bitcoin/bitcoin/blob/master/src/init.cpp#L1562</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1599758040' id='403212'>
<a class='timestamp' href='#403212'><time timestamp='2020-09-10T17:14:00Z'>17:14</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
First introduced in: <a href="https://github.com/bitcoin/bitcoin/commit/f7f3a96b74bb795d6e184a628adce21c744d234f#diff-c865a8939105e6350a50af02766291b7R805" class="link" target="_blank">https://github.com/bitcoin/bitcoin/commit/f7f3a96b74bb795d6e184a628adce21c744d234f#diff-c865a8939105e6350a50af02766291b7R805</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1599760920' id='403213'>
<a class='timestamp' href='#403213'><time timestamp='2020-09-10T18:02:00Z'>18:02</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
dongcarl: it&#x27;s in a retry loop, I think it&#x27;s there in case a previous block index load only succeeds partially?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599760980' id='403214'>
<a class='timestamp' href='#403214'><time timestamp='2020-09-10T18:03:00Z'>18:03</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yep
<br>
</div>

<div class='talk op-msg' data-timestamp='1599761100' id='403215'>
<a class='timestamp' href='#403215'><time timestamp='2020-09-10T18:05:00Z'>18:05</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
I see, that makes sense...
<br>
</div>

<div class='talk op-msg' data-timestamp='1599761400' id='403216'>
<a class='timestamp' href='#403216'><time timestamp='2020-09-10T18:10:00Z'>18:10</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
achow101, the only real solution for rescanning with a huge number of keys is to use the block filter indexes
<br>
</div>

<div class='talk op-msg' data-timestamp='1599761400' id='403217'>
<a class='timestamp' href='#403217'><time timestamp='2020-09-10T18:10:00Z'>18:10</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
it takes absolutely ages otherwise
<br>
</div>

<div class='talk op-msg' data-timestamp='1599762180' id='403218'>
<a class='timestamp' href='#403218'><time timestamp='2020-09-10T18:23:00Z'>18:23</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
sipa, lol he closed the issue, what a child
<br>
</div>

<div class='talk op-msg' data-timestamp='1599762180' id='403219'>
<a class='timestamp' href='#403219'><time timestamp='2020-09-10T18:23:00Z'>18:23</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
still wondering how he ended up with 150m keys
<br>
</div>

<div class='talk op-msg' data-timestamp='1599762240' id='403220'>
<a class='timestamp' href='#403220'><time timestamp='2020-09-10T18:24:00Z'>18:24</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i assume he generated them using a dictionary
<br>
</div>

<div class='talk op-msg' data-timestamp='1599762600' id='403221'>
<a class='timestamp' href='#403221'><time timestamp='2020-09-10T18:30:00Z'>18:30</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
a cracker!
<br>
</div>

<div class='talk op-msg' data-timestamp='1599762660' id='403222'>
<a class='timestamp' href='#403222'><time timestamp='2020-09-10T18:31:00Z'>18:31</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Why he is not using a full indexer like electrs or so is unclear to me.
<br>
</div>

<div class='talk op-msg' data-timestamp='1599762660' id='403223'>
<a class='timestamp' href='#403223'><time timestamp='2020-09-10T18:31:00Z'>18:31</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
if it&#x27;s a criminal even more reason to not give them ideas
<br>
</div>

<div class='talk op-msg' data-timestamp='1599762720' id='403224'>
<a class='timestamp' href='#403224'><time timestamp='2020-09-10T18:32:00Z'>18:32</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
maybe he lost some of his mnemonic words...
<br>
</div>

<div class='talk op-msg' data-timestamp='1599762780' id='403225'>
<a class='timestamp' href='#403225'><time timestamp='2020-09-10T18:33:00Z'>18:33</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
also... i would rather scan agains the UTXO set in that case (and not against all blocks)
<br>
</div>

<div class='talk op-msg' data-timestamp='1599762780' id='403226'>
<a class='timestamp' href='#403226'><time timestamp='2020-09-10T18:33:00Z'>18:33</time></a>
&lt;<span class='nick nick-6'> yanmaani</span>&gt;
It&#x27;s not a very competent attack that&#x27;s for suer
<br>
</div>

<div class='talk op-msg' data-timestamp='1599764400' id='403227'>
<a class='timestamp' href='#403227'><time timestamp='2020-09-10T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
#startmeeting
<br>
</div>

<div class='talk op-msg' data-timestamp='1599764400' id='403228'>
<a class='timestamp' href='#403228'><time timestamp='2020-09-10T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Meeting started Thu Sep 10 19:00:25 2020 UTC.  The chair is wumpus. Information about MeetBot at <a href="http://wiki.debian.org/MeetBot" class="link" target="_blank">http://wiki.debian.org/MeetBot</a>.
<br>
</div>

<div class='talk op-msg' data-timestamp='1599764400' id='403229'>
<a class='timestamp' href='#403229'><time timestamp='2020-09-10T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Useful Commands: #action #agreed #help #info #idea #link #topic.
<br>
</div>

<div class='talk op-msg' data-timestamp='1599764400' id='403230'>
<a class='timestamp' href='#403230'><time timestamp='2020-09-10T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-4'> kanzure</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1599764400' id='403231'>
<a class='timestamp' href='#403231'><time timestamp='2020-09-10T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1599764400' id='403232'>
<a class='timestamp' href='#403232'><time timestamp='2020-09-10T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1599764400' id='403233'>
<a class='timestamp' href='#403233'><time timestamp='2020-09-10T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-14'> hebasto</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1599764400' id='403234'>
<a class='timestamp' href='#403234'><time timestamp='2020-09-10T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-8'> fjahr</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1599764400' id='403235'>
<a class='timestamp' href='#403235'><time timestamp='2020-09-10T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
#bitcoin-core-dev Meeting: wumpus sipa gmaxwell jonasschnelli morcos luke-jr sdaftuar jtimon cfields petertodd kanzure bluematt instagibbs phantomcircuit codeshark michagogo marcofalke paveljanik NicolasDorier jl2012 achow101 meshcollider jnewbery maaku fanquake promag provoostenator aj Chris_Stewart_5 dongcarl gwillen jamesob ken281221 ryanofsky gleb moneyball kvaciral ariard digi_james
<br>
</div>

<div class='talk op-msg' data-timestamp='1599764400' id='403236'>
<a class='timestamp' href='#403236'><time timestamp='2020-09-10T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
amiti fjahr jeremyrubin lightlike emilengler jonatack hebasto jb55 elichai2
<br>
</div>

<div class='talk op-msg' data-timestamp='1599764460' id='403237'>
<a class='timestamp' href='#403237'><time timestamp='2020-09-10T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
two proposed meeting topics for today
<br>
</div>

<div class='talk op-msg' data-timestamp='1599764460' id='403238'>
<a class='timestamp' href='#403238'><time timestamp='2020-09-10T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1599764460' id='403239'>
<a class='timestamp' href='#403239'><time timestamp='2020-09-10T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
strategies for removing recursive locking in the mempool (jnewbery), review the experience of 3 month bitcoin-core/gui repository (jonasschnelli)
<br>
</div>

<div class='talk op-msg' data-timestamp='1599764460' id='403240'>
<a class='timestamp' href='#403240'><time timestamp='2020-09-10T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-3'> meshcollider</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1599764460' id='403241'>
<a class='timestamp' href='#403241'><time timestamp='2020-09-10T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
any last minute topic proposals?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599764460' id='403242'>
<a class='timestamp' href='#403242'><time timestamp='2020-09-10T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-14'> jonatack</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1599764520' id='403243'>
<a class='timestamp' href='#403243'><time timestamp='2020-09-10T19:02:00Z'>19:02</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
#topic High priority for review
<br>
</div>

<div class='talk op-msg' data-timestamp='1599764580' id='403244'>
<a class='timestamp' href='#403244'><time timestamp='2020-09-10T19:03:00Z'>19:03</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/projects/8" class="link" target="_blank">https://github.com/bitcoin/bitcoin/projects/8</a>  11 blockers, 1 bugfix, 2 chasins concept ACK 
<br>
</div>

<div class='talk op-msg' data-timestamp='1599764580' id='403245'>
<a class='timestamp' href='#403245'><time timestamp='2020-09-10T19:03:00Z'>19:03</time></a>
&lt;<span class='nick nick-14'> jonatack</span>&gt;
#19845?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599764580' id='403246'>
<a class='timestamp' href='#403246'><time timestamp='2020-09-10T19:03:00Z'>19:03</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/19845" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/19845</a> | net: CNetAddr: add support to (un)serialize as ADDRv2 by vasild · Pull Request #19845 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1599764640' id='403247'>
<a class='timestamp' href='#403247'><time timestamp='2020-09-10T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-3'> meshcollider</span>&gt;
Actually 10 now :) one was merged and hadn&#x27;t been removed
<br>
</div>

<div class='talk op-msg' data-timestamp='1599764640' id='403248'>
<a class='timestamp' href='#403248'><time timestamp='2020-09-10T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1599764640' id='403249'>
<a class='timestamp' href='#403249'><time timestamp='2020-09-10T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
jonatack: added
<br>
</div>

<div class='talk op-msg' data-timestamp='1599764700' id='403250'>
<a class='timestamp' href='#403250'><time timestamp='2020-09-10T19:05:00Z'>19:05</time></a>
&lt;<span class='nick nick-3'> meshcollider</span>&gt;
 #16378 pls
<br>
</div>

<div class='talk op-msg' data-timestamp='1599764700' id='403251'>
<a class='timestamp' href='#403251'><time timestamp='2020-09-10T19:05:00Z'>19:05</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/16378" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/16378</a> | The ultimate send RPC by Sjors · Pull Request #16378 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1599764700' id='403252'>
<a class='timestamp' href='#403252'><time timestamp='2020-09-10T19:05:00Z'>19:05</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
#19077 please
<br>
</div>

<div class='talk op-msg' data-timestamp='1599764760' id='403253'>
<a class='timestamp' href='#403253'><time timestamp='2020-09-10T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/19077" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/19077</a> | wallet: Add sqlite as an alternative wallet database and use it for new descriptor wallets by achow101 · Pull Request #19077 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1599764760' id='403254'>
<a class='timestamp' href='#403254'><time timestamp='2020-09-10T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
#19033 for hp, ty
<br>
</div>

<div class='talk op-msg' data-timestamp='1599764760' id='403255'>
<a class='timestamp' href='#403255'><time timestamp='2020-09-10T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/19033" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/19033</a> | http: Release work queue after event base finish by promag · Pull Request #19033 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1599764760' id='403256'>
<a class='timestamp' href='#403256'><time timestamp='2020-09-10T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1599764760' id='403257'>
<a class='timestamp' href='#403257'><time timestamp='2020-09-10T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-14'> * luke-jr</span>&gt;
pokes gribble
<br>
</div>

<div class='talk op-msg' data-timestamp='1599764820' id='403258'>
<a class='timestamp' href='#403258'><time timestamp='2020-09-10T19:07:00Z'>19:07</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
meshcollider, achow101  added
<br>
</div>

<div class='talk op-msg' data-timestamp='1599764820' id='403259'>
<a class='timestamp' href='#403259'><time timestamp='2020-09-10T19:07:00Z'>19:07</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
promag: already on there, right?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599764880' id='403260'>
<a class='timestamp' href='#403260'><time timestamp='2020-09-10T19:08:00Z'>19:08</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
i think so
<br>
</div>

<div class='talk op-msg' data-timestamp='1599764880' id='403261'>
<a class='timestamp' href='#403261'><time timestamp='2020-09-10T19:08:00Z'>19:08</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
indeed, I guess I have to name it &quot;http: blocklist work queue...&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1599764940' id='403262'>
<a class='timestamp' href='#403262'><time timestamp='2020-09-10T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
unless someone else just added it, but I vaguely remember it was already there
<br>
</div>

<div class='talk op-msg' data-timestamp='1599764940' id='403263'>
<a class='timestamp' href='#403263'><time timestamp='2020-09-10T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
#topic Strategies for removing recursive locking in the mempool (jnewbery)
<br>
</div>

<div class='talk op-msg' data-timestamp='1599764940' id='403264'>
<a class='timestamp' href='#403264'><time timestamp='2020-09-10T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
(<a href="https://github.com/bitcoin/bitcoin/pull/19872#issuecomment-688852261" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19872#issuecomment-688852261</a>)
<br>
</div>

<div class='talk op-msg' data-timestamp='1599764940' id='403265'>
<a class='timestamp' href='#403265'><time timestamp='2020-09-10T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
Thanks wumpus
<br>
</div>

<div class='talk op-msg' data-timestamp='1599765000' id='403266'>
<a class='timestamp' href='#403266'><time timestamp='2020-09-10T19:10:00Z'>19:10</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
gist here: <a href="https://gist.github.com/hebasto/072ad3a9370641b035a36d08607a3d34" class="link" target="_blank">https://gist.github.com/hebasto/072ad3a9370641b035a36d08607a3d34</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1599765000' id='403267'>
<a class='timestamp' href='#403267'><time timestamp='2020-09-10T19:10:00Z'>19:10</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
summary: RecusiveMutex is generally considered bad, and avoided if possible. It&#x27;d be nice to change the mempool&#x27;s mutex from recursive to non-recursive
<br>
</div>

<div class='talk op-msg' data-timestamp='1599765060' id='403268'>
<a class='timestamp' href='#403268'><time timestamp='2020-09-10T19:11:00Z'>19:11</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I think getting rid of the recursive locks is good, though, it seems changes are becoming increasingly risky
<br>
</div>

<div class='talk op-msg' data-timestamp='1599765060' id='403269'>
<a class='timestamp' href='#403269'><time timestamp='2020-09-10T19:11:00Z'>19:11</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
and involved
<br>
</div>

<div class='talk op-msg' data-timestamp='1599765060' id='403270'>
<a class='timestamp' href='#403270'><time timestamp='2020-09-10T19:11:00Z'>19:11</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
There are different ways to do this, and hebasto would like some input on which way is preferred
<br>
</div>

<div class='talk op-msg' data-timestamp='1599765060' id='403271'>
<a class='timestamp' href='#403271'><time timestamp='2020-09-10T19:11:00Z'>19:11</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
we had all the low-hanging fruit I guess
<br>
</div>

<div class='talk op-msg' data-timestamp='1599765120' id='403272'>
<a class='timestamp' href='#403272'><time timestamp='2020-09-10T19:12:00Z'>19:12</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
wumpus: i don&#x27;t think so. I think there&#x27;s a lot more low-hanging fruit (although cs_mempool isn&#x27;t very low hanging)
<br>
</div>

<div class='talk op-msg' data-timestamp='1599765120' id='403273'>
<a class='timestamp' href='#403273'><time timestamp='2020-09-10T19:12:00Z'>19:12</time></a>
&lt;<span class='nick nick-14'> hebasto</span>&gt;
tracking issue for all recursive mutexes #19303
<br>
</div>

<div class='talk op-msg' data-timestamp='1599765120' id='403274'>
<a class='timestamp' href='#403274'><time timestamp='2020-09-10T19:12:00Z'>19:12</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/19303" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/19303</a> | Replace all of the RecursiveMutex instances with the Mutex ones · Issue #19303 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1599765120' id='403275'>
<a class='timestamp' href='#403275'><time timestamp='2020-09-10T19:12:00Z'>19:12</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
Probably makes more sense to have the locking external to the functions 
<br>
</div>

<div class='talk op-msg' data-timestamp='1599765120' id='403276'>
<a class='timestamp' href='#403276'><time timestamp='2020-09-10T19:12:00Z'>19:12</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
More general to e.g., calling a function in a for loop
<br>
</div>

<div class='talk op-msg' data-timestamp='1599765180' id='403277'>
<a class='timestamp' href='#403277'><time timestamp='2020-09-10T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
Two possible ways are making a lot more of the mempool functions require the lock, and make locking external to the mempool
<br>
</div>

<div class='talk op-msg' data-timestamp='1599765180' id='403278'>
<a class='timestamp' href='#403278'><time timestamp='2020-09-10T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
&quot;... two functions could be used - one that locks and another that does not...&quot; yes, that&#x27;s the common solution
<br>
</div>

<div class='talk op-msg' data-timestamp='1599765180' id='403279'>
<a class='timestamp' href='#403279'><time timestamp='2020-09-10T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
and the other way is having two versions of the function - one which requires the lock and one which takes the lock
<br>
</div>

<div class='talk op-msg' data-timestamp='1599765180' id='403280'>
<a class='timestamp' href='#403280'><time timestamp='2020-09-10T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
wumpus: right
<br>
</div>

<div class='talk op-msg' data-timestamp='1599765180' id='403281'>
<a class='timestamp' href='#403281'><time timestamp='2020-09-10T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
moving locking external has its own risks
<br>
</div>

<div class='talk op-msg' data-timestamp='1599765180' id='403282'>
<a class='timestamp' href='#403282'><time timestamp='2020-09-10T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-14'> hebasto</span>&gt;
what risk?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599765180' id='403283'>
<a class='timestamp' href='#403283'><time timestamp='2020-09-10T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
wumpus: if we use the clang safety annotations it&#x27;s lesser, right?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599765180' id='403284'>
<a class='timestamp' href='#403284'><time timestamp='2020-09-10T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
having separate private &quot;without lock&quot; avoids that
<br>
</div>

<div class='talk op-msg' data-timestamp='1599765180' id='403285'>
<a class='timestamp' href='#403285'><time timestamp='2020-09-10T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
wumpus: I agree. Best to keep locking internal wherever possible
<br>
</div>

<div class='talk op-msg' data-timestamp='1599765240' id='403286'>
<a class='timestamp' href='#403286'><time timestamp='2020-09-10T19:14:00Z'>19:14</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
&quot;the locking mechanism used by a thread-safe class is part of its internal implementation&quot; (from <a href="https://gist.github.com/hebasto/072ad3a9370641b035a36d08607a3d34#gistcomment-3448023" class="link" target="_blank">https://gist.github.com/hebasto/072ad3a9370641b035a36d08607a3d34#gistcomment-3448023</a>)
<br>
</div>

<div class='talk op-msg' data-timestamp='1599765240' id='403287'>
<a class='timestamp' href='#403287'><time timestamp='2020-09-10T19:14:00Z'>19:14</time></a>
&lt;<span class='nick nick-14'> * luke-jr</span>&gt;
stabs ISP
<br>
</div>

<div class='talk op-msg' data-timestamp='1599765240' id='403288'>
<a class='timestamp' href='#403288'><time timestamp='2020-09-10T19:14:00Z'>19:14</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ideally, locks are internal
<br>
</div>

<div class='talk op-msg' data-timestamp='1599765240' id='403289'>
<a class='timestamp' href='#403289'><time timestamp='2020-09-10T19:14:00Z'>19:14</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
hebasto: well, it goes against, the principle of encapsulation, knowledge of how to remove locks moves to outside the code
<br>
</div>

<div class='talk op-msg' data-timestamp='1599765300' id='403290'>
<a class='timestamp' href='#403290'><time timestamp='2020-09-10T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
hebasto: at the least it makes reasoning more difficult 
<br>
</div>

<div class='talk op-msg' data-timestamp='1599765300' id='403291'>
<a class='timestamp' href='#403291'><time timestamp='2020-09-10T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-14'> hebasto</span>&gt;
wumpus: agree
<br>
</div>

<div class='talk op-msg' data-timestamp='1599765300' id='403292'>
<a class='timestamp' href='#403292'><time timestamp='2020-09-10T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
if a lock is internal to a class, and the class never invokes a callback passed down from elsewhere while holding that lock, it even guarantees no deadlocks
<br>
</div>

<div class='talk op-msg' data-timestamp='1599765300' id='403293'>
<a class='timestamp' href='#403293'><time timestamp='2020-09-10T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
lock annotations are not a replacement for that
<br>
</div>

<div class='talk op-msg' data-timestamp='1599765360' id='403294'>
<a class='timestamp' href='#403294'><time timestamp='2020-09-10T19:16:00Z'>19:16</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
if locks can&#x27;t always be internal, then making two versions of the public interface function makes it explicit where the function is called with the lock held and without.
<br>
</div>

<div class='talk op-msg' data-timestamp='1599765360' id='403295'>
<a class='timestamp' href='#403295'><time timestamp='2020-09-10T19:16:00Z'>19:16</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jnewbery: that&#x27;s what CAddrMan does
<br>
</div>

<div class='talk op-msg' data-timestamp='1599765360' id='403296'>
<a class='timestamp' href='#403296'><time timestamp='2020-09-10T19:16:00Z'>19:16</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but i don&#x27;t see how one conflicts with the other
<br>
</div>

<div class='talk op-msg' data-timestamp='1599765420' id='403297'>
<a class='timestamp' href='#403297'><time timestamp='2020-09-10T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
What about a type-safe (using newtype) pass lock guard in as arugment?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599765420' id='403298'>
<a class='timestamp' href='#403298'><time timestamp='2020-09-10T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
That would have both safety properties
<br>
</div>

<div class='talk op-msg' data-timestamp='1599765420' id='403299'>
<a class='timestamp' href='#403299'><time timestamp='2020-09-10T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jeremyrubin: it works, but imho it still reeks of bad design
<br>
</div>

<div class='talk op-msg' data-timestamp='1599765420' id='403300'>
<a class='timestamp' href='#403300'><time timestamp='2020-09-10T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
as there would only be one way to get a satisfying lock
<br>
</div>

<div class='talk op-msg' data-timestamp='1599765420' id='403301'>
<a class='timestamp' href='#403301'><time timestamp='2020-09-10T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I don&#x27;t really like that, I hope that can be avoided
<br>
</div>

<div class='talk op-msg' data-timestamp='1599765420' id='403302'>
<a class='timestamp' href='#403302'><time timestamp='2020-09-10T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
and I&#x27;d like to discuss for() { LOCK(cs); } VS { LOCK() for() {} }
<br>
</div>

<div class='talk op-msg' data-timestamp='1599765480' id='403303'>
<a class='timestamp' href='#403303'><time timestamp='2020-09-10T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-14'> hebasto</span>&gt;
how to name this two functions? some kind of suffix to distinguish them?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599765480' id='403304'>
<a class='timestamp' href='#403304'><time timestamp='2020-09-10T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
sipa: I&#x27;m not saying they do. Ideally, all locks are internal. If they can&#x27;t be and sometimes need to be held by the caller, make it explicit where that is by using Mutex and having two versions of public functions where needed.
<br>
</div>

<div class='talk op-msg' data-timestamp='1599765480' id='403305'>
<a class='timestamp' href='#403305'><time timestamp='2020-09-10T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-3'> aj</span>&gt;
promag: with or without performance benchmarks?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599765480' id='403306'>
<a class='timestamp' href='#403306'><time timestamp='2020-09-10T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
promag: well that depends on the granularity of the work, so locking overhad versus the loop body, and whether it&#x27;s undesirable to hold the lock for long
<br>
</div>

<div class='talk op-msg' data-timestamp='1599765480' id='403307'>
<a class='timestamp' href='#403307'><time timestamp='2020-09-10T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
promag: grabbing an uncontended lock is ~100 cpu cycles
<br>
</div>

<div class='talk op-msg' data-timestamp='1599765480' id='403308'>
<a class='timestamp' href='#403308'><time timestamp='2020-09-10T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
hebasto: I&#x27;d do a type tag argument maybe; like atmoic primitives.
<br>
</div>

<div class='talk op-msg' data-timestamp='1599765540' id='403309'>
<a class='timestamp' href='#403309'><time timestamp='2020-09-10T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
but maybe that&#x27;s overkill
<br>
</div>

<div class='talk op-msg' data-timestamp='1599765540' id='403310'>
<a class='timestamp' href='#403310'><time timestamp='2020-09-10T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jnewbery: sorry, i misread what you suggested
<br>
</div>

<div class='talk op-msg' data-timestamp='1599765600' id='403311'>
<a class='timestamp' href='#403311'><time timestamp='2020-09-10T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-3'> aj</span>&gt;
jeremyrubin: void foo(int x); void foo(int x, LockAlreadyHeld h);  foo(3, LockAlreadyHeld()); // ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599765600' id='403312'>
<a class='timestamp' href='#403312'><time timestamp='2020-09-10T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I&#x27;m starting to understand Marcofalke&#x27;s point now--this is a lot of work, conflicts with other changes, while we don&#x27;t have a direct problem with RecursiveMutex
<br>
</div>

<div class='talk op-msg' data-timestamp='1599765600' id='403313'>
<a class='timestamp' href='#403313'><time timestamp='2020-09-10T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-3'> aj</span>&gt;
jeremyrubin: LockAlreadyHeld(cs_main); ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599765600' id='403314'>
<a class='timestamp' href='#403314'><time timestamp='2020-09-10T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
aj: Uh that can work yeah
<br>
</div>

<div class='talk op-msg' data-timestamp='1599765600' id='403315'>
<a class='timestamp' href='#403315'><time timestamp='2020-09-10T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
promag: I would say if the current code does one of that, we better have some proof that changing it is for the better.
<br>
</div>

<div class='talk op-msg' data-timestamp='1599765600' id='403316'>
<a class='timestamp' href='#403316'><time timestamp='2020-09-10T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
wumpus: that is my gut reaction as well
<br>
</div>

<div class='talk op-msg' data-timestamp='1599765660' id='403317'>
<a class='timestamp' href='#403317'><time timestamp='2020-09-10T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
aj: in simple cases not really
<br>
</div>

<div class='talk op-msg' data-timestamp='1599765660' id='403318'>
<a class='timestamp' href='#403318'><time timestamp='2020-09-10T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
it would be nice to motivate this change with some new behavior we wish to implement, that woudl benefit from it?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599765660' id='403319'>
<a class='timestamp' href='#403319'><time timestamp='2020-09-10T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
if it helps to have a non-recursive mutex for future mempool changes it makes sense to do it, of course, but this seems a lot of design work for a pure refactor
<br>
</div>

<div class='talk op-msg' data-timestamp='1599765660' id='403320'>
<a class='timestamp' href='#403320'><time timestamp='2020-09-10T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
sdaftuar: +1
<br>
</div>

<div class='talk op-msg' data-timestamp='1599765660' id='403321'>
<a class='timestamp' href='#403321'><time timestamp='2020-09-10T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
overall, same. It works as is.
<br>
</div>

<div class='talk op-msg' data-timestamp='1599765720' id='403322'>
<a class='timestamp' href='#403322'><time timestamp='2020-09-10T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
I suspect it actually might make future changes harder :x
<br>
</div>

<div class='talk op-msg' data-timestamp='1599765720' id='403323'>
<a class='timestamp' href='#403323'><time timestamp='2020-09-10T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
luke-jr: depends on how it&#x27;s done, i think
<br>
</div>

<div class='talk op-msg' data-timestamp='1599765720' id='403324'>
<a class='timestamp' href='#403324'><time timestamp='2020-09-10T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
I think that&#x27;s the motivation; if future changes are leaning more on the recursive mutexing we don&#x27;t want to make them that way
<br>
</div>

<div class='talk op-msg' data-timestamp='1599765720' id='403325'>
<a class='timestamp' href='#403325'><time timestamp='2020-09-10T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
really usually cleaning up locking means cleaning up the boundary between interfaces
<br>
</div>

<div class='talk op-msg' data-timestamp='1599765780' id='403326'>
<a class='timestamp' href='#403326'><time timestamp='2020-09-10T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and if that&#x27;s a side effect, it may definitely make things easier
<br>
</div>

<div class='talk op-msg' data-timestamp='1599765780' id='403327'>
<a class='timestamp' href='#403327'><time timestamp='2020-09-10T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
sipa: I&#x27;m taking about cs_main
<br>
</div>

<div class='talk op-msg' data-timestamp='1599765780' id='403328'>
<a class='timestamp' href='#403328'><time timestamp='2020-09-10T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
sipa: +1
<br>
</div>

<div class='talk op-msg' data-timestamp='1599765780' id='403329'>
<a class='timestamp' href='#403329'><time timestamp='2020-09-10T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
sipa: yes, if it can make that clearer it&#x27;s a good thing
<br>
</div>

<div class='talk op-msg' data-timestamp='1599765780' id='403330'>
<a class='timestamp' href='#403330'><time timestamp='2020-09-10T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
wumpus: agree
<br>
</div>

<div class='talk op-msg' data-timestamp='1599765780' id='403331'>
<a class='timestamp' href='#403331'><time timestamp='2020-09-10T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
cs_main is something else entirely
<br>
</div>

<div class='talk op-msg' data-timestamp='1599765780' id='403332'>
<a class='timestamp' href='#403332'><time timestamp='2020-09-10T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
just doing a dumb &quot;whatever necessary to avoid recursive locking&quot; is unlikely to be beneficial
<br>
</div>

<div class='talk op-msg' data-timestamp='1599765780' id='403333'>
<a class='timestamp' href='#403333'><time timestamp='2020-09-10T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
agree
<br>
</div>

<div class='talk op-msg' data-timestamp='1599765840' id='403334'>
<a class='timestamp' href='#403334'><time timestamp='2020-09-10T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
vasild: agree
<br>
</div>

<div class='talk op-msg' data-timestamp='1599765840' id='403335'>
<a class='timestamp' href='#403335'><time timestamp='2020-09-10T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but it&#x27;s probably hard to speak very generically here
<br>
</div>

<div class='talk op-msg' data-timestamp='1599765840' id='403336'>
<a class='timestamp' href='#403336'><time timestamp='2020-09-10T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
I think adding a lock-not-held version of all public functions which may or may not hold a lock is a pretty trivial change
<br>
</div>

<div class='talk op-msg' data-timestamp='1599765900' id='403337'>
<a class='timestamp' href='#403337'><time timestamp='2020-09-10T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
i&#x27;m meh with that approach
<br>
</div>

<div class='talk op-msg' data-timestamp='1599765900' id='403338'>
<a class='timestamp' href='#403338'><time timestamp='2020-09-10T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
It&#x27;s kinda annoying for other patches if you have to change 2 func signatures
<br>
</div>

<div class='talk op-msg' data-timestamp='1599765900' id='403339'>
<a class='timestamp' href='#403339'><time timestamp='2020-09-10T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
jnewbery: at least that can be done virtually mechanically which makes it easier to review
<br>
</div>

<div class='talk op-msg' data-timestamp='1599765900' id='403340'>
<a class='timestamp' href='#403340'><time timestamp='2020-09-10T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
I think changing the function to assert the lock is held and then adding locks outside the class <u>_isn&#x27;t_</u> a good change
<br>
</div>

<div class='talk op-msg' data-timestamp='1599765900' id='403341'>
<a class='timestamp' href='#403341'><time timestamp='2020-09-10T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
funcUnprotected() { do stuff; }; func() { LOCK(); funcUnprotected(); }
<br>
</div>

<div class='talk op-msg' data-timestamp='1599765900' id='403342'>
<a class='timestamp' href='#403342'><time timestamp='2020-09-10T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jnewbery: that does not seem crazy, but it&#x27;s easier to judge with code
<br>
</div>

<div class='talk op-msg' data-timestamp='1599765960' id='403343'>
<a class='timestamp' href='#403343'><time timestamp='2020-09-10T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
jnewbery: +1
<br>
</div>

<div class='talk op-msg' data-timestamp='1599765960' id='403344'>
<a class='timestamp' href='#403344'><time timestamp='2020-09-10T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
i&#x27;m a bit confused -- would some of those functions not be used?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599765960' id='403345'>
<a class='timestamp' href='#403345'><time timestamp='2020-09-10T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
jnewbery: IMO it&#x27;s a good change if it comes with a follow up refactor 
<br>
</div>

<div class='talk op-msg' data-timestamp='1599765960' id='403346'>
<a class='timestamp' href='#403346'><time timestamp='2020-09-10T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
I don&#x27;t see what&#x27;s wrong with func() that locks if necessary, but also works inside an external lock :x
<br>
</div>

<div class='talk op-msg' data-timestamp='1599765960' id='403347'>
<a class='timestamp' href='#403347'><time timestamp='2020-09-10T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
sdaftuar: you&#x27;d only add new functions where it may or may not already hold the lock
<br>
</div>

<div class='talk op-msg' data-timestamp='1599766020' id='403348'>
<a class='timestamp' href='#403348'><time timestamp='2020-09-10T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
luke-jr: I think that&#x27;s basically a recursive lock
<br>
</div>

<div class='talk op-msg' data-timestamp='1599766020' id='403349'>
<a class='timestamp' href='#403349'><time timestamp='2020-09-10T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
luke-jr: it&#x27;s a very abstract objection, but to me it is: code should be written to work inside our outside the private parts of a class that need locking
<br>
</div>

<div class='talk op-msg' data-timestamp='1599766020' id='403350'>
<a class='timestamp' href='#403350'><time timestamp='2020-09-10T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
luke-jr: that&#x27;s like re-implementing recursive mutex
<br>
</div>

<div class='talk op-msg' data-timestamp='1599766020' id='403351'>
<a class='timestamp' href='#403351'><time timestamp='2020-09-10T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
the difference being maybe you can assert if you know you have lock already or not
<br>
</div>

<div class='talk op-msg' data-timestamp='1599766020' id='403352'>
<a class='timestamp' href='#403352'><time timestamp='2020-09-10T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
sipa: this does..?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599766020' id='403353'>
<a class='timestamp' href='#403353'><time timestamp='2020-09-10T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
luke-jr: it&#x27;s just hard to reason about the interface if you have code that works in both
<br>
</div>

<div class='talk op-msg' data-timestamp='1599766080' id='403354'>
<a class='timestamp' href='#403354'><time timestamp='2020-09-10T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
hand rolling a recursive-ish mutex sounds even worse than simply using one
<br>
</div>

<div class='talk op-msg' data-timestamp='1599766080' id='403355'>
<a class='timestamp' href='#403355'><time timestamp='2020-09-10T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
please no
<br>
</div>

<div class='talk op-msg' data-timestamp='1599766080' id='403356'>
<a class='timestamp' href='#403356'><time timestamp='2020-09-10T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-10'> nehan</span>&gt;
the argument in <a href="https://gist.github.com/hebasto/072ad3a9370641b035a36d08607a3d34" class="link" target="_blank">https://gist.github.com/hebasto/072ad3a9370641b035a36d08607a3d34</a> for why RecursiveMutex is bad indicates why it&#x27;s bad to use RecursiveMutex in the first place (it is a symptom of an underlying problem). i do not see how it explains the benefit of removing RecursiveMutex without addressing the underlying problem.
<br>
</div>

<div class='talk op-msg' data-timestamp='1599766080' id='403357'>
<a class='timestamp' href='#403357'><time timestamp='2020-09-10T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
nehan: +1
<br>
</div>

<div class='talk op-msg' data-timestamp='1599766080' id='403358'>
<a class='timestamp' href='#403358'><time timestamp='2020-09-10T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-10'> nehan</span>&gt;
which it sounds like what this dual-function thing is doing
<br>
</div>

<div class='talk op-msg' data-timestamp='1599766080' id='403359'>
<a class='timestamp' href='#403359'><time timestamp='2020-09-10T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
nehan: i think the dual function makes the interface layer explicit
<br>
</div>

<div class='talk op-msg' data-timestamp='1599766140' id='403360'>
<a class='timestamp' href='#403360'><time timestamp='2020-09-10T19:29:00Z'>19:29</time></a>
&lt;<span class='nick nick-10'> nehan</span>&gt;
so the benefit of it is making a small (perhaps important) step towards making the interface more clear?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599766140' id='403361'>
<a class='timestamp' href='#403361'><time timestamp='2020-09-10T19:29:00Z'>19:29</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
my point wasn&#x27;t to reinvent RM, but that RM has a use :p
<br>
</div>

<div class='talk op-msg' data-timestamp='1599766140' id='403362'>
<a class='timestamp' href='#403362'><time timestamp='2020-09-10T19:29:00Z'>19:29</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
and by making it explicit, brings to attention what the underlying problem may be
<br>
</div>

<div class='talk op-msg' data-timestamp='1599766140' id='403363'>
<a class='timestamp' href='#403363'><time timestamp='2020-09-10T19:29:00Z'>19:29</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
nehan: right, it makes it obvious where the problem is
<br>
</div>

<div class='talk op-msg' data-timestamp='1599766200' id='403364'>
<a class='timestamp' href='#403364'><time timestamp='2020-09-10T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it doesn&#x27;t fix it
<br>
</div>

<div class='talk op-msg' data-timestamp='1599766200' id='403365'>
<a class='timestamp' href='#403365'><time timestamp='2020-09-10T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
nehan: yes, the general arguments against recursive mutex described there definitely make sense
<br>
</div>

<div class='talk op-msg' data-timestamp='1599766200' id='403366'>
<a class='timestamp' href='#403366'><time timestamp='2020-09-10T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
so i think the right next step would be to precisely define what the interface ought ot be
<br>
</div>

<div class='talk op-msg' data-timestamp='1599766200' id='403367'>
<a class='timestamp' href='#403367'><time timestamp='2020-09-10T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
and then we can work towards that
<br>
</div>

<div class='talk op-msg' data-timestamp='1599766200' id='403368'>
<a class='timestamp' href='#403368'><time timestamp='2020-09-10T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
It sounds like it might be worth to prepare this PR and not merge it
<br>
</div>

<div class='talk op-msg' data-timestamp='1599766200' id='403369'>
<a class='timestamp' href='#403369'><time timestamp='2020-09-10T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
Because if it indentifies what the problem is, then we can see if a fix can be built on it
<br>
</div>

<div class='talk op-msg' data-timestamp='1599766200' id='403370'>
<a class='timestamp' href='#403370'><time timestamp='2020-09-10T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
refactoring without a design in mind seems bad to me
<br>
</div>

<div class='talk op-msg' data-timestamp='1599766260' id='403371'>
<a class='timestamp' href='#403371'><time timestamp='2020-09-10T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
sometimes it&#x27;s not a problem to have a function that can be called with or without a lock. Sometimes you want to carry out multiple operations on an object atomically. That&#x27;s not a problem, but it&#x27;s always better to be explicit about what you&#x27;re doing
<br>
</div>

<div class='talk op-msg' data-timestamp='1599766320' id='403372'>
<a class='timestamp' href='#403372'><time timestamp='2020-09-10T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] instagibbs opened pull request #19936: Test: batch rpc with params (master...batch_param) <a href="https://github.com/bitcoin/bitcoin/pull/19936" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19936</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1599766380' id='403373'>
<a class='timestamp' href='#403373'><time timestamp='2020-09-10T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
sipa: WITH_LOCK(..., ...) is already an indicator
<br>
</div>

<div class='talk op-msg' data-timestamp='1599766380' id='403374'>
<a class='timestamp' href='#403374'><time timestamp='2020-09-10T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
hebasto: did you have anything else that you wanted input on?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599766380' id='403375'>
<a class='timestamp' href='#403375'><time timestamp='2020-09-10T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
I think we can/should make mempool.cs mutex private
<br>
</div>

<div class='talk op-msg' data-timestamp='1599766380' id='403376'>
<a class='timestamp' href='#403376'><time timestamp='2020-09-10T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
vasild: that&#x27;s a lot of work
<br>
</div>

<div class='talk op-msg' data-timestamp='1599766440' id='403377'>
<a class='timestamp' href='#403377'><time timestamp='2020-09-10T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
and might not even be desirable
<br>
</div>

<div class='talk op-msg' data-timestamp='1599766440' id='403378'>
<a class='timestamp' href='#403378'><time timestamp='2020-09-10T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-14'> hebasto</span>&gt;
jnewbery: it seems all discussed. what is consensus?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599766440' id='403379'>
<a class='timestamp' href='#403379'><time timestamp='2020-09-10T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
vasild: lots of refactors right?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599766440' id='403380'>
<a class='timestamp' href='#403380'><time timestamp='2020-09-10T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
IMO amount of work would be comparable to making it non-recursive
<br>
</div>

<div class='talk op-msg' data-timestamp='1599766500' id='403381'>
<a class='timestamp' href='#403381'><time timestamp='2020-09-10T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
vasild: not even close, I don&#x27;t think. There are lots of places where we make multiple calls to the mempool atomically. Those would all need to be changed into higher-level interfaces to the mempool
<br>
</div>

<div class='talk op-msg' data-timestamp='1599766500' id='403382'>
<a class='timestamp' href='#403382'><time timestamp='2020-09-10T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
vasild: at least that&#x27;d remove the problem of public functions needing the lock held
<br>
</div>

<div class='talk op-msg' data-timestamp='1599766500' id='403383'>
<a class='timestamp' href='#403383'><time timestamp='2020-09-10T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
but yes, it&#x27;s also much more work
<br>
</div>

<div class='talk op-msg' data-timestamp='1599766500' id='403384'>
<a class='timestamp' href='#403384'><time timestamp='2020-09-10T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
ok, my assessment could be wrong
<br>
</div>

<div class='talk op-msg' data-timestamp='1599766560' id='403385'>
<a class='timestamp' href='#403385'><time timestamp='2020-09-10T19:36:00Z'>19:36</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
wild idea: mempool via message passing only?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599766560' id='403386'>
<a class='timestamp' href='#403386'><time timestamp='2020-09-10T19:36:00Z'>19:36</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
vasild: eg all of this would need to become a single call to the mempool: <a href="https://github.com/bitcoin/bitcoin/blob/564e1ab0f3dc573bd3ea60a80f6649c361243df9/src/rpc/blockchain.cpp#L1406-L1421" class="link" target="_blank">https://github.com/bitcoin/bitcoin/blob/564e1ab0f3dc573bd3ea60a80f6649c361243df9/src/rpc/blockchain.cpp#L1406-L1421</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1599766560' id='403387'>
<a class='timestamp' href='#403387'><time timestamp='2020-09-10T19:36:00Z'>19:36</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
Might be good as there are some proposals to make the mempool a separate entity 
<br>
</div>

<div class='talk op-msg' data-timestamp='1599766560' id='403388'>
<a class='timestamp' href='#403388'><time timestamp='2020-09-10T19:36:00Z'>19:36</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
and message passing based would cleanly separate internal details
<br>
</div>

<div class='talk op-msg' data-timestamp='1599766620' id='403389'>
<a class='timestamp' href='#403389'><time timestamp='2020-09-10T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-14'> hebasto</span>&gt;
vasild: that is possible
<br>
</div>

<div class='talk op-msg' data-timestamp='1599766620' id='403390'>
<a class='timestamp' href='#403390'><time timestamp='2020-09-10T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
jnewbery: yes, I looked into that, it would be one call that returns a struct holding all the data, not a big deal
<br>
</div>

<div class='talk op-msg' data-timestamp='1599766680' id='403391'>
<a class='timestamp' href='#403391'><time timestamp='2020-09-10T19:38:00Z'>19:38</time></a>
&lt;<span class='nick nick-14'> jonatack</span>&gt;
i like sdaftuar&#x27;s suggestion that it be motivated by new behavior or a clear idea of the desired design/interface
<br>
</div>

<div class='talk op-msg' data-timestamp='1599766680' id='403392'>
<a class='timestamp' href='#403392'><time timestamp='2020-09-10T19:38:00Z'>19:38</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
vasild: maybe. It just feels like a much bigger change. If you had a branch that moved the lock to be totally internal, I&#x27;d be very interested to see it
<br>
</div>

<div class='talk op-msg' data-timestamp='1599766680' id='403393'>
<a class='timestamp' href='#403393'><time timestamp='2020-09-10T19:38:00Z'>19:38</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
mempool.AtomicallyGiveMeYourStats(&amp;pool_stats); ;-)
<br>
</div>

<div class='talk op-msg' data-timestamp='1599766740' id='403394'>
<a class='timestamp' href='#403394'><time timestamp='2020-09-10T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
jnewbery: no, I don&#x27;t have
<br>
</div>

<div class='talk op-msg' data-timestamp='1599766740' id='403395'>
<a class='timestamp' href='#403395'><time timestamp='2020-09-10T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-3'> aj</span>&gt;
time for the gui repo topic?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599766740' id='403396'>
<a class='timestamp' href='#403396'><time timestamp='2020-09-10T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
vasild: a mempool interior thread/workqueue with condvar for wake on return could implement that API :p 
<br>
</div>

<div class='talk op-msg' data-timestamp='1599766740' id='403397'>
<a class='timestamp' href='#403397'><time timestamp='2020-09-10T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I guess it would be good to see an example of the various proposals and maybe re-discuss next week
<br>
</div>

<div class='talk op-msg' data-timestamp='1599766740' id='403398'>
<a class='timestamp' href='#403398'><time timestamp='2020-09-10T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-14'> hebasto</span>&gt;
wumpus: +1
<br>
</div>

<div class='talk op-msg' data-timestamp='1599766740' id='403399'>
<a class='timestamp' href='#403399'><time timestamp='2020-09-10T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
if this is all worth it at all
<br>
</div>

<div class='talk op-msg' data-timestamp='1599766800' id='403400'>
<a class='timestamp' href='#403400'><time timestamp='2020-09-10T19:40:00Z'>19:40</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
maybe we&#x27;re creaeting a problem where there&#x27;s none
<br>
</div>

<div class='talk op-msg' data-timestamp='1599766800' id='403401'>
<a class='timestamp' href='#403401'><time timestamp='2020-09-10T19:40:00Z'>19:40</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
#topic Review the experience of 3 month bitcoin-core/gui repository (jonasschnelli)
<br>
</div>

<div class='talk op-msg' data-timestamp='1599766800' id='403402'>
<a class='timestamp' href='#403402'><time timestamp='2020-09-10T19:40:00Z'>19:40</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
i would reiterate that a design document for how the mempool would ideally interact with the rest of our software would be very helpful for evaulating any proposals
<br>
</div>

<div class='talk op-msg' data-timestamp='1599766800' id='403403'>
<a class='timestamp' href='#403403'><time timestamp='2020-09-10T19:40:00Z'>19:40</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I&#x27;d like to collect feedback on how well the separation of the GUI repository has been received.
<br>
</div>

<div class='talk op-msg' data-timestamp='1599766860' id='403404'>
<a class='timestamp' href='#403404'><time timestamp='2020-09-10T19:41:00Z'>19:41</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
my feedback: it&#x27;s seems still unclear how we merge things back to the main repository and if that has been documented.
<br>
</div>

<div class='talk op-msg' data-timestamp='1599766860' id='403405'>
<a class='timestamp' href='#403405'><time timestamp='2020-09-10T19:41:00Z'>19:41</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes, what&#x27;s the plan for merging back the GUI changes?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599766860' id='403406'>
<a class='timestamp' href='#403406'><time timestamp='2020-09-10T19:41:00Z'>19:41</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
on top, the mix of PRs on both sides feels confusing to me.
<br>
</div>

<div class='talk op-msg' data-timestamp='1599766860' id='403407'>
<a class='timestamp' href='#403407'><time timestamp='2020-09-10T19:41:00Z'>19:41</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
I think Marco has a script that merges them into both repositories simultaneously, no?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599766860' id='403408'>
<a class='timestamp' href='#403408'><time timestamp='2020-09-10T19:41:00Z'>19:41</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Overall,... i would have prefered to split of the repository with a split off through a clean interface (process seperation in some ways)
<br>
</div>

<div class='talk op-msg' data-timestamp='1599766920' id='403409'>
<a class='timestamp' href='#403409'><time timestamp='2020-09-10T19:42:00Z'>19:42</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I think it&#x27;s nice to have GUI design discussions etc in the other repo
<br>
</div>

<div class='talk op-msg' data-timestamp='1599766920' id='403410'>
<a class='timestamp' href='#403410'><time timestamp='2020-09-10T19:42:00Z'>19:42</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
jnewbery: could be. I don&#x27;t know.
<br>
</div>

<div class='talk op-msg' data-timestamp='1599766920' id='403411'>
<a class='timestamp' href='#403411'><time timestamp='2020-09-10T19:42:00Z'>19:42</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Yes. I also like the split of the discussions and some GUI only PRs.
<br>
</div>

<div class='talk op-msg' data-timestamp='1599766920' id='403412'>
<a class='timestamp' href='#403412'><time timestamp='2020-09-10T19:42:00Z'>19:42</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I just don&#x27;t know what burden we have when merging things back
<br>
</div>

<div class='talk op-msg' data-timestamp='1599766920' id='403413'>
<a class='timestamp' href='#403413'><time timestamp='2020-09-10T19:42:00Z'>19:42</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it&#x27;s sufficiently distinct from what happens in the main repo that that makes sense
<br>
</div>

<div class='talk op-msg' data-timestamp='1599766980' id='403414'>
<a class='timestamp' href='#403414'><time timestamp='2020-09-10T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Also,... things that touch both &quot;sides&quot;: still unclear how to handle that
<br>
</div>

<div class='talk op-msg' data-timestamp='1599766980' id='403415'>
<a class='timestamp' href='#403415'><time timestamp='2020-09-10T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I don&#x27;t know either, looks like Marco Falke is missing for this discussion
<br>
</div>

<div class='talk op-msg' data-timestamp='1599766980' id='403416'>
<a class='timestamp' href='#403416'><time timestamp='2020-09-10T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
looks like
<br>
</div>

<div class='talk op-msg' data-timestamp='1599766980' id='403417'>
<a class='timestamp' href='#403417'><time timestamp='2020-09-10T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
wumpus: most people just have to go to both repos.. it was a good change for those that want stay away from gui stuff
<br>
</div>

<div class='talk op-msg' data-timestamp='1599766980' id='403418'>
<a class='timestamp' href='#403418'><time timestamp='2020-09-10T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
However we go further, I think it would be nice to document the process more clear
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767040' id='403419'>
<a class='timestamp' href='#403419'><time timestamp='2020-09-10T19:44:00Z'>19:44</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
they seem to be pretty synchronized. The GUI repository is just one merge commit behind bitcoin/bitcoin
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767040' id='403420'>
<a class='timestamp' href='#403420'><time timestamp='2020-09-10T19:44:00Z'>19:44</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Also unclear to me how we handle merge conflicts if we merge node stuff into the GUI repository
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767040' id='403421'>
<a class='timestamp' href='#403421'><time timestamp='2020-09-10T19:44:00Z'>19:44</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
jonasschnelli: +1 on process isolation being important for making the separation clearer
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767040' id='403422'>
<a class='timestamp' href='#403422'><time timestamp='2020-09-10T19:44:00Z'>19:44</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
did anyone ever get in touch with GitHub about the PR issues?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767040' id='403423'>
<a class='timestamp' href='#403423'><time timestamp='2020-09-10T19:44:00Z'>19:44</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
jonasschnelli: they&#x27;re the same commits
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767100' id='403424'>
<a class='timestamp' href='#403424'><time timestamp='2020-09-10T19:45:00Z'>19:45</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
there&#x27;s no conflicts because it&#x27;s always fast-forwards
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767100' id='403425'>
<a class='timestamp' href='#403425'><time timestamp='2020-09-10T19:45:00Z'>19:45</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
jeremyrubin: IIRC there&#x27;s a PR that does process isolation
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767100' id='403426'>
<a class='timestamp' href='#403426'><time timestamp='2020-09-10T19:45:00Z'>19:45</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
jnewbery: Right. I tihink its a non-issue as long as they stay in sync. Which I guess is a manual script
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767160' id='403427'>
<a class='timestamp' href='#403427'><time timestamp='2020-09-10T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
wumpus: ryanofsky&#x27;s right?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767160' id='403428'>
<a class='timestamp' href='#403428'><time timestamp='2020-09-10T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-10'> michaelfolkson</span>&gt;
I think the major concern is if review decreases with it being separate. I think people on the GUI repo need to regularly prod (cc) GUI reviewers who spend most of their time on the main repo.
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767160' id='403429'>
<a class='timestamp' href='#403429'><time timestamp='2020-09-10T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
ryanofsky is working on that #19461
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767160' id='403430'>
<a class='timestamp' href='#403430'><time timestamp='2020-09-10T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/19461" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/19461</a> | multiprocess: Add bitcoin-gui -ipcconnect option by ryanofsky · Pull Request #19461 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767160' id='403431'>
<a class='timestamp' href='#403431'><time timestamp='2020-09-10T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767160' id='403432'>
<a class='timestamp' href='#403432'><time timestamp='2020-09-10T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
michaelfolkson: maybe only an initial issue. I think there are now also contributors stepping forward <u>_because_</u> its GUI only
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767220' id='403433'>
<a class='timestamp' href='#403433'><time timestamp='2020-09-10T19:47:00Z'>19:47</time></a>
&lt;<span class='nick nick-14'> hebasto</span>&gt;
^ and designers
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767220' id='403434'>
<a class='timestamp' href='#403434'><time timestamp='2020-09-10T19:47:00Z'>19:47</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
jonasschnelli: exactly, though there&#x27;s some overlap, it&#x27;s also meant to get a different group of people involved
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767220' id='403435'>
<a class='timestamp' href='#403435'><time timestamp='2020-09-10T19:47:00Z'>19:47</time></a>
&lt;<span class='nick nick-10'> michaelfolkson</span>&gt;
But mainly designers right jonasschnelli? It needs normal Core reviewers too
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767280' id='403436'>
<a class='timestamp' href='#403436'><time timestamp='2020-09-10T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-10'> michaelfolkson</span>&gt;
I think for design related review it is a material success so far
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767280' id='403437'>
<a class='timestamp' href='#403437'><time timestamp='2020-09-10T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
ideally we want more GUI contributors, improving the GUI, they don&#x27;t necessarily need to get involved with the rest of the code
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767280' id='403438'>
<a class='timestamp' href='#403438'><time timestamp='2020-09-10T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
michaelfolkson: Yes. Thats correct.
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767280' id='403439'>
<a class='timestamp' href='#403439'><time timestamp='2020-09-10T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
It&#x27;s a different complexity level (mostly). Also the risks are different.
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767280' id='403440'>
<a class='timestamp' href='#403440'><time timestamp='2020-09-10T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
I think a separate GUI repository only makes sense as long as both repositories contain different chunks of software. Right now both contain the same, e.g. the gui repo contains bitcoind.cpp, net_processing.cpp, etc. Would it be possible to make only src/qt in the gui repo (and then make it a git submodule in the main one)?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767280' id='403441'>
<a class='timestamp' href='#403441'><time timestamp='2020-09-10T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
a different kind of complexity to navigate at least
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767280' id='403442'>
<a class='timestamp' href='#403442'><time timestamp='2020-09-10T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
wumpus: is there a framework for moving forward ryanofsky&#x27;s work? last I checked it was still nack on capnproto?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767340' id='403443'>
<a class='timestamp' href='#403443'><time timestamp='2020-09-10T19:49:00Z'>19:49</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I definitely found out I can&#x27;t do it, I can&#x27;t handle the subjectivity and bikeshedding involved :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767340' id='403444'>
<a class='timestamp' href='#403444'><time timestamp='2020-09-10T19:49:00Z'>19:49</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
vasild: this is a valid point
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767340' id='403445'>
<a class='timestamp' href='#403445'><time timestamp='2020-09-10T19:49:00Z'>19:49</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
wumpus : that. yes.
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767400' id='403446'>
<a class='timestamp' href='#403446'><time timestamp='2020-09-10T19:50:00Z'>19:50</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
vasild: maybe, though it can&#x27;t be built independently anymore then, it&#x27;s harder for contributors
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767400' id='403447'>
<a class='timestamp' href='#403447'><time timestamp='2020-09-10T19:50:00Z'>19:50</time></a>
&lt;<span class='nick nick-14'> hebasto</span>&gt;
bikeshedding is a work for designers, no?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767400' id='403448'>
<a class='timestamp' href='#403448'><time timestamp='2020-09-10T19:50:00Z'>19:50</time></a>
&lt;<span class='nick nick-6'> yanmaani</span>&gt;
Can&#x27;t you refactor it to make the GUI an RPC client?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767400' id='403449'>
<a class='timestamp' href='#403449'><time timestamp='2020-09-10T19:50:00Z'>19:50</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
hm, right, src/qt can&#x27;t be build separately
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767400' id='403450'>
<a class='timestamp' href='#403450'><time timestamp='2020-09-10T19:50:00Z'>19:50</time></a>
&lt;<span class='nick nick-6'> yanmaani</span>&gt;
(and then optionally have it spawn a bitcoind)
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767400' id='403451'>
<a class='timestamp' href='#403451'><time timestamp='2020-09-10T19:50:00Z'>19:50</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
make make it compilable, libsrcqt.so :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767460' id='403452'>
<a class='timestamp' href='#403452'><time timestamp='2020-09-10T19:51:00Z'>19:51</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
yanmaani: I would also like to see that
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767460' id='403453'>
<a class='timestamp' href='#403453'><time timestamp='2020-09-10T19:51:00Z'>19:51</time></a>
&lt;<span class='nick nick-6'> yanmaani</span>&gt;
Then the GUI could indeed be moved to a separate repo
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767460' id='403454'>
<a class='timestamp' href='#403454'><time timestamp='2020-09-10T19:51:00Z'>19:51</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
but I guess we are drifting off-topic
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767460' id='403455'>
<a class='timestamp' href='#403455'><time timestamp='2020-09-10T19:51:00Z'>19:51</time></a>
&lt;<span class='nick nick-6'> yanmaani</span>&gt;
and you could have other people making other GUIs in other frameworks
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767460' id='403456'>
<a class='timestamp' href='#403456'><time timestamp='2020-09-10T19:51:00Z'>19:51</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yanmaani: that&#x27;s what the multiprocess PR does, basically
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767460' id='403457'>
<a class='timestamp' href='#403457'><time timestamp='2020-09-10T19:51:00Z'>19:51</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
people tried that in 2012 or so, but it&#x27;s terrible as RPC is query-response based, not asynchronous
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767460' id='403458'>
<a class='timestamp' href='#403458'><time timestamp='2020-09-10T19:51:00Z'>19:51</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but the multiprocess work does this the right way
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767460' id='403459'>
<a class='timestamp' href='#403459'><time timestamp='2020-09-10T19:51:00Z'>19:51</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sipa: we could use the long polling to make it faster though
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767460' id='403460'>
<a class='timestamp' href='#403460'><time timestamp='2020-09-10T19:51:00Z'>19:51</time></a>
&lt;<span class='nick nick-6'> yanmaani</span>&gt;
sipa: is RPC single-threaded?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767460' id='403461'>
<a class='timestamp' href='#403461'><time timestamp='2020-09-10T19:51:00Z'>19:51</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yanmaani: (except it doesn&#x27;t use JSON-RPC but its own RPC mechanism)
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767520' id='403462'>
<a class='timestamp' href='#403462'><time timestamp='2020-09-10T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
yanmaani: no
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767520' id='403463'>
<a class='timestamp' href='#403463'><time timestamp='2020-09-10T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
in any case ryanofsky&#x27;s work already exists
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767520' id='403464'>
<a class='timestamp' href='#403464'><time timestamp='2020-09-10T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yanmaani: it would be more useful if you&#x27;d comment after you&#x27;ve spent some time looking at the code
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767520' id='403465'>
<a class='timestamp' href='#403465'><time timestamp='2020-09-10T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-6'> yanmaani</span>&gt;
ok :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767520' id='403466'>
<a class='timestamp' href='#403466'><time timestamp='2020-09-10T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
no need to brainstorm the 2012 idea of doing it again now
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767520' id='403467'>
<a class='timestamp' href='#403467'><time timestamp='2020-09-10T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
I suggest waiting a while before opening that can of worms though :-)
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767520' id='403468'>
<a class='timestamp' href='#403468'><time timestamp='2020-09-10T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
yanmaani: even more useful if you review/test ryanofsky&#x27;s work!
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767580' id='403469'>
<a class='timestamp' href='#403469'><time timestamp='2020-09-10T19:53:00Z'>19:53</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I think I suggest then that we pimp up the documentation on how things are managed between the two repositories, avoid questions, etc.
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767580' id='403470'>
<a class='timestamp' href='#403470'><time timestamp='2020-09-10T19:53:00Z'>19:53</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
jonasschnelli: +1
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767580' id='403471'>
<a class='timestamp' href='#403471'><time timestamp='2020-09-10T19:53:00Z'>19:53</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
wumpus: if some set of maintainers can establish a bit more of a framework on the validity of ryanofsky&#x27;s approach i would spend some cycles on it. but AFAIU some contribs are nack on the approach so I&#x27;m not sure how likely it will proceed if that remains the case or what can be done to un-nack
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767580' id='403472'>
<a class='timestamp' href='#403472'><time timestamp='2020-09-10T19:53:00Z'>19:53</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Let&#x27;s hope MarcoFalke has time and willingness to do this
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767580' id='403473'>
<a class='timestamp' href='#403473'><time timestamp='2020-09-10T19:53:00Z'>19:53</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
just documenting things would make sense
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767580' id='403474'>
<a class='timestamp' href='#403474'><time timestamp='2020-09-10T19:53:00Z'>19:53</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
jeremyrubin: who is completely against it?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767580' id='403475'>
<a class='timestamp' href='#403475'><time timestamp='2020-09-10T19:53:00Z'>19:53</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
people deserve to know what happens with PRs they write on the GUI repo
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767580' id='403476'>
<a class='timestamp' href='#403476'><time timestamp='2020-09-10T19:53:00Z'>19:53</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
gmax iirc?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767640' id='403477'>
<a class='timestamp' href='#403477'><time timestamp='2020-09-10T19:54:00Z'>19:54</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
iirc he was against capnproto at all and wanted a custom IPC lib
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767640' id='403478'>
<a class='timestamp' href='#403478'><time timestamp='2020-09-10T19:54:00Z'>19:54</time></a>
&lt;<span class='nick nick-14'> hebasto</span>&gt;
+1 for documenting
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767640' id='403479'>
<a class='timestamp' href='#403479'><time timestamp='2020-09-10T19:54:00Z'>19:54</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
for using capnproto for the GUI? I don&#x27;t think so, he hates using it for internet protocols, but for internal communication between processes it doesn&#x27;t matter too much
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767640' id='403480'>
<a class='timestamp' href='#403480'><time timestamp='2020-09-10T19:54:00Z'>19:54</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
no reason to speculate here
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767640' id='403481'>
<a class='timestamp' href='#403481'><time timestamp='2020-09-10T19:54:00Z'>19:54</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
afaik ryanofsky said that capnproto could easily be swapped out for something else if needed
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767700' id='403482'>
<a class='timestamp' href='#403482'><time timestamp='2020-09-10T19:55:00Z'>19:55</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
just the glue
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767700' id='403483'>
<a class='timestamp' href='#403483'><time timestamp='2020-09-10T19:55:00Z'>19:55</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Indeed
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767700' id='403484'>
<a class='timestamp' href='#403484'><time timestamp='2020-09-10T19:55:00Z'>19:55</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I&#x27;d really dislike rolling our own IPC mechanism tbh
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767700' id='403485'>
<a class='timestamp' href='#403485'><time timestamp='2020-09-10T19:55:00Z'>19:55</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
do we already depend on it?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767700' id='403486'>
<a class='timestamp' href='#403486'><time timestamp='2020-09-10T19:55:00Z'>19:55</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
It&#x27;s in depends :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767700' id='403487'>
<a class='timestamp' href='#403487'><time timestamp='2020-09-10T19:55:00Z'>19:55</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
there are so many one already, not everything needs to be invented here
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767700' id='403488'>
<a class='timestamp' href='#403488'><time timestamp='2020-09-10T19:55:00Z'>19:55</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
We already merged the build stuff for it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767700' id='403489'>
<a class='timestamp' href='#403489'><time timestamp='2020-09-10T19:55:00Z'>19:55</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I&#x27;m still in favour or RPC
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767700' id='403490'>
<a class='timestamp' href='#403490'><time timestamp='2020-09-10T19:55:00Z'>19:55</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/pull/10102#issuecomment-289842646" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10102#issuecomment-289842646</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767700' id='403491'>
<a class='timestamp' href='#403491'><time timestamp='2020-09-10T19:55:00Z'>19:55</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
But it&#x27;s an opt-in config flag
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767700' id='403492'>
<a class='timestamp' href='#403492'><time timestamp='2020-09-10T19:55:00Z'>19:55</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
sipa: yes, it should be easy to swap out
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767760' id='403493'>
<a class='timestamp' href='#403493'><time timestamp='2020-09-10T19:56:00Z'>19:56</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
he designed it so that the specific mechanism used is abstracted
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767760' id='403494'>
<a class='timestamp' href='#403494'><time timestamp='2020-09-10T19:56:00Z'>19:56</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
jonasschnelli: I think it&#x27;s even easier than I said. Marco just merges the gui PR branch into the bitcoin/bitcoin repo
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767760' id='403495'>
<a class='timestamp' href='#403495'><time timestamp='2020-09-10T19:56:00Z'>19:56</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
better just review the code...
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767760' id='403496'>
<a class='timestamp' href='#403496'><time timestamp='2020-09-10T19:56:00Z'>19:56</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
RPC can also work async. But yes. Not the topic now.
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767760' id='403497'>
<a class='timestamp' href='#403497'><time timestamp='2020-09-10T19:56:00Z'>19:56</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
jonasschnelli: I mean we can do something wildly different but <b>*only*</b> if someone is willing to do the work
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767760' id='403498'>
<a class='timestamp' href='#403498'><time timestamp='2020-09-10T19:56:00Z'>19:56</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
and then I guess there&#x27;s a bot or something that is syncing bitcoin-core/gui to the latest master
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767760' id='403499'>
<a class='timestamp' href='#403499'><time timestamp='2020-09-10T19:56:00Z'>19:56</time></a>
&lt;<span class='nick nick-14'> jonatack</span>&gt;
there is a good recent writeup by ryanofsky, one month ago, here: <a href="https://bitcoincore.reviews/19160" class="link" target="_blank">https://bitcoincore.reviews/19160</a> 
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767760' id='403500'>
<a class='timestamp' href='#403500'><time timestamp='2020-09-10T19:56:00Z'>19:56</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I see no reason to second-guess ryanofsky now after all this time
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767760' id='403501'>
<a class='timestamp' href='#403501'><time timestamp='2020-09-10T19:56:00Z'>19:56</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
wumpus: that&#x27;s a point.
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767820' id='403502'>
<a class='timestamp' href='#403502'><time timestamp='2020-09-10T19:57:00Z'>19:57</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/pull/19071" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19071</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767820' id='403503'>
<a class='timestamp' href='#403503'><time timestamp='2020-09-10T19:57:00Z'>19:57</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
I have no issue with capnproto I think it&#x27;s fine :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767820' id='403504'>
<a class='timestamp' href='#403504'><time timestamp='2020-09-10T19:57:00Z'>19:57</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Last time I dug into it I found the approach pretty sane.
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767820' id='403505'>
<a class='timestamp' href='#403505'><time timestamp='2020-09-10T19:57:00Z'>19:57</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
at least it&#x27;s a step forward
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767820' id='403506'>
<a class='timestamp' href='#403506'><time timestamp='2020-09-10T19:57:00Z'>19:57</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
I spent a bunch of time reviewing it in &#x27;17 and think it&#x27;s a good approach
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767820' id='403507'>
<a class='timestamp' href='#403507'><time timestamp='2020-09-10T19:57:00Z'>19:57</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
when RPC one day converges on what we need for the GUI, then we can switch to that
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767880' id='403508'>
<a class='timestamp' href='#403508'><time timestamp='2020-09-10T19:58:00Z'>19:58</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Haven&#x27;t looked into it. But separating the GUI from the node via the internet/wireguard would be a requirement,.. right?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767880' id='403509'>
<a class='timestamp' href='#403509'><time timestamp='2020-09-10T19:58:00Z'>19:58</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I think it&#x27;s <b>*very important*</b> to take a step by step approach with things
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767880' id='403510'>
<a class='timestamp' href='#403510'><time timestamp='2020-09-10T19:58:00Z'>19:58</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Conversely, when the IPC interface simplifies and needs fewer locks...
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767940' id='403511'>
<a class='timestamp' href='#403511'><time timestamp='2020-09-10T19:59:00Z'>19:59</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
if not, we&#x27;ll never go anywhere, this kind of thing has been proposed since at least 2012
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767940' id='403512'>
<a class='timestamp' href='#403512'><time timestamp='2020-09-10T19:59:00Z'>19:59</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
indeed
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767940' id='403513'>
<a class='timestamp' href='#403513'><time timestamp='2020-09-10T19:59:00Z'>19:59</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
because everyone wants something else
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767940' id='403514'>
<a class='timestamp' href='#403514'><time timestamp='2020-09-10T19:59:00Z'>19:59</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
the power of open source
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767940' id='403515'>
<a class='timestamp' href='#403515'><time timestamp='2020-09-10T19:59:00Z'>19:59</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
and then someone does it and peopel want yet something else
<br>
</div>

<div class='talk op-msg' data-timestamp='1599767940' id='403516'>
<a class='timestamp' href='#403516'><time timestamp='2020-09-10T19:59:00Z'>19:59</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
I think that&#x27;s all I&#x27;m asking. If ryanofsky&#x27;s pr is reasonably reviewed
<br>
</div>

<div class='talk op-msg' data-timestamp='1599768000' id='403517'>
<a class='timestamp' href='#403517'><time timestamp='2020-09-10T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
so, anyhow, if you&#x27;re interested in process separation, please review ryanofsky&#x27;s PRs
<br>
</div>

<div class='talk op-msg' data-timestamp='1599768000' id='403518'>
<a class='timestamp' href='#403518'><time timestamp='2020-09-10T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
there is no &#x27;hard reason&#x27; it can&#x27;t be merged
<br>
</div>

<div class='talk op-msg' data-timestamp='1599768000' id='403519'>
<a class='timestamp' href='#403519'><time timestamp='2020-09-10T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
which is great news for anyone willing to spend review cycles on it, it derisks that time spent
<br>
</div>

<div class='talk op-msg' data-timestamp='1599768000' id='403520'>
<a class='timestamp' href='#403520'><time timestamp='2020-09-10T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
dont&#x27; come up with new wild ideas that would have to start from scratch :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1599768000' id='403521'>
<a class='timestamp' href='#403521'><time timestamp='2020-09-10T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
jeremyrubin: i would hope not, my understanding is that ryanofsky has been making progress towards this goal for quite some time now
<br>
</div>

<div class='talk op-msg' data-timestamp='1599768060' id='403522'>
<a class='timestamp' href='#403522'><time timestamp='2020-09-10T20:01:00Z'>20:01</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
of course after reviewing the PR you could give more targeted suggestions
<br>
</div>

<div class='talk op-msg' data-timestamp='1599768060' id='403523'>
<a class='timestamp' href='#403523'><time timestamp='2020-09-10T20:01:00Z'>20:01</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
oh, it&#x27;s time
<br>
</div>

<div class='talk op-msg' data-timestamp='1599768060' id='403524'>
<a class='timestamp' href='#403524'><time timestamp='2020-09-10T20:01:00Z'>20:01</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
#endmeeting
<br>
</div>

<div class='talk op-msg' data-timestamp='1599768060' id='403525'>
<a class='timestamp' href='#403525'><time timestamp='2020-09-10T20:01:00Z'>20:01</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Meeting ended Thu Sep 10 20:01:42 2020 UTC.  Information about MeetBot at <a href="http://wiki.debian.org/MeetBot" class="link" target="_blank">http://wiki.debian.org/MeetBot</a> . (v 0.1.4)
<br>
</div>

<div class='talk op-msg' data-timestamp='1599768060' id='403526'>
<a class='timestamp' href='#403526'><time timestamp='2020-09-10T20:01:00Z'>20:01</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Minutes:        <a href="http://www.erisian.com.au/meetbot/bitcoin-core-dev/2020/bitcoin-core-dev.2020-09-10-19.00.html" class="link" target="_blank">http://www.erisian.com.au/meetbot/bitcoin-core-dev/2020/bitcoin-core-dev.2020-09-10-19.00.html</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1599768060' id='403527'>
<a class='timestamp' href='#403527'><time timestamp='2020-09-10T20:01:00Z'>20:01</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Minutes (text): <a href="http://www.erisian.com.au/meetbot/bitcoin-core-dev/2020/bitcoin-core-dev.2020-09-10-19.00.txt" class="link" target="_blank">http://www.erisian.com.au/meetbot/bitcoin-core-dev/2020/bitcoin-core-dev.2020-09-10-19.00.txt</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1599768060' id='403528'>
<a class='timestamp' href='#403528'><time timestamp='2020-09-10T20:01:00Z'>20:01</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Log:            <a href="http://www.erisian.com.au/meetbot/bitcoin-core-dev/2020/bitcoin-core-dev.2020-09-10-19.00.log.html" class="link" target="_blank">http://www.erisian.com.au/meetbot/bitcoin-core-dev/2020/bitcoin-core-dev.2020-09-10-19.00.log.html</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1599768060' id='403529'>
<a class='timestamp' href='#403529'><time timestamp='2020-09-10T20:01:00Z'>20:01</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
\o
<br>
</div>

<div class='talk op-msg' data-timestamp='1599768060' id='403530'>
<a class='timestamp' href='#403530'><time timestamp='2020-09-10T20:01:00Z'>20:01</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
o/
<br>
</div>

<div class='talk op-msg' data-timestamp='1599768120' id='403531'>
<a class='timestamp' href='#403531'><time timestamp='2020-09-10T20:02:00Z'>20:02</time></a>
&lt;<span class='nick nick-14'> jonatack</span>&gt;
psa, the signet PR seems to be in the final stretch if anyone wants to have a look
<br>
</div>

<div class='talk op-msg' data-timestamp='1599768120' id='403532'>
<a class='timestamp' href='#403532'><time timestamp='2020-09-10T20:02:00Z'>20:02</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yay!
<br>
</div>

<div class='talk op-msg' data-timestamp='1599768120' id='403533'>
<a class='timestamp' href='#403533'><time timestamp='2020-09-10T20:02:00Z'>20:02</time></a>
&lt;<span class='nick nick-14'> jonatack</span>&gt;
\o
<br>
</div>

<div class='talk op-msg' data-timestamp='1599768120' id='403534'>
<a class='timestamp' href='#403534'><time timestamp='2020-09-10T20:02:00Z'>20:02</time></a>
&lt;<span class='nick nick-10'> michaelfolkson</span>&gt;
Final stretch as in we can start a barrage of follow up smaller signet PRs
<br>
</div>

<div class='talk op-msg' data-timestamp='1599768180' id='403535'>
<a class='timestamp' href='#403535'><time timestamp='2020-09-10T20:03:00Z'>20:03</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
but FWIW I had the idea that the capnproto approach for IPC communication was widely concept-ACKed a long time ago, that&#x27;s why the build system part was merged
<br>
</div>

<div class='talk op-msg' data-timestamp='1599768180' id='403536'>
<a class='timestamp' href='#403536'><time timestamp='2020-09-10T20:03:00Z'>20:03</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
I hadn&#x27;t tracked that development :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1599768180' id='403537'>
<a class='timestamp' href='#403537'><time timestamp='2020-09-10T20:03:00Z'>20:03</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
I don&#x27;t see why we need two RPC interfaces ;)
<br>
</div>

<div class='talk op-msg' data-timestamp='1599768240' id='403538'>
<a class='timestamp' href='#403538'><time timestamp='2020-09-10T20:04:00Z'>20:04</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it&#x27;s not a RPC interface it&#x27;s internal interface only
<br>
</div>

<div class='talk op-msg' data-timestamp='1599768240' id='403539'>
<a class='timestamp' href='#403539'><time timestamp='2020-09-10T20:04:00Z'>20:04</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it will not be documented for external clients so it has much more flexibility
<br>
</div>

<div class='talk op-msg' data-timestamp='1599768240' id='403540'>
<a class='timestamp' href='#403540'><time timestamp='2020-09-10T20:04:00Z'>20:04</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it will also not be compatible between versions
<br>
</div>

<div class='talk op-msg' data-timestamp='1599768240' id='403541'>
<a class='timestamp' href='#403541'><time timestamp='2020-09-10T20:04:00Z'>20:04</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
no matter how we use it, it&#x27;s an RPC interface..
<br>
</div>

<div class='talk op-msg' data-timestamp='1599768240' id='403542'>
<a class='timestamp' href='#403542'><time timestamp='2020-09-10T20:04:00Z'>20:04</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
I reviewed the process isolation stuff relatively early on, but it wasn&#x27;t clear that it was going to move forward and didn&#x27;t think i could do anything to move the needle on making an IPC interface available.
<br>
</div>

<div class='talk op-msg' data-timestamp='1599768240' id='403543'>
<a class='timestamp' href='#403543'><time timestamp='2020-09-10T20:04:00Z'>20:04</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
we could just as well add an undocumented and unstable JSON-RPC interface
<br>
</div>

<div class='talk op-msg' data-timestamp='1599768240' id='403544'>
<a class='timestamp' href='#403544'><time timestamp='2020-09-10T20:04:00Z'>20:04</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
now that I know it is, I&#x27;ll re-review :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1599768300' id='403545'>
<a class='timestamp' href='#403545'><time timestamp='2020-09-10T20:05:00Z'>20:05</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
there&#x27;s a very different set of requirements for it anyhow
<br>
</div>

<div class='talk op-msg' data-timestamp='1599768300' id='403546'>
<a class='timestamp' href='#403546'><time timestamp='2020-09-10T20:05:00Z'>20:05</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
but as said maybe they can converge in the future
<br>
</div>

<div class='talk op-msg' data-timestamp='1599768300' id='403547'>
<a class='timestamp' href='#403547'><time timestamp='2020-09-10T20:05:00Z'>20:05</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
luke-jr: the difference is that you can fork a process and explicitly set up the IPC channel
<br>
</div>

<div class='talk op-msg' data-timestamp='1599768300' id='403548'>
<a class='timestamp' href='#403548'><time timestamp='2020-09-10T20:05:00Z'>20:05</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
the idea is to allow for some experimentation here
<br>
</div>

<div class='talk op-msg' data-timestamp='1599768300' id='403549'>
<a class='timestamp' href='#403549'><time timestamp='2020-09-10T20:05:00Z'>20:05</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
so that the connection is internal to one parent process
<br>
</div>

<div class='talk op-msg' data-timestamp='1599768360' id='403550'>
<a class='timestamp' href='#403550'><time timestamp='2020-09-10T20:06:00Z'>20:06</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
You could maybe do this for RPC, but the point of IPC is to allow deeper integration &amp; work with e.g. shared memory.
<br>
</div>

<div class='talk op-msg' data-timestamp='1599768360' id='403551'>
<a class='timestamp' href='#403551'><time timestamp='2020-09-10T20:06:00Z'>20:06</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
so it won&#x27;t be possible to run the GUI on another machine? :/
<br>
</div>

<div class='talk op-msg' data-timestamp='1599768360' id='403552'>
<a class='timestamp' href='#403552'><time timestamp='2020-09-10T20:06:00Z'>20:06</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it&#x27;s simply a pipe, it could send every protocol, but in any case, capnproto is ok for now imo
<br>
</div>

<div class='talk op-msg' data-timestamp='1599768420' id='403553'>
<a class='timestamp' href='#403553'><time timestamp='2020-09-10T20:07:00Z'>20:07</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jeremyrubin: first thing i hear about shared memory
<br>
</div>

<div class='talk op-msg' data-timestamp='1599768420' id='403554'>
<a class='timestamp' href='#403554'><time timestamp='2020-09-10T20:07:00Z'>20:07</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I doubt there are any plans about shared memory
<br>
</div>

<div class='talk op-msg' data-timestamp='1599768480' id='403555'>
<a class='timestamp' href='#403555'><time timestamp='2020-09-10T20:08:00Z'>20:08</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
if gmaxwell is queasy about capnproto I&#x27;m sure he&#x27;ll go insane when you mention shared memory :-)
<br>
</div>

<div class='talk op-msg' data-timestamp='1599768480' id='403556'>
<a class='timestamp' href='#403556'><time timestamp='2020-09-10T20:08:00Z'>20:08</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it&#x27;s also really not needed for this
<br>
</div>

<div class='talk op-msg' data-timestamp='1599768600' id='403557'>
<a class='timestamp' href='#403557'><time timestamp='2020-09-10T20:10:00Z'>20:10</time></a>
&lt;<span class='nick nick-6'> yanmaani</span>&gt;
It&#x27;s two different approaches. With well-defined RPC and all that, you can run it on separate machines, and you can have other projects writing GUIs. With shared memory and more &quot;usual&quot; IPC, you&#x27;re more tightly coupled. So you can iterate faster, but you lose some of the benefits of keeping -gui separate
<br>
</div>

<div class='talk op-msg' data-timestamp='1599768600' id='403558'>
<a class='timestamp' href='#403558'><time timestamp='2020-09-10T20:10:00Z'>20:10</time></a>
&lt;<span class='nick nick-6'> yanmaani</span>&gt;
if it always has to be the same version, for instance
<br>
</div>

<div class='talk op-msg' data-timestamp='1599768660' id='403559'>
<a class='timestamp' href='#403559'><time timestamp='2020-09-10T20:11:00Z'>20:11</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1599768720' id='403560'>
<a class='timestamp' href='#403560'><time timestamp='2020-09-10T20:12:00Z'>20:12</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
fwiw someone mentioned to me the other day a desire to revive wxBitcoin - better separation helps that too
<br>
</div>

<div class='talk op-msg' data-timestamp='1599768780' id='403561'>
<a class='timestamp' href='#403561'><time timestamp='2020-09-10T20:13:00Z'>20:13</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
iirc capnproto had some shared memory stuff but i may be wrong
<br>
</div>

<div class='talk op-msg' data-timestamp='1599768840' id='403562'>
<a class='timestamp' href='#403562'><time timestamp='2020-09-10T20:14:00Z'>20:14</time></a>
&lt;<span class='nick nick-6'> yanmaani</span>&gt;
If you do the separation very cleanly you could have hundreds of random bozos making GUIs. Whether this is great or horrifying is up to your imagination.
<br>
</div>

<div class='talk op-msg' data-timestamp='1599768900' id='403563'>
<a class='timestamp' href='#403563'><time timestamp='2020-09-10T20:15:00Z'>20:15</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
revive wxbitcoin?!? whyy
<br>
</div>

<div class='talk op-msg' data-timestamp='1599768900' id='403564'>
<a class='timestamp' href='#403564'><time timestamp='2020-09-10T20:15:00Z'>20:15</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
lol
<br>
</div>

<div class='talk op-msg' data-timestamp='1599768900' id='403565'>
<a class='timestamp' href='#403565'><time timestamp='2020-09-10T20:15:00Z'>20:15</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
has 3.9 been released already?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599768900' id='403566'>
<a class='timestamp' href='#403566'><time timestamp='2020-09-10T20:15:00Z'>20:15</time></a>
&lt;<span class='nick nick-6'> yanmaani</span>&gt;
It was I. I don&#x27;t like Qt.
<br>
</div>

<div class='talk op-msg' data-timestamp='1599768960' id='403567'>
<a class='timestamp' href='#403567'><time timestamp='2020-09-10T20:16:00Z'>20:16</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
sigh, I don&#x27;t even want to know, I want to have 0 to do with the GUI anymore
<br>
</div>

<div class='talk op-msg' data-timestamp='1599768960' id='403568'>
<a class='timestamp' href='#403568'><time timestamp='2020-09-10T20:16:00Z'>20:16</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
eh, 2.9 - apparently yes, they&#x27;re at 3.1.4
<br>
</div>

<div class='talk op-msg' data-timestamp='1599768960' id='403569'>
<a class='timestamp' href='#403569'><time timestamp='2020-09-10T20:16:00Z'>20:16</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
sipa: progressss
<br>
</div>

<div class='talk op-msg' data-timestamp='1599769020' id='403570'>
<a class='timestamp' href='#403570'><time timestamp='2020-09-10T20:17:00Z'>20:17</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yanmaani: use RPC :p
<br>
</div>

<div class='talk op-msg' data-timestamp='1599769020' id='403571'>
<a class='timestamp' href='#403571'><time timestamp='2020-09-10T20:17:00Z'>20:17</time></a>
&lt;<span class='nick nick-6'> yanmaani</span>&gt;
well, with these changes, you can just jettison the unloved components of the codebase
<br>
</div>

<div class='talk op-msg' data-timestamp='1599769020' id='403572'>
<a class='timestamp' href='#403572'><time timestamp='2020-09-10T20:17:00Z'>20:17</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I just dislike all the bikeshedding, everyone wants something else, I think &quot;I don&#x27;t like library X&quot; is an awful reason
<br>
</div>

<div class='talk op-msg' data-timestamp='1599769020' id='403573'>
<a class='timestamp' href='#403573'><time timestamp='2020-09-10T20:17:00Z'>20:17</time></a>
&lt;<span class='nick nick-6'> yanmaani</span>&gt;
Or I can procrastinate on it and wait for these changes to be made, and use whatever you eventually bikeshed on.
<br>
</div>

<div class='talk op-msg' data-timestamp='1599769080' id='403574'>
<a class='timestamp' href='#403574'><time timestamp='2020-09-10T20:18:00Z'>20:18</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
imo ideally the GUI design should really be made by someone that gets GUIs at a psychological level and designs something that is usable by end-users, not by developers bikeshedding over libraries and widget types
<br>
</div>

<div class='talk op-msg' data-timestamp='1599769140' id='403575'>
<a class='timestamp' href='#403575'><time timestamp='2020-09-10T20:19:00Z'>20:19</time></a>
&lt;<span class='nick nick-6'> yanmaani</span>&gt;
imo you should have two groups
<br>
</div>

<div class='talk op-msg' data-timestamp='1599769140' id='403576'>
<a class='timestamp' href='#403576'><time timestamp='2020-09-10T20:19:00Z'>20:19</time></a>
&lt;<span class='nick nick-6'> yanmaani</span>&gt;
one group of designers who know design who design the psychologically optimal GUI in photoshop
<br>
</div>

<div class='talk op-msg' data-timestamp='1599769140' id='403577'>
<a class='timestamp' href='#403577'><time timestamp='2020-09-10T20:19:00Z'>20:19</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
developes come with ever sillier concerns
<br>
</div>

<div class='talk op-msg' data-timestamp='1599769140' id='403578'>
<a class='timestamp' href='#403578'><time timestamp='2020-09-10T20:19:00Z'>20:19</time></a>
&lt;<span class='nick nick-6'> yanmaani</span>&gt;
one group of developers who bikeshed over widget types
<br>
</div>

<div class='talk op-msg' data-timestamp='1599769140' id='403579'>
<a class='timestamp' href='#403579'><time timestamp='2020-09-10T20:19:00Z'>20:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yanmaani: will you pay them all?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599769140' id='403580'>
<a class='timestamp' href='#403580'><time timestamp='2020-09-10T20:19:00Z'>20:19</time></a>
&lt;<span class='nick nick-6'> yanmaani</span>&gt;
(and implement the mockup)
<br>
</div>

<div class='talk op-msg' data-timestamp='1599769200' id='403581'>
<a class='timestamp' href='#403581'><time timestamp='2020-09-10T20:20:00Z'>20:20</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it&#x27;s interaction design, you can&#x27;t really do that in photoshop
<br>
</div>

<div class='talk op-msg' data-timestamp='1599769200' id='403582'>
<a class='timestamp' href='#403582'><time timestamp='2020-09-10T20:20:00Z'>20:20</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
UX is far more than graphical design
<br>
</div>

<div class='talk op-msg' data-timestamp='1599769200' id='403583'>
<a class='timestamp' href='#403583'><time timestamp='2020-09-10T20:20:00Z'>20:20</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
^^ very much this
<br>
</div>

<div class='talk op-msg' data-timestamp='1599769200' id='403584'>
<a class='timestamp' href='#403584'><time timestamp='2020-09-10T20:20:00Z'>20:20</time></a>
&lt;<span class='nick nick-6'> yanmaani</span>&gt;
I actually like the way the current GUI looks, and the fact that Electrum has converged on something extremely similar to Core is reassuring
<br>
</div>

<div class='talk op-msg' data-timestamp='1599769320' id='403585'>
<a class='timestamp' href='#403585'><time timestamp='2020-09-10T20:22:00Z'>20:22</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
what&#x27;s missing from the current gui is mostly debug related things, but im guessing the intersection between people who need debug stuff and people who won&#x27;t use the cli is pretty small
<br>
</div>

<div class='talk op-msg' data-timestamp='1599769320' id='403586'>
<a class='timestamp' href='#403586'><time timestamp='2020-09-10T20:22:00Z'>20:22</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i haven&#x27;t used the GUI in years
<br>
</div>

<div class='talk op-msg' data-timestamp='1599769380' id='403587'>
<a class='timestamp' href='#403587'><time timestamp='2020-09-10T20:23:00Z'>20:23</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
♥ current GUI
<br>
</div>

<div class='talk op-msg' data-timestamp='1599769380' id='403588'>
<a class='timestamp' href='#403588'><time timestamp='2020-09-10T20:23:00Z'>20:23</time></a>
&lt;<span class='nick nick-6'> yanmaani</span>&gt;
^
<br>
</div>

<div class='talk op-msg' data-timestamp='1599769380' id='403589'>
<a class='timestamp' href='#403589'><time timestamp='2020-09-10T20:23:00Z'>20:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
then what&#x27;s the problem with Qt?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599769380' id='403590'>
<a class='timestamp' href='#403590'><time timestamp='2020-09-10T20:23:00Z'>20:23</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
phantomcircuit: what debug information are you missing?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599769440' id='403591'>
<a class='timestamp' href='#403591'><time timestamp='2020-09-10T20:24:00Z'>20:24</time></a>
&lt;<span class='nick nick-14'> * luke-jr</span>&gt;
♥ Qt too
<br>
</div>

<div class='talk op-msg' data-timestamp='1599769440' id='403592'>
<a class='timestamp' href='#403592'><time timestamp='2020-09-10T20:24:00Z'>20:24</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
the current gui kinda sucks with multiwallet
<br>
</div>

<div class='talk op-msg' data-timestamp='1599769440' id='403593'>
<a class='timestamp' href='#403593'><time timestamp='2020-09-10T20:24:00Z'>20:24</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
it&#x27;s really easy to accidentally use the wrong wallet
<br>
</div>

<div class='talk op-msg' data-timestamp='1599769500' id='403594'>
<a class='timestamp' href='#403594'><time timestamp='2020-09-10T20:25:00Z'>20:25</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
admittedly, I don&#x27;t use multiwallet much yet
<br>
</div>

<div class='talk op-msg' data-timestamp='1599769500' id='403595'>
<a class='timestamp' href='#403595'><time timestamp='2020-09-10T20:25:00Z'>20:25</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
too much in the habit of closing one and opening another
<br>
</div>

<div class='talk op-msg' data-timestamp='1599769500' id='403596'>
<a class='timestamp' href='#403596'><time timestamp='2020-09-10T20:25:00Z'>20:25</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I only use multiwallet for watch-only things
<br>
</div>

<div class='talk op-msg' data-timestamp='1599769500' id='403597'>
<a class='timestamp' href='#403597'><time timestamp='2020-09-10T20:25:00Z'>20:25</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
I mostly use multiwallet for manual testing tbh, but it&#x27;s fantastic for that
<br>
</div>

<div class='talk op-msg' data-timestamp='1599769560' id='403598'>
<a class='timestamp' href='#403598'><time timestamp='2020-09-10T20:26:00Z'>20:26</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
I run multiple wallets watching the same thing lol
<br>
</div>

<div class='talk op-msg' data-timestamp='1599769560' id='403599'>
<a class='timestamp' href='#403599'><time timestamp='2020-09-10T20:26:00Z'>20:26</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
tbf, one is legacy, another descriptor, and the last sqlite descriptor
<br>
</div>

<div class='talk op-msg' data-timestamp='1599769560' id='403600'>
<a class='timestamp' href='#403600'><time timestamp='2020-09-10T20:26:00Z'>20:26</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
hehe
<br>
</div>

<div class='talk op-msg' data-timestamp='1599769620' id='403601'>
<a class='timestamp' href='#403601'><time timestamp='2020-09-10T20:27:00Z'>20:27</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
wumpus, &quot;is this transaction in the mempool&quot;, &quot;how big is the mempool&quot; ie things that aren&#x27;t actually relevant to most users
<br>
</div>

<div class='talk op-msg' data-timestamp='1599769620' id='403602'>
<a class='timestamp' href='#403602'><time timestamp='2020-09-10T20:27:00Z'>20:27</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
phantomcircuit: ah yes, mempool information is a bit sparse
<br>
</div>

<div class='talk op-msg' data-timestamp='1599769620' id='403603'>
<a class='timestamp' href='#403603'><time timestamp='2020-09-10T20:27:00Z'>20:27</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
phantomcircuit: how big is the mempool is reported
<br>
</div>

<div class='talk op-msg' data-timestamp='1599769680' id='403604'>
<a class='timestamp' href='#403604'><time timestamp='2020-09-10T20:28:00Z'>20:28</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i&#x27;d like a debug tool with a secp256k1 DL solver
<br>
</div>

<div class='talk op-msg' data-timestamp='1599769680' id='403605'>
<a class='timestamp' href='#403605'><time timestamp='2020-09-10T20:28:00Z'>20:28</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
phantomcircuit: Knots has some mempool graph stuff jonasschnelli wrote years ago
<br>
</div>

<div class='talk op-msg' data-timestamp='1599769680' id='403606'>
<a class='timestamp' href='#403606'><time timestamp='2020-09-10T20:28:00Z'>20:28</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
would come in really.handy
<br>
</div>

<div class='talk op-msg' data-timestamp='1599769680' id='403607'>
<a class='timestamp' href='#403607'><time timestamp='2020-09-10T20:28:00Z'>20:28</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
did we never merge the mempool graph stuff?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599769680' id='403608'>
<a class='timestamp' href='#403608'><time timestamp='2020-09-10T20:28:00Z'>20:28</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I thought that was pretty nice
<br>
</div>

<div class='talk op-msg' data-timestamp='1599769680' id='403609'>
<a class='timestamp' href='#403609'><time timestamp='2020-09-10T20:28:00Z'>20:28</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
wumpus: I have rebased versions of an older version of the PR
<br>
</div>

<div class='talk op-msg' data-timestamp='1599769680' id='403610'>
<a class='timestamp' href='#403610'><time timestamp='2020-09-10T20:28:00Z'>20:28</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I have picked this up recently
<br>
</div>

<div class='talk op-msg' data-timestamp='1599769740' id='403611'>
<a class='timestamp' href='#403611'><time timestamp='2020-09-10T20:29:00Z'>20:29</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
jonasschnelli changed the RPC side of it all around, but never updated the GUI for it
<br>
</div>

<div class='talk op-msg' data-timestamp='1599769740' id='403612'>
<a class='timestamp' href='#403612'><time timestamp='2020-09-10T20:29:00Z'>20:29</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
ah, nice
<br>
</div>

<div class='talk op-msg' data-timestamp='1599769740' id='403613'>
<a class='timestamp' href='#403613'><time timestamp='2020-09-10T20:29:00Z'>20:29</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
that&#x27;s the kind of things I like about the GUI tbh, debug and data visualization
<br>
</div>

<div class='talk op-msg' data-timestamp='1599769740' id='403614'>
<a class='timestamp' href='#403614'><time timestamp='2020-09-10T20:29:00Z'>20:29</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
indeed
<br>
</div>

<div class='talk op-msg' data-timestamp='1599769740' id='403615'>
<a class='timestamp' href='#403615'><time timestamp='2020-09-10T20:29:00Z'>20:29</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Made it more like Jochen Hoenick ones
<br>
</div>

<div class='talk op-msg' data-timestamp='1599769740' id='403616'>
<a class='timestamp' href='#403616'><time timestamp='2020-09-10T20:29:00Z'>20:29</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
With few ranges
<br>
</div>

<div class='talk op-msg' data-timestamp='1599769740' id='403617'>
<a class='timestamp' href='#403617'><time timestamp='2020-09-10T20:29:00Z'>20:29</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I’ll PR that soon.
<br>
</div>

<div class='talk op-msg' data-timestamp='1599769800' id='403618'>
<a class='timestamp' href='#403618'><time timestamp='2020-09-10T20:30:00Z'>20:30</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
jonasschnelli: awesome!
<br>
</div>

<div class='talk op-msg' data-timestamp='1599769800' id='403619'>
<a class='timestamp' href='#403619'><time timestamp='2020-09-10T20:30:00Z'>20:30</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I think it would be very nice if users can see those things locally, without having to go to a site
<br>
</div>

<div class='talk op-msg' data-timestamp='1599769860' id='403620'>
<a class='timestamp' href='#403620'><time timestamp='2020-09-10T20:31:00Z'>20:31</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
[9/10/20 13:28] &lt;sipa&gt; i&#x27;d like a debug tool with a secp256k1 DL solver
<br>
</div>

<div class='talk op-msg' data-timestamp='1599769920' id='403621'>
<a class='timestamp' href='#403621'><time timestamp='2020-09-10T20:32:00Z'>20:32</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
I&#x27;d think you&#x27;d see this before a good QT GUI debugger 
<br>
</div>

<div class='talk op-msg' data-timestamp='1599769920' id='403622'>
<a class='timestamp' href='#403622'><time timestamp='2020-09-10T20:32:00Z'>20:32</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
The only question is if you can make a good trapdoor function out of bugs in QT
<br>
</div>

<div class='talk op-msg' data-timestamp='1599769980' id='403623'>
<a class='timestamp' href='#403623'><time timestamp='2020-09-10T20:33:00Z'>20:33</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
BIP QT-root
<br>
</div>

<div class='talk op-msg' data-timestamp='1599770160' id='403624'>
<a class='timestamp' href='#403624'><time timestamp='2020-09-10T20:36:00Z'>20:36</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
a DL solver would definitely be useful :&#x27;)
<br>
</div>

<div class='talk op-msg' data-timestamp='1599770160' id='403625'>
<a class='timestamp' href='#403625'><time timestamp='2020-09-10T20:36:00Z'>20:36</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
at least if it doesn&#x27;t hold up the GUI loop for a million billion years
<br>
</div>

<div class='talk op-msg' data-timestamp='1599770220' id='403626'>
<a class='timestamp' href='#403626'><time timestamp='2020-09-10T20:37:00Z'>20:37</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
haha
<br>
</div>

<div class='talk op-msg' data-timestamp='1599770340' id='403627'>
<a class='timestamp' href='#403627'><time timestamp='2020-09-10T20:39:00Z'>20:39</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
&lt;sipa&gt; i haven&#x27;t used the GUI in years
<br>
</div>

<div class='talk op-msg' data-timestamp='1599770340' id='403628'>
<a class='timestamp' href='#403628'><time timestamp='2020-09-10T20:39:00Z'>20:39</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
because GUI uses sipa
<br>
</div>

<div class='talk op-msg' data-timestamp='1599770340' id='403629'>
<a class='timestamp' href='#403629'><time timestamp='2020-09-10T20:39:00Z'>20:39</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
for the ones interested in the mempool size/fee chart: <a href="https://github.com/bitcoin/bitcoin/compare/master...jonasschnelli:2020/03/mempool_graph?expand=1" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/master...jonasschnelli:2020/03/mempool_graph?expand=1</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1599770340' id='403630'>
<a class='timestamp' href='#403630'><time timestamp='2020-09-10T20:39:00Z'>20:39</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
(it&#x27;s WIP)
<br>
</div>

<div class='talk op-msg' data-timestamp='1599770400' id='403631'>
<a class='timestamp' href='#403631'><time timestamp='2020-09-10T20:40:00Z'>20:40</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
It&#x27;s more or less a clone of <a href="https://jochen-hoenicke.de/queue/#0" class="link" target="_blank">https://jochen-hoenicke.de/queue/#0</a>,24h
<br>
</div>

<div class='talk op-msg' data-timestamp='1599770400' id='403632'>
<a class='timestamp' href='#403632'><time timestamp='2020-09-10T20:40:00Z'>20:40</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
(but obviously internal and QT native)
<br>
</div>

<div class='talk op-msg' data-timestamp='1599770400' id='403633'>
<a class='timestamp' href='#403633'><time timestamp='2020-09-10T20:40:00Z'>20:40</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/0" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/0</a> | HTTP Error 404: Not Found
<br>
</div>

<div class='talk op-msg' data-timestamp='1599770820' id='403634'>
<a class='timestamp' href='#403634'><time timestamp='2020-09-10T20:47:00Z'>20:47</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
sipa, btw going from 1000 to 100k keys only added 50% to the runtime of a rescan
<br>
</div>

<div class='talk op-msg' data-timestamp='1599770820' id='403635'>
<a class='timestamp' href='#403635'><time timestamp='2020-09-10T20:47:00Z'>20:47</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
phantomcircuit: wait until you hit enough keys that the mapKeys structure doesn&#x27;t fit in RAM anymore
<br>
</div>

<div class='talk op-msg' data-timestamp='1599770820' id='403636'>
<a class='timestamp' href='#403636'><time timestamp='2020-09-10T20:47:00Z'>20:47</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
;)
<br>
</div>

<div class='talk op-msg' data-timestamp='1599770820' id='403637'>
<a class='timestamp' href='#403637'><time timestamp='2020-09-10T20:47:00Z'>20:47</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
could always use a bloom filter for the wallet keys, to speed it up ;)
<br>
</div>

<div class='talk op-msg' data-timestamp='1599770880' id='403638'>
<a class='timestamp' href='#403638'><time timestamp='2020-09-10T20:48:00Z'>20:48</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
sipa, that would be a very very large number of keys
<br>
</div>

<div class='talk op-msg' data-timestamp='1599770880' id='403639'>
<a class='timestamp' href='#403639'><time timestamp='2020-09-10T20:48:00Z'>20:48</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
phantomcircuit: you just have too much RAM
<br>
</div>

<div class='talk op-msg' data-timestamp='1599770880' id='403640'>
<a class='timestamp' href='#403640'><time timestamp='2020-09-10T20:48:00Z'>20:48</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
;)
<br>
</div>

<div class='talk op-msg' data-timestamp='1599770940' id='403641'>
<a class='timestamp' href='#403641'><time timestamp='2020-09-10T20:49:00Z'>20:49</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
phantomcircuit: more seriously, i think the actual impact of number of keys on rescan speed isn&#x27;t so much the O(log n) scaling, but whether or not the mapKeys fits in various levels of CPU cache or RAM
<br>
</div>

<div class='talk op-msg' data-timestamp='1599770940' id='403642'>
<a class='timestamp' href='#403642'><time timestamp='2020-09-10T20:49:00Z'>20:49</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
sipa, indeed
<br>
</div>

<div class='talk op-msg' data-timestamp='1599771000' id='403643'>
<a class='timestamp' href='#403643'><time timestamp='2020-09-10T20:50:00Z'>20:50</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
jonasschnelli: that&#x27;s great!
<br>
</div>

<div class='talk op-msg' data-timestamp='1599771000' id='403644'>
<a class='timestamp' href='#403644'><time timestamp='2020-09-10T20:50:00Z'>20:50</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
luke-jr, the gcs filters that &#x27;neutrino&#x27; use are what i was using, but to actually use them requires changing violating some assumptions the current logic has (namely that every block derives the filter key from the block hash)
<br>
</div>

<div class='talk op-msg' data-timestamp='1599771660' id='403645'>
<a class='timestamp' href='#403645'><time timestamp='2020-09-10T21:01:00Z'>21:01</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
phantomcircuit: I meant the other direction
<br>
</div>

<div class='talk op-msg' data-timestamp='1599771900' id='403646'>
<a class='timestamp' href='#403646'><time timestamp='2020-09-10T21:05:00Z'>21:05</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
luke-jr, ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599771900' id='403647'>
<a class='timestamp' href='#403647'><time timestamp='2020-09-10T21:05:00Z'>21:05</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
oh put the wallet keys into a filter
<br>
</div>

<div class='talk op-msg' data-timestamp='1599771900' id='403648'>
<a class='timestamp' href='#403648'><time timestamp='2020-09-10T21:05:00Z'>21:05</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1599771960' id='403649'>
<a class='timestamp' href='#403649'><time timestamp='2020-09-10T21:06:00Z'>21:06</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
if you do it right, you might even be able to do a union of the neutrino filters with the wallet filter..
<br>
</div>

<div class='talk op-msg' data-timestamp='1599771960' id='403650'>
<a class='timestamp' href='#403650'><time timestamp='2020-09-10T21:06:00Z'>21:06</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
iirc most of the time for the current rescan is actually deserializing the block and verifying the merkle root
<br>
</div>

<div class='talk op-msg' data-timestamp='1599771960' id='403651'>
<a class='timestamp' href='#403651'><time timestamp='2020-09-10T21:06:00Z'>21:06</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
sipa: interestingly on my branch where i&#x27;ve changed ~all of the wallet maps and sets to unordered_map/set, the rescan actually takes 10x longer. On both newly created legacy and descriptor wallets
<br>
</div>

<div class='talk op-msg' data-timestamp='1599771960' id='403652'>
<a class='timestamp' href='#403652'><time timestamp='2020-09-10T21:06:00Z'>21:06</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
you don&#x27;t need to verify the merkle root
<br>
</div>

<div class='talk op-msg' data-timestamp='1599771960' id='403653'>
<a class='timestamp' href='#403653'><time timestamp='2020-09-10T21:06:00Z'>21:06</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
seems like siphash is a lot slower than one map comparison?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599772020' id='403654'>
<a class='timestamp' href='#403654'><time timestamp='2020-09-10T21:07:00Z'>21:07</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
achow101: interesting
<br>
</div>

<div class='talk op-msg' data-timestamp='1599772020' id='403655'>
<a class='timestamp' href='#403655'><time timestamp='2020-09-10T21:07:00Z'>21:07</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
actually, siphash probably isn&#x27;t being used there, the hashers for CKeyID and CScriptID just use uint&#x27;s GetUint64
<br>
</div>

<div class='talk op-msg' data-timestamp='1599772080' id='403656'>
<a class='timestamp' href='#403656'><time timestamp='2020-09-10T21:08:00Z'>21:08</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
luke-jr, ok but it does verify the merkle tree because you&#x27;re loading the block from disk
<br>
</div>

<div class='talk op-msg' data-timestamp='1599772140' id='403657'>
<a class='timestamp' href='#403657'><time timestamp='2020-09-10T21:09:00Z'>21:09</time></a>
&lt;<span class='nick nick-6'> yanmaani</span>&gt;
would PRs be accepted where you replace std::unordered_map with something else for CCoinsViewCache, or is that not worth looking into?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599772200' id='403658'>
<a class='timestamp' href='#403658'><time timestamp='2020-09-10T21:10:00Z'>21:10</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
if it&#x27;s measurably faster, possibly
<br>
</div>

<div class='talk op-msg' data-timestamp='1599772200' id='403659'>
<a class='timestamp' href='#403659'><time timestamp='2020-09-10T21:10:00Z'>21:10</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
jonasschnelli: will try it out a bit tomorrow
<br>
</div>

<div class='talk op-msg' data-timestamp='1599772260' id='403660'>
<a class='timestamp' href='#403660'><time timestamp='2020-09-10T21:11:00Z'>21:11</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
luke-jr, anyways if you setup the gcs filter index things using a local static key then you can calculate the hashes that you need to check against and save them, which makes the rescan basically just finding the union of two sets
<br>
</div>

<div class='talk op-msg' data-timestamp='1599772320' id='403661'>
<a class='timestamp' href='#403661'><time timestamp='2020-09-10T21:12:00Z'>21:12</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
phantomcircuit: but make both sets a filter
<br>
</div>

<div class='talk op-msg' data-timestamp='1599772320' id='403662'>
<a class='timestamp' href='#403662'><time timestamp='2020-09-10T21:12:00Z'>21:12</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
luke-jr, i guess you could take the gcs set and make a bloom filter on top of that?
<br>
</div>

<div class='talk op-msg' data-timestamp='1599772320' id='403663'>
<a class='timestamp' href='#403663'><time timestamp='2020-09-10T21:12:00Z'>21:12</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
besides being demostratively faster, it also depends on &#x27;something else&#x27;, e.g. probably not if it introduces any new dependencies on boost, or anything else external
<br>
</div>

<div class='talk op-msg' data-timestamp='1599772380' id='403664'>
<a class='timestamp' href='#403664'><time timestamp='2020-09-10T21:13:00Z'>21:13</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
iono i suspect that would actually be slower than just doing the giant union of the sets calculation
<br>
</div>

<div class='talk op-msg' data-timestamp='1599772380' id='403665'>
<a class='timestamp' href='#403665'><time timestamp='2020-09-10T21:13:00Z'>21:13</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
also as it&#x27;s a consensus critical data structure it&#x27;s something to be very careful with
<br>
</div>

<div class='talk op-msg' data-timestamp='1599772380' id='403666'>
<a class='timestamp' href='#403666'><time timestamp='2020-09-10T21:13:00Z'>21:13</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
bdb!
<br>
</div>

<div class='talk op-msg' data-timestamp='1599772380' id='403667'>
<a class='timestamp' href='#403667'><time timestamp='2020-09-10T21:13:00Z'>21:13</time></a>
&lt;<span class='nick nick-14'> * luke-jr</span>&gt;
hides
<br>
</div>

<div class='talk op-msg' data-timestamp='1599772440' id='403668'>
<a class='timestamp' href='#403668'><time timestamp='2020-09-10T21:14:00Z'>21:14</time></a>
&lt;<span class='nick nick-6'> jb55</span>&gt;
achow101: agreed on multiwallet gui. this is something I still use cli for over qt. would be great to have an &quot;all wallets&quot; transaction view.
<br>
</div>

<div class='talk op-msg' data-timestamp='1599772740' id='403669'>
<a class='timestamp' href='#403669'><time timestamp='2020-09-10T21:19:00Z'>21:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jb55: if you have the same key/address/descriptor imported in multiple simultaneously-loaded wallets, an &quot;all wallets&quot; overview may be confusing
<br>
</div>

<div class='talk op-msg' data-timestamp='1599772740' id='403670'>
<a class='timestamp' href='#403670'><time timestamp='2020-09-10T21:19:00Z'>21:19</time></a>
&lt;<span class='nick nick-4'> * sipa</span>&gt;
predicts people creating 1M wallets with the same 21 BTC UTXO on it, and screenshottijg their 21M BTC combined balance
<br>
</div>

<div class='talk op-msg' data-timestamp='1599772800' id='403671'>
<a class='timestamp' href='#403671'><time timestamp='2020-09-10T21:20:00Z'>21:20</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
sipa: it feels like importing the same thing into multiple wallets might not be something people tend to do
<br>
</div>

<div class='talk op-msg' data-timestamp='1599772800' id='403672'>
<a class='timestamp' href='#403672'><time timestamp='2020-09-10T21:20:00Z'>21:20</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
sipa: then don&#x27;t use it? :P
<br>
</div>

<div class='talk op-msg' data-timestamp='1599772800' id='403673'>
<a class='timestamp' href='#403673'><time timestamp='2020-09-10T21:20:00Z'>21:20</time></a>
&lt;<span class='nick nick-6'> jb55</span>&gt;
sipa: maybe they shouldn&#x27;t do that :P
<br>
</div>

<div class='talk op-msg' data-timestamp='1599772800' id='403674'>
<a class='timestamp' href='#403674'><time timestamp='2020-09-10T21:20:00Z'>21:20</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jb55: seems achow101 just did!
<br>
</div>

<div class='talk op-msg' data-timestamp='1599772860' id='403675'>
<a class='timestamp' href='#403675'><time timestamp='2020-09-10T21:21:00Z'>21:21</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
sipa: I suspect that you won&#x27;t be able to load 1M wallets
<br>
</div>

<div class='talk op-msg' data-timestamp='1599772920' id='403676'>
<a class='timestamp' href='#403676'><time timestamp='2020-09-10T21:22:00Z'>21:22</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
achow101: software should be optimized for all use cases!
<br>
</div>

<div class='talk op-msg' data-timestamp='1599772920' id='403677'>
<a class='timestamp' href='#403677'><time timestamp='2020-09-10T21:22:00Z'>21:22</time></a>
&lt;<span class='nick nick-6'> jb55</span>&gt;
150m keys should be instant imo
<br>
</div>

<div class='talk op-msg' data-timestamp='1599777480' id='403678'>
<a class='timestamp' href='#403678'><time timestamp='2020-09-10T22:38:00Z'>22:38</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] ajtowns opened pull request #19937: signet mining utility (master...202009-signet-generate) <a href="https://github.com/bitcoin/bitcoin/pull/19937" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19937</a>
<br>
</div>

</div>
</section>

</body>
</html>
