<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2017-04-12
 — 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2017-04-12' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:24 UTC</pre>
<pre><a href="/bitcoin-core-dev/2017-03-12">&lt;</a><span class='header'>    April 2017    </span><a href="/bitcoin-core-dev/2017-05-12">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;                   <a class="" href="/bitcoin-core-dev/2017-04-01">1</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2017-04-02">2</a>  <a class="" href="/bitcoin-core-dev/2017-04-03">3</a>  <a class="" href="/bitcoin-core-dev/2017-04-04">4</a>  <a class="" href="/bitcoin-core-dev/2017-04-05">5</a>  <a class="" href="/bitcoin-core-dev/2017-04-06">6</a>  <a class="" href="/bitcoin-core-dev/2017-04-07">7</a>  <a class="" href="/bitcoin-core-dev/2017-04-08">8</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2017-04-09">9</a> <a class="" href="/bitcoin-core-dev/2017-04-10">10</a> <a class="" href="/bitcoin-core-dev/2017-04-11">11</a> <a class="current" href="/bitcoin-core-dev/2017-04-12">12</a> <a class="" href="/bitcoin-core-dev/2017-04-13">13</a> <a class="" href="/bitcoin-core-dev/2017-04-14">14</a> <a class="" href="/bitcoin-core-dev/2017-04-15">15</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2017-04-16">16</a> <a class="" href="/bitcoin-core-dev/2017-04-17">17</a> <a class="" href="/bitcoin-core-dev/2017-04-18">18</a> <a class="" href="/bitcoin-core-dev/2017-04-19">19</a> <a class="" href="/bitcoin-core-dev/2017-04-20">20</a> <a class="" href="/bitcoin-core-dev/2017-04-21">21</a> <a class="" href="/bitcoin-core-dev/2017-04-22">22</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2017-04-23">23</a> <a class="" href="/bitcoin-core-dev/2017-04-24">24</a> <a class="" href="/bitcoin-core-dev/2017-04-25">25</a> <a class="" href="/bitcoin-core-dev/2017-04-26">26</a> <a class="" href="/bitcoin-core-dev/2017-04-27">27</a> <a class="" href="/bitcoin-core-dev/2017-04-28">28</a> <a class="" href="/bitcoin-core-dev/2017-04-29">29</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2017-04-30">30</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1491955200' id='539253'>
<a class='timestamp' href='#539253'><time timestamp='2017-04-12T00:00:00Z'>00:00</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
heh     
<br>
</div>

<div class='talk op-msg' data-timestamp='1491962100' id='539254'>
<a class='timestamp' href='#539254'><time timestamp='2017-04-12T01:55:00Z'>01:55</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
cfields: at the same time, I&#x27;m a sed newbie, there were no &#x27;\&#x27; in my teacher&#x27;s blackboard or my &quot;reduded-c&quot; interpreter implemented in c++, please, don&#x27;t laught to loud when you tell me what my mistake is in: <a href="https://0bin.net/paste/mHKVu6pkl2XopjAb#3S9s6vUOBTnlmnDMWRKH6Te6-oJAjdE3lBD0LtS45/s" class="link" target="_blank">https://0bin.net/paste/mHKVu6pkl2XopjAb#3S9s6vUOBTnlmnDMWRKH6Te6-oJAjdE3lBD0LtS45/s</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1491962100' id='539255'>
<a class='timestamp' href='#539255'><time timestamp='2017-04-12T01:55:00Z'>01:55</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/3" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/3</a> | Encrypt wallet · Issue #3 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1491962220' id='539256'>
<a class='timestamp' href='#539256'><time timestamp='2017-04-12T01:57:00Z'>01:57</time></a>
&lt;<span class='nick nick-2'> * jtimon</span>&gt;
<a href="https://www.gnu.org/software/sed/manual/sed.html#sed-regular-expressions" class="link" target="_blank">https://www.gnu.org/software/sed/manual/sed.html#sed-regular-expressions</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1491963000' id='539257'>
<a class='timestamp' href='#539257'><time timestamp='2017-04-12T02:10:00Z'>02:10</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
jtimon: i think you want something like: sed -i &#x27;s/BOOST_FOREACH(\(.*\),\(.*\))/for(\1 :\2)/&#x27; net_processing.cpp 
<br>
</div>

<div class='talk op-msg' data-timestamp='1491963000' id='539258'>
<a class='timestamp' href='#539258'><time timestamp='2017-04-12T02:10:00Z'>02:10</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
?     
<br>
</div>

<div class='talk op-msg' data-timestamp='1491963060' id='539259'>
<a class='timestamp' href='#539259'><time timestamp='2017-04-12T02:11:00Z'>02:11</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
oh, yeah, the dot, thank you very much
<br>
</div>

<div class='talk op-msg' data-timestamp='1491963120' id='539260'>
<a class='timestamp' href='#539260'><time timestamp='2017-04-12T02:12:00Z'>02:12</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
np     
<br>
</div>

<div class='talk op-msg' data-timestamp='1491963180' id='539261'>
<a class='timestamp' href='#539261'><time timestamp='2017-04-12T02:13:00Z'>02:13</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
jtimon: you&#x27;ll need to filter some things out of that. iirc pairs are handled differently, at least.
<br>
</div>

<div class='talk op-msg' data-timestamp='1491963300' id='539262'>
<a class='timestamp' href='#539262'><time timestamp='2017-04-12T02:15:00Z'>02:15</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
I shouldn&#x27;t even need a pair I think, now I&#x27;m trying sed -i &quot;s/BOOST_FOREACH(\(.*\), /for (${\1} :&quot; src/net_processing.cpp
<br>
</div>

<div class='talk op-msg' data-timestamp='1491963360' id='539263'>
<a class='timestamp' href='#539263'><time timestamp='2017-04-12T02:16:00Z'>02:16</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
bash: s/BOOST_FOREACH(\(.*\), /for (${\1} :: bad substitution
<br>
</div>

<div class='talk op-msg' data-timestamp='1491963420' id='539264'>
<a class='timestamp' href='#539264'><time timestamp='2017-04-12T02:17:00Z'>02:17</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
it feels like it&#x27;s something embarrasingly obvious
<br>
</div>

<div class='talk op-msg' data-timestamp='1491965220' id='539265'>
<a class='timestamp' href='#539265'><time timestamp='2017-04-12T02:47:00Z'>02:47</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
ok, &quot;git checkout -- .&quot; was the first thing I was missing before trying again with something different
<br>
</div>

<div class='talk op-msg' data-timestamp='1491965580' id='539266'>
<a class='timestamp' href='#539266'><time timestamp='2017-04-12T02:53:00Z'>02:53</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
alright, I think &#x27;git checkout -- . ; sed -i &#x27;s/BOOST_FOREACH(\(.*\),/for (\1 :/&#x27; ./src/qt/*.cpp ./src/wallet/*.cpp&#x27; is enough to test your PR on travis
<br>
</div>

<div class='talk op-msg' data-timestamp='1491965820' id='539267'>
<a class='timestamp' href='#539267'><time timestamp='2017-04-12T02:57:00Z'>02:57</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
jtimon: does that actually build?
<br>
</div>

<div class='talk op-msg' data-timestamp='1491966120' id='539268'>
<a class='timestamp' href='#539268'><time timestamp='2017-04-12T03:02:00Z'>03:02</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
cfields: sed does what I expect, and only with ./src/qt/*.cpp , it passes unittests
<br>
</div>

<div class='talk op-msg' data-timestamp='1491966180' id='539269'>
<a class='timestamp' href='#539269'><time timestamp='2017-04-12T03:03:00Z'>03:03</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
mm, neat
<br>
</div>

<div class='talk op-msg' data-timestamp='1491966300' id='539270'>
<a class='timestamp' href='#539270'><time timestamp='2017-04-12T03:05:00Z'>03:05</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
now it&#x27;s time to make it &quot;fail&quot; on purpose and open a PR, then add a fixup commit to be squashed once your pr is merged
<br>
</div>

<div class='talk op-msg' data-timestamp='1491966360' id='539271'>
<a class='timestamp' href='#539271'><time timestamp='2017-04-12T03:06:00Z'>03:06</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
neat indeed, I expect this to be revolution in refactors, thanks again
<br>
</div>

<div class='talk op-msg' data-timestamp='1491966540' id='539272'>
<a class='timestamp' href='#539272'><time timestamp='2017-04-12T03:09:00Z'>03:09</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
:) happy to help
<br>
</div>

<div class='talk op-msg' data-timestamp='1491966600' id='539273'>
<a class='timestamp' href='#539273'><time timestamp='2017-04-12T03:10:00Z'>03:10</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
I&#x27;ve had this one (the cnode change) done on a ton of branches, but never felt like dealing with the process of pushing it through. So yea, I can see how it could be helpful for lots of similar changes.
<br>
</div>

<div class='talk op-msg' data-timestamp='1491966660' id='539274'>
<a class='timestamp' href='#539274'><time timestamp='2017-04-12T03:11:00Z'>03:11</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
at the very least, it revolutionized the way I think about refactors, maybe it was obvious to use sed for rebase and review for everyone else but certainly not for me
<br>
</div>

<div class='talk op-msg' data-timestamp='1491966720' id='539275'>
<a class='timestamp' href='#539275'><time timestamp='2017-04-12T03:12:00Z'>03:12</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
yeah, not only painful simple changes will stop to be painful
<br>
</div>

<div class='talk op-msg' data-timestamp='1491966720' id='539276'>
<a class='timestamp' href='#539276'><time timestamp='2017-04-12T03:12:00Z'>03:12</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
which is the fisrt use case
<br>
</div>

<div class='talk op-msg' data-timestamp='1491966900' id='539277'>
<a class='timestamp' href='#539277'><time timestamp='2017-04-12T03:15:00Z'>03:15</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
but also some painful changes that authors don&#x27;t even open as PR because they&#x27;re too disruptive will be open now
<br>
</div>

<div class='talk op-msg' data-timestamp='1491966900' id='539278'>
<a class='timestamp' href='#539278'><time timestamp='2017-04-12T03:15:00Z'>03:15</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
awesome
<br>
</div>

<div class='talk op-msg' data-timestamp='1491966900' id='539279'>
<a class='timestamp' href='#539279'><time timestamp='2017-04-12T03:15:00Z'>03:15</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
and more importantly, reviewed too
<br>
</div>

<div class='talk op-msg' data-timestamp='1491966900' id='539280'>
<a class='timestamp' href='#539280'><time timestamp='2017-04-12T03:15:00Z'>03:15</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
jtimon: you might look at pairing it with &quot;git rebase -i --exec &lt;script&gt;&quot; too :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1491966960' id='539281'>
<a class='timestamp' href='#539281'><time timestamp='2017-04-12T03:16:00Z'>03:16</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
for maintaining
<br>
</div>

<div class='talk op-msg' data-timestamp='1491967020' id='539282'>
<a class='timestamp' href='#539282'><time timestamp='2017-04-12T03:17:00Z'>03:17</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
or maybe I&#x27;m over-excited about this, it is good enough to know I am not stupid for not thinking about this by myself beforehand
<br>
</div>

<div class='talk op-msg' data-timestamp='1491967020' id='539283'>
<a class='timestamp' href='#539283'><time timestamp='2017-04-12T03:17:00Z'>03:17</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
-exec was failing locally for some reason
<br>
</div>

<div class='talk op-msg' data-timestamp='1491967080' id='539284'>
<a class='timestamp' href='#539284'><time timestamp='2017-04-12T03:18:00Z'>03:18</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
heh     
<br>
</div>

<div class='talk op-msg' data-timestamp='1491967080' id='539285'>
<a class='timestamp' href='#539285'><time timestamp='2017-04-12T03:18:00Z'>03:18</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
headed off, nnite
<br>
</div>

<div class='talk op-msg' data-timestamp='1491969780' id='539286'>
<a class='timestamp' href='#539286'><time timestamp='2017-04-12T04:03:00Z'>04:03</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jtimon opened pull request #10193: scripted-diff: sed -i &#x27;s/BOOST_FOREACH(\(.*\),/for (\1 :/&#x27; ./src/qt/*.cpp (master...b14-10189-scripted-qt-foreach) <a href="https://github.com/bitcoin/bitcoin/pull/10193" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10193</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1491969900' id='539287'>
<a class='timestamp' href='#539287'><time timestamp='2017-04-12T04:05:00Z'>04:05</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
jtimon: you didn&#x27;t format the commit message in a way that it will be picked up
<br>
</div>

<div class='talk op-msg' data-timestamp='1491969960' id='539288'>
<a class='timestamp' href='#539288'><time timestamp='2017-04-12T04:06:00Z'>04:06</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
jtimon: see <a href="https://github.com/bitcoin/bitcoin/pull/10193/commits/d04198309e7e9b21de1604cc4321148b37a46347" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10193/commits/d04198309e7e9b21de1604cc4321148b37a46347</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1491970560' id='539289'>
<a class='timestamp' href='#539289'><time timestamp='2017-04-12T04:16:00Z'>04:16</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
cfields: np, updated <a href="https://github.com/bitcoin/bitcoin/pull/10189#issuecomment-293468978" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10189#issuecomment-293468978</a> and <a href="https://github.com/bitcoin/bitcoin/pull/10193" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10193</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1491970620' id='539290'>
<a class='timestamp' href='#539290'><time timestamp='2017-04-12T04:17:00Z'>04:17</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
that looks better, thanks
<br>
</div>

<div class='talk op-msg' data-timestamp='1491989400' id='539291'>
<a class='timestamp' href='#539291'><time timestamp='2017-04-12T09:30:00Z'>09:30</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
taking another look at #9694, really want to move forward multiwallet support
<br>
</div>

<div class='talk op-msg' data-timestamp='1491989400' id='539292'>
<a class='timestamp' href='#539292'><time timestamp='2017-04-12T09:30:00Z'>09:30</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
#8694 sorry
<br>
</div>

<div class='talk op-msg' data-timestamp='1491989460' id='539293'>
<a class='timestamp' href='#539293'><time timestamp='2017-04-12T09:31:00Z'>09:31</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/9694" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/9694</a> | Importmulti cannot import bare private keys · Issue #9694 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1491989460' id='539294'>
<a class='timestamp' href='#539294'><time timestamp='2017-04-12T09:31:00Z'>09:31</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/8694" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/8694</a> | Basic multiwallet support by luke-jr · Pull Request #8694 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1491992880' id='539295'>
<a class='timestamp' href='#539295'><time timestamp='2017-04-12T10:28:00Z'>10:28</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] bulldozer00 opened pull request #10194: Remove unecessary friend keyword from the class definition (master...patch-1) <a href="https://github.com/bitcoin/bitcoin/pull/10194" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10194</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1491993960' id='539296'>
<a class='timestamp' href='#539296'><time timestamp='2017-04-12T10:46:00Z'>10:46</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
what&#x27;s the problem with travis today?
<br>
</div>

<div class='talk op-msg' data-timestamp='1491994320' id='539297'>
<a class='timestamp' href='#539297'><time timestamp='2017-04-12T10:52:00Z'>10:52</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
nm, no travis issue today :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1492000620' id='539298'>
<a class='timestamp' href='#539298'><time timestamp='2017-04-12T12:37:00Z'>12:37</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] sipa opened pull request #10195: Switch chainstate db and cache to per-txout model (master...pertxoutcache) <a href="https://github.com/bitcoin/bitcoin/pull/10195" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10195</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1492004580' id='539299'>
<a class='timestamp' href='#539299'><time timestamp='2017-04-12T13:43:00Z'>13:43</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jnewbery reopened pull request #10191: [trivial] Remove unused submit block parameters argument (master...remove_submit_block_params) <a href="https://github.com/bitcoin/bitcoin/pull/10191" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10191</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1492007760' id='539300'>
<a class='timestamp' href='#539300'><time timestamp='2017-04-12T14:36:00Z'>14:36</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] sdaftuar opened pull request #10196: Bugfix: PrioritiseTransaction updates the mempool tx counter (master...2017-04-prioritise-transaction) <a href="https://github.com/bitcoin/bitcoin/pull/10196" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10196</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1492009920' id='539301'>
<a class='timestamp' href='#539301'><time timestamp='2017-04-12T15:12:00Z'>15:12</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jnewbery opened pull request #10197: Functional test warnings (master...functional_test_warnings) <a href="https://github.com/bitcoin/bitcoin/pull/10197" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10197</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1492013280' id='539302'>
<a class='timestamp' href='#539302'><time timestamp='2017-04-12T16:08:00Z'>16:08</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jnewbery opened pull request #10198: [tests] Remove is_network_split from functional test framework (master...remove_is_network_split) <a href="https://github.com/bitcoin/bitcoin/pull/10198" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10198</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1492013340' id='539303'>
<a class='timestamp' href='#539303'><time timestamp='2017-04-12T16:09:00Z'>16:09</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jnewbery closed pull request #10198: [tests] Remove is_network_split from functional test framework (master...remove_is_network_split) <a href="https://github.com/bitcoin/bitcoin/pull/10198" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10198</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1492016460' id='539304'>
<a class='timestamp' href='#539304'><time timestamp='2017-04-12T17:01:00Z'>17:01</time></a>
&lt;<span class='nick nick-14'> arubi</span>&gt;
is there a way to get bitcoind to not complain about any non-standardness?  I&#x27;d still like for it to error on operations with invalid transactions, but for example I&#x27;d like it to not care about DER strictness, or to ignore the P2SH requirement for a valid redeemscript (provided some preimage to p2sh, it should pass, no matter if the preimage parses as a script at all).  &quot;SCRIPT_VERIFY_NONE = 0;&quot; in script/interpreter.h (I&#x27;m on some 
<br>
</div>

<div class='talk op-msg' data-timestamp='1492016460' id='539305'>
<a class='timestamp' href='#539305'><time timestamp='2017-04-12T17:01:00Z'>17:01</time></a>
&lt;<span class='nick nick-14'> arubi</span>&gt;
0.13.99) looks promising, but I&#x27;m not sure what to set it to.  would love a hint on what I should look for
<br>
</div>

<div class='talk op-msg' data-timestamp='1492016580' id='539306'>
<a class='timestamp' href='#539306'><time timestamp='2017-04-12T17:03:00Z'>17:03</time></a>
&lt;<span class='nick nick-14'> arubi</span>&gt;
this is for testnet \ regtest use by the way
<br>
</div>

<div class='talk op-msg' data-timestamp='1492016760' id='539307'>
<a class='timestamp' href='#539307'><time timestamp='2017-04-12T17:06:00Z'>17:06</time></a>
&lt;<span class='nick nick-14'> arubi</span>&gt;
maybe I should just set all verify flags to 0 :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1492017000' id='539308'>
<a class='timestamp' href='#539308'><time timestamp='2017-04-12T17:10:00Z'>17:10</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
arubi: Like you mentioned you can tinker with the verify flags: <a href="https://github.com/bitcoin/bitcoin/blob/master/src/policy/policy.h#L52" class="link" target="_blank">https://github.com/bitcoin/bitcoin/blob/master/src/policy/policy.h#L52</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1492017000' id='539309'>
<a class='timestamp' href='#539309'><time timestamp='2017-04-12T17:10:00Z'>17:10</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
but I&#x27;m not sure if you can do this from the command line :/ 
<br>
</div>

<div class='talk op-msg' data-timestamp='1492017000' id='539310'>
<a class='timestamp' href='#539310'><time timestamp='2017-04-12T17:10:00Z'>17:10</time></a>
&lt;<span class='nick nick-14'> arubi</span>&gt;
oh no command line, these flags are not enough though
<br>
</div>

<div class='talk op-msg' data-timestamp='1492017060' id='539311'>
<a class='timestamp' href='#539311'><time timestamp='2017-04-12T17:11:00Z'>17:11</time></a>
&lt;<span class='nick nick-14'> arubi</span>&gt;
it&#x27;s letting it advance, I can send non standard transactions with some of these flags disabled, but getblocktemplate fails
<br>
</div>

<div class='talk op-msg' data-timestamp='1492017060' id='539312'>
<a class='timestamp' href='#539312'><time timestamp='2017-04-12T17:11:00Z'>17:11</time></a>
&lt;<span class='nick nick-14'> arubi</span>&gt;
I don&#x27;t wanna say that it&#x27;s related, I already mauled this specific code to death
<br>
</div>

<div class='talk op-msg' data-timestamp='1492017060' id='539313'>
<a class='timestamp' href='#539313'><time timestamp='2017-04-12T17:11:00Z'>17:11</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
hmmm, perhaps you need to tinker with relay policy? Not sure where that is set in the codebase though
<br>
</div>

<div class='talk op-msg' data-timestamp='1492017060' id='539314'>
<a class='timestamp' href='#539314'><time timestamp='2017-04-12T17:11:00Z'>17:11</time></a>
&lt;<span class='nick nick-14'> arubi</span>&gt;
other nodes drop the transaction
<br>
</div>

<div class='talk op-msg' data-timestamp='1492017120' id='539315'>
<a class='timestamp' href='#539315'><time timestamp='2017-04-12T17:12:00Z'>17:12</time></a>
&lt;<span class='nick nick-14'> arubi</span>&gt;
actually I think they&#x27;re banning me
<br>
</div>

<div class='talk op-msg' data-timestamp='1492017120' id='539316'>
<a class='timestamp' href='#539316'><time timestamp='2017-04-12T17:12:00Z'>17:12</time></a>
&lt;<span class='nick nick-14'> arubi</span>&gt;
I&#x27;ll be able to mine it myself eventually on testnet, when the diff drops, I just need getblocktemplate to work :)  setting all verify flags to 0 now
<br>
</div>

<div class='talk op-msg' data-timestamp='1492017420' id='539317'>
<a class='timestamp' href='#539317'><time timestamp='2017-04-12T17:17:00Z'>17:17</time></a>
&lt;<span class='nick nick-14'> arubi</span>&gt;
muhaha it&#x27;s working
<br>
</div>

<div class='talk op-msg' data-timestamp='1492017480' id='539318'>
<a class='timestamp' href='#539318'><time timestamp='2017-04-12T17:18:00Z'>17:18</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] morcos opened pull request #10199: Better fee estimates (master...smarterfee) <a href="https://github.com/bitcoin/bitcoin/pull/10199" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10199</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1492017600' id='539319'>
<a class='timestamp' href='#539319'><time timestamp='2017-04-12T17:20:00Z'>17:20</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
setting all the flags to zero worked?
<br>
</div>

<div class='talk op-msg' data-timestamp='1492017660' id='539320'>
<a class='timestamp' href='#539320'><time timestamp='2017-04-12T17:21:00Z'>17:21</time></a>
&lt;<span class='nick nick-14'> arubi</span>&gt;
yep     
<br>
</div>

<div class='talk op-msg' data-timestamp='1492017660' id='539321'>
<a class='timestamp' href='#539321'><time timestamp='2017-04-12T17:21:00Z'>17:21</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
you couldn&#x27;t just unset STRICTDER?
<br>
</div>

<div class='talk op-msg' data-timestamp='1492017660' id='539322'>
<a class='timestamp' href='#539322'><time timestamp='2017-04-12T17:21:00Z'>17:21</time></a>
&lt;<span class='nick nick-14'> arubi</span>&gt;
well I noticed script_verify_p2sh is used even with this tx&#x27;s bare p2pk
<br>
</div>

<div class='talk op-msg' data-timestamp='1492017720' id='539323'>
<a class='timestamp' href='#539323'><time timestamp='2017-04-12T17:22:00Z'>17:22</time></a>
&lt;<span class='nick nick-14'> arubi</span>&gt;
I did unset strictder to even be able to relay it... I think checking block validity is even more strict than that
<br>
</div>

<div class='talk op-msg' data-timestamp='1492017720' id='539324'>
<a class='timestamp' href='#539324'><time timestamp='2017-04-12T17:22:00Z'>17:22</time></a>
&lt;<span class='nick nick-14'> arubi</span>&gt;
if you saw the tx in #-dev, it&#x27;s also a hybrid pubkey, so maybe more relaxed flags are needed
<br>
</div>

<div class='talk op-msg' data-timestamp='1492017960' id='539325'>
<a class='timestamp' href='#539325'><time timestamp='2017-04-12T17:26:00Z'>17:26</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
arubi: Is p2pk scripts considered non standard?
<br>
</div>

<div class='talk op-msg' data-timestamp='1492017960' id='539326'>
<a class='timestamp' href='#539326'><time timestamp='2017-04-12T17:26:00Z'>17:26</time></a>
&lt;<span class='nick nick-14'> arubi</span>&gt;
if it&#x27;s a hybrid pubkey, probably
<br>
</div>

<div class='talk op-msg' data-timestamp='1492018020' id='539327'>
<a class='timestamp' href='#539327'><time timestamp='2017-04-12T17:27:00Z'>17:27</time></a>
&lt;<span class='nick nick-14'> arubi</span>&gt;
also the signature itself is weird.  uses 0x01000000 as the sighash when the sig is passed as input
<br>
</div>

<div class='talk op-msg' data-timestamp='1492018080' id='539328'>
<a class='timestamp' href='#539328'><time timestamp='2017-04-12T17:28:00Z'>17:28</time></a>
&lt;<span class='nick nick-14'> arubi</span>&gt;
so it&#x27;s actually passed with a 4 byte value instead of just 0x01.. I think it should still be valid?
<br>
</div>

<div class='talk op-msg' data-timestamp='1492018440' id='539329'>
<a class='timestamp' href='#539329'><time timestamp='2017-04-12T17:34:00Z'>17:34</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
morcos, for #10199 did you look at how it handles chain limits? There was some speculation during last spam attack that the chain limits were causing high-fee transactions to &quot;fail&quot; to get into blocks, spiking fees randomly
<br>
</div>

<div class='talk op-msg' data-timestamp='1492018440' id='539330'>
<a class='timestamp' href='#539330'><time timestamp='2017-04-12T17:34:00Z'>17:34</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/10199" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/10199</a> | Better fee estimates by morcos · Pull Request #10199 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1492018500' id='539331'>
<a class='timestamp' href='#539331'><time timestamp='2017-04-12T17:35:00Z'>17:35</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
instagibbs: the estimates don&#x27;t consider txs that are dependent on other txs
<br>
</div>

<div class='talk op-msg' data-timestamp='1492018500' id='539332'>
<a class='timestamp' href='#539332'><time timestamp='2017-04-12T17:35:00Z'>17:35</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
i don&#x27;t think i saw that speculation, but it makes no sense
<br>
</div>

<div class='talk op-msg' data-timestamp='1492018560' id='539333'>
<a class='timestamp' href='#539333'><time timestamp='2017-04-12T17:36:00Z'>17:36</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
arubi: Look at this function if you haven&#x27;t seen it yet: <a href="https://github.com/bitcoin/bitcoin/blob/b83264d9c7a8ddb79f64bd9540caddc8632ef31f/src/script/interpreter.cpp#L186" class="link" target="_blank">https://github.com/bitcoin/bitcoin/blob/b83264d9c7a8ddb79f64bd9540caddc8632ef31f/src/script/interpreter.cpp#L186</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1492018560' id='539334'>
<a class='timestamp' href='#539334'><time timestamp='2017-04-12T17:36:00Z'>17:36</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
to see if the hash type is valid
<br>
</div>

<div class='talk op-msg' data-timestamp='1492018560' id='539335'>
<a class='timestamp' href='#539335'><time timestamp='2017-04-12T17:36:00Z'>17:36</time></a>
&lt;<span class='nick nick-14'> arubi</span>&gt;
being defined != being valid :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1492018620' id='539336'>
<a class='timestamp' href='#539336'><time timestamp='2017-04-12T17:37:00Z'>17:37</time></a>
&lt;<span class='nick nick-14'> arubi</span>&gt;
the famous amount overflow transaction used 0xA8 as sighash iirc, weird, but it resolves to ALL
<br>
</div>

<div class='talk op-msg' data-timestamp='1492018680' id='539337'>
<a class='timestamp' href='#539337'><time timestamp='2017-04-12T17:38:00Z'>17:38</time></a>
&lt;<span class='nick nick-14'> arubi</span>&gt;
interpreter.cpp has the rules for setting up the sighash, it does a bunch of bitwise and&#x27;s with 1F and flags it knows.  really I think 32 bits can be used.  sighashv2 uses 32 bits
<br>
</div>

<div class='talk op-msg' data-timestamp='1492018740' id='539338'>
<a class='timestamp' href='#539338'><time timestamp='2017-04-12T17:39:00Z'>17:39</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
morcos, ok good to know. One less idea why someone was doing that then.
<br>
</div>

<div class='talk op-msg' data-timestamp='1492018800' id='539339'>
<a class='timestamp' href='#539339'><time timestamp='2017-04-12T17:40:00Z'>17:40</time></a>
&lt;<span class='nick nick-14'> arubi</span>&gt;
er, it uses 16 bits.
<br>
</div>

<div class='talk op-msg' data-timestamp='1492018920' id='539340'>
<a class='timestamp' href='#539340'><time timestamp='2017-04-12T17:42:00Z'>17:42</time></a>
&lt;<span class='nick nick-14'> arubi</span>&gt;
was just informed that I may be wrong re. 4 bytes sighash value :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1492019100' id='539341'>
<a class='timestamp' href='#539341'><time timestamp='2017-04-12T17:45:00Z'>17:45</time></a>
&lt;<span class='nick nick-14'> arubi</span>&gt;
bip66 might be causing testnet failures where it works on regtest.  will stop spamming :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1492019100' id='539342'>
<a class='timestamp' href='#539342'><time timestamp='2017-04-12T17:45:00Z'>17:45</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
Yeah when checking the signature you have to prepend? the extra bytes? 
<br>
</div>

<div class='talk op-msg' data-timestamp='1492019100' id='539343'>
<a class='timestamp' href='#539343'><time timestamp='2017-04-12T17:45:00Z'>17:45</time></a>
&lt;<span class='nick nick-14'> arubi</span>&gt;
(-dev)
<br>
</div>

<div class='talk op-msg' data-timestamp='1492019880' id='539344'>
<a class='timestamp' href='#539344'><time timestamp='2017-04-12T17:58:00Z'>17:58</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 4 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/b44adf92342a...350b22497c7c" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/b44adf92342a...350b22497c7c</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1492019880' id='539345'>
<a class='timestamp' href='#539345'><time timestamp='2017-04-12T17:58:00Z'>17:58</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 4d9950d John Newbery: Set BCLog::LIBEVENT correctly for old libevent versions.
<br>
</div>

<div class='talk op-msg' data-timestamp='1492019880' id='539346'>
<a class='timestamp' href='#539346'><time timestamp='2017-04-12T17:58:00Z'>17:58</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 5255aca John Newbery: [rpc] Add logging RPC...
<br>
</div>

<div class='talk op-msg' data-timestamp='1492019880' id='539347'>
<a class='timestamp' href='#539347'><time timestamp='2017-04-12T17:58:00Z'>17:58</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 7fd50c3 John Newbery: allow libevent logging to be updated during runtime
<br>
</div>

<div class='talk op-msg' data-timestamp='1492019880' id='539348'>
<a class='timestamp' href='#539348'><time timestamp='2017-04-12T17:58:00Z'>17:58</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj closed pull request #10150: [rpc] Add logging rpc (master...logging_rpc) <a href="https://github.com/bitcoin/bitcoin/pull/10150" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10150</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1492019880' id='539349'>
<a class='timestamp' href='#539349'><time timestamp='2017-04-12T17:58:00Z'>17:58</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
neat
<br>
</div>

<div class='talk op-msg' data-timestamp='1492020900' id='539350'>
<a class='timestamp' href='#539350'><time timestamp='2017-04-12T18:15:00Z'>18:15</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/350b22497c7c...de01da7cad32" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/350b22497c7c...de01da7cad32</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1492020900' id='539351'>
<a class='timestamp' href='#539351'><time timestamp='2017-04-12T18:15:00Z'>18:15</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 8c3e6c6 KibbledJiveElkZoo: Changed &quot;Send&quot; button default status from true to false...
<br>
</div>

<div class='talk op-msg' data-timestamp='1492020900' id='539352'>
<a class='timestamp' href='#539352'><time timestamp='2017-04-12T18:15:00Z'>18:15</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master de01da7 Wladimir J. van der Laan: Merge #10177: Changed &quot;Send&quot; button default status from true to false...
<br>
</div>

<div class='talk op-msg' data-timestamp='1492020960' id='539353'>
<a class='timestamp' href='#539353'><time timestamp='2017-04-12T18:16:00Z'>18:16</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj closed pull request #10177: Changed &quot;Send&quot; button default status from true to false (master...ui_fixes) <a href="https://github.com/bitcoin/bitcoin/pull/10177" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10177</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1492021500' id='539354'>
<a class='timestamp' href='#539354'><time timestamp='2017-04-12T18:25:00Z'>18:25</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
wumpus: can we give that guy an award for &quot;most humorous bug report&quot;?
<br>
</div>

<div class='talk op-msg' data-timestamp='1492022400' id='539355'>
<a class='timestamp' href='#539355'><time timestamp='2017-04-12T18:40:00Z'>18:40</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] bulldozer00 closed pull request #10194: Remove unecessary friend keyword from the class definition (master...patch-1) <a href="https://github.com/bitcoin/bitcoin/pull/10194" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10194</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1492024620' id='539356'>
<a class='timestamp' href='#539356'><time timestamp='2017-04-12T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
#9942 looks mergeable
<br>
</div>

<div class='talk op-msg' data-timestamp='1492024680' id='539357'>
<a class='timestamp' href='#539357'><time timestamp='2017-04-12T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/9942" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/9942</a> | Refactor CBlockPolicyEstimator by morcos · Pull Request #9942 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1492024680' id='539358'>
<a class='timestamp' href='#539358'><time timestamp='2017-04-12T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
same with #9480, maybe jeremyrubin should change the commit message, but has like 5 acks
<br>
</div>

<div class='talk op-msg' data-timestamp='1492024680' id='539359'>
<a class='timestamp' href='#539359'><time timestamp='2017-04-12T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/9480" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/9480</a> | De-duplicate SignatureCacheHasher by JeremyRubin · Pull Request #9480 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1492027140' id='539360'>
<a class='timestamp' href='#539360'><time timestamp='2017-04-12T19:59:00Z'>19:59</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] sdaftuar opened pull request #10200: Mining: Skip recent transactions if fee difference is small (master...2017-04-dont-mine-recent-tx) <a href="https://github.com/bitcoin/bitcoin/pull/10200" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10200</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1492027920' id='539361'>
<a class='timestamp' href='#539361'><time timestamp='2017-04-12T20:12:00Z'>20:12</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sdaftuar: wow, that is much more complicated than I expected.  What I had just expected it to do is to simply skip very new transactions unless they paid a high feerate, just like we skip transactions that there aren&#x27;t room in the block for.
<br>
</div>

<div class='talk op-msg' data-timestamp='1492027920' id='539362'>
<a class='timestamp' href='#539362'><time timestamp='2017-04-12T20:12:00Z'>20:12</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sdaftuar: is there a big fee income difference from doing a simple thing like that?
<br>
</div>

<div class='talk op-msg' data-timestamp='1492028040' id='539363'>
<a class='timestamp' href='#539363'><time timestamp='2017-04-12T20:14:00Z'>20:14</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
cfields: wait, we really want random bash snippets in git history run by a script in #10189? I&#x27;m unsure about the wisdom of that?
<br>
</div>

<div class='talk op-msg' data-timestamp='1492028040' id='539364'>
<a class='timestamp' href='#539364'><time timestamp='2017-04-12T20:14:00Z'>20:14</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/10189" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/10189</a> | devtools/net: add a verifier for scriptable changes. Use it to make CNode::id private. by theuni · Pull Request #10189 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1492028040' id='539365'>
<a class='timestamp' href='#539365'><time timestamp='2017-04-12T20:14:00Z'>20:14</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
i mean its super nice to have, but also...running bash scripts out of git messages :/
<br>
</div>

<div class='talk op-msg' data-timestamp='1492028160' id='539366'>
<a class='timestamp' href='#539366'><time timestamp='2017-04-12T20:16:00Z'>20:16</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
BlueMatt: arguably if a script is used to transform a large chunk of code, it should be saved with the commit for future reference. Why not use it too?
<br>
</div>

<div class='talk op-msg' data-timestamp='1492028160' id='539367'>
<a class='timestamp' href='#539367'><time timestamp='2017-04-12T20:16:00Z'>20:16</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
yea......
<br>
</div>

<div class='talk op-msg' data-timestamp='1492028160' id='539368'>
<a class='timestamp' href='#539368'><time timestamp='2017-04-12T20:16:00Z'>20:16</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
cfields: do merge tools show commit messages very clearly for sign-off?
<br>
</div>

<div class='talk op-msg' data-timestamp='1492028220' id='539369'>
<a class='timestamp' href='#539369'><time timestamp='2017-04-12T20:17:00Z'>20:17</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
would need to if they dont for this, i suppose
<br>
</div>

<div class='talk op-msg' data-timestamp='1492028220' id='539370'>
<a class='timestamp' href='#539370'><time timestamp='2017-04-12T20:17:00Z'>20:17</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
BlueMatt: &quot;git notes&quot; is what you&#x27;re asking about, i think :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1492028220' id='539371'>
<a class='timestamp' href='#539371'><time timestamp='2017-04-12T20:17:00Z'>20:17</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
hmm?
<br>
</div>

<div class='talk op-msg' data-timestamp='1492028280' id='539372'>
<a class='timestamp' href='#539372'><time timestamp='2017-04-12T20:18:00Z'>20:18</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
BlueMatt: i suppose I don&#x27;t understand your question
<br>
</div>

<div class='talk op-msg' data-timestamp='1492028340' id='539373'>
<a class='timestamp' href='#539373'><time timestamp='2017-04-12T20:19:00Z'>20:19</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
cfields: contrib/devtools/github-merge.py
<br>
</div>

<div class='talk op-msg' data-timestamp='1492028340' id='539374'>
<a class='timestamp' href='#539374'><time timestamp='2017-04-12T20:19:00Z'>20:19</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
i would expect them to clearly query the merger to read each commit&#x27;s commitmsg
<br>
</div>

<div class='talk op-msg' data-timestamp='1492028460' id='539375'>
<a class='timestamp' href='#539375'><time timestamp='2017-04-12T20:21:00Z'>20:21</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
unsure. Wouldn&#x27;t change anything there, though. the merge script could just run the verifier first.
<br>
</div>

<div class='talk op-msg' data-timestamp='1492028520' id='539376'>
<a class='timestamp' href='#539376'><time timestamp='2017-04-12T20:22:00Z'>20:22</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
cfields: oh dear god lets not default to running random peoples&#x27; commitmsg scripts on wumpus&#x27; computer
<br>
</div>

<div class='talk op-msg' data-timestamp='1492028520' id='539377'>
<a class='timestamp' href='#539377'><time timestamp='2017-04-12T20:22:00Z'>20:22</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
cfields: my point is that many people dont read commitmsgs in enough detail and might miss such scripts esp if they&#x27;re replaced last-minute in a &quot;title-only rebase&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1492028640' id='539378'>
<a class='timestamp' href='#539378'><time timestamp='2017-04-12T20:24:00Z'>20:24</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
BlueMatt: travis runs the script and fails if it doesn&#x27;t transform 1:1. It can be done locally as well....
<br>
</div>

<div class='talk op-msg' data-timestamp='1492028700' id='539379'>
<a class='timestamp' href='#539379'><time timestamp='2017-04-12T20:25:00Z'>20:25</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
BlueMatt: I don&#x27;t see what&#x27;s so terrible about automating this checking: <a href="https://github.com/bitcoin/bitcoin/pull/9902/commits/bac5c9cf643e9333479ac667426d0b70f8f3aa7f" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9902/commits/bac5c9cf643e9333479ac667426d0b70f8f3aa7f</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1492028700' id='539380'>
<a class='timestamp' href='#539380'><time timestamp='2017-04-12T20:25:00Z'>20:25</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
cfields: insmod cool_thing.ko &amp;&amp; sed s/BOOST_FOREACH/for/
<br>
</div>

<div class='talk op-msg' data-timestamp='1492028700' id='539381'>
<a class='timestamp' href='#539381'><time timestamp='2017-04-12T20:25:00Z'>20:25</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
it&#x27;ll transform 1:1 still?
<br>
</div>

<div class='talk op-msg' data-timestamp='1492028700' id='539382'>
<a class='timestamp' href='#539382'><time timestamp='2017-04-12T20:25:00Z'>20:25</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
this is not a sufficient check
<br>
</div>

<div class='talk op-msg' data-timestamp='1492028760' id='539383'>
<a class='timestamp' href='#539383'><time timestamp='2017-04-12T20:26:00Z'>20:26</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
automating on travis whatever
<br>
</div>

<div class='talk op-msg' data-timestamp='1492028760' id='539384'>
<a class='timestamp' href='#539384'><time timestamp='2017-04-12T20:26:00Z'>20:26</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
putting yet more scripts in a place that people might not see it is bad...I&#x27;m only suggesting we make it more apparent at least to people pressing the merge button
<br>
</div>

<div class='talk op-msg' data-timestamp='1492028760' id='539385'>
<a class='timestamp' href='#539385'><time timestamp='2017-04-12T20:26:00Z'>20:26</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
as many of us primarily just look at the diff itself
<br>
</div>

<div class='talk op-msg' data-timestamp='1492028880' id='539386'>
<a class='timestamp' href='#539386'><time timestamp='2017-04-12T20:28:00Z'>20:28</time></a>
&lt;<span class='nick nick-16'> * BlueMatt</span>&gt;
ponders if you can get a ^H somewhere....insmod kool_things.ko &amp;&amp;^H^H^H^H^H^H^H^Hsed s/BOOST_FOREACH/for/
<br>
</div>

<div class='talk op-msg' data-timestamp='1492028880' id='539387'>
<a class='timestamp' href='#539387'><time timestamp='2017-04-12T20:28:00Z'>20:28</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
probably not
<br>
</div>

<div class='talk op-msg' data-timestamp='1492028940' id='539388'>
<a class='timestamp' href='#539388'><time timestamp='2017-04-12T20:29:00Z'>20:29</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
BlueMatt: the person pressing the merge button on bac5c9cf643e9333479ac667426d0b70f8f3aa7f should be running that sed script to be sure all occurances have been caught. Again, this should only be automatiting cases where mass transforms need to be checked anyway.
<br>
</div>

<div class='talk op-msg' data-timestamp='1492028940' id='539389'>
<a class='timestamp' href='#539389'><time timestamp='2017-04-12T20:29:00Z'>20:29</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
cfields: yes, but the person pressing the merge button should also be reading the script before it gets automatically run on their system
<br>
</div>

<div class='talk op-msg' data-timestamp='1492028940' id='539390'>
<a class='timestamp' href='#539390'><time timestamp='2017-04-12T20:29:00Z'>20:29</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
I think we&#x27;re talking past each other somehow
<br>
</div>

<div class='talk op-msg' data-timestamp='1492029000' id='539391'>
<a class='timestamp' href='#539391'><time timestamp='2017-04-12T20:30:00Z'>20:30</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
so yea, maybe not make it part of the merge script, but i don&#x27;t see how having c-i do it could be a bad thing
<br>
</div>

<div class='talk op-msg' data-timestamp='1492029000' id='539392'>
<a class='timestamp' href='#539392'><time timestamp='2017-04-12T20:30:00Z'>20:30</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
I didnt say having c-i do it is bad?
<br>
</div>

<div class='talk op-msg' data-timestamp='1492029000' id='539393'>
<a class='timestamp' href='#539393'><time timestamp='2017-04-12T20:30:00Z'>20:30</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
i agree, travis should do it?
<br>
</div>

<div class='talk op-msg' data-timestamp='1492029000' id='539394'>
<a class='timestamp' href='#539394'><time timestamp='2017-04-12T20:30:00Z'>20:30</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
my only point was that the person pressing the merge button MUST be forced to read commit messages now
<br>
</div>

<div class='talk op-msg' data-timestamp='1492029000' id='539395'>
<a class='timestamp' href='#539395'><time timestamp='2017-04-12T20:30:00Z'>20:30</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
&lt;BlueMatt&gt; I think we&#x27;re talking past each other somehow
<br>
</div>

<div class='talk op-msg' data-timestamp='1492029120' id='539396'>
<a class='timestamp' href='#539396'><time timestamp='2017-04-12T20:32:00Z'>20:32</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
ok, fair enough. I thought you point was that the person hitting the button should be verifying as well if it&#x27;s going to live in the commit message..
<br>
</div>

<div class='talk op-msg' data-timestamp='1492029120' id='539397'>
<a class='timestamp' href='#539397'><time timestamp='2017-04-12T20:32:00Z'>20:32</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
oh i mean maybe, i dont care much either way there, travis should run it so thats good
<br>
</div>

<div class='talk op-msg' data-timestamp='1492029180' id='539398'>
<a class='timestamp' href='#539398'><time timestamp='2017-04-12T20:33:00Z'>20:33</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
my only point is something should be done because many of us dont read commit messages as part of review (much)
<br>
</div>

<div class='talk op-msg' data-timestamp='1492029180' id='539399'>
<a class='timestamp' href='#539399'><time timestamp='2017-04-12T20:33:00Z'>20:33</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
BlueMatt: jtimon suggested a prefix: &quot;scripted-diff: commit msg here&quot;. I suppose for those, the merge-tool could interrupt and present the full message, if it doesn&#x27;t already
<br>
</div>

<div class='talk op-msg' data-timestamp='1492029240' id='539400'>
<a class='timestamp' href='#539400'><time timestamp='2017-04-12T20:34:00Z'>20:34</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
that may help, i suppose
<br>
</div>

<div class='talk op-msg' data-timestamp='1492029240' id='539401'>
<a class='timestamp' href='#539401'><time timestamp='2017-04-12T20:34:00Z'>20:34</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
long prefix sucks though
<br>
</div>

<div class='talk op-msg' data-timestamp='1492029240' id='539402'>
<a class='timestamp' href='#539402'><time timestamp='2017-04-12T20:34:00Z'>20:34</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
scripted:
<br>
</div>

<div class='talk op-msg' data-timestamp='1492029240' id='539403'>
<a class='timestamp' href='#539403'><time timestamp='2017-04-12T20:34:00Z'>20:34</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
well it could also just detect the script begin/end
<br>
</div>

<div class='talk op-msg' data-timestamp='1492029240' id='539404'>
<a class='timestamp' href='#539404'><time timestamp='2017-04-12T20:34:00Z'>20:34</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
but, yea, putting it in the commit title itself is probably good
<br>
</div>

<div class='talk op-msg' data-timestamp='1492029240' id='539405'>
<a class='timestamp' href='#539405'><time timestamp='2017-04-12T20:34:00Z'>20:34</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
no, i like jtimon&#x27;s suggestion
<br>
</div>

<div class='talk op-msg' data-timestamp='1492029300' id='539406'>
<a class='timestamp' href='#539406'><time timestamp='2017-04-12T20:35:00Z'>20:35</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
yep, look at <a href="https://github.com/bitcoin/bitcoin/pull/10193" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10193</a> for an example (needs some squashing after completing it)
<br>
</div>

<div class='talk op-msg' data-timestamp='1492029360' id='539407'>
<a class='timestamp' href='#539407'><time timestamp='2017-04-12T20:36:00Z'>20:36</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
jtimon: btw, I think you&#x27;re looking for: sed -i &#x27;/#include &lt;boost\/foreach.hpp&gt;/d&#x27; file
<br>
</div>

<div class='talk op-msg' data-timestamp='1492029360' id='539408'>
<a class='timestamp' href='#539408'><time timestamp='2017-04-12T20:36:00Z'>20:36</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
:)     
<br>
</div>

<div class='talk op-msg' data-timestamp='1492029420' id='539409'>
<a class='timestamp' href='#539409'><time timestamp='2017-04-12T20:37:00Z'>20:37</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
btw, how can I do sed -i &#x27;:a;N;$!ba;s/#include &lt;boost\/foreach.hpp&gt;\n//&#x27; ./src/*.cpp but excluding some specific files ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1492029780' id='539410'>
<a class='timestamp' href='#539410'><time timestamp='2017-04-12T20:43:00Z'>20:43</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
yeah, for qt and wallet  I have it done, but some places use BOOST_REVERSE_FOREACH so they need to maintain the include for now
<br>
</div>

<div class='talk op-msg' data-timestamp='1492029780' id='539411'>
<a class='timestamp' href='#539411'><time timestamp='2017-04-12T20:43:00Z'>20:43</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
that&#x27;s why I need to exclude specific files
<br>
</div>

<div class='talk op-msg' data-timestamp='1492029840' id='539412'>
<a class='timestamp' href='#539412'><time timestamp='2017-04-12T20:44:00Z'>20:44</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
gmaxwell: yeah it is certainly possible i overlooked something simple
<br>
</div>

<div class='talk op-msg' data-timestamp='1492029840' id='539413'>
<a class='timestamp' href='#539413'><time timestamp='2017-04-12T20:44:00Z'>20:44</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
gmaxwell: but with what you describe, i don&#x27;t see how you could bound the income difference?
<br>
</div>

<div class='talk op-msg' data-timestamp='1492029840' id='539414'>
<a class='timestamp' href='#539414'><time timestamp='2017-04-12T20:44:00Z'>20:44</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
without making assumptions about the fee distribution
<br>
</div>

<div class='talk op-msg' data-timestamp='1492029840' id='539415'>
<a class='timestamp' href='#539415'><time timestamp='2017-04-12T20:44:00Z'>20:44</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
jtimon: how about just changing those to rbegin/rend iterators in a prior commit?
<br>
</div>

<div class='talk op-msg' data-timestamp='1492029960' id='539416'>
<a class='timestamp' href='#539416'><time timestamp='2017-04-12T20:46:00Z'>20:46</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
yeah, that would be another option, at first I was thinking of only removing it from qt and wallet for now, but if I can completely remove them using this, it doesn&#x27;t look as disruptive as I expected
<br>
</div>

<div class='talk op-msg' data-timestamp='1492029960' id='539417'>
<a class='timestamp' href='#539417'><time timestamp='2017-04-12T20:46:00Z'>20:46</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
gmaxwell: one way to implement what you describe might be, fill up the first X% of the block, and if no recent transactions were chosen, then exclude recent transactions from the remainder of the block
<br>
</div>

<div class='talk op-msg' data-timestamp='1492030020' id='539418'>
<a class='timestamp' href='#539418'><time timestamp='2017-04-12T20:47:00Z'>20:47</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
but if fee distributions were close to flat, then you might give up a lot of income unless X is large
<br>
</div>

<div class='talk op-msg' data-timestamp='1492030020' id='539419'>
<a class='timestamp' href='#539419'><time timestamp='2017-04-12T20:47:00Z'>20:47</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
I mean, if people are ok with doing it all at once, I would prefer it
<br>
</div>

<div class='talk op-msg' data-timestamp='1492030260' id='539420'>
<a class='timestamp' href='#539420'><time timestamp='2017-04-12T20:51:00Z'>20:51</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
jtimon: please. kill boost
<br>
</div>

<div class='talk op-msg' data-timestamp='1492030320' id='539421'>
<a class='timestamp' href='#539421'><time timestamp='2017-04-12T20:52:00Z'>20:52</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
BlueMatt: alright, that feeback is useful
<br>
</div>

<div class='talk op-msg' data-timestamp='1492030320' id='539422'>
<a class='timestamp' href='#539422'><time timestamp='2017-04-12T20:52:00Z'>20:52</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
:)     
<br>
</div>

<div class='talk op-msg' data-timestamp='1492030380' id='539423'>
<a class='timestamp' href='#539423'><time timestamp='2017-04-12T20:53:00Z'>20:53</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
gmaxwell: and conversely, i think you could also have the problem of including recent transactions too frequently -- a small high feerate transactions that was recently received should almost certainly not be included
<br>
</div>

<div class='talk op-msg' data-timestamp='1492030380' id='539424'>
<a class='timestamp' href='#539424'><time timestamp='2017-04-12T20:53:00Z'>20:53</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
because block reward is still high enough that it dominates
<br>
</div>

<div class='talk op-msg' data-timestamp='1492032480' id='539425'>
<a class='timestamp' href='#539425'><time timestamp='2017-04-12T21:28:00Z'>21:28</time></a>
&lt;<span class='nick nick-13'> bincap</span>&gt;
is it possible to write a script that executes or not depending on version bits of current block? (e.g. a payment locked by activation of segwit)?
<br>
</div>

<div class='talk op-msg' data-timestamp='1492032480' id='539426'>
<a class='timestamp' href='#539426'><time timestamp='2017-04-12T21:28:00Z'>21:28</time></a>
&lt;<span class='nick nick-13'> bincap</span>&gt;
(or of other block)
<br>
</div>

<div class='talk op-msg' data-timestamp='1492033080' id='539427'>
<a class='timestamp' href='#539427'><time timestamp='2017-04-12T21:38:00Z'>21:38</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
no, transactions cannot observe what block they are in
<br>
</div>

<div class='talk op-msg' data-timestamp='1492033080' id='539428'>
<a class='timestamp' href='#539428'><time timestamp='2017-04-12T21:38:00Z'>21:38</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
otherwise you couldn&#x27;t validate them before being confirmed
<br>
</div>

<div class='talk op-msg' data-timestamp='1492033140' id='539429'>
<a class='timestamp' href='#539429'><time timestamp='2017-04-12T21:39:00Z'>21:39</time></a>
&lt;<span class='nick nick-13'> bincap</span>&gt;
sipa: in previous block(s) then
<br>
</div>

<div class='talk op-msg' data-timestamp='1492033980' id='539430'>
<a class='timestamp' href='#539430'><time timestamp='2017-04-12T21:53:00Z'>21:53</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
no, transactions cannot observe what block they are in
<br>
</div>

<div class='talk op-msg' data-timestamp='1492034220' id='539431'>
<a class='timestamp' href='#539431'><time timestamp='2017-04-12T21:57:00Z'>21:57</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sdaftuar: income difference is bound by amount_you_will_skip times transactions.
<br>
</div>

<div class='talk op-msg' data-timestamp='1492034400' id='539432'>
<a class='timestamp' href='#539432'><time timestamp='2017-04-12T22:00:00Z'>22:00</time></a>
&lt;<span class='nick nick-13'> bincap</span>&gt;
sipa: could they instead observe e.g. version bits of block defined in script by it&#x27;s height?
<br>
</div>

<div class='talk op-msg' data-timestamp='1492034460' id='539433'>
<a class='timestamp' href='#539433'><time timestamp='2017-04-12T22:01:00Z'>22:01</time></a>
&lt;<span class='nick nick-13'> bincap</span>&gt;
that could allow to set up some incentives for users promising to support given BIP to actually do that
<br>
</div>

<div class='talk op-msg' data-timestamp='1492034640' id='539434'>
<a class='timestamp' href='#539434'><time timestamp='2017-04-12T22:04:00Z'>22:04</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sdaftuar: I agree that what you propose is more &#x27;correct&#x27;, but it is non-trivially more complex. I&#x27;m doubtful that it increases income a meaningful amount, we&#x27;ve also not seen miners working especially hard in increasing their work update speed.. which causes similar losses.
<br>
</div>

<div class='talk op-msg' data-timestamp='1492034760' id='539435'>
<a class='timestamp' href='#539435'><time timestamp='2017-04-12T22:06:00Z'>22:06</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
would adding something like <a href="https://gist.github.com/arvidsson/7231973" class="link" target="_blank">https://gist.github.com/arvidsson/7231973</a> be acceptable for getting rid of BOOST_REVERSE_FOREACH ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1492035120' id='539436'>
<a class='timestamp' href='#539436'><time timestamp='2017-04-12T22:12:00Z'>22:12</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
bincap: transactions don&#x27;t observe blocms
<br>
</div>

<div class='talk op-msg' data-timestamp='1492035120' id='539437'>
<a class='timestamp' href='#539437'><time timestamp='2017-04-12T22:12:00Z'>22:12</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
transactions exist before they&#x27;re in a block
<br>
</div>

<div class='talk op-msg' data-timestamp='1492035180' id='539438'>
<a class='timestamp' href='#539438'><time timestamp='2017-04-12T22:13:00Z'>22:13</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
their validity is independent of what chain they are included in
<br>
</div>

<div class='talk op-msg' data-timestamp='1492035180' id='539439'>
<a class='timestamp' href='#539439'><time timestamp='2017-04-12T22:13:00Z'>22:13</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
so no
<br>
</div>

<div class='talk op-msg' data-timestamp='1492035300' id='539440'>
<a class='timestamp' href='#539440'><time timestamp='2017-04-12T22:15:00Z'>22:15</time></a>
&lt;<span class='nick nick-13'> bincap</span>&gt;
I see. I thought of something like NLockTime
<br>
</div>

<div class='talk op-msg' data-timestamp='1492035840' id='539441'>
<a class='timestamp' href='#539441'><time timestamp='2017-04-12T22:24:00Z'>22:24</time></a>
&lt;<span class='nick nick-13'> bincap</span>&gt;
can you otherwise create now a transaction, that will be very expensive to spend without segwit, but easy with segwit? (for example some setup of creating dust transactions and collecting them in segwit)
<br>
</div>

<div class='talk op-msg' data-timestamp='1492036440' id='539442'>
<a class='timestamp' href='#539442'><time timestamp='2017-04-12T22:34:00Z'>22:34</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
bincap: such things would create terrible incentives to lie about your rule support. These kinds of proposals have been rehashed many times before...
<br>
</div>

<div class='talk op-msg' data-timestamp='1492036920' id='539443'>
<a class='timestamp' href='#539443'><time timestamp='2017-04-12T22:42:00Z'>22:42</time></a>
&lt;<span class='nick nick-7'> berndj</span>&gt;
gmaxwell, i think i started this line of thinking in #bitcoin, my version was only slightly different, where the coins become redeemable by anyone (i.e. probably a miner) if SW should fail to be active
<br>
</div>

<div class='talk op-msg' data-timestamp='1492036920' id='539444'>
<a class='timestamp' href='#539444'><time timestamp='2017-04-12T22:42:00Z'>22:42</time></a>
&lt;<span class='nick nick-7'> berndj</span>&gt;
so blame me for that :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1492039860' id='539445'>
<a class='timestamp' href='#539445'><time timestamp='2017-04-12T23:31:00Z'>23:31</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
gmaxwell: i don&#x27;t think the PR is all that complex, it may appear to be because i broke things out into lots of small commits (hopefully, to help review).  but admittedly i introduced some complexity in order to shave a few milliseconds off the runtime
<br>
</div>

<div class='talk op-msg' data-timestamp='1492039920' id='539446'>
<a class='timestamp' href='#539446'><time timestamp='2017-04-12T23:32:00Z'>23:32</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sdaftuar: to confess, I didn&#x27;t review it yet but you made it <u>_sound_</u> complex.
<br>
</div>

<div class='talk op-msg' data-timestamp='1492039920' id='539447'>
<a class='timestamp' href='#539447'><time timestamp='2017-04-12T23:32:00Z'>23:32</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
gmaxwell: conceptually, i could have kept things very simple if i just ran CNB twice, once allowing recent transacitons in, and once without them
<br>
</div>

<div class='talk op-msg' data-timestamp='1492039920' id='539448'>
<a class='timestamp' href='#539448'><time timestamp='2017-04-12T23:32:00Z'>23:32</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
yes, but that would have pretty poor performance.
<br>
</div>

<div class='talk op-msg' data-timestamp='1492039920' id='539449'>
<a class='timestamp' href='#539449'><time timestamp='2017-04-12T23:32:00Z'>23:32</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
not terribly poor, if you avoided the TBV call
<br>
</div>

<div class='talk op-msg' data-timestamp='1492039920' id='539450'>
<a class='timestamp' href='#539450'><time timestamp='2017-04-12T23:32:00Z'>23:32</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
er, redundant TBV call
<br>
</div>

<div class='talk op-msg' data-timestamp='1492039980' id='539451'>
<a class='timestamp' href='#539451'><time timestamp='2017-04-12T23:33:00Z'>23:33</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
basically you would just call addPackageTxs twice... average runtime of 7-8ms
<br>
</div>

<div class='talk op-msg' data-timestamp='1492039980' id='539452'>
<a class='timestamp' href='#539452'><time timestamp='2017-04-12T23:33:00Z'>23:33</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
so that times two, versus the optimization i did, which gets down to about 10ms instead
<br>
</div>

<div class='talk op-msg' data-timestamp='1492040040' id='539453'>
<a class='timestamp' href='#539453'><time timestamp='2017-04-12T23:34:00Z'>23:34</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
i do want to save further optimization for a future PR.  but i could back out the optimization in this one, if it would aid review
<br>
</div>

<div class='talk op-msg' data-timestamp='1492040100' id='539454'>
<a class='timestamp' href='#539454'><time timestamp='2017-04-12T23:35:00Z'>23:35</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Do you have a benchmark for this, that lets you measure how often it picks each option and how much fees it loses on consistent traffic?
<br>
</div>

<div class='talk op-msg' data-timestamp='1492040100' id='539455'>
<a class='timestamp' href='#539455'><time timestamp='2017-04-12T23:35:00Z'>23:35</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
e.g. that you could also try a braindead simple patch that just skips txn you&#x27;ve had less than X seconds, unless they have astronomic fees?
<br>
</div>

<div class='talk op-msg' data-timestamp='1492040160' id='539456'>
<a class='timestamp' href='#539456'><time timestamp='2017-04-12T23:36:00Z'>23:36</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
yeah i have simulated this a bunch.  i think with 10seconds of recency and 1% threshold, it almost never will include recent transactions.
<br>
</div>

<div class='talk op-msg' data-timestamp='1492040160' id='539457'>
<a class='timestamp' href='#539457'><time timestamp='2017-04-12T23:36:00Z'>23:36</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
my most recent run was with 30 seconds/0.5% threshold, and it still very rarely included recent transactions... maybe a handful of times out of more than 1000 samples
<br>
</div>

<div class='talk op-msg' data-timestamp='1492040220' id='539458'>
<a class='timestamp' href='#539458'><time timestamp='2017-04-12T23:37:00Z'>23:37</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I made measurements of cross node mempool consistency a while back, but cdecker tells me that propagation has become much slower (which was intentional) so those numbers probably should be redone.
<br>
</div>

<div class='talk op-msg' data-timestamp='1492040340' id='539459'>
<a class='timestamp' href='#539459'><time timestamp='2017-04-12T23:39:00Z'>23:39</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
so the toggles in that model would be X (number of seconds) and fee (feerate?) threshold?
<br>
</div>

<div class='talk op-msg' data-timestamp='1492040340' id='539460'>
<a class='timestamp' href='#539460'><time timestamp='2017-04-12T23:39:00Z'>23:39</time></a>
&lt;<span class='nick nick-9'> cdecker</span>&gt;
Yeah, TX propagation has slowed down considerably (<a href="http://bitcoinstats.com/network/propagation/)" class="link" target="_blank">http://bitcoinstats.com/network/propagation/)</a>, but blocks have sped up a lot
<br>
</div>

<div class='talk op-msg' data-timestamp='1492040340' id='539461'>
<a class='timestamp' href='#539461'><time timestamp='2017-04-12T23:39:00Z'>23:39</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
cdecker: thats great data, thanks!
<br>
</div>

<div class='talk op-msg' data-timestamp='1492040400' id='539462'>
<a class='timestamp' href='#539462'><time timestamp='2017-04-12T23:40:00Z'>23:40</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(It slowed down because we unbroke trickling)
<br>
</div>

<div class='talk op-msg' data-timestamp='1492040580' id='539463'>
<a class='timestamp' href='#539463'><time timestamp='2017-04-12T23:43:00Z'>23:43</time></a>
&lt;<span class='nick nick-5'> midnightmagic</span>&gt;
+1 unbreaking trickling
<br>
</div>

</div>
</section>

</body>
</html>
