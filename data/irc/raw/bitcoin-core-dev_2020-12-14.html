<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2020-12-14
 — 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2020-12-14' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:17 UTC</pre>
<pre><a href="/bitcoin-core-dev/2020-11-14">&lt;</a><span class='header'>  December 2020   </span><a href="/bitcoin-core-dev/2021-01-14">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;       <a class="" href="/bitcoin-core-dev/2020-12-01">1</a>  <a class="" href="/bitcoin-core-dev/2020-12-02">2</a>  <a class="" href="/bitcoin-core-dev/2020-12-03">3</a>  <a class="" href="/bitcoin-core-dev/2020-12-04">4</a>  <a class="" href="/bitcoin-core-dev/2020-12-05">5</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2020-12-06">6</a>  <a class="" href="/bitcoin-core-dev/2020-12-07">7</a>  <a class="" href="/bitcoin-core-dev/2020-12-08">8</a>  <a class="" href="/bitcoin-core-dev/2020-12-09">9</a> <a class="" href="/bitcoin-core-dev/2020-12-10">10</a> <a class="" href="/bitcoin-core-dev/2020-12-11">11</a> <a class="" href="/bitcoin-core-dev/2020-12-12">12</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2020-12-13">13</a> <a class="current" href="/bitcoin-core-dev/2020-12-14">14</a> <a class="" href="/bitcoin-core-dev/2020-12-15">15</a> <a class="" href="/bitcoin-core-dev/2020-12-16">16</a> <a class="" href="/bitcoin-core-dev/2020-12-17">17</a> <a class="" href="/bitcoin-core-dev/2020-12-18">18</a> <a class="" href="/bitcoin-core-dev/2020-12-19">19</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2020-12-20">20</a> <a class="" href="/bitcoin-core-dev/2020-12-21">21</a> <a class="" href="/bitcoin-core-dev/2020-12-22">22</a> <a class="" href="/bitcoin-core-dev/2020-12-23">23</a> <a class="" href="/bitcoin-core-dev/2020-12-24">24</a> <a class="" href="/bitcoin-core-dev/2020-12-25">25</a> <a class="" href="/bitcoin-core-dev/2020-12-26">26</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2020-12-27">27</a> <a class="" href="/bitcoin-core-dev/2020-12-28">28</a> <a class="" href="/bitcoin-core-dev/2020-12-29">29</a> <a class="" href="/bitcoin-core-dev/2020-12-30">30</a> <a class="" href="/bitcoin-core-dev/2020-12-31">31</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1607904420' id='419915'>
<a class='timestamp' href='#419915'><time timestamp='2020-12-14T00:07:00Z'>00:07</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
ok, I think my pr works now
<br>
</div>

<div class='talk op-msg' data-timestamp='1607904420' id='419916'>
<a class='timestamp' href='#419916'><time timestamp='2020-12-14T00:07:00Z'>00:07</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
I was able to do the whole macOS build and sign process and got valid binaries out the other end
<br>
</div>

<div class='talk op-msg' data-timestamp='1607904420' id='419917'>
<a class='timestamp' href='#419917'><time timestamp='2020-12-14T00:07:00Z'>00:07</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
will check sipa&#x27;s pr now
<br>
</div>

<div class='talk op-msg' data-timestamp='1607908440' id='419918'>
<a class='timestamp' href='#419918'><time timestamp='2020-12-14T01:14:00Z'>01:14</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
sipa: 3021d9722182e2dfdcd29b1dec11514d66f3e566d5ae505d69c2c68b21f68a27  bitcoin-a4118c6e200e-osx-unsigned.tar.gz match?
<br>
</div>

<div class='talk op-msg' data-timestamp='1607908740' id='419919'>
<a class='timestamp' href='#419919'><time timestamp='2020-12-14T01:19:00Z'>01:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
achow101: match
<br>
</div>

<div class='talk op-msg' data-timestamp='1607908740' id='419920'>
<a class='timestamp' href='#419920'><time timestamp='2020-12-14T01:19:00Z'>01:19</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
vmsize 0x0000000000083000
<br>
</div>

<div class='talk op-msg' data-timestamp='1607908740' id='419921'>
<a class='timestamp' href='#419921'><time timestamp='2020-12-14T01:19:00Z'>01:19</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
no good I think
<br>
</div>

<div class='talk op-msg' data-timestamp='1607908740' id='419922'>
<a class='timestamp' href='#419922'><time timestamp='2020-12-14T01:19:00Z'>01:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
achow101: that&#x27;s expected
<br>
</div>

<div class='talk op-msg' data-timestamp='1607908800' id='419923'>
<a class='timestamp' href='#419923'><time timestamp='2020-12-14T01:20:00Z'>01:20</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
how so?
<br>
</div>

<div class='talk op-msg' data-timestamp='1607908800' id='419924'>
<a class='timestamp' href='#419924'><time timestamp='2020-12-14T01:20:00Z'>01:20</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it&#x27;ll be corrected at signature-attach time, not before
<br>
</div>

<div class='talk op-msg' data-timestamp='1607908800' id='419925'>
<a class='timestamp' href='#419925'><time timestamp='2020-12-14T01:20:00Z'>01:20</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
yes, this is post signing
<br>
</div>

<div class='talk op-msg' data-timestamp='1607908800' id='419926'>
<a class='timestamp' href='#419926'><time timestamp='2020-12-14T01:20:00Z'>01:20</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
oh
<br>
</div>

<div class='talk op-msg' data-timestamp='1607908800' id='419927'>
<a class='timestamp' href='#419927'><time timestamp='2020-12-14T01:20:00Z'>01:20</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
:(
<br>
</div>

<div class='talk op-msg' data-timestamp='1607908800' id='419928'>
<a class='timestamp' href='#419928'><time timestamp='2020-12-14T01:20:00Z'>01:20</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
wth
<br>
</div>

<div class='talk op-msg' data-timestamp='1607908800' id='419929'>
<a class='timestamp' href='#419929'><time timestamp='2020-12-14T01:20:00Z'>01:20</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
pre-signing is vmsize 0x0000000000043428
<br>
</div>

<div class='talk op-msg' data-timestamp='1607908860' id='419930'>
<a class='timestamp' href='#419930'><time timestamp='2020-12-14T01:21:00Z'>01:21</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
our validation script correctly fails it too
<br>
</div>

<div class='talk op-msg' data-timestamp='1607909040' id='419931'>
<a class='timestamp' href='#419931'><time timestamp='2020-12-14T01:24:00Z'>01:24</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
bizarre
<br>
</div>

<div class='talk op-msg' data-timestamp='1607909220' id='419932'>
<a class='timestamp' href='#419932'><time timestamp='2020-12-14T01:27:00Z'>01:27</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
the saga continues
<br>
</div>

<div class='talk op-msg' data-timestamp='1607909280' id='419933'>
<a class='timestamp' href='#419933'><time timestamp='2020-12-14T01:28:00Z'>01:28</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
at least the bogus sig trick works
<br>
</div>

<div class='talk op-msg' data-timestamp='1607910240' id='419934'>
<a class='timestamp' href='#419934'><time timestamp='2020-12-14T01:44:00Z'>01:44</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
achow101: i can&#x27;t comprehend how it <b>*did*</b> round to 0x1000, but not 0x2000
<br>
</div>

<div class='talk op-msg' data-timestamp='1607910300' id='419935'>
<a class='timestamp' href='#419935'><time timestamp='2020-12-14T01:45:00Z'>01:45</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
the constant 0x1000 should exist anymore in any of the used code
<br>
</div>

<div class='talk op-msg' data-timestamp='1607910300' id='419936'>
<a class='timestamp' href='#419936'><time timestamp='2020-12-14T01:45:00Z'>01:45</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
is it possible it used a cached codesign_allocate from a previous build?
<br>
</div>

<div class='talk op-msg' data-timestamp='1607910480' id='419937'>
<a class='timestamp' href='#419937'><time timestamp='2020-12-14T01:48:00Z'>01:48</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
I don&#x27;t think so
<br>
</div>

<div class='talk op-msg' data-timestamp='1607910480' id='419938'>
<a class='timestamp' href='#419938'><time timestamp='2020-12-14T01:48:00Z'>01:48</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
I definitely cleared the cache
<br>
</div>

<div class='talk op-msg' data-timestamp='1607910720' id='419939'>
<a class='timestamp' href='#419939'><time timestamp='2020-12-14T01:52:00Z'>01:52</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
the vmsize is also wildly off. it should&#x27;ve been 0x7b000
<br>
</div>

<div class='talk op-msg' data-timestamp='1607910720' id='419940'>
<a class='timestamp' href='#419940'><time timestamp='2020-12-14T01:52:00Z'>01:52</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
I thought maybe it had accidentally used my hack, but the unsigned was correct and the tarball matches yourss
<br>
</div>

<div class='talk op-msg' data-timestamp='1607910840' id='419941'>
<a class='timestamp' href='#419941'><time timestamp='2020-12-14T01:54:00Z'>01:54</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ok, perhaps changing this constant affects far more
<br>
</div>

<div class='talk op-msg' data-timestamp='1607910840' id='419942'>
<a class='timestamp' href='#419942'><time timestamp='2020-12-14T01:54:00Z'>01:54</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
still doesn&#x27;t explain why the number isn&#x27;t a multiple of 0x2000, though
<br>
</div>

<div class='talk op-msg' data-timestamp='1607910840' id='419943'>
<a class='timestamp' href='#419943'><time timestamp='2020-12-14T01:54:00Z'>01:54</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i don&#x27;t see how that&#x27;s possible
<br>
</div>

<div class='talk op-msg' data-timestamp='1607911020' id='419944'>
<a class='timestamp' href='#419944'><time timestamp='2020-12-14T01:57:00Z'>01:57</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
achow101: do you have the unsigned Bitcoin-Qt binary somewhere?
<br>
</div>

<div class='talk op-msg' data-timestamp='1607911080' id='419945'>
<a class='timestamp' href='#419945'><time timestamp='2020-12-14T01:58:00Z'>01:58</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
yeah, do you need it?
<br>
</div>

<div class='talk op-msg' data-timestamp='1607911080' id='419946'>
<a class='timestamp' href='#419946'><time timestamp='2020-12-14T01:58:00Z'>01:58</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
oh, i guess i have it too!
<br>
</div>

<div class='talk op-msg' data-timestamp='1607911140' id='419947'>
<a class='timestamp' href='#419947'><time timestamp='2020-12-14T01:59:00Z'>01:59</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
I would expect so, since you did the gitian build
<br>
</div>

<div class='talk op-msg' data-timestamp='1607911200' id='419948'>
<a class='timestamp' href='#419948'><time timestamp='2020-12-14T02:00:00Z'>02:00</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yeah, i do
<br>
</div>

<div class='talk op-msg' data-timestamp='1607911260' id='419949'>
<a class='timestamp' href='#419949'><time timestamp='2020-12-14T02:01:00Z'>02:01</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
any way to see the vmsize from linux?
<br>
</div>

<div class='talk op-msg' data-timestamp='1607911260' id='419950'>
<a class='timestamp' href='#419950'><time timestamp='2020-12-14T02:01:00Z'>02:01</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
native_cctools also has otool
<br>
</div>

<div class='talk op-msg' data-timestamp='1607911260' id='419951'>
<a class='timestamp' href='#419951'><time timestamp='2020-12-14T02:01:00Z'>02:01</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
it&#x27;ll be x86_64-apple-darwin-otool
<br>
</div>

<div class='talk op-msg' data-timestamp='1607911320' id='419952'>
<a class='timestamp' href='#419952'><time timestamp='2020-12-14T02:02:00Z'>02:02</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
it&#x27;ll be x86_64-apple-darwin-otool -l Bitcoin-Qt
<br>
</div>

<div class='talk op-msg' data-timestamp='1607911380' id='419953'>
<a class='timestamp' href='#419953'><time timestamp='2020-12-14T02:03:00Z'>02:03</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
what&#x27;s the sig size?
<br>
</div>

<div class='talk op-msg' data-timestamp='1607911440' id='419954'>
<a class='timestamp' href='#419954'><time timestamp='2020-12-14T02:04:00Z'>02:04</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
224592
<br>
</div>

<div class='talk op-msg' data-timestamp='1607911500' id='419955'>
<a class='timestamp' href='#419955'><time timestamp='2020-12-14T02:05:00Z'>02:05</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
unsigned:
<br>
</div>

<div class='talk op-msg' data-timestamp='1607911500' id='419956'>
<a class='timestamp' href='#419956'><time timestamp='2020-12-14T02:05:00Z'>02:05</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
  segname __LINKEDIT
<br>
</div>

<div class='talk op-msg' data-timestamp='1607911500' id='419957'>
<a class='timestamp' href='#419957'><time timestamp='2020-12-14T02:05:00Z'>02:05</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
   vmaddr 0x00000001018fa000
<br>
</div>

<div class='talk op-msg' data-timestamp='1607911500' id='419958'>
<a class='timestamp' href='#419958'><time timestamp='2020-12-14T02:05:00Z'>02:05</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
   vmsize 0x0000000000043428
<br>
</div>

<div class='talk op-msg' data-timestamp='1607911500' id='419959'>
<a class='timestamp' href='#419959'><time timestamp='2020-12-14T02:05:00Z'>02:05</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i run:
<br>
</div>

<div class='talk op-msg' data-timestamp='1607911500' id='419960'>
<a class='timestamp' href='#419960'><time timestamp='2020-12-14T02:05:00Z'>02:05</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
$ ./codesign_allocate -i dist/Bitcoin-Qt.app/Contents/MacOS/Bitcoin-Qt -a x86_64 224592 -o out
<br>
</div>

<div class='talk op-msg' data-timestamp='1607911560' id='419961'>
<a class='timestamp' href='#419961'><time timestamp='2020-12-14T02:06:00Z'>02:06</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
output:
<br>
</div>

<div class='talk op-msg' data-timestamp='1607911560' id='419962'>
<a class='timestamp' href='#419962'><time timestamp='2020-12-14T02:06:00Z'>02:06</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
  segname __LINKEDIT
<br>
</div>

<div class='talk op-msg' data-timestamp='1607911560' id='419963'>
<a class='timestamp' href='#419963'><time timestamp='2020-12-14T02:06:00Z'>02:06</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
   vmaddr 0x00000001018fa000
<br>
</div>

<div class='talk op-msg' data-timestamp='1607911560' id='419964'>
<a class='timestamp' href='#419964'><time timestamp='2020-12-14T02:06:00Z'>02:06</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
   vmsize 0x000000000007c000
<br>
</div>

<div class='talk op-msg' data-timestamp='1607911560' id='419965'>
<a class='timestamp' href='#419965'><time timestamp='2020-12-14T02:06:00Z'>02:06</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
hmmm
<br>
</div>

<div class='talk op-msg' data-timestamp='1607911560' id='419966'>
<a class='timestamp' href='#419966'><time timestamp='2020-12-14T02:06:00Z'>02:06</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
???????
<br>
</div>

<div class='talk op-msg' data-timestamp='1607911620' id='419967'>
<a class='timestamp' href='#419967'><time timestamp='2020-12-14T02:07:00Z'>02:07</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
this is using the codesign_allocate tool in my gitian build output
<br>
</div>

<div class='talk op-msg' data-timestamp='1607911620' id='419968'>
<a class='timestamp' href='#419968'><time timestamp='2020-12-14T02:07:00Z'>02:07</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
I guess I have an unclean environment
<br>
</div>

<div class='talk op-msg' data-timestamp='1607911680' id='419969'>
<a class='timestamp' href='#419969'><time timestamp='2020-12-14T02:08:00Z'>02:08</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
oh, it must be grabbing the wrong unsigned tarball
<br>
</div>

<div class='talk op-msg' data-timestamp='1607912100' id='419970'>
<a class='timestamp' href='#419970'><time timestamp='2020-12-14T02:15:00Z'>02:15</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
I can&#x27;t get it to make the correct size
<br>
</div>

<div class='talk op-msg' data-timestamp='1607912160' id='419971'>
<a class='timestamp' href='#419971'><time timestamp='2020-12-14T02:16:00Z'>02:16</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
how are you invoking gitian-build.py ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1607912160' id='419972'>
<a class='timestamp' href='#419972'><time timestamp='2020-12-14T02:16:00Z'>02:16</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
i&#x27;m using gbuild directly
<br>
</div>

<div class='talk op-msg' data-timestamp='1607912160' id='419973'>
<a class='timestamp' href='#419973'><time timestamp='2020-12-14T02:16:00Z'>02:16</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
<a href="https://drive.google.com/file/d/1xFdpQoAKHNG9eC6Jw5rY7gzIwb7rgR-q/view?usp=sharing" class="link" target="_blank">https://drive.google.com/file/d/1xFdpQoAKHNG9eC6Jw5rY7gzIwb7rgR-q/view?usp=sharing</a> is the sig tarball if you want to try
<br>
</div>

<div class='talk op-msg' data-timestamp='1607912220' id='419974'>
<a class='timestamp' href='#419974'><time timestamp='2020-12-14T02:17:00Z'>02:17</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
I&#x27;ll try applying it manually
<br>
</div>

<div class='talk op-msg' data-timestamp='1607912400' id='419975'>
<a class='timestamp' href='#419975'><time timestamp='2020-12-14T02:20:00Z'>02:20</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
my best guess is thah somehow it&#x27;s using the wrong bitcoin-osx-unsigned.tar.gz
<br>
</div>

<div class='talk op-msg' data-timestamp='1607912520' id='419976'>
<a class='timestamp' href='#419976'><time timestamp='2020-12-14T02:22:00Z'>02:22</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
running it locally instead of gitian definintely does the right thing
<br>
</div>

<div class='talk op-msg' data-timestamp='1607912580' id='419977'>
<a class='timestamp' href='#419977'><time timestamp='2020-12-14T02:23:00Z'>02:23</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
and it is valid
<br>
</div>

<div class='talk op-msg' data-timestamp='1607913180' id='419978'>
<a class='timestamp' href='#419978'><time timestamp='2020-12-14T02:33:00Z'>02:33</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
ok, I got it working, it is valid now
<br>
</div>

<div class='talk op-msg' data-timestamp='1607913180' id='419979'>
<a class='timestamp' href='#419979'><time timestamp='2020-12-14T02:33:00Z'>02:33</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
it was the filenames...
<br>
</div>

<div class='talk op-msg' data-timestamp='1607913300' id='419980'>
<a class='timestamp' href='#419980'><time timestamp='2020-12-14T02:35:00Z'>02:35</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
2 hardest problems in computer science: concurrency, off by one errors, and naming stuff
<br>
</div>

<div class='talk op-msg' data-timestamp='1607913300' id='419981'>
<a class='timestamp' href='#419981'><time timestamp='2020-12-14T02:35:00Z'>02:35</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
heh
<br>
</div>

<div class='talk op-msg' data-timestamp='1607913480' id='419982'>
<a class='timestamp' href='#419982'><time timestamp='2020-12-14T02:38:00Z'>02:38</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] fanquake pushed 2 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/ade38b6ee8f9...25bc840e038f" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/ade38b6ee8f9...25bc840e038f</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1607913480' id='419983'>
<a class='timestamp' href='#419983'><time timestamp='2020-12-14T02:38:00Z'>02:38</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master a33442f Antoine Riard: Remove m_is_manual_connection from CNodeState
<br>
</div>

<div class='talk op-msg' data-timestamp='1607913480' id='419984'>
<a class='timestamp' href='#419984'><time timestamp='2020-12-14T02:38:00Z'>02:38</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 25bc840 fanquake: Merge #20617: p2p: Remove m_is_manual_connection from CNodeState
<br>
</div>

<div class='talk op-msg' data-timestamp='1607913480' id='419985'>
<a class='timestamp' href='#419985'><time timestamp='2020-12-14T02:38:00Z'>02:38</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] fanquake merged pull request #20617: p2p: Remove m_is_manual_connection from CNodeState (master...2020-12-remove-is-manual-connection) <a href="https://github.com/bitcoin/bitcoin/pull/20617" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20617</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1607913720' id='419986'>
<a class='timestamp' href='#419986'><time timestamp='2020-12-14T02:42:00Z'>02:42</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
Given the state of the last few PRs, looks like Appveyor is broken? I&#x27;m seeing:
<br>
</div>

<div class='talk op-msg' data-timestamp='1607913720' id='419987'>
<a class='timestamp' href='#419987'><time timestamp='2020-12-14T02:42:00Z'>02:42</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
EXEC : error : Building package openssl-windows:x64-windows-static failed with: BUILD_FAILED ...
<br>
</div>

<div class='talk op-msg' data-timestamp='1607916600' id='419988'>
<a class='timestamp' href='#419988'><time timestamp='2020-12-14T03:30:00Z'>03:30</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
appveyor always broken..?
<br>
</div>

<div class='talk op-msg' data-timestamp='1607937720' id='419989'>
<a class='timestamp' href='#419989'><time timestamp='2020-12-14T09:22:00Z'>09:22</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke opened pull request #20648: chainparams: Add default fixed seeds for signet (master...2012-chainFixedSeedsSignet) <a href="https://github.com/bitcoin/bitcoin/pull/20648" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20648</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1607938680' id='419990'>
<a class='timestamp' href='#419990'><time timestamp='2020-12-14T09:38:00Z'>09:38</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
achow101: nice!
<br>
</div>

<div class='talk op-msg' data-timestamp='1607939460' id='419991'>
<a class='timestamp' href='#419991'><time timestamp='2020-12-14T09:51:00Z'>09:51</time></a>
&lt;<span class='nick nick-14'> jonatack</span>&gt;
yes, seeing the same appveyor issue
<br>
</div>

<div class='talk op-msg' data-timestamp='1607939700' id='419992'>
<a class='timestamp' href='#419992'><time timestamp='2020-12-14T09:55:00Z'>09:55</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke pushed 2 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/25bc840e038f...096bd374da28" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/25bc840e038f...096bd374da28</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1607939700' id='419993'>
<a class='timestamp' href='#419993'><time timestamp='2020-12-14T09:55:00Z'>09:55</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 4b7b58b Jon Atack: Update net_processing WTXID documentation per BIP339
<br>
</div>

<div class='talk op-msg' data-timestamp='1607939700' id='419994'>
<a class='timestamp' href='#419994'><time timestamp='2020-12-14T09:55:00Z'>09:55</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 096bd37 MarcoFalke: Merge #20592: doc: update wtxidrelay documentation per BIP339
<br>
</div>

<div class='talk op-msg' data-timestamp='1607939700' id='419995'>
<a class='timestamp' href='#419995'><time timestamp='2020-12-14T09:55:00Z'>09:55</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke merged pull request #20592: doc: update wtxidrelay documentation per BIP339 (master...update-wtxid-documentation-per-BIP339) <a href="https://github.com/bitcoin/bitcoin/pull/20592" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20592</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1607940180' id='419996'>
<a class='timestamp' href='#419996'><time timestamp='2020-12-14T10:03:00Z'>10:03</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke pushed 4 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/096bd374da28...eec9366f7dd6" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/096bd374da28...eec9366f7dd6</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1607940180' id='419997'>
<a class='timestamp' href='#419997'><time timestamp='2020-12-14T10:03:00Z'>10:03</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 8b57013 John Newbery: [net processing] Remove nStartingHeight check from block relay
<br>
</div>

<div class='talk op-msg' data-timestamp='1607940180' id='419998'>
<a class='timestamp' href='#419998'><time timestamp='2020-12-14T10:03:00Z'>10:03</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 94d2cc3 John Newbery: [net processing] Remove unnecesary nNewHeight variable in UpdatedBlockTip()
<br>
</div>

<div class='talk op-msg' data-timestamp='1607940180' id='419999'>
<a class='timestamp' href='#419999'><time timestamp='2020-12-14T10:03:00Z'>10:03</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master f636008 John Newbery: [net processing] Clarify UpdatedBlockTip()
<br>
</div>

<div class='talk op-msg' data-timestamp='1607940240' id='420000'>
<a class='timestamp' href='#420000'><time timestamp='2020-12-14T10:04:00Z'>10:04</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke merged pull request #20624: net processing: Remove nStartingHeight check from block relay (master...2020-12-remove-starting-height) <a href="https://github.com/bitcoin/bitcoin/pull/20624" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20624</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1607941020' id='420001'>
<a class='timestamp' href='#420001'><time timestamp='2020-12-14T10:17:00Z'>10:17</time></a>
&lt;<span class='nick nick-3'> aj</span>&gt;
really? proposed on friday, merged on monday?
<br>
</div>

<div class='talk op-msg' data-timestamp='1607944680' id='420002'>
<a class='timestamp' href='#420002'><time timestamp='2020-12-14T11:18:00Z'>11:18</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
that <b>*is*</b> really fast for a (non-trivial) P2P change
<br>
</div>

<div class='talk op-msg' data-timestamp='1607944740' id='420003'>
<a class='timestamp' href='#420003'><time timestamp='2020-12-14T11:19:00Z'>11:19</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
especially over a december weekend where everyone was occupied with macos signing
<br>
</div>

<div class='talk op-msg' data-timestamp='1607944800' id='420004'>
<a class='timestamp' href='#420004'><time timestamp='2020-12-14T11:20:00Z'>11:20</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
(pretty sure it&#x27;s correct but we should be careful)
<br>
</div>

<div class='talk op-msg' data-timestamp='1607945280' id='420005'>
<a class='timestamp' href='#420005'><time timestamp='2020-12-14T11:28:00Z'>11:28</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke opened pull request #20649: refactor: Remove nMyStartingHeight from CNode/Connman (master...2012-netNoMyHeight) <a href="https://github.com/bitcoin/bitcoin/pull/20649" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20649</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1607948580' id='420006'>
<a class='timestamp' href='#420006'><time timestamp='2020-12-14T12:23:00Z'>12:23</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] hebasto opened pull request #20650: depends: Drop workaround for a fixed bug in Qt build system (master...201214-xcb) <a href="https://github.com/bitcoin/bitcoin/pull/20650" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20650</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1607949600' id='420007'>
<a class='timestamp' href='#420007'><time timestamp='2020-12-14T12:40:00Z'>12:40</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke pushed 2 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/eec9366f7dd6...b103fdcb3bf4" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/eec9366f7dd6...b103fdcb3bf4</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1607949600' id='420008'>
<a class='timestamp' href='#420008'><time timestamp='2020-12-14T12:40:00Z'>12:40</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 7fabe0f Vasil Dimov: net: don&#x27;t relay to the address&#x27; originator
<br>
</div>

<div class='talk op-msg' data-timestamp='1607949600' id='420009'>
<a class='timestamp' href='#420009'><time timestamp='2020-12-14T12:40:00Z'>12:40</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master b103fdc MarcoFalke: Merge #19763: net: don&#x27;t try to relay to the address&#x27; originator
<br>
</div>

<div class='talk op-msg' data-timestamp='1607949600' id='420010'>
<a class='timestamp' href='#420010'><time timestamp='2020-12-14T12:40:00Z'>12:40</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke merged pull request #19763: net: don&#x27;t try to relay to the address&#x27; originator (master...only_relay_to_unaware) <a href="https://github.com/bitcoin/bitcoin/pull/19763" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/19763</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1607952300' id='420011'>
<a class='timestamp' href='#420011'><time timestamp='2020-12-14T13:25:00Z'>13:25</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jnewbery opened pull request #20651: net: Make p2p recv buffer timeout 20 minutes for all peers (master...2020-12-recv-buffer-timeout) <a href="https://github.com/bitcoin/bitcoin/pull/20651" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20651</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1607954100' id='420012'>
<a class='timestamp' href='#420012'><time timestamp='2020-12-14T13:55:00Z'>13:55</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
I assume there will be an rc4 to deal with the non-determinism macOS nightmare? So no point in me signing rc3?
<br>
</div>

<div class='talk op-msg' data-timestamp='1607954940' id='420013'>
<a class='timestamp' href='#420013'><time timestamp='2020-12-14T14:09:00Z'>14:09</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
provoostenator: yes.
<br>
</div>

<div class='talk op-msg' data-timestamp='1607954940' id='420014'>
<a class='timestamp' href='#420014'><time timestamp='2020-12-14T14:09:00Z'>14:09</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
provoostenator: I mean you can still sing the windows build... but the macOS is useless
<br>
</div>

<div class='talk op-msg' data-timestamp='1607956560' id='420015'>
<a class='timestamp' href='#420015'><time timestamp='2020-12-14T14:36:00Z'>14:36</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] gbizzotto opened pull request #20652: Designer fees when coin control is enabled: (master...master) <a href="https://github.com/bitcoin/bitcoin/pull/20652" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20652</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1607959620' id='420016'>
<a class='timestamp' href='#420016'><time timestamp='2020-12-14T15:27:00Z'>15:27</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it&#x27;s certain that there will be a rc4, that said, if you&#x27;re going to sign rc3 or not is up to you
<br>
</div>

<div class='talk op-msg' data-timestamp='1607959620' id='420017'>
<a class='timestamp' href='#420017'><time timestamp='2020-12-14T15:27:00Z'>15:27</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it&#x27;s still worth testing rc3 for other things, besides the macos determinism change i do not expect many differences
<br>
</div>

<div class='talk op-msg' data-timestamp='1607959800' id='420018'>
<a class='timestamp' href='#420018'><time timestamp='2020-12-14T15:30:00Z'>15:30</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
The determinism thing relates only to the signed binary,  or also to the unsiged?
<br>
</div>

<div class='talk op-msg' data-timestamp='1607959800' id='420019'>
<a class='timestamp' href='#420019'><time timestamp='2020-12-14T15:30:00Z'>15:30</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
(code signed)
<br>
</div>

<div class='talk op-msg' data-timestamp='1607959920' id='420020'>
<a class='timestamp' href='#420020'><time timestamp='2020-12-14T15:32:00Z'>15:32</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
sorry, it&#x27;s not a determinism problem this time, it&#x27;s a &quot;broken code signature&quot; problem, and it applies only to the codesigned build
<br>
</div>

<div class='talk op-msg' data-timestamp='1607960040' id='420021'>
<a class='timestamp' href='#420021'><time timestamp='2020-12-14T15:34:00Z'>15:34</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
the -unsigned macos build should be fine
<br>
</div>

<div class='talk op-msg' data-timestamp='1607960100' id='420022'>
<a class='timestamp' href='#420022'><time timestamp='2020-12-14T15:35:00Z'>15:35</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Ok, I managed to get a different unsigned build with #20638, so I&#x27;ll build rc3 as well to see what&#x27;s going on
<br>
</div>

<div class='talk op-msg' data-timestamp='1607960100' id='420023'>
<a class='timestamp' href='#420023'><time timestamp='2020-12-14T15:35:00Z'>15:35</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/20638" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/20638</a> | build: Fix macOS code signing by pre-allocating space for the code signature during gitian build by achow101 · Pull Request #20638 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1607960400' id='420024'>
<a class='timestamp' href='#420024'><time timestamp='2020-12-14T15:40:00Z'>15:40</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke closed pull request #20652: Designer fees when coin control is enabled (master...master) <a href="https://github.com/bitcoin/bitcoin/pull/20652" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20652</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1607960400' id='420025'>
<a class='timestamp' href='#420025'><time timestamp='2020-12-14T15:40:00Z'>15:40</time></a>
&lt;<span class='nick nick-10'> ariard</span>&gt;
I proposed the following topic for tmrw p2p meeting : &quot;Review of the P2P Review Process&quot; : <a href="https://github.com/bitcoin-core/bitcoin-devwiki/wiki/P2P-IRC-meetings" class="link" target="_blank">https://github.com/bitcoin-core/bitcoin-devwiki/wiki/P2P-IRC-meetings</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1607960460' id='420026'>
<a class='timestamp' href='#420026'><time timestamp='2020-12-14T15:41:00Z'>15:41</time></a>
&lt;<span class='nick nick-10'> ariard</span>&gt;
it&#x27;s end of year and it can be cool to reflect on the last 12 months of p2p PRs, what we can learn from :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1607960460' id='420027'>
<a class='timestamp' href='#420027'><time timestamp='2020-12-14T15:41:00Z'>15:41</time></a>
&lt;<span class='nick nick-10'> ariard</span>&gt;
feel free to add more example PRs, the ones I picked up were mostly on the number of comments
<br>
</div>

<div class='talk op-msg' data-timestamp='1607961000' id='420028'>
<a class='timestamp' href='#420028'><time timestamp='2020-12-14T15:50:00Z'>15:50</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
I wonder if there should be a &quot;Backported&quot; label to make it easier to look for missing backports (MarcoFalke, thoughts?)
<br>
</div>

<div class='talk op-msg' data-timestamp='1607961120' id='420029'>
<a class='timestamp' href='#420029'><time timestamp='2020-12-14T15:52:00Z'>15:52</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
please not another backport related label :-)
<br>
</div>

<div class='talk op-msg' data-timestamp='1607961240' id='420030'>
<a class='timestamp' href='#420030'><time timestamp='2020-12-14T15:54:00Z'>15:54</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
&lt;.&lt;
<br>
</div>

<div class='talk op-msg' data-timestamp='1607961240' id='420031'>
<a class='timestamp' href='#420031'><time timestamp='2020-12-14T15:54:00Z'>15:54</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I mean it&#x27;s a little bit more work but you could look in the history of the PR whether it&#x27;s been backported, or was ever to be backported, to the branch you&#x27;re interested in
<br>
</div>

<div class='talk op-msg' data-timestamp='1607961300' id='420032'>
<a class='timestamp' href='#420032'><time timestamp='2020-12-14T15:55:00Z'>15:55</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
ariard: good idea
<br>
</div>

<div class='talk op-msg' data-timestamp='1607961360' id='420033'>
<a class='timestamp' href='#420033'><time timestamp='2020-12-14T15:56:00Z'>15:56</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
is there a motive behind #20599 ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1607961360' id='420034'>
<a class='timestamp' href='#420034'><time timestamp='2020-12-14T15:56:00Z'>15:56</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/20599" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/20599</a> | net processing: Tolerate sendheaders and sendcmpct messages before verack by jnewbery · Pull Request #20599 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1607961420' id='420035'>
<a class='timestamp' href='#420035'><time timestamp='2020-12-14T15:57:00Z'>15:57</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
wumpus: my thought is to list all merged PRs minus backported ones
<br>
</div>

<div class='talk op-msg' data-timestamp='1607961480' id='420036'>
<a class='timestamp' href='#420036'><time timestamp='2020-12-14T15:58:00Z'>15:58</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
+ a filter for bugfixes, it&#x27;d be pretty clean/easy actually
<br>
</div>

<div class='talk op-msg' data-timestamp='1607961480' id='420037'>
<a class='timestamp' href='#420037'><time timestamp='2020-12-14T15:58:00Z'>15:58</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
FWIW you could do this with a script, looking at commit metadata on the branches
<br>
</div>

<div class='talk op-msg' data-timestamp='1607961540' id='420038'>
<a class='timestamp' href='#420038'><time timestamp='2020-12-14T15:59:00Z'>15:59</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
maybe, but a github link would be easier/nicer :P
<br>
</div>

<div class='talk op-msg' data-timestamp='1607961540' id='420039'>
<a class='timestamp' href='#420039'><time timestamp='2020-12-14T15:59:00Z'>15:59</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it&#x27;s more thorough than a tag that people might forget or not
<br>
</div>

<div class='talk op-msg' data-timestamp='1607961540' id='420040'>
<a class='timestamp' href='#420040'><time timestamp='2020-12-14T15:59:00Z'>15:59</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
also it&#x27;s <b>*per branch*</b>
<br>
</div>

<div class='talk op-msg' data-timestamp='1607961600' id='420041'>
<a class='timestamp' href='#420041'><time timestamp='2020-12-14T16:00:00Z'>16:00</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
luke-jr: yes, to make it (on the very long term) possible move all protocol negotiation to that phase
<br>
</div>

<div class='talk op-msg' data-timestamp='1607962200' id='420042'>
<a class='timestamp' href='#420042'><time timestamp='2020-12-14T16:10:00Z'>16:10</time></a>
&lt;<span class='nick nick-14'> jonatack</span>&gt;
ariard: i wonder if long-term contributors think the review bottleneck has improved over the past year...i&#x27;m too close to be objective but not sure that it has
<br>
</div>

<div class='talk op-msg' data-timestamp='1607962260' id='420043'>
<a class='timestamp' href='#420043'><time timestamp='2020-12-14T16:11:00Z'>16:11</time></a>
&lt;<span class='nick nick-14'> jonatack</span>&gt;
s/review/review and testing/
<br>
</div>

<div class='talk op-msg' data-timestamp='1607962380' id='420044'>
<a class='timestamp' href='#420044'><time timestamp='2020-12-14T16:13:00Z'>16:13</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke pushed 2 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/b103fdcb3bf4...fff7d056a92f" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/b103fdcb3bf4...fff7d056a92f</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1607962380' id='420045'>
<a class='timestamp' href='#420045'><time timestamp='2020-12-14T16:13:00Z'>16:13</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master b316dcb John Newbery: [net processing] Tolerate sendheaders and sendcmpct messages before verack...
<br>
</div>

<div class='talk op-msg' data-timestamp='1607962380' id='420046'>
<a class='timestamp' href='#420046'><time timestamp='2020-12-14T16:13:00Z'>16:13</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master fff7d05 MarcoFalke: Merge #20599: net processing: Tolerate sendheaders and sendcmpct messages ...
<br>
</div>

<div class='talk op-msg' data-timestamp='1607962440' id='420047'>
<a class='timestamp' href='#420047'><time timestamp='2020-12-14T16:14:00Z'>16:14</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke merged pull request #20599: net processing: Tolerate sendheaders and sendcmpct messages before verack (master...2020-12-tolerate-early-send-messages) <a href="https://github.com/bitcoin/bitcoin/pull/20599" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20599</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1607962620' id='420048'>
<a class='timestamp' href='#420048'><time timestamp='2020-12-14T16:17:00Z'>16:17</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
jonatack: IMO I&#x27;m also too close (and haven&#x27;t even tried to look at it objectively), but I also think it hasn&#x27;t improved
<br>
</div>

<div class='talk op-msg' data-timestamp='1607963640' id='420049'>
<a class='timestamp' href='#420049'><time timestamp='2020-12-14T16:34:00Z'>16:34</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
provoostenator: can you provide the bitcoin-7f9d623e0210-osx-unsigned.tar.gz for your build of #20638?
<br>
</div>

<div class='talk op-msg' data-timestamp='1607963640' id='420050'>
<a class='timestamp' href='#420050'><time timestamp='2020-12-14T16:34:00Z'>16:34</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/20638" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/20638</a> | build: Fix macOS code signing by pre-allocating space for the code signature during gitian build by achow101 · Pull Request #20638 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1607963700' id='420051'>
<a class='timestamp' href='#420051'><time timestamp='2020-12-14T16:35:00Z'>16:35</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
also, did you build 7f9d623 or the merge with master?
<br>
</div>

<div class='talk op-msg' data-timestamp='1607964300' id='420052'>
<a class='timestamp' href='#420052'><time timestamp='2020-12-14T16:45:00Z'>16:45</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
achow101: I&#x27;ll try to drop it somewhere.  I built the commit
<br>
</div>

<div class='talk op-msg' data-timestamp='1607964300' id='420053'>
<a class='timestamp' href='#420053'><time timestamp='2020-12-14T16:45:00Z'>16:45</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
(the branch)
<br>
</div>

<div class='talk op-msg' data-timestamp='1607964660' id='420054'>
<a class='timestamp' href='#420054'><time timestamp='2020-12-14T16:51:00Z'>16:51</time></a>
&lt;<span class='nick nick-10'> ariard</span>&gt;
jonatack: how would you qualify such improvements? for really good reasons, it&#x27;s a hard question, you have to consider we&#x27;ve all different priorities :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1607965140' id='420055'>
<a class='timestamp' href='#420055'><time timestamp='2020-12-14T16:59:00Z'>16:59</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
provoostenator: can you rebuild with a clean cache? it seems like the qt nondeterminism issue we fixed for rc2. did you perhaps do a gitian build on master earlier?
<br>
</div>

<div class='talk op-msg' data-timestamp='1607965140' id='420056'>
<a class='timestamp' href='#420056'><time timestamp='2020-12-14T16:59:00Z'>16:59</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Remind me how to nuke cache?
<br>
</div>

<div class='talk op-msg' data-timestamp='1607965200' id='420057'>
<a class='timestamp' href='#420057'><time timestamp='2020-12-14T17:00:00Z'>17:00</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Last thing I built before this was rc2
<br>
</div>

<div class='talk op-msg' data-timestamp='1607965200' id='420058'>
<a class='timestamp' href='#420058'><time timestamp='2020-12-14T17:00:00Z'>17:00</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
I never built rc3
<br>
</div>

<div class='talk op-msg' data-timestamp='1607965200' id='420059'>
<a class='timestamp' href='#420059'><time timestamp='2020-12-14T17:00:00Z'>17:00</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
(although I just did, but will do that again later, with a fresh cache)
<br>
</div>

<div class='talk op-msg' data-timestamp='1607965200' id='420060'>
<a class='timestamp' href='#420060'><time timestamp='2020-12-14T17:00:00Z'>17:00</time></a>
&lt;<span class='nick nick-14'> jonatack</span>&gt;
rm -r cache
<br>
</div>

<div class='talk op-msg' data-timestamp='1607965200' id='420061'>
<a class='timestamp' href='#420061'><time timestamp='2020-12-14T17:00:00Z'>17:00</time></a>
&lt;<span class='nick nick-14'> jonatack</span>&gt;
?
<br>
</div>

<div class='talk op-msg' data-timestamp='1607965200' id='420062'>
<a class='timestamp' href='#420062'><time timestamp='2020-12-14T17:00:00Z'>17:00</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
if you did a master build before that, it would use the master cache
<br>
</div>

<div class='talk op-msg' data-timestamp='1607965200' id='420063'>
<a class='timestamp' href='#420063'><time timestamp='2020-12-14T17:00:00Z'>17:00</time></a>
&lt;<span class='nick nick-14'> jonatack</span>&gt;
make -C ../bitcoin/depends download SOURCES_PATH=`pwd`/cache/common
<br>
</div>

<div class='talk op-msg' data-timestamp='1607965200' id='420064'>
<a class='timestamp' href='#420064'><time timestamp='2020-12-14T17:00:00Z'>17:00</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
rm -rf gitian-builder/cache/bitcoin-core-osx-22/
<br>
</div>

<div class='talk op-msg' data-timestamp='1607965200' id='420065'>
<a class='timestamp' href='#420065'><time timestamp='2020-12-14T17:00:00Z'>17:00</time></a>
&lt;<span class='nick nick-14'> jonatack</span>&gt;
in gitian-builder
<br>
</div>

<div class='talk op-msg' data-timestamp='1607965260' id='420066'>
<a class='timestamp' href='#420066'><time timestamp='2020-12-14T17:01:00Z'>17:01</time></a>
&lt;<span class='nick nick-14'> jonatack</span>&gt;
achow101: oh just the one, ok
<br>
</div>

<div class='talk op-msg' data-timestamp='1607965260' id='420067'>
<a class='timestamp' href='#420067'><time timestamp='2020-12-14T17:01:00Z'>17:01</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
or if you want to nuke the entire cache, rm -r gitian-builder/cache
<br>
</div>

<div class='talk op-msg' data-timestamp='1607965260' id='420068'>
<a class='timestamp' href='#420068'><time timestamp='2020-12-14T17:01:00Z'>17:01</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
I janked the whole cache, building your branch again now
<br>
</div>

<div class='talk op-msg' data-timestamp='1607965260' id='420069'>
<a class='timestamp' href='#420069'><time timestamp='2020-12-14T17:01:00Z'>17:01</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
I prefer nuking cache over carefully salvaging it
<br>
</div>

<div class='talk op-msg' data-timestamp='1607965320' id='420070'>
<a class='timestamp' href='#420070'><time timestamp='2020-12-14T17:02:00Z'>17:02</time></a>
&lt;<span class='nick nick-14'> jonatack</span>&gt;
heh
<br>
</div>

<div class='talk op-msg' data-timestamp='1607966280' id='420071'>
<a class='timestamp' href='#420071'><time timestamp='2020-12-14T17:18:00Z'>17:18</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke opened pull request #20653: doc: Move add relay comment in net to correct place (master...2012-docNetAddrRelay) <a href="https://github.com/bitcoin/bitcoin/pull/20653" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20653</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1607966520' id='420072'>
<a class='timestamp' href='#420072'><time timestamp='2020-12-14T17:22:00Z'>17:22</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
luke-jr: i&#x27;m not sure how to interpret your comment on #20605, are there any cases in which you see the code is unsafe on windows?
<br>
</div>

<div class='talk op-msg' data-timestamp='1607966520' id='420073'>
<a class='timestamp' href='#420073'><time timestamp='2020-12-14T17:22:00Z'>17:22</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/20605" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/20605</a> | init: Signal-safe instant shutdown by laanwj · Pull Request #20605 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1607967120' id='420074'>
<a class='timestamp' href='#420074'><time timestamp='2020-12-14T17:32:00Z'>17:32</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
wumpus: I don&#x27;t know how Windows signals work, but there are definitely signals..
<br>
</div>

<div class='talk op-msg' data-timestamp='1607967120' id='420075'>
<a class='timestamp' href='#420075'><time timestamp='2020-12-14T17:32:00Z'>17:32</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
if so, is there any way to a similar thing to the pipe trick, if not we need to keep the polling loop on windows
<br>
</div>

<div class='talk op-msg' data-timestamp='1607967240' id='420076'>
<a class='timestamp' href='#420076'><time timestamp='2020-12-14T17:34:00Z'>17:34</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I&#x27;m fine with that tbh, though it would have been nice to use a proper condition variable at least on one os
<br>
</div>

<div class='talk op-msg' data-timestamp='1607967240' id='420077'>
<a class='timestamp' href='#420077'><time timestamp='2020-12-14T17:34:00Z'>17:34</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
<a href="https://docs.microsoft.com/en-us/windows/win32/api/namedpipeapi/nf-namedpipeapi-createpipe" class="link" target="_blank">https://docs.microsoft.com/en-us/windows/win32/api/namedpipeapi/nf-namedpipeapi-createpipe</a> exists, but again, I don&#x27;t know if we need it
<br>
</div>

<div class='talk op-msg' data-timestamp='1607967300' id='420078'>
<a class='timestamp' href='#420078'><time timestamp='2020-12-14T17:35:00Z'>17:35</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I&#x27;m sure it exists
<br>
</div>

<div class='talk op-msg' data-timestamp='1607967300' id='420079'>
<a class='timestamp' href='#420079'><time timestamp='2020-12-14T17:35:00Z'>17:35</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
<a href="https://docs.microsoft.com/en-us/previous-versions/xdkz3x12(v=vs.140)" class="link" target="_blank">https://docs.microsoft.com/en-us/previous-versions/xdkz3x12(v=vs.140)</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1607967360' id='420080'>
<a class='timestamp' href='#420080'><time timestamp='2020-12-14T17:36:00Z'>17:36</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
the question is, is the solution wit ha condition variable safe, the pipe trick itself is very much a UNIX specitic thing and makes no sense <b>*as it is*</b> on win32
<br>
</div>

<div class='talk op-msg' data-timestamp='1607967360' id='420081'>
<a class='timestamp' href='#420081'><time timestamp='2020-12-14T17:36:00Z'>17:36</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I think I prefer changing the PR to keep using the poll loop on windows, I dont&#x27; know enough about that OS to be sure of this
<br>
</div>

<div class='talk op-msg' data-timestamp='1607967420' id='420082'>
<a class='timestamp' href='#420082'><time timestamp='2020-12-14T17:37:00Z'>17:37</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
or maybe just close the PR maybe it&#x27;s not relevant at all I dunno
<br>
</div>

<div class='talk op-msg' data-timestamp='1607967480' id='420083'>
<a class='timestamp' href='#420083'><time timestamp='2020-12-14T17:38:00Z'>17:38</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
achow101: nuked cache, ran the build again, same result
<br>
</div>

<div class='talk op-msg' data-timestamp='1607967480' id='420084'>
<a class='timestamp' href='#420084'><time timestamp='2020-12-14T17:38:00Z'>17:38</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
wumpus: so i&#x27;m confused in my link whether Win32 refers to just 32-bit windows
<br>
</div>

<div class='talk op-msg' data-timestamp='1607967480' id='420085'>
<a class='timestamp' href='#420085'><time timestamp='2020-12-14T17:38:00Z'>17:38</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
or all windows
<br>
</div>

<div class='talk op-msg' data-timestamp='1607967480' id='420086'>
<a class='timestamp' href='#420086'><time timestamp='2020-12-14T17:38:00Z'>17:38</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Do I also need to replace the SDK?
<br>
</div>

<div class='talk op-msg' data-timestamp='1607967480' id='420087'>
<a class='timestamp' href='#420087'><time timestamp='2020-12-14T17:38:00Z'>17:38</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
because it says it invokes the signal handler in a new thread
<br>
</div>

<div class='talk op-msg' data-timestamp='1607967480' id='420088'>
<a class='timestamp' href='#420088'><time timestamp='2020-12-14T17:38:00Z'>17:38</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
sipa: I don&#x27;t know either
<br>
</div>

<div class='talk op-msg' data-timestamp='1607967540' id='420089'>
<a class='timestamp' href='#420089'><time timestamp='2020-12-14T17:39:00Z'>17:39</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
provoostenator: shouldn&#x27;t be necessary. I&#x27;ll dig a bit further then
<br>
</div>

<div class='talk op-msg' data-timestamp='1607967540' id='420090'>
<a class='timestamp' href='#420090'><time timestamp='2020-12-14T17:39:00Z'>17:39</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
but it doesn&#x27;t seem like the issue is with the changes in the pr since it&#x27;s all in the middle of the binary
<br>
</div>

<div class='talk op-msg' data-timestamp='1607967600' id='420091'>
<a class='timestamp' href='#420091'><time timestamp='2020-12-14T17:40:00Z'>17:40</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
I&#x27;ll push my rc3 as well
<br>
</div>

<div class='talk op-msg' data-timestamp='1607967600' id='420092'>
<a class='timestamp' href='#420092'><time timestamp='2020-12-14T17:40:00Z'>17:40</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
sipa: it sounds like that&#x27;s not even applicable to the signal() call
<br>
</div>

<div class='talk op-msg' data-timestamp='1607967660' id='420093'>
<a class='timestamp' href='#420093'><time timestamp='2020-12-14T17:41:00Z'>17:41</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
sipa: as I read it, you can&#x27;t use signal() for SIGINT  because SIGINT is supposed to get its own thread (implying signal() doesn&#x27;t do own thread)
<br>
</div>

<div class='talk op-msg' data-timestamp='1607967720' id='420094'>
<a class='timestamp' href='#420094'><time timestamp='2020-12-14T17:42:00Z'>17:42</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
luke-jr: yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1607967720' id='420095'>
<a class='timestamp' href='#420095'><time timestamp='2020-12-14T17:42:00Z'>17:42</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
we don&#x27;t <b>*use*</b> signal() on windows though
<br>
</div>

<div class='talk op-msg' data-timestamp='1607967780' id='420096'>
<a class='timestamp' href='#420096'><time timestamp='2020-12-14T17:43:00Z'>17:43</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
so it shouldn&#x27;t affect safety in our case because it doesn&#x27;t call RequestShutdown
<br>
</div>

<div class='talk op-msg' data-timestamp='1607967780' id='420097'>
<a class='timestamp' href='#420097'><time timestamp='2020-12-14T17:43:00Z'>17:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
wumpus: oh!
<br>
</div>

<div class='talk op-msg' data-timestamp='1607967780' id='420098'>
<a class='timestamp' href='#420098'><time timestamp='2020-12-14T17:43:00Z'>17:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
there is an equivalent to catch interrupt signals for console applications, though
<br>
</div>

<div class='talk op-msg' data-timestamp='1607967780' id='420099'>
<a class='timestamp' href='#420099'><time timestamp='2020-12-14T17:43:00Z'>17:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
we just don&#x27;t?
<br>
</div>

<div class='talk op-msg' data-timestamp='1607967780' id='420100'>
<a class='timestamp' href='#420100'><time timestamp='2020-12-14T17:43:00Z'>17:43</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
there&#x27;s a call to SetConsoleCtrlHandler
<br>
</div>

<div class='talk op-msg' data-timestamp='1607967780' id='420101'>
<a class='timestamp' href='#420101'><time timestamp='2020-12-14T17:43:00Z'>17:43</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I have no idea what that does
<br>
</div>

<div class='talk op-msg' data-timestamp='1607967780' id='420102'>
<a class='timestamp' href='#420102'><time timestamp='2020-12-14T17:43:00Z'>17:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ah
<br>
</div>

<div class='talk op-msg' data-timestamp='1607967900' id='420103'>
<a class='timestamp' href='#420103'><time timestamp='2020-12-14T17:45:00Z'>17:45</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
My rc3 checksums for macOS are pretty much the same as other contributors.
<br>
</div>

<div class='talk op-msg' data-timestamp='1607967900' id='420104'>
<a class='timestamp' href='#420104'><time timestamp='2020-12-14T17:45:00Z'>17:45</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it does a Sleep(INFINITE) after calling StartShutdown so it seems to be different from a UNIX signal
<br>
</div>

<div class='talk op-msg' data-timestamp='1607967900' id='420105'>
<a class='timestamp' href='#420105'><time timestamp='2020-12-14T17:45:00Z'>17:45</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
<a href="https://docs.microsoft.com/en-us/windows/console/console-control-handlers" class="link" target="_blank">https://docs.microsoft.com/en-us/windows/console/console-control-handlers</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1607967900' id='420106'>
<a class='timestamp' href='#420106'><time timestamp='2020-12-14T17:45:00Z'>17:45</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
wumpus: separate thread
<br>
</div>

<div class='talk op-msg' data-timestamp='1607967900' id='420107'>
<a class='timestamp' href='#420107'><time timestamp='2020-12-14T17:45:00Z'>17:45</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
we&#x27;re good
<br>
</div>

<div class='talk op-msg' data-timestamp='1607967900' id='420108'>
<a class='timestamp' href='#420108'><time timestamp='2020-12-14T17:45:00Z'>17:45</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes, a separate thread should be safe, that&#x27;s exactly what a condition variable is supposed tobe about
<br>
</div>

<div class='talk op-msg' data-timestamp='1607967960' id='420109'>
<a class='timestamp' href='#420109'><time timestamp='2020-12-14T17:46:00Z'>17:46</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
indeed
<br>
</div>

<div class='talk op-msg' data-timestamp='1607967960' id='420110'>
<a class='timestamp' href='#420110'><time timestamp='2020-12-14T17:46:00Z'>17:46</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
thanks for looking that up
<br>
</div>

<div class='talk op-msg' data-timestamp='1607968020' id='420111'>
<a class='timestamp' href='#420111'><time timestamp='2020-12-14T17:47:00Z'>17:47</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj reopened pull request #20605: init: Signal-safe instant shutdown (master...2020_12_instant_shutdown) <a href="https://github.com/bitcoin/bitcoin/pull/20605" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20605</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1607969280' id='420112'>
<a class='timestamp' href='#420112'><time timestamp='2020-12-14T18:08:00Z'>18:08</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
provoostenator: I&#x27;ve seen this non-determinism before. It has something to do with version numbers. I forget how (if) that was resolved though... I think it might be another instance of the clang 8 bug
<br>
</div>

<div class='talk op-msg' data-timestamp='1607969640' id='420113'>
<a class='timestamp' href='#420113'><time timestamp='2020-12-14T18:14:00Z'>18:14</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
if it&#x27;s another instance of the clang 8 bug, I&#x27;d really suggest to switch compilers this time
<br>
</div>

<div class='talk op-msg' data-timestamp='1607969700' id='420114'>
<a class='timestamp' href='#420114'><time timestamp='2020-12-14T18:15:00Z'>18:15</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
this bug-already fixed in upstream relaases-has given us enough work
<br>
</div>

<div class='talk op-msg' data-timestamp='1607969760' id='420115'>
<a class='timestamp' href='#420115'><time timestamp='2020-12-14T18:16:00Z'>18:16</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
I found it: <a href="http://gnusha.org/bitcoin-core-dev/2020-11-24.log" class="link" target="_blank">http://gnusha.org/bitcoin-core-dev/2020-11-24.log</a> at 17:04
<br>
</div>

<div class='talk op-msg' data-timestamp='1607969760' id='420116'>
<a class='timestamp' href='#420116'><time timestamp='2020-12-14T18:16:00Z'>18:16</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
was not resolved
<br>
</div>

<div class='talk op-msg' data-timestamp='1607969760' id='420117'>
<a class='timestamp' href='#420117'><time timestamp='2020-12-14T18:16:00Z'>18:16</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
but it&#x27;s something in master, not 0.21 afaict
<br>
</div>

<div class='talk op-msg' data-timestamp='1607969880' id='420118'>
<a class='timestamp' href='#420118'><time timestamp='2020-12-14T18:18:00Z'>18:18</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
actually no, that time was a backport to 0.21 ... not sure, but it seems much less likely to trigger
<br>
</div>

<div class='talk op-msg' data-timestamp='1607970960' id='420119'>
<a class='timestamp' href='#420119'><time timestamp='2020-12-14T18:36:00Z'>18:36</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
what differs in the version string?
<br>
</div>

<div class='talk op-msg' data-timestamp='1607971740' id='420120'>
<a class='timestamp' href='#420120'><time timestamp='2020-12-14T18:49:00Z'>18:49</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
I think it&#x27;s in a string formatter
<br>
</div>

<div class='talk op-msg' data-timestamp='1607971800' id='420121'>
<a class='timestamp' href='#420121'><time timestamp='2020-12-14T18:50:00Z'>18:50</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
oh different code to generate the same output
<br>
</div>

<div class='talk op-msg' data-timestamp='1607971800' id='420122'>
<a class='timestamp' href='#420122'><time timestamp='2020-12-14T18:50:00Z'>18:50</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
yeah
<br>
</div>

<div class='talk op-msg' data-timestamp='1607971860' id='420123'>
<a class='timestamp' href='#420123'><time timestamp='2020-12-14T18:51:00Z'>18:51</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
it seems to have the same characteristics as the clang 8 issue in qt, so I think it&#x27;s the same problem
<br>
</div>

<div class='talk op-msg' data-timestamp='1607972640' id='420124'>
<a class='timestamp' href='#420124'><time timestamp='2020-12-14T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it&#x27;s rarer though, if it happens only for provoostenator :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1607972640' id='420125'>
<a class='timestamp' href='#420125'><time timestamp='2020-12-14T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
it happened to me, once
<br>
</div>

<div class='talk op-msg' data-timestamp='1607972700' id='420126'>
<a class='timestamp' href='#420126'><time timestamp='2020-12-14T19:05:00Z'>19:05</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
he rebuilt with cleared cache and got the same, what&#x27;s the random chance of that
<br>
</div>

<div class='talk op-msg' data-timestamp='1607972760' id='420127'>
<a class='timestamp' href='#420127'><time timestamp='2020-12-14T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
anyhow we really need to get rid of clang 8
<br>
</div>

<div class='talk op-msg' data-timestamp='1607973000' id='420128'>
<a class='timestamp' href='#420128'><time timestamp='2020-12-14T19:10:00Z'>19:10</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Make Clang 9 again?
<br>
</div>

<div class='talk op-msg' data-timestamp='1607973120' id='420129'>
<a class='timestamp' href='#420129'><time timestamp='2020-12-14T19:12:00Z'>19:12</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
til bitcoin-qt has 195 threads
<br>
</div>

<div class='talk op-msg' data-timestamp='1607973180' id='420130'>
<a class='timestamp' href='#420130'><time timestamp='2020-12-14T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
wut
<br>
</div>

<div class='talk op-msg' data-timestamp='1607973180' id='420131'>
<a class='timestamp' href='#420131'><time timestamp='2020-12-14T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
I think mostly llvmpipe to be fair
<br>
</div>

<div class='talk op-msg' data-timestamp='1607973180' id='420132'>
<a class='timestamp' href='#420132'><time timestamp='2020-12-14T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
no, that only accounts for 64 of them :x
<br>
</div>

<div class='talk op-msg' data-timestamp='1607973240' id='420133'>
<a class='timestamp' href='#420133'><time timestamp='2020-12-14T19:14:00Z'>19:14</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
most look like <a href="https://dpaste.com/GDP5JUSZH" class="link" target="_blank">https://dpaste.com/GDP5JUSZH</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1607973480' id='420134'>
<a class='timestamp' href='#420134'><time timestamp='2020-12-14T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
if only we had that kind of parallelism :p
<br>
</div>

<div class='talk op-msg' data-timestamp='1607973600' id='420135'>
<a class='timestamp' href='#420135'><time timestamp='2020-12-14T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
how many cores/hardware threads does your CPU have? i think at least llvmpipe creates a thread for every one
<br>
</div>

<div class='talk op-msg' data-timestamp='1607973660' id='420136'>
<a class='timestamp' href='#420136'><time timestamp='2020-12-14T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
64
<br>
</div>

<div class='talk op-msg' data-timestamp='1607973780' id='420137'>
<a class='timestamp' href='#420137'><time timestamp='2020-12-14T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
par is limited to 15
<br>
</div>

<div class='talk op-msg' data-timestamp='1607973840' id='420138'>
<a class='timestamp' href='#420138'><time timestamp='2020-12-14T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
how many threads does bitcoind have there?
<br>
</div>

<div class='talk op-msg' data-timestamp='1607973840' id='420139'>
<a class='timestamp' href='#420139'><time timestamp='2020-12-14T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
?
<br>
</div>

<div class='talk op-msg' data-timestamp='1607973840' id='420140'>
<a class='timestamp' href='#420140'><time timestamp='2020-12-14T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
MAX_SCRIPTCHECK_THREADS = 15
<br>
</div>

<div class='talk op-msg' data-timestamp='1607973900' id='420141'>
<a class='timestamp' href='#420141'><time timestamp='2020-12-14T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
I didn&#x27;t change it
<br>
</div>

<div class='talk op-msg' data-timestamp='1607973900' id='420142'>
<a class='timestamp' href='#420142'><time timestamp='2020-12-14T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
as far as i know that&#x27;s the only variable number of threads scaled to cores, all the other ones are only based on configuration settings
<br>
</div>

<div class='talk op-msg' data-timestamp='1607973960' id='420143'>
<a class='timestamp' href='#420143'><time timestamp='2020-12-14T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
oh well :/
<br>
</div>

<div class='talk op-msg' data-timestamp='1607973960' id='420144'>
<a class='timestamp' href='#420144'><time timestamp='2020-12-14T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
is there a reason we prefer Freedesktop notifications over QSystemTray?
<br>
</div>

<div class='talk op-msg' data-timestamp='1607973960' id='420145'>
<a class='timestamp' href='#420145'><time timestamp='2020-12-14T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
would be interesting to do a &quot;info threads all&quot; (or whatever the exact command is) in gdb
<br>
</div>

<div class='talk op-msg' data-timestamp='1607974020' id='420146'>
<a class='timestamp' href='#420146'><time timestamp='2020-12-14T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
the latter seems more ideal - not only is it platform-neutral, but it also presumably ties the notification to the icon
<br>
</div>

<div class='talk op-msg' data-timestamp='1607974020' id='420147'>
<a class='timestamp' href='#420147'><time timestamp='2020-12-14T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
Invalid thread ID: all
<br>
</div>

<div class='talk op-msg' data-timestamp='1607974080' id='420148'>
<a class='timestamp' href='#420148'><time timestamp='2020-12-14T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
at the time it didn&#x27;t work anymore for some desktops, static qt was unable to get notifications to ubuntu unity because it required a special plugin which wasn&#x27;t available there
<br>
</div>

<div class='talk op-msg' data-timestamp='1607974080' id='420149'>
<a class='timestamp' href='#420149'><time timestamp='2020-12-14T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
of course, unity is dead now, i have no clue how it&#x27;s handled in gnome3 etc
<br>
</div>

<div class='talk op-msg' data-timestamp='1607974140' id='420150'>
<a class='timestamp' href='#420150'><time timestamp='2020-12-14T19:29:00Z'>19:29</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
and it didn&#x27;t fallback?
<br>
</div>

<div class='talk op-msg' data-timestamp='1607974140' id='420151'>
<a class='timestamp' href='#420151'><time timestamp='2020-12-14T19:29:00Z'>19:29</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
if notifications through qsystemtray work okay across linux desktop environments now that&#x27;s be nice
<br>
</div>

<div class='talk op-msg' data-timestamp='1607974140' id='420152'>
<a class='timestamp' href='#420152'><time timestamp='2020-12-14T19:29:00Z'>19:29</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
if(_trayIcon &amp;&amp; _trayIcon-&gt;supportsMessages())
<br>
</div>

<div class='talk op-msg' data-timestamp='1607974140' id='420153'>
<a class='timestamp' href='#420153'><time timestamp='2020-12-14T19:29:00Z'>19:29</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
I&#x27;m poking at this because I realised 90% of my startup wait is on a timeout of the FDO thing
<br>
</div>

<div class='talk op-msg' data-timestamp='1607974200' id='420154'>
<a class='timestamp' href='#420154'><time timestamp='2020-12-14T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
<a href="https://luke.dashjr.org/tmp/code/ita.xz" class="link" target="_blank">https://luke.dashjr.org/tmp/code/ita.xz</a> has full backtraces of all my threads during splash fwiw
<br>
</div>

<div class='talk op-msg' data-timestamp='1607974440' id='420155'>
<a class='timestamp' href='#420155'><time timestamp='2020-12-14T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
i&#x27;m sure it was some really annoying problem, e.g. it claimed to support it but just ignored them then
<br>
</div>

<div class='talk op-msg' data-timestamp='1607974500' id='420156'>
<a class='timestamp' href='#420156'><time timestamp='2020-12-14T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
&gt;_&lt;
<br>
</div>

<div class='talk op-msg' data-timestamp='1607974560' id='420157'>
<a class='timestamp' href='#420157'><time timestamp='2020-12-14T19:36:00Z'>19:36</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
we&#x27;ve had many of those problems, if you&#x27;re going to implement it differently it&#x27;ll require a lot of testing (of the gitian-built binaries) across distros to be sure
<br>
</div>

<div class='talk op-msg' data-timestamp='1607974560' id='420158'>
<a class='timestamp' href='#420158'><time timestamp='2020-12-14T19:36:00Z'>19:36</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
what if I just add a guinotify=qsystemtray option or soemthing?
<br>
</div>

<div class='talk op-msg' data-timestamp='1607974560' id='420159'>
<a class='timestamp' href='#420159'><time timestamp='2020-12-14T19:36:00Z'>19:36</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
bah, that doesn&#x27;t seem worth a configuration option
<br>
</div>

<div class='talk op-msg' data-timestamp='1607974620' id='420160'>
<a class='timestamp' href='#420160'><time timestamp='2020-12-14T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it&#x27;s very much out of scope of the project, this is something that needs to be gotten right automatically
<br>
</div>

<div class='talk op-msg' data-timestamp='1607974680' id='420161'>
<a class='timestamp' href='#420161'><time timestamp='2020-12-14T19:38:00Z'>19:38</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
it&#x27;s automatic, but QDBus takes like 20 seconds to timeout :/
<br>
</div>

<div class='talk op-msg' data-timestamp='1607974680' id='420162'>
<a class='timestamp' href='#420162'><time timestamp='2020-12-14T19:38:00Z'>19:38</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
if we can drop the custom dbus code that&#x27;d be great but i&#x27;m sure i wrote it for a good reason at the time
<br>
</div>

<div class='talk op-msg' data-timestamp='1607974680' id='420163'>
<a class='timestamp' href='#420163'><time timestamp='2020-12-14T19:38:00Z'>19:38</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
and it doesn&#x27;t look like there&#x27;s a way to change the timeout in our code
<br>
</div>

<div class='talk op-msg' data-timestamp='1607974680' id='420164'>
<a class='timestamp' href='#420164'><time timestamp='2020-12-14T19:38:00Z'>19:38</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
but that&#x27;s what, half a decade ago?
<br>
</div>

<div class='talk op-msg' data-timestamp='1607974740' id='420165'>
<a class='timestamp' href='#420165'><time timestamp='2020-12-14T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
shrug
<br>
</div>

<div class='talk op-msg' data-timestamp='1607974740' id='420166'>
<a class='timestamp' href='#420166'><time timestamp='2020-12-14T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
many new qt versions since, and as said, unity is dead
<br>
</div>

<div class='talk op-msg' data-timestamp='1607974860' id='420167'>
<a class='timestamp' href='#420167'><time timestamp='2020-12-14T19:41:00Z'>19:41</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
and ideally notifications is something that gets handlded correctly by qt, that&#x27;s why we use an abstraction like qt
<br>
</div>

<div class='talk op-msg' data-timestamp='1607974860' id='420168'>
<a class='timestamp' href='#420168'><time timestamp='2020-12-14T19:41:00Z'>19:41</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
but requires lots of testing = likely to get stuck in review limbo forever :/
<br>
</div>

<div class='talk op-msg' data-timestamp='1607974860' id='420169'>
<a class='timestamp' href='#420169'><time timestamp='2020-12-14T19:41:00Z'>19:41</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
otoh deleting code usually gets people enthousiatic
<br>
</div>

<div class='talk op-msg' data-timestamp='1607975460' id='420170'>
<a class='timestamp' href='#420170'><time timestamp='2020-12-14T19:51:00Z'>19:51</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
just don&#x27;t add any regular expressions :-)
<br>
</div>

<div class='talk op-msg' data-timestamp='1607975520' id='420171'>
<a class='timestamp' href='#420171'><time timestamp='2020-12-14T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
☹
<br>
</div>

<div class='talk op-msg' data-timestamp='1607975580' id='420172'>
<a class='timestamp' href='#420172'><time timestamp='2020-12-14T19:53:00Z'>19:53</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
I was going to reimplement Notificator in Perl tho
<br>
</div>

<div class='talk op-msg' data-timestamp='1607975760' id='420173'>
<a class='timestamp' href='#420173'><time timestamp='2020-12-14T19:56:00Z'>19:56</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
wumpus: Unity doesn&#x27;t seem to be dead :/
<br>
</div>

<div class='talk op-msg' data-timestamp='1607975820' id='420174'>
<a class='timestamp' href='#420174'><time timestamp='2020-12-14T19:57:00Z'>19:57</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
if someone wants to PR it, <a href="https://github.com/bitcoin-core/gui/compare/master" class="link" target="_blank">https://github.com/bitcoin-core/gui/compare/master</a>…luke-jr:drop_dbus?expand=1
<br>
</div>

<div class='talk op-msg' data-timestamp='1607975820' id='420175'>
<a class='timestamp' href='#420175'><time timestamp='2020-12-14T19:57:00Z'>19:57</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
not sure I care enough to deal with it
<br>
</div>

<div class='talk op-msg' data-timestamp='1607975880' id='420176'>
<a class='timestamp' href='#420176'><time timestamp='2020-12-14T19:58:00Z'>19:58</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it&#x27;s dead enough for me
<br>
</div>

<div class='talk op-msg' data-timestamp='1607975940' id='420177'>
<a class='timestamp' href='#420177'><time timestamp='2020-12-14T19:59:00Z'>19:59</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I don&#x27;t particularly care either it&#x27;s you who brought it up
<br>
</div>

<div class='talk op-msg' data-timestamp='1607976240' id='420178'>
<a class='timestamp' href='#420178'><time timestamp='2020-12-14T20:04:00Z'>20:04</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 3 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/fff7d056a92f...94a9cd25fd17" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/fff7d056a92f...94a9cd25fd17</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1607976240' id='420179'>
<a class='timestamp' href='#420179'><time timestamp='2020-12-14T20:04:00Z'>20:04</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 41a413b Jonas Schnelli: Define correct symbols for getauxval
<br>
</div>

<div class='talk op-msg' data-timestamp='1607976240' id='420180'>
<a class='timestamp' href='#420180'><time timestamp='2020-12-14T20:04:00Z'>20:04</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 836a3dc Jonas Schnelli: Avoid weak-linked getauxval support on non-linux platforms (like macOS)
<br>
</div>

<div class='talk op-msg' data-timestamp='1607976240' id='420181'>
<a class='timestamp' href='#420181'><time timestamp='2020-12-14T20:04:00Z'>20:04</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 94a9cd2 Wladimir J. van der Laan: Merge #20594: Fix getauxval calls in randomenv.cpp
<br>
</div>

<div class='talk op-msg' data-timestamp='1607976240' id='420182'>
<a class='timestamp' href='#420182'><time timestamp='2020-12-14T20:04:00Z'>20:04</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj merged pull request #20594: Fix getauxval calls in randomenv.cpp (master...2020/12/getauxval) <a href="https://github.com/bitcoin/bitcoin/pull/20594" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20594</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1607976360' id='420183'>
<a class='timestamp' href='#420183'><time timestamp='2020-12-14T20:06:00Z'>20:06</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
luke-jr: i don&#x27;t get it why is dbus timing out for you in the first place? i&#x27;d expect it&#x27;d either make a connection (if the socket is available, available through the environment or throuh some X hack) or not
<br>
</div>

<div class='talk op-msg' data-timestamp='1607976480' id='420184'>
<a class='timestamp' href='#420184'><time timestamp='2020-12-14T20:08:00Z'>20:08</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
dbus is a local socket so it has no reason at all to time out
<br>
</div>

<div class='talk op-msg' data-timestamp='1607977440' id='420185'>
<a class='timestamp' href='#420185'><time timestamp='2020-12-14T20:24:00Z'>20:24</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
wumpus: my development user has no access to my notifications
<br>
</div>

<div class='talk op-msg' data-timestamp='1607977440' id='420186'>
<a class='timestamp' href='#420186'><time timestamp='2020-12-14T20:24:00Z'>20:24</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
the timeout is internal to dbus
<br>
</div>

<div class='talk op-msg' data-timestamp='1607977440' id='420187'>
<a class='timestamp' href='#420187'><time timestamp='2020-12-14T20:24:00Z'>20:24</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
I don&#x27;t know how it works
<br>
</div>

<div class='talk op-msg' data-timestamp='1607977560' id='420188'>
<a class='timestamp' href='#420188'><time timestamp='2020-12-14T20:26:00Z'>20:26</time></a>
&lt;<span class='nick nick-8'> andytoshi</span>&gt;
is it considered a problem that `getblockcount` sometimes returns a blockheight before all the BlockConnected signals have been processed? i assume not, such is the nature of signals
<br>
</div>

<div class='talk op-msg' data-timestamp='1607977620' id='420189'>
<a class='timestamp' href='#420189'><time timestamp='2020-12-14T20:27:00Z'>20:27</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it seems to me like there is some problem in the stack there; flatpak and such can also selectively reject dbus acces, it should be possible to reject access without causing applicatons to spend time timing out
<br>
</div>

<div class='talk op-msg' data-timestamp='1607977620' id='420190'>
<a class='timestamp' href='#420190'><time timestamp='2020-12-14T20:27:00Z'>20:27</time></a>
&lt;<span class='nick nick-8'> andytoshi</span>&gt;
but it can mean that you `generate` 100 blocks then try to spend a coin and find that you can&#x27;t, because `getblockcount` says you have 101 blocks but the wallet doesn&#x27;t know yet
<br>
</div>

<div class='talk op-msg' data-timestamp='1607977680' id='420191'>
<a class='timestamp' href='#420191'><time timestamp='2020-12-14T20:28:00Z'>20:28</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
wumpus: regardless, tiemout appears to be the default behaviour
<br>
</div>

<div class='talk op-msg' data-timestamp='1607977680' id='420192'>
<a class='timestamp' href='#420192'><time timestamp='2020-12-14T20:28:00Z'>20:28</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
andytoshi: there&#x27;s generally no guarantee there, the RPC tests do some tricks there IIRC
<br>
</div>

<div class='talk op-msg' data-timestamp='1607977680' id='420193'>
<a class='timestamp' href='#420193'><time timestamp='2020-12-14T20:28:00Z'>20:28</time></a>
&lt;<span class='nick nick-8'> andytoshi</span>&gt;
ok, cool, i&#x27;ll study the existing tests
<br>
</div>

<div class='talk op-msg' data-timestamp='1607977680' id='420194'>
<a class='timestamp' href='#420194'><time timestamp='2020-12-14T20:28:00Z'>20:28</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
luke-jr: definitely an upstream problem though
<br>
</div>

<div class='talk op-msg' data-timestamp='1607977740' id='420195'>
<a class='timestamp' href='#420195'><time timestamp='2020-12-14T20:29:00Z'>20:29</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
we don&#x27;t do anything partcularly complex or special
<br>
</div>

<div class='talk op-msg' data-timestamp='1607977740' id='420196'>
<a class='timestamp' href='#420196'><time timestamp='2020-12-14T20:29:00Z'>20:29</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
andytoshi: tests synchronize by sending a ping and waiting for a pong
<br>
</div>

<div class='talk op-msg' data-timestamp='1607977740' id='420197'>
<a class='timestamp' href='#420197'><time timestamp='2020-12-14T20:29:00Z'>20:29</time></a>
&lt;<span class='nick nick-8'> andytoshi</span>&gt;
sipa: i only have one node here
<br>
</div>

<div class='talk op-msg' data-timestamp='1607977920' id='420198'>
<a class='timestamp' href='#420198'><time timestamp='2020-12-14T20:32:00Z'>20:32</time></a>
&lt;<span class='nick nick-8'> andytoshi</span>&gt;
this is really hard to trigger, you have to generate and then immediately try to send coins (to a fixed address, even calling getnewaddress() is enough delay that you no longer see the race)
<br>
</div>

<div class='talk op-msg' data-timestamp='1607977920' id='420199'>
<a class='timestamp' href='#420199'><time timestamp='2020-12-14T20:32:00Z'>20:32</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
andytoshi: the python code tests have a full p2p implementation
<br>
</div>

<div class='talk op-msg' data-timestamp='1607977920' id='420200'>
<a class='timestamp' href='#420200'><time timestamp='2020-12-14T20:32:00Z'>20:32</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
&quot;syncwithvalidationinterfacequeue&quot; RPC maybe?
<br>
</div>

<div class='talk op-msg' data-timestamp='1607977980' id='420201'>
<a class='timestamp' href='#420201'><time timestamp='2020-12-14T20:33:00Z'>20:33</time></a>
&lt;<span class='nick nick-8'> andytoshi</span>&gt;
but for example, the taproot tests call `self.nodes[1].generate(101)` immediately followed by `self.test_spenders(self.nodes[1], ...`
<br>
</div>

<div class='talk op-msg' data-timestamp='1607977980' id='420202'>
<a class='timestamp' href='#420202'><time timestamp='2020-12-14T20:33:00Z'>20:33</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ah yes, that works too
<br>
</div>

<div class='talk op-msg' data-timestamp='1607977980' id='420203'>
<a class='timestamp' href='#420203'><time timestamp='2020-12-14T20:33:00Z'>20:33</time></a>
&lt;<span class='nick nick-8'> andytoshi</span>&gt;
and i -think- this is ok because you call some other RPCs before doing any coin selection
<br>
</div>

<div class='talk op-msg' data-timestamp='1607977980' id='420204'>
<a class='timestamp' href='#420204'><time timestamp='2020-12-14T20:33:00Z'>20:33</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it&#x27;s some kind of barrier no idea if it&#x27;s the right one
<br>
</div>

<div class='talk op-msg' data-timestamp='1607977980' id='420205'>
<a class='timestamp' href='#420205'><time timestamp='2020-12-14T20:33:00Z'>20:33</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
andytoshi: those are all RPC calls which are fully synchronous
<br>
</div>

<div class='talk op-msg' data-timestamp='1607978040' id='420206'>
<a class='timestamp' href='#420206'><time timestamp='2020-12-14T20:34:00Z'>20:34</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
andytoshi: it&#x27;s only a problem if you mix RPC calls with p2p interaction that an RPC may not reflect a P2P messsge that was already sent
<br>
</div>

<div class='talk op-msg' data-timestamp='1607978040' id='420207'>
<a class='timestamp' href='#420207'><time timestamp='2020-12-14T20:34:00Z'>20:34</time></a>
&lt;<span class='nick nick-8'> andytoshi</span>&gt;
they&#x27;re not, you can call `generate(101)` and then immediately `getblockcount` and it won&#x27;t reflect the new blockcount
<br>
</div>

<div class='talk op-msg' data-timestamp='1607978040' id='420208'>
<a class='timestamp' href='#420208'><time timestamp='2020-12-14T20:34:00Z'>20:34</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
really?
<br>
</div>

<div class='talk op-msg' data-timestamp='1607978040' id='420209'>
<a class='timestamp' href='#420209'><time timestamp='2020-12-14T20:34:00Z'>20:34</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
on the same node?
<br>
</div>

<div class='talk op-msg' data-timestamp='1607978040' id='420210'>
<a class='timestamp' href='#420210'><time timestamp='2020-12-14T20:34:00Z'>20:34</time></a>
&lt;<span class='nick nick-8'> andytoshi</span>&gt;
one moment, let me confirm that this isn&#x27;t something crazy and elements-specific. but yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1607978100' id='420211'>
<a class='timestamp' href='#420211'><time timestamp='2020-12-14T20:35:00Z'>20:35</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
generate doesn&#x27;t exist anymore iirc; it&#x27;s generatetoaddress etc
<br>
</div>

<div class='talk op-msg' data-timestamp='1607978160' id='420212'>
<a class='timestamp' href='#420212'><time timestamp='2020-12-14T20:36:00Z'>20:36</time></a>
&lt;<span class='nick nick-8'> andytoshi</span>&gt;
yeah, but the funcitonal tests have a generate method which internally calls generatetoaddress
<br>
</div>

<div class='talk op-msg' data-timestamp='1607978160' id='420213'>
<a class='timestamp' href='#420213'><time timestamp='2020-12-14T20:36:00Z'>20:36</time></a>
&lt;<span class='nick nick-8'> andytoshi</span>&gt;
on a fresh getnewaddress
<br>
</div>

<div class='talk op-msg' data-timestamp='1607978220' id='420214'>
<a class='timestamp' href='#420214'><time timestamp='2020-12-14T20:37:00Z'>20:37</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ok
<br>
</div>

<div class='talk op-msg' data-timestamp='1607978280' id='420215'>
<a class='timestamp' href='#420215'><time timestamp='2020-12-14T20:38:00Z'>20:38</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[gui] luke-jr opened pull request #152: GUI: Initialise DBus notifications in another thread (master...gui_notify_setup_bg) <a href="https://github.com/bitcoin-core/gui/pull/152" class="link" target="_blank">https://github.com/bitcoin-core/gui/pull/152</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1607978280' id='420216'>
<a class='timestamp' href='#420216'><time timestamp='2020-12-14T20:38:00Z'>20:38</time></a>
&lt;<span class='nick nick-8'> andytoshi</span>&gt;
ah i&#x27;m wrong, generatetoaddress and getblockcount are consistent
<br>
</div>

<div class='talk op-msg' data-timestamp='1607978340' id='420217'>
<a class='timestamp' href='#420217'><time timestamp='2020-12-14T20:39:00Z'>20:39</time></a>
&lt;<span class='nick nick-8'> andytoshi</span>&gt;
but generatetoaddress followed by an immediate spend may not be (coin selection may fail, as the wallet has not yet received the BlockConnected signal)
<br>
</div>

<div class='talk op-msg' data-timestamp='1607978580' id='420218'>
<a class='timestamp' href='#420218'><time timestamp='2020-12-14T20:43:00Z'>20:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
try syncwithvalidationinterfacequeue probably works
<br>
</div>

<div class='talk op-msg' data-timestamp='1607978640' id='420219'>
<a class='timestamp' href='#420219'><time timestamp='2020-12-14T20:44:00Z'>20:44</time></a>
&lt;<span class='nick nick-8'> andytoshi</span>&gt;
(you can repro by adding `self.nodes[0].generate(101)` and `self.nodes[0].getnewaddress()` to the CLTV test, say, or anything with only one node, then looking at the logs, you will see intermittently that the `getnewaddress` is received before the final block is connected)
<br>
</div>

<div class='talk op-msg' data-timestamp='1607978640' id='420220'>
<a class='timestamp' href='#420220'><time timestamp='2020-12-14T20:44:00Z'>20:44</time></a>
&lt;<span class='nick nick-8'> andytoshi</span>&gt;
ok thanks
<br>
</div>

<div class='talk op-msg' data-timestamp='1607978640' id='420221'>
<a class='timestamp' href='#420221'><time timestamp='2020-12-14T20:44:00Z'>20:44</time></a>
&lt;<span class='nick nick-8'> andytoshi</span>&gt;
i didn&#x27;t know about this RPC, i think it&#x27;s exactly what i watn
<br>
</div>

<div class='talk op-msg' data-timestamp='1607978640' id='420222'>
<a class='timestamp' href='#420222'><time timestamp='2020-12-14T20:44:00Z'>20:44</time></a>
&lt;<span class='nick nick-8'> andytoshi</span>&gt;
sorry for tech support spamming
<br>
</div>

<div class='talk op-msg' data-timestamp='1607979060' id='420223'>
<a class='timestamp' href='#420223'><time timestamp='2020-12-14T20:51:00Z'>20:51</time></a>
&lt;<span class='nick nick-14'> jonatack</span>&gt;
probably not relevant but -generate is back, as client-side cli only, not rpc
<br>
</div>

<div class='talk op-msg' data-timestamp='1607979120' id='420224'>
<a class='timestamp' href='#420224'><time timestamp='2020-12-14T20:52:00Z'>20:52</time></a>
&lt;<span class='nick nick-14'> jonatack</span>&gt;
as a replacement for the former generate rpc
<br>
</div>

<div class='talk op-msg' data-timestamp='1607979660' id='420225'>
<a class='timestamp' href='#420225'><time timestamp='2020-12-14T21:01:00Z'>21:01</time></a>
&lt;<span class='nick nick-8'> andytoshi</span>&gt;
oh, that&#x27;s good to know. though i&#x27;m fine using generatetoaddress
<br>
</div>

<div class='talk op-msg' data-timestamp='1607979720' id='420226'>
<a class='timestamp' href='#420226'><time timestamp='2020-12-14T21:02:00Z'>21:02</time></a>
&lt;<span class='nick nick-8'> andytoshi</span>&gt;
the discrepancy was just between `getblockcount` and the wallet view. i wonder if `getblockcount` should call SyncWithValidationInterfaceQueue()
<br>
</div>

<div class='talk op-msg' data-timestamp='1607979780' id='420227'>
<a class='timestamp' href='#420227'><time timestamp='2020-12-14T21:03:00Z'>21:03</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i think a better long-term approach is giving the wallet its own getblockcount and related RPCs
<br>
</div>

<div class='talk op-msg' data-timestamp='1607979780' id='420228'>
<a class='timestamp' href='#420228'><time timestamp='2020-12-14T21:03:00Z'>21:03</time></a>
&lt;<span class='nick nick-8'> andytoshi</span>&gt;
ah, yeah, i think that&#x27;d be cleaner and more performant
<br>
</div>

<div class='talk op-msg' data-timestamp='1607982960' id='420229'>
<a class='timestamp' href='#420229'><time timestamp='2020-12-14T21:56:00Z'>21:56</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes, that would make sense
<br>
</div>

<div class='talk op-msg' data-timestamp='1607983080' id='420230'>
<a class='timestamp' href='#420230'><time timestamp='2020-12-14T21:58:00Z'>21:58</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
the node methods shouldn&#x27;t depend on being synchronized with the wallet, but the wallet already needs to keep track of where it is in regard to synchronization with the node so exposing that in a RPC would make sense
<br>
</div>

<div class='talk op-msg' data-timestamp='1607983320' id='420231'>
<a class='timestamp' href='#420231'><time timestamp='2020-12-14T22:02:00Z'>22:02</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
each wallet separately in case of multiple wallets
<br>
</div>

<div class='talk op-msg' data-timestamp='1607984040' id='420232'>
<a class='timestamp' href='#420232'><time timestamp='2020-12-14T22:14:00Z'>22:14</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
these things mostly come up for the tests
<br>
</div>

<div class='talk op-msg' data-timestamp='1607985000' id='420233'>
<a class='timestamp' href='#420233'><time timestamp='2020-12-14T22:30:00Z'>22:30</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] dhruv opened pull request #20656: testing linting travis -&gt; cirrus (master...travis-to-cirrus) <a href="https://github.com/bitcoin/bitcoin/pull/20656" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20656</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1607985180' id='420234'>
<a class='timestamp' href='#420234'><time timestamp='2020-12-14T22:33:00Z'>22:33</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
luke-jr: any idea what QThreadPoolThread is? you have 64 of those too apparently
<br>
</div>

<div class='talk op-msg' data-timestamp='1607985420' id='420235'>
<a class='timestamp' href='#420235'><time timestamp='2020-12-14T22:37:00Z'>22:37</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
so 64 for mesa, 64 for qthreadpool, 15 for script validation makes 143 of 195, ~15 normal bitcoind threads, still missing about 40 but getting closer
<br>
</div>

<div class='talk op-msg' data-timestamp='1607986140' id='420236'>
<a class='timestamp' href='#420236'><time timestamp='2020-12-14T22:49:00Z'>22:49</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] dhruv closed pull request #20656: testing linting travis -&gt; cirrus (master...travis-to-cirrus) <a href="https://github.com/bitcoin/bitcoin/pull/20656" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/20656</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1607987460' id='420237'>
<a class='timestamp' href='#420237'><time timestamp='2020-12-14T23:11:00Z'>23:11</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
wumpus: no idea :/
<br>
</div>

</div>
</section>

</body>
</html>
