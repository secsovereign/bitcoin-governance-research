<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2016-06-26
 — 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2016-06-26' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:26 UTC</pre>
<pre><a href="/bitcoin-core-dev/2016-05-26">&lt;</a><span class='header'>    June 2016     </span><a href="/bitcoin-core-dev/2016-07-26">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;          <a class="" href="/bitcoin-core-dev/2016-06-01">1</a>  <a class="" href="/bitcoin-core-dev/2016-06-02">2</a>  <a class="" href="/bitcoin-core-dev/2016-06-03">3</a>  <a class="" href="/bitcoin-core-dev/2016-06-04">4</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2016-06-05">5</a>  <a class="" href="/bitcoin-core-dev/2016-06-06">6</a>  <a class="" href="/bitcoin-core-dev/2016-06-07">7</a>  <a class="" href="/bitcoin-core-dev/2016-06-08">8</a>  <a class="" href="/bitcoin-core-dev/2016-06-09">9</a> <a class="" href="/bitcoin-core-dev/2016-06-10">10</a> <a class="" href="/bitcoin-core-dev/2016-06-11">11</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2016-06-12">12</a> <a class="" href="/bitcoin-core-dev/2016-06-13">13</a> <a class="" href="/bitcoin-core-dev/2016-06-14">14</a> <a class="" href="/bitcoin-core-dev/2016-06-15">15</a> <a class="" href="/bitcoin-core-dev/2016-06-16">16</a> <a class="" href="/bitcoin-core-dev/2016-06-17">17</a> <a class="" href="/bitcoin-core-dev/2016-06-18">18</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2016-06-19">19</a> <a class="" href="/bitcoin-core-dev/2016-06-20">20</a> <a class="" href="/bitcoin-core-dev/2016-06-21">21</a> <a class="" href="/bitcoin-core-dev/2016-06-22">22</a> <a class="" href="/bitcoin-core-dev/2016-06-23">23</a> <a class="" href="/bitcoin-core-dev/2016-06-24">24</a> <a class="" href="/bitcoin-core-dev/2016-06-25">25</a>  &#x000A;<a class="current" href="/bitcoin-core-dev/2016-06-26">26</a> <a class="" href="/bitcoin-core-dev/2016-06-27">27</a> <a class="" href="/bitcoin-core-dev/2016-06-28">28</a> <a class="" href="/bitcoin-core-dev/2016-06-29">29</a> <a class="" href="/bitcoin-core-dev/2016-06-30">30</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1466910000' id='476142'>
<a class='timestamp' href='#476142'><time timestamp='2016-06-26T03:00:00Z'>03:00</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
Lightsword: care to review Eloipool&#x27;s BIP 9 pR? :P
<br>
</div>

<div class='talk op-msg' data-timestamp='1466922360' id='476143'>
<a class='timestamp' href='#476143'><time timestamp='2016-06-26T06:26:00Z'>06:26</time></a>
&lt;<span class='nick nick-5'> GitHub103</span>&gt;
[bitcoin] Cannon-Ciota opened pull request #8268: Updating default max block size (master...patch-1) <a href="https://github.com/bitcoin/bitcoin/pull/8268" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8268</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1466926500' id='476144'>
<a class='timestamp' href='#476144'><time timestamp='2016-06-26T07:35:00Z'>07:35</time></a>
&lt;<span class='nick nick-10'> GitHub2</span>&gt;
[bitcoin] jonasschnelli closed pull request #8268: Updating default max block size (master...patch-1) <a href="https://github.com/bitcoin/bitcoin/pull/8268" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8268</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1466927520' id='476145'>
<a class='timestamp' href='#476145'><time timestamp='2016-06-26T07:52:00Z'>07:52</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
gmaxwell, is there a reason for simple things like IsNull to be in headers? (that dont use templates of course)
<br>
</div>

<div class='talk op-msg' data-timestamp='1466927580' id='476146'>
<a class='timestamp' href='#476146'><time timestamp='2016-06-26T07:53:00Z'>07:53</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
i&#x27;d like to move a bunch of those into the .cpp file to improve build performance
<br>
</div>

<div class='talk op-msg' data-timestamp='1466929020' id='476147'>
<a class='timestamp' href='#476147'><time timestamp='2016-06-26T08:17:00Z'>08:17</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
so they get inlined.
<br>
</div>

<div class='talk op-msg' data-timestamp='1466930520' id='476148'>
<a class='timestamp' href='#476148'><time timestamp='2016-06-26T08:42:00Z'>08:42</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
gmaxwell, does that actually change the result with any kind of optimization enabled
<br>
</div>

<div class='talk op-msg' data-timestamp='1466931360' id='476149'>
<a class='timestamp' href='#476149'><time timestamp='2016-06-26T08:56:00Z'>08:56</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
phantomcircuit: yes, ignoring lto a function must be in the same compliation unit to get inlined.
<br>
</div>

<div class='talk op-msg' data-timestamp='1466931420' id='476150'>
<a class='timestamp' href='#476150'><time timestamp='2016-06-26T08:57:00Z'>08:57</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
gmaxwell, are we using lto?
<br>
</div>

<div class='talk op-msg' data-timestamp='1466931480' id='476151'>
<a class='timestamp' href='#476151'><time timestamp='2016-06-26T08:58:00Z'>08:58</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
No.
<br>
</div>

<div class='talk op-msg' data-timestamp='1466931480' id='476152'>
<a class='timestamp' href='#476152'><time timestamp='2016-06-26T08:58:00Z'>08:58</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(should we, perhaps, but it will likely signficiantly slow down compiling and increase memory usage, opposite of the changes you&#x27;re thinking of making)
<br>
</div>

<div class='talk op-msg' data-timestamp='1466934540' id='476153'>
<a class='timestamp' href='#476153'><time timestamp='2016-06-26T09:49:00Z'>09:49</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
gmaxwell, yeah it would improve things and then make it much much worse all at the end
<br>
</div>

<div class='talk op-msg' data-timestamp='1466949300' id='476154'>
<a class='timestamp' href='#476154'><time timestamp='2016-06-26T13:55:00Z'>13:55</time></a>
&lt;<span class='nick nick-9'> GitHub195</span>&gt;
[bitcoin] ChoHag opened pull request #8270: Tests: Use portable #! in python scripts (/usr/bin/env) (master...master) <a href="https://github.com/bitcoin/bitcoin/pull/8270" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8270</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1466962500' id='476155'>
<a class='timestamp' href='#476155'><time timestamp='2016-06-26T17:35:00Z'>17:35</time></a>
&lt;<span class='nick nick-14'> arubi</span>&gt;
I&#x27;m looking at the famous &quot;value overflow incident&quot; transaction, it has a byte 0xA8 where the sighash type byte is normally found and I was wondering if either 0xa8 was ever a sighash type.  also, checking the signature, it seems to behave like ALL. maybe it is that unfamiliar sighash is treated as ALL?
<br>
</div>

<div class='talk op-msg' data-timestamp='1466962560' id='476156'>
<a class='timestamp' href='#476156'><time timestamp='2016-06-26T17:36:00Z'>17:36</time></a>
&lt;<span class='nick nick-14'> arubi</span>&gt;
s/either//
<br>
</div>

<div class='talk op-msg' data-timestamp='1466963400' id='476157'>
<a class='timestamp' href='#476157'><time timestamp='2016-06-26T17:50:00Z'>17:50</time></a>
&lt;<span class='nick nick-14'> arubi</span>&gt;
ah. I should&#x27;ve tried &#x27;signrawtransaction&#x27;.  core says &quot;error&quot;: &quot;Signature hash type missing or not understood&quot;.  I wonder how it got into a block at all, unless the logic was different back then!
<br>
</div>

<div class='talk op-msg' data-timestamp='1466963580' id='476158'>
<a class='timestamp' href='#476158'><time timestamp='2016-06-26T17:53:00Z'>17:53</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
the signing logic not being able to deal with it doesn&#x27;t mean it&#x27;s invalid
<br>
</div>

<div class='talk op-msg' data-timestamp='1466963580' id='476159'>
<a class='timestamp' href='#476159'><time timestamp='2016-06-26T17:53:00Z'>17:53</time></a>
&lt;<span class='nick nick-14'> arubi</span>&gt;
good point, so it would just default to ALL?
<br>
</div>

<div class='talk op-msg' data-timestamp='1466963640' id='476160'>
<a class='timestamp' href='#476160'><time timestamp='2016-06-26T17:54:00Z'>17:54</time></a>
&lt;<span class='nick nick-14'> arubi</span>&gt;
or, is any type of signature be acceptable in a block?  (sorry, brainstorming..)
<br>
</div>

<div class='talk op-msg' data-timestamp='1466963640' id='476161'>
<a class='timestamp' href='#476161'><time timestamp='2016-06-26T17:54:00Z'>17:54</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1466963640' id='476162'>
<a class='timestamp' href='#476162'><time timestamp='2016-06-26T17:54:00Z'>17:54</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
unknown values are treated as ALL
<br>
</div>

<div class='talk op-msg' data-timestamp='1466963700' id='476163'>
<a class='timestamp' href='#476163'><time timestamp='2016-06-26T17:55:00Z'>17:55</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
or rather, look at the low 5 bits of the sighash versions
<br>
</div>

<div class='talk op-msg' data-timestamp='1466963700' id='476164'>
<a class='timestamp' href='#476164'><time timestamp='2016-06-26T17:55:00Z'>17:55</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
if those are 2, SIGHASH_NONE
<br>
</div>

<div class='talk op-msg' data-timestamp='1466963700' id='476165'>
<a class='timestamp' href='#476165'><time timestamp='2016-06-26T17:55:00Z'>17:55</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
if those are 3, SIGHASH_SINGLE
<br>
</div>

<div class='talk op-msg' data-timestamp='1466963700' id='476166'>
<a class='timestamp' href='#476166'><time timestamp='2016-06-26T17:55:00Z'>17:55</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
anything else, SIGHASH_ALL
<br>
</div>

<div class='talk op-msg' data-timestamp='1466963760' id='476167'>
<a class='timestamp' href='#476167'><time timestamp='2016-06-26T17:56:00Z'>17:56</time></a>
&lt;<span class='nick nick-14'> arubi</span>&gt;
thanks a lot.  should I be looking at interpreter.h/cpp for this logic?
<br>
</div>

<div class='talk op-msg' data-timestamp='1466963760' id='476168'>
<a class='timestamp' href='#476168'><time timestamp='2016-06-26T17:56:00Z'>17:56</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1466963760' id='476169'>
<a class='timestamp' href='#476169'><time timestamp='2016-06-26T17:56:00Z'>17:56</time></a>
&lt;<span class='nick nick-14'> arubi</span>&gt;
cool.  in I go
<br>
</div>

<div class='talk op-msg' data-timestamp='1466965200' id='476170'>
<a class='timestamp' href='#476170'><time timestamp='2016-06-26T18:20:00Z'>18:20</time></a>
&lt;<span class='nick nick-16'> GitHub138</span>&gt;
[bitcoin] sipa opened pull request #8271: [bugfix] Do not send witnesses in cmpctblock (master...nowitnesscb) <a href="https://github.com/bitcoin/bitcoin/pull/8271" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8271</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1466965980' id='476171'>
<a class='timestamp' href='#476171'><time timestamp='2016-06-26T18:33:00Z'>18:33</time></a>
&lt;<span class='nick nick-9'> GitHub195</span>&gt;
[bitcoin] sipa opened pull request #8272: Make the dummy argument to getaddednodeinfo optional (master...optionaladdnodedummy) <a href="https://github.com/bitcoin/bitcoin/pull/8272" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8272</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1466971320' id='476172'>
<a class='timestamp' href='#476172'><time timestamp='2016-06-26T20:02:00Z'>20:02</time></a>
&lt;<span class='nick nick-6'> adiabat</span>&gt;
howdy, trying to sync testnet3 with the latest master (1922e5)
<br>
</div>

<div class='talk op-msg' data-timestamp='1466971320' id='476173'>
<a class='timestamp' href='#476173'><time timestamp='2016-06-26T20:02:00Z'>20:02</time></a>
&lt;<span class='nick nick-6'> adiabat</span>&gt;
getting Aborted (core dumped)
<br>
</div>

<div class='talk op-msg' data-timestamp='1466971380' id='476174'>
<a class='timestamp' href='#476174'><time timestamp='2016-06-26T20:03:00Z'>20:03</time></a>
&lt;<span class='nick nick-6'> adiabat</span>&gt;
bitcoind: chain.cpp:96: CBlockIndex* CBlockIndex::GetAncestor(int): Assertion `pindexWalk-&gt;pprev&#x27; failed.
<br>
</div>

<div class='talk op-msg' data-timestamp='1466971380' id='476175'>
<a class='timestamp' href='#476175'><time timestamp='2016-06-26T20:03:00Z'>20:03</time></a>
&lt;<span class='nick nick-6'> adiabat</span>&gt;
in debug.log, this happens right after Opened LevelDB successfully, then Using obfuscation key for chainstate
<br>
</div>

<div class='talk op-msg' data-timestamp='1466971440' id='476176'>
<a class='timestamp' href='#476176'><time timestamp='2016-06-26T20:04:00Z'>20:04</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
can you run in gdb and get a backtrace?
<br>
</div>

<div class='talk op-msg' data-timestamp='1466971500' id='476177'>
<a class='timestamp' href='#476177'><time timestamp='2016-06-26T20:05:00Z'>20:05</time></a>
&lt;<span class='nick nick-6'> adiabat</span>&gt;
possibly... this may be just out of memory?  I&#x27;m running it on a 1GB vps
<br>
</div>

<div class='talk op-msg' data-timestamp='1466971500' id='476178'>
<a class='timestamp' href='#476178'><time timestamp='2016-06-26T20:05:00Z'>20:05</time></a>
&lt;<span class='nick nick-6'> adiabat</span>&gt;
is that the kind of error I&#x27;d get for running out of ram?
<br>
</div>

<div class='talk op-msg' data-timestamp='1466971620' id='476179'>
<a class='timestamp' href='#476179'><time timestamp='2016-06-26T20:07:00Z'>20:07</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i think you&#x27;d see a bad_alloc exception in that case
<br>
</div>

<div class='talk op-msg' data-timestamp='1466971620' id='476180'>
<a class='timestamp' href='#476180'><time timestamp='2016-06-26T20:07:00Z'>20:07</time></a>
&lt;<span class='nick nick-6'> adiabat</span>&gt;
hm, think the db is corrupt though, so either way
<br>
</div>

<div class='talk op-msg' data-timestamp='1466971620' id='476181'>
<a class='timestamp' href='#476181'><time timestamp='2016-06-26T20:07:00Z'>20:07</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i don&#x27;t expect such memory usage right at startup either
<br>
</div>

<div class='talk op-msg' data-timestamp='1466971620' id='476182'>
<a class='timestamp' href='#476182'><time timestamp='2016-06-26T20:07:00Z'>20:07</time></a>
&lt;<span class='nick nick-6'> adiabat</span>&gt;
last line before the crash the first time was
<br>
</div>

<div class='talk op-msg' data-timestamp='1466971620' id='476183'>
<a class='timestamp' href='#476183'><time timestamp='2016-06-26T20:07:00Z'>20:07</time></a>
&lt;<span class='nick nick-6'> adiabat</span>&gt;
2016-06-26 19:55:36 Pre-allocating up to position 0x500000 in rev00013.dat
<br>
</div>

<div class='talk op-msg' data-timestamp='1466971620' id='476184'>
<a class='timestamp' href='#476184'><time timestamp='2016-06-26T20:07:00Z'>20:07</time></a>
&lt;<span class='nick nick-6'> adiabat</span>&gt;
2016-06-26 19:57:31 
<br>
</div>

<div class='talk op-msg' data-timestamp='1466971680' id='476185'>
<a class='timestamp' href='#476185'><time timestamp='2016-06-26T20:08:00Z'>20:08</time></a>
&lt;<span class='nick nick-6'> adiabat</span>&gt;
so there was a log line written with nothing in it, then the crash
<br>
</div>

<div class='talk op-msg' data-timestamp='1466971860' id='476186'>
<a class='timestamp' href='#476186'><time timestamp='2016-06-26T20:11:00Z'>20:11</time></a>
&lt;<span class='nick nick-6'> adiabat</span>&gt;
got an error in gdb:
<br>
</div>

<div class='talk op-msg' data-timestamp='1466971860' id='476187'>
<a class='timestamp' href='#476187'><time timestamp='2016-06-26T20:11:00Z'>20:11</time></a>
&lt;<span class='nick nick-6'> adiabat</span>&gt;
Thread 1 &quot;bitcoind&quot; received signal SIGABRT, Aborted.
<br>
</div>

<div class='talk op-msg' data-timestamp='1466971860' id='476188'>
<a class='timestamp' href='#476188'><time timestamp='2016-06-26T20:11:00Z'>20:11</time></a>
&lt;<span class='nick nick-6'> adiabat</span>&gt;
0x00007ffff5640418 in __GI_raise (sig=sig@entry=6) at ../sysdeps/unix/sysv/linux/raise.c:54
<br>
</div>

<div class='talk op-msg' data-timestamp='1466971860' id='476189'>
<a class='timestamp' href='#476189'><time timestamp='2016-06-26T20:11:00Z'>20:11</time></a>
&lt;<span class='nick nick-6'> adiabat</span>&gt;
54../sysdeps/unix/sysv/linux/raise.c: No such file or directory.
<br>
</div>

<div class='talk op-msg' data-timestamp='1466971980' id='476190'>
<a class='timestamp' href='#476190'><time timestamp='2016-06-26T20:13:00Z'>20:13</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
can you pastebin the stacktrace?
<br>
</div>

<div class='talk op-msg' data-timestamp='1466971980' id='476191'>
<a class='timestamp' href='#476191'><time timestamp='2016-06-26T20:13:00Z'>20:13</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
(type &#x27;bt&#x27; in gdb)
<br>
</div>

<div class='talk op-msg' data-timestamp='1466972040' id='476192'>
<a class='timestamp' href='#476192'><time timestamp='2016-06-26T20:14:00Z'>20:14</time></a>
&lt;<span class='nick nick-6'> adiabat</span>&gt;
ok
<br>
</div>

<div class='talk op-msg' data-timestamp='1466972040' id='476193'>
<a class='timestamp' href='#476193'><time timestamp='2016-06-26T20:14:00Z'>20:14</time></a>
&lt;<span class='nick nick-6'> adiabat</span>&gt;
hm pastebin says no, it&#x27;s not too long, just message you?
<br>
</div>

<div class='talk op-msg' data-timestamp='1466972220' id='476194'>
<a class='timestamp' href='#476194'><time timestamp='2016-06-26T20:17:00Z'>20:17</time></a>
&lt;<span class='nick nick-6'> adiabat</span>&gt;
got it
<br>
</div>

<div class='talk op-msg' data-timestamp='1466972220' id='476195'>
<a class='timestamp' href='#476195'><time timestamp='2016-06-26T20:17:00Z'>20:17</time></a>
&lt;<span class='nick nick-6'> adiabat</span>&gt;
<a href="http://pastebin.com/hV73dPW0" class="link" target="_blank">http://pastebin.com/hV73dPW0</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1466972400' id='476196'>
<a class='timestamp' href='#476196'><time timestamp='2016-06-26T20:20:00Z'>20:20</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that&#x27;s interesting...
<br>
</div>

<div class='talk op-msg' data-timestamp='1466972520' id='476197'>
<a class='timestamp' href='#476197'><time timestamp='2016-06-26T20:22:00Z'>20:22</time></a>
&lt;<span class='nick nick-6'> adiabat</span>&gt;
this is at height 447195 of segnet3, though I don&#x27;t think that&#x27;s related to what caused this...
<br>
</div>

<div class='talk op-msg' data-timestamp='1466972580' id='476198'>
<a class='timestamp' href='#476198'><time timestamp='2016-06-26T20:23:00Z'>20:23</time></a>
&lt;<span class='nick nick-6'> adiabat</span>&gt;
447196 is pretty big but there&#x27;s lots around that size I got through
<br>
</div>

<div class='talk op-msg' data-timestamp='1466972880' id='476199'>
<a class='timestamp' href='#476199'><time timestamp='2016-06-26T20:28:00Z'>20:28</time></a>
&lt;<span class='nick nick-6'> btcdrak</span>&gt;
you mean testnet3 i assume
<br>
</div>

<div class='talk op-msg' data-timestamp='1466972940' id='476200'>
<a class='timestamp' href='#476200'><time timestamp='2016-06-26T20:29:00Z'>20:29</time></a>
&lt;<span class='nick nick-6'> adiabat</span>&gt;
err yeah heh
<br>
</div>

<div class='talk op-msg' data-timestamp='1466972940' id='476201'>
<a class='timestamp' href='#476201'><time timestamp='2016-06-26T20:29:00Z'>20:29</time></a>
&lt;<span class='nick nick-6'> adiabat</span>&gt;
testnet3
<br>
</div>

<div class='talk op-msg' data-timestamp='1466975640' id='476202'>
<a class='timestamp' href='#476202'><time timestamp='2016-06-26T21:14:00Z'>21:14</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
So, if the minimum difficulty were softfork increased to, say 2^24 (about 24 5TH/s miners), with an explicit exception for the existing blocks on the well known chain that are below that... would that eliminate the remaining unsolved reason for retaining the checkpoint code?  (assuming it&#x27;s also doing the signature skipping based on headers)
<br>
</div>

<div class='talk op-msg' data-timestamp='1466976540' id='476203'>
<a class='timestamp' href='#476203'><time timestamp='2016-06-26T21:29:00Z'>21:29</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
e.g. the exception would work like, diff_bits &lt; 24, store the 24-diff_bits least significant of the block hash... so then any replacement would need to do 2^56 work (24+32) per block to make a replacement of any of those blocks... which I think should make header flooding attacks sufficiently unattractive.
<br>
</div>

<div class='talk op-msg' data-timestamp='1466976900' id='476204'>
<a class='timestamp' href='#476204'><time timestamp='2016-06-26T21:35:00Z'>21:35</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
by store you mean hardcode?
<br>
</div>

<div class='talk op-msg' data-timestamp='1466977020' id='476205'>
<a class='timestamp' href='#476205'><time timestamp='2016-06-26T21:37:00Z'>21:37</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Yes. Effectively this would boost all blocks in the chain to at least 2^56 work to produce an alternative, without specifically hardcoding any blocks.
<br>
</div>

<div class='talk op-msg' data-timestamp='1466977080' id='476206'>
<a class='timestamp' href='#476206'><time timestamp='2016-06-26T21:38:00Z'>21:38</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i don&#x27;t understand how you get to 56
<br>
</div>

<div class='talk op-msg' data-timestamp='1466977140' id='476207'>
<a class='timestamp' href='#476207'><time timestamp='2016-06-26T21:39:00Z'>21:39</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
diff 1 is effectively 2^32 work. So diff 2^24 is 2^56 work.
<br>
</div>

<div class='talk op-msg' data-timestamp='1466977140' id='476208'>
<a class='timestamp' href='#476208'><time timestamp='2016-06-26T21:39:00Z'>21:39</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
oh, duh
<br>
</div>

<div class='talk op-msg' data-timestamp='1466977200' id='476209'>
<a class='timestamp' href='#476209'><time timestamp='2016-06-26T21:40:00Z'>21:40</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Boosting all blocks to at least 2^56 replacement work, given their actual difficulties would require 489132 bytes of data. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1466977200' id='476210'>
<a class='timestamp' href='#476210'><time timestamp='2016-06-26T21:40:00Z'>21:40</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
assuming the information were bitpacked.
<br>
</div>

<div class='talk op-msg' data-timestamp='1466977260' id='476211'>
<a class='timestamp' href='#476211'><time timestamp='2016-06-26T21:41:00Z'>21:41</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(more than I expected before I went and measured it)
<br>
</div>

<div class='talk op-msg' data-timestamp='1466977260' id='476212'>
<a class='timestamp' href='#476212'><time timestamp='2016-06-26T21:41:00Z'>21:41</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
an alternative is just hardcoding the hash of the first block past 2^24 difficulty, and not downloading any blocks until a header chain past that one was built
<br>
</div>

<div class='talk op-msg' data-timestamp='1466977320' id='476213'>
<a class='timestamp' href='#476213'><time timestamp='2016-06-26T21:42:00Z'>21:42</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
that leaves open the attack where I give you infinity alternatives for block 1.
<br>
</div>

<div class='talk op-msg' data-timestamp='1466977320' id='476214'>
<a class='timestamp' href='#476214'><time timestamp='2016-06-26T21:42:00Z'>21:42</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
and exaust your resources with headers alone.
<br>
</div>

<div class='talk op-msg' data-timestamp='1466977380' id='476215'>
<a class='timestamp' href='#476215'><time timestamp='2016-06-26T21:43:00Z'>21:43</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
in theory a single 5TH/s miner can make 1164 diff1 headers per second. (in practice they can&#x27;t because their whole control infrastructure is not setup for solutions that fast, but I wouldn&#x27;t be surprised if the asics could, given alternative control)
<br>
</div>

<div class='talk op-msg' data-timestamp='1466977560' id='476216'>
<a class='timestamp' href='#476216'><time timestamp='2016-06-26T21:46:00Z'>21:46</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
also, if the going forward minimum is not increased, someone could start at the 2^24 point, then do 2^57 work to make a chain moving the difficulty back to 1, then continue the headerflooding attack at diff 1.
<br>
</div>

<div class='talk op-msg' data-timestamp='1466977920' id='476217'>
<a class='timestamp' href='#476217'><time timestamp='2016-06-26T21:52:00Z'>21:52</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
actually that rampdown would be 2^67.39 work, (I forgot to account for the fact that difficulty is held constant for 2016 blocks).
<br>
</div>

<div class='talk op-msg' data-timestamp='1466977920' id='476218'>
<a class='timestamp' href='#476218'><time timestamp='2016-06-26T21:52:00Z'>21:52</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
assuming mining hardware were actually efficient at low difficulty header creation the cost of that rampdown in lost subsidy income vs mining at current difficulty would be 5.3827 BTC.
<br>
</div>

<div class='talk op-msg' data-timestamp='1466977980' id='476219'>
<a class='timestamp' href='#476219'><time timestamp='2016-06-26T21:53:00Z'>21:53</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Cost of a rampdown from diff 2**32 would be 1377.977 BTC.
<br>
</div>

<div class='talk op-msg' data-timestamp='1466978100' id='476220'>
<a class='timestamp' href='#476220'><time timestamp='2016-06-26T21:55:00Z'>21:55</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
pinning up to diff 2^32 would be 292320 blocks, about 1.11MB data if pinned with 32bits/block.
<br>
</div>

<div class='talk op-msg' data-timestamp='1466978100' id='476221'>
<a class='timestamp' href='#476221'><time timestamp='2016-06-26T21:55:00Z'>21:55</time></a>
&lt;<span class='nick nick-14'> GitHub76</span>&gt;
[bitcoin] MarcoFalke closed pull request #8265: src: Fix spelling error in comment - netbase.h (master...bitcoiner-fix-typo-netbase) <a href="https://github.com/bitcoin/bitcoin/pull/8265" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8265</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1466978460' id='476222'>
<a class='timestamp' href='#476222'><time timestamp='2016-06-26T22:01:00Z'>22:01</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
alternatively, including the first 292320 headers would add about 23MB to the package, but would actually save 23MB of data transfered from the network at start.
<br>
</div>

<div class='talk op-msg' data-timestamp='1466978520' id='476223'>
<a class='timestamp' href='#476223'><time timestamp='2016-06-26T22:02:00Z'>22:02</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
14MB if it was &#x27;compressed&#x27; by exploiting the prevhash.
<br>
</div>

<div class='talk op-msg' data-timestamp='1466981220' id='476224'>
<a class='timestamp' href='#476224'><time timestamp='2016-06-26T22:47:00Z'>22:47</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
when does cfields get back, and when he does, can we set &lt;someone else&gt; up wiht access to the dev webserver so it&#x27;s not entirely dependent on him? :x
<br>
</div>

<div class='talk op-msg' data-timestamp='1466981760' id='476225'>
<a class='timestamp' href='#476225'><time timestamp='2016-06-26T22:56:00Z'>22:56</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i believe he&#x27;ll return next week
<br>
</div>

<div class='talk op-msg' data-timestamp='1466981760' id='476226'>
<a class='timestamp' href='#476226'><time timestamp='2016-06-26T22:56:00Z'>22:56</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1466983140' id='476227'>
<a class='timestamp' href='#476227'><time timestamp='2016-06-26T23:19:00Z'>23:19</time></a>
&lt;<span class='nick nick-16'> Lightsword</span>&gt;
is there a debug flag needed to see what IP address a block is downloaded from?
<br>
</div>

<div class='talk op-msg' data-timestamp='1466983140' id='476228'>
<a class='timestamp' href='#476228'><time timestamp='2016-06-26T23:19:00Z'>23:19</time></a>
&lt;<span class='nick nick-16'> Lightsword</span>&gt;
I’m using logips=1 already
<br>
</div>

<div class='talk op-msg' data-timestamp='1466983200' id='476229'>
<a class='timestamp' href='#476229'><time timestamp='2016-06-26T23:20:00Z'>23:20</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
debug=net will should you which messages are sent to which peers
<br>
</div>

<div class='talk op-msg' data-timestamp='1466983200' id='476230'>
<a class='timestamp' href='#476230'><time timestamp='2016-06-26T23:20:00Z'>23:20</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
(by node id, but you can match up node ids with ip address using -logips, or getpeerinfo)
<br>
</div>

<div class='talk op-msg' data-timestamp='1466983380' id='476231'>
<a class='timestamp' href='#476231'><time timestamp='2016-06-26T23:23:00Z'>23:23</time></a>
&lt;<span class='nick nick-16'> Lightsword</span>&gt;
kk, no way to have it print IP’s directly? that would make grepping a lot easier :P
<br>
</div>

<div class='talk op-msg' data-timestamp='1466983440' id='476232'>
<a class='timestamp' href='#476232'><time timestamp='2016-06-26T23:24:00Z'>23:24</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
nope
<br>
</div>

</div>
</section>

</body>
</html>
