<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2017-05-04
 — 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2017-05-04' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:24 UTC</pre>
<pre><a href="/bitcoin-core-dev/2017-04-04">&lt;</a><span class='header'>     May 2017     </span><a href="/bitcoin-core-dev/2017-06-04">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;    <a class="" href="/bitcoin-core-dev/2017-05-01">1</a>  <a class="" href="/bitcoin-core-dev/2017-05-02">2</a>  <a class="" href="/bitcoin-core-dev/2017-05-03">3</a>  <a class="current" href="/bitcoin-core-dev/2017-05-04">4</a>  <a class="" href="/bitcoin-core-dev/2017-05-05">5</a>  <a class="" href="/bitcoin-core-dev/2017-05-06">6</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2017-05-07">7</a>  <a class="" href="/bitcoin-core-dev/2017-05-08">8</a>  <a class="" href="/bitcoin-core-dev/2017-05-09">9</a> <a class="" href="/bitcoin-core-dev/2017-05-10">10</a> <a class="" href="/bitcoin-core-dev/2017-05-11">11</a> <a class="" href="/bitcoin-core-dev/2017-05-12">12</a> <a class="" href="/bitcoin-core-dev/2017-05-13">13</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2017-05-14">14</a> <a class="" href="/bitcoin-core-dev/2017-05-15">15</a> <a class="" href="/bitcoin-core-dev/2017-05-16">16</a> <a class="" href="/bitcoin-core-dev/2017-05-17">17</a> <a class="" href="/bitcoin-core-dev/2017-05-18">18</a> <a class="" href="/bitcoin-core-dev/2017-05-19">19</a> <a class="" href="/bitcoin-core-dev/2017-05-20">20</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2017-05-21">21</a> <a class="" href="/bitcoin-core-dev/2017-05-22">22</a> <a class="" href="/bitcoin-core-dev/2017-05-23">23</a> <a class="" href="/bitcoin-core-dev/2017-05-24">24</a> <a class="" href="/bitcoin-core-dev/2017-05-25">25</a> <a class="" href="/bitcoin-core-dev/2017-05-26">26</a> <a class="" href="/bitcoin-core-dev/2017-05-27">27</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2017-05-28">28</a> <a class="" href="/bitcoin-core-dev/2017-05-29">29</a> <a class="" href="/bitcoin-core-dev/2017-05-30">30</a> <a class="" href="/bitcoin-core-dev/2017-05-31">31</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1493859960' id='543784'>
<a class='timestamp' href='#543784'><time timestamp='2017-05-04T01:06:00Z'>01:06</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
sipa: you&#x27;re going to hate me for this...
<br>
</div>

<div class='talk op-msg' data-timestamp='1493860020' id='543785'>
<a class='timestamp' href='#543785'><time timestamp='2017-05-04T01:07:00Z'>01:07</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] theuni opened pull request #10335: back-compat: add fallback getentropy implementation (master...getentropy-back-compat) <a href="https://github.com/bitcoin/bitcoin/pull/10335" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10335</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1493860320' id='543786'>
<a class='timestamp' href='#543786'><time timestamp='2017-05-04T01:12:00Z'>01:12</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
cfields: we don&#x27;t use getentropy on linux
<br>
</div>

<div class='talk op-msg' data-timestamp='1493860320' id='543787'>
<a class='timestamp' href='#543787'><time timestamp='2017-05-04T01:12:00Z'>01:12</time></a>
&lt;<span class='nick nick-3'> warren</span>&gt;
cfields: btw, Ubuntu 12.04 Precise is hitting EOL, will gitian switch to a newer base soon?
<br>
</div>

<div class='talk op-msg' data-timestamp='1493860320' id='543788'>
<a class='timestamp' href='#543788'><time timestamp='2017-05-04T01:12:00Z'>01:12</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
cfields: or we shouldn&#x27;t, i guess
<br>
</div>

<div class='talk op-msg' data-timestamp='1493860380' id='543789'>
<a class='timestamp' href='#543789'><time timestamp='2017-05-04T01:13:00Z'>01:13</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
if getrandom isn&#x27;t available on linux, i think we should fallback to using /dev/urandom directly rather than through a fallback for a wrapper for a BSD function :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1493860560' id='543790'>
<a class='timestamp' href='#543790'><time timestamp='2017-05-04T01:16:00Z'>01:16</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
sipa: atm it&#x27;s being used in linux, best i can tell
<br>
</div>

<div class='talk op-msg' data-timestamp='1493860560' id='543791'>
<a class='timestamp' href='#543791'><time timestamp='2017-05-04T01:16:00Z'>01:16</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
(i get a runtime link error, so it must be)
<br>
</div>

<div class='talk op-msg' data-timestamp='1493860620' id='543792'>
<a class='timestamp' href='#543792'><time timestamp='2017-05-04T01:17:00Z'>01:17</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
warren: gitian uses Trusty currently
<br>
</div>

<div class='talk op-msg' data-timestamp='1493860620' id='543793'>
<a class='timestamp' href='#543793'><time timestamp='2017-05-04T01:17:00Z'>01:17</time></a>
&lt;<span class='nick nick-3'> warren</span>&gt;
oops
<br>
</div>

<div class='talk op-msg' data-timestamp='1493860740' id='543794'>
<a class='timestamp' href='#543794'><time timestamp='2017-05-04T01:19:00Z'>01:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
cfields: yes, we compile in code to use getrandom whenever configure detects it
<br>
</div>

<div class='talk op-msg' data-timestamp='1493860740' id='543795'>
<a class='timestamp' href='#543795'><time timestamp='2017-05-04T01:19:00Z'>01:19</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
sipa: sorry, i was referring to getentropy
<br>
</div>

<div class='talk op-msg' data-timestamp='1493860800' id='543796'>
<a class='timestamp' href='#543796'><time timestamp='2017-05-04T01:20:00Z'>01:20</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
eh, i mean getentropy
<br>
</div>

<div class='talk op-msg' data-timestamp='1493860800' id='543797'>
<a class='timestamp' href='#543797'><time timestamp='2017-05-04T01:20:00Z'>01:20</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
cfields: the getentropy implementation in glibc on Linux just uses SYS_getrandom, just like we already do directly
<br>
</div>

<div class='talk op-msg' data-timestamp='1493860860' id='543798'>
<a class='timestamp' href='#543798'><time timestamp='2017-05-04T01:21:00Z'>01:21</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
so a fallback that just returns 0 should be fine
<br>
</div>

<div class='talk op-msg' data-timestamp='1493860860' id='543799'>
<a class='timestamp' href='#543799'><time timestamp='2017-05-04T01:21:00Z'>01:21</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
we check the return status
<br>
</div>

<div class='talk op-msg' data-timestamp='1493860920' id='543800'>
<a class='timestamp' href='#543800'><time timestamp='2017-05-04T01:22:00Z'>01:22</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ah, no
<br>
</div>

<div class='talk op-msg' data-timestamp='1493860920' id='543801'>
<a class='timestamp' href='#543801'><time timestamp='2017-05-04T01:22:00Z'>01:22</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
hmm     
<br>
</div>

<div class='talk op-msg' data-timestamp='1493861220' id='543802'>
<a class='timestamp' href='#543802'><time timestamp='2017-05-04T01:27:00Z'>01:27</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
sipa: looks like getentropy needs to check for ENOSYS, and do GetDevURandom as a fallback. Then the weak getentropy just returns ENOSYS.
<br>
</div>

<div class='talk op-msg' data-timestamp='1493861220' id='543803'>
<a class='timestamp' href='#543803'><time timestamp='2017-05-04T01:27:00Z'>01:27</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
I think that works?
<br>
</div>

<div class='talk op-msg' data-timestamp='1493861280' id='543804'>
<a class='timestamp' href='#543804'><time timestamp='2017-05-04T01:28:00Z'>01:28</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
cfields: yup
<br>
</div>

<div class='talk op-msg' data-timestamp='1493861280' id='543805'>
<a class='timestamp' href='#543805'><time timestamp='2017-05-04T01:28:00Z'>01:28</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
ok, will do.
<br>
</div>

<div class='talk op-msg' data-timestamp='1493861280' id='543806'>
<a class='timestamp' href='#543806'><time timestamp='2017-05-04T01:28:00Z'>01:28</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
cfields: i think our GetOSEntropy call should always compile in the GetDevURandom fallback
<br>
</div>

<div class='talk op-msg' data-timestamp='1493861280' id='543807'>
<a class='timestamp' href='#543807'><time timestamp='2017-05-04T01:28:00Z'>01:28</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
(so move it out of the #ifdef ... #elif .. #endif switch)
<br>
</div>

<div class='talk op-msg' data-timestamp='1493861280' id='543808'>
<a class='timestamp' href='#543808'><time timestamp='2017-05-04T01:28:00Z'>01:28</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
yep, agreed
<br>
</div>

<div class='talk op-msg' data-timestamp='1493861340' id='543809'>
<a class='timestamp' href='#543809'><time timestamp='2017-05-04T01:29:00Z'>01:29</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
then the getrandom/getentropy calls can fail without problems
<br>
</div>

<div class='talk op-msg' data-timestamp='1493861340' id='543810'>
<a class='timestamp' href='#543810'><time timestamp='2017-05-04T01:29:00Z'>01:29</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and agreed, a simple fallback returning ENOSYS is perfect then
<br>
</div>

<div class='talk op-msg' data-timestamp='1493868720' id='543811'>
<a class='timestamp' href='#543811'><time timestamp='2017-05-04T03:32:00Z'>03:32</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
&lt;sipa&gt; cfields: i think our GetOSEntropy call should always compile in the GetDevURandom fallback
<br>
</div>

<div class='talk op-msg' data-timestamp='1493868720' id='543812'>
<a class='timestamp' href='#543812'><time timestamp='2017-05-04T03:32:00Z'>03:32</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
sipa: looking again, I&#x27;m not sure what you meant by that
<br>
</div>

<div class='talk op-msg' data-timestamp='1493868780' id='543813'>
<a class='timestamp' href='#543813'><time timestamp='2017-05-04T03:33:00Z'>03:33</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
we always compile GetDevURandom, except for win32
<br>
</div>

<div class='talk op-msg' data-timestamp='1493868840' id='543814'>
<a class='timestamp' href='#543814'><time timestamp='2017-05-04T03:34:00Z'>03:34</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
cfields: i mean the GetDevURandom call at the bottom of GetOSEntropy
<br>
</div>

<div class='talk op-msg' data-timestamp='1493868900' id='543815'>
<a class='timestamp' href='#543815'><time timestamp='2017-05-04T03:35:00Z'>03:35</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
which is only compiled if getrandom and getentropy are not availablr
<br>
</div>

<div class='talk op-msg' data-timestamp='1493868900' id='543816'>
<a class='timestamp' href='#543816'><time timestamp='2017-05-04T03:35:00Z'>03:35</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that should change
<br>
</div>

<div class='talk op-msg' data-timestamp='1493868900' id='543817'>
<a class='timestamp' href='#543817'><time timestamp='2017-05-04T03:35:00Z'>03:35</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
sipa: so you want early returns for any better function, and fallback if one isn&#x27;t hit by the end?
<br>
</div>

<div class='talk op-msg' data-timestamp='1493868960' id='543818'>
<a class='timestamp' href='#543818'><time timestamp='2017-05-04T03:36:00Z'>03:36</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
right
<br>
</div>

<div class='talk op-msg' data-timestamp='1493868960' id='543819'>
<a class='timestamp' href='#543819'><time timestamp='2017-05-04T03:36:00Z'>03:36</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
makes sense, will do
<br>
</div>

<div class='talk op-msg' data-timestamp='1493869020' id='543820'>
<a class='timestamp' href='#543820'><time timestamp='2017-05-04T03:37:00Z'>03:37</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
getrandom currently has a fallback already
<br>
</div>

<div class='talk op-msg' data-timestamp='1493869020' id='543821'>
<a class='timestamp' href='#543821'><time timestamp='2017-05-04T03:37:00Z'>03:37</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but not the rest
<br>
</div>

<div class='talk op-msg' data-timestamp='1493869380' id='543822'>
<a class='timestamp' href='#543822'><time timestamp='2017-05-04T03:43:00Z'>03:43</time></a>
&lt;<span class='nick nick-16'> Lightsword</span>&gt;
so I should remove the fallback here as well? <a href="https://github.com/bitcoin/bitcoin/pull/10301/files#diff-35f8a407f8c21cda300a45f50b6e9c74R172" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10301/files#diff-35f8a407f8c21cda300a45f50b6e9c74R172</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1493879700' id='543823'>
<a class='timestamp' href='#543823'><time timestamp='2017-05-04T06:35:00Z'>06:35</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Grml... if we enforce a min HD recover gap limit (currently 20 keypool keys), all tests are broken (mosts tests run with a keypool of size 1). I guess I have to add a -hdignoregaplimit and set it to true by default for the tests.
<br>
</div>

<div class='talk op-msg' data-timestamp='1493882880' id='543824'>
<a class='timestamp' href='#543824'><time timestamp='2017-05-04T07:28:00Z'>07:28</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
wumpus: Re multiple tx-row-entries after a Qt bump: <a href="https://github.com/bitcoin/bitcoin/pull/9697#issuecomment-298339022" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9697#issuecomment-298339022</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1493882940' id='543825'>
<a class='timestamp' href='#543825'><time timestamp='2017-05-04T07:29:00Z'>07:29</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
At the moment, list transactions has the same behavior, though you can see conflicts there.
<br>
</div>

<div class='talk op-msg' data-timestamp='1493882940' id='543826'>
<a class='timestamp' href='#543826'><time timestamp='2017-05-04T07:29:00Z'>07:29</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Not sure how we should &quot;solve&quot; that in Qt...
<br>
</div>

<div class='talk op-msg' data-timestamp='1493882940' id='543827'>
<a class='timestamp' href='#543827'><time timestamp='2017-05-04T07:29:00Z'>07:29</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I think I once had a PR that marked conflicted tx with a special color (maybe orange or something)
<br>
</div>

<div class='talk op-msg' data-timestamp='1493883000' id='543828'>
<a class='timestamp' href='#543828'><time timestamp='2017-05-04T07:30:00Z'>07:30</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Or should we hide them completely (only the own bump conflicts)
<br>
</div>

<div class='talk op-msg' data-timestamp='1493883000' id='543829'>
<a class='timestamp' href='#543829'><time timestamp='2017-05-04T07:30:00Z'>07:30</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
?     
<br>
</div>

<div class='talk op-msg' data-timestamp='1493884320' id='543830'>
<a class='timestamp' href='#543830'><time timestamp='2017-05-04T07:52:00Z'>07:52</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
jonasschnelli: the problem is that the transactions are only marked after a restart IMO
<br>
</div>

<div class='talk op-msg' data-timestamp='1493884380' id='543831'>
<a class='timestamp' href='#543831'><time timestamp='2017-05-04T07:53:00Z'>07:53</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
not so much the marking itself
<br>
</div>

<div class='talk op-msg' data-timestamp='1493884440' id='543832'>
<a class='timestamp' href='#543832'><time timestamp='2017-05-04T07:54:00Z'>07:54</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
wumpus: Hmm.. you mean the opacity change, right?
<br>
</div>

<div class='talk op-msg' data-timestamp='1493884500' id='543833'>
<a class='timestamp' href='#543833'><time timestamp='2017-05-04T07:55:00Z'>07:55</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Yes. The opacity is only changes after restart,... though, that&#x27;s solvable.
<br>
</div>

<div class='talk op-msg' data-timestamp='1493884500' id='543834'>
<a class='timestamp' href='#543834'><time timestamp='2017-05-04T07:55:00Z'>07:55</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
jonasschnelli: or how the amounts are shown (e.g. [] around it)
<br>
</div>

<div class='talk op-msg' data-timestamp='1493884500' id='543835'>
<a class='timestamp' href='#543835'><time timestamp='2017-05-04T07:55:00Z'>07:55</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
In a follow up PR we could introduce a new icon like this: <a href="https://github.com/bitcoin/bitcoin/pull/7826#issuecomment-220644102" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/7826#issuecomment-220644102</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1493884500' id='543836'>
<a class='timestamp' href='#543836'><time timestamp='2017-05-04T07:55:00Z'>07:55</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Ah.. yes. the [] is also part of it. Will fix that now
<br>
</div>

<div class='talk op-msg' data-timestamp='1493884680' id='543837'>
<a class='timestamp' href='#543837'><time timestamp='2017-05-04T07:58:00Z'>07:58</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yeah :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1493885880' id='543838'>
<a class='timestamp' href='#543838'><time timestamp='2017-05-04T08:18:00Z'>08:18</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I don&#x27;t understand why we&#x27;d need <b>*yet another*</b> workaround for getentropy on linux
<br>
</div>

<div class='talk op-msg' data-timestamp='1493885880' id='543839'>
<a class='timestamp' href='#543839'><time timestamp='2017-05-04T08:18:00Z'>08:18</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
man if it&#x27;s really that difficult let&#x27;s just use /dev/urandom and give this up
<br>
</div>

<div class='talk op-msg' data-timestamp='1493886120' id='543840'>
<a class='timestamp' href='#543840'><time timestamp='2017-05-04T08:22:00Z'>08:22</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
wumpus: Agree. If /dev/urandom is not reliable, your OS is not and thus, getentropy doesn&#x27;t give much more value... or do I misinterpret this?
<br>
</div>

<div class='talk op-msg' data-timestamp='1493886120' id='543841'>
<a class='timestamp' href='#543841'><time timestamp='2017-05-04T08:22:00Z'>08:22</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
well the idea is that it can be run in a jail/container without /dev
<br>
</div>

<div class='talk op-msg' data-timestamp='1493886180' id='543842'>
<a class='timestamp' href='#543842'><time timestamp='2017-05-04T08:23:00Z'>08:23</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I see...
<br>
</div>

<div class='talk op-msg' data-timestamp='1493886180' id='543843'>
<a class='timestamp' href='#543843'><time timestamp='2017-05-04T08:23:00Z'>08:23</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it&#x27;s not so much that the syscall is more reliable (though that may be the case) but that it&#x27;s always available (if the OS happens to have it avaiable...)
<br>
</div>

<div class='talk op-msg' data-timestamp='1493886240' id='543844'>
<a class='timestamp' href='#543844'><time timestamp='2017-05-04T08:24:00Z'>08:24</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I just don&#x27;t see the point in a getentropy() implementation that reads /dev/iurandom anyway
<br>
</div>

<div class='talk op-msg' data-timestamp='1493886240' id='543845'>
<a class='timestamp' href='#543845'><time timestamp='2017-05-04T08:24:00Z'>08:24</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
we already have a function for that
<br>
</div>

<div class='talk op-msg' data-timestamp='1493886240' id='543846'>
<a class='timestamp' href='#543846'><time timestamp='2017-05-04T08:24:00Z'>08:24</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
this is getting way more complicated than I imaginedc
<br>
</div>

<div class='talk op-msg' data-timestamp='1493896680' id='543847'>
<a class='timestamp' href='#543847'><time timestamp='2017-05-04T11:18:00Z'>11:18</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] snvakula opened pull request #10336: Get actual path for EUID instead of HOME dir (master...contrib) <a href="https://github.com/bitcoin/bitcoin/pull/10336" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10336</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1493900040' id='543848'>
<a class='timestamp' href='#543848'><time timestamp='2017-05-04T12:14:00Z'>12:14</time></a>
&lt;<span class='nick nick-12'> * jonasschnelli</span>&gt;
wishes a special IDE editing mode where editing a line directly amend edits &amp; rebase and older commit
<br>
</div>

<div class='talk op-msg' data-timestamp='1493904060' id='543849'>
<a class='timestamp' href='#543849'><time timestamp='2017-05-04T13:21:00Z'>13:21</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
morcos: ping re mempool stats: <a href="https://github.com/bitcoin/bitcoin/pull/8501#issuecomment-270714233" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8501#issuecomment-270714233</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1493904300' id='543850'>
<a class='timestamp' href='#543850'><time timestamp='2017-05-04T13:25:00Z'>13:25</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
morcos: Would you say it makes sense to keep a singe samples vector and add fixed time-limits for sample frequency and purge out in-between values? Example: we add a sample whenever the mempool has changed while respecting a min delta of 2s, == no extra thread required.
<br>
</div>

<div class='talk op-msg' data-timestamp='1493904360' id='543851'>
<a class='timestamp' href='#543851'><time timestamp='2017-05-04T13:26:00Z'>13:26</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Then, during the cleanup (every 100 samples or so), we purge out in-between samples to ensure a min-frequency of, say, delta 30s for samples older then 2h (TBD)
<br>
</div>

<div class='talk op-msg' data-timestamp='1493904360' id='543852'>
<a class='timestamp' href='#543852'><time timestamp='2017-05-04T13:26:00Z'>13:26</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
same for older then 24h (maybe ensure a min-delta of 2min), etc.
<br>
</div>

<div class='talk op-msg' data-timestamp='1493904420' id='543853'>
<a class='timestamp' href='#543853'><time timestamp='2017-05-04T13:27:00Z'>13:27</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
The question then is, if we should interpolate fix time steps during cleanup/purge. Because the samples may be distributed &quot;randomly&quot; over time.
<br>
</div>

<div class='talk op-msg' data-timestamp='1493905140' id='543854'>
<a class='timestamp' href='#543854'><time timestamp='2017-05-04T13:39:00Z'>13:39</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
jonasschnelli: that seems considerably messier to me than keeping several samples vectors (one for each time scale we might care about) and only recording a data point in the appropriate vector if its time to. i don&#x27;t think that requires any extra thread either (althgough its not clear that it wouldn&#x27;t be better in a separate thread)
<br>
</div>

<div class='talk op-msg' data-timestamp='1493905140' id='543855'>
<a class='timestamp' href='#543855'><time timestamp='2017-05-04T13:39:00Z'>13:39</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
periodic cleanup just seems weird
<br>
</div>

<div class='talk op-msg' data-timestamp='1493905200' id='543856'>
<a class='timestamp' href='#543856'><time timestamp='2017-05-04T13:40:00Z'>13:40</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
morcos: Separate vectors would require move samples from one to another vector... though not sure if this bad or good. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1493905200' id='543857'>
<a class='timestamp' href='#543857'><time timestamp='2017-05-04T13:40:00Z'>13:40</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
i think the lack of precision in recording the data point at exactly the right time is just something i would ignore witht he exception of if we miss a sample period entirely we should do some sort of filling in
<br>
</div>

<div class='talk op-msg' data-timestamp='1493905200' id='543858'>
<a class='timestamp' href='#543858'><time timestamp='2017-05-04T13:40:00Z'>13:40</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
i don&#x27;t understand that
<br>
</div>

<div class='talk op-msg' data-timestamp='1493905260' id='543859'>
<a class='timestamp' href='#543859'><time timestamp='2017-05-04T13:41:00Z'>13:41</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
every 2 seconds record in the short vector..  on the 60th second add the same sample point to the short vector and the medium vector at the same time.. on the hour add to all 3
<br>
</div>

<div class='talk op-msg' data-timestamp='1493905260' id='543860'>
<a class='timestamp' href='#543860'><time timestamp='2017-05-04T13:41:00Z'>13:41</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
there is some very small data duplication, but no moving, cleaning or reorganizing
<br>
</div>

<div class='talk op-msg' data-timestamp='1493905260' id='543861'>
<a class='timestamp' href='#543861'><time timestamp='2017-05-04T13:41:00Z'>13:41</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Oh. Yes. I overcomplicated.
<br>
</div>

<div class='talk op-msg' data-timestamp='1493905320' id='543862'>
<a class='timestamp' href='#543862'><time timestamp='2017-05-04T13:42:00Z'>13:42</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Yes. Some duplication.. but I guess that okay.
<br>
</div>

<div class='talk op-msg' data-timestamp='1493905320' id='543863'>
<a class='timestamp' href='#543863'><time timestamp='2017-05-04T13:42:00Z'>13:42</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
very little
<br>
</div>

<div class='talk op-msg' data-timestamp='1493905320' id='543864'>
<a class='timestamp' href='#543864'><time timestamp='2017-05-04T13:42:00Z'>13:42</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Yeah. Use shared pointers <b>*duck*</b>
<br>
</div>

<div class='talk op-msg' data-timestamp='1493905380' id='543865'>
<a class='timestamp' href='#543865'><time timestamp='2017-05-04T13:43:00Z'>13:43</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
About the periodic cleanup:
<br>
</div>

<div class='talk op-msg' data-timestamp='1493905380' id='543866'>
<a class='timestamp' href='#543866'><time timestamp='2017-05-04T13:43:00Z'>13:43</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I though calculating the dynamic allocation on each added sample seems a bit to expansive,.. that&#x27;s why I added the periodic check
<br>
</div>

<div class='talk op-msg' data-timestamp='1493905380' id='543867'>
<a class='timestamp' href='#543867'><time timestamp='2017-05-04T13:43:00Z'>13:43</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
But if we have fixed timespans with a thread, then this can be solved simpler.
<br>
</div>

<div class='talk op-msg' data-timestamp='1493905440' id='543868'>
<a class='timestamp' href='#543868'><time timestamp='2017-05-04T13:44:00Z'>13:44</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Though I wanted to avoid grabbing the cs_mempool to calculate the dynamic mempool size, etc.
<br>
</div>

<div class='talk op-msg' data-timestamp='1493905500' id='543869'>
<a class='timestamp' href='#543869'><time timestamp='2017-05-04T13:45:00Z'>13:45</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Stats could then have an more significan impact on the mempool performance then with &quot;passive collecting&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1493905800' id='543870'>
<a class='timestamp' href='#543870'><time timestamp='2017-05-04T13:50:00Z'>13:50</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
wumpus: presumably his configure did not detect getrandom (old kernel headers?), but did detect getentropy?
<br>
</div>

<div class='talk op-msg' data-timestamp='1493905920' id='543871'>
<a class='timestamp' href='#543871'><time timestamp='2017-05-04T13:52:00Z'>13:52</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
jonasschnelli: you could cache the latest value for things that were being calculated anyway, and then only record it on the periodic sample
<br>
</div>

<div class='talk op-msg' data-timestamp='1493905980' id='543872'>
<a class='timestamp' href='#543872'><time timestamp='2017-05-04T13:53:00Z'>13:53</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
but i&#x27;m not sure what you mean about the dynamic allocation for the added sample..  i&#x27;m assuming that at least for the smaller time scales you&#x27;re going to have a limited time span for which you keep samples..  like just a recent buffer of the last couple hours at 2 sec sample periods or something..  so it seems like it should not really require much allocation
<br>
</div>

<div class='talk op-msg' data-timestamp='1493906040' id='543873'>
<a class='timestamp' href='#543873'><time timestamp='2017-05-04T13:54:00Z'>13:54</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
anyway.. i&#x27;m happy to revisit it in a week or so..  but i&#x27;m mostly out of the office this week.. so just trying to keep head above water
<br>
</div>

<div class='talk op-msg' data-timestamp='1493906160' id='543874'>
<a class='timestamp' href='#543874'><time timestamp='2017-05-04T13:56:00Z'>13:56</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
What I meant is the check against the set max memory size for the stats.... say someone has set 10MB as max memory for stats then you have to know when you overshoot it. Not sure if vector-size * sizeof(sample) and cutoff the unnecessary samples is very expansive... I though doing it every 100-added sample makes sense.
<br>
</div>

<div class='talk op-msg' data-timestamp='1493906220' id='543875'>
<a class='timestamp' href='#543875'><time timestamp='2017-05-04T13:57:00Z'>13:57</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
morcos: Yes. No hurry... I&#x27;ll ping you once I have more...
<br>
</div>

<div class='talk op-msg' data-timestamp='1493906280' id='543876'>
<a class='timestamp' href='#543876'><time timestamp='2017-05-04T13:58:00Z'>13:58</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
jonasschnelli: yeah i was imagining you initially just calculate how many samples you&#x27;re going to get to keep given their memory max  and then have a ring buffer, but you coudl do it many ways.. personally i think its kind of an over configuration option.  i&#x27;d have a -stats=0 option to save the memory, but then otherwise everyone gets whatever the default memory usage we think makes sense.  not everything has to be con
<br>
</div>

<div class='talk op-msg' data-timestamp='1493906340' id='543877'>
<a class='timestamp' href='#543877'><time timestamp='2017-05-04T13:59:00Z'>13:59</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Yes. fair enough... thanks for your inputs
<br>
</div>

<div class='talk op-msg' data-timestamp='1493906760' id='543878'>
<a class='timestamp' href='#543878'><time timestamp='2017-05-04T14:06:00Z'>14:06</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
wumpus: we don&#x27;t need another wrapper around urandom though; only a weak alias to a function that always returns ENOSYS, and a change in GetOSEntropy that falls back to GetDevURandom in case getentropy fails
<br>
</div>

<div class='talk op-msg' data-timestamp='1493906760' id='543879'>
<a class='timestamp' href='#543879'><time timestamp='2017-05-04T14:06:00Z'>14:06</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
wumpus: or, alternatively, just never use getentropy on Linux
<br>
</div>

<div class='talk op-msg' data-timestamp='1493909940' id='543880'>
<a class='timestamp' href='#543880'><time timestamp='2017-05-04T14:59:00Z'>14:59</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
sipa: not using getentropy on linux would make sense, after all there is a specific syscall handling for thatt
<br>
</div>

<div class='talk op-msg' data-timestamp='1493909940' id='543881'>
<a class='timestamp' href='#543881'><time timestamp='2017-05-04T14:59:00Z'>14:59</time></a>
&lt;<span class='nick nick-3'> * wumpus</span>&gt;
is probably not going to make today&#x27;s meeting, can anyone else chair please?
<br>
</div>

<div class='talk op-msg' data-timestamp='1493910540' id='543882'>
<a class='timestamp' href='#543882'><time timestamp='2017-05-04T15:09:00Z'>15:09</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
jonasschnelli: how is #10238 intended to interact with #10235? It looks like it was designed to be complementary, but which performance improvements are you envisioning using 10238 for?
<br>
</div>

<div class='talk op-msg' data-timestamp='1493910540' id='543883'>
<a class='timestamp' href='#543883'><time timestamp='2017-05-04T15:09:00Z'>15:09</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/10238" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/10238</a> | Change setKeyPool to hold flexible entries by jonasschnelli · Pull Request #10238 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1493910540' id='543884'>
<a class='timestamp' href='#543884'><time timestamp='2017-05-04T15:09:00Z'>15:09</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/10235" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/10235</a> | Track keypool entries as internal vs external in memory by TheBlueMatt · Pull Request #10235 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1493911080' id='543885'>
<a class='timestamp' href='#543885'><time timestamp='2017-05-04T15:18:00Z'>15:18</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
wumpus: will do
<br>
</div>

<div class='talk op-msg' data-timestamp='1493912940' id='543886'>
<a class='timestamp' href='#543886'><time timestamp='2017-05-04T15:49:00Z'>15:49</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
BlueMatt: I wrote 10238 to ensure we have a fast way to lookup CKeyIds... without this, we have to read each keypool key from the database on each SyncTransaction
<br>
</div>

<div class='talk op-msg' data-timestamp='1493913000' id='543887'>
<a class='timestamp' href='#543887'><time timestamp='2017-05-04T15:50:00Z'>15:50</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
(with HD restore)
<br>
</div>

<div class='talk op-msg' data-timestamp='1493913000' id='543888'>
<a class='timestamp' href='#543888'><time timestamp='2017-05-04T15:50:00Z'>15:50</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I shouldn&#x27;t conceptually conflict with your 10235
<br>
</div>

<div class='talk op-msg' data-timestamp='1493913000' id='543889'>
<a class='timestamp' href='#543889'><time timestamp='2017-05-04T15:50:00Z'>15:50</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
ahh, ok, i was missing the motivation part, thanks
<br>
</div>

<div class='talk op-msg' data-timestamp='1493913060' id='543890'>
<a class='timestamp' href='#543890'><time timestamp='2017-05-04T15:51:00Z'>15:51</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I though the description was good... need to check... 
<br>
</div>

<div class='talk op-msg' data-timestamp='1493913060' id='543891'>
<a class='timestamp' href='#543891'><time timestamp='2017-05-04T15:51:00Z'>15:51</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
oh, maybe i missed that
<br>
</div>

<div class='talk op-msg' data-timestamp='1493913060' id='543892'>
<a class='timestamp' href='#543892'><time timestamp='2017-05-04T15:51:00Z'>15:51</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Currently we only keep the keypool index in memory.. the rest is database AFAIK
<br>
</div>

<div class='talk op-msg' data-timestamp='1493913180' id='543893'>
<a class='timestamp' href='#543893'><time timestamp='2017-05-04T15:53:00Z'>15:53</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
wumpus: jonasschnelli: does anyone care about the QT option in Custom fee to pay &quot;total at least&quot;?
<br>
</div>

<div class='talk op-msg' data-timestamp='1493913240' id='543894'>
<a class='timestamp' href='#543894'><time timestamp='2017-05-04T15:54:00Z'>15:54</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
I&#x27;ve been looking at some of these recently reported issues with transations paying too high a fee, and they seem likely to be a result of coin selection logic
<br>
</div>

<div class='talk op-msg' data-timestamp='1493913240' id='543895'>
<a class='timestamp' href='#543895'><time timestamp='2017-05-04T15:54:00Z'>15:54</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
I think it might make for a cleaner redesign to make all fee calcluations in terms of fee rate and then take that into account when selecting inputs the first time around
<br>
</div>

<div class='talk op-msg' data-timestamp='1493913300' id='543896'>
<a class='timestamp' href='#543896'><time timestamp='2017-05-04T15:55:00Z'>15:55</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
morcos: not sure... I&#x27;m not sure if we want this feature... 
<br>
</div>

<div class='talk op-msg' data-timestamp='1493913300' id='543897'>
<a class='timestamp' href='#543897'><time timestamp='2017-05-04T15:55:00Z'>15:55</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
The &quot;total at least&quot; option only applies to pre-selected coins anyway, but it seems like it would make for cleaner code to just dump that
<br>
</div>

<div class='talk op-msg' data-timestamp='1493913300' id='543898'>
<a class='timestamp' href='#543898'><time timestamp='2017-05-04T15:55:00Z'>15:55</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
I mean why does anyone care about a minimum amount of fee, only the rate matters, its not like there is a dust issue with fees
<br>
</div>

<div class='talk op-msg' data-timestamp='1493913360' id='543899'>
<a class='timestamp' href='#543899'><time timestamp='2017-05-04T15:56:00Z'>15:56</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
Another thing that might be nice to clean up, is the fact that setting Custom Fee in the GUI changes the paytxfee used by the command line, that just seems like a mistake to me, but i suppose changing that now might be a surprise to some poeple
<br>
</div>

<div class='talk op-msg' data-timestamp='1493915040' id='543900'>
<a class='timestamp' href='#543900'><time timestamp='2017-05-04T16:24:00Z'>16:24</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
The total at least stuff makes no sense, it should go. Feerate at least, sure.  Total no more than, sure.
<br>
</div>

<div class='talk op-msg' data-timestamp='1493915700' id='543901'>
<a class='timestamp' href='#543901'><time timestamp='2017-05-04T16:35:00Z'>16:35</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
gmaxwell:hmm... total no more than... you mean just the existing maxtxfee?  shoot..  i had forgotten about that
<br>
</div>

<div class='talk op-msg' data-timestamp='1493915760' id='543902'>
<a class='timestamp' href='#543902'><time timestamp='2017-05-04T16:36:00Z'>16:36</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
i wanted to reduce each coin by the fee needed to spend it before doing coin selection, and then we could be a bit smarter about which ones we added..  
<br>
</div>

<div class='talk op-msg' data-timestamp='1493915820' id='543903'>
<a class='timestamp' href='#543903'><time timestamp='2017-05-04T16:37:00Z'>16:37</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
i suppose it would make some sense to have the -maxtxfee failsafe, but maybe that is at a different place in the code
<br>
</div>

<div class='talk op-msg' data-timestamp='1493915820' id='543904'>
<a class='timestamp' href='#543904'><time timestamp='2017-05-04T16:37:00Z'>16:37</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Yes, I think thats at a different place in the code.
<br>
</div>

<div class='talk op-msg' data-timestamp='1493915880' id='543905'>
<a class='timestamp' href='#543905'><time timestamp='2017-05-04T16:38:00Z'>16:38</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
no its not now, but i could move it to a different place.. like repeat coin selection if your coin selection violated maxtxfee
<br>
</div>

<div class='talk op-msg' data-timestamp='1493915880' id='543906'>
<a class='timestamp' href='#543906'><time timestamp='2017-05-04T16:38:00Z'>16:38</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
i want to also get rid of the knapsack solver
<br>
</div>

<div class='talk op-msg' data-timestamp='1493915940' id='543907'>
<a class='timestamp' href='#543907'><time timestamp='2017-05-04T16:39:00Z'>16:39</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
if you have enough inputs that are lower than the target to reach target + CENT, just start randomly adding them until you are &gt; target+CENT, and then you&#x27;re done
<br>
</div>

<div class='talk op-msg' data-timestamp='1493916000' id='543908'>
<a class='timestamp' href='#543908'><time timestamp='2017-05-04T16:40:00Z'>16:40</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
the idea that you are trying to get exactly target + CENT is stupid.   target + 3.5 CENTS is just as good or whatever
<br>
</div>

<div class='talk op-msg' data-timestamp='1493916060' id='543909'>
<a class='timestamp' href='#543909'><time timestamp='2017-05-04T16:41:00Z'>16:41</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
getting a result with no change is also attractive, but I think that should be a seperate algorithim run first.
<br>
</div>

<div class='talk op-msg' data-timestamp='1493916060' id='543910'>
<a class='timestamp' href='#543910'><time timestamp='2017-05-04T16:41:00Z'>16:41</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
gmaxwell: hmm.. i think thats rare enough that i&#x27;m not sure its worth trying to hard for
<br>
</div>

<div class='talk op-msg' data-timestamp='1493916120' id='543911'>
<a class='timestamp' href='#543911'><time timestamp='2017-05-04T16:42:00Z'>16:42</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I don&#x27;t think it should be, at least if we&#x27;re reasonable about how much fee we&#x27;ll throw away. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1493916120' id='543912'>
<a class='timestamp' href='#543912'><time timestamp='2017-05-04T16:42:00Z'>16:42</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
its the way we do that now that is kind of causing the super high fees i think
<br>
</div>

<div class='talk op-msg' data-timestamp='1493916120' id='543913'>
<a class='timestamp' href='#543913'><time timestamp='2017-05-04T16:42:00Z'>16:42</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
so apparently the coin selection dialog&#x27;s &quot;received by&quot; address is, essentially, complete gibberish
<br>
</div>

<div class='talk op-msg' data-timestamp='1493916180' id='543914'>
<a class='timestamp' href='#543914'><time timestamp='2017-05-04T16:43:00Z'>16:43</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
but that is fixable while still trying to do that, for sure
<br>
</div>

<div class='talk op-msg' data-timestamp='1493916180' id='543915'>
<a class='timestamp' href='#543915'><time timestamp='2017-05-04T16:43:00Z'>16:43</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
and its &quot;tree&quot; (which I thought was supposed to group things ala listaddressgroupings) does not at all do that, and is equally useless
<br>
</div>

<div class='talk op-msg' data-timestamp='1493916480' id='543916'>
<a class='timestamp' href='#543916'><time timestamp='2017-05-04T16:48:00Z'>16:48</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
morcos: I&#x27;ve tried a bit and have not managed to make it cause high fees since the changes we made to fix the fees in later passes. How confident are we that there is still an issue?
<br>
</div>

<div class='talk op-msg' data-timestamp='1493916540' id='543917'>
<a class='timestamp' href='#543917'><time timestamp='2017-05-04T16:49:00Z'>16:49</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
i think its pretty plausible
<br>
</div>

<div class='talk op-msg' data-timestamp='1493916540' id='543918'>
<a class='timestamp' href='#543918'><time timestamp='2017-05-04T16:49:00Z'>16:49</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
if nTotalLower is &lt; target + CENT, then you have a decent chance of the problem happening
<br>
</div>

<div class='talk op-msg' data-timestamp='1493916600' id='543919'>
<a class='timestamp' href='#543919'><time timestamp='2017-05-04T16:50:00Z'>16:50</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
once nTotalLower &lt; target + CENT, the knapsack algorithm tries to find you exactly target
<br>
</div>

<div class='talk op-msg' data-timestamp='1493916600' id='543920'>
<a class='timestamp' href='#543920'><time timestamp='2017-05-04T16:50:00Z'>16:50</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
which leads to decent chance that your change is dust
<br>
</div>

<div class='talk op-msg' data-timestamp='1493916600' id='543921'>
<a class='timestamp' href='#543921'><time timestamp='2017-05-04T16:50:00Z'>16:50</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
so your change gets eliminated
<br>
</div>

<div class='talk op-msg' data-timestamp='1493916660' id='543922'>
<a class='timestamp' href='#543922'><time timestamp='2017-05-04T16:51:00Z'>16:51</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
then when you callculate the fee and you need to go re-find inputs which meet target_2  (= target + fee)
<br>
</div>

<div class='talk op-msg' data-timestamp='1493916660' id='543923'>
<a class='timestamp' href='#543923'><time timestamp='2017-05-04T16:51:00Z'>16:51</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
you end up choosing fewer different inputs, have a lower fee, and now no change to dump the excess fee on
<br>
</div>

<div class='talk op-msg' data-timestamp='1493916720' id='543924'>
<a class='timestamp' href='#543924'><time timestamp='2017-05-04T16:52:00Z'>16:52</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
why does CENT even still occur in the algorithm?
<br>
</div>

<div class='talk op-msg' data-timestamp='1493916780' id='543925'>
<a class='timestamp' href='#543925'><time timestamp='2017-05-04T16:53:00Z'>16:53</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
actually, i used to hate that, now i think its the best part of the algorithm!
<br>
</div>

<div class='talk op-msg' data-timestamp='1493916780' id='543926'>
<a class='timestamp' href='#543926'><time timestamp='2017-05-04T16:53:00Z'>16:53</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
its the goal size for change, it shouldn&#x27;t be an exact target, but a minimum as i mentioned above
<br>
</div>

<div class='talk op-msg' data-timestamp='1493916780' id='543927'>
<a class='timestamp' href='#543927'><time timestamp='2017-05-04T16:53:00Z'>16:53</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
but it&#x27;s better to have a target like that, orders of magnitude higher than dust, rather than just randomly creating change ouputs that might barely pass dust
<br>
</div>

<div class='talk op-msg' data-timestamp='1493916840' id='543928'>
<a class='timestamp' href='#543928'><time timestamp='2017-05-04T16:54:00Z'>16:54</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
what&#x27;s silly is that if you can&#x27;t get CENT, then you aim for 0.
<br>
</div>

<div class='talk op-msg' data-timestamp='1493916900' id='543929'>
<a class='timestamp' href='#543929'><time timestamp='2017-05-04T16:55:00Z'>16:55</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
but i think the key improvement is to look at the net value of inputs in coin selection given the desired fee rate
<br>
</div>

<div class='talk op-msg' data-timestamp='1493916960' id='543930'>
<a class='timestamp' href='#543930'><time timestamp='2017-05-04T16:56:00Z'>16:56</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
i suppose i could have written this all up first (i still will) but my idea was you&#x27;d have some sort of economic threshold such as only use inputs whose net_input_value &gt; total_input_value/2 unless your tx confirm target &gt; 48, then you use all inputs whos net_input_value &gt; 0
<br>
</div>

<div class='talk op-msg' data-timestamp='1493916960' id='543931'>
<a class='timestamp' href='#543931'><time timestamp='2017-05-04T16:56:00Z'>16:56</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
the current algorithm throws in stupid inputs whose net_input_value is 0
<br>
</div>

<div class='talk op-msg' data-timestamp='1493916960' id='543932'>
<a class='timestamp' href='#543932'><time timestamp='2017-05-04T16:56:00Z'>16:56</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
i mean negative
<br>
</div>

<div class='talk op-msg' data-timestamp='1493917140' id='543933'>
<a class='timestamp' href='#543933'><time timestamp='2017-05-04T16:59:00Z'>16:59</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
btw.. i&#x27;m probably out for the meeting today.. so if anyone has any fee estimation questions, feel free to ask before..   i&#x27;m still working through comments on PR
<br>
</div>

<div class='talk op-msg' data-timestamp='1493918040' id='543934'>
<a class='timestamp' href='#543934'><time timestamp='2017-05-04T17:14:00Z'>17:14</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
morcos: I&#x27;d rather two two total solutions, e.g. a change and no-change solution, and then use post selection.
<br>
</div>

<div class='talk op-msg' data-timestamp='1493918100' id='543935'>
<a class='timestamp' href='#543935'><time timestamp='2017-05-04T17:15:00Z'>17:15</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
What information would you use from the change solution to make that decision?  It seems to me either you find a good no-change solution or you don&#x27;t?
<br>
</div>

<div class='talk op-msg' data-timestamp='1493918340' id='543936'>
<a class='timestamp' href='#543936'><time timestamp='2017-05-04T17:19:00Z'>17:19</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] sipa opened pull request #10338: Maintain state across GetStrongRandBytes calls (master...stateful_rng) <a href="https://github.com/bitcoin/bitcoin/pull/10338" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10338</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1493918460' id='543937'>
<a class='timestamp' href='#543937'><time timestamp='2017-05-04T17:21:00Z'>17:21</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
both may be &#x27;less than perfect&#x27;, e.g.  no-change might give away more than we&#x27;d like, but change may involve higher fees, so it&#x27;s no better.
<br>
</div>

<div class='talk op-msg' data-timestamp='1493918520' id='543938'>
<a class='timestamp' href='#543938'><time timestamp='2017-05-04T17:22:00Z'>17:22</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
e.g. because the extra output increases the size, and then an extra input is needed... which increases the size further.
<br>
</div>

<div class='talk op-msg' data-timestamp='1493918520' id='543939'>
<a class='timestamp' href='#543939'><time timestamp='2017-05-04T17:22:00Z'>17:22</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
and so you&#x27;d prefer the no change even though it gave away more than you might normally like, because the other option was worse.
<br>
</div>

<div class='talk op-msg' data-timestamp='1493918580' id='543940'>
<a class='timestamp' href='#543940'><time timestamp='2017-05-04T17:23:00Z'>17:23</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
hmm.. so my way of thinking about it, which is i thought your logic, that a solution that is 10x as big and costs 10x as much is not worse
<br>
</div>

<div class='talk op-msg' data-timestamp='1493918580' id='543941'>
<a class='timestamp' href='#543941'><time timestamp='2017-05-04T17:23:00Z'>17:23</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
granted, the change output vs no change is strictly worse
<br>
</div>

<div class='talk op-msg' data-timestamp='1493918580' id='543942'>
<a class='timestamp' href='#543942'><time timestamp='2017-05-04T17:23:00Z'>17:23</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
but that in my mind is a bit how you would go about figuring out whether you have an acceptable no change solution
<br>
</div>

<div class='talk op-msg' data-timestamp='1493918580' id='543943'>
<a class='timestamp' href='#543943'><time timestamp='2017-05-04T17:23:00Z'>17:23</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
it&#x27;s true that you&#x27;ll pay the fees eventually. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1493918640' id='543944'>
<a class='timestamp' href='#543944'><time timestamp='2017-05-04T17:24:00Z'>17:24</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
but then there is another angle is that our strategy should be changing if we think the feerate is &#x27;high&#x27; for the moment, vs &#x27;low&#x27;... in the latter we should optimize for larger transactions. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1493918640' id='543945'>
<a class='timestamp' href='#543945'><time timestamp='2017-05-04T17:24:00Z'>17:24</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
yeah, that last part is important, but i think a complicated optimization
<br>
</div>

<div class='talk op-msg' data-timestamp='1493918640' id='543946'>
<a class='timestamp' href='#543946'><time timestamp='2017-05-04T17:24:00Z'>17:24</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
maybe not ready for that yet
<br>
</div>

<div class='talk op-msg' data-timestamp='1493918700' id='543947'>
<a class='timestamp' href='#543947'><time timestamp='2017-05-04T17:25:00Z'>17:25</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
i&#x27;m including a tiny bit of that in not being willing to spend most of inputs unless its a low confirm target
<br>
</div>

<div class='talk op-msg' data-timestamp='1493918700' id='543948'>
<a class='timestamp' href='#543948'><time timestamp='2017-05-04T17:25:00Z'>17:25</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
but then there get to be all kinds of complicated questiosn, what kinds of fee rates does this user usually use and compare to current market conditions and size of current transaction
<br>
</div>

<div class='talk op-msg' data-timestamp='1493918760' id='543949'>
<a class='timestamp' href='#543949'><time timestamp='2017-05-04T17:26:00Z'>17:26</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
it&#x27;s a fair point that you don&#x27;t want to tie up all your inputs on a rare 25-confirm-target payment.
<br>
</div>

<div class='talk op-msg' data-timestamp='1493918760' id='543950'>
<a class='timestamp' href='#543950'><time timestamp='2017-05-04T17:26:00Z'>17:26</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
that was all kind of a next level in my mind...  first level was meant to try to eliminate some stupid edge cases but not deviate too much from existing logic
<br>
</div>

<div class='talk op-msg' data-timestamp='1493918760' id='543951'>
<a class='timestamp' href='#543951'><time timestamp='2017-05-04T17:26:00Z'>17:26</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
yeah..  so many ways to so grade tx selection
<br>
</div>

<div class='talk op-msg' data-timestamp='1493918760' id='543952'>
<a class='timestamp' href='#543952'><time timestamp='2017-05-04T17:26:00Z'>17:26</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Fair enough.
<br>
</div>

<div class='talk op-msg' data-timestamp='1493918880' id='543953'>
<a class='timestamp' href='#543953'><time timestamp='2017-05-04T17:28:00Z'>17:28</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
morcos, I think earlier you basically described murch&#x27;s algorithm, first it does some quick search for &quot;exact match&quot;, meaning sum of effective amounts of the inputs that don&#x27;t create a change output, and then if that fails backs off to random selection
<br>
</div>

<div class='talk op-msg' data-timestamp='1493918940' id='543954'>
<a class='timestamp' href='#543954'><time timestamp='2017-05-04T17:29:00Z'>17:29</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
instagibbs: ah yes, ok i&#x27;ll go reread what he said...   i wanted to keep random selection from the lower than target value inputs if possible..  and do them on net value... that seems to me the important improvements
<br>
</div>

<div class='talk op-msg' data-timestamp='1493919000' id='543955'>
<a class='timestamp' href='#543955'><time timestamp='2017-05-04T17:30:00Z'>17:30</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
sure, that seems to mesh. He said he got 50x more exact matches than Core. Which means it might be worth it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1493919000' id='543956'>
<a class='timestamp' href='#543956'><time timestamp='2017-05-04T17:30:00Z'>17:30</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
(on a real world scrubbed dataset)
<br>
</div>

<div class='talk op-msg' data-timestamp='1493919060' id='543957'>
<a class='timestamp' href='#543957'><time timestamp='2017-05-04T17:31:00Z'>17:31</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
I still think 10333 is complementary. Anytime we screw up somehow hitting the feerate we want, we can try and salvage. Hopefully will be much less important at least.
<br>
</div>

<div class='talk op-msg' data-timestamp='1493919120' id='543958'>
<a class='timestamp' href='#543958'><time timestamp='2017-05-04T17:32:00Z'>17:32</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
and exploiting no change is important for reducing the utxo set size; I think if payment amounts come from a unimodal distribution the utxo count will grow expoentially under any algorithim that minimizes input counts and always creates change.
<br>
</div>

<div class='talk op-msg' data-timestamp='1493919180' id='543959'>
<a class='timestamp' href='#543959'><time timestamp='2017-05-04T17:33:00Z'>17:33</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
instagibbs: yes, i haven&#x27;t read the code yet, but i&#x27;m not opposed to the idea...   but i think if we consider net values for inputs, then there is no such thing as screwing up the fee.
<br>
</div>

<div class='talk op-msg' data-timestamp='1493919180' id='543960'>
<a class='timestamp' href='#543960'><time timestamp='2017-05-04T17:33:00Z'>17:33</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: but aiming for no change probably requires that every wallet permanently has a set of utxos of various sizes
<br>
</div>

<div class='talk op-msg' data-timestamp='1493919240' id='543961'>
<a class='timestamp' href='#543961'><time timestamp='2017-05-04T17:34:00Z'>17:34</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: which on itself may not be ideal
<br>
</div>

<div class='talk op-msg' data-timestamp='1493919240' id='543962'>
<a class='timestamp' href='#543962'><time timestamp='2017-05-04T17:34:00Z'>17:34</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
well then there is the extra change output, which I&#x27;d like to work out how to do, at least when the change would be large we should split the outputs.
<br>
</div>

<div class='talk op-msg' data-timestamp='1493919360' id='543963'>
<a class='timestamp' href='#543963'><time timestamp='2017-05-04T17:36:00Z'>17:36</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
morcos, yeah I can&#x27;t convince myself otherwise, but having a safety net feels better. It&#x27;s not a lot of logic. Treating the cause is clearly fixing coin selection.
<br>
</div>

<div class='talk op-msg' data-timestamp='1493919780' id='543964'>
<a class='timestamp' href='#543964'><time timestamp='2017-05-04T17:43:00Z'>17:43</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
as far as the safty net, I think it&#x27;s fine if it&#x27;s just a dumb check at the end that aborts the transfer if it fails. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1493919780' id='543965'>
<a class='timestamp' href='#543965'><time timestamp='2017-05-04T17:43:00Z'>17:43</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
people get spazzy about automatic fees because they don&#x27;t know what it could pay.
<br>
</div>

<div class='talk op-msg' data-timestamp='1493919780' id='543966'>
<a class='timestamp' href='#543966'><time timestamp='2017-05-04T17:43:00Z'>17:43</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
omg what if it pays all my monies!
<br>
</div>

<div class='talk op-msg' data-timestamp='1493922420' id='543967'>
<a class='timestamp' href='#543967'><time timestamp='2017-05-04T18:27:00Z'>18:27</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
cfields: a bit ironic... if you build with new glibc on an old kernel, but later run on a new kernel... using getentropy actually improves things
<br>
</div>

<div class='talk op-msg' data-timestamp='1493922780' id='543968'>
<a class='timestamp' href='#543968'><time timestamp='2017-05-04T18:33:00Z'>18:33</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
sipa: ironic how?
<br>
</div>

<div class='talk op-msg' data-timestamp='1493922840' id='543969'>
<a class='timestamp' href='#543969'><time timestamp='2017-05-04T18:34:00Z'>18:34</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
cfields: in that it would seem that getentropy is never useful on linux
<br>
</div>

<div class='talk op-msg' data-timestamp='1493922900' id='543970'>
<a class='timestamp' href='#543970'><time timestamp='2017-05-04T18:35:00Z'>18:35</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
s/ironic/surprising/
<br>
</div>

<div class='talk op-msg' data-timestamp='1493922900' id='543971'>
<a class='timestamp' href='#543971'><time timestamp='2017-05-04T18:35:00Z'>18:35</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
ah     
<br>
</div>

<div class='talk op-msg' data-timestamp='1493923080' id='543972'>
<a class='timestamp' href='#543972'><time timestamp='2017-05-04T18:38:00Z'>18:38</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
well, it basically just forces the syscall to be tried on all systems, when built on something newish. but yea, the path isn&#x27;t exactly obvious in all cases :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1493923140' id='543973'>
<a class='timestamp' href='#543973'><time timestamp='2017-05-04T18:39:00Z'>18:39</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
we could of course just hardcode the SYS_getrandom constant :p
<br>
</div>

<div class='talk op-msg' data-timestamp='1493923140' id='543974'>
<a class='timestamp' href='#543974'><time timestamp='2017-05-04T18:39:00Z'>18:39</time></a>
&lt;<span class='nick nick-4'> * sipa</span>&gt;
ducks
<br>
</div>

<div class='talk op-msg' data-timestamp='1493923140' id='543975'>
<a class='timestamp' href='#543975'><time timestamp='2017-05-04T18:39:00Z'>18:39</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
I suppose we could add a weak getrandom() that does the syscall and avoid the loops
<br>
</div>

<div class='talk op-msg' data-timestamp='1493923140' id='543976'>
<a class='timestamp' href='#543976'><time timestamp='2017-05-04T18:39:00Z'>18:39</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
haha
<br>
</div>

<div class='talk op-msg' data-timestamp='1493923500' id='543977'>
<a class='timestamp' href='#543977'><time timestamp='2017-05-04T18:45:00Z'>18:45</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
sipa: i find the logic harder to follow in your version :\
<br>
</div>

<div class='talk op-msg' data-timestamp='1493923560' id='543978'>
<a class='timestamp' href='#543978'><time timestamp='2017-05-04T18:46:00Z'>18:46</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
i&#x27;m not sure if we want to cascade like that?
<br>
</div>

<div class='talk op-msg' data-timestamp='1493923980' id='543979'>
<a class='timestamp' href='#543979'><time timestamp='2017-05-04T18:53:00Z'>18:53</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ok, just a suggestion
<br>
</div>

<div class='talk op-msg' data-timestamp='1493924400' id='543980'>
<a class='timestamp' href='#543980'><time timestamp='2017-05-04T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yow     
<br>
</div>

<div class='talk op-msg' data-timestamp='1493924400' id='543981'>
<a class='timestamp' href='#543981'><time timestamp='2017-05-04T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
meeting?
<br>
</div>

<div class='talk op-msg' data-timestamp='1493924460' id='543982'>
<a class='timestamp' href='#543982'><time timestamp='2017-05-04T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
did anyone volunteer to chair?
<br>
</div>

<div class='talk op-msg' data-timestamp='1493924460' id='543983'>
<a class='timestamp' href='#543983'><time timestamp='2017-05-04T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
#startmeeting
<br>
</div>

<div class='talk op-msg' data-timestamp='1493924460' id='543984'>
<a class='timestamp' href='#543984'><time timestamp='2017-05-04T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Meeting started Thu May  4 19:01:13 2017 UTC.  The chair is sipa. Information about MeetBot at <a href="http://wiki.debian.org/MeetBot" class="link" target="_blank">http://wiki.debian.org/MeetBot</a>.
<br>
</div>

<div class='talk op-msg' data-timestamp='1493924460' id='543985'>
<a class='timestamp' href='#543985'><time timestamp='2017-05-04T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Useful Commands: #action #agreed #help #info #idea #link #topic.
<br>
</div>

<div class='talk op-msg' data-timestamp='1493924460' id='543986'>
<a class='timestamp' href='#543986'><time timestamp='2017-05-04T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
topics?
<br>
</div>

<div class='talk op-msg' data-timestamp='1493924460' id='543987'>
<a class='timestamp' href='#543987'><time timestamp='2017-05-04T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
oh, wumpus is out?
<br>
</div>

<div class='talk op-msg' data-timestamp='1493924460' id='543988'>
<a class='timestamp' href='#543988'><time timestamp='2017-05-04T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
he is
<br>
</div>

<div class='talk op-msg' data-timestamp='1493924460' id='543989'>
<a class='timestamp' href='#543989'><time timestamp='2017-05-04T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
hi     
<br>
</div>

<div class='talk op-msg' data-timestamp='1493924460' id='543990'>
<a class='timestamp' href='#543990'><time timestamp='2017-05-04T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
#10337
<br>
</div>

<div class='talk op-msg' data-timestamp='1493924460' id='543991'>
<a class='timestamp' href='#543991'><time timestamp='2017-05-04T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/10337" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/10337</a> | Coin Control Dialog is not (very) useful for manual privacy protection · Issue #10337 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1493924460' id='543992'>
<a class='timestamp' href='#543992'><time timestamp='2017-05-04T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
:(     
<br>
</div>

<div class='talk op-msg' data-timestamp='1493924520' id='543993'>
<a class='timestamp' href='#543993'><time timestamp='2017-05-04T19:02:00Z'>19:02</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Proposed low prio topic: HD restore update / questions
<br>
</div>

<div class='talk op-msg' data-timestamp='1493924520' id='543994'>
<a class='timestamp' href='#543994'><time timestamp='2017-05-04T19:02:00Z'>19:02</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
#topic #10337
<br>
</div>

<div class='talk op-msg' data-timestamp='1493924520' id='543995'>
<a class='timestamp' href='#543995'><time timestamp='2017-05-04T19:02:00Z'>19:02</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/10337" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/10337</a> | Coin Control Dialog is not (very) useful for manual privacy protection · Issue #10337 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1493924520' id='543996'>
<a class='timestamp' href='#543996'><time timestamp='2017-05-04T19:02:00Z'>19:02</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: ping people?
<br>
</div>

<div class='talk op-msg' data-timestamp='1493924520' id='543997'>
<a class='timestamp' href='#543997'><time timestamp='2017-05-04T19:02:00Z'>19:02</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
BlueMatt: I agree change shouldn&#x27;t be grouped as it is, but I don&#x27;t understand how &quot;received by address&quot; is wrong
<br>
</div>

<div class='talk op-msg' data-timestamp='1493924520' id='543998'>
<a class='timestamp' href='#543998'><time timestamp='2017-05-04T19:02:00Z'>19:02</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
turns out the coin control dialog is almost entirely useless
<br>
</div>

<div class='talk op-msg' data-timestamp='1493924580' id='543999'>
<a class='timestamp' href='#543999'><time timestamp='2017-05-04T19:03:00Z'>19:03</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
BlueMatt: entierly useless? I disagree
<br>
</div>

<div class='talk op-msg' data-timestamp='1493924580' id='544000'>
<a class='timestamp' href='#544000'><time timestamp='2017-05-04T19:03:00Z'>19:03</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
the &quot;received by address&quot; thing works fine for coins you just received, but if it is a change output it walks back the first input until it finds a non-change output
<br>
</div>

<div class='talk op-msg' data-timestamp='1493924580' id='544001'>
<a class='timestamp' href='#544001'><time timestamp='2017-05-04T19:03:00Z'>19:03</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
BlueMatt: seems plenty useful to me
<br>
</div>

<div class='talk op-msg' data-timestamp='1493924580' id='544002'>
<a class='timestamp' href='#544002'><time timestamp='2017-05-04T19:03:00Z'>19:03</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
so it, essentially, picks an address at random if the output is change
<br>
</div>

<div class='talk op-msg' data-timestamp='1493924580' id='544003'>
<a class='timestamp' href='#544003'><time timestamp='2017-05-04T19:03:00Z'>19:03</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
BlueMatt: I see different &quot;received by address&quot; for change too
<br>
</div>

<div class='talk op-msg' data-timestamp='1493924580' id='544004'>
<a class='timestamp' href='#544004'><time timestamp='2017-05-04T19:03:00Z'>19:03</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
and groups by it, which obviously isnt what you want for privacy
<br>
</div>

<div class='talk op-msg' data-timestamp='1493924580' id='544005'>
<a class='timestamp' href='#544005'><time timestamp='2017-05-04T19:03:00Z'>19:03</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
luke-jr: for addresses marked as change in the wallet? no
<br>
</div>

<div class='talk op-msg' data-timestamp='1493924640' id='544006'>
<a class='timestamp' href='#544006'><time timestamp='2017-05-04T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
BlueMatt: yes..
<br>
</div>

<div class='talk op-msg' data-timestamp='1493924640' id='544007'>
<a class='timestamp' href='#544007'><time timestamp='2017-05-04T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
for random addresses of yours it should work, but not for addresses via getrawchangeaddress
<br>
</div>

<div class='talk op-msg' data-timestamp='1493924640' id='544008'>
<a class='timestamp' href='#544008'><time timestamp='2017-05-04T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
I don&#x27;t use that RPC, but it works for normal change
<br>
</div>

<div class='talk op-msg' data-timestamp='1493924640' id='544009'>
<a class='timestamp' href='#544009'><time timestamp='2017-05-04T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
hi     
<br>
</div>

<div class='talk op-msg' data-timestamp='1493924640' id='544010'>
<a class='timestamp' href='#544010'><time timestamp='2017-05-04T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
(or, ofc, normal change)
<br>
</div>

<div class='talk op-msg' data-timestamp='1493924700' id='544011'>
<a class='timestamp' href='#544011'><time timestamp='2017-05-04T19:05:00Z'>19:05</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/blob/master/src/qt/walletmodel.cpp#L620" class="link" target="_blank">https://github.com/bitcoin/bitcoin/blob/master/src/qt/walletmodel.cpp#L620</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1493924700' id='544012'>
<a class='timestamp' href='#544012'><time timestamp='2017-05-04T19:05:00Z'>19:05</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it sounds to me like it is doing a mix of &quot;receive by address&quot; and &quot;linked grouping&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1493924700' id='544013'>
<a class='timestamp' href='#544013'><time timestamp='2017-05-04T19:05:00Z'>19:05</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
both are perhaps useful
<br>
</div>

<div class='talk op-msg' data-timestamp='1493924700' id='544014'>
<a class='timestamp' href='#544014'><time timestamp='2017-05-04T19:05:00Z'>19:05</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
more importantly, really, is that I&#x27;ve repeatedly seen the tree mode of the coin picker dialog as the same as listaddressgroupings, which it is clearly not
<br>
</div>

<div class='talk op-msg' data-timestamp='1493924760' id='544015'>
<a class='timestamp' href='#544015'><time timestamp='2017-05-04T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
sipa: well the change-output-results-in-random-grouping thing is kinda strange
<br>
</div>

<div class='talk op-msg' data-timestamp='1493924760' id='544016'>
<a class='timestamp' href='#544016'><time timestamp='2017-05-04T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
right, it shouldn&#x27;t walk for receive address
<br>
</div>

<div class='talk op-msg' data-timestamp='1493924760' id='544017'>
<a class='timestamp' href='#544017'><time timestamp='2017-05-04T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
BlueMatt: I have nfc what that code does, but it <b>*looks*</b> right in the end window :/
<br>
</div>

<div class='talk op-msg' data-timestamp='1493924760' id='544018'>
<a class='timestamp' href='#544018'><time timestamp='2017-05-04T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and it should alwaya walk (to some deterministic representative) for grouping
<br>
</div>

<div class='talk op-msg' data-timestamp='1493924760' id='544019'>
<a class='timestamp' href='#544019'><time timestamp='2017-05-04T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
*alwaya
<br>
</div>

<div class='talk op-msg' data-timestamp='1493924760' id='544020'>
<a class='timestamp' href='#544020'><time timestamp='2017-05-04T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
*alwayS
<br>
</div>

<div class='talk op-msg' data-timestamp='1493924760' id='544021'>
<a class='timestamp' href='#544021'><time timestamp='2017-05-04T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
*always
<br>
</div>

<div class='talk op-msg' data-timestamp='1493924820' id='544022'>
<a class='timestamp' href='#544022'><time timestamp='2017-05-04T19:07:00Z'>19:07</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
but, yea, anyway, I think this should really emulate the grouping rpc
<br>
</div>

<div class='talk op-msg' data-timestamp='1493924820' id='544023'>
<a class='timestamp' href='#544023'><time timestamp='2017-05-04T19:07:00Z'>19:07</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
the &quot;where did these coins come from&quot; question is not really useful for anything but coins you just got, in which case they will already be ungrouped
<br>
</div>

<div class='talk op-msg' data-timestamp='1493924820' id='544024'>
<a class='timestamp' href='#544024'><time timestamp='2017-05-04T19:07:00Z'>19:07</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
a &quot;received by address&quot; is still useful i think, but it&#x27;s not the same as grouping
<br>
</div>

<div class='talk op-msg' data-timestamp='1493924820' id='544025'>
<a class='timestamp' href='#544025'><time timestamp='2017-05-04T19:07:00Z'>19:07</time></a>
&lt;<span class='nick nick-4'> kanzure</span>&gt;
hi.     
<br>
</div>

<div class='talk op-msg' data-timestamp='1493924820' id='544026'>
<a class='timestamp' href='#544026'><time timestamp='2017-05-04T19:07:00Z'>19:07</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
yes, but if it is not received directly, it should be &quot;Change&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1493924880' id='544027'>
<a class='timestamp' href='#544027'><time timestamp='2017-05-04T19:08:00Z'>19:08</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
BlueMatt: seems reasonable to me
<br>
</div>

<div class='talk op-msg' data-timestamp='1493924880' id='544028'>
<a class='timestamp' href='#544028'><time timestamp='2017-05-04T19:08:00Z'>19:08</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
anyway, other topics?
<br>
</div>

<div class='talk op-msg' data-timestamp='1493924880' id='544029'>
<a class='timestamp' href='#544029'><time timestamp='2017-05-04T19:08:00Z'>19:08</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
#bitcoin-core-dev Meeting: wumpus sipa gmaxwell jonasschnelli morcos luke-jr btcdrak sdaftuar jtimon cfields petertodd kanzure bluematt instagibbs phantomcircuit codeshark michagogo marcofalke paveljanik NicolasDorier
<br>
</div>

<div class='talk op-msg' data-timestamp='1493924880' id='544030'>
<a class='timestamp' href='#544030'><time timestamp='2017-05-04T19:08:00Z'>19:08</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
#topic HD restore update
<br>
</div>

<div class='talk op-msg' data-timestamp='1493924880' id='544031'>
<a class='timestamp' href='#544031'><time timestamp='2017-05-04T19:08:00Z'>19:08</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
#10240
<br>
</div>

<div class='talk op-msg' data-timestamp='1493924880' id='544032'>
<a class='timestamp' href='#544032'><time timestamp='2017-05-04T19:08:00Z'>19:08</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/10240" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/10240</a> | Add HD wallet auto-restore functionality by jonasschnelli · Pull Request #10240 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1493924940' id='544033'>
<a class='timestamp' href='#544033'><time timestamp='2017-05-04T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I have worked out a solution that seems to work for encrypted and encrypted&amp;pruned wallets.
<br>
</div>

<div class='talk op-msg' data-timestamp='1493924940' id='544034'>
<a class='timestamp' href='#544034'><time timestamp='2017-05-04T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-16'> * BlueMatt</span>&gt;
wonders why we cant have a derivation key which is not encrypted in our wallet so taht we dont have to pause sync
<br>
</div>

<div class='talk op-msg' data-timestamp='1493924940' id='544035'>
<a class='timestamp' href='#544035'><time timestamp='2017-05-04T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
It can halt the sync / validation progress.
<br>
</div>

<div class='talk op-msg' data-timestamp='1493924940' id='544036'>
<a class='timestamp' href='#544036'><time timestamp='2017-05-04T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
But,.. I&#x27;m not sure what gap limit and default keypool size we should use
<br>
</div>

<div class='talk op-msg' data-timestamp='1493924940' id='544037'>
<a class='timestamp' href='#544037'><time timestamp='2017-05-04T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
(to generate new keys)
<br>
</div>

<div class='talk op-msg' data-timestamp='1493924940' id='544038'>
<a class='timestamp' href='#544038'><time timestamp='2017-05-04T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
100 and 20 seems very little
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925000' id='544039'>
<a class='timestamp' href='#544039'><time timestamp='2017-05-04T19:10:00Z'>19:10</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
BlueMatt: that requires non-hardened derivation
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925000' id='544040'>
<a class='timestamp' href='#544040'><time timestamp='2017-05-04T19:10:00Z'>19:10</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
BlueMatt: IMO encryption (private key wallets) with public key derivation should be avoided
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925000' id='544041'>
<a class='timestamp' href='#544041'><time timestamp='2017-05-04T19:10:00Z'>19:10</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
sipa: yes, is that a concern?
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925000' id='544042'>
<a class='timestamp' href='#544042'><time timestamp='2017-05-04T19:10:00Z'>19:10</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
BlueMatt: yes, we have a dumpprivkey command
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925000' id='544043'>
<a class='timestamp' href='#544043'><time timestamp='2017-05-04T19:10:00Z'>19:10</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
We should aim – longterm – for watchonly-hd (see NicolasDorier workd) and add a signing-agent ala gpg / ssh
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925000' id='544044'>
<a class='timestamp' href='#544044'><time timestamp='2017-05-04T19:10:00Z'>19:10</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
leaking one private key means you leak your whole walley
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925060' id='544045'>
<a class='timestamp' href='#544045'><time timestamp='2017-05-04T19:11:00Z'>19:11</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
jonasschnelli: why? your list of funds is already public to the encrypted wallet holders? that wouldnt change?
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925060' id='544046'>
<a class='timestamp' href='#544046'><time timestamp='2017-05-04T19:11:00Z'>19:11</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
But that is alredy the next topic. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925060' id='544047'>
<a class='timestamp' href='#544047'><time timestamp='2017-05-04T19:11:00Z'>19:11</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
sipa: dumpprivkey isn&#x27;t supposed to be safe
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925060' id='544048'>
<a class='timestamp' href='#544048'><time timestamp='2017-05-04T19:11:00Z'>19:11</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
luke-jr: i know
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925060' id='544049'>
<a class='timestamp' href='#544049'><time timestamp='2017-05-04T19:11:00Z'>19:11</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
but we could make it fail for non-hardened keys?
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925060' id='544050'>
<a class='timestamp' href='#544050'><time timestamp='2017-05-04T19:11:00Z'>19:11</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
luke-jr: but it breaks expectations
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925060' id='544051'>
<a class='timestamp' href='#544051'><time timestamp='2017-05-04T19:11:00Z'>19:11</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
people have a mental model about how it works
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925120' id='544052'>
<a class='timestamp' href='#544052'><time timestamp='2017-05-04T19:12:00Z'>19:12</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
sipa: maybe I&#x27;m confused on the format of HD...seems you can build a list of derivation secrets which is based on a non-encrypted private key which is unexportable?
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925120' id='544053'>
<a class='timestamp' href='#544053'><time timestamp='2017-05-04T19:12:00Z'>19:12</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
sipa: and then that would not be the case
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925120' id='544054'>
<a class='timestamp' href='#544054'><time timestamp='2017-05-04T19:12:00Z'>19:12</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Yes. But I vaguely remember that we once said we don&#x27;t want to mix private-key wallets with public key derivation... and this makes very much sense to me
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925120' id='544055'>
<a class='timestamp' href='#544055'><time timestamp='2017-05-04T19:12:00Z'>19:12</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
(dont know the format of HD, but we could do something else if its way better)
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925120' id='544056'>
<a class='timestamp' href='#544056'><time timestamp='2017-05-04T19:12:00Z'>19:12</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
BlueMatt: if you have the parent public key + private child key, you can compute all private child keys
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925120' id='544057'>
<a class='timestamp' href='#544057'><time timestamp='2017-05-04T19:12:00Z'>19:12</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
If we would do child pubkey derivation, keypools could be removed (at least for HD)
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925180' id='544058'>
<a class='timestamp' href='#544058'><time timestamp='2017-05-04T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
BlueMatt: that is an inevitable weakness of EC based derivation
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925180' id='544059'>
<a class='timestamp' href='#544059'><time timestamp='2017-05-04T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
What sipa said
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925180' id='544060'>
<a class='timestamp' href='#544060'><time timestamp='2017-05-04T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
BlueMatt: and it is reason why bip32 has hardened keys
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925180' id='544061'>
<a class='timestamp' href='#544061'><time timestamp='2017-05-04T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
which core uses
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925180' id='544062'>
<a class='timestamp' href='#544062'><time timestamp='2017-05-04T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
sipa: even if your list of privkeys is based on adding a new random value to the previous privkey where the new random value is just a hashchain of a private secret?
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925180' id='544063'>
<a class='timestamp' href='#544063'><time timestamp='2017-05-04T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
BlueMatt: then you lose public derivation
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925240' id='544064'>
<a class='timestamp' href='#544064'><time timestamp='2017-05-04T19:14:00Z'>19:14</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
(the ability to compute child pubkeys without knowing the parent privkey)
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925240' id='544065'>
<a class='timestamp' href='#544065'><time timestamp='2017-05-04T19:14:00Z'>19:14</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
lets take this offline
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925240' id='544066'>
<a class='timestamp' href='#544066'><time timestamp='2017-05-04T19:14:00Z'>19:14</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sounds good
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925240' id='544067'>
<a class='timestamp' href='#544067'><time timestamp='2017-05-04T19:14:00Z'>19:14</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
back to the topic: what GAP limit should we enforce by default?
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925240' id='544068'>
<a class='timestamp' href='#544068'><time timestamp='2017-05-04T19:14:00Z'>19:14</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
1000
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925240' id='544069'>
<a class='timestamp' href='#544069'><time timestamp='2017-05-04T19:14:00Z'>19:14</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
default keypool 10k
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925240' id='544070'>
<a class='timestamp' href='#544070'><time timestamp='2017-05-04T19:14:00Z'>19:14</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Yeah.. I like this
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925300' id='544071'>
<a class='timestamp' href='#544071'><time timestamp='2017-05-04T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
But only for encrypted wallets?
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925300' id='544072'>
<a class='timestamp' href='#544072'><time timestamp='2017-05-04T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
IMO we should (only encrypted)
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925300' id='544073'>
<a class='timestamp' href='#544073'><time timestamp='2017-05-04T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but in general i believe that most cases where the public derivation is wanted, just use huge precomputed key lists
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925300' id='544074'>
<a class='timestamp' href='#544074'><time timestamp='2017-05-04T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
non encrypted can say with 100
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925300' id='544075'>
<a class='timestamp' href='#544075'><time timestamp='2017-05-04T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jonasschnelli: meh
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925300' id='544076'>
<a class='timestamp' href='#544076'><time timestamp='2017-05-04T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
why bother differentiating?
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925300' id='544077'>
<a class='timestamp' href='#544077'><time timestamp='2017-05-04T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
why only encryption? I don&#x27;t think that makes sense.
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925300' id='544078'>
<a class='timestamp' href='#544078'><time timestamp='2017-05-04T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
True, the gap limit must be the same.. right
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925300' id='544079'>
<a class='timestamp' href='#544079'><time timestamp='2017-05-04T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sry     
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925300' id='544080'>
<a class='timestamp' href='#544080'><time timestamp='2017-05-04T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
less complexity please, and keys are cheap.
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925300' id='544081'>
<a class='timestamp' href='#544081'><time timestamp='2017-05-04T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Okay, ... I&#x27;ll bump it to 1000
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925360' id='544082'>
<a class='timestamp' href='#544082'><time timestamp='2017-05-04T19:16:00Z'>19:16</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jtimon opened pull request #10339: Optimization: Calculate block hash less times (master...b15-optimization-blockhash) <a href="https://github.com/bitcoin/bitcoin/pull/10339" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10339</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925360' id='544083'>
<a class='timestamp' href='#544083'><time timestamp='2017-05-04T19:16:00Z'>19:16</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Next question: the tests are mostly running with a keypool size of 1... so the gap limit stuff is only enforced for the new test in #10240 
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925360' id='544084'>
<a class='timestamp' href='#544084'><time timestamp='2017-05-04T19:16:00Z'>19:16</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/10240" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/10240</a> | Add HD wallet auto-restore functionality by jonasschnelli · Pull Request #10240 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925360' id='544085'>
<a class='timestamp' href='#544085'><time timestamp='2017-05-04T19:16:00Z'>19:16</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Is that a problem?
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925360' id='544086'>
<a class='timestamp' href='#544086'><time timestamp='2017-05-04T19:16:00Z'>19:16</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
jtimon: thanks for working on that.
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925420' id='544087'>
<a class='timestamp' href='#544087'><time timestamp='2017-05-04T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
(but maybe take the test question offline).
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925420' id='544088'>
<a class='timestamp' href='#544088'><time timestamp='2017-05-04T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Well,.. keypool size is answered... all good. Thanks for reviews. :p
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925420' id='544089'>
<a class='timestamp' href='#544089'><time timestamp='2017-05-04T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
gmaxwell: no problem, thank you for pointing it out the other day
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925540' id='544090'>
<a class='timestamp' href='#544090'><time timestamp='2017-05-04T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
other topics?
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925540' id='544091'>
<a class='timestamp' href='#544091'><time timestamp='2017-05-04T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
review, review, review, review, review :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925540' id='544092'>
<a class='timestamp' href='#544092'><time timestamp='2017-05-04T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yes, let&#x27;s go over priority reviews
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925600' id='544093'>
<a class='timestamp' href='#544093'><time timestamp='2017-05-04T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/projects/8" class="link" target="_blank">https://github.com/bitcoin/bitcoin/projects/8</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925600' id='544094'>
<a class='timestamp' href='#544094'><time timestamp='2017-05-04T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
#topic review requests
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925600' id='544095'>
<a class='timestamp' href='#544095'><time timestamp='2017-05-04T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
Can #9980 be merged? Might be some what controversial
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925600' id='544096'>
<a class='timestamp' href='#544096'><time timestamp='2017-05-04T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/9980" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/9980</a> | Fix mem access violation merkleblock by Christewart · Pull Request #9980 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925600' id='544097'>
<a class='timestamp' href='#544097'><time timestamp='2017-05-04T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
Chris_Stewart_5: we&#x27;re super backlogged on review right now :(
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925600' id='544098'>
<a class='timestamp' href='#544098'><time timestamp='2017-05-04T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
I thought jnewberry did a good job with the comments
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925600' id='544099'>
<a class='timestamp' href='#544099'><time timestamp='2017-05-04T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Chris_Stewart_5: I can&#x27;t see an tested or untested ACK there
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925660' id='544100'>
<a class='timestamp' href='#544100'><time timestamp='2017-05-04T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
like, super backlogged-not-gonna-get-everything-for-0.15 backlogged :(
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925660' id='544101'>
<a class='timestamp' href='#544101'><time timestamp='2017-05-04T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
That&#x27;s fine :-). Thought I would bring it up since asking for topics
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925660' id='544102'>
<a class='timestamp' href='#544102'><time timestamp='2017-05-04T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
we can add it to the review heap
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925720' id='544103'>
<a class='timestamp' href='#544103'><time timestamp='2017-05-04T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
can we remove #8694 until it gets fixed+rebased?
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925720' id='544104'>
<a class='timestamp' href='#544104'><time timestamp='2017-05-04T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/8694" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/8694</a> | Basic multiwallet support by luke-jr · Pull Request #8694 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925720' id='544105'>
<a class='timestamp' href='#544105'><time timestamp='2017-05-04T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
it seems to have been in a constant state of not-reviewable since it was added to the &quot;high priority for review&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925720' id='544106'>
<a class='timestamp' href='#544106'><time timestamp='2017-05-04T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
sorry, when it 0.15 feature freeze
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925720' id='544107'>
<a class='timestamp' href='#544107'><time timestamp='2017-05-04T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
luke-jr: plans to rebase it?
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925720' id='544108'>
<a class='timestamp' href='#544108'><time timestamp='2017-05-04T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
instagibbs: 2017-07-16
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925720' id='544109'>
<a class='timestamp' href='#544109'><time timestamp='2017-05-04T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
eep, ok
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925780' id='544110'>
<a class='timestamp' href='#544110'><time timestamp='2017-05-04T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I though MW was one of the high profiled features targets for 0.15..
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925780' id='544111'>
<a class='timestamp' href='#544111'><time timestamp='2017-05-04T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
is there anything else that needs to be done for #9494 ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925780' id='544112'>
<a class='timestamp' href='#544112'><time timestamp='2017-05-04T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
I just did? :/
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925780' id='544113'>
<a class='timestamp' href='#544113'><time timestamp='2017-05-04T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/9494" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/9494</a> | Introduce an ArgsManager class encapsulating cs_args, mapArgs and mapMultiArgs by jtimon · Pull Request #9494 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925780' id='544114'>
<a class='timestamp' href='#544114'><time timestamp='2017-05-04T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
sdaftuar: asks for #9208
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925780' id='544115'>
<a class='timestamp' href='#544115'><time timestamp='2017-05-04T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/9208" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/9208</a> | Improve DisconnectTip performance by sdaftuar · Pull Request #9208 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925780' id='544116'>
<a class='timestamp' href='#544116'><time timestamp='2017-05-04T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
not really sure how to address the mapMultiArgs thing
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925840' id='544117'>
<a class='timestamp' href='#544117'><time timestamp='2017-05-04T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
besides refactoring everything using it
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925840' id='544118'>
<a class='timestamp' href='#544118'><time timestamp='2017-05-04T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I add 9208 to the review-prio-list
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925840' id='544119'>
<a class='timestamp' href='#544119'><time timestamp='2017-05-04T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
on the list we have #8855 from me, which remains being simple to review
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925840' id='544120'>
<a class='timestamp' href='#544120'><time timestamp='2017-05-04T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/8855" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/8855</a> | Use a proper factory for creating chainparams by jtimon · Pull Request #8855 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925840' id='544121'>
<a class='timestamp' href='#544121'><time timestamp='2017-05-04T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
jonasschnelli: you already have one
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925840' id='544122'>
<a class='timestamp' href='#544122'><time timestamp='2017-05-04T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I really would like to see us get per-txout + atomic merged sooner rather than later, so we can get more testing time on the code. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925840' id='544123'>
<a class='timestamp' href='#544123'><time timestamp='2017-05-04T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
BlueMatt: It&#x27;s sdaftuar. :P
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925840' id='544124'>
<a class='timestamp' href='#544124'><time timestamp='2017-05-04T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
ohoh
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925840' id='544125'>
<a class='timestamp' href='#544125'><time timestamp='2017-05-04T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
yes, sorry
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925840' id='544126'>
<a class='timestamp' href='#544126'><time timestamp='2017-05-04T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
luke-jr: refactoring everything that uses mapMultiArgs is what #9494 does
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925840' id='544127'>
<a class='timestamp' href='#544127'><time timestamp='2017-05-04T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/9494" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/9494</a> | Introduce an ArgsManager class encapsulating cs_args, mapArgs and mapMultiArgs by jtimon · Pull Request #9494 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925840' id='544128'>
<a class='timestamp' href='#544128'><time timestamp='2017-05-04T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
No worries... I protect the ratio. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925900' id='544129'>
<a class='timestamp' href='#544129'><time timestamp='2017-05-04T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
jonasschnelli: I read that as &quot;add for me&quot;, not &quot;added&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925900' id='544130'>
<a class='timestamp' href='#544130'><time timestamp='2017-05-04T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
jtimon: k, I&#x27;ll take a look
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925900' id='544131'>
<a class='timestamp' href='#544131'><time timestamp='2017-05-04T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
jtimon, will review
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925900' id='544132'>
<a class='timestamp' href='#544132'><time timestamp='2017-05-04T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
gmaxwell: agreed
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925900' id='544133'>
<a class='timestamp' href='#544133'><time timestamp='2017-05-04T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
awesome, thanks
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925900' id='544134'>
<a class='timestamp' href='#544134'><time timestamp='2017-05-04T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
let&#x27;s put 9494 on the list this week
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925960' id='544135'>
<a class='timestamp' href='#544135'><time timestamp='2017-05-04T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
either way, #8694 probably needs deleted
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925960' id='544136'>
<a class='timestamp' href='#544136'><time timestamp='2017-05-04T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/8694" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/8694</a> | Basic multiwallet support by luke-jr · Pull Request #8694 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925960' id='544137'>
<a class='timestamp' href='#544137'><time timestamp='2017-05-04T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
BlueMatt: why?
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925960' id='544138'>
<a class='timestamp' href='#544138'><time timestamp='2017-05-04T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I guess soon we have to introduce a review/open-new-PR ratio (only allowed to open a PR is you have carefully reviewed other PRs)
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925960' id='544139'>
<a class='timestamp' href='#544139'><time timestamp='2017-05-04T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
luke-jr: because its not reviewable?
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925960' id='544140'>
<a class='timestamp' href='#544140'><time timestamp='2017-05-04T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
oh, from the list only, ok
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925960' id='544141'>
<a class='timestamp' href='#544141'><time timestamp='2017-05-04T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
yeayea
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925960' id='544142'>
<a class='timestamp' href='#544142'><time timestamp='2017-05-04T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i want to keep 8694 as a priority for 0.15
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925960' id='544143'>
<a class='timestamp' href='#544143'><time timestamp='2017-05-04T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
#8855 is already in the list by jtimon 
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925960' id='544144'>
<a class='timestamp' href='#544144'><time timestamp='2017-05-04T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/8855" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/8855</a> | Use a proper factory for creating chainparams by jtimon · Pull Request #8855 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1493925960' id='544145'>
<a class='timestamp' href='#544145'><time timestamp='2017-05-04T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
sipa: there&#x27;s already one from me on the list
<br>
</div>

<div class='talk op-msg' data-timestamp='1493926020' id='544146'>
<a class='timestamp' href='#544146'><time timestamp='2017-05-04T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
sipa: I&#x27;m just saying gotta remove it from the list because its not reviewable atm, even if we want it for 0.15
<br>
</div>

<div class='talk op-msg' data-timestamp='1493926020' id='544147'>
<a class='timestamp' href='#544147'><time timestamp='2017-05-04T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
BlueMatt: agree
<br>
</div>

<div class='talk op-msg' data-timestamp='1493926020' id='544148'>
<a class='timestamp' href='#544148'><time timestamp='2017-05-04T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jtimon: let&#x27;s focus on the args refactoring first... it seems that that will more easily go stale
<br>
</div>

<div class='talk op-msg' data-timestamp='1493926020' id='544149'>
<a class='timestamp' href='#544149'><time timestamp='2017-05-04T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
0.15 and priority-review are two diff lists for a reason; let&#x27;s do jtimon&#x27;s PR first
<br>
</div>

<div class='talk op-msg' data-timestamp='1493926080' id='544150'>
<a class='timestamp' href='#544150'><time timestamp='2017-05-04T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
luke-jr: agree
<br>
</div>

<div class='talk op-msg' data-timestamp='1493926080' id='544151'>
<a class='timestamp' href='#544151'><time timestamp='2017-05-04T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
any further topics?
<br>
</div>

<div class='talk op-msg' data-timestamp='1493926140' id='544152'>
<a class='timestamp' href='#544152'><time timestamp='2017-05-04T19:29:00Z'>19:29</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sipa: where are things with per-txo?
<br>
</div>

<div class='talk op-msg' data-timestamp='1493926140' id='544153'>
<a class='timestamp' href='#544153'><time timestamp='2017-05-04T19:29:00Z'>19:29</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
#10195
<br>
</div>

<div class='talk op-msg' data-timestamp='1493926140' id='544154'>
<a class='timestamp' href='#544154'><time timestamp='2017-05-04T19:29:00Z'>19:29</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/10195" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/10195</a> | Switch chainstate db and cache to per-txout model by sipa · Pull Request #10195 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1493926140' id='544155'>
<a class='timestamp' href='#544155'><time timestamp='2017-05-04T19:29:00Z'>19:29</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
gmaxwell: needs more review, could use side-by-side benchmarks incl: memory usage, disk usage, performance numbers
<br>
</div>

<div class='talk op-msg' data-timestamp='1493926140' id='544156'>
<a class='timestamp' href='#544156'><time timestamp='2017-05-04T19:29:00Z'>19:29</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yes, i&#x27;m planning to do benchmarks
<br>
</div>

<div class='talk op-msg' data-timestamp='1493926200' id='544157'>
<a class='timestamp' href='#544157'><time timestamp='2017-05-04T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
BlueMatt: &quot;much faster&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1493926200' id='544158'>
<a class='timestamp' href='#544158'><time timestamp='2017-05-04T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
other todos are better upgrade code (with a fancy progress bar...), that doesn&#x27;t leave gigabytes of uncompacted data in the chainstate
<br>
</div>

<div class='talk op-msg' data-timestamp='1493926200' id='544159'>
<a class='timestamp' href='#544159'><time timestamp='2017-05-04T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but i believe it is functionally complete and tested
<br>
</div>

<div class='talk op-msg' data-timestamp='1493926260' id='544160'>
<a class='timestamp' href='#544160'><time timestamp='2017-05-04T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
alright, if there are no more topics I&#x27;d emplore people to keep reviewing the big 0.15 things, since it looks like we&#x27;re gonna slip a few, which is sad
<br>
</div>

<div class='talk op-msg' data-timestamp='1493926260' id='544161'>
<a class='timestamp' href='#544161'><time timestamp='2017-05-04T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it seems to make the chainstate some 20% larger
<br>
</div>

<div class='talk op-msg' data-timestamp='1493926320' id='544162'>
<a class='timestamp' href='#544162'><time timestamp='2017-05-04T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i&#x27;ll report numbers on the PR, no need to discuss here
<br>
</div>

<div class='talk op-msg' data-timestamp='1493926320' id='544163'>
<a class='timestamp' href='#544163'><time timestamp='2017-05-04T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
BlueMatt: ack
<br>
</div>

<div class='talk op-msg' data-timestamp='1493926320' id='544164'>
<a class='timestamp' href='#544164'><time timestamp='2017-05-04T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
#endmeeting
<br>
</div>

<div class='talk op-msg' data-timestamp='1493926320' id='544165'>
<a class='timestamp' href='#544165'><time timestamp='2017-05-04T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Meeting ended Thu May  4 19:32:31 2017 UTC.  Information about MeetBot at <a href="http://wiki.debian.org/MeetBot" class="link" target="_blank">http://wiki.debian.org/MeetBot</a> . (v 0.1.4)
<br>
</div>

<div class='talk op-msg' data-timestamp='1493926320' id='544166'>
<a class='timestamp' href='#544166'><time timestamp='2017-05-04T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Minutes:        <a href="http://www.erisian.com.au/meetbot/bitcoin-core-dev/2017/bitcoin-core-dev.2017-05-04-19.01.html" class="link" target="_blank">http://www.erisian.com.au/meetbot/bitcoin-core-dev/2017/bitcoin-core-dev.2017-05-04-19.01.html</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1493926320' id='544167'>
<a class='timestamp' href='#544167'><time timestamp='2017-05-04T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Minutes (text): <a href="http://www.erisian.com.au/meetbot/bitcoin-core-dev/2017/bitcoin-core-dev.2017-05-04-19.01.txt" class="link" target="_blank">http://www.erisian.com.au/meetbot/bitcoin-core-dev/2017/bitcoin-core-dev.2017-05-04-19.01.txt</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1493926320' id='544168'>
<a class='timestamp' href='#544168'><time timestamp='2017-05-04T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-4'> lightningbot</span>&gt;
Log:            <a href="http://www.erisian.com.au/meetbot/bitcoin-core-dev/2017/bitcoin-core-dev.2017-05-04-19.01.log.html" class="link" target="_blank">http://www.erisian.com.au/meetbot/bitcoin-core-dev/2017/bitcoin-core-dev.2017-05-04-19.01.log.html</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1493926320' id='544169'>
<a class='timestamp' href='#544169'><time timestamp='2017-05-04T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
#topic lunch
<br>
</div>

<div class='talk op-msg' data-timestamp='1493926320' id='544170'>
<a class='timestamp' href='#544170'><time timestamp='2017-05-04T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
._.     
<br>
</div>

<div class='talk op-msg' data-timestamp='1493926380' id='544171'>
<a class='timestamp' href='#544171'><time timestamp='2017-05-04T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sipa: those 120% happens also for the in-memory dbcache?
<br>
</div>

<div class='talk op-msg' data-timestamp='1493926380' id='544172'>
<a class='timestamp' href='#544172'><time timestamp='2017-05-04T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
*those +20%
<br>
</div>

<div class='talk op-msg' data-timestamp='1493926380' id='544173'>
<a class='timestamp' href='#544173'><time timestamp='2017-05-04T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jonasschnelli: in memory it&#x27;s much more
<br>
</div>

<div class='talk op-msg' data-timestamp='1493926380' id='544174'>
<a class='timestamp' href='#544174'><time timestamp='2017-05-04T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but that&#x27;s not a fair comparison
<br>
</div>

<div class='talk op-msg' data-timestamp='1493926380' id='544175'>
<a class='timestamp' href='#544175'><time timestamp='2017-05-04T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
of &quot;preparation PRs&quot; for 10195: 10249 10250 have been merged, 10248 has not, still 24 commits...
<br>
</div>

<div class='talk op-msg' data-timestamp='1493926380' id='544176'>
<a class='timestamp' href='#544176'><time timestamp='2017-05-04T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
as it&#x27;s much more granular, fewer cached outputs may have better performamce
<br>
</div>

<div class='talk op-msg' data-timestamp='1493926440' id='544177'>
<a class='timestamp' href='#544177'><time timestamp='2017-05-04T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
#10248
<br>
</div>

<div class='talk op-msg' data-timestamp='1493926440' id='544178'>
<a class='timestamp' href='#544178'><time timestamp='2017-05-04T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/10248" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/10248</a> | Introduce CHashVerifier to hash while deserializing by sipa · Pull Request #10248 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1493926440' id='544179'>
<a class='timestamp' href='#544179'><time timestamp='2017-05-04T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jtimon: most are small, but yes, it&#x27;s a big change
<br>
</div>

<div class='talk op-msg' data-timestamp='1493926500' id='544180'>
<a class='timestamp' href='#544180'><time timestamp='2017-05-04T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
also #10199 is pretty critical for 0.15
<br>
</div>

<div class='talk op-msg' data-timestamp='1493926500' id='544181'>
<a class='timestamp' href='#544181'><time timestamp='2017-05-04T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/10199" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/10199</a> | Better fee estimates by morcos · Pull Request #10199 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1493926500' id='544182'>
<a class='timestamp' href='#544182'><time timestamp='2017-05-04T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
yeah, I was just wondering if further preparations could be separated, to make review less scary, but in the end they will be the same commits
<br>
</div>

<div class='talk op-msg' data-timestamp='1493926500' id='544183'>
<a class='timestamp' href='#544183'><time timestamp='2017-05-04T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-16'> * BlueMatt</span>&gt;
votes for 10199 as most-critical user-facing feature, maybe multiwallet too
<br>
</div>

<div class='talk op-msg' data-timestamp='1493926500' id='544184'>
<a class='timestamp' href='#544184'><time timestamp='2017-05-04T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
I think #10189 is ready to go, and it&#x27;s blocking a few people. jtimon at least.
<br>
</div>

<div class='talk op-msg' data-timestamp='1493926500' id='544185'>
<a class='timestamp' href='#544185'><time timestamp='2017-05-04T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/10189" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/10189</a> | devtools/net: add a verifier for scriptable changes. Use it to make CNode::id private. by theuni · Pull Request #10189 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1493926500' id='544186'>
<a class='timestamp' href='#544186'><time timestamp='2017-05-04T19:35:00Z'>19:35</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i could use 10189 for some of the changes in 10195 as well
<br>
</div>

<div class='talk op-msg' data-timestamp='1493926680' id='544187'>
<a class='timestamp' href='#544187'><time timestamp='2017-05-04T19:38:00Z'>19:38</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
cfields: not really blocking (scripted-diff PRs can be done without the script for travis being merged and review should be similar), but yeah, I think it&#x27;s ready to go too. I drafted some documentation, maybe that helps: <a href="https://0bin.net/paste/mTtIoaSoedZ3al-y#dWgD7aBKElhKofVS5nHJBvuvlDLRFmgRy8a03KroOFM" class="link" target="_blank">https://0bin.net/paste/mTtIoaSoedZ3al-y#dWgD7aBKElhKofVS5nHJBvuvlDLRFmgRy8a03KroOFM</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1493926860' id='544188'>
<a class='timestamp' href='#544188'><time timestamp='2017-05-04T19:41:00Z'>19:41</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jtimon: looks like something for developer-notes.md
<br>
</div>

<div class='talk op-msg' data-timestamp='1493926860' id='544189'>
<a class='timestamp' href='#544189'><time timestamp='2017-05-04T19:41:00Z'>19:41</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
jtimon: thanks!
<br>
</div>

<div class='talk op-msg' data-timestamp='1493926920' id='544190'>
<a class='timestamp' href='#544190'><time timestamp='2017-05-04T19:42:00Z'>19:42</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
jtimon: not sure what 3) is saying through
<br>
</div>

<div class='talk op-msg' data-timestamp='1493926920' id='544191'>
<a class='timestamp' href='#544191'><time timestamp='2017-05-04T19:42:00Z'>19:42</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
sipa: right, well, cfields feel free to use whatever parts of it make sense to you
<br>
</div>

<div class='talk op-msg' data-timestamp='1493926920' id='544192'>
<a class='timestamp' href='#544192'><time timestamp='2017-05-04T19:42:00Z'>19:42</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
jtimon: lgtm, I&#x27;m just not following that one part
<br>
</div>

<div class='talk op-msg' data-timestamp='1493926980' id='544193'>
<a class='timestamp' href='#544193'><time timestamp='2017-05-04T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
well, I needed point 3 because I was some times editing the script trying to do more specific things, so I didn&#x27;t want to keep changes done by an earlier version of the script or by me manually because I stupid and I forget the commit should only do what the script does and nothing else or something
<br>
</div>

<div class='talk op-msg' data-timestamp='1493927040' id='544194'>
<a class='timestamp' href='#544194'><time timestamp='2017-05-04T19:44:00Z'>19:44</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
maybe we can keep it out, I don&#x27;t know
<br>
</div>

<div class='talk op-msg' data-timestamp='1493927100' id='544195'>
<a class='timestamp' href='#544195'><time timestamp='2017-05-04T19:45:00Z'>19:45</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
jtimon: oh, i see.
<br>
</div>

<div class='talk op-msg' data-timestamp='1493927220' id='544196'>
<a class='timestamp' href='#544196'><time timestamp='2017-05-04T19:47:00Z'>19:47</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
jtimon: maybe just say &quot;1) Writer: apply your script to a clean tree and commit with an appropriate message:&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1493927220' id='544197'>
<a class='timestamp' href='#544197'><time timestamp='2017-05-04T19:47:00Z'>19:47</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
then list the other steps. I was confused because you mention committing before running the script :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1493927400' id='544198'>
<a class='timestamp' href='#544198'><time timestamp='2017-05-04T19:50:00Z'>19:50</time></a>
&lt;<span class='nick nick-3'> praxeology</span>&gt;
While upgrading the chainstate to keying on id+o.ix, does it pretty much freeze the init process of the program?
<br>
</div>

<div class='talk op-msg' data-timestamp='1493927400' id='544199'>
<a class='timestamp' href='#544199'><time timestamp='2017-05-04T19:50:00Z'>19:50</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
praxeology: yeah...
<br>
</div>

<div class='talk op-msg' data-timestamp='1493927400' id='544200'>
<a class='timestamp' href='#544200'><time timestamp='2017-05-04T19:50:00Z'>19:50</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
praxeology: and it takes a while
<br>
</div>

<div class='talk op-msg' data-timestamp='1493927460' id='544201'>
<a class='timestamp' href='#544201'><time timestamp='2017-05-04T19:51:00Z'>19:51</time></a>
&lt;<span class='nick nick-3'> praxeology</span>&gt;
Sounds like you are using the same db, not trying to make a new one?
<br>
</div>

<div class='talk op-msg' data-timestamp='1493927460' id='544202'>
<a class='timestamp' href='#544202'><time timestamp='2017-05-04T19:51:00Z'>19:51</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
indeed
<br>
</div>

<div class='talk op-msg' data-timestamp='1493927460' id='544203'>
<a class='timestamp' href='#544203'><time timestamp='2017-05-04T19:51:00Z'>19:51</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
cfields: yeah that may do it without explicitly saying the &quot;git checkout .&quot; trick
<br>
</div>

<div class='talk op-msg' data-timestamp='1493927460' id='544204'>
<a class='timestamp' href='#544204'><time timestamp='2017-05-04T19:51:00Z'>19:51</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
praxeology: it&#x27;s an in-place upgrade, and it is interruotible
<br>
</div>

<div class='talk op-msg' data-timestamp='1493927580' id='544205'>
<a class='timestamp' href='#544205'><time timestamp='2017-05-04T19:53:00Z'>19:53</time></a>
&lt;<span class='nick nick-3'> praxeology</span>&gt;
interruptible?  so you make the new entries, then delete the old ones?  and if interrupt, you delete the new ones?
<br>
</div>

<div class='talk op-msg' data-timestamp='1493927760' id='544206'>
<a class='timestamp' href='#544206'><time timestamp='2017-05-04T19:56:00Z'>19:56</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it adds and deletes simultaneously, atomically
<br>
</div>

<div class='talk op-msg' data-timestamp='1493927760' id='544207'>
<a class='timestamp' href='#544207'><time timestamp='2017-05-04T19:56:00Z'>19:56</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
you can just kill it at any point
<br>
</div>

<div class='talk op-msg' data-timestamp='1493927820' id='544208'>
<a class='timestamp' href='#544208'><time timestamp='2017-05-04T19:57:00Z'>19:57</time></a>
&lt;<span class='nick nick-3'> praxeology</span>&gt;
so the new code can handle lookup and  editing of both kinds of entries?
<br>
</div>

<div class='talk op-msg' data-timestamp='1493928000' id='544209'>
<a class='timestamp' href='#544209'><time timestamp='2017-05-04T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-3'> praxeology</span>&gt;
I guess it doesn&#x27;t matter that much if  I understand how it works if I&#x27;m not going to help code review/test/code the progress UI
<br>
</div>

<div class='talk op-msg' data-timestamp='1493928000' id='544210'>
<a class='timestamp' href='#544210'><time timestamp='2017-05-04T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
praxeology: no, at startup it just iterates through all old entries and converts them
<br>
</div>

<div class='talk op-msg' data-timestamp='1493928060' id='544211'>
<a class='timestamp' href='#544211'><time timestamp='2017-05-04T20:01:00Z'>20:01</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
if you interrupt during that conversion, you need to continue later
<br>
</div>

<div class='talk op-msg' data-timestamp='1493928060' id='544212'>
<a class='timestamp' href='#544212'><time timestamp='2017-05-04T20:01:00Z'>20:01</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but by interruptible i mean you don&#x27;t lose progress from doing that
<br>
</div>

<div class='talk op-msg' data-timestamp='1493928060' id='544213'>
<a class='timestamp' href='#544213'><time timestamp='2017-05-04T20:01:00Z'>20:01</time></a>
&lt;<span class='nick nick-3'> praxeology</span>&gt;
&quot;need to continue later&quot; or else your client doesn&#x27;t process new blocks/transactions?
<br>
</div>

<div class='talk op-msg' data-timestamp='1493928120' id='544214'>
<a class='timestamp' href='#544214'><time timestamp='2017-05-04T20:02:00Z'>20:02</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
when the software restarts it will continue where it left off.
<br>
</div>

<div class='talk op-msg' data-timestamp='1493928120' id='544215'>
<a class='timestamp' href='#544215'><time timestamp='2017-05-04T20:02:00Z'>20:02</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
this is all in the init process before it even makes any connections to anything.
<br>
</div>

<div class='talk op-msg' data-timestamp='1493928120' id='544216'>
<a class='timestamp' href='#544216'><time timestamp='2017-05-04T20:02:00Z'>20:02</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
praxeology: by interrupt i mean you quit during the conversion
<br>
</div>

<div class='talk op-msg' data-timestamp='1493928120' id='544217'>
<a class='timestamp' href='#544217'><time timestamp='2017-05-04T20:02:00Z'>20:02</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
praxeology: the node can&#x27;t do anything until the conversion is complete
<br>
</div>

<div class='talk op-msg' data-timestamp='1493928180' id='544218'>
<a class='timestamp' href='#544218'><time timestamp='2017-05-04T20:03:00Z'>20:03</time></a>
&lt;<span class='nick nick-3'> praxeology</span>&gt;
ok I see
<br>
</div>

<div class='talk op-msg' data-timestamp='1493928240' id='544219'>
<a class='timestamp' href='#544219'><time timestamp='2017-05-04T20:04:00Z'>20:04</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it would be possible to do the conversion on the fly, but it would result in a long term slowdown
<br>
</div>

<div class='talk op-msg' data-timestamp='1493928240' id='544220'>
<a class='timestamp' href='#544220'><time timestamp='2017-05-04T20:04:00Z'>20:04</time></a>
&lt;<span class='nick nick-3'> praxeology</span>&gt;
also more complicated code that only need be used once
<br>
</div>

<div class='talk op-msg' data-timestamp='1493928300' id='544221'>
<a class='timestamp' href='#544221'><time timestamp='2017-05-04T20:05:00Z'>20:05</time></a>
&lt;<span class='nick nick-3'> praxeology</span>&gt;
Are you making the upgrade optional?
<br>
</div>

<div class='talk op-msg' data-timestamp='1493928300' id='544222'>
<a class='timestamp' href='#544222'><time timestamp='2017-05-04T20:05:00Z'>20:05</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
no     
<br>
</div>

<div class='talk op-msg' data-timestamp='1493928360' id='544223'>
<a class='timestamp' href='#544223'><time timestamp='2017-05-04T20:06:00Z'>20:06</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
the new database code cannot read or write the old format anymore, and supporting that would be complicated and slow
<br>
</div>

<div class='talk op-msg' data-timestamp='1493928360' id='544224'>
<a class='timestamp' href='#544224'><time timestamp='2017-05-04T20:06:00Z'>20:06</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
It&#x27;s optional: don&#x27;t use newer software if you don&#x27;t want it upgrading.
<br>
</div>

<div class='talk op-msg' data-timestamp='1493928360' id='544225'>
<a class='timestamp' href='#544225'><time timestamp='2017-05-04T20:06:00Z'>20:06</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
:)     
<br>
</div>

<div class='talk op-msg' data-timestamp='1493928360' id='544226'>
<a class='timestamp' href='#544226'><time timestamp='2017-05-04T20:06:00Z'>20:06</time></a>
&lt;<span class='nick nick-3'> praxeology</span>&gt;
Alrighty... I can see why this would be a delayed commit to the main branch.
<br>
</div>

<div class='talk op-msg' data-timestamp='1493928480' id='544227'>
<a class='timestamp' href='#544227'><time timestamp='2017-05-04T20:08:00Z'>20:08</time></a>
&lt;<span class='nick nick-3'> praxeology</span>&gt;
I wish I could clone myself
<br>
</div>

<div class='talk op-msg' data-timestamp='1493928480' id='544228'>
<a class='timestamp' href='#544228'><time timestamp='2017-05-04T20:08:00Z'>20:08</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
praxeology: we do not do development in master. (few large OSS projects that use Git do)-- things that go into master are at least believed to be done and more or less releasable.
<br>
</div>

<div class='talk op-msg' data-timestamp='1493928540' id='544229'>
<a class='timestamp' href='#544229'><time timestamp='2017-05-04T20:09:00Z'>20:09</time></a>
&lt;<span class='nick nick-3'> praxeology</span>&gt;
Yea I know.  I am saying that I see why this feature is/may be pushed back to later and later release versions due to the requirement of locking up the node for... how long does it take to process that 2GB of data?
<br>
</div>

<div class='talk op-msg' data-timestamp='1493928600' id='544230'>
<a class='timestamp' href='#544230'><time timestamp='2017-05-04T20:10:00Z'>20:10</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
maybe an hour on slow hardware
<br>
</div>

<div class='talk op-msg' data-timestamp='1493928600' id='544231'>
<a class='timestamp' href='#544231'><time timestamp='2017-05-04T20:10:00Z'>20:10</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
slow disk, mostly
<br>
</div>

<div class='talk op-msg' data-timestamp='1493928600' id='544232'>
<a class='timestamp' href='#544232'><time timestamp='2017-05-04T20:10:00Z'>20:10</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
15 minutes minutes on fast hardware, I&#x27;d guess?
<br>
</div>

<div class='talk op-msg' data-timestamp='1493928600' id='544233'>
<a class='timestamp' href='#544233'><time timestamp='2017-05-04T20:10:00Z'>20:10</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yeah
<br>
</div>

<div class='talk op-msg' data-timestamp='1493928600' id='544234'>
<a class='timestamp' href='#544234'><time timestamp='2017-05-04T20:10:00Z'>20:10</time></a>
&lt;<span class='nick nick-3'> praxeology</span>&gt;
and then is leveldb optimized to handle such a db transformation?  And does it compress well after deleting all the old entries?
<br>
</div>

<div class='talk op-msg' data-timestamp='1493928660' id='544235'>
<a class='timestamp' href='#544235'><time timestamp='2017-05-04T20:11:00Z'>20:11</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
nope, it seems
<br>
</div>

<div class='talk op-msg' data-timestamp='1493928660' id='544236'>
<a class='timestamp' href='#544236'><time timestamp='2017-05-04T20:11:00Z'>20:11</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but there is an explicit call to ask it to compact
<br>
</div>

<div class='talk op-msg' data-timestamp='1493928660' id='544237'>
<a class='timestamp' href='#544237'><time timestamp='2017-05-04T20:11:00Z'>20:11</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
which i&#x27;ll experiment with
<br>
</div>

<div class='talk op-msg' data-timestamp='1493928660' id='544238'>
<a class='timestamp' href='#544238'><time timestamp='2017-05-04T20:11:00Z'>20:11</time></a>
&lt;<span class='nick nick-3'> praxeology</span>&gt;
Why not create a new db?
<br>
</div>

<div class='talk op-msg' data-timestamp='1493928720' id='544239'>
<a class='timestamp' href='#544239'><time timestamp='2017-05-04T20:12:00Z'>20:12</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
Why create a new db?
<br>
</div>

<div class='talk op-msg' data-timestamp='1493928720' id='544240'>
<a class='timestamp' href='#544240'><time timestamp='2017-05-04T20:12:00Z'>20:12</time></a>
&lt;<span class='nick nick-3'> praxeology</span>&gt;
if leveldb has bad performance w/ this sort of transformation
<br>
</div>

<div class='talk op-msg' data-timestamp='1493928720' id='544241'>
<a class='timestamp' href='#544241'><time timestamp='2017-05-04T20:12:00Z'>20:12</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
calling db.CompactRange(); is much simpler than dealing with multiple database at once during the conversion
<br>
</div>

<div class='talk op-msg' data-timestamp='1493928780' id='544242'>
<a class='timestamp' href='#544242'><time timestamp='2017-05-04T20:13:00Z'>20:13</time></a>
&lt;<span class='nick nick-3'> praxeology</span>&gt;
because you want atomic?
<br>
</div>

<div class='talk op-msg' data-timestamp='1493928780' id='544243'>
<a class='timestamp' href='#544243'><time timestamp='2017-05-04T20:13:00Z'>20:13</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
praxeology: it doesn&#x27;t have bad performance.
<br>
</div>

<div class='talk op-msg' data-timestamp='1493928780' id='544244'>
<a class='timestamp' href='#544244'><time timestamp='2017-05-04T20:13:00Z'>20:13</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
praxeology: no...
<br>
</div>

<div class='talk op-msg' data-timestamp='1493928840' id='544245'>
<a class='timestamp' href='#544245'><time timestamp='2017-05-04T20:14:00Z'>20:14</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
praxeology: the argument you&#x27;re bringing up in favor of multiple databases is because leveldb doesn&#x27;t deal well with the conversion
<br>
</div>

<div class='talk op-msg' data-timestamp='1493928840' id='544246'>
<a class='timestamp' href='#544246'><time timestamp='2017-05-04T20:14:00Z'>20:14</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i offer an alternative to having multiple databases at once which also deals well with the conversion
<br>
</div>

<div class='talk op-msg' data-timestamp='1493928840' id='544247'>
<a class='timestamp' href='#544247'><time timestamp='2017-05-04T20:14:00Z'>20:14</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
which is simpler
<br>
</div>

<div class='talk op-msg' data-timestamp='1493928840' id='544248'>
<a class='timestamp' href='#544248'><time timestamp='2017-05-04T20:14:00Z'>20:14</time></a>
&lt;<span class='nick nick-3'> praxeology</span>&gt;
ok     
<br>
</div>

<div class='talk op-msg' data-timestamp='1493928840' id='544249'>
<a class='timestamp' href='#544249'><time timestamp='2017-05-04T20:14:00Z'>20:14</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
You need to ask it to free the space or its very lazy about it, thats all. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1493928900' id='544250'>
<a class='timestamp' href='#544250'><time timestamp='2017-05-04T20:15:00Z'>20:15</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Unrelated, while watching a debug=1 logging rescan.. why is it battering out leveldb activity during rescan?
<br>
</div>

<div class='talk op-msg' data-timestamp='1493928960' id='544251'>
<a class='timestamp' href='#544251'><time timestamp='2017-05-04T20:16:00Z'>20:16</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: huh
<br>
</div>

<div class='talk op-msg' data-timestamp='1493928960' id='544252'>
<a class='timestamp' href='#544252'><time timestamp='2017-05-04T20:16:00Z'>20:16</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
<a href="https://0bin.net/paste/VZ72NOA3G8n-lgpF#FXx9b3te-4BbUbBH7BfGjjpXOOWUiJmL1YToCU6HRHG" class="link" target="_blank">https://0bin.net/paste/VZ72NOA3G8n-lgpF#FXx9b3te-4BbUbBH7BfGjjpXOOWUiJmL1YToCU6HRHG</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1493929020' id='544253'>
<a class='timestamp' href='#544253'><time timestamp='2017-05-04T20:17:00Z'>20:17</time></a>
&lt;<span class='nick nick-3'> praxeology</span>&gt;
ah, so CompactRange() will just clean up a sorted key range of the db?  Which could be done incrementally along with a process that alters the format with a sorted key iterator
<br>
</div>

<div class='talk op-msg' data-timestamp='1493929020' id='544254'>
<a class='timestamp' href='#544254'><time timestamp='2017-05-04T20:17:00Z'>20:17</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
the repeatedbash is the some instrumentation I added to count repeated hashings of the block header.. every 6 or so of those is processing a new block.
<br>
</div>

<div class='talk op-msg' data-timestamp='1493929020' id='544255'>
<a class='timestamp' href='#544255'><time timestamp='2017-05-04T20:17:00Z'>20:17</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
praxeology: ya, thats what he&#x27;s going to have it do now. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1493929020' id='544256'>
<a class='timestamp' href='#544256'><time timestamp='2017-05-04T20:17:00Z'>20:17</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: that looks like just background compactions
<br>
</div>

<div class='talk op-msg' data-timestamp='1493929080' id='544257'>
<a class='timestamp' href='#544257'><time timestamp='2017-05-04T20:18:00Z'>20:18</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
e.g. every time the leading byte of the key changes, compact. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1493929260' id='544258'>
<a class='timestamp' href='#544258'><time timestamp='2017-05-04T20:21:00Z'>20:21</time></a>
&lt;<span class='nick nick-3'> praxeology</span>&gt;
I&#x27;ve heard rumors that leveldb is unreliable.  Is that still true?
<br>
</div>

<div class='talk op-msg' data-timestamp='1493929260' id='544259'>
<a class='timestamp' href='#544259'><time timestamp='2017-05-04T20:21:00Z'>20:21</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
praxeology: see my answer here <a href="https://bitcoin.stackexchange.com/a/51446/208" class="link" target="_blank">https://bitcoin.stackexchange.com/a/51446/208</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1493929500' id='544260'>
<a class='timestamp' href='#544260'><time timestamp='2017-05-04T20:25:00Z'>20:25</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
praxeology: a lot of those rumors are a result of several things (1) (primary) leveldb has agressive checking and will actually catch lower level corruption that other things miss,  (2) there there is no windows filesystem interface for leveldb and the one we previously used was incorrect, leading to unnecessary corruption with unclean shutdowns, (3) there is a usenix paper that panned leveldb f
<br>
</div>

<div class='talk op-msg' data-timestamp='1493929500' id='544261'>
<a class='timestamp' href='#544261'><time timestamp='2017-05-04T20:25:00Z'>20:25</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
or not handling crashes given worst case behavior of the the VFS contract that they inferred. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1493929500' id='544262'>
<a class='timestamp' href='#544262'><time timestamp='2017-05-04T20:25:00Z'>20:25</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(3) appears to be completely inconsequential in practice, e.g. I left systems running for months in constant high load plus crash loops and it always recovered.  
<br>
</div>

<div class='talk op-msg' data-timestamp='1493929560' id='544263'>
<a class='timestamp' href='#544263'><time timestamp='2017-05-04T20:26:00Z'>20:26</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
When we do get reliablity reports from users we sometimes investigate them in detail, and frequently find actual disk corruption.
<br>
</div>

<div class='talk op-msg' data-timestamp='1493929560' id='544264'>
<a class='timestamp' href='#544264'><time timestamp='2017-05-04T20:26:00Z'>20:26</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Unfortunately, there is a lot of windows-grade hardware out there. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1493929560' id='544265'>
<a class='timestamp' href='#544265'><time timestamp='2017-05-04T20:26:00Z'>20:26</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
or overheating CPUs
<br>
</div>

<div class='talk op-msg' data-timestamp='1493929620' id='544266'>
<a class='timestamp' href='#544266'><time timestamp='2017-05-04T20:27:00Z'>20:27</time></a>
&lt;<span class='nick nick-3'> praxeology</span>&gt;
I would guess memory failure would be more common that cpu failure in my experience
<br>
</div>

<div class='talk op-msg' data-timestamp='1493929620' id='544267'>
<a class='timestamp' href='#544267'><time timestamp='2017-05-04T20:27:00Z'>20:27</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
yes, esp laptops, many brands of laptop cannot be run at full speed for an hour at a time without actually ending up with apparent &#x27;memory&#x27; corruption. (presumably cpu caches). 
<br>
</div>

<div class='talk op-msg' data-timestamp='1493929680' id='544268'>
<a class='timestamp' href='#544268'><time timestamp='2017-05-04T20:28:00Z'>20:28</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
praxeology: i would think so too, but that&#x27;s not very consistent with what we&#x27;re seeing (for example, for some people, running with -par=1 actually improves things)
<br>
</div>

<div class='talk op-msg' data-timestamp='1493929740' id='544269'>
<a class='timestamp' href='#544269'><time timestamp='2017-05-04T20:29:00Z'>20:29</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
well it could be ram which behaves more poorly with the cpu taxing the power rails and making things hot. who knows. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1493929800' id='544270'>
<a class='timestamp' href='#544270'><time timestamp='2017-05-04T20:30:00Z'>20:30</time></a>
&lt;<span class='nick nick-3'> praxeology</span>&gt;
I&#x27;ve had terrible experience with cheap consumer memory from lower cost computer brands, when operating under load
<br>
</div>

<div class='talk op-msg' data-timestamp='1493929800' id='544271'>
<a class='timestamp' href='#544271'><time timestamp='2017-05-04T20:30:00Z'>20:30</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i think we&#x27;re seeing fewer db corruptions than a few years ago
<br>
</div>

<div class='talk op-msg' data-timestamp='1493929860' id='544272'>
<a class='timestamp' href='#544272'><time timestamp='2017-05-04T20:31:00Z'>20:31</time></a>
&lt;<span class='nick nick-3'> praxeology</span>&gt;
Are you saying there are still issues with crash recovery in windows?
<br>
</div>

<div class='talk op-msg' data-timestamp='1493929860' id='544273'>
<a class='timestamp' href='#544273'><time timestamp='2017-05-04T20:31:00Z'>20:31</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that may be due to better windows env support in leveldb
<br>
</div>

<div class='talk op-msg' data-timestamp='1493929860' id='544274'>
<a class='timestamp' href='#544274'><time timestamp='2017-05-04T20:31:00Z'>20:31</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
or due to people running on better hardware
<br>
</div>

<div class='talk op-msg' data-timestamp='1493929860' id='544275'>
<a class='timestamp' href='#544275'><time timestamp='2017-05-04T20:31:00Z'>20:31</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
or just fewer people running bitcoin core on windows
<br>
</div>

<div class='talk op-msg' data-timestamp='1493929920' id='544276'>
<a class='timestamp' href='#544276'><time timestamp='2017-05-04T20:32:00Z'>20:32</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
not all corruption reports are on windows, to be clear
<br>
</div>

<div class='talk op-msg' data-timestamp='1493929920' id='544277'>
<a class='timestamp' href='#544277'><time timestamp='2017-05-04T20:32:00Z'>20:32</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but historically those were a majority
<br>
</div>

<div class='talk op-msg' data-timestamp='1493929920' id='544278'>
<a class='timestamp' href='#544278'><time timestamp='2017-05-04T20:32:00Z'>20:32</time></a>
&lt;<span class='nick nick-3'> praxeology</span>&gt;
I have like 3 windows machines running core on windows, and they haven&#x27;t corrupted.  But I have all very reliable machines that don&#x27;t crash or shutdown unexpectedly
<br>
</div>

<div class='talk op-msg' data-timestamp='1493930040' id='544279'>
<a class='timestamp' href='#544279'><time timestamp='2017-05-04T20:34:00Z'>20:34</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
praxeology: ha, that&#x27;s good to know
<br>
</div>

<div class='talk op-msg' data-timestamp='1493930100' id='544280'>
<a class='timestamp' href='#544280'><time timestamp='2017-05-04T20:35:00Z'>20:35</time></a>
&lt;<span class='nick nick-3'> praxeology</span>&gt;
Alright well best of luck w/ the utxo index change.  I&#x27;d consider help testing or maybe doing some UI work on it.  But I am very busy
<br>
</div>

<div class='talk op-msg' data-timestamp='1493930100' id='544281'>
<a class='timestamp' href='#544281'><time timestamp='2017-05-04T20:35:00Z'>20:35</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
thanks regardless!
<br>
</div>

<div class='talk op-msg' data-timestamp='1493930160' id='544282'>
<a class='timestamp' href='#544282'><time timestamp='2017-05-04T20:36:00Z'>20:36</time></a>
&lt;<span class='nick nick-3'> praxeology</span>&gt;
Maybe if you point me to the code and ask me for help directly I&#x27;ll add it to my todo list and maybe I will do it if my priorities make it there.
<br>
</div>

<div class='talk op-msg' data-timestamp='1493930820' id='544283'>
<a class='timestamp' href='#544283'><time timestamp='2017-05-04T20:47:00Z'>20:47</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
jonasschnelli: you might kill me for #10340, sorry :/
<br>
</div>

<div class='talk op-msg' data-timestamp='1493930820' id='544284'>
<a class='timestamp' href='#544284'><time timestamp='2017-05-04T20:47:00Z'>20:47</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/10340" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/10340</a> | Add harmless missing cs_wallet lock in qt CoinControlDialog by TheBlueMatt · Pull Request #10340 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1493930820' id='544285'>
<a class='timestamp' href='#544285'><time timestamp='2017-05-04T20:47:00Z'>20:47</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] TheBlueMatt opened pull request #10340: Add harmless missing cs_wallet lock in qt CoinControlDialog (master...2017-05-fix-mapwallet-zap-runtime) <a href="https://github.com/bitcoin/bitcoin/pull/10340" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10340</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1493935020' id='544286'>
<a class='timestamp' href='#544286'><time timestamp='2017-05-04T21:57:00Z'>21:57</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
hmm, master doesn&#x27;t seem to build for me
<br>
</div>

<div class='talk op-msg' data-timestamp='1493935080' id='544287'>
<a class='timestamp' href='#544287'><time timestamp='2017-05-04T21:58:00Z'>21:58</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
what error?
<br>
</div>

<div class='talk op-msg' data-timestamp='1493935200' id='544288'>
<a class='timestamp' href='#544288'><time timestamp='2017-05-04T22:00:00Z'>22:00</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
wallet/rpcwallet.cpp:732:98: error: taking address of temporary [-fpermissive]
<br>
</div>

<div class='talk op-msg' data-timestamp='1493935320' id='544289'>
<a class='timestamp' href='#544289'><time timestamp='2017-05-04T22:02:00Z'>22:02</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
I&#x27;m not entirely clear why this shouldn&#x27;t be okay
<br>
</div>

<div class='talk op-msg' data-timestamp='1493935320' id='544290'>
<a class='timestamp' href='#544290'><time timestamp='2017-05-04T22:02:00Z'>22:02</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
it&#x27;s returning a reference
<br>
</div>

<div class='talk op-msg' data-timestamp='1493935380' id='544291'>
<a class='timestamp' href='#544291'><time timestamp='2017-05-04T22:03:00Z'>22:03</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
you can&#x27;t return a reference to something on the stack.. which is what that sounds like?
<br>
</div>

<div class='talk op-msg' data-timestamp='1493935380' id='544292'>
<a class='timestamp' href='#544292'><time timestamp='2017-05-04T22:03:00Z'>22:03</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
no, the univalue method is returning a reference to a member
<br>
</div>

<div class='talk op-msg' data-timestamp='1493935440' id='544293'>
<a class='timestamp' href='#544293'><time timestamp='2017-05-04T22:04:00Z'>22:04</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
const std::string* account = request.params[0].get_str() != &quot;*&quot; ? &amp;request.params[0].get_str() : nullptr;
<br>
</div>

<div class='talk op-msg' data-timestamp='1493935440' id='544294'>
<a class='timestamp' href='#544294'><time timestamp='2017-05-04T22:04:00Z'>22:04</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
GCC doesn&#x27;t like us taking the pointer of it for some reason
<br>
</div>

<div class='talk op-msg' data-timestamp='1493935440' id='544295'>
<a class='timestamp' href='#544295'><time timestamp='2017-05-04T22:04:00Z'>22:04</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that&#x27;s invalid
<br>
</div>

<div class='talk op-msg' data-timestamp='1493935440' id='544296'>
<a class='timestamp' href='#544296'><time timestamp='2017-05-04T22:04:00Z'>22:04</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it&#x27;s taking a pointer to a temporary
<br>
</div>

<div class='talk op-msg' data-timestamp='1493935440' id='544297'>
<a class='timestamp' href='#544297'><time timestamp='2017-05-04T22:04:00Z'>22:04</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ah, wait
<br>
</div>

<div class='talk op-msg' data-timestamp='1493935500' id='544298'>
<a class='timestamp' href='#544298'><time timestamp='2017-05-04T22:05:00Z'>22:05</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
FWIW, this didn&#x27;t fail until I disabled ccache, so I suspect it&#x27;s a new error
<br>
</div>

<div class='talk op-msg' data-timestamp='1493935500' id='544299'>
<a class='timestamp' href='#544299'><time timestamp='2017-05-04T22:05:00Z'>22:05</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
GCC 5.4
<br>
</div>

<div class='talk op-msg' data-timestamp='1493937420' id='544300'>
<a class='timestamp' href='#544300'><time timestamp='2017-05-04T22:37:00Z'>22:37</time></a>
&lt;<span class='nick nick-12'> ryanofsky</span>&gt;
i think i added the line causing that error, but i also don&#x27;t see why it&#x27;s an error
<br>
</div>

</div>
</section>

</body>
</html>
