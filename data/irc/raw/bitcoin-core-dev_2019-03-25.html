<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2019-03-25
 â€” 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2019-03-25' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:20 UTC</pre>
<pre><a href="/bitcoin-core-dev/2019-02-25">&lt;</a><span class='header'>    March 2019    </span><a href="/bitcoin-core-dev/2019-04-25">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;                <a class="" href="/bitcoin-core-dev/2019-03-01">1</a>  <a class="" href="/bitcoin-core-dev/2019-03-02">2</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2019-03-03">3</a>  <a class="" href="/bitcoin-core-dev/2019-03-04">4</a>  <a class="" href="/bitcoin-core-dev/2019-03-05">5</a>  <a class="" href="/bitcoin-core-dev/2019-03-06">6</a>  <a class="" href="/bitcoin-core-dev/2019-03-07">7</a>  <a class="" href="/bitcoin-core-dev/2019-03-08">8</a>  <a class="" href="/bitcoin-core-dev/2019-03-09">9</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2019-03-10">10</a> <a class="" href="/bitcoin-core-dev/2019-03-11">11</a> <a class="" href="/bitcoin-core-dev/2019-03-12">12</a> <a class="" href="/bitcoin-core-dev/2019-03-13">13</a> <a class="" href="/bitcoin-core-dev/2019-03-14">14</a> <a class="" href="/bitcoin-core-dev/2019-03-15">15</a> <a class="" href="/bitcoin-core-dev/2019-03-16">16</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2019-03-17">17</a> <a class="" href="/bitcoin-core-dev/2019-03-18">18</a> <a class="" href="/bitcoin-core-dev/2019-03-19">19</a> <a class="" href="/bitcoin-core-dev/2019-03-20">20</a> <a class="" href="/bitcoin-core-dev/2019-03-21">21</a> <a class="" href="/bitcoin-core-dev/2019-03-22">22</a> <a class="" href="/bitcoin-core-dev/2019-03-23">23</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2019-03-24">24</a> <a class="current" href="/bitcoin-core-dev/2019-03-25">25</a> <a class="" href="/bitcoin-core-dev/2019-03-26">26</a> <a class="" href="/bitcoin-core-dev/2019-03-27">27</a> <a class="" href="/bitcoin-core-dev/2019-03-28">28</a> <a class="" href="/bitcoin-core-dev/2019-03-29">29</a> <a class="" href="/bitcoin-core-dev/2019-03-30">30</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2019-03-31">31</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1553491860' id='660039'>
<a class='timestamp' href='#660039'><time timestamp='2019-03-25T05:31:00Z'>05:31</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
dongcarl Sorry for the delay, getting to Guix capabilities today. Was sidetracked with other depends stuff.
<br>
</div>

<div class='talk op-msg' data-timestamp='1553507400' id='660040'>
<a class='timestamp' href='#660040'><time timestamp='2019-03-25T09:50:00Z'>09:50</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I was waiting for Voskuils mailing list reply... <b>*sigh*</b>
<br>
</div>

<div class='talk op-msg' data-timestamp='1553508540' id='660041'>
<a class='timestamp' href='#660041'><time timestamp='2019-03-25T10:09:00Z'>10:09</time></a>
&lt;<span class='nick nick-10'> nothingmuch</span>&gt;
while his points are valid, i never quite understood the actual objection is
<br>
</div>

<div class='talk op-msg' data-timestamp='1553509680' id='660042'>
<a class='timestamp' href='#660042'><time timestamp='2019-03-25T10:28:00Z'>10:28</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
his points are valid... but he fails to see the current state as well as the potential of v2 for its future
<br>
</div>

<div class='talk op-msg' data-timestamp='1553509980' id='660043'>
<a class='timestamp' href='#660043'><time timestamp='2019-03-25T10:33:00Z'>10:33</time></a>
&lt;<span class='nick nick-10'> nothingmuch</span>&gt;
i&#x27;m not sure if that&#x27;s a charitable interpretation, i just think he interprets the current situation &amp; potential differently, if i&#x27;m not mistaken his main objections are to the accompanying peer authentication? maybe more precisely, i don&#x27;t understand why he predicts censorship as the most likely outcome
<br>
</div>

<div class='talk op-msg' data-timestamp='1553511660' id='660044'>
<a class='timestamp' href='#660044'><time timestamp='2019-03-25T11:01:00Z'>11:01</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
peer authentication is happening and going to happen in future. We currently authenticate with the IP (-connect=IP)... there are many users doing this.
<br>
</div>

<div class='talk op-msg' data-timestamp='1553511720' id='660045'>
<a class='timestamp' href='#660045'><time timestamp='2019-03-25T11:02:00Z'>11:02</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Also, the opportunistic encryption sets a much higher burden for a MITM... a) active interception rather then just manipulating/listening packages, b) risk of being detected
<br>
</div>

<div class='talk op-msg' data-timestamp='1553511720' id='660046'>
<a class='timestamp' href='#660046'><time timestamp='2019-03-25T11:02:00Z'>11:02</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Right now, an ISP can spy on your and even tamper and you would have almost zero chance to detect this. The possibility of detection alone is a feature
<br>
</div>

<div class='talk op-msg' data-timestamp='1553511900' id='660047'>
<a class='timestamp' href='#660047'><time timestamp='2019-03-25T11:05:00Z'>11:05</time></a>
&lt;<span class='nick nick-15'> echeveria</span>&gt;
you&#x27;re not wrong.
<br>
</div>

<div class='talk op-msg' data-timestamp='1553512020' id='660048'>
<a class='timestamp' href='#660048'><time timestamp='2019-03-25T11:07:00Z'>11:07</time></a>
&lt;<span class='nick nick-15'> echeveria</span>&gt;
in a lot of situations they could just connect back to you on 8333 if they wanted to though. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1553512260' id='660049'>
<a class='timestamp' href='#660049'><time timestamp='2019-03-25T11:11:00Z'>11:11</time></a>
&lt;<span class='nick nick-10'> nothingmuch</span>&gt;
unauthenticated opportunistic encryption i think can also be argued for empirically, e.g. bittorrent throttling in the past
<br>
</div>

<div class='talk op-msg' data-timestamp='1553512380' id='660050'>
<a class='timestamp' href='#660050'><time timestamp='2019-03-25T11:13:00Z'>11:13</time></a>
&lt;<span class='nick nick-10'> nothingmuch</span>&gt;
i guess what i&#x27;d better like to understand is why he thinks censorship is any more likely with these features than without, the way i see it there is about as much potential right now
<br>
</div>

<div class='talk op-msg' data-timestamp='1553512560' id='660051'>
<a class='timestamp' href='#660051'><time timestamp='2019-03-25T11:16:00Z'>11:16</time></a>
&lt;<span class='nick nick-10'> nothingmuch</span>&gt;
the way i see it, if anything, improving privacy at the p2p level would make censorship harder, but at any rate it&#x27;s not a 1 dimensional spectrum
<br>
</div>

<div class='talk op-msg' data-timestamp='1553512560' id='660052'>
<a class='timestamp' href='#660052'><time timestamp='2019-03-25T11:16:00Z'>11:16</time></a>
&lt;<span class='nick nick-15'> echeveria</span>&gt;
I couldn&#x27;t work that out. its pretty clear what is running bitcoin, from the traffic or the port number.
<br>
</div>

<div class='talk op-msg' data-timestamp='1553515440' id='660053'>
<a class='timestamp' href='#660053'><time timestamp='2019-03-25T12:04:00Z'>12:04</time></a>
&lt;<span class='nick nick-5'> harding</span>&gt;
echeveria: encryption by itself, if we assume no mitm and no eclipse, improves own-transaction relay privacy in combination with Bitcoin Core&#x27;s existing tx trickling code.  Right now when you send your own transaction, spy nodes can&#x27;t be sure whether you originated a transaction or just relayed it.  However, your ISP can see that you never received the tx over clearnet before sending it, so unless your node is also on Tor or 
<br>
</div>

<div class='talk op-msg' data-timestamp='1553515440' id='660054'>
<a class='timestamp' href='#660054'><time timestamp='2019-03-25T12:04:00Z'>12:04</time></a>
&lt;<span class='nick nick-5'> harding</span>&gt;
otherwise multihomed, the ISP can determine what txes you originated.
<br>
</div>

<div class='talk op-msg' data-timestamp='1553515800' id='660055'>
<a class='timestamp' href='#660055'><time timestamp='2019-03-25T12:10:00Z'>12:10</time></a>
&lt;<span class='nick nick-15'> echeveria</span>&gt;
harding: so, they just connect to you directly if you&#x27;re listening. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1553515920' id='660056'>
<a class='timestamp' href='#660056'><time timestamp='2019-03-25T12:12:00Z'>12:12</time></a>
&lt;<span class='nick nick-15'> echeveria</span>&gt;
all of this is really difficult to reason about. encryption in networks with anonymous peers. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1553516100' id='660057'>
<a class='timestamp' href='#660057'><time timestamp='2019-03-25T12:15:00Z'>12:15</time></a>
&lt;<span class='nick nick-5'> harding</span>&gt;
echeveria: yes, but (as I mentioned) Bitcoin Core trickles txes.  That is, it doesn&#x27;t send to each of its peers immediately but separates all of its peers into buckets of peers and maintains a queue of transactions for each bucket, sending to all the peers in the bucket on some schedule.  This means a transaction may be propagated to a non-spy node, relayed through the network, and then heard about by the spy node from some other 
<br>
</div>

<div class='talk op-msg' data-timestamp='1553516100' id='660058'>
<a class='timestamp' href='#660058'><time timestamp='2019-03-25T12:15:00Z'>12:15</time></a>
&lt;<span class='nick nick-5'> harding</span>&gt;
peer before the spy node hears about thet transaction from your peer.
<br>
</div>

<div class='talk op-msg' data-timestamp='1553520480' id='660059'>
<a class='timestamp' href='#660059'><time timestamp='2019-03-25T13:28:00Z'>13:28</time></a>
&lt;<span class='nick nick-3'> emilr</span>&gt;
any reason against using ssl Electrum style? Each peer has its own self generated certificate, download the cerfiticate at first connect and then use that certificate to authenticate the peer
<br>
</div>

<div class='talk op-msg' data-timestamp='1553520720' id='660060'>
<a class='timestamp' href='#660060'><time timestamp='2019-03-25T13:32:00Z'>13:32</time></a>
&lt;<span class='nick nick-10'> nothingmuch</span>&gt;
emilr: from a trust/security POV, that&#x27;s essentially what the proposal enables, but with lower complexity than TLS (no crypto agility, no PKI, ...)
<br>
</div>

<div class='talk op-msg' data-timestamp='1553520720' id='660061'>
<a class='timestamp' href='#660061'><time timestamp='2019-03-25T13:32:00Z'>13:32</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
main reason for not using ssl is that it adds too much attack surface, and its complexity makes it hard to be confident in its security
<br>
</div>

<div class='talk op-msg' data-timestamp='1553523240' id='660062'>
<a class='timestamp' href='#660062'><time timestamp='2019-03-25T14:14:00Z'>14:14</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] practicalswift opened pull request #15663: Remove unused AES-128 code (master...aes-128) <a href="https://github.com/bitcoin/bitcoin/pull/15663" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/15663</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1553540640' id='660063'>
<a class='timestamp' href='#660063'><time timestamp='2019-03-25T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
sipa: any ideas on how addmultisig and multisig in general will work with thew plan for the new ismine logic? I&#x27;ve started working on replacing the ismine logic but I ran into some problems with multisig and the current ismine weirdness surrounding that.
<br>
</div>

<div class='talk op-msg' data-timestamp='1553540760' id='660064'>
<a class='timestamp' href='#660064'><time timestamp='2019-03-25T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
achow101: so i think you&#x27;d have the &quot;old world state&quot; and &quot;new world state&quot;, which are independent, and if either of them says an output is yours, it&#x27;s yours
<br>
</div>

<div class='talk op-msg' data-timestamp='1553540760' id='660065'>
<a class='timestamp' href='#660065'><time timestamp='2019-03-25T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
my plan was to make it so that what is currently considered ismine wouldn&#x27;t actually change, but that seems to not be possible
<br>
</div>

<div class='talk op-msg' data-timestamp='1553540760' id='660066'>
<a class='timestamp' href='#660066'><time timestamp='2019-03-25T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and addmultisig would keep interacting with just the old state
<br>
</div>

<div class='talk op-msg' data-timestamp='1553540760' id='660067'>
<a class='timestamp' href='#660067'><time timestamp='2019-03-25T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
bleh
<br>
</div>

<div class='talk op-msg' data-timestamp='1553540760' id='660068'>
<a class='timestamp' href='#660068'><time timestamp='2019-03-25T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i don&#x27;t think there is any other way
<br>
</div>

<div class='talk op-msg' data-timestamp='1553540760' id='660069'>
<a class='timestamp' href='#660069'><time timestamp='2019-03-25T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
in the old mechanism, things interact in stupid and unpredictable ways
<br>
</div>

<div class='talk op-msg' data-timestamp='1553540820' id='660070'>
<a class='timestamp' href='#660070'><time timestamp='2019-03-25T19:07:00Z'>19:07</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that just don&#x27;t fit in the descriptor based view
<br>
</div>

<div class='talk op-msg' data-timestamp='1553540820' id='660071'>
<a class='timestamp' href='#660071'><time timestamp='2019-03-25T19:07:00Z'>19:07</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
at some point it may be useful to try to convert the old state into a new state, and then disable RPCs that interact with the old state
<br>
</div>

<div class='talk op-msg' data-timestamp='1553540880' id='660072'>
<a class='timestamp' href='#660072'><time timestamp='2019-03-25T19:08:00Z'>19:08</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but i think that&#x27;s better done as a separate thing from actually supporting both
<br>
</div>

<div class='talk op-msg' data-timestamp='1553540880' id='660073'>
<a class='timestamp' href='#660073'><time timestamp='2019-03-25T19:08:00Z'>19:08</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
what about getting rid of addmultisig and just make people use createmultisig and importmulti if they want that script and watch it?
<br>
</div>

<div class='talk op-msg' data-timestamp='1553540880' id='660074'>
<a class='timestamp' href='#660074'><time timestamp='2019-03-25T19:08:00Z'>19:08</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
the import stuff actually makes sense under the new ismine
<br>
</div>

<div class='talk op-msg' data-timestamp='1553540940' id='660075'>
<a class='timestamp' href='#660075'><time timestamp='2019-03-25T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
in a descriptor based wallet you have no need for either RPC
<br>
</div>

<div class='talk op-msg' data-timestamp='1553540940' id='660076'>
<a class='timestamp' href='#660076'><time timestamp='2019-03-25T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
you can just import a descriptor with the multisig key in it directly
<br>
</div>

<div class='talk op-msg' data-timestamp='1553541000' id='660077'>
<a class='timestamp' href='#660077'><time timestamp='2019-03-25T19:10:00Z'>19:10</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
maybe a utility function that has input compatible with createmultisig that spits out a descriptor is useful
<br>
</div>

<div class='talk op-msg' data-timestamp='1553541000' id='660078'>
<a class='timestamp' href='#660078'><time timestamp='2019-03-25T19:10:00Z'>19:10</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
i wanted to avoid having two separate ismine logics
<br>
</div>

<div class='talk op-msg' data-timestamp='1553541060' id='660079'>
<a class='timestamp' href='#660079'><time timestamp='2019-03-25T19:11:00Z'>19:11</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i fear that&#x27;s going to be very hard
<br>
</div>

<div class='talk op-msg' data-timestamp='1553541060' id='660080'>
<a class='timestamp' href='#660080'><time timestamp='2019-03-25T19:11:00Z'>19:11</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I wonder if anyone is actually using addmultisig.
<br>
</div>

<div class='talk op-msg' data-timestamp='1553541120' id='660081'>
<a class='timestamp' href='#660081'><time timestamp='2019-03-25T19:12:00Z'>19:12</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
achow101: to be clear, i think it&#x27;s just hard for compatibility reasons - if you don&#x27;t, you need to do something like convert an old wallet to the new design on first use with new code... and that will inevitably change the semantics of some existing RPCs
<br>
</div>

<div class='talk op-msg' data-timestamp='1553541180' id='660082'>
<a class='timestamp' href='#660082'><time timestamp='2019-03-25T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
plus that conversion is nontrivial
<br>
</div>

<div class='talk op-msg' data-timestamp='1553541180' id='660083'>
<a class='timestamp' href='#660083'><time timestamp='2019-03-25T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and presumably that conversion will effectively need a copy of the old ismine logic anyway
<br>
</div>

<div class='talk op-msg' data-timestamp='1553541240' id='660084'>
<a class='timestamp' href='#660084'><time timestamp='2019-03-25T19:14:00Z'>19:14</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
From what i&#x27;ve done so far, converting a wallet that doesn&#x27;t have multisig is pretty straightforward
<br>
</div>

<div class='talk op-msg' data-timestamp='1553541240' id='660085'>
<a class='timestamp' href='#660085'><time timestamp='2019-03-25T19:14:00Z'>19:14</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
and afaict it doesn&#x27;t require the old ismine logic
<br>
</div>

<div class='talk op-msg' data-timestamp='1553541300' id='660086'>
<a class='timestamp' href='#660086'><time timestamp='2019-03-25T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
possibly
<br>
</div>

<div class='talk op-msg' data-timestamp='1553541300' id='660087'>
<a class='timestamp' href='#660087'><time timestamp='2019-03-25T19:15:00Z'>19:15</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
though there are weird edge cases around single-key things as well (like requiring a p2sh version imported before native segwit outputs are treated as ismine)
<br>
</div>

<div class='talk op-msg' data-timestamp='1553541420' id='660088'>
<a class='timestamp' href='#660088'><time timestamp='2019-03-25T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Keeping around the old thing and bolting something new on the side is a fairly simple thing that has some pretty good guarentees for compatibility.
<br>
</div>

<div class='talk op-msg' data-timestamp='1553541420' id='660089'>
<a class='timestamp' href='#660089'><time timestamp='2019-03-25T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Anything else will take more work and not guarentee compatibility as strongly.
<br>
</div>

<div class='talk op-msg' data-timestamp='1553541480' id='660090'>
<a class='timestamp' href='#660090'><time timestamp='2019-03-25T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
newly created wallets can lack the old state altogether, and just not support addmultisig (and possibly other RPCs)
<br>
</div>

<div class='talk op-msg' data-timestamp='1553541540' id='660091'>
<a class='timestamp' href='#660091'><time timestamp='2019-03-25T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
We could also depricate addmultisig, so you have to set a config option to get access to it, in order to stop people from using it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1553541540' id='660092'>
<a class='timestamp' href='#660092'><time timestamp='2019-03-25T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(... if any are...)
<br>
</div>

<div class='talk op-msg' data-timestamp='1553541540' id='660093'>
<a class='timestamp' href='#660093'><time timestamp='2019-03-25T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
gmaxwell: I&#x27;m tempted to do that
<br>
</div>

<div class='talk op-msg' data-timestamp='1553541540' id='660094'>
<a class='timestamp' href='#660094'><time timestamp='2019-03-25T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I earnestly doubt anyone is using.
<br>
</div>

<div class='talk op-msg' data-timestamp='1553541540' id='660095'>
<a class='timestamp' href='#660095'><time timestamp='2019-03-25T19:19:00Z'>19:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that seems reasonable now we have a more usable importmulti and descriptors... but it doesn&#x27;t solve the problem of what to do with wallets that have it
<br>
</div>

<div class='talk op-msg' data-timestamp='1553541600' id='660096'>
<a class='timestamp' href='#660096'><time timestamp='2019-03-25T19:20:00Z'>19:20</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i certainly have used it!
<br>
</div>

<div class='talk op-msg' data-timestamp='1553541660' id='660097'>
<a class='timestamp' href='#660097'><time timestamp='2019-03-25T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
<a href="https://bitcoin.stackexchange.com/questions/83102/how-to-import-p2wsh-in-p2sh-multisig-as-watch-only" class="link" target="_blank">https://bitcoin.stackexchange.com/questions/83102/how-to-import-p2wsh-in-p2sh-multisig-as-watch-only</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1553541720' id='660098'>
<a class='timestamp' href='#660098'><time timestamp='2019-03-25T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sipa: yes, you and I have but we don&#x27;t count.
<br>
</div>

<div class='talk op-msg' data-timestamp='1553541720' id='660099'>
<a class='timestamp' href='#660099'><time timestamp='2019-03-25T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(as you and I would just use importmulti...)
<br>
</div>

<div class='talk op-msg' data-timestamp='1553541720' id='660100'>
<a class='timestamp' href='#660100'><time timestamp='2019-03-25T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
importmulti has the same problem
<br>
</div>

<div class='talk op-msg' data-timestamp='1553541780' id='660101'>
<a class='timestamp' href='#660101'><time timestamp='2019-03-25T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
does it?
<br>
</div>

<div class='talk op-msg' data-timestamp='1553541780' id='660102'>
<a class='timestamp' href='#660102'><time timestamp='2019-03-25T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
you can emulate whatever addmultisig does using importmulti
<br>
</div>

<div class='talk op-msg' data-timestamp='1553541840' id='660103'>
<a class='timestamp' href='#660103'><time timestamp='2019-03-25T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
can someone help me remember / grok the difference between addmultisig and createmultisig+import
<br>
</div>

<div class='talk op-msg' data-timestamp='1553541900' id='660104'>
<a class='timestamp' href='#660104'><time timestamp='2019-03-25T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gwillen: createmultisig just computed the address/redeemscript you&#x27;d import if you would have used addmultisigaddress
<br>
</div>

<div class='talk op-msg' data-timestamp='1553541900' id='660105'>
<a class='timestamp' href='#660105'><time timestamp='2019-03-25T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but it&#x27;s a utility rpc instead of a wallet rpc
<br>
</div>

<div class='talk op-msg' data-timestamp='1553541960' id='660106'>
<a class='timestamp' href='#660106'><time timestamp='2019-03-25T19:26:00Z'>19:26</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
interesting
<br>
</div>

<div class='talk op-msg' data-timestamp='1553542020' id='660107'>
<a class='timestamp' href='#660107'><time timestamp='2019-03-25T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
achow101: so there is an open question around importmulti in the new state, i think
<br>
</div>

<div class='talk op-msg' data-timestamp='1553542020' id='660108'>
<a class='timestamp' href='#660108'><time timestamp='2019-03-25T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
importmulti lets you specify exactly which outputs you&#x27;re talking about... but then effectively imports things in a way that quite possibly affect other outputs as well
<br>
</div>

<div class='talk op-msg' data-timestamp='1553542020' id='660109'>
<a class='timestamp' href='#660109'><time timestamp='2019-03-25T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
sipa: importmulti will explicitly add the script as watchonly if you don&#x27;t have the keys. I don&#x27;t think addmultisig does that so spends to the multisig wouldn&#x27;t be considered ismine or watchonly
<br>
</div>

<div class='talk op-msg' data-timestamp='1553542080' id='660110'>
<a class='timestamp' href='#660110'><time timestamp='2019-03-25T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
achow101: good point; you need addmultisig+importaddress to emulate importmulti
<br>
</div>

<div class='talk op-msg' data-timestamp='1553542080' id='660111'>
<a class='timestamp' href='#660111'><time timestamp='2019-03-25T19:28:00Z'>19:28</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
the question is whether in a post-native-descriptor design, importmulti can have its semantics changed to only affect the outputs you&#x27;re actually talking about
<br>
</div>

<div class='talk op-msg' data-timestamp='1553542140' id='660112'>
<a class='timestamp' href='#660112'><time timestamp='2019-03-25T19:29:00Z'>19:29</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
(because i&#x27;ve seen people talk about calling importmulti multiple times taking advantage of the interaction to accomplish missing things... )
<br>
</div>

<div class='talk op-msg' data-timestamp='1553542200' id='660113'>
<a class='timestamp' href='#660113'><time timestamp='2019-03-25T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
imo with the native descriptor design, all existing import rpcs should just not work on those wallets
<br>
</div>

<div class='talk op-msg' data-timestamp='1553542200' id='660114'>
<a class='timestamp' href='#660114'><time timestamp='2019-03-25T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
agree
<br>
</div>

<div class='talk op-msg' data-timestamp='1553542200' id='660115'>
<a class='timestamp' href='#660115'><time timestamp='2019-03-25T19:30:00Z'>19:30</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
there should just be importdescriptor or importrecord or something
<br>
</div>

<div class='talk op-msg' data-timestamp='1553542260' id='660116'>
<a class='timestamp' href='#660116'><time timestamp='2019-03-25T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but then i do think the cleanest design is to just keep the old state around, and as long as you have old state... the old RPC work on that
<br>
</div>

<div class='talk op-msg' data-timestamp='1553542260' id='660117'>
<a class='timestamp' href='#660117'><time timestamp='2019-03-25T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and new RPCs work on the new state
<br>
</div>

<div class='talk op-msg' data-timestamp='1553542260' id='660118'>
<a class='timestamp' href='#660118'><time timestamp='2019-03-25T19:31:00Z'>19:31</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
as otherwise you&#x27;d force people to adopt a new set of RPCs whenever their wallet gets upgraded
<br>
</div>

<div class='talk op-msg' data-timestamp='1553542320' id='660119'>
<a class='timestamp' href='#660119'><time timestamp='2019-03-25T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
let me bang the drum as usual for doing the split at the wallet level
<br>
</div>

<div class='talk op-msg' data-timestamp='1553542320' id='660120'>
<a class='timestamp' href='#660120'><time timestamp='2019-03-25T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
.. right. I see how that is the safest and most compatible way to go about this
<br>
</div>

<div class='talk op-msg' data-timestamp='1553542320' id='660121'>
<a class='timestamp' href='#660121'><time timestamp='2019-03-25T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
your old wallet has old RPCs, your new wallet has new descriptor-native RPCs
<br>
</div>

<div class='talk op-msg' data-timestamp='1553542320' id='660122'>
<a class='timestamp' href='#660122'><time timestamp='2019-03-25T19:32:00Z'>19:32</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
the two never to mix
<br>
</div>

<div class='talk op-msg' data-timestamp='1553542380' id='660123'>
<a class='timestamp' href='#660123'><time timestamp='2019-03-25T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gwillen: i think that&#x27;s fair from a user perspective... but it doesn&#x27;t really simplify the code (beyond have a restriction that you can&#x27;t have both states at the same time)
<br>
</div>

<div class='talk op-msg' data-timestamp='1553542380' id='660124'>
<a class='timestamp' href='#660124'><time timestamp='2019-03-25T19:33:00Z'>19:33</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
well somethings of the old design might leak into the new design due to use in a lot of places. e.g. isminetypes
<br>
</div>

<div class='talk op-msg' data-timestamp='1553542440' id='660125'>
<a class='timestamp' href='#660125'><time timestamp='2019-03-25T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
those are fine
<br>
</div>

<div class='talk op-msg' data-timestamp='1553542620' id='660126'>
<a class='timestamp' href='#660126'><time timestamp='2019-03-25T19:37:00Z'>19:37</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
creating a sharp line between old wallets and new wallets sticks users with old functionality until they create a new wallet (and probably make a privacy destroying sweep-- since we can&#x27;t spend across wallets).. it also splits up the user/testing base.
<br>
</div>

<div class='talk op-msg' data-timestamp='1553542680' id='660127'>
<a class='timestamp' href='#660127'><time timestamp='2019-03-25T19:38:00Z'>19:38</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
it might be justifyable if the new thing were just done, but its constantly advancing, we can&#x27;t really use &#x27;make a new wallet&#x27; as the general upgrade mechenism for each new version.
<br>
</div>

<div class='talk op-msg' data-timestamp='1553542740' id='660128'>
<a class='timestamp' href='#660128'><time timestamp='2019-03-25T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
gmaxwell: there should be someway to upgrade from old to new with some caveats regarding ismine
<br>
</div>

<div class='talk op-msg' data-timestamp='1553542740' id='660129'>
<a class='timestamp' href='#660129'><time timestamp='2019-03-25T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
achow101: i think we want to generalize what &quot;watchonly&quot; means, so it becomes independent from the question whether you happen to have the private key exactly in your wallet.dat file (so for example a HW wallet doesn&#x27;t need to be marked as watchonly...), 
<br>
</div>

<div class='talk op-msg' data-timestamp='1553542740' id='660130'>
<a class='timestamp' href='#660130'><time timestamp='2019-03-25T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
sipa: in my current design, i have watchonly be defined as existing in setWatchonly and mine as existing in a newly introduced setScriptPubKeys
<br>
</div>

<div class='talk op-msg' data-timestamp='1553542740' id='660131'>
<a class='timestamp' href='#660131'><time timestamp='2019-03-25T19:39:00Z'>19:39</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell, achow101: i think a correct conversion from old to new is possible, but it will (a) involve the old IsMine logic and (b) preferably something that isn&#x27;t forced upon you when you upgrade software
<br>
</div>

<div class='talk op-msg' data-timestamp='1553542800' id='660132'>
<a class='timestamp' href='#660132'><time timestamp='2019-03-25T19:40:00Z'>19:40</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
achow101: have you read <a href="https://gist.github.com/sipa/125cfa1615946d0c3f3eec2ad7f250a2" class="link" target="_blank">https://gist.github.com/sipa/125cfa1615946d0c3f3eec2ad7f250a2</a> ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1553542800' id='660133'>
<a class='timestamp' href='#660133'><time timestamp='2019-03-25T19:40:00Z'>19:40</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
yeah
<br>
</div>

<div class='talk op-msg' data-timestamp='1553542860' id='660134'>
<a class='timestamp' href='#660134'><time timestamp='2019-03-25T19:41:00Z'>19:41</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i really think watchonly should just be a boolean in the descriptor record
<br>
</div>

<div class='talk op-msg' data-timestamp='1553542860' id='660135'>
<a class='timestamp' href='#660135'><time timestamp='2019-03-25T19:41:00Z'>19:41</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
saying &quot;do i want to treat things that match this as really mine, or just something i&#x27;m watching&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1553542860' id='660136'>
<a class='timestamp' href='#660136'><time timestamp='2019-03-25T19:41:00Z'>19:41</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Why shouldn&#x27;t the concept of watch only be eliminated and replaced with signing sources, with null a potential signing source.
<br>
</div>

<div class='talk op-msg' data-timestamp='1553542920' id='660137'>
<a class='timestamp' href='#660137'><time timestamp='2019-03-25T19:42:00Z'>19:42</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
?
<br>
</div>

<div class='talk op-msg' data-timestamp='1553542920' id='660138'>
<a class='timestamp' href='#660138'><time timestamp='2019-03-25T19:42:00Z'>19:42</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
the way I imagined it was that descriptors would be expanded to sets of scriptPubKeys and, depending on that bool, the scriptPubkeys would go into the appropriate set
<br>
</div>

<div class='talk op-msg' data-timestamp='1553542920' id='660139'>
<a class='timestamp' href='#660139'><time timestamp='2019-03-25T19:42:00Z'>19:42</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sipa: that boolean split alone isn&#x27;t the most useful... esp because it is just a single category.
<br>
</div>

<div class='talk op-msg' data-timestamp='1553542920' id='660140'>
<a class='timestamp' href='#660140'><time timestamp='2019-03-25T19:42:00Z'>19:42</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: for example a multisig you&#x27;re participanting is may be something you want to watch, but not count as your balance
<br>
</div>

<div class='talk op-msg' data-timestamp='1553542980' id='660141'>
<a class='timestamp' href='#660141'><time timestamp='2019-03-25T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i expect gwillen to now say &quot;just use a separate wallet for that&quot;, and he&#x27;s probably right
<br>
</div>

<div class='talk op-msg' data-timestamp='1553542980' id='660142'>
<a class='timestamp' href='#660142'><time timestamp='2019-03-25T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sipa: make a seperate wallet?
<br>
</div>

<div class='talk op-msg' data-timestamp='1553542980' id='660143'>
<a class='timestamp' href='#660143'><time timestamp='2019-03-25T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
The fact that watching has only a single category &quot;watching&quot; makes it much less useful...
<br>
</div>

<div class='talk op-msg' data-timestamp='1553542980' id='660144'>
<a class='timestamp' href='#660144'><time timestamp='2019-03-25T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
true
<br>
</div>

<div class='talk op-msg' data-timestamp='1553542980' id='660145'>
<a class='timestamp' href='#660145'><time timestamp='2019-03-25T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
gmaxwell: that would be ideal, but breaks upgrading I think
<br>
</div>

<div class='talk op-msg' data-timestamp='1553543040' id='660146'>
<a class='timestamp' href='#660146'><time timestamp='2019-03-25T19:44:00Z'>19:44</time></a>
&lt;<span class='nick nick-4'> * sipa</span>&gt;
lunch
<br>
</div>

<div class='talk op-msg' data-timestamp='1553543040' id='660147'>
<a class='timestamp' href='#660147'><time timestamp='2019-03-25T19:44:00Z'>19:44</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
well let me revise, there is a seperate &quot;non-balance&quot; functionality that is useful: collecting txouts for filling a PSBT.
<br>
</div>

<div class='talk op-msg' data-timestamp='1553543040' id='660148'>
<a class='timestamp' href='#660148'><time timestamp='2019-03-25T19:44:00Z'>19:44</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I agree <u>_that_</u> kind of watching actually is useful, doesn&#x27;t need special categories, doesn&#x27;t interact with balances, etc.
<br>
</div>

<div class='talk op-msg' data-timestamp='1553543100' id='660149'>
<a class='timestamp' href='#660149'><time timestamp='2019-03-25T19:45:00Z'>19:45</time></a>
&lt;<span class='nick nick-5'> midnightmagic</span>&gt;
+1 filling txouts for PSBT
<br>
</div>

<div class='talk op-msg' data-timestamp='1553543100' id='660150'>
<a class='timestamp' href='#660150'><time timestamp='2019-03-25T19:45:00Z'>19:45</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
achow101: breaking upgrading for more obscure features isn&#x27;t something we should reject out of hand.
<br>
</div>

<div class='talk op-msg' data-timestamp='1553543100' id='660151'>
<a class='timestamp' href='#660151'><time timestamp='2019-03-25T19:45:00Z'>19:45</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
achow101: we could allow an upgrade that stripped out all watching (or converted it into something else)
<br>
</div>

<div class='talk op-msg' data-timestamp='1553543160' id='660152'>
<a class='timestamp' href='#660152'><time timestamp='2019-03-25T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
well I suppose an upgrade could just make two wallets
<br>
</div>

<div class='talk op-msg' data-timestamp='1553543160' id='660153'>
<a class='timestamp' href='#660153'><time timestamp='2019-03-25T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
right.
<br>
</div>

<div class='talk op-msg' data-timestamp='1553543220' id='660154'>
<a class='timestamp' href='#660154'><time timestamp='2019-03-25T19:47:00Z'>19:47</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
yeah, I do maintain &quot;keep separate wallets for separate sorts of funds&quot; is the right call
<br>
</div>

<div class='talk op-msg' data-timestamp='1553543280' id='660155'>
<a class='timestamp' href='#660155'><time timestamp='2019-03-25T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
gwillen: I agree, but I expect that virutally no watchonly use is &#x27;seperate funds&#x27; (esp because the user interface for watching is mostly unusable), it does however get used to provide inputs e.g. for multisigs.
<br>
</div>

<div class='talk op-msg' data-timestamp='1553543340' id='660156'>
<a class='timestamp' href='#660156'><time timestamp='2019-03-25T19:49:00Z'>19:49</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
well my thinking is like, if you have your own funds in a wallet, and you also have keys that represent part of a multisig that holds funds
<br>
</div>

<div class='talk op-msg' data-timestamp='1553543340' id='660157'>
<a class='timestamp' href='#660157'><time timestamp='2019-03-25T19:49:00Z'>19:49</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
it&#x27;s better for those to be two separate wallets
<br>
</div>

<div class='talk op-msg' data-timestamp='1553543340' id='660158'>
<a class='timestamp' href='#660158'><time timestamp='2019-03-25T19:49:00Z'>19:49</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
rather than try to puzzle how how we should define &#x27;watchonly&#x27; and &#x27;ismine&#x27; to make that scenario work smoothly
<br>
</div>

<div class='talk op-msg' data-timestamp='1553543340' id='660159'>
<a class='timestamp' href='#660159'><time timestamp='2019-03-25T19:49:00Z'>19:49</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
another way of looking at this is that provide general random access indexes scriptpubkeys isn&#x27;t particularly viable, we don&#x27;t do it, and don&#x27;t plan to do it...  our answer to needing to find inputs for random scriptpubkeys is &quot;add them to a wallet before use so the wallet will track them&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1553543400' id='660160'>
<a class='timestamp' href='#660160'><time timestamp='2019-03-25T19:50:00Z'>19:50</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
e.g. you will probably not want to spend &quot;some funds from my wallet and also some funds from the multisig&quot; in the same tx
<br>
</div>

<div class='talk op-msg' data-timestamp='1553543400' id='660161'>
<a class='timestamp' href='#660161'><time timestamp='2019-03-25T19:50:00Z'>19:50</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
although I guess if you did ever want that, it&#x27;s an argument against separate wallets
<br>
</div>

<div class='talk op-msg' data-timestamp='1553543400' id='660162'>
<a class='timestamp' href='#660162'><time timestamp='2019-03-25T19:50:00Z'>19:50</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I think you&#x27;re talking past me.
<br>
</div>

<div class='talk op-msg' data-timestamp='1553543400' id='660163'>
<a class='timestamp' href='#660163'><time timestamp='2019-03-25T19:50:00Z'>19:50</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
probably
<br>
</div>

<div class='talk op-msg' data-timestamp='1553543520' id='660164'>
<a class='timestamp' href='#660164'><time timestamp='2019-03-25T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
&quot;some funds from my wallet and also some funds from the multisig&quot; isn&#x27;t something that is usable with watchonly now.
<br>
</div>

<div class='talk op-msg' data-timestamp='1553543520' id='660165'>
<a class='timestamp' href='#660165'><time timestamp='2019-03-25T19:52:00Z'>19:52</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
mmm, heh, that&#x27;s a good point
<br>
</div>

<div class='talk op-msg' data-timestamp='1553543580' id='660166'>
<a class='timestamp' href='#660166'><time timestamp='2019-03-25T19:53:00Z'>19:53</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
It is one of the problems with the &quot;use lots of wallets for all the things&quot; line of thinking however, but I think that isn&#x27;t a concern in this discussion.
<br>
</div>

<div class='talk op-msg' data-timestamp='1553543580' id='660167'>
<a class='timestamp' href='#660167'><time timestamp='2019-03-25T19:53:00Z'>19:53</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I think right now the thing watchonly actually gets used for is simply telling the wallet to collect data for providing inputs to transactions, without getting in the way of normal wallet use.
<br>
</div>

<div class='talk op-msg' data-timestamp='1553543640' id='660168'>
<a class='timestamp' href='#660168'><time timestamp='2019-03-25T19:54:00Z'>19:54</time></a>
&lt;<span class='nick nick-5'> midnightmagic</span>&gt;
+1 that use; also informational tracking of known addresses.
<br>
</div>

<div class='talk op-msg' data-timestamp='1553543640' id='660169'>
<a class='timestamp' href='#660169'><time timestamp='2019-03-25T19:54:00Z'>19:54</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
now, this could be done by just making another wallet, throwing everything you want to collect data on in it and then ignoring it otherwise.
<br>
</div>

<div class='talk op-msg' data-timestamp='1553543700' id='660170'>
<a class='timestamp' href='#660170'><time timestamp='2019-03-25T19:55:00Z'>19:55</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
midnightmagic: I don&#x27;t believe it&#x27;s used like that right now, there isn&#x27;t for example, a usable way to get balances, and presumably you want to watch more than one such thing.
<br>
</div>

<div class='talk op-msg' data-timestamp='1553543760' id='660171'>
<a class='timestamp' href='#660171'><time timestamp='2019-03-25T19:56:00Z'>19:56</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
It gets used by things like custom wallet software to make bitcoin core track data needed for spending. I assume electrum personal server uses it. Joinmarket uses it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1553543760' id='660172'>
<a class='timestamp' href='#660172'><time timestamp='2019-03-25T19:56:00Z'>19:56</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
gmaxwell: instead of a watchonly wallet, use scantxout set :p
<br>
</div>

<div class='talk op-msg' data-timestamp='1553543760' id='660173'>
<a class='timestamp' href='#660173'><time timestamp='2019-03-25T19:56:00Z'>19:56</time></a>
&lt;<span class='nick nick-5'> midnightmagic</span>&gt;
gmaxwell: I&#x27;m currently using: b -rpcwallet=weirdwallet.dat listunspent|grep -A 2 -i weird|grep amount|awk &#x27;{ print $2 }&#x27;|sed -e &#x27;s/,//g&#x27; | paste -sd+ | bc -l
<br>
</div>

<div class='talk op-msg' data-timestamp='1553543820' id='660174'>
<a class='timestamp' href='#660174'><time timestamp='2019-03-25T19:57:00Z'>19:57</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
achow101: doesn&#x27;t work if you need to see past spends, and alsoscantxoutset is pretty slow!
<br>
</div>

<div class='talk op-msg' data-timestamp='1553543880' id='660175'>
<a class='timestamp' href='#660175'><time timestamp='2019-03-25T19:58:00Z'>19:58</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
but perhaps the concept should be dropped and replaced with something that better fits how its mostly being used.
<br>
</div>

<div class='talk op-msg' data-timestamp='1553543880' id='660176'>
<a class='timestamp' href='#660176'><time timestamp='2019-03-25T19:58:00Z'>19:58</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
if you&#x27;re just filling psbts, you don&#x27;t need past spends
<br>
</div>

<div class='talk op-msg' data-timestamp='1553543880' id='660177'>
<a class='timestamp' href='#660177'><time timestamp='2019-03-25T19:58:00Z'>19:58</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
midnightmagic: okay, well if you actually want to follow some other wallet I think thats a case where running a seperate wallet file makes sense to me.
<br>
</div>

<div class='talk op-msg' data-timestamp='1553543940' id='660178'>
<a class='timestamp' href='#660178'><time timestamp='2019-03-25T19:59:00Z'>19:59</time></a>
&lt;<span class='nick nick-5'> midnightmagic</span>&gt;
Just a hackish informational thing that means I don&#x27;t have to use bitcoin-iterate 
<br>
</div>

<div class='talk op-msg' data-timestamp='1553543940' id='660179'>
<a class='timestamp' href='#660179'><time timestamp='2019-03-25T19:59:00Z'>19:59</time></a>
&lt;<span class='nick nick-5'> midnightmagic</span>&gt;
+1 laziness
<br>
</div>

<div class='talk op-msg' data-timestamp='1553543940' id='660180'>
<a class='timestamp' href='#660180'><time timestamp='2019-03-25T19:59:00Z'>19:59</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
achow101: yes, but examples I listed do more than just fill out psbts. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1553544000' id='660181'>
<a class='timestamp' href='#660181'><time timestamp='2019-03-25T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
But they don&#x27;t need balances, coinselections, etc.
<br>
</div>

<div class='talk op-msg' data-timestamp='1553548440' id='660182'>
<a class='timestamp' href='#660182'><time timestamp='2019-03-25T21:14:00Z'>21:14</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] instagibbs opened pull request #15664: change default Python block serialization to witness, test round-trip (master...default_wit_block) <a href="https://github.com/bitcoin/bitcoin/pull/15664" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/15664</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1553551140' id='660183'>
<a class='timestamp' href='#660183'><time timestamp='2019-03-25T21:59:00Z'>21:59</time></a>
&lt;<span class='nick nick-5'> BostX</span>&gt;
Hi, do you know why signrawtransactionwithwallet returns the same hex as entered?
<br>
</div>

<div class='talk op-msg' data-timestamp='1553551200' id='660184'>
<a class='timestamp' href='#660184'><time timestamp='2019-03-25T22:00:00Z'>22:00</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
presumably because it couldn&#x27;t sign anything
<br>
</div>

<div class='talk op-msg' data-timestamp='1553551260' id='660185'>
<a class='timestamp' href='#660185'><time timestamp='2019-03-25T22:01:00Z'>22:01</time></a>
&lt;<span class='nick nick-5'> BostX</span>&gt;
sipa: but it was completed with &quot;true&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1553551260' id='660186'>
<a class='timestamp' href='#660186'><time timestamp='2019-03-25T22:01:00Z'>22:01</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
then it&#x27;s already fully signed!
<br>
</div>

<div class='talk op-msg' data-timestamp='1553551260' id='660187'>
<a class='timestamp' href='#660187'><time timestamp='2019-03-25T22:01:00Z'>22:01</time></a>
&lt;<span class='nick nick-5'> BostX</span>&gt;
sipa: that&#x27;s impossible
<br>
</div>

<div class='talk op-msg' data-timestamp='1553551380' id='660188'>
<a class='timestamp' href='#660188'><time timestamp='2019-03-25T22:03:00Z'>22:03</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
BostX: what&#x27;s the input?
<br>
</div>

<div class='talk op-msg' data-timestamp='1553551380' id='660189'>
<a class='timestamp' href='#660189'><time timestamp='2019-03-25T22:03:00Z'>22:03</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
(you can pm me)
<br>
</div>

<div class='talk op-msg' data-timestamp='1553551560' id='660190'>
<a class='timestamp' href='#660190'><time timestamp='2019-03-25T22:06:00Z'>22:06</time></a>
&lt;<span class='nick nick-5'> BostX</span>&gt;
sipa: I created: bitcoin-cli createrawtransaction &#x27;[]&#x27; &#x27;{&quot;unused-new-address&quot;: &lt;number&gt;}&#x27;
<br>
</div>

<div class='talk op-msg' data-timestamp='1553551560' id='660191'>
<a class='timestamp' href='#660191'><time timestamp='2019-03-25T22:06:00Z'>22:06</time></a>
&lt;<span class='nick nick-5'> BostX</span>&gt;
sipa: then I was returned the hex
<br>
</div>

<div class='talk op-msg' data-timestamp='1553551560' id='660192'>
<a class='timestamp' href='#660192'><time timestamp='2019-03-25T22:06:00Z'>22:06</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
BostX: you have no inputs, so all inputs are by definition signed
<br>
</div>

<div class='talk op-msg' data-timestamp='1553551620' id='660193'>
<a class='timestamp' href='#660193'><time timestamp='2019-03-25T22:07:00Z'>22:07</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
you probably want to call fundrawtransaction first to add inputs and change
<br>
</div>

<div class='talk op-msg' data-timestamp='1553551800' id='660194'>
<a class='timestamp' href='#660194'><time timestamp='2019-03-25T22:10:00Z'>22:10</time></a>
&lt;<span class='nick nick-5'> BostX</span>&gt;
sipa: aaaah... that&#x27;s possible. BTW I was following the <a href="https://stackoverflow.com/a/46637033" class="link" target="_blank">https://stackoverflow.com/a/46637033</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1553551860' id='660195'>
<a class='timestamp' href='#660195'><time timestamp='2019-03-25T22:11:00Z'>22:11</time></a>
&lt;<span class='nick nick-5'> BostX</span>&gt;
sipa: I thought the createrawtransaction &#x27;[]&#x27; knows automatically how to add an input.
<br>
</div>

<div class='talk op-msg' data-timestamp='1553551860' id='660196'>
<a class='timestamp' href='#660196'><time timestamp='2019-03-25T22:11:00Z'>22:11</time></a>
&lt;<span class='nick nick-5'> BostX</span>&gt;
sipa: what is a `change`?
<br>
</div>

<div class='talk op-msg' data-timestamp='1553551860' id='660197'>
<a class='timestamp' href='#660197'><time timestamp='2019-03-25T22:11:00Z'>22:11</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
BostX: perhaps you should head to bitcoin.stackexchange.com
<br>
</div>

<div class='talk op-msg' data-timestamp='1553551860' id='660198'>
<a class='timestamp' href='#660198'><time timestamp='2019-03-25T22:11:00Z'>22:11</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
you shouldn&#x27;t be using these RPC functions if you don&#x27;t know what change outputs are
<br>
</div>

<div class='talk op-msg' data-timestamp='1553552100' id='660199'>
<a class='timestamp' href='#660199'><time timestamp='2019-03-25T22:15:00Z'>22:15</time></a>
&lt;<span class='nick nick-5'> BostX</span>&gt;
sipa: Uhm... I&#x27;d like to sign my TX on an offline computer where I don&#x27;t want to install anything other than bitcoin-core.
<br>
</div>

<div class='talk op-msg' data-timestamp='1553552100' id='660200'>
<a class='timestamp' href='#660200'><time timestamp='2019-03-25T22:15:00Z'>22:15</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
BostX: yes, this is the wrong place to ask such questions
<br>
</div>

<div class='talk op-msg' data-timestamp='1553552220' id='660201'>
<a class='timestamp' href='#660201'><time timestamp='2019-03-25T22:17:00Z'>22:17</time></a>
&lt;<span class='nick nick-5'> BostX</span>&gt;
sipa: not really - I wasn&#x27;t asking &quot;how&quot; I was asking &quot;why it doesn&#x27;t work&quot;, since I got no(!) errors. I consider this to be a legitimate question for this place.
<br>
</div>

<div class='talk op-msg' data-timestamp='1553552280' id='660202'>
<a class='timestamp' href='#660202'><time timestamp='2019-03-25T22:18:00Z'>22:18</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
BostX: well, the answer is that your transaction has no inputs, so signrawtransactions responds by saying all your inputs are signed
<br>
</div>

<div class='talk op-msg' data-timestamp='1553552280' id='660203'>
<a class='timestamp' href='#660203'><time timestamp='2019-03-25T22:18:00Z'>22:18</time></a>
&lt;<span class='nick nick-5'> BostX</span>&gt;
sipa: yes yes I was also asking &quot;what is a change&quot; but I&#x27;m able to figure it now by myself... don&#x27;t worry.
<br>
</div>

<div class='talk op-msg' data-timestamp='1553552280' id='660204'>
<a class='timestamp' href='#660204'><time timestamp='2019-03-25T22:18:00Z'>22:18</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
which is expected
<br>
</div>

<div class='talk op-msg' data-timestamp='1553552520' id='660205'>
<a class='timestamp' href='#660205'><time timestamp='2019-03-25T22:22:00Z'>22:22</time></a>
&lt;<span class='nick nick-5'> BostX</span>&gt;
sipa: maybe some warnings would be helpful. Like &quot;You&#x27;re signing a TX w/ no inputs&quot;. Or maybe a better message in the `bitcoin-cli help signrawtransactionwithwallet`
<br>
</div>

<div class='talk op-msg' data-timestamp='1553552640' id='660206'>
<a class='timestamp' href='#660206'><time timestamp='2019-03-25T22:24:00Z'>22:24</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
BostX: If you are planning on using an offline computer, I recommend using the psbt RPCs
<br>
</div>

<div class='talk op-msg' data-timestamp='1553552700' id='660207'>
<a class='timestamp' href='#660207'><time timestamp='2019-03-25T22:25:00Z'>22:25</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/blob/master/doc/psbt.md" class="link" target="_blank">https://github.com/bitcoin/bitcoin/blob/master/doc/psbt.md</a> has some info on how to use them
<br>
</div>

<div class='talk op-msg' data-timestamp='1553552880' id='660208'>
<a class='timestamp' href='#660208'><time timestamp='2019-03-25T22:28:00Z'>22:28</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke pushed 2 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/7b13c6464579...8a8b03ecd221" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/7b13c6464579...8a8b03ecd221</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1553552880' id='660209'>
<a class='timestamp' href='#660209'><time timestamp='2019-03-25T22:28:00Z'>22:28</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 5801dd6 gwillen: docs: Add more tips to productivity.md
<br>
</div>

<div class='talk op-msg' data-timestamp='1553552880' id='660210'>
<a class='timestamp' href='#660210'><time timestamp='2019-03-25T22:28:00Z'>22:28</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 8a8b03e MarcoFalke: Merge #15603: docs: Add more tips to productivity.md
<br>
</div>

<div class='talk op-msg' data-timestamp='1553552940' id='660211'>
<a class='timestamp' href='#660211'><time timestamp='2019-03-25T22:29:00Z'>22:29</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke merged pull request #15603: docs: Add more tips to productivity.md (master...patch-1) <a href="https://github.com/bitcoin/bitcoin/pull/15603" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/15603</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1553553300' id='660212'>
<a class='timestamp' href='#660212'><time timestamp='2019-03-25T22:35:00Z'>22:35</time></a>
&lt;<span class='nick nick-4'> gwillen</span>&gt;
BostX: I&#x27;m going to send you a PM
<br>
</div>

</div>
</section>

</body>
</html>
