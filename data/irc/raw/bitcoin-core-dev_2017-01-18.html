<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2017-01-18
 — 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2017-01-18' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:25 UTC</pre>
<pre><a href="/bitcoin-core-dev/2016-12-18">&lt;</a><span class='header'>   January 2017   </span><a href="/bitcoin-core-dev/2017-02-18">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A; <a class="" href="/bitcoin-core-dev/2017-01-01">1</a>  <a class="" href="/bitcoin-core-dev/2017-01-02">2</a>  <a class="" href="/bitcoin-core-dev/2017-01-03">3</a>  <a class="" href="/bitcoin-core-dev/2017-01-04">4</a>  <a class="" href="/bitcoin-core-dev/2017-01-05">5</a>  <a class="" href="/bitcoin-core-dev/2017-01-06">6</a>  <a class="" href="/bitcoin-core-dev/2017-01-07">7</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2017-01-08">8</a>  <a class="" href="/bitcoin-core-dev/2017-01-09">9</a> <a class="" href="/bitcoin-core-dev/2017-01-10">10</a> <a class="" href="/bitcoin-core-dev/2017-01-11">11</a> <a class="" href="/bitcoin-core-dev/2017-01-12">12</a> <a class="" href="/bitcoin-core-dev/2017-01-13">13</a> <a class="" href="/bitcoin-core-dev/2017-01-14">14</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2017-01-15">15</a> <a class="" href="/bitcoin-core-dev/2017-01-16">16</a> <a class="" href="/bitcoin-core-dev/2017-01-17">17</a> <a class="current" href="/bitcoin-core-dev/2017-01-18">18</a> <a class="" href="/bitcoin-core-dev/2017-01-19">19</a> <a class="" href="/bitcoin-core-dev/2017-01-20">20</a> <a class="" href="/bitcoin-core-dev/2017-01-21">21</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2017-01-22">22</a> <a class="" href="/bitcoin-core-dev/2017-01-23">23</a> <a class="" href="/bitcoin-core-dev/2017-01-24">24</a> <a class="" href="/bitcoin-core-dev/2017-01-25">25</a> <a class="" href="/bitcoin-core-dev/2017-01-26">26</a> <a class="" href="/bitcoin-core-dev/2017-01-27">27</a> <a class="" href="/bitcoin-core-dev/2017-01-28">28</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2017-01-29">29</a> <a class="" href="/bitcoin-core-dev/2017-01-30">30</a> <a class="" href="/bitcoin-core-dev/2017-01-31">31</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1484702820' id='524857'>
<a class='timestamp' href='#524857'><time timestamp='2017-01-18T01:27:00Z'>01:27</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] pinheadmz opened pull request #9571: RPC: getblockchaininfo returns BIP signaling statistics  (master...master) <a href="https://github.com/bitcoin/bitcoin/pull/9571" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9571</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1484722920' id='524858'>
<a class='timestamp' href='#524858'><time timestamp='2017-01-18T07:02:00Z'>07:02</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
BlueMatt: I&#x27;m working on the fixes for #9461
<br>
</div>

<div class='talk op-msg' data-timestamp='1484722980' id='524859'>
<a class='timestamp' href='#524859'><time timestamp='2017-01-18T07:03:00Z'>07:03</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/9461" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/9461</a> | [Qt] Improve progress display during headers-sync and peer-finding by jonasschnelli · Pull Request #9461 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1484726100' id='524860'>
<a class='timestamp' href='#524860'><time timestamp='2017-01-18T07:55:00Z'>07:55</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jl2012 opened pull request #9572: Skip witness sighash cache for non-segwit transactions (master...nocache) <a href="https://github.com/bitcoin/bitcoin/pull/9572" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9572</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1484733360' id='524861'>
<a class='timestamp' href='#524861'><time timestamp='2017-01-18T09:56:00Z'>09:56</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/6696b4635ceb...b0b57a17306a" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/6696b4635ceb...b0b57a17306a</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1484733360' id='524862'>
<a class='timestamp' href='#524862'><time timestamp='2017-01-18T09:56:00Z'>09:56</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 95bab82 practicalswift: Remove unused Python imports
<br>
</div>

<div class='talk op-msg' data-timestamp='1484733360' id='524863'>
<a class='timestamp' href='#524863'><time timestamp='2017-01-18T09:56:00Z'>09:56</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master b0b57a1 MarcoFalke: Merge #9508: Remove unused Python imports...
<br>
</div>

<div class='talk op-msg' data-timestamp='1484733420' id='524864'>
<a class='timestamp' href='#524864'><time timestamp='2017-01-18T09:57:00Z'>09:57</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke closed pull request #9508: Remove unused Python imports (master...remove-unused-python-import) <a href="https://github.com/bitcoin/bitcoin/pull/9508" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9508</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1484739420' id='524865'>
<a class='timestamp' href='#524865'><time timestamp='2017-01-18T11:37:00Z'>11:37</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] fanquake opened pull request #9574: [depends] Fix QT build on OSX (master...fix-osx-depends-build) <a href="https://github.com/bitcoin/bitcoin/pull/9574" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9574</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1484748900' id='524866'>
<a class='timestamp' href='#524866'><time timestamp='2017-01-18T14:15:00Z'>14:15</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
cfields: yo
<br>
</div>

<div class='talk op-msg' data-timestamp='1484748960' id='524867'>
<a class='timestamp' href='#524867'><time timestamp='2017-01-18T14:16:00Z'>14:16</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
where are we on #9212 and #9278? The fix for 9212 at <a href="https://github.com/bitcoinfibre/bitcoinfibre/commit/8e2c2cf418adb3dad1479c3f8890e0a2c8b6f709" class="link" target="_blank">https://github.com/bitcoinfibre/bitcoinfibre/commit/8e2c2cf418adb3dad1479c3f8890e0a2c8b6f709</a> has been in production for a while (albeit not on nodes with a ton of connection churn) so I&#x27;m reasonably confident in it, but iirc you were not a fan?
<br>
</div>

<div class='talk op-msg' data-timestamp='1484748960' id='524868'>
<a class='timestamp' href='#524868'><time timestamp='2017-01-18T14:16:00Z'>14:16</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/9212" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/9212</a> | Assertion failed: (nSendVersion != 0), function GetSendVersion, file ./net.h, line 775. · Issue #9212 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1484748960' id='524869'>
<a class='timestamp' href='#524869'><time timestamp='2017-01-18T14:16:00Z'>14:16</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/9278" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/9278</a> | test_bitcoin fails valgrind · Issue #9278 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1484749080' id='524870'>
<a class='timestamp' href='#524870'><time timestamp='2017-01-18T14:18:00Z'>14:18</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
for those bored, #9392 should be an easy fix
<br>
</div>

<div class='talk op-msg' data-timestamp='1484749080' id='524871'>
<a class='timestamp' href='#524871'><time timestamp='2017-01-18T14:18:00Z'>14:18</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/9392" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/9392</a> | Wallet ancestor sanity-check ignores sigops · Issue #9392 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1484756100' id='524872'>
<a class='timestamp' href='#524872'><time timestamp='2017-01-18T16:15:00Z'>16:15</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
BlueMatt: I didn&#x27;t like that change at the time because 1. We weren&#x27;t always disconnecting (or checking fDisconnect) as necessary at the time, and 2. It changes the &quot;you can only send 1 version message&quot; semantics a bit. 1. should be fixed since fedea8a14. I think your change is probably ok, but I think we should think through 2 a little.
<br>
</div>

<div class='talk op-msg' data-timestamp='1484756220' id='524873'>
<a class='timestamp' href='#524873'><time timestamp='2017-01-18T16:17:00Z'>16:17</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
I know we also discussed moving off of the &quot;nVersion is set means connected&quot; to using the fSuccessfullyConnected flag again
<br>
</div>

<div class='talk op-msg' data-timestamp='1484756220' id='524874'>
<a class='timestamp' href='#524874'><time timestamp='2017-01-18T16:17:00Z'>16:17</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
they&#x27;re kinda confused and redundant atm
<br>
</div>

<div class='talk op-msg' data-timestamp='1484756280' id='524875'>
<a class='timestamp' href='#524875'><time timestamp='2017-01-18T16:18:00Z'>16:18</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
yea     
<br>
</div>

<div class='talk op-msg' data-timestamp='1484756340' id='524876'>
<a class='timestamp' href='#524876'><time timestamp='2017-01-18T16:19:00Z'>16:19</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
that would be my preference, only issue there is defining &quot;successfully connected&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1484756580' id='524877'>
<a class='timestamp' href='#524877'><time timestamp='2017-01-18T16:23:00Z'>16:23</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
BlueMatt: as a weird example, I think your change would allow for sending infinite version messages in which the addrMe portion fails to deserialize
<br>
</div>

<div class='talk op-msg' data-timestamp='1484756580' id='524878'>
<a class='timestamp' href='#524878'><time timestamp='2017-01-18T16:23:00Z'>16:23</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
so a peer could change their nVersion a bunch of times before locking it in
<br>
</div>

<div class='talk op-msg' data-timestamp='1484756640' id='524879'>
<a class='timestamp' href='#524879'><time timestamp='2017-01-18T16:24:00Z'>16:24</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
(i don&#x27;t know what good that would do, but we certainly shouldn&#x27;t be allowing that)
<br>
</div>

<div class='talk op-msg' data-timestamp='1484756640' id='524880'>
<a class='timestamp' href='#524880'><time timestamp='2017-01-18T16:24:00Z'>16:24</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
I&#x27;d file that under &quot;undefined behavior&quot; I believe in that case we may be required to make a best effort to eat the sender&#x27;s cat
<br>
</div>

<div class='talk op-msg' data-timestamp='1484756700' id='524881'>
<a class='timestamp' href='#524881'><time timestamp='2017-01-18T16:25:00Z'>16:25</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
but short that, I&#x27;m not sure if we care that they can do that?
<br>
</div>

<div class='talk op-msg' data-timestamp='1484756700' id='524882'>
<a class='timestamp' href='#524882'><time timestamp='2017-01-18T16:25:00Z'>16:25</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
as long as we actually gate on fSuccessfullyConnected
<br>
</div>

<div class='talk op-msg' data-timestamp='1484756700' id='524883'>
<a class='timestamp' href='#524883'><time timestamp='2017-01-18T16:25:00Z'>16:25</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
BlueMatt: right, that was my point. atm we don&#x27;t in many places
<br>
</div>

<div class='talk op-msg' data-timestamp='1484756700' id='524884'>
<a class='timestamp' href='#524884'><time timestamp='2017-01-18T16:25:00Z'>16:25</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
cfields: do you have time to look at that, or should I just whip something up with fSuccessfullyConnected after I finish review of one or two others?
<br>
</div>

<div class='talk op-msg' data-timestamp='1484756760' id='524885'>
<a class='timestamp' href='#524885'><time timestamp='2017-01-18T16:26:00Z'>16:26</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
well atm we check nVersion != 0 pretty much everywhere, i think
<br>
</div>

<div class='talk op-msg' data-timestamp='1484756760' id='524886'>
<a class='timestamp' href='#524886'><time timestamp='2017-01-18T16:26:00Z'>16:26</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
as a proxy for connectedness
<br>
</div>

<div class='talk op-msg' data-timestamp='1484756820' id='524887'>
<a class='timestamp' href='#524887'><time timestamp='2017-01-18T16:27:00Z'>16:27</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
BlueMatt: right, and in the above scenario, we don&#x27;t consider them connected, but their nVersion is set.
<br>
</div>

<div class='talk op-msg' data-timestamp='1484756820' id='524888'>
<a class='timestamp' href='#524888'><time timestamp='2017-01-18T16:27:00Z'>16:27</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
ok, so replace nVersion != 0 with fSuccessfullyConnected everywhere, i guess?
<br>
</div>

<div class='talk op-msg' data-timestamp='1484756940' id='524889'>
<a class='timestamp' href='#524889'><time timestamp='2017-01-18T16:29:00Z'>16:29</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
i think so.
<br>
</div>

<div class='talk op-msg' data-timestamp='1484756940' id='524890'>
<a class='timestamp' href='#524890'><time timestamp='2017-01-18T16:29:00Z'>16:29</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
k     
<br>
</div>

<div class='talk op-msg' data-timestamp='1484756940' id='524891'>
<a class='timestamp' href='#524891'><time timestamp='2017-01-18T16:29:00Z'>16:29</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
and at this point, we can remove the assert
<br>
</div>

<div class='talk op-msg' data-timestamp='1484756940' id='524892'>
<a class='timestamp' href='#524892'><time timestamp='2017-01-18T16:29:00Z'>16:29</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
I&#x27;ll do it after lunch if you havent gotten to it
<br>
</div>

<div class='talk op-msg' data-timestamp='1484756940' id='524893'>
<a class='timestamp' href='#524893'><time timestamp='2017-01-18T16:29:00Z'>16:29</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
I&#x27;d prefer leaving it in?
<br>
</div>

<div class='talk op-msg' data-timestamp='1484756940' id='524894'>
<a class='timestamp' href='#524894'><time timestamp='2017-01-18T16:29:00Z'>16:29</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
afaict its super easy to fix
<br>
</div>

<div class='talk op-msg' data-timestamp='1484756940' id='524895'>
<a class='timestamp' href='#524895'><time timestamp='2017-01-18T16:29:00Z'>16:29</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
I&#x27;m incredibly confident in the above change
<br>
</div>

<div class='talk op-msg' data-timestamp='1484756940' id='524896'>
<a class='timestamp' href='#524896'><time timestamp='2017-01-18T16:29:00Z'>16:29</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
(as its equivalent to the change I&#x27;ve been running for months now)
<br>
</div>

<div class='talk op-msg' data-timestamp='1484757000' id='524897'>
<a class='timestamp' href='#524897'><time timestamp='2017-01-18T16:30:00Z'>16:30</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
BlueMatt: point me at a node running it, let&#x27;s see if i can bring it down :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1484757000' id='524898'>
<a class='timestamp' href='#524898'><time timestamp='2017-01-18T16:30:00Z'>16:30</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
the fibre nodes
<br>
</div>

<div class='talk op-msg' data-timestamp='1484757060' id='524899'>
<a class='timestamp' href='#524899'><time timestamp='2017-01-18T16:31:00Z'>16:31</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
:p     
<br>
</div>

<div class='talk op-msg' data-timestamp='1484757060' id='524900'>
<a class='timestamp' href='#524900'><time timestamp='2017-01-18T16:31:00Z'>16:31</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
heh     
<br>
</div>

<div class='talk op-msg' data-timestamp='1484757240' id='524901'>
<a class='timestamp' href='#524901'><time timestamp='2017-01-18T16:34:00Z'>16:34</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
I&#x27;ll swap my public node to master soonish
<br>
</div>

<div class='talk op-msg' data-timestamp='1484757240' id='524902'>
<a class='timestamp' href='#524902'><time timestamp='2017-01-18T16:34:00Z'>16:34</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
it gets a shitload of connection churn
<br>
</div>

<div class='talk op-msg' data-timestamp='1484757240' id='524903'>
<a class='timestamp' href='#524903'><time timestamp='2017-01-18T16:34:00Z'>16:34</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
and fun spy nodes and shit which do batshit crazy things
<br>
</div>

<div class='talk op-msg' data-timestamp='1484758320' id='524904'>
<a class='timestamp' href='#524904'><time timestamp='2017-01-18T16:52:00Z'>16:52</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] practicalswift opened pull request #9575: [trivial] Add comment about unreachable code (master...never-executed-comment) <a href="https://github.com/bitcoin/bitcoin/pull/9575" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9575</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1484758320' id='524905'>
<a class='timestamp' href='#524905'><time timestamp='2017-01-18T16:52:00Z'>16:52</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
jonasschnelli: <a href="https://github.com/bitcoin/bitcoin/pull/9461#discussion_r96680764" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9461#discussion_r96680764</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1484758860' id='524906'>
<a class='timestamp' href='#524906'><time timestamp='2017-01-18T17:01:00Z'>17:01</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] practicalswift opened pull request #9576: [wallet] Remove redundant initialization (master...remove-redundant-initialization-ii) <a href="https://github.com/bitcoin/bitcoin/pull/9576" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9576</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1484760360' id='524907'>
<a class='timestamp' href='#524907'><time timestamp='2017-01-18T17:26:00Z'>17:26</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
BlueMatt: ok, whipping something up on top of yours. Think I&#x27;ve got a full picture of it all in my head.
<br>
</div>

<div class='talk op-msg' data-timestamp='1484760960' id='524908'>
<a class='timestamp' href='#524908'><time timestamp='2017-01-18T17:36:00Z'>17:36</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
cfields: ok, thanks, got distracted on other things
<br>
</div>

<div class='talk op-msg' data-timestamp='1484764680' id='524909'>
<a class='timestamp' href='#524909'><time timestamp='2017-01-18T18:38:00Z'>18:38</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
someone should tag #9569, #9371 and #9148 for 0.14 because they fix 0.14-tagged issues
<br>
</div>

<div class='talk op-msg' data-timestamp='1484764680' id='524910'>
<a class='timestamp' href='#524910'><time timestamp='2017-01-18T18:38:00Z'>18:38</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/9569" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/9569</a> | Setting -blocksonly sets -maxmempool to zero. by jnewbery · Pull Request #9569 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1484764680' id='524911'>
<a class='timestamp' href='#524911'><time timestamp='2017-01-18T18:38:00Z'>18:38</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/9371" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/9371</a> | Notify on removal by morcos · Pull Request #9371 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1484764740' id='524912'>
<a class='timestamp' href='#524912'><time timestamp='2017-01-18T18:39:00Z'>18:39</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/9148" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/9148</a> | Wallet RPCs can return stale info due to ProcessNewBlock Race · Issue #9148 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1484765880' id='524913'>
<a class='timestamp' href='#524913'><time timestamp='2017-01-18T18:58:00Z'>18:58</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
sorry, that last one should be #9570
<br>
</div>

<div class='talk op-msg' data-timestamp='1484765880' id='524914'>
<a class='timestamp' href='#524914'><time timestamp='2017-01-18T18:58:00Z'>18:58</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/9570" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/9570</a> | Block Wallet RPCs until wallet is synced to our current chain by TheBlueMatt · Pull Request #9570 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1484766360' id='524915'>
<a class='timestamp' href='#524915'><time timestamp='2017-01-18T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 7 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/b0b57a17306a...6012967c4746" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/b0b57a17306a...6012967c4746</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1484766360' id='524916'>
<a class='timestamp' href='#524916'><time timestamp='2017-01-18T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 843c560 Pieter Wuille: Avoid unaligned access in crypto i/o
<br>
</div>

<div class='talk op-msg' data-timestamp='1484766360' id='524917'>
<a class='timestamp' href='#524917'><time timestamp='2017-01-18T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master f94f3e0 Pieter Wuille: Avoid integer overflows in scriptnum tests
<br>
</div>

<div class='talk op-msg' data-timestamp='1484766360' id='524918'>
<a class='timestamp' href='#524918'><time timestamp='2017-01-18T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 6b03bfb Pieter Wuille: Fix memory leak in wallet tests
<br>
</div>

<div class='talk op-msg' data-timestamp='1484766360' id='524919'>
<a class='timestamp' href='#524919'><time timestamp='2017-01-18T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj closed pull request #9512: Fix various things -fsanitize complains about (master...sanitize) <a href="https://github.com/bitcoin/bitcoin/pull/9512" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9512</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1484766480' id='524920'>
<a class='timestamp' href='#524920'><time timestamp='2017-01-18T19:08:00Z'>19:08</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
Does some one mind merging in #9350? Pretty trivial, just fixing some documentation on tests
<br>
</div>

<div class='talk op-msg' data-timestamp='1484766480' id='524921'>
<a class='timestamp' href='#524921'><time timestamp='2017-01-18T19:08:00Z'>19:08</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/9350" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/9350</a> | [Trivial] Adding label for amount inside of tx_valid/tx_invalid.json by Christewart · Pull Request #9350 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1484767260' id='524922'>
<a class='timestamp' href='#524922'><time timestamp='2017-01-18T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
wumpus: sipa: I updated #9371 in a way that I think accomplish both of our goals
<br>
</div>

<div class='talk op-msg' data-timestamp='1484767260' id='524923'>
<a class='timestamp' href='#524923'><time timestamp='2017-01-18T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/9371" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/9371</a> | Notify on removal by morcos · Pull Request #9371 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1484767260' id='524924'>
<a class='timestamp' href='#524924'><time timestamp='2017-01-18T19:21:00Z'>19:21</time></a>
&lt;<span class='nick nick-16'> * BlueMatt</span>&gt;
likes it because I have future plans in the area...but will explain on the pr when I review in a minute :p
<br>
</div>

<div class='talk op-msg' data-timestamp='1484768040' id='524925'>
<a class='timestamp' href='#524925'><time timestamp='2017-01-18T19:34:00Z'>19:34</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
BlueMatt: hmm, looks like that could make your recent-tx cache significantly smarter
<br>
</div>

<div class='talk op-msg' data-timestamp='1484768280' id='524926'>
<a class='timestamp' href='#524926'><time timestamp='2017-01-18T19:38:00Z'>19:38</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
yes, lots of ways it could be made smarter :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1484769420' id='524927'>
<a class='timestamp' href='#524927'><time timestamp='2017-01-18T19:57:00Z'>19:57</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jnewbery opened pull request #9577: Fix docstrings in qa tests (master...docstrings) <a href="https://github.com/bitcoin/bitcoin/pull/9577" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9577</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1484769480' id='524928'>
<a class='timestamp' href='#524928'><time timestamp='2017-01-18T19:58:00Z'>19:58</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
sipa_/wumpus: so I think the only way to fix the regression introduced in #7946 without giving up the gains it gave us is to introduce a second cs_wallet - cs_wallet_locked_before_cs_main
<br>
</div>

<div class='talk op-msg' data-timestamp='1484769480' id='524929'>
<a class='timestamp' href='#524929'><time timestamp='2017-01-18T19:58:00Z'>19:58</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/7946" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/7946</a> | Reduce cs_main locks during ConnectTip/SyncWithWallets by jonasschnelli · Pull Request #7946 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1484769480' id='524930'>
<a class='timestamp' href='#524930'><time timestamp='2017-01-18T19:58:00Z'>19:58</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
see <a href="https://github.com/bitcoin/bitcoin/pull/9570#issuecomment-273583506" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9570#issuecomment-273583506</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1484769480' id='524931'>
<a class='timestamp' href='#524931'><time timestamp='2017-01-18T19:58:00Z'>19:58</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
please dont kill me
<br>
</div>

<div class='talk op-msg' data-timestamp='1484769660' id='524932'>
<a class='timestamp' href='#524932'><time timestamp='2017-01-18T20:01:00Z'>20:01</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
morcos: ah, i missed your comment in the description. I guess i&#x27;m requesting choice #1 :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1484769660' id='524933'>
<a class='timestamp' href='#524933'><time timestamp='2017-01-18T20:01:00Z'>20:01</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/1" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/1</a> | JSON-RPC support for mobile devices (&quot;ultra-lightweight&quot; clients) · Issue #1 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1484769720' id='524934'>
<a class='timestamp' href='#524934'><time timestamp='2017-01-18T20:02:00Z'>20:02</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
cfields: regarding SyncTransaction changes, see <a href="https://github.com/bitcoin/bitcoin/pull/9570/commits/bc4c4c66863fce718402a3f9b2da4e92c1898745" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9570/commits/bc4c4c66863fce718402a3f9b2da4e92c1898745</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1484769720' id='524935'>
<a class='timestamp' href='#524935'><time timestamp='2017-01-18T20:02:00Z'>20:02</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
I do remove the NOT_IN_BLOCK kludge ther
<br>
</div>

<div class='talk op-msg' data-timestamp='1484769720' id='524936'>
<a class='timestamp' href='#524936'><time timestamp='2017-01-18T20:02:00Z'>20:02</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
e     
<br>
</div>

<div class='talk op-msg' data-timestamp='1484769720' id='524937'>
<a class='timestamp' href='#524937'><time timestamp='2017-01-18T20:02:00Z'>20:02</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
(but this introduces the need for a second wallet lock)
<br>
</div>

<div class='talk op-msg' data-timestamp='1484769720' id='524938'>
<a class='timestamp' href='#524938'><time timestamp='2017-01-18T20:02:00Z'>20:02</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
cfields: I&#x27;m trying to do the minimal required in 9371 to fix the regression though..  as it needs to be merged for 0.14...
<br>
</div>

<div class='talk op-msg' data-timestamp='1484769780' id='524939'>
<a class='timestamp' href='#524939'><time timestamp='2017-01-18T20:03:00Z'>20:03</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
morcos: ok, fair enough
<br>
</div>

<div class='talk op-msg' data-timestamp='1484769780' id='524940'>
<a class='timestamp' href='#524940'><time timestamp='2017-01-18T20:03:00Z'>20:03</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
so i don&#x27;t want to do a new signal now b/c it will require thinking carefully about what should subscribe to it
<br>
</div>

<div class='talk op-msg' data-timestamp='1484769780' id='524941'>
<a class='timestamp' href='#524941'><time timestamp='2017-01-18T20:03:00Z'>20:03</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
but i&#x27;m fine dropping the SYNC_TRANASCTION_NOT_IN_BLOCK as BlueMatt did
<br>
</div>

<div class='talk op-msg' data-timestamp='1484769840' id='524942'>
<a class='timestamp' href='#524942'><time timestamp='2017-01-18T20:04:00Z'>20:04</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
ok, will look over that one too
<br>
</div>

<div class='talk op-msg' data-timestamp='1484770200' id='524943'>
<a class='timestamp' href='#524943'><time timestamp='2017-01-18T20:10:00Z'>20:10</time></a>
&lt;<span class='nick nick-1'> sipa_</span>&gt;
BlueMatt: i&#x27;m unclear about it... can you write a simple commit that does the cs_wallet_locked_before_cs_main ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1484770200' id='524944'>
<a class='timestamp' href='#524944'><time timestamp='2017-01-18T20:10:00Z'>20:10</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
sipa_: I think we can push off to 0.15, but I will do that, yes, one sec
<br>
</div>

<div class='talk op-msg' data-timestamp='1484773620' id='524945'>
<a class='timestamp' href='#524945'><time timestamp='2017-01-18T21:07:00Z'>21:07</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
done with reviews I think. ping me if there&#x27;s anything needed priority on before 0.14 freeze.
<br>
</div>

<div class='talk op-msg' data-timestamp='1484775900' id='524946'>
<a class='timestamp' href='#524946'><time timestamp='2017-01-18T21:45:00Z'>21:45</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
sipa_: see <a href="https://github.com/TheBlueMatt/bitcoin/commit/c99e4d107aac573e8de892d7592b04c685186e44" class="link" target="_blank">https://github.com/TheBlueMatt/bitcoin/commit/c99e4d107aac573e8de892d7592b04c685186e44</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1484775900' id='524947'>
<a class='timestamp' href='#524947'><time timestamp='2017-01-18T21:45:00Z'>21:45</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
specifically, this half-reverts #9570 to get to the behavior intended in #7946 without introducing the getbalance-etc-may-return-data-from-mid-block-processing regression
<br>
</div>

<div class='talk op-msg' data-timestamp='1484775900' id='524948'>
<a class='timestamp' href='#524948'><time timestamp='2017-01-18T21:45:00Z'>21:45</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/9570" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/9570</a> | Block Wallet RPCs until wallet is synced to our current chain by TheBlueMatt · Pull Request #9570 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1484775960' id='524949'>
<a class='timestamp' href='#524949'><time timestamp='2017-01-18T21:46:00Z'>21:46</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/7946" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/7946</a> | Reduce cs_main locks during ConnectTip/SyncWithWallets by jonasschnelli · Pull Request #7946 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1484777040' id='524950'>
<a class='timestamp' href='#524950'><time timestamp='2017-01-18T22:04:00Z'>22:04</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
someone wanna kick <a href="https://travis-ci.org/bitcoin/bitcoin/builds/193151086" class="link" target="_blank">https://travis-ci.org/bitcoin/bitcoin/builds/193151086</a> ? looks like it failed due to travis timeout because it built dependancies and not because it failed
<br>
</div>

<div class='talk op-msg' data-timestamp='1484778660' id='524951'>
<a class='timestamp' href='#524951'><time timestamp='2017-01-18T22:31:00Z'>22:31</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/blob/master/src/txmempool.cpp#L555" class="link" target="_blank">https://github.com/bitcoin/bitcoin/blob/master/src/txmempool.cpp#L555</a> &lt;-- that is wrong...100 block reorg and it could blow up (with the checkmempool debug instrumentation enabled)
<br>
</div>

<div class='talk op-msg' data-timestamp='1484780100' id='524952'>
<a class='timestamp' href='#524952'><time timestamp='2017-01-18T22:55:00Z'>22:55</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] TheBlueMatt opened pull request #9578: Add missing mempool lock for CalculateMemPoolAncestors (master...2017-01-fix-missing-wallet-mempool-lock) <a href="https://github.com/bitcoin/bitcoin/pull/9578" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9578</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1484781000' id='524953'>
<a class='timestamp' href='#524953'><time timestamp='2017-01-18T23:10:00Z'>23:10</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
BlueMatt: ok, i&#x27;ve been staring at this for most of the day and i&#x27;m reasonably satisfied now. I&#x27;m good with your change with 2 tweaks
<br>
</div>

<div class='talk op-msg' data-timestamp='1484781060' id='524954'>
<a class='timestamp' href='#524954'><time timestamp='2017-01-18T23:11:00Z'>23:11</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
1. deserialize the whole thing locally. Same change you made for nVersion, let&#x27;s go ahead and do that for everything. That way we don&#x27;t end up in a weird state if something throws
<br>
</div>

<div class='talk op-msg' data-timestamp='1484781060' id='524955'>
<a class='timestamp' href='#524955'><time timestamp='2017-01-18T23:11:00Z'>23:11</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
and 2. just a quick reordering that moves the assignment into CNode up a bit, and sets nVersion/fSuccessfullyConnected last.
<br>
</div>

<div class='talk op-msg' data-timestamp='1484781360' id='524956'>
<a class='timestamp' href='#524956'><time timestamp='2017-01-18T23:16:00Z'>23:16</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
BlueMatt: something like <a href="https://github.com/theuni/bitcoin/commit/ed60b005fa0b61ab4454e075e6c7d9a54e2c24a0" class="link" target="_blank">https://github.com/theuni/bitcoin/commit/ed60b005fa0b61ab4454e075e6c7d9a54e2c24a0</a> on top of yours
<br>
</div>

</div>
</section>

</body>
</html>
