<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2020-03-23
 — 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2020-03-23' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:18 UTC</pre>
<pre><a href="/bitcoin-core-dev/2020-02-23">&lt;</a><span class='header'>    March 2020    </span><a href="/bitcoin-core-dev/2020-04-23">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A; <a class="" href="/bitcoin-core-dev/2020-03-01">1</a>  <a class="" href="/bitcoin-core-dev/2020-03-02">2</a>  <a class="" href="/bitcoin-core-dev/2020-03-03">3</a>  <a class="" href="/bitcoin-core-dev/2020-03-04">4</a>  <a class="" href="/bitcoin-core-dev/2020-03-05">5</a>  <a class="" href="/bitcoin-core-dev/2020-03-06">6</a>  <a class="" href="/bitcoin-core-dev/2020-03-07">7</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2020-03-08">8</a>  <a class="" href="/bitcoin-core-dev/2020-03-09">9</a> <a class="" href="/bitcoin-core-dev/2020-03-10">10</a> <a class="" href="/bitcoin-core-dev/2020-03-11">11</a> <a class="" href="/bitcoin-core-dev/2020-03-12">12</a> <a class="" href="/bitcoin-core-dev/2020-03-13">13</a> <a class="" href="/bitcoin-core-dev/2020-03-14">14</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2020-03-15">15</a> <a class="" href="/bitcoin-core-dev/2020-03-16">16</a> <a class="" href="/bitcoin-core-dev/2020-03-17">17</a> <a class="" href="/bitcoin-core-dev/2020-03-18">18</a> <a class="" href="/bitcoin-core-dev/2020-03-19">19</a> <a class="" href="/bitcoin-core-dev/2020-03-20">20</a> <a class="" href="/bitcoin-core-dev/2020-03-21">21</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2020-03-22">22</a> <a class="current" href="/bitcoin-core-dev/2020-03-23">23</a> <a class="" href="/bitcoin-core-dev/2020-03-24">24</a> <a class="" href="/bitcoin-core-dev/2020-03-25">25</a> <a class="" href="/bitcoin-core-dev/2020-03-26">26</a> <a class="" href="/bitcoin-core-dev/2020-03-27">27</a> <a class="" href="/bitcoin-core-dev/2020-03-28">28</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2020-03-29">29</a> <a class="" href="/bitcoin-core-dev/2020-03-30">30</a> <a class="" href="/bitcoin-core-dev/2020-03-31">31</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1584923880' id='379405'>
<a class='timestamp' href='#379405'><time timestamp='2020-03-23T00:38:00Z'>00:38</time></a>
&lt;<span class='nick nick-11'> kallewoof</span>&gt;
sipa: I had the same error yesterday. Tried restarting the job again today and now it seems to be working.
<br>
</div>

<div class='talk op-msg' data-timestamp='1584926460' id='379406'>
<a class='timestamp' href='#379406'><time timestamp='2020-03-23T01:21:00Z'>01:21</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
#18160 for 0.20?
<br>
</div>

<div class='talk op-msg' data-timestamp='1584926460' id='379407'>
<a class='timestamp' href='#379407'><time timestamp='2020-03-23T01:21:00Z'>01:21</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/18160" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/18160</a> | gui: Avoid Wallet::GetBalance in WalletModel::pollBalanceChanged by promag · Pull Request #18160 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1584926640' id='379408'>
<a class='timestamp' href='#379408'><time timestamp='2020-03-23T01:24:00Z'>01:24</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
promag: can you clarify if that is a bugfix?
<br>
</div>

<div class='talk op-msg' data-timestamp='1584926700' id='379409'>
<a class='timestamp' href='#379409'><time timestamp='2020-03-23T01:25:00Z'>01:25</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
not a bugfix, but rather a GUI improvement
<br>
</div>

<div class='talk op-msg' data-timestamp='1584926760' id='379410'>
<a class='timestamp' href='#379410'><time timestamp='2020-03-23T01:26:00Z'>01:26</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
ok
<br>
</div>

<div class='talk op-msg' data-timestamp='1584926760' id='379411'>
<a class='timestamp' href='#379411'><time timestamp='2020-03-23T01:26:00Z'>01:26</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
#15015
<br>
</div>

<div class='talk op-msg' data-timestamp='1584926760' id='379412'>
<a class='timestamp' href='#379412'><time timestamp='2020-03-23T01:26:00Z'>01:26</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/15015" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/15015</a> | slow GUI with large wallets · Issue #15015 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1584927180' id='379413'>
<a class='timestamp' href='#379413'><time timestamp='2020-03-23T01:33:00Z'>01:33</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
fanquake: fwiw it has 4 acks
<br>
</div>

<div class='talk op-msg' data-timestamp='1584927240' id='379414'>
<a class='timestamp' href='#379414'><time timestamp='2020-03-23T01:34:00Z'>01:34</time></a>
&lt;<span class='nick nick-8'> fanquake</span>&gt;
promag: ok, I&#x27;ll take a look this morning
<br>
</div>

<div class='talk op-msg' data-timestamp='1584927240' id='379415'>
<a class='timestamp' href='#379415'><time timestamp='2020-03-23T01:34:00Z'>01:34</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
I also think it could be backport in 0.19.1
<br>
</div>

<div class='talk op-msg' data-timestamp='1584927240' id='379416'>
<a class='timestamp' href='#379416'><time timestamp='2020-03-23T01:34:00Z'>01:34</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
thanks
<br>
</div>

<div class='talk op-msg' data-timestamp='1584931560' id='379417'>
<a class='timestamp' href='#379417'><time timestamp='2020-03-23T02:46:00Z'>02:46</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] fanquake pushed 2 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/5504703a9f83...57a8fa9c3b44" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/5504703a9f83...57a8fa9c3b44</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1584931560' id='379418'>
<a class='timestamp' href='#379418'><time timestamp='2020-03-23T02:46:00Z'>02:46</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master f0dfac7 Sebastian Falbesoner: test: add executable flag for rpc_estimatefee.py
<br>
</div>

<div class='talk op-msg' data-timestamp='1584931560' id='379419'>
<a class='timestamp' href='#379419'><time timestamp='2020-03-23T02:46:00Z'>02:46</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 57a8fa9 fanquake: Merge #18406: test: add executable flag for rpc_estimatefee.py
<br>
</div>

<div class='talk op-msg' data-timestamp='1584931620' id='379420'>
<a class='timestamp' href='#379420'><time timestamp='2020-03-23T02:47:00Z'>02:47</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] fanquake merged pull request #18406: test: add executable flag for rpc_estimatefee.py (master...20200322-test-add-executable-flag-for-rpc-estimatefee) <a href="https://github.com/bitcoin/bitcoin/pull/18406" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/18406</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1584937680' id='379421'>
<a class='timestamp' href='#379421'><time timestamp='2020-03-23T04:28:00Z'>04:28</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] practicalswift opened pull request #18407: tests: Add proof-of-work fuzzing harness (master...fuzzers-proof-of-work) <a href="https://github.com/bitcoin/bitcoin/pull/18407" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/18407</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1584938100' id='379422'>
<a class='timestamp' href='#379422'><time timestamp='2020-03-23T04:35:00Z'>04:35</time></a>
&lt;<span class='nick nick-3'> aj</span>&gt;
instagibbs: #13990 if you&#x27;re bored
<br>
</div>

<div class='talk op-msg' data-timestamp='1584938160' id='379423'>
<a class='timestamp' href='#379423'><time timestamp='2020-03-23T04:36:00Z'>04:36</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/13990" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/13990</a> | Allow fee estimation to work with lower fees by ajtowns · Pull Request #13990 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1584948840' id='379424'>
<a class='timestamp' href='#379424'><time timestamp='2020-03-23T07:34:00Z'>07:34</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] hebasto closed pull request #18387: gui: Fix segfault for loading and immediately unloading wallet (master...20200319-fix-modelwallet-segfault) <a href="https://github.com/bitcoin/bitcoin/pull/18387" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/18387</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1584952140' id='379425'>
<a class='timestamp' href='#379425'><time timestamp='2020-03-23T08:29:00Z'>08:29</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
kallewoof: wrt #17994 - I assumed that we should first flush the block file to a persistent storage and afterwards flush the undo file (finalization not being relevant for this). Because in the case of a crash/power outage in between flushing both we could end up with a block on disk without undo, or with undo on disk without a block.
<br>
</div>

<div class='talk op-msg' data-timestamp='1584952140' id='379426'>
<a class='timestamp' href='#379426'><time timestamp='2020-03-23T08:29:00Z'>08:29</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/17994" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/17994</a> | validation: flush undo files after last block write by kallewoof · Pull Request #17994 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1584952200' id='379427'>
<a class='timestamp' href='#379427'><time timestamp='2020-03-23T08:30:00Z'>08:30</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
and I assume we dont want the latter 
<br>
</div>

<div class='talk op-msg' data-timestamp='1584952260' id='379428'>
<a class='timestamp' href='#379428'><time timestamp='2020-03-23T08:31:00Z'>08:31</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
but now I can&#x27;t find anything in the code that would brick if we have undo without a block
<br>
</div>

<div class='talk op-msg' data-timestamp='1584954660' id='379429'>
<a class='timestamp' href='#379429'><time timestamp='2020-03-23T09:11:00Z'>09:11</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/blob/312d27b/src/validation.cpp#L4810" class="link" target="_blank">https://github.com/bitcoin/bitcoin/blob/312d27b/src/validation.cpp#L4810</a> -- this code would get upset if it finds an undo without a block, hmm
<br>
</div>

<div class='talk op-msg' data-timestamp='1584959160' id='379430'>
<a class='timestamp' href='#379430'><time timestamp='2020-03-23T10:26:00Z'>10:26</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] vova557 opened pull request #18408: Bitcoin (master...master) <a href="https://github.com/bitcoin/bitcoin/pull/18408" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/18408</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1584959280' id='379431'>
<a class='timestamp' href='#379431'><time timestamp='2020-03-23T10:28:00Z'>10:28</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] fanquake closed pull request #18408: Bitcoin (master...master) <a href="https://github.com/bitcoin/bitcoin/pull/18408" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/18408</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1584963540' id='379432'>
<a class='timestamp' href='#379432'><time timestamp='2020-03-23T11:39:00Z'>11:39</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke pushed 3 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/57a8fa9c3b44...d478a737dbdd" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/57a8fa9c3b44...d478a737dbdd</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1584963540' id='379433'>
<a class='timestamp' href='#379433'><time timestamp='2020-03-23T11:39:00Z'>11:39</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master fa01feb MarcoFalke: test: Remove ci timeout restriction in test_runner
<br>
</div>

<div class='talk op-msg' data-timestamp='1584963540' id='379434'>
<a class='timestamp' href='#379434'><time timestamp='2020-03-23T11:39:00Z'>11:39</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master fa92af5 MarcoFalke: ci: Run feature_block and feature_abortnode in valgrind
<br>
</div>

<div class='talk op-msg' data-timestamp='1584963540' id='379435'>
<a class='timestamp' href='#379435'><time timestamp='2020-03-23T11:39:00Z'>11:39</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master d478a73 MarcoFalke: Merge #18392: ci: Run feature_block in valgrind
<br>
</div>

<div class='talk op-msg' data-timestamp='1584963540' id='379436'>
<a class='timestamp' href='#379436'><time timestamp='2020-03-23T11:39:00Z'>11:39</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke merged pull request #18392: ci: Run feature_block in valgrind (master...2003-ciMoreVal) <a href="https://github.com/bitcoin/bitcoin/pull/18392" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/18392</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1584963660' id='379437'>
<a class='timestamp' href='#379437'><time timestamp='2020-03-23T11:41:00Z'>11:41</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke pushed 2 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/d478a737dbdd...97b0687501ce" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/d478a737dbdd...97b0687501ce</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1584963660' id='379438'>
<a class='timestamp' href='#379438'><time timestamp='2020-03-23T11:41:00Z'>11:41</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 7c1ac70 practicalswift: tests: Don&#x27;t assume presence of __builtin_mul_overflow in MultiplicationOv...
<br>
</div>

<div class='talk op-msg' data-timestamp='1584963660' id='379439'>
<a class='timestamp' href='#379439'><time timestamp='2020-03-23T11:41:00Z'>11:41</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 97b0687 MarcoFalke: Merge #18393: tests: Don&#x27;t assume presence of __builtin_mul_overflow(…) in...
<br>
</div>

<div class='talk op-msg' data-timestamp='1584963660' id='379440'>
<a class='timestamp' href='#379440'><time timestamp='2020-03-23T11:41:00Z'>11:41</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke merged pull request #18393: tests: Don&#x27;t assume presence of __builtin_mul_overflow(…) in MultiplicationOverflow(…) fuzzing harness (master...multiplication-overflow-fixup) <a href="https://github.com/bitcoin/bitcoin/pull/18393" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/18393</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1584964380' id='379441'>
<a class='timestamp' href='#379441'><time timestamp='2020-03-23T11:53:00Z'>11:53</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke closed pull request #18380: doc: Remove html comment in PULL_REQUEST_TEMPLATE (master...2003-docGitHubTemplateNoComment) <a href="https://github.com/bitcoin/bitcoin/pull/18380" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/18380</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1584970140' id='379442'>
<a class='timestamp' href='#379442'><time timestamp='2020-03-23T13:29:00Z'>13:29</time></a>
&lt;<span class='nick nick-11'> kallewoof</span>&gt;
vasild: Damn. I guess having undo without block is bad, even if there weren&#x27;t any instances of badness happening. I wanted to keep this as simple as possible...
<br>
</div>

<div class='talk op-msg' data-timestamp='1584970140' id='379443'>
<a class='timestamp' href='#379443'><time timestamp='2020-03-23T13:29:00Z'>13:29</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
just composing a comment on gh...
<br>
</div>

<div class='talk op-msg' data-timestamp='1584970140' id='379444'>
<a class='timestamp' href='#379444'><time timestamp='2020-03-23T13:29:00Z'>13:29</time></a>
&lt;<span class='nick nick-11'> kallewoof</span>&gt;
vasild: But wait. We do have the block. It&#x27;s just that we don&#x27;t flush the block file. Or am I confused now?
<br>
</div>

<div class='talk op-msg' data-timestamp='1584970200' id='379445'>
<a class='timestamp' href='#379445'><time timestamp='2020-03-23T13:30:00Z'>13:30</time></a>
&lt;<span class='nick nick-11'> kallewoof</span>&gt;
vasild: Block is written when it comes in, and later it is connected to tip and undo data is written.
<br>
</div>

<div class='talk op-msg' data-timestamp='1584970260' id='379446'>
<a class='timestamp' href='#379446'><time timestamp='2020-03-23T13:31:00Z'>13:31</time></a>
&lt;<span class='nick nick-11'> kallewoof</span>&gt;
I guess no flush essentially means no guarantees that block was actually written or not, though...
<br>
</div>

<div class='talk op-msg' data-timestamp='1584970320' id='379447'>
<a class='timestamp' href='#379447'><time timestamp='2020-03-23T13:32:00Z'>13:32</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
posted: <a href="https://github.com/bitcoin/bitcoin/pull/17994#discussion_r396451804" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/17994#discussion_r396451804</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1584970320' id='379448'>
<a class='timestamp' href='#379448'><time timestamp='2020-03-23T13:32:00Z'>13:32</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
now, lets figure this out :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1584970380' id='379449'>
<a class='timestamp' href='#379449'><time timestamp='2020-03-23T13:33:00Z'>13:33</time></a>
&lt;<span class='nick nick-11'> kallewoof</span>&gt;
Thanks, your comment makes perfect sense.
<br>
</div>

<div class='talk op-msg' data-timestamp='1584970500' id='379450'>
<a class='timestamp' href='#379450'><time timestamp='2020-03-23T13:35:00Z'>13:35</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
so, something like the crude patch in <a href="https://github.com/bitcoin/bitcoin/pull/17994/files#r395635091" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/17994/files#r395635091</a> would restore the order of flushing to blk,undo
<br>
</div>

<div class='talk op-msg' data-timestamp='1584970560' id='379451'>
<a class='timestamp' href='#379451'><time timestamp='2020-03-23T13:36:00Z'>13:36</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
it can be simplified because at the time FlushBlockFile() is called thisUndoNeedsFlushingAndFinalizing == nLastBlockFile, so we can FlushUndoFile(nLastBlockFile, true).
<br>
</div>

<div class='talk op-msg' data-timestamp='1584970620' id='379452'>
<a class='timestamp' href='#379452'><time timestamp='2020-03-23T13:37:00Z'>13:37</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
FlushBlockFile() flushes nLastBlockFile
<br>
</div>

<div class='talk op-msg' data-timestamp='1584970860' id='379453'>
<a class='timestamp' href='#379453'><time timestamp='2020-03-23T13:41:00Z'>13:41</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
hmm
<br>
</div>

<div class='talk op-msg' data-timestamp='1584971100' id='379454'>
<a class='timestamp' href='#379454'><time timestamp='2020-03-23T13:45:00Z'>13:45</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
there is a mutex protecting nLastBlockFile :/
<br>
</div>

<div class='talk op-msg' data-timestamp='1584971220' id='379455'>
<a class='timestamp' href='#379455'><time timestamp='2020-03-23T13:47:00Z'>13:47</time></a>
&lt;<span class='nick nick-11'> kallewoof</span>&gt;
vasild: It feels like you can just use a flag. Kinda like <a href="https://github.com/bitcoin/bitcoin/pull/17994/commits/84ed7228b69a03c56dfd77bb0df84b39b77b5cea" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/17994/commits/84ed7228b69a03c56dfd77bb0df84b39b77b5cea</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1584971220' id='379456'>
<a class='timestamp' href='#379456'><time timestamp='2020-03-23T13:47:00Z'>13:47</time></a>
&lt;<span class='nick nick-11'> kallewoof</span>&gt;
vasild: maybe I&#x27;m overengineering this
<br>
</div>

<div class='talk op-msg' data-timestamp='1584971340' id='379457'>
<a class='timestamp' href='#379457'><time timestamp='2020-03-23T13:49:00Z'>13:49</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
yes, my thought, exactly!
<br>
</div>

<div class='talk op-msg' data-timestamp='1584971340' id='379458'>
<a class='timestamp' href='#379458'><time timestamp='2020-03-23T13:49:00Z'>13:49</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
^^ replying to your comment about the flag, not about overengineering ;-)
<br>
</div>

<div class='talk op-msg' data-timestamp='1584971400' id='379459'>
<a class='timestamp' href='#379459'><time timestamp='2020-03-23T13:50:00Z'>13:50</time></a>
&lt;<span class='nick nick-9'> * kallewoof</span>&gt;
nodnods
<br>
</div>

<div class='talk op-msg' data-timestamp='1584971460' id='379460'>
<a class='timestamp' href='#379460'><time timestamp='2020-03-23T13:51:00Z'>13:51</time></a>
&lt;<span class='nick nick-5'> vasild</span>&gt;
kallewoof: now the patch looks good to me, I will stare at it for some more time and will test it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1584971520' id='379461'>
<a class='timestamp' href='#379461'><time timestamp='2020-03-23T13:52:00Z'>13:52</time></a>
&lt;<span class='nick nick-11'> kallewoof</span>&gt;
Nice! :) I recompiled my running node and running this code on it now.
<br>
</div>

<div class='talk op-msg' data-timestamp='1584973740' id='379462'>
<a class='timestamp' href='#379462'><time timestamp='2020-03-23T14:29:00Z'>14:29</time></a>
&lt;<span class='nick nick-14'> hebasto</span>&gt;
promag: mind separating a fix of #18362 from #18338 into its own pr?
<br>
</div>

<div class='talk op-msg' data-timestamp='1584973740' id='379463'>
<a class='timestamp' href='#379463'><time timestamp='2020-03-23T14:29:00Z'>14:29</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/18362" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/18362</a> | gui: segfault unloading and immediately reloading wallet with gui · Issue #18362 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1584973740' id='379464'>
<a class='timestamp' href='#379464'><time timestamp='2020-03-23T14:29:00Z'>14:29</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/18338" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/18338</a> | Fix wallet unload race condition by promag · Pull Request #18338 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1584976140' id='379465'>
<a class='timestamp' href='#379465'><time timestamp='2020-03-23T15:09:00Z'>15:09</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jnewbery opened pull request #18410: Docs: Improve commenting for coins.cpp|h (master...2020-03-coins-comments) <a href="https://github.com/bitcoin/bitcoin/pull/18410" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/18410</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1584978240' id='379466'>
<a class='timestamp' href='#379466'><time timestamp='2020-03-23T15:44:00Z'>15:44</time></a>
&lt;<span class='nick nick-7'> stevenroose</span>&gt;
Are genesis txs included in the txindex?
<br>
</div>

<div class='talk op-msg' data-timestamp='1584978240' id='379467'>
<a class='timestamp' href='#379467'><time timestamp='2020-03-23T15:44:00Z'>15:44</time></a>
&lt;<span class='nick nick-7'> stevenroose</span>&gt;
Is it possible something regarding that changed between 0.17 and 0.18? (I know it&#x27;s a stretch :p)
<br>
</div>

<div class='talk op-msg' data-timestamp='1584978840' id='379468'>
<a class='timestamp' href='#379468'><time timestamp='2020-03-23T15:54:00Z'>15:54</time></a>
&lt;<span class='nick nick-8'> fjahr</span>&gt;
stevenroose: You mean the genesis coinbase tx, right? It is not in the utxo set and it should also not be in txindex. It was never indexed by satoshis original software and changing it would be a change in consensus rules, however unlikely it is that that output is spent. So I doubt there were any changes, although I don&#x27;t know. See also the discussion here: <a href="https://github.com/bitcoin/bitcoin/issues/3303" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/3303</a> 
<br>
</div>

<div class='talk op-msg' data-timestamp='1584978840' id='379469'>
<a class='timestamp' href='#379469'><time timestamp='2020-03-23T15:54:00Z'>15:54</time></a>
&lt;<span class='nick nick-7'> stevenroose</span>&gt;
fjahr: k thanks
<br>
</div>

<div class='talk op-msg' data-timestamp='1584978900' id='379470'>
<a class='timestamp' href='#379470'><time timestamp='2020-03-23T15:55:00Z'>15:55</time></a>
&lt;<span class='nick nick-7'> stevenroose</span>&gt;
I know it&#x27;s not in the UTXO set. But it might have been indexed. But so it appears not.
<br>
</div>

<div class='talk op-msg' data-timestamp='1584979080' id='379471'>
<a class='timestamp' href='#379471'><time timestamp='2020-03-23T15:58:00Z'>15:58</time></a>
&lt;<span class='nick nick-8'> fjahr</span>&gt;
Yeah, it is skipped here: <a href="https://github.com/bitcoin/bitcoin/blame/master/src/index/txindex.cpp#L250" class="link" target="_blank">https://github.com/bitcoin/bitcoin/blame/master/src/index/txindex.cpp#L250</a> The changes you might be referring to are probably the rewrite of the indexing code by jimpo but that should not have changed behavior.
<br>
</div>

<div class='talk op-msg' data-timestamp='1584979320' id='379472'>
<a class='timestamp' href='#379472'><time timestamp='2020-03-23T16:02:00Z'>16:02</time></a>
&lt;<span class='nick nick-7'> stevenroose</span>&gt;
Hmm, ed12d5df1ba52b5ef3dd3799de26bb5e1d3fc654 seems to have introduced that in 2018
<br>
</div>

<div class='talk op-msg' data-timestamp='1584980940' id='379473'>
<a class='timestamp' href='#379473'><time timestamp='2020-03-23T16:29:00Z'>16:29</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] theStack opened pull request #18412: script: fix SCRIPT_ERR_SIG_PUSHONLY error string (master...20200323-fix-script-err-sig-pushonly-error-message) <a href="https://github.com/bitcoin/bitcoin/pull/18412" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/18412</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1584981660' id='379474'>
<a class='timestamp' href='#379474'><time timestamp='2020-03-23T16:41:00Z'>16:41</time></a>
&lt;<span class='nick nick-8'> fjahr</span>&gt;
stevenroose: ah, true, interesting. So it was a bug for some amount of time: <a href="https://github.com/bitcoin/bitcoin/pull/14085" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/14085</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1584981720' id='379475'>
<a class='timestamp' href='#379475'><time timestamp='2020-03-23T16:42:00Z'>16:42</time></a>
&lt;<span class='nick nick-8'> fjahr</span>&gt;
and the blockfilter headers where want made the fix actually get in, TIL
<br>
</div>

<div class='talk op-msg' data-timestamp='1584981780' id='379476'>
<a class='timestamp' href='#379476'><time timestamp='2020-03-23T16:43:00Z'>16:43</time></a>
&lt;<span class='nick nick-8'> fjahr</span>&gt;
s/want/what/
<br>
</div>

<div class='talk op-msg' data-timestamp='1584983580' id='379477'>
<a class='timestamp' href='#379477'><time timestamp='2020-03-23T17:13:00Z'>17:13</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
We don&#x27;t have any shared policy for dns seeder implementations for rate-limiting, do we? There&#x27;s no expectation that &quot;one client ip will send at most 1 request per minute&quot; or whatever? sipa
<br>
</div>

<div class='talk op-msg' data-timestamp='1584983640' id='379478'>
<a class='timestamp' href='#379478'><time timestamp='2020-03-23T17:14:00Z'>17:14</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that sounds like a client policy, not a seeder policy.
<br>
</div>

<div class='talk op-msg' data-timestamp='1584983700' id='379479'>
<a class='timestamp' href='#379479'><time timestamp='2020-03-23T17:15:00Z'>17:15</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
as in: the seeder can&#x27;t prevent people from querying more than once per minite
<br>
</div>

<div class='talk op-msg' data-timestamp='1584983700' id='379480'>
<a class='timestamp' href='#379480'><time timestamp='2020-03-23T17:15:00Z'>17:15</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
*minute
<br>
</div>

<div class='talk op-msg' data-timestamp='1584983700' id='379481'>
<a class='timestamp' href='#379481'><time timestamp='2020-03-23T17:15:00Z'>17:15</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
well, it can ignore floods
<br>
</div>

<div class='talk op-msg' data-timestamp='1584983700' id='379482'>
<a class='timestamp' href='#379482'><time timestamp='2020-03-23T17:15:00Z'>17:15</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
no reason for a shared policy on that tho
<br>
</div>

<div class='talk op-msg' data-timestamp='1584983760' id='379483'>
<a class='timestamp' href='#379483'><time timestamp='2020-03-23T17:16:00Z'>17:16</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
gleb: also note that clients don&#x27;t talk to the seed itself; they talk to DNS servers (typically run by their ISP), and that will query and cache from the seed
<br>
</div>

<div class='talk op-msg' data-timestamp='1584983820' id='379484'>
<a class='timestamp' href='#379484'><time timestamp='2020-03-23T17:17:00Z'>17:17</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
honest clienta do :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1584983880' id='379485'>
<a class='timestamp' href='#379485'><time timestamp='2020-03-23T17:18:00Z'>17:18</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
I&#x27;m implementing DNS cache invalidation triggering by reachable (thus already known) nodes, and I think it makes sense to query like 10 different services (legacy, segwit, BLOOM), etc.
<br>
</div>

<div class='talk op-msg' data-timestamp='1584983880' id='379486'>
<a class='timestamp' href='#379486'><time timestamp='2020-03-23T17:18:00Z'>17:18</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
sipa: you&#x27;d need to go out of your way to bypass it and go direct; and there&#x27;s no benefit in doing so?
<br>
</div>

<div class='talk op-msg' data-timestamp='1584983880' id='379487'>
<a class='timestamp' href='#379487'><time timestamp='2020-03-23T17:18:00Z'>17:18</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
And I was wondering if your seeders would be angry if someone from the same endpoint asks 10 requests at once for different service combinations
<br>
</div>

<div class='talk op-msg' data-timestamp='1584983880' id='379488'>
<a class='timestamp' href='#379488'><time timestamp='2020-03-23T17:18:00Z'>17:18</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gleb: they wouldn&#x27;t know
<br>
</div>

<div class='talk op-msg' data-timestamp='1584983940' id='379489'>
<a class='timestamp' href='#379489'><time timestamp='2020-03-23T17:19:00Z'>17:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
luke-jr: if you want to DoS attack the seeders, you&#x27;d want to connect to them directly i meam
<br>
</div>

<div class='talk op-msg' data-timestamp='1584983940' id='379490'>
<a class='timestamp' href='#379490'><time timestamp='2020-03-23T17:19:00Z'>17:19</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
I don&#x27;t understand why you would do that
<br>
</div>

<div class='talk op-msg' data-timestamp='1584983940' id='379491'>
<a class='timestamp' href='#379491'><time timestamp='2020-03-23T17:19:00Z'>17:19</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
sipa: oh, true
<br>
</div>

<div class='talk op-msg' data-timestamp='1584983940' id='379492'>
<a class='timestamp' href='#379492'><time timestamp='2020-03-23T17:19:00Z'>17:19</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
luke-jr: so that private nodes hit early caches more often
<br>
</div>

<div class='talk op-msg' data-timestamp='1584983940' id='379493'>
<a class='timestamp' href='#379493'><time timestamp='2020-03-23T17:19:00Z'>17:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gleb: i don&#x27;t understanx what you&#x27;re trying to do, though
<br>
</div>

<div class='talk op-msg' data-timestamp='1584984000' id='379494'>
<a class='timestamp' href='#379494'><time timestamp='2020-03-23T17:20:00Z'>17:20</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
sipa: i think we were discussing this the other day
<br>
</div>

<div class='talk op-msg' data-timestamp='1584984000' id='379495'>
<a class='timestamp' href='#379495'><time timestamp='2020-03-23T17:20:00Z'>17:20</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
gleb: I don&#x27;t get it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1584984000' id='379496'>
<a class='timestamp' href='#379496'><time timestamp='2020-03-23T17:20:00Z'>17:20</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gleb: DNS seeds should only be queried when addrman is low, as a fallback
<br>
</div>

<div class='talk op-msg' data-timestamp='1584984060' id='379497'>
<a class='timestamp' href='#379497'><time timestamp='2020-03-23T17:21:00Z'>17:21</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
(not as a last resort like hardcoded seeds, but usually nodes shouldn&#x27;t be contacting them at all if they&#x27;re run before and have healthy number of connections)
<br>
</div>

<div class='talk op-msg' data-timestamp='1584984060' id='379498'>
<a class='timestamp' href='#379498'><time timestamp='2020-03-23T17:21:00Z'>17:21</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
sipa: or on the first start.
<br>
</div>

<div class='talk op-msg' data-timestamp='1584984060' id='379499'>
<a class='timestamp' href='#379499'><time timestamp='2020-03-23T17:21:00Z'>17:21</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
&quot;if they&#x27;ve run before&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1584984120' id='379500'>
<a class='timestamp' href='#379500'><time timestamp='2020-03-23T17:22:00Z'>17:22</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yeah
<br>
</div>

<div class='talk op-msg' data-timestamp='1584984240' id='379501'>
<a class='timestamp' href='#379501'><time timestamp='2020-03-23T17:24:00Z'>17:24</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i also don&#x27;t understand why you&#x27;re querying for multiple services
<br>
</div>

<div class='talk op-msg' data-timestamp='1584984240' id='379502'>
<a class='timestamp' href='#379502'><time timestamp='2020-03-23T17:24:00Z'>17:24</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
sipa: Do you understand why I want to do it in the first place? (ignoring multiple services)
<br>
</div>

<div class='talk op-msg' data-timestamp='1584984240' id='379503'>
<a class='timestamp' href='#379503'><time timestamp='2020-03-23T17:24:00Z'>17:24</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
no
<br>
</div>

<div class='talk op-msg' data-timestamp='1584984600' id='379504'>
<a class='timestamp' href='#379504'><time timestamp='2020-03-23T17:30:00Z'>17:30</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
luke-jr Managed to explain this to sipa via quoting greg from that day :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1584984600' id='379505'>
<a class='timestamp' href='#379505'><time timestamp='2020-03-23T17:30:00Z'>17:30</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
&quot;I wonder if listening nodes who are getting incoming connections should randomly query dnsseeds to keep upstream caches primed, but throwing out the results (or comparing to their addrman, logging if there are a bunch of results they don&#x27;t now about, then throwing away the results).  Those nodes are already not anonymous by virtue of sucessfully
<br>
</div>

<div class='talk op-msg' data-timestamp='1584984600' id='379506'>
<a class='timestamp' href='#379506'><time timestamp='2020-03-23T17:30:00Z'>17:30</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
listening, so they don&#x27;t gain anything by trying&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1584984720' id='379507'>
<a class='timestamp' href='#379507'><time timestamp='2020-03-23T17:32:00Z'>17:32</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
hmm
<br>
</div>

<div class='talk op-msg' data-timestamp='1584984720' id='379508'>
<a class='timestamp' href='#379508'><time timestamp='2020-03-23T17:32:00Z'>17:32</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
I don&#x27;t know if there&#x27;s actually value to priming caches tho?
<br>
</div>

<div class='talk op-msg' data-timestamp='1584984720' id='379509'>
<a class='timestamp' href='#379509'><time timestamp='2020-03-23T17:32:00Z'>17:32</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
even a few seconds delay querying isn&#x27;t going to matter..
<br>
</div>

<div class='talk op-msg' data-timestamp='1584984840' id='379510'>
<a class='timestamp' href='#379510'><time timestamp='2020-03-23T17:34:00Z'>17:34</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
luke-jr: it&#x27;s a privacy gain too, as it means private nodes would reveal less to the seeders, if they&#x27;re coming from a network with public nodes
<br>
</div>

<div class='talk op-msg' data-timestamp='1584984900' id='379511'>
<a class='timestamp' href='#379511'><time timestamp='2020-03-23T17:35:00Z'>17:35</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
I&#x27;d say privacy gain has more value than little latency decrease in this context.
<br>
</div>

<div class='talk op-msg' data-timestamp='1584984900' id='379512'>
<a class='timestamp' href='#379512'><time timestamp='2020-03-23T17:35:00Z'>17:35</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
sipa: reveal what?
<br>
</div>

<div class='talk op-msg' data-timestamp='1584984960' id='379513'>
<a class='timestamp' href='#379513'><time timestamp='2020-03-23T17:36:00Z'>17:36</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
luke-jr: e.g. the network that the private node is in
<br>
</div>

<div class='talk op-msg' data-timestamp='1584985020' id='379514'>
<a class='timestamp' href='#379514'><time timestamp='2020-03-23T17:37:00Z'>17:37</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i wouldn&#x27;t be surprised if more things can be inferred from the DNS query
<br>
</div>

<div class='talk op-msg' data-timestamp='1584985320' id='379515'>
<a class='timestamp' href='#379515'><time timestamp='2020-03-23T17:42:00Z'>17:42</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
sipa: more queries on that same network won&#x27;t hide it..
<br>
</div>

<div class='talk op-msg' data-timestamp='1584985320' id='379516'>
<a class='timestamp' href='#379516'><time timestamp='2020-03-23T17:42:00Z'>17:42</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
queries from nodes that are already public
<br>
</div>

<div class='talk op-msg' data-timestamp='1584985320' id='379517'>
<a class='timestamp' href='#379517'><time timestamp='2020-03-23T17:42:00Z'>17:42</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
the seed doesn&#x27;t know if they are or aren&#x27;t..
<br>
</div>

<div class='talk op-msg' data-timestamp='1584985500' id='379518'>
<a class='timestamp' href='#379518'><time timestamp='2020-03-23T17:45:00Z'>17:45</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
?
<br>
</div>

<div class='talk op-msg' data-timestamp='1584985500' id='379519'>
<a class='timestamp' href='#379519'><time timestamp='2020-03-23T17:45:00Z'>17:45</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
the seed has a database of public IPs already, even when it is honest
<br>
</div>

<div class='talk op-msg' data-timestamp='1584985620' id='379520'>
<a class='timestamp' href='#379520'><time timestamp='2020-03-23T17:47:00Z'>17:47</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
what is more queries supposed to do?
<br>
</div>

<div class='talk op-msg' data-timestamp='1584985620' id='379521'>
<a class='timestamp' href='#379521'><time timestamp='2020-03-23T17:47:00Z'>17:47</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i don&#x27;t know what there is to explain
<br>
</div>

<div class='talk op-msg' data-timestamp='1584985680' id='379522'>
<a class='timestamp' href='#379522'><time timestamp='2020-03-23T17:48:00Z'>17:48</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
or what you&#x27;re missing
<br>
</div>

<div class='talk op-msg' data-timestamp='1584985680' id='379523'>
<a class='timestamp' href='#379523'><time timestamp='2020-03-23T17:48:00Z'>17:48</time></a>
&lt;<span class='nick nick-2'> gleb</span>&gt;
sipa: I had the same feeling 10 minute ago with you too :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1584985680' id='379524'>
<a class='timestamp' href='#379524'><time timestamp='2020-03-23T17:48:00Z'>17:48</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
the seed knows &lt;DNS server&gt; made a query. &lt;DNS server&gt; serving more clients doesn&#x27;t tell or conceal from the seed anything
<br>
</div>

<div class='talk op-msg' data-timestamp='1584985680' id='379525'>
<a class='timestamp' href='#379525'><time timestamp='2020-03-23T17:48:00Z'>17:48</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gleb: well &quot;cache invalidation&quot; was very confusing! there is no cache invalidation going on at all :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1584985740' id='379526'>
<a class='timestamp' href='#379526'><time timestamp='2020-03-23T17:49:00Z'>17:49</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
I suppose the querying of more service bit combos might conceal what clients using the DNS server are interested in.. but that&#x27;s just as easily solved by the client using the DNS seed making multiple queries
<br>
</div>

<div class='talk op-msg' data-timestamp='1584985800' id='379527'>
<a class='timestamp' href='#379527'><time timestamp='2020-03-23T17:50:00Z'>17:50</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
(perhaps even more reliably!)
<br>
</div>

<div class='talk op-msg' data-timestamp='1584985800' id='379528'>
<a class='timestamp' href='#379528'><time timestamp='2020-03-23T17:50:00Z'>17:50</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
luke-jr: when a DNS seed sees a query from a DNS server, it has a better than average guess that there is a private node in that DNS server&#x27;s network
<br>
</div>

<div class='talk op-msg' data-timestamp='1584985860' id='379529'>
<a class='timestamp' href='#379529'><time timestamp='2020-03-23T17:51:00Z'>17:51</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
if the public nodes in that network keep the cache fresh, that changes to &quot;seeing a query has a high probability of there being either private or public nodes in that network&quot;... but the public nodes are already public
<br>
</div>

<div class='talk op-msg' data-timestamp='1584985920' id='379530'>
<a class='timestamp' href='#379530'><time timestamp='2020-03-23T17:52:00Z'>17:52</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
it could already be public or private
<br>
</div>

<div class='talk op-msg' data-timestamp='1584985920' id='379531'>
<a class='timestamp' href='#379531'><time timestamp='2020-03-23T17:52:00Z'>17:52</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
oh, except public nodes are already running
<br>
</div>

<div class='talk op-msg' data-timestamp='1584985920' id='379532'>
<a class='timestamp' href='#379532'><time timestamp='2020-03-23T17:52:00Z'>17:52</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
not sure that matters actually
<br>
</div>

<div class='talk op-msg' data-timestamp='1584985980' id='379533'>
<a class='timestamp' href='#379533'><time timestamp='2020-03-23T17:53:00Z'>17:53</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that makes it much stronger (public nodes in general query much less frequently), but I don&#x27;t think that&#x27;s actually necessary for the argument
<br>
</div>

<div class='talk op-msg' data-timestamp='1584985980' id='379534'>
<a class='timestamp' href='#379534'><time timestamp='2020-03-23T17:53:00Z'>17:53</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i think it&#x27;s still a privacy improvement to private nodes without that
<br>
</div>

<div class='talk op-msg' data-timestamp='1584985980' id='379535'>
<a class='timestamp' href='#379535'><time timestamp='2020-03-23T17:53:00Z'>17:53</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
I don&#x27;t
<br>
</div>

<div class='talk op-msg' data-timestamp='1584986040' id='379536'>
<a class='timestamp' href='#379536'><time timestamp='2020-03-23T17:54:00Z'>17:54</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
imagine some networks have just 1 private node; some have just one public node; some have both; right now, assume both query the seed equally frequently
<br>
</div>

<div class='talk op-msg' data-timestamp='1584986100' id='379537'>
<a class='timestamp' href='#379537'><time timestamp='2020-03-23T17:55:00Z'>17:55</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that means if a seed now sees a query from a DNS server, it has a 50/50 guess about whether there is a private or public node behind it
<br>
</div>

<div class='talk op-msg' data-timestamp='1584986100' id='379538'>
<a class='timestamp' href='#379538'><time timestamp='2020-03-23T17:55:00Z'>17:55</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
if there are public nodes on the same DNS-server-network, the seed has no idea if it was one of them already
<br>
</div>

<div class='talk op-msg' data-timestamp='1584986100' id='379539'>
<a class='timestamp' href='#379539'><time timestamp='2020-03-23T17:55:00Z'>17:55</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
50/50 seems like about the best we could hope for?
<br>
</div>

<div class='talk op-msg' data-timestamp='1584986100' id='379540'>
<a class='timestamp' href='#379540'><time timestamp='2020-03-23T17:55:00Z'>17:55</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
if we now change the public nodes to query 10x more frequently, the information the seed gets about whether there is a private node when seeing a query goes down to 10% ish
<br>
</div>

<div class='talk op-msg' data-timestamp='1584986100' id='379541'>
<a class='timestamp' href='#379541'><time timestamp='2020-03-23T17:55:00Z'>17:55</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
luke-jr: no, because the public nodes are already public
<br>
</div>

<div class='talk op-msg' data-timestamp='1584986160' id='379542'>
<a class='timestamp' href='#379542'><time timestamp='2020-03-23T17:56:00Z'>17:56</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
they don&#x27;t care about hiding their existence
<br>
</div>

<div class='talk op-msg' data-timestamp='1584986160' id='379543'>
<a class='timestamp' href='#379543'><time timestamp='2020-03-23T17:56:00Z'>17:56</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
90/10 means the seed can reliably determine if there is a private node querying..
<br>
</div>

<div class='talk op-msg' data-timestamp='1584986160' id='379544'>
<a class='timestamp' href='#379544'><time timestamp='2020-03-23T17:56:00Z'>17:56</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
semi-reliably*
<br>
</div>

<div class='talk op-msg' data-timestamp='1584986220' id='379545'>
<a class='timestamp' href='#379545'><time timestamp='2020-03-23T17:57:00Z'>17:57</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
how so?
<br>
</div>

<div class='talk op-msg' data-timestamp='1584986340' id='379546'>
<a class='timestamp' href='#379546'><time timestamp='2020-03-23T17:59:00Z'>17:59</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
look at deviations in the query pattern?
<br>
</div>

<div class='talk op-msg' data-timestamp='1584986340' id='379547'>
<a class='timestamp' href='#379547'><time timestamp='2020-03-23T17:59:00Z'>17:59</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
and DNS servers without a public node become very obvious
<br>
</div>

<div class='talk op-msg' data-timestamp='1584986460' id='379548'>
<a class='timestamp' href='#379548'><time timestamp='2020-03-23T18:01:00Z'>18:01</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sure
<br>
</div>

<div class='talk op-msg' data-timestamp='1584986460' id='379549'>
<a class='timestamp' href='#379549'><time timestamp='2020-03-23T18:01:00Z'>18:01</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but the ones in a network with public ones are very reliably hidden
<br>
</div>

<div class='talk op-msg' data-timestamp='1584986460' id='379550'>
<a class='timestamp' href='#379550'><time timestamp='2020-03-23T18:01:00Z'>18:01</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
hmm, forgot caching is like an hour
<br>
</div>

<div class='talk op-msg' data-timestamp='1584986460' id='379551'>
<a class='timestamp' href='#379551'><time timestamp='2020-03-23T18:01:00Z'>18:01</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
I wonder if the private nodes just querying every hour themselves would have the same effect
<br>
</div>

<div class='talk op-msg' data-timestamp='1584986520' id='379552'>
<a class='timestamp' href='#379552'><time timestamp='2020-03-23T18:02:00Z'>18:02</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
maybe counter-productive if they&#x27;re not 24/7 tho
<br>
</div>

<div class='talk op-msg' data-timestamp='1584989040' id='379553'>
<a class='timestamp' href='#379553'><time timestamp='2020-03-23T18:44:00Z'>18:44</time></a>
&lt;<span class='nick nick-11'> moneyball</span>&gt;
hi. fyi only 8 people responded &quot;yes&quot; to the survey for still doing a CoreDev virtually. therefore i didn&#x27;t do any planning around this. obviously if contributors would like to self-organize in small remote groups, by all means.
<br>
</div>

<div class='talk op-msg' data-timestamp='1584994020' id='379554'>
<a class='timestamp' href='#379554'><time timestamp='2020-03-23T20:07:00Z'>20:07</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
moneyball: thanks for trying to coordinate! Hopefully we can do an in-person meetup again after the apocalypse.
<br>
</div>

<div class='talk op-msg' data-timestamp='1584995580' id='379555'>
<a class='timestamp' href='#379555'><time timestamp='2020-03-23T20:33:00Z'>20:33</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] pierreN opened pull request #18413: script: prevent UB when computing abs value for num opcode serialize (master...fix-script-absolute) <a href="https://github.com/bitcoin/bitcoin/pull/18413" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/18413</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1584995940' id='379556'>
<a class='timestamp' href='#379556'><time timestamp='2020-03-23T20:39:00Z'>20:39</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke pushed 7 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/97b0687501ce...ac579ada7e83" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/97b0687501ce...ac579ada7e83</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1584995940' id='379557'>
<a class='timestamp' href='#379557'><time timestamp='2020-03-23T20:39:00Z'>20:39</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 77e4b06 Russell Yanofsky: refactor: Get rid of Wallet::IsWalletFlagSet method
<br>
</div>

<div class='talk op-msg' data-timestamp='1584995940' id='379558'>
<a class='timestamp' href='#379558'><time timestamp='2020-03-23T20:39:00Z'>20:39</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 1c2ab1a Russell Yanofsky: refactor: Rename Node::disconnect methods
<br>
</div>

<div class='talk op-msg' data-timestamp='1584995940' id='379559'>
<a class='timestamp' href='#379559'><time timestamp='2020-03-23T20:39:00Z'>20:39</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 6ceb219 Russell Yanofsky: refactor: Rename Chain::Notifications methods to be consistent with other ...
<br>
</div>

<div class='talk op-msg' data-timestamp='1584995940' id='379560'>
<a class='timestamp' href='#379560'><time timestamp='2020-03-23T20:39:00Z'>20:39</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke merged pull request #18278: interfaces: Describe and follow some code conventions (master...pr/ipc-conv) <a href="https://github.com/bitcoin/bitcoin/pull/18278" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/18278</a>
<br>
</div>

</div>
</section>

</body>
</html>
