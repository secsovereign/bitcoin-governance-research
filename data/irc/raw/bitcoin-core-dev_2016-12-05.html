<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2016-12-05
 â€” 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2016-12-05' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:25 UTC</pre>
<pre><a href="/bitcoin-core-dev/2016-11-05">&lt;</a><span class='header'>  December 2016   </span><a href="/bitcoin-core-dev/2017-01-05">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;             <a class="" href="/bitcoin-core-dev/2016-12-01">1</a>  <a class="" href="/bitcoin-core-dev/2016-12-02">2</a>  <a class="" href="/bitcoin-core-dev/2016-12-03">3</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2016-12-04">4</a>  <a class="current" href="/bitcoin-core-dev/2016-12-05">5</a>  <a class="" href="/bitcoin-core-dev/2016-12-06">6</a>  <a class="" href="/bitcoin-core-dev/2016-12-07">7</a>  <a class="" href="/bitcoin-core-dev/2016-12-08">8</a>  <a class="" href="/bitcoin-core-dev/2016-12-09">9</a> <a class="" href="/bitcoin-core-dev/2016-12-10">10</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2016-12-11">11</a> <a class="" href="/bitcoin-core-dev/2016-12-12">12</a> <a class="" href="/bitcoin-core-dev/2016-12-13">13</a> <a class="" href="/bitcoin-core-dev/2016-12-14">14</a> <a class="" href="/bitcoin-core-dev/2016-12-15">15</a> <a class="" href="/bitcoin-core-dev/2016-12-16">16</a> <a class="" href="/bitcoin-core-dev/2016-12-17">17</a>  &#x000A;18 <a class="" href="/bitcoin-core-dev/2016-12-19">19</a> <a class="" href="/bitcoin-core-dev/2016-12-20">20</a> <a class="" href="/bitcoin-core-dev/2016-12-21">21</a> <a class="" href="/bitcoin-core-dev/2016-12-22">22</a> <a class="" href="/bitcoin-core-dev/2016-12-23">23</a> <a class="" href="/bitcoin-core-dev/2016-12-24">24</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2016-12-25">25</a> <a class="" href="/bitcoin-core-dev/2016-12-26">26</a> <a class="" href="/bitcoin-core-dev/2016-12-27">27</a> <a class="" href="/bitcoin-core-dev/2016-12-28">28</a> <a class="" href="/bitcoin-core-dev/2016-12-29">29</a> <a class="" href="/bitcoin-core-dev/2016-12-30">30</a> <a class="" href="/bitcoin-core-dev/2016-12-31">31</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1480896000' id='515786'>
<a class='timestamp' href='#515786'><time timestamp='2016-12-05T00:00:00Z'>00:00</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
but let me check that commit
<br>
</div>

<div class='talk op-msg' data-timestamp='1480896000' id='515787'>
<a class='timestamp' href='#515787'><time timestamp='2016-12-05T00:00:00Z'>00:00</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
oh, what? you told sipa that the &quot;it updates the storage&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1480896120' id='515788'>
<a class='timestamp' href='#515788'><time timestamp='2016-12-05T00:02:00Z'>00:02</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
I mean it updates what you store, through the api (ie the library handles reorgs and updates things)
<br>
</div>

<div class='talk op-msg' data-timestamp='1480896120' id='515789'>
<a class='timestamp' href='#515789'><time timestamp='2016-12-05T00:02:00Z'>00:02</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
well of course, you tell the library about a block and it connects what it can, possibly asking the library owner for blocks that it previously saw but (ofc) didnt store
<br>
</div>

<div class='talk op-msg' data-timestamp='1480896180' id='515790'>
<a class='timestamp' href='#515790'><time timestamp='2016-12-05T00:03:00Z'>00:03</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
I dont see how else you&#x27;d possibly do it
<br>
</div>

<div class='talk op-msg' data-timestamp='1480896180' id='515791'>
<a class='timestamp' href='#515791'><time timestamp='2016-12-05T00:03:00Z'>00:03</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
gmaxwell: see, eg, the bitcoinj stuff, where all the contributions to &quot;full mode&quot; since it was added have been to add it to database X, so that people can put it in their own db
<br>
</div>

<div class='talk op-msg' data-timestamp='1480896180' id='515792'>
<a class='timestamp' href='#515792'><time timestamp='2016-12-05T00:03:00Z'>00:03</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
see the backlog for when I say for people answer the 4 possible combinations to 2 yes/no questions
<br>
</div>

<div class='talk op-msg' data-timestamp='1480896300' id='515793'>
<a class='timestamp' href='#515793'><time timestamp='2016-12-05T00:05:00Z'>00:05</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
you and me agree on abstracting storage
<br>
</div>

<div class='talk op-msg' data-timestamp='1480896300' id='515794'>
<a class='timestamp' href='#515794'><time timestamp='2016-12-05T00:05:00Z'>00:05</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
I mean, if I understood everyone&#x27;s position correctly
<br>
</div>

<div class='talk op-msg' data-timestamp='1480896360' id='515795'>
<a class='timestamp' href='#515795'><time timestamp='2016-12-05T00:06:00Z'>00:06</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
BlueMatt: without using a highly efficient format like ours, I&#x27;m dubious that the system can stay in sync without insane hardware.
<br>
</div>

<div class='talk op-msg' data-timestamp='1480896360' id='515796'>
<a class='timestamp' href='#515796'><time timestamp='2016-12-05T00:06:00Z'>00:06</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
the other question is only check that a block is valid or also handle reorgs, update tables etc
<br>
</div>

<div class='talk op-msg' data-timestamp='1480896360' id='515797'>
<a class='timestamp' href='#515797'><time timestamp='2016-12-05T00:06:00Z'>00:06</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
gmaxwell: thats not our problem, thats theirs
<br>
</div>

<div class='talk op-msg' data-timestamp='1480896360' id='515798'>
<a class='timestamp' href='#515798'><time timestamp='2016-12-05T00:06:00Z'>00:06</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
gmaxwell: hell, they can use leveldb if they want
<br>
</div>

<div class='talk op-msg' data-timestamp='1480896420' id='515799'>
<a class='timestamp' href='#515799'><time timestamp='2016-12-05T00:07:00Z'>00:07</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
ie verifyBlock vs processBlock
<br>
</div>

<div class='talk op-msg' data-timestamp='1480896420' id='515800'>
<a class='timestamp' href='#515800'><time timestamp='2016-12-05T00:07:00Z'>00:07</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
gmaxwell: and, if we prefer, its also easy to add eg a single flag like &quot;use X MB of utxo cache, because I dont want to implement that myself&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1480896420' id='515801'>
<a class='timestamp' href='#515801'><time timestamp='2016-12-05T00:07:00Z'>00:07</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
BlueMatt: not just about leveldb or not, but the compressed ccoins representation is worthless for queries.
<br>
</div>

<div class='talk op-msg' data-timestamp='1480896480' id='515802'>
<a class='timestamp' href='#515802'><time timestamp='2016-12-05T00:08:00Z'>00:08</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
gmaxwell: the compressed ccoins thing doesnt matter all that much if you&#x27;re talking about an actually-high-performance db on high-performance hardware....if folks need their shit in their own db and are willing to pay $$$$$ for it to run, more power to them
<br>
</div>

<div class='talk op-msg' data-timestamp='1480896480' id='515803'>
<a class='timestamp' href='#515803'><time timestamp='2016-12-05T00:08:00Z'>00:08</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
As far as &#x27;their problem&#x27; goes, we shouldn&#x27;t waste our resources (or code base clarity, or performance) supporting functionality that won&#x27;t be useful to anyone (or to anyone beyond a couple centeralized API services). 
<br>
</div>

<div class='talk op-msg' data-timestamp='1480896480' id='515804'>
<a class='timestamp' href='#515804'><time timestamp='2016-12-05T00:08:00Z'>00:08</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
we can add a wrapper with our own implementation of the interfaces, beyond that, right, it is their problem
<br>
</div>

<div class='talk op-msg' data-timestamp='1480896480' id='515805'>
<a class='timestamp' href='#515805'><time timestamp='2016-12-05T00:08:00Z'>00:08</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
gmaxwell: ok, then what is the point of libconsensus at all?
<br>
</div>

<div class='talk op-msg' data-timestamp='1480896540' id='515806'>
<a class='timestamp' href='#515806'><time timestamp='2016-12-05T00:09:00Z'>00:09</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
BlueMatt: i don&#x27;t care about libconsensus. i care about abstracting consensus logic out
<br>
</div>

<div class='talk op-msg' data-timestamp='1480896540' id='515807'>
<a class='timestamp' href='#515807'><time timestamp='2016-12-05T00:09:00Z'>00:09</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
and whats your answer to folks like btcd/the new javascript one, who do have dbs that are performant enough to stay in sync
<br>
</div>

<div class='talk op-msg' data-timestamp='1480896540' id='515808'>
<a class='timestamp' href='#515808'><time timestamp='2016-12-05T00:09:00Z'>00:09</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
The way it was pitched to me is so that people could make wallets and other similar applications without having to reimplement consensus logic.
<br>
</div>

<div class='talk op-msg' data-timestamp='1480896540' id='515809'>
<a class='timestamp' href='#515809'><time timestamp='2016-12-05T00:09:00Z'>00:09</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
right
<br>
</div>

<div class='talk op-msg' data-timestamp='1480896540' id='515810'>
<a class='timestamp' href='#515810'><time timestamp='2016-12-05T00:09:00Z'>00:09</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
gmaxwell: sure, but that doesnt mean we have to handle db logic ourselves
<br>
</div>

<div class='talk op-msg' data-timestamp='1480896540' id='515811'>
<a class='timestamp' href='#515811'><time timestamp='2016-12-05T00:09:00Z'>00:09</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
well, the hardest part of that is already available: we expose script verification
<br>
</div>

<div class='talk op-msg' data-timestamp='1480896600' id='515812'>
<a class='timestamp' href='#515812'><time timestamp='2016-12-05T00:10:00Z'>00:10</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
how is that incompatible with allowing them to chose their database implementation?
<br>
</div>

<div class='talk op-msg' data-timestamp='1480896600' id='515813'>
<a class='timestamp' href='#515813'><time timestamp='2016-12-05T00:10:00Z'>00:10</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
sipa: I dont think thats the only hard part, really
<br>
</div>

<div class='talk op-msg' data-timestamp='1480896600' id='515814'>
<a class='timestamp' href='#515814'><time timestamp='2016-12-05T00:10:00Z'>00:10</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but i also don&#x27;t think it&#x27;s very hard to abstract utxo storage out... so if there is a use case, sure
<br>
</div>

<div class='talk op-msg' data-timestamp='1480896600' id='515815'>
<a class='timestamp' href='#515815'><time timestamp='2016-12-05T00:10:00Z'>00:10</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
sipa: indeed, abstracting out utxo/block storage is also abstracting consensus logic out of other crap
<br>
</div>

<div class='talk op-msg' data-timestamp='1480896600' id='515816'>
<a class='timestamp' href='#515816'><time timestamp='2016-12-05T00:10:00Z'>00:10</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
maybe it is.
<br>
</div>

<div class='talk op-msg' data-timestamp='1480896660' id='515817'>
<a class='timestamp' href='#515817'><time timestamp='2016-12-05T00:11:00Z'>00:11</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
something like changing to per-output rather than per-tx utxo model would be impossible with a stable utxo storage abstraction
<br>
</div>

<div class='talk op-msg' data-timestamp='1480896660' id='515818'>
<a class='timestamp' href='#515818'><time timestamp='2016-12-05T00:11:00Z'>00:11</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
I assume the use cases come from the fact that they want to reuse that database for some of their logic somehow
<br>
</div>

<div class='talk op-msg' data-timestamp='1480896660' id='515819'>
<a class='timestamp' href='#515819'><time timestamp='2016-12-05T00:11:00Z'>00:11</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
s/impossible/inefficient or complicated/
<br>
</div>

<div class='talk op-msg' data-timestamp='1480896660' id='515820'>
<a class='timestamp' href='#515820'><time timestamp='2016-12-05T00:11:00Z'>00:11</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I&#x27;m not opposed to it being abstractable-- but I don&#x27;t see how this is related to that goal-- it&#x27;s the opposite of it, the blockchain storage and utxo set is consensus and may even be quite normative in its behavior (e.g. if we have a commited utxo set of some kind), and if it trashes performance or code clarity then it&#x27;s not a good move.
<br>
</div>

<div class='talk op-msg' data-timestamp='1480896720' id='515821'>
<a class='timestamp' href='#515821'><time timestamp='2016-12-05T00:12:00Z'>00:12</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
sipa: oh? if you query per-utxo then per-tx can be hidden on the backend and could still be pretty performant....indeed, the other way around doesnt really work
<br>
</div>

<div class='talk op-msg' data-timestamp='1480896720' id='515822'>
<a class='timestamp' href='#515822'><time timestamp='2016-12-05T00:12:00Z'>00:12</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
and for an example of the kind of complexity it creates: if you think you can just query a utxo database it means we can&#x27;t have writeback caching internally. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1480896780' id='515823'>
<a class='timestamp' href='#515823'><time timestamp='2016-12-05T00:13:00Z'>00:13</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
gmaxwell: sure, no one wants to do anything that ends up introducing performance regressions
<br>
</div>

<div class='talk op-msg' data-timestamp='1480896780' id='515824'>
<a class='timestamp' href='#515824'><time timestamp='2016-12-05T00:13:00Z'>00:13</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
abstracting storage is more to avoid dependencies rather than it being reusable
<br>
</div>

<div class='talk op-msg' data-timestamp='1480896780' id='515825'>
<a class='timestamp' href='#515825'><time timestamp='2016-12-05T00:13:00Z'>00:13</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I think callers that want a database probably don&#x27;t want to replace the database used for consensus-- what they want is a node that maintains an external database for their application.  
<br>
</div>

<div class='talk op-msg' data-timestamp='1480896840' id='515826'>
<a class='timestamp' href='#515826'><time timestamp='2016-12-05T00:14:00Z'>00:14</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Which is probably not the same thing due to consistency requirements.
<br>
</div>

<div class='talk op-msg' data-timestamp='1480896900' id='515827'>
<a class='timestamp' href='#515827'><time timestamp='2016-12-05T00:15:00Z'>00:15</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
gmaxwell: it shouldn&#x27;t trash performance or code clarity, I agree
<br>
</div>

<div class='talk op-msg' data-timestamp='1480896900' id='515828'>
<a class='timestamp' href='#515828'><time timestamp='2016-12-05T00:15:00Z'>00:15</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
gmaxwell: it might be worse performance, but syncing after every block after ibd (ie having a flag to sync) isnt all that hard, either....
<br>
</div>

<div class='talk op-msg' data-timestamp='1480896900' id='515829'>
<a class='timestamp' href='#515829'><time timestamp='2016-12-05T00:15:00Z'>00:15</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
eg ProcessNewBlock(block); SyncToDB();
<br>
</div>

<div class='talk op-msg' data-timestamp='1480896960' id='515830'>
<a class='timestamp' href='#515830'><time timestamp='2016-12-05T00:16:00Z'>00:16</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
BlueMatt: but for a full node, you probably don&#x27;t want to sync after every block
<br>
</div>

<div class='talk op-msg' data-timestamp='1480896960' id='515831'>
<a class='timestamp' href='#515831'><time timestamp='2016-12-05T00:16:00Z'>00:16</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
gmaxwell: and its easy to do that without introducing our own performance regressions....just dont call Sync after every block....
<br>
</div>

<div class='talk op-msg' data-timestamp='1480896960' id='515832'>
<a class='timestamp' href='#515832'><time timestamp='2016-12-05T00:16:00Z'>00:16</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
sipa: depending on your application, maybe you do
<br>
</div>

<div class='talk op-msg' data-timestamp='1480896960' id='515833'>
<a class='timestamp' href='#515833'><time timestamp='2016-12-05T00:16:00Z'>00:16</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
sipa: once abstracted out, changing the interface in certain ways may be painful, correct
<br>
</div>

<div class='talk op-msg' data-timestamp='1480896960' id='515834'>
<a class='timestamp' href='#515834'><time timestamp='2016-12-05T00:16:00Z'>00:16</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
at least after IBD
<br>
</div>

<div class='talk op-msg' data-timestamp='1480896960' id='515835'>
<a class='timestamp' href='#515835'><time timestamp='2016-12-05T00:16:00Z'>00:16</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Not writing out the utxo set constantly is critical for performance. Leveldb is slow.
<br>
</div>

<div class='talk op-msg' data-timestamp='1480896960' id='515836'>
<a class='timestamp' href='#515836'><time timestamp='2016-12-05T00:16:00Z'>00:16</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
BlueMatt: but it&#x27;d be using our block validation code, which has known performance characteristics
<br>
</div>

<div class='talk op-msg' data-timestamp='1480897020' id='515837'>
<a class='timestamp' href='#515837'><time timestamp='2016-12-05T00:17:00Z'>00:17</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
BlueMatt: and if you don&#x27;t care about that, you wouldn&#x27;t be using libconsensus at all
<br>
</div>

<div class='talk op-msg' data-timestamp='1480897020' id='515838'>
<a class='timestamp' href='#515838'><time timestamp='2016-12-05T00:17:00Z'>00:17</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
sipa: as long as we dont drop the cache when we flush (like we do now, which we already need to fix), I dont see a performance issue there?
<br>
</div>

<div class='talk op-msg' data-timestamp='1480897020' id='515839'>
<a class='timestamp' href='#515839'><time timestamp='2016-12-05T00:17:00Z'>00:17</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
BlueMatt: fair enough
<br>
</div>

<div class='talk op-msg' data-timestamp='1480897020' id='515840'>
<a class='timestamp' href='#515840'><time timestamp='2016-12-05T00:17:00Z'>00:17</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
BlueMatt: that&#x27;s a good point - but the current code doesn&#x27;t do that
<br>
</div>

<div class='talk op-msg' data-timestamp='1480897020' id='515841'>
<a class='timestamp' href='#515841'><time timestamp='2016-12-05T00:17:00Z'>00:17</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I can&#x27;t imagine an application which needs to muck around storing the utxo database in an application format which wouldn&#x27;t be equally or better served by block processing callback that maintains an external database that isn&#x27;t used for validation.
<br>
</div>

<div class='talk op-msg' data-timestamp='1480897020' id='515842'>
<a class='timestamp' href='#515842'><time timestamp='2016-12-05T00:17:00Z'>00:17</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
suresure, but these are all minor issues that are trivial to fix
<br>
</div>

<div class='talk op-msg' data-timestamp='1480897020' id='515843'>
<a class='timestamp' href='#515843'><time timestamp='2016-12-05T00:17:00Z'>00:17</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
avoiding dependencies is also a great gain, although I think we should have a version depending on levelDB and our own implementation too
<br>
</div>

<div class='talk op-msg' data-timestamp='1480897080' id='515844'>
<a class='timestamp' href='#515844'><time timestamp='2016-12-05T00:18:00Z'>00:18</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
again, i&#x27;m not against abstracting things out
<br>
</div>

<div class='talk op-msg' data-timestamp='1480897080' id='515845'>
<a class='timestamp' href='#515845'><time timestamp='2016-12-05T00:18:00Z'>00:18</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Widespread application visiblity into the actual utxo database would be pretty toxic for commited utxo or stxo improvements.
<br>
</div>

<div class='talk op-msg' data-timestamp='1480897080' id='515846'>
<a class='timestamp' href='#515846'><time timestamp='2016-12-05T00:18:00Z'>00:18</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
gmaxwell: duplicate databases? people who run shit on modern services where you literally have no local persistent storage?
<br>
</div>

<div class='talk op-msg' data-timestamp='1480897080' id='515847'>
<a class='timestamp' href='#515847'><time timestamp='2016-12-05T00:18:00Z'>00:18</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i very much feel that utxo storage is one of the things that is abstractable
<br>
</div>

<div class='talk op-msg' data-timestamp='1480897080' id='515848'>
<a class='timestamp' href='#515848'><time timestamp='2016-12-05T00:18:00Z'>00:18</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but that doesn&#x27;t mean it&#x27;s necessarily useful for sharing that information with other purposes
<br>
</div>

<div class='talk op-msg' data-timestamp='1480897080' id='515849'>
<a class='timestamp' href='#515849'><time timestamp='2016-12-05T00:18:00Z'>00:18</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it also doesn&#x27;t mean it&#x27;s not
<br>
</div>

<div class='talk op-msg' data-timestamp='1480897140' id='515850'>
<a class='timestamp' href='#515850'><time timestamp='2016-12-05T00:19:00Z'>00:19</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
yeah, I assume one use case could be having everything in memory
<br>
</div>

<div class='talk op-msg' data-timestamp='1480897140' id='515851'>
<a class='timestamp' href='#515851'><time timestamp='2016-12-05T00:19:00Z'>00:19</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
BlueMatt: basically any standard database approach would have horrible performance to the point that it would only be useable on very high end hardware.  Having two copies of the utxo set would hardly be a consideration there, our copy is only about 2GB data.
<br>
</div>

<div class='talk op-msg' data-timestamp='1480897200' id='515852'>
<a class='timestamp' href='#515852'><time timestamp='2016-12-05T00:20:00Z'>00:20</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
gmaxwell: I seriously dont believe that...maybe it takes 10 seconds or 30 seconds to sync a block to the db, but so what? you just dont flush all the time during IBD and then wait it out
<br>
</div>

<div class='talk op-msg' data-timestamp='1480897200' id='515853'>
<a class='timestamp' href='#515853'><time timestamp='2016-12-05T00:20:00Z'>00:20</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
(and, yes, I get that in most dbs it actually will take 30 seconds, but it wont take much longer than that)
<br>
</div>

<div class='talk op-msg' data-timestamp='1480897200' id='515854'>
<a class='timestamp' href='#515854'><time timestamp='2016-12-05T00:20:00Z'>00:20</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
or a minute with segwit blocks
<br>
</div>

<div class='talk op-msg' data-timestamp='1480897200' id='515855'>
<a class='timestamp' href='#515855'><time timestamp='2016-12-05T00:20:00Z'>00:20</time></a>
&lt;<span class='nick nick-16'> * BlueMatt</span>&gt;
-&gt; out
<br>
</div>

<div class='talk op-msg' data-timestamp='1480897200' id='515856'>
<a class='timestamp' href='#515856'><time timestamp='2016-12-05T00:20:00Z'>00:20</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
BlueMatt: see also the electrum channel with people complaing about their servers falling multiple blocks behind.
<br>
</div>

<div class='talk op-msg' data-timestamp='1480897200' id='515857'>
<a class='timestamp' href='#515857'><time timestamp='2016-12-05T00:20:00Z'>00:20</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
and two minute updates.
<br>
</div>

<div class='talk op-msg' data-timestamp='1480897320' id='515858'>
<a class='timestamp' href='#515858'><time timestamp='2016-12-05T00:22:00Z'>00:22</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
gmaxwell: ok...? that doesnt mean its impossible to build a db that can store the utxo set with reasonable performance, even if not blazing fast performance?
<br>
</div>

<div class='talk op-msg' data-timestamp='1480897320' id='515859'>
<a class='timestamp' href='#515859'><time timestamp='2016-12-05T00:22:00Z'>00:22</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I just feel that the purpose of these changes is no longer clear. Expecting the user to implement complex interfaces with bitcoin specific and consensus critical behavior is at odds with what I understood to be the stated goal.
<br>
</div>

<div class='talk op-msg' data-timestamp='1480897320' id='515860'>
<a class='timestamp' href='#515860'><time timestamp='2016-12-05T00:22:00Z'>00:22</time></a>
&lt;<span class='nick nick-16'> * BlueMatt</span>&gt;
doesnt see the problem with it taking a minute for your db to sync the utxo set....if you&#x27;re just a merchant and its slow, so what?
<br>
</div>

<div class='talk op-msg' data-timestamp='1480897320' id='515861'>
<a class='timestamp' href='#515861'><time timestamp='2016-12-05T00:22:00Z'>00:22</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
it is also possible to build something faster than our solution, isn&#x27;t it?
<br>
</div>

<div class='talk op-msg' data-timestamp='1480897380' id='515862'>
<a class='timestamp' href='#515862'><time timestamp='2016-12-05T00:23:00Z'>00:23</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
gmaxwell: I highly disagree that selecting a sane DB (ie not using some external SQL thing) is &quot;implementing complex interfaces&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1480897380' id='515863'>
<a class='timestamp' href='#515863'><time timestamp='2016-12-05T00:23:00Z'>00:23</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
And if maintaining a database for a block explorer is a goal-- then it can be done in a better way then also trying to use that database for consensus... just run it in parallel, the resource overhead will be moderate.
<br>
</div>

<div class='talk op-msg' data-timestamp='1480897380' id='515864'>
<a class='timestamp' href='#515864'><time timestamp='2016-12-05T00:23:00Z'>00:23</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
and I dont expect every exchange to do so, I&#x27;d expect folks like btcd/bitcoinj/javascript thinggy to do it
<br>
</div>

<div class='talk op-msg' data-timestamp='1480897380' id='515865'>
<a class='timestamp' href='#515865'><time timestamp='2016-12-05T00:23:00Z'>00:23</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
and people to use it
<br>
</div>

<div class='talk op-msg' data-timestamp='1480897380' id='515866'>
<a class='timestamp' href='#515866'><time timestamp='2016-12-05T00:23:00Z'>00:23</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
gmaxwell: go look at the bitcoinj users...people actually use its full validation shitshow so that they can do exactly this
<br>
</div>

<div class='talk op-msg' data-timestamp='1480897380' id='515867'>
<a class='timestamp' href='#515867'><time timestamp='2016-12-05T00:23:00Z'>00:23</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
gmaxwell: we don&#x27;t need to expect the user to reimplement it, we should provide our own implementation to the interfaces 
<br>
</div>

<div class='talk op-msg' data-timestamp='1480897380' id='515868'>
<a class='timestamp' href='#515868'><time timestamp='2016-12-05T00:23:00Z'>00:23</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
and its slow, but they dont care
<br>
</div>

<div class='talk op-msg' data-timestamp='1480897380' id='515869'>
<a class='timestamp' href='#515869'><time timestamp='2016-12-05T00:23:00Z'>00:23</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
(and the interface is trivial)
<br>
</div>

<div class='talk op-msg' data-timestamp='1480897440' id='515870'>
<a class='timestamp' href='#515870'><time timestamp='2016-12-05T00:24:00Z'>00:24</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
BlueMatt: Complex interfaces is that you need to actually pass the data as fields and not opaque blobs.   And what happens when the set of data needed for consensus changes (as sequence locktiming did).  
<br>
</div>

<div class='talk op-msg' data-timestamp='1480897440' id='515871'>
<a class='timestamp' href='#515871'><time timestamp='2016-12-05T00:24:00Z'>00:24</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
its like 4 functions and only a single non-trivial requirement for which there are unit tests (the utxo-replacement-thing)
<br>
</div>

<div class='talk op-msg' data-timestamp='1480897440' id='515872'>
<a class='timestamp' href='#515872'><time timestamp='2016-12-05T00:24:00Z'>00:24</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
again, you keep discussing the slow case, what if I&#x27;m faster than our implementation?
<br>
</div>

<div class='talk op-msg' data-timestamp='1480897440' id='515873'>
<a class='timestamp' href='#515873'><time timestamp='2016-12-05T00:24:00Z'>00:24</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
BlueMatt: that usage doesn&#x27;t even need full node support at all, run your bitcoinj behind a full node, have it log blocks to a database. Hurray.
<br>
</div>

<div class='talk op-msg' data-timestamp='1480897500' id='515874'>
<a class='timestamp' href='#515874'><time timestamp='2016-12-05T00:25:00Z'>00:25</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
gmaxwell: yes, except people dont do that
<br>
</div>

<div class='talk op-msg' data-timestamp='1480897500' id='515875'>
<a class='timestamp' href='#515875'><time timestamp='2016-12-05T00:25:00Z'>00:25</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
maybe we should write a simple daemon that maintains the utxo set in SQL
<br>
</div>

<div class='talk op-msg' data-timestamp='1480897500' id='515876'>
<a class='timestamp' href='#515876'><time timestamp='2016-12-05T00:25:00Z'>00:25</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
people prefer to run full validation shit in btcd or bitcoinj, despite knowingly putting themselves at risk
<br>
</div>

<div class='talk op-msg' data-timestamp='1480897500' id='515877'>
<a class='timestamp' href='#515877'><time timestamp='2016-12-05T00:25:00Z'>00:25</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
(without validation)
<br>
</div>

<div class='talk op-msg' data-timestamp='1480897500' id='515878'>
<a class='timestamp' href='#515878'><time timestamp='2016-12-05T00:25:00Z'>00:25</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
or are we discarding that as a possibility?
<br>
</div>

<div class='talk op-msg' data-timestamp='1480897500' id='515879'>
<a class='timestamp' href='#515879'><time timestamp='2016-12-05T00:25:00Z'>00:25</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sipa: that is what I was saying. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1480897500' id='515880'>
<a class='timestamp' href='#515880'><time timestamp='2016-12-05T00:25:00Z'>00:25</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
BlueMatt: they don&#x27;t know they&#x27;re putting themselves at risk.
<br>
</div>

<div class='talk op-msg' data-timestamp='1480897560' id='515881'>
<a class='timestamp' href='#515881'><time timestamp='2016-12-05T00:26:00Z'>00:26</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
gmaxwell: ok, well either way I dont see an alternative great solution here? most developers do want a library that handles all the background validation shit for them
<br>
</div>

<div class='talk op-msg' data-timestamp='1480897560' id='515882'>
<a class='timestamp' href='#515882'><time timestamp='2016-12-05T00:26:00Z'>00:26</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
and as long as such things exist, they will use them
<br>
</div>

<div class='talk op-msg' data-timestamp='1480897560' id='515883'>
<a class='timestamp' href='#515883'><time timestamp='2016-12-05T00:26:00Z'>00:26</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
jtimon: because there exists nothing faster currently, or else we&#x27;d be using it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1480897560' id='515884'>
<a class='timestamp' href='#515884'><time timestamp='2016-12-05T00:26:00Z'>00:26</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
proxy-nodes be damned
<br>
</div>

<div class='talk op-msg' data-timestamp='1480897560' id='515885'>
<a class='timestamp' href='#515885'><time timestamp='2016-12-05T00:26:00Z'>00:26</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
BlueMatt: the alternative is to have support for maintaining a database synced with the blockchain-- that doesn&#x27;t mean inserting things into the consensus logic.
<br>
</div>

<div class='talk op-msg' data-timestamp='1480897620' id='515886'>
<a class='timestamp' href='#515886'><time timestamp='2016-12-05T00:27:00Z'>00:27</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
It just means having a simple set of hooks that run post tip change and update the database.
<br>
</div>

<div class='talk op-msg' data-timestamp='1480897620' id='515887'>
<a class='timestamp' href='#515887'><time timestamp='2016-12-05T00:27:00Z'>00:27</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
gmaxwell: you missed my previous point about how lots of &quot;modern&quot; developers run shit on services with ~no persistent storage
<br>
</div>

<div class='talk op-msg' data-timestamp='1480897620' id='515888'>
<a class='timestamp' href='#515888'><time timestamp='2016-12-05T00:27:00Z'>00:27</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
anyway, I actually need to run, have an apt to keep
<br>
</div>

<div class='talk op-msg' data-timestamp='1480897620' id='515889'>
<a class='timestamp' href='#515889'><time timestamp='2016-12-05T00:27:00Z'>00:27</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
run, BlueMatt, run
<br>
</div>

<div class='talk op-msg' data-timestamp='1480897680' id='515890'>
<a class='timestamp' href='#515890'><time timestamp='2016-12-05T00:28:00Z'>00:28</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
there&#x27;s no storage solution optimized for having everything in memory that outperforms leveldb or offers some other advantage?
<br>
</div>

<div class='talk op-msg' data-timestamp='1480897680' id='515891'>
<a class='timestamp' href='#515891'><time timestamp='2016-12-05T00:28:00Z'>00:28</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
apt-keep BlueMatt
<br>
</div>

<div class='talk op-msg' data-timestamp='1480897680' id='515892'>
<a class='timestamp' href='#515892'><time timestamp='2016-12-05T00:28:00Z'>00:28</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jtimon: -dbcache=8000
<br>
</div>

<div class='talk op-msg' data-timestamp='1480897680' id='515893'>
<a class='timestamp' href='#515893'><time timestamp='2016-12-05T00:28:00Z'>00:28</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
We already have that built in.
<br>
</div>

<div class='talk op-msg' data-timestamp='1480897680' id='515894'>
<a class='timestamp' href='#515894'><time timestamp='2016-12-05T00:28:00Z'>00:28</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jtimon: leveldb won&#x27;t be used at all
<br>
</div>

<div class='talk op-msg' data-timestamp='1480897740' id='515895'>
<a class='timestamp' href='#515895'><time timestamp='2016-12-05T00:29:00Z'>00:29</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
sipa: right, I know, but I doubt there&#x27;s nothing better than levle db with unbounded cache
<br>
</div>

<div class='talk op-msg' data-timestamp='1480897740' id='515896'>
<a class='timestamp' href='#515896'><time timestamp='2016-12-05T00:29:00Z'>00:29</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
sipa: levledb is what we&#x27;re using, no?
<br>
</div>

<div class='talk op-msg' data-timestamp='1480897740' id='515897'>
<a class='timestamp' href='#515897'><time timestamp='2016-12-05T00:29:00Z'>00:29</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
jtimon: that doesn&#x27;t use leveldb (except to persist across restarts)
<br>
</div>

<div class='talk op-msg' data-timestamp='1480897740' id='515898'>
<a class='timestamp' href='#515898'><time timestamp='2016-12-05T00:29:00Z'>00:29</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
oh     
<br>
</div>

<div class='talk op-msg' data-timestamp='1480897800' id='515899'>
<a class='timestamp' href='#515899'><time timestamp='2016-12-05T00:30:00Z'>00:30</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
I see, I didn&#x27;t know that, thanks
<br>
</div>

<div class='talk op-msg' data-timestamp='1480897920' id='515900'>
<a class='timestamp' href='#515900'><time timestamp='2016-12-05T00:32:00Z'>00:32</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
even if we only expose the version with our implementation, I think it would be good to abstract consensus storage even for bitcoin core rewardless of libconsensus users
<br>
</div>

<div class='talk op-msg' data-timestamp='1480897920' id='515901'>
<a class='timestamp' href='#515901'><time timestamp='2016-12-05T00:32:00Z'>00:32</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
our storage is already abstracted.
<br>
</div>

<div class='talk op-msg' data-timestamp='1480898040' id='515902'>
<a class='timestamp' href='#515902'><time timestamp='2016-12-05T00:34:00Z'>00:34</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
I really think not trashing preformance for our own implementation should be the priority at first, if the interface needs to go through a few iterations not to trash other implementations too, I think that&#x27;s fine since we will be offering the &quot;don&#x27;t use storage abstractions&quot; version too anyway
<br>
</div>

<div class='talk op-msg' data-timestamp='1480898100' id='515903'>
<a class='timestamp' href='#515903'><time timestamp='2016-12-05T00:35:00Z'>00:35</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
yes, our storage is abstracted in more ways than we would want to expose in an storage-independent libconsensus C API
<br>
</div>

<div class='talk op-msg' data-timestamp='1480898220' id='515904'>
<a class='timestamp' href='#515904'><time timestamp='2016-12-05T00:37:00Z'>00:37</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
I mean, since I&#x27;m in favor of exposing both, one storage independent and one that is not, I&#x27;m fine with starting with the one that is not, I&#x27;m just more interested technically in the other one
<br>
</div>

<div class='talk op-msg' data-timestamp='1480898340' id='515905'>
<a class='timestamp' href='#515905'><time timestamp='2016-12-05T00:39:00Z'>00:39</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
can we talk a little bit about the other question?
<br>
</div>

<div class='talk op-msg' data-timestamp='1480898520' id='515906'>
<a class='timestamp' href='#515906'><time timestamp='2016-12-05T00:42:00Z'>00:42</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
ie whether libconsensus should fully validate a given block, or also accept it and update the state, manage reorgs, etc
<br>
</div>

<div class='talk op-msg' data-timestamp='1480898640' id='515907'>
<a class='timestamp' href='#515907'><time timestamp='2016-12-05T00:44:00Z'>00:44</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
again I&#x27;m ok with offering both but I&#x27;m more interested in the smaller one
<br>
</div>

<div class='talk op-msg' data-timestamp='1480898820' id='515908'>
<a class='timestamp' href='#515908'><time timestamp='2016-12-05T00:47:00Z'>00:47</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
or at least that&#x27;s what I have been imagining all this time, I wasn&#x27;t counting reorgs or updating the tip as part of the validation
<br>
</div>

<div class='talk op-msg' data-timestamp='1480899900' id='515909'>
<a class='timestamp' href='#515909'><time timestamp='2016-12-05T01:05:00Z'>01:05</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
gmaxwell: sdaftuar: to return to the fee bumping, in suhas&#x27; example, where you first try to bump tx1,2,3 with tx4, and then you try again.
<br>
</div>

<div class='talk op-msg' data-timestamp='1480899900' id='515910'>
<a class='timestamp' href='#515910'><time timestamp='2016-12-05T01:05:00Z'>01:05</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
i can see how you could invent a way to prevent tx4 from getting bumped, but how are you stopping 1,2,3 from being bumped again?
<br>
</div>

<div class='talk op-msg' data-timestamp='1480899960' id='515911'>
<a class='timestamp' href='#515911'><time timestamp='2016-12-05T01:06:00Z'>01:06</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
or more generally, lets say you manually had tried to bump and tx1 and tx1a both are trying to pay the same guy (maybe you were smart enought to conflict, maybe not)
<br>
</div>

<div class='talk op-msg' data-timestamp='1480899960' id='515912'>
<a class='timestamp' href='#515912'><time timestamp='2016-12-05T01:06:00Z'>01:06</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
They should be marked abandoned when the bump is created.
<br>
</div>

<div class='talk op-msg' data-timestamp='1480899960' id='515913'>
<a class='timestamp' href='#515913'><time timestamp='2016-12-05T01:06:00Z'>01:06</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
how do you stop a bumpunconfirmed from bumping both
<br>
</div>

<div class='talk op-msg' data-timestamp='1480899960' id='515914'>
<a class='timestamp' href='#515914'><time timestamp='2016-12-05T01:06:00Z'>01:06</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(but even if they weren&#x27;t they&#x27;re conflicted at that point)
<br>
</div>

<div class='talk op-msg' data-timestamp='1480899960' id='515915'>
<a class='timestamp' href='#515915'><time timestamp='2016-12-05T01:06:00Z'>01:06</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
they aren&#x27;t conflicted
<br>
</div>

<div class='talk op-msg' data-timestamp='1480900020' id='515916'>
<a class='timestamp' href='#515916'><time timestamp='2016-12-05T01:07:00Z'>01:07</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
by tx4, which is in your mempool.
<br>
</div>

<div class='talk op-msg' data-timestamp='1480900020' id='515917'>
<a class='timestamp' href='#515917'><time timestamp='2016-12-05T01:07:00Z'>01:07</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
conflicted means the conflicting tx is in the block
<br>
</div>

<div class='talk op-msg' data-timestamp='1480900020' id='515918'>
<a class='timestamp' href='#515918'><time timestamp='2016-12-05T01:07:00Z'>01:07</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
a conflicting tx in the mempool is something you are not even aware of
<br>
</div>

<div class='talk op-msg' data-timestamp='1480900080' id='515919'>
<a class='timestamp' href='#515919'><time timestamp='2016-12-05T01:08:00Z'>01:08</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
which brings me to the second point i wanted to make, aobut what you said about people abandoning wallets they think are empty
<br>
</div>

<div class='talk op-msg' data-timestamp='1480900080' id='515920'>
<a class='timestamp' href='#515920'><time timestamp='2016-12-05T01:08:00Z'>01:08</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
thats a fantastic point, that i wish had been made a while ago
<br>
</div>

<div class='talk op-msg' data-timestamp='1480900080' id='515921'>
<a class='timestamp' href='#515921'><time timestamp='2016-12-05T01:08:00Z'>01:08</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
you&#x27;re right, I&#x27;d been assuming it would be conflicted without thinking carefully what that test actually means right now. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1480900080' id='515922'>
<a class='timestamp' href='#515922'><time timestamp='2016-12-05T01:08:00Z'>01:08</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I know for sure people do abandon wallets that they think are empty (or even &#x27;almost empty&#x27;)
<br>
</div>

<div class='talk op-msg' data-timestamp='1480900140' id='515923'>
<a class='timestamp' href='#515923'><time timestamp='2016-12-05T01:09:00Z'>01:09</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
before we made the change to the confliction logic (for 0.12 ?)  then if your spend was not in your mempool, it was considered conflicted (regardless of whether it was by an in-block, in-mempool tx, or nothing)
<br>
</div>

<div class='talk op-msg' data-timestamp='1480900140' id='515924'>
<a class='timestamp' href='#515924'><time timestamp='2016-12-05T01:09:00Z'>01:09</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
so it would be kind of rare for you to think you were out of money but not
<br>
</div>

<div class='talk op-msg' data-timestamp='1480900140' id='515925'>
<a class='timestamp' href='#515925'><time timestamp='2016-12-05T01:09:00Z'>01:09</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
but now, for sure that might happen
<br>
</div>

<div class='talk op-msg' data-timestamp='1480900200' id='515926'>
<a class='timestamp' href='#515926'><time timestamp='2016-12-05T01:10:00Z'>01:10</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
now if you issue a tx that never makes it into a block or for some reason can&#x27;t ever make it into your own mempool
<br>
</div>

<div class='talk op-msg' data-timestamp='1480900200' id='515927'>
<a class='timestamp' href='#515927'><time timestamp='2016-12-05T01:10:00Z'>01:10</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I seem to vaguely recall that something else would still prevent us from doublespending the inputs on txn that weren&#x27;t in the mempool, even then.
<br>
</div>

<div class='talk op-msg' data-timestamp='1480900200' id='515928'>
<a class='timestamp' href='#515928'><time timestamp='2016-12-05T01:10:00Z'>01:10</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
regardless of any conflicting txs, its uses up your balance until you abandon it
<br>
</div>

<div class='talk op-msg' data-timestamp='1480900200' id='515929'>
<a class='timestamp' href='#515929'><time timestamp='2016-12-05T01:10:00Z'>01:10</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
i don&#x27;t think so
<br>
</div>

<div class='talk op-msg' data-timestamp='1480900260' id='515930'>
<a class='timestamp' href='#515930'><time timestamp='2016-12-05T01:11:00Z'>01:11</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
it seems like we need another notion of balance (or maybe 2 more)
<br>
</div>

<div class='talk op-msg' data-timestamp='1480900260' id='515931'>
<a class='timestamp' href='#515931'><time timestamp='2016-12-05T01:11:00Z'>01:11</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
potential balance (which is not reduced by non-in chain (6 deep?) spends) and maybe even a pending receive balance (although i guess that hasn&#x27;t been a problem historically, that hasnt&#x27; changed)
<br>
</div>

<div class='talk op-msg' data-timestamp='1480900500' id='515932'>
<a class='timestamp' href='#515932'><time timestamp='2016-12-05T01:15:00Z'>01:15</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Yes, agreed. I worry about the use &#x27;balance&#x27; for a number which will go down without user interaction. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1480900560' id='515933'>
<a class='timestamp' href='#515933'><time timestamp='2016-12-05T01:16:00Z'>01:16</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
More like &quot;pending outgoing payments: outbound payments which are not N confirms deep yet&quot; and &quot;pending incoming payments&quot;.
<br>
</div>

<div class='talk op-msg' data-timestamp='1480900560' id='515934'>
<a class='timestamp' href='#515934'><time timestamp='2016-12-05T01:16:00Z'>01:16</time></a>
&lt;<span class='nick nick-10'> Taek</span>&gt;
Would it be enough to have a [confirmed balance] and an [unconfirmed diff]?
<br>
</div>

<div class='talk op-msg' data-timestamp='1480900560' id='515935'>
<a class='timestamp' href='#515935'><time timestamp='2016-12-05T01:16:00Z'>01:16</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
if this is really the only use case, it would be easy enough to make a rpc call that just give you a report on how &quot;empty&quot; your wallet is
<br>
</div>

<div class='talk op-msg' data-timestamp='1480900620' id='515936'>
<a class='timestamp' href='#515936'><time timestamp='2016-12-05T01:17:00Z'>01:17</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
Taek: we already have that..  , oh yeah, nm, thats the second thing i was talking abou tthen, the pending received balance
<br>
</div>

<div class='talk op-msg' data-timestamp='1480900620' id='515937'>
<a class='timestamp' href='#515937'><time timestamp='2016-12-05T01:17:00Z'>01:17</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
getunconfirmedbalance
<br>
</div>

<div class='talk op-msg' data-timestamp='1480900620' id='515938'>
<a class='timestamp' href='#515938'><time timestamp='2016-12-05T01:17:00Z'>01:17</time></a>
&lt;<span class='nick nick-10'> Taek</span>&gt;
if I&#x27;m following correctly, the worry is about coins that become unconfirmed due to e.g. change outputs?
<br>
</div>

<div class='talk op-msg' data-timestamp='1480900680' id='515939'>
<a class='timestamp' href='#515939'><time timestamp='2016-12-05T01:18:00Z'>01:18</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
i think the primary worry is that if you spend some coins , but your spend never makes it into a block
<br>
</div>

<div class='talk op-msg' data-timestamp='1480900680' id='515940'>
<a class='timestamp' href='#515940'><time timestamp='2016-12-05T01:18:00Z'>01:18</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
your wallet still deducts that spend from your balance
<br>
</div>

<div class='talk op-msg' data-timestamp='1480900680' id='515941'>
<a class='timestamp' href='#515941'><time timestamp='2016-12-05T01:18:00Z'>01:18</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
forever
<br>
</div>

<div class='talk op-msg' data-timestamp='1480900740' id='515942'>
<a class='timestamp' href='#515942'><time timestamp='2016-12-05T01:19:00Z'>01:19</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
until you manually mark it as abandoned (which is sort of an advanced feature, that we don&#x27;t often recommend)
<br>
</div>

<div class='talk op-msg' data-timestamp='1480900740' id='515943'>
<a class='timestamp' href='#515943'><time timestamp='2016-12-05T01:19:00Z'>01:19</time></a>
&lt;<span class='nick nick-10'> Taek</span>&gt;
technically some adversary could un-abandon any transaction that hasn&#x27;t been double-spent
<br>
</div>

<div class='talk op-msg' data-timestamp='1480900800' id='515944'>
<a class='timestamp' href='#515944'><time timestamp='2016-12-05T01:20:00Z'>01:20</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
exactly why its an advanced manual feature
<br>
</div>

<div class='talk op-msg' data-timestamp='1480900800' id='515945'>
<a class='timestamp' href='#515945'><time timestamp='2016-12-05T01:20:00Z'>01:20</time></a>
&lt;<span class='nick nick-10'> Taek</span>&gt;
imo your confirmed balance should not change until the tx is in the blockchain
<br>
</div>

<div class='talk op-msg' data-timestamp='1480900800' id='515946'>
<a class='timestamp' href='#515946'><time timestamp='2016-12-05T01:20:00Z'>01:20</time></a>
&lt;<span class='nick nick-10'> Taek</span>&gt;
and the confirmed balance should be what is presented to the user as the primary balance
<br>
</div>

<div class='talk op-msg' data-timestamp='1480900860' id='515947'>
<a class='timestamp' href='#515947'><time timestamp='2016-12-05T01:21:00Z'>01:21</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
perhaps confirmed balance is the wrong word for what getbalance returns...  it returns your spendable balance..  which certainly should be decremented for spends that haven&#x27;t yet made it into the blockchain
<br>
</div>

<div class='talk op-msg' data-timestamp='1480900860' id='515948'>
<a class='timestamp' href='#515948'><time timestamp='2016-12-05T01:21:00Z'>01:21</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
and i think thats what people expect to see when they ask their balance
<br>
</div>

<div class='talk op-msg' data-timestamp='1480900920' id='515949'>
<a class='timestamp' href='#515949'><time timestamp='2016-12-05T01:22:00Z'>01:22</time></a>
&lt;<span class='nick nick-10'> Taek</span>&gt;
I don&#x27;t think it&#x27;s safe enough to show the user just one number.
<br>
</div>

<div class='talk op-msg' data-timestamp='1480900980' id='515950'>
<a class='timestamp' href='#515950'><time timestamp='2016-12-05T01:23:00Z'>01:23</time></a>
&lt;<span class='nick nick-10'> Taek</span>&gt;
simply because the whole unconfirmed uncertainty is unseparatable from the blockchain way of doing thigns
<br>
</div>

<div class='talk op-msg' data-timestamp='1480900980' id='515951'>
<a class='timestamp' href='#515951'><time timestamp='2016-12-05T01:23:00Z'>01:23</time></a>
&lt;<span class='nick nick-10'> Taek</span>&gt;
(well, lightning doesn&#x27;t really have this issue)
<br>
</div>

<div class='talk op-msg' data-timestamp='1480901100' id='515952'>
<a class='timestamp' href='#515952'><time timestamp='2016-12-05T01:25:00Z'>01:25</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
gmaxwell: thinking about it more, the way we&#x27;d probably do it is, initially (ie v1) you make the libconsensus consumer provide a k-v store api, and we use that the same way we use leveldb, and then add functionality to parse the blobs we provide the k-v store into things like scriptPubKeys later
<br>
</div>

<div class='talk op-msg' data-timestamp='1480901100' id='515953'>
<a class='timestamp' href='#515953'><time timestamp='2016-12-05T01:25:00Z'>01:25</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
perhaphs both confirmed and spendable balances should be shown?
<br>
</div>

<div class='talk op-msg' data-timestamp='1480901100' id='515954'>
<a class='timestamp' href='#515954'><time timestamp='2016-12-05T01:25:00Z'>01:25</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
this provides functionality, without breaking our ability to change the format to add new things
<br>
</div>

<div class='talk op-msg' data-timestamp='1480901160' id='515955'>
<a class='timestamp' href='#515955'><time timestamp='2016-12-05T01:26:00Z'>01:26</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
I understand k-v is key-value kind of storage
<br>
</div>

<div class='talk op-msg' data-timestamp='1480901220' id='515956'>
<a class='timestamp' href='#515956'><time timestamp='2016-12-05T01:27:00Z'>01:27</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
BlueMatt: if so, what would the values be? C structs ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1480901220' id='515957'>
<a class='timestamp' href='#515957'><time timestamp='2016-12-05T01:27:00Z'>01:27</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
the values are binary blobs that libconsensus provides which the user does not have any visibility into
<br>
</div>

<div class='talk op-msg' data-timestamp='1480901280' id='515958'>
<a class='timestamp' href='#515958'><time timestamp='2016-12-05T01:28:00Z'>01:28</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
(in our case its the serialization of CCoins or whatever with our compression stuff)
<br>
</div>

<div class='talk op-msg' data-timestamp='1480901280' id='515959'>
<a class='timestamp' href='#515959'><time timestamp='2016-12-05T01:28:00Z'>01:28</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
BlueMatt: yup, that&#x27;s what i imagined
<br>
</div>

<div class='talk op-msg' data-timestamp='1480901280' id='515960'>
<a class='timestamp' href='#515960'><time timestamp='2016-12-05T01:28:00Z'>01:28</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
if the user wants to know whats inside, there is some api which can parse it into a c struct or whatever
<br>
</div>

<div class='talk op-msg' data-timestamp='1480901280' id='515961'>
<a class='timestamp' href='#515961'><time timestamp='2016-12-05T01:28:00Z'>01:28</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
a batch key-value write operation, and a key read operation
<br>
</div>

<div class='talk op-msg' data-timestamp='1480901340' id='515962'>
<a class='timestamp' href='#515962'><time timestamp='2016-12-05T01:29:00Z'>01:29</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
kind of like <a href="https://github.com/bitcoin/bitcoin/pull/8493/commits/ad3ac37387b231378573f4996c59467247fccd44" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8493/commits/ad3ac37387b231378573f4996c59467247fccd44</a> ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1480901400' id='515963'>
<a class='timestamp' href='#515963'><time timestamp='2016-12-05T01:30:00Z'>01:30</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
^ for the &quot;binary blobs the caller doesn&#x27;t know about&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1480901400' id='515964'>
<a class='timestamp' href='#515964'><time timestamp='2016-12-05T01:30:00Z'>01:30</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jtimon: i don&#x27;t see such a thing at all
<br>
</div>

<div class='talk op-msg' data-timestamp='1480901460' id='515965'>
<a class='timestamp' href='#515965'><time timestamp='2016-12-05T01:31:00Z'>01:31</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that commit is about bitcoinconsensus_create_consensus_parameters
<br>
</div>

<div class='talk op-msg' data-timestamp='1480901520' id='515966'>
<a class='timestamp' href='#515966'><time timestamp='2016-12-05T01:32:00Z'>01:32</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
well, yeah, sorry, this are void pointers the other it&#x27;s just data like in the tx for current verifyScript
<br>
</div>

<div class='talk op-msg' data-timestamp='1480901580' id='515967'>
<a class='timestamp' href='#515967'><time timestamp='2016-12-05T01:33:00Z'>01:33</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
in this case we would use the serialize lib to interpret and produce the &quot;blobs&quot;, correct?
<br>
</div>

<div class='talk op-msg' data-timestamp='1480901580' id='515968'>
<a class='timestamp' href='#515968'><time timestamp='2016-12-05T01:33:00Z'>01:33</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
if there needs to be a way to view the utxo set, i&#x27;d just provide a separate api for that
<br>
</div>

<div class='talk op-msg' data-timestamp='1480901640' id='515969'>
<a class='timestamp' href='#515969'><time timestamp='2016-12-05T01:34:00Z'>01:34</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
not a parser for the database
<br>
</div>

<div class='talk op-msg' data-timestamp='1480901640' id='515970'>
<a class='timestamp' href='#515970'><time timestamp='2016-12-05T01:34:00Z'>01:34</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and not in the first stage
<br>
</div>

<div class='talk op-msg' data-timestamp='1480901760' id='515971'>
<a class='timestamp' href='#515971'><time timestamp='2016-12-05T01:36:00Z'>01:36</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
I am extremely interested in hearing in what other people&#x27;s next steps, or more feedback on my own proposed next step
<br>
</div>

<div class='talk op-msg' data-timestamp='1480901880' id='515972'>
<a class='timestamp' href='#515972'><time timestamp='2016-12-05T01:38:00Z'>01:38</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
sipa: I&#x27;m still not sure if you prefer to expose verifyBlock or processBlock
<br>
</div>

<div class='talk op-msg' data-timestamp='1480901940' id='515973'>
<a class='timestamp' href='#515973'><time timestamp='2016-12-05T01:39:00Z'>01:39</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jtimon: i don&#x27;t think we can do so right now anyway, without having a way to abstract state out
<br>
</div>

<div class='talk op-msg' data-timestamp='1480902000' id='515974'>
<a class='timestamp' href='#515974'><time timestamp='2016-12-05T01:40:00Z'>01:40</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
imho the first step is just continuing refactoring so that consensus logic and other things become better separated internally
<br>
</div>

<div class='talk op-msg' data-timestamp='1480902000' id='515975'>
<a class='timestamp' href='#515975'><time timestamp='2016-12-05T01:40:00Z'>01:40</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and not focus on exposing things
<br>
</div>

<div class='talk op-msg' data-timestamp='1480902000' id='515976'>
<a class='timestamp' href='#515976'><time timestamp='2016-12-05T01:40:00Z'>01:40</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but others may disagree - i think wumpus prefers first having a clear idea of what will be exposed
<br>
</div>

<div class='talk op-msg' data-timestamp='1480902060' id='515977'>
<a class='timestamp' href='#515977'><time timestamp='2016-12-05T01:41:00Z'>01:41</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
even a verifyBlock will need a way to pass in the utxo set and the block index
<br>
</div>

<div class='talk op-msg' data-timestamp='1480902120' id='515978'>
<a class='timestamp' href='#515978'><time timestamp='2016-12-05T01:42:00Z'>01:42</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
the only difference is that a processBlock doesn&#x27;t need a way to update set utxo set, and doesn&#x27;t need to be able to request other blocks in case of a reorg
<br>
</div>

<div class='talk op-msg' data-timestamp='1480902240' id='515979'>
<a class='timestamp' href='#515979'><time timestamp='2016-12-05T01:44:00Z'>01:44</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
althought I tend to agree, I feel that&#x27;s very vague and doesn&#x27;t help on clarifying priorities, thinking of the next thing to expose, I think, helps clarify what the goal of the refactors should be and where are we supposed to be moving towards to
<br>
</div>

<div class='talk op-msg' data-timestamp='1480902240' id='515980'>
<a class='timestamp' href='#515980'><time timestamp='2016-12-05T01:44:00Z'>01:44</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
you know my opinion - i don&#x27;t care about exposing anything at all at this point, so i&#x27;m the wrong person to ask
<br>
</div>

<div class='talk op-msg' data-timestamp='1480902240' id='515981'>
<a class='timestamp' href='#515981'><time timestamp='2016-12-05T01:44:00Z'>01:44</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
yes verifyBlock would need an interface to access data from the utxo
<br>
</div>

<div class='talk op-msg' data-timestamp='1480902240' id='515982'>
<a class='timestamp' href='#515982'><time timestamp='2016-12-05T01:44:00Z'>01:44</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i think we have harder problems to solve before exposing even comes into question
<br>
</div>

<div class='talk op-msg' data-timestamp='1480902300' id='515983'>
<a class='timestamp' href='#515983'><time timestamp='2016-12-05T01:45:00Z'>01:45</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
dcousens: proposal was to pass all required data explicitly for the block you were validating
<br>
</div>

<div class='talk op-msg' data-timestamp='1480902360' id='515984'>
<a class='timestamp' href='#515984'><time timestamp='2016-12-05T01:46:00Z'>01:46</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
essentially, i think we should first introduce clean abstractions between certain modules inside bitcoin core, in such a way that it&#x27;s effectively bitcoind using a consensus library already, without it being exposed
<br>
</div>

<div class='talk op-msg' data-timestamp='1480902360' id='515985'>
<a class='timestamp' href='#515985'><time timestamp='2016-12-05T01:46:00Z'>01:46</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
when it&#x27;s good enough for us to use, we can think about exposing it to others
<br>
</div>

<div class='talk op-msg' data-timestamp='1480902420' id='515986'>
<a class='timestamp' href='#515986'><time timestamp='2016-12-05T01:47:00Z'>01:47</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
(but again, others may see things differently)
<br>
</div>

<div class='talk op-msg' data-timestamp='1480902480' id='515987'>
<a class='timestamp' href='#515987'><time timestamp='2016-12-05T01:48:00Z'>01:48</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
right, and I think the module that should be a priority to cleanly separate is the part of the code that is required to fully validate whether a block is valid or not from everything else
<br>
</div>

<div class='talk op-msg' data-timestamp='1480902480' id='515988'>
<a class='timestamp' href='#515988'><time timestamp='2016-12-05T01:48:00Z'>01:48</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but that&#x27;s very tightly coupled with validation of the whole chain, through CBlockIndex
<br>
</div>

<div class='talk op-msg' data-timestamp='1480902540' id='515989'>
<a class='timestamp' href='#515989'><time timestamp='2016-12-05T01:49:00Z'>01:49</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
right, it basically depends on chain.o and coins.o
<br>
</div>

<div class='talk op-msg' data-timestamp='1480902600' id='515990'>
<a class='timestamp' href='#515990'><time timestamp='2016-12-05T01:50:00Z'>01:50</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
you can&#x27;t validate a block without knowing its CBlockIndex 
<br>
</div>

<div class='talk op-msg' data-timestamp='1480902600' id='515991'>
<a class='timestamp' href='#515991'><time timestamp='2016-12-05T01:50:00Z'>01:50</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
more specifically on two existing classes on them, an API for that is not hard
<br>
</div>

<div class='talk op-msg' data-timestamp='1480902600' id='515992'>
<a class='timestamp' href='#515992'><time timestamp='2016-12-05T01:50:00Z'>01:50</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
so i&#x27;m not sure whether &quot;single block validation&quot; is a useful abstraction on its own
<br>
</div>

<div class='talk op-msg' data-timestamp='1480902600' id='515993'>
<a class='timestamp' href='#515993'><time timestamp='2016-12-05T01:50:00Z'>01:50</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
transaction validation may be useful
<br>
</div>

<div class='talk op-msg' data-timestamp='1480902660' id='515994'>
<a class='timestamp' href='#515994'><time timestamp='2016-12-05T01:51:00Z'>01:51</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
CBlockIndex is the storage interface I abstract (or abstract from its own exsiting abstraction) in 8493
<br>
</div>

<div class='talk op-msg' data-timestamp='1480902660' id='515995'>
<a class='timestamp' href='#515995'><time timestamp='2016-12-05T01:51:00Z'>01:51</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i don&#x27;t want an abstraction for CBlockIndex
<br>
</div>

<div class='talk op-msg' data-timestamp='1480902720' id='515996'>
<a class='timestamp' href='#515996'><time timestamp='2016-12-05T01:52:00Z'>01:52</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
my proposed next steps are single header validation or single tx validation
<br>
</div>

<div class='talk op-msg' data-timestamp='1480902720' id='515997'>
<a class='timestamp' href='#515997'><time timestamp='2016-12-05T01:52:00Z'>01:52</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
but without policy checks
<br>
</div>

<div class='talk op-msg' data-timestamp='1480902780' id='515998'>
<a class='timestamp' href='#515998'><time timestamp='2016-12-05T01:53:00Z'>01:53</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
as i said, i don&#x27;t think we should focus on exposing interfaces now, but on separating modules
<br>
</div>

<div class='talk op-msg' data-timestamp='1480902780' id='515999'>
<a class='timestamp' href='#515999'><time timestamp='2016-12-05T01:53:00Z'>01:53</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and i think separating block validation from chain validation is hard
<br>
</div>

<div class='talk op-msg' data-timestamp='1480902840' id='516000'>
<a class='timestamp' href='#516000'><time timestamp='2016-12-05T01:54:00Z'>01:54</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
jtimon: I&#x27;m with sipa here - The Main Split was the first of many steps that make sense on their own to abstract out consensus and non-consensus code
<br>
</div>

<div class='talk op-msg' data-timestamp='1480902840' id='516001'>
<a class='timestamp' href='#516001'><time timestamp='2016-12-05T01:54:00Z'>01:54</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
jtimon: the few commits I sent you earlier form the very tiny beginning of what I think are the next steps
<br>
</div>

<div class='talk op-msg' data-timestamp='1480902840' id='516002'>
<a class='timestamp' href='#516002'><time timestamp='2016-12-05T01:54:00Z'>01:54</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
separating network things was absolutely brilliant, thanks again
<br>
</div>

<div class='talk op-msg' data-timestamp='1480902840' id='516003'>
<a class='timestamp' href='#516003'><time timestamp='2016-12-05T01:54:00Z'>01:54</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
jtimon: ie having a state object internally which keeps chainstate in it and calls out to things for disk access and has ProcessNewBlock as a member function
<br>
</div>

<div class='talk op-msg' data-timestamp='1480902900' id='516004'>
<a class='timestamp' href='#516004'><time timestamp='2016-12-05T01:55:00Z'>01:55</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
BlueMatt: chainstate include mapBlockIndex?
<br>
</div>

<div class='talk op-msg' data-timestamp='1480902900' id='516005'>
<a class='timestamp' href='#516005'><time timestamp='2016-12-05T01:55:00Z'>01:55</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
and its ~no code changes, just some function splitting and putting ClassName:: in front of them
<br>
</div>

<div class='talk op-msg' data-timestamp='1480902900' id='516006'>
<a class='timestamp' href='#516006'><time timestamp='2016-12-05T01:55:00Z'>01:55</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
sipa: yes, mapBlockIndex and chainActive and related variables
<br>
</div>

<div class='talk op-msg' data-timestamp='1480902900' id='516007'>
<a class='timestamp' href='#516007'><time timestamp='2016-12-05T01:55:00Z'>01:55</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
sipa: but calling out for ReadBlockFromDisk, and pcoinsTip is just a pointer that is passed to it
<br>
</div>

<div class='talk op-msg' data-timestamp='1480902960' id='516008'>
<a class='timestamp' href='#516008'><time timestamp='2016-12-05T01:56:00Z'>01:56</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
BlueMatt: got it
<br>
</div>

<div class='talk op-msg' data-timestamp='1480902960' id='516009'>
<a class='timestamp' href='#516009'><time timestamp='2016-12-05T01:56:00Z'>01:56</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
seems like an easy first step
<br>
</div>

<div class='talk op-msg' data-timestamp='1480902960' id='516010'>
<a class='timestamp' href='#516010'><time timestamp='2016-12-05T01:56:00Z'>01:56</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
sipa: if you don&#x27;t care about exposing, that&#x27;s fine, let&#x27;s talk about dependencies, I want the consensus module to fully verify a single tx and a single header and a single block without depending on coins.o or chain.o
<br>
</div>

<div class='talk op-msg' data-timestamp='1480902960' id='516011'>
<a class='timestamp' href='#516011'><time timestamp='2016-12-05T01:56:00Z'>01:56</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
yea, should be pretty clean...I dont have time to do it for the next week or two...do you want to take it up jtimon?
<br>
</div>

<div class='talk op-msg' data-timestamp='1480902960' id='516012'>
<a class='timestamp' href='#516012'><time timestamp='2016-12-05T01:56:00Z'>01:56</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
I also want to work on splitting up net_processing more so that we can multithread ProcessMessages
<br>
</div>

<div class='talk op-msg' data-timestamp='1480903020' id='516013'>
<a class='timestamp' href='#516013'><time timestamp='2016-12-05T01:57:00Z'>01:57</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
jtimon: I dont see how thats possibel?
<br>
</div>

<div class='talk op-msg' data-timestamp='1480903020' id='516014'>
<a class='timestamp' href='#516014'><time timestamp='2016-12-05T01:57:00Z'>01:57</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yes, i think those are possible
<br>
</div>

<div class='talk op-msg' data-timestamp='1480903020' id='516015'>
<a class='timestamp' href='#516015'><time timestamp='2016-12-05T01:57:00Z'>01:57</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
I don&#x27;t know what you want to do, how can I pick it up?
<br>
</div>

<div class='talk op-msg' data-timestamp='1480903020' id='516016'>
<a class='timestamp' href='#516016'><time timestamp='2016-12-05T01:57:00Z'>01:57</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
(don&#x27;t
<br>
</div>

<div class='talk op-msg' data-timestamp='1480903020' id='516017'>
<a class='timestamp' href='#516017'><time timestamp='2016-12-05T01:57:00Z'>01:57</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
jtimon: literally the point of &quot;fully validating&quot; a tx is to validate it against a CCoins-holding UTXO db
<br>
</div>

<div class='talk op-msg' data-timestamp='1480903020' id='516018'>
<a class='timestamp' href='#516018'><time timestamp='2016-12-05T01:57:00Z'>01:57</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
jtimon: did you look at the top commit on the branch I sent you?
<br>
</div>

<div class='talk op-msg' data-timestamp='1480903020' id='516019'>
<a class='timestamp' href='#516019'><time timestamp='2016-12-05T01:57:00Z'>01:57</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
efficiency of validation is highly dependent on low-level access to coins and chain
<br>
</div>

<div class='talk op-msg' data-timestamp='1480903020' id='516020'>
<a class='timestamp' href='#516020'><time timestamp='2016-12-05T01:57:00Z'>01:57</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
sigh, I thought I had proved it was possible repeated times...
<br>
</div>

<div class='talk op-msg' data-timestamp='1480903080' id='516021'>
<a class='timestamp' href='#516021'><time timestamp='2016-12-05T01:58:00Z'>01:58</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
jtimon: <a href="https://github.com/TheBlueMatt/bitcoin/commit/54c967e73a1d1abba8f426fce0f14c5eeaf277e6" class="link" target="_blank">https://github.com/TheBlueMatt/bitcoin/commit/54c967e73a1d1abba8f426fce0f14c5eeaf277e6</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1480903080' id='516022'>
<a class='timestamp' href='#516022'><time timestamp='2016-12-05T01:58:00Z'>01:58</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it&#x27;s possible if you introduce abstractions everywhere
<br>
</div>

<div class='talk op-msg' data-timestamp='1480903080' id='516023'>
<a class='timestamp' href='#516023'><time timestamp='2016-12-05T01:58:00Z'>01:58</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
is it possible to fully validate a header without depending on chain.o?
<br>
</div>

<div class='talk op-msg' data-timestamp='1480903080' id='516024'>
<a class='timestamp' href='#516024'><time timestamp='2016-12-05T01:58:00Z'>01:58</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
no     
<br>
</div>

<div class='talk op-msg' data-timestamp='1480903080' id='516025'>
<a class='timestamp' href='#516025'><time timestamp='2016-12-05T01:58:00Z'>01:58</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
(unless you abstract it out, of course)
<br>
</div>

<div class='talk op-msg' data-timestamp='1480903140' id='516026'>
<a class='timestamp' href='#516026'><time timestamp='2016-12-05T01:59:00Z'>01:59</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
then what&#x27;s happening in 8493
<br>
</div>

<div class='talk op-msg' data-timestamp='1480903140' id='516027'>
<a class='timestamp' href='#516027'><time timestamp='2016-12-05T01:59:00Z'>01:59</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
right
<br>
</div>

<div class='talk op-msg' data-timestamp='1480903140' id='516028'>
<a class='timestamp' href='#516028'><time timestamp='2016-12-05T01:59:00Z'>01:59</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but i think such abstraction are both a performance issue and an unnecessary code complication
<br>
</div>

<div class='talk op-msg' data-timestamp='1480903200' id='516029'>
<a class='timestamp' href='#516029'><time timestamp='2016-12-05T02:00:00Z'>02:00</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
well, more than half of 8493 is purely for demonstrating the exposed api and without benchmarking of any kind
<br>
</div>

<div class='talk op-msg' data-timestamp='1480903380' id='516030'>
<a class='timestamp' href='#516030'><time timestamp='2016-12-05T02:03:00Z'>02:03</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
my goal was to separate the code the verify a full block, depending on chain.o and coins.o (but only on those related to storage) [maybe put it all in the consensus folder? or wait for later?] but not putting it in the consensus module until you want to expose more and abstract it from chain and coins
<br>
</div>

<div class='talk op-msg' data-timestamp='1480903500' id='516031'>
<a class='timestamp' href='#516031'><time timestamp='2016-12-05T02:05:00Z'>02:05</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
anyway, I&#x27;m happy reviewing any related refactors, please ping me
<br>
</div>

<div class='talk op-msg' data-timestamp='1480903620' id='516032'>
<a class='timestamp' href='#516032'><time timestamp='2016-12-05T02:07:00Z'>02:07</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
sipa: does the GetConsensusFlag make any sense to you at a first glance? at least more than the previous version?
<br>
</div>

<div class='talk op-msg' data-timestamp='1480903680' id='516033'>
<a class='timestamp' href='#516033'><time timestamp='2016-12-05T02:08:00Z'>02:08</time></a>
&lt;<span class='nick nick-13'> jtimon</span>&gt;
without exposing anything, just as a refactor (note that calling GetConsensusFlag inside ContextualCheckBlock is painful performance-wise)
<br>
</div>

<div class='talk op-msg' data-timestamp='1480916700' id='516034'>
<a class='timestamp' href='#516034'><time timestamp='2016-12-05T05:45:00Z'>05:45</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jtimon opened pull request #9279: Consensus: Move CFeeRate out of libconsensus (master...0.13-consensus-dust-out-minimal) <a href="https://github.com/bitcoin/bitcoin/pull/9279" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9279</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1480916760' id='516035'>
<a class='timestamp' href='#516035'><time timestamp='2016-12-05T05:46:00Z'>05:46</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jtimon closed pull request #7820: Consensus: Policy: Move CFeeRate out of consensus module and create CPolicy interface (master...0.12.99-consensus-dust-out) <a href="https://github.com/bitcoin/bitcoin/pull/7820" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/7820</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1480920420' id='516036'>
<a class='timestamp' href='#516036'><time timestamp='2016-12-05T06:47:00Z'>06:47</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
FWIW, I&#x27;m noticing connection slots full on my nodes.
<br>
</div>

<div class='talk op-msg' data-timestamp='1480920480' id='516037'>
<a class='timestamp' href='#516037'><time timestamp='2016-12-05T06:48:00Z'>06:48</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
including some clown at 138.68.10.138 who looks like he&#x27;s connected three times to everyone; while pretending to be android wallet (he&#x27;s not).
<br>
</div>

<div class='talk op-msg' data-timestamp='1480921560' id='516038'>
<a class='timestamp' href='#516038'><time timestamp='2016-12-05T07:06:00Z'>07:06</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 5 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/4d955fc5824b...46904ee5d2ce" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/4d955fc5824b...46904ee5d2ce</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1480921560' id='516039'>
<a class='timestamp' href='#516039'><time timestamp='2016-12-05T07:06:00Z'>07:06</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master a188353 Pieter Wuille: Switch GetTransaction to returning a CTransactionRef
<br>
</div>

<div class='talk op-msg' data-timestamp='1480921560' id='516040'>
<a class='timestamp' href='#516040'><time timestamp='2016-12-05T07:06:00Z'>07:06</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master c3f5673 Pieter Wuille: Make CWalletTx store a CTransactionRef instead of inheriting
<br>
</div>

<div class='talk op-msg' data-timestamp='1480921560' id='516041'>
<a class='timestamp' href='#516041'><time timestamp='2016-12-05T07:06:00Z'>07:06</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 42fd8de Pieter Wuille: Make DecodeHexTx return a CMutableTransaction
<br>
</div>

<div class='talk op-msg' data-timestamp='1480921680' id='516042'>
<a class='timestamp' href='#516042'><time timestamp='2016-12-05T07:08:00Z'>07:08</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 7 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/46904ee5d2ce...d04aebaec7bb" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/46904ee5d2ce...d04aebaec7bb</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1480921680' id='516043'>
<a class='timestamp' href='#516043'><time timestamp='2016-12-05T07:08:00Z'>07:08</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 6fdd43b Matt Corallo: Add struct to track block-connect-time-generated info for callbacks
<br>
</div>

<div class='talk op-msg' data-timestamp='1480921680' id='516044'>
<a class='timestamp' href='#516044'><time timestamp='2016-12-05T07:08:00Z'>07:08</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master fd9d890 Matt Corallo: Keep blocks as shared_ptrs, instead of copying txn in ConnectTip
<br>
</div>

<div class='talk op-msg' data-timestamp='1480921680' id='516045'>
<a class='timestamp' href='#516045'><time timestamp='2016-12-05T07:08:00Z'>07:08</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master ae4db44 Matt Corallo: Create a shared_ptr for the block we&#x27;re connecting in ActivateBCS
<br>
</div>

<div class='talk op-msg' data-timestamp='1480921680' id='516046'>
<a class='timestamp' href='#516046'><time timestamp='2016-12-05T07:08:00Z'>07:08</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj closed pull request #9014: Fix block-connection performance regression (master...2016-10-fix-tx-regression) <a href="https://github.com/bitcoin/bitcoin/pull/9014" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9014</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1480923840' id='516047'>
<a class='timestamp' href='#516047'><time timestamp='2016-12-05T07:44:00Z'>07:44</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
BlueMatt: i can&#x27;t build flto with -O3, but i can with -O2
<br>
</div>

<div class='talk op-msg' data-timestamp='1480924800' id='516048'>
<a class='timestamp' href='#516048'><time timestamp='2016-12-05T08:00:00Z'>08:00</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
sipa: strange...I was not doing that, iirc
<br>
</div>

<div class='talk op-msg' data-timestamp='1480924860' id='516049'>
<a class='timestamp' href='#516049'><time timestamp='2016-12-05T08:01:00Z'>08:01</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
I think I tried -march=native originally, but turned it off when it didnt work
<br>
</div>

<div class='talk op-msg' data-timestamp='1480924860' id='516050'>
<a class='timestamp' href='#516050'><time timestamp='2016-12-05T08:01:00Z'>08:01</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
(and ccache and all that shit)
<br>
</div>

<div class='talk op-msg' data-timestamp='1480924920' id='516051'>
<a class='timestamp' href='#516051'><time timestamp='2016-12-05T08:02:00Z'>08:02</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
gmaxwell: this is why I auto-ban on strange-ass nodes like that (and had already banned that ip)
<br>
</div>

<div class='talk op-msg' data-timestamp='1480924920' id='516052'>
<a class='timestamp' href='#516052'><time timestamp='2016-12-05T08:02:00Z'>08:02</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
and why my public node is behind stupid-ridiculous ddos protection :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1480925040' id='516053'>
<a class='timestamp' href='#516053'><time timestamp='2016-12-05T08:04:00Z'>08:04</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sipa: why does O3 break it?!
<br>
</div>

<div class='talk op-msg' data-timestamp='1480925100' id='516054'>
<a class='timestamp' href='#516054'><time timestamp='2016-12-05T08:05:00Z'>08:05</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: sense it makes none
<br>
</div>

<div class='talk op-msg' data-timestamp='1480925100' id='516055'>
<a class='timestamp' href='#516055'><time timestamp='2016-12-05T08:05:00Z'>08:05</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
a linker error with ~boost::filesystem::path
<br>
</div>

<div class='talk op-msg' data-timestamp='1480925220' id='516056'>
<a class='timestamp' href='#516056'><time timestamp='2016-12-05T08:07:00Z'>08:07</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
never tried flto with -O3, no issues with -O2
<br>
</div>

<div class='talk op-msg' data-timestamp='1480925340' id='516057'>
<a class='timestamp' href='#516057'><time timestamp='2016-12-05T08:09:00Z'>08:09</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
(which afaik was what BlueMatt was seeing as well)
<br>
</div>

<div class='talk op-msg' data-timestamp='1480925400' id='516058'>
<a class='timestamp' href='#516058'><time timestamp='2016-12-05T08:10:00Z'>08:10</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
sipa: yes, it was, though I thought I went back and disabled all the strange optimizations for testing when it failed
<br>
</div>

<div class='talk op-msg' data-timestamp='1480925400' id='516059'>
<a class='timestamp' href='#516059'><time timestamp='2016-12-05T08:10:00Z'>08:10</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
actually, pretty sure I did
<br>
</div>

<div class='talk op-msg' data-timestamp='1480925820' id='516060'>
<a class='timestamp' href='#516060'><time timestamp='2016-12-05T08:17:00Z'>08:17</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I have a newly updated mass-connector/spy banlist which added 13 new entries:  
<br>
</div>

<div class='talk op-msg' data-timestamp='1480925820' id='516061'>
<a class='timestamp' href='#516061'><time timestamp='2016-12-05T08:17:00Z'>08:17</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
<a href="https://0bin.net/paste/iSGeBTgtmA8cSHGX#VBd97-ME4hUiIqJIOsd24oLfM57UXP3F3QfgzuoVHAD" class="link" target="_blank">https://0bin.net/paste/iSGeBTgtmA8cSHGX#VBd97-ME4hUiIqJIOsd24oLfM57UXP3F3QfgzuoVHAD</a>  -- with commandline syntax
<br>
</div>

<div class='talk op-msg' data-timestamp='1480925820' id='516062'>
<a class='timestamp' href='#516062'><time timestamp='2016-12-05T08:17:00Z'>08:17</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
<a href="https://0bin.net/paste/zplzkwGmn6oeP6Ec#oTFWsZFpGQ1zR10Ofv3mJbIOGCnoshxQBQBJoWhSaip" class="link" target="_blank">https://0bin.net/paste/zplzkwGmn6oeP6Ec#oTFWsZFpGQ1zR10Ofv3mJbIOGCnoshxQBQBJoWhSaip</a> -- with debug console syntax
<br>
</div>

<div class='talk op-msg' data-timestamp='1480926060' id='516063'>
<a class='timestamp' href='#516063'><time timestamp='2016-12-05T08:21:00Z'>08:21</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
thanks
<br>
</div>

<div class='talk op-msg' data-timestamp='1480926600' id='516064'>
<a class='timestamp' href='#516064'><time timestamp='2016-12-05T08:30:00Z'>08:30</time></a>
&lt;<span class='nick nick-16'> Lightsword</span>&gt;
gmaxwell, maybe 138.197.197.164 as well
<br>
</div>

<div class='talk op-msg' data-timestamp='1480926660' id='516065'>
<a class='timestamp' href='#516065'><time timestamp='2016-12-05T08:31:00Z'>08:31</time></a>
&lt;<span class='nick nick-16'> Lightsword</span>&gt;
and 138.197.197.132 and 180.173.203.229 and 138.197.197.108
<br>
</div>

<div class='talk op-msg' data-timestamp='1480926660' id='516066'>
<a class='timestamp' href='#516066'><time timestamp='2016-12-05T08:31:00Z'>08:31</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jonasschnelli opened pull request #9280: [Qt] Show ModalOverlay by pressing the progress bar, allow hiding (master...2016/12/qt_modal) <a href="https://github.com/bitcoin/bitcoin/pull/9280" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9280</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1480926720' id='516067'>
<a class='timestamp' href='#516067'><time timestamp='2016-12-05T08:32:00Z'>08:32</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Lightsword: I&#x27;ve only been including ones that show up on all my input hosts, unfortunately since everyone is at limits, that conceals a few.
<br>
</div>

<div class='talk op-msg' data-timestamp='1480926900' id='516068'>
<a class='timestamp' href='#516068'><time timestamp='2016-12-05T08:35:00Z'>08:35</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
gmaxwell: just take the unlimited-connection-slots patch?
<br>
</div>

<div class='talk op-msg' data-timestamp='1480927020' id='516069'>
<a class='timestamp' href='#516069'><time timestamp='2016-12-05T08:37:00Z'>08:37</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
you can set -maxconnections=1000 without any patches
<br>
</div>

<div class='talk op-msg' data-timestamp='1480927260' id='516070'>
<a class='timestamp' href='#516070'><time timestamp='2016-12-05T08:41:00Z'>08:41</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
sipa: huh? I thought that sets you at 125?
<br>
</div>

<div class='talk op-msg' data-timestamp='1480927320' id='516071'>
<a class='timestamp' href='#516071'><time timestamp='2016-12-05T08:42:00Z'>08:42</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
no     
<br>
</div>

<div class='talk op-msg' data-timestamp='1480927320' id='516072'>
<a class='timestamp' href='#516072'><time timestamp='2016-12-05T08:42:00Z'>08:42</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
125 is just the default
<br>
</div>

<div class='talk op-msg' data-timestamp='1480927320' id='516073'>
<a class='timestamp' href='#516073'><time timestamp='2016-12-05T08:42:00Z'>08:42</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
sipa: its limited by available sockets
<br>
</div>

<div class='talk op-msg' data-timestamp='1480927320' id='516074'>
<a class='timestamp' href='#516074'><time timestamp='2016-12-05T08:42:00Z'>08:42</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
depends on what the fd lmiit is
<br>
</div>

<div class='talk op-msg' data-timestamp='1480927320' id='516075'>
<a class='timestamp' href='#516075'><time timestamp='2016-12-05T08:42:00Z'>08:42</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
which can be super low, because select()
<br>
</div>

<div class='talk op-msg' data-timestamp='1480927320' id='516076'>
<a class='timestamp' href='#516076'><time timestamp='2016-12-05T08:42:00Z'>08:42</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
or this used to be the case
<br>
</div>

<div class='talk op-msg' data-timestamp='1480927380' id='516077'>
<a class='timestamp' href='#516077'><time timestamp='2016-12-05T08:43:00Z'>08:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
Warning: Reducing -maxconnections from 1000 to 873, because of system limitations.
<br>
</div>

<div class='talk op-msg' data-timestamp='1480927380' id='516078'>
<a class='timestamp' href='#516078'><time timestamp='2016-12-05T08:43:00Z'>08:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ok, 873.
<br>
</div>

<div class='talk op-msg' data-timestamp='1480927380' id='516079'>
<a class='timestamp' href='#516079'><time timestamp='2016-12-05T08:43:00Z'>08:43</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
oh, 873, hum, I thought it was lower
<br>
</div>

<div class='talk op-msg' data-timestamp='1480927380' id='516080'>
<a class='timestamp' href='#516080'><time timestamp='2016-12-05T08:43:00Z'>08:43</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
select() can handle 1024 on most systems, that&#x27;s pretty much enough for most cases
<br>
</div>

<div class='talk op-msg' data-timestamp='1480927380' id='516081'>
<a class='timestamp' href='#516081'><time timestamp='2016-12-05T08:43:00Z'>08:43</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
whatever, I carry a patch to use poll() to make it actually higher....
<br>
</div>

<div class='talk op-msg' data-timestamp='1480927440' id='516082'>
<a class='timestamp' href='#516082'><time timestamp='2016-12-05T08:44:00Z'>08:44</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I guess we&#x27;ve held up switching to poll because we expected to switch to libevent any day, that&#x27;s taking a bit longer than expected :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1480927440' id='516083'>
<a class='timestamp' href='#516083'><time timestamp='2016-12-05T08:44:00Z'>08:44</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
Soon! (tm)
<br>
</div>

<div class='talk op-msg' data-timestamp='1480927440' id='516084'>
<a class='timestamp' href='#516084'><time timestamp='2016-12-05T08:44:00Z'>08:44</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yea :-)
<br>
</div>

<div class='talk op-msg' data-timestamp='1480927440' id='516085'>
<a class='timestamp' href='#516085'><time timestamp='2016-12-05T08:44:00Z'>08:44</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
IIRC matt&#x27;s patch is darn near trivial.
<br>
</div>

<div class='talk op-msg' data-timestamp='1480927560' id='516086'>
<a class='timestamp' href='#516086'><time timestamp='2016-12-05T08:46:00Z'>08:46</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
gmaxwell: yes, but given that its 873 not 1XX as I&#x27;d thought, probably not worth it
<br>
</div>

<div class='talk op-msg' data-timestamp='1480927560' id='516087'>
<a class='timestamp' href='#516087'><time timestamp='2016-12-05T08:46:00Z'>08:46</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
and libevent is actually sooner now
<br>
</div>

<div class='talk op-msg' data-timestamp='1480929180' id='516088'>
<a class='timestamp' href='#516088'><time timestamp='2016-12-05T09:13:00Z'>09:13</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] kallewoof opened pull request #9281: Refactor: Removed using namespace &lt;xxx&gt; from bench/ &amp; test/ sources (master...no-using-namespace-bench-test) <a href="https://github.com/bitcoin/bitcoin/pull/9281" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9281</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1480931940' id='516089'>
<a class='timestamp' href='#516089'><time timestamp='2016-12-05T09:59:00Z'>09:59</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 3 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/d04aebaec7bb...613bda418f83" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/d04aebaec7bb...613bda418f83</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1480931940' id='516090'>
<a class='timestamp' href='#516090'><time timestamp='2016-12-05T09:59:00Z'>09:59</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 634ad51 Pieter Wuille: Squashed &#x27;src/leveldb/&#x27; changes from 20ca81f..a31c8aa...
<br>
</div>

<div class='talk op-msg' data-timestamp='1480931940' id='516091'>
<a class='timestamp' href='#516091'><time timestamp='2016-12-05T09:59:00Z'>09:59</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 605d701 Pieter Wuille: Merge in LevelDB 1.19 changes
<br>
</div>

<div class='talk op-msg' data-timestamp='1480931940' id='516092'>
<a class='timestamp' href='#516092'><time timestamp='2016-12-05T09:59:00Z'>09:59</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 613bda4 Wladimir J. van der Laan: Merge #8613: LevelDB 1.19...
<br>
</div>

<div class='talk op-msg' data-timestamp='1480932180' id='516093'>
<a class='timestamp' href='#516093'><time timestamp='2016-12-05T10:03:00Z'>10:03</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
wumpus: yeah, i didn&#x27;t mean to say we should use reuse_logs, just that the feature over time may be interesting to us
<br>
</div>

<div class='talk op-msg' data-timestamp='1480932180' id='516094'>
<a class='timestamp' href='#516094'><time timestamp='2016-12-05T10:03:00Z'>10:03</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
*roght now
<br>
</div>

<div class='talk op-msg' data-timestamp='1480932300' id='516095'>
<a class='timestamp' href='#516095'><time timestamp='2016-12-05T10:05:00Z'>10:05</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
sipa: right
<br>
</div>

<div class='talk op-msg' data-timestamp='1480932540' id='516096'>
<a class='timestamp' href='#516096'><time timestamp='2016-12-05T10:09:00Z'>10:09</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/613bda418f83...43e8150ef690" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/613bda418f83...43e8150ef690</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1480932540' id='516097'>
<a class='timestamp' href='#516097'><time timestamp='2016-12-05T10:09:00Z'>10:09</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 2efc438 Pieter Wuille: Align struct COrphan definition
<br>
</div>

<div class='talk op-msg' data-timestamp='1480932540' id='516098'>
<a class='timestamp' href='#516098'><time timestamp='2016-12-05T10:09:00Z'>10:09</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 43e8150 Wladimir J. van der Laan: Merge #9269: Align struct COrphan definition...
<br>
</div>

<div class='talk op-msg' data-timestamp='1480932600' id='516099'>
<a class='timestamp' href='#516099'><time timestamp='2016-12-05T10:10:00Z'>10:10</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj closed pull request #9269: Align struct COrphan definition (master...oneorphan) <a href="https://github.com/bitcoin/bitcoin/pull/9269" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9269</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1480932960' id='516100'>
<a class='timestamp' href='#516100'><time timestamp='2016-12-05T10:16:00Z'>10:16</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] paveljanik opened pull request #9282: CMutableTransaction is defined as struct (master...20161205_CMutableTransaction_is_struct) <a href="https://github.com/bitcoin/bitcoin/pull/9282" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9282</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1480934160' id='516101'>
<a class='timestamp' href='#516101'><time timestamp='2016-12-05T10:36:00Z'>10:36</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] sipa opened pull request #9283: A few more CTransactionRef optimizations (master...sharedblock2) <a href="https://github.com/bitcoin/bitcoin/pull/9283" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9283</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1480938420' id='516102'>
<a class='timestamp' href='#516102'><time timestamp='2016-12-05T11:47:00Z'>11:47</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/43e8150ef690...c01f16aaa0ed" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/43e8150ef690...c01f16aaa0ed</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1480938420' id='516103'>
<a class='timestamp' href='#516103'><time timestamp='2016-12-05T11:47:00Z'>11:47</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master ea83d00 instagibbs: SendMoney: use already-calculated balance
<br>
</div>

<div class='talk op-msg' data-timestamp='1480938420' id='516104'>
<a class='timestamp' href='#516104'><time timestamp='2016-12-05T11:47:00Z'>11:47</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master c01f16a Wladimir J. van der Laan: Merge #9165: SendMoney: use already-calculated balance...
<br>
</div>

<div class='talk op-msg' data-timestamp='1480938480' id='516105'>
<a class='timestamp' href='#516105'><time timestamp='2016-12-05T11:48:00Z'>11:48</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj closed pull request #9165: SendMoney: use already-calculated balance (master...triv-curbal) <a href="https://github.com/bitcoin/bitcoin/pull/9165" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9165</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1480938900' id='516106'>
<a class='timestamp' href='#516106'><time timestamp='2016-12-05T11:55:00Z'>11:55</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/c01f16aaa0ed...7d5d44969b4a" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/c01f16aaa0ed...7d5d44969b4a</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1480938900' id='516107'>
<a class='timestamp' href='#516107'><time timestamp='2016-12-05T11:55:00Z'>11:55</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master c4b6fa8 Pavel JanÃ­k: CMutableTransaction is defined as struct.
<br>
</div>

<div class='talk op-msg' data-timestamp='1480938900' id='516108'>
<a class='timestamp' href='#516108'><time timestamp='2016-12-05T11:55:00Z'>11:55</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 7d5d449 Wladimir J. van der Laan: Merge #9282: CMutableTransaction is defined as struct...
<br>
</div>

<div class='talk op-msg' data-timestamp='1480938900' id='516109'>
<a class='timestamp' href='#516109'><time timestamp='2016-12-05T11:55:00Z'>11:55</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj closed pull request #9282: CMutableTransaction is defined as struct (master...20161205_CMutableTransaction_is_struct) <a href="https://github.com/bitcoin/bitcoin/pull/9282" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9282</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1480942920' id='516110'>
<a class='timestamp' href='#516110'><time timestamp='2016-12-05T13:02:00Z'>13:02</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jonasschnelli opened pull request #9284: Suppress some annoying deprecation warnings (OSX) (master...2016/12/osx_warnings) <a href="https://github.com/bitcoin/bitcoin/pull/9284" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/9284</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1480945080' id='516111'>
<a class='timestamp' href='#516111'><time timestamp='2016-12-05T13:38:00Z'>13:38</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
And comments on our keypoolrefil RPC call behavior?
<br>
</div>

<div class='talk op-msg' data-timestamp='1480945080' id='516112'>
<a class='timestamp' href='#516112'><time timestamp='2016-12-05T13:38:00Z'>13:38</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/blob/master/qa/rpc-tests/keypool.py#L45" class="link" target="_blank">https://github.com/bitcoin/bitcoin/blob/master/qa/rpc-tests/keypool.py#L45</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1480945140' id='516113'>
<a class='timestamp' href='#516113'><time timestamp='2016-12-05T13:39:00Z'>13:39</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
The tests proof, that nodes[0].keypoolrefill(3) result in 4 available keys.
<br>
</div>

<div class='talk op-msg' data-timestamp='1480945140' id='516114'>
<a class='timestamp' href='#516114'><time timestamp='2016-12-05T13:39:00Z'>13:39</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
But reading the API docs, it should be 3.
<br>
</div>

<div class='talk op-msg' data-timestamp='1480945140' id='516115'>
<a class='timestamp' href='#516115'><time timestamp='2016-12-05T13:39:00Z'>13:39</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
IMO the +1 is wrong here
<br>
</div>

<div class='talk op-msg' data-timestamp='1480945140' id='516116'>
<a class='timestamp' href='#516116'><time timestamp='2016-12-05T13:39:00Z'>13:39</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
(I&#x27;d ask because I&#x27;d like to fix this with the HD split in ext/int chain)
<br>
</div>

<div class='talk op-msg' data-timestamp='1480946160' id='516117'>
<a class='timestamp' href='#516117'><time timestamp='2016-12-05T13:56:00Z'>13:56</time></a>
&lt;<span class='nick nick-3'> dcousens</span>&gt;
hmm, CTransaction assignment was totally removed aye
<br>
</div>

<div class='talk op-msg' data-timestamp='1480946400' id='516118'>
<a class='timestamp' href='#516118'><time timestamp='2016-12-05T14:00:00Z'>14:00</time></a>
&lt;<span class='nick nick-3'> dcousens</span>&gt;
sipa: was removing CTransaction&amp; operator=(const CTransaction&amp; tx); necessary, or just a safety precaution?
<br>
</div>

<div class='talk op-msg' data-timestamp='1480946880' id='516119'>
<a class='timestamp' href='#516119'><time timestamp='2016-12-05T14:08:00Z'>14:08</time></a>
&lt;<span class='nick nick-3'> dcousens</span>&gt;
meh, I guess I can just CTransactionRef anyway
<br>
</div>

<div class='talk op-msg' data-timestamp='1480947660' id='516120'>
<a class='timestamp' href='#516120'><time timestamp='2016-12-05T14:21:00Z'>14:21</time></a>
&lt;<span class='nick nick-3'> dcousens</span>&gt;
eh, nvm, rebased all my local code, tl;dr was juts changing CTransaction to CTransactionRef, .vout to -&gt;vout ... and thats it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1480947660' id='516121'>
<a class='timestamp' href='#516121'><time timestamp='2016-12-05T14:21:00Z'>14:21</time></a>
&lt;<span class='nick nick-3'> dcousens</span>&gt;
LGTM :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1480947900' id='516122'>
<a class='timestamp' href='#516122'><time timestamp='2016-12-05T14:25:00Z'>14:25</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
dcousens, I love happy endings 
<br>
</div>

<div class='talk op-msg' data-timestamp='1480949340' id='516123'>
<a class='timestamp' href='#516123'><time timestamp='2016-12-05T14:49:00Z'>14:49</time></a>
&lt;<span class='nick nick-3'> dcousens</span>&gt;
instagibbs: not so happy yet ha
<br>
</div>

<div class='talk op-msg' data-timestamp='1480949520' id='516124'>
<a class='timestamp' href='#516124'><time timestamp='2016-12-05T14:52:00Z'>14:52</time></a>
&lt;<span class='nick nick-3'> dcousens</span>&gt;
trying a fresh-recompile,  but master seems to just lock up for me atm
<br>
</div>

<div class='talk op-msg' data-timestamp='1480958940' id='516125'>
<a class='timestamp' href='#516125'><time timestamp='2016-12-05T17:29:00Z'>17:29</time></a>
&lt;<span class='nick nick-11'> jl2012</span>&gt;
in what situation, the &quot;Warning: We do not appear to fully agree with our peers! You may need to upgrade, or other nodes may need to upgrade&quot; will be shown?
<br>
</div>

<div class='talk op-msg' data-timestamp='1480959600' id='516126'>
<a class='timestamp' href='#516126'><time timestamp='2016-12-05T17:40:00Z'>17:40</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
jonasschnelli: you around?
<br>
</div>

<div class='talk op-msg' data-timestamp='1480959660' id='516127'>
<a class='timestamp' href='#516127'><time timestamp='2016-12-05T17:41:00Z'>17:41</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
re: #8501, I agree with not fixing the frequency..  But i&#x27;m unsure about the no duplicating the same value over and over again..  
<br>
</div>

<div class='talk op-msg' data-timestamp='1480959660' id='516128'>
<a class='timestamp' href='#516128'><time timestamp='2016-12-05T17:41:00Z'>17:41</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/8501" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/8501</a> | Add mempool statistics collector by jonasschnelli Â· Pull Request #8501 Â· bitcoin/bitcoin Â· GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1480959720' id='516129'>
<a class='timestamp' href='#516129'><time timestamp='2016-12-05T17:42:00Z'>17:42</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
It might depend on the use case, but for instance it might be valuable to know that it stayed the same for a while and then incremented all at once, as opposed to not being able to tell that it just hadn&#x27;t been simpled in between
<br>
</div>

<div class='talk op-msg' data-timestamp='1480959780' id='516130'>
<a class='timestamp' href='#516130'><time timestamp='2016-12-05T17:43:00Z'>17:43</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
my thought was if we saved having to record the time stamp, we might be able to put up with lots of duplicate values..  especially if we&#x27;re saving for instance only 1000 data points at second frequency, it just won&#x27;t use all that much memory
<br>
</div>

<div class='talk op-msg' data-timestamp='1480959780' id='516131'>
<a class='timestamp' href='#516131'><time timestamp='2016-12-05T17:43:00Z'>17:43</time></a>
&lt;<span class='nick nick-11'> morcos</span>&gt;
anywya, sorry, dont mean to redesign your whole PR months after you opened it
<br>
</div>

<div class='talk op-msg' data-timestamp='1480963560' id='516132'>
<a class='timestamp' href='#516132'><time timestamp='2016-12-05T18:46:00Z'>18:46</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
Does -txindex significantly impact performance of IBD? I tried to sync last night and only synced ~10K blocks, which seems slow. Is that reasonable? 
<br>
</div>

<div class='talk op-msg' data-timestamp='1480963680' id='516133'>
<a class='timestamp' href='#516133'><time timestamp='2016-12-05T18:48:00Z'>18:48</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that&#x27;s totally unreasonable
<br>
</div>

<div class='talk op-msg' data-timestamp='1480963740' id='516134'>
<a class='timestamp' href='#516134'><time timestamp='2016-12-05T18:49:00Z'>18:49</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
is it stuck?
<br>
</div>

<div class='talk op-msg' data-timestamp='1480963740' id='516135'>
<a class='timestamp' href='#516135'><time timestamp='2016-12-05T18:49:00Z'>18:49</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
or just slow?
<br>
</div>

<div class='talk op-msg' data-timestamp='1480963920' id='516136'>
<a class='timestamp' href='#516136'><time timestamp='2016-12-05T18:52:00Z'>18:52</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
extremely slow it seems. I&#x27;m using out of box settings on 0.13.1 with -txindex. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1480963920' id='516137'>
<a class='timestamp' href='#516137'><time timestamp='2016-12-05T18:52:00Z'>18:52</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
does increasing dbcache help?
<br>
</div>

<div class='talk op-msg' data-timestamp='1480963980' id='516138'>
<a class='timestamp' href='#516138'><time timestamp='2016-12-05T18:53:00Z'>18:53</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
I&#x27;ll try it later and report back, default is 2GB? 
<br>
</div>

<div class='talk op-msg' data-timestamp='1480964040' id='516139'>
<a class='timestamp' href='#516139'><time timestamp='2016-12-05T18:54:00Z'>18:54</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
default is 300MB
<br>
</div>

<div class='talk op-msg' data-timestamp='1480964100' id='516140'>
<a class='timestamp' href='#516140'><time timestamp='2016-12-05T18:55:00Z'>18:55</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
mmm that is probably why. I thought it was significantly higher. How long does IBD take other people with that setting as default?
<br>
</div>

<div class='talk op-msg' data-timestamp='1480964340' id='516141'>
<a class='timestamp' href='#516141'><time timestamp='2016-12-05T18:59:00Z'>18:59</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
what height are you at now?
<br>
</div>

<div class='talk op-msg' data-timestamp='1480964820' id='516142'>
<a class='timestamp' href='#516142'><time timestamp='2016-12-05T19:07:00Z'>19:07</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
403817
<br>
</div>

<div class='talk op-msg' data-timestamp='1480969980' id='516143'>
<a class='timestamp' href='#516143'><time timestamp='2016-12-05T20:33:00Z'>20:33</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
sipa: I should have been more clear, I have been trying to do IBD over the course of a few nights, with results like I said ~10k blocks a night. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1480970040' id='516144'>
<a class='timestamp' href='#516144'><time timestamp='2016-12-05T20:34:00Z'>20:34</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
the first ~250k blocks went relatively fast (a couple hour period) but I think some might have already been on disk? Perhaps i&#x27;m using the term IBD a little too loosely 
<br>
</div>

<div class='talk op-msg' data-timestamp='1480970040' id='516145'>
<a class='timestamp' href='#516145'><time timestamp='2016-12-05T20:34:00Z'>20:34</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
but it is a major sync 
<br>
</div>

<div class='talk op-msg' data-timestamp='1480970400' id='516146'>
<a class='timestamp' href='#516146'><time timestamp='2016-12-05T20:40:00Z'>20:40</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
sdaftuar_, why would you want to spend a coin from you wallet that has descendants(already spent)? I&#x27;m surely thinking of this wrong
<br>
</div>

<div class='talk op-msg' data-timestamp='1480970460' id='516147'>
<a class='timestamp' href='#516147'><time timestamp='2016-12-05T20:41:00Z'>20:41</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
or are descendants calculated from a tx point of view, ie other output has been spent in a chain, therefore that adds to that count
<br>
</div>

<div class='talk op-msg' data-timestamp='1480970520' id='516148'>
<a class='timestamp' href='#516148'><time timestamp='2016-12-05T20:42:00Z'>20:42</time></a>
&lt;<span class='nick nick-7'> sdaftuar_</span>&gt;
instagibbs: oh, yeah i meant in-mempool descendants
<br>
</div>

<div class='talk op-msg' data-timestamp='1480970520' id='516149'>
<a class='timestamp' href='#516149'><time timestamp='2016-12-05T20:42:00Z'>20:42</time></a>
&lt;<span class='nick nick-7'> sdaftuar_</span>&gt;
say you have a tx that has 2 outputs, you send me money and give yourself change.
<br>
</div>

<div class='talk op-msg' data-timestamp='1480970520' id='516150'>
<a class='timestamp' href='#516150'><time timestamp='2016-12-05T20:42:00Z'>20:42</time></a>
&lt;<span class='nick nick-7'> sdaftuar_</span>&gt;
then i chain 24 transactions off it
<br>
</div>

<div class='talk op-msg' data-timestamp='1480970520' id='516151'>
<a class='timestamp' href='#516151'><time timestamp='2016-12-05T20:42:00Z'>20:42</time></a>
&lt;<span class='nick nick-7'> sdaftuar_</span>&gt;
you try to spend your change, but that&#x27;ll fail
<br>
</div>

<div class='talk op-msg' data-timestamp='1480970520' id='516152'>
<a class='timestamp' href='#516152'><time timestamp='2016-12-05T20:42:00Z'>20:42</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
ok, didnt think of the fact that outputs are linked re:descendants 
<br>
</div>

<div class='talk op-msg' data-timestamp='1480970580' id='516153'>
<a class='timestamp' href='#516153'><time timestamp='2016-12-05T20:43:00Z'>20:43</time></a>
&lt;<span class='nick nick-7'> sdaftuar_</span>&gt;
that does seem to be a confusing property of the mempool limiting :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1480970580' id='516154'>
<a class='timestamp' href='#516154'><time timestamp='2016-12-05T20:43:00Z'>20:43</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
but that is obv in hindsight. Ok, well one issue is you might have asymmetrical limits. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1480970580' id='516155'>
<a class='timestamp' href='#516155'><time timestamp='2016-12-05T20:43:00Z'>20:43</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
yeah, i suggested using min()
<br>
</div>

<div class='talk op-msg' data-timestamp='1480970580' id='516156'>
<a class='timestamp' href='#516156'><time timestamp='2016-12-05T20:43:00Z'>20:43</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
it might have been better if that limit was split across outputs.
<br>
</div>

<div class='talk op-msg' data-timestamp='1480970640' id='516157'>
<a class='timestamp' href='#516157'><time timestamp='2016-12-05T20:44:00Z'>20:44</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
gmaxwell: that would then fail to capture the issue at hand, i think
<br>
</div>

<div class='talk op-msg' data-timestamp='1480970640' id='516158'>
<a class='timestamp' href='#516158'><time timestamp='2016-12-05T20:44:00Z'>20:44</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
sdaftuar, hmm says max on my screen
<br>
</div>

<div class='talk op-msg' data-timestamp='1480970640' id='516159'>
<a class='timestamp' href='#516159'><time timestamp='2016-12-05T20:44:00Z'>20:44</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
e.g. A can have up to 24 decendants, it has two outputs, each can have 12 under it. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1480970640' id='516160'>
<a class='timestamp' href='#516160'><time timestamp='2016-12-05T20:44:00Z'>20:44</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
sorry, max(tx-&gt;ancestor, tx-&gt;descendants()) should be less than min(ancestorlimit, descendantlimit)
<br>
</div>

<div class='talk op-msg' data-timestamp='1480970640' id='516161'>
<a class='timestamp' href='#516161'><time timestamp='2016-12-05T20:44:00Z'>20:44</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
oh i see nvm
<br>
</div>

<div class='talk op-msg' data-timestamp='1480970700' id='516162'>
<a class='timestamp' href='#516162'><time timestamp='2016-12-05T20:45:00Z'>20:45</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
gmaxwell: oh, hm.
<br>
</div>

<div class='talk op-msg' data-timestamp='1480970820' id='516163'>
<a class='timestamp' href='#516163'><time timestamp='2016-12-05T20:47:00Z'>20:47</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
in the worst case though it reduces your maximum to a log_outputs(depth), which isn&#x27;t awesome.
<br>
</div>

<div class='talk op-msg' data-timestamp='1480970820' id='516164'>
<a class='timestamp' href='#516164'><time timestamp='2016-12-05T20:47:00Z'>20:47</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
maybe doable, but kind of yuck to implement i think
<br>
</div>

<div class='talk op-msg' data-timestamp='1480970880' id='516165'>
<a class='timestamp' href='#516165'><time timestamp='2016-12-05T20:48:00Z'>20:48</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
but it would prevent other people from chewing up your limit. I think this hasn&#x27;t actually been a problem, though I could imagine it being one in certian kinds of transaction protocols.
<br>
</div>

<div class='talk op-msg' data-timestamp='1480970880' id='516166'>
<a class='timestamp' href='#516166'><time timestamp='2016-12-05T20:48:00Z'>20:48</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
what kinds of protocols do you have in mind?
<br>
</div>

<div class='talk op-msg' data-timestamp='1480970940' id='516167'>
<a class='timestamp' href='#516167'><time timestamp='2016-12-05T20:49:00Z'>20:49</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
In the abstract, protocols where someone delaying your transaction can allow the party to cheat like atomic swaps. Not that big of a concern since unless the head transaction is confirmed those protocols are not secure against miners.
<br>
</div>

<div class='talk op-msg' data-timestamp='1480971120' id='516168'>
<a class='timestamp' href='#516168'><time timestamp='2016-12-05T20:52:00Z'>20:52</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
right, if someone comes up with a use case that does rely on the parent not necessarily being confirmed, then that should alter our thinking
<br>
</div>

<div class='talk op-msg' data-timestamp='1480981800' id='516169'>
<a class='timestamp' href='#516169'><time timestamp='2016-12-05T23:50:00Z'>23:50</time></a>
&lt;<span class='nick nick-3'> dcousens</span>&gt;
hmph
<br>
</div>

<div class='talk op-msg' data-timestamp='1480981800' id='516170'>
<a class='timestamp' href='#516170'><time timestamp='2016-12-05T23:50:00Z'>23:50</time></a>
&lt;<span class='nick nick-3'> dcousens</span>&gt;
So I&#x27;m running master, no changes at all
<br>
</div>

<div class='talk op-msg' data-timestamp='1480981800' id='516171'>
<a class='timestamp' href='#516171'><time timestamp='2016-12-05T23:50:00Z'>23:50</time></a>
&lt;<span class='nick nick-3'> dcousens</span>&gt;
And my bitcoind finishes up to verify, then just sits there on 100% CPU usage (probably forever, but who knows)
<br>
</div>

<div class='talk op-msg' data-timestamp='1480981860' id='516172'>
<a class='timestamp' href='#516172'><time timestamp='2016-12-05T23:51:00Z'>23:51</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
&#x27;up to verify&#x27;? 
<br>
</div>

<div class='talk op-msg' data-timestamp='1480981860' id='516173'>
<a class='timestamp' href='#516173'><time timestamp='2016-12-05T23:51:00Z'>23:51</time></a>
&lt;<span class='nick nick-3'> dcousens</span>&gt;
It fails to open up the RPC, or start synchronizing
<br>
</div>

<div class='talk op-msg' data-timestamp='1480981860' id='516174'>
<a class='timestamp' href='#516174'><time timestamp='2016-12-05T23:51:00Z'>23:51</time></a>
&lt;<span class='nick nick-3'> dcousens</span>&gt;
checkblocks
<br>
</div>

<div class='talk op-msg' data-timestamp='1480981860' id='516175'>
<a class='timestamp' href='#516175'><time timestamp='2016-12-05T23:51:00Z'>23:51</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
what is the last log entry?
<br>
</div>

<div class='talk op-msg' data-timestamp='1480981860' id='516176'>
<a class='timestamp' href='#516176'><time timestamp='2016-12-05T23:51:00Z'>23:51</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
can you attach GDB?
<br>
</div>

<div class='talk op-msg' data-timestamp='1480981860' id='516177'>
<a class='timestamp' href='#516177'><time timestamp='2016-12-05T23:51:00Z'>23:51</time></a>
&lt;<span class='nick nick-3'> dcousens</span>&gt;
It still keeps logging, but solely the tor control messages
<br>
</div>

<div class='talk op-msg' data-timestamp='1480981920' id='516178'>
<a class='timestamp' href='#516178'><time timestamp='2016-12-05T23:52:00Z'>23:52</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
that sounds like a deadlock then.
<br>
</div>

<div class='talk op-msg' data-timestamp='1480981920' id='516179'>
<a class='timestamp' href='#516179'><time timestamp='2016-12-05T23:52:00Z'>23:52</time></a>
&lt;<span class='nick nick-3'> dcousens</span>&gt;
What do I need to do to attach GDB? Happy to do it
<br>
</div>

<div class='talk op-msg' data-timestamp='1480981920' id='516180'>
<a class='timestamp' href='#516180'><time timestamp='2016-12-05T23:52:00Z'>23:52</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
dcousens: what OS are you on?
<br>
</div>

<div class='talk op-msg' data-timestamp='1480981980' id='516181'>
<a class='timestamp' href='#516181'><time timestamp='2016-12-05T23:53:00Z'>23:53</time></a>
&lt;<span class='nick nick-3'> dcousens</span>&gt;
just collecting info, sec
<br>
</div>

<div class='talk op-msg' data-timestamp='1480982040' id='516182'>
<a class='timestamp' href='#516182'><time timestamp='2016-12-05T23:54:00Z'>23:54</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
on *nix:   ps aux | grep bitcoin   to get the bitcoind pid    then gdb -p &lt;pid&gt; to attach.     then run thread apply all bt full   to get backtraces from every thread, and 0bin that to me,  and then you can type q&lt;enter&gt; to quit 
<br>
</div>

<div class='talk op-msg' data-timestamp='1480982280' id='516183'>
<a class='timestamp' href='#516183'><time timestamp='2016-12-05T23:58:00Z'>23:58</time></a>
&lt;<span class='nick nick-3'> dcousens</span>&gt;
<a href="http://pastie.org/private/a40ppfohw2kxxxundn1iw" class="link" target="_blank">http://pastie.org/private/a40ppfohw2kxxxundn1iw</a> - for the info, doing gdb now
<br>
</div>

</div>
</section>

</body>
</html>
