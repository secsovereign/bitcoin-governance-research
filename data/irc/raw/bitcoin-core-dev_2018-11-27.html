<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2018-11-27
 — 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2018-11-27' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:21 UTC</pre>
<pre><a href="/bitcoin-core-dev/2018-10-27">&lt;</a><span class='header'>  November 2018   </span><a href="/bitcoin-core-dev/2018-12-27">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;             <a class="" href="/bitcoin-core-dev/2018-11-01">1</a>  <a class="" href="/bitcoin-core-dev/2018-11-02">2</a>  <a class="" href="/bitcoin-core-dev/2018-11-03">3</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2018-11-04">4</a>  <a class="" href="/bitcoin-core-dev/2018-11-05">5</a>  <a class="" href="/bitcoin-core-dev/2018-11-06">6</a>  <a class="" href="/bitcoin-core-dev/2018-11-07">7</a>  <a class="" href="/bitcoin-core-dev/2018-11-08">8</a>  <a class="" href="/bitcoin-core-dev/2018-11-09">9</a> <a class="" href="/bitcoin-core-dev/2018-11-10">10</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2018-11-11">11</a> <a class="" href="/bitcoin-core-dev/2018-11-12">12</a> <a class="" href="/bitcoin-core-dev/2018-11-13">13</a> <a class="" href="/bitcoin-core-dev/2018-11-14">14</a> <a class="" href="/bitcoin-core-dev/2018-11-15">15</a> <a class="" href="/bitcoin-core-dev/2018-11-16">16</a> <a class="" href="/bitcoin-core-dev/2018-11-17">17</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2018-11-18">18</a> <a class="" href="/bitcoin-core-dev/2018-11-19">19</a> <a class="" href="/bitcoin-core-dev/2018-11-20">20</a> <a class="" href="/bitcoin-core-dev/2018-11-21">21</a> <a class="" href="/bitcoin-core-dev/2018-11-22">22</a> <a class="" href="/bitcoin-core-dev/2018-11-23">23</a> <a class="" href="/bitcoin-core-dev/2018-11-24">24</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2018-11-25">25</a> <a class="" href="/bitcoin-core-dev/2018-11-26">26</a> <a class="current" href="/bitcoin-core-dev/2018-11-27">27</a> <a class="" href="/bitcoin-core-dev/2018-11-28">28</a> <a class="" href="/bitcoin-core-dev/2018-11-29">29</a> <a class="" href="/bitcoin-core-dev/2018-11-30">30</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1543311720' id='641906'>
<a class='timestamp' href='#641906'><time timestamp='2018-11-27T09:42:00Z'>09:42</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
achow101: rpc_psbt&#x27;s &quot;Make sure that a psbt with signatures cannot be converted&quot; doesn&#x27;t make sense to me. is the comment/description wrong? (also, it&#x27;s failing if it gets a non-segwit transaction..)\
<br>
</div>

<div class='talk op-msg' data-timestamp='1543311720' id='641907'>
<a class='timestamp' href='#641907'><time timestamp='2018-11-27T09:42:00Z'>09:42</time></a>
&lt;<span class='nick nick-4'> naftulikay</span>&gt;
/!＼ ATТⲚ: Ꭲһіѕ cһɑnᥒеl has mοved tⲟ irϲ.freenodе.net ＃ⲟsіrisⅼаb ⁄!⧵
<br>
</div>

<div class='talk op-msg' data-timestamp='1543311720' id='641908'>
<a class='timestamp' href='#641908'><time timestamp='2018-11-27T09:42:00Z'>09:42</time></a>
&lt;<span class='nick nick-4'> naftulikay</span>&gt;
With oᥙr ІRC ad serviϲe you сan reacһ a gⅼobal ɑudiеnce οf ᥱntreрrᥱᥒeᥙrs aᥒd feᥒtanyⅼ ɑddiсts wіth еxtraοrdⅰᥒary ᥱngɑgᥱⅿᥱnt rates! https://ᴡіlⅼiɑmpitcoϲk.ϲom/
<br>
</div>

<div class='talk op-msg' data-timestamp='1543311780' id='641909'>
<a class='timestamp' href='#641909'><time timestamp='2018-11-27T09:43:00Z'>09:43</time></a>
&lt;<span class='nick nick-4'> naftulikay</span>&gt;
Ι tһⲟuɡht уоu ɡuyѕ miɡһt bᥱ intereѕtᥱd in tһis blоg bу frᥱᥱᥒоdе staff member ᗷryan klⲟеri Οѕtеrɡɑard httрs:／/bryаnostergaard.ⅽഠm/
<br>
</div>

<div class='talk op-msg' data-timestamp='1543314120' id='641910'>
<a class='timestamp' href='#641910'><time timestamp='2018-11-27T10:22:00Z'>10:22</time></a>
&lt;<span class='nick nick-11'> xuu9</span>&gt;
/!\ ᎪТᎢN︓ Thiѕ chaᥒᥒel hɑs moved to irϲ.freenοԁe․ᥒet #οsirⅰѕlab /!\
<br>
</div>

<div class='talk op-msg' data-timestamp='1543314120' id='641911'>
<a class='timestamp' href='#641911'><time timestamp='2018-11-27T10:22:00Z'>10:22</time></a>
&lt;<span class='nick nick-11'> xuu9</span>&gt;
Wіth ഠur IRC ad ѕerⅴice you сan rеacһ a gⅼоbɑⅼ aᥙԁieᥒcе of еᥒtrерrᥱᥒеurs аnⅾ fеntanyⅼ addⅰⅽts ᴡіth еⅹtraоrdinarỿ ᥱᥒgɑɡemeᥒt rateѕ! <a href="https://w" class="link" target="_blank">https://w</a>ⅰlliamрⅰtcock.cоm/
<br>
</div>

<div class='talk op-msg' data-timestamp='1543314120' id='641912'>
<a class='timestamp' href='#641912'><time timestamp='2018-11-27T10:22:00Z'>10:22</time></a>
&lt;<span class='nick nick-11'> xuu9</span>&gt;
Ⅰ tһoᥙght yοu ɡ∪уѕ ⅿіght be iᥒterеѕtеⅾ іᥒ tһⅰѕ blog bỿ freenоdе staff meⅿber Brỿɑᥒ kⅼοеrі Ostergaarԁ httpѕ։⁄/bryaᥒοstergaard.сഠⅿ/
<br>
</div>

<div class='talk op-msg' data-timestamp='1543314180' id='641913'>
<a class='timestamp' href='#641913'><time timestamp='2018-11-27T10:23:00Z'>10:23</time></a>
&lt;<span class='nick nick-11'> xuu9</span>&gt;
ᖇeаԁ wһɑt IᎡC invᥱstiɡati∨ᥱ jοurnɑⅼіstѕ have ∪ncοvered on the frеᥱᥒഠԁe peԁοpһіⅼⅰa ѕcaᥒԁal https:/∕encycⅼഠреdⅰаdramatіcɑ․rѕ／Freenodeɡate
<br>
</div>

<div class='talk op-msg' data-timestamp='1543314240' id='641914'>
<a class='timestamp' href='#641914'><time timestamp='2018-11-27T10:24:00Z'>10:24</time></a>
&lt;<span class='nick nick-16'> rex4539</span>&gt;
You can try fighting spammers but you cannot win...
<br>
</div>

<div class='talk op-msg' data-timestamp='1543314240' id='641915'>
<a class='timestamp' href='#641915'><time timestamp='2018-11-27T10:24:00Z'>10:24</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
sigh
<br>
</div>

<div class='talk op-msg' data-timestamp='1543315680' id='641916'>
<a class='timestamp' href='#641916'><time timestamp='2018-11-27T10:48:00Z'>10:48</time></a>
&lt;<span class='nick nick-8'> timothy</span>&gt;
rex4539: yes, but you need to set the channel for registered-only
<br>
</div>

<div class='talk op-msg' data-timestamp='1543325880' id='641917'>
<a class='timestamp' href='#641917'><time timestamp='2018-11-27T13:38:00Z'>13:38</time></a>
&lt;<span class='nick nick-4'> pjz26</span>&gt;
⧸︕＼ ΑTTN: Тhiѕ сһаnᥒel hаs mоved to irc.frеenoⅾe.net ＃οsⅰrіѕlɑb ⧸!\
<br>
</div>

<div class='talk op-msg' data-timestamp='1543325940' id='641918'>
<a class='timestamp' href='#641918'><time timestamp='2018-11-27T13:39:00Z'>13:39</time></a>
&lt;<span class='nick nick-8'> cjd</span>&gt;
I wonder if that&#x27;s just a juped channel and everyone joining it gets killed (?)
<br>
</div>

<div class='talk op-msg' data-timestamp='1543326000' id='641919'>
<a class='timestamp' href='#641919'><time timestamp='2018-11-27T13:40:00Z'>13:40</time></a>
&lt;<span class='nick nick-8'> cjd</span>&gt;
Getting people to join another irc network makes some sense... spamming to get them to join another chan on the same network seems...... odd
<br>
</div>

<div class='talk op-msg' data-timestamp='1543330920' id='641920'>
<a class='timestamp' href='#641920'><time timestamp='2018-11-27T15:02:00Z'>15:02</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
luke-jr: that should be &quot;make sure that a tx with signatures cannot be converted to a psbt&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1543330980' id='641921'>
<a class='timestamp' href='#641921'><time timestamp='2018-11-27T15:03:00Z'>15:03</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
luke-jr: how does it fail when it gets a non-segwit transaction?
<br>
</div>

<div class='talk op-msg' data-timestamp='1543331460' id='641922'>
<a class='timestamp' href='#641922'><time timestamp='2018-11-27T15:11:00Z'>15:11</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
achow101: test_framework.authproxy.JSONRPCException: Inputs must not have scriptSigs and scriptWitnesses (-22)
<br>
</div>

<div class='talk op-msg' data-timestamp='1543331520' id='641923'>
<a class='timestamp' href='#641923'><time timestamp='2018-11-27T15:12:00Z'>15:12</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
luke-jr: ... the error explains what&#x27;s wrong. converttopsbt will not convert if signatures are present
<br>
</div>

<div class='talk op-msg' data-timestamp='1543331520' id='641924'>
<a class='timestamp' href='#641924'><time timestamp='2018-11-27T15:12:00Z'>15:12</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
achow101: but the test is looking for a different error
<br>
</div>

<div class='talk op-msg' data-timestamp='1543331520' id='641925'>
<a class='timestamp' href='#641925'><time timestamp='2018-11-27T15:12:00Z'>15:12</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
assert_raises_rpc_error(-22, &quot;TX decode failed&quot;, self.nodes[0].converttopsbt, signedtx[&#x27;hex&#x27;])
<br>
</div>

<div class='talk op-msg' data-timestamp='1543331700' id='641926'>
<a class='timestamp' href='#641926'><time timestamp='2018-11-27T15:15:00Z'>15:15</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
converttopsbt stuff is still fairly wonky
<br>
</div>

<div class='talk op-msg' data-timestamp='1543331700' id='641927'>
<a class='timestamp' href='#641927'><time timestamp='2018-11-27T15:15:00Z'>15:15</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
from my recollection
<br>
</div>

<div class='talk op-msg' data-timestamp='1543331760' id='641928'>
<a class='timestamp' href='#641928'><time timestamp='2018-11-27T15:16:00Z'>15:16</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
rhavar was trying to use it and ran into all sorts of issues
<br>
</div>

<div class='talk op-msg' data-timestamp='1543331820' id='641929'>
<a class='timestamp' href='#641929'><time timestamp='2018-11-27T15:17:00Z'>15:17</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
hmm. some boolean logic might be messed up again
<br>
</div>

<div class='talk op-msg' data-timestamp='1543331820' id='641930'>
<a class='timestamp' href='#641930'><time timestamp='2018-11-27T15:17:00Z'>15:17</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
trying to handle the interaction with permitsigdata and trywitness args got really messy
<br>
</div>

<div class='talk op-msg' data-timestamp='1543331880' id='641931'>
<a class='timestamp' href='#641931'><time timestamp='2018-11-27T15:18:00Z'>15:18</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
it was already messed up, my fix just fixed the most obvious bitflip
<br>
</div>

<div class='talk op-msg' data-timestamp='1543331940' id='641932'>
<a class='timestamp' href='#641932'><time timestamp='2018-11-27T15:19:00Z'>15:19</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
yeah that test is mine #14356
<br>
</div>

<div class='talk op-msg' data-timestamp='1543331940' id='641933'>
<a class='timestamp' href='#641933'><time timestamp='2018-11-27T15:19:00Z'>15:19</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/14356" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/14356</a> | fix converttopsbt permitsigdata arg, add basic test by instagibbs · Pull Request #14356 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1543331940' id='641934'>
<a class='timestamp' href='#641934'><time timestamp='2018-11-27T15:19:00Z'>15:19</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
pinged him on the related issue
<br>
</div>

<div class='talk op-msg' data-timestamp='1543332180' id='641935'>
<a class='timestamp' href='#641935'><time timestamp='2018-11-27T15:23:00Z'>15:23</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] instagibbs opened pull request #14816: Add CScriptNum decode python implementation in functional suite (master...functional_cscriptnum_decode) <a href="https://github.com/bitcoin/bitcoin/pull/14816" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/14816</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1543333260' id='641936'>
<a class='timestamp' href='#641936'><time timestamp='2018-11-27T15:41:00Z'>15:41</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
so I&#x27;m still not really clear why the test looks for &quot;TX decode failed&quot;, but the error is (supposed to be?) &quot;Inputs must not have scriptSigs and scriptWitnesses&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1543333380' id='641937'>
<a class='timestamp' href='#641937'><time timestamp='2018-11-27T15:43:00Z'>15:43</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
Should have filed an issue when it was in my brain, oops
<br>
</div>

<div class='talk op-msg' data-timestamp='1543335660' id='641938'>
<a class='timestamp' href='#641938'><time timestamp='2018-11-27T16:21:00Z'>16:21</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] hebasto opened pull request #14817: qt: Remove unnecessary columns in Coin Selection window (#11811) (master...20181126-fix-hidden-columns) <a href="https://github.com/bitcoin/bitcoin/pull/14817" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/14817</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1543335780' id='641939'>
<a class='timestamp' href='#641939'><time timestamp='2018-11-27T16:23:00Z'>16:23</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
I&#x27;m looking at #14602 and <a href="https://bitcoin.stackexchange.com/questions/80926/update-to-0-17-0-broke-several-rpc-api-calls-that-worked-under-0-16-3-how-to-mi" class="link" target="_blank">https://bitcoin.stackexchange.com/questions/80926/update-to-0-17-0-broke-several-rpc-api-calls-that-worked-under-0-16-3-how-to-mi</a> and trying to understand exactly what the use case is for getbalance *
<br>
</div>

<div class='talk op-msg' data-timestamp='1543335780' id='641940'>
<a class='timestamp' href='#641940'><time timestamp='2018-11-27T16:23:00Z'>16:23</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/14602" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/14602</a> | Bugfix: Correctly calculate balances when min_conf is used, and for getbalance(&quot;*&quot;) by luke-jr · Pull Request #14602 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1543335840' id='641941'>
<a class='timestamp' href='#641941'><time timestamp='2018-11-27T16:24:00Z'>16:24</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
Do people just need to use getunconfirmedbalance or am I missing some other use case?
<br>
</div>

<div class='talk op-msg' data-timestamp='1543335900' id='641942'>
<a class='timestamp' href='#641942'><time timestamp='2018-11-27T16:25:00Z'>16:25</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
as far as I can tell, getbalance * wasn&#x27;t documented as a feature, was marked as deprecated and there was even a warning in the most recent rpc help text saying &quot;it is recommended to avoid passing this argument&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1543335900' id='641943'>
<a class='timestamp' href='#641943'><time timestamp='2018-11-27T16:25:00Z'>16:25</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
Trying to understand what people were using it for
<br>
</div>

<div class='talk op-msg' data-timestamp='1543336260' id='641944'>
<a class='timestamp' href='#641944'><time timestamp='2018-11-27T16:31:00Z'>16:31</time></a>
&lt;<span class='nick nick-7'> esotericnonsense</span>&gt;
jnewbery: atomicity perhaps?
<br>
</div>

<div class='talk op-msg' data-timestamp='1543336260' id='641945'>
<a class='timestamp' href='#641945'><time timestamp='2018-11-27T16:31:00Z'>16:31</time></a>
&lt;<span class='nick nick-7'> esotericnonsense</span>&gt;
(just a guess)
<br>
</div>

<div class='talk op-msg' data-timestamp='1543336260' id='641946'>
<a class='timestamp' href='#641946'><time timestamp='2018-11-27T16:31:00Z'>16:31</time></a>
&lt;<span class='nick nick-7'> esotericnonsense</span>&gt;
if you call getbalance and get x, and getunconfirmedbalance and get y, seperately, you&#x27;re not guaranteed that the &quot;total unconfirmed balance&quot; is x+y
<br>
</div>

<div class='talk op-msg' data-timestamp='1543336380' id='641947'>
<a class='timestamp' href='#641947'><time timestamp='2018-11-27T16:33:00Z'>16:33</time></a>
&lt;<span class='nick nick-7'> esotericnonsense</span>&gt;
(unless there&#x27;s some getunconfirmedbalance command that includes it, in which case sure that works... or just use getwalletinfo(?))
<br>
</div>

<div class='talk op-msg' data-timestamp='1543336440' id='641948'>
<a class='timestamp' href='#641948'><time timestamp='2018-11-27T16:34:00Z'>16:34</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jnewbery: i think the better questiom is why doesn&#x27;t getbalancd &quot;&quot; return unconfirmed balance?
<br>
</div>

<div class='talk op-msg' data-timestamp='1543336500' id='641949'>
<a class='timestamp' href='#641949'><time timestamp='2018-11-27T16:35:00Z'>16:35</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
ken2812221: <a href="https://ci.appveyor.com/project/DrahtBot/bitcoin/builds/20590378" class="link" target="_blank">https://ci.appveyor.com/project/DrahtBot/bitcoin/builds/20590378</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1543337100' id='641950'>
<a class='timestamp' href='#641950'><time timestamp='2018-11-27T16:45:00Z'>16:45</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
It&#x27;s frustrating. There was originally a code comment saying &quot;getbalance and getbalance &#x27;*&#x27; 0 should return the same number
<br>
</div>

<div class='talk op-msg' data-timestamp='1543337100' id='641951'>
<a class='timestamp' href='#641951'><time timestamp='2018-11-27T16:45:00Z'>16:45</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
and then people started relying on undocumented behaviour about how they return different things
<br>
</div>

<div class='talk op-msg' data-timestamp='1543337340' id='641952'>
<a class='timestamp' href='#641952'><time timestamp='2018-11-27T16:49:00Z'>16:49</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
:(
<br>
</div>

<div class='talk op-msg' data-timestamp='1543337340' id='641953'>
<a class='timestamp' href='#641953'><time timestamp='2018-11-27T16:49:00Z'>16:49</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
sipa: are you suggesting that getbalance should return unconfirmed balance?
<br>
</div>

<div class='talk op-msg' data-timestamp='1543337340' id='641954'>
<a class='timestamp' href='#641954'><time timestamp='2018-11-27T16:49:00Z'>16:49</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i don&#x27;t see why not
<br>
</div>

<div class='talk op-msg' data-timestamp='1543337340' id='641955'>
<a class='timestamp' href='#641955'><time timestamp='2018-11-27T16:49:00Z'>16:49</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
when confirmations=0 is passed
<br>
</div>

<div class='talk op-msg' data-timestamp='1543337400' id='641956'>
<a class='timestamp' href='#641956'><time timestamp='2018-11-27T16:50:00Z'>16:50</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
ah, yes, when minconf=0
<br>
</div>

<div class='talk op-msg' data-timestamp='1543337460' id='641957'>
<a class='timestamp' href='#641957'><time timestamp='2018-11-27T16:51:00Z'>16:51</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jnewbery: my guess is that more people rely on getbalance * 0 returning unconfirmed balance than there are people relying on it being different from getbalance 
<br>
</div>

<div class='talk op-msg' data-timestamp='1543337520' id='641958'>
<a class='timestamp' href='#641958'><time timestamp='2018-11-27T16:52:00Z'>16:52</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but that&#x27;s just a guess
<br>
</div>

<div class='talk op-msg' data-timestamp='1543337880' id='641959'>
<a class='timestamp' href='#641959'><time timestamp='2018-11-27T16:58:00Z'>16:58</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
minconf=0 wasn&#x27;t originally supported without &quot;account&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1543337880' id='641960'>
<a class='timestamp' href='#641960'><time timestamp='2018-11-27T16:58:00Z'>16:58</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
(and never has worked without it, before that PR)
<br>
</div>

<div class='talk op-msg' data-timestamp='1543338000' id='641961'>
<a class='timestamp' href='#641961'><time timestamp='2018-11-27T17:00:00Z'>17:00</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
luke-jr: i know
<br>
</div>

<div class='talk op-msg' data-timestamp='1543338000' id='641962'>
<a class='timestamp' href='#641962'><time timestamp='2018-11-27T17:00:00Z'>17:00</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but i don&#x27;t see why it wouldn&#x27;t be
<br>
</div>

<div class='talk op-msg' data-timestamp='1543338060' id='641963'>
<a class='timestamp' href='#641963'><time timestamp='2018-11-27T17:01:00Z'>17:01</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
my suggestion would be to always support minconf=0, and leave the dummy/account argument alone
<br>
</div>

<div class='talk op-msg' data-timestamp='1543338060' id='641964'>
<a class='timestamp' href='#641964'><time timestamp='2018-11-27T17:01:00Z'>17:01</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
sipa: and use minconf=null to get the current behaviour?
<br>
</div>

<div class='talk op-msg' data-timestamp='1543338120' id='641965'>
<a class='timestamp' href='#641965'><time timestamp='2018-11-27T17:02:00Z'>17:02</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
right, just &quot;getbalance&quot; should keep doing what it did before
<br>
</div>

<div class='talk op-msg' data-timestamp='1543338120' id='641966'>
<a class='timestamp' href='#641966'><time timestamp='2018-11-27T17:02:00Z'>17:02</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but there is no ambiguity in getbalance minconf=0; clearly the caller wants to include 0 conf
<br>
</div>

<div class='talk op-msg' data-timestamp='1543338180' id='641967'>
<a class='timestamp' href='#641967'><time timestamp='2018-11-27T17:03:00Z'>17:03</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
hmm
<br>
</div>

<div class='talk op-msg' data-timestamp='1543338180' id='641968'>
<a class='timestamp' href='#641968'><time timestamp='2018-11-27T17:03:00Z'>17:03</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
what if at some point we only include 6 blocks deep in IsTrusted?
<br>
</div>

<div class='talk op-msg' data-timestamp='1543338180' id='641969'>
<a class='timestamp' href='#641969'><time timestamp='2018-11-27T17:03:00Z'>17:03</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
overloading minconf might bite us then
<br>
</div>

<div class='talk op-msg' data-timestamp='1543338300' id='641970'>
<a class='timestamp' href='#641970'><time timestamp='2018-11-27T17:05:00Z'>17:05</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i think that would either be a new RPC call, or a configuration option
<br>
</div>

<div class='talk op-msg' data-timestamp='1543338300' id='641971'>
<a class='timestamp' href='#641971'><time timestamp='2018-11-27T17:05:00Z'>17:05</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
how would it require overloading?
<br>
</div>

<div class='talk op-msg' data-timestamp='1543338360' id='641972'>
<a class='timestamp' href='#641972'><time timestamp='2018-11-27T17:06:00Z'>17:06</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ah, i see
<br>
</div>

<div class='talk op-msg' data-timestamp='1543338360' id='641973'>
<a class='timestamp' href='#641973'><time timestamp='2018-11-27T17:06:00Z'>17:06</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
the default is nominally 0 now
<br>
</div>

<div class='talk op-msg' data-timestamp='1543338420' id='641974'>
<a class='timestamp' href='#641974'><time timestamp='2018-11-27T17:07:00Z'>17:07</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but that only has an effect when an account was passed
<br>
</div>

<div class='talk op-msg' data-timestamp='1543338540' id='641975'>
<a class='timestamp' href='#641975'><time timestamp='2018-11-27T17:09:00Z'>17:09</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
getbalance&#x27;s behaviour distinction seems to go way, way back
<br>
</div>

<div class='talk op-msg' data-timestamp='1543338540' id='641976'>
<a class='timestamp' href='#641976'><time timestamp='2018-11-27T17:09:00Z'>17:09</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
to a Satoshi commit even
<br>
</div>

<div class='talk op-msg' data-timestamp='1543338600' id='641977'>
<a class='timestamp' href='#641977'><time timestamp='2018-11-27T17:10:00Z'>17:10</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that doesn&#x27;t surprise me
<br>
</div>

<div class='talk op-msg' data-timestamp='1543338660' id='641978'>
<a class='timestamp' href='#641978'><time timestamp='2018-11-27T17:11:00Z'>17:11</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i think it&#x27;s not unreasonable to just change the default minconf to one, bit add a &quot;if dummy==&quot;*&quot;, minconf is 0 by default for backward compatibility&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1543340040' id='641979'>
<a class='timestamp' href='#641979'><time timestamp='2018-11-27T17:34:00Z'>17:34</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
ah, converttopsbt fails differently w/ non-segwit inputs because it never tries deserialising as segwit
<br>
</div>

<div class='talk op-msg' data-timestamp='1543340100' id='641980'>
<a class='timestamp' href='#641980'><time timestamp='2018-11-27T17:35:00Z'>17:35</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
sipa: I&#x27;m not sure a default of minconf=1 will produce the same behaviour.
<br>
</div>

<div class='talk op-msg' data-timestamp='1543340100' id='641981'>
<a class='timestamp' href='#641981'><time timestamp='2018-11-27T17:35:00Z'>17:35</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
sipa: the default behaviour is 0 or 1 depending on the individual TXO
<br>
</div>

<div class='talk op-msg' data-timestamp='1543340220' id='641982'>
<a class='timestamp' href='#641982'><time timestamp='2018-11-27T17:37:00Z'>17:37</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
having your balance inexplicably go down due to change would be quite frightening...
<br>
</div>

<div class='talk op-msg' data-timestamp='1543340340' id='641983'>
<a class='timestamp' href='#641983'><time timestamp='2018-11-27T17:39:00Z'>17:39</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: it won&#x27;t
<br>
</div>

<div class='talk op-msg' data-timestamp='1543340340' id='641984'>
<a class='timestamp' href='#641984'><time timestamp='2018-11-27T17:39:00Z'>17:39</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
luke-jr: hmm?
<br>
</div>

<div class='talk op-msg' data-timestamp='1543340340' id='641985'>
<a class='timestamp' href='#641985'><time timestamp='2018-11-27T17:39:00Z'>17:39</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
luke-jr: perhaps i misunderstand the issue then
<br>
</div>

<div class='talk op-msg' data-timestamp='1543340400' id='641986'>
<a class='timestamp' href='#641986'><time timestamp='2018-11-27T17:40:00Z'>17:40</time></a>
&lt;<span class='nick nick-7'> esotericnonsense</span>&gt;
the weirdness is that a sent transaction is &quot;half included&quot; right.
<br>
</div>

<div class='talk op-msg' data-timestamp='1543340400' id='641987'>
<a class='timestamp' href='#641987'><time timestamp='2018-11-27T17:40:00Z'>17:40</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
luke-jr: is the default using IsTrusted, but the accounts-based logic including all 0conf?
<br>
</div>

<div class='talk op-msg' data-timestamp='1543340400' id='641988'>
<a class='timestamp' href='#641988'><time timestamp='2018-11-27T17:40:00Z'>17:40</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
sipa: the default uses IsTrusted, and the accounts-based logic just checks IsFinal and minconf
<br>
</div>

<div class='talk op-msg' data-timestamp='1543340460' id='641989'>
<a class='timestamp' href='#641989'><time timestamp='2018-11-27T17:41:00Z'>17:41</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
sipa: I believe that&#x27;s the case
<br>
</div>

<div class='talk op-msg' data-timestamp='1543340460' id='641990'>
<a class='timestamp' href='#641990'><time timestamp='2018-11-27T17:41:00Z'>17:41</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
oooh
<br>
</div>

<div class='talk op-msg' data-timestamp='1543340460' id='641991'>
<a class='timestamp' href='#641991'><time timestamp='2018-11-27T17:41:00Z'>17:41</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ugh, ok
<br>
</div>

<div class='talk op-msg' data-timestamp='1543340460' id='641992'>
<a class='timestamp' href='#641992'><time timestamp='2018-11-27T17:41:00Z'>17:41</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ignore my suggestion in that case
<br>
</div>

<div class='talk op-msg' data-timestamp='1543340460' id='641993'>
<a class='timestamp' href='#641993'><time timestamp='2018-11-27T17:41:00Z'>17:41</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
that was my belief. that default is 1/0 depending on istrusted so your blance doesn&#x27;t go down, and &quot;*&quot; uses minconf.
<br>
</div>

<div class='talk op-msg' data-timestamp='1543340460' id='641994'>
<a class='timestamp' href='#641994'><time timestamp='2018-11-27T17:41:00Z'>17:41</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
including non-istrusted balance sounds like a pretty bad idea regardless
<br>
</div>

<div class='talk op-msg' data-timestamp='1543340520' id='641995'>
<a class='timestamp' href='#641995'><time timestamp='2018-11-27T17:42:00Z'>17:42</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
why?
<br>
</div>

<div class='talk op-msg' data-timestamp='1543340580' id='641996'>
<a class='timestamp' href='#641996'><time timestamp='2018-11-27T17:43:00Z'>17:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it can be doublespent
<br>
</div>

<div class='talk op-msg' data-timestamp='1543340640' id='641997'>
<a class='timestamp' href='#641997'><time timestamp='2018-11-27T17:44:00Z'>17:44</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
doesn&#x27;t mean you can&#x27;t know about it, but including it in a balance RPC by default sounds weird
<br>
</div>

<div class='talk op-msg' data-timestamp='1543340640' id='641998'>
<a class='timestamp' href='#641998'><time timestamp='2018-11-27T17:44:00Z'>17:44</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/a4eaaa6ac536...d49103007676" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/a4eaaa6ac536...d49103007676</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1543340640' id='641999'>
<a class='timestamp' href='#641999'><time timestamp='2018-11-27T17:44:00Z'>17:44</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master fa71eb5 MarcoFalke: Convert comments to thread safety annotations
<br>
</div>

<div class='talk op-msg' data-timestamp='1543340640' id='642000'>
<a class='timestamp' href='#642000'><time timestamp='2018-11-27T17:44:00Z'>17:44</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master d491030 MarcoFalke: Merge #14772: refactor: Convert comments to thread safety annotations...
<br>
</div>

<div class='talk op-msg' data-timestamp='1543340700' id='642001'>
<a class='timestamp' href='#642001'><time timestamp='2018-11-27T17:45:00Z'>17:45</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
gmaxwell: regarding <a href="https://github.com/bitcoin/bitcoin/pull/14811#issuecomment-442150028" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/14811#issuecomment-442150028</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1543340700' id='642002'>
<a class='timestamp' href='#642002'><time timestamp='2018-11-27T17:45:00Z'>17:45</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
why you say &quot;mining invalid blocks&quot;?
<br>
</div>

<div class='talk op-msg' data-timestamp='1543340760' id='642003'>
<a class='timestamp' href='#642003'><time timestamp='2018-11-27T17:46:00Z'>17:46</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke closed pull request #14772: refactor: Convert comments to thread safety annotations (master...Mf1802-csCommentsLock) <a href="https://github.com/bitcoin/bitcoin/pull/14772" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/14772</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1543340760' id='642004'>
<a class='timestamp' href='#642004'><time timestamp='2018-11-27T17:46:00Z'>17:46</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
promag: if the GBT client doesn&#x27;t support segwit, but the returned template contains segwit tx, the resulting block they produce will be invalid
<br>
</div>

<div class='talk op-msg' data-timestamp='1543340820' id='642005'>
<a class='timestamp' href='#642005'><time timestamp='2018-11-27T17:47:00Z'>17:47</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
I guess that would be for a short period of time?
<br>
</div>

<div class='talk op-msg' data-timestamp='1543340820' id='642006'>
<a class='timestamp' href='#642006'><time timestamp='2018-11-27T17:47:00Z'>17:47</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
no?
<br>
</div>

<div class='talk op-msg' data-timestamp='1543340820' id='642007'>
<a class='timestamp' href='#642007'><time timestamp='2018-11-27T17:47:00Z'>17:47</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
they will not produce the segwit commitment
<br>
</div>

<div class='talk op-msg' data-timestamp='1543340820' id='642008'>
<a class='timestamp' href='#642008'><time timestamp='2018-11-27T17:47:00Z'>17:47</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
it would be until the miner notices on his own :/
<br>
</div>

<div class='talk op-msg' data-timestamp='1543340820' id='642009'>
<a class='timestamp' href='#642009'><time timestamp='2018-11-27T17:47:00Z'>17:47</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
assuming he ever does
<br>
</div>

<div class='talk op-msg' data-timestamp='1543340880' id='642010'>
<a class='timestamp' href='#642010'><time timestamp='2018-11-27T17:48:00Z'>17:48</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
if he upgrades then he has to
<br>
</div>

<div class='talk op-msg' data-timestamp='1543340880' id='642011'>
<a class='timestamp' href='#642011'><time timestamp='2018-11-27T17:48:00Z'>17:48</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] luke-jr opened pull request #14818: Bugfix: test/functional/rpc_psbt: Remove check for specific error message that depends on uncertain assumptions (master...bugfix_test_rpc_psbt) <a href="https://github.com/bitcoin/bitcoin/pull/14818" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/14818</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1543340880' id='642012'>
<a class='timestamp' href='#642012'><time timestamp='2018-11-27T17:48:00Z'>17:48</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
promag: that&#x27;s the point
<br>
</div>

<div class='talk op-msg' data-timestamp='1543340880' id='642013'>
<a class='timestamp' href='#642013'><time timestamp='2018-11-27T17:48:00Z'>17:48</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
if his setup is not supporting segwit, it should fail immediately
<br>
</div>

<div class='talk op-msg' data-timestamp='1543340880' id='642014'>
<a class='timestamp' href='#642014'><time timestamp='2018-11-27T17:48:00Z'>17:48</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
so that it can be fixed
<br>
</div>

<div class='talk op-msg' data-timestamp='1543340880' id='642015'>
<a class='timestamp' href='#642015'><time timestamp='2018-11-27T17:48:00Z'>17:48</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
otherwise, how would he even know to upgrade?
<br>
</div>

<div class='talk op-msg' data-timestamp='1543340940' id='642016'>
<a class='timestamp' href='#642016'><time timestamp='2018-11-27T17:49:00Z'>17:49</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
promag: miners are amazingly ignorant of problems
<br>
</div>

<div class='talk op-msg' data-timestamp='1543340940' id='642017'>
<a class='timestamp' href='#642017'><time timestamp='2018-11-27T17:49:00Z'>17:49</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it shouldn&#x27;t need to take days... perhaps more until he notices he is producing invalid blocks
<br>
</div>

<div class='talk op-msg' data-timestamp='1543340940' id='642018'>
<a class='timestamp' href='#642018'><time timestamp='2018-11-27T17:49:00Z'>17:49</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
see the recent lawsuit where a miner is suing Bitmain because he didn&#x27;t bother to configure his new miners for his own account..
<br>
</div>

<div class='talk op-msg' data-timestamp='1543340940' id='642019'>
<a class='timestamp' href='#642019'><time timestamp='2018-11-27T17:49:00Z'>17:49</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
ok, sorry my ignorance here
<br>
</div>

<div class='talk op-msg' data-timestamp='1543341000' id='642020'>
<a class='timestamp' href='#642020'><time timestamp='2018-11-27T17:50:00Z'>17:50</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
what if he upgrades, but wants to keep the upgraded version for some other reason but without this change?
<br>
</div>

<div class='talk op-msg' data-timestamp='1543341000' id='642021'>
<a class='timestamp' href='#642021'><time timestamp='2018-11-27T17:50:00Z'>17:50</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
huh?
<br>
</div>

<div class='talk op-msg' data-timestamp='1543341000' id='642022'>
<a class='timestamp' href='#642022'><time timestamp='2018-11-27T17:50:00Z'>17:50</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
I guess this is 0.18?
<br>
</div>

<div class='talk op-msg' data-timestamp='1543341000' id='642023'>
<a class='timestamp' href='#642023'><time timestamp='2018-11-27T17:50:00Z'>17:50</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
promag: this is about gbt client
<br>
</div>

<div class='talk op-msg' data-timestamp='1543341000' id='642024'>
<a class='timestamp' href='#642024'><time timestamp='2018-11-27T17:50:00Z'>17:50</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
not bitcoim core
<br>
</div>

<div class='talk op-msg' data-timestamp='1543341060' id='642025'>
<a class='timestamp' href='#642025'><time timestamp='2018-11-27T17:51:00Z'>17:51</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I think we&#x27;re talking past each other with the use of the word &#x27;upgrade&#x27;, when we say upgrade we mean his mining software.
<br>
</div>

<div class='talk op-msg' data-timestamp='1543341240' id='642026'>
<a class='timestamp' href='#642026'><time timestamp='2018-11-27T17:54:00Z'>17:54</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
promag: currently, if the gbt client does not provide segwit flag, bitcoin core will produce a (suboptimal) block template without segwit txn
<br>
</div>

<div class='talk op-msg' data-timestamp='1543341240' id='642027'>
<a class='timestamp' href='#642027'><time timestamp='2018-11-27T17:54:00Z'>17:54</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
we want to change that, as segwit is so widely adopted now, it almost certainly means a configuration error rather than an intentional choice
<br>
</div>

<div class='talk op-msg' data-timestamp='1543341240' id='642028'>
<a class='timestamp' href='#642028'><time timestamp='2018-11-27T17:54:00Z'>17:54</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
promag: mining software (e.g. pool software) had to be upgraded to be able to include segwit txn because it needs to compute and include the segwit commitment, because GBT doesn&#x27;t itself make the coinbase transaction.  To avoid forcing everyone to upgrade at once, we made it optional-- if you don&#x27;t send the segwit flag, you don&#x27;t get segwit txn and your blocks are still valid.
<br>
</div>

<div class='talk op-msg' data-timestamp='1543341300' id='642029'>
<a class='timestamp' href='#642029'><time timestamp='2018-11-27T17:55:00Z'>17:55</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
I think promag means &#x27;what if the miner wants to take Bitcoin Core 0.18 but doesn&#x27;t want to upgrade his pool software to support mining segwit blocks?&#x27;
<br>
</div>

<div class='talk op-msg' data-timestamp='1543341300' id='642030'>
<a class='timestamp' href='#642030'><time timestamp='2018-11-27T17:55:00Z'>17:55</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
So sad for him.
<br>
</div>

<div class='talk op-msg' data-timestamp='1543341300' id='642031'>
<a class='timestamp' href='#642031'><time timestamp='2018-11-27T17:55:00Z'>17:55</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
lol, thanks jnewbery
<br>
</div>

<div class='talk op-msg' data-timestamp='1543341300' id='642032'>
<a class='timestamp' href='#642032'><time timestamp='2018-11-27T17:55:00Z'>17:55</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
oh!
<br>
</div>

<div class='talk op-msg' data-timestamp='1543341360' id='642033'>
<a class='timestamp' href='#642033'><time timestamp='2018-11-27T17:56:00Z'>17:56</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
so in the future it can be implict by default? like when last N blocks are segwit?
<br>
</div>

<div class='talk op-msg' data-timestamp='1543341360' id='642034'>
<a class='timestamp' href='#642034'><time timestamp='2018-11-27T17:56:00Z'>17:56</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
once that PR is merged, we just won&#x27;t support that anymore
<br>
</div>

<div class='talk op-msg' data-timestamp='1543341360' id='642035'>
<a class='timestamp' href='#642035'><time timestamp='2018-11-27T17:56:00Z'>17:56</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
If he wants to keep losing money, he can modify the software himself.
<br>
</div>

<div class='talk op-msg' data-timestamp='1543341360' id='642036'>
<a class='timestamp' href='#642036'><time timestamp='2018-11-27T17:56:00Z'>17:56</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
it seems pretty edge-case. Over 99% of blocks include segwit transactions right now
<br>
</div>

<div class='talk op-msg' data-timestamp='1543341360' id='642037'>
<a class='timestamp' href='#642037'><time timestamp='2018-11-27T17:56:00Z'>17:56</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
promag: no, implicit = broken
<br>
</div>

<div class='talk op-msg' data-timestamp='1543341360' id='642038'>
<a class='timestamp' href='#642038'><time timestamp='2018-11-27T17:56:00Z'>17:56</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
promag: making it implicit is worse than silently mining non-segwit blocks
<br>
</div>

<div class='talk op-msg' data-timestamp='1543341360' id='642039'>
<a class='timestamp' href='#642039'><time timestamp='2018-11-27T17:56:00Z'>17:56</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
promag: it can&#x27;t be implicit, because then if you restart with old mining software or something you&#x27;ll silently produce invalid blocks.
<br>
</div>

<div class='talk op-msg' data-timestamp='1543341360' id='642040'>
<a class='timestamp' href='#642040'><time timestamp='2018-11-27T17:56:00Z'>17:56</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
instead it will be silently not making any blocks at all
<br>
</div>

<div class='talk op-msg' data-timestamp='1543341420' id='642041'>
<a class='timestamp' href='#642041'><time timestamp='2018-11-27T17:57:00Z'>17:57</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
We could, in the future, introduce a replacement to that rpc that does it implicitly, for example.
<br>
</div>

<div class='talk op-msg' data-timestamp='1543341420' id='642042'>
<a class='timestamp' href='#642042'><time timestamp='2018-11-27T17:57:00Z'>17:57</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
gmaxwell: ah right
<br>
</div>

<div class='talk op-msg' data-timestamp='1543341420' id='642043'>
<a class='timestamp' href='#642043'><time timestamp='2018-11-27T17:57:00Z'>17:57</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
I&#x27;m inclined to agree with gmaxwell. The Bitcoin Core project doesn&#x27;t need to support theoretical miners who for some reason don&#x27;t want to include a certain class of transaction in their blocks.
<br>
</div>

<div class='talk op-msg' data-timestamp='1543341420' id='642044'>
<a class='timestamp' href='#642044'><time timestamp='2018-11-27T17:57:00Z'>17:57</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] luke-jr opened pull request #14819: Bugfix: test/functional/mempool_accept: Ensure oversize transaction is actually oversize (master...bugfix_test_mempool_accept) <a href="https://github.com/bitcoin/bitcoin/pull/14819" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/14819</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1543341480' id='642045'>
<a class='timestamp' href='#642045'><time timestamp='2018-11-27T17:58:00Z'>17:58</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
does it make sense to add deprecatedrpc=getblocktemplate to have same behavior in 0.18?
<br>
</div>

<div class='talk op-msg' data-timestamp='1543341480' id='642046'>
<a class='timestamp' href='#642046'><time timestamp='2018-11-27T17:58:00Z'>17:58</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
Yes, in v0.19 or v0.20 we could implicitly assume that rule:segwit is set
<br>
</div>

<div class='talk op-msg' data-timestamp='1543341480' id='642047'>
<a class='timestamp' href='#642047'><time timestamp='2018-11-27T17:58:00Z'>17:58</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
If we were really worried about back compat we could have a depricated flag to bring it back, but given the stats, I don&#x27;t think there is a need to.
<br>
</div>

<div class='talk op-msg' data-timestamp='1543341480' id='642048'>
<a class='timestamp' href='#642048'><time timestamp='2018-11-27T17:58:00Z'>17:58</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
promag: why bother?
<br>
</div>

<div class='talk op-msg' data-timestamp='1543341480' id='642049'>
<a class='timestamp' href='#642049'><time timestamp='2018-11-27T17:58:00Z'>17:58</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
jnewbery: I would be opposed to that, because there is always a risk of accidental downgrade.
<br>
</div>

<div class='talk op-msg' data-timestamp='1543341480' id='642050'>
<a class='timestamp' href='#642050'><time timestamp='2018-11-27T17:58:00Z'>17:58</time></a>
&lt;<span class='nick nick-8'> promag</span>&gt;
ok, just asking
<br>
</div>

<div class='talk op-msg' data-timestamp='1543341480' id='642051'>
<a class='timestamp' href='#642051'><time timestamp='2018-11-27T17:58:00Z'>17:58</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
even if it was v0.20?
<br>
</div>

<div class='talk op-msg' data-timestamp='1543341480' id='642052'>
<a class='timestamp' href='#642052'><time timestamp='2018-11-27T17:58:00Z'>17:58</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
[17:57:13] &lt;gmaxwell&gt; We could, in the future, introduce a replacement to that rpc that does it implicitly, for example. &lt;-- breaking all compatibility with the BIPs and existing software? :/
<br>
</div>

<div class='talk op-msg' data-timestamp='1543341540' id='642053'>
<a class='timestamp' href='#642053'><time timestamp='2018-11-27T17:59:00Z'>17:59</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
ie 1-1.5 years after it was possible to mine a non-segwit block
<br>
</div>

<div class='talk op-msg' data-timestamp='1543341540' id='642054'>
<a class='timestamp' href='#642054'><time timestamp='2018-11-27T17:59:00Z'>17:59</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
jnewbery: people sometimes manage to accidentally start up old software/configs.
<br>
</div>

<div class='talk op-msg' data-timestamp='1543341540' id='642055'>
<a class='timestamp' href='#642055'><time timestamp='2018-11-27T17:59:00Z'>17:59</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
luke-jr: we&#x27;re going to replace the rpc eventually... GBT has a lot of problems.
<br>
</div>

<div class='talk op-msg' data-timestamp='1543341540' id='642056'>
<a class='timestamp' href='#642056'><time timestamp='2018-11-27T17:59:00Z'>17:59</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
luke-jr: doesn&#x27;t mean the old one wouldn&#x27;t continue to work for a long time.
<br>
</div>

<div class='talk op-msg' data-timestamp='1543341600' id='642057'>
<a class='timestamp' href='#642057'><time timestamp='2018-11-27T18:00:00Z'>18:00</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
but at that point, all pool software will necessarily support segwit blocks
<br>
</div>

<div class='talk op-msg' data-timestamp='1543341600' id='642058'>
<a class='timestamp' href='#642058'><time timestamp='2018-11-27T18:00:00Z'>18:00</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
jnewbery: bitcoind is not the only GBT server, and pool software is not the only GBT clients
<br>
</div>

<div class='talk op-msg' data-timestamp='1543341600' id='642059'>
<a class='timestamp' href='#642059'><time timestamp='2018-11-27T18:00:00Z'>18:00</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
jnewbery: yes, and what happens if you reboot your host and your startup script starts an old version of your pool software?
<br>
</div>

<div class='talk op-msg' data-timestamp='1543341660' id='642060'>
<a class='timestamp' href='#642060'><time timestamp='2018-11-27T18:01:00Z'>18:01</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
testing that segwit is set in the call is essentially free
<br>
</div>

<div class='talk op-msg' data-timestamp='1543341660' id='642061'>
<a class='timestamp' href='#642061'><time timestamp='2018-11-27T18:01:00Z'>18:01</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i don&#x27;t think there is any reason to remove that (1?) line of code 
<br>
</div>

<div class='talk op-msg' data-timestamp='1543341660' id='642062'>
<a class='timestamp' href='#642062'><time timestamp='2018-11-27T18:01:00Z'>18:01</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ever
<br>
</div>

<div class='talk op-msg' data-timestamp='1543341660' id='642063'>
<a class='timestamp' href='#642063'><time timestamp='2018-11-27T18:01:00Z'>18:01</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
as long as GBT exists
<br>
</div>

<div class='talk op-msg' data-timestamp='1543341660' id='642064'>
<a class='timestamp' href='#642064'><time timestamp='2018-11-27T18:01:00Z'>18:01</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
I think that scenario is out of the scope of things we can reasonably worry about.
<br>
</div>

<div class='talk op-msg' data-timestamp='1543341720' id='642065'>
<a class='timestamp' href='#642065'><time timestamp='2018-11-27T18:02:00Z'>18:02</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
We shouldn&#x27;t obsessively trying to &quot;clean things up&quot; in ways that introduce real, if somewhat obscure, funds loss avenues while providing NO benefit.
<br>
</div>

<div class='talk op-msg' data-timestamp='1543341720' id='642066'>
<a class='timestamp' href='#642066'><time timestamp='2018-11-27T18:02:00Z'>18:02</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jnewbery: it happened recently
<br>
</div>

<div class='talk op-msg' data-timestamp='1543341720' id='642067'>
<a class='timestamp' href='#642067'><time timestamp='2018-11-27T18:02:00Z'>18:02</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
And similar has happened in the past.
<br>
</div>

<div class='talk op-msg' data-timestamp='1543341720' id='642068'>
<a class='timestamp' href='#642068'><time timestamp='2018-11-27T18:02:00Z'>18:02</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
a few weeks ago a bunch of blocks were mined without segwit txn as a result of a configuration error
<br>
</div>

<div class='talk op-msg' data-timestamp='1543341780' id='642069'>
<a class='timestamp' href='#642069'><time timestamp='2018-11-27T18:03:00Z'>18:03</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
jnewbery: a large miner recently started producing blocks without segwit txn exactly because they accidentally regressed to non-sw supporting mining software.
<br>
</div>

<div class='talk op-msg' data-timestamp='1543341780' id='642070'>
<a class='timestamp' href='#642070'><time timestamp='2018-11-27T18:03:00Z'>18:03</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
sipa: sure - I don&#x27;t think it needs to happen, but I wouldn&#x27;t be opposed to it being implicit in future
<br>
</div>

<div class='talk op-msg' data-timestamp='1543341780' id='642071'>
<a class='timestamp' href='#642071'><time timestamp='2018-11-27T18:03:00Z'>18:03</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jnewbery: i&#x27;m not strictly opposed to it either if there was a good reasom
<br>
</div>

<div class='talk op-msg' data-timestamp='1543341780' id='642072'>
<a class='timestamp' href='#642072'><time timestamp='2018-11-27T18:03:00Z'>18:03</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but i see literally zero benefit to making it implicit
<br>
</div>

<div class='talk op-msg' data-timestamp='1543341780' id='642073'>
<a class='timestamp' href='#642073'><time timestamp='2018-11-27T18:03:00Z'>18:03</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
apart from saving 1 line of code
<br>
</div>

<div class='talk op-msg' data-timestamp='1543341840' id='642074'>
<a class='timestamp' href='#642074'><time timestamp='2018-11-27T18:04:00Z'>18:04</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
I&#x27;m aware of that. I also don&#x27;t think there&#x27;s any way that bitcoind can police all possible misconfigurations in client software.
<br>
</div>

<div class='talk op-msg' data-timestamp='1543341840' id='642075'>
<a class='timestamp' href='#642075'><time timestamp='2018-11-27T18:04:00Z'>18:04</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sure
<br>
</div>

<div class='talk op-msg' data-timestamp='1543341840' id='642076'>
<a class='timestamp' href='#642076'><time timestamp='2018-11-27T18:04:00Z'>18:04</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
Sure, I don&#x27;t really care that much :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1543341840' id='642077'>
<a class='timestamp' href='#642077'><time timestamp='2018-11-27T18:04:00Z'>18:04</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
This isn&#x27;t a question about all possible misconfigurations, this is a protocol versioning question.
<br>
</div>

<div class='talk op-msg' data-timestamp='1543341840' id='642078'>
<a class='timestamp' href='#642078'><time timestamp='2018-11-27T18:04:00Z'>18:04</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Essentially GBT is a protocol, it was effectively unversioned originally. The different versions were not compatible and would cause funds loss if mixed.
<br>
</div>

<div class='talk op-msg' data-timestamp='1543341900' id='642079'>
<a class='timestamp' href='#642079'><time timestamp='2018-11-27T18:05:00Z'>18:05</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Setting the flag manually negoiates the version.
<br>
</div>

<div class='talk op-msg' data-timestamp='1543341900' id='642080'>
<a class='timestamp' href='#642080'><time timestamp='2018-11-27T18:05:00Z'>18:05</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
eh, it wasn&#x27;t unversioned
<br>
</div>

<div class='talk op-msg' data-timestamp='1543341900' id='642081'>
<a class='timestamp' href='#642081'><time timestamp='2018-11-27T18:05:00Z'>18:05</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
this is exactly the verisoning it has always had
<br>
</div>

<div class='talk op-msg' data-timestamp='1543341900' id='642082'>
<a class='timestamp' href='#642082'><time timestamp='2018-11-27T18:05:00Z'>18:05</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Requiring the flag drops support for the old version.
<br>
</div>

<div class='talk op-msg' data-timestamp='1543341900' id='642083'>
<a class='timestamp' href='#642083'><time timestamp='2018-11-27T18:05:00Z'>18:05</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
gmaxwell: yes, that makes sense
<br>
</div>

<div class='talk op-msg' data-timestamp='1543341960' id='642084'>
<a class='timestamp' href='#642084'><time timestamp='2018-11-27T18:06:00Z'>18:06</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
well, I guess the original had &quot;capabilities&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1543341960' id='642085'>
<a class='timestamp' href='#642085'><time timestamp='2018-11-27T18:06:00Z'>18:06</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
instead of &quot;rules&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1543341960' id='642086'>
<a class='timestamp' href='#642086'><time timestamp='2018-11-27T18:06:00Z'>18:06</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
But implicitly accepting incompatible requests just creates exposure.  To a real issue that has cropped up multiple times, because making sure all your software is running lockstep correct versions is hard. (esp since many of these pools also support non-sw altcoins...)
<br>
</div>

<div class='talk op-msg' data-timestamp='1543341960' id='642087'>
<a class='timestamp' href='#642087'><time timestamp='2018-11-27T18:06:00Z'>18:06</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
ok, you&#x27;ve convinced me! I won&#x27;t try to remove it
<br>
</div>

<div class='talk op-msg' data-timestamp='1543342020' id='642088'>
<a class='timestamp' href='#642088'><time timestamp='2018-11-27T18:07:00Z'>18:07</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
If we were to make a new GBT-like call, obviously we&#x27;d need no segwit flag for it, as it would just be defined to always have it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1543342080' id='642089'>
<a class='timestamp' href='#642089'><time timestamp='2018-11-27T18:08:00Z'>18:08</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
while we&#x27;re on the topic, I think we should still merge the fix in #10595 before this, so it can be backported..
<br>
</div>

<div class='talk op-msg' data-timestamp='1543342080' id='642090'>
<a class='timestamp' href='#642090'><time timestamp='2018-11-27T18:08:00Z'>18:08</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/10595" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/10595</a> | Bugfix: RPC/Mining: Use pre-segwit sigops and limits, when working with non-segwit GBT clients by luke-jr · Pull Request #10595 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1543342200' id='642091'>
<a class='timestamp' href='#642091'><time timestamp='2018-11-27T18:10:00Z'>18:10</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
otoh, realistically, I&#x27;m not sure anyone&#x27;s encountering that issue, so maybe not worth the effort, dunno
<br>
</div>

<div class='talk op-msg' data-timestamp='1543342200' id='642092'>
<a class='timestamp' href='#642092'><time timestamp='2018-11-27T18:10:00Z'>18:10</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yeah, i think it&#x27;s not worth the effort
<br>
</div>

<div class='talk op-msg' data-timestamp='1543342200' id='642093'>
<a class='timestamp' href='#642093'><time timestamp='2018-11-27T18:10:00Z'>18:10</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
luke-jr: or backport dropping segwit support? :P  (maybe in that case it would be with a depricated flag)
<br>
</div>

<div class='talk op-msg' data-timestamp='1543342200' id='642094'>
<a class='timestamp' href='#642094'><time timestamp='2018-11-27T18:10:00Z'>18:10</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
er dropping nonsegwitsupport
<br>
</div>

<div class='talk op-msg' data-timestamp='1543342260' id='642095'>
<a class='timestamp' href='#642095'><time timestamp='2018-11-27T18:11:00Z'>18:11</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
gmaxwell: might trigger some trolls with that :p (but who cares)
<br>
</div>

<div class='talk op-msg' data-timestamp='1543342320' id='642096'>
<a class='timestamp' href='#642096'><time timestamp='2018-11-27T18:12:00Z'>18:12</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
(they&#x27;ll probably be triggered either way)
<br>
</div>

<div class='talk op-msg' data-timestamp='1543342320' id='642097'>
<a class='timestamp' href='#642097'><time timestamp='2018-11-27T18:12:00Z'>18:12</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
yea, who cares? I think in a BP we probably would want to make it switchable.
<br>
</div>

<div class='talk op-msg' data-timestamp='1543342320' id='642098'>
<a class='timestamp' href='#642098'><time timestamp='2018-11-27T18:12:00Z'>18:12</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
so maybe thats an argument against it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1543342320' id='642099'>
<a class='timestamp' href='#642099'><time timestamp='2018-11-27T18:12:00Z'>18:12</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
BP?
<br>
</div>

<div class='talk op-msg' data-timestamp='1543342320' id='642100'>
<a class='timestamp' href='#642100'><time timestamp='2018-11-27T18:12:00Z'>18:12</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Would it make sense to have a &quot;disabled_rules&quot; param for GBT? Throw the error if neither rules or disabled_rules contains &quot;segwit&quot;?
<br>
</div>

<div class='talk op-msg' data-timestamp='1543342320' id='642101'>
<a class='timestamp' href='#642101'><time timestamp='2018-11-27T18:12:00Z'>18:12</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ah, backport
<br>
</div>

<div class='talk op-msg' data-timestamp='1543342320' id='642102'>
<a class='timestamp' href='#642102'><time timestamp='2018-11-27T18:12:00Z'>18:12</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
provoostenator: why?
<br>
</div>

<div class='talk op-msg' data-timestamp='1543342380' id='642103'>
<a class='timestamp' href='#642103'><time timestamp='2018-11-27T18:13:00Z'>18:13</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
I don&#x27;t think it&#x27;s worth the effort of backporting
<br>
</div>

<div class='talk op-msg' data-timestamp='1543342380' id='642104'>
<a class='timestamp' href='#642104'><time timestamp='2018-11-27T18:13:00Z'>18:13</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
provoostenator: 09:57:52 &lt; jnewbery&gt; I&#x27;m inclined to agree with gmaxwell. The Bitcoin Core project doesn&#x27;t need to support theoretical miners who for some reason 
<br>
</div>

<div class='talk op-msg' data-timestamp='1543342380' id='642105'>
<a class='timestamp' href='#642105'><time timestamp='2018-11-27T18:13:00Z'>18:13</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
                     don&#x27;t want to include a certain class of transaction in their blocks.
<br>
</div>

<div class='talk op-msg' data-timestamp='1543342380' id='642106'>
<a class='timestamp' href='#642106'><time timestamp='2018-11-27T18:13:00Z'>18:13</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
the only question is if the GBT client supports segwit or not. there&#x27;s no reason it would ever be supported but disabled..?
<br>
</div>

<div class='talk op-msg' data-timestamp='1543342500' id='642107'>
<a class='timestamp' href='#642107'><time timestamp='2018-11-27T18:15:00Z'>18:15</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
provoostenator: if there were some actual reason known to intentionally run in that config that made sense, then what you suggest is what it should do...
<br>
</div>

<div class='talk op-msg' data-timestamp='1543342500' id='642108'>
<a class='timestamp' href='#642108'><time timestamp='2018-11-27T18:15:00Z'>18:15</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
The &quot;theoretical miner&quot; argument is reasonable, but has anyone actually asked a bunch of miners why they&#x27;re not mining SegWit blocks to make sure it&#x27;s really either an accident or a lack of upgrading other tools?
<br>
</div>

<div class='talk op-msg' data-timestamp='1543342500' id='642109'>
<a class='timestamp' href='#642109'><time timestamp='2018-11-27T18:15:00Z'>18:15</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
provoostenator: there aren&#x27;t &quot;a bunch of miners&quot; who aren&#x27;t mining segwit blocks
<br>
</div>

<div class='talk op-msg' data-timestamp='1543342500' id='642110'>
<a class='timestamp' href='#642110'><time timestamp='2018-11-27T18:15:00Z'>18:15</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
There was a recent incident, and it was an accident.
<br>
</div>

<div class='talk op-msg' data-timestamp='1543342500' id='642111'>
<a class='timestamp' href='#642111'><time timestamp='2018-11-27T18:15:00Z'>18:15</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
9 out of 1000 blocks accodring to the PR
<br>
</div>

<div class='talk op-msg' data-timestamp='1543342560' id='642112'>
<a class='timestamp' href='#642112'><time timestamp='2018-11-27T18:16:00Z'>18:16</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
(in that time range)
<br>
</div>

<div class='talk op-msg' data-timestamp='1543342560' id='642113'>
<a class='timestamp' href='#642113'><time timestamp='2018-11-27T18:16:00Z'>18:16</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
provoostenator: which may just not have had any segwit txn available at all.
<br>
</div>

<div class='talk op-msg' data-timestamp='1543342560' id='642114'>
<a class='timestamp' href='#642114'><time timestamp='2018-11-27T18:16:00Z'>18:16</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
provoostenator: if they really don&#x27;t want to mine blocks with segwit txs, they can just not upgrade
<br>
</div>

<div class='talk op-msg' data-timestamp='1543342560' id='642115'>
<a class='timestamp' href='#642115'><time timestamp='2018-11-27T18:16:00Z'>18:16</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
Oh ok, so if there&#x27;s 0 segwit transactions, nothing in the block indicates SegWit?
<br>
</div>

<div class='talk op-msg' data-timestamp='1543342560' id='642116'>
<a class='timestamp' href='#642116'><time timestamp='2018-11-27T18:16:00Z'>18:16</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
In that case a miner who doesn&#x27;t want to mine SegWit could just filter those before they reach the node.
<br>
</div>

<div class='talk op-msg' data-timestamp='1543342620' id='642117'>
<a class='timestamp' href='#642117'><time timestamp='2018-11-27T18:17:00Z'>18:17</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
provoostenator: the only time we saw it drop below 90% was for a couple of weeks before returning to normal: <a href="https://bitcoinops.org/en/newsletters/2018/11/06/#news" class="link" target="_blank">https://bitcoinops.org/en/newsletters/2018/11/06/#news</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1543342620' id='642118'>
<a class='timestamp' href='#642118'><time timestamp='2018-11-27T18:17:00Z'>18:17</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
provoostenator: that will result in a highly suboptimal tx selection
<br>
</div>

<div class='talk op-msg' data-timestamp='1543342620' id='642119'>
<a class='timestamp' href='#642119'><time timestamp='2018-11-27T18:17:00Z'>18:17</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
in any case, if someone has some crazy reason that makes sense, they can show up and ask about it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1543342680' id='642120'>
<a class='timestamp' href='#642120'><time timestamp='2018-11-27T18:18:00Z'>18:18</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
This is unlikely. I can&#x27;t think of an example explination that we&#x27;d choose to support, but if they did, they could.
<br>
</div>

<div class='talk op-msg' data-timestamp='1543342680' id='642121'>
<a class='timestamp' href='#642121'><time timestamp='2018-11-27T18:18:00Z'>18:18</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
We&#x27;re still pretty early in the 0.18 cycle indeed.
<br>
</div>

<div class='talk op-msg' data-timestamp='1543342800' id='642122'>
<a class='timestamp' href='#642122'><time timestamp='2018-11-27T18:20:00Z'>18:20</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
this discussion is pointless, sorry
<br>
</div>

<div class='talk op-msg' data-timestamp='1543342860' id='642123'>
<a class='timestamp' href='#642123'><time timestamp='2018-11-27T18:21:00Z'>18:21</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
there is no point in doing work to support a configuration edge case nobody is asking for
<br>
</div>

<div class='talk op-msg' data-timestamp='1543342920' id='642124'>
<a class='timestamp' href='#642124'><time timestamp='2018-11-27T18:22:00Z'>18:22</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
The discussion may indeed be pointless, but there&#x27;s obviously nobody asking for a configuration that already exists :-)
<br>
</div>

<div class='talk op-msg' data-timestamp='1543342980' id='642125'>
<a class='timestamp' href='#642125'><time timestamp='2018-11-27T18:23:00Z'>18:23</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(and which-- maybe-- even if it were asked for, we&#x27;d choose to not support in any case)
<br>
</div>

<div class='talk op-msg' data-timestamp='1543342980' id='642126'>
<a class='timestamp' href='#642126'><time timestamp='2018-11-27T18:23:00Z'>18:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
provoostenator: come on man
<br>
</div>

<div class='talk op-msg' data-timestamp='1543342980' id='642127'>
<a class='timestamp' href='#642127'><time timestamp='2018-11-27T18:23:00Z'>18:23</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
sipa: I was kidding. I&#x27;m fine with removing this, especially this early in the release.
<br>
</div>

<div class='talk op-msg' data-timestamp='1543343040' id='642128'>
<a class='timestamp' href='#642128'><time timestamp='2018-11-27T18:24:00Z'>18:24</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
:)
<br>
</div>

<div class='talk op-msg' data-timestamp='1543344900' id='642129'>
<a class='timestamp' href='#642129'><time timestamp='2018-11-27T18:55:00Z'>18:55</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/d49103007676...8c119b27551f" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/d49103007676...8c119b27551f</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1543344900' id='642130'>
<a class='timestamp' href='#642130'><time timestamp='2018-11-27T18:55:00Z'>18:55</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master fa739d4 MarcoFalke: qa: Add wallet_encryption error tests
<br>
</div>

<div class='talk op-msg' data-timestamp='1543344900' id='642131'>
<a class='timestamp' href='#642131'><time timestamp='2018-11-27T18:55:00Z'>18:55</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 8c119b2 MarcoFalke: Merge #14813: qa: Add wallet_encryption error tests...
<br>
</div>

<div class='talk op-msg' data-timestamp='1543345020' id='642132'>
<a class='timestamp' href='#642132'><time timestamp='2018-11-27T18:57:00Z'>18:57</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke closed pull request #14813: qa: Add wallet_encryption error tests (master...Mf1811-qaWalletEncTest) <a href="https://github.com/bitcoin/bitcoin/pull/14813" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/14813</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1543345080' id='642133'>
<a class='timestamp' href='#642133'><time timestamp='2018-11-27T18:58:00Z'>18:58</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
gmaxwell, can you still make blocks without the commitment if there&#x27;s no segwit transactions in it?
<br>
</div>

<div class='talk op-msg' data-timestamp='1543345080' id='642134'>
<a class='timestamp' href='#642134'><time timestamp='2018-11-27T18:58:00Z'>18:58</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
phantomcircuit: yes.
<br>
</div>

<div class='talk op-msg' data-timestamp='1543345140' id='642135'>
<a class='timestamp' href='#642135'><time timestamp='2018-11-27T18:59:00Z'>18:59</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
the whole idea for those rules was to avoid creating a flag day where everyone had to upgrade their software at the same time.
<br>
</div>

<div class='talk op-msg' data-timestamp='1543345140' id='642136'>
<a class='timestamp' href='#642136'><time timestamp='2018-11-27T18:59:00Z'>18:59</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
gmaxwell, yeah
<br>
</div>

<div class='talk op-msg' data-timestamp='1543346280' id='642137'>
<a class='timestamp' href='#642137'><time timestamp='2018-11-27T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
MarcoFalke: if we wanted to avoid the import, we could just add +1 unconditionally.. but I think using ceil is clearer and no real downside
<br>
</div>

<div class='talk op-msg' data-timestamp='1543348080' id='642138'>
<a class='timestamp' href='#642138'><time timestamp='2018-11-27T19:48:00Z'>19:48</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] ryanofsky opened pull request #14820: Fix descriptor_tests not checking ToString output of public descriptors (master...pr/descstr) <a href="https://github.com/bitcoin/bitcoin/pull/14820" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/14820</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1543349460' id='642139'>
<a class='timestamp' href='#642139'><time timestamp='2018-11-27T20:11:00Z'>20:11</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/8c119b27551f...0fa3703c1757" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/8c119b27551f...0fa3703c1757</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1543349460' id='642140'>
<a class='timestamp' href='#642140'><time timestamp='2018-11-27T20:11:00Z'>20:11</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master c77f092 Russell Yanofsky: Fix descriptor_tests not checking ToString output of public descriptors
<br>
</div>

<div class='talk op-msg' data-timestamp='1543349460' id='642141'>
<a class='timestamp' href='#642141'><time timestamp='2018-11-27T20:11:00Z'>20:11</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 0fa3703 MarcoFalke: Merge #14820: test: Fix descriptor_tests not checking ToString output of public descriptors...
<br>
</div>

<div class='talk op-msg' data-timestamp='1543349520' id='642142'>
<a class='timestamp' href='#642142'><time timestamp='2018-11-27T20:12:00Z'>20:12</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke closed pull request #14820: test: Fix descriptor_tests not checking ToString output of public descriptors (master...pr/descstr) <a href="https://github.com/bitcoin/bitcoin/pull/14820" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/14820</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1543350180' id='642143'>
<a class='timestamp' href='#642143'><time timestamp='2018-11-27T20:23:00Z'>20:23</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] sipa pushed 7 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/0fa3703c1757...fdf146f3293c" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/0fa3703c1757...fdf146f3293c</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1543350180' id='642144'>
<a class='timestamp' href='#642144'><time timestamp='2018-11-27T20:23:00Z'>20:23</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 4d78bd9 Pieter Wuille: Add support for inferring descriptors from scripts
<br>
</div>

<div class='talk op-msg' data-timestamp='1543350180' id='642145'>
<a class='timestamp' href='#642145'><time timestamp='2018-11-27T20:23:00Z'>20:23</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 225bf3e Pieter Wuille: Add Descriptor::IsSolvable() to distinguish addr/raw from others
<br>
</div>

<div class='talk op-msg' data-timestamp='1543350180' id='642146'>
<a class='timestamp' href='#642146'><time timestamp='2018-11-27T20:23:00Z'>20:23</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 9b2a25b Pieter Wuille: Add tests for InferDescriptor and Descriptor::IsSolvable
<br>
</div>

<div class='talk op-msg' data-timestamp='1543350180' id='642147'>
<a class='timestamp' href='#642147'><time timestamp='2018-11-27T20:23:00Z'>20:23</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
luke-jr: Lol, its fine either way. with the import or +1
<br>
</div>

<div class='talk op-msg' data-timestamp='1543350180' id='642148'>
<a class='timestamp' href='#642148'><time timestamp='2018-11-27T20:23:00Z'>20:23</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] sipa closed pull request #14477: Add ability to convert solvability info to descriptor (master...201810_inferdescript) <a href="https://github.com/bitcoin/bitcoin/pull/14477" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/14477</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1543350300' id='642149'>
<a class='timestamp' href='#642149'><time timestamp='2018-11-27T20:25:00Z'>20:25</time></a>
&lt;<span class='nick nick-3'> meshcollider</span>&gt;
Yay \o/
<br>
</div>

<div class='talk op-msg' data-timestamp='1543350300' id='642150'>
<a class='timestamp' href='#642150'><time timestamp='2018-11-27T20:25:00Z'>20:25</time></a>
&lt;<span class='nick nick-3'> meshcollider</span>&gt;
Time to rebase mine now
<br>
</div>

<div class='talk op-msg' data-timestamp='1543350360' id='642151'>
<a class='timestamp' href='#642151'><time timestamp='2018-11-27T20:26:00Z'>20:26</time></a>
&lt;<span class='nick nick-3'> meshcollider</span>&gt;
Oh wait no I still need #14565
<br>
</div>

<div class='talk op-msg' data-timestamp='1543350360' id='642152'>
<a class='timestamp' href='#642152'><time timestamp='2018-11-27T20:26:00Z'>20:26</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/14565" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/14565</a> | Overhaul importmulti logic by sipa · Pull Request #14565 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1543350660' id='642153'>
<a class='timestamp' href='#642153'><time timestamp='2018-11-27T20:31:00Z'>20:31</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] sipa opened pull request #14821: Replace CAffectedKeysVisitor with descriptor based logic (master...201810_die_caffectedkeysvisitor_die) <a href="https://github.com/bitcoin/bitcoin/pull/14821" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/14821</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1543354320' id='642154'>
<a class='timestamp' href='#642154'><time timestamp='2018-11-27T21:32:00Z'>21:32</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke pushed 4 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/fdf146f3293c...600b85bb4172" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/fdf146f3293c...600b85bb4172</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1543354320' id='642155'>
<a class='timestamp' href='#642155'><time timestamp='2018-11-27T21:32:00Z'>21:32</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master ebd3bf2 practicalswift: Make test p2p_invalid_messages.py pass: Allow for expected Travis ASAN memory increase
<br>
</div>

<div class='talk op-msg' data-timestamp='1543354320' id='642156'>
<a class='timestamp' href='#642156'><time timestamp='2018-11-27T21:32:00Z'>21:32</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master ff7212e practicalswift: Add ASan Travis build
<br>
</div>

<div class='talk op-msg' data-timestamp='1543354320' id='642157'>
<a class='timestamp' href='#642157'><time timestamp='2018-11-27T21:32:00Z'>21:32</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 6541d59 practicalswift: Add LSan suppression warnings
<br>
</div>

<div class='talk op-msg' data-timestamp='1543354380' id='642158'>
<a class='timestamp' href='#642158'><time timestamp='2018-11-27T21:33:00Z'>21:33</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke closed pull request #14794: tests: Add AddressSanitizer (ASan) Travis build (master...asan-in-travis) <a href="https://github.com/bitcoin/bitcoin/pull/14794" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/14794</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1543355700' id='642159'>
<a class='timestamp' href='#642159'><time timestamp='2018-11-27T21:55:00Z'>21:55</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke opened pull request #14822: bench: Destroy wallet txs instead of leaking their memory (master...Mf1811-benchWalletTxs) <a href="https://github.com/bitcoin/bitcoin/pull/14822" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/14822</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1543355760' id='642160'>
<a class='timestamp' href='#642160'><time timestamp='2018-11-27T21:56:00Z'>21:56</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
I&#x27;m trying to work out how fAvailableCreditCached in WalletTx is supposed to work. If the spentness of any of the outputs changes, the cache doesn&#x27;t get cleared and subsequent calls to GetAvailableCredit() will return the cached value. Am I missing something?
<br>
</div>

<div class='talk op-msg' data-timestamp='1543356720' id='642161'>
<a class='timestamp' href='#642161'><time timestamp='2018-11-27T22:12:00Z'>22:12</time></a>
&lt;<span class='nick nick-3'> meshcollider</span>&gt;
jnewbery: not sure exactly where you&#x27;re looking, but does it call MarkDirty?
<br>
</div>

<div class='talk op-msg' data-timestamp='1543356780' id='642162'>
<a class='timestamp' href='#642162'><time timestamp='2018-11-27T22:13:00Z'>22:13</time></a>
&lt;<span class='nick nick-3'> meshcollider</span>&gt;
MarkDirty will set fAvailableCreditCached to false so it won&#x27;t return the cached value
<br>
</div>

<div class='talk op-msg' data-timestamp='1543357020' id='642163'>
<a class='timestamp' href='#642163'><time timestamp='2018-11-27T22:17:00Z'>22:17</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
meshcollider: yes, you&#x27;re right. Thanks!
<br>
</div>

<div class='talk op-msg' data-timestamp='1543361040' id='642164'>
<a class='timestamp' href='#642164'><time timestamp='2018-11-27T23:24:00Z'>23:24</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
jnewbery: making it impossible to get the current balance (ie, with untrusted txs included) is IMO not acceptable
<br>
</div>

</div>
</section>

</body>
</html>
