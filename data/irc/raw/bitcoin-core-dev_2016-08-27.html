<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2016-08-27
 â€” 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2016-08-27' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:26 UTC</pre>
<pre><a href="/bitcoin-core-dev/2016-07-27">&lt;</a><span class='header'>   August 2016    </span><a href="/bitcoin-core-dev/2016-09-27">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;    <a class="" href="/bitcoin-core-dev/2016-08-01">1</a>  <a class="" href="/bitcoin-core-dev/2016-08-02">2</a>  <a class="" href="/bitcoin-core-dev/2016-08-03">3</a>  <a class="" href="/bitcoin-core-dev/2016-08-04">4</a>  <a class="" href="/bitcoin-core-dev/2016-08-05">5</a>  <a class="" href="/bitcoin-core-dev/2016-08-06">6</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2016-08-07">7</a>  <a class="" href="/bitcoin-core-dev/2016-08-08">8</a>  <a class="" href="/bitcoin-core-dev/2016-08-09">9</a> <a class="" href="/bitcoin-core-dev/2016-08-10">10</a> <a class="" href="/bitcoin-core-dev/2016-08-11">11</a> <a class="" href="/bitcoin-core-dev/2016-08-12">12</a> <a class="" href="/bitcoin-core-dev/2016-08-13">13</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2016-08-14">14</a> <a class="" href="/bitcoin-core-dev/2016-08-15">15</a> <a class="" href="/bitcoin-core-dev/2016-08-16">16</a> <a class="" href="/bitcoin-core-dev/2016-08-17">17</a> <a class="" href="/bitcoin-core-dev/2016-08-18">18</a> <a class="" href="/bitcoin-core-dev/2016-08-19">19</a> <a class="" href="/bitcoin-core-dev/2016-08-20">20</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2016-08-21">21</a> <a class="" href="/bitcoin-core-dev/2016-08-22">22</a> <a class="" href="/bitcoin-core-dev/2016-08-23">23</a> <a class="" href="/bitcoin-core-dev/2016-08-24">24</a> <a class="" href="/bitcoin-core-dev/2016-08-25">25</a> <a class="" href="/bitcoin-core-dev/2016-08-26">26</a> <a class="current" href="/bitcoin-core-dev/2016-08-27">27</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2016-08-28">28</a> <a class="" href="/bitcoin-core-dev/2016-08-29">29</a> <a class="" href="/bitcoin-core-dev/2016-08-30">30</a> <a class="" href="/bitcoin-core-dev/2016-08-31">31</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1472258640' id='489822'>
<a class='timestamp' href='#489822'><time timestamp='2016-08-27T00:44:00Z'>00:44</time></a>
&lt;<span class='nick nick-13'> GitHub4</span>&gt;
[bitcoin] nomnombtc opened pull request #8608: Install manpages via make install, also add some autogenerated manpages (master...man_automake2) <a href="https://github.com/bitcoin/bitcoin/pull/8608" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8608</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1472262540' id='489823'>
<a class='timestamp' href='#489823'><time timestamp='2016-08-27T01:49:00Z'>01:49</time></a>
&lt;<span class='nick nick-6'> btcdrak</span>&gt;
is there a way to sign each commit during an interactive rebase?
<br>
</div>

<div class='talk op-msg' data-timestamp='1472265300' id='489824'>
<a class='timestamp' href='#489824'><time timestamp='2016-08-27T02:35:00Z'>02:35</time></a>
&lt;<span class='nick nick-14'> * luke-jr</span>&gt;
peers at rebroad.
<br>
</div>

<div class='talk op-msg' data-timestamp='1472269320' id='489825'>
<a class='timestamp' href='#489825'><time timestamp='2016-08-27T03:42:00Z'>03:42</time></a>
&lt;<span class='nick nick-1'> roasbeef</span>&gt;
btcdrak: signoff-rebase = &quot;!GIT_SEQUENCE_EDITOR=&#x27;sed -i -re s/^pick/e/&#x27; sh -c &#x27;git rebase -i $1 &amp;&amp; while git rebase --continue; do git commit --amend -S --no-edit; done&#x27; -&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1472269380' id='489826'>
<a class='timestamp' href='#489826'><time timestamp='2016-08-27T03:43:00Z'>03:43</time></a>
&lt;<span class='nick nick-1'> roasbeef</span>&gt;
btcdrak: stuff that into an alias in your .gitconfig
<br>
</div>

<div class='talk op-msg' data-timestamp='1472274900' id='489827'>
<a class='timestamp' href='#489827'><time timestamp='2016-08-27T05:15:00Z'>05:15</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
hm, I would have thought verifying blocks was a read-only operation, but it seems to be writing about as much as it&#x27;s reading?
<br>
</div>

<div class='talk op-msg' data-timestamp='1472274900' id='489828'>
<a class='timestamp' href='#489828'><time timestamp='2016-08-27T05:15:00Z'>05:15</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
more actually
<br>
</div>

<div class='talk op-msg' data-timestamp='1472275260' id='489829'>
<a class='timestamp' href='#489829'><time timestamp='2016-08-27T05:21:00Z'>05:21</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
should be much more,
<br>
</div>

<div class='talk op-msg' data-timestamp='1472275260' id='489830'>
<a class='timestamp' href='#489830'><time timestamp='2016-08-27T05:21:00Z'>05:21</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
if it&#x27;s reading your dbcache is too small.
<br>
</div>

<div class='talk op-msg' data-timestamp='1472276580' id='489831'>
<a class='timestamp' href='#489831'><time timestamp='2016-08-27T05:43:00Z'>05:43</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
what&#x27;s it writing?
<br>
</div>

<div class='talk op-msg' data-timestamp='1472276640' id='489832'>
<a class='timestamp' href='#489832'><time timestamp='2016-08-27T05:44:00Z'>05:44</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
the chainstate.
<br>
</div>

<div class='talk op-msg' data-timestamp='1472277060' id='489833'>
<a class='timestamp' href='#489833'><time timestamp='2016-08-27T05:51:00Z'>05:51</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
right, it&#x27;s not the verification that causes writing, but <b>*accepting*</b> the blocks and updating the state
<br>
</div>

<div class='talk op-msg' data-timestamp='1472277060' id='489834'>
<a class='timestamp' href='#489834'><time timestamp='2016-08-27T05:51:00Z'>05:51</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
rejecting blocks should be a read-only operations
<br>
</div>

<div class='talk op-msg' data-timestamp='1472277060' id='489835'>
<a class='timestamp' href='#489835'><time timestamp='2016-08-27T05:51:00Z'>05:51</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
as well as verifying transactions outside blocks
<br>
</div>

<div class='talk op-msg' data-timestamp='1472277300' id='489836'>
<a class='timestamp' href='#489836'><time timestamp='2016-08-27T05:55:00Z'>05:55</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
gmaxwell: re: BU removing outward connection limit, sigh, it was to be expected somehow, you can&#x27;t stop anti-social people by just telling them not to do a certain behavior, we&#x27;ll need explicit anti-DoS measures for that
<br>
</div>

<div class='talk op-msg' data-timestamp='1472277360' id='489837'>
<a class='timestamp' href='#489837'><time timestamp='2016-08-27T05:56:00Z'>05:56</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
such a system could block spy-nodes connecting to everyone in one go
<br>
</div>

<div class='talk op-msg' data-timestamp='1472277420' id='489838'>
<a class='timestamp' href='#489838'><time timestamp='2016-08-27T05:57:00Z'>05:57</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
that there is no damn reason to connect to connect to more nodes also won&#x27;t stop anyone
<br>
</div>

<div class='talk op-msg' data-timestamp='1472277420' id='489839'>
<a class='timestamp' href='#489839'><time timestamp='2016-08-27T05:57:00Z'>05:57</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
&#x27;look mom we&#x27;re real anarchists, we can misbehave on an open P2P network!&#x27;
<br>
</div>

<div class='talk op-msg' data-timestamp='1472277720' id='489840'>
<a class='timestamp' href='#489840'><time timestamp='2016-08-27T06:02:00Z'>06:02</time></a>
&lt;<span class='nick nick-5'> midnightmagic</span>&gt;
any such mechanism if successful would at least in the short term eradicate blockchain.info&#x27;s spying, as well as the various chainalysis mechs.
<br>
</div>

<div class='talk op-msg' data-timestamp='1472277720' id='489841'>
<a class='timestamp' href='#489841'><time timestamp='2016-08-27T06:02:00Z'>06:02</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
their name, their whole raison d&#x27;etre, is &#x27;remove limits&#x27;, so they removed another limit. It doesn&#x27;t matter whether it had a purpose, they&#x27;ve remved a few lines of very limiting-feeling codes, and now they feel happy
<br>
</div>

<div class='talk op-msg' data-timestamp='1472277840' id='489842'>
<a class='timestamp' href='#489842'><time timestamp='2016-08-27T06:04:00Z'>06:04</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
pre-emtively filling all connection slots would also prevent blockchain.info&#x27;s spying :-)
<br>
</div>

<div class='talk op-msg' data-timestamp='1472277900' id='489843'>
<a class='timestamp' href='#489843'><time timestamp='2016-08-27T06:05:00Z'>06:05</time></a>
&lt;<span class='nick nick-5'> midnightmagic</span>&gt;
:-)
<br>
</div>

<div class='talk op-msg' data-timestamp='1472278020' id='489844'>
<a class='timestamp' href='#489844'><time timestamp='2016-08-27T06:07:00Z'>06:07</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
if this escalates and there is no solution, in the longer run, it will turn the P2P network to a ghetto, and I&#x27;d expect it to transition it to more of a F2F network w/ authenticated connections
<br>
</div>

<div class='talk op-msg' data-timestamp='1472278080' id='489845'>
<a class='timestamp' href='#489845'><time timestamp='2016-08-27T06:08:00Z'>06:08</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
but also a few more mass-connectors likely won&#x27;t break the netwerk, it just depends on the scale
<br>
</div>

<div class='talk op-msg' data-timestamp='1472278320' id='489846'>
<a class='timestamp' href='#489846'><time timestamp='2016-08-27T06:12:00Z'>06:12</time></a>
&lt;<span class='nick nick-5'> midnightmagic</span>&gt;
Bitcoin Classic -- DDoS&#x27;ing the Bitcoin network since 2016.
<br>
</div>

<div class='talk op-msg' data-timestamp='1472278320' id='489847'>
<a class='timestamp' href='#489847'><time timestamp='2016-08-27T06:12:00Z'>06:12</time></a>
&lt;<span class='nick nick-5'> midnightmagic</span>&gt;
I wonder if someone could get gavin to scold them for that
<br>
</div>

<div class='talk op-msg' data-timestamp='1472278320' id='489848'>
<a class='timestamp' href='#489848'><time timestamp='2016-08-27T06:12:00Z'>06:12</time></a>
&lt;<span class='nick nick-5'> midnightmagic</span>&gt;
or. Unlimited. Same diff.
<br>
</div>

<div class='talk op-msg' data-timestamp='1472278440' id='489849'>
<a class='timestamp' href='#489849'><time timestamp='2016-08-27T06:14:00Z'>06:14</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it reminds me a bit of seeders versus leechers discussion for bittorrent, with the difference is that &#x27;defecting&#x27; there is advantageous to the leecher, here it&#x27;s just about being a jerk just because
<br>
</div>

<div class='talk op-msg' data-timestamp='1472278500' id='489850'>
<a class='timestamp' href='#489850'><time timestamp='2016-08-27T06:15:00Z'>06:15</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
though connecting to lots of nodes can get you blocks fractially faster, which is useful for miners, you can accomplish the same thing by listening and advertising
<br>
</div>

<div class='talk op-msg' data-timestamp='1472279160' id='489851'>
<a class='timestamp' href='#489851'><time timestamp='2016-08-27T06:26:00Z'>06:26</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
you can set a virtually unlimited number of incoming connection slots, then by having a node with a high uptime, it will drift up in the DNS seeder rankings, which means its address will be dealt out more often, resulting in more connections to other nodes. It&#x27;s a slower process but the social thing to do.
<br>
</div>

<div class='talk op-msg' data-timestamp='1472279640' id='489852'>
<a class='timestamp' href='#489852'><time timestamp='2016-08-27T06:34:00Z'>06:34</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
shouldn&#x27;t those blocks (and the chainstate) already be correct? O.o
<br>
</div>

<div class='talk op-msg' data-timestamp='1472279700' id='489853'>
<a class='timestamp' href='#489853'><time timestamp='2016-08-27T06:35:00Z'>06:35</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
but blocks are a delta to the chainstate
<br>
</div>

<div class='talk op-msg' data-timestamp='1472279760' id='489854'>
<a class='timestamp' href='#489854'><time timestamp='2016-08-27T06:36:00Z'>06:36</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
if you accept a block, by definition, you have to update the chainstate. And undo files are produced, too, a reverse-delta just in case.
<br>
</div>

<div class='talk op-msg' data-timestamp='1472279760' id='489855'>
<a class='timestamp' href='#489855'><time timestamp='2016-08-27T06:36:00Z'>06:36</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
so it&#x27;s actually rewinding and re-accepting them? somehow I thought it just verified the current state was sane
<br>
</div>

<div class='talk op-msg' data-timestamp='1472279820' id='489856'>
<a class='timestamp' href='#489856'><time timestamp='2016-08-27T06:37:00Z'>06:37</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
wumpus: what you say is true, but its much harder to deal with abusive behavior when you also have many more &#x27;honest&#x27; people also being abusive out of ignorance. (in part, because the motivational structure is different; e.g. we can discourage spy nodes by reducing information leaks, moving more users into tor, etc.)
<br>
</div>

<div class='talk op-msg' data-timestamp='1472279820' id='489857'>
<a class='timestamp' href='#489857'><time timestamp='2016-08-27T06:37:00Z'>06:37</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
luke-jr: no, just applying the block results in writes to the utxo state, to mark outputs as spent, add new outputs. it rewinds only on reorg
<br>
</div>

<div class='talk op-msg' data-timestamp='1472279820' id='489858'>
<a class='timestamp' href='#489858'><time timestamp='2016-08-27T06:37:00Z'>06:37</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(But ignorance, &quot;I&#x27;m gonna help the network out by connecting to EVERYTHING!&quot; ... is harder to resolve by rational measures)
<br>
</div>

<div class='talk op-msg' data-timestamp='1472279880' id='489859'>
<a class='timestamp' href='#489859'><time timestamp='2016-08-27T06:38:00Z'>06:38</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
wumpus: I&#x27;m talking about the verifying blocks at startup.. checkblocks/checklevel
<br>
</div>

<div class='talk op-msg' data-timestamp='1472279880' id='489860'>
<a class='timestamp' href='#489860'><time timestamp='2016-08-27T06:38:00Z'>06:38</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
luke-jr: ohhh! that wasn&#x27;t clear to me.
<br>
</div>

<div class='talk op-msg' data-timestamp='1472279880' id='489861'>
<a class='timestamp' href='#489861'><time timestamp='2016-08-27T06:38:00Z'>06:38</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
luke-jr: no, that should be read-only
<br>
</div>

<div class='talk op-msg' data-timestamp='1472279880' id='489862'>
<a class='timestamp' href='#489862'><time timestamp='2016-08-27T06:38:00Z'>06:38</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
sorry
<br>
</div>

<div class='talk op-msg' data-timestamp='1472279880' id='489863'>
<a class='timestamp' href='#489863'><time timestamp='2016-08-27T06:38:00Z'>06:38</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
hmm
<br>
</div>

<div class='talk op-msg' data-timestamp='1472279940' id='489864'>
<a class='timestamp' href='#489864'><time timestamp='2016-08-27T06:39:00Z'>06:39</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
gmaxwell: sure, at least ignorance can be improved by trying harder to inform people about things
<br>
</div>

<div class='talk op-msg' data-timestamp='1472280120' id='489865'>
<a class='timestamp' href='#489865'><time timestamp='2016-08-27T06:42:00Z'>06:42</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
people may assume &#x27;moaaarrrr outgoing connections is better&#x27; unless it&#x27;s explained , .e.g in user interfaces, blog posts, that it&#x27;s bad for yourself as well as others, with alternatives how to get more connections. Sure, some people will ignore it, or be jerks, but hopefully a miniority and most will heed.
<br>
</div>

<div class='talk op-msg' data-timestamp='1472280180' id='489866'>
<a class='timestamp' href='#489866'><time timestamp='2016-08-27T06:43:00Z'>06:43</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
luke-jr: the rewinding with checklevel 3 completely happens in memory, if it is writing anything to disk that&#x27;d be very wrong
<br>
</div>

<div class='talk op-msg' data-timestamp='1472280240' id='489867'>
<a class='timestamp' href='#489867'><time timestamp='2016-08-27T06:44:00Z'>06:44</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
(there could be a bug of course....)
<br>
</div>

<div class='talk op-msg' data-timestamp='1472281020' id='489868'>
<a class='timestamp' href='#489868'><time timestamp='2016-08-27T06:57:00Z'>06:57</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
having trouble reproducing now. flushed Linux&#x27;s disk caches though, and even with just reading, it&#x27;s going super-slow :|
<br>
</div>

<div class='talk op-msg' data-timestamp='1472281140' id='489869'>
<a class='timestamp' href='#489869'><time timestamp='2016-08-27T06:59:00Z'>06:59</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
(as in 1% every 2 minutes or so, ETA 3 hours at this rate)
<br>
</div>

<div class='talk op-msg' data-timestamp='1472281500' id='489870'>
<a class='timestamp' href='#489870'><time timestamp='2016-08-27T07:05:00Z'>07:05</time></a>
&lt;<span class='nick nick-14'> * luke-jr</span>&gt;
ponders if iotop would report writing if it was swapping other processes to disk to do caching for us
<br>
</div>

<div class='talk op-msg' data-timestamp='1472281740' id='489871'>
<a class='timestamp' href='#489871'><time timestamp='2016-08-27T07:09:00Z'>07:09</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes it reports swapping as writing, but wouldn&#x27;t account swapping of <b>*other*</b> processes to disk to bitcoind
<br>
</div>

<div class='talk op-msg' data-timestamp='1472281740' id='489872'>
<a class='timestamp' href='#489872'><time timestamp='2016-08-27T07:09:00Z'>07:09</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
IIRC there&#x27;s a kswapd that gets all the blame for swapping
<br>
</div>

<div class='talk op-msg' data-timestamp='1472281740' id='489873'>
<a class='timestamp' href='#489873'><time timestamp='2016-08-27T07:09:00Z'>07:09</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
hmm
<br>
</div>

<div class='talk op-msg' data-timestamp='1472281800' id='489874'>
<a class='timestamp' href='#489874'><time timestamp='2016-08-27T07:10:00Z'>07:10</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
it did pick up speed and finished in 15 mins (just now) fwiw
<br>
</div>

<div class='talk op-msg' data-timestamp='1472281800' id='489875'>
<a class='timestamp' href='#489875'><time timestamp='2016-08-27T07:10:00Z'>07:10</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
didn&#x27;t see any writing this time either
<br>
</div>

<div class='talk op-msg' data-timestamp='1472281860' id='489876'>
<a class='timestamp' href='#489876'><time timestamp='2016-08-27T07:11:00Z'>07:11</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
phew
<br>
</div>

<div class='talk op-msg' data-timestamp='1472281920' id='489877'>
<a class='timestamp' href='#489877'><time timestamp='2016-08-27T07:12:00Z'>07:12</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
but I guess I did manage to reproduce <a href="https://www.reddit.com/r/Bitcoin/comments/4zrxs1/qtcore_client_taking_ages_to_start/" class="link" target="_blank">https://www.reddit.com/r/Bitcoin/comments/4zrxs1/qtcore_client_taking_ages_to_start/</a> after all
<br>
</div>

<div class='talk op-msg' data-timestamp='1472281920' id='489878'>
<a class='timestamp' href='#489878'><time timestamp='2016-08-27T07:12:00Z'>07:12</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
just a matter of dropping caches
<br>
</div>

<div class='talk op-msg' data-timestamp='1472281920' id='489879'>
<a class='timestamp' href='#489879'><time timestamp='2016-08-27T07:12:00Z'>07:12</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
gmaxwell: can you confirm on your slow laptop? echo 3 &gt; /proc/sys/vm/drop_caches
<br>
</div>

<div class='talk op-msg' data-timestamp='1472282040' id='489880'>
<a class='timestamp' href='#489880'><time timestamp='2016-08-27T07:14:00Z'>07:14</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
usually if the client takes ages to start there&#x27;s a backlog of blocks to verify
<br>
</div>

<div class='talk op-msg' data-timestamp='1472282100' id='489881'>
<a class='timestamp' href='#489881'><time timestamp='2016-08-27T07:15:00Z'>07:15</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
question: how many times has the initial verification at startup actually caught corruption
<br>
</div>

<div class='talk op-msg' data-timestamp='1472282100' id='489882'>
<a class='timestamp' href='#489882'><time timestamp='2016-08-27T07:15:00Z'>07:15</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
nobody knows, of course
<br>
</div>

<div class='talk op-msg' data-timestamp='1472282100' id='489883'>
<a class='timestamp' href='#489883'><time timestamp='2016-08-27T07:15:00Z'>07:15</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I don&#x27;t know - but I think it would be just as effective to just check a few blocks
<br>
</div>

<div class='talk op-msg' data-timestamp='1472282100' id='489884'>
<a class='timestamp' href='#489884'><time timestamp='2016-08-27T07:15:00Z'>07:15</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
sipa: not sure if it&#x27;s still a problem, but every time when we had those powerfail-corrupts-db problem? (unless that was caught by something else?)
<br>
</div>

<div class='talk op-msg' data-timestamp='1472282160' id='489885'>
<a class='timestamp' href='#489885'><time timestamp='2016-08-27T07:16:00Z'>07:16</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
the latest blocks are the most likely to be corrupt and below that it drops off 
<br>
</div>

<div class='talk op-msg' data-timestamp='1472282160' id='489886'>
<a class='timestamp' href='#489886'><time timestamp='2016-08-27T07:16:00Z'>07:16</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
luke-jr: those result in a leveldb checksum error
<br>
</div>

<div class='talk op-msg' data-timestamp='1472282160' id='489887'>
<a class='timestamp' href='#489887'><time timestamp='2016-08-27T07:16:00Z'>07:16</time></a>
&lt;<span class='nick nick-14'> * luke-jr</span>&gt;
didn&#x27;t realise the slowish startup time because he had checkblocks=4 checklevel=6 in his bitcoin.conf
<br>
</div>

<div class='talk op-msg' data-timestamp='1472282160' id='489888'>
<a class='timestamp' href='#489888'><time timestamp='2016-08-27T07:16:00Z'>07:16</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
there are only 4 checklevels :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1472282160' id='489889'>
<a class='timestamp' href='#489889'><time timestamp='2016-08-27T07:16:00Z'>07:16</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
luke-jr: same here - I think the default checkblocks should be much lower
<br>
</div>

<div class='talk op-msg' data-timestamp='1472282160' id='489890'>
<a class='timestamp' href='#489890'><time timestamp='2016-08-27T07:16:00Z'>07:16</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
well, if there&#x27;s ever more added, I&#x27;m ready! :P
<br>
</div>

<div class='talk op-msg' data-timestamp='1472282160' id='489891'>
<a class='timestamp' href='#489891'><time timestamp='2016-08-27T07:16:00Z'>07:16</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
a as-thorough-as-possible check on just a few blocks
<br>
</div>

<div class='talk op-msg' data-timestamp='1472282160' id='489892'>
<a class='timestamp' href='#489892'><time timestamp='2016-08-27T07:16:00Z'>07:16</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and 4 blocks is not very much
<br>
</div>

<div class='talk op-msg' data-timestamp='1472282220' id='489893'>
<a class='timestamp' href='#489893'><time timestamp='2016-08-27T07:17:00Z'>07:17</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
well, take 10 then
<br>
</div>

<div class='talk op-msg' data-timestamp='1472282220' id='489894'>
<a class='timestamp' href='#489894'><time timestamp='2016-08-27T07:17:00Z'>07:17</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
sipa: my PC is on UPS ;)
<br>
</div>

<div class='talk op-msg' data-timestamp='1472282220' id='489895'>
<a class='timestamp' href='#489895'><time timestamp='2016-08-27T07:17:00Z'>07:17</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
wumpus: jonasschnelli has a patch to switch to txcount based limiting
<br>
</div>

<div class='talk op-msg' data-timestamp='1472282280' id='489896'>
<a class='timestamp' href='#489896'><time timestamp='2016-08-27T07:18:00Z'>07:18</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
hmm, that&#x27;s an interesting idea.
<br>
</div>

<div class='talk op-msg' data-timestamp='1472282280' id='489897'>
<a class='timestamp' href='#489897'><time timestamp='2016-08-27T07:18:00Z'>07:18</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
that&#x27;s good, but I think the effective default check depth should also be lowered, don&#x27;t know if it does that
<br>
</div>

<div class='talk op-msg' data-timestamp='1472282280' id='489898'>
<a class='timestamp' href='#489898'><time timestamp='2016-08-27T07:18:00Z'>07:18</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
or maybe write a flag on &#x27;clean&#x27; shutdown, and do a reduced check in that case?
<br>
</div>

<div class='talk op-msg' data-timestamp='1472282280' id='489899'>
<a class='timestamp' href='#489899'><time timestamp='2016-08-27T07:18:00Z'>07:18</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
set it for the equivalent checkblocks back when it was introduced? :p
<br>
</div>

<div class='talk op-msg' data-timestamp='1472282340' id='489900'>
<a class='timestamp' href='#489900'><time timestamp='2016-08-27T07:19:00Z'>07:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
wumpus: it sets the default to 100000 txn
<br>
</div>

<div class='talk op-msg' data-timestamp='1472282340' id='489901'>
<a class='timestamp' href='#489901'><time timestamp='2016-08-27T07:19:00Z'>07:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i guess it can be lower even
<br>
</div>

<div class='talk op-msg' data-timestamp='1472282340' id='489902'>
<a class='timestamp' href='#489902'><time timestamp='2016-08-27T07:19:00Z'>07:19</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
sipa: ok
<br>
</div>

<div class='talk op-msg' data-timestamp='1472282340' id='489903'>
<a class='timestamp' href='#489903'><time timestamp='2016-08-27T07:19:00Z'>07:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but it also insists on at least 6 blocks
<br>
</div>

<div class='talk op-msg' data-timestamp='1472282340' id='489904'>
<a class='timestamp' href='#489904'><time timestamp='2016-08-27T07:19:00Z'>07:19</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
we need to do something about the startup check. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1472282400' id='489905'>
<a class='timestamp' href='#489905'><time timestamp='2016-08-27T07:20:00Z'>07:20</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
unfortunately just checking a couple blocks is not much of a test, but anything more takes too long for most people.
<br>
</div>

<div class='talk op-msg' data-timestamp='1472282400' id='489906'>
<a class='timestamp' href='#489906'><time timestamp='2016-08-27T07:20:00Z'>07:20</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
wumpus: interesting idea
<br>
</div>

<div class='talk op-msg' data-timestamp='1472282400' id='489907'>
<a class='timestamp' href='#489907'><time timestamp='2016-08-27T07:20:00Z'>07:20</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
I wonder how difficult it would be to background it
<br>
</div>

<div class='talk op-msg' data-timestamp='1472282400' id='489908'>
<a class='timestamp' href='#489908'><time timestamp='2016-08-27T07:20:00Z'>07:20</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
wumpus: neat idea!
<br>
</div>

<div class='talk op-msg' data-timestamp='1472282520' id='489909'>
<a class='timestamp' href='#489909'><time timestamp='2016-08-27T07:22:00Z'>07:22</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
when we were having windows corruption, what was needed to reliably detect that?
<br>
</div>

<div class='talk op-msg' data-timestamp='1472282520' id='489910'>
<a class='timestamp' href='#489910'><time timestamp='2016-08-27T07:22:00Z'>07:22</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
just opening the leveldb IIRC
<br>
</div>

<div class='talk op-msg' data-timestamp='1472282520' id='489911'>
<a class='timestamp' href='#489911'><time timestamp='2016-08-27T07:22:00Z'>07:22</time></a>
&lt;<span class='nick nick-6'> btcdrak</span>&gt;
roasbeef: thanks!!
<br>
</div>

<div class='talk op-msg' data-timestamp='1472282580' id='489912'>
<a class='timestamp' href='#489912'><time timestamp='2016-08-27T07:23:00Z'>07:23</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
or maybe the first access. No thorough checking was necessary
<br>
</div>

<div class='talk op-msg' data-timestamp='1472282580' id='489913'>
<a class='timestamp' href='#489913'><time timestamp='2016-08-27T07:23:00Z'>07:23</time></a>
&lt;<span class='nick nick-4'> * sipa</span>&gt;
suggests: 10000 txn (which corresponds to ~6 blocks currently)
<br>
</div>

<div class='talk op-msg' data-timestamp='1472282640' id='489914'>
<a class='timestamp' href='#489914'><time timestamp='2016-08-27T07:24:00Z'>07:24</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
sounds good to me
<br>
</div>

<div class='talk op-msg' data-timestamp='1472282700' id='489915'>
<a class='timestamp' href='#489915'><time timestamp='2016-08-27T07:25:00Z'>07:25</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
it&#x27;s very helpful that leveldb has its own corruption detection here
<br>
</div>

<div class='talk op-msg' data-timestamp='1472282700' id='489916'>
<a class='timestamp' href='#489916'><time timestamp='2016-08-27T07:25:00Z'>07:25</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
why bother with the txn count?
<br>
</div>

<div class='talk op-msg' data-timestamp='1472282700' id='489917'>
<a class='timestamp' href='#489917'><time timestamp='2016-08-27T07:25:00Z'>07:25</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
just set it to 6 blocks?
<br>
</div>

<div class='talk op-msg' data-timestamp='1472282700' id='489918'>
<a class='timestamp' href='#489918'><time timestamp='2016-08-27T07:25:00Z'>07:25</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
because that auto-adapts
<br>
</div>

<div class='talk op-msg' data-timestamp='1472282700' id='489919'>
<a class='timestamp' href='#489919'><time timestamp='2016-08-27T07:25:00Z'>07:25</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
so? other than segwit the txn count of blocks won&#x27;t change much.
<br>
</div>

<div class='talk op-msg' data-timestamp='1472282700' id='489920'>
<a class='timestamp' href='#489920'><time timestamp='2016-08-27T07:25:00Z'>07:25</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
if blocks grow again, it won&#x27;t become  slower
<br>
</div>

<div class='talk op-msg' data-timestamp='1472282760' id='489921'>
<a class='timestamp' href='#489921'><time timestamp='2016-08-27T07:26:00Z'>07:26</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
heh yes that&#x27;s a completely different discission
<br>
</div>

<div class='talk op-msg' data-timestamp='1472282760' id='489922'>
<a class='timestamp' href='#489922'><time timestamp='2016-08-27T07:26:00Z'>07:26</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: if you are early in IBD you probably want more blockss
<br>
</div>

<div class='talk op-msg' data-timestamp='1472282760' id='489923'>
<a class='timestamp' href='#489923'><time timestamp='2016-08-27T07:26:00Z'>07:26</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sipa: okay, I&#x27;ll but that.. but kind of a corner case.
<br>
</div>

<div class='talk op-msg' data-timestamp='1472282760' id='489924'>
<a class='timestamp' href='#489924'><time timestamp='2016-08-27T07:26:00Z'>07:26</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
but the fact is that transaction could is a better measure of run time
<br>
</div>

<div class='talk op-msg' data-timestamp='1472282760' id='489925'>
<a class='timestamp' href='#489925'><time timestamp='2016-08-27T07:26:00Z'>07:26</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
count*
<br>
</div>

<div class='talk op-msg' data-timestamp='1472282760' id='489926'>
<a class='timestamp' href='#489926'><time timestamp='2016-08-27T07:26:00Z'>07:26</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I was at the verge of suggesting this just do a single block.
<br>
</div>

<div class='talk op-msg' data-timestamp='1472282760' id='489927'>
<a class='timestamp' href='#489927'><time timestamp='2016-08-27T07:26:00Z'>07:26</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
and amount of data checked
<br>
</div>

<div class='talk op-msg' data-timestamp='1472282820' id='489928'>
<a class='timestamp' href='#489928'><time timestamp='2016-08-27T07:27:00Z'>07:27</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
heh, fine by me as well
<br>
</div>

<div class='talk op-msg' data-timestamp='1472282820' id='489929'>
<a class='timestamp' href='#489929'><time timestamp='2016-08-27T07:27:00Z'>07:27</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
It&#x27;s not yielding a high payoff in detected errors, the ones I know it detected (chainstate version corruption, need checking back to your last restat to reliably report)
<br>
</div>

<div class='talk op-msg' data-timestamp='1472282820' id='489930'>
<a class='timestamp' href='#489930'><time timestamp='2016-08-27T07:27:00Z'>07:27</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
well the first priority is to make the insane wait time go away
<br>
</div>

<div class='talk op-msg' data-timestamp='1472282880' id='489931'>
<a class='timestamp' href='#489931'><time timestamp='2016-08-27T07:28:00Z'>07:28</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
whether the new number becomes low or ultra-low is less important :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1472282880' id='489932'>
<a class='timestamp' href='#489932'><time timestamp='2016-08-27T07:28:00Z'>07:28</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
One or two block keeps the code live and working, I think this code is useful around refactorings and changes to the code.
<br>
</div>

<div class='talk op-msg' data-timestamp='1472284080' id='489933'>
<a class='timestamp' href='#489933'><time timestamp='2016-08-27T07:48:00Z'>07:48</time></a>
&lt;<span class='nick nick-6'> btcdrak</span>&gt;
i guess the reply to Roger&#x27;s testnet response is no, BU runs in production and is a menace to the network
<br>
</div>

<div class='talk op-msg' data-timestamp='1472284080' id='489934'>
<a class='timestamp' href='#489934'><time timestamp='2016-08-27T07:48:00Z'>07:48</time></a>
&lt;<span class='nick nick-6'> btcdrak</span>&gt;
BU has no peer review and no chance in hell of being used for real
<br>
</div>

<div class='talk op-msg' data-timestamp='1472285160' id='489935'>
<a class='timestamp' href='#489935'><time timestamp='2016-08-27T08:06:00Z'>08:06</time></a>
&lt;<span class='nick nick-6'> btcdrak</span>&gt;
wumpus: rebased #7562
<br>
</div>

<div class='talk op-msg' data-timestamp='1472285220' id='489936'>
<a class='timestamp' href='#489936'><time timestamp='2016-08-27T08:07:00Z'>08:07</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
btcdrak: what was the problem with the tests?
<br>
</div>

<div class='talk op-msg' data-timestamp='1472285220' id='489937'>
<a class='timestamp' href='#489937'><time timestamp='2016-08-27T08:07:00Z'>08:07</time></a>
&lt;<span class='nick nick-6'> btcdrak</span>&gt;
gmaxwell: can you explain a bit more about your suggestion regarding my attempt at extracting the MacOSX sdk on linux?
<br>
</div>

<div class='talk op-msg' data-timestamp='1472285340' id='489938'>
<a class='timestamp' href='#489938'><time timestamp='2016-08-27T08:09:00Z'>08:09</time></a>
&lt;<span class='nick nick-6'> btcdrak</span>&gt;
sipa: changing the defaul tx version affected a couple of tests that were comparing hash values, or sorting txs by hash. obviously the hashes change when tx version is bumped. Those seem innocuous. There is one test however that I dont understand which I commented on. Not sure why it is affected by changing the version number.
<br>
</div>

<div class='talk op-msg' data-timestamp='1472285400' id='489939'>
<a class='timestamp' href='#489939'><time timestamp='2016-08-27T08:10:00Z'>08:10</time></a>
&lt;<span class='nick nick-6'> btcdrak</span>&gt;
I dont know if it&#x27;s the tests&#x27; fault and innocuous, or revealing an issue.
<br>
</div>

<div class='talk op-msg' data-timestamp='1472286600' id='489940'>
<a class='timestamp' href='#489940'><time timestamp='2016-08-27T08:30:00Z'>08:30</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
btcdrak: so, first someone extracts it via OSX.  Then we take the extracted binary and find all the offsets for its data in the decompressed file. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1472286660' id='489941'>
<a class='timestamp' href='#489941'><time timestamp='2016-08-27T08:31:00Z'>08:31</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
we can distribute the offset list.
<br>
</div>

<div class='talk op-msg' data-timestamp='1472286660' id='489942'>
<a class='timestamp' href='#489942'><time timestamp='2016-08-27T08:31:00Z'>08:31</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
actually, a took like xdelta or another binary diff tool might just handle it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1472287200' id='489943'>
<a class='timestamp' href='#489943'><time timestamp='2016-08-27T08:40:00Z'>08:40</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but the dmg file is compressed
<br>
</div>

<div class='talk op-msg' data-timestamp='1472287200' id='489944'>
<a class='timestamp' href='#489944'><time timestamp='2016-08-27T08:40:00Z'>08:40</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
can we decompress it?
<br>
</div>

<div class='talk op-msg' data-timestamp='1472287260' id='489945'>
<a class='timestamp' href='#489945'><time timestamp='2016-08-27T08:41:00Z'>08:41</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
without &quot;installing&quot;, that is
<br>
</div>

<div class='talk op-msg' data-timestamp='1472287260' id='489946'>
<a class='timestamp' href='#489946'><time timestamp='2016-08-27T08:41:00Z'>08:41</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
it&#x27;s a 7z file according to drak
<br>
</div>

<div class='talk op-msg' data-timestamp='1472287380' id='489947'>
<a class='timestamp' href='#489947'><time timestamp='2016-08-27T08:43:00Z'>08:43</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
so I was assuming that.
<br>
</div>

<div class='talk op-msg' data-timestamp='1472287380' id='489948'>
<a class='timestamp' href='#489948'><time timestamp='2016-08-27T08:43:00Z'>08:43</time></a>
&lt;<span class='nick nick-6'> btcdrak</span>&gt;
gmaxwell: one thing I am not sure about is if 7z is actually extracting it correctly. It seems to be, and the bug seems more like in the linux implementation of hfsplus; but it is feasible that the compression algo was tweaked and 7z is unaware 
<br>
</div>

<div class='talk op-msg' data-timestamp='1472287380' id='489949'>
<a class='timestamp' href='#489949'><time timestamp='2016-08-27T08:43:00Z'>08:43</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
unlikely, 7z has checksums.
<br>
</div>

<div class='talk op-msg' data-timestamp='1472287620' id='489950'>
<a class='timestamp' href='#489950'><time timestamp='2016-08-27T08:47:00Z'>08:47</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
so we&#x27;d xdelta the 7z-decompressed dmg with the resulting compressed .tar?
<br>
</div>

<div class='talk op-msg' data-timestamp='1472287620' id='489951'>
<a class='timestamp' href='#489951'><time timestamp='2016-08-27T08:47:00Z'>08:47</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
uncompressed tar.
<br>
</div>

<div class='talk op-msg' data-timestamp='1472287620' id='489952'>
<a class='timestamp' href='#489952'><time timestamp='2016-08-27T08:47:00Z'>08:47</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
oh what we want is a tgz.
<br>
</div>

<div class='talk op-msg' data-timestamp='1472287620' id='489953'>
<a class='timestamp' href='#489953'><time timestamp='2016-08-27T08:47:00Z'>08:47</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
yes.
<br>
</div>

<div class='talk op-msg' data-timestamp='1472287620' id='489954'>
<a class='timestamp' href='#489954'><time timestamp='2016-08-27T08:47:00Z'>08:47</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
so the file we normally get out of it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1472287680' id='489955'>
<a class='timestamp' href='#489955'><time timestamp='2016-08-27T08:48:00Z'>08:48</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
and if the resulting delta is small, we call it done.
<br>
</div>

<div class='talk op-msg' data-timestamp='1472287680' id='489956'>
<a class='timestamp' href='#489956'><time timestamp='2016-08-27T08:48:00Z'>08:48</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
btcdrak: what version of 7zip did you use?
<br>
</div>

<div class='talk op-msg' data-timestamp='1472287680' id='489957'>
<a class='timestamp' href='#489957'><time timestamp='2016-08-27T08:48:00Z'>08:48</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
btcdrak: where is hfsplus used?
<br>
</div>

<div class='talk op-msg' data-timestamp='1472287740' id='489958'>
<a class='timestamp' href='#489958'><time timestamp='2016-08-27T08:49:00Z'>08:49</time></a>
&lt;<span class='nick nick-6'> btcdrak</span>&gt;
luke-jr: version 9.20 
<br>
</div>

<div class='talk op-msg' data-timestamp='1472287740' id='489959'>
<a class='timestamp' href='#489959'><time timestamp='2016-08-27T08:49:00Z'>08:49</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
hmm, it tells me: Error: Can not open file as archive
<br>
</div>

<div class='talk op-msg' data-timestamp='1472288160' id='489960'>
<a class='timestamp' href='#489960'><time timestamp='2016-08-27T08:56:00Z'>08:56</time></a>
&lt;<span class='nick nick-6'> btcdrak</span>&gt;
sipa: <a href="https://www.irccloud.com/pastebin/S3zIzO3D/" class="link" target="_blank">https://www.irccloud.com/pastebin/S3zIzO3D/</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1472288280' id='489961'>
<a class='timestamp' href='#489961'><time timestamp='2016-08-27T08:58:00Z'>08:58</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
oh, my DMG file is truncated
<br>
</div>

<div class='talk op-msg' data-timestamp='1472288340' id='489962'>
<a class='timestamp' href='#489962'><time timestamp='2016-08-27T08:59:00Z'>08:59</time></a>
&lt;<span class='nick nick-6'> btcdrak</span>&gt;
so basically the files we want are in Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.11.sdk, but using the method above you get a bunch of empty files. On a Mac you run &quot;tar -C /Volumes/Xcode/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/ -czf MacOSX10.11.sdk.tar.gz MacOSX10.11.sdk&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1472288340' id='489963'>
<a class='timestamp' href='#489963'><time timestamp='2016-08-27T08:59:00Z'>08:59</time></a>
&lt;<span class='nick nick-6'> btcdrak</span>&gt;
cfields_ documented it here <a href="https://github.com/bitcoin/bitcoin/blob/master/doc/README_osx.md" class="link" target="_blank">https://github.com/bitcoin/bitcoin/blob/master/doc/README_osx.md</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1472288400' id='489964'>
<a class='timestamp' href='#489964'><time timestamp='2016-08-27T09:00:00Z'>09:00</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but we don&#x27;t need all of the contents of that dmg, right?
<br>
</div>

<div class='talk op-msg' data-timestamp='1472288400' id='489965'>
<a class='timestamp' href='#489965'><time timestamp='2016-08-27T09:00:00Z'>09:00</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
not nearly
<br>
</div>

<div class='talk op-msg' data-timestamp='1472288400' id='489966'>
<a class='timestamp' href='#489966'><time timestamp='2016-08-27T09:00:00Z'>09:00</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
but it&#x27;s copyrighted and non-redistributable :&lt;
<br>
</div>

<div class='talk op-msg' data-timestamp='1472288400' id='489967'>
<a class='timestamp' href='#489967'><time timestamp='2016-08-27T09:00:00Z'>09:00</time></a>
&lt;<span class='nick nick-6'> btcdrak</span>&gt;
sipa right, we just need the files from Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.11.sdk/* which we turn into a tar.gz
<br>
</div>

<div class='talk op-msg' data-timestamp='1472288400' id='489968'>
<a class='timestamp' href='#489968'><time timestamp='2016-08-27T09:00:00Z'>09:00</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i see
<br>
</div>

<div class='talk op-msg' data-timestamp='1472288400' id='489969'>
<a class='timestamp' href='#489969'><time timestamp='2016-08-27T09:00:00Z'>09:00</time></a>
&lt;<span class='nick nick-6'> btcdrak</span>&gt;
That gives us 47MB tar.gz :-p
<br>
</div>

<div class='talk op-msg' data-timestamp='1472288520' id='489970'>
<a class='timestamp' href='#489970'><time timestamp='2016-08-27T09:02:00Z'>09:02</time></a>
&lt;<span class='nick nick-6'> btcdrak</span>&gt;
we drop that in the gitian-builder/inputs/ folder when performing the Gitian rituals. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1472288520' id='489971'>
<a class='timestamp' href='#489971'><time timestamp='2016-08-27T09:02:00Z'>09:02</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
got it
<br>
</div>

<div class='talk op-msg' data-timestamp='1472288520' id='489972'>
<a class='timestamp' href='#489972'><time timestamp='2016-08-27T09:02:00Z'>09:02</time></a>
&lt;<span class='nick nick-14'> * luke-jr</span>&gt;
waits on copy over LAN.. Xcode_7.3.1.dmg   27% 1383MB   6.5MB/s   09:08 ETA
<br>
</div>

<div class='talk op-msg' data-timestamp='1472288580' id='489973'>
<a class='timestamp' href='#489973'><time timestamp='2016-08-27T09:03:00Z'>09:03</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
14m here
<br>
</div>

<div class='talk op-msg' data-timestamp='1472288580' id='489974'>
<a class='timestamp' href='#489974'><time timestamp='2016-08-27T09:03:00Z'>09:03</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
you and your fast internet :x :p
<br>
</div>

<div class='talk op-msg' data-timestamp='1472288580' id='489975'>
<a class='timestamp' href='#489975'><time timestamp='2016-08-27T09:03:00Z'>09:03</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
luke-jr: this is over t-mobile roaming data
<br>
</div>

<div class='talk op-msg' data-timestamp='1472288640' id='489976'>
<a class='timestamp' href='#489976'><time timestamp='2016-08-27T09:04:00Z'>09:04</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
sadly, T-Mobile data here seems to only be about 5 Mbps
<br>
</div>

<div class='talk op-msg' data-timestamp='1472289000' id='489977'>
<a class='timestamp' href='#489977'><time timestamp='2016-08-27T09:10:00Z'>09:10</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
2hr 49m remaining here.
<br>
</div>

<div class='talk op-msg' data-timestamp='1472289240' id='489978'>
<a class='timestamp' href='#489978'><time timestamp='2016-08-27T09:14:00Z'>09:14</time></a>
&lt;<span class='nick nick-6'> btcdrak</span>&gt;
RIP sipa&#x27;s roaming data charges
<br>
</div>

<div class='talk op-msg' data-timestamp='1472289240' id='489979'>
<a class='timestamp' href='#489979'><time timestamp='2016-08-27T09:14:00Z'>09:14</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
btcdrak: it&#x27;s free
<br>
</div>

<div class='talk op-msg' data-timestamp='1472289240' id='489980'>
<a class='timestamp' href='#489980'><time timestamp='2016-08-27T09:14:00Z'>09:14</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it&#x27;s effectively cheaper than my swiss wired or wireless internet
<br>
</div>

<div class='talk op-msg' data-timestamp='1472289300' id='489981'>
<a class='timestamp' href='#489981'><time timestamp='2016-08-27T09:15:00Z'>09:15</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
s/free/fixed price/
<br>
</div>

<div class='talk op-msg' data-timestamp='1472289360' id='489982'>
<a class='timestamp' href='#489982'><time timestamp='2016-08-27T09:16:00Z'>09:16</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
btcdrak: a while back tmobile ceo put out some open letter about &quot;data abusers&quot; and for some reason it said, &#x27;mining bitcoin&#x27; -- for a while we wondered if perhaps he was talking about blockstream. <a href="https://newsroom.t-mobile.com/news-and-blogs/stopping-network-abusers.htm" class="link" target="_blank">https://newsroom.t-mobile.com/news-and-blogs/stopping-network-abusers.htm</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1472289360' id='489983'>
<a class='timestamp' href='#489983'><time timestamp='2016-08-27T09:16:00Z'>09:16</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
apparently blockstream was using several TB a month on tmobile.
<br>
</div>

<div class='talk op-msg' data-timestamp='1472289480' id='489984'>
<a class='timestamp' href='#489984'><time timestamp='2016-08-27T09:18:00Z'>09:18</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
doesn&#x27;t everyone run a full node on their phone?
<br>
</div>

<div class='talk op-msg' data-timestamp='1472289480' id='489985'>
<a class='timestamp' href='#489985'><time timestamp='2016-08-27T09:18:00Z'>09:18</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
lol, xdelta is 45 MB
<br>
</div>

<div class='talk op-msg' data-timestamp='1472289480' id='489986'>
<a class='timestamp' href='#489986'><time timestamp='2016-08-27T09:18:00Z'>09:18</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
:(
<br>
</div>

<div class='talk op-msg' data-timestamp='1472289540' id='489987'>
<a class='timestamp' href='#489987'><time timestamp='2016-08-27T09:19:00Z'>09:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
luke-jr: how did you decompress the dmg?
<br>
</div>

<div class='talk op-msg' data-timestamp='1472289540' id='489988'>
<a class='timestamp' href='#489988'><time timestamp='2016-08-27T09:19:00Z'>09:19</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
7z
<br>
</div>

<div class='talk op-msg' data-timestamp='1472289540' id='489989'>
<a class='timestamp' href='#489989'><time timestamp='2016-08-27T09:19:00Z'>09:19</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
lol
<br>
</div>

<div class='talk op-msg' data-timestamp='1472289540' id='489990'>
<a class='timestamp' href='#489990'><time timestamp='2016-08-27T09:19:00Z'>09:19</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
might need more options for it to actually find the match
<br>
</div>

<div class='talk op-msg' data-timestamp='1472289600' id='489991'>
<a class='timestamp' href='#489991'><time timestamp='2016-08-27T09:20:00Z'>09:20</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
maybe there&#x27;s some tweaking to the tar we need to put it in a better order?
<br>
</div>

<div class='talk op-msg' data-timestamp='1472289600' id='489992'>
<a class='timestamp' href='#489992'><time timestamp='2016-08-27T09:20:00Z'>09:20</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
yes, that too.
<br>
</div>

<div class='talk op-msg' data-timestamp='1472289600' id='489993'>
<a class='timestamp' href='#489993'><time timestamp='2016-08-27T09:20:00Z'>09:20</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
oh wait
<br>
</div>

<div class='talk op-msg' data-timestamp='1472289600' id='489994'>
<a class='timestamp' href='#489994'><time timestamp='2016-08-27T09:20:00Z'>09:20</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
hmm, nm
<br>
</div>

<div class='talk op-msg' data-timestamp='1472289600' id='489995'>
<a class='timestamp' href='#489995'><time timestamp='2016-08-27T09:20:00Z'>09:20</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
the uncompressed tar is 306 MB FWIW
<br>
</div>

<div class='talk op-msg' data-timestamp='1472289600' id='489996'>
<a class='timestamp' href='#489996'><time timestamp='2016-08-27T09:20:00Z'>09:20</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
but xdelta&#x27;s patch is compressed.
<br>
</div>

<div class='talk op-msg' data-timestamp='1472289600' id='489997'>
<a class='timestamp' href='#489997'><time timestamp='2016-08-27T09:20:00Z'>09:20</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
were you using the compressed tar as the input? 
<br>
</div>

<div class='talk op-msg' data-timestamp='1472289600' id='489998'>
<a class='timestamp' href='#489998'><time timestamp='2016-08-27T09:20:00Z'>09:20</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
no
<br>
</div>

<div class='talk op-msg' data-timestamp='1472289660' id='489999'>
<a class='timestamp' href='#489999'><time timestamp='2016-08-27T09:21:00Z'>09:21</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
hpmount, mount -t hfsplus, 7zr... all fail to open the file
<br>
</div>

<div class='talk op-msg' data-timestamp='1472289660' id='490000'>
<a class='timestamp' href='#490000'><time timestamp='2016-08-27T09:21:00Z'>09:21</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
maybe we should just encrypt the damn tar with the whole dmg file as the key, and then call that sufficient for legal purposes. :P
<br>
</div>

<div class='talk op-msg' data-timestamp='1472289720' id='490001'>
<a class='timestamp' href='#490001'><time timestamp='2016-08-27T09:22:00Z'>09:22</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
sipa: need 7z, not 7zr
<br>
</div>

<div class='talk op-msg' data-timestamp='1472289720' id='490002'>
<a class='timestamp' href='#490002'><time timestamp='2016-08-27T09:22:00Z'>09:22</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
7zr has formats removed
<br>
</div>

<div class='talk op-msg' data-timestamp='1472289720' id='490003'>
<a class='timestamp' href='#490003'><time timestamp='2016-08-27T09:22:00Z'>09:22</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
gmaxwell: hmm, I wonder if that&#x27;d be okay
<br>
</div>

<div class='talk op-msg' data-timestamp='1472289720' id='490004'>
<a class='timestamp' href='#490004'><time timestamp='2016-08-27T09:22:00Z'>09:22</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
I turned off xdelta&#x27;s patch compression and it&#x27;s 261 MB :/
<br>
</div>

<div class='talk op-msg' data-timestamp='1472289780' id='490005'>
<a class='timestamp' href='#490005'><time timestamp='2016-08-27T09:23:00Z'>09:23</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
smaller than 300 so it found something.
<br>
</div>

<div class='talk op-msg' data-timestamp='1472289780' id='490006'>
<a class='timestamp' href='#490006'><time timestamp='2016-08-27T09:23:00Z'>09:23</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
luke-jr: I think doing that would be defensible.
<br>
</div>

<div class='talk op-msg' data-timestamp='1472289780' id='490007'>
<a class='timestamp' href='#490007'><time timestamp='2016-08-27T09:23:00Z'>09:23</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
xdelta3: warning: input position 310378496 overflowed instruction buffer, needed 43091 (vs. 32768), consider changing -I
<br>
</div>

<div class='talk op-msg' data-timestamp='1472289840' id='490008'>
<a class='timestamp' href='#490008'><time timestamp='2016-08-27T09:24:00Z'>09:24</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
consider changing -I
<br>
</div>

<div class='talk op-msg' data-timestamp='1472289840' id='490009'>
<a class='timestamp' href='#490009'><time timestamp='2016-08-27T09:24:00Z'>09:24</time></a>
&lt;<span class='nick nick-14'> * luke-jr</span>&gt;
sets -I to unlimited
<br>
</div>

<div class='talk op-msg' data-timestamp='1472289840' id='490010'>
<a class='timestamp' href='#490010'><time timestamp='2016-08-27T09:24:00Z'>09:24</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
not doing much better :&lt;
<br>
</div>

<div class='talk op-msg' data-timestamp='1472289840' id='490011'>
<a class='timestamp' href='#490011'><time timestamp='2016-08-27T09:24:00Z'>09:24</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
-rw-r--r-- 1 luke-jr luke-jr 261M Aug 27 09:24 MacOSX.xdelta
<br>
</div>

<div class='talk op-msg' data-timestamp='1472289840' id='490012'>
<a class='timestamp' href='#490012'><time timestamp='2016-08-27T09:24:00Z'>09:24</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
there are some other binary patching tools, xdelta was the first that came to mind.
<br>
</div>

<div class='talk op-msg' data-timestamp='1472289900' id='490013'>
<a class='timestamp' href='#490013'><time timestamp='2016-08-27T09:25:00Z'>09:25</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
xdelta and xdelta3 seem to be different things
<br>
</div>

<div class='talk op-msg' data-timestamp='1472290080' id='490014'>
<a class='timestamp' href='#490014'><time timestamp='2016-08-27T09:28:00Z'>09:28</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
open-vcdiff
<br>
</div>

<div class='talk op-msg' data-timestamp='1472290080' id='490015'>
<a class='timestamp' href='#490015'><time timestamp='2016-08-27T09:28:00Z'>09:28</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
I&#x27;m writing something custom
<br>
</div>

<div class='talk op-msg' data-timestamp='1472290080' id='490016'>
<a class='timestamp' href='#490016'><time timestamp='2016-08-27T09:28:00Z'>09:28</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
hmm
<br>
</div>

<div class='talk op-msg' data-timestamp='1472290080' id='490017'>
<a class='timestamp' href='#490017'><time timestamp='2016-08-27T09:28:00Z'>09:28</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
I can&#x27;t mmap this DMG :&lt;
<br>
</div>

<div class='talk op-msg' data-timestamp='1472290140' id='490018'>
<a class='timestamp' href='#490018'><time timestamp='2016-08-27T09:29:00Z'>09:29</time></a>
&lt;<span class='nick nick-6'> btcdrak</span>&gt;
well surely the better solution would be to fix the hfsplus driver?
<br>
</div>

<div class='talk op-msg' data-timestamp='1472290140' id='490019'>
<a class='timestamp' href='#490019'><time timestamp='2016-08-27T09:29:00Z'>09:29</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
luke-jr: upgrade to a darn 64 bit OS already luke!
<br>
</div>

<div class='talk op-msg' data-timestamp='1472290260' id='490020'>
<a class='timestamp' href='#490020'><time timestamp='2016-08-27T09:31:00Z'>09:31</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
oh, if I build with -static I can
<br>
</div>

<div class='talk op-msg' data-timestamp='1472290680' id='490021'>
<a class='timestamp' href='#490021'><time timestamp='2016-08-27T09:38:00Z'>09:38</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i can&#x27;t get it below 46 MB
<br>
</div>

<div class='talk op-msg' data-timestamp='1472290740' id='490022'>
<a class='timestamp' href='#490022'><time timestamp='2016-08-27T09:39:00Z'>09:39</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that&#x27;s with 
<br>
</div>

<div class='talk op-msg' data-timestamp='1472290740' id='490023'>
<a class='timestamp' href='#490023'><time timestamp='2016-08-27T09:39:00Z'>09:39</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
xdelta3 encode -P $((2**30)) -I 0 -B 2147483648 -W 16777216
<br>
</div>

<div class='talk op-msg' data-timestamp='1472290740' id='490024'>
<a class='timestamp' href='#490024'><time timestamp='2016-08-27T09:39:00Z'>09:39</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
(the highest values for each of the limits that work)
<br>
</div>

<div class='talk op-msg' data-timestamp='1472290860' id='490025'>
<a class='timestamp' href='#490025'><time timestamp='2016-08-27T09:41:00Z'>09:41</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it runs too fast, though
<br>
</div>

<div class='talk op-msg' data-timestamp='1472290920' id='490026'>
<a class='timestamp' href='#490026'><time timestamp='2016-08-27T09:42:00Z'>09:42</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
this is an 8 GB source file, and it only takes a few seconds
<br>
</div>

<div class='talk op-msg' data-timestamp='1472290920' id='490027'>
<a class='timestamp' href='#490027'><time timestamp='2016-08-27T09:42:00Z'>09:42</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
&quot;I demand my np-complete problems solving software be slow&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1472290920' id='490028'>
<a class='timestamp' href='#490028'><time timestamp='2016-08-27T09:42:00Z'>09:42</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i demand it actually uses the whole input
<br>
</div>

<div class='talk op-msg' data-timestamp='1472290980' id='490029'>
<a class='timestamp' href='#490029'><time timestamp='2016-08-27T09:43:00Z'>09:43</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
try open-vcdiff?
<br>
</div>

<div class='talk op-msg' data-timestamp='1472291100' id='490030'>
<a class='timestamp' href='#490030'><time timestamp='2016-08-27T09:45:00Z'>09:45</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
42 MB
<br>
</div>

<div class='talk op-msg' data-timestamp='1472291100' id='490031'>
<a class='timestamp' href='#490031'><time timestamp='2016-08-27T09:45:00Z'>09:45</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: seems that uses the same algorithm as xdelta3
<br>
</div>

<div class='talk op-msg' data-timestamp='1472291160' id='490032'>
<a class='timestamp' href='#490032'><time timestamp='2016-08-27T09:46:00Z'>09:46</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
failure?
<br>
</div>

<div class='talk op-msg' data-timestamp='1472291220' id='490033'>
<a class='timestamp' href='#490033'><time timestamp='2016-08-27T09:47:00Z'>09:47</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
<a href="http://codepad.org/Yi5FEWML" class="link" target="_blank">http://codepad.org/Yi5FEWML</a> &lt;-- any obvious bugs or possible optimizations?
<br>
</div>

<div class='talk op-msg' data-timestamp='1472291340' id='490034'>
<a class='timestamp' href='#490034'><time timestamp='2016-08-27T09:49:00Z'>09:49</time></a>
&lt;<span class='nick nick-6'> btcdrak</span>&gt;
also, I tried the dmg2img tool, but that doesnt appear to have been updated to handle the altered compression
<br>
</div>

<div class='talk op-msg' data-timestamp='1472291400' id='490035'>
<a class='timestamp' href='#490035'><time timestamp='2016-08-27T09:50:00Z'>09:50</time></a>
&lt;<span class='nick nick-7'> GitHub180</span>&gt;
[bitcoin] ajtowns closed pull request #8575: leveldb: generate lib independent of locale sort (master...leveldb-locale-reproducible) <a href="https://github.com/bitcoin/bitcoin/pull/8575" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8575</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1472291400' id='490036'>
<a class='timestamp' href='#490036'><time timestamp='2016-08-27T09:50:00Z'>09:50</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
welp, failed to find the first 82 byte file :/
<br>
</div>

<div class='talk op-msg' data-timestamp='1472291400' id='490037'>
<a class='timestamp' href='#490037'><time timestamp='2016-08-27T09:50:00Z'>09:50</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
luke-jr: well the needles may not be in the file in a contigious chunk. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1472291400' id='490038'>
<a class='timestamp' href='#490038'><time timestamp='2016-08-27T09:50:00Z'>09:50</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
gmaxwell: surely 82 bytes would be :&lt;
<br>
</div>

<div class='talk op-msg' data-timestamp='1472291400' id='490039'>
<a class='timestamp' href='#490039'><time timestamp='2016-08-27T09:50:00Z'>09:50</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
unless the file system stores the first n bytes of files in the inode table.
<br>
</div>

<div class='talk op-msg' data-timestamp='1472291460' id='490040'>
<a class='timestamp' href='#490040'><time timestamp='2016-08-27T09:51:00Z'>09:51</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
hmm
<br>
</div>

<div class='talk op-msg' data-timestamp='1472291460' id='490041'>
<a class='timestamp' href='#490041'><time timestamp='2016-08-27T09:51:00Z'>09:51</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(so that magic is fast)
<br>
</div>

<div class='talk op-msg' data-timestamp='1472291460' id='490042'>
<a class='timestamp' href='#490042'><time timestamp='2016-08-27T09:51:00Z'>09:51</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
or just to prevent the indirection
<br>
</div>

<div class='talk op-msg' data-timestamp='1472291460' id='490043'>
<a class='timestamp' href='#490043'><time timestamp='2016-08-27T09:51:00Z'>09:51</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
would it make sense to target the 2nd 4096 bytes of the file then?
<br>
</div>

<div class='talk op-msg' data-timestamp='1472291580' id='490044'>
<a class='timestamp' href='#490044'><time timestamp='2016-08-27T09:53:00Z'>09:53</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
to test your tool grab the second 4096 bytes of the haystack.
<br>
</div>

<div class='talk op-msg' data-timestamp='1472291640' id='490045'>
<a class='timestamp' href='#490045'><time timestamp='2016-08-27T09:54:00Z'>09:54</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
but yes, you could try that.
<br>
</div>

<div class='talk op-msg' data-timestamp='1472291640' id='490046'>
<a class='timestamp' href='#490046'><time timestamp='2016-08-27T09:54:00Z'>09:54</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
<a href="http://codepad.org/VvfwXbqo" class="link" target="_blank">http://codepad.org/VvfwXbqo</a> isn&#x27;t getting anything so far either
<br>
</div>

<div class='talk op-msg' data-timestamp='1472291640' id='490047'>
<a class='timestamp' href='#490047'><time timestamp='2016-08-27T09:54:00Z'>09:54</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
you mean of the needle, right?
<br>
</div>

<div class='talk op-msg' data-timestamp='1472291700' id='490048'>
<a class='timestamp' href='#490048'><time timestamp='2016-08-27T09:55:00Z'>09:55</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I mean grab a 4096 byte chunk out of the data you are searching in, just to verify your tool works.
<br>
</div>

<div class='talk op-msg' data-timestamp='1472291760' id='490049'>
<a class='timestamp' href='#490049'><time timestamp='2016-08-27T09:56:00Z'>09:56</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
oh
<br>
</div>

<div class='talk op-msg' data-timestamp='1472291760' id='490050'>
<a class='timestamp' href='#490050'><time timestamp='2016-08-27T09:56:00Z'>09:56</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
dd if=5.hfs of=junk bs=4096 skip=1234 count=1
<br>
</div>

<div class='talk op-msg' data-timestamp='1472291760' id='490051'>
<a class='timestamp' href='#490051'><time timestamp='2016-08-27T09:56:00Z'>09:56</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
&quot;In Mac OS X Snow Leopard 10.6, HFS+ compression was added. In open source and some other areas this is referred to as AppleFSCompression. Compressed data may be stored in either an extended attribute or the resource fork.&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1472291760' id='490052'>
<a class='timestamp' href='#490052'><time timestamp='2016-08-27T09:56:00Z'>09:56</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
I bet this is what we&#x27;re dealing with :|
<br>
</div>

<div class='talk op-msg' data-timestamp='1472291820' id='490053'>
<a class='timestamp' href='#490053'><time timestamp='2016-08-27T09:57:00Z'>09:57</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
seems likely, indeed
<br>
</div>

<div class='talk op-msg' data-timestamp='1472291940' id='490054'>
<a class='timestamp' href='#490054'><time timestamp='2016-08-27T09:59:00Z'>09:59</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
bleh
<br>
</div>

<div class='talk op-msg' data-timestamp='1472292000' id='490055'>
<a class='timestamp' href='#490055'><time timestamp='2016-08-27T10:00:00Z'>10:00</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
<a href="http://www.spinics.net/lists/linux-fsdevel/msg55545.html" class="link" target="_blank">http://www.spinics.net/lists/linux-fsdevel/msg55545.html</a> anyone want to implement? :/
<br>
</div>

<div class='talk op-msg' data-timestamp='1472292600' id='490056'>
<a class='timestamp' href='#490056'><time timestamp='2016-08-27T10:10:00Z'>10:10</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
leveldb 1.19 was released
<br>
</div>

<div class='talk op-msg' data-timestamp='1472292660' id='490057'>
<a class='timestamp' href='#490057'><time timestamp='2016-08-27T10:11:00Z'>10:11</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
 52 files changed, 1976 insertions(+), 429 deletions(-)
<br>
</div>

<div class='talk op-msg' data-timestamp='1472292660' id='490058'>
<a class='timestamp' href='#490058'><time timestamp='2016-08-27T10:11:00Z'>10:11</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
(compared to 1.18)
<br>
</div>

<div class='talk op-msg' data-timestamp='1472292660' id='490059'>
<a class='timestamp' href='#490059'><time timestamp='2016-08-27T10:11:00Z'>10:11</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
doesn&#x27;t sound too bad to review.
<br>
</div>

<div class='talk op-msg' data-timestamp='1472292720' id='490060'>
<a class='timestamp' href='#490060'><time timestamp='2016-08-27T10:12:00Z'>10:12</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
they added a cache pruning
<br>
</div>

<div class='talk op-msg' data-timestamp='1472292780' id='490061'>
<a class='timestamp' href='#490061'><time timestamp='2016-08-27T10:13:00Z'>10:13</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
doesn&#x27;t sound especially relevant then.
<br>
</div>

<div class='talk op-msg' data-timestamp='1472292780' id='490062'>
<a class='timestamp' href='#490062'><time timestamp='2016-08-27T10:13:00Z'>10:13</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it&#x27;s been 2 years since their previous release
<br>
</div>

<div class='talk op-msg' data-timestamp='1472292780' id='490063'>
<a class='timestamp' href='#490063'><time timestamp='2016-08-27T10:13:00Z'>10:13</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
glad to see activity :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1472292900' id='490064'>
<a class='timestamp' href='#490064'><time timestamp='2016-08-27T10:15:00Z'>10:15</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ARM64 support for memory barriers seems relevant
<br>
</div>

<div class='talk op-msg' data-timestamp='1472292900' id='490065'>
<a class='timestamp' href='#490065'><time timestamp='2016-08-27T10:15:00Z'>10:15</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
cache size estimation
<br>
</div>

<div class='talk op-msg' data-timestamp='1472292900' id='490066'>
<a class='timestamp' href='#490066'><time timestamp='2016-08-27T10:15:00Z'>10:15</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
oh the arm64 might fix performance on odroid c2
<br>
</div>

<div class='talk op-msg' data-timestamp='1472293680' id='490067'>
<a class='timestamp' href='#490067'><time timestamp='2016-08-27T10:28:00Z'>10:28</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
this is interesting but not included: <a href="https://github.com/google/leveldb/pull/309" class="link" target="_blank">https://github.com/google/leveldb/pull/309</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1472293740' id='490068'>
<a class='timestamp' href='#490068'><time timestamp='2016-08-27T10:29:00Z'>10:29</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
wumpus started benchmarking what that might look like.
<br>
</div>

<div class='talk op-msg' data-timestamp='1472293740' id='490069'>
<a class='timestamp' href='#490069'><time timestamp='2016-08-27T10:29:00Z'>10:29</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
odroid c2 has a crc32c accelerator that is sutiable too.
<br>
</div>

<div class='talk op-msg' data-timestamp='1472295780' id='490070'>
<a class='timestamp' href='#490070'><time timestamp='2016-08-27T11:03:00Z'>11:03</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
found implementation of HFS+ compression
<br>
</div>

<div class='talk op-msg' data-timestamp='1472295780' id='490071'>
<a class='timestamp' href='#490071'><time timestamp='2016-08-27T11:03:00Z'>11:03</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
where?
<br>
</div>

<div class='talk op-msg' data-timestamp='1472295780' id='490072'>
<a class='timestamp' href='#490072'><time timestamp='2016-08-27T11:03:00Z'>11:03</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
SleuthKit
<br>
</div>

<div class='talk op-msg' data-timestamp='1472295840' id='490073'>
<a class='timestamp' href='#490073'><time timestamp='2016-08-27T11:04:00Z'>11:04</time></a>
&lt;<span class='nick nick-14'> * luke-jr</span>&gt;
suggests we drop manpages from the tarball
<br>
</div>

<div class='talk op-msg' data-timestamp='1472295960' id='490074'>
<a class='timestamp' href='#490074'><time timestamp='2016-08-27T11:06:00Z'>11:06</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
xz -d &lt;inodes.xz | while read inode filename; do filename=&quot;y/$filename&quot;; p=$(dirname $filename); mkdir -vp $p; icat  ../5.hfs $inode &gt;&quot;$filename&quot;; done
<br>
</div>

<div class='talk op-msg' data-timestamp='1472296020' id='490075'>
<a class='timestamp' href='#490075'><time timestamp='2016-08-27T11:07:00Z'>11:07</time></a>
&lt;<span class='nick nick-14'> * luke-jr</span>&gt;
tests result in gitian
<br>
</div>

<div class='talk op-msg' data-timestamp='1472296080' id='490076'>
<a class='timestamp' href='#490076'><time timestamp='2016-08-27T11:08:00Z'>11:08</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
the tarball is missing a bunch of stuff that looks like dummy files (but still 66 MB)
<br>
</div>

<div class='talk op-msg' data-timestamp='1472296080' id='490077'>
<a class='timestamp' href='#490077'><time timestamp='2016-08-27T11:08:00Z'>11:08</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
luke-jr: nice!
<br>
</div>

<div class='talk op-msg' data-timestamp='1472296140' id='490078'>
<a class='timestamp' href='#490078'><time timestamp='2016-08-27T11:09:00Z'>11:09</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
FWIW, I generated the inode list using mount and stat :p
<br>
</div>

<div class='talk op-msg' data-timestamp='1472296200' id='490079'>
<a class='timestamp' href='#490079'><time timestamp='2016-08-27T11:10:00Z'>11:10</time></a>
&lt;<span class='nick nick-14'> * luke-jr</span>&gt;
would be surprised if SleuthKit didn&#x27;t have a way to get that info, but didn&#x27;t see it
<br>
</div>

<div class='talk op-msg' data-timestamp='1472296320' id='490080'>
<a class='timestamp' href='#490080'><time timestamp='2016-08-27T11:12:00Z'>11:12</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
fls seems to be the tool
<br>
</div>

<div class='talk op-msg' data-timestamp='1472296500' id='490081'>
<a class='timestamp' href='#490081'><time timestamp='2016-08-27T11:15:00Z'>11:15</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sleuthkit added support for HFS+ in version 3.1
<br>
</div>

<div class='talk op-msg' data-timestamp='1472296560' id='490082'>
<a class='timestamp' href='#490082'><time timestamp='2016-08-27T11:16:00Z'>11:16</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
I have 4.0.2
<br>
</div>

<div class='talk op-msg' data-timestamp='1472296560' id='490083'>
<a class='timestamp' href='#490083'><time timestamp='2016-08-27T11:16:00Z'>11:16</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ubuntu 12.04 has sleuthkit 3.2.3
<br>
</div>

<div class='talk op-msg' data-timestamp='1472296620' id='490084'>
<a class='timestamp' href='#490084'><time timestamp='2016-08-27T11:17:00Z'>11:17</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
so i think we&#x27;re good
<br>
</div>

<div class='talk op-msg' data-timestamp='1472296680' id='490085'>
<a class='timestamp' href='#490085'><time timestamp='2016-08-27T11:18:00Z'>11:18</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
oh.
<br>
</div>

<div class='talk op-msg' data-timestamp='1472296680' id='490086'>
<a class='timestamp' href='#490086'><time timestamp='2016-08-27T11:18:00Z'>11:18</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
except gitian doesn&#x27;t like it :&lt;
<br>
</div>

<div class='talk op-msg' data-timestamp='1472296680' id='490087'>
<a class='timestamp' href='#490087'><time timestamp='2016-08-27T11:18:00Z'>11:18</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
due to the missing manpages...?
<br>
</div>

<div class='talk op-msg' data-timestamp='1472296680' id='490088'>
<a class='timestamp' href='#490088'><time timestamp='2016-08-27T11:18:00Z'>11:18</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
hmm
<br>
</div>

<div class='talk op-msg' data-timestamp='1472296680' id='490089'>
<a class='timestamp' href='#490089'><time timestamp='2016-08-27T11:18:00Z'>11:18</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
I think symlinks
<br>
</div>

<div class='talk op-msg' data-timestamp='1472296680' id='490090'>
<a class='timestamp' href='#490090'><time timestamp='2016-08-27T11:18:00Z'>11:18</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
does it do a checksum check perhaps on the .tgz?
<br>
</div>

<div class='talk op-msg' data-timestamp='1472296680' id='490091'>
<a class='timestamp' href='#490091'><time timestamp='2016-08-27T11:18:00Z'>11:18</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
can&#x27;t find the lib for c++
<br>
</div>

<div class='talk op-msg' data-timestamp='1472296680' id='490092'>
<a class='timestamp' href='#490092'><time timestamp='2016-08-27T11:18:00Z'>11:18</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
it can&#x27;t, everyone&#x27;s .tgz is different ;p
<br>
</div>

<div class='talk op-msg' data-timestamp='1472296740' id='490093'>
<a class='timestamp' href='#490093'><time timestamp='2016-08-27T11:19:00Z'>11:19</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
yeah, I think it&#x27;s missing symlinks
<br>
</div>

<div class='talk op-msg' data-timestamp='1472297340' id='490094'>
<a class='timestamp' href='#490094'><time timestamp='2016-08-27T11:29:00Z'>11:29</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
fls ../5.hfs -rpF 154283 | perl -nle &#x27;m/^(r|l)\S*\s(\d+)\:\s*(.*$)/ &amp;&amp; print &quot;$1 $2 $3&quot;&#x27; | while read type inode filename; do filename=&quot;MacOSX10.11.sdk/$filename&quot;; mkdir -p &quot;$(dirname &quot;$filename&quot;)&quot;; if [ &quot;$type&quot; = &quot;l&quot; ]; then ln -s $(icat ../5.hfs $inode) &quot;$filename&quot;; else icat ../5.hfs $inode &gt;&quot;$filename&quot;; fi; done
<br>
</div>

<div class='talk op-msg' data-timestamp='1472297520' id='490095'>
<a class='timestamp' href='#490095'><time timestamp='2016-08-27T11:32:00Z'>11:32</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
tempting to figure out some kind of trick to download data on demand for this :P
<br>
</div>

<div class='talk op-msg' data-timestamp='1472297940' id='490096'>
<a class='timestamp' href='#490096'><time timestamp='2016-08-27T11:39:00Z'>11:39</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
hm, surprised there&#x27;s no single-file curl FUSE fs
<br>
</div>

<div class='talk op-msg' data-timestamp='1472298840' id='490097'>
<a class='timestamp' href='#490097'><time timestamp='2016-08-27T11:54:00Z'>11:54</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
gitian build matches
<br>
</div>

<div class='talk op-msg' data-timestamp='1472299740' id='490098'>
<a class='timestamp' href='#490098'><time timestamp='2016-08-27T12:09:00Z'>12:09</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
\o/
<br>
</div>

<div class='talk op-msg' data-timestamp='1472300520' id='490099'>
<a class='timestamp' href='#490099'><time timestamp='2016-08-27T12:22:00Z'>12:22</time></a>
&lt;<span class='nick nick-6'> btcdrak</span>&gt;
wow
<br>
</div>

<div class='talk op-msg' data-timestamp='1472300760' id='490100'>
<a class='timestamp' href='#490100'><time timestamp='2016-08-27T12:26:00Z'>12:26</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
?
<br>
</div>

<div class='talk op-msg' data-timestamp='1472301120' id='490101'>
<a class='timestamp' href='#490101'><time timestamp='2016-08-27T12:32:00Z'>12:32</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
I think btcdrak just considers perl code to be inherently aesthetically pleasing :p
<br>
</div>

<div class='talk op-msg' data-timestamp='1472301180' id='490102'>
<a class='timestamp' href='#490102'><time timestamp='2016-08-27T12:33:00Z'>12:33</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
lol
<br>
</div>

<div class='talk op-msg' data-timestamp='1472301180' id='490103'>
<a class='timestamp' href='#490103'><time timestamp='2016-08-27T12:33:00Z'>12:33</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
latest draft has no perl sadly: <a href="http://codepad.org/1wMp5vse" class="link" target="_blank">http://codepad.org/1wMp5vse</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1472301180' id='490104'>
<a class='timestamp' href='#490104'><time timestamp='2016-08-27T12:33:00Z'>12:33</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
I&#x27;ll wait until I&#x27;m actually awake to turn it into a PR
<br>
</div>

<div class='talk op-msg' data-timestamp='1472301240' id='490105'>
<a class='timestamp' href='#490105'><time timestamp='2016-08-27T12:34:00Z'>12:34</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
-rw-r--r-- 1 luke-jr luke-jr  21M Aug 27 12:33 MacOSX10.11.sdk.tar.gz
<br>
</div>

<div class='talk op-msg' data-timestamp='1472301300' id='490106'>
<a class='timestamp' href='#490106'><time timestamp='2016-08-27T12:35:00Z'>12:35</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
night
<br>
</div>

<div class='talk op-msg' data-timestamp='1472301720' id='490107'>
<a class='timestamp' href='#490107'><time timestamp='2016-08-27T12:42:00Z'>12:42</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
luke-jr, the client can take ages to start if you closed it after you downloaded a bunch of blocks but before you processed them
<br>
</div>

<div class='talk op-msg' data-timestamp='1472301720' id='490108'>
<a class='timestamp' href='#490108'><time timestamp='2016-08-27T12:42:00Z'>12:42</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
cause it processes all of them in AppInit2
<br>
</div>

<div class='talk op-msg' data-timestamp='1472301720' id='490109'>
<a class='timestamp' href='#490109'><time timestamp='2016-08-27T12:42:00Z'>12:42</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
(actually it doesn&#x27;t anymore so this shouldn&#x27;t be an issue in 0.13.x)
<br>
</div>

<div class='talk op-msg' data-timestamp='1472301780' id='490110'>
<a class='timestamp' href='#490110'><time timestamp='2016-08-27T12:43:00Z'>12:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
leveldb 1.19 should start up significantly faster
<br>
</div>

<div class='talk op-msg' data-timestamp='1472301840' id='490111'>
<a class='timestamp' href='#490111'><time timestamp='2016-08-27T12:44:00Z'>12:44</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
oh and leveldb reads it&#x27;s journal which is potentially very slow also
<br>
</div>

<div class='talk op-msg' data-timestamp='1472304240' id='490112'>
<a class='timestamp' href='#490112'><time timestamp='2016-08-27T13:24:00Z'>13:24</time></a>
&lt;<span class='nick nick-16'> GitHub3</span>&gt;
[bitcoin] sipa opened pull request #8610: Share unused mempool memory with coincache (master...sharemem) <a href="https://github.com/bitcoin/bitcoin/pull/8610" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8610</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1472304540' id='490113'>
<a class='timestamp' href='#490113'><time timestamp='2016-08-27T13:29:00Z'>13:29</time></a>
&lt;<span class='nick nick-6'> GitHub62</span>&gt;
[bitcoin] sipa opened pull request #8611: Reduce default number of blocks to check at startup (master...fastcheck) <a href="https://github.com/bitcoin/bitcoin/pull/8611" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8611</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1472304840' id='490114'>
<a class='timestamp' href='#490114'><time timestamp='2016-08-27T13:34:00Z'>13:34</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
sipa, #8610 instead of doing that can you add a framework for limiting memory globally?
<br>
</div>

<div class='talk op-msg' data-timestamp='1472304900' id='490115'>
<a class='timestamp' href='#490115'><time timestamp='2016-08-27T13:35:00Z'>13:35</time></a>
&lt;<span class='nick nick-13'> GitHub51</span>&gt;
[bitcoin] sipa opened pull request #8612: Check for compatibility with download in FindNextBlocksToDownload (master...fixwitban) <a href="https://github.com/bitcoin/bitcoin/pull/8612" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8612</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1472304900' id='490116'>
<a class='timestamp' href='#490116'><time timestamp='2016-08-27T13:35:00Z'>13:35</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
phantomcircuit: i don&#x27;t have 5 years
<br>
</div>

<div class='talk op-msg' data-timestamp='1472304900' id='490117'>
<a class='timestamp' href='#490117'><time timestamp='2016-08-27T13:35:00Z'>13:35</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
it can probably even be as simple as a global memory limit goal and percentages for now
<br>
</div>

<div class='talk op-msg' data-timestamp='1472304960' id='490118'>
<a class='timestamp' href='#490118'><time timestamp='2016-08-27T13:36:00Z'>13:36</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
percentages isn&#x27;t good enough
<br>
</div>

<div class='talk op-msg' data-timestamp='1472304960' id='490119'>
<a class='timestamp' href='#490119'><time timestamp='2016-08-27T13:36:00Z'>13:36</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
you need something that detects &quot;oh, the mempool actually does not need its maximum usage... let&#x27;s move some of its allocation elsewhere&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1472304960' id='490120'>
<a class='timestamp' href='#490120'><time timestamp='2016-08-27T13:36:00Z'>13:36</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but can change that back when the mempool grows
<br>
</div>

<div class='talk op-msg' data-timestamp='1472305020' id='490121'>
<a class='timestamp' href='#490121'><time timestamp='2016-08-27T13:37:00Z'>13:37</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
percentages and an atomic of how much everything thinks it&#x27;s using?
<br>
</div>

<div class='talk op-msg' data-timestamp='1472305020' id='490122'>
<a class='timestamp' href='#490122'><time timestamp='2016-08-27T13:37:00Z'>13:37</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
what does that solve?
<br>
</div>

<div class='talk op-msg' data-timestamp='1472305020' id='490123'>
<a class='timestamp' href='#490123'><time timestamp='2016-08-27T13:37:00Z'>13:37</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
&quot;usage is below 90% of limit i can exceed my limit&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1472305020' id='490124'>
<a class='timestamp' href='#490124'><time timestamp='2016-08-27T13:37:00Z'>13:37</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
i guess you need callbacks to apply memory pressure then
<br>
</div>

<div class='talk op-msg' data-timestamp='1472305020' id='490125'>
<a class='timestamp' href='#490125'><time timestamp='2016-08-27T13:37:00Z'>13:37</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yeah
<br>
</div>

<div class='talk op-msg' data-timestamp='1472305020' id='490126'>
<a class='timestamp' href='#490126'><time timestamp='2016-08-27T13:37:00Z'>13:37</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
but you need that for sharing memory at all
<br>
</div>

<div class='talk op-msg' data-timestamp='1472305080' id='490127'>
<a class='timestamp' href='#490127'><time timestamp='2016-08-27T13:38:00Z'>13:38</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
utxo set and mempool are things that are constantly checked anyway
<br>
</div>

<div class='talk op-msg' data-timestamp='1472305080' id='490128'>
<a class='timestamp' href='#490128'><time timestamp='2016-08-27T13:38:00Z'>13:38</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
what this PR implements is mempool &lt; maxmempool &amp;&amp; coincache + mempool &lt; maxtotal
<br>
</div>

<div class='talk op-msg' data-timestamp='1472305080' id='490129'>
<a class='timestamp' href='#490129'><time timestamp='2016-08-27T13:38:00Z'>13:38</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
so arguably it already has something like a global limit (though it&#x27;s just coincache + mempool)
<br>
</div>

<div class='talk op-msg' data-timestamp='1472305140' id='490130'>
<a class='timestamp' href='#490130'><time timestamp='2016-08-27T13:39:00Z'>13:39</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
the mempool has complicated semantics wrt computing relay fee based on its size
<br>
</div>

<div class='talk op-msg' data-timestamp='1472305140' id='490131'>
<a class='timestamp' href='#490131'><time timestamp='2016-08-27T13:39:00Z'>13:39</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
making its actual limit dynamic is harder, i think
<br>
</div>

<div class='talk op-msg' data-timestamp='1472305260' id='490132'>
<a class='timestamp' href='#490132'><time timestamp='2016-08-27T13:41:00Z'>13:41</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
also, i don&#x27;t think it&#x27;s needed to for example give your mempool 10 GB of memory even if you have 64 GB available... that&#x27;ll just make your memory a sewer for spam that nobody else on the network accepts
<br>
</div>

<div class='talk op-msg' data-timestamp='1472306460' id='490133'>
<a class='timestamp' href='#490133'><time timestamp='2016-08-27T14:01:00Z'>14:01</time></a>
&lt;<span class='nick nick-8'> GitHub42</span>&gt;
[bitcoin] sipa opened pull request #8613: [preview] LevelDB 1.19 (master...leveldb119) <a href="https://github.com/bitcoin/bitcoin/pull/8613" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8613</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1472327580' id='490134'>
<a class='timestamp' href='#490134'><time timestamp='2016-08-27T19:53:00Z'>19:53</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sipa: I think we should backport feeler connections. Beyond the security/robustness improvement, they&#x27;ll help reduce the harm of network density loss w/ segwit.
<br>
</div>

<div class='talk op-msg' data-timestamp='1472329080' id='490135'>
<a class='timestamp' href='#490135'><time timestamp='2016-08-27T20:18:00Z'>20:18</time></a>
&lt;<span class='nick nick-10'> GitHub126</span>&gt;
[bitcoin] luke-jr opened pull request #8617: Include instructions to extract Mac OS X SDK on Linux using 7zip and SleuthKit (master...gitian_osx_extractor) <a href="https://github.com/bitcoin/bitcoin/pull/8617" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8617</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1472329200' id='490136'>
<a class='timestamp' href='#490136'><time timestamp='2016-08-27T20:20:00Z'>20:20</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
sipa: so have you confirmed already that LevelDB 1.19 is reasonably certain to not have forking changes? or are you assuming we&#x27;ll do collectively that before merging/releasing?
<br>
</div>

<div class='talk op-msg' data-timestamp='1472329320' id='490137'>
<a class='timestamp' href='#490137'><time timestamp='2016-08-27T20:22:00Z'>20:22</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
luke-jr: i&#x27;m reasonably certain, yes, but i encourage review
<br>
</div>

<div class='talk op-msg' data-timestamp='1472329380' id='490138'>
<a class='timestamp' href='#490138'><time timestamp='2016-08-27T20:23:00Z'>20:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i&#x27;m just pring it to bitcoin already to make testing easier
<br>
</div>

</div>
</section>

</body>
</html>
