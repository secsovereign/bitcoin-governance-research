<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2019-05-24
 — 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2019-05-24' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:20 UTC</pre>
<pre><a href="/bitcoin-core-dev/2019-04-24">&lt;</a><span class='header'>     May 2019     </span><a href="/bitcoin-core-dev/2019-06-24">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;          <a class="" href="/bitcoin-core-dev/2019-05-01">1</a>  <a class="" href="/bitcoin-core-dev/2019-05-02">2</a>  <a class="" href="/bitcoin-core-dev/2019-05-03">3</a>  <a class="" href="/bitcoin-core-dev/2019-05-04">4</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2019-05-05">5</a>  <a class="" href="/bitcoin-core-dev/2019-05-06">6</a>  <a class="" href="/bitcoin-core-dev/2019-05-07">7</a>  <a class="" href="/bitcoin-core-dev/2019-05-08">8</a>  <a class="" href="/bitcoin-core-dev/2019-05-09">9</a> <a class="" href="/bitcoin-core-dev/2019-05-10">10</a> <a class="" href="/bitcoin-core-dev/2019-05-11">11</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2019-05-12">12</a> <a class="" href="/bitcoin-core-dev/2019-05-13">13</a> <a class="" href="/bitcoin-core-dev/2019-05-14">14</a> <a class="" href="/bitcoin-core-dev/2019-05-15">15</a> <a class="" href="/bitcoin-core-dev/2019-05-16">16</a> <a class="" href="/bitcoin-core-dev/2019-05-17">17</a> <a class="" href="/bitcoin-core-dev/2019-05-18">18</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2019-05-19">19</a> <a class="" href="/bitcoin-core-dev/2019-05-20">20</a> <a class="" href="/bitcoin-core-dev/2019-05-21">21</a> <a class="" href="/bitcoin-core-dev/2019-05-22">22</a> <a class="" href="/bitcoin-core-dev/2019-05-23">23</a> <a class="current" href="/bitcoin-core-dev/2019-05-24">24</a> <a class="" href="/bitcoin-core-dev/2019-05-25">25</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2019-05-26">26</a> <a class="" href="/bitcoin-core-dev/2019-05-27">27</a> <a class="" href="/bitcoin-core-dev/2019-05-28">28</a> <a class="" href="/bitcoin-core-dev/2019-05-29">29</a> <a class="" href="/bitcoin-core-dev/2019-05-30">30</a> <a class="" href="/bitcoin-core-dev/2019-05-31">31</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1558657140' id='667685'>
<a class='timestamp' href='#667685'><time timestamp='2019-05-24T00:19:00Z'>00:19</time></a>
&lt;<span class='nick nick-3'> ahmed_</span>&gt;
is this chan alive?
<br>
</div>

<div class='talk op-msg' data-timestamp='1558657260' id='667686'>
<a class='timestamp' href='#667686'><time timestamp='2019-05-24T00:21:00Z'>00:21</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
ahmed_: yes, very
<br>
</div>

<div class='talk op-msg' data-timestamp='1558657260' id='667687'>
<a class='timestamp' href='#667687'><time timestamp='2019-05-24T00:21:00Z'>00:21</time></a>
&lt;<span class='nick nick-3'> ahmed_</span>&gt;
aye awesome
<br>
</div>

<div class='talk op-msg' data-timestamp='1558657260' id='667688'>
<a class='timestamp' href='#667688'><time timestamp='2019-05-24T00:21:00Z'>00:21</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
ahmed_: see the logs in the topic.
<br>
</div>

<div class='talk op-msg' data-timestamp='1558657260' id='667689'>
<a class='timestamp' href='#667689'><time timestamp='2019-05-24T00:21:00Z'>00:21</time></a>
&lt;<span class='nick nick-3'> ahmed_</span>&gt;
just checking since #bitcoin-dev is dead haha
<br>
</div>

<div class='talk op-msg' data-timestamp='1558657320' id='667690'>
<a class='timestamp' href='#667690'><time timestamp='2019-05-24T00:22:00Z'>00:22</time></a>
&lt;<span class='nick nick-3'> ahmed_</span>&gt;
hi guysquick question for anyone familiar with mining/asicboost 
<br>
</div>

<div class='talk op-msg' data-timestamp='1558657320' id='667691'>
<a class='timestamp' href='#667691'><time timestamp='2019-05-24T00:22:00Z'>00:22</time></a>
&lt;<span class='nick nick-3'> ahmed_</span>&gt;
01:17 I&#x27;ve looked at the spec, but i cant seem to get any miners to accept it
<br>
</div>

<div class='talk op-msg' data-timestamp='1558657320' id='667692'>
<a class='timestamp' href='#667692'><time timestamp='2019-05-24T00:22:00Z'>00:22</time></a>
&lt;<span class='nick nick-3'> ahmed_</span>&gt;
01:17 here is what im doing
<br>
</div>

<div class='talk op-msg' data-timestamp='1558657320' id='667693'>
<a class='timestamp' href='#667693'><time timestamp='2019-05-24T00:22:00Z'>00:22</time></a>
&lt;<span class='nick nick-3'> ahmed_</span>&gt;
01:20 <a href="https://gist.github.com/ahmedbodi/3f05ba501cfe1201b8cc7fe7e10496c3" class="link" target="_blank">https://gist.github.com/ahmedbodi/3f05ba501cfe1201b8cc7fe7e10496c3</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1558657560' id='667694'>
<a class='timestamp' href='#667694'><time timestamp='2019-05-24T00:26:00Z'>00:26</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
sorry, don&#x27;t know anything about it. You might want to try reaching out to the document author, or contacting slushpool?
<br>
</div>

<div class='talk op-msg' data-timestamp='1558657620' id='667695'>
<a class='timestamp' href='#667695'><time timestamp='2019-05-24T00:27:00Z'>00:27</time></a>
&lt;<span class='nick nick-3'> ahmed_</span>&gt;
all good. i&#x27;ve looked at the spec that&#x27;s been creating and i&#x27;ve followed it to the T
<br>
</div>

<div class='talk op-msg' data-timestamp='1558657620' id='667696'>
<a class='timestamp' href='#667696'><time timestamp='2019-05-24T00:27:00Z'>00:27</time></a>
&lt;<span class='nick nick-3'> ahmed_</span>&gt;
so unless something is different im not quite sure myself either
<br>
</div>

<div class='talk op-msg' data-timestamp='1558657620' id='667697'>
<a class='timestamp' href='#667697'><time timestamp='2019-05-24T00:27:00Z'>00:27</time></a>
&lt;<span class='nick nick-6'> jb55</span>&gt;
should walletnotify pass the wallet name? just noticed my emailer was failing: it was calling gettransaction with the wrong -rpcwallet when fetching the tx inside the walletnotify script
<br>
</div>

<div class='talk op-msg' data-timestamp='1558658040' id='667698'>
<a class='timestamp' href='#667698'><time timestamp='2019-05-24T00:34:00Z'>00:34</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jb55: i think walletnotify doesn&#x27;t pass the wallet name at all
<br>
</div>

<div class='talk op-msg' data-timestamp='1558658100' id='667699'>
<a class='timestamp' href='#667699'><time timestamp='2019-05-24T00:35:00Z'>00:35</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
there is 
<br>
</div>

<div class='talk op-msg' data-timestamp='1558658100' id='667700'>
<a class='timestamp' href='#667700'><time timestamp='2019-05-24T00:35:00Z'>00:35</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/pull/13339" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/13339</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1558658700' id='667701'>
<a class='timestamp' href='#667701'><time timestamp='2019-05-24T00:45:00Z'>00:45</time></a>
&lt;<span class='nick nick-6'> jb55</span>&gt;
I need dis
<br>
</div>

<div class='talk op-msg' data-timestamp='1558658760' id='667702'>
<a class='timestamp' href='#667702'><time timestamp='2019-05-24T00:46:00Z'>00:46</time></a>
&lt;<span class='nick nick-6'> jb55</span>&gt;
sipa: thx
<br>
</div>

<div class='talk op-msg' data-timestamp='1558663320' id='667703'>
<a class='timestamp' href='#667703'><time timestamp='2019-05-24T02:02:00Z'>02:02</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
MarcoFalke: Would you care to offer a version of #15983 up to upstream libsecp256k1? (mindful of CFLAGS vs CXXFLAGS).  If you don&#x27;t have time, thats okay. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1558663320' id='667704'>
<a class='timestamp' href='#667704'><time timestamp='2019-05-24T02:02:00Z'>02:02</time></a>
&lt;<span class='nick nick-9'> gribble</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/issues/15983" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/15983</a> | build with -fstack-reuse=none by MarcoFalke · Pull Request #15983 · bitcoin/bitcoin · GitHub
<br>
</div>

<div class='talk op-msg' data-timestamp='1558678260' id='667705'>
<a class='timestamp' href='#667705'><time timestamp='2019-05-24T06:11:00Z'>06:11</time></a>
&lt;<span class='nick nick-11'> kallewoof</span>&gt;
achow101: Would be great if you could check <a href="https://github.com/bitcoin/bitcoin/pull/13756#discussion_r285767473" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/13756#discussion_r285767473</a> when you have some time.
<br>
</div>

<div class='talk op-msg' data-timestamp='1558694940' id='667706'>
<a class='timestamp' href='#667706'><time timestamp='2019-05-24T10:49:00Z'>10:49</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke pushed 3 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/fe47ae168b57...854ffcae807d" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/fe47ae168b57...854ffcae807d</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1558694940' id='667707'>
<a class='timestamp' href='#667707'><time timestamp='2019-05-24T10:49:00Z'>10:49</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master a65dafa LongShao007: replace tx hash with txid in test rawtransaction
<br>
</div>

<div class='talk op-msg' data-timestamp='1558694940' id='667708'>
<a class='timestamp' href='#667708'><time timestamp='2019-05-24T10:49:00Z'>10:49</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 0784af1 LongShao007: remove parameters -addresstype=legacy in rpc_rawtransaction test
<br>
</div>

<div class='talk op-msg' data-timestamp='1558694940' id='667709'>
<a class='timestamp' href='#667709'><time timestamp='2019-05-24T10:49:00Z'>10:49</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 854ffca MarcoFalke: Merge #16078: test: replace tx hash with txid in rawtransaction test
<br>
</div>

<div class='talk op-msg' data-timestamp='1558695000' id='667710'>
<a class='timestamp' href='#667710'><time timestamp='2019-05-24T10:50:00Z'>10:50</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke merged pull request #16078: test: replace tx hash with txid in rawtransaction test (master...pytest) <a href="https://github.com/bitcoin/bitcoin/pull/16078" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/16078</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1558695780' id='667711'>
<a class='timestamp' href='#667711'><time timestamp='2019-05-24T11:03:00Z'>11:03</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke pushed 3 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/854ffcae807d...63b9efa73d6b" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/854ffcae807d...63b9efa73d6b</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1558695780' id='667712'>
<a class='timestamp' href='#667712'><time timestamp='2019-05-24T11:03:00Z'>11:03</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master fa6ad7a MarcoFalke: test: Bump MAX_NODES to 12
<br>
</div>

<div class='talk op-msg' data-timestamp='1558695780' id='667713'>
<a class='timestamp' href='#667713'><time timestamp='2019-05-24T11:03:00Z'>11:03</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master fa47330 MarcoFalke: test: Speed up cache creation
<br>
</div>

<div class='talk op-msg' data-timestamp='1558695780' id='667714'>
<a class='timestamp' href='#667714'><time timestamp='2019-05-24T11:03:00Z'>11:03</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 63b9efa MarcoFalke: Merge #16042: test: Bump MAX_NODES to 12
<br>
</div>

<div class='talk op-msg' data-timestamp='1558695840' id='667715'>
<a class='timestamp' href='#667715'><time timestamp='2019-05-24T11:04:00Z'>11:04</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke merged pull request #16042: test: Bump MAX_NODES to 12 (master...1905-testMaxNodes) <a href="https://github.com/bitcoin/bitcoin/pull/16042" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/16042</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1558707120' id='667716'>
<a class='timestamp' href='#667716'><time timestamp='2019-05-24T14:12:00Z'>14:12</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] FelixWeis opened pull request #16083: [WIP] transaction fees in getblock (master...201905_grt_prevout) <a href="https://github.com/bitcoin/bitcoin/pull/16083" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/16083</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1558707900' id='667717'>
<a class='timestamp' href='#667717'><time timestamp='2019-05-24T14:25:00Z'>14:25</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] practicalswift opened pull request #16084: scripted-diff: Complete the move from CCriticalSection to identical RecursiveMutex (both are AnnotatedMixin&lt;std::recursive_mutex&gt;) (master...recursive-mutex) <a href="https://github.com/bitcoin/bitcoin/pull/16084" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/16084</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1558724460' id='667718'>
<a class='timestamp' href='#667718'><time timestamp='2019-05-24T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
wallet meeting?
<br>
</div>

<div class='talk op-msg' data-timestamp='1558724580' id='667719'>
<a class='timestamp' href='#667719'><time timestamp='2019-05-24T19:03:00Z'>19:03</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1558724640' id='667720'>
<a class='timestamp' href='#667720'><time timestamp='2019-05-24T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1558724760' id='667721'>
<a class='timestamp' href='#667721'><time timestamp='2019-05-24T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-4'> kanzure</span>&gt;
hi
<br>
</div>

<div class='talk op-msg' data-timestamp='1558725180' id='667722'>
<a class='timestamp' href='#667722'><time timestamp='2019-05-24T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
no quorum, i think?
<br>
</div>

<div class='talk op-msg' data-timestamp='1558725720' id='667723'>
<a class='timestamp' href='#667723'><time timestamp='2019-05-24T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-16'> jnewbery</span>&gt;
i think you&#x27;re right
<br>
</div>

<div class='talk op-msg' data-timestamp='1558727700' id='667724'>
<a class='timestamp' href='#667724'><time timestamp='2019-05-24T19:55:00Z'>19:55</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] fanquake opened pull request #16086: contrib: use newer config.guess &amp; config.sub in install_db4.sh (master...db4_install_new_config_guess_sub) <a href="https://github.com/bitcoin/bitcoin/pull/16086" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/16086</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1558728000' id='667725'>
<a class='timestamp' href='#667725'><time timestamp='2019-05-24T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
long holiday weekend in US at least :) 
<br>
</div>

<div class='talk op-msg' data-timestamp='1558733280' id='667726'>
<a class='timestamp' href='#667726'><time timestamp='2019-05-24T21:28:00Z'>21:28</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
Is there a reason sendheaders would not be working on bitcoin 0.16.3 or 0.17.1? I&#x27;m generating a block in regtest mode and it appears that the header is not being relayed. I have sent the &#x27;sendheaders&#x27; message to the regtest bitcoind node
<br>
</div>

<div class='talk op-msg' data-timestamp='1558733340' id='667727'>
<a class='timestamp' href='#667727'><time timestamp='2019-05-24T21:29:00Z'>21:29</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
There is this section in BIP130, which is a little unclear to me &quot;Upon receipt of a &quot;sendheaders&quot; message, the node will be permitted, but not required, to announce new blocks by sending the header of the new block (along with any other blocks that a node believes a peer might need in order for the block to connect).&quot; 
<br>
</div>

<div class='talk op-msg' data-timestamp='1558733340' id='667728'>
<a class='timestamp' href='#667728'><time timestamp='2019-05-24T21:29:00Z'>21:29</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
sdaftuar: ^ 
<br>
</div>

<div class='talk op-msg' data-timestamp='1558733400' id='667729'>
<a class='timestamp' href='#667729'><time timestamp='2019-05-24T21:30:00Z'>21:30</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
Chris_Stewart_5: do you announce segwit support?
<br>
</div>

<div class='talk op-msg' data-timestamp='1558733400' id='667730'>
<a class='timestamp' href='#667730'><time timestamp='2019-05-24T21:30:00Z'>21:30</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
Hmm.. no i don&#x27;t believe I do. Is that in a protocol version? 
<br>
</div>

<div class='talk op-msg' data-timestamp='1558733400' id='667731'>
<a class='timestamp' href='#667731'><time timestamp='2019-05-24T21:30:00Z'>21:30</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
we don&#x27;t care about blocks announced by non-segwit peers, as they&#x27;d be missing witnesses
<br>
</div>

<div class='talk op-msg' data-timestamp='1558733460' id='667732'>
<a class='timestamp' href='#667732'><time timestamp='2019-05-24T21:31:00Z'>21:31</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
NODE_WITNESS service flag
<br>
</div>

<div class='talk op-msg' data-timestamp='1558733460' id='667733'>
<a class='timestamp' href='#667733'><time timestamp='2019-05-24T21:31:00Z'>21:31</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
i&#x27;m trying to get a lite client to receive headers messages, so i&#x27;m a bit confused as to why that would be necessary? 
<br>
</div>

<div class='talk op-msg' data-timestamp='1558733520' id='667734'>
<a class='timestamp' href='#667734'><time timestamp='2019-05-24T21:32:00Z'>21:32</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ah
<br>
</div>

<div class='talk op-msg' data-timestamp='1558733520' id='667735'>
<a class='timestamp' href='#667735'><time timestamp='2019-05-24T21:32:00Z'>21:32</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
oops, i got things backwards then
<br>
</div>

<div class='talk op-msg' data-timestamp='1558733520' id='667736'>
<a class='timestamp' href='#667736'><time timestamp='2019-05-24T21:32:00Z'>21:32</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
it&#x27;s stock bitcoind announcing the block, i&#x27;ve tried 0.16.3 and 0.17.1 to just to make sure there isn&#x27;t some weirdness in versions
<br>
</div>

<div class='talk op-msg' data-timestamp='1558733520' id='667737'>
<a class='timestamp' href='#667737'><time timestamp='2019-05-24T21:32:00Z'>21:32</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
what protocol version do you announce?
<br>
</div>

<div class='talk op-msg' data-timestamp='1558733580' id='667738'>
<a class='timestamp' href='#667738'><time timestamp='2019-05-24T21:33:00Z'>21:33</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
&#x27;ProtocolVersion70013&#x27;
<br>
</div>

<div class='talk op-msg' data-timestamp='1558733580' id='667739'>
<a class='timestamp' href='#667739'><time timestamp='2019-05-24T21:33:00Z'>21:33</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
I do receive the header via an inv
<br>
</div>

<div class='talk op-msg' data-timestamp='1558733640' id='667740'>
<a class='timestamp' href='#667740'><time timestamp='2019-05-24T21:34:00Z'>21:34</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
which is painful to try and fetch, AFAICT I need to use a &#x27;getdata&#x27; and retrieve the full block (seems like i might be missing something here, though.)
<br>
</div>

<div class='talk op-msg' data-timestamp='1558733700' id='667741'>
<a class='timestamp' href='#667741'><time timestamp='2019-05-24T21:35:00Z'>21:35</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
IIRC announcing via headers is also only done when the node believes it&#x27;s up to date
<br>
</div>

<div class='talk op-msg' data-timestamp='1558733760' id='667742'>
<a class='timestamp' href='#667742'><time timestamp='2019-05-24T21:36:00Z'>21:36</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
so if there isn&#x27;t some history of IBD it just announces via inv? 
<br>
</div>

<div class='talk op-msg' data-timestamp='1558733760' id='667743'>
<a class='timestamp' href='#667743'><time timestamp='2019-05-24T21:36:00Z'>21:36</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i don
<br>
</div>

<div class='talk op-msg' data-timestamp='1558733760' id='667744'>
<a class='timestamp' href='#667744'><time timestamp='2019-05-24T21:36:00Z'>21:36</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i don&#x27;t remember the details
<br>
</div>

<div class='talk op-msg' data-timestamp='1558733760' id='667745'>
<a class='timestamp' href='#667745'><time timestamp='2019-05-24T21:36:00Z'>21:36</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but as sendheaders is only useful for block relay at the tip (not during IBD), it&#x27;s not used when the node believes it&#x27;s in IBD
<br>
</div>

<div class='talk op-msg' data-timestamp='1558733820' id='667746'>
<a class='timestamp' href='#667746'><time timestamp='2019-05-24T21:37:00Z'>21:37</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
ok, well i&#x27;ll investigate. I&#x27;ll follow up when i get to the bottom of it
<br>
</div>

<div class='talk op-msg' data-timestamp='1558733820' id='667747'>
<a class='timestamp' href='#667747'><time timestamp='2019-05-24T21:37:00Z'>21:37</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
Yeah, this is in a test case situation where i want to do basic sanity tests for a lite client where i am generating blocks off of the genesis block, so it is a bit contrived
<br>
</div>

<div class='talk op-msg' data-timestamp='1558734780' id='667748'>
<a class='timestamp' href='#667748'><time timestamp='2019-05-24T21:53:00Z'>21:53</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
Chris_Stewart_5: we only announce via headers if we think our peer has the previous block header (or rather, is missing fewer than I think headers from the tip)
<br>
</div>

<div class='talk op-msg' data-timestamp='1558734780' id='667749'>
<a class='timestamp' href='#667749'><time timestamp='2019-05-24T21:53:00Z'>21:53</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
er, missing fewer than 8 headers
<br>
</div>

<div class='talk op-msg' data-timestamp='1558734840' id='667750'>
<a class='timestamp' href='#667750'><time timestamp='2019-05-24T21:54:00Z'>21:54</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
if you announce the current tip to the node, then the node will figure out you have the latest tip, and subsequent blocks should be announced via header
<br>
</div>

<div class='talk op-msg' data-timestamp='1558734960' id='667751'>
<a class='timestamp' href='#667751'><time timestamp='2019-05-24T21:56:00Z'>21:56</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
Is there any downside in just announcing your best hash when fire up your node? I&#x27;m guessing this information is pretty easy to discern any way when you send your first get headers message
<br>
</div>

<div class='talk op-msg' data-timestamp='1558734960' id='667752'>
<a class='timestamp' href='#667752'><time timestamp='2019-05-24T21:56:00Z'>21:56</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
if i remember correctly, the way this normally works in regular operation is that peers either (a) respond to our getheaders message that we send to every peer at least once, (b) send us a getheaders message, or (c) announce a block to us
<br>
</div>

<div class='talk op-msg' data-timestamp='1558735020' id='667753'>
<a class='timestamp' href='#667753'><time timestamp='2019-05-24T21:57:00Z'>21:57</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
Chris_Stewart_5: well i think in theory you shouldn&#x27;t announce a block hash if you&#x27;re not going to provide the block upon request
<br>
</div>

<div class='talk op-msg' data-timestamp='1558735080' id='667754'>
<a class='timestamp' href='#667754'><time timestamp='2019-05-24T21:58:00Z'>21:58</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
You shouldn&#x27;t ^
<br>
</div>

<div class='talk op-msg' data-timestamp='1558735080' id='667755'>
<a class='timestamp' href='#667755'><time timestamp='2019-05-24T21:58:00Z'>21:58</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
so what i should have said is, send a getheaders message with a locator constructed from the chain you have
<br>
</div>

<div class='talk op-msg' data-timestamp='1558735080' id='667756'>
<a class='timestamp' href='#667756'><time timestamp='2019-05-24T21:58:00Z'>21:58</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
or respond to the one that the node sends you
<br>
</div>

<div class='talk op-msg' data-timestamp='1558735200' id='667757'>
<a class='timestamp' href='#667757'><time timestamp='2019-05-24T22:00:00Z'>22:00</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
now that i think about it, responding to the one the node sends you is actually not what light clients should do, as then we&#x27;ll think we can download what they have?  hmm
<br>
</div>

<div class='talk op-msg' data-timestamp='1558735200' id='667758'>
<a class='timestamp' href='#667758'><time timestamp='2019-05-24T22:00:00Z'>22:00</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
might be some suboptimal stuff happening there
<br>
</div>

<div class='talk op-msg' data-timestamp='1558735260' id='667759'>
<a class='timestamp' href='#667759'><time timestamp='2019-05-24T22:01:00Z'>22:01</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
So AFAICT flow from a lite client perspective is 1. Receive inv 2. Call &#x27;getblock&#x27; 3. Discard everything in getblock besides header
<br>
</div>

<div class='talk op-msg' data-timestamp='1558735260' id='667760'>
<a class='timestamp' href='#667760'><time timestamp='2019-05-24T22:01:00Z'>22:01</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
if you haven&#x27;t communicated with your peer yet and announced your best hash with inv which seems to be discouraged
<br>
</div>

<div class='talk op-msg' data-timestamp='1558735380' id='667761'>
<a class='timestamp' href='#667761'><time timestamp='2019-05-24T22:03:00Z'>22:03</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
Chris_Stewart_5: just send a getheaders instead of a getblock
<br>
</div>

<div class='talk op-msg' data-timestamp='1558735440' id='667762'>
<a class='timestamp' href='#667762'><time timestamp='2019-05-24T22:04:00Z'>22:04</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
that will result in you getting the header and in being in sync with the node so that future block announcements will be via header
<br>
</div>

<div class='talk op-msg' data-timestamp='1558735500' id='667763'>
<a class='timestamp' href='#667763'><time timestamp='2019-05-24T22:05:00Z'>22:05</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
yes... let me look over my code again to make sure i&#x27;m not footgunning myself some where. That is what i am attempting to do now though. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1558735800' id='667764'>
<a class='timestamp' href='#667764'><time timestamp='2019-05-24T22:10:00Z'>22:10</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
yep that worked. I was missing that getheaders call. Thanks! 
<br>
</div>

<div class='talk op-msg' data-timestamp='1558738800' id='667765'>
<a class='timestamp' href='#667765'><time timestamp='2019-05-24T23:00:00Z'>23:00</time></a>
&lt;<span class='nick nick-6'> jb55</span>&gt;
sipa achow101: should importmulti work without the output descriptor checksum? it seems like it gets a non descriptive error message if it&#x27;s missing atm.
<br>
</div>

<div class='talk op-msg' data-timestamp='1558738860' id='667766'>
<a class='timestamp' href='#667766'><time timestamp='2019-05-24T23:01:00Z'>23:01</time></a>
&lt;<span class='nick nick-6'> jb55</span>&gt;
took me awhile to figure out what was wrong
<br>
</div>

<div class='talk op-msg' data-timestamp='1558738860' id='667767'>
<a class='timestamp' href='#667767'><time timestamp='2019-05-24T23:01:00Z'>23:01</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
jb55: no, checksum is required for imports
<br>
</div>

<div class='talk op-msg' data-timestamp='1558738920' id='667768'>
<a class='timestamp' href='#667768'><time timestamp='2019-05-24T23:02:00Z'>23:02</time></a>
&lt;<span class='nick nick-6'> jb55</span>&gt;
achow101: I ended up just doing getdescriptorinfo so it seems like it could be done for you... 
<br>
</div>

<div class='talk op-msg' data-timestamp='1558738920' id='667769'>
<a class='timestamp' href='#667769'><time timestamp='2019-05-24T23:02:00Z'>23:02</time></a>
&lt;<span class='nick nick-6'> jb55</span>&gt;
not sure if that&#x27;s a good idea though...
<br>
</div>

<div class='talk op-msg' data-timestamp='1558738920' id='667770'>
<a class='timestamp' href='#667770'><time timestamp='2019-05-24T23:02:00Z'>23:02</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
jb55: it&#x27;s for integrity checks
<br>
</div>

<div class='talk op-msg' data-timestamp='1558738920' id='667771'>
<a class='timestamp' href='#667771'><time timestamp='2019-05-24T23:02:00Z'>23:02</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jb55: the point is that you&#x27;ll generally import things you receive from other people; hopefully they will add the checksum, not you
<br>
</div>

<div class='talk op-msg' data-timestamp='1558738980' id='667772'>
<a class='timestamp' href='#667772'><time timestamp='2019-05-24T23:03:00Z'>23:03</time></a>
&lt;<span class='nick nick-6'> jb55</span>&gt;
yeah I&#x27;ll just get my clightning key export tool to add those then
<br>
</div>

<div class='talk op-msg' data-timestamp='1558738980' id='667773'>
<a class='timestamp' href='#667773'><time timestamp='2019-05-24T23:03:00Z'>23:03</time></a>
&lt;<span class='nick nick-6'> jb55</span>&gt;
testing out the combo descriptor now
<br>
</div>

<div class='talk op-msg' data-timestamp='1558738980' id='667774'>
<a class='timestamp' href='#667774'><time timestamp='2019-05-24T23:03:00Z'>23:03</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jb55: <a href="https://github.com/bitcoin/bitcoin/blob/master/test/functional/test_framework/descriptors.py#L7L44" class="link" target="_blank">https://github.com/bitcoin/bitcoin/blob/master/test/functional/test_framework/descriptors.py#L7L44</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1558739040' id='667775'>
<a class='timestamp' href='#667775'><time timestamp='2019-05-24T23:04:00Z'>23:04</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
is probably the easiest to read description of the checksum algorithm
<br>
</div>

<div class='talk op-msg' data-timestamp='1558739040' id='667776'>
<a class='timestamp' href='#667776'><time timestamp='2019-05-24T23:04:00Z'>23:04</time></a>
&lt;<span class='nick nick-6'> jb55</span>&gt;
sipa: thx. my tool is in c, but it doesn&#x27;t look like it would be too hard to convert...
<br>
</div>

<div class='talk op-msg' data-timestamp='1558739160' id='667777'>
<a class='timestamp' href='#667777'><time timestamp='2019-05-24T23:06:00Z'>23:06</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jb55: in that case, maybe start from <a href="https://github.com/bitcoin/bitcoin/blob/master/src/script/descriptor.cpp#L81L138" class="link" target="_blank">https://github.com/bitcoin/bitcoin/blob/master/src/script/descriptor.cpp#L81L138</a> :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1558739220' id='667778'>
<a class='timestamp' href='#667778'><time timestamp='2019-05-24T23:07:00Z'>23:07</time></a>
&lt;<span class='nick nick-6'> jb55</span>&gt;
great! c-- time.
<br>
</div>

</div>
</section>

</body>
</html>
