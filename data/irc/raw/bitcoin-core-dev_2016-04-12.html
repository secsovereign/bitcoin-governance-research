<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2016-04-12
 — 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2016-04-12' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:27 UTC</pre>
<pre><a href="/bitcoin-core-dev/2016-03-12">&lt;</a><span class='header'>    April 2016    </span><a href="/bitcoin-core-dev/2016-05-12">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;                <a class="" href="/bitcoin-core-dev/2016-04-01">1</a>  <a class="" href="/bitcoin-core-dev/2016-04-02">2</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2016-04-03">3</a>  <a class="" href="/bitcoin-core-dev/2016-04-04">4</a>  <a class="" href="/bitcoin-core-dev/2016-04-05">5</a>  <a class="" href="/bitcoin-core-dev/2016-04-06">6</a>  <a class="" href="/bitcoin-core-dev/2016-04-07">7</a>  <a class="" href="/bitcoin-core-dev/2016-04-08">8</a>  <a class="" href="/bitcoin-core-dev/2016-04-09">9</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2016-04-10">10</a> <a class="" href="/bitcoin-core-dev/2016-04-11">11</a> <a class="current" href="/bitcoin-core-dev/2016-04-12">12</a> <a class="" href="/bitcoin-core-dev/2016-04-13">13</a> <a class="" href="/bitcoin-core-dev/2016-04-14">14</a> <a class="" href="/bitcoin-core-dev/2016-04-15">15</a> <a class="" href="/bitcoin-core-dev/2016-04-16">16</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2016-04-17">17</a> <a class="" href="/bitcoin-core-dev/2016-04-18">18</a> <a class="" href="/bitcoin-core-dev/2016-04-19">19</a> <a class="" href="/bitcoin-core-dev/2016-04-20">20</a> <a class="" href="/bitcoin-core-dev/2016-04-21">21</a> <a class="" href="/bitcoin-core-dev/2016-04-22">22</a> <a class="" href="/bitcoin-core-dev/2016-04-23">23</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2016-04-24">24</a> <a class="" href="/bitcoin-core-dev/2016-04-25">25</a> <a class="" href="/bitcoin-core-dev/2016-04-26">26</a> <a class="" href="/bitcoin-core-dev/2016-04-27">27</a> <a class="" href="/bitcoin-core-dev/2016-04-28">28</a> <a class="" href="/bitcoin-core-dev/2016-04-29">29</a> <a class="" href="/bitcoin-core-dev/2016-04-30">30</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1460420820' id='462522'>
<a class='timestamp' href='#462522'><time timestamp='2016-04-12T00:27:00Z'>00:27</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
instagibbs: Do you think it could be used to implement some sort of waiting mechanism in a while loop eventually? I get that looping is currently disabled but if it is brought back an OP_NOP could be useful
<br>
</div>

<div class='talk op-msg' data-timestamp='1460420880' id='462523'>
<a class='timestamp' href='#462523'><time timestamp='2016-04-12T00:28:00Z'>00:28</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
no.
<br>
</div>

<div class='talk op-msg' data-timestamp='1460420940' id='462524'>
<a class='timestamp' href='#462524'><time timestamp='2016-04-12T00:29:00Z'>00:29</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Chris_Stewart_5: nops were <u>_never_</u> a &#x27;waiting&#x27; mechenism, they were explicitly added for forward extensibility.
<br>
</div>

<div class='talk op-msg' data-timestamp='1460421000' id='462525'>
<a class='timestamp' href='#462525'><time timestamp='2016-04-12T00:30:00Z'>00:30</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
gmaxwell: Back to my original question then, why is OP_NOP treated differently than the other OP_NOPs, specifically why is allowed by the DISCOURAGE_UPGRADABLE_NOPS flag? 
<br>
</div>

<div class='talk op-msg' data-timestamp='1460425260' id='462526'>
<a class='timestamp' href='#462526'><time timestamp='2016-04-12T01:41:00Z'>01:41</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
Chris_Stewart_5: because there were already people creating them in the network.
<br>
</div>

<div class='talk op-msg' data-timestamp='1460438340' id='462527'>
<a class='timestamp' href='#462527'><time timestamp='2016-04-12T05:19:00Z'>05:19</time></a>
&lt;<span class='nick nick-7'> Guest2012</span>&gt;
d
<br>
</div>

<div class='talk op-msg' data-timestamp='1460442300' id='462528'>
<a class='timestamp' href='#462528'><time timestamp='2016-04-12T06:25:00Z'>06:25</time></a>
&lt;<span class='nick nick-3'> GitHub99</span>&gt;
[bitcoin] rustyrussell opened pull request #7863: getblockchaininfo: make bip9_softforks an object, not an array. (master...bip9-status-as-object) <a href="https://github.com/bitcoin/bitcoin/pull/7863" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/7863</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1460455680' id='462529'>
<a class='timestamp' href='#462529'><time timestamp='2016-04-12T10:08:00Z'>10:08</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
hmm...
<br>
</div>

<div class='talk op-msg' data-timestamp='1460455740' id='462530'>
<a class='timestamp' href='#462530'><time timestamp='2016-04-12T10:09:00Z'>10:09</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sync_mempool() in the RPC tests does actually check the order of the transaction in the mempool
<br>
</div>

<div class='talk op-msg' data-timestamp='1460455800' id='462531'>
<a class='timestamp' href='#462531'><time timestamp='2016-04-12T10:10:00Z'>10:10</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
replacing with RBF seems to result in different orders in the mempools.
<br>
</div>

<div class='talk op-msg' data-timestamp='1460455860' id='462532'>
<a class='timestamp' href='#462532'><time timestamp='2016-04-12T10:11:00Z'>10:11</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
And sync_mempool only proceeds if the mempool set is <u>_identical_</u>
<br>
</div>

<div class='talk op-msg' data-timestamp='1460456280' id='462533'>
<a class='timestamp' href='#462533'><time timestamp='2016-04-12T10:18:00Z'>10:18</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
A test for bitcoin core slavishly enforcing exact behavior? It couldn&#x27;t be!
<br>
</div>

<div class='talk op-msg' data-timestamp='1460456520' id='462534'>
<a class='timestamp' href='#462534'><time timestamp='2016-04-12T10:22:00Z'>10:22</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
gmaxwell is right (as always). My debugging is wrong (as always).
<br>
</div>

<div class='talk op-msg' data-timestamp='1460456580' id='462535'>
<a class='timestamp' href='#462535'><time timestamp='2016-04-12T10:23:00Z'>10:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
those sync_* functions in the test could probably just be replaced with a ping RPC and then observing getpeerinfo until the pong returns
<br>
</div>

<div class='talk op-msg' data-timestamp='1460458440' id='462536'>
<a class='timestamp' href='#462536'><time timestamp='2016-04-12T10:54:00Z'>10:54</time></a>
&lt;<span class='nick nick-12'> * jonasschnelli</span>&gt;
made a new personal sync record
<br>
</div>

<div class='talk op-msg' data-timestamp='1460458440' id='462537'>
<a class='timestamp' href='#462537'><time timestamp='2016-04-12T10:54:00Z'>10:54</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
lmdb?
<br>
</div>

<div class='talk op-msg' data-timestamp='1460458440' id='462538'>
<a class='timestamp' href='#462538'><time timestamp='2016-04-12T10:54:00Z'>10:54</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Sync from random peers in 2h and 20&#x27;.
<br>
</div>

<div class='talk op-msg' data-timestamp='1460458500' id='462539'>
<a class='timestamp' href='#462539'><time timestamp='2016-04-12T10:55:00Z'>10:55</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Lmdb will follow now... this is just the basepoint to compare after
<br>
</div>

<div class='talk op-msg' data-timestamp='1460458500' id='462540'>
<a class='timestamp' href='#462540'><time timestamp='2016-04-12T10:55:00Z'>10:55</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ok
<br>
</div>

<div class='talk op-msg' data-timestamp='1460458500' id='462541'>
<a class='timestamp' href='#462541'><time timestamp='2016-04-12T10:55:00Z'>10:55</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
sync from a random peer is very variable though
<br>
</div>

<div class='talk op-msg' data-timestamp='1460458500' id='462542'>
<a class='timestamp' href='#462542'><time timestamp='2016-04-12T10:55:00Z'>10:55</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
2h20&#x27; is standard --disable-debug
<br>
</div>

<div class='talk op-msg' data-timestamp='1460458560' id='462543'>
<a class='timestamp' href='#462543'><time timestamp='2016-04-12T10:56:00Z'>10:56</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sipa: Yes. I know,... i might connect to another node in the same net for performance benchmark...
<br>
</div>

<div class='talk op-msg' data-timestamp='1460458740' id='462544'>
<a class='timestamp' href='#462544'><time timestamp='2016-04-12T10:59:00Z'>10:59</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
hm. that sounds like something wrong.
<br>
</div>

<div class='talk op-msg' data-timestamp='1460458740' id='462545'>
<a class='timestamp' href='#462545'><time timestamp='2016-04-12T10:59:00Z'>10:59</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
since I have numbers substantially higher on very fast hosts with gbe between them. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1460458800' id='462546'>
<a class='timestamp' href='#462546'><time timestamp='2016-04-12T11:00:00Z'>11:00</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jonasschnelli: this test was not done over the daylight savings time switchover, right? :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1460458860' id='462547'>
<a class='timestamp' href='#462547'><time timestamp='2016-04-12T11:01:00Z'>11:01</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
no. Its just a brand new server.
<br>
</div>

<div class='talk op-msg' data-timestamp='1460458860' id='462548'>
<a class='timestamp' href='#462548'><time timestamp='2016-04-12T11:01:00Z'>11:01</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Intel(R) Xeon(R) CPU E3-1275 v5 @ 3.60GHz
<br>
</div>

<div class='talk op-msg' data-timestamp='1460458860' id='462549'>
<a class='timestamp' href='#462549'><time timestamp='2016-04-12T11:01:00Z'>11:01</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
64GB Ram and 1gb/s SSD
<br>
</div>

<div class='talk op-msg' data-timestamp='1460458860' id='462550'>
<a class='timestamp' href='#462550'><time timestamp='2016-04-12T11:01:00Z'>11:01</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
though, RAID 1
<br>
</div>

<div class='talk op-msg' data-timestamp='1460458860' id='462551'>
<a class='timestamp' href='#462551'><time timestamp='2016-04-12T11:01:00Z'>11:01</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
how high is dbcache?
<br>
</div>

<div class='talk op-msg' data-timestamp='1460458920' id='462552'>
<a class='timestamp' href='#462552'><time timestamp='2016-04-12T11:02:00Z'>11:02</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
./src/bitcoind --dbcache=8000 --maxmempoolsize=1000
<br>
</div>

<div class='talk op-msg' data-timestamp='1460458920' id='462553'>
<a class='timestamp' href='#462553'><time timestamp='2016-04-12T11:02:00Z'>11:02</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
the disk won&#x27;t matter in that case :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1460458920' id='462554'>
<a class='timestamp' href='#462554'><time timestamp='2016-04-12T11:02:00Z'>11:02</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Yes. Thats true.. maybe the log writing. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1460458920' id='462555'>
<a class='timestamp' href='#462555'><time timestamp='2016-04-12T11:02:00Z'>11:02</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
(because its so fast)
<br>
</div>

<div class='talk op-msg' data-timestamp='1460458980' id='462556'>
<a class='timestamp' href='#462556'><time timestamp='2016-04-12T11:03:00Z'>11:03</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
And the server is totally quite (&quot;nothing&quot; runs on it besides bitcoind)
<br>
</div>

<div class='talk op-msg' data-timestamp='1460459040' id='462557'>
<a class='timestamp' href='#462557'><time timestamp='2016-04-12T11:04:00Z'>11:04</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
quiet?
<br>
</div>

<div class='talk op-msg' data-timestamp='1460459100' id='462558'>
<a class='timestamp' href='#462558'><time timestamp='2016-04-12T11:05:00Z'>11:05</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
quite in terms of running applications
<br>
</div>

<div class='talk op-msg' data-timestamp='1460459760' id='462559'>
<a class='timestamp' href='#462559'><time timestamp='2016-04-12T11:16:00Z'>11:16</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
ah 3.6GHz. okay then that translates to my best number assuming we&#x27;re bottlenecked on a single core.
<br>
</div>

<div class='talk op-msg' data-timestamp='1460460120' id='462560'>
<a class='timestamp' href='#462560'><time timestamp='2016-04-12T11:22:00Z'>11:22</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
we really need better parallellism for validation across blocks...
<br>
</div>

<div class='talk op-msg' data-timestamp='1460460360' id='462561'>
<a class='timestamp' href='#462561'><time timestamp='2016-04-12T11:26:00Z'>11:26</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
(I have a benchmark time with big dbcache on the 24-core 2.4GHz host of about 3.5hr as of two days ago)
<br>
</div>

<div class='talk op-msg' data-timestamp='1460460360' id='462562'>
<a class='timestamp' href='#462562'><time timestamp='2016-04-12T11:26:00Z'>11:26</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
no real difference in speed local vs network.
<br>
</div>

<div class='talk op-msg' data-timestamp='1460460420' id='462563'>
<a class='timestamp' href='#462563'><time timestamp='2016-04-12T11:27:00Z'>11:27</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
gmaxwell: on a 24-core machine, have you benchmarked whether higher or lower -par works better?
<br>
</div>

<div class='talk op-msg' data-timestamp='1460460480' id='462564'>
<a class='timestamp' href='#462564'><time timestamp='2016-04-12T11:28:00Z'>11:28</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
doubt it matters much. I think when you wrote that code I was benchmarking it on 32 way host and found that it didn&#x27;t improve after 8 or so, and you capped the code out at .. uh 16?  With libsecp256k1 that effect it likely worse.
<br>
</div>

<div class='talk op-msg' data-timestamp='1460461380' id='462565'>
<a class='timestamp' href='#462565'><time timestamp='2016-04-12T11:43:00Z'>11:43</time></a>
&lt;<span class='nick nick-8'> GitHub165</span>&gt;
[bitcoin] RyanKung opened pull request #7864: Qa: some code style reflected for pep8 (master...dev/rk) <a href="https://github.com/bitcoin/bitcoin/pull/7864" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/7864</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1460461380' id='462566'>
<a class='timestamp' href='#462566'><time timestamp='2016-04-12T11:43:00Z'>11:43</time></a>
&lt;<span class='nick nick-1'> ryankung</span>&gt;
...
<br>
</div>

<div class='talk op-msg' data-timestamp='1460461380' id='462567'>
<a class='timestamp' href='#462567'><time timestamp='2016-04-12T11:43:00Z'>11:43</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
lmdb, 10% progress in 20mins. Will probably be a little bit slower...
<br>
</div>

<div class='talk op-msg' data-timestamp='1460461380' id='462568'>
<a class='timestamp' href='#462568'><time timestamp='2016-04-12T11:43:00Z'>11:43</time></a>
&lt;<span class='nick nick-1'> ryankung</span>&gt;
I just reflected the python testcase code into pep8 code style.
<br>
</div>

<div class='talk op-msg' data-timestamp='1460461380' id='462569'>
<a class='timestamp' href='#462569'><time timestamp='2016-04-12T11:43:00Z'>11:43</time></a>
&lt;<span class='nick nick-1'> ryankung</span>&gt;
some
<br>
</div>

<div class='talk op-msg' data-timestamp='1460461500' id='462570'>
<a class='timestamp' href='#462570'><time timestamp='2016-04-12T11:45:00Z'>11:45</time></a>
&lt;<span class='nick nick-2'> GitHub74</span>&gt;
[bitcoin] jonasschnelli opened pull request #7865: [RPC] Add bumpfee command. (master...2016/04/rbf_combined) <a href="https://github.com/bitcoin/bitcoin/pull/7865" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/7865</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1460461560' id='462571'>
<a class='timestamp' href='#462571'><time timestamp='2016-04-12T11:46:00Z'>11:46</time></a>
&lt;<span class='nick nick-11'> GitHub182</span>&gt;
[bitcoin] jonasschnelli closed pull request #7159: [RPC] Add RBF opt-in possibilities to rawtx functions (master...2015/12/rpc_rbf) <a href="https://github.com/bitcoin/bitcoin/pull/7159" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/7159</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1460461620' id='462572'>
<a class='timestamp' href='#462572'><time timestamp='2016-04-12T11:47:00Z'>11:47</time></a>
&lt;<span class='nick nick-14'> GitHub179</span>&gt;
[bitcoin] jonasschnelli closed pull request #7824: Add uncontroversial RBF base features (master...2016/04/rbf_uncontroversial) <a href="https://github.com/bitcoin/bitcoin/pull/7824" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/7824</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1460462460' id='462573'>
<a class='timestamp' href='#462573'><time timestamp='2016-04-12T12:01:00Z'>12:01</time></a>
&lt;<span class='nick nick-9'> GitHub47</span>&gt;
[bitcoin] RyanKung closed pull request #7864: Qa: some code style reflected for pep8 (master...dev/rk) <a href="https://github.com/bitcoin/bitcoin/pull/7864" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/7864</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1460463060' id='462574'>
<a class='timestamp' href='#462574'><time timestamp='2016-04-12T12:11:00Z'>12:11</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
ryankung: thanks for the work! Once the python3 pr is merge, you should reopen you PR
<br>
</div>

<div class='talk op-msg' data-timestamp='1460463240' id='462575'>
<a class='timestamp' href='#462575'><time timestamp='2016-04-12T12:14:00Z'>12:14</time></a>
&lt;<span class='nick nick-1'> ryankung</span>&gt;
ok :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1460468220' id='462576'>
<a class='timestamp' href='#462576'><time timestamp='2016-04-12T13:37:00Z'>13:37</time></a>
&lt;<span class='nick nick-7'> electrumuser</span>&gt;
Hi, quick confirmation, does the scriptSig contain the sigtype after the signature?, I mean, I have transactions being rejected because signature is too short, I&#x27;ve been comparing the raw tx from two wallets spending the same input, and I noticed that signatures get appended a 01 byte, I can&#x27;t find documentation about it. But I suspect it might be SIGHASH_ALL, am I correct?
<br>
</div>

<div class='talk op-msg' data-timestamp='1460468280' id='462577'>
<a class='timestamp' href='#462577'><time timestamp='2016-04-12T13:38:00Z'>13:38</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that&#x27;s corrrect
<br>
</div>

<div class='talk op-msg' data-timestamp='1460468280' id='462578'>
<a class='timestamp' href='#462578'><time timestamp='2016-04-12T13:38:00Z'>13:38</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
-r
<br>
</div>

<div class='talk op-msg' data-timestamp='1460468340' id='462579'>
<a class='timestamp' href='#462579'><time timestamp='2016-04-12T13:39:00Z'>13:39</time></a>
&lt;<span class='nick nick-7'> electrumuser</span>&gt;
Thank you very much sipa.
<br>
</div>

<div class='talk op-msg' data-timestamp='1460468940' id='462580'>
<a class='timestamp' href='#462580'><time timestamp='2016-04-12T13:49:00Z'>13:49</time></a>
&lt;<span class='nick nick-15'> cjcj_</span>&gt;
&#x27;
<br>
</div>

<div class='talk op-msg' data-timestamp='1460469060' id='462581'>
<a class='timestamp' href='#462581'><time timestamp='2016-04-12T13:51:00Z'>13:51</time></a>
&lt;<span class='nick nick-12'> GitHub119</span>&gt;
[bitcoin] sipa pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/934f2b5e7693...514993554c37" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/934f2b5e7693...514993554c37</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1460469060' id='462582'>
<a class='timestamp' href='#462582'><time timestamp='2016-04-12T13:51:00Z'>13:51</time></a>
&lt;<span class='nick nick-12'> GitHub119</span>&gt;
bitcoin/master bf477bc Jorge Timón: Trivial: Globals: Explicitly pass const CChainParams&amp; to ProcessMessage()
<br>
</div>

<div class='talk op-msg' data-timestamp='1460469060' id='462583'>
<a class='timestamp' href='#462583'><time timestamp='2016-04-12T13:51:00Z'>13:51</time></a>
&lt;<span class='nick nick-12'> GitHub119</span>&gt;
bitcoin/master 5149935 Pieter Wuille: Merge #7828: Trivial: Globals: Explicitly pass const CChainParams&amp; to ProcessMessage()...
<br>
</div>

<div class='talk op-msg' data-timestamp='1460469060' id='462584'>
<a class='timestamp' href='#462584'><time timestamp='2016-04-12T13:51:00Z'>13:51</time></a>
&lt;<span class='nick nick-13'> GitHub176</span>&gt;
[bitcoin] sipa closed pull request #7828: Trivial: Globals: Explicitly pass const CChainParams&amp; to ProcessMessage() (master...0.12.99-chainparams-trivial) <a href="https://github.com/bitcoin/bitcoin/pull/7828" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/7828</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1460476980' id='462585'>
<a class='timestamp' href='#462585'><time timestamp='2016-04-12T16:03:00Z'>16:03</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
lmdb seems a lot slower (at least on the machine I&#x27;m benching)
<br>
</div>

<div class='talk op-msg' data-timestamp='1460476980' id='462586'>
<a class='timestamp' href='#462586'><time timestamp='2016-04-12T16:03:00Z'>16:03</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
6.5h for 76% IBD
<br>
</div>

<div class='talk op-msg' data-timestamp='1460477160' id='462587'>
<a class='timestamp' href='#462587'><time timestamp='2016-04-12T16:06:00Z'>16:06</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
against random peers?
<br>
</div>

<div class='talk op-msg' data-timestamp='1460477160' id='462588'>
<a class='timestamp' href='#462588'><time timestamp='2016-04-12T16:06:00Z'>16:06</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
or from local network
<br>
</div>

<div class='talk op-msg' data-timestamp='1460477220' id='462589'>
<a class='timestamp' href='#462589'><time timestamp='2016-04-12T16:07:00Z'>16:07</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
with dbcache=8000 the database used should have nearly 0 effect
<br>
</div>

<div class='talk op-msg' data-timestamp='1460477640' id='462590'>
<a class='timestamp' href='#462590'><time timestamp='2016-04-12T16:14:00Z'>16:14</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sipa: random peers, dbcache=9000
<br>
</div>

<div class='talk op-msg' data-timestamp='1460477640' id='462591'>
<a class='timestamp' href='#462591'><time timestamp='2016-04-12T16:14:00Z'>16:14</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
(I made it higher than the 8GB lmdb fix-size)
<br>
</div>

<div class='talk op-msg' data-timestamp='1460477700' id='462592'>
<a class='timestamp' href='#462592'><time timestamp='2016-04-12T16:15:00Z'>16:15</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Block download speed looks not after the bottleneck...
<br>
</div>

<div class='talk op-msg' data-timestamp='1460477700' id='462593'>
<a class='timestamp' href='#462593'><time timestamp='2016-04-12T16:15:00Z'>16:15</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
CPU is running at 645.3%
<br>
</div>

<div class='talk op-msg' data-timestamp='1460477760' id='462594'>
<a class='timestamp' href='#462594'><time timestamp='2016-04-12T16:16:00Z'>16:16</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
maybe it was earlier on
<br>
</div>

<div class='talk op-msg' data-timestamp='1460477820' id='462595'>
<a class='timestamp' href='#462595'><time timestamp='2016-04-12T16:17:00Z'>16:17</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
if you&#x27;re syncing from random peers, i&#x27;d at least want to see an average over a few dozen runs to draw conclusions
<br>
</div>

<div class='talk op-msg' data-timestamp='1460477880' id='462596'>
<a class='timestamp' href='#462596'><time timestamp='2016-04-12T16:18:00Z'>16:18</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
you&#x27;re including a totally uncontrollable variable into your test setuo by doing so
<br>
</div>

<div class='talk op-msg' data-timestamp='1460477880' id='462597'>
<a class='timestamp' href='#462597'><time timestamp='2016-04-12T16:18:00Z'>16:18</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sipa: Yes. Agreed. My idea was to do a reindex once its done to exclude the variable of download
<br>
</div>

<div class='talk op-msg' data-timestamp='1460477940' id='462598'>
<a class='timestamp' href='#462598'><time timestamp='2016-04-12T16:19:00Z'>16:19</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Also when I download from one of my other nodes,... the other node does also run stuff in background.. gitian, etc.
<br>
</div>

<div class='talk op-msg' data-timestamp='1460478000' id='462599'>
<a class='timestamp' href='#462599'><time timestamp='2016-04-12T16:20:00Z'>16:20</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
reindex is a better benchmark yes, but with dbcache=8000, i doubt you&#x27;ll see much difference :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1460478120' id='462600'>
<a class='timestamp' href='#462600'><time timestamp='2016-04-12T16:22:00Z'>16:22</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sipa: I&#x27;ll give you the prove...
<br>
</div>

<div class='talk op-msg' data-timestamp='1460478120' id='462601'>
<a class='timestamp' href='#462601'><time timestamp='2016-04-12T16:22:00Z'>16:22</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ok :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1460495880' id='462602'>
<a class='timestamp' href='#462602'><time timestamp='2016-04-12T21:18:00Z'>21:18</time></a>
&lt;<span class='nick nick-15'> paveljanik</span>&gt;
<a href="http://eprint.iacr.org/2016/367" class="link" target="_blank">http://eprint.iacr.org/2016/367</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1460498520' id='462603'>
<a class='timestamp' href='#462603'><time timestamp='2016-04-12T22:02:00Z'>22:02</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
Where does bitcoin core mark the script invalid if there are too many script opts in a OP_IF branch that is not executed 
<br>
</div>

<div class='talk op-msg' data-timestamp='1460498520' id='462604'>
<a class='timestamp' href='#462604'><time timestamp='2016-04-12T22:02:00Z'>22:02</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
I&#x27;m looking at this right now, but I don&#x27;t see how that would mark a script invalid if the ops are not executed 
<br>
</div>

<div class='talk op-msg' data-timestamp='1460498520' id='462605'>
<a class='timestamp' href='#462605'><time timestamp='2016-04-12T22:02:00Z'>22:02</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/blob/master/src/script/interpreter.cpp#L269-L271" class="link" target="_blank">https://github.com/bitcoin/bitcoin/blob/master/src/script/interpreter.cpp#L269-L271</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1460498700' id='462606'>
<a class='timestamp' href='#462606'><time timestamp='2016-04-12T22:05:00Z'>22:05</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
unless OP_IF operators are run through the interpreter even if the stack top is not true.. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1460499300' id='462607'>
<a class='timestamp' href='#462607'><time timestamp='2016-04-12T22:15:00Z'>22:15</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
why would they not?
<br>
</div>

<div class='talk op-msg' data-timestamp='1460499360' id='462608'>
<a class='timestamp' href='#462608'><time timestamp='2016-04-12T22:16:00Z'>22:16</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
how would the interpreter even know what the operators are, without going through them
<br>
</div>

<div class='talk op-msg' data-timestamp='1460499420' id='462609'>
<a class='timestamp' href='#462609'><time timestamp='2016-04-12T22:17:00Z'>22:17</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
like, how would it find the endif?
<br>
</div>

<div class='talk op-msg' data-timestamp='1460499480' id='462610'>
<a class='timestamp' href='#462610'><time timestamp='2016-04-12T22:18:00Z'>22:18</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
Most PLs don&#x27;t execute code inside of OP_IF branches, isn&#x27;t it simply discarded? Why would this be different?
<br>
</div>

<div class='talk op-msg' data-timestamp='1460499480' id='462611'>
<a class='timestamp' href='#462611'><time timestamp='2016-04-12T22:18:00Z'>22:18</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
conceptually, sure
<br>
</div>

<div class='talk op-msg' data-timestamp='1460499480' id='462612'>
<a class='timestamp' href='#462612'><time timestamp='2016-04-12T22:18:00Z'>22:18</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but if you write and if branch in a program, it&#x27;s still compiled
<br>
</div>

<div class='talk op-msg' data-timestamp='1460499480' id='462613'>
<a class='timestamp' href='#462613'><time timestamp='2016-04-12T22:18:00Z'>22:18</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
the result is still part of the program
<br>
</div>

<div class='talk op-msg' data-timestamp='1460499480' id='462614'>
<a class='timestamp' href='#462614'><time timestamp='2016-04-12T22:18:00Z'>22:18</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
Why not delete all operators until OP_ELSE 
<br>
</div>

<div class='talk op-msg' data-timestamp='1460499480' id='462615'>
<a class='timestamp' href='#462615'><time timestamp='2016-04-12T22:18:00Z'>22:18</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it&#x27;s not gone
<br>
</div>

<div class='talk op-msg' data-timestamp='1460499540' id='462616'>
<a class='timestamp' href='#462616'><time timestamp='2016-04-12T22:19:00Z'>22:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
how can you &#x27;delete&#x27; them without going through them?
<br>
</div>

<div class='talk op-msg' data-timestamp='1460499540' id='462617'>
<a class='timestamp' href='#462617'><time timestamp='2016-04-12T22:19:00Z'>22:19</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
or OP_ENDIF if there is no OP_ELSE
<br>
</div>

<div class='talk op-msg' data-timestamp='1460499540' id='462618'>
<a class='timestamp' href='#462618'><time timestamp='2016-04-12T22:19:00Z'>22:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
how will you find where the OP_ENDIF is?
<br>
</div>

<div class='talk op-msg' data-timestamp='1460499540' id='462619'>
<a class='timestamp' href='#462619'><time timestamp='2016-04-12T22:19:00Z'>22:19</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
Search the list for it? 
<br>
</div>

<div class='talk op-msg' data-timestamp='1460499540' id='462620'>
<a class='timestamp' href='#462620'><time timestamp='2016-04-12T22:19:00Z'>22:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
there is no more efficient way to do that than to just iterate through the operators :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1460499540' id='462621'>
<a class='timestamp' href='#462621'><time timestamp='2016-04-12T22:19:00Z'>22:19</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
Am I confusing implementation of the language with the language itself?
<br>
</div>

<div class='talk op-msg' data-timestamp='1460499600' id='462622'>
<a class='timestamp' href='#462622'><time timestamp='2016-04-12T22:20:00Z'>22:20</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
no, we&#x27;re only talking about the implementation of the interpreter
<br>
</div>

<div class='talk op-msg' data-timestamp='1460499600' id='462623'>
<a class='timestamp' href='#462623'><time timestamp='2016-04-12T22:20:00Z'>22:20</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
what does vfExec stand for in english?
<br>
</div>

<div class='talk op-msg' data-timestamp='1460499600' id='462624'>
<a class='timestamp' href='#462624'><time timestamp='2016-04-12T22:20:00Z'>22:20</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
vector of booleans named Exec
<br>
</div>

<div class='talk op-msg' data-timestamp='1460499600' id='462625'>
<a class='timestamp' href='#462625'><time timestamp='2016-04-12T22:20:00Z'>22:20</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
or what does it represent in the interpreter
<br>
</div>

<div class='talk op-msg' data-timestamp='1460499660' id='462626'>
<a class='timestamp' href='#462626'><time timestamp='2016-04-12T22:21:00Z'>22:21</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and there is one entry in that vector for each IF you&#x27;re inside
<br>
</div>

<div class='talk op-msg' data-timestamp='1460499660' id='462627'>
<a class='timestamp' href='#462627'><time timestamp='2016-04-12T22:21:00Z'>22:21</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
sipa: Also what if the control structure of the program is encoded as a binary tree
<br>
</div>

<div class='talk op-msg' data-timestamp='1460499660' id='462628'>
<a class='timestamp' href='#462628'><time timestamp='2016-04-12T22:21:00Z'>22:21</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
well it isn&#x27;t
<br>
</div>

<div class='talk op-msg' data-timestamp='1460499660' id='462629'>
<a class='timestamp' href='#462629'><time timestamp='2016-04-12T22:21:00Z'>22:21</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it&#x27;s a byte array
<br>
</div>

<div class='talk op-msg' data-timestamp='1460499720' id='462630'>
<a class='timestamp' href='#462630'><time timestamp='2016-04-12T22:22:00Z'>22:22</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
You can ignore the OP_IF branch by simply making the right branch (assumedly the OP_ELSE branch) the new root tree
<br>
</div>

<div class='talk op-msg' data-timestamp='1460499720' id='462631'>
<a class='timestamp' href='#462631'><time timestamp='2016-04-12T22:22:00Z'>22:22</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but the program is not represented as branches
<br>
</div>

<div class='talk op-msg' data-timestamp='1460499720' id='462632'>
<a class='timestamp' href='#462632'><time timestamp='2016-04-12T22:22:00Z'>22:22</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it&#x27;s just a vector of bytes
<br>
</div>

<div class='talk op-msg' data-timestamp='1460499780' id='462633'>
<a class='timestamp' href='#462633'><time timestamp='2016-04-12T22:23:00Z'>22:23</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
is this one of those things that is too risky to change for fear of unintended consensus changes?
<br>
</div>

<div class='talk op-msg' data-timestamp='1460499780' id='462634'>
<a class='timestamp' href='#462634'><time timestamp='2016-04-12T22:23:00Z'>22:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
hell yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1460499780' id='462635'>
<a class='timestamp' href='#462635'><time timestamp='2016-04-12T22:23:00Z'>22:23</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
gotcha. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1460499840' id='462636'>
<a class='timestamp' href='#462636'><time timestamp='2016-04-12T22:24:00Z'>22:24</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
So if I&#x27;m understanding this correctly, vfExec is just a vector of bools indicating if an OP_IF has matched it&#x27;s OP_ENDIF?
<br>
</div>

<div class='talk op-msg' data-timestamp='1460499900' id='462637'>
<a class='timestamp' href='#462637'><time timestamp='2016-04-12T22:25:00Z'>22:25</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
no, it&#x27;s a vector of booleans saying whether you&#x27;re in the executed side of the branch
<br>
</div>

<div class='talk op-msg' data-timestamp='1460499900' id='462638'>
<a class='timestamp' href='#462638'><time timestamp='2016-04-12T22:25:00Z'>22:25</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
ok. Thanks
<br>
</div>

<div class='talk op-msg' data-timestamp='1460500080' id='462639'>
<a class='timestamp' href='#462639'><time timestamp='2016-04-12T22:28:00Z'>22:28</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
fun fact: you can create an ifthen .... else .... else .... else .... endif branch in bitcoin script
<br>
</div>

</div>
</section>

</body>
</html>
