<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2019-11-13
 — 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2019-11-13' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:19 UTC</pre>
<pre><a href="/bitcoin-core-dev/2019-10-13">&lt;</a><span class='header'>  November 2019   </span><a href="/bitcoin-core-dev/2019-12-13">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;                <a class="" href="/bitcoin-core-dev/2019-11-01">1</a>  <a class="" href="/bitcoin-core-dev/2019-11-02">2</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2019-11-03">3</a>  <a class="" href="/bitcoin-core-dev/2019-11-04">4</a>  <a class="" href="/bitcoin-core-dev/2019-11-05">5</a>  <a class="" href="/bitcoin-core-dev/2019-11-06">6</a>  <a class="" href="/bitcoin-core-dev/2019-11-07">7</a>  <a class="" href="/bitcoin-core-dev/2019-11-08">8</a>  <a class="" href="/bitcoin-core-dev/2019-11-09">9</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2019-11-10">10</a> <a class="" href="/bitcoin-core-dev/2019-11-11">11</a> <a class="" href="/bitcoin-core-dev/2019-11-12">12</a> <a class="current" href="/bitcoin-core-dev/2019-11-13">13</a> <a class="" href="/bitcoin-core-dev/2019-11-14">14</a> <a class="" href="/bitcoin-core-dev/2019-11-15">15</a> <a class="" href="/bitcoin-core-dev/2019-11-16">16</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2019-11-17">17</a> <a class="" href="/bitcoin-core-dev/2019-11-18">18</a> <a class="" href="/bitcoin-core-dev/2019-11-19">19</a> <a class="" href="/bitcoin-core-dev/2019-11-20">20</a> <a class="" href="/bitcoin-core-dev/2019-11-21">21</a> <a class="" href="/bitcoin-core-dev/2019-11-22">22</a> <a class="" href="/bitcoin-core-dev/2019-11-23">23</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2019-11-24">24</a> <a class="" href="/bitcoin-core-dev/2019-11-25">25</a> <a class="" href="/bitcoin-core-dev/2019-11-26">26</a> <a class="" href="/bitcoin-core-dev/2019-11-27">27</a> <a class="" href="/bitcoin-core-dev/2019-11-28">28</a> <a class="" href="/bitcoin-core-dev/2019-11-29">29</a> <a class="" href="/bitcoin-core-dev/2019-11-30">30</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1573603560' id='685725'>
<a class='timestamp' href='#685725'><time timestamp='2019-11-13T00:06:00Z'>00:06</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] achow101 opened pull request #17458: Refactor OutputGroup effective value calculations and filtering to occur within the struct (master...cleanup-outputgroups) <a href="https://github.com/bitcoin/bitcoin/pull/17458" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/17458</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1573603920' id='685726'>
<a class='timestamp' href='#685726'><time timestamp='2019-11-13T00:12:00Z'>00:12</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] theStack opened pull request #17459: Remove redundant NDEBUG preprocessor checks (master...20191112-remove-redundant-ndebug-checks) <a href="https://github.com/bitcoin/bitcoin/pull/17459" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/17459</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1573604640' id='685727'>
<a class='timestamp' href='#685727'><time timestamp='2019-11-13T00:24:00Z'>00:24</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
fyi if you have an opinion on OP_SECURETHEBAG naming convention please chime in on <a href="https://www.reddit.com/r/Bitcoin/comments/dviy6i/should_op_securethebag_be_renamed/" class="link" target="_blank">https://www.reddit.com/r/Bitcoin/comments/dviy6i/should_op_securethebag_be_renamed/</a> or the twitter poll. Trying to finalize a name (naming it is difficult as the boring but technically accurate name is OP_CHECKOUTPUTSANDSEQUENCESANDSCRIPTSIGSANDLOCKTIMEANDVERSIONANDNVINVERIFY is a bit too wordy). Hoping to resolve naming concerns so that focus 
<br>
</div>

<div class='talk op-msg' data-timestamp='1573604640' id='685728'>
<a class='timestamp' href='#685728'><time timestamp='2019-11-13T00:24:00Z'>00:24</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
can hone in on implementations...
<br>
</div>

<div class='talk op-msg' data-timestamp='1573608240' id='685729'>
<a class='timestamp' href='#685729'><time timestamp='2019-11-13T01:24:00Z'>01:24</time></a>
&lt;<span class='nick nick-4'> BlueMatt</span>&gt;
jnewbery: note that &quot;Add new peer state tracking class to reduce cs_main contention&quot; only vaguely makes sense on its own - the vast majority of the contension is around cs_main for a reason...witout the rest of the patch to make ProcessNewBlock and the like not take cs_main it is a lot of code movement for not very much performance gain.
<br>
</div>

<div class='talk op-msg' data-timestamp='1573615860' id='685730'>
<a class='timestamp' href='#685730'><time timestamp='2019-11-13T03:31:00Z'>03:31</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] theStack opened pull request #17461: test: check custom descedant limit in mempool_packages.py (master...20191112-test-check_custom_descendant_limit_in_mempool-packages) <a href="https://github.com/bitcoin/bitcoin/pull/17461" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/17461</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1573618860' id='685731'>
<a class='timestamp' href='#685731'><time timestamp='2019-11-13T04:21:00Z'>04:21</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] RandyMcMillan opened pull request #17462: build: macOS fix Info.plist (master...info-plist) <a href="https://github.com/bitcoin/bitcoin/pull/17462" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/17462</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1573624200' id='685732'>
<a class='timestamp' href='#685732'><time timestamp='2019-11-13T05:50:00Z'>05:50</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] luke-jr opened pull request #17463: Bugfix: GUI: Restore SendConfirmationDialog button default to &quot;Yes&quot; (master...gui_custom_sendyes) <a href="https://github.com/bitcoin/bitcoin/pull/17463" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/17463</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1573636860' id='685733'>
<a class='timestamp' href='#685733'><time timestamp='2019-11-13T09:21:00Z'>09:21</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 3 commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/8237889e8d0f...cd6cb9745e13" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/8237889e8d0f...cd6cb9745e13</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1573636860' id='685734'>
<a class='timestamp' href='#685734'><time timestamp='2019-11-13T09:21:00Z'>09:21</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master fab9850 MarcoFalke: scripted-diff: Avoid hardcoded libfaketime dir in gitian
<br>
</div>

<div class='talk op-msg' data-timestamp='1573636860' id='685735'>
<a class='timestamp' href='#685735'><time timestamp='2019-11-13T09:21:00Z'>09:21</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 3333629 MarcoFalke: doc: Explain $LIB in LD_PRELOAD in gitian descriptors
<br>
</div>

<div class='talk op-msg' data-timestamp='1573636860' id='685736'>
<a class='timestamp' href='#685736'><time timestamp='2019-11-13T09:21:00Z'>09:21</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master cd6cb97 Wladimir J. van der Laan: Merge #17409: build: Avoid hardcoded libfaketime dir in gitian
<br>
</div>

<div class='talk op-msg' data-timestamp='1573636860' id='685737'>
<a class='timestamp' href='#685737'><time timestamp='2019-11-13T09:21:00Z'>09:21</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj merged pull request #17409: build: Avoid hardcoded libfaketime dir in gitian (master...1911-gitianArm64) <a href="https://github.com/bitcoin/bitcoin/pull/17409" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/17409</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1573640580' id='685738'>
<a class='timestamp' href='#685738'><time timestamp='2019-11-13T10:23:00Z'>10:23</time></a>
&lt;<span class='nick nick-4'> JeremyCrookshank</span>&gt;
What does everyone use to develop on Bitcoin with? Visual studio code?
<br>
</div>

<div class='talk op-msg' data-timestamp='1573643100' id='685739'>
<a class='timestamp' href='#685739'><time timestamp='2019-11-13T11:05:00Z'>11:05</time></a>
&lt;<span class='nick nick-3'> meshcollider</span>&gt;
JeremyCrookshank: notepad.exe
<br>
</div>

<div class='talk op-msg' data-timestamp='1573650240' id='685740'>
<a class='timestamp' href='#685740'><time timestamp='2019-11-13T13:04:00Z'>13:04</time></a>
&lt;<span class='nick nick-14'> jonatack</span>&gt;
JeremyCrookshank: why not, fwiw i know several who use vim and also have seen emacs and atom used
<br>
</div>

<div class='talk op-msg' data-timestamp='1573663560' id='685741'>
<a class='timestamp' href='#685741'><time timestamp='2019-11-13T16:46:00Z'>16:46</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
&lt;JeremyCrookshank&gt; What does everyone use to develop on Bitcoin with? Visual studio code?
<br>
</div>

<div class='talk op-msg' data-timestamp='1573663560' id='685742'>
<a class='timestamp' href='#685742'><time timestamp='2019-11-13T16:46:00Z'>16:46</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
I use vanilla vim, sipa uses mcedit: <a href="https://twitter.com/pwuille/status/1192141975358541825" class="link" target="_blank">https://twitter.com/pwuille/status/1192141975358541825</a>, not sure about others
<br>
</div>

<div class='talk op-msg' data-timestamp='1573663680' id='685743'>
<a class='timestamp' href='#685743'><time timestamp='2019-11-13T16:48:00Z'>16:48</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
real programmers use emacs: <a href="https://xkcd.com/378/" class="link" target="_blank">https://xkcd.com/378/</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1573664700' id='685744'>
<a class='timestamp' href='#685744'><time timestamp='2019-11-13T17:05:00Z'>17:05</time></a>
&lt;<span class='nick nick-14'> jonatack</span>&gt;
afaik achow101 uses atom, jnewbery, ariard, MarcoFalke, and (iirc) ryanofsky use vim (atm i use emacs)
<br>
</div>

<div class='talk op-msg' data-timestamp='1573664760' id='685745'>
<a class='timestamp' href='#685745'><time timestamp='2019-11-13T17:06:00Z'>17:06</time></a>
&lt;<span class='nick nick-14'> jonatack</span>&gt;
clearly they can all do the job :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1573667460' id='685746'>
<a class='timestamp' href='#685746'><time timestamp='2019-11-13T17:51:00Z'>17:51</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
i see im too late for the minecraft joke
<br>
</div>

<div class='talk op-msg' data-timestamp='1573668420' id='685747'>
<a class='timestamp' href='#685747'><time timestamp='2019-11-13T18:07:00Z'>18:07</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
JeremyCrookshank: I use Kate
<br>
</div>

<div class='talk op-msg' data-timestamp='1573668420' id='685748'>
<a class='timestamp' href='#685748'><time timestamp='2019-11-13T18:07:00Z'>18:07</time></a>
&lt;<span class='nick nick-4'> JeremyCrookshank</span>&gt;
Not heard of that one
<br>
</div>

<div class='talk op-msg' data-timestamp='1573668480' id='685749'>
<a class='timestamp' href='#685749'><time timestamp='2019-11-13T18:08:00Z'>18:08</time></a>
&lt;<span class='nick nick-10'> elichai2</span>&gt;
I use CLion and i&#x27;m not ashamed :P 
<br>
</div>

<div class='talk op-msg' data-timestamp='1573668480' id='685750'>
<a class='timestamp' href='#685750'><time timestamp='2019-11-13T18:08:00Z'>18:08</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
JeremyCrookshank: KDE&#x27;s Advanced Text Editor
<br>
</div>

<div class='talk op-msg' data-timestamp='1573668540' id='685751'>
<a class='timestamp' href='#685751'><time timestamp='2019-11-13T18:09:00Z'>18:09</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
<a href="https://kate-editor.org/" class="link" target="_blank">https://kate-editor.org/</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1573668780' id='685752'>
<a class='timestamp' href='#685752'><time timestamp='2019-11-13T18:13:00Z'>18:13</time></a>
&lt;<span class='nick nick-4'> JeremyCrookshank</span>&gt;
Also not heard of clion
<br>
</div>

<div class='talk op-msg' data-timestamp='1573668780' id='685753'>
<a class='timestamp' href='#685753'><time timestamp='2019-11-13T18:13:00Z'>18:13</time></a>
&lt;<span class='nick nick-4'> JeremyCrookshank</span>&gt;
I suppose nowadays most of these editors are the same :P
<br>
</div>

<div class='talk op-msg' data-timestamp='1573668840' id='685754'>
<a class='timestamp' href='#685754'><time timestamp='2019-11-13T18:14:00Z'>18:14</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
nah, they&#x27;re all very different in appearance ans features
<br>
</div>

<div class='talk op-msg' data-timestamp='1573668840' id='685755'>
<a class='timestamp' href='#685755'><time timestamp='2019-11-13T18:14:00Z'>18:14</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but it depends way more on your own way of working
<br>
</div>

<div class='talk op-msg' data-timestamp='1573668900' id='685756'>
<a class='timestamp' href='#685756'><time timestamp='2019-11-13T18:15:00Z'>18:15</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] dongcarl opened pull request #17466: depends: qt: Fix C{,XX} pickup (master...2019-11-qt-CC-CXX-pickup) <a href="https://github.com/bitcoin/bitcoin/pull/17466" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/17466</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1573668960' id='685757'>
<a class='timestamp' href='#685757'><time timestamp='2019-11-13T18:16:00Z'>18:16</time></a>
&lt;<span class='nick nick-4'> JeremyCrookshank</span>&gt;
elichai2 clion looks decent what&#x27;s the stigma?
<br>
</div>

<div class='talk op-msg' data-timestamp='1573669620' id='685758'>
<a class='timestamp' href='#685758'><time timestamp='2019-11-13T18:27:00Z'>18:27</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jonasschnelli: real_or_random and i jad some thoughts on simplifying future upgrades in the v2 protocol, ping me when you have some time
<br>
</div>

<div class='talk op-msg' data-timestamp='1573669680' id='685759'>
<a class='timestamp' href='#685759'><time timestamp='2019-11-13T18:28:00Z'>18:28</time></a>
&lt;<span class='nick nick-10'> elichai2</span>&gt;
JeremyCrookshank: the stigma is that real devs use vim/emacs :) 
<br>
</div>

<div class='talk op-msg' data-timestamp='1573669740' id='685760'>
<a class='timestamp' href='#685760'><time timestamp='2019-11-13T18:29:00Z'>18:29</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
real devs use butterflies
<br>
</div>

<div class='talk op-msg' data-timestamp='1573669740' id='685761'>
<a class='timestamp' href='#685761'><time timestamp='2019-11-13T18:29:00Z'>18:29</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
who cares
<br>
</div>

<div class='talk op-msg' data-timestamp='1573670040' id='685762'>
<a class='timestamp' href='#685762'><time timestamp='2019-11-13T18:34:00Z'>18:34</time></a>
&lt;<span class='nick nick-8'> midnight</span>&gt;
µEmacs overlords
<br>
</div>

<div class='talk op-msg' data-timestamp='1573670160' id='685763'>
<a class='timestamp' href='#685763'><time timestamp='2019-11-13T18:36:00Z'>18:36</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
elichai2: Kate does have a VI Mode
<br>
</div>

<div class='talk op-msg' data-timestamp='1573670940' id='685764'>
<a class='timestamp' href='#685764'><time timestamp='2019-11-13T18:49:00Z'>18:49</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
clion has a vi mode, but it feels wrong to vanilla vim
<br>
</div>

<div class='talk op-msg' data-timestamp='1573671000' id='685765'>
<a class='timestamp' href='#685765'><time timestamp='2019-11-13T18:50:00Z'>18:50</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
well, vim isn&#x27;t vi :P
<br>
</div>

<div class='talk op-msg' data-timestamp='1573672020' id='685766'>
<a class='timestamp' href='#685766'><time timestamp='2019-11-13T19:07:00Z'>19:07</time></a>
&lt;<span class='nick nick-4'> jamesob</span>&gt;
anyone ever apply lock annotations to a lambda? is possible?
<br>
</div>

<div class='talk op-msg' data-timestamp='1573672020' id='685767'>
<a class='timestamp' href='#685767'><time timestamp='2019-11-13T19:07:00Z'>19:07</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
jamesob: no not possible
<br>
</div>

<div class='talk op-msg' data-timestamp='1573672020' id='685768'>
<a class='timestamp' href='#685768'><time timestamp='2019-11-13T19:07:00Z'>19:07</time></a>
&lt;<span class='nick nick-4'> jamesob</span>&gt;
dammit
<br>
</div>

<div class='talk op-msg' data-timestamp='1573672020' id='685769'>
<a class='timestamp' href='#685769'><time timestamp='2019-11-13T19:07:00Z'>19:07</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
You&#x27;d have to use AssertLockHeld
<br>
</div>

<div class='talk op-msg' data-timestamp='1573672020' id='685770'>
<a class='timestamp' href='#685770'><time timestamp='2019-11-13T19:07:00Z'>19:07</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
jamesob: It is not possible because you can pass the lambda into a different translation unit
<br>
</div>

<div class='talk op-msg' data-timestamp='1573672080' id='685771'>
<a class='timestamp' href='#685771'><time timestamp='2019-11-13T19:08:00Z'>19:08</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
I don&#x27;t think clang can handle that
<br>
</div>

<div class='talk op-msg' data-timestamp='1573672080' id='685772'>
<a class='timestamp' href='#685772'><time timestamp='2019-11-13T19:08:00Z'>19:08</time></a>
&lt;<span class='nick nick-4'> JeremyCrookshank</span>&gt;
why you want to
<br>
</div>

<div class='talk op-msg' data-timestamp='1573672080' id='685773'>
<a class='timestamp' href='#685773'><time timestamp='2019-11-13T19:08:00Z'>19:08</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
JeremyCrookshank: Anywhere a lambda is used, you might want to add locking annotations
<br>
</div>

<div class='talk op-msg' data-timestamp='1573672080' id='685774'>
<a class='timestamp' href='#685774'><time timestamp='2019-11-13T19:08:00Z'>19:08</time></a>
&lt;<span class='nick nick-4'> jamesob</span>&gt;
MarcoFalke: but AssertLockHeld won&#x27;t make clang lock analysis happy, eh?
<br>
</div>

<div class='talk op-msg' data-timestamp='1573672080' id='685775'>
<a class='timestamp' href='#685775'><time timestamp='2019-11-13T19:08:00Z'>19:08</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
For the same reason that you want to use locking annotations normally (in non lambdas)
<br>
</div>

<div class='talk op-msg' data-timestamp='1573672080' id='685776'>
<a class='timestamp' href='#685776'><time timestamp='2019-11-13T19:08:00Z'>19:08</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
jamesob: I think it does
<br>
</div>

<div class='talk op-msg' data-timestamp='1573672140' id='685777'>
<a class='timestamp' href='#685777'><time timestamp='2019-11-13T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
jamesob: If not, you can use LockAssertion
<br>
</div>

<div class='talk op-msg' data-timestamp='1573672260' id='685778'>
<a class='timestamp' href='#685778'><time timestamp='2019-11-13T19:11:00Z'>19:11</time></a>
&lt;<span class='nick nick-4'> jamesob</span>&gt;
ah right on, LockAssertion looks like it&#x27;ll do it. thanks.
<br>
</div>

<div class='talk op-msg' data-timestamp='1573672260' id='685779'>
<a class='timestamp' href='#685779'><time timestamp='2019-11-13T19:11:00Z'>19:11</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
according to this, it&#x27;s possible: <a href="https://stackoverflow.com/a/40483407/8342274" class="link" target="_blank">https://stackoverflow.com/a/40483407/8342274</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1573672380' id='685780'>
<a class='timestamp' href='#685780'><time timestamp='2019-11-13T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-4'> jamesob</span>&gt;
argh, capturing a ::cs_main reference apparently isn&#x27;t possible due to its storage duration
<br>
</div>

<div class='talk op-msg' data-timestamp='1573672440' id='685781'>
<a class='timestamp' href='#685781'><time timestamp='2019-11-13T19:14:00Z'>19:14</time></a>
&lt;<span class='nick nick-4'> jamesob</span>&gt;
I&#x27;ll just use a private method instead of a lambda
<br>
</div>

<div class='talk op-msg' data-timestamp='1573672620' id='685782'>
<a class='timestamp' href='#685782'><time timestamp='2019-11-13T19:17:00Z'>19:17</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
MarcoFalke: but lock annotations are part of the type, no?
<br>
</div>

<div class='talk op-msg' data-timestamp='1573672680' id='685783'>
<a class='timestamp' href='#685783'><time timestamp='2019-11-13T19:18:00Z'>19:18</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sipa: Great. Happy to hear it.
<br>
</div>

<div class='talk op-msg' data-timestamp='1573672920' id='685784'>
<a class='timestamp' href='#685784'><time timestamp='2019-11-13T19:22:00Z'>19:22</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
sipa: It is possible to put the annotation in, but I don&#x27;t think the compiler can evaluate the annotation when the lambda is passes as a std::function into a different function in a different translation unit
<br>
</div>

<div class='talk op-msg' data-timestamp='1573672980' id='685785'>
<a class='timestamp' href='#685785'><time timestamp='2019-11-13T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
MarcoFalke: in that case, sure
<br>
</div>

<div class='talk op-msg' data-timestamp='1573672980' id='685786'>
<a class='timestamp' href='#685786'><time timestamp='2019-11-13T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but usually lambdas are passed as a templated type
<br>
</div>

<div class='talk op-msg' data-timestamp='1573672980' id='685787'>
<a class='timestamp' href='#685787'><time timestamp='2019-11-13T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
which doesn&#x27;t require collapsing to an std::function type
<br>
</div>

<div class='talk op-msg' data-timestamp='1573672980' id='685788'>
<a class='timestamp' href='#685788'><time timestamp='2019-11-13T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
There might be discussion about that in the commit in clang that added the possibility to annotate lambdas
<br>
</div>

<div class='talk op-msg' data-timestamp='1573673040' id='685789'>
<a class='timestamp' href='#685789'><time timestamp='2019-11-13T19:24:00Z'>19:24</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
actually, perhaps clang supports having locking annotations on std::function types too; not sure
<br>
</div>

<div class='talk op-msg' data-timestamp='1573673100' id='685790'>
<a class='timestamp' href='#685790'><time timestamp='2019-11-13T19:25:00Z'>19:25</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
sipa: Sure if it is templated then the Mutex is available in the translation unit, so it might be possible. However when it is a std::function, the header that defines the Mutex might not be included, so I dont&#x27; think clang can do its magic
<br>
</div>

<div class='talk op-msg' data-timestamp='1573673220' id='685791'>
<a class='timestamp' href='#685791'><time timestamp='2019-11-13T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
[14:13] &lt;jamesob&gt; argh, capturing a ::cs_main reference apparently isn&#x27;t possible due to its storage duration
<br>
</div>

<div class='talk op-msg' data-timestamp='1573673220' id='685792'>
<a class='timestamp' href='#685792'><time timestamp='2019-11-13T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
hmm, are you sure? I think I did that recently
<br>
</div>

<div class='talk op-msg' data-timestamp='1573673220' id='685793'>
<a class='timestamp' href='#685793'><time timestamp='2019-11-13T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
maybe I didnt&#x27; compile with clang, though?
<br>
</div>

<div class='talk op-msg' data-timestamp='1573673220' id='685794'>
<a class='timestamp' href='#685794'><time timestamp='2019-11-13T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-4'> jamesob</span>&gt;
yeah, I got a clang warning
<br>
</div>

<div class='talk op-msg' data-timestamp='1573674180' id='685795'>
<a class='timestamp' href='#685795'><time timestamp='2019-11-13T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
&lt;sipa&gt;jonasschnelli: real_or_random and i jad some thoughts on simplifying future upgrades in the v2 protocol, ping me when you have some time
<br>
</div>

<div class='talk op-msg' data-timestamp='1573674180' id='685796'>
<a class='timestamp' href='#685796'><time timestamp='2019-11-13T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Do you have time to explain it further?
<br>
</div>

<div class='talk op-msg' data-timestamp='1573674180' id='685797'>
<a class='timestamp' href='#685797'><time timestamp='2019-11-13T19:43:00Z'>19:43</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jonasschnelli: probably should do it when real_or_random is available too
<br>
</div>

<div class='talk op-msg' data-timestamp='1573674240' id='685798'>
<a class='timestamp' href='#685798'><time timestamp='2019-11-13T19:44:00Z'>19:44</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Okay. Let see if we find a overlapping timezone window. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1573674360' id='685799'>
<a class='timestamp' href='#685799'><time timestamp='2019-11-13T19:46:00Z'>19:46</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
jamesob: That compiled for me btw: <a href="https://github.com/bitcoin/bitcoin/commit/fa19ddc2bf8ee8f1ce621611a90f8b9e380b1517" class="link" target="_blank">https://github.com/bitcoin/bitcoin/commit/fa19ddc2bf8ee8f1ce621611a90f8b9e380b1517</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1573676820' id='685800'>
<a class='timestamp' href='#685800'><time timestamp='2019-11-13T20:27:00Z'>20:27</time></a>
&lt;<span class='nick nick-4'> jamesob</span>&gt;
MarcoFalke: hm weird, wonder what the difference was with my code. thanks.
<br>
</div>

<div class='talk op-msg' data-timestamp='1573676820' id='685801'>
<a class='timestamp' href='#685801'><time timestamp='2019-11-13T20:27:00Z'>20:27</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
How did you capture?
<br>
</div>

<div class='talk op-msg' data-timestamp='1573677780' id='685802'>
<a class='timestamp' href='#685802'><time timestamp='2019-11-13T20:43:00Z'>20:43</time></a>
&lt;<span class='nick nick-4'> jamesob</span>&gt;
tried capture and no capture - clang doesn&#x27;t like the attempted capture-by-reference (&quot;&#x27;cs_main&#x27; cannot be captured because it does not have automatic storage duration [clang-diagnostic-error]&quot;). then when I write `LockAssertion(::cs_main)` I get &quot;definition or redeclaration of &#x27;cs_main&#x27; cannot name the global scope [clang-diagnostic-error]&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1573678080' id='685803'>
<a class='timestamp' href='#685803'><time timestamp='2019-11-13T20:48:00Z'>20:48</time></a>
&lt;<span class='nick nick-7'> MarcoFalke</span>&gt;
jamesob: globals are already captured
<br>
</div>

<div class='talk op-msg' data-timestamp='1573679700' id='685804'>
<a class='timestamp' href='#685804'><time timestamp='2019-11-13T21:15:00Z'>21:15</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke closed pull request #17466: depends: qt: Fix C{,XX} pickup (master...2019-11-qt-CC-CXX-pickup) <a href="https://github.com/bitcoin/bitcoin/pull/17466" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/17466</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1573679700' id='685805'>
<a class='timestamp' href='#685805'><time timestamp='2019-11-13T21:15:00Z'>21:15</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke reopened pull request #17466: depends: qt: Fix C{,XX} pickup (master...2019-11-qt-CC-CXX-pickup) <a href="https://github.com/bitcoin/bitcoin/pull/17466" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/17466</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1573679820' id='685806'>
<a class='timestamp' href='#685806'><time timestamp='2019-11-13T21:17:00Z'>21:17</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke opened pull request #17469: test: Remove fragile assert_memory_usage_stable (master...1911-testFragileMem) <a href="https://github.com/bitcoin/bitcoin/pull/17469" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/17469</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1573680660' id='685807'>
<a class='timestamp' href='#685807'><time timestamp='2019-11-13T21:31:00Z'>21:31</time></a>
&lt;<span class='nick nick-4'> jamesob</span>&gt;
MarcoFalke: yeah in the second case I&#x27;m not doing a capture
<br>
</div>

<div class='talk op-msg' data-timestamp='1573683840' id='685808'>
<a class='timestamp' href='#685808'><time timestamp='2019-11-13T22:24:00Z'>22:24</time></a>
&lt;<span class='nick nick-4'> JeremyCrookshank</span>&gt;
@a5
<br>
</div>

<div class='talk op-msg' data-timestamp='1573686180' id='685809'>
<a class='timestamp' href='#685809'><time timestamp='2019-11-13T23:03:00Z'>23:03</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke opened pull request #17470: ci: Use clang-8 for fuzzing to run on aarch64 ci systems (master...1911-ciFuzzClang8) <a href="https://github.com/bitcoin/bitcoin/pull/17470" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/17470</a>
<br>
</div>

</div>
</section>

</body>
</html>
