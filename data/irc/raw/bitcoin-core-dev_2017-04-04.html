<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2017-04-04
 â€” 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2017-04-04' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:24 UTC</pre>
<pre><a href="/bitcoin-core-dev/2017-03-04">&lt;</a><span class='header'>    April 2017    </span><a href="/bitcoin-core-dev/2017-05-04">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;                   <a class="" href="/bitcoin-core-dev/2017-04-01">1</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2017-04-02">2</a>  <a class="" href="/bitcoin-core-dev/2017-04-03">3</a>  <a class="current" href="/bitcoin-core-dev/2017-04-04">4</a>  <a class="" href="/bitcoin-core-dev/2017-04-05">5</a>  <a class="" href="/bitcoin-core-dev/2017-04-06">6</a>  <a class="" href="/bitcoin-core-dev/2017-04-07">7</a>  <a class="" href="/bitcoin-core-dev/2017-04-08">8</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2017-04-09">9</a> <a class="" href="/bitcoin-core-dev/2017-04-10">10</a> <a class="" href="/bitcoin-core-dev/2017-04-11">11</a> <a class="" href="/bitcoin-core-dev/2017-04-12">12</a> <a class="" href="/bitcoin-core-dev/2017-04-13">13</a> <a class="" href="/bitcoin-core-dev/2017-04-14">14</a> <a class="" href="/bitcoin-core-dev/2017-04-15">15</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2017-04-16">16</a> <a class="" href="/bitcoin-core-dev/2017-04-17">17</a> <a class="" href="/bitcoin-core-dev/2017-04-18">18</a> <a class="" href="/bitcoin-core-dev/2017-04-19">19</a> <a class="" href="/bitcoin-core-dev/2017-04-20">20</a> <a class="" href="/bitcoin-core-dev/2017-04-21">21</a> <a class="" href="/bitcoin-core-dev/2017-04-22">22</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2017-04-23">23</a> <a class="" href="/bitcoin-core-dev/2017-04-24">24</a> <a class="" href="/bitcoin-core-dev/2017-04-25">25</a> <a class="" href="/bitcoin-core-dev/2017-04-26">26</a> <a class="" href="/bitcoin-core-dev/2017-04-27">27</a> <a class="" href="/bitcoin-core-dev/2017-04-28">28</a> <a class="" href="/bitcoin-core-dev/2017-04-29">29</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2017-04-30">30</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1491278640' id='538337'>
<a class='timestamp' href='#538337'><time timestamp='2017-04-04T04:04:00Z'>04:04</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] gmaxwell opened pull request #10146: Better error handling for submitblock (master...better_error_submitblock) <a href="https://github.com/bitcoin/bitcoin/pull/10146" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10146</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1491281400' id='538338'>
<a class='timestamp' href='#538338'><time timestamp='2017-04-04T04:50:00Z'>04:50</time></a>
&lt;<span class='nick nick-11'> kallewoof</span>&gt;
It struck me that nodes can delegate challenges they receive to other nodes, if they are formed properly. For example, challenge X lets node A connect to node B. A gives X to C saying C may use bloom filters if solves. C solves and gives to A, A gives to B, and B verifies and opens for A. That lets A know the solution was right so A now gives C reward.
<br>
</div>

<div class='talk op-msg' data-timestamp='1491281460' id='538339'>
<a class='timestamp' href='#538339'><time timestamp='2017-04-04T04:51:00Z'>04:51</time></a>
&lt;<span class='nick nick-11'> kallewoof</span>&gt;
Wrong channel.
<br>
</div>

<div class='talk op-msg' data-timestamp='1491284040' id='538340'>
<a class='timestamp' href='#538340'><time timestamp='2017-04-04T05:34:00Z'>05:34</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
:q     
<br>
</div>

<div class='talk op-msg' data-timestamp='1491284040' id='538341'>
<a class='timestamp' href='#538341'><time timestamp='2017-04-04T05:34:00Z'>05:34</time></a>
&lt;<span class='nick nick-2'> jeremyrubin</span>&gt;
crap this isn&#x27;t vim... reflexes...
<br>
</div>

<div class='talk op-msg' data-timestamp='1491289200' id='538342'>
<a class='timestamp' href='#538342'><time timestamp='2017-04-04T07:00:00Z'>07:00</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj pushed 4 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/471ed00fcd3b...72bc7e1303d5" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/471ed00fcd3b...72bc7e1303d5</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1491289200' id='538343'>
<a class='timestamp' href='#538343'><time timestamp='2017-04-04T07:00:00Z'>07:00</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master ada0caa Gregory Maxwell: Make GetWitnessCommitmentIndex callable on blocks without a coinbase txn....
<br>
</div>

<div class='talk op-msg' data-timestamp='1491289200' id='538344'>
<a class='timestamp' href='#538344'><time timestamp='2017-04-04T07:00:00Z'>07:00</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 4f15ea1 Gregory Maxwell: Check transaction count early in submitblock....
<br>
</div>

<div class='talk op-msg' data-timestamp='1491289200' id='538345'>
<a class='timestamp' href='#538345'><time timestamp='2017-04-04T07:00:00Z'>07:00</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 30f30c0 Gregory Maxwell: Add braces to submitblock per current style.
<br>
</div>

<div class='talk op-msg' data-timestamp='1491289260' id='538346'>
<a class='timestamp' href='#538346'><time timestamp='2017-04-04T07:01:00Z'>07:01</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] laanwj closed pull request #10146: Better error handling for submitblock (master...better_error_submitblock) <a href="https://github.com/bitcoin/bitcoin/pull/10146" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10146</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1491298440' id='538347'>
<a class='timestamp' href='#538347'><time timestamp='2017-04-04T09:34:00Z'>09:34</time></a>
&lt;<span class='nick nick-14'> da2ce7</span>&gt;
I have updated both my Bitcoin Knots and Bitcoin Core 0.14 patches for BIP 148
<br>
</div>

<div class='talk op-msg' data-timestamp='1491298440' id='538348'>
<a class='timestamp' href='#538348'><time timestamp='2017-04-04T09:34:00Z'>09:34</time></a>
&lt;<span class='nick nick-14'> da2ce7</span>&gt;
<a href="https://github.com/da2ce7/bitcoin/tree/bitcoin0.14_bip148" class="link" target="_blank">https://github.com/da2ce7/bitcoin/tree/bitcoin0.14_bip148</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1491298500' id='538349'>
<a class='timestamp' href='#538349'><time timestamp='2017-04-04T09:35:00Z'>09:35</time></a>
&lt;<span class='nick nick-14'> da2ce7</span>&gt;
<a href="https://github.com/da2ce7/bitcoin/tree/knotsbip148" class="link" target="_blank">https://github.com/da2ce7/bitcoin/tree/knotsbip148</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1491298500' id='538350'>
<a class='timestamp' href='#538350'><time timestamp='2017-04-04T09:35:00Z'>09:35</time></a>
&lt;<span class='nick nick-14'> da2ce7</span>&gt;
Core Review would be most appreciated.
<br>
</div>

<div class='talk op-msg' data-timestamp='1491298920' id='538351'>
<a class='timestamp' href='#538351'><time timestamp='2017-04-04T09:42:00Z'>09:42</time></a>
&lt;<span class='nick nick-14'> da2ce7</span>&gt;
In particular this pull request need code-review: <a href="https://github.com/bitcoin/bips/pull/512" class="link" target="_blank">https://github.com/bitcoin/bips/pull/512</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1491298920' id='538352'>
<a class='timestamp' href='#538352'><time timestamp='2017-04-04T09:42:00Z'>09:42</time></a>
&lt;<span class='nick nick-14'> da2ce7</span>&gt;
luke-jr: ^
<br>
</div>

<div class='talk op-msg' data-timestamp='1491299460' id='538353'>
<a class='timestamp' href='#538353'><time timestamp='2017-04-04T09:51:00Z'>09:51</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] sipa opened pull request #10148: Use non-atomic flushing with block replay (master...non_atomic_flush) <a href="https://github.com/bitcoin/bitcoin/pull/10148" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10148</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1491299460' id='538354'>
<a class='timestamp' href='#538354'><time timestamp='2017-04-04T09:51:00Z'>09:51</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
\O/     
<br>
</div>

<div class='talk op-msg' data-timestamp='1491329340' id='538355'>
<a class='timestamp' href='#538355'><time timestamp='2017-04-04T18:09:00Z'>18:09</time></a>
&lt;<span class='nick nick-16'> bsm117532</span>&gt;
Does P2SH entirely eliminate scriptSig malleability?
<br>
</div>

<div class='talk op-msg' data-timestamp='1491329460' id='538356'>
<a class='timestamp' href='#538356'><time timestamp='2017-04-04T18:11:00Z'>18:11</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
? it&#x27;s not intended to
<br>
</div>

<div class='talk op-msg' data-timestamp='1491329520' id='538357'>
<a class='timestamp' href='#538357'><time timestamp='2017-04-04T18:12:00Z'>18:12</time></a>
&lt;<span class='nick nick-16'> bsm117532</span>&gt;
I know, but it seems to me it could, if the scriptSig was required to be:   OP_HASH160 [20-byte-hash-value] OP_EQUAL
<br>
</div>

<div class='talk op-msg' data-timestamp='1491329580' id='538358'>
<a class='timestamp' href='#538358'><time timestamp='2017-04-04T18:13:00Z'>18:13</time></a>
&lt;<span class='nick nick-16'> bsm117532</span>&gt;
s/scriptSig/scriptPubKey/
<br>
</div>

<div class='talk op-msg' data-timestamp='1491329760' id='538359'>
<a class='timestamp' href='#538359'><time timestamp='2017-04-04T18:16:00Z'>18:16</time></a>
&lt;<span class='nick nick-16'> bsm117532</span>&gt;
and if non-pushdata in the scriptSig were consensus-enforced.
<br>
</div>

<div class='talk op-msg' data-timestamp='1491329820' id='538360'>
<a class='timestamp' href='#538360'><time timestamp='2017-04-04T18:17:00Z'>18:17</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jnewbery opened pull request #10150: [rpc Add logging rpc (master...logging_rpc) <a href="https://github.com/bitcoin/bitcoin/pull/10150" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10150</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1491330300' id='538361'>
<a class='timestamp' href='#538361'><time timestamp='2017-04-04T18:25:00Z'>18:25</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
bsm117532: the scriptSig still needs to contain the inputs to the redeemscript (ecdsa signatures etc)
<br>
</div>

<div class='talk op-msg' data-timestamp='1491330300' id='538362'>
<a class='timestamp' href='#538362'><time timestamp='2017-04-04T18:25:00Z'>18:25</time></a>
&lt;<span class='nick nick-16'> bsm117532</span>&gt;
sipa of course, but I <b>*think*</b> that leaves low-S malleation as the only malleation for P2SH transactions?
<br>
</div>

<div class='talk op-msg' data-timestamp='1491330360' id='538363'>
<a class='timestamp' href='#538363'><time timestamp='2017-04-04T18:26:00Z'>18:26</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
read bip62
<br>
</div>

<div class='talk op-msg' data-timestamp='1491330360' id='538364'>
<a class='timestamp' href='#538364'><time timestamp='2017-04-04T18:26:00Z'>18:26</time></a>
&lt;<span class='nick nick-16'> bsm117532</span>&gt;
I am...
<br>
</div>

<div class='talk op-msg' data-timestamp='1491330360' id='538365'>
<a class='timestamp' href='#538365'><time timestamp='2017-04-04T18:26:00Z'>18:26</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it lists 9 sources of malleability :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1491330360' id='538366'>
<a class='timestamp' href='#538366'><time timestamp='2017-04-04T18:26:00Z'>18:26</time></a>
&lt;<span class='nick nick-16'> bsm117532</span>&gt;
My question is: does bitcoin consensus-enforce the statements in BIP16 about disallowing non-pushdata?
<br>
</div>

<div class='talk op-msg' data-timestamp='1491330420' id='538367'>
<a class='timestamp' href='#538367'><time timestamp='2017-04-04T18:27:00Z'>18:27</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i believe so
<br>
</div>

<div class='talk op-msg' data-timestamp='1491330420' id='538368'>
<a class='timestamp' href='#538368'><time timestamp='2017-04-04T18:27:00Z'>18:27</time></a>
&lt;<span class='nick nick-16'> bsm117532</span>&gt;
Because it seems to me that would disallow all non-low-S-malleation types of malleability.
<br>
</div>

<div class='talk op-msg' data-timestamp='1491330480' id='538369'>
<a class='timestamp' href='#538369'><time timestamp='2017-04-04T18:28:00Z'>18:28</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
what if your redeemscript contains a silly OP_DROP?
<br>
</div>

<div class='talk op-msg' data-timestamp='1491330540' id='538370'>
<a class='timestamp' href='#538370'><time timestamp='2017-04-04T18:29:00Z'>18:29</time></a>
&lt;<span class='nick nick-16'> bsm117532</span>&gt;
That&#x27;s fine but it was committed to in the P2SH hash...
<br>
</div>

<div class='talk op-msg' data-timestamp='1491330540' id='538371'>
<a class='timestamp' href='#538371'><time timestamp='2017-04-04T18:29:00Z'>18:29</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
no     
<br>
</div>

<div class='talk op-msg' data-timestamp='1491330540' id='538372'>
<a class='timestamp' href='#538372'><time timestamp='2017-04-04T18:29:00Z'>18:29</time></a>
&lt;<span class='nick nick-16'> bsm117532</span>&gt;
So you&#x27;re saying I can create a stupid script which allows malleability...
<br>
</div>

<div class='talk op-msg' data-timestamp='1491330540' id='538373'>
<a class='timestamp' href='#538373'><time timestamp='2017-04-04T18:29:00Z'>18:29</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
the redeemscript is committed to
<br>
</div>

<div class='talk op-msg' data-timestamp='1491330540' id='538374'>
<a class='timestamp' href='#538374'><time timestamp='2017-04-04T18:29:00Z'>18:29</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
its inputs are not
<br>
</div>

<div class='talk op-msg' data-timestamp='1491330540' id='538375'>
<a class='timestamp' href='#538375'><time timestamp='2017-04-04T18:29:00Z'>18:29</time></a>
&lt;<span class='nick nick-16'> bsm117532</span>&gt;
exactly
<br>
</div>

<div class='talk op-msg' data-timestamp='1491330540' id='538376'>
<a class='timestamp' href='#538376'><time timestamp='2017-04-04T18:29:00Z'>18:29</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
you can have redeemscripts that ignore inputs
<br>
</div>

<div class='talk op-msg' data-timestamp='1491330540' id='538377'>
<a class='timestamp' href='#538377'><time timestamp='2017-04-04T18:29:00Z'>18:29</time></a>
&lt;<span class='nick nick-16'> bsm117532</span>&gt;
Ok, I can handle that by not writing script containing OP_DROP ;-)
<br>
</div>

<div class='talk op-msg' data-timestamp='1491330540' id='538378'>
<a class='timestamp' href='#538378'><time timestamp='2017-04-04T18:29:00Z'>18:29</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
or allow multiple variants at least
<br>
</div>

<div class='talk op-msg' data-timestamp='1491330600' id='538379'>
<a class='timestamp' href='#538379'><time timestamp='2017-04-04T18:30:00Z'>18:30</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i can&#x27;t force everyone sending me transactions to not use such scripts
<br>
</div>

<div class='talk op-msg' data-timestamp='1491330600' id='538380'>
<a class='timestamp' href='#538380'><time timestamp='2017-04-04T18:30:00Z'>18:30</time></a>
&lt;<span class='nick nick-16'> bsm117532</span>&gt;
Of course not, but within my software stack I&#x27;m not going to do things like that.. ;-)
<br>
</div>

<div class='talk op-msg' data-timestamp='1491330600' id='538381'>
<a class='timestamp' href='#538381'><time timestamp='2017-04-04T18:30:00Z'>18:30</time></a>
&lt;<span class='nick nick-16'> bsm117532</span>&gt;
That&#x27;s a good attack to consider though...
<br>
</div>

<div class='talk op-msg' data-timestamp='1491330600' id='538382'>
<a class='timestamp' href='#538382'><time timestamp='2017-04-04T18:30:00Z'>18:30</time></a>
&lt;<span class='nick nick-14'> * bsm117532</span>&gt;
ponders...
<br>
</div>

<div class='talk op-msg' data-timestamp='1491330840' id='538383'>
<a class='timestamp' href='#538383'><time timestamp='2017-04-04T18:34:00Z'>18:34</time></a>
&lt;<span class='nick nick-14'> * bsm117532</span>&gt;
has already written a segwit implementation...I wish I could just use that...
<br>
</div>

<div class='talk op-msg' data-timestamp='1491330840' id='538384'>
<a class='timestamp' href='#538384'><time timestamp='2017-04-04T18:34:00Z'>18:34</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
also, if there is a multisig involved, one of the parties can just create a new ecdsa signature
<br>
</div>

<div class='talk op-msg' data-timestamp='1491330840' id='538385'>
<a class='timestamp' href='#538385'><time timestamp='2017-04-04T18:34:00Z'>18:34</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that is an issue for many contracts
<br>
</div>

<div class='talk op-msg' data-timestamp='1491330900' id='538386'>
<a class='timestamp' href='#538386'><time timestamp='2017-04-04T18:35:00Z'>18:35</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and not something that simple requirements of a canonical form can ever fix
<br>
</div>

<div class='talk op-msg' data-timestamp='1491330900' id='538387'>
<a class='timestamp' href='#538387'><time timestamp='2017-04-04T18:35:00Z'>18:35</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
(but segwit does)
<br>
</div>

<div class='talk op-msg' data-timestamp='1491330900' id='538388'>
<a class='timestamp' href='#538388'><time timestamp='2017-04-04T18:35:00Z'>18:35</time></a>
&lt;<span class='nick nick-16'> bsm117532</span>&gt;
Is there no enforcement of deterministic signatures?
<br>
</div>

<div class='talk op-msg' data-timestamp='1491330900' id='538389'>
<a class='timestamp' href='#538389'><time timestamp='2017-04-04T18:35:00Z'>18:35</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
ecdsa signatures are not deterministic
<br>
</div>

<div class='talk op-msg' data-timestamp='1491330900' id='538390'>
<a class='timestamp' href='#538390'><time timestamp='2017-04-04T18:35:00Z'>18:35</time></a>
&lt;<span class='nick nick-6'> adiabat</span>&gt;
it&#x27;s not possible to enforce
<br>
</div>

<div class='talk op-msg' data-timestamp='1491330900' id='538391'>
<a class='timestamp' href='#538391'><time timestamp='2017-04-04T18:35:00Z'>18:35</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and requiring them to be requires revealing the private key
<br>
</div>

<div class='talk op-msg' data-timestamp='1491330960' id='538392'>
<a class='timestamp' href='#538392'><time timestamp='2017-04-04T18:36:00Z'>18:36</time></a>
&lt;<span class='nick nick-16'> bsm117532</span>&gt;
gotcha
<br>
</div>

<div class='talk op-msg' data-timestamp='1491330960' id='538393'>
<a class='timestamp' href='#538393'><time timestamp='2017-04-04T18:36:00Z'>18:36</time></a>
&lt;<span class='nick nick-16'> bsm117532</span>&gt;
ah yeah the determinism algorithm hashes the privkey...
<br>
</div>

<div class='talk op-msg' data-timestamp='1491330960' id='538394'>
<a class='timestamp' href='#538394'><time timestamp='2017-04-04T18:36:00Z'>18:36</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
you may want BLS :p
<br>
</div>

<div class='talk op-msg' data-timestamp='1491330960' id='538395'>
<a class='timestamp' href='#538395'><time timestamp='2017-04-04T18:36:00Z'>18:36</time></a>
&lt;<span class='nick nick-6'> adiabat</span>&gt;
half the size too :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1491330960' id='538396'>
<a class='timestamp' href='#538396'><time timestamp='2017-04-04T18:36:00Z'>18:36</time></a>
&lt;<span class='nick nick-16'> bsm117532</span>&gt;
I&#x27;ll have to wrap my brain around BLS later.  Gotta work around malleability instead. :-(
<br>
</div>

<div class='talk op-msg' data-timestamp='1491331020' id='538397'>
<a class='timestamp' href='#538397'><time timestamp='2017-04-04T18:37:00Z'>18:37</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
you want segwit &lt;/jeditrick&gt;
<br>
</div>

<div class='talk op-msg' data-timestamp='1491331080' id='538398'>
<a class='timestamp' href='#538398'><time timestamp='2017-04-04T18:38:00Z'>18:38</time></a>
&lt;<span class='nick nick-16'> bsm117532</span>&gt;
So to work around existing malleability, I&#x27;m going to use P2SH transactions (with no OP_DROPs), and try to detect low-S-malleations.
<br>
</div>

<div class='talk op-msg' data-timestamp='1491331080' id='538399'>
<a class='timestamp' href='#538399'><time timestamp='2017-04-04T18:38:00Z'>18:38</time></a>
&lt;<span class='nick nick-16'> bsm117532</span>&gt;
sipa: Did I mention I already wrote this for segwit?  It works great on my regtest!
<br>
</div>

<div class='talk op-msg' data-timestamp='1491331140' id='538400'>
<a class='timestamp' href='#538400'><time timestamp='2017-04-04T18:39:00Z'>18:39</time></a>
&lt;<span class='nick nick-6'> adiabat</span>&gt;
bsm117532: the problem is op_drops can show up in the sigscript, which is not covered by the p2sh script hash
<br>
</div>

<div class='talk op-msg' data-timestamp='1491331140' id='538401'>
<a class='timestamp' href='#538401'><time timestamp='2017-04-04T18:39:00Z'>18:39</time></a>
&lt;<span class='nick nick-16'> bsm117532</span>&gt;
adiabat: as I understand it, an OP_DROP in a P2SH scriptSig would be disallowed by consensus rules.
<br>
</div>

<div class='talk op-msg' data-timestamp='1491331140' id='538402'>
<a class='timestamp' href='#538402'><time timestamp='2017-04-04T18:39:00Z'>18:39</time></a>
&lt;<span class='nick nick-16'> bsm117532</span>&gt;
(because it has to be only data pushes)
<br>
</div>

<div class='talk op-msg' data-timestamp='1491331200' id='538403'>
<a class='timestamp' href='#538403'><time timestamp='2017-04-04T18:40:00Z'>18:40</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
in the scriptSig it is disallowed
<br>
</div>

<div class='talk op-msg' data-timestamp='1491331200' id='538404'>
<a class='timestamp' href='#538404'><time timestamp='2017-04-04T18:40:00Z'>18:40</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
in the redeemscript it isn&#x27;t
<br>
</div>

<div class='talk op-msg' data-timestamp='1491331200' id='538405'>
<a class='timestamp' href='#538405'><time timestamp='2017-04-04T18:40:00Z'>18:40</time></a>
&lt;<span class='nick nick-16'> bsm117532</span>&gt;
Yes.  So I&#x27;d only have malleability if I create a redeemscript that allows for a malleable scriptSig.
<br>
</div>

<div class='talk op-msg' data-timestamp='1491331260' id='538406'>
<a class='timestamp' href='#538406'><time timestamp='2017-04-04T18:41:00Z'>18:41</time></a>
&lt;<span class='nick nick-16'> bsm117532</span>&gt;
(and I can control the redeemscript as long as someone doesn&#x27;t hack my software)
<br>
</div>

<div class='talk op-msg' data-timestamp='1491331260' id='538407'>
<a class='timestamp' href='#538407'><time timestamp='2017-04-04T18:41:00Z'>18:41</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
which every multisig check does
<br>
</div>

<div class='talk op-msg' data-timestamp='1491331260' id='538408'>
<a class='timestamp' href='#538408'><time timestamp='2017-04-04T18:41:00Z'>18:41</time></a>
&lt;<span class='nick nick-16'> bsm117532</span>&gt;
sipa: how?
<br>
</div>

<div class='talk op-msg' data-timestamp='1491331320' id='538409'>
<a class='timestamp' href='#538409'><time timestamp='2017-04-04T18:42:00Z'>18:42</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
as OP_CHECKMULTISIG pops one element off the stack without looking at it
<br>
</div>

<div class='talk op-msg' data-timestamp='1491331320' id='538410'>
<a class='timestamp' href='#538410'><time timestamp='2017-04-04T18:42:00Z'>18:42</time></a>
&lt;<span class='nick nick-16'> bsm117532</span>&gt;
oh balls you&#x27;re right
<br>
</div>

<div class='talk op-msg' data-timestamp='1491331320' id='538411'>
<a class='timestamp' href='#538411'><time timestamp='2017-04-04T18:42:00Z'>18:42</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and your cosigners can always malleate, as i&#x27;ve explained
<br>
</div>

<div class='talk op-msg' data-timestamp='1491331320' id='538412'>
<a class='timestamp' href='#538412'><time timestamp='2017-04-04T18:42:00Z'>18:42</time></a>
&lt;<span class='nick nick-16'> bsm117532</span>&gt;
Then I can&#x27;t use a multisig script...not a problem actually.
<br>
</div>

<div class='talk op-msg' data-timestamp='1491331380' id='538413'>
<a class='timestamp' href='#538413'><time timestamp='2017-04-04T18:43:00Z'>18:43</time></a>
&lt;<span class='nick nick-16'> bsm117532</span>&gt;
I&#x27;ll just use a P2SH where the redeemscript is a P2PKH script...
<br>
</div>

<div class='talk op-msg' data-timestamp='1491331380' id='538414'>
<a class='timestamp' href='#538414'><time timestamp='2017-04-04T18:43:00Z'>18:43</time></a>
&lt;<span class='nick nick-6'> adiabat</span>&gt;
It&#x27;s very hard to prevent different txids; dealing with it in a way that nobody loses money is oftern easier
<br>
</div>

<div class='talk op-msg' data-timestamp='1491331500' id='538415'>
<a class='timestamp' href='#538415'><time timestamp='2017-04-04T18:45:00Z'>18:45</time></a>
&lt;<span class='nick nick-16'> bsm117532</span>&gt;
adiabat: for me that requires detecting malleation and in some cases writing new transactions (I have pre-signed, off-chain transactions).  Hence why I&#x27;m trying to determine all the forms of malleation I might see...
<br>
</div>

<div class='talk op-msg' data-timestamp='1491331620' id='538416'>
<a class='timestamp' href='#538416'><time timestamp='2017-04-04T18:47:00Z'>18:47</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
there is no proof that there are no other forms of ecdsa malleabillity, bte
<br>
</div>

<div class='talk op-msg' data-timestamp='1491331680' id='538417'>
<a class='timestamp' href='#538417'><time timestamp='2017-04-04T18:48:00Z'>18:48</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
w     
<br>
</div>

<div class='talk op-msg' data-timestamp='1491331680' id='538418'>
<a class='timestamp' href='#538418'><time timestamp='2017-04-04T18:48:00Z'>18:48</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
(though it seems very unlikely)
<br>
</div>

<div class='talk op-msg' data-timestamp='1491331680' id='538419'>
<a class='timestamp' href='#538419'><time timestamp='2017-04-04T18:48:00Z'>18:48</time></a>
&lt;<span class='nick nick-6'> adiabat</span>&gt;
detecting it could be as simple as detecting that the same utxos are being spent
<br>
</div>

<div class='talk op-msg' data-timestamp='1491331740' id='538420'>
<a class='timestamp' href='#538420'><time timestamp='2017-04-04T18:49:00Z'>18:49</time></a>
&lt;<span class='nick nick-16'> bsm117532</span>&gt;
adiabat: yes, I&#x27;ll do that.  Detection is fine but I&#x27;m also trying to figure out how to write transactions to minimize the possibility.
<br>
</div>

<div class='talk op-msg' data-timestamp='1491331800' id='538421'>
<a class='timestamp' href='#538421'><time timestamp='2017-04-04T18:50:00Z'>18:50</time></a>
&lt;<span class='nick nick-6'> adiabat</span>&gt;
if it&#x27;s just 1 signer, and that signer is you, then it&#x27;s often not too bad if the txid changes.  you can deal with it
<br>
</div>

<div class='talk op-msg' data-timestamp='1491331800' id='538422'>
<a class='timestamp' href='#538422'><time timestamp='2017-04-04T18:50:00Z'>18:50</time></a>
&lt;<span class='nick nick-16'> bsm117532</span>&gt;
yep yep
<br>
</div>

<div class='talk op-msg' data-timestamp='1491331860' id='538423'>
<a class='timestamp' href='#538423'><time timestamp='2017-04-04T18:51:00Z'>18:51</time></a>
&lt;<span class='nick nick-6'> adiabat</span>&gt;
and you&#x27;ll have to write that code anyway I think, as you can&#x27;t really prevent if 100%
<br>
</div>

<div class='talk op-msg' data-timestamp='1491331860' id='538424'>
<a class='timestamp' href='#538424'><time timestamp='2017-04-04T18:51:00Z'>18:51</time></a>
&lt;<span class='nick nick-16'> bsm117532</span>&gt;
Segwit does :-P
<br>
</div>

<div class='talk op-msg' data-timestamp='1491332580' id='538425'>
<a class='timestamp' href='#538425'><time timestamp='2017-04-04T19:03:00Z'>19:03</time></a>
&lt;<span class='nick nick-16'> bsm117532</span>&gt;
Heh this is an interesting script: &lt;Pubkey&gt; OP_SWAP OP_CHECKSIG
<br>
</div>

<div class='talk op-msg' data-timestamp='1491332580' id='538426'>
<a class='timestamp' href='#538426'><time timestamp='2017-04-04T19:03:00Z'>19:03</time></a>
&lt;<span class='nick nick-16'> bsm117532</span>&gt;
Then the scriptSig is only the signature (no pubkey)
<br>
</div>

<div class='talk op-msg' data-timestamp='1491332700' id='538427'>
<a class='timestamp' href='#538427'><time timestamp='2017-04-04T19:05:00Z'>19:05</time></a>
&lt;<span class='nick nick-16'> bsm117532</span>&gt;
I was thinking of using a P2PKH script as the script for a P2SH, but the one above would be smaller by ~20 bytes
<br>
</div>

<div class='talk op-msg' data-timestamp='1491332760' id='538428'>
<a class='timestamp' href='#538428'><time timestamp='2017-04-04T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
you don&#x27;t need the OP_SWAP?
<br>
</div>

<div class='talk op-msg' data-timestamp='1491332760' id='538429'>
<a class='timestamp' href='#538429'><time timestamp='2017-04-04T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-16'> bsm117532</span>&gt;
I was wondering that...
<br>
</div>

<div class='talk op-msg' data-timestamp='1491332880' id='538430'>
<a class='timestamp' href='#538430'><time timestamp='2017-04-04T19:08:00Z'>19:08</time></a>
&lt;<span class='nick nick-16'> bsm117532</span>&gt;
But if I&#x27;m reading this right, my stack will be &lt;pubkey&gt; &lt;sig&gt;... and it needs to be the opposite?
<br>
</div>

<div class='talk op-msg' data-timestamp='1491333180' id='538431'>
<a class='timestamp' href='#538431'><time timestamp='2017-04-04T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
no, does not need to be the opposite (trace what happens in a P2PKH spend).
<br>
</div>

<div class='talk op-msg' data-timestamp='1491333180' id='538432'>
<a class='timestamp' href='#538432'><time timestamp='2017-04-04T19:13:00Z'>19:13</time></a>
&lt;<span class='nick nick-16'> bsm117532</span>&gt;
sdaftuar: thanks
<br>
</div>

<div class='talk op-msg' data-timestamp='1491333780' id='538433'>
<a class='timestamp' href='#538433'><time timestamp='2017-04-04T19:23:00Z'>19:23</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jnewbery opened pull request #10151: [logging] initialize flag variable to 0 (and continue if GetLogCategory() fails) (master...logging_initialization) <a href="https://github.com/bitcoin/bitcoin/pull/10151" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10151</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1491342240' id='538434'>
<a class='timestamp' href='#538434'><time timestamp='2017-04-04T21:44:00Z'>21:44</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] jnewbery opened pull request #10152: [trivial] remove unused line in Travis config (master...travis_cleanup) <a href="https://github.com/bitcoin/bitcoin/pull/10152" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10152</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1491344700' id='538435'>
<a class='timestamp' href='#538435'><time timestamp='2017-04-04T22:25:00Z'>22:25</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/72bc7e1303d5...080d7c700fc3" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/72bc7e1303d5...080d7c700fc3</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1491344700' id='538436'>
<a class='timestamp' href='#538436'><time timestamp='2017-04-04T22:25:00Z'>22:25</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 16791c5 John Newbery: [trivial] remove unused line in Travis config
<br>
</div>

<div class='talk op-msg' data-timestamp='1491344700' id='538437'>
<a class='timestamp' href='#538437'><time timestamp='2017-04-04T22:25:00Z'>22:25</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
bitcoin/master 080d7c7 MarcoFalke: Merge #10152: [trivial] remove unused line in Travis config...
<br>
</div>

<div class='talk op-msg' data-timestamp='1491344760' id='538438'>
<a class='timestamp' href='#538438'><time timestamp='2017-04-04T22:26:00Z'>22:26</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke closed pull request #10152: [trivial] remove unused line in Travis config (master...travis_cleanup) <a href="https://github.com/bitcoin/bitcoin/pull/10152" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10152</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1491346140' id='538439'>
<a class='timestamp' href='#538439'><time timestamp='2017-04-04T22:49:00Z'>22:49</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke opened pull request #10153: logging: Fix off-by-one for shrinkdebugfile default (master...Mf1704-offbyoneDebug) <a href="https://github.com/bitcoin/bitcoin/pull/10153" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10153</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1491347400' id='538440'>
<a class='timestamp' href='#538440'><time timestamp='2017-04-04T23:10:00Z'>23:10</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] MarcoFalke opened pull request #10154: init: Remove redundant logging code (master...Mf1704-lognodebug) <a href="https://github.com/bitcoin/bitcoin/pull/10154" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/10154</a>
<br>
</div>

</div>
</section>

</body>
</html>
