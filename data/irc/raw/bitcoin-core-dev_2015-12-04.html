<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2015-12-04
 â€” 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2015-12-04' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:27 UTC</pre>
<pre><a href="/bitcoin-core-dev/2015-11-04">&lt;</a><span class='header'>  December 2015   </span><a href="/bitcoin-core-dev/2016-01-04">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;       <a class="" href="/bitcoin-core-dev/2015-12-01">1</a>  <a class="" href="/bitcoin-core-dev/2015-12-02">2</a>  <a class="" href="/bitcoin-core-dev/2015-12-03">3</a>  <a class="current" href="/bitcoin-core-dev/2015-12-04">4</a>  <a class="" href="/bitcoin-core-dev/2015-12-05">5</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2015-12-06">6</a>  <a class="" href="/bitcoin-core-dev/2015-12-07">7</a>  <a class="" href="/bitcoin-core-dev/2015-12-08">8</a>  <a class="" href="/bitcoin-core-dev/2015-12-09">9</a> <a class="" href="/bitcoin-core-dev/2015-12-10">10</a> <a class="" href="/bitcoin-core-dev/2015-12-11">11</a> <a class="" href="/bitcoin-core-dev/2015-12-12">12</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2015-12-13">13</a> <a class="" href="/bitcoin-core-dev/2015-12-14">14</a> <a class="" href="/bitcoin-core-dev/2015-12-15">15</a> <a class="" href="/bitcoin-core-dev/2015-12-16">16</a> <a class="" href="/bitcoin-core-dev/2015-12-17">17</a> <a class="" href="/bitcoin-core-dev/2015-12-18">18</a> <a class="" href="/bitcoin-core-dev/2015-12-19">19</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2015-12-20">20</a> <a class="" href="/bitcoin-core-dev/2015-12-21">21</a> <a class="" href="/bitcoin-core-dev/2015-12-22">22</a> <a class="" href="/bitcoin-core-dev/2015-12-23">23</a> <a class="" href="/bitcoin-core-dev/2015-12-24">24</a> <a class="" href="/bitcoin-core-dev/2015-12-25">25</a> <a class="" href="/bitcoin-core-dev/2015-12-26">26</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2015-12-27">27</a> <a class="" href="/bitcoin-core-dev/2015-12-28">28</a> <a class="" href="/bitcoin-core-dev/2015-12-29">29</a> <a class="" href="/bitcoin-core-dev/2015-12-30">30</a> <a class="" href="/bitcoin-core-dev/2015-12-31">31</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1449187260' id='443061'>
<a class='timestamp' href='#443061'><time timestamp='2015-12-04T00:01:00Z'>00:01</time></a>
&lt;<span class='nick nick-12'> GitHub68</span>&gt;
[bitcoin] jameshilliard opened pull request #7167: Move TestBlockValidity into a background thread (master...TBVBackground) <a href="https://github.com/bitcoin/bitcoin/pull/7167" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/7167</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1449189360' id='443062'>
<a class='timestamp' href='#443062'><time timestamp='2015-12-04T00:36:00Z'>00:36</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
so we should probably reconsider a block that&#x27;s marked invalid once for every valid header on top of it (since we cant tell if the blocks on top are invalid)
<br>
</div>

<div class='talk op-msg' data-timestamp='1449189360' id='443063'>
<a class='timestamp' href='#443063'><time timestamp='2015-12-04T00:36:00Z'>00:36</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
that might help with the &quot;my system is shitty and randomly flips bits&quot; people
<br>
</div>

<div class='talk op-msg' data-timestamp='1449189660' id='443064'>
<a class='timestamp' href='#443064'><time timestamp='2015-12-04T00:41:00Z'>00:41</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
I&#x27;m not really comfortable with people running wallets on such systems; not at least until we add a fair bit more protection.
<br>
</div>

<div class='talk op-msg' data-timestamp='1449189840' id='443065'>
<a class='timestamp' href='#443065'><time timestamp='2015-12-04T00:44:00Z'>00:44</time></a>
&lt;<span class='nick nick-3'> tulip</span>&gt;
maybe just run CheckBlock in a loop until the bit happens to flip back. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1449191040' id='443066'>
<a class='timestamp' href='#443066'><time timestamp='2015-12-04T01:04:00Z'>01:04</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
gmaxwell, fair
<br>
</div>

<div class='talk op-msg' data-timestamp='1449191100' id='443067'>
<a class='timestamp' href='#443067'><time timestamp='2015-12-04T01:05:00Z'>01:05</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
tulip, har
<br>
</div>

<div class='talk op-msg' data-timestamp='1449202440' id='443068'>
<a class='timestamp' href='#443068'><time timestamp='2015-12-04T04:14:00Z'>04:14</time></a>
&lt;<span class='nick nick-15'> GitHub149</span>&gt;
[bitcoin] tadasvaranavicius opened pull request #7168: Fix socket recv buffer bug (master...fix_network_buffer_bug) <a href="https://github.com/bitcoin/bitcoin/pull/7168" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/7168</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1449203700' id='443069'>
<a class='timestamp' href='#443069'><time timestamp='2015-12-04T04:35:00Z'>04:35</time></a>
&lt;<span class='nick nick-14'> GitHub179</span>&gt;
[bitcoin] tadasvaranavicius closed pull request #7168: Fix socket recv buffer bug (master...fix_network_buffer_bug) <a href="https://github.com/bitcoin/bitcoin/pull/7168" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/7168</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1449210840' id='443070'>
<a class='timestamp' href='#443070'><time timestamp='2015-12-04T06:34:00Z'>06:34</time></a>
&lt;<span class='nick nick-3'> dcousens</span>&gt;
gmaxwell: rpc is still slow as <b>*insert crude culturally relevant derogitory comment here*</b>
<br>
</div>

<div class='talk op-msg' data-timestamp='1449210840' id='443071'>
<a class='timestamp' href='#443071'><time timestamp='2015-12-04T06:34:00Z'>06:34</time></a>
&lt;<span class='nick nick-3'> dcousens</span>&gt;
at least, in terms of parsing the whole blockchain over it :P
<br>
</div>

<div class='talk op-msg' data-timestamp='1449213420' id='443072'>
<a class='timestamp' href='#443072'><time timestamp='2015-12-04T07:17:00Z'>07:17</time></a>
&lt;<span class='nick nick-9'> GitHub136</span>&gt;
[bitcoin] paveljanik opened pull request #7169: [Trivial] Disable compiler warnings about unused functions (master...20151204_scheduler_tests_warning) <a href="https://github.com/bitcoin/bitcoin/pull/7169" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/7169</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1449218580' id='443073'>
<a class='timestamp' href='#443073'><time timestamp='2015-12-04T08:43:00Z'>08:43</time></a>
&lt;<span class='nick nick-2'> GitHub164</span>&gt;
[bitcoin] laanwj pushed 2 new commits to master: <a href="https://github.com/bitcoin/bitcoin/compare/5548d9cb11c8...792259278e4f" class="link" target="_blank">https://github.com/bitcoin/bitcoin/compare/5548d9cb11c8...792259278e4f</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1449218580' id='443074'>
<a class='timestamp' href='#443074'><time timestamp='2015-12-04T08:43:00Z'>08:43</time></a>
&lt;<span class='nick nick-2'> GitHub164</span>&gt;
bitcoin/master 6aadc75 Gregory Maxwell: Disconnect on mempool requests from peers when over the upload limit....
<br>
</div>

<div class='talk op-msg' data-timestamp='1449218580' id='443075'>
<a class='timestamp' href='#443075'><time timestamp='2015-12-04T08:43:00Z'>08:43</time></a>
&lt;<span class='nick nick-2'> GitHub164</span>&gt;
bitcoin/master 7922592 Wladimir J. van der Laan: Merge pull request #7166...
<br>
</div>

<div class='talk op-msg' data-timestamp='1449218580' id='443076'>
<a class='timestamp' href='#443076'><time timestamp='2015-12-04T08:43:00Z'>08:43</time></a>
&lt;<span class='nick nick-10'> GitHub147</span>&gt;
[bitcoin] laanwj closed pull request #7166: Disconnect on mempool requests from peers when over the upload limit. (master...mempool_p2p_when_overlimit) <a href="https://github.com/bitcoin/bitcoin/pull/7166" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/7166</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1449218700' id='443077'>
<a class='timestamp' href='#443077'><time timestamp='2015-12-04T08:45:00Z'>08:45</time></a>
&lt;<span class='nick nick-4'> GitHub63</span>&gt;
[bitcoin] laanwj pushed 1 new commit to 0.12: <a href="https://github.com/bitcoin/bitcoin/commit/6ba25d28868146d5d6dbd671881db3a58f549567" class="link" target="_blank">https://github.com/bitcoin/bitcoin/commit/6ba25d28868146d5d6dbd671881db3a58f549567</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1449218700' id='443078'>
<a class='timestamp' href='#443078'><time timestamp='2015-12-04T08:45:00Z'>08:45</time></a>
&lt;<span class='nick nick-4'> GitHub63</span>&gt;
bitcoin/0.12 6ba25d2 Gregory Maxwell: Disconnect on mempool requests from peers when over the upload limit....
<br>
</div>

<div class='talk op-msg' data-timestamp='1449222120' id='443079'>
<a class='timestamp' href='#443079'><time timestamp='2015-12-04T09:42:00Z'>09:42</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
wumpus: the message header size is always 24 bytes, correct?
<br>
</div>

<div class='talk op-msg' data-timestamp='1449222240' id='443080'>
<a class='timestamp' href='#443080'><time timestamp='2015-12-04T09:44:00Z'>09:44</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
jonasschnelli: I don&#x27;t know the exact value by heart, let me see
<br>
</div>

<div class='talk op-msg' data-timestamp='1449222240' id='443081'>
<a class='timestamp' href='#443081'><time timestamp='2015-12-04T09:44:00Z'>09:44</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
hmm... another magic number.
<br>
</div>

<div class='talk op-msg' data-timestamp='1449222240' id='443082'>
<a class='timestamp' href='#443082'><time timestamp='2015-12-04T09:44:00Z'>09:44</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
i think i can use CMessageHeader::COMMAND_SIZE, etc.
<br>
</div>

<div class='talk op-msg' data-timestamp='1449222240' id='443083'>
<a class='timestamp' href='#443083'><time timestamp='2015-12-04T09:44:00Z'>09:44</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
CMessageHeader::HEADER_SIZE
<br>
</div>

<div class='talk op-msg' data-timestamp='1449222300' id='443084'>
<a class='timestamp' href='#443084'><time timestamp='2015-12-04T09:45:00Z'>09:45</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Right! Thanks
<br>
</div>

<div class='talk op-msg' data-timestamp='1449222300' id='443085'>
<a class='timestamp' href='#443085'><time timestamp='2015-12-04T09:45:00Z'>09:45</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
and yes, should be 24
<br>
</div>

<div class='talk op-msg' data-timestamp='1449222480' id='443086'>
<a class='timestamp' href='#443086'><time timestamp='2015-12-04T09:48:00Z'>09:48</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
jonasschnelli: did you forget it for  mapSendBytesPerCmd[std::string(pszCommand)] += nSize; ?
<br>
</div>

<div class='talk op-msg' data-timestamp='1449222600' id='443087'>
<a class='timestamp' href='#443087'><time timestamp='2015-12-04T09:50:00Z'>09:50</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
wumpus: Thanks! right. there it&#x27;s also required because of nSize = ssSend.size() - CMessageHeader::HEADER_SIZE
<br>
</div>

<div class='talk op-msg' data-timestamp='1449222600' id='443088'>
<a class='timestamp' href='#443088'><time timestamp='2015-12-04T09:50:00Z'>09:50</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
pushed
<br>
</div>

<div class='talk op-msg' data-timestamp='1449222660' id='443089'>
<a class='timestamp' href='#443089'><time timestamp='2015-12-04T09:51:00Z'>09:51</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I&#x27;m also testing it now
<br>
</div>

<div class='talk op-msg' data-timestamp='1449222660' id='443090'>
<a class='timestamp' href='#443090'><time timestamp='2015-12-04T09:51:00Z'>09:51</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yeah that&#x27;s where I noticed (verack is outgoing message)
<br>
</div>

<div class='talk op-msg' data-timestamp='1449222660' id='443091'>
<a class='timestamp' href='#443091'><time timestamp='2015-12-04T09:51:00Z'>09:51</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
+also
<br>
</div>

<div class='talk op-msg' data-timestamp='1449222780' id='443092'>
<a class='timestamp' href='#443092'><time timestamp='2015-12-04T09:53:00Z'>09:53</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Yes. Now it&#x27;s correct. The bytesrecv/bytessent (totals per node) matches now the sum of the aggregated values.
<br>
</div>

<div class='talk op-msg' data-timestamp='1449222840' id='443093'>
<a class='timestamp' href='#443093'><time timestamp='2015-12-04T09:54:00Z'>09:54</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
nice!
<br>
</div>

<div class='talk op-msg' data-timestamp='1449223080' id='443094'>
<a class='timestamp' href='#443094'><time timestamp='2015-12-04T09:58:00Z'>09:58</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
maybe we want an &#x27;other&#x27; catch-all for received commands that we don&#x27;t recognize otherwise?
<br>
</div>

<div class='talk op-msg' data-timestamp='1449223140' id='443095'>
<a class='timestamp' href='#443095'><time timestamp='2015-12-04T09:59:00Z'>09:59</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
(say someone is bombarding us with large packets that we don&#x27;t recognize, right now it won&#x27;t show up in bytesrecv_per_cmd) - of course we have the total already, so this may be unnecessary, I don&#x27;t know
<br>
</div>

<div class='talk op-msg' data-timestamp='1449223140' id='443096'>
<a class='timestamp' href='#443096'><time timestamp='2015-12-04T09:59:00Z'>09:59</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
wumpus: hmm.. yes. Would be nice... and it would not introduce a mem DOS attack (if combined to one map key &quot;other&quot;).
<br>
</div>

<div class='talk op-msg' data-timestamp='1449223140' id='443097'>
<a class='timestamp' href='#443097'><time timestamp='2015-12-04T09:59:00Z'>09:59</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
right :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1449223200' id='443098'>
<a class='timestamp' href='#443098'><time timestamp='2015-12-04T10:00:00Z'>10:00</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
others = total - &lt;sum of aggregated&gt;, ...
<br>
</div>

<div class='talk op-msg' data-timestamp='1449223200' id='443099'>
<a class='timestamp' href='#443099'><time timestamp='2015-12-04T10:00:00Z'>10:00</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
we could just render that in the rpc output.
<br>
</div>

<div class='talk op-msg' data-timestamp='1449223200' id='443100'>
<a class='timestamp' href='#443100'><time timestamp='2015-12-04T10:00:00Z'>10:00</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
but it may be good to report, it&#x27;s nice if numbers add up
<br>
</div>

<div class='talk op-msg' data-timestamp='1449223260' id='443101'>
<a class='timestamp' href='#443101'><time timestamp='2015-12-04T10:01:00Z'>10:01</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
the problem is that any string up to 12(?) chars can be an actual command name
<br>
</div>

<div class='talk op-msg' data-timestamp='1449223260' id='443102'>
<a class='timestamp' href='#443102'><time timestamp='2015-12-04T10:01:00Z'>10:01</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Yeah. Sure. Let me add it. I think this number is very helpful to detect strange nodes.
<br>
</div>

<div class='talk op-msg' data-timestamp='1449223320' id='443103'>
<a class='timestamp' href='#443103'><time timestamp='2015-12-04T10:02:00Z'>10:02</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
so is this the command &#x27;other&#x27; or ... an other command... lol ok that doesn&#x27;t matter much I guess, as &#x27;other&#x27; would, being an unknown command, also go into the category &#x27;other&#x27; . Hmm.
<br>
</div>

<div class='talk op-msg' data-timestamp='1449223320' id='443104'>
<a class='timestamp' href='#443104'><time timestamp='2015-12-04T10:02:00Z'>10:02</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
use &quot;*other*&quot; instead of &quot;other&quot;? or to much magic?
<br>
</div>

<div class='talk op-msg' data-timestamp='1449223380' id='443105'>
<a class='timestamp' href='#443105'><time timestamp='2015-12-04T10:03:00Z'>10:03</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
making it distinct makes sense yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1449223380' id='443106'>
<a class='timestamp' href='#443106'><time timestamp='2015-12-04T10:03:00Z'>10:03</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I even mean even though <b>*other*</b> is strictly a valid command name, no one is ever actually going to agree on using that
<br>
</div>

<div class='talk op-msg' data-timestamp='1449223440' id='443107'>
<a class='timestamp' href='#443107'><time timestamp='2015-12-04T10:04:00Z'>10:04</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes makes sense
<br>
</div>

<div class='talk op-msg' data-timestamp='1449223680' id='443108'>
<a class='timestamp' href='#443108'><time timestamp='2015-12-04T10:08:00Z'>10:08</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
this is nice, it allows for doing a (simple kind of, better than looking at subvers) behavioral profiling of peers
<br>
</div>

<div class='talk op-msg' data-timestamp='1449223740' id='443109'>
<a class='timestamp' href='#443109'><time timestamp='2015-12-04T10:09:00Z'>10:09</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
some peers do nothing except connect and ping! :o
<br>
</div>

<div class='talk op-msg' data-timestamp='1449223800' id='443110'>
<a class='timestamp' href='#443110'><time timestamp='2015-12-04T10:10:00Z'>10:10</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Yes. I wrote this to analyze the traffic before I wrote maxuploadtarget PR.
<br>
</div>

<div class='talk op-msg' data-timestamp='1449223800' id='443111'>
<a class='timestamp' href='#443111'><time timestamp='2015-12-04T10:10:00Z'>10:10</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
And it would allow to do some clever throttling based on this data.
<br>
</div>

<div class='talk op-msg' data-timestamp='1449224520' id='443112'>
<a class='timestamp' href='#443112'><time timestamp='2015-12-04T10:22:00Z'>10:22</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
jonasschnelli: would it be a reasonable compromise to have `logAllowIncomingCmds` available via RPC somewhere (say `getnetworkinfo`)? This avoids having to add empty rows to every peer.
<br>
</div>

<div class='talk op-msg' data-timestamp='1449224580' id='443113'>
<a class='timestamp' href='#443113'><time timestamp='2015-12-04T10:23:00Z'>10:23</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
wumpus: yes. That would be useful and reduce the whole rpc response size.
<br>
</div>

<div class='talk op-msg' data-timestamp='1449224580' id='443114'>
<a class='timestamp' href='#443114'><time timestamp='2015-12-04T10:23:00Z'>10:23</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
getpeerinfo looks after a command that is ideal to poll... so reducing size there is fine
<br>
</div>

<div class='talk op-msg' data-timestamp='1449224640' id='443115'>
<a class='timestamp' href='#443115'><time timestamp='2015-12-04T10:24:00Z'>10:24</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
(and still accomplishes the same, the stats collector can know the total set of messages accepted by the peer)
<br>
</div>

<div class='talk op-msg' data-timestamp='1449224640' id='443116'>
<a class='timestamp' href='#443116'><time timestamp='2015-12-04T10:24:00Z'>10:24</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
right - it makes sense to try to save space there
<br>
</div>

<div class='talk op-msg' data-timestamp='1449224760' id='443117'>
<a class='timestamp' href='#443117'><time timestamp='2015-12-04T10:26:00Z'>10:26</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
wumpus: Okay. Switch to your find(&quot;other&quot;) approach, but i need to pre-populate &quot;*other*&quot; as well (which is fine): <a href="https://github.com/bitcoin/bitcoin/pull/6589/files#diff-9a82240fe7dfe86564178691cc57f2f1R2358" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/6589/files#diff-9a82240fe7dfe86564178691cc57f2f1R2358</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1449224880' id='443118'>
<a class='timestamp' href='#443118'><time timestamp='2015-12-04T10:28:00Z'>10:28</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
jonasschnelli: maybe static const std::string NET_COMMAND_OTHER=&quot;*other*&quot;;   
<br>
</div>

<div class='talk op-msg' data-timestamp='1449224880' id='443119'>
<a class='timestamp' href='#443119'><time timestamp='2015-12-04T10:28:00Z'>10:28</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
jonasschnelli: then explicitly mapRecvBytesPerCmd[NET_COMMAND_OTHER] = 0;   and use the constant in the other place too
<br>
</div>

<div class='talk op-msg' data-timestamp='1449224880' id='443120'>
<a class='timestamp' href='#443120'><time timestamp='2015-12-04T10:28:00Z'>10:28</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Yeah. Better. Cleaner.
<br>
</div>

<div class='talk op-msg' data-timestamp='1449224880' id='443121'>
<a class='timestamp' href='#443121'><time timestamp='2015-12-04T10:28:00Z'>10:28</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
jonasschnelli: given how critical it is that it exist, don&#x27;t think adding it to logAllowIncomingCmds is a good idea, someone may just remove it and crash everything
<br>
</div>

<div class='talk op-msg' data-timestamp='1449224940' id='443122'>
<a class='timestamp' href='#443122'><time timestamp='2015-12-04T10:29:00Z'>10:29</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
jonasschnelli: maybe add an assert(i != mapRecvBytesPerCmd.end()); before the increase just incase :p
<br>
</div>

<div class='talk op-msg' data-timestamp='1449224940' id='443123'>
<a class='timestamp' href='#443123'><time timestamp='2015-12-04T10:29:00Z'>10:29</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Yeah. Good idea.
<br>
</div>

<div class='talk op-msg' data-timestamp='1449225060' id='443124'>
<a class='timestamp' href='#443124'><time timestamp='2015-12-04T10:31:00Z'>10:31</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
(ideally we would have constants for all net commands and use those in the code instead of hardcoded strings, this avoids typos and such, but far out of scope of your pull)
<br>
</div>

<div class='talk op-msg' data-timestamp='1449225180' id='443125'>
<a class='timestamp' href='#443125'><time timestamp='2015-12-04T10:33:00Z'>10:33</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Indeed
<br>
</div>

<div class='talk op-msg' data-timestamp='1449225660' id='443126'>
<a class='timestamp' href='#443126'><time timestamp='2015-12-04T10:41:00Z'>10:41</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
wumpus: Added a commit that hides the 0 entries... need to add the command list to getnetworkinfo.. will do soon.
<br>
</div>

<div class='talk op-msg' data-timestamp='1449225660' id='443127'>
<a class='timestamp' href='#443127'><time timestamp='2015-12-04T10:41:00Z'>10:41</time></a>
&lt;<span class='nick nick-3'> * wumpus</span>&gt;
must have the craziest multi-stage bitcoind launch command &quot;nice -+19 screen -d -m gdb -x run.gdbscript -args ./bitcoind -datadir=/usb/bitcoin&quot;  (run.gdbscript is <a href="http://stackoverflow.com/a/5286038/216357" class="link" target="_blank">http://stackoverflow.com/a/5286038/216357</a> )
<br>
</div>

<div class='talk op-msg' data-timestamp='1449225720' id='443128'>
<a class='timestamp' href='#443128'><time timestamp='2015-12-04T10:42:00Z'>10:42</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
hah
<br>
</div>

<div class='talk op-msg' data-timestamp='1449225720' id='443129'>
<a class='timestamp' href='#443129'><time timestamp='2015-12-04T10:42:00Z'>10:42</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
maybe I should propose it for #7111 &quot;Recommend how to run bitcoind in a production environment&quot;? <b>*ducks*</b>
<br>
</div>

<div class='talk op-msg' data-timestamp='1449225720' id='443130'>
<a class='timestamp' href='#443130'><time timestamp='2015-12-04T10:42:00Z'>10:42</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
you forgot the while 1 loop (in case it crashes)
<br>
</div>

<div class='talk op-msg' data-timestamp='1449225720' id='443131'>
<a class='timestamp' href='#443131'><time timestamp='2015-12-04T10:42:00Z'>10:42</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
hahahhahaah
<br>
</div>

<div class='talk op-msg' data-timestamp='1449225780' id='443132'>
<a class='timestamp' href='#443132'><time timestamp='2015-12-04T10:43:00Z'>10:43</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
;-)
<br>
</div>

<div class='talk op-msg' data-timestamp='1449228240' id='443133'>
<a class='timestamp' href='#443133'><time timestamp='2015-12-04T11:24:00Z'>11:24</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
jonasschnelli: hm I got a &quot;bitcoind: net.cpp:703: bool CNode::ReceiveMsgBytes(const char*, unsigned int): Assertion `i != mapRecvBytesPerCmd.end()&#x27; failed.&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1449228300' id='443134'>
<a class='timestamp' href='#443134'><time timestamp='2015-12-04T11:25:00Z'>11:25</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
jonasschnelli: you&#x27;re not prepopulating NET_COMMAND_OTHER, either need to re-add it to logAllowIncomingCmds, either add it or (I think preferably) add it explicilty with  mapRecvBytesPerCmd[NET_COMMAND_OTHER] = 0
<br>
</div>

<div class='talk op-msg' data-timestamp='1449231480' id='443135'>
<a class='timestamp' href='#443135'><time timestamp='2015-12-04T12:18:00Z'>12:18</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
wumpus: Fixed (force pushed)
<br>
</div>

<div class='talk op-msg' data-timestamp='1449231960' id='443136'>
<a class='timestamp' href='#443136'><time timestamp='2015-12-04T12:26:00Z'>12:26</time></a>
&lt;<span class='nick nick-2'> GitHub74</span>&gt;
[bitcoin] laanwj opened pull request #7170: tests: Disable Tor interaction (master...2015_12_tests_nolistentor) <a href="https://github.com/bitcoin/bitcoin/pull/7170" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/7170</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1449231960' id='443137'>
<a class='timestamp' href='#443137'><time timestamp='2015-12-04T12:26:00Z'>12:26</time></a>
&lt;<span class='nick nick-3'> GitHub73</span>&gt;
[bitcoin] laanwj opened pull request #7171: test: remove necessity to call create_callback_map (master...2015_12_p2p_test_no_cbmap) <a href="https://github.com/bitcoin/bitcoin/pull/7171" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/7171</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1449233400' id='443138'>
<a class='timestamp' href='#443138'><time timestamp='2015-12-04T12:50:00Z'>12:50</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
jonasschnelli: great
<br>
</div>

<div class='talk op-msg' data-timestamp='1449234540' id='443139'>
<a class='timestamp' href='#443139'><time timestamp='2015-12-04T13:09:00Z'>13:09</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
&quot;bytesrecv_per_cmd&quot;: { &quot;reject&quot;: 140788, } whoa some nodes send a  lot of reject
<br>
</div>

<div class='talk op-msg' data-timestamp='1449234600' id='443140'>
<a class='timestamp' href='#443140'><time timestamp='2015-12-04T13:10:00Z'>13:10</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
that&#x27;s a lot for a message we don&#x27;t use at all
<br>
</div>

<div class='talk op-msg' data-timestamp='1449234720' id='443141'>
<a class='timestamp' href='#443141'><time timestamp='2015-12-04T13:12:00Z'>13:12</time></a>
&lt;<span class='nick nick-3'> tulip</span>&gt;
are people setting the &quot;reason&quot; string? 
<br>
</div>

<div class='talk op-msg' data-timestamp='1449234780' id='443142'>
<a class='timestamp' href='#443142'><time timestamp='2015-12-04T13:13:00Z'>13:13</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I don&#x27;t know, going to log the contents
<br>
</div>

<div class='talk op-msg' data-timestamp='1449234900' id='443143'>
<a class='timestamp' href='#443143'><time timestamp='2015-12-04T13:15:00Z'>13:15</time></a>
&lt;<span class='nick nick-15'> afk11</span>&gt;
hmm, I am getting reject messages this morning using electrum
<br>
</div>

<div class='talk op-msg' data-timestamp='1449234900' id='443144'>
<a class='timestamp' href='#443144'><time timestamp='2015-12-04T13:15:00Z'>13:15</time></a>
&lt;<span class='nick nick-15'> afk11</span>&gt;
the one that comes with tails :/ not great. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1449234960' id='443145'>
<a class='timestamp' href='#443145'><time timestamp='2015-12-04T13:16:00Z'>13:16</time></a>
&lt;<span class='nick nick-15'> afk11</span>&gt;
&quot;Your transaction was rejected by the network, please upgrade away to &gt; electrum 2.6&quot;
<br>
</div>

<div class='talk op-msg' data-timestamp='1449234960' id='443146'>
<a class='timestamp' href='#443146'><time timestamp='2015-12-04T13:16:00Z'>13:16</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
at least that message is clear on what to do (but I don&#x27;t believe it has to do with P2P network reject messages)
<br>
</div>

<div class='talk op-msg' data-timestamp='1449234960' id='443147'>
<a class='timestamp' href='#443147'><time timestamp='2015-12-04T13:16:00Z'>13:16</time></a>
&lt;<span class='nick nick-3'> tulip</span>&gt;
that&#x27;s unrelated. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1449235020' id='443148'>
<a class='timestamp' href='#443148'><time timestamp='2015-12-04T13:17:00Z'>13:17</time></a>
&lt;<span class='nick nick-3'> tulip</span>&gt;
that&#x27;ll be to do with low-s signatures, older versions of Electrum generate now-invalid signatures. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1449235320' id='443149'>
<a class='timestamp' href='#443149'><time timestamp='2015-12-04T13:22:00Z'>13:22</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
we should have made reject messages optional, eg like announce headers, a &#x27;enablerejects&#x27; message that has to be received before the node starts sending them
<br>
</div>

<div class='talk op-msg' data-timestamp='1449235320' id='443150'>
<a class='timestamp' href='#443150'><time timestamp='2015-12-04T13:22:00Z'>13:22</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
only a small extract of what nodes are sending: <a href="http://www.hastebin.com/imipusiqan.txt" class="link" target="_blank">http://www.hastebin.com/imipusiqan.txt</a> 
<br>
</div>

<div class='talk op-msg' data-timestamp='1449235560' id='443151'>
<a class='timestamp' href='#443151'><time timestamp='2015-12-04T13:26:00Z'>13:26</time></a>
&lt;<span class='nick nick-3'> tulip</span>&gt;
I&#x27;m not sure why the server software doesn&#x27;t just re-pack the points in the signature, guess there&#x27;s a good reason. 
<br>
</div>

<div class='talk op-msg' data-timestamp='1449236100' id='443152'>
<a class='timestamp' href='#443152'><time timestamp='2015-12-04T13:35:00Z'>13:35</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
some nodes do that, but it has some other drawbacks, effectively it&#x27;s malleating transactions
<br>
</div>

<div class='talk op-msg' data-timestamp='1449237660' id='443153'>
<a class='timestamp' href='#443153'><time timestamp='2015-12-04T14:01:00Z'>14:01</time></a>
&lt;<span class='nick nick-13'> GitHub93</span>&gt;
[bitcoin] laanwj pushed 1 new commit to 0.12: <a href="https://github.com/bitcoin/bitcoin/commit/f31955d9da152e5e849575f0297f8fe1904cbfbc" class="link" target="_blank">https://github.com/bitcoin/bitcoin/commit/f31955d9da152e5e849575f0297f8fe1904cbfbc</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1449237660' id='443154'>
<a class='timestamp' href='#443154'><time timestamp='2015-12-04T14:01:00Z'>14:01</time></a>
&lt;<span class='nick nick-13'> GitHub93</span>&gt;
bitcoin/0.12 f31955d Gregory Maxwell: Replace setInventoryKnown with a rolling bloom filter....
<br>
</div>

<div class='talk op-msg' data-timestamp='1449250440' id='443155'>
<a class='timestamp' href='#443155'><time timestamp='2015-12-04T17:34:00Z'>17:34</time></a>
&lt;<span class='nick nick-10'> Thireus</span>&gt;
I received this a couple of hours ago: &quot;WARNING: check your network connection, 5 blocks received in the last 4 hours (24 expected)&quot; on my full nodes
<br>
</div>

<div class='talk op-msg' data-timestamp='1449250440' id='443156'>
<a class='timestamp' href='#443156'><time timestamp='2015-12-04T17:34:00Z'>17:34</time></a>
&lt;<span class='nick nick-10'> Thireus</span>&gt;
there seem to be some TX flood going on, has anyone else been impacted as well?
<br>
</div>

<div class='talk op-msg' data-timestamp='1449250500' id='443157'>
<a class='timestamp' href='#443157'><time timestamp='2015-12-04T17:35:00Z'>17:35</time></a>
&lt;<span class='nick nick-10'> Thireus</span>&gt;
c.f. block <a href="https://tradeblock.com/bitcoin/block/386689" class="link" target="_blank">https://tradeblock.com/bitcoin/block/386689</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1449258900' id='443158'>
<a class='timestamp' href='#443158'><time timestamp='2015-12-04T19:55:00Z'>19:55</time></a>
&lt;<span class='nick nick-10'> Squidicuz</span>&gt;
 Thireus getting the same thing
<br>
</div>

<div class='talk op-msg' data-timestamp='1449262020' id='443159'>
<a class='timestamp' href='#443159'><time timestamp='2015-12-04T20:47:00Z'>20:47</time></a>
&lt;<span class='nick nick-3'> tulip</span>&gt;
Thireus: that seems to be buggy. other people have encountered the same thing.
<br>
</div>

<div class='talk op-msg' data-timestamp='1449262680' id='443160'>
<a class='timestamp' href='#443160'><time timestamp='2015-12-04T20:58:00Z'>20:58</time></a>
&lt;<span class='nick nick-10'> Squidicuz</span>&gt;
I rebooted the services and it is okay for now :S
<br>
</div>

<div class='talk op-msg' data-timestamp='1449262740' id='443161'>
<a class='timestamp' href='#443161'><time timestamp='2015-12-04T20:59:00Z'>20:59</time></a>
&lt;<span class='nick nick-10'> Squidicuz</span>&gt;
what does that message mean though?  I can&#x27;t be blocks behind when minig O_o
<br>
</div>

<div class='talk op-msg' data-timestamp='1449262740' id='443162'>
<a class='timestamp' href='#443162'><time timestamp='2015-12-04T20:59:00Z'>20:59</time></a>
&lt;<span class='nick nick-10'> Squidicuz</span>&gt;
apologies if this is the wrong channel, i just realized where I is.
<br>
</div>

<div class='talk op-msg' data-timestamp='1449267180' id='443163'>
<a class='timestamp' href='#443163'><time timestamp='2015-12-04T22:13:00Z'>22:13</time></a>
&lt;<span class='nick nick-3'> tulip</span>&gt;
Squidicuz: it&#x27;s probably on topic, if you aren&#x27;t falling behind triggering that is definitely a bug. someone has encountered that before recently.
<br>
</div>

<div class='talk op-msg' data-timestamp='1449267300' id='443164'>
<a class='timestamp' href='#443164'><time timestamp='2015-12-04T22:15:00Z'>22:15</time></a>
&lt;<span class='nick nick-10'> Squidicuz</span>&gt;
the node did not seem behind when i checked on it.  i restarted and havent gotten the messgae since.  the logs shows that bitcoind timed out a few times prior.
<br>
</div>

<div class='talk op-msg' data-timestamp='1449267360' id='443165'>
<a class='timestamp' href='#443165'><time timestamp='2015-12-04T22:16:00Z'>22:16</time></a>
&lt;<span class='nick nick-3'> tulip</span>&gt;
timed out?
<br>
</div>

<div class='talk op-msg' data-timestamp='1449267660' id='443166'>
<a class='timestamp' href='#443166'><time timestamp='2015-12-04T22:21:00Z'>22:21</time></a>
&lt;<span class='nick nick-10'> Squidicuz</span>&gt;
yes.  my connection to bitcoind timed out, I mean.
<br>
</div>

<div class='talk op-msg' data-timestamp='1449267720' id='443167'>
<a class='timestamp' href='#443167'><time timestamp='2015-12-04T22:22:00Z'>22:22</time></a>
&lt;<span class='nick nick-10'> Squidicuz</span>&gt;
for getBlockTemplate
<br>
</div>

</div>
</section>

</body>
</html>
