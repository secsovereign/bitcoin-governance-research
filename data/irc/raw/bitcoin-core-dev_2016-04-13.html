<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2016-04-13
 — 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2016-04-13' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:27 UTC</pre>
<pre><a href="/bitcoin-core-dev/2016-03-13">&lt;</a><span class='header'>    April 2016    </span><a href="/bitcoin-core-dev/2016-05-13">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;                <a class="" href="/bitcoin-core-dev/2016-04-01">1</a>  <a class="" href="/bitcoin-core-dev/2016-04-02">2</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2016-04-03">3</a>  <a class="" href="/bitcoin-core-dev/2016-04-04">4</a>  <a class="" href="/bitcoin-core-dev/2016-04-05">5</a>  <a class="" href="/bitcoin-core-dev/2016-04-06">6</a>  <a class="" href="/bitcoin-core-dev/2016-04-07">7</a>  <a class="" href="/bitcoin-core-dev/2016-04-08">8</a>  <a class="" href="/bitcoin-core-dev/2016-04-09">9</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2016-04-10">10</a> <a class="" href="/bitcoin-core-dev/2016-04-11">11</a> <a class="" href="/bitcoin-core-dev/2016-04-12">12</a> <a class="current" href="/bitcoin-core-dev/2016-04-13">13</a> <a class="" href="/bitcoin-core-dev/2016-04-14">14</a> <a class="" href="/bitcoin-core-dev/2016-04-15">15</a> <a class="" href="/bitcoin-core-dev/2016-04-16">16</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2016-04-17">17</a> <a class="" href="/bitcoin-core-dev/2016-04-18">18</a> <a class="" href="/bitcoin-core-dev/2016-04-19">19</a> <a class="" href="/bitcoin-core-dev/2016-04-20">20</a> <a class="" href="/bitcoin-core-dev/2016-04-21">21</a> <a class="" href="/bitcoin-core-dev/2016-04-22">22</a> <a class="" href="/bitcoin-core-dev/2016-04-23">23</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2016-04-24">24</a> <a class="" href="/bitcoin-core-dev/2016-04-25">25</a> <a class="" href="/bitcoin-core-dev/2016-04-26">26</a> <a class="" href="/bitcoin-core-dev/2016-04-27">27</a> <a class="" href="/bitcoin-core-dev/2016-04-28">28</a> <a class="" href="/bitcoin-core-dev/2016-04-29">29</a> <a class="" href="/bitcoin-core-dev/2016-04-30">30</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1460514000' id='462640'>
<a class='timestamp' href='#462640'><time timestamp='2016-04-13T02:20:00Z'>02:20</time></a>
&lt;<span class='nick nick-11'> GitHub177</span>&gt;
[bitcoin] mrCertified opened pull request #7867: deleted Configure.ac restore bits to all networks(%master%masterCode[{rLi}]) (master...patch-1) <a href="https://github.com/bitcoin/bitcoin/pull/7867" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/7867</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1460516100' id='462641'>
<a class='timestamp' href='#462641'><time timestamp='2016-04-13T02:55:00Z'>02:55</time></a>
&lt;<span class='nick nick-1'> GitHub91</span>&gt;
[bitcoin] theuni opened pull request #7868: net: Split DNS resolving functionality out of net structures (master...net-cleanup-resolve) <a href="https://github.com/bitcoin/bitcoin/pull/7868" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/7868</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1460528580' id='462642'>
<a class='timestamp' href='#462642'><time timestamp='2016-04-13T06:23:00Z'>06:23</time></a>
&lt;<span class='nick nick-5'> cryptocoder</span>&gt;
hi everyone
<br>
</div>

<div class='talk op-msg' data-timestamp='1460528640' id='462643'>
<a class='timestamp' href='#462643'><time timestamp='2016-04-13T06:24:00Z'>06:24</time></a>
&lt;<span class='nick nick-5'> cryptocoder</span>&gt;
not sure if this is the right place for this, but how come the windows release for core 0.12 does not seem to have zmq support in it?
<br>
</div>

<div class='talk op-msg' data-timestamp='1460529480' id='462644'>
<a class='timestamp' href='#462644'><time timestamp='2016-04-13T06:38:00Z'>06:38</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
cryptocoder: IIRC there where problems with static linking...
<br>
</div>

<div class='talk op-msg' data-timestamp='1460529480' id='462645'>
<a class='timestamp' href='#462645'><time timestamp='2016-04-13T06:38:00Z'>06:38</time></a>
&lt;<span class='nick nick-12'> * jonasschnelli</span>&gt;
is searching the exact reason
<br>
</div>

<div class='talk op-msg' data-timestamp='1460529480' id='462646'>
<a class='timestamp' href='#462646'><time timestamp='2016-04-13T06:38:00Z'>06:38</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
cryptocoder: <a href="https://github.com/bitcoin/bitcoin/issues/6681" class="link" target="_blank">https://github.com/bitcoin/bitcoin/issues/6681</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1460529600' id='462647'>
<a class='timestamp' href='#462647'><time timestamp='2016-04-13T06:40:00Z'>06:40</time></a>
&lt;<span class='nick nick-5'> cryptocoder</span>&gt;
ah! thank you jonasschnelli.  I was hoping i’m not missing something obvious
<br>
</div>

<div class='talk op-msg' data-timestamp='1460529660' id='462648'>
<a class='timestamp' href='#462648'><time timestamp='2016-04-13T06:41:00Z'>06:41</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
cryptocoder: I think you could hack the depends/ build system to link it dynamic.
<br>
</div>

<div class='talk op-msg' data-timestamp='1460529660' id='462649'>
<a class='timestamp' href='#462649'><time timestamp='2016-04-13T06:41:00Z'>06:41</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Or compile it on a window machine (not cc), but not sure how this exactly works.
<br>
</div>

<div class='talk op-msg' data-timestamp='1460529780' id='462650'>
<a class='timestamp' href='#462650'><time timestamp='2016-04-13T06:43:00Z'>06:43</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sipa, wumpus: reindex with LMDB took ~11h (same machine where a full sync with master took 2h20&#x27;). Now reindexing the master levelDB node.
<br>
</div>

<div class='talk op-msg' data-timestamp='1460538720' id='462651'>
<a class='timestamp' href='#462651'><time timestamp='2016-04-13T09:12:00Z'>09:12</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
wumpus: LMDB reindex with -dbcache=9000: &gt;11h, levelDB with -dbcache=8000: 2h25&#x27;.
<br>
</div>

<div class='talk op-msg' data-timestamp='1460538780' id='462652'>
<a class='timestamp' href='#462652'><time timestamp='2016-04-13T09:13:00Z'>09:13</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
(the IBD from random peers was a couple of minutes faster... i&#x27;m confused)
<br>
</div>

<div class='talk op-msg' data-timestamp='1460538780' id='462653'>
<a class='timestamp' href='#462653'><time timestamp='2016-04-13T09:13:00Z'>09:13</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I wonder where we the performance bottleneck with LMDB is.
<br>
</div>

<div class='talk op-msg' data-timestamp='1460538840' id='462654'>
<a class='timestamp' href='#462654'><time timestamp='2016-04-13T09:14:00Z'>09:14</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that&#x27;s very strange!
<br>
</div>

<div class='talk op-msg' data-timestamp='1460539680' id='462655'>
<a class='timestamp' href='#462655'><time timestamp='2016-04-13T09:28:00Z'>09:28</time></a>
&lt;<span class='nick nick-6'> btcdrak</span>&gt;
Completely backwards
<br>
</div>

<div class='talk op-msg' data-timestamp='1460539800' id='462656'>
<a class='timestamp' href='#462656'><time timestamp='2016-04-13T09:30:00Z'>09:30</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
especially since neither should be touched the database at all
<br>
</div>

<div class='talk op-msg' data-timestamp='1460539800' id='462657'>
<a class='timestamp' href='#462657'><time timestamp='2016-04-13T09:30:00Z'>09:30</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
with such dbcache
<br>
</div>

<div class='talk op-msg' data-timestamp='1460543700' id='462658'>
<a class='timestamp' href='#462658'><time timestamp='2016-04-13T10:35:00Z'>10:35</time></a>
&lt;<span class='nick nick-6'> shangzhou</span>&gt;
sipa:http://bitcoin.sipa.be/ data is not up to date
<br>
</div>

<div class='talk op-msg' data-timestamp='1460543880' id='462659'>
<a class='timestamp' href='#462659'><time timestamp='2016-04-13T10:38:00Z'>10:38</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
shangzhou: thanks, fixing
<br>
</div>

<div class='talk op-msg' data-timestamp='1460544840' id='462660'>
<a class='timestamp' href='#462660'><time timestamp='2016-04-13T10:54:00Z'>10:54</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
shangzhou: done
<br>
</div>

<div class='talk op-msg' data-timestamp='1460545440' id='462661'>
<a class='timestamp' href='#462661'><time timestamp='2016-04-13T11:04:00Z'>11:04</time></a>
&lt;<span class='nick nick-6'> shangzhou</span>&gt;
thanks @sipa
<br>
</div>

<div class='talk op-msg' data-timestamp='1460545440' id='462662'>
<a class='timestamp' href='#462662'><time timestamp='2016-04-13T11:04:00Z'>11:04</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i upgraded my node to 0.12 and the new rpcauth mechanism, but didn&#x27;t give the credentials to the script generating the website
<br>
</div>

<div class='talk op-msg' data-timestamp='1460547780' id='462663'>
<a class='timestamp' href='#462663'><time timestamp='2016-04-13T11:43:00Z'>11:43</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
jonasschnelli: interesting - so a reindex is slow with LMDB, but a sync from another node is fast? Greg did a benchmark with a sync from another node and LMDB came out much faster: <a href="https://github.com/laanwj/bitcoin/tree/2016_04_mdb#x86_64" class="link" target="_blank">https://github.com/laanwj/bitcoin/tree/2016_04_mdb#x86_64</a>  . Also wonder where the bottleneck is, but will add it to the performance results
<br>
</div>

<div class='talk op-msg' data-timestamp='1460547840' id='462664'>
<a class='timestamp' href='#462664'><time timestamp='2016-04-13T11:44:00Z'>11:44</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
wumpus: Both are slower. IBD and reindex.
<br>
</div>

<div class='talk op-msg' data-timestamp='1460547840' id='462665'>
<a class='timestamp' href='#462665'><time timestamp='2016-04-13T11:44:00Z'>11:44</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
okay
<br>
</div>

<div class='talk op-msg' data-timestamp='1460547840' id='462666'>
<a class='timestamp' href='#462666'><time timestamp='2016-04-13T11:44:00Z'>11:44</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
have you tried with the default dbcache as well?
<br>
</div>

<div class='talk op-msg' data-timestamp='1460547900' id='462667'>
<a class='timestamp' href='#462667'><time timestamp='2016-04-13T11:45:00Z'>11:45</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
maybe the 5GB write transaction is what gets it
<br>
</div>

<div class='talk op-msg' data-timestamp='1460547900' id='462668'>
<a class='timestamp' href='#462668'><time timestamp='2016-04-13T11:45:00Z'>11:45</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
No... you mean a reindex with default dbache?
<br>
</div>

<div class='talk op-msg' data-timestamp='1460547900' id='462669'>
<a class='timestamp' href='#462669'><time timestamp='2016-04-13T11:45:00Z'>11:45</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
yes. You&#x27;ve done so with dbcache 9000, which means it fills to about ~5gb without using the database, then it writes everything at once
<br>
</div>

<div class='talk op-msg' data-timestamp='1460547900' id='462670'>
<a class='timestamp' href='#462670'><time timestamp='2016-04-13T11:45:00Z'>11:45</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
lmdb seems to shine in read latency, but it could be the big write is slow
<br>
</div>

<div class='talk op-msg' data-timestamp='1460547900' id='462671'>
<a class='timestamp' href='#462671'><time timestamp='2016-04-13T11:45:00Z'>11:45</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
with such a large dbcache it never reads so that part isn&#x27;t measured
<br>
</div>

<div class='talk op-msg' data-timestamp='1460547960' id='462672'>
<a class='timestamp' href='#462672'><time timestamp='2016-04-13T11:46:00Z'>11:46</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
wumpus: From looking at the &quot;log speed&quot; (very efficient benchmark technique :) ), lmdb seems to be slower during non-write operations.
<br>
</div>

<div class='talk op-msg' data-timestamp='1460547960' id='462673'>
<a class='timestamp' href='#462673'><time timestamp='2016-04-13T11:46:00Z'>11:46</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
But i&#x27;ll do now compare a reindex with no other options.
<br>
</div>

<div class='talk op-msg' data-timestamp='1460547960' id='462674'>
<a class='timestamp' href='#462674'><time timestamp='2016-04-13T11:46:00Z'>11:46</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
but with such a high dbcache, syncing from scratch, it doesn&#x27;t touch the database at all
<br>
</div>

<div class='talk op-msg' data-timestamp='1460548020' id='462675'>
<a class='timestamp' href='#462675'><time timestamp='2016-04-13T11:47:00Z'>11:47</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
That is what is really strange...
<br>
</div>

<div class='talk op-msg' data-timestamp='1460548020' id='462676'>
<a class='timestamp' href='#462676'><time timestamp='2016-04-13T11:47:00Z'>11:47</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
maybe another change from your lmdb branch causes this.
<br>
</div>

<div class='talk op-msg' data-timestamp='1460548020' id='462677'>
<a class='timestamp' href='#462677'><time timestamp='2016-04-13T11:47:00Z'>11:47</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Haven&#x27;t had time to debug it tough.
<br>
</div>

<div class='talk op-msg' data-timestamp='1460548020' id='462678'>
<a class='timestamp' href='#462678'><time timestamp='2016-04-13T11:47:00Z'>11:47</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
if everyone used dbcache=9000 we wouldn&#x27;t need a database at all, we could just store the utxo set in a linear file
<br>
</div>

<div class='talk op-msg' data-timestamp='1460548080' id='462679'>
<a class='timestamp' href='#462679'><time timestamp='2016-04-13T11:48:00Z'>11:48</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Indeed. Just hope there is no crash before the big write. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1460548080' id='462680'>
<a class='timestamp' href='#462680'><time timestamp='2016-04-13T11:48:00Z'>11:48</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jonasschnelli: can you run with debug=bench, and show the resulting debug.log?
<br>
</div>

<div class='talk op-msg' data-timestamp='1460548140' id='462681'>
<a class='timestamp' href='#462681'><time timestamp='2016-04-13T11:49:00Z'>11:49</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
sipa: ah. Right. Let me do that.
<br>
</div>

<div class='talk op-msg' data-timestamp='1460548140' id='462682'>
<a class='timestamp' href='#462682'><time timestamp='2016-04-13T11:49:00Z'>11:49</time></a>
&lt;<span class='nick nick-12'> * jonasschnelli</span>&gt;
is shutting down bitcoind with -dbcache=9000,... waits...
<br>
</div>

<div class='talk op-msg' data-timestamp='1460548200' id='462683'>
<a class='timestamp' href='#462683'><time timestamp='2016-04-13T11:50:00Z'>11:50</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
--- 3 hours later ---
<br>
</div>

<div class='talk op-msg' data-timestamp='1460548260' id='462684'>
<a class='timestamp' href='#462684'><time timestamp='2016-04-13T11:51:00Z'>11:51</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Hei! There is a SSD! :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1460548260' id='462685'>
<a class='timestamp' href='#462685'><time timestamp='2016-04-13T11:51:00Z'>11:51</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Example bench (lmdb): height: 82804, Connect total: 0.14ms [22.08s]
<br>
</div>

<div class='talk op-msg' data-timestamp='1460548260' id='462686'>
<a class='timestamp' href='#462686'><time timestamp='2016-04-13T11:51:00Z'>11:51</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Verify 0 txins: 0.03ms (0.000ms/txin) [15.22s], Index writing: 0.05ms [3.19s]
<br>
</div>

<div class='talk op-msg' data-timestamp='1460548260' id='462687'>
<a class='timestamp' href='#462687'><time timestamp='2016-04-13T11:51:00Z'>11:51</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Maybe index writing?
<br>
</div>

<div class='talk op-msg' data-timestamp='1460548320' id='462688'>
<a class='timestamp' href='#462688'><time timestamp='2016-04-13T11:52:00Z'>11:52</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
height 82804 isn&#x27;t very interesting yet :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1460548320' id='462689'>
<a class='timestamp' href='#462689'><time timestamp='2016-04-13T11:52:00Z'>11:52</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Yeah. Can&#x27;t start top down. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1460548380' id='462690'>
<a class='timestamp' href='#462690'><time timestamp='2016-04-13T11:53:00Z'>11:53</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
but anyhow in one light I like your result jonasschnelli, it would mean that leveldb is ok+ and there&#x27;s no need to even spend time investigationg switching to something else
<br>
</div>

<div class='talk op-msg' data-timestamp='1460548440' id='462691'>
<a class='timestamp' href='#462691'><time timestamp='2016-04-13T11:54:00Z'>11:54</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
if both sqlite and lmdb came out slower - then again Greg&#x27;s benchmark showed something completely different that&#x27;s curious
<br>
</div>

<div class='talk op-msg' data-timestamp='1460548440' id='462692'>
<a class='timestamp' href='#462692'><time timestamp='2016-04-13T11:54:00Z'>11:54</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
you&#x27;re using a SSD? don&#x27;t know what his storage device was
<br>
</div>

<div class='talk op-msg' data-timestamp='1460548500' id='462693'>
<a class='timestamp' href='#462693'><time timestamp='2016-04-13T11:55:00Z'>11:55</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
except if lmdb&#x27;s final full UTXO set dump took ~9h longer than leveldb&#x27;s, i can&#x27;t explain jonasschnelli&#x27;s result
<br>
</div>

<div class='talk op-msg' data-timestamp='1460548560' id='462694'>
<a class='timestamp' href='#462694'><time timestamp='2016-04-13T11:56:00Z'>11:56</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Yes. Lets first find out where the time/cycles is/are consumed.
<br>
</div>

<div class='talk op-msg' data-timestamp='1460548620' id='462695'>
<a class='timestamp' href='#462695'><time timestamp='2016-04-13T11:57:00Z'>11:57</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
wumpus: Yes. I&#x27;m using SSD. The write speed is somewhere around 1GB/s.
<br>
</div>

<div class='talk op-msg' data-timestamp='1460556060' id='462696'>
<a class='timestamp' href='#462696'><time timestamp='2016-04-13T14:01:00Z'>14:01</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Verify 1245 txins: 131.58ms (0.106ms/txin) [6447.02s]
<br>
</div>

<div class='talk op-msg' data-timestamp='1460556060' id='462697'>
<a class='timestamp' href='#462697'><time timestamp='2016-04-13T14:01:00Z'>14:01</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Is the value in the [] the total value so far?
<br>
</div>

<div class='talk op-msg' data-timestamp='1460556180' id='462698'>
<a class='timestamp' href='#462698'><time timestamp='2016-04-13T14:03:00Z'>14:03</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1460556300' id='462699'>
<a class='timestamp' href='#462699'><time timestamp='2016-04-13T14:05:00Z'>14:05</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Running two hours so far. Looks like most time is consumed for verify (as expected). But still not clear why lmdb takes ~5 times longer...
<br>
</div>

<div class='talk op-msg' data-timestamp='1460557320' id='462700'>
<a class='timestamp' href='#462700'><time timestamp='2016-04-13T14:22:00Z'>14:22</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Current Master at block 200&#x27;000: Connect total: 33.82ms [331.59s]
<br>
</div>

<div class='talk op-msg' data-timestamp='1460557320' id='462701'>
<a class='timestamp' href='#462701'><time timestamp='2016-04-13T14:22:00Z'>14:22</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
LMDB at block 200&#x27;000: Connect total: 125.55ms [1466.35s]
<br>
</div>

<div class='talk op-msg' data-timestamp='1460557320' id='462702'>
<a class='timestamp' href='#462702'><time timestamp='2016-04-13T14:22:00Z'>14:22</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
are you sure the LMDB is with dbcache set high?
<br>
</div>

<div class='talk op-msg' data-timestamp='1460557320' id='462703'>
<a class='timestamp' href='#462703'><time timestamp='2016-04-13T14:22:00Z'>14:22</time></a>
&lt;<span class='nick nick-12'> * jonasschnelli</span>&gt;
is checking if the wumpus lmdb branch uses libsecp
<br>
</div>

<div class='talk op-msg' data-timestamp='1460557380' id='462704'>
<a class='timestamp' href='#462704'><time timestamp='2016-04-13T14:23:00Z'>14:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
jonasschnelli: show me the verify lines
<br>
</div>

<div class='talk op-msg' data-timestamp='1460557380' id='462705'>
<a class='timestamp' href='#462705'><time timestamp='2016-04-13T14:23:00Z'>14:23</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
no. Now its with default dbcache
<br>
</div>

<div class='talk op-msg' data-timestamp='1460557380' id='462706'>
<a class='timestamp' href='#462706'><time timestamp='2016-04-13T14:23:00Z'>14:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
both leveldb and lmdb?
<br>
</div>

<div class='talk op-msg' data-timestamp='1460557380' id='462707'>
<a class='timestamp' href='#462707'><time timestamp='2016-04-13T14:23:00Z'>14:23</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
yes.
<br>
</div>

<div class='talk op-msg' data-timestamp='1460557380' id='462708'>
<a class='timestamp' href='#462708'><time timestamp='2016-04-13T14:23:00Z'>14:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
oh, ok
<br>
</div>

<div class='talk op-msg' data-timestamp='1460557380' id='462709'>
<a class='timestamp' href='#462709'><time timestamp='2016-04-13T14:23:00Z'>14:23</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
LMDB block 200k: Verify 1231 txins: 121.49ms (0.099ms/txin) [1385.86s
<br>
</div>

<div class='talk op-msg' data-timestamp='1460557380' id='462710'>
<a class='timestamp' href='#462710'><time timestamp='2016-04-13T14:23:00Z'>14:23</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
leveldb: Verify 1231 txins: 28.88ms (0.023ms/txin) [262.67s]
<br>
</div>

<div class='talk op-msg' data-timestamp='1460557440' id='462711'>
<a class='timestamp' href='#462711'><time timestamp='2016-04-13T14:24:00Z'>14:24</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
are they running with the same -par?
<br>
</div>

<div class='talk op-msg' data-timestamp='1460557440' id='462712'>
<a class='timestamp' href='#462712'><time timestamp='2016-04-13T14:24:00Z'>14:24</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Yes. Passed only -debug=bench
<br>
</div>

<div class='talk op-msg' data-timestamp='1460557440' id='462713'>
<a class='timestamp' href='#462713'><time timestamp='2016-04-13T14:24:00Z'>14:24</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
nononono!
<br>
</div>

<div class='talk op-msg' data-timestamp='1460557500' id='462714'>
<a class='timestamp' href='#462714'><time timestamp='2016-04-13T14:25:00Z'>14:25</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
lmdb node -&gt; git branch -&gt; master!
<br>
</div>

<div class='talk op-msg' data-timestamp='1460557500' id='462715'>
<a class='timestamp' href='#462715'><time timestamp='2016-04-13T14:25:00Z'>14:25</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
?
<br>
</div>

<div class='talk op-msg' data-timestamp='1460557500' id='462716'>
<a class='timestamp' href='#462716'><time timestamp='2016-04-13T14:25:00Z'>14:25</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
I&#x27;m actually not testing against LMDB i&#x27;m testing again non-libsecp-master from nov 1st!
<br>
</div>

<div class='talk op-msg' data-timestamp='1460557560' id='462717'>
<a class='timestamp' href='#462717'><time timestamp='2016-04-13T14:26:00Z'>14:26</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Damit!
<br>
</div>

<div class='talk op-msg' data-timestamp='1460557560' id='462718'>
<a class='timestamp' href='#462718'><time timestamp='2016-04-13T14:26:00Z'>14:26</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
lol
<br>
</div>

<div class='talk op-msg' data-timestamp='1460557560' id='462719'>
<a class='timestamp' href='#462719'><time timestamp='2016-04-13T14:26:00Z'>14:26</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
libsecp was merged on nov 5th :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1460557560' id='462720'>
<a class='timestamp' href='#462720'><time timestamp='2016-04-13T14:26:00Z'>14:26</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
thank for benchmarking the improvements we&#x27;ve made the past 5 months, then... they turn out to be significant
<br>
</div>

<div class='talk op-msg' data-timestamp='1460557560' id='462721'>
<a class='timestamp' href='#462721'><time timestamp='2016-04-13T14:26:00Z'>14:26</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Somewhere during git re-set I forget to pass a &quot;git checkout 2016_04_mdb&quot;.
<br>
</div>

<div class='talk op-msg' data-timestamp='1460557740' id='462722'>
<a class='timestamp' href='#462722'><time timestamp='2016-04-13T14:29:00Z'>14:29</time></a>
&lt;<span class='nick nick-8'> GitHub190</span>&gt;
[bitcoin] mrbandrews opened pull request #7871: Manual block file pruning. (master...ba-manual6) <a href="https://github.com/bitcoin/bitcoin/pull/7871" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/7871</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1460559840' id='462723'>
<a class='timestamp' href='#462723'><time timestamp='2016-04-13T15:04:00Z'>15:04</time></a>
&lt;<span class='nick nick-13'> sdaftuar</span>&gt;
so, MAX_OPS_PER_SCRIPT includes op codes not executed?  i didn&#x27;t expect that.
<br>
</div>

<div class='talk op-msg' data-timestamp='1460559900' id='462724'>
<a class='timestamp' href='#462724'><time timestamp='2016-04-13T15:05:00Z'>15:05</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
^^^^
<br>
</div>

<div class='talk op-msg' data-timestamp='1460559900' id='462725'>
<a class='timestamp' href='#462725'><time timestamp='2016-04-13T15:05:00Z'>15:05</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
even more interesting, if MAST is implemented what does that mean???
<br>
</div>

<div class='talk op-msg' data-timestamp='1460559960' id='462726'>
<a class='timestamp' href='#462726'><time timestamp='2016-04-13T15:06:00Z'>15:06</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
if I understasnd correctly MAST only reveals branches of our control structure that are actually executed
<br>
</div>

<div class='talk op-msg' data-timestamp='1460559960' id='462727'>
<a class='timestamp' href='#462727'><time timestamp='2016-04-13T15:06:00Z'>15:06</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
exactly
<br>
</div>

<div class='talk op-msg' data-timestamp='1460559960' id='462728'>
<a class='timestamp' href='#462728'><time timestamp='2016-04-13T15:06:00Z'>15:06</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and for the ones not executed, you give their hash
<br>
</div>

<div class='talk op-msg' data-timestamp='1460560020' id='462729'>
<a class='timestamp' href='#462729'><time timestamp='2016-04-13T15:07:00Z'>15:07</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
sipa: Does MAST change the data structure from a List to a Tree inside of interpreter?
<br>
</div>

<div class='talk op-msg' data-timestamp='1460560020' id='462730'>
<a class='timestamp' href='#462730'><time timestamp='2016-04-13T15:07:00Z'>15:07</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that depends on the implementation
<br>
</div>

<div class='talk op-msg' data-timestamp='1460560020' id='462731'>
<a class='timestamp' href='#462731'><time timestamp='2016-04-13T15:07:00Z'>15:07</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it&#x27;s just a generic idea
<br>
</div>

<div class='talk op-msg' data-timestamp='1460560020' id='462732'>
<a class='timestamp' href='#462732'><time timestamp='2016-04-13T15:07:00Z'>15:07</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i haven&#x27;t looked at jl2012&#x27;s specific proposal
<br>
</div>

<div class='talk op-msg' data-timestamp='1460560080' id='462733'>
<a class='timestamp' href='#462733'><time timestamp='2016-04-13T15:08:00Z'>15:08</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
sipa: Going off what we were talking about yesterday, are we constrained to realistically implementing this as a list for fear of unintended consensus changes? 
<br>
</div>

<div class='talk op-msg' data-timestamp='1460560080' id='462734'>
<a class='timestamp' href='#462734'><time timestamp='2016-04-13T15:08:00Z'>15:08</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
no
<br>
</div>

<div class='talk op-msg' data-timestamp='1460560080' id='462735'>
<a class='timestamp' href='#462735'><time timestamp='2016-04-13T15:08:00Z'>15:08</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
no script versions can easily use a completely independent interpreter
<br>
</div>

<div class='talk op-msg' data-timestamp='1460560080' id='462736'>
<a class='timestamp' href='#462736'><time timestamp='2016-04-13T15:08:00Z'>15:08</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
*new script versions
<br>
</div>

<div class='talk op-msg' data-timestamp='1460560080' id='462737'>
<a class='timestamp' href='#462737'><time timestamp='2016-04-13T15:08:00Z'>15:08</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
ahh ok
<br>
</div>

<div class='talk op-msg' data-timestamp='1460560200' id='462738'>
<a class='timestamp' href='#462738'><time timestamp='2016-04-13T15:10:00Z'>15:10</time></a>
&lt;<span class='nick nick-11'> jl2012</span>&gt;
sipa: It&#x27;s like your tree signature. I just compact everyone to become 3 arguments: position, path, script . (Actually I borrowed your original segwit code when the commitment was a Merkle tree)
<br>
</div>

<div class='talk op-msg' data-timestamp='1460560380' id='462739'>
<a class='timestamp' href='#462739'><time timestamp='2016-04-13T15:13:00Z'>15:13</time></a>
&lt;<span class='nick nick-11'> jl2012</span>&gt;
and the depth is implied by the size of path
<br>
</div>

<div class='talk op-msg' data-timestamp='1460560500' id='462740'>
<a class='timestamp' href='#462740'><time timestamp='2016-04-13T15:15:00Z'>15:15</time></a>
&lt;<span class='nick nick-11'> jl2012</span>&gt;
Chris_Stewart_5: it&#x27;s very similar to P2SH and P2WSH. Just with 2 extra arguments
<br>
</div>

<div class='talk op-msg' data-timestamp='1460560560' id='462741'>
<a class='timestamp' href='#462741'><time timestamp='2016-04-13T15:16:00Z'>15:16</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
jl2012: I understand that part, I for specific implementation details I&quot;m getting caught up on &#x27;Position&#x27; and &#x27;Path&#x27; and how they are different
<br>
</div>

<div class='talk op-msg' data-timestamp='1460560560' id='462742'>
<a class='timestamp' href='#462742'><time timestamp='2016-04-13T15:16:00Z'>15:16</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
It seems that if you have the path that the script takes in the tree you could derive its position..
<br>
</div>

<div class='talk op-msg' data-timestamp='1460560620' id='462743'>
<a class='timestamp' href='#462743'><time timestamp='2016-04-13T15:17:00Z'>15:17</time></a>
&lt;<span class='nick nick-11'> jl2012</span>&gt;
First you divide the size of Path by 32, which is the Depth of the tree
<br>
</div>

<div class='talk op-msg' data-timestamp='1460560620' id='462744'>
<a class='timestamp' href='#462744'><time timestamp='2016-04-13T15:17:00Z'>15:17</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
Chris_Stewart_5, I believe path is the hashes in the tree, the position will tell you how to build the branch
<br>
</div>

<div class='talk op-msg' data-timestamp='1460560680' id='462745'>
<a class='timestamp' href='#462745'><time timestamp='2016-04-13T15:18:00Z'>15:18</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
jl2012, you might want to make it explicit, as I had trouble understanding it first go around as well
<br>
</div>

<div class='talk op-msg' data-timestamp='1460560680' id='462746'>
<a class='timestamp' href='#462746'><time timestamp='2016-04-13T15:18:00Z'>15:18</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
and if I&#x27;m wrong, doubly so :P
<br>
</div>

<div class='talk op-msg' data-timestamp='1460560680' id='462747'>
<a class='timestamp' href='#462747'><time timestamp='2016-04-13T15:18:00Z'>15:18</time></a>
&lt;<span class='nick nick-11'> jl2012</span>&gt;
instagibbs, yes, you are right
<br>
</div>

<div class='talk op-msg' data-timestamp='1460560680' id='462748'>
<a class='timestamp' href='#462748'><time timestamp='2016-04-13T15:18:00Z'>15:18</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
hmm ok
<br>
</div>

<div class='talk op-msg' data-timestamp='1460560740' id='462749'>
<a class='timestamp' href='#462749'><time timestamp='2016-04-13T15:19:00Z'>15:19</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
I had to read between the lines tbh, since path had to be multiple of 32 bytes, i inferred it was sha hash
<br>
</div>

<div class='talk op-msg' data-timestamp='1460560740' id='462750'>
<a class='timestamp' href='#462750'><time timestamp='2016-04-13T15:19:00Z'>15:19</time></a>
&lt;<span class='nick nick-11'> jl2012</span>&gt;
for Depth (d), you may have at most 2^d possible Position
<br>
</div>

<div class='talk op-msg' data-timestamp='1460560740' id='462751'>
<a class='timestamp' href='#462751'><time timestamp='2016-04-13T15:19:00Z'>15:19</time></a>
&lt;<span class='nick nick-11'> jl2012</span>&gt;
Position = 0 means the leftmost position in the tree
<br>
</div>

<div class='talk op-msg' data-timestamp='1460560800' id='462752'>
<a class='timestamp' href='#462752'><time timestamp='2016-04-13T15:20:00Z'>15:20</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
jl2012: Leftmost... what exactly doe that mean? THe left most leaf node if you were to draw the tree out?
<br>
</div>

<div class='talk op-msg' data-timestamp='1460560800' id='462753'>
<a class='timestamp' href='#462753'><time timestamp='2016-04-13T15:20:00Z'>15:20</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1460560800' id='462754'>
<a class='timestamp' href='#462754'><time timestamp='2016-04-13T15:20:00Z'>15:20</time></a>
&lt;<span class='nick nick-11'> jl2012</span>&gt;
yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1460560800' id='462755'>
<a class='timestamp' href='#462755'><time timestamp='2016-04-13T15:20:00Z'>15:20</time></a>
&lt;<span class='nick nick-11'> jl2012</span>&gt;
same as the Merkle Root in the block header
<br>
</div>

<div class='talk op-msg' data-timestamp='1460560860' id='462756'>
<a class='timestamp' href='#462756'><time timestamp='2016-04-13T15:21:00Z'>15:21</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
jl2012, mind if I write a clarification text? do I PR directly against the bip repo or yours?
<br>
</div>

<div class='talk op-msg' data-timestamp='1460560860' id='462757'>
<a class='timestamp' href='#462757'><time timestamp='2016-04-13T15:21:00Z'>15:21</time></a>
&lt;<span class='nick nick-11'> jl2012</span>&gt;
instagibbs, please feel free, just a direct PR to BIP repo, thanks
<br>
</div>

<div class='talk op-msg' data-timestamp='1460560980' id='462758'>
<a class='timestamp' href='#462758'><time timestamp='2016-04-13T15:23:00Z'>15:23</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
So path is essentially a vector of sha256 hashes.. why do we exactly need the position arg again? instagibbs said for building the branch, can you be more explicit than that? Some how reconstructing the script from the hashes? 
<br>
</div>

<div class='talk op-msg' data-timestamp='1460561100' id='462759'>
<a class='timestamp' href='#462759'><time timestamp='2016-04-13T15:25:00Z'>15:25</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
Chris_Stewart_5: if your leaves are (a,b,c,d) then root=H(H(a,b),H(c,d)), right?
<br>
</div>

<div class='talk op-msg' data-timestamp='1460561100' id='462760'>
<a class='timestamp' href='#462760'><time timestamp='2016-04-13T15:25:00Z'>15:25</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1460561100' id='462761'>
<a class='timestamp' href='#462761'><time timestamp='2016-04-13T15:25:00Z'>15:25</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
if you want leaf b, you need to reveal a and H(c,d), right?
<br>
</div>

<div class='talk op-msg' data-timestamp='1460561100' id='462762'>
<a class='timestamp' href='#462762'><time timestamp='2016-04-13T15:25:00Z'>15:25</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
yes
<br>
</div>

<div class='talk op-msg' data-timestamp='1460561100' id='462763'>
<a class='timestamp' href='#462763'><time timestamp='2016-04-13T15:25:00Z'>15:25</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
so your path would be (a,H(c,d))
<br>
</div>

<div class='talk op-msg' data-timestamp='1460561160' id='462764'>
<a class='timestamp' href='#462764'><time timestamp='2016-04-13T15:26:00Z'>15:26</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
if you want leaf c, however, you reveal (d,H(a,b))
<br>
</div>

<div class='talk op-msg' data-timestamp='1460561160' id='462765'>
<a class='timestamp' href='#462765'><time timestamp='2016-04-13T15:26:00Z'>15:26</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
so position = 3? 
<br>
</div>

<div class='talk op-msg' data-timestamp='1460561160' id='462766'>
<a class='timestamp' href='#462766'><time timestamp='2016-04-13T15:26:00Z'>15:26</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
if you reveal b, position = 1
<br>
</div>

<div class='talk op-msg' data-timestamp='1460561160' id='462767'>
<a class='timestamp' href='#462767'><time timestamp='2016-04-13T15:26:00Z'>15:26</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
if you reveal c, position = 2
<br>
</div>

<div class='talk op-msg' data-timestamp='1460561160' id='462768'>
<a class='timestamp' href='#462768'><time timestamp='2016-04-13T15:26:00Z'>15:26</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
etc
<br>
</div>

<div class='talk op-msg' data-timestamp='1460561220' id='462769'>
<a class='timestamp' href='#462769'><time timestamp='2016-04-13T15:27:00Z'>15:27</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
ahh zero based index
<br>
</div>

<div class='talk op-msg' data-timestamp='1460561220' id='462770'>
<a class='timestamp' href='#462770'><time timestamp='2016-04-13T15:27:00Z'>15:27</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
gotcha. Thanks.
<br>
</div>

<div class='talk op-msg' data-timestamp='1460561220' id='462771'>
<a class='timestamp' href='#462771'><time timestamp='2016-04-13T15:27:00Z'>15:27</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
of course :p
<br>
</div>

<div class='talk op-msg' data-timestamp='1460561220' id='462772'>
<a class='timestamp' href='#462772'><time timestamp='2016-04-13T15:27:00Z'>15:27</time></a>
&lt;<span class='nick nick-9'> * instagibbs</span>&gt;
fortran user detected
<br>
</div>

<div class='talk op-msg' data-timestamp='1460561280' id='462773'>
<a class='timestamp' href='#462773'><time timestamp='2016-04-13T15:28:00Z'>15:28</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
lol
<br>
</div>

<div class='talk op-msg' data-timestamp='1460561340' id='462774'>
<a class='timestamp' href='#462774'><time timestamp='2016-04-13T15:29:00Z'>15:29</time></a>
&lt;<span class='nick nick-11'> jl2012</span>&gt;
programmers count from 0
<br>
</div>

<div class='talk op-msg' data-timestamp='1460561460' id='462775'>
<a class='timestamp' href='#462775'><time timestamp='2016-04-13T15:31:00Z'>15:31</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
I think I forgot to turn on the CS part of my brain this morning... it was almost like I was a normal person for a while :P
<br>
</div>

<div class='talk op-msg' data-timestamp='1460561460' id='462776'>
<a class='timestamp' href='#462776'><time timestamp='2016-04-13T15:31:00Z'>15:31</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
<b>*looks around for more coffee*</b>
<br>
</div>

<div class='talk op-msg' data-timestamp='1460562540' id='462777'>
<a class='timestamp' href='#462777'><time timestamp='2016-04-13T15:49:00Z'>15:49</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
jl2012, <a href="https://github.com/bitcoin/bips/pull/369" class="link" target="_blank">https://github.com/bitcoin/bips/pull/369</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1460562540' id='462778'>
<a class='timestamp' href='#462778'><time timestamp='2016-04-13T15:49:00Z'>15:49</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
let me know of quibbles etc 
<br>
</div>

<div class='talk op-msg' data-timestamp='1460562660' id='462779'>
<a class='timestamp' href='#462779'><time timestamp='2016-04-13T15:51:00Z'>15:51</time></a>
&lt;<span class='nick nick-11'> jl2012</span>&gt;
thanks!
<br>
</div>

<div class='talk op-msg' data-timestamp='1460562720' id='462780'>
<a class='timestamp' href='#462780'><time timestamp='2016-04-13T15:52:00Z'>15:52</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
the merkle branch also has to be &quot;minimal&quot;, but I figure anyone who skims the merkle root function would arrive at that
<br>
</div>

<div class='talk op-msg' data-timestamp='1460562780' id='462781'>
<a class='timestamp' href='#462781'><time timestamp='2016-04-13T15:53:00Z'>15:53</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
and really should just copypasta that function if need be
<br>
</div>

<div class='talk op-msg' data-timestamp='1460562780' id='462782'>
<a class='timestamp' href='#462782'><time timestamp='2016-04-13T15:53:00Z'>15:53</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
maybe branch singular already means that, no idea
<br>
</div>

<div class='talk op-msg' data-timestamp='1460563140' id='462783'>
<a class='timestamp' href='#462783'><time timestamp='2016-04-13T15:59:00Z'>15:59</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
jonasschnelli: hahah oops! good to know that&#x27;s the issue, that was an old branch
<br>
</div>

<div class='talk op-msg' data-timestamp='1460563320' id='462784'>
<a class='timestamp' href='#462784'><time timestamp='2016-04-13T16:02:00Z'>16:02</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
I remember having made a similar mistake at least once, testing another branch then I thought I was testing, then spending quite some time debuggin why it didnt work as expected. I think around the time of the boost to evhttpd switch.
<br>
</div>

<div class='talk op-msg' data-timestamp='1460563740' id='462785'>
<a class='timestamp' href='#462785'><time timestamp='2016-04-13T16:09:00Z'>16:09</time></a>
&lt;<span class='nick nick-11'> jl2012</span>&gt;
instagibbs: what do you mean by minimal?
<br>
</div>

<div class='talk op-msg' data-timestamp='1460563860' id='462786'>
<a class='timestamp' href='#462786'><time timestamp='2016-04-13T16:11:00Z'>16:11</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
it only deals with the nodes it needs to compute a single path
<br>
</div>

<div class='talk op-msg' data-timestamp='1460564040' id='462787'>
<a class='timestamp' href='#462787'><time timestamp='2016-04-13T16:14:00Z'>16:14</time></a>
&lt;<span class='nick nick-11'> jl2012</span>&gt;
I think it&#x27;s implied by the design
<br>
</div>

<div class='talk op-msg' data-timestamp='1460565120' id='462788'>
<a class='timestamp' href='#462788'><time timestamp='2016-04-13T16:32:00Z'>16:32</time></a>
&lt;<span class='nick nick-15'> Chris_Stewart_5</span>&gt;
probably better to be explicit..
<br>
</div>

<div class='talk op-msg' data-timestamp='1460565240' id='462789'>
<a class='timestamp' href='#462789'><time timestamp='2016-04-13T16:34:00Z'>16:34</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
Copying and pasting the tiny function call is pretty explicit and no work 
<br>
</div>

<div class='talk op-msg' data-timestamp='1460566500' id='462790'>
<a class='timestamp' href='#462790'><time timestamp='2016-04-13T16:55:00Z'>16:55</time></a>
&lt;<span class='nick nick-11'> jl2012</span>&gt;
Chris_Stewart_5, instagibbs: more comments added to the reference implementation <a href="https://github.com/jl2012/bips/blob/bip114ref/bip-0114.mediawiki#Reference_Implementation" class="link" target="_blank">https://github.com/jl2012/bips/blob/bip114ref/bip-0114.mediawiki#Reference_Implementation</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1460566560' id='462791'>
<a class='timestamp' href='#462791'><time timestamp='2016-04-13T16:56:00Z'>16:56</time></a>
&lt;<span class='nick nick-11'> instagibbs</span>&gt;
ACK :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1460577240' id='462792'>
<a class='timestamp' href='#462792'><time timestamp='2016-04-13T19:54:00Z'>19:54</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Now correct: LMDB branch sync from random peers took 2h 30min up to progress=1
<br>
</div>

<div class='talk op-msg' data-timestamp='1460577240' id='462793'>
<a class='timestamp' href='#462793'><time timestamp='2016-04-13T19:54:00Z'>19:54</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
Now comparing reindex with default dbcache
<br>
</div>

<div class='talk op-msg' data-timestamp='1460577360' id='462794'>
<a class='timestamp' href='#462794'><time timestamp='2016-04-13T19:56:00Z'>19:56</time></a>
&lt;<span class='nick nick-13'> jonasschnelli</span>&gt;
First shutdown of LMDB IBDed node with dbcache=9000 took just a couple of seconds (write speed didn&#x27;t felt different to leveldb).
<br>
</div>

<div class='talk op-msg' data-timestamp='1460578800' id='462795'>
<a class='timestamp' href='#462795'><time timestamp='2016-04-13T20:20:00Z'>20:20</time></a>
&lt;<span class='nick nick-13'> GitHub79</span>&gt;
[bitcoin] morcos opened pull request #7874: Improve AlreadyHave (master...speedAlreadyHave) <a href="https://github.com/bitcoin/bitcoin/pull/7874" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/7874</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1460590680' id='462796'>
<a class='timestamp' href='#462796'><time timestamp='2016-04-13T23:38:00Z'>23:38</time></a>
&lt;<span class='nick nick-3'> cfields_</span>&gt;
mm, what&#x27;s the real-world use-case for getaddednodeinfo rpc?
<br>
</div>

<div class='talk op-msg' data-timestamp='1460590740' id='462797'>
<a class='timestamp' href='#462797'><time timestamp='2016-04-13T23:39:00Z'>23:39</time></a>
&lt;<span class='nick nick-3'> cfields_</span>&gt;
the resolving logic is kinda wonky, and i&#x27;m not sure it&#x27;s worth trying to maintain compatibility with the net refactor
<br>
</div>

<div class='talk op-msg' data-timestamp='1460590920' id='462798'>
<a class='timestamp' href='#462798'><time timestamp='2016-04-13T23:42:00Z'>23:42</time></a>
&lt;<span class='nick nick-3'> cfields_</span>&gt;
BlueMatt_: ^^. Looks like you added it. In particular, the issue is that it (for dns entires) it does a resolve in the rpc, though that doesn&#x27;t represent the ips that the network thread will end up trying
<br>
</div>

<div class='talk op-msg' data-timestamp='1460591040' id='462799'>
<a class='timestamp' href='#462799'><time timestamp='2016-04-13T23:44:00Z'>23:44</time></a>
&lt;<span class='nick nick-3'> cfields_</span>&gt;
so I&#x27;m not sure that it&#x27;s really worth trying to enumerate them. seems like keeping a map of dns-&gt;resolved would be enough to determine if a dns entry is connected or not, which i think is the useful info there?
<br>
</div>

<div class='talk op-msg' data-timestamp='1460591820' id='462800'>
<a class='timestamp' href='#462800'><time timestamp='2016-04-13T23:57:00Z'>23:57</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
cfields_: i doubt it is important to keep its exact semantics
<br>
</div>

<div class='talk op-msg' data-timestamp='1460591940' id='462801'>
<a class='timestamp' href='#462801'><time timestamp='2016-04-13T23:59:00Z'>23:59</time></a>
&lt;<span class='nick nick-3'> cfields_</span>&gt;
ok
<br>
</div>

</div>
</section>

</body>
</html>
