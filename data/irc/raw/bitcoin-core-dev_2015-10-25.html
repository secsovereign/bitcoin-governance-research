<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2015-10-25
 â€” 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2015-10-25' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:27 UTC</pre>
<pre><a href="/bitcoin-core-dev/2015-09-25">&lt;</a><span class='header'>   October 2015   </span><a href="/bitcoin-core-dev/2015-11-25">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;             <a class="" href="/bitcoin-core-dev/2015-10-01">1</a>  <a class="" href="/bitcoin-core-dev/2015-10-02">2</a>  <a class="" href="/bitcoin-core-dev/2015-10-03">3</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2015-10-04">4</a>  <a class="" href="/bitcoin-core-dev/2015-10-05">5</a>  <a class="" href="/bitcoin-core-dev/2015-10-06">6</a>  <a class="" href="/bitcoin-core-dev/2015-10-07">7</a>  <a class="" href="/bitcoin-core-dev/2015-10-08">8</a>  <a class="" href="/bitcoin-core-dev/2015-10-09">9</a> <a class="" href="/bitcoin-core-dev/2015-10-10">10</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2015-10-11">11</a> <a class="" href="/bitcoin-core-dev/2015-10-12">12</a> <a class="" href="/bitcoin-core-dev/2015-10-13">13</a> <a class="" href="/bitcoin-core-dev/2015-10-14">14</a> <a class="" href="/bitcoin-core-dev/2015-10-15">15</a> <a class="" href="/bitcoin-core-dev/2015-10-16">16</a> <a class="" href="/bitcoin-core-dev/2015-10-17">17</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2015-10-18">18</a> <a class="" href="/bitcoin-core-dev/2015-10-19">19</a> <a class="" href="/bitcoin-core-dev/2015-10-20">20</a> <a class="" href="/bitcoin-core-dev/2015-10-21">21</a> <a class="" href="/bitcoin-core-dev/2015-10-22">22</a> <a class="" href="/bitcoin-core-dev/2015-10-23">23</a> <a class="" href="/bitcoin-core-dev/2015-10-24">24</a>  &#x000A;<a class="current" href="/bitcoin-core-dev/2015-10-25">25</a> <a class="" href="/bitcoin-core-dev/2015-10-26">26</a> <a class="" href="/bitcoin-core-dev/2015-10-27">27</a> <a class="" href="/bitcoin-core-dev/2015-10-28">28</a> <a class="" href="/bitcoin-core-dev/2015-10-29">29</a> <a class="" href="/bitcoin-core-dev/2015-10-30">30</a> <a class="" href="/bitcoin-core-dev/2015-10-31">31</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1445735340' id='432157'>
<a class='timestamp' href='#432157'><time timestamp='2015-10-25T01:09:00Z'>01:09</time></a>
&lt;<span class='nick nick-2'> GitHub74</span>&gt;
[bitcoin] MarcoFalke opened pull request #6887: [qt] Update coin control and smartfee labels (master...MarcoFalke-2015-qtMaxMin_Fee_and_Max_Fee) <a href="https://github.com/bitcoin/bitcoin/pull/6887" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/6887</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1445752200' id='432158'>
<a class='timestamp' href='#432158'><time timestamp='2015-10-25T05:50:00Z'>05:50</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
I&#x27;m experiencing a very strange travis issue - everything works fine with one commit, then I just add this <a href="https://github.com/CodeShark/bitcoin/commit/6f42f34f03834b67cc09b53a3809bee9d2239b8e" class="link" target="_blank">https://github.com/CodeShark/bitcoin/commit/6f42f34f03834b67cc09b53a3809bee9d2239b8e</a> and suddenly I get the seemingly unrelated error: test/alert_tests.cpp(223): error in &quot;PartitionAlert&quot;: check strMiscWarning.empty() failed - <a href="https://s3.amazonaws.com/archive.travis-ci.org/jobs" class="link" target="_blank">https://s3.amazonaws.com/archive.travis-ci.org/jobs</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1445752200' id='432159'>
<a class='timestamp' href='#432159'><time timestamp='2015-10-25T05:50:00Z'>05:50</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
/87276294/log.txt
<br>
</div>

<div class='talk op-msg' data-timestamp='1445752260' id='432160'>
<a class='timestamp' href='#432160'><time timestamp='2015-10-25T05:51:00Z'>05:51</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
the previous commit has no issues: <a href="https://github.com/bitcoin/bitcoin/pull/6816/commits" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/6816/commits</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1445752380' id='432161'>
<a class='timestamp' href='#432161'><time timestamp='2015-10-25T05:53:00Z'>05:53</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
I&#x27;m completely stumped on this one
<br>
</div>

<div class='talk op-msg' data-timestamp='1445753400' id='432162'>
<a class='timestamp' href='#432162'><time timestamp='2015-10-25T06:10:00Z'>06:10</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
jgarzik, you can do INSERT INTO table (column, column) VALUES (1,2),(3,4);
<br>
</div>

<div class='talk op-msg' data-timestamp='1445753400' id='432163'>
<a class='timestamp' href='#432163'><time timestamp='2015-10-25T06:10:00Z'>06:10</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
batch the batches
<br>
</div>

<div class='talk op-msg' data-timestamp='1445753400' id='432164'>
<a class='timestamp' href='#432164'><time timestamp='2015-10-25T06:10:00Z'>06:10</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i doubt that makes any difference
<br>
</div>

<div class='talk op-msg' data-timestamp='1445753640' id='432165'>
<a class='timestamp' href='#432165'><time timestamp='2015-10-25T06:14:00Z'>06:14</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
also you need to assert the returned data type
<br>
</div>

<div class='talk op-msg' data-timestamp='1445753700' id='432166'>
<a class='timestamp' href='#432166'><time timestamp='2015-10-25T06:15:00Z'>06:15</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
sqlite doesn&#x27;t strictly enforce the data types...
<br>
</div>

<div class='talk op-msg' data-timestamp='1445753820' id='432167'>
<a class='timestamp' href='#432167'><time timestamp='2015-10-25T06:17:00Z'>06:17</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
&lt;jgarzik&gt; I think there is a background WAL checkpoint mode
<br>
</div>

<div class='talk op-msg' data-timestamp='1445753820' id='432168'>
<a class='timestamp' href='#432168'><time timestamp='2015-10-25T06:17:00Z'>06:17</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
there isn&#x27;t you have to do it yourself
<br>
</div>

<div class='talk op-msg' data-timestamp='1445754060' id='432169'>
<a class='timestamp' href='#432169'><time timestamp='2015-10-25T06:21:00Z'>06:21</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
sipa, it can make a difference if the batches are very large
<br>
</div>

<div class='talk op-msg' data-timestamp='1445754180' id='432170'>
<a class='timestamp' href='#432170'><time timestamp='2015-10-25T06:23:00Z'>06:23</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
you get the best performance with a wal and a background thread that&#x27;s doing passive checkpoints in a loop
<br>
</div>

<div class='talk op-msg' data-timestamp='1445754180' id='432171'>
<a class='timestamp' href='#432171'><time timestamp='2015-10-25T06:23:00Z'>06:23</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
iirc there&#x27;s an api call to get stats on the journal which can tell you if a SQLITE_CHECKPOINT_FULL would be fast
<br>
</div>

<div class='talk op-msg' data-timestamp='1445754240' id='432172'>
<a class='timestamp' href='#432172'><time timestamp='2015-10-25T06:24:00Z'>06:24</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
it&#x27;ll still be slow probably though
<br>
</div>

<div class='talk op-msg' data-timestamp='1445754300' id='432173'>
<a class='timestamp' href='#432173'><time timestamp='2015-10-25T06:25:00Z'>06:25</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
right it&#x27;s the two output values from sqlite3_wal_checkpoint_v2
<br>
</div>

<div class='talk op-msg' data-timestamp='1445754300' id='432174'>
<a class='timestamp' href='#432174'><time timestamp='2015-10-25T06:25:00Z'>06:25</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
pnLog tells you how many frames there are and pnCkpt tells you how many have been checkpointed
<br>
</div>

<div class='talk op-msg' data-timestamp='1445754300' id='432175'>
<a class='timestamp' href='#432175'><time timestamp='2015-10-25T06:25:00Z'>06:25</time></a>
&lt;<span class='nick nick-4'> phantomcircuit</span>&gt;
nLog - nCkpt == frames left to checkpoint
<br>
</div>

<div class='talk op-msg' data-timestamp='1445755140' id='432176'>
<a class='timestamp' href='#432176'><time timestamp='2015-10-25T06:39:00Z'>06:39</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
hmmm - this won&#x27;t work for versionbits at all: <a href="https://github.com/bitcoin/bitcoin/blob/master/src/main.cpp#L2034" class="link" target="_blank">https://github.com/bitcoin/bitcoin/blob/master/src/main.cpp#L2034</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1445755320' id='432177'>
<a class='timestamp' href='#432177'><time timestamp='2015-10-25T06:42:00Z'>06:42</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
bip9 specifies a replacement for the alert logic
<br>
</div>

<div class='talk op-msg' data-timestamp='1445755500' id='432178'>
<a class='timestamp' href='#432178'><time timestamp='2015-10-25T06:45:00Z'>06:45</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
heh. 25% of the design of versionbits is specificlly there to facilitate smarter warning behavior.
<br>
</div>

<div class='talk op-msg' data-timestamp='1445755920' id='432179'>
<a class='timestamp' href='#432179'><time timestamp='2015-10-25T06:52:00Z'>06:52</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
the current spec says we should only warn if a lock-in is detected for an unknown bit - so if the bit is set in 94% of blocks for an interval no warning?
<br>
</div>

<div class='talk op-msg' data-timestamp='1445755980' id='432180'>
<a class='timestamp' href='#432180'><time timestamp='2015-10-25T06:53:00Z'>06:53</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
I was thinking to warn if any unknown bit is detected...but that would make it easy for miners to trip off a bunch of clients with a single block
<br>
</div>

<div class='talk op-msg' data-timestamp='1445756100' id='432181'>
<a class='timestamp' href='#432181'><time timestamp='2015-10-25T06:55:00Z'>06:55</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
furthermore, it presumes we can detect a lock-in for a fork we haven&#x27;t even defined...so this would force the threshold to actually be a chain parameter (and would potentially complicate matters if we ever want to modify thresholds)
<br>
</div>

<div class='talk op-msg' data-timestamp='1445756160' id='432182'>
<a class='timestamp' href='#432182'><time timestamp='2015-10-25T06:56:00Z'>06:56</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
I&#x27;d say we should warn if at least half of the blocks within an interval show an unknown bit
<br>
</div>

<div class='talk op-msg' data-timestamp='1445756220' id='432183'>
<a class='timestamp' href='#432183'><time timestamp='2015-10-25T06:57:00Z'>06:57</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
CodeShark: the document talks about this. :(
<br>
</div>

<div class='talk op-msg' data-timestamp='1445756280' id='432184'>
<a class='timestamp' href='#432184'><time timestamp='2015-10-25T06:58:00Z'>06:58</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
yes, I&#x27;m referring to the document
<br>
</div>

<div class='talk op-msg' data-timestamp='1445756340' id='432185'>
<a class='timestamp' href='#432185'><time timestamp='2015-10-25T06:59:00Z'>06:59</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
The thresholds are specified but they are not consensus rules. If one uses another threshold, one can do so-- but one has to cope with whatever impact that has on warning behavior.
<br>
</div>

<div class='talk op-msg' data-timestamp='1445756340' id='432186'>
<a class='timestamp' href='#432186'><time timestamp='2015-10-25T06:59:00Z'>06:59</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
<a href="https://github.com/bitcoin/bips/blob/master/bip-0009.mediawiki#Support_for_future_changes" class="link" target="_blank">https://github.com/bitcoin/bips/blob/master/bip-0009.mediawiki#Support_for_future_changes</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1445756400' id='432187'>
<a class='timestamp' href='#432187'><time timestamp='2015-10-25T07:00:00Z'>07:00</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
the document says &quot;Whenever lock-in for the unknown upgrade is detected, the software should warn loudly about the upcoming soft fork. It should warn even more loudly after the next retarget period.&quot; - I&#x27;m saying if at least half the blocks in an interval show a particular set bit that we do not recognize, we should probably start warning
<br>
</div>

<div class='talk op-msg' data-timestamp='1445756460' id='432188'>
<a class='timestamp' href='#432188'><time timestamp='2015-10-25T07:01:00Z'>07:01</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
regardless of whether or not it&#x27;s locked in
<br>
</div>

<div class='talk op-msg' data-timestamp='1445756640' id='432189'>
<a class='timestamp' href='#432189'><time timestamp='2015-10-25T07:04:00Z'>07:04</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
moreover, if we up the thresholds later on and still have soft forks deployed that have not locked in nor expired, it gets tricky
<br>
</div>

<div class='talk op-msg' data-timestamp='1445756700' id='432190'>
<a class='timestamp' href='#432190'><time timestamp='2015-10-25T07:05:00Z'>07:05</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
95% minimum for lock in is probably a good idea - but for warning I&#x27;d go WAY lower
<br>
</div>

<div class='talk op-msg' data-timestamp='1445756760' id='432191'>
<a class='timestamp' href='#432191'><time timestamp='2015-10-25T07:06:00Z'>07:06</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
but I think it should not be &lt;50% in some analysis window.
<br>
</div>

<div class='talk op-msg' data-timestamp='1445756760' id='432192'>
<a class='timestamp' href='#432192'><time timestamp='2015-10-25T07:06:00Z'>07:06</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
right - at least 50%
<br>
</div>

<div class='talk op-msg' data-timestamp='1445756820' id='432193'>
<a class='timestamp' href='#432193'><time timestamp='2015-10-25T07:07:00Z'>07:07</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
it indicates that there&#x27;s sufficient hash power on the network to enforce it
<br>
</div>

<div class='talk op-msg' data-timestamp='1445756820' id='432194'>
<a class='timestamp' href='#432194'><time timestamp='2015-10-25T07:07:00Z'>07:07</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
regardless of what the actual activation mechanism might be
<br>
</div>

<div class='talk op-msg' data-timestamp='1445757000' id='432195'>
<a class='timestamp' href='#432195'><time timestamp='2015-10-25T07:10:00Z'>07:10</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
it also means that if someone is just trying to trigger the warning for lulz they need enough hashpower to cause much more trouble. :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1445757060' id='432196'>
<a class='timestamp' href='#432196'><time timestamp='2015-10-25T07:11:00Z'>07:11</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
right
<br>
</div>

<div class='talk op-msg' data-timestamp='1445757120' id='432197'>
<a class='timestamp' href='#432197'><time timestamp='2015-10-25T07:12:00Z'>07:12</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
and we also need to consider cases where nVersion is not a versionbits version
<br>
</div>

<div class='talk op-msg' data-timestamp='1445757120' id='432198'>
<a class='timestamp' href='#432198'><time timestamp='2015-10-25T07:12:00Z'>07:12</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
CodeShark: treat as unknown versionbits.
<br>
</div>

<div class='talk op-msg' data-timestamp='1445757180' id='432199'>
<a class='timestamp' href='#432199'><time timestamp='2015-10-25T07:13:00Z'>07:13</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
what if 25% set bit 4 and a disjoint 25% set bit 5 (and we don&#x27;t recognize either bit 4 nor 5)
<br>
</div>

<div class='talk op-msg' data-timestamp='1445757240' id='432200'>
<a class='timestamp' href='#432200'><time timestamp='2015-10-25T07:14:00Z'>07:14</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
that means 50% of versions are unknown, but they are different versions - still no hashpower majority on either
<br>
</div>

<div class='talk op-msg' data-timestamp='1445757300' id='432201'>
<a class='timestamp' href='#432201'><time timestamp='2015-10-25T07:15:00Z'>07:15</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
the logic I was considering was checking whether nVersion starts with bits 001. If so, count each unknown bit separately for the interval. If not, use different logic
<br>
</div>

<div class='talk op-msg' data-timestamp='1445757360' id='432202'>
<a class='timestamp' href='#432202'><time timestamp='2015-10-25T07:16:00Z'>07:16</time></a>
&lt;<span class='nick nick-14'> gmaxwell</span>&gt;
my expectation is that we should warn if half the hashpower is doing something we don&#x27;t know about.
<br>
</div>

<div class='talk op-msg' data-timestamp='1445757420' id='432203'>
<a class='timestamp' href='#432203'><time timestamp='2015-10-25T07:17:00Z'>07:17</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
that would be easiest - just count how many blocks have unrecognized nVersion (versionbits or no) within an interval
<br>
</div>

<div class='talk op-msg' data-timestamp='1445757480' id='432204'>
<a class='timestamp' href='#432204'><time timestamp='2015-10-25T07:18:00Z'>07:18</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
if at least 50%, warn (which is similar to the current logic...except that the test is not &gt; CBlock::CURRENT_VERSION
<br>
</div>

<div class='talk op-msg' data-timestamp='1445757480' id='432205'>
<a class='timestamp' href='#432205'><time timestamp='2015-10-25T07:18:00Z'>07:18</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but within which interval?
<br>
</div>

<div class='talk op-msg' data-timestamp='1445757480' id='432206'>
<a class='timestamp' href='#432206'><time timestamp='2015-10-25T07:18:00Z'>07:18</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
well, for ISM we were using a window of 1000, right?
<br>
</div>

<div class='talk op-msg' data-timestamp='1445757480' id='432207'>
<a class='timestamp' href='#432207'><time timestamp='2015-10-25T07:18:00Z'>07:18</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
if the versions <u>_are_</u> versionbits compatible, you can treat them as an unknown versionbits, and warn if it trigger
<br>
</div>

<div class='talk op-msg' data-timestamp='1445757480' id='432208'>
<a class='timestamp' href='#432208'><time timestamp='2015-10-25T07:18:00Z'>07:18</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
and for the current warning system we use a window of 100
<br>
</div>

<div class='talk op-msg' data-timestamp='1445757540' id='432209'>
<a class='timestamp' href='#432209'><time timestamp='2015-10-25T07:19:00Z'>07:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
which remains the case potentially after the window expires
<br>
</div>

<div class='talk op-msg' data-timestamp='1445757540' id='432210'>
<a class='timestamp' href='#432210'><time timestamp='2015-10-25T07:19:00Z'>07:19</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
right - so we would check a moving window of 100 and continue warning regardless of whether or not anything strange happens afterwards
<br>
</div>

<div class='talk op-msg' data-timestamp='1445757660' id='432211'>
<a class='timestamp' href='#432211'><time timestamp='2015-10-25T07:21:00Z'>07:21</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
I&#x27;m concerned about reading too much into the deployment mechanism...especially if we&#x27;re presumably running obsolete software
<br>
</div>

<div class='talk op-msg' data-timestamp='1445757720' id='432212'>
<a class='timestamp' href='#432212'><time timestamp='2015-10-25T07:22:00Z'>07:22</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
if half or more of hashing power is doing something we don&#x27;t recognize, we better figure out what&#x27;s going on
<br>
</div>

<div class='talk op-msg' data-timestamp='1445757900' id='432213'>
<a class='timestamp' href='#432213'><time timestamp='2015-10-25T07:25:00Z'>07:25</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
easiest would be to replace if (pindex-&gt;nVersion &gt; CBlock::CURRENT_VERSION) ++nUpgraded; with if (CheckVersion(pindex-&gt;nVersion) != VALID) ++nUpgraded;
<br>
</div>

<div class='talk op-msg' data-timestamp='1445757960' id='432214'>
<a class='timestamp' href='#432214'><time timestamp='2015-10-25T07:26:00Z'>07:26</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
or CheckVersion(pindex, blockRuleIndex, consensusParams) rather
<br>
</div>

<div class='talk op-msg' data-timestamp='1445757960' id='432215'>
<a class='timestamp' href='#432215'><time timestamp='2015-10-25T07:26:00Z'>07:26</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
in 
<br>
</div>

<div class='talk op-msg' data-timestamp='1445757960' id='432216'>
<a class='timestamp' href='#432216'><time timestamp='2015-10-25T07:26:00Z'>07:26</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
UpdateTip
<br>
</div>

<div class='talk op-msg' data-timestamp='1445758020' id='432217'>
<a class='timestamp' href='#432217'><time timestamp='2015-10-25T07:27:00Z'>07:27</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
where CheckVersion handles all the logic for determining what constitutes a recognized and valid version
<br>
</div>

<div class='talk op-msg' data-timestamp='1445758020' id='432218'>
<a class='timestamp' href='#432218'><time timestamp='2015-10-25T07:27:00Z'>07:27</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
and use a sticky flag...once it&#x27;s triggered it remains set
<br>
</div>

<div class='talk op-msg' data-timestamp='1445758140' id='432219'>
<a class='timestamp' href='#432219'><time timestamp='2015-10-25T07:29:00Z'>07:29</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
if it <b>*is*</b> versionbits compatible, we can check whether it is a versionbits version and check for lock-in windows and stuff like that
<br>
</div>

<div class='talk op-msg' data-timestamp='1445766540' id='432220'>
<a class='timestamp' href='#432220'><time timestamp='2015-10-25T09:49:00Z'>09:49</time></a>
&lt;<span class='nick nick-2'> GitHub9</span>&gt;
[bitcoin] CodeShark opened pull request #6888: Clear strMiscWarning before running PartitionAlert (master...alert_tests) <a href="https://github.com/bitcoin/bitcoin/pull/6888" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/6888</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1445776320' id='432221'>
<a class='timestamp' href='#432221'><time timestamp='2015-10-25T12:32:00Z'>12:32</time></a>
&lt;<span class='nick nick-9'> CodeShark</span>&gt;
wumpus: should I open an issue for PR #6888?
<br>
</div>

<div class='talk op-msg' data-timestamp='1445778780' id='432222'>
<a class='timestamp' href='#432222'><time timestamp='2015-10-25T13:13:00Z'>13:13</time></a>
&lt;<span class='nick nick-16'> wumpus</span>&gt;
don&#x27;t think that&#x27;s necessary
<br>
</div>

</div>
</section>

</body>
</html>
