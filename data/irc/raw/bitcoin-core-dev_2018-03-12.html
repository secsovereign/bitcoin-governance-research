<!DOCTYPE html>
<html>
<title>
#bitcoin-core-dev
 on 2018-03-12
 â€” 
searchable irc log
</title>
<meta charset='utf-8'>
<meta content='IE=9' http-equiv='X-UA-Compatible'>
<link href='/style-light.css' id='stylesheet' rel='stylesheet'>
<link href='/favicon.png' rel='shortcut icon'>
<link href='http://chaincode.com/bitcoin-core-dev/2018-03-12' rel='canonical'>
<meta content='channel #bitcoin-core-dev IRC chat logs' name='description'>
<script src='/jquery.min.js'></script>
<script src='/jquery.ba-hashchange.min.js'></script>
<script src='/cookies.min.js'></script>
<script src='/application.js'></script>
<body>
<section id='sidebar'>
<section id='calendar'>
<pre class='clock'>17:22 UTC</pre>
<pre><a href="/bitcoin-core-dev/2018-02-12">&lt;</a><span class='header'>    March 2018    </span><a href="/bitcoin-core-dev/2018-04-12">&gt;</a>&#x000A;<span class='header'>Su Mo Tu We Th Fr Sa  </span>&#x000A;             <a class="" href="/bitcoin-core-dev/2018-03-01">1</a>  <a class="" href="/bitcoin-core-dev/2018-03-02">2</a>  <a class="" href="/bitcoin-core-dev/2018-03-03">3</a>  &#x000A; <a class="" href="/bitcoin-core-dev/2018-03-04">4</a>  <a class="" href="/bitcoin-core-dev/2018-03-05">5</a>  <a class="" href="/bitcoin-core-dev/2018-03-06">6</a>  <a class="" href="/bitcoin-core-dev/2018-03-07">7</a>  <a class="" href="/bitcoin-core-dev/2018-03-08">8</a>  <a class="" href="/bitcoin-core-dev/2018-03-09">9</a> <a class="" href="/bitcoin-core-dev/2018-03-10">10</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2018-03-11">11</a> <a class="current" href="/bitcoin-core-dev/2018-03-12">12</a> <a class="" href="/bitcoin-core-dev/2018-03-13">13</a> <a class="" href="/bitcoin-core-dev/2018-03-14">14</a> <a class="" href="/bitcoin-core-dev/2018-03-15">15</a> <a class="" href="/bitcoin-core-dev/2018-03-16">16</a> <a class="" href="/bitcoin-core-dev/2018-03-17">17</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2018-03-18">18</a> <a class="" href="/bitcoin-core-dev/2018-03-19">19</a> <a class="" href="/bitcoin-core-dev/2018-03-20">20</a> <a class="" href="/bitcoin-core-dev/2018-03-21">21</a> <a class="" href="/bitcoin-core-dev/2018-03-22">22</a> <a class="" href="/bitcoin-core-dev/2018-03-23">23</a> <a class="" href="/bitcoin-core-dev/2018-03-24">24</a>  &#x000A;<a class="" href="/bitcoin-core-dev/2018-03-25">25</a> <a class="" href="/bitcoin-core-dev/2018-03-26">26</a> <a class="" href="/bitcoin-core-dev/2018-03-27">27</a> <a class="" href="/bitcoin-core-dev/2018-03-28">28</a> <a class="" href="/bitcoin-core-dev/2018-03-29">29</a> <a class="" href="/bitcoin-core-dev/2018-03-30">30</a> <a class="" href="/bitcoin-core-dev/2018-03-31">31</a></pre>
</section>
<section id='options'>
<form action='/bitcoin-core-dev/search'>
<input id='search-box' name='q' placeholder='Enter keywords'>
<input type='submit' value='Search'>
<br/>
<br/>
<p>This is a searchable archive of <a href=/bitcoin-core-dev>#bitcoin-core-dev</a> irc</p>
<br/>
<small>
<b>Examples</b>
<br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=bitcoin">bitcoin</a>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=*BIP*">*BIP*</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22bitcoin-git%22">bitcoin-git</a><br/>
<a href="http://bitcoin-irc.chaincode.com/bitcoin-core-dev/search?q=%22core-meetingbot%22">core-meetingbot</a>
<br/>
<br/>
</small>
<small>Search supports standard MySQL <a href="https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html">fulltext search operations</a></small>
<br/>
<br/>
<small>Click on the timestamp of a message for a sharable link</small>
<br/>
<br/>
<small>Message timestamps are in UTC</small>
<br/>
<br/>
<small>This archive is hosted by <a href="http://chaincode.com">Chaincode</a> and runs on <a href="https://github.com/whitequark/irclogger">irclogger</a></small>
<br/>
</form>
</section>
</section>
<section class='without-noise' data-channel='#bitcoin-core-dev' id='log'>
<aside id='log-panel'>
<a href='#' id='light_dark'></a>
<label for='filter'>
Filter:
</label>
<input id='filter'>
<span class='clear-input' id='clear_filter' style='display:none'></span>
<div class='input-group'>
<input id='show_noise' type='checkbox'>
<label for='show_noise'>
Show join/leave messages
</label>
</div>
</aside>
<div class='log-messages with-panel'>
<div class='talk op-msg' data-timestamp='1520812860' id='603203'>
<a class='timestamp' href='#603203'><time timestamp='2018-03-12T00:01:00Z'>00:01</time></a>
&lt;<span class='nick nick-4'> shmulim</span>&gt;
there may be other unused dependencies, this commit does not represent a comprehensive check..
<br>
</div>

<div class='talk op-msg' data-timestamp='1520812920' id='603204'>
<a class='timestamp' href='#603204'><time timestamp='2018-03-12T00:02:00Z'>00:02</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
shmulim: just because it runs without them, doesn&#x27;t mean they&#x27;re unused (although in this case they are)
<br>
</div>

<div class='talk op-msg' data-timestamp='1520813160' id='603205'>
<a class='timestamp' href='#603205'><time timestamp='2018-03-12T00:06:00Z'>00:06</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
shmulim: well if we&#x27;re going to go through an effort to clean up unused dependencies, it would be nice to know it&#x27;s xomprehensive
<br>
</div>

<div class='talk op-msg' data-timestamp='1520813160' id='603206'>
<a class='timestamp' href='#603206'><time timestamp='2018-03-12T00:06:00Z'>00:06</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
*comprehensive
<br>
</div>

<div class='talk op-msg' data-timestamp='1520813340' id='603207'>
<a class='timestamp' href='#603207'><time timestamp='2018-03-12T00:09:00Z'>00:09</time></a>
&lt;<span class='nick nick-16'> luke-jr</span>&gt;
would be nice if GCC/LLVM had a way to hide the stuff inherited from includes, such that it can at least detect missing dependencies
<br>
</div>

<div class='talk op-msg' data-timestamp='1520813400' id='603208'>
<a class='timestamp' href='#603208'><time timestamp='2018-03-12T00:10:00Z'>00:10</time></a>
&lt;<span class='nick nick-4'> shmulim</span>&gt;
it is not comprehensive.. i&#x27;ll leave a note on the PR.. thank you both for the pointers.. i&#x27;ll look into iwyu.
<br>
</div>

<div class='talk op-msg' data-timestamp='1520813820' id='603209'>
<a class='timestamp' href='#603209'><time timestamp='2018-03-12T00:17:00Z'>00:17</time></a>
&lt;<span class='nick nick-7'> eklitzke</span>&gt;
I am kind of confused about how CheckInputs works. since the script execution cache can return false positives, there must be a path where the scripts are checked without checking the cache. can someone explain how that works?
<br>
</div>

<div class='talk op-msg' data-timestamp='1520814180' id='603210'>
<a class='timestamp' href='#603210'><time timestamp='2018-03-12T00:23:00Z'>00:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
eklitzke: how can it return false positives?
<br>
</div>

<div class='talk op-msg' data-timestamp='1520814240' id='603211'>
<a class='timestamp' href='#603211'><time timestamp='2018-03-12T00:24:00Z'>00:24</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
all the context, data, and flags for validation are hashed cryptographically into the cache&#x27;s key
<br>
</div>

<div class='talk op-msg' data-timestamp='1520814240' id='603212'>
<a class='timestamp' href='#603212'><time timestamp='2018-03-12T00:24:00Z'>00:24</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
so at worst there is a discrepancy, and the entry just won&#x27;t be found
<br>
</div>

<div class='talk op-msg' data-timestamp='1520814360' id='603213'>
<a class='timestamp' href='#603213'><time timestamp='2018-03-12T00:26:00Z'>00:26</time></a>
&lt;<span class='nick nick-7'> eklitzke</span>&gt;
is it not a probabilistic data structure?
<br>
</div>

<div class='talk op-msg' data-timestamp='1520814480' id='603214'>
<a class='timestamp' href='#603214'><time timestamp='2018-03-12T00:28:00Z'>00:28</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it&#x27;s probabilistic in the other direction
<br>
</div>

<div class='talk op-msg' data-timestamp='1520814480' id='603215'>
<a class='timestamp' href='#603215'><time timestamp='2018-03-12T00:28:00Z'>00:28</time></a>
&lt;<span class='nick nick-7'> eklitzke</span>&gt;
i see
<br>
</div>

<div class='talk op-msg' data-timestamp='1520814540' id='603216'>
<a class='timestamp' href='#603216'><time timestamp='2018-03-12T00:29:00Z'>00:29</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and if you accept the chance of hash collisions on sha256, it also has a chance for false positives
<br>
</div>

<div class='talk op-msg' data-timestamp='1520814540' id='603217'>
<a class='timestamp' href='#603217'><time timestamp='2018-03-12T00:29:00Z'>00:29</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but if those are a concern, we have bigger proble.s
<br>
</div>

<div class='talk op-msg' data-timestamp='1520814660' id='603218'>
<a class='timestamp' href='#603218'><time timestamp='2018-03-12T00:31:00Z'>00:31</time></a>
&lt;<span class='nick nick-7'> eklitzke</span>&gt;
i&#x27;m assuming that the problem of finding a sha256 collision is more difficult than finding a collision in the cache
<br>
</div>

<div class='talk op-msg' data-timestamp='1520814660' id='603219'>
<a class='timestamp' href='#603219'><time timestamp='2018-03-12T00:31:00Z'>00:31</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
hmm?
<br>
</div>

<div class='talk op-msg' data-timestamp='1520814660' id='603220'>
<a class='timestamp' href='#603220'><time timestamp='2018-03-12T00:31:00Z'>00:31</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
the cache stores the full hash
<br>
</div>

<div class='talk op-msg' data-timestamp='1520814720' id='603221'>
<a class='timestamp' href='#603221'><time timestamp='2018-03-12T00:32:00Z'>00:32</time></a>
&lt;<span class='nick nick-7'> eklitzke</span>&gt;
ah     
<br>
</div>

<div class='talk op-msg' data-timestamp='1520814720' id='603222'>
<a class='timestamp' href='#603222'><time timestamp='2018-03-12T00:32:00Z'>00:32</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
its location can have collisions, in whicb case an entry will be evicted
<br>
</div>

<div class='talk op-msg' data-timestamp='1520814720' id='603223'>
<a class='timestamp' href='#603223'><time timestamp='2018-03-12T00:32:00Z'>00:32</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but that still only results in a false negative
<br>
</div>

<div class='talk op-msg' data-timestamp='1520814720' id='603224'>
<a class='timestamp' href='#603224'><time timestamp='2018-03-12T00:32:00Z'>00:32</time></a>
&lt;<span class='nick nick-7'> eklitzke</span>&gt;
i had difficulty finding the original PR, it looks like the one that was merged on github is not the first PR put up (which probably has more of these details)
<br>
</div>

<div class='talk op-msg' data-timestamp='1520814780' id='603225'>
<a class='timestamp' href='#603225'><time timestamp='2018-03-12T00:33:00Z'>00:33</time></a>
&lt;<span class='nick nick-7'> eklitzke</span>&gt;
actually i might be wrong, maybe this description is using &quot;original PR&quot; to refer to the unsquashed version
<br>
</div>

<div class='talk op-msg' data-timestamp='1520814780' id='603226'>
<a class='timestamp' href='#603226'><time timestamp='2018-03-12T00:33:00Z'>00:33</time></a>
&lt;<span class='nick nick-7'> eklitzke</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/pull/8895" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/8895</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1520814840' id='603227'>
<a class='timestamp' href='#603227'><time timestamp='2018-03-12T00:34:00Z'>00:34</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that PR is about the sigcache
<br>
</div>

<div class='talk op-msg' data-timestamp='1520814840' id='603228'>
<a class='timestamp' href='#603228'><time timestamp='2018-03-12T00:34:00Z'>00:34</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
which is distinct from the scriptcache
<br>
</div>

<div class='talk op-msg' data-timestamp='1520814840' id='603229'>
<a class='timestamp' href='#603229'><time timestamp='2018-03-12T00:34:00Z'>00:34</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i think
<br>
</div>

<div class='talk op-msg' data-timestamp='1520814840' id='603230'>
<a class='timestamp' href='#603230'><time timestamp='2018-03-12T00:34:00Z'>00:34</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
i&#x27;m not sure anymore
<br>
</div>

<div class='talk op-msg' data-timestamp='1520815080' id='603231'>
<a class='timestamp' href='#603231'><time timestamp='2018-03-12T00:38:00Z'>00:38</time></a>
&lt;<span class='nick nick-7'> eklitzke</span>&gt;
ok i think i understand it now
<br>
</div>

<div class='talk op-msg' data-timestamp='1520815140' id='603232'>
<a class='timestamp' href='#603232'><time timestamp='2018-03-12T00:39:00Z'>00:39</time></a>
&lt;<span class='nick nick-7'> eklitzke</span>&gt;
it&#x27;s not really like a bloom filter because the original element is retained, and contains() does an == check if it finds an item in the cache, which is your point about it being probabilistic in the other direction
<br>
</div>

<div class='talk op-msg' data-timestamp='1520815140' id='603233'>
<a class='timestamp' href='#603233'><time timestamp='2018-03-12T00:39:00Z'>00:39</time></a>
&lt;<span class='nick nick-7'> eklitzke</span>&gt;
so it just relies on sha256 of the item in the cache being unique 
<br>
</div>

<div class='talk op-msg' data-timestamp='1520815260' id='603234'>
<a class='timestamp' href='#603234'><time timestamp='2018-03-12T00:41:00Z'>00:41</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it does a few interesting things
<br>
</div>

<div class='talk op-msg' data-timestamp='1520815260' id='603235'>
<a class='timestamp' href='#603235'><time timestamp='2018-03-12T00:41:00Z'>00:41</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
every element can be in 8 different valid locations
<br>
</div>

<div class='talk op-msg' data-timestamp='1520815260' id='603236'>
<a class='timestamp' href='#603236'><time timestamp='2018-03-12T00:41:00Z'>00:41</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and it gets moved around to make space for new ones, unless a cycle forms
<br>
</div>

<div class='talk op-msg' data-timestamp='1520815320' id='603237'>
<a class='timestamp' href='#603237'><time timestamp='2018-03-12T00:42:00Z'>00:42</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and when an item is marked as expired, it it retained in the cache (and findable) but just available for overwriting
<br>
</div>

<div class='talk op-msg' data-timestamp='1520819940' id='603238'>
<a class='timestamp' href='#603238'><time timestamp='2018-03-12T01:59:00Z'>01:59</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] fanquake closed pull request #12672: Consensus: Remove unused dependencies (master...removed-unused-deps) <a href="https://github.com/bitcoin/bitcoin/pull/12672" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/12672</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1520838180' id='603239'>
<a class='timestamp' href='#603239'><time timestamp='2018-03-12T07:03:00Z'>07:03</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] luke-jr opened pull request #12674: RPC: Support addnode onetry without making the connection priviliged (master...rpc_onetry_nonpriv) <a href="https://github.com/bitcoin/bitcoin/pull/12674" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/12674</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1520838960' id='603248'>
<a class='timestamp' href='#603248'><time timestamp='2018-03-12T07:16:00Z'>07:16</time></a>
&lt;<span class='nick nick-7'> eklitzke</span>&gt;
i just wrote some code to dump the utxo database, the compression stuff is wild
<br>
</div>

<div class='talk op-msg' data-timestamp='1520838960' id='603249'>
<a class='timestamp' href='#603249'><time timestamp='2018-03-12T07:16:00Z'>07:16</time></a>
&lt;<span class='nick nick-7'> eklitzke</span>&gt;
<a href="https://gist.github.com/eklitzke/03b1c799408d4bcceca9c57ab1ff8c9f" class="link" target="_blank">https://gist.github.com/eklitzke/03b1c799408d4bcceca9c57ab1ff8c9f</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1520838960' id='603250'>
<a class='timestamp' href='#603250'><time timestamp='2018-03-12T07:16:00Z'>07:16</time></a>
&lt;<span class='nick nick-7'> eklitzke</span>&gt;
i had no idea so much weird stuff went into making the values small
<br>
</div>

<div class='talk op-msg' data-timestamp='1520839140' id='603251'>
<a class='timestamp' href='#603251'><time timestamp='2018-03-12T07:19:00Z'>07:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
eklitzke: it started out as an experiment in seeing how small the utxo set could get
<br>
</div>

<div class='talk op-msg' data-timestamp='1520839140' id='603252'>
<a class='timestamp' href='#603252'><time timestamp='2018-03-12T07:19:00Z'>07:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
and ended up being the actual database format
<br>
</div>

<div class='talk op-msg' data-timestamp='1520839140' id='603253'>
<a class='timestamp' href='#603253'><time timestamp='2018-03-12T07:19:00Z'>07:19</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
look at how the txouts were encoded before per-txout, it close to simiarly crazy
<br>
</div>

<div class='talk op-msg' data-timestamp='1520839200' id='603254'>
<a class='timestamp' href='#603254'><time timestamp='2018-03-12T07:20:00Z'>07:20</time></a>
&lt;<span class='nick nick-7'> eklitzke</span>&gt;
i was originally just trying to get the height of everything in the utxo database, but once i saw the serialization code for amounts i had to add it
<br>
</div>

<div class='talk op-msg' data-timestamp='1520839200' id='603255'>
<a class='timestamp' href='#603255'><time timestamp='2018-03-12T07:20:00Z'>07:20</time></a>
&lt;<span class='nick nick-7'> eklitzke</span>&gt;
very cool
<br>
</div>

<div class='talk op-msg' data-timestamp='1520839200' id='603256'>
<a class='timestamp' href='#603256'><time timestamp='2018-03-12T07:20:00Z'>07:20</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
hah     
<br>
</div>

<div class='talk op-msg' data-timestamp='1520839200' id='603257'>
<a class='timestamp' href='#603257'><time timestamp='2018-03-12T07:20:00Z'>07:20</time></a>
&lt;<span class='nick nick-4'> * sipa</span>&gt;
bows
<br>
</div>

<div class='talk op-msg' data-timestamp='1520839260' id='603258'>
<a class='timestamp' href='#603258'><time timestamp='2018-03-12T07:21:00Z'>07:21</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
in retrospect, it&#x27;s very much overkill
<br>
</div>

<div class='talk op-msg' data-timestamp='1520839380' id='603259'>
<a class='timestamp' href='#603259'><time timestamp='2018-03-12T07:23:00Z'>07:23</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
<a href="https://github.com/bitcoin/bitcoin/blob/v0.14.0/src/coins.h#L22" class="link" target="_blank">https://github.com/bitcoin/bitcoin/blob/v0.14.0/src/coins.h#L22</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1520839920' id='603240'>
<a class='timestamp' href='#603240'><time timestamp='2018-03-12T07:32:00Z'>07:32</time></a>
&lt;<span class='nick nick-7'> eklitzke</span>&gt;
what is the motivatoin for obfuscating values with the obfuscate key in the leveldb databases?
<br>
</div>

<div class='talk op-msg' data-timestamp='1520839980' id='603241'>
<a class='timestamp' href='#603241'><time timestamp='2018-03-12T07:33:00Z'>07:33</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
av software :(
<br>
</div>

<div class='talk op-msg' data-timestamp='1520839980' id='603260'>
<a class='timestamp' href='#603260'><time timestamp='2018-03-12T07:33:00Z'>07:33</time></a>
&lt;<span class='nick nick-11'> kallewoof</span>&gt;
sipa: rumor has it overkill is your middle name
<br>
</div>

<div class='talk op-msg' data-timestamp='1520840040' id='603242'>
<a class='timestamp' href='#603242'><time timestamp='2018-03-12T07:34:00Z'>07:34</time></a>
&lt;<span class='nick nick-7'> eklitzke</span>&gt;
strange
<br>
</div>

<div class='talk op-msg' data-timestamp='1520840220' id='603243'>
<a class='timestamp' href='#603243'><time timestamp='2018-03-12T07:37:00Z'>07:37</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
eklitzke: some transactions in the blockchain contain virus signatures which AVs will catch and then remove from the chainstate database thus corrupting it. So obfuscating the data in the db prevents that from happening
<br>
</div>

<div class='talk op-msg' data-timestamp='1520840280' id='603244'>
<a class='timestamp' href='#603244'><time timestamp='2018-03-12T07:38:00Z'>07:38</time></a>
&lt;<span class='nick nick-7'> eklitzke</span>&gt;
huh, that is really fascinating
<br>
</div>

<div class='talk op-msg' data-timestamp='1520840340' id='603245'>
<a class='timestamp' href='#603245'><time timestamp='2018-03-12T07:39:00Z'>07:39</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
AVs are routinely a source of problems with running core in windows. More recently it&#x27;s been AVs blocking connections to and from port 8333
<br>
</div>

<div class='talk op-msg' data-timestamp='1520840640' id='603246'>
<a class='timestamp' href='#603246'><time timestamp='2018-03-12T07:44:00Z'>07:44</time></a>
&lt;<span class='nick nick-14'> Randolf</span>&gt;
Anti-spyware software is getting more aggressive against anything that looks like it could be doing cryptocurrency mining.  And unfortunately it&#x27;s often classified as Bitcoin Mining Riskware.
<br>
</div>

<div class='talk op-msg' data-timestamp='1520840640' id='603261'>
<a class='timestamp' href='#603261'><time timestamp='2018-03-12T07:44:00Z'>07:44</time></a>
&lt;<span class='nick nick-11'> kallewoof</span>&gt;
I did some time profiling on current master (ran for about 30 mins) and found an oddity. May not be important, but 14.4% of the CPU time (9.48s) was spent in CCoinsViewDB::Upgrade(), in the pcursor-&gt;Seek call at the top (which is used to determine if an upgrade should happen or not).
<br>
</div>

<div class='talk op-msg' data-timestamp='1520840700' id='603247'>
<a class='timestamp' href='#603247'><time timestamp='2018-03-12T07:45:00Z'>07:45</time></a>
&lt;<span class='nick nick-14'> Randolf</span>&gt;
Sadly, many users haven&#x27;t even a clue that it&#x27;s possible to add exceptions into their anti-virus and anti-spyware software&#x27;s configuration.
<br>
</div>

<div class='talk op-msg' data-timestamp='1520840700' id='603262'>
<a class='timestamp' href='#603262'><time timestamp='2018-03-12T07:45:00Z'>07:45</time></a>
&lt;<span class='nick nick-11'> kallewoof</span>&gt;
Also noticed 45.4% of the time is spent in leveldb::. More than main thread (main thread = 32.4%)..
<br>
</div>

<div class='talk op-msg' data-timestamp='1520840940' id='603263'>
<a class='timestamp' href='#603263'><time timestamp='2018-03-12T07:49:00Z'>07:49</time></a>
&lt;<span class='nick nick-7'> eklitzke</span>&gt;
did you filter out the bgthread
<br>
</div>

<div class='talk op-msg' data-timestamp='1520841120' id='603264'>
<a class='timestamp' href='#603264'><time timestamp='2018-03-12T07:52:00Z'>07:52</time></a>
&lt;<span class='nick nick-11'> kallewoof</span>&gt;
eklitzke: No filtering, no.
<br>
</div>

<div class='talk op-msg' data-timestamp='1520841420' id='603265'>
<a class='timestamp' href='#603265'><time timestamp='2018-03-12T07:57:00Z'>07:57</time></a>
&lt;<span class='nick nick-7'> eklitzke</span>&gt;
leveldb creates a background worker thread (you&#x27;ll see BGThread in the stack trace) which tends to use a lot of cpu/disk time
<br>
</div>

<div class='talk op-msg' data-timestamp='1520841420' id='603266'>
<a class='timestamp' href='#603266'><time timestamp='2018-03-12T07:57:00Z'>07:57</time></a>
&lt;<span class='nick nick-7'> eklitzke</span>&gt;
it&#x27;s kind of confusing because it&#x27;s a thread created by leveldb itself, not managed by bitcoin
<br>
</div>

<div class='talk op-msg' data-timestamp='1520841840' id='603267'>
<a class='timestamp' href='#603267'><time timestamp='2018-03-12T08:04:00Z'>08:04</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] kentang8228 opened pull request #12675: litecoin (master...master) <a href="https://github.com/bitcoin/bitcoin/pull/12675" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/12675</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1520841840' id='603268'>
<a class='timestamp' href='#603268'><time timestamp='2018-03-12T08:04:00Z'>08:04</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] fanquake closed pull request #12675: litecoin (master...master) <a href="https://github.com/bitcoin/bitcoin/pull/12675" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/12675</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1520842140' id='603269'>
<a class='timestamp' href='#603269'><time timestamp='2018-03-12T08:09:00Z'>08:09</time></a>
&lt;<span class='nick nick-11'> kallewoof</span>&gt;
Yep, that&#x27;s the one using 45.4%.
<br>
</div>

<div class='talk op-msg' data-timestamp='1520843160' id='603270'>
<a class='timestamp' href='#603270'><time timestamp='2018-03-12T08:26:00Z'>08:26</time></a>
&lt;<span class='nick nick-11'> kallewoof</span>&gt;
Hum. I tried adding snappy support and leveldb dropped a ton. Still need to verify results, but looks pretty interesting.
<br>
</div>

<div class='talk op-msg' data-timestamp='1520843280' id='603271'>
<a class='timestamp' href='#603271'><time timestamp='2018-03-12T08:28:00Z'>08:28</time></a>
&lt;<span class='nick nick-7'> eklitzke</span>&gt;
what platform?
<br>
</div>

<div class='talk op-msg' data-timestamp='1520843340' id='603272'>
<a class='timestamp' href='#603272'><time timestamp='2018-03-12T08:29:00Z'>08:29</time></a>
&lt;<span class='nick nick-7'> eklitzke</span>&gt;
there is something broken with how we&#x27;re using the block cache right now (which is actually affected by whether you have snappy compression on or not), waiting to get my max_open_files change in before sending out that pr
<br>
</div>

<div class='talk op-msg' data-timestamp='1520843460' id='603273'>
<a class='timestamp' href='#603273'><time timestamp='2018-03-12T08:31:00Z'>08:31</time></a>
&lt;<span class='nick nick-7'> eklitzke</span>&gt;
in general though i would not expect snappy compression to help since the keys and values are already compressed
<br>
</div>

<div class='talk op-msg' data-timestamp='1520844060' id='603274'>
<a class='timestamp' href='#603274'><time timestamp='2018-03-12T08:41:00Z'>08:41</time></a>
&lt;<span class='nick nick-11'> kallewoof</span>&gt;
eklitzke: Yeah, I&#x27;m seeing roughly the same performance now. Good point on already compressed.
<br>
</div>

<div class='talk op-msg' data-timestamp='1520844120' id='603275'>
<a class='timestamp' href='#603275'><time timestamp='2018-03-12T08:42:00Z'>08:42</time></a>
&lt;<span class='nick nick-11'> kallewoof</span>&gt;
Actually I think performance dropped a bit with snappy, but very imprecise measurement (total CPU time over total time for separate runs).
<br>
</div>

<div class='talk op-msg' data-timestamp='1520848560' id='603276'>
<a class='timestamp' href='#603276'><time timestamp='2018-03-12T09:56:00Z'>09:56</time></a>
&lt;<span class='nick nick-1'> George_e30</span>&gt;
Hello everyone!
<br>
</div>

<div class='talk op-msg' data-timestamp='1520848560' id='603277'>
<a class='timestamp' href='#603277'><time timestamp='2018-03-12T09:56:00Z'>09:56</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] dexX7 opened pull request #12676: Show &quot;replaceable&quot; flag, when decoding raw transactions (master...rpc-raw-replaceable-flag) <a href="https://github.com/bitcoin/bitcoin/pull/12676" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/12676</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1520848680' id='603278'>
<a class='timestamp' href='#603278'><time timestamp='2018-03-12T09:58:00Z'>09:58</time></a>
&lt;<span class='nick nick-1'> George_e30</span>&gt;
I install b2x-node, connect to it with stratum, and try to mine. But I have error in log:
<br>
</div>

<div class='talk op-msg' data-timestamp='1520848740' id='603279'>
<a class='timestamp' href='#603279'><time timestamp='2018-03-12T09:59:00Z'>09:59</time></a>
&lt;<span class='nick nick-1'> George_e30</span>&gt;
ERROR Bitcoin2x Block decode failed 10:23:23: <b>***</b> REJECTED :( Bitcoin2x block 543500 1 txs 
<br>
</div>

<div class='talk op-msg' data-timestamp='1520848800' id='603280'>
<a class='timestamp' href='#603280'><time timestamp='2018-03-12T10:00:00Z'>10:00</time></a>
&lt;<span class='nick nick-1'> George_e30</span>&gt;
what`s wrong am I do? maybe something in .conf?
<br>
</div>

<div class='talk op-msg' data-timestamp='1520848800' id='603281'>
<a class='timestamp' href='#603281'><time timestamp='2018-03-12T10:00:00Z'>10:00</time></a>
&lt;<span class='nick nick-1'> George_e30</span>&gt;
P.S. sorry for my English
<br>
</div>

<div class='talk op-msg' data-timestamp='1520848920' id='603282'>
<a class='timestamp' href='#603282'><time timestamp='2018-03-12T10:02:00Z'>10:02</time></a>
&lt;<span class='nick nick-1'> George_e30</span>&gt;
and now they contined:
<br>
</div>

<div class='talk op-msg' data-timestamp='1520848920' id='603283'>
<a class='timestamp' href='#603283'><time timestamp='2018-03-12T10:02:00Z'>10:02</time></a>
&lt;<span class='nick nick-1'> George_e30</span>&gt;
10:53:29: <b>***</b> REJECTED :( Bitcoin2x block 543520 7 txs 2018-03-12 10:53:29: REJECTED B2X block 543520 10:53:31: ERROR Bitcoin2x Block decode failed 10:53:31: <b>***</b> REJECTED :( Bitcoin2x block 543520 7 txs 2018-03-12 10:53:31: REJECTED B2X block 543520
<br>
</div>

<div class='talk op-msg' data-timestamp='1520849040' id='603284'>
<a class='timestamp' href='#603284'><time timestamp='2018-03-12T10:04:00Z'>10:04</time></a>
&lt;<span class='nick nick-10'> ctrlbreak</span>&gt;
Hey George, this may not be the blockchain you are looking for.  The Bitcoin mainnet is currently at block 513162.
<br>
</div>

<div class='talk op-msg' data-timestamp='1520849580' id='603285'>
<a class='timestamp' href='#603285'><time timestamp='2018-03-12T10:13:00Z'>10:13</time></a>
&lt;<span class='nick nick-1'> George_e30</span>&gt;
not bitcoin, bitcoin2x
<br>
</div>

<div class='talk op-msg' data-timestamp='1520849700' id='603286'>
<a class='timestamp' href='#603286'><time timestamp='2018-03-12T10:15:00Z'>10:15</time></a>
&lt;<span class='nick nick-9'> kinlo</span>&gt;
George_e30: wrong channel, this channel is only for bitcoin core, not anything else
<br>
</div>

<div class='talk op-msg' data-timestamp='1520853720' id='603287'>
<a class='timestamp' href='#603287'><time timestamp='2018-03-12T11:22:00Z'>11:22</time></a>
&lt;<span class='nick nick-2'> AShoker</span>&gt;
Hi guys, any pointers to a reply to this blog post? <a href="https://medium.com/@jonaldfyookball/mathematical-proof-that-the-lightning-network-cannot-be-a-decentralized-bitcoin-scaling-solution-1b8147650800" class="link" target="_blank">https://medium.com/@jonaldfyookball/mathematical-proof-that-the-lightning-network-cannot-be-a-decentralized-bitcoin-scaling-solution-1b8147650800</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1520859840' id='603288'>
<a class='timestamp' href='#603288'><time timestamp='2018-03-12T13:04:00Z'>13:04</time></a>
&lt;<span class='nick nick-11'> dongcarl</span>&gt;
AShoker: This is a dev channel
<br>
</div>

<div class='talk op-msg' data-timestamp='1520862360' id='603289'>
<a class='timestamp' href='#603289'><time timestamp='2018-03-12T13:46:00Z'>13:46</time></a>
&lt;<span class='nick nick-6'> contrapumpkin</span>&gt;
launching 0.16.0 for the first time (upgrading from 0.15.1) and it thinks for a while then shows a scary error that a fatal error occurs and dies. The log says &quot;ReadBlockFromDisk: Deserialize or I/O error -CAutoFile::read:fread failed: unspecified iostream_category error at CBlockDiskPos(nFile=1207, npos=133025664)&quot;. I assume this just means some of my block data is somehow corrupt? Can I pass in a magic flag to reuse as
<br>
</div>

<div class='talk op-msg' data-timestamp='1520862360' id='603290'>
<a class='timestamp' href='#603290'><time timestamp='2018-03-12T13:46:00Z'>13:46</time></a>
&lt;<span class='nick nick-6'> contrapumpkin</span>&gt;
 much of it as possible while redownloading only the broken stuff?
<br>
</div>

<div class='talk op-msg' data-timestamp='1520862540' id='603291'>
<a class='timestamp' href='#603291'><time timestamp='2018-03-12T13:49:00Z'>13:49</time></a>
&lt;<span class='nick nick-6'> contrapumpkin</span>&gt;
right now it just refuses to do anything at all and quits after displaying the fatal error
<br>
</div>

<div class='talk op-msg' data-timestamp='1520863380' id='603292'>
<a class='timestamp' href='#603292'><time timestamp='2018-03-12T14:03:00Z'>14:03</time></a>
&lt;<span class='nick nick-7'> esotericnonsense</span>&gt;
you can use -reindex and that should use as much as possible of the non-corrupt data I believe. I&#x27;m not sure there&#x27;s a more efficient way to do it
<br>
</div>

<div class='talk op-msg' data-timestamp='1520863440' id='603293'>
<a class='timestamp' href='#603293'><time timestamp='2018-03-12T14:04:00Z'>14:04</time></a>
&lt;<span class='nick nick-7'> esotericnonsense</span>&gt;
whether there&#x27;s8
<br>
</div>

<div class='talk op-msg' data-timestamp='1520874360' id='603294'>
<a class='timestamp' href='#603294'><time timestamp='2018-03-12T17:06:00Z'>17:06</time></a>
&lt;<span class='nick nick-7'> eklitzke</span>&gt;
by my math 0.4% of utxos are 1 day old (or newer), does that sound approximately right? just trying to sanity check my results
<br>
</div>

<div class='talk op-msg' data-timestamp='1520874540' id='603295'>
<a class='timestamp' href='#603295'><time timestamp='2018-03-12T17:09:00Z'>17:09</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that seems plausible
<br>
</div>

<div class='talk op-msg' data-timestamp='1520874540' id='603296'>
<a class='timestamp' href='#603296'><time timestamp='2018-03-12T17:09:00Z'>17:09</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
that&#x27;s around 200k UTXOs
<br>
</div>

<div class='talk op-msg' data-timestamp='1520874600' id='603297'>
<a class='timestamp' href='#603297'><time timestamp='2018-03-12T17:10:00Z'>17:10</time></a>
&lt;<span class='nick nick-7'> eklitzke</span>&gt;
yeah that seams reasonable given 144 blocks per day
<br>
</div>

<div class='talk op-msg' data-timestamp='1520874600' id='603298'>
<a class='timestamp' href='#603298'><time timestamp='2018-03-12T17:10:00Z'>17:10</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
or 1400 utxos per block
<br>
</div>

<div class='talk op-msg' data-timestamp='1520874660' id='603299'>
<a class='timestamp' href='#603299'><time timestamp='2018-03-12T17:11:00Z'>17:11</time></a>
&lt;<span class='nick nick-7'> eklitzke</span>&gt;
i&#x27;m trying to figure out for a new utxo, the probability distribution of it being spent within N blocks
<br>
</div>

<div class='talk op-msg' data-timestamp='1520876340' id='603300'>
<a class='timestamp' href='#603300'><time timestamp='2018-03-12T17:39:00Z'>17:39</time></a>
&lt;<span class='nick nick-13'> jimpo</span>&gt;
eklitzke: Over what range of UTXOS (like UTXOs created since when)?
<br>
</div>

<div class='talk op-msg' data-timestamp='1520876340' id='603301'>
<a class='timestamp' href='#603301'><time timestamp='2018-03-12T17:39:00Z'>17:39</time></a>
&lt;<span class='nick nick-13'> jimpo</span>&gt;
I can pull that for you if you need
<br>
</div>

<div class='talk op-msg' data-timestamp='1520876580' id='603302'>
<a class='timestamp' href='#603302'><time timestamp='2018-03-12T17:43:00Z'>17:43</time></a>
&lt;<span class='nick nick-7'> eklitzke</span>&gt;
i wrote a python script that dumped my chainstate directory, this is what i got <a href="https://monad.io/height-pdf.png" class="link" target="_blank">https://monad.io/height-pdf.png</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1520876580' id='603303'>
<a class='timestamp' href='#603303'><time timestamp='2018-03-12T17:43:00Z'>17:43</time></a>
&lt;<span class='nick nick-7'> eklitzke</span>&gt;
which i think is sufficient
<br>
</div>

<div class='talk op-msg' data-timestamp='1520876580' id='603304'>
<a class='timestamp' href='#603304'><time timestamp='2018-03-12T17:43:00Z'>17:43</time></a>
&lt;<span class='nick nick-7'> eklitzke</span>&gt;
that&#x27;s the probability distribution for any utxo being at a given chain height
<br>
</div>

<div class='talk op-msg' data-timestamp='1520876640' id='603305'>
<a class='timestamp' href='#603305'><time timestamp='2018-03-12T17:44:00Z'>17:44</time></a>
&lt;<span class='nick nick-7'> eklitzke</span>&gt;
it&#x27;s cool i can dump the utxo set in a minute or two
<br>
</div>

<div class='talk op-msg' data-timestamp='1520876700' id='603306'>
<a class='timestamp' href='#603306'><time timestamp='2018-03-12T17:45:00Z'>17:45</time></a>
&lt;<span class='nick nick-13'> jimpo</span>&gt;
neat. y-axis is probability that UTXO is spent within a day?
<br>
</div>

<div class='talk op-msg' data-timestamp='1520876760' id='603307'>
<a class='timestamp' href='#603307'><time timestamp='2018-03-12T17:46:00Z'>17:46</time></a>
&lt;<span class='nick nick-7'> eklitzke</span>&gt;
it&#x27;s the proportion of utxos at that chain height
<br>
</div>

<div class='talk op-msg' data-timestamp='1520876820' id='603308'>
<a class='timestamp' href='#603308'><time timestamp='2018-03-12T17:47:00Z'>17:47</time></a>
&lt;<span class='nick nick-13'> jimpo</span>&gt;
er, right
<br>
</div>

<div class='talk op-msg' data-timestamp='1520877660' id='603309'>
<a class='timestamp' href='#603309'><time timestamp='2018-03-12T18:01:00Z'>18:01</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] luke-jr opened pull request #12677: RPC: Add ancestor{count,size,fees} to listunspent output (master...listunspent_ancestorinfo) <a href="https://github.com/bitcoin/bitcoin/pull/12677" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/12677</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1520879520' id='603310'>
<a class='timestamp' href='#603310'><time timestamp='2018-03-12T18:32:00Z'>18:32</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
&lt;sipa&gt; sdaftuar: seems my benchmark was off, and the jacobi symbol implementation in GMP takes 2us rather than 0.2us
<br>
</div>

<div class='talk op-msg' data-timestamp='1520879520' id='603311'>
<a class='timestamp' href='#603311'><time timestamp='2018-03-12T18:32:00Z'>18:32</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
:(     
<br>
</div>

<div class='talk op-msg' data-timestamp='1520879640' id='603312'>
<a class='timestamp' href='#603312'><time timestamp='2018-03-12T18:34:00Z'>18:34</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
sipa: i guess you&#x27;re ready to bail on EC for set hashing, then?
<br>
</div>

<div class='talk op-msg' data-timestamp='1520879760' id='603313'>
<a class='timestamp' href='#603313'><time timestamp='2018-03-12T18:36:00Z'>18:36</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
oh, I guess so if ECMH == elliptic curve multi-set hash
<br>
</div>

<div class='talk op-msg' data-timestamp='1520880660' id='603314'>
<a class='timestamp' href='#603314'><time timestamp='2018-03-12T18:51:00Z'>18:51</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
cfields: well 9.3us isn&#x27;t horrible
<br>
</div>

<div class='talk op-msg' data-timestamp='1520880780' id='603315'>
<a class='timestamp' href='#603315'><time timestamp='2018-03-12T18:53:00Z'>18:53</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
it means maybe a 20-30% CPU increase overall for full validation, though
<br>
</div>

<div class='talk op-msg' data-timestamp='1520881020' id='603316'>
<a class='timestamp' href='#603316'><time timestamp='2018-03-12T18:57:00Z'>18:57</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
sipa: is it the case that gmp&#x27;s jacobi impl isn&#x27;t as far away from others as you had expected? Or would it still be substantially worse if we rolled our own?
<br>
</div>

<div class='talk op-msg' data-timestamp='1520881020' id='603317'>
<a class='timestamp' href='#603317'><time timestamp='2018-03-12T18:57:00Z'>18:57</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
cfields: so, there are two ways of doing hashing onto curves
<br>
</div>

<div class='talk op-msg' data-timestamp='1520881140' id='603318'>
<a class='timestamp' href='#603318'><time timestamp='2018-03-12T18:59:00Z'>18:59</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
A: do { x = generate 32 bytes; compute y=sqrt(x^3+7); if it exists return (x,y); }
<br>
</div>

<div class='talk op-msg' data-timestamp='1520881140' id='603319'>
<a class='timestamp' href='#603319'><time timestamp='2018-03-12T18:59:00Z'>18:59</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
B: do { x = generate 32 bytes; compute jacobi(x^3,7); if it is 1, return (x, sqrt(x^3+7)); }
<br>
</div>

<div class='talk op-msg' data-timestamp='1520881200' id='603320'>
<a class='timestamp' href='#603320'><time timestamp='2018-03-12T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
given that around 50% of x values are acceptable, you on average need 2 iterations
<br>
</div>

<div class='talk op-msg' data-timestamp='1520881200' id='603321'>
<a class='timestamp' href='#603321'><time timestamp='2018-03-12T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
so method A does 2 sqrts, method B does 2 jacobis + 1 sqrt
<br>
</div>

<div class='talk op-msg' data-timestamp='1520881200' id='603322'>
<a class='timestamp' href='#603322'><time timestamp='2018-03-12T19:00:00Z'>19:00</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
in other words, B is better than A when jacobi is more than 2x as fast as a sqrt
<br>
</div>

<div class='talk op-msg' data-timestamp='1520881260' id='603323'>
<a class='timestamp' href='#603323'><time timestamp='2018-03-12T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
ok     
<br>
</div>

<div class='talk op-msg' data-timestamp='1520881260' id='603324'>
<a class='timestamp' href='#603324'><time timestamp='2018-03-12T19:01:00Z'>19:01</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
with sqrt=5us and jacobi=0.2us, B was clearly worth it
<br>
</div>

<div class='talk op-msg' data-timestamp='1520881320' id='603325'>
<a class='timestamp' href='#603325'><time timestamp='2018-03-12T19:02:00Z'>19:02</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but it seems that was wrong, and gmp&#x27;s jacobi is more like 2us
<br>
</div>

<div class='talk op-msg' data-timestamp='1520881320' id='603326'>
<a class='timestamp' href='#603326'><time timestamp='2018-03-12T19:02:00Z'>19:02</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
ok, i&#x27;m with you now. thanks.
<br>
</div>

<div class='talk op-msg' data-timestamp='1520881320' id='603327'>
<a class='timestamp' href='#603327'><time timestamp='2018-03-12T19:02:00Z'>19:02</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
however, with gmp not being as crazy fast as i believed, it may be feasible to write a jacobi implementation that is faster than GMP
<br>
</div>

<div class='talk op-msg' data-timestamp='1520881320' id='603328'>
<a class='timestamp' href='#603328'><time timestamp='2018-03-12T19:02:00Z'>19:02</time></a>
&lt;<span class='nick nick-11'> bitcoin-git</span>&gt;
[bitcoin] vasild opened pull request #12678: Scripts and tools: Fix a few compilation issues with Clang 7 and -Werror (master...master-compilation-fixes-with-clang7-werror) <a href="https://github.com/bitcoin/bitcoin/pull/12678" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/12678</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1520881320' id='603329'>
<a class='timestamp' href='#603329'><time timestamp='2018-03-12T19:02:00Z'>19:02</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
we had previous given up on that, as 0.2us seemed impossible to beat
<br>
</div>

<div class='talk op-msg' data-timestamp='1520881380' id='603330'>
<a class='timestamp' href='#603330'><time timestamp='2018-03-12T19:03:00Z'>19:03</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
heh yes, i see now why it was written off so easily
<br>
</div>

<div class='talk op-msg' data-timestamp='1520881380' id='603331'>
<a class='timestamp' href='#603331'><time timestamp='2018-03-12T19:03:00Z'>19:03</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
but it is diminishing returns... we&#x27;re not going to beat 6us or so overall
<br>
</div>

<div class='talk op-msg' data-timestamp='1520881440' id='603332'>
<a class='timestamp' href='#603332'><time timestamp='2018-03-12T19:04:00Z'>19:04</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
right
<br>
</div>

<div class='talk op-msg' data-timestamp='1520881500' id='603333'>
<a class='timestamp' href='#603333'><time timestamp='2018-03-12T19:05:00Z'>19:05</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
is this the WIP doc about gmp&#x27;s jacobi symbol impl that you mentioned? <a href="https://gmplib.org/list-archives/gmp-bugs/attachments/20170821/bfac90c6/attachment-0001.pdf" class="link" target="_blank">https://gmplib.org/list-archives/gmp-bugs/attachments/20170821/bfac90c6/attachment-0001.pdf</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1520881500' id='603334'>
<a class='timestamp' href='#603334'><time timestamp='2018-03-12T19:05:00Z'>19:05</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
possibly
<br>
</div>

<div class='talk op-msg' data-timestamp='1520881560' id='603335'>
<a class='timestamp' href='#603335'><time timestamp='2018-03-12T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
muhash would overall run in maybe 3-4us per update
<br>
</div>

<div class='talk op-msg' data-timestamp='1520881560' id='603336'>
<a class='timestamp' href='#603336'><time timestamp='2018-03-12T19:06:00Z'>19:06</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
so it&#x27;s only a small constant factor difference
<br>
</div>

<div class='talk op-msg' data-timestamp='1520881680' id='603337'>
<a class='timestamp' href='#603337'><time timestamp='2018-03-12T19:08:00Z'>19:08</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
ah, i figured it was more substantial than that. ok, so a ~2x slowdown is reasonable to consider.
<br>
</div>

<div class='talk op-msg' data-timestamp='1520881740' id='603338'>
<a class='timestamp' href='#603338'><time timestamp='2018-03-12T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-14'> intcat</span>&gt;
(not sure if correct channel to ask) i am trying to set up bitcoin core gitian build for 0.16.0, but dependency resolution fails on expat; it attempts to download from <a href="https://bitcoincore.org/depends-sources" class="link" target="_blank">https://bitcoincore.org/depends-sources</a> but gets 404
<br>
</div>

<div class='talk op-msg' data-timestamp='1520881740' id='603339'>
<a class='timestamp' href='#603339'><time timestamp='2018-03-12T19:09:00Z'>19:09</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
intcat: it tries to download from the upstream source first, and only hits bitcoincore.org if that fails. Most likely you don&#x27;t have net access inside your container/vm.
<br>
</div>

<div class='talk op-msg' data-timestamp='1520881800' id='603340'>
<a class='timestamp' href='#603340'><time timestamp='2018-03-12T19:10:00Z'>19:10</time></a>
&lt;<span class='nick nick-14'> intcat</span>&gt;
cfields: actually, yes i do
<br>
</div>

<div class='talk op-msg' data-timestamp='1520881800' id='603341'>
<a class='timestamp' href='#603341'><time timestamp='2018-03-12T19:10:00Z'>19:10</time></a>
&lt;<span class='nick nick-14'> intcat</span>&gt;
a lot of other depends are downloaded correctly before this one
<br>
</div>

<div class='talk op-msg' data-timestamp='1520881800' id='603342'>
<a class='timestamp' href='#603342'><time timestamp='2018-03-12T19:10:00Z'>19:10</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
intcat: sec, let&#x27;s check if upstream is down atm
<br>
</div>

<div class='talk op-msg' data-timestamp='1520881800' id='603343'>
<a class='timestamp' href='#603343'><time timestamp='2018-03-12T19:10:00Z'>19:10</time></a>
&lt;<span class='nick nick-14'> intcat</span>&gt;
i noticed master has a different upstream url than 0.16.0 tag
<br>
</div>

<div class='talk op-msg' data-timestamp='1520881860' id='603344'>
<a class='timestamp' href='#603344'><time timestamp='2018-03-12T19:11:00Z'>19:11</time></a>
&lt;<span class='nick nick-14'> intcat</span>&gt;
sourceforge vs github. and that kind of thing can happen, but it seems that the fallback is failing too
<br>
</div>

<div class='talk op-msg' data-timestamp='1520882820' id='603345'>
<a class='timestamp' href='#603345'><time timestamp='2018-03-12T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
intcat: not sure if it&#x27;s down, but I&#x27;m fixing up the links at bitcoincore.org anyway, since it needed to be done
<br>
</div>

<div class='talk op-msg' data-timestamp='1520882820' id='603346'>
<a class='timestamp' href='#603346'><time timestamp='2018-03-12T19:27:00Z'>19:27</time></a>
&lt;<span class='nick nick-14'> intcat</span>&gt;
:)     
<br>
</div>

<div class='talk op-msg' data-timestamp='1520884740' id='603347'>
<a class='timestamp' href='#603347'><time timestamp='2018-03-12T19:59:00Z'>19:59</time></a>
&lt;<span class='nick nick-14'> intcat</span>&gt;
cfields: seems the container im trying to build in borks on the sourceforge redirect
<br>
</div>

<div class='talk op-msg' data-timestamp='1520884800' id='603348'>
<a class='timestamp' href='#603348'><time timestamp='2018-03-12T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
intcat: not surprising, sf redirects several times
<br>
</div>

<div class='talk op-msg' data-timestamp='1520884800' id='603349'>
<a class='timestamp' href='#603349'><time timestamp='2018-03-12T20:00:00Z'>20:00</time></a>
&lt;<span class='nick nick-14'> intcat</span>&gt;
running the same command on another machine works, though
<br>
</div>

<div class='talk op-msg' data-timestamp='1520884860' id='603350'>
<a class='timestamp' href='#603350'><time timestamp='2018-03-12T20:01:00Z'>20:01</time></a>
&lt;<span class='nick nick-14'> intcat</span>&gt;
but still, would be nice to have working fallback
<br>
</div>

<div class='talk op-msg' data-timestamp='1520885520' id='603351'>
<a class='timestamp' href='#603351'><time timestamp='2018-03-12T20:12:00Z'>20:12</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
I&#x27;m looking at the accounts -&gt; labels PR by ryanofsky: <a href="https://github.com/bitcoin/bitcoin/pull/11536/files#diff-df7d84ff2f53fcb2a0dc15a3a51e55ceR3849" class="link" target="_blank">https://github.com/bitcoin/bitcoin/pull/11536/files#diff-df7d84ff2f53fcb2a0dc15a3a51e55ceR3849</a> 
<br>
</div>

<div class='talk op-msg' data-timestamp='1520885520' id='603352'>
<a class='timestamp' href='#603352'><time timestamp='2018-03-12T20:12:00Z'>20:12</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
I&#x27;m confused what causes &quot;getaccountaddress&quot; to not show up in bitcoin-cli help
<br>
</div>

<div class='talk op-msg' data-timestamp='1520885580' id='603353'>
<a class='timestamp' href='#603353'><time timestamp='2018-03-12T20:13:00Z'>20:13</time></a>
&lt;<span class='nick nick-12'> ryanofsky</span>&gt;
the help code dedups by function pointer, so there are aliases to the same function it is not listed twice
<br>
</div>

<div class='talk op-msg' data-timestamp='1520885640' id='603354'>
<a class='timestamp' href='#603354'><time timestamp='2018-03-12T20:14:00Z'>20:14</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
I figured it had to be something like that. Thanks.
<br>
</div>

<div class='talk op-msg' data-timestamp='1520885700' id='603355'>
<a class='timestamp' href='#603355'><time timestamp='2018-03-12T20:15:00Z'>20:15</time></a>
&lt;<span class='nick nick-12'> ryanofsky</span>&gt;
np, check is here if you&#x27;re curious: <a href="https://github.com/bitcoin/bitcoin/blob/d8d9162f5bad39b2720dd2b2da237c6159e4755f/src/rpc/server.cpp#L179" class="link" target="_blank">https://github.com/bitcoin/bitcoin/blob/d8d9162f5bad39b2720dd2b2da237c6159e4755f/src/rpc/server.cpp#L179</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1520888040' id='603356'>
<a class='timestamp' href='#603356'><time timestamp='2018-03-12T20:54:00Z'>20:54</time></a>
&lt;<span class='nick nick-15'> provoostenator</span>&gt;
ryanofsky how did you rebase this, but it doesn&#x27;t show your name on the commit: <a href="https://github.com/ryanofsky/bitcoin/commit/55c5289acbaa4c3a510527df4e55db20619b47d4" class="link" target="_blank">https://github.com/ryanofsky/bitcoin/commit/55c5289acbaa4c3a510527df4e55db20619b47d4</a>
<br>
</div>

<div class='talk op-msg' data-timestamp='1520888400' id='603357'>
<a class='timestamp' href='#603357'><time timestamp='2018-03-12T21:00:00Z'>21:00</time></a>
&lt;<span class='nick nick-12'> ryanofsky</span>&gt;
not intentional in this case, but cherry-pick with GIT_COMMITTER_NAME set (<a href="https://github.com/ryanofsky/home/blob/df082664c2e45bb27f22fce706002a0971504c74/src/git-pr.sh#L177" class="link" target="_blank">https://github.com/ryanofsky/home/blob/df082664c2e45bb27f22fce706002a0971504c74/src/git-pr.sh#L177</a>)
<br>
</div>

<div class='talk op-msg' data-timestamp='1520897280' id='603358'>
<a class='timestamp' href='#603358'><time timestamp='2018-03-12T23:28:00Z'>23:28</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
In the unit tests, is there a way to test that an assert was hit?
<br>
</div>

<div class='talk op-msg' data-timestamp='1520898420' id='603359'>
<a class='timestamp' href='#603359'><time timestamp='2018-03-12T23:47:00Z'>23:47</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
intcat: should be good now
<br>
</div>

<div class='talk op-msg' data-timestamp='1520898420' id='603360'>
<a class='timestamp' href='#603360'><time timestamp='2018-03-12T23:47:00Z'>23:47</time></a>
&lt;<span class='nick nick-3'> meshcollider</span>&gt;
achow101: I don&#x27;t think so, I think asserts aren&#x27;t supposed to be hit at all in theory ;)
<br>
</div>

<div class='talk op-msg' data-timestamp='1520898480' id='603361'>
<a class='timestamp' href='#603361'><time timestamp='2018-03-12T23:48:00Z'>23:48</time></a>
&lt;<span class='nick nick-14'> intcat</span>&gt;
cfields: <a href="https://bitcoincore.org/depends-sources/expat-2.2.5.tar.bz2" class="link" target="_blank">https://bitcoincore.org/depends-sources/expat-2.2.5.tar.bz2</a> works :)
<br>
</div>

<div class='talk op-msg' data-timestamp='1520898480' id='603362'>
<a class='timestamp' href='#603362'><time timestamp='2018-03-12T23:48:00Z'>23:48</time></a>
&lt;<span class='nick nick-14'> intcat</span>&gt;
<a href="https://bitcoincore.org/depends-sources/expat-2.2.1.tar.bz2" class="link" target="_blank">https://bitcoincore.org/depends-sources/expat-2.2.1.tar.bz2</a> unfortunately doesn&#x27;t though, so my v0.16.0 build will still fail
<br>
</div>

<div class='talk op-msg' data-timestamp='1520898480' id='603363'>
<a class='timestamp' href='#603363'><time timestamp='2018-03-12T23:48:00Z'>23:48</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
meshcollider: right. achow101 relying on catching an assert implies that it has side-effects in code.
<br>
</div>

<div class='talk op-msg' data-timestamp='1520898540' id='603364'>
<a class='timestamp' href='#603364'><time timestamp='2018-03-12T23:49:00Z'>23:49</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
intcat: sec, will do a one-time sync of 0.16.
<br>
</div>

<div class='talk op-msg' data-timestamp='1520898540' id='603365'>
<a class='timestamp' href='#603365'><time timestamp='2018-03-12T23:49:00Z'>23:49</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
cfields: meshcollider: I got my logic backwards
<br>
</div>

<div class='talk op-msg' data-timestamp='1520898540' id='603366'>
<a class='timestamp' href='#603366'><time timestamp='2018-03-12T23:49:00Z'>23:49</time></a>
&lt;<span class='nick nick-1'> achow101</span>&gt;
I don&#x27;t want it to assert, but to make sure my test works, I need to make sure the assert was hit in the failure case
<br>
</div>

<div class='talk op-msg' data-timestamp='1520898600' id='603367'>
<a class='timestamp' href='#603367'><time timestamp='2018-03-12T23:50:00Z'>23:50</time></a>
&lt;<span class='nick nick-13'> sipa</span>&gt;
achow101: you can replace them with an exception (some of the utxo logic throw std::logic_error for this reason)
<br>
</div>

<div class='talk op-msg' data-timestamp='1520898660' id='603368'>
<a class='timestamp' href='#603368'><time timestamp='2018-03-12T23:51:00Z'>23:51</time></a>
&lt;<span class='nick nick-3'> meshcollider</span>&gt;
yeah boost can check for exceptions being thrown, with the likes of BOOST_CHECK_THROW. Just not asserts
<br>
</div>

<div class='talk op-msg' data-timestamp='1520898840' id='603369'>
<a class='timestamp' href='#603369'><time timestamp='2018-03-12T23:54:00Z'>23:54</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
intcat: done
<br>
</div>

<div class='talk op-msg' data-timestamp='1520898840' id='603370'>
<a class='timestamp' href='#603370'><time timestamp='2018-03-12T23:54:00Z'>23:54</time></a>
&lt;<span class='nick nick-14'> intcat</span>&gt;
cfields: many thanks
<br>
</div>

<div class='talk op-msg' data-timestamp='1520898840' id='603371'>
<a class='timestamp' href='#603371'><time timestamp='2018-03-12T23:54:00Z'>23:54</time></a>
&lt;<span class='nick nick-13'> cfields</span>&gt;
intcat: np, thanks for the reminder. I&#x27;ve been meaning to fix the bridge for months.
<br>
</div>

</div>
</section>

</body>
</html>
